From shawn.miller at duke.edu  Fri Jun  1 15:16:41 2012
From: shawn.miller at duke.edu (Shawn Miller)
Date: Fri, 1 Jun 2012 15:16:41 +0000
Subject: [wp-edu] Making media library files private
Message-ID: <ECD377BB-8C7A-45A6-8290-3186E68380D7@duke.edu>

Not sure if this is helpful - but we've been recommending that people use Sakai for files that need to be truly private (as a stopgap measure for now anyway). At Duke, we use a homegrown group management tool called Toolkits to add course rosters to WordPress sites, so the users in a Sakai course are the same users in a WordPress site. They just end up having to login via Shib when they want to access the Sakai-restricted content.

***********************
Shawn J. Miller
Academic Technology Consultant
Center for Instructional Technology

http://cit.duke.edu/about/staff/miller/
shawn.miller at duke.edu
http://twitter.com/shawnj55 or @shawnj55


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.automattic.com/pipermail/wp-edu/attachments/20120601/6c19914f/attachment.htm>

From jeffvand at unc.edu  Fri Jun  1 16:02:29 2012
From: jeffvand at unc.edu (VanDrimmelen, Jeff)
Date: Fri, 1 Jun 2012 16:02:29 +0000
Subject: [wp-edu] Making media library files private
In-Reply-To: <ECD377BB-8C7A-45A6-8290-3186E68380D7@duke.edu>
References: <ECD377BB-8C7A-45A6-8290-3186E68380D7@duke.edu>
Message-ID: <AE8BE2E24729AE45A3B4448BAEA6990018D9A847@ITS-MSXMBS3M.ad.unc.edu>

Thanks for this Shawn.  I hadn't thought of that. That might work for us too.

Long term I think we are moving toward using PermitPress (http://permitpress.com) for this and other membership/group solutions.  PermitPress was developed by the same guy that made RoleScoper, but it is much more powerful.  It is a new product, but has a good community forming.  An update that is due out soon will protect media attached to content items in the same way that you protect the item.  Very nice.  That way it is all in wordpress and easily managed by us and our users.

Thanks for all the thoughts and suggestions.  This (roles and group management) is a really a big thing that I think we are all so close to figuring out. :)  As an aside we have a large site with lots of sub-groups that need their own rights and we are going to manage it all through wordpress.  Exciting times. :)

~Jeff

From: wp-edu-bounces at lists.automattic.com [mailto:wp-edu-bounces at lists.automattic.com] On Behalf Of Shawn Miller
Sent: Friday, June 01, 2012 10:17 AM
To: wp-edu at lists.automattic.com
Subject: Re: [wp-edu] Making media library files private

Not sure if this is helpful - but we've been recommending that people use Sakai for files that need to be truly private (as a stopgap measure for now anyway). At Duke, we use a homegrown group management tool called Toolkits to add course rosters to WordPress sites, so the users in a Sakai course are the same users in a WordPress site. They just end up having to login via Shib when they want to access the Sakai-restricted content.

***********************
Shawn J. Miller
Academic Technology Consultant
Center for Instructional Technology

http://cit.duke.edu/about/staff/miller/
shawn.miller at duke.edu<mailto:shawn.miller at duke.edu>
http://twitter.com/shawnj55 or @shawnj55

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.automattic.com/pipermail/wp-edu/attachments/20120601/200496d1/attachment.htm>

From dkwhisle at uncc.edu  Fri Jun  1 16:24:21 2012
From: dkwhisle at uncc.edu (Whisler, Dave)
Date: Fri, 1 Jun 2012 16:24:21 +0000
Subject: [wp-edu] Making media library files private
In-Reply-To: <AE8BE2E24729AE45A3B4448BAEA6990018D9A847@ITS-MSXMBS3M.ad.unc.edu>
References: <ECD377BB-8C7A-45A6-8290-3186E68380D7@duke.edu>
	<AE8BE2E24729AE45A3B4448BAEA6990018D9A847@ITS-MSXMBS3M.ad.unc.edu>
Message-ID: <469C92EC338A114C995BE4B8A86743291E2D13@RPITSEXMS3.its.uncc.edu>

I think you meant:   http://presspermit.com/

Dave

From: wp-edu-bounces at lists.automattic.com [mailto:wp-edu-bounces at lists.automattic.com] On Behalf Of VanDrimmelen, Jeff
Sent: Friday, June 01, 2012 12:02 PM
To: wp-edu at lists.automattic.com
Subject: Re: [wp-edu] Making media library files private

Thanks for this Shawn.  I hadn't thought of that. That might work for us too.

Long term I think we are moving toward using PermitPress (http://permitpress.com) for this and other membership/group solutions.  PermitPress was developed by the same guy that made RoleScoper, but it is much more powerful.  It is a new product, but has a good community forming.  An update that is due out soon will protect media attached to content items in the same way that you protect the item.  Very nice.  That way it is all in wordpress and easily managed by us and our users.

Thanks for all the thoughts and suggestions.  This (roles and group management) is a really a big thing that I think we are all so close to figuring out. :)  As an aside we have a large site with lots of sub-groups that need their own rights and we are going to manage it all through wordpress.  Exciting times. :)

~Jeff

From: wp-edu-bounces at lists.automattic.com<mailto:wp-edu-bounces at lists.automattic.com> [mailto:wp-edu-bounces at lists.automattic.com]<mailto:[mailto:wp-edu-bounces at lists.automattic.com]> On Behalf Of Shawn Miller
Sent: Friday, June 01, 2012 10:17 AM
To: wp-edu at lists.automattic.com<mailto:wp-edu at lists.automattic.com>
Subject: Re: [wp-edu] Making media library files private

Not sure if this is helpful - but we've been recommending that people use Sakai for files that need to be truly private (as a stopgap measure for now anyway). At Duke, we use a homegrown group management tool called Toolkits to add course rosters to WordPress sites, so the users in a Sakai course are the same users in a WordPress site. They just end up having to login via Shib when they want to access the Sakai-restricted content.

***********************
Shawn J. Miller
Academic Technology Consultant
Center for Instructional Technology

http://cit.duke.edu/about/staff/miller/
shawn.miller at duke.edu<mailto:shawn.miller at duke.edu>
http://twitter.com/shawnj55 or @shawnj55

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.automattic.com/pipermail/wp-edu/attachments/20120601/e9b959c1/attachment-0001.htm>

From jeffvand at unc.edu  Fri Jun  1 16:26:41 2012
From: jeffvand at unc.edu (VanDrimmelen, Jeff)
Date: Fri, 1 Jun 2012 16:26:41 +0000
Subject: [wp-edu] Making media library files private
In-Reply-To: <469C92EC338A114C995BE4B8A86743291E2D13@RPITSEXMS3.its.uncc.edu>
References: <ECD377BB-8C7A-45A6-8290-3186E68380D7@duke.edu>
	<AE8BE2E24729AE45A3B4448BAEA6990018D9A847@ITS-MSXMBS3M.ad.unc.edu>
	<469C92EC338A114C995BE4B8A86743291E2D13@RPITSEXMS3.its.uncc.edu>
Message-ID: <AE8BE2E24729AE45A3B4448BAEA6990018D9A9BB@ITS-MSXMBS3M.ad.unc.edu>

Ah yes... should have checked that one. :)  Thanks.

From: wp-edu-bounces at lists.automattic.com [mailto:wp-edu-bounces at lists.automattic.com] On Behalf Of Whisler, Dave
Sent: Friday, June 01, 2012 11:24 AM
To: 'wp-edu at lists.automattic.com'
Subject: Re: [wp-edu] Making media library files private

I think you meant:   http://presspermit.com/

Dave

From: wp-edu-bounces at lists.automattic.com<mailto:wp-edu-bounces at lists.automattic.com> [mailto:wp-edu-bounces at lists.automattic.com]<mailto:[mailto:wp-edu-bounces at lists.automattic.com]> On Behalf Of VanDrimmelen, Jeff
Sent: Friday, June 01, 2012 12:02 PM
To: wp-edu at lists.automattic.com<mailto:wp-edu at lists.automattic.com>
Subject: Re: [wp-edu] Making media library files private

Thanks for this Shawn.  I hadn't thought of that. That might work for us too.

Long term I think we are moving toward using PermitPress (http://permitpress.com) for this and other membership/group solutions.  PermitPress was developed by the same guy that made RoleScoper, but it is much more powerful.  It is a new product, but has a good community forming.  An update that is due out soon will protect media attached to content items in the same way that you protect the item.  Very nice.  That way it is all in wordpress and easily managed by us and our users.

Thanks for all the thoughts and suggestions.  This (roles and group management) is a really a big thing that I think we are all so close to figuring out. :)  As an aside we have a large site with lots of sub-groups that need their own rights and we are going to manage it all through wordpress.  Exciting times. :)

~Jeff

From: wp-edu-bounces at lists.automattic.com<mailto:wp-edu-bounces at lists.automattic.com> [mailto:wp-edu-bounces at lists.automattic.com]<mailto:[mailto:wp-edu-bounces at lists.automattic.com]> On Behalf Of Shawn Miller
Sent: Friday, June 01, 2012 10:17 AM
To: wp-edu at lists.automattic.com<mailto:wp-edu at lists.automattic.com>
Subject: Re: [wp-edu] Making media library files private

Not sure if this is helpful - but we've been recommending that people use Sakai for files that need to be truly private (as a stopgap measure for now anyway). At Duke, we use a homegrown group management tool called Toolkits to add course rosters to WordPress sites, so the users in a Sakai course are the same users in a WordPress site. They just end up having to login via Shib when they want to access the Sakai-restricted content.

***********************
Shawn J. Miller
Academic Technology Consultant
Center for Instructional Technology

http://cit.duke.edu/about/staff/miller/
shawn.miller at duke.edu<mailto:shawn.miller at duke.edu>
http://twitter.com/shawnj55 or @shawnj55

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.automattic.com/pipermail/wp-edu/attachments/20120601/9872e8be/attachment.htm>

From jcox9 at apps.vcu.edu  Fri Jun  1 19:19:32 2012
From: jcox9 at apps.vcu.edu (Jonathan Cox)
Date: Fri, 1 Jun 2012 15:19:32 -0400
Subject: [wp-edu] Making media library files private
In-Reply-To: <ECD377BB-8C7A-45A6-8290-3186E68380D7@duke.edu>
References: <ECD377BB-8C7A-45A6-8290-3186E68380D7@duke.edu>
Message-ID: <A80CFD86-B365-44B1-BCF2-8A87F4B05643@VCU.EDU>

I belatedly realized I had basically repeated what Mark had already written when he wrote:

"This is correct - our ACL plugin generates .htaccess files for ACL'd media.  However I should point out that this works in our case because we also bypass ms-files.php for serving uploads, and let Apache serve files directly.  If your uploads are coming from ms-files.php (typical behavior), I don't think this approach would work without a new hook in ms-files.php to test access to the file being requested."

There's no hope for there ever being a hook into ms-files.php -- because SHORTINIT gets defined as true, it does a very basic initialization without defining any actions that can be hooked into. So I made a copy of the file that does do a full initialization and put it in my plugin folder. Then I added a field to the Edit Media and Upload Media forms that lets a user pick a predefined rule to use to restrict access to it. '/protected' is then inserted into the guid value for the file between the blog and file paths (not ideal, but I couldn't find a better way). I added

RewriteRule ^([_0-9a-zA-Z-]+/)?protected/(.+) wp-content/plugins/vcu_access_control/protected.php?file=$2 [L]

to the .htaccess file, and added a check to the modified ms-files.php copy (protected.php) for the relevant rule: if the test passes, the file gets delivered; if not, it returns a 401 (could be a 404). You can remove a rule from the uploaded file, and the '/protected' is removed, so it's handled like a normal file. There's a little more to it than that, but that's the gist.

I should add that the impetus for this on our end comes from a number of requests to create access restrictions by LDAP group, university department or affiliation, etc., without requiring that every member of such a group be added as a user to a specific site at any role level. When a file is restricted, a visitor is forced to log in through CAS, and I'm using phpCAS to check these attributes. I had initially set up a version that involved mod_auth_cas, mod_authnz_ldap and location matches, but this way, I don't have to touch the Apache conf files every time someone wants a restricted site -- the site administrator creates the rules, and access should be in sync with a user's latest university attributes. I kind of put the cart before the horse, as I'm just now getting back to the rule creation component of the plugin, but it's working so far with requiring a valid sign-in or any user on a list. 

Jonathan Cox
VCU Webmaster
Technology Services
(804) 827-0067

On Jun 1, 2012, at 11:16 AM, Shawn Miller wrote:

> Not sure if this is helpful - but we've been recommending that people use Sakai for files that need to be truly private (as a stopgap measure for now anyway). At Duke, we use a homegrown group management tool called Toolkits to add course rosters to WordPress sites, so the users in a Sakai course are the same users in a WordPress site. They just end up having to login via Shib when they want to access the Sakai-restricted content.
> 
> ***********************
> Shawn J. Miller
> Academic Technology Consultant
> Center for Instructional Technology
> 
> http://cit.duke.edu/about/staff/miller/
> shawn.miller at duke.edu
> http://twitter.com/shawnj55 or @shawnj55
> 
> 
> _______________________________________________
> wp-edu mailing list
> wp-edu at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-edu

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.automattic.com/pipermail/wp-edu/attachments/20120601/a950e446/attachment.htm>

From jay.collier at thecompass.com  Fri Jun  1 19:32:34 2012
From: jay.collier at thecompass.com (Jay Collier)
Date: Fri, 1 Jun 2012 15:32:34 -0400
Subject: [wp-edu] Making media library files private
In-Reply-To: <85F05EE0D1E7E1499CCFFE9E3DFDF43C0878F5FF@SSVMEXDAG01MB03.tufts.ad.tufts.edu>
References: <85F05EE0D1E7E1499CCFFE9E3DFDF43C0878F5FF@SSVMEXDAG01MB03.tufts.ad.tufts.edu>
Message-ID: <C9950861-D08D-4F04-8FC9-5988B69AEAED@thecompass.com>

I'm late to this thread, but does anyone have experience with this?:

	<http://wordpress.org/extend/plugins/wp-document-revisions/>

-Jay


On Mar 5, 2012, at 9:24 AM, Grogan, David wrote:

> Hello all,
> 
> We have a large multi-site instance of WP 3.3.1 and although you can make your WordPress site private to individual named accounts (e.g. try accessing http://sites.tufts.edu/dgtest) it's really only the posts and pages content that is private. Any content uploaded to the sites Media Library (e.g. documents, images, audio etc) is still publicly accessible (e.g. try accessing: http://sites.tufts.edu/dgtest/wp-content/blogs.dir/856/files/2012/03/FCKeditor.png).
> 
> Has anyone come across a solution that will provide privacy to the media library files?
> 
> David
> 
> --------------------------------------------------------------
> David Grogan
> Senior Solutions Specialist
> Educational & Scholarly Technology Services (ESTS)
> University Information Technology (UIT) Tufts University
> 108 Bromfield Rd 
> Somerville, MA  02144
> 
> Phone: 617.627.2859
> Fax: 617.627.3082
> 
> http://uit.tufts.edu/at/
> http://sites.tufts.edu/davidgrogan
> 
> 
> 
> 
> _______________________________________________
> wp-edu mailing list
> wp-edu at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-edu

 
 


Jay Collier | The Compass LLC
Digital strategy for innovative learning organizations
jay.collier at thecompass.com | +1-207-956-0320
       

















From kylejones at thecorkboard.org  Mon Jun 11 22:29:11 2012
From: kylejones at thecorkboard.org (Kyle Jones)
Date: Mon, 11 Jun 2012 17:29:11 -0500
Subject: [wp-edu] Looking for a programmer for a plugin
Message-ID: <96B0BA02-897C-45F3-9D5D-BD7A6F9ECB76@thecorkboard.org>

Hello-

As we move on with our WordPress-powered ePortfolio solution here at  
UW-Madison, we've hit a snag and really could use some external help.   
If you are interested in doing a side job, please take a look at the  
job description we have posted: http://jobs.wordpress.net/2012/06/07/plugin-prepopulate-custom-taxonomies-across-network-sites/

If you have a programmer that you've worked with before and would  
recommend him/her, I'd appreciate it.  Some of the responses I've  
gotten from the Jobs site seem sketchy.

Thanks,


~Kyle M. L. Jones~

School of Library and Information Studies, UW-Madison
	- Ph.D Student
	- Associate Lecturer
	- Distance Ed. T.A.
E-mail
	- kmjones8 at wisc.edu
	- kylejones at thecorkboard.org

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.automattic.com/pipermail/wp-edu/attachments/20120611/49f3184f/attachment.htm>

From Wrede.John at paideiaschool.org  Tue Jun 12 11:52:17 2012
From: Wrede.John at paideiaschool.org (John Wrede)
Date: Tue, 12 Jun 2012 07:52:17 -0400
Subject: [wp-edu] wp-edu Digest, Vol 36, Issue 4
Message-ID: <fc.00870aa101ea094e3b9aca0003b181cf.1ea094f@paideiaschool.org>

I am out of the office until Monday 6/18, but will be answering email.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.automattic.com/pipermail/wp-edu/attachments/20120612/8c05edde/attachment.htm>

From Wrede.John at paideiaschool.org  Wed Jun 13 11:52:13 2012
From: Wrede.John at paideiaschool.org (John Wrede)
Date: Wed, 13 Jun 2012 07:52:13 -0400
Subject: [wp-edu] wp-edu Digest, Vol 36, Issue 5
Message-ID: <fc.00870aa101ea36ab3b9aca00a208dab4.1ea36ac@paideiaschool.org>

I am out of the office until Monday 6/18, but will be answering email.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.automattic.com/pipermail/wp-edu/attachments/20120613/ac81bc07/attachment.htm>

From Wrede.John at paideiaschool.org  Thu Jun 14 11:51:53 2012
From: Wrede.John at paideiaschool.org (John Wrede)
Date: Thu, 14 Jun 2012 07:51:53 -0400
Subject: [wp-edu] wp-edu Digest, Vol 36, Issue 6
Message-ID: <fc.00870aa101ea5e5f3b9aca00ff792a4b.1ea5e60@paideiaschool.org>

I am out of the office until Monday 6/18, but will be answering email.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.automattic.com/pipermail/wp-edu/attachments/20120614/81d207c8/attachment.htm>

From Wrede.John at paideiaschool.org  Fri Jun 15 11:51:49 2012
From: Wrede.John at paideiaschool.org (John Wrede)
Date: Fri, 15 Jun 2012 07:51:49 -0400
Subject: [wp-edu] wp-edu Digest, Vol 36, Issue 7
Message-ID: <fc.00870aa101ea85ad3b9aca0072afb523.1ea85ae@paideiaschool.org>

I am out of the office until Monday 6/18, but will be answering email.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.automattic.com/pipermail/wp-edu/attachments/20120615/f197a51a/attachment.htm>

From Wrede.John at paideiaschool.org  Sat Jun 16 11:51:47 2012
From: Wrede.John at paideiaschool.org (John Wrede)
Date: Sat, 16 Jun 2012 07:51:47 -0400
Subject: [wp-edu] wp-edu Digest, Vol 36, Issue 8
Message-ID: <fc.00870aa101eaa0743b9aca0033df3017.1eaa075@paideiaschool.org>

I am out of the office until Monday 6/18, but will be answering email.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.automattic.com/pipermail/wp-edu/attachments/20120616/31487dde/attachment.htm>

From Wrede.John at paideiaschool.org  Sun Jun 17 11:51:42 2012
From: Wrede.John at paideiaschool.org (John Wrede)
Date: Sun, 17 Jun 2012 07:51:42 -0400
Subject: [wp-edu] wp-edu Digest, Vol 36, Issue 9
Message-ID: <fc.00870aa101eaad053b9aca004d45ceef.1eaad06@paideiaschool.org>

I am out of the office until Monday 6/18, but will be answering email.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.automattic.com/pipermail/wp-edu/attachments/20120617/fc46e370/attachment.htm>

From Wrede.John at paideiaschool.org  Mon Jun 18 11:51:37 2012
From: Wrede.John at paideiaschool.org (John Wrede)
Date: Mon, 18 Jun 2012 07:51:37 -0400
Subject: [wp-edu] wp-edu Digest, Vol 36, Issue 10
Message-ID: <fc.00870aa101eabc613b9aca00421075fb.1eabc62@paideiaschool.org>

I am out of the office until Monday 6/18, but will be answering email.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.automattic.com/pipermail/wp-edu/attachments/20120618/c90c9890/attachment.htm>

