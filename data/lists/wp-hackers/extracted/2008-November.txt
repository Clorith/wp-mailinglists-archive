From ryanmccue at cubegames.net  Sat Nov  1 01:10:27 2008
From: ryanmccue at cubegames.net (Ryan McCue)
Date: Sat Nov  1 01:10:51 2008
Subject: [wp-hackers] TinyMCE stripping name tag out of PRE elements
In-Reply-To: <490B23A7.3030605@intraffic.net>
References: <743f2e480810302227o4cb842a0m394995a6aa68e8e2@mail.gmail.com>	<490AAEE7.4090001@laptoptips.ca>
	<490B23A7.3030605@intraffic.net>
Message-ID: <490BAC83.3090402@cubegames.net>

Jason Webster wrote:
> This is not really a bug per se, though.
> It is possible to allow the name attribute of pre tags through
> TinyMCE's code cleanup filter.
>
> The "extended_valid_elements" option of the TinyMCE init object needs
> to include the following:
> pre[name]

It doesn't change the fact it's not a valid attribute. You should be
using "id" instead.

-- 
Ryan McCue
<http://cubegames.net/>

From mark.wordpress at txfx.net  Sat Nov  1 02:27:51 2008
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Sat Nov  1 02:28:09 2008
Subject: [wp-hackers] Loops and Cloning
In-Reply-To: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
Message-ID: <F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>

On Oct 31, 2008, at 5:27 PM, Jess Planck wrote:

> 	$temp_wp_query = wp_clone( $wp_query );
> 	$temp_post = wp_clone( $post );


It's better to just instantiate your own WP_Query object.

$custom_loop = new WP_Query( array(
	'category_name' => $page_category_name[0],
	'showposts' => get_option('posts_per_page')
	));

while ( $custom_loop->have_posts() ) $custom_loop->the_post();
// normal loop functions here
endwhile;

That way, the normal $wp_query isn't touched at all, and things that  
depend on it don't break.

--
Mark Jaquith ? http://markjaquith.com/



From mikeschinkel at gmail.com  Sat Nov  1 09:00:58 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Sat Nov  1 09:36:40 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
Message-ID: <033301c93c00$5ba709b0$6702a8c0@Guides.local>

Hi All:

I've been working with Drupal for 1.5 years but was recently developed some
plugins for WordPress and came away liking WordPress an awful lot.  

Still there are some things Drupal does that WordPress doesn't do that I
need for future WordPress projects and I was wondering if anything like this
has been discussed in the past and/or if there is a plugin I'm not familiar
with that addresses this.

First some background for those that don't know Drupal. In WordPress you
have the "wp_posts" where either "Posts", "Pages", or attachments are stored
(if I understand correctly.) In Drupal there is a table analogous to
"wp_posts" called "node" where all content is stored. In Drupal "node"
table's "type" field is similar to WordPress' "post_type" field in the
"wp_posts" table.  Yet unlike in WordPress where you have first-class Posts
or Pages, Drupal can have an infinite number of different "content types" so
that there are no "special" types in Drupal (even though there are some
default types like "Page" on installation.) 

Let's say I wanted to create a website listing companies like you might find
at http://crunchbase.com. In Drupal I'd use the CCK module and create a new
content type called "Company" and define the additional fields I'd want for
the company.  In addition I'd be able to create a theme template that is
specific to a node of type "company."  

It would be really useful if I could do something similar in WordPress, for
example say I could create a "company" post_type and store in the "wp_posts"
table but as a "company" and not as a "post" or "page" yet I'd still be able
to use features like categories and tags. Further I'd want to define custom
fields that would apply to just each company (like "CEO name", "Phone
Number", etc.) and then be able to create a theme template that would apply
to a company and a URL that would apply to a company.

What are your thoughts on this?  Is anyone trying to address this with any
of the existing plugins and/or with future plans for WordPress.  Further,
does it make any sense in future versions to genericize posts/pages and
allow a power user to configure them in the admin where each "post type"
would get configured to have a defined set of URLs, and logic like "Uses
Tags", "Uses Categories" etc?

Thanks in advance for the help and discussion.

-Mike Schinkel 
http://mikeschinkel.com

From peter.westwood at ftwr.co.uk  Sat Nov  1 10:35:50 2008
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat Nov  1 10:36:06 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <033301c93c00$5ba709b0$6702a8c0@Guides.local>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<033301c93c00$5ba709b0$6702a8c0@Guides.local>
Message-ID: <490C3106.50907@ftwr.co.uk>

Mike Schinkel wrote:
> Hi All:
>
> I've been working with Drupal for 1.5 years but was recently developed some
> plugins for WordPress and came away liking WordPress an awful lot.  
>
> Still there are some things Drupal does that WordPress doesn't do that I
> need for future WordPress projects and I was wondering if anything like this
> has been discussed in the past and/or if there is a plugin I'm not familiar
> with that addresses this.
>
> First some background for those that don't know Drupal. In WordPress you
> have the "wp_posts" where either "Posts", "Pages", or attachments are stored
> (if I understand correctly.) In Drupal there is a table analogous to
> "wp_posts" called "node" where all content is stored. In Drupal "node"
> table's "type" field is similar to WordPress' "post_type" field in the
> "wp_posts" table.  Yet unlike in WordPress where you have first-class Posts
> or Pages, Drupal can have an infinite number of different "content types" so
> that there are no "special" types in Drupal (even though there are some
> default types like "Page" on installation.) 
>
> Let's say I wanted to create a website listing companies like you might find
> at http://crunchbase.com. In Drupal I'd use the CCK module and create a new
> content type called "Company" and define the additional fields I'd want for
> the company.  In addition I'd be able to create a theme template that is
> specific to a node of type "company."  
>
> It would be really useful if I could do something similar in WordPress, for
> example say I could create a "company" post_type and store in the "wp_posts"
> table but as a "company" and not as a "post" or "page" yet I'd still be able
> to use features like categories and tags. Further I'd want to define custom
> fields that would apply to just each company (like "CEO name", "Phone
> Number", etc.) and then be able to create a theme template that would apply
> to a company and a URL that would apply to a company.
>
> What are your thoughts on this?  Is anyone trying to address this with any
> of the existing plugins and/or with future plans for WordPress.  Further,
> does it make any sense in future versions to genericize posts/pages and
> allow a power user to configure them in the admin where each "post type"
> would get configured to have a defined set of URLs, and logic like "Uses
> Tags", "Uses Categories" etc?
>
> Thanks in advance for the help and discussion.
>   
 From memory the table structures would allow this fine if you want to 
do it in a plugin.

You would need to provide admin pages and query extensions and template 
extenstions though.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5 

From mikeschinkel at gmail.com  Sat Nov  1 11:10:11 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Sat Nov  1 11:10:29 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <490C3106.50907@ftwr.co.uk>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net><033301c93c00$5ba709b0$6702a8c0@Guides.local>
	<490C3106.50907@ftwr.co.uk>
Message-ID: <034b01c93c12$688563e0$6702a8c0@Guides.local>

Peter Westwood wrote: 
>> You would need to provide admin pages and query extensions and template
extenstions though.

Thanks for the reply. 

Yes, admin pages would definitely be needed.

Currently I think that query_posts() supports a "post_type" query parameter,
right? What else would be needed there? 

And what kind of template extensions?  A "the_post_type()" template tag?
That would be easy.

That said, am I really the first to broach this issue?

-Mike Schinkel 
http://mikeschinkel.com
P.S. I just noticed posts of type "revision" in the wp_posts table. I'm not
familiar with how revision tracking works. How does WP find the current
version of a post if there were multiple revisions?  And would this cause
any problems with my concept of different post types?


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Peter Westwood
Sent: Saturday, November 01, 2008 6:36 AM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Post/Page "Types"?

Mike Schinkel wrote:
> Hi All:
>
> I've been working with Drupal for 1.5 years but was recently developed 
> some plugins for WordPress and came away liking WordPress an awful lot.
>
> Still there are some things Drupal does that WordPress doesn't do that 
> I need for future WordPress projects and I was wondering if anything 
> like this has been discussed in the past and/or if there is a plugin 
> I'm not familiar with that addresses this.
>
> First some background for those that don't know Drupal. In WordPress 
> you have the "wp_posts" where either "Posts", "Pages", or attachments 
> are stored (if I understand correctly.) In Drupal there is a table 
> analogous to "wp_posts" called "node" where all content is stored. In
Drupal "node"
> table's "type" field is similar to WordPress' "post_type" field in the 
> "wp_posts" table.  Yet unlike in WordPress where you have first-class 
> Posts or Pages, Drupal can have an infinite number of different 
> "content types" so that there are no "special" types in Drupal (even 
> though there are some default types like "Page" on installation.)
>
> Let's say I wanted to create a website listing companies like you 
> might find at http://crunchbase.com. In Drupal I'd use the CCK module 
> and create a new content type called "Company" and define the 
> additional fields I'd want for the company.  In addition I'd be able 
> to create a theme template that is specific to a node of type "company."
>
> It would be really useful if I could do something similar in 
> WordPress, for example say I could create a "company" post_type and store
in the "wp_posts"
> table but as a "company" and not as a "post" or "page" yet I'd still 
> be able to use features like categories and tags. Further I'd want to 
> define custom fields that would apply to just each company (like "CEO 
> name", "Phone Number", etc.) and then be able to create a theme 
> template that would apply to a company and a URL that would apply to a
company.
>
> What are your thoughts on this?  Is anyone trying to address this with 
> any of the existing plugins and/or with future plans for WordPress.  
> Further, does it make any sense in future versions to genericize 
> posts/pages and allow a power user to configure them in the admin where
each "post type"
> would get configured to have a defined set of URLs, and logic like 
> "Uses Tags", "Uses Categories" etc?
>
> Thanks in advance for the help and discussion.
>   
 From memory the table structures would allow this fine if you want to do it
in a plugin.

You would need to provide admin pages and query extensions and template
extenstions though.

westi
--
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com C53C F8FC 8796 8508 88D6
C950 54F4 5DCD A834 01C5 

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at dd32.id.au  Sat Nov  1 11:19:08 2008
From: wordpress at dd32.id.au (DD32)
Date: Sat Nov  1 11:19:33 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <034b01c93c12$688563e0$6702a8c0@Guides.local>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<033301c93c00$5ba709b0$6702a8c0@Guides.local>
	<490C3106.50907@ftwr.co.uk>
	<034b01c93c12$688563e0$6702a8c0@Guides.local>
Message-ID: <op.ujxtp6x4k6w4mc@dd32.no-ip.com>

On Sat, 01 Nov 2008 22:10:11 +1100, Mike Schinkel <mikeschinkel@gmail.com>  
wrote:
> Currently I think that query_posts() supports a "post_type" query  
> parameter,
> right? What else would be needed there?

> That said, am I really the first to broach this issue?

Theres a few plugins which use custom post_types i think, Cant think of  
one off the top of my head though.

get_posts() / WP_Query supports the 'post_type' parameter, Thats what  
differentiates it between using post/page/attachment/revision post_type's

Since the Taxonomy system is based on wp_posts.ID there shouldnt need to  
be any changes there, But if you define a new taxonomy (rather than  
throwing them in with the posts cat and tags) you'll probably need to  
define a few new template functions which duplicate WP code..

But its all possible without too much hard effort, If you're aware of the  
Internal API thats used. The PHPDoc in 2.7 should really help that..
From mikeschinkel at gmail.com  Sat Nov  1 11:46:37 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Sat Nov  1 11:46:54 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <op.ujxtp6x4k6w4mc@dd32.no-ip.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net><F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net><033301c93c00$5ba709b0$6702a8c0@Guides.local><490C3106.50907@ftwr.co.uk><034b01c93c12$688563e0$6702a8c0@Guides.local>
	<op.ujxtp6x4k6w4mc@dd32.no-ip.com>
Message-ID: <035d01c93c17$7ff421b0$6702a8c0@Guides.local>

>> But its all possible without too much hard effort, If you're aware of the
Internal API thats used.  

Thanks. A quick Google shows that several people have discussed it but
nobody's mentioned an actual implmentation:
http://www.google.com/search?q=wordpress+custom+post_type+plugin  If I get
somewhere with it I might even make it a module.

>> The PHPDoc in 2.7 should really help that..

BTW, I use PhpED debugger so if I want to know it bad enough and have the
time to explore I can usually figure out anything in the internals (I like a
debugger much better than a doc. :)

That said, how hard-coded is the "post" vs. "page" logic in the core?  For
example I remember fighting the code in /wp-includes/template-loader.php
because of the level to which it is hard-coded to assumptions. This would
need to be changed, no? 

And what about URL routing? I haven't looked at that so don't even know
where to start (I'm assuming that custom post_types would have their own URL
template.)

-Mike Schinkel 
http://mikeschinkel.com


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of DD32
Sent: Saturday, November 01, 2008 7:19 AM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Post/Page "Types"?

On Sat, 01 Nov 2008 22:10:11 +1100, Mike Schinkel <mikeschinkel@gmail.com>
wrote:
> Currently I think that query_posts() supports a "post_type" query 
> parameter, right? What else would be needed there?

> That said, am I really the first to broach this issue?

Theres a few plugins which use custom post_types i think, Cant think of one
off the top of my head though.

get_posts() / WP_Query supports the 'post_type' parameter, Thats what
differentiates it between using post/page/attachment/revision post_type's

Since the Taxonomy system is based on wp_posts.ID there shouldnt need to be
any changes there, But if you define a new taxonomy (rather than throwing
them in with the posts cat and tags) you'll probably need to define a few
new template functions which duplicate WP code..

But its all possible without too much hard effort, If you're aware of the
Internal API thats used. The PHPDoc in 2.7 should really help that..
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From frank at bueltge.de  Sat Nov  1 12:05:40 2008
From: frank at bueltge.de (Frank Bueltge)
Date: Sat Nov  1 12:05:50 2008
Subject: [wp-hackers] Dashboard Incoming Links
Message-ID: <db047a770811010505n9dc4726r40d1f971b87ece40@mail.gmail.com>

It is not possible to change the counter and settings for date. When i
save the settings, then set WP this to default and not tp my settings.
Is this correctly in the beta?
From wordpress at dd32.id.au  Sat Nov  1 12:09:05 2008
From: wordpress at dd32.id.au (DD32)
Date: Sat Nov  1 12:09:31 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <035d01c93c17$7ff421b0$6702a8c0@Guides.local>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<033301c93c00$5ba709b0$6702a8c0@Guides.local>
	<490C3106.50907@ftwr.co.uk>
	<034b01c93c12$688563e0$6702a8c0@Guides.local>
	<op.ujxtp6x4k6w4mc@dd32.no-ip.com>
	<035d01c93c17$7ff421b0$6702a8c0@Guides.local>
Message-ID: <op.ujxv1fpik6w4mc@dd32.no-ip.com>

On Sat, 01 Nov 2008 22:46:37 +1100, Mike Schinkel <mikeschinkel@gmail.com>  
wrote:

> That said, how hard-coded is the "post" vs. "page" logic in the core?   
> For
> example I remember fighting the code in /wp-includes/template-loader.php
> because of the level to which it is hard-coded to assumptions. This would
> need to be changed, no?

There'll be a couple of hooks you can use to direct it to a different  
template than what it's trying to load, so no core mods should be required.

> And what about URL routing? I haven't looked at that so don't even know
> where to start (I'm assuming that custom post_types would have their own  
> URL
> template.)

You'd need to define you're own url's for sure.
adding a rewrite rule for '/company/([^/]+)/?' =>  
'index.php?post_type=company&post_name=$match[1]' would probably achieve  
it, Allthough i'm not too sure if the post_type can go via the URL.. So  
you might need to register it as 'index.php?company=$match[1]' and then  
hook in on one of the post_queries hooks to modify it.

Templates could be a bit messy.. I've never attempted it too much, The  
only time i've done it was with a page with a Custom template which was  
making a get_posts() call.

http://trac.wordpress.org/browser/trunk/wp-includes/query.php#L2067
is the only place i know that's a PITA, Due to the way that branch is  
setup, You cant use ?p=123 where 123 is a custom-type as it sets it to  
post in the end, Same goes for a few other query params.. I remember there  
was a way around it, but cant remember it.
From mikeschinkel at gmail.com  Sat Nov  1 12:27:40 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Sat Nov  1 12:28:01 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <op.ujxv1fpik6w4mc@dd32.no-ip.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net><F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net><033301c93c00$5ba709b0$6702a8c0@Guides.local><490C3106.50907@ftwr.co.uk><034b01c93c12$688563e0$6702a8c0@Guides.local><op.ujxtp6x4k6w4mc@dd32.no-ip.com><035d01c93c17$7ff421b0$6702a8c0@Guides.local>
	<op.ujxv1fpik6w4mc@dd32.no-ip.com>
Message-ID: <035f01c93c1d$3ef324d0$6702a8c0@Guides.local>

>> There'll be a couple of hooks you can use to direct it to a different
template than what it's trying to load, so no core mods should be required.

Specifically?  (thanks in advance. :)

>> adding a rewrite rule for '/company/([^/]+)/?' =>
'index.php?post_type=company&post_name=$match[1]' would probably achieve it,
Allthough i'm not too sure if the post_type can go via the URL.. So you
might need to register it as 'index.php?company=$match[1]' and then hook in
on one of the post_queries hooks to modify it.

I'd really rather handle it in PHP instead of a .htaccess file given that
the latter can sometimes be difficult to get right; isn't there a place in
the PHP code where I can pregmatch() for '#/company/([^/]+)/?#'  set
post_type?

>> http://trac.wordpress.org/browser/trunk/wp-includes/query.php#L2067 is
the only place i know that's a PITA, Due to the way that branch is setup,
You cant use ?p=123 where 123 is a custom-type as it sets it to post in the
end, Same goes for a few other query params.. I remember there was a way
around it, but cant remember it.

Ugh.  Is there are reason it is architected this way, or is it just because
nobody has ever had a use-case that called this structure into question?

BTW, I just found Flutter which, while not having the post_type
functionality it have some of the needed functionality:
http://freshout.us/goodies/fresh-post-for-wordpress-wordpress-cms/ 

Thanks again.

-Mike Schinkel 
http://mikeschinkel.com


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of DD32
Sent: Saturday, November 01, 2008 8:09 AM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Post/Page "Types"?

On Sat, 01 Nov 2008 22:46:37 +1100, Mike Schinkel <mikeschinkel@gmail.com>
wrote:

> That said, how hard-coded is the "post" vs. "page" logic in the core?   
> For
> example I remember fighting the code in 
> /wp-includes/template-loader.php because of the level to which it is 
> hard-coded to assumptions. This would need to be changed, no?

There'll be a couple of hooks you can use to direct it to a different
template than what it's trying to load, so no core mods should be required.

> And what about URL routing? I haven't looked at that so don't even 
> know where to start (I'm assuming that custom post_types would have 
> their own URL
> template.)

You'd need to define you're own url's for sure.
adding a rewrite rule for '/company/([^/]+)/?' =>
'index.php?post_type=company&post_name=$match[1]' would probably achieve it,
Allthough i'm not too sure if the post_type can go via the URL.. So you
might need to register it as 'index.php?company=$match[1]' and then hook in
on one of the post_queries hooks to modify it.

Templates could be a bit messy.. I've never attempted it too much, The only
time i've done it was with a page with a Custom template which was making a
get_posts() call.

http://trac.wordpress.org/browser/trunk/wp-includes/query.php#L2067
is the only place i know that's a PITA, Due to the way that branch is setup,
You cant use ?p=123 where 123 is a custom-type as it sets it to post in the
end, Same goes for a few other query params.. I remember there was a way
around it, but cant remember it.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at dd32.id.au  Sat Nov  1 12:36:26 2008
From: wordpress at dd32.id.au (DD32)
Date: Sat Nov  1 12:36:55 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <035f01c93c1d$3ef324d0$6702a8c0@Guides.local>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<033301c93c00$5ba709b0$6702a8c0@Guides.local>
	<490C3106.50907@ftwr.co.uk>
	<034b01c93c12$688563e0$6702a8c0@Guides.local>
	<op.ujxtp6x4k6w4mc@dd32.no-ip.com>
	<035d01c93c17$7ff421b0$6702a8c0@Guides.local>
	<op.ujxv1fpik6w4mc@dd32.no-ip.com>
	<035f01c93c1d$3ef324d0$6702a8c0@Guides.local>
Message-ID: <op.ujxxa0kvk6w4mc@dd32.no-ip.com>

On Sat, 01 Nov 2008 23:27:40 +1100, Mike Schinkel <mikeschinkel@gmail.com>  
wrote:

>>> There'll be a couple of hooks you can use to direct it to a different
> template than what it's trying to load, so no core mods should be  
> required.
>
> Specifically?  (thanks in advance. :)

Err... Not sure! :) It would depend on how you integrated the post_type in  
with the rest of the code. It'd probably be possible to redirect it to use  
the page template rather than something else.. *really* not sure on that  
though.

>>> adding a rewrite rule for '/company/([^/]+)/?' =>
> 'index.php?post_type=company&post_name=$match[1]' would probably achieve  
> it,
> Allthough i'm not too sure if the post_type can go via the URL.. So you
> might need to register it as 'index.php?company=$match[1]' and then hook  
> in
> on one of the post_queries hooks to modify it.
>
> I'd really rather handle it in PHP instead of a .htaccess file given that
> the latter can sometimes be difficult to get right; isn't there a place  
> in
> the PHP code where I can pregmatch() for '#/company/([^/]+)/?#'  set
> post_type?

Yeah, I was refering to using the WordPress Rewrite engine rather than  
handling it with a htaccess
This old example plugin of mine:
http://dd32.id.au/files/wordpress/test-rewrite.php
shows how to use it for some custom rules.

>>> http://trac.wordpress.org/browser/trunk/wp-includes/query.php#L2067 is
> the only place i know that's a PITA, Due to the way that branch is setup,
> You cant use ?p=123 where 123 is a custom-type as it sets it to post in  
> the
> end, Same goes for a few other query params.. I remember there was a way
> around it, but cant remember it.
>
> Ugh.  Is there are reason it is architected this way, or is it just  
> because
> nobody has ever had a use-case that called this structure into question?

Well.. It makes sense in the way that WordPress is coded, If its a post,  
then it makes sense to limit it to that particular post_type.. But if a  
custom post_type has been given, that should logically over-ride that  
check.. but it doesnt. (I never got around to filing a trac ticket as i  
implemented what i wanted in a completely different way)
From dragonfly at dragonflyeye.net  Sat Nov  1 12:38:40 2008
From: dragonfly at dragonflyeye.net (Tom Belknap)
Date: Sat Nov  1 12:39:04 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <20081101120008.1ADAA6C95@comox.textdrive.com>
References: <20081101120008.1ADAA6C95@comox.textdrive.com>
Message-ID: <490C4DD0.7030600@dragonflyeye.net>

If someone's looking for illustration, it seems to me that, prior to 
Twitter burning up the scene, Matt used to use a "Microposts" plugin 
that I also played around with.  If I'm not mistaken, that used a custom 
post taxonomy.

Hope that helps!

Message: 2
> Date: Sat, 1 Nov 2008 07:46:37 -0400
> From: "Mike Schinkel" <mikeschinkel@gmail.com>
> Subject: RE: [wp-hackers] Post/Page "Types"?
> To: <wp-hackers@lists.automattic.com>
> Message-ID: <035d01c93c17$7ff421b0$6702a8c0@Guides.local>
> Content-Type: text/plain;	charset="US-ASCII"
>
>   
>>> But its all possible without too much hard effort, If you're aware of the
>>>       
> Internal API thats used.  
>
> Thanks. A quick Google shows that several people have discussed it but
> nobody's mentioned an actual implmentation:
> http://www.google.com/search?q=wordpress+custom+post_type+plugin  If I get
> somewhere with it I might even make it a module.
>
>   
>>> The PHPDoc in 2.7 should really help that..
>>>       
>
> BTW, I use PhpED debugger so if I want to know it bad enough and have the
> time to explore I can usually figure out anything in the internals (I like a
> debugger much better than a doc. :)
>
> That said, how hard-coded is the "post" vs. "page" logic in the core?  For
> example I remember fighting the code in /wp-includes/template-loader.php
> because of the level to which it is hard-coded to assumptions. This would
> need to be changed, no? 
>
> And what about URL routing? I haven't looked at that so don't even know
> where to start (I'm assuming that custom post_types would have their own URL
> template.)
>
> -Mike Schinkel 
> http://mikeschinkel.com
>
>
> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of DD32
> Sent: Saturday, November 01, 2008 7:19 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Post/Page "Types"?
>
> On Sat, 01 Nov 2008 22:10:11 +1100, Mike Schinkel <mikeschinkel@gmail.com>
> wrote:
>   
>> Currently I think that query_posts() supports a "post_type" query 
>> parameter, right? What else would be needed there?
>>     
>
>   
>> That said, am I really the first to broach this issue?
>>     
>
> Theres a few plugins which use custom post_types i think, Cant think of one
> off the top of my head though.
>
> get_posts() / WP_Query supports the 'post_type' parameter, Thats what
> differentiates it between using post/page/attachment/revision post_type's
>
> Since the Taxonomy system is based on wp_posts.ID there shouldnt need to be
> any changes there, But if you define a new taxonomy (rather than throwing
> them in with the posts cat and tags) you'll probably need to define a few
> new template functions which duplicate WP code..
>
> But its all possible without too much hard effort, If you're aware of the
> Internal API thats used. The PHPDoc in 2.7 should really help that..
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
> ------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> End of wp-hackers Digest, Vol 46, Issue 2
> *****************************************
>   


From mikeschinkel at gmail.com  Sat Nov  1 12:48:22 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Sat Nov  1 12:48:38 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <op.ujxxa0kvk6w4mc@dd32.no-ip.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net><F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net><033301c93c00$5ba709b0$6702a8c0@Guides.local><490C3106.50907@ftwr.co.uk><034b01c93c12$688563e0$6702a8c0@Guides.local><op.ujxtp6x4k6w4mc@dd32.no-ip.com><035d01c93c17$7ff421b0$6702a8c0@Guides.local><op.ujxv1fpik6w4mc@dd32.no-ip.com><035f01c93c1d$3ef324d0$6702a8c0@Guides.local>
	<op.ujxxa0kvk6w4mc@dd32.no-ip.com>
Message-ID: <036001c93c20$206882f0$6702a8c0@Guides.local>

>> Err... Not sure! :) It would depend on how you integrated the post_type
in with the rest of the code. It'd probably be possible to redirect it to
use the page template rather than something else.. *really* not sure on that
though.

I can figure it out, thank though.

>> Yeah, I was refering to using the WordPress Rewrite engine rather than
handling it with a htaccess This old example plugin of mine:
http://dd32.id.au/files/wordpress/test-rewrite.php
shows how to use it for some custom rules.

Ah, thanks!

>> Well.. It makes sense in the way that WordPress is coded, If its a post,
then it makes sense to limit it to that particular post_type.. But if a
custom post_type has been given, that should logically over-ride that
check.. but it doesnt. (I never got around to filing a trac ticket as i
implemented what i wanted in a completely different way) 

What's the chance this could get some post_type love for 2.7? :)

-Mike



From wordpress at dd32.id.au  Sat Nov  1 12:51:41 2008
From: wordpress at dd32.id.au (DD32)
Date: Sat Nov  1 12:51:59 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <036001c93c20$206882f0$6702a8c0@Guides.local>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<033301c93c00$5ba709b0$6702a8c0@Guides.local>
	<490C3106.50907@ftwr.co.uk>
	<034b01c93c12$688563e0$6702a8c0@Guides.local>
	<op.ujxtp6x4k6w4mc@dd32.no-ip.com>
	<035d01c93c17$7ff421b0$6702a8c0@Guides.local>
	<op.ujxv1fpik6w4mc@dd32.no-ip.com>
	<035f01c93c1d$3ef324d0$6702a8c0@Guides.local>
	<op.ujxxa0kvk6w4mc@dd32.no-ip.com>
	<036001c93c20$206882f0$6702a8c0@Guides.local>
Message-ID: <op.ujxx0frqk6w4mc@dd32.no-ip.com>

On Sat, 01 Nov 2008 23:48:22 +1100, Mike Schinkel <mikeschinkel@gmail.com>  
wrote:

>>> Well.. It makes sense in the way that WordPress is coded, If its a  
>>> post,
> then it makes sense to limit it to that particular post_type.. But if a
> custom post_type has been given, that should logically over-ride that
> check.. but it doesnt. (I never got around to filing a trac ticket as i
> implemented what i wanted in a completely different way)
>
> What's the chance this could get some post_type love for 2.7? :)

Probably be seen as more of a enhancment than a bug, And since 2.7 beta1  
was released today, No chance :/
From mikeschinkel at gmail.com  Sat Nov  1 12:58:27 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Sat Nov  1 12:58:39 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <op.ujxx0frqk6w4mc@dd32.no-ip.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net><F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net><033301c93c00$5ba709b0$6702a8c0@Guides.local><490C3106.50907@ftwr.co.uk><034b01c93c12$688563e0$6702a8c0@Guides.local><op.ujxtp6x4k6w4mc@dd32.no-ip.com><035d01c93c17$7ff421b0$6702a8c0@Guides.local><op.ujxv1fpik6w4mc@dd32.no-ip.com><035f01c93c1d$3ef324d0$6702a8c0@Guides.local><op.ujxxa0kvk6w4mc@dd32.no-ip.com><036001c93c20$206882f0$6702a8c0@Guides.local>
	<op.ujxx0frqk6w4mc@dd32.no-ip.com>
Message-ID: <036101c93c21$88b57330$6702a8c0@Guides.local>

>> Probably be seen as more of a enhancment than a bug, And since 2.7 beta1
was released today, No chance :/ 

Aww, isn't they what they call it a "beta?" ;-p 

Srsly, there needs to be a generic hook in there... :)

-Mike Schinkel 
http://mikeschinkel.com

From viper at viper007bond.com  Sat Nov  1 13:07:37 2008
From: viper at viper007bond.com (Viper007Bond)
Date: Sat Nov  1 13:07:48 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <036101c93c21$88b57330$6702a8c0@Guides.local>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<034b01c93c12$688563e0$6702a8c0@Guides.local>
	<op.ujxtp6x4k6w4mc@dd32.no-ip.com>
	<035d01c93c17$7ff421b0$6702a8c0@Guides.local>
	<op.ujxv1fpik6w4mc@dd32.no-ip.com>
	<035f01c93c1d$3ef324d0$6702a8c0@Guides.local>
	<op.ujxxa0kvk6w4mc@dd32.no-ip.com>
	<036001c93c20$206882f0$6702a8c0@Guides.local>
	<op.ujxx0frqk6w4mc@dd32.no-ip.com>
	<036101c93c21$88b57330$6702a8c0@Guides.local>
Message-ID: <8f93a7390811010607p43282292kaf8a7229e9855ad7@mail.gmail.com>

Feature freeze was weeks ago. Beta means nearly done. ;)

On Sat, Nov 1, 2008 at 5:58 AM, Mike Schinkel <mikeschinkel@gmail.com>wrote:

> >> Probably be seen as more of a enhancment than a bug, And since 2.7 beta1
> was released today, No chance :/
>
> Aww, isn't they what they call it a "beta?" ;-p
>
> Srsly, there needs to be a generic hook in there... :)
>
> -Mike Schinkel
> http://mikeschinkel.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From krustyruffle at rustykruffle.com  Sat Nov  1 15:38:30 2008
From: krustyruffle at rustykruffle.com (Krusty Ruffle)
Date: Sat Nov  1 15:38:43 2008
Subject: [wp-hackers] requesting information about wp_*_style functions
In-Reply-To: <8f93a7390810310316p296267fcp3cb64441ef203aae@mail.gmail.com>
References: <93c3fbd10810291907u62d1b5c3v3e05767877300c@mail.gmail.com>
	<93c3fbd10810292130v662121fbge9d2b6e1b6d0c63c@mail.gmail.com>
	<93c3fbd10810292233l6d64c8dem928d4e93a7e747c7@mail.gmail.com>
	<op.ujtos109k6w4mc@dd32.no-ip.com>
	<93c3fbd10810292324u1c2663f7sa398c92bad807f40@mail.gmail.com>
	<8f93a7390810292347g5a70093ek18e6d6306d28a045@mail.gmail.com>
	<93c3fbd10810300616h41db9901mdc41e4911e1fc743@mail.gmail.com>
	<1225421386.24635.41.camel@lap1> <490AC3BB.8060805@cubegames.net>
	<8f93a7390810310316p296267fcp3cb64441ef203aae@mail.gmail.com>
Message-ID: <93c3fbd10811010838k619715afn67f321023c60b7dc@mail.gmail.com>

Okay, after sleeping a whole bunch, recovering from some bad meat I ate, and
reading all the replies here this is what I ended up with:

<?php

// Include a link to the current templates tweaks.css if it exists...
function krusty_plugstyles(){
    if(file_exists(STYLESHEETPATH . '/tweaks.css')){
        // register and enqueue our css for later addition into the head of
the page
        wp_register_style('krusted-plugstyles',
get_stylesheet_directory_uri() . '/tweaks.css', array(), '', 'screen');
        wp_enqueue_style('krusted-plugstyles');

        // since wp_print_styles() doesn't seem to run by default
        // we add a call to it with the wp_head action hook
        // set the timing to 9 to match the timing WP 2.7 will have when it
comes out
        add_action('wp_head', 'wp_print_styles', '9');
    }
}

// add an action to call our function when wordpress starts loading a page
add_action('init', 'krusty_plugstyles');

?>

Thanks for all of the advice and help, I think this is working right now,
though I do think there may be issues with the timing of it. I'm thinking I
want this file to be the last .css file linked in the head, but I suppose it
could be filled with lots of !important's to override cascades. I think
there will still be a lot of plugins echoing links in there with the wp_head
action, and I think most of them will be running on a default timing of 10.

That just made me think. Should I set the init action to a later speed so
that I can try to ensure that this .css file is at least at the end of the
wp style queue?

On Fri, Oct 31, 2008 at 6:16 AM, Viper007Bond <viper@viper007bond.com>wrote:

> Default priority is 9.
>
> On Fri, Oct 31, 2008 at 1:37 AM, Ryan McCue <ryanmccue@cubegames.net>
> wrote:
>
> > Callum Macdonald wrote:
> > > Worst case scenario, it'll be called twice on 2.7. But that won't
> output
> > > the styles twice. The overhead will be minimal.
> > >
> >
> > As long as the priority, action and callback are the same, it won't add
> > it twice, but rather it will simply overwrite the first. (Unless, of
> > course, it doesn't work the way I think it does from memory.)
> >
> > --
> > Ryan McCue
> > <http://cubegames.net/>
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From jason at intraffic.net  Sat Nov  1 16:22:37 2008
From: jason at intraffic.net (Jason Webster)
Date: Sat Nov  1 16:23:42 2008
Subject: [wp-hackers] TinyMCE stripping name tag out of PRE elements
In-Reply-To: <490BAC83.3090402@cubegames.net>
References: <743f2e480810302227o4cb842a0m394995a6aa68e8e2@mail.gmail.com>	<490AAEE7.4090001@laptoptips.ca>	<490B23A7.3030605@intraffic.net>
	<490BAC83.3090402@cubegames.net>
Message-ID: <490C824D.90103@intraffic.net>

Of course not. I was just pointing out that it was _not_ a TinyMCE bug 
as many suggested.

Ryan McCue wrote:
> Jason Webster wrote:
>   
>> This is not really a bug per se, though.
>> It is possible to allow the name attribute of pre tags through
>> TinyMCE's code cleanup filter.
>>
>> The "extended_valid_elements" option of the TinyMCE init object needs
>> to include the following:
>> pre[name]
>>     
>
> It doesn't change the fact it's not a valid attribute. You should be
> using "id" instead.
>
>   

From jess at funroe.net  Sat Nov  1 18:08:39 2008
From: jess at funroe.net (Jess Planck)
Date: Sat Nov  1 18:08:52 2008
Subject: [wp-hackers] Loops and Cloning
In-Reply-To: <F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
Message-ID: <89F0B5E2-EFAD-4487-8C30-236928EBCFFA@funroe.net>

On Oct 31, 2008, at 9:27 PM, Mark Jaquith wrote:

> It's better to just instantiate your own WP_Query object.

Yes, I thought so, but what about the other globals that need to be  
set to get things like comment count? I know for instance $id, and I  
tried the setup_post_data function inside the while posts loop. I bet  
the answer is in an archive. To make it clearer, I put my notes so far  
online... It's not pretty, I need to do some theme work someday:

http://funroe.net/2008/11/01/wordpress-page-with-loops-and-php-cloning






From jfontainhas at gmail.com  Sat Nov  1 19:50:11 2008
From: jfontainhas at gmail.com (=?ISO-8859-1?Q?Jos=E9_Fontainhas?=)
Date: Sat Nov  1 19:50:29 2008
Subject: [wp-hackers] WP 2.7 Screens and translations
In-Reply-To: <89F0B5E2-EFAD-4487-8C30-236928EBCFFA@funroe.net>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<89F0B5E2-EFAD-4487-8C30-236928EBCFFA@funroe.net>
Message-ID: <490CB2F3.2090500@gmail.com>

Hi,

I'm wondering if the Akismet stats screen I'm seeing in the 2.7 
dashboard is normal (i.e. inside an apparently too small frame):

http://www.box.net/shared/f9ms3ymxhq

Alsoe would like to alert on some issues on translation on the "new 
post" screen, where translated screens disrupt the normal (english) 
layout. Bear in mind that those strings are already the optimistic short 
version of a string that should actually be even longer. I suspect my 
language (pt) isn't even the longest one...

http://www.box.net/shared/oqxd1e1aqz
and
http://www.box.net/shared/dki64v666p

Thanks and congrats on a absolutely wonderful dashboard

Jose


From andy at yellowswordfish.com  Sat Nov  1 20:21:23 2008
From: andy at yellowswordfish.com (Andy Staines)
Date: Sat Nov  1 20:21:34 2008
Subject: [wp-hackers] Frozen Dashboard
Message-ID: <4345F2AF-3763-4A47-8AA1-72CD46B04C32@yellowswordfish.com>

2.7 beta 1
Not sure why I am seeing this but my dashboard is frozen - (no 'move',  
feeds missing, screen options ignored).
This is due to a javascript error in quicktags - lines 577-578 - where  
the container element, 'cont' is null. This is stopping all other  
scripts.
Andy
From photofantaisie at live.fr  Sat Nov  1 23:09:32 2008
From: photofantaisie at live.fr (A Walker)
Date: Sat Nov  1 23:09:46 2008
Subject: [wp-hackers] Plugin uninstall/deactivate in 2.7 vs 2.6
Message-ID: <BLU127-W18993822429ADABDD22188D0230@phx.gbl>










Having read Frank's excellent article here: http://wpengineer.com/wordpress-plugin-deinstall-data-automatically/ I think I understood much better how the plugin uninstall routines work in 2.7. Thanks Frank!

It seems to me that for 2.7+ the register_deactivation_hook is no longer required provided the plugin author provides an uninstall.php file with the appropriate code. So, I was wondering about adding some backwards compatibility for 2.6 etc, so that the plugin's options are deleted from the db if a user with less than 2.7 decides to deactivate the plugin. I tried adding this to my plugin, but found that the deactivation hook was still being registered under WP 2.7 beta 1:

<code>if ( !defined ( WP_UNINSTALL_PLUGIN ) ) {
register_deactivation_hook(function to delete options...)
}</code>

Then, create an uninstall.php with delete_options(blah blah) for 2.7+. 

In case I haven't explained myself very well (probably not, lol) the idea is to only register the deactivation hook if the plugin is installed on WP 2.6 and below.

I'm scratching my head on this, and if anyone can point out where I've overlooked the obvious - please do! Thanks!  :-) 

Ade.
_________________________________________________________________
D?couvrez la nouvelle g?n?ration des servives de Windows Live
http://get.live.com
From dabbaking at gmail.com  Sat Nov  1 23:12:11 2008
From: dabbaking at gmail.com (David Weitz)
Date: Sat Nov  1 23:12:30 2008
Subject: [wp-hackers] Frozen Dashboard
In-Reply-To: <4345F2AF-3763-4A47-8AA1-72CD46B04C32@yellowswordfish.com>
Message-ID: <C5325A8B.AD1%dabbaking@gmail.com>

I just pulled a copy down and it works for me.


On 11/1/08 4:21 PM, "Andy Staines" <andy@yellowswordfish.com> wrote:

> 2.7 beta 1
> Not sure why I am seeing this but my dashboard is frozen - (no 'move',
> feeds missing, screen options ignored).
> This is due to a javascript error in quicktags - lines 577-578 - where
> the container element, 'cont' is null. This is stopping all other
> scripts.
> Andy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From andy at yellowswordfish.com  Sun Nov  2 01:08:15 2008
From: andy at yellowswordfish.com (Andy Staines)
Date: Sun Nov  2 01:08:30 2008
Subject: [wp-hackers] Frozen Dashboard
In-Reply-To: <C5325A8B.AD1%dabbaking@gmail.com>
References: <C5325A8B.AD1%dabbaking@gmail.com>
Message-ID: <29922537-2E21-4100-B896-64FEC4D20866@yellowswordfish.com>

I must admit I am curious as to why quicktags.js is being called from  
the dashboard...?

On 1 Nov 2008, at 23:12PM, David Weitz wrote:

> I just pulled a copy down and it works for me.
>
>
> On 11/1/08 4:21 PM, "Andy Staines" <andy@yellowswordfish.com> wrote:
>
>> 2.7 beta 1
>> Not sure why I am seeing this but my dashboard is frozen - (no  
>> 'move',
>> feeds missing, screen options ignored).
>> This is due to a javascript error in quicktags - lines 577-578 -  
>> where
>> the container element, 'cont' is null. This is stopping all other
>> scripts.
>> Andy
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ryanmccue at cubegames.net  Sun Nov  2 01:27:27 2008
From: ryanmccue at cubegames.net (Ryan McCue)
Date: Sun Nov  2 01:28:51 2008
Subject: [wp-hackers] TinyMCE stripping name tag out of PRE elements
In-Reply-To: <490C824D.90103@intraffic.net>
References: <743f2e480810302227o4cb842a0m394995a6aa68e8e2@mail.gmail.com>	<490AAEE7.4090001@laptoptips.ca>	<490B23A7.3030605@intraffic.net>	<490BAC83.3090402@cubegames.net>
	<490C824D.90103@intraffic.net>
Message-ID: <490D01FF.2070700@cubegames.net>

Jason Webster wrote:
> Of course not. I was just pointing out that it was _not_ a TinyMCE bug
> as many suggested.

Ah, my apologies.

-- 
Ryan McCue
<http://cubegames.net/>

From yahgrp at poplarware.com  Sun Nov  2 01:40:07 2008
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Sun Nov  2 01:35:56 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <033301c93c00$5ba709b0$6702a8c0@Guides.local>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<033301c93c00$5ba709b0$6702a8c0@Guides.local>
Message-ID: <490D04F7.9010209@poplarware.com>

I read this thread on Drupal vs. WordPress with some interest (for 
sites needing custom content types beyond Posts and Pages). I say: use 
the right tool for the job at hand, and I use both Drupal and 
WordPress, depending on the job.

If I need to build a site for a client whose content and taxonomy is 
close to the WordPress paradigm (Pages, Posts, Links, Media, 
Categories, Tags), then I will use WordPress, mostly because it's much 
simpler/cheaper to set up and much easier for the site owner to figure 
out how to use.

But if I need to build a site that needs many multi-field content 
types, whose content needs to be displayed in a variety of ways 
(lists, tables, filters/searches, etc.), or that needs taxonomies 
beyond Categories and Tags, I would choose Drupal. It's not that you 
can't coerce WordPress into doing things beyond its standard paradigm, 
but why not use a system that's designed to handle customization from 
the bottom up, and whose modules (CCK/Views/Taxonomy) make it 
relatively easy to customize?

The only drawback to this approach is that you have to become an 
expert in both Drupal and WordPress in order to satisfy all your 
clients. The plus side to that is that you get to become a 
contributing member of two open-source communities. :)

Just my 2 cents...
     --Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From wordpress at dd32.id.au  Sun Nov  2 01:44:17 2008
From: wordpress at dd32.id.au (DD32)
Date: Sun Nov  2 01:44:36 2008
Subject: [wp-hackers] Plugin uninstall/deactivate in 2.7 vs 2.6
In-Reply-To: <BLU127-W18993822429ADABDD22188D0230@phx.gbl>
References: <BLU127-W18993822429ADABDD22188D0230@phx.gbl>
Message-ID: <op.ujyxr31nk6w4mc@dd32.no-ip.com>

On Sun, 02 Nov 2008 10:09:32 +1100, A Walker <photofantaisie@live.fr>  
wrote:

> In case I haven't explained myself very well (probably not, lol) the  
> idea is to only register the deactivation hook if the plugin is  
> installed on WP 2.6 and below.
>
> I'm scratching my head on this, and if anyone can point out where I've  
> overlooked the obvious - please do! Thanks!  :-)

If i'm understanding correctly, You're trying to work out how to only  
register a deactivation hook for WP < 2.7? ie. to replace the uninstall  
functionality?

If so i'd do this:

if ( function_exists('register_uninstall_hook') )
     register_uninstall_hook('myplugin_uninstall');
else
     register_deactivation_hook('myplugin_deactivate')

From wp-hackers at itsananderson.com  Sun Nov  2 01:53:05 2008
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Sun Nov  2 01:53:16 2008
Subject: [wp-hackers] Plugin uninstall/deactivate in 2.7 vs 2.6
In-Reply-To: <op.ujyxr31nk6w4mc@dd32.no-ip.com>
References: <BLU127-W18993822429ADABDD22188D0230@phx.gbl>
	<op.ujyxr31nk6w4mc@dd32.no-ip.com>
Message-ID: <6dbcd2670811011853m5f2129e2p1d485713d0b29d0d@mail.gmail.com>

On Sat, Nov 1, 2008 at 9:44 PM, DD32 <wordpress@dd32.id.au> wrote:

> On Sun, 02 Nov 2008 10:09:32 +1100, A Walker <photofantaisie@live.fr>
> wrote:
>
>  In case I haven't explained myself very well (probably not, lol) the idea
>> is to only register the deactivation hook if the plugin is installed on WP
>> 2.6 and below.
>>
>> I'm scratching my head on this, and if anyone can point out where I've
>> overlooked the obvious - please do! Thanks!  :-)
>>
>
> If i'm understanding correctly, You're trying to work out how to only
> register a deactivation hook for WP < 2.7? ie. to replace the uninstall
> functionality?
>
> If so i'd do this:
>
> if ( function_exists('register_uninstall_hook') )
>    register_uninstall_hook('myplugin_uninstall');
> else
>    register_deactivation_hook('myplugin_deactivate')


Would you really want to define deactivating a plugin as the same as
uninstalling it?
Seems to me there are situations where you would deactivate a plugin but not
want to totally remove all its settings (if you deactivate plugins before
upgrading WordPress for example).
Perhaps a better way to do this would be to insert an "uninstall" link much
like people have talked about inserting "configure" links in the plugin
management screen.

I don't know though, maybe I'm wrong on this :)
From idledsoul at gmail.com  Sun Nov  2 04:23:21 2008
From: idledsoul at gmail.com (Idled Soul)
Date: Sun Nov  2 02:23:31 2008
Subject: [wp-hackers] Span to wp_list_pages
Message-ID: <490D2B39.9030900@gmail.com>

Just when I was going to send to the list to figure out How-To add 
"span" tags within/around the wp_list_pages function, I find this hack 
here...

http://wphacks.com/sliding-doors-wordpress-navigation-css-technique/

I guess Google, IS really your friend... :D Unless of course someone 
else has something different, maybe, eh? :D :P
From wordpress at santosj.name  Sun Nov  2 03:11:51 2008
From: wordpress at santosj.name (Jacob Santos)
Date: Sun Nov  2 03:12:03 2008
Subject: [wp-hackers] Plugin uninstall/deactivate in 2.7 vs 2.6
In-Reply-To: <BLU127-W18993822429ADABDD22188D0230@phx.gbl>
References: <BLU127-W18993822429ADABDD22188D0230@phx.gbl>
Message-ID: <490D1A77.1030602@santosj.name>

Sigh, I wrote about this on my blog when ever it was first introduced, 
but I guess many missed that. No worries, Frank's article appears to be 
better written.

Your code will not work the way you think. The constant 
WP_UNINSTALL_PLUGIN does not exist until uninstall. It is something you 
look for the existence of, not the lack of existence of.

For backwards compatibility, you should use the method that DD32 wrote 
about in his reply.

Jacob Santos

A Walker wrote:
> Having read Frank's excellent article here: http://wpengineer.com/wordpress-plugin-deinstall-data-automatically/ I think I understood much better how the plugin uninstall routines work in 2.7. Thanks Frank!
>
> It seems to me that for 2.7+ the register_deactivation_hook is no longer required provided the plugin author provides an uninstall.php file with the appropriate code. So, I was wondering about adding some backwards compatibility for 2.6 etc, so that the plugin's options are deleted from the db if a user with less than 2.7 decides to deactivate the plugin. I tried adding this to my plugin, but found that the deactivation hook was still being registered under WP 2.7 beta 1:
>
> <code>if ( !defined ( WP_UNINSTALL_PLUGIN ) ) {
> register_deactivation_hook(function to delete options...)
> }</code>
>
> Then, create an uninstall.php with delete_options(blah blah) for 2.7+. 
>
> In case I haven't explained myself very well (probably not, lol) the idea is to only register the deactivation hook if the plugin is installed on WP 2.6 and below.
>
> I'm scratching my head on this, and if anyone can point out where I've overlooked the obvious - please do! Thanks!  :-) 
>
> Ade.
> _________________________________________________________________
> D?couvrez la nouvelle g?n?ration des servives de Windows Live
> http://get.live.com_______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From idledsoul at gmail.com  Sun Nov  2 05:21:23 2008
From: idledsoul at gmail.com (Idled Soul)
Date: Sun Nov  2 03:21:34 2008
Subject: [wp-hackers] Re: Span to wp_list_pages
In-Reply-To: <490D2B39.9030900@gmail.com>
References: <490D2B39.9030900@gmail.com>
Message-ID: <490D38D3.1060407@gmail.com>

Actually, I think it's THIS code that is actually working for me. I'm 
not positive though, didn't try classing it yet...

<?php echo preg_replace('@\<li([^>]*)>\<a([^>]*)>(.*?)\<\/a>@i', 
'<li$1><a$2><span>$3</span></a>', 
wp_list_pages('echo=0&orderby=name&exlude=181&title_li=&depth=1')); ?>

Just throwing it out there in case someone else wants it or whatever. :)
From charles at cefm.ca  Sun Nov  2 04:26:37 2008
From: charles at cefm.ca (Charles E. Frees-Melvin)
Date: Sun Nov  2 04:26:53 2008
Subject: [wp-hackers] Span to wp_list_pages
In-Reply-To: <490D2B39.9030900@gmail.com>
References: <490D2B39.9030900@gmail.com>
Message-ID: <178983F2-8C76-4578-827F-C73FF298DE85@cefm.ca>

wp_list_pages and wp_list_bookmarks in 2.7 have 2 new parameters  
link_before and link_after. these allow you to add text or html inside  
the <a> tags around the text. This hack is the exact reason I pushed  
for ticket #5652

On 2-Nov-08, at 1:23 AM, Idled Soul wrote:

> Just when I was going to send to the list to figure out How-To add  
> "span" tags within/around the wp_list_pages function, I find this  
> hack here...
>
> http://wphacks.com/sliding-doors-wordpress-navigation-css-technique/
>
> I guess Google, IS really your friend... :D Unless of course someone  
> else has something different, maybe, eh? :D :P
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at gmail.com  Sun Nov  2 04:32:33 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Sun Nov  2 04:32:51 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <490D04F7.9010209@poplarware.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net><033301c93c00$5ba709b0$6702a8c0@Guides.local>
	<490D04F7.9010209@poplarware.com>
Message-ID: <039801c93ca4$073d70e0$6702a8c0@Guides.local>

Jennifer Hodgdon wrote:
>> I read this thread on Drupal vs. WordPress with some interest (for sites
needing custom content types beyond Posts and Pages). I say: use the right
tool for the job at hand, and I use both Drupal and WordPress, depending on
the job.

Thanks for the comment Jennifer, and in general that's great advice! I
actually have a lot more experience with Drupal than with WordPress and
that's the same advice I give my clients. Sometimes I suggest WordPress and
other times I suggest Drupal all depending on their needs and any other
relevent factors.

However, it's not always clear-cut which is exactly the "right tool", you
know?  Sometimes a project is a 75% right for WordPress and 25% right for
Drupal, and other times vice-versa.

In my current particular case I've been brought in on a project that was
already partially implemented on WordPress by a WordPress-centric web
designer who the client selected before selecting me. That designer's skill
set is perfectly complementary with mine; she's handling the design aspects
which I simply can't do and she has a lot more experience with available
WordPress plugins than I have. I OTOH have the expertise to both help the
client understand how best to use web technology to achieve her business
goals and I also have the PHP/MySQL programming skill to develop needed
plugin functionality.

So switching from WordPress to Drupal really isn't an option for this client
nor, if I were given the authority to switch them to Drupal, would I
recommend it.  Their site really would benefit much more from WordPress IMO
than from Drupal even though they have the need to have a list of "Company
Profiles" as well as possibly a few other custom content types in the
future. Given that their site in general fits WordPress better than Drupal I
starting thinking how nice it would be to have a "CCK-lite" for WordPress,
hence my discussion.

As an aside, the client discussed wanting something like
http://crunchbase.com (for different types of companies than Crunchbase
covers) and I told them if they wanted to launch in 2 weeks that wasn't an
option. I did say that if they really wanted a site like CrunchBase then is
would be something much better suited to Drupal than WordPress and that we
could consider doing it once their main site is launched is launched on
WordPress.

That said, I've been saying the site was "more of Wordpress site" than a
Drupal site and I feel the need to quantify that.  Here are my impressions
of WordPress' strength thus far:

-- WordPress has excellent admin usability whereas I cringe whenever I think
of turning over a Drupal site to a non-technical person to administer.

-- WordPress has a large number of plugins designed to optimize driving
traffic to a site using many different approaches from SEO to Twitter
plugins to Video plugins, etc. whereas Drupal's modules are more broad-based
CMS, community-oriented, and generic functionality like CCK & Views.

-- The WordPress UI pattern fits news-oriented sites better IMO than Drupal
if for no other reason that so many more people are using WP that
vistors/readers/users have come to understand them better thus making them
more usable (not sure which is the cause and effect here; usability or
ubibiquity but at this point does it matter?)

-- WordPress is much easier to theme than Drupal thus so many more designers
know how to theme WordPress than Drupal. There are also many great themes
available for WordPress but few for Drupal.

-- And while this is subjective, I've found the WordPress community to
generally be much nicer than those in the Drupal community. It seems the
latter has too many people with chips on their shoulder who are not civil
when it comes to people who needs that differ from their own perceptions of
need. WordPress people OTOH are just, in general, nice!

Of course there are positive things I can say about Drupal and negative ones
about WordPress there's no reason for me to go into them here. :)

So though I'm sure I forgot to mention something those are my reasons for
preferring WordPress for this project (and many others.) Thus I am very
interested in seeing WordPress' add the ability to support use-cases that
call for simple custom content types especially since WordPress doesn't seem
that far off from being able to support them!

>> The only drawback to this approach is that you have to become an expert
in both Drupal and WordPress in order to satisfy all your clients. 

For me that's not a drawback, I already know Drupal and am learning
WordPress in depth now. :-) Also, I think it helps to know more than one
because it allows a person to recognize more than one way to achieve a
solution; case in point how I'm looking to solve this problem in WordPress
by taking what I've learned from my experience with Drupal!

Anyway, thanks for your (and everyone else's) comments; you've all been
great.

-Mike Schinkel
http://mikeschinkel.com

From idledsoul at gmail.com  Sun Nov  2 06:34:30 2008
From: idledsoul at gmail.com (Idled Soul)
Date: Sun Nov  2 04:34:37 2008
Subject: [wp-hackers] Span to wp_list_pages
In-Reply-To: <178983F2-8C76-4578-827F-C73FF298DE85@cefm.ca>
References: <490D2B39.9030900@gmail.com>
	<178983F2-8C76-4578-827F-C73FF298DE85@cefm.ca>
Message-ID: <490D49F6.3000800@gmail.com>

Charles E. Frees-Melvin wrote:
> wp_list_pages and wp_list_bookmarks in 2.7 have 2 new parameters  
> link_before and link_after. these allow you to add text or html inside  
> the <a> tags around the text. This hack is the exact reason I pushed  
> for ticket #5652
>   

Ahh! Okay, I didn't notice that. I checked Codex, and didn't see that. 
Maybe I overlooked it... hmm. Thanks Charles! :D
From photofantaisie at live.fr  Sun Nov  2 05:30:15 2008
From: photofantaisie at live.fr (A Walker)
Date: Sun Nov  2 05:30:30 2008
Subject: [wp-hackers] Plugin uninstall/deactivate in 2.7 vs 2.6
In-Reply-To: <490D1A77.1030602@santosj.name>
References: <BLU127-W18993822429ADABDD22188D0230@phx.gbl>
	<490D1A77.1030602@santosj.name>
Message-ID: <BLU127-W4E681EED2BC7BBE7FC436D0220@phx.gbl>



Jacob,

I did read your article several times :-) but I hadn't realised that the WP_UNINSTALL_PLUGIN constant is created at uninstall, not at activation.

Thanks DD32, I'll use your method. :-)

Thanks again.

Ade.

> Date: Sat, 1 Nov 2008 22:11:51 -0500
> From: wordpress@santosj.name
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Plugin uninstall/deactivate in 2.7 vs 2.6
> 
> Sigh, I wrote about this on my blog when ever it was first introduced, 
> but I guess many missed that. No worries, Frank's article appears to be 
> better written.
> 
> Your code will not work the way you think. The constant 
> WP_UNINSTALL_PLUGIN does not exist until uninstall. It is something you 
> look for the existence of, not the lack of existence of.
> 
> For backwards compatibility, you should use the method that DD32 wrote 
> about in his reply.
> 
> Jacob Santos
> 
> A Walker wrote:
> > Having read Frank's excellent article here: http://wpengineer.com/wordpress-plugin-deinstall-data-automatically/ I think I understood much better how the plugin uninstall routines work in 2.7. Thanks Frank!
> >
> > It seems to me that for 2.7+ the register_deactivation_hook is no longer required provided the plugin author provides an uninstall.php file with the appropriate code. So, I was wondering about adding some backwards compatibility for 2.6 etc, so that the plugin's options are deleted from the db if a user with less than 2.7 decides to deactivate the plugin. I tried adding this to my plugin, but found that the deactivation hook was still being registered under WP 2.7 beta 1:
> >
> > <code>if ( !defined ( WP_UNINSTALL_PLUGIN ) ) {
> > register_deactivation_hook(function to delete options...)
> > }</code>
> >
> > Then, create an uninstall.php with delete_options(blah blah) for 2.7+. 
> >
> > In case I haven't explained myself very well (probably not, lol) the idea is to only register the deactivation hook if the plugin is installed on WP 2.6 and below.
> >
> > I'm scratching my head on this, and if anyone can point out where I've overlooked the obvious - please do! Thanks!  :-) 
> >
> > Ade.
> > _________________________________________________________________
> > D?couvrez la nouvelle g?n?ration des servives de Windows Live
> > http://get.live.com_______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >   
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

_________________________________________________________________
Rejoignez la nouvelle famille de Windows Live Messenger
http://get.live.com
From wordpress at santosj.name  Sun Nov  2 06:53:23 2008
From: wordpress at santosj.name (Jacob Santos)
Date: Sun Nov  2 06:53:50 2008
Subject: [wp-hackers] Plugin uninstall/deactivate in 2.7 vs 2.6
In-Reply-To: <6dbcd2670811011853m5f2129e2p1d485713d0b29d0d@mail.gmail.com>
References: <BLU127-W18993822429ADABDD22188D0230@phx.gbl>	<op.ujyxr31nk6w4mc@dd32.no-ip.com>
	<6dbcd2670811011853m5f2129e2p1d485713d0b29d0d@mail.gmail.com>
Message-ID: <490D4E63.7070508@santosj.name>

Will,

That is certainly a possibility. The right or wrong way isn't defined by 
WordPress core, nor by anyone else. You may do what you want when you 
write plugins. To go about saying that you must do it this way or that 
way is not the intention of the community. Even more so, since you have 
TWO methods of uninstalling your plugin. Once WordPress 2.7 is released, 
even if one method is used more than the other, the second method will 
still be supported nor removed. The whole argument that you shouldn't 
uninstall a plugin at deactivation is what bought about uninstalling at 
removal. I agree that deactivation shouldn't mean uninstall, because it 
is recommended that users deactivate before upgrading. Many users will 
be upset if you removed the settings on deactivation.

The argument that you should include a link, well several of the early 
drafts of the patch did just that, in several different ways. It was 
decided that since the majority of users will not want to just uninstall 
a plugin (which is basically restoring the defaults or clearing or 
cleaning of the plugin), unless they are completely removing it. You are 
right that you can add your own link for uninstall, but a better name 
would probably be "Restore defaults" instead.

Jacob Santos

Will Anderson wrote:
> On Sat, Nov 1, 2008 at 9:44 PM, DD32 <wordpress@dd32.id.au> wrote:
>
>   
>> On Sun, 02 Nov 2008 10:09:32 +1100, A Walker <photofantaisie@live.fr>
>> wrote:
>>
>>  In case I haven't explained myself very well (probably not, lol) the idea
>>     
>>> is to only register the deactivation hook if the plugin is installed on WP
>>> 2.6 and below.
>>>
>>> I'm scratching my head on this, and if anyone can point out where I've
>>> overlooked the obvious - please do! Thanks!  :-)
>>>
>>>       
>> If i'm understanding correctly, You're trying to work out how to only
>> register a deactivation hook for WP < 2.7? ie. to replace the uninstall
>> functionality?
>>
>> If so i'd do this:
>>
>> if ( function_exists('register_uninstall_hook') )
>>    register_uninstall_hook('myplugin_uninstall');
>> else
>>    register_deactivation_hook('myplugin_deactivate')
>>     
>
>
> Would you really want to define deactivating a plugin as the same as
> uninstalling it?
> Seems to me there are situations where you would deactivate a plugin but not
> want to totally remove all its settings (if you deactivate plugins before
> upgrading WordPress for example).
> Perhaps a better way to do this would be to insert an "uninstall" link much
> like people have talked about inserting "configure" links in the plugin
> management screen.
>
> I don't know though, maybe I'm wrong on this :)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From will at willnorris.com  Sun Nov  2 07:52:20 2008
From: will at willnorris.com (Will Norris)
Date: Sun Nov  2 07:52:42 2008
Subject: [wp-hackers] WP 2.7 - add_menu_page
Message-ID: <10DE842A-0C36-4F4D-8846-8048FA151066@willnorris.com>

Are there any plans of making it possible to add top-level menu items  
anywhere other than the at the bottom of the menu?  I realize you can  
do this manually by:
   $menu[6] = array( ...

but I was wondering if the API would expose it.  I also remember Jane  
saying something at WordCamp Portland about being able to sort the  
menu items.  Any chance of either of those?

-will
From malaiac at gmail.com  Sun Nov  2 09:21:00 2008
From: malaiac at gmail.com (Malaiac)
Date: Sun Nov  2 09:21:09 2008
Subject: [wp-hackers] WP Roadmap Site Launch
In-Reply-To: <4909D486.3000503@gaarai.com>
References: <4908DBA6.8040505@gaarai.com>
	<93c3fbd10810292139l6b9a5e2fv7236c027de19afa7@mail.gmail.com>
	<49099E1D.8020000@gaarai.com>
	<93c3fbd10810300604h1ae7ac4di1d54f1373c58a80b@mail.gmail.com>
	<4909D486.3000503@gaarai.com>
Message-ID: <59e7f3130811020121m2f8e3de0xc2975ef6b891fabf@mail.gmail.com>

2008/10/30 Chris <gaarai@gaarai.com>:
> I'm very pleased to report that WP Roadmap now has it's own site. Please

great !
You are responding to a real pain for dev and hackers.
Maybe when the "roadmap" is filled, you should release a "debug"
plugin that, when activated, would echo markers as it goes its way
through WP loop.

M
From malaiac at gmail.com  Sun Nov  2 09:22:42 2008
From: malaiac at gmail.com (Malaiac)
Date: Sun Nov  2 09:22:50 2008
Subject: [wp-hackers] WP Roadmap Site Launch
In-Reply-To: <59e7f3130811020121m2f8e3de0xc2975ef6b891fabf@mail.gmail.com>
References: <4908DBA6.8040505@gaarai.com>
	<93c3fbd10810292139l6b9a5e2fv7236c027de19afa7@mail.gmail.com>
	<49099E1D.8020000@gaarai.com>
	<93c3fbd10810300604h1ae7ac4di1d54f1373c58a80b@mail.gmail.com>
	<4909D486.3000503@gaarai.com>
	<59e7f3130811020121m2f8e3de0xc2975ef6b891fabf@mail.gmail.com>
Message-ID: <59e7f3130811020122t583c5ff9jd6b4f993c583c463@mail.gmail.com>

2008/11/2 Malaiac <malaiac@gmail.com>:
> 2008/10/30 Chris <gaarai@gaarai.com>:
>> I'm very pleased to report that WP Roadmap now has it's own site. Please
>
> great !
> You are responding to a real pain for dev and hackers.
> Maybe when the "roadmap" is filled, you should release a "debug"
> plugin that, when activated, would echo markers as it goes its way
> through WP loop.
>
> M
well... seems you done it already, sorry, catching up on the list
:D
From malaiac at gmail.com  Sun Nov  2 09:27:09 2008
From: malaiac at gmail.com (Malaiac)
Date: Sun Nov  2 09:27:19 2008
Subject: [wp-hackers] Loops and Cloning
In-Reply-To: <89F0B5E2-EFAD-4487-8C30-236928EBCFFA@funroe.net>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<89F0B5E2-EFAD-4487-8C30-236928EBCFFA@funroe.net>
Message-ID: <59e7f3130811020127s794c0f2bv4ddfb6ae20598d53@mail.gmail.com>

2008/11/1 Jess Planck <jess@funroe.net>:
> On Oct 31, 2008, at 9:27 PM, Mark Jaquith wrote:
>
>> It's better to just instantiate your own WP_Query object.

Trouble with instantiating another WP_Query is that filters and
actions have NO way to know on which wp_query object they are working
on.
What if I need some filtering on one custom wp_query object, but none
on the main wp_query loop ?
The filter has to work depending on current query_vars... but how
could it know them ? (global $wp_query;
print_r($wp_query->query_vars); will work on the main wp_query, but
not on the custom one)

Possible solutions :
adding an optional query_var "name"  to each wp_query object
From malaiac at gmail.com  Sun Nov  2 09:50:38 2008
From: malaiac at gmail.com (Malaiac)
Date: Sun Nov  2 09:50:53 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <039801c93ca4$073d70e0$6702a8c0@Guides.local>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<033301c93c00$5ba709b0$6702a8c0@Guides.local>
	<490D04F7.9010209@poplarware.com>
	<039801c93ca4$073d70e0$6702a8c0@Guides.local>
Message-ID: <59e7f3130811020150w1626c8a7g58f66491eb49f830@mail.gmail.com>

2008/11/2 Mike Schinkel <mikeschinkel@gmail.com>:
> Thanks for the comment Jennifer, and in general that's great advice! I
> actually have a lot more experience with Drupal than with WordPress and
> that's the same advice I give my clients. Sometimes I suggest WordPress and
> other times I suggest Drupal all depending on their needs and any other
> relevent factors.

short answer : use zelist, plugin directory for wordpress (<auto
promotion> http://www.zelist.net/en/ </auto promotion>)

long answer :
custom post_type is possible in WP
but WP doesn't like custom taxonomies

what if you want to make a categories dropdown of your custom elements ?
well, you can't

it's like each post_type was integrated after the other, adding a new
line to WP core code each time.
e.g. this pattern is very common :
if($post->post_type == 'page')  { do something to a page; }
else{ do something ASSUMING this is a post; }
another exemple :
function work_on_items (imaginary function)
 {
let's say i need the category of elements (for hierarchy or whatever)
90% of the time, there is an equivalent of :
$taxonomy = 'category'; // 'category' is hardcoded !
$categories = get_categories($taxonomy);
}

Worst case I think is the wp_edit_post
which calls wp_update_post,
which calls wp_insert_post()
which calls wp_set_post_categories()
which calls wp_set_objects_terms with a hardcoded string 'category' to
link the item (assuming item->post_type = post)
// return wp_set_object_terms($post_ID, $post_categories, 'category');

so basically, if you want to have a custom taxonomy for your custom
post_type - it makes sense, since you may want to have separate
taxonomies for the regular posts and the custom post_type posts - you
have to duplicate 4 big functions *

so WP allows you to have custom post_type
It just doesn't allow you to display/work/manage them like regular
posts/pages :)

as for zeList, I don't know if it could help you for this particular
work. I hope so. I welcome feedbacks anyway :)

Malaiac

* shameless because I spent hours and many lines of code to replicate
some WP functions
see http://www.zelist.net/xref/includes/index.html and explore
zelist-*-duplicate.php files
** for example http://www.zelist.net/xref/includes/zelist-admin-post.duplicate.php.source.html
where the wp_edit_post() entire process is duplicated
From malaiac at gmail.com  Sun Nov  2 09:55:40 2008
From: malaiac at gmail.com (Malaiac)
Date: Sun Nov  2 09:55:54 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <59e7f3130811020150w1626c8a7g58f66491eb49f830@mail.gmail.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<033301c93c00$5ba709b0$6702a8c0@Guides.local>
	<490D04F7.9010209@poplarware.com>
	<039801c93ca4$073d70e0$6702a8c0@Guides.local>
	<59e7f3130811020150w1626c8a7g58f66491eb49f830@mail.gmail.com>
Message-ID: <59e7f3130811020155y124b12aetb7689d652b501de7@mail.gmail.com>

2008/11/2 Malaiac <malaiac@gmail.com>:

btw,  WordPress 2.7 made some advances on this topic, like :
filtering  the taxonomy of wp_get_categories
http://trac.wordpress.org/changeset/9080
filtering usernumposts (since your custom taxonomy categories list
didn't know how to count its own custom_type childs before)
http://trac.wordpress.org/changeset/9009
filtering columns headers for custom post_types
http://trac.wordpress.org/changeset/8967
From mikeschinkel at gmail.com  Sun Nov  2 10:15:07 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Sun Nov  2 10:15:24 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <59e7f3130811020150w1626c8a7g58f66491eb49f830@mail.gmail.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net><F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net><033301c93c00$5ba709b0$6702a8c0@Guides.local><490D04F7.9010209@poplarware.com><039801c93ca4$073d70e0$6702a8c0@Guides.local>
	<59e7f3130811020150w1626c8a7g58f66491eb49f830@mail.gmail.com>
Message-ID: <03c101c93cd3$e2e67590$6702a8c0@Guides.local>

Malaiac>>  short answer : use zelist, plugin directory for wordpress (<auto
promotion> http://www.zelist.net/en/ </auto promotion>)

Thanks for the answer. 

Do you have screen shots anywhere?

BTW, I don't want to create a directory per se, I want to be able to manage
different content types. It may look superficially like a directory but that
isn't really what I want.

>> custom post_type is possible in WP but WP doesn't like custom taxonomies

Let me see if I understand by giving an example. Are you saying that I can't
create a list of categories like "Startup", "Growth", and "Mature" that
would only apply to my custom post_type "Companies?"

Okay, that's fair. I was planning to use tags for categorizing and create a
plugin where I could list of the tags that would apply. Do you think that
won't work?

-Mike Schinkel 
http://mikeschinkel.com


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Malaiac
Sent: Sunday, November 02, 2008 4:51 AM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Post/Page "Types"?

2008/11/2 Mike Schinkel <mikeschinkel@gmail.com>:
> Thanks for the comment Jennifer, and in general that's great advice! I 
> actually have a lot more experience with Drupal than with WordPress 
> and that's the same advice I give my clients. Sometimes I suggest 
> WordPress and other times I suggest Drupal all depending on their 
> needs and any other relevent factors.

short answer : use zelist, plugin directory for wordpress (<auto
promotion> http://www.zelist.net/en/ </auto promotion>)

long answer :
custom post_type is possible in WP
but WP doesn't like custom taxonomies

what if you want to make a categories dropdown of your custom elements ?
well, you can't

it's like each post_type was integrated after the other, adding a new line
to WP core code each time.
e.g. this pattern is very common :
if($post->post_type == 'page')  { do something to a page; } else{ do
something ASSUMING this is a post; } another exemple :
function work_on_items (imaginary function)  { let's say i need the category
of elements (for hierarchy or whatever) 90% of the time, there is an
equivalent of :
$taxonomy = 'category'; // 'category' is hardcoded !
$categories = get_categories($taxonomy); }

Worst case I think is the wp_edit_post
which calls wp_update_post,
which calls wp_insert_post()
which calls wp_set_post_categories()
which calls wp_set_objects_terms with a hardcoded string 'category' to link
the item (assuming item->post_type = post) // return
wp_set_object_terms($post_ID, $post_categories, 'category');

so basically, if you want to have a custom taxonomy for your custom
post_type - it makes sense, since you may want to have separate taxonomies
for the regular posts and the custom post_type posts - you have to duplicate
4 big functions *

so WP allows you to have custom post_type It just doesn't allow you to
display/work/manage them like regular posts/pages :)

as for zeList, I don't know if it could help you for this particular work. I
hope so. I welcome feedbacks anyway :)

Malaiac

* shameless because I spent hours and many lines of code to replicate some
WP functions see http://www.zelist.net/xref/includes/index.html and explore
zelist-*-duplicate.php files
** for example
http://www.zelist.net/xref/includes/zelist-admin-post.duplicate.php.source.h
tml
where the wp_edit_post() entire process is duplicated
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From malaiac at gmail.com  Sun Nov  2 12:53:07 2008
From: malaiac at gmail.com (Malaiac)
Date: Sun Nov  2 12:53:18 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <03c101c93cd3$e2e67590$6702a8c0@Guides.local>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<033301c93c00$5ba709b0$6702a8c0@Guides.local>
	<490D04F7.9010209@poplarware.com>
	<039801c93ca4$073d70e0$6702a8c0@Guides.local>
	<59e7f3130811020150w1626c8a7g58f66491eb49f830@mail.gmail.com>
	<03c101c93cd3$e2e67590$6702a8c0@Guides.local>
Message-ID: <59e7f3130811020453h3871dfe5re50147c0f1606032@mail.gmail.com>

2008/11/2 Mike Schinkel <mikeschinkel@gmail.com>:
> Do you have screen shots anywhere?
http://www.zelist.net/what-is-zelist/screenshots/en/

> Let me see if I understand by giving an example. Are you saying that I can't
> create a list of categories like "Startup", "Growth", and "Mature" that
> would only apply to my custom post_type "Companies?"
>
> Okay, that's fair. I was planning to use tags for categorizing and create a
> plugin where I could list of the tags that would apply. Do you think that
> won't work?

It depends if you need to manage separately posts and 'custom_posts_type' items.

If you need separate taxonomies (zeList was created with a classic
magazine+directory on the same website and the same WP installation
point of view), you're up to some dirty work :)

If not (category 'Growth' features both Posts and Custom), it may work
with some heavy filtering (ie including 'post_type' = 'custom' in all
queries), and / or some trust in end users (since every "item", post
or custom, will be subject to the same process)

M
From malaiac at gmail.com  Sun Nov  2 12:54:38 2008
From: malaiac at gmail.com (Malaiac)
Date: Sun Nov  2 12:54:47 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <59e7f3130811020453h3871dfe5re50147c0f1606032@mail.gmail.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<033301c93c00$5ba709b0$6702a8c0@Guides.local>
	<490D04F7.9010209@poplarware.com>
	<039801c93ca4$073d70e0$6702a8c0@Guides.local>
	<59e7f3130811020150w1626c8a7g58f66491eb49f830@mail.gmail.com>
	<03c101c93cd3$e2e67590$6702a8c0@Guides.local>
	<59e7f3130811020453h3871dfe5re50147c0f1606032@mail.gmail.com>
Message-ID: <59e7f3130811020454s718a762el40b147d8a53f9a15@mail.gmail.com>

just a thought
this discussion is quite interesting imho, because the next "target"
for wordpress is not blogger, it's joomla/drupal
see http://www.google.com/trends?q=wordpress,+blogger,+drupal,+joomla,+mambo&ctab=0&geo=all&date=all&sort=0
From malaiac at gmail.com  Sun Nov  2 13:37:35 2008
From: malaiac at gmail.com (Malaiac)
Date: Sun Nov  2 13:37:49 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <59e7f3130811020454s718a762el40b147d8a53f9a15@mail.gmail.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<033301c93c00$5ba709b0$6702a8c0@Guides.local>
	<490D04F7.9010209@poplarware.com>
	<039801c93ca4$073d70e0$6702a8c0@Guides.local>
	<59e7f3130811020150w1626c8a7g58f66491eb49f830@mail.gmail.com>
	<03c101c93cd3$e2e67590$6702a8c0@Guides.local>
	<59e7f3130811020453h3871dfe5re50147c0f1606032@mail.gmail.com>
	<59e7f3130811020454s718a762el40b147d8a53f9a15@mail.gmail.com>
Message-ID: <59e7f3130811020537x7126d5cm276b19ee6244f272@mail.gmail.com>

if you need separate categories, and do not want to create a whole new
taxonomy,  you may want to use some "custom fields for categories"
which is not WP-included
see http://www.flairpair.com/blog/wordpress/category-custom-fields (not tested)

M

2008/11/2 Malaiac <malaiac@gmail.com>:
> just a thought
> this discussion is quite interesting imho, because the next "target"
> for wordpress is not blogger, it's joomla/drupal
> see http://www.google.com/trends?q=wordpress,+blogger,+drupal,+joomla,+mambo&ctab=0&geo=all&date=all&sort=0
>
From wp-hackers at itsananderson.com  Sun Nov  2 15:17:46 2008
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Sun Nov  2 15:18:01 2008
Subject: [wp-hackers] Span to wp_list_pages
In-Reply-To: <490D49F6.3000800@gmail.com>
References: <490D2B39.9030900@gmail.com>
	<178983F2-8C76-4578-827F-C73FF298DE85@cefm.ca>
	<490D49F6.3000800@gmail.com>
Message-ID: <6dbcd2670811020717n55cfda26s6f1d404789fa4a3a@mail.gmail.com>

Well, codex probably wouldn't have had an entry for it yet since the first
beta for 2.7 was just released yesterday. Maybe someone should update it
though :)

On Sun, Nov 2, 2008 at 2:34 AM, Idled Soul <idledsoul@gmail.com> wrote:

> Charles E. Frees-Melvin wrote:
>
>> wp_list_pages and wp_list_bookmarks in 2.7 have 2 new parameters
>>  link_before and link_after. these allow you to add text or html inside  the
>> <a> tags around the text. This hack is the exact reason I pushed  for ticket
>> #5652
>>
>>
>
> Ahh! Okay, I didn't notice that. I checked Codex, and didn't see that.
> Maybe I overlooked it... hmm. Thanks Charles! :D
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From justmichaelh at gmail.com  Sun Nov  2 15:36:02 2008
From: justmichaelh at gmail.com (MichaelH)
Date: Sun Nov  2 15:36:12 2008
Subject: [wp-hackers] Span to wp_list_pages
References: <490D2B39.9030900@gmail.com><178983F2-8C76-4578-827F-C73FF298DE85@cefm.ca><490D49F6.3000800@gmail.com>
	<6dbcd2670811020717n55cfda26s6f1d404789fa4a3a@mail.gmail.com>
Message-ID: <084f01c93d00$b780dda0$6401a8c0@DELL8600>

From: "Will Anderson" <wp-hackers@itsananderson.com>
> Well, codex probably wouldn't have had an entry for it yet since the first
> beta for 2.7 was just released yesterday. Maybe someone should update it
> though :)

There were these changes made to Codex on Oct 17:

http://codex.wordpress.org/index.php?title=Template_Tags%2Fwp_link_pages&diff=62692&oldid=46067

http://codex.wordpress.org/index.php?title=Template_Tags%2Fwp_list_bookmarks&diff=62569&oldid=60967

Note that the change is wp_link_pages, not wp_list_pages.

Are those two parameters, link_before and link_after, available for 
wp_list_pages?

MichaelH


From otto at ottodestruct.com  Sun Nov  2 16:09:42 2008
From: otto at ottodestruct.com (Otto)
Date: Sun Nov  2 16:09:52 2008
Subject: [wp-hackers] Loops and Cloning
In-Reply-To: <59e7f3130811020127s794c0f2bv4ddfb6ae20598d53@mail.gmail.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<89F0B5E2-EFAD-4487-8C30-236928EBCFFA@funroe.net>
	<59e7f3130811020127s794c0f2bv4ddfb6ae20598d53@mail.gmail.com>
Message-ID: <161617690811020809m4f925297qe1bf804f74c34ef1@mail.gmail.com>

On Sun, Nov 2, 2008 at 3:27 AM, Malaiac <malaiac@gmail.com> wrote:
> 2008/11/1 Jess Planck <jess@funroe.net>:
>> On Oct 31, 2008, at 9:27 PM, Mark Jaquith wrote:
>>
>>> It's better to just instantiate your own WP_Query object.
>
> Trouble with instantiating another WP_Query is that filters and
> actions have NO way to know on which wp_query object they are working
> on.
> What if I need some filtering on one custom wp_query object, but none
> on the main wp_query loop ?
> The filter has to work depending on current query_vars... but how
> could it know them ? (global $wp_query;
> print_r($wp_query->query_vars); will work on the main wp_query, but
> not on the custom one)
>
> Possible solutions :
> adding an optional query_var "name"  to each wp_query object

The query_vars *ARE* part of the WP_Query object. The global $wp_query
itself is a WP_Query object, it's just the default one.

$q = new WP_Query('queryvars=whatever');
print_r($q->query_vars);
From malaiac at gmail.com  Sun Nov  2 16:27:31 2008
From: malaiac at gmail.com (Malaiac)
Date: Sun Nov  2 16:27:42 2008
Subject: [wp-hackers] Loops and Cloning
In-Reply-To: <161617690811020809m4f925297qe1bf804f74c34ef1@mail.gmail.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<89F0B5E2-EFAD-4487-8C30-236928EBCFFA@funroe.net>
	<59e7f3130811020127s794c0f2bv4ddfb6ae20598d53@mail.gmail.com>
	<161617690811020809m4f925297qe1bf804f74c34ef1@mail.gmail.com>
Message-ID: <59e7f3130811020827j58b73f2bpd0f959b0e63b7b02@mail.gmail.com>

2008/11/2 Otto <otto@ottodestruct.com>:
> The query_vars *ARE* part of the WP_Query object. The global $wp_query
> itself is a WP_Query object, it's just the default one.
>
> $q = new WP_Query('queryvars=whatever');
> print_r($q->query_vars);

sure.
try this instead :

$myquery = new WP_Query('queryvars=whatever');
and :
add_filter('posts_where','my_function'); > apply to all wp_query objects

function my_function($where_string)
{
// ok... now I want to act on the where only IF i'm in $myquery and
not $wp_query
// ....
// mmmm....
// maybe a get_query_var($var) to guess where I am ?
// nope.. get_query_var($var) only returns $wp_query->query_vars;
// so I'm stuck
}
From idledsoul at gmail.com  Sun Nov  2 17:33:19 2008
From: idledsoul at gmail.com (Idled Soul)
Date: Sun Nov  2 16:33:36 2008
Subject: [wp-hackers] Span to wp_list_pages
In-Reply-To: <084f01c93d00$b780dda0$6401a8c0@DELL8600>
References: <490D2B39.9030900@gmail.com><178983F2-8C76-4578-827F-C73FF298DE85@cefm.ca><490D49F6.3000800@gmail.com>	<6dbcd2670811020717n55cfda26s6f1d404789fa4a3a@mail.gmail.com>
	<084f01c93d00$b780dda0$6401a8c0@DELL8600>
Message-ID: <490DE45F.8050607@gmail.com>

MichaelH wrote:
> From: "Will Anderson" <wp-hackers@itsananderson.com>
> > Well, codex probably wouldn't have had an entry for it yet since the first
> > beta for 2.7 was just released yesterday. Maybe someone should update it
> > though :)
>
> There were these changes made to Codex on Oct 17:
>
> http://codex.wordpress.org/index.php?title=Template_Tags%2Fwp_link_pages&diff=62692&oldid=46067
>
> http://codex.wordpress.org/index.php?title=Template_Tags%2Fwp_list_bookmarks&diff=62569&oldid=60967
>
> Note that the change is wp_link_pages, not wp_list_pages.
>
> Are those two parameters, link_before and link_after, available for 
> wp_list_pages?
>   
Thanks for those links Michael. :D Yeah, apparently that ticket was left 
2 weeks ago?
http://trac.wordpress.org/changeset/9202

I'll have to tinker around with some things here on the localhost, I 
really don't want to use that ugly "hack" or whatever. Thanks again for 
those links! :)
From charles at cefm.ca  Sun Nov  2 17:06:12 2008
From: charles at cefm.ca (Charles E. Frees-Melvin)
Date: Sun Nov  2 17:07:00 2008
Subject: [wp-hackers] Span to wp_list_pages
In-Reply-To: <084f01c93d00$b780dda0$6401a8c0@DELL8600>
References: <490D2B39.9030900@gmail.com><178983F2-8C76-4578-827F-C73FF298DE85@cefm.ca><490D49F6.3000800@gmail.com><6dbcd2670811020717n55cfda26s6f1d404789fa4a3a@mail.gmail.com>
	<084f01c93d00$b780dda0$6401a8c0@DELL8600>
Message-ID: <2FE5A48686F64F4A8201A275AEE7EA10@cefmpc1>

I made a mistake, and changed wp_link_pages instead of wp_list_pages. I
posted a patch that adds the parameters to wp_list_pages as ticket #8041

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of MichaelH
Sent: November 2, 2008 11:36 AM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Span to wp_list_pages

From: "Will Anderson" <wp-hackers@itsananderson.com>
> Well, codex probably wouldn't have had an entry for it yet since the first
> beta for 2.7 was just released yesterday. Maybe someone should update it
> though :)

There were these changes made to Codex on Oct 17:

http://codex.wordpress.org/index.php?title=Template_Tags%2Fwp_link_pages&dif
f=62692&oldid=46067

http://codex.wordpress.org/index.php?title=Template_Tags%2Fwp_list_bookmarks
&diff=62569&oldid=60967

Note that the change is wp_link_pages, not wp_list_pages.

Are those two parameters, link_before and link_after, available for 
wp_list_pages?

MichaelH


_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From xavier at borderie.net  Sun Nov  2 18:18:42 2008
From: xavier at borderie.net (Xavier Borderie)
Date: Sun Nov  2 18:18:53 2008
Subject: [wp-hackers] WP 2.7 Screens and translations
In-Reply-To: <490CB2F3.2090500@gmail.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<89F0B5E2-EFAD-4487-8C30-236928EBCFFA@funroe.net>
	<490CB2F3.2090500@gmail.com>
Message-ID: <9e4ae73e0811021018r3bb4b8ddj370359d3657a36ed@mail.gmail.com>

> Alsoe would like to alert on some issues on translation on the "new post"
> screen, where translated screens disrupt the normal (english) layout. Bear
> in mind that those strings are already the optimistic short version of a
> string that should actually be even longer. I suspect my language (pt) isn't
> even the longest one...
>
> http://www.box.net/shared/oqxd1e1aqz
> and
> http://www.box.net/shared/dki64v666p

Very much agreed. Now that the UI is settling down, I'm afraid it is
not built to cater for obligatory longer words - English can say a lot
with two words, which is not alwyas the case for other languages.

Here are examples for the FR translation I'm working on:
 - Dashboard as always been translated as "Tableau de bord", but the
menu size is to narrow. If we let the string as is, it breaks down the
words:
http://img83.imageshack.us/my.php?image=wp27tdb1sx8.png
If we add &nbsp; between each word, hoping to force the column to be
bigger, it falls back to the next line:
http://img381.imageshack.us/my.php?image=wp27tdb2pu0.png
Same for "Commentaires", which cannot be reduced:
http://img88.imageshack.us/my.php?image=wp27comm1dj8.png

- The Screen Options section works rather well, be could be improved maybe:
http://img147.imageshack.us/my.php?image=wp27optecr1ug8.png

 - The Edit screen Publish section fails, as Jose shows:
draft: http://img232.imageshack.us/my.php?image=wp27pubbrouillonwu6.png
pending: http://img83.imageshack.us/my.php?image=wp27pubattenteiv3.png


-- 
Xavier Borderie
From wordpress at santosj.name  Sun Nov  2 19:05:00 2008
From: wordpress at santosj.name (Jacob Santos)
Date: Sun Nov  2 19:05:06 2008
Subject: [wp-hackers] Coding Standards Update
Message-ID: <490DF9DC.7040101@santosj.name>

Yeah, it will probably be an excellent idea, if the community and core 
developers checked for the existence of a variable before using it. 
Probably need to update the coding standards on the codex.

You know, to reduce the amount of notices in the core.

What do you think? Good idea or best idea ever!

Jacob Santos
From jane at automattic.com  Sun Nov  2 20:13:33 2008
From: jane at automattic.com (Jane Wells)
Date: Sun Nov  2 20:15:19 2008
Subject: [wp-hackers] 2.7 Survey
Message-ID: <0CE4578F-C474-429D-9113-EB3C899C0E8F@automattic.com>

Hi everyone. We've put up a poll on the dev blog, where you can vote  
for your favorite feature so far in 2.7. After the poll there's a link  
to survey as well, which lists all the new features and allows you to  
rate how much you like/dislike them as well as provide additional  
feedback.

Jane 
From ozh at planetozh.com  Sun Nov  2 20:27:05 2008
From: ozh at planetozh.com (Ozh)
Date: Sun Nov  2 20:29:02 2008
Subject: [wp-hackers] 2.7 Survey
In-Reply-To: <0CE4578F-C474-429D-9113-EB3C899C0E8F@automattic.com>
References: <0CE4578F-C474-429D-9113-EB3C899C0E8F@automattic.com>
Message-ID: <ae81acd10811021227r6baea62es9412851a27115a3e@mail.gmail.com>

Q7. Back end: "PHPXref hosted on WordPress.org"
Typo and meant "phpdoc", or wtf I missed something?
(I *want* phpxref!)

On Sun, Nov 2, 2008 at 9:13 PM, Jane Wells <jane@automattic.com> wrote:
> Hi everyone. We've put up a poll on the dev blog, where you can vote for
> your favorite feature so far in 2.7. After the poll there's a link to survey
> as well, which lists all the new features and allows you to rate how much
> you like/dislike them as well as provide additional feedback.
>
> Jane_______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From xavier at borderie.net  Sun Nov  2 21:53:53 2008
From: xavier at borderie.net (Xavier Borderie)
Date: Sun Nov  2 21:54:05 2008
Subject: [wp-hackers] WP 2.7 Screens and translations
In-Reply-To: <9e4ae73e0811021018r3bb4b8ddj370359d3657a36ed@mail.gmail.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<89F0B5E2-EFAD-4487-8C30-236928EBCFFA@funroe.net>
	<490CB2F3.2090500@gmail.com>
	<9e4ae73e0811021018r3bb4b8ddj370359d3657a36ed@mail.gmail.com>
Message-ID: <9e4ae73e0811021353q27e04533s994012e544b9be31@mail.gmail.com>

>> http://www.box.net/shared/oqxd1e1aqz
>> http://www.box.net/shared/dki64v666p
> http://img83.imageshack.us/my.php?image=wp27tdb1sx8.png
> http://img381.imageshack.us/my.php?image=wp27tdb2pu0.png
> http://img88.imageshack.us/my.php?image=wp27comm1dj8.png

Because of all these, I'd like to suggest to make it possible for the
side-menu to have its width 'expendable" under the unfluence of
longer-than-expected words. I'm pretty sure that pt and fr are not the
only locale that could have a use for this - and it doesn't influence
the minimized version :)


-- 
Xavier Borderie
From ryan at boren.nu  Sun Nov  2 22:02:38 2008
From: ryan at boren.nu (Ryan Boren)
Date: Sun Nov  2 22:02:57 2008
Subject: [wp-hackers] WP 2.7 - add_menu_page
In-Reply-To: <10DE842A-0C36-4F4D-8846-8048FA151066@willnorris.com>
References: <10DE842A-0C36-4F4D-8846-8048FA151066@willnorris.com>
Message-ID: <c8f37c930811021402s3ad5c20ci56c39af6f007cff0@mail.gmail.com>

On Sat, Nov 1, 2008 at 11:52 PM, Will Norris <will@willnorris.com> wrote:
> Are there any plans of making it possible to add top-level menu items
> anywhere other than the at the bottom of the menu?  I realize you can do
> this manually by:
>  $menu[6] = array( ...
>
> but I was wondering if the API would expose it.  I also remember Jane saying
> something at WordCamp Portland about being able to sort the menu items.  Any
> chance of either of those?

I'm thinking of add_object_menu() that will add a top-level to the
menu group containing Posts, Pages, Links, etc.

No menu sorting for 2.7. Maybe 2.8.
From idledsoul at gmail.com  Mon Nov  3 00:32:47 2008
From: idledsoul at gmail.com (Idled Soul)
Date: Sun Nov  2 23:33:11 2008
Subject: [wp-hackers] Span to wp_list_pages
In-Reply-To: <084f01c93d00$b780dda0$6401a8c0@DELL8600>
References: <490D2B39.9030900@gmail.com><178983F2-8C76-4578-827F-C73FF298DE85@cefm.ca><490D49F6.3000800@gmail.com>	<6dbcd2670811020717n55cfda26s6f1d404789fa4a3a@mail.gmail.com>
	<084f01c93d00$b780dda0$6401a8c0@DELL8600>
Message-ID: <490E46AF.5070602@gmail.com>

MichaelH wrote:
> Note that the change is wp_link_pages, not wp_list_pages.
>
> Are those two parameters, link_before and link_after, available for 
> wp_list_pages?

I did some tinkering with this, and apparently the link_before and 
link_after won't do anything for the wp_list_pages function. I wish it 
would though. :(

From r at schestowitz.com  Mon Nov  3 00:10:53 2008
From: r at schestowitz.com (Roy Schestowitz)
Date: Mon Nov  3 00:17:38 2008
Subject: [wp-hackers] WP-Hackers Stats for October 2008
Message-ID: <490E418D.6000007@schestowitz.com>

  ?  Times are Greenwich Mean Time (GMT) +0:00

  ?  Statistics span a period of one month

  ?  Subject line formatted consistently "WP-Hackers Stats for <MONTH>
<YEAR>"

  ?  Killfile <subject contains "WP-Hackers Stats for "> if uninterested
____________________________________________________________

Stats for wp-hackers
~~~~~~~~~~~~~~~~~~~~
***** People who have written most messages:
+----+-----Author-----------------------------------+--Msg-+-Percent-+
|  1 | otto ottodestruct.com                        |   40 |  7.72 % |
|  2 | frank bueltge.de                             |   30 |  5.79 % |
|  3 | wp-hackers striderweb.com                    |   29 |  5.60 % |
|  4 | viper viper007bond.com                       |   22 |  4.25 % |
|  5 | wordpress dd32.id.au                         |   21 |  4.05 % |
|  6 | elflop googlemail.com                        |   18 |  3.47 % |
|  7 | yahgrp poplarware.com                        |   18 |  3.47 % |
|  8 | mikeschinkel gmail.com                       |   15 |  2.90 % |
|  9 | ryan boren.nu                                |   14 |  2.70 % |
| 10 | matt sivel.net                               |   13 |  2.51 % |
| 11 | idledsoul gmail.com                          |   11 |  2.12 % |
| 12 | wordpress tekartist.org                      |   11 |  2.12 % |
| 13 | krustyruffle rustykruffle.com                |   11 |  2.12 % |
| 14 | gaarai gaarai.com                            |   10 |  1.93 % |
| 15 | ozh planetozh.com                            |    9 |  1.74 % |
| 16 | jer-wphackers simianuprising.com             |    9 |  1.74 % |
| 17 | ryanmccue cubegames.net                      |    8 |  1.54 % |
| 18 | joost yoast.com                              |    8 |  1.54 % |
| 19 | casey.bisson gmail.com                       |    7 |  1.35 % |
| 20 | xavier borderie.net                          |    7 |  1.35 % |
| 21 | gamito gmail.com                             |    7 |  1.35 % |
| 22 | zamoose gmail.com                            |    7 |  1.35 % |
| 23 | jeffro jeffro2pt0.com                        |    6 |  1.16 % |
| 24 | kaspars konstruktors.com                     |    6 |  1.16 % |
| 25 | hempsworth googlemail.com                    |    6 |  1.16 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  175 | 33.78 % |
+----+----------------------------------------------+------+---------+

***** Best authors, by total size of their messages (w/o quoting):
+----+-----Author-------------------------------------------+-KBytes-+
|  1 | otto ottodestruct.com                                |   27.0 |
|  2 | wp-hackers striderweb.com                            |   23.3 |
|  3 | mikeschinkel gmail.com                               |   22.4 |
|  4 | frank bueltge.de                                     |   19.6 |
|  5 | yahgrp poplarware.com                                |   16.2 |
|  6 | gaarai gaarai.com                                    |   12.6 |
|  7 | jane automattic.com                                  |   12.1 |
|  8 | wordpress dd32.id.au                                 |   11.9 |
|  9 | elflop googlemail.com                                |   11.4 |
| 10 | viper viper007bond.com                               |   11.1 |
| 11 | krustyruffle rustykruffle.com                        |   10.3 |
| 12 | ryan boren.nu                                        |   10.2 |
| 13 | jer-wphackers simianuprising.com                     |    8.9 |
| 14 | idledsoul gmail.com                                  |    6.3 |
| 15 | wordpress tekartist.org                              |    6.2 |
| 16 | matt sivel.net                                       |    5.7 |
| 17 | nigel redefine.co.uk                                 |    5.5 |
| 18 | wordpress anekostudios.com                           |    5.2 |
| 19 | casey.bisson gmail.com                               |    4.6 |
| 20 | zamoose gmail.com                                    |    4.5 |
| 21 | xavier borderie.net                                  |    4.5 |
| 22 | pt ptahd.com                                         |    4.3 |
| 23 | kaspars konstruktors.com                             |    4.2 |
| 24 | jeffro jeffro2pt0.com                                |    4.0 |
| 25 | harrismw huridocs.org                                |    4.0 |
+----+------------------------------------------------------+--------+

***** Best authors, by average size of their message (w/o quoting):
+----+-----Author--------------------------------------------+-bytes-+
|  1 | toi_la_toi200925 yahoo.com                            |  3235 |
|  2 | wordpress anekostudios.com                            |  2643 |
|  3 | jane automattic.com                                   |  2069 |
|  4 | Philip Hetjens.eu                                     |  1696 |
|  5 | jared pacific22.com                                   |  1539 |
|  6 | mikeschinkel gmail.com                                |  1526 |
|  7 | endlessly.curious gmail.com                           |  1436 |
|  8 | g30rg3x gmail.com                                     |  1422 |
|  9 | gaarai gaarai.com                                     |  1288 |
| 10 | tom motionmill.com                                    |  1244 |
| 11 | mike_walsh mindspring.com                             |  1119 |
| 12 | nigel redefine.co.uk                                  |  1118 |
| 13 | pt ptahd.com                                          |  1109 |
| 14 | sudar sudarmuthu.com                                  |  1027 |
| 15 | jer-wphackers simianuprising.com                      |  1015 |
| 16 | glenn glennansley.com                                 |   990 |
| 17 | jess funroe.net                                       |   961 |
| 18 | krustyruffle rustykruffle.com                         |   955 |
| 19 | malaiac gmail.com                                     |   946 |
| 20 | yahgrp poplarware.com                                 |   919 |
| 21 | joseph randomnetworks.com                             |   827 |
| 22 | wp-hackers striderweb.com                             |   822 |
| 23 | harrismw huridocs.org                                 |   814 |
| 24 | eckman.john gmail.com                                 |   793 |
| 25 | muscetta gmail.com                                    |   787 |
+----+-------------------------------------------------------+-------+

***** Table showing the most successful subjects:
+----+----Subject-----------------------------------+--Msg-+-Percent-+
|  1 | [wp-hackers] SSL for a single page           |   24 |  4.63 % |
|  2 | [wp-hackers] WP Theme Directory Submission R |   19 |  3.67 % |
|  3 | [wp-hackers] Where Do I Configure This Plugi |   19 |  3.67 % |
|  4 | [wp-hackers] PHPDoc and state of the Codex   |   19 |  3.67 % |
|  5 | [wp-hackers] WP Roadmap Project              |   18 |  3.47 % |
|  6 | [wp-hackers] icons                           |   16 |  3.09 % |
|  7 | AW: [wp-hackers] Update of non GPL-Plugins ( |   15 |  2.90 % |
|  8 | [wp-hackers] Maybe a secure-hole             |   14 |  2.70 % |
|  9 | [wp-hackers] Automatic Core Update and right |   14 |  2.70 % |
| 10 | [wp-hackers] Resetting after multiple loops  |   14 |  2.70 % |
| 11 | [wp-hackers] requesting information about wp |   14 |  2.70 % |
| 12 | [wp-hackers] 2.7 Wireframes                  |   13 |  2.51 % |
| 13 | [wp-hackers] Menus and Labels and Plugins, o |   12 |  2.32 % |
| 14 | [wp-hackers] 2.6.3 change set.               |   11 |  2.12 % |
| 15 | [wp-hackers] Proposal: standardize plugin-da |   10 |  1.93 % |
| 16 | [wp-hackers] advanced plugin development for |   10 |  1.93 % |
| 17 | [wp-hackers] 2.7: add_users_page()           |    9 |  1.74 % |
| 18 | [wp-hackers] Separating Pings from Comments  |    9 |  1.74 % |
| 19 | [wp-hackers] favorites menu                  |    9 |  1.74 % |
| 20 | [wp-hackers] WordPress UI Idea (#4): Sortabl |    8 |  1.54 % |
| 21 | [wp-hackers] Is there a post content action  |    8 |  1.54 % |
| 22 | [wp-hackers] No more "sidemenu" action...    |    8 |  1.54 % |
| 23 | [wp-hackers] Plugin licenses                 |    8 |  1.54 % |
| 24 | [wp-hackers] Comments moderated, but yet the |    8 |  1.54 % |
| 25 | [wp-hackers] Novice question - prevent post- |    8 |  1.54 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  201 | 38.80 % |
+----+----------------------------------------------+------+---------+

***** Most used email clients:
+----+----Mailer------------------------------------+--Msg-+-Percent-+
|  1 | Google Mail/Other                            |  263 | 50.77 % |
|  2 | Apple Mail (2.929.2)                         |   87 | 16.80 % |
|  3 | Thunderbird 2.0.0.17 (Windows/20080914)      |   53 | 10.23 % |
|  4 | Opera Mail/9.60 (Win32)                      |   19 |  3.67 % |
|  5 | Thunderbird 2.0.0.12 (Windows/20080213)      |   16 |  3.09 % |
|  6 | Microsoft Office Outlook 11                  |   15 |  2.90 % |
|  7 | Thunderbird 2.0.0.17 (Macintosh/20080914)    |    8 |  1.54 % |
|  8 | G2/1.0                                       |    6 |  1.16 % |
|  9 | Lotus Notes Release 7.0                      |    6 |  1.16 % |
| 10 | Thunderbird 2.0.0.17 (X11/20080925)          |    5 |  0.97 % |
| 11 | Mailsmith 2.2                                |    5 |  0.97 % |
| 12 | Evolution 2.22.3.1                           |    4 |  0.77 % |
| 13 | Thunderbird 2.0.0.14 (Windows/20080421)      |    4 |  0.77 % |
| 14 | Apple Mail (2.928.1)                         |    3 |  0.58 % |
| 15 | Apple Mail (2.753.1)                         |    3 |  0.58 % |
| 16 | iPhone Mail (5F136)                          |    3 |  0.58 % |
| 17 | Thunderbird 2.0.0.14 (X11/20080505)          |    2 |  0.39 % |
| 18 | Mozilla/5.x                                  |    2 |  0.39 % |
| 19 | iPod Mail (5F137)                            |    2 |  0.39 % |
| 20 | Microsoft Outlook Express 6.x                |    2 |  0.39 % |
| 21 | Microsoft Office Outlook 12.0                |    2 |  0.39 % |
| 22 | Evolution 2.24.0                             |    1 |  0.19 % |
| 23 | Thunderbird 2.0.0.14 (X11/20080501)          |    1 |  0.19 % |
| 24 | RoundCube Webmail/0.1                        |    1 |  0.19 % |
| 25 | Thunderbird 2.0.0.17 (X11/20080914)          |    1 |  0.19 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |    4 |  0.77 % |
+----+----------------------------------------------+------+---------+

***** Table of maximal quoting:
+----+-----Author------------------------------------------+-Percent-+
|  1 | ethompson_stialon yahoo.com                         | 85.70 % |
|  2 | shane bugssite.org                                  | 84.74 % |
|  3 | wp-hackers itsananderson.com                        | 84.49 % |
|  4 | alan verselogic.net                                 | 80.89 % |
|  5 | joost joostdevalk.nl                                | 78.55 % |
|  6 | brian rzen.net                                      | 74.68 % |
|  7 | viper viper007bond.com                              | 73.54 % |
|  8 | lists.automattic.com callum-macdonald.com           | 72.28 % |
|  9 | james om4.com.au                                    | 71.85 % |
| 10 | joost yoast.com                                     | 71.23 % |
| 11 | eob MIT.EDU                                         | 71.12 % |
| 12 | andy yellowswordfish.com                            | 70.41 % |
| 13 | hempsworth googlemail.com                           | 67.33 % |
| 14 | bretm redhat.com                                    | 66.87 % |
| 15 | dhruva.sagar gmail.com                              | 66.77 % |
| 16 | geniosity gmail.com                                 | 66.08 % |
| 17 | ckunte gmail.com                                    | 65.86 % |
| 18 | mark automattic.com                                 | 65.46 % |
| 19 | emmensetech gmail.com                               | 64.43 % |
| 20 | wordpress dd32.id.au                                | 64.07 % |
| 21 | jason intraffic.net                                 | 63.97 % |
| 22 | tdh tdhedengren.com                                 | 62.92 % |
| 23 | wordpress tekartist.org                             | 60.18 % |
| 24 | speedboxer gmail.com                                | 59.69 % |
| 25 | xavier borderie.net                                 | 58.02 % |
+----+-----------------------------------------------------+---------+
|    | average                                             | 46.21 % |
+----+-----------------------------------------------------+---------+

***** Graph showing number of messages written during hours of day:

100% -------------------#----------------------------- - 45
 90% -------------------#----------------------------- msgs
 80% -----------------#-#---#-#-#---------------------
 70% -----------------#-#-#-#-#-#---------------------
 60% -----------------#-#-#-#-#-#-#-#-#---------------
 50% -----------------#-#-#-#-#-#-#-#-#-#-------------
 40% -----------------#-#-#-#-#-#-#-#-#-#-------#-#-#-
 30% ---------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 20% -#-#-#---------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 10% -#-#-#-#---#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * *
hour  0         5           11          17          23


***** Graph showing number of messages written during days of month:

100% -----------------------------------------------#--------------- - 47
 90% -----------------------------------------------#--------------- msgs
 80% -----------------------------------------------#---------------
 70% -----------------------------------------------#---------------
 60% -#---#-----------#-------------#---------------#-----------#---
 50% -#---#-----#---#-#-------------#-#---------#---#-----------#---
 40% -#---#-----#---#-#-------------#-#---------#-#-#-----------#-#-
 30% -#-#-#-----#-#-#-#-------------#-#-------#-#-#-#-#---#-#---#-#-
 20% -#-#-#-----#-#-#-#---------#-#-#-#-------#-#-#-#-#---#-#---#-#-
 10% -#-#-#-----#-#-#-#-#-----#-#-#-#-#-#---#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 day  1         6           12          18          24            31


***** Graph showing number of messages written during days of week:

100% -----------------#----------- - 133
 90% -------------#---#----------- msgs
 80% -------------#---#-----------
 70% ---------#---#---#-----------
 60% ---------#---#---#-----------
 50% ---------#---#---#-----------
 40% -#---#---#---#---#-----------
 30% -#---#---#---#---#-----------
 20% -#---#---#---#---#-----------
 10% -#---#---#---#---#---#-------
      *   *   *   *   *   *   *
     Mon Tue Wed Thu Fri Sat Sun


***** Maximal quoting:
      Author     : shane bugssite.org
      Subject    : [wp-hackers] WP Roadmap Project
      Date       : Thu, 30 Oct 2008 22:59:13 -0400
      Quote ratio: 90.67% / 3646 bytes

***** Longest message:
      Author     : andy yellowswordfish.com
      Subject    : AW: [wp-hackers] Update of non GPL-Plugins (was
Plugin licenses)
      Date       : Fri, 24 Oct 2008 12:16:19 +0100
      Size       : 6237 bytes

***** Most successful subject:
      Subject    : [wp-hackers] SSL for a single page
      No. of msgs: 24
      Total size : 26601 bytes

***** Final summary:
      Total number of messages:             518
      Total number of different authors:    101
      Total number of different subjects:   99
      Total size of messages (w/o headers): 699056 bytes
      Average size of a message:            1349 bytes

***** Generated by MailListStat v1.3, (C) 2001-2003 <marki (at) nexin.sk>
***** See http://freshmeat.net/projects/mls for details...


DISCLAIMER: Stats automatically produced. Remember that stats are often
meaningless and deceiving.
From charles at cefm.ca  Mon Nov  3 00:36:57 2008
From: charles at cefm.ca (Charles E. Frees-Melvin)
Date: Mon Nov  3 00:37:47 2008
Subject: [wp-hackers] Span to wp_list_pages
In-Reply-To: <490E46AF.5070602@gmail.com>
References: <490D2B39.9030900@gmail.com><178983F2-8C76-4578-827F-C73FF298DE85@cefm.ca><490D49F6.3000800@gmail.com>	<6dbcd2670811020717n55cfda26s6f1d404789fa4a3a@mail.gmail.com><084f01c93d00$b780dda0$6401a8c0@DELL8600>
	<490E46AF.5070602@gmail.com>
Message-ID: <B1CAE97591F44E16987FCD3F2756BDD4@cefmpc1>

Ticket #8041 has the patch to make it work.

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Idled Soul
Sent: November 2, 2008 8:33 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Span to wp_list_pages

MichaelH wrote:
> Note that the change is wp_link_pages, not wp_list_pages.
>
> Are those two parameters, link_before and link_after, available for 
> wp_list_pages?

I did some tinkering with this, and apparently the link_before and 
link_after won't do anything for the wp_list_pages function. I wish it 
would though. :(

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From wp-hackers at striderweb.com  Mon Nov  3 02:49:08 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon Nov  3 02:49:38 2008
Subject: [wp-hackers] WP 2.7 Screens and translations
In-Reply-To: <9e4ae73e0811021353q27e04533s994012e544b9be31@mail.gmail.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<89F0B5E2-EFAD-4487-8C30-236928EBCFFA@funroe.net>
	<490CB2F3.2090500@gmail.com>
	<9e4ae73e0811021018r3bb4b8ddj370359d3657a36ed@mail.gmail.com>
	<9e4ae73e0811021353q27e04533s994012e544b9be31@mail.gmail.com>
Message-ID: <34E18C99-45BF-4079-B5A3-16142D7607D1@striderweb.com>


On Nov 2, 2008, at 3:53 PM, Xavier Borderie wrote:

>>> http://www.box.net/shared/oqxd1e1aqz
>>> http://www.box.net/shared/dki64v666p
>> http://img83.imageshack.us/my.php?image=wp27tdb1sx8.png
>> http://img381.imageshack.us/my.php?image=wp27tdb2pu0.png
>> http://img88.imageshack.us/my.php?image=wp27comm1dj8.png
>
> Because of all these, I'd like to suggest to make it possible for the
> side-menu to have its width 'expendable" under the unfluence of
> longer-than-expected words. I'm pretty sure that pt and fr are not the
> only locale that could have a use for this - and it doesn't influence
> the minimized version :)

Here's a thought:

In the admin, these areas have a CSS class equal to the current  
language code, e.g. class="en_US"

If a particular language needs a bigger width, they are easily added  
to the existing stylesheet in core.

Stephen
From idledsoul at gmail.com  Mon Nov  3 05:57:16 2008
From: idledsoul at gmail.com (Idled Soul)
Date: Mon Nov  3 04:57:30 2008
Subject: [wp-hackers] Span to wp_list_pages
In-Reply-To: <B1CAE97591F44E16987FCD3F2756BDD4@cefmpc1>
References: <490D2B39.9030900@gmail.com><178983F2-8C76-4578-827F-C73FF298DE85@cefm.ca><490D49F6.3000800@gmail.com>	<6dbcd2670811020717n55cfda26s6f1d404789fa4a3a@mail.gmail.com><084f01c93d00$b780dda0$6401a8c0@DELL8600>	<490E46AF.5070602@gmail.com>
	<B1CAE97591F44E16987FCD3F2756BDD4@cefmpc1>
Message-ID: <490E92BC.9000701@gmail.com>

Charles E. Frees-Melvin wrote:
> Ticket #8041 has the patch to make it work.

Thanks Charles, didn't see it until a few minutes ago. Been extremely 
busy lately. Anyway, could someone maybe commit that patch please..? 
Then "we" wouldn't have to resort to useless nonsense "hacks" to get the 
functions and so forth that we need.

http://trac.wordpress.org/ticket/8041

I think it would be super beneficial to everyone. :D ;)
From ozh at planetozh.com  Mon Nov  3 09:17:26 2008
From: ozh at planetozh.com (Ozh)
Date: Mon Nov  3 09:17:37 2008
Subject: [wp-hackers] WP 2.7 Screens and translations
In-Reply-To: <34E18C99-45BF-4079-B5A3-16142D7607D1@striderweb.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<89F0B5E2-EFAD-4487-8C30-236928EBCFFA@funroe.net>
	<490CB2F3.2090500@gmail.com>
	<9e4ae73e0811021018r3bb4b8ddj370359d3657a36ed@mail.gmail.com>
	<9e4ae73e0811021353q27e04533s994012e544b9be31@mail.gmail.com>
	<34E18C99-45BF-4079-B5A3-16142D7607D1@striderweb.com>
Message-ID: <ae81acd10811030117t5eb9e4cbjd9dc5d2d3f99cc6@mail.gmail.com>

Or, within <head> of admin pages:

<?php echo "
<style>
#adminmenu li.wp-has-submenu{
   width: ".__('135px').";
}
</style>
"; ?>

(might confuse some translators, though :)

On Mon, Nov 3, 2008 at 3:49 AM, Stephen Rider <wp-hackers@striderweb.com> wrote:
>
> In the admin, these areas have a CSS class equal to the current language
> code, e.g. class="en_US"
>
> If a particular language needs a bigger width, they are easily added to the
> existing stylesheet in core.
>
> Stephen


-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From xavier at borderie.net  Mon Nov  3 09:51:04 2008
From: xavier at borderie.net (Xavier Borderie)
Date: Mon Nov  3 09:51:15 2008
Subject: [wp-hackers] WP 2.7 Screens and translations
In-Reply-To: <ae81acd10811030117t5eb9e4cbjd9dc5d2d3f99cc6@mail.gmail.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<89F0B5E2-EFAD-4487-8C30-236928EBCFFA@funroe.net>
	<490CB2F3.2090500@gmail.com>
	<9e4ae73e0811021018r3bb4b8ddj370359d3657a36ed@mail.gmail.com>
	<9e4ae73e0811021353q27e04533s994012e544b9be31@mail.gmail.com>
	<34E18C99-45BF-4079-B5A3-16142D7607D1@striderweb.com>
	<ae81acd10811030117t5eb9e4cbjd9dc5d2d3f99cc6@mail.gmail.com>
Message-ID: <9e4ae73e0811030151p658f805cl929d84b96b18096f@mail.gmail.com>

> <?php echo "
> <style>
> #adminmenu li.wp-has-submenu{
>   width: ".__('135px').";
> }
> </style>
> "; ?>

Not with a clear comment :)
Thing is, this solution would allow the translator to make sure the
translated string fits on his screen, but there is no guarantee that
the length will be enough for other users (different default font,
different screen, different settings, etc...).

IMHO, the only viable solution would be be able to "push" the width
for longer words - then it would lie on the translators to choose
their words wisely in order to not push it to wide.

-- 
Xavier Borderie
From otto at ottodestruct.com  Mon Nov  3 14:59:37 2008
From: otto at ottodestruct.com (Otto)
Date: Mon Nov  3 14:59:48 2008
Subject: [wp-hackers] Loops and Cloning
In-Reply-To: <59e7f3130811020827j58b73f2bpd0f959b0e63b7b02@mail.gmail.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<89F0B5E2-EFAD-4487-8C30-236928EBCFFA@funroe.net>
	<59e7f3130811020127s794c0f2bv4ddfb6ae20598d53@mail.gmail.com>
	<161617690811020809m4f925297qe1bf804f74c34ef1@mail.gmail.com>
	<59e7f3130811020827j58b73f2bpd0f959b0e63b7b02@mail.gmail.com>
Message-ID: <161617690811030659p4f54d08cl87a4577f1625be9b@mail.gmail.com>

On Sun, Nov 2, 2008 at 10:27 AM, Malaiac <malaiac@gmail.com> wrote:
> $myquery = new WP_Query('queryvars=whatever');
> and :
> add_filter('posts_where','my_function'); > apply to all wp_query objects
>
> function my_function($where_string)
> {
> // ok... now I want to act on the where only IF i'm in $myquery and
> not $wp_query

Wrong place. You should add and remove your filter accordingly.

add_filter('posts_where','my_function');
$myquery = new WP_Query('queryvars=whatever');
// insert a Loop here
remove_filter('posts_where','my_function');
From will at willnorris.com  Mon Nov  3 18:15:15 2008
From: will at willnorris.com (Will Norris)
Date: Mon Nov  3 18:15:39 2008
Subject: [wp-hackers] WP 2.7 - add_menu_page
In-Reply-To: <c8f37c930811021402s3ad5c20ci56c39af6f007cff0@mail.gmail.com>
References: <10DE842A-0C36-4F4D-8846-8048FA151066@willnorris.com>
	<c8f37c930811021402s3ad5c20ci56c39af6f007cff0@mail.gmail.com>
Message-ID: <B2F3910A-8265-4727-B109-5EF1E081638E@willnorris.com>


On Nov 2, 2008, at 2:02 PM, Ryan Boren wrote:

> On Sat, Nov 1, 2008 at 11:52 PM, Will Norris <will@willnorris.com>  
> wrote:
>> Are there any plans of making it possible to add top-level menu items
>> anywhere other than the at the bottom of the menu?  I realize you  
>> can do
>> this manually by:
>> $menu[6] = array( ...
>>
>> but I was wondering if the API would expose it.  I also remember  
>> Jane saying
>> something at WordCamp Portland about being able to sort the menu  
>> items.  Any
>> chance of either of those?
>
> I'm thinking of add_object_menu() that will add a top-level to the
> menu group containing Posts, Pages, Links, etc.

that would be great.  assigning to s specific index of the menu array  
is just asking for plugins to overwrite each other.


> No menu sorting for 2.7. Maybe 2.8.

No biggie, just figured that'd be another way to achieve the same  
effect.
From idledsoul at gmail.com  Mon Nov  3 19:20:08 2008
From: idledsoul at gmail.com (Idled Soul)
Date: Mon Nov  3 18:20:21 2008
Subject: [wp-hackers] Re: [wp-svn] [9484] trunk/wp-includes: link_before and
 link_after for	wp_list_pages().
In-Reply-To: <20081103172640.F036C710E59@basie.automattic.com>
References: <20081103172640.F036C710E59@basie.automattic.com>
Message-ID: <490F4EE8.70707@gmail.com>

Thank you!! Could this be added to other branches/versions as well, or 
don't those need it? I haven't been following anything but the Trunk 
version so... Just wondering, and thanks again! :)
From alex at dunae.ca  Mon Nov  3 19:18:26 2008
From: alex at dunae.ca (Alex Dunae)
Date: Mon Nov  3 19:18:34 2008
Subject: [wp-hackers] query_posts with taxonomy forcing post_type = 'any'
Message-ID: <dbd664ac3989ff8cbe1a9a9a0fbbf299.squirrel@webmail.dunae.ca>

I have a plugin that creates a WP taxonomy (for magazine issues). but it
doesn't taxonomies and query_posts don't seem to play nicely together.

When I call something like:

	query_posts( "orderby=ID&taxonomy=magazine&post_type=post" );

...post revisions are being returned in my results. I see in WP_Query that
(on line 1199) the `post_type` is being forced to equal `any` on taxonomy
pages.

Is this by design and is there any way to exclude records that have
`post_type = revision`?

Thanks in advance,

Alex




From endlessly.curious at gmail.com  Mon Nov  3 19:34:29 2008
From: endlessly.curious at gmail.com (Daniel Brown)
Date: Mon Nov  3 19:34:40 2008
Subject: [wp-hackers] TinyMCE stripping name tag out of PRE elements
In-Reply-To: <490D01FF.2070700@cubegames.net>
References: <743f2e480810302227o4cb842a0m394995a6aa68e8e2@mail.gmail.com>
	<490AAEE7.4090001@laptoptips.ca> <490B23A7.3030605@intraffic.net>
	<490BAC83.3090402@cubegames.net> <490C824D.90103@intraffic.net>
	<490D01FF.2070700@cubegames.net>
Message-ID: <743f2e480811031134s3f59ffdend8a5f2efbd21f342@mail.gmail.com>

Thanks for all the advice, I took a look at that recommend
SyntaxHighlighter and it seems to fix the issues I was encountering
when combined with enclosing the source code with a <pre> block :)

2008/11/1 Ryan McCue <ryanmccue@cubegames.net>:
> Jason Webster wrote:
>> Of course not. I was just pointing out that it was _not_ a TinyMCE bug
>> as many suggested.
>
> Ah, my apologies.
>
> --
> Ryan McCue
> <http://cubegames.net/>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 

Cheers,

Daniel
"The best laid schemes o' mice an' men, gang aft agley"
From johnbillion+wp at gmail.com  Mon Nov  3 22:15:32 2008
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon Nov  3 22:15:44 2008
Subject: [wp-hackers] any hook before auth_redirect() ?
In-Reply-To: <59e7f3130810261053o2e639cbcqb85037f5f1fbafa6@mail.gmail.com>
References: <59e7f3130810261053o2e639cbcqb85037f5f1fbafa6@mail.gmail.com>
Message-ID: <1fa535a70811031415o6ee11ec0jdbb3f77f7d65340a@mail.gmail.com>

Purely off the top of my head, I think 'plugins_loaded' comes pretty
early. In fact I think it's the first action (though there are filters
that are applied before it).

John,

On Sun, Oct 26, 2008 at 5:53 PM, Malaiac <malaiac@gmail.com> wrote:
> I had a allow_autologin() function which allowed a anonymous visitor
> to submit a post with his email, and be registered, logged in and
> redirected to post.php page.
> The function was working on my development version (2.7 r ~9000)
> I updated today r 9353 : the function is not working anymore.
> It seems that auth_redirect() acts before init (which I took for the
> first hook in wp admin page loading)
> Before I had :
> site.com/submit , form action = wp-admin/post-new.php > init hook
> register a new user and log him in > redirect to edit page
> now, I have :
> site.com/submit > auth_redirect() >
> site.com/wp-login.php?redirect_to=site.com/wp-admin/post.php ... and
> there the init hook works
>
> Any modification on this side ?
> If not, do you have any idea of a sooner hook than init() ?
>
> Thanks
> M
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From johnbillion+wp at gmail.com  Mon Nov  3 22:16:23 2008
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon Nov  3 22:16:34 2008
Subject: [wp-hackers] any hook before auth_redirect() ?
In-Reply-To: <1fa535a70811031415o6ee11ec0jdbb3f77f7d65340a@mail.gmail.com>
References: <59e7f3130810261053o2e639cbcqb85037f5f1fbafa6@mail.gmail.com>
	<1fa535a70811031415o6ee11ec0jdbb3f77f7d65340a@mail.gmail.com>
Message-ID: <1fa535a70811031416j46eb3806r253400800f8764b5@mail.gmail.com>

Also check out the new WP Roadmap Project:
http://wp-roadmap.com/demo/?roadmap_id=110 to see the order of
filters/actions/etc.

On Mon, Nov 3, 2008 at 10:15 PM, John Blackbourn
<johnbillion+wp@gmail.com> wrote:
> Purely off the top of my head, I think 'plugins_loaded' comes pretty
> early. In fact I think it's the first action (though there are filters
> that are applied before it).
>
> John,
>
> On Sun, Oct 26, 2008 at 5:53 PM, Malaiac <malaiac@gmail.com> wrote:
>> I had a allow_autologin() function which allowed a anonymous visitor
>> to submit a post with his email, and be registered, logged in and
>> redirected to post.php page.
>> The function was working on my development version (2.7 r ~9000)
>> I updated today r 9353 : the function is not working anymore.
>> It seems that auth_redirect() acts before init (which I took for the
>> first hook in wp admin page loading)
>> Before I had :
>> site.com/submit , form action = wp-admin/post-new.php > init hook
>> register a new user and log him in > redirect to edit page
>> now, I have :
>> site.com/submit > auth_redirect() >
>> site.com/wp-login.php?redirect_to=site.com/wp-admin/post.php ... and
>> there the init hook works
>>
>> Any modification on this side ?
>> If not, do you have any idea of a sooner hook than init() ?
>>
>> Thanks
>> M
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
From mikeschinkel at gmail.com  Mon Nov  3 22:22:42 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Mon Nov  3 22:23:02 2008
Subject: [wp-hackers] any hook before auth_redirect() ?
In-Reply-To: <1fa535a70811031416j46eb3806r253400800f8764b5@mail.gmail.com>
References: <59e7f3130810261053o2e639cbcqb85037f5f1fbafa6@mail.gmail.com><1fa535a70811031415o6ee11ec0jdbb3f77f7d65340a@mail.gmail.com>
	<1fa535a70811031416j46eb3806r253400800f8764b5@mail.gmail.com>
Message-ID: <04fc01c93e02$b0b8af40$6702a8c0@Guides.local>

WOW, thanks for shareing. That's a LOT of calls. This plugin is going to be
a huge help.

-Mike Schinkel
http://mikeschinkel.com




-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of John
Blackbourn
Sent: Monday, November 03, 2008 5:16 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] any hook before auth_redirect() ?

Also check out the new WP Roadmap Project:
http://wp-roadmap.com/demo/?roadmap_id=110 to see the order of
filters/actions/etc.

On Mon, Nov 3, 2008 at 10:15 PM, John Blackbourn <johnbillion+wp@gmail.com>
wrote:
> Purely off the top of my head, I think 'plugins_loaded' comes pretty 
> early. In fact I think it's the first action (though there are filters 
> that are applied before it).
>
> John,
>
> On Sun, Oct 26, 2008 at 5:53 PM, Malaiac <malaiac@gmail.com> wrote:
>> I had a allow_autologin() function which allowed a anonymous visitor 
>> to submit a post with his email, and be registered, logged in and 
>> redirected to post.php page.
>> The function was working on my development version (2.7 r ~9000) I 
>> updated today r 9353 : the function is not working anymore.
>> It seems that auth_redirect() acts before init (which I took for the 
>> first hook in wp admin page loading) Before I had :
>> site.com/submit , form action = wp-admin/post-new.php > init hook 
>> register a new user and log him in > redirect to edit page now, I 
>> have :
>> site.com/submit > auth_redirect() >
>> site.com/wp-login.php?redirect_to=site.com/wp-admin/post.php ... and 
>> there the init hook works
>>
>> Any modification on this side ?
>> If not, do you have any idea of a sooner hook than init() ?
>>
>> Thanks
>> M
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From gaarai at gaarai.com  Mon Nov  3 22:26:40 2008
From: gaarai at gaarai.com (Chris)
Date: Mon Nov  3 22:27:10 2008
Subject: [wp-hackers] any hook before auth_redirect() ?
In-Reply-To: <1fa535a70811031416j46eb3806r253400800f8764b5@mail.gmail.com>
References: <59e7f3130810261053o2e639cbcqb85037f5f1fbafa6@mail.gmail.com>	<1fa535a70811031415o6ee11ec0jdbb3f77f7d65340a@mail.gmail.com>
	<1fa535a70811031416j46eb3806r253400800f8764b5@mail.gmail.com>
Message-ID: <490F7AA0.5020105@gaarai.com>

Thanks for getting the word out John. :)

Anyone keeping tabs on the WP Roadmap project will be happy to know that 
I have a big update coming soon complete with information from the admin 
side of things, cleaned up paths, and links to additional information to 
help make sense of it all.

- Chris Jean

John Blackbourn wrote:
> Also check out the new WP Roadmap Project:
> http://wp-roadmap.com/demo/?roadmap_id=110 to see the order of
> filters/actions/etc.
>
> On Mon, Nov 3, 2008 at 10:15 PM, John Blackbourn
> <johnbillion+wp@gmail.com> wrote:
>   
>> Purely off the top of my head, I think 'plugins_loaded' comes pretty
>> early. In fact I think it's the first action (though there are filters
>> that are applied before it).
>>
>> John,
>>
>> On Sun, Oct 26, 2008 at 5:53 PM, Malaiac <malaiac@gmail.com> wrote:
>>     
>>> I had a allow_autologin() function which allowed a anonymous visitor
>>> to submit a post with his email, and be registered, logged in and
>>> redirected to post.php page.
>>> The function was working on my development version (2.7 r ~9000)
>>> I updated today r 9353 : the function is not working anymore.
>>> It seems that auth_redirect() acts before init (which I took for the
>>> first hook in wp admin page loading)
>>> Before I had :
>>> site.com/submit , form action = wp-admin/post-new.php > init hook
>>> register a new user and log him in > redirect to edit page
>>> now, I have :
>>> site.com/submit > auth_redirect() >
>>> site.com/wp-login.php?redirect_to=site.com/wp-admin/post.php ... and
>>> there the init hook works
>>>
>>> Any modification on this side ?
>>> If not, do you have any idea of a sooner hook than init() ?
>>>
>>> Thanks
>>> M
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>       
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From chris.hearn01 at ntlworld.com  Mon Nov  3 22:34:10 2008
From: chris.hearn01 at ntlworld.com (Chris)
Date: Mon Nov  3 22:34:37 2008
Subject: [wp-hackers] any hook before auth_redirect() ?
In-Reply-To: <1fa535a70811031416j46eb3806r253400800f8764b5@mail.gmail.com>
References: <59e7f3130810261053o2e639cbcqb85037f5f1fbafa6@mail.gmail.com>	<1fa535a70811031415o6ee11ec0jdbb3f77f7d65340a@mail.gmail.com>
	<1fa535a70811031416j46eb3806r253400800f8764b5@mail.gmail.com>
Message-ID: <490F7C62.8050307@ntlworld.com>

Excellent Roadmap project  - congratulations to whoever wrote it 
(sorrry, not been keeping up with the posts recently!)
One small comment for the author -
Selecting "Show Secondary arguments" and "Do_action_ref_array"
the 2ndry arguments column does not line up with left hand column, e.g 
"do_action_ref_array parse_request"
Otherwise brilliant!
Chris
P.S. (when using FireFox 3.0.3)

John Blackbourn wrote:
> Also check out the new WP Roadmap Project:
> http://wp-roadmap.com/demo/?roadmap_id=110 to see the order of
> filters/actions/etc.
>
> On Mon, Nov 3, 2008 at 10:15 PM, John Blackbourn
> <johnbillion+wp@gmail.com> wrote:
>   
>> Purely off the top of my head, I think 'plugins_loaded' comes pretty
>> early. In fact I think it's the first action (though there are filters
>> that are applied before it).
>>
>> John,
>>
>> On Sun, Oct 26, 2008 at 5:53 PM, Malaiac <malaiac@gmail.com> wrote:
>>     
>>> I had a allow_autologin() function which allowed a anonymous visitor
>>> to submit a post with his email, and be registered, logged in and
>>> redirected to post.php page.
>>> The function was working on my development version (2.7 r ~9000)
>>> I updated today r 9353 : the function is not working anymore.
>>> It seems that auth_redirect() acts before init (which I took for the
>>> first hook in wp admin page loading)
>>> Before I had :
>>> site.com/submit , form action = wp-admin/post-new.php > init hook
>>> register a new user and log him in > redirect to edit page
>>> now, I have :
>>> site.com/submit > auth_redirect() >
>>> site.com/wp-login.php?redirect_to=site.com/wp-admin/post.php ... and
>>> there the init hook works
>>>
>>> Any modification on this side ?
>>> If not, do you have any idea of a sooner hook than init() ?
>>>
>>> Thanks
>>> M
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>       
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From malaiac at gmail.com  Mon Nov  3 23:03:52 2008
From: malaiac at gmail.com (Malaiac)
Date: Mon Nov  3 23:06:58 2008
Subject: [wp-hackers] query_posts with taxonomy forcing post_type = 'any'
In-Reply-To: <dbd664ac3989ff8cbe1a9a9a0fbbf299.squirrel@webmail.dunae.ca>
References: <dbd664ac3989ff8cbe1a9a9a0fbbf299.squirrel@webmail.dunae.ca>
Message-ID: <59e7f3130811031503j276542ew53cf3e11e033e539@mail.gmail.com>

2008/11/3 Alex Dunae <alex@dunae.ca>:
> I have a plugin that creates a WP taxonomy (for magazine issues). but it
> doesn't taxonomies and query_posts don't seem to play nicely together.
oh, rly ? :D

> ...post revisions are being returned in my results. I see in WP_Query that
> (on line 1199) the `post_type` is being forced to equal `any` on taxonomy
> pages.
>
> Is this by design and is there any way to exclude records that have
> `post_type = revision`?

maybe with the posts_where and posts_request filters ?

M
From idledsoul at gmail.com  Tue Nov  4 10:16:30 2008
From: idledsoul at gmail.com (Idled Soul)
Date: Tue Nov  4 09:16:55 2008
Subject: [wp-hackers] Post pages...
Message-ID: <491020FE.2040302@gmail.com>

I was just setting up a demo blog for themes, and was thinking, there's 
no <!--nextpage--> button or option in the write panel editor. Is there 
plans to add one soon, or maybe someone could squeeze it in before 2.7 
is released? Also, the Default / Classic themes don't appear to "handle" 
that option either... Almost as if you'd need a plugin for that. Is 
there anyway this could be handled without a plugin and prepackaged in 
WordPress itself? Just wondering, thanks.
From idledsoul at gmail.com  Tue Nov  4 10:25:17 2008
From: idledsoul at gmail.com (Idled Soul)
Date: Tue Nov  4 09:25:35 2008
Subject: [wp-hackers] Re: Post pages...
In-Reply-To: <491020FE.2040302@gmail.com>
References: <491020FE.2040302@gmail.com>
Message-ID: <4910230D.9070306@gmail.com>

Well even if this was added after the "the_content" call..

<?php link_pages("\t\t\t\t\t<div class='page-link'>".__('Pages: '), 
"</div>\n", 'number'); ?>

Then this in the Default / Classic css stylesheet... would help. Of 
course, they would need styling for those themes, unless someone chose a 
good color scheme to fit / work for both. :D I'd do up a ticket w/patch 
for this, if I had the time.

.entry-content .page-link {
    margin: 15px 0;
    text-align: center;
    font: 0.9em/130% verdana, geneva, sans-serif;
    }
.entry-content .page-link a:link, .entry-content .page-link a:visited {
    padding: 0.2em 0.4em;
    background: none;
    border: 1px solid #e7e4d8;
    }
.entry-content .page-link a:hover {
    background: #e7e4d8;
    border-color: #e7e4d8;
    }

From jane at automattic.com  Tue Nov  4 15:02:29 2008
From: jane at automattic.com (Jane Wells)
Date: Tue Nov  4 15:02:41 2008
Subject: [wp-hackers] Re: wp-hackers Digest, Vol 46, Issue 12
In-Reply-To: <20081104120054.DE5226C92@comox.textdrive.com>
References: <20081104120054.DE5226C92@comox.textdrive.com>
Message-ID: <CFA8C152-73B6-4219-A82F-E0CAECB13910@automattic.com>

> From: Idled Soul <idledsoul@gmail.com>
> Subject: [wp-hackers] Post pages...
> I was just setting up a demo blog for themes, and was thinking,  
> there's
> no <!--nextpage--> button or option in the write panel editor. Is  
> there
> plans to add one soon, or maybe someone could squeeze it in before 2.7
> is released? Also, the Default / Classic themes don't appear to  
> "handle"
> that option either... Almost as if you'd need a plugin for that. Is
> there anyway this could be handled without a plugin and prepackaged in
> WordPress itself? Just wondering, thanks.

The closest thing right now is the More tag. There won't be any more  
features added to 2.7, as we are already in beta. Maybe it could make  
it into 2.8, but for now this is plugin territory.
Jane
From idledsoul at gmail.com  Tue Nov  4 16:13:57 2008
From: idledsoul at gmail.com (Idled Soul)
Date: Tue Nov  4 15:14:15 2008
Subject: [wp-hackers] Re: wp-hackers Digest, Vol 46, Issue 12
In-Reply-To: <CFA8C152-73B6-4219-A82F-E0CAECB13910@automattic.com>
References: <20081104120054.DE5226C92@comox.textdrive.com>
	<CFA8C152-73B6-4219-A82F-E0CAECB13910@automattic.com>
Message-ID: <491074C5.5020500@gmail.com>

Jane Wells wrote:
> The closest thing right now is the More tag. There won't be any more  
> features added to 2.7, as we are already in beta. Maybe it could make  
> it into 2.8, but for now this is plugin territory.
> Jane

Thanks Jane. Yeah, if I remember right though, this was a hope for 2.7 
as this was brought up before, while on the 2.5 / 2.6 trunk back when. 
Hopefully it does get into 2.8 then. :) I mean, after all, it IS part of 
WordPress core code, should be there sooner than later (possibly never). :P
From jess at funroe.net  Tue Nov  4 16:25:05 2008
From: jess at funroe.net (Jess Planck)
Date: Tue Nov  4 16:25:25 2008
Subject: [wp-hackers] <!--nextpage--> and other tinymce stuff 
In-Reply-To: <491074C5.5020500@gmail.com>
References: <20081104120054.DE5226C92@comox.textdrive.com>
	<CFA8C152-73B6-4219-A82F-E0CAECB13910@automattic.com>
	<491074C5.5020500@gmail.com>
Message-ID: <5EAF9719-7985-4EDC-A124-A3B32EB76D48@funroe.net>

I thought about this the other day because of issues with the advanced  
toolbar button. Right now all the WordPress customizations for tinymce  
reside in one tinymce plugin

On Nov 4, 2008, at 10:13 AM, Idled Soul <idledsoul@gmail.com> wrote:

> Jane Wells wrote:
>> The closest thing right now is the More tag. There won't be any  
>> more  features added to 2.7, as we are already in beta. Maybe it  
>> could make  it into 2.8, but for now this is plugin territory.
>> Jane
>
> Thanks Jane. Yeah, if I remember right though, this was a hope for  
> 2.7 as this was brought up before, while on the 2.5 / 2.6 trunk back  
> when. Hopefully it does get into 2.8 then. :) I mean, after all, it  
> IS part of WordPress core code, should be there sooner than later  
> (possibly never). :P
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From idledsoul at gmail.com  Tue Nov  4 17:32:04 2008
From: idledsoul at gmail.com (Idled Soul)
Date: Tue Nov  4 16:32:20 2008
Subject: [wp-hackers] <!--nextpage--> and other tinymce stuff
In-Reply-To: <5EAF9719-7985-4EDC-A124-A3B32EB76D48@funroe.net>
References: <20081104120054.DE5226C92@comox.textdrive.com>	<CFA8C152-73B6-4219-A82F-E0CAECB13910@automattic.com>	<491074C5.5020500@gmail.com>
	<5EAF9719-7985-4EDC-A124-A3B32EB76D48@funroe.net>
Message-ID: <49108714.10400@gmail.com>

Jess Planck wrote:
> I thought about this the other day because of issues with the advanced  
> toolbar button. Right now all the WordPress customizations for tinymce  
> reside in one tinymce plugin

I just feel, that it should have been already added in as core before. 
Not needing a plugin for it at all. It should have been taken care of 
along with that link_before / link_after stuff for wp_list_pages / and 
so forth, while it was added into core. It shouldn't be considered a 
"feature" at all. Sure one could refer to it as a feature, but really 
it's part of WordPress now, it's there. When we tell the doctor our foot 
is aching, we don't say... "Doctor, I'm having bad aches and pains in my 
foot feature below" ...
From johnbillion+wp at gmail.com  Tue Nov  4 17:25:01 2008
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Tue Nov  4 17:25:12 2008
Subject: [wp-hackers] When WP should return sticky posts (was: styling stick
	posts)
Message-ID: <1fa535a70811040925y7128098btce5fa4a7c8c8b162@mail.gmail.com>

It's been noted by Nathan Rice and MichaelH that when using
query_posts() to perform custom queries, sticky posts are returned
when they shouldn't be.

Returning sticky posts when parameters such as post__in, post__not_in,
and custom field keys/values are explicitly defined is definitely not
intended behaviour.

As per the suggested design on ticket 7457 [1], I suggest that sticky
posts should only be returned on the home page and also possibly on
the category archive for any category that the sticky post is in.

Anywhere else that you think sticky posts should be returned? How
about at the top of search results when the sticky post(s) contains
the search term?

[1] http://trac.wordpress.org/ticket/7457

John
From wp-hackers at striderweb.com  Tue Nov  4 17:16:54 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Nov  4 17:53:17 2008
Subject: [wp-hackers] hooks for admin comment reply form?
Message-ID: <29129065-E7C7-4524-9427-255F61292CBB@striderweb.com>

I have a plugin that tests comments before allowing them.  In the  
comment form it inserts a field that must be filled out before the  
comment is accepted.

Can anyone point me in the right direction for inserting that field so  
it shows up in  the Admin "reply to comment" form(s)?  Right now the  
plugin is blocking all of those because the form isn't being filled it  
(because it doesn't exist...).

Thanks,
Stephen

-- 
Stephen Rider
<http://striderweb.com/>



From ozh at planetozh.com  Tue Nov  4 18:14:22 2008
From: ozh at planetozh.com (Ozh)
Date: Tue Nov  4 18:14:34 2008
Subject: [wp-hackers] hooks for admin comment reply form?
In-Reply-To: <29129065-E7C7-4524-9427-255F61292CBB@striderweb.com>
References: <29129065-E7C7-4524-9427-255F61292CBB@striderweb.com>
Message-ID: <ae81acd10811041014t579d8756xa30eb0f4d5a6be58@mail.gmail.com>

The plugin should test is_admin() before even loading itself, I think...

On Tue, Nov 4, 2008 at 6:16 PM, Stephen Rider <wp-hackers@striderweb.com> wrote:
> I have a plugin that tests comments before allowing them.  In the comment
> form it inserts a field that must be filled out before the comment is
> accepted.

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From slc at publicus.net  Tue Nov  4 18:27:35 2008
From: slc at publicus.net (Steven Clift)
Date: Tue Nov  4 18:29:01 2008
Subject: [wp-hackers] Place, Geotagging
Message-ID: <49109417.2040004@publicus.net>


I am interested in your WordPress developer take on two related ideas:

1. Place - Many of the sites hosted on Drupal are local organizations 
with local content. What do you think of having a standard way WordPress 
(and other open source CMSes/blog/wiki tools) allow sites to assign the 
geographic place name (or perhaps a point) that best represents either 
where their organization is based? How about an automatic map of Drupal 
sites or listings by hierarchical placename?

2. GeoTagging - What do you think of defaulting or at least having the 
ability to assign a point, bounded place, or "global" geo-tag in terms 
of the general scope of individual content items created? An option 
changeable near the post button or perhaps a special tags function that 
works to standardize a place tag with hierarchy - Perhaps a connection 
to http://gaze.mysociety.org would work?

It seems to me that as long as geotagging is an afterthought, the 
ability to aggregate/navigate much of the newer and dynamic content on 
WordPress/WP.com hosted sites by geographic relevancy will be quite 
limited. Imagine the power of just a few CMSes adopting a similar way to 
describe the place of sites (which could be "earth" for those who think 
the Internet is best when viewed as narrowly "global") and even more 
granular meta-data on specific content items as a default rather than an 
add-on.

Please also reply to: clift@publicus.net

Steven Clift
http://stevenclift.com

P.S. I am gathering feedback on this idea as part of an exploration 
commissioned by a major U.S. foundation.
From yahgrp at poplarware.com  Tue Nov  4 19:10:36 2008
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Tue Nov  4 19:10:31 2008
Subject: [wp-hackers] Place, Geotagging
In-Reply-To: <49109417.2040004@publicus.net>
References: <49109417.2040004@publicus.net>
Message-ID: <49109E2C.50807@poplarware.com>

There are plenty of plugins for geographical tagging in WordPress. If 
you cannot find them in the official plugin repository, try Google 
(mine, for instance, is not in the repository but on my web site).

In my opinion, geotagging is not appropriate for WP core. Geotagging 
is quite complex, actually, and to do it right you need to have the 
ability to enter information in various ways and have it end up as a 
latitude/longitude pair. Which means having a geotagging database (for 
converting addresses to lat/long), and probably having map clicking, 
etc. Generally, that means you use an existing map service (Yahoo maps 
or Google maps), which is a proprietary service, and requires the user 
to get an account for it to work, and it could start charging at any 
time, change its API, etc. For that reason, I don't think it's 
appropriate for the WP core, but it's great for a plugin.

And regarding your first suggestion, I personally don't want my WP 
sites to report anything to WP Central, such as automatically 
reporting where I'm located or the existence of my site for some 
marketing listing on wp.org.

     --Jennifer

Steven Clift wrote [snipped for size]:
> 1. Place -  What do you think of having a standard way in WordPress to assign 
> [a geographical point for the site]? How about an automatic map of [WP] 
> sites or listings by hierarchical placename?
> 
> 2. GeoTagging - What do you think of defaulting or at least having the 
> ability to assign a point, bounded place, or "global" geo-tag in terms 
> of the general scope of individual content items created? 

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From jess at funroe.net  Tue Nov  4 20:16:54 2008
From: jess at funroe.net (Jess Planck)
Date: Tue Nov  4 20:17:13 2008
Subject: [wp-hackers] <!--nextpage--> and other tinymce stuff
In-Reply-To: <49108714.10400@gmail.com>
References: <20081104120054.DE5226C92@comox.textdrive.com>	<CFA8C152-73B6-4219-A82F-E0CAECB13910@automattic.com>	<491074C5.5020500@gmail.com>
	<5EAF9719-7985-4EDC-A124-A3B32EB76D48@funroe.net>
	<49108714.10400@gmail.com>
Message-ID: <C15F72D8-881D-4F58-90AA-3B8C8D2FB457@funroe.net>

As I was saying before my phone crapped out and just decided to send  
my unfinished message:

I was hoping that these functions would be split into separate tinymce  
plugins / javascript functions. I would not consider this the easiest  
task, so I would not expect it for 2.7. There are a ton of functions  
in the wordpress tinymce plugin; page more, next page, advanced  
toolbar, wordpress help, and not to mention core controls for the  
editor that do hot keys and build in the media buttons. It might be  
time to split out some of those functions.

If More and Next Page were in a wp-paging tinymce plugin and advanced  
toolbar were in a kitchensink tinymce plugin. They could be easily  
removed or modified by plugin authors. Very easy to override. I don't  
know if I get this right, but wpeditimage buttons live in the  
wordpress plugin while the wpeditimage has it's own plugin?

Yea, I wouldn't expect that sort of cleanup to happen for 2.7 no way...



On Nov 4, 2008, at 11:32 AM, Idled Soul wrote:

> Jess Planck wrote:
>> I thought about this the other day because of issues with the  
>> advanced  toolbar button. Right now all the WordPress  
>> customizations for tinymce  reside in one tinymce plugin
>
> I just feel, that it should have been already added in as core  
> before. Not needing a plugin for it at all. It should have been  
> taken care of along with that link_before / link_after stuff for  
> wp_list_pages / and so forth, while it was added into core. It  
> shouldn't be considered a "feature" at all. Sure one could refer to  
> it as a feature, but really it's part of WordPress now, it's there.  
> When we tell the doctor our foot is aching, we don't say... "Doctor,  
> I'm having bad aches and pains in my foot feature below" ...
From idledsoul at gmail.com  Tue Nov  4 21:42:25 2008
From: idledsoul at gmail.com (Idled Soul)
Date: Tue Nov  4 20:42:48 2008
Subject: [wp-hackers] <!--nextpage--> and other tinymce stuff
In-Reply-To: <C15F72D8-881D-4F58-90AA-3B8C8D2FB457@funroe.net>
References: <20081104120054.DE5226C92@comox.textdrive.com>	<CFA8C152-73B6-4219-A82F-E0CAECB13910@automattic.com>	<491074C5.5020500@gmail.com>	<5EAF9719-7985-4EDC-A124-A3B32EB76D48@funroe.net>	<49108714.10400@gmail.com>
	<C15F72D8-881D-4F58-90AA-3B8C8D2FB457@funroe.net>
Message-ID: <4910C1C1.4080503@gmail.com>

Jess Planck wrote:
> As I was saying before my phone crapped out and just decided to send  
> my unfinished message:
>   
Ouch, I hate when that happens. :(

> I was hoping that these functions would be split into separate tinymce  
> plugins / javascript functions. I would not consider this the easiest  
> task, so I would not expect it for 2.7. There are a ton of functions  
> in the wordpress tinymce plugin; page more, next page, advanced  
> toolbar, wordpress help, and not to mention core controls for the  
> editor that do hot keys and build in the media buttons. It might be  
> time to split out some of those functions.
>
> If More and Next Page were in a wp-paging tinymce plugin and advanced  
> toolbar were in a kitchensink tinymce plugin. They could be easily  
> removed or modified by plugin authors. Very easy to override. I don't  
> know if I get this right, but wpeditimage buttons live in the  
> wordpress plugin while the wpeditimage has it's own plugin?
>   

Yeah, there's a lot of things that need organized and figured out on 
what needs done and etc etc. I think with 2.8, the overall TLC should be 
given to the TinyMCE itself as well as other areas of functions / theme 
functions and such.


> Yea, I wouldn't expect that sort of cleanup to happen for 2.7 no way...

No, not all of that stuff you said about. The <!--nextpage--> button was 
mentioned before though, to be hopefully added into 2.7 though. It was 
brought up before, back on 2.6 trunk, before it went branch and they 
started on 2.7 trunk. It was put off back then, to be in THIS 2.7 
version. Now it's being pushed into yet another version .. (2.8). If the 
pushing to next version, after next version keeps going on, it'll never 
get done. But yeah, I think this stuff should be more focused on for 
2.8. Give a lot of love to 2.8. :D
From wp-hackers at striderweb.com  Tue Nov  4 20:46:55 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Nov  4 20:47:07 2008
Subject: [wp-hackers] error from DEACTIVATED plugin???
Message-ID: <58B3A9B1-C9EC-4E09-8160-62B040B562D4@striderweb.com>

This is absolutely weird.

I'm testing out the latest beta, and I'm on the Comments screen in  
Admin.  I try to use the inline reply function, but when I submit, I  
get a bunch of PHP errors.

The bizarre part is that the errors appear to be related to the Spam  
Karma 2 plugin, but ***that plugin is _not_ activated***.  My best  
guess is that somehow WordPress is still loading the plugin file.   
Very strange.

A sampling from the PHP log, if that helps...

(this is from a local test machine)

[04-Nov-2008 14:35:47] WordPress database error Table  
'stride_MySQL.sw_sk2_logs' doesn't exist for query INSERT INTO  
`sw_sk2_logs` SET `msg` = 'sk2_comment: Cannot fetch comment record  
from table.<br/>\nSQL error: <code>Table \'stride_MySQL.sw_sk2_spams\'  
doesn\'t exist</code>', `component` = 'cmt_class', `level` = 9, `ts` =  
NOW() made by log_msg


Any ideas?

One more thing:  Upon looking at the plugin screen, I discovered that  
there are two copies of the plugin listed (I had made a copy for  
hacking purposes, and failed to archive the original).  BOTH, however,  
were listed as not active.

Stephen

From admin at laptoptips.ca  Tue Nov  4 20:52:54 2008
From: admin at laptoptips.ca (Andrew Ozz)
Date: Tue Nov  4 20:52:57 2008
Subject: [wp-hackers] <!--nextpage--> and other tinymce stuff
In-Reply-To: <C15F72D8-881D-4F58-90AA-3B8C8D2FB457@funroe.net>
References: <20081104120054.DE5226C92@comox.textdrive.com>	<CFA8C152-73B6-4219-A82F-E0CAECB13910@automattic.com>	<491074C5.5020500@gmail.com>	<5EAF9719-7985-4EDC-A124-A3B32EB76D48@funroe.net>	<49108714.10400@gmail.com>
	<C15F72D8-881D-4F58-90AA-3B8C8D2FB457@funroe.net>
Message-ID: <4910B626.6040600@laptoptips.ca>

Jess Planck wrote:
> I was hoping that these functions would be split into separate tinymce 
> plugins / javascript functions. I would not consider this the easiest 
> task, so I would not expect it for 2.7. There are a ton of functions in 
> the wordpress tinymce plugin; page more, next page, advanced toolbar, 
> wordpress help, and not to mention core controls for the editor that do 
> hot keys and build in the media buttons. It might be time to split out 
> some of those functions.

This is "mostly" right, except that each of the features added by the 
"wordpress" plugin for TinyMCE can easily be hidden by removing the 
button for it from the toolbar by add_filter('mce_buttons', array(...)). 
<!--nextpage--> can be added in the same way.

> If More and Next Page were in a wp-paging tinymce plugin and advanced 
> toolbar were in a kitchensink tinymce plugin. They could be easily 
> removed or modified by plugin authors. Very easy to override. I don't 
> know if I get this right, but wpeditimage buttons live in the wordpress 
> plugin while the wpeditimage has it's own plugin?

No, the "wpeditimage" plugin includes the buttons that pop-up when 
clicking on an image in the visual editor. The buttons you see in the 
"wordpress" plugin are the "Upload Media" buttons and are shown only 
when the editor is in full screen mode, so the uploader can still be used.
From mikeschinkel at gmail.com  Tue Nov  4 21:00:15 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Tue Nov  4 21:00:42 2008
Subject: [wp-hackers] WP vs WPMU?
In-Reply-To: <49109417.2040004@publicus.net>
References: <49109417.2040004@publicus.net>
Message-ID: <00c301c93ec0$56e37540$6702a8c0@Guides.local>

Hi all:

I'm working on a project as a PM and PHP dev with an HTML+CSS designer. I've
proposed the client use WPMU but the designer doesn't like the idea saying
that she's heard the WPMU has poor support and that many plugins such as
cformsII don't work with WPMU.

Ignoring the obvious functionality differences do any of you think we'll be
getting into trouble by going with WPMU?  And feedback you can provide would
be helpful. Thanks in advance.


-Mike Schinkel 
http://mikeschinkel.com

From mikeschinkel at gmail.com  Tue Nov  4 21:10:29 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Tue Nov  4 21:10:45 2008
Subject: [wp-hackers] Place, Geotagging
References: <49109417.2040004@publicus.net> 
Message-ID: <00c801c93ec1$c4d6ee00$6702a8c0@Guides.local>

Actually It would be good to coordinate with the Drupal and Joomla teams to
get something all three would use....  

-Mike Schinkel 
http://mikeschinkel.com


-----Original Message-----
From: Mike Schinkel [mailto:mikeschinkel@gmail.com] 
Sent: Tuesday, November 04, 2008 4:05 PM
To: 'wp-hackers@lists.automattic.com'
Subject: RE: [wp-hackers] Place, Geotagging

Nice idea! 

Now let me suggest you also email the mailing list uri@w3.org and ask the
same question to come up with the best standard way of expressing geo
location that can then be applied to WordPress.

-Mike Schinkel
http://mikeschinkel.com


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Steven Clift
Sent: Tuesday, November 04, 2008 1:28 PM
To: wp-hackers@lists.automattic.com
Subject: [wp-hackers] Place, Geotagging


I am interested in your WordPress developer take on two related ideas:

1. Place - Many of the sites hosted on Drupal are local organizations with
local content. What do you think of having a standard way WordPress (and
other open source CMSes/blog/wiki tools) allow sites to assign the
geographic place name (or perhaps a point) that best represents either where
their organization is based? How about an automatic map of Drupal sites or
listings by hierarchical placename?

2. GeoTagging - What do you think of defaulting or at least having the
ability to assign a point, bounded place, or "global" geo-tag in terms of
the general scope of individual content items created? An option changeable
near the post button or perhaps a special tags function that works to
standardize a place tag with hierarchy - Perhaps a connection to
http://gaze.mysociety.org would work?

It seems to me that as long as geotagging is an afterthought, the ability to
aggregate/navigate much of the newer and dynamic content on WordPress/WP.com
hosted sites by geographic relevancy will be quite limited. Imagine the
power of just a few CMSes adopting a similar way to describe the place of
sites (which could be "earth" for those who think the Internet is best when
viewed as narrowly "global") and even more granular meta-data on specific
content items as a default rather than an add-on.

Please also reply to: clift@publicus.net

Steven Clift
http://stevenclift.com

P.S. I am gathering feedback on this idea as part of an exploration
commissioned by a major U.S. foundation.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at gmail.com  Tue Nov  4 21:05:20 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Tue Nov  4 21:29:57 2008
Subject: [wp-hackers] Place, Geotagging
In-Reply-To: <49109417.2040004@publicus.net>
References: <49109417.2040004@publicus.net>
Message-ID: <00c401c93ec1$0ca4d8b0$6702a8c0@Guides.local>

Nice idea! 

Now let me suggest you also email the mailing list uri@w3.org and ask the
same question to come up with the best standard way of expressing geo
location that can then be applied to WordPress.

-Mike Schinkel 
http://mikeschinkel.com


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Steven Clift
Sent: Tuesday, November 04, 2008 1:28 PM
To: wp-hackers@lists.automattic.com
Subject: [wp-hackers] Place, Geotagging


I am interested in your WordPress developer take on two related ideas:

1. Place - Many of the sites hosted on Drupal are local organizations with
local content. What do you think of having a standard way WordPress (and
other open source CMSes/blog/wiki tools) allow sites to assign the
geographic place name (or perhaps a point) that best represents either where
their organization is based? How about an automatic map of Drupal sites or
listings by hierarchical placename?

2. GeoTagging - What do you think of defaulting or at least having the
ability to assign a point, bounded place, or "global" geo-tag in terms of
the general scope of individual content items created? An option changeable
near the post button or perhaps a special tags function that works to
standardize a place tag with hierarchy - Perhaps a connection to
http://gaze.mysociety.org would work?

It seems to me that as long as geotagging is an afterthought, the ability to
aggregate/navigate much of the newer and dynamic content on WordPress/WP.com
hosted sites by geographic relevancy will be quite limited. Imagine the
power of just a few CMSes adopting a similar way to describe the place of
sites (which could be "earth" for those who think the Internet is best when
viewed as narrowly "global") and even more granular meta-data on specific
content items as a default rather than an add-on.

Please also reply to: clift@publicus.net

Steven Clift
http://stevenclift.com

P.S. I am gathering feedback on this idea as part of an exploration
commissioned by a major U.S. foundation.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at gmail.com  Tue Nov  4 21:10:29 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Tue Nov  4 21:46:37 2008
Subject: [wp-hackers] Place, Geotagging
In-Reply-To: <49109E2C.50807@poplarware.com>
References: <49109417.2040004@publicus.net> <49109E2C.50807@poplarware.com>
Message-ID: <00cc01c93ec1$c5f29730$6702a8c0@Guides.local>

Jennifer Hodgdon wrote:
>> In my opinion, geotagging is not appropriate for WP core. ... For that
reason, I don't think it's appropriate for the WP core, but it's great for a
plugin.

There would be real benefit for a defacto-standard method to emerge. WP has
enough market-share to start seeing that happen. 

>> Geotagging is quite complex, actually, and to do it right you need to
have the ability to enter information in various ways and have it end up as
a latitude/longitude pair. Which means having a geotagging database (for
converting addresses to lat/long), and probably having map clicking, etc. 

Then create a generic interface in core where a plugin can call a
proprietary service and return the information in a standard way to the core
and then have the core put the generic information into an HTML header.
That way people could create plugins for whichever service they prefer and
WP would still have one standard way to deliver the information.

BTW, it could be delivered a variety of ways concurrently: Lat/Long,
Country, Region within Country (i.e. State in the USA), City, Postal Code,
etc.

>> And regarding your first suggestion, I personally don't want my WP sites
to report anything to WP Central, such as automatically reporting where I'm
located or the existence of my site for some marketing listing on wp.org.

Something like this should, of course, be site owner-optional. No need to
imped progress for others because of a lack having personal interest. JMTCW,
anyway. :)

-Mike Schinkel 
http://mikeschinkel.com


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Jennifer
Hodgdon
Sent: Tuesday, November 04, 2008 2:11 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Place, Geotagging

There are plenty of plugins for geographical tagging in WordPress. If you
cannot find them in the official plugin repository, try Google (mine, for
instance, is not in the repository but on my web site).

In my opinion, geotagging is not appropriate for WP core. Geotagging is
quite complex, actually, and to do it right you need to have the ability to
enter information in various ways and have it end up as a latitude/longitude
pair. Which means having a geotagging database (for converting addresses to
lat/long), and probably having map clicking, etc. Generally, that means you
use an existing map service (Yahoo maps or Google maps), which is a
proprietary service, and requires the user to get an account for it to work,
and it could start charging at any time, change its API, etc. For that
reason, I don't think it's appropriate for the WP core, but it's great for a
plugin.

And regarding your first suggestion, I personally don't want my WP sites to
report anything to WP Central, such as automatically reporting where I'm
located or the existence of my site for some marketing listing on wp.org.

     --Jennifer

Steven Clift wrote [snipped for size]:
> 1. Place -  What do you think of having a standard way in WordPress to 
> assign [a geographical point for the site]? How about an automatic map 
> of [WP] sites or listings by hierarchical placename?
> 
> 2. GeoTagging - What do you think of defaulting or at least having the 
> ability to assign a point, bounded place, or "global" geo-tag in terms 
> of the general scope of individual content items created?

--
Jennifer Hodgdon * Poplar ProductivityWare www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins Custom Web Programming, Web
Databases PHP, Perl, MySQL, JavaScript, XML, AJAX

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From jess at funroe.net  Tue Nov  4 21:46:37 2008
From: jess at funroe.net (Jess Planck)
Date: Tue Nov  4 21:46:50 2008
Subject: [wp-hackers] <!--nextpage--> and other tinymce stuff
In-Reply-To: <4910B626.6040600@laptoptips.ca>
References: <20081104120054.DE5226C92@comox.textdrive.com>	<CFA8C152-73B6-4219-A82F-E0CAECB13910@automattic.com>	<491074C5.5020500@gmail.com>	<5EAF9719-7985-4EDC-A124-A3B32EB76D48@funroe.net>	<49108714.10400@gmail.com>
	<C15F72D8-881D-4F58-90AA-3B8C8D2FB457@funroe.net>
	<4910B626.6040600@laptoptips.ca>
Message-ID: <1DD13A84-C34F-495C-8031-69A68B0BA536@funroe.net>

Yea I wasn't sure about some of it.

The only button I found issue with was the advanced toolbar one.  
Remove that one and row two becomes inaccessible. Initial behavior for  
hiding row two is defined in the wordpress tinymce plugin. You can't  
override that one without creating an external plugin to replace the  
entire wordpress plugin. It's a nasty way to do it.

Of course next page is another issue because it should really only  
show if you are working on a page and "more" should only work if you  
are working on a post. I think?

The original discussion just got me thinking about suggesting that  
some of the wordpress tinymce plugin might be ripe for being better  
compartmentalized after 2.7 is released. I just have to remember to  
submit something later.

On Nov 4, 2008, at 2:52 PM, Andrew Ozz wrote:

> This is "mostly" right, except that each of the features added by  
> the "wordpress" plugin for TinyMCE can easily be hidden by removing  
> the button for it from the toolbar by add_filter('mce_buttons',  
> array(...)). <!--nextpage--> can be added in the same way.

From alex at dunae.ca  Tue Nov  4 21:52:33 2008
From: alex at dunae.ca (Alex Dunae)
Date: Tue Nov  4 21:52:45 2008
Subject: [wp-hackers] Re: Place, Geotagging
In-Reply-To: <00cc01c93ec1$c5f29730$6702a8c0@Guides.local>
References: <49109417.2040004@publicus.net> <49109E2C.50807@poplarware.com> 
	<00cc01c93ec1$c5f29730$6702a8c0@Guides.local>
Message-ID: <81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com>

> There would be real benefit for a defacto-standard method to emerge. WP has
> enough market-share to start seeing that happen.

There already seems to be a de facto standard for geo-tagging entire
sites: the GeoURL ICBM Address Server.  They use a simple meta tag and
I've seen it all over the web.

See http://geourl.org/

From hempsworth at googlemail.com  Tue Nov  4 21:59:36 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Tue Nov  4 21:59:51 2008
Subject: [wp-hackers] Re: Place, Geotagging
In-Reply-To: <81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com>
References: <49109417.2040004@publicus.net> <49109E2C.50807@poplarware.com>
	<00cc01c93ec1$c5f29730$6702a8c0@Guides.local>
	<81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com>
Message-ID: <5a1dad880811041359h66e4f162s9fd50a1b2eb462fb@mail.gmail.com>

If a true Web 2.0 service was developer for this, GeoURL looks promising but
isn't too pretty (and doesn't look like it offers GeoTagging of an entire
blog and specific posts - the current meta tags would conflict), I can see
it something Automattic would buy up.
Gravatar, IntenseDebate and now PollDaddy are services which feed into the
blogging community - a really good solution for GeoTagging would be another
one of those services.

-- Alex


On Tue, Nov 4, 2008 at 9:52 PM, Alex Dunae <alex@dunae.ca> wrote:

> > There would be real benefit for a defacto-standard method to emerge. WP
> has
> > enough market-share to start seeing that happen.
>
> There already seems to be a de facto standard for geo-tagging entire
> sites: the GeoURL ICBM Address Server.  They use a simple meta tag and
> I've seen it all over the web.
>
> See http://geourl.org/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From hempsworth at googlemail.com  Tue Nov  4 22:18:02 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Tue Nov  4 22:18:17 2008
Subject: [wp-hackers] Re: Place, Geotagging
In-Reply-To: <5a1dad880811041359h66e4f162s9fd50a1b2eb462fb@mail.gmail.com>
References: <49109417.2040004@publicus.net> <49109E2C.50807@poplarware.com>
	<00cc01c93ec1$c5f29730$6702a8c0@Guides.local>
	<81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com>
	<5a1dad880811041359h66e4f162s9fd50a1b2eb462fb@mail.gmail.com>
Message-ID: <5a1dad880811041418k6b0e3c2s14b91bddabd897f@mail.gmail.com>

That being said, after reading the GeoURL site properly, it's all open
source anyway - so it should stay that way. Perhaps a site redesign though
:P

-- Alex


On Tue, Nov 4, 2008 at 9:59 PM, Alex Hempton-Smith <
hempsworth@googlemail.com> wrote:

> If a true Web 2.0 service was developer for this, GeoURL looks promising
> but isn't too pretty (and doesn't look like it offers GeoTagging of an
> entire blog and specific posts - the current meta tags would conflict), I
> can see it something Automattic would buy up.
> Gravatar, IntenseDebate and now PollDaddy are services which feed into the
> blogging community - a really good solution for GeoTagging would be another
> one of those services.
>
> -- Alex
>
>
>
> On Tue, Nov 4, 2008 at 9:52 PM, Alex Dunae <alex@dunae.ca> wrote:
>
>> > There would be real benefit for a defacto-standard method to emerge. WP
>> has
>> > enough market-share to start seeing that happen.
>>
>> There already seems to be a de facto standard for geo-tagging entire
>> sites: the GeoURL ICBM Address Server.  They use a simple meta tag and
>> I've seen it all over the web.
>>
>> See http://geourl.org/
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
From regulatethis at gmail.com  Tue Nov  4 22:18:44 2008
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Tue Nov  4 22:19:09 2008
Subject: [wp-hackers] r9505 broke my .htaccess file!
Message-ID: <39fdab560811041418x63e90ffdkb2e2638728d759fa@mail.gmail.com>

I'm getting a line like this now:

RewriteBase Array

which is obviously not good ;)
From latifplayer at yahoo.com  Tue Nov  4 21:52:00 2008
From: latifplayer at yahoo.com (suleman mohammed)
Date: Tue Nov  4 22:20:43 2008
Subject: [wp-hackers] In need of some credit cards
Message-ID: <258240.31450.qm@web57903.mail.re3.yahoo.com>

I need a credit card



      
From matt at sivel.net  Tue Nov  4 22:23:16 2008
From: matt at sivel.net (Matt Martz)
Date: Tue Nov  4 22:23:28 2008
Subject: [wp-hackers] r9505 broke my .htaccess file!
In-Reply-To: <39fdab560811041418x63e90ffdkb2e2638728d759fa@mail.gmail.com>
References: <39fdab560811041418x63e90ffdkb2e2638728d759fa@mail.gmail.com>
Message-ID: <518fa9630811041423t2f06d437x2a4621ebdc79fe34@mail.gmail.com>

On Tue, Nov 4, 2008 at 5:18 PM, Daniel Torreblanca
<regulatethis@gmail.com> wrote:
> I'm getting a line like this now:
>
> RewriteBase Array
>
> which is obviously not good ;)


I believe this has already been fixed in 9516

http://trac.wordpress.org/ticket/8062


-- 
Matt Martz
matt@sivel.net
From regulatethis at gmail.com  Tue Nov  4 22:28:45 2008
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Tue Nov  4 22:28:58 2008
Subject: [wp-hackers] r9505 broke my .htaccess file!
In-Reply-To: <518fa9630811041423t2f06d437x2a4621ebdc79fe34@mail.gmail.com>
References: <39fdab560811041418x63e90ffdkb2e2638728d759fa@mail.gmail.com>
	<518fa9630811041423t2f06d437x2a4621ebdc79fe34@mail.gmail.com>
Message-ID: <39fdab560811041428v7faf3f59kd1da42621d6d153a@mail.gmail.com>

Yep :)

On Tue, Nov 4, 2008 at 5:23 PM, Matt Martz <matt@sivel.net> wrote:
> On Tue, Nov 4, 2008 at 5:18 PM, Daniel Torreblanca
> <regulatethis@gmail.com> wrote:
>> I'm getting a line like this now:
>>
>> RewriteBase Array
>>
>> which is obviously not good ;)
>
>
> I believe this has already been fixed in 9516
>
> http://trac.wordpress.org/ticket/8062
>
>
> --
> Matt Martz
> matt@sivel.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wordpress at dd32.id.au  Tue Nov  4 23:24:19 2008
From: wordpress at dd32.id.au (DD32)
Date: Tue Nov  4 23:24:44 2008
Subject: [wp-hackers] error from DEACTIVATED plugin???
In-Reply-To: <58B3A9B1-C9EC-4E09-8160-62B040B562D4@striderweb.com>
References: <58B3A9B1-C9EC-4E09-8160-62B040B562D4@striderweb.com>
Message-ID: <op.uj4batnmk6w4mc@dd32.no-ip.com>

Can you grab the contents of the option 'active_plugins' ?
Its supposed to deactivate any plugins which are not present on the  
plugins list, and deactivate any plugins which are not in the plugins  
directory upon viewing the plugins page. but that might not be happening,  
the contents of the option might help narrow it down a little :)

On Wed, 05 Nov 2008 07:46:55 +1100, Stephen Rider  
<wp-hackers@striderweb.com> wrote:

> This is absolutely weird.
>
> I'm testing out the latest beta, and I'm on the Comments screen in
> Admin.  I try to use the inline reply function, but when I submit, I
> get a bunch of PHP errors.
>
> The bizarre part is that the errors appear to be related to the Spam
> Karma 2 plugin, but ***that plugin is _not_ activated***.  My best
> guess is that somehow WordPress is still loading the plugin file.
> Very strange.
>
> A sampling from the PHP log, if that helps...
>
> (this is from a local test machine)
>
> [04-Nov-2008 14:35:47] WordPress database error Table
> 'stride_MySQL.sw_sk2_logs' doesn't exist for query INSERT INTO
> `sw_sk2_logs` SET `msg` = 'sk2_comment: Cannot fetch comment record
> from table.<br/>\nSQL error: <code>Table \'stride_MySQL.sw_sk2_spams\'
> doesn\'t exist</code>', `component` = 'cmt_class', `level` = 9, `ts` =
> NOW() made by log_msg
>
>
> Any ideas?
>
> One more thing:  Upon looking at the plugin screen, I discovered that
> there are two copies of the plugin listed (I had made a copy for
> hacking purposes, and failed to archive the original).  BOTH, however,
> were listed as not active.
>
> Stephen
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From mikeschinkel at gmail.com  Tue Nov  4 23:53:33 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Tue Nov  4 23:54:06 2008
Subject: [wp-hackers] Re: Place, Geotagging
In-Reply-To: <81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com>
References: <49109417.2040004@publicus.net> <49109E2C.50807@poplarware.com>
	<00cc01c93ec1$c5f29730$6702a8c0@Guides.local>
	<81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com>
Message-ID: <003801c93ed8$93301630$6702a8c0@Guides.local>

Here are some interesting followup URLs:

http://geotags.com/geobot/add-tags.html 
http://geotags.com/geo/DMS3.html
http://geotags.com/geo/geotags2.html#region

For example: 

<META NAME="geo.position" CONTENT="latitude; longitude"> 
<META NAME="geo.placename" CONTENT="Place Name"> 
<META NAME="geo.region" CONTENT="Country Subdivision Code">

e.g. 
<META NAME="geo.position" CONTENT="49.2;-123.4"> 
<META NAME="geo.placename" CONTENT="London, Ontario"> 
<META NAME="geo.region" CONTENT="CA-ON">

Of course that doesn't provide an exact match to a City/Place which would be
very useful. Problem is, I guess, that there is no standard list of places.
I did find "Natural Area Code" but it is proprietary:
http://www.nacgeo.com/nacsite/licensing/

One option for place would be to include a URL-encoded Wikipedia title, i.e.
"New_York_City" (http://en.wikipedia.org/wiki/New_York_City) and
"Atlanta,_GA" (http://en.wikipedia.org/wiki/Atlanta,_GA). And if there is no
wikipedia page for a city well it's about time for someone to add it, eh?

One problem here is there is no *guarantee* that the Wikipedians won't up
and change a place's URL (i.e. they might change NYC to be
http://en.wikipedia.org/wiki/New_York_City,_NY for example.) Still I'd be
willing to bet on Wikipedia being close to authoritative than any other
source.  Maybe the meta could be: 

<META NAME="wikipedia.city" CONTENT="New_York_City"> 
<META NAME="wikipedia.city" CONTENT="Atlanta,_GA"> 

Or better yet?

<META NAME="wikipedia.en.city" CONTENT="London, Ontario"> 
<META NAME="wikipedia.en.city" CONTENT="Atlanta,_GA"> 

Thoughts?

-Mike Schinkel 
http://mikeschinkel.com


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Alex Dunae
Sent: Tuesday, November 04, 2008 4:53 PM
To: wp-hackers@lists.automattic.com
Subject: [wp-hackers] Re: Place, Geotagging

> There would be real benefit for a defacto-standard method to emerge. 
> WP has enough market-share to start seeing that happen.

There already seems to be a de facto standard for geo-tagging entire
sites: the GeoURL ICBM Address Server.  They use a simple meta tag and I've
seen it all over the web.

See http://geourl.org/

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at gmail.com  Tue Nov  4 23:53:33 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Tue Nov  4 23:54:10 2008
Subject: [wp-hackers] Re: Place, Geotagging
In-Reply-To: <5a1dad880811041418k6b0e3c2s14b91bddabd897f@mail.gmail.com>
References: <49109417.2040004@publicus.net>
	<49109E2C.50807@poplarware.com><00cc01c93ec1$c5f29730$6702a8c0@Guides.local><81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com><5a1dad880811041359h66e4f162s9fd50a1b2eb462fb@mail.gmail.com>
	<5a1dad880811041418k6b0e3c2s14b91bddabd897f@mail.gmail.com>
Message-ID: <003901c93ed8$96041dc0$6702a8c0@Guides.local>

Alex:

There's no real need for the GeoURL stuff, just selection of proper
metatdata and terms and incorporation as a WordPress Plugin at first, and
then hopefully inclusion in the core once the kinks are worked out. Keeping
a list of sites and scraping the metadata would be trivial.

-Mike Schinkel 
http://mikeschinkel.com


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Alex
Hempton-Smith
Sent: Tuesday, November 04, 2008 5:18 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Re: Place, Geotagging

That being said, after reading the GeoURL site properly, it's all open
source anyway - so it should stay that way. Perhaps a site redesign though
:P

-- Alex


On Tue, Nov 4, 2008 at 9:59 PM, Alex Hempton-Smith <
hempsworth@googlemail.com> wrote:

> If a true Web 2.0 service was developer for this, GeoURL looks 
> promising but isn't too pretty (and doesn't look like it offers 
> GeoTagging of an entire blog and specific posts - the current meta 
> tags would conflict), I can see it something Automattic would buy up.
> Gravatar, IntenseDebate and now PollDaddy are services which feed into 
> the blogging community - a really good solution for GeoTagging would 
> be another one of those services.
>
> -- Alex
>
>
>
> On Tue, Nov 4, 2008 at 9:52 PM, Alex Dunae <alex@dunae.ca> wrote:
>
>> > There would be real benefit for a defacto-standard method to 
>> > emerge. WP
>> has
>> > enough market-share to start seeing that happen.
>>
>> There already seems to be a de facto standard for geo-tagging entire
>> sites: the GeoURL ICBM Address Server.  They use a simple meta tag 
>> and I've seen it all over the web.
>>
>> See http://geourl.org/
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From zamoose at gmail.com  Wed Nov  5 03:06:51 2008
From: zamoose at gmail.com (Doug Stewart)
Date: Wed Nov  5 03:06:59 2008
Subject: [wp-hackers] WP vs WPMU?
In-Reply-To: <00c301c93ec0$56e37540$6702a8c0@Guides.local>
References: <49109417.2040004@publicus.net>
	<00c301c93ec0$56e37540$6702a8c0@Guides.local>
Message-ID: <71ddd7490811041906m37ff296ds30b6fd332ebda059@mail.gmail.com>

On Tue, Nov 4, 2008 at 5:00 PM, Mike Schinkel <mikeschinkel@gmail.com> wrote:
> Hi all:
>
> I'm working on a project as a PM and PHP dev with an HTML+CSS designer. I've
> proposed the client use WPMU but the designer doesn't like the idea saying
> that she's heard the WPMU has poor support and that many plugins such as
> cformsII don't work with WPMU.
>
> Ignoring the obvious functionality differences do any of you think we'll be
> getting into trouble by going with WPMU?  And feedback you can provide would
> be helpful. Thanks in advance.
>

A better question might be: why are you leaning towards MU for the
solution?  What does it buy you that vanilla WP doesn't, and how does
that align with the project goals?

-- 
-Doug
From speedboxer at gmail.com  Wed Nov  5 03:08:47 2008
From: speedboxer at gmail.com (Matt)
Date: Wed Nov  5 03:09:00 2008
Subject: [wp-hackers] Re: Place, Geotagging
In-Reply-To: <81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com>
References: <49109417.2040004@publicus.net> <49109E2C.50807@poplarware.com>
	<00cc01c93ec1$c5f29730$6702a8c0@Guides.local>
	<81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com>
Message-ID: <b88434820811041908y5cdbab26r75b7eaf761db56eb@mail.gmail.com>

There's also a Microformat for geotagging:

http://en.wikipedia.org/wiki/Geo_(microformat)

On Tue, Nov 4, 2008 at 1:52 PM, Alex Dunae <alex@dunae.ca> wrote:

> > There would be real benefit for a defacto-standard method to emerge. WP
> has
> > enough market-share to start seeing that happen.
>
> There already seems to be a de facto standard for geo-tagging entire
> sites: the GeoURL ICBM Address Server.  They use a simple meta tag and
> I've seen it all over the web.
>
> See http://geourl.org/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (http://mattsblog.ca/)
From fidler.brian at gmail.com  Wed Nov  5 04:51:24 2008
From: fidler.brian at gmail.com (Brian Fidler)
Date: Wed Nov  5 04:51:31 2008
Subject: [wp-hackers] get list of items in a category
Message-ID: <70d23f010811042051t7be20a1fsd73fa318048c02e8@mail.gmail.com>

This is a simple one but I'm pretty new to WP. I've set up a News category
and have created a special page template for news items. I want to display a
list of items in the News category, ordered by most recent date first. What
WP function would I use? I'm currently using <?php get_the_category('News');
?> but it's not returning anything.

thanks.
From devces at gmail.com  Wed Nov  5 05:42:07 2008
From: devces at gmail.com (DEVCES)
Date: Wed Nov  5 05:42:22 2008
Subject: [wp-hackers] get list of items in a category
In-Reply-To: <70d23f010811042051t7be20a1fsd73fa318048c02e8@mail.gmail.com>
References: <70d23f010811042051t7be20a1fsd73fa318048c02e8@mail.gmail.com>
Message-ID: <57f05d620811042142p7796c05am10f65192809dc5bd@mail.gmail.com>

There is a plugin that allows you to execute a php script in a post / page

http://wordpress.org/extend/plugins/exec-php/

worked for me.



On Tue, Nov 4, 2008 at 11:51 PM, Brian Fidler <fidler.brian@gmail.com>wrote:

> This is a simple one but I'm pretty new to WP. I've set up a News category
> and have created a special page template for news items. I want to display
> a
> list of items in the News category, ordered by most recent date first. What
> WP function would I use? I'm currently using <?php
> get_the_category('News');
> ?> but it's not returning anything.
>
> thanks.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From fidler.brian at gmail.com  Wed Nov  5 05:53:05 2008
From: fidler.brian at gmail.com (Brian Fidler)
Date: Wed Nov  5 05:53:17 2008
Subject: [wp-hackers] get list of items in a category
In-Reply-To: <57f05d620811042142p7796c05am10f65192809dc5bd@mail.gmail.com>
References: <70d23f010811042051t7be20a1fsd73fa318048c02e8@mail.gmail.com>
	<57f05d620811042142p7796c05am10f65192809dc5bd@mail.gmail.com>
Message-ID: <70d23f010811042153k3e147161k872c76aaa81972a6@mail.gmail.com>

Thanks. I'm putting the PHP directly into my page_news template. I'm just
trying to use Wordpress's existing conventions. Any help would be great.

thanks!


On Tue, Nov 4, 2008 at 10:42 PM, DEVCES <devces@gmail.com> wrote:

> There is a plugin that allows you to execute a php script in a post / page
>
> http://wordpress.org/extend/plugins/exec-php/
>
> worked for me.
>
>
>
> On Tue, Nov 4, 2008 at 11:51 PM, Brian Fidler <fidler.brian@gmail.com
> >wrote:
>
> > This is a simple one but I'm pretty new to WP. I've set up a News
> category
> > and have created a special page template for news items. I want to
> display
> > a
> > list of items in the News category, ordered by most recent date first.
> What
> > WP function would I use? I'm currently using <?php
> > get_the_category('News');
> > ?> but it's not returning anything.
> >
> > thanks.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wordpress at dd32.id.au  Wed Nov  5 05:56:00 2008
From: wordpress at dd32.id.au (DD32)
Date: Wed Nov  5 05:56:25 2008
Subject: [wp-hackers] get list of items in a category
In-Reply-To: <70d23f010811042153k3e147161k872c76aaa81972a6@mail.gmail.com>
References: <70d23f010811042051t7be20a1fsd73fa318048c02e8@mail.gmail.com>
	<57f05d620811042142p7796c05am10f65192809dc5bd@mail.gmail.com>
	<70d23f010811042153k3e147161k872c76aaa81972a6@mail.gmail.com>
Message-ID: <op.uj4tfmkyk6w4mc@dd32.no-ip.com>

use the get_posts() function or instantiate a new WP_Query() and pass the  
category ID in.
See the "[wp-hackers] Resetting after multiple loops" thread in here last  
week for many arguements as to which to use..

On Wed, 05 Nov 2008 16:53:05 +1100, Brian Fidler <fidler.brian@gmail.com>  
wrote:

> Thanks. I'm putting the PHP directly into my page_news template. I'm just
> trying to use Wordpress's existing conventions. Any help would be great.
>
> thanks!
>
>
> On Tue, Nov 4, 2008 at 10:42 PM, DEVCES <devces@gmail.com> wrote:
>
>> There is a plugin that allows you to execute a php script in a post /  
>> page
>>
>> http://wordpress.org/extend/plugins/exec-php/
>>
>> worked for me.
>>
>>
>>
>> On Tue, Nov 4, 2008 at 11:51 PM, Brian Fidler <fidler.brian@gmail.com
>> >wrote:
>>
>> > This is a simple one but I'm pretty new to WP. I've set up a News
>> category
>> > and have created a special page template for news items. I want to
>> display
>> > a
>> > list of items in the News category, ordered by most recent date first.
>> What
>> > WP function would I use? I'm currently using <?php
>> > get_the_category('News');
>> > ?> but it's not returning anything.
>> >
>> > thanks.
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers@lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From mikeschinkel at gmail.com  Wed Nov  5 06:29:32 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Wed Nov  5 06:29:45 2008
Subject: [wp-hackers] WP vs WPMU?
In-Reply-To: <71ddd7490811041906m37ff296ds30b6fd332ebda059@mail.gmail.com>
References: <49109417.2040004@publicus.net><00c301c93ec0$56e37540$6702a8c0@Guides.local>
	<71ddd7490811041906m37ff296ds30b6fd332ebda059@mail.gmail.com>
Message-ID: <007f01c93f0f$ddd08760$6702a8c0@Guides.local>

Doug Stewart wrote:
>> A better question might be: why are you leaning towards MU for the
solution?  What does it buy you that vanilla WP doesn't, and how does that
align with the project goals?

Good question and thanks for your reply.

We are launching a video-focused news and information site for a specific
market segment that where we'll have two main constituencies that are
synergistic. We plan to have syndicated columnists who we'd like to give
their own blogs and later we'd like the option to build a community for the
two constituencies using BuddyPress which requires WPMU. Finally we plan to
create profiles for the companies of one of our constituencies and are
exploring the use of the user profile to represent a company. 

I assume this makes our project goals align better with WPMU than with WP
but maybe there are better ways?  Thanks in advance for your help.

-Mike Schinkel 
http://mikeschinkel.com


From fidler.brian at gmail.com  Wed Nov  5 06:41:13 2008
From: fidler.brian at gmail.com (Brian Fidler)
Date: Wed Nov  5 06:41:26 2008
Subject: [wp-hackers] get list of items in a category
In-Reply-To: <op.uj4tfmkyk6w4mc@dd32.no-ip.com>
References: <70d23f010811042051t7be20a1fsd73fa318048c02e8@mail.gmail.com>
	<57f05d620811042142p7796c05am10f65192809dc5bd@mail.gmail.com>
	<70d23f010811042153k3e147161k872c76aaa81972a6@mail.gmail.com>
	<op.uj4tfmkyk6w4mc@dd32.no-ip.com>
Message-ID: <70d23f010811042241h7c76dfe1ifb0c9bb9352d362@mail.gmail.com>

ok, this helps a little. what do I need to do to the following code so that
it only retrieves $cat=5?

$myquery = new WP_Query('News');
while ($myquery->have_posts()) : $myquery->the_post();
?><br><b><?php the_title(); ?></b><?php
                    the_content();
                endwhile;

On Tue, Nov 4, 2008 at 10:56 PM, DD32 <wordpress@dd32.id.au> wrote:

> use the get_posts() function or instantiate a new WP_Query() and pass the
> category ID in.
> See the "[wp-hackers] Resetting after multiple loops" thread in here last
> week for many arguements as to which to use..
>
>
> On Wed, 05 Nov 2008 16:53:05 +1100, Brian Fidler <fidler.brian@gmail.com>
> wrote:
>
>  Thanks. I'm putting the PHP directly into my page_news template. I'm just
>> trying to use Wordpress's existing conventions. Any help would be great.
>>
>> thanks!
>>
>>
>> On Tue, Nov 4, 2008 at 10:42 PM, DEVCES <devces@gmail.com> wrote:
>>
>>  There is a plugin that allows you to execute a php script in a post /
>>> page
>>>
>>> http://wordpress.org/extend/plugins/exec-php/
>>>
>>> worked for me.
>>>
>>>
>>>
>>> On Tue, Nov 4, 2008 at 11:51 PM, Brian Fidler <fidler.brian@gmail.com
>>> >wrote:
>>>
>>> > This is a simple one but I'm pretty new to WP. I've set up a News
>>> category
>>> > and have created a special page template for news items. I want to
>>> display
>>> > a
>>> > list of items in the News category, ordered by most recent date first.
>>> What
>>> > WP function would I use? I'm currently using <?php
>>> > get_the_category('News');
>>> > ?> but it's not returning anything.
>>> >
>>> > thanks.
>>> > _______________________________________________
>>> > wp-hackers mailing list
>>> > wp-hackers@lists.automattic.com
>>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> >
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>  _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wordpress at dd32.id.au  Wed Nov  5 06:46:14 2008
From: wordpress at dd32.id.au (DD32)
Date: Wed Nov  5 06:46:36 2008
Subject: [wp-hackers] get list of items in a category
In-Reply-To: <70d23f010811042241h7c76dfe1ifb0c9bb9352d362@mail.gmail.com>
References: <70d23f010811042051t7be20a1fsd73fa318048c02e8@mail.gmail.com>
	<57f05d620811042142p7796c05am10f65192809dc5bd@mail.gmail.com>
	<70d23f010811042153k3e147161k872c76aaa81972a6@mail.gmail.com>
	<op.uj4tfmkyk6w4mc@dd32.no-ip.com>
	<70d23f010811042241h7c76dfe1ifb0c9bb9352d362@mail.gmail.com>
Message-ID: <op.uj4vrcajk6w4mc@dd32.no-ip.com>

Untested, But something like this i believe:

$cat = get_category_by_slug('News');
$myquery = new WP_Query( array('cat' => $cat->term_id, 'number' => 5) );


On Wed, 05 Nov 2008 17:41:13 +1100, Brian Fidler <fidler.brian@gmail.com>  
wrote:

> $myquery = new WP_Query('News');
> while ($myquery->have_posts()) : $myquery->the_post();
> ?><br><b><?php the_title(); ?></b><?php
>                     the_content();
>                 endwhile;


From mikeschinkel at gmail.com  Wed Nov  5 07:25:21 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Wed Nov  5 07:25:36 2008
Subject: [wp-hackers] Re: Place, Geotagging
In-Reply-To: <b88434820811041908y5cdbab26r75b7eaf761db56eb@mail.gmail.com>
References: <49109417.2040004@publicus.net>
	<49109E2C.50807@poplarware.com><00cc01c93ec1$c5f29730$6702a8c0@Guides.local><81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com>
	<b88434820811041908y5cdbab26r75b7eaf761db56eb@mail.gmail.com>
Message-ID: <008a01c93f17$a9e5d7e0$6702a8c0@Guides.local>

Matt wrote:
>> There's also a Microformat for geotagging:

Cool, that could be a useful too.

FYI, a requirement in concept for Microformats is that a Microformat's data
must be visible in the rendered HTML with the rationale being they need to
be visible otherwise the data won't be maintained. (Search for the word
"visible" on http://microformats.org/wiki/faq) 

(As an aside this "visbility" requirement is an ideology that the leaders of
the Microformat community believe in strongly but for which I disagreement
with in many use-cases. As an aside, after first being very much enamored
with Microformats it was my disagreement with this an other principle of
"Microformat" that led me to invest my time elsewhere. Still, if you plan to
use a Microformat you really should follow the Microformat-way. Note here is
a specific FAQ about visibility and the GEO Microformat:
http://microformats.org/wiki/faq#Q._What_about_using_new_URI_schemes_instead
_of_class_names.2C_e.g._for_geo_information.3F)

AFAICT the Microformat way was envisioned as if people were hand-coding
HTML. In the use-case of infrastructure for a blog or CMS that simply isn't
a relevant use-case IMO. A plugin can easily make its data "visibile" in the
admin console by providing a persistent notice until the plugin's data is
configured. After that the plugin can continue to make the data viewable on
demand within the admin console. This nullifies the benefits of requiring
data to be visible IMO.

Given there is no benefit to forcing visibility the data could be rendered
as <META> tags and the benefit of doing so in WordPress would be that the
theme would not be affected and thus would not need to be modified. There
would however still be a benefit to also optionally incorporating GEO
Microformats in the theme for those crawlers and/or tools that recognize the
GEO microformat. 

BTW, the GEO Microformat doesn't solve any of the taxonomy problems
mentioned because the GEO Microformat only marks up Latitude & Longitude and
not any other data. Thus while GEO Microformat support would be a good idea
because it would be very easy to provide, it's certainly not a complete
solution.

I could actually write a plugin to do the things I've mentioned.  

Would there be interest in using this plugin by others if I did so?
Essentially the plugin I'm proposing would allow you to enter Latitude,
Longitude, Region, Place Name, and Wikipedia URL for the Place into an admin
page and then it would inject the following meta tags into the HTML HEAD
element:

<META NAME="geo.position" CONTENT="$latitude; $longitude"> 
<META NAME="geo.placename" CONTENT="$placename"> 
<META NAME="geo.region" CONTENT="$country_code-$subdivision_code">
<META NAME="wikipedia.place" CONTENT="$wikipedia_path">

e.g.

<META NAME="geo.position" CONTENT="40.756053; -73.986952"> 
<META NAME="geo.placename" CONTENT="New York City, NY USA"> 
<META NAME="geo.region" CONTENT="US-NY">
<META NAME="wikipedia.place" CONTENT="New_York_City">

It would provide the follow template tags for incorporating into a theme:

	the_geo_microformat()
		'<div class="geo">$placename:
			<span class="latitude">$latitude</span>; 
			<span class="longitude">$longitude</span>
		</div>'

	the_geo_position()	=> 
		array('latitude'=> $latitude,'longitude'=>$longitude) 

	the_geo_latitude() => 
		$latitude

	the_geo_longitude() => 
		$longitude

	the_geo_country_code() =>
		$country_code

	the_geo_region() =>
		$country_code-$subdivision_code

	the_geo_subregion()	 =>
		$subdivision_code

	the_geo_placename() =>
		$placename

	the_wikipedia_place_code() => 
		$wikipedia_path

e.g.

	the_geo_microformat()
		'<div class="geo">$placename:
			<span class="latitude">40.756053</span>; 
			<span class="longitude">-73.986952</span>
		</div>'

	the_geo_position()	=> 
		array('latitude'=> 40.756053,'longitude'=>-73.986952) 

	the_geo_latitude() => 
		40.756053

	the_geo_longitude() => 
		-73.986952

	the_geo_country_code() =>
		'US'

	the_geo_region() =>
		'US-NY'

	the_geo_subregion()	 =>
		'NY'

	the_geo_placename() =>
		New York City, NY USA

	the_wikipedia_place_code() => 
		'New_York_City'


Thoughts?

-Mike Schinkel 
http://mikeschinkel.com


-----Original Message-----

From daiv at daivmowbray.com  Wed Nov  5 09:58:59 2008
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Wed Nov  5 09:59:10 2008
Subject: [wp-hackers] Need help with: coding new Plugin options 
Message-ID: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>

Hello list,

Hoping someone can help me with this.
I'm building my first plugin, and I'm lost in a deep dark hole at the  
plugin options stage.

I am able to create the options page, and preload default options into  
the data base as an array.
I am able to load default options into the form.
I can save the form , but it saves all items as blank.
Plus, without making changes to the options, I can't figure out how to  
pull the options and assign each
item of the array to a variable to pass to my java  script.

I've included bellow, a reduced version of what I think are the  
primary elements.
I'm sure I'm missing the boat here,
It's just that I'm not sure weather it should be a canoe or a speedboat.
Thanx for your time and assistance.


/**********************Functions loading defaults into options  
table******************************/
This bellow is called in the init function:
$this->defaultAdminOptions = $this->setDefaultAdminOptions();

function setDefaultAdminOptions() {
		$defaultAdminOptions = array("load_moo" => "true",
				"css_load" => "true");
				
		$defaultOptions = get_option($this->AdminOptionsName);
		if (!empty($defaultOptions)) {
			foreach ($defaultOptions as $key => $option) {
				$defaultAdminOptions[$key] = $option;
			}
		}
		update_option($this->AdminOptionsName, $defaultAdminOptions);
		return $defaultAdminOptions;
		
	}
		
		/**
		* Saves the admin options to the database.
		*/
		function savedefaultAdminOptions(){
			update_option($this->AdminOptionsName, $this->defaultAdminOptions);
		}
	
		/**
		* Removes user set options from data base upon deactivation  
(triggered with the register_deactivation_hook)
		*/
		function options_deactivation(){
			delete_option($AdminOptionsName);
			
		}


/**********************Trying to update options on the form  
(reduced)******************************/
if ( !current_user_can('manage_options') ) {
		die( __( 'ACCESS DENIED: Your don\'t have permission to do this.',  
'superslider-menu' ) );
		}
		elseif ($_POST['action'] && $_POST['action'] ==  
'update_ssm_options' ) {
		
					$ssmNewOptions = $this->savedefaultAdminOptions();

					// Did this $_POST come from our form?
					check_admin_referer('ssm_options');
					
					if (isset($_POST['update_ssm_options'])) {
						if (isset($_POST['op_load_moo'])) {
							$ssmNewOptions['load_moo'] = $_POST['op_load_moo'];
						}
		update_option($this->AdminOptionsName, $ssmNewOptions);

// If we've updated settings, show a message
echo '<div id="message" class="updated fade"><p><strong>' .  
__( 'SuperSlider-Menu Options saved.', 'superslider-menu' ) . '</ 
strong></p></div>';
		
		}
	}

/********************** The options page form (reduced):  
******************************/

<form name="ssm_options" method="post" action=""><!--<?php echo  
$_SERVER['REQUEST_URI'] ?> -->
<?php if ( function_exists('wp_nonce_field') )
		wp_nonce_field('ssm_options'); echo "\n"; ?>
   <div style=""> <h2 style="display:inline; position: relative;"><? 
php _e('Plugin Options'); ?></h2></div>
<fieldset>
<legend><b><?php _e('Header Options'); ?>:</b></legend>
     	<label for="op_load_moo"><input type="checkbox" name="load_moo"
     	<?php if($ssmNewOptions['load_moo'] == "true") echo $checked; ?>  
id="op_load_moo" />
     	<?php _e('Load Mootools 1.2 into your theme header.'); ?></label>
     	<br /><small><?php _e(' Your theme, or another plugin may  
already load mootools.'); ?></small>
   </fieldset>
	<p class="submit">
		<input type="submit" name="update_ss_menu" id= "update_ss_menu"   
value="<?php _e('Update options'); ?> &raquo;" />
		<input type="hidden" name="action" value="update_ss_menu" />
  	</p>
  </form>

/********************** End code sample ******************************/


----------
Daiv Mowbray
daiv@daivmowbray.com
----------


From viper at viper007bond.com  Wed Nov  5 11:03:07 2008
From: viper at viper007bond.com (Viper007Bond)
Date: Wed Nov  5 11:03:19 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
Message-ID: <8f93a7390811050303pe634a55ue5a42d78ef1bb5c4@mail.gmail.com>

I don't have the time at the moment to read your code, but have you taken a
look at http://codex.wordpress.org/Creating_Options_Pages ?

On Wed, Nov 5, 2008 at 1:58 AM, Daiv Mowbray <daiv@daivmowbray.com> wrote:

> Hello list,
>
> Hoping someone can help me with this.
> I'm building my first plugin, and I'm lost in a deep dark hole at the
> plugin options stage.
>
> I am able to create the options page, and preload default options into the
> data base as an array.
> I am able to load default options into the form.
> I can save the form , but it saves all items as blank.
> Plus, without making changes to the options, I can't figure out how to pull
> the options and assign each
> item of the array to a variable to pass to my java  script.
>
> I've included bellow, a reduced version of what I think are the primary
> elements.
> I'm sure I'm missing the boat here,
> It's just that I'm not sure weather it should be a canoe or a speedboat.
> Thanx for your time and assistance.
>
>
> /**********************Functions loading defaults into options
> table******************************/
> This bellow is called in the init function:
> $this->defaultAdminOptions = $this->setDefaultAdminOptions();
>
> function setDefaultAdminOptions() {
>                $defaultAdminOptions = array("load_moo" => "true",
>                                "css_load" => "true");
>
>                $defaultOptions = get_option($this->AdminOptionsName);
>                if (!empty($defaultOptions)) {
>                        foreach ($defaultOptions as $key => $option) {
>                                $defaultAdminOptions[$key] = $option;
>                        }
>                }
>                update_option($this->AdminOptionsName,
> $defaultAdminOptions);
>                return $defaultAdminOptions;
>
>        }
>
>                /**
>                * Saves the admin options to the database.
>                */
>                function savedefaultAdminOptions(){
>                        update_option($this->AdminOptionsName,
> $this->defaultAdminOptions);
>                }
>
>                /**
>                * Removes user set options from data base upon deactivation
> (triggered with the register_deactivation_hook)
>                */
>                function options_deactivation(){
>                        delete_option($AdminOptionsName);
>
>                }
>
>
> /**********************Trying to update options on the form
> (reduced)******************************/
> if ( !current_user_can('manage_options') ) {
>                die( __( 'ACCESS DENIED: Your don\'t have permission to do
> this.', 'superslider-menu' ) );
>                }
>                elseif ($_POST['action'] && $_POST['action'] ==
> 'update_ssm_options' ) {
>
>                                        $ssmNewOptions =
> $this->savedefaultAdminOptions();
>
>                                        // Did this $_POST come from our
> form?
>                                        check_admin_referer('ssm_options');
>
>                                        if
> (isset($_POST['update_ssm_options'])) {
>                                                if
> (isset($_POST['op_load_moo'])) {
>
>  $ssmNewOptions['load_moo'] = $_POST['op_load_moo'];
>                                                }
>                update_option($this->AdminOptionsName, $ssmNewOptions);
>
> // If we've updated settings, show a message
> echo '<div id="message" class="updated fade"><p><strong>' . __(
> 'SuperSlider-Menu Options saved.', 'superslider-menu' ) .
> '</strong></p></div>';
>
>                }
>        }
>
> /********************** The options page form (reduced):
> ******************************/
>
> <form name="ssm_options" method="post" action=""><!--<?php echo
> $_SERVER['REQUEST_URI'] ?> -->
> <?php if ( function_exists('wp_nonce_field') )
>                wp_nonce_field('ssm_options'); echo "\n"; ?>
>  <div style=""> <h2 style="display:inline; position: relative;"><?php
> _e('Plugin Options'); ?></h2></div>
> <fieldset>
> <legend><b><?php _e('Header Options'); ?>:</b></legend>
>        <label for="op_load_moo"><input type="checkbox" name="load_moo"
>        <?php if($ssmNewOptions['load_moo'] == "true") echo $checked; ?>
> id="op_load_moo" />
>        <?php _e('Load Mootools 1.2 into your theme header.'); ?></label>
>        <br /><small><?php _e(' Your theme, or another plugin may already
> load mootools.'); ?></small>
>  </fieldset>
>        <p class="submit">
>                <input type="submit" name="update_ss_menu" id=
> "update_ss_menu"  value="<?php _e('Update options'); ?> &raquo;" />
>                <input type="hidden" name="action" value="update_ss_menu" />
>        </p>
>  </form>
>
> /********************** End code sample ******************************/
>
>
> ----------
> Daiv Mowbray
> daiv@daivmowbray.com
> ----------
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From ozh at planetozh.com  Wed Nov  5 12:26:23 2008
From: ozh at planetozh.com (Ozh)
Date: Wed Nov  5 12:26:34 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <8f93a7390811050303pe634a55ue5a42d78ef1bb5c4@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<8f93a7390811050303pe634a55ue5a42d78ef1bb5c4@mail.gmail.com>
Message-ID: <ae81acd10811050426jfe3b62g8bad9098f33dd6a1@mail.gmail.com>

More or less as Viper, but I also have a comment regarding your first
function: making get_option then an update_option on each plugin start
is a waste. Read options, sure, but why rewrite them? That's an extra
useless query.

On Wed, Nov 5, 2008 at 12:03 PM, Viper007Bond <viper@viper007bond.com> wrote:
> I don't have the time at the moment to read your code, but have you taken a
> look at http://codex.wordpress.org/Creating_Options_Pages ?
>
> On Wed, Nov 5, 2008 at 1:58 AM, Daiv Mowbray <daiv@daivmowbray.com> wrote:
>> function setDefaultAdminOptions() {
>>                $defaultAdminOptions = array("load_moo" => "true",
>>                                "css_load" => "true");
>>
>>                $defaultOptions = get_option($this->AdminOptionsName);
>>                if (!empty($defaultOptions)) {
>>                        foreach ($defaultOptions as $key => $option) {
>>                                $defaultAdminOptions[$key] = $option;
>>                        }
>>                }
>>                update_option($this->AdminOptionsName,
>> $defaultAdminOptions);
>>                return $defaultAdminOptions;
>>
>>        }

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From if.website at gmail.com  Wed Nov  5 12:28:30 2008
From: if.website at gmail.com (Austin Matzko)
Date: Wed Nov  5 12:28:38 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
Message-ID: <674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>

On Wed, Nov 5, 2008 at 4:58 AM, Daiv Mowbray <daiv@daivmowbray.com> wrote:
> I can save the form , but it saves all items as blank.

You have this:

>                                        $ssmNewOptions =
> $this->savedefaultAdminOptions();

which doesn't make much sense, since the method called doesn't return anything:

>                function savedefaultAdminOptions(){
>                        update_option($this->AdminOptionsName,
> $this->defaultAdminOptions);
>                }

My guess is that the problem of blank options is caused by the race
condition set up by your calling

>                update_option($this->AdminOptionsName, $ssmNewOptions);

so shortly after

>                        update_option($this->AdminOptionsName,
> $this->defaultAdminOptions)
From tonyscott100 at yahoo.co.uk  Wed Nov  5 13:19:42 2008
From: tonyscott100 at yahoo.co.uk (Tony Scott)
Date: Wed Nov  5 13:19:58 2008
Subject: [wp-hackers] Re: Place, Geotagging
References: <49109417.2040004@publicus.net> <49109E2C.50807@poplarware.com>
	<00cc01c93ec1$c5f29730$6702a8c0@Guides.local>
	<81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com>
	<b88434820811041908y5cdbab26r75b7eaf761db56eb@mail.gmail.com>
Message-ID: <745246.42862.qm@web25903.mail.ukl.yahoo.com>

GeoData is on the list for features that didn't make it into 2.7
http://codex.wordpress.org/Version_2.7#Features_That_Didn.27t_Make_It

 ----


Tony Scott
http://tonyscott.org.uk | http://uk.wordcamp.org



----- Original Message ----
> From: Matt <speedboxer@gmail.com>
> To: wp-hackers@lists.automattic.com
> Sent: Wednesday, 5 November, 2008 3:08:47
> Subject: Re: [wp-hackers] Re: Place, Geotagging
> 
> There's also a Microformat for geotagging:
> 
> http://en.wikipedia.org/wiki/Geo_(microformat)
> 
> On Tue, Nov 4, 2008 at 1:52 PM, Alex Dunae wrote:
> 
> > > There would be real benefit for a defacto-standard method to emerge. WP
> > has
> > > enough market-share to start seeing that happen.
> >
> > There already seems to be a de facto standard for geo-tagging entire
> > sites: the GeoURL ICBM Address Server.  They use a simple meta tag and
> > I've seen it all over the web.
> >
> > See http://geourl.org/
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> 
> -- 
> Matt (http://mattsblog.ca/)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



      
From ckunte at gmail.com  Wed Nov  5 13:47:45 2008
From: ckunte at gmail.com (Chetan Kunte)
Date: Wed Nov  5 13:47:52 2008
Subject: [wp-hackers] WordPress 2.7 beta 1: Cannot load akismet-admin
Message-ID: <74b84aa30811050547t69f7d316s56e265146a809d45@mail.gmail.com>

>From the Dashboard > Right Now, when I click on the link from "and
there's 1 comment in your spam queue right now," I get the following
error:

Cannot load akismet-admin.
--
Chetan, ckunte.com
From zamoose at gmail.com  Wed Nov  5 14:19:39 2008
From: zamoose at gmail.com (Doug Stewart)
Date: Wed Nov  5 14:19:50 2008
Subject: [wp-hackers] WP vs WPMU?
In-Reply-To: <007f01c93f0f$ddd08760$6702a8c0@Guides.local>
References: <49109417.2040004@publicus.net>
	<00c301c93ec0$56e37540$6702a8c0@Guides.local>
	<71ddd7490811041906m37ff296ds30b6fd332ebda059@mail.gmail.com>
	<007f01c93f0f$ddd08760$6702a8c0@Guides.local>
Message-ID: <71ddd7490811050619h7a614885y9cc5e06a6e09c9ac@mail.gmail.com>

On Wed, Nov 5, 2008 at 1:29 AM, Mike Schinkel <mikeschinkel@gmail.com> wrote:
> Doug Stewart wrote:
>>> A better question might be: why are you leaning towards MU for the
> solution?  What does it buy you that vanilla WP doesn't, and how does that
> align with the project goals?
>
> Good question and thanks for your reply.
>
> We are launching a video-focused news and information site for a specific
> market segment that where we'll have two main constituencies that are
> synergistic. We plan to have syndicated columnists who we'd like to give
> their own blogs and later we'd like the option to build a community for the
> two constituencies using BuddyPress which requires WPMU. Finally we plan to
> create profiles for the companies of one of our constituencies and are
> exploring the use of the user profile to represent a company.
>
> I assume this makes our project goals align better with WPMU than with WP
> but maybe there are better ways?  Thanks in advance for your help.
>
> -Mike Schinkel
> http://mikeschinkel.com
>

You're going to have authoritative control of your DNS for the
project, correct? That's usually one of the biggest bears in getting
MU to work correctly (in a subdomain situation, at least) in my
experience.

I would press ahead with MU unless there is a single plugin that you
MUST have that is known not to work with MU (see
http://codex.wordpress.org/WPMU_Plugin_Compatibility for some hints).
It's kept relatively in-sync with WP.org and, while initial
configuration can be a bit more burdensome, for multi-user
environments with the complexity you're describing, you're going to
have a lot of issues if you decide to go the WP.org route anyways
(either hacking Authors archives so as to resemble separate blogs or
maintaining multiple instances of WP, etc.)

Just my $.02.

-- 
-Doug
From wp-hackers at striderweb.com  Wed Nov  5 16:14:23 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed Nov  5 16:14:36 2008
Subject: [wp-hackers] CSS backwards compatibility in Admin
Message-ID: <374DAF68-43EF-4899-ADE9-EA06996E99E3@striderweb.com>

Hi all --

I've noted that in the Admin for 2.7, the submit buttons on Admin  
pages now have a class="button-primary" assigned.

The visual difference is that with this class, the button is a medium  
blue color, and without it (presumably for "secondary" buttons) the  
color is a faded gray.

For the sake of both a) cleaner code, and b) backwards compatibility  
with plugins, shouldn't this be reversed?

That is, buttons should be blue by default, and IF there is a  
class="button-secondary" then it is the faded gray?  Surely the  
secondary buttons are the special case here, as most forms have a  
single, primary, button.

Not a major thing, but again one more silly little thing for plugin  
authors to have to go back in and change to make their plugins match  
the current look of admin.  When making these changes, it's good to  
keep in mind what happens to existing code.

Stephen
From wp-hackers at striderweb.com  Wed Nov  5 16:19:55 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed Nov  5 16:20:06 2008
Subject: [wp-hackers] error from DEACTIVATED plugin???
In-Reply-To: <op.uj4batnmk6w4mc@dd32.no-ip.com>
References: <58B3A9B1-C9EC-4E09-8160-62B040B562D4@striderweb.com>
	<op.uj4batnmk6w4mc@dd32.no-ip.com>
Message-ID: <9AB58F9B-084A-47C1-8E3F-B6BB1E73525A@striderweb.com>

Apparently it was still seeing the plugin as active.

The system was confused by the two copies of the plugin.   
Interesting.  Apparently WP was seeing the inactive copy, and when  
outputting the Plugins screen was saying _both_ plugins were  
inactive.  But when it came to actually loading the plugins, it was  
loading the one copy.

So, yes, my bad for having two copies; but WP was clearly not  
recognizing different files in different folders.

Stephen

On Nov 4, 2008, at 5:24 PM, DD32 wrote:

> Can you grab the contents of the option 'active_plugins' ?
> Its supposed to deactivate any plugins which are not present on the  
> plugins list, and deactivate any plugins which are not in the  
> plugins directory upon viewing the plugins page. but that might not  
> be happening, the contents of the option might help narrow it down a  
> little :)
>
> On Wed, 05 Nov 2008 07:46:55 +1100, Stephen Rider <wp-hackers@striderweb.com 
> > wrote:
>
>> This is absolutely weird.
>>
>> I'm testing out the latest beta, and I'm on the Comments screen in
>> Admin.  I try to use the inline reply function, but when I submit, I
>> get a bunch of PHP errors.
>>
>> The bizarre part is that the errors appear to be related to the Spam
>> Karma 2 plugin, but ***that plugin is _not_ activated***.  My best
>> guess is that somehow WordPress is still loading the plugin file.
>> Very strange.

>> Any ideas?
>>
>> One more thing:  Upon looking at the plugin screen, I discovered that
>> there are two copies of the plugin listed (I had made a copy for
>> hacking purposes, and failed to archive the original).  BOTH,  
>> however,
>> were listed as not active.
>>
From admin at laptoptips.ca  Wed Nov  5 17:07:15 2008
From: admin at laptoptips.ca (Andrew Ozz)
Date: Wed Nov  5 17:07:17 2008
Subject: [wp-hackers] CSS backwards compatibility in Admin
In-Reply-To: <374DAF68-43EF-4899-ADE9-EA06996E99E3@striderweb.com>
References: <374DAF68-43EF-4899-ADE9-EA06996E99E3@striderweb.com>
Message-ID: <4911D2C3.9000808@laptoptips.ca>

Stephen Rider wrote:
> I've noted that in the Admin for 2.7, the submit buttons on Admin pages 
> now have a class="button-primary" assigned.
> 
> The visual difference is that with this class, the button is a medium 
> blue color, and without it (presumably for "secondary" buttons) the 
> color is a faded gray.
> 
> For the sake of both a) cleaner code, and b) backwards compatibility 
> with plugins, shouldn't this be reversed?
> 
> That is, buttons should be blue by default, and IF there is a 
> class="button-secondary" then it is the faded gray?  Surely the 
> secondary buttons are the special case here, as most forms have a 
> single, primary, button.
> 
> Not a major thing, but again one more silly little thing for plugin 
> authors to have to go back in and change to make their plugins match the 
> current look of admin.  When making these changes, it's good to keep in 
> mind what happens to existing code.

Actually there are 3 classes for buttons now:

.button has feint gray gradient (very feint, may need to make it a 
little stronger),
.button-primary with blue-green gradient meant for emphases, one or two 
per page, usually the "main" button,
.button-secondary has the same gradient like .button but different 
border/highlighting meant for use in areas with background color.

All existing .button and .button-secondary from 2.5/2.6 are still used 
at the same places. The new .button-primary can be used to emphasis the 
main action on a page, like the "Publish" button on the write page, or 
to draw attention to certain action.
From slc at publicus.net  Wed Nov  5 19:25:00 2008
From: slc at publicus.net (Steven Clift)
Date: Wed Nov  5 19:25:45 2008
Subject: [wp-hackers] Re: Place, Geotagging
In-Reply-To: <003801c93ed8$93301630$6702a8c0@Guides.local>
References: <49109417.2040004@publicus.net>
	<49109E2C.50807@poplarware.com>	<00cc01c93ec1$c5f29730$6702a8c0@Guides.local>	<81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com>
	<003801c93ed8$93301630$6702a8c0@Guides.local>
Message-ID: <4911F30C.40500@publicus.net>

Mike Schinkel wrote:
> Of course that doesn't provide an exact match to a City/Place which would be
> very useful. Problem is, I guess, that there is no standard list of places.
> I did find "Natural Area Code" but it is proprietary:
> http://www.nacgeo.com/nacsite/licensing/
>   

Wow. Thanks for digging into the topic.

One more link for the mix is the place name database that mySociety uses 
for:
http://gaze.mysociety.org/

I can't find the link, but I was once told by the developers that they 
adapted a public domain U.S. military database of 4 million place names 
around the world. Perhaps they now do something different for various 
countries.

What it does with a site like http://pledgebank.com in the U.S. version 
is that when I search a city "Winona" it asks which one specifically:
http://www.pledgebank.com/search?q=winona

Steven Clift
From ryan at boren.nu  Wed Nov  5 19:42:47 2008
From: ryan at boren.nu (Ryan Boren)
Date: Wed Nov  5 19:42:56 2008
Subject: [wp-hackers] WordPress 2.7 beta 1: Cannot load akismet-admin
In-Reply-To: <74b84aa30811050547t69f7d316s56e265146a809d45@mail.gmail.com>
References: <74b84aa30811050547t69f7d316s56e265146a809d45@mail.gmail.com>
Message-ID: <c8f37c930811051142y4ff6e8c4w6a4f40f7c719fd4c@mail.gmail.com>

On Wed, Nov 5, 2008 at 5:47 AM, Chetan Kunte <ckunte@gmail.com> wrote:
> >From the Dashboard > Right Now, when I click on the link from "and
> there's 1 comment in your spam queue right now," I get the following
> error:
>
> Cannot load akismet-admin.

Fixed.
From otto at ottodestruct.com  Wed Nov  5 19:59:03 2008
From: otto at ottodestruct.com (Otto)
Date: Wed Nov  5 19:59:15 2008
Subject: [wp-hackers] Re: Place, Geotagging
In-Reply-To: <003801c93ed8$93301630$6702a8c0@Guides.local>
References: <49109417.2040004@publicus.net> <49109E2C.50807@poplarware.com>
	<00cc01c93ec1$c5f29730$6702a8c0@Guides.local>
	<81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com>
	<003801c93ed8$93301630$6702a8c0@Guides.local>
Message-ID: <161617690811051159o65c22289h5189b298298e4934@mail.gmail.com>

On Tue, Nov 4, 2008 at 5:53 PM, Mike Schinkel <mikeschinkel@gmail.com> wrote:
> Of course that doesn't provide an exact match to a City/Place which would be
> very useful. Problem is, I guess, that there is no standard list of places.

There's several good ones, actually.

The biggest is probably the Getty Thesaurus:
http://www.getty.edu/research/conducting_research/vocabularies/tgn/index.html

Note that every entry is numbered, organized into hierarchy, etc. It's
fairly freakin' huge, actually. For example, Memphis, TN is number
7017750:
http://www.getty.edu/vow/TGNFullDisplay?find=&place=&nation=&english=Y&subjectid=7017750

Or, if you want the kind of mindless level of detail that government
peons are good at, then the USGS maintains a list of every "official"
geographic name everywhere: http://geonames.usgs.gov/
Their US data is available for download at a hefty 67 meg or so:
http://geonames.usgs.gov/domestic/download_data.htm
Their non-US data is accessible through the Geonet names server,
although I don't grasp the API for it entirely:
http://earth-info.nga.mil/gns/html/index.html

-Otto
From mikeschinkel at gmail.com  Wed Nov  5 20:45:19 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Wed Nov  5 20:45:34 2008
Subject: [wp-hackers] Re: Place, Geotagging
In-Reply-To: <4911F30C.40500@publicus.net>
References: <49109417.2040004@publicus.net><49109E2C.50807@poplarware.com>	<00cc01c93ec1$c5f29730$6702a8c0@Guides.local>	<81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com><003801c93ed8$93301630$6702a8c0@Guides.local>
	<4911F30C.40500@publicus.net>
Message-ID: <010a01c93f87$6af29f30$6702a8c0@Guides.local>

Steven Clift wrote:
>> One more link for the mix is the place name database that mySociety uses
for: http://gaze.mysociety.org/

Very interesting. Glad to know about this. OTOH I don't see it working for
this because of a few issues, in order of concern:  

1.) It's a query mechanism that doesn't provide identity for places, thus
"Atlanta, GA" returns 10 results instead of one (query UI at
http://highearthorbit.com/projects/geocode/geocode.html)
2.) It doesn't publish any kind of service guarantee nor does it appear
there is a good plan for for scability in place. 
3.) Not sure what their policy/plan is for update of this data
4.) It returns CVS instead of JSON or XML.
5.) It isn't really RESTful (a nit in this case, but something I notice.)

>> I can't find the link, but I was once told by the developers that they
adapted a public domain U.S. military database of 4 million place names
around the world. Perhaps they now do something different for various
countries. 

It's here: http://geonames.usgs.gov/

Interesting paper about it (I plan to read): 
http://geonames.usgs.gov/docs/pro_pol_pro.pdf

This database is very useful for other contexts, but it still doesn't get us
to a unique placename identity. There currently is only one source for a
unique placename AFAIK and that is Wikipedia. To be clear,  Wikipedia can
only guarantee uniqueness for an instant in time because they can change the
URLs, although they rarely do.

>> What it does with a site like http://pledgebank.com in the U.S. version
is that when I search a city "Winona" it asks which one specifically:
http://www.pledgebank.com/search?q=winona

Nice. I guess with sites that depend on it the web service must stay up...

-Mike Schinkel 
http://mikeschinkel.com


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Steven Clift
Sent: Wednesday, November 05, 2008 2:25 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Re: Place, Geotagging

Mike Schinkel wrote:
> Of course that doesn't provide an exact match to a City/Place which 
> would be very useful. Problem is, I guess, that there is no standard list
of places.
> I did find "Natural Area Code" but it is proprietary:
> http://www.nacgeo.com/nacsite/licensing/
>   

Wow. Thanks for digging into the topic.

One more link for the mix is the place name database that mySociety uses
for:
http://gaze.mysociety.org/

I can't find the link, but I was once told by the developers that they
adapted a public domain U.S. military database of 4 million place names
around the world. Perhaps they now do something different for various
countries.

What it does with a site like http://pledgebank.com in the U.S. version is
that when I search a city "Winona" it asks which one specifically:
http://www.pledgebank.com/search?q=winona

Steven Clift
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at gmail.com  Wed Nov  5 20:50:20 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Wed Nov  5 20:50:33 2008
Subject: [wp-hackers] Re: Place, Geotagging
In-Reply-To: <161617690811051159o65c22289h5189b298298e4934@mail.gmail.com>
References: <49109417.2040004@publicus.net>
	<49109E2C.50807@poplarware.com><00cc01c93ec1$c5f29730$6702a8c0@Guides.local><81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com><003801c93ed8$93301630$6702a8c0@Guides.local>
	<161617690811051159o65c22289h5189b298298e4934@mail.gmail.com>
Message-ID: <010b01c93f88$1eaee3d0$6702a8c0@Guides.local>

Otto wrote:
>> There's several good ones, actually.
The biggest is probably the Getty Thesaurus:
http://www.getty.edu/research/conducting_research/vocabularies/tgn/index.htm
l

Another interesting source.  However there is one deal killer: Use beyond
limited research and cataloging efforts requires licensing.


-Mike Schinkel 
http://mikeschinkel.com


From mikeschinkel at gmail.com  Wed Nov  5 21:10:35 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Wed Nov  5 21:10:55 2008
Subject: [wp-hackers] WP vs WPMU?
In-Reply-To: <71ddd7490811050619h7a614885y9cc5e06a6e09c9ac@mail.gmail.com>
References: <49109417.2040004@publicus.net><00c301c93ec0$56e37540$6702a8c0@Guides.local><71ddd7490811041906m37ff296ds30b6fd332ebda059@mail.gmail.com><007f01c93f0f$ddd08760$6702a8c0@Guides.local>
	<71ddd7490811050619h7a614885y9cc5e06a6e09c9ac@mail.gmail.com>
Message-ID: <011101c93f8a$f39e14b0$6702a8c0@Guides.local>

Doug Stewart wrote:
>> You're going to have authoritative control of your DNS for the project,
correct? That's usually one of the biggest bears in getting MU to work
correctly (in a subdomain situation, at least) in my experience. 

As far as I would think that's only a problem when you use the form
http://user.site.com vs. http://www.site.com/user, right?  We'd be using the
latter.

>> I would press ahead with MU unless there is a single plugin that you MUST
have that is known not to work with MU (see
http://codex.wordpress.org/WPMU_Plugin_Compatibility for some hints).

Thanks for the input and the link!  Your comments are what I needed to feel
like it's a reasonable idea to use WPMU.

-Mike Schinkel 
http://mikeschinkel.com


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Doug Stewart
Sent: Wednesday, November 05, 2008 9:20 AM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] WP vs WPMU?

On Wed, Nov 5, 2008 at 1:29 AM, Mike Schinkel <mikeschinkel@gmail.com>
wrote:
> Doug Stewart wrote:
>>> A better question might be: why are you leaning towards MU for the
> solution?  What does it buy you that vanilla WP doesn't, and how does 
> that align with the project goals?
>
> Good question and thanks for your reply.
>
> We are launching a video-focused news and information site for a 
> specific market segment that where we'll have two main constituencies 
> that are synergistic. We plan to have syndicated columnists who we'd 
> like to give their own blogs and later we'd like the option to build a 
> community for the two constituencies using BuddyPress which requires 
> WPMU. Finally we plan to create profiles for the companies of one of 
> our constituencies and are exploring the use of the user profile to
represent a company.
>
> I assume this makes our project goals align better with WPMU than with 
> WP but maybe there are better ways?  Thanks in advance for your help.
>
> -Mike Schinkel
> http://mikeschinkel.com
>

You're going to have authoritative control of your DNS for the project,
correct? That's usually one of the biggest bears in getting MU to work
correctly (in a subdomain situation, at least) in my experience.

I would press ahead with MU unless there is a single plugin that you MUST
have that is known not to work with MU (see
http://codex.wordpress.org/WPMU_Plugin_Compatibility for some hints).
It's kept relatively in-sync with WP.org and, while initial configuration
can be a bit more burdensome, for multi-user environments with the
complexity you're describing, you're going to have a lot of issues if you
decide to go the WP.org route anyways (either hacking Authors archives so as
to resemble separate blogs or maintaining multiple instances of WP, etc.)

Just my $.02.

--
-Doug
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From wp-hackers at striderweb.com  Wed Nov  5 21:23:58 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed Nov  5 21:24:10 2008
Subject: [wp-hackers] CSS backwards compatibility in Admin
In-Reply-To: <4911D2C3.9000808@laptoptips.ca>
References: <374DAF68-43EF-4899-ADE9-EA06996E99E3@striderweb.com>
	<4911D2C3.9000808@laptoptips.ca>
Message-ID: <66BC1D16-DEB0-4E5B-B9E9-A5EB65C86A6A@striderweb.com>

Huh.  That's pretty funny actually.  I think the change then is that  
the distinction between buttons is much more emphasized in 2.7 than  
2.6.  I never noticed the classes, and going through the large number  
of plugins I have installed, it appears that none of the other plugin  
authors noticed it either!  :)

Am I reading your response right that there is a class simply called  
"button"?  isn't a "submit" control already just a button?  Or are you  
referring to a "just plain submit"?

Stephen

On Nov 5, 2008, at 11:07 AM, Andrew Ozz wrote:
> Actually there are 3 classes for buttons now:
>
> .button has feint gray gradient (very feint, may need to make it a  
> little stronger),
> .button-primary with blue-green gradient meant for emphases, one or  
> two per page, usually the "main" button,
> .button-secondary has the same gradient like .button but different  
> border/highlighting meant for use in areas with background color.
>
> All existing .button and .button-secondary from 2.5/2.6 are still  
> used at the same places. The new .button-primary can be used to  
> emphasis the main action on a page, like the "Publish" button on the  
> write page, or to draw attention to certain action.

> Stephen Rider wrote:
>> I've noted that in the Admin for 2.7, the submit buttons on Admin  
>> pages now have a class="button-primary" assigned.
>> The visual difference is that with this class, the button is a  
>> medium blue color, and without it (presumably for "secondary"  
>> buttons) the color is a faded gray.
>> For the sake of both a) cleaner code, and b) backwards  
>> compatibility with plugins, shouldn't this be reversed?
>> That is, buttons should be blue by default, and IF there is a  
>> class="button-secondary" then it is the faded gray?  Surely the  
>> secondary buttons are the special case here, as most forms have a  
>> single, primary, button.
From otto at ottodestruct.com  Wed Nov  5 21:31:41 2008
From: otto at ottodestruct.com (Otto)
Date: Wed Nov  5 21:33:08 2008
Subject: [wp-hackers] Re: Place, Geotagging
In-Reply-To: <010b01c93f88$1eaee3d0$6702a8c0@Guides.local>
References: <49109417.2040004@publicus.net> <49109E2C.50807@poplarware.com>
	<00cc01c93ec1$c5f29730$6702a8c0@Guides.local>
	<81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com>
	<003801c93ed8$93301630$6702a8c0@Guides.local>
	<161617690811051159o65c22289h5189b298298e4934@mail.gmail.com>
	<010b01c93f88$1eaee3d0$6702a8c0@Guides.local>
Message-ID: <161617690811051331t49ea9b20g958bc9892ee76409@mail.gmail.com>

On Wed, Nov 5, 2008 at 2:50 PM, Mike Schinkel <mikeschinkel@gmail.com> wrote:
> Otto wrote:
>>> There's several good ones, actually.
> The biggest is probably the Getty Thesaurus:
> http://www.getty.edu/research/conducting_research/vocabularies/tgn/index.htm
> l
>
> Another interesting source.  However there is one deal killer: Use beyond
> limited research and cataloging efforts requires licensing.

Yeah, that's one thing I don't like about Getty.

I've been looking around, and the US Populated Places data available
here: http://geonames.usgs.gov/domestic/download_data.htm (select the
dropdown for populated places) is only around 7 meg compressed, and
the format is very straightforward, as pipe delimited text.

For non-US locations, you could have the user download the data for
their individual country from here:
http://earth-info.nga.mil/gns/html/namefiles.htm . The format is not
quite as pleasant, it's a fixed width format with 2 lines per entry.
Easily parsed, just annoying to do so.

Of course, this is all plugin territory, I believe. No reason to have
this sort of thing in the core.

Now, for the core WordPress code, if somebody wants to integrate it,
then why mess about? Google offers all this useful stuff via AJAX for
free. And that includes reverse Geocoding:

http://code.google.com/apis/maps/documentation/services.html#ReverseGeocoding

-Otto
From krustyruffle at rustykruffle.com  Wed Nov  5 21:41:02 2008
From: krustyruffle at rustykruffle.com (Krusty Ruffle)
Date: Wed Nov  5 21:41:17 2008
Subject: [wp-hackers] WP vs WPMU?
In-Reply-To: <011101c93f8a$f39e14b0$6702a8c0@Guides.local>
References: <49109417.2040004@publicus.net>
	<00c301c93ec0$56e37540$6702a8c0@Guides.local>
	<71ddd7490811041906m37ff296ds30b6fd332ebda059@mail.gmail.com>
	<007f01c93f0f$ddd08760$6702a8c0@Guides.local>
	<71ddd7490811050619h7a614885y9cc5e06a6e09c9ac@mail.gmail.com>
	<011101c93f8a$f39e14b0$6702a8c0@Guides.local>
Message-ID: <93c3fbd10811051341i31614159jcf60a2169962563c@mail.gmail.com>

WordPress MU doesn't like the www subdomain, it has to be able to access the
site at the base domain name to install, or at least it did when I tried to
install it on a test server a few months ago. This is not a problem on a
propperly configured server but is something you might want to keep in mind.

See http://no-www.org/ for the reasons why, or this google search,
(WordPress no www), for argumants and information:

http://www.google.com/search?hl=en&safe=off&client=firefox-a&rls=com.ubuntu%3Aen-US%3Aunofficial&hs=NaV&q=wordpress-mu+no+www&btnG=Search

On Wed, Nov 5, 2008 at 4:10 PM, Mike Schinkel <mikeschinkel@gmail.com>wrote:

> <snip>
> As far as I would think that's only a problem when you use the form
> http://user.site.com vs. http://www.site.com/user, right?  We'd be using
> the
> latter.
> <snip>
From mikeschinkel at gmail.com  Wed Nov  5 21:56:44 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Wed Nov  5 21:56:58 2008
Subject: [wp-hackers] WP vs WPMU?
In-Reply-To: <93c3fbd10811051341i31614159jcf60a2169962563c@mail.gmail.com>
References: <49109417.2040004@publicus.net><00c301c93ec0$56e37540$6702a8c0@Guides.local><71ddd7490811041906m37ff296ds30b6fd332ebda059@mail.gmail.com><007f01c93f0f$ddd08760$6702a8c0@Guides.local><71ddd7490811050619h7a614885y9cc5e06a6e09c9ac@mail.gmail.com><011101c93f8a$f39e14b0$6702a8c0@Guides.local>
	<93c3fbd10811051341i31614159jcf60a2169962563c@mail.gmail.com>
Message-ID: <013401c93f91$64c37a30$6702a8c0@Guides.local>

 
Krusty Ruffle wrote
>> WordPress MU doesn't like the www subdomain, it has to be able to access
the site at the base domain name to install, or at least it did when I tried
to install it on a test server a few months ago. This is not a problem on a
propperly configured server but is something you might want to keep in mind.

Thanks. Ironically I thought about not included the WWW in my email but
decided to for clarity (to point out it was a generic subdomain.)  We may
not use WWW.  I've actually studied the whole issue at length having once
put a lot of time in this blog: http://blog.welldesignedurls.org and there
are many pros and cons in general to both using and not using WWW.

Not sure which we'll use but I'll be sure to test it.  Thanks for the heads
up.

-Mike Schinkel 
http://mikeschinkel.com

From jason at intraffic.net  Thu Nov  6 03:11:57 2008
From: jason at intraffic.net (Jason Webster)
Date: Thu Nov  6 03:12:07 2008
Subject: [wp-hackers] CSS backwards compatibility in Admin
In-Reply-To: <66BC1D16-DEB0-4E5B-B9E9-A5EB65C86A6A@striderweb.com>
References: <374DAF68-43EF-4899-ADE9-EA06996E99E3@striderweb.com>	<4911D2C3.9000808@laptoptips.ca>
	<66BC1D16-DEB0-4E5B-B9E9-A5EB65C86A6A@striderweb.com>
Message-ID: <4912607D.40005@intraffic.net>

IE 6 doesn't support attribute selectors in CSS, so in order to style a 
button, you need to assign a class to it.

Stephen Rider wrote:
> Huh.  That's pretty funny actually.  I think the change then is that 
> the distinction between buttons is much more emphasized in 2.7 than 
> 2.6.  I never noticed the classes, and going through the large number 
> of plugins I have installed, it appears that none of the other plugin 
> authors noticed it either!  :)
>
> Am I reading your response right that there is a class simply called 
> "button"?  isn't a "submit" control already just a button?  Or are you 
> referring to a "just plain submit"?
>
> Stephen
>
> On Nov 5, 2008, at 11:07 AM, Andrew Ozz wrote:
>> Actually there are 3 classes for buttons now:
>>
>> .button has feint gray gradient (very feint, may need to make it a 
>> little stronger),
>> .button-primary with blue-green gradient meant for emphases, one or 
>> two per page, usually the "main" button,
>> .button-secondary has the same gradient like .button but different 
>> border/highlighting meant for use in areas with background color.
>>
>> All existing .button and .button-secondary from 2.5/2.6 are still 
>> used at the same places. The new .button-primary can be used to 
>> emphasis the main action on a page, like the "Publish" button on the 
>> write page, or to draw attention to certain action.
>
>> Stephen Rider wrote:
>>> I've noted that in the Admin for 2.7, the submit buttons on Admin 
>>> pages now have a class="button-primary" assigned.
>>> The visual difference is that with this class, the button is a 
>>> medium blue color, and without it (presumably for "secondary" 
>>> buttons) the color is a faded gray.
>>> For the sake of both a) cleaner code, and b) backwards compatibility 
>>> with plugins, shouldn't this be reversed?
>>> That is, buttons should be blue by default, and IF there is a 
>>> class="button-secondary" then it is the faded gray?  Surely the 
>>> secondary buttons are the special case here, as most forms have a 
>>> single, primary, button.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From viper at viper007bond.com  Thu Nov  6 04:28:50 2008
From: viper at viper007bond.com (Viper007Bond)
Date: Thu Nov  6 04:29:01 2008
Subject: [wp-hackers] Kinda OT: Setting up a SVN server under Windows
Message-ID: <8f93a7390811052028x328e69eai228574b89fee50a6@mail.gmail.com>

Sorry for the kinda OT thread, I'm sure you guys are a lot smarter than me
when it comes to these things.

I'm currently using XAMPP for my localhost development install. However I'd
like to start using SVN to record my changes (for example to custom themes).
However the guides I've found via Google haven't helped me much. I've also
read something about integrating it with Apache 2.2.x, but I'm so confused.

Anyone happen to have a good link to a nice guide?

-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From regulatethis at gmail.com  Thu Nov  6 04:41:11 2008
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Thu Nov  6 04:41:23 2008
Subject: [wp-hackers] Kinda OT: Setting up a SVN server under Windows
In-Reply-To: <8f93a7390811052028x328e69eai228574b89fee50a6@mail.gmail.com>
References: <8f93a7390811052028x328e69eai228574b89fee50a6@mail.gmail.com>
Message-ID: <39fdab560811052041r5ec72008s60e45ac032c2c7a6@mail.gmail.com>

If you don't have a good reason for serving SVN through Apache, I'd
say stick with svnserve. Running through Apache is helpful if you've
got a fancy authentican scheme (LDAP and such), but performance-wise
its worse than svnserve and it doesn't offer any other real benefit. I
don't have much experience running svn on windows, but if you're more
specific about any problems you're running into, how far you've gotten
so far and/or what it is that you actually want to do I'd be glad to
help.

On Wed, Nov 5, 2008 at 11:28 PM, Viper007Bond <viper@viper007bond.com> wrote:
> Sorry for the kinda OT thread, I'm sure you guys are a lot smarter than me
> when it comes to these things.
>
> I'm currently using XAMPP for my localhost development install. However I'd
> like to start using SVN to record my changes (for example to custom themes).
> However the guides I've found via Google haven't helped me much. I've also
> read something about integrating it with Apache 2.2.x, but I'm so confused.
>
> Anyone happen to have a good link to a nice guide?
>
> --
> Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wordpress at dd32.id.au  Thu Nov  6 05:10:32 2008
From: wordpress at dd32.id.au (DD32)
Date: Thu Nov  6 05:10:57 2008
Subject: [wp-hackers] Kinda OT: Setting up a SVN server under Windows
In-Reply-To: <39fdab560811052041r5ec72008s60e45ac032c2c7a6@mail.gmail.com>
References: <8f93a7390811052028x328e69eai228574b89fee50a6@mail.gmail.com>
	<39fdab560811052041r5ec72008s60e45ac032c2c7a6@mail.gmail.com>
Message-ID: <op.uj6lzuqzk6w4mc@dd32.no-ip.com>

And you dont even need to run svnserve if you only need local access.

I personally run svnserve on my VPS host, means i've got a remote  
svn://host/ access
However, for most things, I simply set my SVN client to use a local  
repository,
eg: file:///c:/svn/my-plugin-2/

Its much simpler, means you dont have an extra process running when its  
not needed, and is just as useable as a remote svn host for most stuff.

to create the above repo, all i'd do is a "svn create c:/svn/my-plugin-2/"  
and thats it.

Of course, If you want access to SVN from away from your computer,  
svnserve is probably the best method


On Thu, 06 Nov 2008 15:41:11 +1100, Daniel Torreblanca  
<regulatethis@gmail.com> wrote:

> If you don't have a good reason for serving SVN through Apache, I'd
> say stick with svnserve. Running through Apache is helpful if you've
> got a fancy authentican scheme (LDAP and such), but performance-wise
> its worse than svnserve and it doesn't offer any other real benefit. I
> don't have much experience running svn on windows, but if you're more
> specific about any problems you're running into, how far you've gotten
> so far and/or what it is that you actually want to do I'd be glad to
> help.
>
> On Wed, Nov 5, 2008 at 11:28 PM, Viper007Bond <viper@viper007bond.com>  
> wrote:
>> Sorry for the kinda OT thread, I'm sure you guys are a lot smarter than  
>> me
>> when it comes to these things.
>>
>> I'm currently using XAMPP for my localhost development install. However  
>> I'd
>> like to start using SVN to record my changes (for example to custom  
>> themes).
>> However the guides I've found via Google haven't helped me much. I've  
>> also
>> read something about integrating it with Apache 2.2.x, but I'm so  
>> confused.
>>
>> Anyone happen to have a good link to a nice guide?
>>
>> --
>> Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From viper at viper007bond.com  Thu Nov  6 09:15:29 2008
From: viper at viper007bond.com (Viper007Bond)
Date: Thu Nov  6 09:15:46 2008
Subject: [wp-hackers] Kinda OT: Setting up a SVN server under Windows
In-Reply-To: <op.uj6lzuqzk6w4mc@dd32.no-ip.com>
References: <8f93a7390811052028x328e69eai228574b89fee50a6@mail.gmail.com>
	<39fdab560811052041r5ec72008s60e45ac032c2c7a6@mail.gmail.com>
	<op.uj6lzuqzk6w4mc@dd32.no-ip.com>
Message-ID: <8f93a7390811060115j200485aas188e1ff91c12ed5c@mail.gmail.com>

Oh, I didn't realize you could do file://. I made a test rebo via "svnadmin
create blah", but couldn't figure out how to access it.

While that puts me on the right path though, it still doesn't want to work:
http://pic.phyrefile.com/v/vi/viper007bond/2008/11/06/svnerror.png

On Wed, Nov 5, 2008 at 9:10 PM, DD32 <wordpress@dd32.id.au> wrote:

> And you dont even need to run svnserve if you only need local access.
>
> I personally run svnserve on my VPS host, means i've got a remote
> svn://host/ access
> However, for most things, I simply set my SVN client to use a local
> repository,
> eg: file:///c:/svn/my-plugin-2/
>
> Its much simpler, means you dont have an extra process running when its not
> needed, and is just as useable as a remote svn host for most stuff.
>
> to create the above repo, all i'd do is a "svn create c:/svn/my-plugin-2/"
> and thats it.
>
> Of course, If you want access to SVN from away from your computer, svnserve
> is probably the best method
>
>
>
> On Thu, 06 Nov 2008 15:41:11 +1100, Daniel Torreblanca <
> regulatethis@gmail.com> wrote:
>
>  If you don't have a good reason for serving SVN through Apache, I'd
>> say stick with svnserve. Running through Apache is helpful if you've
>> got a fancy authentican scheme (LDAP and such), but performance-wise
>> its worse than svnserve and it doesn't offer any other real benefit. I
>> don't have much experience running svn on windows, but if you're more
>> specific about any problems you're running into, how far you've gotten
>> so far and/or what it is that you actually want to do I'd be glad to
>> help.
>>
>> On Wed, Nov 5, 2008 at 11:28 PM, Viper007Bond <viper@viper007bond.com>
>> wrote:
>>
>>> Sorry for the kinda OT thread, I'm sure you guys are a lot smarter than
>>> me
>>> when it comes to these things.
>>>
>>> I'm currently using XAMPP for my localhost development install. However
>>> I'd
>>> like to start using SVN to record my changes (for example to custom
>>> themes).
>>> However the guides I've found via Google haven't helped me much. I've
>>> also
>>> read something about integrating it with Apache 2.2.x, but I'm so
>>> confused.
>>>
>>> Anyone happen to have a good link to a nice guide?
>>>
>>> --
>>> Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>  _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From wordpress at dd32.id.au  Thu Nov  6 09:18:35 2008
From: wordpress at dd32.id.au (DD32)
Date: Thu Nov  6 09:18:55 2008
Subject: [wp-hackers] Kinda OT: Setting up a SVN server under Windows
In-Reply-To: <8f93a7390811060115j200485aas188e1ff91c12ed5c@mail.gmail.com>
References: <8f93a7390811052028x328e69eai228574b89fee50a6@mail.gmail.com>
	<39fdab560811052041r5ec72008s60e45ac032c2c7a6@mail.gmail.com>
	<op.uj6lzuqzk6w4mc@dd32.no-ip.com>
	<8f93a7390811060115j200485aas188e1ff91c12ed5c@mail.gmail.com>
Message-ID: <op.uj6xg9g0k6w4mc@dd32.no-ip.com>

The trick is, SVN requires 3 (Yes, three) forward slashes after the  
protocol.

file:///D:/blahblah

AFAIK its because it treats windows paths as linux paths: file://  /D:  
/blah /blah

On Thu, 06 Nov 2008 20:15:29 +1100, Viper007Bond <viper@viper007bond.com>  
wrote:

> Oh, I didn't realize you could do file://. I made a test rebo via  
> "svnadmin
> create blah", but couldn't figure out how to access it.
>
> While that puts me on the right path though, it still doesn't want to  
> work:
> http://pic.phyrefile.com/v/vi/viper007bond/2008/11/06/svnerror.png
>
> On Wed, Nov 5, 2008 at 9:10 PM, DD32 <wordpress@dd32.id.au> wrote:
>
>> And you dont even need to run svnserve if you only need local access.
>>
>> I personally run svnserve on my VPS host, means i've got a remote
>> svn://host/ access
>> However, for most things, I simply set my SVN client to use a local
>> repository,
>> eg: file:///c:/svn/my-plugin-2/
>>
>> Its much simpler, means you dont have an extra process running when its  
>> not
>> needed, and is just as useable as a remote svn host for most stuff.
>>
>> to create the above repo, all i'd do is a "svn create  
>> c:/svn/my-plugin-2/"
>> and thats it.
>>
>> Of course, If you want access to SVN from away from your computer,  
>> svnserve
>> is probably the best method
>>
>>
>>
>> On Thu, 06 Nov 2008 15:41:11 +1100, Daniel Torreblanca <
>> regulatethis@gmail.com> wrote:
>>
>>  If you don't have a good reason for serving SVN through Apache, I'd
>>> say stick with svnserve. Running through Apache is helpful if you've
>>> got a fancy authentican scheme (LDAP and such), but performance-wise
>>> its worse than svnserve and it doesn't offer any other real benefit. I
>>> don't have much experience running svn on windows, but if you're more
>>> specific about any problems you're running into, how far you've gotten
>>> so far and/or what it is that you actually want to do I'd be glad to
>>> help.
>>>
>>> On Wed, Nov 5, 2008 at 11:28 PM, Viper007Bond <viper@viper007bond.com>
>>> wrote:
>>>
>>>> Sorry for the kinda OT thread, I'm sure you guys are a lot smarter  
>>>> than
>>>> me
>>>> when it comes to these things.
>>>>
>>>> I'm currently using XAMPP for my localhost development install.  
>>>> However
>>>> I'd
>>>> like to start using SVN to record my changes (for example to custom
>>>> themes).
>>>> However the guides I've found via Google haven't helped me much. I've
>>>> also
>>>> read something about integrating it with Apache 2.2.x, but I'm so
>>>> confused.
>>>>
>>>> Anyone happen to have a good link to a nice guide?
>>>>
>>>> --
>>>> Viper007Bond | http://www.viper007bond.com/ |  
>>>> http://www.finalgear.com/
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>  _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>


From ryanmccue at cubegames.net  Thu Nov  6 09:18:12 2008
From: ryanmccue at cubegames.net (Ryan McCue)
Date: Thu Nov  6 09:19:44 2008
Subject: [wp-hackers] Kinda OT: Setting up a SVN server under Windows
In-Reply-To: <8f93a7390811060115j200485aas188e1ff91c12ed5c@mail.gmail.com>
References: <8f93a7390811052028x328e69eai228574b89fee50a6@mail.gmail.com>	<39fdab560811052041r5ec72008s60e45ac032c2c7a6@mail.gmail.com>	<op.uj6lzuqzk6w4mc@dd32.no-ip.com>
	<8f93a7390811060115j200485aas188e1ff91c12ed5c@mail.gmail.com>
Message-ID: <4912B654.1060704@cubegames.net>

Viper007Bond wrote:
> Oh, I didn't realize you could do file://. I made a test rebo via "svnadmin
> create blah", but couldn't figure out how to access it.
>
> While that puts me on the right path though, it still doesn't want to work:
> http://pic.phyrefile.com/v/vi/viper007bond/2008/11/06/svnerror.png
>   

Remove the // and see what happens.

-- 
Ryan McCue
<http://cubegames.net/>

From viper at viper007bond.com  Thu Nov  6 09:23:06 2008
From: viper at viper007bond.com (Viper007Bond)
Date: Thu Nov  6 09:23:18 2008
Subject: [wp-hackers] Kinda OT: Setting up a SVN server under Windows
In-Reply-To: <op.uj6xg9g0k6w4mc@dd32.no-ip.com>
References: <8f93a7390811052028x328e69eai228574b89fee50a6@mail.gmail.com>
	<39fdab560811052041r5ec72008s60e45ac032c2c7a6@mail.gmail.com>
	<op.uj6lzuqzk6w4mc@dd32.no-ip.com>
	<8f93a7390811060115j200485aas188e1ff91c12ed5c@mail.gmail.com>
	<op.uj6xg9g0k6w4mc@dd32.no-ip.com>
Message-ID: <8f93a7390811060123n310acd19kdf7307054a827635@mail.gmail.com>

DD32 to the rescue as usual. Thanks. ^_^

On Thu, Nov 6, 2008 at 1:18 AM, DD32 <wordpress@dd32.id.au> wrote:

> The trick is, SVN requires 3 (Yes, three) forward slashes after the
> protocol.
>
> file:///D:/blahblah
>
> AFAIK its because it treats windows paths as linux paths: file://  /D:
> /blah /blah
>
>
> On Thu, 06 Nov 2008 20:15:29 +1100, Viper007Bond <viper@viper007bond.com>
> wrote:
>
>  Oh, I didn't realize you could do file://. I made a test rebo via
>> "svnadmin
>> create blah", but couldn't figure out how to access it.
>>
>> While that puts me on the right path though, it still doesn't want to
>> work:
>> http://pic.phyrefile.com/v/vi/viper007bond/2008/11/06/svnerror.png
>>
>> On Wed, Nov 5, 2008 at 9:10 PM, DD32 <wordpress@dd32.id.au> wrote:
>>
>>  And you dont even need to run svnserve if you only need local access.
>>>
>>> I personally run svnserve on my VPS host, means i've got a remote
>>> svn://host/ access
>>> However, for most things, I simply set my SVN client to use a local
>>> repository,
>>> eg: file:///c:/svn/my-plugin-2/
>>>
>>> Its much simpler, means you dont have an extra process running when its
>>> not
>>> needed, and is just as useable as a remote svn host for most stuff.
>>>
>>> to create the above repo, all i'd do is a "svn create
>>> c:/svn/my-plugin-2/"
>>> and thats it.
>>>
>>> Of course, If you want access to SVN from away from your computer,
>>> svnserve
>>> is probably the best method
>>>
>>>
>>>
>>> On Thu, 06 Nov 2008 15:41:11 +1100, Daniel Torreblanca <
>>> regulatethis@gmail.com> wrote:
>>>
>>>  If you don't have a good reason for serving SVN through Apache, I'd
>>>
>>>> say stick with svnserve. Running through Apache is helpful if you've
>>>> got a fancy authentican scheme (LDAP and such), but performance-wise
>>>> its worse than svnserve and it doesn't offer any other real benefit. I
>>>> don't have much experience running svn on windows, but if you're more
>>>> specific about any problems you're running into, how far you've gotten
>>>> so far and/or what it is that you actually want to do I'd be glad to
>>>> help.
>>>>
>>>> On Wed, Nov 5, 2008 at 11:28 PM, Viper007Bond <viper@viper007bond.com>
>>>> wrote:
>>>>
>>>>  Sorry for the kinda OT thread, I'm sure you guys are a lot smarter than
>>>>> me
>>>>> when it comes to these things.
>>>>>
>>>>> I'm currently using XAMPP for my localhost development install. However
>>>>> I'd
>>>>> like to start using SVN to record my changes (for example to custom
>>>>> themes).
>>>>> However the guides I've found via Google haven't helped me much. I've
>>>>> also
>>>>> read something about integrating it with Apache 2.2.x, but I'm so
>>>>> confused.
>>>>>
>>>>> Anyone happen to have a good link to a nice guide?
>>>>>
>>>>> --
>>>>> Viper007Bond | http://www.viper007bond.com/ |
>>>>> http://www.finalgear.com/
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers@lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>  _______________________________________________
>>>>>
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From mike_walsh at mindspring.com  Thu Nov  6 10:35:08 2008
From: mike_walsh at mindspring.com (mpwalsh8)
Date: Thu Nov  6 10:35:20 2008
Subject: [wp-hackers] Re: Kinda OT: Setting up a SVN server under Windows
In-Reply-To: <8f93a7390811060123n310acd19kdf7307054a827635@mail.gmail.com>
References: <8f93a7390811052028x328e69eai228574b89fee50a6@mail.gmail.com> 
	<39fdab560811052041r5ec72008s60e45ac032c2c7a6@mail.gmail.com> 
	<op.uj6lzuqzk6w4mc@dd32.no-ip.com>
	<8f93a7390811060115j200485aas188e1ff91c12ed5c@mail.gmail.com> 
	<op.uj6xg9g0k6w4mc@dd32.no-ip.com>
	<8f93a7390811060123n310acd19kdf7307054a827635@mail.gmail.com>
Message-ID: <40275c77-0606-485c-bcfd-9463260b6dec@v39g2000pro.googlegroups.com>



On Nov 6, 4:23?am, Viper007Bond <vi...@viper007bond.com> wrote:
> DD32 to the rescue as usual. Thanks. ^_^
>
>
>

I use TortoiseSVN for both local and remote SVN access which makes it
even easier.  I like the Windows integration.

http://tortoisesvn.net/

Mike
--
Mike Walsh - mike underscore walsh at mindspring dot com
From viper at viper007bond.com  Thu Nov  6 11:11:50 2008
From: viper at viper007bond.com (Viper007Bond)
Date: Thu Nov  6 11:12:00 2008
Subject: [wp-hackers] Re: Kinda OT: Setting up a SVN server under Windows
In-Reply-To: <40275c77-0606-485c-bcfd-9463260b6dec@v39g2000pro.googlegroups.com>
References: <8f93a7390811052028x328e69eai228574b89fee50a6@mail.gmail.com>
	<39fdab560811052041r5ec72008s60e45ac032c2c7a6@mail.gmail.com>
	<op.uj6lzuqzk6w4mc@dd32.no-ip.com>
	<8f93a7390811060115j200485aas188e1ff91c12ed5c@mail.gmail.com>
	<op.uj6xg9g0k6w4mc@dd32.no-ip.com>
	<8f93a7390811060123n310acd19kdf7307054a827635@mail.gmail.com>
	<40275c77-0606-485c-bcfd-9463260b6dec@v39g2000pro.googlegroups.com>
Message-ID: <8f93a7390811060311j3ba4ef41w81dbc9593319311a@mail.gmail.com>

That's a SVN client, not a server. ;)

On Thu, Nov 6, 2008 at 2:35 AM, mpwalsh8 <mike_walsh@mindspring.com> wrote:

>
>
> On Nov 6, 4:23 am, Viper007Bond <vi...@viper007bond.com> wrote:
> > DD32 to the rescue as usual. Thanks. ^_^
> >
> >
> >
>
> I use TortoiseSVN for both local and remote SVN access which makes it
> even easier.  I like the Windows integration.
>
> http://tortoisesvn.net/
>
> Mike
> --
> Mike Walsh - mike underscore walsh at mindspring dot com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From otto at ottodestruct.com  Thu Nov  6 14:55:24 2008
From: otto at ottodestruct.com (Otto)
Date: Thu Nov  6 14:55:48 2008
Subject: [wp-hackers] Kinda OT: Setting up a SVN server under Windows
In-Reply-To: <8f93a7390811052028x328e69eai228574b89fee50a6@mail.gmail.com>
References: <8f93a7390811052028x328e69eai228574b89fee50a6@mail.gmail.com>
Message-ID: <161617690811060655w728b499dxb6c2a1b52c753065@mail.gmail.com>

I personally prefer running it through apache myself, even locally.
Yes, performance blah blah.. Look, if you're doing so many changes
that performance is suddenly that big of an issue, you're not checking
in often enough. ;)

Anyway, quick guide to SVN server on XAMPP:
1. Have a running XAMPP install.
2. Get a copy of latest SVN apache binaries from
http://subversion.tigris.org/servlets/ProjectDocumentList?folderID=8100
3. Extract it, and copy mod_dav_svn.so into your XAMPP's Apache
modules install. Overwrite the existing one.
4. Add this to your httpd.conf file for Apache: "LoadModule
dav_svn_module modules/mod_dav_svn.so". It may already be in there,
commented out.
5. Make a directory somewhere where you will store your repositories.
Anywhere is good. Let's say it's c:\svnrepos.
6. At the end of the httpd.conf, add this:
<Location /svn>
    DAV svn
    SVNPath c:/svnrepos
</Location>
The /svn is the URL path. This will create http://localhost/svn as the
base path of your repositories.
7. Restart Apache.

Everything else is pretty normal. Note that this uses no
authentication at all, so anybody can check in stuff. Adding
authentication is not difficult either, but for a local repo, who
cares?

-Ott



On Wed, Nov 5, 2008 at 10:28 PM, Viper007Bond <viper@viper007bond.com> wrote:
> Sorry for the kinda OT thread, I'm sure you guys are a lot smarter than me
> when it comes to these things.
>
> I'm currently using XAMPP for my localhost development install. However I'd
> like to start using SVN to record my changes (for example to custom themes).
> However the guides I've found via Google haven't helped me much. I've also
> read something about integrating it with Apache 2.2.x, but I'm so confused.
>
> Anyone happen to have a good link to a nice guide?
>
> --
> Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mike_walsh at mindspring.com  Thu Nov  6 16:08:27 2008
From: mike_walsh at mindspring.com (mpwalsh8)
Date: Thu Nov  6 16:08:35 2008
Subject: [wp-hackers] Re: Kinda OT: Setting up a SVN server under Windows
In-Reply-To: <8f93a7390811060311j3ba4ef41w81dbc9593319311a@mail.gmail.com>
References: <8f93a7390811052028x328e69eai228574b89fee50a6@mail.gmail.com> 
	<39fdab560811052041r5ec72008s60e45ac032c2c7a6@mail.gmail.com> 
	<op.uj6lzuqzk6w4mc@dd32.no-ip.com>
	<8f93a7390811060115j200485aas188e1ff91c12ed5c@mail.gmail.com> 
	<op.uj6xg9g0k6w4mc@dd32.no-ip.com>
	<8f93a7390811060123n310acd19kdf7307054a827635@mail.gmail.com> 
	<40275c77-0606-485c-bcfd-9463260b6dec@v39g2000pro.googlegroups.com> 
	<8f93a7390811060311j3ba4ef41w81dbc9593319311a@mail.gmail.com>
Message-ID: <17a9d16d-df7f-4da1-9651-325f9ff1b2ba@f37g2000pri.googlegroups.com>

On Nov 6, 6:11?am, Viper007Bond <vi...@viper007bond.com> wrote:
> That's a SVN client, not a server. ;)
>

You're right!  I had already mentally moved on since the discussion
had moved to use the file:/// syntax.

Mike
From slc at publicus.net  Thu Nov  6 16:52:42 2008
From: slc at publicus.net (Steven Clift)
Date: Thu Nov  6 16:53:36 2008
Subject: [wp-hackers] Re: Place, Geotagging
In-Reply-To: <4911F30C.40500@publicus.net>
References: <49109417.2040004@publicus.net>	<49109E2C.50807@poplarware.com>	<00cc01c93ec1$c5f29730$6702a8c0@Guides.local>	<81134315-eef3-4921-8ebe-f1fc178faedd@w1g2000prk.googlegroups.com>	<003801c93ed8$93301630$6702a8c0@Guides.local>
	<4911F30C.40500@publicus.net>
Message-ID: <491320DA.9010803@publicus.net>

This informative reply is from Matt at MySociety:


Date: Thu, 06 Nov 2008 11:15:59 +0000
From: Matthew Somerville <matthew@mysociety.org>


On the wp-hackers mailing list, which I stumbled across on nabble, Mike 
Schinkel wrote:

> Steven Clift wrote:
>> One more link for the mix is the place name database that mySociety
>> uses for: http://gaze.mysociety.org/
>
> Very interesting. Glad to know about this. OTOH I don't see it working
> for this because of a few issues, in order of concern:
>
> 1.) It's a query mechanism that doesn't provide identity for places,
> thus "Atlanta, GA" returns 10 results instead of one (query UI at
> http://highearthorbit.com/projects/geocode/geocode.html)

Yes, it was never designed to be anything other.

> 2.) It doesn't publish any kind of service guarantee nor does it
> appear there is a good plan for for scability in place.

:-)

> 3.) Not sure what their policy/plan is for update of this data

Frankly, I think we should start using www.geonames.org and think you 
should probably look there too, they have many more data sources and 
presumably update often.

> 4.) It returns CVS instead of JSON or XML.

IMO, CSV is better than either of those two for this sort of data.

> 5.) It isn't really RESTful (a nit in this case, but something I
> notice.)

Not really bothered about that either ;)

>> I can't find the link, but I was once told by the developers that
>> they adapted a public domain U.S. military database of 4 million
>> place names around the world. Perhaps they now do something different
>> for various countries.
>
> It's here: http://geonames.usgs.gov/

To be precise, Gaze uses the geonet name server for non-US, and the GNIS 
for US. Plus other datasets to provide the population density functions etc.

> This database is very useful for other contexts, but it still doesn't
> get us to a unique placename identity. There currently is only one
> source for a unique placename AFAIK and that is Wikipedia.

No, there are others. For example, Flickr - 
http://www.flickr.com/services/api/flickr.places.getInfo.html - returns 
unique WOE (Where On Earth) IDs for places, which are defined by Yahoo! 
here: http://developer.yahoo.com/geo/

> To be
> clear,  Wikipedia can only guarantee uniqueness for an instant in time
> because they can change the URLs, although they rarely do.

Changing the URL wouldn't matter if it still followed, but being able to 
have any page deleted at any time might be more worrying (is this tiny 
village notable etc.).

>> What it does with a site like http://pledgebank.com in the U.S.
>> version is that when I search a city "Winona" it asks which one
>> specifically: http://www.pledgebank.com/search?q=winona
>
> Nice. I guess with sites that depend on it the web service must stay
> up...

Well, we do our best, but we're a tiny UK charity, so can't and haven't 
promised anything :-)

ATB,
Matthew, mySociety


From otto at ottodestruct.com  Thu Nov  6 19:31:07 2008
From: otto at ottodestruct.com (Otto)
Date: Thu Nov  6 19:31:18 2008
Subject: [wp-hackers] get list of items in a category
In-Reply-To: <70d23f010811042051t7be20a1fsd73fa318048c02e8@mail.gmail.com>
References: <70d23f010811042051t7be20a1fsd73fa318048c02e8@mail.gmail.com>
Message-ID: <161617690811061131m76ef41b9hcacc22e5b0e6bb8d@mail.gmail.com>

On Tue, Nov 4, 2008 at 10:51 PM, Brian Fidler <fidler.brian@gmail.com> wrote:
> This is a simple one but I'm pretty new to WP. I've set up a News category
> and have created a special page template for news items.

We see this a lot on the forums, and the invariable question is: why
do you want to use a Page for this?

Why not just go to /category/news? If you want to style it special,
then you can make a simple category-5.php file for the category
template instead.

Using a Page to display Posts is almost always a bad idea.

-Otto
From daiv at daivmowbray.com  Thu Nov  6 20:49:31 2008
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Thu Nov  6 20:49:45 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
Message-ID: <A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>


Thanx guys for the feedback,


You are of course correct, thanx Austin.
On Nov 5, 2008, at 1:28 PM, Austin Matzko wrote:

> You have this:
>
>>                                       $ssmNewOptions =
>> $this->savedefaultAdminOptions();
>
> which doesn't make much sense, since the method called doesn't  
> return anything:



Ozh, the functions which you refer are from the plugin builder:
http://www.wp-fun.co.uk/wizzards/fun-with-plugins/
It reads to see if the options are there, if not they write the  
default into the ops table.
If you know another way to check for options ... all ears.

On Nov 5, 2008, at 1:26 PM, Ozh wrote:
> a comment regarding your first
> function: making get_option then an update_option on each plugin start
> is a waste. Read options, sure, but why rewrite them?



And Yes Viper, I have read the manual.


----------
Daiv Mowbray
daiv@daivmowbray.com
----------


From ozh at planetozh.com  Thu Nov  6 20:54:20 2008
From: ozh at planetozh.com (Ozh)
Date: Thu Nov  6 20:54:44 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
Message-ID: <ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>

On Thu, Nov 6, 2008 at 9:49 PM, Daiv Mowbray <daiv@daivmowbray.com> wrote:
> Ozh, the functions which you refer are from the plugin builder:
> http://www.wp-fun.co.uk/wizzards/fun-with-plugins/
> It reads to see if the options are there, if not they write the default into
> the ops table.
> If you know another way to check for options ... all ears.

A lot of plugins do this on every instantiation:
1) read options from DB
2) do various checks, including default values
3) write options in DB

The write part is totally unneeded and is just a query waste, since
after step 2 everything is ok. Just to steps 1 and 2, and write to the
DB only when options are updated through the admin form.

My 2 cents :)


-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From otto at ottodestruct.com  Thu Nov  6 21:11:42 2008
From: otto at ottodestruct.com (Otto)
Date: Thu Nov  6 21:11:57 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
Message-ID: <161617690811061311s4564f29icdde41c602468510@mail.gmail.com>

Yeah, I'm forced to agree there. I just tested that generator, and
this is what it gave me:

function getAdminOptions() {
	$adminOptions = array("optionName" => "Value",
		"optionName2" => "Value",
		"optionName3" => "Value");
	$savedOptions = get_option($this->adminOptionsName);
	if (!empty($savedOptions)) {
		foreach ($savedOptions as $key => $option) {
			$adminOptions[$key] = $option;
		}
	}
	update_option($this->adminOptionsName, $adminOptions);
	return $adminOptions;
}

That's just poor practice, man. Here's a better way:

function getAdminOptions() {
	return get_option($this->adminOptionsName, array(
		// default option values follow
		"optionName" => "Value",
		"optionName2" => "Value",
		"optionName3" => "Value"
	));
}

Simple, no? Look, this function is just  supposed to get the options,
correct? So why is it writing anything to the database at all, ever?
The default values don't need to be in the database until they are
altered or saved. Then it can update them. The rest of the time, as
long as the plugin loads its options using getAdminOptions there, then
it will always get either the options from the DB or the defaults. Who
cares where they come from?

-Otto


On Thu, Nov 6, 2008 at 2:54 PM, Ozh <ozh@planetozh.com> wrote:
> On Thu, Nov 6, 2008 at 9:49 PM, Daiv Mowbray <daiv@daivmowbray.com> wrote:
>> Ozh, the functions which you refer are from the plugin builder:
>> http://www.wp-fun.co.uk/wizzards/fun-with-plugins/
>> It reads to see if the options are there, if not they write the default into
>> the ops table.
>> If you know another way to check for options ... all ears.
>
> A lot of plugins do this on every instantiation:
> 1) read options from DB
> 2) do various checks, including default values
> 3) write options in DB
>
> The write part is totally unneeded and is just a query waste, since
> after step 2 everything is ok. Just to steps 1 and 2, and write to the
> DB only when options are updated through the admin form.
>
> My 2 cents :)
>
>
> --
> http://planetOzh.com ~ Blog and WordPress Stuff
> http://FrenchFragFactory.net ~ Daily Quake News
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From malaiac at gmail.com  Thu Nov  6 21:43:48 2008
From: malaiac at gmail.com (Malaiac)
Date: Thu Nov  6 21:44:00 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
Message-ID: <59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>

about plugins options, don't forget to whitelist them if you want
options.php to save them

function add_yourplugin_options($whitelist_options)
  {
  $whitelist_options['yourplugin'] =
array('yourplugin_option1','yourplugin_option2');
  return $whitelist_options;
  }
add_filter('whitelist_options', 'add_yourplugin_options');

that is, if your plugin options form is pointed to options.php (which
should be the case in most plugins)

M
From otto at ottodestruct.com  Thu Nov  6 21:59:27 2008
From: otto at ottodestruct.com (Otto)
Date: Thu Nov  6 21:59:39 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
Message-ID: <161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>

Why would one want to point to options.php? Is there any particular
advantage of that?

I've always made my form point to itself, using action="".


On Thu, Nov 6, 2008 at 3:43 PM, Malaiac <malaiac@gmail.com> wrote:
> about plugins options, don't forget to whitelist them if you want
> options.php to save them
>
> function add_yourplugin_options($whitelist_options)
>  {
>  $whitelist_options['yourplugin'] =
> array('yourplugin_option1','yourplugin_option2');
>  return $whitelist_options;
>  }
> add_filter('whitelist_options', 'add_yourplugin_options');
>
> that is, if your plugin options form is pointed to options.php (which
> should be the case in most plugins)
>
> M
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From alan at verselogic.net  Thu Nov  6 22:17:22 2008
From: alan at verselogic.net (Alan J Castonguay)
Date: Thu Nov  6 22:17:44 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
Message-ID: <DB55910C-E8A7-4AE9-8613-F1AA198F6D92@verselogic.net>

This is a question which I also would like to see answered. I have  
seen arguments both ways, and it seems like options.php is supposed  
to do magic for options-updates, but this isn't used by a lot of the  
plugins I've looked at. Is there any consensus on best-practice for  
options updating?

-Alan


On 6-Nov-08, at 4:59 PM, Otto wrote:

> Why would one want to point to options.php? Is there any particular
> advantage of that?
>
> I've always made my form point to itself, using action="".
>
>
> On Thu, Nov 6, 2008 at 3:43 PM, Malaiac <malaiac@gmail.com> wrote:
>> about plugins options, don't forget to whitelist them if you want
>> options.php to save them
>>
>> function add_yourplugin_options($whitelist_options)
>>  {
>>  $whitelist_options['yourplugin'] =
>> array('yourplugin_option1','yourplugin_option2');
>>  return $whitelist_options;
>>  }
>> add_filter('whitelist_options', 'add_yourplugin_options');
>>
>> that is, if your plugin options form is pointed to options.php (which
>> should be the case in most plugins)
>>
>> M
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at dd32.id.au  Thu Nov  6 22:45:33 2008
From: wordpress at dd32.id.au (DD32)
Date: Thu Nov  6 22:45:53 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
Message-ID: <op.uj7yt7zpk6w4mc@dd32.no-ip.com>

On Fri, 07 Nov 2008 07:54:20 +1100, Ozh <ozh@planetozh.com> wrote:

> On Thu, Nov 6, 2008 at 9:49 PM, Daiv Mowbray <daiv@daivmowbray.com>  
> wrote:
>> Ozh, the functions which you refer are from the plugin builder:
>> http://www.wp-fun.co.uk/wizzards/fun-with-plugins/
>> It reads to see if the options are there, if not they write the default  
>> into
>> the ops table.
>> If you know another way to check for options ... all ears.
>
> A lot of plugins do this on every instantiation:
> 1) read options from DB
> 2) do various checks, including default values
> 3) write options in DB
>
> The write part is totally unneeded and is just a query waste, since
> after step 2 everything is ok. Just to steps 1 and 2, and write to the
> DB only when options are updated through the admin form.

Just a note.. update_option() doesnt do a query unless the value has  
changed from what its got in its cache:
http://trac.wordpress.org/browser/trunk/wp-includes/functions.php#L513

From malaiac at gmail.com  Fri Nov  7 00:40:08 2008
From: malaiac at gmail.com (Malaiac)
Date: Fri Nov  7 00:40:16 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <DB55910C-E8A7-4AE9-8613-F1AA198F6D92@verselogic.net>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<DB55910C-E8A7-4AE9-8613-F1AA198F6D92@verselogic.net>
Message-ID: <59e7f3130811061640y29a6f052y806684a6bb1b4c50@mail.gmail.com>

2008/11/6 Alan J Castonguay <alan@verselogic.net>:
> This is a question which I also would like to see answered. I have seen
> arguments both ways, and it seems like options.php is supposed to do magic
> for options-updates, but this isn't used by a lot of the plugins I've looked
> at. Is there any consensus on best-practice for options updating?

imho, there is no need to recode what's already been coded in WP core admin
options.php seems to be ready made for that, so that I don't see the
point in adding overhead to a custom plugin options page, unless maybe
if the plugin options are a massive part of the plugin (wp-o-matic
comes to mind)

M
From ozh at planetozh.com  Fri Nov  7 07:05:47 2008
From: ozh at planetozh.com (Ozh)
Date: Fri Nov  7 07:06:00 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
Message-ID: <ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>

On Thu, Nov 6, 2008 at 10:59 PM, Otto <otto@ottodestruct.com> wrote:
> Why would one want to point to options.php? Is there any particular
> advantage of that?
> I've always made my form point to itself, using action="".

I *think* (may be wrong) that pointing to options.php auto
stores/updates options in the db from what have been POSTed, so you
don't have to write your own update function. The (big) downside to
this is that it writes each setting in a single DB entry, which I
don't like.

(So I'm going with action="" too)

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From wordpress at dd32.id.au  Fri Nov  7 07:22:13 2008
From: wordpress at dd32.id.au (DD32)
Date: Fri Nov  7 07:22:30 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
Message-ID: <op.uj8mrbcik6w4mc@dd32.no-ip.com>

On Fri, 07 Nov 2008 18:05:47 +1100, Ozh <ozh@planetozh.com> wrote:

> On Thu, Nov 6, 2008 at 10:59 PM, Otto <otto@ottodestruct.com> wrote:
>> Why would one want to point to options.php? Is there any particular
>> advantage of that?
>> I've always made my form point to itself, using action="".
>
> I *think* (may be wrong) that pointing to options.php auto
> stores/updates options in the db from what have been POSTed, so you
> don't have to write your own update function. The (big) downside to
> this is that it writes each setting in a single DB entry, which I
> don't like.

unless you pass your form along as an array as such:

<input type="text" name="my-plugin[field-1]" value="" />
<input type="text" name="my-plugin[field-2]" value="" />
<input type="text" name="my-plugin-admin[field-1]" value="" />

would end up with 2 options, 'my-plugin', and 'my-plugin-admin', both  
being arrays, with the keys 'field-xx'
From ozh at planetozh.com  Fri Nov  7 07:58:18 2008
From: ozh at planetozh.com (Ozh)
Date: Fri Nov  7 07:58:32 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <op.uj8mrbcik6w4mc@dd32.no-ip.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
Message-ID: <ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>

On Fri, Nov 7, 2008 at 8:22 AM, DD32 <wordpress@dd32.id.au> wrote:
> unless you pass your form along as an array as such:
>
> <input type="text" name="my-plugin[field-1]" value="" />
> <input type="text" name="my-plugin[field-2]" value="" />
> <input type="text" name="my-plugin-admin[field-1]" value="" />
>
> would end up with 2 options, 'my-plugin', and 'my-plugin-admin', both being
> arrays, with the keys 'field-xx'

Pretty obvious, why didn't I think about this ? :)
Thanks for the pointer DD

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From daiv at daivmowbray.com  Fri Nov  7 08:13:45 2008
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Fri Nov  7 08:13:59 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
Message-ID: <9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>


Great tips here guys, thanx,
After reading numerous plugins, trying to determine what is the
best practice for writing a plugin,
I have learnt that there is no standard.
It seams that every one does it different from the next.
It would be great to find a template for standardizing best practice.
The wizard at wp-fun was a god place for me to start,
but it doesn't go far enough.

The codex examples are simple case and incomplete.

A plugin template would be a great tool for standardizing.
I have found suggestions such as the following, which I think are  
great ideas:

add_action('in_admin_footer', 'myplugin_admin_footer', 11 );
function myplugin_admin_footer() {
				$plugin_data = get_plugin_data( __FILE__ );
				printf('%1$s plugin | Version %2$s | by %3$s<br />',  
$plugin_data['Title'], $plugin_data['Version'], $plugin_data['Author']);
			}

and:
/**
* Add link to options page from plugin list.
*/

			function filter_plugin_actions($links, $file) {
   				 static $this_plugin;
    					if( ! $this_plugin ) $this_plugin = plugin_basename(__FILE__);

   				if( $file == $this_plugin ){
   					$settings_link = '<a href="options-general.php? 
page=myplugin">'.__('Settings').'</a>';
    					array_unshift( $links, $settings_link ); // before other links
  				}
    				return $links;
			}

On Nov 7, 2008, at 8:58 AM, Ozh wrote:

>> <input type="text" name="my-plugin[field-1]" value="" />
>> <input type="text" name="my-plugin[field-2]" value="" />
>> <input type="text" name="my-plugin-admin[field-1]" value="" />
>>
>> would end up with 2 options, 'my-plugin', and 'my-plugin-admin',  
>> both being
>> arrays, with the keys 'field-xx'
>
> Pretty obvious, why didn't I think about this ? :)


----------
Daiv Mowbray
daiv@daivmowbray.com
----------


From daiv at daivmowbray.com  Fri Nov  7 08:21:08 2008
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Fri Nov  7 08:21:19 2008
Subject: [wp-hackers] wp_register_script with mootools or private javascript
Message-ID: <92C3D64B-1DFE-44DD-B3CC-E8A019D5979C@daivmowbray.com>


Will wp_register_script work across plugins if I use it for something  
other than the jquery?

wp_register_script('moocore', '$url/wp-content/plugins/myplugin/js/ 
mootools-1.2-core.js', array('mootools'), '1.2');

----------
Daiv Mowbray
daiv@daivmowbray.com
----------


From wordpress at dd32.id.au  Fri Nov  7 08:41:58 2008
From: wordpress at dd32.id.au (DD32)
Date: Fri Nov  7 08:42:14 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
Message-ID: <op.uj8qf8uok6w4mc@dd32.no-ip.com>

On Fri, 07 Nov 2008 19:13:45 +1100, Daiv Mowbray <daiv@daivmowbray.com>  
wrote:

> and:
> /**
> * Add link to options page from plugin list.
> */
>
> 			function filter_plugin_actions($links, $file) {
>    				 static $this_plugin;
>     					if( ! $this_plugin ) $this_plugin = plugin_basename(__FILE__);
>
>    				if( $file == $this_plugin ){
>    					$settings_link = '<a href="options-general.php?
> page=myplugin">'.__('Settings').'</a>';
>     					array_unshift( $links, $settings_link ); // before other links
>   				}
>     				return $links;
> 			}

theres a better option for this under 2.7, instead of firing on every  
action-links filter, You can use the  plugin_action_links_{$plugin} filter:

add_action('plugin_action_links_' . plugin_basename(__FILE__),  
'filter_plugin_actions');
function filter_plugin_actions($links) {
     $settings_link = '<a  
href="options-general.php?page=myplugin">'.__('Settings').'</a>';
     array_unshift( $links, $settings_link ); // before other links
     return $links;
}
From viper at viper007bond.com  Fri Nov  7 08:35:37 2008
From: viper at viper007bond.com (Viper007Bond)
Date: Fri Nov  7 08:45:33 2008
Subject: [wp-hackers] wp_register_script with mootools or private
	javascript
In-Reply-To: <92C3D64B-1DFE-44DD-B3CC-E8A019D5979C@daivmowbray.com>
References: <92C3D64B-1DFE-44DD-B3CC-E8A019D5979C@daivmowbray.com>
Message-ID: <8f93a7390811070035i61c147bevfd71d380c3665291@mail.gmail.com>

I don't get your question, but here's a much, much better method of setting
the JS URL:

wp_enqueue_script( 'moocore',
plugins_url('/myplugin/js/mootools-1.2-core.js'), array('mootools'), '1.2'
);

On Fri, Nov 7, 2008 at 12:21 AM, Daiv Mowbray <daiv@daivmowbray.com> wrote:

>
> Will wp_register_script work across plugins if I use it for something other
> than the jquery?
>
> wp_register_script('moocore',
> '$url/wp-content/plugins/myplugin/js/mootools-1.2-core.js',
> array('mootools'), '1.2');
>
> ----------
> Daiv Mowbray
> daiv@daivmowbray.com
> ----------
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From daiv at daivmowbray.com  Fri Nov  7 12:12:20 2008
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Fri Nov  7 12:12:31 2008
Subject: [wp-hackers] wp_register_script with mootools or private
	javascript
In-Reply-To: <8f93a7390811070035i61c147bevfd71d380c3665291@mail.gmail.com>
References: <92C3D64B-1DFE-44DD-B3CC-E8A019D5979C@daivmowbray.com>
	<8f93a7390811070035i61c147bevfd71d380c3665291@mail.gmail.com>
Message-ID: <D6DBE3A9-83EF-44DD-805E-803051765CF6@daivmowbray.com>


On Nov 7, 2008, at 9:35 AM, Viper007Bond wrote:

> I don't get your question, but here's a much, much better method of  
> setting
> the JS URL:

plugins_url is cool, thanx,

My question clarified:
if I load myjavascript.js into theme head with plugin A
using wp_enqueue_script,
then load myjavascript.js into theme head with plugin B,
will the wp_enqueue_script prevent double loading of myjavascript.js ?

----------
Daiv Mowbray
daiv@daivmowbray.com
----------


From viper at viper007bond.com  Fri Nov  7 13:05:54 2008
From: viper at viper007bond.com (Viper007Bond)
Date: Fri Nov  7 13:06:05 2008
Subject: [wp-hackers] wp_register_script with mootools or private
	javascript
In-Reply-To: <D6DBE3A9-83EF-44DD-805E-803051765CF6@daivmowbray.com>
References: <92C3D64B-1DFE-44DD-B3CC-E8A019D5979C@daivmowbray.com>
	<8f93a7390811070035i61c147bevfd71d380c3665291@mail.gmail.com>
	<D6DBE3A9-83EF-44DD-805E-803051765CF6@daivmowbray.com>
Message-ID: <8f93a7390811070505r41685cf0o93d19e3dce068239@mail.gmail.com>

Yes, but only if you use wp_enqueue_script() in both plugins.

On Fri, Nov 7, 2008 at 4:12 AM, Daiv Mowbray <daiv@daivmowbray.com> wrote:

>
> On Nov 7, 2008, at 9:35 AM, Viper007Bond wrote:
>
>  I don't get your question, but here's a much, much better method of
>> setting
>> the JS URL:
>>
>
> plugins_url is cool, thanx,
>
> My question clarified:
> if I load myjavascript.js into theme head with plugin A
> using wp_enqueue_script,
> then load myjavascript.js into theme head with plugin B,
> will the wp_enqueue_script prevent double loading of myjavascript.js ?
>
>
> ----------
> Daiv Mowbray
> daiv@daivmowbray.com
> ----------
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From scribu at gmail.com  Fri Nov  7 14:35:45 2008
From: scribu at gmail.com (scribu)
Date: Fri Nov  7 14:35:57 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <op.uj8qf8uok6w4mc@dd32.no-ip.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
	<op.uj8qf8uok6w4mc@dd32.no-ip.com>
Message-ID: <349fe48b0811070635u6a68d1cataf730b8be812a4a@mail.gmail.com>

If I put action="options.php" on the form, how do I redirect the user back
to the plugin options page?

A working example of a plugin using options.php for updating it's options
would be very helpful.

-- 
http://scribu.net
From rboatright at gmail.com  Fri Nov  7 14:37:48 2008
From: rboatright at gmail.com (Rick Boatright)
Date: Fri Nov  7 14:38:01 2008
Subject: [wp-hackers] newbie plugin author question (sorry in advance)
Message-ID: <d269121b0811070637gf62514cub34b7e7d13a32838@mail.gmail.com>

Hi.
First time plugin author.  I've spent a week reading emails, searching
codex, and blogs and tearing apart existing plugins, and failed to find the
answer to two questions.  I apologize in advance for a newbie stupid
question, but I'll try to write it in a decent way.

I have successfully followed the outline at
http://codex.wordpress.org/Creating_Tables_with_Plugins and have my plugin
creating it's table and updating them on activation.  No problem.

I have used:

add_action('admin_menu', 'MeetingList_admin_menu');

to hook to the menu   and then that function does

add_management_page('MeetingList', 'MeetingList', 8, 'meetinglist,
'MeetingList_manage');

== QUESTION 1 ==

Why (in 2.7) does clicking on the resulting meetinglist function menu item
under tools  take me to

wp-admin/import.php?page=meetinglist.php<http://localhost/wordpress/wp-admin/import.php?page=meetinglist.php>

I don't understand why this is going through IMPORT....   what did I do
wrong?

===  Question 2 ===

So, my resulting page comes up, displays fine, everything on it works, but
when I try to POST the data on the page back so that I can write it in the
table,  if I post back to self (import.php?page=meetinglist.php)  my _GET()
and _REQUEST() are all empty.

(if that question isn't obvious, I have a form on that page to send data
back to my custom table which begins:

<form name="meetingform" id="meetingform" class="wrap" method="post"
action="import.php?page=meetlist.php">

I've tried various targets, and none of them seem to get me the results of
my form submission, including posting to _self )

Obviously, question 2 is related to question 1 -- which is,  where SHOULD a
form that wants to post back data to be saved into a new table link.  Note
that this information is __NOT POSTS OR PAGES___  meetings is a
fully separate data table containing information which will be INSERTED on
posts or pages, but won't be, at its creation, LINKED to them.

Thanks in advance for your patience.

Rick
From otto at ottodestruct.com  Fri Nov  7 14:42:09 2008
From: otto at ottodestruct.com (Otto)
Date: Fri Nov  7 14:42:21 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <349fe48b0811070635u6a68d1cataf730b8be812a4a@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
	<op.uj8qf8uok6w4mc@dd32.no-ip.com>
	<349fe48b0811070635u6a68d1cataf730b8be812a4a@mail.gmail.com>
Message-ID: <161617690811070642g4d203eeem670e7f43bea81c27@mail.gmail.com>

It looks like it just redirects back to the referring page afterwards.

I'll have to test this, see if it's an easier way than rolling your
own options saving, which is what I've always done.


On Fri, Nov 7, 2008 at 8:35 AM, scribu <scribu@gmail.com> wrote:
> If I put action="options.php" on the form, how do I redirect the user back
> to the plugin options page?
>
> A working example of a plugin using options.php for updating it's options
> would be very helpful.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From otto at ottodestruct.com  Fri Nov  7 14:54:54 2008
From: otto at ottodestruct.com (Otto)
Date: Fri Nov  7 14:55:06 2008
Subject: [wp-hackers] newbie plugin author question (sorry in advance)
In-Reply-To: <d269121b0811070637gf62514cub34b7e7d13a32838@mail.gmail.com>
References: <d269121b0811070637gf62514cub34b7e7d13a32838@mail.gmail.com>
Message-ID: <161617690811070654q11b99d29tab5c00af12adcb77@mail.gmail.com>

On Fri, Nov 7, 2008 at 8:37 AM, Rick Boatright <rboatright@gmail.com> wrote:
> add_management_page('MeetingList', 'MeetingList', 8, 'meetinglist,
> 'MeetingList_manage');
>
> == QUESTION 1 ==
>
> Why (in 2.7) does clicking on the resulting meetinglist function menu item
> under tools  take me to
>
> wp-admin/import.php?page=meetinglist.php<http://localhost/wordpress/wp-admin/import.php?page=meetinglist.php>
>
> I don't understand why this is going through IMPORT....   what did I do
> wrong?

Nothing is wrong. You used add_management_page. That goes through the
import.php file.

Just like options goes through options-general.php and theme goes
through themes.php and users goes through either users.php or
profile.php.

This is normal.


> ===  Question 2 ===
>
> So, my resulting page comes up, displays fine, everything on it works, but
> when I try to POST the data on the page back so that I can write it in the
> table,  if I post back to self (import.php?page=meetinglist.php)  my _GET()
> and _REQUEST() are all empty.
>
> (if that question isn't obvious, I have a form on that page to send data
> back to my custom table which begins:
>
> <form name="meetingform" id="meetingform" class="wrap" method="post"
> action="import.php?page=meetlist.php">

Well, $_GET will be empty because you have method=post. So check in
$_POST instead.

Also, make your action just "". Blank. That will let it post back to
itself, regardless of the URL.


-Otto
From viper at viper007bond.com  Fri Nov  7 14:40:13 2008
From: viper at viper007bond.com (Viper007Bond)
Date: Fri Nov  7 15:03:27 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <349fe48b0811070635u6a68d1cataf730b8be812a4a@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
	<op.uj8qf8uok6w4mc@dd32.no-ip.com>
	<349fe48b0811070635u6a68d1cataf730b8be812a4a@mail.gmail.com>
Message-ID: <8f93a7390811070640yf31bd9fve94731edda96c4e4@mail.gmail.com>

As I posted earlier: http://codex.wordpress.org/Creating_Options_Pages

It just redirects right back to the referring URL but with "updated=true"
tagged on.

On Fri, Nov 7, 2008 at 6:35 AM, scribu <scribu@gmail.com> wrote:

> If I put action="options.php" on the form, how do I redirect the user back
> to the plugin options page?
>
> A working example of a plugin using options.php for updating it's options
> would be very helpful.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From scribu at gmail.com  Fri Nov  7 15:17:07 2008
From: scribu at gmail.com (scribu)
Date: Fri Nov  7 15:17:18 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <8f93a7390811070640yf31bd9fve94731edda96c4e4@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
	<op.uj8qf8uok6w4mc@dd32.no-ip.com>
	<349fe48b0811070635u6a68d1cataf730b8be812a4a@mail.gmail.com>
	<8f93a7390811070640yf31bd9fve94731edda96c4e4@mail.gmail.com>
Message-ID: <349fe48b0811070717r7d91f6bej26a8bdffd0d0387d@mail.gmail.com>

On Fri, Nov 7, 2008 at 4:40 PM, Viper007Bond <viper@viper007bond.com> wrote:

> As I posted earlier: http://codex.wordpress.org/Creating_Options_Pages
>
> It just redirects right back to the referring URL but with "updated=true"
> tagged on.
>

That link is just what I needed. Thanks Viper and Otto!

-- 
http://scribu.net
From otto at ottodestruct.com  Fri Nov  7 15:19:49 2008
From: otto at ottodestruct.com (Otto)
Date: Fri Nov  7 15:20:23 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <8f93a7390811070640yf31bd9fve94731edda96c4e4@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
	<op.uj8qf8uok6w4mc@dd32.no-ip.com>
	<349fe48b0811070635u6a68d1cataf730b8be812a4a@mail.gmail.com>
	<8f93a7390811070640yf31bd9fve94731edda96c4e4@mail.gmail.com>
Message-ID: <161617690811070719g28c1497ao40589609ef54f4b1@mail.gmail.com>

That is very easy indeed, but it doesn't allow for any validation of
the option when it is submitted, to verify that it makes sense.

Or is there some kind of hook I can use that I don't know about?

I suppose I could verify it on actual usage of the option, but I like
to keep my database clean, sort of thing.


On Fri, Nov 7, 2008 at 8:40 AM, Viper007Bond <viper@viper007bond.com> wrote:
> As I posted earlier: http://codex.wordpress.org/Creating_Options_Pages
>
> It just redirects right back to the referring URL but with "updated=true"
> tagged on.
>
> On Fri, Nov 7, 2008 at 6:35 AM, scribu <scribu@gmail.com> wrote:
>
>> If I put action="options.php" on the form, how do I redirect the user back
>> to the plugin options page?
>>
>> A working example of a plugin using options.php for updating it's options
>> would be very helpful.
>>
>> --
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From scribu at gmail.com  Fri Nov  7 15:29:11 2008
From: scribu at gmail.com (scribu)
Date: Fri Nov  7 15:53:15 2008
Subject: [wp-hackers] Need help with: coding new Plugin options
In-Reply-To: <161617690811070719g28c1497ao40589609ef54f4b1@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
	<op.uj8qf8uok6w4mc@dd32.no-ip.com>
	<349fe48b0811070635u6a68d1cataf730b8be812a4a@mail.gmail.com>
	<8f93a7390811070640yf31bd9fve94731edda96c4e4@mail.gmail.com>
	<161617690811070719g28c1497ao40589609ef54f4b1@mail.gmail.com>
Message-ID: <349fe48b0811070729t3418aff9v1c56b6a7bc387114@mail.gmail.com>

It doesn't redirect to the plugin options page (*
options-general.php?page=my_plugin_options*) after all:

When I put *action="options.php"*, I get Error! Options page not found.

When I put *action="options-general.php"*, I just get the General Options
page

In both cases, the options are updated.

I am running WP 2.7 updated via svn. Is it a bug or am I doing something
wrong?

-- 
http://scribu.net
From mrbrog at gmail.com  Fri Nov  7 16:21:10 2008
From: mrbrog at gmail.com (Claudio Simeone)
Date: Fri Nov  7 16:21:20 2008
Subject: [wp-hackers] WP 2.6.3 and setcookie
Message-ID: <c41cda880811070821sdcc702g5fc146063ddd3d17@mail.gmail.com>

HI all,

I can't set cookies in WP 2.6.3 in a plugin. I'm using:

setcookie('read'.$post_ID, 1, time() + 86400, COOKIEPATH, COOKIE_DOMAIN);

The plugin count hits to single posts and set a cookie for each post
to exclude visits from the same user for one day after the first hit.
It seems that there's something that resets the all COOKIE values
(except the WP ones) - because refreshing one single post several
times, randomly, the cookie is set sometimes, but when I refresh again
the cookie is not more set.

Any ideas?

Is there a WP function that sets cookies not only for login but for
other purposes?
Or there's a different approach I can use to achieve the same goal
without cookies?

Thanks in advance.
Claudio
From xavier at borderie.net  Fri Nov  7 17:28:53 2008
From: xavier at borderie.net (Xavier Borderie)
Date: Fri Nov  7 17:29:20 2008
Subject: [wp-hackers] WP 2.7 Screens and translations
In-Reply-To: <9e4ae73e0811021018r3bb4b8ddj370359d3657a36ed@mail.gmail.com>
References: <F0947C22-B4EC-40CD-8ACA-824C1E3FAA81@funroe.net>
	<F2E80A4C-BF61-4E9D-84DF-B0B1597608F1@txfx.net>
	<89F0B5E2-EFAD-4487-8C30-236928EBCFFA@funroe.net>
	<490CB2F3.2090500@gmail.com>
	<9e4ae73e0811021018r3bb4b8ddj370359d3657a36ed@mail.gmail.com>
Message-ID: <9e4ae73e0811070928p53121866wef98b2365adc98e3@mail.gmail.com>

> Very much agreed. Now that the UI is settling down, I'm afraid it is
> not built to cater for obligatory longer words - English can say a lot
> with two words, which is not alwyas the case for other languages.
>
> Here are examples for the FR translation I'm working on:
>  - Dashboard as always been translated as "Tableau de bord", but the
> menu size is to narrow. If we let the string as is, it breaks down the
> words:
> http://img83.imageshack.us/my.php?image=wp27tdb1sx8.png
> If we add &nbsp; between each word, hoping to force the column to be
> bigger, it falls back to the next line:
> http://img381.imageshack.us/my.php?image=wp27tdb2pu0.png
> Same for "Commentaires", which cannot be reduced:
> http://img88.imageshack.us/my.php?image=wp27comm1dj8.png

While the Publish section is now straightened-up, the menu is still a
cause of problems.
Could anyone work out a solution to this?


--
Xavier Borderie
From dougal at gunters.org  Fri Nov  7 17:35:09 2008
From: dougal at gunters.org (Dougal Campbell)
Date: Fri Nov  7 17:35:25 2008
Subject: [wp-hackers] WP 2.6.3 and setcookie
In-Reply-To: <c41cda880811070821sdcc702g5fc146063ddd3d17@mail.gmail.com>
References: <c41cda880811070821sdcc702g5fc146063ddd3d17@mail.gmail.com>
Message-ID: <49147C4D.6040308@gunters.org>

Claudio Simeone wrote:
> HI all,
>
> I can't set cookies in WP 2.6.3 in a plugin. I'm using:
>
> setcookie('read'.$post_ID, 1, time() + 86400, COOKIEPATH, COOKIE_DOMAIN);
>
> The plugin count hits to single posts and set a cookie for each post
> to exclude visits from the same user for one day after the first hit.
> It seems that there's something that resets the all COOKIE values
> (except the WP ones) - because refreshing one single post several
> times, randomly, the cookie is set sometimes, but when I refresh again
> the cookie is not more set.
>
> Any ideas?
>   

If you are just refreshing your browser without clearing the cache, then 
WordPress might be returning a 304 NOT CHANGED response, in which case, 
it wouldn't be re-sending the set cookie headers.

Try either clearing your browser cache between refreshes, or use a 
command-line tool like curl to examine the headers:

  curl --head http://example.com


-- 
Dougal Campbell <dougal@gunters.org <mailto:dougal@gunters.org>>
http://dougal.gunters.org/
http://twitter.com/dougal
From jane at automattic.com  Fri Nov  7 18:29:41 2008
From: jane at automattic.com (Jane Wells)
Date: Fri Nov  7 18:29:54 2008
Subject: [wp-hackers] Anyone in San Francisco?
Message-ID: <6B2C8EB2-3CC8-4DFD-A8D1-1988E2D7331F@automattic.com>

Hi everyone. I'm going to be doing some usability testing on 2.7 now  
that it's getting closer to finished. If anyone is in San Francisco  
and wants to participate, I'll be in town until Tuesday evening and  
can have people come in anytime between now and then. Will be testing  
with everyone from utter newbies to hardcore devs, so if you're  
interested, email me and let me know (please do not reply to list and  
clutter everyone's inbox, thanks!).

In the interest of not just doing testing in places like San Francisco  
and New York, I think I'm going to start doing some lo-fi testing when  
I'm traveling for WordCamps, too, so if there's a WordCamp coming up  
and you'd be interested in participating in one of these less formal  
testing sessions, you can email me about that, too.

Thanks!
Jane
jane@automattic.com
From navjotjsingh at gmail.com  Fri Nov  7 19:40:32 2008
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Fri Nov  7 19:40:44 2008
Subject: [wp-hackers] Adding links to feed
Message-ID: <7b9e108c0811071140p7f2a20bdmf274eb48a8278fbb@mail.gmail.com>

Sorry but I am not conversed well with php. I am running a download
videos site. Now I want to provide download urls of videos from
youtube.

I am using the following code to display download urls in single.php
automatically in my theme's function.php:

function str_between($string, $start, $end){ $string = " ".$string;
$ini = strpos($string,$start); if ($ini == 0) return ""; $ini +=
strlen($start); $len = strpos($string,$end,$ini) - $ini; return
substr($string,$ini,$len); }
function get_youtube_download_link($url){
if( $url !== "")
{
$youtube_link = $url;
//$url = get_post_meta($post->ID, 'url', true);
if ( file_get_contents($youtube_link) !== "")
{
$youtube_page = file_get_contents($youtube_link);
$v_id = str_between($youtube_page, "&video_id=", "&");
$t_id = str_between($youtube_page, "&t=", "&");
$flv_link = "http://www.youtube.com/get_video?video_id=$v_id&t=$t_id";
$hq_flv_link = "http://www.youtube.com/get_video?video_id=$v_id&t=$t_id&fmt=6";
$mp4_link = "http://www.youtube.com/get_video?video_id=$v_id&t=$t_id&fmt=18";
$threegp_link =
"http://www.youtube.com/get_video?video_id=$v_id&t=$t_id&fmt=17";
echo "\t\tDownload (right-click &gt; save as)&#58;\n\t\t";
echo "<a href=\"$flv_link\">FLV</a>\n\t\t";
echo "<a href=\"$hq_flv_link\">HQ FLV (if available)</a>\n\t\t";
echo "<a href=\"$mp4_link\">MP4</a>\n\t\t";
echo "<a href=\"$threegp_link\">3GP</a><br><br>\n";
}
}
}

This works wonderfully.

How to modify this code so that the links display well in feeds as
well? Currently it displays only in the post but not in the feeds.

Regards
Navjot Singh
From wp-hackers at striderweb.com  Sat Nov  8 01:38:40 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat Nov  8 01:38:55 2008
Subject: [wp-hackers] Strider Core (was Need help with: coding new Plugin
	options)
In-Reply-To: <9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
Message-ID: <30DC858F-A62B-4982-A812-528D69220188@striderweb.com>


On Nov 7, 2008, at 2:13 AM, Daiv Mowbray wrote:

> After reading numerous plugins, trying to determine what is the best  
> practice for writing a plugin, I have learnt that there is no  
> standard.
> It seams that every one does it different from the next.
> ...
> A plugin template would be a great tool for standardizing.
> I have found suggestions such as the following, which I think are  
> great ideas:


> [cited plugin action links and plugin page footer attribution]

I see you've been reading my articles... ;)

I'm actually working on a common code "back end" that I plan in  
incorporating into all of my plugins.  It includes common code for  
exactly the kinds of things you mentioned, plus things like a system  
for updating plugin options on plugin update -- e.g. with defaults for  
settings that didn't exist in the previous version of the plugin --  
and hopefully an automatic Version Checking mechanism for plugins not  
hosted at WP-Extend.

I've dubbed it "Strider Core".  I think the most interesting things  
about it is that I've figured out a way so that if multiple plugins  
all use Strider Core, it will check for the _newest_ version of SC and  
use that for all of those plugins.  Thus, updating one plugin can  
improve other plugins running on the same base code.  (Example:  If  
Plugin A has SC v1.0, and Plugin B has SC v1.1, both plugins will run  
on SC v1.1)

The first public release running on Strider Core is probably going to  
be a new version of my "Deprecated Calls" plugin.  It's certainly not  
going to be all things to all plugin authors, but it will encapsulate  
and (hopefully) standardize a lot of the bits of polish that can  
improve all plugins.

I'll keep y'all posted. :)

Stephen

-- 
Stephen Rider
<http://striderweb.com/>



From honest_love_2000 at yahoo.com  Sat Nov  8 09:38:28 2008
From: honest_love_2000 at yahoo.com (Mercy Kleen)
Date: Sat Nov  8 09:39:07 2008
Subject: [wp-hackers] help me
Message-ID: <59045.66233.qm@web59515.mail.ac4.yahoo.com>

please help me with where to get credit cards online.



      
From daiv at daivmowbray.com  Sat Nov  8 16:12:55 2008
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Sat Nov  8 16:13:08 2008
Subject: [wp-hackers] wp_register_script with mootools or private
	javascript
In-Reply-To: <8f93a7390811070505r41685cf0o93d19e3dce068239@mail.gmail.com>
References: <92C3D64B-1DFE-44DD-B3CC-E8A019D5979C@daivmowbray.com>
	<8f93a7390811070035i61c147bevfd71d380c3665291@mail.gmail.com>
	<D6DBE3A9-83EF-44DD-805E-803051765CF6@daivmowbray.com>
	<8f93a7390811070505r41685cf0o93d19e3dce068239@mail.gmail.com>
Message-ID: <874CDC36-8D75-4C82-B524-D0591DBFF0D2@daivmowbray.com>


Hello All and Any,

Still trying to work out the wp_enqueue_script:
The following fails to load the javascript files completely.
I suspect that I'm missing something here.

I only want the scripts to load on the front side.
I want them registered so that they won't load if other plugin has  
already loaded them.
I have looked at numerous items online ref this issue,
Thanx for your time.

function myClass(){
	register_activation_hook(__FILE__, array(&$this,'my_init'));
	wp_register_script('moocore', plugins_url('/myplugin/js/mootools-1.2- 
core.js'), array(''), '');		
	wp_register_script('moomore', plugins_url('/myplugin/js/mootools-1.2- 
more.js'), array('moocore'), '1.2');
			
	add_action("init", array(&$this,'add_scripts'));
}



function add_scripts(){
   if (function_exists('wp_enqueue_script')) {

	wp_enqueue_script( 'moocore' );
	wp_enqueue_script( 'moomore' );
   }
}


On Nov 7, 2008, at 2:05 PM, Viper007Bond wrote:

> Yes, but only if you use wp_enqueue_script() in both plugins.
>
> On Fri, Nov 7, 2008 at 4:12 AM, Daiv Mowbray <daiv@daivmowbray.com>  
> wrote:
>
>>
>> On Nov 7, 2008, at 9:35 AM, Viper007Bond wrote:
>>
>>

----------
Daiv Mowbray
daiv@daivmowbray.com
----------


From daiv at daivmowbray.com  Sat Nov  8 16:22:36 2008
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Sat Nov  8 16:22:51 2008
Subject: [wp-hackers] Strider Core (was Need help with: coding new Plugin
	options)
In-Reply-To: <30DC858F-A62B-4982-A812-528D69220188@striderweb.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
	<30DC858F-A62B-4982-A812-528D69220188@striderweb.com>
Message-ID: <F596FD24-EF05-4686-9573-1BAEBA98EF01@daivmowbray.com>

On Nov 8, 2008, at 2:38 AM, Stephen Rider wrote:
> I see you've been reading my articles... ;)
>
> I'm actually working on a common code "back end" that I plan in  
> incorporating into all of my plugins.


Hello Stephen, et al.

yes I have been reading your work. Thanx for making it public.
I agree with you on many issues and thank you for shedding light on  
numerous fronts.

Your common code "back end" project sounds ambitious and potentially  
powerful.
I think it goes beyond my question regarding a plugin template.
HelloDolly just doesn't cut it for WP 2.5+
And the docs are minimal in relation to all the potential WP has.

re this thread: I have resolved my options issues.
my last typo was : including id but not name in the hidden input.
<input type="hidden" name="action" id="action" value="update" />

I also have taken from the previous suggestions and cleared the way to  
saving and getting my options.

What stage are you at with Strider Core? eta?

----------
Daiv Mowbray
daiv@daivmowbray.com
----------


From daiv at daivmowbray.com  Sat Nov  8 16:36:49 2008
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Sat Nov  8 16:37:01 2008
Subject: [wp-hackers] My Admin Footer plugin credits fails
Message-ID: <13A3CA42-2504-45E5-9FB9-B2F61509FCFB@daivmowbray.com>


Hello list,

Following the suggestion of Stepfen Rider,
I am trying to add plugin credits into the plugin options admin page.
Using the following code, my footer is not modified. (no plugin info  
printed.)

Any suggestions welcome , and thanx.

function setup_optionspage() {
	if( function_exists('add_options_page') ) {
		add_options_page(__('My Menu'),__('My Menu'), 8, 'my-menu', array(& 
$this, 'my_options_ui'));
	}
		//this should print plugin info into admin footer
		add_action('in_admin_footer', 'plugin_admin_footer', 11 );
}
function plugin_admin_footer() {
		$plugin_data = get_plugin_data( __FILE__ );
		printf('%1$s plugin | Version %2$s | by %3$s<br />',  
$plugin_data['Title'], $plugin_data['Version'], $plugin_data['Author']);
}


----------
Daiv Mowbray
daiv@daivmowbray.com
----------


From daiv at daivmowbray.com  Sat Nov  8 17:15:53 2008
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Sat Nov  8 17:16:09 2008
Subject: [wp-hackers] Strider Core (was Need help with: coding new Plugin
	options)
In-Reply-To: <F596FD24-EF05-4686-9573-1BAEBA98EF01@daivmowbray.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
	<30DC858F-A62B-4982-A812-528D69220188@striderweb.com>
	<F596FD24-EF05-4686-9573-1BAEBA98EF01@daivmowbray.com>
Message-ID: <3F69E846-5B6F-44A2-8C1F-606889403FDD@daivmowbray.com>


Hah! thanx world;-)

I've just come across this:
<http://wpengineer.com/wplize-a-class-for-options-in-wordpress/>

I'll have a look and see if it streams/simplifies options for me.

Frank at wpengineer.com has a ton of info on the 2.7 for anyone  
interested.



On Nov 8, 2008, at 5:22 PM, Daiv Mowbray wrote:

> re this thread: I have resolved my options issues.
> my last typo was : including id but not name in the hidden input.
> <input type="hidden" name="action" id="action" value="update" />


----------
Daiv Mowbray
daiv@daivmowbray.com
----------


From wp-hackers at striderweb.com  Sat Nov  8 19:03:28 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat Nov  8 19:03:56 2008
Subject: [wp-hackers] My Admin Footer plugin credits fails
In-Reply-To: <13A3CA42-2504-45E5-9FB9-B2F61509FCFB@daivmowbray.com>
References: <13A3CA42-2504-45E5-9FB9-B2F61509FCFB@daivmowbray.com>
Message-ID: <F63EF7E7-D9D4-4ECB-B85F-ED2A3243B881@striderweb.com>

Try putting this bit:

	//this should print plugin info into admin footer
	add_action('in_admin_footer', 'plugin_admin_footer', 11 );

...inside the my_options_ui() function.  Stick it at the very end  
before the closing "}".

Also, I suggest a priority of 9 rather than 11.  Unless your footer  
info is appearing on all admin pages (rarely recommended) in which  
case 11 is indeed better.

Stephen

On Nov 8, 2008, at 10:36 AM, Daiv Mowbray wrote:

> Following the suggestion of Stephen Rider,
> I am trying to add plugin credits into the plugin options admin page.
> Using the following code, my footer is not modified. (no plugin info  
> printed.)
>
> Any suggestions welcome , and thanx.
>
> function setup_optionspage() {
> 	if( function_exists('add_options_page') ) {
> 		add_options_page(__('My Menu'),__('My Menu'), 8, 'my-menu', array(& 
> $this, 'my_options_ui'));
> 	}
> 	//this should print plugin info into admin footer
> 	add_action('in_admin_footer', 'plugin_admin_footer', 11 );
> }
> function plugin_admin_footer() {
> 	$plugin_data = get_plugin_data( __FILE__ );
> 	printf('%1$s plugin | Version %2$s | by %3$s<br />',  
> $plugin_data['Title'], $plugin_data['Version'],  
> $plugin_data['Author']);
> }

From krustyruffle at rustykruffle.com  Sat Nov  8 20:18:28 2008
From: krustyruffle at rustykruffle.com (Krusty Ruffle)
Date: Sat Nov  8 20:18:37 2008
Subject: [wp-hackers] questions about PHPdoc and plugins
Message-ID: <93c3fbd10811081218o269a4ccbna1c6927177870d38@mail.gmail.com>

I'm trying to wrap my head around PHPdoc, specifically what I need to use to
document a plugin. I've read the documentation in the codex, but it seems to
be geared more toward actual WordPress files. I've read the pear
documentation that the codex links to. I've also looked at many plugins but
I've noticed that most are not using PHPdoc at all, and those that do have
limited blocks for some functions.

I think I may be obsessing about this too much and making it harder than it
is.

My main questions are:

1) Should I have an opening block for the plugin file itself, if so what
should it have in it?
2) Does anybody know of a plugin that is thoroughly documented with PHPdoc
that I can download and look at to see what it really looks like in there?

I can look at the core files to see what the Docblocks look like for
functions and such, but I'm still getting quite befuddled...

Thanks to anyone who can help me out with this or point me in the right
direction. :)
From frank at bueltge.de  Sun Nov  9 10:18:57 2008
From: frank at bueltge.de (Frank Bueltge)
Date: Sun Nov  9 10:19:05 2008
Subject: [wp-hackers] Hook add_feed - please help
Message-ID: <db047a770811090218p3514a834ub82489eb3c0dfece@mail.gmail.com>

I like add a feed to wordpress.
I have write a small function for generate the feed and the add my
fucntion via Hook

add_feed('mynotifier', 'my_feed');

after activate my plugin, i have the follow error-message under 2.7 beta2.

Warning: in_array() [function.in-array]: Wrong datatype for second
argument in D:\xampp\htdocs\wpbeta\wp-includes\rewrite.php on line 59
Call Stack
#	Time	Memory	Function	Location
1	0.0034	245104	{main}( )	..\plugins.php:0
2	0.0044	312272	require_once(
'D:\xampp\htdocs\wpbeta\wp-admin\admin.php' )	..\plugins.php:10
3	0.0051	329560	require_once( 'D:\xampp\htdocs\wpbeta\wp-load.php'
)	..\admin.php:19
4	0.0057	342504	require_once( 'D:\xampp\htdocs\wpbeta\wp-config.php'
)	..\wp-load.php:27
5	0.0088	540928	require_once( 'D:\xampp\htdocs\wpbeta\wp-settings.php'
)	..\wp-config.php:47
6	0.5108	11844880	include_once(
'D:\xampp\htdocs\wpbeta\wp-content\plugins\draft-feed\draft-feed.php'
) ..\wpsettings.php:469
7	0.5109	11844912	add_feed( string(13), string(10) )	..\draft-feed.php:66
8	0.5109	11845184	in_array ( string(13), null )	..\rewrite.php:59
Dump $_SERVER

$_SERVER['REMOTE_ADDR'] =

string '127.0.0.1' (length=9)
$_SERVER['REQUEST_METHOD'] = string 'GET' (length=3)


Please can you help me?

Thanks a lot.
From if.website at gmail.com  Sun Nov  9 12:49:57 2008
From: if.website at gmail.com (Austin Matzko)
Date: Sun Nov  9 12:50:05 2008
Subject: [wp-hackers] wp_register_script with mootools or private
	javascript
In-Reply-To: <874CDC36-8D75-4C82-B524-D0591DBFF0D2@daivmowbray.com>
References: <92C3D64B-1DFE-44DD-B3CC-E8A019D5979C@daivmowbray.com>
	<8f93a7390811070035i61c147bevfd71d380c3665291@mail.gmail.com>
	<D6DBE3A9-83EF-44DD-805E-803051765CF6@daivmowbray.com>
	<8f93a7390811070505r41685cf0o93d19e3dce068239@mail.gmail.com>
	<874CDC36-8D75-4C82-B524-D0591DBFF0D2@daivmowbray.com>
Message-ID: <674b4a3b0811090449s4d836c26obcf581fa374737a0@mail.gmail.com>

On Sat, Nov 8, 2008 at 11:12 AM, Daiv Mowbray <daiv@daivmowbray.com> wrote:
> The following fails to load the javascript files completely.
> I suspect that I'm missing something here.

The problem is that you're giving 'moocore' a dependency that's a blank string.

>        wp_register_script('moocore',
> plugins_url('/myplugin/js/mootools-1.2-core.js'), array(''), '');

Instead, when there are no dependencies, just let the function handle
the defaults, like so:

wp_register_script('moocore', plugins_url('/myplugin/js/mootools-1.2-core.js'));
From otto at ottodestruct.com  Sun Nov  9 15:17:18 2008
From: otto at ottodestruct.com (Otto)
Date: Sun Nov  9 15:17:33 2008
Subject: [wp-hackers] wp_register_script with mootools or private
	javascript
In-Reply-To: <674b4a3b0811090449s4d836c26obcf581fa374737a0@mail.gmail.com>
References: <92C3D64B-1DFE-44DD-B3CC-E8A019D5979C@daivmowbray.com>
	<8f93a7390811070035i61c147bevfd71d380c3665291@mail.gmail.com>
	<D6DBE3A9-83EF-44DD-805E-803051765CF6@daivmowbray.com>
	<8f93a7390811070505r41685cf0o93d19e3dce068239@mail.gmail.com>
	<874CDC36-8D75-4C82-B524-D0591DBFF0D2@daivmowbray.com>
	<674b4a3b0811090449s4d836c26obcf581fa374737a0@mail.gmail.com>
Message-ID: <161617690811090717x344feec2u5f2afc4ee254f77e@mail.gmail.com>

Also, don't bother calling "register script". Just enqueue the thing.

wp_enqueue_script('moocore',
plugins_url('/myplugin/js/mootools-1.2-core.js'), array(), '1.2');
wp_enqueue_script('moomore',
plugins_url('/myplugin/js/mootools-1.2-more.js'), array('moocore'),
'1.2');


On Sun, Nov 9, 2008 at 6:49 AM, Austin Matzko <if.website@gmail.com> wrote:
> On Sat, Nov 8, 2008 at 11:12 AM, Daiv Mowbray <daiv@daivmowbray.com> wrote:
>> The following fails to load the javascript files completely.
>> I suspect that I'm missing something here.
>
> The problem is that you're giving 'moocore' a dependency that's a blank string.
>
>>        wp_register_script('moocore',
>> plugins_url('/myplugin/js/mootools-1.2-core.js'), array(''), '');
>
> Instead, when there are no dependencies, just let the function handle
> the defaults, like so:
>
> wp_register_script('moocore', plugins_url('/myplugin/js/mootools-1.2-core.js'));
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From frank at bueltge.de  Sun Nov  9 21:57:38 2008
From: frank at bueltge.de (Frank Bueltge)
Date: Sun Nov  9 21:57:49 2008
Subject: [wp-hackers] Strider Core (was Need help with: coding new Plugin
	options)
In-Reply-To: <3F69E846-5B6F-44A2-8C1F-606889403FDD@daivmowbray.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
	<30DC858F-A62B-4982-A812-528D69220188@striderweb.com>
	<F596FD24-EF05-4686-9573-1BAEBA98EF01@daivmowbray.com>
	<3F69E846-5B6F-44A2-8C1F-606889403FDD@daivmowbray.com>
Message-ID: <db047a770811091357m58a7b67vafbd85576cb89c81@mail.gmail.com>

Thanks for link to my class an my project wpenginner. Please read my
feed in the WP-Planet ;-)

I think it give many ideas of thsi form. another one is WPF- WordPress
Framework, is a ltlle bid older with many functions.
http://code.google.com/p/wordpress-plugin-framework/

I speak bad english and will lern more, i hope youn understand me.
I think, it is better for wordprss and the community, when we have a
better standard with more classes or a framework. Many ideas of plugin
have it hard to code. My friend have write a plugin to translate in
the backend all code, live. The plauin scna the code - this is realy
hard for the server. better was a constant for language-file or an
function to st all mo/po-files an the same pont in plugin. This is
only a small problem of may problems. Now have developers many ways
for write a plugin. This is great for flexibility, not great for a
peform code and website.
From daiv at daivmowbray.com  Sun Nov  9 22:53:58 2008
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Sun Nov  9 22:54:11 2008
Subject: [wp-hackers] My Admin Footer plugin credits fails [Resolved]
In-Reply-To: <F63EF7E7-D9D4-4ECB-B85F-ED2A3243B881@striderweb.com>
References: <13A3CA42-2504-45E5-9FB9-B2F61509FCFB@daivmowbray.com>
	<F63EF7E7-D9D4-4ECB-B85F-ED2A3243B881@striderweb.com>
Message-ID: <36E5FFB2-1F4B-40A5-8186-E65EF7901396@daivmowbray.com>


Thanx for replying,
I did in fact try your suggestion prior to asking,

I do have it working!
It turns I needed to put this:
add_action('in_admin_footer', array(&$this, 'my_admin_footer'), 9 );

rather than what I had:
add_action('in_admin_footer', 'plugin_admin_footer', 11 );

I guess this has to do with the functions being inside of a class.


On Nov 8, 2008, at 8:03 PM, Stephen Rider wrote:

> Try putting this bit:
>
> 	//this should print plugin info into admin footer
> 	add_action('in_admin_footer', 'plugin_admin_footer', 11 );
>
> ...inside the my_options_ui() function.  Stick it at the very end  
> before the closing "}".
>
> Also, I suggest a priority of 9 rather than 11.  Unless your footer  
> info is appearing on all admin pages (rarely recommended) in which  
> case 11 is indeed better.


----------
Daiv Mowbray
daiv@daivmowbray.com
----------


From daiv at daivmowbray.com  Sun Nov  9 23:10:52 2008
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Sun Nov  9 23:11:03 2008
Subject: [wp-hackers] Strider Core (was Need help with: coding new Plugin
	options)
In-Reply-To: <db047a770811091357m58a7b67vafbd85576cb89c81@mail.gmail.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
	<30DC858F-A62B-4982-A812-528D69220188@striderweb.com>
	<F596FD24-EF05-4686-9573-1BAEBA98EF01@daivmowbray.com>
	<3F69E846-5B6F-44A2-8C1F-606889403FDD@daivmowbray.com>
	<db047a770811091357m58a7b67vafbd85576cb89c81@mail.gmail.com>
Message-ID: <7AD035CE-F213-4B54-9DE0-C35C1C1901DA@daivmowbray.com>


Thank You Frank for all of your contributions.
WOW,
Just what I'd been wondering about these past few...years.
A plugin framework / template.

Your written english is great, keep it up.

Stephen, maybe you should join Frank with the WPF project.
maybe they could use some of your great ideas.



On Nov 9, 2008, at 10:57 PM, Frank Bueltge wrote:

> Thanks for link to my class an my project wpenginner. Please read my
> feed in the WP-Planet ;-)
>
> I think it give many ideas of thsi form. another one is WPF- WordPress
> Framework, is a ltlle bid older with many functions.
> http://code.google.com/p/wordpress-plugin-framework/


----------
Daiv Mowbray
daiv@daivmowbray.com
----------


From frank at bueltge.de  Mon Nov 10 10:18:52 2008
From: frank at bueltge.de (Frank Bueltge)
Date: Mon Nov 10 10:18:59 2008
Subject: [wp-hackers] Strider Core (was Need help with: coding new Plugin
	options)
In-Reply-To: <7AD035CE-F213-4B54-9DE0-C35C1C1901DA@daivmowbray.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
	<30DC858F-A62B-4982-A812-528D69220188@striderweb.com>
	<F596FD24-EF05-4686-9573-1BAEBA98EF01@daivmowbray.com>
	<3F69E846-5B6F-44A2-8C1F-606889403FDD@daivmowbray.com>
	<db047a770811091357m58a7b67vafbd85576cb89c81@mail.gmail.com>
	<7AD035CE-F213-4B54-9DE0-C35C1C1901DA@daivmowbray.com>
Message-ID: <db047a770811100218u53bc271rb8869ea6493c4a63@mail.gmail.com>

The WPF project is not from me, it is by Keith Huster.

I write only the docu in german language and love the idea.
I have only write the small class for update options WPlize.

Great, that you understand my bad english. Thanks
From thumbria at yahoo.it  Mon Nov 10 10:38:01 2008
From: thumbria at yahoo.it (Gabriele Tomassetti)
Date: Mon Nov 10 10:38:24 2008
Subject: [wp-hackers] howto delete a plugin from wordpress.org repository
Message-ID: <318302.30000.qm@web28503.mail.ukl.yahoo.com>

I have seen similar questions posted on wordpress.org forum, but no one have answered. So I try to ask there.

Is there any way to delete you own plugin from wordpress.org repository ?

Thanks, for you help.



      Unisciti alla community di Io fotografo e video, il nuovo corso di fotografia di Gazzetta dello sport:
http://www.flickr.com/groups/iofotografoevideo
From viper at viper007bond.com  Mon Nov 10 12:37:15 2008
From: viper at viper007bond.com (Viper007Bond)
Date: Mon Nov 10 12:37:27 2008
Subject: [wp-hackers] howto delete a plugin from wordpress.org repository
In-Reply-To: <318302.30000.qm@web28503.mail.ukl.yahoo.com>
References: <318302.30000.qm@web28503.mail.ukl.yahoo.com>
Message-ID: <8f93a7390811100437nbe9d9d8jcacdfea260a2bc05@mail.gmail.com>

Clear out your SVN?

On Mon, Nov 10, 2008 at 2:38 AM, Gabriele Tomassetti <thumbria@yahoo.it>wrote:

> I have seen similar questions posted on wordpress.org forum, but no one
> have answered. So I try to ask there.
>
> Is there any way to delete you own plugin from wordpress.org repository ?
>
> Thanks, for you help.
>
>
>
>      Unisciti alla community di Io fotografo e video, il nuovo corso di
> fotografia di Gazzetta dello sport:
> http://www.flickr.com/groups/iofotografoevideo
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From frank at bueltge.de  Mon Nov 10 12:40:53 2008
From: frank at bueltge.de (Frank Bueltge)
Date: Mon Nov 10 12:41:09 2008
Subject: [wp-hackers] howto delete a plugin from wordpress.org repository
In-Reply-To: <8f93a7390811100437nbe9d9d8jcacdfea260a2bc05@mail.gmail.com>
References: <318302.30000.qm@web28503.mail.ukl.yahoo.com>
	<8f93a7390811100437nbe9d9d8jcacdfea260a2bc05@mail.gmail.com>
Message-ID: <db047a770811100440t693c0872i2877743d3ab5fb8d@mail.gmail.com>

and how it is possible to update a plugin, when the first author not
update and i speaked with him?
I wirte and updat the plugin Text Control.

many people use this plugin and i update this plugin after WP-verison 2.1.
I have speak with Jeff Minard, the author of the plugin. He has not
the passowrd vor svn, have lost this.

Please give at a chance for update in SVN?


Liebe Gr?sse
Frank
______________________________
Mein Buch: WordPress - Weblogs einrichten und administrieren | ISBN
978-3-937514-33-8

bueltge.de
kvfl.com



On Mon, Nov 10, 2008 at 1:37 PM, Viper007Bond <viper@viper007bond.com> wrote:
> Clear out your SVN?
>
> On Mon, Nov 10, 2008 at 2:38 AM, Gabriele Tomassetti <thumbria@yahoo.it>wrote:
>
>> I have seen similar questions posted on wordpress.org forum, but no one
>> have answered. So I try to ask there.
>>
>> Is there any way to delete you own plugin from wordpress.org repository ?
>>
>> Thanks, for you help.
>>
>>
>>
>>      Unisciti alla community di Io fotografo e video, il nuovo corso di
>> fotografia di Gazzetta dello sport:
>> http://www.flickr.com/groups/iofotografoevideo
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From peter.westwood at ftwr.co.uk  Mon Nov 10 13:03:19 2008
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon Nov 10 13:03:29 2008
Subject: [wp-hackers] howto delete a plugin from wordpress.org repository
In-Reply-To: <db047a770811100440t693c0872i2877743d3ab5fb8d@mail.gmail.com>
References: <318302.30000.qm@web28503.mail.ukl.yahoo.com>
	<8f93a7390811100437nbe9d9d8jcacdfea260a2bc05@mail.gmail.com>
	<db047a770811100440t693c0872i2877743d3ab5fb8d@mail.gmail.com>
Message-ID: <07ca4cc9478e509468ff484a43960ae3@imap.ftwr.co.uk>




On Mon, 10 Nov 2008 13:40:53 +0100, "Frank Bueltge" <frank@bueltge.de>
wrote:
> and how it is possible to update a plugin, when the first author not
> update and i speaked with him?
> I wirte and updat the plugin Text Control.
> 
> many people use this plugin and i update this plugin after WP-verison
2.1.
> I have speak with Jeff Minard, the author of the plugin. He has not
> the passowrd vor svn, have lost this.
> 

He needs to log in to the extend plugins section of WordPress.org using
password recovery if necessary.

He can then add you as a commiter through the interface there.

westi

From thumbria at yahoo.it  Mon Nov 10 13:06:58 2008
From: thumbria at yahoo.it (Gabriele Tomassetti)
Date: Mon Nov 10 13:07:15 2008
Subject: [wp-hackers] howto delete a plugin from wordpress.org repository
References: <318302.30000.qm@web28503.mail.ukl.yahoo.com>
	<8f93a7390811100437nbe9d9d8jcacdfea260a2bc05@mail.gmail.com>
Message-ID: <970908.46848.qm@web28503.mail.ukl.yahoo.com>

I don't think it would work, exactly because it's a SVN. It exists to have multiple versions of the same software, isn't it ?
Theoretically it would only add another version.

Furthermore, if it worked it wouldn't delete the project on wordpress.org.




________________________________
Da: Viper007Bond <viper@viper007bond.com>
A: wp-hackers@lists.automattic.com
Inviato: Luned? 10 novembre 2008, 13:37:15
Oggetto: Re: [wp-hackers] howto delete a plugin from wordpress.org repository

Clear out your SVN?

-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



      Unisciti alla community di Io fotografo e video, il nuovo corso di fotografia di Gazzetta dello sport:
http://www.flickr.com/groups/iofotografoevideo
From frank at bueltge.de  Mon Nov 10 13:12:23 2008
From: frank at bueltge.de (Frank Bueltge)
Date: Mon Nov 10 13:12:36 2008
Subject: [wp-hackers] howto delete a plugin from wordpress.org repository
In-Reply-To: <07ca4cc9478e509468ff484a43960ae3@imap.ftwr.co.uk>
References: <318302.30000.qm@web28503.mail.ukl.yahoo.com>
	<8f93a7390811100437nbe9d9d8jcacdfea260a2bc05@mail.gmail.com>
	<db047a770811100440t693c0872i2877743d3ab5fb8d@mail.gmail.com>
	<07ca4cc9478e509468ff484a43960ae3@imap.ftwr.co.uk>
Message-ID: <db047a770811100512o46dd6139q4ea032115858960d@mail.gmail.com>

> He needs to log in to the extend plugins section of WordPress.org using
> password recovery if necessary.
>
> He can then add you as a commiter through the interface there.
>
> westi
>

That's is not posible, the Autor have lost his login-data and write
not on the plugin. Give it a other chance to become a login to this
folder on the svn?
From rboatright at gmail.com  Mon Nov 10 13:23:34 2008
From: rboatright at gmail.com (Rick Boatright)
Date: Mon Nov 10 13:23:45 2008
Subject: [wp-hackers] howto delete a plugin from wordpress.org repository
In-Reply-To: <db047a770811100512o46dd6139q4ea032115858960d@mail.gmail.com>
References: <318302.30000.qm@web28503.mail.ukl.yahoo.com>
	<8f93a7390811100437nbe9d9d8jcacdfea260a2bc05@mail.gmail.com>
	<db047a770811100440t693c0872i2877743d3ab5fb8d@mail.gmail.com>
	<07ca4cc9478e509468ff484a43960ae3@imap.ftwr.co.uk>
	<db047a770811100512o46dd6139q4ea032115858960d@mail.gmail.com>
Message-ID: <d269121b0811100523m29662711y17b1237566d1e30f@mail.gmail.com>

If the author is willing, he can go through password recovery, get his
password back and make YOU a commiter for the SVN.
If he is unwilling to do that, FORK the plugin, create a new plugin "Text
Control 2" and explain what the differences are???

On Mon, Nov 10, 2008 at 7:12 AM, Frank Bueltge <frank@bueltge.de> wrote:

> > He needs to log in to the extend plugins section of WordPress.org using
> > password recovery if necessary.
> >
> > He can then add you as a commiter through the interface there.
> >
> > westi
> >
>
> That's is not posible, the Autor have lost his login-data and write
> not on the plugin. Give it a other chance to become a login to this
> folder on the svn?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From frank at bueltge.de  Mon Nov 10 13:31:47 2008
From: frank at bueltge.de (Frank Bueltge)
Date: Mon Nov 10 13:32:02 2008
Subject: [wp-hackers] howto delete a plugin from wordpress.org repository
In-Reply-To: <d269121b0811100523m29662711y17b1237566d1e30f@mail.gmail.com>
References: <318302.30000.qm@web28503.mail.ukl.yahoo.com>
	<8f93a7390811100437nbe9d9d8jcacdfea260a2bc05@mail.gmail.com>
	<db047a770811100440t693c0872i2877743d3ab5fb8d@mail.gmail.com>
	<07ca4cc9478e509468ff484a43960ae3@imap.ftwr.co.uk>
	<db047a770811100512o46dd6139q4ea032115858960d@mail.gmail.com>
	<d269121b0811100523m29662711y17b1237566d1e30f@mail.gmail.com>
Message-ID: <db047a770811100531u31d6f09eqd116bfe0cb9f5dd9@mail.gmail.com>

Thanks - i write the author another mail.
I dont like fork the plugin and think, a ..2 is not the righly way.

Liebe Gr?sse
Frank
______________________________
Mein Buch: WordPress - Weblogs einrichten und administrieren | ISBN
978-3-937514-33-8

bueltge.de
kvfl.com



On Mon, Nov 10, 2008 at 2:23 PM, Rick Boatright <rboatright@gmail.com> wrote:
> If the author is willing, he can go through password recovery, get his
> password back and make YOU a commiter for the SVN.
> If he is unwilling to do that, FORK the plugin, create a new plugin "Text
> Control 2" and explain what the differences are???
>
> On Mon, Nov 10, 2008 at 7:12 AM, Frank Bueltge <frank@bueltge.de> wrote:
>
>> > He needs to log in to the extend plugins section of WordPress.org using
>> > password recovery if necessary.
>> >
>> > He can then add you as a commiter through the interface there.
>> >
>> > westi
>> >
>>
>> That's is not posible, the Autor have lost his login-data and write
>> not on the plugin. Give it a other chance to become a login to this
>> folder on the svn?
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From dino at duechiacchiere.it  Mon Nov 10 15:10:34 2008
From: dino at duechiacchiere.it (Dino Termini)
Date: Mon Nov 10 15:10:54 2008
Subject: [wp-hackers] Customizing TinyMCE in 2.7
In-Reply-To: <F596FD24-EF05-4686-9573-1BAEBA98EF01@daivmowbray.com>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>	<op.uj8mrbcik6w4mc@dd32.no-ip.com>	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>	<30DC858F-A62B-4982-A812-528D69220188@striderweb.com>
	<F596FD24-EF05-4686-9573-1BAEBA98EF01@daivmowbray.com>
Message-ID: <49184EEA.6050600@duechiacchiere.it>

Hello everybody;

I am testing Wordpress 2.7 on my weblog. Since I?m obsessed with 
accessibility, I made my website as much accessible as possible. In 
order to write accessible content with Wordpress (up to 2.6) I tweaked 
TinyMCE adding the xhtmlxtras plugin to it. Now with WP 2.7 I'm not able 
to find the file tiny_mce_config.php anymore. I wrote Viper a private 
message about this, but he said the only solution is to use hooks. Well, 
I'm not really kean on writing a plugin. I know editing core files is 
"evil" but it saves much more computing resources than a plugin :)

So the question is: where did you guys move tiny_mce_config.php? :)

Thanks,
dino.
From shane at bugssite.org  Mon Nov 10 15:25:48 2008
From: shane at bugssite.org (Shane A. Froebel)
Date: Mon Nov 10 15:26:05 2008
Subject: [wp-hackers] Customizing TinyMCE in 2.7
In-Reply-To: <49184EEA.6050600@duechiacchiere.it>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
	<30DC858F-A62B-4982-A812-528D69220188@striderweb.com>
	<F596FD24-EF05-4686-9573-1BAEBA98EF01@daivmowbray.com>
	<49184EEA.6050600@duechiacchiere.it>
Message-ID: <4918527C.5000703@bugssite.org>

Dino,

I think hooks are the way to go since they can be placed in your 
function.php or a plugin you write just for your site. That way it won't 
be overwritten during upgrades and such.

Your Friend,
Shane

Dino Termini wrote:
> Hello everybody;
>
> I am testing Wordpress 2.7 on my weblog. Since I?m obsessed with 
> accessibility, I made my website as much accessible as possible. In 
> order to write accessible content with Wordpress (up to 2.6) I tweaked 
> TinyMCE adding the xhtmlxtras plugin to it. Now with WP 2.7 I'm not 
> able to find the file tiny_mce_config.php anymore. I wrote Viper a 
> private message about this, but he said the only solution is to use 
> hooks. Well, I'm not really kean on writing a plugin. I know editing 
> core files is "evil" but it saves much more computing resources than a 
> plugin :)
>
> So the question is: where did you guys move tiny_mce_config.php? :)
>
> Thanks,
> dino.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dino at duechiacchiere.it  Mon Nov 10 16:03:55 2008
From: dino at duechiacchiere.it (Dino Termini)
Date: Mon Nov 10 16:04:16 2008
Subject: [wp-hackers] Customizing TinyMCE in 2.7
In-Reply-To: <4918527C.5000703@bugssite.org>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>	<op.uj8mrbcik6w4mc@dd32.no-ip.com>	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>	<30DC858F-A62B-4982-A812-528D69220188@striderweb.com>	<F596FD24-EF05-4686-9573-1BAEBA98EF01@daivmowbray.com>	<49184EEA.6050600@duechiacchiere.it>
	<4918527C.5000703@bugssite.org>
Message-ID: <49185B6B.9030702@duechiacchiere.it>

Shane A. Froebel wrote:
> Dino,
>
> I think hooks are the way to go since they can be placed in your 
> function.php or a plugin you write just for your site. That way it 
> won't be overwritten during upgrades and such.
>
> Your Friend,
> Shane 

Thanks Shane, ok... I'll go for a plugin. There is one which does 
already what I want: TinyMCE Advanced, very cool and sleek ;)

d.
From jess at funroe.net  Mon Nov 10 16:04:44 2008
From: jess at funroe.net (Jess Planck)
Date: Mon Nov 10 16:05:00 2008
Subject: [wp-hackers] Customizing TinyMCE in 2.7
In-Reply-To: <4918527C.5000703@bugssite.org>
References: <60C307C3-852B-469C-9974-DA4EDA97BD23@daivmowbray.com>
	<674b4a3b0811050428v31f8f2b7n304f3f7d2475940b@mail.gmail.com>
	<A97BD313-C254-4369-B786-A44F2361C150@daivmowbray.com>
	<ae81acd10811061254l5381af49wa9363eaf5acb00c1@mail.gmail.com>
	<161617690811061311s4564f29icdde41c602468510@mail.gmail.com>
	<59e7f3130811061343u65621c53n4ed4fee904734268@mail.gmail.com>
	<161617690811061359o134734e2t22454d6dfb62c258@mail.gmail.com>
	<ae81acd10811062305u38fe9379wa0521c3f6a1e2aec@mail.gmail.com>
	<op.uj8mrbcik6w4mc@dd32.no-ip.com>
	<ae81acd10811062358k39ab1cfas5dd6840197ff7bb5@mail.gmail.com>
	<9DB6459A-6C1B-4EC6-BDE1-E8A2426DC8B7@daivmowbray.com>
	<30DC858F-A62B-4982-A812-528D69220188@striderweb.com>
	<F596FD24-EF05-4686-9573-1BAEBA98EF01@daivmowbray.com>
	<49184EEA.6050600@duechiacchiere.it>
	<4918527C.5000703@bugssite.org>
Message-ID: <4DFB5E4B-0718-43C0-9F8F-06A955AA9943@funroe.net>

Yea, definitely use the hooks. They were all moved to post.php into a  
wp_tiny_mce function making the Javascript inline. From what I can  
tell there were several reasons from bug fixes and the need to make a  
stripped down version of the editor. The important hooks are there and  
haven't really changed that much.

There is a nice big tiny_mce_before_init ( and teeny_mce_before_init )  
filter that caries an array of all the TinyMCE init options.  There is  
also a mce_external_plugins  filter for TinyMCE plugins that cover  
adding the JS necessary for external plugins. Andrew Ozz set this up  
pretty nicely, so a lot of the heavy lifting is done by WordPress.

On Nov 10, 2008, at 9:25 AM, Shane A. Froebel wrote:

> I think hooks are the way to go since they can be placed in your  
> function.php or a plugin you write just for your site. That way it  
> won't be overwritten during upgrades and such.

From ade at studiograsshopper.ch  Mon Nov 10 19:21:56 2008
From: ade at studiograsshopper.ch (ade)
Date: Mon Nov 10 19:22:15 2008
Subject: [wp-hackers] Accessing jQuery in Core for a plugin
Message-ID: <1226344916-5ed0a6f568d0dec152f719105d8257cb@studiograsshopper.ch>

Hi all,
 
I'm writing a plugin around a jQuery script and I'm trying to understand how best to access jQuery which, if I understand correctly, is included in the Wordpress core files.
 
My question is this: in my plugin, how do I register my js script to use the core jQuery? Am I right in thinking I use wp_register_script within an init function? Or do I use wp_enqueue_script? And if I use the latter, will this prevent jQuery being loaded twice if it is already called by another installed plugin? Yes, I'm confused. :-)
 
If there isn't a quick and easy answer, a link to any articles out there would be much appreciated. 
 
Thanks!
 
Ade.
From otto at ottodestruct.com  Mon Nov 10 20:31:18 2008
From: otto at ottodestruct.com (Otto)
Date: Mon Nov 10 20:31:31 2008
Subject: [wp-hackers] Accessing jQuery in Core for a plugin
In-Reply-To: <1226344916-5ed0a6f568d0dec152f719105d8257cb@studiograsshopper.ch>
References: <1226344916-5ed0a6f568d0dec152f719105d8257cb@studiograsshopper.ch>
Message-ID: <161617690811101231k3103beb0od85b5a92e068637b@mail.gmail.com>

wp_enqueue_script('jquery');

It's just that simple. You need to do it before wp_head though.
Preferably on the init action hook.

Alternatively, if your own JS depends on jquery, then you can enqueue
your own script with a dependancy on jquery:
wp_enqueue_script('newscript', plugins_url('yourplugin/newscript.js',
array('jquery'), '1.0' );

See: http://codex.wordpress.org/Function_Reference/wp_enqueue_script



On Mon, Nov 10, 2008 at 1:21 PM, ade <ade@studiograsshopper.ch> wrote:
> Hi all,
>
> I'm writing a plugin around a jQuery script and I'm trying to understand how best to access jQuery which, if I understand correctly, is included in the Wordpress core files.
>
> My question is this: in my plugin, how do I register my js script to use the core jQuery? Am I right in thinking I use wp_register_script within an init function? Or do I use wp_enqueue_script? And if I use the latter, will this prevent jQuery being loaded twice if it is already called by another installed plugin? Yes, I'm confused. :-)
>
> If there isn't a quick and easy answer, a link to any articles out there would be much appreciated.
>
> Thanks!
>
> Ade.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ade at studiograsshopper.ch  Mon Nov 10 20:57:25 2008
From: ade at studiograsshopper.ch (ade)
Date: Mon Nov 10 20:57:45 2008
Subject: [wp-hackers] Accessing jQuery in Core for a plugin
Message-ID: <1226350645-c7dfdeabde5977b6c715b8ad7a5ec37c@studiograsshopper.ch>


Otto,

That's perfect. Thanks! :-)

Ade.

----- Original Message ----- 
From: "Otto" <otto@ottodestruct.com>
To: <wp-hackers@lists.automattic.com>
Sent: Monday, November 10, 2008 9:31 PM
Subject: Re: [wp-hackers] Accessing jQuery in Core for a plugin


> wp_enqueue_script('jquery');
> 
> It's just that simple. You need to do it before wp_head though.
> Preferably on the init action hook.
> 
> Alternatively, if your own JS depends on jquery, then you can enqueue
> your own script with a dependancy on jquery:
> wp_enqueue_script('newscript', plugins_url('yourplugin/newscript.js',
> array('jquery'), '1.0' );
> 
> See: http://codex.wordpress.org/Function_Reference/wp_enqueue_script
> 

From speedboxer at gmail.com  Tue Nov 11 02:15:52 2008
From: speedboxer at gmail.com (Matt)
Date: Tue Nov 11 02:16:06 2008
Subject: [wp-hackers] Other WordPress News Dashboard Widget
Message-ID: <b88434820811101815v447e03cdv95909858f601d98c@mail.gmail.com>

When the WordPress Planet feed is used in the Other WordPress News
dashboard widget, the link title ends up being similar to:

"h3New Plugins/h3 pa
href=http://www.noktahhitam.com/wordpress-plugin-for-negaraku.htmlNegaraku/a/p
pAdds Negaraku button to your WordPress blog posts - fully
customizable./p pa
href=http://www.ejknapp.com/OnlyOnSunday/wordpress-plugins/Birthday
List/a/p pEnter the birthdays you want to remember and it will warn
you 7 days in advance./p pa href=http://pagefli"

However with other feeds, it works fine (like in the Development Blog
widget). This seems to be caused by WP Planet's feed's descriptions
having < and > escaped. It should be dealt with html_entity_decode(),
however it seems $item['description'] ends up without the &lt;'s and
&gt;'s. Which is a little strange...

Can anyone shed some light on this issue?

--
Matt (http://mattsblog.ca/)
From jason at intraffic.net  Tue Nov 11 05:50:06 2008
From: jason at intraffic.net (Jason Webster)
Date: Tue Nov 11 05:50:17 2008
Subject: [wp-hackers] Accessing jQuery in Core for a plugin
In-Reply-To: <1226350645-c7dfdeabde5977b6c715b8ad7a5ec37c@studiograsshopper.ch>
References: <1226350645-c7dfdeabde5977b6c715b8ad7a5ec37c@studiograsshopper.ch>
Message-ID: <49191D0E.8040002@intraffic.net>

It is worthwhile to note that only WP > 2.6 includes jQuery 1.2.6+. For 
example, 2.5 shipped with 1.2.3, so if backwards compatibility is a 
priority of yours, make sure not to utilize any > 1.2.3 specific 
features. The only big change to note was that the dimensions plugin 
(which was included with WP < 2.6, so you'd have to enqueue it 
separately) was integrated with the jQuery core.

ade wrote:
> Otto,
>
> That's perfect. Thanks! :-)
>
> Ade.
>
> ----- Original Message ----- 
> From: "Otto" <otto@ottodestruct.com>
> To: <wp-hackers@lists.automattic.com>
> Sent: Monday, November 10, 2008 9:31 PM
> Subject: Re: [wp-hackers] Accessing jQuery in Core for a plugin
>
>
>   
>> wp_enqueue_script('jquery');
>>
>> It's just that simple. You need to do it before wp_head though.
>> Preferably on the init action hook.
>>
>> Alternatively, if your own JS depends on jquery, then you can enqueue
>> your own script with a dependancy on jquery:
>> wp_enqueue_script('newscript', plugins_url('yourplugin/newscript.js',
>> array('jquery'), '1.0' );
>>
>> See: http://codex.wordpress.org/Function_Reference/wp_enqueue_script
>>
>>     
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From ade at studiograsshopper.ch  Tue Nov 11 12:55:13 2008
From: ade at studiograsshopper.ch (ade)
Date: Tue Nov 11 12:55:26 2008
Subject: [wp-hackers] Accessing jQuery in Core for a plugin
Message-ID: <1226408113-9e9b8c9c32fd0640e374b448c80fa7b9@studiograsshopper.ch>

Jason, 

Thank for the tip! 

To all,

Some more questions, if I may: 

1. If I want to load two js files that need jQuery, do I simply call wp_enqueue_script twice? 

2. In terms of action hooks, should I be using wp_print_scripts? It seems to me that using 'init' or 'template_redirect' loads the scripts before the HEAD html tag. (testing on 2.7 beta2) and (as I've read elsewhere) wp_head is too late.

3. The javascript files generate a gallery in a page template. What is the cleanest way of only loading these scripts on pages that contain the gallery - ie avoid loading the scripts on every page? The gallery will be triggered by a do_action call in the template page.

Again, thanks in advance.

Ade.  

 

> Jason Webster wrote on 
> Tue Nov 11 05:50:06 GMT 2008 
>
> It is worthwhile to note that only WP
> 2.6 includes jQuery 1.2.6+. For
> example, 2.5 shipped with 1.2.3, so if backwards compatibility is a
> priority of yours, make sure not to utilize any > 1.2.3 specific
> features. The only big change to note was that the dimensions plugin
> (which was included with WP < 2.6, so you'd have to enqueue it > separately) was integrated with the jQuery core. 


From viper at viper007bond.com  Tue Nov 11 14:09:25 2008
From: viper at viper007bond.com (Viper007Bond)
Date: Tue Nov 11 14:09:36 2008
Subject: [wp-hackers] Accessing jQuery in Core for a plugin
In-Reply-To: <1226408113-9e9b8c9c32fd0640e374b448c80fa7b9@studiograsshopper.ch>
References: <1226408113-9e9b8c9c32fd0640e374b448c80fa7b9@studiograsshopper.ch>
Message-ID: <8f93a7390811110609x2ebc0ffeyb22dd94d4395d549@mail.gmail.com>

http://codex.wordpress.org/Function_Reference/wp_enqueue_script

1. Once per new script.

2. WordPress will handle outputting. Don't do anything with the head, etc.

3. Call the wp_enqueue_script() at the very, very top of the page template.

On Tue, Nov 11, 2008 at 4:55 AM, ade <ade@studiograsshopper.ch> wrote:

> Jason,
>
> Thank for the tip!
>
> To all,
>
> Some more questions, if I may:
>
> 1. If I want to load two js files that need jQuery, do I simply call
> wp_enqueue_script twice?
>
> 2. In terms of action hooks, should I be using wp_print_scripts? It seems
> to me that using 'init' or 'template_redirect' loads the scripts before the
> HEAD html tag. (testing on 2.7 beta2) and (as I've read elsewhere) wp_head
> is too late.
>
> 3. The javascript files generate a gallery in a page template. What is the
> cleanest way of only loading these scripts on pages that contain the gallery
> - ie avoid loading the scripts on every page? The gallery will be triggered
> by a do_action call in the template page.
>
> Again, thanks in advance.
>
> Ade.
>
>
>
> > Jason Webster wrote on
> > Tue Nov 11 05:50:06 GMT 2008
> >
> > It is worthwhile to note that only WP
> > 2.6 includes jQuery 1.2.6+. For
> > example, 2.5 shipped with 1.2.3, so if backwards compatibility is a
> > priority of yours, make sure not to utilize any > 1.2.3 specific
> > features. The only big change to note was that the dimensions plugin
> > (which was included with WP < 2.6, so you'd have to enqueue it >
> separately) was integrated with the jQuery core.
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From glenn at glennansley.com  Tue Nov 11 15:20:05 2008
From: glenn at glennansley.com (Glenn Ansley)
Date: Tue Nov 11 15:30:18 2008
Subject: [wp-hackers] My plugin is losing authentication on one page.
Message-ID: <3283f0830811110720h2a38eeb1y874c8fbcdf7e441d@mail.gmail.com>

Hi,
I'm in the middle of developing a plugin and I've run into an abnormal
situation I can't seem to resolve.
It seems that one of my functions somewhere is crippling the user
authentication system somehow... but only temporarily.

- I have a page-template that handles several stages of a form. I'm
using POST for the method and the action is returning it to the same
script.
- You have to be logged in to view the script.
- When progressing from stage one of the form to stage two, I somehow
lose my authentication
  -- Form no longer becomes visible (have to be logged in to see it)
  -- "Log Out" links switch over to "Log in".
- Yet, if I manually type /wp-admin into the nav bar (or navigate to
anywhere else on site for that matter) I have access as the logged in
user ( including the opening stage of my form ).

So it would appear that my plugin is temporarily killing the
authentication for that one page.
The interesting thing is that this is happening before
template-redirect filter is fired off, because I hooked a function to
that to print the user-id and it's not present at template-redirect.

Any obvious functions , filters , hooks I might be crippling?
I am using the following hooks in my plugin: admin_print_scripts- ,
admin_head , wp_head , wp-enqueue_script , wp_print_scripts , and
admin_menu. I am also using register_activation_hook function

Any ideas? I continue to look.
From glenn at glennansley.com  Tue Nov 11 15:43:02 2008
From: glenn at glennansley.com (Glenn Ansley)
Date: Tue Nov 11 15:43:13 2008
Subject: [wp-hackers] Re: My plugin is losing authentication on one page.
In-Reply-To: <3283f0830811110720h2a38eeb1y874c8fbcdf7e441d@mail.gmail.com>
References: <3283f0830811110720h2a38eeb1y874c8fbcdf7e441d@mail.gmail.com>
Message-ID: <3283f0830811110743o7e039b85s57e40e50d59638c1@mail.gmail.com>

Okay,
Checking the cookie information, I've found that on the above
mentioned page I am missing the following cookies:
* wp_test_cookie
* wp_logged_in_

My plugin is not using any functions that read or set cookies. Any ideas?

On Tue, Nov 11, 2008 at 10:20 AM, Glenn Ansley <glenn@glennansley.com> wrote:
> Hi,
> I'm in the middle of developing a plugin and I've run into an abnormal
> situation I can't seem to resolve.
> It seems that one of my functions somewhere is crippling the user
> authentication system somehow... but only temporarily.
>
> - I have a page-template that handles several stages of a form. I'm
> using POST for the method and the action is returning it to the same
> script.
> - You have to be logged in to view the script.
> - When progressing from stage one of the form to stage two, I somehow
> lose my authentication
>  -- Form no longer becomes visible (have to be logged in to see it)
>  -- "Log Out" links switch over to "Log in".
> - Yet, if I manually type /wp-admin into the nav bar (or navigate to
> anywhere else on site for that matter) I have access as the logged in
> user ( including the opening stage of my form ).
>
> So it would appear that my plugin is temporarily killing the
> authentication for that one page.
> The interesting thing is that this is happening before
> template-redirect filter is fired off, because I hooked a function to
> that to print the user-id and it's not present at template-redirect.
>
> Any obvious functions , filters , hooks I might be crippling?
> I am using the following hooks in my plugin: admin_print_scripts- ,
> admin_head , wp_head , wp-enqueue_script , wp_print_scripts , and
> admin_menu. I am also using register_activation_hook function
>
> Any ideas? I continue to look.
>
From computerguru at neosmart.net  Tue Nov 11 19:41:42 2008
From: computerguru at neosmart.net (Mahmoud Al-Qudsi)
Date: Tue Nov 11 19:43:45 2008
Subject: [wp-hackers] Missing Comment Moderation Screen Functionality
Message-ID: <4681c7d40811111141m526d0e02ka2623bb0618c2813@mail.gmail.com>

Am I the only one that sorely misses the link to the original post on
the comment moderation page?
The links to edit the post, edit the comment are there - but the link
to the post itself is not.... it's a real productivity hinderance for
blogs with high comment traffic.

Just wondering....

-- 
Mahmoud Al-Qudsi
Director,
NeoSmart Technologies
From speedboxer at gmail.com  Tue Nov 11 20:18:22 2008
From: speedboxer at gmail.com (Matt)
Date: Tue Nov 11 20:18:34 2008
Subject: [wp-hackers] Missing Comment Moderation Screen Functionality
In-Reply-To: <4681c7d40811111141m526d0e02ka2623bb0618c2813@mail.gmail.com>
References: <4681c7d40811111141m526d0e02ka2623bb0618c2813@mail.gmail.com>
Message-ID: <b88434820811111218q55fdaa6andbc7d407b7bc365b@mail.gmail.com>

No, you're not the only one:

http://groups.google.com/group/wp-testers/browse_thread/thread/f44b98cc3a97109d/

On Tue, Nov 11, 2008 at 11:41 AM, Mahmoud Al-Qudsi
<computerguru@neosmart.net> wrote:
> Am I the only one that sorely misses the link to the original post on
> the comment moderation page?
> The links to edit the post, edit the comment are there - but the link
> to the post itself is not.... it's a real productivity hinderance for
> blogs with high comment traffic.
>
> Just wondering....
>
> --
> Mahmoud Al-Qudsi
> Director,
> NeoSmart Technologies
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (http://mattsblog.ca/)
From glenn at glennansley.com  Tue Nov 11 20:27:18 2008
From: glenn at glennansley.com (Glenn Ansley)
Date: Tue Nov 11 20:34:59 2008
Subject: [wp-hackers] Re: My plugin is losing authentication on one page.
In-Reply-To: <3283f0830811110743o7e039b85s57e40e50d59638c1@mail.gmail.com>
References: <3283f0830811110720h2a38eeb1y874c8fbcdf7e441d@mail.gmail.com>
	<3283f0830811110743o7e039b85s57e40e50d59638c1@mail.gmail.com>
Message-ID: <3283f0830811111227o2c391e3blcded723c63431178@mail.gmail.com>

I changed my form's post action from an absolute URL to a relative and it
works now. Is this best practice?
I guess there's a gap somewhere in my internal knowledge bank about how
cookies work with POST data... and I was hoping it was server related.

Anyway, I enjoyed the conversation with myself. I hope someone somewhere
benefits at some point.

On Tue, Nov 11, 2008 at 10:43 AM, Glenn Ansley <glenn@glennansley.com>wrote:

> Okay,
> Checking the cookie information, I've found that on the above
> mentioned page I am missing the following cookies:
> * wp_test_cookie
> * wp_logged_in_
>
> My plugin is not using any functions that read or set cookies. Any ideas?
>
> On Tue, Nov 11, 2008 at 10:20 AM, Glenn Ansley <glenn@glennansley.com>
> wrote:
> > Hi,
> > I'm in the middle of developing a plugin and I've run into an abnormal
> > situation I can't seem to resolve.
> > It seems that one of my functions somewhere is crippling the user
> > authentication system somehow... but only temporarily.
> >
> > - I have a page-template that handles several stages of a form. I'm
> > using POST for the method and the action is returning it to the same
> > script.
> > - You have to be logged in to view the script.
> > - When progressing from stage one of the form to stage two, I somehow
> > lose my authentication
> >  -- Form no longer becomes visible (have to be logged in to see it)
> >  -- "Log Out" links switch over to "Log in".
> > - Yet, if I manually type /wp-admin into the nav bar (or navigate to
> > anywhere else on site for that matter) I have access as the logged in
> > user ( including the opening stage of my form ).
> >
> > So it would appear that my plugin is temporarily killing the
> > authentication for that one page.
> > The interesting thing is that this is happening before
> > template-redirect filter is fired off, because I hooked a function to
> > that to print the user-id and it's not present at template-redirect.
> >
> > Any obvious functions , filters , hooks I might be crippling?
> > I am using the following hooks in my plugin: admin_print_scripts- ,
> > admin_head , wp_head , wp-enqueue_script , wp_print_scripts , and
> > admin_menu. I am also using register_activation_hook function
> >
> > Any ideas? I continue to look.
> >
>
From johnbillion+wp at gmail.com  Tue Nov 11 20:42:46 2008
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Tue Nov 11 20:42:58 2008
Subject: [wp-hackers] Re: My plugin is losing authentication on one page.
In-Reply-To: <3283f0830811111227o2c391e3blcded723c63431178@mail.gmail.com>
References: <3283f0830811110720h2a38eeb1y874c8fbcdf7e441d@mail.gmail.com>
	<3283f0830811110743o7e039b85s57e40e50d59638c1@mail.gmail.com>
	<3283f0830811111227o2c391e3blcded723c63431178@mail.gmail.com>
Message-ID: <1fa535a70811111242h787dcc59r8d7b93c129811224@mail.gmail.com>

Hey Glenn,

This is strange behaviour and might mean that you're not doing
something quite right in your plugin.

If you'd like to pastebin your plugin code and link to it here then
I'm sure someone will look over it and see if they can spot something
that you may have missed! :)

John.

On Tue, Nov 11, 2008 at 8:27 PM, Glenn Ansley <glenn@glennansley.com> wrote:
> I changed my form's post action from an absolute URL to a relative and it
> works now. Is this best practice?
> I guess there's a gap somewhere in my internal knowledge bank about how
> cookies work with POST data... and I was hoping it was server related.
>
> Anyway, I enjoyed the conversation with myself. I hope someone somewhere
> benefits at some point.
>
> On Tue, Nov 11, 2008 at 10:43 AM, Glenn Ansley <glenn@glennansley.com>wrote:
>
>> Okay,
>> Checking the cookie information, I've found that on the above
>> mentioned page I am missing the following cookies:
>> * wp_test_cookie
>> * wp_logged_in_
>>
>> My plugin is not using any functions that read or set cookies. Any ideas?
>>
>> On Tue, Nov 11, 2008 at 10:20 AM, Glenn Ansley <glenn@glennansley.com>
>> wrote:
>> > Hi,
>> > I'm in the middle of developing a plugin and I've run into an abnormal
>> > situation I can't seem to resolve.
>> > It seems that one of my functions somewhere is crippling the user
>> > authentication system somehow... but only temporarily.
>> >
>> > - I have a page-template that handles several stages of a form. I'm
>> > using POST for the method and the action is returning it to the same
>> > script.
>> > - You have to be logged in to view the script.
>> > - When progressing from stage one of the form to stage two, I somehow
>> > lose my authentication
>> >  -- Form no longer becomes visible (have to be logged in to see it)
>> >  -- "Log Out" links switch over to "Log in".
>> > - Yet, if I manually type /wp-admin into the nav bar (or navigate to
>> > anywhere else on site for that matter) I have access as the logged in
>> > user ( including the opening stage of my form ).
>> >
>> > So it would appear that my plugin is temporarily killing the
>> > authentication for that one page.
>> > The interesting thing is that this is happening before
>> > template-redirect filter is fired off, because I hooked a function to
>> > that to print the user-id and it's not present at template-redirect.
>> >
>> > Any obvious functions , filters , hooks I might be crippling?
>> > I am using the following hooks in my plugin: admin_print_scripts- ,
>> > admin_head , wp_head , wp-enqueue_script , wp_print_scripts , and
>> > admin_menu. I am also using register_activation_hook function
>> >
>> > Any ideas? I continue to look.
>> >
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ryan at boren.nu  Tue Nov 11 20:43:29 2008
From: ryan at boren.nu (Ryan Boren)
Date: Tue Nov 11 20:44:07 2008
Subject: [wp-hackers] Re: My plugin is losing authentication on one page.
In-Reply-To: <3283f0830811111227o2c391e3blcded723c63431178@mail.gmail.com>
References: <3283f0830811110720h2a38eeb1y874c8fbcdf7e441d@mail.gmail.com>
	<3283f0830811110743o7e039b85s57e40e50d59638c1@mail.gmail.com>
	<3283f0830811111227o2c391e3blcded723c63431178@mail.gmail.com>
Message-ID: <c8f37c930811111243l715a2f36w90ea4c66e157d0e2@mail.gmail.com>

On Tue, Nov 11, 2008 at 12:27 PM, Glenn Ansley <glenn@glennansley.com> wrote:
> I changed my form's post action from an absolute URL to a relative and it
> works now. Is this best practice?
> I guess there's a gap somewhere in my internal knowledge bank about how
> cookies work with POST data... and I was hoping it was server related.
>
> Anyway, I enjoyed the conversation with myself. I hope someone somewhere
> benefits at some point.

WP delivers auth cookies only to wp-admin and the plugins directory.
You can launder your POST requests through admin-post.php to make sure
they always have cookies set.
From xavier at borderie.net  Tue Nov 11 21:58:26 2008
From: xavier at borderie.net (Xavier Borderie)
Date: Tue Nov 11 21:58:38 2008
Subject: [wp-hackers] Dotclear-like install script
Message-ID: <9e4ae73e0811111358x3da8421bpeef3574e1ecfb02b@mail.gmail.com>

2.7's automatic upgrade tool is incredibly useful, and will save time
to all WP users.
But users will still have to install WP manually (or, for pre-2.7
users, upgrade manually, or using the WPAU upgrade), which brings them
back to the old world of overlong file transferts through FTP, for
almost 7 Mb and 700 files.
Now that WP has a real-deal upgrade tool with the adequate server
support, it would be cooler to go one step further: have user only
download/transfert a single PHP file, and let it do all the dirty
work. If we can do it for upgrades, would it be that hard to do for
installs?

Dotclear, a nifty and pretty advanced blog tool from France, does just
that: their 2.1 added automatic upgrade along with single-file install
- which makes for, as they write, "the most reliable and easy way to
install Dotclear 2".
http://dotclear.org/blog/post/2008/11/01/Release-of-Dotclear-2.1
http://dotclear.org/download
http://www.dotclear.net/blog/post/2008/10/19/auto-install
(explanation, in french)
http://66.102.9.104/translate_c?hl=en&sl=fr&tl=en&u=http://www.dotclear.net/blog/post/2008/10/19/auto-install
(google translation of above post)

Their dotclear2-loader.php file is a mere 12 Kb, less than 500 lines,
checks for many things... and is GPL :)
I'm not saying we should steal their hard work, but I think that after
2.7 auto upgrade, have auto-install in 2.8 would be another great
addition.



-- 
Xavier Borderie
From xavier at borderie.net  Tue Nov 11 22:05:13 2008
From: xavier at borderie.net (Xavier Borderie)
Date: Tue Nov 11 22:05:25 2008
Subject: [wp-hackers] Re: Dotclear-like install script
In-Reply-To: <9e4ae73e0811111358x3da8421bpeef3574e1ecfb02b@mail.gmail.com>
References: <9e4ae73e0811111358x3da8421bpeef3574e1ecfb02b@mail.gmail.com>
Message-ID: <9e4ae73e0811111405w49f9a14by737759d2ecd1ba3d@mail.gmail.com>

Created a ticket for this, with 2.9 milestone:
http://trac.wordpress.org/ticket/8162

-x.

2008/11/11 Xavier Borderie <xavier@borderie.net>:
> 2.7's automatic upgrade tool is incredibly useful, and will save time
> to all WP users.
> But users will still have to install WP manually (or, for pre-2.7
> users, upgrade manually, or using the WPAU upgrade), which brings them
> back to the old world of overlong file transferts through FTP, for
> almost 7 Mb and 700 files.
> Now that WP has a real-deal upgrade tool with the adequate server
> support, it would be cooler to go one step further: have user only
> download/transfert a single PHP file, and let it do all the dirty
> work. If we can do it for upgrades, would it be that hard to do for
> installs?
>
> Dotclear, a nifty and pretty advanced blog tool from France, does just
> that: their 2.1 added automatic upgrade along with single-file install
> - which makes for, as they write, "the most reliable and easy way to
> install Dotclear 2".
> http://dotclear.org/blog/post/2008/11/01/Release-of-Dotclear-2.1
> http://dotclear.org/download
> http://www.dotclear.net/blog/post/2008/10/19/auto-install
> (explanation, in french)
> http://66.102.9.104/translate_c?hl=en&sl=fr&tl=en&u=http://www.dotclear.net/blog/post/2008/10/19/auto-install
> (google translation of above post)
>
> Their dotclear2-loader.php file is a mere 12 Kb, less than 500 lines,
> checks for many things... and is GPL :)
> I'm not saying we should steal their hard work, but I think that after
> 2.7 auto upgrade, have auto-install in 2.8 would be another great
> addition.
>
>
>
> --
> Xavier Borderie
>



-- 
Xavier Borderie
From ade at studiograsshopper.ch  Tue Nov 11 22:54:01 2008
From: ade at studiograsshopper.ch (ade)
Date: Tue Nov 11 22:54:15 2008
Subject: [wp-hackers] Accessing jQuery in Core for a plugin
Message-ID: <1226444041-1657c04026a23cf2d1fe3586a2d0040c@studiograsshopper.ch>

Thanks Viper007Bond! :-)

> Viper007Bond wrote:
>
> http://codex.wordpress.org/Function_Reference/wp_enqueue_script
>
> 1. Once per new script.
>
> 2. WordPress will handle outputting. Don't do anything with the head, > etc.
>
> 3. Call the wp_enqueue_script() at the very, very top of the page template.
>
> On Tue, Nov 11, 2008 at 4:55 AM, ade <ade@studiograsshopper.ch> wrote:
>
> Jason,
>
> Thank for the tip!
>
> To all,
>
> Some more questions, if I may:
>
> 1. If I want to load two js files that need jQuery, do I simply call
> wp_enqueue_script twice?
>
> 2. In terms of action hooks, should I be using wp_print_scripts? It seems
> to me that using 'init' or 'template_redirect' loads the scripts before the
> HEAD html tag. (testing on 2.7 beta2) and (as I've read elsewhere) wp_head
> is too late.
>
> 3. The javascript files generate a gallery in a page template. What is the
> cleanest way of only loading these scripts on pages that contain the gallery
> - ie avoid loading the scripts on every page? The gallery will be triggered
> by a do_action call in the template page.
>
> Again, thanks in advance.
>
> Ade.

From computerguru at neosmart.net  Wed Nov 12 00:38:51 2008
From: computerguru at neosmart.net (Mahmoud Al-Qudsi)
Date: Wed Nov 12 00:40:42 2008
Subject: [wp-hackers] Missing Comment Moderation Screen Functionality
In-Reply-To: <b88434820811111218q55fdaa6andbc7d407b7bc365b@mail.gmail.com>
References: <4681c7d40811111141m526d0e02ka2623bb0618c2813@mail.gmail.com>
	<b88434820811111218q55fdaa6andbc7d407b7bc365b@mail.gmail.com>
Message-ID: <4681c7d40811111638p1b7db1demf7a7179bde8bf603@mail.gmail.com>

On Tue, Nov 11, 2008 at 10:18 PM, Matt <speedboxer@gmail.com> wrote:
> No, you're not the only one:
>
> http://groups.google.com/group/wp-testers/browse_thread/thread/f44b98cc3a97109d/


Thanks for the link. I did a quick Google Groups search but apparently
missed that thread. :)

-- 
Mahmoud Al-Qudsi
Director,
NeoSmart Technologies
From speedboxer at gmail.com  Wed Nov 12 00:48:46 2008
From: speedboxer at gmail.com (Matt)
Date: Wed Nov 12 00:49:00 2008
Subject: [wp-hackers] Missing Comment Moderation Screen Functionality
In-Reply-To: <4681c7d40811111638p1b7db1demf7a7179bde8bf603@mail.gmail.com>
References: <4681c7d40811111141m526d0e02ka2623bb0618c2813@mail.gmail.com>
	<b88434820811111218q55fdaa6andbc7d407b7bc365b@mail.gmail.com>
	<4681c7d40811111638p1b7db1demf7a7179bde8bf603@mail.gmail.com>
Message-ID: <b88434820811111648pf145fd7xc22850e8639cb433@mail.gmail.com>

A link was added in this commit:

http://trac.wordpress.org/changeset/9624

On Tue, Nov 11, 2008 at 4:38 PM, Mahmoud Al-Qudsi
<computerguru@neosmart.net> wrote:
> On Tue, Nov 11, 2008 at 10:18 PM, Matt <speedboxer@gmail.com> wrote:
>> No, you're not the only one:
>>
>> http://groups.google.com/group/wp-testers/browse_thread/thread/f44b98cc3a97109d/
>
>
> Thanks for the link. I did a quick Google Groups search but apparently
> missed that thread. :)
>
> --
> Mahmoud Al-Qudsi
> Director,
> NeoSmart Technologies
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (http://mattsblog.ca/)
From computerguru at neosmart.net  Wed Nov 12 06:40:10 2008
From: computerguru at neosmart.net (Mahmoud Al-Qudsi)
Date: Wed Nov 12 06:40:21 2008
Subject: [wp-hackers] Missing Comment Moderation Screen Functionality
In-Reply-To: <b88434820811111648pf145fd7xc22850e8639cb433@mail.gmail.com>
References: <4681c7d40811111141m526d0e02ka2623bb0618c2813@mail.gmail.com>
	<b88434820811111218q55fdaa6andbc7d407b7bc365b@mail.gmail.com>
	<4681c7d40811111638p1b7db1demf7a7179bde8bf603@mail.gmail.com>
	<b88434820811111648pf145fd7xc22850e8639cb433@mail.gmail.com>
Message-ID: <4681c7d40811112240s5b17261bn66d29e1b9f55774e@mail.gmail.com>

On Wed, Nov 12, 2008 at 2:48 AM, Matt <speedboxer@gmail.com> wrote:
> A link was added in this commit:
>
> http://trac.wordpress.org/changeset/9624

And in a later commit (9630), it was decided that all the
functionality of the admin center was unneeded, and the contents of
the edit-comments page were replaced with the text "screen:
edit-comments"

:P

Thanks, though!
From moi at kirsch.com.mx  Wed Nov 12 07:16:30 2008
From: moi at kirsch.com.mx (Moises Kirsch)
Date: Wed Nov 12 07:17:15 2008
Subject: [wp-hackers] Filter 2 categories with a plugin
Message-ID: <8247F030-1759-4DB3-B7E0-F5DD309D826E@kirsch.com.mx>

Hi,

I'm trying to create a plugin that will filter two categories...  
(there is one out there allready that does this but I don't like how  
it works because from my point of view it is not using some standard  
functions on wordpress).

According to this post by Ryan Boren

http://boren.nu/archives/2007/10/01/taxonomy-intersections-and-unions/

It should be very simple... but for some reason I can't make it work.  
Here is part of the code that I'm using:

	if($cat1 && $cat2){
		$wp->set_query_var('category__and', array($cat1, $cat2));	
	}

Am I using the set query var correctly?

Thats where it seams to fail right now... I can get the correct  
categories IDs (I'm working with permalinks). I know the if is working  
(I even hardcoded a few IDs to test it out).

The only part that I am not sure about is the set query part.

Im also posting the full code after this (ignore the comments in  
spanish).

Hopefully someone can help me fix this.

Thanks


<code>

<?php
/*
Plugin Name: Dual Cats by Moi
Plugin URI: http://moiblog.com/
Description: Filtra 2 categorias.
Author: Moises Kirsch
Version: 1.0
Author URI: http://moiblog.com/
*/


// Funcion condicional
function is_dual_cats(){
	global $is_dual_cats;
	return $is_dual_cats;
}


add_action('parse_request', 'dual_cats_query' );
function dual_cats_query(/* $cat1 = 16, $cat2 = 25 */){
	global $wp, $is_dual_cats, $wp_query;
			
	$cat1 = get_category_by_slug($wp->query_vars[cat1]);
	$cat2 = get_category_by_slug($wp->query_vars[cat2]);

	$cat1 = $cat1->term_id;
	$cat2 = $cat2->term_id;

	if($cat1 && $cat2){
		$is_dual_cats = true;
		//$wp_query->set('category__and', array($cat1, $cat2));
		$wp->set_query_var('category__and', array($cat1, $cat2));	
	}
	else{
		$is_dual_cats = false;
	}
}


// Reinciar las reglas del URL Rewrite
add_action('init', 'dual_cats_flush_rewrite_rules');
function dual_cats_flush_rewrite_rules()
{
	global $wp_rewrite;
	$wp_rewrite->flush_rules();
}

// Reglas del URL Rewrite
add_action('generate_rewrite_rules', 'dual_cats_add_rewrite_rules');
function dual_cats_add_rewrite_rules( $wp_rewrite ){
	$new_rules = array('cats/(.+)/(.+)?$' => 'index.php?cat1='. 
$wp_rewrite->preg_index(1).'&cat2='.$wp_rewrite->preg_index(2) );
	$wp_rewrite->rules = $new_rules + $wp_rewrite->rules;
}


// Interceptar el template
add_action('template_redirect', 'dual_cats_template_intercept');
function dual_cats_template_intercept(){
	global $wp;

	//print_r($wp);
	
	if(is_dual_cats()){
		if(file_exists(TEMPLATEPATH.'/category.php')){
			include(TEMPLATEPATH.'/category.php');
			exit;
		}
		elseif(file_exists(TEMPLATEPATH.'/archive.php')){
			include(TEMPLATEPATH.'/archive.php');
			exit;
		}
		else{
			include(TEMPLATEPATH.'/index.php');
			exit;
		}
	}

}


// Agregar Variables al Query
add_filter('query_vars', 'queryvars');
function queryvars( $qvars ){
	$qvars[] = 'cat1';
	$qvars[] = 'cat2';
   	return $qvars;
}
?>

</code>

--

Ing. Moises Kirsch Sandler
044 (81) 1044-3216
moises@kirsch.com.mx
www.subjetivo.com

From wordpress at dd32.id.au  Wed Nov 12 07:26:43 2008
From: wordpress at dd32.id.au (DD32)
Date: Wed Nov 12 07:27:05 2008
Subject: [wp-hackers] Filter 2 categories with a plugin
In-Reply-To: <8247F030-1759-4DB3-B7E0-F5DD309D826E@kirsch.com.mx>
References: <8247F030-1759-4DB3-B7E0-F5DD309D826E@kirsch.com.mx>
Message-ID: <op.ukhwatpzk6w4mc@dd32.no-ip.com>

I'm thinking you probably need to hook in on the WP_Query side of things,
Perhaps on the hook 'parse_query'
and with the set_query_var(), Call it on the $wp_query object, or as a  
standalone function:

set_query_var('category__and', array($cat1, $cat2));

On Wed, 12 Nov 2008 18:16:30 +1100, Moises Kirsch <moi@kirsch.com.mx>  
wrote:

> Hi,
>
> I'm trying to create a plugin that will filter two categories...
> (there is one out there allready that does this but I don't like how
> it works because from my point of view it is not using some standard
> functions on wordpress).
>
> According to this post by Ryan Boren
>
> http://boren.nu/archives/2007/10/01/taxonomy-intersections-and-unions/
>
> It should be very simple... but for some reason I can't make it work.
> Here is part of the code that I'm using:
>
> 	if($cat1 && $cat2){
> 		$wp->set_query_var('category__and', array($cat1, $cat2));	
> 	}
>
> Am I using the set query var correctly?
>
> Thats where it seams to fail right now... I can get the correct
> categories IDs (I'm working with permalinks). I know the if is working
> (I even hardcoded a few IDs to test it out).
>
> The only part that I am not sure about is the set query part.
>
> Im also posting the full code after this (ignore the comments in
> spanish).
>
> Hopefully someone can help me fix this.
>
> Thanks
>
>
> <code>
>
> <?php
> /*
> Plugin Name: Dual Cats by Moi
> Plugin URI: http://moiblog.com/
> Description: Filtra 2 categorias.
> Author: Moises Kirsch
> Version: 1.0
> Author URI: http://moiblog.com/
> */
>
>
> // Funcion condicional
> function is_dual_cats(){
> 	global $is_dual_cats;
> 	return $is_dual_cats;
> }
>
>
> add_action('parse_request', 'dual_cats_query' );
> function dual_cats_query(/* $cat1 = 16, $cat2 = 25 */){
> 	global $wp, $is_dual_cats, $wp_query;
> 			
> 	$cat1 = get_category_by_slug($wp->query_vars[cat1]);
> 	$cat2 = get_category_by_slug($wp->query_vars[cat2]);
>
> 	$cat1 = $cat1->term_id;
> 	$cat2 = $cat2->term_id;
>
> 	if($cat1 && $cat2){
> 		$is_dual_cats = true;
> 		//$wp_query->set('category__and', array($cat1, $cat2));
> 		$wp->set_query_var('category__and', array($cat1, $cat2));	
> 	}
> 	else{
> 		$is_dual_cats = false;
> 	}
> }
>
>
> // Reinciar las reglas del URL Rewrite
> add_action('init', 'dual_cats_flush_rewrite_rules');
> function dual_cats_flush_rewrite_rules()
> {
> 	global $wp_rewrite;
> 	$wp_rewrite->flush_rules();
> }
>
> // Reglas del URL Rewrite
> add_action('generate_rewrite_rules', 'dual_cats_add_rewrite_rules');
> function dual_cats_add_rewrite_rules( $wp_rewrite ){
> 	$new_rules = array('cats/(.+)/(.+)?$' => 'index.php?cat1='.
> $wp_rewrite->preg_index(1).'&cat2='.$wp_rewrite->preg_index(2) );
> 	$wp_rewrite->rules = $new_rules + $wp_rewrite->rules;
> }
>
>
> // Interceptar el template
> add_action('template_redirect', 'dual_cats_template_intercept');
> function dual_cats_template_intercept(){
> 	global $wp;
>
> 	//print_r($wp);
> 	
> 	if(is_dual_cats()){
> 		if(file_exists(TEMPLATEPATH.'/category.php')){
> 			include(TEMPLATEPATH.'/category.php');
> 			exit;
> 		}
> 		elseif(file_exists(TEMPLATEPATH.'/archive.php')){
> 			include(TEMPLATEPATH.'/archive.php');
> 			exit;
> 		}
> 		else{
> 			include(TEMPLATEPATH.'/index.php');
> 			exit;
> 		}
> 	}
>
> }
>
>
> // Agregar Variables al Query
> add_filter('query_vars', 'queryvars');
> function queryvars( $qvars ){
> 	$qvars[] = 'cat1';
> 	$qvars[] = 'cat2';
>    	return $qvars;
> }
> ?>
>
> </code>
>
> --
>
> Ing. Moises Kirsch Sandler
> 044 (81) 1044-3216
> moises@kirsch.com.mx
> www.subjetivo.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From hempsworth at googlemail.com  Wed Nov 12 08:45:25 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Wed Nov 12 08:45:36 2008
Subject: [wp-hackers] Error in wp-admin/includes/template.php on line 2683
Message-ID: <5a1dad880811120045p6fe397b5l63af6fb25a7caff3@mail.gmail.com>

Hi all,
Just updated to revision 9630, tried logging in and I see the following
message:

*Parse error*: syntax error, unexpected T_SL in */home/.capriciously/alexhs/
hempsworth.com/wp/wp-admin/includes/template.php* on line *2683*

This appears on all admin pages which I manually attempt to visit, front-end
pages and wp-login.php are unaffected.

-- Alex
From wordpress at dd32.id.au  Wed Nov 12 08:50:59 2008
From: wordpress at dd32.id.au (DD32)
Date: Wed Nov 12 08:51:22 2008
Subject: [wp-hackers] Error in wp-admin/includes/template.php on line 2683
In-Reply-To: <5a1dad880811120045p6fe397b5l63af6fb25a7caff3@mail.gmail.com>
References: <5a1dad880811120045p6fe397b5l63af6fb25a7caff3@mail.gmail.com>
Message-ID: <op.ukhz69tsk6w4mc@dd32.no-ip.com>

Do you use SVN? Check theres no SVN conflicts, T_SL are generally SVN  
issues, and looking at the latest copy of that file, i dont see an  
immediate reason for that error (I dont think the file has been touched  
lately either)

On Wed, 12 Nov 2008 19:45:25 +1100, Alex Hempton-Smith  
<hempsworth@googlemail.com> wrote:

> Hi all,
> Just updated to revision 9630, tried logging in and I see the following
> message:
>
> *Parse error*: syntax error, unexpected T_SL in  
> */home/.capriciously/alexhs/
> hempsworth.com/wp/wp-admin/includes/template.php* on line *2683*
>
> This appears on all admin pages which I manually attempt to visit,  
> front-end
> pages and wp-login.php are unaffected.
>
> -- Alex
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From ckunte at gmail.com  Wed Nov 12 17:20:55 2008
From: ckunte at gmail.com (Chetan Kunte)
Date: Wed Nov 12 17:21:03 2008
Subject: [wp-hackers] XMLRPC problems with a specific client
Message-ID: <f99a6f640811120920p4cf28891v285fb8f1e8b7b1d8@mail.gmail.com>

While posting from MarsEdit works fine (albeit a bit slower, than in
2.6.3), using w.bloggar posts the entry twice. Thought I'd mention
this.
-- 
Chetan, ckunte.com
From joseph at randomnetworks.com  Wed Nov 12 17:40:50 2008
From: joseph at randomnetworks.com (Joseph Scott)
Date: Wed Nov 12 17:41:21 2008
Subject: [wp-hackers] XMLRPC problems with a specific client
In-Reply-To: <f99a6f640811120920p4cf28891v285fb8f1e8b7b1d8@mail.gmail.com>
References: <f99a6f640811120920p4cf28891v285fb8f1e8b7b1d8@mail.gmail.com>
Message-ID: <8139F732-6B90-42E7-9E7F-9B5CBDFC2330@randomnetworks.com>


On Nov 12, 2008, at 10:20 AM, Chetan Kunte wrote:

> While posting from MarsEdit works fine (albeit a bit slower, than in
> 2.6.3), using w.bloggar posts the entry twice. Thought I'd mention
> this.



Can you provide any further details on this?  Have you reported it to  
the w.bloggar folks?



--
Joseph Scott
joseph@josephscott.org
http://josephscott.org/




From ckunte at gmail.com  Wed Nov 12 18:40:31 2008
From: ckunte at gmail.com (Chetan Kunte)
Date: Wed Nov 12 18:40:39 2008
Subject: [wp-hackers] XMLRPC problems with a specific client
In-Reply-To: <8139F732-6B90-42E7-9E7F-9B5CBDFC2330@randomnetworks.com>
References: <f99a6f640811120920p4cf28891v285fb8f1e8b7b1d8@mail.gmail.com>
	<8139F732-6B90-42E7-9E7F-9B5CBDFC2330@randomnetworks.com>
Message-ID: <74b84aa30811121040k7af10f05x2f700c60e1c9b137@mail.gmail.com>

> Can you provide any further details on this?  Have you reported it to the
> w.bloggar folks?

I should have mentioned my feedback is more of an end-user type :),
but if you are looking for specific info, please instruct me how or
what you're looking for and I'll try and reproduce it.
--
Chetan, ckunte.com
From wp-hackers at striderweb.com  Wed Nov 12 22:14:24 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed Nov 12 22:14:38 2008
Subject: [wp-hackers] wp_update_plugins hook?
Message-ID: <BD48DA77-135F-4331-BFE7-18B08BDEE279@striderweb.com>

Hi --

I want to hook a function to the process wherein WP checks plugins for  
updates -- I want my function to run immediately _after_ the standard  
process.

I note that are places in the code that attach functions to a hook  
called "wp_update_plugins", but I can't find a corresponding do_action  
anywhere.  It does seem, however, to be a scheduled item.

So, does the scheduling act as a sort of alternate "do_action"?  If I  
hook my function as...

	add_action( 'wp_update_plugins', 'my_function', 11 );

...does that mean it will run when the scheduled action fires?  (And  
the 11 should make it run after the standard wp_update_plugins()  
function, yes?)

Normally I would just try the thing, but the nature of scheduled  
actions makes testing more difficult.  Thanks!

Stephen


-- 
Stephen Rider
<http://striderweb.com/>



From wordpress at dd32.id.au  Wed Nov 12 22:27:09 2008
From: wordpress at dd32.id.au (DD32)
Date: Wed Nov 12 22:27:45 2008
Subject: [wp-hackers] wp_update_plugins hook?
In-Reply-To: <BD48DA77-135F-4331-BFE7-18B08BDEE279@striderweb.com>
References: <BD48DA77-135F-4331-BFE7-18B08BDEE279@striderweb.com>
Message-ID: <op.uki1zjcdk6w4mc@dd32.no-ip.com>

Thats how it works AFAIK, Cron fires a action, and the update routines are  
attached to that action.
However, The action is only used to fire it from cron,  
http://trac.wordpress.org/browser/trunk/wp-includes/update.php#L274 as you  
can see, _maybe_update_plugins() calls it directly too

Your other option is to hook in on the update_option-update_plugins  
(You'll need to check the names right there) hook as that takes at the end  
of the update procedure when it saves the new status, If you hook in there  
(taking note to make sure you dont clobber the new option) then your code  
will run everytime the update_plugins option is updated, which should only  
be every time the update notifications change, but wont fire on the  
_maybe_update_plugins() items if it doesnt need to be updated..


On Thu, 13 Nov 2008 09:14:24 +1100, Stephen Rider  
<wp-hackers@striderweb.com> wrote:

> Hi --
>
> I want to hook a function to the process wherein WP checks plugins for
> updates -- I want my function to run immediately _after_ the standard
> process.
>
> I note that are places in the code that attach functions to a hook
> called "wp_update_plugins", but I can't find a corresponding do_action
> anywhere.  It does seem, however, to be a scheduled item.
>
> So, does the scheduling act as a sort of alternate "do_action"?  If I
> hook my function as...
>
> 	add_action( 'wp_update_plugins', 'my_function', 11 );
>
> ...does that mean it will run when the scheduled action fires?  (And
> the 11 should make it run after the standard wp_update_plugins()
> function, yes?)
>
> Normally I would just try the thing, but the nature of scheduled
> actions makes testing more difficult.  Thanks!
>
> Stephen
>
>


From joseph at randomnetworks.com  Wed Nov 12 23:00:13 2008
From: joseph at randomnetworks.com (Joseph Scott)
Date: Wed Nov 12 23:00:30 2008
Subject: [wp-hackers] XMLRPC problems with a specific client
In-Reply-To: <74b84aa30811121040k7af10f05x2f700c60e1c9b137@mail.gmail.com>
References: <f99a6f640811120920p4cf28891v285fb8f1e8b7b1d8@mail.gmail.com>
	<8139F732-6B90-42E7-9E7F-9B5CBDFC2330@randomnetworks.com>
	<74b84aa30811121040k7af10f05x2f700c60e1c9b137@mail.gmail.com>
Message-ID: <265A47FC-E8A0-41AC-AA93-DACA9818E49E@randomnetworks.com>


On Nov 12, 2008, at 11:40 AM, Chetan Kunte wrote:

>> Can you provide any further details on this?  Have you reported it  
>> to the
>> w.bloggar folks?
>
> I should have mentioned my feedback is more of an end-user type :),
> but if you are looking for specific info, please instruct me how or
> what you're looking for and I'll try and reproduce it.



The most helpful thing would be to sniff the traffic that w.bloggar is  
sending (using something like HTTPScoop http://www.tuffcode.com/).  My  
gut feeling is that this is a w.bloggar problem, so definitely contact  
them.  If they can confirm that there's a bug somewhere in how WP is  
handling XML-RPC requests I'm happy to track it down and fix once we  
can reproduce the problem.

--
Joseph Scott
joseph@josephscott.org
http://josephscott.org/




From wp-hackers at striderweb.com  Wed Nov 12 23:04:28 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed Nov 12 23:04:41 2008
Subject: [wp-hackers] wp_update_plugins hook?
In-Reply-To: <op.uki1zjcdk6w4mc@dd32.no-ip.com>
References: <BD48DA77-135F-4331-BFE7-18B08BDEE279@striderweb.com>
	<op.uki1zjcdk6w4mc@dd32.no-ip.com>
Message-ID: <9E7ECD7B-8DE4-4F1F-9DF0-29E9D36591CD@striderweb.com>

Ooooooooo Shiny.  I forgot you could hook option updates.  Nice idea.

(That's just one of those incredibly underused, incredibly powerful  
aspects of WordPress that makes me love this platform!)

Thanks. :)


On Nov 12, 2008, at 4:27 PM, DD32 wrote:

> Thats how it works AFAIK, Cron fires a action, and the update  
> routines are attached to that action.
> However, The action is only used to fire it from cron, http://trac.wordpress.org/browser/trunk/wp-includes/update.php#L274 
>  as you can see, _maybe_update_plugins() calls it directly too
>
> Your other option is to hook in on the update_option-update_plugins  
> (You'll need to check the names right there) hook as that takes at  
> the end of the update procedure when it saves the new status, If you  
> hook in there (taking note to make sure you dont clobber the new  
> option) then your code will run everytime the update_plugins option  
> is updated, which should only be every time the update notifications  
> change, but wont fire on the _maybe_update_plugins() items if it  
> doesnt need to be updated..
>
>
> On Thu, 13 Nov 2008 09:14:24 +1100, Stephen Rider <wp-hackers@striderweb.com 
> > wrote:
>
>> So, does the scheduling act as a sort of alternate "do_action"?  If I
>> hook my function as...
>>
>> 	add_action( 'wp_update_plugins', 'my_function', 11 );
>>
>> ...does that mean it will run when the scheduled action fires?
From mrbrog at gmail.com  Thu Nov 13 14:04:37 2008
From: mrbrog at gmail.com (Claudio Simeone)
Date: Thu Nov 13 14:04:48 2008
Subject: [wp-hackers] Where does is invoked do_enclose?
Message-ID: <c41cda880811130604g461b67e1xe398c965c9d677ab@mail.gmail.com>

Hi all,

I'm using Wp 2.6.3 with Podcasting plugin to create enclosures with
custom fields so, I want to disable the automatic enclosure creation
when in the post content are posted links to audio and video files.
It happens, in fact, that the post gets an enclosure that is not the
real podcast file, but a simple external link.

So I want to disable that function, but I can't understand where the
do_enclose() function is invoked when a post is saved.
In Codex, and PHP Cross Reference of WP I've found nothing.

In this thread

http://wordpress.org/support/topic/26311?replies=29#post-204574

they say to edit /wp-includes/functions.php, but I don't want to hack
core files if is not necessary.
In the same thread there's also a link to a plugin, but that doesn't
solve the issue. He simply deletes 'enclosure' custom fields that I
need to use with the Podcasting plugin.

Any ideas?

Thanks in advance
Claudio
From if.website at gmail.com  Thu Nov 13 14:23:09 2008
From: if.website at gmail.com (Austin Matzko)
Date: Thu Nov 13 14:23:17 2008
Subject: [wp-hackers] Where does is invoked do_enclose?
In-Reply-To: <c41cda880811130604g461b67e1xe398c965c9d677ab@mail.gmail.com>
References: <c41cda880811130604g461b67e1xe398c965c9d677ab@mail.gmail.com>
Message-ID: <674b4a3b0811130623p2bc7b56ft9f5bf293e2735bf9@mail.gmail.com>

On Thu, Nov 13, 2008 at 9:04 AM, Claudio Simeone <mrbrog@gmail.com> wrote:
> So I want to disable that function, but I can't understand where the
> do_enclose() function is invoked when a post is saved.

[snip]

> they say to edit /wp-includes/functions.php, but I don't want to hack
> core files if is not necessary.

do_enclose() is called within the do_all_pings() function, so probably
your best bet is to remove the do_all_pings() callback from the
"do_pings" action hook:

remove_action('do_pings', 'do_all_pings');

Then add your own version of do_all_pings (the same except without the
do_enclose() call) as a callback for "do_pings".
From mrbrog at gmail.com  Thu Nov 13 14:58:09 2008
From: mrbrog at gmail.com (Claudio Simeone)
Date: Thu Nov 13 14:58:18 2008
Subject: [wp-hackers] Where does is invoked do_enclose?
In-Reply-To: <674b4a3b0811130623p2bc7b56ft9f5bf293e2735bf9@mail.gmail.com>
References: <c41cda880811130604g461b67e1xe398c965c9d677ab@mail.gmail.com>
	<674b4a3b0811130623p2bc7b56ft9f5bf293e2735bf9@mail.gmail.com>
Message-ID: <c41cda880811130658u405eaf83p5ff0d750be53391b@mail.gmail.com>

2008/11/13 Austin Matzko <if.website@gmail.com>:

[...]

> do_enclose() is called within the do_all_pings() function, so probably
> your best bet is to remove the do_all_pings() callback from the
> "do_pings" action hook:
>
> remove_action('do_pings', 'do_all_pings');
>
> Then add your own version of do_all_pings (the same except without the
> do_enclose() call) as a callback for "do_pings".


Thanks, now it works!

--
Claudio
From gaarai at gaarai.com  Thu Nov 13 17:32:33 2008
From: gaarai at gaarai.com (Chris)
Date: Thu Nov 13 17:32:59 2008
Subject: [wp-hackers] Bad assumption on creation of ABSPATH
Message-ID: <491C64B1.208@gaarai.com>

If you look at any of the high-level files of WordPress that handle 
setting up the environment for WP, you'll find the following:

define( 'ABSPATH', dirname(__FILE__) . '/' );


Does it bother anyone else that all the ABSPATH defines presume to 
always add a '/' as the directory delimiter?

It took me a while to realize that this simple thing was the source of 
so many of my woes. For example, consider the following code:

$this->_pluginPath = dirname( __FILE__ );
$this->_pluginRelativePath = str_replace( ABSPATH, '', $this->_pluginPath );
$this->_pluginURL = get_option( 'home' ) . '/' . $this->_pluginRelativePath;


This code should be a simple and straight-forward way for me to always 
have access to the paths and URL bases that I need when developing 
plugins, but it will fail horribly when run on Windows. The source? This 
portion:

str_replace( ABSPATH, '', $this->_pluginPath );


Imagine this running on Windows:

str_replace( "C:\xampp\htdocs\wordpress/", '', "C:\xampp\htdocs\wordpress\wp-content\plugins\my-plugin" );


Now I have a URL base of 
"http://localhost/wordpress/C:\xampp\htdocs\wordpress\wp-content\plugins\my-plugin", 
which is not at all what I was wanting.

The fix that I've been employing is as follows:

$this->_pluginRelativePath = ltrim( str_replace( rtrim( ABSPATH, '\\\/' ), '', $this->_pluginPath ), '\\\/' );
$this->_pluginURL = get_option( 'home' ) . '/' . $this->_pluginRelativePath;


Quite frankly, I find this to be unacceptable. Not only does it leave me 
with a sloppy relative path by having a forward slash in the middle of a 
backslash delimited path, but it also requires way too much work to 
derive. I think most people would agree that my original code is much 
more understandable and solid.

Basically, I find a number of issues created by simply placing a forward 
slash at the end of the ABSPATH:

    * Makes being compatible with Windows hosts that much harder.
    * Puts unnecessary burden on plugin and theme developers. I'm sure
      that we can all agree that making things easier for theme and
      plugin developers is good for everyone.

People may argue that I can simply use the numerous defines to construct 
my needed paths and url bases, but that would have its own problems:

    * If I rely on the defines, then my code suddenly has dependency
      issues and can break depending on what version of WP it is running on.
    * The beauty of my original code is that it is highly adaptable. No
      matter what type of folder structure, file migration, or
      file/directory renaming they do, the code will always know where
      it is and what URL will point to it. If I use defines and my
      plugin's name for generating a path and the user renames my plugin
      or puts it in a different folder, my code breaks. Sure, I can
      insulate against that by doing a lot of logic code, but that is a
      lot of work to do just to make sure that I have the right path.

Sorry for my verbosity, I just wanted to make it clear that a seemingly 
simple thing can create a large array of issues.

I really should have brought this up before as a fix may have been put 
in place for 2.7. Oh well... Here's hoping for a fix in the next release.

- Chris Jean
From latz at elektroelch.de  Thu Nov 13 17:40:06 2008
From: latz at elektroelch.de (=?ISO-8859-15?Q?Lutz_Schr=F6er?=)
Date: Thu Nov 13 17:40:22 2008
Subject: [wp-hackers] Comment loop actions
Message-ID: <491C6676.6020705@elektroelch.de>

Yo!

Is there any reason why there is a "comment_loop_start" action but no 
"comment_loop_end" action?

latz

From otto at ottodestruct.com  Thu Nov 13 18:10:39 2008
From: otto at ottodestruct.com (Otto)
Date: Thu Nov 13 18:10:54 2008
Subject: [wp-hackers] Comment loop actions
In-Reply-To: <491C6676.6020705@elektroelch.de>
References: <491C6676.6020705@elektroelch.de>
Message-ID: <161617690811131010h771880b8qd4c7702a32e04b0c@mail.gmail.com>

Yes, all that "the_comment" stuff was never really finished or used
anywhere, and it's being replaced in 2.7 anyway, for the most part. Right
now, the only time you get a comment_loop_start is in the comment RSS/ATOM
feeds. And that will probably go away too in 2.8.



On Thu, Nov 13, 2008 at 11:40 AM, Lutz Schr?er <latz@elektroelch.de> wrote:

> Yo!
>
> Is there any reason why there is a "comment_loop_start" action but no
> "comment_loop_end" action?
>
> latz
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From burobjorn at gmail.com  Thu Nov 13 18:19:18 2008
From: burobjorn at gmail.com (Burobjorn)
Date: Thu Nov 13 18:19:33 2008
Subject: [wp-hackers] sitewide tags and wordpress mu: How to change the
	autocomplete?
Message-ID: <491C6FA6.6050303@gmail.com>

Hi,

I've been working on a sitewide tags system called bbMutag since
Wordpress Mu 1.1.1

See the previous release here:
http://www.burobjorn.nl/blog/?p=279

See it also in the wild here: http://radio6.nl

Recently I have gotten the request to update* this plugin so it will
play nice with version 2.5.1. (this version is our main focus for now
due to external factors) and above.

So I've written an exporter for those who have been using the older
version of the plugin. This makes it possible to export the previous
made tags to the standard wordpress terms database model while retaining
the sitewide tags tables. The next thing on my list is to change the old
plugin in using actions to automatically add and remove tags to the
sitewide tags tables. I will have a look at Donncha's sitewide tagging
solution for this.

However one of the things I haven't found an answer for is howto
'reroute' the tags autocomplete request to a different serverside script
without touching core files. The reasoning behind this is that we want
to create a sitewide autocomplete so authors of different blogs can use
eachother's tags. The current bbMutag plugin has this functionality and
I would like update it as well and play nice with Wordpress' tagging
functionality. Is there a way to change this without touching core files?

ps: I just got my info for the svn repos on wordpress.org and I will
import the old and new plugin asap, so you guys will have an idea of
what I'm talking about ;)

* Yes, there are more solutions now, but there were none at the time. We
opted to update our code and offer it to anyone who wants it under the
GPL. Hopefully it will attribute in the end to a great sitewide tagging
solution for WP MU.

All the best,

grtz
BjornW
-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

phone: +31 6 49 74 78 70
http://www.burobjorn.nl
From otto at ottodestruct.com  Thu Nov 13 18:20:28 2008
From: otto at ottodestruct.com (Otto)
Date: Thu Nov 13 18:20:45 2008
Subject: [wp-hackers] Bad assumption on creation of ABSPATH
In-Reply-To: <491C64B1.208@gaarai.com>
References: <491C64B1.208@gaarai.com>
Message-ID: <161617690811131020t532f9b8dubef4b7c2c191d077@mail.gmail.com>

Use this instead:
$this->_pluginURL = plugins_url(dirname(plugin_basename(__FILE__)));

I don't have a particular problem with ABSPATH, as it's not meant to be used
to determine a URL in any sense, only actual local paths to files. You
should use other defined constants or functions to do that. WP_PLUGIN_URL,
for example.


On Thu, Nov 13, 2008 at 11:32 AM, Chris <gaarai@gaarai.com> wrote:

> If you look at any of the high-level files of WordPress that handle setting
> up the environment for WP, you'll find the following:
>
> define( 'ABSPATH', dirname(__FILE__) . '/' );
>
>
> Does it bother anyone else that all the ABSPATH defines presume to always
> add a '/' as the directory delimiter?
>
> It took me a while to realize that this simple thing was the source of so
> many of my woes. For example, consider the following code:
>
> $this->_pluginPath = dirname( __FILE__ );
> $this->_pluginRelativePath = str_replace( ABSPATH, '', $this->_pluginPath
> );
> $this->_pluginURL = get_option( 'home' ) . '/' .
> $this->_pluginRelativePath;
>
>
> This code should be a simple and straight-forward way for me to always have
> access to the paths and URL bases that I need when developing plugins, but
> it will fail horribly when run on Windows. The source? This portion:
>
> str_replace( ABSPATH, '', $this->_pluginPath );
>
>
> Imagine this running on Windows:
>
> str_replace( "C:\xampp\htdocs\wordpress/", '',
> "C:\xampp\htdocs\wordpress\wp-content\plugins\my-plugin" );
>
>
> Now I have a URL base of "
> http://localhost/wordpress/C:\xampp\htdocs\wordpress\wp-content\plugins\my-plugin<http://localhost/wordpress/C:%5Cxampp%5Chtdocs%5Cwordpress%5Cwp-content%5Cplugins%5Cmy-plugin>",
> which is not at all what I was wanting.
>
> The fix that I've been employing is as follows:
>
> $this->_pluginRelativePath = ltrim( str_replace( rtrim( ABSPATH, '\\\/' ),
> '', $this->_pluginPath ), '\\\/' );
> $this->_pluginURL = get_option( 'home' ) . '/' .
> $this->_pluginRelativePath;
>
>
> Quite frankly, I find this to be unacceptable. Not only does it leave me
> with a sloppy relative path by having a forward slash in the middle of a
> backslash delimited path, but it also requires way too much work to derive.
> I think most people would agree that my original code is much more
> understandable and solid.
>
> Basically, I find a number of issues created by simply placing a forward
> slash at the end of the ABSPATH:
>
>   * Makes being compatible with Windows hosts that much harder.
>   * Puts unnecessary burden on plugin and theme developers. I'm sure
>     that we can all agree that making things easier for theme and
>     plugin developers is good for everyone.
>
> People may argue that I can simply use the numerous defines to construct my
> needed paths and url bases, but that would have its own problems:
>
>   * If I rely on the defines, then my code suddenly has dependency
>     issues and can break depending on what version of WP it is running on.
>   * The beauty of my original code is that it is highly adaptable. No
>     matter what type of folder structure, file migration, or
>     file/directory renaming they do, the code will always know where
>     it is and what URL will point to it. If I use defines and my
>     plugin's name for generating a path and the user renames my plugin
>     or puts it in a different folder, my code breaks. Sure, I can
>     insulate against that by doing a lot of logic code, but that is a
>     lot of work to do just to make sure that I have the right path.
>
> Sorry for my verbosity, I just wanted to make it clear that a seemingly
> simple thing can create a large array of issues.
>
> I really should have brought this up before as a fix may have been put in
> place for 2.7. Oh well... Here's hoping for a fix in the next release.
>
> - Chris Jean
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From gaarai at gaarai.com  Thu Nov 13 19:37:47 2008
From: gaarai at gaarai.com (Chris)
Date: Thu Nov 13 19:38:09 2008
Subject: [wp-hackers] Bad assumption on creation of ABSPATH
In-Reply-To: <161617690811131020t532f9b8dubef4b7c2c191d077@mail.gmail.com>
References: <491C64B1.208@gaarai.com>
	<161617690811131020t532f9b8dubef4b7c2c191d077@mail.gmail.com>
Message-ID: <491C820B.5020508@gaarai.com>

That's good to know about the plugins_url() and plugin_basename() 
functions. I still think that requiring the use of obscure functions (I 
would have never guessed that such functions existed) and defines that 
have been shown in the past to change, get deprecated, or be created is 
a really roundabout way of avoiding a fix that could open up an easy way 
to access the same data.

Maybe ABSPATH wasn't intended to be used in the manner in which I'm 
trying to use it, but the way that I'm trying to use it isn't wholly 
unreasonable. Given the potential for change in paths starting with 2.6, 
I don't think that my desired way to use ABSPATH is without reason either.

- Chris Jean

Otto wrote:
> Use this instead:
> $this->_pluginURL = plugins_url(dirname(plugin_basename(__FILE__)));
>
> I don't have a particular problem with ABSPATH, as it's not meant to be used
> to determine a URL in any sense, only actual local paths to files. You
> should use other defined constants or functions to do that. WP_PLUGIN_URL,
> for example.
>
>
> On Thu, Nov 13, 2008 at 11:32 AM, Chris <gaarai@gaarai.com> wrote:
>
>   
>> If you look at any of the high-level files of WordPress that handle setting
>> up the environment for WP, you'll find the following:
>>
>> define( 'ABSPATH', dirname(__FILE__) . '/' );
>>
>>
>> Does it bother anyone else that all the ABSPATH defines presume to always
>> add a '/' as the directory delimiter?
>>
>> It took me a while to realize that this simple thing was the source of so
>> many of my woes. For example, consider the following code:
>>
>> $this->_pluginPath = dirname( __FILE__ );
>> $this->_pluginRelativePath = str_replace( ABSPATH, '', $this->_pluginPath
>> );
>> $this->_pluginURL = get_option( 'home' ) . '/' .
>> $this->_pluginRelativePath;
>>
>>
>> This code should be a simple and straight-forward way for me to always have
>> access to the paths and URL bases that I need when developing plugins, but
>> it will fail horribly when run on Windows. The source? This portion:
>>
>> str_replace( ABSPATH, '', $this->_pluginPath );
>>
>>
>> Imagine this running on Windows:
>>
>> str_replace( "C:\xampp\htdocs\wordpress/", '',
>> "C:\xampp\htdocs\wordpress\wp-content\plugins\my-plugin" );
>>
>>
>> Now I have a URL base of "
>> http://localhost/wordpress/C:\xampp\htdocs\wordpress\wp-content\plugins\my-plugin<http://localhost/wordpress/C:%5Cxampp%5Chtdocs%5Cwordpress%5Cwp-content%5Cplugins%5Cmy-plugin>",
>> which is not at all what I was wanting.
>>
>> The fix that I've been employing is as follows:
>>
>> $this->_pluginRelativePath = ltrim( str_replace( rtrim( ABSPATH, '\\\/' ),
>> '', $this->_pluginPath ), '\\\/' );
>> $this->_pluginURL = get_option( 'home' ) . '/' .
>> $this->_pluginRelativePath;
>>
>>
>> Quite frankly, I find this to be unacceptable. Not only does it leave me
>> with a sloppy relative path by having a forward slash in the middle of a
>> backslash delimited path, but it also requires way too much work to derive.
>> I think most people would agree that my original code is much more
>> understandable and solid.
>>
>> Basically, I find a number of issues created by simply placing a forward
>> slash at the end of the ABSPATH:
>>
>>   * Makes being compatible with Windows hosts that much harder.
>>   * Puts unnecessary burden on plugin and theme developers. I'm sure
>>     that we can all agree that making things easier for theme and
>>     plugin developers is good for everyone.
>>
>> People may argue that I can simply use the numerous defines to construct my
>> needed paths and url bases, but that would have its own problems:
>>
>>   * If I rely on the defines, then my code suddenly has dependency
>>     issues and can break depending on what version of WP it is running on.
>>   * The beauty of my original code is that it is highly adaptable. No
>>     matter what type of folder structure, file migration, or
>>     file/directory renaming they do, the code will always know where
>>     it is and what URL will point to it. If I use defines and my
>>     plugin's name for generating a path and the user renames my plugin
>>     or puts it in a different folder, my code breaks. Sure, I can
>>     insulate against that by doing a lot of logic code, but that is a
>>     lot of work to do just to make sure that I have the right path.
>>
>> Sorry for my verbosity, I just wanted to make it clear that a seemingly
>> simple thing can create a large array of issues.
>>
>> I really should have brought this up before as a fix may have been put in
>> place for 2.7. Oh well... Here's hoping for a fix in the next release.
>>
>> - Chris Jean
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From mikeschinkel at gmail.com  Thu Nov 13 19:52:48 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Thu Nov 13 19:53:03 2008
Subject: [wp-hackers] Bad assumption on creation of ABSPATH
In-Reply-To: <491C820B.5020508@gaarai.com>
References: <491C64B1.208@gaarai.com><161617690811131020t532f9b8dubef4b7c2c191d077@mail.gmail.com>
	<491C820B.5020508@gaarai.com>
Message-ID: <067501c945c9$686089b0$6702a8c0@Guides.local>

With 20+ years of programming experience I've learned many times over that
the direct reference of constants or global varibles causes exactly these
and many other kinds of problems. Changing ABSPATH now after it has
established itself would cause far more problems than leaving it as is and
documenting the concern. It's (almost) always better to use functions for
this kind of thing because the code in the function can adjust in ways that
a global constant cannot.

IMO using ABSPATH and other global constants should be deprecated as a best
practice in favor of using functions like plugins_url() and
plugin_basename().

JMTCW.

-Mike Schinkel 
http://mikeschinkel.com/custom-wordpress-plugins/


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Chris
Sent: Thursday, November 13, 2008 2:38 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Bad assumption on creation of ABSPATH

That's good to know about the plugins_url() and plugin_basename() functions.
I still think that requiring the use of obscure functions (I would have
never guessed that such functions existed) and defines that have been shown
in the past to change, get deprecated, or be created is a really roundabout
way of avoiding a fix that could open up an easy way to access the same
data.

Maybe ABSPATH wasn't intended to be used in the manner in which I'm trying
to use it, but the way that I'm trying to use it isn't wholly unreasonable.
Given the potential for change in paths starting with 2.6, I don't think
that my desired way to use ABSPATH is without reason either.

- Chris Jean

Otto wrote:
> Use this instead:
> $this->_pluginURL = plugins_url(dirname(plugin_basename(__FILE__)));
>
> I don't have a particular problem with ABSPATH, as it's not meant to 
> be used to determine a URL in any sense, only actual local paths to 
> files. You should use other defined constants or functions to do that. 
> WP_PLUGIN_URL, for example.
>
>
> On Thu, Nov 13, 2008 at 11:32 AM, Chris <gaarai@gaarai.com> wrote:
>
>   
>> If you look at any of the high-level files of WordPress that handle 
>> setting up the environment for WP, you'll find the following:
>>
>> define( 'ABSPATH', dirname(__FILE__) . '/' );
>>
>>
>> Does it bother anyone else that all the ABSPATH defines presume to 
>> always add a '/' as the directory delimiter?
>>
>> It took me a while to realize that this simple thing was the source 
>> of so many of my woes. For example, consider the following code:
>>
>> $this->_pluginPath = dirname( __FILE__ ); $this->_pluginRelativePath 
>> = str_replace( ABSPATH, '', $this->_pluginPath ); $this->_pluginURL = 
>> get_option( 'home' ) . '/' .
>> $this->_pluginRelativePath;
>>
>>
>> This code should be a simple and straight-forward way for me to 
>> always have access to the paths and URL bases that I need when 
>> developing plugins, but it will fail horribly when run on Windows. The
source? This portion:
>>
>> str_replace( ABSPATH, '', $this->_pluginPath );
>>
>>
>> Imagine this running on Windows:
>>
>> str_replace( "C:\xampp\htdocs\wordpress/", '', 
>> "C:\xampp\htdocs\wordpress\wp-content\plugins\my-plugin" );
>>
>>
>> Now I have a URL base of "
>> http://localhost/wordpress/C:\xampp\htdocs\wordpress\wp-content\plugi
>> ns\my-plugin<http://localhost/wordpress/C:%5Cxampp%5Chtdocs%5Cwordpre
>> ss%5Cwp-content%5Cplugins%5Cmy-plugin>",
>> which is not at all what I was wanting.
>>
>> The fix that I've been employing is as follows:
>>
>> $this->_pluginRelativePath = ltrim( str_replace( rtrim( ABSPATH, 
>> '\\\/' ), '', $this->_pluginPath ), '\\\/' ); $this->_pluginURL = 
>> get_option( 'home' ) . '/' .
>> $this->_pluginRelativePath;
>>
>>
>> Quite frankly, I find this to be unacceptable. Not only does it leave 
>> me with a sloppy relative path by having a forward slash in the 
>> middle of a backslash delimited path, but it also requires way too much
work to derive.
>> I think most people would agree that my original code is much more 
>> understandable and solid.
>>
>> Basically, I find a number of issues created by simply placing a 
>> forward slash at the end of the ABSPATH:
>>
>>   * Makes being compatible with Windows hosts that much harder.
>>   * Puts unnecessary burden on plugin and theme developers. I'm sure
>>     that we can all agree that making things easier for theme and
>>     plugin developers is good for everyone.
>>
>> People may argue that I can simply use the numerous defines to 
>> construct my needed paths and url bases, but that would have its own
problems:
>>
>>   * If I rely on the defines, then my code suddenly has dependency
>>     issues and can break depending on what version of WP it is running
on.
>>   * The beauty of my original code is that it is highly adaptable. No
>>     matter what type of folder structure, file migration, or
>>     file/directory renaming they do, the code will always know where
>>     it is and what URL will point to it. If I use defines and my
>>     plugin's name for generating a path and the user renames my plugin
>>     or puts it in a different folder, my code breaks. Sure, I can
>>     insulate against that by doing a lot of logic code, but that is a
>>     lot of work to do just to make sure that I have the right path.
>>
>> Sorry for my verbosity, I just wanted to make it clear that a 
>> seemingly simple thing can create a large array of issues.
>>
>> I really should have brought this up before as a fix may have been 
>> put in place for 2.7. Oh well... Here's hoping for a fix in the next
release.
>>
>> - Chris Jean
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From gaarai at gaarai.com  Thu Nov 13 21:08:17 2008
From: gaarai at gaarai.com (Chris)
Date: Thu Nov 13 21:08:46 2008
Subject: [wp-hackers] Bad assumption on creation of ABSPATH
In-Reply-To: <067501c945c9$686089b0$6702a8c0@Guides.local>
References: <491C64B1.208@gaarai.com><161617690811131020t532f9b8dubef4b7c2c191d077@mail.gmail.com>	<491C820B.5020508@gaarai.com>
	<067501c945c9$686089b0$6702a8c0@Guides.local>
Message-ID: <491C9741.4070206@gaarai.com>

Right after I sent the second message, I came to much the same 
conclusion. I realized that changing something so established creates 
more problems than it fixes.

Thank you to both Otto and Mike for getting me back on the right track.

- Chris Jean

Mike Schinkel wrote:
> With 20+ years of programming experience I've learned many times over that
> the direct reference of constants or global varibles causes exactly these
> and many other kinds of problems. Changing ABSPATH now after it has
> established itself would cause far more problems than leaving it as is and
> documenting the concern. It's (almost) always better to use functions for
> this kind of thing because the code in the function can adjust in ways that
> a global constant cannot.
>
> IMO using ABSPATH and other global constants should be deprecated as a best
> practice in favor of using functions like plugins_url() and
> plugin_basename().
>
> JMTCW.
>
> -Mike Schinkel 
> http://mikeschinkel.com/custom-wordpress-plugins/
>
>
> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Chris
> Sent: Thursday, November 13, 2008 2:38 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Bad assumption on creation of ABSPATH
>
> That's good to know about the plugins_url() and plugin_basename() functions.
> I still think that requiring the use of obscure functions (I would have
> never guessed that such functions existed) and defines that have been shown
> in the past to change, get deprecated, or be created is a really roundabout
> way of avoiding a fix that could open up an easy way to access the same
> data.
>
> Maybe ABSPATH wasn't intended to be used in the manner in which I'm trying
> to use it, but the way that I'm trying to use it isn't wholly unreasonable.
> Given the potential for change in paths starting with 2.6, I don't think
> that my desired way to use ABSPATH is without reason either.
>
> - Chris Jean
>
> Otto wrote:
>   
>> Use this instead:
>> $this->_pluginURL = plugins_url(dirname(plugin_basename(__FILE__)));
>>
>> I don't have a particular problem with ABSPATH, as it's not meant to 
>> be used to determine a URL in any sense, only actual local paths to 
>> files. You should use other defined constants or functions to do that. 
>> WP_PLUGIN_URL, for example.
>>
>>
>> On Thu, Nov 13, 2008 at 11:32 AM, Chris <gaarai@gaarai.com> wrote:
>>
>>   
>>     
>>> If you look at any of the high-level files of WordPress that handle 
>>> setting up the environment for WP, you'll find the following:
>>>
>>> define( 'ABSPATH', dirname(__FILE__) . '/' );
>>>
>>>
>>> Does it bother anyone else that all the ABSPATH defines presume to 
>>> always add a '/' as the directory delimiter?
>>>
>>> It took me a while to realize that this simple thing was the source 
>>> of so many of my woes. For example, consider the following code:
>>>
>>> $this->_pluginPath = dirname( __FILE__ ); $this->_pluginRelativePath 
>>> = str_replace( ABSPATH, '', $this->_pluginPath ); $this->_pluginURL = 
>>> get_option( 'home' ) . '/' .
>>> $this->_pluginRelativePath;
>>>
>>>
>>> This code should be a simple and straight-forward way for me to 
>>> always have access to the paths and URL bases that I need when 
>>> developing plugins, but it will fail horribly when run on Windows. The
>>>       
> source? This portion:
>   
>>> str_replace( ABSPATH, '', $this->_pluginPath );
>>>
>>>
>>> Imagine this running on Windows:
>>>
>>> str_replace( "C:\xampp\htdocs\wordpress/", '', 
>>> "C:\xampp\htdocs\wordpress\wp-content\plugins\my-plugin" );
>>>
>>>
>>> Now I have a URL base of "
>>> http://localhost/wordpress/C:\xampp\htdocs\wordpress\wp-content\plugi
>>> ns\my-plugin<http://localhost/wordpress/C:%5Cxampp%5Chtdocs%5Cwordpre
>>> ss%5Cwp-content%5Cplugins%5Cmy-plugin>",
>>> which is not at all what I was wanting.
>>>
>>> The fix that I've been employing is as follows:
>>>
>>> $this->_pluginRelativePath = ltrim( str_replace( rtrim( ABSPATH, 
>>> '\\\/' ), '', $this->_pluginPath ), '\\\/' ); $this->_pluginURL = 
>>> get_option( 'home' ) . '/' .
>>> $this->_pluginRelativePath;
>>>
>>>
>>> Quite frankly, I find this to be unacceptable. Not only does it leave 
>>> me with a sloppy relative path by having a forward slash in the 
>>> middle of a backslash delimited path, but it also requires way too much
>>>       
> work to derive.
>   
>>> I think most people would agree that my original code is much more 
>>> understandable and solid.
>>>
>>> Basically, I find a number of issues created by simply placing a 
>>> forward slash at the end of the ABSPATH:
>>>
>>>   * Makes being compatible with Windows hosts that much harder.
>>>   * Puts unnecessary burden on plugin and theme developers. I'm sure
>>>     that we can all agree that making things easier for theme and
>>>     plugin developers is good for everyone.
>>>
>>> People may argue that I can simply use the numerous defines to 
>>> construct my needed paths and url bases, but that would have its own
>>>       
> problems:
>   
>>>   * If I rely on the defines, then my code suddenly has dependency
>>>     issues and can break depending on what version of WP it is running
>>>       
> on.
>   
>>>   * The beauty of my original code is that it is highly adaptable. No
>>>     matter what type of folder structure, file migration, or
>>>     file/directory renaming they do, the code will always know where
>>>     it is and what URL will point to it. If I use defines and my
>>>     plugin's name for generating a path and the user renames my plugin
>>>     or puts it in a different folder, my code breaks. Sure, I can
>>>     insulate against that by doing a lot of logic code, but that is a
>>>     lot of work to do just to make sure that I have the right path.
>>>
>>> Sorry for my verbosity, I just wanted to make it clear that a 
>>> seemingly simple thing can create a large array of issues.
>>>
>>> I really should have brought this up before as a fix may have been 
>>> put in place for 2.7. Oh well... Here's hoping for a fix in the next
>>>       
> release.
>   
>>> - Chris Jean
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>     
>>>       
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>   
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From mikeschinkel at gmail.com  Thu Nov 13 21:15:27 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Thu Nov 13 21:15:45 2008
Subject: [wp-hackers] Bad assumption on creation of ABSPATH
In-Reply-To: <491C9741.4070206@gaarai.com>
References: <491C64B1.208@gaarai.com><161617690811131020t532f9b8dubef4b7c2c191d077@mail.gmail.com>	<491C820B.5020508@gaarai.com><067501c945c9$686089b0$6702a8c0@Guides.local>
	<491C9741.4070206@gaarai.com>
Message-ID: <069801c945d4$f3d38a00$6702a8c0@Guides.local>

n/p. I know all too well what it is like to be highly frustrated by a prior
(arbitrary?) decision made in software and then the need to vent my
frustration somewhere that people who might be able to change it can here
me.

-Mike


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Chris
Sent: Thursday, November 13, 2008 4:08 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Bad assumption on creation of ABSPATH

Right after I sent the second message, I came to much the same conclusion. I
realized that changing something so established creates more problems than
it fixes.

Thank you to both Otto and Mike for getting me back on the right track.

- Chris Jean

Mike Schinkel wrote:
> With 20+ years of programming experience I've learned many times over 
> that the direct reference of constants or global varibles causes 
> exactly these and many other kinds of problems. Changing ABSPATH now 
> after it has established itself would cause far more problems than 
> leaving it as is and documenting the concern. It's (almost) always 
> better to use functions for this kind of thing because the code in the 
> function can adjust in ways that a global constant cannot.
>
> IMO using ABSPATH and other global constants should be deprecated as a 
> best practice in favor of using functions like plugins_url() and 
> plugin_basename().
>
> JMTCW.
>
> -Mike Schinkel
> http://mikeschinkel.com/custom-wordpress-plugins/
>
>
> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Chris
> Sent: Thursday, November 13, 2008 2:38 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Bad assumption on creation of ABSPATH
>
> That's good to know about the plugins_url() and plugin_basename()
functions.
> I still think that requiring the use of obscure functions (I would 
> have never guessed that such functions existed) and defines that have 
> been shown in the past to change, get deprecated, or be created is a 
> really roundabout way of avoiding a fix that could open up an easy way 
> to access the same data.
>
> Maybe ABSPATH wasn't intended to be used in the manner in which I'm 
> trying to use it, but the way that I'm trying to use it isn't wholly
unreasonable.
> Given the potential for change in paths starting with 2.6, I don't 
> think that my desired way to use ABSPATH is without reason either.
>
> - Chris Jean
>
> Otto wrote:
>   
>> Use this instead:
>> $this->_pluginURL = plugins_url(dirname(plugin_basename(__FILE__)));
>>
>> I don't have a particular problem with ABSPATH, as it's not meant to 
>> be used to determine a URL in any sense, only actual local paths to 
>> files. You should use other defined constants or functions to do that.
>> WP_PLUGIN_URL, for example.
>>
>>
>> On Thu, Nov 13, 2008 at 11:32 AM, Chris <gaarai@gaarai.com> wrote:
>>
>>   
>>     
>>> If you look at any of the high-level files of WordPress that handle 
>>> setting up the environment for WP, you'll find the following:
>>>
>>> define( 'ABSPATH', dirname(__FILE__) . '/' );
>>>
>>>
>>> Does it bother anyone else that all the ABSPATH defines presume to 
>>> always add a '/' as the directory delimiter?
>>>
>>> It took me a while to realize that this simple thing was the source 
>>> of so many of my woes. For example, consider the following code:
>>>
>>> $this->_pluginPath = dirname( __FILE__ ); $this->_pluginRelativePath 
>>> = str_replace( ABSPATH, '', $this->_pluginPath ); $this->_pluginURL 
>>> = get_option( 'home' ) . '/' .
>>> $this->_pluginRelativePath;
>>>
>>>
>>> This code should be a simple and straight-forward way for me to 
>>> always have access to the paths and URL bases that I need when 
>>> developing plugins, but it will fail horribly when run on Windows. 
>>> The
>>>       
> source? This portion:
>   
>>> str_replace( ABSPATH, '', $this->_pluginPath );
>>>
>>>
>>> Imagine this running on Windows:
>>>
>>> str_replace( "C:\xampp\htdocs\wordpress/", '', 
>>> "C:\xampp\htdocs\wordpress\wp-content\plugins\my-plugin" );
>>>
>>>
>>> Now I have a URL base of "
>>> http://localhost/wordpress/C:\xampp\htdocs\wordpress\wp-content\plug
>>> i 
>>> ns\my-plugin<http://localhost/wordpress/C:%5Cxampp%5Chtdocs%5Cwordpr
>>> e ss%5Cwp-content%5Cplugins%5Cmy-plugin>",
>>> which is not at all what I was wanting.
>>>
>>> The fix that I've been employing is as follows:
>>>
>>> $this->_pluginRelativePath = ltrim( str_replace( rtrim( ABSPATH, 
>>> '\\\/' ), '', $this->_pluginPath ), '\\\/' ); $this->_pluginURL = 
>>> get_option( 'home' ) . '/' .
>>> $this->_pluginRelativePath;
>>>
>>>
>>> Quite frankly, I find this to be unacceptable. Not only does it 
>>> leave me with a sloppy relative path by having a forward slash in 
>>> the middle of a backslash delimited path, but it also requires way 
>>> too much
>>>       
> work to derive.
>   
>>> I think most people would agree that my original code is much more 
>>> understandable and solid.
>>>
>>> Basically, I find a number of issues created by simply placing a 
>>> forward slash at the end of the ABSPATH:
>>>
>>>   * Makes being compatible with Windows hosts that much harder.
>>>   * Puts unnecessary burden on plugin and theme developers. I'm sure
>>>     that we can all agree that making things easier for theme and
>>>     plugin developers is good for everyone.
>>>
>>> People may argue that I can simply use the numerous defines to 
>>> construct my needed paths and url bases, but that would have its own
>>>       
> problems:
>   
>>>   * If I rely on the defines, then my code suddenly has dependency
>>>     issues and can break depending on what version of WP it is 
>>> running
>>>       
> on.
>   
>>>   * The beauty of my original code is that it is highly adaptable. No
>>>     matter what type of folder structure, file migration, or
>>>     file/directory renaming they do, the code will always know where
>>>     it is and what URL will point to it. If I use defines and my
>>>     plugin's name for generating a path and the user renames my plugin
>>>     or puts it in a different folder, my code breaks. Sure, I can
>>>     insulate against that by doing a lot of logic code, but that is a
>>>     lot of work to do just to make sure that I have the right path.
>>>
>>> Sorry for my verbosity, I just wanted to make it clear that a 
>>> seemingly simple thing can create a large array of issues.
>>>
>>> I really should have brought this up before as a fix may have been 
>>> put in place for 2.7. Oh well... Here's hoping for a fix in the next
>>>       
> release.
>   
>>> - Chris Jean
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>     
>>>       
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>   
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From ryanmccue at cubegames.net  Fri Nov 14 05:21:28 2008
From: ryanmccue at cubegames.net (Ryan McCue)
Date: Fri Nov 14 05:23:18 2008
Subject: [wp-hackers] Bad assumption on creation of ABSPATH
In-Reply-To: <491C64B1.208@gaarai.com>
References: <491C64B1.208@gaarai.com>
Message-ID: <491D0AD8.80003@cubegames.net>

Chris wrote:
>    * Makes being compatible with Windows hosts that much harder. 

Huh? Forward slashes work fine on every Windows host I know of. Windows
itself translates forward slashes to backslashes (or vice versa, I don't
remember) internally.

-- 
Ryan McCue
<http://cubegames.net/>

From mike_walsh at mindspring.com  Fri Nov 14 13:55:04 2008
From: mike_walsh at mindspring.com (mpwalsh8)
Date: Fri Nov 14 13:55:16 2008
Subject: [wp-hackers] Re: Bad assumption on creation of ABSPATH
In-Reply-To: <491D0AD8.80003@cubegames.net>
References: <491C64B1.208@gaarai.com> <491D0AD8.80003@cubegames.net>
Message-ID: <f61e7743-4526-4e37-afd0-6e60d82f9f8f@g17g2000prg.googlegroups.com>

On Nov 14, 12:21?am, Ryan McCue <ryanmc...@cubegames.net> wrote:
> Chris wrote:
> > ? ?* Makes being compatible with Windows hosts that much harder.
>
> Huh? Forward slashes work fine on every Windows host I know of. Windows
> itself translates forward slashes to backslashes (or vice versa, I don't
> remember) internally.
>

[ ... snipped ... ]

I ran into one situation where Windows wasn't dealing with them
correctly but I don't recall the exact details and I had to do all
sorts of goofy manipulation to map and escapes the slashes properly.

Regardless, PHP defines a constant (DIRECTORY_SEPARATORY) which is OS
specific.  If this was used instead of hard-coding '/', wouldn't it
address the original problem?

More PHP constants at:  http://us2.php.net/manual/en/reserved.constants.php

Mike
From frank at bueltge.de  Fri Nov 14 14:08:59 2008
From: frank at bueltge.de (Frank Bueltge)
Date: Fri Nov 14 14:09:09 2008
Subject: [wp-hackers] admin-ajax.php / closedpostboxes
Message-ID: <db047a770811140608m452ae951kcc61ac6b95a09b0@mail.gmail.com>

Hello,

it is possible to use the ajax-functions for save the user-settings of
closed boxes on plugin-pages?

I have found the check in the admin-ajax.php for save the class of the
different metaboxes.
closedpostboxes

Maybe it is possible to uses this for own plugin-pages.

Thanks for your time and best wishes.
From mark at simplercomputing.net  Fri Nov 14 15:07:41 2008
From: mark at simplercomputing.net (Mark E)
Date: Fri Nov 14 15:07:47 2008
Subject: [wp-hackers] Media upload problem with Flash
Message-ID: <491D943D.6020300@simplercomputing.net>


Hi,

I'm seeing an error with the flash-based media uploader that so far I
havne't been able to track down. With Firefox 3 and Flash 9, when I try
to upload an image I get this error on the screen:

At the top it says "HTTP error."

Then download lower where it'll usually say "Crunching..." right below
that I see this error:

"An error occurred in the upload. Please try again later."

This particular server is running Apache2 with PHP 5, and file
permissions for the entire wp-content directory three are set to 777,
and the proper subdirs to exist (e.g. 2008/11).

I've heard that this might be due to some sort of PHP settings but I'm
not sure about that.

Anybody have a clue why this happens? The regular HTML-based uploader
works fine. But not with Flash 9.

Mark

From andrew at fergcorp.com  Fri Nov 14 16:18:28 2008
From: andrew at fergcorp.com (Andrew Ferguson)
Date: Fri Nov 14 16:18:40 2008
Subject: [wp-hackers] admin-ajax.php / closedpostboxes
In-Reply-To: <db047a770811140608m452ae951kcc61ac6b95a09b0@mail.gmail.com>
References: <db047a770811140608m452ae951kcc61ac6b95a09b0@mail.gmail.com>
Message-ID: <628687b30811140818w5f930ebai7adcf4dc596fa6c@mail.gmail.com>

Frank,
I had the same problem a month ago or so. I dug into the code and was able
to figure it out. I typed up a basic guide in case other people had the same
questions I did: http://andrewferguson.net/2008/09/26/using-add_meta_box/

If you have any questions, holler.

-Andrew

On Fri, Nov 14, 2008 at 7:08 AM, Frank Bueltge <frank@bueltge.de> wrote:

> Hello,
>
> it is possible to use the ajax-functions for save the user-settings of
> closed boxes on plugin-pages?
>
> I have found the check in the admin-ajax.php for save the class of the
> different metaboxes.
> closedpostboxes
>
> Maybe it is possible to uses this for own plugin-pages.
>
> Thanks for your time and best wishes.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From frank at bueltge.de  Fri Nov 14 16:49:56 2008
From: frank at bueltge.de (Frank Bueltge)
Date: Fri Nov 14 16:50:04 2008
Subject: [wp-hackers] admin-ajax.php / closedpostboxes
In-Reply-To: <628687b30811140818w5f930ebai7adcf4dc596fa6c@mail.gmail.com>
References: <db047a770811140608m452ae951kcc61ac6b95a09b0@mail.gmail.com>
	<628687b30811140818w5f930ebai7adcf4dc596fa6c@mail.gmail.com>
Message-ID: <db047a770811140849k6a7a8a14rd99fd37d37958678@mail.gmail.com>

I use add_meta_box() in two plugins . and you say, with set a own
action 8do_action) it is possible to use this for my own plugin -
great. I will read your post and test this.
THX
From wordpress at dd32.id.au  Fri Nov 14 22:33:34 2008
From: wordpress at dd32.id.au (DD32)
Date: Fri Nov 14 22:34:03 2008
Subject: [wp-hackers] Media upload problem with Flash
In-Reply-To: <491D943D.6020300@simplercomputing.net>
References: <491D943D.6020300@simplercomputing.net>
Message-ID: <op.ukmrl8bak6w4mc@dd32.no-ip.com>

Sounds like it could possibly be mod_security: number 6:  
http://wordpress.org/support/topic/164999
But WordPress attempts to disable it if it notices mod_security enabled.

Do you have access to the Server error logs? There might be something in  
there?

On Sat, 15 Nov 2008 02:07:41 +1100, Mark E <mark@simplercomputing.net>  
wrote:

>
> Hi,
>
> I'm seeing an error with the flash-based media uploader that so far I
> havne't been able to track down. With Firefox 3 and Flash 9, when I try
> to upload an image I get this error on the screen:
>
> At the top it says "HTTP error."
>
> Then download lower where it'll usually say "Crunching..." right below
> that I see this error:
>
> "An error occurred in the upload. Please try again later."
>
> This particular server is running Apache2 with PHP 5, and file
> permissions for the entire wp-content directory three are set to 777,
> and the proper subdirs to exist (e.g. 2008/11).
>
> I've heard that this might be due to some sort of PHP settings but I'm
> not sure about that.
>
> Anybody have a clue why this happens? The regular HTML-based uploader
> works fine. But not with Flash 9.
>
> Mark
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From wordpress at dd32.id.au  Fri Nov 14 22:30:11 2008
From: wordpress at dd32.id.au (DD32)
Date: Fri Nov 14 22:53:21 2008
Subject: [wp-hackers] Re: Bad assumption on creation of ABSPATH
In-Reply-To: <f61e7743-4526-4e37-afd0-6e60d82f9f8f@g17g2000prg.googlegroups.com>
References: <491C64B1.208@gaarai.com> <491D0AD8.80003@cubegames.net>
	<f61e7743-4526-4e37-afd0-6e60d82f9f8f@g17g2000prg.googlegroups.com>
Message-ID: <op.ukmrglvjk6w4mc@dd32.no-ip.com>

On Sat, 15 Nov 2008 00:55:04 +1100, mpwalsh8 <mike_walsh@mindspring.com>  
wrote:

> I ran into one situation where Windows wasn't dealing with them
> correctly but I don't recall the exact details and I had to do all
> sorts of goofy manipulation to map and escapes the slashes properly.
>
> Regardless, PHP defines a constant (DIRECTORY_SEPARATORY) which is OS
> specific.  If this was used instead of hard-coding '/', wouldn't it
> address the original problem?

It would address the original complaint, It wouldnt technically solve  
anything.
Windows paths can be c:\blah\ or /blah/blah/ Windows doesnt care, The only  
time that you have problems is when you are parsing ABSPATH and expect it  
to be holding a Unix path, Which just isnt the case on windows.
From mark at simplercomputing.net  Sat Nov 15 00:55:27 2008
From: mark at simplercomputing.net (Mark E)
Date: Sat Nov 15 00:55:37 2008
Subject: [wp-hackers] Media upload problem with Flash
In-Reply-To: <op.ukmrl8bak6w4mc@dd32.no-ip.com>
References: <491D943D.6020300@simplercomputing.net>
	<op.ukmrl8bak6w4mc@dd32.no-ip.com>
Message-ID: <491E1DFF.8080609@simplercomputing.net>



DD32 wrote:
> Sounds like it could possibly be mod_security: number 6: 

mod_sec is disabled via .htaccess so that's not the problem.

Mark
From nelisa.jackson at yahoo.com  Sat Nov 15 03:55:07 2008
From: nelisa.jackson at yahoo.com (Nelisa Jackson)
Date: Sat Nov 15 03:56:26 2008
Subject: [wp-hackers] Bank logs needed
Message-ID: <963486.51582.qm@web59416.mail.ac4.yahoo.com>

I need a USA bank log-ins. I am ready and willing to pay upfront.
Please acknowledge receipt of this message. Please if you are ready for
this deal, then email me now. nelisa.jackson@yahoo.com
Pls get back to me ASAP

?Regards
Nelisa Jackson
?nelisa.jackson@yahoo.com


      
From zamoose at gmail.com  Sat Nov 15 04:16:00 2008
From: zamoose at gmail.com (Doug Stewart)
Date: Sat Nov 15 04:16:13 2008
Subject: [wp-hackers] Bank logs needed
In-Reply-To: <963486.51582.qm@web59416.mail.ac4.yahoo.com>
References: <963486.51582.qm@web59416.mail.ac4.yahoo.com>
Message-ID: <71ddd7490811142016t28c7c865l2995fc5d02e42cfe@mail.gmail.com>

Anyone else planning on reporting this joker to the Treasury/FBI task force
for potential online fraud? (i.e. http://www.ic3.gov/default.aspx). I just
may if no one else will.

On Fri, Nov 14, 2008 at 10:55 PM, Nelisa Jackson
<nelisa.jackson@yahoo.com>wrote:

> I need a USA bank log-ins. I am ready and willing to pay upfront.
> Please acknowledge receipt of this message. Please if you are ready for
> this deal, then email me now. nelisa.jackson@yahoo.com
> Pls get back to me ASAP
>
>  Regards
> Nelisa Jackson
>  nelisa.jackson@yahoo.com
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
-Doug
From dabbaking at gmail.com  Sat Nov 15 06:13:08 2008
From: dabbaking at gmail.com (David Weitz)
Date: Sat Nov 15 06:13:26 2008
Subject: [wp-hackers] Bank logs needed
In-Reply-To: <71ddd7490811142016t28c7c865l2995fc5d02e42cfe@mail.gmail.com>
Message-ID: <C543D2A4.CF7%dabbaking@gmail.com>

I would rather them not have all my contact information and contact me about
various things.


On 11/14/08 11:16 PM, "Doug Stewart" <zamoose@gmail.com> wrote:

> Anyone else planning on reporting this joker to the Treasury/FBI task force
> for potential online fraud? (i.e. http://www.ic3.gov/default.aspx). I just
> may if no one else will.
> 
> On Fri, Nov 14, 2008 at 10:55 PM, Nelisa Jackson
> <nelisa.jackson@yahoo.com>wrote:
> 
>> I need a USA bank log-ins. I am ready and willing to pay upfront.
>> Please acknowledge receipt of this message. Please if you are ready for
>> this deal, then email me now. nelisa.jackson@yahoo.com
>> Pls get back to me ASAP
>> 
>>  Regards
>> Nelisa Jackson
>>  nelisa.jackson@yahoo.com
>> 
>> 
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> 
> 


From shane at bugssite.org  Sat Nov 15 13:21:37 2008
From: shane at bugssite.org (Shane A. Froebel)
Date: Sat Nov 15 13:22:48 2008
Subject: [wp-hackers] Resize the "default" image before it gets resized
Message-ID: <491ECCE1.70204@bugssite.org>

Hey all.

Anyone have any good ideas on how while uploading files that it can 
resize the default image (only in functions.php in my theme) and then 
use that resized image as a base for creating the 'thumbnail', 'medium', 
and 'large' settings.

Your Friend,
Shane
From wordpress at dd32.id.au  Sat Nov 15 23:45:56 2008
From: wordpress at dd32.id.au (DD32)
Date: Sat Nov 15 23:48:07 2008
Subject: [wp-hackers] Resize the "default" image before it gets resized
In-Reply-To: <491ECCE1.70204@bugssite.org>
References: <491ECCE1.70204@bugssite.org>
Message-ID: <op.ukopd8gdk6w4mc@dd32.no-ip.com>

I'd be hooking onto the filter 'wp_handle_upload' in wp_handle_upload():  
http://trac.wordpress.org/browser/trunk/wp-admin/includes/file.php#L306

Thumbnail generation is based off the return values of that

On Sun, 16 Nov 2008 00:21:37 +1100, Shane A. Froebel <shane@bugssite.org>  
wrote:

> Hey all.
>
> Anyone have any good ideas on how while uploading files that it can
> resize the default image (only in functions.php in my theme) and then
> use that resized image as a base for creating the 'thumbnail', 'medium',
> and 'large' settings.
>
> Your Friend,
> Shane
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From wordpress at santosj.name  Sun Nov 16 05:10:51 2008
From: wordpress at santosj.name (Jacob Santos)
Date: Sun Nov 16 05:11:05 2008
Subject: [wp-hackers] questions about PHPdoc and plugins
In-Reply-To: <93c3fbd10811081218o269a4ccbna1c6927177870d38@mail.gmail.com>
References: <93c3fbd10811081218o269a4ccbna1c6927177870d38@mail.gmail.com>
Message-ID: <491FAB5B.3020901@santosj.name>

Krusty Ruffle wrote:
> I'm trying to wrap my head around PHPdoc, specifically what I need to use to
> document a plugin. I've read the documentation in the codex, but it seems to
> be geared more toward actual WordPress files. I've read the pear
> documentation that the codex links to. I've also looked at many plugins but
> I've noticed that most are not using PHPdoc at all, and those that do have
> limited blocks for some functions.
>
> I think I may be obsessing about this too much and making it harder than it
> is.
>
> My main questions are:
>
> 1) Should I have an opening block for the plugin file itself, if so what
> should it have in it?
> 2) Does anybody know of a plugin that is thoroughly documented with PHPdoc
> that I can download and look at to see what it really looks like in there?
>
> I can look at the core files to see what the Docblocks look like for
> functions and such, but I'm still getting quite befuddled...
>
> Thanks to anyone who can help me out with this or point me in the right
> direction. :)
Mostly, I would say that it takes practice. The documentation in the 
source of WordPress isn't perfect, and a lot has changed to the standard 
in order to make it so. I apologize that the documentation isn't that clear.

I find that visual helps a lot with writing phpdoc style documentation, 
as well as DocBook style documentation for that matter. The reason why 
the wiki works so well, is that you can see it.

Jacob Santos
From krustyruffle at rustykruffle.com  Sun Nov 16 16:49:04 2008
From: krustyruffle at rustykruffle.com (Krusty Ruffle)
Date: Sun Nov 16 16:49:18 2008
Subject: [wp-hackers] questions about PHPdoc and plugins
In-Reply-To: <491FAB5B.3020901@santosj.name>
References: <93c3fbd10811081218o269a4ccbna1c6927177870d38@mail.gmail.com>
	<491FAB5B.3020901@santosj.name>
Message-ID: <93c3fbd10811160849y4039329evf6d637d59fb68fa4@mail.gmail.com>

Thanks for the reply! I hope I didn't come across as putting down the
documentation in the WordPress source code, that was not my intent at all. I
was confused about what I needed to do to add similar documentation to a
plugins source code. I guess I had been hoping that there would be a
skeleton file or something along those lines that could be used to help
people understand what needs to be documented in a plugin. I eventually came
to the conclusion that putting docblocks in there for the functions would be
acceptable, especially for a plugin as simple as the one I wrote :)

And really, the documentation in that source code has improved an
unbelievable amount lately. I've found it to be much easier to figure things
out when looking at the source code, that's why I wondered about putting it
in a plugin, I though it would be good to follow suite...

Thanks again, for the reply, and the documentation efforts. It is greatly
appreciated :)

Mostly, I would say that it takes practice. The documentation in the source
> of WordPress isn't perfect, and a lot has changed to the standard in order
> to make it so. I apologize that the documentation isn't that clear.
>
> I find that visual helps a lot with writing phpdoc style documentation, as
> well as DocBook style documentation for that matter. The reason why the wiki
> works so well, is that you can see it.
>
> Jacob Santos
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wordpress at santosj.name  Sun Nov 16 18:55:04 2008
From: wordpress at santosj.name (Jacob Santos)
Date: Sun Nov 16 18:55:17 2008
Subject: [wp-hackers] questions about PHPdoc and plugins
In-Reply-To: <93c3fbd10811160849y4039329evf6d637d59fb68fa4@mail.gmail.com>
References: <93c3fbd10811081218o269a4ccbna1c6927177870d38@mail.gmail.com>	<491FAB5B.3020901@santosj.name>
	<93c3fbd10811160849y4039329evf6d637d59fb68fa4@mail.gmail.com>
Message-ID: <49206C88.4030704@santosj.name>

Well, for an example of an highly documented plugin, you can take a look 
at http://wordpress.org/extend/plugins/alternative-mailer/.

Jacob Santos

Krusty Ruffle wrote:
> Thanks for the reply! I hope I didn't come across as putting down the
> documentation in the WordPress source code, that was not my intent at all. I
> was confused about what I needed to do to add similar documentation to a
> plugins source code. I guess I had been hoping that there would be a
> skeleton file or something along those lines that could be used to help
> people understand what needs to be documented in a plugin. I eventually came
> to the conclusion that putting docblocks in there for the functions would be
> acceptable, especially for a plugin as simple as the one I wrote :)
>
> And really, the documentation in that source code has improved an
> unbelievable amount lately. I've found it to be much easier to figure things
> out when looking at the source code, that's why I wondered about putting it
> in a plugin, I though it would be good to follow suite...
>
> Thanks again, for the reply, and the documentation efforts. It is greatly
> appreciated :)
>
> Mostly, I would say that it takes practice. The documentation in the source
>   
>> of WordPress isn't perfect, and a lot has changed to the standard in order
>> to make it so. I apologize that the documentation isn't that clear.
>>
>> I find that visual helps a lot with writing phpdoc style documentation, as
>> well as DocBook style documentation for that matter. The reason why the wiki
>> works so well, is that you can see it.
>>
>> Jacob Santos
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From jason at intraffic.net  Mon Nov 17 01:54:51 2008
From: jason at intraffic.net (Jason Webster)
Date: Mon Nov 17 01:55:06 2008
Subject: [wp-hackers] Media upload problem with Flash
In-Reply-To: <491D943D.6020300@simplercomputing.net>
References: <491D943D.6020300@simplercomputing.net>
Message-ID: <4920CEEB.6050805@intraffic.net>

Just a shot in the dark, but: Are you using SSL authentication for the 
admin panel?? There may be conflict between that and the "Flash doesn't 
send cookie/session information properly" workaround.

Mark E wrote:
>
> Hi,
>
> I'm seeing an error with the flash-based media uploader that so far I
> havne't been able to track down. With Firefox 3 and Flash 9, when I try
> to upload an image I get this error on the screen:
>
> At the top it says "HTTP error."
>
> Then download lower where it'll usually say "Crunching..." right below
> that I see this error:
>
> "An error occurred in the upload. Please try again later."
>
> This particular server is running Apache2 with PHP 5, and file
> permissions for the entire wp-content directory three are set to 777,
> and the proper subdirs to exist (e.g. 2008/11).
>
> I've heard that this might be due to some sort of PHP settings but I'm
> not sure about that.
>
> Anybody have a clue why this happens? The regular HTML-based uploader
> works fine. But not with Flash 9.
>
> Mark
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From krustyruffle at rustykruffle.com  Mon Nov 17 06:34:48 2008
From: krustyruffle at rustykruffle.com (Krusty Ruffle)
Date: Mon Nov 17 06:35:00 2008
Subject: [wp-hackers] questions about PHPdoc and plugins
In-Reply-To: <49206C88.4030704@santosj.name>
References: <93c3fbd10811081218o269a4ccbna1c6927177870d38@mail.gmail.com>
	<491FAB5B.3020901@santosj.name>
	<93c3fbd10811160849y4039329evf6d637d59fb68fa4@mail.gmail.com>
	<49206C88.4030704@santosj.name>
Message-ID: <93c3fbd10811162234i388bbdf7ldc6b36d7458a684b@mail.gmail.com>

Thank you! This is exactly what I was hoping for!


On Sun, Nov 16, 2008 at 1:55 PM, Jacob Santos <wordpress@santosj.name>wrote:

> Well, for an example of an highly documented plugin, you can take a look at
> http://wordpress.org/extend/plugins/alternative-mailer/.
>
> Jacob Santos
>
>
From mark at simplercomputing.net  Mon Nov 17 07:37:49 2008
From: mark at simplercomputing.net (Mark E)
Date: Mon Nov 17 07:37:59 2008
Subject: [wp-hackers] Media upload problem with Flash
In-Reply-To: <4920CEEB.6050805@intraffic.net>
References: <491D943D.6020300@simplercomputing.net>
	<4920CEEB.6050805@intraffic.net>
Message-ID: <49211F4D.8020609@simplercomputing.net>



Jason Webster wrote:
> Just a shot in the dark, but: Are you using SSL authentication for the 
> admin panel?? 

Nope.

Mark
From johnbillion+wp at gmail.com  Mon Nov 17 09:06:39 2008
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon Nov 17 09:06:51 2008
Subject: [wp-hackers] Media upload problem with Flash
In-Reply-To: <49211F4D.8020609@simplercomputing.net>
References: <491D943D.6020300@simplercomputing.net>
	<4920CEEB.6050805@intraffic.net>
	<49211F4D.8020609@simplercomputing.net>
Message-ID: <1fa535a70811170106r7dc6de4ep8eed274cdf1ee54a@mail.gmail.com>

<promotion type="blatent self">

If the Flash uploader issue is causing you problems, there is an
interim solution in the form of one of my plugins:
http://wordpress.org/extend/plugins/image-upload-http-error-fix/ . It
fixes the problem in around two thirds of the cases I've seen. I know
it's not a solution to the root cause, but it might get you out of a
fix.

</promotion>

John.

On Mon, Nov 17, 2008 at 7:37 AM, Mark E <mark@simplercomputing.net> wrote:
>
>
> Jason Webster wrote:
>>
>> Just a shot in the dark, but: Are you using SSL authentication for the
>> admin panel??
>
> Nope.
>
> Mark
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From johnbillion+wp at gmail.com  Mon Nov 17 09:08:26 2008
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon Nov 17 09:08:40 2008
Subject: [wp-hackers] Media upload problem with Flash
In-Reply-To: <1fa535a70811170106r7dc6de4ep8eed274cdf1ee54a@mail.gmail.com>
References: <491D943D.6020300@simplercomputing.net>
	<4920CEEB.6050805@intraffic.net>
	<49211F4D.8020609@simplercomputing.net>
	<1fa535a70811170106r7dc6de4ep8eed274cdf1ee54a@mail.gmail.com>
Message-ID: <1fa535a70811170108kd99bf5dgbe3f6e883c158d7b@mail.gmail.com>

Whoops I just read this thread in better detail. Seems you've already
disabled mod_security so my plugin probably won't help.

On Mon, Nov 17, 2008 at 9:06 AM, John Blackbourn
<johnbillion+wp@gmail.com> wrote:
> <promotion type="blatent self">
>
> If the Flash uploader issue is causing you problems, there is an
> interim solution in the form of one of my plugins:
> http://wordpress.org/extend/plugins/image-upload-http-error-fix/ . It
> fixes the problem in around two thirds of the cases I've seen. I know
> it's not a solution to the root cause, but it might get you out of a
> fix.
>
> </promotion>
>
> John.
>
> On Mon, Nov 17, 2008 at 7:37 AM, Mark E <mark@simplercomputing.net> wrote:
>>
>>
>> Jason Webster wrote:
>>>
>>> Just a shot in the dark, but: Are you using SSL authentication for the
>>> admin panel??
>>
>> Nope.
>>
>> Mark
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
From photofantaisie at gmail.com  Mon Nov 17 12:15:00 2008
From: photofantaisie at gmail.com (Ade Walker)
Date: Mon Nov 17 12:15:07 2008
Subject: [wp-hackers] Paragraph tags in HTML editor
Message-ID: <9dd057850811170415r16d55e8eg7c4d0715b57bda99@mail.gmail.com>

Hi all,

I'm sure this has been covered a thousand times before (in which case,
apologies), but I would like to find a way of forcing P tags to be visible
in the HTML editor, and therefore editable. I sometimes have problems with
the way the Editor automatically adds P tags (due to me adding other html
tags such as DIVs in the Editor).

Thanks.

Ade.
From lynne.pope at gmail.com  Mon Nov 17 12:26:01 2008
From: lynne.pope at gmail.com (Lynne Pope)
Date: Mon Nov 17 12:26:10 2008
Subject: [wp-hackers] Paragraph tags in HTML editor
In-Reply-To: <9dd057850811170415r16d55e8eg7c4d0715b57bda99@mail.gmail.com>
References: <9dd057850811170415r16d55e8eg7c4d0715b57bda99@mail.gmail.com>
Message-ID: <427667db0811170426m6c3118adi1b51fc4a0db764e1@mail.gmail.com>

2008/11/18 Ade Walker <photofantaisie@gmail.com>:
> Hi all,
>
> I'm sure this has been covered a thousand times before (in which case,
> apologies), but I would like to find a way of forcing P tags to be visible
> in the HTML editor, and therefore editable. I sometimes have problems with
> the way the Editor automatically adds P tags (due to me adding other html
> tags such as DIVs in the Editor).
>

Why not disable the auto p completely and just use your own paragraph
tags? Its much easier ;)

//disable auto p
remove_filter ('the_content',  'wpautop');

Include this in  functions.php and you never have to worry about them again.

Lynne
From photofantaisie at gmail.com  Mon Nov 17 12:40:55 2008
From: photofantaisie at gmail.com (Ade Walker)
Date: Mon Nov 17 12:41:08 2008
Subject: [wp-hackers] Paragraph tags in HTML editor
In-Reply-To: <427667db0811170426m6c3118adi1b51fc4a0db764e1@mail.gmail.com>
References: <9dd057850811170415r16d55e8eg7c4d0715b57bda99@mail.gmail.com>
	<427667db0811170426m6c3118adi1b51fc4a0db764e1@mail.gmail.com>
Message-ID: <9dd057850811170440o61e6875cg73a449adcb99c61a@mail.gmail.com>

Lynne,

That's perfect. Exactly what I was looking for!

Thanks.

Ade.

2008/11/17 Lynne Pope <lynne.pope@gmail.com>

> 2008/11/18 Ade Walker <photofantaisie@gmail.com>:
> > Hi all,
> >
> > I'm sure this has been covered a thousand times before (in which case,
> > apologies), but I would like to find a way of forcing P tags to be
> visible
> > in the HTML editor, and therefore editable. I sometimes have problems
> with
> > the way the Editor automatically adds P tags (due to me adding other html
> > tags such as DIVs in the Editor).
> >
>
> Why not disable the auto p completely and just use your own paragraph
> tags? Its much easier ;)
>
> //disable auto p
> remove_filter ('the_content',  'wpautop');
>
> Include this in  functions.php and you never have to worry about them
> again.
>
> Lynne
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From hempsworth at googlemail.com  Mon Nov 17 17:30:40 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Mon Nov 17 17:30:49 2008
Subject: [wp-hackers] Different title in menus
Message-ID: <5a1dad880811170930g642673f7v8bdd066570ce1a5@mail.gmail.com>

Hi all,
I use wp_list_pages to show the sub-pages of a particular section of my
site, but I regularly want a different title to appear in the menu than what
appears in "the_title" on my pages; is there any way of showing a different
title in menus than the one that is outputted from "the_title", or should I
hardcode the <h2> in my page content; or perhaps use a custom field?

Many thanks for any ideas,
Alex
From hempsworth at googlemail.com  Mon Nov 17 22:46:54 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Mon Nov 17 22:47:05 2008
Subject: [wp-hackers] "Full URL path to files" not saving
Message-ID: <5a1dad880811171446q6257711fvb49a5963eb637096@mail.gmail.com>

Hi all,
I haven't tried this in a while, so I'm not sure if it's just the current
build, but using the most recent SVN revision (9744), I cannot seem to save
the full URL path to files data in the "Miscellaneous" panel of the Settings
area.

The box above it where you specify the folder to store uploads works fine,
and saves uploads there, but it doesn't want to save the URL override.

Can anybody confirm this is happening to them?

Thanks,
Alex
From mark.wordpress at txfx.net  Tue Nov 18 09:00:54 2008
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Tue Nov 18 09:01:09 2008
Subject: [wp-hackers] "Full URL path to files" not saving
In-Reply-To: <5a1dad880811171446q6257711fvb49a5963eb637096@mail.gmail.com>
References: <5a1dad880811171446q6257711fvb49a5963eb637096@mail.gmail.com>
Message-ID: <8DE3DE47-3ABC-411B-A7C5-243B62D3AE65@txfx.net>

On Nov 17, 2008, at 5:46 PM, Alex Hempton-Smith wrote:

> I haven't tried this in a while, so I'm not sure if it's just the  
> current
> build, but using the most recent SVN revision (9744), I cannot seem  
> to save
> the full URL path to files data in the "Miscellaneous" panel of the  
> Settings
> area.

Fixed: http://trac.wordpress.org/changeset/9756

Thanks!

--
Mark Jaquith ? http://markjaquith.com/



From zamoose at gmail.com  Tue Nov 18 14:47:33 2008
From: zamoose at gmail.com (Doug Stewart)
Date: Tue Nov 18 14:47:46 2008
Subject: [wp-hackers] Slightly O/T: Another one (MT install) bites the dust
Message-ID: <71ddd7490811180647u4a114c16lb9ce0e429475b6da@mail.gmail.com>

Glenn Reynolds aka The Instapundit has made the switch from Movable
Type to WordPress (http://pajamasmedia.com/instapundit/27350/).  I
don't know that it was fully his choice (he moved off his own gear and
onto PJ's hosting setup) but the transition has been pretty flawless.

Good press for WP, IMHO, as Instapundit is one of the
highest-trafficked political blogs out there.

-- 
-Doug
From mrickert at trone.com  Tue Nov 18 15:05:47 2008
From: mrickert at trone.com (Mark Rickert)
Date: Tue Nov 18 15:05:59 2008
Subject: [wp-hackers] Slightly O/T: Another one (MT install) bites the dust
In-Reply-To: <71ddd7490811180647u4a114c16lb9ce0e429475b6da@mail.gmail.com>
References: <71ddd7490811180647u4a114c16lb9ce0e429475b6da@mail.gmail.com>
Message-ID: <53111E54-5A80-4E6F-BEA7-99FDA901D664@trone.com>

Great news for the WP community!


On Nov 18, 2008, at 9:47 AM, Doug Stewart wrote:

> Glenn Reynolds aka The Instapundit has made the switch from Movable
> Type to WordPress (http://pajamasmedia.com/instapundit/27350/).  I
> don't know that it was fully his choice (he moved off his own gear and
> onto PJ's hosting setup) but the transition has been pretty flawless.
>
> Good press for WP, IMHO, as Instapundit is one of the
> highest-trafficked political blogs out there.
>
> -- 
> -Doug
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



~~~~~~~~~~~~~~~~~~~~~~~~~~~
Mark Rickert
Interactive Programmer, Trone
336.812.2060
mrickert@trone.com
http://www.trone.com/

Confidentiality Notice: This e-mail communication and any attachments may contain confidential and privileged information for the use of the designated recipients named above. If you are not the intended recipient, you are hereby notified that you have received this communication in error and that any review, disclosure, dissemination, distribution or copying of it or its contents is prohibited. If you have received this communication in error, please notify me immediately by replying to this message and deleting it from your computer. Thank you.
From wp-hackers at striderweb.com  Tue Nov 18 15:15:56 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Nov 18 15:16:17 2008
Subject: [wp-hackers] Slightly O/T: Another one (MT install) bites the dust
In-Reply-To: <71ddd7490811180647u4a114c16lb9ce0e429475b6da@mail.gmail.com>
References: <71ddd7490811180647u4a114c16lb9ce0e429475b6da@mail.gmail.com>
Message-ID: <5953D302-F931-4668-AACC-99B491C3CAFE@striderweb.com>

More: http://pajamasmedia.com/instapundit/27429/

On Nov 18, 2008, at 8:47 AM, Doug Stewart wrote:

> Glenn Reynolds aka The Instapundit has made the switch from Movable
> Type to WordPress (http://pajamasmedia.com/instapundit/27350/).  I
> don't know that it was fully his choice (he moved off his own gear and
> onto PJ's hosting setup) but the transition has been pretty flawless.
>
> Good press for WP, IMHO, as Instapundit is one of the
> highest-trafficked political blogs out there.

From lists at alexking.org  Tue Nov 18 16:15:06 2008
From: lists at alexking.org (Alex King)
Date: Tue Nov 18 16:15:20 2008
Subject: [wp-hackers] Twitter Tools digest help
Message-ID: <D2F527B2-A47D-4B93-9C52-AE0B2D3295D2@alexking.org>

Hello all--

If anyone has some spare cycles to help out debugging some issues with  
the digest features in Twitter Tools, I'd be grateful:

http://alexking.org/blog/2008/11/16/twitter-tools-digest-problems

Cheers,
--Alex

Personal   http://alexking.org
Business   http://crowdfavorite.com
Schedule   http://alex.myfreebusy.com



From otto at ottodestruct.com  Tue Nov 18 16:31:53 2008
From: otto at ottodestruct.com (Otto)
Date: Tue Nov 18 16:32:06 2008
Subject: [wp-hackers] Twitter Tools digest help
In-Reply-To: <D2F527B2-A47D-4B93-9C52-AE0B2D3295D2@alexking.org>
References: <D2F527B2-A47D-4B93-9C52-AE0B2D3295D2@alexking.org>
Message-ID: <161617690811180831h7e5361eeu94eeb728952c3e61@mail.gmail.com>

You have a very edge case race condition regarding the
aktt_doing_digest_post option. You check it then do a whole bunch of
date checking stuff that takes a finite amount of time before you then
later set it to 1, to show that you're doing something, in another
function entirely. Because of this, it's possible for the digest to
run more than once on a high enough traffic site. All that has to
happen is two threads enter that check at pretty close to the same
time, and they'll both end up creating the digest.

If you are using an option as a mutex (not safe, but what is, eh?),
then you need to set the option more or less immediately after you
check it. This does not fix the race condition, but it does reduce its
impact. You also need to make certain that the option you use for that
has the autoload setting set to false, else one thread that started up
before you set it can have it cached and never reload it even after
you've set it.

Honestly, that whole thing on the shutdown action is weak anyway. Use
the event scheduler instead . Sure, it won't work when somebody's
wp-cron setup is broken, but lots of things won't work in those cases.
 http://codex.wordpress.org/Category:WP-Cron_Functions



On Tue, Nov 18, 2008 at 10:15 AM, Alex King <lists@alexking.org> wrote:
> Hello all--
>
> If anyone has some spare cycles to help out debugging some issues with the
> digest features in Twitter Tools, I'd be grateful:
>
> http://alexking.org/blog/2008/11/16/twitter-tools-digest-problems
>
> Cheers,
> --Alex
>
> Personal   http://alexking.org
> Business   http://crowdfavorite.com
> Schedule   http://alex.myfreebusy.com
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From andre.renaut at gmail.com  Tue Nov 18 18:40:59 2008
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Tue Nov 18 18:41:15 2008
Subject: [wp-hackers] screen_meta and 2.7beta3
Message-ID: <8810a71a0811181040n6325985ekde94dd18c770500d@mail.gmail.com>

Hi,

i am still struggling to add the screen options to my plugin pages.

So i manage to get the $page_hook everywhere i needed it. even in javascript
to post to admin-ajax the right values but ....


the $page_hook is that type : toto_page_xyz

and in admin-ajax.php there is this :

case 'closed-postboxes' :
    check_ajax_referer( 'closedpostboxes', 'closedpostboxesnonce' );
    $closed = isset( $_POST['closed'] )? $_POST['closed'] : '';
    $closed = explode( ',', $_POST['closed'] );
    $hidden = isset( $_POST['hidden'] )? $_POST['hidden'] : '';
    $hidden = explode( ',', $_POST['hidden'] );
    $page = isset( $_POST['page'] )? $_POST['page'] : '';
*    if ( !preg_match( '/^[a-z-]+$/', $page ) ) {
        die(-1);
    }*
    $current_user = wp_get_current_user();
    if ( is_array($closed) )
        update_usermeta($current_user->ID, 'closedpostboxes_'.$page,
$closed);
    if ( is_array($hidden) )
        update_usermeta($current_user->ID, 'meta-box-hidden_'.$page,
$hidden);
break;

so no chance to have my indivudual settings for a metabox or a column to be
saved ...

any ideas ?
From ryan at boren.nu  Tue Nov 18 18:45:36 2008
From: ryan at boren.nu (Ryan Boren)
Date: Tue Nov 18 18:45:49 2008
Subject: [wp-hackers] screen_meta and 2.7beta3
In-Reply-To: <8810a71a0811181040n6325985ekde94dd18c770500d@mail.gmail.com>
References: <8810a71a0811181040n6325985ekde94dd18c770500d@mail.gmail.com>
Message-ID: <c8f37c930811181045o68cc8a38y35763e383e16dac3@mail.gmail.com>

On Tue, Nov 18, 2008 at 10:40 AM, andr? renaut <andre.renaut@gmail.com> wrote:
> Hi,
>
> i am still struggling to add the screen options to my plugin pages.
>
> So i manage to get the $page_hook everywhere i needed it. even in javascript
> to post to admin-ajax the right values but ....
>
>
> the $page_hook is that type : toto_page_xyz
>
> and in admin-ajax.php there is this :

http://trac.wordpress.org/changeset/9759
From lists at alexking.org  Tue Nov 18 18:59:20 2008
From: lists at alexking.org (Alex King)
Date: Tue Nov 18 18:59:33 2008
Subject: [wp-hackers] Twitter Tools digest help
In-Reply-To: <161617690811180831h7e5361eeu94eeb728952c3e61@mail.gmail.com>
References: <D2F527B2-A47D-4B93-9C52-AE0B2D3295D2@alexking.org>
	<161617690811180831h7e5361eeu94eeb728952c3e61@mail.gmail.com>
Message-ID: <8E25442B-6995-4F46-BE09-E234F8B65DC6@alexking.org>

> On Nov 18, 2008, at 9:31 AM, Otto wrote:
>
> Honestly, that whole thing on the shutdown action is weak anyway. Use
> the event scheduler instead . Sure, it won't work when somebody's
> wp-cron setup is broken, but lots of things won't work in those cases.
> http://codex.wordpress.org/Category:WP-Cron_Functions
>

The WP Cron stuff had known bugs that made it too hard to work with  
when I was first writing this. Perhaps it's time to revisit that  
decision.

Cheers,
--Alex

Personal   http://alexking.org
Business   http://crowdfavorite.com
Schedule   http://alex.myfreebusy.com




From frank at bueltge.de  Tue Nov 18 19:31:40 2008
From: frank at bueltge.de (Frank Bueltge)
Date: Tue Nov 18 19:31:49 2008
Subject: [wp-hackers] contextual_help - understand i this correctly?
Message-ID: <db047a770811181131v31f27259v703df495b74c25ba@mail.gmail.com>

I play with the new help in 2.7
Is my code correctly, i have write my appreciation on the syntax

THX for your time and help!

// filter for help over all pages in admin?
add_filter( 'contextual_help_link', array($this, 'contextual_help_link') );

		function contextual_help() {
			$contextual_help .= __('test', 'my_plugin');
		
			echo $contextual_help;
		}

// help-content for the different pages?
add_filter( 'contextual_help', array($this, 'contextual_help') );

		function contextual_help() {
			$contextual_help .= '<div class="metabox-prefs">'; // is this important?
			$contextual_help .= __('test', 'my_plugin');
			$contextual_help .= "</div>\n";
		
			echo $contextual_help;
		}
From ryan at boren.nu  Tue Nov 18 19:59:11 2008
From: ryan at boren.nu (Ryan Boren)
Date: Tue Nov 18 19:59:23 2008
Subject: [wp-hackers] contextual_help - understand i this correctly?
In-Reply-To: <db047a770811181131v31f27259v703df495b74c25ba@mail.gmail.com>
References: <db047a770811181131v31f27259v703df495b74c25ba@mail.gmail.com>
Message-ID: <c8f37c930811181159i4a215c03jc5ae0d331d14986d@mail.gmail.com>

On Tue, Nov 18, 2008 at 11:31 AM, Frank Bueltge <frank@bueltge.de> wrote:
> I play with the new help in 2.7
> Is my code correctly, i have write my appreciation on the syntax
>
> THX for your time and help!
>
> // filter for help over all pages in admin?
> add_filter( 'contextual_help_link', array($this, 'contextual_help_link') );
>
>                function contextual_help() {
>                        $contextual_help .= __('test', 'my_plugin');
>
>                        echo $contextual_help;
>                }
>
> // help-content for the different pages?
> add_filter( 'contextual_help', array($this, 'contextual_help') );
>
>                function contextual_help() {
>                        $contextual_help .= '<div class="metabox-prefs">'; // is this important?
>                        $contextual_help .= __('test', 'my_plugin');
>                        $contextual_help .= "</div>\n";
>
>                        echo $contextual_help;
>                }

http://trac.wordpress.org/changeset/9761

Changeset 9761 introduces add_contextual_help().  Use it like so:

$hook = add_object_page('Test Object', 'Test Object', 8, 'mt_object',
'mt_object_page');
    add_contextual_help($hook, 'Testing Help');

That adds your custom help text to the contextual part of the menu
slide down.  If you want to replace the entire content of the slider,
use the contextual_help filter.
From scribu at gmail.com  Tue Nov 18 20:12:30 2008
From: scribu at gmail.com (scribu)
Date: Tue Nov 18 20:12:45 2008
Subject: [wp-hackers] Different title in menus
In-Reply-To: <5a1dad880811170930g642673f7v8bdd066570ce1a5@mail.gmail.com>
References: <5a1dad880811170930g642673f7v8bdd066570ce1a5@mail.gmail.com>
Message-ID: <349fe48b0811181212u5695f3f3l54935486e183e732@mail.gmail.com>

On Mon, Nov 17, 2008 at 7:30 PM, Alex Hempton-Smith <
hempsworth@googlemail.com> wrote:

> Hi all,
> I use wp_list_pages to show the sub-pages of a particular section of my
> site, but I regularly want a different title to appear in the menu than
> what
> appears in "the_title" on my pages; is there any way of showing a different
> title in menus than the one that is outputted from "the_title", or should I
> hardcode the <h2> in my page content; or perhaps use a custom field?
>

A custom field would be the best way to go about it, IMHO.

-- 
http://scribu.net
From frank at bueltge.de  Tue Nov 18 20:20:56 2008
From: frank at bueltge.de (Frank Bueltge)
Date: Tue Nov 18 20:21:08 2008
Subject: [wp-hackers] contextual_help - understand i this correctly?
In-Reply-To: <c8f37c930811181159i4a215c03jc5ae0d331d14986d@mail.gmail.com>
References: <db047a770811181131v31f27259v703df495b74c25ba@mail.gmail.com>
	<c8f37c930811181159i4a215c03jc5ae0d331d14986d@mail.gmail.com>
Message-ID: <db047a770811181220g297628ccg4d03446354708730@mail.gmail.com>

thanks, works great
Best regards



On Tue, Nov 18, 2008 at 8:59 PM, Ryan Boren <ryan@boren.nu> wrote:
> On Tue, Nov 18, 2008 at 11:31 AM, Frank Bueltge <frank@bueltge.de> wrote:
>> I play with the new help in 2.7
>> Is my code correctly, i have write my appreciation on the syntax
>>
>> THX for your time and help!
>>
>> // filter for help over all pages in admin?
>> add_filter( 'contextual_help_link', array($this, 'contextual_help_link') );
>>
>>                function contextual_help() {
>>                        $contextual_help .= __('test', 'my_plugin');
>>
>>                        echo $contextual_help;
>>                }
>>
>> // help-content for the different pages?
>> add_filter( 'contextual_help', array($this, 'contextual_help') );
>>
>>                function contextual_help() {
>>                        $contextual_help .= '<div class="metabox-prefs">'; // is this important?
>>                        $contextual_help .= __('test', 'my_plugin');
>>                        $contextual_help .= "</div>\n";
>>
>>                        echo $contextual_help;
>>                }
>
> http://trac.wordpress.org/changeset/9761
>
> Changeset 9761 introduces add_contextual_help().  Use it like so:
>
> $hook = add_object_page('Test Object', 'Test Object', 8, 'mt_object',
> 'mt_object_page');
>    add_contextual_help($hook, 'Testing Help');
>
> That adds your custom help text to the contextual part of the menu
> slide down.  If you want to replace the entire content of the slider,
> use the contextual_help filter.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From frank at bueltge.de  Tue Nov 18 20:37:39 2008
From: frank at bueltge.de (Frank Bueltge)
Date: Tue Nov 18 20:37:47 2008
Subject: [wp-hackers] contextual_help - understand i this correctly?
In-Reply-To: <db047a770811181220g297628ccg4d03446354708730@mail.gmail.com>
References: <db047a770811181131v31f27259v703df495b74c25ba@mail.gmail.com>
	<c8f37c930811181159i4a215c03jc5ae0d331d14986d@mail.gmail.com>
	<db047a770811181220g297628ccg4d03446354708730@mail.gmail.com>
Message-ID: <db047a770811181237p6a0697as7c8264e09a14446b@mail.gmail.com>

When  i set the filter for deactive the other links:
add_filter( 'contextual_help', 'test' );

the it is not possible to use the the "help"-link.
a tipp?
From ryan at boren.nu  Tue Nov 18 20:53:28 2008
From: ryan at boren.nu (Ryan Boren)
Date: Tue Nov 18 20:53:40 2008
Subject: [wp-hackers] contextual_help - understand i this correctly?
In-Reply-To: <db047a770811181237p6a0697as7c8264e09a14446b@mail.gmail.com>
References: <db047a770811181131v31f27259v703df495b74c25ba@mail.gmail.com>
	<c8f37c930811181159i4a215c03jc5ae0d331d14986d@mail.gmail.com>
	<db047a770811181220g297628ccg4d03446354708730@mail.gmail.com>
	<db047a770811181237p6a0697as7c8264e09a14446b@mail.gmail.com>
Message-ID: <c8f37c930811181253y4915fbf5n522578adc1a8cb6c@mail.gmail.com>

On Tue, Nov 18, 2008 at 12:37 PM, Frank Bueltge <frank@bueltge.de> wrote:
> When  i set the filter for deactive the other links:
> add_filter( 'contextual_help', 'test' );

'test' must be a valid callback.
From info at mindsharestudios.com  Tue Nov 18 21:08:14 2008
From: info at mindsharestudios.com (Mindshare Studios)
Date: Tue Nov 18 21:08:34 2008
Subject: [wp-hackers] Different title in menus
In-Reply-To: <349fe48b0811181212u5695f3f3l54935486e183e732@mail.gmail.com>
References: <5a1dad880811170930g642673f7v8bdd066570ce1a5@mail.gmail.com>
	<349fe48b0811181212u5695f3f3l54935486e183e732@mail.gmail.com>
Message-ID: <001501c949c1$c70e78e0$552b6aa0$@com>

This plugin does the trick perfectly: http://www.technokinetics.com/plugins/alt-link-text

Damian Taggart
Mindshare Studios


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of scribu
Sent: Tuesday, November 18, 2008 1:13 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Different title in menus

On Mon, Nov 17, 2008 at 7:30 PM, Alex Hempton-Smith <
hempsworth@googlemail.com> wrote:

> Hi all,
> I use wp_list_pages to show the sub-pages of a particular section of my
> site, but I regularly want a different title to appear in the menu than
> what
> appears in "the_title" on my pages; is there any way of showing a different
> title in menus than the one that is outputted from "the_title", or should I
> hardcode the <h2> in my page content; or perhaps use a custom field?
>

A custom field would be the best way to go about it, IMHO.

From andre.renaut at gmail.com  Wed Nov 19 07:19:39 2008
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Wed Nov 19 07:19:51 2008
Subject: [wp-hackers] Re: screen_meta and 2.7beta3
In-Reply-To: <8810a71a0811181040n6325985ekde94dd18c770500d@mail.gmail.com>
References: <8810a71a0811181040n6325985ekde94dd18c770500d@mail.gmail.com>
Message-ID: <8810a71a0811182319y3ae5f9cag1c666f546425445e@mail.gmail.com>

Hi,

Ryan fixed it

Same thing for columns ???

Thanks ;-)

2008/11/18 andr? renaut <andre.renaut@gmail.com>

> Hi,
>
> i am still struggling to add the screen options to my plugin pages.
>
> So i manage to get the $page_hook everywhere i needed it. even in
> javascript to post to admin-ajax the right values but ....
>
>
> the $page_hook is that type : toto_page_xyz
>
> and in admin-ajax.php there is this :
>
> case 'closed-postboxes' :
>     check_ajax_referer( 'closedpostboxes', 'closedpostboxesnonce' );
>     $closed = isset( $_POST['closed'] )? $_POST['closed'] : '';
>     $closed = explode( ',', $_POST['closed'] );
>     $hidden = isset( $_POST['hidden'] )? $_POST['hidden'] : '';
>     $hidden = explode( ',', $_POST['hidden'] );
>     $page = isset( $_POST['page'] )? $_POST['page'] : '';
> *    if ( !preg_match( '/^[a-z-]+$/', $page ) ) {
>         die(-1);
>     }*
>     $current_user = wp_get_current_user();
>     if ( is_array($closed) )
>         update_usermeta($current_user->ID, 'closedpostboxes_'.$page,
> $closed);
>     if ( is_array($hidden) )
>         update_usermeta($current_user->ID, 'meta-box-hidden_'.$page,
> $hidden);
> break;
>
> so no chance to have my indivudual settings for a metabox or a column to be
> saved ...
>
> any ideas ?
>
>


-- 
Pensez ? l'environnement avant d'imprimer ce message.
Please, think about the environment before printing this message.
From andre.renaut at gmail.com  Wed Nov 19 07:21:49 2008
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Wed Nov 19 07:21:58 2008
Subject: [wp-hackers] Re: screen_meta and 2.7beta3
In-Reply-To: <8810a71a0811181040n6325985ekde94dd18c770500d@mail.gmail.com>
References: <8810a71a0811181040n6325985ekde94dd18c770500d@mail.gmail.com>
Message-ID: <8810a71a0811182321o5fa60968y3a5d72d9ff379089@mail.gmail.com>

Oops did it already, discard my last message. Thanks

2008/11/18 andr? renaut <andre.renaut@gmail.com>

> Hi,
>
> i am still struggling to add the screen options to my plugin pages.
>
> So i manage to get the $page_hook everywhere i needed it. even in
> javascript to post to admin-ajax the right values but ....
>
>
> the $page_hook is that type : toto_page_xyz
>
> and in admin-ajax.php there is this :
>
> case 'closed-postboxes' :
>     check_ajax_referer( 'closedpostboxes', 'closedpostboxesnonce' );
>     $closed = isset( $_POST['closed'] )? $_POST['closed'] : '';
>     $closed = explode( ',', $_POST['closed'] );
>     $hidden = isset( $_POST['hidden'] )? $_POST['hidden'] : '';
>     $hidden = explode( ',', $_POST['hidden'] );
>     $page = isset( $_POST['page'] )? $_POST['page'] : '';
> *    if ( !preg_match( '/^[a-z-]+$/', $page ) ) {
>         die(-1);
>     }*
>     $current_user = wp_get_current_user();
>     if ( is_array($closed) )
>         update_usermeta($current_user->ID, 'closedpostboxes_'.$page,
> $closed);
>     if ( is_array($hidden) )
>         update_usermeta($current_user->ID, 'meta-box-hidden_'.$page,
> $hidden);
> break;
>
> so no chance to have my indivudual settings for a metabox or a column to be
> saved ...
>
> any ideas ?
>
>


-- 
Pensez ? l'environnement avant d'imprimer ce message.
Please, think about the environment before printing this message.
From dangayle at gmail.com  Wed Nov 19 08:30:23 2008
From: dangayle at gmail.com (Dan Gayle)
Date: Wed Nov 19 08:30:42 2008
Subject: [wp-hackers] AjaxWp enhancement
In-Reply-To: <8810a71a0811182321o5fa60968y3a5d72d9ff379089@mail.gmail.com>
References: <8810a71a0811181040n6325985ekde94dd18c770500d@mail.gmail.com>
	<8810a71a0811182321o5fa60968y3a5d72d9ff379089@mail.gmail.com>
Message-ID: <6CDFB2F9-15B4-43D7-9AF6-D3EB60B42D8F@gmail.com>

Since Gianni Milanesi's AjaxWp enchancement for Wordpress is no  
longer available, I've re-published it here:

http://ajaxwp.com

The site that contained the code is long gone, since October of 2007  
at least, but since the code was released under an MIT license, along  
with the documentation on his blog being under a CC license, I've  
reposted everything to a new dedicated site.

Also, I'm looking for help in getting the development of this going  
again. I'm not much of a programmer, I do a little in PHP for web  
stuff, but I'm really new to javascript and I need help.

I'm willing to provide hosting for the continued development of this  
enhancement, whether that means putting up a bug tracker or whatever,  
I'm willing to do it.

Thanks guys, for all your hard work!

Dan Gayle
dangayle@gmail.com
http://www.dangayle.com


From hempsworth at googlemail.com  Wed Nov 19 08:36:42 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Wed Nov 19 08:36:52 2008
Subject: [wp-hackers] AjaxWp enhancement
In-Reply-To: <6CDFB2F9-15B4-43D7-9AF6-D3EB60B42D8F@gmail.com>
References: <8810a71a0811181040n6325985ekde94dd18c770500d@mail.gmail.com>
	<8810a71a0811182321o5fa60968y3a5d72d9ff379089@mail.gmail.com>
	<6CDFB2F9-15B4-43D7-9AF6-D3EB60B42D8F@gmail.com>
Message-ID: <5a1dad880811190036i349cf20bn9bbffdf97ce9aa70@mail.gmail.com>

Some enhancements before I would even think about using this on my sites;
*  Better URL's, the 'real' URL of the page would be needed because many
people copy/paste this
*  Don't load the page if it's already open (I was on the download page,
clicked on the link to the same page and it loaded the page again, it should
recognise where I am)

After that, I might use it. Maybe :P

-- Alex
From hempsworth at googlemail.com  Wed Nov 19 08:38:11 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Wed Nov 19 08:38:20 2008
Subject: [wp-hackers] AjaxWp enhancement
In-Reply-To: <5a1dad880811190036i349cf20bn9bbffdf97ce9aa70@mail.gmail.com>
References: <8810a71a0811181040n6325985ekde94dd18c770500d@mail.gmail.com>
	<8810a71a0811182321o5fa60968y3a5d72d9ff379089@mail.gmail.com>
	<6CDFB2F9-15B4-43D7-9AF6-D3EB60B42D8F@gmail.com>
	<5a1dad880811190036i349cf20bn9bbffdf97ce9aa70@mail.gmail.com>
Message-ID: <5a1dad880811190038m4d9a86b4x93364ba73b02c0bb@mail.gmail.com>

Just a note about my first point, although copying that generated URL and
pasting it does work, it's certainly not pretty, and almost defies the
object of having pretty permalinks (which I sort of live off :P)

-- Alex


On Wed, Nov 19, 2008 at 8:36 AM, Alex Hempton-Smith <
hempsworth@googlemail.com> wrote:

> Some enhancements before I would even think about using this on my sites;
> *  Better URL's, the 'real' URL of the page would be needed because many
> people copy/paste this
> *  Don't load the page if it's already open (I was on the download page,
> clicked on the link to the same page and it loaded the page again, it should
> recognise where I am)
>
> After that, I might use it. Maybe :P
>
> -- Alex
>
From dangayle at gmail.com  Wed Nov 19 08:50:59 2008
From: dangayle at gmail.com (Dan Gayle)
Date: Wed Nov 19 08:51:18 2008
Subject: [wp-hackers] AjaxWp enhancement
In-Reply-To: <5a1dad880811190038m4d9a86b4x93364ba73b02c0bb@mail.gmail.com>
References: <8810a71a0811181040n6325985ekde94dd18c770500d@mail.gmail.com>
	<8810a71a0811182321o5fa60968y3a5d72d9ff379089@mail.gmail.com>
	<6CDFB2F9-15B4-43D7-9AF6-D3EB60B42D8F@gmail.com>
	<5a1dad880811190036i349cf20bn9bbffdf97ce9aa70@mail.gmail.com>
	<5a1dad880811190038m4d9a86b4x93364ba73b02c0bb@mail.gmail.com>
Message-ID: <9B6F9D63-E978-418D-85E3-9FE40331A3F4@gmail.com>

There was a page that Gianni Milanesi had that explained his  
rationale and process in creating AjaxWp, recreated here:

http://ajaxwp.com/ajaxifing-wordpress-the-making-of-ajaxwp/

In that page, he talks about Ajax' inability to bookmark/navigate  
history and how he fixed that issue, in the process making really  
ugly permalinks.

The cool thing about this is that all of the regular links work and  
look like normal. The only thing that doesn't look normal is the the  
url in the address bar.

As soon as I can, I'll see about adding the relevant comments to both  
pages where discussion about this very matter was described.

On Nov 19, 2008, at 12:38 AM, Alex Hempton-Smith wrote:

> Just a note about my first point, although copying that generated  
> URL and
> pasting it does work, it's certainly not pretty, and almost defies the
> object of having pretty permalinks (which I sort of live off :P)
>
> -- Alex
>
>
> On Wed, Nov 19, 2008 at 8:36 AM, Alex Hempton-Smith <
> hempsworth@googlemail.com> wrote:
>
>> Some enhancements before I would even think about using this on my  
>> sites;
>> *  Better URL's, the 'real' URL of the page would be needed  
>> because many
>> people copy/paste this
>> *  Don't load the page if it's already open (I was on the download  
>> page,
>> clicked on the link to the same page and it loaded the page again,  
>> it should
>> recognise where I am)
>>
>> After that, I might use it. Maybe :P
>>
>> -- Alex
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Philip at Hetjens.eu  Wed Nov 19 09:44:33 2008
From: Philip at Hetjens.eu (Philip Hetjens)
Date: Wed Nov 19 09:44:47 2008
Subject: [wp-hackers] Add filter comment_moderation_headers to
	wp_notify_moderator function
Message-ID: <019c01c94a2b$6d3d41b0$47b7c510$@eu>

Hi everybody,

 

I just created (my first) trac ticket http://trac.wordpress.org/ticket/8277
with a patch.

 

I hope I did everything well. Is there a chance that this request will be
included in wp2.7?

 

Thanks,

Philip

 

 

From mikael at cylinderlabs.se  Wed Nov 19 09:55:43 2008
From: mikael at cylinderlabs.se (Mikael Hedengren)
Date: Wed Nov 19 09:55:51 2008
Subject: [wp-hackers] Help with adding extra data into a post
Message-ID: <ab03dc280811190155r7ce2a6b7vc0d4328631b67056@mail.gmail.com>

Hi,

I am fairly new to WP and trying to develop a plugin that allows the user to
enter some extra data when writing or editing a post. The data will be saved
in a separate table in the WP database.
Using the custom field is not sufficient for me.

I use add_action('edit_form_advanced') to show the my data fields for input
but I don't know how to proceed (get the data from the form etc).

Is this the right approach?
Can anyone give me a hint on how to proceed, or some working example?

Thank you
From ionfish at gmail.com  Wed Nov 19 10:48:20 2008
From: ionfish at gmail.com (Benedict Eastaugh)
Date: Wed Nov 19 10:48:29 2008
Subject: [wp-hackers] Add filter comment_moderation_headers to
	wp_notify_moderator function
In-Reply-To: <019c01c94a2b$6d3d41b0$47b7c510$@eu>
References: <019c01c94a2b$6d3d41b0$47b7c510$@eu>
Message-ID: <fd3b80510811190248x8266c81n219b034415cc226c@mail.gmail.com>

> Is there a chance that this request will be included in wp2.7?

The current focus is on fixing bugs in 2.7 before its release, and
enhancements are now being pushed to 2.8, so I'm afraid it seems
unlikely.
From malaiac at gmail.com  Wed Nov 19 10:51:46 2008
From: malaiac at gmail.com (Malaiac)
Date: Wed Nov 19 10:51:54 2008
Subject: [wp-hackers] Help with adding extra data into a post
In-Reply-To: <ab03dc280811190155r7ce2a6b7vc0d4328631b67056@mail.gmail.com>
References: <ab03dc280811190155r7ce2a6b7vc0d4328631b67056@mail.gmail.com>
Message-ID: <59e7f3130811190251r6f63019ds8432609eb838aa78@mail.gmail.com>

2008/11/19 Mikael Hedengren <mikael@cylinderlabs.se>:
> I am fairly new to WP and trying to develop a plugin that allows the user to
> enter some extra data when writing or editing a post. The data will be saved
> in a separate table in the WP database.
You just defined custom fields

> Using the custom field is not sufficient for me.
Why ?
From johnbillion+wp at gmail.com  Wed Nov 19 11:57:35 2008
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Wed Nov 19 11:57:47 2008
Subject: [wp-hackers] Help with adding extra data into a post
In-Reply-To: <59e7f3130811190251r6f63019ds8432609eb838aa78@mail.gmail.com>
References: <ab03dc280811190155r7ce2a6b7vc0d4328631b67056@mail.gmail.com>
	<59e7f3130811190251r6f63019ds8432609eb838aa78@mail.gmail.com>
Message-ID: <1fa535a70811190357tc55958av6d0ea9150175eff6@mail.gmail.com>

To grab the data submitted, use the save_post hook. The data you'll
want will be in the $_POST variable.

On Wed, Nov 19, 2008 at 10:51 AM, Malaiac <malaiac@gmail.com> wrote:
> 2008/11/19 Mikael Hedengren <mikael@cylinderlabs.se>:
>> I am fairly new to WP and trying to develop a plugin that allows the user to
>> enter some extra data when writing or editing a post. The data will be saved
>> in a separate table in the WP database.
> You just defined custom fields
>
>> Using the custom field is not sufficient for me.
> Why ?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikael at cylinderlabs.se  Wed Nov 19 13:04:23 2008
From: mikael at cylinderlabs.se (Mikael Hedengren)
Date: Wed Nov 19 13:04:31 2008
Subject: [wp-hackers] Help with adding extra data into a post
Message-ID: <ab03dc280811190504xbb30903w715092d6ca7b2ebc@mail.gmail.com>

Thanks for your replies but my question was unclear, sorry for that.

I must be able to enter several "rows" of input per post so I think that
using the custom fields will not be user-friendly enough.

I will also need some javascript (jquery?) to be able to make multiple
registrations ("rows") before the data is sent by submitting the post and
this is really my point of trouble; I don't know how to do this.

Thank you


On Wed, Nov 19, 2008 at 10:51 AM, Malaiac <malaiac@gmail.com> wrote:
> 2008/11/19 Mikael Hedengren <mikael@cylinderlabs.se>:
>> I am fairly new to WP and trying to develop a plugin that allows the user
to
>> enter some extra data when writing or editing a post. The data will be
saved
>> in a separate table in the WP database.
> You just defined custom fields
>
>> Using the custom field is not sufficient for me.
> Why ?

>To grab the data submitted, use the save_post hook. The data you'll
>want will be in the $_POST variable.
From otto at ottodestruct.com  Wed Nov 19 14:27:37 2008
From: otto at ottodestruct.com (Otto)
Date: Wed Nov 19 14:27:46 2008
Subject: [wp-hackers] Help with adding extra data into a post
In-Reply-To: <ab03dc280811190504xbb30903w715092d6ca7b2ebc@mail.gmail.com>
References: <ab03dc280811190504xbb30903w715092d6ca7b2ebc@mail.gmail.com>
Message-ID: <161617690811190627q1a5dcf50l1268700e9f06c5c5@mail.gmail.com>

On Wed, Nov 19, 2008 at 7:04 AM, Mikael Hedengren
<mikael@cylinderlabs.se> wrote:
> I must be able to enter several "rows" of input per post so I think that
> using the custom fields will not be user-friendly enough.

You can create your own interface box to get the data and nobody is
arguing with that. However, where will you store that data? The answer
should be in a custom field.

Custom fields are supposed to be used to store any random per-post
data you may need.
From hempsworth at googlemail.com  Wed Nov 19 14:31:48 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Wed Nov 19 14:32:02 2008
Subject: [wp-hackers] Help with adding extra data into a post
In-Reply-To: <161617690811190627q1a5dcf50l1268700e9f06c5c5@mail.gmail.com>
References: <ab03dc280811190504xbb30903w715092d6ca7b2ebc@mail.gmail.com>
	<161617690811190627q1a5dcf50l1268700e9f06c5c5@mail.gmail.com>
Message-ID: <5a1dad880811190631j4bcac3cyad03e007d14cc29b@mail.gmail.com>

This is actually exactly what I want to do in a plugin I'm planning, but the
custom-fields interface put me off - how do you create a custom box and then
save that data in a custom-field?

-- Alex


On Wed, Nov 19, 2008 at 2:27 PM, Otto <otto@ottodestruct.com> wrote:

> On Wed, Nov 19, 2008 at 7:04 AM, Mikael Hedengren
> <mikael@cylinderlabs.se> wrote:
> > I must be able to enter several "rows" of input per post so I think that
> > using the custom fields will not be user-friendly enough.
>
> You can create your own interface box to get the data and nobody is
> arguing with that. However, where will you store that data? The answer
> should be in a custom field.
>
> Custom fields are supposed to be used to store any random per-post
> data you may need.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From andre.renaut at gmail.com  Wed Nov 19 14:50:33 2008
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Wed Nov 19 14:50:45 2008
Subject: [wp-hackers] screen_meta (again !)
Message-ID: <8810a71a0811190650j21d5bfa1rcd983a88568d25e6@mail.gmail.com>

Hello,

In my plugin, i have a page that can be called in 4 different ways.

So for each way, i have a different  $hook_suffix and/or $page_hook.
So for each way, i will have specific settings in usermeta.

In order to get only one setting in usermeta for this plugin page, is it
possible to do the following in screen_meta :


3222  function screen_meta
<http://127.0.0.1/xref273/_functions/screen_meta.html>($screen
<http://127.0.0.1/xref273/_variables/screen.html>) {
3223      global $wp_meta_boxes
<http://127.0.0.1/xref273/_variables/wp_meta_boxes.html>,
$_wp_contextual_help
<http://127.0.0.1/xref273/_variables/_wp_contextual_help.html>;
3224
3225      $screen <http://127.0.0.1/xref273/_variables/screen.html> =
str_replace <http://127.0.0.1/xref273/_functions/str_replace.html>('.php',
'', $screen <http://127.0.0.1/xref273/_variables/screen.html>);
3226      $screen <http://127.0.0.1/xref273/_variables/screen.html> =
str_replace <http://127.0.0.1/xref273/_functions/str_replace.html>('-new',
'', $screen <http://127.0.0.1/xref273/_variables/screen.html>);
3227      $screen <http://127.0.0.1/xref273/_variables/screen.html> =
str_replace <http://127.0.0.1/xref273/_functions/str_replace.html>('-add',
'', $screen <http://127.0.0.1/xref273/_variables/screen.html>);


*3228      $screen = apply_filters('screen_meta_screen', $screen);*


3229      $column_screens
<http://127.0.0.1/xref273/_variables/column_screens.html> =
get_column_headers
<http://127.0.0.1/xref273/_functions/get_column_headers.html>($screen
<http://127.0.0.1/xref273/_variables/screen.html>);
3230      $meta_screens
<http://127.0.0.1/xref273/_variables/meta_screens.html> =
array('index' => 'dashboard');
3231




Thank you !



-- 
Pensez ? l'environnement avant d'imprimer ce message.
Please, think about the environment before printing this message.
From yahgrp at poplarware.com  Wed Nov 19 15:08:45 2008
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Wed Nov 19 15:08:15 2008
Subject: [wp-hackers] Help with adding extra data into a post
In-Reply-To: <5a1dad880811190631j4bcac3cyad03e007d14cc29b@mail.gmail.com>
References: <ab03dc280811190504xbb30903w715092d6ca7b2ebc@mail.gmail.com>	<161617690811190627q1a5dcf50l1268700e9f06c5c5@mail.gmail.com>
	<5a1dad880811190631j4bcac3cyad03e007d14cc29b@mail.gmail.com>
Message-ID: <49242BFD.9090508@poplarware.com>

Alex Hempton-Smith wrote:
> This is actually exactly what I want to do in a plugin I'm planning, but the
> custom-fields interface put me off - how do you create a custom box and then
> save that data in a custom-field?

There's a fairly complete example of the hooks for creating a custom 
section on post edit screens in the add_meta_box documentation:
     http://codex.wordpress.org/Function_Reference/add_meta_box

As far as saving the data in a custom field, you'll need:
    http://codex.wordpress.org/Function_Reference/add_post_meta
    http://codex.wordpress.org/Function_Reference/update_post_meta

You also asked about AJAX:
    http://codex.wordpress.org/AJAX_in_Plugins

Hope this helps,
     Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From ryan at boren.nu  Wed Nov 19 17:21:28 2008
From: ryan at boren.nu (Ryan Boren)
Date: Wed Nov 19 17:21:39 2008
Subject: [wp-hackers] screen_meta (again !)
In-Reply-To: <8810a71a0811190650j21d5bfa1rcd983a88568d25e6@mail.gmail.com>
References: <8810a71a0811190650j21d5bfa1rcd983a88568d25e6@mail.gmail.com>
Message-ID: <c8f37c930811190921h47a70558x79eadb61d1de496@mail.gmail.com>

On Wed, Nov 19, 2008 at 6:50 AM, andr? renaut <andre.renaut@gmail.com> wrote:
> Hello,
>
> In my plugin, i have a page that can be called in 4 different ways.
>
> So for each way, i have a different  $hook_suffix and/or $page_hook.
> So for each way, i will have specific settings in usermeta.
>
> In order to get only one setting in usermeta for this plugin page, is it
> possible to do the following in screen_meta :
>
> *3228      $screen = apply_filters('screen_meta_screen', $screen);*

http://trac.wordpress.org/changeset/9788
From kelter at badcat.com  Wed Nov 19 19:39:15 2008
From: kelter at badcat.com (Kelter-BadCat Design)
Date: Wed Nov 19 19:39:29 2008
Subject: [wp-hackers] Select Menu to filter results by Custom Values
In-Reply-To: <c8f37c930811190921h47a70558x79eadb61d1de496@mail.gmail.com>
References: <8810a71a0811190650j21d5bfa1rcd983a88568d25e6@mail.gmail.com>
	<c8f37c930811190921h47a70558x79eadb61d1de496@mail.gmail.com>
Message-ID: <p06240804c54a1ab4c3b5@[192.168.1.5]>

Hi,

I'm trying to get WordPress to return a dropdown 
list (a SELECT MENU - similar to how we use 
"wp_dropdown_categories") of VALUES for a 
particular custom KEY that I've entered in the 
Custom Field.

I'd like to use this dropdown list as a way to 
filter the results (a listing of posts) shown on 
the page.

I tried approaching it like this?

< ?php echo get_post_meta($post->ID, 'time', $single = true); ? >

or

< ?php $key="time"; echo get_post_meta($post->ID, $time, $single = false); ? >

Whereas "time" is the Custom KEY. Additionally I 
need the VALUES in a Select Menu so I can run the 
filter via a form element.

Can anyone point me to any examples or possibly 
something on the WP Codex? Seems like all 
functions try to point me to "Post specific" 
solutions.

thanks!
From wplists at gmail.com  Wed Nov 19 21:25:07 2008
From: wplists at gmail.com (OT)
Date: Wed Nov 19 21:25:15 2008
Subject: [wp-hackers] Custom content in quick edit
Message-ID: <f89d9f4d0811191325ga8e6c70g3d0e5e3311a5f473@mail.gmail.com>

I'm trying to add custom content to the quick edit screen, but it seems that
the values are grabbed via inline-edit-post.js from the content produced by
get_inline_data(). I can't find a suitable hook to add the hidden
information needed to add values. Could anyone lead me in the right
direction?
From malaiac at gmail.com  Wed Nov 19 21:31:03 2008
From: malaiac at gmail.com (Malaiac)
Date: Wed Nov 19 21:31:15 2008
Subject: [wp-hackers] Custom content in quick edit
In-Reply-To: <f89d9f4d0811191325ga8e6c70g3d0e5e3311a5f473@mail.gmail.com>
References: <f89d9f4d0811191325ga8e6c70g3d0e5e3311a5f473@mail.gmail.com>
Message-ID: <59e7f3130811191331s537e3e19n9f21061415faa80b@mail.gmail.com>

2008/11/19 OT <wplists@gmail.com>:
> I'm trying to add custom content to the quick edit screen, but it seems that
> the values are grabbed via inline-edit-post.js from the content produced by
> get_inline_data(). I can't find a suitable hook to add the hidden
> information needed to add values. Could anyone lead me in the right
> direction?

reported 3 weeks ago http://trac.wordpress.org/ticket/7984
and I have no idea how to could circunvent that without coding a whole new js
markjaquith just bumped the milestone to 2.8
From joost at yoast.com  Wed Nov 19 21:57:58 2008
From: joost at yoast.com (Joost de Valk)
Date: Wed Nov 19 21:58:28 2008
Subject: [wp-hackers] Plugin repository
Message-ID: <601D2CAE-25AD-450F-AB7E-E212C753FA17@yoast.com>

Somehow, I think this wasn't intended (7 copies of plugin in WP plugin  
repos):

http://cli.gs/m8E6A5

Best,
Joost

--
Joost de Valk
http://yoast.com/

P.S. Join my WordPress Newsletter, and hear all the latest WordPress  
tips & tricks! Sign up here:

http://yoast.com/wordpress-newsletter/


From admin at laptoptips.ca  Wed Nov 19 22:32:14 2008
From: admin at laptoptips.ca (Andrew Ozz)
Date: Wed Nov 19 22:32:40 2008
Subject: [wp-hackers] Custom content in quick edit
In-Reply-To: <59e7f3130811191331s537e3e19n9f21061415faa80b@mail.gmail.com>
References: <f89d9f4d0811191325ga8e6c70g3d0e5e3311a5f473@mail.gmail.com>
	<59e7f3130811191331s537e3e19n9f21061415faa80b@mail.gmail.com>
Message-ID: <492493EE.5070802@laptoptips.ca>

Malaiac wrote:
> 2008/11/19 OT <wplists@gmail.com>:
>> I'm trying to add custom content to the quick edit screen, but it seems that
>> the values are grabbed via inline-edit-post.js from the content produced by
>> get_inline_data(). I can't find a suitable hook to add the hidden
>> information needed to add values. Could anyone lead me in the right
>> direction?
> 
> reported 3 weeks ago http://trac.wordpress.org/ticket/7984
> and I have no idea how to could circunvent that without coding a whole new js
> markjaquith just bumped the milestone to 2.8

Unfortunately there's no easy way to handle that automatically. However 
js can easily be overloaded, redeclared, etc. The way to do that here 
would be to copy inlineEditPost.edit(), change it to handle the 
new/custom values and replace the original one by registering the script 
with dependency on inline-edit-post.js so it's always loaded after.
From jeffro at jeffro2pt0.com  Wed Nov 19 23:34:16 2008
From: jeffro at jeffro2pt0.com (Jeff Chandler)
Date: Wed Nov 19 23:34:25 2008
Subject: [wp-hackers] Plugin repository
In-Reply-To: <601D2CAE-25AD-450F-AB7E-E212C753FA17@yoast.com>
References: <601D2CAE-25AD-450F-AB7E-E212C753FA17@yoast.com>
Message-ID: <4924A278.2040706@jeffro2pt0.com>

Interesting, looks like instead of updating the first plugin, they 
uploaded new versions as separate plugins.

Joost de Valk wrote:
> Somehow, I think this wasn't intended (7 copies of plugin in WP plugin 
> repos):
>
> http://cli.gs/m8E6A5
>
> Best,
> Joost
>
> -- 
> Joost de Valk
> http://yoast.com/
>
> P.S. Join my WordPress Newsletter, and hear all the latest WordPress 
> tips & tricks! Sign up here:
>
> http://yoast.com/wordpress-newsletter/
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From tommy at tommyvallier.com  Wed Nov 19 23:52:11 2008
From: tommy at tommyvallier.com (Tommy Vallier)
Date: Wed Nov 19 23:52:21 2008
Subject: [wp-hackers] Displaying until the more tag of a page?
Message-ID: <33d27a4c0811191552h48ec808ey627bf380ee835ad1@mail.gmail.com>

Hey folks,
I'm building a site with a few hundred pages in an insanely complicated
parent-child setup. Each page has several paragraphs of text and each also
contains a more tag after either the first or second paragraph.

I'm looking to pull the content before the more tag to the front page. We're
looking at featuring specific pages every week/2-weeks/month and this would
let us show only the start and leave a "read more" link to follow.

I've found this little workaround:

<?php global $more; $more = FALSE; ?>
<?php the_content('Read more &rarr;'); ?>
<?php $more = TRUE; ?>

But it doesn't seem to be doing the trick... I'm thinking because it's being
used on the home page (currently index.php, could just as easily be
home.php).

Any thoughts?

Tommy

*And before someone asks: They're pages and not posts because of the URL
structure we're looking to achieve. Can't have two categories with the same
URL slug even if they have different parent categories - you can with page
parent-child relationships.*
From mikael at cylinderlabs.se  Thu Nov 20 00:10:51 2008
From: mikael at cylinderlabs.se (Mikael Hedengren)
Date: Thu Nov 20 00:11:42 2008
Subject: [wp-hackers] Help with adding extra data into a post
Message-ID: <ab03dc280811191610y2560e2e1r5dc378880a3b6343@mail.gmail.com>

It seems that I haven't looked into custom fields in enough detail.

I was planning to use an extra table to store my extra "rows" of data fields
because I will need to retrieve them (the "rows") i various order, like
registration time order etc. One or several "rows" of data can also be added
when editing the post later so several "rows" of data belonging to one post
can have different registration time.
Is the custom fields suitable for that?


> On Wed, Nov 19, 2008 at 7:04 AM, Mikael Hedengren
> <mikael@cylinderlabs.se> wrote:
> > I must be able to enter several "rows" of input per post so I think that
> > using the custom fields will not be user-friendly enough.
>
> You can create your own interface box to get the data and nobody is
> arguing with that. However, where will you store that data? The answer
> should be in a custom field.
>
> Custom fields are supposed to be used to store any random per-post
> data you may need.
From andre.renaut at gmail.com  Thu Nov 20 00:29:51 2008
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Thu Nov 20 00:30:00 2008
Subject: [wp-hackers] screen_meta (last ?)
Message-ID: <8810a71a0811191629u1cb712b0gb4bb41f2f7a104fd@mail.gmail.com>

Thank you Ryan for adding the apply filter.

Specific help is working on all my plugin pages except one ... using jquery
ui.tabs.

Is there a potential conflict with the help and jquery ui.tabs ?

btw, on all my pages as on wp pages, i have the following html errors :

line 108 column 72 - Erreur: ID "update-plugins" already defined
line 107 column 165 - Info: ID "update-plugins" first defined here
line 315 column 32 - Erreur: end tag for element "div" which is not open
line 316 column 5 - Erreur: end tag for element "div" which is not open

the two divs indicated are these :

</div><!-- wpcontent -->
</div><!-- wpwrap -->
From niladam at gmail.com  Thu Nov 20 00:40:59 2008
From: niladam at gmail.com (madalin)
Date: Thu Nov 20 00:41:14 2008
Subject: [wp-hackers] need a hand with wp-fancyzoom.
Message-ID: <df809b110811191640k8ac6987i7d56ffd38af87441@mail.gmail.com>

I installed the plugin and it works smoothly. However, i also have a
page with a NGGallery, which interferes with fancyzoom (actually both
run) and so i get two effects for the same image.

I tried modifying wp-fancyzoom so that it verifies if the post is
actually a page and to echo something else instead of adding the hooks
to wp_head();

The function looks like this:

// Header hook
function insert_fancyzoom_javascript($unused) {
  $fancyzoom_path = get_option(KEY_FZOOM_DIR)."/";

  echo "\n<script type='text/javascript'>var zoomImagesBase = '".
    $fancyzoom_path."';</script>\n";
  echo "<script src='{$fancyzoom_path}js-global/FancyZoom.js'
type='text/javascript'></script>\n";
  echo "<script src='{$fancyzoom_path}js-global/FancyZoomHTML.js'
type='text/javascript'></script>\n";
  echo "<script src='{$fancyzoom_path}adddomloadevent.js'
type='text/javascript'></script>\n";
  echo "<script type='text/javascript'>addDOMLoadEvent(setupZoom);</script>\n";
}


The register is:

// Register our filters and actions
add_action('wp_head', 'insert_fancyzoom_javascript');
if (get_option(KEY_FZOOM_COMPAT)) {
  add_filter('the_content', 'fzoom_popim_compatibility_filter', 0);
  add_filter('the_excerpt', 'fzoom_popim_compatibility_filter', 0);
}




I tried doing something like:

function insert_fancyzoom_javascript($unused) {
  global $post;
  if ( is_page() ) { echo "<!-- blah -->"; }
  else {
  $fancyzoom_path = get_option(KEY_FZOOM_DIR)."/";

  echo "\n<script type='text/javascript'>var zoomImagesBase = '".
    $fancyzoom_path."';</script>\n";
  echo "<script src='{$fancyzoom_path}js-global/FancyZoom.js'
type='text/javascript'></script>\n";
  echo "<script src='{$fancyzoom_path}js-global/FancyZoomHTML.js'
type='text/javascript'></script>\n";
  echo "<script src='{$fancyzoom_path}adddomloadevent.js'
type='text/javascript'></script>\n";
  echo "<script type='text/javascript'>addDOMLoadEvent(setupZoom);</script>\n";
}
}


Can someone provide me with a quickfix please ?

-- 
Regards,
madalin
From otto at ottodestruct.com  Thu Nov 20 03:40:17 2008
From: otto at ottodestruct.com (Otto)
Date: Thu Nov 20 03:40:31 2008
Subject: [wp-hackers] Plugin repository
In-Reply-To: <4924A278.2040706@jeffro2pt0.com>
References: <601D2CAE-25AD-450F-AB7E-E212C753FA17@yoast.com>
	<4924A278.2040706@jeffro2pt0.com>
Message-ID: <161617690811191940j3577e860j121e29b2be96ce45@mail.gmail.com>

No, it looks like an error of some sort. Because in the plugin
repository, it's named correctly:

http://plugins.trac.wordpress.org/browser/newsletter-subscription-double-optin


On Wed, Nov 19, 2008 at 5:34 PM, Jeff Chandler <jeffro@jeffro2pt0.com> wrote:
> Interesting, looks like instead of updating the first plugin, they uploaded
> new versions as separate plugins.
>
> Joost de Valk wrote:
>>
>> Somehow, I think this wasn't intended (7 copies of plugin in WP plugin
>> repos):
>>
>> http://cli.gs/m8E6A5
>>
>> Best,
>> Joost
>>
>> --
>> Joost de Valk
>> http://yoast.com/
>>
>> P.S. Join my WordPress Newsletter, and hear all the latest WordPress tips
>> & tricks! Sign up here:
>>
>> http://yoast.com/wordpress-newsletter/
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From andre.renaut at gmail.com  Thu Nov 20 13:02:11 2008
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Thu Nov 20 13:02:20 2008
Subject: [wp-hackers] Uselecc extra div's
Message-ID: <8810a71a0811200502q65de2851wa204eb0456816525@mail.gmail.com>

In *admin-header.php* (see my previous message "screen_meta (last ?)" about
extra div's).

code :

<?php favorite_actions(); ?>
</div>
</div>

should be

<?php favorite_actions(); ?>
From andre.renaut at gmail.com  Thu Nov 20 14:13:13 2008
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Thu Nov 20 14:13:22 2008
Subject: [wp-hackers] Re: Uselecc extra div's => useless mail
Message-ID: <8810a71a0811200613k1ddce41cu8071fe791bac8497@mail.gmail.com>

Sorry that is not the fix . searching ...

2008/11/20 andr? renaut <andre.renaut@gmail.com>

> In *admin-header.php* (see my previous message "screen_meta (last ?)"
> about extra div's).
>
> code :
>
> <?php favorite_actions(); ?>
> </div>
> </div>
>
> should be
>
> <?php favorite_actions(); ?>
>
>


-- 
Pensez ? l'environnement avant d'imprimer ce message.
Please, think about the environment before printing this message.
From damontimm at gmail.com  Thu Nov 20 15:06:59 2008
From: damontimm at gmail.com (Damon Timm)
Date: Thu Nov 20 15:07:09 2008
Subject: [wp-hackers] Multiple Instances of a Widget
Message-ID: <262679b50811200706ic1b0bceo9665864ddef42d2@mail.gmail.com>

Hello  -

I contribute (in what little ways I can) to the Event Calender plugin
(http://wordpress.org/extend/plugins/event-calendar/) --> am trying to
upgrade the widget from a single instance widget to a multiple
instance widget.

I have done the google bit, and I have read over the commented
sections (pertaining to widgets) in the WP source -- however, I
haven't made it all that far on my own.  I didn't know if anyone had
some write-ups or better documentation on how to accomplish a multiple
instance widget that may help me out a little more.

The widget in question can be viewed at:

http://plugins.trac.wordpress.org/browser/event-calendar/trunk/widget-list.php

Again, any guidance or sites I could read over would be appreciated.

Thanks,
Damon
From otto at ottodestruct.com  Thu Nov 20 15:09:50 2008
From: otto at ottodestruct.com (Otto)
Date: Thu Nov 20 15:10:02 2008
Subject: [wp-hackers] Multiple Instances of a Widget
In-Reply-To: <262679b50811200706ic1b0bceo9665864ddef42d2@mail.gmail.com>
References: <262679b50811200706ic1b0bceo9665864ddef42d2@mail.gmail.com>
Message-ID: <161617690811200709lf3e9e41j8f706918f91bc23@mail.gmail.com>

Take a hard look at the PHP Code widget:
http://wordpress.org/extend/plugins/php-code-widget/

It's a very, very simple widget that supports multiple instances
correctly. You can use that as a base to expand onto.


On Thu, Nov 20, 2008 at 9:06 AM, Damon Timm <damontimm@gmail.com> wrote:
> Hello  -
>
> I contribute (in what little ways I can) to the Event Calender plugin
> (http://wordpress.org/extend/plugins/event-calendar/) --> am trying to
> upgrade the widget from a single instance widget to a multiple
> instance widget.
>
> I have done the google bit, and I have read over the commented
> sections (pertaining to widgets) in the WP source -- however, I
> haven't made it all that far on my own.  I didn't know if anyone had
> some write-ups or better documentation on how to accomplish a multiple
> instance widget that may help me out a little more.
>
> The widget in question can be viewed at:
>
> http://plugins.trac.wordpress.org/browser/event-calendar/trunk/widget-list.php
>
> Again, any guidance or sites I could read over would be appreciated.
>
> Thanks,
> Damon
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From damontimm at gmail.com  Thu Nov 20 15:33:52 2008
From: damontimm at gmail.com (Damon Timm)
Date: Thu Nov 20 15:34:04 2008
Subject: [wp-hackers] Multiple Instances of a Widget
In-Reply-To: <161617690811200709lf3e9e41j8f706918f91bc23@mail.gmail.com>
References: <262679b50811200706ic1b0bceo9665864ddef42d2@mail.gmail.com>
	<161617690811200709lf3e9e41j8f706918f91bc23@mail.gmail.com>
Message-ID: <262679b50811200733t6492e93dncb7d0bb6fec86c68@mail.gmail.com>

Thanks - I will look at that and see if I can modify it for the other widget.

Ffor other's interested, can view it easily online at:
http://plugins.trac.wordpress.org/browser/php-code-widget/trunk/execphp.php

Damon


On Thu, Nov 20, 2008 at 10:09 AM, Otto <otto@ottodestruct.com> wrote:
> Take a hard look at the PHP Code widget:
> http://wordpress.org/extend/plugins/php-code-widget/
>
> It's a very, very simple widget that supports multiple instances
> correctly. You can use that as a base to expand onto.
>
>
> On Thu, Nov 20, 2008 at 9:06 AM, Damon Timm <damontimm@gmail.com> wrote:
>> Hello  -
>>
>> I contribute (in what little ways I can) to the Event Calender plugin
>> (http://wordpress.org/extend/plugins/event-calendar/) --> am trying to
>> upgrade the widget from a single instance widget to a multiple
>> instance widget.
>>
>> I have done the google bit, and I have read over the commented
>> sections (pertaining to widgets) in the WP source -- however, I
>> haven't made it all that far on my own.  I didn't know if anyone had
>> some write-ups or better documentation on how to accomplish a multiple
>> instance widget that may help me out a little more.
>>
>> The widget in question can be viewed at:
>>
>> http://plugins.trac.wordpress.org/browser/event-calendar/trunk/widget-list.php
>>
>> Again, any guidance or sites I could read over would be appreciated.
>>
>> Thanks,
>> Damon
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wp-hackers at striderweb.com  Thu Nov 20 18:05:22 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu Nov 20 18:05:36 2008
Subject: [wp-hackers] AjaxWp enhancement
In-Reply-To: <9B6F9D63-E978-418D-85E3-9FE40331A3F4@gmail.com>
References: <8810a71a0811181040n6325985ekde94dd18c770500d@mail.gmail.com>
	<8810a71a0811182321o5fa60968y3a5d72d9ff379089@mail.gmail.com>
	<6CDFB2F9-15B4-43D7-9AF6-D3EB60B42D8F@gmail.com>
	<5a1dad880811190036i349cf20bn9bbffdf97ce9aa70@mail.gmail.com>
	<5a1dad880811190038m4d9a86b4x93364ba73b02c0bb@mail.gmail.com>
	<9B6F9D63-E978-418D-85E3-9FE40331A3F4@gmail.com>
Message-ID: <A1F68FAC-28E7-48D0-98CE-19AE15E033FB@striderweb.com>

On Nov 19, 2008, at 2:50 AM, Dan Gayle wrote:

> There was a page that Gianni Milanesi had that explained his  
> rationale and process in creating AjaxWp, recreated here:
>
> http://ajaxwp.com/ajaxifing-wordpress-the-making-of-ajaxwp/
>
> In that page, he talks about Ajax' inability to bookmark/navigate  
> history and how he fixed that issue, in the process making really  
> ugly permalinks.
>
> On Nov 19, 2008, at 12:38 AM, Alex Hempton-Smith wrote:
>
>> Just a note about my first point, although copying that generated  
>> URL and
>> pasting it does work, it's certainly not pretty, and almost defies  
>> the
>> object of having pretty permalinks (which I sort of live off :P)
>>
>> On Wed, Nov 19, 2008 at 8:36 AM, Alex Hempton-Smith wrote:
>>
>>> Some enhancements before I would even think about using this on my  
>>> sites;
>>> *  Better URL's, the 'real' URL of the page would be needed  
>>> because many
>>> people copy/paste this


A quick note on pretty permalinks and Ajax --

If putting the Ajax state in the URL, you should (in my opinion)  
_avoid_ making it part of the URL "directories".  In pre-2.6 WP I use  
a Paged Comments plugin, and it sets up each posts comments in pages  
like so:

example.com/blog/post1/comment-page-1/
example.com/blog/post1/comment-page-2/
example.com/blog/post1/comment-page-3/

This is a BAD thing, because (among other things) it messes with site  
stats.  The popularity of that page is distorted in stats because that  
is seen as three different pages, when really it isn't.  It is also  
probably doing the same with Google stats, since that is three pages  
with substantially the same content (only different comments).

I would much rather have:

example.com/blog/post1/?comments-page=1
example.com/blog/post1/?comments-page=2
example.com/blog/post1/?comments-page=3

What WP 2.7 does with paged comments is beside the point, because I'm  
not really talking about paged comments specifically -- I'm simply  
saying that when putting such things (Ajax state is very similar) into  
the URL, it's better to put them into a GET then make them into fake  
"directories".

Just my two bits.

Sincerely,
Stephen Rider

From dangayle at gmail.com  Thu Nov 20 18:19:05 2008
From: dangayle at gmail.com (Dan Gayle)
Date: Thu Nov 20 18:19:22 2008
Subject: [wp-hackers] AjaxWp enhancement
In-Reply-To: <A1F68FAC-28E7-48D0-98CE-19AE15E033FB@striderweb.com>
References: <8810a71a0811181040n6325985ekde94dd18c770500d@mail.gmail.com>
	<8810a71a0811182321o5fa60968y3a5d72d9ff379089@mail.gmail.com>
	<6CDFB2F9-15B4-43D7-9AF6-D3EB60B42D8F@gmail.com>
	<5a1dad880811190036i349cf20bn9bbffdf97ce9aa70@mail.gmail.com>
	<5a1dad880811190038m4d9a86b4x93364ba73b02c0bb@mail.gmail.com>
	<9B6F9D63-E978-418D-85E3-9FE40331A3F4@gmail.com>
	<A1F68FAC-28E7-48D0-98CE-19AE15E033FB@striderweb.com>
Message-ID: <89953F8F-4DE6-40C8-ADB1-68862914CFBC@gmail.com>

AjaxWp actually has an analytics part that makes sure that the stats  
scripts work properly, supposedly.

Also, in terms of SEO and pagerank, all of the links on the page work  
and look like normal when javascript doesn't work, so they would be  
indexed like normal.

It's good to keep what you said in mind though.


On Nov 20, 2008, at 10:05 AM, Stephen Rider wrote:

> On Nov 19, 2008, at 2:50 AM, Dan Gayle wrote:
>
>> There was a page that Gianni Milanesi had that explained his  
>> rationale and process in creating AjaxWp, recreated here:
>>
>> http://ajaxwp.com/ajaxifing-wordpress-the-making-of-ajaxwp/
>>
>> In that page, he talks about Ajax' inability to bookmark/navigate  
>> history and how he fixed that issue, in the process making really  
>> ugly permalinks.
>>
>> On Nov 19, 2008, at 12:38 AM, Alex Hempton-Smith wrote:
>>
>>> Just a note about my first point, although copying that generated  
>>> URL and
>>> pasting it does work, it's certainly not pretty, and almost defies  
>>> the
>>> object of having pretty permalinks (which I sort of live off :P)
>>>
>>> On Wed, Nov 19, 2008 at 8:36 AM, Alex Hempton-Smith wrote:
>>>
>>>> Some enhancements before I would even think about using this on  
>>>> my sites;
>>>> *  Better URL's, the 'real' URL of the page would be needed  
>>>> because many
>>>> people copy/paste this
>
>
> A quick note on pretty permalinks and Ajax --
>
> If putting the Ajax state in the URL, you should (in my opinion)  
> _avoid_ making it part of the URL "directories".  In pre-2.6 WP I  
> use a Paged Comments plugin, and it sets up each posts comments in  
> pages like so:
>
> example.com/blog/post1/comment-page-1/
> example.com/blog/post1/comment-page-2/
> example.com/blog/post1/comment-page-3/
>
> This is a BAD thing, because (among other things) it messes with  
> site stats.  The popularity of that page is distorted in stats  
> because that is seen as three different pages, when really it  
> isn't.  It is also probably doing the same with Google stats, since  
> that is three pages with substantially the same content (only  
> different comments).
>
> I would much rather have:
>
> example.com/blog/post1/?comments-page=1
> example.com/blog/post1/?comments-page=2
> example.com/blog/post1/?comments-page=3
>
> What WP 2.7 does with paged comments is beside the point, because  
> I'm not really talking about paged comments specifically -- I'm  
> simply saying that when putting such things (Ajax state is very  
> similar) into the URL, it's better to put them into a GET then make  
> them into fake "directories".
>
> Just my two bits.
>
> Sincerely,
> Stephen Rider
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wp-hackers at striderweb.com  Thu Nov 20 19:42:45 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu Nov 20 19:44:52 2008
Subject: [wp-hackers] AjaxWp enhancement
In-Reply-To: <89953F8F-4DE6-40C8-ADB1-68862914CFBC@gmail.com>
References: <8810a71a0811181040n6325985ekde94dd18c770500d@mail.gmail.com>
	<8810a71a0811182321o5fa60968y3a5d72d9ff379089@mail.gmail.com>
	<6CDFB2F9-15B4-43D7-9AF6-D3EB60B42D8F@gmail.com>
	<5a1dad880811190036i349cf20bn9bbffdf97ce9aa70@mail.gmail.com>
	<5a1dad880811190038m4d9a86b4x93364ba73b02c0bb@mail.gmail.com>
	<9B6F9D63-E978-418D-85E3-9FE40331A3F4@gmail.com>
	<A1F68FAC-28E7-48D0-98CE-19AE15E033FB@striderweb.com>
	<89953F8F-4DE6-40C8-ADB1-68862914CFBC@gmail.com>
Message-ID: <A03610B4-4F42-4BD3-BE98-49C797C6BB73@striderweb.com>

I use Woopra and have seen the URLs split up in stats.  I would make  
no assumptions about what stats app people are using.  Same with  
Search engines -- who's to say that a search engine won't show up that  
parses JavaScript?  Uses GET makes things bookmark-able, but leaves   
distinct pages.

Regards,

-- 
Stephen Rider
<http://striderweb.com/>


On Nov 20, 2008, at 12:19 PM, Dan Gayle wrote:

> AjaxWp actually has an analytics part that makes sure that the stats  
> scripts work properly, supposedly.
>
> Also, in terms of SEO and pagerank, all of the links on the page  
> work and look like normal when javascript doesn't work, so they  
> would be indexed like normal.
>
> It's good to keep what you said in mind though.




From steph at sillybean.net  Thu Nov 20 19:56:16 2008
From: steph at sillybean.net (Stephanie Leary)
Date: Thu Nov 20 19:56:26 2008
Subject: [wp-hackers] Multiple Instances of a Widget
In-Reply-To: <262679b50811200706ic1b0bceo9665864ddef42d2@mail.gmail.com>
References: <262679b50811200706ic1b0bceo9665864ddef42d2@mail.gmail.com>
Message-ID: <b59bc08f6dc3c917fe4c65aca3217fa6@laurel.joyent.us>

On Thu, 20 Nov 2008 10:06:59 -0500, "Damon Timm" <damontimm@gmail.com>
wrote:
> I have done the google bit, and I have read over the commented
> sections (pertaining to widgets) in the WP source -- however, I
> haven't made it all that far on my own.  I didn't know if anyone had
> some write-ups or better documentation on how to accomplish a multiple
> instance widget that may help me out a little more.

I've found this tutorial to be quite helpful:
http://wp.gdragon.info/2008/07/06/create-multi-instances-widget/


Stephanie

From damontimm at gmail.com  Thu Nov 20 19:59:19 2008
From: damontimm at gmail.com (Damon Timm)
Date: Thu Nov 20 19:59:30 2008
Subject: [wp-hackers] Multiple Instances of a Widget
In-Reply-To: <b59bc08f6dc3c917fe4c65aca3217fa6@laurel.joyent.us>
References: <262679b50811200706ic1b0bceo9665864ddef42d2@mail.gmail.com>
	<b59bc08f6dc3c917fe4c65aca3217fa6@laurel.joyent.us>
Message-ID: <262679b50811201159q997cf2cj1943dccb4c2d9fe2@mail.gmail.com>

Great - thank you!

*going to check it out now*

On Thu, Nov 20, 2008 at 2:56 PM, Stephanie Leary <steph@sillybean.net> wrote:
> On Thu, 20 Nov 2008 10:06:59 -0500, "Damon Timm" <damontimm@gmail.com>
> wrote:
>> I have done the google bit, and I have read over the commented
>> sections (pertaining to widgets) in the WP source -- however, I
>> haven't made it all that far on my own.  I didn't know if anyone had
>> some write-ups or better documentation on how to accomplish a multiple
>> instance widget that may help me out a little more.
>
> I've found this tutorial to be quite helpful:
> http://wp.gdragon.info/2008/07/06/create-multi-instances-widget/
>
>
> Stephanie
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From steph at sillybean.net  Thu Nov 20 20:03:30 2008
From: steph at sillybean.net (Stephanie Leary)
Date: Thu Nov 20 20:03:41 2008
Subject: [wp-hackers] Displaying until the more tag of a
	=?UTF-8?Q?page=3F?=
In-Reply-To: <33d27a4c0811191552h48ec808ey627bf380ee835ad1@mail.gmail.com>
References: <33d27a4c0811191552h48ec808ey627bf380ee835ad1@mail.gmail.com>
Message-ID: <befd3501bd0e7e5b21a49581405dd28f@laurel.joyent.us>

On Wed, 19 Nov 2008 18:52:11 -0500, "Tommy Vallier"
<tommy@tommyvallier.com> wrote:
> Hey folks,
> I'm building a site with a few hundred pages in an insanely complicated
> parent-child setup. Each page has several paragraphs of text and each
also
> contains a more tag after either the first or second paragraph.
> 
> I'm looking to pull the content before the more tag to the front page.

I've done this using the Page Excerpt and Child of Page plugins:
http://blog.ftwr.co.uk/wordpress/page-excerpt/
http://blog.ftwr.co.uk/wordpress/query-child-of-page/

... although now I can't recall if I used the more tags at all, because I
was hand-crafting most of the excerpts. You can see the results at
http://justinelarbalestier.com/ -- all the books listed on the home page
are children of the otherwise-empty Books page. Let me know if you want
details on the code. I've been meaning to write up the inner workings of
that site.


Stephanie

From casey.bisson at gmail.com  Thu Nov 20 20:18:58 2008
From: casey.bisson at gmail.com (Casey Bisson)
Date: Thu Nov 20 20:19:15 2008
Subject: [wp-hackers] Displaying until the more tag of a page?
In-Reply-To: <befd3501bd0e7e5b21a49581405dd28f@laurel.joyent.us>
References: <33d27a4c0811191552h48ec808ey627bf380ee835ad1@mail.gmail.com>
	<befd3501bd0e7e5b21a49581405dd28f@laurel.joyent.us>
Message-ID: <14047AB7-42A4-4AF8-8445-E2017E543F35@gmail.com>


Pimping my own plugin: bSuite. Take a look at the list_pages and  
include shortcode features:

http://maisonbisson.com/bsuite/shortcodes/#12141_include_1
http://maisonbisson.com/bsuite/shortcodes/#12141_list_pages_1

I built that specifically to do what I think you're describing.


You can see an example of it at work in the URL below.
http://archives.colby-sawyer.edu/exhibits/

The exact shortcode used there is
[list_pages title="" div_class="" excerpt="true" icon="true"  
exclude="2216"]


I offer a more detailed story of using the [include] shortcode here:
http://maisonbisson.com/blog/post/12934/tricky-uses-of-bsuite/


And at the main bSuite landing page, I use a combination of the  
[list_pages] and [innerindex] shortcodes to dynamically build an  
ordered list of contents:
http://maisonbisson.com/bsuite/#12138_details_1

The actual shortcode there is:
[list_pages excerpt="TRUE" exclude="10833,11901" ol_class="contents  
pagemenu" ul_class="" title="" div_class="" /]

Each child page also has the [innerindex] shortcode pasted in its  
excerpt field.



On Wed, 19 Nov 2008 18:52:11 -0500, "Tommy Vallier"
> Hey folks,
> I'm building a site with a few hundred pages in an insanely  
> complicated
> parent-child setup. Each page has several paragraphs of text and  
> each also
> contains a more tag after either the first or second paragraph.
>
> I'm looking to pull the content before the more tag to the front page.

From wp-hackers at striderweb.com  Fri Nov 21 04:34:03 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Fri Nov 21 04:34:26 2008
Subject: [wp-hackers] Help with adding extra data into a post
In-Reply-To: <ab03dc280811191610y2560e2e1r5dc378880a3b6343@mail.gmail.com>
References: <ab03dc280811191610y2560e2e1r5dc378880a3b6343@mail.gmail.com>
Message-ID: <5F19077F-7F52-4E33-903A-5FC5BE2495F6@striderweb.com>


On Nov 19, 2008, at 6:10 PM, Mikael Hedengren wrote:

> It seems that I haven't looked into custom fields in enough detail.
>
> I was planning to use an extra table to store my extra "rows" of  
> data fields
> because I will need to retrieve them (the "rows") i various order,  
> like
> registration time order etc. One or several "rows" of data can also  
> be added
> when editing the post later so several "rows" of data belonging to  
> one post
> can have different registration time.
> Is the custom fields suitable for that?

Well, you might put the "rows" into an array and store that per post.   
Then, call the array, parse/sort the info you need, and off you go. :)

Stephen

-- 
Stephen Rider
<http://striderweb.com/>



From lynne.pope at gmail.com  Fri Nov 21 08:16:14 2008
From: lynne.pope at gmail.com (Lynne Pope)
Date: Fri Nov 21 08:16:24 2008
Subject: [wp-hackers] List of db changes for 2.7?
Message-ID: <427667db0811210016q41c0e373y57cdb607516e556a@mail.gmail.com>

Hi all,
I've been going cross-eyed working on an issue in 2.7 Beta3 and now
need to look more closely at the database.
Does anyone know what changes have been made and if there's a list of
the db upgrade changes anywhere?

Thanks.

Lynne
From wordpress at dd32.id.au  Fri Nov 21 08:23:23 2008
From: wordpress at dd32.id.au (DD32)
Date: Fri Nov 21 08:23:56 2008
Subject: [wp-hackers] List of db changes for 2.7?
In-Reply-To: <427667db0811210016q41c0e373y57cdb607516e556a@mail.gmail.com>
References: <427667db0811210016q41c0e373y57cdb607516e556a@mail.gmail.com>
Message-ID: <op.ukymw9g3k6w4mc@dd32.no-ip.com>

Easiest to look at the databse upgrade changes:

http://trac.wordpress.org/browser/trunk/wp-admin/includes/upgrade.php#L900
http://trac.wordpress.org/browser/trunk/wp-admin/includes/schema.php#L517


On Fri, 21 Nov 2008 19:16:14 +1100, Lynne Pope <lynne.pope@gmail.com>  
wrote:

> Hi all,
> I've been going cross-eyed working on an issue in 2.7 Beta3 and now
> need to look more closely at the database.
> Does anyone know what changes have been made and if there's a list of
> the db upgrade changes anywhere?
>
> Thanks.
>
> Lynne
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From otto at ottodestruct.com  Fri Nov 21 14:59:39 2008
From: otto at ottodestruct.com (Otto)
Date: Fri Nov 21 14:59:54 2008
Subject: [wp-hackers] List of db changes for 2.7?
In-Reply-To: <op.ukymw9g3k6w4mc@dd32.no-ip.com>
References: <427667db0811210016q41c0e373y57cdb607516e556a@mail.gmail.com>
	<op.ukymw9g3k6w4mc@dd32.no-ip.com>
Message-ID: <161617690811210659o4b753951icd500948de344f70@mail.gmail.com>

Ahh, the magic of diff:

http://trac.wordpress.org/changeset?new=trunk%2Fwp-admin%2Fincludes%2Fschema.php%409316&old=trunk%2Fwp-admin%2Fincludes%2Fschema.php%408553

Short answer:
-A new index was added on post_parent.
-Some new capabilities were added to the admin role (update_themes,
install_plugins).


On Fri, Nov 21, 2008 at 2:23 AM, DD32 <wordpress@dd32.id.au> wrote:
> Easiest to look at the databse upgrade changes:
>
> http://trac.wordpress.org/browser/trunk/wp-admin/includes/upgrade.php#L900
> http://trac.wordpress.org/browser/trunk/wp-admin/includes/schema.php#L517
>
>
> On Fri, 21 Nov 2008 19:16:14 +1100, Lynne Pope <lynne.pope@gmail.com> wrote:
>
>> Hi all,
>> I've been going cross-eyed working on an issue in 2.7 Beta3 and now
>> need to look more closely at the database.
>> Does anyone know what changes have been made and if there's a list of
>> the db upgrade changes anywhere?
>>
>> Thanks.
>>
>> Lynne
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From lynne.pope at gmail.com  Fri Nov 21 15:18:25 2008
From: lynne.pope at gmail.com (Lynne Pope)
Date: Fri Nov 21 15:18:35 2008
Subject: [wp-hackers] List of db changes for 2.7?
In-Reply-To: <161617690811210659o4b753951icd500948de344f70@mail.gmail.com>
References: <427667db0811210016q41c0e373y57cdb607516e556a@mail.gmail.com>
	<op.ukymw9g3k6w4mc@dd32.no-ip.com>
	<161617690811210659o4b753951icd500948de344f70@mail.gmail.com>
Message-ID: <427667db0811210718x7e52a2bet73c15ca4d24ea8ef@mail.gmail.com>

Thanks guys - I got those.

This is a dummy that upgraded the wrong blog to 2.7 Beta3 and who is
now having to try to reverse the upgrade. Not a smart thing to do :(

Lynne

2008/11/22 Otto <otto@ottodestruct.com>:
> Ahh, the magic of diff:
>
> http://trac.wordpress.org/changeset?new=trunk%2Fwp-admin%2Fincludes%2Fschema.php%409316&old=trunk%2Fwp-admin%2Fincludes%2Fschema.php%408553
>
> Short answer:
> -A new index was added on post_parent.
> -Some new capabilities were added to the admin role (update_themes,
> install_plugins).
>
>
> On Fri, Nov 21, 2008 at 2:23 AM, DD32 <wordpress@dd32.id.au> wrote:
>> Easiest to look at the databse upgrade changes:
>>
>> http://trac.wordpress.org/browser/trunk/wp-admin/includes/upgrade.php#L900
>> http://trac.wordpress.org/browser/trunk/wp-admin/includes/schema.php#L517
>>
>>
>> On Fri, 21 Nov 2008 19:16:14 +1100, Lynne Pope <lynne.pope@gmail.com> wrote:
>>
>>> Hi all,
>>> I've been going cross-eyed working on an issue in 2.7 Beta3 and now
>>> need to look more closely at the database.
>>> Does anyone know what changes have been made and if there's a list of
>>> the db upgrade changes anywhere?
>>>
>>> Thanks.
>>>
>>> Lynne
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wp-hackers at striderweb.com  Fri Nov 21 15:21:38 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Fri Nov 21 15:21:52 2008
Subject: [wp-hackers] Comment vs. trackback?
Message-ID: <735D86D9-2A57-4C08-A7D1-7DD48037810B@striderweb.com>

Hi all --

I have an anti-spam plugin that hooks all incoming comments with this:

	add_filter( 'preprocess_comment', 'myplugin_process' , 1 );

Basically the commenter has to answer a simple question in order to  
comment.  if the answer is wrong, I send a wp_die() with an "oops"  
message.

The problem is that it appears to be blocking trackbacks as well --  
but I'm not positive.

So... Questions:

1) Does the preprocess_comment hook affect trackbacks as well?

2) What would be the best way for me to limit the "test" so that only  
comments are affected?

Thanks,
Stephen


-- 
Stephen Rider
<http://striderweb.com/>



From otto at ottodestruct.com  Fri Nov 21 15:27:37 2008
From: otto at ottodestruct.com (Otto)
Date: Fri Nov 21 15:27:46 2008
Subject: [wp-hackers] Comment vs. trackback?
In-Reply-To: <735D86D9-2A57-4C08-A7D1-7DD48037810B@striderweb.com>
References: <735D86D9-2A57-4C08-A7D1-7DD48037810B@striderweb.com>
Message-ID: <161617690811210727mb37460fq622b748a2f6e6509@mail.gmail.com>

On Fri, Nov 21, 2008 at 9:21 AM, Stephen Rider
<wp-hackers@striderweb.com> wrote:
> 1) Does the preprocess_comment hook affect trackbacks as well?

Yes. Pingbacks too.

> 2) What would be the best way for me to limit the "test" so that only
> comments are affected?

Look closer at the comment_type value in the comment array.
From kelter at badcat.com  Fri Nov 21 15:51:06 2008
From: kelter at badcat.com (Kelter-BadCat Design)
Date: Fri Nov 21 15:51:19 2008
Subject: [wp-hackers] Select Menu to filter results by Custom Values
Message-ID: <p06240800c54c86f18c5d@[192.168.1.5]>

Hi,

I sent this out before but no one answered so I guess it's taboo  ;-)

Anyone? Please?

===

I'm trying to get WordPress to return a dropdown 
list (a SELECT MENU - similar to how we use 
"wp_dropdown_categories") of VALUES for a 
particular custom KEY that I've entered in the 
Custom Field.

I'd like to use this dropdown list as a way to 
filter the results (a listing of posts) shown on 
the page.

I tried approaching it like this?

< ?php echo get_post_meta($post->ID, 'time', $single = true); ? >

or

< ?php $key="time"; echo get_post_meta($post->ID, $time, $single = false); ? >

Whereas "time" is the Custom KEY. Additionally I 
need the VALUES in a Select Menu so I can run the 
filter via a form element.

Can anyone point me to any examples or possibly 
something on the WP Codex? Seems like all 
functions try to point me to "Post specific" 
solutions.

thanks!
From dangayle at gmail.com  Fri Nov 21 16:36:03 2008
From: dangayle at gmail.com (Dan Gayle)
Date: Fri Nov 21 16:36:57 2008
Subject: [wp-hackers] Share CSS with parent site
Message-ID: <04CB5BF1-2078-4442-951C-2D3F9CAD4D7C@gmail.com>

I'm running an installation where the blog is integrated into an  
existing website. The blog sits outside the root directory in /blog/

We matched the styles of the parent site with the styles in our theme,  
but we would like to take it a step further. It sucks having to  
maintain two identical sets of stylesheets.

How is it possible to share one single css file between both the  
parent site and the wordpress install?
From harrismw at huridocs.org  Fri Nov 21 16:42:54 2008
From: harrismw at huridocs.org (Michael Harris)
Date: Fri Nov 21 16:43:04 2008
Subject: [wp-hackers] Share CSS with parent site
In-Reply-To: <04CB5BF1-2078-4442-951C-2D3F9CAD4D7C@gmail.com>
References: <04CB5BF1-2078-4442-951C-2D3F9CAD4D7C@gmail.com>
Message-ID: <45606d480811210842s20fede12s8edc9e19754056ce@mail.gmail.com>

An obvious possibility would be to direct your main website to the
/blog/.../style.css (or whatever it is called).

Alternatively, if you are using a custom theme (or if you can modify
the theme), you can point the theme at the stylesheet in the main
root.

Actually, I would go the second option.

If you have:
/blog/
/style/style.css
/index.html

have index.html refer to ./style.css and the theme refer to
../.../style/style.css
Easy.

Michael.

On Fri, Nov 21, 2008 at 5:36 PM, Dan Gayle <dangayle@gmail.com> wrote:
> I'm running an installation where the blog is integrated into an existing
> website. The blog sits outside the root directory in /blog/
>
> We matched the styles of the parent site with the styles in our theme, but
> we would like to take it a step further. It sucks having to maintain two
> identical sets of stylesheets.
>
> How is it possible to share one single css file between both the parent site
> and the wordpress install?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From glenn at glennansley.com  Fri Nov 21 16:48:15 2008
From: glenn at glennansley.com (Glenn Ansley)
Date: Fri Nov 21 16:48:27 2008
Subject: [wp-hackers] Share CSS with parent site
In-Reply-To: <04CB5BF1-2078-4442-951C-2D3F9CAD4D7C@gmail.com>
References: <04CB5BF1-2078-4442-951C-2D3F9CAD4D7C@gmail.com>
Message-ID: <3283f0830811210848k2c582dc3wf68029ec327283d7@mail.gmail.com>

There are a couple of ways to do this. The easiest would probably be to just
delete all the style information in your styles.css (leave the theme info in
the comments) and then use the @import method to bring in your style.css
file.

On Fri, Nov 21, 2008 at 11:36 AM, Dan Gayle <dangayle@gmail.com> wrote:

> I'm running an installation where the blog is integrated into an existing
> website. The blog sits outside the root directory in /blog/
>
> We matched the styles of the parent site with the styles in our theme, but
> we would like to take it a step further. It sucks having to maintain two
> identical sets of stylesheets.
>
> How is it possible to share one single css file between both the parent
> site and the wordpress install?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From scribu at gmail.com  Fri Nov 21 17:11:59 2008
From: scribu at gmail.com (scribu)
Date: Fri Nov 21 17:12:09 2008
Subject: [wp-hackers] Select Menu to filter results by Custom Values
In-Reply-To: <p06240800c54c86f18c5d@192.168.1.5>
References: <p06240800c54c86f18c5d@192.168.1.5>
Message-ID: <349fe48b0811210911k665e0b6dlc0930e21b1de6c8e@mail.gmail.com>

There isn't a wp_dropdown_meta() function in WordPress, so I guess you'll
have to write a modified wp_dropdown_categories() function.

Also, you'll have to use a custom query, something like " SELECT * FROM
$wpdb->postmeta WHERE key='time' "

-- 
http://scribu.net
From dangayle at gmail.com  Fri Nov 21 17:31:18 2008
From: dangayle at gmail.com (Dan Gayle)
Date: Fri Nov 21 17:31:35 2008
Subject: [wp-hackers] Share CSS with parent site
In-Reply-To: <3283f0830811210848k2c582dc3wf68029ec327283d7@mail.gmail.com>
References: <04CB5BF1-2078-4442-951C-2D3F9CAD4D7C@gmail.com>
	<3283f0830811210848k2c582dc3wf68029ec327283d7@mail.gmail.com>
Message-ID: <588E1818-5C47-4617-8321-13479D5F6DD1@gmail.com>

So would I @import like this?

  @import url("/styles/style.css");

Now, if I wanted to call an absolute path from the html itself, how  
would I do it? I assume it would be similar to this, but with a  
different variable that indicates the root directory:
<link rel="stylesheet" href="<?php bloginfo('template_directory'); ?>/ 
ie55.css" />

Or would it be more like this, but with a different constant (And a  
different function, since this would just put the code into the html  
rather than reference the external style):

<?php include (TEMPLATEPATH . '/style.css'); ?>


On Nov 21, 2008, at 8:48 AM, Glenn Ansley wrote:

> There are a couple of ways to do this. The easiest would probably be  
> to just
> delete all the style information in your styles.css (leave the theme  
> info in
> the comments) and then use the @import method to bring in your  
> style.css
> file.
>
> On Fri, Nov 21, 2008 at 11:36 AM, Dan Gayle <dangayle@gmail.com>  
> wrote:
>
>> I'm running an installation where the blog is integrated into an  
>> existing
>> website. The blog sits outside the root directory in /blog/
>>
>> We matched the styles of the parent site with the styles in our  
>> theme, but
>> we would like to take it a step further. It sucks having to  
>> maintain two
>> identical sets of stylesheets.
>>
>> How is it possible to share one single css file between both the  
>> parent
>> site and the wordpress install?
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From yahgrp at poplarware.com  Fri Nov 21 19:42:44 2008
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Fri Nov 21 20:10:07 2008
Subject: [wp-hackers] Select Menu to filter results by Custom Values
In-Reply-To: <349fe48b0811210911k665e0b6dlc0930e21b1de6c8e@mail.gmail.com>
References: <p06240800c54c86f18c5d@192.168.1.5>
	<349fe48b0811210911k665e0b6dlc0930e21b1de6c8e@mail.gmail.com>
Message-ID: <49270F34.6010301@poplarware.com>

scribu wrote:
> Also, you'll have to use a custom query, something like " SELECT * FROM
> $wpdb->postmeta WHERE key='time' "

I don't think that is necessary. The get_post_meta() function should 
return the whole array, and get_post_custom gives you all the post 
meta in one big array.

http://codex.wordpress.org/Function_Reference/get_post_meta
http://codex.wordpress.org/Function_Reference/get_post_custom

    --Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From kelter at badcat.com  Fri Nov 21 21:32:16 2008
From: kelter at badcat.com (Kelter-BadCat Design)
Date: Fri Nov 21 21:32:33 2008
Subject: [wp-hackers] Select Menu to filter results by Custom Values
In-Reply-To: <49270F34.6010301@poplarware.com>
References: <p06240800c54c86f18c5d@192.168.1.5>
	<349fe48b0811210911k665e0b6dlc0930e21b1de6c8e@mail.gmail.com>
	<49270F34.6010301@poplarware.com>
Message-ID: <p06240804c54cd7586500@[192.168.1.5]>

Thanks Jennifer,

I've been to these pages already -

I seem to get just text returned back stating "Array" when using:
<?php echo get_post_meta($post->ID, 'time', $single = false); ?>

If I change to --
<?php echo get_post_meta($post->ID, 'time', $single = true); ?>

It "works" but then I only get the data from the first post delivered 
to the page.

I've even tried variants of...
<?php $key="time"; echo get_post_meta($post->ID, $time, $single = true); ?>
to no avail.

The next step of getting this returned into a select menu also fails.

-Kel



At 11:42 AM -0800 11/21/08, Jennifer Hodgdon wrote:
>scribu wrote:
>>Also, you'll have to use a custom query, something like " SELECT * FROM
>>$wpdb->postmeta WHERE key='time' "
>
>I don't think that is necessary. The get_post_meta() function should 
>return the whole array, and get_post_custom gives you all the post 
>meta in one big array.
>
>http://codex.wordpress.org/Function_Reference/get_post_meta
>http://codex.wordpress.org/Function_Reference/get_post_custom
>
>    --Jennifer
>
>--
>Jennifer Hodgdon * Poplar ProductivityWare
>www.poplarware.com
>
>Drupal/WordPress Sites, Themes, Modules/Plugins
>Custom Web Programming, Web Databases
>PHP, Perl, MySQL, JavaScript, XML, AJAX
>
From otto at ottodestruct.com  Fri Nov 21 22:03:08 2008
From: otto at ottodestruct.com (Otto)
Date: Fri Nov 21 22:03:21 2008
Subject: [wp-hackers] Select Menu to filter results by Custom Values
In-Reply-To: <p06240804c54cd7586500@192.168.1.5>
References: <p06240800c54c86f18c5d@192.168.1.5>
	<349fe48b0811210911k665e0b6dlc0930e21b1de6c8e@mail.gmail.com>
	<49270F34.6010301@poplarware.com> <p06240804c54cd7586500@192.168.1.5>
Message-ID: <161617690811211403j4d242b3fq8c5bf951253f5329@mail.gmail.com>

You're getting back "Array" because when single = false, then it
returns an array of all the metas for that post with that key.

Simple example of getting more than one meta value:

$timearray = get_post_meta($post->ID, 'time', false);
foreach ($timearray as $time) {
echo $time;
}


On Fri, Nov 21, 2008 at 3:32 PM, Kelter-BadCat Design <kelter@badcat.com> wrote:
> Thanks Jennifer,
>
> I've been to these pages already -
>
> I seem to get just text returned back stating "Array" when using:
> <?php echo get_post_meta($post->ID, 'time', $single = false); ?>
>
> If I change to --
> <?php echo get_post_meta($post->ID, 'time', $single = true); ?>
>
> It "works" but then I only get the data from the first post delivered to the
> page.
>
> I've even tried variants of...
> <?php $key="time"; echo get_post_meta($post->ID, $time, $single = true); ?>
> to no avail.
>
> The next step of getting this returned into a select menu also fails.
>
> -Kel
>
>
>
> At 11:42 AM -0800 11/21/08, Jennifer Hodgdon wrote:
>>
>> scribu wrote:
>>>
>>> Also, you'll have to use a custom query, something like " SELECT * FROM
>>> $wpdb->postmeta WHERE key='time' "
>>
>> I don't think that is necessary. The get_post_meta() function should
>> return the whole array, and get_post_custom gives you all the post meta in
>> one big array.
>>
>> http://codex.wordpress.org/Function_Reference/get_post_meta
>> http://codex.wordpress.org/Function_Reference/get_post_custom
>>
>>   --Jennifer
>>
>> --
>> Jennifer Hodgdon * Poplar ProductivityWare
>> www.poplarware.com
>>
>> Drupal/WordPress Sites, Themes, Modules/Plugins
>> Custom Web Programming, Web Databases
>> PHP, Perl, MySQL, JavaScript, XML, AJAX
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From otto at ottodestruct.com  Fri Nov 21 22:07:15 2008
From: otto at ottodestruct.com (Otto)
Date: Fri Nov 21 22:07:26 2008
Subject: [wp-hackers] Select Menu to filter results by Custom Values
In-Reply-To: <161617690811211403j4d242b3fq8c5bf951253f5329@mail.gmail.com>
References: <p06240800c54c86f18c5d@192.168.1.5>
	<349fe48b0811210911k665e0b6dlc0930e21b1de6c8e@mail.gmail.com>
	<49270F34.6010301@poplarware.com> <p06240804c54cd7586500@192.168.1.5>
	<161617690811211403j4d242b3fq8c5bf951253f5329@mail.gmail.com>
Message-ID: <161617690811211407v3c969d73x153fa7fa669eef6f@mail.gmail.com>

Additional: I re-read your first post, it seems like you want to get
the values for a key meta key for ALL posts, correct?

If so, then there's no way to do that with WordPress functions. Meta
values are post-specific, there's no functions to manipulate them as a
group, they're attached to a post.

You'll need to write a custom SQL query to pull out the data you want.
scribu's post had the correct basic idea. Write some SQL to select the
values, pull them out into an array using $wpdb->get_results, then
loop through them to do your output.

There's no other way to do it, really.


On Fri, Nov 21, 2008 at 4:03 PM, Otto <otto@ottodestruct.com> wrote:
> You're getting back "Array" because when single = false, then it
> returns an array of all the metas for that post with that key.
>
> Simple example of getting more than one meta value:
>
> $timearray = get_post_meta($post->ID, 'time', false);
> foreach ($timearray as $time) {
> echo $time;
> }
>
>
> On Fri, Nov 21, 2008 at 3:32 PM, Kelter-BadCat Design <kelter@badcat.com> wrote:
>> Thanks Jennifer,
>>
>> I've been to these pages already -
>>
>> I seem to get just text returned back stating "Array" when using:
>> <?php echo get_post_meta($post->ID, 'time', $single = false); ?>
>>
>> If I change to --
>> <?php echo get_post_meta($post->ID, 'time', $single = true); ?>
>>
>> It "works" but then I only get the data from the first post delivered to the
>> page.
>>
>> I've even tried variants of...
>> <?php $key="time"; echo get_post_meta($post->ID, $time, $single = true); ?>
>> to no avail.
>>
>> The next step of getting this returned into a select menu also fails.
>>
>> -Kel
>>
>>
>>
>> At 11:42 AM -0800 11/21/08, Jennifer Hodgdon wrote:
>>>
>>> scribu wrote:
>>>>
>>>> Also, you'll have to use a custom query, something like " SELECT * FROM
>>>> $wpdb->postmeta WHERE key='time' "
>>>
>>> I don't think that is necessary. The get_post_meta() function should
>>> return the whole array, and get_post_custom gives you all the post meta in
>>> one big array.
>>>
>>> http://codex.wordpress.org/Function_Reference/get_post_meta
>>> http://codex.wordpress.org/Function_Reference/get_post_custom
>>>
>>>   --Jennifer
>>>
>>> --
>>> Jennifer Hodgdon * Poplar ProductivityWare
>>> www.poplarware.com
>>>
>>> Drupal/WordPress Sites, Themes, Modules/Plugins
>>> Custom Web Programming, Web Databases
>>> PHP, Perl, MySQL, JavaScript, XML, AJAX
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
From kelter at badcat.com  Fri Nov 21 22:13:29 2008
From: kelter at badcat.com (Kelter-BadCat Design)
Date: Fri Nov 21 22:13:45 2008
Subject: [wp-hackers] Select Menu to filter results by Custom Values
In-Reply-To: <161617690811211403j4d242b3fq8c5bf951253f5329@mail.gmail.com>
References: <p06240800c54c86f18c5d@192.168.1.5>
	<349fe48b0811210911k665e0b6dlc0930e21b1de6c8e@mail.gmail.com>
	<49270F34.6010301@poplarware.com> <p06240804c54cd7586500@192.168.1.5>
	<161617690811211403j4d242b3fq8c5bf951253f5329@mail.gmail.com>
Message-ID: <p06240807c54ce281026d@[192.168.1.5]>

That still give me just one meta value...

I'm already showing more that one post on the page. Could this be an issue?

-Kel

At 4:03 PM -0600 11/21/08, Otto wrote:
>You're getting back "Array" because when single = false, then it
>returns an array of all the metas for that post with that key.
>
>Simple example of getting more than one meta value:
>
>$timearray = get_post_meta($post->ID, 'time', false);
>foreach ($timearray as $time) {
>echo $time;
>}
>
>


-- 
===========================
BadCat Design, Inc.
250 Union Square Drive
New Hope, PA 18938
Tel 215.862.4860
http://www.BadCat.com
===========================
From kelter at badcat.com  Fri Nov 21 22:15:22 2008
From: kelter at badcat.com (Kelter-BadCat Design)
Date: Fri Nov 21 22:15:36 2008
Subject: [wp-hackers] Select Menu to filter results by Custom Values
In-Reply-To: <161617690811211407v3c969d73x153fa7fa669eef6f@mail.gmail.com>
References: <p06240800c54c86f18c5d@192.168.1.5>
	<349fe48b0811210911k665e0b6dlc0930e21b1de6c8e@mail.gmail.com>
	<49270F34.6010301@poplarware.com> <p06240804c54cd7586500@192.168.1.5>
	<161617690811211403j4d242b3fq8c5bf951253f5329@mail.gmail.com>
	<161617690811211407v3c969d73x153fa7fa669eef6f@mail.gmail.com>
Message-ID: <p06240808c54ce31e273f@[192.168.1.5]>

Bingo! As I suspected - that was the issue.

OK - So who wants to hold my hand through SQL queries  ;-)

-Kel

At 4:07 PM -0600 11/21/08, Otto wrote:
>Additional: I re-read your first post, it seems like you want to get
>the values for a key meta key for ALL posts, correct?
>
>If so, then there's no way to do that with WordPress functions. Meta
>values are post-specific, there's no functions to manipulate them as a
>group, they're attached to a post.
>
>You'll need to write a custom SQL query to pull out the data you want.
>scribu's post had the correct basic idea. Write some SQL to select the
>values, pull them out into an array using $wpdb->get_results, then
>loop through them to do your output.
>
>There's no other way to do it, really.

From peter.westwood at ftwr.co.uk  Fri Nov 21 22:19:14 2008
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri Nov 21 22:19:30 2008
Subject: [wp-hackers] Select Menu to filter results by Custom Values
In-Reply-To: <p06240808c54ce31e273f@[192.168.1.5]>
References: <p06240800c54c86f18c5d@192.168.1.5>	<349fe48b0811210911k665e0b6dlc0930e21b1de6c8e@mail.gmail.com>	<49270F34.6010301@poplarware.com>
	<p06240804c54cd7586500@192.168.1.5>	<161617690811211403j4d242b3fq8c5bf951253f5329@mail.gmail.com>	<161617690811211407v3c969d73x153fa7fa669eef6f@mail.gmail.com>
	<p06240808c54ce31e273f@[192.168.1.5]>
Message-ID: <492733E2.9080504@ftwr.co.uk>

Kelter-BadCat Design wrote:
> Bingo! As I suspected - that was the issue.
>
> OK - So who wants to hold my hand through SQL queries  ;-)
>
>   
Crafted from the querys in update_postmeta_cache and update_post_meta:

$wpdb->get_results($wpdb->prepare("SELECT DISTINCT meta_value FROM 
$wpdb->postmeta WHERE meta_key = %s", $meta_key) , ARRAY_A)

untested of course.

westi

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5 

From yahgrp at poplarware.com  Fri Nov 21 22:30:19 2008
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Fri Nov 21 22:29:47 2008
Subject: [wp-hackers] Select Menu to filter results by Custom Values
In-Reply-To: <492733E2.9080504@ftwr.co.uk>
References: <p06240800c54c86f18c5d@192.168.1.5>	<349fe48b0811210911k665e0b6dlc0930e21b1de6c8e@mail.gmail.com>	<49270F34.6010301@poplarware.com>	<p06240804c54cd7586500@192.168.1.5>	<161617690811211403j4d242b3fq8c5bf951253f5329@mail.gmail.com>	<161617690811211407v3c969d73x153fa7fa669eef6f@mail.gmail.com>	<p06240808c54ce31e273f@[192.168.1.5]>
	<492733E2.9080504@ftwr.co.uk>
Message-ID: <4927367B.5070303@poplarware.com>

And then you can't simply use the echo command to print the array. You 
need to do a PHP loop, and print it as a SELECT list. Check one of the 
WP drop-down functions for an example, if you're not a PHP expert, but 
if you print an array with echo, you just get the text "Array".

     --Jennifer

Peter Westwood wrote:
> Kelter-BadCat Design wrote:
>> Bingo! As I suspected - that was the issue.
>>
>> OK - So who wants to hold my hand through SQL queries  ;-)
>>
>>   
> Crafted from the querys in update_postmeta_cache and update_post_meta:
> 
> $wpdb->get_results($wpdb->prepare("SELECT DISTINCT meta_value FROM 
> $wpdb->postmeta WHERE meta_key = %s", $meta_key) , ARRAY_A)
> 
> untested of course.
> 
> westi
> 


-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From wordpress at dd32.id.au  Fri Nov 21 23:29:47 2008
From: wordpress at dd32.id.au (DD32)
Date: Fri Nov 21 23:30:25 2008
Subject: [wp-hackers] List of db changes for 2.7?
In-Reply-To: <427667db0811210718x7e52a2bet73c15ca4d24ea8ef@mail.gmail.com>
References: <427667db0811210016q41c0e373y57cdb607516e556a@mail.gmail.com>
	<op.ukymw9g3k6w4mc@dd32.no-ip.com>
	<161617690811210659o4b753951icd500948de344f70@mail.gmail.com>
	<427667db0811210718x7e52a2bet73c15ca4d24ea8ef@mail.gmail.com>
Message-ID: <op.ukzsvxr6k6w4mc@dd32.no-ip.com>

On Sat, 22 Nov 2008 02:18:25 +1100, Lynne Pope <lynne.pope@gmail.com>  
wrote:

> Thanks guys - I got those.
>
> This is a dummy that upgraded the wrong blog to 2.7 Beta3 and who is
> now having to try to reverse the upgrade. Not a smart thing to do :(
>
> Lynne

Well lucky for you, You just need to copy the files over the top :)
From lynne.pope at gmail.com  Sat Nov 22 00:19:09 2008
From: lynne.pope at gmail.com (Lynne Pope)
Date: Sat Nov 22 00:19:42 2008
Subject: [wp-hackers] List of db changes for 2.7?
In-Reply-To: <op.ukzsvxr6k6w4mc@dd32.no-ip.com>
References: <427667db0811210016q41c0e373y57cdb607516e556a@mail.gmail.com>
	<op.ukymw9g3k6w4mc@dd32.no-ip.com>
	<161617690811210659o4b753951icd500948de344f70@mail.gmail.com>
	<427667db0811210718x7e52a2bet73c15ca4d24ea8ef@mail.gmail.com>
	<op.ukzsvxr6k6w4mc@dd32.no-ip.com>
Message-ID: <427667db0811211619k1decd8d9n6ad02e1f08c8ba5e@mail.gmail.com>

I also had to revert the role changes. To avoid problems with
upgrading later I removed all the new options and also reset the
database version number back to what it was under 2.6.3.


2008/11/22 DD32 <wordpress@dd32.id.au>:
> On Sat, 22 Nov 2008 02:18:25 +1100, Lynne Pope <lynne.pope@gmail.com> wrote:
>
>> Thanks guys - I got those.
>>
>> This is a dummy that upgraded the wrong blog to 2.7 Beta3 and who is
>> now having to try to reverse the upgrade. Not a smart thing to do :(
>>
>> Lynne
>
> Well lucky for you, You just need to copy the files over the top :)
From matt at sivel.net  Sat Nov 22 01:44:48 2008
From: matt at sivel.net (Matt Martz)
Date: Sat Nov 22 01:45:00 2008
Subject: [wp-hackers] Re: Uselecc extra div's => useless mail
In-Reply-To: <8810a71a0811200613k1ddce41cu8071fe791bac8497@mail.gmail.com>
References: <8810a71a0811200613k1ddce41cu8071fe791bac8497@mail.gmail.com>
Message-ID: <518fa9630811211744n479edefbsaa47d00f7bfe9e1c@mail.gmail.com>

> Sorry that is not the fix . searching ...
>
> 2008/11/20 andr? renaut <andre.renaut@gmail.com>
>
>> In *admin-header.php* (see my previous message "screen_meta (last ?)"
>> about extra div's).
>>
>> code :
>>
>> <?php favorite_actions(); ?>
>> </div>
>> </div>
>>
>> should be
>>
>> <?php favorite_actions(); ?>

I thought the same thing at first.  Ended up being 2 improperly
formatted divs in admin-footer.php.

See http://trac.wordpress.org/changeset/9832 for the fix.  It's
already in trunk so an svn update will fix it for you.

-- 
Matt Martz
matt@sivel.net
From dangayle at gmail.com  Sat Nov 22 02:41:33 2008
From: dangayle at gmail.com (Dan Gayle)
Date: Sat Nov 22 02:41:52 2008
Subject: [wp-hackers] Share CSS with parent site
In-Reply-To: <3283f0830811210848k2c582dc3wf68029ec327283d7@mail.gmail.com>
References: <04CB5BF1-2078-4442-951C-2D3F9CAD4D7C@gmail.com>
	<3283f0830811210848k2c582dc3wf68029ec327283d7@mail.gmail.com>
Message-ID: <E7F554C6-9ABD-4A63-BC20-9ED6B9ED95A4@gmail.com>

I figured out a way to do this easily. In fact, it was so obvious  
that I want to hit myself upside the head. I'm already calling wp_head 
() to pull in data from different pages, etc, so why not just use   
bloginfo('stylesheet_url') and call it a day? Problem solved.

So I know how to pull something FROM wordpress, but how do I pull  
something from the root INTO wordpress?



On Nov 21, 2008, at 8:48 AM, Glenn Ansley wrote:
> There are a couple of ways to do this. The easiest would probably  
> be to just
> delete all the style information in your styles.css (leave the  
> theme info in
> the comments) and then use the @import method to bring in your  
> style.css
> file.
>
> On Fri, Nov 21, 2008 at 11:36 AM, Dan Gayle <dangayle@gmail.com>  
> wrote:
>
>> I'm running an installation where the blog is integrated into an  
>> existing
>> website. The blog sits outside the root directory in /blog/
>>
>> We matched the styles of the parent site with the styles in our  
>> theme, but
>> we would like to take it a step further. It sucks having to  
>> maintain two
>> identical sets of stylesheets.
>>
>> How is it possible to share one single css file between both the  
>> parent
>> site and the wordpress install?
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wp-hackers at striderweb.com  Sat Nov 22 03:17:38 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat Nov 22 03:18:10 2008
Subject: [wp-hackers] Share CSS with parent site
In-Reply-To: <E7F554C6-9ABD-4A63-BC20-9ED6B9ED95A4@gmail.com>
References: <04CB5BF1-2078-4442-951C-2D3F9CAD4D7C@gmail.com>
	<3283f0830811210848k2c582dc3wf68029ec327283d7@mail.gmail.com>
	<E7F554C6-9ABD-4A63-BC20-9ED6B9ED95A4@gmail.com>
Message-ID: <A5A957D0-9951-4C31-ABD1-CFB1EE8CF115@striderweb.com>

Why don't you just edit the theme and add a regular <style> tag that  
calls the CSS you want?

OR

In the blog's theme, blank out the CSS, and do an @include to the CSS  
you want.

Stephen

On Nov 21, 2008, at 8:41 PM, Dan Gayle wrote:

> I figured out a way to do this easily. In fact, it was so obvious  
> that I want to hit myself upside the head. I'm already calling  
> wp_head() to pull in data from different pages, etc, so why not just  
> use  bloginfo('stylesheet_url') and call it a day? Problem solved.
>
> So I know how to pull something FROM wordpress, but how do I pull  
> something from the root INTO wordpress?
>
>
>
> On Nov 21, 2008, at 8:48 AM, Glenn Ansley wrote:
>> There are a couple of ways to do this. The easiest would probably  
>> be to just
>> delete all the style information in your styles.css (leave the  
>> theme info in
>> the comments) and then use the @import method to bring in your  
>> style.css
>> file.
>>
>> On Fri, Nov 21, 2008 at 11:36 AM, Dan Gayle <dangayle@gmail.com>  
>> wrote:
>>
>>> I'm running an installation where the blog is integrated into an  
>>> existing
>>> website. The blog sits outside the root directory in /blog/
>>>
>>> We matched the styles of the parent site with the styles in our  
>>> theme, but
>>> we would like to take it a step further. It sucks having to  
>>> maintain two
>>> identical sets of stylesheets.
>>>
>>> How is it possible to share one single css file between both the  
>>> parent
>>> site and the wordpress install?
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From kelter at badcat.com  Sat Nov 22 03:49:52 2008
From: kelter at badcat.com (Kelter-BadCat Design)
Date: Sat Nov 22 03:50:13 2008
Subject: [wp-hackers] Select Menu to filter results by Custom Values
In-Reply-To: <4927367B.5070303@poplarware.com>
References: <p06240800c54c86f18c5d@192.168.1.5>
	<349fe48b0811210911k665e0b6dlc0930e21b1de6c8e@mail.gmail.com>
	<49270F34.6010301@poplarware.com>	<p06240804c54cd7586500@192.168.1.5>
	<161617690811211403j4d242b3fq8c5bf951253f5329@mail.gmail.com>
	<161617690811211407v3c969d73x153fa7fa669eef6f@mail.gmail.com>
	<p06240808c54ce31e273f@[192.168.1.5]>	<492733E2.9080504@ftwr.co.uk>
	<4927367B.5070303@poplarware.com>
Message-ID: <p06240600c54d309a15f7@[192.168.1.104]>

Ugh.. OK thanks everyone!

Time to learn some more php and db stuff.

fwiw, I've been trying to replicate a lot of the jobs board that wordpress has.
My take is here - not yet officially launched.

http://www.jkcp.com/jobs/


for the moment, I've used "tags" to answer my issue re: custom fields (seasonal and full time) but I feel as though the better solution will be to work out how to better make use of the post meta custom field data.

-Kel

At 2:30 PM -0800 11/21/08, Jennifer Hodgdon wrote:
>And then you can't simply use the echo command to print the array. You need to do a PHP loop, and print it as a SELECT list. Check one of the WP drop-down functions for an example, if you're not a PHP expert, but if you print an array with echo, you just get the text "Array".
>
 
-- 
===========================
BadCat Design, Inc.
250 Union Square Drive
New Hope, PA 18938
Tel 215.862.4860
http://www.BadCat.com
http://www.BadCatDesign.com/
===========================
From jeremy.visser at gmail.com  Sat Nov 22 12:58:26 2008
From: jeremy.visser at gmail.com (Jeremy Visser)
Date: Sat Nov 22 12:58:43 2008
Subject: [wp-hackers] Select Menu to filter results by Custom Values
In-Reply-To: <p06240800c54c86f18c5d@[192.168.1.5]>
References: <p06240800c54c86f18c5d@[192.168.1.5]>
Message-ID: <1227358706.23083.5.camel@rillian.narnia.sunriseroad.net>

Check out the documentation for get_post_meta().
<http://codex.wordpress.org/Function_Reference/get_post_meta>

>From the article:

        If $single is set to false, or left blank, the function returns
        an array containing all values of the specified key.

Sounds like it would do exactly what you want.

So running this:

        $values = get_post_meta(23, 'some_key'); // $single defaults to false

If you had several values for the one key 'some_key', it should return
an array like this:

        $values = array(
        		'dead',
        		'beef',
        		'cafe'
        	);

Mind, I haven't actually tested what I've said. I haven't used
get_post_meta() in about a year, so I've probably forgotten it.

-- 
Jeremy Visser                                 http://jeremy.visser.name/

No Internet Censorship for Australia             http://nocleanfeed.com/

From wolly66 at gmail.com  Sat Nov 22 21:08:42 2008
From: wolly66 at gmail.com (wolly)
Date: Sat Nov 22 21:08:52 2008
Subject: [wp-hackers] Re: wp-hackers Digest, Vol 46, Issue 38
In-Reply-To: <20081114120033.81A03726E@comox.textdrive.com>
References: <20081114120033.81A03726E@comox.textdrive.com>
Message-ID: <fc32a0520811221308r5a7bd641q395123121fccfe3a@mail.gmail.com>

I have a problem with the automatic upgrade with wordpress 2.7.
When I launch the automatic upgrade it works but I receive this error
(Sorry for the transaltion but I receive the message from the browser in
italian)
*Error in the content code.
The page you are trying to see cannot been shown because it use a
compression form not valid or unsupported.
Contact the webmaster to infor him of the problem.*
 php 5.2.6
server linux
MySQL: 4.0.2

At the end of the process I must reapply CHMOD and if there is a DB upgrade
I have to do it when I enter in dashboard.
In any case the upgrade is done and seems to work:-)
ciao



-- 
wolly aka Paolo Valenti
http://www.paolo.valenti.name
From wordpress at dd32.id.au  Sat Nov 22 22:43:19 2008
From: wordpress at dd32.id.au (DD32)
Date: Sat Nov 22 22:43:45 2008
Subject: [wp-hackers] Re: wp-hackers Digest, Vol 46, Issue 38
In-Reply-To: <fc32a0520811221308r5a7bd641q395123121fccfe3a@mail.gmail.com>
References: <20081114120033.81A03726E@comox.textdrive.com>
	<fc32a0520811221308r5a7bd641q395123121fccfe3a@mail.gmail.com>
Message-ID: <op.uk1lehb4k6w4mc@dd32.no-ip.com>

What browser do you use?
Any chance of trying the English version? (Or just deactivating the  
language pack by changing the WPLANG constant in your wp-config.php) to  
see if it remains?

On Sun, 23 Nov 2008 08:08:42 +1100, wolly <wolly66@gmail.com> wrote:

> I have a problem with the automatic upgrade with wordpress 2.7.
> When I launch the automatic upgrade it works but I receive this error
> (Sorry for the transaltion but I receive the message from the browser in
> italian)
> *Error in the content code.
> The page you are trying to see cannot been shown because it use a
> compression form not valid or unsupported.
> Contact the webmaster to infor him of the problem.*
>  php 5.2.6
> server linux
> MySQL: 4.0.2
>
> At the end of the process I must reapply CHMOD and if there is a DB  
> upgrade
> I have to do it when I enter in dashboard.
> In any case the upgrade is done and seems to work:-)
> ciao
>
>
>


From krustyruffle at rustykruffle.com  Sun Nov 23 00:12:39 2008
From: krustyruffle at rustykruffle.com (Krusty Ruffle)
Date: Sun Nov 23 00:12:48 2008
Subject: [wp-hackers] A question about theme updates in WP 2.7
Message-ID: <93c3fbd10811221612w24fdf497ra9efc5e453c52670@mail.gmail.com>

Will an automatic theme update cause files in the themes folder to be
removed?

I ask because I have a plugin that queues a user created style file if it is
found in the theme's root folder. If this file will be removed when the
theme is updated then I need to figure out a way around it. I seem to
remember this happening with plugins when the automatic updating started for
them and I would prefer to avoid a possible problem if I can :)

Thanks for any information or help anyone can provide.
From hempsworth at googlemail.com  Sun Nov 23 00:34:23 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Nov 23 00:34:34 2008
Subject: [wp-hackers] Extract first image from a post
Message-ID: <5a1dad880811221634j44728880qb1bff87a5d874d0f@mail.gmail.com>

Hi all,
I've created a custom loop to return the last 4 posts, and I need to extract
the first image from each post. Is there a way of possibly searching
the_content for an image and outputting the first one the search finds?

I'm not really a PHP guru but I'm very eager to learn!

Many thanks,
Alex
From wordpress at santosj.name  Sun Nov 23 01:48:55 2008
From: wordpress at santosj.name (Jacob Santos)
Date: Sun Nov 23 01:49:04 2008
Subject: [wp-hackers] A question about theme updates in WP 2.7
In-Reply-To: <93c3fbd10811221612w24fdf497ra9efc5e453c52670@mail.gmail.com>
References: <93c3fbd10811221612w24fdf497ra9efc5e453c52670@mail.gmail.com>
Message-ID: <4928B687.80305@santosj.name>

Krusty Ruffle wrote:
> Will an automatic theme update cause files in the themes folder to be
> removed?
>
> I ask because I have a plugin that queues a user created style file if it is
> found in the theme's root folder. If this file will be removed when the
> theme is updated then I need to figure out a way around it. I seem to
> remember this happening with plugins when the automatic updating started for
> them and I would prefer to avoid a possible problem if I can :)
>
> Thanks for any information or help anyone can provide.
>   

Without looking at the code, I will have to answer that it works like 
the plugin upgrade code. Therefore, yes, if you have styles in the same 
folder, they will be removed along with the theme.

You should recommend your users switch over to using child themes 
instead, if they wish to make modifications. There are also improved 
inclusion code that will include parent theme files or use the child 
theme files if they exist.

Jacob Santos
From krustyruffle at rustykruffle.com  Sun Nov 23 02:17:59 2008
From: krustyruffle at rustykruffle.com (Krusty Ruffle)
Date: Sun Nov 23 02:18:14 2008
Subject: [wp-hackers] A question about theme updates in WP 2.7
In-Reply-To: <4928B687.80305@santosj.name>
References: <93c3fbd10811221612w24fdf497ra9efc5e453c52670@mail.gmail.com>
	<4928B687.80305@santosj.name>
Message-ID: <93c3fbd10811221817i28df064du25319ae6a9e2fc9e@mail.gmail.com>

Thank you for the reply!


> Without looking at the code, I will have to answer that it works like the
> plugin upgrade code. Therefore, yes, if you have styles in the same folder,
> they will be removed along with the theme.


I was afraid of that.


> You should recommend your users switch over to using child themes instead,
> if they wish to make modifications. There are also improved inclusion code
> that will include parent theme files or use the child theme files if they
> exist.


Yeah, but a lot of these tweak files are for child themes already. It would
be feasible if grandchild themes worked, but this is not the case.

Jacob Santos
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


Thanks again for the information, I really appreciate it.
From wordpress at santosj.name  Sun Nov 23 02:42:30 2008
From: wordpress at santosj.name (Jacob Santos)
Date: Sun Nov 23 02:43:46 2008
Subject: [wp-hackers] A question about theme updates in WP 2.7
In-Reply-To: <93c3fbd10811221817i28df064du25319ae6a9e2fc9e@mail.gmail.com>
References: <93c3fbd10811221612w24fdf497ra9efc5e453c52670@mail.gmail.com>	<4928B687.80305@santosj.name>
	<93c3fbd10811221817i28df064du25319ae6a9e2fc9e@mail.gmail.com>
Message-ID: <4928C316.7080701@santosj.name>

Perhaps I misunderstood then. The only themes that will be upgraded are 
the ones that are on the WordPress Themes Extend site. If your theme is 
not on that site, then the theme won't be automatically upgraded. Well, 
there are ways around this, but it will be up to you to find out how. 
There are two ways, I might be wrong about one way, but it could be 
dangerous if I tell, so I won't.

Any child themes will naturally not be upgraded, they are not tied to 
the parent theme, so if the styles are already in the child theme, 
nothing will go wrong. If the child theme is within the parent theme 
(which it should not be), then yes it will also go away. Child themes 
should be in their own directory.

Jacob Santos


Krusty Ruffle wrote:
> Thank you for the reply!
>
>
>   
>> Without looking at the code, I will have to answer that it works like the
>> plugin upgrade code. Therefore, yes, if you have styles in the same folder,
>> they will be removed along with the theme.
>>     
>
>
> I was afraid of that.
>
>
>   
>> You should recommend your users switch over to using child themes instead,
>> if they wish to make modifications. There are also improved inclusion code
>> that will include parent theme files or use the child theme files if they
>> exist.
>>     
>
>
> Yeah, but a lot of these tweak files are for child themes already. It would
> be feasible if grandchild themes worked, but this is not the case.
>
> Jacob Santos
>   
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>     
>
>
> Thanks again for the information, I really appreciate it.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From alan at verselogic.net  Sun Nov 23 03:01:02 2008
From: alan at verselogic.net (Alan Castonguay)
Date: Sun Nov 23 03:01:29 2008
Subject: [wp-hackers] Extract first image from a post
In-Reply-To: <5a1dad880811221634j44728880qb1bff87a5d874d0f@mail.gmail.com>
References: <5a1dad880811221634j44728880qb1bff87a5d874d0f@mail.gmail.com>
Message-ID: <3055B334-1933-4558-BD3F-3C6174C01EEF@verselogic.net>

Why not get the first image attachment instead? Less parsing of HTML.

Alan

Sent from my iPhone

On 22-Nov-08, at 19:34, "Alex Hempton-Smith"  
<hempsworth@googlemail.com> wrote:

> Hi all,
> I've created a custom loop to return the last 4 posts, and I need to  
> extract
> the first image from each post. Is there a way of possibly searching
> the_content for an image and outputting the first one the search  
> finds?
>
> I'm not really a PHP guru but I'm very eager to learn!
>
> Many thanks,
> Alex
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From krustyruffle at rustykruffle.com  Sun Nov 23 03:19:07 2008
From: krustyruffle at rustykruffle.com (Krusty Ruffle)
Date: Sun Nov 23 03:19:16 2008
Subject: [wp-hackers] A question about theme updates in WP 2.7
In-Reply-To: <4928C316.7080701@santosj.name>
References: <93c3fbd10811221612w24fdf497ra9efc5e453c52670@mail.gmail.com>
	<4928B687.80305@santosj.name>
	<93c3fbd10811221817i28df064du25319ae6a9e2fc9e@mail.gmail.com>
	<4928C316.7080701@santosj.name>
Message-ID: <93c3fbd10811221919q395394e4pa201720e546ecfa1@mail.gmail.com>

Hmm, I think I'm not being clear.

I have:

themes:
   classic
   default
   sandbox
   {several sandbox child themes}

I also have a plugin that checks for tweaks.css file in the root of the
current theme, if it is there it gets queued for inclusion into the head
section of a page. I use tweaks.css to make minor adjustments in themes, and
to help with making various plugins match the theme better as many plugins
are styled for the default theme and do not fit well in some other themes.

I could make a grandchild theme for the child themes and modify css there,
but that won't work. Really this one file is a pretty easy fix... but if a
theme gets updated and loses it's tweaks.css file then that would be bad.

Another thing I like about this solution is that it works with the theme
switcher reloaded plugin, I can put small tweaks files in each directory and
it works for users who have swiched to a different theme.

I had also assumed that child themes could be hosted at the theme repository
and that there was a chance that a child theme could also be automatically
updated. If this is not the case then that makes my problem much smaller,
but I should still look into trying to find a solution.

Thanks again for the help :)


On Sat, Nov 22, 2008 at 9:42 PM, Jacob Santos <wordpress@santosj.name>wrote:

> Perhaps I misunderstood then. The only themes that will be upgraded are the
> ones that are on the WordPress Themes Extend site. If your theme is not on
> that site, then the theme won't be automatically upgraded. Well, there are
> ways around this, but it will be up to you to find out how. There are two
> ways, I might be wrong about one way, but it could be dangerous if I tell,
> so I won't.
>
> Any child themes will naturally not be upgraded, they are not tied to the
> parent theme, so if the styles are already in the child theme, nothing will
> go wrong. If the child theme is within the parent theme (which it should not
> be), then yes it will also go away. Child themes should be in their own
> directory.
>
> Jacob Santos
From hempsworth at googlemail.com  Sun Nov 23 11:08:18 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Nov 23 11:08:50 2008
Subject: [wp-hackers] Extract first image from a post
In-Reply-To: <3055B334-1933-4558-BD3F-3C6174C01EEF@verselogic.net>
References: <5a1dad880811221634j44728880qb1bff87a5d874d0f@mail.gmail.com>
	<3055B334-1933-4558-BD3F-3C6174C01EEF@verselogic.net>
Message-ID: <5a1dad880811230308t11134c36wde389ec21958f471@mail.gmail.com>

Does that work for images that aren't uploaded and are just added via the
"Upload image" button but a URL pasted instead? I was considering that
route, just not sure if they had to be uploaded or not?

Thanks,Alex
From wolly66 at gmail.com  Sun Nov 23 12:00:14 2008
From: wolly66 at gmail.com (wolly)
Date: Sun Nov 23 12:00:23 2008
Subject: [wp-hackers] Re: wp-hackers Digest, Vol 46, Issue 54
In-Reply-To: <20081123030132.A0F285F57@comox.textdrive.com>
References: <20081123030132.A0F285F57@comox.textdrive.com>
Message-ID: <fc32a0520811230400h25fe8714k6da3b4e0339fe7dd@mail.gmail.com>

I use Firefox.
This time I deactiveted all the plugins and the upgrade works fine but for
permissions.
I had to go, as usual, in the admin panel of mine website, and repair
permissions.
ciao


>
>
> Date: Sun, 23 Nov 2008 09:43:19 +1100
> From: DD32 <wordpress@dd32.id.au>
>
> What browser do you use?
> Any chance of trying the English version? (Or just deactivating the
> language pack by changing the WPLANG constant in your wp-config.php) to
> see if it remains?
>
> On Sun, 23 Nov 2008 08:08:42 +1100, wolly <wolly66@gmail.com> wrote:
>
> > I have a problem with the automatic upgrade with wordpress 2.7.
> > When I launch the automatic upgrade it works but I receive this error
> > (Sorry for the transaltion but I receive the message from the browser in
> > italian)
> > *Error in the content code.
> > The page you are trying to see cannot been shown because it use a
> > compression form not valid or unsupported.
> > Contact the webmaster to infor him of the problem.*
> >  php 5.2.6
> > server linux
> > MySQL: 4.0.2
> >
> > At the end of the process I must reapply CHMOD and if there is a DB
> > upgrade
> > I have to do it when I enter in dashboard.
> > In any case the upgrade is done and seems to work:-)
> > ciao
> >
> >
> >
>
>
>
-- 
wolly aka Paolo Valenti
http://www.paolo.valenti.name
From andre.renaut at gmail.com  Sun Nov 23 14:11:07 2008
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Sun Nov 23 14:11:17 2008
Subject: [wp-hackers] Extract first image from a post
Message-ID: <8810a71a0811230611v9598a7bs521409ba8214923c@mail.gmail.com>

I am using this php code to retrieve the first image of a post :


function teaserimg($hmax=100)
{
    $teaserimg = '';

    ob_start();

        the_content();

        $html = ob_get_contents();

    ob_end_clean();
    $output = preg_match_all('/<img.+src=[\'"]([^\'"]+)[\'"].*>/i', $html,
$matches, PREG_SET_ORDER);
    if (isset($matches [0] [1]))
    {
        $hw = getimagesize($matches [0] [1]);

        if ($hw [1] < $hmax)
        {
            $hwi  = $hw [3];
        }
        else
        {
            $h    = $hmax;
            $w    = round ( (($hw [0] * $hmax) / $hw [1]) );
            $hwi  = 'width="';
            $hwi .= $w;
            $hwi .= '" height="';
            $hwi .= $h;
            $hwi .= '"';
        }

        $align ='left';
        $rand  = mt_rand (0,1);
        if ($rand == 1) $align='right';
        $align ='right';


        $teaserimg = '<img src="' . $matches [0] [1] . '" alt=" " align="' .
$align . '" border="0" hspace="5" vspace="5" ' . $hwi . '/>';


    }
    return $teaserimg;
}
From scribu at gmail.com  Sun Nov 23 14:35:14 2008
From: scribu at gmail.com (scribu)
Date: Sun Nov 23 15:13:27 2008
Subject: [wp-hackers] Pesky "Says:"
Message-ID: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>

Hello, I've modified my theme to use the new wp_list_comments() in WP 2.7.

My problem is this line in comment-template.php:

<?php printf(__('<cite class="fn">%s</cite> Says:'),
get_comment_author_link()) ?>

After the comment author it always appends "Says:", which can't be styled,
nor modified with a filter. My only shot would be to use jQuery, but
attaching a 30KB+ .js file just to be able to remove a word isn't quite
optimal.

So, I sugest at least a <span> around it:

<?php printf(__('<cite class="fn">%s</cite> <span>Says:</span>'),
get_comment_author_link()) ?>


(Probably should have posted it directly to trac.)

-- 
http://scribu.net
From hempsworth at googlemail.com  Sun Nov 23 21:21:17 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Nov 23 21:21:26 2008
Subject: [wp-hackers] Extract first image from a post
In-Reply-To: <8810a71a0811230611v9598a7bs521409ba8214923c@mail.gmail.com>
References: <8810a71a0811230611v9598a7bs521409ba8214923c@mail.gmail.com>
Message-ID: <5a1dad880811231321i72587083ycb23ecaf548c1d75@mail.gmail.com>

That's brilliant, thanks Andr?!
I also like what you've done with the maximum height of the image, how would
I go about modifying it so it would also limit the width of the image. Say,
only allow a height of 170 or less, and a width of 200 or less.

Thanks again!
Alex
From hempsworth at googlemail.com  Sun Nov 23 21:22:19 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Nov 23 21:22:28 2008
Subject: [wp-hackers] Pesky "Says:"
In-Reply-To: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>
References: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>
Message-ID: <5a1dad880811231322t81845ben781d36ed7f57a3d7@mail.gmail.com>

+1 for a span around that 'Says:', I've wanted to remove that so many times
but can't find any nice way of doing it!

-- Alex
From niladam at gmail.com  Sun Nov 23 22:12:20 2008
From: niladam at gmail.com (madalin)
Date: Sun Nov 23 22:12:31 2008
Subject: [wp-hackers] Pesky "Says:"
In-Reply-To: <5a1dad880811231322t81845ben781d36ed7f57a3d7@mail.gmail.com>
References: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>
	<5a1dad880811231322t81845ben781d36ed7f57a3d7@mail.gmail.com>
Message-ID: <df809b110811231412q108f0cbeh3816a4564b1b348e@mail.gmail.com>

+2. Me too :)

On Sun, Nov 23, 2008 at 11:22 PM, Alex Hempton-Smith
<hempsworth@googlemail.com> wrote:
> +1 for a span around that 'Says:', I've wanted to remove that so many times
> but can't find any nice way of doing it!
>
> -- Alex
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards,
madalin
From hempsworth at googlemail.com  Sun Nov 23 22:29:39 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Nov 23 22:29:48 2008
Subject: [wp-hackers] Extract first image from a post
In-Reply-To: <5a1dad880811231321i72587083ycb23ecaf548c1d75@mail.gmail.com>
References: <8810a71a0811230611v9598a7bs521409ba8214923c@mail.gmail.com>
	<5a1dad880811231321i72587083ycb23ecaf548c1d75@mail.gmail.com>
Message-ID: <5a1dad880811231429k12a81b16i9d1da2f10a2feaea@mail.gmail.com>

Okay, after some searching I've managed to get it working with some very
complicated (for me anyway) code, it goes completely over my head but at
least it works!
For anybody who's interested:

function teaserimg()
{

   ob_start();

       the_content();

       $html = ob_get_contents();

   ob_end_clean();
   $output = preg_match_all('/<img.+src=[\'"]([^\'"]+)[\'"].*>/i', $html,
$matches, PREG_SET_ORDER);

   $p = $matches [0] [1];

   // maximum width is defined here
   $mw = '215';

   // maximum height is defined here
   $mh = '160';

   if(list($w,$h) = @getimagesize($p)) {
   foreach(array('w','h') as $v) { $m = "m{$v}";
       if(${$v} > ${$m} && ${$m}) { $o = ($v == 'w') ? 'h' : 'w';
       $r = ${$m} / ${$v}; ${$v} = ${$m}; ${$o} = ceil(${$o} * $r); } }
   return("<img src='{$p}' alt=' ' width='{$w}' height='{$h}' />"); }
}

-- Alex
From malaiac at gmail.com  Sun Nov 23 22:35:10 2008
From: malaiac at gmail.com (Malaiac)
Date: Sun Nov 23 22:35:18 2008
Subject: [wp-hackers] Extract first image from a post
In-Reply-To: <5a1dad880811231429k12a81b16i9d1da2f10a2feaea@mail.gmail.com>
References: <8810a71a0811230611v9598a7bs521409ba8214923c@mail.gmail.com>
	<5a1dad880811231321i72587083ycb23ecaf548c1d75@mail.gmail.com>
	<5a1dad880811231429k12a81b16i9d1da2f10a2feaea@mail.gmail.com>
Message-ID: <59e7f3130811231435u5692c850s9b08e8a6429aca5c@mail.gmail.com>

2008/11/23 Alex Hempton-Smith <hempsworth@googlemail.com>:
> Okay, after some searching I've managed to get it working with some very
> complicated (for me anyway) code, it goes completely over my head but at
> least it works!
> For anybody who's interested:
>
> function teaserimg()
> {
>
>   ob_start();
>
>       the_content();
>
>       $html = ob_get_contents();
>
>   ob_end_clean();

function teaserimg() {
  global $post;
  $html = $post->post_content;

works too if in the loop
From hempsworth at googlemail.com  Sun Nov 23 22:41:10 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Nov 23 22:41:19 2008
Subject: [wp-hackers] Extract first image from a post
In-Reply-To: <59e7f3130811231435u5692c850s9b08e8a6429aca5c@mail.gmail.com>
References: <8810a71a0811230611v9598a7bs521409ba8214923c@mail.gmail.com>
	<5a1dad880811231321i72587083ycb23ecaf548c1d75@mail.gmail.com>
	<5a1dad880811231429k12a81b16i9d1da2f10a2feaea@mail.gmail.com>
	<59e7f3130811231435u5692c850s9b08e8a6429aca5c@mail.gmail.com>
Message-ID: <5a1dad880811231441n6c9b70fdraa3eba3d663bc7e7@mail.gmail.com>

Perfect, thanks Malaiac, much cleaner now :)

-- Alex
From mikeschinkel at gmail.com  Sun Nov 23 23:15:16 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Sun Nov 23 23:15:31 2008
Subject: [wp-hackers] Extract first image from a post
In-Reply-To: <5a1dad880811231429k12a81b16i9d1da2f10a2feaea@mail.gmail.com>
References: <8810a71a0811230611v9598a7bs521409ba8214923c@mail.gmail.com>
	<5a1dad880811231321i72587083ycb23ecaf548c1d75@mail.gmail.com>
	<5a1dad880811231429k12a81b16i9d1da2f10a2feaea@mail.gmail.com>
Message-ID: <0b2701c94dc1$59271450$6702a8c0@Guides.local>

 

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Alex
Hempton-Smith
Sent: Sunday, November 23, 2008 5:30 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Extract first image from a post

Okay, after some searching I've managed to get it working with some very
complicated (for me anyway) code, it goes completely over my head but at
least it works!
For anybody who's interested:

function teaserimg()
{

   ob_start();

       the_content();

       $html = ob_get_contents();

   ob_end_clean();
   $output = preg_match_all('/<img.+src=[\'"]([^\'"]+)[\'"].*>/i', $html,
$matches, PREG_SET_ORDER);

   $p = $matches [0] [1];

   // maximum width is defined here
   $mw = '215';

   // maximum height is defined here
   $mh = '160';

   if(list($w,$h) = @getimagesize($p)) {
   foreach(array('w','h') as $v) { $m = "m{$v}";
       if(${$v} > ${$m} && ${$m}) { $o = ($v == 'w') ? 'h' : 'w';
       $r = ${$m} / ${$v}; ${$v} = ${$m}; ${$o} = ceil(${$o} * $r); } }
   return("<img src='{$p}' alt=' ' width='{$w}' height='{$h}' />"); } }

-- Alex
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From andre.renaut at gmail.com  Sun Nov 23 23:29:56 2008
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Sun Nov 23 23:30:05 2008
Subject: [wp-hackers] Extract first image from a post
Message-ID: <8810a71a0811231529r6e074879hd8046cc950657682@mail.gmail.com>

In my code, calling

echo teaserimg(170);

will return an image of height 170, width is computed proportionnaly from
this height to avoid image distortion.
From hempsworth at googlemail.com  Sun Nov 23 23:39:15 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Nov 23 23:39:25 2008
Subject: [wp-hackers] Extract first image from a post
In-Reply-To: <8810a71a0811231529r6e074879hd8046cc950657682@mail.gmail.com>
References: <8810a71a0811231529r6e074879hd8046cc950657682@mail.gmail.com>
Message-ID: <5a1dad880811231539s150db1e9rb0a39039a711ef5f@mail.gmail.com>

In the following code, the script resizes the image proportionally depending
on the width AND the height of the image. That means that if the image is
too wide or too high it will be resized. It just means that a really wide
image can't get through just because it's height was an acceptable height.
Note that it isn't distorted, the proportions are kept the same.

function teaserimg($mw=215,$mh=160)
{

global $post;
$html = $post->post_content;
$output = preg_match_all('/<img.+src=[\'"]([^\'"]+)[\'"].*>/i', $html,
$matches, PREG_SET_ORDER);
$p = $matches [0] [1];
 if(list($w,$h) = @getimagesize($p)) {
foreach(array('w','h') as $v) { $m = "m{$v}";
if(${$v} > ${$m} && ${$m}) { $o = ($v == 'w') ? 'h' : 'w';
$r = ${$m} / ${$v}; ${$v} = ${$m}; ${$o} = ceil(${$o} * $r); } }
return("<img src='{$p}' alt=' ' width='{$w}' height='{$h}' />"); }
}

You can override the default maxwidth/maxheight settings when you insert the
template tag, for example this would make sure images are resized if they
are higher OR wider than 100:

<?php echo teaserimg(100,200); ?>

-- Alex
From hempsworth at googlemail.com  Sun Nov 23 23:39:54 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Nov 23 23:40:04 2008
Subject: [wp-hackers] Extract first image from a post
In-Reply-To: <5a1dad880811231539s150db1e9rb0a39039a711ef5f@mail.gmail.com>
References: <8810a71a0811231529r6e074879hd8046cc950657682@mail.gmail.com>
	<5a1dad880811231539s150db1e9rb0a39039a711ef5f@mail.gmail.com>
Message-ID: <5a1dad880811231539j34ca38b3r54e4b85ab55e4b71@mail.gmail.com>

Sorry, that last tag should have been:
<?php echo teaserimg(100,100); ?>

-- Alex


On Sun, Nov 23, 2008 at 11:39 PM, Alex Hempton-Smith <
hempsworth@googlemail.com> wrote:

> In the following code, the script resizes the image proportionally
> depending on the width AND the height of the image. That means that if the
> image is too wide or too high it will be resized. It just means that a
> really wide image can't get through just because it's height was an
> acceptable height.
> Note that it isn't distorted, the proportions are kept the same.
>
> function teaserimg($mw=215,$mh=160)
> {
>
> global $post;
>  $html = $post->post_content;
> $output = preg_match_all('/<img.+src=[\'"]([^\'"]+)[\'"].*>/i', $html,
> $matches, PREG_SET_ORDER);
>  $p = $matches [0] [1];
>  if(list($w,$h) = @getimagesize($p)) {
>  foreach(array('w','h') as $v) { $m = "m{$v}";
> if(${$v} > ${$m} && ${$m}) { $o = ($v == 'w') ? 'h' : 'w';
>  $r = ${$m} / ${$v}; ${$v} = ${$m}; ${$o} = ceil(${$o} * $r); } }
> return("<img src='{$p}' alt=' ' width='{$w}' height='{$h}' />"); }
> }
>
> You can override the default maxwidth/maxheight settings when you insert
> the template tag, for example this would make sure images are resized if
> they are higher OR wider than 100:
>
> <?php echo teaserimg(100,200); ?>
>
> -- Alex
>
From hempsworth at googlemail.com  Mon Nov 24 01:20:02 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Mon Nov 24 01:20:13 2008
Subject: [wp-hackers] Date archive per category
Message-ID: <5a1dad880811231720y222396daodc7cbc393f74ccb4@mail.gmail.com>

Hi all,

   - At the moment you can visit: www.mydomain.com/2008/11/ and you will
   receive the "Archive for November, 2008".
   - You can also visit www.mydomain.com/category/news/ and you will receive
   the "Archive for the 'News' category".
   - I would like URL's like: www.mydomain.com/category/news/2008/11/ and
   receive the "Archive for the 'News' category from November, 2008".

I think this method of being able to sort posts by category AND date would
be a great addition for the core. Is this already possible somehow?

-- Alex
From hempsworth at googlemail.com  Mon Nov 24 01:28:19 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Mon Nov 24 01:28:28 2008
Subject: [wp-hackers] 404's not showing if '%category%' is in permalink
Message-ID: <5a1dad880811231728g27469cd2j81368698064e9511@mail.gmail.com>

Hi all,
I have a custom permalink structure like this: /%category%/%postname%/

When I visit a URL which should be a 404, I get given the message
"Sorry, but there aren't any posts in the category yet.".
Shouldn't WordPress recognize that the category doesn't exist and serve up a
404 instead?

-- Alex
From admin at laptoptips.ca  Mon Nov 24 01:45:28 2008
From: admin at laptoptips.ca (Andrew Ozz)
Date: Mon Nov 24 01:46:08 2008
Subject: [wp-hackers] Pesky "Says:"
In-Reply-To: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>
References: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>
Message-ID: <492A0738.1080003@laptoptips.ca>

scribu wrote:
> Hello, I've modified my theme to use the new wp_list_comments() in WP 2.7.
> 
> My problem is this line in comment-template.php:
> 
> <?php printf(__('<cite class="fn">%s</cite> Says:'),
> get_comment_author_link()) ?>
> 
> After the comment author it always appends "Says:", which can't be styled,
> nor modified with a filter. My only shot would be to use jQuery, but
> attaching a 30KB+ .js file just to be able to remove a word isn't quite
> optimal.

Would this be ok?
http://trac.wordpress.org/changeset/9854
From photofantaisie at gmail.com  Mon Nov 24 02:00:27 2008
From: photofantaisie at gmail.com (Ade Walker)
Date: Mon Nov 24 02:00:40 2008
Subject: [wp-hackers] 404's not showing if '%category%' is in permalink
In-Reply-To: <5a1dad880811231728g27469cd2j81368698064e9511@mail.gmail.com>
References: <5a1dad880811231728g27469cd2j81368698064e9511@mail.gmail.com>
Message-ID: <9dd057850811231800i498d736dsb7d41124abe288a3@mail.gmail.com>

As far as I can remember, if your theme doesn't have a 404.php your request
will be directed to index.php, and since no such post is found by the loop
you will get whatever "standard" loop message has been coded in your
index.php eg "Sorry posts not found" or something similar.

The best way to deal with this is to create a 404.php page. Much better than
a server type 404. There's more here:
Creating_an_Error_404_Page<http://codex.wordpress.org/Creating_an_Error_404_Page>

Ade.

2008/11/24 Alex Hempton-Smith <hempsworth@googlemail.com>

> Hi all,
> I have a custom permalink structure like this: /%category%/%postname%/
>
> When I visit a URL which should be a 404, I get given the message
> "Sorry, but there aren't any posts in the category yet.".
> Shouldn't WordPress recognize that the category doesn't exist and serve up
> a
> 404 instead?
>
> -- Alex
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From photofantaisie at gmail.com  Mon Nov 24 02:02:55 2008
From: photofantaisie at gmail.com (Ade Walker)
Date: Mon Nov 24 02:03:07 2008
Subject: [wp-hackers] Pesky "Says:"
In-Reply-To: <492A0738.1080003@laptoptips.ca>
References: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>
	<492A0738.1080003@laptoptips.ca>
Message-ID: <9dd057850811231802v6860cf1ag562ba753c6b82330@mail.gmail.com>

Looks good to me. Thanks! :-)

Ade.

2008/11/24 Andrew Ozz <admin@laptoptips.ca>

> scribu wrote:
>
>> Hello, I've modified my theme to use the new wp_list_comments() in WP 2.7.
>>
>> My problem is this line in comment-template.php:
>>
>> <?php printf(__('<cite class="fn">%s</cite> Says:'),
>> get_comment_author_link()) ?>
>>
>> After the comment author it always appends "Says:", which can't be styled,
>> nor modified with a filter. My only shot would be to use jQuery, but
>> attaching a 30KB+ .js file just to be able to remove a word isn't quite
>> optimal.
>>
>
> Would this be ok?
> http://trac.wordpress.org/changeset/9854
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wordpress at dd32.id.au  Mon Nov 24 06:54:29 2008
From: wordpress at dd32.id.au (DD32)
Date: Mon Nov 24 06:54:49 2008
Subject: [wp-hackers] 404's not showing if '%category%' is in permalink
In-Reply-To: <5a1dad880811231728g27469cd2j81368698064e9511@mail.gmail.com>
References: <5a1dad880811231728g27469cd2j81368698064e9511@mail.gmail.com>
Message-ID: <op.uk32s22lk6w4mc@dd32.no-ip.com>

http://trac.wordpress.org/ticket/8244

On Mon, 24 Nov 2008 12:28:19 +1100, Alex Hempton-Smith  
<hempsworth@googlemail.com> wrote:

> Hi all,
> I have a custom permalink structure like this: /%category%/%postname%/
>
> When I visit a URL which should be a 404, I get given the message
> "Sorry, but there aren't any posts in the category yet.".
> Shouldn't WordPress recognize that the category doesn't exist and serve  
> up a
> 404 instead?
>
> -- Alex
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From scribu at gmail.com  Mon Nov 24 08:42:23 2008
From: scribu at gmail.com (scribu)
Date: Mon Nov 24 08:42:33 2008
Subject: [wp-hackers] Pesky "Says:"
In-Reply-To: <9dd057850811231802v6860cf1ag562ba753c6b82330@mail.gmail.com>
References: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>
	<492A0738.1080003@laptoptips.ca>
	<9dd057850811231802v6860cf1ag562ba753c6b82330@mail.gmail.com>
Message-ID: <349fe48b0811240042t5b7cff91r87aea8ba4bae3530@mail.gmail.com>

>
> > Would this be ok?
> > http://trac.wordpress.org/changeset/9854
>

Excelent. Thank you. :)

Here's a little hack to replace the text, using only CSS:

.comment-author .says:before {content: "said:"}  /* the new text */
.comment-author .says {display:block; overflow:hidden; width:36px}  /* width
has to match the width of the new text */
.comment-author cite {display:block; float:left; padding-right:4px}  /*
optional */

-- 
http://scribu.net
From scribu at gmail.com  Mon Nov 24 09:15:47 2008
From: scribu at gmail.com (scribu)
Date: Mon Nov 24 09:15:58 2008
Subject: [wp-hackers] Comment date and time styling
Message-ID: <349fe48b0811240115h71437149r327a9e2757b1c108@mail.gmail.com>

How about some TLC for the comment date and time? Right now, in
comment_template.php it's like this:

<?php printf(__('%1$s at %2$s'), get_comment_date(),  get_comment_time()) ?>

A filter on the whole string would be an elegant approach:

Using the "at" as a separator, I could get something like this in the
markup:

<span class="comment-time">
  <span class="commentdate">November 24th, 2008</span>
  <span class="commenttime">14:13</span>
</span>

This way I can style any element.

-- 
http://scribu.net
From ionfish at gmail.com  Mon Nov 24 09:59:08 2008
From: ionfish at gmail.com (Benedict Eastaugh)
Date: Mon Nov 24 09:59:21 2008
Subject: [wp-hackers] Pesky "Says:"
In-Reply-To: <349fe48b0811240042t5b7cff91r87aea8ba4bae3530@mail.gmail.com>
References: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>
	<492A0738.1080003@laptoptips.ca>
	<9dd057850811231802v6860cf1ag562ba753c6b82330@mail.gmail.com>
	<349fe48b0811240042t5b7cff91r87aea8ba4bae3530@mail.gmail.com>
Message-ID: <fd3b80510811240159o5919761fw850376770f62e327@mail.gmail.com>

That won't work in Internet Explorer, of course, although that will
apparently change in IE8. Not much good for 6 or 7, though.

<http://msdn.microsoft.com/en-us/library/cc304061(VS.85).aspx>

It's also possible to use your own Walker class if you really want to
customise the markup, e.g.

<http://github.com/ionfish/tarski/tree/6cefd86cdd98b164529d6959dc69b4e8a1556c30/library%2Fclasses%2Fcomment_walker.php>
From scribu at gmail.com  Mon Nov 24 10:48:34 2008
From: scribu at gmail.com (scribu)
Date: Mon Nov 24 10:48:49 2008
Subject: [wp-hackers] Pesky "Says:"
In-Reply-To: <fd3b80510811240159o5919761fw850376770f62e327@mail.gmail.com>
References: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>
	<492A0738.1080003@laptoptips.ca>
	<9dd057850811231802v6860cf1ag562ba753c6b82330@mail.gmail.com>
	<349fe48b0811240042t5b7cff91r87aea8ba4bae3530@mail.gmail.com>
	<fd3b80510811240159o5919761fw850376770f62e327@mail.gmail.com>
Message-ID: <349fe48b0811240248w4c8bed02y28cf66372eaea9e0@mail.gmail.com>

On Mon, Nov 24, 2008 at 11:59 AM, Benedict Eastaugh <ionfish@gmail.com>wrote:

> It's also possible to use your own Walker class if you really want to
> customise the markup, e.g.
>
> <
> http://github.com/ionfish/tarski/tree/6cefd86cdd98b164529d6959dc69b4e8a1556c30/library%2Fclasses%2Fcomment_walker.php
> >
>

I didn't know that. How do you tell WP to use your class instead of the
default?

-- 
http://scribu.net
From ionfish at gmail.com  Mon Nov 24 11:06:11 2008
From: ionfish at gmail.com (Benedict Eastaugh)
Date: Mon Nov 24 11:06:24 2008
Subject: [wp-hackers] Pesky "Says:"
In-Reply-To: <349fe48b0811240248w4c8bed02y28cf66372eaea9e0@mail.gmail.com>
References: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>
	<492A0738.1080003@laptoptips.ca>
	<9dd057850811231802v6860cf1ag562ba753c6b82330@mail.gmail.com>
	<349fe48b0811240042t5b7cff91r87aea8ba4bae3530@mail.gmail.com>
	<fd3b80510811240159o5919761fw850376770f62e327@mail.gmail.com>
	<349fe48b0811240248w4c8bed02y28cf66372eaea9e0@mail.gmail.com>
Message-ID: <fd3b80510811240306h6dd6150fmfbc6305a60939d4@mail.gmail.com>

> I didn't know that. How do you tell WP to use your class instead of the
> default?

Just pass it into wp_list_comments like this:

wp_list_comments(array('walker' => new TarskiCommentWalker));

Here's the code in context:

<http://github.com/ionfish/tarski/tree/6cefd86cdd98b164529d6959dc69b4e8a1556c30/comments.php>

I subclassed Walker_Comment because it's fairly close to what I
wanted, but you could subclass Walker instead if you want to make more
radical changes.
From scribu at gmail.com  Mon Nov 24 11:26:08 2008
From: scribu at gmail.com (scribu)
Date: Mon Nov 24 11:26:19 2008
Subject: [wp-hackers] Pesky "Says:"
In-Reply-To: <fd3b80510811240306h6dd6150fmfbc6305a60939d4@mail.gmail.com>
References: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>
	<492A0738.1080003@laptoptips.ca>
	<9dd057850811231802v6860cf1ag562ba753c6b82330@mail.gmail.com>
	<349fe48b0811240042t5b7cff91r87aea8ba4bae3530@mail.gmail.com>
	<fd3b80510811240159o5919761fw850376770f62e327@mail.gmail.com>
	<349fe48b0811240248w4c8bed02y28cf66372eaea9e0@mail.gmail.com>
	<fd3b80510811240306h6dd6150fmfbc6305a60939d4@mail.gmail.com>
Message-ID: <349fe48b0811240326w23f1f6eci35252e1acfd63211@mail.gmail.com>

Thanks!

On Mon, Nov 24, 2008 at 1:06 PM, Benedict Eastaugh <ionfish@gmail.com>wrote:

> > I didn't know that. How do you tell WP to use your class instead of the
> > default?
>
> Just pass it into wp_list_comments like this:
>
> wp_list_comments(array('walker' => new TarskiCommentWalker));
>
> Here's the code in context:
>
> <
> http://github.com/ionfish/tarski/tree/6cefd86cdd98b164529d6959dc69b4e8a1556c30/comments.php
> >
>
> I subclassed Walker_Comment because it's fairly close to what I
> wanted, but you could subclass Walker instead if you want to make more
> radical changes.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

-- 
http://scribu.net
From jfontainhas at gmail.com  Mon Nov 24 11:51:55 2008
From: jfontainhas at gmail.com (=?UTF-8?B?Sm9zw6kgRm9udGFpbmhhcw==?=)
Date: Mon Nov 24 11:52:18 2008
Subject: [wp-hackers] Akismet Stats Screen
In-Reply-To: <349fe48b0811240326w23f1f6eci35252e1acfd63211@mail.gmail.com>
References: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>	<492A0738.1080003@laptoptips.ca>	<9dd057850811231802v6860cf1ag562ba753c6b82330@mail.gmail.com>	<349fe48b0811240042t5b7cff91r87aea8ba4bae3530@mail.gmail.com>	<fd3b80510811240159o5919761fw850376770f62e327@mail.gmail.com>	<349fe48b0811240248w4c8bed02y28cf66372eaea9e0@mail.gmail.com>	<fd3b80510811240306h6dd6150fmfbc6305a60939d4@mail.gmail.com>
	<349fe48b0811240326w23f1f6eci35252e1acfd63211@mail.gmail.com>
Message-ID: <492A955B.3010303@gmail.com>

Hi,

I'm still seeing a somewhat strange Akismet Stats iframe, both on 2.6.3 
and 2.7 Beta 3. Is there something wrong or am *I* doing something wrong?

2.6.3:
http://www.box.net/shared/yr41ob9k8r

2.7:
http://www.box.net/shared/n42akout30

Thanks

Jose


From jrf1039 at gmail.com  Mon Nov 24 15:57:58 2008
From: jrf1039 at gmail.com (Justen Fox)
Date: Mon Nov 24 15:58:09 2008
Subject: [wp-hackers] wp 2.5+ cookies
Message-ID: <3424c140811240757n722b5350q32b5fd29369a9b3d@mail.gmail.com>

Is there yet doucmentation for the new cookie functionality?

I'm running 2.6.3 and it no longer works with the following plugin:
http://blog.taragana.com/index.php/archive/angsumans-authenticated-wordpress-plugin-password-protection-for-your-wordpress-blog/

The plugin forces user login before viewing any pages.

The plugin writer has a fix for the new cookie, but they charge $30 for it.
http://blog.taragana.com/index.php/archive/angsumans-authenticated-wordpress-plugin-password-protection-for-your-wordpress-blog/#comment-483858

>From what i can tell, the old version no longer works because the WP
cookie has changed.

This is the plugin conditional:
if ( (!empty($_COOKIE[USER_COOKIE]) &&
		!wp_login($_COOKIE[USER_COOKIE], $_COOKIE[PASS_COOKIE], true)) ||
	(empty($_COOKIE[USER_COOKIE])) ) {


But, unfortunately, the codex has not been updated with the new cookie
information.
http://codex.wordpress.org/WordPress_Cookies

Thank you.
From matt at sivel.net  Mon Nov 24 16:11:13 2008
From: matt at sivel.net (Matt Martz)
Date: Mon Nov 24 16:11:28 2008
Subject: [wp-hackers] wp 2.5+ cookies
In-Reply-To: <3424c140811240757n722b5350q32b5fd29369a9b3d@mail.gmail.com>
References: <3424c140811240757n722b5350q32b5fd29369a9b3d@mail.gmail.com>
Message-ID: <518fa9630811240811j4a3851c7o2de7f228cf001f44@mail.gmail.com>

On Mon, Nov 24, 2008 at 10:57 AM, Justen Fox <jrf1039@gmail.com> wrote:
> Is there yet doucmentation for the new cookie functionality?
>
> I'm running 2.6.3 and it no longer works with the following plugin:
> http://blog.taragana.com/index.php/archive/angsumans-authenticated-wordpress-plugin-password-protection-for-your-wordpress-blog/
>
> The plugin forces user login before viewing any pages.
>
> The plugin writer has a fix for the new cookie, but they charge $30 for it.
> http://blog.taragana.com/index.php/archive/angsumans-authenticated-wordpress-plugin-password-protection-for-your-wordpress-blog/#comment-483858
>
> >From what i can tell, the old version no longer works because the WP
> cookie has changed.
>
> This is the plugin conditional:
> if ( (!empty($_COOKIE[USER_COOKIE]) &&
>                !wp_login($_COOKIE[USER_COOKIE], $_COOKIE[PASS_COOKIE], true)) ||
>        (empty($_COOKIE[USER_COOKIE])) ) {
>
>
> But, unfortunately, the codex has not been updated with the new cookie
> information.
> http://codex.wordpress.org/WordPress_Cookies
>
> Thank you.

To check if a user is logged in I usually do this:

global $user_ID;
get_currentuserinfo ();
if ( ! $user_ID ) {
         [do something if user not logged in]
}

could also be

if ( $user_ID ) {
        [do something if user logged in]
}



-- 
Matt Martz
matt@sivel.net
From dbasulto at gmail.com  Mon Nov 24 16:27:36 2008
From: dbasulto at gmail.com (david basulto)
Date: Mon Nov 24 16:27:49 2008
Subject: [wp-hackers] paid request for plugin upgrade
Message-ID: <1e5c1ff30811240827v447bbd93j9288b37cfb978a31@mail.gmail.com>

Dear WP Hackers,

I have been using the Post Thumb Revisited plugin, a plugin that allows you
to automatically generate a thumbnail taking the first image found on a
post. (http://www.alakhnor.com/post-thumb/?cat=61)

For some, this issue is resolved with WP 2.6 and its gallery system, but
this plugin allows you  to change the needed sizes and the thumbs are
regenerated (great when changing layouts, requiring new views, etc).

The thing is that this plugin was actually a work upon the Post Thumb plugin
(hence "revisited", atho it?s just built upon the idea, no code shared) and
the actual plugin maintainer stopped its development - Latest version
doesn?t play well with 2.6, no idea what will happen with 2.7, has some
small bugs and has some (wordtube, highslide) that is not needed....

So i?m willing to pay for this plugin to be "revisited" once more under
GPL/GNU (PT Revisited is on http://code.google.com/p/post-thumb-revisited/)
so the project can go further.

Anyone interested?
From lists at 1bigidea.com  Mon Nov 24 16:29:24 2008
From: lists at 1bigidea.com (Tom Ransom)
Date: Mon Nov 24 16:29:40 2008
Subject: [wp-hackers] wp 2.5+ cookies
In-Reply-To: <3424c140811240757n722b5350q32b5fd29369a9b3d@mail.gmail.com>
References: <3424c140811240757n722b5350q32b5fd29369a9b3d@mail.gmail.com>
Message-ID: <506A0FFD-0FD9-4EFA-9764-CC9316179281@1bigidea.com>

replace the if condition with

!is_user_logged_in()



On Nov 24, 2008, at 7:57 AM, Justen Fox wrote:

> Is there yet doucmentation for the new cookie functionality?
>
> I'm running 2.6.3 and it no longer works with the following plugin:
> http://blog.taragana.com/index.php/archive/angsumans-authenticated-wordpress-plugin-password-protection-for-your-wordpress-blog/
>
> The plugin forces user login before viewing any pages.
>
> The plugin writer has a fix for the new cookie, but they charge $30  
> for it.
> http://blog.taragana.com/index.php/archive/angsumans-authenticated-wordpress-plugin-password-protection-for-your-wordpress-blog/#comment-483858
>
>> From what i can tell, the old version no longer works because the WP
> cookie has changed.
>
> This is the plugin conditional:
> if ( (!empty($_COOKIE[USER_COOKIE]) &&
> 		!wp_login($_COOKIE[USER_COOKIE], $_COOKIE[PASS_COOKIE], true)) ||
> 	(empty($_COOKIE[USER_COOKIE])) ) {
>
>
> But, unfortunately, the codex has not been updated with the new cookie
> information.
> http://codex.wordpress.org/WordPress_Cookies
>
> Thank you.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From matt at sivel.net  Mon Nov 24 16:32:28 2008
From: matt at sivel.net (Matt Martz)
Date: Mon Nov 24 16:32:53 2008
Subject: [wp-hackers] wp 2.5+ cookies
In-Reply-To: <506A0FFD-0FD9-4EFA-9764-CC9316179281@1bigidea.com>
References: <3424c140811240757n722b5350q32b5fd29369a9b3d@mail.gmail.com>
	<506A0FFD-0FD9-4EFA-9764-CC9316179281@1bigidea.com>
Message-ID: <518fa9630811240832n5d1bdd09gfa05f06d3980e48a@mail.gmail.com>

On Mon, Nov 24, 2008 at 11:29 AM, Tom Ransom <lists@1bigidea.com> wrote:
> replace the if condition with
>
> !is_user_logged_in()

Yeah...apparently that works to ;)

-- 
Matt Martz
matt@sivel.net
From jer-wphackers at simianuprising.com  Mon Nov 24 17:02:02 2008
From: jer-wphackers at simianuprising.com (Jeremy Clarke)
Date: Mon Nov 24 17:02:13 2008
Subject: [wp-hackers] Date archive per category
In-Reply-To: <5a1dad880811231720y222396daodc7cbc393f74ccb4@mail.gmail.com>
References: <5a1dad880811231720y222396daodc7cbc393f74ccb4@mail.gmail.com>
Message-ID: <e1202cb10811240902p97b4b43l59cbc6dad75c3e88@mail.gmail.com>

On Sun, Nov 23, 2008 at 8:20 PM, Alex Hempton-Smith
<hempsworth@googlemail.com> wrote:
> Hi all,
>
>   - At the moment you can visit: www.mydomain.com/2008/11/ and you will
>   receive the "Archive for November, 2008".
>   - You can also visit www.mydomain.com/category/news/ and you will receive
>   the "Archive for the 'News' category".
>   - I would like URL's like: www.mydomain.com/category/news/2008/11/ and
>   receive the "Archive for the 'News' category from November, 2008".
>
> I think this method of being able to sort posts by category AND date would
> be a great addition for the core. Is this already possible somehow?

We have been doing this kind of archive for a long time now but pasing
in the raw url with the variables, like

site.com/index.php?cat=5&m=200810

This worked up until 2.5 when the canonical urls kicked in and started
forwarding those urls to just the category page. I think Mark Jaquith
patched core though so maybe those urls work now, but I think the more
you go into these special urls the more canonical urls will break
them, so you might want to consider turning off canonical urls for
some types, I did this for anything with a _GET value for "m" so that
i can have monthly archives for authors/cats etc. Here's the code in
case you need something similar:

// --------------------------------------------
// Filter redirect_canonical to disable it for ?m=
// --------------------------------------------
//
// End redirection any time there is a $m value in the url
// Passing FALSE to redirect_canonical filter ends redirection
// Needed for ?cat=x&m=y style urls to work. Otherwise you are
// forwarded to category without month.

// DISABLED: this turns off canonical redirection completely, which is
overkill. see above.
// remove_filter('template_redirect', 'redirect_canonical');

function gv_redirect_canonical($redirect_url) {
	global $wp_query, $wp;
	if ((int) $_GET['m']) return FALSE;
	return $redirect_url;
} //gv_redirect_canonical()

add_filter('redirect_canonical', 'gv_redirect_canonical');




-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org
From wp-hackers at striderweb.com  Mon Nov 24 17:07:09 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon Nov 24 17:07:32 2008
Subject: [wp-hackers] A question about theme updates in WP 2.7
In-Reply-To: <4928B687.80305@santosj.name>
References: <93c3fbd10811221612w24fdf497ra9efc5e453c52670@mail.gmail.com>
	<4928B687.80305@santosj.name>
Message-ID: <42C88C57-888C-47F2-A32D-75F37B0D7D1B@striderweb.com>

More info on this please?  :) :) :)

Stephen

On Nov 22, 2008, at 7:48 PM, Jacob Santos wrote:

> There are also improved inclusion code that will include parent  
> theme files or use the child theme files if they exist.

-- 
Stephen Rider
<http://striderweb.com/>



From zamoose at gmail.com  Mon Nov 24 17:57:46 2008
From: zamoose at gmail.com (Doug Stewart)
Date: Mon Nov 24 17:57:58 2008
Subject: [wp-hackers] paid request for plugin upgrade
In-Reply-To: <1e5c1ff30811240827v447bbd93j9288b37cfb978a31@mail.gmail.com>
References: <1e5c1ff30811240827v447bbd93j9288b37cfb978a31@mail.gmail.com>
Message-ID: <71ddd7490811240957n1c882574p9e3d3c6e7d1b57b8@mail.gmail.com>

There is an entire list for paid WordPress work known as wp-pro. I would
post your offer over there.

On Mon, Nov 24, 2008 at 11:27 AM, david basulto <dbasulto@gmail.com> wrote:

> Dear WP Hackers,
>
> I have been using the Post Thumb Revisited plugin, a plugin that allows you
> to automatically generate a thumbnail taking the first image found on a
> post. (http://www.alakhnor.com/post-thumb/?cat=61)
>
> For some, this issue is resolved with WP 2.6 and its gallery system, but
> this plugin allows you  to change the needed sizes and the thumbs are
> regenerated (great when changing layouts, requiring new views, etc).
>
> The thing is that this plugin was actually a work upon the Post Thumb
> plugin
> (hence "revisited", atho it?s just built upon the idea, no code shared) and
> the actual plugin maintainer stopped its development - Latest version
> doesn?t play well with 2.6, no idea what will happen with 2.7, has some
> small bugs and has some (wordtube, highslide) that is not needed....
>
> So i?m willing to pay for this plugin to be "revisited" once more under
> GPL/GNU (PT Revisited is on http://code.google.com/p/post-thumb-revisited/
> )
> so the project can go further.
>
> Anyone interested?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
-Doug
From otto at ottodestruct.com  Mon Nov 24 19:08:04 2008
From: otto at ottodestruct.com (Otto)
Date: Mon Nov 24 19:08:16 2008
Subject: [wp-hackers] Akismet Stats Screen
In-Reply-To: <492A955B.3010303@gmail.com>
References: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>
	<492A0738.1080003@laptoptips.ca>
	<9dd057850811231802v6860cf1ag562ba753c6b82330@mail.gmail.com>
	<349fe48b0811240042t5b7cff91r87aea8ba4bae3530@mail.gmail.com>
	<fd3b80510811240159o5919761fw850376770f62e327@mail.gmail.com>
	<349fe48b0811240248w4c8bed02y28cf66372eaea9e0@mail.gmail.com>
	<fd3b80510811240306h6dd6150fmfbc6305a60939d4@mail.gmail.com>
	<349fe48b0811240326w23f1f6eci35252e1acfd63211@mail.gmail.com>
	<492A955B.3010303@gmail.com>
Message-ID: <161617690811241108k5ce50867yf299d73f2c3cfcc4@mail.gmail.com>

Looks good on my install (2.7 SVN 9860). The iframe extends down
further on the page.

Might be a conflict with a plugin.

On Mon, Nov 24, 2008 at 5:51 AM, Jos? Fontainhas <jfontainhas@gmail.com> wrote:
> Hi,
>
> I'm still seeing a somewhat strange Akismet Stats iframe, both on 2.6.3 and
> 2.7 Beta 3. Is there something wrong or am *I* doing something wrong?
>
> 2.6.3:
> http://www.box.net/shared/yr41ob9k8r
>
> 2.7:
> http://www.box.net/shared/n42akout30
>
> Thanks
>
> Jose
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From hempsworth at googlemail.com  Mon Nov 24 19:17:24 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Mon Nov 24 19:17:39 2008
Subject: [wp-hackers] Login screen ugly in Chrome
Message-ID: <5a1dad880811241117p642b992bn6c1d49ca70a19980@mail.gmail.com>

Hey,
Running 2.7 revision 9860, and Chrome 0.3.154.9 on Windows XP.
The corners of the new shadow around the login screen look ugly in Chrome:
http://img529.imageshack.us/my.php?image=wploginscreenmt0.jpg

Haven't tested in other browsers, other than Safari on the iPhone where it
looks great.

-- Alex
From hempsworth at googlemail.com  Mon Nov 24 19:32:12 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Mon Nov 24 19:32:24 2008
Subject: [wp-hackers] Displaying recent comments in 'live feed' from WP and
	bbPress
Message-ID: <5a1dad880811241132w65884e2cya81b5667fdff9ff1@mail.gmail.com>

Hi all,
I'm attempting to create a box on the homepage of my site which will display
the latest comments from my WP site and bbPress forums, one after the other
in a text-scroller type thing. It will show the avatar, username and comment
for a brief period of time, and then fade out and fade in the next comment.

I will probably output the comments within a div which will be animated
using the jCarousel jQuery plugin with auto-scrolling enabled (
http://sorgalla.com/projects/jcarousel/examples/static_auto.html)<http://sorgalla.com/projects/jcarousel/examples/static_auto.html>

Although I could try and wrangle the built in WP and bbPress functions for
outputting latest comments, I think I'm going to merge the comments RSS
feeds for the blog and forums, and parse them to create the divs.

Does anybody have any tips/resources for parsing RSS feeds within WP and
using that data to create what I'm looking for?

Many thanks,
Alex
From regulatethis at gmail.com  Mon Nov 24 19:38:09 2008
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Mon Nov 24 19:38:21 2008
Subject: [wp-hackers] Akismet Stats Screen
In-Reply-To: <161617690811241108k5ce50867yf299d73f2c3cfcc4@mail.gmail.com>
References: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>
	<492A0738.1080003@laptoptips.ca>
	<9dd057850811231802v6860cf1ag562ba753c6b82330@mail.gmail.com>
	<349fe48b0811240042t5b7cff91r87aea8ba4bae3530@mail.gmail.com>
	<fd3b80510811240159o5919761fw850376770f62e327@mail.gmail.com>
	<349fe48b0811240248w4c8bed02y28cf66372eaea9e0@mail.gmail.com>
	<fd3b80510811240306h6dd6150fmfbc6305a60939d4@mail.gmail.com>
	<349fe48b0811240326w23f1f6eci35252e1acfd63211@mail.gmail.com>
	<492A955B.3010303@gmail.com>
	<161617690811241108k5ce50867yf299d73f2c3cfcc4@mail.gmail.com>
Message-ID: <39fdab560811241138l3ba67136yb86990f4d074bde1@mail.gmail.com>

I'm running r9860 as well.. It looks like the Akismet stats iframe
gets messed up when I have the Photodropper plugin activated. The
iframe is wrapped in a div with class "wrap", maybe the conflict is
there?

Daniel

On Mon, Nov 24, 2008 at 2:08 PM, Otto <otto@ottodestruct.com> wrote:
> Looks good on my install (2.7 SVN 9860). The iframe extends down
> further on the page.
>
> Might be a conflict with a plugin.
>
> On Mon, Nov 24, 2008 at 5:51 AM, Jos? Fontainhas <jfontainhas@gmail.com> wrote:
>> Hi,
>>
>> I'm still seeing a somewhat strange Akismet Stats iframe, both on 2.6.3 and
>> 2.7 Beta 3. Is there something wrong or am *I* doing something wrong?
>>
>> 2.6.3:
>> http://www.box.net/shared/yr41ob9k8r
>>
>> 2.7:
>> http://www.box.net/shared/n42akout30
>>
>> Thanks
>>
>> Jose
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From krustyruffle at rustykruffle.com  Mon Nov 24 20:35:30 2008
From: krustyruffle at rustykruffle.com (Krusty Ruffle)
Date: Mon Nov 24 20:35:46 2008
Subject: [wp-hackers] A question about theme updates in WP 2.7
In-Reply-To: <42C88C57-888C-47F2-A32D-75F37B0D7D1B@striderweb.com>
References: <93c3fbd10811221612w24fdf497ra9efc5e453c52670@mail.gmail.com>
	<4928B687.80305@santosj.name>
	<42C88C57-888C-47F2-A32D-75F37B0D7D1B@striderweb.com>
Message-ID: <93c3fbd10811241235r2edebdcfledde94a78af9c42c@mail.gmail.com>

A child theme can now override the template files of it's parent theme. So
you can have not only functions.php & style.css, but also header.php,
footer.php, etc...

Makes it real easy to change parts of a theme without modifying the themes
code. Like for including support for a plugin or something...

See:
http://trac.wordpress.org/ticket/7086
http://trac.wordpress.org/changeset/8497

On Mon, Nov 24, 2008 at 12:07 PM, Stephen Rider
<wp-hackers@striderweb.com>wrote:

> More info on this please?  :) :) :)
>
> Stephen
>
> On Nov 22, 2008, at 7:48 PM, Jacob Santos wrote:
>
>  There are also improved inclusion code that will include parent theme
>> files or use the child theme files if they exist.
>>
>
> --
> Stephen Rider
> <http://striderweb.com/>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From hempsworth at googlemail.com  Tue Nov 25 01:48:08 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Tue Nov 25 01:48:18 2008
Subject: [wp-hackers] Re: Displaying recent comments in 'live feed' from WP
	and bbPress
In-Reply-To: <5a1dad880811241132w65884e2cya81b5667fdff9ff1@mail.gmail.com>
References: <5a1dad880811241132w65884e2cya81b5667fdff9ff1@mail.gmail.com>
Message-ID: <5a1dad880811241748sd659026ib40932cb4a392479@mail.gmail.com>

I've since realised that the RSS feed wouldn't be the best idea, as I can't
grab avatars from that!
Is there any simple way I can get comment data for the most recent comments
posted across the whole site?

-- Alex
From jfontainhas at gmail.com  Tue Nov 25 02:21:12 2008
From: jfontainhas at gmail.com (=?ISO-8859-1?Q?Jos=E9_Fontainhas?=)
Date: Tue Nov 25 02:21:31 2008
Subject: [wp-hackers] Akismet Stats Screen
In-Reply-To: <39fdab560811241138l3ba67136yb86990f4d074bde1@mail.gmail.com>
References: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>	<492A0738.1080003@laptoptips.ca>	<9dd057850811231802v6860cf1ag562ba753c6b82330@mail.gmail.com>	<349fe48b0811240042t5b7cff91r87aea8ba4bae3530@mail.gmail.com>	<fd3b80510811240159o5919761fw850376770f62e327@mail.gmail.com>	<349fe48b0811240248w4c8bed02y28cf66372eaea9e0@mail.gmail.com>	<fd3b80510811240306h6dd6150fmfbc6305a60939d4@mail.gmail.com>	<349fe48b0811240326w23f1f6eci35252e1acfd63211@mail.gmail.com>	<492A955B.3010303@gmail.com>	<161617690811241108k5ce50867yf299d73f2c3cfcc4@mail.gmail.com>
	<39fdab560811241138l3ba67136yb86990f4d074bde1@mail.gmail.com>
Message-ID: <492B6118.4080809@gmail.com>

 From what I can gather (which is not all too much, granted...) this 
also happens with all plugins but Akismet turned off and there's nothing 
wrong with the .wrap class , which is inside a #wpbody div. Now this 
#wpbody doesn't seem to be defined anywhere...

Jose

Daniel Torreblanca wrote:
> I'm running r9860 as well.. It looks like the Akismet stats iframe
> gets messed up when I have the Photodropper plugin activated. The
> iframe is wrapped in a div with class "wrap", maybe the conflict is
> there?
>
> Daniel
>
> On Mon, Nov 24, 2008 at 2:08 PM, Otto <otto@ottodestruct.com> wrote:
>   
>> Looks good on my install (2.7 SVN 9860). The iframe extends down
>> further on the page.
>>
>> Might be a conflict with a plugin.
>>
>> On Mon, Nov 24, 2008 at 5:51 AM, Jos? Fontainhas <jfontainhas@gmail.com> wrote:
>>     
>>> Hi,
>>>
>>> I'm still seeing a somewhat strange Akismet Stats iframe, both on 2.6.3 and
>>> 2.7 Beta 3. Is there something wrong or am *I* doing something wrong?
>>>
>>> 2.6.3:
>>> http://www.box.net/shared/yr41ob9k8r
>>>
>>> 2.7:
>>> http://www.box.net/shared/n42akout30
>>>       

From if.website at gmail.com  Tue Nov 25 03:38:45 2008
From: if.website at gmail.com (Austin Matzko)
Date: Tue Nov 25 03:38:54 2008
Subject: [wp-hackers] Re: Displaying recent comments in 'live feed' from
	WP and bbPress
In-Reply-To: <5a1dad880811241748sd659026ib40932cb4a392479@mail.gmail.com>
References: <5a1dad880811241132w65884e2cya81b5667fdff9ff1@mail.gmail.com>
	<5a1dad880811241748sd659026ib40932cb4a392479@mail.gmail.com>
Message-ID: <674b4a3b0811241938t3cbd20d4v3e8567420467c6af@mail.gmail.com>

On Mon, Nov 24, 2008 at 2:32 PM, Alex Hempton-Smith
<hempsworth@googlemail.com> wrote:
> I'm attempting to create a box on the homepage of my site which will display
> the latest comments from my WP site and bbPress forums, one after the other
> in a text-scroller type thing. It will show the avatar, username and comment
> for a brief period of time, and then fade out and fade in the next comment.

On Mon, Nov 24, 2008 at 8:48 PM, Alex Hempton-Smith
<hempsworth@googlemail.com> wrote:
> Is there any simple way I can get comment data for the most recent comments
> posted across the whole site?

Here is the query I use to do something similar:

		(SELECT post_id AS the_id, post_time AS the_time, poster_id AS the_user_id,
				wp_users.display_name AS the_username, wp_users.user_login AS the_login,
				bb_posts.topic_id AS the_parent,
				wp_users.user_url AS the_url,
				topic_title AS the_title
				FROM bb_posts
				LEFT JOIN wp_users
				ON bb_posts.poster_id = wp_users.ID
				LEFT JOIN bb_topics
				ON bb_posts.topic_id = bb_topics.topic_id
				WHERE bb_posts.post_status = '0'
			)
			UNION ALL
			(SELECT comment_ID AS the_id, comment_date_gmt AS the_time, user_id
AS the_user_id,
				comment_author AS the_username,	comment_author AS the_login,
				comment_post_ID AS the_parent,
				comment_author_url AS the_url, wp_posts.post_title AS the_title
				FROM wp_comments
				LEFT JOIN wp_posts
				ON wp_comments.comment_post_ID = wp_posts.ID
				WHERE comment_approved = "1" AND comment_type != "trackback" AND
comment_type != "pingback"
			)
			ORDER BY the_time DESC LIMIT 10
From wp-hackers at itsananderson.com  Tue Nov 25 05:39:57 2008
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Tue Nov 25 05:40:09 2008
Subject: [wp-hackers] Login screen ugly in Chrome
In-Reply-To: <5a1dad880811241117p642b992bn6c1d49ca70a19980@mail.gmail.com>
References: <5a1dad880811241117p642b992bn6c1d49ca70a19980@mail.gmail.com>
Message-ID: <6dbcd2670811242139y5e8f806bqf73f284c14004f0d@mail.gmail.com>

Just to confirm, I've had similar issues with the display in Chrome (though
I tested in FireFox , Safari, and IE 7 where it looks OK).
Isn't Chrome based on Safari's rendering engine? so why does the login
screen look so bad in Chrome when it's fine in Safari?

On Mon, Nov 24, 2008 at 2:17 PM, Alex Hempton-Smith <
hempsworth@googlemail.com> wrote:

> Hey,
> Running 2.7 revision 9860, and Chrome 0.3.154.9 on Windows XP.
> The corners of the new shadow around the login screen look ugly in Chrome:
> http://img529.imageshack.us/my.php?image=wploginscreenmt0.jpg
>
> Haven't tested in other browsers, other than Safari on the iPhone where it
> looks great.
>
> -- Alex
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wp-hackers at striderweb.com  Tue Nov 25 13:57:43 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Nov 25 13:58:30 2008
Subject: [wp-hackers] Login screen ugly in Chrome
In-Reply-To: <6dbcd2670811242139y5e8f806bqf73f284c14004f0d@mail.gmail.com>
References: <5a1dad880811241117p642b992bn6c1d49ca70a19980@mail.gmail.com>
	<6dbcd2670811242139y5e8f806bqf73f284c14004f0d@mail.gmail.com>
Message-ID: <F68C07F1-C997-49AF-9E3C-957D9CC58713@striderweb.com>

Yes, though it is more accurate to say that Chrome and Safari both run  
off the same engine.  (i.e. they are siblings, rather than Chrome  
being a "descendant" of Safari.)  In theory, the rendering should be  
the same between them. Perhaps they're using a slightly different  
version of the engine?  Does anyone have an older version of Safari  
they could test for the same issue?

Stephen

On Nov 24, 2008, at 11:39 PM, Will Anderson wrote:

> Just to confirm, I've had similar issues with the display in Chrome  
> (though
> I tested in FireFox , Safari, and IE 7 where it looks OK).
> Isn't Chrome based on Safari's rendering engine? so why does the login
> screen look so bad in Chrome when it's fine in Safari?
>
> On Mon, Nov 24, 2008 at 2:17 PM, Alex Hempton-Smith <
> hempsworth@googlemail.com> wrote:
>
>> Running 2.7 revision 9860, and Chrome 0.3.154.9 on Windows XP.
>> The corners of the new shadow around the login screen look ugly in  
>> Chrome:
>> http://img529.imageshack.us/my.php?image=wploginscreenmt0.jpg
From regulatethis at gmail.com  Tue Nov 25 14:20:40 2008
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Tue Nov 25 14:43:38 2008
Subject: [wp-hackers] Akismet Stats Screen
In-Reply-To: <492B6118.4080809@gmail.com>
References: <349fe48b0811230635m2a78cb00pa9e175b3bcc0c923@mail.gmail.com>
	<349fe48b0811240042t5b7cff91r87aea8ba4bae3530@mail.gmail.com>
	<fd3b80510811240159o5919761fw850376770f62e327@mail.gmail.com>
	<349fe48b0811240248w4c8bed02y28cf66372eaea9e0@mail.gmail.com>
	<fd3b80510811240306h6dd6150fmfbc6305a60939d4@mail.gmail.com>
	<349fe48b0811240326w23f1f6eci35252e1acfd63211@mail.gmail.com>
	<492A955B.3010303@gmail.com>
	<161617690811241108k5ce50867yf299d73f2c3cfcc4@mail.gmail.com>
	<39fdab560811241138l3ba67136yb86990f4d074bde1@mail.gmail.com>
	<492B6118.4080809@gmail.com>
Message-ID: <39fdab560811250620h4f3433e9u648945507ba5aa5f@mail.gmail.com>

Hmm that's weird - it displays fine for me regardless of what plugins
are activated, but once I activate photodropper then it gets messed
up.

On Mon, Nov 24, 2008 at 9:21 PM, Jos? Fontainhas <jfontainhas@gmail.com> wrote:
> From what I can gather (which is not all too much, granted...) this also
> happens with all plugins but Akismet turned off and there's nothing wrong
> with the .wrap class , which is inside a #wpbody div. Now this #wpbody
> doesn't seem to be defined anywhere...
>
> Jose
>
> Daniel Torreblanca wrote:
>>
>> I'm running r9860 as well.. It looks like the Akismet stats iframe
>> gets messed up when I have the Photodropper plugin activated. The
>> iframe is wrapped in a div with class "wrap", maybe the conflict is
>> there?
>>
>> Daniel
>>
>> On Mon, Nov 24, 2008 at 2:08 PM, Otto <otto@ottodestruct.com> wrote:
>>
>>>
>>> Looks good on my install (2.7 SVN 9860). The iframe extends down
>>> further on the page.
>>>
>>> Might be a conflict with a plugin.
>>>
>>> On Mon, Nov 24, 2008 at 5:51 AM, Jos? Fontainhas <jfontainhas@gmail.com>
>>> wrote:
>>>
>>>>
>>>> Hi,
>>>>
>>>> I'm still seeing a somewhat strange Akismet Stats iframe, both on 2.6.3
>>>> and
>>>> 2.7 Beta 3. Is there something wrong or am *I* doing something wrong?
>>>>
>>>> 2.6.3:
>>>> http://www.box.net/shared/yr41ob9k8r
>>>>
>>>> 2.7:
>>>> http://www.box.net/shared/n42akout30
>>>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From photofantaisie at gmail.com  Tue Nov 25 23:50:32 2008
From: photofantaisie at gmail.com (Ade Walker)
Date: Tue Nov 25 23:50:39 2008
Subject: [wp-hackers] get_option for an element in an array
Message-ID: <9dd057850811251550x2a1ee993yb0b8350e7431c4cf@mail.gmail.com>

Hi all,

In a plugin I'm working on, the option settings are saved as an array. I
normally use something like this to extract a specific setting within the
array:

$myOptions = get_option('my_plugin_settings');
echo $myOptions['specific_setting'];

Is there a way of directly retrieving the specific setting within the array
without having to retrieve the entire contents of the array first?  Maybe
this doesn't matter too much, but what if the array contains a lot of
settings and data (thinking of performance)?

Thanks in advance.

Ade.
From wordpress at dd32.id.au  Tue Nov 25 23:55:52 2008
From: wordpress at dd32.id.au (DD32)
Date: Tue Nov 25 23:56:13 2008
Subject: [wp-hackers] get_option for an element in an array
In-Reply-To: <9dd057850811251550x2a1ee993yb0b8350e7431c4cf@mail.gmail.com>
References: <9dd057850811251550x2a1ee993yb0b8350e7431c4cf@mail.gmail.com>
Message-ID: <op.uk68realk6w4mc@dd32.no-ip.com>

No.
The full array is stored as a serialised string in the database, so  
regardless, it needs to be fully loaded and fully decoded.
If you have autoload = 'yes' then this will happen when WP loads  
initially, regardless of if you use the contents.

The deserialization only occurs once per page load.

On Wed, 26 Nov 2008 10:50:32 +1100, Ade Walker <photofantaisie@gmail.com>  
wrote:

> Hi all,
>
> In a plugin I'm working on, the option settings are saved as an array. I
> normally use something like this to extract a specific setting within the
> array:
>
> $myOptions = get_option('my_plugin_settings');
> echo $myOptions['specific_setting'];
>
> Is there a way of directly retrieving the specific setting within the  
> array
> without having to retrieve the entire contents of the array first?  Maybe
> this doesn't matter too much, but what if the array contains a lot of
> settings and data (thinking of performance)?
>
> Thanks in advance.
>
> Ade.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From photofantaisie at gmail.com  Wed Nov 26 00:09:02 2008
From: photofantaisie at gmail.com (Ade Walker)
Date: Wed Nov 26 00:09:11 2008
Subject: [wp-hackers] get_option for an element in an array
In-Reply-To: <op.uk68realk6w4mc@dd32.no-ip.com>
References: <9dd057850811251550x2a1ee993yb0b8350e7431c4cf@mail.gmail.com>
	<op.uk68realk6w4mc@dd32.no-ip.com>
Message-ID: <9dd057850811251609t298f4f33g4483bff243a236cf@mail.gmail.com>

Ok, understood. Thanks for the info. :-)

Ade.

2008/11/26 DD32 <wordpress@dd32.id.au>

> No.
> The full array is stored as a serialised string in the database, so
> regardless, it needs to be fully loaded and fully decoded.
> If you have autoload = 'yes' then this will happen when WP loads initially,
> regardless of if you use the contents.
>
> The deserialization only occurs once per page load.
From wp-hackers at striderweb.com  Wed Nov 26 02:30:12 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed Nov 26 02:30:38 2008
Subject: [wp-hackers] get_option for an element in an array
In-Reply-To: <9dd057850811251550x2a1ee993yb0b8350e7431c4cf@mail.gmail.com>
References: <9dd057850811251550x2a1ee993yb0b8350e7431c4cf@mail.gmail.com>
Message-ID: <649A8E7F-9D35-4AE6-95B6-1ED59C4DCD22@striderweb.com>

In certain circumstances it might be better to split the array up a  
bit -- if you have a particular span of data that is both large and  
used less frequently, you could split out the smaller, more frequently  
accessed info into a separate array.

Generally speaking though, you're okay just putting it all in one array.

Stephen

On Nov 25, 2008, at 5:50 PM, Ade Walker wrote:

> In a plugin I'm working on, the option settings are saved as an  
> array. I
> normally use something like this to extract a specific setting  
> within the
> array:
>
> $myOptions = get_option('my_plugin_settings');
> echo $myOptions['specific_setting'];
>
> Is there a way of directly retrieving the specific setting within  
> the array
> without having to retrieve the entire contents of the array first?   
> Maybe
> this doesn't matter too much, but what if the array contains a lot of
> settings and data (thinking of performance)?

From jeremy.visser at gmail.com  Wed Nov 26 05:35:19 2008
From: jeremy.visser at gmail.com (Jeremy Visser)
Date: Wed Nov 26 05:36:11 2008
Subject: [wp-hackers] Login screen ugly in Chrome
In-Reply-To: <F68C07F1-C997-49AF-9E3C-957D9CC58713@striderweb.com>
References: <5a1dad880811241117p642b992bn6c1d49ca70a19980@mail.gmail.com>
	<6dbcd2670811242139y5e8f806bqf73f284c14004f0d@mail.gmail.com>
	<F68C07F1-C997-49AF-9E3C-957D9CC58713@striderweb.com>
Message-ID: <1227677719.2588.0.camel@rillian.narnia.sunriseroad.net>

On Tue, 2008-11-25 at 07:57 -0600, Stephen Rider wrote:
> In theory, the rendering should be  
> the same between them. Perhaps they're using a slightly different  
> version of the engine?

If anything, Chrome would be using a newer version of WebKit than
Safari. WebKit trunk is _lightyears_ ahead of Safari. (I presume Chrome
uses WebKit trunk.)

-- 
Jeremy Visser                                 http://jeremy.visser.name/

No Internet Censorship for Australia             http://nocleanfeed.com/

From wp-hackers at striderweb.com  Wed Nov 26 06:13:38 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed Nov 26 06:14:05 2008
Subject: [wp-hackers] Committed patch needs tweaking...
Message-ID: <71369E3D-9F8B-430D-8924-2BD85FF48BB3@striderweb.com>

In 2.7 we're adding some new hooks, like so:

do_action( 'after_plugin_row', $plugin_file, $plugin_data, $context );
// then a new one...
do_action( "after_plugin_row_$plugin_file", $plugin_data, $context );

$action_links = apply_filters('plugin_action_links', $action_links,  
$plugin_file, $plugin_data, $context);
// then a new one...
$action_links = apply_filters("plugin_action_links_$plugin_file",  
$action_links, $plugin_data, $context);

The '_$plugin_file' versions of each are new.  It was my own patch,  
and it is committed, but I'm starting to think it should be tweaked a  
bit.

In short, I think we should still be passing the $plugin_file  
parameter, as within the hooked function we don't actually have access  
to that.  That is, if you can hook
	add_action("after_plugin_row_$plugin_file", 'myfunction');
... then myfunction ironically doesn't actually have access to  
$plugin_file.

Can this be fixed before 2.7 final?

Stephen
From peter.westwood at ftwr.co.uk  Wed Nov 26 07:44:24 2008
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed Nov 26 07:44:38 2008
Subject: [wp-hackers] Committed patch needs tweaking...
In-Reply-To: <71369E3D-9F8B-430D-8924-2BD85FF48BB3@striderweb.com>
References: <71369E3D-9F8B-430D-8924-2BD85FF48BB3@striderweb.com>
Message-ID: <492CFE58.9010408@ftwr.co.uk>

Stephen Rider wrote:
> In 2.7 we're adding some new hooks, like so:
>
> do_action( 'after_plugin_row', $plugin_file, $plugin_data, $context );
> // then a new one...
> do_action( "after_plugin_row_$plugin_file", $plugin_data, $context );
>
> $action_links = apply_filters('plugin_action_links', $action_links, 
> $plugin_file, $plugin_data, $context);
> // then a new one...
> $action_links = apply_filters("plugin_action_links_$plugin_file", 
> $action_links, $plugin_data, $context);
>
> The '_$plugin_file' versions of each are new.  It was my own patch, 
> and it is committed, but I'm starting to think it should be tweaked a 
> bit.
>
> In short, I think we should still be passing the $plugin_file 
> parameter, as within the hooked function we don't actually have access 
> to that.  That is, if you can hook
>     add_action("after_plugin_row_$plugin_file", 'myfunction');
> ... then myfunction ironically doesn't actually have access to 
> $plugin_file.
>
> Can this be fixed before 2.7 final?
It would seem to make sense to me.

It makes the argument list the same for both hooks then which help 
people write backward compatible plugins too.

Does anyone have an opposition to this?

westi

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5 

From photofantaisie at gmail.com  Wed Nov 26 10:03:45 2008
From: photofantaisie at gmail.com (Ade Walker)
Date: Wed Nov 26 10:03:52 2008
Subject: [wp-hackers] get_option for an element in an array
In-Reply-To: <649A8E7F-9D35-4AE6-95B6-1ED59C4DCD22@striderweb.com>
References: <9dd057850811251550x2a1ee993yb0b8350e7431c4cf@mail.gmail.com>
	<649A8E7F-9D35-4AE6-95B6-1ED59C4DCD22@striderweb.com>
Message-ID: <9dd057850811260203g5dafcbcdw39a4c9fd5f7bba22@mail.gmail.com>

That's a good approach, Stephen. I was thinking along the same lines.

Thanks.

Ade.

2008/11/26 Stephen Rider <wp-hackers@striderweb.com>

> In certain circumstances it might be better to split the array up a bit --
> if you have a particular span of data that is both large and used less
> frequently, you could split out the smaller, more frequently accessed info
> into a separate array.
>
> Generally speaking though, you're okay just putting it all in one array.
>
> Stephen
From ionfish at gmail.com  Wed Nov 26 09:52:19 2008
From: ionfish at gmail.com (Benedict Eastaugh)
Date: Wed Nov 26 10:26:49 2008
Subject: [wp-hackers] Committed patch needs tweaking...
In-Reply-To: <492CFE58.9010408@ftwr.co.uk>
References: <71369E3D-9F8B-430D-8924-2BD85FF48BB3@striderweb.com>
	<492CFE58.9010408@ftwr.co.uk>
Message-ID: <fd3b80510811260152ha89c191x76308987a075d6d5@mail.gmail.com>

No, that sounds like a much saner API. +1
From daiv at daivmowbray.com  Wed Nov 26 13:52:12 2008
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Wed Nov 26 13:52:26 2008
Subject: [wp-hackers] new plugin for beta testing
Message-ID: <C639FA1E-9F09-4DB4-9339-7B0748DB1CE1@daivmowbray.com>


hello list.

I've put together a wordpress plugin for the slideshow2 package.
http://code.google.com/p/slideshow/
This runs on mootools 1.2,

the first public beta is available for testing here:
http://wp-superslider.com/about/superslider-show
Let me know how it works for you, what you think and any bugs  
encountered,
Thanx.

I still have 2 issues:
	- lightbox fails to pop over.
	- captions fail to populate from thew wordpress api.

I'm sure I'll resolve these issues soon enough.
any tips or observations appreciated.

----------
Daiv Mowbray
daiv@daivmowbray.com
----------


From wp-hackers at striderweb.com  Wed Nov 26 14:54:29 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed Nov 26 14:54:58 2008
Subject: [wp-hackers] Committed patch needs tweaking...
In-Reply-To: <492CFE58.9010408@ftwr.co.uk>
References: <71369E3D-9F8B-430D-8924-2BD85FF48BB3@striderweb.com>
	<492CFE58.9010408@ftwr.co.uk>
Message-ID: <A188C577-F9D0-4CFE-9D95-0304AE8256BB@striderweb.com>

On Nov 26, 2008, at 1:44 AM, Peter Westwood wrote:

> Stephen Rider wrote:
>> In 2.7 we're adding some new hooks, like so:
>>
>> do_action( "after_plugin_row_$plugin_file", $plugin_data, $context );
>>
>> $action_links = apply_filters("plugin_action_links_$plugin_file",  
>> $action_links, $plugin_data, $context);
>>
>> It was my own patch, and it is committed, but I'm starting to think  
>> it should be tweaked a bit.
>>
>> In short, I think we should still be passing the $plugin_file  
>> parameter
>>
>> Can this be fixed before 2.7 final?
> It would seem to make sense to me.
>
> It makes the argument list the same for both hooks then which help  
> people write backward compatible plugins too.
>
> Does anyone have an opposition to this?

Here's the patch -- just needs some admin love. :)

http://trac.wordpress.org/ticket/8356

It would be great to get this into 2.7 so we're not stuck with either

1) reordering parameters in 2.8, or
2) inconsistent parameter order between similar hooks.

Thanks,
Stephen

-- 
Stephen Rider
<http://striderweb.com/>


From peter.westwood at ftwr.co.uk  Wed Nov 26 15:24:17 2008
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed Nov 26 15:24:36 2008
Subject: [wp-hackers] Committed patch needs tweaking...
In-Reply-To: <A188C577-F9D0-4CFE-9D95-0304AE8256BB@striderweb.com>
References: <71369E3D-9F8B-430D-8924-2BD85FF48BB3@striderweb.com>	<492CFE58.9010408@ftwr.co.uk>
	<A188C577-F9D0-4CFE-9D95-0304AE8256BB@striderweb.com>
Message-ID: <492D6A21.6060402@ftwr.co.uk>

Stephen Rider wrote:
> Here's the patch -- just needs some admin love. :)
>
> http://trac.wordpress.org/ticket/8356
>
> It would be great to get this into 2.7 so we're not stuck with either
>
> 1) reordering parameters in 2.8, or
> 2) inconsistent parameter order between similar hooks.
>
done

westi

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5 

From justmichaelh at gmail.com  Wed Nov 26 16:00:51 2008
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Wed Nov 26 16:01:18 2008
Subject: [wp-hackers] Help with intrusion issues in forums
Message-ID: <006e01c94fe0$28bdb640$6701a8c0@dell8600>

Anyone care to look at some 'intrusion' issues that have come up in the 
Forums:
http://wordpress.org/support/topic/220496
http://wordpress.org/support/topic/220447


MichaelH 

From peter.westwood at ftwr.co.uk  Wed Nov 26 16:14:37 2008
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed Nov 26 16:14:52 2008
Subject: [wp-hackers] Help with intrusion issues in forums
In-Reply-To: <006e01c94fe0$28bdb640$6701a8c0@dell8600>
References: <006e01c94fe0$28bdb640$6701a8c0@dell8600>
Message-ID: <492D75ED.3030602@ftwr.co.uk>

Michael E. Hancock wrote:
> Anyone care to look at some 'intrusion' issues that have come up in 
> the Forums:
> http://wordpress.org/support/topic/220496
> http://wordpress.org/support/topic/220447
>
Firstly a number have people have suggested that the following change in 
2.6.5 could be what is being exploited to hack blogs here:

http://trac.wordpress.org/ticket/8291

The code affected by this change is already protected by a nonce and so 
it was not possible to craft a simple XSS attack to exploit this issue.

Secondly, The symptoms of the issue here suggest a server level hack has 
taken place and the hacker has run a script to change the content of 
lots of files on a shared server.

It doesn't look to me like a WordPress security issue

westi

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5 

From justmichaelh at gmail.com  Wed Nov 26 16:30:12 2008
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Wed Nov 26 16:36:42 2008
Subject: [wp-hackers] Help with intrusion issues in forums
References: <006e01c94fe0$28bdb640$6701a8c0@dell8600>
	<492D75ED.3030602@ftwr.co.uk>
Message-ID: <00b601c94fe4$4276ceb0$6701a8c0@dell8600>

From: "Peter Westwood" <peter.westwood@ftwr.co.uk>
> Michael E. Hancock wrote:
>> Anyone care to look at some 'intrusion' issues that have come up in 
>> the Forums:
>> http://wordpress.org/support/topic/220496
>> http://wordpress.org/support/topic/220447
>>
> Secondly, The symptoms of the issue here suggest a server level hack has 
> taken place and the hacker has run a script to change the content of 
> lots of files on a shared server.
> 
> It doesn't look to me like a WordPress security issue

Reports filtering in that SOME sites on these hosts have been affected:
dreamhost, bluehost, binero.se, eSolutions Interactive, Site5

MichaelH


From wp-hackers at striderweb.com  Wed Nov 26 17:59:05 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed Nov 26 17:59:29 2008
Subject: [wp-hackers] Committed patch needs tweaking...
In-Reply-To: <492D6A21.6060402@ftwr.co.uk>
References: <71369E3D-9F8B-430D-8924-2BD85FF48BB3@striderweb.com>	<492CFE58.9010408@ftwr.co.uk>
	<A188C577-F9D0-4CFE-9D95-0304AE8256BB@striderweb.com>
	<492D6A21.6060402@ftwr.co.uk>
Message-ID: <E788779F-85B1-4BB9-8BC9-37CE68E1CC8F@striderweb.com>

On Nov 26, 2008, at 9:24 AM, Peter Westwood wrote:

> Stephen Rider wrote:
>> Here's the patch -- just needs some admin love. :)
>>
>> http://trac.wordpress.org/ticket/8356
>>
>
> done

Excellent.  My plan for world domination proceeds afoot.

Stephen


-- 
Stephen Rider
<http://striderweb.com/>



From andre.renaut at gmail.com  Thu Nov 27 06:45:13 2008
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Thu Nov 27 07:16:47 2008
Subject: [wp-hackers] add_menu_page icon hover
Message-ID: <8810a71a0811262245t556042dl81e028a2bdeb5532@mail.gmail.com>

Hi,

How to get the same behaviour than standard WP option menus for a plugin
page

grey when still,
colored when "hovered".

add_menu_page only accept a static icon !

thanks
From andre.renaut at gmail.com  Thu Nov 27 09:32:33 2008
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Thu Nov 27 09:32:43 2008
Subject: [wp-hackers] "Deactivate plugin" link with class delete
Message-ID: <8810a71a0811270132w234dabf0i4b2264a566e2cc23@mail.gmail.com>

On page, plugins installed, for each plugin the "Deactivate' link appears in
red

Link with class='delete', should be class='submitdelete'
From daiv at daivmowbray.com  Thu Nov 27 10:04:43 2008
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Thu Nov 27 11:29:20 2008
Subject: [wp-hackers] new plugin for beta testing
In-Reply-To: <C639FA1E-9F09-4DB4-9339-7B0748DB1CE1@daivmowbray.com>
References: <C639FA1E-9F09-4DB4-9339-7B0748DB1CE1@daivmowbray.com>
Message-ID: <5CB2D115-6A71-49AA-8521-59F4E6579657@daivmowbray.com>


I've found my problem with the captions.

When calling an attachment there is no caption property.
It's called excerpt,
{$attachment->post_excerpt}
no wonder I couldn't find a caption.

for your reference, attachment description is:
{$attachment->post_content
}

On Nov 26, 2008, at 2:52 PM, Daiv Mowbray wrote:

> I still have 2 issues:
> 	- lightbox fails to pop over.
> 	- captions fail to populate from thew wordpress api.


----------
Daiv Mowbray
daiv@daivmowbray.com
----------


From wolly66 at gmail.com  Thu Nov 27 12:24:15 2008
From: wolly66 at gmail.com (Paolo Valenti)
Date: Thu Nov 27 12:27:30 2008
Subject: [wp-hackers] Problem with automatic upgrade
In-Reply-To: <20081125054011.008156707@comox.textdrive.com>
References: <20081125054011.008156707@comox.textdrive.com>
Message-ID: <BD02D7FA-E055-4414-BBCF-044853000DE9@gmail.com>

>
I'm testing automatic upgrade on many shared hosting.
I've found an important problem with shared hosting that uses suexec.
Many of them want for directory and files CHMOD 775 and since the  
automatic upgrade CHMOD files 644 at the end of tre process I always  
get internal server error and I have to restore right permissions from  
the admin panel.
You find the CHMOD in this files:
wp-admin/includes/file.php:                 $fs->chmod($to .  
$file['filename'], 0644);
wp-admin/includes/update.php:           $wp_filesystem- 
 >chmod($wp_dir . 'wp-admin/includes/update-core.php', 0644);
wp-admin/includes/update-core.php:    $wp_filesystem- 
 >put_contents($maintenance_file, $maintenance_string, 0644);

It's really necessary that wordpress on an upgrade CHMOD files on an  
hosting already up and running with the right permissions?
Here in Italy It will be a very big problem since the biggest Share  
Hosting Providee use suexec with 755 on directory and permissions.
ciao
-- 
Wolly
http://www.wordpress-it.it
http://www.paolo.valenti.name

From andre.renaut at gmail.com  Thu Nov 27 12:56:55 2008
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Thu Nov 27 12:57:04 2008
Subject: [wp-hackers] Re: add_menu_page icon hover
In-Reply-To: <8810a71a0811262245t556042dl81e028a2bdeb5532@mail.gmail.com>
References: <8810a71a0811262245t556042dl81e028a2bdeb5532@mail.gmail.com>
Message-ID: <8810a71a0811270456m81592eo43da585c752e61e7@mail.gmail.com>

found it, just put 'div' instead of icon url in "add_menu_page", everything
is handle with css now !!!

great !!!

2008/11/27 andr? renaut <andre.renaut@gmail.com>

> Hi,
>
> How to get the same behaviour than standard WP option menus for a plugin
> page
>
> grey when still,
> colored when "hovered".
>
> add_menu_page only accept a static icon !
>
> thanks
>



-- 
Pensez ? l'environnement avant d'imprimer ce message.
Please, think about the environment before printing this message.
From charles at cefm.ca  Thu Nov 27 13:02:42 2008
From: charles at cefm.ca (Charles E. Frees-Melvin)
Date: Thu Nov 27 13:02:59 2008
Subject: [wp-hackers] Problem with automatic upgrade
In-Reply-To: <BD02D7FA-E055-4414-BBCF-044853000DE9@gmail.com>
References: <20081125054011.008156707@comox.textdrive.com>
	<BD02D7FA-E055-4414-BBCF-044853000DE9@gmail.com>
Message-ID: <47281E04-0C5B-47F8-96F4-0F458D943A87@cefm.ca>

Perhaps this could be defined in wp-config.php a CHMOD override for  
upgrading

--
Charles E. Frees-Melvin
charles@cefm.ca
www.cefm.ca
(506) 640-1007

Sent from my iPhone

On 27-Nov-08, at 8:24, Paolo Valenti <wolly66@gmail.com> wrote:

>>
> I'm testing automatic upgrade on many shared hosting.
> I've found an important problem with shared hosting that uses suexec.
> Many of them want for directory and files CHMOD 775 and since the  
> automatic upgrade CHMOD files 644 at the end of tre process I always  
> get internal server error and I have to restore right permissions  
> from the admin panel.
> You find the CHMOD in this files:
> wp-admin/includes/file.php:                 $fs->chmod($to .  
> $file['filename'], 0644);
> wp-admin/includes/update.php:           $wp_filesystem- 
> >chmod($wp_dir . 'wp-admin/includes/update-core.php', 0644);
> wp-admin/includes/update-core.php:    $wp_filesystem- 
> >put_contents($maintenance_file, $maintenance_string, 0644);
>
> It's really necessary that wordpress on an upgrade CHMOD files on an  
> hosting already up and running with the right permissions?
> Here in Italy It will be a very big problem since the biggest Share  
> Hosting Providee use suexec with 755 on directory and permissions.
> ciao
> -- 
> Wolly
> http://www.wordpress-it.it
> http://www.paolo.valenti.name
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From wp-hackers at striderweb.com  Thu Nov 27 16:10:05 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu Nov 27 16:10:35 2008
Subject: [wp-hackers] calculate current plugin page URL "tag"
Message-ID: <FEB2870F-D502-4A24-B41B-5C142F05E65C@striderweb.com>

Has anyone ever figured out a way to programatically calculate the  
"basepage.php?page=myplugin" for whatever page you're currently on?

I'm making an admin sub-page (basically a secondary tab on a plugin's  
admin page) that can appear on different plugin's admin pages.  Thus,  
it needs to figure this out on the fly.

I'm sure I can smash the URL though some regex, but I was wondering if  
there was an easier way already.

Thanks,

Stephen

P.S. -- I'm very close to a third-party plugin update notification  
system.  I'll keep y'all posted.

-- 
Stephen Rider
<http://striderweb.com/>



From xavier at borderie.net  Thu Nov 27 16:25:51 2008
From: xavier at borderie.net (Xavier Borderie)
Date: Thu Nov 27 16:26:01 2008
Subject: [wp-hackers] calculate current plugin page URL "tag"
In-Reply-To: <FEB2870F-D502-4A24-B41B-5C142F05E65C@striderweb.com>
References: <FEB2870F-D502-4A24-B41B-5C142F05E65C@striderweb.com>
Message-ID: <9e4ae73e0811270825re8d7e1ew88e77ac906810008@mail.gmail.com>

> P.S. -- I'm very close to a third-party plugin update notification system.
>  I'll keep y'all posted.

You mean, for widgets not hosted on wp.org? Neat!



-- 
Xavier Borderie
From steagl4ml at gmail.com  Fri Nov 28 07:29:31 2008
From: steagl4ml at gmail.com (Stefano Aglietti)
Date: Fri Nov 28 08:50:13 2008
Subject: [wp-hackers] Problem with automatic upgrade
References: <20081125054011.008156707@comox.textdrive.com>
	<BD02D7FA-E055-4414-BBCF-044853000DE9@gmail.com>
	<47281E04-0C5B-47F8-96F4-0F458D943A87@cefm.ca>
Message-ID: <bb7vi4p349bg9kaa8ntrm52012tjkqekj7@4ax.com>

On Thu, 27 Nov 2008 09:02:42 -0400, "Charles E. Frees-Melvin"
<charles@cefm.ca> wrote:

>Perhaps this could be defined in wp-config.php a CHMOD override for  
>upgrading

The CHMOD after upgrade is a really bad stuff... there will be tons of
hosting that will fail to autonmatically installa WP and that will
require a permissions restore using CP, if available.

Thsi will be a forumm support nightmare!

-- 

Stefano Aglietti - StallonIt on IRCnet - ICQ#: 2078431
Email: steve@40annibuttati.it steagl@people.it
Sites: http://www.40annibuttati.it (personal blog)
       http://www.wordpress-it.it (WordPress Italia)
From speedboxer at gmail.com  Sat Nov 29 03:58:27 2008
From: speedboxer at gmail.com (Matt)
Date: Sat Nov 29 03:58:41 2008
Subject: [wp-hackers] Login screen ugly in Chrome
In-Reply-To: <1227677719.2588.0.camel@rillian.narnia.sunriseroad.net>
References: <5a1dad880811241117p642b992bn6c1d49ca70a19980@mail.gmail.com>
	<6dbcd2670811242139y5e8f806bqf73f284c14004f0d@mail.gmail.com>
	<F68C07F1-C997-49AF-9E3C-957D9CC58713@striderweb.com>
	<1227677719.2588.0.camel@rillian.narnia.sunriseroad.net>
Message-ID: <b88434820811281958o6c18137et96781b2bcdb0cfc@mail.gmail.com>

On Tue, Nov 25, 2008 at 9:35 PM, Jeremy Visser <jeremy.visser@gmail.com> wrote:
> If anything, Chrome would be using a newer version of WebKit than
> Safari. WebKit trunk is _lightyears_ ahead of Safari. (I presume Chrome
> uses WebKit trunk.)

Chrome 0.4.154.25 -> Webkit 525.19
Safari 3.2.1 (Win) -> Webkit 525.27.1

-- 
Matt (http://mattsblog.ca/)
From photofantaisie at gmail.com  Sat Nov 29 14:14:20 2008
From: photofantaisie at gmail.com (Ade Walker)
Date: Sat Nov 29 14:14:27 2008
Subject: [wp-hackers] Load scripts in header only when needed
Message-ID: <9dd057850811290614n1f773d3bjb11faa2e4f1d95b8@mail.gmail.com>

Hi all,

I've probably been staring at the computer screen too long, but I'm
struggling to get my head around this...

I'm playing around with a new gallery plugin which uses javascript. The
gallery will be called by a function call in a theme template file. However,
I only want to load the scripts into the header on pages that actually need
it.  The problem is that if I try to load the scripts into the head based on
the template function call it's too late - wp_head has been and gone.

If anyone could point me in the right direction I'd be very grateful. :-)

Thanks.

Ade.
From hempsworth at googlemail.com  Sat Nov 29 14:47:46 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sat Nov 29 14:47:59 2008
Subject: [wp-hackers] Keep local DB in sync with remote DB
Message-ID: <5a1dad880811290647u460a9bb8saeddddd796cf2c38@mail.gmail.com>

Hi,
I'm moving my development over to a local WAMP server, instead of uploading
files and checking the changes every time.
How would I keep my local mySQL database in sync with my remote mySQL
database?

The remote database is hosted at Dreamhost, so the database has a
mysql.mydomain.com
 address, rather than localhost, but when I use that on the local WAMP
server it shows "Error establishing a database connection".
Many thanks,
Alex
From viper at viper007bond.com  Sat Nov 29 14:55:37 2008
From: viper at viper007bond.com (Viper007Bond)
Date: Sat Nov 29 14:55:48 2008
Subject: [wp-hackers] Keep local DB in sync with remote DB
In-Reply-To: <5a1dad880811290647u460a9bb8saeddddd796cf2c38@mail.gmail.com>
References: <5a1dad880811290647u460a9bb8saeddddd796cf2c38@mail.gmail.com>
Message-ID: <8f93a7390811290655m3df2397as84666fee5cbe6094@mail.gmail.com>

99.9% of hosts block remote MySQL connections. Unless they have the option
to enable it so that you can set up a cron/scheduled task to make a copy of
your remote DB and import it into your localhost MySQL server, you're SOL.

On Sat, Nov 29, 2008 at 6:47 AM, Alex Hempton-Smith <
hempsworth@googlemail.com> wrote:

> Hi,
> I'm moving my development over to a local WAMP server, instead of uploading
> files and checking the changes every time.
> How would I keep my local mySQL database in sync with my remote mySQL
> database?
>
> The remote database is hosted at Dreamhost, so the database has a
> mysql.mydomain.com
>  address, rather than localhost, but when I use that on the local WAMP
> server it shows "Error establishing a database connection".
> Many thanks,
> Alex
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From hempsworth at googlemail.com  Sat Nov 29 15:01:23 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sat Nov 29 15:01:35 2008
Subject: [wp-hackers] Keep local DB in sync with remote DB
In-Reply-To: <8f93a7390811290655m3df2397as84666fee5cbe6094@mail.gmail.com>
References: <5a1dad880811290647u460a9bb8saeddddd796cf2c38@mail.gmail.com>
	<8f93a7390811290655m3df2397as84666fee5cbe6094@mail.gmail.com>
Message-ID: <5a1dad880811290701g22f871f8qde4bddeec8d18a8a@mail.gmail.com>

Thanks, I added my IP to the list of allowed hosts in the Dreamhost mySQL
admin.
:)

-- Alex


On Sat, Nov 29, 2008 at 2:55 PM, Viper007Bond <viper@viper007bond.com>wrote:

> 99.9% of hosts block remote MySQL connections. Unless they have the option
> to enable it so that you can set up a cron/scheduled task to make a copy of
> your remote DB and import it into your localhost MySQL server, you're SOL.
>
> On Sat, Nov 29, 2008 at 6:47 AM, Alex Hempton-Smith <
> hempsworth@googlemail.com> wrote:
>
> > Hi,
> > I'm moving my development over to a local WAMP server, instead of
> uploading
> > files and checking the changes every time.
> > How would I keep my local mySQL database in sync with my remote mySQL
> > database?
> >
> > The remote database is hosted at Dreamhost, so the database has a
> > mysql.mydomain.com
> >  address, rather than localhost, but when I use that on the local WAMP
> > server it shows "Error establishing a database connection".
> > Many thanks,
> > Alex
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From hempsworth at googlemail.com  Sat Nov 29 15:06:11 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sat Nov 29 15:06:24 2008
Subject: [wp-hackers] Keep local DB in sync with remote DB
In-Reply-To: <5a1dad880811290701g22f871f8qde4bddeec8d18a8a@mail.gmail.com>
References: <5a1dad880811290647u460a9bb8saeddddd796cf2c38@mail.gmail.com>
	<8f93a7390811290655m3df2397as84666fee5cbe6094@mail.gmail.com>
	<5a1dad880811290701g22f871f8qde4bddeec8d18a8a@mail.gmail.com>
Message-ID: <5a1dad880811290706m477d9b94r12b5627646461bc1@mail.gmail.com>

Would I be able to define the wordpress URL and the blog URL from inside the
wp-config.php.
I want an if statement that could recognize I'm accessing the site from
localhost, and then define those URLs as 'localhost', at the moment I can't
login because WP is obviously sending me to the URLs from inside the DB,
mydomain.com instead of localhost.

-- Alex


On Sat, Nov 29, 2008 at 3:01 PM, Alex Hempton-Smith <
hempsworth@googlemail.com> wrote:

> Thanks, I added my IP to the list of allowed hosts in the Dreamhost mySQL
> admin.
> :)
>
> -- Alex
>
>
>
> On Sat, Nov 29, 2008 at 2:55 PM, Viper007Bond <viper@viper007bond.com>wrote:
>
>> 99.9% of hosts block remote MySQL connections. Unless they have the option
>> to enable it so that you can set up a cron/scheduled task to make a copy
>> of
>> your remote DB and import it into your localhost MySQL server, you're SOL.
>>
>> On Sat, Nov 29, 2008 at 6:47 AM, Alex Hempton-Smith <
>> hempsworth@googlemail.com> wrote:
>>
>> > Hi,
>> > I'm moving my development over to a local WAMP server, instead of
>> uploading
>> > files and checking the changes every time.
>> > How would I keep my local mySQL database in sync with my remote mySQL
>> > database?
>> >
>> > The remote database is hosted at Dreamhost, so the database has a
>> > mysql.mydomain.com
>> >  address, rather than localhost, but when I use that on the local WAMP
>> > server it shows "Error establishing a database connection".
>> > Many thanks,
>> > Alex
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers@lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>>
>>
>>
>> --
>> Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
From hempsworth at googlemail.com  Sat Nov 29 15:13:09 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sat Nov 29 15:13:22 2008
Subject: [wp-hackers] Keep local DB in sync with remote DB
In-Reply-To: <5a1dad880811290706m477d9b94r12b5627646461bc1@mail.gmail.com>
References: <5a1dad880811290647u460a9bb8saeddddd796cf2c38@mail.gmail.com>
	<8f93a7390811290655m3df2397as84666fee5cbe6094@mail.gmail.com>
	<5a1dad880811290701g22f871f8qde4bddeec8d18a8a@mail.gmail.com>
	<5a1dad880811290706m477d9b94r12b5627646461bc1@mail.gmail.com>
Message-ID: <5a1dad880811290713g77385211l9962b08c56e56017@mail.gmail.com>

Something like:
$my_ip = getenv("HTTP_CLIENT_IP");
$machine_ip = getenv("REMOTE_ADDR");

if ($my_ip == $machine_ip) {
// define 'siteurl' and 'home'
};

Would this work? How would I define 'siteurl' and 'home' from inside the
wp-config.php?

Many thanks,
Alex

On Sat, Nov 29, 2008 at 3:06 PM, Alex Hempton-Smith <
hempsworth@googlemail.com> wrote:

> Would I be able to define the wordpress URL and the blog URL from inside
> the wp-config.php.
> I want an if statement that could recognize I'm accessing the site from
> localhost, and then define those URLs as 'localhost', at the moment I can't
> login because WP is obviously sending me to the URLs from inside the DB,
> mydomain.com instead of localhost.
>
> -- Alex
>
>
>
> On Sat, Nov 29, 2008 at 3:01 PM, Alex Hempton-Smith <
> hempsworth@googlemail.com> wrote:
>
>> Thanks, I added my IP to the list of allowed hosts in the Dreamhost mySQL
>> admin.
>> :)
>>
>> -- Alex
>>
>>
>>
>> On Sat, Nov 29, 2008 at 2:55 PM, Viper007Bond <viper@viper007bond.com>wrote:
>>
>>> 99.9% of hosts block remote MySQL connections. Unless they have the
>>> option
>>> to enable it so that you can set up a cron/scheduled task to make a copy
>>> of
>>> your remote DB and import it into your localhost MySQL server, you're
>>> SOL.
>>>
>>> On Sat, Nov 29, 2008 at 6:47 AM, Alex Hempton-Smith <
>>> hempsworth@googlemail.com> wrote:
>>>
>>> > Hi,
>>> > I'm moving my development over to a local WAMP server, instead of
>>> uploading
>>> > files and checking the changes every time.
>>> > How would I keep my local mySQL database in sync with my remote mySQL
>>> > database?
>>> >
>>> > The remote database is hosted at Dreamhost, so the database has a
>>> > mysql.mydomain.com
>>> >  address, rather than localhost, but when I use that on the local WAMP
>>> > server it shows "Error establishing a database connection".
>>> > Many thanks,
>>> > Alex
>>> > _______________________________________________
>>> > wp-hackers mailing list
>>> > wp-hackers@lists.automattic.com
>>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> >
>>>
>>>
>>>
>>> --
>>> Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>
From hempsworth at googlemail.com  Sat Nov 29 15:53:04 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sat Nov 29 15:53:17 2008
Subject: [wp-hackers] Keep local DB in sync with remote DB
In-Reply-To: <5a1dad880811290713g77385211l9962b08c56e56017@mail.gmail.com>
References: <5a1dad880811290647u460a9bb8saeddddd796cf2c38@mail.gmail.com>
	<8f93a7390811290655m3df2397as84666fee5cbe6094@mail.gmail.com>
	<5a1dad880811290701g22f871f8qde4bddeec8d18a8a@mail.gmail.com>
	<5a1dad880811290706m477d9b94r12b5627646461bc1@mail.gmail.com>
	<5a1dad880811290713g77385211l9962b08c56e56017@mail.gmail.com>
Message-ID: <5a1dad880811290753k4a2028a1sd1146dd406539b1d@mail.gmail.com>

Okay, silly me should have looked in the codex first, so I can override the
options in the DB by adding this:
define('WP_SITEURL', 'http://localhost/mysite.com/wordpress');
define('WP_HOME', 'http://localhost/mysite.com');

But the if statement I posted earlier, to check if the client IP matches the
server IP doesn't seem to work; any ideas how I can define these if I am
browsing the site from localhost?

Many thanks,
Alex


On Sat, Nov 29, 2008 at 3:13 PM, Alex Hempton-Smith <
hempsworth@googlemail.com> wrote:

> Something like:
> $my_ip = getenv("HTTP_CLIENT_IP");
> $machine_ip = getenv("REMOTE_ADDR");
>
> if ($my_ip == $machine_ip) {
> // define 'siteurl' and 'home'
> };
>
> Would this work? How would I define 'siteurl' and 'home' from inside the
> wp-config.php?
>
> Many thanks,
> Alex
>
> On Sat, Nov 29, 2008 at 3:06 PM, Alex Hempton-Smith <
> hempsworth@googlemail.com> wrote:
>
>> Would I be able to define the wordpress URL and the blog URL from inside
>> the wp-config.php.
>> I want an if statement that could recognize I'm accessing the site from
>> localhost, and then define those URLs as 'localhost', at the moment I can't
>> login because WP is obviously sending me to the URLs from inside the DB,
>> mydomain.com instead of localhost.
>>
>> -- Alex
>>
>>
>>
>> On Sat, Nov 29, 2008 at 3:01 PM, Alex Hempton-Smith <
>> hempsworth@googlemail.com> wrote:
>>
>>> Thanks, I added my IP to the list of allowed hosts in the Dreamhost mySQL
>>> admin.
>>> :)
>>>
>>> -- Alex
>>>
>>>
>>>
>>> On Sat, Nov 29, 2008 at 2:55 PM, Viper007Bond <viper@viper007bond.com>wrote:
>>>
>>>> 99.9% of hosts block remote MySQL connections. Unless they have the
>>>> option
>>>> to enable it so that you can set up a cron/scheduled task to make a copy
>>>> of
>>>> your remote DB and import it into your localhost MySQL server, you're
>>>> SOL.
>>>>
>>>> On Sat, Nov 29, 2008 at 6:47 AM, Alex Hempton-Smith <
>>>> hempsworth@googlemail.com> wrote:
>>>>
>>>> > Hi,
>>>> > I'm moving my development over to a local WAMP server, instead of
>>>> uploading
>>>> > files and checking the changes every time.
>>>> > How would I keep my local mySQL database in sync with my remote mySQL
>>>> > database?
>>>> >
>>>> > The remote database is hosted at Dreamhost, so the database has a
>>>> > mysql.mydomain.com
>>>> >  address, rather than localhost, but when I use that on the local WAMP
>>>> > server it shows "Error establishing a database connection".
>>>> > Many thanks,
>>>> > Alex
>>>> > _______________________________________________
>>>> > wp-hackers mailing list
>>>> > wp-hackers@lists.automattic.com
>>>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> >
>>>>
>>>>
>>>>
>>>> --
>>>> Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>>
>>
>
From justmichaelh at gmail.com  Sat Nov 29 15:57:21 2008
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Sat Nov 29 15:57:37 2008
Subject: [wp-hackers] Keep local DB in sync with remote DB
References: <5a1dad880811290647u460a9bb8saeddddd796cf2c38@mail.gmail.com><8f93a7390811290655m3df2397as84666fee5cbe6094@mail.gmail.com><5a1dad880811290701g22f871f8qde4bddeec8d18a8a@mail.gmail.com><5a1dad880811290706m477d9b94r12b5627646461bc1@mail.gmail.com>
	<5a1dad880811290713g77385211l9962b08c56e56017@mail.gmail.com>
Message-ID: <008001c9523b$2abbf940$6701a8c0@dell8600>


----- Original Message ----- 
From: "Alex Hempton-Smith" <hempsworth@googlemail.com>
> Would this work? How would I define 'siteurl' and 'home' from inside the
> wp-config.php?

>From http://codex.wordpress.org/Editing_wp-config.php

define('WP_SITEURL', 'http://example.com/wordpress');
define('WP_HOME', 'http://example.com/wordpress'); 


MichaelH


From hempsworth at googlemail.com  Sat Nov 29 16:04:20 2008
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sat Nov 29 16:04:33 2008
Subject: [wp-hackers] Keep local DB in sync with remote DB
In-Reply-To: <008001c9523b$2abbf940$6701a8c0@dell8600>
References: <5a1dad880811290647u460a9bb8saeddddd796cf2c38@mail.gmail.com>
	<8f93a7390811290655m3df2397as84666fee5cbe6094@mail.gmail.com>
	<5a1dad880811290701g22f871f8qde4bddeec8d18a8a@mail.gmail.com>
	<5a1dad880811290706m477d9b94r12b5627646461bc1@mail.gmail.com>
	<5a1dad880811290713g77385211l9962b08c56e56017@mail.gmail.com>
	<008001c9523b$2abbf940$6701a8c0@dell8600>
Message-ID: <5a1dad880811290804q1124839dpb988f713beea99f9@mail.gmail.com>

Okay, I've got it working!
I remembered that localhost is always 127.0.0.1 (more coffee needed
methinks), so I have the following in my wp-config.php:

if ($_SERVER['REMOTE_ADDR'] == "127.0.0.1") {
define('WP_SITEURL', 'http://localhost/example.com/wordpress');
define('WP_HOME', 'http://localhost/example.com');
};

And it's working great, just for anybody who was thinking of doing the same.

-- Alex


On Sat, Nov 29, 2008 at 3:57 PM, Michael E. Hancock
<justmichaelh@gmail.com>wrote:

>
> ----- Original Message ----- From: "Alex Hempton-Smith" <
> hempsworth@googlemail.com>
>
>> Would this work? How would I define 'siteurl' and 'home' from inside the
>> wp-config.php?
>>
>
>  From http://codex.wordpress.org/Editing_wp-config.php
>>
>
> define('WP_SITEURL', 'http://example.com/wordpress');
> define('WP_HOME', 'http://example.com/wordpress');
>
> MichaelH
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From andre.renaut at gmail.com  Sat Nov 29 17:29:36 2008
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Sat Nov 29 17:29:45 2008
Subject: [wp-hackers] $("#adminmenu li.wp-has-submenu").hoverIntent is not a
	function
Message-ID: <8810a71a0811290929w2b99e782gd136c745b9464447@mail.gmail.com>

Hi,

Under firefox 3 i sometimes have this :

$("#adminmenu li.wp-has-submenu").hoverIntent is not a function
From ozh at planetozh.com  Sat Nov 29 17:48:11 2008
From: ozh at planetozh.com (Ozh)
Date: Sat Nov 29 17:48:22 2008
Subject: [wp-hackers] Load scripts in header only when needed
In-Reply-To: <9dd057850811290614n1f773d3bjb11faa2e4f1d95b8@mail.gmail.com>
References: <9dd057850811290614n1f773d3bjb11faa2e4f1d95b8@mail.gmail.com>
Message-ID: <ae81acd10811290948m6245e513v1b5dc62f83473e43@mail.gmail.com>

Should help :
<http://planetozh.com/blog/2008/04/how-to-load-javascript-with-your-wordpress-plugin/>

On Sat, Nov 29, 2008 at 3:14 PM, Ade Walker <photofantaisie@gmail.com> wrote:
> Hi all,
>
> I've probably been staring at the computer screen too long, but I'm
> struggling to get my head around this...
>
> I'm playing around with a new gallery plugin which uses javascript. The
> gallery will be called by a function call in a theme template file. However,
> I only want to load the scripts into the header on pages that actually need
> it.  The problem is that if I try to load the scripts into the head based on
> the template function call it's too late - wp_head has been and gone.
>
> If anyone could point me in the right direction I'd be very grateful. :-)
>
> Thanks.
>
> Ade.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From andre.renaut at gmail.com  Sat Nov 29 17:54:06 2008
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Sat Nov 29 17:54:17 2008
Subject: [wp-hackers] Re: Load scripts in header only when needed (Ade
	Walker)
Message-ID: <8810a71a0811290954u1ce9f75dtbb1a7f4d142e50ba@mail.gmail.com>

I personnaly test the value of  $_GET['page']
From gaarai at gaarai.com  Sat Nov 29 17:58:11 2008
From: gaarai at gaarai.com (Gaarai)
Date: Sat Nov 29 19:16:53 2008
Subject: [wp-hackers] Re: Load scripts in header only when needed (Ade
	Walker)
In-Reply-To: <8810a71a0811290954u1ce9f75dtbb1a7f4d142e50ba@mail.gmail.com>
References: <8810a71a0811290954u1ce9f75dtbb1a7f4d142e50ba@mail.gmail.com>
Message-ID: <493182B3.7030708@gaarai.com>

If you're going that route, it would be safer to check $_REQUEST['page'] 
as you never know when something might do a post.

- Chris Jean

andr? renaut wrote:
> I personnaly test the value of  $_GET['page']
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From wp-hackers at striderweb.com  Sat Nov 29 19:44:11 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat Nov 29 19:44:40 2008
Subject: [wp-hackers] Keep local DB in sync with remote DB
In-Reply-To: <5a1dad880811290753k4a2028a1sd1146dd406539b1d@mail.gmail.com>
References: <5a1dad880811290647u460a9bb8saeddddd796cf2c38@mail.gmail.com>
	<8f93a7390811290655m3df2397as84666fee5cbe6094@mail.gmail.com>
	<5a1dad880811290701g22f871f8qde4bddeec8d18a8a@mail.gmail.com>
	<5a1dad880811290706m477d9b94r12b5627646461bc1@mail.gmail.com>
	<5a1dad880811290713g77385211l9962b08c56e56017@mail.gmail.com>
	<5a1dad880811290753k4a2028a1sd1146dd406539b1d@mail.gmail.com>
Message-ID: <4E6132C2-A834-4E6F-A002-43D5F26912E9@striderweb.com>

I actually have my local server set up so it uses example.local  
instead of example.com.  In wp-config.php I set WP_SITEURL etc., and I  
keep the wp-config.php one directory up from the WordPress files.  The  
local and "live" wp-config files aren't synced, but everything else  
is.  Works perfectly for me.  No extra code needed.

On another note: I keep my wp-content in a separate place too, so when  
upgrading I can completely wipe the wp/ directory and upload the new  
files.

Stephen

On Nov 29, 2008, at 9:53 AM, Alex Hempton-Smith wrote:

> Okay, silly me should have looked in the codex first, so I can  
> override the
> options in the DB by adding this:
> define('WP_SITEURL', 'http://localhost/mysite.com/wordpress');
> define('WP_HOME', 'http://localhost/mysite.com');
>
> But the if statement I posted earlier, to check if the client IP  
> matches the
> server IP doesn't seem to work; any ideas how I can define these if  
> I am
> browsing the site from localhost?


-- 
Stephen Rider
<http://striderweb.com/>



From photofantaisie at gmail.com  Sat Nov 29 20:30:44 2008
From: photofantaisie at gmail.com (Ade Walker)
Date: Sat Nov 29 20:30:56 2008
Subject: [wp-hackers] Load scripts in header only when needed
In-Reply-To: <ae81acd10811290948m6245e513v1b5dc62f83473e43@mail.gmail.com>
References: <9dd057850811290614n1f773d3bjb11faa2e4f1d95b8@mail.gmail.com>
	<ae81acd10811290948m6245e513v1b5dc62f83473e43@mail.gmail.com>
Message-ID: <9dd057850811291230v780e6a8bq90439974524afc6f@mail.gmail.com>

Very useful. I've bookmarked it for future reference. Thanks!

But what about non-admin pages? How do I avoid loading the js in every
non-admin page, given that I only want the js on pages (most likely single
post or page.php or a page template) where the gallery is called?

Thanks.

2008/11/29 Ozh <ozh@planetozh.com>

> Should help :
> <
> http://planetozh.com/blog/2008/04/how-to-load-javascript-with-your-wordpress-plugin/
> >
>
> On Sat, Nov 29, 2008 at 3:14 PM, Ade Walker <photofantaisie@gmail.com>
> wrote:
> > Hi all,
> >
> > I've probably been staring at the computer screen too long, but I'm
> > struggling to get my head around this...
> >
> > I'm playing around with a new gallery plugin which uses javascript. The
> > gallery will be called by a function call in a theme template file.
> However,
> > I only want to load the scripts into the header on pages that actually
> need
> > it.  The problem is that if I try to load the scripts into the head based
> on
> > the template function call it's too late - wp_head has been and gone.
> >
> > If anyone could point me in the right direction I'd be very grateful. :-)
> >
> > Thanks.
> >
> > Ade.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> http://planetOzh.com ~ Blog and WordPress Stuff
> http://FrenchFragFactory.net ~ Daily Quake News
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ozh at planetozh.com  Sat Nov 29 20:47:13 2008
From: ozh at planetozh.com (Ozh)
Date: Sat Nov 29 20:47:25 2008
Subject: [wp-hackers] Load scripts in header only when needed
In-Reply-To: <9dd057850811291230v780e6a8bq90439974524afc6f@mail.gmail.com>
References: <9dd057850811290614n1f773d3bjb11faa2e4f1d95b8@mail.gmail.com>
	<ae81acd10811290948m6245e513v1b5dc62f83473e43@mail.gmail.com>
	<9dd057850811291230v780e6a8bq90439974524afc6f@mail.gmail.com>
Message-ID: <ae81acd10811291247r414924dbs63ca56c29dc23578@mail.gmail.com>

Depends on your plugin
I'd do the following: check if the plugin does something in posts, and
if so, add_action('wp_footer','my_javascript') that would insert on
bottom of the page the needed JS

On Sat, Nov 29, 2008 at 9:30 PM, Ade Walker <photofantaisie@gmail.com> wrote:
> Very useful. I've bookmarked it for future reference. Thanks!
>
> But what about non-admin pages? How do I avoid loading the js in every
> non-admin page, given that I only want the js on pages (most likely single
> post or page.php or a page template) where the gallery is called?
>
> Thanks.
>
> 2008/11/29 Ozh <ozh@planetozh.com>
>
>> Should help :
>> <
>> http://planetozh.com/blog/2008/04/how-to-load-javascript-with-your-wordpress-plugin/
>> >
>>
>> On Sat, Nov 29, 2008 at 3:14 PM, Ade Walker <photofantaisie@gmail.com>
>> wrote:
>> > Hi all,
>> >
>> > I've probably been staring at the computer screen too long, but I'm
>> > struggling to get my head around this...
>> >
>> > I'm playing around with a new gallery plugin which uses javascript. The
>> > gallery will be called by a function call in a theme template file.
>> However,
>> > I only want to load the scripts into the header on pages that actually
>> need
>> > it.  The problem is that if I try to load the scripts into the head based
>> on
>> > the template function call it's too late - wp_head has been and gone.
>> >
>> > If anyone could point me in the right direction I'd be very grateful. :-)
>> >
>> > Thanks.
>> >
>> > Ade.
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers@lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>>
>>
>>
>> --
>> http://planetOzh.com ~ Blog and WordPress Stuff
>> http://FrenchFragFactory.net ~ Daily Quake News
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From photofantaisie at gmail.com  Sat Nov 29 21:41:14 2008
From: photofantaisie at gmail.com (Ade Walker)
Date: Sat Nov 29 21:41:22 2008
Subject: [wp-hackers] Load scripts in header only when needed
In-Reply-To: <ae81acd10811291247r414924dbs63ca56c29dc23578@mail.gmail.com>
References: <9dd057850811290614n1f773d3bjb11faa2e4f1d95b8@mail.gmail.com>
	<ae81acd10811290948m6245e513v1b5dc62f83473e43@mail.gmail.com>
	<9dd057850811291230v780e6a8bq90439974524afc6f@mail.gmail.com>
	<ae81acd10811291247r414924dbs63ca56c29dc23578@mail.gmail.com>
Message-ID: <9dd057850811291341h4dc02adayfcfcf3bd300bcb79@mail.gmail.com>

Excellent! That worked perfectly. Thanks!

2008/11/29 Ozh <ozh@planetozh.com>

> Depends on your plugin
> I'd do the following: check if the plugin does something in posts, and
> if so, add_action('wp_footer','my_javascript') that would insert on
> bottom of the page the needed JS
>
From photofantaisie at gmail.com  Sat Nov 29 21:42:50 2008
From: photofantaisie at gmail.com (Ade Walker)
Date: Sat Nov 29 21:43:01 2008
Subject: [wp-hackers] Re: Load scripts in header only when needed (Ade
	Walker)
In-Reply-To: <493182B3.7030708@gaarai.com>
References: <8810a71a0811290954u1ce9f75dtbb1a7f4d142e50ba@mail.gmail.com>
	<493182B3.7030708@gaarai.com>
Message-ID: <9dd057850811291342o6e650788v1d869ab031fdb1e9@mail.gmail.com>

Thanks for the reponse - Andr? and Chris. Ozh posted an alternative solution
for me on the original thread.
Ade.


2008/11/29 Gaarai <gaarai@gaarai.com>

> If you're going that route, it would be safer to check $_REQUEST['page'] as
> you never know when something might do a post.
>
> - Chris Jean
>
>
> andr? renaut wrote:
>
>> I personnaly test the value of  $_GET['page']
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From chris24 at chris24.ca  Sat Nov 29 22:39:03 2008
From: chris24 at chris24.ca (Chris Thomson)
Date: Sat Nov 29 22:39:21 2008
Subject: [wp-hackers] Limiting The Number of Sticky Posts That Are Shown
Message-ID: <FEBCECAD-4DF7-4B05-AE98-894FD70C4735@chris24.ca>

Hey all,

I came across this PHP snippet for displaying sticky posts:
> query_posts(array('post__in'=>get_option('sticky_posts')));

It seems like when I add the showposts=1 parameter, it's ignored, and  
displays all sticky posts. Anyone know of a way to limit the number of  
sticky posts shown (to just one)?

Cheers.
??
Chris Thomson
http://twitter.com/chris24

From justmichaelh at gmail.com  Sun Nov 30 01:52:15 2008
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Sun Nov 30 01:52:25 2008
Subject: [wp-hackers] Limiting The Number of Sticky Posts That Are Shown
References: <FEBCECAD-4DF7-4B05-AE98-894FD70C4735@chris24.ca>
Message-ID: <018101c9528e$45d8a770$6701a8c0@dell8600>

From: "Chris Thomson" <chris24@chris24.ca>
It seems like when I add the showposts=1 parameter, it's ignored, and  
displays all sticky posts. Anyone know of a way to limit the number of  
sticky posts shown (to just one)?

How about the first stick post

 $sticky=get_option('sticky_posts') ;
  query_posts('p=' . $sticky[0]);


MichaelH

From bentrem at aol.com  Sun Nov 30 05:34:09 2008
From: bentrem at aol.com (Bernard D. Tremblay (ben))
Date: Sun Nov 30 05:34:29 2008
Subject: [wp-hackers] Post/Page "Types"?
Message-ID: <493225D1.4060802@aol.com>

Mike Schinkel of mikeschinkel.com wrote back on 1NOV08:

> for example say I could create a "company" post_type and store in
> the "wp_posts" table but as a "company" and not as a "post" or
> "page" yet I'd still be able to use features like categories
> and tags. Further I'd want to define custom fields that would
> apply to just each company (like "CEO name", "Phone Number",
> etc.) and then be able to create a theme template that would apply
> to a company and a URL that would apply to a company.
> What are your thoughts on this?  Is anyone trying to address this
> with any of the existing plugins and/or with future plans for WordPress.


Mike, what I'm trying to do is quite different, but I wonder if the fix 
might be related.

In my situation off the shelf WP + plugins does 99.5% of what I need.
But that .5% is non-negotiable.

I need to have a small set of custom pages.
And custom templates don't cut the mustard.
I need those pages to have their own head sections.
(I've read that there are ways of pushing JS and CSS into them using DOM 
... black magic if ever I've hear of any!)

So not sure ...
... I'll be pursuing this on my own. (Using WPMoo but I don't think 
that's too significant.)

cheers
ben

 
From bentrem at aol.com  Sun Nov 30 05:35:12 2008
From: bentrem at aol.com (Bernard D. Tremblay (ben))
Date: Sun Nov 30 05:35:33 2008
Subject: [wp-hackers] WPMU can handle the agora?
Message-ID: <49322610.1080600@aol.com>

The OS concept I've been kicking around since ?when? at least 1995 looks 
like it's doable with Moo.
If this pans out at all I'll be setting something up through 
SourceForge. (As a default ... anybody got better suggestions please 
email me.)

Here's what would be a show-stopper/deal-breaker.

The point is to have a set of blogs (potentially a very, very large set) 
that are deeply interconnected.
For example:
* the ability to X-post ... what I imagine is that a participant sees a 
post in Blog K and pops it into Blog M (which would require them to add 
a substantial bit of text to the exerpt; this ain't Digg or Propellor). 
Now things get interesting ... that action would a) show up back on Blog 
K and b) comments to the Blog M post would be presented there as well. 
(Details need to be polished, but if the mechanism can't support it then 
the whole question is moot). This would require having the loop cross 
sub-domains.
* hiving off comments as posts, sort of a variant of the above, where a 
comment on a Blog Post (membership is conditional ... lame one-liners 
don't count ... we're gonna out /. /.) appear on the member's personal 
blog as a Post. (Members get their own blog, with minimal PM function 
... this ain't FaceBook. It ferr shurr ain't MySpace.)

Can someone tell me either or both of those are just plain impossible?
I'm guessing that they're both doable ... thinking of how WP can run 
multiple blogs from one data-base ... but if I'm wrong I'd appreciate 
someone put me out of my misery ASAP.

TIA
--bentrem

p.s. if there's a Moo list please someone let me know
p.s.2 if someone wants to ping my primary email: ab006 AT chebucto.ns.ca


-- 
 |-------------------                        -------------------|
 |    Bernard D. Tremblay (Ben)   |  Ben Tremblay & Associates  |
           My LiveJournal: http://hfx_ben.livejournal.com
|---------------                                  ---------------|
|  Confusion is a kinky form of enlightenment, clarity in drag.  |
|  Uncertainty is certainty that has stepped on a banana peel.   |
|  Negativity is brilliance competing with itself.               |
|------------------------                 Sherab Chodzin Kohn ---|
  

From scribu at gmail.com  Sun Nov 30 11:31:23 2008
From: scribu at gmail.com (scribu)
Date: Sun Nov 30 11:31:35 2008
Subject: [wp-hackers] Plugin upgrade broken?
Message-ID: <349fe48b0811300331x7e57421cv436b6cd69bf29b4b@mail.gmail.com>

I'm using WordPress 2.7-almost-rc-9965 and I have a plugin installed, with
version 1.7.2. The problem is that it doesn't detect that there is a newer
version (1.7.3) on Extend. When I open it from the Plugin Installer page, it
displays version 1.7.3 correctly, but it says "Latest version installed".

Also, the search by name in the Plugin Installer is useless.

-- 
http://scribu.net
From viper at viper007bond.com  Sun Nov 30 12:36:53 2008
From: viper at viper007bond.com (Viper007Bond)
Date: Sun Nov 30 12:37:04 2008
Subject: [wp-hackers] $("#adminmenu li.wp-has-submenu").hoverIntent is not
	a function
In-Reply-To: <8810a71a0811290929w2b99e782gd136c745b9464447@mail.gmail.com>
References: <8810a71a0811290929w2b99e782gd136c745b9464447@mail.gmail.com>
Message-ID: <8f93a7390811300436m5fb3640el38d9cd56c95ff330@mail.gmail.com>

That should probably be jQuery(...) rather than $(...).

On Sat, Nov 29, 2008 at 9:29 AM, andr? renaut <andre.renaut@gmail.com>wrote:

> Hi,
>
> Under firefox 3 i sometimes have this :
>
> $("#adminmenu li.wp-has-submenu").hoverIntent is not a function
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From viper at viper007bond.com  Sun Nov 30 12:38:40 2008
From: viper at viper007bond.com (Viper007Bond)
Date: Sun Nov 30 12:42:42 2008
Subject: [wp-hackers] Keep local DB in sync with remote DB
In-Reply-To: <5a1dad880811290647u460a9bb8saeddddd796cf2c38@mail.gmail.com>
References: <5a1dad880811290647u460a9bb8saeddddd796cf2c38@mail.gmail.com>
Message-ID: <8f93a7390811300438k6f5ba727u9c301fac9ea2f71e@mail.gmail.com>

BTW, be careful. Don't forget that any changes you make on your localhost
will now affect your live site (i.e. theme changes, test posts, etc.).
Unless you're _only_ editing your theme's PHP files, you should just make a
copy of your database.

-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From photofantaisie at gmail.com  Sun Nov 30 12:51:37 2008
From: photofantaisie at gmail.com (Ade Walker)
Date: Sun Nov 30 12:51:49 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <493225D1.4060802@aol.com>
References: <493225D1.4060802@aol.com>
Message-ID: <9dd057850811300451ic24b3f9tb12e91d4cbb32755@mail.gmail.com>

Perhaps I'm missing the point, but why not use Conditional
Tags<http://codex.wordpress.org/Conditional_Tags>to load different
header.php files depending on the type of
page/post/category being displayed? Combined with Page Templates this can be
a very powerful way of customising different parts of a site. Just a
thought.

Ade.

2008/11/30 Bernard D. Tremblay (ben) <bentrem@aol.com>

>
> Mike, what I'm trying to do is quite different, but I wonder if the fix
> might be related.
>
> In my situation off the shelf WP + plugins does 99.5% of what I need.
> But that .5% is non-negotiable.
>
> I need to have a small set of custom pages.
> And custom templates don't cut the mustard.
> I need those pages to have their own head sections.
> (I've read that there are ways of pushing JS and CSS into them using DOM
> ... black magic if ever I've hear of any!)
>
> So not sure ...
> ... I'll be pursuing this on my own. (Using WPMoo but I don't think that's
> too significant.)
>
> cheers
> ben
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From bentrem at aol.com  Sun Nov 30 18:17:50 2008
From: bentrem at aol.com (Bernard D. Tremblay (ben))
Date: Sun Nov 30 18:18:21 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <9dd057850811300451ic24b3f9tb12e91d4cbb32755@mail.gmail.com>
References: <493225D1.4060802@aol.com>
	<9dd057850811300451ic24b3f9tb12e91d4cbb32755@mail.gmail.com>
Message-ID: <4932D8CE.4060806@aol.com>

Ade Walker wrote:
> Perhaps I'm missing the point, but why not use Conditional
> Tags<http://codex.wordpress.org/Conditional_Tags>
So far so good ... right on target.
> to load different header.php files depending on the type of
> page/post/category being displayed?
You just re-formulated my question.
:-)
> Combined with Page Templates this can be a very powerful way of customising different parts of a site.
Absolutely ... sure is ... that's why I'm moving in this direction.
>  Just a thought.
>   
Fine thought ... spot on ...
... cept (and I just went through a stack of Codex docs) I find no way 
of doing what you made seem so simple here.

To use your words: How do I "load different header.php files depending 
on the type of page/post/category being displayed?"
Simpler: can it be done?

> Ade.
>   
ben

From peter.westwood at ftwr.co.uk  Sun Nov 30 18:25:26 2008
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun Nov 30 18:25:44 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <4932D8CE.4060806@aol.com>
References: <493225D1.4060802@aol.com>	<9dd057850811300451ic24b3f9tb12e91d4cbb32755@mail.gmail.com>
	<4932D8CE.4060806@aol.com>
Message-ID: <4932DA96.3090209@ftwr.co.uk>

Bernard D. Tremblay (ben) wrote:
> Fine thought ... spot on ...
> ... cept (and I just went through a stack of Codex docs) I find no way 
> of doing what you made seem so simple here.
>
> To use your words: How do I "load different header.php files depending 
> on the type of page/post/category being displayed?"
> Simpler: can it be done?
>
Requires 2.7 but the following will work.

in the page/post/category templates replace the following calls:

get_header() / get_footer()

With

get_header('page') / get_footer('page')

And add header-page.php and footer-page.php to your theme

See this for more info:
http://phpdoc.ftwr.co.uk/wordpress/WordPress/Template/_wp-includes---general-template.php.html#functionget_header

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5 

From matt at sivel.net  Sun Nov 30 18:28:03 2008
From: matt at sivel.net (Matt Martz)
Date: Sun Nov 30 18:28:11 2008
Subject: [wp-hackers] Keep local DB in sync with remote DB
In-Reply-To: <5a1dad880811290647u460a9bb8saeddddd796cf2c38@mail.gmail.com>
References: <5a1dad880811290647u460a9bb8saeddddd796cf2c38@mail.gmail.com>
Message-ID: <518fa9630811301028v3f1597e5o1ddb66a9227c6206@mail.gmail.com>

On Sat, Nov 29, 2008 at 9:47 AM, Alex Hempton-Smith
<hempsworth@googlemail.com> wrote:
> Hi,
> I'm moving my development over to a local WAMP server, instead of uploading
> files and checking the changes every time.
> How would I keep my local mySQL database in sync with my remote mySQL
> database?
>
> The remote database is hosted at Dreamhost, so the database has a
> mysql.mydomain.com
>  address, rather than localhost, but when I use that on the local WAMP
> server it shows "Error establishing a database connection".
> Many thanks,
> Alex

I know this example doesn't really work for the staging or local
install to be on a windows machine but this I'll post a copy of my
bash script I use to keep my Production and Staging installs to be
duplicates of each other.  Keep in mind that both installs are also
using svn for the WordPress core files.

#!/bin/bash

DB_NAME="wordpress_prod"
DB_STG_NAME="wordpress_stage"
PROD_DB_HOST="localhost"
STAGE_DB_HOST="localhost"
DB_USER="db_username"
DB_PASS="db_password"
PROD_HOSTNAME="example.org"
STAGE_HOSTNAME="stage.example.org"
PROD_DIR="/home/user/html"
STAGE_DIR="/home/user/addons/stageexampleorg"

PROD_HOSTNAME_ESC=`echo $PROD_HOSTNAME | sed "s%\(\/\|\.\)%\\\\\\\\\1%g"`
STAGE_HOSTNAME_ESC=`echo $STAGE_HOSTNAME | sed "s%\(\/\|\.\)%\\\\\\\\\1%g"`
PROD_DIR_ESC=`echo $PROD_DIR | sed "s%\(\/\|\.\)%\\\\\\\\\1%g"`
STAGE_DIR_ESC=`echo $STAGE_DIR | sed "s%\(\/\|\.\)%\\\\\\\\\1%g"`

mysqldump \
        -h$PROD_DB_HOST \
        -u$DB_USER \
        -p$DB_PASS \
        --opt --no-create-db --complete-insert \
        --databases $DB_NAME | \
sed s/$DB_NAME/$DB_STG_NAME/g | \
sed s/$PROD_HOSTNAME_ESC/$STAGE_HOSTNAME_ESC/g | \
sed s/$PROD_DIR_ESC/$STAGE_DIR_ESC/g | \
mysql \
        -h$STAGE_DB_HOST \
        -u$DB_USER \
        -p$DB_PASS \
        -D $DB_STG_NAME

# CUT FROM HERE
cd $PROD_DIR
PROD_SVN_URL=`svn info | grep URL | awk -F': ' '{print $2}'`
PROD_SVN_REV=`svn info | grep Revision | awk -F': ' '{print $2}'`

cd $STAGE_DIR
STAGE_SVN_URL=`svn info | grep URL | awk -F': ' '{print $2}'`
STAGE_SVN_REV=`svn info | grep Revision | awk -F': ' '{print $2}'`

if [ $STAGE_SVN_URL == $PROD_SVN_URL ] && [ $STAGE_SVN_REV -ne $PROD_SVN_REV ]
then
        svn -r $PROD_SVN_REV update
fi
# TO HERE IF YOU DON"T USE SUBVERSION FOR THE CORE FILES

cp -rf $PROD_DIR/wp-content/* $STAGE_DIR/wp-content/

exit 0

-- 
Matt Martz
matt@sivel.net
From bentrem at aol.com  Sun Nov 30 18:44:16 2008
From: bentrem at aol.com (Bernard D. Tremblay (ben))
Date: Sun Nov 30 18:44:48 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <4932DA96.3090209@ftwr.co.uk>
References: <493225D1.4060802@aol.com>
	<9dd057850811300451ic24b3f9tb12e91d4cbb32755@mail.gmail.com>
	<4932D8CE.4060806@aol.com> <4932DA96.3090209@ftwr.co.uk>
Message-ID: <4932DF00.3040201@aol.com>

Peter Westwood wrote:
> Bernard D. Tremblay (ben) wrote:
>> ... I find no way of doing what you made seem so simple here.
>> To use your words: How do I "load different header.php files 
>> depending on the type of page/post/category being displayed?"
>> Simpler: can it be done?
>>
> Requires 2.7 but the following will work.
Brill ... thanks westi!
I just peeked your link (http://tinyurl.com/5phccx) and looks like that 
hits the nail on the head.

Now: Can do w/WPMU?
Fact is that this depth of customization was the reason I deployed Moo.
> in the page/post/category templates replace the following calls:
> get_header() / get_footer()
>
> With
> get_header('page') / get_footer('page')
>
> And add header-page.php and footer-page.php to your theme
>
> See this for more info:
> http://phpdoc.ftwr.co.uk/wordpress/WordPress/Template/_wp-includes---general-template.php.html#functionget_header 
>
>
> westi

From photofantaisie at gmail.com  Sun Nov 30 19:54:08 2008
From: photofantaisie at gmail.com (Ade Walker)
Date: Sun Nov 30 19:54:15 2008
Subject: [wp-hackers] Post/Page "Types"?
In-Reply-To: <4932DF00.3040201@aol.com>
References: <493225D1.4060802@aol.com>
	<9dd057850811300451ic24b3f9tb12e91d4cbb32755@mail.gmail.com>
	<4932D8CE.4060806@aol.com> <4932DA96.3090209@ftwr.co.uk>
	<4932DF00.3040201@aol.com>
Message-ID: <9dd057850811301154h41b0103brf50d5b0180a71a3c@mail.gmail.com>

Great! Even simpler in WP 2.7. :-)

2008/11/30 Bernard D. Tremblay (ben) <bentrem@aol.com>

> Peter Westwood wrote:
>
>
>  in the page/post/category templates replace the following calls:
>> get_header() / get_footer()
>>
>> With
>> get_header('page') / get_footer('page')
>>
>> And add header-page.php and footer-page.php to your theme
>>
>> See this for more info:
>>
>> http://phpdoc.ftwr.co.uk/wordpress/WordPress/Template/_wp-includes---general-template.php.html#functionget_header
>>
>> westi
>
>
From wp-hackers at striderweb.com  Sun Nov 30 22:06:56 2008
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sun Nov 30 22:07:25 2008
Subject: [wp-hackers] Keep local DB in sync with remote DB
In-Reply-To: <8f93a7390811300438k6f5ba727u9c301fac9ea2f71e@mail.gmail.com>
References: <5a1dad880811290647u460a9bb8saeddddd796cf2c38@mail.gmail.com>
	<8f93a7390811300438k6f5ba727u9c301fac9ea2f71e@mail.gmail.com>
Message-ID: <49586339-2152-408F-96AD-F98E5EAFF614@striderweb.com>

Not necessarily -- if the config points to "localhost" for the DB then  
it is at the same computer on which you're running WordPress (whether  
test or live server).

In my case I occasionally export from the live server, then import to  
the test server

On Nov 30, 2008, at 6:38 AM, Viper007Bond wrote:

> BTW, be careful. Don't forget that any changes you make on your  
> localhost
> will now affect your live site (i.e. theme changes, test posts, etc.).
> Unless you're _only_ editing your theme's PHP files, you should just  
> make a
> copy of your database.

From mikeschinkel at gmail.com  Sun Nov 30 22:32:14 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Sun Nov 30 22:32:25 2008
Subject: [wp-hackers] Keep local DB in sync with remote DB
Message-ID: <b4dd281c0811301432w49129546me42251dd4919e1de@mail.gmail.com>

Hi Alex:

I was just doing some of that last night for an existing client site whose
source I just copied down to my laptop.  I've been working locally on
Windows for over a year and it's an order of magnitude more productive then
testing on the remote server.

A couple other things that might help you or others:

1.) I always define a local domain entry in my hosts file
(C:\Windows\System32\driver\etc\hosts on Vista) using the same name and a
TLD of ".loc", i.e.

if ($_SERVER['REMOTE_ADDR']=='127.0.0.1') {
   define('WP_SITEURL', 'http://example.loc');
   define('WP_HOME', 'http://example.loc');
}

Note that there is no ".loc" on the Internet (at least not that I'm aware
of) but that doesn't stop you from defining it locally for use on your own
computer as a convenience.  Using ".loc" allows me to quickly edit the URL
and swap between a live site (i.e. "example.com") and a local site (i.e.
"example.loc").

2.) Of course to do this you'll need to add something to your Apache
http.conf file (mine is located at c:\Program Files\Apache Software
Foundation\Apache2.2\conf\httpd.conf, yours might be elsewhere.) Don't
remember which of these are not already in http.conf but I know these are
what you need to support virtual hosts in Apache 2.2 (be sure to read the
comments below, and be sure to restart Apache after you make these changes):

ServerName 127.0.0.1:80

# SECRET SAUCE! NEEDED FOR HOSTING MULTIPLE VIRTUAL HOSTS
NameVirtualHost *

# BE SURE TO CHANGE [htdocs] directory
# Mine is htdocs="users/mikes/Desktop/Apache/htdocs"
DocumentRoot "C:/[htdocs]"

<Directory />
   Options FollowSymLinks
   AllowOverride all
   Order deny,allow
   Allow from all
   Satisfy all
</Directory>

# BE SURE TO CHANGE [htdocs] directory
# Mine is htdocs="users/mikes/Desktop/Apache/htdocs"
# Note I use live domain ("example.com") for subdir name
<VirtualHost *>
   ServerName example.loc
   ServerAlias www.example.loc
   DocumentRoot "C:/[htdocs]/example.com"
</VirtualHost>

I'm not an expert with Apache configurations so there may be a way to
improve this but it has worked well for me. Of course if anyone knows how to
make it better I'd appreciate learning more.

3.) If you want to support multiple domains locally (i.e. "example.loc", "
example.net", etc. you'll need to add another ServerAlias in the
<VirtualHost *> element of http.conf above and also update wp-config.php,
something like this which uses whatever SERVER_NAME that loads your code:

if ($_SERVER['REMOTE_ADDR']=='127.0.0.1') {
   $url = 'http:// <http:///>' . $_SERVER['SERVER_NAME'];
   define('WP_SITEURL', $url);
   define('WP_HOME', $url);
   define('DB_HOST', 'localhost');
}

4.) If your web host uses a dedicated domain for MySQL (as MediaTemple does)
you'll need to set DB_HOST too and delete the existing entry defining
DB_HOST:

if ($_SERVER['REMOTE_ADDR']=='127.0.0.1') {
   $url = 'http:// <http:///>' . $_SERVER['SERVER_NAME'];
   define('WP_SITEURL', $url);
   define('WP_HOME', $url);
   define('DB_HOST', 'localhost');
} else {
   // The following is for MediaTemple, yours will probably be different
   // Be sure to change [server#] to your account's MySQL server number
   define('DB_HOST', 'internal-db.s[server#].gridserver.com');
}

5.) Also I use open-source HeidiSQL for Windows (http://www.heidisql.com/)
and I open up access to the web host's MySQL for access via my IP address.
Using that I can connect with HeidiSQL and either export or import a
database. HeidiSQL has a cool feature that if you open on instance pointing
to one (remote or local) database and another instance pointing to another
(remote or local) database you can export from one database and import into
another.

For sites like brochureware sites where the data is not changing I can
quickly download the current database, work on it, then upload it back using
these features (I didn't explain it step-by-step, but hopefully what you
need to do once you use HeidiSQL should be self explanatory.)

You can also use HeidiSQL to get a quick database dump in text format; much
better than using phpMyAdmin.

6.) Lastly, probably the best thing you could do for your productivity is
get a great IDE with debugger such as PhpED like I use:
http://www.nusphere.com/products/phped.htm (Windows only.) It may seem
expensive but it is incredibly powerful and has definitely been worth the
$300. It easily saved me that much time my first week of using it (after I
got the debugger working.)

HTH.

-Mike Schinkel
http://mikeschinkel.com/custom-wordpress-plugins/
From mikeschinkel at gmail.com  Sun Nov 30 22:35:24 2008
From: mikeschinkel at gmail.com (Mike Schinkel)
Date: Sun Nov 30 22:35:36 2008
Subject: [wp-hackers] Keep local DB in sync with remote DB
Message-ID: <b4dd281c0811301435o1121e005i2db6657a4e6a24ac@mail.gmail.com>

Stephen Rider wrote:
>> Not necessarily -- if the config points to "localhost" for the DB
>> then it is at the same computer on which you're running
>> WordPress (whether test or live server).

Also not necessarily.  Not all web hosts using "localhost" for their MySQL
services, MediaTemple for example.
See
http://comox.textdrive.com/pipermail/wp-hackers/2008-November/022872.htmlfor
how to address that.

>> I keep the wp-config.php one directory up from the WordPress files.
The local and "live" wp-config files aren't synced, but everything else
is. Works perfectly for me.  No extra code needed.
>> On another note: I keep my wp-content in a separate place too, so when
upgrading I can completely wipe the wp/ directory and upload the new
files.

How does WP know where to find them?  What do you have to change?

Thanks in advance.

-Mike Schinkel
http://mikeschinkel.com/custom-wordpress-plugins/
From ryanmccue at cubegames.net  Sun Nov 30 23:05:57 2008
From: ryanmccue at cubegames.net (Ryan McCue)
Date: Sun Nov 30 23:09:52 2008
Subject: [wp-hackers] $("#adminmenu li.wp-has-submenu").hoverIntent is
	not	a function
In-Reply-To: <8f93a7390811300436m5fb3640el38d9cd56c95ff330@mail.gmail.com>
References: <8810a71a0811290929w2b99e782gd136c745b9464447@mail.gmail.com>
	<8f93a7390811300436m5fb3640el38d9cd56c95ff330@mail.gmail.com>
Message-ID: <49331C55.3080303@cubegames.net>

Viper007Bond wrote:
> That should probably be jQuery(...) rather than $(...).
>
> On Sat, Nov 29, 2008 at 9:29 AM, andr? renaut <andre.renaut@gmail.com>wrote:
>   
>> Hi,
>>
>> Under firefox 3 i sometimes have this :
>>
>> $("#adminmenu li.wp-has-submenu").hoverIntent is not a function

Unless it's used within a function where $() is mapped to jQuery(),
which I believe it is.

-- 
Ryan McCue
<http://cubegames.net/>

From admin at laptoptips.ca  Sun Nov 30 23:20:10 2008
From: admin at laptoptips.ca (Andrew Ozz)
Date: Sun Nov 30 23:20:48 2008
Subject: [wp-hackers] $("#adminmenu li.wp-has-submenu").hoverIntent is
	not a	function
In-Reply-To: <8810a71a0811290929w2b99e782gd136c745b9464447@mail.gmail.com>
References: <8810a71a0811290929w2b99e782gd136c745b9464447@mail.gmail.com>
Message-ID: <49331FAA.10308@laptoptips.ca>

andr? renaut wrote:
> Under firefox 3 i sometimes have this :
> 
> $("#adminmenu li.wp-has-submenu").hoverIntent is not a function

hoverIntent is a small plugin for jQuery that handles the submenu popups 
when the menu is folded. It's loaded on every page, so perhaps there are 
some js errors on the page that break it.

