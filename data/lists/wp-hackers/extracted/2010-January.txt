From r at schestowitz.com  Fri Jan  1 10:20:02 2010
From: r at schestowitz.com (Roy Schestowitz)
Date: Fri, 01 Jan 2010 10:20:02 +0000
Subject: [wp-hackers] WP-Hackers Stats for December 2009
Message-ID: <4B3DCC52.30707@schestowitz.com>

  -  Times are Greenwich Mean Time (GMT) +0:00

  -  Statistics span a period of one month

  -  Subject line formatted consistently "WP-Hackers Stats for <MONTH>
<YEAR>"

  -  Killfile <subject contains "WP-Hackers Stats for "> if uninterested
____________________________________________________________

Stats for wp-hackers
~~~~~~~~~~~~~~~~~~~~
***** People who have written most messages:
+----+-----Author-----------------------------------+--Msg-+-Percent-+
|  1 | mikeschinkel newclarity.net                  |   99 | 11.62 % |
|  2 | otto ottodestruct.com                        |   68 |  7.98 % |
|  3 | scribu gmail.com                             |   36 |  4.23 % |
|  4 | jayarjo gmail.com                            |   30 |  3.52 % |
|  5 | wp xentek.net                                |   27 |  3.17 % |
|  6 | zamoose gmail.com                            |   23 |  2.70 % |
|  7 | wp-hackers striderweb.com                    |   22 |  2.58 % |
|  8 | if.website gmail.com                         |   19 |  2.23 % |
|  9 | jer simianuprising.com                       |   19 |  2.23 % |
| 10 | wordpress dd32.id.au                         |   19 |  2.23 % |
| 11 | ncrice gmail.com                             |   17 |  2.00 % |
| 12 | m mullenweg.com                              |   16 |  1.88 % |
| 13 | lynne.pope gmail.com                         |   15 |  1.76 % |
| 14 | malaiac gmail.com                            |   15 |  1.76 % |
| 15 | harish.mlists gmail.com                      |   14 |  1.64 % |
| 16 | peter.westwood ftwr.co.uk                    |   11 |  1.29 % |
| 17 | jwriteclub gmail.com                         |   10 |  1.17 % |
| 18 | beau dentedreality.com.au                    |   10 |  1.17 % |
| 19 | wordpress santosj.name                       |   10 |  1.17 % |
| 20 | mccormicky gmail.com                         |    9 |  1.06 % |
| 21 | ravi-lists g8o.net                           |    9 |  1.06 % |
| 22 | burobjorn gmail.com                          |    8 |  0.94 % |
| 23 | pete jointforcestech.com                     |    8 |  0.94 % |
| 24 | Ken adcSTUDIO.com                            |    8 |  0.94 % |
| 25 | markjaquith gmail.com                        |    7 |  0.82 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  323 | 37.91 % |
+----+----------------------------------------------+------+---------+

***** Best authors, by total size of their messages (w/o quoting):
+----+-----Author-------------------------------------------+-KBytes-+
|  1 | mikeschinkel newclarity.net                          |  125.0 |
|  2 | otto ottodestruct.com                                |   93.0 |
|  3 | jer simianuprising.com                               |   39.0 |
|  4 | ghodmode ghodmode.com                                |   28.7 |
|  5 | wordpress dd32.id.au                                 |   23.4 |
|  6 | wp-hackers striderweb.com                            |   23.0 |
|  7 | zamoose gmail.com                                    |   20.6 |
|  8 | jayarjo gmail.com                                    |   18.7 |
|  9 | wordpress santosj.name                               |   18.7 |
| 10 | malaiac gmail.com                                    |   16.7 |
| 11 | scribu gmail.com                                     |   16.0 |
| 12 | lynne.pope gmail.com                                 |   15.4 |
| 13 | jwriteclub gmail.com                                 |   15.3 |
| 14 | wp xentek.net                                        |   15.2 |
| 15 | ncrice gmail.com                                     |   14.0 |
| 16 | markjaquith gmail.com                                |   13.6 |
| 17 | ravi-lists g8o.net                                   |   12.6 |
| 18 | if.website gmail.com                                 |   11.9 |
| 19 | bradw illiams.com                                    |   11.6 |
| 20 | peter.westwood ftwr.co.uk                            |   11.4 |
| 21 | harish.mlists gmail.com                              |   10.1 |
| 22 | beau dentedreality.com.au                            |    9.6 |
| 23 | m mullenweg.com                                      |    9.0 |
| 24 | rhonda1964 gmail.com                                 |    8.3 |
| 25 | gaarai gaarai.com                                    |    8.2 |
+----+------------------------------------------------------+--------+

***** Best authors, by average size of their message (w/o quoting):
+----+-----Author--------------------------------------------+-bytes-+
|  1 | ghodmode ghodmode.com                                 |  4195 |
|  2 | westonruter gmail.com                                 |  2841 |
|  3 | pt ptahd.com                                          |  2668 |
|  4 | gigalinux gmail.com                                   |  2640 |
|  5 | ryan boren.nu                                         |  2352 |
|  6 | chasm epop3.com                                       |  2250 |
|  7 | tunamaxx yahoo.com                                    |  2230 |
|  8 | jaredbangs gmail.com                                  |  2193 |
|  9 | rhonda1964 gmail.com                                  |  2122 |
| 10 | will willnorris.com                                   |  2105 |
| 11 | gaarai gaarai.com                                     |  2103 |
| 12 | jer simianuprising.com                                |  2100 |
| 13 | russgilbert gmail.com                                 |  1990 |
| 14 | markjaquith gmail.com                                 |  1986 |
| 15 | himself arnebrachhold.de                              |  1929 |
| 16 | jane automattic.com                                   |  1914 |
| 17 | wordpress santosj.name                                |  1911 |
| 18 | bradw illiams.com                                     |  1701 |
| 19 | lloydomattic gmail.com                                |  1608 |
| 20 | Brian TheCodeCave.com                                 |  1590 |
| 21 | jwriteclub gmail.com                                  |  1564 |
| 22 | r schi.lt                                             |  1548 |
| 23 | yok2504 gmail.com                                     |  1546 |
| 24 | mwalters8 gmail.com                                   |  1475 |
| 25 | ravi-lists g8o.net                                    |  1434 |
+----+-------------------------------------------------------+-------+

***** Table showing the most successful subjects:
+----+----Subject-----------------------------------+--Msg-+-Percent-+
|  1 | [wp-hackers] Developer portal                |  102 | 11.97 % |
|  2 | [wp-hackers] Revisiting phone home and priva |   54 |  6.34 % |
|  3 | [wp-hackers] One CMS to Rule Them All (was T |   44 |  5.16 % |
|  4 | [wp-hackers] Wordpress as a CMS              |   33 |  3.87 % |
|  5 | [wp-hackers] Possible security patch         |   28 |  3.29 % |
|  6 | [wp-hackers] Custom Post - implementation sp |   27 |  3.17 % |
|  7 | [wp-hackers] compression and caching         |   27 |  3.17 % |
|  8 | [wp-hackers] Some Left-Field names for Canon |   20 |  2.35 % |
|  9 | [wp-hackers] Improving WordPress Core Develo |   20 |  2.35 % |
| 10 | [wp-hackers] The problem with WP_Rewrite <<< |   19 |  2.23 % |
| 11 | [wp-hackers] Proposing WP Flavours (various  |   19 |  2.23 % |
| 12 | [wp-hackers] newlines from rich text editor  |   19 |  2.23 % |
| 13 | [wp-hackers] Storing Arbitrary Data as Custo |   16 |  1.88 % |
| 14 | [wp-hackers] Tips for moving a Wordpress ins |   15 |  1.76 % |
| 15 | [wp-hackers] Metadata Mess                   |   15 |  1.76 % |
| 16 | [wp-hackers] WP exploit ,                    |   13 |  1.53 % |
| 17 | [wp-hackers] Plugin Privacy Option (was Revi |   11 |  1.29 % |
| 18 | [wp-hackers] WP_Object_Cache problem         |   11 |  1.29 % |
| 19 | [wp-hackers] Database structure Wordpress    |   10 |  1.17 % |
| 20 | [wp-hackers] JavaScript concatenation and co |   10 |  1.17 % |
| 21 | [wp-hackers] Hook into load-styles.php / loa |    9 |  1.06 % |
| 22 | [wp-hackers] $wp_rewrite->flush_rules() on p |    9 |  1.06 % |
| 23 | [wp-hackers]                                 |    9 |  1.06 % |
| 24 | [wp-hackers] ajax to call function in theme  |    9 |  1.06 % |
| 25 | [wp-hackers] Blog Stats from WordPress.com t |    8 |  0.94 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  295 | 34.62 % |
+----+----------------------------------------------+------+---------+

***** Most used email clients:
+----+----Mailer------------------------------------+--Msg-+-Percent-+
|  1 | Google Mail/Other                            |  477 | 55.99 % |
|  2 | Apple Mail (2.1077)                          |  140 | 16.43 % |
|  3 | Mozilla/5.x                                  |   51 |  5.99 % |
|  4 | Apple Mail (2.936)                           |   47 |  5.52 % |
|  5 | Thunderbird 2.0.0.23 (Windows/20090812)      |   20 |  2.35 % |
|  6 | Opera Mail/10.20 (Win32)                     |   19 |  2.23 % |
|  7 | Thunderbird 2.0.0.23 (X11/20090817)          |   13 |  1.53 % |
|  8 | Industrious bit-pushing elves                |   13 |  1.53 % |
|  9 | Microsoft Office Outlook 12.0                |   11 |  1.29 % |
| 10 | Evolution 2.26.1                             |    9 |  1.06 % |
| 11 | iPhone Mail (7D11)                           |    7 |  0.82 % |
| 12 | Thunderbird 2.0.0.23 (Macintosh/20090812)    |    6 |  0.70 % |
| 13 | G2/1.0                                       |    6 |  0.70 % |
| 14 | Microsoft Windows Mail 6.0.6001.18000        |    6 |  0.70 % |
| 15 | YahooMailWebService/0.8.100.260964           |    3 |  0.35 % |
| 16 | Opera Mail/10.10 (Win32)                     |    3 |  0.35 % |
| 17 | Claws Mail 3.7.3 (GTK+ 2.18.3; i486-pc-linux |    3 |  0.35 % |
| 18 | Lotus Notes Release 7.0                      |    3 |  0.35 % |
| 19 | RoundCube Webmail/0.2.1                      |    2 |  0.23 % |
| 20 | SquirrelMail/1.4.13                          |    2 |  0.23 % |
| 21 | Evolution 2.28.1                             |    2 |  0.23 % |
| 22 | Apple Mail (2.1075.2)                        |    1 |  0.12 % |
| 23 | Apple Mail (2.1076)                          |    1 |  0.12 % |
| 24 | Turnpike/6.07-M (<7uDGtbizkIv2aEx9v9GTX3YhgE |    1 |  0.12 % |
| 25 | Palm webOS v1.0.1                            |    1 |  0.12 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |    5 |  0.59 % |
+----+----------------------------------------------+------+---------+

***** Table of maximal quoting:
+----+-----Author------------------------------------------+-Percent-+
|  1 | dave69 gmail.com                                    | 90.70 % |
|  2 | chicagowebdev gmail.com                             | 84.66 % |
|  3 | charles cefm.ca                                     | 77.50 % |
|  4 | blaiserino gmail.com                                | 77.28 % |
|  5 | cjscott69 gmail.com                                 | 75.31 % |
|  6 | ben thewhiteroom.net                                | 73.25 % |
|  7 | william.canino googlemail.com                       | 72.99 % |
|  8 | derek amphibian.info                                | 71.67 % |
|  9 | SuperMoonMan gmail.com                              | 69.50 % |
| 10 | navjotjsingh gmail.com                              | 67.91 % |
| 11 | mccormicky gmail.com                                | 66.76 % |
| 12 | pete jointforcestech.com                            | 66.49 % |
| 13 | james om4.com.au                                    | 65.62 % |
| 14 | aaron jorb.in                                       | 65.49 % |
| 15 | jayarjo gmail.com                                   | 64.87 % |
| 16 | photofantaisie gmail.com                            | 63.13 % |
| 17 | tonyscott100 yahoo.co.uk                            | 60.12 % |
| 18 | feeds armeda.com                                    | 59.83 % |
| 19 | wordpress santosj.name                              | 59.40 % |
| 20 | glenn glennansley.com                               | 58.64 % |
| 21 | patrik.bona mrhead.sk                               | 58.58 % |
| 22 | matilda.griswold googlemail.com                     | 57.82 % |
| 23 | lynne.pope gmail.com                                | 57.73 % |
| 24 | johnbillion+wp gmail.com                            | 57.69 % |
| 25 | jwriteclub gmail.com                                | 57.20 % |
+----+-----------------------------------------------------+---------+
|    | average                                             | 41.63 % |
+----+-----------------------------------------------------+---------+

***** Graph showing number of messages written during hours of day:

100% -------------------------#----------------------- - 73
 90% -------------------------#----------------------- msgs
 80% -----------------------#-#-----#-----------------
 70% -----------------------#-#-#-#-#-#-#-------------
 60% -----------------------#-#-#-#-#-#-#-#-------#---
 50% -------------------#---#-#-#-#-#-#-#-#-#-----#---
 40% -#---------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 30% -#---------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 20% -#-#-------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 10% -#-#-#-#-------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * *
hour  0         5           11          17          23


***** Graph showing number of messages written during days of month:

100% -----#--------------------------------------------------------- - 80
 90% -----#--------------------------------------------------------- msgs
 80% -----#---------------------------------------------------------
 70% ---#-#---------------------------------------------------------
 60% ---#-#-------#-#-----------------------------------------------
 50% ---#-#-------#-#-#---------------------------------------------
 40% -#-#-#-------#-#-#---#---#-#-#---------------------------#-----
 30% -#-#-#-#-#---#-#-#---#-#-#-#-#-#-#-#-------#-------------#-----
 20% -#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-------#-#-----------#-#---
 10% -#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-----#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 day  1         6           12          18          24            31


***** Graph showing number of messages written during days of week:

100% -----#----------------------- - 179
 90% -----#---#------------------- msgs
 80% -----#---#-------------------
 70% -----#---#---#---------------
 60% -#---#---#---#---#-----------
 50% -#---#---#---#---#-----------
 40% -#---#---#---#---#-------#---
 30% -#---#---#---#---#---#---#---
 20% -#---#---#---#---#---#---#---
 10% -#---#---#---#---#---#---#---
      *   *   *   *   *   *   *
     Mon Tue Wed Thu Fri Sat Sun
!!!!! Warning: 2 message(s) not counted.


***** Maximal quoting:
      Author     : dave69 gmail.com
      Subject    : [wp-hackers] Proposing WP Flavours (various WordPress
forks)
      Date       : Fri, 18 Dec 2009 12:08:10 +1100
      Quote ratio: 97.73% / 22475 bytes

***** Longest message:
      Author     : ghodmode ghodmode.com
      Subject    : [wp-hackers] WP-Hackers Stats for December 2009
      Date       : Wed, 02 Dec 2009 21:49:06 +1300
      Size       : 23041 bytes

***** Most successful subject:
      Subject    : [wp-hackers] Developer portal
      No. of msgs: 102
      Total size : 153134 bytes

***** Final summary:
      Total number of messages:             852
      Total number of different authors:    143
      Total number of different subjects:   128
      Total size of messages (w/o headers): 1514597 bytes
      Average size of a message:            1777 bytes

***** Generated by MailListStat v1.3, (C) 2001-2003 <marki (at) nexin.sk>
***** See http://freshmeat.net/projects/mls for details...

DISCLAIMER: Stats automatically produced. Remember that stats are often
meaningless and deceiving.

From dan at phiffer.org  Fri Jan  1 20:54:11 2010
From: dan at phiffer.org (Dan Phiffer)
Date: Fri, 1 Jan 2010 12:54:11 -0800
Subject: [wp-hackers] URL question
Message-ID: <BDD6CD3C-8D4C-4377-B384-AE78DE33AB25@phiffer.org>

Hi all,

I just relaunched my personal website on WordPress and ran into an odd  
URL conflict. Here's my desired setup:

1. Posts get the URL structure: /category/slug
2. Photos are attached to a single Page with a custom template
3. Photo details are linked from /photos/ to /photos/attachment

This mostly works, but the photo detail URLs have an extra "/ 
attachment" part. So for instance I'd like http://phiffer.org/photos/attachment/2010-01-01/ 
  to instead be available at: http://phiffer.org/photos/2010-01-01/

This is possible with some mod_rewrite trickery, but it only seems to  
work for attachment slugs that don't include "2010" (because, I think,  
it conflicts with an archive path). So http://phiffer.org/photos/2009-12-27/ 
  works, but the one for today (linked above) doesn't work.

Is what I want feasible? Do I need to do some wp_rewrite stuff?

TIA,
-Dan

From dan at phiffer.org  Fri Jan  1 23:52:32 2010
From: dan at phiffer.org (Dan Phiffer)
Date: Fri, 1 Jan 2010 15:52:32 -0800
Subject: [wp-hackers] URL question
In-Reply-To: <BDD6CD3C-8D4C-4377-B384-AE78DE33AB25@phiffer.org>
References: <BDD6CD3C-8D4C-4377-B384-AE78DE33AB25@phiffer.org>
Message-ID: <43F79A98-35AA-49AC-9385-C9142AA70B36@phiffer.org>

Also, happy new year!

-Dan

On Jan 1, 2010, at 12:54 PM, Dan Phiffer <dan at phiffer.org> wrote:

> Hi all,
>
> I just relaunched my personal website on WordPress and ran into an  
> odd URL conflict. Here's my desired setup:
>
> 1. Posts get the URL structure: /category/slug
> 2. Photos are attached to a single Page with a custom template
> 3. Photo details are linked from /photos/ to /photos/attachment
>
> This mostly works, but the photo detail URLs have an extra "/ 
> attachment" part. So for instance I'd like http://phiffer.org/photos/attachment/2010-01-01/ 
>  to instead be available at: http://phiffer.org/photos/2010-01-01/
>
> This is possible with some mod_rewrite trickery, but it only seems  
> to work for attachment slugs that don't include "2010" (because, I  
> think, it conflicts with an archive path). So http://phiffer.org/photos/2009-12-27/ 
>  works, but the one for today (linked above) doesn't work.
>
> Is what I want feasible? Do I need to do some wp_rewrite stuff?
>
> TIA,
> -Dan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From dan at phiffer.org  Sat Jan  2 14:15:01 2010
From: dan at phiffer.org (Dan Phiffer)
Date: Sat, 2 Jan 2010 06:15:01 -0800
Subject: [wp-hackers] URL question
In-Reply-To: <43F79A98-35AA-49AC-9385-C9142AA70B36@phiffer.org>
References: <BDD6CD3C-8D4C-4377-B384-AE78DE33AB25@phiffer.org>
	<43F79A98-35AA-49AC-9385-C9142AA70B36@phiffer.org>
Message-ID: <5989C694-DEC3-4EE8-80D2-E0BC2DCF13BF@phiffer.org>

Hmm never mind all that. I think I've changed my mind about how I'll make this work. Image attachments wouldn't be very scalable (mainly due to the huge, non-paginated list of items). I probably can't get around creating a post for each entry, although there was a certain appeal to batch uploading 80 images and having it Just Work.

-Dan

On Jan 1, 2010, at 3:52 PM, Dan Phiffer wrote:

> Also, happy new year!
> 
> -Dan
> 
> On Jan 1, 2010, at 12:54 PM, Dan Phiffer <dan at phiffer.org> wrote:
> 
>> Hi all,
>> 
>> I just relaunched my personal website on WordPress and ran into an odd URL conflict. Here's my desired setup:
>> 
>> 1. Posts get the URL structure: /category/slug
>> 2. Photos are attached to a single Page with a custom template
>> 3. Photo details are linked from /photos/ to /photos/attachment
>> 
>> This mostly works, but the photo detail URLs have an extra "/attachment" part. So for instance I'd like http://phiffer.org/photos/attachment/2010-01-01/ to instead be available at: http://phiffer.org/photos/2010-01-01/
>> 
>> This is possible with some mod_rewrite trickery, but it only seems to work for attachment slugs that don't include "2010" (because, I think, it conflicts with an archive path). So http://phiffer.org/photos/2009-12-27/ works, but the one for today (linked above) doesn't work.
>> 
>> Is what I want feasible? Do I need to do some wp_rewrite stuff?
>> 
>> TIA,
>> -Dan
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From scribu at gmail.com  Sat Jan  2 14:20:00 2010
From: scribu at gmail.com (scribu)
Date: Sat, 2 Jan 2010 16:20:00 +0200
Subject: [wp-hackers] URL question
In-Reply-To: <5989C694-DEC3-4EE8-80D2-E0BC2DCF13BF@phiffer.org>
References: <BDD6CD3C-8D4C-4377-B384-AE78DE33AB25@phiffer.org>
	<43F79A98-35AA-49AC-9385-C9142AA70B36@phiffer.org>
	<5989C694-DEC3-4EE8-80D2-E0BC2DCF13BF@phiffer.org>
Message-ID: <349fe48b1001020620i1cd62e10s2fd8116899ed3ffc@mail.gmail.com>

For each attachment, you could create a new post automatically and then make
it the parent of said attachment.

See wp_insert_post().


On Sat, Jan 2, 2010 at 4:15 PM, Dan Phiffer <dan at phiffer.org> wrote:

> Hmm never mind all that. I think I've changed my mind about how I'll make
> this work. Image attachments wouldn't be very scalable (mainly due to the
> huge, non-paginated list of items). I probably can't get around creating a
> post for each entry, although there was a certain appeal to batch uploading
> 80 images and having it Just Work.
>
> -Dan
>
> On Jan 1, 2010, at 3:52 PM, Dan Phiffer wrote:
>
> > Also, happy new year!
> >
> > -Dan
> >
> > On Jan 1, 2010, at 12:54 PM, Dan Phiffer <dan at phiffer.org> wrote:
> >
> >> Hi all,
> >>
> >> I just relaunched my personal website on WordPress and ran into an odd
> URL conflict. Here's my desired setup:
> >>
> >> 1. Posts get the URL structure: /category/slug
> >> 2. Photos are attached to a single Page with a custom template
> >> 3. Photo details are linked from /photos/ to /photos/attachment
> >>
> >> This mostly works, but the photo detail URLs have an extra "/attachment"
> part. So for instance I'd like
> http://phiffer.org/photos/attachment/2010-01-01/ to instead be available
> at: http://phiffer.org/photos/2010-01-01/
> >>
> >> This is possible with some mod_rewrite trickery, but it only seems to
> work for attachment slugs that don't include "2010" (because, I think, it
> conflicts with an archive path). So http://phiffer.org/photos/2009-12-27/works, but the one for today (linked above) doesn't work.
> >>
> >> Is what I want feasible? Do I need to do some wp_rewrite stuff?
> >>
> >> TIA,
> >> -Dan
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From autremonde75 at gmail.com  Sat Jan  2 18:07:55 2010
From: autremonde75 at gmail.com (Olivier)
Date: Sat, 2 Jan 2010 10:07:55 -0800 (PST)
Subject: [wp-hackers] $_GET['user_id'] isn't working in 2.9 in
	profile_update hook
Message-ID: <a7bd4275-972f-4fd7-b731-e6cc135673a8@a15g2000yqm.googlegroups.com>

Hello,

If you add custom fields to the profile edition page, you will need
the user_id once you save it. This used to be achieved through
profile_update hook.

On 2.8, I can get the user_id value from $_GET['user_id'] through this
hook however in 2.9, it doesn't work anymore. I can however user $_POST
['user_id'] as a workaround but I just wanted to bring that fact here
since some plugins authors may suffer from this issue... Not sure if
this is really an issue indeed, maybe this was intentionnaly
restricted...

From wp at andrewnacin.com  Sat Jan  2 18:11:23 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sat, 2 Jan 2010 13:11:23 -0500
Subject: [wp-hackers] $_GET['user_id'] isn't working in 2.9 in
	profile_update hook
In-Reply-To: <a7bd4275-972f-4fd7-b731-e6cc135673a8@a15g2000yqm.googlegroups.com>
References: <a7bd4275-972f-4fd7-b731-e6cc135673a8@a15g2000yqm.googlegroups.com>
Message-ID: <4cc4de141001021011k616d2411i15f31a3aa3563e1a@mail.gmail.com>

Sounds like it was the result of:
http://core.trac.wordpress.org/ticket/11222
http://core.trac.wordpress.org/ticket/11271
And related changesets.

On Sat, Jan 2, 2010 at 1:07 PM, Olivier <autremonde75 at gmail.com> wrote:

> Hello,
>
> If you add custom fields to the profile edition page, you will need
> the user_id once you save it. This used to be achieved through
> profile_update hook.
>
> On 2.8, I can get the user_id value from $_GET['user_id'] through this
> hook however in 2.9, it doesn't work anymore. I can however user $_POST
> ['user_id'] as a workaround but I just wanted to bring that fact here
> since some plugins authors may suffer from this issue... Not sure if
> this is really an issue indeed, maybe this was intentionnaly
> restricted...
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From autremonde75 at gmail.com  Sat Jan  2 18:22:25 2010
From: autremonde75 at gmail.com (Olivier)
Date: Sat, 2 Jan 2010 10:22:25 -0800 (PST)
Subject: [wp-hackers] $_GET['user_id'] isn't working in 2.9 in
	profile_update hook
In-Reply-To: <4cc4de141001021011k616d2411i15f31a3aa3563e1a@mail.gmail.com>
References: <a7bd4275-972f-4fd7-b731-e6cc135673a8@a15g2000yqm.googlegroups.com>
	<4cc4de141001021011k616d2411i15f31a3aa3563e1a@mail.gmail.com>
Message-ID: <af7e2c79-74dc-4ead-87e8-a686d8304974@k17g2000yqh.googlegroups.com>

Yes potentially but $_POST['user_id'] is still working. Please note
that I am not complaining about that, I am just pointing this out for
completness and to make sure that what is being seen with $_GET
['user_id'] not working is really what is intended.

On Jan 2, 7:11?pm, Andrew Nacin <w... at andrewnacin.com> wrote:
> Sounds like it was the result of:http://core.trac.wordpress.org/ticket/11222http://core.trac.wordpress.org/ticket/11271
> And related changesets.
>
>
>
>
>
> On Sat, Jan 2, 2010 at 1:07 PM, Olivier <autremond... at gmail.com> wrote:
> > Hello,
>
> > If you add custom fields to the profile edition page, you will need
> > the user_id once you save it. This used to be achieved through
> > profile_update hook.
>
> > On 2.8, I can get the user_id value from $_GET['user_id'] through this
> > hook however in 2.9, it doesn't work anymore. I can however user $_POST
> > ['user_id'] as a workaround but I just wanted to bring that fact here
> > since some plugins authors may suffer from this issue... Not sure if
> > this is really an issue indeed, maybe this was intentionnaly
> > restricted...
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hack... at lists.automattic.com
> >http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers- Hide quoted text -
>
> - Show quoted text -

From pete at jointforcestech.com  Sat Jan  2 19:55:44 2010
From: pete at jointforcestech.com (Pete Mall)
Date: Sat, 2 Jan 2010 11:55:44 -0800
Subject: [wp-hackers] WordPress Transients API
Message-ID: <7f49e8011001021155x306bd3fdx48f950333bf96216@mail.gmail.com>

I'm having a problem with the WordPress transients API. I'm trying to save a
SimpleXMLElement Object and I don't think it is being stored properly. Am I
missing something or is there a problem handling SimpleXMLElement Objects?


   1. print_r <http://www.php.net/print_r>( $record ); // ==>
   SimpleXMLElement Object ( [name] => www [data] => 111.111.111.111 [ttl] =>
   86400 [aux] => 0 [id] => 111111 [zone-id] => 111111 [record-type] => A
   [active] => Y )
   2. set_transient( 'my_transient_001', $record, 60*2 );
   3. print_r <http://www.php.net/print_r>( get_transient(
   'my_transient_001' ) ); // ==> SimpleXMLElement Object ( )

From peter.westwood at ftwr.co.uk  Sat Jan  2 22:06:41 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat, 2 Jan 2010 22:06:41 +0000
Subject: [wp-hackers] WordPress Transients API
In-Reply-To: <7f49e8011001021155x306bd3fdx48f950333bf96216@mail.gmail.com>
References: <7f49e8011001021155x306bd3fdx48f950333bf96216@mail.gmail.com>
Message-ID: <1F125447-30EE-4A5D-BE62-93AA7A0EA55C@ftwr.co.uk>


On 2 Jan 2010, at 19:55, Pete Mall wrote:

> I'm having a problem with the WordPress transients API. I'm trying  
> to save a
> SimpleXMLElement Object and I don't think it is being stored  
> properly. Am I
> missing something or is there a problem handling SimpleXMLElement  
> Objects?
>
>
>   1. print_r <http://www.php.net/print_r>( $record ); // ==>
>   SimpleXMLElement Object ( [name] => www [data] => 111.111.111.111  
> [ttl] =>
>   86400 [aux] => 0 [id] => 111111 [zone-id] => 111111 [record-type]  
> => A
>   [active] => Y )
>   2. set_transient( 'my_transient_001', $record, 60*2 );
>   3. print_r <http://www.php.net/print_r>( get_transient(
>   'my_transient_001' ) ); // ==> SimpleXMLElement Object ( )

I think this is because the SimpleXMLElement objects don't support  
being serialized and unserialized.

At least that is the impression I get from here: http://php.net/manual/en/function.simplexml-load-string.php

Cheers

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From pete at jointforcestech.com  Sat Jan  2 22:32:04 2010
From: pete at jointforcestech.com (Pete Mall)
Date: Sat, 2 Jan 2010 14:32:04 -0800
Subject: [wp-hackers] WordPress Transients API
In-Reply-To: <1F125447-30EE-4A5D-BE62-93AA7A0EA55C@ftwr.co.uk>
References: <7f49e8011001021155x306bd3fdx48f950333bf96216@mail.gmail.com> 
	<1F125447-30EE-4A5D-BE62-93AA7A0EA55C@ftwr.co.uk>
Message-ID: <7f49e8011001021432q5e36f890m4bc8fe20f1b4005d@mail.gmail.com>

There is indeed a problem with SimpleXML serialization... I was able to work
around it by serializing the SimpleXML object before set_transient and using
the following code after get_transient:

unserialize( str_replace( array( 'O:16:"SimpleXMLElement":0:{}',
'O:16:"SimpleXMLElement":' ), array( 's:0:"";', 'O:8:"stdClass":' ), $str )
);


On Sat, Jan 2, 2010 at 2:06 PM, Peter Westwood <peter.westwood at ftwr.co.uk>wrote:

>
> On 2 Jan 2010, at 19:55, Pete Mall wrote:
>
>  I'm having a problem with the WordPress transients API. I'm trying to save
>> a
>> SimpleXMLElement Object and I don't think it is being stored properly. Am
>> I
>> missing something or is there a problem handling SimpleXMLElement Objects?
>>
>>
>>  1. print_r <http://www.php.net/print_r>( $record ); // ==>
>>
>>  SimpleXMLElement Object ( [name] => www [data] => 111.111.111.111 [ttl]
>> =>
>>  86400 [aux] => 0 [id] => 111111 [zone-id] => 111111 [record-type] => A
>>  [active] => Y )
>>  2. set_transient( 'my_transient_001', $record, 60*2 );
>>  3. print_r <http://www.php.net/print_r>( get_transient(
>>
>>  'my_transient_001' ) ); // ==> SimpleXMLElement Object ( )
>>
>
> I think this is because the SimpleXMLElement objects don't support being
> serialized and unserialized.
>
> At least that is the impression I get from here:
> http://php.net/manual/en/function.simplexml-load-string.php
>
> Cheers
>
> westi
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From eckman.john at gmail.com  Sun Jan  3 20:43:31 2010
From: eckman.john at gmail.com (John Eckman)
Date: Sun, 3 Jan 2010 15:43:31 -0500
Subject: [wp-hackers] Static Front page setting, accessing from a plugin?
Message-ID: <A77FB40B-7110-45D7-8B12-2DE65CF5DA59@gmail.com>

Hello and happy new year all. 

Is it possible to access, from inside a plugin, whether the user has set a static homepage, and if so, what they have as their posts-page?

(I'm talking about the settings in Settings->Reading where you can set a "static page" as the home page and then set another page for use as your posts page).

I'm working on a plugin where it makes sense that under some conditions you might want to override that "static home page" setting and display the regular "posts page" instead - but I can't see any simple way to do that. 

It seems that I can check for these two conditional tags: (is_front_page() && (!is_home()))

Which tells me when I am loading the front page and I'm NOT in the default "list of blog posts" page. (Because is_home will be false on the static front page, but is_front_page will be true). 

But how can I then "redirect" to what the posts page is, when that condition is true?

Thanks for any pointers and sorry if I missed an RTFM somewhere . . . 


----------------------------------------
John Eckman
eckman.john at gmail.com






From aesqe at skyphe.org  Sun Jan  3 21:21:13 2010
From: aesqe at skyphe.org (aesqe)
Date: Sun, 03 Jan 2010 22:21:13 +0100
Subject: [wp-hackers] Static Front page setting, accessing from a plugin?
In-Reply-To: <A77FB40B-7110-45D7-8B12-2DE65CF5DA59@gmail.com>
References: <A77FB40B-7110-45D7-8B12-2DE65CF5DA59@gmail.com>
Message-ID: <4B410A49.3000208@skyphe.org>

unless i got it all wrong:

get_option("show_on_front") will tell you if the user has set a static 
homepage (value is either "page" or "posts")

get_option("page_for_posts") will give you the ID of the page used as 
posts page (or FALSE if no value has been set)


cheers :)

On 3.1.2010 21:43, John Eckman wrote:
> Hello and happy new year all.
>
> Is it possible to access, from inside a plugin, whether the user has set a static homepage, and if so, what they have as their posts-page?

-- 
Bruno "Aesqe" Babic
-----------------------------------------
http://skyphe.org .:. http://breedart.org

From esmi at quirm.net  Sun Jan  3 21:22:23 2010
From: esmi at quirm.net (esmi at quirm dot net)
Date: Sun, 03 Jan 2010 21:22:23 +0000
Subject: [wp-hackers] Static Front page setting, accessing from a plugin?
In-Reply-To: <A77FB40B-7110-45D7-8B12-2DE65CF5DA59@gmail.com>
References: <A77FB40B-7110-45D7-8B12-2DE65CF5DA59@gmail.com>
Message-ID: <4B410A8F.1070001@quirm.net>

on 03/01/2010 20:43 John Eckman said the following:
> Hello and happy new year all.
> 
> Is it possible to access, from inside a plugin, whether the user has
> set a static homepage, and if so, what they have as their posts-page?

<?php if( get_option('show_on_front' ) == 'page' ) $posts_page_id = 
get_option('page_for_posts');?>

<http://codex.wordpress.org/Function_Reference/get_option>
<http://codex.wordpress.org/Option_Reference>

HTH

esmi

From mikeschinkel at newclarity.net  Sun Jan  3 23:50:39 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 3 Jan 2010 18:50:39 -0500
Subject: [wp-hackers] Static Front page setting, accessing from a plugin?
In-Reply-To: <A77FB40B-7110-45D7-8B12-2DE65CF5DA59@gmail.com>
References: <A77FB40B-7110-45D7-8B12-2DE65CF5DA59@gmail.com>
Message-ID: <2B99DBA1-4108-4BC9-AD38-1B72336FE9A6@newclarity.net>

Your answer might be in hooking the 'home_template' hook and routing them to a custom page and/or hooking the 'query' hook and modifying the query. Not sure w/o testing it and ATM no time for that.  Be aware that WordPress processes it's URL as queries so you have to make sure it's processing like you think it should. Have a look at /wp-includes/template-loader.php to understand some of how it routes.

HTH

-Mike


On Jan 3, 2010, at 3:43 PM, John Eckman wrote:

> Hello and happy new year all. 
> 
> Is it possible to access, from inside a plugin, whether the user has set a static homepage, and if so, what they have as their posts-page?
> 
> (I'm talking about the settings in Settings->Reading where you can set a "static page" as the home page and then set another page for use as your posts page).
> 
> I'm working on a plugin where it makes sense that under some conditions you might want to override that "static home page" setting and display the regular "posts page" instead - but I can't see any simple way to do that. 
> 
> It seems that I can check for these two conditional tags: (is_front_page() && (!is_home()))
> 
> Which tells me when I am loading the front page and I'm NOT in the default "list of blog posts" page. (Because is_home will be false on the static front page, but is_front_page will be true). 
> 
> But how can I then "redirect" to what the posts page is, when that condition is true?
> 
> Thanks for any pointers and sorry if I missed an RTFM somewhere . . . 
> 
> 
> ----------------------------------------
> John Eckman
> eckman.john at gmail.com
> 
> 
> 
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wphax at nullamatix.com  Mon Jan  4 00:13:56 2010
From: wphax at nullamatix.com (Guy)
Date: Sun, 3 Jan 2010 19:13:56 -0500
Subject: [wp-hackers] How to prevent loading admin components?
Message-ID: <88e844b41001031613t4287900cm3310720987a4921e@mail.gmail.com>

Example link: /wp-admin/tools.php?page=name_of_my_plugin&comment_number=50753

The desired information/data is show; however, in addition to the
desired information, the entire admin interface is loaded. How can I
prevent the admin header & nav menus/items from loading when clicking
that link? The link pops up into a lightbox or other type of pop-up
window, so reloaded and wrapping the admin interface around the data
isn't desired.

To illustrate my request ... http://i.imgur.com/kO68A.png

Regards,

Guy

From timberge at cs.tu-berlin.de  Mon Jan  4 01:32:55 2010
From: timberge at cs.tu-berlin.de (Tim Berger)
Date: Mon, 04 Jan 2010 02:32:55 +0100
Subject: [wp-hackers] podPress maintenance
Message-ID: <4B414547.90402@cs.tu-berlin.de>

Hello and a happy new year!

In the last year, I have submitted some bug fixes (e.g.
http://plugins.trac.wordpress.org/ticket/1037) for the podPress plugin
which are now in podPress 8.8.2.
But I have made a mistake and build in at least one bug myself as you
can read here (http://twitter.com/disneymaniac/statuses/7275585904). I
have created a ticket and patch in the plugins trac
(http://plugins.trac.wordpress.org/ticket/1055) to solve this problem
and Andrew Ozz will probably release a further maintenance release of
podPress.

Beyond that I have would like to change some other things in the plugin.
But it would be nice if i would know someone or people i could discuss
the next steps. Basically i would like to maintain podpress a little
while until Dan or someone else continues the development of the plugin.
I see myself more like a holiday replacement for Dan or someone else who
is more experienced and skilled than I am.
But i definitely want to correct my mistakes as soon as possible.
In this context: Could you make it possible for me to add patches to the
trunk version of podPress? This way technical-minded podcasters would
have the chance to test the changes before the next release(s) of
podPress. (I'm only a podcast listener.) (Or is there a possibility that
I could do such maintenance releases of podPress myself?)

The next issues i would like to look into are:
- the XSPF Feed is not valid because the duration values are not
converted to milliseconds
- there seems to be a problem with the XSPF player which is part of a
widget of podPress and none-ASCII characters.
- the preview player for video file is visible if the podcast episodes
are e.g. .m4a file (There are probably some style problems connected to
this preview player, too, as you can see here: http://www.mobile-macs.de/)
- nearly all of the data from the forms on the podpress admin pages are
stored to the data base unevaluated (Am I wrong here? I thought that it
is necessary and advisable to control the data which are on the into the
database and vice versa. Or does update_option() evaluate the data enough?)

Andrew Ozz told me that you might want to know more about my experience
with WP plugins. The "Custom Field List Widget" plugin is hosted on
wordpress.org and my profile is http://profiles.wordpress.org/ntm/.
But i have written, adopted and adapted other plugins, too. You can find
these other plugins at http://undeuxoutrois.de/.

Regards,
Tim

From william.canino at googlemail.com  Mon Jan  4 02:27:21 2010
From: william.canino at googlemail.com (William Canino)
Date: Sun, 3 Jan 2010 21:27:21 -0500
Subject: [wp-hackers] Inline comments and comment form in Archives view (a
	la Facebook)
Message-ID: <e4dc67e1001031827h392c6607r6e62fdd13d47bfa5@mail.gmail.com>

Guys I couldn't find a plugin to do this but you might know better.

I want the ability to display the post's most recent comment, plus
"post a comment" form, after each post in Archive pages (date,
category, tag templates).

The most familiar example of what I want is Facebook's Wall.

Many thanks.

From batmoo at gmail.com  Mon Jan  4 03:25:21 2010
From: batmoo at gmail.com (Mohammad Jangda)
Date: Sun, 3 Jan 2010 22:25:21 -0500
Subject: [wp-hackers] Inline comments and comment form in Archives view
	(a la Facebook)
In-Reply-To: <e4dc67e1001031827h392c6607r6e62fdd13d47bfa5@mail.gmail.com>
References: <e4dc67e1001031827h392c6607r6e62fdd13d47bfa5@mail.gmail.com>
Message-ID: <eaaa36c91001031925g7b4889ci69f2f17e2e29fe57@mail.gmail.com>

>
> I want the ability to display the post's most recent comment, plus "post a
> comment" form, after each post in Archive pages (date, category, tag
> templates).


Take a look at the P2 theme (http://wordpress.org/extend/themes/p2) -- you
can probably pull code from it to do what you want. See it in action on the
WP Development blog: http://wpdevel.wordpress.com/.

From jbouantoun at gmail.com  Mon Jan  4 06:02:53 2010
From: jbouantoun at gmail.com (John BouAntoun)
Date: Mon, 4 Jan 2010 17:02:53 +1100
Subject: [wp-hackers] Question about the architecture of the admin
	widgets.php
Message-ID: <cca7a9d01001032202h6b2a8496s342f0b3a7d8b7cd1@mail.gmail.com>

Hi guys,

I'm one of the devs on the about me widget, and I've had to do some
ugly/evil things to the widget to get it to work in WP 2.9 and wanted some
advice.

The main thing we try and do is embed the mce editor in the widget
administration page. In order to do that I need to catch the click events of
the widget-action control and the widget-save button to do an
mce.triggerSave() so that the control's text is saved to the db.

In WP 2.9 the two controls who's click event I was trying to catch now use
the live('click') approach, instead of the bind('click') approach, which
makes it more difficult for me to catch the click events and run my custom
code prior to triggering the default behaviour.

I have come up with a work around:
1. Do a bind('click') that return's true on the widget-action's parent
    - this allows me to do my pre-display mce widget clean up and then let
the control unwrap itself
2. Do a bind('click') that returns false on the save button
    - this allows me to do a triggerSave on MCE and then manually call the
save function.

Both these approaches are ugly hacks, and what I would rather have is a
mechanism for handling a administration form event into the event queue.
Something like savebutton.queueEvent('click', start, function(){..}); that
would allow me to queue my event at the beginning of the click processing
order, so that I could, for example perform validation and data clean up
before the default widgets.php boiler plate code handles the db save.

So the general solution would be to use a queuable event binding mechanism
for all events in Wordpress, but failing that, the specific solution would
be to allow me to wire in a pre-display event and a pre-save event, to allow
me to do my mce control clean up and save triggering.

Can anyone suggest a better approach to solve my issue or let me know the
likelyhood of either solution (general or specific) happening in the near
future so that I know if it's worth updating my plugin with the dirty hack
or not?

Regards,

JBA

From wordpress at dd32.id.au  Mon Jan  4 06:41:24 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Mon, 04 Jan 2010 17:41:24 +1100
Subject: [wp-hackers] How to prevent loading admin components?
In-Reply-To: <88e844b41001031613t4287900cm3310720987a4921e@mail.gmail.com>
References: <88e844b41001031613t4287900cm3310720987a4921e@mail.gmail.com>
Message-ID: <op.u5zwvagmspxmuu@dd32>

You'll need to hook into an early hook in the admin section for your page.

Add
add_action('all', create_function('', 'var_dump(current_filter());'));
to your plugin file,it'll print the name of every action hook which is run.

For example, I can see amongst it all, This hook:  
"load-settings_page_revision-control" for the page  
wp-admin/options-general.php?page=revision-control

Yours will be something like "load-tools_name_of_my_plugin", But it'll  
vary, so if you dump and then look for the action hook starting with  
"load-" you'll be right.

Example code to use would be:

add_action('load-settings_page_revision-control', 'rc_page');
function rc_page() {
	iframe_header();
	echo '<h1>Hello World!</h1>';
	iframe_footer();
	exit; //Die to prevent the page continueing loading and adding the admin  
menu's etc.
}

A tricky thing you can do, Is if you know the page may load in thickbox or  
normal, is to hook that action to thesame as the menu name, and then check  
if it was loaded in TB or not:

add_menu_page('......', 'rc_page');
add_action('load-settings_page_revision-control', 'rc_page_maybe_iframe');

function rc_page_maybe_iframe() {
	if ( isset($_GET['TB_iframe']) )
		return; // If the TB Iframe marker is not set, then its been loaded via  
Thickbox, But if it IS set, then Thickbox has not been used.
	iframe_header();
	rc_page();
	iframe_footer();
	exit; //Die to prevent the page continueing loading and adding the admin  
menu's etc.
}
function rc_page() {
	echo '<h1>Hello World!</h1>';
}

Thats good for users without Javascript, and those of us who Middle-click  
to open in a new tab or whatever.. Get the thickbox without the menu's if  
within thickbox, else get the menu's and a easy way of navigating away  
otherwise.

as for iframe_header(), i'd advise you use those, you can check out the  
code for them in wp-admin/includes/template.php i think, else its misc.php.
reason being, is that it prints the scripts/styles as well as the footer  
stuff and all that..


On Mon, 04 Jan 2010 11:13:56 +1100, Guy <wphax at nullamatix.com> wrote:

> Example link:  
> /wp-admin/tools.php?page=name_of_my_plugin&comment_number=50753
>
> The desired information/data is show; however, in addition to the
> desired information, the entire admin interface is loaded. How can I
> prevent the admin header & nav menus/items from loading when clicking
> that link? The link pops up into a lightbox or other type of pop-up
> window, so reloaded and wrapping the admin interface around the data
> isn't desired.
>
> To illustrate my request ... http://i.imgur.com/kO68A.png
>
> Regards,
>
> Guy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
Web: http://dd32.id.au/

From ryan at pixopoint.com  Mon Jan  4 12:40:25 2010
From: ryan at pixopoint.com (Ryan Hellyer)
Date: Tue, 5 Jan 2010 01:40:25 +1300
Subject: [wp-hackers] Combining plugins
Message-ID: <3d9d0f061001040440j63294e9dpb9e642c6e4edc0c3@mail.gmail.com>

Hi,
I have two plugins, which I inadvertently (stupidly?) ended up making almost
identical to each other. I originally intended for them to fit different
needs, but they've ended up serving almost exactly the same purpose and I've
been actively maintaining the two of them for quite a while now. This was a
stupid screw up on my part and is confusing as heck for the users of my
plugin so I obviously need to remedy the situation. I'm intending to move
everyone from the Multi-level Navigation plugin (the initial one I released)
to an entirely recoded version of the PixoPoint Menu plugin which (my
current test version of) now has ALL of the features of the Multi-level
navigation plugin and includes an auto-upgrader for users of the older
plugin to upgrade to the newer plugin.

Is there any way I can have the Multi-level navigation plugins URL in the WP
repository redirected to the PixoPoint Menu plugin? And can the number of
downloads etc. be transferred over?

I'm guessing the answer will be no as this is presumably not something
normally offered, but I thought I'd ask just in case whoever is in charge of
the repository is able to help me out with this. I don't want to lose all of
the links back to the old page and I don't want to lose all of those
download numbers if possible. If needs be, I'll just leave a notice on the
older plugin telling people to go to the newer plugins WP.org page, but I'd
rather it was all just redirected seamlessly if possible. I spent a lot of
time building up links to the original page and it seems unhelpful for it
not to redirect to the correct page.

http://wordpress.org/extend/plugins/multi-level-navigation-plugin/
http://wordpress.org/extend/plugins/pixopoint-menu/

NOTE: The PixoPoint menu plugin is not ready for this just yet as I haven't
even started beta testing of the one which can do everything that the
Multi-level navigation plugin can yet.

thanks,
Ryan Hellyer
PixoPoint web development
http://pixopoint.com/

From kikizas at gmail.com  Mon Jan  4 14:28:17 2010
From: kikizas at gmail.com (Demetris)
Date: Mon, 4 Jan 2010 16:28:17 +0200
Subject: [wp-hackers] Combining plugins
In-Reply-To: <3d9d0f061001040440j63294e9dpb9e642c6e4edc0c3@mail.gmail.com>
References: <3d9d0f061001040440j63294e9dpb9e642c6e4edc0c3@mail.gmail.com>
Message-ID: <9f34a3611001040628i64e4fcb5i406400a620d047c@mail.gmail.com>

Ryan,

I suppose that what you hope for is not possible.

And, if that is the case, I?m happy.  If what you ask for was
allowed/possible, it would be bad for everyone, plugin authors and
plugin users alike, and it would probably make the repo unmaintainable
in a very short time.

If I were you, I would simply do a permanent redirect from the old
plugin page to the new plugin page, and I would also add a notice the
the wp.org page of the old plugin.  (And probably a final release of
the old plugin too, which would include a notice in the Options area,
along with links to help migrating to the new plugin.)

Cheers!

Demetris,
http://op111.net/

From otto at ottodestruct.com  Mon Jan  4 14:30:21 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 4 Jan 2010 08:30:21 -0600
Subject: [wp-hackers] Patching up FeedSmith
In-Reply-To: <9066fa250912301653w2a2702d0o4048c4a99ef92c28@mail.gmail.com>
References: <9066fa250912301653w2a2702d0o4048c4a99ef92c28@mail.gmail.com>
Message-ID: <161617691001040630u7d65487p3aacbc99f3cf94dd@mail.gmail.com>

Feedburner Feedsmith works fine for me with WP 2.9.  I'm using a
slightly modified version of 2.2 though, not 2.3. I don't see anything
different in 2.3 that should affect it, however.

-Otto



On Wed, Dec 30, 2009 at 6:53 PM, Yang Zhang <yanghatespam at gmail.com> wrote:
> Hi, I installed & configured FeedSmith 2.3 to my WordPress 2.9, but my
> feeds aren't being redirected. http://y_z.scripts.mit.edu/wp/feed is
> still the original feed. Any hints? I suspect that the
> template_redirect hook isn't actually getting fired, but I'm not sure
> where's the proper place to move things. Thanks in advance.
> --
> Yang Zhang
> http://www.mit.edu/~y_z/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From aaron at xavisys.com  Mon Jan  4 19:04:18 2010
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Mon, 04 Jan 2010 12:04:18 -0700
Subject: [wp-hackers] Combining plugins
In-Reply-To: <3d9d0f061001040440j63294e9dpb9e642c6e4edc0c3@mail.gmail.com>
References: <3d9d0f061001040440j63294e9dpb9e642c6e4edc0c3@mail.gmail.com>
Message-ID: <4B423BB2.4020703@xavisys.com>

I don't think you can bring across your stats (and I'm glad this is the 
case), but *I think* you should be able to migrate people rather 
easily.  Note: I haven't tried this before:

   1. You need to make sure that the plugin you want to keep has a
      higher version than the one you're phasing out.
   2. Take the comments from the top of the new plugin (for version,
      plugin name, plugin URL, etc)  and put it into a new version of
      the old plugin.
   3. Your userbase should see that there's a new version of the plugin
      and upgrade.  Then, the new version will check a different place
      in the wordpress.org repository (because of the new comments) and
      as long as the version number is higher on the new plugin they'll
      see that another upgrade is available, which should switch them to
      the new plugin.

Let me know how it works.

Ryan Hellyer wrote:
> Is there any way I can have the Multi-level navigation plugins URL in the WP
> repository redirected to the PixoPoint Menu plugin? And can the number of
> downloads etc. be transferred over?
>   


From jbouantoun at gmail.com  Mon Jan  4 21:35:49 2010
From: jbouantoun at gmail.com (John BouAntoun)
Date: Tue, 5 Jan 2010 08:35:49 +1100
Subject: [wp-hackers] Question about the architecture of the admin
	widgets.php
References: <cca7a9d01001032202h6b2a8496s342f0b3a7d8b7cd1@mail.gmail.com>
Message-ID: <35C2D8FF-5476-465F-A63D-8FABCB07FC92@gmail.com>

> Hi guys,
>
> I'm one of the devs on the about me widget, and I've had to do some  
> ugly/evil things to the widget to get it to work in WP 2.9 and  
> wanted some advice.
>
> The main thing we try and do is embed the mce editor in the widget  
> administration page. In order to do that I need to catch the click  
> events of the widget-action control and the widget-save button to do  
> an mce.triggerSave() so that the control's text is saved to the db.
>
> In WP 2.9 the two controls who's click event I was trying to catch  
> now use the live('click') approach, instead of the bind('click')  
> approach, which makes it more difficult for me to catch the click  
> events and run my custom code prior to triggering the default  
> behaviour.
>
> I have come up with a work around:
> 1. Do a bind('click') that return's true on the widget-action's parent
>     - this allows me to do my pre-display mce widget clean up and  
> then let the control unwrap itself
> 2. Do a bind('click') that returns false on the save button
>     - this allows me to do a triggerSave on MCE and then manually  
> call the save function.
>
> Both these approaches are ugly hacks, and what I would rather have  
> is a mechanism for handling a administration form event into the  
> event queue. Something like savebutton.queueEvent('click', start,  
> function(){..}); that would allow me to queue my event at the  
> beginning of the click processing order, so that I could, for  
> example perform validation and data clean up before the default  
> widgets.php boiler plate code handles the db save.
>
> So the general solution would be to use a queuable event binding  
> mechanism for all events in Wordpress, but failing that, the  
> specific solution would be to allow me to wire in a pre-display  
> event and a pre-save event, to allow me to do my mce control clean  
> up and save triggering.
>
> Can anyone suggest a better approach to solve my issue or let me  
> know the likelyhood of either solution (general or specific)  
> happening in the near future so that I know if it's worth updating  
> my plugin with the dirty hack or not?
>
> Regards,
>
> JBA

From scribu at gmail.com  Mon Jan  4 22:09:12 2010
From: scribu at gmail.com (scribu)
Date: Tue, 5 Jan 2010 00:09:12 +0200
Subject: [wp-hackers] Question about the architecture of the admin
	widgets.php
In-Reply-To: <35C2D8FF-5476-465F-A63D-8FABCB07FC92@gmail.com>
References: <cca7a9d01001032202h6b2a8496s342f0b3a7d8b7cd1@mail.gmail.com>
	<35C2D8FF-5476-465F-A63D-8FABCB07FC92@gmail.com>
Message-ID: <349fe48b1001041409n3ce16049hdb31b4073b5dc87e@mail.gmail.com>

If you sent a duplicate email on purpose, please don't do it again. Thanks.

-- 
http://scribu.net

From skeltoac at gmail.com  Mon Jan  4 22:45:00 2010
From: skeltoac at gmail.com (Andy Skelton)
Date: Mon, 4 Jan 2010 17:45:00 -0500
Subject: [wp-hackers] Question about the architecture of the admin
	widgets.php
In-Reply-To: <349fe48b1001041409n3ce16049hdb31b4073b5dc87e@mail.gmail.com>
References: <cca7a9d01001032202h6b2a8496s342f0b3a7d8b7cd1@mail.gmail.com>
	<35C2D8FF-5476-465F-A63D-8FABCB07FC92@gmail.com>
	<349fe48b1001041409n3ce16049hdb31b4073b5dc87e@mail.gmail.com>
Message-ID: <e6ec604d1001041445s30850d8am265022c2ebe095c2@mail.gmail.com>

On Mon, Jan 4, 2010 at 5:09 PM, scribu <scribu at gmail.com> wrote:
> If you sent a duplicate email on purpose, please don't do it again. Thanks.

This adds nothing of value.

On Mon, Jan 4, 2010 at 1:02 AM, John BouAntoun <jbouantoun at gmail.com> wrote:
> So the general solution would be to use a queuable event binding mechanism
> for all events in Wordpress, but failing that, the specific solution would
> be to allow me to wire in a pre-display event and a pre-save event, to allow
> me to do my mce control clean up and save triggering.

The way TinyMCE is integrated into WordPress, you already have a
general method for extending TinyMCE in plugins and themes. Use
WordPress action hooks to inject your javascript at the appropriate
times. Use filters to modify the editor's configuration.

> Can anyone suggest a better approach to solve my issue or let me know the
> likelyhood of either solution (general or specific) happening in the near
> future so that I know if it's worth updating my plugin with the dirty hack
> or not?

Study the way WordPress modifies the behavior of TinyMCE. Then do as core does.

Cheers,
Andy

From jbouantoun at gmail.com  Mon Jan  4 22:59:14 2010
From: jbouantoun at gmail.com (John BouAntoun)
Date: Tue, 5 Jan 2010 09:59:14 +1100
Subject: [wp-hackers] Question about the architecture of the admin
	widgets.php
In-Reply-To: <e6ec604d1001041445s30850d8am265022c2ebe095c2@mail.gmail.com>
References: <cca7a9d01001032202h6b2a8496s342f0b3a7d8b7cd1@mail.gmail.com>
	<35C2D8FF-5476-465F-A63D-8FABCB07FC92@gmail.com>
	<349fe48b1001041409n3ce16049hdb31b4073b5dc87e@mail.gmail.com>
	<e6ec604d1001041445s30850d8am265022c2ebe095c2@mail.gmail.com>
Message-ID: <cca7a9d01001041459n457ccf0g33eda6f2b259374e@mail.gmail.com>

Thanks for the response Andy. My responses in-line

On Tue, Jan 5, 2010 at 9:45 AM, Andy Skelton <skeltoac at gmail.com> wrote:

> On Mon, Jan 4, 2010 at 5:09 PM, scribu <scribu at gmail.com> wrote:
> > If you sent a duplicate email on purpose, please don't do it again.
> Thanks.
>
> This adds nothing of value.
>
> On Mon, Jan 4, 2010 at 1:02 AM, John BouAntoun <jbouantoun at gmail.com>
> wrote:
> > So the general solution would be to use a queuable event binding
> mechanism
> > for all events in Wordpress, but failing that, the specific solution
> would
> > be to allow me to wire in a pre-display event and a pre-save event, to
> allow
> > me to do my mce control clean up and save triggering.
>
> The way TinyMCE is integrated into WordPress, you already have a
> general method for extending TinyMCE in plugins and themes. Use
> WordPress action hooks to inject your javascript at the appropriate
> times. Use filters to modify the editor's configuration.
>

I believe I made a decent attempt at this already, which has gotten me to
this point, but am open to the fact that I might be missing something. I
believe the source code will provide a more simple explanation than me
typing it out, but am concerned that the mailing list won't allow
attachments through. I've copied the snippet of the js code in here
(apologies for the verbosity). I appreciate that I might not be doing things
the cleanest way, but that's the reason I've emailed this mailing list. I've
read through much of the WP code and API documentation to get to this point
of knowledge.

// register some helper functions
        if(!is_numeric($this->number)) {
            echo "
                <script type='text/javascript'>
                /* <![CDATA[ */
                // function to fix the save event of a control
                function fixWidgetSaveEvent(widgetTitleSelector) {
                    // make sure tinymce copies it's data to the text editor
before save
                    var savebutton = jQuery('.widget-control-save',
jQuery(widgetTitleSelector).closest('form'));

                    // unbind old click event
                    savebutton.unbind('click');

                    //
                    // DIRTY! DIRTY! DIRTY. As of WP 2.9 the devs use a
live('click) event on the all save buttons which means I can't override it
                    //
                    // So we just add a bind('click') call to the button
itself and return false which runs before the button's live('click') event
and cancels it. dirty but it works so long as we return true
                    //
                    // rebind new click event
                    savebutton.bind('click', function(){
                        tinyMCE.triggerSave();
                        // call old click event functionality
                        wpWidgets.save( jQuery(this).parents('.widget'), 0,
1, 0 );
                        return false;
                        });
                }

                // actually bind another method on the click event of the
open arrow to remove/readd the mce editor to work around a ajax issue
                function fixWidgetOpenEvent(button, mceEditorID,
mceInitObject) {

                    //
                    // DIRTY! DIRTY! DIRTY. As of WP 2.9 the devs use a
live('click) event on all edit widget buttons which means I can't override
it
                    //
                    // So we just add a bind('click') call to the button's
parent which runs before the child's live('click') event. dirty but it works
so long as we return true
                    //
                    // register the pre-save function to trigger an mce save
                    button.parent().bind('click', function(){

                        var inside = jQuery('#' +
mceEditorID).parents('.widget').children('.widget-inside');
                        if(inside.is(':hidden')) {
                            //
                            // DIRTY! DIRTY! DIRTY. For some reason after a
re-sort of the sidebar there are two rich editor elements with the same
parent id even though jQuery says there is only one,
                            //
                            // So we just remove them all and readd,
everytime the panel is opened
                            //
                            var editorCount = jQuery('.mceEditor',
jQuery('#' + mceEditorID).closest('form')).length;


                            for(i = 0; i < editorCount; i++) {
                                jQuery('#' + mceEditorID +
'_parent').remove();
                            }

                            tinyMCE.init(mceInitObject.mceInit);
                            tinyMCE.get(mceEditorID).show();

                            // ajax event fix ups
                            fixWidgetSaveEvent('#' + mceEditorID);
                        }
                        return true;
                    });

                }
                /* ]]> */
                </script>
            ";
        }

        echo "
            <script type='text/javascript'>
            // initialise the editor
            tinyMCEPreInit_" . $this->number . " = {
                    base : '" . get_bloginfo('wpurl') .
"/wp-includes/js/tinymce',
                    suffix : '',
                    query : '" . $ver ."',
                    mceInit : {" .$mce_options . "},
                    load_ext : function(url,lang){var
sl=tinymce.ScriptLoader;sl.markDone(url+'/langs/'+lang+'.js');sl.markDone(url+'/langs/'+lang+'_dlg.js');sl.markDone(url+'/themes/advanced/langs/'+lang+'.js');}
                };
            tinyMCEPreInit_" . $this->number . ".load_ext(tinyMCEPreInit_" .
$this->number . ".base, 'en');
            tinyMCE.init(tinyMCEPreInit_" . $this->number . ".mceInit);

            // workaround to make the sorting not break the tinyMCEeditor
            fixWidgetOpenEvent(jQuery('a.widget-action', jQuery('#"
.$this->get_field_id('title') . "').parents('.widget')), '" .
$this->get_field_id('aboutmehtml') . "',tinyMCEPreInit_" . $this->number .
");

            /* ]]> */
            </script>
            ";


> > Can anyone suggest a better approach to solve my issue or let me know the
> > likelyhood of either solution (general or specific) happening in the near
> > future so that I know if it's worth updating my plugin with the dirty
> hack
> > or not?
>
> Study the way WordPress modifies the behavior of TinyMCE. Then do as core
> does.
>

It's not so much about modifying the behaviour of TinyMCE, which I think
I've figured out, but am open to suggestions. The issue is that since the
widget admin screen was cleaned up in WP circa 2.8 (to support auto
multi-widgets), the widget options forms are preloaded and saved using
boiler plate code that isn't complex enough to understand how to extract the
html form a rich text editor, which is why I needed to play silly buggers
with the javascript to trigger a save on the save button's click.


> Cheers,
> Andy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From skeltoac at gmail.com  Tue Jan  5 02:33:30 2010
From: skeltoac at gmail.com (Andy Skelton)
Date: Mon, 4 Jan 2010 21:33:30 -0500
Subject: [wp-hackers] Question about the architecture of the admin
	widgets.php
In-Reply-To: <cca7a9d01001041459n457ccf0g33eda6f2b259374e@mail.gmail.com>
References: <cca7a9d01001032202h6b2a8496s342f0b3a7d8b7cd1@mail.gmail.com>
	<35C2D8FF-5476-465F-A63D-8FABCB07FC92@gmail.com>
	<349fe48b1001041409n3ce16049hdb31b4073b5dc87e@mail.gmail.com>
	<e6ec604d1001041445s30850d8am265022c2ebe095c2@mail.gmail.com>
	<cca7a9d01001041459n457ccf0g33eda6f2b259374e@mail.gmail.com>
Message-ID: <e6ec604d1001041833k2ee34334n397aa3afc8a4097c@mail.gmail.com>

On Mon, Jan 4, 2010 at 5:59 PM, John BouAntoun <jbouantoun at gmail.com> wrote:
> On Tue, Jan 5, 2010 at 9:45 AM, Andy Skelton <skeltoac at gmail.com> wrote:
>> Study the way WordPress modifies the behavior of TinyMCE. Then do as core
>> does.
> It's not so much about modifying the behaviour of TinyMCE, which I think
> I've figured out, but am open to suggestions. The issue is that since the
> widget admin screen was cleaned up in WP circa 2.8 (to support auto
> multi-widgets), the widget options forms are preloaded and saved using
> boiler plate code that isn't complex enough to understand how to extract the
> html form a rich text editor, which is why I needed to play silly buggers
> with the javascript to trigger a save on the save button's click.

I dug deeper. It's been a while since I parsed jQuery core and
live/die are new to me. They are cleverly efficient but not very
friendly for creating exceptional behaviors in matching elements.

The jQuery serialize function boils down to "return elem.value;". I
was hoping for something like PHP's __get magic method but I couldn't
find anything like that in javascript or jQuery.

In both 2.8 and 2.9 the core logic assumes your form elements have the
intended values by the time you click Save. The problem is that
TinyMCE doesn't do that for you. But if you could guarantee your form
elements had the correct values prior to the click event you would
have the save problem solved.

I don't know whether you can trust the editor's blur event with
TinyMCE.triggerSave() but if so, that would be an elegant solution.

None of this does anything about the broader issue: you don't have
simple control over the order of bound events, as in the queue you
proposed, which reminds me of the core filter/action system. jQuery
doesn't let you bind with priorities the way WordPress does. That
would be a nice feature.

There may be an audience for this sort of thing but, as you have shown
in your solution, there are already ways around.

Andy

From jbouantoun at gmail.com  Tue Jan  5 02:43:57 2010
From: jbouantoun at gmail.com (John BouAntoun)
Date: Tue, 5 Jan 2010 13:43:57 +1100
Subject: [wp-hackers] Question about the architecture of the admin
	widgets.php
In-Reply-To: <e6ec604d1001041833k2ee34334n397aa3afc8a4097c@mail.gmail.com>
References: <cca7a9d01001032202h6b2a8496s342f0b3a7d8b7cd1@mail.gmail.com>
	<35C2D8FF-5476-465F-A63D-8FABCB07FC92@gmail.com>
	<349fe48b1001041409n3ce16049hdb31b4073b5dc87e@mail.gmail.com>
	<e6ec604d1001041445s30850d8am265022c2ebe095c2@mail.gmail.com>
	<cca7a9d01001041459n457ccf0g33eda6f2b259374e@mail.gmail.com>
	<e6ec604d1001041833k2ee34334n397aa3afc8a4097c@mail.gmail.com>
Message-ID: <cca7a9d01001041843g77e96280kbbb38022cf4120b@mail.gmail.com>

Thanks for the more in-depth analysis Andy. Sounds like I got what I was
looking for, which was a semi-confirmation that the dirty work-arounds I put
in place are the most practical for right now.

using the blur event for the triggerSave() may well be usefull, but it still
exposes the re-ordering issue. When you reorder the ajax items, the way it
is done effectively destroys the link between the mce editor and it's
textarea. You literally need to remove the editor from the DOM and recreate
it, which is why I override the edit button's click event, to re-create and
reload the editor.

This is what led me to believe that if the WP widgets page architecture
provided some form of client side hook/feature capability (as WP does on the
server side), like the ability to catch a pre/post sort and a pre/post save
event, things would be far more easier.

Unfortunately the only way to do ordered binding in jQuery is with a new
delegation plugin (not default jQuery binding) and is a common gripe about
it.So I don't think that's going to be workable anytime soon.

Also, I don't see the reasoning for moving from the object.bind('click') to
the object.live('click') approach except that it allows jQuery to handle the
binding for newly (later) created items that match the selector. The thing
is the WP architecture is always going to know about the new items as it
does the creating, so delegating the responsibility of event binding to
jQuery is just taking more control away from the devs for minimal benefit.
It's not like the click binding code has to be copied and pasted for every
instance of a widget, it's going to be in an iteration or loop of some kind
at object creation anyhow.

JBA

On Tue, Jan 5, 2010 at 1:33 PM, Andy Skelton <skeltoac at gmail.com> wrote:

> On Mon, Jan 4, 2010 at 5:59 PM, John BouAntoun <jbouantoun at gmail.com>
> wrote:
> > On Tue, Jan 5, 2010 at 9:45 AM, Andy Skelton <skeltoac at gmail.com> wrote:
> >> Study the way WordPress modifies the behavior of TinyMCE. Then do as
> core
> >> does.
> > It's not so much about modifying the behaviour of TinyMCE, which I think
> > I've figured out, but am open to suggestions. The issue is that since the
> > widget admin screen was cleaned up in WP circa 2.8 (to support auto
> > multi-widgets), the widget options forms are preloaded and saved using
> > boiler plate code that isn't complex enough to understand how to extract
> the
> > html form a rich text editor, which is why I needed to play silly buggers
> > with the javascript to trigger a save on the save button's click.
>
> I dug deeper. It's been a while since I parsed jQuery core and
> live/die are new to me. They are cleverly efficient but not very
> friendly for creating exceptional behaviors in matching elements.
>
> The jQuery serialize function boils down to "return elem.value;". I
> was hoping for something like PHP's __get magic method but I couldn't
> find anything like that in javascript or jQuery.
>
> In both 2.8 and 2.9 the core logic assumes your form elements have the
> intended values by the time you click Save. The problem is that
> TinyMCE doesn't do that for you. But if you could guarantee your form
> elements had the correct values prior to the click event you would
> have the save problem solved.
>
> I don't know whether you can trust the editor's blur event with
> TinyMCE.triggerSave() but if so, that would be an elegant solution.
>
> None of this does anything about the broader issue: you don't have
> simple control over the order of bound events, as in the queue you
> proposed, which reminds me of the core filter/action system. jQuery
> doesn't let you bind with priorities the way WordPress does. That
> would be a nice feature.
>
> There may be an audience for this sort of thing but, as you have shown
> in your solution, there are already ways around.
>
> Andy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From admin at laptoptips.ca  Tue Jan  5 04:11:35 2010
From: admin at laptoptips.ca (Andrew Ozz)
Date: Mon, 04 Jan 2010 20:11:35 -0800
Subject: [wp-hackers] Question about the architecture of the
	admin	widgets.php
In-Reply-To: <cca7a9d01001041843g77e96280kbbb38022cf4120b@mail.gmail.com>
References: <cca7a9d01001032202h6b2a8496s342f0b3a7d8b7cd1@mail.gmail.com>	<35C2D8FF-5476-465F-A63D-8FABCB07FC92@gmail.com>	<349fe48b1001041409n3ce16049hdb31b4073b5dc87e@mail.gmail.com>	<e6ec604d1001041445s30850d8am265022c2ebe095c2@mail.gmail.com>	<cca7a9d01001041459n457ccf0g33eda6f2b259374e@mail.gmail.com>	<e6ec604d1001041833k2ee34334n397aa3afc8a4097c@mail.gmail.com>
	<cca7a9d01001041843g77e96280kbbb38022cf4120b@mail.gmail.com>
Message-ID: <4B42BBF7.1010303@laptoptips.ca>

Don't forget that JS is not like PHP, it's very easy to redeclare and 
overload. The "standard" hack for this is to do something like:

wpWidgets.save1 = wpWidgets.save;
wpWidgets.save = function(){
   check the widget;
   do what you need;
   this.save1()...
}

We could design some kind of JS hooks for core, probably based on custom 
events in jQuery (since they are so easy). Something like:

jQuery('body').trigger('eventName', [arg1, arg2]);

and plugins can do:

jQuery('body').bind('eventName', function(event, arg1, arg2){ ... });

But since everything can be redeclared easily, not sure if they are 
needed that much.

From jbouantoun at gmail.com  Tue Jan  5 04:31:41 2010
From: jbouantoun at gmail.com (John BouAntoun)
Date: Tue, 5 Jan 2010 15:31:41 +1100
Subject: [wp-hackers] Question about the architecture of the admin
	widgets.php
In-Reply-To: <4B42BBF7.1010303@laptoptips.ca>
References: <cca7a9d01001032202h6b2a8496s342f0b3a7d8b7cd1@mail.gmail.com>
	<35C2D8FF-5476-465F-A63D-8FABCB07FC92@gmail.com>
	<349fe48b1001041409n3ce16049hdb31b4073b5dc87e@mail.gmail.com>
	<e6ec604d1001041445s30850d8am265022c2ebe095c2@mail.gmail.com>
	<cca7a9d01001041459n457ccf0g33eda6f2b259374e@mail.gmail.com>
	<e6ec604d1001041833k2ee34334n397aa3afc8a4097c@mail.gmail.com>
	<cca7a9d01001041843g77e96280kbbb38022cf4120b@mail.gmail.com>
	<4B42BBF7.1010303@laptoptips.ca>
Message-ID: <cca7a9d01001042031n70d1d423tbf901cb5a5201eb1@mail.gmail.com>

So are you suggesting, that rather than the selector gymnastics I do to
catch the events that are problematic i should just overload the target
functions that are called on the event firing.

Sounds like a workable solution, but still not really a clean approach,
since I, as a plugin developer am still "replacing" core functionality,
instead of placing custom code before/after the core functionality. Am
mainly thinking in terms of defending against future core changes breaking
the plugin.

If I "replace" a function whose signature is changed in a future core
upgrade I get a broken plugin. If i use a core event binding/queuing
mechanism, then the chances are that the signature changing core update will
be made evident to me earlier and perhaps even backwards compatible.

Thanks for the tip. Will have a crack at reworking my plugin to replace the
object methods instead of the actualy jQuery events.

JBA

On Tue, Jan 5, 2010 at 3:11 PM, Andrew Ozz <admin at laptoptips.ca> wrote:

> Don't forget that JS is not like PHP, it's very easy to redeclare and
> overload. The "standard" hack for this is to do something like:
>
> wpWidgets.save1 = wpWidgets.save;
> wpWidgets.save = function(){
>  check the widget;
>  do what you need;
>  this.save1()...
> }
>
> We could design some kind of JS hooks for core, probably based on custom
> events in jQuery (since they are so easy). Something like:
>
> jQuery('body').trigger('eventName', [arg1, arg2]);
>
> and plugins can do:
>
> jQuery('body').bind('eventName', function(event, arg1, arg2){ ... });
>
> But since everything can be redeclared easily, not sure if they are needed
> that much.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From zamoose at gmail.com  Tue Jan  5 04:53:11 2010
From: zamoose at gmail.com (Doug Stewart)
Date: Mon, 4 Jan 2010 23:53:11 -0500
Subject: [wp-hackers] A quick query for a push in the right (plugin)
	direction
Message-ID: <71ddd7491001042053s1e5e9ce0r7d058284c9c71c98@mail.gmail.com>

Howdy all,
Does anyone know of any new "Featured Post"/JavaScript image carousel
plugins out there that take advantage of the new-to-2.9 post_image()
functionality? Most of the ones that I see are all pulling from post_meta
and custom fields.

Thanks!

-- 
-Doug
@zamoose
http://literalbarrage.org/blog/

From josh at picklewagon.com  Tue Jan  5 09:08:36 2010
From: josh at picklewagon.com (Josh Harrison)
Date: Tue, 5 Jan 2010 01:08:36 -0800
Subject: [wp-hackers] A quick query for a push in the right (plugin)
	direction
In-Reply-To: <71ddd7491001042053s1e5e9ce0r7d058284c9c71c98@mail.gmail.com>
References: <71ddd7491001042053s1e5e9ce0r7d058284c9c71c98@mail.gmail.com>
Message-ID: <3070373f1001050108n2c5bbf7dxe6a05c5875a3d567@mail.gmail.com>

I have one that I have developed and should release by the end of the week.
It is currently being used on my site (picklewagon.com). I will let you know
when it is available in the plugin repository. There are still a few things
that need fixed or made better. Let me know if you have any questions.

Josh Harrison

On Mon, Jan 4, 2010 at 8:53 PM, Doug Stewart <zamoose at gmail.com> wrote:

> Howdy all,
> Does anyone know of any new "Featured Post"/JavaScript image carousel
> plugins out there that take advantage of the new-to-2.9 post_image()
> functionality? Most of the ones that I see are all pulling from post_meta
> and custom fields.
>
> Thanks!
>
> --
> -Doug
> @zamoose
> http://literalbarrage.org/blog/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mrbrog at gmail.com  Tue Jan  5 16:38:15 2010
From: mrbrog at gmail.com (Claudio Simeone)
Date: Tue, 5 Jan 2010 17:38:15 +0100
Subject: [wp-hackers]  Media upload: limit file type and size
Message-ID: <c41cda881001050838w2565f19ajb78543aeb9354a68@mail.gmail.com>

Hi all,

is it possible to allow in the media uploader only jpg / gif / png
files and set a file size limit only for some file types?

I need to disallow some users from uploading very large bmp image
files, but giving them the possibility to upload videos.
The best would to set an option per file type, e.g:

- disable bmp upload (and other image types)
- allow only jpg, gif, png files less than 2 Mb
- allow only flv files less than 6 Mb.....

Is there a way to do this? In the support forum I found nothing.

thanks in advance
Claudio

From otto at ottodestruct.com  Tue Jan  5 17:02:24 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 5 Jan 2010 11:02:24 -0600
Subject: [wp-hackers] Media upload: limit file type and size
In-Reply-To: <c41cda881001050838w2565f19ajb78543aeb9354a68@mail.gmail.com>
References: <c41cda881001050838w2565f19ajb78543aeb9354a68@mail.gmail.com>
Message-ID: <161617691001050902y5067c96l2dc06e394f758c8d@mail.gmail.com>

You can add a filter to 'upload_mimes' to make only certain file types
able to be uploaded. Basically something like this:

add_filter('upload_mimes','demo');

function demo($mimes) {
$mimes = array(
		'jpg|jpeg|jpe' => 'image/jpeg',
		'gif' => 'image/gif',
		'png' => 'image/png',
);
return $mimes;
}

Note that this will only affect users without the unfiltered_upload
capability. Admins and people with unfiltered_upload and upload
anything they want.

Filtering on size would be much more difficult. WordPress has no size
limiting code built in. You could do it by attaching a function to the
wp_handle_upload filter, but it would have a lot of work to do as that
filter is fired after the file is already moved to the uploads
directory (but before the attachment is actually created).

-Otto



On Tue, Jan 5, 2010 at 10:38 AM, Claudio Simeone <mrbrog at gmail.com> wrote:
> Hi all,
>
> is it possible to allow in the media uploader only jpg / gif / png
> files and set a file size limit only for some file types?
>
> I need to disallow some users from uploading very large bmp image
> files, but giving them the possibility to upload videos.
> The best would to set an option per file type, e.g:
>
> - disable bmp upload (and other image types)
> - allow only jpg, gif, png files less than 2 Mb
> - allow only flv files less than 6 Mb.....
>
> Is there a way to do this? In the support forum I found nothing.
>
> thanks in advance
> Claudio
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From frank at bueltge.de  Tue Jan  5 18:12:45 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Tue, 5 Jan 2010 19:12:45 +0100
Subject: [wp-hackers] Media upload: limit file type and size
In-Reply-To: <c41cda881001050838w2565f19ajb78543aeb9354a68@mail.gmail.com>
References: <c41cda881001050838w2565f19ajb78543aeb9354a68@mail.gmail.com>
Message-ID: <db047a771001051012o16c07192k3316d31461d136f8@mail.gmail.com>

Maybe help this post http://wpengineer.com/add-file-types-for-mediathek/ for

http://bueltge.de : frank at bueltge.de
http://wpengineer.com : frank at wpengineer.com
__
Frank B?ltge





On Tue, Jan 5, 2010 at 5:38 PM, Claudio Simeone <mrbrog at gmail.com> wrote:
> Hi all,
>
> is it possible to allow in the media uploader only jpg / gif / png
> files and set a file size limit only for some file types?
>
> I need to disallow some users from uploading very large bmp image
> files, but giving them the possibility to upload videos.
> The best would to set an option per file type, e.g:
>
> - disable bmp upload (and other image types)
> - allow only jpg, gif, png files less than 2 Mb
> - allow only flv files less than 6 Mb.....
>
> Is there a way to do this? In the support forum I found nothing.
>
> thanks in advance
> Claudio
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From frank at bueltge.de  Tue Jan  5 18:16:05 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Tue, 5 Jan 2010 19:16:05 +0100
Subject: [wp-hackers] Media upload: limit file type and size
In-Reply-To: <c41cda881001050838w2565f19ajb78543aeb9354a68@mail.gmail.com>
References: <c41cda881001050838w2565f19ajb78543aeb9354a68@mail.gmail.com>
Message-ID: <db047a771001051016u58a9bd02r75a5051a2b867c61@mail.gmail.com>

And maybe you can set the sizes via ini_set()
ini_set("upload_max_filesize", "30M");


On Tue, Jan 5, 2010 at 5:38 PM, Claudio Simeone <mrbrog at gmail.com> wrote:
> Hi all,
>
> is it possible to allow in the media uploader only jpg / gif / png
> files and set a file size limit only for some file types?
>
> I need to disallow some users from uploading very large bmp image
> files, but giving them the possibility to upload videos.
> The best would to set an option per file type, e.g:
>
> - disable bmp upload (and other image types)
> - allow only jpg, gif, png files less than 2 Mb
> - allow only flv files less than 6 Mb.....
>
> Is there a way to do this? In the support forum I found nothing.
>
> thanks in advance
> Claudio
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mgerring at emrl.com  Tue Jan  5 21:32:37 2010
From: mgerring at emrl.com (Matthew Gerring)
Date: Tue, 5 Jan 2010 13:32:37 -0800
Subject: [wp-hackers]  Write a custom field to a new post via JS??
Message-ID: <5DA7A911-661A-4CB5-BE01-6A1569168783@emrl.com>

Hello all. I have a serious brain twister I hope you all can help me solve.

I have an interface in the WordPress "add new post" screen, accessed via the media buttons. Basically what it's supposed to do is write an array to a custom field.

It works fine if you're editing a post- I can pass the array to PHP along with the post ID and use add_post_meta(). But I don't know how to do the same thing if you're creating a new post, since there's no post ID to add a custom field to.

Can anyone tell me how I would write metadata to a post that hasn't been published yet?

-Matthew



From scribu at gmail.com  Tue Jan  5 23:12:42 2010
From: scribu at gmail.com (scribu)
Date: Wed, 6 Jan 2010 01:12:42 +0200
Subject: [wp-hackers] Write a custom field to a new post via JS??
In-Reply-To: <5DA7A911-661A-4CB5-BE01-6A1569168783@emrl.com>
References: <5DA7A911-661A-4CB5-BE01-6A1569168783@emrl.com>
Message-ID: <349fe48b1001051512t1fec08n414da3be1bc5dc1c@mail.gmail.com>

New posts are assigned a temporary id. See how it's used in the
wp_write_post() function:

http://xref.yoast.com/trunk/nav.html?wp-admin/includes/post.php.source.html#l439

Hope that helps.


On Tue, Jan 5, 2010 at 11:32 PM, Matthew Gerring <mgerring at emrl.com> wrote:

> Hello all. I have a serious brain twister I hope you all can help me solve.
>
> I have an interface in the WordPress "add new post" screen, accessed via
> the media buttons. Basically what it's supposed to do is write an array to a
> custom field.
>
> It works fine if you're editing a post- I can pass the array to PHP along
> with the post ID and use add_post_meta(). But I don't know how to do the
> same thing if you're creating a new post, since there's no post ID to add a
> custom field to.
>
> Can anyone tell me how I would write metadata to a post that hasn't been
> published yet?
>
> -Matthew
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From mrbrog at gmail.com  Wed Jan  6 14:40:22 2010
From: mrbrog at gmail.com (Claudio Simeone)
Date: Wed, 6 Jan 2010 15:40:22 +0100
Subject: [wp-hackers] Media upload: limit file type and size
In-Reply-To: <db047a771001051016u58a9bd02r75a5051a2b867c61@mail.gmail.com>
References: <c41cda881001050838w2565f19ajb78543aeb9354a68@mail.gmail.com> 
	<db047a771001051016u58a9bd02r75a5051a2b867c61@mail.gmail.com>
Message-ID: <c41cda881001060640q6f54506by5dcf966503977440@mail.gmail.com>

2010/1/5 Frank Bueltge <frank at bueltge.de>:

> And maybe you can set the sizes via ini_set()
> ini_set("upload_max_filesize", "30M");


Thank you all for the tips!

Claudio

From awgandrews at gmail.com  Wed Jan  6 15:04:24 2010
From: awgandrews at gmail.com (Alex Andrews)
Date: Wed, 6 Jan 2010 15:04:24 +0000
Subject: [wp-hackers] Questions - 404 and passworded page
Message-ID: <e9f3ce461001060704n20f13fbanc09471738f88b827@mail.gmail.com>

Dear all,

A couple of queries that I can't work out even after a fair bit of Googling.

1. At the moment my plugin takes some data from a rewrite and
processes it - ie artist/NAME. If the data isn't found for NAME ie
there is no artist like this, I want to display a Wordpress templated
404 message - how can I do this?

2. How can I plug into the passworded post system so I can have a page
generated by a plugin passworded as with a normal post?

Thanks very much. If you could point me in the right direction that
would be great.

All the best

Alex

From 24-7 at gmx.net  Wed Jan  6 16:03:49 2010
From: 24-7 at gmx.net (24/7)
Date: Wed, 6 Jan 2010 17:03:49 +0100
Subject: [wp-hackers] Questions - 404 and passworded page
In-Reply-To: <e9f3ce461001060704n20f13fbanc09471738f88b827@mail.gmail.com>
References: <e9f3ce461001060704n20f13fbanc09471738f88b827@mail.gmail.com>
Message-ID: <000401ca8ee9$d5c7dd90$815798b0$@net>

Ad 1) maybe with some redirect and if file_exists or
if(!empty(get_option('template')); but that?s just an idea.

Ad 2) There?s the posts-table and a row named "post_password".

Hope this helps you a little :)

-----Urspr?ngliche Nachricht-----
Von: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] Im Auftrag von Alex Andrews
Gesendet: Mittwoch, 06. J?nner 2010 16:04
An: wp-hackers at lists.automattic.com
Betreff: [wp-hackers] Questions - 404 and passworded page

Dear all,

A couple of queries that I can't work out even after a fair bit of Googling.

1. At the moment my plugin takes some data from a rewrite and
processes it - ie artist/NAME. If the data isn't found for NAME ie
there is no artist like this, I want to display a Wordpress templated
404 message - how can I do this?

2. How can I plug into the passworded post system so I can have a page
generated by a plugin passworded as with a normal post?

Thanks very much. If you could point me in the right direction that
would be great.

All the best

Alex
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From otto at ottodestruct.com  Wed Jan  6 16:08:42 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 6 Jan 2010 10:08:42 -0600
Subject: [wp-hackers] Questions - 404 and passworded page
In-Reply-To: <e9f3ce461001060704n20f13fbanc09471738f88b827@mail.gmail.com>
References: <e9f3ce461001060704n20f13fbanc09471738f88b827@mail.gmail.com>
Message-ID: <161617691001060808w3387c13fw73e82b24ca8e1844@mail.gmail.com>

1. Depends on where you're doing it, but generally
$wp_query->set_404(); does the trick. If you're making your own
output, you can try get_404_template() to see if there is a 404
template to be used. Look closely at how template-loader.php does it.

2. Basically, you need to check the $_COOKIE['wp-postpass_' .
COOKIEHASH] value and see if it's set to your password. If not, then
display what's returned by get_the_password_form() instead. That form
will let the user type in a password, which will call wp-pass.php to
set the cookie, which redirects back to the page afterwards.

-Otto



On Wed, Jan 6, 2010 at 9:04 AM, Alex Andrews <awgandrews at gmail.com> wrote:
> Dear all,
>
> A couple of queries that I can't work out even after a fair bit of Googling.
>
> 1. At the moment my plugin takes some data from a rewrite and
> processes it - ie artist/NAME. If the data isn't found for NAME ie
> there is no artist like this, I want to display a Wordpress templated
> 404 message - how can I do this?
>
> 2. How can I plug into the passworded post system so I can have a page
> generated by a plugin passworded as with a normal post?
>
> Thanks very much. If you could point me in the right direction that
> would be great.
>
> All the best
>
> Alex
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From frank at bueltge.de  Wed Jan  6 16:38:05 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Wed, 6 Jan 2010 17:38:05 +0100
Subject: [wp-hackers] current_user_can() and roles ?
Message-ID: <db047a771001060838v3bd313fbj7d32bbf0483eb0c8@mail.gmail.com>

Hello,

the function current_user_can() has an paramter to give an object or role.
from the doc: @param string $capability Capability or role name.

On my plugin it is not possible to ask with a role_name, only with the
capability or the level_[value]
Is this correct or is this a error on my mind?

now i have write a small function for use rolename on this :
		function check_role() {
			$value = get_option( MY_OPTION );
			
			if ( !isset( $value['role'][0] ) || ( $value['role'][0] != '' ) )
				$role = 'level_8';
			
			if ( $value['role'][0] == 'administrator' )
				$role = 'level_8';
				
			if ( $value['role'][0] == 'editor' )
				$role = 'level_7';
				
			if ( $value['role'][0] == 'author' )
				$role = 'level_2';
				
			if ( $value['role'][0] == 'contributor' )
				$role = 'level_1';
				
			if ( $value['role'][0] == 'subscriber' )
				$role = 'level_0';
				
			if ( current_user_can( $role ) )
				return true;
			
			return false;
		}

Maybe give it a better solution with WP core?
Thanks for your help to see my probleme and read my bad english.

best wishes
Frank

http://bueltge.de : frank at bueltge.de
http://wpengineer.com : frank at wpengineer.com

From jer at simianuprising.com  Wed Jan  6 17:02:31 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 6 Jan 2010 12:02:31 -0500
Subject: [wp-hackers] Limitations and Patch for WP_Query Taxonomy Stuff
In-Reply-To: <op.u5rrensbspxmuu@dd32>
References: <394F4785-02BB-4D48-830A-266DE6A0D22B@gmail.com>
	<op.u5rrensbspxmuu@dd32>
Message-ID: <e1202cb11001060902m64ba576fned5fb956d4277938@mail.gmail.com>

+1 for this idea.

On Wed, Dec 30, 2009 at 4:02 PM, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:
> I have thought the same a few times now.. The only side effect i could
> possibly think of is that the category ones have a bit of proprocessing for
> back compat, to determine what has been passed (int, slug, name,
> who-knows-what) IIRC

Ideally that kind of stuff could be moved into a callback function
that could be added to the categories taxonomy, allowing custom
taxonomies to set up their own callbacks. The ability to accept slug
OR id is really valuable and could easily apply to any number of
taxonomies.

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From jer at simianuprising.com  Wed Jan  6 18:48:23 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 6 Jan 2010 13:48:23 -0500
Subject: [wp-hackers] current_user_can() and roles ?
In-Reply-To: <db047a771001060838v3bd313fbj7d32bbf0483eb0c8@mail.gmail.com>
References: <db047a771001060838v3bd313fbj7d32bbf0483eb0c8@mail.gmail.com>
Message-ID: <e1202cb11001061048r4311a10bqedfb27784ce29d65@mail.gmail.com>

On Wed, Jan 6, 2010 at 11:38 AM, Frank Bueltge <frank at bueltge.de> wrote:
> Hello,
>
> the function current_user_can() has an paramter to give an object or role.
> from the doc: @param string $capability Capability or role name.
>
> On my plugin it is not possible to ask with a role_name, only with the
> capability or the level_[value]
> Is this correct or is this a error on my mind?

You should check with specific capabilities rather than with levels.
Like edit_posts, edit_options. Then just specify in your plugin docs
what capability users need to do certain things (or give a plugin
setting where the needed capability is defined from a list).

People who have custom roles will be confused by any use of levels,
the level values are deprecated reverse-compatibility for the old
system from before roles and capabilities were added.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From frank at bueltge.de  Wed Jan  6 19:05:30 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Wed, 6 Jan 2010 20:05:30 +0100
Subject: [wp-hackers] current_user_can() and roles ?
In-Reply-To: <e1202cb11001061048r4311a10bqedfb27784ce29d65@mail.gmail.com>
References: <db047a771001060838v3bd313fbj7d32bbf0483eb0c8@mail.gmail.com> 
	<e1202cb11001061048r4311a10bqedfb27784ce29d65@mail.gmail.com>
Message-ID: <db047a771001061105p15a67753t75ee73a8e8426617@mail.gmail.com>

Thanks for your reply; i see this also! A in my plugin give the user
the rights on the option-field to the user-role, no own capabilitie. I
will only check, the loged in users have min. the role. I will not
check for a capabilies. Now i must check a capabilitie from this cole
and this is extra code and maybe dosnt work in feature when change WP
this capabilitie.


On Wed, Jan 6, 2010 at 7:48 PM, Jeremy Clarke <jer at simianuprising.com> wrote:
> On Wed, Jan 6, 2010 at 11:38 AM, Frank Bueltge <frank at bueltge.de> wrote:
>> Hello,
>>
>> the function current_user_can() has an paramter to give an object or role.
>> from the doc: @param string $capability Capability or role name.
>>
>> On my plugin it is not possible to ask with a role_name, only with the
>> capability or the level_[value]
>> Is this correct or is this a error on my mind?
>
> You should check with specific capabilities rather than with levels.
> Like edit_posts, edit_options. Then just specify in your plugin docs
> what capability users need to do certain things (or give a plugin
> setting where the needed capability is defined from a list).
>
> People who have custom roles will be confused by any use of levels,
> the level values are deprecated reverse-compatibility for the old
> system from before roles and capabilities were added.
>
> --
> Jeremy Clarke | http://jeremyclarke.org
> Code and Design | http://globalvoicesonline.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Wed Jan  6 19:25:00 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 6 Jan 2010 13:25:00 -0600
Subject: [wp-hackers] current_user_can() and roles ?
In-Reply-To: <db047a771001061105p15a67753t75ee73a8e8426617@mail.gmail.com>
References: <db047a771001060838v3bd313fbj7d32bbf0483eb0c8@mail.gmail.com> 
	<e1202cb11001061048r4311a10bqedfb27784ce29d65@mail.gmail.com> 
	<db047a771001061105p15a67753t75ee73a8e8426617@mail.gmail.com>
Message-ID: <161617691001061125n4d8ebb86pfcb8f976c7a5179a@mail.gmail.com>

Capabilities never really change. New ones might be added, but it's
unlikely that old ones will ever fully go away.

So you really need to check actual capabilities based on what they're
doing. If they're trying to change the plugin options, then you'd
check "edit_options". And so on. That's the whole point of the
role/capabilities system.

I mean, what if I created a new role, called "superman", and gave them
a bunch of capabilities? Your plugin would suddenly not work.

Roles are *arbitrary*, you cannot rely on them existing. Capabilities
are not arbitrary, they're hardcoded right into the core. New ones can
be added for various purposes, but the existing ones ain't going
anywhere.

-Otto



On Wed, Jan 6, 2010 at 1:05 PM, Frank Bueltge <frank at bueltge.de> wrote:
> Thanks for your reply; i see this also! A in my plugin give the user
> the rights on the option-field to the user-role, no own capabilitie. I
> will only check, the loged in users have min. the role. I will not
> check for a capabilies. Now i must check a capabilitie from this cole
> and this is extra code and maybe dosnt work in feature when change WP
> this capabilitie.

From frank at bueltge.de  Wed Jan  6 19:33:19 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Wed, 6 Jan 2010 20:33:19 +0100
Subject: [wp-hackers] current_user_can() and roles ?
In-Reply-To: <161617691001061125n4d8ebb86pfcb8f976c7a5179a@mail.gmail.com>
References: <db047a771001060838v3bd313fbj7d32bbf0483eb0c8@mail.gmail.com> 
	<e1202cb11001061048r4311a10bqedfb27784ce29d65@mail.gmail.com> 
	<db047a771001061105p15a67753t75ee73a8e8426617@mail.gmail.com> 
	<161617691001061125n4d8ebb86pfcb8f976c7a5179a@mail.gmail.com>
Message-ID: <db047a771001061133p68144a22q686dd710fee0103a@mail.gmail.com>

Hello Otto,

right, i understand you.

The admin give other users a rolle, not rights and in my plugin it os:
the admin select the role and i will check only for this. Maybe i must
add a new capabilitie to the role, the select the admin. And then i
can check for the new object. A also then it is possiblt to add this
object to a new role "superman".

Thanks ! for reply and discuss



On Wed, Jan 6, 2010 at 8:25 PM, Otto <otto at ottodestruct.com> wrote:
> Capabilities never really change. New ones might be added, but it's
> unlikely that old ones will ever fully go away.
>
> So you really need to check actual capabilities based on what they're
> doing. If they're trying to change the plugin options, then you'd
> check "edit_options". And so on. That's the whole point of the
> role/capabilities system.
>
> I mean, what if I created a new role, called "superman", and gave them
> a bunch of capabilities? Your plugin would suddenly not work.
>
> Roles are *arbitrary*, you cannot rely on them existing. Capabilities
> are not arbitrary, they're hardcoded right into the core. New ones can
> be added for various purposes, but the existing ones ain't going
> anywhere.
>
> -Otto
>
>
>
> On Wed, Jan 6, 2010 at 1:05 PM, Frank Bueltge <frank at bueltge.de> wrote:
>> Thanks for your reply; i see this also! A in my plugin give the user
>> the rights on the option-field to the user-role, no own capabilitie. I
>> will only check, the loged in users have min. the role. I will not
>> check for a capabilies. Now i must check a capabilitie from this cole
>> and this is extra code and maybe dosnt work in feature when change WP
>> this capabilitie.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mgerring at emrl.com  Wed Jan  6 20:02:51 2010
From: mgerring at emrl.com (Matthew Gerring)
Date: Wed, 6 Jan 2010 12:02:51 -0800
Subject: [wp-hackers] Write a custom field to a new post via JS??
In-Reply-To: <349fe48b1001051512t1fec08n414da3be1bc5dc1c@mail.gmail.com>
References: <5DA7A911-661A-4CB5-BE01-6A1569168783@emrl.com>
	<349fe48b1001051512t1fec08n414da3be1bc5dc1c@mail.gmail.com>
Message-ID: <27FB2AE3-8CFE-4A4F-9A72-BDDDBE55B659@emrl.com>

I found the temporary ID thing yesterday, and now I have my plugin set up so that it tries to use add_post_meta with the temporary post ID, but all it does is write the meta to the database once the post is published with an ID of 0. It works perfectly as long as the post has been assigned an ID.

I looked through the write_post source, and I see what it's doing but I don't see it correcting the temporary IDs in post_meta. From admin-ajax.php it looks like when you add a custom field, WP creates the real ID and passes it back to the original post, but I'm not sure how to duplicate that functionality in my plugin.

It would be better if I could just hook into the add-meta action in admin-ajax.php, but no matter how I construct the request it always returns -1.

My code is here: http://wordpress.pastebin.com/m728fcfcf. It passes the temporary ID to the server just fine, and returns it back as successful, but WordPress doesn't find the postmeta when I go to save the post.

Anyway. Hoping someone can help.

Thanks,
Matthew

On Jan 5, 2010, at 3:12 PM, scribu wrote:

> New posts are assigned a temporary id. See how it's used in the
> wp_write_post() function:
> 
> http://xref.yoast.com/trunk/nav.html?wp-admin/includes/post.php.source.html#l439
> 
> Hope that helps.
> 
> 
> On Tue, Jan 5, 2010 at 11:32 PM, Matthew Gerring <mgerring at emrl.com> wrote:
> 
>> Hello all. I have a serious brain twister I hope you all can help me solve.
>> 
>> I have an interface in the WordPress "add new post" screen, accessed via
>> the media buttons. Basically what it's supposed to do is write an array to a
>> custom field.
>> 
>> It works fine if you're editing a post- I can pass the array to PHP along
>> with the post ID and use add_post_meta(). But I don't know how to do the
>> same thing if you're creating a new post, since there's no post ID to add a
>> custom field to.
>> 
>> Can anyone tell me how I would write metadata to a post that hasn't been
>> published yet?
>> 
>> -Matthew
>> 
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> 
> 
> 
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp-hackers at striderweb.com  Wed Jan  6 20:14:27 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 6 Jan 2010 14:14:27 -0600
Subject: [wp-hackers] current_user_can() and roles ?
In-Reply-To: <db047a771001061133p68144a22q686dd710fee0103a@mail.gmail.com>
References: <db047a771001060838v3bd313fbj7d32bbf0483eb0c8@mail.gmail.com>
	<e1202cb11001061048r4311a10bqedfb27784ce29d65@mail.gmail.com>
	<db047a771001061105p15a67753t75ee73a8e8426617@mail.gmail.com>
	<161617691001061125n4d8ebb86pfcb8f976c7a5179a@mail.gmail.com>
	<db047a771001061133p68144a22q686dd710fee0103a@mail.gmail.com>
Message-ID: <B7CCA6AE-DDE9-4056-8EB3-1934350F4034@striderweb.com>


On Jan 6, 2010, at 1:33 PM, Frank Bueltge wrote:

> The admin give other users a rolle, not rights and in my plugin it os:
> the admin select the role and i will check only for this. Maybe i must
> add a new capabilitie to the role, the select the admin. And then i
> can check for the new object. A also then it is possiblt to add this
> object to a new role "superman".

Generally I have found that an existing capability is "close enough" to the ability I want to add.  If your plugin is doing something truly unique, though, you may think about actually adding a new capability.

If you do that, don't forget to assign that Capability to one or more Roles so somebody can actually do the thing!  ;-)

(I'm actually going to have to do this soon with a plugin that I don't even want *admins* to have direct access to.  I believe I'm going to end up creating a new capability and new "super admin" role....)

Regards,

Stephen


From wordpress at dd32.id.au  Wed Jan  6 21:23:57 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 07 Jan 2010 08:23:57 +1100
Subject: [wp-hackers] current_user_can() and roles ?
In-Reply-To: <B7CCA6AE-DDE9-4056-8EB3-1934350F4034@striderweb.com>
References: <db047a771001060838v3bd313fbj7d32bbf0483eb0c8@mail.gmail.com>
	<e1202cb11001061048r4311a10bqedfb27784ce29d65@mail.gmail.com>
	<db047a771001061105p15a67753t75ee73a8e8426617@mail.gmail.com>
	<161617691001061125n4d8ebb86pfcb8f976c7a5179a@mail.gmail.com>
	<db047a771001061133p68144a22q686dd710fee0103a@mail.gmail.com>
	<B7CCA6AE-DDE9-4056-8EB3-1934350F4034@striderweb.com>
Message-ID: <op.u54q13l9spxmuu@dd32>

Also, Please do not use the level_* capabilities.
They're been deprecated since 2.0 and really need to go away (3.0  
intrduces a warning that they're deprecated too).

Rely on the string caps instead, for example, 'manage_options' is a pretty  
good choice most of the time, only admins have that, and that suits 90% of  
plugins.

On Thu, 07 Jan 2010 07:14:27 +1100, Stephen Rider  
<wp-hackers at striderweb.com> wrote:

>
> On Jan 6, 2010, at 1:33 PM, Frank Bueltge wrote:
>
>> The admin give other users a rolle, not rights and in my plugin it os:
>> the admin select the role and i will check only for this. Maybe i must
>> add a new capabilitie to the role, the select the admin. And then i
>> can check for the new object. A also then it is possiblt to add this
>> object to a new role "superman".
>
> Generally I have found that an existing capability is "close enough" to  
> the ability I want to add.  If your plugin is doing something truly  
> unique, though, you may think about actually adding a new capability.
>
> If you do that, don't forget to assign that Capability to one or more  
> Roles so somebody can actually do the thing!  ;-)
>
> (I'm actually going to have to do this soon with a plugin that I don't  
> even want *admins* to have direct access to.  I believe I'm going to end  
> up creating a new capability and new "super admin" role....)
>
> Regards,
>
> Stephen
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
Web: http://dd32.id.au/

From emoya at tribune.com  Wed Jan  6 21:42:18 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Wed, 06 Jan 2010 15:42:18 -0600
Subject: [wp-hackers] current_user_can() and roles ?
In-Reply-To: <op.u54q13l9spxmuu@dd32>
Message-ID: <C76A5FDA.2554%emoya@tribune.com>

Since there is a conversation going on about roles and capabilities, I would
like to pose another question. What options do we have for granulizing  of
the capabilities?

For example, I needed to create a new role that would be able to edit
widgets, but not themes. Both use the capability "switch themes". Its
possible to change the admin menu item capabilities through the global $menu
and $submenu arrays. However, this doesn't change the capabilities on the
pages themselves, which leaves significant security holes.

Due to time constraints on the project, the solution ended up being that we
begrudgingly edited the files themselves to change those hardcoded
capabilities.

Is there any clean solution to this? The only partial comes where there are
get variables  (such as 'import') we can retrieve to distinguish a page, or
a part of a page, from another, at which point we can trigger a check
against our custom capability. Is there any real solution to this, or are we
stuck editing the otherwise hardcoded caps?


On 1/6/10 3:23 PM, "Dion Hulse (dd32)" <wordpress at dd32.id.au> wrote:

> Also, Please do not use the level_* capabilities.
> They're been deprecated since 2.0 and really need to go away (3.0
> intrduces a warning that they're deprecated too).
> 
> Rely on the string caps instead, for example, 'manage_options' is a pretty
> good choice most of the time, only admins have that, and that suits 90% of
> plugins.
> 
> On Thu, 07 Jan 2010 07:14:27 +1100, Stephen Rider
> <wp-hackers at striderweb.com> wrote:
> 
>> 
>> On Jan 6, 2010, at 1:33 PM, Frank Bueltge wrote:
>> 
>>> The admin give other users a rolle, not rights and in my plugin it os:
>>> the admin select the role and i will check only for this. Maybe i must
>>> add a new capabilitie to the role, the select the admin. And then i
>>> can check for the new object. A also then it is possiblt to add this
>>> object to a new role "superman".
>> 
>> Generally I have found that an existing capability is "close enough" to
>> the ability I want to add.  If your plugin is doing something truly
>> unique, though, you may think about actually adding a new capability.
>> 
>> If you do that, don't forget to assign that Capability to one or more
>> Roles so somebody can actually do the thing!  ;-)
>> 
>> (I'm actually going to have to do this soon with a plugin that I don't
>> even want *admins* to have direct access to.  I believe I'm going to end
>> up creating a new capability and new "super admin" role....)
>> 
>> Regards,
>> 
>> Stephen
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> 


From wordpress at dd32.id.au  Wed Jan  6 21:46:29 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 07 Jan 2010 08:46:29 +1100
Subject: [wp-hackers] current_user_can() and roles ?
In-Reply-To: <C76A5FDA.2554%emoya@tribune.com>
References: <C76A5FDA.2554%emoya@tribune.com>
Message-ID: <op.u54r3rupspxmuu@dd32>

Theres 2 approaches that can be taken here.

The caps like that could become meta_caps, Ie. you called  
current_user_can('switch_themes', 'widgets'); which could be different  
 from current_user_can('switch_themes', 'themes');

But that requires Core changes.

The better option is to have all these functionalities on their own  
capability. For example, I think the Core upgrade is using the Plugin  
upgrade cap. They should be on different capabilities in my opinion.

Might be worth a trac ticket to add extra caps for all these, so that the  
functionality can be disabled/controlled properly on a per-admin-feature  
basis.


On Thu, 07 Jan 2010 08:42:18 +1100, Moya, Eddie <emoya at tribune.com> wrote:

> Since there is a conversation going on about roles and capabilities, I  
> would
> like to pose another question. What options do we have for granulizing   
> of
> the capabilities?
>
> For example, I needed to create a new role that would be able to edit
> widgets, but not themes. Both use the capability "switch themes". Its
> possible to change the admin menu item capabilities through the global  
> $menu
> and $submenu arrays. However, this doesn't change the capabilities on the
> pages themselves, which leaves significant security holes.
>
> Due to time constraints on the project, the solution ended up being that  
> we
> begrudgingly edited the files themselves to change those hardcoded
> capabilities.
>
> Is there any clean solution to this? The only partial comes where there  
> are
> get variables  (such as 'import') we can retrieve to distinguish a page,  
> or
> a part of a page, from another, at which point we can trigger a check
> against our custom capability. Is there any real solution to this, or  
> are we
> stuck editing the otherwise hardcoded caps?
>
>
> On 1/6/10 3:23 PM, "Dion Hulse (dd32)" <wordpress at dd32.id.au> wrote:
>
>> Also, Please do not use the level_* capabilities.
>> They're been deprecated since 2.0 and really need to go away (3.0
>> intrduces a warning that they're deprecated too).
>>
>> Rely on the string caps instead, for example, 'manage_options' is a  
>> pretty
>> good choice most of the time, only admins have that, and that suits 90%  
>> of
>> plugins.
>>
>> On Thu, 07 Jan 2010 07:14:27 +1100, Stephen Rider
>> <wp-hackers at striderweb.com> wrote:
>>
>>>
>>> On Jan 6, 2010, at 1:33 PM, Frank Bueltge wrote:
>>>
>>>> The admin give other users a rolle, not rights and in my plugin it os:
>>>> the admin select the role and i will check only for this. Maybe i must
>>>> add a new capabilitie to the role, the select the admin. And then i
>>>> can check for the new object. A also then it is possiblt to add this
>>>> object to a new role "superman".
>>>
>>> Generally I have found that an existing capability is "close enough" to
>>> the ability I want to add.  If your plugin is doing something truly
>>> unique, though, you may think about actually adding a new capability.
>>>
>>> If you do that, don't forget to assign that Capability to one or more
>>> Roles so somebody can actually do the thing!  ;-)
>>>
>>> (I'm actually going to have to do this soon with a plugin that I don't
>>> even want *admins* to have direct access to.  I believe I'm going to  
>>> end
>>> up creating a new capability and new "super admin" role....)
>>>
>>> Regards,
>>>
>>> Stephen
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
Web: http://dd32.id.au/

From emoya at tribune.com  Wed Jan  6 22:22:06 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Wed, 06 Jan 2010 16:22:06 -0600
Subject: [wp-hackers] current_user_can() and roles ?
In-Reply-To: <op.u54r3rupspxmuu@dd32>
Message-ID: <C76A692E.255E%emoya@tribune.com>

I agree, at the very least, every item in the admin menu should be different
capabilities. Ideally, most activities on each page would have a capability
of their own, or some equivalent that would allow for fine grain
permissions.  

If or until such changes are made to wordpress, the only "clean(er)" (if you
can it that) solution might be to actually have a plugin replace the entire
code of the areas in question, just to that you can put in your own caps.
Not useful once upgrades come around, but at least it would keep people from
changing the core files while adding as much specificity to the capabilities
as I want.

That's an interesting idea and all, but for now, its all edited core files.
Thanks for the feedback, good to know I wasn't completely off base.


On 1/6/10 3:46 PM, "Dion Hulse (dd32)" <wordpress at dd32.id.au> wrote:

> Theres 2 approaches that can be taken here.
> 
> The caps like that could become meta_caps, Ie. you called
> current_user_can('switch_themes', 'widgets'); which could be different
>  from current_user_can('switch_themes', 'themes');
> 
> But that requires Core changes.
> 
> The better option is to have all these functionalities on their own
> capability. For example, I think the Core upgrade is using the Plugin
> upgrade cap. They should be on different capabilities in my opinion.
> 
> Might be worth a trac ticket to add extra caps for all these, so that the
> functionality can be disabled/controlled properly on a per-admin-feature
> basis.
> 
> 
> On Thu, 07 Jan 2010 08:42:18 +1100, Moya, Eddie <emoya at tribune.com> wrote:
> 
>> Since there is a conversation going on about roles and capabilities, I
>> would
>> like to pose another question. What options do we have for granulizing
>> of
>> the capabilities?
>> 
>> For example, I needed to create a new role that would be able to edit
>> widgets, but not themes. Both use the capability "switch themes". Its
>> possible to change the admin menu item capabilities through the global
>> $menu
>> and $submenu arrays. However, this doesn't change the capabilities on the
>> pages themselves, which leaves significant security holes.
>> 
>> Due to time constraints on the project, the solution ended up being that
>> we
>> begrudgingly edited the files themselves to change those hardcoded
>> capabilities.
>> 
>> Is there any clean solution to this? The only partial comes where there
>> are
>> get variables  (such as 'import') we can retrieve to distinguish a page,
>> or
>> a part of a page, from another, at which point we can trigger a check
>> against our custom capability. Is there any real solution to this, or
>> are we
>> stuck editing the otherwise hardcoded caps?
>> 
>> 
>> On 1/6/10 3:23 PM, "Dion Hulse (dd32)" <wordpress at dd32.id.au> wrote:
>> 
>>> Also, Please do not use the level_* capabilities.
>>> They're been deprecated since 2.0 and really need to go away (3.0
>>> intrduces a warning that they're deprecated too).
>>> 
>>> Rely on the string caps instead, for example, 'manage_options' is a
>>> pretty
>>> good choice most of the time, only admins have that, and that suits 90%
>>> of
>>> plugins.
>>> 
>>> On Thu, 07 Jan 2010 07:14:27 +1100, Stephen Rider
>>> <wp-hackers at striderweb.com> wrote:
>>> 
>>>> 
>>>> On Jan 6, 2010, at 1:33 PM, Frank Bueltge wrote:
>>>> 
>>>>> The admin give other users a rolle, not rights and in my plugin it os:
>>>>> the admin select the role and i will check only for this. Maybe i must
>>>>> add a new capabilitie to the role, the select the admin. And then i
>>>>> can check for the new object. A also then it is possiblt to add this
>>>>> object to a new role "superman".
>>>> 
>>>> Generally I have found that an existing capability is "close enough" to
>>>> the ability I want to add.  If your plugin is doing something truly
>>>> unique, though, you may think about actually adding a new capability.
>>>> 
>>>> If you do that, don't forget to assign that Capability to one or more
>>>> Roles so somebody can actually do the thing!  ;-)
>>>> 
>>>> (I'm actually going to have to do this soon with a plugin that I don't
>>>> even want *admins* to have direct access to.  I believe I'm going to
>>>> end
>>>> up creating a new capability and new "super admin" role....)
>>>> 
>>>> Regards,
>>>> 
>>>> Stephen
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> 
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> 


From frank at bueltge.de  Wed Jan  6 22:29:08 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Wed, 6 Jan 2010 23:29:08 +0100
Subject: [wp-hackers] current_user_can() and roles ?
In-Reply-To: <op.u54q13l9spxmuu@dd32>
References: <db047a771001060838v3bd313fbj7d32bbf0483eb0c8@mail.gmail.com> 
	<e1202cb11001061048r4311a10bqedfb27784ce29d65@mail.gmail.com> 
	<db047a771001061105p15a67753t75ee73a8e8426617@mail.gmail.com> 
	<161617691001061125n4d8ebb86pfcb8f976c7a5179a@mail.gmail.com> 
	<db047a771001061133p68144a22q686dd710fee0103a@mail.gmail.com> 
	<B7CCA6AE-DDE9-4056-8EB3-1934350F4034@striderweb.com>
	<op.u54q13l9spxmuu@dd32>
Message-ID: <db047a771001061429q7b1a6e67nd81d495c7f7202e9@mail.gmail.com>

Yes, i see so and will check for capabilities. I check in all my
plugins for this objects and in my new plugin is this a little bid
other. Now i have add a function, she check the default capabilie of
the role and own roles must have this object.
Thanks for discuss and replies!




On Wed, Jan 6, 2010 at 10:23 PM, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:
> Also, Please do not use the level_* capabilities.
> They're been deprecated since 2.0 and really need to go away (3.0 intrduces
> a warning that they're deprecated too).
>
> Rely on the string caps instead, for example, 'manage_options' is a pretty
> good choice most of the time, only admins have that, and that suits 90% of
> plugins.
>
> On Thu, 07 Jan 2010 07:14:27 +1100, Stephen Rider
> <wp-hackers at striderweb.com> wrote:
>
>>
>> On Jan 6, 2010, at 1:33 PM, Frank Bueltge wrote:
>>
>>> The admin give other users a rolle, not rights and in my plugin it os:
>>> the admin select the role and i will check only for this. Maybe i must
>>> add a new capabilitie to the role, the select the admin. And then i
>>> can check for the new object. A also then it is possiblt to add this
>>> object to a new role "superman".
>>
>> Generally I have found that an existing capability is "close enough" to
>> the ability I want to add. ?If your plugin is doing something truly unique,
>> though, you may think about actually adding a new capability.
>>
>> If you do that, don't forget to assign that Capability to one or more
>> Roles so somebody can actually do the thing! ?;-)
>>
>> (I'm actually going to have to do this soon with a plugin that I don't
>> even want *admins* to have direct access to. ?I believe I'm going to end up
>> creating a new capability and new "super admin" role....)
>>
>> Regards,
>>
>> Stephen
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
> --
> Dion Hulse / dd32
>
> Contact:
> ?e: contact at dd32.id.au
> ?msn: msn at d32.id.au
> ?skype: theonly_dd32
> Web: http://dd32.id.au/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Wed Jan  6 22:33:44 2010
From: scribu at gmail.com (scribu)
Date: Thu, 7 Jan 2010 00:33:44 +0200
Subject: [wp-hackers] Write a custom field to a new post via JS??
In-Reply-To: <27FB2AE3-8CFE-4A4F-9A72-BDDDBE55B659@emrl.com>
References: <5DA7A911-661A-4CB5-BE01-6A1569168783@emrl.com>
	<349fe48b1001051512t1fec08n414da3be1bc5dc1c@mail.gmail.com>
	<27FB2AE3-8CFE-4A4F-9A72-BDDDBE55B659@emrl.com>
Message-ID: <349fe48b1001061433u28dbc405ya82670816975c42d@mail.gmail.com>

One of the problems is that the wp_postmeta table can't store negative ids.
That's why you're getting an id of 0.

Can't think of a good solution. Perhaps using add_option() instead, like
autosave does.


On Wed, Jan 6, 2010 at 10:02 PM, Matthew Gerring <mgerring at emrl.com> wrote:

> I found the temporary ID thing yesterday, and now I have my plugin set up
> so that it tries to use add_post_meta with the temporary post ID, but all it
> does is write the meta to the database once the post is published with an ID
> of 0. It works perfectly as long as the post has been assigned an ID.
>
> I looked through the write_post source, and I see what it's doing but I
> don't see it correcting the temporary IDs in post_meta. From admin-ajax.php
> it looks like when you add a custom field, WP creates the real ID and passes
> it back to the original post, but I'm not sure how to duplicate that
> functionality in my plugin.
>
> It would be better if I could just hook into the add-meta action in
> admin-ajax.php, but no matter how I construct the request it always returns
> -1.
>
> My code is here: http://wordpress.pastebin.com/m728fcfcf. It passes the
> temporary ID to the server just fine, and returns it back as successful, but
> WordPress doesn't find the postmeta when I go to save the post.
>
> Anyway. Hoping someone can help.
>
> Thanks,
> Matthew
>
> On Jan 5, 2010, at 3:12 PM, scribu wrote:
>
> > New posts are assigned a temporary id. See how it's used in the
> > wp_write_post() function:
> >
> >
> http://xref.yoast.com/trunk/nav.html?wp-admin/includes/post.php.source.html#l439
> >
> > Hope that helps.
> >
> >
> > On Tue, Jan 5, 2010 at 11:32 PM, Matthew Gerring <mgerring at emrl.com>
> wrote:
> >
> >> Hello all. I have a serious brain twister I hope you all can help me
> solve.
> >>
> >> I have an interface in the WordPress "add new post" screen, accessed via
> >> the media buttons. Basically what it's supposed to do is write an array
> to a
> >> custom field.
> >>
> >> It works fine if you're editing a post- I can pass the array to PHP
> along
> >> with the post ID and use add_post_meta(). But I don't know how to do the
> >> same thing if you're creating a new post, since there's no post ID to
> add a
> >> custom field to.
> >>
> >> Can anyone tell me how I would write metadata to a post that hasn't been
> >> published yet?
> >>
> >> -Matthew
> >>
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> >
> > --
> > http://scribu.net
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From steve at sltaylor.co.uk  Wed Jan  6 22:59:19 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Wed, 6 Jan 2010 22:59:19 +0000
Subject: [wp-hackers] fixes for old versions
Message-ID: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>

A client is worried about the time needed to fully test their site
every time there's an upgrade. It is quite a complex system, a custom
theme interacting with a bunch of plugins, but it's constructed pretty
solidly. Obviously I'll upgrade on a staging server first, but I think
only basic tests would be necessary, certainly for point releases.

I can't find any information on this, but out of curiosity, is it
possible to get *just* security fixes for old WP version? So, say when
3.0 comes out and it jumps up from 2.9.4, would there be a "2.9.5" for
the security fixes? My guess is no, but I thought I'd check.

thanks,

Steve

From scribu at gmail.com  Thu Jan  7 00:06:29 2010
From: scribu at gmail.com (scribu)
Date: Thu, 7 Jan 2010 02:06:29 +0200
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>
References: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>
Message-ID: <349fe48b1001061606i2ef8068fl4620f6192b5599c7@mail.gmail.com>

If there was a security problem that targeted WP 2.9 specifically, I think
it would be fixed. Otherwise, no.

The ideea of maintaining older branches has been suggested several times
before and has been rejected.


On Thu, Jan 7, 2010 at 12:59 AM, Steve Taylor <steve at sltaylor.co.uk> wrote:

> A client is worried about the time needed to fully test their site
> every time there's an upgrade. It is quite a complex system, a custom
> theme interacting with a bunch of plugins, but it's constructed pretty
> solidly. Obviously I'll upgrade on a staging server first, but I think
> only basic tests would be necessary, certainly for point releases.
>
> I can't find any information on this, but out of curiosity, is it
> possible to get *just* security fixes for old WP version? So, say when
> 3.0 comes out and it jumps up from 2.9.4, would there be a "2.9.5" for
> the security fixes? My guess is no, but I thought I'd check.
>
> thanks,
>
> Steve
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From matt at sivel.net  Thu Jan  7 00:28:21 2010
From: matt at sivel.net (Matt Martz)
Date: Wed, 06 Jan 2010 18:28:21 -0600
Subject: [wp-hackers] fixes for old versions
Message-ID: <uwitx30gdtsl08hkvykar5jl.1262824101894@email.android.com>

In this case however we have decided to maintain 2.8 until 3.0 beta is released.  At least that was the last I had heard before the 2.9 release.  Based on feedback and usage of the "legacy" branch we may decide to support more than 1 "legacy" branch.

Someone, maybe Ryan, Westi, Mark, Matt, Andrew or Jane may be able to correct me.

This was also discussed at WC NYC.

"scribu" <scribu at gmail.com> wrote:

>If there was a security problem that targeted WP 2.9 specifically, I think
>it would be fixed. Otherwise, no.
>
>The ideea of maintaining older branches has been suggested several times
>before and has been rejected.
>
>
>On Thu, Jan 7, 2010 at 12:59 AM, Steve Taylor <steve at sltaylor.co.uk> wrote:
>
>> A client is worried about the time needed to fully test their site
>> every time there's an upgrade. It is quite a complex system, a custom
>> theme interacting with a bunch of plugins, but it's constructed pretty
>> solidly. Obviously I'll upgrade on a staging server first, but I think
>> only basic tests would be necessary, certainly for point releases.
>>
>> I can't find any information on this, but out of curiosity, is it
>> possible to get *just* security fixes for old WP version? So, say when
>> 3.0 comes out and it jumps up from 2.9.4, would there be a "2.9.5" for
>> the security fixes? My guess is no, but I thought I'd check.
>>
>> thanks,
>>
>> Steve
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
>-- 
>http://scribu.net
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers

--
Matt Martz
matt at sivel.net

From glenn at glennansley.com  Thu Jan  7 00:31:36 2010
From: glenn at glennansley.com (Glenn Ansley)
Date: Wed, 6 Jan 2010 19:31:36 -0500
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <349fe48b1001061606i2ef8068fl4620f6192b5599c7@mail.gmail.com>
References: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>
	<349fe48b1001061606i2ef8068fl4620f6192b5599c7@mail.gmail.com>
Message-ID: <7474be391001061631l1deb1be3h6e1c980888a5b779@mail.gmail.com>

The closest solution may be to identify the security patches in trac and
just applying those to your site.
If you don't know what you're doing though, this may cause you more
headaches than upgrading minor versions.

On Wed, Jan 6, 2010 at 7:06 PM, scribu <scribu at gmail.com> wrote:

> If there was a security problem that targeted WP 2.9 specifically, I think
> it would be fixed. Otherwise, no.
>
> The ideea of maintaining older branches has been suggested several times
> before and has been rejected.
>
>
> On Thu, Jan 7, 2010 at 12:59 AM, Steve Taylor <steve at sltaylor.co.uk>
> wrote:
>
> > A client is worried about the time needed to fully test their site
> > every time there's an upgrade. It is quite a complex system, a custom
> > theme interacting with a bunch of plugins, but it's constructed pretty
> > solidly. Obviously I'll upgrade on a staging server first, but I think
> > only basic tests would be necessary, certainly for point releases.
> >
> > I can't find any information on this, but out of curiosity, is it
> > possible to get *just* security fixes for old WP version? So, say when
> > 3.0 comes out and it jumps up from 2.9.4, would there be a "2.9.5" for
> > the security fixes? My guess is no, but I thought I'd check.
> >
> > thanks,
> >
> > Steve
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From shane at bugssite.org  Thu Jan  7 04:29:23 2010
From: shane at bugssite.org (Shane A. Froebel)
Date: Wed, 06 Jan 2010 23:29:23 -0500
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <7474be391001061631l1deb1be3h6e1c980888a5b779@mail.gmail.com>
References: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>	<349fe48b1001061606i2ef8068fl4620f6192b5599c7@mail.gmail.com>
	<7474be391001061631l1deb1be3h6e1c980888a5b779@mail.gmail.com>
Message-ID: <4B456323.5000200@bugssite.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I think the deal was that once the MU changes came out, 2.8 support was
going away and 2.9 was for urgent security related releases only.

Since 2.9 will have a longer life because of the 3.x development cycle
of 6 months or more there should be plenty of time for plugin/theme
authors to update there code to deal with the MU changes.

This is one the reasons after the initial 3.0 scope of work is laid out,
we figure out how to better communicate to the plugin developers of
features/functions/queries work before they are brought live.

I think once we hammered out the 3.0 cycle, we should know what to
expect in 3.0 in terms of backwards compatibility or compatibility as
stuff is changed and removed from the system.

Your Friend, Shane
http://bugssite.org/


On 1/6/2010 7:31 PM, Glenn Ansley wrote:
> The closest solution may be to identify the security patches in trac and
> just applying those to your site.
> If you don't know what you're doing though, this may cause you more
> headaches than upgrading minor versions.
> 
> On Wed, Jan 6, 2010 at 7:06 PM, scribu <scribu at gmail.com> wrote:
> 
>> If there was a security problem that targeted WP 2.9 specifically, I think
>> it would be fixed. Otherwise, no.
>>
>> The ideea of maintaining older branches has been suggested several times
>> before and has been rejected.
>>
>>
>> On Thu, Jan 7, 2010 at 12:59 AM, Steve Taylor <steve at sltaylor.co.uk>
>> wrote:
>>
>>> A client is worried about the time needed to fully test their site
>>> every time there's an upgrade. It is quite a complex system, a custom
>>> theme interacting with a bunch of plugins, but it's constructed pretty
>>> solidly. Obviously I'll upgrade on a staging server first, but I think
>>> only basic tests would be necessary, certainly for point releases.
>>>
>>> I can't find any information on this, but out of curiosity, is it
>>> possible to get *just* security fixes for old WP version? So, say when
>>> 3.0 comes out and it jumps up from 2.9.4, would there be a "2.9.5" for
>>> the security fixes? My guess is no, but I thought I'd check.
>>>
>>> thanks,
>>>
>>> Steve
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>>
>> --
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (MingW32)

iQIcBAEBAgAGBQJLRWMjAAoJEC7/vS6gbNwFMygQAIU2f216a+WU99yqd2YunfSk
KZc6Vd+1bGMmnStlmfOTp5njSc4Qu+Ig2U+3n7qdR9K7S8gCqzQ2gnvG8YlsHVB7
k+RxWbPUNA7AzxWlv8b1j/mrJeafv5gFjSyeniRazsG8lijnn3Z7aJ2ksueBj3mR
bV+LYrvxlF/kMnR9UiKEGVatAN/LRdY/iIIOQsvY73T3ev6EKrR6jZzTVoTYXooT
0+gPO2gvsjcVDnptSiFlWAIDo1BMLcBKdemp0WB0GgqECu4Zl4doDnmF6qILYz3Y
fhe3cj1DAXNTqXEYqIK8Pv4mnraottWUmrhpHjTYuwR+VbhUtSfzOrltFTYne/uG
VCBZWl7JdZEs58M6JUMOM/Chnx+XZj3TwyC9Gmi/gUgwqxH5cDI3aQZcYdhaOGHE
HcuAS+z3KzUu9yOgjBnop4SpbiKCtKzOPP06+ztaZip+XtlPf1IG9qYHilHQr/R6
He0e0rTy0NMLVRDvimXmKoJSI5rz2+ldSMhKhj3PLwz2aek3dxoFV81CZQRptxtr
QqnhRY2AUUHQPOSW4kgr9WA91XbMOkXXnxFIztjbGyssG/rxdYmB8t5ZwTaJYOYI
1t+Gxhxsu8WBS7d0E4zIMUJI9bUqKAE8dACxeyBfTwuKU+EenIEBbB1qj7yp2t5k
V8U8q32L8DqjO82QWQbM
=QFYb
-----END PGP SIGNATURE-----

From erisds at gmail.com  Thu Jan  7 07:58:16 2010
From: erisds at gmail.com (Hannah Broughton)
Date: Thu, 7 Jan 2010 07:58:16 +0000
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <4B456323.5000200@bugssite.org>
References: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>	
	<349fe48b1001061606i2ef8068fl4620f6192b5599c7@mail.gmail.com> 
	<7474be391001061631l1deb1be3h6e1c980888a5b779@mail.gmail.com> 
	<4B456323.5000200@bugssite.org>
Message-ID: <-2795684241638994436@unknownmsgid>

Just throwing this out there as an alternative point of view. I would
tend to see this as a client / account management problem rather than
a problem with Wordpress.

We use a fixed monthly maintenance contract to cover client requested
amends & upgrades so that the client doesn't get a bill everytine
there's an upgrade.

Sent from my iPhone

On 7 Jan 2010, at 04:29, "Shane A. Froebel" <shane at bugssite.org> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> I think the deal was that once the MU changes came out, 2.8 support
> was
> going away and 2.9 was for urgent security related releases only.
>
> Since 2.9 will have a longer life because of the 3.x development cycle
> of 6 months or more there should be plenty of time for plugin/theme
> authors to update there code to deal with the MU changes.
>
> This is one the reasons after the initial 3.0 scope of work is laid
> out,
> we figure out how to better communicate to the plugin developers of
> features/functions/queries work before they are brought live.
>
> I think once we hammered out the 3.0 cycle, we should know what to
> expect in 3.0 in terms of backwards compatibility or compatibility as
> stuff is changed and removed from the system.
>
> Your Friend, Shane
> http://bugssite.org/
>
>
> On 1/6/2010 7:31 PM, Glenn Ansley wrote:
>> The closest solution may be to identify the security patches in
>> trac and
>> just applying those to your site.
>> If you don't know what you're doing though, this may cause you more
>> headaches than upgrading minor versions.
>>
>> On Wed, Jan 6, 2010 at 7:06 PM, scribu <scribu at gmail.com> wrote:
>>
>>> If there was a security problem that targeted WP 2.9 specifically,
>>> I think
>>> it would be fixed. Otherwise, no.
>>>
>>> The ideea of maintaining older branches has been suggested several
>>> times
>>> before and has been rejected.
>>>
>>>
>>> On Thu, Jan 7, 2010 at 12:59 AM, Steve Taylor <steve at sltaylor.co.uk>
>>> wrote:
>>>
>>>> A client is worried about the time needed to fully test their site
>>>> every time there's an upgrade. It is quite a complex system, a
>>>> custom
>>>> theme interacting with a bunch of plugins, but it's constructed
>>>> pretty
>>>> solidly. Obviously I'll upgrade on a staging server first, but I
>>>> think
>>>> only basic tests would be necessary, certainly for point releases.
>>>>
>>>> I can't find any information on this, but out of curiosity, is it
>>>> possible to get *just* security fixes for old WP version? So, say
>>>> when
>>>> 3.0 comes out and it jumps up from 2.9.4, would there be a
>>>> "2.9.5" for
>>>> the security fixes? My guess is no, but I thought I'd check.
>>>>
>>>> thanks,
>>>>
>>>> Steve
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>>
>>>
>>> --
>>> http://scribu.net
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.10 (MingW32)
>
> iQIcBAEBAgAGBQJLRWMjAAoJEC7/vS6gbNwFMygQAIU2f216a+WU99yqd2YunfSk
> KZc6Vd+1bGMmnStlmfOTp5njSc4Qu+Ig2U+3n7qdR9K7S8gCqzQ2gnvG8YlsHVB7
> k+RxWbPUNA7AzxWlv8b1j/mrJeafv5gFjSyeniRazsG8lijnn3Z7aJ2ksueBj3mR
> bV+LYrvxlF/kMnR9UiKEGVatAN/LRdY/iIIOQsvY73T3ev6EKrR6jZzTVoTYXooT
> 0+gPO2gvsjcVDnptSiFlWAIDo1BMLcBKdemp0WB0GgqECu4Zl4doDnmF6qILYz3Y
> fhe3cj1DAXNTqXEYqIK8Pv4mnraottWUmrhpHjTYuwR+VbhUtSfzOrltFTYne/uG
> VCBZWl7JdZEs58M6JUMOM/Chnx+XZj3TwyC9Gmi/gUgwqxH5cDI3aQZcYdhaOGHE
> HcuAS+z3KzUu9yOgjBnop4SpbiKCtKzOPP06+ztaZip+XtlPf1IG9qYHilHQr/R6
> He0e0rTy0NMLVRDvimXmKoJSI5rz2+ldSMhKhj3PLwz2aek3dxoFV81CZQRptxtr
> QqnhRY2AUUHQPOSW4kgr9WA91XbMOkXXnxFIztjbGyssG/rxdYmB8t5ZwTaJYOYI
> 1t+Gxhxsu8WBS7d0E4zIMUJI9bUqKAE8dACxeyBfTwuKU+EenIEBbB1qj7yp2t5k
> V8U8q32L8DqjO82QWQbM
> =QFYb
> -----END PGP SIGNATURE-----
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From steve at sltaylor.co.uk  Thu Jan  7 12:27:30 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Thu, 7 Jan 2010 12:27:30 +0000
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <-2795684241638994436@unknownmsgid>
References: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>
	<349fe48b1001061606i2ef8068fl4620f6192b5599c7@mail.gmail.com>
	<7474be391001061631l1deb1be3h6e1c980888a5b779@mail.gmail.com>
	<4B456323.5000200@bugssite.org> <-2795684241638994436@unknownmsgid>
Message-ID: <a21f8bf01001070427i5554ee5fo5792496eac582d85@mail.gmail.com>

Thanks for the replies.

Hannah mentioned the issue of billing and client management. My main
concern is time spent testing. The client wants to stick with a major
WP release for as long as possible and stay secure. The length of time
we can apply security fixes to 2.x before doing the upgrade to 2.x+1
(and do all the testing involved) is a WP development issue, no?


From bogus@does.not.exist.com  Wed Jan  6 07:10:01 2010
From: bogus@does.not.exist.com ()
Date: Wed, 06 Jan 2010 07:10:01 -0000
Subject: No subject
Message-ID: <mailman.1.1262867263.29977.wp-hackers@lists.automattic.com>

branches - but I'm not sure where I go to get these releases. I assume
it's not down to Glenn's suggestion of manually identifying and
applying code from trac?

From shane at bugssite.org  Thu Jan  7 12:37:10 2010
From: shane at bugssite.org (Shane A. Froebel)
Date: Thu, 07 Jan 2010 07:37:10 -0500
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <a21f8bf01001070427i5554ee5fo5792496eac582d85@mail.gmail.com>
References: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>	<349fe48b1001061606i2ef8068fl4620f6192b5599c7@mail.gmail.com>	<7474be391001061631l1deb1be3h6e1c980888a5b779@mail.gmail.com>	<4B456323.5000200@bugssite.org>
	<-2795684241638994436@unknownmsgid>
	<a21f8bf01001070427i5554ee5fo5792496eac582d85@mail.gmail.com>
Message-ID: <4B45D576.6090207@bugssite.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Steve,

http://wordpress.org/download/release-archive/

This is where you can find the builds without having to go through TRAC. :-)

Your Friend, Shane
http://bugssite.org/

On 1/7/2010 7:27 AM, Steve Taylor wrote:
> Thanks for the replies.
> 
> Hannah mentioned the issue of billing and client management. My main
> concern is time spent testing. The client wants to stick with a major
> WP release for as long as possible and stay secure. The length of time
> we can apply security fixes to 2.x before doing the upgrade to 2.x+1
> (and do all the testing involved) is a WP development issue, no?
> 
>>From other comment it seems there is limited support for older
> branches - but I'm not sure where I go to get these releases. I assume
> it's not down to Glenn's suggestion of manually identifying and
> applying code from trac?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (MingW32)

iQIcBAEBAgAGBQJLRdV1AAoJEC7/vS6gbNwFlSoP/iqyhDHmhThDPyRosGNqbVZP
cb+MqMYWn9hlsRPggFulLzqL8xw45I+S96hrzDYT/eQn1u42pk/+XcbW6fJ0Aojg
tXAzhfW3o5mqQtwnsw5KgqenWwXCMgVA23w8V4JcsKNN0YWE8rS7j3L5zem1WcpC
4ua9Y9xHtYZ19HqiU2Lerg+Ogg0O1AJ6Y0EKkUzpsgaiQMEHcqYR8P5nXfgN6K+j
O5cOxWw/t81DX0Pn9bnT94wGlNvRh+cEaVTSWpJLFwZRGvf/FLliIg6Z8cw55vX8
MpxwIP0Ql1u0RrMFpwMrE4AiagzHLAW8KXaoJ8/UqEiQ2ZsFZHBgvanIc5VbI2lm
t0sVctmd7z0ROyPonBK6Z8Nm88YbK6yRC4mpnD+aMlAtuCI4BYo4ePWMzOSdVXbv
5Pr/3NJBxZwop1KBQXn3QMDP2Glha356yCPabtknUi+Bx7ExKH8nhi+MdLq705sq
rtx4kt9o6rYaGTIsGDYa01gOmE30i7ARwqu8vqXoZoAyLwFzQAXtmz8iAe5VDqit
boFZfCcda8hQtQ6BLY2zfPBP/e/NierzHTc9hCunuPaOe8WgU2up01ngQyGS2zDj
EbQgdDHUsvJ/EO0gFhbw2KldSbMb+FbVS8GMPBKQpTCe1GcXvptJfxCgw+9DQG48
MdjEGs0hc5TqriK2Uw4N
=boWa
-----END PGP SIGNATURE-----

From wordpress at dd32.id.au  Thu Jan  7 12:57:44 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 07 Jan 2010 23:57:44 +1100
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <a21f8bf01001070427i5554ee5fo5792496eac582d85@mail.gmail.com>
References: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>
	<349fe48b1001061606i2ef8068fl4620f6192b5599c7@mail.gmail.com>
	<7474be391001061631l1deb1be3h6e1c980888a5b779@mail.gmail.com>
	<4B456323.5000200@bugssite.org> <-2795684241638994436@unknownmsgid>
	<a21f8bf01001070427i5554ee5fo5792496eac582d85@mail.gmail.com>
Message-ID: <op.u55yaim7spxmuu@dd32>

On Thu, 07 Jan 2010 23:27:30 +1100, Steve Taylor <steve at sltaylor.co.uk>  
wrote:
> From other comment it seems there is limited support for older
> branches - but I'm not sure where I go to get these releases. I assume
> it's not down to Glenn's suggestion of manually identifying and
> applying code from trac?

The limited security-only support for the previous stable branch doesnt  
seem to be actually advertised on WordPress.org's download page at present.

I'd expect "Legacy Security-only updates release" to get listed on  
http://wordpress.org/download/

If theres a release made, there'll be an announcement made on teh dev blog  
to start with, and the Automatic upgrade inside of WordPress will offer to  
upgrade to the latest release in that branch before offering the next  
major release.


-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
Web: http://dd32.id.au/

From steve at sltaylor.co.uk  Thu Jan  7 13:05:57 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Thu, 7 Jan 2010 13:05:57 +0000
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <4B45D576.6090207@bugssite.org>
References: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>
	<349fe48b1001061606i2ef8068fl4620f6192b5599c7@mail.gmail.com>
	<7474be391001061631l1deb1be3h6e1c980888a5b779@mail.gmail.com>
	<4B456323.5000200@bugssite.org> <-2795684241638994436@unknownmsgid>
	<a21f8bf01001070427i5554ee5fo5792496eac582d85@mail.gmail.com>
	<4B45D576.6090207@bugssite.org>
Message-ID: <a21f8bf01001070505w67df9927yb63293d5b22e6d07@mail.gmail.com>

> http://wordpress.org/download/release-archive/

This page says:

"None of these are safe to use, except the latest in the 2.9 series,
which is actively maintained."

Not sure where this leaves things? Say 3.0 comes out when we're on
2.9.3, will there also be a 2.9.4 that's secure?

From matt at sivel.net  Thu Jan  7 13:26:26 2010
From: matt at sivel.net (Matt Martz)
Date: Thu, 07 Jan 2010 07:26:26 -0600
Subject: [wp-hackers] fixes for old versions
Message-ID: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>

That is currently the plan.  Until 3.1 beta comes out 2.9 would continue to be security patched.

"Steve Taylor" <steve at sltaylor.co.uk> wrote:

>> http://wordpress.org/download/release-archive/
>
>This page says:
>
>"None of these are safe to use, except the latest in the 2.9 series,
>which is actively maintained."
>
>Not sure where this leaves things? Say 3.0 comes out when we're on
>2.9.3, will there also be a 2.9.4 that's secure?
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers

--
Matt Martz
matt at sivel.net

From lari at kairo.fi  Thu Jan  7 13:48:50 2010
From: lari at kairo.fi (Lari Elovainio)
Date: Thu, 7 Jan 2010 15:48:50 +0200
Subject: [wp-hackers] Cleaning up tags
Message-ID: <9C1EB22D-EFA6-451F-9471-2C15A5848E4C@kairo.fi>

Hello all,

a client has currently 10 237 post tags. While a great achievement and the result of a lot of work, I?m thinking of removing at least those tags that have only been used once or not at all (8 836).

I can of course do this easily from the term_taxonomy table but what about the term_relationships table? Do these extra tag relationships there slow down the blog? The relationships table currently has over 67 000 rows. How do I remove these too? I?m not good with mysql and could not find a plugin that would do this.

Lari

From bruce.hopkins at gmail.com  Thu Jan  7 13:54:37 2010
From: bruce.hopkins at gmail.com (Bruce Hopkins)
Date: Thu, 7 Jan 2010 08:54:37 -0500
Subject: [wp-hackers] Cleaning up tags
In-Reply-To: <9C1EB22D-EFA6-451F-9471-2C15A5848E4C@kairo.fi>
References: <9C1EB22D-EFA6-451F-9471-2C15A5848E4C@kairo.fi>
Message-ID: <4b45e7a2.0504c00a.767d.5c0c@mx.google.com>

I'm not sure about the process for this, but you may want to check the traffic to various tags. I know I am ranked for a lot of tags on my blog and removing them would remove a good deal of my traffic. May want to consider this. Also if you do and these tag pages or indexed, you may want to get one of the redirect plugins to redirect any of these back to the home page.

Bruce

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Lari Elovainio
Sent: Thursday, January 07, 2010 8:49 AM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Cleaning up tags

Hello all,

a client has currently 10 237 post tags. While a great achievement and the result of a lot of work, I?m thinking of removing at least those tags that have only been used once or not at all (8 836).

I can of course do this easily from the term_taxonomy table but what about the term_relationships table? Do these extra tag relationships there slow down the blog? The relationships table currently has over 67 000 rows. How do I remove these too? I?m not good with mysql and could not find a plugin that would do this.

Lari
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From steve at sltaylor.co.uk  Thu Jan  7 13:55:02 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Thu, 7 Jan 2010 13:55:02 +0000
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
Message-ID: <a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>

> That is currently the plan. ?Until 3.1 beta comes out 2.9 would continue to be security patched.

The site in question is 2.8.6 still. Until we're happy to upgrade to
2.9 (presumably necessary when 3.0 comes out at the latest, when 2.8
is no longer security patched), do I just download the 2.8.6 in the
release archive?

I'm unclear whether this version in the archive is security patched.
If you're still patching the previous version, wouldn't there be
2.8.7, etc.?

From shane at bugssite.org  Thu Jan  7 14:22:38 2010
From: shane at bugssite.org (Shane A. Froebel)
Date: Thu, 07 Jan 2010 09:22:38 -0500
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>
Message-ID: <4B45EE2E.5020400@bugssite.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Steve,

We will not maintain 2.8.x for any reason. If we do, we get back to
having to slow down development of any future releases.

Your Friend, Shane
http://bugssite.org/

On 1/7/2010 8:55 AM, Steve Taylor wrote:
>> That is currently the plan.  Until 3.1 beta comes out 2.9 would continue to be security patched.
> 
> The site in question is 2.8.6 still. Until we're happy to upgrade to
> 2.9 (presumably necessary when 3.0 comes out at the latest, when 2.8
> is no longer security patched), do I just download the 2.8.6 in the
> release archive?
> 
> I'm unclear whether this version in the archive is security patched.
> If you're still patching the previous version, wouldn't there be
> 2.8.7, etc.?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (MingW32)

iQIcBAEBAgAGBQJLRe4uAAoJEC7/vS6gbNwFOaoP/RkAFm2ndQ1hYu6dsMzKss3F
6m2CkXxFEFB4LAVQNRzz5kFfVoQtZHuD2rmRd5wsUV6XzmluPeB6Fnu4HTNXwhNB
U9kC1yZUKLPe0m6wtxBfzcnntpc8KWIiEdxF21lgUfFwgAupT5/KaZtG9RDpTo4b
LYCTuV71ZmgffA4wYysK7TdPTIC5mdjFP/534MEFTfQk9++JOP5GHM1h3zpyy40c
h4xWv+fln70ZY9EjduIJ2mcUaQMJwRRXd5s2YaSYr3tZnr0WSVI42A/Na/DEvjID
hr7tpKSVOpAYihqT96EaOybO+XYBTL2zcCx7UcsiBiE/Z2WMpLzSegNCvl71jB1z
6ZDp8gvvKSk/aMHrYTIYTb5eG1cDtNxwHmB+MTE4jQjFBt18mbojTWhI/b2w7Niz
ooBw+T5F7SwFoH/yLWl7hW8BLET1dQyi+qKsMuavZEoZ8Pgou1ocgiqaPcvgeYBJ
GA9MsPh/EapV7gm9GQ0VXanYTV3kJ2lDi2s9oRnupJOYSwRmTbp4KrJQjGw0QF1f
r3Dg46r5/A9kfCfh4EOgitL2r8wpyb6lPoV4PfD2KSiP2SJ+VmyI9hYw2qweT4IJ
KaEdQdlwtACL3F0Vi/fAsTCxpT31YMo9u0wkdmpbdERlrUkb0Yr9FSTJzq5bW+jW
+l3ImvvKDy3qceqy/9z5
=n8e6
-----END PGP SIGNATURE-----

From steve at sltaylor.co.uk  Thu Jan  7 14:49:45 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Thu, 7 Jan 2010 14:49:45 +0000
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <4B45EE2E.5020400@bugssite.org>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>
	<4B45EE2E.5020400@bugssite.org>
Message-ID: <a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com>

> We will not maintain 2.8.x for any reason. If we do, we get back to
> having to slow down development of any future releases.

So:

- Now 2.9 is out, all 2.8.x installations are insecure?
- Once we do upgrade to 2.9, that branch *will* get security patches
even when 3.0 is released?
- Is this an ongoing plan, so that the version previous to the current
one will get security patches? Or is it just for the 3.0 transition?

I have to admit I've never looked into this before, but now I have
it's a bit confusing and a bit worrying. I've just developed a pretty
complex WP site for a client, and they really want to avoid feature
upgrades as long as possible, as testing is time-consuming. They just
want to stay secure, obviously.

I was ready to just say to them, "Sorry, you just need to bite the
bullet and upgrade to each release to stay secure", but I thought I'd
check. I can see their perspective. They don't expect upgrades to be
mandatory. Obviously the issue with WP is to do with compatibility
with plugins and theme code rather than shelling out for the next
version. But either way, they expect "upgrade" and "security fix" to
be separate things.

It'd be nice to have some leeway, like at least the next-to-current
version being maintained as standard. It seems this is the case (from
2.9 on?), but on such a crucial issue as security, it'd be nice for
this to be detailed clearly, up-front on the download page. It doesn't
seem like an issue you'd need to dig and dig on the hackers list for
clarity on.

From dan at jallits.com  Thu Jan  7 14:57:50 2010
From: dan at jallits.com (Daniel Craig Jallits)
Date: Thu, 7 Jan 2010 08:57:50 -0600
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>
	<4B45EE2E.5020400@bugssite.org>
	<a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com>
Message-ID: <26A9192F-7C3A-4928-B96E-F50FB203A794@jallits.com>

Hi Steve:

> They don't expect upgrades to be mandatory.

No matter what technology one uses, software or hardware, I feel  
pretty confident in saying that you can expect mandatory upgrades. It  
is just the nature of the beast. You need to explain that to your  
client, and explain that the upgrades and testing is far less  
intensive with WordPress than say with a commercial product like  
Oracle UCM where companies are paying (tens of) thousands for  
maintenance agreements a month.

Best Regards,

Dan

From wordpress at santosj.name  Thu Jan  7 15:01:30 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Thu, 07 Jan 2010 09:01:30 -0600
Subject: [wp-hackers] This is a Performance Enhancement?
Message-ID: <4B45F74A.6000109@santosj.name>

if ( class_exists('Closure') ) :
  function add_filter(..) {
    // version of function that accepts closures
  }
else :
  function add_filter(..) {
    // version of function that doesn't accept closures
  }


Just because someone may be a good coder in one field or another, doesn't mean shit that they know everything or even anything about performance.

Jacob Santos


From steve at sltaylor.co.uk  Thu Jan  7 15:06:16 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Thu, 7 Jan 2010 15:06:16 +0000
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <26A9192F-7C3A-4928-B96E-F50FB203A794@jallits.com>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>
	<4B45EE2E.5020400@bugssite.org>
	<a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com>
	<26A9192F-7C3A-4928-B96E-F50FB203A794@jallits.com>
Message-ID: <a21f8bf01001070706p3c471c5y6b901444d7e43e8b@mail.gmail.com>

> No matter what technology one uses, software or hardware, I feel pretty
> confident in saying that you can expect mandatory upgrades. It is just the
> nature of the beast. You need to explain that to your client, and explain
> that the upgrades and testing is far less intensive with WordPress than say
> with a commercial product like Oracle UCM where companies are paying (tens
> of) thousands for maintenance agreements a month.

This was my default position, and generally what I've been telling them.

However, I've learned to be cautious about saying "Sorry, that's just
the way WP is" to clients before I find out for sure if what they're
asking for is possible (WP always surprises me!). In this case, it
seems like *some* level of separation of security fixes and upgrades
is going on - I just want to be clear about the formal policy so I can
communicate that to my client (and know it myself).

From dylankkuhn at gmail.com  Thu Jan  7 15:21:23 2010
From: dylankkuhn at gmail.com (Dylan Kuhn)
Date: Thu, 7 Jan 2010 08:21:23 -0700
Subject: [wp-hackers] Write a custom field to a new post via JS??
In-Reply-To: <349fe48b1001061433u28dbc405ya82670816975c42d@mail.gmail.com>
References: <5DA7A911-661A-4CB5-BE01-6A1569168783@emrl.com> 
	<349fe48b1001051512t1fec08n414da3be1bc5dc1c@mail.gmail.com> 
	<27FB2AE3-8CFE-4A4F-9A72-BDDDBE55B659@emrl.com>
	<349fe48b1001061433u28dbc405ya82670816975c42d@mail.gmail.com>
Message-ID: <e7471da81001070721h3c90a104w49eb2ac673f81921@mail.gmail.com>

>One of the problems is that the wp_postmeta table can't store negative ids.

I also ran into this and would be interested to know what you end up
doing. For now I hide my ajax buttons on new posts, and just process
posted data on the save_post action instead, when the real ID is
available.

-dylan-

From wordpress at santosj.name  Thu Jan  7 15:55:21 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Thu, 07 Jan 2010 09:55:21 -0600
Subject: [wp-hackers] This is a Performance Enhancement? Clarification
Message-ID: <4B4603E9.7040005@santosj.name>

Well, I think I was trolling in my last email. The point is that I grow 
tired trying to argue with people who assume that just, because 
$end-$start = faster than another $end-$start = slower that somehow 
their knowledge of performance is valid and should be accepted. Or worse 
yet, since they are supposed to know PHP well that obviously they know 
something as trivial as performance. That just because someone may not 
know everything about everything related PHP, that his facts and 
evidence are somehow invalid.

I would be more willing to accept if perhaps people didn't try to say 
that run-time compilation equals faster than compile-time compilation. 
Yeah, everyone knows that after the script is already compiled that it 
is faster to compile a function or 20 after the script is running 
(</sarcasm>). Doesn't matter that having to stop the script execution in 
order to compile the new code doesn't make sense that it speeds up 
anything. How does that make sense, that it will speed anything up? [1]

I'm looking for an valid argument with performance measurements and 
proof from either PHP engine programmers, Opcode Cache programmers, etc 
and people that know what they are talking about to explain to me that 
stopping execution to go back to the compile stage is faster than not 
doing that second step. If we can agree that it is not, then the code in 
the last post should never be used for performance and should never be 
referenced that it should be used for performance. Any other reason 
would have been acknowledged. With all of the differing statements out 
there, it makes it really hard to battle with people when you know you 
are correct and the people you are arguing with are misinformed.

Jacob Santos


[1] Of course, as I think about it, a lot of the WordPress code base 
does just this and while it runs slower than other code. As well as 
other code bases that load files dynamically (MVC frameworks). The 
argument is whether or not the advantage of losing a few milliseconds is 
worth the additional feature set that is allowed from the lost.

From dan at jallits.com  Thu Jan  7 16:04:29 2010
From: dan at jallits.com (Daniel Craig Jallits)
Date: Thu, 7 Jan 2010 10:04:29 -0600
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <a21f8bf01001070706p3c471c5y6b901444d7e43e8b@mail.gmail.com>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>
	<4B45EE2E.5020400@bugssite.org>
	<a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com>
	<26A9192F-7C3A-4928-B96E-F50FB203A794@jallits.com>
	<a21f8bf01001070706p3c471c5y6b901444d7e43e8b@mail.gmail.com>
Message-ID: <075B351F-20F5-4999-AF94-19F3DC6C651F@jallits.com>


On Jan 7, 2010, at 9:06 AM, Steve Taylor wrote:

> saying "Sorry, that's just the way WP is" to clients

I understand, but the more accurate response probably should be  
"Sorry, that is the way software is."

Regardless, it is my experience that you can upgrade 99.9% of the time  
to X.X.X releases without any problems. These are typically security  
patches and bug fixes.




From steve at sltaylor.co.uk  Thu Jan  7 16:37:59 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Thu, 7 Jan 2010 16:37:59 +0000
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <075B351F-20F5-4999-AF94-19F3DC6C651F@jallits.com>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>
	<4B45EE2E.5020400@bugssite.org>
	<a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com>
	<26A9192F-7C3A-4928-B96E-F50FB203A794@jallits.com>
	<a21f8bf01001070706p3c471c5y6b901444d7e43e8b@mail.gmail.com>
	<075B351F-20F5-4999-AF94-19F3DC6C651F@jallits.com>
Message-ID: <a21f8bf01001070837x2cdb504awf249145ba06cc711@mail.gmail.com>

>> saying "Sorry, that's just the way WP is" to clients
>
> I understand, but the more accurate response probably should be "Sorry, that
> is the way software is."

Regarding separation of security fixes and upgrades, I can see where
they're coming from. I still have MS Office 2003, but it's secured
with patches still. No doubt the non-tech people at the company see
things this way, and don't understand why upgrades are *immediately*
mandatory.

> Regardless, it is my experience that you can upgrade 99.9% of the time to
> X.X.X releases without any problems. These are typically security patches
> and bug fixes.

Definitely. I'm just looking for clarification on skipping at least
one X.X release. So far it seems to be indicated that this will be
possible from 2.9 on (though it's not clear if this is ongoing), and
that currently all 2.8 installations are insecure and need upgrading.

Generally, I thought it'd be good to have clarification of this issue
in one place in the dowloads section of wp.org.

From office at wpseek.com  Thu Jan  7 16:42:12 2010
From: office at wpseek.com (=?ISO-8859-1?Q?Oliver_Schl=F6be?=)
Date: Thu, 07 Jan 2010 17:42:12 +0100
Subject: [wp-hackers] This is a Performance Enhancement? Clarification
In-Reply-To: <4B4603E9.7040005@santosj.name>
References: <4B4603E9.7040005@santosj.name>
Message-ID: <4B460EE4.3060405@wpseek.com>

I totally do get your intention... not.

:)

--
Regards,
Oliver Schl?be

http://wpseek.com/
http://wpworldmap.net/

-- Code so clean you could eat off it.


On 07.01.2010 16:55, Jacob Santos wrote:
> Well, I think I was trolling in my last email. The point is that I 
> grow tired trying to argue with people who assume that just, because 
> $end-$start = faster than another $end-$start = slower that somehow 
> their knowledge of performance is valid and should be accepted. Or 
> worse yet, since they are supposed to know PHP well that obviously 
> they know something as trivial as performance. That just because 
> someone may not know everything about everything related PHP, that his 
> facts and evidence are somehow invalid.
>
> I would be more willing to accept if perhaps people didn't try to say 
> that run-time compilation equals faster than compile-time compilation. 
> Yeah, everyone knows that after the script is already compiled that it 
> is faster to compile a function or 20 after the script is running 
> (</sarcasm>). Doesn't matter that having to stop the script execution 
> in order to compile the new code doesn't make sense that it speeds up 
> anything. How does that make sense, that it will speed anything up? [1]
>
> I'm looking for an valid argument with performance measurements and 
> proof from either PHP engine programmers, Opcode Cache programmers, 
> etc and people that know what they are talking about to explain to me 
> that stopping execution to go back to the compile stage is faster than 
> not doing that second step. If we can agree that it is not, then the 
> code in the last post should never be used for performance and should 
> never be referenced that it should be used for performance. Any other 
> reason would have been acknowledged. With all of the differing 
> statements out there, it makes it really hard to battle with people 
> when you know you are correct and the people you are arguing with are 
> misinformed.
>
> Jacob Santos
>
>
> [1] Of course, as I think about it, a lot of the WordPress code base 
> does just this and while it runs slower than other code. As well as 
> other code bases that load files dynamically (MVC frameworks). The 
> argument is whether or not the advantage of losing a few milliseconds 
> is worth the additional feature set that is allowed from the lost.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From otto at ottodestruct.com  Thu Jan  7 16:42:48 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 7 Jan 2010 10:42:48 -0600
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <a21f8bf01001070837x2cdb504awf249145ba06cc711@mail.gmail.com>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com> 
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com> 
	<4B45EE2E.5020400@bugssite.org>
	<a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com> 
	<26A9192F-7C3A-4928-B96E-F50FB203A794@jallits.com>
	<a21f8bf01001070706p3c471c5y6b901444d7e43e8b@mail.gmail.com> 
	<075B351F-20F5-4999-AF94-19F3DC6C651F@jallits.com>
	<a21f8bf01001070837x2cdb504awf249145ba06cc711@mail.gmail.com>
Message-ID: <161617691001070842g63fb90ecibe5d1bc83645e2ca@mail.gmail.com>

On Thu, Jan 7, 2010 at 10:37 AM, Steve Taylor <steve at sltaylor.co.uk> wrote:
> Regarding separation of security fixes and upgrades, I can see where
> they're coming from. I still have MS Office 2003, but it's secured
> with patches still. No doubt the non-tech people at the company see
> things this way, and don't understand why upgrades are *immediately*
> mandatory.

They don't expose their Office installation to the entire world via
the internet.

Of course, you probably know this, but it's important to tell clients
that software which is visible to the world is more important than
software they use on their own machines. If Word had a security
vulnerability, then somebody would still have to get them to load a
document to gain access to that system.

Also, switch to OpenOffice already. It's slimmer and better for
personal use, IMO. Unless you're doing wacky document collaboration in
an all-Microsoft shop running BackOffice Server, MS Office is way
overkill.

-Otto

From aaron at xavisys.com  Thu Jan  7 16:49:14 2010
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Thu, 07 Jan 2010 09:49:14 -0700
Subject: [wp-hackers] A quick query for a push in the right
	(plugin)	direction
In-Reply-To: <71ddd7491001042053s1e5e9ce0r7d058284c9c71c98@mail.gmail.com>
References: <71ddd7491001042053s1e5e9ce0r7d058284c9c71c98@mail.gmail.com>
Message-ID: <4B46108A.50205@xavisys.com>

To be clear, this is a plug for my own plugin, but Featured Content 
Showcase uses the 2.9 post images, and also uses jQuery rather than some 
other library (like mootools):
http://wordpress.org/extend/plugins/featured-content-showcase/

Doug Stewart wrote:
> Howdy all,
> Does anyone know of any new "Featured Post"/JavaScript image carousel
> plugins out there that take advantage of the new-to-2.9 post_image()
> functionality? Most of the ones that I see are all pulling from post_meta
> and custom fields.
>
> Thanks!
>   


From jess at funroe.net  Thu Jan  7 17:10:56 2010
From: jess at funroe.net (Jess Planck)
Date: Thu, 7 Jan 2010 11:10:56 -0600
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <161617691001070842g63fb90ecibe5d1bc83645e2ca@mail.gmail.com>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>
	<4B45EE2E.5020400@bugssite.org>
	<a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com>
	<26A9192F-7C3A-4928-B96E-F50FB203A794@jallits.com>
	<a21f8bf01001070706p3c471c5y6b901444d7e43e8b@mail.gmail.com>
	<075B351F-20F5-4999-AF94-19F3DC6C651F@jallits.com>
	<a21f8bf01001070837x2cdb504awf249145ba06cc711@mail.gmail.com>
	<161617691001070842g63fb90ecibe5d1bc83645e2ca@mail.gmail.com>
Message-ID: <C2312872-D6E0-4CAC-A390-FD0D13FF5B76@funroe.net>

I don't know if I would blame software for having to do the work for upgrades. This might be more of a business model issue than a problem with WordPress.

I didn't grab as much client work last year because my day job is pounding me into the pavement, but I did have to perform several client upgrades. At the end of the upgrade madness I started sending out maintenance contracts (along with those OMG BBQ! invoices) so those clients can pre-pay hourly work for things like security updates. I'm giving them the support they need. They may have to buy more time, but they at least know what they are in for.

So not only do they pre-pay for the work to keep things updated, but If they get a balance at the end of the year I can either do a refund or apply that to some feature enhancements. BUT chances are everything is going to go to bug-fixes and updates. A client will always find an issue that needs fixing and websites never stay the same.

If you do heavy customization of a WordPress install then you should charge the maintenance for it. If it means doing a diff to get the security fixes ing then your client should be ready for it. The web has moved faster than the desktop since I've been working here, and I'd hate to see that progress get stifled.

Just IMHO, but I understand the upgrade pain. I think folks here that can point out the WordPress Debian releases to show how problematic it can be.

Jess

[  :P  ]  jess planck  -  http://funroe.net

On Jan 7, 2010, at 10:42 AM, Otto wrote:

> They don't expose their Office installation to the entire world via
> the internet.


From peter.westwood at ftwr.co.uk  Thu Jan  7 17:11:27 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu, 7 Jan 2010 17:11:27 +0000
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>
References: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>
Message-ID: <D380D21E-04E2-45DA-9058-2CCEF998668D@ftwr.co.uk>


On 6 Jan 2010, at 22:59, Steve Taylor wrote:

> A client is worried about the time needed to fully test their site
> every time there's an upgrade. It is quite a complex system, a custom
> theme interacting with a bunch of plugins, but it's constructed pretty
> solidly. Obviously I'll upgrade on a staging server first, but I think
> only basic tests would be necessary, certainly for point releases.
>
> I can't find any information on this, but out of curiosity, is it
> possible to get *just* security fixes for old WP version? So, say when
> 3.0 comes out and it jumps up from 2.9.4, would there be a "2.9.5" for
> the security fixes? My guess is no, but I thought I'd check.

Our current /desire/ is for the following situation.

If the current release is X.Y then

The previous release X.(Y-1) will receive security updates.
The current release X.Y will receive security and major bug fix updates.
X.(Y+1) will be developed as the next major release.

At some point the security support for X.(Y-1) stops - it has been  
suggested that this is when X.(Y+1) beta1 is released and it would  
definitely be when X.(Y+1) was released.

This has been discussed a couple of times in the weekly dev chat.

As part of this we envisage the following situation from an update  
perspective:

If you are running X.(Y-1).B you will be offered X.Y unless X.(Y-1).(B 
+1) is available
when you have upgraded to X.(Y-1).(B+1) you will again be offered X.Y

If you are running X.Y.B you will be offered X.(Y-1).(B+1) when it is  
available

This isn't a simple thing to implement or achieve and it may need to  
leverage UI changes to make the process seamless.

I stress that this is what we have talked about and what we would like  
to happen.

We have not yet committed to this or when this will start but it is  
something we are actively thinking about - http://bit.ly/4zZ5XH

I hope that makes it a little clearer but once again no guarantees

Cheers

Peter

From jess at funroe.net  Thu Jan  7 17:23:02 2010
From: jess at funroe.net (Jess Planck)
Date: Thu, 7 Jan 2010 11:23:02 -0600
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <D380D21E-04E2-45DA-9058-2CCEF998668D@ftwr.co.uk>
References: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>
	<D380D21E-04E2-45DA-9058-2CCEF998668D@ftwr.co.uk>
Message-ID: <1D31BA7C-0D65-4D0E-BE49-D75CE5B78FA0@funroe.net>

Now THAT makes more sense than that version that sat around for Debian. You would at least get a hint for the end-of-life of a particular version before it gets there.

Jess

On Jan 7, 2010, at 11:11 AM, Peter Westwood wrote:

> Our current /desire/ is for the following situation.
> 
> If the current release is X.Y then
> 
> The previous release X.(Y-1) will receive security updates.
> The current release X.Y will receive security and major bug fix updates.
> X.(Y+1) will be developed as the next major release.
> 
> At some point the security support for X.(Y-1) stops - it has been suggested that this is when X.(Y+1) beta1 is released and it would definitely be when X.(Y+1) was released.
> 
> This has been discussed a couple of times in the weekly dev chat.
> 
> As part of this we envisage the following situation from an update perspective:
> 
> If you are running X.(Y-1).B you will be offered X.Y unless X.(Y-1).(B+1) is available
> when you have upgraded to X.(Y-1).(B+1) you will again be offered X.Y
> 
> If you are running X.Y.B you will be offered X.(Y-1).(B+1) when it is available


From steve at sltaylor.co.uk  Thu Jan  7 17:27:05 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Thu, 7 Jan 2010 17:27:05 +0000
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <1D31BA7C-0D65-4D0E-BE49-D75CE5B78FA0@funroe.net>
References: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>
	<D380D21E-04E2-45DA-9058-2CCEF998668D@ftwr.co.uk>
	<1D31BA7C-0D65-4D0E-BE49-D75CE5B78FA0@funroe.net>
Message-ID: <a21f8bf01001070927q7bcbfdb1p95bb17e07661c6f6@mail.gmail.com>

Many thanks for that info, Jess & Peter.

Am I right in thinking that 2.9 and 2.9.1 haven't needed to address
any security issues, so until 2.9.x is released to address security,
the latest "security release", 2.8.6 is still safe?

From jess at funroe.net  Thu Jan  7 17:49:10 2010
From: jess at funroe.net (Jess Planck)
Date: Thu, 7 Jan 2010 11:49:10 -0600
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <a21f8bf01001070927q7bcbfdb1p95bb17e07661c6f6@mail.gmail.com>
References: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>
	<D380D21E-04E2-45DA-9058-2CCEF998668D@ftwr.co.uk>
	<1D31BA7C-0D65-4D0E-BE49-D75CE5B78FA0@funroe.net>
	<a21f8bf01001070927q7bcbfdb1p95bb17e07661c6f6@mail.gmail.com>
Message-ID: <9646ADA2-0A7B-49DC-8B2B-88338E950E08@funroe.net>

Technically you might be right. I don't think any security issue has been reported.

I used to have a bookmark for a decent vulnerability reporting site, but right now I can only find:

http://www.us-cert.gov/cas/techalerts/

I know others can probably throw some better alert URLs up. Chances are if something shows up on one of those reporting sites it won't be long before it's in a script-kiddie package somewhere. I got hit once within 24 hours of the vulnerability report. Of course these days you can get mugged in church on Sunday, so security is tenuous. We've even used Nessus before, but that window to get the fix out there is getting shorter and shorter.

Jess

On Jan 7, 2010, at 11:27 AM, Steve Taylor wrote:

> Am I right in thinking that 2.9 and 2.9.1 haven't needed to address
> any security issues, so until 2.9.x is released to address security,
> the latest "security release", 2.8.6 is still safe?


From scribu at gmail.com  Thu Jan  7 18:17:02 2010
From: scribu at gmail.com (scribu)
Date: Thu, 7 Jan 2010 20:17:02 +0200
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <D380D21E-04E2-45DA-9058-2CCEF998668D@ftwr.co.uk>
References: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>
	<D380D21E-04E2-45DA-9058-2CCEF998668D@ftwr.co.uk>
Message-ID: <349fe48b1001071017if5b872fua7f7631302b4e5fd@mail.gmail.com>

On Thu, Jan 7, 2010 at 7:11 PM, Peter Westwood <peter.westwood at ftwr.co.uk>wrote:

> If you are running X.Y.B you will be offered X.(Y-1).(B+1) when it is
> available
>

If you are running 2.9 you would be offered 2.8.7 ?!

I think you actually meant X.Y.(B+1)


-- 
http://scribu.net

From scribu at gmail.com  Thu Jan  7 18:23:07 2010
From: scribu at gmail.com (scribu)
Date: Thu, 7 Jan 2010 20:23:07 +0200
Subject: [wp-hackers] This is a Performance Enhancement? Clarification
In-Reply-To: <4B460EE4.3060405@wpseek.com>
References: <4B4603E9.7040005@santosj.name> <4B460EE4.3060405@wpseek.com>
Message-ID: <349fe48b1001071023j190e151dl3e94a4563076406b@mail.gmail.com>

With all due respect, if you were trolling in the last email, I think you're
simply rambling in this one.

Unless you're willing to point at something specific, I think you should use
your personal blog to express such thoughts.


-- 
http://scribu.net

From zamoose at gmail.com  Thu Jan  7 18:55:46 2010
From: zamoose at gmail.com (Doug Stewart)
Date: Thu, 7 Jan 2010 13:55:46 -0500
Subject: [wp-hackers] A quick query for a push in the right (plugin)
	direction
In-Reply-To: <4B46108A.50205@xavisys.com>
References: <71ddd7491001042053s1e5e9ce0r7d058284c9c71c98@mail.gmail.com> 
	<4B46108A.50205@xavisys.com>
Message-ID: <71ddd7491001071055r2a606275lb5362ecbe92c3e17@mail.gmail.com>

On Thu, Jan 7, 2010 at 11:49 AM, Aaron D. Campbell <aaron at xavisys.com>wrote:

> To be clear, this is a plug for my own plugin, but Featured Content
> Showcase uses the 2.9 post images, and also uses jQuery rather than some
> other library (like mootools):
> http://wordpress.org/extend/plugins/featured-content-showcase/
>

Awesome, I'll check it out!

-- 
-Doug
@zamoose
http://literalbarrage.org/blog/

From peter.westwood at ftwr.co.uk  Thu Jan  7 20:54:05 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu, 7 Jan 2010 20:54:05 +0000
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <349fe48b1001071017if5b872fua7f7631302b4e5fd@mail.gmail.com>
References: <a21f8bf01001061459x4345972akd07ea6dc9f39527@mail.gmail.com>
	<D380D21E-04E2-45DA-9058-2CCEF998668D@ftwr.co.uk>
	<349fe48b1001071017if5b872fua7f7631302b4e5fd@mail.gmail.com>
Message-ID: <E1F16765-4639-4BF3-BF80-7189003C5097@ftwr.co.uk>


On 7 Jan 2010, at 18:17, scribu wrote:

> On Thu, Jan 7, 2010 at 7:11 PM, Peter Westwood <peter.westwood at ftwr.co.uk 
> >wrote:
>
>> If you are running X.Y.B you will be offered X.(Y-1).(B+1) when it is
>> available
>>
>
> If you are running 2.9 you would be offered 2.8.7 ?!
>
> I think you actually meant X.Y.(B+1)
>

Indeed I did.

Too many Xs Ys etc

Trying to make it explicitly not related to current version numbers :-)

Peter
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From wordpress at santosj.name  Thu Jan  7 21:08:28 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Thu, 07 Jan 2010 15:08:28 -0600
Subject: [wp-hackers] This is a Performance Enhancement? Clarification
Message-ID: <4B464D4C.5070207@santosj.name>

scribu,

Well, yeah. You are correct. I just get tired arguing with people who 
have no idea what they are talking about and since not enough people 
read Trac, it wouldn't have mattered replying anything of substance 
there. Likewise, not enough people read my blog, so to get people to 
stop thinking incorrectly, I decided to first comment sarcastically to 
what you commented on without actually naming anyone and then ask that 
someone explain why they believe that something that you could use 
common sense to figure out isn't more widely accepted.

I think part of the problem is one of respect and not enough of 
research. I remember in the past two instances where I had to battle 
tooth and nail to get people to understand the fallacy of what they were 
writing.

Myth 1. Inline documentation slows down PHP.

The fact is that it is impossible to accurately tell how much overhead 
it causes, because comments are stripped out during the parse phase, so 
by the time execution is started, there is no way to tell how much time 
was spent stripping out the comments. All anyone can say for sure is 
that there is overhead in the parsing [1], but how much time is minute 
since parsing has a lot of rules for skipping over many comments very 
quickly.

This myth had to be overcome before much of the inline documentation 
effort could be made. An example of the advantage outweighs any minute 
overhead [2].

Myth 2. Conditional loading speeds up PHP.

The problem I have with the comment [3] is that it uses the myth that 
conditional functions and file loading speeds up execution of PHP, when 
you can not find a single source that will ever say this. In fact, all 
of them will say that it slows down execution, because PHP has to stop 
the execution, go back to the compile stage and then go back to the 
execution.

The second problem is that a name of someone who might be respected and 
used as an official source for PHP and WordPress is referenced in that 
comment giving credibility to the comment when none should have been 
given, since it is all rubbish. It is idiocy to even consider what was 
written in the comment and yes, it was trolling, but I really would like 
to understand what in your mind you figure it to be true and why you 
wish to expand the myth to others. I'm telling people that when they see 
this myth to not believe it.

Where I believe it comes from is the extremely rare cases with many 
files and slow systems where the conditional is faster, but on hosting 
servers the CPU and file systems are generally fast enough without the 
latency that is on test systems it isn't and never will be. Furthermore, 
you can find many sources where those who develop opcode caching 
extensions speak about the failure to consider how the conditionals 
adversely affect those extensions.

Myth 3: $end-$start in a loop equals total overhead.

The science of this is inconclusive and should never be used for full 
analysis. Profiling involves xdebug and cachegrind for PHP and other 
profiling tools depending on what you are measuring.

Fact 1: When in doubt, Research it.

I'm not saying you take my word for it and without sources (I'm not 
going to spend the hours it is going to take, just to be ignored again), 
you should be doing the research yourself or the testing yourself, using 
ab, xdebug and cachgrind, etc to get the accurate results. There are 
also opcode tools in order to see the opcodes, although it is anyones 
guess how much overhead each opcode has, but generally less = more, but 
not always.

Jacob Santos

[1] To accurately tell, you would have to profile the re2c parser (for 
PHP 5.3+) or Flex for before. Something that common sense should have 
been a given, but still have to argue with various people about (not 
just in WordPress circles).

[2] Something that is probably still debated by those who really desire 
and need performance to the extreme but for the majority of people the 
advantage of comments is far better than the tiny amount of

[3] http://core.trac.wordpress.org/ticket/10493#comment:4

From otto at ottodestruct.com  Thu Jan  7 22:45:27 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 7 Jan 2010 16:45:27 -0600
Subject: [wp-hackers] This is a Performance Enhancement? Clarification
In-Reply-To: <4B464D4C.5070207@santosj.name>
References: <4B464D4C.5070207@santosj.name>
Message-ID: <161617691001071445h7ed43977he9eea4899e986f2b@mail.gmail.com>

On Thu, Jan 7, 2010 at 3:08 PM, Jacob Santos <wordpress at santosj.name> wrote:
> Myth 2. Conditional loading speeds up PHP.
>
> The problem I have with the comment [3] is that it uses the myth that
> conditional functions and file loading speeds up execution of PHP, when you
> can not find a single source that will ever say this. In fact, all of them
> will say that it slows down execution, because PHP has to stop the
> execution, go back to the compile stage and then go back to the execution.

Well, file loading on-the-fly has to do that anyway, right?

I mean, not doing an include is always faster than doing the include
*if* the cost of the include is higher than the cost of the comparison
you're making to determine whether or not to do the include. Of
course, if doing the include turns out to be the most common case,
then your conditional might not be worth the trouble.

And anyway, I thought most modern PHP executables did JIT compiling nowadays.

Best is to design your code so that the include happens when it's
known to be needed, but not earlier.

I agree with you with regards to functions, and to how this sort of
thing in general may hurt opcode cache systems.

-Otto

From wordpress at santosj.name  Thu Jan  7 23:15:52 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Thu, 07 Jan 2010 17:15:52 -0600
Subject: [wp-hackers] This is a Performance Enhancement? Clarification
In-Reply-To: <161617691001071445h7ed43977he9eea4899e986f2b@mail.gmail.com>
References: <4B464D4C.5070207@santosj.name>
	<161617691001071445h7ed43977he9eea4899e986f2b@mail.gmail.com>
Message-ID: <4B466B28.4070502@santosj.name>

Well, that touches on something I had meant to clarify, but forgot to. 
Compiling does not equal execution and is generally a fairly quick 
process. It is only when you run functions, classes, and whatever that 
it matters [1], so generally it shouldn't be considered that 
conditionally including will speed anything up, even if for a tiny of 
cases it won't be needed. The problem is that sometimes you can't get 
around it without doing a lot of extra work and hassle that may include 
bugs.

You could replace the plugin inclusion by creating a PHP file that did 
the inclusions of the plugins and was updated whenever the plugin page 
was updated. This however, is a great deal more difficult and creates a 
file for the sole purpose of replacing the database option. Sure, it 
will be faster, but at the cost of complexity. Furthermore, you'll 
probably still want to have a conditional to ensure that the site 
doesn't break when plugins are deleted or moved. It is an balancing 
between benefits of different factors vs performance and I would say 
that it is better the way it is now. The overhead is smaller than the 
work it would take to prevent having the overhead and would only 
minimize the loop and database option. This is an example of where it 
makes sense.

Where it doesn't make sense is to do it for performance, because it adds 
overhead and something that adds overhead shouldn't be used to improve 
performance. That is probably as close to the definition of crazy or 
insane as one can get.

The PHP/Zend engine does not do JIT (as in compiling to machine code or 
as close to machine code as possible, the PHP opcodes are not machine 
specific but PHP engine specific). If you are using PHP compiled to MS 
CLR and using the runtime to convert it to CIL, then that is probably as 
close as you are going to get to JIT compilation. There are also some 
outdated applications that will compile PHP down to C for creating an 
Executable. However, for the small percentage that are doing that, then 
good for them, the rest of us has to deal with the PHP/Zend Engine and 
hopefully includes some opcode caching to offset some of the overhead of 
compilation.

Jacob Santos

[1] The function stack usually is what takes time during execution, but 
when you add on top of that having to stop PHP to compile the function 
and then create the stack, it doesn't perform as well. When it is all 
done in the first stage then I'm a lot more happy. The vast majority of 
WordPress with handling of Plugins really dogs this and I think some of 
it was done for "performance" and there have been discussions of 
conditionally including files to "speed" up WordPress before Ryan dug up 
the sources that articulated that this was not the case, has never been 
the case and that the opposite is true [2].

[2] The reason I'm being a jerk is so that hopefully people remember 
this discussion and pass it along. I hate making people feel like fools 
for being wrong, because hell I've been wrong, but on this topic, I'm 
not. I would feel better if someone told me that I was wrong, so that I 
don't get into a position talking to someone who knows better and 
speaking as if I do as well. Some people are eventually going to go off 
and try to get PHP programming jobs and not knowing your stuff makes you 
look incompetent even before you can prove otherwise[3].

[3] Well, unless it is a junior or entry level position, then you aren't 
exactly expected to know everything. Most likely if you only specialized 
in WordPress development (plugin, theme, core), you probably don't 
anyway. Good experience and looks great on a Resume, don't I believe it [4].

[4] I don't actually do a lot of WordPress work at my job. Actually, we 
are migrating away from WordPress, which is bittersweet. Bitter because 
I devoted a lot of my time to WordPress because of my job and sweet, 
because the new code functions a lot better without limitations that 
exist within WordPress [5].

[5] I still think WordPress does somethings better than many of the 
frameworks out there.

Otto wrote:
> On Thu, Jan 7, 2010 at 3:08 PM, Jacob Santos <wordpress at santosj.name> wrote:
>   
>> Myth 2. Conditional loading speeds up PHP.
>>
>> The problem I have with the comment [3] is that it uses the myth that
>> conditional functions and file loading speeds up execution of PHP, when you
>> can not find a single source that will ever say this. In fact, all of them
>> will say that it slows down execution, because PHP has to stop the
>> execution, go back to the compile stage and then go back to the execution.
>>     
>
> Well, file loading on-the-fly has to do that anyway, right?
>
> I mean, not doing an include is always faster than doing the include
> *if* the cost of the include is higher than the cost of the comparison
> you're making to determine whether or not to do the include. Of
> course, if doing the include turns out to be the most common case,
> then your conditional might not be worth the trouble.
>
> And anyway, I thought most modern PHP executables did JIT compiling nowadays.
>
> Best is to design your code so that the include happens when it's
> known to be needed, but not earlier.
>
> I agree with you with regards to functions, and to how this sort of
> thing in general may hurt opcode cache systems.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From scribu at gmail.com  Thu Jan  7 23:49:40 2010
From: scribu at gmail.com (scribu)
Date: Fri, 8 Jan 2010 01:49:40 +0200
Subject: [wp-hackers] This is a Performance Enhancement? Clarification
In-Reply-To: <4B466B28.4070502@santosj.name>
References: <4B464D4C.5070207@santosj.name>
	<161617691001071445h7ed43977he9eea4899e986f2b@mail.gmail.com>
	<4B466B28.4070502@santosj.name>
Message-ID: <349fe48b1001071549xe8ebb36y799f26fb0309012b@mail.gmail.com>

Dammit Jacob, you're the biggest jerk I know. Thanks. :-)


-- 
http://scribu.net

From wp at xentek.net  Fri Jan  8 06:36:50 2010
From: wp at xentek.net (Eric Marden)
Date: Fri, 8 Jan 2010 01:36:50 -0500
Subject: [wp-hackers] Cleaning up tags
In-Reply-To: <9C1EB22D-EFA6-451F-9471-2C15A5848E4C@kairo.fi>
References: <9C1EB22D-EFA6-451F-9471-2C15A5848E4C@kairo.fi>
Message-ID: <018BE7FE-8ED8-47CA-8254-B2B36EDC6873@xentek.net>


On Jan 7, 2010, at 8:48 AM, Lari Elovainio wrote:

> Hello all,
>
> a client has currently 10 237 post tags. While a great achievement  
> and the result of a lot of work, I?m thinking of removing at least  
> those tags that have only been used once or not at all (8 836).
>
> I can of course do this easily from the term_taxonomy table but what  
> about the term_relationships table? Do these extra tag relationships  
> there slow down the blog? The relationships table currently has over  
> 67 000 rows. How do I remove these too? I?m not good with mysql and  
> could not find a plugin that would do this.



1. Definitely do it with SQL. This is a non-trivial amount of data and  
you can't just eye.

2. Consider combining tags that are related, synonymous, or stem from  
the same root word, to help lower the count and group related posts,  
which is one of the primary goals of using tags/categories.

3. Like another poster pointed out, do think of the SEO implications  
(if this is something you care about). 301 Redirects are your friend  
here, and might require a custom plugin to do cleanly and efficiently.  
(50,000 rewrite rules in your .htaccess is NOT recommended)

4. Consider the quality of some of the tags. Ideally you should have  
no more than 10 tags per post. Anything more, and you're getting into  
keyword-stuffing territory (black-hat SEO tactic). Clean up the ones  
you do use into a more well defined taxonomy and stick to it, and only  
add new tags as needed. Keep it higher level. The other 'keywords' are  
already in the topic. If you've got 10,000 tags, I would think you  
blog about 1,000 distinct topics, which doesn't sound like the case.

5. If you want to learn more, you may want to read up on some  
Information Architecture topics. O'Reilly has a very comprehensive  
book to introduce you to the topic. It's the one with a polar bear on  
the cover.



- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From wp at xentek.net  Fri Jan  8 06:44:54 2010
From: wp at xentek.net (Eric Marden)
Date: Fri, 8 Jan 2010 01:44:54 -0500
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>
	<4B45EE2E.5020400@bugssite.org>
	<a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com>
Message-ID: <9DF16A27-2E7A-412D-B4D8-5EE9D120679A@xentek.net>


On Jan 7, 2010, at 9:49 AM, Steve Taylor wrote:

> - Now 2.9 is out, all 2.8.x installations are insecure?

Not necessarily.

However, to answer the larger issue a complex system that is fragile  
to upgrades is a system that probably needs re-factoring. And while  
new versions of WP can break existing sites, in my experience its  
rare, and has usually not been related to WP but some other issue that  
the upgrade just revealed.

- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From steve at sltaylor.co.uk  Fri Jan  8 10:08:52 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Fri, 8 Jan 2010 10:08:52 +0000
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <9DF16A27-2E7A-412D-B4D8-5EE9D120679A@xentek.net>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>
	<4B45EE2E.5020400@bugssite.org>
	<a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com>
	<9DF16A27-2E7A-412D-B4D8-5EE9D120679A@xentek.net>
Message-ID: <a21f8bf01001080208l5817f7ew53bceb15e97a4fc8@mail.gmail.com>

> However, to answer the larger issue a complex system that is fragile to
> upgrades is a system that probably needs re-factoring. And while new
> versions of WP can break existing sites, in my experience its rare, and has
> usually not been related to WP but some other issue that the upgrade just
> revealed.

I'm not too concerned about my theme code - it's pretty well
structured, and in the face of any upgrade issues, I know it
inside-out and have total control.

Past that, the concern is the unknown quantity of plugin
compatibility. Most sites of mine get by, but there's always something
that crops up - and the more plugins, the more chance of that
happening. They can be hacked until the author catches up, and I never
feel there's a real brick wall to be faced in upgrading WP. It's just
the unknown quantity as to how much time might be spent upgrading (and
thanks for everyone's input on the business / client management side
of this).

To me, though, the real larger issue is the lack of official, public
clarity on how older versions might be maintained to an extent with
security fixes. The reality may or may not be ideal, but it's good to
know what that reality is.

I'm saying this with no resentment to WP whatsoever - I'm not a
dabbler putting it down, I'm someone who is hugely grateful to make a
living from WP at the moment, and has a *big* vested interest in
trying to highlight shortcomings in order to overcome them :-)  I
resent the fact that so many people are ready to blindly attack WP
when a security hole is exposed, not accepting the realities of
popular software development (and ignoring the speed of WP's
responses). But on the other hand, it's correct that security should
be a primary issue - which is why I've been surprised that I've had to
dig and dig to get an idea of the situation on this.

Anyway, Pete's explanation (with minor corrections ;-) was crystal
clear - it'd be great to see this confirmed clearly soon in or around
wp.org/download

From daiv at daivmowbray.com  Fri Jan  8 13:34:02 2010
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Fri, 8 Jan 2010 14:34:02 +0100
Subject: [wp-hackers] A quick query for a push in the right
	(plugin)	direction
In-Reply-To: <4B46108A.50205@xavisys.com>
References: <71ddd7491001042053s1e5e9ce0r7d058284c9c71c98@mail.gmail.com>
	<4B46108A.50205@xavisys.com>
Message-ID: <64601F41-8BB4-48CC-BCB1-A33F48A30B2B@daivmowbray.com>


Hello Aaron,

dito:
http://wordpress.org/extend/plugins/superslider-postsincat/
with mootools

On Jan 7, 2010, at 5:49 PM, Aaron D. Campbell wrote:

> To be clear, this is a plug for my own plugin,


----------
Daiv Mowbray
daiv at daivmowbray.com
----------



From wp-hackers at striderweb.com  Fri Jan  8 13:34:43 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Fri, 8 Jan 2010 07:34:43 -0600
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <9DF16A27-2E7A-412D-B4D8-5EE9D120679A@xentek.net>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>
	<4B45EE2E.5020400@bugssite.org>
	<a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com>
	<9DF16A27-2E7A-412D-B4D8-5EE9D120679A@xentek.net>
Message-ID: <9FCBEADC-8B95-4AFC-8CB8-DD774AB3ABDB@striderweb.com>


On Jan 8, 2010, at 12:44 AM, Eric Marden wrote:

> However, to answer the larger issue a complex system that is fragile to upgrades is a system that probably needs re-factoring.

Yeeeaaaahhhh.  My company's site was done in Drupal by some outside developers.  Things keep breaking, and when I call them up to fix their crappy code, I get "Are you running the updates?"

"Yes"

(sneeringly) "Well that's why it keeps breaking." (duh)

Hm.  Time to get a new Drupal developer.

Any recommendations?  ;-)

Stephen

From lari at kairo.fi  Fri Jan  8 13:43:04 2010
From: lari at kairo.fi (Lari Elovainio)
Date: Fri, 8 Jan 2010 15:43:04 +0200
Subject: [wp-hackers] Cleaning up tags
In-Reply-To: <mailman.13.1262952002.24283.wp-hackers@lists.automattic.com>
References: <mailman.13.1262952002.24283.wp-hackers@lists.automattic.com>
Message-ID: <81768CA5-FA23-445A-A7EB-2388D8D5ED79@kairo.fi>


On 8. 1. 2010, at 14.00, wp-hackers-request at lists.automattic.com wrote:

Thank you Eric and Bruce for your help. I might have been a bit unclear, though, on what I wanted. The tags I?d like to delete are only used on one post each. There are over 8000 of these tags. I know how to delete these from the wp_term_taxonomy table.

What I don?t know, is how to delete the corresponding 8000 rows from the wp_term_relationships table. I guess it requires some kind of join, but i?m not that familiar with mysql. So I need to delete rows from wp_term_relationships where 'term_taxonomy_id' is something that has 'count' lower than 2 in wp_term_taxonomy. How do I do that? I?m sorry if this is trivial but I haven?t been able to figure it out.

Removing these tags might lower the visitor count a bit, but these tags in question are very low quality, so it?ll probably lower bounce rate, too. For instance, there are lots of tags that are song names on articles about new album releases. I?m trying to educate the client on how to tag but there are many writers and they are slow learners.

Thank you,
Lari

From mikeschinkel at newclarity.net  Fri Jan  8 13:54:56 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 8 Jan 2010 08:54:56 -0500
Subject: [wp-hackers] Cleaning up tags
In-Reply-To: <81768CA5-FA23-445A-A7EB-2388D8D5ED79@kairo.fi>
References: <mailman.13.1262952002.24283.wp-hackers@lists.automattic.com>
	<81768CA5-FA23-445A-A7EB-2388D8D5ED79@kairo.fi>
Message-ID: <B95734A8-286B-4745-89A5-14A827BDC652@newclarity.net>

Hi Lari,

I believe what you need is this (be sure to back up first, just in case):

DELETE FROM 
  wp_term_relationships 
WHERE 
  term_taxonomy_id IN (
    SELECT 
      tt.term_taxonomy_id
    FROM 
      wp_terms t 
      INNER JOIN wp_term_taxonomy tt ON t.term_id = tt.term_id
    WHERE 
      t.slug IN ( 'foo', 'bar', 'baz' )
  )

You should run this first to eyeball the records you plan to delete:

SELECT * FROM 
  wp_term_relationships 
WHERE 
  term_taxonomy_id IN (
    SELECT 
      tt.term_taxonomy_id
    FROM 
      wp_terms t 
      INNER JOIN wp_term_taxonomy tt ON t.term_id = tt.term_id
    WHERE 
      t.slug IN ( 'foo', 'bar', 'baz' )
  )

It presumes your terms to remove from the wp_term_relationships table are 'foo', 'bar', and 'baz.'  It also assumes you've not deleted them from the wp_terms table yet nor from the wp_term_taxonomy table yet.

If you've deleted from the wp_term_taxonomy table already you'll need to run this instead (back up your database first):

DELETE FROM 
  wp_term_relationships 
WHERE 
  term_taxonomy_id NOT IN (
    SELECT 
      tt.term_taxonomy_id
    FROM 
      wp_term_taxonomy
  )

And of course eyeball with this before deleting:

SELECT * FROM 
  wp_term_relationships 
WHERE 
  term_taxonomy_id NOT IN (
    SELECT 
      tt.term_taxonomy_id
    FROM 
      wp_term_taxonomy
  )

Hope this helps.

-Mike

On Jan 8, 2010, at 8:43 AM, Lari Elovainio wrote:

> 
> On 8. 1. 2010, at 14.00, wp-hackers-request at lists.automattic.com wrote:
> 
> Thank you Eric and Bruce for your help. I might have been a bit unclear, though, on what I wanted. The tags I?d like to delete are only used on one post each. There are over 8000 of these tags. I know how to delete these from the wp_term_taxonomy table.
> 
> What I don?t know, is how to delete the corresponding 8000 rows from the wp_term_relationships table. I guess it requires some kind of join, but i?m not that familiar with mysql. So I need to delete rows from wp_term_relationships where 'term_taxonomy_id' is something that has 'count' lower than 2 in wp_term_taxonomy. How do I do that? I?m sorry if this is trivial but I haven?t been able to figure it out.
> 
> Removing these tags might lower the visitor count a bit, but these tags in question are very low quality, so it?ll probably lower bounce rate, too. For instance, there are lots of tags that are song names on articles about new album releases. I?m trying to educate the client on how to tag but there are many writers and they are slow learners.
> 
> Thank you,
> Lari
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From justmichaelh at gmail.com  Fri Jan  8 14:06:30 2010
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Fri, 8 Jan 2010 09:06:30 -0500
Subject: [wp-hackers] Cleaning up tags
References: <mailman.13.1262952002.24283.wp-hackers@lists.automattic.com>
	<81768CA5-FA23-445A-A7EB-2388D8D5ED79@kairo.fi>
Message-ID: <160f01ca906b$c7a525f0$6401a8c0@dell8600>


From: "Lari Elovainio" <lari at kairo.fi>
> What I don?t know, is how to delete the corresponding 8000 rows from the 
> wp_term_relationships table. I guess it requires some kind of join, but i?m 
> not that familiar with mysql. So I need to delete rows from 
> wp_term_relationships where 'term_taxonomy_id' is something that has 
> 'count' lower than 2 in wp_term_taxonomy. How do I do that? I?m sorry if 
> this is trivial but I haven?t been able to figure it out.
>


t31os_ has some code you might find useful

http://wordpress.org/support/topic/311665?replies=13#post-1248204



MichaelH


From otto at ottodestruct.com  Fri Jan  8 14:13:25 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 8 Jan 2010 08:13:25 -0600
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <a21f8bf01001080208l5817f7ew53bceb15e97a4fc8@mail.gmail.com>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com> 
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com> 
	<4B45EE2E.5020400@bugssite.org>
	<a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com> 
	<9DF16A27-2E7A-412D-B4D8-5EE9D120679A@xentek.net>
	<a21f8bf01001080208l5817f7ew53bceb15e97a4fc8@mail.gmail.com>
Message-ID: <161617691001080613o400b07f1r9dec22dce425a411@mail.gmail.com>

On Fri, Jan 8, 2010 at 4:08 AM, Steve Taylor <steve at sltaylor.co.uk> wrote:
> Past that, the concern is the unknown quantity of plugin
> compatibility.

Unfortunately, there's no easy answer to that one. WordPress generally
tries to maintain backwards compatibility, but sometimes things are
going to get broken for the sake of moving forward.

I think the real solution is to be choosy with your plugins. This is
easier said than done, but sticking with well supported plugins
(generally those written by authors who are well-known in the
WordPress community, but that's not a fixed pre-requisite) is going to
give you the best shot in the long run.

Plugins that survive upgrades tend to be:
- Very simple. A plugin that only does one thing is much less likely
to get broken, unless WP refactors the specific bit of code that it
hooks into.
- Well written. Good coders think ahead. Look at Subscribe to
Comments. That plugin hasn't changed since early 2007, and still works
perfectly.
- Highly supported. Often I'll see upgrades for good plugins before
the WP upgrade even comes out. People who develop good plugins try to
keep up compatibility with the changes even in the alpha versions.
- Not changing the way WP works on a fundamental level. A plugin that
completely alters how some piece of WP works is going to have trouble
when that piece changes. If it works with the existing system and adds
onto it in some fashion, then it's probably going to keep working
despite minor changes to that system.

And unfortunately, sometimes you can't tell these things by looking at
the plugin's home page. I find it to be quite the opposite in fact,
plugins with large scale pages tend to be complex beasts that do a lot
of things, and these often don't survive upgrades well. Simple plugins
that just do one thing don't need lots of documentation, and they tend
to last forever.

So what I try to do is to stick to simple plugins to add specific
individual pieces of functionality. Even if I need a lot of
functionality, it's better to have 50 plugins that all work than one
major do-everything plugin which breaks every time I upgrade. And if
one of these "minor" plugins does break, then it's much less of a big
deal for some small functionality to be missing from a site
temporarily.

That's just my opinion, of course.

-Otto

From wphax at nullamatix.com  Fri Jan  8 14:40:03 2010
From: wphax at nullamatix.com (Guy)
Date: Fri, 8 Jan 2010 09:40:03 -0500
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <161617691001080613o400b07f1r9dec22dce425a411@mail.gmail.com>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>
	<4B45EE2E.5020400@bugssite.org>
	<a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com>
	<9DF16A27-2E7A-412D-B4D8-5EE9D120679A@xentek.net>
	<a21f8bf01001080208l5817f7ew53bceb15e97a4fc8@mail.gmail.com>
	<161617691001080613o400b07f1r9dec22dce425a411@mail.gmail.com>
Message-ID: <88e844b41001080640i718be6a1m3d075f207ff82138@mail.gmail.com>

On Fri, Jan 8, 2010 at 9:13 AM, Otto <otto at ottodestruct.com> wrote:
> On Fri, Jan 8, 2010 at 4:08 AM, Steve Taylor <steve at sltaylor.co.uk> wrote:
>> Past that, the concern is the unknown quantity of plugin
>> compatibility.
>
> [snip]
>
> So what I try to do is to stick to simple plugins to add specific
> individual pieces of functionality. Even if I need a lot of
> functionality, it's better to have 50 plugins that all work than one
> major do-everything plugin which breaks every time I upgrade. And if
> one of these "minor" plugins does break, then it's much less of a big
> deal for some small functionality to be missing from a site
> temporarily.
>
> That's just my opinion, of course.
>
> -Otto

Otto,

Makes perfect sense. Your opinion is shared by the Unix and GNU folks, too.

http://en.wikipedia.org/wiki/Unix_philosophy#McIlroy:_A_Quarter_Century_of_Unix

"Doug McIlroy, the inventor of Unix pipes and one of the founders of
the Unix tradition, summarized the philosophy as follows: This is the
Unix philosophy: Write programs that do one thing and do it well.
Write programs to work together. Write programs to handle text
streams, because that is a universal interface. This is usually
abridged to "Write programs that do one thing and do it well".

Guy
nullamatix.com

From mgerring at emrl.com  Fri Jan  8 19:59:11 2010
From: mgerring at emrl.com (Matthew Gerring)
Date: Fri, 8 Jan 2010 11:59:11 -0800
Subject: [wp-hackers] Write a custom field to a new post via JS??
In-Reply-To: <e7471da81001070721h3c90a104w49eb2ac673f81921@mail.gmail.com>
References: <5DA7A911-661A-4CB5-BE01-6A1569168783@emrl.com>
	<349fe48b1001051512t1fec08n414da3be1bc5dc1c@mail.gmail.com>
	<27FB2AE3-8CFE-4A4F-9A72-BDDDBE55B659@emrl.com>
	<349fe48b1001061433u28dbc405ya82670816975c42d@mail.gmail.com>
	<e7471da81001070721h3c90a104w49eb2ac673f81921@mail.gmail.com>
Message-ID: <AE921572-0F7F-43BB-9FEA-7AB48F970548@emrl.com>

I got it figured out- I'm just hooking into existing actions in admin-ajax.php.

There's already an add-meta action, and the only reason I couldn't get it to work was my lack of understanding of how nonces work. Once I generated the nonce using wp_create_nonce('add-meta'), everything worked perfectly.

The only problem I have now is constructing the request properly for updating the meta as opposed to adding a new meta item, but it's getting there.

The code is here: http://wordpress.pastebin.com/m38869391

The error handling is messed up, since there are 3 or 4 different error codes returned by add-meta, but for the most part it works.

Also, it looks like WordPress re-loads the media buttons on autosave. You can tell media buttons to look for a positive ID before displaying, and they become visible once there's an available ID.

On Jan 7, 2010, at 7:21 AM, Dylan Kuhn wrote:

>> One of the problems is that the wp_postmeta table can't store negative ids.
> 
> I also ran into this and would be interested to know what you end up
> doing. For now I hide my ajax buttons on new posts, and just process
> posted data on the save_post action instead, when the real ID is
> available.
> 
> -dylan-
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mgerring at emrl.com  Fri Jan  8 20:22:17 2010
From: mgerring at emrl.com (Matthew Gerring)
Date: Fri, 8 Jan 2010 12:22:17 -0800
Subject: [wp-hackers] How to get the meta_ID?
Message-ID: <779E44EC-BC1F-4337-B37B-BCB9B8D7553F@emrl.com>

Is there an easy way to get the ID of a particular meta entry from the postmeta table? If not, what would be the hard way to do it?

-Matthew

From m at mullenweg.com  Fri Jan  8 21:17:08 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Fri, 08 Jan 2010 13:17:08 -0800
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
Message-ID: <4B47A0D4.8000303@mullenweg.com>

On 2010-01-07 5:26 AM, Matt Martz wrote:
> That is currently the plan.  Until 3.1 beta comes out 2.9 would continue to be security patched.

I would be surprised if that happens, honestly. It's more an aspiration 
than something with a definite plan. Safest bet is current branch, always.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From office at wpseek.com  Fri Jan  8 23:58:40 2010
From: office at wpseek.com (=?ISO-8859-1?Q?Oliver_Schl=F6be?=)
Date: Sat, 09 Jan 2010 00:58:40 +0100
Subject: [wp-hackers] How to get the meta_ID?
In-Reply-To: <779E44EC-BC1F-4337-B37B-BCB9B8D7553F@emrl.com>
References: <779E44EC-BC1F-4337-B37B-BCB9B8D7553F@emrl.com>
Message-ID: <4B47C6B0.1000406@wpseek.com>

There is no built-in function that I know of so here is my humble 
attempt to get the meta_id *by meta_key*:

function get_mid_by_key( $post_id, $meta_key ) {
     global $wpdb;
     $mid = $wpdb->get_var( $wpdb->prepare("SELECT meta_id FROM 
$wpdb->postmeta WHERE post_id = %d AND meta_key = %s", $post_id, 
$meta_key) );
     if( $mid != '' )
         return (int)$mid;

     return false;
}

Invoke the function like so:

get_mid_by_key( your_post_id, 'your_meta_key' );

--
Regards,
Oliver Schl?be

http://wpseek.com/
http://wpworldmap.net/

-- Code so clean you could eat off it.


On 08.01.2010 21:22, Matthew Gerring wrote:
> Is there an easy way to get the ID of a particular meta entry from the postmeta table? If not, what would be the hard way to do it?
>
> -Matthew
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    

From wordpress at dd32.id.au  Sat Jan  9 02:44:37 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 09 Jan 2010 13:44:37 +1100
Subject: [wp-hackers] Handling Plugin translations
Message-ID: <op.u58u8nt2spxmuu@dd32>

Hi all, A quick question if i may.

How does everyone keep track of submitted translations for their plugins?
I've got 16 translations here for one of my plugins, quite a few are most  
likely out of date, but i wouldnt know (Well, All of them are now, I just  
changed all the strings)

Do you contact the translators and ask if they'd like to submit a new  
translation? How much notice do you give? Or do you just release the  
plugin and include it in the next release?

Personally i've taken the "Release new plugin, Let translators submit  
updated translations for the next release" approach, But i feel this is  
not the best way.. In my mind, it makes the translators less likely to  
want to help out in the future..

I was considering installing GlotPress and maybe getting people to update  
them there directly, Has anyone else taken this route?

I'd be interseted in hearing what others do, Translations are an important  
function for any popular plugin, and while most of mine arnt that popular,  
i still think its worth managing it properly.

Cheers
-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
Web: http://dd32.id.au/

From wp at xentek.net  Sat Jan  9 06:19:55 2010
From: wp at xentek.net (Eric Marden)
Date: Sat, 9 Jan 2010 01:19:55 -0500
Subject: [wp-hackers] Handling Plugin translations
In-Reply-To: <op.u58u8nt2spxmuu@dd32>
References: <op.u58u8nt2spxmuu@dd32>
Message-ID: <15F877E3-966B-41DF-BFDA-5D5219F6DA2B@xentek.net>


On Jan 8, 2010, at 9:44 PM, Dion Hulse (dd32) wrote:

> How does everyone keep track of submitted translations for their  
> plugins?

I'm interested too.

- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From wp at xentek.net  Sat Jan  9 06:27:57 2010
From: wp at xentek.net (Eric Marden)
Date: Sat, 9 Jan 2010 01:27:57 -0500
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <161617691001080613o400b07f1r9dec22dce425a411@mail.gmail.com>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>
	<4B45EE2E.5020400@bugssite.org>
	<a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com>
	<9DF16A27-2E7A-412D-B4D8-5EE9D120679A@xentek.net>
	<a21f8bf01001080208l5817f7ew53bceb15e97a4fc8@mail.gmail.com>
	<161617691001080613o400b07f1r9dec22dce425a411@mail.gmail.com>
Message-ID: <2FB5B665-A223-4894-AE1B-8B1B90F2B7CD@xentek.net>




>> On Fri, Jan 8, 2010 at 4:08 AM, Steve Taylor <steve at sltaylor.co.uk>  
>> wrote:
>> Past that, the concern is the unknown quantity of plugin
>> compatibility.
>

On Jan 8, 2010, at 9:13 AM, Otto wrote:
>
> Unfortunately, there's no easy answer to that one.
> I think the real solution is to be choosy with your plugins.
> That's just my opinion, of course.


Indeed. Before you install a plugin, do a code review.

A few things I consider:

* Does it solve 80% of the need or does it introduce a bunch of  
unwanted features that I have to turn off?
* Is it hooking cleanly into WordPress?
* Could I write a smaller, more focused plugin and call it a day?
* What would Otto do? (j/k)




- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From mikeschinkel at newclarity.net  Sat Jan  9 06:45:20 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 9 Jan 2010 01:45:20 -0500
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <2FB5B665-A223-4894-AE1B-8B1B90F2B7CD@xentek.net>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>
	<4B45EE2E.5020400@bugssite.org>
	<a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com>
	<9DF16A27-2E7A-412D-B4D8-5EE9D120679A@xentek.net>
	<a21f8bf01001080208l5817f7ew53bceb15e97a4fc8@mail.gmail.com>
	<161617691001080613o400b07f1r9dec22dce425a411@mail.gmail.com>
	<2FB5B665-A223-4894-AE1B-8B1B90F2B7CD@xentek.net>
Message-ID: <3CEBD445-36A9-4348-BDA7-DBB61364AB0D@newclarity.net>

On Jan 9, 2010, at 1:27 AM, Eric Marden wrote:
> * Is it hooking cleanly into WordPress?

Just curious if you could give some examples and counter-examples of that criteria?

-Mike

From wp-hackers at tobias.baethge.com  Sat Jan  9 09:58:48 2010
From: wp-hackers at tobias.baethge.com (TobiasBg)
Date: Sat,  9 Jan 2010 10:58:48 +0100 (CET)
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <3CEBD445-36A9-4348-BDA7-DBB61364AB0D@newclarity.net>
Message-ID: <20100109095849.3E37A180F9C58@dd19416.kasserver.com>

Hi,

> > * Is it hooking cleanly into WordPress?
> 
> Just curious if you could give some examples and counter-examples of that criteria?

I would think, things like:
hooking into the correct action hooks to insert CSS and JS (on both backend and frontend),
(counter-example: NOT on all admin pages),
loading a textdomain only when necessary,
maybe separate frontend and backend code,
use APIs where available and possible (i.e. especially for DB interaction),
maybe use a class to remedy function naming conflicts,
 ...

Regards,
Tobias
http://tobias.baethge.com/




From wp-hackers at tobias.baethge.com  Sat Jan  9 10:21:50 2010
From: wp-hackers at tobias.baethge.com (TobiasBg)
Date: Sat,  9 Jan 2010 11:21:50 +0100 (CET)
Subject: [wp-hackers] Handling Plugin translations
In-Reply-To: <op.u58u8nt2spxmuu@dd32>
Message-ID: <20100109102150.65233180F9C58@dd19416.kasserver.com>

Hi Dion,

for my plugin WP-Table Reloaded, which currently has 15 translation (of which 6 are out-of-date), I usually do it this way:

I try to change/add strings only for versions with new features (i.e. X.Y), while for bugfix releases (X.Y.Z) I try to not change any.
So far, feature releases X.Y have been published about every 6-8 weeks.

About 10 days before my scheduled publish date I start a public beta test (with a blog post announcement), which also means a "string freeze".
And I email all translators (all recipients in BCC) with a link to that post and asking if they would update their translation. In the post I usually add things to look out for (i.e. newly used translation functions, like _x in WP 2.8).
10 days is a pretty good time span, as it usually has 2 weekends in between, which is enough time for most translators.
About 3 days before the release date I send out a "Reminder" email to those translators that have not responded yet.

Translators then email me their po and mo file. I usually quickly test them (just to see if they are loaded correctly and strings are translated) and then commit them to the code repository. Additionally I have a small text file on my desktop with a list of received and not yet received translations that I update accordingly to keep track :-)

Within every release (also the betas) I include an updated pot-file (generated by wp.org extend), as some translators use poEdit with that. Some also update from the source directly. And some use the "Codestyling Localization" (http://wordpress.org/extend/plugins/codestyling-localization/) by Heiko Rabe (a plugin that I also recommend, and use myself, for the translation in the mentioned blog post as it is very easy for new translators to use).

With the latest plugin release, I have now started to set translations that were not updated in a while to "inactive".
This means that I don't include them into the final release, but in beta or dev versions (so that already translated strings are not lost forever, I just does not make sense to include them in the final, as the translation is not very useful, if it only covers half of the plugin).
As mentioned above, I had to set 6 of the 15 translations to inactive. That just happens. In two cases the translators email addresses are no longer existing, and in the rest they just don't respond.

> Personally i've taken the "Release new plugin, Let translators submit??
> updated translations for the next release" approach, But i feel this is??
> not the best way.. In my mind, it makes the translators less likely to??
> want to help out in the future..

I don't like this approach. Translations will always be outdated by one version (to the plugin users).
With my approach, I have the feeling that the translators feel more involved, especially because they also are the first ones to have new features (in the beta) available.

> I was considering installing GlotPress and maybe getting people to update??
> them there directly, Has anyone else taken this route?

I would really love to do that, but unfortunately GlotPress is not (yet) ready for that. I would love to test and play around with it, but unfortunately have severe problems, especially because of this issue: http://trac.glotpress.org/ticket/26

Regards,
Tobias
http://tobias.baethge.com/




From wordpress at dd32.id.au  Sat Jan  9 10:46:18 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 09 Jan 2010 21:46:18 +1100
Subject: [wp-hackers] Handling Plugin translations
In-Reply-To: <20100109102150.65233180F9C58@dd19416.kasserver.com>
References: <20100109102150.65233180F9C58@dd19416.kasserver.com>
Message-ID: <op.u59hjgpuspxmuu@dd32>

On Sat, 09 Jan 2010 21:21:50 +1100, TobiasBg  
<wp-hackers at tobias.baethge.com> wrote:
> <snip>
> With the latest plugin release, I have now started to set translations  
> that were not updated in a while to "inactive".
> This means that I don't include them into the final release, but in beta  
> or dev versions (so that already translated strings are not lost  
> forever, I just does not make sense to include them in the final, as the  
> translation is not very useful, if it only covers half of the plugin).
> As mentioned above, I had to set 6 of the 15 translations to inactive.  
> That just happens. In two cases the translators email addresses are no  
> longer existing, and in the rest they just don't respond.

Thats pretty much the approach i was thinking of taking for this release.  
I'm going to get a RC/beta out tonight for the plugin, and send a email  
around for translations, Cheers :)


>> I was considering installing GlotPress and maybe getting people to  
>> update them there directly, Has anyone else taken this route?
>
> I would really love to do that, but unfortunately GlotPress is not (yet)  
> ready for that. I would love to test and play around with it, but  
> unfortunately have severe problems, especially because of this issue:  
> http://trac.glotpress.org/ticket/26

I might have to get involved in GlotPress then and get it up and running  
for myself, see what i cant fix along the way :)

Cheers
Dion Hulse / dd32
--
Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
Web: http://dd32.id.au/

From timberge at cs.tu-berlin.de  Sat Jan  9 10:56:35 2010
From: timberge at cs.tu-berlin.de (Tim Berger)
Date: Sat, 09 Jan 2010 11:56:35 +0100
Subject: [wp-hackers] Handling Plugin translations
In-Reply-To: <15F877E3-966B-41DF-BFDA-5D5219F6DA2B@xentek.net>
References: <op.u58u8nt2spxmuu@dd32>
	<15F877E3-966B-41DF-BFDA-5D5219F6DA2B@xentek.net>
Message-ID: <4B4860E3.1070105@cs.tu-berlin.de>

When I make changes to the existing text passages or add new ones I add
the changes to the language files (with poedit) and contact the
translators. Then I wait for their translations. Some of the translators
are very fast. They submit the completed language files within a week or
sometimes until the next day. Because I add the changed or new passages
to the language files they have to change only these lines, too (that is
something that I had not figured out from the beginning).
When I have the completed language files I release the new plugin version.

But last I received language files for two additional localizations but
with the next version the translators vanished I have waited 3 week
until the first contact for the translation update and after a further
asking mail 2 additional weeks. I received nothing. No no short notice
that they had no time in the moment. Nothing.

I have not waited longer and pushed the new version but with the partial
old language files.

Now, I'm still not sure If should leave the deprecated language files in
the repository or not.

Wouldn't it be nice if wp.org would have a possibility for the plugin
author to indicate which translation is up to date for a plugin version
and a possibility for the user to download the plugin only with the
desired language files with one click?

BTW: My plugin is available in 4 languages. I maintain on translation
(the original plugin language and one translation). But of course I
would appreciated to have more translations for the plugin.

Regards,
Tim

Am 09.01.2010 07:19, schrieb Eric Marden:
> 
> On Jan 8, 2010, at 9:44 PM, Dion Hulse (dd32) wrote:
> 
>> How does everyone keep track of submitted translations for their plugins?
> 
> I'm interested too.
> 
> - Eric Marden
> __________________________________
> http://xentek.net/code/wordpress/
> tw: @xentek
> 
> 
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From mnikhil at gmail.com  Sat Jan  9 17:39:16 2010
From: mnikhil at gmail.com (Nikhil)
Date: Sat, 9 Jan 2010 23:09:16 +0530
Subject: [wp-hackers] How to export the wordpress posts using XMLRPC?
Message-ID: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com>

Hi,

I have been seeing that the export.php under wp-admin gives the nice
button in the gui to download the WXR. I want to know if there is a
useful methods that can be done programmatically/scriptable not merely
ask the user to press the button? Can someone please point me to the
right location to get this through?

Thanks again for the help,
Nikhil

From mnikhil at gmail.com  Sat Jan  9 17:44:41 2010
From: mnikhil at gmail.com (Nikhil)
Date: Sat, 9 Jan 2010 23:14:41 +0530
Subject: [wp-hackers] How to export the wordpress posts using XMLRPC?
In-Reply-To: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com>
References: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com>
Message-ID: <1e7c46191001090944j13d8c347vdd4c67b00ac4bfce@mail.gmail.com>

Can someone please point if there is any WXR technical documentation
that I can refer to? Thank you.

On Sat, Jan 9, 2010 at 11:09 PM, Nikhil <mnikhil at gmail.com> wrote:
> Hi,
>
> I have been seeing that the export.php under wp-admin gives the nice
> button in the gui to download the WXR. I want to know if there is a
> useful methods that can be done programmatically/scriptable not merely
> ask the user to press the button? Can someone please point me to the
> right location to get this through?
>
> Thanks again for the help,
> Nikhil
>

From harish.mlists at gmail.com  Sat Jan  9 21:51:05 2010
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Sat, 09 Jan 2010 21:51:05 +0000
Subject: [wp-hackers] How to export the wordpress posts using XMLRPC?
In-Reply-To: <1e7c46191001090944j13d8c347vdd4c67b00ac4bfce@mail.gmail.com>
References: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com>
	<1e7c46191001090944j13d8c347vdd4c67b00ac4bfce@mail.gmail.com>
Message-ID: <4B48FA49.80809@gmail.com>

On 09/01/2010 17:44, Nikhil wrote:
> Can someone please point if there is any WXR technical documentation
> that I can refer to? Thank you.

I asked a similar question about a year ago and received the following
responses.

http://lists.automattic.com/pipermail/wp-hackers/2009-September/027409.html

In essence, just go through the PHP source for the importer/exporter in
WordPress to figure out what you need. I was able to modify the exporter
to suit my needs.

Harish

From maillist at wangstedt.net  Sun Jan 10 02:31:16 2010
From: maillist at wangstedt.net (=?iso-8859-1?Q?Karl_W=E5ngstedt?=)
Date: Sun, 10 Jan 2010 03:31:16 +0100
Subject: [wp-hackers] Alt text for images wrong or empty in
	wp_get_attachment_image()
Message-ID: <8D5814B8-F202-42E3-AA27-52A2518B1581@wangstedt.net>

Hi all

I have found a bug in 2.9 where the alt-text for images called via wp_get_attachment_image() is missing or wrong. The function generates the alt-text from the post_excerpt field instead of the (new) postmeta field with meta_key "_wp_attachment_image_alt". This causes the alt text to not be set even though the media editor clearly states that the "Alternate text" field is being used as alt text for the image.

I have committed a bug and a patch to trac here: http://core.trac.wordpress.org/ticket/11846

There could be a good thing to expand the function to check if the alt-text is set, and if not use the post_excerpt for the image instead. If neither the alt-text nor caption is set the title should be used as alt-text.

I think it it is an accessibility problem if the alt-text is left empty. Especially since the title is required for the image in the media uploader.

Please review the trac entry and see what you guys think.

Karl W?ngstedt

From ncrice at gmail.com  Sun Jan 10 03:14:51 2010
From: ncrice at gmail.com (Nathan Rice)
Date: Sat, 9 Jan 2010 22:14:51 -0500
Subject: [wp-hackers] Alt text for images wrong or empty in
	wp_get_attachment_image()
In-Reply-To: <8D5814B8-F202-42E3-AA27-52A2518B1581@wangstedt.net>
References: <8D5814B8-F202-42E3-AA27-52A2518B1581@wangstedt.net>
Message-ID: <862d087f1001091914s23993db3jcf85c221fad0f24e@mail.gmail.com>

I noticed the same thing recently. Your patch fixes the problem perfectly.
+1 from me ... this needs to be committed ASAP.

------------------
Nathan Rice
WordPress and Web Development
www.nathanrice.net | twitter.com/nathanrice


On Sat, Jan 9, 2010 at 9:31 PM, Karl W?ngstedt <maillist at wangstedt.net>wrote:

> Hi all
>
> I have found a bug in 2.9 where the alt-text for images called via
> wp_get_attachment_image() is missing or wrong. The function generates the
> alt-text from the post_excerpt field instead of the (new) postmeta field
> with meta_key "_wp_attachment_image_alt". This causes the alt text to not be
> set even though the media editor clearly states that the "Alternate text"
> field is being used as alt text for the image.
>
> I have committed a bug and a patch to trac here:
> http://core.trac.wordpress.org/ticket/11846
>
> There could be a good thing to expand the function to check if the alt-text
> is set, and if not use the post_excerpt for the image instead. If neither
> the alt-text nor caption is set the title should be used as alt-text.
>
> I think it it is an accessibility problem if the alt-text is left empty.
> Especially since the title is required for the image in the media uploader.
>
> Please review the trac entry and see what you guys think.
>
> Karl W?ngstedt
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Sun Jan 10 03:59:20 2010
From: otto at ottodestruct.com (Otto)
Date: Sat, 9 Jan 2010 21:59:20 -0600
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <2FB5B665-A223-4894-AE1B-8B1B90F2B7CD@xentek.net>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com> 
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com> 
	<4B45EE2E.5020400@bugssite.org>
	<a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com> 
	<9DF16A27-2E7A-412D-B4D8-5EE9D120679A@xentek.net>
	<a21f8bf01001080208l5817f7ew53bceb15e97a4fc8@mail.gmail.com> 
	<161617691001080613o400b07f1r9dec22dce425a411@mail.gmail.com> 
	<2FB5B665-A223-4894-AE1B-8B1B90F2B7CD@xentek.net>
Message-ID: <161617691001091959r4bd01dcqb0a9711529ab7f90@mail.gmail.com>

On Sat, Jan 9, 2010 at 12:27 AM, Eric Marden <wp at xentek.net> wrote:
> * What would Otto do? (j/k)

Always an important question to consider. In doing so, there's three
main questions:
* How will this improve my ego?
* Is there beer involved?
* And, where's the BBQ?

These are vital and important questions, which *must* be taken into
consideration at every possible juncture point.

:)

-Otto

From otto at ottodestruct.com  Sun Jan 10 04:00:36 2010
From: otto at ottodestruct.com (Otto)
Date: Sat, 9 Jan 2010 22:00:36 -0600
Subject: [wp-hackers] How to export the wordpress posts using XMLRPC?
In-Reply-To: <1e7c46191001090944j13d8c347vdd4c67b00ac4bfce@mail.gmail.com>
References: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com> 
	<1e7c46191001090944j13d8c347vdd4c67b00ac4bfce@mail.gmail.com>
Message-ID: <161617691001092000k3c8c4c4byfcf9d1e11fb8a099@mail.gmail.com>

On Sat, Jan 9, 2010 at 11:44 AM, Nikhil <mnikhil at gmail.com> wrote:
> Can someone please point if there is any WXR technical documentation
> that I can refer to? Thank you.

Best way: Export a blog and look at it.

It's basically RSS with a bunch of extras tacked onto it for various
bits. Nothing too complex.

-Otto
Sent from Memphis, TN, United States

From will at copress.org  Sun Jan 10 04:13:56 2010
From: will at copress.org (William P. Davis)
Date: Sat, 9 Jan 2010 23:13:56 -0500
Subject: [wp-hackers] Preparing a site for high traffic
Message-ID: <F0395EF0-68C4-4EFC-95D5-760EB35114FD@copress.org>

I'm working on a large site (43,000 posts) that will have a high  
amount of traffic. Usually the load time for the front page is less  
than 1 second, but whenever there's a change to the database and the  
query isn't cached the load time can take up to 30 seconds. Does  
anyone have experience optimizing WordPress for such large sites? Is  
there something I can do to fix this? I've attached home.php and a  
list of the queries used and the time it takes to complete them.

William P. Davis
will at copress.org
207.660.5342 (cell)
www.copress.org


From shane at bugssite.org  Sun Jan 10 04:16:08 2010
From: shane at bugssite.org (Shane A. Froebel)
Date: Sat, 09 Jan 2010 23:16:08 -0500
Subject: [wp-hackers] Preparing a site for high traffic
In-Reply-To: <F0395EF0-68C4-4EFC-95D5-760EB35114FD@copress.org>
References: <F0395EF0-68C4-4EFC-95D5-760EB35114FD@copress.org>
Message-ID: <4B495488.2070000@bugssite.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

William,

Please do not post ads here on the development site. Please use
jobs.wordpress.org and post up something. This list is for development
purposes.

Your Friend, Shane
http://bugssite.org/

On 1/9/2010 11:13 PM, William P. Davis wrote:
> <snip>
> 
> William P. Davis
> will at copress.org
> 207.660.5342 (cell)
> www.copress.org
> 
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (MingW32)

iQIcBAEBAgAGBQJLSVSIAAoJEC7/vS6gbNwFo/MP/3BPkl7PWo1qdE2nrjfK2yd5
SA+BVGr6dk/EK/KyWDvlfnSWfz4p7T04a/xrcRZr0DJEds3+/7d23wZrzKrQOVzR
aAjjBbliJ3pRSkG2esx+MMtcOnTB9jwLoNhSxFCi8e5RLVerVN0vJqw3NIfpjMOD
ptgQiauDN+QIUwabo7gCbGSTFD/F7Tx6aq65k+dITVMBQNeRAtWF8p+1Q31n8CsO
yLuVbafXzVQ+QJ8MDSsN+65i4qzMnhL9YstfQGQbtz9ic2k4AAGvbpq3HjDW0OGy
kIw+YYpkibjX8XrBiSBYvr+LuUJd86L5C1M4xbXxsYss5TcWWjYzqmd1SRjTzPEU
acVXQ0jBM1vbRpMvHAOoT9edZZNpHv03N1T2iGlAmE0Ty1As5nDuDw5MdiZZ/B2r
ethpqYSuO5tUxdsC69OwLImZPaS6ApF2+bLyW+Rpj+De5QEs6Fre/40xIqMLLa8j
1IBGwFenkM5sWWCWubCMn0sYRjEo0wr2sGjodRwYlxVWA8wV1NNicLzweEDFNPss
hBgwcRaW+SPk+EYpXWOB4C9BD+BbVieM/yF3zPxUNdauOHo5g2yUdWLlrI82AzuK
kPJTS6KywF7CxLj0TC2+ro24cWN5Jit0OWgA2hOgaS84BB8wasP5wWKoSs9CnVog
mZUHtEsOARW0dMisddUb
=SwQX
-----END PGP SIGNATURE-----

From will at copress.org  Sun Jan 10 04:20:52 2010
From: will at copress.org (William P. Davis)
Date: Sat, 9 Jan 2010 23:20:52 -0500
Subject: [wp-hackers] Preparing a site for high traffic
In-Reply-To: <4B495488.2070000@bugssite.org>
References: <F0395EF0-68C4-4EFC-95D5-760EB35114FD@copress.org>
	<4B495488.2070000@bugssite.org>
Message-ID: <A30A17CC-3015-4C87-81BE-625E265AB156@copress.org>

Sorry, it wasn't an ad, I was trying to troubleshoot why some of the  
core queries in WP were taking so long.

William P. Davis
will at copress.org
207.660.5342 (cell)
www.copress.org
-----------------------
24-hour support: (888) 722-6773

On Jan 9, 2010, at 11:16 PM, Shane A. Froebel wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> William,
>
> Please do not post ads here on the development site. Please use
> jobs.wordpress.org and post up something. This list is for development
> purposes.
>
> Your Friend, Shane
> http://bugssite.org/
>
> On 1/9/2010 11:13 PM, William P. Davis wrote:
>> <snip>
>>
>> William P. Davis
>> will at copress.org
>> 207.660.5342 (cell)
>> www.copress.org
>>
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.10 (MingW32)
>
> iQIcBAEBAgAGBQJLSVSIAAoJEC7/vS6gbNwFo/MP/3BPkl7PWo1qdE2nrjfK2yd5
> SA+BVGr6dk/EK/KyWDvlfnSWfz4p7T04a/xrcRZr0DJEds3+/7d23wZrzKrQOVzR
> aAjjBbliJ3pRSkG2esx+MMtcOnTB9jwLoNhSxFCi8e5RLVerVN0vJqw3NIfpjMOD
> ptgQiauDN+QIUwabo7gCbGSTFD/F7Tx6aq65k+dITVMBQNeRAtWF8p+1Q31n8CsO
> yLuVbafXzVQ+QJ8MDSsN+65i4qzMnhL9YstfQGQbtz9ic2k4AAGvbpq3HjDW0OGy
> kIw+YYpkibjX8XrBiSBYvr+LuUJd86L5C1M4xbXxsYss5TcWWjYzqmd1SRjTzPEU
> acVXQ0jBM1vbRpMvHAOoT9edZZNpHv03N1T2iGlAmE0Ty1As5nDuDw5MdiZZ/B2r
> ethpqYSuO5tUxdsC69OwLImZPaS6ApF2+bLyW+Rpj+De5QEs6Fre/40xIqMLLa8j
> 1IBGwFenkM5sWWCWubCMn0sYRjEo0wr2sGjodRwYlxVWA8wV1NNicLzweEDFNPss
> hBgwcRaW+SPk+EYpXWOB4C9BD+BbVieM/yF3zPxUNdauOHo5g2yUdWLlrI82AzuK
> kPJTS6KywF7CxLj0TC2+ro24cWN5Jit0OWgA2hOgaS84BB8wasP5wWKoSs9CnVog
> mZUHtEsOARW0dMisddUb
> =SwQX
> -----END PGP SIGNATURE-----
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at xentek.net  Sun Jan 10 04:25:11 2010
From: wp at xentek.net (Eric Marden)
Date: Sat, 9 Jan 2010 23:25:11 -0500
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <161617691001091959r4bd01dcqb0a9711529ab7f90@mail.gmail.com>
References: <9a2cqtslytswcv728ikinc59.1262870786392@email.android.com>
	<a21f8bf01001070555v53907d4p9af2851a009d3f25@mail.gmail.com>
	<4B45EE2E.5020400@bugssite.org>
	<a21f8bf01001070649s27326f78g7f3f7813b738b62e@mail.gmail.com>
	<9DF16A27-2E7A-412D-B4D8-5EE9D120679A@xentek.net>
	<a21f8bf01001080208l5817f7ew53bceb15e97a4fc8@mail.gmail.com>
	<161617691001080613o400b07f1r9dec22dce425a411@mail.gmail.com>
	<2FB5B665-A223-4894-AE1B-8B1B90F2B7CD@xentek.net>
	<161617691001091959r4bd01dcqb0a9711529ab7f90@mail.gmail.com>
Message-ID: <7A74A2C1-6B1B-436E-B43B-E4B703893096@xentek.net>


On Jan 9, 2010, at 10:59 PM, Otto wrote:

> On Sat, Jan 9, 2010 at 12:27 AM, Eric Marden <wp at xentek.net> wrote:
>> * What would Otto do? (j/k)
>
> Always an important question to consider. In doing so, there's three
> main questions:
> * How will this improve my ego?
> * Is there beer involved?
> * And, where's the BBQ?
>
> These are vital and important questions, which *must* be taken into
> consideration at every possible juncture point.


So maybe I wasn't kidding. Beer and BBQ top my priority list quite  
often. :)


- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From wp at xentek.net  Sun Jan 10 04:27:11 2010
From: wp at xentek.net (Eric Marden)
Date: Sat, 9 Jan 2010 23:27:11 -0500
Subject: [wp-hackers] fixes for old versions
In-Reply-To: <20100109095849.3E37A180F9C58@dd19416.kasserver.com>
References: <20100109095849.3E37A180F9C58@dd19416.kasserver.com>
Message-ID: <447E7759-0242-48C4-9DEB-68DF6BEA34BB@xentek.net>


On Jan 9, 2010, at 4:58 AM, TobiasBg wrote:

> Hi,
>
>>> * Is it hooking cleanly into WordPress?
>>
>> Just curious if you could give some examples and counter-examples  
>> of that criteria?
>
> I would think, things like:
> hooking into the correct action hooks to insert CSS and JS (on both  
> backend and frontend),
> (counter-example: NOT on all admin pages),
> loading a textdomain only when necessary,
> maybe separate frontend and backend code,
> use APIs where available and possible (i.e. especially for DB  
> interaction),
> maybe use a class to remedy function naming conflicts,
> ...

Great examples Tobias.

In order to judge this, I imagine you would have to know the WordPress  
way of doing things. For me, even the general layout and formatting of  
the code is going to say a lot about the person who wrote it, their  
experience level, and whether or not the code smells ( http://en.wikipedia.org/wiki/Code_smell 
  ).


- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From shane at bugssite.org  Sun Jan 10 04:37:24 2010
From: shane at bugssite.org (Shane A. Froebel)
Date: Sat, 09 Jan 2010 23:37:24 -0500
Subject: [wp-hackers] Preparing a site for high traffic
In-Reply-To: <A30A17CC-3015-4C87-81BE-625E265AB156@copress.org>
References: <F0395EF0-68C4-4EFC-95D5-760EB35114FD@copress.org>	<4B495488.2070000@bugssite.org>
	<A30A17CC-3015-4C87-81BE-625E265AB156@copress.org>
Message-ID: <4B495984.10106@bugssite.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

William,

Only thing I can think of is this:
http://codex.wordpress.org/Editing_wp-config.php#Save_queries_for_analysis

Your Friend, Shane
http://bugssite.org/

On 1/9/2010 11:20 PM, William P. Davis wrote:
> Sorry, it wasn't an ad, I was trying to troubleshoot why some of the
> core queries in WP were taking so long.
> 
> William P. Davis
> will at copress.org
> 207.660.5342 (cell)
> www.copress.org
> -----------------------
> 24-hour support: (888) 722-6773
> 
> On Jan 9, 2010, at 11:16 PM, Shane A. Froebel wrote:
> 
> William,
> 
> Please do not post ads here on the development site. Please use
> jobs.wordpress.org and post up something. This list is for development
> purposes.
> 
> Your Friend, Shane
> http://bugssite.org/
> 
> On 1/9/2010 11:13 PM, William P. Davis wrote:
>>>> <snip>
>>>>
>>>> William P. Davis
>>>> will at copress.org
>>>> 207.660.5342 (cell)
>>>> www.copress.org
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (MingW32)

iQIcBAEBAgAGBQJLSVmEAAoJEC7/vS6gbNwFayUP/i/ko+9xichujoC3uC68R7V8
hrGCXgBHGTA6ljwmNxXVdtTQw5op8AmtghbHDyQ+/kN4ygDz9P9pt5JwBCeieBC0
loZ1jHQoqr/3VuY6vkRSuGKelem7t8DKODcfQqQH63n7HtT0iSU5aw5T8qEC7gEF
aHWpufTJuxYfOBQAf+UqMHhTZVyQD//SCBoJjEXTEle/FknV1yllm/sACcaF5fle
rm3RQTgCVUdC7tTzlqRQZeyUwqrtn0SXPK4tPxeG2j3mDiL6ntOenNmjihcse/rA
RGqVe3GMsLrZRQiUca5ftH5RyMxAq7Oilhi3c/d5bFMtwnEUPwlUu/Ao3f/Ts2ds
7/nqDRh91B3G7jqfW/EPazT7ymppL0LyCHKq1fmKRYnXv7X0XqLXYp+19iaJE9Xx
ZfzYWbjcmY/MdR6aiFvDCKOni7iwYkEFPpXcpDKNcJWq2LAvj07dzC8UK7diWZxH
INn6wuUdPcIdELuw52mOK+wDzZL7B1elpHoI99cbc70LJ+zD2z7irkv1tJ/px+qR
SGVdo9sNOeARGeofwU72w4OVdY/GcUWSUYf/lEEz4S8dj/Cj74B55nrmgdh94Rhr
r7D9M51klNMD7ixFugEYnGEhmSblgVssHZgUFGPyYUnIfe53RT0yV42U8Hnp+EpH
/32NFHp8HsiSsi21QYW5
=7wSe
-----END PGP SIGNATURE-----

From will at copress.org  Sun Jan 10 04:44:35 2010
From: will at copress.org (William P. Davis)
Date: Sat, 9 Jan 2010 23:44:35 -0500
Subject: [wp-hackers] Preparing a site for high traffic
In-Reply-To: <4B495984.10106@bugssite.org>
References: <F0395EF0-68C4-4EFC-95D5-760EB35114FD@copress.org>	<4B495488.2070000@bugssite.org>
	<A30A17CC-3015-4C87-81BE-625E265AB156@copress.org>
	<4B495984.10106@bugssite.org>
Message-ID: <FCF17D96-061F-46F1-AD1C-6409824A563D@copress.org>

I attached a list of the queries to the original e-mail. There are  
some core queries that are taking seconds to complete if they're not  
cached, for example:

SELECT SQL_CALC_FOUND_ROWS rb_posts.* FROM rb_posts WHERE 1=1 AND  
rb_posts.post_type = 'post' AND (rb_posts.post_status = 'publish' OR  
rb_posts.post_status = 'private') ORDER BY rb_posts.post_date DESC  
LIMIT 0, 10

which took 1.12 seconds to execute. Has anyone else had similar  
problems with large WordPress sites?

William P. Davis
will at copress.org
207.660.5342 (cell)
www.copress.org


On Jan 9, 2010, at 11:37 PM, Shane A. Froebel wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> William,
>
> Only thing I can think of is this:
> http://codex.wordpress.org/Editing_wp-config.php#Save_queries_for_analysis
>
> Your Friend, Shane
> http://bugssite.org/
>
> On 1/9/2010 11:20 PM, William P. Davis wrote:
>> Sorry, it wasn't an ad, I was trying to troubleshoot why some of the
>> core queries in WP were taking so long.
>>
>> William P. Davis
>> will at copress.org
>> 207.660.5342 (cell)
>> www.copress.org
>> -----------------------
>> 24-hour support: (888) 722-6773
>>
>> On Jan 9, 2010, at 11:16 PM, Shane A. Froebel wrote:
>>
>> William,
>>
>> Please do not post ads here on the development site. Please use
>> jobs.wordpress.org and post up something. This list is for  
>> development
>> purposes.
>>
>> Your Friend, Shane
>> http://bugssite.org/
>>
>> On 1/9/2010 11:13 PM, William P. Davis wrote:
>>>>> <snip>
>>>>>
>>>>> William P. Davis
>>>>> will at copress.org
>>>>> 207.660.5342 (cell)
>>>>> www.copress.org
>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.10 (MingW32)
>
> iQIcBAEBAgAGBQJLSVmEAAoJEC7/vS6gbNwFayUP/i/ko+9xichujoC3uC68R7V8
> hrGCXgBHGTA6ljwmNxXVdtTQw5op8AmtghbHDyQ+/kN4ygDz9P9pt5JwBCeieBC0
> loZ1jHQoqr/3VuY6vkRSuGKelem7t8DKODcfQqQH63n7HtT0iSU5aw5T8qEC7gEF
> aHWpufTJuxYfOBQAf+UqMHhTZVyQD//SCBoJjEXTEle/FknV1yllm/sACcaF5fle
> rm3RQTgCVUdC7tTzlqRQZeyUwqrtn0SXPK4tPxeG2j3mDiL6ntOenNmjihcse/rA
> RGqVe3GMsLrZRQiUca5ftH5RyMxAq7Oilhi3c/d5bFMtwnEUPwlUu/Ao3f/Ts2ds
> 7/nqDRh91B3G7jqfW/EPazT7ymppL0LyCHKq1fmKRYnXv7X0XqLXYp+19iaJE9Xx
> ZfzYWbjcmY/MdR6aiFvDCKOni7iwYkEFPpXcpDKNcJWq2LAvj07dzC8UK7diWZxH
> INn6wuUdPcIdELuw52mOK+wDzZL7B1elpHoI99cbc70LJ+zD2z7irkv1tJ/px+qR
> SGVdo9sNOeARGeofwU72w4OVdY/GcUWSUYf/lEEz4S8dj/Cj74B55nrmgdh94Rhr
> r7D9M51klNMD7ixFugEYnGEhmSblgVssHZgUFGPyYUnIfe53RT0yV42U8Hnp+EpH
> /32NFHp8HsiSsi21QYW5
> =7wSe
> -----END PGP SIGNATURE-----
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From william.canino at googlemail.com  Sun Jan 10 05:19:05 2010
From: william.canino at googlemail.com (William Canino)
Date: Sun, 10 Jan 2010 00:19:05 -0500
Subject: [wp-hackers] Preparing a site for high traffic
In-Reply-To: <FCF17D96-061F-46F1-AD1C-6409824A563D@copress.org>
References: <F0395EF0-68C4-4EFC-95D5-760EB35114FD@copress.org>
	<4B495488.2070000@bugssite.org>
	<A30A17CC-3015-4C87-81BE-625E265AB156@copress.org>
	<4B495984.10106@bugssite.org>
	<FCF17D96-061F-46F1-AD1C-6409824A563D@copress.org>
Message-ID: <e4dc67e1001092119y27ab50c5p3700ba51ad5c8377@mail.gmail.com>

> I attached a list of the queries to the original e-mail.

This mailing list doesn't accept attachments, William, so we here
don't get them. If you need to, I suggest you upload them on
pastebin.ca or another similar site.

That SQL query you gave will be slow if the posts table is missing the
type_status_date index:

ALTER TABLE `rb_posts` ADD INDEX `type_status_date` (`post_type`,
`post_status`(1), `post_date`, `ID`);

It will also run faster with the post_date index:

ALTER TABLE `rb_posts` ADD INDEX `post_date` (`post_date`);

try these and see if the problem goes away.



1/9 William P. Davis <will at copress.org>:
> I attached a list of the queries to the original e-mail. There are some core
> queries that are taking seconds to complete if they're not cached, for
> example:
>
> SELECT SQL_CALC_FOUND_ROWS rb_posts.* FROM rb_posts WHERE 1=1 AND
> rb_posts.post_type = 'post' AND (rb_posts.post_status = 'publish' OR
> rb_posts.post_status = 'private') ORDER BY rb_posts.post_date DESC LIMIT 0,
> 10
>
> which took 1.12 seconds to execute. Has anyone else had similar problems
> with large WordPress sites?
>
> William P. Davis
> will at copress.org
> 207.660.5342 (cell)
> www.copress.org
>
>
> On Jan 9, 2010, at 11:37 PM, Shane A. Froebel wrote:
>
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA1
>>
>> William,
>>
>> Only thing I can think of is this:
>> http://codex.wordpress.org/Editing_wp-config.php#Save_queries_for_analysis
>>
>> Your Friend, Shane
>> http://bugssite.org/
>>
>> On 1/9/2010 11:20 PM, William P. Davis wrote:
>>>
>>> Sorry, it wasn't an ad, I was trying to troubleshoot why some of the
>>> core queries in WP were taking so long.
>>>
>>> William P. Davis
>>> will at copress.org
>>> 207.660.5342 (cell)
>>> www.copress.org
>>> -----------------------
>>> 24-hour support: (888) 722-6773
>>>
>>> On Jan 9, 2010, at 11:16 PM, Shane A. Froebel wrote:
>>>
>>> William,
>>>
>>> Please do not post ads here on the development site. Please use
>>> jobs.wordpress.org and post up something. This list is for development
>>> purposes.
>>>
>>> Your Friend, Shane
>>> http://bugssite.org/
>>>
>>> On 1/9/2010 11:13 PM, William P. Davis wrote:
>>>>>>
>>>>>> <snip>
>>>>>>
>>>>>> William P. Davis
>>>>>> will at copress.org
>>>>>> 207.660.5342 (cell)
>>>>>> www.copress.org
>>>>>>
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> -----BEGIN PGP SIGNATURE-----
>> Version: GnuPG v1.4.10 (MingW32)
>>
>> iQIcBAEBAgAGBQJLSVmEAAoJEC7/vS6gbNwFayUP/i/ko+9xichujoC3uC68R7V8
>> hrGCXgBHGTA6ljwmNxXVdtTQw5op8AmtghbHDyQ+/kN4ygDz9P9pt5JwBCeieBC0
>> loZ1jHQoqr/3VuY6vkRSuGKelem7t8DKODcfQqQH63n7HtT0iSU5aw5T8qEC7gEF
>> aHWpufTJuxYfOBQAf+UqMHhTZVyQD//SCBoJjEXTEle/FknV1yllm/sACcaF5fle
>> rm3RQTgCVUdC7tTzlqRQZeyUwqrtn0SXPK4tPxeG2j3mDiL6ntOenNmjihcse/rA
>> RGqVe3GMsLrZRQiUca5ftH5RyMxAq7Oilhi3c/d5bFMtwnEUPwlUu/Ao3f/Ts2ds
>> 7/nqDRh91B3G7jqfW/EPazT7ymppL0LyCHKq1fmKRYnXv7X0XqLXYp+19iaJE9Xx
>> ZfzYWbjcmY/MdR6aiFvDCKOni7iwYkEFPpXcpDKNcJWq2LAvj07dzC8UK7diWZxH
>> INn6wuUdPcIdELuw52mOK+wDzZL7B1elpHoI99cbc70LJ+zD2z7irkv1tJ/px+qR
>> SGVdo9sNOeARGeofwU72w4OVdY/GcUWSUYf/lEEz4S8dj/Cj74B55nrmgdh94Rhr
>> r7D9M51klNMD7ixFugEYnGEhmSblgVssHZgUFGPyYUnIfe53RT0yV42U8Hnp+EpH
>> /32NFHp8HsiSsi21QYW5
>> =7wSe
>> -----END PGP SIGNATURE-----
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at xentek.net  Sun Jan 10 05:19:58 2010
From: wp at xentek.net (Eric Marden)
Date: Sun, 10 Jan 2010 00:19:58 -0500
Subject: [wp-hackers] Preparing a site for high traffic
In-Reply-To: <FCF17D96-061F-46F1-AD1C-6409824A563D@copress.org>
References: <F0395EF0-68C4-4EFC-95D5-760EB35114FD@copress.org>	<4B495488.2070000@bugssite.org>
	<A30A17CC-3015-4C87-81BE-625E265AB156@copress.org>
	<4B495984.10106@bugssite.org>
	<FCF17D96-061F-46F1-AD1C-6409824A563D@copress.org>
Message-ID: <7984EB42-5C8A-4FB9-AEA9-E6A89CE77EF0@xentek.net>


On Jan 9, 2010, at 11:44 PM, William P. Davis wrote:

> I attached a list of the queries to the original e-mail.


Attachments are stripped on this list.

- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From wp at xentek.net  Sun Jan 10 05:21:41 2010
From: wp at xentek.net (Eric Marden)
Date: Sun, 10 Jan 2010 00:21:41 -0500
Subject: [wp-hackers] Preparing a site for high traffic
In-Reply-To: <F0395EF0-68C4-4EFC-95D5-760EB35114FD@copress.org>
References: <F0395EF0-68C4-4EFC-95D5-760EB35114FD@copress.org>
Message-ID: <1523FDEC-A9EC-428D-9080-3DB09E7A9108@xentek.net>


On Jan 9, 2010, at 11:13 PM, William P. Davis wrote:

> I'm working on a large site (43,000 posts) that will have a high  
> amount of traffic. Usually the load time for the front page is less  
> than 1 second, but whenever there's a change to the database and the  
> query isn't cached the load time can take up to 30 seconds.

I would also consider using one of the object-caches (memcached or APC  
back-end) and/or have a look at: http://wordpress.org/extend/plugins/w3-total-cache/ 
  and have it work in conjunction with mysql's query cache.



- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From mnikhil at gmail.com  Sun Jan 10 09:24:42 2010
From: mnikhil at gmail.com (Nikhil)
Date: Sun, 10 Jan 2010 14:54:42 +0530
Subject: [wp-hackers] How to export the wordpress posts using XMLRPC?
In-Reply-To: <4B48FA49.80809@gmail.com>
References: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com>
	<1e7c46191001090944j13d8c347vdd4c67b00ac4bfce@mail.gmail.com>
	<4B48FA49.80809@gmail.com>
Message-ID: <1e7c46191001100124i68e90b5fh95b7e111973b43f5@mail.gmail.com>

Thanks Harish for the response.

I see that I can go through the includes/export.php code and come up
with something self... but honestly I do not want to give it a try if
something is already in place or someone has already something like
that. ... WXR generator.

Well, it looks like so far its me I can give the try to write a script
to  generate a wxr from the wordpress database myself. I will see if I
can post back the struggle results.

Thanks for the response again,

Nikhil

On Sun, Jan 10, 2010 at 3:21 AM, Harish Narayanan
<harish.mlists at gmail.com> wrote:
> On 09/01/2010 17:44, Nikhil wrote:
>> Can someone please point if there is any WXR technical documentation
>> that I can refer to? Thank you.
>
> I asked a similar question about a year ago and received the following
> responses.
>
> http://lists.automattic.com/pipermail/wp-hackers/2009-September/027409.html
>
> In essence, just go through the PHP source for the importer/exporter in
> WordPress to figure out what you need. I was able to modify the exporter
> to suit my needs.
>
> Harish
>

From peter.westwood at ftwr.co.uk  Sun Jan 10 11:26:21 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun, 10 Jan 2010 11:26:21 +0000
Subject: [wp-hackers] Handling Plugin translations
In-Reply-To: <op.u59hjgpuspxmuu@dd32>
References: <20100109102150.65233180F9C58@dd19416.kasserver.com>
	<op.u59hjgpuspxmuu@dd32>
Message-ID: <8E11857F-E203-4A85-AAEC-63A2DCFC796A@ftwr.co.uk>


On 9 Jan 2010, at 10:46, Dion Hulse (dd32) wrote:

> On Sat, 09 Jan 2010 21:21:50 +1100, TobiasBg <wp-hackers at tobias.baethge.com 
> > wrote:
>> <snip>
>> With the latest plugin release, I have now started to set  
>> translations that were not updated in a while to "inactive".
>> This means that I don't include them into the final release, but in  
>> beta or dev versions (so that already translated strings are not  
>> lost forever, I just does not make sense to include them in the  
>> final, as the translation is not very useful, if it only covers  
>> half of the plugin).
>> As mentioned above, I had to set 6 of the 15 translations to  
>> inactive. That just happens. In two cases the translators email  
>> addresses are no longer existing, and in the rest they just don't  
>> respond.
>
> Thats pretty much the approach i was thinking of taking for this  
> release. I'm going to get a RC/beta out tonight for the plugin, and  
> send a email around for translations, Cheers :)
>
>
>>> I was considering installing GlotPress and maybe getting people to  
>>> update them there directly, Has anyone else taken this route?
>>
>> I would really love to do that, but unfortunately GlotPress is not  
>> (yet) ready for that. I would love to test and play around with it,  
>> but unfortunately have severe problems, especially because of this  
>> issue: http://trac.glotpress.org/ticket/26
>
> I might have to get involved in GlotPress then and get it up and  
> running for myself, see what i cant fix along the way :)
>

Patch to fix this is on the ticket now as I got curious again and  
tracked down the issue.

Hopefully this will make it into GlotPress trunk soon.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From steagl4ml at gmail.com  Sun Jan 10 12:17:36 2010
From: steagl4ml at gmail.com (Stefano Aglietti)
Date: Sun, 10 Jan 2010 13:17:36 +0100
Subject: [wp-hackers] Adding an editorial calendar to WordPress
References: <CMEPJALLEOLCIEPMHPBKOEOCEJAA.zack@grossbart.com>
Message-ID: <67hjk51v2durp7mcb7dm1bq9enql8i5ok4@4ax.com>

On Wed, 25 Nov 2009 19:15:36 -0500, "Zack Grossbart"
<zack at grossbart.com> wrote:

>Hello Everyone,
>
>This is my first post to this list.  I'm working on a new plugin that adds an
>editorial calendar to WordPress.
>
>http://wordpress.org/extend/plugins/editorial-calendar
>
>This plugin allows users to see all of their posts in a calendar view and drag
>and drop them to manage their blog.  You can try a demo at:
>
>http://www.zackgrossbart.com/extras/sandbox/wp-admin
>
>I wrote this plugin with the hope of contributing it to the WordPress core.  It
>provides functionality that most bloggers want and is missing from WordPress
>right now.  I opened a Trac ticket for this
>(http://core.trac.wordpress.org/ticket/11252) and Denis-de-Bernardy and nacin
>voted for leaving it as a plugin.  However, they encouraged me to contact the
>list and see if I could build traction in the community.
>
>So what do you think?  Should this stay as a plugin or be considered for the
>WordPress core?
>
>Thanks in advance for the help.

Lovely one, would be nice having the calendar show up all authr posts
and status would be usefull for big collaborative blogs (like ones of
a coampany i work for) that do 10 post a day in lot of blogs from
diffente authors that not all have the permission to reorganize the
workflow but needs to know if there is post in a time slot already
etc.. this would be a nice on e plugin.

-- 

Stefano Aglietti - StallonIt on IRCnet - ICQ#: 2078431
Email: steve at 40annibuttati.it steagl at people.it
Sites: http://www.40annibuttati.it (personal blog)
       http://www.wordpress-it.it (WordPress Italia)

From otto at ottodestruct.com  Sun Jan 10 12:22:38 2010
From: otto at ottodestruct.com (Otto)
Date: Sun, 10 Jan 2010 06:22:38 -0600
Subject: [wp-hackers] How to export the wordpress posts using XMLRPC?
In-Reply-To: <1e7c46191001100124i68e90b5fh95b7e111973b43f5@mail.gmail.com>
References: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com> 
	<1e7c46191001090944j13d8c347vdd4c67b00ac4bfce@mail.gmail.com> 
	<4B48FA49.80809@gmail.com>
	<1e7c46191001100124i68e90b5fh95b7e111973b43f5@mail.gmail.com>
Message-ID: <161617691001100422t62d7a0d1pa503c9eec1e3cd87@mail.gmail.com>

If you're trying to create a WXR from a WordPress database, well,
that's what the exporter actually does. No need to reinvent the wheel.

-Otto
Sent from Memphis, TN, United States


On Sun, Jan 10, 2010 at 3:24 AM, Nikhil <mnikhil at gmail.com> wrote:
> Thanks Harish for the response.
>
> I see that I can go through the includes/export.php code and come up
> with something self... but honestly I do not want to give it a try if
> something is already in place or someone has already something like
> that. ... WXR generator.
>
> Well, it looks like so far its me I can give the try to write a script
> to ?generate a wxr from the wordpress database myself. I will see if I
> can post back the struggle results.
>
> Thanks for the response again,
>
> Nikhil
>
> On Sun, Jan 10, 2010 at 3:21 AM, Harish Narayanan
> <harish.mlists at gmail.com> wrote:
>> On 09/01/2010 17:44, Nikhil wrote:
>>> Can someone please point if there is any WXR technical documentation
>>> that I can refer to? Thank you.
>>
>> I asked a similar question about a year ago and received the following
>> responses.
>>
>> http://lists.automattic.com/pipermail/wp-hackers/2009-September/027409.html
>>
>> In essence, just go through the PHP source for the importer/exporter in
>> WordPress to figure out what you need. I was able to modify the exporter
>> to suit my needs.
>>
>> Harish
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp-hackers at tobias.baethge.com  Sun Jan 10 12:36:00 2010
From: wp-hackers at tobias.baethge.com (TobiasBg)
Date: Sun, 10 Jan 2010 13:36:00 +0100 (CET)
Subject: [wp-hackers] Handling Plugin translations
In-Reply-To: <8E11857F-E203-4A85-AAEC-63A2DCFC796A@ftwr.co.uk>
Message-ID: <20100110123601.6912D180FA4C8@dd19416.kasserver.com>

Hi,

> >>> I was considering installing GlotPress and maybe getting people to??
> >>> update them there directly, Has anyone else taken this route?
> >>
> >> I would really love to do that, but unfortunately GlotPress is not??
> >> (yet) ready for that. I would love to test and play around with it,??
> >> but unfortunately have severe problems, especially because of this??
> >> issue: http://trac.glotpress.org/ticket/26
> >
> > I might have to get involved in GlotPress then and get it up and??
> > running for myself, see what i cant fix along the way :)
> 
> Patch to fix this is on the ticket now as I got curious again and??
> tracked down the issue.

I guess, I can fortunately revise my sentence from above.
After finally seeing a comment in that mentioned ticket, I was able to set up a test installation.
(Note to everybody who wants to try (thanks to nbachiyski and westi for this):
Test installations should be on a domain like "example.com" and not simply "localhost", because the login cookie's "domain path" seems to make trouble on those. But a solution to this seems to be close, thanks to Peter's investigations.)

This might be interesting for Dion:
I set up a test install for my plugin and everything with the translation process works fine already and looks usable for plugin translations.
Things that need work, before it really can be done in practice:
- User Management (creation, permissions, ...)
- easier export of generated language files (maybe even bulk export of those files for a project).
Also, I haven't yet seen "export as a mo-file", but there might be code for this ready to use in the Codestyling Localization plugin mentioned in my previous mail in this thread.

To sum up, GlotPress is already at a pretty good stage and I really value the work of its developers!
I'll definitely be using it for translations on plugins!

Regards,
Tobias




From mnikhil at gmail.com  Sun Jan 10 12:50:36 2010
From: mnikhil at gmail.com (Nikhil)
Date: Sun, 10 Jan 2010 18:20:36 +0530
Subject: [wp-hackers] How to export the wordpress posts using XMLRPC?
In-Reply-To: <161617691001100422t62d7a0d1pa503c9eec1e3cd87@mail.gmail.com>
References: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com>
	<1e7c46191001090944j13d8c347vdd4c67b00ac4bfce@mail.gmail.com>
	<4B48FA49.80809@gmail.com>
	<1e7c46191001100124i68e90b5fh95b7e111973b43f5@mail.gmail.com>
	<161617691001100422t62d7a0d1pa503c9eec1e3cd87@mail.gmail.com>
Message-ID: <1e7c46191001100450s57159e61i421b9ef7c1c646ee@mail.gmail.com>

Right.. I need a custom script/tool than to just visit the website's
wp-admin and press the export button. Is there one?

On Sun, Jan 10, 2010 at 5:52 PM, Otto <otto at ottodestruct.com> wrote:
> If you're trying to create a WXR from a WordPress database, well,
> that's what the exporter actually does. No need to reinvent the wheel.
>
> -Otto
> Sent from Memphis, TN, United States
>
>
> On Sun, Jan 10, 2010 at 3:24 AM, Nikhil <mnikhil at gmail.com> wrote:
>> Thanks Harish for the response.
>>
>> I see that I can go through the includes/export.php code and come up
>> with something self... but honestly I do not want to give it a try if
>> something is already in place or someone has already something like
>> that. ... WXR generator.
>>
>> Well, it looks like so far its me I can give the try to write a script
>> to ?generate a wxr from the wordpress database myself. I will see if I
>> can post back the struggle results.
>>
>> Thanks for the response again,
>>
>> Nikhil
>>
>> On Sun, Jan 10, 2010 at 3:21 AM, Harish Narayanan
>> <harish.mlists at gmail.com> wrote:
>>> On 09/01/2010 17:44, Nikhil wrote:
>>>> Can someone please point if there is any WXR technical documentation
>>>> that I can refer to? Thank you.
>>>
>>> I asked a similar question about a year ago and received the following
>>> responses.
>>>
>>> http://lists.automattic.com/pipermail/wp-hackers/2009-September/027409.html
>>>
>>> In essence, just go through the PHP source for the importer/exporter in
>>> WordPress to figure out what you need. I was able to modify the exporter
>>> to suit my needs.
>>>
>>> Harish
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Nikhil
----
Want to win a laptop? : http://ezlaptop.com/?r=78878

From tonyscott100 at yahoo.co.uk  Sun Jan 10 13:21:53 2010
From: tonyscott100 at yahoo.co.uk (Tony Scott)
Date: Sun, 10 Jan 2010 05:21:53 -0800 (PST)
Subject: [wp-hackers] How to export the wordpress posts using XMLRPC?
In-Reply-To: <1e7c46191001100450s57159e61i421b9ef7c1c646ee@mail.gmail.com>
References: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com>
	<1e7c46191001090944j13d8c347vdd4c67b00ac4bfce@mail.gmail.com>
	<4B48FA49.80809@gmail.com>
	<1e7c46191001100124i68e90b5fh95b7e111973b43f5@mail.gmail.com>
	<161617691001100422t62d7a0d1pa503c9eec1e3cd87@mail.gmail.com>
	<1e7c46191001100450s57159e61i421b9ef7c1c646ee@mail.gmail.com>
Message-ID: <249562.84463.qm@web24501.mail.ird.yahoo.com>

Hi Nikhil

I don't think you need a custom script/tool.

What Otto is saying go to the backend, then tools -> export and select the Download Export File button.

This will give you a WXR file of the site.

Good luck


 Tony Scott
http://tonyscott.org.uk | http://twitter.com/tonys | http://uk.wordcamp.org



----- Original Message ----
> From: Nikhil <mnikhil at gmail.com>
> To: wp-hackers at lists.automattic.com
> Sent: Sun, 10 January, 2010 12:50:36
> Subject: Re: [wp-hackers] How to export the wordpress posts using XMLRPC?
> 
> Right.. I need a custom script/tool than to just visit the website's
> wp-admin and press the export button. Is there one?
> 
> On Sun, Jan 10, 2010 at 5:52 PM, Otto wrote:
> > If you're trying to create a WXR from a WordPress database, well,
> > that's what the exporter actually does. No need to reinvent the wheel.
> >
> > -Otto
> > Sent from Memphis, TN, United States


      

From mnikhil at gmail.com  Sun Jan 10 14:09:28 2010
From: mnikhil at gmail.com (Nikhil)
Date: Sun, 10 Jan 2010 19:39:28 +0530
Subject: [wp-hackers] How to export the wordpress posts using XMLRPC?
In-Reply-To: <249562.84463.qm@web24501.mail.ird.yahoo.com>
References: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com>
	<1e7c46191001090944j13d8c347vdd4c67b00ac4bfce@mail.gmail.com>
	<4B48FA49.80809@gmail.com>
	<1e7c46191001100124i68e90b5fh95b7e111973b43f5@mail.gmail.com>
	<161617691001100422t62d7a0d1pa503c9eec1e3cd87@mail.gmail.com>
	<1e7c46191001100450s57159e61i421b9ef7c1c646ee@mail.gmail.com>
	<249562.84463.qm@web24501.mail.ird.yahoo.com>
Message-ID: <1e7c46191001100609h47ea2b73s9415cae6f733caf5@mail.gmail.com>

Well, the part of the problem is that I have lots of posts on my
website and somehow this method is not working in the sense that wxr
file is getting downloaded but with 0 bytes... without any wxr content
in the downloaded file. I am not sure what could perhaps be the
problem here on my wordpress installation... not even sure either
where to look for clues/error messages on why is the downloaded wxr
file is with 0 bytes.
That is the reason, it prompted me to think if it is to do with many
posts (more than 1000) and if at all I can do away with any timeouts
increase anywhere and if possible I can write a script which generates
the wxr on the hosted site itself rather than the timeout between my
webclient(browser) and the hosting service.

Thanks,
Nikhil

On Sun, Jan 10, 2010 at 6:51 PM, Tony Scott <tonyscott100 at yahoo.co.uk> wrote:
> Hi Nikhil
>
> I don't think you need a custom script/tool.
>
> What Otto is saying go to the backend, then tools -> export and select the Download Export File button.
>
> This will give you a WXR file of the site.
>
> Good luck
>
>
> ?Tony Scott
> http://tonyscott.org.uk | http://twitter.com/tonys | http://uk.wordcamp.org
>
>
>
> ----- Original Message ----
>> From: Nikhil <mnikhil at gmail.com>
>> To: wp-hackers at lists.automattic.com
>> Sent: Sun, 10 January, 2010 12:50:36
>> Subject: Re: [wp-hackers] How to export the wordpress posts using XMLRPC?
>>
>> Right.. I need a custom script/tool than to just visit the website's
>> wp-admin and press the export button. Is there one?
>>
>> On Sun, Jan 10, 2010 at 5:52 PM, Otto wrote:
>> > If you're trying to create a WXR from a WordPress database, well,
>> > that's what the exporter actually does. No need to reinvent the wheel.
>> >
>> > -Otto
>> > Sent from Memphis, TN, United States
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ozh at planetozh.com  Sun Jan 10 17:14:19 2010
From: ozh at planetozh.com (Ozh)
Date: Sun, 10 Jan 2010 18:14:19 +0100
Subject: [wp-hackers] How to export the wordpress posts using XMLRPC?
In-Reply-To: <1e7c46191001100609h47ea2b73s9415cae6f733caf5@mail.gmail.com>
References: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com>
	<1e7c46191001090944j13d8c347vdd4c67b00ac4bfce@mail.gmail.com>
	<4B48FA49.80809@gmail.com>
	<1e7c46191001100124i68e90b5fh95b7e111973b43f5@mail.gmail.com>
	<161617691001100422t62d7a0d1pa503c9eec1e3cd87@mail.gmail.com>
	<1e7c46191001100450s57159e61i421b9ef7c1c646ee@mail.gmail.com>
	<249562.84463.qm@web24501.mail.ird.yahoo.com>
	<1e7c46191001100609h47ea2b73s9415cae6f733caf5@mail.gmail.com>
Message-ID: <ae81acd11001100914i6ceb98ajfbb3c5ed3046ff75@mail.gmail.com>

Try this:
http://wpmututorials.com/plugins/advanced-export/

It will allow you to export selected posts (by year, author, etc) if
timeout is an issue

On Sun, Jan 10, 2010 at 3:09 PM, Nikhil <mnikhil at gmail.com> wrote:
> Well, the part of the problem is that I have lots of posts on my
> website and somehow this method is not working in the sense that wxr
> file is getting downloaded but with 0 bytes... without any wxr content
> in the downloaded file. I am not sure what could perhaps be the
> problem here on my wordpress installation... not even sure either
> where to look for clues/error messages on why is the downloaded wxr
> file is with 0 bytes.
> That is the reason, it prompted me to think if it is to do with many
> posts (more than 1000) and if at all I can do away with any timeouts
> increase anywhere and if possible I can write a script which generates
> the wxr on the hosted site itself rather than the timeout between my
> webclient(browser) and the hosting service.
>

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News

From dan at phiffer.org  Sun Jan 10 17:48:36 2010
From: dan at phiffer.org (Dan Phiffer)
Date: Sun, 10 Jan 2010 12:48:36 -0500
Subject: [wp-hackers] My first core patch!
Message-ID: <B3577491-9BA4-4CAE-B59D-46CAAB13DD21@phiffer.org>

Hi wp-hackers,

I'd love to get some feedback about this ticket if possible. Not sure how this process is supposed to play out, so I'm open to guidance.

https://core.trac.wordpress.org/ticket/11855

Thanks,
-Dan

From mnikhil at gmail.com  Mon Jan 11 06:51:54 2010
From: mnikhil at gmail.com (Nikhil)
Date: Mon, 11 Jan 2010 12:21:54 +0530
Subject: [wp-hackers] How to export the wordpress posts using XMLRPC?
In-Reply-To: <ae81acd11001100914i6ceb98ajfbb3c5ed3046ff75@mail.gmail.com>
References: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com>
	<1e7c46191001090944j13d8c347vdd4c67b00ac4bfce@mail.gmail.com>
	<4B48FA49.80809@gmail.com>
	<1e7c46191001100124i68e90b5fh95b7e111973b43f5@mail.gmail.com>
	<161617691001100422t62d7a0d1pa503c9eec1e3cd87@mail.gmail.com>
	<1e7c46191001100450s57159e61i421b9ef7c1c646ee@mail.gmail.com>
	<249562.84463.qm@web24501.mail.ird.yahoo.com>
	<1e7c46191001100609h47ea2b73s9415cae6f733caf5@mail.gmail.com>
	<ae81acd11001100914i6ceb98ajfbb3c5ed3046ff75@mail.gmail.com>
Message-ID: <1e7c46191001102251k28e3630ewf7871c56444739d9@mail.gmail.com>

Hi Ozh,

That was something cool.. and definitely something I am looking for. I
will surely will give a try .. thanks for the link.

Regards, Nikhil

On Sun, Jan 10, 2010 at 10:44 PM, Ozh <ozh at planetozh.com> wrote:
> Try this:
> http://wpmututorials.com/plugins/advanced-export/
>
> It will allow you to export selected posts (by year, author, etc) if
> timeout is an issue
>
> On Sun, Jan 10, 2010 at 3:09 PM, Nikhil <mnikhil at gmail.com> wrote:
>> Well, the part of the problem is that I have lots of posts on my
>> website and somehow this method is not working in the sense that wxr
>> file is getting downloaded but with 0 bytes... without any wxr content
>> in the downloaded file. I am not sure what could perhaps be the
>> problem here on my wordpress installation... not even sure either
>> where to look for clues/error messages on why is the downloaded wxr
>> file is with 0 bytes.
>> That is the reason, it prompted me to think if it is to do with many
>> posts (more than 1000) and if at all I can do away with any timeouts
>> increase anywhere and if possible I can write a script which generates
>> the wxr on the hosted site itself rather than the timeout between my
>> webclient(browser) and the hosting service.
>>
>
> --
> http://planetOzh.com ~ Blog and WordPress Stuff
> http://FrenchFragFactory.net ~ Daily Quake News
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jer at simianuprising.com  Mon Jan 11 17:53:42 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 11 Jan 2010 12:53:42 -0500
Subject: [wp-hackers] Preparing a site for high traffic
In-Reply-To: <1523FDEC-A9EC-428D-9080-3DB09E7A9108@xentek.net>
References: <F0395EF0-68C4-4EFC-95D5-760EB35114FD@copress.org>
	<1523FDEC-A9EC-428D-9080-3DB09E7A9108@xentek.net>
Message-ID: <e1202cb11001110953r631810c8k47d2e0c3d19707d5@mail.gmail.com>

WP Tuner is an insanely useful plugin for debugging queries, it has settings
so you can control printout of all queries. You can say 'only show queries
that take longer than X', 'show all queries' etc. It also tells you what
plugin/file/function made the query which is very useful:

http://wordpress.org/extend/plugins/wptuner/

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From pavelevap at post.cz  Mon Jan 11 20:21:45 2010
From: pavelevap at post.cz (=?us-ascii?Q?Pavel=20Hejn?=)
Date: Mon, 11 Jan 2010 21:21:45 +0100 (CET)
Subject: [wp-hackers] Ajax on aliases?
Message-ID: <57144.10350.32180-31963-1871908870-1263241304@post.cz>

Hi all,

I prepared small specific widget ajax calculator and everything works well, except one problem.
It works well on domain where is WordPress physically installed.
But on other domains (aliases to this domain) there is problem probably with loading Javascript when clicking on Count button.
Error: Permission denied
tw-sack.js

I use Ajax example from Codex and use: wp_print_scripts( array( 'sack' ));
Is there any hidden trick or it is standard behaviour?

Thank you for your help...
Pavel


From austin at ilfilosofo.com  Mon Jan 11 20:24:51 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Mon, 11 Jan 2010 14:24:51 -0600
Subject: [wp-hackers] Ajax on aliases?
In-Reply-To: <57144.10350.32180-31963-1871908870-1263241304@post.cz>
References: <57144.10350.32180-31963-1871908870-1263241304@post.cz>
Message-ID: <674b4a3b1001111224v68d7b0d9yfd81c437d16156@mail.gmail.com>

On Mon, Jan 11, 2010 at 2:21 PM, Pavel Hejn <pavelevap at post.cz> wrote:
> I prepared small specific widget ajax calculator and everything works well, except one problem.
> It works well on domain where is WordPress physically installed.
> But on other domains (aliases to this domain) there is problem probably with loading Javascript when clicking on Count button.
> Error: Permission denied
> tw-sack.js

Browsers have a same-origin restriction that prevent XHR requests
across different domains.

This mailing list is meant for WordPress core development.  Support
questions such as your are best posed in the support forums:
<http://wordpress.org/support/>

From piemanek at gmail.com  Mon Jan 11 21:56:55 2010
From: piemanek at gmail.com (Simon Blackbourn)
Date: Mon, 11 Jan 2010 21:56:55 +0000
Subject: [wp-hackers] Trash for links too?
Message-ID: <65b196651001111356q78d8d6f8nc3b9836ab84d3ea@mail.gmail.com>

I was retraining one of my customers recently after upgrading them to
WordPress 2.9, and had confidently told them that they need not worry as
nothing is deleted any more, it all goes to the 'trash' now so you can
retrieve it if you need to.

This prompted a brief but entertaining conversational detour into the
Americanisation of British English, followed swiftly by them deleting a link
and asking me how to get it out of the 'bin'.

Cue embarrassed mutterings and red faces all round as I realised that links
are the exception to the rule.

So I'm just wondering if there's a plan to extend the trash functionality to
links, so they are consistent with everything else?

Cheers
Simon

From wp at andrewnacin.com  Mon Jan 11 22:26:22 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 11 Jan 2010 17:26:22 -0500
Subject: [wp-hackers] Trash for links too?
In-Reply-To: <65b196651001111356q78d8d6f8nc3b9836ab84d3ea@mail.gmail.com>
References: <65b196651001111356q78d8d6f8nc3b9836ab84d3ea@mail.gmail.com>
Message-ID: <4cc4de141001111426l57ce8cedo569b19447ff89dc2@mail.gmail.com>

They'd only be consistent with posts, pages, and comments.

Trash for media was disabled and punted last-minute in 2.9 and is
expected to be handled in 3.0. Excluding plugins which are
filesystem-based and can obviously be deactivated, that still leaves
links, categories, and taxonomies/tags.

As a follow up to #4529, you may want to create a feature request
ticket for "Trash for items w/o trash" or something to that effect and
see what generates traction. (I'd lean toward links yes to trash,
cats/tax/tags no.) I'd make sure media is excluded from the ticket, as
that should be handled in another.


On 1/11/10, Simon Blackbourn <piemanek at gmail.com> wrote:
> I was retraining one of my customers recently after upgrading them to
> WordPress 2.9, and had confidently told them that they need not worry as
> nothing is deleted any more, it all goes to the 'trash' now so you can
> retrieve it if you need to.
>
> This prompted a brief but entertaining conversational detour into the
> Americanisation of British English, followed swiftly by them deleting a link
> and asking me how to get it out of the 'bin'.
>
> Cue embarrassed mutterings and red faces all round as I realised that links
> are the exception to the rule.
>
> So I'm just wondering if there's a plan to extend the trash functionality to
> links, so they are consistent with everything else?
>
> Cheers
> Simon
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From cpoteet at siolon.com  Tue Jan 12 00:04:53 2010
From: cpoteet at siolon.com (Chris Poteet)
Date: Mon, 11 Jan 2010 16:04:53 -0800 (PST)
Subject: [wp-hackers] Move Comment JavaScript and Comment Metadata Display
Message-ID: <3d567654-9c51-4401-89fd-ea3eab4e81c2@m26g2000yqb.googlegroups.com>

Is there a way to use the functionality of threaded comments without
having to actually move the comment form when clicking on the "Reply"
link below a comment? I find the movement jarring, and in my layout it
crumbles. I'd rather just have the anchor register which comment is
being replied to and allow the ability to cancel the reply without
physically moving the form.

I was also hoping that I could format the display of the comment
metadata specifically the date posted.  However, on line 1285 of
comment-template.php the word "at" is hard coded in echoing of the
date/time. Can that be removed?

Thanks,
Chris

From repost_08 at yahoo.com  Tue Jan 12 03:07:09 2010
From: repost_08 at yahoo.com (RePost)
Date: Mon, 11 Jan 2010 21:07:09 -0600
Subject: [wp-hackers] Pagination: How to display sidebar content on front
	page only?
In-Reply-To: <27FB2AE3-8CFE-4A4F-9A72-BDDDBE55B659@emrl.com>
References: <5DA7A911-661A-4CB5-BE01-6A1569168783@emrl.com>	<349fe48b1001051512t1fec08n414da3be1bc5dc1c@mail.gmail.com>
	<27FB2AE3-8CFE-4A4F-9A72-BDDDBE55B659@emrl.com>
Message-ID: <4B4BE75D.4080506@yahoo.com>

I need to place sidebar content on my blog that appears on the home page 
only.

This means the content should display only at mysite.com and not at 
mysite.com/page/2/

However, both the home page and inside pages use the same template, 
index.php, which means they both use the same sidebar.

Is there a conditional script that would allow me to use a different 
sidebar on inside pages?

Thanks.

From austin at ilfilosofo.com  Tue Jan 12 03:12:47 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Mon, 11 Jan 2010 21:12:47 -0600
Subject: [wp-hackers] Pagination: How to display sidebar content on
	front page only?
In-Reply-To: <4B4BE75D.4080506@yahoo.com>
References: <5DA7A911-661A-4CB5-BE01-6A1569168783@emrl.com>
	<349fe48b1001051512t1fec08n414da3be1bc5dc1c@mail.gmail.com>
	<27FB2AE3-8CFE-4A4F-9A72-BDDDBE55B659@emrl.com>
	<4B4BE75D.4080506@yahoo.com>
Message-ID: <674b4a3b1001111912j33617d43oa6b62325aec1e56@mail.gmail.com>

On Mon, Jan 11, 2010 at 9:07 PM, RePost <repost_08 at yahoo.com> wrote:
> I need to place sidebar content on my blog that appears on the home page
> only.
>
> This means the content should display only at mysite.com and not at
> mysite.com/page/2/
>
> However, both the home page and inside pages use the same template,
> index.php, which means they both use the same sidebar.
>
> Is there a conditional script that would allow me to use a different sidebar
> on inside pages?

You can check the returned value of is_home() (or possibly
is_front_page() depending on your situation). See
<http://codex.wordpress.org/Conditional_Tags>

This mail list is meant for discussion of core WordPress development.
In the future, please direct support questions such as this to the
support forum. <http://wordpress.org/support/>

From wp at xentek.net  Tue Jan 12 03:14:54 2010
From: wp at xentek.net (Eric Marden)
Date: Mon, 11 Jan 2010 22:14:54 -0500
Subject: [wp-hackers] Pagination: How to display sidebar content on
	front page only?
In-Reply-To: <4B4BE75D.4080506@yahoo.com>
References: <5DA7A911-661A-4CB5-BE01-6A1569168783@emrl.com>	<349fe48b1001051512t1fec08n414da3be1bc5dc1c@mail.gmail.com>
	<27FB2AE3-8CFE-4A4F-9A72-BDDDBE55B659@emrl.com>
	<4B4BE75D.4080506@yahoo.com>
Message-ID: <2F2052E5-ABC5-4102-AEB0-43C2CB951B68@xentek.net>


On Jan 11, 2010, at 10:07 PM, RePost wrote:

> I need to place sidebar content on my blog that appears on the home  
> page only.
>
> Is there a conditional script that would allow me to use a different  
> sidebar on inside pages?


See: http://codex.wordpress.org/Conditional_Tags

- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From wp at andrewnacin.com  Tue Jan 12 08:35:37 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 12 Jan 2010 03:35:37 -0500
Subject: [wp-hackers] Move Comment JavaScript and Comment Metadata
	Display
In-Reply-To: <3d567654-9c51-4401-89fd-ea3eab4e81c2@m26g2000yqb.googlegroups.com>
References: <3d567654-9c51-4401-89fd-ea3eab4e81c2@m26g2000yqb.googlegroups.com>
Message-ID: <4cc4de141001120035p2a5f9306r4d444abd5d8a87d7@mail.gmail.com>

>
> Is there a way to use the functionality of threaded comments without

having to actually move the comment form when clicking on the "Reply"

link below a comment?


Unenqueing the comment-reply.js script will prevent that functionality.

I was also hoping that I could format the display of the comment

metadata specifically the date posted.  However, on line 1285 of

comment-template.php the word "at" is hard coded in echoing of the

date/time. Can that be removed?


The "at" is in Walker_Comment::start_el(). The complex route would be that
you can write your own callback to deal with walking through comments. You
could even extend Walker_Comment and simply replace start_el().

Though I wouldn't recommend the following, technically speaking the text
isn't hard-coded and you could edit it using the gettext filter. (This text
passes through the __() function, which is an alias for translate(), which
applies the filter.) This happens to be the only instance of the "%1$s at
%2$s" string in core. So you can do a hack like this:

add_filter( 'gettext', 'remove_at_from_comment_walker', 10, 2 );
function remove_at_from_comment_walker( $translated, $text ) {
   if ( '%1$s at %2$s' == $text )
      return '%1$s %2$s';
}

From repost_08 at yahoo.com  Tue Jan 12 08:50:05 2010
From: repost_08 at yahoo.com (RePost)
Date: Tue, 12 Jan 2010 02:50:05 -0600
Subject: [wp-hackers] Pagination: How to display sidebar content
 on	front page only?
In-Reply-To: <674b4a3b1001111912j33617d43oa6b62325aec1e56@mail.gmail.com>
References: <5DA7A911-661A-4CB5-BE01-6A1569168783@emrl.com>	<349fe48b1001051512t1fec08n414da3be1bc5dc1c@mail.gmail.com>	<27FB2AE3-8CFE-4A4F-9A72-BDDDBE55B659@emrl.com>	<4B4BE75D.4080506@yahoo.com>
	<674b4a3b1001111912j33617d43oa6b62325aec1e56@mail.gmail.com>
Message-ID: <4B4C37BD.9040900@yahoo.com>

Austin Matzko wrote:
> On Mon, Jan 11, 2010 at 9:07 PM, RePost <repost_08 at yahoo.com> wrote:
>   
>> I need to place sidebar content on my blog that appears on the home page
>> only.
>>
>> This means the content should display only at mysite.com and not at
>> mysite.com/page/2/
>>
>> However, both the home page and inside pages use the same template,
>> index.php, which means they both use the same sidebar.
>>
>> Is there a conditional script that would allow me to use a different sidebar
>> on inside pages?
>>     
>
> You can check the returned value of is_home() (or possibly
> is_front_page() depending on your situation). See
> <http://codex.wordpress.org/Conditional_Tags>
>   


I've certainly looked at the tags is_home, is_page and is_front_page. I 
just don't know what values could possibly create the outcome I'm 
looking for.

For instance, does any value even exist that would address 
mysite.com/page/2, which the Codex refers to only once, as a "generic page"?

I don't know. I'm hoping someone with a deeper knowledge of WordPress 
would have that insight.



From wordpress at dd32.id.au  Tue Jan 12 08:52:35 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Tue, 12 Jan 2010 19:52:35 +1100
Subject: [wp-hackers] Pagination: How to display sidebar content
 on	front page only?
In-Reply-To: <4B4C37BD.9040900@yahoo.com>
References: <5DA7A911-661A-4CB5-BE01-6A1569168783@emrl.com>
	<349fe48b1001051512t1fec08n414da3be1bc5dc1c@mail.gmail.com>
	<27FB2AE3-8CFE-4A4F-9A72-BDDDBE55B659@emrl.com>
	<4B4BE75D.4080506@yahoo.com>
	<674b4a3b1001111912j33617d43oa6b62325aec1e56@mail.gmail.com>
	<4B4C37BD.9040900@yahoo.com>
Message-ID: <op.u6ev9xzvspxmuu@dd32>

2 options.

1. Check from within your widget and only output if the right conditions  
are hit

Sounds like you want if ( is_front_page() && !is_paged() )

2. Register 2 sidebars, and call dynamic_sidebar() based on the  
conditionals.

ie.
if ( is_front_page() && !is_paged() )
   dynamic_sidebar('front-page')
else
   dynamic_sidebar('all-others')

that requires you register both sidebars with id=front-page or  
id=all-others. You' then add the widgets to the sidebar that you want them  
on.

On Tue, 12 Jan 2010 19:50:05 +1100, RePost <repost_08 at yahoo.com> wrote:

> Austin Matzko wrote:
>> On Mon, Jan 11, 2010 at 9:07 PM, RePost <repost_08 at yahoo.com> wrote:
>>
>>> I need to place sidebar content on my blog that appears on the home  
>>> page
>>> only.
>>>
>>> This means the content should display only at mysite.com and not at
>>> mysite.com/page/2/
>>>
>>> However, both the home page and inside pages use the same template,
>>> index.php, which means they both use the same sidebar.
>>>
>>> Is there a conditional script that would allow me to use a different  
>>> sidebar
>>> on inside pages?
>>>
>>
>> You can check the returned value of is_home() (or possibly
>> is_front_page() depending on your situation). See
>> <http://codex.wordpress.org/Conditional_Tags>
>>
>
>
> I've certainly looked at the tags is_home, is_page and is_front_page. I
> just don't know what values could possibly create the outcome I'm
> looking for.
>
> For instance, does any value even exist that would address
> mysite.com/page/2, which the Codex refers to only once, as a "generic  
> page"?
>
> I don't know. I'm hoping someone with a deeper knowledge of WordPress
> would have that insight.
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
  Web: http://dd32.id.au/

From wp at andrewnacin.com  Tue Jan 12 08:53:39 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 12 Jan 2010 03:53:39 -0500
Subject: [wp-hackers] Pagination: How to display sidebar content on
	front page only?
In-Reply-To: <4B4C37BD.9040900@yahoo.com>
References: <5DA7A911-661A-4CB5-BE01-6A1569168783@emrl.com> 
	<349fe48b1001051512t1fec08n414da3be1bc5dc1c@mail.gmail.com> 
	<27FB2AE3-8CFE-4A4F-9A72-BDDDBE55B659@emrl.com>
	<4B4BE75D.4080506@yahoo.com> 
	<674b4a3b1001111912j33617d43oa6b62325aec1e56@mail.gmail.com> 
	<4B4C37BD.9040900@yahoo.com>
Message-ID: <4cc4de141001120053hd6d9c77ge582a01cab66a5a@mail.gmail.com>

Sounds like you'd want is_home() && ! is_paged().

From wp at andrewnacin.com  Tue Jan 12 08:59:46 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 12 Jan 2010 03:59:46 -0500
Subject: [wp-hackers] Pagination: How to display sidebar content on
	front page only?
In-Reply-To: <op.u6ev9xzvspxmuu@dd32>
References: <5DA7A911-661A-4CB5-BE01-6A1569168783@emrl.com> 
	<349fe48b1001051512t1fec08n414da3be1bc5dc1c@mail.gmail.com> 
	<27FB2AE3-8CFE-4A4F-9A72-BDDDBE55B659@emrl.com>
	<4B4BE75D.4080506@yahoo.com> 
	<674b4a3b1001111912j33617d43oa6b62325aec1e56@mail.gmail.com> 
	<4B4C37BD.9040900@yahoo.com> <op.u6ev9xzvspxmuu@dd32>
Message-ID: <4cc4de141001120059h434ad6d7m30f15b2e1919a01c@mail.gmail.com>

On Tue, Jan 12, 2010 at 3:53 AM, Dion Hulse (dd32) <wordpress at dd32.id.au>wrote:
>
> Sounds like you want if ( is_front_page() && !is_paged() )
>

On Tue, Jan 12, 2010 at 3:53 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> Sounds like you'd want is_home() && ! is_paged().
>

is_front_page() && !is_paged() is closer to what you're looking for, as
is_home() may not be your home page depending on your front page
configuration...

From lari at kairo.fi  Tue Jan 12 09:17:50 2010
From: lari at kairo.fi (Lari Elovainio)
Date: Tue, 12 Jan 2010 11:17:50 +0200
Subject: [wp-hackers] Pagination: How to display sidebar content
	on	front page only?
In-Reply-To: <mailman.594.1263286215.29976.wp-hackers@lists.automattic.com>
References: <mailman.594.1263286215.29976.wp-hackers@lists.automattic.com>
Message-ID: <2ABC0519-C5B3-42E3-922D-F029FEE3C81C@kairo.fi>


On 12. 1. 2010, at 10.50, wp-hackers-request at lists.automattic.com wrote:

> I've certainly looked at the tags is_home, is_page and is_front_page. I 
> just don't know what values could possibly create the outcome I'm 
> looking for.
> 
> For instance, does any value even exist that would address 
> mysite.com/page/2, which the Codex refers to only once, as a "generic page"?
> 
> I don't know. I'm hoping someone with a deeper knowledge of WordPress 
> would have that insight.

Eric already posted this:
http://codex.wordpress.org/Conditional_Tags#A_Paged_Page

Lari

From cpoteet at siolon.com  Tue Jan 12 17:20:59 2010
From: cpoteet at siolon.com (Chris Poteet)
Date: Tue, 12 Jan 2010 09:20:59 -0800 (PST)
Subject: [wp-hackers] Move Comment JavaScript and Comment Metadata
	Display
In-Reply-To: <4cc4de141001120035p2a5f9306r4d444abd5d8a87d7@mail.gmail.com>
References: <3d567654-9c51-4401-89fd-ea3eab4e81c2@m26g2000yqb.googlegroups.com>
	<4cc4de141001120035p2a5f9306r4d444abd5d8a87d7@mail.gmail.com>
Message-ID: <69d6f1f4-4eb1-4063-9cd5-c46408a6572f@h9g2000yqa.googlegroups.com>

> Unenqueing the comment-reply.js script will prevent that functionality.

It doesn't move the form but then it throws a JS error: addComment is
not defined

> add_filter( 'gettext', 'remove_at_from_comment_walker', 10, 2 );
> function remove_at_from_comment_walker( $translated, $text ) {
> ? ?if ( '%1$s at %2$s' == $text )
> ? ? ? return '%1$s %2$s';}

This worked beautifully. Thanks.

From cpoteet at siolon.com  Tue Jan 12 17:22:25 2010
From: cpoteet at siolon.com (Chris Poteet)
Date: Tue, 12 Jan 2010 09:22:25 -0800 (PST)
Subject: [wp-hackers] Move Comment JavaScript and Comment Metadata
	Display
In-Reply-To: <4cc4de141001120035p2a5f9306r4d444abd5d8a87d7@mail.gmail.com>
References: <3d567654-9c51-4401-89fd-ea3eab4e81c2@m26g2000yqb.googlegroups.com>
	<4cc4de141001120035p2a5f9306r4d444abd5d8a87d7@mail.gmail.com>
Message-ID: <8268dc1f-0ba5-4f0c-9aec-546d8fa46772@r5g2000yqb.googlegroups.com>

Not only does unenqueing the comment-reply.js throw a JS error it
doesn't add all my "Reply" links.

From otto at ottodestruct.com  Tue Jan 12 17:37:29 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 12 Jan 2010 11:37:29 -0600
Subject: [wp-hackers] Move Comment JavaScript and Comment Metadata
	Display
In-Reply-To: <8268dc1f-0ba5-4f0c-9aec-546d8fa46772@r5g2000yqb.googlegroups.com>
References: <3d567654-9c51-4401-89fd-ea3eab4e81c2@m26g2000yqb.googlegroups.com>
	<4cc4de141001120035p2a5f9306r4d444abd5d8a87d7@mail.gmail.com> 
	<8268dc1f-0ba5-4f0c-9aec-546d8fa46772@r5g2000yqb.googlegroups.com>
Message-ID: <161617691001120937m2824cf9cicd9af81b05811589@mail.gmail.com>

On Tue, Jan 12, 2010 at 11:22 AM, Chris Poteet <cpoteet at siolon.com> wrote:
> Not only does unenqueing the comment-reply.js throw a JS error it
> doesn't add all my "Reply" links.

No, the reply links are not generated by the javascript, they're
generated in the core code and/or by your theme. The
comment_reply_link function generates them, and that's called by the
wp_list_comments. If your theme is overriding the output of
wp_list_comments, like too many do, then it may not be calling that
function correctly.

The comment-reply javascript only changes the behavior of those links.
Without it, those links cause a page reload, with a replytocom=1234
tacked onto the URL. This makes it so you're replying to the comment
correctly without javascript help.

If you want to change the behavior of the comment-reply javascript so
as to avoid the reloading but not move stuff, then you'll need to:

a) Not enqueue comment-reply,
b) Make a copy of wp-includes/js/comment-reply.dev.js into your theme directory,
c) Modify your copy to do what you want it to do, behavior-wise, and
d) Enqueue that script instead.

-Otto

From repost_08 at yahoo.com  Tue Jan 12 22:36:48 2010
From: repost_08 at yahoo.com (RePost)
Date: Tue, 12 Jan 2010 16:36:48 -0600
Subject: [wp-hackers] Pagination: How to display sidebar content on
 front page only?
In-Reply-To: <2ABC0519-C5B3-42E3-922D-F029FEE3C81C@kairo.fi>
References: <mailman.594.1263286215.29976.wp-hackers@lists.automattic.com>
	<2ABC0519-C5B3-42E3-922D-F029FEE3C81C@kairo.fi>
Message-ID: <4B4CF980.4040505@yahoo.com>

Lari Elovainio wrote:
> On 12. 1. 2010, at 10.50, wp-hackers-request at lists.automattic.com wrote:
>   
> I've certainly looked at the tags is_home, is_page and is_front_page. I 
> just don't know what values could possibly create the outcome I'm 
> looking for.
>
> For instance, does any value even exist that would address 
> mysite.com/page/2, which the Codex refers to only once, as a "generic page"?
>
> I don't know. I'm hoping someone with a deeper knowledge of WordPress 
> would have that insight.
>   
>
> Eric already posted this:
> http://codex.wordpress.org/Conditional_Tags#A_Paged_Page
>
> Lari

Thanks, all. I used your suggestions, and this is what worked for me:

<?php
if ( is_front_page() && !is_paged() )
 include("sidebar-index.php");
else
 include("sidebar.php");
?>



From cpoteet at siolon.com  Wed Jan 13 02:10:11 2010
From: cpoteet at siolon.com (Chris Poteet)
Date: Tue, 12 Jan 2010 18:10:11 -0800 (PST)
Subject: [wp-hackers] Move Comment JavaScript and Comment Metadata
	Display
In-Reply-To: <161617691001120937m2824cf9cicd9af81b05811589@mail.gmail.com>
References: <3d567654-9c51-4401-89fd-ea3eab4e81c2@m26g2000yqb.googlegroups.com>
	<4cc4de141001120035p2a5f9306r4d444abd5d8a87d7@mail.gmail.com> 
	<8268dc1f-0ba5-4f0c-9aec-546d8fa46772@r5g2000yqb.googlegroups.com> 
	<161617691001120937m2824cf9cicd9af81b05811589@mail.gmail.com>
Message-ID: <bd49d2cf-97a3-4d96-9a64-5f9369616907@21g2000yqj.googlegroups.com>

add_filter( 'gettext', 'remove_at_from_comment_walker', 10, 2 );
function remove_at_from_comment_walker( $translated, $text ) {
   if ( '%1$s at %2$s' == $text )
      return '%1$s %2$s';
}

This function actually removes the "Reply" text. Should it be that way?

From peter.westwood at ftwr.co.uk  Wed Jan 13 07:33:04 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 13 Jan 2010 07:33:04 +0000
Subject: [wp-hackers] Pagination: How to display sidebar content on
	front page only?
In-Reply-To: <4B4CF980.4040505@yahoo.com>
References: <mailman.594.1263286215.29976.wp-hackers@lists.automattic.com>
	<2ABC0519-C5B3-42E3-922D-F029FEE3C81C@kairo.fi>
	<4B4CF980.4040505@yahoo.com>
Message-ID: <B017CF02-04DE-4339-BDFF-779490A774C0@ftwr.co.uk>


On 12 Jan 2010, at 22:36, RePost wrote:
>
> Thanks, all. I used your suggestions, and this is what worked for me:
>
> <?php
> if ( is_front_page() && !is_paged() )
> include("sidebar-index.php");
> else
> include("sidebar.php");
> ?>
>

An improvement on this which makes it much more friendly if you  
include in a released theme (and enabled child theme overload of  
template files) is to use get_sidebar();

<?php
if ( is_front_page() && !is_paged() )
     get_sidebar('index');
else
     get_sidebar();
?>

This allows for named sidebars as shown about and will also search  
child theme first and fallback to default theme sidebar.php if no file  
is found to include.

Cheers

Peter
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From trelvao at workmedia.pt  Wed Jan 13 10:22:09 2010
From: trelvao at workmedia.pt (Tiago Relvao)
Date: Wed, 13 Jan 2010 10:22:09 +0000
Subject: [wp-hackers] Pagination: How to display sidebar content
 on	front page only?
In-Reply-To: <B017CF02-04DE-4339-BDFF-779490A774C0@ftwr.co.uk>
References: <mailman.594.1263286215.29976.wp-hackers@lists.automattic.com>	<2ABC0519-C5B3-42E3-922D-F029FEE3C81C@kairo.fi>	<4B4CF980.4040505@yahoo.com>
	<B017CF02-04DE-4339-BDFF-779490A774C0@ftwr.co.uk>
Message-ID: <4B4D9ED1.4080905@workmedia.pt>

Just a reminder... Don't forget there is a template file - home.php. You 
can use it to further customize your home page.

If you want to change more than a sidebar it's best not to use 
conditional tags as things may get confuse and difficult to maintain. 
You can copy your template index.php and call it home.php as a base for 
your development.

Best regards, Tiago


Peter Westwood wrote:
>
> On 12 Jan 2010, at 22:36, RePost wrote:
>>
>> Thanks, all. I used your suggestions, and this is what worked for me:
>>
>> <?php
>> if ( is_front_page() && !is_paged() )
>> include("sidebar-index.php");
>> else
>> include("sidebar.php");
>> ?>
>>
>
> An improvement on this which makes it much more friendly if you 
> include in a released theme (and enabled child theme overload of 
> template files) is to use get_sidebar();
>
> <?php
> if ( is_front_page() && !is_paged() )
>     get_sidebar('index');
> else
>     get_sidebar();
> ?>
>
> This allows for named sidebars as shown about and will also search 
> child theme first and fallback to default theme sidebar.php if no file 
> is found to include.
>
> Cheers
>
> Peter

-- 
TI Workmedia (webdevelopment)
e-mail: ti at workmedia.pt
Tel. +351 210 410 394


From leogermani at gmail.com  Wed Jan 13 14:22:45 2010
From: leogermani at gmail.com (Leo germani)
Date: Wed, 13 Jan 2010 12:22:45 -0200
Subject: [wp-hackers] Multiple custom image sizes
Message-ID: <32c7967e1001130622g182a6e8aj76cdef68ecc389ab@mail.gmail.com>

Please review a candidate feature for 3.0

http://core.trac.wordpress.org/ticket/8599

-- 
leogermani.pirex.com.br
leogermani.estudiolivre.org

From erisds at gmail.com  Wed Jan 13 14:43:53 2010
From: erisds at gmail.com (ErisDS)
Date: Wed, 13 Jan 2010 14:43:53 +0000
Subject: [wp-hackers] Multiple custom image sizes
In-Reply-To: <32c7967e1001130622g182a6e8aj76cdef68ecc389ab@mail.gmail.com>
References: <32c7967e1001130622g182a6e8aj76cdef68ecc389ab@mail.gmail.com>
Message-ID: <686d0bd71001130643j34beec8dm87a0d4f69395e85c@mail.gmail.com>

Just to put forward my two cents:

Being able to define multiple custom image sizes would move wordpress a few
steps closer to being useful as a CMS. The new 3-size system is great but
it's not all the way there yet.

However I particularly like the idea of having a regeneration feature.

This will improve separation between content and theme such that future
redesigns of a website (and there for potentially different sized
post-thumbnails etc) no longer means we have to go through and reupload all
the images - rather just hit a button and have them all regenerated. I am
aware there are plugins but I see no reason why this shouldn't be core.

It would be sensible to warn users with large numbers of images that this
could degrade their site performance, and to schedule the regeneration to
happen over a period of time. However I think for 90% of Wordpress sites
regeneration would work ok.

On Wed, Jan 13, 2010 at 2:22 PM, Leo germani <leogermani at gmail.com> wrote:

> Please review a candidate feature for 3.0
>
> http://core.trac.wordpress.org/ticket/8599
>
> --
> leogermani.pirex.com.br
> leogermani.estudiolivre.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ncrice at gmail.com  Wed Jan 13 15:03:40 2010
From: ncrice at gmail.com (Nathan Rice)
Date: Wed, 13 Jan 2010 10:03:40 -0500
Subject: [wp-hackers] Multiple custom image sizes
In-Reply-To: <686d0bd71001130643j34beec8dm87a0d4f69395e85c@mail.gmail.com>
References: <32c7967e1001130622g182a6e8aj76cdef68ecc389ab@mail.gmail.com>
	<686d0bd71001130643j34beec8dm87a0d4f69395e85c@mail.gmail.com>
Message-ID: <862d087f1001130703m7f8ad63ob170a2fabbd31fd8@mail.gmail.com>

+1 Regeneration (but I'm fine with just using a plugin)
-1 on adding custom image sizes from the dashboard.

I personally prefer to add them via the functions.php file of my theme. And
since 2.9 came out, doing so is VERY easy.

------------------
Nathan Rice
WordPress and Web Development
www.nathanrice.net | twitter.com/nathanrice


On Wed, Jan 13, 2010 at 9:43 AM, ErisDS <erisds at gmail.com> wrote:

> Just to put forward my two cents:
>
> Being able to define multiple custom image sizes would move wordpress a few
> steps closer to being useful as a CMS. The new 3-size system is great but
> it's not all the way there yet.
>
> However I particularly like the idea of having a regeneration feature.
>
> This will improve separation between content and theme such that future
> redesigns of a website (and there for potentially different sized
> post-thumbnails etc) no longer means we have to go through and reupload all
> the images - rather just hit a button and have them all regenerated. I am
> aware there are plugins but I see no reason why this shouldn't be core.
>
> It would be sensible to warn users with large numbers of images that this
> could degrade their site performance, and to schedule the regeneration to
> happen over a period of time. However I think for 90% of Wordpress sites
> regeneration would work ok.
>
> On Wed, Jan 13, 2010 at 2:22 PM, Leo germani <leogermani at gmail.com> wrote:
>
> > Please review a candidate feature for 3.0
> >
> > http://core.trac.wordpress.org/ticket/8599
> >
> > --
> > leogermani.pirex.com.br
> > leogermani.estudiolivre.org
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Wed Jan 13 15:13:59 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 13 Jan 2010 10:13:59 -0500
Subject: [wp-hackers] Multiple custom image sizes
In-Reply-To: <862d087f1001130703m7f8ad63ob170a2fabbd31fd8@mail.gmail.com>
References: <32c7967e1001130622g182a6e8aj76cdef68ecc389ab@mail.gmail.com>
	<686d0bd71001130643j34beec8dm87a0d4f69395e85c@mail.gmail.com>
	<862d087f1001130703m7f8ad63ob170a2fabbd31fd8@mail.gmail.com>
Message-ID: <7B43C773-96BD-4093-823E-44675D95F4A4@newclarity.net>

+1 Regeneration (but I'm fine with just using a plugin)
+1 on adding custom image sizes from the dashboard.

-Mike


On Wed, Jan 13, 2010 at 9:43 AM, ErisDS <erisds at gmail.com> wrote:

> Just to put forward my two cents:
> 
> Being able to define multiple custom image sizes would move wordpress a few
> steps closer to being useful as a CMS. The new 3-size system is great but
> it's not all the way there yet.
> 
> However I particularly like the idea of having a regeneration feature.
> 
> This will improve separation between content and theme such that future
> redesigns of a website (and there for potentially different sized
> post-thumbnails etc) no longer means we have to go through and reupload all
> the images - rather just hit a button and have them all regenerated. I am
> aware there are plugins but I see no reason why this shouldn't be core.
> 
> It would be sensible to warn users with large numbers of images that this
> could degrade their site performance, and to schedule the regeneration to
> happen over a period of time. However I think for 90% of Wordpress sites
> regeneration would work ok.
> 
> On Wed, Jan 13, 2010 at 2:22 PM, Leo germani <leogermani at gmail.com> wrote:
> 
>> Please review a candidate feature for 3.0
>> 
>> http://core.trac.wordpress.org/ticket/8599
>> 
>> --
>> leogermani.pirex.com.br
>> leogermani.estudiolivre.org
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


From otto at ottodestruct.com  Wed Jan 13 15:15:21 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 13 Jan 2010 09:15:21 -0600
Subject: [wp-hackers] Move Comment JavaScript and Comment Metadata
	Display
In-Reply-To: <bd49d2cf-97a3-4d96-9a64-5f9369616907@21g2000yqj.googlegroups.com>
References: <3d567654-9c51-4401-89fd-ea3eab4e81c2@m26g2000yqb.googlegroups.com>
	<4cc4de141001120035p2a5f9306r4d444abd5d8a87d7@mail.gmail.com> 
	<8268dc1f-0ba5-4f0c-9aec-546d8fa46772@r5g2000yqb.googlegroups.com> 
	<161617691001120937m2824cf9cicd9af81b05811589@mail.gmail.com> 
	<bd49d2cf-97a3-4d96-9a64-5f9369616907@21g2000yqj.googlegroups.com>
Message-ID: <161617691001130715u23842ea6mffb1754d58f0f0e7@mail.gmail.com>

On Tue, Jan 12, 2010 at 8:10 PM, Chris Poteet <cpoteet at siolon.com> wrote:
> add_filter( 'gettext', 'remove_at_from_comment_walker', 10, 2 );
> function remove_at_from_comment_walker( $translated, $text ) {
> ? if ( '%1$s at %2$s' == $text )
> ? ? ?return '%1$s %2$s';
> }
>
> This function actually removes the "Reply" text. Should it be that way?

No, it shouldn't, and frankly, I don't see how it possibly could.

My guess is that you have something else doing that, because all that
function does is to change the "at" text.


-Otto
Sent from Memphis, TN, United States

From mgerring at emrl.com  Wed Jan 13 20:38:43 2010
From: mgerring at emrl.com (Matthew Gerring)
Date: Wed, 13 Jan 2010 12:38:43 -0800
Subject: [wp-hackers] Change post_status of image attachments
Message-ID: <EC6146A3-E101-4FF9-9505-188B6C964195@emrl.com>

Hello all. Hoping someone can shed some light on a filter with some weird behavior.

I'm trying to use "attachment_fields_to_save" to set the post status of images. I was able to add a "post status" field to the media edit screen, and I can pass the value in that field into the database, but not if I'm trying to update the post_status. The code is here: http://wordpress.pastebin.com/m1dd87fdc

If anyone could shed some light on why I can't change that particular value, that'd be super extra awesome.

From otto at ottodestruct.com  Wed Jan 13 20:54:41 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 13 Jan 2010 14:54:41 -0600
Subject: [wp-hackers] Change post_status of image attachments
In-Reply-To: <EC6146A3-E101-4FF9-9505-188B6C964195@emrl.com>
References: <EC6146A3-E101-4FF9-9505-188B6C964195@emrl.com>
Message-ID: <161617691001131254g7c8b9b3clc5b11b2f5c44fe2f@mail.gmail.com>

Attachment post statuses are always "inherit".

This is set in wp_insert_attachment, which is called from
wp_update_post, which is called after the attachment_fields_to_save
filter runs.

So in other words, you can't change the post_status because it's being
forced to "inherit" for all attachments, always.

-Otto

On Wed, Jan 13, 2010 at 2:38 PM, Matthew Gerring <mgerring at emrl.com> wrote:
> Hello all. Hoping someone can shed some light on a filter with some weird behavior.
>
> I'm trying to use "attachment_fields_to_save" to set the post status of images. I was able to add a "post status" field to the media edit screen, and I can pass the value in that field into the database, but not if I'm trying to update the post_status. The code is here: http://wordpress.pastebin.com/m1dd87fdc
>
> If anyone could shed some light on why I can't change that particular value, that'd be super extra awesome.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From kontakt at joernroeder.de  Thu Jan 14 00:04:07 2010
From: kontakt at joernroeder.de (=?iso-8859-1?Q?J=F6rn_R=F6der?=)
Date: Thu, 14 Jan 2010 01:04:07 +0100
Subject: [wp-hackers] Multiple custom image sizes
In-Reply-To: <32c7967e1001130622g182a6e8aj76cdef68ecc389ab@mail.gmail.com>
References: <32c7967e1001130622g182a6e8aj76cdef68ecc389ab@mail.gmail.com>
Message-ID: <DAF92488-66DC-4B39-9F02-F3295D05BDE9@joernroeder.de>

Hi,
i add them via the functions.php of my theme.
But i think a "regenerate" all image-sizes on theme activation and remove custom image-sizes when i deactivate the theme would be a nice feature. 
Then each Theme could use its own sizes.

J?rn


Am 13.01.2010 um 15:22 schrieb Leo germani:

> Please review a candidate feature for 3.0
> 
> http://core.trac.wordpress.org/ticket/8599
> 
> -- 
> leogermani.pirex.com.br
> leogermani.estudiolivre.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ian at themeshaper.com  Thu Jan 14 14:51:49 2010
From: ian at themeshaper.com (Ian Stewart)
Date: Thu, 14 Jan 2010 08:51:49 -0600
Subject: [wp-hackers] Patching wp_link_pages()
Message-ID: <a8405fa31001140651k3c02858bsd64c505487dd68f2@mail.gmail.com>

I ran into a problem styling page links with
wp_link_pages()<http://codex.wordpress.org/Template_Tags/wp_link_pages>and
I thought it could use some extra extra arguments for adding text or
HTML fore and aft of the current page number. I've started hacking at
post-template.php in preparation for creating a patch (my first!). Anyone
care to take a look at it before I embarrass myself on trac?

The code, as-is, is here: http://pastebin.com/m45aa28f6 Line 34 is where I'm
getting crazy with the cheeze whiz.

-- 
Ian Stewart

http://ThemeShaper.com/
http://twitter.com/iandstewart/
http://ianstewart.stumbleupon.com/

From helgi at binary.is  Thu Jan 14 15:46:29 2010
From: helgi at binary.is (Helgi Hrafn Gunnarsson)
Date: Thu, 14 Jan 2010 09:46:29 -0600
Subject: [wp-hackers] PHP 5 any time soon?
Message-ID: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>

Hi, all.

I'm just checking up on whether there is any intention of upgrading the
minimum requirement to PHP 5 soon. The reason is that I had intended to use
WordPress some months ago, discovering that it was quite heavy, wanting to
make the code faster using various PHP 5 features, only to discover that the
project still retained a policy of sticking to PHP 4.3.

I'm wondering if it's intended to change that policy any time soon, or at
all.

Kind regards,
Helgi Hrafn Gunnarsson
helgi at binary.is

From mail at waclawjacek.com  Thu Jan 14 15:51:22 2010
From: mail at waclawjacek.com (=?UTF-8?B?V2FjxYJhdyBKYWNlaw==?=)
Date: Thu, 14 Jan 2010 16:51:22 +0100
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
Message-ID: <4B4F3D7A.7000609@waclawjacek.com>

On 2010-01-14 16:46, Helgi Hrafn Gunnarsson wrote:
> Hi, all.
>
> I'm just checking up on whether there is any intention of upgrading the
> minimum requirement to PHP 5 soon. The reason is that I had intended to use
> WordPress some months ago, discovering that it was quite heavy, wanting to
> make the code faster using various PHP 5 features, only to discover that the
> project still retained a policy of sticking to PHP 4.3.
>
> I'm wondering if it's intended to change that policy any time soon, or at
> all.
3.0 is a good moment for that.

Cheers,
W. J.

From feeds at armeda.com  Thu Jan 14 15:53:55 2010
From: feeds at armeda.com (Dre Armeda)
Date: Thu, 14 Jan 2010 07:53:55 -0800
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
Message-ID: <4B4F3E13.3000509@armeda.com>

Helgi, WordPress works with PHP 4 and 5, PHP is still supported and the 
minimum needed still.

The change will be made to PHP 5 when the WordPress user-base drops to a 
lower percentage mark is my understanding at this point.

Cheers,

Dre Armeda
http://armeda.com
@dremeda


On 1/14/10 7:46 AM, Helgi Hrafn Gunnarsson wrote:
> Hi, all.
>
> I'm just checking up on whether there is any intention of upgrading the
> minimum requirement to PHP 5 soon. The reason is that I had intended to use
> WordPress some months ago, discovering that it was quite heavy, wanting to
> make the code faster using various PHP 5 features, only to discover that the
> project still retained a policy of sticking to PHP 4.3.
>
> I'm wondering if it's intended to change that policy any time soon, or at
> all.
>
> Kind regards,
> Helgi Hrafn Gunnarsson
> helgi at binary.is
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    

From jane at automattic.com  Thu Jan 14 17:34:56 2010
From: jane at automattic.com (Jane Wells)
Date: Thu, 14 Jan 2010 12:34:56 -0500
Subject: [wp-hackers] 3.0 dev schedule
In-Reply-To: <mailman.13.1263384002.818.wp-hackers@lists.automattic.com>
References: <mailman.13.1263384002.818.wp-hackers@lists.automattic.com>
Message-ID: <FB85978E-48D0-4FB5-9F1F-152D40E8D0B5@automattic.com>

I just posted a development schedule to wpdevel.wordpress.com based on  
the decisions in recent dev chats. Check out the nice long period for  
attacking bugs of all shapes and sizes. Also the very decent amount of  
time for beta and RC to allow for broad public testing, not to mention  
giving plugin and theme authors a good chunk of time to update plugins/ 
themes for compatibility, and translators some breathing room after  
string freeze. And last but not least, the bulk of the cycle dedicated  
to working on the merge and any issues that arise while combining the  
codebases. Hopefully the schedule will sound good to everyone, and we  
can all stick to it and not try to squeeze in additional enhancements  
and features after freeze on February 15. Any concerns or comments  
would be best left as comments on wpdevel, or brought up in today's  
dev chat at 21:00 UTC in #wordpress-dev at irc.freenode.net. 

From mikeschinkel at newclarity.net  Thu Jan 14 18:52:53 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 14 Jan 2010 13:52:53 -0500
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <4B4F3E13.3000509@armeda.com>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
	<4B4F3E13.3000509@armeda.com>
Message-ID: <B157912D-92BF-4344-A898-FEC4ADAE2F21@newclarity.net>

> ..when the WordPress user-base drops to a lower percentage mark...

Just curious how those analytics are being determined?

-Mike Schinkel


On Jan 14, 2010, at 10:53 AM, Dre Armeda wrote:

> Helgi, WordPress works with PHP 4 and 5, PHP is still supported and the minimum needed still.
> 
> The change will be made to PHP 5 when the WordPress user-base drops to a lower percentage mark is my understanding at this point.
> 
> Cheers,
> 
> Dre Armeda
> http://armeda.com
> @dremeda
> 
> 
> On 1/14/10 7:46 AM, Helgi Hrafn Gunnarsson wrote:
>> Hi, all.
>> 
>> I'm just checking up on whether there is any intention of upgrading the
>> minimum requirement to PHP 5 soon. The reason is that I had intended to use
>> WordPress some months ago, discovering that it was quite heavy, wanting to
>> make the code faster using various PHP 5 features, only to discover that the
>> project still retained a policy of sticking to PHP 4.3.
>> 
>> I'm wondering if it's intended to change that policy any time soon, or at
>> all.
>> 
>> Kind regards,
>> Helgi Hrafn Gunnarsson
>> helgi at binary.is
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>   
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From zamoose at gmail.com  Thu Jan 14 19:00:58 2010
From: zamoose at gmail.com (Doug Stewart)
Date: Thu, 14 Jan 2010 14:00:58 -0500
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <B157912D-92BF-4344-A898-FEC4ADAE2F21@newclarity.net>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
	<4B4F3E13.3000509@armeda.com>
	<B157912D-92BF-4344-A898-FEC4ADAE2F21@newclarity.net>
Message-ID: <0CC65B2C-128E-4EFF-8609-FB36BC411B3E@gmail.com>

On Jan 14, 2010, at 1:52 PM, Mike Schinkel  
<mikeschinkel at newclarity.net> wrote:

>> ..when the WordPress user-base drops to a lower percentage mark...
>
> Just curious how those analytics are being determined?
>

See the recent "phone-home" discussions for further details.

--
-Doug
@zamoose
http://literalbarrage.org/blog/

From matt at sivel.net  Thu Jan 14 19:02:00 2010
From: matt at sivel.net (Matt Martz)
Date: Thu, 14 Jan 2010 13:02:00 -0600
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <B157912D-92BF-4344-A898-FEC4ADAE2F21@newclarity.net>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com> 
	<4B4F3E13.3000509@armeda.com>
	<B157912D-92BF-4344-A898-FEC4ADAE2F21@newclarity.net>
Message-ID: <518fa9631001141102i5bd4b1afw78f28e513dc09efe@mail.gmail.com>

>> ..when the WordPress user-base drops to a lower percentage mark...
>
> Just curious how those analytics are being determined?

These stats are determined based on the information that WordPress
sends when it phones home for updates and such.

As it was described at WordCamp NYC there are no plans to suddenly
make any release in the near future require PHP5.  We will continue
adding new features, some may require PHP5, which some do now, until
the bulk of the functionality requires PHP5, and is not usable with
php4.

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From mikeschinkel at newclarity.net  Thu Jan 14 19:10:59 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 14 Jan 2010 14:10:59 -0500
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <0CC65B2C-128E-4EFF-8609-FB36BC411B3E@gmail.com>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
	<4B4F3E13.3000509@armeda.com>
	<B157912D-92BF-4344-A898-FEC4ADAE2F21@newclarity.net>
	<0CC65B2C-128E-4EFF-8609-FB36BC411B3E@gmail.com>
Message-ID: <80DE655A-323D-4C76-B0EC-40490E2CA225@newclarity.net>

On Jan 14, 2010, at 2:00 PM, Doug Stewart wrote:

> On Jan 14, 2010, at 1:52 PM, Mike Schinkel <mikeschinkel at newclarity.net> wrote:
> 
>>> ..when the WordPress user-base drops to a lower percentage mark...
>> 
>> Just curious how those analytics are being determined?
>> 
> 
> See the recent "phone-home" discussions for further details.

Ah!  That was a discussion that was some overwhelming I paid it no attention... :)

Anyway, from my view, at least there *are* metrics.

-Mike

> 
> --
> -Doug
> @zamoose
> http://literalbarrage.org/blog/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From aldolat at gmail.com  Thu Jan 14 19:22:24 2010
From: aldolat at gmail.com (Aldo Latino)
Date: Thu, 14 Jan 2010 20:22:24 +0100
Subject: [wp-hackers] Missing commentmeta table
Message-ID: <1263496944.2636.14.camel@zen>

Hi,

I would to know if the wp-commentmeta table is part of the 2.9 upgrading
feature or not.

On my database, that uses a prefix other than wp_, it's missing.

Thanks in advance.

-- 
Aldo Latino
OpenPGP key: 4096R/0xA18E41E8


From wp at xentek.net  Thu Jan 14 19:42:05 2010
From: wp at xentek.net (Eric Marden)
Date: Thu, 14 Jan 2010 14:42:05 -0500
Subject: [wp-hackers] Multiple custom image sizes
In-Reply-To: <862d087f1001130703m7f8ad63ob170a2fabbd31fd8@mail.gmail.com>
References: <32c7967e1001130622g182a6e8aj76cdef68ecc389ab@mail.gmail.com>
	<686d0bd71001130643j34beec8dm87a0d4f69395e85c@mail.gmail.com>
	<862d087f1001130703m7f8ad63ob170a2fabbd31fd8@mail.gmail.com>
Message-ID: <B7BD06B5-C437-4945-A014-368EEFD75EDE@xentek.net>


On Jan 13, 2010, at 10:03 AM, Nathan Rice wrote:

>> Being able to define multiple custom image sizes would move  
>> wordpress a few
>> steps closer to being useful as a CMS.


You can. In Code. Adding more GUI does name make it any more a CMS  
than my Moleskine notebook makes me any more of a Hemmingway. Write a  
plugin if you want more GUI, as the existing API would make it rather  
trivial for you to do just that.


- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From scribu at gmail.com  Thu Jan 14 19:37:00 2010
From: scribu at gmail.com (scribu)
Date: Thu, 14 Jan 2010 21:37:00 +0200
Subject: [wp-hackers] Missing commentmeta table
In-Reply-To: <1263496944.2636.14.camel@zen>
References: <1263496944.2636.14.camel@zen>
Message-ID: <349fe48b1001141137k49850b36i5b41b2fc52a12264@mail.gmail.com>

The table should be created automatically on upgrade (in the Uprade Database
step).

Consider filling a ticket on trac: http://core.trac.wordpress.org

____
http://scribu.net


On Thu, Jan 14, 2010 at 9:22 PM, Aldo Latino <aldolat at gmail.com> wrote:

> Hi,
>
> I would to know if the wp-commentmeta table is part of the 2.9 upgrading
> feature or not.
>
> On my database, that uses a prefix other than wp_, it's missing.
>
> Thanks in advance.
>
> --
> Aldo Latino
> OpenPGP key: 4096R/0xA18E41E8
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ncrice at gmail.com  Thu Jan 14 19:49:14 2010
From: ncrice at gmail.com (Nathan Rice)
Date: Thu, 14 Jan 2010 14:49:14 -0500
Subject: [wp-hackers] Multiple custom image sizes
In-Reply-To: <B7BD06B5-C437-4945-A014-368EEFD75EDE@xentek.net>
References: <32c7967e1001130622g182a6e8aj76cdef68ecc389ab@mail.gmail.com>
	<686d0bd71001130643j34beec8dm87a0d4f69395e85c@mail.gmail.com>
	<862d087f1001130703m7f8ad63ob170a2fabbd31fd8@mail.gmail.com>
	<B7BD06B5-C437-4945-A014-368EEFD75EDE@xentek.net>
Message-ID: <862d087f1001141149s3a9830d5h3995d6a3713bb6a9@mail.gmail.com>

On Thu, Jan 14, 2010 at 2:42 PM, Eric Marden <wp at xentek.net> wrote:

>
> On Jan 13, 2010, at 10:03 AM, Nathan Rice wrote:
>
>  Being able to define multiple custom image sizes would move wordpress a
>>> few
>>> steps closer to being useful as a CMS.
>>>
>>
>
> You can. In Code. Adding more GUI does name make it any more a CMS than my
> Moleskine notebook makes me any more of a Hemmingway. Write a plugin if you
> want more GUI, as the existing API would make it rather trivial for you to
> do just that.
>
>
In fact, such a plugin already exists ...
http://wordpress.org/extend/plugins/additional-image-sizes/

Not that you really need it now. Adding a new image size is LITERALLY just 1
line of code in your functions.php file.

Nathan Rice

From aaron at jorb.in  Thu Jan 14 19:55:31 2010
From: aaron at jorb.in (Aaron Jorbin)
Date: Thu, 14 Jan 2010 11:55:31 -0800
Subject: [wp-hackers] Missing commentmeta table
In-Reply-To: <349fe48b1001141137k49850b36i5b41b2fc52a12264@mail.gmail.com>
References: <1263496944.2636.14.camel@zen>
	<349fe48b1001141137k49850b36i5b41b2fc52a12264@mail.gmail.com>
Message-ID: <dc89e3ef1001141155r30979658ve94a2e009675603a@mail.gmail.com>

Also, to state the obvious, if you did a manual upgrade,  make sure
you run the upgrade script by visiting
yoursite.com/wp-admin/upgrade.php .




http://aaron.jorb.in
twitter: twitter.com/aaronjorbin



On Thu, Jan 14, 2010 at 11:37 AM, scribu <scribu at gmail.com> wrote:
> The table should be created automatically on upgrade (in the Uprade Database
> step).
>
> Consider filling a ticket on trac: http://core.trac.wordpress.org
>
> ____
> http://scribu.net
>
>
> On Thu, Jan 14, 2010 at 9:22 PM, Aldo Latino <aldolat at gmail.com> wrote:
>
>> Hi,
>>
>> I would to know if the wp-commentmeta table is part of the 2.9 upgrading
>> feature or not.
>>
>> On my database, that uses a prefix other than wp_, it's missing.
>>
>> Thanks in advance.
>>
>> --
>> Aldo Latino
>> OpenPGP key: 4096R/0xA18E41E8
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From aldolat at gmail.com  Thu Jan 14 20:01:54 2010
From: aldolat at gmail.com (Aldo Latino)
Date: Thu, 14 Jan 2010 21:01:54 +0100
Subject: [wp-hackers] Missing commentmeta table
In-Reply-To: <dc89e3ef1001141155r30979658ve94a2e009675603a@mail.gmail.com>
References: <1263496944.2636.14.camel@zen>
	<349fe48b1001141137k49850b36i5b41b2fc52a12264@mail.gmail.com>
	<dc89e3ef1001141155r30979658ve94a2e009675603a@mail.gmail.com>
Message-ID: <1263499314.2636.17.camel@zen>

Il giorno gio, 14/01/2010 alle 11.55 -0800, Aaron Jorbin ha scritto:
> Also, to state the obvious, if you did a manual upgrade,  make sure
> you run the upgrade script by visiting
> yoursite.com/wp-admin/upgrade.php . 

I did a manual upgrade, but I always run this script at the end of the
process.

-- 
Aldo Latino
OpenPGP key: 4096R/0xA18E41E8


From adamholz at gmail.com  Thu Jan 14 20:02:02 2010
From: adamholz at gmail.com (Adam Holzband)
Date: Thu, 14 Jan 2010 14:02:02 -0600
Subject: [wp-hackers] Multiple custom image sizes
Message-ID: <d26211d51001141202r717d8e0dn2e18e6fc343f21c2@mail.gmail.com>

To Nathan Rice and J?rn R?der re: multiple custom image sizes for themes -

Can you go into more detail on how you are managing multiple images sizes
using functions?  I'm doing something similar but am still working out the
kinks and am curious to see how others have done it to refine my process.

Thanks!

From shane at bugssite.org  Thu Jan 14 21:14:58 2010
From: shane at bugssite.org (Shane Froebel)
Date: Thu, 14 Jan 2010 21:14:58 +0000
Subject: [wp-hackers] Patching wp_link_pages()
Message-ID: <1178278219-1263503700-cardhu_decombobulator_blackberry.rim.net-1422223059-@bda116.bisx.prod.on.blackberry>

Ill check it out.   Remember that you can use a walker as well
------Original Message------
From: Ian Stewart
Sender: wp-hackers-bounces at lists.automattic.com
To: wp-hackers at lists.automattic.com
ReplyTo: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Patching wp_link_pages()
Sent: Jan 14, 2010 9:51 AM

I ran into a problem styling page links with
wp_link_pages()<http://codex.wordpress.org/Template_Tags/wp_link_pages>and
I thought it could use some extra extra arguments for adding text or
HTML fore and aft of the current page number. I've started hacking at
post-template.php in preparation for creating a patch (my first!). Anyone
care to take a look at it before I embarrass myself on trac?

The code, as-is, is here: http://pastebin.com/m45aa28f6 Line 34 is where I'm
getting crazy with the cheeze whiz.

-- 
Ian Stewart

http://ThemeShaper.com/
http://twitter.com/iandstewart/
http://ianstewart.stumbleupon.com/
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From wordpress at dd32.id.au  Thu Jan 14 21:40:00 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 15 Jan 2010 08:40:00 +1100
Subject: [wp-hackers] Missing commentmeta table
In-Reply-To: <1263499314.2636.17.camel@zen>
References: <1263496944.2636.14.camel@zen>
	<349fe48b1001141137k49850b36i5b41b2fc52a12264@mail.gmail.com>
	<dc89e3ef1001141155r30979658ve94a2e009675603a@mail.gmail.com>
	<1263499314.2636.17.camel@zen>
Message-ID: <op.u6jk4va2spxmuu@dd32>

Does your MySQL user account have the ability to create tables?

Last time an extra table was added, some people had locked down user  
accounts which only let them read/modify the tables, not create new ones  
IIRC

On Fri, 15 Jan 2010 07:01:54 +1100, Aldo Latino <aldolat at gmail.com> wrote:

> Il giorno gio, 14/01/2010 alle 11.55 -0800, Aaron Jorbin ha scritto:
>> Also, to state the obvious, if you did a manual upgrade,  make sure
>> you run the upgrade script by visiting
>> yoursite.com/wp-admin/upgrade.php .
>
> I did a manual upgrade, but I always run this script at the end of the
> process.
-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
  Web: http://dd32.id.au/

From m at mullenweg.com  Thu Jan 14 22:54:13 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Thu, 14 Jan 2010 14:54:13 -0800
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
Message-ID: <4B4FA095.8050001@mullenweg.com>

On 2010-01-14 7:46 AM, Helgi Hrafn Gunnarsson wrote:
> I'm just checking up on whether there is any intention of upgrading the
> minimum requirement to PHP 5 soon. The reason is that I had intended to use
> WordPress some months ago, discovering that it was quite heavy, wanting to
> make the code faster using various PHP 5 features, only to discover that the
> project still retained a policy of sticking to PHP 4.3.

No plans. We've general found performance enhancements to not require 
PHP5. If you've benchmarked and identified otherwise, please share with 
the community.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From aldolat at gmail.com  Thu Jan 14 23:04:58 2010
From: aldolat at gmail.com (Aldo Latino)
Date: Fri, 15 Jan 2010 00:04:58 +0100
Subject: [wp-hackers] Missing commentmeta table
In-Reply-To: <op.u6jk4va2spxmuu@dd32>
References: <1263496944.2636.14.camel@zen>
	<349fe48b1001141137k49850b36i5b41b2fc52a12264@mail.gmail.com>
	<dc89e3ef1001141155r30979658ve94a2e009675603a@mail.gmail.com>
	<1263499314.2636.17.camel@zen>  <op.u6jk4va2spxmuu@dd32>
Message-ID: <1263510298.2636.26.camel@zen>

Il giorno ven, 15/01/2010 alle 08.40 +1100, Dion Hulse (dd32) ha
scritto:
> Does your MySQL user account have the ability to create tables?

Yes, it can.
On my localhost I have just now tested an upgrade from wp 2.8.6 to
2.9.1, both via automatic and manual upgrade. In both two cases the
upgrade added the commentmeta table. So, I think that there was
something weird in the upgrade I made on my blog, even if all is working
properly. Today, I have added this table via SQL in order to use a
plugin.

-- 
Aldo Latino
OpenPGP key: 4096R/0xA18E41E8


From jcanals at alkivia.net  Thu Jan 14 23:44:58 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Fri, 15 Jan 2010 00:44:58 +0100
Subject: [wp-hackers] A question about donation link
Message-ID: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>

Hello all,


From bogus@does.not.exist.com  Wed Jan 13 07:53:57 2010
From: bogus@does.not.exist.com ()
Date: Wed, 13 Jan 2010 07:53:57 -0000
Subject: No subject
Message-ID: <mailman.1.1263512711.21671.wp-hackers@lists.automattic.com>

a small line at the page footer with the text "Theme design by
[project-name] project." with a link to the site where information, support
and documentation about the theme can be found.

In December, as a new customization option, I decided to include a checkbox
on the theme options page to allow users to remove the credits line,
followed by a link to suggest a donation. That locked like this:

[] Disable public theme credits.
If disabling the credits, please, consider <a href="%s">donating to the
project</a>

Because of this donation link, the new theme version was rejected on the
themes site, as them considered the donation link as a licensing option.
The theme is 100% GPL and has no licensing options, it's just GPL. I think
that asking users to consider donating to the project if them remove the
credits footer it's something reasonable and asking to consider donating
cannot be considered a licensing option.

So, I've been forced to remove the donation link and still telling the site
admin there is no commercial version of the theme and that I don't have any
licensing option for it, The theme is just licensed under the GPL terms and
there is no option for any other license.

Having this kind of trouble because a donation link that have been removed,
really discourages to continue writing and maintaining WordPress themes and
plugins. I've been waiting from December 18 for the theme to be published
and some time lost in email discussions about the link. The donation link
was removed on December 19, as soon as them told me that could not be
accepted, but any release from them have been published because of it.

Do you think the donation link violates the GPL license and can be
understood as a licensing option?

Thanks in advance,
Jordi Canals.

From scribu at gmail.com  Thu Jan 14 23:50:31 2010
From: scribu at gmail.com (scribu)
Date: Fri, 15 Jan 2010 01:50:31 +0200
Subject: [wp-hackers] A question about donation link
In-Reply-To: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>
Message-ID: <349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>

Several plugins hosted on Extend that I use have a donation button on their
settings page, so I think it's only fair to allow the same thing for themes.

___
http://scribu.net


On Fri, Jan 15, 2010 at 1:44 AM, Jordi Canals <jcanals at alkivia.net> wrote:

> Hello all,
>
> From long time ago, I maintain a theme for WordPress, this theme always had
> a small line at the page footer with the text "Theme design by
> [project-name] project." with a link to the site where information, support
> and documentation about the theme can be found.
>
> In December, as a new customization option, I decided to include a checkbox
> on the theme options page to allow users to remove the credits line,
> followed by a link to suggest a donation. That locked like this:
>
> [] Disable public theme credits.
> If disabling the credits, please, consider <a href="%s">donating to the
> project</a>
>
> Because of this donation link, the new theme version was rejected on the
> themes site, as them considered the donation link as a licensing option.
> The theme is 100% GPL and has no licensing options, it's just GPL. I think
> that asking users to consider donating to the project if them remove the
> credits footer it's something reasonable and asking to consider donating
> cannot be considered a licensing option.
>
> So, I've been forced to remove the donation link and still telling the site
> admin there is no commercial version of the theme and that I don't have any
> licensing option for it, The theme is just licensed under the GPL terms and
> there is no option for any other license.
>
> Having this kind of trouble because a donation link that have been removed,
> really discourages to continue writing and maintaining WordPress themes and
> plugins. I've been waiting from December 18 for the theme to be published
> and some time lost in email discussions about the link. The donation link
> was removed on December 19, as soon as them told me that could not be
> accepted, but any release from them have been published because of it.
>
> Do you think the donation link violates the GPL license and can be
> understood as a licensing option?
>
> Thanks in advance,
> Jordi Canals.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From shane at bugssite.org  Fri Jan 15 00:04:47 2010
From: shane at bugssite.org (Shane A. Froebel)
Date: Thu, 14 Jan 2010 19:04:47 -0500
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <4B4FA095.8050001@mullenweg.com>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
	<4B4FA095.8050001@mullenweg.com>
Message-ID: <4B4FB11F.2070200@bugssite.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Reality the threshold is going to get lower sooner than later when
plugins stop supporting PHP4 and I know a lot of good object oriented
programing for plugins can only support PHP5.

I really is a matter of 2 *maybe 3* versions before we are forced to
switch over to PHP5. I love to see it sooner because then I wouldn't
have to check for php4 functions.

Food for thought. :-)

Your Friend, Shane
http://bugssite.org/

On 1/14/2010 5:54 PM, Matt Mullenweg wrote:
> On 2010-01-14 7:46 AM, Helgi Hrafn Gunnarsson wrote:
>> I'm just checking up on whether there is any intention of upgrading the
>> minimum requirement to PHP 5 soon. The reason is that I had intended
>> to use
>> WordPress some months ago, discovering that it was quite heavy,
>> wanting to
>> make the code faster using various PHP 5 features, only to discover
>> that the
>> project still retained a policy of sticking to PHP 4.3.
> 
> No plans. We've general found performance enhancements to not require
> PHP5. If you've benchmarked and identified otherwise, please share with
> the community.
> 
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (MingW32)

iQIcBAEBAgAGBQJLT7EfAAoJEC7/vS6gbNwFPB4P/RXJ3yM1iLf919HEpMwROIUM
oXkxImxjmYxDFeyqFplWJ0Lh02/Q/4S9k2VO8ycq9XhlJ4iTaIqDvmKZZ+e9z0tX
80Z6U6BxeATc8SZ/XSzGcYrHOhpQUdfUKWIxKA+d4NxTn6Cb9LJiwnpmfHCdHce0
c0+d2zcqy66ejTaD1KKzPO/TLph3O+ih64d8v30m7PheRX7LRMwLX1avmqFz8TUn
V/1R3bKFicMu7LebNUJ3KqHmV2qwnP3ZzQ+OYBhys/s2Ybm52YZcXszUDAPIjIsA
LU9FGc3Io61emijxT3cw2Ff1Kstt+a9izl8sug0/jPL26u4U0bMQc6ALjBRyuK9q
dW3DW8mNl3t+fe5DshiER0UqewebxTnOx1VntM9DYft2je3b73vS1gzag49mRr9A
5abY+auoq11OYuvyVKneVzJ5P2v9IdIgOAONrKc9dDANvvawpgDv8qM5UIDAt5eJ
HWwuz2wsXHfoMtoOI6wGwaGmofukLFZFczMUJwT5Z0Umk//mO2T4yWfkJOv1T7VS
IAsR9wyVZl3wJhQ8ZTFmTCh/+MLFyAt0qvG0U3pdZbUrrydlvpBiCYVYjK0Eo4o3
VaMuXU9AH9kpQ/RCTwEGL6PUTZOoz/URErzJSqcnlStIscJwLXKcEJiKkwWl2qMt
X3v+sfmcMRzRlHt9u4BG
=VvDB
-----END PGP SIGNATURE-----

From aaron at xavisys.com  Fri Jan 15 00:19:42 2010
From: aaron at xavisys.com (aaron at xavisys.com)
Date: Thu, 14 Jan 2010 17:19:42 -0700 (MST)
Subject: [wp-hackers] A question about donation link
In-Reply-To: <349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com> 
	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>
Message-ID: <1263514782.164720037@192.168.2.227>

Of course plugins aren't allowed to put a link for the plugin or author outside the admin panel unless it's opt in (not opt out), so plugins and themes are already treated at least a little differently.

Having said that, I don't have a problem with a donation link as mentioned, as long as it's worded as being optional.  If you say "To uncheck this box and hide the credits, you must first donate" then that would be different (in my opinion).

-----Original Message-----
From: "scribu" <scribu at gmail.com>
Sent: Thursday, January 14, 2010 4:50pm
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] A question about donation link

Several plugins hosted on Extend that I use have a donation button on their
settings page, so I think it's only fair to allow the same thing for themes.

___
http://scribu.net


On Fri, Jan 15, 2010 at 1:44 AM, Jordi Canals <jcanals at alkivia.net> wrote:

> Hello all,
>
> From long time ago, I maintain a theme for WordPress, this theme always had
> a small line at the page footer with the text "Theme design by
> [project-name] project." with a link to the site where information, support
> and documentation about the theme can be found.
>
> In December, as a new customization option, I decided to include a checkbox
> on the theme options page to allow users to remove the credits line,
> followed by a link to suggest a donation. That locked like this:
>
> [] Disable public theme credits.
> If disabling the credits, please, consider <a href="%s">donating to the
> project</a>
>
> Because of this donation link, the new theme version was rejected on the
> themes site, as them considered the donation link as a licensing option.
> The theme is 100% GPL and has no licensing options, it's just GPL. I think
> that asking users to consider donating to the project if them remove the
> credits footer it's something reasonable and asking to consider donating
> cannot be considered a licensing option.
>
> So, I've been forced to remove the donation link and still telling the site
> admin there is no commercial version of the theme and that I don't have any
> licensing option for it, The theme is just licensed under the GPL terms and
> there is no option for any other license.
>
> Having this kind of trouble because a donation link that have been removed,
> really discourages to continue writing and maintaining WordPress themes and
> plugins. I've been waiting from December 18 for the theme to be published
> and some time lost in email discussions about the link. The donation link
> was removed on December 19, as soon as them told me that could not be
> accepted, but any release from them have been published because of it.
>
> Do you think the donation link violates the GPL license and can be
> understood as a licensing option?
>
> Thanks in advance,
> Jordi Canals.


From jcanals at alkivia.net  Fri Jan 15 00:20:44 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Fri, 15 Jan 2010 01:20:44 +0100
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <4B4FB11F.2070200@bugssite.org>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
	<4B4FA095.8050001@mullenweg.com> <4B4FB11F.2070200@bugssite.org>
Message-ID: <394dda561001141620o1079ca6bkcb72ca95bbf5e67d@mail.gmail.com>

I just make a check on my plugins as them only work on PHP-5. If there is no
PHP 5.0.0 or higher installed on server, the plugin just shows an "admin
warning" and does nothing.

As we do with WordPress, I think we have to encourage to have a reasonable
current version of PHP, as it is releated also to security. I think PHP-4 is
not a reasonable current version, and everybody had a lot of time to update
servers to a newer version. Just consider that PHP-4 support was
discontinued two years ago. (With the last security fix on Aug, 7 2008
(thats a long time ago).

I think nobody imagines to write plugins compatible with a WordPress version
two years old... think the same is about an obsolete PHP version.

Jordi Canals.

2010/1/15 Shane A. Froebel <shane at bugssite.org>

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Reality the threshold is going to get lower sooner than later when
> plugins stop supporting PHP4 and I know a lot of good object oriented
> programing for plugins can only support PHP5.
>
> I really is a matter of 2 *maybe 3* versions before we are forced to
> switch over to PHP5. I love to see it sooner because then I wouldn't
> have to check for php4 functions.
>
> Food for thought. :-)
>
> Your Friend, Shane
> http://bugssite.org/
>

From jcanals at alkivia.net  Fri Jan 15 00:26:52 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Fri, 15 Jan 2010 01:26:52 +0100
Subject: [wp-hackers] A question about donation link
In-Reply-To: <1263514782.164720037@192.168.2.227>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>
	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>
	<1263514782.164720037@192.168.2.227>
Message-ID: <394dda561001141626j70e722f1k65e03e959785d738@mail.gmail.com>

2010/1/15 <aaron at xavisys.com>

> Of course plugins aren't allowed to put a link for the plugin or author
> outside the admin panel unless it's opt in (not opt out), so plugins and
> themes are already treated at least a little differently.
>
> Having said that, I don't have a problem with a donation link as mentioned,
> as long as it's worded as being optional.  If you say "To uncheck this box
> and hide the credits, you must first donate" then that would be different
> (in my opinion).
>
>
I agree with you if you say "to hide credits you MUST donate". Just I think
the words "If disabling the credits, please, consider donating to the
project." are clear enough that you can consider it, if you want.

Another option is to completely remove the option to hide the public footer
credits and make the user to hack the footer.php file if him want to remove
the footer. But I like making thins more easy without hacking any file.

From mgerring at emrl.com  Fri Jan 15 00:59:23 2010
From: mgerring at emrl.com (Matthew Gerring)
Date: Thu, 14 Jan 2010 16:59:23 -0800
Subject: [wp-hackers] meta_key and meta_value query variables don't work in
	the backend?
Message-ID: <63DA2C5C-04A9-4B4A-B390-6BBE473077C9@emrl.com>

Hello all. I'm using the manage_pages_query filter to sort posts in the backend. I seem to be able to use all the normal variables, except for meta_key and meta_value. They do absolutely nothing, together or separately. I dug through the source to see what was going on, but I didn't see any giveaways as to why the front end would accept that as a query variable and not the back end. Can anyone shed some light on this?

-Matthew

From aldenml at yahoo.com  Fri Jan 15 07:11:47 2010
From: aldenml at yahoo.com (Alden Torres)
Date: Thu, 14 Jan 2010 23:11:47 -0800 (PST)
Subject: [wp-hackers] My plugin removed from WP.org extend directory
Message-ID: <566296.2257.qm@web51707.mail.re2.yahoo.com>

Hello,

It seems that a plugin I'm developing (fork of All in One SEO Pack) was pulled out from the public system.

The url is: http://wordpress.org/extend/plugins/light-seo/
The homepage: http://www.aldentorres.com/light-seo-wordpress-plugin/
Download link: http://www.aldentorres.com/light-seo.trunk.zip

I was suggested that maybe the plugins are so similar, that an special policy was applied.

I don't know if it is the case, but I can prove that in fact, they diverge in numerous way, even the user base target are different.

I tried to reach someone related to the issue in numerous ways without results. Could I have some insight about how to proceed to address this problem?

Thanks.

Alden

From jeremy at visser.name  Fri Jan 15 10:09:34 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Fri, 15 Jan 2010 21:09:34 +1100
Subject: [wp-hackers] A question about donation link
In-Reply-To: <349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>
	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>
Message-ID: <1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>

On Fri, 2010-01-15 at 01:50 +0200, scribu wrote: 
> Several plugins hosted on Extend that I use have a donation button on their
> settings page, so I think it's only fair to allow the same thing for themes.

That's correct. In fact, WP Super Cache, a very popular plugin by
Donncha O Caoimh, a WordPress MU developer and Automattic employee,
contains a PayPal Donate button inside the plugin settings page.

The donate message is able to be disabled, but it's really not much
different to what Jordi is describing.

Going by the facts we've been presented, it does seem like Jordi has
been treated a little unfairly, although there is possibly more to this
than has been revealed to us. So will we remove WP Super Cache from the
plugin pages too?


From hempsworth at googlemail.com  Fri Jan 15 10:15:48 2010
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Fri, 15 Jan 2010 10:15:48 +0000
Subject: [wp-hackers] A question about donation link
In-Reply-To: <1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com> 
	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com> 
	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>
Message-ID: <5a1dad881001150215t3fa950adx11b32532c3e74905@mail.gmail.com>

Jordi, do you have the original plugin zip available for us to take a look
at (to rule out there not being more than meets the eye)... Remember
attachments are stripped on this list, perhaps upload it to your site.

-- Alex  (Hempsworth)

From donncha at linux.ie  Fri Jan 15 10:30:42 2010
From: donncha at linux.ie (Donncha O Caoimh)
Date: Fri, 15 Jan 2010 10:30:42 +0000
Subject: [wp-hackers] A question about donation link
In-Reply-To: <1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>
	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>
Message-ID: <4B5043D2.8000900@linux.ie>

As previously mentioned on this thread WP Super Cache doesn't have the 
"donate or you must link to my blog" language so I think it's quite 
different. You can hide the donate button without guilt of clicking an 
"I already donated" button or similar.

A number of prominent plugins do however use that language and while I 
understand the motivation of the authors I don't personally like it and 
never went down that route with my own plugins.

As for the theme link, quite often I remove the link and place it on my 
About page. One theme author obviously didn't like that and sent me an 
email asking me to put the link back or stop using the theme. I picked a 
better theme.

Donncha

On 15/01/10 10:09, Jeremy Visser wrote:
> On Fri, 2010-01-15 at 01:50 +0200, scribu wrote:
>> Several plugins hosted on Extend that I use have a donation button on their
>> settings page, so I think it's only fair to allow the same thing for themes.
>
> That's correct. In fact, WP Super Cache, a very popular plugin by
> Donncha O Caoimh, a WordPress MU developer and Automattic employee,
> contains a PayPal Donate button inside the plugin settings page.
>
> The donate message is able to be disabled, but it's really not much
> different to what Jordi is describing.
>
> Going by the facts we've been presented, it does seem like Jordi has
> been treated a little unfairly, although there is possibly more to this
> than has been revealed to us. So will we remove WP Super Cache from the
> plugin pages too?
>

From mikeschinkel at newclarity.net  Fri Jan 15 12:58:26 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 15 Jan 2010 07:58:26 -0500
Subject: [wp-hackers] A question about donation link
In-Reply-To: <4B5043D2.8000900@linux.ie>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>
	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>
	<4B5043D2.8000900@linux.ie>
Message-ID: <283C0A4B-E957-4F33-870C-FCDE84B206C7@newclarity.net>

Serious Question:  

If someone devotes their time and energy into creating a plugin and/or theme and offers it up via GPL-licensing to the community, is it really so bad for them to put a link in their admin section asking for donation, even if it does request them to link to the blog or click a button that says "I already donated?"  It's GPL so anyone who wants can fork it and get rid of it if they like.  Some developers may not want their clients to see a donation button, but shouldn't that developer who is getting paid give a little back to the plugin/theme developer who helped them get paid?  It seems like being against this is like "biting the hand that feeds..." (with some thumping NiN cords in the background... :)

Also, while I also don't see why it's so bad to have an external link on a theme (i.e. not in the admin console), I can see where some might feel that is over the top but still they are providing a valuable service; why shouldn't they be able to get a link?  Again, the user can modify the GPL theme if they like and remove the link.

I do see where they shouldn't imply that it must be paid to license it because that would violate the GPL, but if it's made clear it is only a request for donation, what's wrong with that?

-Mike


On Jan 15, 2010, at 5:30 AM, Donncha O Caoimh wrote:

> As previously mentioned on this thread WP Super Cache doesn't have the "donate or you must link to my blog" language so I think it's quite different. You can hide the donate button without guilt of clicking an "I already donated" button or similar.
> 
> A number of prominent plugins do however use that language and while I understand the motivation of the authors I don't personally like it and never went down that route with my own plugins.
> 
> As for the theme link, quite often I remove the link and place it on my About page. One theme author obviously didn't like that and sent me an email asking me to put the link back or stop using the theme. I picked a better theme.
> 
> Donncha
> 
> On 15/01/10 10:09, Jeremy Visser wrote:
>> On Fri, 2010-01-15 at 01:50 +0200, scribu wrote:
>>> Several plugins hosted on Extend that I use have a donation button on their
>>> settings page, so I think it's only fair to allow the same thing for themes.
>> 
>> That's correct. In fact, WP Super Cache, a very popular plugin by
>> Donncha O Caoimh, a WordPress MU developer and Automattic employee,
>> contains a PayPal Donate button inside the plugin settings page.
>> 
>> The donate message is able to be disabled, but it's really not much
>> different to what Jordi is describing.
>> 
>> Going by the facts we've been presented, it does seem like Jordi has
>> been treated a little unfairly, although there is possibly more to this
>> than has been revealed to us. So will we remove WP Super Cache from the
>> plugin pages too?
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From kontakt at joernroeder.de  Fri Jan 15 13:09:21 2010
From: kontakt at joernroeder.de (=?iso-8859-1?Q?J=F6rn_R=F6der?=)
Date: Fri, 15 Jan 2010 14:09:21 +0100
Subject: [wp-hackers] Multiple custom image sizes
In-Reply-To: <d26211d51001141202r717d8e0dn2e18e6fc343f21c2@mail.gmail.com>
References: <d26211d51001141202r717d8e0dn2e18e6fc343f21c2@mail.gmail.com>
Message-ID: <AE0E5879-20FF-4834-8FF7-EDC81F1D6569@joernroeder.de>

Hi Adam,
i found this post http://wordpress.org/support/topic/235286#post-966849 and use it since wp 2.7.x
I don't know whether there is a better possibility since the new versions.

J?rn

Am 14.01.2010 um 21:02 schrieb Adam Holzband:

> To Nathan Rice and J?rn R?der re: multiple custom image sizes for themes -
> 
> Can you go into more detail on how you are managing multiple images sizes
> using functions?  I'm doing something similar but am still working out the
> kinks and am curious to see how others have done it to refine my process.
> 
> Thanks!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mark at simplercomputing.net  Fri Jan 15 14:48:46 2010
From: mark at simplercomputing.net (Mark E)
Date: Fri, 15 Jan 2010 07:48:46 -0700
Subject: [wp-hackers] A question about donation link
In-Reply-To: <283C0A4B-E957-4F33-870C-FCDE84B206C7@newclarity.net>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>	<4B5043D2.8000900@linux.ie>
	<283C0A4B-E957-4F33-870C-FCDE84B206C7@newclarity.net>
Message-ID: <4B50804E.7070807@simplercomputing.net>

Solution: Put the instructions on how to use the plugin on your own site 
with a link in the admin panel back to your help page - e.g. Do not 
include a "readme" file with the software package. Then on your site ask 
for donations. With that done you're in line with this page linked below 
and no complaint can be legitimately put forth:

http://wordpress.org/donate/

Mark


Mike Schinkel wrote:
> Serious Question:
> 
> If someone devotes their time and energy into creating a plugin
> and/or theme and offers it up via GPL-licensing to the community, is
> it really so bad for them to put a link in their admin section asking
> for donation, even if it does request them to link to the blog or
> click a button that says "I already donated?"  It's GPL so anyone who
> wants can fork it and get rid of it if they like.  Some developers
> may not want their clients to see a donation button, but shouldn't
> that developer who is getting paid give a little back to the
> plugin/theme developer who helped them get paid?  It seems like being
> against this is like "biting the hand that feeds..." (with some
> thumping NiN cords in the background... :)

From mikeschinkel at newclarity.net  Fri Jan 15 15:27:45 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 15 Jan 2010 10:27:45 -0500
Subject: [wp-hackers] A question about donation link
In-Reply-To: <4B50804E.7070807@simplercomputing.net>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>	<4B5043D2.8000900@linux.ie>
	<283C0A4B-E957-4F33-870C-FCDE84B206C7@newclarity.net>
	<4B50804E.7070807@simplercomputing.net>
Message-ID: <F6F4F391-3047-46F1-A70F-F893C21C9091@newclarity.net>

On Jan 15, 2010, at 9:48 AM, Mark E wrote:
>> Serious Question:
>> If someone devotes their time and energy into creating a plugin
>> and/or theme and offers it up via GPL-licensing to the community, is
>> it really so bad for them to put a link in their admin section asking
>> for donation, even if it does request them to link to the blog or
>> click a button that says "I already donated?"  It's GPL so anyone who
>> wants can fork it and get rid of it if they like.  Some developers
>> may not want their clients to see a donation button, but shouldn't
>> that developer who is getting paid give a little back to the
>> plugin/theme developer who helped them get paid?  It seems like being
>> against this is like "biting the hand that feeds..." (with some
>> thumping NiN cords in the background... :)
> 
> Solution: Put the instructions on how to use the plugin on your own site with a link in the admin panel back to your help page - e.g. Do not include a "readme" file with the software package. Then on your site ask for donations. With that done you're in line with this page linked below and no complaint can be legitimately put forth:
> 
> http://wordpress.org/donate/

Thanks for the reply and that's a good solution.  
FWIW though it merely sidestepped the question, it didn't answer it.

-Mike

From otto at ottodestruct.com  Fri Jan 15 16:23:46 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 15 Jan 2010 10:23:46 -0600
Subject: [wp-hackers] meta_key and meta_value query variables don't work
	in the backend?
In-Reply-To: <63DA2C5C-04A9-4B4A-B390-6BBE473077C9@emrl.com>
References: <63DA2C5C-04A9-4B4A-B390-6BBE473077C9@emrl.com>
Message-ID: <161617691001150823v4f7b786ci74af53ddb835a1a2@mail.gmail.com>

What do you mean by "front end" and "back end"? Your post isn't very clear.

What code are you trying that doesn't work in the way you expect it to work?

-Otto



On Thu, Jan 14, 2010 at 6:59 PM, Matthew Gerring <mgerring at emrl.com> wrote:
> Hello all. I'm using the manage_pages_query filter to sort posts in the backend. I seem to be able to use all the normal variables, except for meta_key and meta_value. They do absolutely nothing, together or separately. I dug through the source to see what was going on, but I didn't see any giveaways as to why the front end would accept that as a query variable and not the back end. Can anyone shed some light on this?
>
> -Matthew
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Fri Jan 15 16:33:34 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 15 Jan 2010 11:33:34 -0500
Subject: [wp-hackers] How to get the meta_ID?
In-Reply-To: <4B47C6B0.1000406@wpseek.com>
References: <779E44EC-BC1F-4337-B37B-BCB9B8D7553F@emrl.com> 
	<4B47C6B0.1000406@wpseek.com>
Message-ID: <4cc4de141001150833k640962f9l6786c1ce4936dc8d@mail.gmail.com>

>
> There is no built-in function that I know of so here is my humble attempt
> to get the meta_id *by meta_key*:

$wpdb->get_var( $wpdb->prepare("SELECT meta_id FROM $wpdb->postmeta WHERE
> post_id = %d AND meta_key = %s", $post_id, $meta_key) );


A post can have more than one row in the postmeta table for each meta_key.
Not only can they have different values, but they can also have the same
value (and thus only differ in meta_id). There is a ticket in Trac to
prevent duplicates on meta_value + meta_key + post_id (
http://core.trac.wordpress.org/ticket/10905<http://core.trac.wordpress.org/ticket/10905#comment:17>
), but either way you would still need to also check the meta value when
trying to find the corresponding meta_id, as having multiple values per key
per post is perfectly valid.

You should probably avoid using meta_id at all costs and stick to the API if
at all possible, though.

From trelvao at workmedia.pt  Fri Jan 15 18:02:20 2010
From: trelvao at workmedia.pt (Tiago Relvao)
Date: Fri, 15 Jan 2010 18:02:20 +0000
Subject: [wp-hackers] A question about donation link
In-Reply-To: <4B50804E.7070807@simplercomputing.net>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>	<4B5043D2.8000900@linux.ie>	<283C0A4B-E957-4F33-870C-FCDE84B206C7@newclarity.net>
	<4B50804E.7070807@simplercomputing.net>
Message-ID: <4B50ADAC.1080108@workmedia.pt>

It seems to me that there should be no shame in assuming you want to be 
paid for your work. After all, it's work!

Maybe there should be room in the plug-in directory for proprietary 
wordpress plug-ins with source code included (I believe there's no point 
in obfuscating or encrypting). An official app store with free, free for 
personal use, commercial and open source plug-ins should suffice.

There are already some efforts in restricting the use of plug-ins. 
Either by requiring an api key, a site registration or even by implying 
you should make a donation. This seems unnecessary, to me. I really 
prefer the approach of edit plus (http://www.editplus.com/). The 
software is proprietary, but you can download it and use it with no 
restrictions. It's up to your conscience to pay for the authors work.

Anyway, this is just my opinion...

Tiago


Mark E wrote:
> Solution: Put the instructions on how to use the plugin on your own 
> site with a link in the admin panel back to your help page - e.g. Do 
> not include a "readme" file with the software package. Then on your 
> site ask for donations. With that done you're in line with this page 
> linked below and no complaint can be legitimately put forth:
>
> http://wordpress.org/donate/
>
> Mark
>
>
> Mike Schinkel wrote:
>> Serious Question:
>>
>> If someone devotes their time and energy into creating a plugin
>> and/or theme and offers it up via GPL-licensing to the community, is
>> it really so bad for them to put a link in their admin section asking
>> for donation, even if it does request them to link to the blog or
>> click a button that says "I already donated?"  It's GPL so anyone who
>> wants can fork it and get rid of it if they like.  Some developers
>> may not want their clients to see a donation button, but shouldn't
>> that developer who is getting paid give a little back to the
>> plugin/theme developer who helped them get paid?  It seems like being
>> against this is like "biting the hand that feeds..." (with some
>> thumping NiN cords in the background... :)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-- 
TI Workmedia (webdevelopment)
e-mail: ti at workmedia.pt
Tel. +351 210 410 394


From dougal at gunters.org  Fri Jan 15 18:26:02 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Fri, 15 Jan 2010 13:26:02 -0500
Subject: [wp-hackers] Plugin meta suggestion: demo page URL
Message-ID: <4B50B33A.7020504@gunters.org>

I've got a suggestion for an addition to the plugin metadata used in the 
Extend repository: a URL for a plugin demo page. There are use-cases 
where it makes sense to have a separate page for a demo from the main 
plugin homepage. It would obviously be optional.

Thoughts?

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/


From office at wpseek.com  Fri Jan 15 18:39:04 2010
From: office at wpseek.com (=?ISO-8859-1?Q?Oliver_Schl=F6be?=)
Date: Fri, 15 Jan 2010 19:39:04 +0100
Subject: [wp-hackers] Plugin meta suggestion: demo page URL
In-Reply-To: <4B50B33A.7020504@gunters.org>
References: <4B50B33A.7020504@gunters.org>
Message-ID: <4B50B648.8060404@wpseek.com>

Personally I think that less than 30% of the repository's plugins 
have/need a link to a demo.

Plus, there are numerous options to place such a link:
- Inside the plugin description
- A dedicated section containing a link to a demo
...

IMO there's no need for additional plugin metadata...

--
Regards,
Oliver Schl?be

http://wpseek.com/
http://wpworldmap.net/

-- Code so clean you could eat off it.


On 15.01.2010 19:26, Dougal Campbell wrote:
> I've got a suggestion for an addition to the plugin metadata used in 
> the Extend repository: a URL for a plugin demo page. There are 
> use-cases where it makes sense to have a separate page for a demo from 
> the main plugin homepage. It would obviously be optional.
>
> Thoughts?

From jcanals at alkivia.net  Fri Jan 15 19:03:00 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Fri, 15 Jan 2010 20:03:00 +0100
Subject: [wp-hackers] A question about donation link
In-Reply-To: <4B50ADAC.1080108@workmedia.pt>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>
	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>
	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>
	<4B5043D2.8000900@linux.ie>
	<283C0A4B-E957-4F33-870C-FCDE84B206C7@newclarity.net>
	<4B50804E.7070807@simplercomputing.net>
	<4B50ADAC.1080108@workmedia.pt>
Message-ID: <394dda561001151103h39c788abmdd57c45f0762f701@mail.gmail.com>

2010/1/15 Tiago Relvao <trelvao at workmedia.pt>

> It seems to me that there should be no shame in assuming you want to be
> paid for your work. After all, it's work!
>
> Maybe there should be room in the plug-in directory for proprietary
> wordpress plug-ins with source code included (I believe there's no point in
> obfuscating or encrypting). An official app store with free, free for
> personal use, commercial and open source plug-ins should suffice.
>
> There are already some efforts in restricting the use of plug-ins. Either
> by requiring an api key, a site registration or even by implying you should
> make a donation. This seems unnecessary, to me. I really prefer the approach
> of edit plus (http://www.editplus.com/). The software is proprietary, but
> you can download it and use it with no restrictions. It's up to your
> conscience to pay for the authors work.
>
> Anyway, this is just my opinion...
>
> Tiago
>
>
Tiago,

There is no room for propietary plugins or themes. As plugins or themes
depend on WordPress and Wordpress is released under the terms of GPL, any
plugin or theme you develop have to be released under the terms of GPL
license. Any plugin or theme uses WordPress functions and links to
Wordpress, as no plugin or theme cannot work outside WordPress have to be
considered a WordPress extension in this case you have to license any plugin
or theme under the terms of the GPL license.

This was asked to the Free Software Foundation lawyers and said that
developing a plugin or theme whit any other license clearly violates the
WordPress GPL license.

Jordi Canals.

From mgerring at emrl.com  Fri Jan 15 19:24:53 2010
From: mgerring at emrl.com (Matthew Gerring)
Date: Fri, 15 Jan 2010 11:24:53 -0800
Subject: [wp-hackers] meta_key and meta_value query variables don't work
	in the backend?
In-Reply-To: <161617691001150823v4f7b786ci74af53ddb835a1a2@mail.gmail.com>
References: <63DA2C5C-04A9-4B4A-B390-6BBE473077C9@emrl.com>
	<161617691001150823v4f7b786ci74af53ddb835a1a2@mail.gmail.com>
Message-ID: <DA87C605-FCA0-4AE7-B410-9B7936D72BED@emrl.com>

What I mean is, I'm writing a plugin to allow a client to sort pages on the edit pages screen. I have it set up to sort by author, title, and date, and filter by a custom taxonomy. I want to be able to sort by custom field as well- all of the pages in this site have a custom field called "Country" with a set drop-down list of countries.

To do all the sorting and filtering so far, I used the manage_pages_query hook to add query variables to the request, and it has worked perfectly. All it does is put all the query variables in an array and pass it to the wp() function. But if I try to use the meta_key and meta_value variables, which are available if I use them in a theme (i.e. in the front end), nothing happens. So it appears that while you can pull out posts according to custom fields in a theme, you can't do the same thing on the manage pages/posts screens in the back end, and I'm wondering why.

I hope that clears it up.

-Matthew


On Jan 15, 2010, at 8:23 AM, Otto wrote:

> What do you mean by "front end" and "back end"? Your post isn't very clear.
> 
> What code are you trying that doesn't work in the way you expect it to work?
> 
> -Otto
> 
> 
> 
> On Thu, Jan 14, 2010 at 6:59 PM, Matthew Gerring <mgerring at emrl.com> wrote:
>> Hello all. I'm using the manage_pages_query filter to sort posts in the backend. I seem to be able to use all the normal variables, except for meta_key and meta_value. They do absolutely nothing, together or separately. I dug through the source to see what was going on, but I didn't see any giveaways as to why the front end would accept that as a query variable and not the back end. Can anyone shed some light on this?
>> 
>> -Matthew
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jcanals at alkivia.net  Fri Jan 15 19:32:06 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Fri, 15 Jan 2010 20:32:06 +0100
Subject: [wp-hackers] A question about donation link
In-Reply-To: <394dda561001151103h39c788abmdd57c45f0762f701@mail.gmail.com>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>
	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>
	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>
	<4B5043D2.8000900@linux.ie>
	<283C0A4B-E957-4F33-870C-FCDE84B206C7@newclarity.net>
	<4B50804E.7070807@simplercomputing.net>
	<4B50ADAC.1080108@workmedia.pt>
	<394dda561001151103h39c788abmdd57c45f0762f701@mail.gmail.com>
Message-ID: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>

One of the questions asked here is about removing the authoring attribution
on a theme page footer. Asked that to the Free Software Foundation and the
answer is that deleting the theme author attribution from the theme page
footer violates the GPL license. Exactly, violates the section 2c of GPLv2
and sections 5d and 7 for GPLv3.

So, the author attribution from theme's page footer cannot be removed as it
violates the GPL terms.

I asked this recently, but from long time ago, I have a copy of the same
question answered to Francisco Burzi (Author of PHP-Nuke) and I paste it
here:

<--- QUOTING ORIGINAL EMAIL dated 9/19/2002 reference [gnu.org #213080] --->

*I have a question about the GNU/GPL license. There is a program called
PHP-Nuke that has been released under this license. (This program can be
found at www.phpnuke.org) This program is a content management system that
provides the structure for a website along with the means to administer that
site.
What I would like to know is this: if I use this PHPNuke program to create
my website, must the copyright notice (that is included at the bottom of
each page that is created with PHPNuke) remain there in order to remain in
compliance with this license? There is also a copyright notice within the
source code files themselves.

---------->" Yes. See section 2c of the GPL for details."

This subject came up a while back at PHPNuke.org and no-one seemed to know
the real answer. I have spent quite sometime reading over your license and
can't definitively figure out this answer for myself. (I had questions such
as: is the output from a program like this truly considered interactive or
not?)
Please let me know. I don't want to remove the copyright footers on the
output pages if I am not legally allowed to do so.
Thanks in advance for your clarification on this matter.

--------> "I think a web-based message board clearly reads commands
interactively.
So, if there is such a notice, you can't remove it. But you could alter its
form, so long as it is still appropriate.
*
<--- END QUOTING --->

Jordi Canals

From mail at waclawjacek.com  Fri Jan 15 19:39:32 2010
From: mail at waclawjacek.com (=?UTF-8?B?V2FjxYJhdyBKYWNlaw==?=)
Date: Fri, 15 Jan 2010 20:39:32 +0100
Subject: [wp-hackers] Plugin meta suggestion: demo page URL
In-Reply-To: <4B50B33A.7020504@gunters.org>
References: <4B50B33A.7020504@gunters.org>
Message-ID: <4B50C474.9070604@waclawjacek.com>

On 2010-01-15 19:26, Dougal Campbell wrote:
> I've got a suggestion for an addition to the plugin metadata used in the
> Extend repository: a URL for a plugin demo page. There are use-cases
> where it makes sense to have a separate page for a demo from the main
> plugin homepage. It would obviously be optional.
>
> Thoughts?
>
Honestly, I think it's a bit of an overkill. As you've mentioned, there are indeed use-cases, and some plugins *could* benefit from that, but most plugins, at least the ones I used, affect the behaviour of WordPress, not directly the content presented to a visitor (eg. adding a *possibility* to put a widget in the sidebar, not adding a widget right away), so such a demo would require a sneak-peek into the admin panel, and that would be pretty nasty to manage if you're thinking of a centralized system at wordpress.org, not remote demo sites.

Remote demos have a drawback too -- many would probably die after some time, and the links would still be in the headers.

Hope everything's well! :)
~ W. to the J.

From scribu at gmail.com  Fri Jan 15 20:01:08 2010
From: scribu at gmail.com (scribu)
Date: Fri, 15 Jan 2010 22:01:08 +0200
Subject: [wp-hackers] Plugin meta suggestion: demo page URL
In-Reply-To: <4B50C474.9070604@waclawjacek.com>
References: <4B50B33A.7020504@gunters.org> <4B50C474.9070604@waclawjacek.com>
Message-ID: <349fe48b1001151201v51c5e7a3te5c591da99ec1369@mail.gmail.com>

-1 from me, for the reasons already stated.

I have a plugin that has a demo page, but I'm fine with having a link in the
description.

____
http://scribu.net

From mailapera at gmail.com  Fri Jan 15 20:06:26 2010
From: mailapera at gmail.com (mailapera)
Date: Fri, 15 Jan 2010 21:06:26 +0100
Subject: [wp-hackers] [wp-pro] Help with my blog...are people taking the
	piss here.....
In-Reply-To: <4B50C7BD.7040605@sky.com>
References: <4B50C7BD.7040605@sky.com>
Message-ID: <e98dfae81001151206j307a54b0j4184fb4a801cda6b@mail.gmail.com>

Good luck with that bro! I have been there so many times! This list is
full of people (not all of them) that think since they are busy they
can be rude to you. And that happens even if you have already paid
them a significant amount. It works like this: if you get the job
done, be content enough and swallow the crap they give you. A
heartfelt advice from me: LOOK FURTHER, and away from here. It's full
of decent developers out there.

Hope this compels the few good ones to stand out and get to you.


On Fri, Jan 15, 2010 at 8:53 PM, John Matthews <jakewc2 at sky.com> wrote:
> I asked for some paid help I had answers, I have replied to 4 people, and
> every single one of them, have not answered my message. I am willing to pay,
> its not much work, its a little bit of tweaking and help with a few other
> things, but if people are not willing to do the work, why answer the e-mail
> offer the work.
>
> Now I still need work done. So if somebody is willing to do the work, can
> you let me know please? if I reply to you, at least afford me the decency of
> a reply back.
>
> Thank you.
>
> John.
> _______________________________________________
> wp-pro mailing list
> wp-pro at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-pro
>

From mikeschinkel at newclarity.net  Fri Jan 15 20:10:17 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 15 Jan 2010 15:10:17 -0500
Subject: [wp-hackers] Plugin meta suggestion: demo page URL
In-Reply-To: <4B50B33A.7020504@gunters.org>
References: <4B50B33A.7020504@gunters.org>
Message-ID: <DBB05ECE-E15E-471F-9BD7-70DF405CE84E@newclarity.net>

On Jan 15, 2010, at 1:26 PM, Dougal Campbell wrote:
> 
> I've got a suggestion for an addition to the plugin metadata used in the Extend repository: a URL for a plugin demo page. There are use-cases where it makes sense to have a separate page for a demo from the main plugin homepage. It would obviously be optional.

Personally, I think it's a *great* idea.  I often struggle to find demos for plugins; having it formalized would encourage a lot more people to do it and it would be much easier to find if so.

-Mike


From otto at ottodestruct.com  Fri Jan 15 20:42:44 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 15 Jan 2010 14:42:44 -0600
Subject: [wp-hackers] meta_key and meta_value query variables don't work
	in the backend?
In-Reply-To: <DA87C605-FCA0-4AE7-B410-9B7936D72BED@emrl.com>
References: <63DA2C5C-04A9-4B4A-B390-6BBE473077C9@emrl.com> 
	<161617691001150823v4f7b786ci74af53ddb835a1a2@mail.gmail.com> 
	<DA87C605-FCA0-4AE7-B410-9B7936D72BED@emrl.com>
Message-ID: <161617691001151242q6b591098ha2c6b46301c35773@mail.gmail.com>

On Fri, Jan 15, 2010 at 1:24 PM, Matthew Gerring <mgerring at emrl.com> wrote:
> What I mean is, I'm writing a plugin to allow a client to sort pages on the edit pages screen. I have it set up to sort by author, title, and date, and filter by a custom taxonomy. I want to be able to sort by custom field as well- all of the pages in this site have a custom field called "Country" with a set drop-down list of countries.
>
> To do all the sorting and filtering so far, I used the manage_pages_query hook to add query variables to the request, and it has worked perfectly. All it does is put all the query variables in an array and pass it to the wp() function. But if I try to use the meta_key and meta_value variables, which are available if I use them in a theme (i.e. in the front end), nothing happens. So it appears that while you can pull out posts according to custom fields in a theme, you can't do the same thing on the manage pages/posts screens in the back end, and I'm wondering why.
>
> I hope that clears it up.
>
> -Matthew


Ahh. Okay, your use of front/back confused me, as that's backwards
from the way I'd normally think of them.

I'm still not entirely clear on how you're passing this data into the
system, but if it's through the front door (the wp() function), then
that's different than passing it directly to a wp_query.

Passing something into wp() means that it gets parsed as if it came
directly from the untrusted browser, like a URL would. This goes
through all the rewrite rules and that sort of jibber jabber. This
also means that in order for something to make it from the query_vars
there into the wp_query object, then it has to exist in the
public_query_vars.

This is a bit complicated, but basically for some query variables, you
can pass them in on the URL line. Like http://example.com/?p=123 or
http://example.com/?cat=456. That p and cat get converted into
variables inside the wp_query object. Like $wp_query->query_vars['p']
or $wp_query->query_vars['cat']. The wp_query then examines what it
gets and builds the query accordingly.

The meta_key and meta_value are values that the wp_query is capable of
using. But they're not values that the parser is capable of parsing,
by default. So passing them into wp() makes them get filtered out, as
any other unknown values would be. If they weren't then anybody could
look through your posts via meta with a simple
http://example.com/?meta_key=aaa&meta_value=bbb.

If you actually want that for some reason, then you'd use the
add_query_var() function to add those two names to the
public_query_vars, allowing both that and a call to wp() to use those
variables.

You probably don't want that, in which case you should be creating a
new WP_Query, or calling wp_query() to change the query.

-Otto

From cjscott69 at gmail.com  Fri Jan 15 20:59:03 2010
From: cjscott69 at gmail.com (Chris Scott)
Date: Fri, 15 Jan 2010 15:59:03 -0500
Subject: [wp-hackers] Plugin meta suggestion: demo page URL
In-Reply-To: <DBB05ECE-E15E-471F-9BD7-70DF405CE84E@newclarity.net>
References: <4B50B33A.7020504@gunters.org>
	<DBB05ECE-E15E-471F-9BD7-70DF405CE84E@newclarity.net>
Message-ID: <469fb3cc1001151259s7df2b0f4ke4c038ab8a4863de@mail.gmail.com>

On Fri, Jan 15, 2010 at 3:10 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> On Jan 15, 2010, at 1:26 PM, Dougal Campbell wrote:
>>
>> I've got a suggestion for an addition to the plugin metadata used in the Extend repository: a URL for a plugin demo page. There are use-cases where it makes sense to have a separate page for a demo from the main plugin homepage. It would obviously be optional.
>
> Personally, I think it's a *great* idea. ?I often struggle to find demos for plugins; having it formalized would encourage a lot more people to do it and it would be much easier to find if so.

Agreed. Since some plugins are hard to give a demo for, screencasts
could be used on a demo page. I know with jQuery plugins, I'm much
more likely to look at one when they have a demo page.

--
Chris Scott
http://iamzed.com/
http://hailtheale.com/

>
> -Mike
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mgerring at emrl.com  Fri Jan 15 21:06:28 2010
From: mgerring at emrl.com (Matthew Gerring)
Date: Fri, 15 Jan 2010 13:06:28 -0800
Subject: [wp-hackers] meta_key and meta_value query variables don't work
	in the backend?
In-Reply-To: <161617691001151242q6b591098ha2c6b46301c35773@mail.gmail.com>
References: <63DA2C5C-04A9-4B4A-B390-6BBE473077C9@emrl.com>
	<161617691001150823v4f7b786ci74af53ddb835a1a2@mail.gmail.com>
	<DA87C605-FCA0-4AE7-B410-9B7936D72BED@emrl.com>
	<161617691001151242q6b591098ha2c6b46301c35773@mail.gmail.com>
Message-ID: <3EC902E7-1DEE-426B-8A3D-8A75570191D4@emrl.com>

OK, that makes sense.

This is the code I'm using: http://wordpress.pastebin.com/m3ebb37f9. From the source, it looks like I only have one filter available in edit-pages.php. I'm not sure how I would go about using WP_Query in that context. What would be the right filter/action to use?

Also, in this case allowing people to browse by post meta wouldn't be the worst thing, since this site makes heavy use of post meta to organize pages. But the other way would be preferable.

-Matthew

On Jan 15, 2010, at 12:42 PM, Otto wrote:

> On Fri, Jan 15, 2010 at 1:24 PM, Matthew Gerring <mgerring at emrl.com> wrote:
>> What I mean is, I'm writing a plugin to allow a client to sort pages on the edit pages screen. I have it set up to sort by author, title, and date, and filter by a custom taxonomy. I want to be able to sort by custom field as well- all of the pages in this site have a custom field called "Country" with a set drop-down list of countries.
>> 
>> To do all the sorting and filtering so far, I used the manage_pages_query hook to add query variables to the request, and it has worked perfectly. All it does is put all the query variables in an array and pass it to the wp() function. But if I try to use the meta_key and meta_value variables, which are available if I use them in a theme (i.e. in the front end), nothing happens. So it appears that while you can pull out posts according to custom fields in a theme, you can't do the same thing on the manage pages/posts screens in the back end, and I'm wondering why.
>> 
>> I hope that clears it up.
>> 
>> -Matthew
> 
> 
> Ahh. Okay, your use of front/back confused me, as that's backwards
> from the way I'd normally think of them.
> 
> I'm still not entirely clear on how you're passing this data into the
> system, but if it's through the front door (the wp() function), then
> that's different than passing it directly to a wp_query.
> 
> Passing something into wp() means that it gets parsed as if it came
> directly from the untrusted browser, like a URL would. This goes
> through all the rewrite rules and that sort of jibber jabber. This
> also means that in order for something to make it from the query_vars
> there into the wp_query object, then it has to exist in the
> public_query_vars.
> 
> This is a bit complicated, but basically for some query variables, you
> can pass them in on the URL line. Like http://example.com/?p=123 or
> http://example.com/?cat=456. That p and cat get converted into
> variables inside the wp_query object. Like $wp_query->query_vars['p']
> or $wp_query->query_vars['cat']. The wp_query then examines what it
> gets and builds the query accordingly.
> 
> The meta_key and meta_value are values that the wp_query is capable of
> using. But they're not values that the parser is capable of parsing,
> by default. So passing them into wp() makes them get filtered out, as
> any other unknown values would be. If they weren't then anybody could
> look through your posts via meta with a simple
> http://example.com/?meta_key=aaa&meta_value=bbb.
> 
> If you actually want that for some reason, then you'd use the
> add_query_var() function to add those two names to the
> public_query_vars, allowing both that and a call to wp() to use those
> variables.
> 
> You probably don't want that, in which case you should be creating a
> new WP_Query, or calling wp_query() to change the query.
> 
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Fri Jan 15 21:08:24 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 15 Jan 2010 16:08:24 -0500
Subject: [wp-hackers] Plugin meta suggestion: demo page URL
In-Reply-To: <469fb3cc1001151259s7df2b0f4ke4c038ab8a4863de@mail.gmail.com>
References: <4B50B33A.7020504@gunters.org>
	<DBB05ECE-E15E-471F-9BD7-70DF405CE84E@newclarity.net>
	<469fb3cc1001151259s7df2b0f4ke4c038ab8a4863de@mail.gmail.com>
Message-ID: <19581AE1-AFF4-483F-9D87-AED9D5D47480@newclarity.net>

Hey, off topic I know, but just wanted to say that Chris gave a really excellent presentation at WordCamp Atlanta.  Kudos Chris!

Slides here: 

	http://www.slideshare.net/iamzed/youre-doing-it-wrong-wordcamp-atlanta

-Mike

On Jan 15, 2010, at 3:59 PM, Chris Scott wrote:

> On Fri, Jan 15, 2010 at 3:10 PM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
>> On Jan 15, 2010, at 1:26 PM, Dougal Campbell wrote:
>>> 
>>> I've got a suggestion for an addition to the plugin metadata used in the Extend repository: a URL for a plugin demo page. There are use-cases where it makes sense to have a separate page for a demo from the main plugin homepage. It would obviously be optional.
>> 
>> Personally, I think it's a *great* idea.  I often struggle to find demos for plugins; having it formalized would encourage a lot more people to do it and it would be much easier to find if so.
> 
> Agreed. Since some plugins are hard to give a demo for, screencasts
> could be used on a demo page. I know with jQuery plugins, I'm much
> more likely to look at one when they have a demo page.
> 
> --
> Chris Scott
> http://iamzed.com/
> http://hailtheale.com/
> 
>> 
>> -Mike
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Fri Jan 15 21:22:19 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 15 Jan 2010 16:22:19 -0500
Subject: [wp-hackers] A question about donation link
In-Reply-To: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>
	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>
	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>
	<4B5043D2.8000900@linux.ie>
	<283C0A4B-E957-4F33-870C-FCDE84B206C7@newclarity.net>
	<4B50804E.7070807@simplercomputing.net>
	<4B50ADAC.1080108@workmedia.pt>
	<394dda561001151103h39c788abmdd57c45f0762f701@mail.gmail.com>
	<394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
Message-ID: <2614CA54-459F-44DA-8B6A-4528659AFE3E@newclarity.net>

On Jan 15, 2010, at 2:32 PM, Jordi Canals wrote:
> One of the questions asked here is about removing the authoring attribution
> on a theme page footer. Asked that to the Free Software Foundation and the
> answer is that deleting the theme author attribution from the theme page
> footer violates the GPL license. Exactly, violates the section 2c of GPLv2
> and sections 5d and 7 for GPLv3.

Although IANAL I think you are incorrectly interpreting the license.   

I believe that you *can* remove the copyright notices from any part of the output that the theme or plugin generates. What you cannot do is remove the copyright notice from the *source code* itself.

Here is that interpretation related to GPL-licensed Joomla:

http://opensourcematters.org/index.php?option=com_content&view=article&id=55

Of course if there is an IP lawyer on the list maybe he or she could clarify?

-Mike

From wp-hackers at tobias.baethge.com  Fri Jan 15 21:36:04 2010
From: wp-hackers at tobias.baethge.com (TobiasBg)
Date: Fri, 15 Jan 2010 22:36:04 +0100 (CET)
Subject: [wp-hackers] =?utf-8?q?=5B_wp-hackers_=5D_A_question_about_donati?=
	=?utf-8?q?on_link?=
In-Reply-To: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
Message-ID: <20100115213604.9D65D180239E0@dd19416.kasserver.com>

Hi,

> One of the questions asked here is about removing the authoring attribution
> on a theme page footer. Asked that to the Free Software Foundation and the
> answer is that deleting the theme author attribution from the theme page
> footer violates the GPL license. Exactly, violates the section 2c of GPLv2
> and sections 5d and 7 for GPLv3.
> 
> So, the author attribution from theme's page footer cannot be removed as it
> violates the GPL terms.

I'm not a lawyer, but from my understanding of GPL2,section 2c, this only applies if one redistributes the theme, i.e. creates a new theme from it and (e.g.) offers it for download.

If you only change/modify your copy that is only running for you, and you are not re-distributing the code, then you can also modify the footer in question, and can also remove any code/text/notices/links from it.
For me, that sounds like the "The freedom to study how the program works, and change it to make it do what you wish." from the definition of Free Software.

Best wishes,
Tobias




From jcanals at alkivia.net  Fri Jan 15 21:44:27 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Fri, 15 Jan 2010 22:44:27 +0100
Subject: [wp-hackers] A question about donation link
In-Reply-To: <2614CA54-459F-44DA-8B6A-4528659AFE3E@newclarity.net>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>
	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>
	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>
	<4B5043D2.8000900@linux.ie>
	<283C0A4B-E957-4F33-870C-FCDE84B206C7@newclarity.net>
	<4B50804E.7070807@simplercomputing.net>
	<4B50ADAC.1080108@workmedia.pt>
	<394dda561001151103h39c788abmdd57c45f0762f701@mail.gmail.com>
	<394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<2614CA54-459F-44DA-8B6A-4528659AFE3E@newclarity.net>
Message-ID: <394dda561001151344v4e20f5e1n7b7de46503e7dc14@mail.gmail.com>

2010/1/15 Mike Schinkel <mikeschinkel at newclarity.net>

> On Jan 15, 2010, at 2:32 PM, Jordi Canals wrote:
> > One of the questions asked here is about removing the authoring
> attribution
> > on a theme page footer. Asked that to the Free Software Foundation and
> the
> > answer is that deleting the theme author attribution from the theme page
> > footer violates the GPL license. Exactly, violates the section 2c of
> GPLv2
> > and sections 5d and 7 for GPLv3.
>
> Although IANAL I think you are incorrectly interpreting the license.
>
> I believe that you *can* remove the copyright notices from any part of the
> output that the theme or plugin generates. What you cannot do is remove the
> copyright notice from the *source code* itself.
>
> Here is that interpretation related to GPL-licensed Joomla:
>
>
> http://opensourcematters.org/index.php?option=com_content&view=article&id=55
>
> Of course if there is an IP lawyer on the list maybe he or she could
> clarify?
>
-Mike
>

I just asked this to the Free Source Foundation recently. You know them
create and maintain the licenses and clarify any doubt about the licenses.
For GPLv3, you can read :

You may supplement the terms of this License with terms: [...]
Requiring preservation of specified reasonable legal notices or author
attributions in that material or in the Appropriate Legal Notices displayed
by works containing it;

Them said that a small public credit on theme page footer is really a
"reasonable author attribution".
Also section 2c for GPLv2 states something similar.

The license recommends to output a copyright notice to the normal program
output, and this credits cannot be removed. For a desktop program, the
normal output is the user screen, the same for a web program (in this case
this goes to the user screen in form of a web page).

In my case (for my themes) I don't mind as I explicitly allow to remove
public theme credits and I allow to remove the author attribution from the
page footer.

Any way if GPL allows it or not, I think it's a nice practice to give credit
to authors that work hard to give us a lot of free software. As most of
those authors don't ask us to pay a cent for great software, the minimum we
can do, is to credit them for their hard work.

Jordi Canals

From jcanals at alkivia.net  Fri Jan 15 21:47:13 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Fri, 15 Jan 2010 22:47:13 +0100
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <20100115213604.9D65D180239E0@dd19416.kasserver.com>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
Message-ID: <394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com>

2010/1/15 TobiasBg <wp-hackers at tobias.baethge.com>

> Hi,
>
> > One of the questions asked here is about removing the authoring
> attribution
> > on a theme page footer. Asked that to the Free Software Foundation and
> the
> > answer is that deleting the theme author attribution from the theme page
> > footer violates the GPL license. Exactly, violates the section 2c of
> GPLv2
> > and sections 5d and 7 for GPLv3.
> >
> > So, the author attribution from theme's page footer cannot be removed as
> it
> > violates the GPL terms.
>
> I'm not a lawyer, but from my understanding of GPL2,section 2c, this only
> applies if one redistributes the theme, i.e. creates a new theme from it and
> (e.g.) offers it for download.
>
> If you only change/modify your copy that is only running for you, and you
> are not re-distributing the code, then you can also modify the footer in
> question, and can also remove any code/text/notices/links from it.
> For me, that sounds like the "The freedom to study how the program works,
> and change it to make it do what you wish." from the definition of Free
> Software.
>
> Best wishes,
> Tobias
>
>
I refer you to the message I sent about a question asked about this. FSF
understands that the link conforms the section 2c for GPLv2 and cannot be
removed.

Jordi Canals

From peter.westwood at ftwr.co.uk  Fri Jan 15 21:49:28 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 15 Jan 2010 21:49:28 +0000
Subject: [wp-hackers] meta_key and meta_value query variables don't work
	in the backend?
In-Reply-To: <DA87C605-FCA0-4AE7-B410-9B7936D72BED@emrl.com>
References: <63DA2C5C-04A9-4B4A-B390-6BBE473077C9@emrl.com>
	<161617691001150823v4f7b786ci74af53ddb835a1a2@mail.gmail.com>
	<DA87C605-FCA0-4AE7-B410-9B7936D72BED@emrl.com>
Message-ID: <9A18CD0D-6A29-43D9-9320-0ADD78029EFB@ftwr.co.uk>


On 15 Jan 2010, at 19:24, Matthew Gerring wrote:

> What I mean is, I'm writing a plugin to allow a client to sort pages  
> on the edit pages screen. I have it set up to sort by author, title,  
> and date, and filter by a custom taxonomy. I want to be able to sort  
> by custom field as well- all of the pages in this site have a custom  
> field called "Country" with a set drop-down list of countries.
>
> To do all the sorting and filtering so far, I used the  
> manage_pages_query hook to add query variables to the request, and  
> it has worked perfectly. All it does is put all the query variables  
> in an array and pass it to the wp() function. But if I try to use  
> the meta_key and meta_value variables, which are available if I use  
> them in a theme (i.e. in the front end), nothing happens. So it  
> appears that while you can pull out posts according to custom fields  
> in a theme, you can't do the same thing on the manage pages/posts  
> screens in the back end, and I'm wondering why.
>


Bear in mind that the wp() call only accept query vars which are  
specified in the $public_query_vars and $private_query_vars arrays  
which are part of the WP class and these don't include anything to do  
with post_meta.

The public_query_vars are those which can be specified in a url and  
the private_query_vars are the extra ones which can be specified only  
by code

You will need to extend the list of private_query_vars which it  
supports to get the post_meta ones passed thorugh.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From mikeschinkel at newclarity.net  Fri Jan 15 22:01:30 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 15 Jan 2010 17:01:30 -0500
Subject: [wp-hackers] A question about donation link
In-Reply-To: <394dda561001151344v4e20f5e1n7b7de46503e7dc14@mail.gmail.com>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>
	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>
	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>
	<4B5043D2.8000900@linux.ie>
	<283C0A4B-E957-4F33-870C-FCDE84B206C7@newclarity.net>
	<4B50804E.7070807@simplercomputing.net>
	<4B50ADAC.1080108@workmedia.pt>
	<394dda561001151103h39c788abmdd57c45f0762f701@mail.gmail.com>
	<394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<2614CA54-459F-44DA-8B6A-4528659AFE3E@newclarity.net>
	<394dda561001151344v4e20f5e1n7b7de46503e7dc14@mail.gmail.com>
Message-ID: <829DDC84-4E32-46F9-ABFE-0DF680739486@newclarity.net>

On Jan 15, 2010, at 4:44 PM, Jordi Canals wrote:
> I just asked this to the Free Source Foundation recently. You know them
> create and maintain the licenses and clarify any doubt about the licenses.
> For GPLv3, you can read :
> 
> You may supplement the terms of this License with terms: [...]
> Requiring preservation of specified reasonable legal notices or author
> attributions in that material or in the Appropriate Legal Notices displayed
> by works containing it;
> 
> Them said that a small public credit on theme page footer is really a
> "reasonable author attribution".
> Also section 2c for GPLv2 states something similar.
> 
> The license recommends to output a copyright notice to the normal program
> output, and this credits cannot be removed. For a desktop program, the
> normal output is the user screen, the same for a web program (in this case
> this goes to the user screen in form of a web page).

If that is truly the case (which we can't know for sure unless and until it is litigated) then it's author's choice, not an absolute "can't."

> In my case (for my themes) I don't mind as I explicitly allow to remove
> public theme credits and I allow to remove the author attribution from the
> page footer.
> 
> Any way if GPL allows it or not, I think it's a nice practice to give credit
> to authors that work hard to give us a lot of free software. As most of
> those authors don't ask us to pay a cent for great software, the minimum we
> can do, is to credit them for their hard work.

No disagreement there.  All I was discussing was if it was an option or not.

-Mike

From Ken at adcSTUDIO.com  Fri Jan 15 22:06:33 2010
From: Ken at adcSTUDIO.com (Ken Newman)
Date: Fri, 15 Jan 2010 17:06:33 -0500
Subject: [wp-hackers] A question about donation link
In-Reply-To: <394dda561001151344v4e20f5e1n7b7de46503e7dc14@mail.gmail.com>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>	<4B5043D2.8000900@linux.ie>	<283C0A4B-E957-4F33-870C-FCDE84B206C7@newclarity.net>	<4B50804E.7070807@simplercomputing.net>	<4B50ADAC.1080108@workmedia.pt>	<394dda561001151103h39c788abmdd57c45f0762f701@mail.gmail.com>	<394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>	<2614CA54-459F-44DA-8B6A-4528659AFE3E@newclarity.net>
	<394dda561001151344v4e20f5e1n7b7de46503e7dc14@mail.gmail.com>
Message-ID: <4B50E6E9.8050801@adcSTUDIO.com>

This is still an interpretation. Another, and likely popular, 
interpretation is that removal from a footer to a single separate page 
conforms exactly to your quoted argument, in that it is still a very 
"reasonable author attribution" and also "in the form of a web page". 
Also, a link to an external site might be considered a slightly more 
then a simple credit.

A credit on every page seems to be appropriate for a theme credit 
(especially since graphics and css are not necessarily GPL), though I 
*personally prefer* that the author make this to be optional.

Perhaps a Core Plugin with an API for a Colophon Page is in order? This 
way plugin and theme authors could register credits and links and have 
them displayed on a distinct page for that purpose. I would certainly 
use it, and recommend it to clients.

Tangentially related: I did come across a plugin (I believe one that 
integrated bbPress to WordPress) that inserted a credit and a link to 
the footer of every page in the site. I found this to be quite 
distasteful and quickly uninstalled it.

On 1/15/2010 4:44 PM, Jordi Canals wrote:
> I just asked this to the Free Source Foundation recently. You know them
> create and maintain the licenses and clarify any doubt about the licenses.
> For GPLv3, you can read :
>
> You may supplement the terms of this License with terms: [...]
> Requiring preservation of specified reasonable legal notices or author
> attributions in that material or in the Appropriate Legal Notices displayed
> by works containing it;
>
> Them said that a small public credit on theme page footer is really a
> "reasonable author attribution".
> Also section 2c for GPLv2 states something similar.
>
> The license recommends to output a copyright notice to the normal program
> output, and this credits cannot be removed. For a desktop program, the
> normal output is the user screen, the same for a web program (in this case
> this goes to the user screen in form of a web page).
>
> In my case (for my themes) I don't mind as I explicitly allow to remove
> public theme credits and I allow to remove the author attribution from the
> page footer.
>
> Any way if GPL allows it or not, I think it's a nice practice to give credit
> to authors that work hard to give us a lot of free software. As most of
> those authors don't ask us to pay a cent for great software, the minimum we
> can do, is to credit them for their hard work.
>
> Jordi Canals
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    


From wp-hackers at tobias.baethge.com  Fri Jan 15 22:16:10 2010
From: wp-hackers at tobias.baethge.com (TobiasBg)
Date: Fri, 15 Jan 2010 23:16:10 +0100 (CET)
Subject: [wp-hackers] A question about donation link
In-Reply-To: <394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com>
Message-ID: <20100115221610.B3029180239E0@dd19416.kasserver.com>

Hi,

> I refer you to the message I sent about a question asked about this. FSF
> understands that the link conforms the section 2c for GPLv2 and cannot be
> removed.

Yes, I read that. But from my understanding of the response, I get the impression that it's just a "bookmarked" response, i.e. that the FSF answered without reading in detail what you were asking. (This is just my personal impression from the few lines of the conversation, you posted. In no way do I know if this really was the case.)
(What I mean: They could have read "remove copyright notice" and automatically triggered "see section 2c", without noticing that you where not asking about redistributing the code, but about modifying your use copy.)

I really do believe that the additional requirements from section 2 do only apply to redistribution-as mentioned in the second part of the first sentence of that section. The first part of the sentence clearly allows modifying the code.

Regards,
Tobias




From jcanals at alkivia.net  Fri Jan 15 22:18:26 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Fri, 15 Jan 2010 23:18:26 +0100
Subject: [wp-hackers] A question about donation link
In-Reply-To: <4B50E6E9.8050801@adcSTUDIO.com>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>
	<4B5043D2.8000900@linux.ie>
	<283C0A4B-E957-4F33-870C-FCDE84B206C7@newclarity.net>
	<4B50804E.7070807@simplercomputing.net>
	<4B50ADAC.1080108@workmedia.pt>
	<394dda561001151103h39c788abmdd57c45f0762f701@mail.gmail.com>
	<394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<2614CA54-459F-44DA-8B6A-4528659AFE3E@newclarity.net>
	<394dda561001151344v4e20f5e1n7b7de46503e7dc14@mail.gmail.com>
	<4B50E6E9.8050801@adcSTUDIO.com>
Message-ID: <394dda561001151418q10a80cc6n830ea8b53c7ffa0d@mail.gmail.com>

2010/1/15 Ken Newman <Ken at adcstudio.com>

> This is still an interpretation. Another, and likely popular,
> interpretation is that removal from a footer to a single separate page
> conforms exactly to your quoted argument, in that it is still a very
> "reasonable author attribution" and also "in the form of a web page". Also,
> a link to an external site might be considered a slightly more then a simple
> credit.
>
>
I agree with that. Moving the credits to anywhere else or to a separate page
is still a very reasonable author attribution". Also agree that a link back
is more than a simple credit.



> A credit on every page seems to be appropriate for a theme credit
> (especially since graphics and css are not necessarily GPL), though I
> *personally prefer* that the author make this to be optional.
>

Really, but if you distribute the CSS files with all other files, then the
whole thing has to be considered GPL. I understand than just CSS and
graphics only themes can use other licenses. Also I prefer the credits
footer to be optional (I always set on my themes a checkbox on the settings
page to disable them).


>
> Perhaps a Core Plugin with an API for a Colophon Page is in order? This way
> plugin and theme authors could register credits and links and have them
> displayed on a distinct page for that purpose. I would certainly use it, and
> recommend it to clients.
>
> Really like the idea. I would use this and recommend it to everyone.


> Tangentially related: I did come across a plugin (I believe one that
> integrated bbPress to WordPress) that inserted a credit and a link to the
> footer of every page in the site. I found this to be quite distasteful and
> quickly uninstalled it.
>
>
You're right. If every plugin and theme sets a footer page this can make the
page and the site very distasteful. As said, I also suggest to make this
optional.

Jordi Canals.

From Ken at adcSTUDIO.com  Fri Jan 15 22:26:58 2010
From: Ken at adcSTUDIO.com (Ken Newman)
Date: Fri, 15 Jan 2010 17:26:58 -0500
Subject: [wp-hackers] A question about donation link
In-Reply-To: <4B50E6E9.8050801@adcSTUDIO.com>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>	<4B5043D2.8000900@linux.ie>	<283C0A4B-E957-4F33-870C-FCDE84B206C7@newclarity.net>	<4B50804E.7070807@simplercomputing.net>	<4B50ADAC.1080108@workmedia.pt>	<394dda561001151103h39c788abmdd57c45f0762f701@mail.gmail.com>	<394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>	<2614CA54-459F-44DA-8B6A-4528659AFE3E@newclarity.net>	<394dda561001151344v4e20f5e1n7b7de46503e7dc14@mail.gmail.com>
	<4B50E6E9.8050801@adcSTUDIO.com>
Message-ID: <4B50EBB2.8060606@adcSTUDIO.com>

On 1/15/2010 5:06 PM, Ken Newman wrote:
> Perhaps a Core Plugin with an API for a Colophon Page is in order? 
> This way plugin and theme authors could register credits and links and 
> have them displayed on a distinct page for that purpose. I would 
> certainly use it, and recommend it to clients.
Found it:  http://wordpress.org/extend/plugins/wp-pluginsused/

Would something like this satisfy the GPL required attribution?

From jcanals at alkivia.net  Fri Jan 15 22:29:07 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Fri, 15 Jan 2010 23:29:07 +0100
Subject: [wp-hackers] A question about donation link
In-Reply-To: <20100115221610.B3029180239E0@dd19416.kasserver.com>
References: <394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com>
	<20100115221610.B3029180239E0@dd19416.kasserver.com>
Message-ID: <394dda561001151429w6e023778u8327b9fa6108ee66@mail.gmail.com>

2010/1/15 TobiasBg <wp-hackers at tobias.baethge.com>


> Hi,
>
> > I refer you to the message I sent about a question asked about this. FSF
> > understands that the link conforms the section 2c for GPLv2 and cannot be
> > removed.
>
> Yes, I read that. But from my understanding of the response, I get the
> impression that it's just a "bookmarked" response, i.e. that the FSF
> answered without reading in detail what you were asking. (This is just my
> personal impression from the few lines of the conversation, you posted. In
> no way do I know if this really was the case.)
> (What I mean: They could have read "remove copyright notice" and
> automatically triggered "see section 2c", without noticing that you where
> not asking about redistributing the code, but about modifying your use
> copy.)
>
> I really do believe that the additional requirements from section 2 do only
> apply to redistribution-as mentioned in the second part of the first
> sentence of that section. The first part of the sentence clearly allows
> modifying the code.
>
> Regards,
> Tobias
>
>
Well, just to prevent this kind of discussion on my themes, and to solve any
doubt, I explicitly allow the users to remove the theme page footer with the
credits. If you want to leave them no problem, If you want to hide them,
just click on a checkbox and the footer will disappear.

Jordi Canals

From jcanals at alkivia.net  Fri Jan 15 22:34:42 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Fri, 15 Jan 2010 23:34:42 +0100
Subject: [wp-hackers] A question about donation link
In-Reply-To: <4B50EBB2.8060606@adcSTUDIO.com>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>
	<283C0A4B-E957-4F33-870C-FCDE84B206C7@newclarity.net>
	<4B50804E.7070807@simplercomputing.net>
	<4B50ADAC.1080108@workmedia.pt>
	<394dda561001151103h39c788abmdd57c45f0762f701@mail.gmail.com>
	<394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<2614CA54-459F-44DA-8B6A-4528659AFE3E@newclarity.net>
	<394dda561001151344v4e20f5e1n7b7de46503e7dc14@mail.gmail.com>
	<4B50E6E9.8050801@adcSTUDIO.com> <4B50EBB2.8060606@adcSTUDIO.com>
Message-ID: <394dda561001151434u4ebfd576jafde86e62450c367@mail.gmail.com>

2010/1/15 Ken Newman <Ken at adcstudio.com>

> On 1/15/2010 5:06 PM, Ken Newman wrote:
>
>> Perhaps a Core Plugin with an API for a Colophon Page is in order? This
>> way plugin and theme authors could register credits and links and have them
>> displayed on a distinct page for that purpose. I would certainly use it, and
>> recommend it to clients.
>>
> Found it:  http://wordpress.org/extend/plugins/wp-pluginsused/
>
> Would something like this satisfy the GPL required attribution?
>
>
I think yes. But just one point to clarify:

GPLv3 states that author may require preservation of a reasonable author
attribution. I understand that you only have to preserve the author
attribution if author explicitly requires it (as this is an optional
requirement on GPLv3).

Anyway, I would download and use this as I like to credit all this authors
who allowed me to use great themes and plugins.

Jordi Canals

From wollynews at gmail.com  Sat Jan 16 13:34:11 2010
From: wollynews at gmail.com (Paolo Valenti)
Date: Sat, 16 Jan 2010 14:34:11 +0100
Subject: [wp-hackers] Recreate all imagine size in the database
Message-ID: <4B51C053.5050306@gmail.com>

When I've changed server I found this issue:
Images that were uploaded into a gallery on post/page have lost all info
relating to image size.
If I look into the DB I found information about the original size and
all the thumbnails but they have small differences between new gallery
and images that they works.
I made a debug on localhost and I found WP doesn't read the dimension:
Here it works:
|Array ( [0] =>
http://localhost:8888/wp27/wp-content/uploads/acquario_1-150x99.jpg [1]
=> 150 [2] => 99 [3] => 1 )|
Here doesn't work:
|Array ( [0] =>
http://localhost:8888/wp27/wp-content/uploads/img_0263.jpg [1] => 0 [2]
=> 0 [3] => )|

There is a way to let WP regenerate all the information in the database?
The other solution is to re-upload all the images but, I'd like to avoid :)
Thanx in advance
wolly


From glenn at glennansley.com  Sat Jan 16 13:42:49 2010
From: glenn at glennansley.com (Glenn Ansley)
Date: Sat, 16 Jan 2010 08:42:49 -0500
Subject: [wp-hackers] Recreate all imagine size in the database
In-Reply-To: <4B51C053.5050306@gmail.com>
References: <4B51C053.5050306@gmail.com>
Message-ID: <7474be391001160542x3626ac68q195af152691f001d@mail.gmail.com>

http://www.viper007bond.com/wordpress-plugins/regenerate-thumbnails/

Glenn Ansley
http://fullthrottledevelopment.com
http://twitter.com/glennansley

On Sat, Jan 16, 2010 at 8:34 AM, Paolo Valenti <wollynews at gmail.com> wrote:

> When I've changed server I found this issue:
> Images that were uploaded into a gallery on post/page have lost all info
> relating to image size.
> If I look into the DB I found information about the original size and
> all the thumbnails but they have small differences between new gallery
> and images that they works.
> I made a debug on localhost and I found WP doesn't read the dimension:
> Here it works:
> |Array ( [0] =>
> http://localhost:8888/wp27/wp-content/uploads/acquario_1-150x99.jpg [1]
> => 150 [2] => 99 [3] => 1 )|
> Here doesn't work:
> |Array ( [0] =>
> http://localhost:8888/wp27/wp-content/uploads/img_0263.jpg [1] => 0 [2]
> => 0 [3] => )|
>
> There is a way to let WP regenerate all the information in the database?
> The other solution is to re-upload all the images but, I'd like to avoid :)
> Thanx in advance
> wolly
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wollynews at gmail.com  Sat Jan 16 13:49:31 2010
From: wollynews at gmail.com (Paolo Valenti)
Date: Sat, 16 Jan 2010 14:49:31 +0100
Subject: [wp-hackers] Recreate all imagine size in the database
In-Reply-To: <7474be391001160542x3626ac68q195af152691f001d@mail.gmail.com>
References: <4B51C053.5050306@gmail.com>
	<7474be391001160542x3626ac68q195af152691f001d@mail.gmail.com>
Message-ID: <4B51C3EB.5010804@gmail.com>

I 16/01/10 14.42, Glenn Ansley ha scritto:
> http://www.viper007bond.com/wordpress-plugins/regenerate-thumbnails/
>
>   
Sorry, I forgot to say that I have used this plugin but the problem is
not to regenerate the thumbnails, they exist on the server, the problem
is to rewrite all the information in the database, starting from the
original size.
In the DB there are the information but they differ in some code and WP
doesn't see the size.
ciao
w.


From scribu at gmail.com  Sat Jan 16 14:26:48 2010
From: scribu at gmail.com (scribu)
Date: Sat, 16 Jan 2010 16:26:48 +0200
Subject: [wp-hackers] Recreate all imagine size in the database
In-Reply-To: <4B51C3EB.5010804@gmail.com>
References: <4B51C053.5050306@gmail.com>
	<7474be391001160542x3626ac68q195af152691f001d@mail.gmail.com>
	<4B51C3EB.5010804@gmail.com>
Message-ID: <349fe48b1001160626j7277a565l4f6c842cb5e0a2e8@mail.gmail.com>

You might want to look at wp_generate_attachment_metadata().

http://xref.yoast.com/trunk/nav.html?_functions/wp_generate_attachment_metadata.html


____
http://scribu.net

From roman.zenka at gmail.com  Sat Jan 16 15:28:13 2010
From: roman.zenka at gmail.com (=?UTF-8?B?Um9tYW4gxb1lbmth?=)
Date: Sat, 16 Jan 2010 09:28:13 -0600
Subject: [wp-hackers] Media reupload
Message-ID: <fcb57f91001160728k34dccaefxbabd28851787e710@mail.gmail.com>

Dear WP hackers,

I am working on an online art shop that utilizes WP media management. I am
allowing Wordpress to manage all media uploads, thumbnail creation, etc.

I need to be able to reupload an image, replacing it with an updated
version. I wrote a 'attachment_fields_to_edit' filter that hacks an
"Reupload" field into the Edit Media page.

I need to change the media.php to use enctype="multipart/form-data", so the
files get sent reasonably efficiently.

My question is - would it be okay to add this little change to media.php, so
I do not have to hack every WP update by hand?

Before:
<form method="post" action="<?php echo esc_url( remove_query_arg( 'message'
) ); ?>" class="media-upload-form" id="media-single-form">

After:
<form method="post" action="<?php echo esc_url( remove_query_arg( 'message'
) ); ********enctype="multipart/form-data"******* ?>"
class="media-upload-form" id="media-single-form">

It would allow plugins using 'attachment_fields_to_edit' to provide file
upload fields that would work efficiently.

What would you suggest? Ideally I could reuse WP's flash/html uploader, but
I do not think it is written to enable that. Also, I am already within a
form, and nested forms are forbidden in HTML.

Thank you for your advice,

--Roman

From markjaquith at gmail.com  Sat Jan 16 16:46:03 2010
From: markjaquith at gmail.com (Mark Jaquith)
Date: Sat, 16 Jan 2010 11:46:03 -0500
Subject: [wp-hackers] New plugin for plugin authors to showcase their
	plugins on their site
Message-ID: <2979bd661001160846v575343dfnab294ad6718853e0@mail.gmail.com>

Like many plugin authors here, I have many of my plugins in the wp.org
repository, but I also want to showcase them on my own site. Until
now, I've been managing them on my site manually. This has proved to
be a giant pain ? so much so that it makes me dread updating my
plugins, as I know it'll involve a tedious update of their
representative pages on my site.

I wrote a plugin to remedy this.

http://txfx.net/wordpress-plugins/i-make-plugins/

In order to make the page above, I did the following:

1. Pages > Add New
2. Title: I Make Plugins
3. Parent Page: WordPress Plugins
4. Publish

That's it! It's getting all its info from the plugin repository, using
the API calls available within WordPress. The info is cached in
postmeta, with an expiration.

It also auto-populates the listing page:

http://txfx.net/wordpress-plugins/

Both pages have templates (using WP shortcodes, of course) so that you
can customize their layout.

Now you can manage your personal plugins showcase just by updating
their readme.txt file. Hope this is of some use to you!

-- 
Mark Jaquith
? http://markjaquith.com/
? http://coveredwebservices.com/

From dragonfly at dragonflyeye.net  Sat Jan 16 16:48:40 2010
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Sat, 16 Jan 2010 11:48:40 -0500
Subject: [wp-hackers] New plugin for plugin authors to showcase their
	plugins on their site
In-Reply-To: <2979bd661001160846v575343dfnab294ad6718853e0@mail.gmail.com>
References: <2979bd661001160846v575343dfnab294ad6718853e0@mail.gmail.com>
Message-ID: <77b239a01001160848j42609739md626e3ac7a1dc9ea@mail.gmail.com>

Dude.  So sweet. Thanks!

On Jan 16, 2010 11:46 AM, "Mark Jaquith" <markjaquith at gmail.com> wrote:

Like many plugin authors here, I have many of my plugins in the wp.org
repository, but I also want to showcase them on my own site. Until
now, I've been managing them on my site manually. This has proved to
be a giant pain ? so much so that it makes me dread updating my
plugins, as I know it'll involve a tedious update of their
representative pages on my site.

I wrote a plugin to remedy this.

http://txfx.net/wordpress-plugins/i-make-plugins/

In order to make the page above, I did the following:

1. Pages > Add New
2. Title: I Make Plugins
3. Parent Page: WordPress Plugins
4. Publish

That's it! It's getting all its info from the plugin repository, using
the API calls available within WordPress. The info is cached in
postmeta, with an expiration.

It also auto-populates the listing page:

http://txfx.net/wordpress-plugins/

Both pages have templates (using WP shortcodes, of course) so that you
can customize their layout.

Now you can manage your personal plugins showcase just by updating
their readme.txt file. Hope this is of some use to you!

--
Mark Jaquith
? http://markjaquith.com/
? http://coveredwebservices.com/
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From dan at phiffer.org  Sat Jan 16 17:01:39 2010
From: dan at phiffer.org (Dan Phiffer)
Date: Sat, 16 Jan 2010 12:01:39 -0500
Subject: [wp-hackers] New plugin for plugin authors to showcase their
	plugins on their site
In-Reply-To: <77b239a01001160848j42609739md626e3ac7a1dc9ea@mail.gmail.com>
References: <2979bd661001160846v575343dfnab294ad6718853e0@mail.gmail.com>
	<77b239a01001160848j42609739md626e3ac7a1dc9ea@mail.gmail.com>
Message-ID: <B18D9964-B448-4AE2-A96D-94056F101577@phiffer.org>

Yo dog I heard U like ... etc.


On Jan 16, 2010, at 11:48 AM, Thomas Belknap wrote:

> Dude.  So sweet. Thanks!
> 
> On Jan 16, 2010 11:46 AM, "Mark Jaquith" <markjaquith at gmail.com> wrote:
> 
> Like many plugin authors here, I have many of my plugins in the wp.org
> repository, but I also want to showcase them on my own site. Until
> now, I've been managing them on my site manually. This has proved to
> be a giant pain ? so much so that it makes me dread updating my
> plugins, as I know it'll involve a tedious update of their
> representative pages on my site.
> 
> I wrote a plugin to remedy this.
> 
> http://txfx.net/wordpress-plugins/i-make-plugins/
> 
> In order to make the page above, I did the following:
> 
> 1. Pages > Add New
> 2. Title: I Make Plugins
> 3. Parent Page: WordPress Plugins
> 4. Publish
> 
> That's it! It's getting all its info from the plugin repository, using
> the API calls available within WordPress. The info is cached in
> postmeta, with an expiration.
> 
> It also auto-populates the listing page:
> 
> http://txfx.net/wordpress-plugins/
> 
> Both pages have templates (using WP shortcodes, of course) so that you
> can customize their layout.
> 
> Now you can manage your personal plugins showcase just by updating
> their readme.txt file. Hope this is of some use to you!
> 
> --
> Mark Jaquith
> ? http://markjaquith.com/
> ? http://coveredwebservices.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jer at simianuprising.com  Sat Jan 16 18:34:07 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Sat, 16 Jan 2010 13:34:07 -0500
Subject: [wp-hackers] A question about donation link
In-Reply-To: <394dda561001151434u4ebfd576jafde86e62450c367@mail.gmail.com>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>
	<4B50804E.7070807@simplercomputing.net>
	<4B50ADAC.1080108@workmedia.pt>
	<394dda561001151103h39c788abmdd57c45f0762f701@mail.gmail.com>
	<394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<2614CA54-459F-44DA-8B6A-4528659AFE3E@newclarity.net>
	<394dda561001151344v4e20f5e1n7b7de46503e7dc14@mail.gmail.com>
	<4B50E6E9.8050801@adcSTUDIO.com> <4B50EBB2.8060606@adcSTUDIO.com>
	<394dda561001151434u4ebfd576jafde86e62450c367@mail.gmail.com>
Message-ID: <e1202cb11001161034m5907523bg6bf69c4c842fc121@mail.gmail.com>

The resulting discussion of GPL and attribution is fascinating, but to
return to the original question I think it's obvious that regardless
of what actually happened to get his theme denied access to the repo,
the *proposed functionality* of asking for a donation when people
remove the footer link is 100% appropriate and should be allowed in
the theme repo. It is an example of very good usability to only ask
for a donation when people are actively removing other benefits you
derive from their use of your work. I think we can all agree the GPL
has nothing to say about it and that donation asks like the one in
WP-Supercache are far more imposing and annoying to clients than this
one.

Jordi, thanks for your dedication to making the footer credit an
explicit option in the UI. It makes it WAY easier for people to use
theme upgrades since they don't have to effectively fork their copy
just to remove the credit. This should be a common practice, and I
think your system of asking for a donation at that moment is a perfect
way to raise the appeal of such options for theme developers (as well
as encouraging users who don't want to donate to reconsider their
decision to remove the link :)

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From jcanals at alkivia.net  Sat Jan 16 19:29:37 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Sat, 16 Jan 2010 20:29:37 +0100
Subject: [wp-hackers] A question about donation link
In-Reply-To: <e1202cb11001161034m5907523bg6bf69c4c842fc121@mail.gmail.com>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>
	<4B50ADAC.1080108@workmedia.pt>
	<394dda561001151103h39c788abmdd57c45f0762f701@mail.gmail.com>
	<394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<2614CA54-459F-44DA-8B6A-4528659AFE3E@newclarity.net>
	<394dda561001151344v4e20f5e1n7b7de46503e7dc14@mail.gmail.com>
	<4B50E6E9.8050801@adcSTUDIO.com> <4B50EBB2.8060606@adcSTUDIO.com>
	<394dda561001151434u4ebfd576jafde86e62450c367@mail.gmail.com>
	<e1202cb11001161034m5907523bg6bf69c4c842fc121@mail.gmail.com>
Message-ID: <394dda561001161129r2b4b40a9k2623b6300db545f8@mail.gmail.com>

2010/1/16 Jeremy Clarke <jer at simianuprising.com>

> The resulting discussion of GPL and attribution is fascinating, but to
> return to the original question I think it's obvious that regardless
> of what actually happened to get his theme denied access to the repo,
> the *proposed functionality* of asking for a donation when people
> remove the footer link is 100% appropriate and should be allowed in
> the theme repo. It is an example of very good usability to only ask
> for a donation when people are actively removing other benefits you
> derive from their use of your work. I think we can all agree the GPL
> has nothing to say about it and that donation asks like the one in
> WP-Supercache are far more imposing and annoying to clients than this
> one.
>
>
It's a petty that this link to the donations page has blocked all theme
updates on the WP-Themes site from December 18 and they are considering to
completely remove the theme. Just because them considered the text as a
commercial licensing option. The text was: "If you remove public themes,
please consider donating to the project".

Them asked the text to be removed and I did it the day after (Dec, 19). But
because of that the theme updates have been blocked and I had to spend a big
amount of time trying to tell them the link was removed and the theme is
only released under the GPL license.

Jordi, thanks for your dedication to making the footer credit an
> explicit option in the UI. It makes it WAY easier for people to use
> theme upgrades since they don't have to effectively fork their copy
> just to remove the credit. This should be a common practice, and I
> think your system of asking for a donation at that moment is a perfect
> way to raise the appeal of such options for theme developers (as well
> as encouraging users who don't want to donate to reconsider their
> decision to remove the link :)
>
>
It's a petty that because this, the theme was blocked (as said).  I also
thinks the best way is to allow doing it without hacking the theme which
makes updates easier. And now, the theme users are compaining to me because
I announced a lot of new features for the 2.0 release and the theme is not
available at WP-Themes site. I'm really disappointed with the guys who
manage the site and approve the themes publishing.

On the next releases, I just will completely forbid to remove the footer
with a big announcement on the code as the clause 7b og GPLv3 allows me to
require the preservation of author attribution. This is just the worst
solution, and far away of my original wish to allow an easy removal of the
theme author attribution. With this attitude, WordPress guys made me to be a
lot more restrictive about author attribution removal.

This really discourages me to continue developing and maintaining WordPress
plugins as all them are GPL and freely available.


> --
> Jeremy Clarke | http://jeremyclarke.org
> Code and Design | http://globalvoicesonline.org
>
>
Jordi Canals
http://alkivia.org

From chris.hearn01 at ntlworld.com  Sat Jan 16 20:53:34 2010
From: chris.hearn01 at ntlworld.com (Chris)
Date: Sat, 16 Jan 2010 20:53:34 +0000
Subject: [wp-hackers] adding more than 4 widgets to default sidebar
Message-ID: <4B52274E.5030008@ntlworld.com>

Hi there,
Sorry if this is wrong place!
I have just loaded WP 2.9.1, and just testing out the Dashboard features.
Using default theme, initial setup.
I put 4 widgets into sidebar1 and it works ok.
Add another (> 4) does not work unless navigate away from the page and 
back again.
If this is not already a known issue (albeit minor) maybe someone would 
care to confirm and add to bugfix list?

Regards
Chris

From scribu at gmail.com  Sat Jan 16 21:08:18 2010
From: scribu at gmail.com (scribu)
Date: Sat, 16 Jan 2010 23:08:18 +0200
Subject: [wp-hackers] adding more than 4 widgets to default sidebar
In-Reply-To: <4B52274E.5030008@ntlworld.com>
References: <4B52274E.5030008@ntlworld.com>
Message-ID: <349fe48b1001161308w2bb61b04u2a3ce69d3cab4f17@mail.gmail.com>

What exactly happens when you try to add the 4th one?

What browser are you using?


On Sat, Jan 16, 2010 at 10:53 PM, Chris <chris.hearn01 at ntlworld.com> wrote:

> Hi there,
> Sorry if this is wrong place!
> I have just loaded WP 2.9.1, and just testing out the Dashboard features.
> Using default theme, initial setup.
> I put 4 widgets into sidebar1 and it works ok.
> Add another (> 4) does not work unless navigate away from the page and back
> again.
> If this is not already a known issue (albeit minor) maybe someone would
> care to confirm and add to bugfix list?
>
> Regards
> Chris
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From jcanals at alkivia.net  Sat Jan 16 23:43:48 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Sun, 17 Jan 2010 00:43:48 +0100
Subject: [wp-hackers] A question about donation link
In-Reply-To: <5a1dad881001150215t3fa950adx11b32532c3e74905@mail.gmail.com>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>
	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>
	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>
	<5a1dad881001150215t3fa950adx11b32532c3e74905@mail.gmail.com>
Message-ID: <394dda561001161543l1f05f29cracdbecbddaee6ff@mail.gmail.com>

2010/1/15 Alex Hempton-Smith <hempsworth at googlemail.com>

> Jordi, do you have the original plugin zip available for us to take a look
> at (to rule out there not being more than meets the eye)... Remember
> attachments are stripped on this list, perhaps upload it to your site.
>
>
Sorry Alex, It took a bit long to setup a downloads page.
You can download any theme version at
http://alkivia.org/wordpress/chameleon/downloads/
The version that blocked the theme is 2.0, but in 2.1 the link was removed
and still blocked it.

I'm sure that you won't find anything in the theme that does not follow the
GPL license.


> -- Alex  (Hempsworth)
>
>
Jordi Canals
http://alkivia.org

From mpwalsh8 at gmail.com  Sun Jan 17 01:12:12 2010
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Sat, 16 Jan 2010 20:12:12 -0500
Subject: [wp-hackers] New plugin for plugin authors to showcase their
	plugins on their site
In-Reply-To: <B18D9964-B448-4AE2-A96D-94056F101577@phiffer.org>
References: <2979bd661001160846v575343dfnab294ad6718853e0@mail.gmail.com>
	<77b239a01001160848j42609739md626e3ac7a1dc9ea@mail.gmail.com>
	<B18D9964-B448-4AE2-A96D-94056F101577@phiffer.org>
Message-ID: <bd35beb51001161712t5e547b6el13b3cde508a37186@mail.gmail.com>

Any chance it can support themes too?

Mike

On Sat, Jan 16, 2010 at 12:01 PM, Dan Phiffer <dan at phiffer.org> wrote:

> Yo dog I heard U like ... etc.
>
>
> On Jan 16, 2010, at 11:48 AM, Thomas Belknap wrote:
>
> > Dude.  So sweet. Thanks!
> >
> > On Jan 16, 2010 11:46 AM, "Mark Jaquith" <markjaquith at gmail.com> wrote:
> >
> > Like many plugin authors here, I have many of my plugins in the wp.org
> > repository, but I also want to showcase them on my own site. Until
> > now, I've been managing them on my site manually. This has proved to
> > be a giant pain ? so much so that it makes me dread updating my
> > plugins, as I know it'll involve a tedious update of their
> > representative pages on my site.
> >
> > I wrote a plugin to remedy this.
> >
> > http://txfx.net/wordpress-plugins/i-make-plugins/
> >
> > In order to make the page above, I did the following:
> >
> > 1. Pages > Add New
> > 2. Title: I Make Plugins
> > 3. Parent Page: WordPress Plugins
> > 4. Publish
> >
> > That's it! It's getting all its info from the plugin repository, using
> > the API calls available within WordPress. The info is cached in
> > postmeta, with an expiration.
> >
> > It also auto-populates the listing page:
> >
> > http://txfx.net/wordpress-plugins/
> >
> > Both pages have templates (using WP shortcodes, of course) so that you
> > can customize their layout.
> >
> > Now you can manage your personal plugins showcase just by updating
> > their readme.txt file. Hope this is of some use to you!
> >
> > --
> > Mark Jaquith
> > ? http://markjaquith.com/
> > ? http://coveredwebservices.com/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
--
Mike Walsh - mpwalsh at gmail.com

From chris.hearn01 at ntlworld.com  Sun Jan 17 12:22:41 2010
From: chris.hearn01 at ntlworld.com (Chris)
Date: Sun, 17 Jan 2010 12:22:41 +0000
Subject: [wp-hackers] adding more than 4 widgets to default sidebar
In-Reply-To: <349fe48b1001161308w2bb61b04u2a3ce69d3cab4f17@mail.gmail.com>
References: <4B52274E.5030008@ntlworld.com>
	<349fe48b1001161308w2bb61b04u2a3ce69d3cab4f17@mail.gmail.com>
Message-ID: <4B530111.9050807@ntlworld.com>


I was using Firefox 3.5.2
Have tried it again after removing all widgets, and my earlier 
description was too simplistic - it is not necessarily 4 widgets, and 
not consistent.
Made it happen again, but after a long sequence of add, re-arrange 
order, remove etc. The only common thing I saw was that the widget list 
background (grey in default) normally extends when the added widget is 
open, and this seems to create the extened backgorund space for the next 
widget.
On the 2 occasions I found, the background box did not extend and look 
to have room for another widget.
I also noticed that you have to drag the new widget around the blank 
area a bit to get it to show the dotted marker and allow to drop, so 
sometimes it _appears_ not to work just because you haven't picked up 
the "hotspot" area.

Sorry cannot be more precise, and it's only a minor issue, so if no-one 
else has mentioned then it's not a problem :)

After all that, I must say the 2.9 interface is lovely compared to 
earlier 2.2 - so good work by the many contributors, which I greatly 
appreciate!

Chris


scribu wrote:
> What exactly happens when you try to add the 4th one?
>
> What browser are you using?
>
>
> On Sat, Jan 16, 2010 at 10:53 PM, Chris <chris.hearn01 at ntlworld.com> wrote:
>
>   
>> Hi there,
>> Sorry if this is wrong place!
>> I have just loaded WP 2.9.1, and just testing out the Dashboard features.
>> Using default theme, initial setup.
>> I put 4 widgets into sidebar1 and it works ok.
>> Add another (> 4) does not work unless navigate away from the page and back
>> again.
>> If this is not already a known issue (albeit minor) maybe someone would
>> care to confirm and add to bugfix list?
>>
>> Regards
>> Chris
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
>
>
>
>   

From hempsworth at googlemail.com  Sun Jan 17 12:25:05 2010
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun, 17 Jan 2010 12:25:05 +0000
Subject: [wp-hackers] A question about donation link
In-Reply-To: <394dda561001161543l1f05f29cracdbecbddaee6ff@mail.gmail.com>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com> 
	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com> 
	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net> 
	<5a1dad881001150215t3fa950adx11b32532c3e74905@mail.gmail.com> 
	<394dda561001161543l1f05f29cracdbecbddaee6ff@mail.gmail.com>
Message-ID: <5a1dad881001170425k2708e6b3rbfe69fd5b111d209@mail.gmail.com>

Thanks for letting me take a look, I'm no expert but here's my view on it...

The label for the checkbox in the admin panel looks like this:
"If disabling the credits, please, consider _donating to the project_."

As a result of selecting that, the following text is removed from the
footer:
"SITENAME is powered by _WordPress_ - Site design by _Alkivia_."

Could a user get confused as to what they are donating towards - you just
say 'the project' but if it removes WordPress credits, perhaps a user might
think that they've just donated to the WordPress 'project' instead of just
the theme.

Maybe if you were more specific in your language - "If disabling the
credits, please consider donating some money to the designer to help fund
the development of this theme?"

That's the only thing I can think that WP.org folks might have an issue
with.

-- Alex  (Hempsworth)

From jcanals at alkivia.net  Sun Jan 17 13:05:12 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Sun, 17 Jan 2010 14:05:12 +0100
Subject: [wp-hackers] A question about donation link
In-Reply-To: <5a1dad881001170425k2708e6b3rbfe69fd5b111d209@mail.gmail.com>
References: <394dda561001141544w7e2ae83ana38eff59093e5783@mail.gmail.com>
	<349fe48b1001141550r48c790a0y17e346f7a97b34d4@mail.gmail.com>
	<1263550174.7893.11.camel@rillian.narnia.sunriseroad.net>
	<5a1dad881001150215t3fa950adx11b32532c3e74905@mail.gmail.com>
	<394dda561001161543l1f05f29cracdbecbddaee6ff@mail.gmail.com>
	<5a1dad881001170425k2708e6b3rbfe69fd5b111d209@mail.gmail.com>
Message-ID: <394dda561001170505v6381d585o8714745d6eeb7a41@mail.gmail.com>

2010/1/17 Alex Hempton-Smith <hempsworth at googlemail.com>

> Thanks for letting me take a look, I'm no expert but here's my view on
> it...
>
> The label for the checkbox in the admin panel looks like this:
> "If disabling the credits, please, consider _donating to the project_."
>
> As a result of selecting that, the following text is removed from the
> footer:
> "SITENAME is powered by _WordPress_ - Site design by _Alkivia_."
>
> Could a user get confused as to what they are donating towards - you just
> say 'the project' but if it removes WordPress credits, perhaps a user might
> think that they've just donated to the WordPress 'project' instead of just
> the theme.
>
> Maybe if you were more specific in your language - "If disabling the
> credits, please consider donating some money to the designer to help fund
> the development of this theme?"
>
> That's the only thing I can think that WP.org folks might have an issue
> with.
>
> -- Alex  (Hempsworth)
>


Alex, thanks for checking it.

Anyway, the last release have the donation text and link removed, as them
asked me to do. And the theme is not approved anyway.
Perhaps I will change this to not include "powered by WordPress" as this is
optional on themes.

Regards,
--
Jordi Canals
http://alkivia.org

From justmichaelh at gmail.com  Sun Jan 17 14:13:00 2010
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Sun, 17 Jan 2010 09:13:00 -0500
Subject: [wp-hackers] Error wp_usermeta: Table 'xxxx.wp_usermeta' doesn't
	exist
Message-ID: <271201ca977f$2e6df7c0$6401a8c0@dell8600>

If anyone could shed light on how to solve the error "wp_usermeta: Table 
'xxxxx.wp_usermeta' doesn't exist" it would be much appreciated.   One of a 
number of Support Forum threads where this error is reported: 
http://wordpress.org/support/topic/353209

Seems to be happening on free.fr hosting when installing WordPress.

Thanks for any response.

MichaelH


From shamsikas at gmail.com  Sun Jan 17 15:02:31 2010
From: shamsikas at gmail.com (shamsi kabir)
Date: Sun, 17 Jan 2010 22:02:31 +0700
Subject: [wp-hackers] wp-hackers Digest, Vol 60, Issue 35
In-Reply-To: <mailman.15.1263729603.13959.wp-hackers@lists.automattic.com>
References: <mailman.15.1263729603.13959.wp-hackers@lists.automattic.com>
Message-ID: <12d525971001170702g13063d7fu19d56dcd8be2705e@mail.gmail.com>

shamsikas

On 1/17/10, wp-hackers-request at lists.automattic.com
<wp-hackers-request at lists.automattic.com> wrote:
> Send wp-hackers mailing list submissions to
> 	wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
> 	http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
> 	wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
> 	wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
>    1. Re: A question about donation link (Jordi Canals)
>    2. adding more than 4 widgets to default sidebar (Chris)
>    3. Re: adding more than 4 widgets to default sidebar (scribu)
>    4. Re: A question about donation link (Jordi Canals)
>    5. Re: New plugin for plugin authors to showcase their	plugins
>       on their site (Mike Walsh)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Sat, 16 Jan 2010 20:29:37 +0100
> From: Jordi Canals <jcanals at alkivia.net>
> Subject: Re: [wp-hackers] A question about donation link
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<394dda561001161129r2b4b40a9k2623b6300db545f8 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> 2010/1/16 Jeremy Clarke <jer at simianuprising.com>
>
>> The resulting discussion of GPL and attribution is fascinating, but to
>> return to the original question I think it's obvious that regardless
>> of what actually happened to get his theme denied access to the repo,
>> the *proposed functionality* of asking for a donation when people
>> remove the footer link is 100% appropriate and should be allowed in
>> the theme repo. It is an example of very good usability to only ask
>> for a donation when people are actively removing other benefits you
>> derive from their use of your work. I think we can all agree the GPL
>> has nothing to say about it and that donation asks like the one in
>> WP-Supercache are far more imposing and annoying to clients than this
>> one.
>>
>>
> It's a petty that this link to the donations page has blocked all theme
> updates on the WP-Themes site from December 18 and they are considering to
> completely remove the theme. Just because them considered the text as a
> commercial licensing option. The text was: "If you remove public themes,
> please consider donating to the project".
>
> Them asked the text to be removed and I did it the day after (Dec, 19). But
> because of that the theme updates have been blocked and I had to spend a big
> amount of time trying to tell them the link was removed and the theme is
> only released under the GPL license.
>
> Jordi, thanks for your dedication to making the footer credit an
>> explicit option in the UI. It makes it WAY easier for people to use
>> theme upgrades since they don't have to effectively fork their copy
>> just to remove the credit. This should be a common practice, and I
>> think your system of asking for a donation at that moment is a perfect
>> way to raise the appeal of such options for theme developers (as well
>> as encouraging users who don't want to donate to reconsider their
>> decision to remove the link :)
>>
>>
> It's a petty that because this, the theme was blocked (as said).  I also
> thinks the best way is to allow doing it without hacking the theme which
> makes updates easier. And now, the theme users are compaining to me because
> I announced a lot of new features for the 2.0 release and the theme is not
> available at WP-Themes site. I'm really disappointed with the guys who
> manage the site and approve the themes publishing.
>
> On the next releases, I just will completely forbid to remove the footer
> with a big announcement on the code as the clause 7b og GPLv3 allows me to
> require the preservation of author attribution. This is just the worst
> solution, and far away of my original wish to allow an easy removal of the
> theme author attribution. With this attitude, WordPress guys made me to be a
> lot more restrictive about author attribution removal.
>
> This really discourages me to continue developing and maintaining WordPress
> plugins as all them are GPL and freely available.
>
>
>> --
>> Jeremy Clarke | http://jeremyclarke.org
>> Code and Design | http://globalvoicesonline.org
>>
>>
> Jordi Canals
> http://alkivia.org
>
>
> ------------------------------
>
> Message: 2
> Date: Sat, 16 Jan 2010 20:53:34 +0000
> From: Chris <chris.hearn01 at ntlworld.com>
> Subject: [wp-hackers] adding more than 4 widgets to default sidebar
> To: wp-hackers at lists.automattic.com
> Message-ID: <4B52274E.5030008 at ntlworld.com>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> Hi there,
> Sorry if this is wrong place!
> I have just loaded WP 2.9.1, and just testing out the Dashboard features.
> Using default theme, initial setup.
> I put 4 widgets into sidebar1 and it works ok.
> Add another (> 4) does not work unless navigate away from the page and
> back again.
> If this is not already a known issue (albeit minor) maybe someone would
> care to confirm and add to bugfix list?
>
> Regards
> Chris
>
>
> ------------------------------
>
> Message: 3
> Date: Sat, 16 Jan 2010 23:08:18 +0200
> From: scribu <scribu at gmail.com>
> Subject: Re: [wp-hackers] adding more than 4 widgets to default
> 	sidebar
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<349fe48b1001161308w2bb61b04u2a3ce69d3cab4f17 at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> What exactly happens when you try to add the 4th one?
>
> What browser are you using?
>
>
> On Sat, Jan 16, 2010 at 10:53 PM, Chris <chris.hearn01 at ntlworld.com> wrote:
>
>> Hi there,
>> Sorry if this is wrong place!
>> I have just loaded WP 2.9.1, and just testing out the Dashboard features.
>> Using default theme, initial setup.
>> I put 4 widgets into sidebar1 and it works ok.
>> Add another (> 4) does not work unless navigate away from the page and
>> back
>> again.
>> If this is not already a known issue (albeit minor) maybe someone would
>> care to confirm and add to bugfix list?
>>
>> Regards
>> Chris
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> http://scribu.net
>
>
> ------------------------------
>
> Message: 4
> Date: Sun, 17 Jan 2010 00:43:48 +0100
> From: Jordi Canals <jcanals at alkivia.net>
> Subject: Re: [wp-hackers] A question about donation link
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<394dda561001161543l1f05f29cracdbecbddaee6ff at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> 2010/1/15 Alex Hempton-Smith <hempsworth at googlemail.com>
>
>> Jordi, do you have the original plugin zip available for us to take a look
>> at (to rule out there not being more than meets the eye)... Remember
>> attachments are stripped on this list, perhaps upload it to your site.
>>
>>
> Sorry Alex, It took a bit long to setup a downloads page.
> You can download any theme version at
> http://alkivia.org/wordpress/chameleon/downloads/
> The version that blocked the theme is 2.0, but in 2.1 the link was removed
> and still blocked it.
>
> I'm sure that you won't find anything in the theme that does not follow the
> GPL license.
>
>
>> -- Alex  (Hempsworth)
>>
>>
> Jordi Canals
> http://alkivia.org
>
>
> ------------------------------
>
> Message: 5
> Date: Sat, 16 Jan 2010 20:12:12 -0500
> From: Mike Walsh <mpwalsh8 at gmail.com>
> Subject: Re: [wp-hackers] New plugin for plugin authors to showcase
> 	their	plugins on their site
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<bd35beb51001161712t5e547b6el13b3cde508a37186 at mail.gmail.com>
> Content-Type: text/plain; charset=windows-1252
>
> Any chance it can support themes too?
>
> Mike
>
> On Sat, Jan 16, 2010 at 12:01 PM, Dan Phiffer <dan at phiffer.org> wrote:
>
>> Yo dog I heard U like ... etc.
>>
>>
>> On Jan 16, 2010, at 11:48 AM, Thomas Belknap wrote:
>>
>> > Dude.  So sweet. Thanks!
>> >
>> > On Jan 16, 2010 11:46 AM, "Mark Jaquith" <markjaquith at gmail.com> wrote:
>> >
>> > Like many plugin authors here, I have many of my plugins in the wp.org
>> > repository, but I also want to showcase them on my own site. Until
>> > now, I've been managing them on my site manually. This has proved to
>> > be a giant pain ? so much so that it makes me dread updating my
>> > plugins, as I know it'll involve a tedious update of their
>> > representative pages on my site.
>> >
>> > I wrote a plugin to remedy this.
>> >
>> > http://txfx.net/wordpress-plugins/i-make-plugins/
>> >
>> > In order to make the page above, I did the following:
>> >
>> > 1. Pages > Add New
>> > 2. Title: I Make Plugins
>> > 3. Parent Page: WordPress Plugins
>> > 4. Publish
>> >
>> > That's it! It's getting all its info from the plugin repository, using
>> > the API calls available within WordPress. The info is cached in
>> > postmeta, with an expiration.
>> >
>> > It also auto-populates the listing page:
>> >
>> > http://txfx.net/wordpress-plugins/
>> >
>> > Both pages have templates (using WP shortcodes, of course) so that you
>> > can customize their layout.
>> >
>> > Now you can manage your personal plugins showcase just by updating
>> > their readme.txt file. Hope this is of some use to you!
>> >
>> > --
>> > Mark Jaquith
>> > ? http://markjaquith.com/
>> > ? http://coveredwebservices.com/
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> --
> Mike Walsh - mpwalsh at gmail.com
>
>
> ------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> End of wp-hackers Digest, Vol 60, Issue 35
> ******************************************
>

From zamoose at gmail.com  Sun Jan 17 21:56:06 2010
From: zamoose at gmail.com (Doug Stewart)
Date: Sun, 17 Jan 2010 16:56:06 -0500
Subject: [wp-hackers] Error wp_usermeta: Table 'xxxx.wp_usermeta'
	doesn't exist
In-Reply-To: <271201ca977f$2e6df7c0$6401a8c0@dell8600>
References: <271201ca977f$2e6df7c0$6401a8c0@dell8600>
Message-ID: <71ddd7491001171356m1953eafk981a6b8840fe436d@mail.gmail.com>

On Sun, Jan 17, 2010 at 9:13 AM, Michael E. Hancock
<justmichaelh at gmail.com>wrote:

> If anyone could shed light on how to solve the error "wp_usermeta: Table
> 'xxxxx.wp_usermeta' doesn't exist" it would be much appreciated.   One of a
> number of Support Forum threads where this error is reported:
> http://wordpress.org/support/topic/353209
>
> Seems to be happening on free.fr hosting when installing WordPress.
>
>
Is this WordPress or WPMU?

-- 
-Doug
@zamoose
http://literalbarrage.org/blog/

From justmichaelh at gmail.com  Mon Jan 18 01:23:19 2010
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Sun, 17 Jan 2010 20:23:19 -0500
Subject: [wp-hackers] Error wp_usermeta: Table 'xxxx.wp_usermeta'doesn't
	exist
References: <271201ca977f$2e6df7c0$6401a8c0@dell8600>
	<71ddd7491001171356m1953eafk981a6b8840fe436d@mail.gmail.com>
Message-ID: <278501ca97dc$d23fdb40$6401a8c0@dell8600>


----- Original Message ----- 
From: "Doug Stewart" <zamoose at gmail.com>

>> On Sun, Jan 17, 2010 at 9:13 AM, Michael E. Hancock
>> If anyone could shed light on how to solve the error "wp_usermeta: Table
>> 'xxxxx.wp_usermeta' doesn't exist" it would be much appreciated.   One of 
>> a
>> number of Support Forum threads where this error is reported:
>> http://wordpress.org/support/topic/353209
>>
>> Seems to be happening on free.fr hosting when installing WordPress.
>>
>>

> Is this WordPress or WPMU?
>

Doug,

As far as I know, it is WordPress.  There's 8 or so recent threads where 
people experience the same thing.

Michael




From aaron at xavisys.com  Mon Jan 18 01:26:09 2010
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Sun, 17 Jan 2010 18:26:09 -0700
Subject: [wp-hackers] My plugin removed from WP.org extend directory
In-Reply-To: <566296.2257.qm@web51707.mail.re2.yahoo.com>
References: <566296.2257.qm@web51707.mail.re2.yahoo.com>
Message-ID: <4B53B8B1.9060003@xavisys.com>

I can't say I know for sure why the plugin was denied, but as a fork you 
may need better attribution to the original author.  I'm not sure having 
this in your readme.txt is enough:
-------------------------------------------
= Is this a fork of All in One SEO Pack? =

Yes.
-------------------------------------------
Again though, I don't know that this is why it was declined.


Alden Torres wrote:
> Hello,
>
> It seems that a plugin I'm developing (fork of All in One SEO Pack) was pulled out from the public system.
>
> The url is: http://wordpress.org/extend/plugins/light-seo/
> The homepage: http://www.aldentorres.com/light-seo-wordpress-plugin/
> Download link: http://www.aldentorres.com/light-seo.trunk.zip
>
> I was suggested that maybe the plugins are so similar, that an special policy was applied.
>
> I don't know if it is the case, but I can prove that in fact, they diverge in numerous way, even the user base target are different.
>
> I tried to reach someone related to the issue in numerous ways without results. Could I have some insight about how to proceed to address this problem?
>
> Thanks.
>
> Alden

From aaron at jorb.in  Mon Jan 18 03:04:37 2010
From: aaron at jorb.in (Aaron Jorbin)
Date: Sun, 17 Jan 2010 19:04:37 -0800
Subject: [wp-hackers] Error wp_usermeta: Table 'xxxx.wp_usermeta'doesn't
	exist
In-Reply-To: <278501ca97dc$d23fdb40$6401a8c0@dell8600>
References: <271201ca977f$2e6df7c0$6401a8c0@dell8600>
	<71ddd7491001171356m1953eafk981a6b8840fe436d@mail.gmail.com>
	<278501ca97dc$d23fdb40$6401a8c0@dell8600>
Message-ID: <dc89e3ef1001171904x2792ca09wcb6c8230f732c892@mail.gmail.com>

Are you sure the mysql user that wordpress uses has sufficient
privileges to create tables?

http://aaron.jorb.in
twitter: twitter.com/aaronjorbin



On Sun, Jan 17, 2010 at 5:23 PM, Michael E. Hancock
<justmichaelh at gmail.com> wrote:
>
> ----- Original Message ----- From: "Doug Stewart" <zamoose at gmail.com>
>
>>> On Sun, Jan 17, 2010 at 9:13 AM, Michael E. Hancock
>>> If anyone could shed light on how to solve the error "wp_usermeta: Table
>>> 'xxxxx.wp_usermeta' doesn't exist" it would be much appreciated. ? One of
>>> a
>>> number of Support Forum threads where this error is reported:
>>> http://wordpress.org/support/topic/353209
>>>
>>> Seems to be happening on free.fr hosting when installing WordPress.
>>>
>>>
>
>> Is this WordPress or WPMU?
>>
>
> Doug,
>
> As far as I know, it is WordPress. ?There's 8 or so recent threads where
> people experience the same thing.
>
> Michael
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp-hackers at striderweb.com  Mon Jan 18 13:30:29 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon, 18 Jan 2010 07:30:29 -0600
Subject: [wp-hackers] Plugin meta suggestion: demo page URL
In-Reply-To: <4B50B33A.7020504@gunters.org>
References: <4B50B33A.7020504@gunters.org>
Message-ID: <6B4348D3-0862-432A-8997-967AA91E5D81@striderweb.com>


On Jan 15, 2010, at 12:26 PM, Dougal Campbell wrote:

> I've got a suggestion for an addition to the plugin metadata used in the Extend repository: a URL for a plugin demo page. There are use-cases where it makes sense to have a separate page for a demo from the main plugin homepage. It would obviously be optional.
> 
> Thoughts?

-1 from me

I see no advantage that can't be gotten with a link in the description if it's really needed.

From justmichaelh at gmail.com  Mon Jan 18 15:33:21 2010
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Mon, 18 Jan 2010 10:33:21 -0500
Subject: [wp-hackers] Error wp_usermeta: Table
	'xxxx.wp_usermeta'doesn'texist
References: <271201ca977f$2e6df7c0$6401a8c0@dell8600><71ddd7491001171356m1953eafk981a6b8840fe436d@mail.gmail.com><278501ca97dc$d23fdb40$6401a8c0@dell8600>
	<dc89e3ef1001171904x2792ca09wcb6c8230f732c892@mail.gmail.com>
Message-ID: <00ca01ca9853$92639df0$6401a8c0@dell8600>

>> On Sun, Jan 17, 2010 at 9:13 AM, Michael E. Hancock
>> If anyone could shed light on how to solve the error "wp_usermeta: Table
>> 'xxxxx.wp_usermeta' doesn't exist" it would be much appreciated. One of
>> a
>> number of Support Forum threads where this error is reported:
>> http://wordpress.org/support/topic/353209
>>
>> Seems to be happening on free.fr hosting when installing WordPress.

> From: "Aaron Jorbin
>Are you sure the mysql user that wordpress uses has sufficient privileges 
>to create tables?


That's the weird thing, it creates the other WordPress tables so the 
assumption is that the privileges are correct.

Thanks Aaron.

Michael 


From jer at simianuprising.com  Mon Jan 18 16:33:14 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 18 Jan 2010 11:33:14 -0500
Subject: [wp-hackers] Pagination: How to display sidebar content on
	front page only?
In-Reply-To: <4B4D9ED1.4080905@workmedia.pt>
References: <mailman.594.1263286215.29976.wp-hackers@lists.automattic.com>
	<2ABC0519-C5B3-42E3-922D-F029FEE3C81C@kairo.fi>
	<4B4CF980.4040505@yahoo.com>
	<B017CF02-04DE-4339-BDFF-779490A774C0@ftwr.co.uk>
	<4B4D9ED1.4080905@workmedia.pt>
Message-ID: <e1202cb11001180833g465c6ddcw59599dd976f6ded3@mail.gmail.com>

On Wed, Jan 13, 2010 at 5:22 AM, Tiago Relvao <trelvao at workmedia.pt> wrote:
> Just a reminder... Don't forget there is a template file - home.php. You can
> use it to further customize your home page.
>
> If you want to change more than a sidebar it's best not to use conditional
> tags as things may get confuse and difficult to maintain. You can copy your
> template index.php and call it home.php as a base for your development.

The idea that more templates is easier to maintain than conditionals
is up for debate. I personally think that if you can understand basic
PHP the benefits of having less files to maintain (and less places to
migrate any HTML changes to) far outweighs the complexity of managing
context conditionals. In my experience it actually causes me to clean
up my code and think of my template more intelligently because I can
see how X in my home.php template is really the same kind of thing as
Y in my index.php template, and thus should be in the same part of the
theme. archive.php FTW

Anyway, it's good to remember that you have lots of options ;)


-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From jer at simianuprising.com  Mon Jan 18 16:40:20 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 18 Jan 2010 11:40:20 -0500
Subject: [wp-hackers] adding more than 4 widgets to default sidebar
In-Reply-To: <4B530111.9050807@ntlworld.com>
References: <4B52274E.5030008@ntlworld.com>
	<349fe48b1001161308w2bb61b04u2a3ce69d3cab4f17@mail.gmail.com>
	<4B530111.9050807@ntlworld.com>
Message-ID: <e1202cb11001180840p3e6cff5ereec17a870061733@mail.gmail.com>

On Sun, Jan 17, 2010 at 7:22 AM, Chris <chris.hearn01 at ntlworld.com> wrote:
> After all that, I must say the 2.9 interface is lovely compared to earlier
> 2.2 - so good work by the many contributors, which I greatly appreciate!

I've always found the widgets UI javascript to be a bit wonky. If your
screen is huge then it works pretty smoothly, but the smaller your
viewport the more bugs you encounter.

The solution is usually just to do like you say, drag the widgets
around and be patient, which in my experience always gets me to the
finish line.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From shane at bugssite.org  Mon Jan 18 16:47:27 2010
From: shane at bugssite.org (Shane A. Froebel)
Date: Mon, 18 Jan 2010 11:47:27 -0500
Subject: [wp-hackers] Widget API, Widget Wrapper Functionality
Message-ID: <4B54909F.5030604@bugssite.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hey all!

After going through all the scenarios that I can go through on my head I
come up that the Widget API system for MU might be problematic
especially if each MU has a different theme with it.

Right now we use:

$args = array(
 'before_widget' => '<li id="%1$s" class="widget %2$s">',
 'after_widget' => "</li>n",
 'before_title' => '<h2 class="widgettitle">',
 'after_title' => "</h2>n"
);
register_sidebar( $args );

This is fine for single blogs where there is only one theme to edit and
worry about, but if a MU site starts to support many different styles of
theme, this way might be beneficial to all MU site owners where they
don't have to worry about 2 or 5 CSS files to maintain.

In my ticket (http://core.trac.wordpress.org/ticket/11387) has grater
detail on how it would work, but instead of all widgets doing all the
"echoing" of all the data they would return the only their data and the
Widget Walker and them theme if specified would use it's walker based on
the content type that the widget wants to return. 'li', 'ol', 'ul',
'div', 'p' or 'none' to allow the proper formatting.

Instead of before_widget and after_widget they would have
'before_output' and 'after_output' so that the default WordPress theme
would still work. Theme authors can specify if they want the
before/after_output values to be in their walker.

The custom walker is initialized by a filter called 'widget_design' that
would return 'new Theme_Walker_Widget();'.

I can see the objections now, but just think about the concept of
maintain widget css when you can have the theme authors do it correctly
the first time.

Thanks for your time.

Your Friend, Shane
http://bugssite.org/





-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (MingW32)

iQIcBAEBAgAGBQJLVJCeAAoJEC7/vS6gbNwF8ugP/jGBU8YhY92MvB0CBJahhmOh
iAftnzzFHHKOkuqugsaxtyICQdrbAlwRy8DeFmeCRBVQ5yixIIT7ySXVVxvw5BO/
LDbSgtnA6JwFfcRbVPg8Oer0//bVVMTQjnJpEEnjt0HBGKsAMtbMaXxho35vKkIp
ITKHO1Hud6PfdaX0s0YLHK9tKs1YOjBuU/2v5hZpQEAr44h9ofWDc+50ywg01EO5
BMIXIkYFq98kykfFyCNI/FlMcIOGWxXHN18CukN0yNQW6HDjxq+VBqsPdXZ0vLh/
ohLn9kfjXvdI4ndZwGo5Ehf+Tb0EXQAB/AmFtufjcBmSzD0OVSFWxDlaCpljwTU/
ldfkzcJOtyOVAyw8w7ygHpfKHLDmbfQxmHpeisX1MKzJG5iUteNB6lbF9n0r2a6x
JfQHnAgOIb3WtiyxAqLrQhL58Be0sn5gi1OzpxPsCOm5qegi5quuiUOTcmQKIKvh
udIMQy8+u7jih6xEJSMTfzFN3I3HbAS0GFDp8vx3Xf2HRtJ+zU+QC+aYXwJfzj/6
ow0GgUa/htKpYefNuMCfGHbjLh9JIj0h1vnQaDDWMBcXo43zqPIgTTq0OKZc9p/r
I3BS2FgQDXA+FfEI5LANWOQpQLpeVQRv7rTSoLflfelOkK9ilm+Vq78FyP5oRi4d
E0QZOFhtjQ01G6bmXM+7
=2lBD
-----END PGP SIGNATURE-----

From mpwalsh8 at gmail.com  Mon Jan 18 18:18:20 2010
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Mon, 18 Jan 2010 13:18:20 -0500
Subject: [wp-hackers] adding more than 4 widgets to default sidebar
In-Reply-To: <e1202cb11001180840p3e6cff5ereec17a870061733@mail.gmail.com>
References: <4B52274E.5030008@ntlworld.com>
	<349fe48b1001161308w2bb61b04u2a3ce69d3cab4f17@mail.gmail.com>
	<4B530111.9050807@ntlworld.com>
	<e1202cb11001180840p3e6cff5ereec17a870061733@mail.gmail.com>
Message-ID: <bd35beb51001181018v6b0522b3l67887f15653a77bb@mail.gmail.com>

I have found this to particularly the case when using IE.  Sometimes the
changes I make just don't stick.

Mike

On Mon, Jan 18, 2010 at 11:40 AM, Jeremy Clarke <jer at simianuprising.com>wrote:

> On Sun, Jan 17, 2010 at 7:22 AM, Chris <chris.hearn01 at ntlworld.com> wrote:
> > After all that, I must say the 2.9 interface is lovely compared to
> earlier
> > 2.2 - so good work by the many contributors, which I greatly appreciate!
>
> I've always found the widgets UI javascript to be a bit wonky. If your
> screen is huge then it works pretty smoothly, but the smaller your
> viewport the more bugs you encounter.
>
> The solution is usually just to do like you say, drag the widgets
> around and be patient, which in my experience always gets me to the
> finish line.
>
> --
> Jeremy Clarke | http://jeremyclarke.org
> Code and Design | http://globalvoicesonline.org
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
--
Mike Walsh - mpwalsh at gmail.com

From viniciusandre at gmail.com  Mon Jan 18 18:37:54 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Mon, 18 Jan 2010 16:37:54 -0200
Subject: [wp-hackers] Flash getting content from XML
Message-ID: <4ede8f491001181037t12059db2v31a1821ee240f5d4@mail.gmail.com>

Hi all!

I'm having this problem where my template has a flash object that gets
some images URLs from a XML file. The flash is OK, but no images are
displayed. I tried to put the full path to the images into the XML and
so, but nothing seems to work.

I'm not quite sure how to make this properly on Wordpress.

Thanks.
--
Vin?cius Massuchetto

From viniciusandre at gmail.com  Mon Jan 18 18:39:20 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Mon, 18 Jan 2010 16:39:20 -0200
Subject: [wp-hackers] Flash getting content from XML
In-Reply-To: <4ede8f491001181037t12059db2v31a1821ee240f5d4@mail.gmail.com>
References: <4ede8f491001181037t12059db2v31a1821ee240f5d4@mail.gmail.com>
Message-ID: <4ede8f491001181039r5d951bd9w94770223e0fe827e@mail.gmail.com>

Oh... I forgot.

If I just open the flash without Wordpress it works nice, but once I
embed it on the code it gets nothing.
--
Vin?cius Massuchetto


On Mon, Jan 18, 2010 at 4:37 PM, Vinicius Massuchetto
<viniciusandre at gmail.com> wrote:
> Hi all!
>
> I'm having this problem where my template has a flash object that gets
> some images URLs from a XML file. The flash is OK, but no images are
> displayed. I tried to put the full path to the images into the XML and
> so, but nothing seems to work.
>
> I'm not quite sure how to make this properly on Wordpress.
>
> Thanks.
> --
> Vin?cius Massuchetto
>

From wp-hackers at nicolaskuttler.de  Mon Jan 18 22:52:15 2010
From: wp-hackers at nicolaskuttler.de (Jean-Nicolas Kuttler)
Date: Mon, 18 Jan 2010 23:52:15 +0100
Subject: [wp-hackers] New plugin for plugin authors to showcase
	their	plugins on their site
In-Reply-To: <2979bd661001160846v575343dfnab294ad6718853e0@mail.gmail.com>
References: <2979bd661001160846v575343dfnab294ad6718853e0@mail.gmail.com>
Message-ID: <20100118225215.GF15454@nicolaskuttler.de>

This plugin is great, but I seem to have a small encoding problem: I save my readmes as unicode and non-ascii characters seem to break somewhere between the repository and the plugins_api() call. 

I think the problem is somewhere in class WP_Http, although this is a little over my head...

Any ideas? You can probably verify this by trying to pull the "move wordpress comments" readme (unicode in changelog, near Tobias).

Nicolas

On Sat, Jan 16, 2010 at 11:46:03AM -0500, Mark Jaquith wrote:
> Like many plugin authors here, I have many of my plugins in the wp.org
> repository, but I also want to showcase them on my own site. Until
> now, I've been managing them on my site manually. This has proved to
> be a giant pain ? so much so that it makes me dread updating my
> plugins, as I know it'll involve a tedious update of their
> representative pages on my site.
> 
> I wrote a plugin to remedy this.
> 
> http://txfx.net/wordpress-plugins/i-make-plugins/
> 
> In order to make the page above, I did the following:
> 
> 1. Pages > Add New
> 2. Title: I Make Plugins
> 3. Parent Page: WordPress Plugins
> 4. Publish
> 
> That's it! It's getting all its info from the plugin repository, using
> the API calls available within WordPress. The info is cached in
> postmeta, with an expiration.
> 
> It also auto-populates the listing page:
> 
> http://txfx.net/wordpress-plugins/
> 
> Both pages have templates (using WP shortcodes, of course) so that you
> can customize their layout.
> 
> Now you can manage your personal plugins showcase just by updating
> their readme.txt file. Hope this is of some use to you!
> 
> -- 
> Mark Jaquith
> ? http://markjaquith.com/
> ? http://coveredwebservices.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


--
Nicolas Kuttler
wp at nkuttler.de

From leif.a.andersen at gmail.com  Tue Jan 19 02:26:43 2010
From: leif.a.andersen at gmail.com (Leif Andersen)
Date: Mon, 18 Jan 2010 19:26:43 -0700
Subject: [wp-hackers] Wordpress Android App
Message-ID: <f55773ba1001181826o793fbed1o73227c0d8de20919@mail.gmail.com>

Hello, my name is Leif and I am a student at the University of Utah.  I am
interested in participating in the Google Summer of Code program if they
have it this year.  I would like to create the Wordpress Android App.  I am
aware of Wptogo, however after seeing a few reviews of it, I believe that it
could be much better.  My main question is, assuming that Google will have
GSoC 2010, and that Wordpress is participating, is the wordpress developer
community interested at all in having an Android App, or would the idea go
into deaf ears?

I asked this in the #wordpress and #wordpress-dev channels on IRC, and they
pointed me to hear.  Also, whether or not Google has the GSoC program this
year, and whether or not I get accepted, I will work on said app (assuming
that there is any demand for it whatsoever, including myself), it's mainly a
matter of how much time I will be able to spend on it.

Thank you.

~Leif Andersen

From m at mullenweg.com  Tue Jan 19 06:34:32 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon, 18 Jan 2010 22:34:32 -0800
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com>
Message-ID: <4B555278.3050502@mullenweg.com>

On 2010-01-15 1:47 PM, Jordi Canals wrote:
> I refer you to the message I sent about a question asked about this. FSF
> understands that the link conforms the section 2c for GPLv2 and cannot be
> removed.

I strongly disagree with this, for the record.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From wordpress at zed1.com  Tue Jan 19 09:11:34 2010
From: wordpress at zed1.com (Mike Little)
Date: Tue, 19 Jan 2010 09:11:34 +0000
Subject: [wp-hackers] Wordpress Android App
In-Reply-To: <f55773ba1001181826o793fbed1o73227c0d8de20919@mail.gmail.com>
References: <f55773ba1001181826o793fbed1o73227c0d8de20919@mail.gmail.com>
Message-ID: <7235ce781001190111h681f76b8qc33c77570e036200@mail.gmail.com>

2010/1/19 Leif Andersen <leif.a.andersen at gmail.com>

> Hello, my name is Leif and I am a student at the University of Utah.  I am
> interested in participating in the Google Summer of Code program if they
> have it this year.  I would like to create the Wordpress Android App.  I am
> aware of Wptogo, however after seeing a few reviews of it, I believe that
> it
> could be much better.  My main question is, assuming that Google will have
> GSoC 2010, and that Wordpress is participating, is the wordpress developer
> community interested at all in having an Android App, or would the idea go
> into deaf ears?
>
> I asked this in the #wordpress and #wordpress-dev channels on IRC, and they
> pointed me to hear.  Also, whether or not Google has the GSoC program this
> year, and whether or not I get accepted, I will work on said app (assuming
> that there is any demand for it whatsoever, including myself), it's mainly
> a
> matter of how much time I will be able to spend on it.
>
> Thank you.
>
> ~Leif Andersen
>


Hi Leif,

Speaking only for myself, I would welcome a WordPress Android App.

I even considered doing it myself. Though I was thinking of porting the
official WordPress iPhone app. As open source and aimed at a similar
platform (in terms of functionality), it seemed like a good place to start.

However lack of time and my reluctance to revive my not-touched-for-a-year
Java skills have kept me from doing anything about it.

I hope you do get to do the app, whether as GSoC or not.  Good luck.


Mike
-- 
Mike Little
http://zed1.com/

From wordpress at zed1.com  Tue Jan 19 10:06:56 2010
From: wordpress at zed1.com (Mike Little)
Date: Tue, 19 Jan 2010 10:06:56 +0000
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <4B555278.3050502@mullenweg.com>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com> 
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com> 
	<4B555278.3050502@mullenweg.com>
Message-ID: <7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com>

2010/1/19 Matt Mullenweg <m at mullenweg.com>

> On 2010-01-15 1:47 PM, Jordi Canals wrote:
>
>> I refer you to the message I sent about a question asked about this. FSF
>> understands that the link conforms the section 2c for GPLv2 and cannot be
>> removed.
>>
>
> I strongly disagree with this, for the record.
>
>
Jordi,
I too disagree with this interpretation. You don't credit the author of this
response, so it is difficult to understand what qualifications, if any, they
have to make this interpretation. Additionally it is dated 2002, and the FSF
interpretation of GPL v2 has changed since then (for example with respect to
Java, and Javascript).

I refer you to this FAQ on the FSF we site
http://www.fsf.org/licensing/licenses/gpl-faq.html#IWantCredit
"...The GPL requires all copies to carry an appropriate copyright notice."

That explicitly refers to copies of the program not the program's output.

There are several other FAQs about a programs output, and they all seem to
support the Joomla interpretation someone referred to. It is OK for a user
to remove a credit in the output.


Further, clause 2c says "If the modified program normally reads commands
interactively when run, you must cause it, when started running..."
I do not believe WordPress or anyone's theme or plugin is 'reading commands
interactively', that is the job of the web server (e.g. Apache). And the
clause is explicitly restricted to output that includes a copyright notice,
and a warranty/no warranty notice,  the redistribution information, and
telling the user how to view the licence.

That clause does not use the word 'or'. In other words, in my
interpretation, your program must satisfy all those output when started
interactively requirements for the license to require the same
in derivative copies.


On another note you mention GPLV3, I must point out that GPLv3 is not
compatible with GPLv2.


Finally and, for me, most importantly, in all these GPL related discussions,
the participants are nearly always speaking from the developers point of
view; about what the developers rights should be, could be, ought to be; but
the whole point of the GPL and the vast majority of it's wording is about
the USER's rights.

The four fundamental freedoms enacted by the GPL are USER's freedoms. See
http://www.gnu.org/philosophy/free-sw.html

Mike
-- 
Mike Little
http://zed1.com/

From jcanals at alkivia.net  Tue Jan 19 11:02:40 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Tue, 19 Jan 2010 12:02:40 +0100
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com>
	<4B555278.3050502@mullenweg.com>
	<7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com>
Message-ID: <394dda561001190302u7d84a79s384195265f366035@mail.gmail.com>

2010/1/19 Mike Little <wordpress at zed1.com>

> 2010/1/19 Matt Mullenweg <m at mullenweg.com>
>
> > On 2010-01-15 1:47 PM, Jordi Canals wrote:
> >
> >> I refer you to the message I sent about a question asked about this. FSF
> >> understands that the link conforms the section 2c for GPLv2 and cannot
> be
> >> removed.
> >>
> >
> > I strongly disagree with this, for the record.
> >
> >
> Jordi,
> I too disagree with this interpretation. You don't credit the author of
> this
> response, so it is difficult to understand what qualifications, if any,
> they
> have to make this interpretation. Additionally it is dated 2002, and the
> FSF
> interpretation of GPL v2 has changed since then (for example with respect
> to
> Java, and Javascript).
>
> I refer you to this FAQ on the FSF we site
> http://www.fsf.org/licensing/licenses/gpl-faq.html#IWantCredit
> "...The GPL requires all copies to carry an appropriate copyright notice."
>
> That explicitly refers to copies of the program not the program's output.
>
> There are several other FAQs about a programs output, and they all seem to
> support the Joomla interpretation someone referred to. It is OK for a user
> to remove a credit in the output.
>
>
Ok.

Maybe I'm wrong with my interpretation of the clause. I don't remove the
author's attribution on the software I use and probably the author
attribution can be removed.
Anyway If my interpretation is wrong or not, and as seen probably it is, I
don't see here any problem with this to submit my theme to the repository.

As I said I explicitly allow end users to remove the page footer author
attribution just to avoid the this question:

- If you understand that the license allows itself to remove the attribution
output, allowing it explicitly on the code will not violate the GPL as both
say the same thing.
- If you understand the license does not allow to remove the attribution
output, also does not not violate the GPL, as you get an additional explicit
right allowing to remove it.

On another note you mention GPLV3, I must point out that GPLv3 is not
> compatible with GPLv2.
>
>
Here I would have a new question, as I didn't found the license notices nor
disclaimers on the WordPress core. Is WordPress licensed only with the "GPL
2 only" license or is it release under "GPL 2 or any later" version? I think
could be a good idea to include the GPL disclaimers with the WordPress core
to know what are we allowed or not. I ask that because if it is released
with the "GPL 2 only" license, I cannot use GPLv3 on our themes and plugins
and a change would be required here.

All this said, the original question was about the checkbox to remove the
public author attribution (as I removed the donation link that was beside
it) . Do you think that explicitly granting the user to remove the author
attribution from output violates the GPL license? Just that is what blocked
my theme on the repository. If there was a problem because my theme uses
GPLv3, I had no problem to switch the theme to GPLv2.

Thanks all for your valuable comments.
Jordi Canals

From markjaquith at gmail.com  Tue Jan 19 12:57:38 2010
From: markjaquith at gmail.com (Mark Jaquith)
Date: Tue, 19 Jan 2010 07:57:38 -0500
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <394dda561001190302u7d84a79s384195265f366035@mail.gmail.com>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com> 
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com> 
	<4B555278.3050502@mullenweg.com>
	<7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com> 
	<394dda561001190302u7d84a79s384195265f366035@mail.gmail.com>
Message-ID: <2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com>

On Tue, Jan 19, 2010 at 6:02 AM, Jordi Canals <jcanals at alkivia.net> wrote:
> Here I would have a new question, as I didn't found the license notices nor
> disclaimers on the WordPress core. Is WordPress licensed only with the "GPL
> 2 only" license or is it release under "GPL 2 or any later" version? I think
> could be a good idea to include the GPL disclaimers with the WordPress core
> to know what are we allowed or not. I ask that because if it is released
> with the "GPL 2 only" license, I cannot use GPLv3 on our themes and plugins
> and a change would be required here.

WordPress is released under the GPL version 2. No "or latest version"
clause is included. It is "stuck" at version 2, in perpetuity. As
such, licensing plugins or theme code under the GPL version 3 is a
problem, as that isn't compatible with WordPress' license. We've been
admittedly lax about pressing this distinction... it may be time to
start taking a closer look and making sure people are using the GPL
version 2 (or another *compatible* license).

> All this said, the original question was about the checkbox to remove the
> public author attribution (as I removed the donation link that was beside
> it) . Do you think that explicitly granting the user to remove the author
> attribution from output violates the GPL license? Just that is what blocked
> my theme on the repository. If there was a problem because my theme uses
> GPLv3, I had no problem to switch the theme to GPLv2.

The donation link and the option to remove the public author
attribution have no bearing on the GPL issue. Those are separate
issues. As I understand it, the issue with the donation link and the
attribution removal option was a perceived lack of clarity. Remember,
the theme (and plugin) directory has other concerns than just the
license. You should already be in contact with one of the theme
repository maintainers to resolve the concerns about the clarity of
the wording of that section. Takeaway: asking for a donation is fine,
offering to remove credits is fine, but you should be absolutely sure
that there is no implied quid pro quo.

And I agree with Matt Mullenweg and Mike Little... section 2C doesn't
apply. A theme is not "run interactively." That's clearly meant to
apply to command line programs where you enter into an interactive
command mode for a particular program (say, your Bash prompt changing
to a mysql> prompt). Think of it this way: what if GIMP (a FLOSS image
editing program) put a copyright watermark on every image it saved
out, and they maintained that removing that watermark was a violation?
I think most people would regard that as absurd. I don't see it as any
less absurd to maintain that a copyright notice must be maintained on
every web page generated by a GPL'd theme.

-- 
Mark Jaquith
? http://markjaquith.com/
? http://coveredwebservices.com/

From jcanals at alkivia.net  Tue Jan 19 13:29:48 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Tue, 19 Jan 2010 14:29:48 +0100
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com>
	<4B555278.3050502@mullenweg.com>
	<7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com>
	<394dda561001190302u7d84a79s384195265f366035@mail.gmail.com>
	<2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com>
Message-ID: <394dda561001190529r7fb451ddv58e70b0dc90d5bfd@mail.gmail.com>

2010/1/19 Mark Jaquith <markjaquith at gmail.com>

WordPress is released under the GPL version 2. No "or latest version"
> clause is included. It is "stuck" at version 2, in perpetuity. As
> such, licensing plugins or theme code under the GPL version 3 is a
> problem, as that isn't compatible with WordPress' license. We've been
> admittedly lax about pressing this distinction... it may be time to
> start taking a closer look and making sure people are using the GPL
> version 2 (or another *compatible* license).
>
>
Thats good to know. Thanks for clarifiying. Also would be so nice to include
the copyright and disclaimer notices at the top of each source code file to
make it so clear.

If this was written anywhere would help developers to choose the right
license version, as on WordPress info only says "GPL" bot especifiying if
can be ported to any later version of the license or not.

Knowing now that WordPress is stuck to GPKL version (Not allowing any later
version), I have no trouble to change my theme or puliuns the license to
GPLv2.

Just I would suggest to add the "or any later version" to make it more
compatible with new GPL versions. Just a suggestion.


> > All this said, the original question was about the checkbox to remove the
> > public author attribution (as I removed the donation link that was beside
> > it) . Do you think that explicitly granting the user to remove the author
> > attribution from output violates the GPL license? Just that is what
> blocked
> > my theme on the repository. If there was a problem because my theme uses
> > GPLv3, I had no problem to switch the theme to GPLv2.
>
> The donation link and the option to remove the public author
> attribution have no bearing on the GPL issue. Those are separate
> issues. As I understand it, the issue with the donation link and the
> attribution removal option was a perceived lack of clarity. Remember,
> the theme (and plugin) directory has other concerns than just the
> license. You should already be in contact with one of the theme
> repository maintainers to resolve the concerns about the clarity of
> the wording of that section. Takeaway: asking for a donation is fine,
> offering to remove credits is fine, but you should be absolutely sure
> that there is no implied quid pro quo.
>
>
I was asked about this because the person who revised it considered not so
clear. Immediately I removed the link to the donations page to avoid it and
make clear that you are allowed to remove the credits. Now the checkbox is
just the checkbox  "[] Remove theme public credits". The person who revised
the theme asked me to change or to remove the donation link and I removed it
and submited the new version. Really I don't understand why this is now a
problem for the person who revises my theme as he says my theme is not GPL
because GPL already allows for credits removal. Being allowed by GPL and
having a checkbox to do it violates the GPL? I'm sure not. It's just a way
to make easier to the users to remove or leave the footer credits if they
want.


> And I agree with Matt Mullenweg and Mike Little... section 2C doesn't
> apply. A theme is not "run interactively." That's clearly meant to
> apply to command line programs where you enter into an interactive
> command mode for a particular program (say, your Bash prompt changing
> to a mysql> prompt). Think of it this way: what if GIMP (a FLOSS image
> editing program) put a copyright watermark on every image it saved
> out, and they maintained that removing that watermark was a violation?
> I think most people would regard that as absurd. I don't see it as any
> less absurd to maintain that a copyright notice must be maintained on
> every web page generated by a GPL'd theme.
>
>
This is clear now. But no problem with the theme we're talking about as
removing the credits was explicitly granted to end users. Your examples are
not exactly the same, but I can understand the sample as if the program was
a word processor or any file editor.

This discussion really has been interesting to me to clarify some things.
Just the one sole thing is not clear, as the person who revises the themes
didn't told me is why my theme cannot be considered fully GPL compliant
(having the trouble link removed when asked to do it).

Regards,
Jordi Canals
--
http://alkivia.org
http://jcanals.cat

From jcanals at alkivia.net  Tue Jan 19 13:36:48 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Tue, 19 Jan 2010 14:36:48 +0100
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <394dda561001190529r7fb451ddv58e70b0dc90d5bfd@mail.gmail.com>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com>
	<4B555278.3050502@mullenweg.com>
	<7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com>
	<394dda561001190302u7d84a79s384195265f366035@mail.gmail.com>
	<2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com>
	<394dda561001190529r7fb451ddv58e70b0dc90d5bfd@mail.gmail.com>
Message-ID: <394dda561001190536y1cfaf8fcuf38b672200698a4b@mail.gmail.com>

Forgot a request I wanted to include on my last mail:

Is it possible to have the theme revised by a different person than the one
is revising it know? Or almost someone to tell me why he thinks the theme is
not GPL compliant? The person who revises the theme does not tell me why he
considers it as non GPL compliant and that way I cannot resolve any issue if
there is one (I'm sure it is no GPL issues with the theme).

Regards,
---
Jordi Canals
http://alkivia.org
http://jcanals.cat

From ninodespam at gmail.com  Tue Jan 19 14:26:59 2010
From: ninodespam at gmail.com (Spamboy)
Date: Tue, 19 Jan 2010 08:26:59 -0600
Subject: [wp-hackers] Wordpress Android App
In-Reply-To: <7235ce781001190111h681f76b8qc33c77570e036200@mail.gmail.com>
References: <f55773ba1001181826o793fbed1o73227c0d8de20919@mail.gmail.com>
	<7235ce781001190111h681f76b8qc33c77570e036200@mail.gmail.com>
Message-ID: <bc2915771001190626l686a285dgd3acd3904dd8d636@mail.gmail.com>

Although I don't have an Android phone, I believe that a WordPress
application for that platform should be produced.

The trick you should be prepared to pull off are:

   1. Keeping the feature sets similar between the iPhone and Android
   applications
   2. Ensuring that bugs and features rolled out in one application are
   quickly followed by the other

SB

On Tue, Jan 19, 2010 at 3:11 AM, Mike Little <wordpress at zed1.com> wrote:

> 2010/1/19 Leif Andersen <leif.a.andersen at gmail.com>
>
> > Hello, my name is Leif and I am a student at the University of Utah.  I
> am
> > interested in participating in the Google Summer of Code program if they
> > have it this year.  I would like to create the Wordpress Android App.  I
> am
> > aware of Wptogo, however after seeing a few reviews of it, I believe that
> > it
> > could be much better.  My main question is, assuming that Google will
> have
> > GSoC 2010, and that Wordpress is participating, is the wordpress
> developer
> > community interested at all in having an Android App, or would the idea
> go
> > into deaf ears?
> >
> > I asked this in the #wordpress and #wordpress-dev channels on IRC, and
> they
> > pointed me to hear.  Also, whether or not Google has the GSoC program
> this
> > year, and whether or not I get accepted, I will work on said app
> (assuming
> > that there is any demand for it whatsoever, including myself), it's
> mainly
> > a
> > matter of how much time I will be able to spend on it.
> >
> > Thank you.
> >
> > ~Leif Andersen
> >
>
>
> Hi Leif,
>
> Speaking only for myself, I would welcome a WordPress Android App.
>
> I even considered doing it myself. Though I was thinking of porting the
> official WordPress iPhone app. As open source and aimed at a similar
> platform (in terms of functionality), it seemed like a good place to start.
>
> However lack of time and my reluctance to revive my not-touched-for-a-year
> Java skills have kept me from doing anything about it.
>
> I hope you do get to do the app, whether as GSoC or not.  Good luck.
>
>
> Mike
> --
> Mike Little
> http://zed1.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ravi-lists at g8o.net  Tue Jan 19 14:43:54 2010
From: ravi-lists at g8o.net ( ravi )
Date: Tue, 19 Jan 2010 09:43:54 -0500
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com>
	<4B555278.3050502@mullenweg.com>
	<7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com>
	<394dda561001190302u7d84a79s384195265f366035@mail.gmail.com>
	<2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com>
Message-ID: <FA87C986-AA43-443A-BDE8-CC03CEB0ACC9@g8o.net>

On Jan 19, 2010, at 7:57 AM, Mark Jaquith wrote:
> WordPress is released under the GPL version 2. No "or latest version"
> clause is included. It is "stuck" at version 2, in perpetuity.


Why (perpetuity)?

	?ravi


From jcanals at alkivia.net  Tue Jan 19 14:51:58 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Tue, 19 Jan 2010 15:51:58 +0100
Subject: [wp-hackers] Licensing question
Message-ID: <394dda561001190651j37b16b28x4ac2d81c862908b@mail.gmail.com>

Hello all,

Recently we had an interesting thread about GPL license. On that thread, I
seen that GPLv3 license is not compatible with the WordPress GPLv2 license.

My mistake was because I thought that WordPress was released under the
"GPLv2 or any later version" clause which is not. WordPress is released
under GPLv2 with no "any later version" clause.

What confused me was this codex page for plugin authors
http://codex.wordpress.org/Writing_a_Plugin#License I understod that if
WordPress suggested to release plugins under the GPLv2 license with the "or
any later version" clause was because WordPress itself was released with
this "or any later version" clause. Developers clarified me that no,
WordPress is not compatible with GPLv3 and thus, GPLv3 should not be used
for themes or plugins.

Now, I want to change my themes and plugins license to have it fully
compatible with the GPLv2 license, but don't feel comfortable by using
GPLv2. So, my intention is to release new plugins and themes under the BSD
license (The current three clause) which is fully compatible with GPLv2 and
GPLv3 http://www.fsf.org/licensing/licenses/index_html#GPLCompatibleLicenses

Do you think is any problem by using the BSD license on themes and plugins?
And, is it a good idea to use the BSD license? I always wanted to give other
developers as many freedom as possible to use anything I wrote.

Thanks again for your comments.
--
Jordi Canals
http://alkivia.org
http://jcanals.cat

From jcanals at alkivia.net  Tue Jan 19 14:54:46 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Tue, 19 Jan 2010 15:54:46 +0100
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <FA87C986-AA43-443A-BDE8-CC03CEB0ACC9@g8o.net>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com>
	<4B555278.3050502@mullenweg.com>
	<7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com>
	<394dda561001190302u7d84a79s384195265f366035@mail.gmail.com>
	<2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com>
	<FA87C986-AA43-443A-BDE8-CC03CEB0ACC9@g8o.net>
Message-ID: <394dda561001190654q4fb2d1adk225530ee83f65379@mail.gmail.com>

2010/1/19 [ ravi ] <ravi-lists at g8o.net>

> On Jan 19, 2010, at 7:57 AM, Mark Jaquith wrote:
> > WordPress is released under the GPL version 2. No "or latest version"
> > clause is included. It is "stuck" at version 2, in perpetuity.
>
>
> Why (perpetuity)?
>
>        ?ravi
>
>
This confused me http://codex.wordpress.org/Writing_a_Plugin#License because
the codex suggested to include the "or any later version" clause I thought
that WordPress itself used this clause.
I would suggest to include the linked  disclaimer at the top of all
WordPress code files. This would make it clear and would help to solve
license compatibility issues.

Best regards,
---
Jordi Canals
http://alkivia.org
http://jcanals.cat

From dan at dancoulter.com  Tue Jan 19 15:05:42 2010
From: dan at dancoulter.com (Dan Coulter)
Date: Tue, 19 Jan 2010 09:05:42 -0600
Subject: [wp-hackers] Licensing question
In-Reply-To: <394dda561001190651j37b16b28x4ac2d81c862908b@mail.gmail.com>
References: <394dda561001190651j37b16b28x4ac2d81c862908b@mail.gmail.com>
Message-ID: <5dc2163e1001190705v219be16ewd705a6584cd57478@mail.gmail.com>

On Tue, Jan 19, 2010 at 8:51 AM, Jordi Canals <jcanals at alkivia.net> wrote:

> Do you think is any problem by using the BSD license on themes and plugins?
> And, is it a good idea to use the BSD license? I always wanted to give
> other
> developers as many freedom as possible to use anything I wrote.
>

The way I understand it (and someone will correct me if I'm wrong), you can
use a BSD licensed library in GPL software, but you cannot build a BSD
plugin for WordPress.  GPLv2 says this:

"You must cause any work that you distribute or publish, that in whole or in
part contains or is derived from the Program or any part thereof, to be
licensed as a whole at no charge to all third parties under the terms of
this License."

-- 
Dan Coulter
http://dancoulter.com/
http://phpflickr.com/
http://blogsforbands.com/

Hey, I got nothing to do today but smile
-Simon and Garfunkel

From otto at ottodestruct.com  Tue Jan 19 15:11:44 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 19 Jan 2010 09:11:44 -0600
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <394dda561001190529r7fb451ddv58e70b0dc90d5bfd@mail.gmail.com>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com> 
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com> 
	<4B555278.3050502@mullenweg.com>
	<7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com> 
	<394dda561001190302u7d84a79s384195265f366035@mail.gmail.com> 
	<2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com> 
	<394dda561001190529r7fb451ddv58e70b0dc90d5bfd@mail.gmail.com>
Message-ID: <161617691001190711o2c19d8f6n9c1d460702d3178c@mail.gmail.com>

On Tue, Jan 19, 2010 at 7:29 AM, Jordi Canals <jcanals at alkivia.net> wrote:
> Just I would suggest to add the "or any later version" to make it more
> compatible with new GPL versions. Just a suggestion.

A suggestion that I hope is ignored, as I would have to cease using
WordPress at that point.

I will not use nor contribute to GPLv3 software.

-Otto
Sent from Memphis, TN, United States

From jcanals at alkivia.net  Tue Jan 19 15:16:04 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Tue, 19 Jan 2010 16:16:04 +0100
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <161617691001190711o2c19d8f6n9c1d460702d3178c@mail.gmail.com>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com>
	<4B555278.3050502@mullenweg.com>
	<7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com>
	<394dda561001190302u7d84a79s384195265f366035@mail.gmail.com>
	<2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com>
	<394dda561001190529r7fb451ddv58e70b0dc90d5bfd@mail.gmail.com>
	<161617691001190711o2c19d8f6n9c1d460702d3178c@mail.gmail.com>
Message-ID: <394dda561001190716g7b759f79l26ff549fb6d12c83@mail.gmail.com>

2010/1/19 Otto <otto at ottodestruct.com>

> On Tue, Jan 19, 2010 at 7:29 AM, Jordi Canals <jcanals at alkivia.net> wrote:
> > Just I would suggest to add the "or any later version" to make it more
> > compatible with new GPL versions. Just a suggestion.
>
> A suggestion that I hope is ignored, as I would have to cease using
> WordPress at that point.
>
> I will not use nor contribute to GPLv3 software.
>
>
Wgy not? would be interesting to know this and the benefits to stay with the
version 2 only.

--
Jordi Canals
http://alkivia.org
http://jcanals.cat

From jcanals at alkivia.net  Tue Jan 19 15:20:17 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Tue, 19 Jan 2010 16:20:17 +0100
Subject: [wp-hackers] Licensing question
In-Reply-To: <5dc2163e1001190705v219be16ewd705a6584cd57478@mail.gmail.com>
References: <394dda561001190651j37b16b28x4ac2d81c862908b@mail.gmail.com>
	<5dc2163e1001190705v219be16ewd705a6584cd57478@mail.gmail.com>
Message-ID: <394dda561001190720n42dafe80qe992b7440101cb7f@mail.gmail.com>

2010/1/19 Dan Coulter <dan at dancoulter.com>

> On Tue, Jan 19, 2010 at 8:51 AM, Jordi Canals <jcanals at alkivia.net> wrote:
>
> > Do you think is any problem by using the BSD license on themes and
> plugins?
> > And, is it a good idea to use the BSD license? I always wanted to give
> > other
> > developers as many freedom as possible to use anything I wrote.
> >
>
> The way I understand it (and someone will correct me if I'm wrong), you can
> use a BSD licensed library in GPL software, but you cannot build a BSD
> plugin for WordPress.  GPLv2 says this:
>
> "You must cause any work that you distribute or publish, that in whole or
> in
> part contains or is derived from the Program or any part thereof, to be
> licensed as a whole at no charge to all third parties under the terms of
> this License."
>
>
I know, but BSD is a compatible license with GPLv2
http://www.fsf.org/licensing/licenses/index_html#GPLCompatibleLicenses
And found in the codex that building plugins by using any compatible license
is allowed. http://codex.wordpress.org/Writing_a_Plugin#License
Themes and plugins just combine with WordPress, them do not  distribute nor
publish WordPress code, just combine with the code to give more or different
functionality.

--
Jordi Canals
http://alkivia.org
http://jcanals.cat

From wordpress at zed1.com  Tue Jan 19 15:28:50 2010
From: wordpress at zed1.com (Mike Little)
Date: Tue, 19 Jan 2010 15:28:50 +0000
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <394dda561001190716g7b759f79l26ff549fb6d12c83@mail.gmail.com>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com> 
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com> 
	<4B555278.3050502@mullenweg.com>
	<7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com> 
	<394dda561001190302u7d84a79s384195265f366035@mail.gmail.com> 
	<2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com> 
	<394dda561001190529r7fb451ddv58e70b0dc90d5bfd@mail.gmail.com> 
	<161617691001190711o2c19d8f6n9c1d460702d3178c@mail.gmail.com> 
	<394dda561001190716g7b759f79l26ff549fb6d12c83@mail.gmail.com>
Message-ID: <7235ce781001190728u387bf365ue652937b9d3409cd@mail.gmail.com>

2010/1/19 Jordi Canals <jcanals at alkivia.net>

> 2010/1/19 Otto <otto at ottodestruct.com>
>
> >
> > I will not use nor contribute to GPLv3 software.
> >
> >
> Wgy not? would be interesting to know this and the benefits to stay with
> the
> version 2 only.
>
>
>
Not on this list please! This thread has gone on long enough and strayed far
from the original query.

Mike
-- 
Mike Little
http://zed1.com/

From wp-hackers at nicolaskuttler.de  Tue Jan 19 15:30:27 2010
From: wp-hackers at nicolaskuttler.de (Jean-Nicolas Kuttler)
Date: Tue, 19 Jan 2010 16:30:27 +0100
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com>
	<4B555278.3050502@mullenweg.com>
	<7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com>
	<394dda561001190302u7d84a79s384195265f366035@mail.gmail.com>
	<2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com>
Message-ID: <20100119153027.GL15454@nicolaskuttler.de>

On Tue, Jan 19, 2010 at 07:57:38AM -0500, Mark Jaquith wrote:
> WordPress is released under the GPL version 2. No "or latest version"
> clause is included. It is "stuck" at version 2, in perpetuity. As

This doesn't seem to be true, from section 9 of the GPL v2: "If the Program does not specify a version number of this License, you may choose any version ever published by the Free Software Foundation."

The only reference to a specific GPL version I can find in WordPress is in xmlrpc.php: * @license GPL v2

Simply including the GPL v2 text with the source makes it v2 or "any version ever published by the FSF" as I understand it. I think this should definitely be clarified in the source, as described in http://www.gnu.org/licenses/gpl-2.0.html#SEC4

Nicolas

--
Nicolas Kuttler
wp at nkuttler.de

From leif.a.andersen at gmail.com  Tue Jan 19 15:31:30 2010
From: leif.a.andersen at gmail.com (Leif Andersen)
Date: Tue, 19 Jan 2010 08:31:30 -0700
Subject: [wp-hackers] Wordpress Android App
In-Reply-To: <bc2915771001190626l686a285dgd3acd3904dd8d636@mail.gmail.com>
References: <f55773ba1001181826o793fbed1o73227c0d8de20919@mail.gmail.com> 
	<7235ce781001190111h681f76b8qc33c77570e036200@mail.gmail.com> 
	<bc2915771001190626l686a285dgd3acd3904dd8d636@mail.gmail.com>
Message-ID: <f55773ba1001190731r53c0b214md0b63aeac50e7cb1@mail.gmail.com>

Thank you.

@Mike, I don't know how successful porting the iPhone app directly would
be.  While someone could take the general structure of the app, I have yet
to see a line of Objective-C that would pass as a line of Java (with the
exception of lines that only contain braces), even the getters and setters
are different.

@Spamboy, I agree.  Keeping the two apps similar will be the biggest
challenge.  With the second biggest challenge plugging the app into the
wordpress framework, however, I do believe I could use code from the iPhone
App on that.

~Leif

On Tue, Jan 19, 2010 at 07:26, Spamboy <ninodespam at gmail.com> wrote:

> Although I don't have an Android phone, I believe that a WordPress
> application for that platform should be produced.
>
> The trick you should be prepared to pull off are:
>
>   1. Keeping the feature sets similar between the iPhone and Android
>   applications
>   2. Ensuring that bugs and features rolled out in one application are
>   quickly followed by the other
>
> SB
>
> On Tue, Jan 19, 2010 at 3:11 AM, Mike Little <wordpress at zed1.com> wrote:
>
> > 2010/1/19 Leif Andersen <leif.a.andersen at gmail.com>
> >
> > > Hello, my name is Leif and I am a student at the University of Utah.  I
> > am
> > > interested in participating in the Google Summer of Code program if
> they
> > > have it this year.  I would like to create the Wordpress Android App.
>  I
> > am
> > > aware of Wptogo, however after seeing a few reviews of it, I believe
> that
> > > it
> > > could be much better.  My main question is, assuming that Google will
> > have
> > > GSoC 2010, and that Wordpress is participating, is the wordpress
> > developer
> > > community interested at all in having an Android App, or would the idea
> > go
> > > into deaf ears?
> > >
> > > I asked this in the #wordpress and #wordpress-dev channels on IRC, and
> > they
> > > pointed me to hear.  Also, whether or not Google has the GSoC program
> > this
> > > year, and whether or not I get accepted, I will work on said app
> > (assuming
> > > that there is any demand for it whatsoever, including myself), it's
> > mainly
> > > a
> > > matter of how much time I will be able to spend on it.
> > >
> > > Thank you.
> > >
> > > ~Leif Andersen
> > >
> >
> >
> > Hi Leif,
> >
> > Speaking only for myself, I would welcome a WordPress Android App.
> >
> > I even considered doing it myself. Though I was thinking of porting the
> > official WordPress iPhone app. As open source and aimed at a similar
> > platform (in terms of functionality), it seemed like a good place to
> start.
> >
> > However lack of time and my reluctance to revive my
> not-touched-for-a-year
> > Java skills have kept me from doing anything about it.
> >
> > I hope you do get to do the app, whether as GSoC or not.  Good luck.
> >
> >
> > Mike
> > --
> > Mike Little
> > http://zed1.com/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Tue Jan 19 15:40:58 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 19 Jan 2010 09:40:58 -0600
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <20100119153027.GL15454@nicolaskuttler.de>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com> 
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com> 
	<4B555278.3050502@mullenweg.com>
	<7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com> 
	<394dda561001190302u7d84a79s384195265f366035@mail.gmail.com> 
	<2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com> 
	<20100119153027.GL15454@nicolaskuttler.de>
Message-ID: <161617691001190740l71f2883j792cfef626ae0da@mail.gmail.com>

On Tue, Jan 19, 2010 at 9:30 AM, Jean-Nicolas Kuttler
<wp-hackers at nicolaskuttler.de> wrote:
> This doesn't seem to be true, from section 9 of the GPL v2: "If the Program does not specify a version number of this License, you may choose any version ever published by the Free Software Foundation."

The WordPress license is included with WordPress, in license.txt.
Nowhere does it say any other license is potentially valid.

Also, you are mistaken about the "any other version" bit. That is
definitely not the case.

However, I agree with Mike Little, this discussion isn't really suited
for this list. Email me directly if you want to talk further about it.

-Otto
Sent from Memphis, TN, United States

From wordpress at zed1.com  Tue Jan 19 15:44:24 2010
From: wordpress at zed1.com (Mike Little)
Date: Tue, 19 Jan 2010 15:44:24 +0000
Subject: [wp-hackers] Licensing question
In-Reply-To: <394dda561001190651j37b16b28x4ac2d81c862908b@mail.gmail.com>
References: <394dda561001190651j37b16b28x4ac2d81c862908b@mail.gmail.com>
Message-ID: <7235ce781001190744l13f03e2rc67f873cb3f0c5bf@mail.gmail.com>

2010/1/19 Jordi Canals <jcanals at alkivia.net>

> ...
> And, is it a good idea to use the BSD license? I always wanted to give
> other
> developers as many freedom as possible to use anything I wrote.
>
>
The three clause BSD is not copyleft. It does not explicitly guarantee
user's rights on redistributed versions. See
http://www.gnu.org/philosophy/x.html

There you have the fundamental difference: BSD is about developers rights,
GPL is about User's rights.


Mike
-- 
Mike Little
http://zed1.com/

From otto at ottodestruct.com  Tue Jan 19 15:46:36 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 19 Jan 2010 09:46:36 -0600
Subject: [wp-hackers] Licensing question
In-Reply-To: <5dc2163e1001190705v219be16ewd705a6584cd57478@mail.gmail.com>
References: <394dda561001190651j37b16b28x4ac2d81c862908b@mail.gmail.com> 
	<5dc2163e1001190705v219be16ewd705a6584cd57478@mail.gmail.com>
Message-ID: <161617691001190746w649f1cb7v3400e5bf99ac9ecd@mail.gmail.com>

On Tue, Jan 19, 2010 at 9:05 AM, Dan Coulter <dan at dancoulter.com> wrote:
> The way I understand it (and someone will correct me if I'm wrong), you can
> use a BSD licensed library in GPL software, but you cannot build a BSD
> plugin for WordPress. ?GPLv2 says this:
>
> "You must cause any work that you distribute or publish, that in whole or in
> part contains or is derived from the Program or any part thereof, to be
> licensed as a whole at no charge to all third parties under the terms of
> this License."

The BSD license is actually less restrictive than the GPL, so it's
perfectly valid to release a plugin/theme under it.

It's not acceptable to take existing GPL code (which you did not
write), and release it under a BSD license. But code that you create,
you own, and can release under any license you like. If it's
derivative of WP then it needs to be GPL-compatible only.

Jordi, whether you want to use BSD licensing or not is up to you. BSD
licensing is as close to a no-restrictions license that there is. If
you're comfortable with somebody taking your code and incorporating it
into a closed-source system, then BSD is the way to go. Else, GPLv2
would be recommended.

-Otto
Sent from Memphis, TN, United States

From otto at ottodestruct.com  Tue Jan 19 15:58:32 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 19 Jan 2010 09:58:32 -0600
Subject: [wp-hackers] Widget API, Widget Wrapper Functionality
In-Reply-To: <4B54909F.5030604@bugssite.org>
References: <4B54909F.5030604@bugssite.org>
Message-ID: <161617691001190758t6e648927x77cea1c5ef6c5305@mail.gmail.com>

On Mon, Jan 18, 2010 at 10:47 AM, Shane A. Froebel <shane at bugssite.org> wrote:
> Right now we use:
>
> $args = array(
> ?'before_widget' => '<li id="%1$s" class="widget %2$s">',
> ?'after_widget' => "</li>n",
> ?'before_title' => '<h2 class="widgettitle">',
> ?'after_title' => "</h2>n"
> );
> register_sidebar( $args );
>
> This is fine for single blogs where there is only one theme to edit and
> worry about, but if a MU site starts to support many different styles of
> theme, this way might be beneficial to all MU site owners where they
> don't have to worry about 2 or 5 CSS files to maintain.

I'm not following you here. That code is in the theme. It's in each
and every theme. The theme itself defines how the widgets will look.

The existing widget code already works on MU. Look at wordpress.com,
for example.

What is it that doesn't work about this, exactly?

-Otto
Sent from Memphis, TN, United States

From jcanals at alkivia.net  Tue Jan 19 15:58:50 2010
From: jcanals at alkivia.net (Jordi Canals)
Date: Tue, 19 Jan 2010 16:58:50 +0100
Subject: [wp-hackers] Licensing question
In-Reply-To: <161617691001190746w649f1cb7v3400e5bf99ac9ecd@mail.gmail.com>
References: <394dda561001190651j37b16b28x4ac2d81c862908b@mail.gmail.com>
	<5dc2163e1001190705v219be16ewd705a6584cd57478@mail.gmail.com>
	<161617691001190746w649f1cb7v3400e5bf99ac9ecd@mail.gmail.com>
Message-ID: <394dda561001190758h666ba095t3e42d8f1b37c6103@mail.gmail.com>

Mike, Otto,

Thanks for clarifying and commenting. This makes all this clear.
Now I suggest not to continue discussing this topic as I think we are going
off-topic in the list.

Best regards,
--
Jordi Canals
http://alkivia.org
http://jcanals.cat

From otto at ottodestruct.com  Tue Jan 19 16:05:23 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 19 Jan 2010 10:05:23 -0600
Subject: [wp-hackers] Error wp_usermeta: Table
	'xxxx.wp_usermeta'doesn'texist
In-Reply-To: <00ca01ca9853$92639df0$6401a8c0@dell8600>
References: <271201ca977f$2e6df7c0$6401a8c0@dell8600>
	<71ddd7491001171356m1953eafk981a6b8840fe436d@mail.gmail.com> 
	<278501ca97dc$d23fdb40$6401a8c0@dell8600>
	<dc89e3ef1001171904x2792ca09wcb6c8230f732c892@mail.gmail.com> 
	<00ca01ca9853$92639df0$6401a8c0@dell8600>
Message-ID: <161617691001190805n34c661d9i7e1a16f585781caf@mail.gmail.com>

Probably no simple diagnosis without access to this problematic host.

However, it is noteworthy that the usermeta table is the last table to
be created in a new installation. That is probably relevant in some
manner.

-Otto
Sent from Memphis, TN, United States


On Mon, Jan 18, 2010 at 9:33 AM, Michael E. Hancock
<justmichaelh at gmail.com> wrote:
>>> On Sun, Jan 17, 2010 at 9:13 AM, Michael E. Hancock
>>> If anyone could shed light on how to solve the error "wp_usermeta: Table
>>> 'xxxxx.wp_usermeta' doesn't exist" it would be much appreciated. One of
>>> a
>>> number of Support Forum threads where this error is reported:
>>> http://wordpress.org/support/topic/353209
>>>
>>> Seems to be happening on free.fr hosting when installing WordPress.
>
>> From: "Aaron Jorbin
>> Are you sure the mysql user that wordpress uses has sufficient privileges
>> to create tables?
>
>
> That's the weird thing, it creates the other WordPress tables so the
> assumption is that the privileges are correct.
>
> Thanks Aaron.
>
> Michael
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Tue Jan 19 16:08:25 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 19 Jan 2010 10:08:25 -0600
Subject: [wp-hackers] adding more than 4 widgets to default sidebar
In-Reply-To: <e1202cb11001180840p3e6cff5ereec17a870061733@mail.gmail.com>
References: <4B52274E.5030008@ntlworld.com>
	<349fe48b1001161308w2bb61b04u2a3ce69d3cab4f17@mail.gmail.com> 
	<4B530111.9050807@ntlworld.com>
	<e1202cb11001180840p3e6cff5ereec17a870061733@mail.gmail.com>
Message-ID: <161617691001190808r5adbbe01n4716b219458a45a2@mail.gmail.com>

Yep. Also, slow down. The widgets interface sends changes back to the
server to be saved. If you're on slow hosting, this might take a
while, and you won't see anything happening on the front end that
indicates the saving is still occurring. Meaning that sometimes you
need to wait a minute for changes you make in the interface to
actually happen.

So just be patient. Wait for things. It tends to work better if you do that.

-Otto
Sent from Memphis, TN, United States


On Mon, Jan 18, 2010 at 10:40 AM, Jeremy Clarke <jer at simianuprising.com> wrote:
> On Sun, Jan 17, 2010 at 7:22 AM, Chris <chris.hearn01 at ntlworld.com> wrote:
>> After all that, I must say the 2.9 interface is lovely compared to earlier
>> 2.2 - so good work by the many contributors, which I greatly appreciate!
>
> I've always found the widgets UI javascript to be a bit wonky. If your
> screen is huge then it works pretty smoothly, but the smaller your
> viewport the more bugs you encounter.
>
> The solution is usually just to do like you say, drag the widgets
> around and be patient, which in my experience always gets me to the
> finish line.
>
> --
> Jeremy Clarke | http://jeremyclarke.org
> Code and Design | http://globalvoicesonline.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jer at simianuprising.com  Tue Jan 19 16:41:27 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Tue, 19 Jan 2010 11:41:27 -0500
Subject: [wp-hackers] Plugin meta suggestion: demo page URL
In-Reply-To: <6B4348D3-0862-432A-8997-967AA91E5D81@striderweb.com>
References: <4B50B33A.7020504@gunters.org>
	<6B4348D3-0862-432A-8997-967AA91E5D81@striderweb.com>
Message-ID: <e1202cb11001190841v1d0a3b4j2e1936a9f9704103@mail.gmail.com>

-1 for reasons already stated.

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From cal at calvinfreitas.com  Tue Jan 19 20:44:07 2010
From: cal at calvinfreitas.com (Calvin Freitas)
Date: Tue, 19 Jan 2010 12:44:07 -0800
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com> 
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com> 
	<4B555278.3050502@mullenweg.com>
	<7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com> 
	<394dda561001190302u7d84a79s384195265f366035@mail.gmail.com> 
	<2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com>
Message-ID: <371a0b2a1001191244i4c7aee15g341023655846c9d4@mail.gmail.com>

Am I correct in understanding the MIT License (aka X11 License) to be
compatible with the GPL v2?  The FSF indicates it is so:
http://www.fsf.org/licensing/licenses/index_html#GPLCompatibleLicenses

<http://www.fsf.org/licensing/licenses/index_html#GPLCompatibleLicenses>I've
been releasing my recent plugins/code under the MIT License.

Thanks,

Calvin Freitas
cal at calvinfreitas.com
http://calvinf.com/
http://www.wordcampseattle.com/

On Tue, Jan 19, 2010 at 4:57 AM, Mark Jaquith <markjaquith at gmail.com> wrote:
>
> As such, licensing plugins or theme code under the GPL version 3 is a
> problem, as that isn't compatible with WordPress' license. We've been
> admittedly lax about pressing this distinction... it may be time to
> start taking a closer look and making sure people are using the GPL
> version 2 (or another *compatible* license).

From ozh at planetozh.com  Tue Jan 19 21:30:11 2010
From: ozh at planetozh.com (Ozh)
Date: Tue, 19 Jan 2010 22:30:11 +0100
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <371a0b2a1001191244i4c7aee15g341023655846c9d4@mail.gmail.com>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com>
	<4B555278.3050502@mullenweg.com>
	<7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com>
	<394dda561001190302u7d84a79s384195265f366035@mail.gmail.com>
	<2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com>
	<371a0b2a1001191244i4c7aee15g341023655846c9d4@mail.gmail.com>
Message-ID: <ae81acd11001191330q2644eed1u7b3ca1809c1ef9e4@mail.gmail.com>

~$ mv thread wp-zomglicense

Seriously, a mailing list about license matters would be killer. I
think I've been reading this list for 12 years now and I've never seen
any discussion going somewhere on that topic.

</rant>

Ozh

From mikeschinkel at newclarity.net  Tue Jan 19 22:37:57 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 19 Jan 2010 17:37:57 -0500
Subject: [wp-hackers] [ wp-hackers ] A question about donation link
In-Reply-To: <ae81acd11001191330q2644eed1u7b3ca1809c1ef9e4@mail.gmail.com>
References: <394dda561001151132y4458c888we103634fa8e70175@mail.gmail.com>
	<20100115213604.9D65D180239E0@dd19416.kasserver.com>
	<394dda561001151347s16a621ceq5e4d4d05fd198e30@mail.gmail.com>
	<4B555278.3050502@mullenweg.com>
	<7235ce781001190206g5f14af16rf77a7853a59d8640@mail.gmail.com>
	<394dda561001190302u7d84a79s384195265f366035@mail.gmail.com>
	<2979bd661001190457ubcc79e9i706a2e759804c19b@mail.gmail.com>
	<371a0b2a1001191244i4c7aee15g341023655846c9d4@mail.gmail.com>
	<ae81acd11001191330q2644eed1u7b3ca1809c1ef9e4@mail.gmail.com>
Message-ID: <95DCED1D-40DC-4860-954C-39BE2E0E7988@newclarity.net>

On Jan 19, 2010, at 4:30 PM, Ozh wrote:
> Seriously, a mailing list about license matters would be killer. I
> think I've been reading this list for 12 years now 

Amazing!  Have you also been able to read the WSJ five years in advance to make a killing on the market too? ;-p

-Mike

From kontakt at joernroeder.de  Wed Jan 20 06:30:15 2010
From: kontakt at joernroeder.de (=?iso-8859-1?Q?J=F6rn_R=F6der?=)
Date: Wed, 20 Jan 2010 07:30:15 +0100
Subject: [wp-hackers] Flash getting content from XML
In-Reply-To: <4ede8f491001181039r5d951bd9w94770223e0fe827e@mail.gmail.com>
References: <4ede8f491001181037t12059db2v31a1821ee240f5d4@mail.gmail.com>
	<4ede8f491001181039r5d951bd9w94770223e0fe827e@mail.gmail.com>
Message-ID: <B143AE9E-07E8-49F4-9C91-A404E293ED68@joernroeder.de>

Hi know, that some guys connect flash with wp via amfphp. its a little bit older, but it works?

Am 18.01.2010 um 19:39 schrieb Vinicius Massuchetto:

> Oh... I forgot.
> 
> If I just open the flash without Wordpress it works nice, but once I
> embed it on the code it gets nothing.
> --
> Vin?cius Massuchetto
> 
> 
> On Mon, Jan 18, 2010 at 4:37 PM, Vinicius Massuchetto
> <viniciusandre at gmail.com> wrote:
>> Hi all!
>> 
>> I'm having this problem where my template has a flash object that gets
>> some images URLs from a XML file. The flash is OK, but no images are
>> displayed. I tried to put the full path to the images into the XML and
>> so, but nothing seems to work.
>> 
>> I'm not quite sure how to make this properly on Wordpress.
>> 
>> Thanks.
>> --
>> Vin?cius Massuchetto
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From malaiac at gmail.com  Wed Jan 20 08:50:45 2010
From: malaiac at gmail.com (Malaiac)
Date: Wed, 20 Jan 2010 09:50:45 +0100
Subject: [wp-hackers] Backpress status ?
Message-ID: <59e7f3131001200050i46276c07hcb9a4596c2abd321@mail.gmail.com>

is there any "live" medium for backpress ? to get a quick view of
recent changes / roadmap / discussion ? there is not much on trac
Is Backpress supposed to be updated with WP 3.0 modifications ?

I'm considering using backpress to support an ecommerce website.

M

From adamholz at gmail.com  Wed Jan 20 10:04:02 2010
From: adamholz at gmail.com (Adam Holzband)
Date: Wed, 20 Jan 2010 04:04:02 -0600
Subject: [wp-hackers] Query to return only posts that have an image
	attachment
Message-ID: <d26211d51001200204h2cc0cad1n512e86b8ab635805@mail.gmail.com>

Hello all...

I am hoping for some guidance on a query:  I have a category template with a
normal loop.  Inside the loop, I run get_children to determine if the post
has an image attachment - if it does, I display it and if not the loop moves
on to the next post.  I would like to adjust the template to query only
posts containing an attachment so that the page displays the full count of
posts per page.  What is the best way to accomplish this, and if it's
adjusting the SQL what's the most efficient query?

Thanks for your help.

From viniciusandre at gmail.com  Wed Jan 20 10:22:43 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Wed, 20 Jan 2010 08:22:43 -0200
Subject: [wp-hackers] Flash getting content from XML
In-Reply-To: <4B56A63C.3080708@armeda.com>
References: <4ede8f491001181037t12059db2v31a1821ee240f5d4@mail.gmail.com>
	<4ede8f491001181039r5d951bd9w94770223e0fe827e@mail.gmail.com>
	<B143AE9E-07E8-49F4-9C91-A404E293ED68@joernroeder.de>
	<4B56A63C.3080708@armeda.com>
Message-ID: <4ede8f491001200222wed46c05ofcc5bcecea11e5ea@mail.gmail.com>

On Wed, Jan 20, 2010 at 4:44 AM, Dre Armeda <feeds at armeda.com> wrote:
> Make sure that you are using absolute paths for every URL used, whether in
> the XML or in the movie, etc.

Everything is using bloginfo().

>?How are you embedding the flash movie into
> the site? Are you using the default javascript made by Flash?

Yes. I tried KML FlashEmbed plugin, but got the same result.

Thanks.
--
Vinicius Massuchetto
http://vinicius.soylocoporti.org.br

From leif.a.andersen at gmail.com  Wed Jan 20 13:22:02 2010
From: leif.a.andersen at gmail.com (Leif Andersen)
Date: Wed, 20 Jan 2010 06:22:02 -0700
Subject: [wp-hackers] Backpress status ?
In-Reply-To: <59e7f3131001200050i46276c07hcb9a4596c2abd321@mail.gmail.com>
References: <59e7f3131001200050i46276c07hcb9a4596c2abd321@mail.gmail.com>
Message-ID: <f55773ba1001200522i448d130au990cc4b72570c9cf@mail.gmail.com>

First of all, I would like to say wow, I never knew that backpress existed,
and now thee's also something called glotpress?  I find all of these Xpress
packages amusing.

Anyway, a simple Google search said no.  The download page of the website
http://backpress.org/download/ says that you can get the SVN though.

I may be wrong on this, as until 3 minutes ago, I never knew this project
existed.

~Leif
----------
The All New Unctuous Rants of Leif Andersen:
http://leifandersen.net


On Wed, Jan 20, 2010 at 01:50, Malaiac <malaiac at gmail.com> wrote:

> is there any "live" medium for backpress ? to get a quick view of
> recent changes / roadmap / discussion ? there is not much on trac
> Is Backpress supposed to be updated with WP 3.0 modifications ?
>
> I'm considering using backpress to support an ecommerce website.
>
> M
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp-hackers at nicolaskuttler.de  Wed Jan 20 14:36:06 2010
From: wp-hackers at nicolaskuttler.de (Jean-Nicolas Kuttler)
Date: Wed, 20 Jan 2010 15:36:06 +0100
Subject: [wp-hackers] patch slug filter Re: New plugin for plugin authors	to
	showcase their plugins on their site
In-Reply-To: <2979bd661001160846v575343dfnab294ad6718853e0@mail.gmail.com>
References: <2979bd661001160846v575343dfnab294ad6718853e0@mail.gmail.com>
Message-ID: <20100120143606.GD18275@nicolaskuttler.de>

Hello Mark,

I have added a patch to fix the following problem: I have a few plugins with badly chosen names and their page slug is different than the plugin name for SEO reasons. The patch:

diff --git a/i-make-plugins.php b/i-make-plugins.php
index a211b7d..bfa6bf0 100644
--- a/i-make-plugins.php
+++ b/i-make-plugins.php
@@ -61,6 +61,8 @@ function cws_imp_get_plugin_readme( $page_id ) {
 	$page = get_page( $page_id );
 	$slug = $page->post_name;
 
+	$slug = apply_filters( 'cws_imp_page_slug', $slug );
+
 	global $cws_imp_readme_cache;
 
 	// First, try in-memory cache

As you see it simply adds a filter that I can call from my theme.

The second patch just adds a little documentation that's probably important for some users. I'm not a good technical writer so feel free to change it!

diff --git a/readme.txt b/readme.txt
index afe4fc6..0906830 100644
--- a/readme.txt
+++ b/readme.txt
@@ -15,6 +15,8 @@ This plugin is for WordPress plugin __authors__, not __users__. It showcases you
 == Installation ==
 
 1. You're a plugin author. I really hope you know how to install plugins.
+2. There is a filter cws_imp_plugin_body that is run on the readme.txt before putting it on a page. You can use it to remove parts, inject plugin demo output etc. 
+3. If the slug for your plugin's page isn't the same as the plugin name you can use the cws_imp_page_slug filter to modify the page slug before this plugin tries to find a matching plugin.
 
 == Frequently Asked Questions ==
 
Thanks for this great plugin!

Nicolas

P.S. If you ever get around to looking into the unicode issue I wrote about on the list I would be very grateful.

On Sat, Jan 16, 2010 at 11:46:03AM -0500, Mark Jaquith wrote:
> Like many plugin authors here, I have many of my plugins in the wp.org
> repository, but I also want to showcase them on my own site. Until
> now, I've been managing them on my site manually. This has proved to
> be a giant pain ? so much so that it makes me dread updating my
> plugins, as I know it'll involve a tedious update of their
> representative pages on my site.
> 
> I wrote a plugin to remedy this.
> 
> http://txfx.net/wordpress-plugins/i-make-plugins/
> 
> In order to make the page above, I did the following:
> 
> 1. Pages > Add New
> 2. Title: I Make Plugins
> 3. Parent Page: WordPress Plugins
> 4. Publish
> 
> That's it! It's getting all its info from the plugin repository, using
> the API calls available within WordPress. The info is cached in
> postmeta, with an expiration.
> 
> It also auto-populates the listing page:
> 
> http://txfx.net/wordpress-plugins/
> 
> Both pages have templates (using WP shortcodes, of course) so that you
> can customize their layout.
> 
> Now you can manage your personal plugins showcase just by updating
> their readme.txt file. Hope this is of some use to you!
> 
> -- 
> Mark Jaquith
> ? http://markjaquith.com/
> ? http://coveredwebservices.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

Nicolas

--
Nicolas Kuttler
wp at nkuttler.de

From eric at eamann.com  Wed Jan 20 16:06:07 2010
From: eric at eamann.com (Eric Mann)
Date: Wed, 20 Jan 2010 08:06:07 -0800
Subject: [wp-hackers] Query to return only posts that have an
	image	attachment
In-Reply-To: <d26211d51001200204h2cc0cad1n512e86b8ab635805@mail.gmail.com>
References: <d26211d51001200204h2cc0cad1n512e86b8ab635805@mail.gmail.com>
Message-ID: <00a001ca99ea$7aabd900$70038b00$@com>

Can you give us a link to a postbin containing your code?  That will make it
easier to help you adjust your query.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Adam Holzband
Sent: Wednesday, January 20, 2010 2:04 AM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Query to return only posts that have an image
attachment

Hello all...

I am hoping for some guidance on a query:  I have a category template with a
normal loop.  Inside the loop, I run get_children to determine if the post
has an image attachment - if it does, I display it and if not the loop moves
on to the next post.  I would like to adjust the template to query only
posts containing an attachment so that the page displays the full count of
posts per page.  What is the best way to accomplish this, and if it's
adjusting the SQL what's the most efficient query?

Thanks for your help.
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From Jesse.Silverstein at xerox.com  Wed Jan 20 16:39:59 2010
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Wed, 20 Jan 2010 08:39:59 -0800
Subject: [wp-hackers] Flash getting content from XML
In-Reply-To: <4ede8f491001200222wed46c05ofcc5bcecea11e5ea@mail.gmail.com>
References: <4ede8f491001181037t12059db2v31a1821ee240f5d4@mail.gmail.com><4ede8f491001181039r5d951bd9w94770223e0fe827e@mail.gmail.com><B143AE9E-07E8-49F4-9C91-A404E293ED68@joernroeder.de><4B56A63C.3080708@armeda.com>
	<4ede8f491001200222wed46c05ofcc5bcecea11e5ea@mail.gmail.com>
Message-ID: <42DF740CBF5256498541B6CA6DB6E56D05B804C7@USA7061MS03.na.xerox.net>

You may want to try the SWFObject library. I'm using it in Trailmeme for WordPress <http://wordpress.org/extend/plugins/wordtrails>, passing a lot of data to and from Flash via XML, and it works great.

Out of curiosity, are you sending Flash the encoded URL to fetch the XML from, or are you sending straight XML as a string to be parsed by Flash? Either way, are you complying with XHTML with your encodings? That could be messing with you.

I'm not sure if this will help, but if you want to see a live demo of XML passing to Flash via SWFObject, try <http://blog.trailmeme.com/trails> and click any of the View Map buttons.

-Jesse

> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-
> bounces at lists.automattic.com] On Behalf Of Vinicius Massuchetto
> Sent: Wednesday, January 20, 2010 5:23 AM
> To: Wordpress Hackers
> Subject: Re: [wp-hackers] Flash getting content from XML
> 
> On Wed, Jan 20, 2010 at 4:44 AM, Dre Armeda <feeds at armeda.com> wrote:
> > Make sure that you are using absolute paths for every URL used,
> whether in
> > the XML or in the movie, etc.
> 
> Everything is using bloginfo().
> 
> >?How are you embedding the flash movie into
> > the site? Are you using the default javascript made by Flash?
> 
> Yes. I tried KML FlashEmbed plugin, but got the same result.
> 
> Thanks.
> --
> Vinicius Massuchetto
> http://vinicius.soylocoporti.org.br
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From james at om4.com.au  Wed Jan 20 20:37:00 2010
From: james at om4.com.au (James Collins)
Date: Thu, 21 Jan 2010 07:37:00 +1100
Subject: [wp-hackers] Backpress status ?
In-Reply-To: <59e7f3131001200050i46276c07hcb9a4596c2abd321@mail.gmail.com>
References: <59e7f3131001200050i46276c07hcb9a4596c2abd321@mail.gmail.com>
Message-ID: <bcf8d3151001201237w38f37d7cm23bdfdfc86b4cbcb@mail.gmail.com>

I know that http://backpress.org/ was started recently (by Beau). There
isn't very much information on the site yet though.

The BackPress trac revision log is here:
http://backpress.automattic.com/log/

As for a road map, I'm not sure but westi seems to be the only committing
changes in recent months.

Regards,

James Collins



2010/1/20 Malaiac <malaiac at gmail.com>

> is there any "live" medium for backpress ? to get a quick view of
> recent changes / roadmap / discussion ? there is not much on trac
> Is Backpress supposed to be updated with WP 3.0 modifications ?
>
> I'm considering using backpress to support an ecommerce website.
>
> M
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peter.westwood at ftwr.co.uk  Wed Jan 20 21:08:11 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 20 Jan 2010 21:08:11 +0000
Subject: [wp-hackers] Backpress status ?
In-Reply-To: <59e7f3131001200050i46276c07hcb9a4596c2abd321@mail.gmail.com>
References: <59e7f3131001200050i46276c07hcb9a4596c2abd321@mail.gmail.com>
Message-ID: <2EA81374-663A-4CE3-B5A0-E883BD2DE1B1@ftwr.co.uk>


On 20 Jan 2010, at 08:50, Malaiac wrote:

> is there any "live" medium for backpress ? to get a quick view of
> recent changes / roadmap / discussion ? there is not much on trac
> Is Backpress supposed to be updated with WP 3.0 modifications ?
>
> I'm considering using backpress to support an ecommerce website.
>

To use BackPress you need more than just a download / svn co as it is  
in essence a library.

If you want to try it _live_ then you need to install glotpress/ 
bbpress/wordpress and you are using it.

As for keeping in sync with WordPress - my aim is to keep in sync with  
trunk but in places it lags at the moment but it is still very usable  
as GlotPress shows.

This happens as I have the time available.

Best places to discuss this would be the backpress-dev mailing list <http://lists.wordpress.org/mailman/listinfo/backpress-dev 
 >

Cheers

Peter
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From malaiac at gmail.com  Wed Jan 20 21:13:37 2010
From: malaiac at gmail.com (Malaiac)
Date: Wed, 20 Jan 2010 22:13:37 +0100
Subject: [wp-hackers] Backpress status ?
In-Reply-To: <2EA81374-663A-4CE3-B5A0-E883BD2DE1B1@ftwr.co.uk>
References: <59e7f3131001200050i46276c07hcb9a4596c2abd321@mail.gmail.com> 
	<2EA81374-663A-4CE3-B5A0-E883BD2DE1B1@ftwr.co.uk>
Message-ID: <59e7f3131001201313j428b4b5cveaac6542451e4eb3@mail.gmail.com>

2010/1/20 Peter Westwood <peter.westwood at ftwr.co.uk>:
> To use BackPress you need more than just a download / svn co as it is in
> essence a library.
>
> If you want to try it _live_ then you need to install
> glotpress/bbpress/wordpress and you are using it.

I got that point. I have also a small framework of my own, which can't
"power" a website by itselft but contains generic classes (in use on
http://www.bout.fr/ , http://fr.zepage.net/ and various private
projects)

> As for keeping in sync with WordPress - my aim is to keep in sync with trunk
> but in places it lags at the moment but it is still very usable as GlotPress
> shows.
>
> This happens as I have the time available.
>
> Best places to discuss this would be the backpress-dev mailing list
> <http://lists.wordpress.org/mailman/listinfo/backpress-dev>
Thx, I just subscribed.

M

From Brian at TheCodeCave.com  Thu Jan 21 03:48:52 2010
From: Brian at TheCodeCave.com (Brian Layman)
Date: Wed, 20 Jan 2010 22:48:52 -0500
Subject: [wp-hackers] Flash getting content from XML
In-Reply-To: <B143AE9E-07E8-49F4-9C91-A404E293ED68@joernroeder.de>
References: <4ede8f491001181037t12059db2v31a1821ee240f5d4@mail.gmail.com>	<4ede8f491001181039r5d951bd9w94770223e0fe827e@mail.gmail.com>
	<B143AE9E-07E8-49F4-9C91-A404E293ED68@joernroeder.de>
Message-ID: <15bd01ca9a4c$a671fa80$f355ef80$@TheCodeCave.com>

Depending upon your config you may be running into cross domain issues.
Google crossdomain.xml
Brian Layman 


From adamholz at gmail.com  Thu Jan 21 06:41:01 2010
From: adamholz at gmail.com (Adam Holzband)
Date: Thu, 21 Jan 2010 00:41:01 -0600
Subject: [wp-hackers] Query to return only posts that have an image
	attachment
In-Reply-To: <d26211d51001200204h2cc0cad1n512e86b8ab635805@mail.gmail.com>
References: <d26211d51001200204h2cc0cad1n512e86b8ab635805@mail.gmail.com>
Message-ID: <d26211d51001202241t196e2d0dkfa860e7f955d2378@mail.gmail.com>

The code is not very complex but I can give you an example with some
psuedo-code.

Let's say there are 20 posts in a category, 10 of which have images.  Of the
most recent 10 posts however, only 4 have images.

So on a category template you would have the psuedo-code loop below, which
would only show 4 posts.  Instead, I would like to show the 10 posts with
images (or whatever # is in posts_per_page/settings):

while (have_posts()) : the_post();
 $args = array('post_type' => 'attachment', 'post_mime_type' =>
'image',  'numberposts'
=> 1, 'post_status' => null, 'post_parent' => $post->ID);
$images = get_children($args);
if ($images) {
***** DISPLAY POST *****
}
endwhile;

I've thought up some kludges that seem ok, but am assuming that I will need
to replace or adjust the query to do this efficiently.  I am wondering if
there is a better option and/or what the best query would be.  Thanks for
the help.

>

From otto at ottodestruct.com  Thu Jan 21 18:01:59 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 21 Jan 2010 12:01:59 -0600
Subject: [wp-hackers] Person tagging?
Message-ID: <161617691001211001ldf871d5lc5a9b043acd42a57@mail.gmail.com>

Any idea how Matt implemented person tagging for his photo albums?

Example: http://ma.tt/person/jane-wells/

I assume it's a custom taxonomy method, but I was wondering if there
was a plugin to do it or if it's custom code or what...

-Otto
Sent from Memphis, TN, United States

From paul at codehooligans.com  Thu Jan 21 18:05:51 2010
From: paul at codehooligans.com (Paul)
Date: Thu, 21 Jan 2010 13:05:51 -0500
Subject: [wp-hackers] Person tagging?
In-Reply-To: <161617691001211001ldf871d5lc5a9b043acd42a57@mail.gmail.com>
References: <161617691001211001ldf871d5lc5a9b043acd42a57@mail.gmail.com>
Message-ID: <D40F7645-8574-4D1A-A7E0-688CC8DFDE14@codehooligans.com>

Otto,

I'm not sure how Matt is doing this. 

I actually wrote a plugin for tagging media items. The plugin provides a custom taxonomy for listing items by media-tag. As well as many other features. 

Check it http://wordpress.org/extend/plugins/media-tags/ 
(Still need to update it for 2.9.x)


P-

On Jan 21, 2010, at 1:01 PM, Otto wrote:

> Any idea how Matt implemented person tagging for his photo albums?
> 
> Example: http://ma.tt/person/jane-wells/
> 
> I assume it's a custom taxonomy method, but I was wondering if there
> was a plugin to do it or if it's custom code or what...
> 
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From skeltoac at gmail.com  Thu Jan 21 18:42:54 2010
From: skeltoac at gmail.com (Andy Skelton)
Date: Thu, 21 Jan 2010 13:42:54 -0500
Subject: [wp-hackers] Person tagging?
In-Reply-To: <161617691001211001ldf871d5lc5a9b043acd42a57@mail.gmail.com>
References: <161617691001211001ldf871d5lc5a9b043acd42a57@mail.gmail.com>
Message-ID: <e6ec604d1001211042t351dc1aalb7fdc63e0f9259fd@mail.gmail.com>

On Thu, Jan 21, 2010 at 1:01 PM, Otto <otto at ottodestruct.com> wrote:
> Any idea how Matt implemented person tagging for his photo albums?

I got him started with the new taxonomy using this:
http://core.trac.wordpress.org/attachment/ticket/6357/taxes.php

His theme handles the rest. I don't know whether he's still using that
plugin or something else. That was in March, 2008.

Andy

From jayarjo at gmail.com  Thu Jan 21 19:04:22 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Thu, 21 Jan 2010 23:04:22 +0400
Subject: [wp-hackers] plugin frameworks...
Message-ID: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>

Does anyone here use them actually? Some may simplify plugin
development somehow, by at least providing good file/directory
structure or even some kind of mvc framework.

-- 
Davit Barbakadze

From dan at jallits.com  Thu Jan 21 19:11:45 2010
From: dan at jallits.com (Daniel Craig Jallits)
Date: Thu, 21 Jan 2010 13:11:45 -0600
Subject: [wp-hackers] plugin frameworks...
In-Reply-To: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
References: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
Message-ID: <DDCF13BD-51ED-4C36-925C-66D9BF0DD9B6@jallits.com>


> Does anyone here use them actually? 

I only use them as a reference point. Not actual production work. Much like how I will use the 960 CSS Grid to prototype a layout, but my production copy is striped of everything 960 related. Does that make sense?

From dave at vinertech.com  Thu Jan 21 20:55:19 2010
From: dave at vinertech.com (Dave Viner)
Date: Thu, 21 Jan 2010 12:55:19 -0800
Subject: [wp-hackers] Query to return only posts that have an image
	attachment
In-Reply-To: <d26211d51001202241t196e2d0dkfa860e7f955d2378@mail.gmail.com>
References: <d26211d51001200204h2cc0cad1n512e86b8ab635805@mail.gmail.com>
	<d26211d51001202241t196e2d0dkfa860e7f955d2378@mail.gmail.com>
Message-ID: <9a39b88d1001211255p733ac398se09c4647fd883dee@mail.gmail.com>

Just as a sidenote...

Not all images that appear in a post are attachments.  That is, an author
can upload an image into the Media Library, and then later insert that image
into a post.  The inserted image is not attached to the image.

So, depending on your need, selecting posts with attached images might be
more challenging than this attachment query.

Dave Viner


On Wed, Jan 20, 2010 at 10:41 PM, Adam Holzband <adamholz at gmail.com> wrote:

> The code is not very complex but I can give you an example with some
> psuedo-code.
>
> Let's say there are 20 posts in a category, 10 of which have images.  Of
> the
> most recent 10 posts however, only 4 have images.
>
> So on a category template you would have the psuedo-code loop below, which
> would only show 4 posts.  Instead, I would like to show the 10 posts with
> images (or whatever # is in posts_per_page/settings):
>
> while (have_posts()) : the_post();
>  $args = array('post_type' => 'attachment', 'post_mime_type' =>
> 'image',  'numberposts'
> => 1, 'post_status' => null, 'post_parent' => $post->ID);
> $images = get_children($args);
> if ($images) {
> ***** DISPLAY POST *****
> }
> endwhile;
>
> I've thought up some kludges that seem ok, but am assuming that I will need
> to replace or adjust the query to do this efficiently.  I am wondering if
> there is a better option and/or what the best query would be.  Thanks for
> the help.
>
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From erisds at gmail.com  Thu Jan 21 20:56:19 2010
From: erisds at gmail.com (ErisDS)
Date: Thu, 21 Jan 2010 20:56:19 +0000
Subject: [wp-hackers] plugin frameworks...
In-Reply-To: <DDCF13BD-51ED-4C36-925C-66D9BF0DD9B6@jallits.com>
References: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com> 
	<DDCF13BD-51ED-4C36-925C-66D9BF0DD9B6@jallits.com>
Message-ID: <686d0bd71001211256m1ef61608q246af035df764eaa@mail.gmail.com>

Could someone point me in the direction of a good plugin framework? In my
searches I've never stumbled across any but have developed my own.

On Thu, Jan 21, 2010 at 7:11 PM, Daniel Craig Jallits <dan at jallits.com>wrote:

>
> > Does anyone here use them actually?
>
> I only use them as a reference point. Not actual production work. Much like
> how I will use the 960 CSS Grid to prototype a layout, but my production
> copy is striped of everything 960 related. Does that make sense?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jordi at jcanals.cat  Thu Jan 21 21:29:08 2010
From: jordi at jcanals.cat (Jordi Canals)
Date: Thu, 21 Jan 2010 22:29:08 +0100
Subject: [wp-hackers] plugin frameworks...
In-Reply-To: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
References: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
Message-ID: <eccf1e7c1001211329q195c4fd6q251fe522ec4eba20@mail.gmail.com>

2010/1/21 Davit Barbakadze <jayarjo at gmail.com>

> Does anyone here use them actually? Some may simplify plugin
> development somehow, by at least providing good file/directory
> structure or even some kind of mvc framework.
>
>
I use my own framework and my plugins started using it. Still in development
I hope I will release it soon.
If you like, you can browse the code at
http://code.alkivia.org/listing.php?repname=gpl&path=/framework/
and if want to get a copy, you can checkout from subversion at
http://svn.alkivia.org/gpl/framework/

---
Jordi Canals
http://alkivia.org
http://jcanals.cat

From scribu at gmail.com  Thu Jan 21 21:41:05 2010
From: scribu at gmail.com (scribu)
Date: Thu, 21 Jan 2010 23:41:05 +0200
Subject: [wp-hackers] plugin frameworks...
In-Reply-To: <686d0bd71001211256m1ef61608q246af035df764eaa@mail.gmail.com>
References: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
	<DDCF13BD-51ED-4C36-925C-66D9BF0DD9B6@jallits.com>
	<686d0bd71001211256m1ef61608q246af035df764eaa@mail.gmail.com>
Message-ID: <349fe48b1001211341p3a2ffd19g634399b0c53feb66@mail.gmail.com>

On Thu, Jan 21, 2010 at 10:56 PM, ErisDS <erisds at gmail.com> wrote:

> Could someone point me in the direction of a good plugin framework? In my
> searches I've never stumbled across any but have developed my own.
>

I don't know how good it fits other people's coding styles, but I use it in
all my larger plugins:


http://wordpress.org/extend/plugins/scb-framework/


Documentation is a bit lacking at the moment, though.


-- 
http://scribu.net

From john.ivar.myrstad at gmail.com  Thu Jan 21 23:08:09 2010
From: john.ivar.myrstad at gmail.com (John Myrstad)
Date: Fri, 22 Jan 2010 00:08:09 +0100
Subject: [wp-hackers] Person tagging?
In-Reply-To: <e6ec604d1001211042t351dc1aalb7fdc63e0f9259fd@mail.gmail.com>
References: <161617691001211001ldf871d5lc5a9b043acd42a57@mail.gmail.com>
	<e6ec604d1001211042t351dc1aalb7fdc63e0f9259fd@mail.gmail.com>
Message-ID: <d29aad6e1001211508p2c44032k42d207822149d1df@mail.gmail.com>

I may be wrong but I thought he used this one:

http://wordpress.org/extend/plugins/community-tags/

From m at mullenweg.com  Fri Jan 22 00:54:45 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Thu, 21 Jan 2010 16:54:45 -0800
Subject: [wp-hackers] Person tagging?
In-Reply-To: <161617691001211001ldf871d5lc5a9b043acd42a57@mail.gmail.com>
References: <161617691001211001ldf871d5lc5a9b043acd42a57@mail.gmail.com>
Message-ID: <4B58F755.6060303@mullenweg.com>

On 2010-01-21 10:01 AM, Otto wrote:
> Any idea how Matt implemented person tagging for his photo albums?
>
> Example: http://ma.tt/person/jane-wells/
>
> I assume it's a custom taxonomy method, but I was wondering if there
> was a plugin to do it or if it's custom code or what...

<?php
/*
Plugin Name: My taxonomies
Plugin Author: Matt Mullenweg
*/

add_action('init', 'taxes_init');
add_action('activate_' . plugin_basename(__FILE__), 'taxes_activate');

function taxes_activate() {
         taxes_init();
         $GLOBALS['wp_rewrite']->flush_rules();
}

function taxes_init() {
         global $wp_rewrite;

         // create a new taxonomy
         register_taxonomy(
                 'people',
                 array('attachment:image', 'attachment:video', 
'attachment:audio', 'post', 'page'),
                 array(
                         'label' => __('People'),
                         'template' => __('People: %l.'),
                         'helps' => __('Separate people with commas.'),
                         'sort' => true,
                         'args' => array('orderby' => 'term_order'),
                         'rewrite' => array('slug' => 'person'),
                 )
         );
}

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From adamholz at gmail.com  Fri Jan 22 05:01:12 2010
From: adamholz at gmail.com (Adam Holzband)
Date: Thu, 21 Jan 2010 23:01:12 -0600
Subject: [wp-hackers] Query to return only posts that have an image
	attachment
Message-ID: <d26211d51001212101w5373b373q9c823cd308fe717b@mail.gmail.com>

Thanks for your response Dave.  I understand the difference between
attaching an image to a post and inserting but appreciate you pointing out
the potential additional complexity.  Actually, if you add something to
Media Library and then insert in a post later, it will be an attachment.

In any case, the scenario I'm working with is very specific and each post
can contain a gallery of attachments.  I just need to be able to query only
the posts that have an attachment with an image post_mime_type. Still hoping
that someone out there has some guidance on a better way than one of my
kludges to accomplish that.  Thanks.

From dave at vinertech.com  Fri Jan 22 05:54:09 2010
From: dave at vinertech.com (Dave Viner)
Date: Thu, 21 Jan 2010 21:54:09 -0800
Subject: [wp-hackers] Query to return only posts that have an image
	attachment
In-Reply-To: <d26211d51001212101w5373b373q9c823cd308fe717b@mail.gmail.com>
References: <d26211d51001212101w5373b373q9c823cd308fe717b@mail.gmail.com>
Message-ID: <9a39b88d1001212154g3aa5fc51se8e7e83dfb5edcdc@mail.gmail.com>

First, let me answer at least part of your question.  I don't know of a
WordPress function that would give you what you're looking for (posts that
have attachments of type=image).  But, here's some raw SQL that would do it:

select art.ID, att.ID, att.post_title
from wp_posts art, wp_posts att
where art.ID != att.ID
and art.ID = att.post_parent
and att.post_mime_type = 'image/jpeg';
order by art.post_date_gmt desc
limit 5;

This SQL returns the post IDs that have at least 1 image attached of type
'image/jpeg' - and limits it to the 5 most recent articles posted.

I'm not sure if this is what you're looking for, but that sounds like the
SQL you're describing.  You can take these IDs and feed them into get_post()
to load the post objects in your template.

On the attachment issue, I don't think that it's always true that the
attachment is created when you insert an image into a post.  Here's a test I
just ran on my WP 2.9.1 install.

Login
Click Media Library.
Click Add New.
Upload new image.

Now, in the database I see:

mysql> select ID, post_title, post_type, post_mime_type from wp_posts where
id > 391017;
+--------+--------------------+------------+----------------+
| ID     | post_title         | post_type  | post_mime_type |
+--------+--------------------+------------+----------------+
| 391018 | image_resize_test6 | attachment | image/jpeg     |
+--------+--------------------+------------+----------------+

Perfect.

I create a new post, and insert the image.
Click Posts
Click Add New
Click the 'Add Media' icon.
Click the 'From Media Gallery'
Select the image that I just uploaded.
Click 'Insert Into Post'.

Now, the db shows this:

mysql> select ID, post_title, post_type, post_mime_type, post_parent from
wp_posts where id > 391017;
+--------+-----------------------------+------------+----------------+-------------+
| ID     | post_title                  | post_type  | post_mime_type |
post_parent |
+--------+-----------------------------+------------+----------------+-------------+
| 391018 | image_resize_test6          | attachment | image/jpeg     |
 391019 |
| 391019 | image test... please ignore | post       |                |
    0 |
| 391020 | image test... please ignore | revision   |                |
 391019 |


Perfect.  Image is an attachment, and post_parent is set to the newly
created post.

I add a second image to the post, using the same process (but selecting a
different image from the media library. The post appears fine with 2 images.
 But, in the DB, I now see this:

mysql> select ID, post_title, post_type, post_mime_type, post_parent from
wp_posts where post_parent = 391019;
+--------+-----------------------------+------------+----------------+-------------+
| ID     | post_title                  | post_type  | post_mime_type |
post_parent |
+--------+-----------------------------+------------+----------------+-------------+
| 391018 | image_resize_test6          | attachment | image/jpeg     |
 391019 |
| 391020 | image test... please ignore | revision   |                |
 391019 |
| 391021 | image test... please ignore | revision   |                |
 391019 |
| 391022 | image test... please ignore | revision   |                |
 391019 |
| 391023 | image test... please ignore | revision   |                |
 391019 |
+--------+-----------------------------+------------+----------------+-------------+

Where's the second image?  It's not attached to the post.

In this case, it's because the second image was in fact already "attached"
to another post:
mysql> select ID, post_title, post_type, post_mime_type, post_parent from
wp_posts where ID = 391001;;
+--------+--------------------+------------+----------------+-------------+
| ID     | post_title         | post_type  | post_mime_type | post_parent |
+--------+--------------------+------------+----------------+-------------+
| 391001 | image_resize_test2 | attachment | image/jpeg     |      391002 |
+--------+--------------------+------------+----------------+-------------+

Since the post_parent column is one-to-one with the attachment-post-id, a
single image can appear in multiple posts, but only be "attached" to one.


In addition, if you delete the HTML from a post that shows the image, the
attachment does not disappear.  So, just because the DB has an image
"attached" to a post does not mean that the image actually appears in the
article.  (This may not be an issue in your use case, but I'm just pointing
out the DB issues.)

HTH
Dave Viner

On Thu, Jan 21, 2010 at 9:01 PM, Adam Holzband <adamholz at gmail.com> wrote:

> Thanks for your response Dave.  I understand the difference between
> attaching an image to a post and inserting but appreciate you pointing out
> the potential additional complexity.  Actually, if you add something to
> Media Library and then insert in a post later, it will be an attachment.
>
> In any case, the scenario I'm working with is very specific and each post
> can contain a gallery of attachments.  I just need to be able to query only
> the posts that have an attachment with an image post_mime_type. Still
> hoping
> that someone out there has some guidance on a better way than one of my
> kludges to accomplish that.  Thanks.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ozh at planetozh.com  Fri Jan 22 08:38:02 2010
From: ozh at planetozh.com (Ozh)
Date: Fri, 22 Jan 2010 09:38:02 +0100
Subject: [wp-hackers] Person tagging?
In-Reply-To: <4B58F755.6060303@mullenweg.com>
Message-ID: <OF1F868500.763CBC1D-ONC12576B3.002EBEBD-C12576B3.002F6C19@notes.edfgdf.fr>

> > I assume it's a custom taxonomy method, but I was wondering if there
> > was a plugin to do it or if it's custom code or what...


Maybe something similar could be used for user management? User roles in 
WP are like old school categories ie someone is either "Administrator" 
*or* "Editor", instead of a more flexible system like tags in which 
someone could be "Administrator", "Product Reviewer" *and* "Forum Helper"

Ozh

From wordpress at dd32.id.au  Fri Jan 22 09:01:53 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 22 Jan 2010 20:01:53 +1100
Subject: [wp-hackers] Person tagging?
In-Reply-To: <OF1F868500.763CBC1D-ONC12576B3.002EBEBD-C12576B3.002F6C19@notes.edfgdf.fr>
References: <OF1F868500.763CBC1D-ONC12576B3.002EBEBD-C12576B3.002F6C19@notes.edfgdf.fr>
Message-ID: <op.u6xfdfdmspxmuu@dd32>

On Fri, 22 Jan 2010 19:38:02 +1100, Ozh <ozh at planetozh.com> wrote:

>> > I assume it's a custom taxonomy method, but I was wondering if there
>> > was a plugin to do it or if it's custom code or what...
>
>
> Maybe something similar could be used for user management? User roles in
> WP are like old school categories ie someone is either "Administrator"
> *or* "Editor", instead of a more flexible system like tags in which
> someone could be "Administrator", "Product Reviewer" *and* "Forum Helper"

WordPress roles currently support a user being in multiple Roles, Thats  
just not exposed in the UI.

Theres been a discussion related to striping that functionality from core  
however, as its rarely used (rarely known) adn introduces a certain  
ammount of overhead.

Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
  Web: http://dd32.id.au/
-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
  Web: http://dd32.id.au/

From scribu at gmail.com  Fri Jan 22 11:01:21 2010
From: scribu at gmail.com (scribu)
Date: Fri, 22 Jan 2010 13:01:21 +0200
Subject: [wp-hackers] Capabilities as a taxonomy
Message-ID: <349fe48b1001220301u39dcce18o8d27975b0cdeae3b@mail.gmail.com>

How about we have a 'capability' taxonomy for users?

Don't quite know how roles would fit into that.

Just throwing it out there.



From bogus@does.not.exist.com  Wed Jan 13 07:53:57 2010
From: bogus@does.not.exist.com ()
Date: Wed, 13 Jan 2010 07:53:57 -0000
Subject: No subject
Message-ID: <mailman.2.1264158094.21671.wp-hackers@lists.automattic.com>

On Fri, Jan 22, 2010 at 11:01 AM, Dion Hulse (dd32) <wordpress at dd32.id.au>wrote:

> On Fri, 22 Jan 2010 19:38:02 +1100, Ozh <ozh at planetozh.com> wrote:
>
>  > I assume it's a custom taxonomy method, but I was wondering if there
>>> > was a plugin to do it or if it's custom code or what...
>>>
>>
>>
>> Maybe something similar could be used for user management? User roles in
>> WP are like old school categories ie someone is either "Administrator"
>> *or* "Editor", instead of a more flexible system like tags in which
>> someone could be "Administrator", "Product Reviewer" *and* "Forum Helper"
>>
>
> WordPress roles currently support a user being in multiple Roles, Thats
> just not exposed in the UI.
>
> Theres been a discussion related to striping that functionality from core
> however, as its rarely used (rarely known) adn introduces a certain ammount
> of overhead.
>
> Dion Hulse / dd32
>


-- 
http://scribu.net

From mpwalsh8 at gmail.com  Fri Jan 22 12:58:18 2010
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Fri, 22 Jan 2010 07:58:18 -0500
Subject: [wp-hackers] plugin frameworks...
In-Reply-To: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
References: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
Message-ID: <bd35beb51001220458xa8411f1v7a2568f8552ba885@mail.gmail.com>

On Thu, Jan 21, 2010 at 2:04 PM, Davit Barbakadze <jayarjo at gmail.com> wrote:

> Does anyone here use them actually? Some may simplify plugin
> development somehow, by at least providing good file/directory
> structure or even some kind of mvc framework.
>
I had used phpHtmlLib (phpthmllib.newsblob.com) for a couple projects before
I started using WordPress and had really become dependent on the Form
Processor.  When I started working on a plugin to manage our local swim
team, I knew it would require a lot of forms and there a few widgets I
wanted to use so I adapted the PHP 4 compatible thread of phpHtmlLib to be a
WordPress plugin.

In some ways it qualifies as a plugin framework as it provides a whole slew
of base classes that can be used in other plugins.  There is obviously some
functionality that goes unused but I'll trade that for the ease of building
and processing forms.

If you are interested in looking at the phpHtmlLib WordPress plugin, you can
download it here:

http://www.wp-swimteam.org/wp-content/plugins/download-monitor/download.php?id=8

Mike

--
Mike Walsh - mpwalsh at gmail.com

From otto at ottodestruct.com  Fri Jan 22 15:41:34 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 22 Jan 2010 09:41:34 -0600
Subject: [wp-hackers] Capabilities as a taxonomy
In-Reply-To: <349fe48b1001220301u39dcce18o8d27975b0cdeae3b@mail.gmail.com>
References: <349fe48b1001220301u39dcce18o8d27975b0cdeae3b@mail.gmail.com>
Message-ID: <161617691001220741t198704f5m3828048117cafd4e@mail.gmail.com>

I see where you're going with that, but seems that it's a bit
overkill. The ability for users to have individual capabilities was
removed because nobody really used it, no?

Multi-role seems good enough to me.

-Otto
Sent from Memphis, TN, United States


On Fri, Jan 22, 2010 at 5:01 AM, scribu <scribu at gmail.com> wrote:
> How about we have a 'capability' taxonomy for users?
>
> Don't quite know how roles would fit into that.
>
> Just throwing it out there.
>
>
> From the "Person tagging" thread:
>
> On Fri, Jan 22, 2010 at 11:01 AM, Dion Hulse (dd32) <wordpress at dd32.id.au>wrote:
>
>> On Fri, 22 Jan 2010 19:38:02 +1100, Ozh <ozh at planetozh.com> wrote:
>>
>> ?> I assume it's a custom taxonomy method, but I was wondering if there
>>>> > was a plugin to do it or if it's custom code or what...
>>>>
>>>
>>>
>>> Maybe something similar could be used for user management? User roles in
>>> WP are like old school categories ie someone is either "Administrator"
>>> *or* "Editor", instead of a more flexible system like tags in which
>>> someone could be "Administrator", "Product Reviewer" *and* "Forum Helper"
>>>
>>
>> WordPress roles currently support a user being in multiple Roles, Thats
>> just not exposed in the UI.
>>
>> Theres been a discussion related to striping that functionality from core
>> however, as its rarely used (rarely known) adn introduces a certain ammount
>> of overhead.
>>
>> Dion Hulse / dd32
>>
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Fri Jan 22 16:23:40 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 22 Jan 2010 11:23:40 -0500
Subject: [wp-hackers] Capabilities as a taxonomy
In-Reply-To: <161617691001220741t198704f5m3828048117cafd4e@mail.gmail.com>
References: <349fe48b1001220301u39dcce18o8d27975b0cdeae3b@mail.gmail.com> 
	<161617691001220741t198704f5m3828048117cafd4e@mail.gmail.com>
Message-ID: <4cc4de141001220823i6fe094cds7aa88341e87abbeb@mail.gmail.com>

>
> The ability for users to have individual capabilities was removed because
> nobody really used it, no?


Actually, that still exists.

The current system allows for a single user to have multiple roles and
overriding individual capabilities as well. What has been proposed is
limiting users to a single role with no opportunity for individual
capabilities on top of that.

This could significantly increase performance in many situations, as
currently the system can result in a lot of overhead. (For example, if you
wanted to get a list of all users with a certain capability, and you have X
number of users you have to calculate capabilities for...)

 We may need to introduce role management as either a feature or a
core/canonical plugin at that point, that way roles can be cloned and
fine-tuned.

See also: http://core.trac.wordpress.org/ticket/10201.

From Ken at adcSTUDIO.com  Fri Jan 22 16:27:21 2010
From: Ken at adcSTUDIO.com (Ken Newman)
Date: Fri, 22 Jan 2010 11:27:21 -0500
Subject: [wp-hackers] Person tagging?
In-Reply-To: <op.u6xfdfdmspxmuu@dd32>
References: <OF1F868500.763CBC1D-ONC12576B3.002EBEBD-C12576B3.002F6C19@notes.edfgdf.fr>
	<op.u6xfdfdmspxmuu@dd32>
Message-ID: <4B59D1E9.20306@adcSTUDIO.com>

Alternatively, it might be used more if more people knew about it ;-)

Is that functionality another candidate for a core plugin?

On 1/22/2010 4:01 AM, Dion Hulse (dd32) wrote:
> On Fri, 22 Jan 2010 19:38:02 +1100, Ozh <ozh at planetozh.com> wrote:
>
> WordPress roles currently support a user being in multiple Roles, 
> Thats just not exposed in the UI.
>
> Theres been a discussion related to striping that functionality from 
> core however, as its rarely used (rarely known) adn introduces a 
> certain ammount of overhead.
>
> Dion Hulse / dd32
>
> Contact:
>  e: contact at dd32.id.au
>  msn: msn at d32.id.au
>  skype: theonly_dd32
>  Web: http://dd32.id.au/


From Ken at adcSTUDIO.com  Fri Jan 22 16:31:17 2010
From: Ken at adcSTUDIO.com (Ken Newman)
Date: Fri, 22 Jan 2010 11:31:17 -0500
Subject: [wp-hackers] Capabilities as a taxonomy
In-Reply-To: <4cc4de141001220823i6fe094cds7aa88341e87abbeb@mail.gmail.com>
References: <349fe48b1001220301u39dcce18o8d27975b0cdeae3b@mail.gmail.com>
	<161617691001220741t198704f5m3828048117cafd4e@mail.gmail.com>
	<4cc4de141001220823i6fe094cds7aa88341e87abbeb@mail.gmail.com>
Message-ID: <4B59D2D5.8090402@adcSTUDIO.com>

Just FYI, Justin Tadlock has a plugin and tutorial on Custom 
Capabilities at that might be helpful: 
http://justintadlock.com/archives/2009/09/18/custom-capabilities-in-plugins-and-themes

On 1/22/2010 11:23 AM, Andrew Nacin wrote:
>> The ability for users to have individual capabilities was removed because
>> nobody really used it, no?
>>      
>
> Actually, that still exists.
>
> The current system allows for a single user to have multiple roles and
> overriding individual capabilities as well. What has been proposed is
> limiting users to a single role with no opportunity for individual
> capabilities on top of that.
>
> This could significantly increase performance in many situations, as
> currently the system can result in a lot of overhead. (For example, if you
> wanted to get a list of all users with a certain capability, and you have X
> number of users you have to calculate capabilities for...)
>
>   We may need to introduce role management as either a feature or a
> core/canonical plugin at that point, that way roles can be cloned and
> fine-tuned.
>
> See also: http://core.trac.wordpress.org/ticket/10201.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    


From emoya at tribune.com  Fri Jan 22 16:44:03 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Fri, 22 Jan 2010 10:44:03 -0600
Subject: [wp-hackers] Person tagging?
In-Reply-To: <4B59D1E9.20306@adcSTUDIO.com>
Message-ID: <C77F31F3.2B3A%emoya@tribune.com>

I agree, I think the reason there is so little use of the roles and
capabilities API is because it is so poorly (read: "not") documented. There
is this: http://codex.wordpress.org/Roles_and_Capabilities but that meerly
lists the existing setup of roles/caps, not how to use the API to modify the
roles.

I don't think the lack of use of this by plugin developers is a sign that it
is any less necessary.

--
Eddie Moya
Tribune Interactive
Applications Developer


On 1/22/10 10:31 AM, "Ken Newman" <Ken at adcSTUDIO.com> wrote:

> Just FYI, Justin Tadlock has a plugin and tutorial on Custom
> Capabilities at that might be helpful:
> http://justintadlock.com/archives/2009/09/18/custom-capabilities-in-plugins-an
> d-themes
> 
> On 1/22/2010 11:23 AM, Andrew Nacin wrote:
>>> The ability for users to have individual capabilities was removed because
>>> nobody really used it, no?
>>>      
>> 
>> Actually, that still exists.
>> 
>> The current system allows for a single user to have multiple roles and
>> overriding individual capabilities as well. What has been proposed is
>> limiting users to a single role with no opportunity for individual
>> capabilities on top of that.
>> 
>> This could significantly increase performance in many situations, as
>> currently the system can result in a lot of overhead. (For example, if you
>> wanted to get a list of all users with a certain capability, and you have X
>> number of users you have to calculate capabilities for...)
>> 
>>   We may need to introduce role management as either a feature or a
>> core/canonical plugin at that point, that way roles can be cloned and
>> fine-tuned.
>> 
>> See also: http://core.trac.wordpress.org/ticket/10201.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>    
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From otto at ottodestruct.com  Fri Jan 22 16:48:58 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 22 Jan 2010 10:48:58 -0600
Subject: [wp-hackers] Capabilities as a taxonomy
In-Reply-To: <4cc4de141001220823i6fe094cds7aa88341e87abbeb@mail.gmail.com>
References: <349fe48b1001220301u39dcce18o8d27975b0cdeae3b@mail.gmail.com> 
	<161617691001220741t198704f5m3828048117cafd4e@mail.gmail.com> 
	<4cc4de141001220823i6fe094cds7aa88341e87abbeb@mail.gmail.com>
Message-ID: <161617691001220848i54d4b964w3a91ae6b03bcd527@mail.gmail.com>

On Fri, Jan 22, 2010 at 10:23 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
> Actually, that still exists.
>
> The current system allows for a single user to have multiple roles and
> overriding individual capabilities as well. What has been proposed is
> limiting users to a single role with no opportunity for individual
> capabilities on top of that.

I'm okay with eliminating individual capabilities, but we really
should keep multi-role. I can envision a system where you separate
"writers" from "editors" and have a role just for "comment moderators"
and so forth. It would make more sense to assign one user to multiple
roles than to make combined roles just for them.

If performance is a problem, then we need to look at redesigning to
make it not a problem. However I don't think that means we should give
up the more obvious and useful configuration abilities.

The most common case is probably going to be "does user A have
capability X?". So optimize for that and other common query cases.
It's unlikely we'll need a system that can also do "what users have
capability X?", because that's not something you would normally care
about. You'd be more likely to ask "what are the roles all the users
are in?" and similar.

Define your use cases, optimize the design for those.

The main cases I see are:
"does user A have capability X?"
"what roles does user A have?"
"what capabilities does role R have?"

Given this, I'd probably make the roles into usermeta fields (_role?),
and make the capabilities into terms in a taxonomy, linking them to
role names. User has role AAA, and a taxonomy exists with AAA or
something as the name of it. Terms like "can_edit_posts" and similar
are related to that role.

Pulling a user's roles is then a simple meta lookup. Pulling all terms
for a taxonomy is one select, joining the terms to the relationships
and taxonomy (same as tags/categories). Checking a single capability
on a user is a combination of the two. If role names match taxonomy
names, that's a single select as well (albeit with a lot of joining).
Might want to make role names be forced to have a hidden prefix or
something to make this unlikely to interfere with other custom
taxonomies.

If you want to reverse the process, it's a bit more difficult, but not
crazily so. "What users have capability X?" would be a) Find the term
for that capability, joined to relationships to see which taxonomies
it's in. This gives you the role names. Then b) select the usermeta
where _role in roles to get the list of user ids.

-Otto
Sent from Memphis, TN, United States

From jpotkanski at tribune.com  Fri Jan 22 16:56:01 2010
From: jpotkanski at tribune.com (Potkanski, Jason)
Date: Fri, 22 Jan 2010 10:56:01 -0600
Subject: [wp-hackers] Capabilities as a taxonomy
In-Reply-To: <4cc4de141001220823i6fe094cds7aa88341e87abbeb@mail.gmail.com>
Message-ID: <C77F34C1.F62%jpotkanski@tribune.com>

You need to consider that role based management will explode for Mu being in
WP 3.0. 

For what we use role based stuff for is:

Site Admins (Global Admins across all Markets, full permissions)
\/
Market Admins (Jr. Admins in a market, can create users in a market, change
blog names, etc)
\/
Group Administrators (Sports guys, editorial guys, across multiple blogs).
\/ 
Editors (Standard WP role)
\/
Bloggers/Contributors (Standard WP Role)

Please consider this hierarchy and it's complexities before nerfing any
backend APIs. We use those APIs extensively for custom purposes.

Drupal has a very robust permission/role based structure, would it be worth
it to port over?

-- 

Jason Potkanski
Application Developer, Blogs
Tribune Technology, Interactive Support
jpotkanski at tribune.com


On 1/22/10 10:23 AM, "Andrew Nacin" <wp at andrewnacin.com> wrote:

>> 
>> The ability for users to have individual capabilities was removed because
>> nobody really used it, no?
> 
> 
> Actually, that still exists.
> 
> The current system allows for a single user to have multiple roles and
> overriding individual capabilities as well. What has been proposed is
> limiting users to a single role with no opportunity for individual
> capabilities on top of that.
> 
> This could significantly increase performance in many situations, as
> currently the system can result in a lot of overhead. (For example, if you
> wanted to get a list of all users with a certain capability, and you have X
> number of users you have to calculate capabilities for...)
> 
>  We may need to introduce role management as either a feature or a
> core/canonical plugin at that point, that way roles can be cloned and
> fine-tuned.
> 
> See also: http://core.trac.wordpress.org/ticket/10201.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Fri Jan 22 17:23:51 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 22 Jan 2010 12:23:51 -0500
Subject: [wp-hackers] Capabilities as a taxonomy
In-Reply-To: <C77F34C1.F62%jpotkanski@tribune.com>
References: <4cc4de141001220823i6fe094cds7aa88341e87abbeb@mail.gmail.com> 
	<C77F34C1.F62%jpotkanski@tribune.com>
Message-ID: <4cc4de141001220923u297d6c45pf0308fc3ced69913@mail.gmail.com>

>
> You need to consider that role based management will explode for Mu being
> in

WP 3.0.


Roles and capabilities are based on a per-blog basis, whether that is a
single blog installation, a MU/MS installation, or when user tables are
shared across more than one install.  MU also has that "site admin"
pseudo-role ("super admin" 3.0+), and while there have been some discussions
to possibly turn that into a per-site role, currently a user gets that role
by being in a delimited list of usernames stored in a site option.

From jordi at jcanals.cat  Fri Jan 22 17:48:18 2010
From: jordi at jcanals.cat (Jordi Canals)
Date: Fri, 22 Jan 2010 18:48:18 +0100
Subject: [wp-hackers] Capabilities as a taxonomy
In-Reply-To: <4cc4de141001220923u297d6c45pf0308fc3ced69913@mail.gmail.com>
References: <4cc4de141001220823i6fe094cds7aa88341e87abbeb@mail.gmail.com>
	<C77F34C1.F62%jpotkanski@tribune.com>
	<4cc4de141001220923u297d6c45pf0308fc3ced69913@mail.gmail.com>
Message-ID: <eccf1e7c1001220948r474c33f6s7804ee6c07f2188b@mail.gmail.com>

2010/1/22 Andrew Nacin <wp at andrewnacin.com>

>
> Roles and capabilities are based on a per-blog basis, whether that is a
> single blog installation, a MU/MS installation, or when user tables are
> shared across more than one install.  MU also has that "site admin"
> pseudo-role ("super admin" 3.0+), and while there have been some
> discussions
> to possibly turn that into a per-site role, currently a user gets that role
> by being in a delimited list of usernames stored in a site option.
>
>
I'm maintaining the Capabilty Manager plugin:
http://wordpress.org/extend/plugins/capsman/
I think to manage capabilities at user level makes it a bit confusing as it
makes a bit difficult to follow who has what capabilities. I recommend only
managing capabilities at role level (not in a user basis).

Maintaining this plugin, the most asked question and the feature most
requested from MU users had been to provide a way to disallow managing
capabilities at blog level and to force them at site level. An option to
allow that to site admins would be really a valuable setting.

-- 
Jordi Canals
http://alkivia.org - http://jcanals.cat

From wp at andrewnacin.com  Fri Jan 22 18:05:43 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 22 Jan 2010 13:05:43 -0500
Subject: [wp-hackers] Capabilities as a taxonomy
In-Reply-To: <eccf1e7c1001220948r474c33f6s7804ee6c07f2188b@mail.gmail.com>
References: <4cc4de141001220823i6fe094cds7aa88341e87abbeb@mail.gmail.com> 
	<C77F34C1.F62%jpotkanski@tribune.com>
	<4cc4de141001220923u297d6c45pf0308fc3ced69913@mail.gmail.com> 
	<eccf1e7c1001220948r474c33f6s7804ee6c07f2188b@mail.gmail.com>
Message-ID: <4cc4de141001221005j63d403b5i448ea759672a1d89@mail.gmail.com>

>
> Maintaining this plugin, the most asked question and the feature most

requested from MU users had been to provide a way to disallow managing

capabilities at blog level and to force them at site level.



From bogus@does.not.exist.com  Wed Jan 13 07:53:57 2010
From: bogus@does.not.exist.com ()
Date: Wed, 13 Jan 2010 07:53:57 -0000
Subject: No subject
Message-ID: <mailman.3.1264183576.21671.wp-hackers@lists.automattic.com>

levels for MS installs, but not everything MU/MS is being handled in 3.0,
and it would be expected to approach this at the same time as the big
roles/caps overhaul (which was punted out of 3.0 scope).

Two recent changesets could make it easier for (some of) that feature to be
implemented in a plugin:
http://core.trac.wordpress.org/changeset/12770
http://core.trac.wordpress.org/changeset/12796
http://core.trac.wordpress.org/ticket/11781

From emoya at tribune.com  Fri Jan 22 20:12:36 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Fri, 22 Jan 2010 14:12:36 -0600
Subject: [wp-hackers] Capabilities as a taxonomy
In-Reply-To: <161617691001220848i54d4b964w3a91ae6b03bcd527@mail.gmail.com>
Message-ID: <C77F62D4.2B53%emoya@tribune.com>

That makes some sense. I think if wordpress moved toward having more
granulized capabilities (e.g. Different caps for widgets/themes, or further
still, different caps for items/areas within a page), which it really should
do, then a system where you treat caps like a taxonomy starts to make a lot
of sense. 

However with regard to assigning multiple roles to a single user, Im not
sure if I completely understand why that is necessary. It seems to me this
would create complications in a large system. It could potentially lead to
lots of unique sets of users with no single way to describe them.

For example, if you had a separate editors (e), writers (w), comment
moderators (cm), etc,.. You might have a bunch of users who are (e + w), and
then one or two who are w + cm and some who are e + w + cm.

While this doesn't seem all that problematic in the small scale, once you
consider that a large site using wpmu might have thousands of users, on
hundreds of blogs, with a good number of custom caps for plugins - it can be
a user permissions nightmare. You could have no simple way to address the
group of users who are (e + w), which is not so great if you want to make a
change to their editing capabilities but preserve those of someone who is
just and editor, or who is an (e + w + cm). Additionally, as much as we
don't like to think of roles as hierarchical, in some cases, they need to be
just that - and the lack of structure would make that all the more
difficult.

Seems that you could alternatively just create a new role for those
instances where you would want to combine the caps. I realize that at some
level its just good to give developers as much flexibility as possible so I
don't know that it should be removed since its already there, but from an
objective standpoint, if it weren't there, I wouldn't see the case for
putting it in.

I think the problem of performance is one that should be primarily addressed
in terms of restructuring the way roles and capabilities are implemented
though, not just chopping off functionality.

All that said, the taxonomic take on capabilities is still interesting.

--
Eddie Moya
Tribune Interactive
Applications Developer


On 1/22/10 10:48 AM, "Otto" <otto at ottodestruct.com> wrote:

> On Fri, Jan 22, 2010 at 10:23 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
>> Actually, that still exists.
>> 
>> The current system allows for a single user to have multiple roles and
>> overriding individual capabilities as well. What has been proposed is
>> limiting users to a single role with no opportunity for individual
>> capabilities on top of that.
> 
> I'm okay with eliminating individual capabilities, but we really
> should keep multi-role. I can envision a system where you separate
> "writers" from "editors" and have a role just for "comment moderators"
> and so forth. It would make more sense to assign one user to multiple
> roles than to make combined roles just for them.
> 
> If performance is a problem, then we need to look at redesigning to
> make it not a problem. However I don't think that means we should give
> up the more obvious and useful configuration abilities.
> 
> The most common case is probably going to be "does user A have
> capability X?". So optimize for that and other common query cases.
> It's unlikely we'll need a system that can also do "what users have
> capability X?", because that's not something you would normally care
> about. You'd be more likely to ask "what are the roles all the users
> are in?" and similar.
> 
> Define your use cases, optimize the design for those.
> 
> The main cases I see are:
> "does user A have capability X?"
> "what roles does user A have?"
> "what capabilities does role R have?"
> 
> Given this, I'd probably make the roles into usermeta fields (_role?),
> and make the capabilities into terms in a taxonomy, linking them to
> role names. User has role AAA, and a taxonomy exists with AAA or
> something as the name of it. Terms like "can_edit_posts" and similar
> are related to that role.
> 
> Pulling a user's roles is then a simple meta lookup. Pulling all terms
> for a taxonomy is one select, joining the terms to the relationships
> and taxonomy (same as tags/categories). Checking a single capability
> on a user is a combination of the two. If role names match taxonomy
> names, that's a single select as well (albeit with a lot of joining).
> Might want to make role names be forced to have a hidden prefix or
> something to make this unlikely to interfere with other custom
> taxonomies.
> 
> If you want to reverse the process, it's a bit more difficult, but not
> crazily so. "What users have capability X?" would be a) Find the term
> for that capability, joined to relationships to see which taxonomies
> it's in. This gives you the role names. Then b) select the usermeta
> where _role in roles to get the list of user ids.
> 
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at dan-cole.com  Sat Jan 23 03:28:43 2010
From: wp at dan-cole.com (Dan Cole)
Date: Fri, 22 Jan 2010 21:28:43 -0600
Subject: [wp-hackers] Questions Related To Improving WP Installation
Message-ID: <8443cbbb1001221928v7d599f93w8689e467e4dc3420@mail.gmail.com>

I'm working on Trac Ticket #10396 and have ran into a few questions:

1 ) wp_enqueue_script can't load any scripts during the install process,
because $wp_scripts is empty. What files do I include so I can call:
wp_enqueue_script() and have it find the JavaScript for the
password-strength-meter?

2 ) Is there a better way to get the number of users in the database than
using: count( get_users_of_blog() ), because that function creates an error
due to the fact that there isn't a database table during step 2 of the
install process.

Thanks,
Dan Cole

From jayarjo at gmail.com  Sat Jan 23 09:37:50 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Sat, 23 Jan 2010 13:37:50 +0400
Subject: [wp-hackers] plugin frameworks...
In-Reply-To: <bd35beb51001220458xa8411f1v7a2568f8552ba885@mail.gmail.com>
References: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
	<bd35beb51001220458xa8411f1v7a2568f8552ba885@mail.gmail.com>
Message-ID: <9aa12a491001230137i79bd5036t7b90e73d7531737e@mail.gmail.com>

Wow, how different your approaches are... although not quietly what I
expected. I found the other guy which tries to incorporate CodeIgniter
as plugin framework. I think that's a bit over the top, but something
similar and more WordPress oriented could be very helpful I think.

Thank you guys for the links.

On Fri, Jan 22, 2010 at 4:58 PM, Mike Walsh <mpwalsh8 at gmail.com> wrote:
> On Thu, Jan 21, 2010 at 2:04 PM, Davit Barbakadze <jayarjo at gmail.com> wrote:
>
>> Does anyone here use them actually? Some may simplify plugin
>> development somehow, by at least providing good file/directory
>> structure or even some kind of mvc framework.
>>
> I had used phpHtmlLib (phpthmllib.newsblob.com) for a couple projects before
> I started using WordPress and had really become dependent on the Form
> Processor. ?When I started working on a plugin to manage our local swim
> team, I knew it would require a lot of forms and there a few widgets I
> wanted to use so I adapted the PHP 4 compatible thread of phpHtmlLib to be a
> WordPress plugin.
>
> In some ways it qualifies as a plugin framework as it provides a whole slew
> of base classes that can be used in other plugins. ?There is obviously some
> functionality that goes unused but I'll trade that for the ease of building
> and processing forms.
>
> If you are interested in looking at the phpHtmlLib WordPress plugin, you can
> download it here:
>
> http://www.wp-swimteam.org/wp-content/plugins/download-monitor/download.php?id=8
>
> Mike
>
> --
> Mike Walsh - mpwalsh at gmail.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From harish.mlists at gmail.com  Sat Jan 23 13:58:56 2010
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Sat, 23 Jan 2010 13:58:56 +0000
Subject: [wp-hackers] Setting Last-Modified, Etags everywhere
Message-ID: <4B5B00A0.4090606@gmail.com>

This question popped into my head when I stumbled onto the following
service that attempts to sniff out the state of one's blog:
http://ismyblogworking.com/emphaticallystatic.org

WordPress feeds seem to set both Last-Modified and Etags in the HTTP header:

$ curl --head http://emphaticallystatic.org/feed/
HTTP/1.1 200 OK
Date: Sat, 23 Jan 2010 13:44:13 GMT
Server: Apache
ETag: "4ca50ca96aad627907309ef8a93922b0"
X-Powered-By: PHP/5.2.12
Last-Modified: Thu, 21 Jan 2010 21:25:10 GMT
Content-Type: text/xml; charset=utf-8

but posts and pages don't seem to:

$ curl --head http://emphaticallystatic.org/
HTTP/1.1 200 OK
Date: Sat, 23 Jan 2010 13:44:22 GMT
Server: Apache
Vary: Accept
X-Powered-By: PHP/5.2.12
Content-Type: text/html; charset=utf-8

Is there some reason for this? I believe it might have something to do
with how fancier pages might be generated (e.g. pulling different bits
of dynamic/static content from different servers). But if there isn't a
reason not to, I would like to try to add these fields to all WordPress
generated content.

I think that would help browsers with caching, though I might be missing
something obvious.

Harish

From austin at ilfilosofo.com  Sat Jan 23 15:37:57 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Sat, 23 Jan 2010 09:37:57 -0600
Subject: [wp-hackers] Setting Last-Modified, Etags everywhere
In-Reply-To: <4B5B00A0.4090606@gmail.com>
References: <4B5B00A0.4090606@gmail.com>
Message-ID: <674b4a3b1001230737g5222add9ua38cd8573b1dd310@mail.gmail.com>

On Sat, Jan 23, 2010 at 7:58 AM, Harish Narayanan
<harish.mlists at gmail.com> wrote:
> WordPress feeds seem to set both Last-Modified and Etags in the HTTP header:
[snip]
> but posts and pages don't seem to:
[snip]
> Is there some reason for this? I believe it might have something to do
> with how fancier pages might be generated (e.g. pulling different bits
> of dynamic/static content from different servers). But if there isn't a
> reason not to, I would like to try to add these fields to all WordPress
> generated content.

WordPress sets those tags for caching feeds because the
strictly-defined structure of the feed makes it easy to determine
whether it has changed (and therefore should no longer be cached).  In
contrast, it would be almost impossible for core WordPress to
determine whether the content on a regular page load has changed.

However, you can use the 'send_headers' action hook to modify the
headers for your own specific situation.

From harish.mlists at gmail.com  Sat Jan 23 16:14:06 2010
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Sat, 23 Jan 2010 16:14:06 +0000
Subject: [wp-hackers] Setting Last-Modified, Etags everywhere
In-Reply-To: <674b4a3b1001230737g5222add9ua38cd8573b1dd310@mail.gmail.com>
References: <4B5B00A0.4090606@gmail.com>
	<674b4a3b1001230737g5222add9ua38cd8573b1dd310@mail.gmail.com>
Message-ID: <4B5B204E.6010604@gmail.com>

On 23/01/2010 15:37, Austin Matzko wrote:
> On Sat, Jan 23, 2010 at 7:58 AM, Harish Narayanan
> <harish.mlists at gmail.com> wrote:
>> WordPress feeds seem to set both Last-Modified and Etags in the HTTP header:
> [snip]
>> but posts and pages don't seem to:
> [snip]
>> Is there some reason for this? I believe it might have something to do
>> with how fancier pages might be generated (e.g. pulling different bits
>> of dynamic/static content from different servers). But if there isn't a
>> reason not to, I would like to try to add these fields to all WordPress
>> generated content.
> 
> WordPress sets those tags for caching feeds because the
> strictly-defined structure of the feed makes it easy to determine
> whether it has changed (and therefore should no longer be cached).  In
> contrast, it would be almost impossible for core WordPress to
> determine whether the content on a regular page load has changed.
> 
> However, you can use the 'send_headers' action hook to modify the
> headers for your own specific situation.

Thank you. I will play around with that!

Harish

From jordi at jcanals.cat  Sat Jan 23 18:53:20 2010
From: jordi at jcanals.cat (Jordi Canals)
Date: Sat, 23 Jan 2010 19:53:20 +0100
Subject: [wp-hackers] Strange oEmbed behavior
Message-ID: <eccf1e7c1001231053l153ab83as61fa5ed9eb4fd372@mail.gmail.com>

Hi all,

I have an strange behavior embedding files on my theme. I did the same
checks with videos from YouTube and Vimeo and some of them fails only with
YouTube videos (With Vimeo no problems).
This is when you just paste the video page URL to the post or page content:

- Setting the video embedding width to 560, 580, 610 or 620 pixels width the
videos embbed with no problems and the pasted URL. The same if the media
embed width is empty.
- Setting the video embedding width to 590 or 600 pixels fails and only the
URL is shown on the post as plain text.

My theme does nothing with the videos, and it works with no problems with
Vimeo videos.
Browsing the embedding classes (WP_oEmbed) I did not found anything made
different as them use oEmbed standard calls and addresses as stated at
http://www.oembed.com/ and in the YouTube API blog
http://apiblog.youtube.com/2009/10/oembed-support.html

Do you thing this can be a YouTube oEmbed bug or a bug withing WordPress?

-- 
Jordi Canals
http://alkivia.org - http://jcanals.cat

From office at wpseek.com  Sat Jan 23 19:21:10 2010
From: office at wpseek.com (=?ISO-8859-1?Q?Oliver_Schl=F6be?=)
Date: Sat, 23 Jan 2010 20:21:10 +0100
Subject: [wp-hackers] Strange oEmbed behavior
In-Reply-To: <eccf1e7c1001231053l153ab83as61fa5ed9eb4fd372@mail.gmail.com>
References: <eccf1e7c1001231053l153ab83as61fa5ed9eb4fd372@mail.gmail.com>
Message-ID: <4B5B4C26.8070901@wpseek.com>

Do those YouTube videos who do not embed properly have Embedding turned on?

http://wordpress.org/support/topic/343780?replies=3

--
Regards,
Oliver Schl?be

http://wpseek.com/
http://wpworldmap.net/

-- Code so clean you could eat off it.


On 23.01.2010 19:53, Jordi Canals wrote:
> Hi all,
>
> I have an strange behavior embedding files on my theme. I did the same
> checks with videos from YouTube and Vimeo and some of them fails only with
> YouTube videos (With Vimeo no problems).
> This is when you just paste the video page URL to the post or page content:
>
> - Setting the video embedding width to 560, 580, 610 or 620 pixels width the
> videos embbed with no problems and the pasted URL. The same if the media
> embed width is empty.
> - Setting the video embedding width to 590 or 600 pixels fails and only the
> URL is shown on the post as plain text.
>
> My theme does nothing with the videos, and it works with no problems with
> Vimeo videos.
> Browsing the embedding classes (WP_oEmbed) I did not found anything made
> different as them use oEmbed standard calls and addresses as stated at
> http://www.oembed.com/ and in the YouTube API blog
> http://apiblog.youtube.com/2009/10/oembed-support.html
>
> Do you thing this can be a YouTube oEmbed bug or a bug withing WordPress?
>
>    

From beau at dentedreality.com.au  Sat Jan 23 20:25:56 2010
From: beau at dentedreality.com.au (Beau Lebens)
Date: Sat, 23 Jan 2010 12:25:56 -0800
Subject: [wp-hackers] Questions Related To Improving WP Installation
In-Reply-To: <8443cbbb1001221928v7d599f93w8689e467e4dc3420@mail.gmail.com>
References: <8443cbbb1001221928v7d599f93w8689e467e4dc3420@mail.gmail.com>
Message-ID: <902424491001231225j610eb3bfi2284d844f740622d@mail.gmail.com>

> 2 ) Is there a better way to get the number of users in the database than
> using: count( get_users_of_blog() ), because that function creates an error
> due to the fact that there isn't a database table during step 2 of the
> install process.

If this is during the installation process, and the table doesn't even
exist yet, isn't it a fair bet that there are no users?

Failing that (perhaps installing against an existing table for a
shared install of some sort?) Maybe you need to do a direct, manual
check first to confirm that the table exists (SHOW TABLES LIKE
'{$prefix}users'), and then use get_users_of_blog() if it does, or
assume no users if the table doesn't exist.

From wp at andrewnacin.com  Sat Jan 23 20:31:29 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sat, 23 Jan 2010 15:31:29 -0500
Subject: [wp-hackers] Questions Related To Improving WP Installation
In-Reply-To: <902424491001231225j610eb3bfi2284d844f740622d@mail.gmail.com>
References: <8443cbbb1001221928v7d599f93w8689e467e4dc3420@mail.gmail.com> 
	<902424491001231225j610eb3bfi2284d844f740622d@mail.gmail.com>
Message-ID: <4cc4de141001231231r34727f1ajba53eb50cc51fe91@mail.gmail.com>

Dan,
I've commented to the ticket both on this and on the patch you posted. Beau
has it right, we can check for existence of the table using that queryq. We
also wouldn't be able to run get_users_of_blog() anyway, as we don't load
that part of the API.

On Sat, Jan 23, 2010 at 3:25 PM, Beau Lebens <beau at dentedreality.com.au>wrote:

> > 2 ) Is there a better way to get the number of users in the database than
> > using: count( get_users_of_blog() ), because that function creates an
> error
> > due to the fact that there isn't a database table during step 2 of the
> > install process.
>
> If this is during the installation process, and the table doesn't even
> exist yet, isn't it a fair bet that there are no users?
>
> Failing that (perhaps installing against an existing table for a
> shared install of some sort?) Maybe you need to do a direct, manual
> check first to confirm that the table exists (SHOW TABLES LIKE
> '{$prefix}users'), and then use get_users_of_blog() if it does, or
> assume no users if the table doesn't exist.

From jordi at jcanals.cat  Sat Jan 23 21:34:20 2010
From: jordi at jcanals.cat (Jordi Canals)
Date: Sat, 23 Jan 2010 22:34:20 +0100
Subject: [wp-hackers] Strange oEmbed behavior
In-Reply-To: <4B5B4C26.8070901@wpseek.com>
References: <eccf1e7c1001231053l153ab83as61fa5ed9eb4fd372@mail.gmail.com>
	<4B5B4C26.8070901@wpseek.com>
Message-ID: <eccf1e7c1001231334g23230aa3l4d72dd345b9aa2dc@mail.gmail.com>

2010/1/23 Oliver Schl?be <office at wpseek.com>

> Do those YouTube videos who do not embed properly have Embedding turned on?
>
> http://wordpress.org/support/topic/343780?replies=3
>
>
Yes, them embed with no problem with most sizes. For example: If you set
media embedding width (On media settings page) to 589 or 591 pixels width,
it embeds perfect. If you change the size one pixel up to 590 pixels width
no video from YouTube embeds on the post. Other examples are: it embeds
setting the width at 609 or 611 pixels, but no embeds if set to 610. This is
not the same behavior with all videos.

I've been checking it and seems to be an intermittent bad response from
YouTube in some cases. Seems being fixed by YouTube now so, it's not a WP
bug and no need to follow this. Hope it will be fully solved soon.

Thanks for commenting,
--
Jordi Canals
http://alkivia.org - http://jcanals.cat

From mikeschinkel at newclarity.net  Sat Jan 23 21:24:37 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 23 Jan 2010 16:24:37 -0500
Subject: [wp-hackers] Person tagging?
In-Reply-To: <4B59D1E9.20306@adcSTUDIO.com>
References: <OF1F868500.763CBC1D-ONC12576B3.002EBEBD-C12576B3.002F6C19@notes.edfgdf.fr>
	<op.u6xfdfdmspxmuu@dd32> <4B59D1E9.20306@adcSTUDIO.com>
Message-ID: <DAE95D04-1189-41B4-BDA5-6D4A5D60AE2C@newclarity.net>

On Jan 22, 2010, at 11:27 AM, Ken Newman wrote:
> On 1/22/2010 4:01 AM, Dion Hulse (dd32) wrote:
>> On Fri, 22 Jan 2010 19:38:02 +1100, Ozh <ozh at planetozh.com> wrote:
>> 
>> WordPress roles currently support a user being in multiple Roles, Thats just not exposed in the UI.
>> 
>> Theres been a discussion related to striping that functionality from core however, as its rarely used (rarely known) adn introduces a certain ammount of overhead.
> 
> Alternatively, it might be used more if more people knew about it ;-)

ABSOLUTELY!   +1

> Is that functionality another candidate for a core plugin?

I do believe so.

-Mike


From mikeschinkel at newclarity.net  Sat Jan 23 22:03:43 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 23 Jan 2010 17:03:43 -0500
Subject: [wp-hackers] Capabilities as a taxonomy
In-Reply-To: <161617691001220848i54d4b964w3a91ae6b03bcd527@mail.gmail.com>
References: <349fe48b1001220301u39dcce18o8d27975b0cdeae3b@mail.gmail.com>
	<161617691001220741t198704f5m3828048117cafd4e@mail.gmail.com>
	<4cc4de141001220823i6fe094cds7aa88341e87abbeb@mail.gmail.com>
	<161617691001220848i54d4b964w3a91ae6b03bcd527@mail.gmail.com>
Message-ID: <30AF3C63-4E32-41F5-B625-9C97DAD9C8DA@newclarity.net>

On Jan 22, 2010, at 11:48 AM, Otto wrote:
> The main cases I see are:
> "does user A have capability X?"

Clearly. 

> "what roles does user A have?"
> "what capabilities does role R have?"

For clarity, when is that needed other than on a hypothetical admin page for managing roles?

> Given this, I'd probably make the roles into usermeta fields (_role?),
> and make the capabilities into terms in a taxonomy, linking them to
> role names. User has role AAA, and a taxonomy exists with AAA or
> something as the name of it. Terms like "can_edit_posts" and similar
> are related to that role.

If you are doing to do that, shouldn't it be "role_AAA" instead of just "AAA?"  If not you'll more easily see name clashes for names with different contexts.

On Jan 22, 2010, at 12:48 PM, Jordi Canals wrote:
> Maintaining this plugin, the most asked question and the feature most
> requested from MU users had been to provide a way to disallow managing
> capabilities at blog level and to force them at site level. An option to
> allow that to site admins would be really a valuable setting.

+1

On Jan 22, 2010, at 3:12 PM, Moya, Eddie wrote:
> That makes some sense. I think if wordpress moved toward having more
> granulized capabilities (e.g. Different caps for widgets/themes, or further
> still, different caps for items/areas within a page), which it really should
> do, then a system where you treat caps like a taxonomy starts to make a lot
> of sense. 
> 
> However with regard to assigning multiple roles to a single user, Im not
> sure if I completely understand why that is necessary. It seems to me this
> would create complications in a large system. It could potentially lead to
> lots of unique sets of users with no single way to describe them.
> 
> For example, if you had a separate editors (e), writers (w), comment
> moderators (cm), etc,.. You might have a bunch of users who are (e + w), and
> then one or two who are w + cm and some who are e + w + cm.

Not allowing multiple roles to a single user could lead to a maintenance nightmare for admins those sites that don't want to have to duplicate the capabilities for a role in every combination with other roles, i.e. e+w, e+cm, e+w+cm, etc.

> While this doesn't seem all that problematic in the small scale, once you
> consider that a large site using wpmu might have thousands of users, on
> hundreds of blogs, with a good number of custom caps for plugins - it can be
> a user permissions nightmare.

While I don't see how that's really a problem, if it is the solution it to re-architect your permissions for the specific site not to be set up that way.  A plugin that allows role merging and renaming would solve your problem there. 

-Mike

From awgandrews at gmail.com  Sun Jan 24 00:42:09 2010
From: awgandrews at gmail.com (Alex Andrews)
Date: Sun, 24 Jan 2010 00:42:09 +0000
Subject: [wp-hackers] Fooling Wordpress To Think Plugin Output Is A Page
Message-ID: <e9f3ce461001231642q171669dehf60fd63cc0eac568@mail.gmail.com>

Dear list,

In my plugin I interrupt template_redirect to produce my own pages via
loading my own templates. However, to trick certain bits of the
template into working, it would be very useful for Wordpress to think
these are pages proper, with titles etc. Is there some internal
Wordpress variable or set of variables I can set to do this? It would
be especially good if I could trick the plugin generated page to think
it was a part of the normal hierarchy of Wordpress pages, ie could
possibly have parents etc, while not being an part of this formally.

Thanks you for help

Alex

From jordi at jcanals.cat  Sun Jan 24 01:06:32 2010
From: jordi at jcanals.cat (Jordi Canals)
Date: Sun, 24 Jan 2010 02:06:32 +0100
Subject: [wp-hackers] Capabilities as a taxonomy
In-Reply-To: <30AF3C63-4E32-41F5-B625-9C97DAD9C8DA@newclarity.net>
References: <349fe48b1001220301u39dcce18o8d27975b0cdeae3b@mail.gmail.com>
	<161617691001220741t198704f5m3828048117cafd4e@mail.gmail.com>
	<4cc4de141001220823i6fe094cds7aa88341e87abbeb@mail.gmail.com>
	<161617691001220848i54d4b964w3a91ae6b03bcd527@mail.gmail.com>
	<30AF3C63-4E32-41F5-B625-9C97DAD9C8DA@newclarity.net>
Message-ID: <eccf1e7c1001231706y47449247k6c7bf8ec4b1e4a0d@mail.gmail.com>

About all this I will just write my point of view from my experience with
systems administration. I think best practices about managing a system like
Linux or Windows are not as different as managing roles and capabilities on
a WordPress site.

- Managing capabilities at user level is not a nice idea. Following
capabilities at user level is really a hard work and its easier to create a
set of roles to make it easy.
- Assigning capabilities only to roles and then assigning that roles to
users makes administration easier and clearer.

- All you need is a tool, like Capability Manager plugin which allows you to
add and remove capabilities to a role, rename a role or delete it.
- After having a set of roles with all capabilities set, you just have to
assign them to users. And you need to be able to assign more than a role to
a user. Having an array of user roles is enough to set all roles a user
needs. If you could assign only one role to a user, the problem is that you
would have to duplicate capabilities and create extra roles.

When writing and maintaining Capability manager, the big problems that I've
found to have a full and secure way to manage capabilities are those (some
are done, and some are planned):

- When allowing a user to manage capabilities must be sure he cannot assign
capabilities he does not have to other users. (managing capabilities is a
plugin capability).
- Be sure that the capability manager cannot remove capabilities from
administrators.
- When you assign a user the capability to manage and create users, them can
easily create a new user with administrator role and bypass any limit of its
own account. This users can also remove the administrator role from anyone
and assign it to themselves.
- As the user profile page does not allow to assign more than a role to a
user, we cannot use a more granular role system.
- Some capabilities allow to do too many things. Having more granular
capabilities fully task oriented here and some more detail would be really
useful. For example, installing themes, updating themes, changing theme
options, managing widgets or editing the theme style are not all managed by
its own capability. (One task, one capability).
- Allowing forcing roles and capabilities at site level on MU blocking
management at blog level.

I think that solving and giving solutions to this points we would have a
very robust and granular system. My opinion is to remove capabilities at
user level and to create them only at role level assigning one or more roles
to the users.

How it is managed in the database with a couple of arrays as it is now
allows for almost anything we need to have a full roles and capabilities
management.

My 5 cents.
-- 
Jordi Canals
http://alkivia.org - http://jcanals.cat

From mikeschinkel at newclarity.net  Sun Jan 24 01:17:40 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 23 Jan 2010 20:17:40 -0500
Subject: [wp-hackers] Fooling Wordpress To Think Plugin Output Is A Page
In-Reply-To: <e9f3ce461001231642q171669dehf60fd63cc0eac568@mail.gmail.com>
References: <e9f3ce461001231642q171669dehf60fd63cc0eac568@mail.gmail.com>
Message-ID: <F6DF7429-A8BF-434C-A0C2-9CCA43601A91@newclarity.net>

I think what you need is to use page_template instead of using template_redirect, something like this (I've not tested the specific code so it might not be 100% correct):

add_filter('page_template', 'my_page_template' );
function my_page_template($template) {
  global $wp_query;
  if ($is_my_custom_page)
    $template = TEMPLATEPATH + '/my_page_template.php'
  return $template;
}

HTH.

-Mike Schinkel
	



On Jan 23, 2010, at 7:42 PM, Alex Andrews wrote:

> Dear list,
> 
> In my plugin I interrupt template_redirect to produce my own pages via
> loading my own templates. However, to trick certain bits of the
> template into working, it would be very useful for Wordpress to think
> these are pages proper, with titles etc. Is there some internal
> Wordpress variable or set of variables I can set to do this? It would
> be especially good if I could trick the plugin generated page to think
> it was a part of the normal hierarchy of Wordpress pages, ie could
> possibly have parents etc, while not being an part of this formally.
> 
> Thanks you for help
> 
> Alex
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp-hackers at striderweb.com  Sun Jan 24 05:32:26 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat, 23 Jan 2010 23:32:26 -0600
Subject: [wp-hackers] plugin frameworks...
In-Reply-To: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
References: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
Message-ID: <61391251-FBB5-49A3-8A3E-F9BC88BA9C5D@striderweb.com>


On Jan 21, 2010, at 1:04 PM, Davit Barbakadze wrote:

> Does anyone here use them actually? Some may simplify plugin
> development somehow, by at least providing good file/directory
> structure or even some kind of mvc framework.

Mine's not very polished -- the others you've been shown probably do things differently, but it may be worth a look:

Strider Core:
<http://code.google.com/p/strider-core/>

Stephen


-- 
Stephen Rider
http://striderweb.com/


From peter.westwood at ftwr.co.uk  Sun Jan 24 09:38:15 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun, 24 Jan 2010 09:38:15 +0000
Subject: [wp-hackers] Fooling Wordpress To Think Plugin Output Is A Page
In-Reply-To: <e9f3ce461001231642q171669dehf60fd63cc0eac568@mail.gmail.com>
References: <e9f3ce461001231642q171669dehf60fd63cc0eac568@mail.gmail.com>
Message-ID: <DD5D6D6D-7CFE-4E67-ABD0-DD9063525A29@ftwr.co.uk>


On 24 Jan 2010, at 00:42, Alex Andrews wrote:

> Dear list,
>
> In my plugin I interrupt template_redirect to produce my own pages via
> loading my own templates. However, to trick certain bits of the
> template into working, it would be very useful for Wordpress to think
> these are pages proper, with titles etc. Is there some internal
> Wordpress variable or set of variables I can set to do this? It would
> be especially good if I could trick the plugin generated page to think
> it was a part of the normal hierarchy of Wordpress pages, ie could
> possibly have parents etc, while not being an part of this formally.

The best way to do this is to create the page but modify its output.

Either use a page template or other plugin code to modify the output.

I would suggest you look at Mark Jaquiths new "I make plugins" plugin  
as an example of how to do this.

http://plugins.svn.wordpress.org/i-make-plugins/trunk/i-make-plugins.php

Cheers

Peter
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From jayarjo at gmail.com  Sun Jan 24 10:56:36 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Sun, 24 Jan 2010 14:56:36 +0400
Subject: [wp-hackers] plugin frameworks...
In-Reply-To: <61391251-FBB5-49A3-8A3E-F9BC88BA9C5D@striderweb.com>
References: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
	<61391251-FBB5-49A3-8A3E-F9BC88BA9C5D@striderweb.com>
Message-ID: <9aa12a491001240256r14ad70c6g2e0d662b2527a374@mail.gmail.com>

Hi Stephen,

Failing to find what I needed or expected I sat down to write my own.
For big part it's already ready (I based a simple plugin on it), but
probably just a bit raw yet. Using some interesting bits inside (at
least they're going to simplify my later plugin production immensely).

I like your versioning idea, never thought about it. Could be really
handy. But why such complex approach? What will happen if user will
deactivate plugin with newest Strider version, the whole thing will
failback to old one again, right? Why not to place Strider files right
in wp-plugins/ folder (without plugin meta info) and just include them
once from there? I think that's what I will do in the end. Any bad
sides to this?

Thanks,

On Sun, Jan 24, 2010 at 9:32 AM, Stephen Rider
<wp-hackers at striderweb.com> wrote:
>
> On Jan 21, 2010, at 1:04 PM, Davit Barbakadze wrote:
>
>> Does anyone here use them actually? Some may simplify plugin
>> development somehow, by at least providing good file/directory
>> structure or even some kind of mvc framework.
>
> Mine's not very polished -- the others you've been shown probably do things differently, but it may be worth a look:
>
> Strider Core:
> <http://code.google.com/p/strider-core/>
>
> Stephen
>
>
> --
> Stephen Rider
> http://striderweb.com/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From awgandrews at gmail.com  Sun Jan 24 16:07:06 2010
From: awgandrews at gmail.com (Alex Andrews)
Date: Sun, 24 Jan 2010 16:07:06 +0000
Subject: [wp-hackers] Fooling Wordpress To Think Plugin Output Is A Page
In-Reply-To: <DD5D6D6D-7CFE-4E67-ABD0-DD9063525A29@ftwr.co.uk>
References: <e9f3ce461001231642q171669dehf60fd63cc0eac568@mail.gmail.com>
	<DD5D6D6D-7CFE-4E67-ABD0-DD9063525A29@ftwr.co.uk>
Message-ID: <FCA28DC4-FCB3-4F25-BD6B-F7CB6787555C@gmail.com>

Thanks you two for your responses already. Problem is that a) I do  
need to use the plugin redirect hook for this plugin b) even I did it  
in the way the first respondent suggests this still wouldn't help as  
the template tags still have no idea what page we are on. Is there not  
a set of variables in wp_query that tell the tags that it is a page  
etc that can be set by the plugin? I've tried a few but it is  
difficult to guess which ones are required.

Thanks again.

Alex

On 24 Jan 2010, at 09:38, Peter Westwood <peter.westwood at ftwr.co.uk>  
wrote:

>
> On 24 Jan 2010, at 00:42, Alex Andrews wrote:
>
>> Dear list,
>>
>> In my plugin I interrupt template_redirect to produce my own pages  
>> via
>> loading my own templates. However, to trick certain bits of the
>> template into working, it would be very useful for Wordpress to think
>> these are pages proper, with titles etc. Is there some internal
>> Wordpress variable or set of variables I can set to do this? It would
>> be especially good if I could trick the plugin generated page to  
>> think
>> it was a part of the normal hierarchy of Wordpress pages, ie could
>> possibly have parents etc, while not being an part of this formally.
>
> The best way to do this is to create the page but modify its output.
>
> Either use a page template or other plugin code to modify the output.
>
> I would suggest you look at Mark Jaquiths new "I make plugins"  
> plugin as an example of how to do this.
>
> http://plugins.svn.wordpress.org/i-make-plugins/trunk/i-make-plugins.php
>
> Cheers
>
> Peter
> -- 
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From skeltoac at gmail.com  Sun Jan 24 17:04:21 2010
From: skeltoac at gmail.com (Andy Skelton)
Date: Sun, 24 Jan 2010 12:04:21 -0500
Subject: [wp-hackers] Fooling Wordpress To Think Plugin Output Is A Page
In-Reply-To: <e9f3ce461001231642q171669dehf60fd63cc0eac568@mail.gmail.com>
References: <e9f3ce461001231642q171669dehf60fd63cc0eac568@mail.gmail.com>
Message-ID: <e6ec604d1001240904yfd2e6des238fc80306bb20fa@mail.gmail.com>

On Sat, Jan 23, 2010 at 7:42 PM, Alex Andrews <awgandrews at gmail.com> wrote:
> In my plugin I interrupt template_redirect to produce my own pages via
> loading my own templates. However, to trick certain bits of the
> template into working, it would be very useful for Wordpress to think
> these are pages proper, with titles etc. Is there some internal
> Wordpress variable or set of variables I can set to do this? It would
> be especially good if I could trick the plugin generated page to think
> it was a part of the normal hierarchy of Wordpress pages, ie could
> possibly have parents etc, while not being an part of this formally.

You could ferret out all of the related filters and add your virtual
page that way. Why not just add the page to the database?

Andy

From emoya at tribune.com  Sun Jan 24 17:11:34 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Sun, 24 Jan 2010 11:11:34 -0600
Subject: [wp-hackers] Capabilities as a taxonomy
In-Reply-To: <30AF3C63-4E32-41F5-B625-9C97DAD9C8DA@newclarity.net>
Message-ID: <C781DB66.2B94%emoya@tribune.com>




On 1/23/10 4:03 PM, "Mike Schinkel" <mikeschinkel at newclarity.net> wrote:

> Not allowing multiple roles to a single user could lead to a maintenance
> nightmare for admins those sites that don't want to have to duplicate the
> capabilities for a role in every combination with other roles, i.e. e+w, e+cm,
> e+w+cm, etc.

I don't see how having all those combinations with no simple way of making
changes to only e+w's but not e+cm's would be less of a nightmare. You would
in essence have to create alternate versions of each roll for every special
case - e(a)+w and e(b)+cm. Havoc ensues.

I see what you mean though, if you have a truck load of unique users that
don't belong to specific groups then you might not want to have 100
different rolls created. Furthermore you might want to change all editing
behavior across the board which would, for arguments sake, be easier if you
could refer to all editor related behavior across the board as with e+w
e+cm, etc. However I would say if you are trying to change the editing
behavior of all users then you need to be able to change the capabilities
themselves, which is a flexibility wordpress currently lack imho - the
previously suggested taxonomic system might be an additional way of helping
to solve such problem. If we are going to do multi-roll system, we might as
well do away with rolls and assign capabilities directly to users one by
one.

It seems like perhaps whats being grasped for here, is a way to bundle
subsets of caps "sub-rolls" if you will. Whatever a user does is a user's
roll, and their "roll" in wordpress should reflect that.

As I said before, it may be a matter of simply allowing developers as much
flexibility as possible so they can develop powerful plugins so I'm not
entirely opposed to it, however I just don't see a case for how this really
simplifies the every day tasks of managing users.


From awgandrews at gmail.com  Sun Jan 24 17:14:48 2010
From: awgandrews at gmail.com (Alex Andrews)
Date: Sun, 24 Jan 2010 17:14:48 +0000
Subject: [wp-hackers] Fooling Wordpress To Think Plugin Output Is A Page
In-Reply-To: <e6ec604d1001240904yfd2e6des238fc80306bb20fa@mail.gmail.com>
References: <e9f3ce461001231642q171669dehf60fd63cc0eac568@mail.gmail.com>
	<e6ec604d1001240904yfd2e6des238fc80306bb20fa@mail.gmail.com>
Message-ID: <16F53EAC-F842-4479-AD7C-A8BD46B56B82@gmail.com>

The pages are too dynamic to be added to the database. Have you any  
idea what would be filtered? As I said it seems there must be bits of  
wp_query which correspond to the stuff that says 'this is a page  
called z'.

Thanks again.

Alex

On 24 Jan 2010, at 17:04, Andy Skelton <skeltoac at gmail.com> wrote:

> On Sat, Jan 23, 2010 at 7:42 PM, Alex Andrews <awgandrews at gmail.com>  
> wrote:
>> In my plugin I interrupt template_redirect to produce my own pages  
>> via
>> loading my own templates. However, to trick certain bits of the
>> template into working, it would be very useful for Wordpress to think
>> these are pages proper, with titles etc. Is there some internal
>> Wordpress variable or set of variables I can set to do this? It would
>> be especially good if I could trick the plugin generated page to  
>> think
>> it was a part of the normal hierarchy of Wordpress pages, ie could
>> possibly have parents etc, while not being an part of this formally.
>
> You could ferret out all of the related filters and add your virtual
> page that way. Why not just add the page to the database?
>
> Andy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From jordi at jcanals.cat  Sun Jan 24 18:59:46 2010
From: jordi at jcanals.cat (Jordi Canals)
Date: Sun, 24 Jan 2010 19:59:46 +0100
Subject: [wp-hackers] Fooling Wordpress To Think Plugin Output Is A Page
In-Reply-To: <16F53EAC-F842-4479-AD7C-A8BD46B56B82@gmail.com>
References: <e9f3ce461001231642q171669dehf60fd63cc0eac568@mail.gmail.com>
	<e6ec604d1001240904yfd2e6des238fc80306bb20fa@mail.gmail.com>
	<16F53EAC-F842-4479-AD7C-A8BD46B56B82@gmail.com>
Message-ID: <eccf1e7c1001241059q2faa49e2tb00c326e9a6d2862@mail.gmail.com>

2010/1/24 Alex Andrews <awgandrews at gmail.com>

> The pages are too dynamic to be added to the database. Have you any idea
> what would be filtered? As I said it seems there must be bits of wp_query
> which correspond to the stuff that says 'this is a page called z'.
>
> Thanks again.
>
> Alex
>
>
When I need to do that, I rely on the page ID, as the page title can be
easily changed.

Plug a function to 'the_content' filter and then, check the page ID:

function my_page_content ( $content )
{
     if ( 5 != get_the_ID() ) return $content;

    // Do your stuf here and modify the $content var if needed.

    return $content;
}

-- 
Jordi Canals
http://alkivia.org - http://jcanals.cat

From jordi at jcanals.cat  Sun Jan 24 19:00:37 2010
From: jordi at jcanals.cat (Jordi Canals)
Date: Sun, 24 Jan 2010 20:00:37 +0100
Subject: [wp-hackers] Fooling Wordpress To Think Plugin Output Is A Page
In-Reply-To: <eccf1e7c1001241059q2faa49e2tb00c326e9a6d2862@mail.gmail.com>
References: <e9f3ce461001231642q171669dehf60fd63cc0eac568@mail.gmail.com>
	<e6ec604d1001240904yfd2e6des238fc80306bb20fa@mail.gmail.com>
	<16F53EAC-F842-4479-AD7C-A8BD46B56B82@gmail.com>
	<eccf1e7c1001241059q2faa49e2tb00c326e9a6d2862@mail.gmail.com>
Message-ID: <eccf1e7c1001241100s2c751a14jefd520afde8198b2@mail.gmail.com>

2010/1/24 Jordi Canals <jordi at jcanals.cat>

> 2010/1/24 Alex Andrews <awgandrews at gmail.com>
>
> The pages are too dynamic to be added to the database. Have you any idea
>> what would be filtered? As I said it seems there must be bits of wp_query
>> which correspond to the stuff that says 'this is a page called z'.
>>
>> Thanks again.
>>
>> Alex
>>
>>
> When I need to do that, I rely on the page ID, as the page title can be
> easily changed.
>
> Plug a function to 'the_content' filter and then, check the page ID:
>
> function my_page_content ( $content )
> {
>      if ( 5 != get_the_ID() ) return $content;
>
>     // Do your stuf here and modify the $content var if needed.
>
>     return $content;
> }
>
>
Forgot this:

add_filer('the_content', 'my_page_content');

-- 
Jordi Canals
http://alkivia.org - http://jcanals.cat

From jordi at jcanals.cat  Sun Jan 24 19:38:00 2010
From: jordi at jcanals.cat (Jordi Canals)
Date: Sun, 24 Jan 2010 20:38:00 +0100
Subject: [wp-hackers] Capabilities as a taxonomy
In-Reply-To: <C781DB66.2B94%emoya@tribune.com>
References: <30AF3C63-4E32-41F5-B625-9C97DAD9C8DA@newclarity.net>
	<C781DB66.2B94%emoya@tribune.com>
Message-ID: <eccf1e7c1001241138w510babads292405b3b7000f27@mail.gmail.com>

2010/1/24 Moya, Eddie <emoya at tribune.com>

>
> As I said before, it may be a matter of simply allowing developers as much
> flexibility as possible so they can develop powerful plugins so I'm not
> entirely opposed to it, however I just don't see a case for how this really
> simplifies the every day tasks of managing users.
>

I always try to manage rights as did to administer systems. My though is
that creating task oriented roles makes an easy administration, nut to do
so, you need to be able to assign more than one role to users. That way, I
will try to imagine an scenario as I have on some sites.

I normally use the default roles, which are task oriented: Author, Editor,
Contributor.
But sometimes I need some kind of management tasks: UserManager,
ImageModerator, CommentModerator or StyleAdmin.

Having just this seven roles I can do a lot of combinations without having
to create new roles each time I need a new combination:

User A : Author + CommentModerator
User B: Editor + ImageModerator
User C: Editor + ImageModerator + UserManager
User D: CommentModerator + ImageModerator
Use E: Author + StyleAdmin

and so on...

With this, finding users that can do one of the tasks I'm interested to
query for is so easy:
Who can Moderate Comments? Query for CommentModerator role
If we are allowed to only have one role per user. It would be a nightmare to
find the Comment Moderators or the User Managers.

Always when talking about granting to allow having more than one role per
user, you have to ask the following question:

How systems manage user groups? Why all systems allow a user to be part of a
group? What are the best practices for user groups administration ?
Change 'group' by 'role' and ask: Why we want WordPress do it different ?
And what will this provide that is best that allowing a user having more
than one role?

Until now, WordPress allowed user to have (or to be member of) more than one
role. Most people don't use that, but a big amount of administrators do it.
Why we want to limit the flexibility those administrators have?

-- 
Jordi Canals
http://alkivia.org - http://jcanals.cat

From wp-hackers at striderweb.com  Sun Jan 24 23:03:09 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sun, 24 Jan 2010 17:03:09 -0600
Subject: [wp-hackers] plugin frameworks...
In-Reply-To: <9aa12a491001240256r14ad70c6g2e0d662b2527a374@mail.gmail.com>
References: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
	<61391251-FBB5-49A3-8A3E-F9BC88BA9C5D@striderweb.com>
	<9aa12a491001240256r14ad70c6g2e0d662b2527a374@mail.gmail.com>
Message-ID: <C17100E6-5242-4630-985E-867E2C94A2FF@striderweb.com>


On Jan 24, 2010, at 4:56 AM, Davit Barbakadze wrote:

> I like your versioning idea, never thought about it. Could be really
> handy. But why such complex approach?

I would like to make it as simple as possible -- that's what I came up with.  Basically, the way WP plugins work, it *must* load each plugin -- so I set it up so that loading simply checks for each framework version, and then after all plugins are loaded, it loads the framework with the highest version, then the "meat" of each actual plugin.

So, yeah, it seems a bit complex, but basically:
  1) load each plugin, record the framework version numbers (but do nothing else yet -- basically just loading a "bootstrap" file for each of those plugins)
  2) wait for plugins_loaded, find the highest version of the framework, load that copy of the framework
  3) load the "main" file for each plugin using the framework

If you have suggestions for simplifying the code that does that, I'm open to them.  ;-)

> What will happen if user will
> deactivate plugin with newest Strider version, the whole thing will
> failback to old one again, right?

The Strider Core that is the highest version in any *activated* plugin will run.  So yes, deactivate a plugin with a high version may cause a lower version to run from a still active plugin.

> Why not to place Strider files right
> in wp-plugins/ folder (without plugin meta info) and just include them
> once from there? I think that's what I will do in the end. Any bad
> sides to this?

I very much like the idea of plugins being completely self-contained.  No bad sides to putting it separate in the plugins folder, except that a user might forget to update the framework when updating a plugin.  Other than that, I think the same issues arise with that as with using my method -- that is a newer version of the framework may be running with an older plugin, and thus you have to be careful of backward compatibility.

My system is actually a bit more flexible in that last regard, because if a new version really must break backward compatibility, you can just alter the framework's class (e.g. strider_core_2) and you're still good to go.

Stephen

> On Sun, Jan 24, 2010 at 9:32 AM, Stephen Rider
> <wp-hackers at striderweb.com> wrote:
>> 
>> Mine's not very polished -- the others you've been shown probably do things differently, but it may be worth a look:
>> 
>> Strider Core:
>> <http://code.google.com/p/strider-core/>


From wp-hackers at google-adsense-templates.co.uk  Mon Jan 25 02:27:08 2010
From: wp-hackers at google-adsense-templates.co.uk (AdSense Templates)
Date: Mon, 25 Jan 2010 02:27:08 +0000
Subject: [wp-hackers] Fooling Wordpress To Think Plugin Output Is A Page
In-Reply-To: <e9f3ce461001231642q171669dehf60fd63cc0eac568@mail.gmail.com>
References: <e9f3ce461001231642q171669dehf60fd63cc0eac568@mail.gmail.com>
Message-ID: <t5vpl55vac4pghj3771nsrqtctfrfttj35@4ax.com>

Hi,

Not quite sure what you are trying to achieve.

Are these pages visible by your visitors and what you are trying to do
is get WordPress to use a different type of template to the default
one for other pages of your blog?

If so there's the inbuilt pages template selection feature. You could
use it to use a different template to the default one completely, so
rather than trying to figure out which elements to add to your custom
page and hack it into WordPress instead remove what you don't want
from a custom template file.

I use the template feature to create a sitemap for example, recently
made one that also lists the latest 300 comments and an alphabetical
list of all posts and pages. So a sitemap with recent comments.

http://www.general-election-2010.co.uk/recent-comments

To create the above page I made a template (copy of page.php with
changes) with some custom code and created a new page called Recent
Comments which I added no content to and selected the new page.php
based template.

Wouldn't be that difficult to have a different header.php, footer.php
files loaded instead of the default either. I'm using a plugin called
SEO Super Comments and had to make a new template based on the
single.php file which has custom code to make it work as I wanted
(didn't want comments for example) including a separate header.php
file (header2.php) so I could use a custom title element for those
pages. This page
http://www.general-election-2010.co.uk/who-will-you-vote-for-in-the-2010-general-election-poll.html?cid=4165
is made with that template file and plugin.

Although I went with the same theme look I could have used any theme
for the above pages, same for the sitemap page. By doing it this way
they are WordPress pages and have all the features available a page
has (remove what you don't want via your custom template).

If I've understood what you are trying to do you might be making it
harder than it could be.

David
-- 
Monetize your WordPress blog with Search Engine Optimized templates
including AdSense ads http://www.google-adsense-templates.co.uk/

On Sun, 24 Jan 2010 00:42:09 +0000, you wrote:

>Dear list,
>
>In my plugin I interrupt template_redirect to produce my own pages via
>loading my own templates. However, to trick certain bits of the
>template into working, it would be very useful for Wordpress to think
>these are pages proper, with titles etc. Is there some internal
>Wordpress variable or set of variables I can set to do this? It would
>be especially good if I could trick the plugin generated page to think
>it was a part of the normal hierarchy of Wordpress pages, ie could
>possibly have parents etc, while not being an part of this formally.
>
>Thanks you for help
>
>Alex
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers

From jayarjo at gmail.com  Mon Jan 25 10:17:27 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Mon, 25 Jan 2010 14:17:27 +0400
Subject: [wp-hackers] plugin frameworks...
In-Reply-To: <C17100E6-5242-4630-985E-867E2C94A2FF@striderweb.com>
References: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
	<61391251-FBB5-49A3-8A3E-F9BC88BA9C5D@striderweb.com>
	<9aa12a491001240256r14ad70c6g2e0d662b2527a374@mail.gmail.com>
	<C17100E6-5242-4630-985E-867E2C94A2FF@striderweb.com>
Message-ID: <9aa12a491001250217q54afeea4k243cfbc39fb5c52f@mail.gmail.com>

> I very much like the idea of plugins being completely self-contained. ?No bad sides to putting it separate in the plugins folder, except that a user might forget to update the framework when updating a plugin. ?Other than that, I think the same issues arise with that as with using my method -- that is a newer version of the framework may be running with an older plugin, and thus you have to be careful of backward compatibility.
>
> My system is actually a bit more flexible in that last regard, because if a new version really must break backward compatibility, you can just alter the framework's class (e.g. strider_core_2) and you're still good to go.

Yes, I realized this after I sent a message - users maybe scared off
by too deep intervention into their wp installation. Another guy
mentioned this - could be really handy if wordpress had internal
support for libraries. So yes, your approach could be better in some
sense, but then I still do not see why older plugin may need a newer
library, especially when renewing is not guaranteed. So if newer
library let's say does a patch on some crucial vulnerability, and then
on deactivation it will suddenly bail out to older bugged version,
then if anything will happen through this hole, no one and especially
user will probably never understand what had happened at all.

What if framework will stay inside the plugin folder, but using a bit
of your approach will place a notice in global space about what
version is activated and actually from where it was loaded and then a
plugin with newer version of framework will renew all existing
versions of framework upon install. Damn... I think that's a bit too
much :D

I think placing framework in seperate directory accessible from all
plugins and then holding an eye on backward compatibility can be the
best approach.Would be great if wordpress had support for that! You
can't keep renaming your classes forever, right? Or it least it's not
a cleanest way. It has something of the flat plugin coding, when
functions are not encapsulated in class and just prefixed. I used to
use it initially and always felt uncomfortable.


Davit Barbakadze

From jayarjo at gmail.com  Mon Jan 25 10:43:00 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Mon, 25 Jan 2010 14:43:00 +0400
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <394dda561001141620o1079ca6bkcb72ca95bbf5e67d@mail.gmail.com>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
	<4B4FA095.8050001@mullenweg.com> <4B4FB11F.2070200@bugssite.org>
	<394dda561001141620o1079ca6bkcb72ca95bbf5e67d@mail.gmail.com>
Message-ID: <9aa12a491001250243x158414a6k628372aa7ec1f20@mail.gmail.com>

I tried to use namespaces recently just to find out that my hosting
server has not upgraded to PHP 5.3.0 yet. And I got at least two users
with PHP4 on their servers, with one of them having no potential way
to upgrade. So basically it's an infinite loop, hosting servers look
at users and while they do not claim an upgrade do not usually do it,
then WordPress looks at PHP versions used on servers sees that they
are still old and doesn't drop support for them... It can last for
years!

The newer is always better, probably there's no doubt about it, at
least in PHP world? It's sad to see that cool features are pulled away
to indefinite future only because general auditory still uses old
stuff, like old PHP and old browsers, etc. And it's generally not a
matter of performance. WordPress like a popular product as well as all
other big guys should at one moment stand up and help a better world
to come! IE6 and PHP4 must die! :) And then it's just another thing
that is easier to say then - do...

Maybe WordPress just has different priorities.

On Fri, Jan 15, 2010 at 4:20 AM, Jordi Canals <jcanals at alkivia.net> wrote:
> I just make a check on my plugins as them only work on PHP-5. If there is no
> PHP 5.0.0 or higher installed on server, the plugin just shows an "admin
> warning" and does nothing.
>
> As we do with WordPress, I think we have to encourage to have a reasonable
> current version of PHP, as it is releated also to security. I think PHP-4 is
> not a reasonable current version, and everybody had a lot of time to update
> servers to a newer version. Just consider that PHP-4 support was
> discontinued two years ago. (With the last security fix on Aug, 7 2008
> (thats a long time ago).
>
> I think nobody imagines to write plugins compatible with a WordPress version
> two years old... think the same is about an obsolete PHP version.
>
> Jordi Canals.
>
> 2010/1/15 Shane A. Froebel <shane at bugssite.org>
>
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA1
>>
>> Reality the threshold is going to get lower sooner than later when
>> plugins stop supporting PHP4 and I know a lot of good object oriented
>> programing for plugins can only support PHP5.
>>
>> I really is a matter of 2 *maybe 3* versions before we are forced to
>> switch over to PHP5. I love to see it sooner because then I wouldn't
>> have to check for php4 functions.
>>
>> Food for thought. :-)
>>
>> Your Friend, Shane
>> http://bugssite.org/
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From marvinc at gmail.com  Mon Jan 25 14:13:48 2010
From: marvinc at gmail.com (MarvinC)
Date: Mon, 25 Jan 2010 09:13:48 -0500
Subject: [wp-hackers] Possible OT: News on multiple pages
Message-ID: <604360771001250613u3b568debnebb413f7b2138f41@mail.gmail.com>

My apologies in advance if this question doesn't constitute as a "hack" but
I'm hoping it's close enough to generate a response or push in the right
direction.

I have a WordPress 2.9.1 site running vBulletin and the vBridge plugin
that's set to use VB for comments. This places the News posts to the front
page. What I'm asked is if it's possible to have certain posts and "static"
content to appear on the front page and have another page that displays ALL
of the posts? So on the front page I'd have the following setup:

Block #1 News scroller - (I'm currently using the Rotating Post for this to
only display content from the News category.)
Block #2 A smooth gallery slideshow
Block #3 A block displaying a weekly feature.
Block #4 Fixed Info that rarely changes

The way I have it under Reading Settings is:

Front Page: Welcome
Posts Page: News

In this setup the vBridge cause (forces) the posts to appear on both pages,
which adds confusion. So I'm wondering if anyone knows of a set of plugins
or a method allows me to achieve this without breaking the vBridge?

Any responses or feedback appreciated.

From otto at ottodestruct.com  Mon Jan 25 14:44:42 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 25 Jan 2010 08:44:42 -0600
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <9aa12a491001250243x158414a6k628372aa7ec1f20@mail.gmail.com>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com> 
	<4B4FA095.8050001@mullenweg.com> <4B4FB11F.2070200@bugssite.org> 
	<394dda561001141620o1079ca6bkcb72ca95bbf5e67d@mail.gmail.com> 
	<9aa12a491001250243x158414a6k628372aa7ec1f20@mail.gmail.com>
Message-ID: <161617691001250644r1bbc830ejcbf5fb78019a7f63@mail.gmail.com>

Yes, well, this sort of response doesn't cause me to be encouraged
about this sort of thing:

http://wordpress.org/support/topic/316394?replies=18#post-1350349

-Otto



On Mon, Jan 25, 2010 at 4:43 AM, Davit Barbakadze <jayarjo at gmail.com> wrote:
> I tried to use namespaces recently just to find out that my hosting
> server has not upgraded to PHP 5.3.0 yet. And I got at least two users
> with PHP4 on their servers, with one of them having no potential way
> to upgrade. So basically it's an infinite loop, hosting servers look
> at users and while they do not claim an upgrade do not usually do it,
> then WordPress looks at PHP versions used on servers sees that they
> are still old and doesn't drop support for them... It can last for
> years!
>
> The newer is always better, probably there's no doubt about it, at
> least in PHP world? It's sad to see that cool features are pulled away
> to indefinite future only because general auditory still uses old
> stuff, like old PHP and old browsers, etc. And it's generally not a
> matter of performance. WordPress like a popular product as well as all
> other big guys should at one moment stand up and help a better world
> to come! IE6 and PHP4 must die! :) And then it's just another thing
> that is easier to say then - do...
>
> Maybe WordPress just has different priorities.

From jane at automattic.com  Mon Jan 25 15:02:34 2010
From: jane at automattic.com (Jane Wells)
Date: Mon, 25 Jan 2010 10:02:34 -0500
Subject: [wp-hackers] plugin compatibility on .org
Message-ID: <FC57E04D-4CAC-499C-80F8-6F9D848498DB@automattic.com>

Someone started a thread on Ideas forum about the plugin compatibility  
widget on Extend. Maybe some of you could weigh in over there? http://wordpress.org/extend/ideas/topic.php?id=3554
Jane

From dan at phiffer.org  Mon Jan 25 15:48:39 2010
From: dan at phiffer.org (Dan Phiffer)
Date: Mon, 25 Jan 2010 10:48:39 -0500
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <4B4FA095.8050001@mullenweg.com>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
	<4B4FA095.8050001@mullenweg.com>
Message-ID: <D7527BFE-2304-4830-A2A6-B19EB6E88484@phiffer.org>


On Jan 14, 2010, at 5:54 PM, Matt Mullenweg wrote:

> On 2010-01-14 7:46 AM, Helgi Hrafn Gunnarsson wrote:
>> I'm just checking up on whether there is any intention of upgrading the
>> minimum requirement to PHP 5 soon. The reason is that I had intended to use
>> WordPress some months ago, discovering that it was quite heavy, wanting to
>> make the code faster using various PHP 5 features, only to discover that the
>> project still retained a policy of sticking to PHP 4.3.
> 
> No plans. We've general found performance enhancements to not require PHP5. If you've benchmarked and identified otherwise, please share with the community.

What about JSON/XML (i.e., libxml2) processing? Surely those would have some performance and maintenance benefits compared to pure-PHP solutions. Are those available via PECL for PHP4? I don't know much about WP internals, so perhaps they are already being used when available.

I could imagine some aspects of PHP4 being confusing for somebody who may have started out on PHP5:
"Pass an object by reference?"
"Why is my __construct method busted?"

But IMO the "It Just Works" quality of WP trumps developer convenience.

-Dan

From wp at andrewnacin.com  Mon Jan 25 16:09:14 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 25 Jan 2010 11:09:14 -0500
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <D7527BFE-2304-4830-A2A6-B19EB6E88484@phiffer.org>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com> 
	<4B4FA095.8050001@mullenweg.com>
	<D7527BFE-2304-4830-A2A6-B19EB6E88484@phiffer.org>
Message-ID: <4cc4de141001250809h3ad9262k6fb430a73b3a735b@mail.gmail.com>

>
> What about JSON/XML (i.e., libxml2) processing? Surely those would have
> some performance and maintenance benefits compared to pure-PHP solutions.
> Are those available via PECL for PHP4? I don't know much about WP internals,
> so perhaps they are already being used when available.


As two examples in how WP 2.9 handles JSON and XML:

1. For PHP < 5.2, json_decode() and json_encode() fall back to the PEAR
Services_Json class, which is bundled with WP (included only when needed).

2. In the case of oEmbed, the JSON format is strongly preferred, and if we
end up with XML on PHP 4 and don't have libxml, we don't bother with a
fallback and return false.

Instead of simply breaking PHP 4 compatibility, the idea is to use PHP
5-only features as a form of progressive enhancement. Over time, more and
more features in WP will require PHP 5 when no PHP 4 alternative is
available or if PHP4 compat just isn't worth the trouble.

I could imagine some aspects of PHP4 being confusing for somebody who may
> have started out on PHP5:

"Pass an object by reference?"

"Why is my __construct method busted?"


Developers should be coding with backwards compatibility in mind -- whether
it is PHP 5 to 4, or 5.3 to 5.1. Someone starting out on 5.2 will need to
realize that json_encode() wasn't in 5.1.

As said, there are things that trump developer convenience, but there's
nothing stopping a plugin developer from forcing a PHP 5 requirement, which
is quite easy to do. (You can even throw a fatal error and prevent the
plugin from ever being activated.) In fact, many encourage that, as a way to
ease people to (bother their hosts to transition to) PHP 5 and to reduce a
burden on the developer.

From otto at ottodestruct.com  Mon Jan 25 16:29:08 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 25 Jan 2010 10:29:08 -0600
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <4cc4de141001250809h3ad9262k6fb430a73b3a735b@mail.gmail.com>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com> 
	<4B4FA095.8050001@mullenweg.com>
	<D7527BFE-2304-4830-A2A6-B19EB6E88484@phiffer.org> 
	<4cc4de141001250809h3ad9262k6fb430a73b3a735b@mail.gmail.com>
Message-ID: <161617691001250829i64fd8316l99a513cb0d79e764@mail.gmail.com>

On Mon, Jan 25, 2010 at 10:09 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
> As said, there are things that trump developer convenience, but there's
> nothing stopping a plugin developer from forcing a PHP 5 requirement, which
> is quite easy to do. (You can even throw a fatal error and prevent the
> plugin from ever being activated.) In fact, many encourage that, as a way to
> ease people to (bother their hosts to transition to) PHP 5 and to reduce a
> burden on the developer.

I've been doing this or similar for a while now:

// require PHP 5
function plugin_activation_check(){
	if (version_compare(PHP_VERSION, '5.0.0', '<')) {
		deactivate_plugins(basename(__FILE__)); // Deactivate ourself
		wp_die("Sorry, Plugin Name requires PHP 5 or higher. Ask your host
how to enable PHP 5 as the default on your servers.");
	}
}
register_activation_hook(__FILE__, 'plugin_activation_check');

I also add checks to that for specific functions when a plugin needs
specific support for them, but the fact is that PHP 4 is simply dead
tech. Nobody really supports it anymore. More and more hosts are
starting to change their defaults to PHP 5. I see no reason to
continue to support that 1% of hosts that don't offer PHP 5 support.

-Otto

From shane at bugssite.org  Mon Jan 25 16:47:29 2010
From: shane at bugssite.org (Shane A. Froebel)
Date: Mon, 25 Jan 2010 11:47:29 -0500
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <161617691001250829i64fd8316l99a513cb0d79e764@mail.gmail.com>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
	<4B4FA095.8050001@mullenweg.com>	<D7527BFE-2304-4830-A2A6-B19EB6E88484@phiffer.org>
	<4cc4de141001250809h3ad9262k6fb430a73b3a735b@mail.gmail.com>
	<161617691001250829i64fd8316l99a513cb0d79e764@mail.gmail.com>
Message-ID: <4B5DCB21.7060906@bugssite.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1


Ditto. PHP 4 support is dead and the vulnerability list keeps getting
longer.

On 1/25/2010 11:29 AM, Otto wrote:
> I also add checks to that for specific functions when a plugin needs
> specific support for them, but the fact is that PHP 4 is simply dead
> tech. Nobody really supports it anymore. More and more hosts are
> starting to change their defaults to PHP 5. I see no reason to
> continue to support that 1% of hosts that don't offer PHP 5 support.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (MingW32)

iQIcBAEBAgAGBQJLXcshAAoJEC7/vS6gbNwFcuYQAJo7qxvxu562Kfy2lMWsJcvQ
S6ToTKDXGUqdcFP64q1Wuw136j0hv3oVxaOBiyR47NaRF4FX4HN+CodJGWzWuW6S
jeGcRTXsNrBZTvHWOflsRNNYubyhOMNlUmquEPg9rzEmryHqE2g9L97P7SQT4ds9
v+STD81KBtOBKZ+f6slsV6RHBsOcqONrRvTu1h61Bu+KRRVSpKftd2O7MN/psJXp
9yg1HZvixosyfBDrGbYCYLGMTtMzkd0DjcDcMYfylTcMONZpbyZdKGmV1XTdsTD/
3sS7Qntjy1Ps65pp7TWw0oiHKE7RjcAUdnzZYJW5uN/3U/3t199DeJ7ruUHAbqtY
I5UaoSSGDFTy4RmyvhnHDXjCsM/aDIDmPPJGor3wKGkTVIs4v2xHki/ulNPbM67I
NQzNIf1ZDK4/IhmebMnfVXY91orNw7Zfm3jtPDf7RqqOslow9426Vu3G8kX60V05
X7iV8AWm4ZnXG4BMENCeBOYjcUMx+4pFE30TVwYSkm22Z//wY6t/cqzNAe45Nokb
2IBuqzLel8Bts1/c+5Vqu7aJUqMS/34AXUGwyFCQzWRpDNkOxRBD1Bc6AiqynPwr
e1nQFz9VEOMQKXAaIdM9YyXSOZDSbWvnRtzcT9o0mufsSpkVXcNYjJBJIYjjy/KU
0N2d0np4qJ/jZm4RMLO5
=qV7Y
-----END PGP SIGNATURE-----

From austin at ilfilosofo.com  Mon Jan 25 17:34:45 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Mon, 25 Jan 2010 11:34:45 -0600
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <4cc4de141001250809h3ad9262k6fb430a73b3a735b@mail.gmail.com>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
	<4B4FA095.8050001@mullenweg.com>
	<D7527BFE-2304-4830-A2A6-B19EB6E88484@phiffer.org>
	<4cc4de141001250809h3ad9262k6fb430a73b3a735b@mail.gmail.com>
Message-ID: <674b4a3b1001250934o1d0c8312m7135e8e73e63f533@mail.gmail.com>

On Mon, Jan 25, 2010 at 10:09 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
> Instead of simply breaking PHP 4 compatibility, the idea is to use PHP
> 5-only features as a form of progressive enhancement. Over time, more and
> more features in WP will require PHP 5 when no PHP 4 alternative is
> available or if PHP4 compat just isn't worth the trouble.

The problem is that some of the best parts of PHP 5+ are found by
using its particular syntax, which means that "progressive
enhancement" won't work.  PHP 5 is really a different language from
PHP 4, and you can't enhance your way from PHP 4 into PHP 5 any more
than you could enhance your way from Latin into English.  Or at least
the process will take so long that everyone else will have already
left you behind by the time you get there.

There's always (rightfully) talk of how end users will be affected by
requiring PHP 5+, but I think it's imprudent to ignore PHP 4's
wet-blanket effect on developers.  What kind of developers are
attracted to a project if forced to write in a dead language,
excepting those who have an existing commitment or financial
incentive?

Matt Mullenweg used to say that we'd increase the minimum requirement
to PHP 5 once PHP 4 use fell below 10%.  I think we need to stick with
that criterion to keep from stagnating.

From wp-hackers at striderweb.com  Mon Jan 25 22:23:07 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon, 25 Jan 2010 16:23:07 -0600
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <674b4a3b1001250934o1d0c8312m7135e8e73e63f533@mail.gmail.com>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
	<4B4FA095.8050001@mullenweg.com>
	<D7527BFE-2304-4830-A2A6-B19EB6E88484@phiffer.org>
	<4cc4de141001250809h3ad9262k6fb430a73b3a735b@mail.gmail.com>
	<674b4a3b1001250934o1d0c8312m7135e8e73e63f533@mail.gmail.com>
Message-ID: <7C0EB4B3-5664-4D60-B678-31A4A6E817B6@striderweb.com>


On Jan 25, 2010, at 11:34 AM, Austin Matzko wrote:

> Matt Mullenweg used to say that we'd increase the minimum requirement
> to PHP 5 once PHP 4 use fell below 10%.

Yes, and the last time this discussion hit this list, I believe the numbers were approaching 12% or so.

So just hang in there, y'all.  It will happen.

Stephen

From jaredbangs at gmail.com  Mon Jan 25 22:31:28 2010
From: jaredbangs at gmail.com (Jared Bangs)
Date: Mon, 25 Jan 2010 14:31:28 -0800
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <674b4a3b1001250934o1d0c8312m7135e8e73e63f533@mail.gmail.com>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
	<4B4FA095.8050001@mullenweg.com>
	<D7527BFE-2304-4830-A2A6-B19EB6E88484@phiffer.org>
	<4cc4de141001250809h3ad9262k6fb430a73b3a735b@mail.gmail.com>
	<674b4a3b1001250934o1d0c8312m7135e8e73e63f533@mail.gmail.com>
Message-ID: <7b4922321001251431t5722946did277bb3298696ad8@mail.gmail.com>

On Mon, Jan 25, 2010 at 9:34 AM, Austin Matzko <austin at ilfilosofo.com> wrote:
>
> There's always (rightfully) talk of how end users will be affected by
> requiring PHP 5+, but I think it's imprudent to ignore PHP 4's
> wet-blanket effect on developers. ?What kind of developers are
> attracted to a project if forced to write in a dead language,
> excepting those who have an existing commitment or financial
> incentive?

I appreciate that perspective, and agree that it could be a factor
affecting the number of people willing to submit core code to WP. That
being said, it's also fortunate that there is no restriction on doing
PHP5-only plugins, which is what I've been doing for quite some time.

I think the best way to "encourage" the PHP5 upgrade (for those of us
interested in seeing it happen) is to insist on only creating PHP5
compatible code in plugins and even themes. If there are enough
high-quality plugins and themes out there that only work on PHP5, that
will hopefully provide incentive for users to pursue an upgrade path
with their hosts. Which brings us to...

> Matt Mullenweg used to say that we'd increase the minimum requirement
> to PHP 5 once PHP 4 use fell below 10%. ?I think we need to stick with
> that criterion to keep from stagnating.

While I fully understand that this is unlikely to change anytime soon
(and have no interest / energy to campaign for it), using this as a
criteria on its own seems like it could end up taking quite a while.

It would be interesting if we could see a graph of the PHP4 decline,
based on the stats being collected (since I assume that's what this
number is being based on). I suspect that it's possible that the trend
could plateau after a while (once everyone who is likely to put any
energy behind upgrading their platform has done so) and I could easily
see this happening at above the 10% mark, with a very slight gradual
decline from that point onwards.

Ultimately, while seeing this data would be interesting, I think it's
probably pointless to talk about it too much, and probably much more
effective to spend time doing things that will contribute to
encouraging people to adopt 5 as soon as possible.

For WP developers, I think the best way to do this is releasing
PHP5-only WP plugins / themes. Perhaps some of the more mischievous
hackers (on the list or elsewhere) should try to pump out as many
security exploits against PHP4 as possible, to provide a more
"attractive" / urgent motivation to get the heck off of it, since it
isn't being patched anymore. :-)

From wp-hackers at striderweb.com  Mon Jan 25 23:03:33 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon, 25 Jan 2010 17:03:33 -0600
Subject: [wp-hackers] plugin frameworks...
In-Reply-To: <9aa12a491001250217q54afeea4k243cfbc39fb5c52f@mail.gmail.com>
References: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
	<61391251-FBB5-49A3-8A3E-F9BC88BA9C5D@striderweb.com>
	<9aa12a491001240256r14ad70c6g2e0d662b2527a374@mail.gmail.com>
	<C17100E6-5242-4630-985E-867E2C94A2FF@striderweb.com>
	<9aa12a491001250217q54afeea4k243cfbc39fb5c52f@mail.gmail.com>
Message-ID: <025EF2C0-E8E3-4874-9344-48FFBA595E84@striderweb.com>


On Jan 25, 2010, at 4:17 AM, Davit Barbakadze wrote:

> So yes, your approach could be better in some
> sense, but then I still do not see why older plugin may need a newer
> library, especially when renewing is not guaranteed. So if newer
> library let's say does a patch on some crucial vulnerability, and then
> on deactivation it will suddenly bail out to older bugged version,
> then if anything will happen through this hole, no one and especially
> user will probably never understand what had happened at all.

At worst, an old plugin will run the version of the framework include in itself.  Sometimes it will run on a newer (presumably improved) version.  In *no* cases will a plugin run a version of the framework *older* than the one included with itself.  So as I see it... some upside and no downside.

The other way is to just take the framework and change the class name for your particular plugin, and it becomes a stand-alone use of the framework, with code exclusive to the one plugin only.

> What if framework will stay inside the plugin folder, but using a bit
> of your approach will place a notice in global space about what
> version is activated and actually from where it was loaded and then a
> plugin with newer version of framework will renew all existing
> versions of framework upon install. Damn... I think that's a bit too
> much :D

Or just put out updates for plugins when the framework is updated. ;-)

Actually, I have a concept of the framework (optionally per plugin author) adding info to the plugin's Settings page in admin, giving info and possibly global settings for the framework itself.

> I think placing framework in seperate directory accessible from all
> plugins and then holding an eye on backward compatibility can be the
> best approach.

Basically what you're probably looking at is "plugin dependencies -- in which on plugin can be made dependent on another plugin.  Then the framework could be a separate plugin in its own right.

That could be done right now, in WP 2.9, if you wanted to.  Just add some code to the dependent plugin saying "if framework_class doesn't exist, deactivate this".

> Would be great if wordpress had support for that! You
> can't keep renaming your classes forever, right?

The hope is that true "back breakers" don't happen very often, but if they do, hey... integers are infinite. ;-)

> Or it least it's not
> a cleanest way. It has something of the flat plugin coding, when
> functions are not encapsulated in class and just prefixed. I used to
> use it initially and always felt uncomfortable.

Agreed it sometimes feels less than elegant, but it's not too bad.  The only real danger is if some author picks up the framework and makes changes, but doesn't (as required by license) change the class names.

Stephen

From wordpress at dd32.id.au  Tue Jan 26 00:49:15 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Tue, 26 Jan 2010 11:49:15 +1100
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <7C0EB4B3-5664-4D60-B678-31A4A6E817B6@striderweb.com>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>
	<4B4FA095.8050001@mullenweg.com>
	<D7527BFE-2304-4830-A2A6-B19EB6E88484@phiffer.org>
	<4cc4de141001250809h3ad9262k6fb430a73b3a735b@mail.gmail.com>
	<674b4a3b1001250934o1d0c8312m7135e8e73e63f533@mail.gmail.com>
	<7C0EB4B3-5664-4D60-B678-31A4A6E817B6@striderweb.com>
Message-ID: <op.u6368dozspxmuu@dd32>

On Tue, 26 Jan 2010 09:23:07 +1100, Stephen Rider  
<wp-hackers at striderweb.com> wrote:

>
> On Jan 25, 2010, at 11:34 AM, Austin Matzko wrote:
>
>> Matt Mullenweg used to say that we'd increase the minimum requirement
>> to PHP 5 once PHP 4 use fell below 10%.
>
> Yes, and the last time this discussion hit this list, I believe the  
> numbers were approaching 12% or so.
>
> So just hang in there, y'all.  It will happen.

+1 It'll eventually happen, There just needs to be a small enough  
percentage (Give it another version or 2 IMO)

Just to prove its still in the main developers minds:  
https://irclogs.wordpress.org/chanlog.php?channel=wordpress-dev&day=2010-01-07&sort=asc#m51691  
:)
-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
  Web: http://dd32.id.au/

From lists at rotorised.com  Tue Jan 26 01:20:12 2010
From: lists at rotorised.com (Ryan McCue)
Date: Tue, 26 Jan 2010 11:20:12 +1000
Subject: [wp-hackers] PHP 5 any time soon?
In-Reply-To: <op.u6368dozspxmuu@dd32>
References: <37fed22b1001140746i71881f33va189bfcffccf6890@mail.gmail.com>	<4B4FA095.8050001@mullenweg.com>	<D7527BFE-2304-4830-A2A6-B19EB6E88484@phiffer.org>	<4cc4de141001250809h3ad9262k6fb430a73b3a735b@mail.gmail.com>	<674b4a3b1001250934o1d0c8312m7135e8e73e63f533@mail.gmail.com>	<7C0EB4B3-5664-4D60-B678-31A4A6E817B6@striderweb.com>
	<op.u6368dozspxmuu@dd32>
Message-ID: <4B5E434C.2080209@rotorised.com>

Dion Hulse (dd32) wrote:
> Just to prove its still in the main developers minds: 
> https://irclogs.wordpress.org/chanlog.php?channel=wordpress-dev&day=2010-01-07&sort=asc#m51691 
> :)

Given the context, I doubt it'll happen soon. :)

-- 
Ryan McCue
<http://ryanmccue.info/>


From steagl4ml at gmail.com  Tue Jan 26 08:54:09 2010
From: steagl4ml at gmail.com (Stefano Aglietti)
Date: Tue, 26 Jan 2010 09:54:09 +0100
Subject: [wp-hackers] Complex login, urgent problem
Message-ID: <74b9a9e21001260054i2e7c8a89x2104db917fac2173@mail.gmail.com>

I have a series of nanopublishing blogs that use a complex login method to
integrate into an existing community but keeping the WP accounts separated,
I use the External DB Authentication plugin to check against another DB the
logind data and let user authenticate. But there is a caveat, we have to
check if a user is logged into the original community and if so silently log
him into the various WP blogs. The external DB plugin has no modification
but I made 2 functions in the functions.php theme's file, I have a function
that give me back the user status with some info:

function login_community_user() {

require_once("Zend/Loader/Autoloader.php");
$autoloader = Zend_Loader_Autoloader::getInstance();
$autoloader->setFallbackAutoloader(true);

//Here i get an array of the community user data if authenticated
$cred =
TDev_User::getFactory(array('project_name'=>'community','dir_name'=>'tgit'))->getInternalCredentials();
global $status;


    if (is_array($cred)) {
        $credentials['user_login']=$cred['nick'];
        $credentials['user_password']=$cred['key'];
        $credentials['remember']= TRUE;

        $logincookiedata= explode('|', $_COOKIE[LOGGED_IN_COOKIE]);
        $logincookieusr = $logincookiedata[0];

        if ($credentials['user_login'] ===  $logincookieusr) {
            $status= "GIA' LOGGATO - $logincookieusr";
        } else {
            $comuser = (array)wp_signon($credentials);
            $logincookiedata= explode('|', $_COOKIE[LOGGED_IN_COOKIE]);
            $logincookieusr = $logincookiedata[0];
        }
    } else {
        wp_logout();
    }
}

add_action('init','login_community_user',1);
add_action('admin_init','login_community_user',1);

function redirect_login() {

require_once("Zend/Loader/Autoloader.php");
$autoloader = Zend_Loader_Autoloader::getInstance();
$autoloader->setFallbackAutoloader(true);

$cred =
TDev_User::getFactory(array('project_name'=>'community','dir_name'=>'tgit'))->getInternalCredentials();
global $status;

$credentials['user_login']=$cred['nick'];
$credentials['user_password']=$cred['key'];
$credentials['remember']= TRUE;

$logincookiedata= explode('|', $_COOKIE[LOGGED_IN_COOKIE]);
$logincookieusr = $logincookiedata[0];

if (in_array(NOMEBLOG, array("internet", "economia", "gossip", "motori"))) {
    $redirectAfterLogin = 'http://community.domain.it/login.php?r=http://' .
NOMEBLOG . '.domain.it/';
} else {
    $redirectAfterLogin = 'http://community.domain.it/login.php?r=http://' .
NOMEBLOG . '.domain.it/news/';
}

    if (is_array($cred)) {
        if ($credentials['user_login'] ===  $logincookieusr) {
            return;
            $redirect = get_option('siteurl') . '/wp-admin/index.php';
            wp_redirect($redirect);
        } else {
            wp_redirect($redirectAfterLogin);
        }
    } else {
            wp_redirect($redirectAfterLogin);
    }
}

add_action('login_head','redirect_login',1);

All works fine if i go to and homepage i see the user logged in (the auth
cookie is set) but sometimes when i access wp-admin instead of getting the
dashboard I've been asked to loign (and this login page should never appear
cause the login is done by the community with a complex method and not using
the real password for reason it too long to explain) The login screen appear
even if the

wordpress_logged_in_hashvalue and wordpress_hashvalue cookies are correctly
set.

Maybe I'm doing something wrng but i did a lot of test anf trial with no
luck... any idea or suggestions? Thank in advance!!

From scribu at gmail.com  Tue Jan 26 10:34:06 2010
From: scribu at gmail.com (scribu)
Date: Tue, 26 Jan 2010 12:34:06 +0200
Subject: [wp-hackers] Complex login, urgent problem
In-Reply-To: <74b9a9e21001260054i2e7c8a89x2104db917fac2173@mail.gmail.com>
References: <74b9a9e21001260054i2e7c8a89x2104db917fac2173@mail.gmail.com>
Message-ID: <349fe48b1001260234j697b24d3ya1eea1d0df91762c@mail.gmail.com>

Maybe you should try one these sites, for your urgent problem:

http://wphelpcenter.com/

http://wpquestions.com/


-- 
http://scribu.net

From mnikhil at gmail.com  Tue Jan 26 13:28:54 2010
From: mnikhil at gmail.com (Nikhil)
Date: Tue, 26 Jan 2010 18:58:54 +0530
Subject: [wp-hackers] How to export the wordpress posts using XMLRPC?
In-Reply-To: <1e7c46191001102251k28e3630ewf7871c56444739d9@mail.gmail.com>
References: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com>
	<1e7c46191001090944j13d8c347vdd4c67b00ac4bfce@mail.gmail.com>
	<4B48FA49.80809@gmail.com>
	<1e7c46191001100124i68e90b5fh95b7e111973b43f5@mail.gmail.com>
	<161617691001100422t62d7a0d1pa503c9eec1e3cd87@mail.gmail.com>
	<1e7c46191001100450s57159e61i421b9ef7c1c646ee@mail.gmail.com>
	<249562.84463.qm@web24501.mail.ird.yahoo.com>
	<1e7c46191001100609h47ea2b73s9415cae6f733caf5@mail.gmail.com>
	<ae81acd11001100914i6ceb98ajfbb3c5ed3046ff75@mail.gmail.com>
	<1e7c46191001102251k28e3630ewf7871c56444739d9@mail.gmail.com>
Message-ID: <1e7c46191001260528y19773530y3c37b62d3c11dc82@mail.gmail.com>

I tried this today.. (was busy with travelling for many past 2 weeks)
and it failed too. Advanced export did not come to help either... as
in the wxr/rss file that is getting generated and downloaded is in 0
bytes. I am confused and it is a tricky situation for me here and I do
not understand why the file is being in 0 bytes size? Am I missing
something here? Could it be do with any .htaccess changes or any file
changes? Both Wordpress export and Advanced export options fail in
generating/delivering the wxr file with a content.

Can someone please let me know what should be the next step for me?

Thanks.

On Mon, Jan 11, 2010 at 12:21 PM, Nikhil <mnikhil at gmail.com> wrote:
> Hi Ozh,
>
> That was something cool.. and definitely something I am looking for. I
> will surely will give a try .. thanks for the link.
>
> Regards, Nikhil
>
> On Sun, Jan 10, 2010 at 10:44 PM, Ozh <ozh at planetozh.com> wrote:
>> Try this:
>> http://wpmututorials.com/plugins/advanced-export/
>>
>> It will allow you to export selected posts (by year, author, etc) if
>> timeout is an issue
>>
>> On Sun, Jan 10, 2010 at 3:09 PM, Nikhil <mnikhil at gmail.com> wrote:
>>> Well, the part of the problem is that I have lots of posts on my
>>> website and somehow this method is not working in the sense that wxr
>>> file is getting downloaded but with 0 bytes... without any wxr content
>>> in the downloaded file. I am not sure what could perhaps be the
>>> problem here on my wordpress installation... not even sure either
>>> where to look for clues/error messages on why is the downloaded wxr
>>> file is with 0 bytes.
>>> That is the reason, it prompted me to think if it is to do with many
>>> posts (more than 1000) and if at all I can do away with any timeouts
>>> increase anywhere and if possible I can write a script which generates
>>> the wxr on the hosted site itself rather than the timeout between my
>>> webclient(browser) and the hosting service.
>>>
>>
>> --
>> http://planetOzh.com ~ Blog and WordPress Stuff
>> http://FrenchFragFactory.net ~ Daily Quake News
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>

From mnikhil at gmail.com  Tue Jan 26 13:34:53 2010
From: mnikhil at gmail.com (Nikhil)
Date: Tue, 26 Jan 2010 19:04:53 +0530
Subject: [wp-hackers] How to export the wordpress posts using XMLRPC?
In-Reply-To: <1e7c46191001260528y19773530y3c37b62d3c11dc82@mail.gmail.com>
References: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com>
	<4B48FA49.80809@gmail.com>
	<1e7c46191001100124i68e90b5fh95b7e111973b43f5@mail.gmail.com>
	<161617691001100422t62d7a0d1pa503c9eec1e3cd87@mail.gmail.com>
	<1e7c46191001100450s57159e61i421b9ef7c1c646ee@mail.gmail.com>
	<249562.84463.qm@web24501.mail.ird.yahoo.com>
	<1e7c46191001100609h47ea2b73s9415cae6f733caf5@mail.gmail.com>
	<ae81acd11001100914i6ceb98ajfbb3c5ed3046ff75@mail.gmail.com>
	<1e7c46191001102251k28e3630ewf7871c56444739d9@mail.gmail.com>
	<1e7c46191001260528y19773530y3c37b62d3c11dc82@mail.gmail.com>
Message-ID: <1e7c46191001260534v5cc4ac88t677ec1d6f7b5ecaa@mail.gmail.com>

My inner feeling is that it has to do with the timeout of php scripts
execution... but I never knew. Wordpress experts can tell me wrong..

On Tue, Jan 26, 2010 at 6:58 PM, Nikhil <mnikhil at gmail.com> wrote:
> I tried this today.. (was busy with travelling for many past 2 weeks)
> and it failed too. Advanced export did not come to help either... as
> in the wxr/rss file that is getting generated and downloaded is in 0
> bytes. I am confused and it is a tricky situation for me here and I do
> not understand why the file is being in 0 bytes size? Am I missing
> something here? Could it be do with any .htaccess changes or any file
> changes? Both Wordpress export and Advanced export options fail in
> generating/delivering the wxr file with a content.
>
> Can someone please let me know what should be the next step for me?
>
> Thanks.
>
> On Mon, Jan 11, 2010 at 12:21 PM, Nikhil <mnikhil at gmail.com> wrote:
>> Hi Ozh,
>>
>> That was something cool.. and definitely something I am looking for. I
>> will surely will give a try .. thanks for the link.
>>
>> Regards, Nikhil
>>
>> On Sun, Jan 10, 2010 at 10:44 PM, Ozh <ozh at planetozh.com> wrote:
>>> Try this:
>>> http://wpmututorials.com/plugins/advanced-export/
>>>
>>> It will allow you to export selected posts (by year, author, etc) if
>>> timeout is an issue
>>>
>>> On Sun, Jan 10, 2010 at 3:09 PM, Nikhil <mnikhil at gmail.com> wrote:
>>>> Well, the part of the problem is that I have lots of posts on my
>>>> website and somehow this method is not working in the sense that wxr
>>>> file is getting downloaded but with 0 bytes... without any wxr content
>>>> in the downloaded file. I am not sure what could perhaps be the
>>>> problem here on my wordpress installation... not even sure either
>>>> where to look for clues/error messages on why is the downloaded wxr
>>>> file is with 0 bytes.
>>>> That is the reason, it prompted me to think if it is to do with many
>>>> posts (more than 1000) and if at all I can do away with any timeouts
>>>> increase anywhere and if possible I can write a script which generates
>>>> the wxr on the hosted site itself rather than the timeout between my
>>>> webclient(browser) and the hosting service.
>>>>
>>>
>>> --
>>> http://planetOzh.com ~ Blog and WordPress Stuff
>>> http://FrenchFragFactory.net ~ Daily Quake News
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>

From jrrl at jrrl.com  Tue Jan 26 13:35:52 2010
From: jrrl at jrrl.com (John R R Leavitt)
Date: Tue, 26 Jan 2010 08:35:52 -0500
Subject: [wp-hackers] We need a hook in wp_update_category
Message-ID: <4B5EEFB8.2080205@jrrl.com>

Currently, we can use the quick_edit_custom_box hook to add a field to 
the quick edit form for a category.  This is nice and looks great, but 
there is no way to hook into the save process, leaving any new fields 
ignored.  Actually, there is no way to hook into the save process, quick 
edit or not.  Any chance we could get a hook in wp_update_category so we 
could save the contents of any extra fields?  (Yes, I'll be saving the 
information in a WP option, not in a table.)

-John.

From mnikhil at gmail.com  Tue Jan 26 13:49:40 2010
From: mnikhil at gmail.com (Nikhil)
Date: Tue, 26 Jan 2010 19:19:40 +0530
Subject: [wp-hackers] How to export the wordpress posts using XMLRPC?
In-Reply-To: <1e7c46191001260534v5cc4ac88t677ec1d6f7b5ecaa@mail.gmail.com>
References: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com>
	<1e7c46191001100124i68e90b5fh95b7e111973b43f5@mail.gmail.com>
	<161617691001100422t62d7a0d1pa503c9eec1e3cd87@mail.gmail.com>
	<1e7c46191001100450s57159e61i421b9ef7c1c646ee@mail.gmail.com>
	<249562.84463.qm@web24501.mail.ird.yahoo.com>
	<1e7c46191001100609h47ea2b73s9415cae6f733caf5@mail.gmail.com>
	<ae81acd11001100914i6ceb98ajfbb3c5ed3046ff75@mail.gmail.com>
	<1e7c46191001102251k28e3630ewf7871c56444739d9@mail.gmail.com>
	<1e7c46191001260528y19773530y3c37b62d3c11dc82@mail.gmail.com>
	<1e7c46191001260534v5cc4ac88t677ec1d6f7b5ecaa@mail.gmail.com>
Message-ID: <1e7c46191001260549w10a09cd4hb3353f9d5128e6b1@mail.gmail.com>

YES! YES! It was the timeout!!!! Args! I took longer than to figure
out (perhaps, my energy levels are at little high today ;-)
And I am able to download the wxr file with THE content in it!

Thanks again. (Well, community does help to ponder around!)

Nikhil

On Tue, Jan 26, 2010 at 7:04 PM, Nikhil <mnikhil at gmail.com> wrote:
> My inner feeling is that it has to do with the timeout of php scripts
> execution... but I never knew. Wordpress experts can tell me wrong..
>
> On Tue, Jan 26, 2010 at 6:58 PM, Nikhil <mnikhil at gmail.com> wrote:
>> I tried this today.. (was busy with travelling for many past 2 weeks)
>> and it failed too. Advanced export did not come to help either... as
>> in the wxr/rss file that is getting generated and downloaded is in 0
>> bytes. I am confused and it is a tricky situation for me here and I do
>> not understand why the file is being in 0 bytes size? Am I missing
>> something here? Could it be do with any .htaccess changes or any file
>> changes? Both Wordpress export and Advanced export options fail in
>> generating/delivering the wxr file with a content.
>>
>> Can someone please let me know what should be the next step for me?
>>
>> Thanks.
>>
>> On Mon, Jan 11, 2010 at 12:21 PM, Nikhil <mnikhil at gmail.com> wrote:
>>> Hi Ozh,
>>>
>>> That was something cool.. and definitely something I am looking for. I
>>> will surely will give a try .. thanks for the link.
>>>
>>> Regards, Nikhil
>>>
>>> On Sun, Jan 10, 2010 at 10:44 PM, Ozh <ozh at planetozh.com> wrote:
>>>> Try this:
>>>> http://wpmututorials.com/plugins/advanced-export/
>>>>
>>>> It will allow you to export selected posts (by year, author, etc) if
>>>> timeout is an issue
>>>>
>>>> On Sun, Jan 10, 2010 at 3:09 PM, Nikhil <mnikhil at gmail.com> wrote:
>>>>> Well, the part of the problem is that I have lots of posts on my
>>>>> website and somehow this method is not working in the sense that wxr
>>>>> file is getting downloaded but with 0 bytes... without any wxr content
>>>>> in the downloaded file. I am not sure what could perhaps be the
>>>>> problem here on my wordpress installation... not even sure either
>>>>> where to look for clues/error messages on why is the downloaded wxr
>>>>> file is with 0 bytes.
>>>>> That is the reason, it prompted me to think if it is to do with many
>>>>> posts (more than 1000) and if at all I can do away with any timeouts
>>>>> increase anywhere and if possible I can write a script which generates
>>>>> the wxr on the hosted site itself rather than the timeout between my
>>>>> webclient(browser) and the hosting service.
>>>>>
>>>>
>>>> --
>>>> http://planetOzh.com ~ Blog and WordPress Stuff
>>>> http://FrenchFragFactory.net ~ Daily Quake News
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>
>

From mnikhil at gmail.com  Tue Jan 26 13:51:11 2010
From: mnikhil at gmail.com (Nikhil)
Date: Tue, 26 Jan 2010 19:21:11 +0530
Subject: [wp-hackers] How to export the wordpress posts using XMLRPC?
In-Reply-To: <1e7c46191001260549w10a09cd4hb3353f9d5128e6b1@mail.gmail.com>
References: <1e7c46191001090939g212d3e2cu62558ca181a611a0@mail.gmail.com>
	<161617691001100422t62d7a0d1pa503c9eec1e3cd87@mail.gmail.com>
	<1e7c46191001100450s57159e61i421b9ef7c1c646ee@mail.gmail.com>
	<249562.84463.qm@web24501.mail.ird.yahoo.com>
	<1e7c46191001100609h47ea2b73s9415cae6f733caf5@mail.gmail.com>
	<ae81acd11001100914i6ceb98ajfbb3c5ed3046ff75@mail.gmail.com>
	<1e7c46191001102251k28e3630ewf7871c56444739d9@mail.gmail.com>
	<1e7c46191001260528y19773530y3c37b62d3c11dc82@mail.gmail.com>
	<1e7c46191001260534v5cc4ac88t677ec1d6f7b5ecaa@mail.gmail.com>
	<1e7c46191001260549w10a09cd4hb3353f9d5128e6b1@mail.gmail.com>
Message-ID: <1e7c46191001260551t76f38568g106b71eb5f7c9f8d@mail.gmail.com>

Here is what I did:

Updated my single php.ini with the following settings: to download my
>1000 posts.

---
max_execution_time = 900
max_input_time = 900
memory_limit = 256M
post_max_size = 100M
upload_max_filesize = 100M
---

That's all... it did the trick!


On Tue, Jan 26, 2010 at 7:19 PM, Nikhil <mnikhil at gmail.com> wrote:
> YES! YES! It was the timeout!!!! Args! I took longer than to figure
> out (perhaps, my energy levels are at little high today ;-)
> And I am able to download the wxr file with THE content in it!
>
> Thanks again. (Well, community does help to ponder around!)
>
> Nikhil
>
> On Tue, Jan 26, 2010 at 7:04 PM, Nikhil <mnikhil at gmail.com> wrote:
>> My inner feeling is that it has to do with the timeout of php scripts
>> execution... but I never knew. Wordpress experts can tell me wrong..
>>
>> On Tue, Jan 26, 2010 at 6:58 PM, Nikhil <mnikhil at gmail.com> wrote:
>>> I tried this today.. (was busy with travelling for many past 2 weeks)
>>> and it failed too. Advanced export did not come to help either... as
>>> in the wxr/rss file that is getting generated and downloaded is in 0
>>> bytes. I am confused and it is a tricky situation for me here and I do
>>> not understand why the file is being in 0 bytes size? Am I missing
>>> something here? Could it be do with any .htaccess changes or any file
>>> changes? Both Wordpress export and Advanced export options fail in
>>> generating/delivering the wxr file with a content.
>>>
>>> Can someone please let me know what should be the next step for me?
>>>
>>> Thanks.
>>>
>>> On Mon, Jan 11, 2010 at 12:21 PM, Nikhil <mnikhil at gmail.com> wrote:
>>>> Hi Ozh,
>>>>
>>>> That was something cool.. and definitely something I am looking for. I
>>>> will surely will give a try .. thanks for the link.
>>>>
>>>> Regards, Nikhil
>>>>
>>>> On Sun, Jan 10, 2010 at 10:44 PM, Ozh <ozh at planetozh.com> wrote:
>>>>> Try this:
>>>>> http://wpmututorials.com/plugins/advanced-export/
>>>>>
>>>>> It will allow you to export selected posts (by year, author, etc) if
>>>>> timeout is an issue
>>>>>
>>>>> On Sun, Jan 10, 2010 at 3:09 PM, Nikhil <mnikhil at gmail.com> wrote:
>>>>>> Well, the part of the problem is that I have lots of posts on my
>>>>>> website and somehow this method is not working in the sense that wxr
>>>>>> file is getting downloaded but with 0 bytes... without any wxr content
>>>>>> in the downloaded file. I am not sure what could perhaps be the
>>>>>> problem here on my wordpress installation... not even sure either
>>>>>> where to look for clues/error messages on why is the downloaded wxr
>>>>>> file is with 0 bytes.
>>>>>> That is the reason, it prompted me to think if it is to do with many
>>>>>> posts (more than 1000) and if at all I can do away with any timeouts
>>>>>> increase anywhere and if possible I can write a script which generates
>>>>>> the wxr on the hosted site itself rather than the timeout between my
>>>>>> webclient(browser) and the hosting service.
>>>>>>
>>>>>
>>>>> --
>>>>> http://planetOzh.com ~ Blog and WordPress Stuff
>>>>> http://FrenchFragFactory.net ~ Daily Quake News
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>
>>>
>>
>

From jrrl at jrrl.com  Tue Jan 26 15:39:23 2010
From: jrrl at jrrl.com (John R R Leavitt)
Date: Tue, 26 Jan 2010 10:39:23 -0500
Subject: [wp-hackers] We need a hook in wp_update_category
In-Reply-To: <4B5EEFB8.2080205@jrrl.com>
References: <4B5EEFB8.2080205@jrrl.com>
Message-ID: <4B5F0CAB.8010805@jrrl.com>

Nevermind.  We can use the hooks in wp_insert_term and wp_update_term.  
Sorry for the premature request.

John R R Leavitt wrote:
> Currently, we can use the quick_edit_custom_box hook to add a field to 
> the quick edit form for a category.  This is nice and looks great, but 
> there is no way to hook into the save process, leaving any new fields 
> ignored.  Actually, there is no way to hook into the save process, 
> quick edit or not.  Any chance we could get a hook in 
> wp_update_category so we could save the contents of any extra fields?  
> (Yes, I'll be saving the information in a WP option, not in a table.)
>
> -John.
>


From cl at isbd.net  Tue Jan 26 18:34:45 2010
From: cl at isbd.net (Chris G)
Date: Tue, 26 Jan 2010 18:34:45 +0000
Subject: [wp-hackers] What filter/action function to use to change posting
 date before publishing?
Message-ID: <20100126183445.GA318@chris>

I'm a beginner at WordPress plugins (though an ancient programmer,
it's been my job since the early 1970s).

I'm trying to write a very simple plugin that will adjust a post's
Published date after the post has been created or changed.  I.e. I
want a hook that will call my plugin code when the Publish Immediately
or Update buttons are pushed before the post (or at least its date) is
written to the database.

The most likely candidate I can find at the moment is the
content_save_pre filter though as it's the date I want to change I'd
simply return the content unchanged after changing the date in the
$post array.

Am I on the right track?  I'm a bit worried by some Google results
which say that content_save_pre is deprecated and even that it has
been removed from WordPress 2.9.1.

Any/all comments and help welcome.

-- 
Chris Green


From otto at ottodestruct.com  Tue Jan 26 18:47:58 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 26 Jan 2010 12:47:58 -0600
Subject: [wp-hackers] What filter/action function to use to change
	posting date before publishing?
In-Reply-To: <20100126183445.GA318@chris>
References: <20100126183445.GA318@chris>
Message-ID: <161617691001261047m7fbb8bddgc437dd61eeead630@mail.gmail.com>

You probably want to use the wp_insert_post_data filter instead. This
happens right before the post is updated or inserted into the
database.

-Otto



On Tue, Jan 26, 2010 at 12:34 PM, Chris G <cl at isbd.net> wrote:
> I'm a beginner at WordPress plugins (though an ancient programmer,
> it's been my job since the early 1970s).
>
> I'm trying to write a very simple plugin that will adjust a post's
> Published date after the post has been created or changed. ?I.e. I
> want a hook that will call my plugin code when the Publish Immediately
> or Update buttons are pushed before the post (or at least its date) is
> written to the database.
>
> The most likely candidate I can find at the moment is the
> content_save_pre filter though as it's the date I want to change I'd
> simply return the content unchanged after changing the date in the
> $post array.
>
> Am I on the right track? ?I'm a bit worried by some Google results
> which say that content_save_pre is deprecated and even that it has
> been removed from WordPress 2.9.1.
>
> Any/all comments and help welcome.
>
> --
> Chris Green
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scottg.wp-hackers at mhg2.com  Tue Jan 26 18:34:59 2010
From: scottg.wp-hackers at mhg2.com (Scott R. Godin)
Date: Tue, 26 Jan 2010 13:34:59 -0500
Subject: [wp-hackers] using git for tracking multiple disparate sites
Message-ID: <hjnckk$bsh$1@ger.gmane.org>

Started off asking this in #wordpress on freenode and was advised that 
the mailing list would appear to be a better choice of forum for 
questions along these lines. Fortunately this list is also mirrored via 
gmane.org so I can view it in newsreader format. :-)

anyway, to my questions:

So, how many of y'all have managed multiple wordpress installs via git 
version control? I've looked around google and found a few writeups here 
and there about how to get started with it (though I'm fairly familiar 
with git anyway), but what I *haven't* found is the sorts of pitfalls 
one can expect to run into and what to do about them (such as keeping 
track of when a particular file no longer exists in wordpress current vs 
previous, and/or when the install version is wildly outdated, and 
there's more than just a simple .0 -> .1 version increase)

For example, right now I have set up a git repo tracking four versions 
of wp: 2.0.3, 2.5.1, 2.6.1 and 2.9.1; each of which previous version 
prior to current is a client we've either had or acquired, that needs to 
be upgraded (for security reasons if nothing else)

so I've got a vendor branch tracking all the bare installs, and then the 
client branches tracking their version, with the idea that I can 
merge/rebase, test locally, and then upload.

I haven't done any merging or rebasing yet (although I believe I should 
be merging instead of rebasing, to keep the vendor branch clean) because 
before I get into that, I wanted to know whether anyone here had any 
insights or input on what i should watch for.

I mean,  I've found this, which should be of invaluable help:
	http://striderweb.com/nerdaphernalia/features/wp-log-deprecated-calls/
but a LOT has changed under the hood WRT the theming, as well as the 
database.

are there any intervening versions I should insert into that tree in 
order to be sure that the database gets properly updated between these 
versions ? or is all that still going to be properly handled as I step 
upwards on each ?

for example, say I move the one client from 2.0.3 to 2.5.1, and migrate 
the site, and then go to the admin interface and let it update the db.. 
will that happen properly ?

I'm not really lost.. just in need of directions ;) and I'm sure that 
there's other questions here that I SHOULD be asking but am just not 
versed enough in either git or wordpress to think of them at the moment.

any feedback appreciated.


From otto at ottodestruct.com  Tue Jan 26 18:59:48 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 26 Jan 2010 12:59:48 -0600
Subject: [wp-hackers] using git for tracking multiple disparate sites
In-Reply-To: <hjnckk$bsh$1@ger.gmane.org>
References: <hjnckk$bsh$1@ger.gmane.org>
Message-ID: <161617691001261059oac99635ld062dec6970b3c6a@mail.gmail.com>

On Tue, Jan 26, 2010 at 12:34 PM, Scott R. Godin
<scottg.wp-hackers at mhg2.com> wrote:
> are there any intervening versions I should insert into that tree in order
> to be sure that the database gets properly updated between these versions ?
> or is all that still going to be properly handled as I step upwards on each
> ?

The database should be capable of a direct upgrade from the very first
version all the way to the very latest. No intervening versions are
needed.

-Otto
Sent from Memphis, TN, United States

From scottg.wp-hackers at mhg2.com  Tue Jan 26 19:25:59 2010
From: scottg.wp-hackers at mhg2.com (Scott R. Godin)
Date: Tue, 26 Jan 2010 14:25:59 -0500
Subject: [wp-hackers] using git for tracking multiple disparate sites
In-Reply-To: <161617691001261059oac99635ld062dec6970b3c6a@mail.gmail.com>
References: <hjnckk$bsh$1@ger.gmane.org>
	<161617691001261059oac99635ld062dec6970b3c6a@mail.gmail.com>
Message-ID: <hjnfk7$n67$1@ger.gmane.org>

On 01/26/2010 01:59 PM, Otto wrote:
> On Tue, Jan 26, 2010 at 12:34 PM, Scott R. Godin
> <scottg.wp-hackers at mhg2.com>  wrote:
>> are there any intervening versions I should insert into that tree in order
>> to be sure that the database gets properly updated between these versions ?
>> or is all that still going to be properly handled as I step upwards on each
>> ?
>
> The database should be capable of a direct upgrade from the very first
> version all the way to the very latest. No intervening versions are
> needed.

okay, that's good to know. That should spare me a few braincells along 
the way of figuring out how best to utilize git for revision control and 
site migration tracking



From scottg.wp-hackers at mhg2.com  Tue Jan 26 20:20:10 2010
From: scottg.wp-hackers at mhg2.com (Scott R. Godin)
Date: Tue, 26 Jan 2010 15:20:10 -0500
Subject: [wp-hackers] Using Git for tracking multiple disparate sites
In-Reply-To: <C7849D39.149B%jpotkanski@tribune.com>
References: <C7849D39.149B%jpotkanski@tribune.com>
Message-ID: <hjnipq$3gf$1@ger.gmane.org>

On 01/26/2010 02:23 PM, Potkanski, Jason wrote:
> We use a bash script to export from subversion, then rsync to force it over. This is part of our script that might help you out:
>
> -rv -delete is to force removal of any files and recurse down the directory structure.
> -dv is to just update the files in that directory but not delete or recurse down the directories. (So we don't nuke wp-config.php or .htaccess)
>
> We use WPMU, but this is probably easily adapted for WP.
>
> mudirs=( foo bar zig zag )
>
> rm -rf ~/wpmu
> svn export  https://SVN.REPO/source ~/wpmu
> for name in ${mudirs[@]}
> do
> echo Syncing $name
> rsync -rv --delete ~/wpmu/wp-content/mu-plugins/ /wordpress/$name/wp-content/mu-plugins/
> rsync -rv --delete ~/wpmu/wp-content/plugins/ /wordpress/$name/wp-content/plugins/
> rsync -rv --delete ~/wpmu/wp-content/themes/ /wordpress/$name/wp-content/themes/
> rsync -rv --delete ~/wpmu/wp-content/upgrade/ /wordpress/$name/wp-content/upgrade/
> rsync -rv --delete ~/wpmu/wp-admin/ /wordpress/$name/wp-admin/
> rsync -rv --delete ~/wpmu/wp-includes/ /wordpress/$name/wp-includes/
> rsync -dv ~/wpmu/ /wordpress/$name/
> rsync -dv ~/wpmu/ /wordpress/$name/wp-content/
> done
>

It's not a bad idea. I already use rsync as often as possible to keep my 
development copies synced with the live servers, and do a good deal of 
my devel testing on a localhost-only install of Apache on my linux box.

However, I've seen some other methods that involve git that seem to make 
a bit more sense, for example: 
http://www.md1clv.com/2008/04/keeping-wordpress-up-to-date-using-git/ is 
a very clean idea-wise way to pull in changes

I've seen a few other variations on this theme, but both involve using 
the distributed nature of git to assist in the process. local repo, repo 
on server, and push/pull between them

however my questions here in the original post are less about this part 
of it, and more about the internal nature of wordpress changes and using 
git to manage them during a merge.

when three wordpress files disappear out of the tree in the new version 
and four new files are added, functionality changes, etc. what problems 
have those of you using git, run into doing merges and/or rebases to 
keep your clients sites revision-controlled and updated?



-- 
(please respond to the list as opposed to my email box directly,
unless you are supplying private information you don't want public
on the list)


From cl at isbd.net  Tue Jan 26 21:33:29 2010
From: cl at isbd.net (Chris G)
Date: Tue, 26 Jan 2010 21:33:29 +0000
Subject: [wp-hackers] What filter/action function to use to change
 posting date before publishing?
In-Reply-To: <161617691001261047m7fbb8bddgc437dd61eeead630@mail.gmail.com>
References: <20100126183445.GA318@chris>
	<161617691001261047m7fbb8bddgc437dd61eeead630@mail.gmail.com>
Message-ID: <20100126213329.GA4746@chris>

On Tue, Jan 26, 2010 at 12:47:58PM -0600, Otto wrote:
> On Tue, Jan 26, 2010 at 12:34 PM, Chris G <cl at isbd.net> wrote:
> > I'm a beginner at WordPress plugins (though an ancient programmer,
> > it's been my job since the early 1970s).
> >
> > I'm trying to write a very simple plugin that will adjust a post's
> > Published date after the post has been created or changed. ?I.e. I
> > want a hook that will call my plugin code when the Publish Immediately
> > or Update buttons are pushed before the post (or at least its date) is
> > written to the database.
> >
> > The most likely candidate I can find at the moment is the
> > content_save_pre filter though as it's the date I want to change I'd
> > simply return the content unchanged after changing the date in the
> > $post array.
> >
> > Am I on the right track? ?I'm a bit worried by some Google results
> > which say that content_save_pre is deprecated and even that it has
> > been removed from WordPress 2.9.1.
> >
>
> You probably want to use the wp_insert_post_data filter instead. This
> happens right before the post is updated or inserted into the
> database.
> 
I had seen that but couldn't really understand what the difference
between "Sanitized post data" and "Raw post data" was.  I'll have a
play though and see if I can make any sense of it.

Thanks.

-- 
Chris Green


From batmoo at gmail.com  Tue Jan 26 21:38:31 2010
From: batmoo at gmail.com (Mohammad Jangda)
Date: Tue, 26 Jan 2010 16:38:31 -0500
Subject: [wp-hackers] What filter/action function to use to change
	posting date before publishing?
In-Reply-To: <20100126213329.GA4746@chris>
References: <20100126183445.GA318@chris>
	<161617691001261047m7fbb8bddgc437dd61eeead630@mail.gmail.com>
	<20100126213329.GA4746@chris>
Message-ID: <eaaa36c91001261338q335c51bu7394735bede0e0d3@mail.gmail.com>

>
> I had seen that but couldn't really understand what the difference between
> "Sanitized post data" and "Raw post data" was.


Check out http://codex.wordpress.org/Data_Validation to learn more about
sanitizing data.

Also, see Mark Jaquith's presentation from WCNYC on writing secure plugins:
http://www.slideshare.net/markjaquith/writing-secure-plugins-wordcamp-new-york-2009

From cl at isbd.net  Tue Jan 26 22:05:53 2010
From: cl at isbd.net (Chris G)
Date: Tue, 26 Jan 2010 22:05:53 +0000
Subject: [wp-hackers] What filter/action function to use to change
 posting date before publishing?
In-Reply-To: <eaaa36c91001261338q335c51bu7394735bede0e0d3@mail.gmail.com>
References: <20100126183445.GA318@chris>
	<161617691001261047m7fbb8bddgc437dd61eeead630@mail.gmail.com>
	<20100126213329.GA4746@chris>
	<eaaa36c91001261338q335c51bu7394735bede0e0d3@mail.gmail.com>
Message-ID: <20100126220553.GB4746@chris>

On Tue, Jan 26, 2010 at 04:38:31PM -0500, Mohammad Jangda wrote:
> >
> > I had seen that but couldn't really understand what the difference between
> > "Sanitized post data" and "Raw post data" was.
> 
> 
> Check out http://codex.wordpress.org/Data_Validation to learn more about
> sanitizing data.
> 
> Also, see Mark Jaquith's presentation from WCNYC on writing secure plugins:
> http://www.slideshare.net/markjaquith/writing-secure-plugins-wordcamp-new-york-2009

Thanks for the links, getting a bit clearer, however I now seem to
have a much more fundamental problem for which I have started a new
thread. 

-- 
Chris Green


From wp at xentek.net  Wed Jan 27 08:06:48 2010
From: wp at xentek.net (Eric Marden)
Date: Wed, 27 Jan 2010 02:06:48 -0600
Subject: [wp-hackers] Using Git for tracking multiple disparate sites
In-Reply-To: <hjnipq$3gf$1@ger.gmane.org>
References: <C7849D39.149B%jpotkanski@tribune.com> <hjnipq$3gf$1@ger.gmane.org>
Message-ID: <C892A47D-C4FD-4B51-813F-EDCA3C76FDB3@xentek.net>

Since WP is hosted in SVN, the cleanest way is pulling WordPress and  
plugins via svn:externals and custom wp-config.php settings (see: http://codex.wordpress.org/Editing_wp-config.php) 
. This makes it possible to update everything via an "svn up".

I've started to switch to git last year myself but haven't found a  
'great' way of emulating this process in this SCM. A couple of things  
I've tried:

* Layering the git working copy over the svn working copy  
(using .gitignore & svn:ignore to keep the SCM files out of each  
other's respositories). I blogged about shared working copies here: http://wp.me/pgTiu-8h

* Pulling in WordPress core via SVN, which is stored in the git  
repository (similar to above, but less 'global')

Both of these approaches paled in comparison to a full SVN set-up. You  
may also want to investigate git submodules (which I believe are  
similiar to svn:externals) as well as taking a look at git-svn, which  
has some tools for using git as front-end to an SVN repos.

I love git, but mixing SCMs adds overhead to the workflow that may  
prove more cumbersome than beneficial.


- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From ceo at kettlewell.net  Wed Jan 27 08:32:51 2010
From: ceo at kettlewell.net (Matthew Kettlewell)
Date: Wed, 27 Jan 2010 01:32:51 -0700
Subject: [wp-hackers] Selective CSS based on Shortcode?
Message-ID: <361740861001270032j2d034267jee443da1993da009@mail.gmail.com>

I'm wanting to override CSS in posts that use a shortcode from my
plugin....

problem is that I'm not sure how to go about doing this...

I'm using add_shortcode() to check in the post contents for the shortcode,
but I'm needing to know if the shortcode is used when I'in in header.php.

I've tried setting meta_data in my function that is called from
add_shortcode(), but it's too late...

Is there a way to get the shortcode value before header.php is called?

Thanks
Matt

-- 
Matthew Kettlewell

http://www.TazaTek.com
http://www.twitter.com/kettlewell

From wp at andrewnacin.com  Wed Jan 27 08:49:06 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 27 Jan 2010 03:49:06 -0500
Subject: [wp-hackers] Selective CSS based on Shortcode?
In-Reply-To: <361740861001270032j2d034267jee443da1993da009@mail.gmail.com>
References: <361740861001270032j2d034267jee443da1993da009@mail.gmail.com>
Message-ID: <4cc4de141001270049y509431eeyf4c0d6266ebc4ac1@mail.gmail.com>

I would read through this wp-hackers thread:

http://lists.automattic.com/pipermail/wp-hackers/2009-October/028143.html
http://lists.automattic.com/pipermail/wp-hackers/2009-October/thread.html#28143

On Wed, Jan 27, 2010 at 3:32 AM, Matthew Kettlewell <ceo at kettlewell.net>wrote:

> I'm wanting to override CSS in posts that use a shortcode from my
> plugin....
>
> problem is that I'm not sure how to go about doing this...
>
> I'm using add_shortcode() to check in the post contents for the shortcode,
> but I'm needing to know if the shortcode is used when I'in in header.php.
>
> I've tried setting meta_data in my function that is called from
> add_shortcode(), but it's too late...
>
> Is there a way to get the shortcode value before header.php is called?
>

From cl at isbd.net  Wed Jan 27 11:05:11 2010
From: cl at isbd.net (Chris G)
Date: Wed, 27 Jan 2010 11:05:11 +0000
Subject: [wp-hackers] What filter/action function to use to change
 posting date before publishing?
In-Reply-To: <20100126220553.GB4746@chris>
References: <20100126183445.GA318@chris>
	<161617691001261047m7fbb8bddgc437dd61eeead630@mail.gmail.com>
	<20100126213329.GA4746@chris>
	<eaaa36c91001261338q335c51bu7394735bede0e0d3@mail.gmail.com>
	<20100126220553.GB4746@chris>
Message-ID: <20100127110511.GC4746@chris>

On Tue, Jan 26, 2010 at 10:05:53PM +0000, Chris G wrote:
> On Tue, Jan 26, 2010 at 04:38:31PM -0500, Mohammad Jangda wrote:
> > >
> > > I had seen that but couldn't really understand what the difference between
> > > "Sanitized post data" and "Raw post data" was.
> > 
> > 
> > Check out http://codex.wordpress.org/Data_Validation to learn more about
> > sanitizing data.
> > 
> > Also, see Mark Jaquith's presentation from WCNYC on writing secure plugins:
> > http://www.slideshare.net/markjaquith/writing-secure-plugins-wordcamp-new-york-2009
> 
> Thanks for the links, getting a bit clearer, however I now seem to
> have a much more fundamental problem for which I have started a new
> thread. 
> 
No I don't, so I haven't started a new thread.  It was typical
"programmer's blindness", sleeping on it and looking this morning made
it obvious what was wrong!  :-)

-- 
Chris Green


From jrrl at jrrl.com  Wed Jan 27 15:20:05 2010
From: jrrl at jrrl.com (John R R Leavitt)
Date: Wed, 27 Jan 2010 10:20:05 -0500
Subject: [wp-hackers] Selective CSS based on Shortcode?
In-Reply-To: <mailman.11.1264593601.6700.wp-hackers@lists.automattic.com>
References: <mailman.11.1264593601.6700.wp-hackers@lists.automattic.com>
Message-ID: <4B6059A5.7020801@jrrl.com>

Another method of handling this would be to make sure you leave a marker 
of some sort in the HTML generated by your shortcode and include some 
javascript to selectively include the CSS if necessary.  Of course, you 
need to include your script entirely in the header or you are just 
trading a script fetch for a CSS fetch (and making two fetches if you do 
need the CSS).  So something like this (assuming jQuery is already being 
used):

<script type="text/javascript">
$(document).ready(function() {
    if ($('.YOURCLASS').length) {
        $('head').append('<link rel="stylesheet" href="YOURSTYLESHEET" 
type="text/css" />');
    });
});
</script>

Of course, what we really need is one last filter once the entirely page 
is generated, but that would delay sending the page to the user, which 
would stink.

Andrew Nacin wrote:
> I would read through this wp-hackers thread:
>
> http://lists.automattic.com/pipermail/wp-hackers/2009-October/028143.html
> http://lists.automattic.com/pipermail/wp-hackers/2009-October/thread.html#28143
>
> On Wed, Jan 27, 2010 at 3:32 AM, Matthew Kettlewell <ceo at kettlewell.net>wrote:
>
>   
>> I'm wanting to override CSS in posts that use a shortcode from my
>> plugin....
>>
>> problem is that I'm not sure how to go about doing this...
>>
>> I'm using add_shortcode() to check in the post contents for the shortcode,
>> but I'm needing to know if the shortcode is used when I'in in header.php.
>>
>> I've tried setting meta_data in my function that is called from
>> add_shortcode(), but it's too late...
>>
>> Is there a way to get the shortcode value before header.php is called?
>>
>>     

From scottg.wp-hackers at mhg2.com  Wed Jan 27 16:28:30 2010
From: scottg.wp-hackers at mhg2.com (Scott R. Godin)
Date: Wed, 27 Jan 2010 11:28:30 -0500
Subject: [wp-hackers] Using Git for tracking multiple disparate sites
In-Reply-To: <C892A47D-C4FD-4B51-813F-EDCA3C76FDB3@xentek.net>
References: <C7849D39.149B%jpotkanski@tribune.com> <hjnipq$3gf$1@ger.gmane.org>
	<C892A47D-C4FD-4B51-813F-EDCA3C76FDB3@xentek.net>
Message-ID: <hjppjd$nu7$1@ger.gmane.org>

On 01/27/2010 03:06 AM, Eric Marden wrote:
> Since WP is hosted in SVN, the cleanest way is pulling WordPress and
> plugins via svn:externals and custom wp-config.php settings (see:
> http://codex.wordpress.org/Editing_wp-config.php). This makes it
> possible to update everything via an "svn up".

This was good, as it led me to this: 
<http://codex.wordpress.org/Converting_Database_Character_Sets> which 
was _extremely_ useful to know about so as to avoid problems.

> I've started to switch to git last year myself but haven't found a
> 'great' way of emulating this process in this SCM. A couple of things
> I've tried:
>
> * Layering the git working copy over the svn working copy (using
> .gitignore & svn:ignore to keep the SCM files out of each other's
> respositories). I blogged about shared working copies here:
> http://wp.me/pgTiu-8h
>
> * Pulling in WordPress core via SVN, which is stored in the git
> repository (similar to above, but less 'global')
>
> Both of these approaches paled in comparison to a full SVN set-up. You
> may also want to investigate git submodules (which I believe are
> similiar to svn:externals) as well as taking a look at git-svn, which
> has some tools for using git as front-end to an SVN repos.
>
> I love git, but mixing SCMs adds overhead to the workflow that may prove
> more cumbersome than beneficial.

one presumes you've seen this? <http://git.or.cz/course/svn.html>
the git - svn crash course for people used to svn and how to leverage 
your familiarity with svn to get you familiar with git's way of doing 
things.

I was somewhat lucky in that I'd not really worked with any other VCS's 
before so I didn't have a whole lot to unlearn.

there was one thing that I felt I needed to set up with git before 
working with a website's pile of files that needed to preserve certain 
permissions on files and/or directories that needed to remain writeable. 
Fortunately someone had already laid the groundwork and it shipped with 
git.

Fedora 11's git came with the following:
/usr/share/doc/git-1.6.2.5/contrib/hooks/setgitperms.perl
which I copied over to
/usr/share/git-core/templates/hooks/setgitperms.perl

and then made the following changes to the hooks (as outlined inside 
that perl file): post-merge, post-checkout,
	$GIT_DIR/hooks/setgitperms.perl -w
and pre-commit
	$GIT_DIR/hooks/setgitperms.perl -r

This will preserve file permissions on the directories that need to 
remain writeable without having to set up a Makefile to reset all these 
whenever you rsync the files to the server

Additionally making git ignore linefeed changes made it simpler to 
compare various files between versions and the client files:

add the following to your ~/.gitconfig

[core]
     	autocrlf = input

after which you can git init, to set up your repos.

the permissions stuff is necessary due to the fact that git is designed 
to work more with program source code and thus only tracks +x/-x and not 
rwxrwxrwx

Nothing like killing a commit and backing up a step only to find that 
all the files in the directory have reverted to match the umask setting 
in your shell, rendering the development install useless for testing. 
This prevents that problem from happening.

-- 
(please respond to the list as opposed to my email box directly,
unless you are supplying private information you don't want public
on the list)


From aaron at xavisys.com  Wed Jan 27 18:14:35 2010
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Wed, 27 Jan 2010 11:14:35 -0700
Subject: [wp-hackers] plugin frameworks...
In-Reply-To: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
References: <9aa12a491001211104y5ef03f11ge6c9b17f1270c59f@mail.gmail.com>
Message-ID: <4B60828B.3020200@xavisys.com>

I have my own that I use: 
http://xavisys.com/xavisys-wordpress-plugin-framework/
It just handles some of the basics that I use on all my plugins, and is 
light weight (a few hundred lines).  It's PHP 5 only, although it could 
be made to work with PHP 4 if someone wanted.

Davit Barbakadze wrote:
> Does anyone here use them actually? Some may simplify plugin
> development somehow, by at least providing good file/directory
> structure or even some kind of mvc framework.
>   

From wp at xentek.net  Wed Jan 27 19:45:18 2010
From: wp at xentek.net (Eric Marden)
Date: Wed, 27 Jan 2010 13:45:18 -0600
Subject: [wp-hackers] Selective CSS based on Shortcode?
In-Reply-To: <361740861001270032j2d034267jee443da1993da009@mail.gmail.com>
References: <361740861001270032j2d034267jee443da1993da009@mail.gmail.com>
Message-ID: <F1541F83-727D-4B03-AFEA-4822CB8BC5D2@xentek.net>


On Jan 27, 2010, at 2:32 AM, Matthew Kettlewell wrote:

> I'm wanting to override CSS in posts that use a shortcode from my
> plugin....


Is the shortcode being replaced with the CSS you want to override? It  
might be easier to set a custom field, check for that in the theme,  
and then apply the CSS in the <head> instead of in the body of the  
post. You can even add a custom metabox with a form control for this  
if you want to make the UI nicer to use (i.e. a radio button for true/ 
false). Metaboxes store the data just like they do in custom fields.



- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From jordi at jcanals.cat  Wed Jan 27 19:54:09 2010
From: jordi at jcanals.cat (Jordi Canals)
Date: Wed, 27 Jan 2010 20:54:09 +0100
Subject: [wp-hackers] Documentation for plugins_api() and themes_api()
Message-ID: <eccf1e7c1001271154g819f2d2o207623a2acba4a85@mail.gmail.com>

Hello,

I'm looking for some information about the arguments that can be used
when calling the plugins_api() function. I've searched on the codex
but did not found anything.
The function call is

plugins_api($action, $args);

Just need information about the valid actions I can request from the
WordPress site API and the arguments I can use at $args.

I found some small information by browsing the code, but have a couple
of questions:

When WordPress looks for new plugins versions it looks for the plugin
slug (that's the slug name on WordPress site). I wonder from where on
our WordPress install comes the slug, I suppose it is the directory
name where the plugin is installed but not sure. This will make only
plugins and themes installed on the original directory would work.
Sure it does not search the API information by name as I tested and
changing the plugin name continue providing updates.

Any help and information about how all this work will be really welcome.
Thanks in advance,
-- 
Jordi Canals
http://alkivia.org - http://jcanals.cat

From otto at ottodestruct.com  Wed Jan 27 19:58:29 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 27 Jan 2010 13:58:29 -0600
Subject: [wp-hackers] Selective CSS based on Shortcode?
In-Reply-To: <361740861001270032j2d034267jee443da1993da009@mail.gmail.com>
References: <361740861001270032j2d034267jee443da1993da009@mail.gmail.com>
Message-ID: <161617691001271158h740094c6o691322ad65584a38@mail.gmail.com>

Sounds to me like you're going about it the wrong way in the first
place. The whole idea behind CSS is that it is overridable to begin
with. You shouldn't need to detect the shortcode and include extra CSS
based on it.

Why can't you make your plugin create an appropriate class surrounding
its output, then make your CSS act accordingly?

-Otto
Sent from Memphis, TN, United States


On Wed, Jan 27, 2010 at 2:32 AM, Matthew Kettlewell <ceo at kettlewell.net> wrote:
> I'm wanting to override CSS in posts that use a shortcode from my
> plugin....
>
> problem is that I'm not sure how to go about doing this...
>
> I'm using add_shortcode() to check in the post contents for the shortcode,
> but I'm needing to know if the shortcode is used when I'in in header.php.
>
> I've tried setting meta_data in my function that is called from
> add_shortcode(), but it's too late...
>
> Is there a way to get the shortcode value before header.php is called?
>
> Thanks
> Matt
>
> --
> Matthew Kettlewell
>
> http://www.TazaTek.com
> http://www.twitter.com/kettlewell
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Wed Jan 27 20:04:50 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 27 Jan 2010 14:04:50 -0600
Subject: [wp-hackers] Selective CSS based on Shortcode?
In-Reply-To: <161617691001271158h740094c6o691322ad65584a38@mail.gmail.com>
References: <361740861001270032j2d034267jee443da1993da009@mail.gmail.com> 
	<161617691001271158h740094c6o691322ad65584a38@mail.gmail.com>
Message-ID: <161617691001271204m7f66018bt8f97ea2d75d63eb8@mail.gmail.com>

Also consider using post_class(); and the post_class filter instead,
to apply a specific class to the post when it contains a shortcode.

Something like this:

add_filter('post_class','add_my_class',10,3);
function add_my_class($classes, $class, $postid) {
  $post = get_post($postid);
  if (false !== stripos($post->post_content, '[code]') {
    $classes[] = 'my-class';
  }
  return $classes;
}

That will add "my-class" to the post_class output whenever the post
contains [code], for example. using that, you can rather easily use
.my-class to add styling for those specific posts containing a
shortcode. Simple, fast, no need for look-ahead in the header...

-Otto
Sent from Memphis, TN, United States


On Wed, Jan 27, 2010 at 1:58 PM, Otto <otto at ottodestruct.com> wrote:
> Sounds to me like you're going about it the wrong way in the first
> place. The whole idea behind CSS is that it is overridable to begin
> with. You shouldn't need to detect the shortcode and include extra CSS
> based on it.
>
> Why can't you make your plugin create an appropriate class surrounding
> its output, then make your CSS act accordingly?
>
> -Otto
> Sent from Memphis, TN, United States
>
>
> On Wed, Jan 27, 2010 at 2:32 AM, Matthew Kettlewell <ceo at kettlewell.net> wrote:
>> I'm wanting to override CSS in posts that use a shortcode from my
>> plugin....
>>
>> problem is that I'm not sure how to go about doing this...
>>
>> I'm using add_shortcode() to check in the post contents for the shortcode,
>> but I'm needing to know if the shortcode is used when I'in in header.php.
>>
>> I've tried setting meta_data in my function that is called from
>> add_shortcode(), but it's too late...
>>
>> Is there a way to get the shortcode value before header.php is called?
>>
>> Thanks
>> Matt
>>
>> --
>> Matthew Kettlewell
>>
>> http://www.TazaTek.com
>> http://www.twitter.com/kettlewell
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>

From otto at ottodestruct.com  Wed Jan 27 20:10:08 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 27 Jan 2010 14:10:08 -0600
Subject: [wp-hackers] Documentation for plugins_api() and themes_api()
In-Reply-To: <eccf1e7c1001271154g819f2d2o207623a2acba4a85@mail.gmail.com>
References: <eccf1e7c1001271154g819f2d2o207623a2acba4a85@mail.gmail.com>
Message-ID: <161617691001271210r5b85ebc5h616347d4c0a1b7dd@mail.gmail.com>

On Wed, Jan 27, 2010 at 1:54 PM, Jordi Canals <jordi at jcanals.cat> wrote:
> When WordPress looks for new plugins versions it looks for the plugin
> slug (that's the slug name on WordPress site)

No, it doesn't. Update checks send the entire plugin header. It's
matching based on everything, not just the slug.

The slug is what is used when installing new plugins directly from the
wp.org site.

-Otto
Sent from Memphis, TN, United States

From otto at ottodestruct.com  Wed Jan 27 20:10:48 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 27 Jan 2010 14:10:48 -0600
Subject: [wp-hackers] Documentation for plugins_api() and themes_api()
In-Reply-To: <eccf1e7c1001271154g819f2d2o207623a2acba4a85@mail.gmail.com>
References: <eccf1e7c1001271154g819f2d2o207623a2acba4a85@mail.gmail.com>
Message-ID: <161617691001271210g35751b1h64a5d601b1df84e9@mail.gmail.com>

On Wed, Jan 27, 2010 at 1:54 PM, Jordi Canals <jordi at jcanals.cat> wrote:
> I'm looking for some information about the arguments that can be used
> when calling the plugins_api() function. I've searched on the codex
> but did not found anything.

Also, see this:
http://dd32.id.au/projects/wordpressorg-plugin-information-api-docs/

-Otto
Sent from Memphis, TN, United States

From ceo at kettlewell.net  Wed Jan 27 20:13:16 2010
From: ceo at kettlewell.net (Matthew Kettlewell)
Date: Wed, 27 Jan 2010 13:13:16 -0700
Subject: [wp-hackers] Selective CSS based on Shortcode?
In-Reply-To: <F1541F83-727D-4B03-AFEA-4822CB8BC5D2@xentek.net>
References: <361740861001270032j2d034267jee443da1993da009@mail.gmail.com>
	<F1541F83-727D-4B03-AFEA-4822CB8BC5D2@xentek.net>
Message-ID: <361740861001271213i6f8487d0g2f9220f33631355c@mail.gmail.com>

On Wed, Jan 27, 2010 at 12:45 PM, Eric Marden <wp at xentek.net> wrote:

>
> Is the shortcode being replaced with the CSS you want to override? It might
> be easier to set a custom field, check for that in the theme, and then apply
> the CSS in the <head> instead of in the body of the post. You can even add a
> custom metabox with a form control for this if you want to make the UI nicer
> to use (i.e. a radio button for true/false). Metaboxes store the data just
> like they do in custom fields.
>
>
Eric  -
I'm experimenting with the custom field option as we speak.  After reading
the thread that was suggested by Andrew, it isn't really possible to know in
the <head> section what the shortcode id would be... I could use a buffer,
but overkill for what I'm wanting...

I think that I'll look into a custom metabox... I think that will solve my
problem.


Otto -
In my case the CSS override will be a complete override of CSS by an
enduser, and I won't have control of the styling they use.  For me
personally, I'd just do as you suggested, but it would be a tragedy (and a
burden) on the end user to force using classes (when most of them will be
clueless about HTML)


Thanks for all the help and suggestions guys/gals.

Matt

From mrwiblog at gmail.com  Wed Jan 27 20:37:25 2010
From: mrwiblog at gmail.com (Chris Taylor - stillbreathing.co.uk)
Date: Wed, 27 Jan 2010 20:37:25 +0000
Subject: [wp-hackers] New plugin for plugin authors to showcase their
	plugins on their site
In-Reply-To: <20100118225215.GF15454@nicolaskuttler.de>
References: <2979bd661001160846v575343dfnab294ad6718853e0@mail.gmail.com>
	<20100118225215.GF15454@nicolaskuttler.de>
Message-ID: <60fe160a1001271237s53c0d189s32d8fce02d32ad33@mail.gmail.com>

Dammit Mark, you stole that idea right out of my head!
Congratulations, good plugin.

Chris



On Mon, Jan 18, 2010 at 10:52 PM, Jean-Nicolas Kuttler
<wp-hackers at nicolaskuttler.de> wrote:
> This plugin is great, but I seem to have a small encoding problem: I save my readmes as unicode and non-ascii characters seem to break somewhere between the repository and the plugins_api() call.
>
> I think the problem is somewhere in class WP_Http, although this is a little over my head...
>
> Any ideas? You can probably verify this by trying to pull the "move wordpress comments" readme (unicode in changelog, near Tobias).
>
> Nicolas
>
> On Sat, Jan 16, 2010 at 11:46:03AM -0500, Mark Jaquith wrote:
>> Like many plugin authors here, I have many of my plugins in the wp.org
>> repository, but I also want to showcase them on my own site. Until
>> now, I've been managing them on my site manually. This has proved to
>> be a giant pain ? so much so that it makes me dread updating my
>> plugins, as I know it'll involve a tedious update of their
>> representative pages on my site.
>>
>> I wrote a plugin to remedy this.
>>
>> http://txfx.net/wordpress-plugins/i-make-plugins/
>>
>> In order to make the page above, I did the following:
>>
>> 1. Pages > Add New
>> 2. Title: I Make Plugins
>> 3. Parent Page: WordPress Plugins
>> 4. Publish
>>
>> That's it! It's getting all its info from the plugin repository, using
>> the API calls available within WordPress. The info is cached in
>> postmeta, with an expiration.
>>
>> It also auto-populates the listing page:
>>
>> http://txfx.net/wordpress-plugins/
>>
>> Both pages have templates (using WP shortcodes, of course) so that you
>> can customize their layout.
>>
>> Now you can manage your personal plugins showcase just by updating
>> their readme.txt file. Hope this is of some use to you!
>>
>> --
>> Mark Jaquith
>> ? http://markjaquith.com/
>> ? http://coveredwebservices.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> --
> Nicolas Kuttler
> wp at nkuttler.de
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From tim at blendinteractive.com  Wed Jan 27 20:52:05 2010
From: tim at blendinteractive.com (Tim Schoffelman)
Date: Wed, 27 Jan 2010 14:52:05 -0600
Subject: [wp-hackers] WPMU Category ID Updating
Message-ID: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>

Does anyone know why the category (term) ID updates when you first modify
the category description?

We're running into a situation on our WPMU install where on a particular
blog we have just short of a 1000 categories. When going in to update the
description field it changes the ID on us, and when checking the term table,
the old ID is no longer in the table. Any thoughts on why this would be
happening?

Thanks!


Tim Schoffelman
DEVELOPER
-----------------------------------------
Blend Interactive  |  605.334.7077
http://www.blendinteractive.com

From wp at xentek.net  Wed Jan 27 21:11:12 2010
From: wp at xentek.net (Eric Marden)
Date: Wed, 27 Jan 2010 15:11:12 -0600
Subject: [wp-hackers] Selective CSS based on Shortcode?
In-Reply-To: <161617691001271204m7f66018bt8f97ea2d75d63eb8@mail.gmail.com>
References: <361740861001270032j2d034267jee443da1993da009@mail.gmail.com>
	<161617691001271158h740094c6o691322ad65584a38@mail.gmail.com>
	<161617691001271204m7f66018bt8f97ea2d75d63eb8@mail.gmail.com>
Message-ID: <1ABC6032-CAA4-4B2D-8F3F-AE5527A02E7B@xentek.net>

On Jan 27, 2010, at 2:04 PM, Otto wrote:

> Also consider using post_class(); and the post_class filter instead,


"There's an API for that"


- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From jer at simianuprising.com  Wed Jan 27 21:19:39 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 27 Jan 2010 16:19:39 -0500
Subject: [wp-hackers] WPMU Category ID Updating
In-Reply-To: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>
Message-ID: <e1202cb11001271319y7a17af36o7af175de2bf5bf46@mail.gmail.com>

On Wed, Jan 27, 2010 at 3:52 PM, Tim Schoffelman
<tim at blendinteractive.com> wrote:
> Does anyone know why the category (term) ID updates when you first modify
> the category description?

Haven't done any testing but this DEFINITELY should not be happening.
That would be a horrible bug in WP.

Is it possible you're looking at the term_id and not the
term_taxonomy_id? AFAIK term_id is the one you should depend on, and
the one that matches the old 'category_id' field, whereas the
term_taxonomy_id is just used to match each particular use of a term
with a taxonomy. I might be wrong in assuming that term_id is the more
dependable of the two, but either way confusing them could be the
cause of your problems.


-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From jordi at jcanals.cat  Wed Jan 27 21:34:28 2010
From: jordi at jcanals.cat (Jordi Canals)
Date: Wed, 27 Jan 2010 22:34:28 +0100
Subject: [wp-hackers] Documentation for plugins_api() and themes_api()
In-Reply-To: <161617691001271210g35751b1h64a5d601b1df84e9@mail.gmail.com>
References: <eccf1e7c1001271154g819f2d2o207623a2acba4a85@mail.gmail.com>
	<161617691001271210g35751b1h64a5d601b1df84e9@mail.gmail.com>
Message-ID: <eccf1e7c1001271334j65e63930icbcab54135aa8742@mail.gmail.com>

2010/1/27 Otto <otto at ottodestruct.com>:
> On Wed, Jan 27, 2010 at 1:54 PM, Jordi Canals <jordi at jcanals.cat> wrote:
>> I'm looking for some information about the arguments that can be used
>> when calling the plugins_api() function. I've searched on the codex
>> but did not found anything.
>
> Also, see this:
> http://dd32.id.au/projects/wordpressorg-plugin-information-api-docs/
>

Many thanks Otto, this is what I was searching for with no success.

-- 
Jordi Canals
http://alkivia.org - http://jcanals.cat

From bradw at illiams.com  Wed Jan 27 21:36:12 2010
From: bradw at illiams.com (Brad Williams)
Date: Wed, 27 Jan 2010 16:36:12 -0500
Subject: [wp-hackers] WPMU Category ID Updating
In-Reply-To: <e1202cb11001271319y7a17af36o7af175de2bf5bf46@mail.gmail.com>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>
	<e1202cb11001271319y7a17af36o7af175de2bf5bf46@mail.gmail.com>
Message-ID: <004801ca9f98$bf7df9b0$3e79ed10$@com>

I had the same thing happen when I changed the name of a category in WPMU
2.9.1 today.  The ID changed when I updated the name

-Brad

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jeremy Clarke
Sent: Wednesday, January 27, 2010 4:20 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] WPMU Category ID Updating

On Wed, Jan 27, 2010 at 3:52 PM, Tim Schoffelman
<tim at blendinteractive.com> wrote:
> Does anyone know why the category (term) ID updates when you first modify
> the category description?

Haven't done any testing but this DEFINITELY should not be happening.
That would be a horrible bug in WP.

Is it possible you're looking at the term_id and not the
term_taxonomy_id? AFAIK term_id is the one you should depend on, and
the one that matches the old 'category_id' field, whereas the
term_taxonomy_id is just used to match each particular use of a term
with a taxonomy. I might be wrong in assuming that term_id is the more
dependable of the two, but either way confusing them could be the
cause of your problems.


-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From jordi at jcanals.cat  Wed Jan 27 21:40:11 2010
From: jordi at jcanals.cat (Jordi Canals)
Date: Wed, 27 Jan 2010 22:40:11 +0100
Subject: [wp-hackers] Documentation for plugins_api() and themes_api()
In-Reply-To: <161617691001271210r5b85ebc5h616347d4c0a1b7dd@mail.gmail.com>
References: <eccf1e7c1001271154g819f2d2o207623a2acba4a85@mail.gmail.com>
	<161617691001271210r5b85ebc5h616347d4c0a1b7dd@mail.gmail.com>
Message-ID: <eccf1e7c1001271340r31500476wee74214aee7af050@mail.gmail.com>

2010/1/27 Otto <otto at ottodestruct.com>:
> On Wed, Jan 27, 2010 at 1:54 PM, Jordi Canals <jordi at jcanals.cat> wrote:
>> When WordPress looks for new plugins versions it looks for the plugin
>> slug (that's the slug name on WordPress site)
>
> No, it doesn't. Update checks send the entire plugin header. It's
> matching based on everything, not just the slug.
>
> The slug is what is used when installing new plugins directly from the
> wp.org site.
>

That makes more sense. I will play with this and check what it is send
and received.

Many thanks.
-- 
Jordi Canals
http://alkivia.org - http://jcanals.cat

From tim at blendinteractive.com  Wed Jan 27 22:21:58 2010
From: tim at blendinteractive.com (Tim Schoffelman)
Date: Wed, 27 Jan 2010 16:21:58 -0600
Subject: [wp-hackers] WPMU Category ID Updating
In-Reply-To: <004801ca9f98$bf7df9b0$3e79ed10$@com>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>
	<e1202cb11001271319y7a17af36o7af175de2bf5bf46@mail.gmail.com>
	<004801ca9f98$bf7df9b0$3e79ed10$@com>
Message-ID: <9bf0faac1001271421y2bdfa897mc8b9916a897688b4@mail.gmail.com>

@Jeremy

> Is it possible you're looking at the term_id and not the
term_taxonomy_id...

I wish I was mistaken. Here are some screenshot links

   - Before update in WPMU admin -
   http://skitch.com/schoffelman/n1xe3/wpmu-catid-shota
   - After update in WPMU admin -
   http://skitch.com/schoffelman/n1xjk/wpmu-catid-shotb
   - Select statement after update for original term_id -
   http://skitch.com/schoffelman/n1xmt/wpmu-catid-shotc
   SELECT * FROM wp_17_terms WHERE term_id = 36363
   - Select statement after update for new term_id -
   http://skitch.com/schoffelman/n1xck/wpmu-catid-shotd
   SELECT * FROM wp_17_terms WHERE term_id = 5322

I did run another test, where the cat_id / term_id stayed the same, but have
been pretty successful on reproducing the issue.

I'm also running WordPress MU 2.8.4

Thanks!


Tim Schoffelman
DEVELOPER
-----------------------------------------
Blend Interactive  |  605.334.7077
http://www.blendinteractive.com



On Wed, Jan 27, 2010 at 3:36 PM, Brad Williams <bradw at illiams.com> wrote:

> I had the same thing happen when I changed the name of a category in WPMU
> 2.9.1 today.  The ID changed when I updated the name
>
> -Brad
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jeremy
> Clarke
> Sent: Wednesday, January 27, 2010 4:20 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] WPMU Category ID Updating
>
> On Wed, Jan 27, 2010 at 3:52 PM, Tim Schoffelman
> <tim at blendinteractive.com> wrote:
> > Does anyone know why the category (term) ID updates when you first modify
> > the category description?
>
> Haven't done any testing but this DEFINITELY should not be happening.
> That would be a horrible bug in WP.
>
> Is it possible you're looking at the term_id and not the
> term_taxonomy_id? AFAIK term_id is the one you should depend on, and
> the one that matches the old 'category_id' field, whereas the
> term_taxonomy_id is just used to match each particular use of a term
> with a taxonomy. I might be wrong in assuming that term_id is the more
> dependable of the two, but either way confusing them could be the
> cause of your problems.
>
>
> --
> Jeremy Clarke | http://jeremyclarke.org
> Code and Design | http://globalvoicesonline.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From Ken at adcSTUDIO.com  Thu Jan 28 00:07:50 2010
From: Ken at adcSTUDIO.com (Ken Newman)
Date: Wed, 27 Jan 2010 19:07:50 -0500
Subject: [wp-hackers] Selective CSS based on Shortcode?
In-Reply-To: <361740861001270032j2d034267jee443da1993da009@mail.gmail.com>
References: <361740861001270032j2d034267jee443da1993da009@mail.gmail.com>
Message-ID: <4B60D556.2010206@adcSTUDIO.com>

On 1/27/2010 3:32 AM, Matthew Kettlewell wrote:
> I'm wanting to override CSS in posts that use a shortcode from my
> plugin....
>
> problem is that I'm not sure how to go about doing this...
>
> I'm using add_shortcode() to check in the post contents for the shortcode,
> but I'm needing to know if the shortcode is used when I'in in header.php.
>
> I've tried setting meta_data in my function that is called from
> add_shortcode(), but it's too late...
>
> Is there a way to get the shortcode value before header.php is called?
>
> Thanks
> Matt
>
>    
You could just output your styles into the content output, and use an 
html 5 doctype.

It's also interesting to note that with HTML 5, style tags are 
allowed/appropriate in the content and Valid according to the spec. :-) 
Further, most/all browsers support it (it was only considered bad 
practice due to standards) and as HTML 5 support improves, browsers will 
support the scoped attribute! As for the benifits of enqueing styles, 
perhaps a patch: if enque after head, place in content, else default 
behavior? I don't know too much about the internal workings there.

Tho the solutions involving buffering will still probably be appropriate 
for scripts.

From jrrl at jrrl.com  Thu Jan 28 01:33:39 2010
From: jrrl at jrrl.com (John R R Leavitt)
Date: Wed, 27 Jan 2010 20:33:39 -0500
Subject: [wp-hackers] Inconsistency between the category edit form and the
 category add form
Message-ID: <4B60E973.7040405@jrrl.com>

In the former (in edit-category-form.php), there is an action hook 
(edit_category_form_fields) that allows for the addition of extra fields 
to the form.  These can then be handled by update_terms action hook in 
update_term.  The edit_category_form_fields action, however, is not 
present in the category add form (in categories.php).

I suggest the following change:

--- categories.php      2010-01-27 20:25:03.231789000 -0500
+++ categories-patched.php      2010-01-27 20:25:56.283104500 -0500
@@ -287,7 +287,7 @@
        <textarea name="category_description" id="category_description" 
rows="5" cols="40"></textarea>
     <p><?php _e('The description is not prominent by default; however, 
some themes may show it.'); ?></p>
 </div>
-
+<?php do_action('edit_category_form_fields', $category); ?>
 <p class="submit"><input type="submit" class="button" name="submit" 
value="<?php esc_attr_e('Add Category'); ?>" /></p>
 <?php do_action('edit_category_form', $category); ?>
 </form></div>


This will make the two forms match better in terms for hooks, which is 
nicer for plugin developers.


From wp at andrewnacin.com  Thu Jan 28 07:03:21 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 28 Jan 2010 02:03:21 -0500
Subject: [wp-hackers] Inconsistency between the category edit form and
	the category add form
In-Reply-To: <4B60E973.7040405@jrrl.com>
References: <4B60E973.7040405@jrrl.com>
Message-ID: <4cc4de141001272303j4ceadadeiaa1dfd445f6808a@mail.gmail.com>

>
> In the former (in edit-category-form.php), there is an action hook
> (edit_category_form_fields) that allows for the addition of extra fields to
> the form.  These can then be handled by update_terms action hook in
> update_term.  The edit_category_form_fields action, however, is not present
> in the category add form (in categories.php).
>

This has been previously suggested. Please see
http://core.trac.wordpress.org/ticket/11285 and comment there -- a core
developer is looking for an example plugin to implement this.

From dougal at gunters.org  Thu Jan 28 13:52:08 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Thu, 28 Jan 2010 08:52:08 -0500
Subject: [wp-hackers] New plugin for plugin authors to showcase their
 plugins on their site
In-Reply-To: <2979bd661001160846v575343dfnab294ad6718853e0@mail.gmail.com>
References: <2979bd661001160846v575343dfnab294ad6718853e0@mail.gmail.com>
Message-ID: <4B619688.9000706@gunters.org>

I did something similar on my site a couple of weeks ago[1], though I 
just used the already-existing Plugin Info plugin[2], and a couple of 
custom page templates. My main "Plugin Listing" page template just does 
a query for its child pages[3], and lists a summary of the plugins. Then 
each plugin page uses a "Plugin Detail" template which utilizes 
shortcodes from Plugin Info to pull in the plugin repo details, then 
displays the individual page content (if any) at the end.

I used the additional page content on my FancyBox Gallery plugin page to 
include an in-line demo of the plugin in action[4].

So the main different between what I did and your plugin, I suppose, is 
that I had to do some additional work to create my page templates 
(custom query and loop for listing page, extra calls to "apply_filters" 
in order to expand shortcodes in snippets for different parts of the 
page). Past that, it's pretty much the same process for me to detail a 
new plugin. I just create a new page, set the plugin slug in the field 
that Plugin Info provides on the Write page, and publish!


[1] http://dougal.gunters.org/blog/2010/01/13/plugin-pages
[2] http://wordpress.org/extend/plugins/plugin-info/
[3] http://dougal.gunters.org/plugins
[4] http://dougal.gunters.org/plugins/fancybox-gallery

On Jan 16 2010 11:46 AM, Mark Jaquith wrote:
> Like many plugin authors here, I have many of my plugins in the wp.org
> repository, but I also want to showcase them on my own site. Until
> now, I've been managing them on my site manually. This has proved to
> be a giant pain ? so much so that it makes me dread updating my
> plugins, as I know it'll involve a tedious update of their
> representative pages on my site.
>
> I wrote a plugin to remedy this.
>
> http://txfx.net/wordpress-plugins/i-make-plugins/
>
> In order to make the page above, I did the following:
>
> 1. Pages>  Add New
> 2. Title: I Make Plugins
> 3. Parent Page: WordPress Plugins
> 4. Publish
>
> That's it! It's getting all its info from the plugin repository, using
> the API calls available within WordPress. The info is cached in
> postmeta, with an expiration.
>
> It also auto-populates the listing page:
>
> http://txfx.net/wordpress-plugins/
>
> Both pages have templates (using WP shortcodes, of course) so that you
> can customize their layout.
>
> Now you can manage your personal plugins showcase just by updating
> their readme.txt file. Hope this is of some use to you!
>
>    


-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From mpretty at voceconnect.com  Thu Jan 28 13:56:00 2010
From: mpretty at voceconnect.com (Michael Pretty)
Date: Thu, 28 Jan 2010 08:56:00 -0500
Subject: [wp-hackers] Yesterday's WordPress Hacks
In-Reply-To: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>
Message-ID: <4B619770.8060102@voceconnect.com>

When I got up this morning I saw several blog posts and tweets about 
WordPress sites being hacked.  From what I have been able to find so 
far, most, if not all, are running on RackSpace cloud.  Has anyone been 
able to identify a point of entry for the hacks?  I assume since it 
seems to be mostly just RackSpace that it is a hosting or plugin issue, 
but I'm trying to be proactive.

Michael
@prettyboymp

From gcorne at bu.edu  Thu Jan 28 14:12:39 2010
From: gcorne at bu.edu (Gregory Cornelius)
Date: Thu, 28 Jan 2010 09:12:39 -0500
Subject: [wp-hackers] Inconsistency between the category edit form and
 the category add form
In-Reply-To: <4cc4de141001272303j4ceadadeiaa1dfd445f6808a@mail.gmail.com>
Message-ID: <C7870587.161E%gcorne@bu.edu>

FWIW, I reported the same issue with tags:
http://core.trac.wordpress.org/ticket/11191

Use Case:
I have created a plugin that does two things: (1) allows slug for a term to
be managed, and (2) allows a landing page to specified that overrides the
wordpress-taxonomy page.  The use case for the second feature is not as
common as the first, essentially by sending the wordpress to an actual page,
there are more options for integrating other content with the listing of
posts in a given term.

The hooks to make it work are below.  Note: that that if you are simply
adding args to wp_insert_term and wp_update_term you just have to carefully
name your fields because $_POST is passed along.

//create the form elements
add_action('add_tag_form_fields', 'bu_taxonomy_term_fields', 1, 1);
add_action('edit_tag_form_fields', 'bu_taxonomy_term_fields', 1, 1);

//save the data
add_action('created_' . $tax->name, 'bu_term_saved', 1, 2);
add_action('edited_' . $tax->name, 'bu_term_saved', 1, 2);

Gregory

On 1/28/10 2:03 AM, "Andrew Nacin" <wp at andrewnacin.com> wrote:

>> 
>> In the former (in edit-category-form.php), there is an action hook
>> (edit_category_form_fields) that allows for the addition of extra fields to
>> the form.  These can then be handled by update_terms action hook in
>> update_term.  The edit_category_form_fields action, however, is not present
>> in the category add form (in categories.php).
>> 
> 
> This has been previously suggested. Please see
> http://core.trac.wordpress.org/ticket/11285 and comment there -- a core
> developer is looking for an example plugin to implement this.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From bradw at illiams.com  Thu Jan 28 14:27:56 2010
From: bradw at illiams.com (Brad Williams)
Date: Thu, 28 Jan 2010 09:27:56 -0500
Subject: [wp-hackers] Yesterday's WordPress Hacks
In-Reply-To: <4B619770.8060102@voceconnect.com>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>
	<4B619770.8060102@voceconnect.com>
Message-ID: <004a01caa026$163369b0$429a3d10$@com>

I experienced issues with Rackspace Cloud (Mosso at the time) and security
on two separate WP installs and hosting accounts.  We could never pinpoint
what was going on but permissions would randomly be changed and one site was
eventually hacked pretty bad.  I've since moved both clients to Liquid Web
and haven't worked with Rackspace Cloud since

-Brad

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Michael Pretty
Sent: Thursday, January 28, 2010 8:56 AM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Yesterday's WordPress Hacks

When I got up this morning I saw several blog posts and tweets about 
WordPress sites being hacked.  From what I have been able to find so 
far, most, if not all, are running on RackSpace cloud.  Has anyone been 
able to identify a point of entry for the hacks?  I assume since it 
seems to be mostly just RackSpace that it is a hosting or plugin issue, 
but I'm trying to be proactive.

Michael
@prettyboymp
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From scottg.wp-hackers at mhg2.com  Thu Jan 28 16:34:37 2010
From: scottg.wp-hackers at mhg2.com (Scott R. Godin)
Date: Thu, 28 Jan 2010 11:34:37 -0500
Subject: [wp-hackers] Yesterday's WordPress Hacks
In-Reply-To: <004a01caa026$163369b0$429a3d10$@com>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>	<4B619770.8060102@voceconnect.com>
	<004a01caa026$163369b0$429a3d10$@com>
Message-ID: <hjseat$r14$1@ger.gmane.org>

On 01/28/2010 09:27 AM, Brad Williams wrote:

> I experienced issues with Rackspace Cloud (Mosso at the time) and
> security on two separate WP installs and hosting accounts. We could
> never pinpoint what was going on but permissions would randomly be
> changed and one site was eventually hacked pretty bad. I've since
> moved both clients to Liquid Web and haven't worked with Rackspace
> Cloud since
 > -Brad

I can second the motion on liquid web. started using them a few years 
ago and have had nothing but exemplary service from them.

The only other hosting co that's really stood out in the past few years 
was nexcess.net, but that was for a Magento E-Commerce app, not 
wordpress. (however, highly recommended if you're setting up Magento.)

-- 
(please respond to the list as opposed to my email box directly,
unless you are supplying private information you don't want public
on the list)


From Brian at TheCodeCave.com  Thu Jan 28 16:58:15 2010
From: Brian at TheCodeCave.com (Brian Layman)
Date: Thu, 28 Jan 2010 11:58:15 -0500
Subject: [wp-hackers] WPMU Category ID Updating
In-Reply-To: <9bf0faac1001271421y2bdfa897mc8b9916a897688b4@mail.gmail.com>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>	<e1202cb11001271319y7a17af36o7af175de2bf5bf46@mail.gmail.com>	<004801ca9f98$bf7df9b0$3e79ed10$@com>
	<9bf0faac1001271421y2bdfa897mc8b9916a897688b4@mail.gmail.com>
Message-ID: <231c01caa03b$15fac0f0$41f042d0$@TheCodeCave.com>

(If Tim Schoffelman is around, this also answers his December question of "
[wp-hackers] WordPress MU Category Slugs: Was/is there a reason why
WordPress MU doesn't allow category slugs to be edited?")

There is code in WPmu that is there to further some non-standard features
(re: the whole site-category table). When importing all of the b5media sites
into MU, I had to disable all of that because it has some fundamental flaws.
Mark Jaquith and I spent hours going over the code and decided that
disabling it was the ideal solution. It does exactly what you have been
describing.

In short, there is an attempt to keep all slugs matching the category name
and to have all categories use the same IDs across the board. However, the
matching of slug and category conflicts with pre-existing imports and you
will very quickly find your Google 404s cranking up as your permalinks
change.  Additionally, because tags and cats both get term IDs and only
category ids are synchronized between blogs, collisions between
site-categories and individual blog term tables are quite likely. At that
point, you get key violations that aren't handled well by the editor
displayed only as "Cannot edit" or something along those lines.

I've disable both of these mu customizations with a plugin that has these
lines:
remove_filter ( 'term_id_filter', 'global_terms', 10, 2 ); 
remove_filter( 'get_term', 'sync_category_tag_slugs', 10, 2 );

YMMV, but I think this is what you are seeing.

This is the exact text I'd sent to reply to the thread "WordPress MU
Category Slugs" from back in December, but that post never made it to the
list.

- Brian Layman


From mark at simplercomputing.net  Thu Jan 28 17:02:38 2010
From: mark at simplercomputing.net (Mark E)
Date: Thu, 28 Jan 2010 10:02:38 -0700
Subject: [wp-hackers] Yesterday's WordPress Hacks
In-Reply-To: <hjseat$r14$1@ger.gmane.org>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>	<4B619770.8060102@voceconnect.com>	<004a01caa026$163369b0$429a3d10$@com>
	<hjseat$r14$1@ger.gmane.org>
Message-ID: <4B61C32E.8040103@simplercomputing.net>



Scott R. Godin wrote:
> On 01/28/2010 09:27 AM, Brad Williams wrote:
> 
>> I experienced issues with Rackspace Cloud (Mosso at the time) and
>> security on two separate WP installs and hosting accounts. We could
>> never pinpoint what was going on but permissions would randomly be
>> changed and one site was eventually hacked pretty bad. I've since
>> moved both clients to Liquid Web and haven't worked with Rackspace
>> Cloud since

Last time I checked Rackspace Cloud was similar to a getting a dedicated 
server - which means whoever is the admin is responsible for overall 
system security. Maybe that's not always the case? Sure is with one RSC 
server I handle.

Mark

From bulk at thecodecave.com  Thu Jan 28 17:08:36 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Thu, 28 Jan 2010 12:08:36 -0500
Subject: [wp-hackers] Inconsistency between the category edit form and
	the category add form
In-Reply-To: <C7870587.161E%gcorne@bu.edu>
References: <4cc4de141001272303j4ceadadeiaa1dfd445f6808a@mail.gmail.com>
	<C7870587.161E%gcorne@bu.edu>
Message-ID: <23f501caa03c$87bc0a90$97341fb0$@thecodecave.com>

I like the idea of your plugin. It could have interesting use cases. I've
+1ed it in trac.
-Brian Layman 


From Brian at TheCodeCave.com  Thu Jan 28 17:20:01 2010
From: Brian at TheCodeCave.com (Brian Layman)
Date: Thu, 28 Jan 2010 12:20:01 -0500
Subject: [wp-hackers] Fooling Wordpress To Think Plugin Output Is A Page
Message-ID: <23fc01caa03e$20296240$607c26c0$@TheCodeCave.com>

I'm not quite sure what you are planning to do with your virtual pages, but
your Use Case sounds similar to what the WP-eCommerce plugin does.  

 

If you install it, create a few products and take a look at how it uses
virtual product pages based upon a product page template, you may find it
suits your needs.  Then you can take a look at the source code and see how
they did it. 

http://wordpress.org/extend/plugins/wp-e-commerce/

 

Be sure to credit the original plugin if you use their method.

 

-          Brian Layman


From kkarpieszuk at gmail.com  Thu Jan 28 19:39:50 2010
From: kkarpieszuk at gmail.com (Konrad Karpieszuk)
Date: Thu, 28 Jan 2010 20:39:50 +0100
Subject: [wp-hackers] many plugins and performance
Message-ID: <67dfa4091001281139y5b87262fj695240a1625d9222@mail.gmail.com>

hello

I am working now on some wp website, which has big problem
performance. Many times we get error 503.

But i found out that when we delete all plugins from
wp-content/plugins, website runs much faster.

How to diagnoze which plugin slows down website most? How plugins are
attended by wordpress? Please explain shortly :)

-- 
(en) regards / (pl) pozdrawiam
Konrad Karpieszuk
http://konradjestwrwandzie.wordpress.com/

From emoya at tribune.com  Thu Jan 28 19:46:35 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Thu, 28 Jan 2010 13:46:35 -0600
Subject: [wp-hackers] many plugins and performance
In-Reply-To: <67dfa4091001281139y5b87262fj695240a1625d9222@mail.gmail.com>
Message-ID: <C78745BB.2D7C%emoya@tribune.com>

Try WP Tuner. We have not used it extensively but it looks promising.

http://wordpress.org/extend/plugins/wptuner/

--
Eddie Moya
Tribune Technology
Applications Developer


On 1/28/10 1:39 PM, "Konrad Karpieszuk" <kkarpieszuk at gmail.com> wrote:

> hello
> 
> I am working now on some wp website, which has big problem
> performance. Many times we get error 503.
> 
> But i found out that when we delete all plugins from
> wp-content/plugins, website runs much faster.
> 
> How to diagnoze which plugin slows down website most? How plugins are
> attended by wordpress? Please explain shortly :)


From gaarai at gaarai.com  Thu Jan 28 19:48:43 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Thu, 28 Jan 2010 13:48:43 -0600
Subject: [wp-hackers] many plugins and performance
In-Reply-To: <67dfa4091001281139y5b87262fj695240a1625d9222@mail.gmail.com>
References: <67dfa4091001281139y5b87262fj695240a1625d9222@mail.gmail.com>
Message-ID: <4B61EA1B.7080005@gaarai.com>

The best solution is to add and activate the plugins one at a time until 
you run into the slowdown issue. As soon as the site slows down 
significantly, you have your problem plugin.

Chris Jean
http://gaarai.com/
@chrisjean


On 01/28/2010 01:39 PM, Konrad Karpieszuk wrote:
> hello
>
> I am working now on some wp website, which has big problem
> performance. Many times we get error 503.
>
> But i found out that when we delete all plugins from
> wp-content/plugins, website runs much faster.
>
> How to diagnoze which plugin slows down website most? How plugins are
> attended by wordpress? Please explain shortly :)
>
>    

From tim at blendinteractive.com  Thu Jan 28 22:26:36 2010
From: tim at blendinteractive.com (Tim Schoffelman)
Date: Thu, 28 Jan 2010 16:26:36 -0600
Subject: [wp-hackers] WPMU Category ID Updating
In-Reply-To: <231c01caa03b$15fac0f0$41f042d0$@TheCodeCave.com>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>
	<e1202cb11001271319y7a17af36o7af175de2bf5bf46@mail.gmail.com>
	<004801ca9f98$bf7df9b0$3e79ed10$@com>
	<9bf0faac1001271421y2bdfa897mc8b9916a897688b4@mail.gmail.com>
	<231c01caa03b$15fac0f0$41f042d0$@TheCodeCave.com>
Message-ID: <9bf0faac1001281426k5bfa216am5d3ecbf0f8967ee8@mail.gmail.com>

@Brian - thanks for your reply & yeah, that is the question I asked a month
or so ago & yeah, I don't remember reading your response, but I thought the
thread in the list just died out.

I think we'll take a hard look at using the remove_filter() functions you
stated earlier, but we'll also have to consider how bad that will break any
other functionality we may have related to the category ID.

Do you know if there's any conversation going on on with the WordPress MU
developers on addressing this issue? I can't imagine we're the only ones
running into this issue where changing the term_id impacts functionality in
your theme.


Tim Schoffelman
http://www.blendinteractive.com



On Thu, Jan 28, 2010 at 10:58 AM, Brian Layman <Brian at thecodecave.com>wrote:

> (If Tim Schoffelman is around, this also answers his December question of "
> [wp-hackers] WordPress MU Category Slugs: Was/is there a reason why
> WordPress MU doesn't allow category slugs to be edited?")
>
> There is code in WPmu that is there to further some non-standard features
> (re: the whole site-category table). When importing all of the b5media
> sites
> into MU, I had to disable all of that because it has some fundamental
> flaws.
> Mark Jaquith and I spent hours going over the code and decided that
> disabling it was the ideal solution. It does exactly what you have been
> describing.
>
> In short, there is an attempt to keep all slugs matching the category name
> and to have all categories use the same IDs across the board. However, the
> matching of slug and category conflicts with pre-existing imports and you
> will very quickly find your Google 404s cranking up as your permalinks
> change.  Additionally, because tags and cats both get term IDs and only
> category ids are synchronized between blogs, collisions between
> site-categories and individual blog term tables are quite likely. At that
> point, you get key violations that aren't handled well by the editor
> displayed only as "Cannot edit" or something along those lines.
>
> I've disable both of these mu customizations with a plugin that has these
> lines:
> remove_filter ( 'term_id_filter', 'global_terms', 10, 2 );
> remove_filter( 'get_term', 'sync_category_tag_slugs', 10, 2 );
>
> YMMV, but I think this is what you are seeing.
>
> This is the exact text I'd sent to reply to the thread "WordPress MU
> Category Slugs" from back in December, but that post never made it to the
> list.
>
> - Brian Layman
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jeremy at visser.name  Fri Jan 29 02:37:05 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Fri, 29 Jan 2010 13:37:05 +1100
Subject: [wp-hackers] WHOIS is useless if it only links to ARIN
Message-ID: <4B6249D1.2080407@visser.name>

Currently, when I get a comment notification e-mail, I get a link to the
ARIN WHOIS database for the IP address that left the comment, like this
dude that spammed my 5 minutes ago:

<http://ws.arin.net/cgi-bin/whois.pl?queryinput=61.247.3.231>

But if you click through, you'll notice that IP is registered to APNIC,
not ARIN.

There are five regional Internet registries (RIRs) that allocate IP
addresses: ARIN (North America), RIPE (Europe), APNIC (Asia-Pacific,
Oceania), LACNIC (South America), and AfriNIC (Africa).

So why does WordPress only link to ARIN? If I use the command-line
'whois' tool on my Linux box, it queries from the correct one each time.
Not sure what the logic is, but surely it would be able to be ported to
WordPress.

Thoughts?

From wp at xentek.net  Fri Jan 29 07:02:50 2010
From: wp at xentek.net (Eric Marden)
Date: Fri, 29 Jan 2010 01:02:50 -0600
Subject: [wp-hackers] WHOIS is useless if it only links to ARIN
In-Reply-To: <4B6249D1.2080407@visser.name>
References: <4B6249D1.2080407@visser.name>
Message-ID: <7AC47968-4E4B-4381-BF95-B311F0B2A0EB@xentek.net>


On Jan 28, 2010, at 8:37 PM, Jeremy Visser wrote:

> So why does WordPress only link to ARIN? If I use the command-line
> 'whois' tool on my Linux box, it queries from the correct one each  
> time.
> Not sure what the logic is, but surely it would be able to be ported  
> to
> WordPress.
>
> Thoughts?


Good Idea. You should start a patch ;)

- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From jayarjo at gmail.com  Fri Jan 29 07:27:26 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Fri, 29 Jan 2010 11:27:26 +0400
Subject: [wp-hackers] post thumbnail?..
Message-ID: <9aa12a491001282327j44029be4h4231ec323d107506@mail.gmail.com>

I made a post thumbnailer recently (I didn't know there already was
one in wp 2.9). But as I found later, even if I knew I probably still
would make my own. Although not sure if I have it right (default
thumbnail meta box) - what I see is a link in meta box, saying - Set
thumbnail and then when you click on it and choose an image, it
inserts it in the editor. Is it how default thumbnailer works, apart
from all the new functions it brought with itself?

If it's better then that then just ignore the rest of what I write here :D

What if we have it as follows: similar meta box with similar link -
set thumbnail (or default - no thumb - image), which brings up media
library, just as default one, but then when you choose an image,
inserts it not into the editor, but in the hidden field (maybe I do
not want to have a thumb in the post body itself, usually that's how
it is in my case) - post_thumb or something and shows preview in a
meta box. Isn't this more intuitive and convenient?

That's how I have it. Works great and when I first activated default
thumbnail feature I thought that's how it will be operating as well,
is it?

-- 
Davit Barbakadze

From scribu at gmail.com  Fri Jan 29 09:29:48 2010
From: scribu at gmail.com (scribu)
Date: Fri, 29 Jan 2010 11:29:48 +0200
Subject: [wp-hackers] post thumbnail?..
In-Reply-To: <9aa12a491001282327j44029be4h4231ec323d107506@mail.gmail.com>
References: <9aa12a491001282327j44029be4h4231ec323d107506@mail.gmail.com>
Message-ID: <349fe48b1001290129y146e4ee2ne8a9602a44de250e@mail.gmail.com>

On Fri, Jan 29, 2010 at 9:27 AM, Davit Barbakadze <jayarjo at gmail.com> wrote:

> That's how I have it. Works great and when I first activated default
> thumbnail feature I thought that's how it will be operating as well,
> is it?
>

The built-in post thumbnail feature stores the attachment id in a custom
field and that's it.

I also have a plugin that deals with post thumbnails:

http://wordpress.org/extend/plugins/custom-field-images/



http://scribu.net

From autremonde75 at gmail.com  Fri Jan 29 11:58:16 2010
From: autremonde75 at gmail.com (Olivier)
Date: Fri, 29 Jan 2010 03:58:16 -0800 (PST)
Subject: [wp-hackers] Warning in post.php line 1997
Message-ID: <243ba602-ffbf-4adc-9ba1-30f9cc9d91ed@r6g2000yqn.googlegroups.com>

Hello,

My plugin creates custom types post through emails. I can submit
successfully posts through emails but I am getting a warning related
in_array invalid type for second argument in post.php on line 1997 :
if ( $post_name_check || in_array($slug, $wp_rewrite->feeds) ) {

If I modify this line to this :
		if ( $post_name_check || in_array($slug, $feeds) ) {

The warning is apparently gone. Not sure if this is a valid fix
however.

This issue is in WP 2.9.1.

From wordpress at dd32.id.au  Fri Jan 29 12:06:10 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 29 Jan 2010 23:06:10 +1100
Subject: [wp-hackers] Warning in post.php line 1997
In-Reply-To: <243ba602-ffbf-4adc-9ba1-30f9cc9d91ed@r6g2000yqn.googlegroups.com>
References: <243ba602-ffbf-4adc-9ba1-30f9cc9d91ed@r6g2000yqn.googlegroups.com>
Message-ID: <op.u7amkho4spxmuu@ho.st>

Can you post your plugin, and a email that'll reproduce it?
You'd probably be better off creating a ticket on  
http://core.trac.wordpress.org/ as well if its a bug in WordPress.

On Fri, 29 Jan 2010 22:58:16 +1100, Olivier <autremonde75 at gmail.com> wrote:

> Hello,
>
> My plugin creates custom types post through emails. I can submit
> successfully posts through emails but I am getting a warning related
> in_array invalid type for second argument in post.php on line 1997 :
> if ( $post_name_check || in_array($slug, $wp_rewrite->feeds) ) {
>
> If I modify this line to this :
> 		if ( $post_name_check || in_array($slug, $feeds) ) {
>
> The warning is apparently gone. Not sure if this is a valid fix
> however.
>
> This issue is in WP 2.9.1.
-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
  Web: http://dd32.id.au/

From autremonde75 at gmail.com  Fri Jan 29 12:25:41 2010
From: autremonde75 at gmail.com (Olivier)
Date: Fri, 29 Jan 2010 04:25:41 -0800 (PST)
Subject: [wp-hackers] Warning in post.php line 1997
In-Reply-To: <op.u7amkho4spxmuu@ho.st>
References: <243ba602-ffbf-4adc-9ba1-30f9cc9d91ed@r6g2000yqn.googlegroups.com>
	<op.u7amkho4spxmuu@ho.st>
Message-ID: <f8bdd93b-ab1b-4478-8752-8360310631bb@m31g2000yqb.googlegroups.com>

Hi,

Thanks a lot for your prompt answer!

I am still working on this plugin feature. Actually, this is a part of
a bigger project. I have developped a ticketing system (WATS) and I am
just adding the submit ticket by email feature now. To achieve this, I
am using the wp-mail.php code. Any email (plain text or html) will
generate the warning.

I could post a bug report on the trac if you think it is valuable.

On 29 jan, 13:06, "Dion Hulse (dd32)" <wordpr... at dd32.id.au> wrote:
> Can you post your plugin, and a email that'll reproduce it?
> You'd probably be better off creating a ticket on ?http://core.trac.wordpress.org/as well if its a bug in WordPress.
>
> On Fri, 29 Jan 2010 22:58:16 +1100, Olivier <autremond... at gmail.com> wrote:
> > Hello,
>
> > My plugin creates custom types post through emails. I can submit
> > successfully posts through emails but I am getting a warning related
> > in_array invalid type for second argument in post.php on line 1997 :
> > if ( $post_name_check || in_array($slug, $wp_rewrite->feeds) ) {
>
> > If I modify this line to this :
> > ? ? ? ? ? ?if ( $post_name_check || in_array($slug, $feeds) ) {
>
> > The warning is apparently gone. Not sure if this is a valid fix
> > however.
>
> > This issue is in WP 2.9.1.
>
> --
> Dion Hulse / dd32
>
> Contact:
> ? e: cont... at dd32.id.au
> ? msn: m... at d32.id.au
> ? skype: theonly_dd32
> ? Web:http://dd32.id.au/
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers

From autremonde75 at gmail.com  Fri Jan 29 13:34:52 2010
From: autremonde75 at gmail.com (Olivier)
Date: Fri, 29 Jan 2010 05:34:52 -0800 (PST)
Subject: [wp-hackers] Warning in post.php line 1997
In-Reply-To: <f8bdd93b-ab1b-4478-8752-8360310631bb@m31g2000yqb.googlegroups.com>
References: <243ba602-ffbf-4adc-9ba1-30f9cc9d91ed@r6g2000yqn.googlegroups.com>
	<op.u7amkho4spxmuu@ho.st>
	<f8bdd93b-ab1b-4478-8752-8360310631bb@m31g2000yqb.googlegroups.com>
Message-ID: <16b06b69-871a-49b2-9b2a-0353fc88d944@b2g2000yqi.googlegroups.com>

FYI, I have just created a ticket on the trac :
http://core.trac.wordpress.org/ticket/12078

From kkarpieszuk at gmail.com  Fri Jan 29 13:42:23 2010
From: kkarpieszuk at gmail.com (Konrad Karpieszuk)
Date: Fri, 29 Jan 2010 14:42:23 +0100
Subject: [wp-hackers] many plugins and performance
In-Reply-To: <C78745BB.2D7C%emoya@tribune.com>
References: <67dfa4091001281139y5b87262fj695240a1625d9222@mail.gmail.com>
	<C78745BB.2D7C%emoya@tribune.com>
Message-ID: <67dfa4091001290542rf2f3221j51eafed3e363b6e2@mail.gmail.com>

thank you, this plugins show a lot of information. :) but i am not
sure hove to iterprate them :)

please look at this

http://www.voila.pl/409/o5a8q/index.php?get=1&f=1

how to solve this problem with post_selection? what to modify and where?

On Thu, Jan 28, 2010 at 8:46 PM, Moya, Eddie <emoya at tribune.com> wrote:
> Try WP Tuner. We have not used it extensively but it looks promising.
>
> http://wordpress.org/extend/plugins/wptuner/
>
> --
> Eddie Moya
> Tribune Technology
> Applications Developer
>
>
> On 1/28/10 1:39 PM, "Konrad Karpieszuk" <kkarpieszuk at gmail.com> wrote:
>
>> hello
>>
>> I am working now on some wp website, which has big problem
>> performance. Many times we get error 503.
>>
>> But i found out that when we delete all plugins from
>> wp-content/plugins, website runs much faster.
>>
>> How to diagnoze which plugin slows down website most? How plugins are
>> attended by wordpress? Please explain shortly :)
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
(en) regards / (pl) pozdrawiam
Konrad Karpieszuk
http://konradjestwrwandzie.wordpress.com/

From 24-7 at gmx.net  Fri Jan 29 14:04:00 2010
From: 24-7 at gmx.net (24/7)
Date: Fri, 29 Jan 2010 15:04:00 +0100
Subject: [wp-hackers]  many plugins and performance
In-Reply-To: <mailman.16.1264766402.22942.wp-hackers@lists.automattic.com>
References: <mailman.16.1264766402.22942.wp-hackers@lists.automattic.com>
Message-ID: <001201caa0eb$e8601490$b9203db0$@net>

Just an addition to the previous poster (Chris Jean): Theres a plugin called
"debug queries". I would suggest to activate the plugin and then one at a
time of yours to check if one of them add?s some useless queries


From Brian at TheCodeCave.com  Fri Jan 29 14:22:41 2010
From: Brian at TheCodeCave.com (Brian Layman)
Date: Fri, 29 Jan 2010 09:22:41 -0500
Subject: [wp-hackers] WPMU Category ID Updating
In-Reply-To: <9bf0faac1001281426k5bfa216am5d3ecbf0f8967ee8@mail.gmail.com>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>	<e1202cb11001271319y7a17af36o7af175de2bf5bf46@mail.gmail.com>	<004801ca9f98$bf7df9b0$3e79ed10$@com>	<9bf0faac1001271421y2bdfa897mc8b9916a897688b4@mail.gmail.com>	<231c01caa03b$15fac0f0$41f042d0$@TheCodeCave.com>
	<9bf0faac1001281426k5bfa216am5d3ecbf0f8967ee8@mail.gmail.com>
Message-ID: <004001caa0ee$85713550$90539ff0$@TheCodeCave.com>

Removing the site_category features does not break any functionality because
there is nothing in WordPress mu that actually uses that behavior.  

All this code is hear as a stub for a feature that has no interface
surfaced.  It is there to allow additional functionality that is used by
sites like Wordpress.com to allow list articles from any specific category
in all blogs in on a front page.  There are other ways to implement that
feature if you want it. This one as mentioned brings along some extra
baggage. We've a couple hundred blogs running without it, across several
sites and several mu installs. We've not had any problems related to the
removal of those features.

I know the core developers are discussing what to do with that functionality
in WordPress 3.0.

Hope that helps,
-Brian 


From ozh at planetozh.com  Fri Jan 29 14:40:09 2010
From: ozh at planetozh.com (Ozh)
Date: Fri, 29 Jan 2010 15:40:09 +0100
Subject: [wp-hackers] WHOIS is useless if it only links to ARIN
In-Reply-To: <7AC47968-4E4B-4381-BF95-B311F0B2A0EB@xentek.net>
References: <4B6249D1.2080407@visser.name>
	<7AC47968-4E4B-4381-BF95-B311F0B2A0EB@xentek.net>
Message-ID: <ae81acd11001290640m13c72d0fw6377c8af1fc27782@mail.gmail.com>

I'd even go further: remove totally this link (and let plugins add
anything regarding IP WHOIS)

On Fri, Jan 29, 2010 at 8:02 AM, Eric Marden <wp at xentek.net> wrote:
>
> On Jan 28, 2010, at 8:37 PM, Jeremy Visser wrote:
>
>> So why does WordPress only link to ARIN? If I use the command-line
>> 'whois' tool on my Linux box, it queries from the correct one each time.
>> Not sure what the logic is, but surely it would be able to be ported to
>> WordPress.
>>
>> Thoughts?
>
>
> Good Idea. You should start a patch ;)
>
> - Eric Marden
> __________________________________
> http://xentek.net/code/wordpress/
> tw: @xentek
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News

From tim at silentgap.com  Fri Jan 29 17:37:01 2010
From: tim at silentgap.com (Tim Schoffelman)
Date: Fri, 29 Jan 2010 11:37:01 -0600
Subject: [wp-hackers] WPMU Category ID Updating
In-Reply-To: <004001caa0ee$85713550$90539ff0$@TheCodeCave.com>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>
	<e1202cb11001271319y7a17af36o7af175de2bf5bf46@mail.gmail.com>
	<004801ca9f98$bf7df9b0$3e79ed10$@com>
	<9bf0faac1001271421y2bdfa897mc8b9916a897688b4@mail.gmail.com>
	<231c01caa03b$15fac0f0$41f042d0$@TheCodeCave.com>
	<9bf0faac1001281426k5bfa216am5d3ecbf0f8967ee8@mail.gmail.com>
	<004001caa0ee$85713550$90539ff0$@TheCodeCave.com>
Message-ID: <5b1aecc1001290937v6b20d930hc96477626d62bd06@mail.gmail.com>

You're right, last night we implemented the two lines of code mentioned
earlier & so far so good. It's also good to know that they're aware of the
issue. Currently we have about 11 blogs on both our beta & prod mu installs,
with about 30 other blogs that could easily go on it.

Thanks for your help
Tim

On Fri, Jan 29, 2010 at 8:22 AM, Brian Layman <Brian at thecodecave.com> wrote:

> Removing the site_category features does not break any functionality
> because
> there is nothing in WordPress mu that actually uses that behavior.
>
> All this code is hear as a stub for a feature that has no interface
> surfaced.  It is there to allow additional functionality that is used by
> sites like Wordpress.com to allow list articles from any specific category
> in all blogs in on a front page.  There are other ways to implement that
> feature if you want it. This one as mentioned brings along some extra
> baggage. We've a couple hundred blogs running without it, across several
> sites and several mu installs. We've not had any problems related to the
> removal of those features.
>
> I know the core developers are discussing what to do with that
> functionality
> in WordPress 3.0.
>
> Hope that helps,
> -Brian
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wphax at nullamatix.com  Fri Jan 29 17:46:26 2010
From: wphax at nullamatix.com (Guy)
Date: Fri, 29 Jan 2010 12:46:26 -0500
Subject: [wp-hackers] WHOIS is useless if it only links to ARIN
In-Reply-To: <ae81acd11001290640m13c72d0fw6377c8af1fc27782@mail.gmail.com>
References: <4B6249D1.2080407@visser.name>
	<7AC47968-4E4B-4381-BF95-B311F0B2A0EB@xentek.net>
	<ae81acd11001290640m13c72d0fw6377c8af1fc27782@mail.gmail.com>
Message-ID: <88e844b41001290946t11b49f54o4df22c860dc8bac8@mail.gmail.com>

On Fri, Jan 29, 2010 at 9:40 AM, Ozh <ozh at planetozh.com> wrote:
> I'd even go further: remove totally this link (and let plugins add
> anything regarding IP WHOIS)
>
> --
> http://planetOzh.com ~ Blog and WordPress Stuff
> http://FrenchFragFactory.net ~ Daily Quake News

Perhaps my [lame] first attempt at a plug-in? :P

http://wordpress.org/extend/plugins/ip-intelligence/

From Brian at TheCodeCave.com  Fri Jan 29 19:19:20 2010
From: Brian at TheCodeCave.com (Brian Layman)
Date: Fri, 29 Jan 2010 14:19:20 -0500
Subject: [wp-hackers] Wordpress Android App (GSOC)
In-Reply-To: <f55773ba1001190731r53c0b214md0b63aeac50e7cb1@mail.gmail.com>
References: <f55773ba1001181826o793fbed1o73227c0d8de20919@mail.gmail.com>
	<7235ce781001190111h681f76b8qc33c77570e036200@mail.gmail.com>
	<bc2915771001190626l686a285dgd3acd3904dd8d636@mail.gmail.com>
	<f55773ba1001190731r53c0b214md0b63aeac50e7cb1@mail.gmail.com>
Message-ID: <005f01caa117$f6b50a60$e41f1f20$@TheCodeCave.com>

> Hello, my name is Leif and I am a student at the University of Utah.  I am
> interested in participating in the Google Summer of Code program if they
> have it this year.  I would like to create the Wordpress Android App.

Agreed! This app would be fun to do. I thought maybe I'd do it as my first
Android app myself, as I do have a Droid and am registered to have the apps
in the store. I'd turned my eyes to other things once I saw WPToGo was out.

I've no info on the WP app for the iPhone and would love to hear more about
it.  I've mentored on the summer of code WP project before. That was
definitely a learning experience. Even if this doesn't get approve as a
summer of code app, it would be fun to work on this sort of thing.

If you are interested in doing this, the best thing for you to do is to
start making your proposal now.

A major step for this is to start a feature chart that shows the features
and/or capabilities that are in each app and mark if the competitor has
them. Do this like you were representing each product. Simple things like
being able to start writing when you open the application compared to
hitting File->New->Document have turned the tide of battle in software wars
even as big as Word vs WordPerfect.

If you have a feature chart and plan for what you want in the Android app,
you will already be further ahead in the process than many other GSOC
applicants whose first phase will be "See how others did it and make a
proposal". That advice goes out to anyone thinking of any GSOC project.

Cheers!

Brian Layman.
(Resending this message as it and several others didn't make it to the list.
This one isn't too delayed. The thread is comatose, but not dead.)


From leif.a.andersen at gmail.com  Fri Jan 29 22:41:08 2010
From: leif.a.andersen at gmail.com (Leif Andersen)
Date: Fri, 29 Jan 2010 15:41:08 -0700
Subject: [wp-hackers] Wordpress Android App (GSOC)
In-Reply-To: <005f01caa117$f6b50a60$e41f1f20$@TheCodeCave.com>
References: <f55773ba1001181826o793fbed1o73227c0d8de20919@mail.gmail.com> 
	<7235ce781001190111h681f76b8qc33c77570e036200@mail.gmail.com> 
	<bc2915771001190626l686a285dgd3acd3904dd8d636@mail.gmail.com> 
	<f55773ba1001190731r53c0b214md0b63aeac50e7cb1@mail.gmail.com> 
	<005f01caa117$f6b50a60$e41f1f20$@TheCodeCave.com>
Message-ID: <f55773ba1001291441j15e9998fkb30dd66cb424baa7@mail.gmail.com>

Thank you very much for the input.  I am currently taking apart the iPhone
App now, however progress on that particular portion is a bit slow, as I
don't own a mac, and as such, need to go to my local university to work on
it.  Also, good idea on making a feature chart, I did not think of doing
that.  I guess that there isn't much more I can get from you until I do have
a report made up, at which point you could tell me where it's lacking.  I
would assume that the form would be similar to the 2009 and 2008 form.

Again, thank you very much.

~Leif Andersen

On Fri, Jan 29, 2010 at 12:19, Brian Layman <Brian at thecodecave.com> wrote:

> > Hello, my name is Leif and I am a student at the University of Utah.  I
> am
> > interested in participating in the Google Summer of Code program if they
> > have it this year.  I would like to create the Wordpress Android App.
>
> Agreed! This app would be fun to do. I thought maybe I'd do it as my first
> Android app myself, as I do have a Droid and am registered to have the apps
> in the store. I'd turned my eyes to other things once I saw WPToGo was out.
>
> I've no info on the WP app for the iPhone and would love to hear more about
> it.  I've mentored on the summer of code WP project before. That was
> definitely a learning experience. Even if this doesn't get approve as a
> summer of code app, it would be fun to work on this sort of thing.
>
> If you are interested in doing this, the best thing for you to do is to
> start making your proposal now.
>
> A major step for this is to start a feature chart that shows the features
> and/or capabilities that are in each app and mark if the competitor has
> them. Do this like you were representing each product. Simple things like
> being able to start writing when you open the application compared to
> hitting File->New->Document have turned the tide of battle in software wars
> even as big as Word vs WordPerfect.
>
> If you have a feature chart and plan for what you want in the Android app,
> you will already be further ahead in the process than many other GSOC
> applicants whose first phase will be "See how others did it and make a
> proposal". That advice goes out to anyone thinking of any GSOC project.
>
> Cheers!
>
> Brian Layman.
> (Resending this message as it and several others didn't make it to the
> list.
> This one isn't too delayed. The thread is comatose, but not dead.)
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From casey.bisson at gmail.com  Sat Jan 30 16:59:07 2010
From: casey.bisson at gmail.com (Casey Bisson)
Date: Sat, 30 Jan 2010 11:59:07 -0500
Subject: [wp-hackers] WPMU Category ID Updating
In-Reply-To: <004001caa0ee$85713550$90539ff0$@TheCodeCave.com>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>
	<e1202cb11001271319y7a17af36o7af175de2bf5bf46@mail.gmail.com>
	<004801ca9f98$bf7df9b0$3e79ed10$@com>
	<9bf0faac1001271421y2bdfa897mc8b9916a897688b4@mail.gmail.com>
	<231c01caa03b$15fac0f0$41f042d0$@TheCodeCave.com>
	<9bf0faac1001281426k5bfa216am5d3ecbf0f8967ee8@mail.gmail.com>
	<004001caa0ee$85713550$90539ff0$@TheCodeCave.com>
Message-ID: <3ee7077c1001300859g47c9ffa0j733fa7556b37e035@mail.gmail.com>

Having all instances of the same category/tag share the same term ID is
really useful for this feature and for doing searching across the MU site.
Because my use of WP requires lots of additional taxonomies, I've been
looking at extending this behavior to ensure that taxonomy IDs are
consistent across each blog as well.

This will allow me to do faceted searching and browsing (where you can
narrow the results down based on tags, categories, or other taxonomy types)
across all the content in the MU site.

On Fri, Jan 29, 2010 at 9:22 AM, Brian Layman <Brian at thecodecave.com> wrote:

> It is there to allow additional functionality that is used by
> sites like Wordpress.com to allow list articles from any specific category
> in all blogs in on a front page.

From jordi at jcanals.cat  Sat Jan 30 18:57:15 2010
From: jordi at jcanals.cat (Jordi Canals)
Date: Sat, 30 Jan 2010 19:57:15 +0100
Subject: [wp-hackers] Upgrade Notice on readme.txt
Message-ID: <eccf1e7c1001301057i5828fa81s7fade71e1eeaca9c@mail.gmail.com>

Hello,


From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.2.1264877849.1340.wp-hackers@lists.automattic.com>

file titled 'Upgrade Notice'. This is expected to be shown on the
WordPress upgrade page for a plugin when a new version is available,
but I didn't find or see it.
Is this option already working or is it expected to be used in a future version?

Thanks for your comments,
-- 
Jordi Canals
http://alkivia.org - http://jcanals.cat

From wp-hackers at nicolaskuttler.de  Sat Jan 30 19:13:07 2010
From: wp-hackers at nicolaskuttler.de (Jean-Nicolas Kuttler)
Date: Sat, 30 Jan 2010 20:13:07 +0100
Subject: [wp-hackers] Upgrade Notice on readme.txt
In-Reply-To: <eccf1e7c1001301057i5828fa81s7fade71e1eeaca9c@mail.gmail.com>
References: <eccf1e7c1001301057i5828fa81s7fade71e1eeaca9c@mail.gmail.com>
Message-ID: <20100130191307.GF14062@nicolaskuttler.de>

You can see it if you use Tools->upgrade. The notice definitely should be visible with the 'usual' upgrade, but isn't.

Nicolas

On Sat, Jan 30, 2010 at 07:57:15PM +0100, Jordi Canals wrote:
> Hello,
> 
> From some time ago, a new section was added to the plugins readme.txt
> file titled 'Upgrade Notice'. This is expected to be shown on the
> WordPress upgrade page for a plugin when a new version is available,
> but I didn't find or see it.
> Is this option already working or is it expected to be used in a future version?
> 
> Thanks for your comments,
> -- 
> Jordi Canals
> http://alkivia.org - http://jcanals.cat
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


--
Nicolas Kuttler
wp at nkuttler.de

http://www.nkuttler.de
http://www.nicolaskuttler.de (deutsch)

From Bulk at thecodecave.com  Sat Jan 30 23:23:27 2010
From: Bulk at thecodecave.com (Brian Layman)
Date: Sat, 30 Jan 2010 18:23:27 -0500
Subject: [wp-hackers] WPMU Category ID Updating
In-Reply-To: <3ee7077c1001300859g47c9ffa0j733fa7556b37e035@mail.gmail.com>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>	<e1202cb11001271319y7a17af36o7af175de2bf5bf46@mail.gmail.com>	<004801ca9f98$bf7df9b0$3e79ed10$@com>	<9bf0faac1001271421y2bdfa897mc8b9916a897688b4@mail.gmail.com>	<231c01caa03b$15fac0f0$41f042d0$@TheCodeCave.com>	<9bf0faac1001281426k5bfa216am5d3ecbf0f8967ee8@mail.gmail.com>	<004001caa0ee$85713550$90539ff0$@TheCodeCave.com>
	<3ee7077c1001300859g47c9ffa0j733fa7556b37e035@mail.gmail.com>
Message-ID: <aaf501caa203$3d835820$b88a0860$@thecodecave.com>

If you use do this for all term types, that will fix the id collision issue.
So expanding it will actually help the situation.  Having the site be mu
from the start means you won't see some of the problems we did.

I don't discount the need for site wide/cross blog searches. It's just this
particular implementation that didn't work for us.

Brian. 



From office at wpseek.com  Sat Jan 30 23:35:04 2010
From: office at wpseek.com (=?ISO-8859-1?Q?Oliver_Schl=F6be?=)
Date: Sun, 31 Jan 2010 00:35:04 +0100
Subject: [wp-hackers] Upgrade Notice on readme.txt
In-Reply-To: <20100130191307.GF14062@nicolaskuttler.de>
References: <eccf1e7c1001301057i5828fa81s7fade71e1eeaca9c@mail.gmail.com>
	<20100130191307.GF14062@nicolaskuttler.de>
Message-ID: <4B64C228.2070501@wpseek.com>

Yeah, +1 for that.

That's why I created the Changelogger plugin: 
http://wordpress.org/extend/plugins/changelogger/

--
Regards,
Oliver Schl?be

http://wpseek.com/
http://wpworldmap.net/

-- Code so clean you could eat off it.


On 30.01.2010 20:13, Jean-Nicolas Kuttler wrote:
> You can see it if you use Tools->upgrade. The notice definitely should be visible with the 'usual' upgrade, but isn't.
>
> Nicolas

From jordi at jcanals.cat  Sat Jan 30 23:45:22 2010
From: jordi at jcanals.cat (Jordi Canals)
Date: Sun, 31 Jan 2010 00:45:22 +0100
Subject: [wp-hackers] Upgrade Notice on readme.txt
In-Reply-To: <20100130191307.GF14062@nicolaskuttler.de>
References: <eccf1e7c1001301057i5828fa81s7fade71e1eeaca9c@mail.gmail.com>
	<20100130191307.GF14062@nicolaskuttler.de>
Message-ID: <eccf1e7c1001301545u76e645abg74be98682cee404d@mail.gmail.com>

2010/1/30 Jean-Nicolas Kuttler <wp-hackers at nicolaskuttler.de>:
> You can see it if you use Tools->upgrade. The notice definitely should be visible with the 'usual' upgrade, but isn't.
>
> Nicolas
>

Many thanks Nicolas. That was the last place where i thought about
looking for it.
+1 to put it on the plugin upgrade page.

-- 
Jordi Canals
http://alkivia.org - http://jcanals.cat

From wp-hackers at striderweb.com  Sun Jan 31 02:30:33 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat, 30 Jan 2010 20:30:33 -0600
Subject: [wp-hackers] many plugins and performance
In-Reply-To: <67dfa4091001281139y5b87262fj695240a1625d9222@mail.gmail.com>
References: <67dfa4091001281139y5b87262fj695240a1625d9222@mail.gmail.com>
Message-ID: <77A58A2C-45CE-4426-8B9A-DA23FF2AC898@striderweb.com>


On Jan 28, 2010, at 1:39 PM, Konrad Karpieszuk wrote:

> How plugins are
> attended by wordpress? Please explain shortly :)

As to how plugins are handled -- at the absolute minimum, the plugin files is included.  As to what happens after that, it's completely up to the plugin.

From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.5.1265856635.1340.wp-hackers@lists.automattic.com>

should be using current_time('timestamp') instead of PHP's time. This
is because Wordpress sets the default timezone to UTC and current_time
offsets the time from what it finds in the gmt_offset setting.

Ok so now lets say I have created a plugin. Its purpose is to log
messages to a log file with a timestamp.

Obviously at this point generating a timestamp with PHP's date
function is going to be incorrect unless of course your timezone is
UTC +0. So to get the correct time I would use current_time, something
like:
date('Y-m-d H:i:s'), current_time('timestamp')

This is all good, all I have to do is update my plugin with any calls
to date or time with current_time.

My question is what about if I use a third party library that makes
calls to time or date and this library is updated by the third party
from time to time so I don't want to modifiy it. How could one avoid a
scenario like this? Is there more to the date/time handling in
Wordpress that I could be missing?

One initial thought is to set the default timezone to the timezone set
in Wordpress settings before a function call from that library and
then set it back to UTC after.

thanks,

Luke

From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.6.1265863065.1340.wp-hackers@lists.automattic.com>

should be using current_time('timestamp') instead of PHP's time. This
is because Wordpress sets the default timezone to UTC and current_time
offsets the time from what it finds in the gmt_offset setting.

Ok so now lets say I have created a plugin. Its purpose is to log
messages to a log file with a timestamp.

Obviously at this point generating a timestamp with PHP's date
function is going to be incorrect unless of course your timezone is
UTC +0. So to get the correct time I would use current_time, something
like:
date('Y-m-d H:i:s'), current_time('timestamp')

This is all good, all I have to do is update my plugin with any calls
to date or time with current_time.

My question is what about if I use a third party library that makes
calls to time or date and this library is updated by the third party
from time to time so I don't want to modifiy it. How could one avoid a
scenario like this? Is there more to the date/time handling in
Wordpress that I could be missing?

One initial thought is to set the default timezone to the timezone set
in Wordpress settings before a function call from that library and
then set it back to UTC after.

thanks,

Luke

From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.8.1267651048.1340.wp-hackers@lists.automattic.com>

On Wed, Mar 3, 2010 at 4:13 PM, Simon B <piemanek at gmail.com> wrote:

> I've made a site for a member organisation with (currently) 50 users, each
> of whom has one post (a kind of profile post).
>
> When monitoring the site I noticed that a lot more database queries than I
> expected were being made. On investigation it turns out that for every post
> retrieved, the following two db queries are made: get_userdata and
> _fill_user. The first is on the users table, the second on usermeta.
>
> This means that where I was expecting one query there are in fact 101! When
> they get more members things are going to get very painful indeed...
>
> Is there any way I can hook into an action somewhere to stop these two
> queries from happening, as I have no use whatsoever for the data they're
> returning?
>
> Cheers
> Simon
>

From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.9.1267659765.1340.wp-hackers@lists.automattic.com>

a pagination scheme other than "/page/N".  In terms of implementation, it
seems to only really require 2 components:
1. a mechanism for generating the pagination component given the page
number.
2. a mechanism for generating the page number given a pagination component.

These seem completely managable since the pagination logic is (or should be)
confined to these 2 logic components.

Dave Viner


On Wed, Mar 3, 2010 at 3:15 PM, scribu <scribu at gmail.com> wrote:

> On Thu, Mar 4, 2010 at 1:01 AM, Dave Viner <dave at vinertech.com> wrote:
>
> > Beyond just changing the text of '/page/' to something else, it seems
> like
> > the whole url pagination construction should be pluggable.  Something
> along
> > the lines of:
> >
> > function generate_paginated_part ($page_number)
> > {
> >    // by default, we use '/page/N', but this can be overridden.
> >    return '/page/' . $page_number;
> > }
> >
> > Or, if not a pluggable function, then at least a filter that passes the
> > current string, and the integer page number.
> >
> > Dave Viner
> >
>
> How (and why) would you change the structure of the pagination URL?
>
> Could you provide a use-case?
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.10.1267821200.1340.wp-hackers@lists.automattic.com>

On Fri, Mar 5, 2010 at 9:54 PM, Brian Layman <Bulk at thecodecave.com> wrote:

> Agreed.  A more appropriate  action would be to consider comments a post
> type.  That would be a hard one to argue against especially because you
> could even do things like promoting a comment to be a Post/top point in a
> conversation. Not that I look forward to that expensive merge process..
>

You can't have comments in the post table because most comments don't come
from logged-in users. As such, the wp_comments table has several
user-related columns.

I never liked the duplication that occurs: when a logged-in user leaves a
comment: his email, for example, is stored both in the wp_users table, and
the once more for each comment.

The first time somebody leaves a comment, we could create a new user, with
the "commenter" role.

Later, if somebody wants to comment with the same email, but with a
different name, a new password will be sent to them via email, verifying
that it's the same person.


-- 
http://scribu.net

From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.11.1268462941.1340.wp-hackers@lists.automattic.com>

the wp_term_relationships table.

It would involve some custom both on the admin side and on the front-end.


--=20
http://scribu.net

From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.13.1268814205.1340.wp-hackers@lists.automattic.com>

user roles, because that's something I've wished to have on my own blog, or
the capability to automatically migrate a WordPress installation from one
host to another.

I've been a web developer using primarily PHP for a little over two years
now. I have experience with WordPress, and I've released one small plugin @
http://wordpress.org/extend/plugins/ez-quote/. It hasn't gotten tons of
downloads, but it was a great learning experience.

Is there anyone I should talk to about potentially working on WordPress
during the GSOC? Or should I just wait till after the 18th and submit my
application?

Thanks for your time,
Eric Gribkoff

From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.21.1269904804.1340.wp-hackers@lists.automattic.com>

edit_cap - The capability that controls editing a particular object of this
post type. Defaults to "edit_$capability_type" (edit_post).

edit_type_cap - The capability that controls editing objects of this post
type as a class. Defaults to "edit_ . $capability_type . s" (edit_posts).

edit_others_cap - The capability that controls editing objects of this post
type that are owned by other users. Defaults to "edit_others_ .
$capability_type . s" (edit_others_posts).

publish_others_cap - The capability that controls publishing objects of this
post type. Defaults to "publish_ . $capability_type . s" (publish_posts).

read_cap - The capability that controls reading a particular object of this
post type. Defaults to "read_$capability_type" (read_post).

delete_cap - The capability that controls deleting a particular object of
this post type. Defaults to "delete_$capability_type" (delete_post).

From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.22.1270073697.1340.wp-hackers@lists.automattic.com>

A frequently requested feature is the ability to sort by columns on
> list-type screens. We don't want to make every column sortable -- columns
> with multiple values are better dealt with using the existing filters -- but
> some things would be great to have. For example, on edit.php, sorting by
> column might include the publish date, last modified time (would be a new
> column), title, number of comments, etc. How the list sorting would be
> affected by paging would need to be considered. This could be combined with
> the ajax paging idea for a great summer project.
>


Here's how hierarchical post types (pages) are listed in the admin (or at
least how I understand it):

If you're on page 1 and there's a post that has children that continue on
page two, when you go to page 2, the parent  is displayed again, above the
remaining children. This is helpful in a sense, but it's also kind of
confusing.

It would get even more confusing when a user attempts to sort those posts by
title, for example.

So, I think the best approach would be to ignore the hierarchy completely,
when sorting. Displaying a flat list of sorted items would also make paging
trivial. (We can still display the parent's title for each child item, as a
hint)

Thoughts?


-- 
http://scribu.net

From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.23.1270074348.1340.wp-hackers@lists.automattic.com>

A frequently requested feature is the ability to sort by columns on
> list-type screens. We don't want to make every column sortable -- columns
> with multiple values are better dealt with using the existing filters -- =
but
> some things would be great to have. For example, on edit.php, sorting by
> column might include the publish date, last modified time (would be a new
> column), title, number of comments, etc. How the list sorting would be
> affected by paging would need to be considered. This could be combined wi=
th
> the ajax paging idea for a great summer project.
>


Here's how hierarchical post types (pages) are listed in the admin (or at
least how I understand it):

If you're on page 1 and there's a post that has children that continue on
page two, when you go to page 2, the parent  is displayed again, above the
remaining children. This is helpful in a sense, but it's also kind of
confusing.

It would get even more confusing when a user attempts to sort those posts b=
y
title, for example.

So, I think the best approach would be to ignore the hierarchy completely,
when sorting. Displaying a flat list of sorted items would also make paging
trivial. (We can still display the parent's title for each child item, as a
hint)

Thoughts?


--
http://scribu.net
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.24.1270115076.1340.wp-hackers@lists.automattic.com>

I haven't yet looked into that part of the library, but this should make it possible to work with large WP installs, too.

Best wishes,
Tobias




From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.25.1270115236.1340.wp-hackers@lists.automattic.com>

I haven't yet looked into that part of the library, but this should make it possible to work with large WP installs, too.

Best wishes,
Tobias




From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.26.1270115383.1340.wp-hackers@lists.automattic.com>

I haven't yet looked into that part of the library, but this should make it possible to work with large WP installs, too.

Best wishes,
Tobias




From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.31.1271351353.1340.wp-hackers@lists.automattic.com>

expected - is it incorrect?

Regards,

Chris.

From bogus@does.not.exist.com  Fri Jan 29 04:20:33 2010
From: bogus@does.not.exist.com ()
Date: Fri, 29 Jan 2010 04:20:33 -0000
Subject: No subject
Message-ID: <mailman.32.1271584789.1340.wp-hackers@lists.automattic.com>

add_action('generate_rewrite_rules', 'my_rewrite_rules');
function my_rewrite_rules( )
{
  $pages =3D get_post(get all financial terms);
  foreach ( $pages as $page ) {
    add_rewrite_rule('http://example.com/' . $page->page_name,
'?post_type=3Dx&p=3D' . $page->ID, 'top');
  }
}

add_action('init', 'my_rewrite_flush_rules');
function my_rewrite_flush_rules()
{
   global $wp_rewrite;
   $wp_rewrite->flush_rules();
}

You would just run the init action once and then hook the
my_rewrite_flush_rules() into a post_publish or update action so that
whenever a title changes or a financial term is added the rules get
updated.

On Sun, Apr 18, 2010 at 7:39 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> Thanks for the quick answer. =A0Are you saying I need to add 700+ rewrite=
 rules, one for each financial term? =A0I'm hoping that won't be a requirem=
ent. =A0I'm hoping to write one rewrite rule to capture every financial ter=
m.
>
> -Mike
>
>
> On Apr 18, 2010, at 5:17 AM, scribu wrote:
>
>> Maybe something like this:
>>
>>
>>
>>
>> Not sure wether you need to have 'http://example.com/' at the beginning =
or
>> not.
>>
>>
>> --
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

