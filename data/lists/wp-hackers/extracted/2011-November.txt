From Dagan.Henderson at epyllion.com  Tue Nov  1 00:27:31 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Mon, 31 Oct 2011 17:27:31 -0700
Subject: [wp-hackers] Two new,
 long-overdue plugins to make your wordpress life a little easier...
In-Reply-To: <4C9C70943A019D44B90BF87BB445B2DFDAE2FE3261@RSWMAIL1.dgs.dgsystems.com>
References: <CAGXuZ6vR7F7p57sMU5e6KFf7t33K_RKieHh8Qh5JRdDLMja+mQ@mail.gmail.com>
	<CAMb54M0TpBD-TucGOh92Rtxb6jtS4Bx75YNETtpxnBNaHphRXA@mail.gmail.com>
	<CAF_6N0PBeidjcA30affwMOJD_o+Y23GbZu_LzrseoSBTLPiuhQ@mail.gmail.com>
	<CAMb54M2zy-5=4JKvh5AhMu6qbnbQAPKAC-0WzXfZa31vrXEtzA@mail.gmail.com>
	<CAL4EHfkqpAdqD88rYtzgGMBZGr-LtMTGVPA-wY8DCAHU2N9E-Q@mail.gmail.com>
	<32BB754B-257B-4C5B-B26D-D426366ED6E5@funroe.net>
	<e41bfab0-853b-4d0d-81bc-7517bdf0f476@x2g2000vbd.googlegroups.com>
	<CAMb54M3hLnaE-eRd3e0BdpNOoFhWBjVCynUZG_cEqwY-8vurRg@mail.gmail.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE2FE2FD8@RSWMAIL1.dgs.dgsystems.com>
	<CAMb54M0nyjCqk9O3y3173BtAGA-vbbE-hi3FnKPsdA1K-o8XXg@mail.gmail.com>
	<4EAE7509.8040409@gmail.com>
	<CAD-FghxDME2VYipk0okC6X83deaEG3pWHBDoCpYeCQPEsw-h2g@mail.gmail.com>
	<4EAEFD84.1080909@gmail.com>
	<CAGeDw9-W54xogNW-Dh+cJ-S7=QR9fBdv5Wc8YBZQp7SsLJLLBQ@mail.gmail.com>
	<4EAF00A9.6010002@gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E5BFE5361@DC.epyllion.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE2FE3261@RSWMAIL1.dgs.dgsystems.com>
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E5BFE5363@DC.epyllion.com>

So to be clear, Marcus, all this and you're not even using WordPress to generate content on the production server? Why *don't* you use a more CMS-centric solution like Joomla! or Drupal?

You're ignoring WordPress's own publication workflow and instead using separate databases to create a workflow. WordPress is, at its *core*, a blogging platform. If you're blogs require three databases to properly workflow, I don't think a blog is what you're actually looking for.

That said, I do enterprise-grade WordPress sites for a living, including sites that may not be readily consider a "blog." I love WordPress, and have had no significant challenges in my workflow. But once the site is live, new content is created on the production server and published when it's approved. Why on earth would I need two or three databases (or at least schemas) to create content workflow when it's built right into the platform? (BTW, I also have clients that require WCGA 2 AA compliance, and it's not a problem. )


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Marcus Pope
Sent: Monday, October 31, 2011 4:43 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Two new, long-overdue plugins to make your wordpress life a little easier...

Dagan, if you create three hosting environments (dev,staging,prod) and point them all at the same database, you'd have that problem with relative or absolute urls.

One intention with relative urls is to preclude the necessity of doing search/replace operations on the database content or using a tool to do it natively in wordpress environment.  So if you push content from dev to staging to production, you won't need to alter the database content at all.

One caveat of this process, is that you can't/shouldn't push the entire database to production if production already exists.  This is again a problem regardless of the url format.  You wouldn't want to overwrite/delete newly generated comments in production with a full copy of the staging database.  That is typically overcome by only exporting key tables that do not apply to user submitted content (in this case, typically comments.)

People handle this aspect differently, but the premise of having the dev/staging/production environments to begin with is that you never use the production wp-admin interface at all for content generation or alteration.  As a process you would generate it in dev, send it to qa, and only after confirmation of quality and customer sign-off, would you push it to production.  And each environment should have its own database to prevent cross-contamination.  QA departments would be mighty upset if their automation tests broke because you added or removed content in the midst of a test because it violates the sanctity of testing in isolation.

There are tactics to handle two-way syncs, so that during an outage period, you would sync the database down entirely from production to dev, then apply via a sql patch the records you wish to add to/remove from the database from the staging.  Send the merge through a final smokescreen round of QA and then push the result back to production.  After the entire process is complete you then open the site back up to end-user access.  Many websites go this route and the result is a much larger maintenance window/downtime.  But sometimes it's a requirement because the distinction between user submitted content and site generated content may not be so clear as it is with a vanilla wordpress install.

But the relative url theory doesn't just apply to removing the search-replace step, it also applies to accessing your host in a variety of ways - like using http://127.0.0.1/ or localhost on your dev workstation and using http://mycomputername/ on your iphone to test your development work from both a browser on your computer and your iphone over your wifi network.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Dagan Henderson
Sent: Monday, October 31, 2011 5:40 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Two new, long-overdue plugins to make your wordpress life a little easier...

I'm still wondering how relative URLs solve the underlying problem here. If you create the perception of totally segregated environments (dev, staging & production), but in reality, all three environments rely on the same WP tables, don't you create a content-developer's nightmare where publishing content to "staging" _actually_ publishes it to production as well? 


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Robert Lusby
Sent: Monday, October 31, 2011 1:10 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Two new, long-overdue plugins to make your wordpress life a little easier...

On 31/10/2011 20:01, Aaron Jorbin wrote:
> On Mon, Oct 31, 2011 at 3:56 PM, Robert Lusby<nanogwp at gmail.com>  wrote:
>> They want to see the 100% finished article. With container, content, 
>> and
>> *everything* in place, "before" going live.
>>
> Perhaps we should add a button in the write panel labeled 'Preview' 
> just for this purpose?  oh. wait.
>

Perhaps we should read the rest of the email first.  ; - )

Last I heard, preview doesn't pull in template / file changes without putting them live first? Doesn't solve the problem mentioned in my email.

R

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From hempsworth at gmail.com  Tue Nov  1 00:33:05 2011
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Tue, 1 Nov 2011 00:33:05 +0000
Subject: [wp-hackers] Long Polling, Ajax and WordPress
In-Reply-To: <CACOUsBU_9W508AnYfiGmcv9AKDAvQrnZqR+E-1+ciMenqd4Smg@mail.gmail.com>
References: <CAK3PZGu5rgAsujaBVxQnSCW0NT10B+FTs9e6JHg-T2WoyFPteA@mail.gmail.com>
	<CACOUsBU_9W508AnYfiGmcv9AKDAvQrnZqR+E-1+ciMenqd4Smg@mail.gmail.com>
Message-ID: <CAK3PZGtC3yfMBooY8G9Om5dsWui-i6LC43b0VDyY2R_2VZQ==A@mail.gmail.com>

Thanks for your input,

@Dagan: I'm just on a Dreamhost shared server at the moment, may go back to
slicehost once the project is more mature.

@Eric: I did notice the thread when it first came round, and it seems like
the conclusion was to just stick with Ajax long-polling for the time being;
due to server and browser support.

@Claude: Thanks for the efficiency tip, I may look into writing live data
to an XML file for faster reading!

====

Does anybody have any advice on how I can convert my current code, which is
a simple 'short' poll of the server every 10 seconds, to something more
like long-polling?

- - - -
Kind regards,
Alex Hempton-Smith

www.alexhemptonsmith.com
www.twitter.com/hempsworth

From Dagan.Henderson at epyllion.com  Tue Nov  1 00:57:18 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Mon, 31 Oct 2011 17:57:18 -0700
Subject: [wp-hackers] Long Polling, Ajax and WordPress
In-Reply-To: <CAK3PZGtC3yfMBooY8G9Om5dsWui-i6LC43b0VDyY2R_2VZQ==A@mail.gmail.com>
References: <CAK3PZGu5rgAsujaBVxQnSCW0NT10B+FTs9e6JHg-T2WoyFPteA@mail.gmail.com>
	<CACOUsBU_9W508AnYfiGmcv9AKDAvQrnZqR+E-1+ciMenqd4Smg@mail.gmail.com>
	<CAK3PZGtC3yfMBooY8G9Om5dsWui-i6LC43b0VDyY2R_2VZQ==A@mail.gmail.com>
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E5BFE5364@DC.epyllion.com>

Alex,

The reason for my question was along the same lines that Eric was getting at. If you want a super-efficient system, look to something like socket.io to serve your polling requests. It'll do whatever the browser will support, including websockets, but is also backwards compatible down to traditional AJAX. You'll have to query the DB from outside of WP, though. So just keep that in mind.


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Alex Hempton-Smith
Sent: Monday, October 31, 2011 5:33 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Long Polling, Ajax and WordPress

Thanks for your input,

@Dagan: I'm just on a Dreamhost shared server at the moment, may go back to slicehost once the project is more mature.

@Eric: I did notice the thread when it first came round, and it seems like the conclusion was to just stick with Ajax long-polling for the time being; due to server and browser support.

@Claude: Thanks for the efficiency tip, I may look into writing live data to an XML file for faster reading!

====

Does anybody have any advice on how I can convert my current code, which is a simple 'short' poll of the server every 10 seconds, to something more like long-polling?

- - - -
Kind regards,
Alex Hempton-Smith

www.alexhemptonsmith.com
www.twitter.com/hempsworth
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From lists at rotorised.com  Tue Nov  1 01:49:11 2011
From: lists at rotorised.com (Ryan McCue)
Date: Tue, 01 Nov 2011 11:49:11 +1000
Subject: [wp-hackers] Long Polling, Ajax and WordPress
In-Reply-To: <CAK3PZGtC3yfMBooY8G9Om5dsWui-i6LC43b0VDyY2R_2VZQ==A@mail.gmail.com>
References: <CAK3PZGu5rgAsujaBVxQnSCW0NT10B+FTs9e6JHg-T2WoyFPteA@mail.gmail.com>
	<CACOUsBU_9W508AnYfiGmcv9AKDAvQrnZqR+E-1+ciMenqd4Smg@mail.gmail.com>
	<CAK3PZGtC3yfMBooY8G9Om5dsWui-i6LC43b0VDyY2R_2VZQ==A@mail.gmail.com>
Message-ID: <4EAF5017.5020905@rotorised.com>

Alex Hempton-Smith wrote:
> Does anybody have any advice on how I can convert my current code, which is
> a simple 'short' poll of the server every 10 seconds, to something more
> like long-polling?

Essentially, you just want a loop which waits until something comes in.
However, you want to make sure it doesn't time out (since then, you
can't tell if there's an actual connection error or not client-side).

Server-side:

	$start = time();
	while (true) {
		$bits = get_new_bits();
		if ($bits) {
			echo json_encode($bits);
			die();
		}

		// don't wait too long
		if ((time() - $start) > 600) {
			echo '{}';
			die();
		}

		sleep(1);
	}

Client-side, pseudo-code:

	while (true) {
		$.getJSON('poll.php', function (data) {
			if (data.length == 0) {
				return;
			}

			//do stuff with data
		});
	});

Thanks,
-- 
Ryan McCue
<http://ryanmccue.info/>

From ryannmicua at gmail.com  Tue Nov  1 03:38:50 2011
From: ryannmicua at gmail.com (Ryann Micua)
Date: Tue, 01 Nov 2011 11:38:50 +0800
Subject: [wp-hackers] How to make root relative urls work in, , subdomain
In-Reply-To: <mailman.7683.1320085931.1433.wp-hackers@lists.automattic.com>
References: <mailman.7683.1320085931.1433.wp-hackers@lists.automattic.com>
Message-ID: <4EAF69CA.8090904@gmail.com>

Hi Marcus,

The rewrite doesn't seem to be working on my local server. But, if you 
say that it's the right then I think it's something wrong with my lamp 
setup I'll look into it. we came up with almost the same rules anyway =) 
save for taking out the domain name and adding flags.

> Hey Ryann, unfortunately I got sucked into a 6 hour meeting in the next 10 minutes so I won't be able to write up a response as complete I would like.  But I can fill you in on more details tomorrow if you don't figure out an option from this response.
>
> Basically you are 90% of the way there.  I'm not sure if the email thread removed the newline, but you'll want to put the RewriteRule on its own line underneath the RewriteCond statement.  You can also take outhttp://wp.dev  and just use/testproject/$1.  And additionally you will want to put [R=301,L]  which indicates that the redirect is a permanent move (301) and to stop processing anymore rules L == Last Rule.
>
> Otherwise the rest looks good.  If the above suggestions don't work out let me know and I'll spend a little more time looking at it.  Here's a formatted version for you to view..
>
> RewriteEngine on
>
> #be sure to include the wordpress .htaccess rules here
>
> #and put this at the bottom of your file
> RewriteCond %{REQUEST_URI} !^/testproject/
> RewriteRule ^wp\.dev/(.*)/testproject/$1 [R=301,L]
>
> #end of file


-- 
*Ryann Micua*
/Web Developer/
------------------------------------------------------------------------

Website: /www.pogidude.com/
Skype: /rmicua/
Mobile: /+639169273059/


From vijayverma2011 at hotmail.com  Tue Nov  1 05:13:10 2011
From: vijayverma2011 at hotmail.com (VIJAY VERMA)
Date: Tue, 1 Nov 2011 05:13:10 +0000
Subject: [wp-hackers] wp-hackers Digest, Vol 81, Issue 77
In-Reply-To: <mailman.7718.1320104619.1433.wp-hackers@lists.automattic.com>
References: <mailman.7718.1320104619.1433.wp-hackers@lists.automattic.com>
Message-ID: <SNT144-W34B91E3F752596B4AE46A9CDD70@phx.gbl>


Hi, I could not understand the purpose of this website.  How it is useful for me?  Please help me.  Regards.
VIJAY
-----------------------------
> From: wp-hackers-request at lists.automattic.com
> Subject: wp-hackers Digest, Vol 81, Issue 77
> To: wp-hackers at lists.automattic.com
> Date: Mon, 31 Oct 2011 23:43:39 +0000
> 
> Send wp-hackers mailing list submissions to
> 	wp-hackers at lists.automattic.com
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> 	http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
> 	wp-hackers-request at lists.automattic.com
> 
> You can reach the person managing the list at
> 	wp-hackers-owner at lists.automattic.com
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
> 
> 
> Today's Topics:
> 
>    1. Re: And "The Last Word" trophy goes to.... (Kunal Bhalla)
>    2. Re: And "The Last Word" trophy goes to.... (Otto)
>    3. Re: Advice on using Custom Post Types (Erick Hitter)
>    4. Re: Advice on using Custom Post Types (Mario Peshev)
>    5. Re: Advice on using Custom Post Types (Mike Schinkel)
>    6. Re: Two new, long-overdue plugins to make your wordpress life
>       a little easier... (Dagan Henderson)
>    7. Re: to use or not to use a custom taxonomy (Mike Schinkel)
>    8. Re: Two new, long-overdue plugins to make your wordpress life
>       a little easier... (Marcus Pope)
> 
> 
> ----------------------------------------------------------------------
> 
> Message: 1
> Date: Tue, 1 Nov 2011 03:56:24 +0530
> From: Kunal Bhalla <bhalla.kunal at gmail.com>
> Subject: Re: [wp-hackers] And "The Last Word" trophy goes to....
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<CAPswMWtWc-FidvH8XN7SgHM_xgYO_V7mtnzapzLszm8S+jVpdw at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> Alternatively, using smart labels[1] in gmail automagically moves
> almost all newsletter subscriptions -- such as google groups, mailman
> emails, etc to the "Forums" label -- where you can choose to always
> skip the inbox for such emails.
> 
> [1]: http://gmailblog.blogspot.com/2011/03/new-in-gmail-labs-smart-labels.html
> 
> Kunal
> 
> 
> 
> On Tue, Nov 1, 2011 at 03:46, Baki Goxhaj <banago at gmail.com> wrote:
> > Marvelous - just filtered the list into a label - thanks Otto.
> >
> > Kindly,
> >
> > Baki Goxhaj
> > www.wplancer.com | proverbhunter.com | www.banago.info<http://proverbhunter.com>
> >
> >
> > On Mon, Oct 31, 2011 at 11:10 PM, Daniel Fenn <danielx386 at gmail.com> wrote:
> >
> >> Thankyou Otto :)
> >>
> >> Also if you ever mute something and want to undo it, type in is:muted
> >> and you will get a list of emails that are muted.
> >>
> >>
> >>
> >>
> >> On Tue, Nov 1, 2011 at 9:04 AM, Otto <otto at ottodestruct.com> wrote:
> >> > On Mon, Oct 31, 2011 at 4:59 PM, Erick Hitter <ehitter at gmail.com> wrote:
> >> >> The "Mute" option in Gmail may very well have been introduced just for
> >> this
> >> >> list.
> >> >
> >> > PROTIP for Gmail users:
> >> >
> >> > Filter:
> >> > Matches: list:"wp-hackers.lists.automattic.com"
> >> > Do this: Skip Inbox, Apply label "wp-hackers"
> >> >
> >> > I do one of these for every list I'm on. Then I can read them at will
> >> > instead of dealing with clutter. GMail makes mailing lists way easy.
> >> >
> >> > -Otto
> >> > _______________________________________________
> >> > wp-hackers mailing list
> >> > wp-hackers at lists.automattic.com
> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> ------------------------------
> 
> Message: 2
> Date: Mon, 31 Oct 2011 17:28:57 -0500
> From: Otto <otto at ottodestruct.com>
> Subject: Re: [wp-hackers] And "The Last Word" trophy goes to....
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<CAD-Fghxc6HWqdU0xSAuBRaNaVsu8Fd9m8woBfPS8XFbgELbrOg at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> On Mon, Oct 31, 2011 at 5:26 PM, Kunal Bhalla <bhalla.kunal at gmail.com> wrote:
> > Alternatively, using smart labels[1] in gmail automagically moves
> > almost all newsletter subscriptions -- such as google groups, mailman
> > emails, etc to the "Forums" label -- where you can choose to always
> > skip the inbox for such emails.
> >
> > [1]: http://gmailblog.blogspot.com/2011/03/new-in-gmail-labs-smart-labels.html
> 
> Smart Labels works even with filtering, BTW. If you subscribe to a lot
> of lists, then you can have a separate label for each list, and the
> Forums label will show all the lists in one place.
> 
> *Really* handy if you subscribe to lots of lists.
> 
> -Otto
> 
> 
> ------------------------------
> 
> Message: 3
> Date: Mon, 31 Oct 2011 18:31:14 -0400
> From: Erick Hitter <ehitter at gmail.com>
> Subject: Re: [wp-hackers] Advice on using Custom Post Types
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<CADAM20p9qUzkXT4etw8Tb-wHWccQsPJg9x-medHh=PcbHnrD3A at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> Either categories or a custom taxonomy will be more manageable, unless
> there are substantive differences, such as post meta/meta boxes that differ
> between the types.
> 
> Erick
> On Oct 31, 2011 6:23 PM, "Aero Maxx" <aero.maxx.d at gmail.com> wrote:
> 
> > I have 8 custom post types for a lottery website I am currently working,
> > one custom post type for each game that is in the lottery, but I am now
> > wondering if this is the best way to go about this, would I be better off
> > do you think in creating 1 custom post type called draw results, and having
> > all the games results in this one custom post type, and then have
> > categories to select for which game the results apply to, or should I stick
> > with the 8 custom post types, and list them under a game information page
> > in my menu as this is how I currently have it setup.
> > ______________________________**_________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> > http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
> >
> 
> 
> ------------------------------
> 
> Message: 4
> Date: Tue, 1 Nov 2011 00:31:27 +0200
> From: Mario Peshev <mario at peshev.net>
> Subject: Re: [wp-hackers] Advice on using Custom Post Types
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<CAN_8tK7cjyL-RegWxPN3KCbcq9ogAtM-S_+X9c0=uKP9RVV-UQ at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> If they have the same data and outlook to be populated and designed I'd go
> with 1 custom post type and either categories or custom fields for the
> small changes. Basically I use custom post types for entirely different
> entities.
> 
> Mario Peshev
> Training and Consulting Services @ DevriX
> http://www.linkedin.com/in/mpeshev
> http://peshev.net/blog
> 
> 
> 
> On Tue, Nov 1, 2011 at 12:23 AM, Aero Maxx <aero.maxx.d at gmail.com> wrote:
> 
> > I have 8 custom post types for a lottery website I am currently working,
> > one custom post type for each game that is in the lottery, but I am now
> > wondering if this is the best way to go about this, would I be better off
> > do you think in creating 1 custom post type called draw results, and having
> > all the games results in this one custom post type, and then have
> > categories to select for which game the results apply to, or should I stick
> > with the 8 custom post types, and list them under a game information page
> > in my menu as this is how I currently have it setup.
> > ______________________________**_________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> > http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
> >
> 
> 
> ------------------------------
> 
> Message: 5
> Date: Mon, 31 Oct 2011 18:38:31 -0400
> From: Mike Schinkel <mikeschinkel at newclarity.net>
> Subject: Re: [wp-hackers] Advice on using Custom Post Types
> To: wp-hackers at lists.automattic.com
> Message-ID: <EB7DD1C3-4211-42AE-B2F5-DBBF0728DC67 at newclarity.net>
> Content-Type: text/plain; charset=us-ascii
> 
> >> On Oct 31, 2011, at 6:23 PM, Aero Maxx wrote:
> >>> I have 8 custom post types for a lottery website I am currently working, one custom post type for each game that is in the lottery, but I am now wondering if this is the best way to go about this, would I be better off do you think in creating 1 custom post type called draw results, and having all the games results in this one custom post type, and then have categories to select for which game the results apply to, or should I stick with the 8 custom post types, and list them under a game information page in my menu as this is how I currently have it setup.
> > 
> 
> > On Oct 31, 2011, at 6:31 PM, Mario Peshev wrote:
> >> If they have the same data and outlook to be populated and designed I'd go
> >> with 1 custom post type and either categories or custom fields for the
> >> small changes. Basically I use custom post types for entirely different
> >> entities.
> >> 
> >> Mario Peshev
> >> Training and Consulting Services @ DevriX
> >> http://www.linkedin.com/in/mpeshev
> >> http://peshev.net/blog
> > 
> > 
> > On Oct 31, 2011, at 6:31 PM, Erick Hitter wrote:
> >> Either categories or a custom taxonomy will be more manageable, unless
> >> there are substantive differences, such as post meta/meta boxes that differ
> >> between the types.
> >> 
> >> Erick
> 
> I agree with both Mario and Erick.  I might also suggest you add a 'Game Type' custom taxonomy or a '_game_type' custom field or  in which you store a key that indicates which gave type it is, and then capture different values into custom fields depending on which of game type of you for each.
> 
> -Mike
> 
> ------------------------------
> 
> Message: 6
> Date: Mon, 31 Oct 2011 15:39:57 -0700
> From: Dagan Henderson <Dagan.Henderson at epyllion.com>
> Subject: Re: [wp-hackers] Two new, long-overdue plugins to make your
> 	wordpress life a little easier...
> To: "wp-hackers at lists.automattic.com"
> 	<wp-hackers at lists.automattic.com>
> Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E5BFE5361 at DC.epyllion.com>
> Content-Type: text/plain; charset="us-ascii"
> 
> I'm still wondering how relative URLs solve the underlying problem here. If you create the perception of totally segregated environments (dev, staging & production), but in reality, all three environments rely on the same WP tables, don't you create a content-developer's nightmare where publishing content to "staging" _actually_ publishes it to production as well? 
> 
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Robert Lusby
> Sent: Monday, October 31, 2011 1:10 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Two new, long-overdue plugins to make your wordpress life a little easier...
> 
> On 31/10/2011 20:01, Aaron Jorbin wrote:
> > On Mon, Oct 31, 2011 at 3:56 PM, Robert Lusby<nanogwp at gmail.com>  wrote:
> >> They want to see the 100% finished article. With container, content, 
> >> and
> >> *everything* in place, "before" going live.
> >>
> > Perhaps we should add a button in the write panel labeled 'Preview' 
> > just for this purpose?  oh. wait.
> >
> 
> Perhaps we should read the rest of the email first.  ; - )
> 
> Last I heard, preview doesn't pull in template / file changes without putting them live first? Doesn't solve the problem mentioned in my email.
> 
> R
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> ------------------------------
> 
> Message: 7
> Date: Mon, 31 Oct 2011 18:48:11 -0400
> From: Mike Schinkel <mikeschinkel at newclarity.net>
> Subject: Re: [wp-hackers] to use or not to use a custom taxonomy
> To: wp-hackers at lists.automattic.com
> Message-ID: <3F4E489E-338E-463A-9590-EA44BA37A61A at newclarity.net>
> Content-Type: text/plain; charset=iso-8859-1
> 
> On Oct 31, 2011, at 10:16 AM, Haluk Karamete wrote:
> > when you display the cats, of course, you would not want to display it
> > as politics, sports, entertainment and then boom media (cat11)...
> > why? cause media is a whole different facet...
> 
> Focus on what is most usable and don't worry about the JOINs.   So create a custom taxonomy called "Media."
> 
> > here what I'm trying to understand is.... as I create more and more
> > CT's, my JOINs will be slower and slower...  
> 
> You misunderstand. Creating another custom taxonomy does not add a JOIN, unless you are querying by both Category and by Media in which case you'll have more JOINs either way you do it, maybe even more if you use subcategories.
> 
> Worry about performance when performance becomes a real problem. Most of the time WordPress won't cause you performance issues unless you start trying to "out-think" WordPress' already built in optimizations.
> 
> From [1]: "We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil"
> 	
> Hope this helps.
> 
> -Mike
> [1] http://en.wikipedia.org/wiki/Program_optimization#When_to_optimize: 
> 
> ------------------------------
> 
> Message: 8
> Date: Mon, 31 Oct 2011 19:43:26 -0400
> From: Marcus Pope <Marcus.Pope at springbox.com>
> Subject: Re: [wp-hackers] Two new, long-overdue plugins to make your
> 	wordpress life a little easier...
> To: "wp-hackers at lists.automattic.com"
> 	<wp-hackers at lists.automattic.com>
> Message-ID:
> 	<4C9C70943A019D44B90BF87BB445B2DFDAE2FE3261 at RSWMAIL1.dgs.dgsystems.com>
> 	
> Content-Type: text/plain; charset="us-ascii"
> 
> Dagan, if you create three hosting environments (dev,staging,prod) and point them all at the same database, you'd have that problem with relative or absolute urls.
> 
> One intention with relative urls is to preclude the necessity of doing search/replace operations on the database content or using a tool to do it natively in wordpress environment.  So if you push content from dev to staging to production, you won't need to alter the database content at all.
> 
> One caveat of this process, is that you can't/shouldn't push the entire database to production if production already exists.  This is again a problem regardless of the url format.  You wouldn't want to overwrite/delete newly generated comments in production with a full copy of the staging database.  That is typically overcome by only exporting key tables that do not apply to user submitted content (in this case, typically comments.)
> 
> People handle this aspect differently, but the premise of having the dev/staging/production environments to begin with is that you never use the production wp-admin interface at all for content generation or alteration.  As a process you would generate it in dev, send it to qa, and only after confirmation of quality and customer sign-off, would you push it to production.  And each environment should have its own database to prevent cross-contamination.  QA departments would be mighty upset if their automation tests broke because you added or removed content in the midst of a test because it violates the sanctity of testing in isolation.
> 
> There are tactics to handle two-way syncs, so that during an outage period, you would sync the database down entirely from production to dev, then apply via a sql patch the records you wish to add to/remove from the database from the staging.  Send the merge through a final smokescreen round of QA and then push the result back to production.  After the entire process is complete you then open the site back up to end-user access.  Many websites go this route and the result is a much larger maintenance window/downtime.  But sometimes it's a requirement because the distinction between user submitted content and site generated content may not be so clear as it is with a vanilla wordpress install.
> 
> But the relative url theory doesn't just apply to removing the search-replace step, it also applies to accessing your host in a variety of ways - like using http://127.0.0.1/ or localhost on your dev workstation and using http://mycomputername/ on your iphone to test your development work from both a browser on your computer and your iphone over your wifi network.
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Dagan Henderson
> Sent: Monday, October 31, 2011 5:40 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Two new, long-overdue plugins to make your wordpress life a little easier...
> 
> I'm still wondering how relative URLs solve the underlying problem here. If you create the perception of totally segregated environments (dev, staging & production), but in reality, all three environments rely on the same WP tables, don't you create a content-developer's nightmare where publishing content to "staging" _actually_ publishes it to production as well? 
> 
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Robert Lusby
> Sent: Monday, October 31, 2011 1:10 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Two new, long-overdue plugins to make your wordpress life a little easier...
> 
> On 31/10/2011 20:01, Aaron Jorbin wrote:
> > On Mon, Oct 31, 2011 at 3:56 PM, Robert Lusby<nanogwp at gmail.com>  wrote:
> >> They want to see the 100% finished article. With container, content, 
> >> and
> >> *everything* in place, "before" going live.
> >>
> > Perhaps we should add a button in the write panel labeled 'Preview' 
> > just for this purpose?  oh. wait.
> >
> 
> Perhaps we should read the rest of the email first.  ; - )
> 
> Last I heard, preview doesn't pull in template / file changes without putting them live first? Doesn't solve the problem mentioned in my email.
> 
> R
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> ------------------------------
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> End of wp-hackers Digest, Vol 81, Issue 77
> ******************************************
 		 	   		  

From ryannmicua at gmail.com  Tue Nov  1 05:37:42 2011
From: ryannmicua at gmail.com (Ryann Micua)
Date: Tue, 01 Nov 2011 13:37:42 +0800
Subject: [wp-hackers] Two new,
 long-overdue plugins to make your wordpress life a little easier...
In-Reply-To: <mailman.7742.1320124391.1433.wp-hackers@lists.automattic.com>
References: <mailman.7742.1320124391.1433.wp-hackers@lists.automattic.com>
Message-ID: <4EAF85A6.6070305@gmail.com>

I think what Marcus is trying to say here is create 
content/changes/modifications in dev, send it to staging where qa takes 
a look at it "live" not as "draft", then when it's all good, the 
content/changes/modifications are pushed to production. Which is why you 
don't need to generate content from the production site because content 
generation starts from dev.

I'm guessing that for Marcus, the clients wants to be able to "preview" 
the "live" site before actually "publishing" the content/modifications 
to the public. DEV is for Marcus, STAGING is for the client/qa, 
PRODUCTION for the world.

Which is why he wants to be able to use root relative urls.

On Tuesday, 01 November, 2011 01:13 PM, 
wp-hackers-request at lists.automattic.com wrote:
> So to be clear, Marcus, all this and you're not even using WordPress to generate content on the production server? Why*don't*  you use a more CMS-centric solution like Joomla! or Drupal?
>
> You're ignoring WordPress's own publication workflow and instead using separate databases to create a workflow. WordPress is, at its*core*, a blogging platform. If you're blogs require three databases to properly workflow, I don't think a blog is what you're actually looking for.
>
> That said, I do enterprise-grade WordPress sites for a living, including sites that may not be readily consider a "blog." I love WordPress, and have had no significant challenges in my workflow. But once the site is live, new content is created on the production server and published when it's approved. Why on earth would I need two or three databases (or at least schemas) to create content workflow when it's built right into the platform? (BTW, I also have clients that require WCGA 2 AA compliance, and it's not a problem. )

-- 
*Ryann Micua*
/Web Developer/
------------------------------------------------------------------------

Website: /www.pogidude.com/
Skype: /rmicua/
Mobile: /+639169273059/


From Dagan.Henderson at epyllion.com  Tue Nov  1 05:46:25 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Mon, 31 Oct 2011 22:46:25 -0700
Subject: [wp-hackers] Two new,
 long-overdue plugins to make your wordpress life a little easier...
In-Reply-To: <4EAF85A6.6070305@gmail.com>
References: <mailman.7742.1320124391.1433.wp-hackers@lists.automattic.com>
	<4EAF85A6.6070305@gmail.com>
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E5BFE5365@DC.epyllion.com>

I'm still sorting that out with him off-list, Ryann. :-) I still say it's a lot of work outside of the WP workflow to expect inclusion in core, but that's just MHO.


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Ryann Micua
Sent: Monday, October 31, 2011 10:38 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Two new, long-overdue plugins to make your wordpress life a little easier...

I think what Marcus is trying to say here is create content/changes/modifications in dev, send it to staging where qa takes a look at it "live" not as "draft", then when it's all good, the content/changes/modifications are pushed to production. Which is why you don't need to generate content from the production site because content generation starts from dev.

I'm guessing that for Marcus, the clients wants to be able to "preview" 
the "live" site before actually "publishing" the content/modifications to the public. DEV is for Marcus, STAGING is for the client/qa, PRODUCTION for the world.

Which is why he wants to be able to use root relative urls.

On Tuesday, 01 November, 2011 01:13 PM, wp-hackers-request at lists.automattic.com wrote:
> So to be clear, Marcus, all this and you're not even using WordPress to generate content on the production server? Why*don't*  you use a more CMS-centric solution like Joomla! or Drupal?
>
> You're ignoring WordPress's own publication workflow and instead using separate databases to create a workflow. WordPress is, at its*core*, a blogging platform. If you're blogs require three databases to properly workflow, I don't think a blog is what you're actually looking for.
>
> That said, I do enterprise-grade WordPress sites for a living, 
> including sites that may not be readily consider a "blog." I love 
> WordPress, and have had no significant challenges in my workflow. But 
> once the site is live, new content is created on the production server 
> and published when it's approved. Why on earth would I need two or 
> three databases (or at least schemas) to create content workflow when 
> it's built right into the platform? (BTW, I also have clients that 
> require WCGA 2 AA compliance, and it's not a problem. )

--
*Ryann Micua*
/Web Developer/
------------------------------------------------------------------------

Website: /www.pogidude.com/
Skype: /rmicua/
Mobile: /+639169273059/

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From r at schestowitz.com  Tue Nov  1 08:18:27 2011
From: r at schestowitz.com (Roy Schestowitz)
Date: Tue, 01 Nov 2011 08:18:27 +0000
Subject: [wp-hackers] WP-Hackers Stats for October 2011
Message-ID: <4EAFAB53.7070503@schestowitz.com>

  -  Times are Greenwich Mean Time (GMT) +0:00

  -  Statistics span a period of one month

  -  Subject line formatted consistently "WP-Hackers Stats for <MONTH>
<YEAR>"

  -  Killfile <subject contains "WP-Hackers Stats for "> if uninterested
____________________________________________________________

Stats for wp-hackers
~~~~~~~~~~~~~~~~~~~~
***** People who have written most messages:
+----+-----Author-----------------------------------+--Msg-+-Percent-+
|  1 | Marcus.Pope springbox.com                    |   40 |  8.32 % |
|  2 | mikeschinkel newclarity.net                  |   27 |  5.61 % |
|  3 | otto ottodestruct.com                        |   24 |  4.99 % |
|  4 | Dagan.Henderson epyllion.com                 |   22 |  4.57 % |
|  5 | wordpress zed1.com                           |   20 |  4.16 % |
|  6 | nanogwp gmail.com                            |   15 |  3.12 % |
|  7 | ipstenu ipstenu.org                          |   12 |  2.49 % |
|  8 | wordpress dd32.id.au                         |   12 |  2.49 % |
|  9 | ronin braydon.com                            |   12 |  2.49 % |
| 10 | dianakac gmail.com                           |   10 |  2.08 % |
| 11 | rafaehlers gmail.com                         |   10 |  2.08 % |
| 12 | wp-hackers thecodecave.com                   |    9 |  1.87 % |
| 13 | gxxaxx gmail.com                             |    9 |  1.87 % |
| 14 | aero.maxx.d gmail.com                        |    9 |  1.87 % |
| 15 | dan phiffer.org                              |    8 |  1.66 % |
| 16 | okfrank gmail.com                            |    7 |  1.46 % |
| 17 | chip chipbennett.net                         |    7 |  1.46 % |
| 18 | jnolte getmoxied.net                         |    7 |  1.46 % |
| 19 | mike etchsoftware.com                        |    7 |  1.46 % |
| 20 | kkarpieszuk gmail.com                        |    6 |  1.25 % |
| 21 | info samauciello.com                         |    6 |  1.25 % |
| 22 | ryannmicua gmail.com                         |    6 |  1.25 % |
| 23 | hempsworth gmail.com                         |    6 |  1.25 % |
| 24 | aaron jorb.in                                |    6 |  1.25 % |
| 25 | ehitter gmail.com                            |    6 |  1.25 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  178 | 37.01 % |
+----+----------------------------------------------+------+---------+

***** Best authors, by total size of their messages (w/o quoting):
+----+-----Author-------------------------------------------+-KBytes-+
|  1 | Marcus.Pope springbox.com                            |  139.8 |
|  2 | Dagan.Henderson epyllion.com                         |   56.0 |
|  3 | otto ottodestruct.com                                |   39.2 |
|  4 | mikeschinkel newclarity.net                          |   23.6 |
|  5 | wordpress dd32.id.au                                 |   22.2 |
|  6 | okfrank gmail.com                                    |   21.6 |
|  7 | ipstenu ipstenu.org                                  |   17.9 |
|  8 | wordpress zed1.com                                   |   16.7 |
|  9 | ronin braydon.com                                    |   12.4 |
| 10 | halukkaramete gmail.com                              |   11.4 |
| 11 | mike etchsoftware.com                                |   10.1 |
| 12 | nanogwp gmail.com                                    |    9.7 |
| 13 | xiaohan2012 gmail.com                                |    8.7 |
| 14 | ryannmicua gmail.com                                 |    7.8 |
| 15 | chip chipbennett.net                                 |    7.7 |
| 16 | aero.maxx.d gmail.com                                |    7.3 |
| 17 | gxxaxx gmail.com                                     |    7.3 |
| 18 | eric eam.me                                          |    6.2 |
| 19 | wp-hackers thecodecave.com                           |    6.2 |
| 20 | dianakac gmail.com                                   |    5.7 |
| 21 | hempsworth gmail.com                                 |    5.7 |
| 22 | jnolte getmoxied.net                                 |    5.4 |
| 23 | kkarpieszuk gmail.com                                |    5.3 |
| 24 | rafaehlers gmail.com                                 |    5.2 |
| 25 | info samauciello.com                                 |    5.0 |
+----+------------------------------------------------------+--------+

***** Best authors, by average size of their message (w/o quoting):
+----+-----Author--------------------------------------------+-bytes-+
|  1 | newkind gmail.com                                     |  3730 |
|  2 | Preston.Fitzgerald MentorEnterprisesInc.com           |  3606 |
|  3 | Marcus.Pope springbox.com                             |  3578 |
|  4 | jonas.nordstrom gmail.com                             |  3337 |
|  5 | okfrank gmail.com                                     |  3162 |
|  6 | halukkaramete gmail.com                               |  2917 |
|  7 | Dagan.Henderson epyllion.com                          |  2604 |
|  8 | raven mecus.es                                        |  2255 |
|  9 | xiaohan2012 gmail.com                                 |  2236 |
| 10 | 24-7 gmx.net                                          |  2214 |
| 11 | will.davis gmail.com                                  |  1897 |
| 12 | wordpress dd32.id.au                                  |  1892 |
| 13 | jhay jrocas.com.ph                                    |  1848 |
| 14 | peroyomaslists gmail.com                              |  1801 |
| 15 | wfz canopusresearch.com                               |  1691 |
| 16 | otto ottodestruct.com                                 |  1674 |
| 17 | ipstenu ipstenu.org                                   |  1530 |
| 18 | justmichaelh gmail.com                                |  1501 |
| 19 | mike etchsoftware.com                                 |  1480 |
| 20 | andrew graymerica.com                                 |  1414 |
| 21 | photofantaisie gmail.com                              |  1384 |
| 22 | phillip.lord newcastle.ac.uk                          |  1368 |
| 23 | adam littlefyr.com                                    |  1341 |
| 24 | ryannmicua gmail.com                                  |  1336 |
| 25 | eric eam.me                                           |  1278 |
+----+-------------------------------------------------------+-------+

***** Table showing the most successful subjects:
+----+----Subject-----------------------------------+--Msg-+-Percent-+
|  1 | [wp-hackers] Two new,                        |  120 | 24.95 % |
|  2 | [wp-hackers] Which editor do you use?        |   40 |  8.32 % |
|  3 | [wp-hackers] AWE                             |   19 |  3.95 % |
|  4 | [wp-hackers] Adding a plugins svn committer  |   14 |  2.91 % |
|  5 | [wp-hackers] Bootstrapping WordPress         |   13 |  2.70 % |
|  6 | [wp-hackers] Blatant Copying of Plugin Code  |   12 |  2.49 % |
|  7 | [wp-hackers] some problem with understanding |   12 |  2.49 % |
|  8 | [wp-hackers] Configuring WordPress Environme |   11 |  2.29 % |
|  9 | [wp-hackers] And "The Last Word" trophy goes |   11 |  2.29 % |
| 10 | [wp-hackers] Page Redirect from Shortcode    |    9 |  1.87 % |
| 11 | [wp-hackers] Custom Post Type Archives       |    8 |  1.66 % |
| 12 | [wp-hackers] 2 domains, 2 sites, 1 WP instal |    8 |  1.66 % |
| 13 | [wp-hackers] Image Management Enhancements i |    7 |  1.46 % |
| 14 | [wp-hackers] Better approach for post format |    7 |  1.46 % |
| 15 | [wp-hackers] Password Generation             |    6 |  1.25 % |
| 16 | [wp-hackers] Lowest Capabilities possible in |    6 |  1.25 % |
| 17 | [wp-hackers] Custom Post Types in the WordPr |    6 |  1.25 % |
| 18 | [wp-hackers] Turn off mobile comments        |    6 |  1.25 % |
| 19 | [wp-hackers] HTML in the visual editor       |    6 |  1.25 % |
| 20 | [wp-hackers] Content Migration from MT to WP |    5 |  1.04 % |
| 21 | [wp-hackers] Is this a bug? - is_archive()   |    5 |  1.04 % |
| 22 | [wp-hackers] 404 for nested page and custom  |    5 |  1.04 % |
| 23 | [wp-hackers] map file path to url in PHP/Wor |    5 |  1.04 % |
| 24 | [wp-hackers] Enhancements to Settings API    |    5 |  1.04 % |
| 25 | [wp-hackers] Question on multisite blogs     |    5 |  1.04 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  130 | 27.03 % |
+----+----------------------------------------------+------+---------+

***** Most used email clients:
+----+----Mailer------------------------------------+--Msg-+-Percent-+
|  1 | Google Mail/Other                            |  299 | 62.16 % |
|  2 | Mozilla/5.x                                  |   69 | 14.35 % |
|  3 | Apple Mail (2.1251.1)                        |   32 |  6.65 % |
|  4 | Apple Mail (2.1084)                          |   17 |  3.53 % |
|  5 | Apple Mail (2.1244.3)                        |   14 |  2.91 % |
|  6 | Microsoft Outlook Express 6.x                |   10 |  2.08 % |
|  7 | iPhone Mail (9A334)                          |    6 |  1.25 % |
|  8 | Apple Mail (2.1250.3)                        |    5 |  1.04 % |
|  9 | Microsoft Outlook 14.0                       |    4 |  0.83 % |
| 10 | G2/1.0                                       |    4 |  0.83 % |
| 11 | Gnus/5.13 (Gnus v5.13) Emacs/23.2 (gnu/linux |    3 |  0.62 % |
| 12 | iPad Mail (9A334)                            |    3 |  0.62 % |
| 13 | Zimbra 7.1.3_GA_3346 (MobileSync - Apple-iPa |    2 |  0.42 % |
| 14 | iPhone Mail (7E18)                           |    2 |  0.42 % |
| 15 | Industrious bit-pushing elves                |    2 |  0.42 % |
| 16 | Apple Mail (2.753.1)                         |    1 |  0.21 % |
| 17 | iPhone Mail (8H7)                            |    1 |  0.21 % |
| 18 | Roundcube Webmail/0.5.4                      |    1 |  0.21 % |
| 19 | Lotus Notes Release 7.0                      |    1 |  0.21 % |
| 20 | Evolution 2.32.2                             |    1 |  0.21 % |
| 21 | Zimbra 7.1.3_GA_3346 (MobileSync - Apple-iPh |    1 |  0.21 % |
| 22 | Microsoft Office Outlook 12.0                |    1 |  0.21 % |
| 23 | iPhone Mail (8C148)                          |    1 |  0.21 % |
| 24 | Zimbra 7.1.3_GA_3374 (MobileSync - Apple-iPa |    1 |  0.21 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |    0 |  0.00 % |
+----+----------------------------------------------+------+---------+

***** Table of maximal quoting:
+----+-----Author------------------------------------------+-Percent-+
|  1 | bristond gmail.com                                  | 97.78 % |
|  2 | jess funroe.net                                     | 94.62 % |
|  3 | urban.haden gmail.com                               | 90.26 % |
|  4 | pbaylies gmail.com                                  | 89.35 % |
|  5 | mickey infamia.com                                  | 88.07 % |
|  6 | fonglh gmail.com                                    | 85.79 % |
|  7 | mjsafoxy gmail.com                                  | 84.54 % |
|  8 | rafaehlers gmail.com                                | 83.92 % |
|  9 | jnolte getmoxied.net                                | 80.85 % |
| 10 | ehitter gmail.com                                   | 79.24 % |
| 11 | kevin p51labs.com                                   | 75.41 % |
| 12 | jonathan grow-creative.com                          | 75.03 % |
| 13 | bill.erickson gmail.com                             | 73.95 % |
| 14 | bhalla.kunal gmail.com                              | 73.29 % |
| 15 | mkolaski gmail.com                                  | 71.64 % |
| 16 | charles.freesmelvin me.com                          | 71.52 % |
| 17 | nicky tumbledesign.com                              | 71.03 % |
| 18 | banago gmail.com                                    | 70.93 % |
| 19 | dan dansmart.co.uk                                  | 70.58 % |
| 20 | jwriteclub gmail.com                                | 70.05 % |
| 21 | aero.maxx.d gmail.com                               | 70.04 % |
| 22 | ekrebs gmail.com                                    | 67.80 % |
| 23 | kkarpieszuk gmail.com                               | 67.50 % |
| 24 | paul codehooligans.com                              | 66.68 % |
| 25 | lee designchemical.com                              | 65.98 % |
+----+-----------------------------------------------------+---------+
|    | average                                             | 42.87 % |
+----+-----------------------------------------------------+---------+

***** Graph showing number of messages written during hours of day:

100% -----------------------#------------------------- - 41
 90% -----------------------#---#--------------------- msgs
 80% -------------------#-#-#---#-----#-#-#-----------
 70% -------------------#-#-#---#-----#-#-#-----------
 60% -------------------#-#-#---#-----#-#-#-----------
 50% -------------------#-#-#-#-#---#-#-#-#-#---#-#---
 40% -------------------#-#-#-#-#-#-#-#-#-#-#-#-#-#---
 30% -----------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 20% ---#-----------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 10% -#-#-#-------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * *
hour  0         5           11          17          23


***** Graph showing number of messages written during days of month:

100% -------------------------------------------------------#------- - 85
 90% -------------------------------------------------------#------- msgs
 80% -------------------------------------------------------#-------
 70% -------------------------------------------------------#-----#-
 60% -------------------------------------------------------#-----#-
 50% -------------------------------------------------------#-----#-
 40% -------------------------------------------------------#---#-#-
 30% -----#---------------------------#---------------------#---#-#-
 20% -----#-#---#-------------#-------#-#-------------------#---#-#-
 10% ---#-#-#-#-#-------------#-------#-#-#---#-#-#-#-------#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 day  1         6           12          18          24            31


***** Graph showing number of messages written during days of week:

100% -#--------------------------- - 136
 90% -#--------------------------- msgs
 80% -#---------------#-----------
 70% -#---------------#-----------
 60% -#---------------#-----------
 50% -#---------------#-------#---
 40% -#---#-------#---#-------#---
 30% -#---#-------#---#-------#---
 20% -#---#-------#---#---#---#---
 10% -#---#---#---#---#---#---#---
      *   *   *   *   *   *   *
     Mon Tue Wed Thu Fri Sat Sun


***** Maximal quoting:
      Author     : mickey infamia.com
      Subject    : [wp-hackers] Moving from dev to live, and relative vs
absolute
      Date       : Sat, 29 Oct 2011 17:45:01 -0400
      Quote ratio: 97.97% / 17607 bytes

***** Longest message:
      Author     : bristond gmail.com
      Subject    : [wp-hackers] Which editor do you use?
      Date       : Mon, 17 Oct 2011 17:16:33 -0500
      Size       : 17660 bytes

***** Most successful subject:
      Subject    : [wp-hackers] Two new,
      No. of msgs: 120
      Total size : 392535 bytes

***** Final summary:
      Total number of messages:             481
      Total number of different authors:    117
      Total number of different subjects:   81
      Total size of messages (w/o headers): 1073726 bytes
      Average size of a message:            2232 bytes

***** Generated by MailListStat v1.3, (C) 2001-2003 <marki (at) nexin.sk>
***** See http://freshmeat.net/projects/mls for details...

DISCLAIMER: Stats automatically produced. Remember that stats are often
meaningless and deceiving.

From photofantaisie at gmail.com  Tue Nov  1 10:04:54 2011
From: photofantaisie at gmail.com (Ade Walker)
Date: Tue, 1 Nov 2011 11:04:54 +0100
Subject: [wp-hackers] Theme options in db: automatic deletion?
Message-ID: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>

Just a question to gauge views on this subject.

Well-written plugins will use the deactivation hook or the uninstall.php
method to remove their options from the wp_options table when the plugin is
deleted. Themes, however, tend not to do this (well, I've personally not
yet used one that does). So here's my question: in terms of best practice,
shouldn't themes automatically remove their db options when deleted via
Appearance>Themes panel? Just to be clear - I'm not talking
about deleting options on deactivation of the theme, only on theme deletion.

From photofantaisie at gmail.com  Tue Nov  1 10:14:15 2011
From: photofantaisie at gmail.com (Ade Walker)
Date: Tue, 1 Nov 2011 11:14:15 +0100
Subject: [wp-hackers] CPT meta box error messages
In-Reply-To: <CAJxFMSChLPoUFRUrwwkrkaHTOpB+2neytYk7wsaL+qmn3u92Cw@mail.gmail.com>
References: <FC161F54-8421-47B9-B7C1-7DF208FB40CE@gmail.com>
	<CAJxFMSChLPoUFRUrwwkrkaHTOpB+2neytYk7wsaL+qmn3u92Cw@mail.gmail.com>
Message-ID: <CALS5SweOgmjHG2L1gZneZgkut8VknKmp9LdmVe-_GPPgOTNiVA@mail.gmail.com>

2011/10/10 Simon Blackbourn <piemanek at gmail.com>

> If I understand correctly what you are after, you can use the
> post_updated_messages filter, so after the post is saved you replace the
> usual "Post updated. View post" message with your own custom one:
>

+1 for this method.

From icwordpress at gmail.com  Tue Nov  1 10:43:46 2011
From: icwordpress at gmail.com (IC IC)
Date: Tue, 1 Nov 2011 03:43:46 -0700
Subject: [wp-hackers] execPHP question
Message-ID: <CABybncimm9yTbkjebG4EwL-Aoq99GyStvctNyWCjVvvT-7cV-w@mail.gmail.com>

I got the execPHP plug in installed. no problems with it as far as
executing the php code thru the editor... for example, I tried the
following the PHP snippet within the WYSIWYG editor and it works...

[?php echo get_post_meta(1717, 'Ref', true); ?]

it outputs the value stored within the custom field titled REF. And the
1717 happens to be the current post id of the post I was editing.

but, whenever I tried to access post related data ( usually available in
the wordpress loop ), nothing gets outputted. for example, the following
produces nothing...

[?php echo ("postid=" . $post->ID ); ?]

Within the WYSIWYG editor, even the the_ID() outputs nothing. I thought, we
were still in the wordpress loop and I could tap into any post related data
at the moment.

my goal was to replace the [?php echo get_post_meta(1717, 'Ref',
true); ?]with [?php
echo get_post_meta($post->ID, 'Ref', true); ?]

What am I doing wrong?

From andycharrington at gmail.com  Tue Nov  1 10:45:20 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Tue, 1 Nov 2011 10:45:20 +0000
Subject: [wp-hackers] execPHP question
In-Reply-To: <CABybncimm9yTbkjebG4EwL-Aoq99GyStvctNyWCjVvvT-7cV-w@mail.gmail.com>
References: <CABybncimm9yTbkjebG4EwL-Aoq99GyStvctNyWCjVvvT-7cV-w@mail.gmail.com>
Message-ID: <5A54725D-5E14-4206-9DC2-6BB51B7D435A@gmail.com>

Have you added the global $post?

You'll need that to access the post object.

:-)

On 1 Nov 2011, at 10:43, IC IC wrote:

> I got the execPHP plug in installed. no problems with it as far as
> executing the php code thru the editor... for example, I tried the
> following the PHP snippet within the WYSIWYG editor and it works...
> 
> [?php echo get_post_meta(1717, 'Ref', true); ?]
> 
> it outputs the value stored within the custom field titled REF. And the
> 1717 happens to be the current post id of the post I was editing.
> 
> but, whenever I tried to access post related data ( usually available in
> the wordpress loop ), nothing gets outputted. for example, the following
> produces nothing...
> 
> [?php echo ("postid=" . $post->ID ); ?]
> 
> Within the WYSIWYG editor, even the the_ID() outputs nothing. I thought, we
> were still in the wordpress loop and I could tap into any post related data
> at the moment.
> 
> my goal was to replace the [?php echo get_post_meta(1717, 'Ref',
> true); ?]with [?php
> echo get_post_meta($post->ID, 'Ref', true); ?]
> 
> What am I doing wrong?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From otto at ottodestruct.com  Tue Nov  1 10:56:45 2011
From: otto at ottodestruct.com (Otto)
Date: Tue, 1 Nov 2011 05:56:45 -0500
Subject: [wp-hackers] Theme options in db: automatic deletion?
In-Reply-To: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
Message-ID: <CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>

On Tue, Nov 1, 2011 at 5:04 AM, Ade Walker <photofantaisie at gmail.com> wrote:
> Just a question to gauge views on this subject.
>
> Well-written plugins will use the deactivation hook or the uninstall.php
> method to remove their options from the wp_options table when the plugin is
> deleted. Themes, however, tend not to do this (well, I've personally not
> yet used one that does). So here's my question: in terms of best practice,
> shouldn't themes automatically remove their db options when deleted via
> Appearance>Themes panel? Just to be clear - I'm not talking
> about deleting options on deactivation of the theme, only on theme deletion.

Themes don't have activation and deactivation hooks.

-Otto

From ryannmicua at gmail.com  Tue Nov  1 10:58:37 2011
From: ryannmicua at gmail.com (Ryann Micua)
Date: Tue, 01 Nov 2011 18:58:37 +0800
Subject: [wp-hackers] Two new, long-overdue plugins to make your,
 wordpress life a little easier...
In-Reply-To: <mailman.7763.1320141896.1433.wp-hackers@lists.automattic.com>
References: <mailman.7763.1320141896.1433.wp-hackers@lists.automattic.com>
Message-ID: <4EAFD0DD.1030200@gmail.com>

Oh it is a lot of work - using root relative urls i mean. I totally 
understand. I don't expect it to be included either :)

Actually, now that I understand why Marcus created the plugin or this 
thread, the focus should now be about making a "DEV, STAGING, LIVE" 
setup work for wordpress in the same way that Marcus outlined. I think 
the process is sound and good for generating content/modifications in 
enterprise level projects and I'm pretty sure you've done something like 
this in the past.

On Tuesday, 01 November, 2011 06:04 PM, 
wp-hackers-request at lists.automattic.com wrote:
> I'm still sorting that out with him off-list, Ryann.:-)  I still say it's a lot of work outside of the WP workflow to expect inclusion in core, but that's just MHO.

-- 
*Ryann Micua*
/Web Developer/
------------------------------------------------------------------------

Website: /www.pogidude.com/
Skype: /rmicua/
Mobile: /+639169273059/


From icwordpress at gmail.com  Tue Nov  1 11:02:52 2011
From: icwordpress at gmail.com (IC IC)
Date: Tue, 1 Nov 2011 04:02:52 -0700
Subject: [wp-hackers] execPHP question
In-Reply-To: <5A54725D-5E14-4206-9DC2-6BB51B7D435A@gmail.com>
References: <CABybncimm9yTbkjebG4EwL-Aoq99GyStvctNyWCjVvvT-7cV-w@mail.gmail.com>
	<5A54725D-5E14-4206-9DC2-6BB51B7D435A@gmail.com>
Message-ID: <CABybncgu0o=09zstXc-6y1Vd=artkpE94kAq+U9dCr+kmwoa4w@mail.gmail.com>

I added it but results have not changed. right now, I have this... the
value does not get outputted! Echo outputs only what's in the " ".

<?php
 global $post;
?>

<?php the_post();?>
<hr>
<?php echo ("postid=" . $post->ID ); ?>
<hr>
<?php echo ("the id is=" . the_ID() ) ; ?>
<hr>
<?php echo ("gettheid:" . get_the_ID()); ?>
<hr>
<?php
$mypostid = get_the_ID();
echo ( "mypostid:" . $mypostid);
?>

<hr>

<?php
$this_page_id = $wp_query->post->ID;
echo "after wp_query .... " . $this_page_id ;
?>

the above code outputs this;

postid=
------------------------------
the id is=
------------------------------
gettheid:
------------------------------
mypostid:
------------------------------

after wp_query ?.


On Tue, Nov 1, 2011 at 3:45 AM, Andy Charrington-Wilden <
andycharrington at gmail.com> wrote:

> Have you added the global $post?
>
> You'll need that to access the post object.
>
> :-)
>
> On 1 Nov 2011, at 10:43, IC IC wrote:
>
> > I got the execPHP plug in installed. no problems with it as far as
> > executing the php code thru the editor... for example, I tried the
> > following the PHP snippet within the WYSIWYG editor and it works...
> >
> > [?php echo get_post_meta(1717, 'Ref', true); ?]
> >
> > it outputs the value stored within the custom field titled REF. And the
> > 1717 happens to be the current post id of the post I was editing.
> >
> > but, whenever I tried to access post related data ( usually available in
> > the wordpress loop ), nothing gets outputted. for example, the following
> > produces nothing...
> >
> > [?php echo ("postid=" . $post->ID ); ?]
> >
> > Within the WYSIWYG editor, even the the_ID() outputs nothing. I thought,
> we
> > were still in the wordpress loop and I could tap into any post related
> data
> > at the moment.
> >
> > my goal was to replace the [?php echo get_post_meta(1717, 'Ref',
> > true); ?]with [?php
> > echo get_post_meta($post->ID, 'Ref', true); ?]
> >
> > What am I doing wrong?
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jane at automattic.com  Tue Nov  1 11:08:55 2011
From: jane at automattic.com (Jane Wells)
Date: Tue, 01 Nov 2011 07:08:55 -0400
Subject: [wp-hackers] Two new,
 long-overdue plugins to make your wordpress life a little easier...
In-Reply-To: <BDCDB469E9C1B040A29DD08A1D8A896E5BFE5365@DC.epyllion.com>
References: <mailman.7742.1320124391.1433.wp-hackers@lists.automattic.com>
	<4EAF85A6.6070305@gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E5BFE5365@DC.epyllion.com>
Message-ID: <4EAFD347.7060803@automattic.com>

On 11/1/11 1:46 AM, Dagan Henderson wrote:
> I'm still sorting that out with him off-list, Ryann. :-) I still say it's a lot of work outside of the WP workflow to expect inclusion in core, but that's just MHO.
It's mine as well. The basic Preview in core is as much as most users 
need. Multiple layers or staging is a specific niche requirement, so is 
plugin territory. That said, we really need to get off our butts and get 
Preview for widgets going so that regular users aren't publishing those 
on blind faith and setting up sidebars/widget areas has the same level 
of Preview as page/post content.

A couple of people have mentioned how this thread went on too long. I 
know my inbox if filled with more emails from this thread than all other 
lists, including Trac comments, combined, and it's been a distraction to 
a number of core contributors over the last couple of days. If all the 
developers caught up in this thread chose to take a breather and help 
clear out the bugs in 3.3 for an hour or two instead, that would be a 
huge help, if anyone's interested. :)
Jane


From andycharrington at gmail.com  Tue Nov  1 11:27:53 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Tue, 1 Nov 2011 11:27:53 +0000
Subject: [wp-hackers] execPHP question
In-Reply-To: <CABybncgu0o=09zstXc-6y1Vd=artkpE94kAq+U9dCr+kmwoa4w@mail.gmail.com>
References: <CABybncimm9yTbkjebG4EwL-Aoq99GyStvctNyWCjVvvT-7cV-w@mail.gmail.com>
	<5A54725D-5E14-4206-9DC2-6BB51B7D435A@gmail.com>
	<CABybncgu0o=09zstXc-6y1Vd=artkpE94kAq+U9dCr+kmwoa4w@mail.gmail.com>
Message-ID: <5CF34028-4A59-4A11-8981-959446C93DF0@gmail.com>

What is in $post if you print_r() it?


On 1 Nov 2011, at 11:02, IC IC wrote:

> I added it but results have not changed. right now, I have this... the
> value does not get outputted! Echo outputs only what's in the " ".
> 
> <?php
> global $post;
> ?>
> 
> <?php the_post();?>
> <hr>
> <?php echo ("postid=" . $post->ID ); ?>
> <hr>
> <?php echo ("the id is=" . the_ID() ) ; ?>
> <hr>
> <?php echo ("gettheid:" . get_the_ID()); ?>
> <hr>
> <?php
> $mypostid = get_the_ID();
> echo ( "mypostid:" . $mypostid);
> ?>
> 
> <hr>
> 
> <?php
> $this_page_id = $wp_query->post->ID;
> echo "after wp_query .... " . $this_page_id ;
> ?>
> 
> the above code outputs this;
> 
> postid=
> ------------------------------
> the id is=
> ------------------------------
> gettheid:
> ------------------------------
> mypostid:
> ------------------------------
> 
> after wp_query ?.
> 
> 
> On Tue, Nov 1, 2011 at 3:45 AM, Andy Charrington-Wilden <
> andycharrington at gmail.com> wrote:
> 
>> Have you added the global $post?
>> 
>> You'll need that to access the post object.
>> 
>> :-)
>> 
>> On 1 Nov 2011, at 10:43, IC IC wrote:
>> 
>>> I got the execPHP plug in installed. no problems with it as far as
>>> executing the php code thru the editor... for example, I tried the
>>> following the PHP snippet within the WYSIWYG editor and it works...
>>> 
>>> [?php echo get_post_meta(1717, 'Ref', true); ?]
>>> 
>>> it outputs the value stored within the custom field titled REF. And the
>>> 1717 happens to be the current post id of the post I was editing.
>>> 
>>> but, whenever I tried to access post related data ( usually available in
>>> the wordpress loop ), nothing gets outputted. for example, the following
>>> produces nothing...
>>> 
>>> [?php echo ("postid=" . $post->ID ); ?]
>>> 
>>> Within the WYSIWYG editor, even the the_ID() outputs nothing. I thought,
>> we
>>> were still in the wordpress loop and I could tap into any post related
>> data
>>> at the moment.
>>> 
>>> my goal was to replace the [?php echo get_post_meta(1717, 'Ref',
>>> true); ?]with [?php
>>> echo get_post_meta($post->ID, 'Ref', true); ?]
>>> 
>>> What am I doing wrong?
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From stas at nerd.ro  Tue Nov  1 12:04:27 2011
From: stas at nerd.ro (=?UTF-8?B?U3RhcyBTdciZY292?=)
Date: Tue, 01 Nov 2011 14:04:27 +0200
Subject: [wp-hackers] CPT meta box error messages
In-Reply-To: <FC161F54-8421-47B9-B7C1-7DF208FB40CE@gmail.com>
References: <FC161F54-8421-47B9-B7C1-7DF208FB40CE@gmail.com>
Message-ID: <4EAFE04B.6020707@nerd.ro>

Pe 10.10.2011 00:09, Andy Charrington-Wilden a scris:
> Hello
>
> I am trying to figure out how to display a validation error on the input (or lack of) from a meta box in a custom post type.
>
> Values from a meta box on my CPT are used to query an external API which sends back it's own error messages. The meta box values are being saved via the save_post action. Obviously I can't just echo out a message div there because of the redirect.
>
> I'm fine with the post being saved regardless of the meta inputs.
>
> I have looked in to the WP_error class but couldnt figure it out. I've also had a look at transients but that seems just as bad as storing an option as what if two users on the same site submit a post one after another? It's possible the second user will get the error of the first.
>
> Should I do a redirect with a "message" $_GET variable?? :-/
>
> Am I missing something glaringly obvious? There seems to be little support for custom error messages generated from a meta box value on a CPT.
>
> Thank you!
>
> Andy
>

This is probably unexpected, but you can simply generate an
`
<div id="message" class="updated fade"><p>ERROR</p></div>
`
What's unexpected, is the fact that WordPress (using js) will place that 
element where it should be in case of notification/error in the editor 
screen. And yes, that element can be inside a metabox.

Another suggestion would be to use nonces as temporary notification 
storage as a replacement for all the hooks listed above (and definitely 
for GET parameters), and delete those next time you hit update button.
Why?!
Because working with an API is not like working with WordPress, you can 
have delays and timeouts! Some notifications might want to be saved 
until an editor/user reviews the error manually. Nonces should help you 
save time while working with slow APIs and use the new CPT outside the 
editor (programmatically, hook your API integration together with 
`save_post`) without caring if an error occurs (nonces will take care of 
those and will show it next time an editor checks the new posted object).

An example of a (slow) API integration using nonces how I explained 
above, can be found here:
https://github.com/stas/eventbrite/blob/master/includes/eventbrite.class.php#L432

Sorry for the long post, I know this might look like an overkill, but 
believe me *it's worth it* and I hope it will help somebody!

From steve at sltaylor.co.uk  Tue Nov  1 12:10:25 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Tue, 1 Nov 2011 14:10:25 +0200
Subject: [wp-hackers] using wp_editor
Message-ID: <CAGEuVU2nv4SjsN+qDb9XYNSvTZmk=5c+xwr-f0jzRqsdavb9Pw@mail.gmail.com>

Hi folks,

Apologies if this has been covered already, but I unsubscribed while
travelling, and I've just found my plugin
(http://wordpress.org/extend/plugins/developers-custom-fields/) is
breaking in the 3.3 beta release because of the new wp_editor way of
handling textareas.

Generally the new function looks great, but I'm finding it tricky to
get it working properly. Has anyone written a rough guide to using it?
I've not managed to piece it all together from the source and the trac
ticket. Obviously I'll just plug away if necessary, but I thought I'd
check to see if anyone's done an intro to the new way of doing it.

cheers,

Steve

From will.davis at gmail.com  Tue Nov  1 12:10:55 2011
From: will.davis at gmail.com (William P. Davis)
Date: Tue, 1 Nov 2011 12:10:55 +0000
Subject: [wp-hackers] Long Polling, Ajax and WordPress
In-Reply-To: <CAEi=p507eU1LWje_nZrkkTUU+NDqa-HHph8=LaC=+gjf7qnw6Q@mail.gmail.com>
References: <CAK3PZGu5rgAsujaBVxQnSCW0NT10B+FTs9e6JHg-T2WoyFPteA@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E5BFE5355@DC.epyllion.com>
	<CAEi=p507eU1LWje_nZrkkTUU+NDqa-HHph8=LaC=+gjf7qnw6Q@mail.gmail.com>
Message-ID: <1215860869-1320149433-cardhu_decombobulator_blackberry.rim.net-1584083800-@b25.c20.bise6.blackberry>

There are large sites, such as NY Times, that as far as I know use long polling, so it can be sustainable on large sites. I might consider using varnish to cache the result and then dumping the varnish cache when there are updates, though depending on the amount of data you are working with this may or may not be feasible. 

Will
Sent from my BlackBerry? wireless device

-----Original Message-----
From: Eric Mann <eric at eam.me>
Sender: wp-hackers-bounces at lists.automattic.com
Date: Mon, 31 Oct 2011 07:35:29 
To: <wp-hackers at lists.automattic.com>
Reply-To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Long Polling, Ajax and WordPress

Alex,

If you're using a typical WordPress installation (i.e. shared host or no
access to the server environment), long polling is probably the best you
can accomplish.  Read up on the thread we we covered last month regarding a
similar situation - I wanted to use WebSockets to stream WP data to the
front end (
http://lists.automattic.com/pipermail/wp-hackers/2011-September/040806.html)

The system I'm working on now, and hope to demo in a couple of weeks, is
still built on WordPress, but uses some additional technologies to make
websockets possible.  Firstly, I switched my server environment from Apache
to Nginx so I could more effectively handle events without blocking the
current request thread.  I'm also building a custom Node.js application to
sit alongside my WordPress installation and serve up data.  This way,
websocket requests will be handled by the separate Node application, which
will be tied in to post publication/update hooks on the server end.

On Mon, Oct 31, 2011 at 7:28 AM, Dagan Henderson <
Dagan.Henderson at epyllion.com> wrote:

> Alex, if you want efficiency, you'll really need to be able to control the
> server environment. Is this a possibility?
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:
> wp-hackers-bounces at lists.automattic.com] On Behalf Of Alex Hempton-Smith
> Sent: Monday, October 31, 2011 7:23 AM
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Long Polling, Ajax and WordPress
>
> Hi all,
>
> The project I'm working on requires an 'activity stream' of WordPress
> posts to be updated live, via Ajax.
>
> I've read a lot about long polling, Comet etc. but I've found it hard to
> replicate. The code I'm using now essentially polls WordPress every 10
> seconds to check if there are new posts, and then appends them to the top
> of a list. This can't be very efficient, as most of the time the response
> from the server will be null.
>
> How have people achieved long-polling, or any other more efficient method
> to create live streams with WP?
>
> For reference, I have posted the code I'm using below. It's pretty simple
> (but any improvements to what I have are welcomed!)
>
> Cheers,
> Alex
>
>
> ==== Frontend Markup ====
>
> <ul class="activity-stream">
> <li data-timestamp="1320069292">Some post</li> <li
> data-timestamp="1320051123">Another post</li> </ul>
>
> ==== Javascript ====
>
> var startPolling = function() {
>
> var timestamp = jQuery('.activity-stream
> li:first-child').attr('data-timestamp');
>  var data = {
> action: 'my_ajax_update_activity_stream',
> latest_timestamp: timestamp
>  };
>  jQuery.post(
>  ajaxurl,
> data,
> function(response) {
>  jQuery('.activity-stream').prepend(response);
> setTimeout('startPolling()', 10000);
>  });
>
> };
>
> jQuery(document).ready(function(){
> startPolling();
> });
>
> ==== functions.php ====
>
>
> function filter_where( $where = '', $timestamp ) {
>
> // Check for posts after the latest timestamp  $where .= " AND post_date >
> '" . date('Y-m-d H:i:s', $timestamp) . "'"; return $where;
>
> }
>
> function my_ajax_update_activity_stream() {
>
> add_filter('posts_where', function($where) { return filter_where($where,
> $_POST['latest_timestamp']); });
>
> query_posts( 'post_type=myposttype&posts_per_page=-1' ); if ( have_posts()
> ):
>  while (have_posts()) : the_post();
> ?>
> <li data-timestamp="<?php echo get_the_time('U') ?>"><?php the_content();
> ?></li> <?php  endwhile; endif;
>
> remove_filter( 'posts_where', 'filter_where' );
>
> exit();
>
> }
> add_action('wp_ajax_my_ajax_update_activity_stream',
> 'my_ajax_update_activity_stream');
>
>
> ==== Ends ====
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From halukkaramete at gmail.com  Tue Nov  1 12:18:44 2011
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Tue, 1 Nov 2011 05:18:44 -0700
Subject: [wp-hackers] to use or not to use a custom taxonomy
In-Reply-To: <3F4E489E-338E-463A-9590-EA44BA37A61A@newclarity.net>
References: <CAHERW=2zmq+MfrrfmABsPSd_k5PkjiU0QGGnBA-J22wbfWbqkQ@mail.gmail.com>
	<7E7FEF44-2B0A-40F6-B3BE-D1DC1869E235@newclarity.net>
	<CAHERW=3jmiONTd6KRfaHkaVJ6jonnPGrLGh3t9uhi1qeXWnNEQ@mail.gmail.com>
	<3F4E489E-338E-463A-9590-EA44BA37A61A@newclarity.net>
Message-ID: <CAHERW=3DyC-QH0yCT1Ecrdu0ZA+jocgZpVXXgU2_kjmZDS0sZA@mail.gmail.com>

So the recommendation is for every different categorization system, we
are better off using a custom taxonomy - except the main one ( most
probably the topics based on ) which should be best handled  with the
out of the box category taxonomy.

In other words, for a site planning to have various facets ( or browse
by options ) into the content, such as

browse site by Media
browse site by Audience Level
browse site by People
browse site by Places etc...

each browse by section shoukd be handled as a  custom taxonomy - and
preferably a hierarchical way.



I'm sorry but I still don't get the advantage of using CT's here as
far as usability...  I wish I could see this clearly. Cause seeing it
helps tremendously in the application phase.

As far as I see ( don't see :( ) , I can go either way and it won't
make a difference...
for example, it appears to me that if I add media, audience, people,
places as top level cats just like the topics, it's so much easier to
develop and run queries.
Perhaps, if I see the main advantage in using hierarchical CTs, I
would not be puzzled this much.

I see the difference between out of the box tags and those that are
under a non-hierarchical custom taxonomy. With that I see that I have
the advantage of qualifying the tags and bringing a perspective to the
matter. For example, as has been pointed out in this article (
http://www.ideaeng.com/taxonomies-ontologies-0602 ), I can take the
tag "GOLF" for instance, and bring a perspective as to in what context
I refer to the GOLF tag for the article at hand.

it could be tagged under ?Human Activities" taxonomy     (  if the
article deals with golf as a Leisure activitiy as a sports.
it could be tagged under ?Apparel" taxonomy     (  if the article
deals with golf as a Casual/Active Apparel -> Sporting Apparel -> Golf
Clothing and Accessories.
it could be tagged under ?Consumer Electronics Taxonomy" taxonomy
(  if the article deals with golf as an Electronics -> Handheld
Gadgets -> Outdoor & Navigational -> Gadgets for Golfers.

If I were to not use CTs here and go with the built in tag taxonomy, I
would end up mixing all these 3 articles from one perspective; that is
 they all talk about GOLF. But, it would not be much user friendly.
It's like clicking on a tagged titled "apple" and getting articles
about fruits and computers... So I do see the power of
non-hierarchical CTs because I have no other way of achieving this
kind of abstraction but using CTs.

However, in the case of hierarchical taxonomies, I can easily get away
with not creating them and working with 2 additional category terms as
follows and I would still be fine.

Human Activities  ( top level category term  as opposed to a hierarchal CT)
--Leisure activitiy
----sports
------golf
Apparel  ( another top level category term as opposed to a hierarchal CT)
--Casual/Active Apparel
----Sporting Apparel
------Golf Clothing and Accessories.

Again the question, why create a hierarchical CT ever?


On your point on, adding a custom taxonomy does not slow the site
down..  well, I was referring to querying part...

it appears to me that there should be some performance differences in
the following two code snippets..

----------------------------------------------------
case 1
----------------------------------------------------
$myquery['tax_query'] = array(
	array(
		'taxonomy' => 'category',
		'terms' => array('sports'),
		'field' => 'slug',
	),
	array(
		'taxonomy' => 'media_taxonomy_here',
		'terms' => array('video'),
		'field' => 'slug',
	),
	array(
		'taxonomy' => 'audience_taxonomy_here',
		'terms' => array('beginner'),
		'field' => 'slug',
	)
);
query_posts($myquery);

----------------------------------------------------
and case 2 where I avoid additional CTs
----------------------------------------------------

$myquery['tax_query'] = array(
	array(
		'taxonomy' => 'category',
		'terms' => array('video','beginner','sports),
		'field' => 'slug',
	)
);
query_posts($myquery);


I appreciate all comments and leads to articles describing the perfect
use of hierarchical custom taxonomies.

Thank you...


On Mon, Oct 31, 2011 at 3:48 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> On Oct 31, 2011, at 10:16 AM, Haluk Karamete wrote:
>> when you display the cats, of course, you would not want to display it
>> as politics, sports, entertainment and then boom media (cat11)...
>> why? cause media is a whole different facet...
>
> Focus on what is most usable and don't worry about the JOINs. ? So create a custom taxonomy called "Media."
>
>> here what I'm trying to understand is.... as I create more and more
>> CT's, my JOINs will be slower and slower...
>
> You misunderstand. Creating another custom taxonomy does not add a JOIN, unless you are querying by both Category and by Media in which case you'll have more JOINs either way you do it, maybe even more if you use subcategories.
>
> Worry about performance when performance becomes a real problem. Most of the time WordPress won't cause you performance issues unless you start trying to "out-think" WordPress' already built in optimizations.
>
> From [1]: "We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil"
>
> Hope this helps.
>
> -Mike
> [1] http://en.wikipedia.org/wiki/Program_optimization#When_to_optimize:
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From hal at burgiss.net  Tue Nov  1 13:34:24 2011
From: hal at burgiss.net (Hal Burgiss)
Date: Tue, 1 Nov 2011 09:34:24 -0400
Subject: [wp-hackers] Long Polling, Ajax and WordPress
In-Reply-To: <CAK3PZGu5rgAsujaBVxQnSCW0NT10B+FTs9e6JHg-T2WoyFPteA@mail.gmail.com>
References: <CAK3PZGu5rgAsujaBVxQnSCW0NT10B+FTs9e6JHg-T2WoyFPteA@mail.gmail.com>
Message-ID: <CAEizahLLuKALVWHdoRjMMGorAcG=r0Mr-SYaL_A41AjzTv2GPA@mail.gmail.com>

On Mon, Oct 31, 2011 at 10:22 AM, Alex Hempton-Smith
<hempsworth at gmail.com>wrote:

> Hi all,
>
> The project I'm working on requires an 'activity stream' of WordPress posts
> to be updated live, via Ajax.
>
> I've read a lot about long polling, Comet etc. but I've found it hard to
> replicate. The code I'm using now essentially polls WordPress every 10
> seconds to check if there are new posts, and then appends them to the top
> of
> a list. This can't be very efficient, as most of the time the response from
> the server will be null.
>
> How have people achieved long-polling, or any other more efficient method
> to
> create live streams with WP?
>
>
A different take on this ... since it seems to me a heavy handed use of
resources if there is significant traffic, and the data could be cached
(although a very short lived cache), and that way you don't have
potentially many clients running the same query every few seconds. So,  I
would think about a shell script that builds the cache server side:

while :; do
   $mysql_build_cache
   sleep 10
done

-- 
Hal

From Dagan.Henderson at epyllion.com  Tue Nov  1 13:46:11 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Tue, 1 Nov 2011 06:46:11 -0700
Subject: [wp-hackers] Long Polling, Ajax and WordPress
In-Reply-To: <CAEizahLLuKALVWHdoRjMMGorAcG=r0Mr-SYaL_A41AjzTv2GPA@mail.gmail.com>
References: <CAK3PZGu5rgAsujaBVxQnSCW0NT10B+FTs9e6JHg-T2WoyFPteA@mail.gmail.com>
	<CAEizahLLuKALVWHdoRjMMGorAcG=r0Mr-SYaL_A41AjzTv2GPA@mail.gmail.com>
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E5BFE5366@DC.epyllion.com>

>A different take on this ... since it seems to me a heavy handed use of resources if there is significant traffic, and the data could be cached (although a very short lived cache), and that way you don't have potentially many clients running the same query every few seconds. So,  I would think about a shell script that builds the cache server side:

Rather than a long-running shell script (which violates some hosting provider TOS and requires SSH access), why not hook into 'edit_post,'  which is called for comments and post edits alike?

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Hal Burgiss
Sent: Tuesday, November 01, 2011 6:34 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Long Polling, Ajax and WordPress

On Mon, Oct 31, 2011 at 10:22 AM, Alex Hempton-Smith
<hempsworth at gmail.com>wrote:

> Hi all,
>
> The project I'm working on requires an 'activity stream' of WordPress 
> posts to be updated live, via Ajax.
>
> I've read a lot about long polling, Comet etc. but I've found it hard 
> to replicate. The code I'm using now essentially polls WordPress every 
> 10 seconds to check if there are new posts, and then appends them to 
> the top of a list. This can't be very efficient, as most of the time 
> the response from the server will be null.
>
> How have people achieved long-polling, or any other more efficient 
> method to create live streams with WP?
>
>
A different take on this ... since it seems to me a heavy handed use of resources if there is significant traffic, and the data could be cached (although a very short lived cache), and that way you don't have potentially many clients running the same query every few seconds. So,  I would think about a shell script that builds the cache server side:

while :; do
   $mysql_build_cache
   sleep 10
done

--
Hal
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From hal at burgiss.net  Tue Nov  1 14:30:11 2011
From: hal at burgiss.net (Hal Burgiss)
Date: Tue, 1 Nov 2011 10:30:11 -0400
Subject: [wp-hackers] Long Polling, Ajax and WordPress
In-Reply-To: <BDCDB469E9C1B040A29DD08A1D8A896E5BFE5366@DC.epyllion.com>
References: <CAK3PZGu5rgAsujaBVxQnSCW0NT10B+FTs9e6JHg-T2WoyFPteA@mail.gmail.com>
	<CAEizahLLuKALVWHdoRjMMGorAcG=r0Mr-SYaL_A41AjzTv2GPA@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E5BFE5366@DC.epyllion.com>
Message-ID: <CAEizahJ-k8hFGhYTpOq+0To9xzHycFLVZ6oAAqyHVfpYoQaStQ@mail.gmail.com>

On Tue, Nov 1, 2011 at 9:46 AM, Dagan Henderson <
Dagan.Henderson at epyllion.com> wrote:

> >A different take on this ... since it seems to me a heavy handed use of
> resources if there is significant traffic, and the data could be cached
> (although a very short lived cache), and that way you don't have
> potentially many clients running the same query every few seconds. So,  I
> would think about a shell script that builds the cache server side:
>
> Rather than a long-running shell script (which violates some hosting
> provider TOS and requires SSH access), why not hook into 'edit_post,'
>  which is called for comments and post edits alike?
>
>
Better, yes! That way cache is rebuilt only as needed.

-- 
Hal

From mikeschinkel at newclarity.net  Tue Nov  1 15:01:17 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 1 Nov 2011 11:01:17 -0400
Subject: [wp-hackers] to use or not to use a custom taxonomy
In-Reply-To: <CAHERW=3DyC-QH0yCT1Ecrdu0ZA+jocgZpVXXgU2_kjmZDS0sZA@mail.gmail.com>
References: <CAHERW=2zmq+MfrrfmABsPSd_k5PkjiU0QGGnBA-J22wbfWbqkQ@mail.gmail.com>
	<7E7FEF44-2B0A-40F6-B3BE-D1DC1869E235@newclarity.net>
	<CAHERW=3jmiONTd6KRfaHkaVJ6jonnPGrLGh3t9uhi1qeXWnNEQ@mail.gmail.com>
	<3F4E489E-338E-463A-9590-EA44BA37A61A@newclarity.net>
	<CAHERW=3DyC-QH0yCT1Ecrdu0ZA+jocgZpVXXgU2_kjmZDS0sZA@mail.gmail.com>
Message-ID: <D71451C2-F6C2-4C3C-8ED5-45ABC0F40D6D@newclarity.net>

On Nov 1, 2011, at 8:18 AM, Haluk Karamete wrote:
> I'm sorry but I still don't get the advantage of using CT's here as
> far as usability...  I wish I could see this clearly. Cause seeing it
> helps tremendously in the application phase.

One simple benefit is cleaner URLs:

	http://example.com/media/video/

vs:

	http://example.com/categories/media/video/

Another benefit is multiple taxonomy metaboxes in the post editor.

I can't think of the other reasons, but I know there are more (too little sleep last night); my experience tells me to always use a custom taxonomy whenever possible.

> Again the question, why create a hierarchical CT ever?

I have an example from my current project.  We have a "Person Role" taxonomy for a law firm with the following roles: 

-- Administration
-- Attorney
----- Partners
-------- Named Partners
----- Of Counsel
----- Associates
-- Paralegal

This allows us to get a list of all Attorneys, separately a list of Partners, those with "Of Counsel" or of Associates, but also a list of "Named Partners."  But I don't think usage approach matches your use-cases, am I wrong?

-Mike

From hempsworth at gmail.com  Tue Nov  1 15:10:47 2011
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Tue, 1 Nov 2011 15:10:47 +0000
Subject: [wp-hackers] Long Polling, Ajax and WordPress
In-Reply-To: <CAEizahJ-k8hFGhYTpOq+0To9xzHycFLVZ6oAAqyHVfpYoQaStQ@mail.gmail.com>
References: <CAK3PZGu5rgAsujaBVxQnSCW0NT10B+FTs9e6JHg-T2WoyFPteA@mail.gmail.com>
	<CAEizahLLuKALVWHdoRjMMGorAcG=r0Mr-SYaL_A41AjzTv2GPA@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E5BFE5366@DC.epyllion.com>
	<CAEizahJ-k8hFGhYTpOq+0To9xzHycFLVZ6oAAqyHVfpYoQaStQ@mail.gmail.com>
Message-ID: <-3870515653139436997@unknownmsgid>

Thanks all for your advice.

Id love to explore a static cache in the form of an XML file, updated
only when new items are added, but there may be issues.

I have two 'lists' that will need to have live updating enabled on.

The one is the simple DB results I posted before. This is basically
asking 'have any posts been added since I last checked', however wont
this be different for whoever is logged in at that time? (I have no
logged-out users). That is to say, user A may have seen the new post,
and the cache is purged/updated, but user B hasn't had 'their' list
updated yet...

The second 'list' might be a tad trickier. It's more like a Facebook
activity stream, which will aggregate different post types and
comments based on whether they have anything to do with the current
user.

Because this will be dynamic from one person to the next, how would I
go about caching this (or any part of the jigsaw?)

Maybe I'm missing something obvious, as I'm quiet inexperienced when
it comes to caching etc.

Many thanks for your help,
Alex

Sent from my iPhone

On 1 Nov 2011, at 14:30, Hal Burgiss <hal at burgiss.net> wrote:

> On Tue, Nov 1, 2011 at 9:46 AM, Dagan Henderson <
> Dagan.Henderson at epyllion.com> wrote:
>
>>> A different take on this ... since it seems to me a heavy handed use of
>> resources if there is significant traffic, and the data could be cached
>> (although a very short lived cache), and that way you don't have
>> potentially many clients running the same query every few seconds. So,  I
>> would think about a shell script that builds the cache server side:
>>
>> Rather than a long-running shell script (which violates some hosting
>> provider TOS and requires SSH access), why not hook into 'edit_post,'
>> which is called for comments and post edits alike?
>>
>>
> Better, yes! That way cache is rebuilt only as needed.
>
> --
> Hal
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Dagan.Henderson at epyllion.com  Tue Nov  1 15:22:18 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Tue, 1 Nov 2011 08:22:18 -0700
Subject: [wp-hackers] Long Polling, Ajax and WordPress
In-Reply-To: <-3870515653139436997@unknownmsgid>
References: <CAK3PZGu5rgAsujaBVxQnSCW0NT10B+FTs9e6JHg-T2WoyFPteA@mail.gmail.com>
	<CAEizahLLuKALVWHdoRjMMGorAcG=r0Mr-SYaL_A41AjzTv2GPA@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E5BFE5366@DC.epyllion.com>
	<CAEizahJ-k8hFGhYTpOq+0To9xzHycFLVZ6oAAqyHVfpYoQaStQ@mail.gmail.com>
	<-3870515653139436997@unknownmsgid>
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E5BFE5368@DC.epyllion.com>

>I have two 'lists' that will need to have live updating enabled on.

>The one is the simple DB results I posted before. This is basically asking 'have any posts been added since I last checked', however wont this be different for whoever is logged in at that time? (I have no logged-out users). That is to say, user A may have seen the new post, and the cache is purged/updated, but user B hasn't had 'their' list updated yet...

No problem. Include the published_gmt value for each post and process it with your JavaScript. Basically, every ten seconds or so your AJAX script will query the server for the XML file (or perhaps JSON response) and look for anything new. You could also store a modified time in the file (so that you can use WordPress's current_time() function instead of the server's time) and only serve the file/response if the file has indeed been modified. That should limit bandwidth usage.

>The second 'list' might be a tad trickier. It's more like a Facebook activity stream, which will aggregate different post types and comments based on whether they have anything to do with the current user.

>Because this will be dynamic from one person to the next, how would I go about caching this (or any part of the jigsaw?)

You could always process the flat file on the server side. That'll result in miniscule resource usage (assuming you don't do any crazy loops that get out of control) and still give you the same performance boost because you don't have to query the DB each time.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Alex Hempton-Smith
Sent: Tuesday, November 01, 2011 8:11 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Long Polling, Ajax and WordPress

Thanks all for your advice.

Id love to explore a static cache in the form of an XML file, updated only when new items are added, but there may be issues.

I have two 'lists' that will need to have live updating enabled on.

The one is the simple DB results I posted before. This is basically asking 'have any posts been added since I last checked', however wont this be different for whoever is logged in at that time? (I have no logged-out users). That is to say, user A may have seen the new post, and the cache is purged/updated, but user B hasn't had 'their' list updated yet...

The second 'list' might be a tad trickier. It's more like a Facebook activity stream, which will aggregate different post types and comments based on whether they have anything to do with the current user.

Because this will be dynamic from one person to the next, how would I go about caching this (or any part of the jigsaw?)

Maybe I'm missing something obvious, as I'm quiet inexperienced when it comes to caching etc.

Many thanks for your help,
Alex

Sent from my iPhone

On 1 Nov 2011, at 14:30, Hal Burgiss <hal at burgiss.net> wrote:

> On Tue, Nov 1, 2011 at 9:46 AM, Dagan Henderson < 
> Dagan.Henderson at epyllion.com> wrote:
>
>>> A different take on this ... since it seems to me a heavy handed use 
>>> of
>> resources if there is significant traffic, and the data could be 
>> cached (although a very short lived cache), and that way you don't 
>> have potentially many clients running the same query every few 
>> seconds. So,  I would think about a shell script that builds the cache server side:
>>
>> Rather than a long-running shell script (which violates some hosting 
>> provider TOS and requires SSH access), why not hook into 'edit_post,'
>> which is called for comments and post edits alike?
>>
>>
> Better, yes! That way cache is rebuilt only as needed.
>
> --
> Hal
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From Marcus.Pope at springbox.com  Tue Nov  1 15:24:25 2011
From: Marcus.Pope at springbox.com (Marcus Pope)
Date: Tue, 1 Nov 2011 11:24:25 -0400
Subject: [wp-hackers] Two new,
 long-overdue plugins to make your wordpress life a little easier...
In-Reply-To: <4EAFD347.7060803@automattic.com>
References: <mailman.7742.1320124391.1433.wp-hackers@lists.automattic.com>
	<4EAF85A6.6070305@gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E5BFE5365@DC.epyllion.com>
	<4EAFD347.7060803@automattic.com>
Message-ID: <4C9C70943A019D44B90BF87BB445B2DFDAE2FE32CB@RSWMAIL1.dgs.dgsystems.com>

Jane, I'm with you on taking a break from this thread.  I think Dagan and I have finally migrated over to the other group for discussion.  He and I have clarified some of these points over there too.  Though to be fair, this is a bit of a different question despite the subject being the same and other points being made.  I'm actually more supportive of changing the thread entirely at this point if people still have questions about how to do migration workflows just so the subject doesn't innately emote these frustrations in people (and ever more so emote the guilt I have for starting it.)  But then again, some have discovered outlook / gmail rules that filter this specific thread out of sight - so maybe changing the subject is a bad idea ???

I have been working on the 3.3 upgrade and will continue to do so with my spare time, but a 5 minute response to a question in an email while I'm waiting on a meeting is a lot easier than fixing a bug in 5 minutes so though the total time spent is greater than 5 minutes it's all about what I could have been doing in that 5 minutes otherwise, which isn't much else of greater complication.  Since the thread is the same, and you don't care to read it, I don't think deleting the emails wholesale could consume too much of your or core member's time.


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jane Wells
Sent: Tuesday, November 01, 2011 6:09 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Two new, long-overdue plugins to make your wordpress life a little easier...

On 11/1/11 1:46 AM, Dagan Henderson wrote:
> I'm still sorting that out with him off-list, Ryann. :-) I still say it's a lot of work outside of the WP workflow to expect inclusion in core, but that's just MHO.
It's mine as well. The basic Preview in core is as much as most users need. Multiple layers or staging is a specific niche requirement, so is plugin territory. That said, we really need to get off our butts and get Preview for widgets going so that regular users aren't publishing those on blind faith and setting up sidebars/widget areas has the same level of Preview as page/post content.

A couple of people have mentioned how this thread went on too long. I know my inbox if filled with more emails from this thread than all other lists, including Trac comments, combined, and it's been a distraction to a number of core contributors over the last couple of days. If all the developers caught up in this thread chose to take a breather and help clear out the bugs in 3.3 for an hour or two instead, that would be a huge help, if anyone's interested. :) Jane

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From gxxaxx at gmail.com  Tue Nov  1 16:03:55 2011
From: gxxaxx at gmail.com (Claude Needham)
Date: Tue, 1 Nov 2011 09:03:55 -0700
Subject: [wp-hackers] execPHP question
In-Reply-To: <CABybncgu0o=09zstXc-6y1Vd=artkpE94kAq+U9dCr+kmwoa4w@mail.gmail.com>
References: <CABybncimm9yTbkjebG4EwL-Aoq99GyStvctNyWCjVvvT-7cV-w@mail.gmail.com>
	<5A54725D-5E14-4206-9DC2-6BB51B7D435A@gmail.com>
	<CABybncgu0o=09zstXc-6y1Vd=artkpE94kAq+U9dCr+kmwoa4w@mail.gmail.com>
Message-ID: <CACOUsBXTChQEDFbqMvR3k+DL0GCFjQPB6NxgiNnBddSQK+oF0Q@mail.gmail.com>

The actually insert does not use <?php etc. does it?
If you are doing your insert something like:

[?php global $post; ?]

[?php echo ("postid=" . $post->ID ); ?]

I would experiment with the following insert:

[?php global $post; echo ("postid=" . $post->ID ); ?]


Claude

On Tue, Nov 1, 2011 at 4:02 AM, IC IC <icwordpress at gmail.com> wrote:
> I added it but results have not changed. right now, I have this... the
> value does not get outputted! Echo outputs only what's in the " ".
>
> <?php
> ?global $post;
> ?>
>
> <?php the_post();?>
> <hr>
> <?php echo ("postid=" . $post->ID ); ?>
> <hr>
> <?php echo ("the id is=" . the_ID() ) ; ?>
> <hr>
> <?php echo ("gettheid:" . get_the_ID()); ?>
> <hr>
> <?php
> $mypostid = get_the_ID();
> echo ( "mypostid:" . $mypostid);
> ?>
>
> <hr>
>
> <?php
> $this_page_id = $wp_query->post->ID;
> echo "after wp_query .... " . $this_page_id ;
> ?>
>
> the above code outputs this;
>
> postid=
> ------------------------------
> the id is=
> ------------------------------
> gettheid:
> ------------------------------
> mypostid:
> ------------------------------
>
> after wp_query ?.
>
>
> On Tue, Nov 1, 2011 at 3:45 AM, Andy Charrington-Wilden <
> andycharrington at gmail.com> wrote:
>
>> Have you added the global $post?
>>
>> You'll need that to access the post object.
>>
>> :-)
>>
>> On 1 Nov 2011, at 10:43, IC IC wrote:
>>
>> > I got the execPHP plug in installed. no problems with it as far as
>> > executing the php code thru the editor... for example, I tried the
>> > following the PHP snippet within the WYSIWYG editor and it works...
>> >
>> > [?php echo get_post_meta(1717, 'Ref', true); ?]
>> >
>> > it outputs the value stored within the custom field titled REF. And the
>> > 1717 happens to be the current post id of the post I was editing.
>> >
>> > but, whenever I tried to access post related data ( usually available in
>> > the wordpress loop ), nothing gets outputted. for example, the following
>> > produces nothing...
>> >
>> > [?php echo ("postid=" . $post->ID ); ?]
>> >
>> > Within the WYSIWYG editor, even the the_ID() outputs nothing. I thought,
>> we
>> > were still in the wordpress loop and I could tap into any post related
>> data
>> > at the moment.
>> >
>> > my goal was to replace the [?php echo get_post_meta(1717, 'Ref',
>> > true); ?]with [?php
>> > echo get_post_meta($post->ID, 'Ref', true); ?]
>> >
>> > What am I doing wrong?
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From photofantaisie at gmail.com  Tue Nov  1 16:07:07 2011
From: photofantaisie at gmail.com (Ade Walker)
Date: Tue, 1 Nov 2011 17:07:07 +0100
Subject: [wp-hackers] Theme options in db: automatic deletion?
In-Reply-To: <CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
Message-ID: <CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>

2011/11/1 Otto <otto at ottodestruct.com

> Themes don't have activation and deactivation hooks.


Yes, I know. My question is that perhaps they should, so that their options
are cleaned out on deletion.

From andycharrington at gmail.com  Tue Nov  1 16:18:22 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Tue, 1 Nov 2011 16:18:22 +0000
Subject: [wp-hackers] execPHP question
In-Reply-To: <CACOUsBXTChQEDFbqMvR3k+DL0GCFjQPB6NxgiNnBddSQK+oF0Q@mail.gmail.com>
References: <CABybncimm9yTbkjebG4EwL-Aoq99GyStvctNyWCjVvvT-7cV-w@mail.gmail.com>
	<5A54725D-5E14-4206-9DC2-6BB51B7D435A@gmail.com>
	<CABybncgu0o=09zstXc-6y1Vd=artkpE94kAq+U9dCr+kmwoa4w@mail.gmail.com>
	<CACOUsBXTChQEDFbqMvR3k+DL0GCFjQPB6NxgiNnBddSQK+oF0Q@mail.gmail.com>
Message-ID: <D73AF1E2-2290-44F6-955B-B807D184490E@gmail.com>

Good point yes. You'll need to wrap the global $post in the tags too.


On 1 Nov 2011, at 16:03, Claude Needham wrote:

> The actually insert does not use <?php etc. does it?
> If you are doing your insert something like:
> 
> [?php global $post; ?]
> 
> [?php echo ("postid=" . $post->ID ); ?]
> 
> I would experiment with the following insert:
> 
> [?php global $post; echo ("postid=" . $post->ID ); ?]
> 
> 
> Claude
> 
> On Tue, Nov 1, 2011 at 4:02 AM, IC IC <icwordpress at gmail.com> wrote:
>> I added it but results have not changed. right now, I have this... the
>> value does not get outputted! Echo outputs only what's in the " ".
>> 
>> <?php
>>  global $post;
>> ?>
>> 
>> <?php the_post();?>
>> <hr>
>> <?php echo ("postid=" . $post->ID ); ?>
>> <hr>
>> <?php echo ("the id is=" . the_ID() ) ; ?>
>> <hr>
>> <?php echo ("gettheid:" . get_the_ID()); ?>
>> <hr>
>> <?php
>> $mypostid = get_the_ID();
>> echo ( "mypostid:" . $mypostid);
>> ?>
>> 
>> <hr>
>> 
>> <?php
>> $this_page_id = $wp_query->post->ID;
>> echo "after wp_query .... " . $this_page_id ;
>> ?>
>> 
>> the above code outputs this;
>> 
>> postid=
>> ------------------------------
>> the id is=
>> ------------------------------
>> gettheid:
>> ------------------------------
>> mypostid:
>> ------------------------------
>> 
>> after wp_query ?.
>> 
>> 
>> On Tue, Nov 1, 2011 at 3:45 AM, Andy Charrington-Wilden <
>> andycharrington at gmail.com> wrote:
>> 
>>> Have you added the global $post?
>>> 
>>> You'll need that to access the post object.
>>> 
>>> :-)
>>> 
>>> On 1 Nov 2011, at 10:43, IC IC wrote:
>>> 
>>>> I got the execPHP plug in installed. no problems with it as far as
>>>> executing the php code thru the editor... for example, I tried the
>>>> following the PHP snippet within the WYSIWYG editor and it works...
>>>> 
>>>> [?php echo get_post_meta(1717, 'Ref', true); ?]
>>>> 
>>>> it outputs the value stored within the custom field titled REF. And the
>>>> 1717 happens to be the current post id of the post I was editing.
>>>> 
>>>> but, whenever I tried to access post related data ( usually available in
>>>> the wordpress loop ), nothing gets outputted. for example, the following
>>>> produces nothing...
>>>> 
>>>> [?php echo ("postid=" . $post->ID ); ?]
>>>> 
>>>> Within the WYSIWYG editor, even the the_ID() outputs nothing. I thought,
>>> we
>>>> were still in the wordpress loop and I could tap into any post related
>>> data
>>>> at the moment.
>>>> 
>>>> my goal was to replace the [?php echo get_post_meta(1717, 'Ref',
>>>> true); ?]with [?php
>>>> echo get_post_meta($post->ID, 'Ref', true); ?]
>>>> 
>>>> What am I doing wrong?
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ipstenu at ipstenu.org  Tue Nov  1 16:35:39 2011
From: ipstenu at ipstenu.org (Mika A Epstein)
Date: Tue, 1 Nov 2011 11:35:39 -0500
Subject: [wp-hackers] Theme options in db: automatic deletion?
In-Reply-To: <CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
Message-ID: <CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>

Maybe a option to delete the options, but forcing it would stink when you're debugging a theme and wanted to switch to, say, a child theme.

On Nov 1, 2011, at 11:07 AM, Ade Walker <photofantaisie at gmail.com> wrote:

> 2011/11/1 Otto <otto at ottodestruct.com
> 
>> Themes don't have activation and deactivation hooks.
> 
> 
> Yes, I know. My question is that perhaps they should, so that their options
> are cleaned out on deletion.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From eric at eam.me  Tue Nov  1 16:42:00 2011
From: eric at eam.me (Eric Mann)
Date: Tue, 1 Nov 2011 09:42:00 -0700
Subject: [wp-hackers] Theme options in db: automatic deletion?
In-Reply-To: <CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
Message-ID: <CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>

Deletion versus deactivation.

Deactivation shouldn't remove any options, settings, files, DB
customizations, etc.  I would also argue that *deletion* shouldn't, either.
 But if you absolutely have to place this kind of functionality in your
theme/plugin, hooking in to the "Delete" click in the WordPress UI would be
the safest.  Still inadvisable, but safest ...

On Tue, Nov 1, 2011 at 9:35 AM, Mika A Epstein <ipstenu at ipstenu.org> wrote:

> Maybe a option to delete the options, but forcing it would stink when
> you're debugging a theme and wanted to switch to, say, a child theme.
>
> On Nov 1, 2011, at 11:07 AM, Ade Walker <photofantaisie at gmail.com> wrote:
>
> > 2011/11/1 Otto <otto at ottodestruct.com
> >
> >> Themes don't have activation and deactivation hooks.
> >
> >
> > Yes, I know. My question is that perhaps they should, so that their
> options
> > are cleaned out on deletion.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Tue Nov  1 16:54:58 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 1 Nov 2011 12:54:58 -0400
Subject: [wp-hackers] Theme options in db: automatic deletion?
In-Reply-To: <CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
Message-ID: <085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>

On Nov 1, 2011, at 12:42 PM, Eric Mann wrote:
> Deletion versus deactivation.
> 
> Deactivation shouldn't remove any options, settings, files, DB
> customizations, etc.  I would also argue that *deletion* shouldn't, either.
> But if you absolutely have to place this kind of functionality in your
> theme/plugin, hooking in to the "Delete" click in the WordPress UI would be
> the safest.  Still inadvisable, but safest ...

The BEST approach IMO would be upon plugin/theme deletion to serialize everything to a zipped archive file (or to a single option in the wp_options table) and then delete everything else persisted by the plugin/theme.

Upon activation the plugin/theme could then look to see if there are any archived settings and, if so, import them if the admin approves.

-Mike

From chip at chipbennett.net  Tue Nov  1 16:59:53 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Tue, 1 Nov 2011 11:59:53 -0500
Subject: [wp-hackers] Theme options in db: automatic deletion?
In-Reply-To: <085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
Message-ID: <CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>

As a starting point, wouldn't it make sense for Plugins and Themes to
behave consistently?

That is: if/when Theme activation/deactivation hooks are implemented, they
should *start* by doing what Plugins do. If a Plugin deletes DB entries
on-delete (which is logical, IMHO; *deleting* an extension is not the same
thing, and shouldn't be used in the same context as or considered to be
interchangeable with, *deactivating* an extension), then so should a
Theme. Then, if the workflow and UI need to be improved, they can be
improved for both, simultaneously.

(Again IMHO) Introducing inconsistent UX for deleting Themes versus
deleting Plugins would be detrimental to users.

Chip

On Tue, Nov 1, 2011 at 11:54 AM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> On Nov 1, 2011, at 12:42 PM, Eric Mann wrote:
> > Deletion versus deactivation.
> >
> > Deactivation shouldn't remove any options, settings, files, DB
> > customizations, etc.  I would also argue that *deletion* shouldn't,
> either.
> > But if you absolutely have to place this kind of functionality in your
> > theme/plugin, hooking in to the "Delete" click in the WordPress UI would
> be
> > the safest.  Still inadvisable, but safest ...
>
> The BEST approach IMO would be upon plugin/theme deletion to serialize
> everything to a zipped archive file (or to a single option in the
> wp_options table) and then delete everything else persisted by the
> plugin/theme.
>
> Upon activation the plugin/theme could then look to see if there are any
> archived settings and, if so, import them if the admin approves.
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Tue Nov  1 17:03:15 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 1 Nov 2011 13:03:15 -0400
Subject: [wp-hackers] Theme options in db: automatic deletion?
In-Reply-To: <CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
Message-ID: <AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>

On Nov 1, 2011, at 12:59 PM, Chip Bennett wrote:
> (Again IMHO) Introducing inconsistent UX for deleting Themes versus
> deleting Plugins would be detrimental to users.

Was that directly in response to my comments, or did you just piggyback on my response to reply to the thread in general?

FWIW, I agree with consistency. What I was proposing I was thinking would be a good idea for all theme/plugins, but of course core would need to support it by recognizing hooks for plugin/theme data archiving...

-Mike



From chip at chipbennett.net  Tue Nov  1 17:27:29 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Tue, 1 Nov 2011 12:27:29 -0500
Subject: [wp-hackers] Theme options in db: automatic deletion?
In-Reply-To: <AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
Message-ID: <CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>

Sorry, that was a piggy-back, and was more in response to Eric's previous
email.

Chip

On Tue, Nov 1, 2011 at 12:03 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> On Nov 1, 2011, at 12:59 PM, Chip Bennett wrote:
> > (Again IMHO) Introducing inconsistent UX for deleting Themes versus
> > deleting Plugins would be detrimental to users.
>
> Was that directly in response to my comments, or did you just piggyback on
> my response to reply to the thread in general?
>
> FWIW, I agree with consistency. What I was proposing I was thinking would
> be a good idea for all theme/plugins, but of course core would need to
> support it by recognizing hooks for plugin/theme data archiving...
>
> -Mike
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From eric at eam.me  Tue Nov  1 17:41:24 2011
From: eric at eam.me (Eric Mann)
Date: Tue, 1 Nov 2011 10:41:24 -0700
Subject: [wp-hackers] Theme options in db: automatic deletion?
In-Reply-To: <CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
Message-ID: <CAEi=p53Dt33cQ7psBRXnKJ-R4LyroucFxMPM9=yp4Es3oy86yw@mail.gmail.com>

And sorry, I was trying to allude to a feature I think should be in core
(and think was on the slate at one point in time).

Right now, plugins have both activation and deactivation hooks, though they
aren't used well.  There was at one point a ticket open to add
activation/deactivation hooks for themes as well ... but I'm not sure what
progress was made there.

What I was referring to by the "Delete" links in the UI are the existing
delete links in core.  Both themes and plugins have Delete links on the
admin panels ... clicking those links can and should fire an appropriate
action hook for each.  That would not introduce any inconsistent UX for
deleting themes/plugins.

On Tue, Nov 1, 2011 at 10:27 AM, Chip Bennett <chip at chipbennett.net> wrote:

> Sorry, that was a piggy-back, and was more in response to Eric's previous
> email.
>
> Chip
>
> On Tue, Nov 1, 2011 at 12:03 PM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
>
> > On Nov 1, 2011, at 12:59 PM, Chip Bennett wrote:
> > > (Again IMHO) Introducing inconsistent UX for deleting Themes versus
> > > deleting Plugins would be detrimental to users.
> >
> > Was that directly in response to my comments, or did you just piggyback
> on
> > my response to reply to the thread in general?
> >
> > FWIW, I agree with consistency. What I was proposing I was thinking would
> > be a good idea for all theme/plugins, but of course core would need to
> > support it by recognizing hooks for plugin/theme data archiving...
> >
> > -Mike
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ryan.frankel at gmail.com  Tue Nov  1 17:41:25 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Tue, 1 Nov 2011 13:41:25 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
Message-ID: <6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>

I am not sure if this is the correct list for this but I have an idea that would be REALLY helpful to the review system for plugins (and probably themes too).  One of the things I have noticed is that while tons of people download and try plugins the feedback mechanism for coming back and putting a start-review is poor.  Most users, when the plugin works correctly, simply never come back to add their vote.  I was wondering if WP put a star system right on the 'Installed Plugins' page if more people would use it.  This would be similar to how the Apple review system works.  Another option would be if someone has had a plugin installed for X days they would get a reminder message to review or vote on the plugin.  

I just feel like some system to encourage and promote rating plugins directly from the back-end of WP would be a great deal of help to everyone.  I know this isn't something that would happen quickly but I am just throwing it out there to see if anyone else has thoughts on this.  

Ryan


From eric at eam.me  Tue Nov  1 17:48:14 2011
From: eric at eam.me (Eric Mann)
Date: Tue, 1 Nov 2011 10:48:14 -0700
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
Message-ID: <CAEi=p51RFRsLHFvAN7Hq-MHxC46iuw6J95g_torqvxyeOm864Q@mail.gmail.com>

I'm not 100% sure how welcome that would be.  From a user perspective,
having the star rating widget in my site would be one more thing adding to
clutter.  Having WordPress automatically remind me to vote after X days
would be equally distracting.

However ... with the new pointers feature in 3.3 it would be relatively
easy for plugin/theme authors to take this into their own hands and remind
users to vote.

On Tue, Nov 1, 2011 at 10:41 AM, Ryan Frankel <ryan.frankel at gmail.com>wrote:

> I am not sure if this is the correct list for this but I have an idea that
> would be REALLY helpful to the review system for plugins (and probably
> themes too).  One of the things I have noticed is that while tons of people
> download and try plugins the feedback mechanism for coming back and putting
> a start-review is poor.  Most users, when the plugin works correctly,
> simply never come back to add their vote.  I was wondering if WP put a star
> system right on the 'Installed Plugins' page if more people would use it.
>  This would be similar to how the Apple review system works.  Another
> option would be if someone has had a plugin installed for X days they would
> get a reminder message to review or vote on the plugin.
>
> I just feel like some system to encourage and promote rating plugins
> directly from the back-end of WP would be a great deal of help to everyone.
>  I know this isn't something that would happen quickly but I am just
> throwing it out there to see if anyone else has thoughts on this.
>
> Ryan
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mike.schroder at dreamhost.com  Tue Nov  1 17:51:12 2011
From: mike.schroder at dreamhost.com (Mike Schroder)
Date: Tue, 1 Nov 2011 10:51:12 -0700
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
Message-ID: <CAGcqhYVdKu=JKuxL4iY7HDV9H62RWU3rX9-W+U_z-oxP1LCG-A@mail.gmail.com>

I really like this idea in theory -- although I don't know enough
about the API to say how doable it is.

The only immediate issue I can think of is that all plugins don't
necessarily come from the WordPress plugin repo, so those you wouldn't
be able to directly rate.

I'm unsure about prompting for feedback (I find that annoying in
iPhone apps that do it) -- but having a star system for rating
directly in a row within the installed plugins page sounds awesome.


On Tue, Nov 1, 2011 at 10:41 AM, Ryan Frankel <ryan.frankel at gmail.com> wrote:
> I am not sure if this is the correct list for this but I have an idea that would be REALLY helpful to the review system for plugins (and probably themes too). ?One of the things I have noticed is that while tons of people download and try plugins the feedback mechanism for coming back and putting a start-review is poor. ?Most users, when the plugin works correctly, simply never come back to add their vote. ?I was wondering if WP put a star system right on the 'Installed Plugins' page if more people would use it. ?This would be similar to how the Apple review system works. ?Another option would be if someone has had a plugin installed for X days they would get a reminder message to review or vote on the plugin.
>
> I just feel like some system to encourage and promote rating plugins directly from the back-end of WP would be a great deal of help to everyone. ?I know this isn't something that would happen quickly but I am just throwing it out there to see if anyone else has thoughts on this.
>
> Ryan
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Mike Schroder
WordPress Specialist, Developer
mike.schroder at dreamhost.com

From Marcus.Pope at springbox.com  Tue Nov  1 17:49:40 2011
From: Marcus.Pope at springbox.com (Marcus Pope)
Date: Tue, 1 Nov 2011 13:49:40 -0400
Subject: [wp-hackers] How to make root relative urls work in, , subdomain
In-Reply-To: <4EAF69CA.8090904@gmail.com>
References: <mailman.7683.1320085931.1433.wp-hackers@lists.automattic.com>
	<4EAF69CA.8090904@gmail.com>
Message-ID: <2964C4F1-D2A2-4171-8EF0-40AEA737F832@springbox.com>

Hmm, unfortunately many things could be causing this. Are you using the .htaccess file recommended by wordpress?  You might want to start there and see if that works for you. 
http://codex.wordpress.org/Using_Permalinks#Creating_and_editing_.28.htaccess.29

You can also check out htaccess debuggers online that can parse your rules and show you errors, if any. There are also posts for debugging htaccess on your server but I've never had to use them before so I dont know how easy they are to work with. 

Email me your final htaccess file in a zip or tar and ill try it out on my dev box, i know mine are processing so it should eliminate the environment issue and then i should be able to ensure the correct formatting as even my write up was done hastily. 

Hope that helps!
- marcus

On Oct 31, 2011, at 10:39 PM, "Ryann Micua" <ryannmicua at gmail.com> wrote:

> Hi Marcus,
> 
> The rewrite doesn't seem to be working on my local server. But, if you 
> say that it's the right then I think it's something wrong with my lamp 
> setup I'll look into it. we came up with almost the same rules anyway =) 
> save for taking out the domain name and adding flags.
> 
>> Hey Ryann, unfortunately I got sucked into a 6 hour meeting in the next 10 minutes so I won't be able to write up a response as complete I would like.  But I can fill you in on more details tomorrow if you don't figure out an option from this response.
>> 
>> Basically you are 90% of the way there.  I'm not sure if the email thread removed the newline, but you'll want to put the RewriteRule on its own line underneath the RewriteCond statement.  You can also take outhttp://wp.dev  and just use/testproject/$1.  And additionally you will want to put [R=301,L]  which indicates that the redirect is a permanent move (301) and to stop processing anymore rules L == Last Rule.
>> 
>> Otherwise the rest looks good.  If the above suggestions don't work out let me know and I'll spend a little more time looking at it.  Here's a formatted version for you to view..
>> 
>> RewriteEngine on
>> 
>> #be sure to include the wordpress .htaccess rules here
>> 
>> #and put this at the bottom of your file
>> RewriteCond %{REQUEST_URI} !^/testproject/
>> RewriteRule ^wp\.dev/(.*)/testproject/$1 [R=301,L]
>> 
>> #end of file
> 
> 
> -- 
> *Ryann Micua*
> /Web Developer/
> ------------------------------------------------------------------------
> 
> Website: /www.pogidude.com/
> Skype: /rmicua/
> Mobile: /+639169273059/
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From paul at codehooligans.com  Tue Nov  1 17:56:40 2011
From: paul at codehooligans.com (Paul Menard)
Date: Tue, 1 Nov 2011 13:56:40 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <CAGcqhYVdKu=JKuxL4iY7HDV9H62RWU3rX9-W+U_z-oxP1LCG-A@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<CAGcqhYVdKu=JKuxL4iY7HDV9H62RWU3rX9-W+U_z-oxP1LCG-A@mail.gmail.com>
Message-ID: <D55C36FE-81E6-4EE9-B1FD-BE28DDB1F946@codehooligans.com>

+1 for this in theory. 

I like the idea of having rating option say on the plugin listing row. But then again if I manage half a dozen sites I don't want to be bothered to rate a plugin on each site. You can see how this would exponentially cause issue as well as possibly false ratings. 

the one good thing I like about it is potentially when the user rates the plugin then the 'hook' would know what version of WordPress they are running. Many times I get comments about my plugin not working on some latest WP version. Only after contacting the reporting user do I find out they did select the correct WP version when providing the rating. 

P-



On Nov 1, 2011, at 1:51 PM, Mike Schroder wrote:

> I really like this idea in theory -- although I don't know enough
> about the API to say how doable it is.
> 
> The only immediate issue I can think of is that all plugins don't
> necessarily come from the WordPress plugin repo, so those you wouldn't
> be able to directly rate.
> 
> I'm unsure about prompting for feedback (I find that annoying in
> iPhone apps that do it) -- but having a star system for rating
> directly in a row within the installed plugins page sounds awesome.
> 
> 
> On Tue, Nov 1, 2011 at 10:41 AM, Ryan Frankel <ryan.frankel at gmail.com> wrote:
>> I am not sure if this is the correct list for this but I have an idea that would be REALLY helpful to the review system for plugins (and probably themes too).  One of the things I have noticed is that while tons of people download and try plugins the feedback mechanism for coming back and putting a start-review is poor.  Most users, when the plugin works correctly, simply never come back to add their vote.  I was wondering if WP put a star system right on the 'Installed Plugins' page if more people would use it.  This would be similar to how the Apple review system works.  Another option would be if someone has had a plugin installed for X days they would get a reminder message to review or vote on the plugin.
>> 
>> I just feel like some system to encourage and promote rating plugins directly from the back-end of WP would be a great deal of help to everyone.  I know this isn't something that would happen quickly but I am just throwing it out there to see if anyone else has thoughts on this.
>> 
>> Ryan
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> 
> 
> 
> -- 
> Mike Schroder
> WordPress Specialist, Developer
> mike.schroder at dreamhost.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ryan.frankel at gmail.com  Tue Nov  1 18:02:17 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Tue, 1 Nov 2011 14:02:17 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <D55C36FE-81E6-4EE9-B1FD-BE28DDB1F946@codehooligans.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<CAGcqhYVdKu=JKuxL4iY7HDV9H62RWU3rX9-W+U_z-oxP1LCG-A@mail.gmail.com>
	<D55C36FE-81E6-4EE9-B1FD-BE28DDB1F946@codehooligans.com>
Message-ID: <908255B1-D32C-4F93-9A21-189C4CE470DE@gmail.com>

> I like the idea of having rating option say on the plugin listing row. But then again if I manage half a dozen sites I don't want to be bothered to rate a plugin on each site. You can see how this would exponentially cause issue as well as possibly false ratings. 

That is true and brings in an issue that I hadn't thought of.  I am guessing the UI would have to be as soon as you clicked to review you would have to sign in with your wp.org un and pw.  That way, you couldn't vote on things many times even if you had it on multiple installs.  Again, stealing from the Apple UI (I'm not very creative =).  

Ryan


On Nov 1, 2011, at 1:56 PM, Paul Menard wrote:

> +1 for this in theory. 
> 
> I like the idea of having rating option say on the plugin listing row. But then again if I manage half a dozen sites I don't want to be bothered to rate a plugin on each site. You can see how this would exponentially cause issue as well as possibly false ratings. 
> 
> the one good thing I like about it is potentially when the user rates the plugin then the 'hook' would know what version of WordPress they are running. Many times I get comments about my plugin not working on some latest WP version. Only after contacting the reporting user do I find out they did select the correct WP version when providing the rating. 
> 
> P-
> 
> 
> 
> On Nov 1, 2011, at 1:51 PM, Mike Schroder wrote:
> 
>> I really like this idea in theory -- although I don't know enough
>> about the API to say how doable it is.
>> 
>> The only immediate issue I can think of is that all plugins don't
>> necessarily come from the WordPress plugin repo, so those you wouldn't
>> be able to directly rate.
>> 
>> I'm unsure about prompting for feedback (I find that annoying in
>> iPhone apps that do it) -- but having a star system for rating
>> directly in a row within the installed plugins page sounds awesome.
>> 
>> 
>> On Tue, Nov 1, 2011 at 10:41 AM, Ryan Frankel <ryan.frankel at gmail.com> wrote:
>>> I am not sure if this is the correct list for this but I have an idea that would be REALLY helpful to the review system for plugins (and probably themes too).  One of the things I have noticed is that while tons of people download and try plugins the feedback mechanism for coming back and putting a start-review is poor.  Most users, when the plugin works correctly, simply never come back to add their vote.  I was wondering if WP put a star system right on the 'Installed Plugins' page if more people would use it.  This would be similar to how the Apple review system works.  Another option would be if someone has had a plugin installed for X days they would get a reminder message to review or vote on the plugin.
>>> 
>>> I just feel like some system to encourage and promote rating plugins directly from the back-end of WP would be a great deal of help to everyone.  I know this isn't something that would happen quickly but I am just throwing it out there to see if anyone else has thoughts on this.
>>> 
>>> Ryan
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> 
>> 
>> 
>> -- 
>> Mike Schroder
>> WordPress Specialist, Developer
>> mike.schroder at dreamhost.com
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From Marcus.Pope at springbox.com  Tue Nov  1 18:10:22 2011
From: Marcus.Pope at springbox.com (Marcus Pope)
Date: Tue, 1 Nov 2011 14:10:22 -0400
Subject: [wp-hackers] questioning the efficiency of using custom
	post	types
Message-ID: <1FDEC53D-3BE1-4A4B-AB61-B4765F2A0F2B@springbox.com>

Agreed Christopher, both on flame wars and use cases for joins. You can't make a blanket statement about joins being slower in all cases as that purely depends on how you slice the data. Row level scans can be horrifically slow. You can improve this by adding indexes on your key table columns but when those indexes become extremely large themselves the benefit is lost. Joins allow you, in many cases, to break those relationships down into more manageable chunks on several levels. So the result is a faster query. But the notion that all data should be relational is a misnomer too and has proven more troublesome (inflexible) for the data set sizes wordpress typically deals with. kvp architectures tend to support far more variations of data structures than problem domain specific relationships, so the result for a generalized community is a better platform. And given the performance of modern databases and price of modern technology it will continue to  become even easier as a general rule. 

In reality wordpress is still built on those performance realizing joins, just not more than one or two join for this particular case (meta data is joined with posts and possibly taxonomies in most of the queries, just typically not between the data itself that people put in the meta table)

Marcus Pope 


On Oct 30, 2011, at 2:06 PM, "Christopher O'Connell" <jwriteclub at gmail.com> wrote:

> I don't want to start a flame war, but, storing the data as key value pairs
> defeats the whole purpose of using a relational database. If you want a K-V
> store, then user a K-V store.
> 
> In general, Wordpress' approach works, because any given post meta table is
> relatively short and/or the querying is of only modest complexity. However,
> relational schema and normalization exists for a reason. Yes, they're
> extremely complex and often overkill for a project. If you have large,
> complex data, however, using a well normalized database will result in
> significant speed improvements assuming that you need to perform arbitrary
> queries over the data.
> 
> How's this apply to Wordpress? The K-V version of post meta doesn't scale
> past a couple hundred million entries. Once this limit is reached, the fact
> that a non-K-V data-store is being used causes the DB to fall over. In this
> case, storing metadata in something more suited (such as a CouchDB or
> Amazon SimpleDB) works far, far better.
> 
> ~ Christopher
> 
> P.S. Before anyone takes me to task for this post, I *don't* think that the
> WordPress core should change. As already stated for small to "modestly
> large" amounts of data it works splendidly and does not require developers
> to worry about the integrity or quality of their data model.
> 
> On Sun, Oct 30, 2011 at 11:40, Mike Bijon <mike at etchsoftware.com> wrote:
> 
>> Haluk,
>> One of the really non-intuitive things about relational DBs like MySQL is
>> that looking up data spread across more tables is less-efficient than fewer
>> tables with lots of rows. It got me at first too, but doing JOINs just
>> isn't fast, and more tables means more  For an example of how efficient
>> long tables like WPs are, take a look at Brett Taylor's documentation of
>> FriendFeed's speedup:
>> * http://bret.appspot.com/entry/how-friendfeed-uses-mysql
>> 
>> The longer tables also give us a lot of flexibility and prevent errors.
>> It's odd until you get to know MySQL, and the coding to deal with
>> meta-table isn't simple. And, since these things are already solved in
>> WordPress, it's also why we use WP over-and-over and why a lot of good devs
>> contribute to the project.
>> 
>> 
>> For an example of flexibility:
>> If you had a table of restaurants and later on you wanted to store extra
>> info about ones that served coffee, then... In a multi-table system you
>> could add columns to the restaurants table, or add a new table just for
>> those cafes. In a meta-table system you would add a meta-row and then add
>> the rows to the data table.
>> 
>> On a live site the multi-table changes could cause locking and performance
>> issues while they're happening, and they might leave you with either empty
>> columns for non-cafes or a whole other table to join in. On a live site
>> with the meta-tables the update would be the same as any other insert and
>> performance would be almost unchanged.
>> 
>> For an example of preventing errors:
>> Let's say you make some changes on your dev server and need to apply them
>> to the live site. On a multi-table system this could be adding columns or
>> adding tables. On a meta-table system this would be adding rows.
>> 
>> While the update queries run on the live site, the multi-table system could
>> return no data when queries see columns or tables "missing" because they
>> aren't added yet. The meta-table will return the "old" data, so there may
>> be missing fields, but no errors.
>> 
>> In the event someone makes a mistake in the update process (which happens
>> way more than it should, unless you're doing test-migrations and have
>> staging, test, pre-deploy and/or other versions of the site)... The
>> multi-table system will return errors to live users up until the mistake is
>> corrected. The meta-table system just leaves a few fields blank and (as
>> long as your devs are checking whether or nat a value exists) live site
>> visitors should just see some empty fields on the live pages.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From jane at automattic.com  Tue Nov  1 18:24:25 2011
From: jane at automattic.com (Jane Wells)
Date: Tue, 01 Nov 2011 14:24:25 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
Message-ID: <4EB03959.8050304@automattic.com>

On 11/1/11 1:41 PM, Ryan Frankel wrote:
> I was wondering if WP put a star system right on the 'Installed Plugins' page if more people would use it.
Yes, core team has been talking about doing it for years, but it never 
makes the priority scope list. If someone wrote a patch and put it up on 
trac, it would see some action.
j


From ryan.frankel at gmail.com  Tue Nov  1 18:43:38 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Tue, 1 Nov 2011 14:43:38 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <4EB03959.8050304@automattic.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
Message-ID: <4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>

I would be more then happy to spend some time working on something like this (see attachment).  I haven't really worked on the Core before though and anyone that knows about this and wouldn't mind e-mailing offline would help.  I think my biggest issue would be how to interface with the repo rating system itself.  I am not sure if there is any sort of interface for 'remote' votes on there.  I don't want to clog this list with a discussion if it seems what is really stopping something like this is for someone to 'just do it'.  

If anyone out there is experienced with the core and wouldn't mind providing guidance to me on this I wouldn't mind putting in the work.

Ryan







On Nov 1, 2011, at 2:24 PM, Jane Wells wrote:

> On 11/1/11 1:41 PM, Ryan Frankel wrote:
>> I was wondering if WP put a star system right on the 'Installed Plugins' page if more people would use it.
> Yes, core team has been talking about doing it for years, but it never makes the priority scope list. If someone wrote a patch and put it up on trac, it would see some action.
> j
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From eric at eam.me  Tue Nov  1 19:11:49 2011
From: eric at eam.me (Eric Mann)
Date: Tue, 1 Nov 2011 12:11:49 -0700
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
Message-ID: <CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>

Ryan, you can't send attachments to the list ... please link to whatever
files you tried to send so we can see them ...

On Tue, Nov 1, 2011 at 11:43 AM, Ryan Frankel <ryan.frankel at gmail.com>wrote:

> I would be more then happy to spend some time working on something like
> this (see attachment).  I haven't really worked on the Core before though
> and anyone that knows about this and wouldn't mind e-mailing offline would
> help.  I think my biggest issue would be how to interface with the repo
> rating system itself.  I am not sure if there is any sort of interface for
> 'remote' votes on there.  I don't want to clog this list with a discussion
> if it seems what is really stopping something like this is for someone to
> 'just do it'.
>
> If anyone out there is experienced with the core and wouldn't mind
> providing guidance to me on this I wouldn't mind putting in the work.
>
> Ryan
>
>
>
>
>
>
>
> On Nov 1, 2011, at 2:24 PM, Jane Wells wrote:
>
> > On 11/1/11 1:41 PM, Ryan Frankel wrote:
> >> I was wondering if WP put a star system right on the 'Installed
> Plugins' page if more people would use it.
> > Yes, core team has been talking about doing it for years, but it never
> makes the priority scope list. If someone wrote a patch and put it up on
> trac, it would see some action.
> > j
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From trepmal at gmail.com  Tue Nov  1 19:12:24 2011
From: trepmal at gmail.com (Kailey Lampert)
Date: Tue, 1 Nov 2011 12:12:24 -0700
Subject: [wp-hackers] using wp_editor
In-Reply-To: <CAGEuVU2nv4SjsN+qDb9XYNSvTZmk=5c+xwr-f0jzRqsdavb9Pw@mail.gmail.com>
References: <CAGEuVU2nv4SjsN+qDb9XYNSvTZmk=5c+xwr-f0jzRqsdavb9Pw@mail.gmail.com>
Message-ID: <CAM_T78NQcw3Muknujm=bjWEN-tXr9YiNewNMhsQa2-+sc7vMqQ@mail.gmail.com>

Steve,
It's not a guide, but maybe this super-simple plugin will help you out:
http://codepad.org/6h21ppIg

Kailey Lampert
twitter: @trepmal
trepmal at gmail.com



On Tue, Nov 1, 2011 at 5:10 AM, Steve Taylor <steve at sltaylor.co.uk> wrote:

> Hi folks,
>
> Apologies if this has been covered already, but I unsubscribed while
> travelling, and I've just found my plugin
> (http://wordpress.org/extend/plugins/developers-custom-fields/) is
> breaking in the 3.3 beta release because of the new wp_editor way of
> handling textareas.
>
> Generally the new function looks great, but I'm finding it tricky to
> get it working properly. Has anyone written a rough guide to using it?
> I've not managed to piece it all together from the source and the trac
> ticket. Obviously I'll just plug away if necessary, but I thought I'd
> check to see if anyone's done an intro to the new way of doing it.
>
> cheers,
>
> Steve
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ryan.frankel at gmail.com  Tue Nov  1 19:23:28 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Tue, 1 Nov 2011 15:23:28 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
Message-ID: <630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>

Oops.  Here is a link to that image...http://dl.dropbox.com/u/31511249/WP-Review-Sys.png



On Nov 1, 2011, at 3:11 PM, Eric Mann wrote:

> Ryan, you can't send attachments to the list ... please link to whatever
> files you tried to send so we can see them ...
> 
> On Tue, Nov 1, 2011 at 11:43 AM, Ryan Frankel <ryan.frankel at gmail.com>wrote:
> 
>> I would be more then happy to spend some time working on something like
>> this (see attachment).  I haven't really worked on the Core before though
>> and anyone that knows about this and wouldn't mind e-mailing offline would
>> help.  I think my biggest issue would be how to interface with the repo
>> rating system itself.  I am not sure if there is any sort of interface for
>> 'remote' votes on there.  I don't want to clog this list with a discussion
>> if it seems what is really stopping something like this is for someone to
>> 'just do it'.
>> 
>> If anyone out there is experienced with the core and wouldn't mind
>> providing guidance to me on this I wouldn't mind putting in the work.
>> 
>> Ryan
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> On Nov 1, 2011, at 2:24 PM, Jane Wells wrote:
>> 
>>> On 11/1/11 1:41 PM, Ryan Frankel wrote:
>>>> I was wondering if WP put a star system right on the 'Installed
>> Plugins' page if more people would use it.
>>> Yes, core team has been talking about doing it for years, but it never
>> makes the priority scope list. If someone wrote a patch and put it up on
>> trac, it would see some action.
>>> j
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From Marcus.Pope at springbox.com  Tue Nov  1 19:29:36 2011
From: Marcus.Pope at springbox.com (Marcus Pope)
Date: Tue, 1 Nov 2011 15:29:36 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
Message-ID: <A74D2C95-EB8B-4289-917B-B2606B3563B3@springbox.com>

I really like this idea too. But in the spirit of recent statements about "can it be done without a core update?" would adding a "vote here" link to the wordpress plugin page for your plugin (and url param options for the correct version) suffice? I'm referring to the same place people usually put "visit plugin site" links.  Not as convenient as direct star integration, but then again some plugins work perfectly for my needs but not for other people. And so seeing a two star rating on a plugin I use for a client might make them say "woah, i dont like that there is a two star plugin in my site!"

Who knows. But the I like the idea of driving more traffic to that feature, and custom links are supported now.  And it avoids integrating wp.org login workflow into the admin portal. 

And im with others that reminders to vote (or donate for that matter) do get annoying. But "classy" links or stars sound great! :)

Marcus Pope

On Nov 1, 2011, at 12:41 PM, "Ryan Frankel" <ryan.frankel at gmail.com> wrote:

> I am not sure if this is the correct list for this but I have an idea that would be REALLY helpful to the review system for plugins (and probably themes too).  One of the things I have noticed is that while tons of people download and try plugins the feedback mechanism for coming back and putting a start-review is poor.  Most users, when the plugin works correctly, simply never come back to add their vote.  I was wondering if WP put a star system right on the 'Installed Plugins' page if more people would use it.  This would be similar to how the Apple review system works.  Another option would be if someone has had a plugin installed for X days they would get a reminder message to review or vote on the plugin.  
> 
> I just feel like some system to encourage and promote rating plugins directly from the back-end of WP would be a great deal of help to everyone.  I know this isn't something that would happen quickly but I am just throwing it out there to see if anyone else has thoughts on this.  
> 
> Ryan
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From afox at gobblelogic.com  Tue Nov  1 19:32:16 2011
From: afox at gobblelogic.com (Alison Foxall)
Date: Tue, 1 Nov 2011 15:32:16 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
Message-ID: <CAFcT6Xq7tMhT6msUmWUG2MTKovSDLeRP72xE90hqyf=K9cCi1g@mail.gmail.com>

This was my take on that: http://cl.ly/3Q232e3b433f2f2Q0m1g

Granted, the visible stars may prompt people to click on them more so than
a small link. Guess I'm thinking in more minimal terms.

I think plugin devs can easily add links there anyway.

-Alison



On Tue, Nov 1, 2011 at 3:23 PM, Ryan Frankel <ryan.frankel at gmail.com> wrote:

> Oops.  Here is a link to that image...
> http://dl.dropbox.com/u/31511249/WP-Review-Sys.png
>
>
>
> On Nov 1, 2011, at 3:11 PM, Eric Mann wrote:
>
> > Ryan, you can't send attachments to the list ... please link to whatever
> > files you tried to send so we can see them ...
> >
> > On Tue, Nov 1, 2011 at 11:43 AM, Ryan Frankel <ryan.frankel at gmail.com
> >wrote:
> >
> >> I would be more then happy to spend some time working on something like
> >> this (see attachment).  I haven't really worked on the Core before
> though
> >> and anyone that knows about this and wouldn't mind e-mailing offline
> would
> >> help.  I think my biggest issue would be how to interface with the repo
> >> rating system itself.  I am not sure if there is any sort of interface
> for
> >> 'remote' votes on there.  I don't want to clog this list with a
> discussion
> >> if it seems what is really stopping something like this is for someone
> to
> >> 'just do it'.
> >>
> >> If anyone out there is experienced with the core and wouldn't mind
> >> providing guidance to me on this I wouldn't mind putting in the work.
> >>
> >> Ryan
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >> On Nov 1, 2011, at 2:24 PM, Jane Wells wrote:
> >>
> >>> On 11/1/11 1:41 PM, Ryan Frankel wrote:
> >>>> I was wondering if WP put a star system right on the 'Installed
> >> Plugins' page if more people would use it.
> >>> Yes, core team has been talking about doing it for years, but it never
> >> makes the priority scope list. If someone wrote a patch and put it up on
> >> trac, it would see some action.
> >>> j
> >>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
*alison foxall*
*gobble**logic*

W    gobblelogic.com
P     941-840-0369
A     P.O. Box 17, Tampa FL 33601

From andycharrington at gmail.com  Tue Nov  1 20:05:23 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Tue, 1 Nov 2011 20:05:23 +0000
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
Message-ID: <A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>

I really like this idea too. I don't think some unobtrusive stars would annoy many people really. It's not as if they spend most of their time on the uninstall page anyway. 

As far as reminders go, we could do that already but I agree, it's a cheap way of doing it. 

Personally I could probably count on one hand the amount of times I've gone back to wp.org to rate a plugin. And yet when I'm looking for plugins, the rating it has certainly comes in to play. 

Sent from my iPhone

On 1 Nov 2011, at 19:23, Ryan Frankel <ryan.frankel at gmail.com> wrote:

> http://dl.dropbox.com/u/31511249/WP-Review-Sys.png

From eric at eam.me  Tue Nov  1 20:20:39 2011
From: eric at eam.me (Eric Mann)
Date: Tue, 1 Nov 2011 13:20:39 -0700
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
Message-ID: <CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>

The biggest stumbling block here is integration with the repository.

So to anyone in-the-know about WordPress.org ... is there an API available
for this so we could put together a patch?  Just thinking things through,
we'd probably need some kind of authentication hook (OAuth?) so that people
only vote once.  Besides that, just knowing *how* to submit the vote and
get rating information back from the system would be valuable.

Unless such an API already exists or could be built ... we aren't going to
get much further than screenshots and mockups.

On Tue, Nov 1, 2011 at 1:05 PM, Andy Charrington-Wilden <
andycharrington at gmail.com> wrote:

> I really like this idea too. I don't think some unobtrusive stars would
> annoy many people really. It's not as if they spend most of their time on
> the uninstall page anyway.
>
> As far as reminders go, we could do that already but I agree, it's a cheap
> way of doing it.
>
> Personally I could probably count on one hand the amount of times I've
> gone back to wp.org to rate a plugin. And yet when I'm looking for
> plugins, the rating it has certainly comes in to play.
>
> Sent from my iPhone
>
> On 1 Nov 2011, at 19:23, Ryan Frankel <ryan.frankel at gmail.com> wrote:
>
> > http://dl.dropbox.com/u/31511249/WP-Review-Sys.png
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Tue Nov  1 20:41:32 2011
From: otto at ottodestruct.com (Otto)
Date: Tue, 1 Nov 2011 15:41:32 -0500
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
Message-ID: <CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>

On Tue, Nov 1, 2011 at 3:20 PM, Eric Mann <eric at eam.me> wrote:
> The biggest stumbling block here is integration with the repository.
>
> So to anyone in-the-know about WordPress.org ... is there an API available
> for this so we could put together a patch? ?Just thinking things through,
> we'd probably need some kind of authentication hook (OAuth?) so that people
> only vote once. ?Besides that, just knowing *how* to submit the vote and
> get rating information back from the system would be valuable.
>
> Unless such an API already exists or could be built ... we aren't going to
> get much further than screenshots and mockups.

No API or way to do this exists at this time.

The problem with the stars is that the user clicking them would have
to have a WordPress.org account. This isn't doable unless you figure
out some way to work around that.

Also, I don't necessarily like the idea of the stars being visible
right in the admin. Kinda cluttery, and relying too much on .org
connectivity. Maybe an alternate approach entirely should be
considered first.

-Otto

From Marcus.Pope at springbox.com  Tue Nov  1 21:08:03 2011
From: Marcus.Pope at springbox.com (Marcus Pope)
Date: Tue, 1 Nov 2011 17:08:03 -0400
Subject: [wp-hackers] WP-Hackers Stats for October 2011
In-Reply-To: <4EAFAB53.7070503@schestowitz.com>
References: <4EAFAB53.7070503@schestowitz.com>
Message-ID: <4C9C70943A019D44B90BF87BB445B2DFDAE2FE3415@RSWMAIL1.dgs.dgsystems.com>

Um....  I'm honored???   <<shakes head in shame for "best" aka "hijacked" statistics>>

> DISCLAIMER: Stats automatically produced. Remember that stats are often meaningless and deceiving.

Indeed!

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Roy Schestowitz
Sent: Tuesday, November 01, 2011 3:18 AM
To: WP-Hackers
Subject: [wp-hackers] WP-Hackers Stats for October 2011

  -  Times are Greenwich Mean Time (GMT) +0:00

  -  Statistics span a period of one month

  -  Subject line formatted consistently "WP-Hackers Stats for <MONTH> <YEAR>"

  -  Killfile <subject contains "WP-Hackers Stats for "> if uninterested ____________________________________________________________

Stats for wp-hackers
~~~~~~~~~~~~~~~~~~~~
***** People who have written most messages:
+----+-----Author-----------------------------------+--Msg-+-Percent-+
|  1 | Marcus.Pope springbox.com                    |   40 |  8.32 % |
|  2 | mikeschinkel newclarity.net                  |   27 |  5.61 % |
|  3 | otto ottodestruct.com                        |   24 |  4.99 % |
|  4 | Dagan.Henderson epyllion.com                 |   22 |  4.57 % |
|  5 | wordpress zed1.com                           |   20 |  4.16 % |
|  6 | nanogwp gmail.com                            |   15 |  3.12 % |
|  7 | ipstenu ipstenu.org                          |   12 |  2.49 % |
|  8 | wordpress dd32.id.au                         |   12 |  2.49 % |
|  9 | ronin braydon.com                            |   12 |  2.49 % |
| 10 | dianakac gmail.com                           |   10 |  2.08 % |
| 11 | rafaehlers gmail.com                         |   10 |  2.08 % |
| 12 | wp-hackers thecodecave.com                   |    9 |  1.87 % |
| 13 | gxxaxx gmail.com                             |    9 |  1.87 % |
| 14 | aero.maxx.d gmail.com                        |    9 |  1.87 % |
| 15 | dan phiffer.org                              |    8 |  1.66 % |
| 16 | okfrank gmail.com                            |    7 |  1.46 % |
| 17 | chip chipbennett.net                         |    7 |  1.46 % |
| 18 | jnolte getmoxied.net                         |    7 |  1.46 % |
| 19 | mike etchsoftware.com                        |    7 |  1.46 % |
| 20 | kkarpieszuk gmail.com                        |    6 |  1.25 % |
| 21 | info samauciello.com                         |    6 |  1.25 % |
| 22 | ryannmicua gmail.com                         |    6 |  1.25 % |
| 23 | hempsworth gmail.com                         |    6 |  1.25 % |
| 24 | aaron jorb.in                                |    6 |  1.25 % |
| 25 | ehitter gmail.com                            |    6 |  1.25 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  178 | 37.01 % |
+----+----------------------------------------------+------+---------+

***** Best authors, by total size of their messages (w/o quoting):
+----+-----Author-------------------------------------------+-KBytes-+
|  1 | Marcus.Pope springbox.com                            |  139.8 |
|  2 | Dagan.Henderson epyllion.com                         |   56.0 |
|  3 | otto ottodestruct.com                                |   39.2 |
|  4 | mikeschinkel newclarity.net                          |   23.6 |
|  5 | wordpress dd32.id.au                                 |   22.2 |
|  6 | okfrank gmail.com                                    |   21.6 |
|  7 | ipstenu ipstenu.org                                  |   17.9 |
|  8 | wordpress zed1.com                                   |   16.7 |
|  9 | ronin braydon.com                                    |   12.4 |
| 10 | halukkaramete gmail.com                              |   11.4 |
| 11 | mike etchsoftware.com                                |   10.1 |
| 12 | nanogwp gmail.com                                    |    9.7 |
| 13 | xiaohan2012 gmail.com                                |    8.7 |
| 14 | ryannmicua gmail.com                                 |    7.8 |
| 15 | chip chipbennett.net                                 |    7.7 |
| 16 | aero.maxx.d gmail.com                                |    7.3 |
| 17 | gxxaxx gmail.com                                     |    7.3 |
| 18 | eric eam.me                                          |    6.2 |
| 19 | wp-hackers thecodecave.com                           |    6.2 |
| 20 | dianakac gmail.com                                   |    5.7 |
| 21 | hempsworth gmail.com                                 |    5.7 |
| 22 | jnolte getmoxied.net                                 |    5.4 |
| 23 | kkarpieszuk gmail.com                                |    5.3 |
| 24 | rafaehlers gmail.com                                 |    5.2 |
| 25 | info samauciello.com                                 |    5.0 |
+----+------------------------------------------------------+--------+

***** Best authors, by average size of their message (w/o quoting):
+----+-----Author--------------------------------------------+-bytes-+
|  1 | newkind gmail.com                                     |  3730 |
|  2 | Preston.Fitzgerald MentorEnterprisesInc.com           |  3606 |
|  3 | Marcus.Pope springbox.com                             |  3578 |
|  4 | jonas.nordstrom gmail.com                             |  3337 |
|  5 | okfrank gmail.com                                     |  3162 |
|  6 | halukkaramete gmail.com                               |  2917 |
|  7 | Dagan.Henderson epyllion.com                          |  2604 |
|  8 | raven mecus.es                                        |  2255 |
|  9 | xiaohan2012 gmail.com                                 |  2236 |
| 10 | 24-7 gmx.net                                          |  2214 |
| 11 | will.davis gmail.com                                  |  1897 |
| 12 | wordpress dd32.id.au                                  |  1892 |
| 13 | jhay jrocas.com.ph                                    |  1848 |
| 14 | peroyomaslists gmail.com                              |  1801 |
| 15 | wfz canopusresearch.com                               |  1691 |
| 16 | otto ottodestruct.com                                 |  1674 |
| 17 | ipstenu ipstenu.org                                   |  1530 |
| 18 | justmichaelh gmail.com                                |  1501 |
| 19 | mike etchsoftware.com                                 |  1480 |
| 20 | andrew graymerica.com                                 |  1414 |
| 21 | photofantaisie gmail.com                              |  1384 |
| 22 | phillip.lord newcastle.ac.uk                          |  1368 |
| 23 | adam littlefyr.com                                    |  1341 |
| 24 | ryannmicua gmail.com                                  |  1336 |
| 25 | eric eam.me                                           |  1278 |
+----+-------------------------------------------------------+-------+

***** Table showing the most successful subjects:
+----+----Subject-----------------------------------+--Msg-+-Percent-+
|  1 | [wp-hackers] Two new,                        |  120 | 24.95 % |
|  2 | [wp-hackers] Which editor do you use?        |   40 |  8.32 % |
|  3 | [wp-hackers] AWE                             |   19 |  3.95 % |
|  4 | [wp-hackers] Adding a plugins svn committer  |   14 |  2.91 % |
|  5 | [wp-hackers] Bootstrapping WordPress         |   13 |  2.70 % |
|  6 | [wp-hackers] Blatant Copying of Plugin Code  |   12 |  2.49 % |
|  7 | [wp-hackers] some problem with understanding |   12 |  2.49 % |
|  8 | [wp-hackers] Configuring WordPress Environme |   11 |  2.29 % |
|  9 | [wp-hackers] And "The Last Word" trophy goes |   11 |  2.29 % |
| 10 | [wp-hackers] Page Redirect from Shortcode    |    9 |  1.87 % |
| 11 | [wp-hackers] Custom Post Type Archives       |    8 |  1.66 % |
| 12 | [wp-hackers] 2 domains, 2 sites, 1 WP instal |    8 |  1.66 % |
| 13 | [wp-hackers] Image Management Enhancements i |    7 |  1.46 % |
| 14 | [wp-hackers] Better approach for post format |    7 |  1.46 % |
| 15 | [wp-hackers] Password Generation             |    6 |  1.25 % |
| 16 | [wp-hackers] Lowest Capabilities possible in |    6 |  1.25 % |
| 17 | [wp-hackers] Custom Post Types in the WordPr |    6 |  1.25 % |
| 18 | [wp-hackers] Turn off mobile comments        |    6 |  1.25 % |
| 19 | [wp-hackers] HTML in the visual editor       |    6 |  1.25 % |
| 20 | [wp-hackers] Content Migration from MT to WP |    5 |  1.04 % |
| 21 | [wp-hackers] Is this a bug? - is_archive()   |    5 |  1.04 % |
| 22 | [wp-hackers] 404 for nested page and custom  |    5 |  1.04 % |
| 23 | [wp-hackers] map file path to url in PHP/Wor |    5 |  1.04 % |
| 24 | [wp-hackers] Enhancements to Settings API    |    5 |  1.04 % |
| 25 | [wp-hackers] Question on multisite blogs     |    5 |  1.04 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  130 | 27.03 % |
+----+----------------------------------------------+------+---------+

***** Most used email clients:
+----+----Mailer------------------------------------+--Msg-+-Percent-+
|  1 | Google Mail/Other                            |  299 | 62.16 % |
|  2 | Mozilla/5.x                                  |   69 | 14.35 % |
|  3 | Apple Mail (2.1251.1)                        |   32 |  6.65 % |
|  4 | Apple Mail (2.1084)                          |   17 |  3.53 % |
|  5 | Apple Mail (2.1244.3)                        |   14 |  2.91 % |
|  6 | Microsoft Outlook Express 6.x                |   10 |  2.08 % |
|  7 | iPhone Mail (9A334)                          |    6 |  1.25 % |
|  8 | Apple Mail (2.1250.3)                        |    5 |  1.04 % |
|  9 | Microsoft Outlook 14.0                       |    4 |  0.83 % |
| 10 | G2/1.0                                       |    4 |  0.83 % |
| 11 | Gnus/5.13 (Gnus v5.13) Emacs/23.2 (gnu/linux |    3 |  0.62 % |
| 12 | iPad Mail (9A334)                            |    3 |  0.62 % |
| 13 | Zimbra 7.1.3_GA_3346 (MobileSync - Apple-iPa |    2 |  0.42 % |
| 14 | iPhone Mail (7E18)                           |    2 |  0.42 % |
| 15 | Industrious bit-pushing elves                |    2 |  0.42 % |
| 16 | Apple Mail (2.753.1)                         |    1 |  0.21 % |
| 17 | iPhone Mail (8H7)                            |    1 |  0.21 % |
| 18 | Roundcube Webmail/0.5.4                      |    1 |  0.21 % |
| 19 | Lotus Notes Release 7.0                      |    1 |  0.21 % |
| 20 | Evolution 2.32.2                             |    1 |  0.21 % |
| 21 | Zimbra 7.1.3_GA_3346 (MobileSync - Apple-iPh |    1 |  0.21 % |
| 22 | Microsoft Office Outlook 12.0                |    1 |  0.21 % |
| 23 | iPhone Mail (8C148)                          |    1 |  0.21 % |
| 24 | Zimbra 7.1.3_GA_3374 (MobileSync - Apple-iPa |    1 |  0.21 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |    0 |  0.00 % |
+----+----------------------------------------------+------+---------+

***** Table of maximal quoting:
+----+-----Author------------------------------------------+-Percent-+
|  1 | bristond gmail.com                                  | 97.78 % |
|  2 | jess funroe.net                                     | 94.62 % |
|  3 | urban.haden gmail.com                               | 90.26 % |
|  4 | pbaylies gmail.com                                  | 89.35 % |
|  5 | mickey infamia.com                                  | 88.07 % |
|  6 | fonglh gmail.com                                    | 85.79 % |
|  7 | mjsafoxy gmail.com                                  | 84.54 % |
|  8 | rafaehlers gmail.com                                | 83.92 % |
|  9 | jnolte getmoxied.net                                | 80.85 % |
| 10 | ehitter gmail.com                                   | 79.24 % |
| 11 | kevin p51labs.com                                   | 75.41 % |
| 12 | jonathan grow-creative.com                          | 75.03 % |
| 13 | bill.erickson gmail.com                             | 73.95 % |
| 14 | bhalla.kunal gmail.com                              | 73.29 % |
| 15 | mkolaski gmail.com                                  | 71.64 % |
| 16 | charles.freesmelvin me.com                          | 71.52 % |
| 17 | nicky tumbledesign.com                              | 71.03 % |
| 18 | banago gmail.com                                    | 70.93 % |
| 19 | dan dansmart.co.uk                                  | 70.58 % |
| 20 | jwriteclub gmail.com                                | 70.05 % |
| 21 | aero.maxx.d gmail.com                               | 70.04 % |
| 22 | ekrebs gmail.com                                    | 67.80 % |
| 23 | kkarpieszuk gmail.com                               | 67.50 % |
| 24 | paul codehooligans.com                              | 66.68 % |
| 25 | lee designchemical.com                              | 65.98 % |
+----+-----------------------------------------------------+---------+
|    | average                                             | 42.87 % |
+----+-----------------------------------------------------+---------+

***** Graph showing number of messages written during hours of day:

100% -----------------------#------------------------- - 41  90% -----------------------#---#--------------------- msgs  80% -------------------#-#-#---#-----#-#-#-----------
 70% -------------------#-#-#---#-----#-#-#-----------
 60% -------------------#-#-#---#-----#-#-#-----------
 50% -------------------#-#-#-#-#---#-#-#-#-#---#-#---
 40% -------------------#-#-#-#-#-#-#-#-#-#-#-#-#-#---
 30% -----------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 20% ---#-----------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 10% -#-#-#-------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * *
hour  0         5           11          17          23


***** Graph showing number of messages written during days of month:

100% -------------------------------------------------------#------- - 85  90% -------------------------------------------------------#------- msgs  80% -------------------------------------------------------#-------
 70% -------------------------------------------------------#-----#-
 60% -------------------------------------------------------#-----#-
 50% -------------------------------------------------------#-----#-
 40% -------------------------------------------------------#---#-#-
 30% -----#---------------------------#---------------------#---#-#-
 20% -----#-#---#-------------#-------#-#-------------------#---#-#-
 10% ---#-#-#-#-#-------------#-------#-#-#---#-#-#-#-------#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 day  1         6           12          18          24            31


***** Graph showing number of messages written during days of week:

100% -#--------------------------- - 136  90% -#--------------------------- msgs  80% -#---------------#-----------  70% -#---------------#-----------  60% -#---------------#-----------  50% -#---------------#-------#---  40% -#---#-------#---#-------#---  30% -#---#-------#---#-------#---  20% -#---#-------#---#---#---#---  10% -#---#---#---#---#---#---#---
      *   *   *   *   *   *   *
     Mon Tue Wed Thu Fri Sat Sun


***** Maximal quoting:
      Author     : mickey infamia.com
      Subject    : [wp-hackers] Moving from dev to live, and relative vs
absolute
      Date       : Sat, 29 Oct 2011 17:45:01 -0400
      Quote ratio: 97.97% / 17607 bytes

***** Longest message:
      Author     : bristond gmail.com
      Subject    : [wp-hackers] Which editor do you use?
      Date       : Mon, 17 Oct 2011 17:16:33 -0500
      Size       : 17660 bytes

***** Most successful subject:
      Subject    : [wp-hackers] Two new,
      No. of msgs: 120
      Total size : 392535 bytes

***** Final summary:
      Total number of messages:             481
      Total number of different authors:    117
      Total number of different subjects:   81
      Total size of messages (w/o headers): 1073726 bytes
      Average size of a message:            2232 bytes

***** Generated by MailListStat v1.3, (C) 2001-2003 <marki (at) nexin.sk>
***** See http://freshmeat.net/projects/mls for details...

DISCLAIMER: Stats automatically produced. Remember that stats are often meaningless and deceiving.
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From Marcus.Pope at springbox.com  Tue Nov  1 21:14:19 2011
From: Marcus.Pope at springbox.com (Marcus Pope)
Date: Tue, 1 Nov 2011 17:14:19 -0400
Subject: [wp-hackers] questioning the efficiency of using
	custom	post	types
In-Reply-To: <1FDEC53D-3BE1-4A4B-AB61-B4765F2A0F2B@springbox.com>
References: <1FDEC53D-3BE1-4A4B-AB61-B4765F2A0F2B@springbox.com>
Message-ID: <4C9C70943A019D44B90BF87BB445B2DFDAE2FE341B@RSWMAIL1.dgs.dgsystems.com>

Holly crap-tastic injection of white space by my iPhone batman!

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Marcus Pope
Sent: Tuesday, November 01, 2011 1:10 PM
To: Christopher O'Connell
Cc: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] questioning the efficiency of using custom post types

Agreed Christopher, both on flame wars and use cases for joins. You can't make a blanket statement about joins being slower in all cases as that purely depends on how you slice the data. Row level scans can be horrifically slow. You can improve this by adding indexes on your key table columns but when those indexes become extremely large themselves the benefit is lost. Joins allow you, in many cases, to break those relationships down into more manageable chunks on several levels. So the result is a faster query. But the notion that all data should be relational is a misnomer too and has proven more troublesome (inflexible) for the data set sizes wordpress typically deals with. kvp architectures tend to support far more variations of data structures than problem domain specific relationships, so the result for a generalized community is a better platform. And given the performance of modern databases and price of modern technology it will continue to  become even easier as a g
 
 eneral rule. 

In reality wordpress is still built on those performance realizing joins, just not more than one or two join for this particular case (meta data is joined with posts and possibly taxonomies in most of the queries, just typically not between the data itself that people put in the meta table)

Marcus Pope 


On Oct 30, 2011, at 2:06 PM, "Christopher O'Connell" <jwriteclub at gmail.com> wrote:

> I don't want to start a flame war, but, storing the data as key value 
> pairs defeats the whole purpose of using a relational database. If you 
> want a K-V store, then user a K-V store.
> 
> In general, Wordpress' approach works, because any given post meta 
> table is relatively short and/or the querying is of only modest 
> complexity. However, relational schema and normalization exists for a 
> reason. Yes, they're extremely complex and often overkill for a 
> project. If you have large, complex data, however, using a well 
> normalized database will result in significant speed improvements 
> assuming that you need to perform arbitrary queries over the data.
> 
> How's this apply to Wordpress? The K-V version of post meta doesn't 
> scale past a couple hundred million entries. Once this limit is 
> reached, the fact that a non-K-V data-store is being used causes the 
> DB to fall over. In this case, storing metadata in something more 
> suited (such as a CouchDB or Amazon SimpleDB) works far, far better.
> 
> ~ Christopher
> 
> P.S. Before anyone takes me to task for this post, I *don't* think 
> that the WordPress core should change. As already stated for small to 
> "modestly large" amounts of data it works splendidly and does not 
> require developers to worry about the integrity or quality of their data model.
> 
> On Sun, Oct 30, 2011 at 11:40, Mike Bijon <mike at etchsoftware.com> wrote:
> 
>> Haluk,
>> One of the really non-intuitive things about relational DBs like 
>> MySQL is that looking up data spread across more tables is 
>> less-efficient than fewer tables with lots of rows. It got me at 
>> first too, but doing JOINs just isn't fast, and more tables means 
>> more  For an example of how efficient long tables like WPs are, take 
>> a look at Brett Taylor's documentation of FriendFeed's speedup:
>> * http://bret.appspot.com/entry/how-friendfeed-uses-mysql
>> 
>> The longer tables also give us a lot of flexibility and prevent errors.
>> It's odd until you get to know MySQL, and the coding to deal with 
>> meta-table isn't simple. And, since these things are already solved 
>> in WordPress, it's also why we use WP over-and-over and why a lot of 
>> good devs contribute to the project.
>> 
>> 
>> For an example of flexibility:
>> If you had a table of restaurants and later on you wanted to store 
>> extra info about ones that served coffee, then... In a multi-table 
>> system you could add columns to the restaurants table, or add a new 
>> table just for those cafes. In a meta-table system you would add a 
>> meta-row and then add the rows to the data table.
>> 
>> On a live site the multi-table changes could cause locking and 
>> performance issues while they're happening, and they might leave you 
>> with either empty columns for non-cafes or a whole other table to 
>> join in. On a live site with the meta-tables the update would be the 
>> same as any other insert and performance would be almost unchanged.
>> 
>> For an example of preventing errors:
>> Let's say you make some changes on your dev server and need to apply 
>> them to the live site. On a multi-table system this could be adding 
>> columns or adding tables. On a meta-table system this would be adding rows.
>> 
>> While the update queries run on the live site, the multi-table system 
>> could return no data when queries see columns or tables "missing" 
>> because they aren't added yet. The meta-table will return the "old" 
>> data, so there may be missing fields, but no errors.
>> 
>> In the event someone makes a mistake in the update process (which 
>> happens way more than it should, unless you're doing test-migrations 
>> and have staging, test, pre-deploy and/or other versions of the 
>> site)... The multi-table system will return errors to live users up 
>> until the mistake is corrected. The meta-table system just leaves a 
>> few fields blank and (as long as your devs are checking whether or 
>> nat a value exists) live site visitors should just see some empty fields on the live pages.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From jeremy.felt at gmail.com  Tue Nov  1 21:41:02 2011
From: jeremy.felt at gmail.com (Jeremy Felt)
Date: Tue, 1 Nov 2011 14:41:02 -0700
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
Message-ID: <CAEniZ34x5gV0WhE24Xu3K81PvQToSJ=wuUhNvTLaF_pbAeX_Nw@mail.gmail.com>

On Tue, Nov 1, 2011 at 13:41, Otto <otto at ottodestruct.com> wrote:

> On Tue, Nov 1, 2011 at 3:20 PM, Eric Mann <eric at eam.me> wrote:
> > The biggest stumbling block here is integration with the repository.
> >
> > So to anyone in-the-know about WordPress.org ... is there an API
> available
> > for this so we could put together a patch?  Just thinking things through,
> > we'd probably need some kind of authentication hook (OAuth?) so that
> people
> > only vote once.  Besides that, just knowing *how* to submit the vote and
> > get rating information back from the system would be valuable.
> >
> > Unless such an API already exists or could be built ... we aren't going
> to
> > get much further than screenshots and mockups.
>
> No API or way to do this exists at this time.
>
> The problem with the stars is that the user clicking them would have
> to have a WordPress.org account. This isn't doable unless you figure
> out some way to work around that.
>
> Also, I don't necessarily like the idea of the stars being visible
> right in the admin. Kinda cluttery, and relying too much on .org
> connectivity. Maybe an alternate approach entirely should be
> considered first.


At the risk of restating the obvious, a restrictive issue here is identity
management.

1) Plugins are installed without identity confirmation. That's good.
 2) Plugins can only be rated on WordPress.org with strict identity
confirmation. Avoids cheating, but makes it harder to rate.

It seems that the issue is made more restrictive by the fact that
WordPress.org doesn't exactly scream "create an account" during the plugin
process unless you're a developer.

Is it feasible to tie in Gravatar as identity management for plugin
ratings, seeing as it's already baked into core as an identity service of
sorts? Of course, WordPress.org would still need some kind of API for
anything like this.

- Jeremy

From andycharrington at gmail.com  Tue Nov  1 21:45:15 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Tue, 1 Nov 2011 21:45:15 +0000
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
Message-ID: <D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>

How about a separate web service that plugin devs could submit their plugin to with an API that allowed devs to optionally allow ratings from within wordpress admin? Would have to tie down votes per ip address to save the hassle (from a users point of view) of authentication. 
That way it could be kept separate from .org and if it was used widely enough and was of an acceptable standard it could be introduced to a plugin's .org page. It would be simple enough to associate a plugin to its .org URL. 
Any of us on here could probably knock up such a thing and I would be well up for doing it if people think its a good idea?

Andy

Sent from my iPhone

On 1 Nov 2011, at 20:41, Otto <otto at ottodestruct.com> wrote:

> On Tue, Nov 1, 2011 at 3:20 PM, Eric Mann <eric at eam.me> wrote:
>> The biggest stumbling block here is integration with the repository.
>> 
>> So to anyone in-the-know about WordPress.org ... is there an API available
>> for this so we could put together a patch?  Just thinking things through,
>> we'd probably need some kind of authentication hook (OAuth?) so that people
>> only vote once.  Besides that, just knowing *how* to submit the vote and
>> get rating information back from the system would be valuable.
>> 
>> Unless such an API already exists or could be built ... we aren't going to
>> get much further than screenshots and mockups.
> 
> No API or way to do this exists at this time.
> 
> The problem with the stars is that the user clicking them would have
> to have a WordPress.org account. This isn't doable unless you figure
> out some way to work around that.
> 
> Also, I don't necessarily like the idea of the stars being visible
> right in the admin. Kinda cluttery, and relying too much on .org
> connectivity. Maybe an alternate approach entirely should be
> considered first.
> 
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ryan.frankel at gmail.com  Tue Nov  1 21:52:05 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Tue, 1 Nov 2011 17:52:05 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <CAEniZ34x5gV0WhE24Xu3K81PvQToSJ=wuUhNvTLaF_pbAeX_Nw@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<CAEniZ34x5gV0WhE24Xu3K81PvQToSJ=wuUhNvTLaF_pbAeX_Nw@mail.gmail.com>
Message-ID: <194F466A-9A25-4859-A735-BC4DC6F4E4FD@gmail.com>

I think the real issue here is that WordPress.org would have to be on-board with this.  The issues with identity management and what the UI should like like are problems that can be solved.  They might not be simple but they are doable.  But, when it comes down to it, if the repo doesn't support something like this then there is not much hope.  

I do like the idea of using Gravatars though.  Which brings me to another thought similar to this?it would be possible to create a plugin that does something similar to this and stores reviews elsewhere.  Basically, you would just have to report the current users e-mail, the plugin slug, and their rating.   It could be a separate web service that does this sort of thing.  I think the problem is that the ratings wouldn't be shown in the repo though.

Ryan

On Nov 1, 2011, at 5:41 PM, Jeremy Felt wrote:

> On Tue, Nov 1, 2011 at 13:41, Otto <otto at ottodestruct.com> wrote:
> 
>> On Tue, Nov 1, 2011 at 3:20 PM, Eric Mann <eric at eam.me> wrote:
>>> The biggest stumbling block here is integration with the repository.
>>> 
>>> So to anyone in-the-know about WordPress.org ... is there an API
>> available
>>> for this so we could put together a patch?  Just thinking things through,
>>> we'd probably need some kind of authentication hook (OAuth?) so that
>> people
>>> only vote once.  Besides that, just knowing *how* to submit the vote and
>>> get rating information back from the system would be valuable.
>>> 
>>> Unless such an API already exists or could be built ... we aren't going
>> to
>>> get much further than screenshots and mockups.
>> 
>> No API or way to do this exists at this time.
>> 
>> The problem with the stars is that the user clicking them would have
>> to have a WordPress.org account. This isn't doable unless you figure
>> out some way to work around that.
>> 
>> Also, I don't necessarily like the idea of the stars being visible
>> right in the admin. Kinda cluttery, and relying too much on .org
>> connectivity. Maybe an alternate approach entirely should be
>> considered first.
> 
> 
> At the risk of restating the obvious, a restrictive issue here is identity
> management.
> 
> 1) Plugins are installed without identity confirmation. That's good.
> 2) Plugins can only be rated on WordPress.org with strict identity
> confirmation. Avoids cheating, but makes it harder to rate.
> 
> It seems that the issue is made more restrictive by the fact that
> WordPress.org doesn't exactly scream "create an account" during the plugin
> process unless you're a developer.
> 
> Is it feasible to tie in Gravatar as identity management for plugin
> ratings, seeing as it's already baked into core as an identity service of
> sorts? Of course, WordPress.org would still need some kind of API for
> anything like this.
> 
> - Jeremy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ryan.frankel at gmail.com  Tue Nov  1 21:57:14 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Tue, 1 Nov 2011 17:57:14 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
Message-ID: <715A5E7F-5BDF-43B8-91CC-19069CEF045B@gmail.com>

Andy,
  It looks like you were writing this right as I was replying.  I would be down for doing this with you if you were interested.   Feel free to e-mail me directly. ryan.frankel at gmail.com

Ryan


On Nov 1, 2011, at 5:45 PM, Andy Charrington-Wilden wrote:

> How about a separate web service that plugin devs could submit their plugin to with an API that allowed devs to optionally allow ratings from within wordpress admin? Would have to tie down votes per ip address to save the hassle (from a users point of view) of authentication. 
> That way it could be kept separate from .org and if it was used widely enough and was of an acceptable standard it could be introduced to a plugin's .org page. It would be simple enough to associate a plugin to its .org URL. 
> Any of us on here could probably knock up such a thing and I would be well up for doing it if people think its a good idea?
> 
> Andy
> 
> Sent from my iPhone
> 
> On 1 Nov 2011, at 20:41, Otto <otto at ottodestruct.com> wrote:
> 
>> On Tue, Nov 1, 2011 at 3:20 PM, Eric Mann <eric at eam.me> wrote:
>>> The biggest stumbling block here is integration with the repository.
>>> 
>>> So to anyone in-the-know about WordPress.org ... is there an API available
>>> for this so we could put together a patch?  Just thinking things through,
>>> we'd probably need some kind of authentication hook (OAuth?) so that people
>>> only vote once.  Besides that, just knowing *how* to submit the vote and
>>> get rating information back from the system would be valuable.
>>> 
>>> Unless such an API already exists or could be built ... we aren't going to
>>> get much further than screenshots and mockups.
>> 
>> No API or way to do this exists at this time.
>> 
>> The problem with the stars is that the user clicking them would have
>> to have a WordPress.org account. This isn't doable unless you figure
>> out some way to work around that.
>> 
>> Also, I don't necessarily like the idea of the stars being visible
>> right in the admin. Kinda cluttery, and relying too much on .org
>> connectivity. Maybe an alternate approach entirely should be
>> considered first.
>> 
>> -Otto
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From otto at ottodestruct.com  Tue Nov  1 21:58:28 2011
From: otto at ottodestruct.com (Otto)
Date: Tue, 1 Nov 2011 16:58:28 -0500
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <194F466A-9A25-4859-A735-BC4DC6F4E4FD@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<CAEniZ34x5gV0WhE24Xu3K81PvQToSJ=wuUhNvTLaF_pbAeX_Nw@mail.gmail.com>
	<194F466A-9A25-4859-A735-BC4DC6F4E4FD@gmail.com>
Message-ID: <CAD-FghyFFq85sKGdVV=T5NpwKMjiKGv1zxUPqgF3pk_ZoMnJTA@mail.gmail.com>

On Tue, Nov 1, 2011 at 4:52 PM, Ryan Frankel <ryan.frankel at gmail.com> wrote:
> I think the real issue here is that WordPress.org would have to be on-board with this. ?The issues with identity management and what the UI should like like are problems that can be solved. ?They might not be simple but they are doable. ?But, when it comes down to it, if the repo doesn't support something like this then there is not much hope.
>
> I do like the idea of using Gravatars though. ?Which brings me to another thought similar to this?it would be possible to create a plugin that does something similar to this and stores reviews elsewhere. ?Basically, you would just have to report the current users e-mail, the plugin slug, and their rating. ? It could be a separate web service that does this sort of thing. ?I think the problem is that the ratings wouldn't be shown in the repo though.

WP.org backing isn't your problem. Identity confirmation and authentication is.

See, if you don't have solid authentication to ensure one vote per
user, then you're going to run into gaming of the system. Guaranteed.
Heck, I've had to deal with it on .org before, for the star ratings.

Without a solid authentication scheme, you'll have plugin authors
mass-voting on their own plugins to raise their ranks, and mass
downvoting on whatever they perceive to be the competition. You may
think that this is stupid, and you're right. Doesn't matter.

I once found a guy on org who created something like 2000 fake
accounts, then had them mass-vote on a handful of plugins. When I
removed the votes (and the accounts), he did it again, with another
set of accounts that he had pre-created in anticipation of this.
Seriously. For freakin' star ratings.

Any system you implement that doesn't have solid authentication will
be subject to gaming, and gamed it will be, rendering it rapidly
useless.

-Otto

From paul at codehooligans.com  Tue Nov  1 22:03:08 2011
From: paul at codehooligans.com (Paul Menard)
Date: Tue, 1 Nov 2011 18:03:08 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
Message-ID: <F33FB0F5-1E8A-4F45-AEC7-9B871AC29289@codehooligans.com>


On Nov 1, 2011, at 5:45 PM, Andy Charrington-Wilden wrote:

> How about a separate web service that plugin devs could submit their plugin to with an API

Um what? We don't need to change the current SVN plugin submission process. This is another dead horse beat to death a few months ago when someone ranted on about moving from SVN go Git. Technically I think SVN can be considered a web service with a published API.

P-



From ryan.frankel at gmail.com  Tue Nov  1 22:05:52 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Tue, 1 Nov 2011 18:05:52 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <CAD-FghyFFq85sKGdVV=T5NpwKMjiKGv1zxUPqgF3pk_ZoMnJTA@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<CAEniZ34x5gV0WhE24Xu3K81PvQToSJ=wuUhNvTLaF_pbAeX_Nw@mail.gmail.com>
	<194F466A-9A25-4859-A735-BC4DC6F4E4FD@gmail.com>
	<CAD-FghyFFq85sKGdVV=T5NpwKMjiKGv1zxUPqgF3pk_ZoMnJTA@mail.gmail.com>
Message-ID: <84F5F0F5-2EC3-470C-AC19-0DF00286F77D@gmail.com>

Otto,
  Sorry if my previous message wasn't clear.  I wasn't saying that authentication isn't a problem, I was just saying that it seems like a solvable one.  I am fairly sure that we could come up with some sort of system that would verify users as well as possible (or at least as well as required).  I don't see too much point though going through the trouble of having lots of discussion about it without that being proceeded by how it might interface to ORG.  

But, now that you got me curious, how did you eventually solve that problem?  

Ryan


On Nov 1, 2011, at 5:58 PM, Otto wrote:

> On Tue, Nov 1, 2011 at 4:52 PM, Ryan Frankel <ryan.frankel at gmail.com> wrote:
>> I think the real issue here is that WordPress.org would have to be on-board with this.  The issues with identity management and what the UI should like like are problems that can be solved.  They might not be simple but they are doable.  But, when it comes down to it, if the repo doesn't support something like this then there is not much hope.
>> 
>> I do like the idea of using Gravatars though.  Which brings me to another thought similar to this?it would be possible to create a plugin that does something similar to this and stores reviews elsewhere.  Basically, you would just have to report the current users e-mail, the plugin slug, and their rating.   It could be a separate web service that does this sort of thing.  I think the problem is that the ratings wouldn't be shown in the repo though.
> 
> WP.org backing isn't your problem. Identity confirmation and authentication is.
> 
> See, if you don't have solid authentication to ensure one vote per
> user, then you're going to run into gaming of the system. Guaranteed.
> Heck, I've had to deal with it on .org before, for the star ratings.
> 
> Without a solid authentication scheme, you'll have plugin authors
> mass-voting on their own plugins to raise their ranks, and mass
> downvoting on whatever they perceive to be the competition. You may
> think that this is stupid, and you're right. Doesn't matter.
> 
> I once found a guy on org who created something like 2000 fake
> accounts, then had them mass-vote on a handful of plugins. When I
> removed the votes (and the accounts), he did it again, with another
> set of accounts that he had pre-created in anticipation of this.
> Seriously. For freakin' star ratings.
> 
> Any system you implement that doesn't have solid authentication will
> be subject to gaming, and gamed it will be, rendering it rapidly
> useless.
> 
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ryan.frankel at gmail.com  Tue Nov  1 22:08:32 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Tue, 1 Nov 2011 18:08:32 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <F33FB0F5-1E8A-4F45-AEC7-9B871AC29289@codehooligans.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
	<F33FB0F5-1E8A-4F45-AEC7-9B871AC29289@codehooligans.com>
Message-ID: <2FBF920F-BF22-4B6B-8AE9-461C6D3FB8E8@gmail.com>

They wouldn't have to submit their plugin.  You would just have a WP plugin like 'Review Plugin' that if you installed it you could rate whatever plugins you had installed (with amazing authentication =).  No SVN or GIT or whatever needed.  The reviews would get aggregated by the server and possibly supply links to the WordPress repo.  

My main issue with something like this is how Users would get to see it BEFORE they download plugins.  There is not real feedback mechanism.

Ryan

On Nov 1, 2011, at 6:03 PM, Paul Menard wrote:

> 
> On Nov 1, 2011, at 5:45 PM, Andy Charrington-Wilden wrote:
> 
>> How about a separate web service that plugin devs could submit their plugin to with an API
> 
> Um what? We don't need to change the current SVN plugin submission process. This is another dead horse beat to death a few months ago when someone ranted on about moving from SVN go Git. Technically I think SVN can be considered a web service with a published API.
> 
> P-
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From andycharrington at gmail.com  Tue Nov  1 22:12:36 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Tue, 1 Nov 2011 22:12:36 +0000
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <F33FB0F5-1E8A-4F45-AEC7-9B871AC29289@codehooligans.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
	<F33FB0F5-1E8A-4F45-AEC7-9B871AC29289@codehooligans.com>
Message-ID: <B16F24E7-F610-4C91-85CF-0791E1D253A4@gmail.com>

Otto, agreed. Authentication is a must. I don't see it as insurmountable, just a pain!

> Um what? We don't need to change the current SVN plugin submission process. This is another dead horse beat to death a few months ago when someone ranted on about moving from SVN go Git. Technically I think SVN can be considered a web service with a published API.

Lol. You totally misunderstood me. By submit their plugin I simply meant that they would fill in a form with their plugin URL and submit its details. We have no need for the whole plugin, just a way to keep track of it and it's associated ratings. 

From paul at codehooligans.com  Tue Nov  1 22:14:03 2011
From: paul at codehooligans.com (Paul Menard)
Date: Tue, 1 Nov 2011 18:14:03 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <B16F24E7-F610-4C91-85CF-0791E1D253A4@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
	<F33FB0F5-1E8A-4F45-AEC7-9B871AC29289@codehooligans.com>
	<B16F24E7-F610-4C91-85CF-0791E1D253A4@gmail.com>
Message-ID: <C31E7E28-55D6-45F6-A7E9-127D3AC1CA1B@codehooligans.com>


On Nov 1, 2011, at 6:12 PM, Andy Charrington-Wilden wrote:

> Otto, agreed. Authentication is a must. I don't see it as insurmountable, just a pain!
> 
>> Um what? We don't need to change the current SVN plugin submission process. This is another dead horse beat to death a few months ago when someone ranted on about moving from SVN go Git. Technically I think SVN can be considered a web service with a published API.
> 
> Lol. You totally misunderstood me. By submit their plugin I simply meant that they would fill in a form with their plugin URL and submit its details. We have no need for the whole plugin, just a way to keep track of it and it's associated ratings. 

Sorry Andy my mis-read. Going back to ignoring this thread. 

P-


From andycharrington at gmail.com  Tue Nov  1 22:14:39 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Tue, 1 Nov 2011 22:14:39 +0000
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <2FBF920F-BF22-4B6B-8AE9-461C6D3FB8E8@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
	<F33FB0F5-1E8A-4F45-AEC7-9B871AC29289@codehooligans.com>
	<2FBF920F-BF22-4B6B-8AE9-461C6D3FB8E8@gmail.com>
Message-ID: <EE4AB667-FC0B-4117-B098-92307DADC776@gmail.com>

How about allowing plugin devs to include their rating in the plugin name? Dynamically. Only problem there is it looks a bit shit and the details before downloading would still come from the readme on .org (right?)

Sent from my iPhone

On 1 Nov 2011, at 22:08, Ryan Frankel <ryan.frankel at gmail.com> wrote:

> They wouldn't have to submit their plugin.  You would just have a WP plugin like 'Review Plugin' that if you installed it you could rate whatever plugins you had installed (with amazing authentication =).  No SVN or GIT or whatever needed.  The reviews would get aggregated by the server and possibly supply links to the WordPress repo.  
> 
> My main issue with something like this is how Users would get to see it BEFORE they download plugins.  There is not real feedback mechanism.
> 
> Ryan
> 
> On Nov 1, 2011, at 6:03 PM, Paul Menard wrote:
> 
>> 
>> On Nov 1, 2011, at 5:45 PM, Andy Charrington-Wilden wrote:
>> 
>>> How about a separate web service that plugin devs could submit their plugin to with an API
>> 
>> Um what? We don't need to change the current SVN plugin submission process. This is another dead horse beat to death a few months ago when someone ranted on about moving from SVN go Git. Technically I think SVN can be considered a web service with a published API.
>> 
>> P-
>> 
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From helen.y.hou at gmail.com  Tue Nov  1 22:15:45 2011
From: helen.y.hou at gmail.com (Helen Hou-Sandi)
Date: Tue, 1 Nov 2011 18:15:45 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <194F466A-9A25-4859-A735-BC4DC6F4E4FD@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<CAEniZ34x5gV0WhE24Xu3K81PvQToSJ=wuUhNvTLaF_pbAeX_Nw@mail.gmail.com>
	<194F466A-9A25-4859-A735-BC4DC6F4E4FD@gmail.com>
Message-ID: <CAA0DF=8aHzYP3mpsmaST-Ztc8gjFEaxavZEx559burRJXJmTyQ@mail.gmail.com>

I, for one, would be extremely unhappy if I found out that something inside
the WP admin was sending my email address off-site just for some simple
ratings. A third-party or plugin also seems unlikely to be widely adopted
and seems rather unnecessary given what already exists. I also wouldn't
want to worry about not being able to look at my installed plugins list
just because I'm offline (local dev, anyone?).

A link seems like it would work just fine, perhaps if it opens in a
thickbox without any site chrome? Then one could log in with their .org
credentials (or perhaps even register) and then rate from there without
stepping away from the admin. There are more steps to that than just
clicking some stars, but since some sort of auth is required anyway, it
seems as non-obtrusive and in-line with other admin behavior as can be.
This would still need some work on the .org end though, of course.

--
Helen Hou-Sandi
http://www.helenhousandi.com

From mike at etchsoftware.com  Tue Nov  1 22:18:49 2011
From: mike at etchsoftware.com (Mike Bijon)
Date: Tue, 1 Nov 2011 15:18:49 -0700
Subject: [wp-hackers] Reviews for Plugins
Message-ID: <CABwjQBy_Kig0XjjxOjNxBW0bvyBeEUyDRdDAAhrJKkQp59G25w@mail.gmail.com>

Otto's point about a sign-in API to .org, would help prevent a lot of
self-voting/cheating.

But, I think the current ratings on .org need to be "fixed" before an API
for plugin-ratings is built.

--> end TL;DR (I drone on about "fix" algorithms below)

-------------------
Why fix?
Quality scores get diluted when a lot of votes are cast, and turn into
popularity contests. This means the best self-promoters usually end up at
the top of the pile semi-permanently. That's what happened at Digg when it
blew-up, and I don't think anyone wants that for WP plugins, after-all
there's already a separate popular plugins list.

It would be awesome if .org could take a page from ratings that are useful
even when traffic/vote-counts skyrocket: HN, Reddit, Netflix, even Yelp.

How?
Most of those ratings use a probabilistic score instead of just averaging
votes. These formulas have been around a while and there are many flavors:
confidence (Binomial, Wilson) scores or credible (Bayesian) intervals.
They're all pretty easy to implement (usually not in PHP though), and it
might be fun to experiment with different formulas and get feedback from
people on this list.

Does anyone have an idea of how to contribute to the system behind .org?
Would a plugin be a starting point, or is this something that would be best
as an external system that .org would query? Would someone at Automattic be
willing to export plugin-rating data so it could be played-with?

From andycharrington at gmail.com  Tue Nov  1 22:20:11 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Tue, 1 Nov 2011 22:20:11 +0000
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <CAA0DF=8aHzYP3mpsmaST-Ztc8gjFEaxavZEx559burRJXJmTyQ@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<CAEniZ34x5gV0WhE24Xu3K81PvQToSJ=wuUhNvTLaF_pbAeX_Nw@mail.gmail.com>
	<194F466A-9A25-4859-A735-BC4DC6F4E4FD@gmail.com>
	<CAA0DF=8aHzYP3mpsmaST-Ztc8gjFEaxavZEx559burRJXJmTyQ@mail.gmail.com>
Message-ID: <2C2868C7-751F-4B0E-8D95-D66F808C7051@gmail.com>



> I, for one, would be extremely unhappy if I found out that something inside
> the WP admin was sending my email address off-site just for some simple
> ratings.

Me too! Doesn't need to happen though. 


> A third-party or plugin also seems unlikely to be widely adopted
> and seems rather unnecessary given what already exists. I also wouldn't
> want to worry about not being able to look at my installed plugins list
> just because I'm offline (local dev, anyone?).

I'm not sure what we are discussing would impact that at all tbh. 

> 
> A link seems like it would work just fine, perhaps if it opens in a
> thickbox without any site chrome? Then one could log in with their .org
> credentials (or perhaps even register) and then rate from there without
> stepping away from the admin. There are more steps to that than just
> clicking some stars, but since some sort of auth is required anyway, it
> seems as non-obtrusive and in-line with other admin behavior as can be.
> This would still need some work on the .org end though, of course.

Agreed.  I do feel that without proper integration on .org it's a bit pointless actually. I guess the whole point is to have a more reliable rating system for users before they download the plugin....

> 
> --
> Helen Hou-Sandi
> http://www.helenhousandi.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ryan.frankel at gmail.com  Tue Nov  1 22:24:22 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Tue, 1 Nov 2011 18:24:22 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <CAA0DF=8aHzYP3mpsmaST-Ztc8gjFEaxavZEx559burRJXJmTyQ@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<CAEniZ34x5gV0WhE24Xu3K81PvQToSJ=wuUhNvTLaF_pbAeX_Nw@mail.gmail.com>
	<194F466A-9A25-4859-A735-BC4DC6F4E4FD@gmail.com>
	<CAA0DF=8aHzYP3mpsmaST-Ztc8gjFEaxavZEx559burRJXJmTyQ@mail.gmail.com>
Message-ID: <155BF225-CCE1-4342-B046-4A410DBE9062@gmail.com>

Helen,

> I also wouldn't
> want to worry about not being able to look at my installed plugins list
> just because I'm offline
I most have gotten lost here.  Why would you not be able to look at your installed plugins when you are offline?  The update system talks back to WordPress but doesn't cause any issues.  I don't see any reason any plugin would have that affect.

> I, for one, would be extremely unhappy if I found out that something inside
> the WP admin was sending my email address off-site just for some simple
> ratings.
I would think that if you actively  went to rate something you would be OK with some sort of authentication.  I don't think anyone is proposing doing anything malicious or secretive.  Again, I don't want to get bogged down in the authentication discussion.

ryan

On Nov 1, 2011, at 6:15 PM, Helen Hou-Sandi wrote:

> I, for one, would be extremely unhappy if I found out that something inside
> the WP admin was sending my email address off-site just for some simple
> ratings. A third-party or plugin also seems unlikely to be widely adopted
> and seems rather unnecessary given what already exists. I also wouldn't
> want to worry about not being able to look at my installed plugins list
> just because I'm offline (local dev, anyone?).
> 
> A link seems like it would work just fine, perhaps if it opens in a
> thickbox without any site chrome? Then one could log in with their .org
> credentials (or perhaps even register) and then rate from there without
> stepping away from the admin. There are more steps to that than just
> clicking some stars, but since some sort of auth is required anyway, it
> seems as non-obtrusive and in-line with other admin behavior as can be.
> This would still need some work on the .org end though, of course.
> 
> --
> Helen Hou-Sandi
> http://www.helenhousandi.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From helen.y.hou at gmail.com  Tue Nov  1 22:28:44 2011
From: helen.y.hou at gmail.com (Helen Hou-Sandi)
Date: Tue, 1 Nov 2011 18:28:44 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <155BF225-CCE1-4342-B046-4A410DBE9062@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<CAEniZ34x5gV0WhE24Xu3K81PvQToSJ=wuUhNvTLaF_pbAeX_Nw@mail.gmail.com>
	<194F466A-9A25-4859-A735-BC4DC6F4E4FD@gmail.com>
	<CAA0DF=8aHzYP3mpsmaST-Ztc8gjFEaxavZEx559burRJXJmTyQ@mail.gmail.com>
	<155BF225-CCE1-4342-B046-4A410DBE9062@gmail.com>
Message-ID: <CAA0DF=_rhpR_gfkisEKD9=f34J9gw=7FDq9qjpzoER9W09FzkQ@mail.gmail.com>

> I most have gotten lost here.  Why would you not be able to look at your
installed plugins when you are offline?  The update system talks back to
WordPress but doesn't cause any issues.  I don't see any reason any plugin
would have that affect.

I thought I saw an idea that included the stars right in the list table.
That's all I was thinking about.

From ryan.frankel at gmail.com  Tue Nov  1 22:29:14 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Tue, 1 Nov 2011 18:29:14 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <CABwjQBy_Kig0XjjxOjNxBW0bvyBeEUyDRdDAAhrJKkQp59G25w@mail.gmail.com>
References: <CABwjQBy_Kig0XjjxOjNxBW0bvyBeEUyDRdDAAhrJKkQp59G25w@mail.gmail.com>
Message-ID: <DC8E5989-A401-492D-8860-CF17C1A5ACC4@gmail.com>

Mike, 
  This is a good idea and there is no reason this can't be implemented either.  Any sort of 'DSPish' algorithm could be used to calculate back the 'rating.'   I am sure a bunch of people on this list or others would be interested in this aspect of it.  I know this is right up my alley.

Ryan 

On Nov 1, 2011, at 6:18 PM, Mike Bijon wrote:

> Otto's point about a sign-in API to .org, would help prevent a lot of
> self-voting/cheating.
> 
> But, I think the current ratings on .org need to be "fixed" before an API
> for plugin-ratings is built.
> 
> --> end TL;DR (I drone on about "fix" algorithms below)
> 
> -------------------
> Why fix?
> Quality scores get diluted when a lot of votes are cast, and turn into
> popularity contests. This means the best self-promoters usually end up at
> the top of the pile semi-permanently. That's what happened at Digg when it
> blew-up, and I don't think anyone wants that for WP plugins, after-all
> there's already a separate popular plugins list.
> 
> It would be awesome if .org could take a page from ratings that are useful
> even when traffic/vote-counts skyrocket: HN, Reddit, Netflix, even Yelp.
> 
> How?
> Most of those ratings use a probabilistic score instead of just averaging
> votes. These formulas have been around a while and there are many flavors:
> confidence (Binomial, Wilson) scores or credible (Bayesian) intervals.
> They're all pretty easy to implement (usually not in PHP though), and it
> might be fun to experiment with different formulas and get feedback from
> people on this list.
> 
> Does anyone have an idea of how to contribute to the system behind .org?
> Would a plugin be a starting point, or is this something that would be best
> as an external system that .org would query? Would someone at Automattic be
> willing to export plugin-rating data so it could be played-with?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ryan.frankel at gmail.com  Tue Nov  1 22:31:16 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Tue, 1 Nov 2011 18:31:16 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <EE4AB667-FC0B-4117-B098-92307DADC776@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
	<F33FB0F5-1E8A-4F45-AEC7-9B871AC29289@codehooligans.com>
	<2FBF920F-BF22-4B6B-8AE9-461C6D3FB8E8@gmail.com>
	<EE4AB667-FC0B-4117-B098-92307DADC776@gmail.com>
Message-ID: <BDC72506-5B18-45C4-9826-0B7A35CC1602@gmail.com>

This may sound dumb but IF it was possible to poll the repo and see what plugins are available you could recreate the search engine (similar to wp.org).  That way, if a user wanted to find a plugin they could navigate to the site, do a search, find a plugin and be sent over to the wp.org site.  This could include any type of 'rating' you wanted.  Again, I am just throwing this out there.

ryan



On Nov 1, 2011, at 6:14 PM, Andy Charrington-Wilden wrote:

> How about allowing plugin devs to include their rating in the plugin name? Dynamically. Only problem there is it looks a bit shit and the details before downloading would still come from the readme on .org (right?)
> 
> Sent from my iPhone
> 
> On 1 Nov 2011, at 22:08, Ryan Frankel <ryan.frankel at gmail.com> wrote:
> 
>> They wouldn't have to submit their plugin.  You would just have a WP plugin like 'Review Plugin' that if you installed it you could rate whatever plugins you had installed (with amazing authentication =).  No SVN or GIT or whatever needed.  The reviews would get aggregated by the server and possibly supply links to the WordPress repo.  
>> 
>> My main issue with something like this is how Users would get to see it BEFORE they download plugins.  There is not real feedback mechanism.
>> 
>> Ryan
>> 
>> On Nov 1, 2011, at 6:03 PM, Paul Menard wrote:
>> 
>>> 
>>> On Nov 1, 2011, at 5:45 PM, Andy Charrington-Wilden wrote:
>>> 
>>>> How about a separate web service that plugin devs could submit their plugin to with an API
>>> 
>>> Um what? We don't need to change the current SVN plugin submission process. This is another dead horse beat to death a few months ago when someone ranted on about moving from SVN go Git. Technically I think SVN can be considered a web service with a published API.
>>> 
>>> P-
>>> 
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From andycharrington at gmail.com  Tue Nov  1 22:36:42 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Tue, 1 Nov 2011 22:36:42 +0000
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <BDC72506-5B18-45C4-9826-0B7A35CC1602@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
	<F33FB0F5-1E8A-4F45-AEC7-9B871AC29289@codehooligans.com>
	<2FBF920F-BF22-4B6B-8AE9-461C6D3FB8E8@gmail.com>
	<EE4AB667-FC0B-4117-B098-92307DADC776@gmail.com>
	<BDC72506-5B18-45C4-9826-0B7A35CC1602@gmail.com>
Message-ID: <7BA51F70-18B4-4AD2-ACBF-A6178F2D2C41@gmail.com>


> This may sound dumb but IF it was possible to poll the repo and see what plugins are available you could recreate the search engine (similar to wp.org).  That way, if a user wanted to find a plugin they could navigate to the site, do a search, find a plugin and be sent over to the wp.org site.  This could include any type of 'rating' you wanted.  Again, I am just throwing this out there.
> 
> ryan

A bit like this?

http://ckon.wordpress.com/2010/07/20/undocumented-wordpress-org-plugin-api/
> 
> 
> 
> On Nov 1, 2011, at 6:14 PM, Andy Charrington-Wilden wrote:
> 
>> How about allowing plugin devs to include their rating in the plugin name? Dynamically. Only problem there is it looks a bit shit and the details before downloading would still come from the readme on .org (right?)
>> 
>> Sent from my iPhone
>> 
>> On 1 Nov 2011, at 22:08, Ryan Frankel <ryan.frankel at gmail.com> wrote:
>> 
>>> They wouldn't have to submit their plugin.  You would just have a WP plugin like 'Review Plugin' that if you installed it you could rate whatever plugins you had installed (with amazing authentication =).  No SVN or GIT or whatever needed.  The reviews would get aggregated by the server and possibly supply links to the WordPress repo.  
>>> 
>>> My main issue with something like this is how Users would get to see it BEFORE they download plugins.  There is not real feedback mechanism.
>>> 
>>> Ryan
>>> 
>>> On Nov 1, 2011, at 6:03 PM, Paul Menard wrote:
>>> 
>>>> 
>>>> On Nov 1, 2011, at 5:45 PM, Andy Charrington-Wilden wrote:
>>>> 
>>>>> How about a separate web service that plugin devs could submit their plugin to with an API
>>>> 
>>>> Um what? We don't need to change the current SVN plugin submission process. This is another dead horse beat to death a few months ago when someone ranted on about moving from SVN go Git. Technically I think SVN can be considered a web service with a published API.
>>>> 
>>>> P-
>>>> 
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From paul at codehooligans.com  Tue Nov  1 22:37:46 2011
From: paul at codehooligans.com (Paul Menard)
Date: Tue, 1 Nov 2011 18:37:46 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <BDC72506-5B18-45C4-9826-0B7A35CC1602@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
	<F33FB0F5-1E8A-4F45-AEC7-9B871AC29289@codehooligans.com>
	<2FBF920F-BF22-4B6B-8AE9-461C6D3FB8E8@gmail.com>
	<EE4AB667-FC0B-4117-B098-92307DADC776@gmail.com>
	<BDC72506-5B18-45C4-9826-0B7A35CC1602@gmail.com>
Message-ID: <14551FF7-5576-4A71-8AF9-F64B4F1656C0@codehooligans.com>


On Nov 1, 2011, at 6:31 PM, Ryan Frankel wrote:

> This may sound dumb but IF it was possible to poll the repo and see what plugins are available you could recreate the search engine (similar to wp.org).  That way, if a user wanted to find a plugin they could navigate to the site, do a search, find a plugin and be sent over to the wp.org site.  This could include any type of 'rating' you wanted.  Again, I am just throwing this out there.
> 
> ryan

Seems the better method would be to piggyback onto the already existing polling process that checked for updates to plugins on a given system. Seems this could simply be an extra attribute pulled in and cached.

P-


From ryan.frankel at gmail.com  Tue Nov  1 22:40:32 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Tue, 1 Nov 2011 18:40:32 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <7BA51F70-18B4-4AD2-ACBF-A6178F2D2C41@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
	<F33FB0F5-1E8A-4F45-AEC7-9B871AC29289@codehooligans.com>
	<2FBF920F-BF22-4B6B-8AE9-461C6D3FB8E8@gmail.com>
	<EE4AB667-FC0B-4117-B098-92307DADC776@gmail.com>
	<BDC72506-5B18-45C4-9826-0B7A35CC1602@gmail.com>
	<7BA51F70-18B4-4AD2-ACBF-A6178F2D2C41@gmail.com>
Message-ID: <15924234-36F0-4483-B20F-B0F71B1E9331@gmail.com>

Um, yeah, a bit like that indeed. =)

ryan

On Nov 1, 2011, at 6:36 PM, Andy Charrington-Wilden wrote:

> 
>> This may sound dumb but IF it was possible to poll the repo and see what plugins are available you could recreate the search engine (similar to wp.org).  That way, if a user wanted to find a plugin they could navigate to the site, do a search, find a plugin and be sent over to the wp.org site.  This could include any type of 'rating' you wanted.  Again, I am just throwing this out there.
>> 
>> ryan
> 
> A bit like this?
> 
> http://ckon.wordpress.com/2010/07/20/undocumented-wordpress-org-plugin-api/
>> 
>> 
>> 
>> On Nov 1, 2011, at 6:14 PM, Andy Charrington-Wilden wrote:
>> 
>>> How about allowing plugin devs to include their rating in the plugin name? Dynamically. Only problem there is it looks a bit shit and the details before downloading would still come from the readme on .org (right?)
>>> 
>>> Sent from my iPhone
>>> 
>>> On 1 Nov 2011, at 22:08, Ryan Frankel <ryan.frankel at gmail.com> wrote:
>>> 
>>>> They wouldn't have to submit their plugin.  You would just have a WP plugin like 'Review Plugin' that if you installed it you could rate whatever plugins you had installed (with amazing authentication =).  No SVN or GIT or whatever needed.  The reviews would get aggregated by the server and possibly supply links to the WordPress repo.  
>>>> 
>>>> My main issue with something like this is how Users would get to see it BEFORE they download plugins.  There is not real feedback mechanism.
>>>> 
>>>> Ryan
>>>> 
>>>> On Nov 1, 2011, at 6:03 PM, Paul Menard wrote:
>>>> 
>>>>> 
>>>>> On Nov 1, 2011, at 5:45 PM, Andy Charrington-Wilden wrote:
>>>>> 
>>>>>> How about a separate web service that plugin devs could submit their plugin to with an API
>>>>> 
>>>>> Um what? We don't need to change the current SVN plugin submission process. This is another dead horse beat to death a few months ago when someone ranted on about moving from SVN go Git. Technically I think SVN can be considered a web service with a published API.
>>>>> 
>>>>> P-
>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ryan.frankel at gmail.com  Tue Nov  1 22:45:51 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Tue, 1 Nov 2011 18:45:51 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <7BA51F70-18B4-4AD2-ACBF-A6178F2D2C41@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
	<F33FB0F5-1E8A-4F45-AEC7-9B871AC29289@codehooligans.com>
	<2FBF920F-BF22-4B6B-8AE9-461C6D3FB8E8@gmail.com>
	<EE4AB667-FC0B-4117-B098-92307DADC776@gmail.com>
	<BDC72506-5B18-45C4-9826-0B7A35CC1602@gmail.com>
	<7BA51F70-18B4-4AD2-ACBF-A6178F2D2C41@gmail.com>
Message-ID: <34F2DC73-F7BD-403D-8D24-651D9AA743C6@gmail.com>

On second thought?.I will have to take a closer look at what you can get via that API.  It's clear you can pull specific info about a plugin from the repo but it's not clear if you can pull ALL data like this or any sort of daily 'new plugins' data.

ryan


On Nov 1, 2011, at 6:36 PM, Andy Charrington-Wilden wrote:

> 
>> This may sound dumb but IF it was possible to poll the repo and see what plugins are available you could recreate the search engine (similar to wp.org).  That way, if a user wanted to find a plugin they could navigate to the site, do a search, find a plugin and be sent over to the wp.org site.  This could include any type of 'rating' you wanted.  Again, I am just throwing this out there.
>> 
>> ryan
> 
> A bit like this?
> 
> http://ckon.wordpress.com/2010/07/20/undocumented-wordpress-org-plugin-api/
>> 
>> 
>> 
>> On Nov 1, 2011, at 6:14 PM, Andy Charrington-Wilden wrote:
>> 
>>> How about allowing plugin devs to include their rating in the plugin name? Dynamically. Only problem there is it looks a bit shit and the details before downloading would still come from the readme on .org (right?)
>>> 
>>> Sent from my iPhone
>>> 
>>> On 1 Nov 2011, at 22:08, Ryan Frankel <ryan.frankel at gmail.com> wrote:
>>> 
>>>> They wouldn't have to submit their plugin.  You would just have a WP plugin like 'Review Plugin' that if you installed it you could rate whatever plugins you had installed (with amazing authentication =).  No SVN or GIT or whatever needed.  The reviews would get aggregated by the server and possibly supply links to the WordPress repo.  
>>>> 
>>>> My main issue with something like this is how Users would get to see it BEFORE they download plugins.  There is not real feedback mechanism.
>>>> 
>>>> Ryan
>>>> 
>>>> On Nov 1, 2011, at 6:03 PM, Paul Menard wrote:
>>>> 
>>>>> 
>>>>> On Nov 1, 2011, at 5:45 PM, Andy Charrington-Wilden wrote:
>>>>> 
>>>>>> How about a separate web service that plugin devs could submit their plugin to with an API
>>>>> 
>>>>> Um what? We don't need to change the current SVN plugin submission process. This is another dead horse beat to death a few months ago when someone ranted on about moving from SVN go Git. Technically I think SVN can be considered a web service with a published API.
>>>>> 
>>>>> P-
>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From andycharrington at gmail.com  Tue Nov  1 22:49:55 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Tue, 1 Nov 2011 22:49:55 +0000
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <34F2DC73-F7BD-403D-8D24-651D9AA743C6@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
	<F33FB0F5-1E8A-4F45-AEC7-9B871AC29289@codehooligans.com>
	<2FBF920F-BF22-4B6B-8AE9-461C6D3FB8E8@gmail.com>
	<EE4AB667-FC0B-4117-B098-92307DADC776@gmail.com>
	<BDC72506-5B18-45C4-9826-0B7A35CC1602@gmail.com>
	<7BA51F70-18B4-4AD2-ACBF-A6178F2D2C41@gmail.com>
	<34F2DC73-F7BD-403D-8D24-651D9AA743C6@gmail.com>
Message-ID: <34C64D46-8222-4115-A596-41111ADD6E6E@gmail.com>

Yeah, pulling all data may be a bit different. Perhaps someone on here knows a little more about that API? 

Sent from my iPhone

On 1 Nov 2011, at 22:45, Ryan Frankel <ryan.frankel at gmail.com> wrote:

> On second thought?.I will have to take a closer look at what you can get via that API.  It's clear you can pull specific info about a plugin from the repo but it's not clear if you can pull ALL data like this or any sort of daily 'new plugins' data.
> 
> ryan
> 
> 
> On Nov 1, 2011, at 6:36 PM, Andy Charrington-Wilden wrote:
> 
>> 
>>> This may sound dumb but IF it was possible to poll the repo and see what plugins are available you could recreate the search engine (similar to wp.org).  That way, if a user wanted to find a plugin they could navigate to the site, do a search, find a plugin and be sent over to the wp.org site.  This could include any type of 'rating' you wanted.  Again, I am just throwing this out there.
>>> 
>>> ryan
>> 
>> A bit like this?
>> 
>> http://ckon.wordpress.com/2010/07/20/undocumented-wordpress-org-plugin-api/
>>> 
>>> 
>>> 
>>> On Nov 1, 2011, at 6:14 PM, Andy Charrington-Wilden wrote:
>>> 
>>>> How about allowing plugin devs to include their rating in the plugin name? Dynamically. Only problem there is it looks a bit shit and the details before downloading would still come from the readme on .org (right?)
>>>> 
>>>> Sent from my iPhone
>>>> 
>>>> On 1 Nov 2011, at 22:08, Ryan Frankel <ryan.frankel at gmail.com> wrote:
>>>> 
>>>>> They wouldn't have to submit their plugin.  You would just have a WP plugin like 'Review Plugin' that if you installed it you could rate whatever plugins you had installed (with amazing authentication =).  No SVN or GIT or whatever needed.  The reviews would get aggregated by the server and possibly supply links to the WordPress repo.  
>>>>> 
>>>>> My main issue with something like this is how Users would get to see it BEFORE they download plugins.  There is not real feedback mechanism.
>>>>> 
>>>>> Ryan
>>>>> 
>>>>> On Nov 1, 2011, at 6:03 PM, Paul Menard wrote:
>>>>> 
>>>>>> 
>>>>>> On Nov 1, 2011, at 5:45 PM, Andy Charrington-Wilden wrote:
>>>>>> 
>>>>>>> How about a separate web service that plugin devs could submit their plugin to with an API
>>>>>> 
>>>>>> Um what? We don't need to change the current SVN plugin submission process. This is another dead horse beat to death a few months ago when someone ranted on about moving from SVN go Git. Technically I think SVN can be considered a web service with a published API.
>>>>>> 
>>>>>> P-
>>>>>> 
>>>>>> 
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> 
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From photofantaisie at gmail.com  Tue Nov  1 22:57:19 2011
From: photofantaisie at gmail.com (Ade Walker)
Date: Tue, 1 Nov 2011 23:57:19 +0100
Subject: [wp-hackers] Theme options in db: automatic deletion?
In-Reply-To: <CAEi=p53Dt33cQ7psBRXnKJ-R4LyroucFxMPM9=yp4Es3oy86yw@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<CAEi=p53Dt33cQ7psBRXnKJ-R4LyroucFxMPM9=yp4Es3oy86yw@mail.gmail.com>
Message-ID: <CALS5Swfma9qryhQy8_cLUvC+GHL2bHNiV0LkwCOrSiMRpYmMYA@mail.gmail.com>

I think Chip's previous comments sum up my view 100%. Have a consistent
approach for plugins and themes, with deletion of theme options when the
theme is deleted.

Personally, I can't think of a down side to this approach.

Anyone aware of a relevant trac ticket? (A quick search didn't find
anything.)

From eric at eam.me  Tue Nov  1 23:08:49 2011
From: eric at eam.me (Eric Mann)
Date: Tue, 1 Nov 2011 16:08:49 -0700
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <CAD-FghyFFq85sKGdVV=T5NpwKMjiKGv1zxUPqgF3pk_ZoMnJTA@mail.gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<CAEniZ34x5gV0WhE24Xu3K81PvQToSJ=wuUhNvTLaF_pbAeX_Nw@mail.gmail.com>
	<194F466A-9A25-4859-A735-BC4DC6F4E4FD@gmail.com>
	<CAD-FghyFFq85sKGdVV=T5NpwKMjiKGv1zxUPqgF3pk_ZoMnJTA@mail.gmail.com>
Message-ID: <CAEi=p50q3f9g+UVUmjvWxtWWRW8a-i99Y5Q_p=Em_vFh4dA-zQ@mail.gmail.com>

>
> WP.org backing isn't your problem. Identity confirmation and
> authentication is.
>
> See, if you don't have solid authentication to ensure one vote per
> user, then you're going to run into gaming of the system. Guaranteed.
> Heck, I've had to deal with it on .org before, for the star ratings.
>

What I'd like to see is an OAuth system integrated with WP.org.  Then, I
could authenticate against WP.org from within my self-hosted site, and use
those credentials to rate plugins.

OAuth is secure, and (to alleviate Helen's concerns) it wouldn't require
sending my email off to some third party site.  I already have a WP.org
username and password, and I'm just using those credentials to log in and
submit information.  If people don't want to connect, they don't need to.
 They'll just only be able to *see* ratings rather than add their own input.

I'd be pushing for WP.org backing primarily for these reasons:

   - We'd have *one* identify confirmation/authentication system
   - We'd have a single API for getting/updating/etc-ing rating and plugin
   information

WP.org backing isn't the end-all be-all of a system like this, but it would
make for a much smoother, more integrated system overall.

From ryan.frankel at gmail.com  Tue Nov  1 23:14:37 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Tue, 1 Nov 2011 19:14:37 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <34C64D46-8222-4115-A596-41111ADD6E6E@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
	<F33FB0F5-1E8A-4F45-AEC7-9B871AC29289@codehooligans.com>
	<2FBF920F-BF22-4B6B-8AE9-461C6D3FB8E8@gmail.com>
	<EE4AB667-FC0B-4117-B098-92307DADC776@gmail.com>
	<BDC72506-5B18-45C4-9826-0B7A35CC1602@gmail.com>
	<7BA51F70-18B4-4AD2-ACBF-A6178F2D2C41@gmail.com>
	<34F2DC73-F7BD-403D-8D24-651D9AA743C6@gmail.com>
	<34C64D46-8222-4115-A596-41111ADD6E6E@gmail.com>
Message-ID: <0E1E2A0E-6B63-459F-B650-E41BA025ABD0@gmail.com>

Andy,
   This may be of some use.  http://dd32.id.au/projects/wordpressorg-plugin-information-api-docs/  

  It looks like the folks over at WPMU were able to use this to do a lot of stat tracking on the repo here: http://wpmu.org/what-lurks-in-the-wordpress-plugin-repository/

ryan


On Nov 1, 2011, at 6:49 PM, Andy Charrington-Wilden wrote:

> Yeah, pulling all data may be a bit different. Perhaps someone on here knows a little more about that API? 
> 
> Sent from my iPhone
> 
> On 1 Nov 2011, at 22:45, Ryan Frankel <ryan.frankel at gmail.com> wrote:
> 
>> On second thought?.I will have to take a closer look at what you can get via that API.  It's clear you can pull specific info about a plugin from the repo but it's not clear if you can pull ALL data like this or any sort of daily 'new plugins' data.
>> 
>> ryan
>> 
>> 
>> On Nov 1, 2011, at 6:36 PM, Andy Charrington-Wilden wrote:
>> 
>>> 
>>>> This may sound dumb but IF it was possible to poll the repo and see what plugins are available you could recreate the search engine (similar to wp.org).  That way, if a user wanted to find a plugin they could navigate to the site, do a search, find a plugin and be sent over to the wp.org site.  This could include any type of 'rating' you wanted.  Again, I am just throwing this out there.
>>>> 
>>>> ryan
>>> 
>>> A bit like this?
>>> 
>>> http://ckon.wordpress.com/2010/07/20/undocumented-wordpress-org-plugin-api/
>>>> 
>>>> 
>>>> 
>>>> On Nov 1, 2011, at 6:14 PM, Andy Charrington-Wilden wrote:
>>>> 
>>>>> How about allowing plugin devs to include their rating in the plugin name? Dynamically. Only problem there is it looks a bit shit and the details before downloading would still come from the readme on .org (right?)
>>>>> 
>>>>> Sent from my iPhone
>>>>> 
>>>>> On 1 Nov 2011, at 22:08, Ryan Frankel <ryan.frankel at gmail.com> wrote:
>>>>> 
>>>>>> They wouldn't have to submit their plugin.  You would just have a WP plugin like 'Review Plugin' that if you installed it you could rate whatever plugins you had installed (with amazing authentication =).  No SVN or GIT or whatever needed.  The reviews would get aggregated by the server and possibly supply links to the WordPress repo.  
>>>>>> 
>>>>>> My main issue with something like this is how Users would get to see it BEFORE they download plugins.  There is not real feedback mechanism.
>>>>>> 
>>>>>> Ryan
>>>>>> 
>>>>>> On Nov 1, 2011, at 6:03 PM, Paul Menard wrote:
>>>>>> 
>>>>>>> 
>>>>>>> On Nov 1, 2011, at 5:45 PM, Andy Charrington-Wilden wrote:
>>>>>>> 
>>>>>>>> How about a separate web service that plugin devs could submit their plugin to with an API
>>>>>>> 
>>>>>>> Um what? We don't need to change the current SVN plugin submission process. This is another dead horse beat to death a few months ago when someone ranted on about moving from SVN go Git. Technically I think SVN can be considered a web service with a published API.
>>>>>>> 
>>>>>>> P-
>>>>>>> 
>>>>>>> 
>>>>>>> _______________________________________________
>>>>>>> wp-hackers mailing list
>>>>>>> wp-hackers at lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>> 
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ryan.frankel at gmail.com  Tue Nov  1 23:57:56 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Tue, 1 Nov 2011 19:57:56 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <34C64D46-8222-4115-A596-41111ADD6E6E@gmail.com>
References: <CALS5SwctfjwdWtADKrMdtoYtWOYiDkTvzFs2Jz-8GgA9Ose9Aw@mail.gmail.com>
	<CAD-Fghwe=hWK+yW+bESHX2LZqLPsy1ZoHW6iw5AzC-ok7zvnjg@mail.gmail.com>
	<CALS5SwdWrxixm1VC5cSXPhhN+xJ4R-eKbw96oQxXH4ToQiwBnQ@mail.gmail.com>
	<CC311399-9CC2-4A85-9E06-51610A7C5D09@ipstenu.org>
	<CAEi=p50yomm1eOxY3=pNq5OAiekOPXf+cyBepurSy50fR_jwkg@mail.gmail.com>
	<085ACE6D-C1E0-4DD7-87BF-531810174611@newclarity.net>
	<CAPdLKqeDShyuppWM1hjopAdyO35h59XaLZ45Sh17MBoDNFgWeA@mail.gmail.com>
	<AA37DCBC-9A41-4E4C-AE83-876CEBDB3238@newclarity.net>
	<CAPdLKqeoFdm5DU57MTiRckOQc6owYkNUyeADNTNt0CZOp6iM5A@mail.gmail.com>
	<6CFAEB5B-F8D4-4AD2-A8D5-CD67A9A7BFB0@gmail.com>
	<4EB03959.8050304@automattic.com>
	<4CFA6EF8-5F81-45C7-A9F8-00C0604A39BA@gmail.com>
	<CAEi=p50=_yqQ3-t-af8U-mEqr3oSJq6a62Uz9hpWPDPJEDts6w@mail.gmail.com>
	<630DA093-B1C1-4D10-82D2-2BFAE1E03CDF@gmail.com>
	<A3495193-C374-4EE2-BE75-EED27D42E25E@gmail.com>
	<CAEi=p52tBpOCTFUx1uZ3opCn2jjCKxewSdAwhYWqs+yKZYsqCg@mail.gmail.com>
	<CAD-FghxXcEr0oVBsTshvUU13QFx-=-6hyhyMhWw470b+oH-Fsg@mail.gmail.com>
	<D2B3C297-B7CB-4B73-84C2-0F9E1DD59DDD@gmail.com>
	<F33FB0F5-1E8A-4F45-AEC7-9B871AC29289@codehooligans.com>
	<2FBF920F-BF22-4B6B-8AE9-461C6D3FB8E8@gmail.com>
	<EE4AB667-FC0B-4117-B098-92307DADC776@gmail.com>
	<BDC72506-5B18-45C4-9826-0B7A35CC1602@gmail.com>
	<7BA51F70-18B4-4AD2-ACBF-A6178F2D2C41@gmail.com>
	<34F2DC73-F7BD-403D-8D24-651D9AA743C6@gmail.com>
	<34C64D46-8222-4115-A596-41111ADD6E6E@gmail.com>
Message-ID: <AC7AFE85-808F-4862-B1FE-DCC978DF6536@gmail.com>

So, it looks like something like this works.  You can pull all of the plugin info from the API.  This returns a list of 16,875 plugins. Please note: this code isn't quite the correct code (the foreach) but it does seem to show something like this is possible.  For anyone who cares.

---
add_shortcode( 'wordpress_api', 'wordpress_api_shortcode' );
function wordpress_api_shortcode( $atts ) {
	extract( shortcode_atts( array(
	), $atts ) );

	$payload = array(
		'action' => 'query_plugins',
		'request' => serialize(
			(object)array(
				'search' => ''
			)
		)
	);
	$body = wp_remote_post( 'http://api.wordpress.org/plugins/info/1.0/', array( 'body' => $payload) );
	
	?>
		<h2>Info: http://dd32.id.au/projects/wordpressorg-plugin-information-api-docs/</h2>
	<?php
	
	$stringData = unserialize($body['body']);
	
	foreach ($stringData as $plugin) {
		print_r($plugin);
		exit;
	}
}

ryan

On Nov 1, 2011, at 6:49 PM, Andy Charrington-Wilden wrote:

> Yeah, pulling all data may be a bit different. Perhaps someone on here knows a little more about that API? 
> 
> Sent from my iPhone
> 
> On 1 Nov 2011, at 22:45, Ryan Frankel <ryan.frankel at gmail.com> wrote:
> 
>> On second thought?.I will have to take a closer look at what you can get via that API.  It's clear you can pull specific info about a plugin from the repo but it's not clear if you can pull ALL data like this or any sort of daily 'new plugins' data.
>> 
>> ryan
>> 
>> 
>> On Nov 1, 2011, at 6:36 PM, Andy Charrington-Wilden wrote:
>> 
>>> 
>>>> This may sound dumb but IF it was possible to poll the repo and see what plugins are available you could recreate the search engine (similar to wp.org).  That way, if a user wanted to find a plugin they could navigate to the site, do a search, find a plugin and be sent over to the wp.org site.  This could include any type of 'rating' you wanted.  Again, I am just throwing this out there.
>>>> 
>>>> ryan
>>> 
>>> A bit like this?
>>> 
>>> http://ckon.wordpress.com/2010/07/20/undocumented-wordpress-org-plugin-api/
>>>> 
>>>> 
>>>> 
>>>> On Nov 1, 2011, at 6:14 PM, Andy Charrington-Wilden wrote:
>>>> 
>>>>> How about allowing plugin devs to include their rating in the plugin name? Dynamically. Only problem there is it looks a bit shit and the details before downloading would still come from the readme on .org (right?)
>>>>> 
>>>>> Sent from my iPhone
>>>>> 
>>>>> On 1 Nov 2011, at 22:08, Ryan Frankel <ryan.frankel at gmail.com> wrote:
>>>>> 
>>>>>> They wouldn't have to submit their plugin.  You would just have a WP plugin like 'Review Plugin' that if you installed it you could rate whatever plugins you had installed (with amazing authentication =).  No SVN or GIT or whatever needed.  The reviews would get aggregated by the server and possibly supply links to the WordPress repo.  
>>>>>> 
>>>>>> My main issue with something like this is how Users would get to see it BEFORE they download plugins.  There is not real feedback mechanism.
>>>>>> 
>>>>>> Ryan
>>>>>> 
>>>>>> On Nov 1, 2011, at 6:03 PM, Paul Menard wrote:
>>>>>> 
>>>>>>> 
>>>>>>> On Nov 1, 2011, at 5:45 PM, Andy Charrington-Wilden wrote:
>>>>>>> 
>>>>>>>> How about a separate web service that plugin devs could submit their plugin to with an API
>>>>>>> 
>>>>>>> Um what? We don't need to change the current SVN plugin submission process. This is another dead horse beat to death a few months ago when someone ranted on about moving from SVN go Git. Technically I think SVN can be considered a web service with a published API.
>>>>>>> 
>>>>>>> P-
>>>>>>> 
>>>>>>> 
>>>>>>> _______________________________________________
>>>>>>> wp-hackers mailing list
>>>>>>> wp-hackers at lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>> 
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mike at etchsoftware.com  Wed Nov  2 08:15:23 2011
From: mike at etchsoftware.com (Mike Bijon)
Date: Wed, 2 Nov 2011 01:15:23 -0700
Subject: [wp-hackers] Reviews for Plugins
Message-ID: <CABwjQBxScPO_8_w91UwqZ6h_Vizw3wv96=LHL2Ycmx8j94DeQA@mail.gmail.com>

The plugin API doesn't have much available info, and it needs enhancements
or you'll need to spider the whole thing to know what changes. Here's a
sample echo-to-screen implementation to sniff around with:
https://gist.github.com/1332406

As for building a better plugin rating system, someone mentioned DSP's.
They're usually slow (and worse in PHP), but worth trying if we can get
data to work with.

Does anyone on the core team (dd32 since he built this API?) know if the
votes could be anonymized & exported? We'd really just need to plugin ID,
vote score, and date -- totally anon.

-Mike

From ryan.frankel at gmail.com  Wed Nov  2 08:26:22 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Wed, 2 Nov 2011 04:26:22 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <CABwjQBxScPO_8_w91UwqZ6h_Vizw3wv96=LHL2Ycmx8j94DeQA@mail.gmail.com>
References: <CABwjQBxScPO_8_w91UwqZ6h_Vizw3wv96=LHL2Ycmx8j94DeQA@mail.gmail.com>
Message-ID: <829AE433-D112-4C21-9D93-3C932D3B230C@gmail.com>

Mike,
  Here is my shot at the same thing. https://gist.github.com/1333172

  This will take all of the Plugin database and import it into a table in a wp install.  

 ryan


On Nov 2, 2011, at 4:15 AM, Mike Bijon wrote:

> The plugin API doesn't have much available info, and it needs enhancements
> or you'll need to spider the whole thing to know what changes. Here's a
> sample echo-to-screen implementation to sniff around with:
> https://gist.github.com/1332406
> 
> As for building a better plugin rating system, someone mentioned DSP's.
> They're usually slow (and worse in PHP), but worth trying if we can get
> data to work with.
> 
> Does anyone on the core team (dd32 since he built this API?) know if the
> votes could be anonymized & exported? We'd really just need to plugin ID,
> vote score, and date -- totally anon.
> 
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ryan.frankel at gmail.com  Wed Nov  2 08:43:02 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Wed, 2 Nov 2011 04:43:02 -0400
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <CABwjQBxScPO_8_w91UwqZ6h_Vizw3wv96=LHL2Ycmx8j94DeQA@mail.gmail.com>
References: <CABwjQBxScPO_8_w91UwqZ6h_Vizw3wv96=LHL2Ycmx8j94DeQA@mail.gmail.com>
Message-ID: <663AEEAD-8A94-4B43-918F-629C30F059BF@gmail.com>

Mike,
  I also forgot to mention that by default the API returns the recently updated plugins.  You could do a query for say X number of recent and new plugins every Y minutes and be pretty sure you have overlap and keep everything up-to-date.  Then you only have to dump all of the data a single time.  There is probably a better way to do this but right now that isn't a big deal to me.

  Now that I have all of the data I think I am going to put some thought into what a good rating system will be.  Maybe if I can get something setup that mimics the functionality that an integrated wp.org would a discussion can occur whether it would be useful or not.  I would think I can now have something for everybody to take a look at in a few days if anyone cares lol.

 Ryan

On Nov 2, 2011, at 4:15 AM, Mike Bijon wrote:

> The plugin API doesn't have much available info, and it needs enhancements
> or you'll need to spider the whole thing to know what changes. Here's a
> sample echo-to-screen implementation to sniff around with:
> https://gist.github.com/1332406
> 
> As for building a better plugin rating system, someone mentioned DSP's.
> They're usually slow (and worse in PHP), but worth trying if we can get
> data to work with.
> 
> Does anyone on the core team (dd32 since he built this API?) know if the
> votes could be anonymized & exported? We'd really just need to plugin ID,
> vote score, and date -- totally anon.
> 
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From andycharrington at gmail.com  Wed Nov  2 09:30:26 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Wed, 2 Nov 2011 09:30:26 +0000
Subject: [wp-hackers] Reviews for Plugins
In-Reply-To: <663AEEAD-8A94-4B43-918F-629C30F059BF@gmail.com>
References: <CABwjQBxScPO_8_w91UwqZ6h_Vizw3wv96=LHL2Ycmx8j94DeQA@mail.gmail.com>
	<663AEEAD-8A94-4B43-918F-629C30F059BF@gmail.com>
Message-ID: <58B4BD67-091D-47A0-B381-883A449E0BB1@gmail.com>

That would be amazing Ryan. I'd certainly use it. +1 for efficiency!!

Sent from my iPhone

On 2 Nov 2011, at 08:43, Ryan Frankel <ryan.frankel at gmail.com> wrote:

> Mike,
>  I also forgot to mention that by default the API returns the recently updated plugins.  You could do a query for say X number of recent and new plugins every Y minutes and be pretty sure you have overlap and keep everything up-to-date.  Then you only have to dump all of the data a single time.  There is probably a better way to do this but right now that isn't a big deal to me.
> 
>  Now that I have all of the data I think I am going to put some thought into what a good rating system will be.  Maybe if I can get something setup that mimics the functionality that an integrated wp.org would a discussion can occur whether it would be useful or not.  I would think I can now have something for everybody to take a look at in a few days if anyone cares lol.
> 
> Ryan
> 
> On Nov 2, 2011, at 4:15 AM, Mike Bijon wrote:
> 
>> The plugin API doesn't have much available info, and it needs enhancements
>> or you'll need to spider the whole thing to know what changes. Here's a
>> sample echo-to-screen implementation to sniff around with:
>> https://gist.github.com/1332406
>> 
>> As for building a better plugin rating system, someone mentioned DSP's.
>> They're usually slow (and worse in PHP), but worth trying if we can get
>> data to work with.
>> 
>> Does anyone on the core team (dd32 since he built this API?) know if the
>> votes could be anonymized & exported? We'd really just need to plugin ID,
>> vote score, and date -- totally anon.
>> 
>> -Mike
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From admin at laptoptips.ca  Wed Nov  2 15:28:27 2011
From: admin at laptoptips.ca (Andrew Ozz)
Date: Wed, 02 Nov 2011 08:28:27 -0700
Subject: [wp-hackers] using wp_editor
In-Reply-To: <CAGEuVU2nv4SjsN+qDb9XYNSvTZmk=5c+xwr-f0jzRqsdavb9Pw@mail.gmail.com>
References: <CAGEuVU2nv4SjsN+qDb9XYNSvTZmk=5c+xwr-f0jzRqsdavb9Pw@mail.gmail.com>
Message-ID: <4EB1619B.2050500@laptoptips.ca>

On 01/11/2011 5:10 AM, Steve Taylor wrote:
> Has anyone written a rough guide to using it?

The phpdoc should give enough guidance. Generally you call the 
wp_editor() function where you want the editor to appear. It outputs the 
html and handles all needed pieces to make one/both editors work the 
same way they work on the post edit page.

There's a small test plugin on the ticket too. It has some basic 
examples: 
http://core.trac.wordpress.org/attachment/ticket/17144/test-wp-editor-3.3.php

From tcbarrett at gmail.com  Wed Nov  2 15:51:14 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Wed, 2 Nov 2011 15:51:14 +0000
Subject: [wp-hackers] Building a JSON API style plugin
Message-ID: <CAEgmxaaicsyypygSbehG5=q4+zN948WJMw=rvQCeGBLcWTMaDQ@mail.gmail.com>

I want to add some trivial JSON requests to a site. I'm wondering if there
is a best practice for this. I have various thoughts on this, but nothing
terribly concrete yet.

1. Is template_redirect the best hook point?
2. If I don't want to use the query string (e.g. /api/ticket/1234.json)
will I get caught up in the rewrite system?

My initial version is this:
add_action( 'template_redirect', 'get_ticket' );
function get_ticket(){
  $ticket = get_ticket_details($_GET['ticket']);
  header('Content-Type: application/json');
  echo json_encode($ticket);
  exit(0);
}

Any glaring WordPress issues there? I appreciate there is no sanity or
taint checking, but it seems that WordPress has a lot of tricks under it's
hood and I'm trying not to rewrite the wheel.

-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From johnbillion+wp at gmail.com  Wed Nov  2 15:55:15 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Wed, 2 Nov 2011 15:55:15 +0000
Subject: [wp-hackers] Building a JSON API style plugin
In-Reply-To: <CAEgmxaaicsyypygSbehG5=q4+zN948WJMw=rvQCeGBLcWTMaDQ@mail.gmail.com>
References: <CAEgmxaaicsyypygSbehG5=q4+zN948WJMw=rvQCeGBLcWTMaDQ@mail.gmail.com>
Message-ID: <CAOqAKWABVj3b4Eq9b4UDAGU5O1bF7zwsoQUGEsh6K4Cw3raA4g@mail.gmail.com>

On 2 November 2011 15:51, Tom Barrett <tcbarrett at gmail.com> wrote:
> Any glaring WordPress issues there? I appreciate there is no sanity or
> taint checking, but it seems that WordPress has a lot of tricks under it's
> hood and I'm trying not to rewrite the wheel.

You might be better off implementing a JSON feed using WordPress'
add_feed() function. There are a few existing JSON feed plugins [1]
and they can work for individual objects (eg. singular posts) as well
as archives.

John

[1] http://www.google.co.uk/search?q=wordpress+json+feed

From mikeschinkel at newclarity.net  Wed Nov  2 16:46:15 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 2 Nov 2011 12:46:15 -0400
Subject: [wp-hackers] Building a JSON API style plugin
In-Reply-To: <CAEgmxaaicsyypygSbehG5=q4+zN948WJMw=rvQCeGBLcWTMaDQ@mail.gmail.com>
References: <CAEgmxaaicsyypygSbehG5=q4+zN948WJMw=rvQCeGBLcWTMaDQ@mail.gmail.com>
Message-ID: <313005AF-48BD-48F1-B0B7-403E7AD08602@newclarity.net>

On Nov 2, 2011, at 11:51 AM, Tom Barrett wrote:
> I want to add some trivial JSON requests to a site. I'm wondering if there
> is a best practice for this. I have various thoughts on this, but nothing
> terribly concrete yet.
> 
> 1. Is template_redirect the best hook point?
> 2. If I don't want to use the query string (e.g. /api/ticket/1234.json)
> will I get caught up in the rewrite system?
> 
> My initial version is this:
> add_action( 'template_redirect', 'get_ticket' );
> function get_ticket(){
>  $ticket = get_ticket_details($_GET['ticket']);
>  header('Content-Type: application/json');
>  echo json_encode($ticket);
>  exit(0);
> }
> 
> Any glaring WordPress issues there? I appreciate there is no sanity or
> taint checking, but it seems that WordPress has a lot of tricks under it's
> hood and I'm trying not to rewrite the wheel.

ASSUMING you need to explicitly implement HTTP GET requests instead of POST requests (you can do POST with an existing API in WordPress) and that you don't need security, i.e. that anyone can access the ticket that wants to, here is my take.  Note that this probably needs to be made more robust in a few places regarding encodings; maybe others can help with that?

https://gist.github.com/1334165

Also note that I used an /api/ prefix on the URL and I'm using clean URLs instead of $_GET parameters so your URLs would look like this:

http://example.com/api/ticket/12345

Hope this helps.

-Mike



From otto at ottodestruct.com  Wed Nov  2 17:38:12 2011
From: otto at ottodestruct.com (Otto)
Date: Wed, 2 Nov 2011 12:38:12 -0500
Subject: [wp-hackers] Building a JSON API style plugin
In-Reply-To: <CAEgmxaaicsyypygSbehG5=q4+zN948WJMw=rvQCeGBLcWTMaDQ@mail.gmail.com>
References: <CAEgmxaaicsyypygSbehG5=q4+zN948WJMw=rvQCeGBLcWTMaDQ@mail.gmail.com>
Message-ID: <CAD-FghxMxVmqZLh79QGhiZd5bUzdVUJC+FYMu-YesfZS+CxX+w@mail.gmail.com>

On Wed, Nov 2, 2011 at 10:51 AM, Tom Barrett <tcbarrett at gmail.com> wrote:
> I want to add some trivial JSON requests to a site. I'm wondering if there
> is a best practice for this. I have various thoughts on this, but nothing
> terribly concrete yet.
>
> 1. Is template_redirect the best hook point?
> 2. If I don't want to use the query string (e.g. /api/ticket/1234.json)
> will I get caught up in the rewrite system?

For one-offs and testing and such, I generally implement stuff like
this as a Page Template instead. Then I can create a new Page with the
URL I want, hook it to that template, and you're off and running with
very little code.

If it was something I was putting in a plugin or releasing, then
template_redirect is where I'd generally put it, with some additional
rewrite rules to make the URLs pretty. This is fairly easy to do,
actually. Say you wanted to have the URLs look like /ticket/12345:

add_action('init','ticket_add_rewrite');
function ticket_add_rewrite() {
       global $wp;
       $wp->add_query_var('ticket');
       add_rewrite_rule('ticket/([0-9]+)/?$',
'index.php?ticket=$matches[1]', 'top');
}

Then you visit the permalinks page to make it rebuild the rules, and
voila. You'll get the ticket number with get_query_var('ticket'). So
you'd change to something like this:

add_action( 'template_redirect', 'get_ticket' );
function get_ticket(){
 $ticket_num = get_query_var('ticket');
 if ( empty($ticket_num) ) return;
 $ticket = get_ticket_details($ticket_num);
 header('Content-Type: application/json');
 echo json_encode($ticket);
 exit(0);
}

(note, code written on the fly, might be buggy or not work at all, YMMV)

-Otto

From public.forums at gmail.com  Thu Nov  3 05:03:51 2011
From: public.forums at gmail.com (Marty Fried)
Date: Wed, 2 Nov 2011 22:03:51 -0700
Subject: [wp-hackers] How to make root relative urls work in, , subdomain
In-Reply-To: <4EAF69CA.8090904@gmail.com>
References: <mailman.7683.1320085931.1433.wp-hackers@lists.automattic.com>
	<4EAF69CA.8090904@gmail.com>
Message-ID: <CAH_7fBBEZ_Jaf3otoO-jq9t64E1A1k54-5TeCM=9u6_d+Rh5_w@mail.gmail.com>

I might be completely off base, and this may not be the best way to do
this, but the method I've been using is to make an entry in my hosts file
(on my development system) for a URL ending in ".dev" instead of ".com" for
sites I'm working on - ie, http://example.dev if the real site is
example.com.  Then, I create a virtual domain in Apache to map example.dev
to the directory I'm using, and restart Apache.  It may not be the least
amount of maintenance, but it takes me almost no time to set it up using
cut and paste from a previous entry, and it give me a good simulation of
the final site, with the only difference being I use ".dev" instead of
".com".  The standard Wordpress .htaccess file works with this setup.

If this is a dumb way to do it, I'm open to change, and I apologize.  But
if it's not obvious, and is something that anyone is interested in, I could
post details of the setup.  I use Ubuntu Linux for both my server and my
dev system, fwiw.

-Marty Fried


On Mon, Oct 31, 2011 at 8:38 PM, Ryann Micua <ryannmicua at gmail.com> wrote:

> Hi Marcus,
>
> The rewrite doesn't seem to be working on my local server. But, if you say
> that it's the right then I think it's something wrong with my lamp setup
> I'll look into it. we came up with almost the same rules anyway =) save for
> taking out the domain name and adding flags.
>
>

From Dagan.Henderson at epyllion.com  Thu Nov  3 05:08:17 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Wed, 2 Nov 2011 22:08:17 -0700
Subject: [wp-hackers] How to make root relative urls work in, , subdomain
In-Reply-To: <CAH_7fBBEZ_Jaf3otoO-jq9t64E1A1k54-5TeCM=9u6_d+Rh5_w@mail.gmail.com>
References: <mailman.7683.1320085931.1433.wp-hackers@lists.automattic.com>
	<4EAF69CA.8090904@gmail.com>
	<CAH_7fBBEZ_Jaf3otoO-jq9t64E1A1k54-5TeCM=9u6_d+Rh5_w@mail.gmail.com>
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E2@DC.epyllion.com>

I think that's a pretty typical process, Marty. Nothing wrong with it at all (because it works).


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Marty Fried
Sent: Wednesday, November 02, 2011 10:04 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How to make root relative urls work in, , subdomain

I might be completely off base, and this may not be the best way to do this, but the method I've been using is to make an entry in my hosts file (on my development system) for a URL ending in ".dev" instead of ".com" for sites I'm working on - ie, http://example.dev if the real site is example.com.  Then, I create a virtual domain in Apache to map example.dev to the directory I'm using, and restart Apache.  It may not be the least amount of maintenance, but it takes me almost no time to set it up using cut and paste from a previous entry, and it give me a good simulation of the final site, with the only difference being I use ".dev" instead of ".com".  The standard Wordpress .htaccess file works with this setup.

If this is a dumb way to do it, I'm open to change, and I apologize.  But if it's not obvious, and is something that anyone is interested in, I could post details of the setup.  I use Ubuntu Linux for both my server and my dev system, fwiw.

-Marty Fried


On Mon, Oct 31, 2011 at 8:38 PM, Ryann Micua <ryannmicua at gmail.com> wrote:

> Hi Marcus,
>
> The rewrite doesn't seem to be working on my local server. But, if you 
> say that it's the right then I think it's something wrong with my lamp 
> setup I'll look into it. we came up with almost the same rules anyway 
> =) save for taking out the domain name and adding flags.
>
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From aspratley at gmail.com  Thu Nov  3 05:47:56 2011
From: aspratley at gmail.com (Andrew Spratley)
Date: Thu, 3 Nov 2011 07:47:56 +0200
Subject: [wp-hackers] Building a JSON API style plugin
In-Reply-To: <CAD-FghxMxVmqZLh79QGhiZd5bUzdVUJC+FYMu-YesfZS+CxX+w@mail.gmail.com>
References: <CAEgmxaaicsyypygSbehG5=q4+zN948WJMw=rvQCeGBLcWTMaDQ@mail.gmail.com>
	<CAD-FghxMxVmqZLh79QGhiZd5bUzdVUJC+FYMu-YesfZS+CxX+w@mail.gmail.com>
Message-ID: <CAKNYAgBpSNZpuFr5VzuafAasU4M9519k0g=phu_LtZULqUw1cA@mail.gmail.com>

Does this help http://wordpress.org/extend/plugins/json-api/ ?

On Wed, Nov 2, 2011 at 7:38 PM, Otto <otto at ottodestruct.com> wrote:
> On Wed, Nov 2, 2011 at 10:51 AM, Tom Barrett <tcbarrett at gmail.com> wrote:
>> I want to add some trivial JSON requests to a site. I'm wondering if there
>> is a best practice for this. I have various thoughts on this, but nothing
>> terribly concrete yet.
>>
>> 1. Is template_redirect the best hook point?
>> 2. If I don't want to use the query string (e.g. /api/ticket/1234.json)
>> will I get caught up in the rewrite system?
>
> For one-offs and testing and such, I generally implement stuff like
> this as a Page Template instead. Then I can create a new Page with the
> URL I want, hook it to that template, and you're off and running with
> very little code.
>
> If it was something I was putting in a plugin or releasing, then
> template_redirect is where I'd generally put it, with some additional
> rewrite rules to make the URLs pretty. This is fairly easy to do,
> actually. Say you wanted to have the URLs look like /ticket/12345:
>
> add_action('init','ticket_add_rewrite');
> function ticket_add_rewrite() {
> ? ? ? global $wp;
> ? ? ? $wp->add_query_var('ticket');
> ? ? ? add_rewrite_rule('ticket/([0-9]+)/?$',
> 'index.php?ticket=$matches[1]', 'top');
> }
>
> Then you visit the permalinks page to make it rebuild the rules, and
> voila. You'll get the ticket number with get_query_var('ticket'). So
> you'd change to something like this:
>
> add_action( 'template_redirect', 'get_ticket' );
> function get_ticket(){
> ?$ticket_num = get_query_var('ticket');
> ?if ( empty($ticket_num) ) return;
> ?$ticket = get_ticket_details($ticket_num);
> ?header('Content-Type: application/json');
> ?echo json_encode($ticket);
> ?exit(0);
> }
>
> (note, code written on the fly, might be buggy or not work at all, YMMV)
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From tcbarrett at gmail.com  Thu Nov  3 06:32:53 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Thu, 3 Nov 2011 06:32:53 +0000
Subject: [wp-hackers] Building a JSON API style plugin
In-Reply-To: <CAKNYAgBpSNZpuFr5VzuafAasU4M9519k0g=phu_LtZULqUw1cA@mail.gmail.com>
References: <CAEgmxaaicsyypygSbehG5=q4+zN948WJMw=rvQCeGBLcWTMaDQ@mail.gmail.com>
	<CAD-FghxMxVmqZLh79QGhiZd5bUzdVUJC+FYMu-YesfZS+CxX+w@mail.gmail.com>
	<CAKNYAgBpSNZpuFr5VzuafAasU4M9519k0g=phu_LtZULqUw1cA@mail.gmail.com>
Message-ID: <CAEgmxaaHgsusPNcw=ry6XLjGRpPbMVtQr3WB0OUNrgubFJZ1Bw@mail.gmail.com>

On 3 November 2011 05:47, Andrew Spratley <aspratley at gmail.com> wrote:

> Does this help http://wordpress.org/extend/plugins/json-api/ ?
>

Mmm.. yes and no. :) None of the ticket data is stored in the local
WordPress database, so it can't be too reliant on using wp_posts.


> On Wed, Nov 2, 2011 at 7:38 PM, Otto <otto at ottodestruct.com> wrote:
> > If it was something I was putting in a plugin or releasing, then
> > template_redirect is where I'd generally put it, with some additional
> > rewrite rules to make the URLs pretty. This is fairly easy to do,
> > actually. Say you wanted to have the URLs look like /ticket/12345:
> >
> > add_action('init','ticket_add_rewrite');
> > function ticket_add_rewrite() {
> >       global $wp;
> >       $wp->add_query_var('ticket');
> >       add_rewrite_rule('ticket/([0-9]+)/?$',
> > 'index.php?ticket=$matches[1]', 'top');
> > }
>

I think this is the little gem I'm looking for. That looks really simple
and can easily handle grabbing data from a non WordPress database.

-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From ryannmicua at gmail.com  Thu Nov  3 07:20:37 2011
From: ryannmicua at gmail.com (Ryann Micua)
Date: Thu, 03 Nov 2011 15:20:37 +0800
Subject: [wp-hackers] How to make root relative urls work in, , ,
	subdomain
In-Reply-To: <mailman.8075.1320301975.1433.wp-hackers@lists.automattic.com>
References: <mailman.8075.1320301975.1433.wp-hackers@lists.automattic.com>
Message-ID: <4EB240C5.10204@gmail.com>

not dumb, I use it too. well, almost. I only have one dev url on my box 
http://wp.dev then everything is a subdirectory from there like so:
http://wp.dev/projectname1/, http://wp.dev/projectname2/ I've had no 
problems with wordpress with this setup.

I'm guessing you'll probably have a lot of virtual domains by now? and a 
pretty big hosts file too =) I don't take my old projects "offline" 
which is why I do it the way I'm doing it.

The problem comes up if I'm doing a non-wp project like say I'm just 
converting straight from PSD to html/css. On wp, it's no problem since I 
refer to my assets (css,js) as <?php echo get_template_directory_uri(); 
?>/css/style.css basically an absolute url.

But on non-wp projects, I like to use root relative urls so it's now <a 
href="/page.html"> Unfortunately it doesn't work straight out if your 
root directory is actually a subdirectory of another domain like so 
http://wp.dev/nonwpproject/ because the links will point to 
http://wp.dev/page.html instead of http://wp.dev/nonwpproject/page.html

which is why this thread is here =)

On Thursday, 03 November, 2011 02:32 PM, 
wp-hackers-request at lists.automattic.com wrote:
> I might be completely off base, and this may not be the best way to do
> this, but the method I've been using is to make an entry in my hosts file
> (on my development system) for a URL ending in ".dev" instead of ".com" for
> sites I'm working on - ie,http://example.dev  if the real site is
> example.com.  Then, I create a virtual domain in Apache to map example.dev
> to the directory I'm using, and restart Apache.  It may not be the least
> amount of maintenance, but it takes me almost no time to set it up using
> cut and paste from a previous entry, and it give me a good simulation of
> the final site, with the only difference being I use ".dev" instead of
> ".com".  The standard Wordpress .htaccess file works with this setup.
>
> If this is a dumb way to do it, I'm open to change, and I apologize.  But
> if it's not obvious, and is something that anyone is interested in, I could
> post details of the setup.  I use Ubuntu Linux for both my server and my
> dev system, fwiw.
>
> -Marty Fried

-- 
*Ryann Micua*
/Web Developer/
------------------------------------------------------------------------

Website: /www.pogidude.com/
Skype: /rmicua/
Mobile: /+639169273059/


From adriaan at wewillraakyou.com  Thu Nov  3 10:50:12 2011
From: adriaan at wewillraakyou.com (Adriaan Pelzer)
Date: Thu, 3 Nov 2011 10:50:12 +0000
Subject: [wp-hackers] Building a JSON API style plugin
In-Reply-To: <CAEgmxaaHgsusPNcw=ry6XLjGRpPbMVtQr3WB0OUNrgubFJZ1Bw@mail.gmail.com>
References: <CAEgmxaaicsyypygSbehG5=q4+zN948WJMw=rvQCeGBLcWTMaDQ@mail.gmail.com>
	<CAD-FghxMxVmqZLh79QGhiZd5bUzdVUJC+FYMu-YesfZS+CxX+w@mail.gmail.com>
	<CAKNYAgBpSNZpuFr5VzuafAasU4M9519k0g=phu_LtZULqUw1cA@mail.gmail.com>
	<CAEgmxaaHgsusPNcw=ry6XLjGRpPbMVtQr3WB0OUNrgubFJZ1Bw@mail.gmail.com>
Message-ID: <CACR5Wy77rykOsO5+BR7agAPja7JdWfDsE=-GqShWsfgi8pa4=w@mail.gmail.com>

I usually implement a simple json api as one or more custom post types.

There are many different approaches to this. You can implement an entire
API in a single post type (and its corresponding php template) using $_GET,
$_POST, etc parameters, or you can organise it a bit more.

In a nutshell:

   1. Create a custom post type per call
   2. Create a post per resource (keep in mind its easy to automate this)
   3. Implement the JSON output in the single-<postslug>.php template file
   4. You can use the archive-<postslug>.php file for overview or "listing"
   calls

Example:

   1. custom post type: tickets
   2. Archive - returns list of tickets
   3. Single - returns details of a single ticket

You get the idea ...

Adriaan Pelzer

putting you in touch with your crowds
http://www.wewillraakyou.com
<http://www.wewillraakyou.com>twitter: http://www.twitter.com/adriaan_pelzer
linkedIn: http://uk.linkedin.com/pub/adriaan-pelzer/4/874/860/
skype: adriaan_pelzer
<http://uk.linkedin.com/pub/adriaan-pelzer/4/874/860/>
+4478 7978 1743



On Thu, Nov 3, 2011 at 6:32 AM, Tom Barrett <tcbarrett at gmail.com> wrote:

> On 3 November 2011 05:47, Andrew Spratley <aspratley at gmail.com> wrote:
>
> > Does this help http://wordpress.org/extend/plugins/json-api/ ?
> >
>
> Mmm.. yes and no. :) None of the ticket data is stored in the local
> WordPress database, so it can't be too reliant on using wp_posts.
>
>
> > On Wed, Nov 2, 2011 at 7:38 PM, Otto <otto at ottodestruct.com> wrote:
> > > If it was something I was putting in a plugin or releasing, then
> > > template_redirect is where I'd generally put it, with some additional
> > > rewrite rules to make the URLs pretty. This is fairly easy to do,
> > > actually. Say you wanted to have the URLs look like /ticket/12345:
> > >
> > > add_action('init','ticket_add_rewrite');
> > > function ticket_add_rewrite() {
> > >       global $wp;
> > >       $wp->add_query_var('ticket');
> > >       add_rewrite_rule('ticket/([0-9]+)/?$',
> > > 'index.php?ticket=$matches[1]', 'top');
> > > }
> >
>
> I think this is the little gem I'm looking for. That looks really simple
> and can easily handle grabbing data from a non WordPress database.
>
> --
> http://www.tcbarrett.com | http://gplus.to/tcbarrett |
> http://twitter.com/tcbarrett
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From burobjorn at gmail.com  Thu Nov  3 14:45:35 2011
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Thu, 03 Nov 2011 15:45:35 +0100
Subject: [wp-hackers] Does a widget save hook exist or do I need to create a
 ticket in Trac?
Message-ID: <4EB2A90F.8070803@gmail.com>

Hi,

I'm looking for a hook to use just after a widget has saved it's options.

For example:
I have a widget W whose options I have changed in the 
Appearance->Widgets screen. I press save and after the save a hook H is 
being called. My code hooks into the hook and does its thing.

Usage:
Clearing a site transient which is set in site X and also being used in 
all the other sites of my WordPress Multisite installation. Basically it 
saves me from (ab)using switch_to_blog()

I've used the 'widget_update_callback' which in fact is called before 
the update (is this a bug or feature?) as well as the 
'widget_form_callback', which gets called repeatedly something I would 
like to prevent. Any ideas for a better hook to use?

Afaik there is not (yet?) a hook directly after saving a widget's 
options. Or is there? If not shall I create a ticket for this?

Thanks in advance,

grtz
BjornW

From Marcus.Pope at springbox.com  Thu Nov  3 15:37:13 2011
From: Marcus.Pope at springbox.com (Marcus Pope)
Date: Thu, 3 Nov 2011 11:37:13 -0400
Subject: [wp-hackers] How to make root relative urls work in, , subdomain
In-Reply-To: <BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E2@DC.epyllion.com>
References: <mailman.7683.1320085931.1433.wp-hackers@lists.automattic.com>
	<4EAF69CA.8090904@gmail.com>
	<CAH_7fBBEZ_Jaf3otoO-jq9t64E1A1k54-5TeCM=9u6_d+Rh5_w@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E2@DC.epyllion.com>
Message-ID: <4C9C70943A019D44B90BF87BB445B2DFDAE2FE3789@RSWMAIL1.dgs.dgsystems.com>

Marty - it is a very good solution for a good percentage of people (I hate to say majority because mobile devices are becoming so popular,) but if you have to browse or manage your dev site via your iPhone or Android device you'll find that there are no options for editing your hosts files on those platforms (well, you can on android if you jailbreak/root the device.)

In those cases you have to rely on a more robust approach using a higher-end wifi router that allows you do make network wide mappings, or customize it with a local network dns address (and then you have to build and manage your own dns server.)  Many home and small business wifi routers do not give you these options, and in this case you are left with pushing to production before you can test any work on a mobile platform.

But it's a good, quick option indeed when you can get away with it.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Dagan Henderson
Sent: Thursday, November 03, 2011 12:08 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How to make root relative urls work in, , subdomain

I think that's a pretty typical process, Marty. Nothing wrong with it at all (because it works).


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Marty Fried
Sent: Wednesday, November 02, 2011 10:04 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How to make root relative urls work in, , subdomain

I might be completely off base, and this may not be the best way to do this, but the method I've been using is to make an entry in my hosts file (on my development system) for a URL ending in ".dev" instead of ".com" for sites I'm working on - ie, http://example.dev if the real site is example.com.  Then, I create a virtual domain in Apache to map example.dev to the directory I'm using, and restart Apache.  It may not be the least amount of maintenance, but it takes me almost no time to set it up using cut and paste from a previous entry, and it give me a good simulation of the final site, with the only difference being I use ".dev" instead of ".com".  The standard Wordpress .htaccess file works with this setup.

If this is a dumb way to do it, I'm open to change, and I apologize.  But if it's not obvious, and is something that anyone is interested in, I could post details of the setup.  I use Ubuntu Linux for both my server and my dev system, fwiw.

-Marty Fried


On Mon, Oct 31, 2011 at 8:38 PM, Ryann Micua <ryannmicua at gmail.com> wrote:

> Hi Marcus,
>
> The rewrite doesn't seem to be working on my local server. But, if you 
> say that it's the right then I think it's something wrong with my lamp 
> setup I'll look into it. we came up with almost the same rules anyway
> =) save for taking out the domain name and adding flags.
>
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From eric at eam.me  Thu Nov  3 15:46:26 2011
From: eric at eam.me (Eric Mann)
Date: Thu, 3 Nov 2011 08:46:26 -0700
Subject: [wp-hackers] Does a widget save hook exist or do I need to
 create a ticket in Trac?
In-Reply-To: <4EB2A90F.8070803@gmail.com>
References: <4EB2A90F.8070803@gmail.com>
Message-ID: <CAEi=p53sFBmRGp+WYRSW7QGfuY5_F1-X7rPRgzB68LoaS1z4sA@mail.gmail.com>

If this widget is your own widget, you can add your own hook to the
`update()` method of the widget class.

Your other option is to hook into the 'update_option' action directly.

When you save a widget's options it does the following:

   1. Processing for the actual widget
   2. Calling apply_filters<http://phpxref.ftwr.co.uk/wordpress/_functions/apply_filters.html>('widget_update_callback',
   $instance <http://phpxref.ftwr.co.uk/wordpress/_variables/instance.html>,
   $new_instance<http://phpxref.ftwr.co.uk/wordpress/_variables/new_instance.html>,
   $old_instance<http://phpxref.ftwr.co.uk/wordpress/_variables/old_instance.html>,
   $this <http://phpxref.ftwr.co.uk/wordpress/_variables/this.html>);
   3. Calling $this<http://phpxref.ftwr.co.uk/wordpress/_variables/this.html>
   ->save_settings<http://phpxref.ftwr.co.uk/wordpress/_functions/save_settings.html>
   ($all_instances<http://phpxref.ftwr.co.uk/wordpress/_variables/all_instances.html>);
   To save the settings of all instances of that widget.
   4. save_settings() calls update_option() ... code below:

function save_settings
<http://phpxref.ftwr.co.uk/wordpress/_functions/save_settings.html>($settings
<http://phpxref.ftwr.co.uk/wordpress/_variables/settings.html>) {
$settings <http://phpxref.ftwr.co.uk/wordpress/_variables/settings.html>['_multiwidget']
= 1;  update_option
<http://phpxref.ftwr.co.uk/wordpress/_functions/update_option.html>(
$this <http://phpxref.ftwr.co.uk/wordpress/_variables/this.html>->option_name
<http://phpxref.ftwr.co.uk/wordpress/_variables/option_name.html>,
$settings <http://phpxref.ftwr.co.uk/wordpress/_variables/settings.html>
);
}

So you *should* be able to hook into the regular update hooks just fine ...

On Thu, Nov 3, 2011 at 7:45 AM, Bjorn Wijers <burobjorn at gmail.com> wrote:

> Hi,
>
> I'm looking for a hook to use just after a widget has saved it's options.
>
> For example:
> I have a widget W whose options I have changed in the Appearance->Widgets
> screen. I press save and after the save a hook H is being called. My code
> hooks into the hook and does its thing.
>
> Usage:
> Clearing a site transient which is set in site X and also being used in
> all the other sites of my WordPress Multisite installation. Basically it
> saves me from (ab)using switch_to_blog()
>
> I've used the 'widget_update_callback' which in fact is called before the
> update (is this a bug or feature?) as well as the 'widget_form_callback',
> which gets called repeatedly something I would like to prevent. Any ideas
> for a better hook to use?
>
> Afaik there is not (yet?) a hook directly after saving a widget's options.
> Or is there? If not shall I create a ticket for this?
>
> Thanks in advance,
>
> grtz
> BjornW
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From Dagan.Henderson at epyllion.com  Thu Nov  3 16:00:46 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Thu, 3 Nov 2011 09:00:46 -0700
Subject: [wp-hackers] How to make root relative urls work in, , subdomain
In-Reply-To: <4C9C70943A019D44B90BF87BB445B2DFDAE2FE3789@RSWMAIL1.dgs.dgsystems.com>
References: <mailman.7683.1320085931.1433.wp-hackers@lists.automattic.com>
	<4EAF69CA.8090904@gmail.com>
	<CAH_7fBBEZ_Jaf3otoO-jq9t64E1A1k54-5TeCM=9u6_d+Rh5_w@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E2@DC.epyllion.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE2FE3789@RSWMAIL1.dgs.dgsystems.com>
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E6@DC.epyllion.com>

I don't think testing on mobile devices is as complicated as you make it sound, Marcus. In fact, so long as you have WiFi connectivity to the local network, I can think of a variety of ways, sans jailbreaking (and yes, I know that was originally my suggestion ;-) ).

Let's say the site will eventually reside at http://mynewsite.com/, but for right now we don't need to have anything there. In that case, store the private network address in the public DNS. If you're within the local network, it works. If you're not, you get a destination-unreachable error.

If you want a more graceful solution, you could setup the dev.myawesomecompany.com in the same way and configure a reverse proxy internally to translate dev.myawesomecompany.com/myclient to myclient.dev.


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Marcus Pope
Sent: Thursday, November 03, 2011 8:37 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How to make root relative urls work in, , subdomain

Marty - it is a very good solution for a good percentage of people (I hate to say majority because mobile devices are becoming so popular,) but if you have to browse or manage your dev site via your iPhone or Android device you'll find that there are no options for editing your hosts files on those platforms (well, you can on android if you jailbreak/root the device.)

In those cases you have to rely on a more robust approach using a higher-end wifi router that allows you do make network wide mappings, or customize it with a local network dns address (and then you have to build and manage your own dns server.)  Many home and small business wifi routers do not give you these options, and in this case you are left with pushing to production before you can test any work on a mobile platform.

But it's a good, quick option indeed when you can get away with it.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Dagan Henderson
Sent: Thursday, November 03, 2011 12:08 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How to make root relative urls work in, , subdomain

I think that's a pretty typical process, Marty. Nothing wrong with it at all (because it works).


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Marty Fried
Sent: Wednesday, November 02, 2011 10:04 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How to make root relative urls work in, , subdomain

I might be completely off base, and this may not be the best way to do this, but the method I've been using is to make an entry in my hosts file (on my development system) for a URL ending in ".dev" instead of ".com" for sites I'm working on - ie, http://example.dev if the real site is example.com.  Then, I create a virtual domain in Apache to map example.dev to the directory I'm using, and restart Apache.  It may not be the least amount of maintenance, but it takes me almost no time to set it up using cut and paste from a previous entry, and it give me a good simulation of the final site, with the only difference being I use ".dev" instead of ".com".  The standard Wordpress .htaccess file works with this setup.

If this is a dumb way to do it, I'm open to change, and I apologize.  But if it's not obvious, and is something that anyone is interested in, I could post details of the setup.  I use Ubuntu Linux for both my server and my dev system, fwiw.

-Marty Fried


On Mon, Oct 31, 2011 at 8:38 PM, Ryann Micua <ryannmicua at gmail.com> wrote:

> Hi Marcus,
>
> The rewrite doesn't seem to be working on my local server. But, if you 
> say that it's the right then I think it's something wrong with my lamp 
> setup I'll look into it. we came up with almost the same rules anyway
> =) save for taking out the domain name and adding flags.
>
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From caiorogerio at gmail.com  Thu Nov  3 16:13:12 2011
From: caiorogerio at gmail.com (Caio Rogerio Ribeiro)
Date: Thu, 3 Nov 2011 14:13:12 -0200
Subject: [wp-hackers] Does a widget save hook exist or do I need to
 create a ticket in Trac?
In-Reply-To: <4EB2A90F.8070803@gmail.com>
References: <4EB2A90F.8070803@gmail.com>
Message-ID: <229158469621554845@unknownmsgid>

Bjorn,

If you want to update this widget for ALL your blogs in a MU/Network,
you could use update_site_option.

Have you tried that?

Caio Rogerio

Enviado via iPhone

Em 03/11/2011, ?s 12:46, Bjorn Wijers <burobjorn at gmail.com> escreveu:

> Hi,
>
> I'm looking for a hook to use just after a widget has saved it's options.
>
> For example:
> I have a widget W whose options I have changed in the Appearance->Widgets screen. I press save and after the save a hook H is being called. My code hooks into the hook and does its thing.
>
> Usage:
> Clearing a site transient which is set in site X and also being used in all the other sites of my WordPress Multisite installation. Basically it saves me from (ab)using switch_to_blog()
>
> I've used the 'widget_update_callback' which in fact is called before the update (is this a bug or feature?) as well as the 'widget_form_callback', which gets called repeatedly something I would like to prevent. Any ideas for a better hook to use?
>
> Afaik there is not (yet?) a hook directly after saving a widget's options. Or is there? If not shall I create a ticket for this?
>
> Thanks in advance,
>
> grtz
> BjornW
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Marcus.Pope at springbox.com  Thu Nov  3 18:57:27 2011
From: Marcus.Pope at springbox.com (Marcus Pope)
Date: Thu, 3 Nov 2011 14:57:27 -0400
Subject: [wp-hackers] How to make root relative urls work in, , subdomain
In-Reply-To: <BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E6@DC.epyllion.com>
References: <mailman.7683.1320085931.1433.wp-hackers@lists.automattic.com>
	<4EAF69CA.8090904@gmail.com>
	<CAH_7fBBEZ_Jaf3otoO-jq9t64E1A1k54-5TeCM=9u6_d+Rh5_w@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E2@DC.epyllion.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE2FE3789@RSWMAIL1.dgs.dgsystems.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E6@DC.epyllion.com>
Message-ID: <9C576054-28D0-4D13-BF3C-D19C34490EA0@springbox.com>

Given that the first option is only possible before the site has been pushed live and the original question was related to hosting old clients indefinitely let's just agree that it's a one time use option. Flipping public dns entries back and forth is a 48hour process that isn't very responsive. But kuddos for thinking outside the box :)

Your second option would work as well, but it requires two not so simple steps. First it requires you to pinhole your dmz built into your network router so the reverse proxy can accept public traffic. This is something that is blocked on many home-use routers that are provided by internet providers (time warner cable will not support your service if you do this with your own wifi router for example.). And secondly it will require you to setup a reverse proxy, something that is expensive and risky without very strong network security knowledge on the windows os, and difficult to setup for many on unix oses. 

Although it's an option it's a pretty insecure option to open up your dev environment to public traffic unless you adhere to standards and guidelines used on production servers, which most people don't do. 

Even still, those ideas are simple in premise but are often difficult for those without network administration experience and the steps to follow will not be a 5 minute install like the wordpress setup process. 

But sure they do work. 

- Marcus

On Nov 3, 2011, at 11:00 AM, "Dagan Henderson" <Dagan.Henderson at epyllion.com> wrote:

> I don't think testing on mobile devices is as complicated as you make it sound, Marcus. In fact, so long as you have WiFi connectivity to the local network, I can think of a variety of ways, sans jailbreaking (and yes, I know that was originally my suggestion ;-) ).
> 
> Let's say the site will eventually reside at http://mynewsite.com/, but for right now we don't need to have anything there. In that case, store the private network address in the public DNS. If you're within the local network, it works. If you're not, you get a destination-unreachable error.
> 
> If you want a more graceful solution, you could setup the dev.myawesomecompany.com in the same way and configure a reverse proxy internally to translate dev.myawesomecompany.com/myclient to myclient.dev.
> 
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Marcus Pope
> Sent: Thursday, November 03, 2011 8:37 AM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] How to make root relative urls work in, , subdomain
> 
> Marty - it is a very good solution for a good percentage of people (I hate to say majority because mobile devices are becoming so popular,) but if you have to browse or manage your dev site via your iPhone or Android device you'll find that there are no options for editing your hosts files on those platforms (well, you can on android if you jailbreak/root the device.)
> 
> In those cases you have to rely on a more robust approach using a higher-end wifi router that allows you do make network wide mappings, or customize it with a local network dns address (and then you have to build and manage your own dns server.)  Many home and small business wifi routers do not give you these options, and in this case you are left with pushing to production before you can test any work on a mobile platform.
> 
> But it's a good, quick option indeed when you can get away with it.
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Dagan Henderson
> Sent: Thursday, November 03, 2011 12:08 AM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] How to make root relative urls work in, , subdomain
> 
> I think that's a pretty typical process, Marty. Nothing wrong with it at all (because it works).
> 
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Marty Fried
> Sent: Wednesday, November 02, 2011 10:04 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] How to make root relative urls work in, , subdomain
> 
> I might be completely off base, and this may not be the best way to do this, but the method I've been using is to make an entry in my hosts file (on my development system) for a URL ending in ".dev" instead of ".com" for sites I'm working on - ie, http://example.dev if the real site is example.com.  Then, I create a virtual domain in Apache to map example.dev to the directory I'm using, and restart Apache.  It may not be the least amount of maintenance, but it takes me almost no time to set it up using cut and paste from a previous entry, and it give me a good simulation of the final site, with the only difference being I use ".dev" instead of ".com".  The standard Wordpress .htaccess file works with this setup.
> 
> If this is a dumb way to do it, I'm open to change, and I apologize.  But if it's not obvious, and is something that anyone is interested in, I could post details of the setup.  I use Ubuntu Linux for both my server and my dev system, fwiw.
> 
> -Marty Fried
> 
> 
> On Mon, Oct 31, 2011 at 8:38 PM, Ryann Micua <ryannmicua at gmail.com> wrote:
> 
>> Hi Marcus,
>> 
>> The rewrite doesn't seem to be working on my local server. But, if you 
>> say that it's the right then I think it's something wrong with my lamp 
>> setup I'll look into it. we came up with almost the same rules anyway
>> =) save for taking out the domain name and adding flags.
>> 
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Dagan.Henderson at epyllion.com  Thu Nov  3 19:33:32 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Thu, 3 Nov 2011 12:33:32 -0700
Subject: [wp-hackers] How to make root relative urls work in, , subdomain
In-Reply-To: <9C576054-28D0-4D13-BF3C-D19C34490EA0@springbox.com>
References: <mailman.7683.1320085931.1433.wp-hackers@lists.automattic.com>
	<4EAF69CA.8090904@gmail.com>
	<CAH_7fBBEZ_Jaf3otoO-jq9t64E1A1k54-5TeCM=9u6_d+Rh5_w@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E2@DC.epyllion.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE2FE3789@RSWMAIL1.dgs.dgsystems.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E6@DC.epyllion.com>
	<9C576054-28D0-4D13-BF3C-D19C34490EA0@springbox.com>
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E01FCE833EB@DC.epyllion.com>

Marcus,

Don't disagree with much you said. I guess it comes down to your own skill set, experience and comfort level.


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Marcus Pope
Sent: Thursday, November 03, 2011 11:57 AM
To: wp-hackers at lists.automattic.com
Cc: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How to make root relative urls work in, , subdomain

Given that the first option is only possible before the site has been pushed live and the original question was related to hosting old clients indefinitely let's just agree that it's a one time use option. Flipping public dns entries back and forth is a 48hour process that isn't very responsive. But kuddos for thinking outside the box :)

Your second option would work as well, but it requires two not so simple steps. First it requires you to pinhole your dmz built into your network router so the reverse proxy can accept public traffic. This is something that is blocked on many home-use routers that are provided by internet providers (time warner cable will not support your service if you do this with your own wifi router for example.). And secondly it will require you to setup a reverse proxy, something that is expensive and risky without very strong network security knowledge on the windows os, and difficult to setup for many on unix oses. 

Although it's an option it's a pretty insecure option to open up your dev environment to public traffic unless you adhere to standards and guidelines used on production servers, which most people don't do. 

Even still, those ideas are simple in premise but are often difficult for those without network administration experience and the steps to follow will not be a 5 minute install like the wordpress setup process. 

But sure they do work. 

- Marcus

On Nov 3, 2011, at 11:00 AM, "Dagan Henderson" <Dagan.Henderson at epyllion.com> wrote:

> I don't think testing on mobile devices is as complicated as you make it sound, Marcus. In fact, so long as you have WiFi connectivity to the local network, I can think of a variety of ways, sans jailbreaking (and yes, I know that was originally my suggestion ;-) ).
> 
> Let's say the site will eventually reside at http://mynewsite.com/, but for right now we don't need to have anything there. In that case, store the private network address in the public DNS. If you're within the local network, it works. If you're not, you get a destination-unreachable error.
> 
> If you want a more graceful solution, you could setup the dev.myawesomecompany.com in the same way and configure a reverse proxy internally to translate dev.myawesomecompany.com/myclient to myclient.dev.
> 
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com 
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Marcus 
> Pope
> Sent: Thursday, November 03, 2011 8:37 AM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] How to make root relative urls work in, , 
> subdomain
> 
> Marty - it is a very good solution for a good percentage of people (I 
> hate to say majority because mobile devices are becoming so popular,) 
> but if you have to browse or manage your dev site via your iPhone or 
> Android device you'll find that there are no options for editing your 
> hosts files on those platforms (well, you can on android if you 
> jailbreak/root the device.)
> 
> In those cases you have to rely on a more robust approach using a higher-end wifi router that allows you do make network wide mappings, or customize it with a local network dns address (and then you have to build and manage your own dns server.)  Many home and small business wifi routers do not give you these options, and in this case you are left with pushing to production before you can test any work on a mobile platform.
> 
> But it's a good, quick option indeed when you can get away with it.
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com 
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Dagan 
> Henderson
> Sent: Thursday, November 03, 2011 12:08 AM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] How to make root relative urls work in, , 
> subdomain
> 
> I think that's a pretty typical process, Marty. Nothing wrong with it at all (because it works).
> 
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com 
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Marty 
> Fried
> Sent: Wednesday, November 02, 2011 10:04 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] How to make root relative urls work in, , 
> subdomain
> 
> I might be completely off base, and this may not be the best way to do this, but the method I've been using is to make an entry in my hosts file (on my development system) for a URL ending in ".dev" instead of ".com" for sites I'm working on - ie, http://example.dev if the real site is example.com.  Then, I create a virtual domain in Apache to map example.dev to the directory I'm using, and restart Apache.  It may not be the least amount of maintenance, but it takes me almost no time to set it up using cut and paste from a previous entry, and it give me a good simulation of the final site, with the only difference being I use ".dev" instead of ".com".  The standard Wordpress .htaccess file works with this setup.
> 
> If this is a dumb way to do it, I'm open to change, and I apologize.  But if it's not obvious, and is something that anyone is interested in, I could post details of the setup.  I use Ubuntu Linux for both my server and my dev system, fwiw.
> 
> -Marty Fried
> 
> 
> On Mon, Oct 31, 2011 at 8:38 PM, Ryann Micua <ryannmicua at gmail.com> wrote:
> 
>> Hi Marcus,
>> 
>> The rewrite doesn't seem to be working on my local server. But, if 
>> you say that it's the right then I think it's something wrong with my 
>> lamp setup I'll look into it. we came up with almost the same rules 
>> anyway
>> =) save for taking out the domain name and adding flags.
>> 
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From otto at ottodestruct.com  Thu Nov  3 19:48:13 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 3 Nov 2011 14:48:13 -0500
Subject: [wp-hackers] How to make root relative urls work in, , subdomain
In-Reply-To: <9C576054-28D0-4D13-BF3C-D19C34490EA0@springbox.com>
References: <mailman.7683.1320085931.1433.wp-hackers@lists.automattic.com>
	<4EAF69CA.8090904@gmail.com>
	<CAH_7fBBEZ_Jaf3otoO-jq9t64E1A1k54-5TeCM=9u6_d+Rh5_w@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E2@DC.epyllion.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE2FE3789@RSWMAIL1.dgs.dgsystems.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E6@DC.epyllion.com>
	<9C576054-28D0-4D13-BF3C-D19C34490EA0@springbox.com>
Message-ID: <CAD-Fghwt+6X7-QRHrALcNp4rbV+ea2irFf1sAakOwyoC=QqftQ@mail.gmail.com>

On Thu, Nov 3, 2011 at 1:57 PM, Marcus Pope <Marcus.Pope at springbox.com> wrote:
> Flipping public dns entries back and forth is a 48hour process that isn't very responsive.

Just addressing this point. This is not entirely true, however I
understand why you'd think so. Changing a DNS takes about an hour or
so, possibly more depending on your TTL setting.

I wrote a couple articles on this a while back. Here's one:
http://ottopress.com/2010/own-your-dns-because-it-really-does-matter/

The trick is that the "48-hour" you're describing really only applies
to changing your nameservers. If you're just editing DNS entries, then
your TTL setting determines the delay there.

-Otto

From halukkaramete at gmail.com  Thu Nov  3 20:13:52 2011
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Thu, 3 Nov 2011 13:13:52 -0700
Subject: [wp-hackers] execPHP question
In-Reply-To: <D73AF1E2-2290-44F6-955B-B807D184490E@gmail.com>
References: <CABybncimm9yTbkjebG4EwL-Aoq99GyStvctNyWCjVvvT-7cV-w@mail.gmail.com>
	<5A54725D-5E14-4206-9DC2-6BB51B7D435A@gmail.com>
	<CABybncgu0o=09zstXc-6y1Vd=artkpE94kAq+U9dCr+kmwoa4w@mail.gmail.com>
	<CACOUsBXTChQEDFbqMvR3k+DL0GCFjQPB6NxgiNnBddSQK+oF0Q@mail.gmail.com>
	<D73AF1E2-2290-44F6-955B-B807D184490E@gmail.com>
Message-ID: <CAHERW=1GwKceTXRvvJ9d5eUn6rwW+pBVAmCc+dzKX4AU3NE7BQ@mail.gmail.com>

Yes. This advise was right on the money.

so, this one works;
 [?php global $post; echo ("postid=" . $post->ID ); ?]

and this does not.
[?php global $post ?]
[? echo ("postid=" . $post->ID ); ?]

something to know about the way execPHP works..

Thank you Claude!

On Tue, Nov 1, 2011 at 9:18 AM, Andy Charrington-Wilden
<andycharrington at gmail.com> wrote:
> Good point yes. You'll need to wrap the global $post in the tags too.
>
>
> On 1 Nov 2011, at 16:03, Claude Needham wrote:
>
>> The actually insert does not use <?php etc. does it?
>> If you are doing your insert something like:
>>
>> [?php global $post; ?]
>>
>> [?php echo ("postid=" . $post->ID ); ?]
>>
>> I would experiment with the following insert:
>>
>> [?php global $post; echo ("postid=" . $post->ID ); ?]
>>
>>
>> Claude
>>
>> On Tue, Nov 1, 2011 at 4:02 AM, IC IC <icwordpress at gmail.com> wrote:
>>> I added it but results have not changed. right now, I have this... the
>>> value does not get outputted! Echo outputs only what's in the " ".
>>>
>>> <?php
>>> ?global $post;
>>> ?>
>>>
>>> <?php the_post();?>
>>> <hr>
>>> <?php echo ("postid=" . $post->ID ); ?>
>>> <hr>
>>> <?php echo ("the id is=" . the_ID() ) ; ?>
>>> <hr>
>>> <?php echo ("gettheid:" . get_the_ID()); ?>
>>> <hr>
>>> <?php
>>> $mypostid = get_the_ID();
>>> echo ( "mypostid:" . $mypostid);
>>> ?>
>>>
>>> <hr>
>>>
>>> <?php
>>> $this_page_id = $wp_query->post->ID;
>>> echo "after wp_query .... " . $this_page_id ;
>>> ?>
>>>
>>> the above code outputs this;
>>>
>>> postid=
>>> ------------------------------
>>> the id is=
>>> ------------------------------
>>> gettheid:
>>> ------------------------------
>>> mypostid:
>>> ------------------------------
>>>
>>> after wp_query ?.
>>>
>>>
>>> On Tue, Nov 1, 2011 at 3:45 AM, Andy Charrington-Wilden <
>>> andycharrington at gmail.com> wrote:
>>>
>>>> Have you added the global $post?
>>>>
>>>> You'll need that to access the post object.
>>>>
>>>> :-)
>>>>
>>>> On 1 Nov 2011, at 10:43, IC IC wrote:
>>>>
>>>>> I got the execPHP plug in installed. no problems with it as far as
>>>>> executing the php code thru the editor... for example, I tried the
>>>>> following the PHP snippet within the WYSIWYG editor and it works...
>>>>>
>>>>> [?php echo get_post_meta(1717, 'Ref', true); ?]
>>>>>
>>>>> it outputs the value stored within the custom field titled REF. And the
>>>>> 1717 happens to be the current post id of the post I was editing.
>>>>>
>>>>> but, whenever I tried to access post related data ( usually available in
>>>>> the wordpress loop ), nothing gets outputted. for example, the following
>>>>> produces nothing...
>>>>>
>>>>> [?php echo ("postid=" . $post->ID ); ?]
>>>>>
>>>>> Within the WYSIWYG editor, even the the_ID() outputs nothing. I thought,
>>>> we
>>>>> were still in the wordpress loop and I could tap into any post related
>>>> data
>>>>> at the moment.
>>>>>
>>>>> my goal was to replace the [?php echo get_post_meta(1717, 'Ref',
>>>>> true); ?]with [?php
>>>>> echo get_post_meta($post->ID, 'Ref', true); ?]
>>>>>
>>>>> What am I doing wrong?
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From gxxaxx at gmail.com  Thu Nov  3 20:34:41 2011
From: gxxaxx at gmail.com (Claude Needham)
Date: Thu, 3 Nov 2011 13:34:41 -0700
Subject: [wp-hackers] execPHP question
In-Reply-To: <CAHERW=1GwKceTXRvvJ9d5eUn6rwW+pBVAmCc+dzKX4AU3NE7BQ@mail.gmail.com>
References: <CABybncimm9yTbkjebG4EwL-Aoq99GyStvctNyWCjVvvT-7cV-w@mail.gmail.com>
	<5A54725D-5E14-4206-9DC2-6BB51B7D435A@gmail.com>
	<CABybncgu0o=09zstXc-6y1Vd=artkpE94kAq+U9dCr+kmwoa4w@mail.gmail.com>
	<CACOUsBXTChQEDFbqMvR3k+DL0GCFjQPB6NxgiNnBddSQK+oF0Q@mail.gmail.com>
	<D73AF1E2-2290-44F6-955B-B807D184490E@gmail.com>
	<CAHERW=1GwKceTXRvvJ9d5eUn6rwW+pBVAmCc+dzKX4AU3NE7BQ@mail.gmail.com>
Message-ID: <CACOUsBXqAREePMgJUGzS6rq7X0iWNpJbZV=E7pWOV0Uz-PYb1w@mail.gmail.com>

You're welcome. Glad it helped.
I'm still very new to wordpress. Like the framework, but I'm just a newbie.
Course, as they say: sometimes even a blind squirrel will find a nut.

Claude

On Thu, Nov 3, 2011 at 1:13 PM, Haluk Karamete <halukkaramete at gmail.com> wrote:
> Yes. This advise was right on the money.
>
> so, this one works;
> ?[?php global $post; echo ("postid=" . $post->ID ); ?]
>
> and this does not.
> [?php global $post ?]
> [? echo ("postid=" . $post->ID ); ?]
>
> something to know about the way execPHP works..
>
> Thank you Claude!

From pauli.price at gmail.com  Thu Nov  3 20:46:44 2011
From: pauli.price at gmail.com (Pauli Price)
Date: Thu, 03 Nov 2011 16:46:44 -0400
Subject: [wp-hackers] Fixing some SSL cases for 3.4
Message-ID: <CAD875F4.1502C%pauli.price@gmail.com>

Here?s a transcript from #wordpress-dev.  Seeking guidance on how to move
forward with this.  It?s clear that we don?t have a consensus yet.

Discussion happens here, on the wp-hackers?  Or on a trac ticket?
 
Is it appropriate to consolidate these tickets?  If so how?

======== transcript follows ==========

marfarma:
  I'd like to help resolve these related tickets for 3.4 - anybody working
on them? #13941, #15928, #18017, #19023, #18005

trac-bot:
  http://core.trac.wordpress.org/ticket/13941 Future Release,
micropat->ryan, new, WP_CONTENT_URL should use site_url() to support HTTPS /
SSL
  http://core.trac.wordpress.org/ticket/15928 Future Release, atetlaw->(no
owner), assigned, wp_get_attachment_url does not check for HTTPS
  http://core.trac.wordpress.org/ticket/18017 minor, Future Release,
jkudish->jkudish, new, set_url_scheme() function
  http://core.trac.wordpress.org/ticket/19023 high, Awaiting Review,
joostdevalk->nacin, reviewing, Images in Edit Comments break SSL
  http://core.trac.wordpress.org/ticket/18005 minor, Awaiting Review,
rfc1437->(no owner), reopened, mixed http/https installation and
add_custom_background / body_class

nacin:
  That's one chunk of tickets.
  Yeah, I'd definitely like to tackle all of that for 3.4.

marfarma:
  but all the same underlying problem

nacin:
  Indeed.

rboren:
  Fixing those SSL cases and using home_url() everywhere it is needed would
be nice for 3.4.

rboren:
  And, dare I say it, introduce 'relative' as a scheme argument.

marfarma:
  relative -- isn't that a 'live-wire' topic?
  as in 'untouchable'

nacin:
  I'd like to do protocol-independent, at least.
  like //
  anyway,    

(nacin is now known as nacin|afk.)

rboren:
  It'd just be an arg for use by plugin and theme authors. No core movement
to it.  Anyhow, just something we might want to discuss.

AaronCampbell:
  I like the idea of being able to do relative links when it makes sense

iamfriendly:
  where's the "+1 million" button?
  what do you mean I don't get a million votes?

======== transcript ends ==========

Pauli (aka: marfarma)

From peroyomaslists at gmail.com  Thu Nov  3 20:56:58 2011
From: peroyomaslists at gmail.com (=?ISO-8859-1?Q?Andr=E9s_Sanhueza?=)
Date: Thu, 3 Nov 2011 17:56:58 -0300
Subject: [wp-hackers] Difference between 'aside' and 'status' post format?
Message-ID: <CAPnRZcTxukvzm19rhPj87qT+T-d8OcUvP9EG-PE5JhbjCK_-YA@mail.gmail.com>

I have seen this being asked very often. Generally the answer resorts to:

?Aside is a short post without title.
?Status is a *shorter* post without title, a la Facebook and Twitter.

The thing is that I don't see much difference between these two in
order to warrant to be differentiated in the core list. Basically
because I don't see a same site using *both* and most of the time the
only difference are between an "aside/status" and a "standard" blog
post. I believe that the reason it was included was because the P2
theme does support a "status" category (along with "blog post
(standard)", "quote" and "link"), yet is not different of the absent
"aside" as "blog posts (standard)" currently work as those and they
can or not have a title. The only stylistic difference is that status
tend to be attached with an avatar of the user post, but still fells
more like a "conceptual" thing like something that requires a
determinate format (short of like having different formats for "photo"
and "drawing"), I guess.
Anyway, I would like to know if there is an use case (WordPress or
not) where "aside", "status" and "standard" are used.

From justin at justintadlock.com  Fri Nov  4 22:42:13 2011
From: justin at justintadlock.com (Justin Tadlock)
Date: Fri, 04 Nov 2011 17:42:13 -0500
Subject: [wp-hackers] Difference between 'aside' and 'status' post
	format?
In-Reply-To: <CAPnRZcTxukvzm19rhPj87qT+T-d8OcUvP9EG-PE5JhbjCK_-YA@mail.gmail.com>
References: <CAPnRZcTxukvzm19rhPj87qT+T-d8OcUvP9EG-PE5JhbjCK_-YA@mail.gmail.com>
Message-ID: <4EB46A45.3000205@justintadlock.com>

I use aside for short thoughts and thoughts with a link to another 
site.  I use status to update things such as what I'm doing.

Example aside:

"I just don't know what to think about the state of things in America.  
Every party is filled with money-hungry idiots who'll never change 
anything. Oh well."

Example status:

"I'm headed to WordCamp Philly today!  Woo-hoo!"

For me, they have separate uses.  But, one could certainly use a single 
format and do both.

On 11/3/2011 3:56 PM, Andr?s Sanhueza wrote:
> I have seen this being asked very often. Generally the answer resorts to:
>
> ?Aside is a short post without title.
> ?Status is a *shorter* post without title, a la Facebook and Twitter.
>
> The thing is that I don't see much difference between these two in
> order to warrant to be differentiated in the core list. Basically
> because I don't see a same site using *both* and most of the time the
> only difference are between an "aside/status" and a "standard" blog
> post. I believe that the reason it was included was because the P2
> theme does support a "status" category (along with "blog post
> (standard)", "quote" and "link"), yet is not different of the absent
> "aside" as "blog posts (standard)" currently work as those and they
> can or not have a title. The only stylistic difference is that status
> tend to be attached with an avatar of the user post, but still fells
> more like a "conceptual" thing like something that requires a
> determinate format (short of like having different formats for "photo"
> and "drawing"), I guess.
> Anyway, I would like to know if there is an use case (WordPress or
> not) where "aside", "status" and "standard" are used.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From eric at eam.me  Thu Nov  3 23:36:54 2011
From: eric at eam.me (Eric Mann)
Date: Thu, 3 Nov 2011 16:36:54 -0700
Subject: [wp-hackers] Difference between 'aside' and 'status' post
	format?
In-Reply-To: <4EB46A45.3000205@justintadlock.com>
References: <CAPnRZcTxukvzm19rhPj87qT+T-d8OcUvP9EG-PE5JhbjCK_-YA@mail.gmail.com>
	<4EB46A45.3000205@justintadlock.com>
Message-ID: <CAEi=p50DWmOL-LsHn43kRxcX2OwKW73LHUNJFC5GPXjMZ+Lh=g@mail.gmail.com>

Ultimately, it comes down to how you want to use them in your theme.
 There's no *right* way to use them, and there's not even a requirement to
use them at all.

But if you want to support both, Justin's examples are pretty much perfect.

On Fri, Nov 4, 2011 at 3:42 PM, Justin Tadlock <justin at justintadlock.com>wrote:

> I use aside for short thoughts and thoughts with a link to another site.
>  I use status to update things such as what I'm doing.
>
> Example aside:
>
> "I just don't know what to think about the state of things in America.
>  Every party is filled with money-hungry idiots who'll never change
> anything. Oh well."
>
> Example status:
>
> "I'm headed to WordCamp Philly today!  Woo-hoo!"
>
> For me, they have separate uses.  But, one could certainly use a single
> format and do both.
>
>
> On 11/3/2011 3:56 PM, Andr?s Sanhueza wrote:
>
>> I have seen this being asked very often. Generally the answer resorts to:
>>
>> ?Aside is a short post without title.
>> ?Status is a *shorter* post without title, a la Facebook and Twitter.
>>
>> The thing is that I don't see much difference between these two in
>> order to warrant to be differentiated in the core list. Basically
>> because I don't see a same site using *both* and most of the time the
>> only difference are between an "aside/status" and a "standard" blog
>> post. I believe that the reason it was included was because the P2
>> theme does support a "status" category (along with "blog post
>> (standard)", "quote" and "link"), yet is not different of the absent
>> "aside" as "blog posts (standard)" currently work as those and they
>> can or not have a title. The only stylistic difference is that status
>> tend to be attached with an avatar of the user post, but still fells
>> more like a "conceptual" thing like something that requires a
>> determinate format (short of like having different formats for "photo"
>> and "drawing"), I guess.
>> Anyway, I would like to know if there is an use case (WordPress or
>> not) where "aside", "status" and "standard" are used.
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
>>
>>  ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From icwordpress at gmail.com  Fri Nov  4 00:01:51 2011
From: icwordpress at gmail.com (IC IC)
Date: Thu, 3 Nov 2011 17:01:51 -0700
Subject: [wp-hackers] how to add custom taxonomies to the post screen
Message-ID: <CABybncgKjdS9OjQgaV4_BOBfeeNUA61aXGyf6cE=VN12czWvmA@mail.gmail.com>

Hi,
By default, when adding a post, we see on the post screen some categories
box to choose some categories and the tags box to add some tag terms...
I created a few custom taxonomies. How do I make them show on the post
screen?

This is not an issue when you deal with a custom post type. Cause at the
time of post type creation phase, by using the custom post type plugin, you
can just pick and choose from those available custom taxonomies.

From Marcus.Pope at springbox.com  Fri Nov  4 00:08:01 2011
From: Marcus.Pope at springbox.com (Marcus Pope)
Date: Thu, 3 Nov 2011 20:08:01 -0400
Subject: [wp-hackers] How to make root relative urls work in, , subdomain
In-Reply-To: <CAD-Fghwt+6X7-QRHrALcNp4rbV+ea2irFf1sAakOwyoC=QqftQ@mail.gmail.com>
References: <mailman.7683.1320085931.1433.wp-hackers@lists.automattic.com>
	<4EAF69CA.8090904@gmail.com>
	<CAH_7fBBEZ_Jaf3otoO-jq9t64E1A1k54-5TeCM=9u6_d+Rh5_w@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E2@DC.epyllion.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE2FE3789@RSWMAIL1.dgs.dgsystems.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E6@DC.epyllion.com>
	<9C576054-28D0-4D13-BF3C-D19C34490EA0@springbox.com>
	<CAD-Fghwt+6X7-QRHrALcNp4rbV+ea2irFf1sAakOwyoC=QqftQ@mail.gmail.com>
Message-ID: <4C9C70943A019D44B90BF87BB445B2DFDAE2FE390D@RSWMAIL1.dgs.dgsystems.com>

Yeah Otto you're right about that, and 1 hour is the typical case for one's own usage as described in the iphone debugging scenario.  Not everyone is guaranteed to get the update in 1 hour even with a 5 minute ttl because that can be ignored, but then again it's for development testing and it is just a one-time switch in the scenario provided (another mistake on my part.) - so even if it were 48 hours, not much to worry about there either.  

But the whole concept of pinholing your dmz for development is a unique scenario not available to the developer masses depending on their hardware and network provider.

Thanks for keeping me honest! :D

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Otto
Sent: Thursday, November 03, 2011 2:48 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How to make root relative urls work in, , subdomain

On Thu, Nov 3, 2011 at 1:57 PM, Marcus Pope <Marcus.Pope at springbox.com> wrote:
> Flipping public dns entries back and forth is a 48hour process that isn't very responsive.

Just addressing this point. This is not entirely true, however I understand why you'd think so. Changing a DNS takes about an hour or so, possibly more depending on your TTL setting.

I wrote a couple articles on this a while back. Here's one:
http://ottopress.com/2010/own-your-dns-because-it-really-does-matter/

The trick is that the "48-hour" you're describing really only applies to changing your nameservers. If you're just editing DNS entries, then your TTL setting determines the delay there.

-Otto
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From trepmal at gmail.com  Fri Nov  4 00:15:08 2011
From: trepmal at gmail.com (Kailey Lampert)
Date: Thu, 3 Nov 2011 17:15:08 -0700
Subject: [wp-hackers] how to add custom taxonomies to the post screen
In-Reply-To: <CABybncgKjdS9OjQgaV4_BOBfeeNUA61aXGyf6cE=VN12czWvmA@mail.gmail.com>
References: <CABybncgKjdS9OjQgaV4_BOBfeeNUA61aXGyf6cE=VN12czWvmA@mail.gmail.com>
Message-ID: <CAM_T78M9LXEx_X2YrEKRytVx_+MiYD=rQE3LjLPqg-WPphTRdQ@mail.gmail.com>

The second argument of register_taxonomy (
http://codex.wordpress.org/Function_Reference/register_taxonomy) is the
object type, you can pass 'post' there.

register_taxonomy( 'taxonomy_name', array( 'post', 'custom_post_type' ),
$args );

Kailey Lampert
twitter: @trepmal
trepmal at gmail.com



On Thu, Nov 3, 2011 at 5:01 PM, IC IC <icwordpress at gmail.com> wrote:

> Hi,
> By default, when adding a post, we see on the post screen some categories
> box to choose some categories and the tags box to add some tag terms...
> I created a few custom taxonomies. How do I make them show on the post
> screen?
>
> This is not an issue when you deal with a custom post type. Cause at the
> time of post type creation phase, by using the custom post type plugin, you
> can just pick and choose from those available custom taxonomies.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From Marcus.Pope at springbox.com  Fri Nov  4 00:22:14 2011
From: Marcus.Pope at springbox.com (Marcus Pope)
Date: Thu, 3 Nov 2011 20:22:14 -0400
Subject: [wp-hackers] Fixing some SSL cases for 3.4
In-Reply-To: <CAD875F4.1502C%pauli.price@gmail.com>
References: <CAD875F4.1502C%pauli.price@gmail.com>
Message-ID: <4C9C70943A019D44B90BF87BB445B2DFDAE2FE390F@RSWMAIL1.dgs.dgsystems.com>

Oh man, I swear I did *not* just create a new profile with the name Pauli Price!!!

:D

Thanks Pauli, those tickets along with the other 500 or so created/fixed/pending on the subject sure are a pain to deal with.

But I wanted to say there are some webservers that cannot handle scheme-relative urls.  Not sure if wordpress is supported on anything other than apache and iis (which do support them fully) but if there is support for other webserver packages we should be cautious to implement.  

And to be devil's advocate here, there are a number of plugins that do call parse_url on the home_url's returned by wordpress.  And a smaller number of those logic branch on the "scheme" key in the returned hash array.  Granted it will only generate php notices to access the null scheme key, but it could change the logic branch in a detrimental way if scheme-less urls are used.

This little guy has over 25k downloads
http://wordpress.org/extend/plugins/wordpress-https/
As well as some admin/lockout issues raised in the 2.0 launch a couple days ago.  But I'm sure there are others like the BWP-Minify that could see some problems as well.

I have always been an advocate of the argument that it could be problematic for the community, so my concern here is that it's a last minute stake in the 3.3 game, that might need some more heads-up notice to developers if we were to do a scheme-less switch. 

But I have also always been a fall-back supporter of scheme-relative urls if root-relative urls were out of the question.

Thanks!

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Pauli Price
Sent: Thursday, November 03, 2011 3:47 PM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Fixing some SSL cases for 3.4

Here?s a transcript from #wordpress-dev.  Seeking guidance on how to move forward with this.  It?s clear that we don?t have a consensus yet.

Discussion happens here, on the wp-hackers?  Or on a trac ticket?
 
Is it appropriate to consolidate these tickets?  If so how?

======== transcript follows ==========

marfarma:
  I'd like to help resolve these related tickets for 3.4 - anybody working on them? #13941, #15928, #18017, #19023, #18005

trac-bot:
  http://core.trac.wordpress.org/ticket/13941 Future Release,
micropat->ryan, new, WP_CONTENT_URL should use site_url() to support 
micropat->HTTPS /
SSL
  http://core.trac.wordpress.org/ticket/15928 Future Release, atetlaw->(no owner), assigned, wp_get_attachment_url does not check for HTTPS
  http://core.trac.wordpress.org/ticket/18017 minor, Future Release,
jkudish->jkudish, new, set_url_scheme() function
  http://core.trac.wordpress.org/ticket/19023 high, Awaiting Review,
joostdevalk->nacin, reviewing, Images in Edit Comments break SSL
  http://core.trac.wordpress.org/ticket/18005 minor, Awaiting Review,
rfc1437->(no owner), reopened, mixed http/https installation and
add_custom_background / body_class

nacin:
  That's one chunk of tickets.
  Yeah, I'd definitely like to tackle all of that for 3.4.

marfarma:
  but all the same underlying problem

nacin:
  Indeed.

rboren:
  Fixing those SSL cases and using home_url() everywhere it is needed would be nice for 3.4.

rboren:
  And, dare I say it, introduce 'relative' as a scheme argument.

marfarma:
  relative -- isn't that a 'live-wire' topic?
  as in 'untouchable'

nacin:
  I'd like to do protocol-independent, at least.
  like //
  anyway,    

(nacin is now known as nacin|afk.)

rboren:
  It'd just be an arg for use by plugin and theme authors. No core movement to it.  Anyhow, just something we might want to discuss.

AaronCampbell:
  I like the idea of being able to do relative links when it makes sense

iamfriendly:
  where's the "+1 million" button?
  what do you mean I don't get a million votes?

======== transcript ends ==========

Pauli (aka: marfarma)
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From icwordpress at gmail.com  Fri Nov  4 00:50:37 2011
From: icwordpress at gmail.com (IC IC)
Date: Thu, 3 Nov 2011 17:50:37 -0700
Subject: [wp-hackers] questioning the efficiency of using custom post
	types
In-Reply-To: <ec4fce33-bb51-448c-b288-d2ff5fd320dc@c1g2000vbw.googlegroups.com>
References: <CAHERW=1JGNWFd-qsVmiY2C-CLOYW0qQ9ANU2DHGv3D3z2zUxjQ@mail.gmail.com>
	<CABzSYNPMEUo2VA1O2BHpg6BGmfEYy49Yr8NcMuVNgMETJp7RAQ@mail.gmail.com>
	<ec4fce33-bb51-448c-b288-d2ff5fd320dc@c1g2000vbw.googlegroups.com>
Message-ID: <CABybnch0mrjuss+o8=02oq5+Sy5d7uYPHy=O0QF2KN89cBF0nw@mail.gmail.com>

Scott,

One of the differences of using pods vs traditional way is that the post
items are not stored in the wp_posts table. Can you comment a little bit on
pro's and con's on this? One con I see is that those pods' posts would not
be searched by the default search. How do we make sure that a search cover
all cases?

imagine if you have video / audio / and article posts that covers a variety
of subjects from politics to sports..
if implemented the traditional way, one can search for obama and all posts
that has that term in the title or content shows up across all the custom
post types whether they belong to video / audio or post...

if the same information were to be architected using pods, how would such a
search be performed?



now If I search for


On Sun, Oct 30, 2011 at 11:23 AM, Scott Kingsley Clark <scott at skcdev.com>wrote:

> That's right scribu, Pods does just that. Actually, in Pods 2.0 (alpha/
> beta testing coming soon, seems like I've been saying that forever
> now, but also seems like I'm getting delays thrown at me at every
> corner too) we've added the ability to utilize Custom Post Types and
> extend them to their own tables. It uses all the same WP functions you
> would normally use, the data just lives somewhere else and you get the
> huge benefit of the PHP classes we've got within Pods to do some
> powerful lookups and such really easily.
>
> -Scott
>
>
> On Oct 30, 11:33 am, scribu <scr... at gmail.com> wrote:
> > On Sun, Oct 30, 2011 at 6:28 PM, Haluk Karamete <halukkaram... at gmail.com
> >wrote:
> >
> > > what do you say about this approach?
> >
> > > more efficient?
> > > totally useless?
> > > already exists?
> >
> > Already exists:http://wordpress.org/extend/plugins/pods/
> >
> > --http://scribu.net
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hack... at lists.automattic.comhttp://
> lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From caiorogerio at gmail.com  Fri Nov  4 02:26:55 2011
From: caiorogerio at gmail.com (Caio Rogerio Ribeiro)
Date: Fri, 4 Nov 2011 00:26:55 -0200
Subject: [wp-hackers] how to add custom taxonomies to the post screen
In-Reply-To: <CABybncgKjdS9OjQgaV4_BOBfeeNUA61aXGyf6cE=VN12czWvmA@mail.gmail.com>
References: <CABybncgKjdS9OjQgaV4_BOBfeeNUA61aXGyf6cE=VN12czWvmA@mail.gmail.com>
Message-ID: <3315811531106026164@unknownmsgid>

Are you talkin about the admin or the theme?

Enviado via iPhone

Em 03/11/2011, ?s 22:01, IC IC <icwordpress at gmail.com> escreveu:

> Hi,
> By default, when adding a post, we see on the post screen some categories
> box to choose some categories and the tags box to add some tag terms...
> I created a few custom taxonomies. How do I make them show on the post
> screen?
>
> This is not an issue when you deal with a custom post type. Cause at the
> time of post type creation phase, by using the custom post type plugin, you
> can just pick and choose from those available custom taxonomies.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Fri Nov  4 02:55:10 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 3 Nov 2011 22:55:10 -0400
Subject: [wp-hackers] Difference between 'aside' and 'status' post
	format?
In-Reply-To: <CAEi=p50DWmOL-LsHn43kRxcX2OwKW73LHUNJFC5GPXjMZ+Lh=g@mail.gmail.com>
References: <CAPnRZcTxukvzm19rhPj87qT+T-d8OcUvP9EG-PE5JhbjCK_-YA@mail.gmail.com>
	<4EB46A45.3000205@justintadlock.com>
	<CAEi=p50DWmOL-LsHn43kRxcX2OwKW73LHUNJFC5GPXjMZ+Lh=g@mail.gmail.com>
Message-ID: <16AE02C3-6058-47E0-90CC-1711C92A956D@newclarity.net>

On Nov 3, 2011, at 7:36 PM, Eric Mann wrote:
> Ultimately, it comes down to how you want to use them in your theme.
> There's no *right* way to use them, and there's not even a requirement to
> use them at all.

Not at all to pick on Eric, but I have been wanting to vent about a practice that I've notice some themers have started that is a very disconcerting UX.  

I've been noticing that some themers have decided to implement "link" post formats such that in archives and in the RSS feed the post title is used as the anchor text, and the hyperlink on that title is the actual link being published and NOT the permalink of the blog post that uses the "link" post format! 

This approach violates all the experience we have become familiar with in blogs and especially RSS feeds, and can be very confusing when someone sees a link from an RSS feed, clicks the link expecting to be taken to the blog and gets taken elsewhere instead. Where it is especially confusing (and time wasting) is when the user (i.e. me) clicks the link and then switches tasks with plans to read the post later in the day while the blog post loads in the background. But then when I later view my open tabs in my browser I see a page from a web site that I think is just spam so I close it only to later in the day see the RSS feed again and think "Hmm, I never saw that" so I click again, and sometimes task switch after which the cycle continues.

So for the TL;DR crowd, themers PLEASE do not implement themes that break the standard UX for blogs; titles should be hyperlinked with permalinks to the blog post, nothing else. Show explicit link text and/or icon instead. It may seem "cool" but it can be hell on the blog's readers. JMTCW, anyway.

-Mike
P.S. Alex King, I'm looking at you! (for example):  http://alexking.org/blog/2011/11/03/on-the-google-reader-redesign


From caiorogerio at gmail.com  Fri Nov  4 03:07:46 2011
From: caiorogerio at gmail.com (Caio Rogerio Ribeiro)
Date: Fri, 4 Nov 2011 01:07:46 -0200
Subject: [wp-hackers] questioning the efficiency of using custom post
	types
In-Reply-To: <CABybnch0mrjuss+o8=02oq5+Sy5d7uYPHy=O0QF2KN89cBF0nw@mail.gmail.com>
References: <CAHERW=1JGNWFd-qsVmiY2C-CLOYW0qQ9ANU2DHGv3D3z2zUxjQ@mail.gmail.com>
	<CABzSYNPMEUo2VA1O2BHpg6BGmfEYy49Yr8NcMuVNgMETJp7RAQ@mail.gmail.com>
	<ec4fce33-bb51-448c-b288-d2ff5fd320dc@c1g2000vbw.googlegroups.com>
	<CABybnch0mrjuss+o8=02oq5+Sy5d7uYPHy=O0QF2KN89cBF0nw@mail.gmail.com>
Message-ID: <2390116578982099052@unknownmsgid>

For article like content i'm scared to use anything but the core tools
(just plugins to deal with the creation of custom post types)

No one knows how these plugins like pods and others cms plugins will
grow and can lead to big problems of incompatibility with future
features for example...

The advantage on my view is to use features not suported by  WP like
homepages (panels in drupal for example)

For who wants a good UI to deal with custom post types, taxonomies and
fields I recomend more types, more taxonomies and more fields plugins

Enviado via iPhone

Em 03/11/2011, ?s 22:50, IC IC <icwordpress at gmail.com> escreveu:

> http://wordpress.org/extend/plugins/pods/

From matthew at mcgarity.me  Fri Nov  4 03:11:35 2011
From: matthew at mcgarity.me (Matthew McGarity)
Date: Thu, 3 Nov 2011 22:11:35 -0500
Subject: [wp-hackers] Parent/child relationship between two different
	hierarchical CPTs
Message-ID: <CAHuhiC11mh639usO8nd57e5y7FH2bz+Aa0oaGSFa5MG7SW0NbA@mail.gmail.com>

Apologies if this has been answered before -- it's a tricky subject to
search for in the wp-hackers archives.

Using the post_parent field, can you have a parent/child relationship
between two different hierarchical CPTs?

For example, let's say I have two CPTs, whose permalinks might look
something like the following when non-related to one another:

Parks -- http://example.com/parks/yosemite/
Features -- http//example.com/features/half-dome/

When related, could you have a URL like the following?

http://example.com/parks/yosemite/half-dome/

In practice, this doesn't work on our test site, although I believe our
register_post_type() call is correct and we have these properly related via
the post_parent field.

FYI -- before you propose using a custom taxonomy, we were proposing
different CPTs because each would be tracking different custom fields and
display different meta boxes.  We could dynamically display/hide these
based on taxonomy, if needed; I'm still curious about the basic question
above.

Thanks in advance!

MMc...

Matthew McGarity
http://mcgarity.me
@mcgaritydotme

From mikeschinkel at newclarity.net  Fri Nov  4 03:17:21 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 3 Nov 2011 23:17:21 -0400
Subject: [wp-hackers] Parent/child relationship between two different
	hierarchical CPTs
In-Reply-To: <CAHuhiC11mh639usO8nd57e5y7FH2bz+Aa0oaGSFa5MG7SW0NbA@mail.gmail.com>
References: <CAHuhiC11mh639usO8nd57e5y7FH2bz+Aa0oaGSFa5MG7SW0NbA@mail.gmail.com>
Message-ID: <E4A40AA8-0AFC-4CB4-9C7E-D8D2A1CA6E22@newclarity.net>

On Nov 3, 2011, at 11:11 PM, Matthew McGarity wrote:
> Using the post_parent field, can you have a parent/child relationship
> between two different hierarchical CPTs?

Yes.

> For example, let's say I have two CPTs, whose permalinks might look
> something like the following when non-related to one another:
> 
> Parks -- http://example.com/parks/yosemite/
> Features -- http//example.com/features/half-dome/
> 
> When related, could you have a URL like the following?
> 
> http://example.com/parks/yosemite/half-dome/
> 
> In practice, this doesn't work on our test site, although I believe our
> register_post_type() call is correct and we have these properly related via
> the post_parent field.


When you say "we have these properly related via the post_parent field", what did you do to handle that?  (I ask so we can answer your question.)

-Mike

From trepmal at gmail.com  Fri Nov  4 04:31:24 2011
From: trepmal at gmail.com (Kailey Lampert)
Date: Thu, 3 Nov 2011 21:31:24 -0700
Subject: [wp-hackers] how to add custom taxonomies to the post screen
In-Reply-To: <3315811531106026164@unknownmsgid>
References: <CABybncgKjdS9OjQgaV4_BOBfeeNUA61aXGyf6cE=VN12czWvmA@mail.gmail.com>
	<3315811531106026164@unknownmsgid>
Message-ID: <CAM_T78M-M2GQFziBSwQ8C3D7PkMH5RB2Chv9Uksa_ay=rzy4sg@mail.gmail.com>

Adding 'post' makes the custom taxonomy's box appear in the admin.

register_taxonomy( 'taxonomy_name', array( '*post*', 'custom_post_type' ),
$args );

You may also need to have the 'show_ui' parameter in $args set to true.

add_action('init', function() {
register_taxonomy('custom_tax','post',array(
    'label' => 'Custom',
    'show_ui' => true,
    ));
});
Kailey Lampert
twitter: @trepmal
trepmal at gmail.com



On Thu, Nov 3, 2011 at 7:26 PM, Caio Rogerio Ribeiro
<caiorogerio at gmail.com>wrote:

> Are you talkin about the admin or the theme?
>
> Enviado via iPhone
>
> Em 03/11/2011, ?s 22:01, IC IC <icwordpress at gmail.com> escreveu:
>
> > Hi,
> > By default, when adding a post, we see on the post screen some categories
> > box to choose some categories and the tags box to add some tag terms...
> > I created a few custom taxonomies. How do I make them show on the post
> > screen?
> >
> > This is not an issue when you deal with a custom post type. Cause at the
> > time of post type creation phase, by using the custom post type plugin,
> you
> > can just pick and choose from those available custom taxonomies.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From nanogwp at gmail.com  Fri Nov  4 09:37:30 2011
From: nanogwp at gmail.com (Robert Lusby)
Date: Fri, 04 Nov 2011 09:37:30 +0000
Subject: [wp-hackers] Fixing some SSL cases for 3.4
In-Reply-To: <4C9C70943A019D44B90BF87BB445B2DFDAE2FE390F@RSWMAIL1.dgs.dgsystems.com>
References: <CAD875F4.1502C%pauli.price@gmail.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE2FE390F@RSWMAIL1.dgs.dgsystems.com>
Message-ID: <4EB3B25A.5080603@gmail.com>


> nacin:
>    I'd like to do protocol-independent, at least.
>    like //
>    anyway,
>

Wouldn't this break Otto's rule of "full content should always be in the 
database so it can be used anywhere"?

If we start storing URLs as "//" then we can't just use them wherever 
... the URLs will stop working in his books for some people. ;)

Relative URLs please.

R

From matthew at mcgarity.me  Fri Nov  4 12:28:10 2011
From: matthew at mcgarity.me (Matthew McGarity)
Date: Fri, 4 Nov 2011 07:28:10 -0500
Subject: [wp-hackers] Parent/child relationship between two different
 hierarchical CPTs
In-Reply-To: <E4A40AA8-0AFC-4CB4-9C7E-D8D2A1CA6E22@newclarity.net>
References: <CAHuhiC11mh639usO8nd57e5y7FH2bz+Aa0oaGSFa5MG7SW0NbA@mail.gmail.com>
	<E4A40AA8-0AFC-4CB4-9C7E-D8D2A1CA6E22@newclarity.net>
Message-ID: <CAHuhiC13qHs=-asjA+3uxWiYbJ4=QbJmh87twtEMqjzxiaTAFw@mail.gmail.com>

On Thu, Nov 3, 2011 at 10:17 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> On Nov 3, 2011, at 11:11 PM, Matthew McGarity wrote:
> > Using the post_parent field, can you have a parent/child relationship
> > between two different hierarchical CPTs?
>
> Yes.
>
> > For example, let's say I have two CPTs, whose permalinks might look
> > something like the following when non-related to one another:
> >
> > Parks -- http://example.com/parks/yosemite/
> > Features -- http//example.com/features/half-dome/
> >
> > When related, could you have a URL like the following?
> >
> > http://example.com/parks/yosemite/half-dome/
> >
> > In practice, this doesn't work on our test site, although I believe our
> > register_post_type() call is correct and we have these properly related
> via
> > the post_parent field.
>
>
> When you say "we have these properly related via the post_parent field",
> what did you do to handle that?  (I ask so we can answer your question.)
>

@Mike Thanks for the reply. We have a custom metabox on Features, whose
dropdown is a list of the Parks posts we want to use as parents.  Upon
save, we are committing the selected Park's post ID to the Feature's
post_parent field.

MMc...

Matthew McGarity
http://mcgarity.me
@mcgaritydotme <

From mikeschinkel at newclarity.net  Fri Nov  4 12:49:09 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 4 Nov 2011 08:49:09 -0400
Subject: [wp-hackers] Parent/child relationship between two different
	hierarchical CPTs
In-Reply-To: <CAHuhiC13qHs=-asjA+3uxWiYbJ4=QbJmh87twtEMqjzxiaTAFw@mail.gmail.com>
References: <CAHuhiC11mh639usO8nd57e5y7FH2bz+Aa0oaGSFa5MG7SW0NbA@mail.gmail.com>
	<E4A40AA8-0AFC-4CB4-9C7E-D8D2A1CA6E22@newclarity.net>
	<CAHuhiC13qHs=-asjA+3uxWiYbJ4=QbJmh87twtEMqjzxiaTAFw@mail.gmail.com>
Message-ID: <5E63A87F-BBA4-4347-971D-7FD2442DC943@newclarity.net>

On Nov 4, 2011, at 8:28 AM, Matthew McGarity wrote:
> @Mike Thanks for the reply. We have a custom metabox on Features, whose
> dropdown is a list of the Parks posts we want to use as parents.  Upon
> save, we are committing the selected Park's post ID to the Feature's
> post_parent field.

Next question: You say "It doesn't work."  The URL routing?  If yes, what does your reqister_post_type() code look like?  

If not the URL routing, what exactly does not work?

-Mike


From eric at eam.me  Fri Nov  4 16:44:19 2011
From: eric at eam.me (Eric Mann)
Date: Fri, 4 Nov 2011 09:44:19 -0700
Subject: [wp-hackers] Difference between 'aside' and 'status' post
	format?
In-Reply-To: <16AE02C3-6058-47E0-90CC-1711C92A956D@newclarity.net>
References: <CAPnRZcTxukvzm19rhPj87qT+T-d8OcUvP9EG-PE5JhbjCK_-YA@mail.gmail.com>
	<4EB46A45.3000205@justintadlock.com>
	<CAEi=p50DWmOL-LsHn43kRxcX2OwKW73LHUNJFC5GPXjMZ+Lh=g@mail.gmail.com>
	<16AE02C3-6058-47E0-90CC-1711C92A956D@newclarity.net>
Message-ID: <CAEi=p51p4ML7PZmejrMG_p3BEPW7eh7pcYF1LuJV2bcB8uukoQ@mail.gmail.com>

>
> Not at all to pick on Eric, but I have been wanting to vent about a
> practice that I've notice some themers have started that is a very
> disconcerting UX.
>

Pick away :-)  Really, I was just trying to point out that there aren't
rules for how post formats are used, there's just a set of proposed
guidelines and best practices.  So far, I've mostly seen formats used to
add a little icon next to a post that has standard formatting.  That's not
an effective use of the feature IMO, but really secondary to the discussion
we're having here ...


> I've been noticing that some themers have decided to implement "link" post
> formats such that in archives and in the RSS feed the post title is used as
> the anchor text, and the hyperlink on that title is the actual link being
> published and NOT the permalink of the blog post that uses the "link" post
> format!
>

I've seen this, too ... but in a few specific cases I think it's actually
been well done and I'm a proponent of the practice.  That said, the
majority doesn't fit those "few specific cases ..."


> This approach violates all the experience we have become familiar with in
> blogs and especially RSS feeds, and can be very confusing when someone sees
> a link from an RSS feed, clicks the link expecting to be taken to the blog
> and gets taken elsewhere instead. Where it is especially confusing (and
> time wasting) is when the user (i.e. me) clicks the link and then switches
> tasks with plans to read the post later in the day while the blog post
> loads in the background. But then when I later view my open tabs in my
> browser I see a page from a web site that I think is just spam so I close
> it only to later in the day see the RSS feed again and think "Hmm, I never
> saw that" so I click again, and sometimes task switch after which the cycle
> continues.
>

If a link-formatted post is really just a link, I think it's fine.  The
post itself is really just a reference to an external site with a brief
description.  In my RSS reader I'll see the link title and the brief
description ... when I click on it, I expect to see more information.  Just
taking me to the blog post that's exactly the same thing - the link title
and brief description - with maybe a "continue reading" link at the bottom
that actually goes out to the external site adds a step.

Yes, it might be confusing to click a link and switch tasks only to come
back and see a foreign looking blog.  But I find that less annoying than
reading a description, clicking a link, and then being presented with the
exactly same description and being forced to click again.

To me, that's kind of like seeing "Click here to read a great post" ...
clicking it ... then seeing "Are you sure?  Then click here again to read
that really great post"

But if a link-formatted post is really a *post* things are a bit different.
 Some "link" posts (like the one you linked to in your PS) are really blog
posts that reference external content.  They still have the same features
we expect with blog posts - they have their own permalinks, their own
comments, their own social sharing icons, etc.  That's where things break
down, because the link post itself provides content above and beyond "this
is cool, click here."

So if you're allowing comments on your link-formatted posts, or engaging
readers in any way that requires them to use a direct link to that post
from an RSS feed, then I would 100% agree with Mike that you're doing it
wrong.

But if your link posts are really just bookmarks to external content that
you wish to share with your readers, then carry on, because you're doing it
right.

From mikeschinkel at newclarity.net  Fri Nov  4 17:41:25 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 4 Nov 2011 13:41:25 -0400
Subject: [wp-hackers] Difference between 'aside' and 'status' post
	format?
In-Reply-To: <CAEi=p51p4ML7PZmejrMG_p3BEPW7eh7pcYF1LuJV2bcB8uukoQ@mail.gmail.com>
References: <CAPnRZcTxukvzm19rhPj87qT+T-d8OcUvP9EG-PE5JhbjCK_-YA@mail.gmail.com>
	<4EB46A45.3000205@justintadlock.com>
	<CAEi=p50DWmOL-LsHn43kRxcX2OwKW73LHUNJFC5GPXjMZ+Lh=g@mail.gmail.com>
	<16AE02C3-6058-47E0-90CC-1711C92A956D@newclarity.net>
	<CAEi=p51p4ML7PZmejrMG_p3BEPW7eh7pcYF1LuJV2bcB8uukoQ@mail.gmail.com>
Message-ID: <84853E76-7CAF-4D8D-8E91-2188111D8932@newclarity.net>

On Nov 4, 2011, at 12:44 PM, Eric Mann wrote:
> Pick away :-)  

I literally wasn't picking on you, I just happened use your email to reply to.

> If a link-formatted post is really just a link, I think it's fine.  

But since you took that position, now I'll pick on you... :-)

> Yes, it might be confusing to click a link and switch tasks only to come
> back and see a foreign looking blog.  But I find that less annoying than
> reading a description, clicking a link, and then being presented with the
> exactly same description and being forced to click again.

> To me, that's kind of like seeing "Click here to read a great post" ...
> clicking it ... then seeing "Are you sure?  Then click here again to read
> that really great post"


I do agree it is nice to be able to go directly to the page if that is what you want to do.

BUT the issue I'm bringing up is that of setting user expectations, not of user convenience. 

User convenience is actually easy to create -- see my suggestion below -- but if done the way I'm complaining about then expectations fail; it's very easy to not even realize that the only thing they have blogged is a link and not a full post. MUCH better to make it very obvious that it is referring to an external link by displaying it explicitly as an external link AND hyperlinking the post title to an internal permalink in the blog.

Here is an example so I can choose which to click on:

======================

This is Title for my Post with a Post Status of "Link" Hyperlinked to a Local Permalink 
    Here is an External Link Callout: http://link/to/the/external/web/resource/

Here is my commentary for this link. Here is my commentary 
for this link. Here is my commentary for this link. Here is my 
commentary for this link. Here is my commentary for this link.

======================

> But if a link-formatted post is really a *post* things are a bit different.
> Some "link" posts (like the one you linked to in your PS) are really blog
> posts that reference external content.  They still have the same features
> we expect with blog posts - they have their own permalinks, their own
> comments, their own social sharing icons, etc.  That's where things break
> down, because the link post itself provides content above and beyond "this
> is cool, click here."

Agreed that they are more, but I still advocate for linking the title to a local permalink and then providing a separate explicit hyperlink for the external link, for all posts with the "Link" post format.

> So if you're allowing comments on your link-formatted posts, or engaging
> readers in any way that requires them to use a direct link to that post
> from an RSS feed, then I would 100% agree with Mike that you're doing it
> wrong.
> 
> But if your link posts are really just bookmarks to external content that
> you wish to share with your readers, then carry on, because you're doing it
> right.

Not doing it right, see above.  Not #winning.  IMO, anyway. :-)

-Mike


From pauli.price at gmail.com  Fri Nov  4 18:28:00 2011
From: pauli.price at gmail.com (Pauli Price)
Date: Fri, 4 Nov 2011 14:28:00 -0400
Subject: [wp-hackers] Fixing some SSL cases for 3.4
In-Reply-To: <4C9C70943A019D44B90BF87BB445B2DFDAE2FE390F@RSWMAIL1.dgs.dgsystems.com>
References: <CAD875F4.1502C%pauli.price@gmail.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE2FE390F@RSWMAIL1.dgs.dgsystems.com>
Message-ID: <CAMAwOQ8EZtPD4y5tBvEiPrr+zu-Fw4PL_N4ARf5w50Y5i=VsEA@mail.gmail.com>

"last minute stake in the 3.3 game"

This work is targeting 3.4, so not to worry.  The point is to put
http://wordpress.org/extend/plugins/wordpress-https/ out of business,
except for shared SSL certificate support.  That seems like enough of an
edge case that it can be delegated to a plugin.

Pauli


On Thu, Nov 3, 2011 at 8:22 PM, Marcus Pope <Marcus.Pope at springbox.com>wrote:

> Oh man, I swear I did *not* just create a new profile with the name Pauli
> Price!!!
>
> :D
>
> Thanks Pauli, those tickets along with the other 500 or so
> created/fixed/pending on the subject sure are a pain to deal with.
>
> But I wanted to say there are some webservers that cannot handle
> scheme-relative urls.  Not sure if wordpress is supported on anything other
> than apache and iis (which do support them fully) but if there is support
> for other webserver packages we should be cautious to implement.
>
> And to be devil's advocate here, there are a number of plugins that do
> call parse_url on the home_url's returned by wordpress.  And a smaller
> number of those logic branch on the "scheme" key in the returned hash
> array.  Granted it will only generate php notices to access the null scheme
> key, but it could change the logic branch in a detrimental way if
> scheme-less urls are used.
>
> This little guy has over 25k downloads
> http://wordpress.org/extend/plugins/wordpress-https/
> As well as some admin/lockout issues raised in the 2.0 launch a couple
> days ago.  But I'm sure there are others like the BWP-Minify that could see
> some problems as well.
>
> I have always been an advocate of the argument that it could be
> problematic for the community, so my concern here is that it's a last
> minute stake in the 3.3 game, that might need some more heads-up notice to
> developers if we were to do a scheme-less switch.
>
> But I have also always been a fall-back supporter of scheme-relative urls
> if root-relative urls were out of the question.
>
> Thanks!
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:
> wp-hackers-bounces at lists.automattic.com] On Behalf Of Pauli Price
> Sent: Thursday, November 03, 2011 3:47 PM
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Fixing some SSL cases for 3.4
>
> Here?s a transcript from #wordpress-dev.  Seeking guidance on how to move
> forward with this.  It?s clear that we don?t have a consensus yet.
>
> Discussion happens here, on the wp-hackers?  Or on a trac ticket?
>
> Is it appropriate to consolidate these tickets?  If so how?
>
> ======== transcript follows ==========
>
> marfarma:
>  I'd like to help resolve these related tickets for 3.4 - anybody working
> on them? #13941, #15928, #18017, #19023, #18005
>
> trac-bot:
>  http://core.trac.wordpress.org/ticket/13941 Future Release,
> micropat->ryan, new, WP_CONTENT_URL should use site_url() to support
> micropat->HTTPS /
> SSL
>  http://core.trac.wordpress.org/ticket/15928 Future Release, atetlaw->(no
> owner), assigned, wp_get_attachment_url does not check for HTTPS
>  http://core.trac.wordpress.org/ticket/18017 minor, Future Release,
> jkudish->jkudish, new, set_url_scheme() function
>  http://core.trac.wordpress.org/ticket/19023 high, Awaiting Review,
> joostdevalk->nacin, reviewing, Images in Edit Comments break SSL
>  http://core.trac.wordpress.org/ticket/18005 minor, Awaiting Review,
> rfc1437->(no owner), reopened, mixed http/https installation and
> add_custom_background / body_class
>
> nacin:
>  That's one chunk of tickets.
>  Yeah, I'd definitely like to tackle all of that for 3.4.
>
> marfarma:
>  but all the same underlying problem
>
> nacin:
>  Indeed.
>
> rboren:
>  Fixing those SSL cases and using home_url() everywhere it is needed would
> be nice for 3.4.
>
> rboren:
>  And, dare I say it, introduce 'relative' as a scheme argument.
>
> marfarma:
>  relative -- isn't that a 'live-wire' topic?
>  as in 'untouchable'
>
> nacin:
>  I'd like to do protocol-independent, at least.
>  like //
>  anyway,
>
> (nacin is now known as nacin|afk.)
>
> rboren:
>  It'd just be an arg for use by plugin and theme authors. No core movement
> to it.  Anyhow, just something we might want to discuss.
>
> AaronCampbell:
>  I like the idea of being able to do relative links when it makes sense
>
> iamfriendly:
>  where's the "+1 million" button?
>  what do you mean I don't get a million votes?
>
> ======== transcript ends ==========
>
> Pauli (aka: marfarma)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From matthew at mcgarity.me  Fri Nov  4 18:50:21 2011
From: matthew at mcgarity.me (Matthew McGarity)
Date: Fri, 4 Nov 2011 13:50:21 -0500
Subject: [wp-hackers] Parent/child relationship between two different
 hierarchical CPTs
In-Reply-To: <5E63A87F-BBA4-4347-971D-7FD2442DC943@newclarity.net>
References: <CAHuhiC11mh639usO8nd57e5y7FH2bz+Aa0oaGSFa5MG7SW0NbA@mail.gmail.com>
	<E4A40AA8-0AFC-4CB4-9C7E-D8D2A1CA6E22@newclarity.net>
	<CAHuhiC13qHs=-asjA+3uxWiYbJ4=QbJmh87twtEMqjzxiaTAFw@mail.gmail.com>
	<5E63A87F-BBA4-4347-971D-7FD2442DC943@newclarity.net>
Message-ID: <CAHuhiC13REHn+GJXBoBZ7aCsYHwxC+v0WPcUfuuwM2PEWKaO5g@mail.gmail.com>

>
> Next question: You say "It doesn't work."  The URL routing?  If yes, what
> does your reqister_post_type() code look like?
>

$labels = array(
'name' => _x( 'Parks', 'mmc_level1' ),
'singular_name' => _x( 'Park', 'mmc_level1' ),
 'add_new' => _x( 'Add New', 'mmc_level1' ),
'add_new_item' => _x( 'Add New Park', 'mmc_level1' ),
 'all_items' => _x( 'Parks', 'mmc_level1' ),
'edit_item' => _x( 'Edit Park', 'mmc_level1' ),
 'new_item' => _x( 'New Park', 'mmc_level1' ),
'view_item' => _x( 'View Park', 'mmc_level1' ),
 'search_items' => _x( 'Search Parks', 'mmc_level1' ),
'not_found' => _x( 'No Parks found', 'mmc_level1' ),
 'not_found_in_trash' => _x( 'No Parks found in Trash', 'mmc_level1' ),
'parent_item_colon' => _x( 'Parent Park', 'mmc_level1' ),
 'menu_name' => _x( 'Parks', 'mmc_level1' ),
);

$args = array(
'labels' => $labels,
 'hierarchical' => true,
'description' => '',
 'supports' => array( 'title', 'editor', 'author', 'revisions',
'custom-fields', 'comments', 'thumbnail' ),
 'public' => true,
'show_ui' => true,
'show_in_menu' => 'mmc_menu',
 'show_in_nav_menus' => true,
'publicly_queryable' => true,
 'exclude_from_search' => false,
'has_archive' => false,
 'query_var' => true,
'can_export' => true,
'rewrite' => array( 'slug' => 'parks', 'with_front' => false ),
 'capability_type' => 'page'
);

register_post_type( 'mmc_level1', $args );

$labels = array(
'name' => _x( 'Features', 'mmc_level2' ),
'singular_name' => _x( 'Feature', 'mmc_level2' ),
 'add_new' => _x( 'Add New', 'mmc_level2' ),
'add_new_item' => _x( 'Add New Feature', 'mmc_level2' ),
 'all_items' => _x( 'eatures', 'mmc_level2' ),
'edit_item' => _x( 'Edit Feature', 'mmc_level2' ),
 'new_item' => _x( 'New Feature', 'mmc_level2' ),
'view_item' => _x( 'View Feature', 'mmc_level2' ),
 'search_items' => _x( 'Search Features', 'mmc_level2' ),
'not_found' => _x( 'No Features found', 'mmc_level2' ),
 'not_found_in_trash' => _x( 'No Features found in Trash', 'mmc_level2' ),
'parent_item_colon' => _x( 'Parent Feature', 'mmc_level2' ),
 'menu_name' => _x( 'Features', 'mmc_level2' ),
);

$args = array(
'labels' => $labels,
 'hierarchical' => true,
'description' => '',
 'supports' => array( 'title', 'editor', 'author', 'revisions',
'custom-fields', 'comments', 'thumbnail' ),
 'public' => true,
'show_ui' => true,
'show_in_menu' => 'mmc_menu',
 'show_in_nav_menus' => true,
'publicly_queryable' => true,
 'exclude_from_search' => false,
'has_archive' => false,
 'query_var' => true,
'can_export' => true,
'rewrite' => array( 'slug' => 'features', 'with_front' => false ),
 'capability_type' => 'page'
);

register_post_type( 'mmc_level2', $args );

In the above code, I've been playing back and forth with the rewrite
argument, so I couldn't say I'm going down the right path with those.
Everything else seems standard.

If not the URL routing, what exactly does not work?


The URL for the child post is
http://example.com/features/yosemite/half-dome/, not the desired
http://example.com/parks/yosemite/half-dome/.  Both links lead to a 404
error.

From logikal16 at gmail.com  Fri Nov  4 20:27:51 2011
From: logikal16 at gmail.com (logikal16)
Date: Fri, 4 Nov 2011 13:27:51 -0700 (PDT)
Subject: [wp-hackers] questioning the efficiency of using custom post
	types
In-Reply-To: <2390116578982099052@unknownmsgid>
References: <CAHERW=1JGNWFd-qsVmiY2C-CLOYW0qQ9ANU2DHGv3D3z2zUxjQ@mail.gmail.com>
	<CABzSYNPMEUo2VA1O2BHpg6BGmfEYy49Yr8NcMuVNgMETJp7RAQ@mail.gmail.com>
	<ec4fce33-bb51-448c-b288-d2ff5fd320dc@c1g2000vbw.googlegroups.com>
	<CABybnch0mrjuss+o8=02oq5+Sy5d7uYPHy=O0QF2KN89cBF0nw@mail.gmail.com>
	<2390116578982099052@unknownmsgid>
Message-ID: <84a51c3e-6145-483b-83bf-38c80a9405fe@k10g2000yqn.googlegroups.com>

Ah, the age old question of custom tables vs postmeta.

postmeta:
(+) Searchable by default WP search(!)
(+) Uses native WP tables (more future-proof)
(+) Fewer JOINs for queries involving multiple post types
(-) Less efficient storage (separate postmeta row for each field
value, stored as LONGTEXT)

custom tables:
(+) Field types can be enforced by MySQL (INT vs DATETIME)
(+) More efficient storage (instead of all values stored as LONGTEXT)
(+) Faster/fewer queries when querying a single post type
(+) Fewer rows of data per item
(+) Fields can be indexed
(-) Search is NOT automatic. The more custom tables, the more complex
your custom search will become.

For the vast majority of WP sites, the performance difference is
negligible. If you NEED all your content to be searchable, then either
go the postmeta route or prepare to write your own custom search.

If you're using WP to make a custom app (data-heavy, with plenty of
filters), then the custom table approach may be your best bet.

"The K-V version of post meta doesn't scale past a couple hundred
million entries."
If your site had that much data, neither approach would work very
well. At that point, you could try caching, or figure out how to
abstract postmeta to use other DBs (e.g. MongoDB).

Matt

On Nov 3, 11:07?pm, Caio Rogerio Ribeiro <caioroge... at gmail.com>
wrote:
> For article like content i'm scared to use anything but the core tools
> (just plugins to deal with the creation of custom post types)
>
> No one knows how these plugins like pods and others cms plugins will
> grow and can lead to big problems of incompatibility with future
> features for example...
>
> The advantage on my view is to use features not suported by ?WP like
> homepages (panels in drupal for example)
>
> For who wants a good UI to deal with custom post types, taxonomies and
> fields I recomend more types, more taxonomies and more fields plugins
>
> Enviado via iPhone
>
> Em 03/11/2011, ?s 22:50, IC IC <icwordpr... at gmail.com> escreveu:
>
> >http://wordpress.org/extend/plugins/pods/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers

From public.forums at gmail.com  Sat Nov  5 01:38:02 2011
From: public.forums at gmail.com (Marty Fried)
Date: Fri, 4 Nov 2011 18:38:02 -0700
Subject: [wp-hackers] How to make root relative urls work in, , subdomain
In-Reply-To: <4C9C70943A019D44B90BF87BB445B2DFDAE2FE3789@RSWMAIL1.dgs.dgsystems.com>
References: <mailman.7683.1320085931.1433.wp-hackers@lists.automattic.com>
	<4EAF69CA.8090904@gmail.com>
	<CAH_7fBBEZ_Jaf3otoO-jq9t64E1A1k54-5TeCM=9u6_d+Rh5_w@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E2@DC.epyllion.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE2FE3789@RSWMAIL1.dgs.dgsystems.com>
Message-ID: <CAH_7fBDfBoL4MJiK3bcRMLeDtuMnK=JThNBJ7DmjH2fMZBfvsA@mail.gmail.com>

On Thu, Nov 3, 2011 at 8:37 AM, Marcus Pope <Marcus.Pope at springbox.com>wrote:

> Marty - it is a very good solution for a good percentage of people (I hate
> to say majority because mobile devices are becoming so popular,) but if you
> have to browse or manage your dev site via your iPhone or Android device
> you'll find that there are no options for editing your hosts files on those
> platforms (well, you can on android if you jailbreak/root the device.)
>
> In those cases you have to rely on a more robust approach using a
> higher-end wifi router that allows you do make network wide mappings, or
> customize it with a local network dns address (and then you have to build
> and manage your own dns server.)  Many home and small business wifi routers
> do not give you these options, and in this case you are left with pushing
> to production before you can test any work on a mobile platform.
>
> But it's a good, quick option indeed when you can get away with it.
>
> I see.  One way I get around this is using dynDNS.  I have an account that
I pay for, a very small amount that I originally got so I could demo sites
without uploading to a public web site.  One nice feature is that you can
create sub-domains on the fly, and dyndns will automatically send it to the
main domain.  This allows me to set up a virtual domain in apache for the
subdomain, so that it automatically becomes a root-level domain.

I'm fairly low volume so far, but if it gets to be too much trouble, I'd
create a shell script using sed to automatically create and delete entries
in the apache config file (I've been a programmer for many years, but just
started doing web development in the past year or so, so writing scripts is
pretty easy for me).

From mikeschinkel at newclarity.net  Sat Nov  5 23:54:22 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 5 Nov 2011 19:54:22 -0400
Subject: [wp-hackers] Parent/child relationship between two different
	hierarchical CPTs
In-Reply-To: <CAHuhiC13REHn+GJXBoBZ7aCsYHwxC+v0WPcUfuuwM2PEWKaO5g@mail.gmail.com>
References: <CAHuhiC11mh639usO8nd57e5y7FH2bz+Aa0oaGSFa5MG7SW0NbA@mail.gmail.com>
	<E4A40AA8-0AFC-4CB4-9C7E-D8D2A1CA6E22@newclarity.net>
	<CAHuhiC13qHs=-asjA+3uxWiYbJ4=QbJmh87twtEMqjzxiaTAFw@mail.gmail.com>
	<5E63A87F-BBA4-4347-971D-7FD2442DC943@newclarity.net>
	<CAHuhiC13REHn+GJXBoBZ7aCsYHwxC+v0WPcUfuuwM2PEWKaO5g@mail.gmail.com>
Message-ID: <4F051A63-0489-428C-BF23-6489521C1EAA@newclarity.net>

Hi Matthew:

You're going to have to get your hands dirtier if you want more complex URL routing than /%post_type%/%post_name%/.  :-)

Minimally you'll need to use add_rewrite_rule() in the 'init' hook to tell WordPress to route the URL, and also hook both 'request' to validate the URL and 'post_type_link' to output the correct link format for the park features.  To make it robust you probably also want to put in a plugin so you can do your flush_rewrite_rules() in the activation and deactivation hooks instead of putting flush_rewrite_rules() in the standard 'init' hooks.

Anyway, it was probably too complicated to explain so I decided to code it up for you. You can find a working plugin developed for WP 3.3 here:

https://gist.github.com/1342165

Note I couldn't keep mmc_level1 and mmc_level2 post types straight during coding so I renamed them mmm_park and mmc_park_feature in my plugin.

Hope this help.

-Mike
P.S. Just FYI I believe the WordPress URL routing is too much of a PITA so I posted a proof-of-concept for an alternative system on Trac several months ago (which admittedly doesn't yet address the more complex parts of the example I coded up for you):

http://core.trac.wordpress.org/ticket/18276

FWIW, my opinion regarding WordPress' URL routing is not fully shared by everyone on the hackers list.  :-)



On Nov 4, 2011, at 2:50 PM, Matthew McGarity wrote:

>> 
>> Next question: You say "It doesn't work."  The URL routing?  If yes, what
>> does your reqister_post_type() code look like?
>> 
> 
> $labels = array(
> 'name' => _x( 'Parks', 'mmc_level1' ),
> 'singular_name' => _x( 'Park', 'mmc_level1' ),
> 'add_new' => _x( 'Add New', 'mmc_level1' ),
> 'add_new_item' => _x( 'Add New Park', 'mmc_level1' ),
> 'all_items' => _x( 'Parks', 'mmc_level1' ),
> 'edit_item' => _x( 'Edit Park', 'mmc_level1' ),
> 'new_item' => _x( 'New Park', 'mmc_level1' ),
> 'view_item' => _x( 'View Park', 'mmc_level1' ),
> 'search_items' => _x( 'Search Parks', 'mmc_level1' ),
> 'not_found' => _x( 'No Parks found', 'mmc_level1' ),
> 'not_found_in_trash' => _x( 'No Parks found in Trash', 'mmc_level1' ),
> 'parent_item_colon' => _x( 'Parent Park', 'mmc_level1' ),
> 'menu_name' => _x( 'Parks', 'mmc_level1' ),
> );
> 
> $args = array(
> 'labels' => $labels,
> 'hierarchical' => true,
> 'description' => '',
> 'supports' => array( 'title', 'editor', 'author', 'revisions',
> 'custom-fields', 'comments', 'thumbnail' ),
> 'public' => true,
> 'show_ui' => true,
> 'show_in_menu' => 'mmc_menu',
> 'show_in_nav_menus' => true,
> 'publicly_queryable' => true,
> 'exclude_from_search' => false,
> 'has_archive' => false,
> 'query_var' => true,
> 'can_export' => true,
> 'rewrite' => array( 'slug' => 'parks', 'with_front' => false ),
> 'capability_type' => 'page'
> );
> 
> register_post_type( 'mmc_level1', $args );
> 
> $labels = array(
> 'name' => _x( 'Features', 'mmc_level2' ),
> 'singular_name' => _x( 'Feature', 'mmc_level2' ),
> 'add_new' => _x( 'Add New', 'mmc_level2' ),
> 'add_new_item' => _x( 'Add New Feature', 'mmc_level2' ),
> 'all_items' => _x( 'eatures', 'mmc_level2' ),
> 'edit_item' => _x( 'Edit Feature', 'mmc_level2' ),
> 'new_item' => _x( 'New Feature', 'mmc_level2' ),
> 'view_item' => _x( 'View Feature', 'mmc_level2' ),
> 'search_items' => _x( 'Search Features', 'mmc_level2' ),
> 'not_found' => _x( 'No Features found', 'mmc_level2' ),
> 'not_found_in_trash' => _x( 'No Features found in Trash', 'mmc_level2' ),
> 'parent_item_colon' => _x( 'Parent Feature', 'mmc_level2' ),
> 'menu_name' => _x( 'Features', 'mmc_level2' ),
> );
> 
> $args = array(
> 'labels' => $labels,
> 'hierarchical' => true,
> 'description' => '',
> 'supports' => array( 'title', 'editor', 'author', 'revisions',
> 'custom-fields', 'comments', 'thumbnail' ),
> 'public' => true,
> 'show_ui' => true,
> 'show_in_menu' => 'mmc_menu',
> 'show_in_nav_menus' => true,
> 'publicly_queryable' => true,
> 'exclude_from_search' => false,
> 'has_archive' => false,
> 'query_var' => true,
> 'can_export' => true,
> 'rewrite' => array( 'slug' => 'features', 'with_front' => false ),
> 'capability_type' => 'page'
> );
> 
> register_post_type( 'mmc_level2', $args );
> 
> In the above code, I've been playing back and forth with the rewrite
> argument, so I couldn't say I'm going down the right path with those.
> Everything else seems standard.
> 
> If not the URL routing, what exactly does not work?
> 
> 
> The URL for the child post is
> http://example.com/features/yosemite/half-dome/, not the desired
> http://example.com/parks/yosemite/half-dome/.  Both links lead to a 404
> error.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mrwiblog at gmail.com  Sun Nov  6 21:36:20 2011
From: mrwiblog at gmail.com (Chris Taylor - stillbreathing.co.uk)
Date: Sun, 6 Nov 2011 21:36:20 +0000
Subject: [wp-hackers] questioning the efficiency of using custom post
	types
In-Reply-To: <84a51c3e-6145-483b-83bf-38c80a9405fe@k10g2000yqn.googlegroups.com>
References: <CAHERW=1JGNWFd-qsVmiY2C-CLOYW0qQ9ANU2DHGv3D3z2zUxjQ@mail.gmail.com>
	<CABzSYNPMEUo2VA1O2BHpg6BGmfEYy49Yr8NcMuVNgMETJp7RAQ@mail.gmail.com>
	<ec4fce33-bb51-448c-b288-d2ff5fd320dc@c1g2000vbw.googlegroups.com>
	<CABybnch0mrjuss+o8=02oq5+Sy5d7uYPHy=O0QF2KN89cBF0nw@mail.gmail.com>
	<2390116578982099052@unknownmsgid>
	<84a51c3e-6145-483b-83bf-38c80a9405fe@k10g2000yqn.googlegroups.com>
Message-ID: <CAOb_bYbr66FbpnDGNBW=COG_zDyTpZ601esib+DCaWiOWVhu8Q@mail.gmail.com>

Interesting discussion.

If the only downside of using custom tables is records not appearing
in the WP search results (I'm not convinced this is the only
downside), is there a way or has there been any thought put into
allowing plugins to "register" their custom tables with the WP search
system so they are included in any searches? For example
(psuedo-code):

wp_search_register_custom_table_fields( "table_name", array(
"field_1", "field_2"
));

Would give the normal search results *plus* a search of the fields
"field_1" and "field_2" in the "table_name" table. This could be an
option in the plugin, giving site admins the option to include the
custom data in search results.

The psuedo-code above misses out obvious things like the name of
fields to show for the search result URL, title and description.

Chris


On Fri, Nov 4, 2011 at 8:27 PM, logikal16 <logikal16 at gmail.com> wrote:
> Ah, the age old question of custom tables vs postmeta.
>
> postmeta:
> (+) Searchable by default WP search(!)
> (+) Uses native WP tables (more future-proof)
> (+) Fewer JOINs for queries involving multiple post types
> (-) Less efficient storage (separate postmeta row for each field
> value, stored as LONGTEXT)
>
> custom tables:
> (+) Field types can be enforced by MySQL (INT vs DATETIME)
> (+) More efficient storage (instead of all values stored as LONGTEXT)
> (+) Faster/fewer queries when querying a single post type
> (+) Fewer rows of data per item
> (+) Fields can be indexed
> (-) Search is NOT automatic. The more custom tables, the more complex
> your custom search will become.
>
> For the vast majority of WP sites, the performance difference is
> negligible. If you NEED all your content to be searchable, then either
> go the postmeta route or prepare to write your own custom search.
>
> If you're using WP to make a custom app (data-heavy, with plenty of
> filters), then the custom table approach may be your best bet.
>
> "The K-V version of post meta doesn't scale past a couple hundred
> million entries."
> If your site had that much data, neither approach would work very
> well. At that point, you could try caching, or figure out how to
> abstract postmeta to use other DBs (e.g. MongoDB).
>
> Matt
>
> On Nov 3, 11:07?pm, Caio Rogerio Ribeiro <caioroge... at gmail.com>
> wrote:
>> For article like content i'm scared to use anything but the core tools
>> (just plugins to deal with the creation of custom post types)
>>
>> No one knows how these plugins like pods and others cms plugins will
>> grow and can lead to big problems of incompatibility with future
>> features for example...
>>
>> The advantage on my view is to use features not suported by ?WP like
>> homepages (panels in drupal for example)
>>
>> For who wants a good UI to deal with custom post types, taxonomies and
>> fields I recomend more types, more taxonomies and more fields plugins
>>
>> Enviado via iPhone
>>
>> Em 03/11/2011, ?s 22:50, IC IC <icwordpr... at gmail.com> escreveu:
>>
>> >http://wordpress.org/extend/plugins/pods/
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From Dagan.Henderson at epyllion.com  Sun Nov  6 22:26:26 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Sun, 6 Nov 2011 14:26:26 -0800
Subject: [wp-hackers] questioning the efficiency of using custom
	post	types
In-Reply-To: <CAOb_bYbr66FbpnDGNBW=COG_zDyTpZ601esib+DCaWiOWVhu8Q@mail.gmail.com>
References: <CAHERW=1JGNWFd-qsVmiY2C-CLOYW0qQ9ANU2DHGv3D3z2zUxjQ@mail.gmail.com>
	<CABzSYNPMEUo2VA1O2BHpg6BGmfEYy49Yr8NcMuVNgMETJp7RAQ@mail.gmail.com>
	<ec4fce33-bb51-448c-b288-d2ff5fd320dc@c1g2000vbw.googlegroups.com>
	<CABybnch0mrjuss+o8=02oq5+Sy5d7uYPHy=O0QF2KN89cBF0nw@mail.gmail.com>
	<2390116578982099052@unknownmsgid>
	<84a51c3e-6145-483b-83bf-38c80a9405fe@k10g2000yqn.googlegroups.com>
	<CAOb_bYbr66FbpnDGNBW=COG_zDyTpZ601esib+DCaWiOWVhu8Q@mail.gmail.com>
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E06CD05B188@DC.epyllion.com>

> If the only downside of using custom tables is records not appearing in the WP search results (I'm not convinced this is the only downside), is there a way or has there been any thought put into allowing plugins to "register" their custom tables with the WP search system so they are included in any searches?

I'd have to look back at some code to be more specific, but there is a filter that can be used to add additional table columns to the search through OR statements. In other words, it's totally doable.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Chris Taylor - stillbreathing.co.uk
Sent: Sunday, November 06, 2011 1:36 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] questioning the efficiency of using custom post types

Interesting discussion.

If the only downside of using custom tables is records not appearing in the WP search results (I'm not convinced this is the only downside), is there a way or has there been any thought put into allowing plugins to "register" their custom tables with the WP search system so they are included in any searches? For example
(psuedo-code):

wp_search_register_custom_table_fields( "table_name", array( "field_1", "field_2"
));

Would give the normal search results *plus* a search of the fields "field_1" and "field_2" in the "table_name" table. This could be an option in the plugin, giving site admins the option to include the custom data in search results.

The psuedo-code above misses out obvious things like the name of fields to show for the search result URL, title and description.

Chris


On Fri, Nov 4, 2011 at 8:27 PM, logikal16 <logikal16 at gmail.com> wrote:
> Ah, the age old question of custom tables vs postmeta.
>
> postmeta:
> (+) Searchable by default WP search(!)
> (+) Uses native WP tables (more future-proof)
> (+) Fewer JOINs for queries involving multiple post types
> (-) Less efficient storage (separate postmeta row for each field 
> value, stored as LONGTEXT)
>
> custom tables:
> (+) Field types can be enforced by MySQL (INT vs DATETIME)
> (+) More efficient storage (instead of all values stored as LONGTEXT)
> (+) Faster/fewer queries when querying a single post type
> (+) Fewer rows of data per item
> (+) Fields can be indexed
> (-) Search is NOT automatic. The more custom tables, the more complex 
> your custom search will become.
>
> For the vast majority of WP sites, the performance difference is 
> negligible. If you NEED all your content to be searchable, then either 
> go the postmeta route or prepare to write your own custom search.
>
> If you're using WP to make a custom app (data-heavy, with plenty of 
> filters), then the custom table approach may be your best bet.
>
> "The K-V version of post meta doesn't scale past a couple hundred 
> million entries."
> If your site had that much data, neither approach would work very 
> well. At that point, you could try caching, or figure out how to 
> abstract postmeta to use other DBs (e.g. MongoDB).
>
> Matt
>
> On Nov 3, 11:07?pm, Caio Rogerio Ribeiro <caioroge... at gmail.com>
> wrote:
>> For article like content i'm scared to use anything but the core 
>> tools (just plugins to deal with the creation of custom post types)
>>
>> No one knows how these plugins like pods and others cms plugins will 
>> grow and can lead to big problems of incompatibility with future 
>> features for example...
>>
>> The advantage on my view is to use features not suported by ?WP like 
>> homepages (panels in drupal for example)
>>
>> For who wants a good UI to deal with custom post types, taxonomies 
>> and fields I recomend more types, more taxonomies and more fields 
>> plugins
>>
>> Enviado via iPhone
>>
>> Em 03/11/2011, ?s 22:50, IC IC <icwordpr... at gmail.com> escreveu:
>>
>> >http://wordpress.org/extend/plugins/pods/
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/li
>> stinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From will.davis at gmail.com  Sun Nov  6 22:27:28 2011
From: will.davis at gmail.com (William P. Davis)
Date: Sun, 6 Nov 2011 17:27:28 -0500
Subject: [wp-hackers] questioning the efficiency of using custom post
	types
In-Reply-To: <CAOb_bYbr66FbpnDGNBW=COG_zDyTpZ601esib+DCaWiOWVhu8Q@mail.gmail.com>
References: <CAHERW=1JGNWFd-qsVmiY2C-CLOYW0qQ9ANU2DHGv3D3z2zUxjQ@mail.gmail.com>
	<CABzSYNPMEUo2VA1O2BHpg6BGmfEYy49Yr8NcMuVNgMETJp7RAQ@mail.gmail.com>
	<ec4fce33-bb51-448c-b288-d2ff5fd320dc@c1g2000vbw.googlegroups.com>
	<CABybnch0mrjuss+o8=02oq5+Sy5d7uYPHy=O0QF2KN89cBF0nw@mail.gmail.com>
	<2390116578982099052@unknownmsgid>
	<84a51c3e-6145-483b-83bf-38c80a9405fe@k10g2000yqn.googlegroups.com>
	<CAOb_bYbr66FbpnDGNBW=COG_zDyTpZ601esib+DCaWiOWVhu8Q@mail.gmail.com>
Message-ID: <CAJmHdUK6PouQus9nLq5h+U4X3u2ZLJXgDb05oow6isjr0bbTSA@mail.gmail.com>

The custom post types/custom taxonomies/meta data setup is incredibly
powerful. If you don't believe me, look at
http://wordpress.org/extend/plugins/zoninator/ ? no custom tables, all done
using metadata, and it's very efficient.

It all depends on what you're trying to do, but in the huge majority of
cases you're much better off using CPTs than custom tables. As mentioned
before, custom tables can cause problems down the road with
forward-compatibility. When you're talking about joining a dozen or so
extra tables on every page load you're adding a lot of overhead. And lord
forbid if you ever have to hand your code off to someone else.

You should always build your site like someday it will be twice the size it
is now. Take it from someone who used custom tables early on only to find
them horrendously inefficient and hard to maintain down the road: Don't do
it!

From eddie at teamcolab.com  Mon Nov  7 00:14:49 2011
From: eddie at teamcolab.com (Eddie O'Leary)
Date: Sun, 6 Nov 2011 19:14:49 -0500
Subject: [wp-hackers] Future of Web Design
In-Reply-To: <4F051A63-0489-428C-BF23-6489521C1EAA@newclarity.net>
References: <CAHuhiC11mh639usO8nd57e5y7FH2bz+Aa0oaGSFa5MG7SW0NbA@mail.gmail.com>
	<E4A40AA8-0AFC-4CB4-9C7E-D8D2A1CA6E22@newclarity.net>
	<CAHuhiC13qHs=-asjA+3uxWiYbJ4=QbJmh87twtEMqjzxiaTAFw@mail.gmail.com>
	<5E63A87F-BBA4-4347-971D-7FD2442DC943@newclarity.net>
	<CAHuhiC13REHn+GJXBoBZ7aCsYHwxC+v0WPcUfuuwM2PEWKaO5g@mail.gmail.com>
	<4F051A63-0489-428C-BF23-6489521C1EAA@newclarity.net>
Message-ID: <710ABD0D-852D-4641-9862-6F4433031A81@teamcolab.com>

Are any of you at the Future of Web Design conference this weekend in NYC?

Eddie O'Leary
Web Developer
CoLab Multimedia

-Sent from my iPhone

On Nov 5, 2011, at 7:54 PM, Mike Schinkel <mikeschinkel at newclarity.net> wrote:

> Hi Matthew:
> 
> You're going to have to get your hands dirtier if you want more complex URL routing than /%post_type%/%post_name%/.  :-)
> 
> Minimally you'll need to use add_rewrite_rule() in the 'init' hook to tell WordPress to route the URL, and also hook both 'request' to validate the URL and 'post_type_link' to output the correct link format for the park features.  To make it robust you probably also want to put in a plugin so you can do your flush_rewrite_rules() in the activation and deactivation hooks instead of putting flush_rewrite_rules() in the standard 'init' hooks.
> 
> Anyway, it was probably too complicated to explain so I decided to code it up for you. You can find a working plugin developed for WP 3.3 here:
> 
> https://gist.github.com/1342165
> 
> Note I couldn't keep mmc_level1 and mmc_level2 post types straight during coding so I renamed them mmm_park and mmc_park_feature in my plugin.
> 
> Hope this help.
> 
> -Mike
> P.S. Just FYI I believe the WordPress URL routing is too much of a PITA so I posted a proof-of-concept for an alternative system on Trac several months ago (which admittedly doesn't yet address the more complex parts of the example I coded up for you):
> 
> http://core.trac.wordpress.org/ticket/18276
> 
> FWIW, my opinion regarding WordPress' URL routing is not fully shared by everyone on the hackers list.  :-)
> 
> 
> 
> On Nov 4, 2011, at 2:50 PM, Matthew McGarity wrote:
> 
>>> 
>>> Next question: You say "It doesn't work."  The URL routing?  If yes, what
>>> does your reqister_post_type() code look like?
>>> 
>> 
>> $labels = array(
>> 'name' => _x( 'Parks', 'mmc_level1' ),
>> 'singular_name' => _x( 'Park', 'mmc_level1' ),
>> 'add_new' => _x( 'Add New', 'mmc_level1' ),
>> 'add_new_item' => _x( 'Add New Park', 'mmc_level1' ),
>> 'all_items' => _x( 'Parks', 'mmc_level1' ),
>> 'edit_item' => _x( 'Edit Park', 'mmc_level1' ),
>> 'new_item' => _x( 'New Park', 'mmc_level1' ),
>> 'view_item' => _x( 'View Park', 'mmc_level1' ),
>> 'search_items' => _x( 'Search Parks', 'mmc_level1' ),
>> 'not_found' => _x( 'No Parks found', 'mmc_level1' ),
>> 'not_found_in_trash' => _x( 'No Parks found in Trash', 'mmc_level1' ),
>> 'parent_item_colon' => _x( 'Parent Park', 'mmc_level1' ),
>> 'menu_name' => _x( 'Parks', 'mmc_level1' ),
>> );
>> 
>> $args = array(
>> 'labels' => $labels,
>> 'hierarchical' => true,
>> 'description' => '',
>> 'supports' => array( 'title', 'editor', 'author', 'revisions',
>> 'custom-fields', 'comments', 'thumbnail' ),
>> 'public' => true,
>> 'show_ui' => true,
>> 'show_in_menu' => 'mmc_menu',
>> 'show_in_nav_menus' => true,
>> 'publicly_queryable' => true,
>> 'exclude_from_search' => false,
>> 'has_archive' => false,
>> 'query_var' => true,
>> 'can_export' => true,
>> 'rewrite' => array( 'slug' => 'parks', 'with_front' => false ),
>> 'capability_type' => 'page'
>> );
>> 
>> register_post_type( 'mmc_level1', $args );
>> 
>> $labels = array(
>> 'name' => _x( 'Features', 'mmc_level2' ),
>> 'singular_name' => _x( 'Feature', 'mmc_level2' ),
>> 'add_new' => _x( 'Add New', 'mmc_level2' ),
>> 'add_new_item' => _x( 'Add New Feature', 'mmc_level2' ),
>> 'all_items' => _x( 'eatures', 'mmc_level2' ),
>> 'edit_item' => _x( 'Edit Feature', 'mmc_level2' ),
>> 'new_item' => _x( 'New Feature', 'mmc_level2' ),
>> 'view_item' => _x( 'View Feature', 'mmc_level2' ),
>> 'search_items' => _x( 'Search Features', 'mmc_level2' ),
>> 'not_found' => _x( 'No Features found', 'mmc_level2' ),
>> 'not_found_in_trash' => _x( 'No Features found in Trash', 'mmc_level2' ),
>> 'parent_item_colon' => _x( 'Parent Feature', 'mmc_level2' ),
>> 'menu_name' => _x( 'Features', 'mmc_level2' ),
>> );
>> 
>> $args = array(
>> 'labels' => $labels,
>> 'hierarchical' => true,
>> 'description' => '',
>> 'supports' => array( 'title', 'editor', 'author', 'revisions',
>> 'custom-fields', 'comments', 'thumbnail' ),
>> 'public' => true,
>> 'show_ui' => true,
>> 'show_in_menu' => 'mmc_menu',
>> 'show_in_nav_menus' => true,
>> 'publicly_queryable' => true,
>> 'exclude_from_search' => false,
>> 'has_archive' => false,
>> 'query_var' => true,
>> 'can_export' => true,
>> 'rewrite' => array( 'slug' => 'features', 'with_front' => false ),
>> 'capability_type' => 'page'
>> );
>> 
>> register_post_type( 'mmc_level2', $args );
>> 
>> In the above code, I've been playing back and forth with the rewrite
>> argument, so I couldn't say I'm going down the right path with those.
>> Everything else seems standard.
>> 
>> If not the URL routing, what exactly does not work?
>> 
>> 
>> The URL for the child post is
>> http://example.com/features/yosemite/half-dome/, not the desired
>> http://example.com/parks/yosemite/half-dome/.  Both links lead to a 404
>> error.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From burobjorn at gmail.com  Mon Nov  7 11:28:48 2011
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Mon, 07 Nov 2011 12:28:48 +0100
Subject: [wp-hackers] Does a widget save hook exist or do I need to
 create a ticket in Trac?
In-Reply-To: <CAEi=p53sFBmRGp+WYRSW7QGfuY5_F1-X7rPRgzB68LoaS1z4sA@mail.gmail.com>
References: <4EB2A90F.8070803@gmail.com>
	<CAEi=p53sFBmRGp+WYRSW7QGfuY5_F1-X7rPRgzB68LoaS1z4sA@mail.gmail.com>
Message-ID: <4EB7C0F0.5000500@gmail.com>

Thanks Eric, I should have been more clear because I need the data from 
one or more sidebars and not just one widget. Basically I need to 
display one or more sidebars with the same widgets on all blogs in the 
same WordPress Multisite. So I'm more interested in capturing the output 
of certain sidebars and updating it when the sidebar(s) change.

For now I'm trying to see if there is a better way than hooking into the 
widget_update_callback or widget_form_callback.

grtz
BjornW

On 11/03/2011 04:46 PM, Eric Mann wrote:
> If this widget is your own widget, you can add your own hook to the
> `update()` method of the widget class.
>
> Your other option is to hook into the 'update_option' action directly.
>
> When you save a widget's options it does the following:
>
>     1. Processing for the actual widget
>     2. Calling apply_filters<http://phpxref.ftwr.co.uk/wordpress/_functions/apply_filters.html>('widget_update_callback',
>     $instance<http://phpxref.ftwr.co.uk/wordpress/_variables/instance.html>,
>     $new_instance<http://phpxref.ftwr.co.uk/wordpress/_variables/new_instance.html>,
>     $old_instance<http://phpxref.ftwr.co.uk/wordpress/_variables/old_instance.html>,
>     $this<http://phpxref.ftwr.co.uk/wordpress/_variables/this.html>);
>     3. Calling $this<http://phpxref.ftwr.co.uk/wordpress/_variables/this.html>
>     ->save_settings<http://phpxref.ftwr.co.uk/wordpress/_functions/save_settings.html>
>     ($all_instances<http://phpxref.ftwr.co.uk/wordpress/_variables/all_instances.html>);
>     To save the settings of all instances of that widget.
>     4. save_settings() calls update_option() ... code below:
>
> function save_settings
> <http://phpxref.ftwr.co.uk/wordpress/_functions/save_settings.html>($settings
> <http://phpxref.ftwr.co.uk/wordpress/_variables/settings.html>) {
> $settings<http://phpxref.ftwr.co.uk/wordpress/_variables/settings.html>['_multiwidget']
> = 1;  update_option
> <http://phpxref.ftwr.co.uk/wordpress/_functions/update_option.html>(
> $this<http://phpxref.ftwr.co.uk/wordpress/_variables/this.html>->option_name
> <http://phpxref.ftwr.co.uk/wordpress/_variables/option_name.html>,
> $settings<http://phpxref.ftwr.co.uk/wordpress/_variables/settings.html>
> );
> }
>
> So you *should* be able to hook into the regular update hooks just fine ...
>
> On Thu, Nov 3, 2011 at 7:45 AM, Bjorn Wijers<burobjorn at gmail.com>  wrote:
>
>> Hi,
>>
>> I'm looking for a hook to use just after a widget has saved it's options.
>>
>> For example:
>> I have a widget W whose options I have changed in the Appearance->Widgets
>> screen. I press save and after the save a hook H is being called. My code
>> hooks into the hook and does its thing.
>>
>> Usage:
>> Clearing a site transient which is set in site X and also being used in
>> all the other sites of my WordPress Multisite installation. Basically it
>> saves me from (ab)using switch_to_blog()
>>
>> I've used the 'widget_update_callback' which in fact is called before the
>> update (is this a bug or feature?) as well as the 'widget_form_callback',
>> which gets called repeatedly something I would like to prevent. Any ideas
>> for a better hook to use?
>>
>> Afaik there is not (yet?) a hook directly after saving a widget's options.
>> Or is there? If not shall I create a ticket for this?
>>
>> Thanks in advance,
>>
>> grtz
>> BjornW
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com<wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ronin at braydon.com  Mon Nov  7 12:54:24 2011
From: ronin at braydon.com (Braydon)
Date: Mon, 07 Nov 2011 04:54:24 -0800
Subject: [wp-hackers] Fixing some SSL cases for 3.4
In-Reply-To: <CAD875F4.1502C%pauli.price@gmail.com>
References: <CAD875F4.1502C%pauli.price@gmail.com>
Message-ID: <4EB7D500.8030906@braydon.com>

What about if you have images or video with http:// links in a post that 
break SSL on the front-end? How is this to be handled?

On 11/03/2011 01:46 PM, Pauli Price wrote:
> Here?s a transcript from #wordpress-dev.  Seeking guidance on how to move
> forward with this.  It?s clear that we don?t have a consensus yet.
>
> Discussion happens here, on the wp-hackers?  Or on a trac ticket?
>
> Is it appropriate to consolidate these tickets?  If so how?
>
> ======== transcript follows ==========
>
> marfarma:
>    I'd like to help resolve these related tickets for 3.4 - anybody working
> on them? #13941, #15928, #18017, #19023, #18005
>
> trac-bot:
>    http://core.trac.wordpress.org/ticket/13941 Future Release,
> micropat->ryan, new, WP_CONTENT_URL should use site_url() to support HTTPS /
> SSL
>    http://core.trac.wordpress.org/ticket/15928 Future Release, atetlaw->(no
> owner), assigned, wp_get_attachment_url does not check for HTTPS
>    http://core.trac.wordpress.org/ticket/18017 minor, Future Release,
> jkudish->jkudish, new, set_url_scheme() function
>    http://core.trac.wordpress.org/ticket/19023 high, Awaiting Review,
> joostdevalk->nacin, reviewing, Images in Edit Comments break SSL
>    http://core.trac.wordpress.org/ticket/18005 minor, Awaiting Review,
> rfc1437->(no owner), reopened, mixed http/https installation and
> add_custom_background / body_class
>
> nacin:
>    That's one chunk of tickets.
>    Yeah, I'd definitely like to tackle all of that for 3.4.
>
> marfarma:
>    but all the same underlying problem
>
> nacin:
>    Indeed.
>
> rboren:
>    Fixing those SSL cases and using home_url() everywhere it is needed would
> be nice for 3.4.
>
> rboren:
>    And, dare I say it, introduce 'relative' as a scheme argument.
>
> marfarma:
>    relative -- isn't that a 'live-wire' topic?
>    as in 'untouchable'
>
> nacin:
>    I'd like to do protocol-independent, at least.
>    like //
>    anyway,
>
> (nacin is now known as nacin|afk.)
>
> rboren:
>    It'd just be an arg for use by plugin and theme authors. No core movement
> to it.  Anyhow, just something we might want to discuss.
>
> AaronCampbell:
>    I like the idea of being able to do relative links when it makes sense
>
> iamfriendly:
>    where's the "+1 million" button?
>    what do you mean I don't get a million votes?
>
> ======== transcript ends ==========
>
> Pauli (aka: marfarma)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> !DSPAM:4eb2fdd0168241338710415!
>


From matthew at mcgarity.me  Tue Nov  8 02:14:45 2011
From: matthew at mcgarity.me (Matthew McGarity)
Date: Mon, 7 Nov 2011 20:14:45 -0600
Subject: [wp-hackers] Parent/child relationship between two different
 hierarchical CPTs
In-Reply-To: <4F051A63-0489-428C-BF23-6489521C1EAA@newclarity.net>
References: <CAHuhiC11mh639usO8nd57e5y7FH2bz+Aa0oaGSFa5MG7SW0NbA@mail.gmail.com>
	<E4A40AA8-0AFC-4CB4-9C7E-D8D2A1CA6E22@newclarity.net>
	<CAHuhiC13qHs=-asjA+3uxWiYbJ4=QbJmh87twtEMqjzxiaTAFw@mail.gmail.com>
	<5E63A87F-BBA4-4347-971D-7FD2442DC943@newclarity.net>
	<CAHuhiC13REHn+GJXBoBZ7aCsYHwxC+v0WPcUfuuwM2PEWKaO5g@mail.gmail.com>
	<4F051A63-0489-428C-BF23-6489521C1EAA@newclarity.net>
Message-ID: <CAHuhiC01tZAzduDfFj8k5anZbrnZWtO6rgYJxfG8mjNtZ+FQaw@mail.gmail.com>

Thanks, Mike -- I was focusing solely on post_type_link() and neglecting to
include the calls to add_rewrite_rule.  For the L1-to-L2 relationship, the
example you provided was clear to follow, and it works with the following
quirks:

1) If two different Parks have two different Features with the same title,
WordPress is appending the number to keep the slugs unique.  Not a huge
issue, and one we can work around.

2) Before the parent/child relationship is set, WordPress will calculate
the post link after tabbing out of the Post Title field, and such links
look like http://example.com/parks///.  I suppose this could be gotten
around by add conditional logic to the if-statement checking for post_type
in the post_type_link call.

3) Published L2 and L3 posts without parents repeat the post_name within
their links. Example: http://example.com/parks/half-dome/half-dome/.  Easy
enough to add a pre-publish check or include a new post_type_link call
based on the condition.

Question: how would I extend this into greater depth, such as adding an
L3?  Ex: Features might have details that go with them (
http://example.com/parks/yellowstone/old-faithful/events/).  I hacked
around with the code, and I suspect it's all fine except for the regex,
which does not appear to be matching (and I suck at regex).  Here's my
snippet, which also includes the post_parent boxes needed to build the
relationships:

https://gist.github.com/1346808

Thanks!

MMc...

Matthew McGarity
http://mcgarity.me
(972) 275-9673



On Sat, Nov 5, 2011 at 6:54 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> Hi Matthew:
>
> You're going to have to get your hands dirtier if you want more complex
> URL routing than /%post_type%/%post_name%/.  :-)
>
> Minimally you'll need to use add_rewrite_rule() in the 'init' hook to tell
> WordPress to route the URL, and also hook both 'request' to validate the
> URL and 'post_type_link' to output the correct link format for the park
> features.  To make it robust you probably also want to put in a plugin so
> you can do your flush_rewrite_rules() in the activation and deactivation
> hooks instead of putting flush_rewrite_rules() in the standard 'init' hooks.
>
> Anyway, it was probably too complicated to explain so I decided to code it
> up for you. You can find a working plugin developed for WP 3.3 here:
>
> https://gist.github.com/1342165
>
> Note I couldn't keep mmc_level1 and mmc_level2 post types straight during
> coding so I renamed them mmm_park and mmc_park_feature in my plugin.
>
> Hope this help.
>
> -Mike
> P.S. Just FYI I believe the WordPress URL routing is too much of a PITA so
> I posted a proof-of-concept for an alternative system on Trac several
> months ago (which admittedly doesn't yet address the more complex parts of
> the example I coded up for you):
>
> http://core.trac.wordpress.org/ticket/18276
>
> FWIW, my opinion regarding WordPress' URL routing is not fully shared by
> everyone on the hackers list.  :-)
>
>
>
> On Nov 4, 2011, at 2:50 PM, Matthew McGarity wrote:
>
> >>
> >> Next question: You say "It doesn't work."  The URL routing?  If yes,
> what
> >> does your reqister_post_type() code look like?
> >>
> >
> > $labels = array(
> > 'name' => _x( 'Parks', 'mmc_level1' ),
> > 'singular_name' => _x( 'Park', 'mmc_level1' ),
> > 'add_new' => _x( 'Add New', 'mmc_level1' ),
> > 'add_new_item' => _x( 'Add New Park', 'mmc_level1' ),
> > 'all_items' => _x( 'Parks', 'mmc_level1' ),
> > 'edit_item' => _x( 'Edit Park', 'mmc_level1' ),
> > 'new_item' => _x( 'New Park', 'mmc_level1' ),
> > 'view_item' => _x( 'View Park', 'mmc_level1' ),
> > 'search_items' => _x( 'Search Parks', 'mmc_level1' ),
> > 'not_found' => _x( 'No Parks found', 'mmc_level1' ),
> > 'not_found_in_trash' => _x( 'No Parks found in Trash', 'mmc_level1' ),
> > 'parent_item_colon' => _x( 'Parent Park', 'mmc_level1' ),
> > 'menu_name' => _x( 'Parks', 'mmc_level1' ),
> > );
> >
> > $args = array(
> > 'labels' => $labels,
> > 'hierarchical' => true,
> > 'description' => '',
> > 'supports' => array( 'title', 'editor', 'author', 'revisions',
> > 'custom-fields', 'comments', 'thumbnail' ),
> > 'public' => true,
> > 'show_ui' => true,
> > 'show_in_menu' => 'mmc_menu',
> > 'show_in_nav_menus' => true,
> > 'publicly_queryable' => true,
> > 'exclude_from_search' => false,
> > 'has_archive' => false,
> > 'query_var' => true,
> > 'can_export' => true,
> > 'rewrite' => array( 'slug' => 'parks', 'with_front' => false ),
> > 'capability_type' => 'page'
> > );
> >
> > register_post_type( 'mmc_level1', $args );
> >
> > $labels = array(
> > 'name' => _x( 'Features', 'mmc_level2' ),
> > 'singular_name' => _x( 'Feature', 'mmc_level2' ),
> > 'add_new' => _x( 'Add New', 'mmc_level2' ),
> > 'add_new_item' => _x( 'Add New Feature', 'mmc_level2' ),
> > 'all_items' => _x( 'eatures', 'mmc_level2' ),
> > 'edit_item' => _x( 'Edit Feature', 'mmc_level2' ),
> > 'new_item' => _x( 'New Feature', 'mmc_level2' ),
> > 'view_item' => _x( 'View Feature', 'mmc_level2' ),
> > 'search_items' => _x( 'Search Features', 'mmc_level2' ),
> > 'not_found' => _x( 'No Features found', 'mmc_level2' ),
> > 'not_found_in_trash' => _x( 'No Features found in Trash', 'mmc_level2' ),
> > 'parent_item_colon' => _x( 'Parent Feature', 'mmc_level2' ),
> > 'menu_name' => _x( 'Features', 'mmc_level2' ),
> > );
> >
> > $args = array(
> > 'labels' => $labels,
> > 'hierarchical' => true,
> > 'description' => '',
> > 'supports' => array( 'title', 'editor', 'author', 'revisions',
> > 'custom-fields', 'comments', 'thumbnail' ),
> > 'public' => true,
> > 'show_ui' => true,
> > 'show_in_menu' => 'mmc_menu',
> > 'show_in_nav_menus' => true,
> > 'publicly_queryable' => true,
> > 'exclude_from_search' => false,
> > 'has_archive' => false,
> > 'query_var' => true,
> > 'can_export' => true,
> > 'rewrite' => array( 'slug' => 'features', 'with_front' => false ),
> > 'capability_type' => 'page'
> > );
> >
> > register_post_type( 'mmc_level2', $args );
> >
> > In the above code, I've been playing back and forth with the rewrite
> > argument, so I couldn't say I'm going down the right path with those.
> > Everything else seems standard.
> >
> > If not the URL routing, what exactly does not work?
> >
> >
> > The URL for the child post is
> > http://example.com/features/yosemite/half-dome/, not the desired
> > http://example.com/parks/yosemite/half-dome/.  Both links lead to a 404
> > error.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ml at dorem.info  Tue Nov  8 02:41:05 2011
From: ml at dorem.info (=?UTF-8?B?SsOpcsOpbWllIEJvdWlsbG9u?=)
Date: Tue, 08 Nov 2011 03:41:05 +0100
Subject: [wp-hackers] Fixing some SSL cases for 3.4
In-Reply-To: <4EB7D500.8030906@braydon.com>
References: <CAD875F4.1502C%pauli.price@gmail.com>
	<4EB7D500.8030906@braydon.com>
Message-ID: <4EB896C1.3050209@dorem.info>

On 07/11/2011 13:54, Braydon wrote:
> What about if you have images or video with http:// links in a post that
> break SSL on the front-end? How is this to be handled?

Protocol independent should work for that.

As relative URL of course.

From mikeschinkel at newclarity.net  Tue Nov  8 03:29:36 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 7 Nov 2011 22:29:36 -0500
Subject: [wp-hackers] Parent/child relationship between two different
	hierarchical CPTs
In-Reply-To: <CAHuhiC01tZAzduDfFj8k5anZbrnZWtO6rgYJxfG8mjNtZ+FQaw@mail.gmail.com>
References: <CAHuhiC11mh639usO8nd57e5y7FH2bz+Aa0oaGSFa5MG7SW0NbA@mail.gmail.com>
	<E4A40AA8-0AFC-4CB4-9C7E-D8D2A1CA6E22@newclarity.net>
	<CAHuhiC13qHs=-asjA+3uxWiYbJ4=QbJmh87twtEMqjzxiaTAFw@mail.gmail.com>
	<5E63A87F-BBA4-4347-971D-7FD2442DC943@newclarity.net>
	<CAHuhiC13REHn+GJXBoBZ7aCsYHwxC+v0WPcUfuuwM2PEWKaO5g@mail.gmail.com>
	<4F051A63-0489-428C-BF23-6489521C1EAA@newclarity.net>
	<CAHuhiC01tZAzduDfFj8k5anZbrnZWtO6rgYJxfG8mjNtZ+FQaw@mail.gmail.com>
Message-ID: <40B60D1B-CB55-468B-9A9F-05EEA3914493@newclarity.net>

On Nov 7, 2011, at 9:14 PM, Matthew McGarity wrote:
> 1) If two different Parks have two different Features with the same title,
> WordPress is appending the number to keep the slugs unique.  Not a huge
> issue, and one we can work around.

That should not be happening if you have hierarchical post types AND your post_parent is non-zero.  Is there any chance you set the post_parent AFTER you insert the new record?

> 2) Before the parent/child relationship is set, WordPress will calculate
> the post link after tabbing out of the Post Title field, and such links
> look like http://example.com/parks///.  I suppose this could be gotten
> around by add conditional logic to the if-statement checking for post_type
> in the post_type_link call.

Well.... yeah, I kinda hoped you'd not ask about that one. :-)

Anyway, you have to pay attention to the 4th parameter named '$sample' in the 'post_type_link' hook.  See my updated example: 

https://gist.github.com/1342165

> 3) Published L2 and L3 posts without parents repeat the post_name within
> their links. Example: http://example.com/parks/half-dome/half-dome/.  Easy
> enough to add a pre-publish check or include a new post_type_link call
> based on the condition.

I might have solved that, not sure.  OTOH, shouldn't you always ensure you have parent posts anyway?

> Question: how would I extend this into greater depth, such as adding an
> L3?  Ex: Features might have details that go with them (
> http://example.com/parks/yellowstone/old-faithful/events/).  I hacked
> around with the code, and I suspect it's all fine except for the regex,
> which does not appear to be matching (and I suck at regex).  Here's my
> snippet, which also includes the post_parent boxes needed to build the
> relationships:
> 
> https://gist.github.com/1346808

Ouch, that's more then I've can tackle in my free time right now.  It's definitely doable, but will probably take a hour or two to debug and get all working.  Can I recommend using PhpStorm+ZendDebugger? Using such a debugger will help you be able to see what works and what does not.

BTW, yes, it seems you ARE saving the parent ID too late; it's an easy fix though; in your metabox_display() function use "parent_id" for the <select> name and id instead of "mmc_post_parent" and WordPress will just save it for you.

Also, you really should encapsulate your metabox_create() hook function inside the class like I did with my hooks so your function names don't conflict with those in a plugin.  Add your add_action() call to the on_load() method, and be sure to make metabox_create() and metabox_display()  static functions inside the class; just follow the example set in my code.

Hope this helped. Good luck with getting the more complicated use-case working. 

-Mike


From haresh at archisys.in  Tue Nov  8 05:31:39 2011
From: haresh at archisys.in (Haresh Valiya)
Date: Tue, 8 Nov 2011 11:01:39 +0530
Subject: [wp-hackers] Fixing some SSL cases for 3.4
In-Reply-To: <4EB896C1.3050209@dorem.info>
References: <CAD875F4.1502C%pauli.price@gmail.com>
	<4EB7D500.8030906@braydon.com> <4EB896C1.3050209@dorem.info>
Message-ID: <CAO4r=_ieA9OwGcuk==nbNt5_QN4Kxrt4LEp6+Nb2S89tPcjxVA@mail.gmail.com>

Thank for advucw

On 11/8/11, J?r?mie Bouillon <ml at dorem.info> wrote:
> On 07/11/2011 13:54, Braydon wrote:
>> What about if you have images or video with http:// links in a post that
>> break SSL on the front-end? How is this to be handled?
>
> Protocol independent should work for that.
>
> As relative URL of course.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Regards,
Haresh Valiya.
Senior Developer
Stallion Archisys
www.archisys.in

From steve at sltaylor.co.uk  Tue Nov  8 13:45:03 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Tue, 8 Nov 2011 13:45:03 +0000
Subject: [wp-hackers] using wp_editor
In-Reply-To: <4EB1619B.2050500@laptoptips.ca>
References: <CAGEuVU2nv4SjsN+qDb9XYNSvTZmk=5c+xwr-f0jzRqsdavb9Pw@mail.gmail.com>
	<4EB1619B.2050500@laptoptips.ca>
Message-ID: <CAGEuVU3XKQh9QnTf6G=sOpb9USdMdNzNO22GyzrD5oEwAeA7KQ@mail.gmail.com>

Many thanks, I got it. I had forgotten to take out the textarea I was
including from the old way of putting TinyMCE in :-/

The new function's fantastic - thanks to all who worked on it.

Cheers,

Steve

On 2 November 2011 15:28, Andrew Ozz <admin at laptoptips.ca> wrote:
> On 01/11/2011 5:10 AM, Steve Taylor wrote:
>>
>> Has anyone written a rough guide to using it?
>
> The phpdoc should give enough guidance. Generally you call the wp_editor()
> function where you want the editor to appear. It outputs the html and
> handles all needed pieces to make one/both editors work the same way they
> work on the post edit page.
>
> There's a small test plugin on the ticket too. It has some basic examples:
> http://core.trac.wordpress.org/attachment/ticket/17144/test-wp-editor-3.3.php
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From Marcus.Pope at springbox.com  Tue Nov  8 22:35:25 2011
From: Marcus.Pope at springbox.com (Marcus Pope)
Date: Tue, 8 Nov 2011 17:35:25 -0500
Subject: [wp-hackers] How to make root relative urls work in, , subdomain
In-Reply-To: <CAH_7fBDfBoL4MJiK3bcRMLeDtuMnK=JThNBJ7DmjH2fMZBfvsA@mail.gmail.com>
References: <mailman.7683.1320085931.1433.wp-hackers@lists.automattic.com>
	<4EAF69CA.8090904@gmail.com>
	<CAH_7fBBEZ_Jaf3otoO-jq9t64E1A1k54-5TeCM=9u6_d+Rh5_w@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E01FCE833E2@DC.epyllion.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE2FE3789@RSWMAIL1.dgs.dgsystems.com>
	<CAH_7fBDfBoL4MJiK3bcRMLeDtuMnK=JThNBJ7DmjH2fMZBfvsA@mail.gmail.com>
Message-ID: <4C9C70943A019D44B90BF87BB445B2DFDAE30C5A56@RSWMAIL1.dgs.dgsystems.com>

Marty - that's certainly a solution, and a relatively cheap one at that (I'm a dyndns subscriber myself.)  But it still requires adding a pinhole to your wifi/internet gateway's dmz, and that is a luxury that doesn't exist for a fair number of people, and a "don't ever do that" principle for others that have routers that support that feature.  

In your case, you still have to open port 80, or 8080 or whatever and point all external traffic on that port directly to your dev machine.  And that's a security breach that can get you fired in many company environments, and your system hacked on your personal network (unless you practice strict security protocols on your dev machine like not doing any of this on windows os, and keeping your root-level accounts isolated on unix, etc.)

-Marcus

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Marty Fried
Sent: Friday, November 04, 2011 8:38 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How to make root relative urls work in, , subdomain

On Thu, Nov 3, 2011 at 8:37 AM, Marcus Pope <Marcus.Pope at springbox.com>wrote:

> Marty - it is a very good solution for a good percentage of people (I 
> hate to say majority because mobile devices are becoming so popular,) 
> but if you have to browse or manage your dev site via your iPhone or 
> Android device you'll find that there are no options for editing your 
> hosts files on those platforms (well, you can on android if you 
> jailbreak/root the device.)
>
> In those cases you have to rely on a more robust approach using a 
> higher-end wifi router that allows you do make network wide mappings, 
> or customize it with a local network dns address (and then you have to 
> build and manage your own dns server.)  Many home and small business 
> wifi routers do not give you these options, and in this case you are 
> left with pushing to production before you can test any work on a mobile platform.
>
> But it's a good, quick option indeed when you can get away with it.
>
> I see.  One way I get around this is using dynDNS.  I have an account 
> that
I pay for, a very small amount that I originally got so I could demo sites without uploading to a public web site.  One nice feature is that you can create sub-domains on the fly, and dyndns will automatically send it to the main domain.  This allows me to set up a virtual domain in apache for the subdomain, so that it automatically becomes a root-level domain.

I'm fairly low volume so far, but if it gets to be too much trouble, I'd create a shell script using sed to automatically create and delete entries in the apache config file (I've been a programmer for many years, but just started doing web development in the past year or so, so writing scripts is pretty easy for me).
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From Marcus.Pope at springbox.com  Tue Nov  8 22:57:11 2011
From: Marcus.Pope at springbox.com (Marcus Pope)
Date: Tue, 8 Nov 2011 17:57:11 -0500
Subject: [wp-hackers] Fixing some SSL cases for 3.4
In-Reply-To: <CAMAwOQ8EZtPD4y5tBvEiPrr+zu-Fw4PL_N4ARf5w50Y5i=VsEA@mail.gmail.com>
References: <CAD875F4.1502C%pauli.price@gmail.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE2FE390F@RSWMAIL1.dgs.dgsystems.com>
	<CAMAwOQ8EZtPD4y5tBvEiPrr+zu-Fw4PL_N4ARf5w50Y5i=VsEA@mail.gmail.com>
Message-ID: <4C9C70943A019D44B90BF87BB445B2DFDAE30C5A5D@RSWMAIL1.dgs.dgsystems.com>

I'm all for this change as much as I am for the root-relative url switch because it improves performance and robustness of wp.  

I'm even in support of putting wordpress-https AND my own root-relative-urls out of business if possible, but schemeless urls generated by the system would not put either to bed because of content urls and the long-standing assumptions made in hundreds of plugins, not just wordpress-https.  

Here's the strategy I took to fix the SSL problems you pointed out:

http://core.trac.wordpress.org/ticket/19037
http://core.trac.wordpress.org/attachment/ticket/19037/ssl.patch

In addition to the tickets you reference for open/existing ssl problems I discovered a number of undocumented ones while refactoring the core of wordpress to support root-relative urls.  When I realized it could be achieved via a plugin, I backed out all of the work except for this scheme refactoring.  I didn't keep all of the ssl fixes because after finding half a dozen or so I realized that I could spend another week finding more.  This patch was just to get the ball rolling on a strategy for moving forward.

Implement this patch, and then wrap scheme(...) around each of the referenced code points in those trac tickets and I think you'll find the problem solved... temporarily.  I say temporarily because it's only a matter of time before someone extends the core framework in some way related to urls and forgets to wrap scheme() around it, in the same way they forgot to do the is_ssl() check, or http/s string substitution in those existing tickets.
  
(and yeah I totally should have seen that 3.4 reference in the subject, or in the text, or every other place it was plastered! :D)

Thanks,
Marcus

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Pauli Price
Sent: Friday, November 04, 2011 1:28 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Fixing some SSL cases for 3.4

"last minute stake in the 3.3 game"

This work is targeting 3.4, so not to worry.  The point is to put http://wordpress.org/extend/plugins/wordpress-https/ out of business, except for shared SSL certificate support.  That seems like enough of an edge case that it can be delegated to a plugin.

Pauli


On Thu, Nov 3, 2011 at 8:22 PM, Marcus Pope <Marcus.Pope at springbox.com>wrote:

> Oh man, I swear I did *not* just create a new profile with the name 
> Pauli Price!!!
>
> :D
>
> Thanks Pauli, those tickets along with the other 500 or so 
> created/fixed/pending on the subject sure are a pain to deal with.
>
> But I wanted to say there are some webservers that cannot handle 
> scheme-relative urls.  Not sure if wordpress is supported on anything 
> other than apache and iis (which do support them fully) but if there 
> is support for other webserver packages we should be cautious to implement.
>
> And to be devil's advocate here, there are a number of plugins that do 
> call parse_url on the home_url's returned by wordpress.  And a smaller 
> number of those logic branch on the "scheme" key in the returned hash 
> array.  Granted it will only generate php notices to access the null 
> scheme key, but it could change the logic branch in a detrimental way 
> if scheme-less urls are used.
>
> This little guy has over 25k downloads 
> http://wordpress.org/extend/plugins/wordpress-https/
> As well as some admin/lockout issues raised in the 2.0 launch a couple 
> days ago.  But I'm sure there are others like the BWP-Minify that 
> could see some problems as well.
>
> I have always been an advocate of the argument that it could be 
> problematic for the community, so my concern here is that it's a last 
> minute stake in the 3.3 game, that might need some more heads-up 
> notice to developers if we were to do a scheme-less switch.
>
> But I have also always been a fall-back supporter of scheme-relative 
> urls if root-relative urls were out of the question.
>
> Thanks!
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:
> wp-hackers-bounces at lists.automattic.com] On Behalf Of Pauli Price
> Sent: Thursday, November 03, 2011 3:47 PM
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Fixing some SSL cases for 3.4
>
> Here?s a transcript from #wordpress-dev.  Seeking guidance on how to 
> move forward with this.  It?s clear that we don?t have a consensus yet.
>
> Discussion happens here, on the wp-hackers?  Or on a trac ticket?
>
> Is it appropriate to consolidate these tickets?  If so how?
>
> ======== transcript follows ==========
>
> marfarma:
>  I'd like to help resolve these related tickets for 3.4 - anybody 
> working on them? #13941, #15928, #18017, #19023, #18005
>
> trac-bot:
>  http://core.trac.wordpress.org/ticket/13941 Future Release,
> micropat->ryan, new, WP_CONTENT_URL should use site_url() to support 
> micropat->HTTPS /
> SSL
>  http://core.trac.wordpress.org/ticket/15928 Future Release, 
> atetlaw->(no owner), assigned, wp_get_attachment_url does not check 
> for HTTPS
>  http://core.trac.wordpress.org/ticket/18017 minor, Future Release,
> jkudish->jkudish, new, set_url_scheme() function
>  http://core.trac.wordpress.org/ticket/19023 high, Awaiting Review,
> joostdevalk->nacin, reviewing, Images in Edit Comments break SSL
>  http://core.trac.wordpress.org/ticket/18005 minor, Awaiting Review,
> rfc1437->(no owner), reopened, mixed http/https installation and
> add_custom_background / body_class
>
> nacin:
>  That's one chunk of tickets.
>  Yeah, I'd definitely like to tackle all of that for 3.4.
>
> marfarma:
>  but all the same underlying problem
>
> nacin:
>  Indeed.
>
> rboren:
>  Fixing those SSL cases and using home_url() everywhere it is needed 
> would be nice for 3.4.
>
> rboren:
>  And, dare I say it, introduce 'relative' as a scheme argument.
>
> marfarma:
>  relative -- isn't that a 'live-wire' topic?
>  as in 'untouchable'
>
> nacin:
>  I'd like to do protocol-independent, at least.
>  like //
>  anyway,
>
> (nacin is now known as nacin|afk.)
>
> rboren:
>  It'd just be an arg for use by plugin and theme authors. No core 
> movement to it.  Anyhow, just something we might want to discuss.
>
> AaronCampbell:
>  I like the idea of being able to do relative links when it makes 
> sense
>
> iamfriendly:
>  where's the "+1 million" button?
>  what do you mean I don't get a million votes?
>
> ======== transcript ends ==========
>
> Pauli (aka: marfarma)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From Marcus.Pope at springbox.com  Wed Nov  9 00:12:02 2011
From: Marcus.Pope at springbox.com (Marcus Pope)
Date: Tue, 8 Nov 2011 19:12:02 -0500
Subject: [wp-hackers] How to make root relative urls work in, , subdomain
In-Reply-To: <2964C4F1-D2A2-4171-8EF0-40AEA737F832@springbox.com>
References: <mailman.7683.1320085931.1433.wp-hackers@lists.automattic.com>
	<4EAF69CA.8090904@gmail.com>
	<2964C4F1-D2A2-4171-8EF0-40AEA737F832@springbox.com>
Message-ID: <4C9C70943A019D44B90BF87BB445B2DFDAE30C5A83@RSWMAIL1.dgs.dgsystems.com>

Just to follow up with anyone who was curious about this problem...

The issue Ryann was having, and that I overlooked, was that the domain name was being included in the check against the REQUEST_URI in the rewriterule match condition.  That prevented the replacement from ever executing on any request.

Anyway, the solution found in the previous response below should look like this instead:

RewriteCond %{REQUEST_URI} !^/testproject/ 

RewriteRule ^(.*) /testproject/$1 [R=301,L]

I was exhausted last week from a bunch of late-night work and not on top of my game (as shown by a few mistakes I made on a couple different threads last Thursday.)  Alas, I had a 4 day vacation this weekend so I'm all rested up.

Thanks,
Marcus.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Marcus Pope
Sent: Tuesday, November 01, 2011 12:50 PM
To: wp-hackers at lists.automattic.com
Cc: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How to make root relative urls work in, , subdomain

Hmm, unfortunately many things could be causing this. Are you using the .htaccess file recommended by wordpress?  You might want to start there and see if that works for you. 
http://codex.wordpress.org/Using_Permalinks#Creating_and_editing_.28.htaccess.29

You can also check out htaccess debuggers online that can parse your rules and show you errors, if any. There are also posts for debugging htaccess on your server but I've never had to use them before so I dont know how easy they are to work with. 

Email me your final htaccess file in a zip or tar and ill try it out on my dev box, i know mine are processing so it should eliminate the environment issue and then i should be able to ensure the correct formatting as even my write up was done hastily. 

Hope that helps!
- marcus

On Oct 31, 2011, at 10:39 PM, "Ryann Micua" <ryannmicua at gmail.com> wrote:

> Hi Marcus,
> 
> The rewrite doesn't seem to be working on my local server. But, if you 
> say that it's the right then I think it's something wrong with my lamp 
> setup I'll look into it. we came up with almost the same rules anyway 
> =) save for taking out the domain name and adding flags.
> 
>> Hey Ryann, unfortunately I got sucked into a 6 hour meeting in the next 10 minutes so I won't be able to write up a response as complete I would like.  But I can fill you in on more details tomorrow if you don't figure out an option from this response.

>> 
>> Basically you are 90% of the way there.  I'm not sure if the email thread removed the newline, but you'll want to put the RewriteRule on its own line underneath the RewriteCond statement.  You can also take outhttp://wp.dev  and just use/testproject/$1.  And additionally you will want to put [R=301,L]  which indicates that the redirect is a permanent move (301) and to stop processing anymore rules L == Last Rule.
>> 
>> Otherwise the rest looks good.  If the above suggestions don't work out let me know and I'll spend a little more time looking at it.  Here's a formatted version for you to view..
>> 
>> RewriteEngine on
>> 
>> #be sure to include the wordpress .htaccess rules here
>> 
>> #and put this at the bottom of your file RewriteCond %{REQUEST_URI} 
>> !^/testproject/ RewriteRule ^wp\.dev/(.*)/testproject/$1 [R=301,L]
>> 
>> #end of file
> 
> 
> --
> *Ryann Micua*
> /Web Developer/
> ----------------------------------------------------------------------
> --
> 
> Website: /www.pogidude.com/
> Skype: /rmicua/
> Mobile: /+639169273059/
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From steve at sltaylor.co.uk  Wed Nov  9 11:52:17 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Wed, 9 Nov 2011 11:52:17 +0000
Subject: [wp-hackers] 3.3 media upload API
Message-ID: <CAGEuVU0+3C+GraGyQbGMo6s6GtFzjYwPnbgfiSGR_yd7wUy0ZA@mail.gmail.com>

Hi,

I'm trying to update a plugin to be compatible with 3.3. Part of the
plugin creates a button to select an image - uploaded, or from the
Media Library. The button invokes the media overlay, and how it used
to work is that some jQuery runs, checks that we're in an overlay
invoked by the plugin's button, then switching the "Insert into Post"
etc. buttons for a "Select" button. This button in turn would just
pass the attachment's ID back to a hidden field to be stored as
postmeta.

I had problems getting it working with the Flash uploader, there
seemed to be no way to trigger some JS after the upload happens and
the media item details are output via AJAX. And there's no filters in
the get_media_item() function to switch the buttons server-side. So I
just disabled the Flash uploader if this part of the plugin was being
used.

Now with Plupload, I'm in a similar situation, except I don't have the
workaround of disabling the Flash uploader. Obviously it's great that
Plupload degrades nicely, but in this situation it means I *have* to
get things working with every uploader interface, because I can't
control that (I think?).

So, I've got this JS:

if ( typeof(wpUploaderInit) == 'object' ) {
	uploader.bind('FileUploaded', function() {
		alert( $( 'table.describe thead' ).attr( 'id' ) );
	});
}

The alert is just for testing, to check that the JS is running at the
point where the media item table has been generated. I make my script
dependent on 'plupload-handlers', and the function gets bound OK. But
I can't get it to execute AFTER the media item table has been
inserted, so I can change it.

Neither the 'UploadComplete' or 'FileUploaded' Plupload events seem to work.

Anyone else working on anything like this? I've been chipping away at
it for ages, no luck. I imagine 3.3 is due very soon, and I appreciate
most core devs will be working on bugs etc., but I really need to get
my plugin working with 3.3 soon. Any help appreciated!

Cheers,

Steve Taylor

From ryan.frankel at gmail.com  Wed Nov  9 21:12:41 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Wed, 9 Nov 2011 16:12:41 -0500
Subject: [wp-hackers] wp_insert_posts?
Message-ID: <94D7FE74-D8C9-4A80-A419-27841DA2C4A2@gmail.com>

All,
  Is there a function similar to wo_insert_post that can INSERT multiple posts into the db at the same time (i.e. not call INSERT over and over)?  I have thousands of posts to insert into my db from an API pretty often and it looks like the long pole in the execution time is all of the inserts.  It would be nice to have a function like wp_insert_posts for multiple post additions using multiple VALUEs that mysql supports.  I realize I can probably modify the wp_insert_post code to do it but I figured I would ask so I don't reinvent the wheel.

ryan

From wordpress at dd32.id.au  Wed Nov  9 21:27:07 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 10 Nov 2011 08:27:07 +1100
Subject: [wp-hackers] wp_insert_posts?
In-Reply-To: <94D7FE74-D8C9-4A80-A419-27841DA2C4A2@gmail.com>
References: <94D7FE74-D8C9-4A80-A419-27841DA2C4A2@gmail.com>
Message-ID: <CAL4EHfm+8sGDdJJdyYFU8ECszogZuRb2K0299MeM9vtwwkU1BQ@mail.gmail.com>

Unfortunately not. The Insert API is designed for a single post insert as
it needs to retrieve the ID afterwards for setting post meta and
categories/etc.

If you've got a lot of data to import, I'd usually just use direct SQL if
it's just the posts, or deal with the wp_insert_post() if there's other
non-wp_posts data included.

On 10 November 2011 08:12, Ryan Frankel <ryan.frankel at gmail.com> wrote:

> All,
>  Is there a function similar to wo_insert_post that can INSERT multiple
> posts into the db at the same time (i.e. not call INSERT over and over)?  I
> have thousands of posts to insert into my db from an API pretty often and
> it looks like the long pole in the execution time is all of the inserts.
>  It would be nice to have a function like wp_insert_posts for multiple post
> additions using multiple VALUEs that mysql supports.  I realize I can
> probably modify the wp_insert_post code to do it but I figured I would ask
> so I don't reinvent the wheel.
>
> ryan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Wed Nov  9 21:28:34 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 9 Nov 2011 16:28:34 -0500
Subject: [wp-hackers] wp_insert_posts?
In-Reply-To: <94D7FE74-D8C9-4A80-A419-27841DA2C4A2@gmail.com>
References: <94D7FE74-D8C9-4A80-A419-27841DA2C4A2@gmail.com>
Message-ID: <A1D5B337-8C8B-4786-ACB4-E60DC9202346@newclarity.net>

Sounds like a very useful functionality.  As you probably know many hooks can potentially run during wp_insert_post() so if you don't run those hooks you might run into trouble.  Maybe you could create a trac ticket and then do a first pass on a future bulk insert for that would meet your needs but be a starting point for a potential future wp_insert_posts()?

-Mike

On Nov 9, 2011, at 4:12 PM, Ryan Frankel wrote:

> All,
>  Is there a function similar to wo_insert_post that can INSERT multiple posts into the db at the same time (i.e. not call INSERT over and over)?  I have thousands of posts to insert into my db from an API pretty often and it looks like the long pole in the execution time is all of the inserts.  It would be nice to have a function like wp_insert_posts for multiple post additions using multiple VALUEs that mysql supports.  I realize I can probably modify the wp_insert_post code to do it but I figured I would ask so I don't reinvent the wheel.
> 
> ryan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ryan.frankel at gmail.com  Wed Nov  9 21:37:50 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Wed, 9 Nov 2011 16:37:50 -0500
Subject: [wp-hackers] wp_insert_posts?
In-Reply-To: <CAL4EHfm+8sGDdJJdyYFU8ECszogZuRb2K0299MeM9vtwwkU1BQ@mail.gmail.com>
References: <94D7FE74-D8C9-4A80-A419-27841DA2C4A2@gmail.com>
	<CAL4EHfm+8sGDdJJdyYFU8ECszogZuRb2K0299MeM9vtwwkU1BQ@mail.gmail.com>
Message-ID: <F5C39220-2AE0-4022-A664-3C0645FFFD60@gmail.com>

> If you've got a lot of data to import, I'd usually just use direct SQL if
> it's just the posts, or deal with the wp_insert_post() if there's other
> non-wp_posts data included.
The only reason I don't just go the wpdb route right off the bat is all of the nice escaping, validation, defaults that wp_insert_post provides.  Either way you do it is going to utilize wpdb anyways though.

> Maybe you could create a trac ticket and then do a first pass on a future bulk insert for that would meet your needs but be a starting point for a potential future wp_insert_posts()?

That sounds doable.  


ryan



> Unfortunately not. The Insert API is designed for a single post insert as
> it needs to retrieve the ID afterwards for setting post meta and
> categories/etc.
> 
> If you've got a lot of data to import, I'd usually just use direct SQL if
> it's just the posts, or deal with the wp_insert_post() if there's other
> non-wp_posts data included.
> 
> On 10 November 2011 08:12, Ryan Frankel <ryan.frankel at gmail.com> wrote:
> 
>> All,
>> Is there a function similar to wo_insert_post that can INSERT multiple
>> posts into the db at the same time (i.e. not call INSERT over and over)?  I
>> have thousands of posts to insert into my db from an API pretty often and
>> it looks like the long pole in the execution time is all of the inserts.
>> It would be nice to have a function like wp_insert_posts for multiple post
>> additions using multiple VALUEs that mysql supports.  I realize I can
>> probably modify the wp_insert_post code to do it but I figured I would ask
>> so I don't reinvent the wheel.
>> 
>> ryan
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ryan.frankel at gmail.com  Thu Nov 10 04:35:23 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Wed, 9 Nov 2011 23:35:23 -0500
Subject: [wp-hackers] wp_insert_posts?
In-Reply-To: <A1D5B337-8C8B-4786-ACB4-E60DC9202346@newclarity.net>
References: <94D7FE74-D8C9-4A80-A419-27841DA2C4A2@gmail.com>
	<A1D5B337-8C8B-4786-ACB4-E60DC9202346@newclarity.net>
Message-ID: <E1EA1038-5DB3-4785-8BD4-573DFE13DD1B@gmail.com>

As a follow up?.is there an update_post_meta that can accept an object or array of keys and values to update more then one at a time?  

ryan


On Nov 9, 2011, at 4:28 PM, Mike Schinkel wrote:

> Sounds like a very useful functionality.  As you probably know many hooks can potentially run during wp_insert_post() so if you don't run those hooks you might run into trouble.  Maybe you could create a trac ticket and then do a first pass on a future bulk insert for that would meet your needs but be a starting point for a potential future wp_insert_posts()?
> 
> -Mike
> 
> On Nov 9, 2011, at 4:12 PM, Ryan Frankel wrote:
> 
>> All,
>> Is there a function similar to wo_insert_post that can INSERT multiple posts into the db at the same time (i.e. not call INSERT over and over)?  I have thousands of posts to insert into my db from an API pretty often and it looks like the long pole in the execution time is all of the inserts.  It would be nice to have a function like wp_insert_posts for multiple post additions using multiple VALUEs that mysql supports.  I realize I can probably modify the wp_insert_post code to do it but I figured I would ask so I don't reinvent the wheel.
>> 
>> ryan
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Thu Nov 10 04:44:46 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 9 Nov 2011 23:44:46 -0500
Subject: [wp-hackers] wp_insert_posts?
In-Reply-To: <E1EA1038-5DB3-4785-8BD4-573DFE13DD1B@gmail.com>
References: <94D7FE74-D8C9-4A80-A419-27841DA2C4A2@gmail.com>
	<A1D5B337-8C8B-4786-ACB4-E60DC9202346@newclarity.net>
	<E1EA1038-5DB3-4785-8BD4-573DFE13DD1B@gmail.com>
Message-ID: <749B9404-E2D1-4037-A3C3-F33F531788D6@newclarity.net>

On Nov 9, 2011, at 11:35 PM, Ryan Frankel wrote:
> As a follow up?.is there an update_post_meta that can accept an object or array of keys and values to update more then one at a time?  

Nope.  Another "nice to have."

-Mike 

From ryan.frankel at gmail.com  Thu Nov 10 04:46:25 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Wed, 9 Nov 2011 23:46:25 -0500
Subject: [wp-hackers] wp_insert_posts?
In-Reply-To: <749B9404-E2D1-4037-A3C3-F33F531788D6@newclarity.net>
References: <94D7FE74-D8C9-4A80-A419-27841DA2C4A2@gmail.com>
	<A1D5B337-8C8B-4786-ACB4-E60DC9202346@newclarity.net>
	<E1EA1038-5DB3-4785-8BD4-573DFE13DD1B@gmail.com>
	<749B9404-E2D1-4037-A3C3-F33F531788D6@newclarity.net>
Message-ID: <6CB6C1AA-2CCA-4877-93DD-04C05EE7011C@gmail.com>

I figured.  =).  Thanks.

On Nov 9, 2011, at 11:44 PM, Mike Schinkel wrote:

> On Nov 9, 2011, at 11:35 PM, Ryan Frankel wrote:
>> As a follow up?.is there an update_post_meta that can accept an object or array of keys and values to update more then one at a time?  
> 
> Nope.  Another "nice to have."
> 
> -Mike 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ronin at braydon.com  Thu Nov 10 08:05:44 2011
From: ronin at braydon.com (Braydon)
Date: Thu, 10 Nov 2011 00:05:44 -0800
Subject: [wp-hackers] AWE update
Message-ID: <4EBB85D8.3080205@braydon.com>

Thanks everyone who gave feedback on my first post about AWE. I've 
revised the project plan based on that feedback, and have continued 
development to the point of having a front-end built to demonstrate ( 
video screencast: http://braydon.com/2011/11/awe-0-1-2/ ) .

Summary of previous discussion and problems raised with solutions 
implemented for each of them:

 > Problem #1. Search engines and Google not taking to it kindly because 
it would spam their indexes.

I've made a post type now called "update" for all external posts that 
are being read into the blog. These posts when viewed have 
"noindex,nofollow" in the header of the their html to not be indexed at 
Google and others. In addition these posts do not have yet another 
permalink, the permalink remains the same as the original. In feeds it 
will link to the original, and on archive and pages on a website they 
will link to the original. They are copied to be a convenience, and made 
more accessible.

 > Problem #2: There were concerns about "cross-posts" and how it could 
be abused from exact duplicates of sites with a different theme.

There could be malicious copies made, this currently has not been 
addressed with current development but is part of the next. If a problem 
were to be discovered, the malicious IP could be blocked. For more 
security, a move towards fully encrypted and authenticated feed 
connections could be made so that only those who you intent to share 
with get the information. Currently read posts are the status "pending", 
as a partial solution to this issue.

 > Problem #3. Auto-generated posts leading to drop of participation.

I've address this by making all read posts default to status "pending", 
and you can go through your reader and "approve" posts and then those 
are shared and made available for others to view. They go back into a 
feed, they permalink and guid remains the same, to make a feed that is a 
mix of other feeds. These approved posts then are also made available to 
view on your site, and can be searched (though search isn't implemented 
yet).

 > Problem #4. Issue with comments getting lost between the two separate 
copies.

Commenting on a "update" post is disabled, to comment on the post it's 
necessary to return to the original.

 > Problem #5: Copies taking attention away from the original.

There isn't a "single" view of "update" posts, and the permalink remains 
and goes to the original.

 > Problem #6: JavaScript front-end would create more work, and would be 
easier by doing plain old html first.

I've written the front-end as plain old html, with only a small part of 
JavaScript that is necessary for approving posts.

 > Problem #7. Potential problem with planning on bundling with 
WordPress, as the core team plans to unbundle Akismet and move towards a 
featured plugin model.

Plans of bundling along side WordPress, as a separate WordPress 
distribution, "package" or as part of the core have been taken out. 
Continuing work under the impression of being a plugin standalone.


More AWE Project Information

Download and project page: http://wordpress.org/extend/plugins/awe/

Discussion mailing-list: Send an email with the subject "subscribe" to 
awe-request at freelists.org / http://www.freelists.org/list/awe

Project/Git:http://code.braydon.com/p/awe/

SVN: http://plugins.svn.wordpress.org/awe/trunk/


And here is the revised plan for AWE:

1. URLS, Templates, Reader:

  * COMPLETED / Editing URLS
  * COMPLETED / Managing Menus
  * COMPLETED / Editing Templates
  * COMPLETED / Feed reader

2. Accessibility & Search Engines:

  * COMPLETED / Dealing with having two types of posts "remote" and
    "local". "Remote" posts should not be indexed by search engines, and
    should only account as a referrer link, and emphasizing returning to
    the original source. There should be options for full display, or
    excerpt only.
  * Sitemap and site indexes, robots.txt to emphasis what is to be
    indexed by search engines.
  * COMPLETED / Participation upon reposting, each imported post will
    need to be published, so that there is a level of human
    participation necessary and isn't totally automated, and easily abused.
  * Make it easy to annotate the post with a personalized note.
  * Posts as reply to another post, to supplement loss of comments
    between mirrored posts, emphasis trackbacks in a clean format to
    follow discussion.

3. Extensibility, Security, Authentication, Privacy:

  * Front-end interface is extensible with an API.
  * To introduce private posting via confirmed subscriptions.
  * OpenID for network to network authentication and privacy.

4. Plugins:

  * Write extensions for AWE to add new post types including:
    advertising, video, sound, gallery, events, and shop.

5. Web Service:

  * Dedicated web host for users that don't want to run it on their own
    hardware.
  * Sign-up and payment settings.

Best,
Braydon Fuller
http://braydon.com/

From tcbarrett at gmail.com  Thu Nov 10 09:35:34 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Thu, 10 Nov 2011 09:35:34 +0000
Subject: [wp-hackers] WordPress coding standards and vim (was Re: Which
 editor do you use?)
Message-ID: <CAEgmxaZniZSoGnqNFzdV8e0A_xM1Rz9O6Vk3wJPB8rdmZVeJ4w@mail.gmail.com>

On 17 October 2011 23:47, Otto <otto at ottodestruct.com> wrote:

> On Linux, vim. It's not the easiest editor in the world to use; it
> helps if you can write complex regexp in your head. ;)


RE: WordPress coding standards
Otto, could I trouble you for your vimrc settings?

Also, I've inherited some code that is going into a theme, are there any
tried and tested scripts that can help me bulk parse some files into
complying better with coding standards? I guess I'm not terribly adverse to
installing an IDE to do it if I have to.

-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From banago at gmail.com  Thu Nov 10 10:32:02 2011
From: banago at gmail.com (Baki Goxhaj)
Date: Thu, 10 Nov 2011 11:32:02 +0100
Subject: [wp-hackers] wp_insert_posts?
In-Reply-To: <6CB6C1AA-2CCA-4877-93DD-04C05EE7011C@gmail.com>
References: <94D7FE74-D8C9-4A80-A419-27841DA2C4A2@gmail.com>
	<A1D5B337-8C8B-4786-ACB4-E60DC9202346@newclarity.net>
	<E1EA1038-5DB3-4785-8BD4-573DFE13DD1B@gmail.com>
	<749B9404-E2D1-4037-A3C3-F33F531788D6@newclarity.net>
	<6CB6C1AA-2CCA-4877-93DD-04C05EE7011C@gmail.com>
Message-ID: <CAM_fM0pC_DAS4f7aVvOdqWKhdJu_pkDxW6SvPGT53Mj=9A0RvQ@mail.gmail.com>

I've been in this position and all I could do is run a foreach on
wp_insert_posts().

Kindly,

Baki Goxhaj
www.wplancer.com | proverbhunter.com | www.banago.info<http://proverbhunter.com>


On Thu, Nov 10, 2011 at 5:46 AM, Ryan Frankel <ryan.frankel at gmail.com>wrote:

> I figured.  =).  Thanks.
>
> On Nov 9, 2011, at 11:44 PM, Mike Schinkel wrote:
>
> > On Nov 9, 2011, at 11:35 PM, Ryan Frankel wrote:
> >> As a follow up?.is there an update_post_meta that can accept an object
> or array of keys and values to update more then one at a time?
> >
> > Nope.  Another "nice to have."
> >
> > -Mike
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jw at jacksonwhelan.com  Thu Nov 10 11:31:38 2011
From: jw at jacksonwhelan.com (Jackson Whelan)
Date: Thu, 10 Nov 2011 06:31:38 -0500
Subject: [wp-hackers] WordPress coding standards and vim (was Re: Which
	editor do you use?)
In-Reply-To: <CAEgmxaZniZSoGnqNFzdV8e0A_xM1Rz9O6Vk3wJPB8rdmZVeJ4w@mail.gmail.com>
References: <CAEgmxaZniZSoGnqNFzdV8e0A_xM1Rz9O6Vk3wJPB8rdmZVeJ4w@mail.gmail.com>
Message-ID: <4362A044-BB97-4CBF-AE9F-EC749821058C@jacksonwhelan.com>

On Nov 10, 2011, at 4:35 AM, Tom Barrett <tcbarrett at gmail.com> wrote:

> Also, I've inherited some code that is going into a theme, are there any
> tried and tested scripts that can help me bulk parse some files into
> complying better with coding standards? I guess I'm not terribly adverse to
> installing an IDE to do it if I have to.

Here's some info on using PHPTidy with Coda or TextWrangler to format code to WordPress standards:

http://magp.ie/2011/01/10/tidy-and-format-your-php-and-meet-wordpress-standards-on-coda-and-

Hope that helps 

- Jackson


From michal at srodek.info  Thu Nov 10 12:15:40 2011
From: michal at srodek.info (=?ISO-8859-2?Q?Micha=B3_=A6rodek?=)
Date: Thu, 10 Nov 2011 13:15:40 +0100
Subject: [wp-hackers] Shortcode parser
Message-ID: <CALK=EkGPXa=1BBT8tj0JC3HocCrdzPwb+pEdaCS-Mkq-OYf4Dg@mail.gmail.com>

Hey there,

I'm new here and I'd like to fix some core bugs of WP. The first
issues are connected with Shortcode API.

I found some pretty old bugs in trac:
http://core.trac.wordpress.org/ticket/9264
http://core.trac.wordpress.org/ticket/17657
http://core.trac.wordpress.org/ticket/12982
http://core.trac.wordpress.org/ticket/10702

Someone else was writing a shortcodes patch about year ago(you can
read about it here: http://core.trac.wordpress.org/ticket/14481 ) but
his solution wasn't elegant and compatible with already written wp
code.

I've been preparing a fix which will be work great with wp shortcode
interface but I need some unit tests to check my solution.

The first test php file( not so perfect yet ) is available here:
http://srodek.info/online/wp-hackers/2011-11-10.txt
You can also run it online here
http://srodek.info/online/wp-hackers/2011-11-10.php

Let me know what are you thinking about that. Maybe some of my tests
are incorrect.

The main change is the regular expression which I used. It's much more
precisly because of using recursion. Let me know if you see any bugs
in that regexp.

$regexp = '#(.?)(?:\[('.$tagregexp.')((?:\s|=).*[^\/\]]{1})?\] ( (?:
(?(R) [^\[]++ | [^\[]*+) | (?R)) *) \[/\\2\] |
\[('.$this->allowedShortcodes.')((?:\s|=)[^\/\[\]]+?)?\/?\])(.?)#x';

Warm Regards
Micha? ?rodek

From otto at ottodestruct.com  Thu Nov 10 12:30:53 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 10 Nov 2011 06:30:53 -0600
Subject: [wp-hackers] WordPress coding standards and vim (was Re: Which
 editor do you use?)
In-Reply-To: <CAEgmxaZniZSoGnqNFzdV8e0A_xM1Rz9O6Vk3wJPB8rdmZVeJ4w@mail.gmail.com>
References: <CAEgmxaZniZSoGnqNFzdV8e0A_xM1Rz9O6Vk3wJPB8rdmZVeJ4w@mail.gmail.com>
Message-ID: <CAD-FghyRyXuFN7Grjhb6OuLX-rLrExO0B_LvpUfSWeT4DGzB7Q@mail.gmail.com>

On Thu, Nov 10, 2011 at 3:35 AM, Tom Barrett <tcbarrett at gmail.com> wrote:
> On 17 October 2011 23:47, Otto <otto at ottodestruct.com> wrote:
>
>> On Linux, vim. It's not the easiest editor in the world to use; it
>> helps if you can write complex regexp in your head. ;)
>
>
> RE: WordPress coding standards
> Otto, could I trouble you for your vimrc settings?

Don't have one. Vanilla. Generally when I use a linux box, it's one I
haven't used before or something I don't do often, so using the
vanilla setup without customization is the norm. No setup is the most
portable setup. :)

-Otto

From tcbarrett at gmail.com  Thu Nov 10 14:12:07 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Thu, 10 Nov 2011 14:12:07 +0000
Subject: [wp-hackers] Using capabilities to remove posts, links and comments,
	but not menus.
Message-ID: <CAEgmxaZeEuOJH3j2rW4-yB35XNUSE1tO=dyr28S8iaQKzcg+8Q@mail.gmail.com>

I have an editor role for a theme with no posts, links or comments. I
understand that I could unset() the global $menu array to remove stop the
menu items form displaying, but I was hoping to do this with capabilities.

Currently I'm doing this:
  global $wp_roles;
  $editor = &get_role( 'editor' );
  $editor->add_cap( 'edit_theme_options' );

  $wp_roles->remove_cap( 'editor', 'edit_posts' );
  $wp_roles->remove_cap( 'editor', 'manage_links' );
  $wp_roles->remove_cap( 'editor', 'manage_options' );


I have mapped CPT and taxonomy capabilities onto 'page'. This works, except
that core calls wp_insert_post() to create menu items (and thus fails).

Is there a way around this using capaiblities?

-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From mda at blogwaffe.com  Thu Nov 10 19:37:24 2011
From: mda at blogwaffe.com (Michael D Adams)
Date: Thu, 10 Nov 2011 11:37:24 -0800
Subject: [wp-hackers] Shortcode parser
In-Reply-To: <CALK=EkGPXa=1BBT8tj0JC3HocCrdzPwb+pEdaCS-Mkq-OYf4Dg@mail.gmail.com>
References: <CALK=EkGPXa=1BBT8tj0JC3HocCrdzPwb+pEdaCS-Mkq-OYf4Dg@mail.gmail.com>
Message-ID: <CAH-8B6s1n2DkZ6=EY-4O3eGL0a4TyAqaU3+muH59Bv+QnuaNvw@mail.gmail.com>

2011/11/10 Micha? ?rodek <michal at srodek.info>:
> I've been preparing a fix which will be work great with wp shortcode
> interface but I need some unit tests to check my solution.
>
> The first test php file( not so perfect yet ) is available here:
> http://srodek.info/online/wp-hackers/2011-11-10.txt
> You can also run it online here
> http://srodek.info/online/wp-hackers/2011-11-10.php
>
> $regexp = '#(.?)(?:\[('.$tagregexp.')((?:\s|=).*[^\/\]]{1})?\] ( (?:
> (?(R) [^\[]++ | [^\[]*+) | (?R)) *) \[/\\2\] |
> \[('.$this->allowedShortcodes.')((?:\s|=)[^\/\[\]]+?)?\/?\])(.?)#x';

That regex will backtrack a lot for large posts on sites with many
shortcodes defined.  See, for example, the work in
http://core.trac.wordpress.org/ticket/15600.

Using a recursive regex to solve the nested shortcode problem will
probably always fail badly in edge cases.

If we want to fix some of these edge cases, we should use a real
tokenizer/parser, not a regular expression.

Mike

From admin at laptoptips.ca  Thu Nov 10 21:23:06 2011
From: admin at laptoptips.ca (Andrew Ozz)
Date: Thu, 10 Nov 2011 13:23:06 -0800
Subject: [wp-hackers] 3.3 media upload API
In-Reply-To: <CAGEuVU0+3C+GraGyQbGMo6s6GtFzjYwPnbgfiSGR_yd7wUy0ZA@mail.gmail.com>
References: <CAGEuVU0+3C+GraGyQbGMo6s6GtFzjYwPnbgfiSGR_yd7wUy0ZA@mail.gmail.com>
Message-ID: <4EBC40BA.5070405@laptoptips.ca>

On 09/11/2011 3:52 AM, Steve Taylor wrote:
> So, I've got this JS:
>
> if ( typeof(wpUploaderInit) == 'object' ) {
> 	uploader.bind('FileUploaded', function() {
> 		alert( $( 'table.describe thead' ).attr( 'id' ) );
> 	});
> }
> ...
> Neither the 'UploadComplete' or 'FileUploaded' Plupload events seem to work.

Seems you're 'binding' the function too early. I would probably test for 
typeof(uploader) == 'object' and wait until after 
jQuery(document).ready() has finished running.

uploader.bind('UploadComplete', function() {
   alert('123');
});

in the console works as expected.

From steve at sltaylor.co.uk  Thu Nov 10 21:39:17 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Thu, 10 Nov 2011 21:39:17 +0000
Subject: [wp-hackers] 3.3 media upload API
In-Reply-To: <4EBC40BA.5070405@laptoptips.ca>
References: <CAGEuVU0+3C+GraGyQbGMo6s6GtFzjYwPnbgfiSGR_yd7wUy0ZA@mail.gmail.com>
	<4EBC40BA.5070405@laptoptips.ca>
Message-ID: <CAGEuVU0G2VAyMF+mrA3essZDShJ1xQu3YnZ+uMoEbrers-tHsA@mail.gmail.com>

Thanks Andrew. I've ended up with this:

$( document ).ajaxComplete( function() {
	[do stuff]
});

Very blunt, but effective. The stuff in there tests what's what in the
DOM and detects if a new media item has been dropped in. Seems to work
OK, though I'll have another crack with your suggestion if I run into
problems with this.

Cheers,

Steve

> Seems you're 'binding' the function too early. I would probably test for
> typeof(uploader) == 'object' and wait until after jQuery(document).ready()
> has finished running.
>
> uploader.bind('UploadComplete', function() {
> ?alert('123');
> });
>
> in the console works as expected.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mike at etchsoftware.com  Thu Nov 10 23:07:50 2011
From: mike at etchsoftware.com (Mike Bijon)
Date: Thu, 10 Nov 2011 15:07:50 -0800
Subject: [wp-hackers] WordPress coding standards and vim (was Re: Which
 editor do you use?)
Message-ID: <CABwjQBwAiZLy-FVaopzFYCVbrmQhaBy5Zap=rJnzq3E81Jb4NQ@mail.gmail.com>

Tom,
The CodeSniffer package in PEAR and this coding standard are a good place
to start with formatting code:
* http://urbangiraffe.com/articles/wordpress-codesniffer-standard/

I've had good results using it on an inherited site via Eclipse,
http://daniloercoli.wordpress.com/2011/08/18/wordpress-coding-standards-and-eclipse/.
You & vim might prefer jumping straight to the command line docs,
http://pear.php.net/manual/en/package.php.php-codesniffer.usage.php.

For anyone else on this list is using a Mac, one of the PollDaddy devs
actually wrote something about automating standards with Coda or
TextWrangler. I haven't tried his method but it sounds this solution is
more automated than what CodeSniffer does:
*
http://magp.ie/2011/01/10/tidy-and-format-your-php-and-meet-wordpress-standards-on-coda-and-textwrangler/

-Mike

From dianakac at gmail.com  Fri Nov 11 04:00:02 2011
From: dianakac at gmail.com (Diana K. Cury)
Date: Fri, 11 Nov 2011 01:00:02 -0300
Subject: [wp-hackers] Twenty Ten Theme tag
Message-ID: <000a01cca026$6a764900$0100a8c0@corpfe1f3cd943>

I was battling for implement microdata/scheme in a child theme then I found that when gererating the "Posted on" (a function in Twenty Ten), the link title is... the time?! Why not the post title? 

I even tried to set the title, but it doesn't work ?!

From tcbarrett at gmail.com  Fri Nov 11 10:50:23 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Fri, 11 Nov 2011 10:50:23 +0000
Subject: [wp-hackers] Using capabilities to remove posts,
	links and comments, but not menus.
In-Reply-To: <CAEgmxaZeEuOJH3j2rW4-yB35XNUSE1tO=dyr28S8iaQKzcg+8Q@mail.gmail.com>
References: <CAEgmxaZeEuOJH3j2rW4-yB35XNUSE1tO=dyr28S8iaQKzcg+8Q@mail.gmail.com>
Message-ID: <CAEgmxabU4os2dQfQDCNAS6v3tyZEBV=o6d=+iEffKhGJK3H5yw@mail.gmail.com>


From kevinjohngallagher at hotmail.com  Fri Nov 11 11:12:16 2011
From: kevinjohngallagher at hotmail.com (Kevinjohn Gallagher)
Date: Fri, 11 Nov 2011 11:12:16 +0000
Subject: [wp-hackers] Using capabilities to remove posts,
 links and comments, but not menus.
In-Reply-To: <CAEgmxabU4os2dQfQDCNAS6v3tyZEBV=o6d=+iEffKhGJK3H5yw@mail.gmail.com>
Message-ID: <BLU0-SMTP113FB85DFEA49BF185128EACCDD0@phx.gbl>

Hi Tom,

I'm sure you're aware but it should also be noted that giving someone the
capability to moderate comments allows them access to edit all posts.
This has caused me a large number of issues in the past (and 1 very public
one).

Kev

==============================================
Kevinjohn Gallagher

 
+44 (0) 7788 718382
KevinjohnGallagher at hotmail.com
http://www.kevinjohngallagher.com
http://www.linkedin.com/in/kevinjohngallagher
==============================================







On 11/11/2011 10:50, "Tom Barrett" <tcbarrett at gmail.com> wrote:

>From the resounding silence .. :)
>
>Also, watching Chip's video on theme development (submitting to
>wordpress.org), having comments as no-questions-asked REQUIRED element
>would seem to imply that edit_posts is a REQUIRED capability for themes.
>
>And finally, looking through wp-admin/includes/menu.php and
>the custom_menu_order filters, removing posts and comments from the admin
>menu doesn't appear to be encouraged.
>
>Over all, it seems my approach is not very 'WordPress'. I will re-visit
>this later.
>
>Thanks for listening.
>
>-- 
>http://www.tcbarrett.com | http://gplus.to/tcbarrett |
>http://twitter.com/tcbarrett
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers
>



From otto at ottodestruct.com  Fri Nov 11 13:25:10 2011
From: otto at ottodestruct.com (Otto)
Date: Fri, 11 Nov 2011 07:25:10 -0600
Subject: [wp-hackers] Twenty Ten Theme tag
In-Reply-To: <000a01cca026$6a764900$0100a8c0@corpfe1f3cd943>
References: <000a01cca026$6a764900$0100a8c0@corpfe1f3cd943>
Message-ID: <CAD-FghyfMpcHf=jCL0j2to3_xRJOoCfXJKzXQK+vCHvRHzeDWQ@mail.gmail.com>

The title of a link should reflect the content of that link, not the
location it links to. In this case, since it's surrounding the_date,
then use of the_time to have the post time in a different format makes
sense.

Screen readers for the blind use the title attributes in some cases,
so they should always relate to the content of the link itself.

-Otto



On Thu, Nov 10, 2011 at 10:00 PM, Diana K. Cury <dianakac at gmail.com> wrote:
> I was battling for implement microdata/scheme in a child theme then I found that when gererating the "Posted on" (a function in Twenty Ten), the link title is... the time?! Why not the post title?
>
> I even tried to set the title, but it doesn't work ?!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dianakac at gmail.com  Fri Nov 11 15:14:59 2011
From: dianakac at gmail.com (Diana K. Cury)
Date: Fri, 11 Nov 2011 12:14:59 -0300
Subject: [wp-hackers] Twenty Ten Theme tag
References: <000a01cca026$6a764900$0100a8c0@corpfe1f3cd943>
	<CAD-FghyfMpcHf=jCL0j2to3_xRJOoCfXJKzXQK+vCHvRHzeDWQ@mail.gmail.com>
Message-ID: <001a01cca084$b0e11510$0100a8c0@corpfe1f3cd943>

That is true, but why the post title has time (i.e 16:12) as title in 
postmeta?!

When testing the schema in google tools, I can see the weirdness, the rel 
content in feed was showing the time and the title was missing. Once I 
changed that, everything worked out.

The time should point to some date/time I think, doesnt make sense to me use 
it in post link in postmeta.


----- Original Message ----- 
From: "Otto" <otto at ottodestruct.com>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, November 11, 2011 10:25 AM
Subject: Re: [wp-hackers] Twenty Ten Theme tag


> The title of a link should reflect the content of that link, not the
> location it links to. In this case, since it's surrounding the_date,
> then use of the_time to have the post time in a different format makes
> sense.
>
> Screen readers for the blind use the title attributes in some cases,
> so they should always relate to the content of the link itself.
>
> -Otto
>
>
>
> On Thu, Nov 10, 2011 at 10:00 PM, Diana K. Cury <dianakac at gmail.com> 
> wrote:
>> I was battling for implement microdata/scheme in a child theme then I 
>> found that when gererating the "Posted on" (a function in Twenty Ten), 
>> the link title is... the time?! Why not the post title?
>>
>> I even tried to set the title, but it doesn't work ?!
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From otto at ottodestruct.com  Fri Nov 11 14:45:58 2011
From: otto at ottodestruct.com (Otto)
Date: Fri, 11 Nov 2011 08:45:58 -0600
Subject: [wp-hackers] Twenty Ten Theme tag
In-Reply-To: <001a01cca084$b0e11510$0100a8c0@corpfe1f3cd943>
References: <000a01cca026$6a764900$0100a8c0@corpfe1f3cd943>
	<CAD-FghyfMpcHf=jCL0j2to3_xRJOoCfXJKzXQK+vCHvRHzeDWQ@mail.gmail.com>
	<001a01cca084$b0e11510$0100a8c0@corpfe1f3cd943>
Message-ID: <CAD-FghyWVq9nutAJQQc3U9NWf3heNXwBKAEzr3FipC_vmc2yHQ@mail.gmail.com>

I'm sorry, I don't understand what you're talking about. In twenty
ten, the title has the title as the title. :)

Here's the code:

<h2 class="entry-title"><a href="<?php the_permalink(); ?>"
title="<?php printf( esc_attr__( 'Permalink to %s', 'twentyten' ),
the_title_attribute( 'echo=0' ) ); ?>" rel="bookmark"><?php
the_title(); ?></a></h2>

No time there at all.

-Otto



On Fri, Nov 11, 2011 at 9:14 AM, Diana K. Cury <dianakac at gmail.com> wrote:
> That is true, but why the post title has time (i.e 16:12) as title in
> postmeta?!
>
> When testing the schema in google tools, I can see the weirdness, the rel
> content in feed was showing the time and the title was missing. Once I
> changed that, everything worked out.
>
> The time should point to some date/time I think, doesnt make sense to me use
> it in post link in postmeta.
>
>
> ----- Original Message ----- From: "Otto" <otto at ottodestruct.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Friday, November 11, 2011 10:25 AM
> Subject: Re: [wp-hackers] Twenty Ten Theme tag
>
>
>> The title of a link should reflect the content of that link, not the
>> location it links to. In this case, since it's surrounding the_date,
>> then use of the_time to have the post time in a different format makes
>> sense.
>>
>> Screen readers for the blind use the title attributes in some cases,
>> so they should always relate to the content of the link itself.
>>
>> -Otto
>>
>>
>>
>> On Thu, Nov 10, 2011 at 10:00 PM, Diana K. Cury <dianakac at gmail.com>
>> wrote:
>>>
>>> I was battling for implement microdata/scheme in a child theme then I
>>> found that when gererating the "Posted on" (a function in Twenty Ten), the
>>> link title is... the time?! Why not the post title?
>>>
>>> I even tried to set the title, but it doesn't work ?!
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chip at chipbennett.net  Fri Nov 11 14:54:53 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Fri, 11 Nov 2011 08:54:53 -0600
Subject: [wp-hackers] Twenty Ten Theme tag
In-Reply-To: <CAD-FghyWVq9nutAJQQc3U9NWf3heNXwBKAEzr3FipC_vmc2yHQ@mail.gmail.com>
References: <000a01cca026$6a764900$0100a8c0@corpfe1f3cd943>
	<CAD-FghyfMpcHf=jCL0j2to3_xRJOoCfXJKzXQK+vCHvRHzeDWQ@mail.gmail.com>
	<001a01cca084$b0e11510$0100a8c0@corpfe1f3cd943>
	<CAD-FghyWVq9nutAJQQc3U9NWf3heNXwBKAEzr3FipC_vmc2yHQ@mail.gmail.com>
Message-ID: <CAPdLKqf6id=5DQC6GOQwrLnozRKshhB-=fvUHRd1AtudreDiBg@mail.gmail.com>

Otto,

It's the twentyten_posted_on() output:
http://themes.svn.wordpress.org/twentyten/1.1/functions.php

e.g.

function twentyten_posted_on() {

	printf( __( '<span class="%1$s">Posted on</span> %2$s <span
class="meta-sep">by</span> %3$s', 'twentyten' ),

		'meta-prep meta-prep-author',

		sprintf( '<a href="%1$s" title="%2$s" rel="bookmark"><span
class="entry-date">%3$s</span></a>',

			get_permalink(),

			esc_attr( get_the_time() ),

			get_the_date()

		),

		sprintf( '<span class="author vcard"><a class="url fn n" href="%1$s"
title="%2$s">%3$s</a></span>',

			get_author_posts_url( get_the_author_meta( 'ID' ) ),

			sprintf( esc_attr__( 'View all posts by %s', 'twentyten' ),
get_the_author() ),

			get_the_author()

		)

	);

}

The anchor text shows the date, but the anchor title attribute shows the
time.

Chip


On Fri, Nov 11, 2011 at 8:45 AM, Otto <otto at ottodestruct.com> wrote:

> I'm sorry, I don't understand what you're talking about. In twenty
> ten, the title has the title as the title. :)
>
> Here's the code:
>
> <h2 class="entry-title"><a href="<?php the_permalink(); ?>"
> title="<?php printf( esc_attr__( 'Permalink to %s', 'twentyten' ),
> the_title_attribute( 'echo=0' ) ); ?>" rel="bookmark"><?php
> the_title(); ?></a></h2>
>
> No time there at all.
>
> -Otto
>
>
>
> On Fri, Nov 11, 2011 at 9:14 AM, Diana K. Cury <dianakac at gmail.com> wrote:
> > That is true, but why the post title has time (i.e 16:12) as title in
> > postmeta?!
> >
> > When testing the schema in google tools, I can see the weirdness, the rel
> > content in feed was showing the time and the title was missing. Once I
> > changed that, everything worked out.
> >
> > The time should point to some date/time I think, doesnt make sense to me
> use
> > it in post link in postmeta.
> >
> >
> > ----- Original Message ----- From: "Otto" <otto at ottodestruct.com>
> > To: <wp-hackers at lists.automattic.com>
> > Sent: Friday, November 11, 2011 10:25 AM
> > Subject: Re: [wp-hackers] Twenty Ten Theme tag
> >
> >
> >> The title of a link should reflect the content of that link, not the
> >> location it links to. In this case, since it's surrounding the_date,
> >> then use of the_time to have the post time in a different format makes
> >> sense.
> >>
> >> Screen readers for the blind use the title attributes in some cases,
> >> so they should always relate to the content of the link itself.
> >>
> >> -Otto
> >>
> >>
> >>
> >> On Thu, Nov 10, 2011 at 10:00 PM, Diana K. Cury <dianakac at gmail.com>
> >> wrote:
> >>>
> >>> I was battling for implement microdata/scheme in a child theme then I
> >>> found that when gererating the "Posted on" (a function in Twenty Ten),
> the
> >>> link title is... the time?! Why not the post title?
> >>>
> >>> I even tried to set the title, but it doesn't work ?!
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From pauli.price at gmail.com  Fri Nov 11 19:45:33 2011
From: pauli.price at gmail.com (Pauli Price)
Date: Fri, 11 Nov 2011 14:45:33 -0500
Subject: [wp-hackers] Fixing some SSL cases for 3.4
In-Reply-To: <4C9C70943A019D44B90BF87BB445B2DFDAE30C5A5D@RSWMAIL1.dgs.dgsystems.com>
References: <CAD875F4.1502C%pauli.price@gmail.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE2FE390F@RSWMAIL1.dgs.dgsystems.com>
	<CAMAwOQ8EZtPD4y5tBvEiPrr+zu-Fw4PL_N4ARf5w50Y5i=VsEA@mail.gmail.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE30C5A5D@RSWMAIL1.dgs.dgsystems.com>
Message-ID: <CAMAwOQ90SgOSv5Ft_oOHSOfOH7rx3m0fe0w4wtGF-9TccrfdYQ@mail.gmail.com>

I took a quick look at the patch.  In general, I like the approach.  It
will be a little while before I have time to  confirm my understanding of
exactly what it does.  For instance, I haven't evaluated whether it would
change the scheme for these constants:

WP_CONTENT_DIR  // no trailing slash, full paths only
WP_CONTENT_URL  // full url
WP_PLUGIN_DIR  // full path, no trailing slash
WP_PLUGIN_URL  // full url, no trailing slash

As noted by Jeremy Clarke and others, (see:
http://core.trac.wordpress.org/ticket/13941) before WP3.0, plugin and theme
authors where 'doing_it_right()' using these constants.  There's been no
serious effort to eliminate their continued use.  Without fixing the
constants, or enforcing that they're not used by plugins and themes, we
won't be done.  And then we'll have to deal with content urls while editing
posts and comments when FORCE_SSL_ADMIN is defined.

So - to recap:

1) decide on implementation of set_url_scheme() (
http://core.trac.wordpress.org/ticket/18017) and whether to go with this
refactoring of scheme (
http://core.trac.wordpress.org/attachment/ticket/19037/ssl.patch )

2) determine our way forward on whether to change the constants so that
they respect scheme()

3) decide how to support editing if content urls should be http when
published, if FORCE_SSL_ADMIN is in effect.

4) related tickets: #13941 <http://core.trac.wordpress.org/ticket/13941>,
#15928 <http://core.trac.wordpress.org/ticket/15928>,
#19023<http://core.trac.wordpress.org/ticket/19023>,
#18005 <http://core.trac.wordpress.org/ticket/18005>,
#19037<http://core.trac.wordpress.org/ticket/19037>,
#18017 <http://core.trac.wordpress.org/ticket/18017>

Am I missing anything?

Pauli

On Tue, Nov 8, 2011 at 5:57 PM, Marcus Pope <Marcus.Pope at springbox.com>wrote:

> I'm all for this change as much as I am for the root-relative url switch
> because it improves performance and robustness of wp.
>
> I'm even in support of putting wordpress-https AND my own
> root-relative-urls out of business if possible, but schemeless urls
> generated by the system would not put either to bed because of content urls
> and the long-standing assumptions made in hundreds of plugins, not just
> wordpress-https.
>
> Here's the strategy I took to fix the SSL problems you pointed out:
>
> http://core.trac.wordpress.org/ticket/19037
> http://core.trac.wordpress.org/attachment/ticket/19037/ssl.patch
>
> In addition to the tickets you reference for open/existing ssl problems I
> discovered a number of undocumented ones while refactoring the core of
> wordpress to support root-relative urls.  When I realized it could be
> achieved via a plugin, I backed out all of the work except for this scheme
> refactoring.  I didn't keep all of the ssl fixes because after finding half
> a dozen or so I realized that I could spend another week finding more.
>  This patch was just to get the ball rolling on a strategy for moving
> forward.
>
> Implement this patch, and then wrap scheme(...) around each of the
> referenced code points in those trac tickets and I think you'll find the
> problem solved... temporarily.  I say temporarily because it's only a
> matter of time before someone extends the core framework in some way
> related to urls and forgets to wrap scheme() around it, in the same way
> they forgot to do the is_ssl() check, or http/s string substitution in
> those existing tickets.
>
> (and yeah I totally should have seen that 3.4 reference in the subject, or
> in the text, or every other place it was plastered! :D)
>
> Thanks,
> Marcus
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:
> wp-hackers-bounces at lists.automattic.com] On Behalf Of Pauli Price
> Sent: Friday, November 04, 2011 1:28 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Fixing some SSL cases for 3.4
>
> "last minute stake in the 3.3 game"
>
> This work is targeting 3.4, so not to worry.  The point is to put
> http://wordpress.org/extend/plugins/wordpress-https/ out of business,
> except for shared SSL certificate support.  That seems like enough of an
> edge case that it can be delegated to a plugin.
>
> Pauli
>
>
> On Thu, Nov 3, 2011 at 8:22 PM, Marcus Pope <Marcus.Pope at springbox.com
> >wrote:
>
> > Oh man, I swear I did *not* just create a new profile with the name
> > Pauli Price!!!
> >
> > :D
> >
> > Thanks Pauli, those tickets along with the other 500 or so
> > created/fixed/pending on the subject sure are a pain to deal with.
> >
> > But I wanted to say there are some webservers that cannot handle
> > scheme-relative urls.  Not sure if wordpress is supported on anything
> > other than apache and iis (which do support them fully) but if there
> > is support for other webserver packages we should be cautious to
> implement.
> >
> > And to be devil's advocate here, there are a number of plugins that do
> > call parse_url on the home_url's returned by wordpress.  And a smaller
> > number of those logic branch on the "scheme" key in the returned hash
> > array.  Granted it will only generate php notices to access the null
> > scheme key, but it could change the logic branch in a detrimental way
> > if scheme-less urls are used.
> >
> > This little guy has over 25k downloads
> > http://wordpress.org/extend/plugins/wordpress-https/
> > As well as some admin/lockout issues raised in the 2.0 launch a couple
> > days ago.  But I'm sure there are others like the BWP-Minify that
> > could see some problems as well.
> >
> > I have always been an advocate of the argument that it could be
> > problematic for the community, so my concern here is that it's a last
> > minute stake in the 3.3 game, that might need some more heads-up
> > notice to developers if we were to do a scheme-less switch.
> >
> > But I have also always been a fall-back supporter of scheme-relative
> > urls if root-relative urls were out of the question.
> >
> > Thanks!
> >
> > -----Original Message-----
> > From: wp-hackers-bounces at lists.automattic.com [mailto:
> > wp-hackers-bounces at lists.automattic.com] On Behalf Of Pauli Price
> > Sent: Thursday, November 03, 2011 3:47 PM
> > To: wp-hackers at lists.automattic.com
> > Subject: [wp-hackers] Fixing some SSL cases for 3.4
> >
> > Here?s a transcript from #wordpress-dev.  Seeking guidance on how to
> > move forward with this.  It?s clear that we don?t have a consensus yet.
> >
> > Discussion happens here, on the wp-hackers?  Or on a trac ticket?
> >
> > Is it appropriate to consolidate these tickets?  If so how?
> >
> > ======== transcript follows ==========
> >
> > marfarma:
> >  I'd like to help resolve these related tickets for 3.4 - anybody
> > working on them? #13941, #15928, #18017, #19023, #18005
> >
> > trac-bot:
> >  http://core.trac.wordpress.org/ticket/13941 Future Release,
> > micropat->ryan, new, WP_CONTENT_URL should use site_url() to support
> > micropat->HTTPS /
> > SSL
> >  http://core.trac.wordpress.org/ticket/15928 Future Release,
> > atetlaw->(no owner), assigned, wp_get_attachment_url does not check
> > for HTTPS
> >  http://core.trac.wordpress.org/ticket/18017 minor, Future Release,
> > jkudish->jkudish, new, set_url_scheme() function
> >  http://core.trac.wordpress.org/ticket/19023 high, Awaiting Review,
> > joostdevalk->nacin, reviewing, Images in Edit Comments break SSL
> >  http://core.trac.wordpress.org/ticket/18005 minor, Awaiting Review,
> > rfc1437->(no owner), reopened, mixed http/https installation and
> > add_custom_background / body_class
> >
> > nacin:
> >  That's one chunk of tickets.
> >  Yeah, I'd definitely like to tackle all of that for 3.4.
> >
> > marfarma:
> >  but all the same underlying problem
> >
> > nacin:
> >  Indeed.
> >
> > rboren:
> >  Fixing those SSL cases and using home_url() everywhere it is needed
> > would be nice for 3.4.
> >
> > rboren:
> >  And, dare I say it, introduce 'relative' as a scheme argument.
> >
> > marfarma:
> >  relative -- isn't that a 'live-wire' topic?
> >  as in 'untouchable'
> >
> > nacin:
> >  I'd like to do protocol-independent, at least.
> >  like //
> >  anyway,
> >
> > (nacin is now known as nacin|afk.)
> >
> > rboren:
> >  It'd just be an arg for use by plugin and theme authors. No core
> > movement to it.  Anyhow, just something we might want to discuss.
> >
> > AaronCampbell:
> >  I like the idea of being able to do relative links when it makes
> > sense
> >
> > iamfriendly:
> >  where's the "+1 million" button?
> >  what do you mean I don't get a million votes?
> >
> > ======== transcript ends ==========
> >
> > Pauli (aka: marfarma)
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From beckl.d.413 at isg.edu.sa  Sat Nov 12 19:12:43 2011
From: beckl.d.413 at isg.edu.sa (David Beckley)
Date: Sat, 12 Nov 2011 22:12:43 +0300
Subject: [wp-hackers] How can I help?
Message-ID: <CAMojHAxaB=c+PGZm-6nveO2hhs-3VNPgn0nhDhJb+kPye7bFbQ@mail.gmail.com>

I am a high school student and have been learning how to program in my free
time for the past couple of years. I want to contribute to an open source
project such as WordPress, but I am having some difficulty figuring out how
to begin.

I can use PHP, MySQL, HTML, CSS, and JavaScript. If anybody has any advice
for me, please let me know!

Thanks!

David Beckley

From mrtorbert at gmail.com  Sat Nov 12 20:08:15 2011
From: mrtorbert at gmail.com (Michael Torbert)
Date: Sat, 12 Nov 2011 15:08:15 -0500
Subject: [wp-hackers]  How can I help?
In-Reply-To: <CAMojHAxaB=c+PGZm-6nveO2hhs-3VNPgn0nhDhJb+kPye7bFbQ@mail.gmail.com>
References: <CAMojHAxaB=c+PGZm-6nveO2hhs-3VNPgn0nhDhJb+kPye7bFbQ@mail.gmail.com>
Message-ID: <-4169800631636764964@unknownmsgid>

Hi David,

It's great to see your interest in contributing. There are many ways
to help out the project and community.
Check out http://codex.wordpress.org/Contributing_to_WordPress
You can also help to evangelize and organize WordPress groups in your
area and at your school.

Michael Torbert

On Nov 12, 2011, at 2:12 PM, David Beckley <beckl.d.413 at isg.edu.sa> wrote:

> I am a high school student and have been learning how to program in my free
> time for the past couple of years. I want to contribute to an open source
> project such as WordPress, but I am having some difficulty figuring out how
> to begin.
>
> I can use PHP, MySQL, HTML, CSS, and JavaScript. If anybody has any advice
> for me, please let me know!
>
> Thanks!
>
> David Beckley
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mjsafoxy at gmail.com  Sun Nov 13 01:10:37 2011
From: mjsafoxy at gmail.com (Muhammad Ali)
Date: Sun, 13 Nov 2011 01:10:37 +0000
Subject: [wp-hackers] How can I help?
In-Reply-To: <-4169800631636764964@unknownmsgid>
References: <CAMojHAxaB=c+PGZm-6nveO2hhs-3VNPgn0nhDhJb+kPye7bFbQ@mail.gmail.com>
	<-4169800631636764964@unknownmsgid>
Message-ID: <CAMGJ0yxj7H_Ar03xjOXQGgTNLXWhVCHcVUW7hOzoXo0EPmDCcg@mail.gmail.com>

Hey; had your email up in a different tab, just got around to replying to
it after several hours. One of the best ways you could contribute is
probably add to the user-made library of plugins and themes. Try to be
original and spot a gap. I advise you also review the Wordpress function
library and learn the basics of it.

Firstly, however; I advise you set-up your own install and just play around
(with Wordpress, not yourself).

On 12 November 2011 20:08, Michael Torbert <mrtorbert at gmail.com> wrote:

> Hi David,
>
> It's great to see your interest in contributing. There are many ways
> to help out the project and community.
> Check out http://codex.wordpress.org/Contributing_to_WordPress
> You can also help to evangelize and organize WordPress groups in your
> area and at your school.
>
> Michael Torbert
>
> On Nov 12, 2011, at 2:12 PM, David Beckley <beckl.d.413 at isg.edu.sa> wrote:
>
> > I am a high school student and have been learning how to program in my
> free
> > time for the past couple of years. I want to contribute to an open source
> > project such as WordPress, but I am having some difficulty figuring out
> how
> > to begin.
> >
> > I can use PHP, MySQL, HTML, CSS, and JavaScript. If anybody has any
> advice
> > for me, please let me know!
> >
> > Thanks!
> >
> > David Beckley
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ryanchan404 at gmail.com  Sun Nov 13 05:01:01 2011
From: ryanchan404 at gmail.com (Ryan Chan)
Date: Sun, 13 Nov 2011 13:01:01 +0800
Subject: [wp-hackers] XMLRPC (wp.editComment) does not allow change of
	user_id
Message-ID: <CAJvdmtGsf62XvF4kp0dn56Uiu4mHMRQLTimV4igU9aZ9o-GGeA@mail.gmail.com>

Hello,

I can create a comment using the "wp.newComment" and then change the
author/author_url using "wp.editComment".

In the database, the values of comment_author, comment_author_email,
comment_author_url are all changed. But the user_id is still 1.

Anyway to change this user_id? In particularly I want to change it to
user id representing anonymous users.


Thanks.

From beckl.d.413 at isg.edu.sa  Sun Nov 13 06:40:03 2011
From: beckl.d.413 at isg.edu.sa (David Beckley)
Date: Sun, 13 Nov 2011 09:40:03 +0300
Subject: [wp-hackers] How can I help?
In-Reply-To: <CAMGJ0yxj7H_Ar03xjOXQGgTNLXWhVCHcVUW7hOzoXo0EPmDCcg@mail.gmail.com>
References: <CAMojHAxaB=c+PGZm-6nveO2hhs-3VNPgn0nhDhJb+kPye7bFbQ@mail.gmail.com>
	<-4169800631636764964@unknownmsgid>
	<CAMGJ0yxj7H_Ar03xjOXQGgTNLXWhVCHcVUW7hOzoXo0EPmDCcg@mail.gmail.com>
Message-ID: <CAMojHAzCBBtufSCOPEzYjBwikptLPUdpJmtaKLgS-4+-1iJOVA@mail.gmail.com>

Thank you for the advice!

Is there documentation of the function library somewhere? Or should I just
read through the code?

David Beckley

On Sun, Nov 13, 2011 at 4:10 AM, Muhammad Ali <mjsafoxy at gmail.com> wrote:

> Hey; had your email up in a different tab, just got around to replying to
> it after several hours. One of the best ways you could contribute is
> probably add to the user-made library of plugins and themes. Try to be
> original and spot a gap. I advise you also review the Wordpress function
> library and learn the basics of it.
>
> Firstly, however; I advise you set-up your own install and just play around
> (with Wordpress, not yourself).
>
> On 12 November 2011 20:08, Michael Torbert <mrtorbert at gmail.com> wrote:
>
> > Hi David,
> >
> > It's great to see your interest in contributing. There are many ways
> > to help out the project and community.
> > Check out http://codex.wordpress.org/Contributing_to_WordPress
> > You can also help to evangelize and organize WordPress groups in your
> > area and at your school.
> >
> > Michael Torbert
> >
> > On Nov 12, 2011, at 2:12 PM, David Beckley <beckl.d.413 at isg.edu.sa>
> wrote:
> >
> > > I am a high school student and have been learning how to program in my
> > free
> > > time for the past couple of years. I want to contribute to an open
> source
> > > project such as WordPress, but I am having some difficulty figuring out
> > how
> > > to begin.
> > >
> > > I can use PHP, MySQL, HTML, CSS, and JavaScript. If anybody has any
> > advice
> > > for me, please let me know!
> > >
> > > Thanks!
> > >
> > > David Beckley
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jesper at jarlskov.dk  Sun Nov 13 07:22:32 2011
From: jesper at jarlskov.dk (Jesper Jarlskov)
Date: Sun, 13 Nov 2011 08:22:32 +0100
Subject: [wp-hackers] How can I help?
In-Reply-To: <CAMojHAzCBBtufSCOPEzYjBwikptLPUdpJmtaKLgS-4+-1iJOVA@mail.gmail.com>
References: <CAMojHAxaB=c+PGZm-6nveO2hhs-3VNPgn0nhDhJb+kPye7bFbQ@mail.gmail.com>
	<-4169800631636764964@unknownmsgid>
	<CAMGJ0yxj7H_Ar03xjOXQGgTNLXWhVCHcVUW7hOzoXo0EPmDCcg@mail.gmail.com>
	<CAMojHAzCBBtufSCOPEzYjBwikptLPUdpJmtaKLgS-4+-1iJOVA@mail.gmail.com>
Message-ID: <CAA31KDbrwcbrdinSetLaD5HmvAbYN+9ptb0Yhb616n3gLVar9g@mail.gmail.com>

You find most things WordPress documented in the Codex -
http://codex.wordpress.org/

On Sun, Nov 13, 2011 at 7:40 AM, David Beckley <beckl.d.413 at isg.edu.sa>wrote:

> Thank you for the advice!
>
> Is there documentation of the function library somewhere? Or should I just
> read through the code?
>
> David Beckley
>
> On Sun, Nov 13, 2011 at 4:10 AM, Muhammad Ali <mjsafoxy at gmail.com> wrote:
>
> > Hey; had your email up in a different tab, just got around to replying to
> > it after several hours. One of the best ways you could contribute is
> > probably add to the user-made library of plugins and themes. Try to be
> > original and spot a gap. I advise you also review the Wordpress function
> > library and learn the basics of it.
> >
> > Firstly, however; I advise you set-up your own install and just play
> around
> > (with Wordpress, not yourself).
> >
> > On 12 November 2011 20:08, Michael Torbert <mrtorbert at gmail.com> wrote:
> >
> > > Hi David,
> > >
> > > It's great to see your interest in contributing. There are many ways
> > > to help out the project and community.
> > > Check out http://codex.wordpress.org/Contributing_to_WordPress
> > > You can also help to evangelize and organize WordPress groups in your
> > > area and at your school.
> > >
> > > Michael Torbert
> > >
> > > On Nov 12, 2011, at 2:12 PM, David Beckley <beckl.d.413 at isg.edu.sa>
> > wrote:
> > >
> > > > I am a high school student and have been learning how to program in
> my
> > > free
> > > > time for the past couple of years. I want to contribute to an open
> > source
> > > > project such as WordPress, but I am having some difficulty figuring
> out
> > > how
> > > > to begin.
> > > >
> > > > I can use PHP, MySQL, HTML, CSS, and JavaScript. If anybody has any
> > > advice
> > > > for me, please let me know!
> > > >
> > > > Thanks!
> > > >
> > > > David Beckley
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jesper Jarlskov

From admin at laptoptips.ca  Sun Nov 13 16:07:03 2011
From: admin at laptoptips.ca (Andrew Ozz)
Date: Sun, 13 Nov 2011 08:07:03 -0800
Subject: [wp-hackers] How can I help?
In-Reply-To: <CAMojHAzCBBtufSCOPEzYjBwikptLPUdpJmtaKLgS-4+-1iJOVA@mail.gmail.com>
References: <CAMojHAxaB=c+PGZm-6nveO2hhs-3VNPgn0nhDhJb+kPye7bFbQ@mail.gmail.com>
	<-4169800631636764964@unknownmsgid>
	<CAMGJ0yxj7H_Ar03xjOXQGgTNLXWhVCHcVUW7hOzoXo0EPmDCcg@mail.gmail.com>
	<CAMojHAzCBBtufSCOPEzYjBwikptLPUdpJmtaKLgS-4+-1iJOVA@mail.gmail.com>
Message-ID: <4EBFEB27.1090202@laptoptips.ca>

On 12/11/2011 10:40 PM, David Beckley wrote:
> Is there documentation of the function library somewhere? Or should I just
> read through the code?

Have a look at http://phpdoc.wordpress.org/trunk/.

If you want to dive in the code best would be to install a LAMP stack on 
your PC (xampp seems to work well on all platforms).

Another very good place to start is the forums: 
http://wordpress.org/support/forum/how-to-and-troubleshooting. Hanging 
out there and researching and replying to questions will get you 
involved in the community very fast.


From beckl.d.413 at isg.edu.sa  Sun Nov 13 16:27:26 2011
From: beckl.d.413 at isg.edu.sa (David Beckley)
Date: Sun, 13 Nov 2011 19:27:26 +0300
Subject: [wp-hackers] How can I help?
In-Reply-To: <4EBFEB27.1090202@laptoptips.ca>
References: <CAMojHAxaB=c+PGZm-6nveO2hhs-3VNPgn0nhDhJb+kPye7bFbQ@mail.gmail.com>
	<-4169800631636764964@unknownmsgid>
	<CAMGJ0yxj7H_Ar03xjOXQGgTNLXWhVCHcVUW7hOzoXo0EPmDCcg@mail.gmail.com>
	<CAMojHAzCBBtufSCOPEzYjBwikptLPUdpJmtaKLgS-4+-1iJOVA@mail.gmail.com>
	<4EBFEB27.1090202@laptoptips.ca>
Message-ID: <CAMojHAxbk1PHUcUsvwxZ_E64RzYGVvm9e+tCnCvsC8uqA=ySBw@mail.gmail.com>

Thanks for the link! It's just what I was looking for.

Actually, I already have XAMPP running on Ubuntu 11.04.

So, I don't have any problem with running WordPress or anything. It's just
so large and a bit more complicated than anything I've written.

David Beckley

On Sun, Nov 13, 2011 at 7:07 PM, Andrew Ozz <admin at laptoptips.ca> wrote:

> On 12/11/2011 10:40 PM, David Beckley wrote:
>
>> Is there documentation of the function library somewhere? Or should I just
>> read through the code?
>>
>
> Have a look at http://phpdoc.wordpress.org/**trunk/<http://phpdoc.wordpress.org/trunk/>
> .
>
> If you want to dive in the code best would be to install a LAMP stack on
> your PC (xampp seems to work well on all platforms).
>
> Another very good place to start is the forums:
> http://wordpress.org/support/**forum/how-to-and-**troubleshooting<http://wordpress.org/support/forum/how-to-and-troubleshooting>.
> Hanging out there and researching and replying to questions will get you
> involved in the community very fast.
>
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From wpmidia at gmail.com  Mon Nov 14 17:17:15 2011
From: wpmidia at gmail.com (wpmidia lab)
Date: Mon, 14 Nov 2011 15:17:15 -0200
Subject: [wp-hackers] Problem: WP_Query() with custom field value as an
	array ...
Message-ID: <CADqS_awoFPQgUgQ7OeU7djfFnc9yV9UnSMR9yruikL+MqNbCpw@mail.gmail.com>

hello people!

How could I do my query (using WP_Query() class), if my custom field value
is stored as an array?

for example:
a:2:{i:0;s:3:"183";i:1;s:3:"182";}

$args = array( 'post_type' => 'MY_POST_TYPE', 'posts_per_page' => 10,
'order' => 'ASC', 'meta_key' => 'MY_KEY', 'meta_value' =>
'MY_META_VALUE_ARRAY' );
$loop = new WP_Query($args);

I need to check if a ID is stored in this array, to proceed my query ....

Somebody help me?


thanks!

-- 
*M?riam de Paula *
*(a.k.a. Drika)*
*Twitter:* @miriamdepaula

wp*midia*
*desenvolvimento web*
http://wpmidia.com.br
twitter: @wpmidia

*WordPress Brasil no Facebook: *
http://www.facebook.com/groups/wordpress.brasil

*OpenCart Brasil no Facebook:*
http://www.facebook.com/groups/opencart.brasil/

From otto at ottodestruct.com  Mon Nov 14 17:41:49 2011
From: otto at ottodestruct.com (Otto)
Date: Mon, 14 Nov 2011 11:41:49 -0600
Subject: [wp-hackers] Problem: WP_Query() with custom field value as an
 array ...
In-Reply-To: <CADqS_awoFPQgUgQ7OeU7djfFnc9yV9UnSMR9yruikL+MqNbCpw@mail.gmail.com>
References: <CADqS_awoFPQgUgQ7OeU7djfFnc9yV9UnSMR9yruikL+MqNbCpw@mail.gmail.com>
Message-ID: <CAD-FghyvCi53Z-xF4z928qPH+N1T6k3U_kvpB6j757biDhXXMA@mail.gmail.com>

Most obvious answer: Don't store the custom field value as a
serialized array. You can store more than one value with a meta key,
making searching for it much easier.

For example, instead of storing the array with 183 and 182 in it,
store it as two separate meta entries with the same meta key.

add_post_meta($post_id, 'keyname', 183);
add_post_meta($post_id, 'keyname', 182);

get_post_meta($post_id, 'keyname'); // returns array(183,182);

-Otto



On Mon, Nov 14, 2011 at 11:17 AM, wpmidia lab <wpmidia at gmail.com> wrote:
> hello people!
>
> How could I do my query (using WP_Query() class), if my custom field value
> is stored as an array?
>
> for example:
> a:2:{i:0;s:3:"183";i:1;s:3:"182";}
>
> $args = array( 'post_type' => 'MY_POST_TYPE', 'posts_per_page' => 10,
> 'order' => 'ASC', 'meta_key' => 'MY_KEY', 'meta_value' =>
> 'MY_META_VALUE_ARRAY' );
> $loop = new WP_Query($args);
>
> I need to check if a ID is stored in this array, to proceed my query ....
>
> Somebody help me?
>
>
> thanks!
>
> --
> *M?riam de Paula *
> *(a.k.a. Drika)*
> *Twitter:* @miriamdepaula
>
> wp*midia*
> *desenvolvimento web*
> http://wpmidia.com.br
> twitter: @wpmidia
>
> *WordPress Brasil no Facebook: *
> http://www.facebook.com/groups/wordpress.brasil
>
> *OpenCart Brasil no Facebook:*
> http://www.facebook.com/groups/opencart.brasil/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ljunior2005 at gmail.com  Mon Nov 14 20:46:59 2011
From: ljunior2005 at gmail.com (Leo Baiano)
Date: Mon, 14 Nov 2011 18:46:59 -0200
Subject: [wp-hackers] Default theme when I am logged in
Message-ID: <CAL1O-KWiMkbM=5zPUV-THMYF5gvr80EaV50hueNSSRd7uqpuCw@mail.gmail.com>

Personally, I'm a very strange problem in one WordPress installation. It
turns out that when I am logged in and access the front end it always shows
the theme twentyeleven, no matter what the theme active. If I log off back
to show the active theme, but when I logged back twenteleven. Does anyone
have any idea what could be?

-- 
Amplexos,

Leo Baiano
http://www.leobaiano.com
http://www.blog.ljunior.com
http://www.mcelebridades.com
http://www.twitter.com/leobaiano

From ljunior2005 at gmail.com  Mon Nov 14 20:55:07 2011
From: ljunior2005 at gmail.com (Leo Baiano)
Date: Mon, 14 Nov 2011 18:55:07 -0200
Subject: [wp-hackers] Default theme when I am logged in
In-Reply-To: <CAL1O-KWiMkbM=5zPUV-THMYF5gvr80EaV50hueNSSRd7uqpuCw@mail.gmail.com>
References: <CAL1O-KWiMkbM=5zPUV-THMYF5gvr80EaV50hueNSSRd7uqpuCw@mail.gmail.com>
Message-ID: <CAL1O-KXBwKNprUE+HV8DEOTpSNBBDtZyZXJOa6znCMH5Yf+k8w@mail.gmail.com>

Never mind, soon after writing the email disable all plugins and gradually
got to identify what the problem was a bad configuration of them. Thanks!

2011/11/14 Leo Baiano <ljunior2005 at gmail.com>

> Personally, I'm a very strange problem in one WordPress installation. It
> turns out that when I am logged in and access the front end it always shows
> the theme twentyeleven, no matter what the theme active. If I log off back
> to show the active theme, but when I logged back twenteleven. Does anyone
> have any idea what could be?
>
> --
> Amplexos,
>
> Leo Baiano
> http://www.leobaiano.com
> http://www.blog.ljunior.com
> http://www.mcelebridades.com
> http://www.twitter.com/leobaiano
>



-- 
Amplexos,

Leo Baiano
http://www.leobaiano.com
http://www.blog.ljunior.com
http://www.mcelebridades.com
http://www.twitter.com/leobaiano

From pasquale.puzio at gmail.com  Tue Nov 15 18:41:32 2011
From: pasquale.puzio at gmail.com (Pasquale Puzio)
Date: Tue, 15 Nov 2011 19:41:32 +0100
Subject: [wp-hackers] Include in functions.php
Message-ID: <CAGcUGA_icSgmXsz6qHe4y8=ri6CAt7mf50RauuOgu9kbvXJVhQ@mail.gmail.com>

Hi guys,

I would import an external script in a custom function hooked to a
WordPress action.

Unfortunately, the include function seems to have some problems. So I'm not
able to use the functions defined in the script.

What's the best way to include an external script in WordPress?

Thanks

-- 
Dott. Pasquale Puzio
http://www.pasqualepuzio.it
info at pasqualepuzio.it
340 5026359

From cross at thisismyurl.com  Tue Nov 15 18:48:39 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Tue, 15 Nov 2011 13:48:39 -0500
Subject: [wp-hackers] Include in functions.php
In-Reply-To: <CAGcUGA_icSgmXsz6qHe4y8=ri6CAt7mf50RauuOgu9kbvXJVhQ@mail.gmail.com>
References: <CAGcUGA_icSgmXsz6qHe4y8=ri6CAt7mf50RauuOgu9kbvXJVhQ@mail.gmail.com>
Message-ID: <A900DF6A-0D39-433F-8821-729A1E52D3FC@thisismyurl.com>

Is it an external PHP? If so, my suggestion is to create a new folder in your theme directory and then include this code in your functions.php file (change the file name and directory as needed) .

$function_include = dirname( __FILE__ ) . '/external/example.php' ;
if ( file_exists( $function_include) ) require_once( $function_include );

that way, you can update the script later without affecting your functions.php file. If it'll always exist, you can skip the test.

Chris


On 2011-11-15, at 1:41 PM, Pasquale Puzio wrote:

> Hi guys,
> 
> I would import an external script in a custom function hooked to a
> WordPress action.
> 
> Unfortunately, the include function seems to have some problems. So I'm not
> able to use the functions defined in the script.
> 
> What's the best way to include an external script in WordPress?
> 
> Thanks
> 
> -- 
> Dott. Pasquale Puzio
> http://www.pasqualepuzio.it
> info at pasqualepuzio.it
> 340 5026359
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers




--
Christopher Ross
christopher.ross at rodonic.com

http://rodonic.com

Toll Free (855) RODONIC

We build websites.


From wp-hackers at google-adsense-templates.co.uk  Wed Nov 16 00:31:33 2011
From: wp-hackers at google-adsense-templates.co.uk (David Law)
Date: Wed, 16 Nov 2011 00:31:33 +0000
Subject: [wp-hackers] Include in functions.php
In-Reply-To: <A900DF6A-0D39-433F-8821-729A1E52D3FC@thisismyurl.com>
References: <CAGcUGA_icSgmXsz6qHe4y8=ri6CAt7mf50RauuOgu9kbvXJVhQ@mail.gmail.com>
	<A900DF6A-0D39-433F-8821-729A1E52D3FC@thisismyurl.com>
Message-ID: <c406c7prad53rhcf74cbnb5mho7d3m7hr3@4ax.com>

On Tue, 15 Nov 2011 13:48:39 -0500, you wrote:

>Is it an external PHP? If so, my suggestion is to create a new folder in your theme directory and then include this code in your functions.php file (change the file name and directory as needed) .
>
>$function_include = dirname( __FILE__ ) . '/external/example.php' ;
>if ( file_exists( $function_include) ) require_once( $function_include );
>
>that way, you can update the script later without affecting your functions.php file. If it'll always exist, you can skip the test.
>
>Chris

Simpler code for files added to the themes directory is

<?php include (get_template_directory() . "/extracode.php"); ?>

My themes functions.php file is only includes like the above (has no
actual code). Even include an additional file for user custom code
(filename zz_extra_functions.php) so it's easy for theme users to add
custom code to the functions.php file and not have to edit the
functions.php file everytime there's a theme update, just have to not
update that file.

Use the same idea for custom widgets as well for when a text widget
won't work.

Since my theme has so many features built in when a feature isn't used
the include file isn't loaded (based on options selected by the user)
reducing the amount of code loaded. For example have the option of
using 6 montization methods built in (AdSense, Chitika etc...) if the
user doesn't use those ad networks the code is never loaded.

Thousands of theme users, no issues so far with this approach.

David
-- 
http://www.stallion-theme.com/ Stallion WordPress SEO Theme
http://www.stallion-theme.com/stallion-wordpress-seo-plugin Stallion
WordPress SEO Plugin

>
>On 2011-11-15, at 1:41 PM, Pasquale Puzio wrote:
>
>> Hi guys,
>> 
>> I would import an external script in a custom function hooked to a
>> WordPress action.
>> 
>> Unfortunately, the include function seems to have some problems. So I'm not
>> able to use the functions defined in the script.
>> 
>> What's the best way to include an external script in WordPress?
>> 
>> Thanks
>> 
>> -- 
>> Dott. Pasquale Puzio
>> http://www.pasqualepuzio.it
>> info at pasqualepuzio.it
>> 340 5026359
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers

From otto at ottodestruct.com  Wed Nov 16 00:44:35 2011
From: otto at ottodestruct.com (Otto)
Date: Tue, 15 Nov 2011 18:44:35 -0600
Subject: [wp-hackers] Include in functions.php
In-Reply-To: <c406c7prad53rhcf74cbnb5mho7d3m7hr3@4ax.com>
References: <CAGcUGA_icSgmXsz6qHe4y8=ri6CAt7mf50RauuOgu9kbvXJVhQ@mail.gmail.com>
	<A900DF6A-0D39-433F-8821-729A1E52D3FC@thisismyurl.com>
	<c406c7prad53rhcf74cbnb5mho7d3m7hr3@4ax.com>
Message-ID: <CAD-FghxGQYdq8cAhGw9derkbKg8JwMQ50E_JH3S9K9iu0uXXVQ@mail.gmail.com>

On Tue, Nov 15, 2011 at 6:31 PM, David Law
<wp-hackers at google-adsense-templates.co.uk> wrote:
>>$function_include = dirname( __FILE__ ) . '/external/example.php' ;
>>if ( file_exists( $function_include) ) require_once( $function_include );
>>
>
> Simpler code for files added to the themes directory is
>
> <?php include (get_template_directory() . "/extracode.php"); ?>
>

Better way:

<?php locate_template('extracode.php', true); ?>

This does a "require" on the file to load it up and it also accounts
for child theme overrides. So if you want to override said file in a
child theme, then it's just a matter of copying the file to the child
theme and modifying it.

You can load files in subdirectories of the theme like so:

<?php locate_template('subdir/extracode.php', true); ?>

Set the optional third parameter to true to make it require_once the
file instead of just require.

-Otto

From cross at thisismyurl.com  Wed Nov 16 00:48:08 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Tue, 15 Nov 2011 19:48:08 -0500
Subject: [wp-hackers] Include in functions.php
In-Reply-To: <CAD-FghxGQYdq8cAhGw9derkbKg8JwMQ50E_JH3S9K9iu0uXXVQ@mail.gmail.com>
References: <CAGcUGA_icSgmXsz6qHe4y8=ri6CAt7mf50RauuOgu9kbvXJVhQ@mail.gmail.com>
	<A900DF6A-0D39-433F-8821-729A1E52D3FC@thisismyurl.com>
	<c406c7prad53rhcf74cbnb5mho7d3m7hr3@4ax.com>
	<CAD-FghxGQYdq8cAhGw9derkbKg8JwMQ50E_JH3S9K9iu0uXXVQ@mail.gmail.com>
Message-ID: <9F1C71DE-30A2-44A1-B9F7-470CE66DB78C@thisismyurl.com>


On 2011-11-15, at 7:44 PM, Otto wrote:

> Better way:
> 
> <?php locate_template('extracode.php', true); ?>

and this is why I tell people you're a super hero with a secret identity.


--
Christopher Ross
christopher.ross at rodonic.com

http://rodonic.com

Toll Free (855) RODONIC

We're more than just great sites.


From rafaehlers at gmail.com  Wed Nov 16 01:49:13 2011
From: rafaehlers at gmail.com (Rafael Ehlers)
Date: Tue, 15 Nov 2011 22:49:13 -0300
Subject: [wp-hackers] Need help with multiple orderby values
Message-ID: <CAF_6N0PooPQ8d60GpPsbdwyfVDZ0Ce_U0DkufesXYpDZiB=P-g@mail.gmail.com>

I have 3 posts (custom post type)

Post 0 -> ID = 0 -> meta_key = ca_type, meta_value = 1
Post 1 -> ID = 1 -> meta_key = ca_type, meta_value = 1
Post 2 -> ID = 2 -> meta_key = ca_type, meta_value = 0

The main query im using on (taxonomy.php) is:

$posts = query_posts(array(

get_query_var( 'taxonomy' ) => get_query_var( 'term' ),

'orderby' => 'meta_value_num ID',

'meta_key' => 'ca_type'

));

The actual result (and wrong one) is:

Post 0
Post 1
Post 2

However, Im expecting something like this (desired result):

Post 1
Post 0
Post 2

Since 'Post 1' have a greater ID than 'Post 0', and assuming that 'order'
=> 'DESC' is the default.

The basic idea, is to filter posts with meta_key ca_type = 1 first and then
between these 2 results, sort by ID (desc, greater, most recent first)

Any ideas what Im possible doing wrong here?!

Thanks in advance!

Rafael Ehlers

From otto at ottodestruct.com  Wed Nov 16 02:17:06 2011
From: otto at ottodestruct.com (Otto)
Date: Tue, 15 Nov 2011 20:17:06 -0600
Subject: [wp-hackers] Need help with multiple orderby values
In-Reply-To: <CAF_6N0PooPQ8d60GpPsbdwyfVDZ0Ce_U0DkufesXYpDZiB=P-g@mail.gmail.com>
References: <CAF_6N0PooPQ8d60GpPsbdwyfVDZ0Ce_U0DkufesXYpDZiB=P-g@mail.gmail.com>
Message-ID: <CAD-Fghz4WNjVLsxRQpetNk39Dkvb9cxuqDf1ghzja1QxfrWfGQ@mail.gmail.com>

Not sure on the reason why you're getting odd results, but this bit is wrong:

$posts = query_posts(...)

query_posts doesn't return anything useful, as it simply modifies the
main query. Also, $posts is a global variable, so you might be
interfering with it somehow that way.

-Otto



On Tue, Nov 15, 2011 at 7:49 PM, Rafael Ehlers <rafaehlers at gmail.com> wrote:
> I have 3 posts (custom post type)
>
> Post 0 -> ID = 0 -> meta_key = ca_type, meta_value = 1
> Post 1 -> ID = 1 -> meta_key = ca_type, meta_value = 1
> Post 2 -> ID = 2 -> meta_key = ca_type, meta_value = 0
>
> The main query im using on (taxonomy.php) is:
>
> $posts = query_posts(array(
>
> get_query_var( 'taxonomy' ) => get_query_var( 'term' ),
>
> 'orderby' => 'meta_value_num ID',
>
> 'meta_key' => 'ca_type'
>
> ));
>
> The actual result (and wrong one) is:
>
> Post 0
> Post 1
> Post 2
>
> However, Im expecting something like this (desired result):
>
> Post 1
> Post 0
> Post 2
>
> Since 'Post 1' have a greater ID than 'Post 0', and assuming that 'order'
> => 'DESC' is the default.
>
> The basic idea, is to filter posts with meta_key ca_type = 1 first and then
> between these 2 results, sort by ID (desc, greater, most recent first)
>
> Any ideas what Im possible doing wrong here?!
>
> Thanks in advance!
>
> Rafael Ehlers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Wed Nov 16 05:09:44 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 16 Nov 2011 00:09:44 -0500
Subject: [wp-hackers] XMLRPC (wp.editComment) does not allow change of
	user_id
In-Reply-To: <CAJvdmtGsf62XvF4kp0dn56Uiu4mHMRQLTimV4igU9aZ9o-GGeA@mail.gmail.com>
References: <CAJvdmtGsf62XvF4kp0dn56Uiu4mHMRQLTimV4igU9aZ9o-GGeA@mail.gmail.com>
Message-ID: <CAP29PvgLQ=dC2bAAhhKLDxJ-nDf04gY+z1E0bmF3wz+ZUmT+2Q@mail.gmail.com>

On Sun, Nov 13, 2011 at 12:01 AM, Ryan Chan <ryanchan404 at gmail.com> wrote:

> Hello,
>
> I can create a comment using the "wp.newComment" and then change the
> author/author_url using "wp.editComment".
>
> In the database, the values of comment_author, comment_author_email,
> comment_author_url are all changed. But the user_id is still 1.
>
> Anyway to change this user_id? In particularly I want to change it to
> user id representing anonymous users.


You can allow anonymous comments using wp.newComment using the
xmlrpc_allow_anonymous_comments filter. wp.editComment does not currently
support the editing of user_id. Check out the source at
wp-includes/class-wp-xmlrpc-server.php.

You may want to direct XML-RPC questions to that list in the future:
http://lists.automattic.com/mailman/listinfo/wp-xmlrpc.

Nacin

From tcbarrett at gmail.com  Wed Nov 16 12:14:01 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Wed, 16 Nov 2011 12:14:01 +0000
Subject: [wp-hackers] Auto creating custom menu
Message-ID: <CAEgmxaYO4JAc728oqGZP430yQGAZTuHQ6=4TbGdpqB_mu+wn4Q@mail.gmail.com>

I am building a WordPress 'deployment system'. As part of this, I want: 1)
install and activate a theme 2) create some pages 3) Add a custom menu with
those pages. The first two steps are fine, and I can create the custom
menu. But I cannot get the pages into the menu.

How the automated part works, is that it creates wp-config.php file, and a
PHP script in wp-admin that installs WordPress (calling wp_install()
e.t.c). It then calls an action hook that is added in the theme's files.

Something a bit like this:

<?php
// Script in wp-admin
require_once( '../wp-load.php' );
require_once( './includes/upgrade.php' );
wp_install( ..... );
do_action( 'setup_wordpress' );
?>

<?php
// Theme functions.php file
add_action( 'setup_wordpress', 'do_setup_wordpress' );
function do_setup_wordpress(){
  $mypages    = make_three_pages_and_return_their_post_id(); // returns
array( [0]=>3, [1]=>4, [2]=>5 )
  $mymenuname = 'My Menu';
  wp_create_nav_menu( $mymenuname );
  $menu       = get_term_by( 'name', $mymenuname, 'nav_menu' );
  $menu_id    = $menu->term_id;

  foreach( $mypages as $page_id ){
    $args = array(
      'menu-item-object-id' => $page_id,
      'menu-item-object'    => 'page',
      'menu-item-type'      => 'post_type',
      'menu-item-status'    => 'publish',
    );
    $menu_item_id = wp_update_nav_menu_item( $menu_id, 0, $args );
  }
}
?>

It does everything except put the pages in the menu. The code works if I
trigger it through browsing the site. EG: add_action( 'admin_init',
'do_setup_wordpress' ); (This is how I developed it initially).

The $menu_item_id variable gets a value (usually 6,7,8).

Any ideas what I'm missing or not doing? Am I just being crazy?



-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From zamoose at gmail.com  Wed Nov 16 16:42:26 2011
From: zamoose at gmail.com (Doug Stewart)
Date: Wed, 16 Nov 2011 11:42:26 -0500
Subject: [wp-hackers] Auto creating custom menu
In-Reply-To: <CAEgmxaYO4JAc728oqGZP430yQGAZTuHQ6=4TbGdpqB_mu+wn4Q@mail.gmail.com>
References: <CAEgmxaYO4JAc728oqGZP430yQGAZTuHQ6=4TbGdpqB_mu+wn4Q@mail.gmail.com>
Message-ID: <CANFh3d76AeGpLC0hzCqSyH=WGjDmDj7bcYRNe6h0t5vVX8uYnA@mail.gmail.com>

Here's what I do to set up a custom BuddyPress menu when I detect BP
as active. It seems pretty close to what you're doing. Maybe it'll
help.

	$menuname = $lblg_themename . ' BuddyPress Menu';
	$bpmenulocation = 'lblgbpmenu';
	// Does the menu exist already?
	$menu_exists = wp_get_nav_menu_object( $menuname );
	
	// If it doesn't exist, let's create it.
	if( !$menu_exists){
		$menu_id = wp_create_nav_menu($menuname);
		
		// Set up default BuddyPress links and add them to the menu.
		wp_update_nav_menu_item($menu_id, 0, array(
		    'menu-item-title' =>  __('Home'),
		    'menu-item-classes' => 'home',
		    'menu-item-url' => home_url( '/' ),
		    'menu-item-status' => 'publish'));

		wp_update_nav_menu_item($menu_id, 0, array(
		    'menu-item-title' =>  __('Activity'),
		    'menu-item-classes' => 'activity',
		    'menu-item-url' => home_url( '/activity/' ),
		    'menu-item-status' => 'publish'));

		wp_update_nav_menu_item($menu_id, 0, array(
		    'menu-item-title' =>  __('Members'),
		    'menu-item-classes' => 'members',
		    'menu-item-url' => home_url( '/members/' ),
		    'menu-item-status' => 'publish'));

		wp_update_nav_menu_item($menu_id, 0, array(
		    'menu-item-title' =>  __('Groups'),
		    'menu-item-classes' => 'groups',
		    'menu-item-url' => home_url( '/groups/' ),
		    'menu-item-status' => 'publish'));

		wp_update_nav_menu_item($menu_id, 0, array(
		    'menu-item-title' =>  __('Forums'),
		    'menu-item-classes' => 'forums',
		    'menu-item-url' => home_url( '/forums/' ),
		    'menu-item-status' => 'publish'));
		
		// Grab the theme locations and assign our newly-created menu
		// to the BuddyPress menu location.
		if( !has_nav_menu( $bpmenulocation ) ){
			$locations = get_theme_mod('nav_menu_locations');
			$locations[$bpmenulocation] = $menu_id;
			set_theme_mod( 'nav_menu_locations', $locations );
		}
		
	}

On Wed, Nov 16, 2011 at 7:14 AM, Tom Barrett <tcbarrett at gmail.com> wrote:
> I am building a WordPress 'deployment system'. As part of this, I want: 1)
> install and activate a theme 2) create some pages 3) Add a custom menu with
> those pages. The first two steps are fine, and I can create the custom
> menu. But I cannot get the pages into the menu.
>
> How the automated part works, is that it creates wp-config.php file, and a
> PHP script in wp-admin that installs WordPress (calling wp_install()
> e.t.c). It then calls an action hook that is added in the theme's files.
>
> Something a bit like this:
>
> <?php
> // Script in wp-admin
> require_once( '../wp-load.php' );
> require_once( './includes/upgrade.php' );
> wp_install( ..... );
> do_action( 'setup_wordpress' );
> ?>
>
> <?php
> // Theme functions.php file
> add_action( 'setup_wordpress', 'do_setup_wordpress' );
> function do_setup_wordpress(){
> ?$mypages ? ?= make_three_pages_and_return_their_post_id(); // returns
> array( [0]=>3, [1]=>4, [2]=>5 )
> ?$mymenuname = 'My Menu';
> ?wp_create_nav_menu( $mymenuname );
> ?$menu ? ? ? = get_term_by( 'name', $mymenuname, 'nav_menu' );
> ?$menu_id ? ?= $menu->term_id;
>
> ?foreach( $mypages as $page_id ){
> ? ?$args = array(
> ? ? ?'menu-item-object-id' => $page_id,
> ? ? ?'menu-item-object' ? ?=> 'page',
> ? ? ?'menu-item-type' ? ? ?=> 'post_type',
> ? ? ?'menu-item-status' ? ?=> 'publish',
> ? ?);
> ? ?$menu_item_id = wp_update_nav_menu_item( $menu_id, 0, $args );
> ?}
> }
> ?>
>
> It does everything except put the pages in the menu. The code works if I
> trigger it through browsing the site. EG: add_action( 'admin_init',
> 'do_setup_wordpress' ); (This is how I developed it initially).
>
> The $menu_item_id variable gets a value (usually 6,7,8).
>
> Any ideas what I'm missing or not doing? Am I just being crazy?
>
>
>
> --
> http://www.tcbarrett.com | http://gplus.to/tcbarrett |
> http://twitter.com/tcbarrett
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
-Doug

From zamoose at gmail.com  Wed Nov 16 16:44:19 2011
From: zamoose at gmail.com (Doug Stewart)
Date: Wed, 16 Nov 2011 11:44:19 -0500
Subject: [wp-hackers] Small nit to pick in re: software updates
Message-ID: <CANFh3d6pwu8fy6P7sWQd0tTk-2xgFU3ubbrY2SP8mzXROWTnyw@mail.gmail.com>

This has bothered me since we added the Update menu item:

If I click through to the Plugins page, I can click the "get details"
on a plugin update and check the changelog, etc. However, if I go
through the Updates link, no such option is available to me, which
causes me to curse whoever made that distinction, click over to the
Plugins page and click the "get details" link so that I can make sure
that I'm not blindfire updating a critical plugin.

Does this bother anyone else?

-- 
-Doug

From otto at ottodestruct.com  Wed Nov 16 16:52:42 2011
From: otto at ottodestruct.com (Otto)
Date: Wed, 16 Nov 2011 10:52:42 -0600
Subject: [wp-hackers] Small nit to pick in re: software updates
In-Reply-To: <CANFh3d6pwu8fy6P7sWQd0tTk-2xgFU3ubbrY2SP8mzXROWTnyw@mail.gmail.com>
References: <CANFh3d6pwu8fy6P7sWQd0tTk-2xgFU3ubbrY2SP8mzXROWTnyw@mail.gmail.com>
Message-ID: <CAD-FghzBY5Hsj5jPPnCu97XLm8Wo7tfsRm+FM8X+iOgJ86tSsQ@mail.gmail.com>

Already fixed in 3.3.

See http://core.trac.wordpress.org/ticket/17406 and
http://core.trac.wordpress.org/changeset/19003.

-Otto


On Wed, Nov 16, 2011 at 10:44 AM, Doug Stewart <zamoose at gmail.com> wrote:

> This has bothered me since we added the Update menu item:
>
> If I click through to the Plugins page, I can click the "get details"
> on a plugin update and check the changelog, etc. However, if I go
> through the Updates link, no such option is available to me, which
> causes me to curse whoever made that distinction, click over to the
> Plugins page and click the "get details" link so that I can make sure
> that I'm not blindfire updating a critical plugin.
>
> Does this bother anyone else?
>
> --
> -Doug
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From zamoose at gmail.com  Wed Nov 16 17:05:12 2011
From: zamoose at gmail.com (Doug Stewart)
Date: Wed, 16 Nov 2011 12:05:12 -0500
Subject: [wp-hackers] Small nit to pick in re: software updates
In-Reply-To: <CAD-FghzBY5Hsj5jPPnCu97XLm8Wo7tfsRm+FM8X+iOgJ86tSsQ@mail.gmail.com>
References: <CANFh3d6pwu8fy6P7sWQd0tTk-2xgFU3ubbrY2SP8mzXROWTnyw@mail.gmail.com>
	<CAD-FghzBY5Hsj5jPPnCu97XLm8Wo7tfsRm+FM8X+iOgJ86tSsQ@mail.gmail.com>
Message-ID: <CANFh3d7jqds9PbfXZXc-xX2D3LyUFB9F77==069tBi55w7u3-Q@mail.gmail.com>

It's like you're a precog or something.

*grin*

Thanks, Otto.

On Wed, Nov 16, 2011 at 11:52 AM, Otto <otto at ottodestruct.com> wrote:
> Already fixed in 3.3.
>
> See http://core.trac.wordpress.org/ticket/17406 and
> http://core.trac.wordpress.org/changeset/19003.
>
> -Otto
>
>
> On Wed, Nov 16, 2011 at 10:44 AM, Doug Stewart <zamoose at gmail.com> wrote:
>
>> This has bothered me since we added the Update menu item:
>>
>> If I click through to the Plugins page, I can click the "get details"
>> on a plugin update and check the changelog, etc. However, if I go
>> through the Updates link, no such option is available to me, which
>> causes me to curse whoever made that distinction, click over to the
>> Plugins page and click the "get details" link so that I can make sure
>> that I'm not blindfire updating a critical plugin.
>>
>> Does this bother anyone else?
>>
>> --
>> -Doug
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
-Doug

From ljunior2005 at gmail.com  Wed Nov 16 17:25:58 2011
From: ljunior2005 at gmail.com (Leo Baiano)
Date: Wed, 16 Nov 2011 15:25:58 -0200
Subject: [wp-hackers] CPT VS Plugin
Message-ID: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>

Personally, I would like you to help us to start thinking about a course
management system that will need to implement a customersite. My main
doubt is whether the best way to do this is using CPT and taxonomies or
create separate tables and develop a pluginlike it.

So they can help me I will explain the context.

In the course management system I have classes and courses. Classes
are formed by the junction of the course + city where the course is going
to happen. It is important to understand that each class has its own
characteristics inheriting the course only the name and description, but
the classes, teachers, number of jobs, etc. ... are directly related
to class, where to register a new class I need to inform the city,
state, and course specific information in this class.

Besides, I have teachers, they are connected directly to the classroom
(information about the class that will be given) and the lessonis linked
directly to class.

I also have students that are linked to class.

Are there any other information but I believe they are quieter, which has
left me in doubt regarding the use of the CPT is on accountof relationships
and the difficulty in defining what taxonomies and which would be
linked CPT.

For example, the relationship between the city, the class and course. Then
there is the relationship with the teacher and this classwith the class.

Well, I hope you managed to explain myself properly, I rode the EER but
the name of the tables and fields are in Portuguese, I do not know they
could understand, but if someone willing to help me think this work ....

Using CPT I have the advantage of some features ready to use WP as
a friendly URL for example, but
apparently lost a little respectin the relationship of the system entities.

-- 
Amplexos,

Leo Baiano
http://www.leobaiano.com
http://www.blog.ljunior.com
http://www.mcelebridades.com
http://www.twitter.com/leobaiano

From scribu at gmail.com  Wed Nov 16 18:01:03 2011
From: scribu at gmail.com (scribu)
Date: Wed, 16 Nov 2011 20:01:03 +0200
Subject: [wp-hackers] CPT VS Plugin
In-Reply-To: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
References: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
Message-ID: <CABzSYNPm0V_Rw-zHOM8qdHd02UKvBSJVFiu5PVFSkbD8-uYgkg@mail.gmail.com>

On Wed, Nov 16, 2011 at 7:25 PM, Leo Baiano <ljunior2005 at gmail.com> wrote:

> Personally, I would like you to help us to start thinking about a course
> management system...
>

Did you say course management system? See
http://wordpress.org/extend/plugins/buddypress-courseware/

-- 
http://scribu.net

From ljunior2005 at gmail.com  Wed Nov 16 18:10:39 2011
From: ljunior2005 at gmail.com (Leo Baiano)
Date: Wed, 16 Nov 2011 16:10:39 -0200
Subject: [wp-hackers] CPT VS Plugin
In-Reply-To: <CABzSYNPm0V_Rw-zHOM8qdHd02UKvBSJVFiu5PVFSkbD8-uYgkg@mail.gmail.com>
References: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
	<CABzSYNPm0V_Rw-zHOM8qdHd02UKvBSJVFiu5PVFSkbD8-uYgkg@mail.gmail.com>
Message-ID: <CAL1O-KUgXXDgpxUv-9z7L3xk+2+2OmdK_b7e=aXg=2LcBYo=pQ@mail.gmail.com>

Yes, I meant of course management system but you indicated that this plugin
does not help me much because the system has many specific points, it has
very process that differs from the conventional pattern of courses, for
example, a course with the same name can be classes, teachers, local and
etc ... totally different, but must be treated as the same course.

2011/11/16 scribu <scribu at gmail.com>

> On Wed, Nov 16, 2011 at 7:25 PM, Leo Baiano <ljunior2005 at gmail.com> wrote:
>
> > Personally, I would like you to help us to start thinking about a course
> > management system...
> >
>
> Did you say course management system? See
> http://wordpress.org/extend/plugins/buddypress-courseware/
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Amplexos,

Leo Baiano
http://www.leobaiano.com
http://www.blog.ljunior.com
http://www.mcelebridades.com
http://www.twitter.com/leobaiano

From mikeschinkel at newclarity.net  Wed Nov 16 18:51:46 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 16 Nov 2011 13:51:46 -0500
Subject: [wp-hackers] CPT VS Plugin
In-Reply-To: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
References: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
Message-ID: <A8E60074-0BBD-425C-8F11-41850EE583C8@newclarity.net>

Hi Leo:

Here's how I might do it (assuming I understood your requirements and that you don't need lots of info about a teacher):

Custom Taxonomy:

	- Teacher (or People) (Could potentially also want to use Users or Custom Post Types here, depending on your requirements.)
	- City(maybe?)

Not sure about Students. Could be:

	- Users
	- Custom Taxonomy (Student or just People)
	- Custom Post Type  (Student or People)
		
Custom Post Types/Custom Fields:

	- Course
		- Applicable Teachers
		- All other info about a course.

	- Class
		- Course ($course->ID => $class->post_parent)
		- Teacher
		- City
		- Date/Time
		- All other info about a class.
		- Student List

Basically Taxonomies are best when you really want to use them as "tags" to filter your posts, i.e. to get a list of all Class posts for Teacher.

Custom Post Types are best when you need lots of additional information to go along with an item besides a simple name and description. You can added custom fields to CPTs and you can use categories, tags or custom taxonomies with them.

Users are best when the people your system tracks are primarily users of your system.

Custom Fields for CPTs is best when the data you need to keep track is related but simple, and you don't need build in "archive pages" for them, i.e. Prerequisites for a Course or Directions to a Class.

You can also mirror each of these, so you could have a Person CPT that mirrors a User, or a Teacher CPT that mirrors a Teacher Taxonomy, but mirroring can be fragile and takes work to get it right.

You can relate items in WordPress is a number of ways; 1-to-many CPTs can be handled with the post_parent field. For many-to-many you can relate CPTs or other items via shared taxonomy terms i.e. both Course and Class could use be related by terms in a "Topic" taxonomy, i.e. "PHP Development" could be a shared Topic term. But there is no proper many-to-many functionality built into WordPress; you have to build custom tables for that.

Hope this helps.

-Mike
P.S. BTW, we are building a GPL plugin framework, probably ready for beta by end of year, that would make this really easy. It will include functionality for all of this, including many-to-many relationships via a 'wp_relationships' table...

On Nov 16, 2011, at 12:25 PM, Leo Baiano wrote:

> Personally, I would like you to help us to start thinking about a course
> management system that will need to implement a customersite. My main
> doubt is whether the best way to do this is using CPT and taxonomies or
> create separate tables and develop a pluginlike it.
> 
> So they can help me I will explain the context.
> 
> In the course management system I have classes and courses. Classes
> are formed by the junction of the course + city where the course is going
> to happen. It is important to understand that each class has its own
> characteristics inheriting the course only the name and description, but
> the classes, teachers, number of jobs, etc. ... are directly related
> to class, where to register a new class I need to inform the city,
> state, and course specific information in this class.
> 
> Besides, I have teachers, they are connected directly to the classroom
> (information about the class that will be given) and the lessonis linked
> directly to class.
> 
> I also have students that are linked to class.
> 
> Are there any other information but I believe they are quieter, which has
> left me in doubt regarding the use of the CPT is on accountof relationships
> and the difficulty in defining what taxonomies and which would be
> linked CPT.
> 
> For example, the relationship between the city, the class and course. Then
> there is the relationship with the teacher and this classwith the class.
> 
> Well, I hope you managed to explain myself properly, I rode the EER but
> the name of the tables and fields are in Portuguese, I do not know they
> could understand, but if someone willing to help me think this work ....
> 
> Using CPT I have the advantage of some features ready to use WP as
> a friendly URL for example, but
> apparently lost a little respectin the relationship of the system entities.
> 
> -- 
> Amplexos,
> 
> Leo Baiano
> http://www.leobaiano.com
> http://www.blog.ljunior.com
> http://www.mcelebridades.com
> http://www.twitter.com/leobaiano
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ljunior2005 at gmail.com  Wed Nov 16 20:06:59 2011
From: ljunior2005 at gmail.com (Leo Baiano)
Date: Wed, 16 Nov 2011 18:06:59 -0200
Subject: [wp-hackers] CPT VS Plugin
In-Reply-To: <A8E60074-0BBD-425C-8F11-41850EE583C8@newclarity.net>
References: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
	<A8E60074-0BBD-425C-8F11-41850EE583C8@newclarity.net>
Message-ID: <CAL1O-KXjDYAqJdh4Xp2T0Bg1y7fO-WR_LWnqF-_y6icuWdyQMA@mail.gmail.com>

Mike Oops, I understood everything you said but I got the impression
that the structure will be a little complex, it may be difficult to
organize so that the customer can create relations in a simple and, above
all, relationships between the entities will becomes poor.

I only have a many to many relationship in my system, this refers
to students and classes, in this case I'm using a table to relate them, as
you said, CPT, taxonomies and custom fields will not be good.

You suggested using post_parent for one to many relationships, but I would
not be as simple as not always the same entities are part of the CPT. For
example, course and class have a one to many relationship, because one can
have an ongoing series ofclasses, but I can not change any of
the taxonomies of two, soon they would have to be TLC, as I would say
that a post is class CPTson of a post of the CPT course? Is it possible?

The CPT is a good alternative, but would be back one of doubts
and difficulties in connecting the entities that worry me, because it
can become too complicated to list the information in front
and in back manage.

The alternative of creating the tables behind the advantage of having the
freedom to shape the bank, but I worry about the URL's as you would to
generate the URLs in a friendly, following the pattern of the site?

2011/11/16 Mike Schinkel <mikeschinkel at newclarity.net>

> Hi Leo:
>
> Here's how I might do it (assuming I understood your requirements and that
> you don't need lots of info about a teacher):
>
> Custom Taxonomy:
>
>        - Teacher (or People) (Could potentially also want to use Users or
> Custom Post Types here, depending on your requirements.)
>        - City(maybe?)
>
> Not sure about Students. Could be:
>
>        - Users
>        - Custom Taxonomy (Student or just People)
>        - Custom Post Type  (Student or People)
>
> Custom Post Types/Custom Fields:
>
>        - Course
>                - Applicable Teachers
>                - All other info about a course.
>
>        - Class
>                - Course ($course->ID => $class->post_parent)
>                - Teacher
>                - City
>                - Date/Time
>                - All other info about a class.
>                - Student List
>
> Basically Taxonomies are best when you really want to use them as "tags"
> to filter your posts, i.e. to get a list of all Class posts for Teacher.
>
> Custom Post Types are best when you need lots of additional information to
> go along with an item besides a simple name and description. You can added
> custom fields to CPTs and you can use categories, tags or custom taxonomies
> with them.
>
> Users are best when the people your system tracks are primarily users of
> your system.
>
> Custom Fields for CPTs is best when the data you need to keep track is
> related but simple, and you don't need build in "archive pages" for them,
> i.e. Prerequisites for a Course or Directions to a Class.
>
> You can also mirror each of these, so you could have a Person CPT that
> mirrors a User, or a Teacher CPT that mirrors a Teacher Taxonomy, but
> mirroring can be fragile and takes work to get it right.
>
> You can relate items in WordPress is a number of ways; 1-to-many CPTs can
> be handled with the post_parent field. For many-to-many you can relate CPTs
> or other items via shared taxonomy terms i.e. both Course and Class could
> use be related by terms in a "Topic" taxonomy, i.e. "PHP Development" could
> be a shared Topic term. But there is no proper many-to-many functionality
> built into WordPress; you have to build custom tables for that.
>
> Hope this helps.
>
> -Mike
> P.S. BTW, we are building a GPL plugin framework, probably ready for beta
> by end of year, that would make this really easy. It will include
> functionality for all of this, including many-to-many relationships via a
> 'wp_relationships' table...
>
> On Nov 16, 2011, at 12:25 PM, Leo Baiano wrote:
>
> > Personally, I would like you to help us to start thinking about a course
> > management system that will need to implement a customersite. My main
> > doubt is whether the best way to do this is using CPT and taxonomies or
> > create separate tables and develop a pluginlike it.
> >
> > So they can help me I will explain the context.
> >
> > In the course management system I have classes and courses. Classes
> > are formed by the junction of the course + city where the course is going
> > to happen. It is important to understand that each class has its own
> > characteristics inheriting the course only the name and description, but
> > the classes, teachers, number of jobs, etc. ... are directly related
> > to class, where to register a new class I need to inform the city,
> > state, and course specific information in this class.
> >
> > Besides, I have teachers, they are connected directly to the classroom
> > (information about the class that will be given) and the lessonis linked
> > directly to class.
> >
> > I also have students that are linked to class.
> >
> > Are there any other information but I believe they are quieter, which has
> > left me in doubt regarding the use of the CPT is on accountof
> relationships
> > and the difficulty in defining what taxonomies and which would be
> > linked CPT.
> >
> > For example, the relationship between the city, the class and course.
> Then
> > there is the relationship with the teacher and this classwith the class.
> >
> > Well, I hope you managed to explain myself properly, I rode the EER but
> > the name of the tables and fields are in Portuguese, I do not know they
> > could understand, but if someone willing to help me think this work ....
> >
> > Using CPT I have the advantage of some features ready to use WP as
> > a friendly URL for example, but
> > apparently lost a little respectin the relationship of the system
> entities.
> >
> > --
> > Amplexos,
> >
> > Leo Baiano
> > http://www.leobaiano.com
> > http://www.blog.ljunior.com
> > http://www.mcelebridades.com
> > http://www.twitter.com/leobaiano
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Amplexos,

Leo Baiano
http://www.leobaiano.com
http://www.blog.ljunior.com
http://www.mcelebridades.com
http://www.twitter.com/leobaiano

From mikeschinkel at newclarity.net  Wed Nov 16 20:43:27 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 16 Nov 2011 15:43:27 -0500
Subject: [wp-hackers] CPT VS Plugin
In-Reply-To: <CAL1O-KXjDYAqJdh4Xp2T0Bg1y7fO-WR_LWnqF-_y6icuWdyQMA@mail.gmail.com>
References: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
	<A8E60074-0BBD-425C-8F11-41850EE583C8@newclarity.net>
	<CAL1O-KXjDYAqJdh4Xp2T0Bg1y7fO-WR_LWnqF-_y6icuWdyQMA@mail.gmail.com>
Message-ID: <75BDA7CD-7F7B-4B7A-BEA1-7E074E500CC2@newclarity.net>

On Nov 16, 2011, at 3:06 PM, Leo Baiano wrote:
> Mike Oops, I understood everything you said but I got the impression
> that the structure will be a little complex,

Your requirements are also a little complex. 

> it may be difficult to
> organize so that the customer can create relations in a simple and, above
> all, relationships between the entities will becomes poor.

Depends on your implementation skills.  For some people, yes, very difficult.

> You suggested using post_parent for one to many relationships, but I would
> not be as simple as not always the same entities are part of the CPT. For example,
> course and class have a one to many relationship, because one can
> have an ongoing series ofclasses, but I can not change any of
> the taxonomies of two, soon they would have to be TLC, as I would say
> that a post is class CPTson of a post of the CPT course? Is it possible?

I realize that English is not your primary language and since I can only speak English I appreciate how a 2nd language is difficult, but still that paragraph is incomplete so I don't know what you meant, and I don't recognize "TLC."

> The CPT is a good alternative, but would be back one of doubts
> and difficulties in connecting the entities that worry me, because it
> can become too complicated to list the information in front
> and in back manage.

I just explained how I would do it to try to help you. If you dislike the suggestions I'm sure you can come up with other ways that work for you.

> The alternative of creating the tables behind the advantage of having the
> freedom to shape the bank, but I worry about the URL's as you would to
> generate the URLs in a friendly, following the pattern of the site?

You can make the URLs however you want with a little PHP coding effort.

-Mike

From ljunior2005 at gmail.com  Wed Nov 16 20:55:29 2011
From: ljunior2005 at gmail.com (Leo Baiano)
Date: Wed, 16 Nov 2011 18:55:29 -0200
Subject: [wp-hackers] CPT VS Plugin
In-Reply-To: <75BDA7CD-7F7B-4B7A-BEA1-7E074E500CC2@newclarity.net>
References: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
	<A8E60074-0BBD-425C-8F11-41850EE583C8@newclarity.net>
	<CAL1O-KXjDYAqJdh4Xp2T0Bg1y7fO-WR_LWnqF-_y6icuWdyQMA@mail.gmail.com>
	<75BDA7CD-7F7B-4B7A-BEA1-7E074E500CC2@newclarity.net>
Message-ID: <CAL1O-KWNtVfR49+6HDj7D0T801LKiG8tzKcadVwCMTW8PBwVJA@mail.gmail.com>

>> You can make the URLs however you want with a little PHP coding effort.

First desclpa difficulty in expressing myself, my English is not great.

So, with respect to friendly URL's I think would have to use PHP
and. Htaccess, WP already has some rules in. Htaccess and my concern is to
generate conflict between the rules.

Thanks for listening, I'm starting to lean the construction based
on CPT right, I'm riding a diagram here on this basis to have a better idea
of what will be.

2011/11/16 Mike Schinkel <mikeschinkel at newclarity.net>

> On Nov 16, 2011, at 3:06 PM, Leo Baiano wrote:
> > Mike Oops, I understood everything you said but I got the impression
> > that the structure will be a little complex,
>
> Your requirements are also a little complex.
>
> > it may be difficult to
> > organize so that the customer can create relations in a simple and, above
> > all, relationships between the entities will becomes poor.
>
> Depends on your implementation skills.  For some people, yes, very
> difficult.
>
> > You suggested using post_parent for one to many relationships, but I
> would
> > not be as simple as not always the same entities are part of the CPT.
> For example,
> > course and class have a one to many relationship, because one can
> > have an ongoing series ofclasses, but I can not change any of
> > the taxonomies of two, soon they would have to be TLC, as I would say
> > that a post is class CPTson of a post of the CPT course? Is it possible?
>
> I realize that English is not your primary language and since I can only
> speak English I appreciate how a 2nd language is difficult, but still that
> paragraph is incomplete so I don't know what you meant, and I don't
> recognize "TLC."
>
> > The CPT is a good alternative, but would be back one of doubts
> > and difficulties in connecting the entities that worry me, because it
> > can become too complicated to list the information in front
> > and in back manage.
>
> I just explained how I would do it to try to help you. If you dislike the
> suggestions I'm sure you can come up with other ways that work for you.
>
> > The alternative of creating the tables behind the advantage of having the
> > freedom to shape the bank, but I worry about the URL's as you would to
> > generate the URLs in a friendly, following the pattern of the site?
>
> You can make the URLs however you want with a little PHP coding effort.
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Amplexos,

Leo Baiano
http://www.leobaiano.com
http://www.blog.ljunior.com
http://www.mcelebridades.com
http://www.twitter.com/leobaiano

From 24-7 at gmx.net  Wed Nov 16 22:43:13 2011
From: 24-7 at gmx.net (24/7)
Date: Wed, 16 Nov 2011 14:43:13 -0800 (PST)
Subject: [wp-hackers]  WP_List_Table class & sortable columns
Message-ID: <17985868.11.1321483393121.JavaMail.geo-discussion-forums@yqie15>

During developing a plugin, I added a table (extension for the 
WP_List_Table class [1]) to a meta box on post/page/CPT screens. Everything 
worked fine: I got around pagination and several other stuff, but got stuck 
with ordering the columns. The link broke on the "orderby" argument and 
only returned the very first character "p" instead the whole string 
"post_date".

That didn't work (the docBlock of the WP_List_Table class says it works):
public function get_sortable_columns() 
{
return array(
 'ID' => 'ID'
,'post_title' => 'post_title'
,'post_date' => 'post_date'
);
}

Here's what worked:
public function get_sortable_columns() 
{
return array(
 'ID' => array( 'ID', true )
,'post_title' => array( 'post_title', true )
,'post_date' => array( 'post_date', true )
);
}

When I look at get_column_info() in WP_List_Table then I simply don't get 
around the "why the heck does this happen"? I already checked if there are 
filters present on 
$GLOBALS['wp_filter']["manage_{$screen->id}_sortable_columns"]; but it's 
empty.

Can someone be so kind and explains this to me? Thanks!

Best wishes,
Kaiser.

[1] /core_root/wp-admin/includes/class-wp-list-table.php

From pauli.price at gmail.com  Wed Nov 16 23:55:12 2011
From: pauli.price at gmail.com (Pauli Price)
Date: Wed, 16 Nov 2011 18:55:12 -0500
Subject: [wp-hackers] CPT VS Plugin
In-Reply-To: <CAL1O-KWNtVfR49+6HDj7D0T801LKiG8tzKcadVwCMTW8PBwVJA@mail.gmail.com>
References: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
	<A8E60074-0BBD-425C-8F11-41850EE583C8@newclarity.net>
	<CAL1O-KXjDYAqJdh4Xp2T0Bg1y7fO-WR_LWnqF-_y6icuWdyQMA@mail.gmail.com>
	<75BDA7CD-7F7B-4B7A-BEA1-7E074E500CC2@newclarity.net>
	<CAL1O-KWNtVfR49+6HDj7D0T801LKiG8tzKcadVwCMTW8PBwVJA@mail.gmail.com>
Message-ID: <CAMAwOQ8MtkxGK8UwYgnF=fXyze2V7=0vMXc+wk1+vUpCPNXJjA@mail.gmail.com>

Leo,

With respect to the pretty URLs, review the following links, which provide
examples of using WordPress's API to create custom URL formats.  You are
not limited to either using a CPT or resorting to .htaccess and php.

http://wordpress.stackexchange.com/questions/9870/how-do-you-create-a-virtual-page-in-wordpress
http://theme.fm/2011/11/wordpress-internals-the-rewrite-api-2684/
http://planetozh.com/blog/2011/01/pretty-login-url-a-simple-rewrite-api-plugin-example/

Pauli


On Wed, Nov 16, 2011 at 3:55 PM, Leo Baiano <ljunior2005 at gmail.com> wrote:

> >> You can make the URLs however you want with a little PHP coding effort.
>
> First desclpa difficulty in expressing myself, my English is not great.
>
> So, with respect to friendly URL's I think would have to use PHP
> and. Htaccess, WP already has some rules in. Htaccess and my concern is to
> generate conflict between the rules.
>
> Thanks for listening, I'm starting to lean the construction based
> on CPT right, I'm riding a diagram here on this basis to have a better idea
> of what will be.
>
> 2011/11/16 Mike Schinkel <mikeschinkel at newclarity.net>
>
> > On Nov 16, 2011, at 3:06 PM, Leo Baiano wrote:
> > > Mike Oops, I understood everything you said but I got the impression
> > > that the structure will be a little complex,
> >
> > Your requirements are also a little complex.
> >
> > > it may be difficult to
> > > organize so that the customer can create relations in a simple and,
> above
> > > all, relationships between the entities will becomes poor.
> >
> > Depends on your implementation skills.  For some people, yes, very
> > difficult.
> >
> > > You suggested using post_parent for one to many relationships, but I
> > would
> > > not be as simple as not always the same entities are part of the CPT.
> > For example,
> > > course and class have a one to many relationship, because one can
> > > have an ongoing series ofclasses, but I can not change any of
> > > the taxonomies of two, soon they would have to be TLC, as I would say
> > > that a post is class CPTson of a post of the CPT course? Is it
> possible?
> >
> > I realize that English is not your primary language and since I can only
> > speak English I appreciate how a 2nd language is difficult, but still
> that
> > paragraph is incomplete so I don't know what you meant, and I don't
> > recognize "TLC."
> >
> > > The CPT is a good alternative, but would be back one of doubts
> > > and difficulties in connecting the entities that worry me, because it
> > > can become too complicated to list the information in front
> > > and in back manage.
> >
> > I just explained how I would do it to try to help you. If you dislike the
> > suggestions I'm sure you can come up with other ways that work for you.
> >
> > > The alternative of creating the tables behind the advantage of having
> the
> > > freedom to shape the bank, but I worry about the URL's as you would to
> > > generate the URLs in a friendly, following the pattern of the site?
> >
> > You can make the URLs however you want with a little PHP coding effort.
> >
> > -Mike
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Amplexos,
>
> Leo Baiano
> http://www.leobaiano.com
> http://www.blog.ljunior.com
> http://www.mcelebridades.com
> http://www.twitter.com/leobaiano
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From Marcus.Pope at springbox.com  Thu Nov 17 00:34:50 2011
From: Marcus.Pope at springbox.com (Marcus Pope)
Date: Wed, 16 Nov 2011 19:34:50 -0500
Subject: [wp-hackers] Fixing some SSL cases for 3.4
In-Reply-To: <CAMAwOQ90SgOSv5Ft_oOHSOfOH7rx3m0fe0w4wtGF-9TccrfdYQ@mail.gmail.com>
References: <CAD875F4.1502C%pauli.price@gmail.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE2FE390F@RSWMAIL1.dgs.dgsystems.com>
	<CAMAwOQ8EZtPD4y5tBvEiPrr+zu-Fw4PL_N4ARf5w50Y5i=VsEA@mail.gmail.com>
	<4C9C70943A019D44B90BF87BB445B2DFDAE30C5A5D@RSWMAIL1.dgs.dgsystems.com>
	<CAMAwOQ90SgOSv5Ft_oOHSOfOH7rx3m0fe0w4wtGF-9TccrfdYQ@mail.gmail.com>
Message-ID: <4C9C70943A019D44B90BF87BB445B2DFDAE30C67BF@RSWMAIL1.dgs.dgsystems.com>

My patch only handled internal usage of those constants.  Basically because they're constants and can't be redefined you have to wrap a "scheme()" call around them.  From a plugin perspective they'd have to do the same (wrap the scheme function around each use), since there is no option of redefining the constant.

Personally I'd deal with this by offering a function that returns the URLs instead of constants.  We could deprecate the constants and offer the new functions at the same time.  If you want ssl functionality, update your code to use the functions instead.  Otherwise you can continue to use the constants for a while but you'll have to deal with the side effects.  Plus you could then only scheme the base site url once instead of hundreds of times per page load, much better performance.

Seems like a lot of effort especially when you start dealing with how you add content urls via the admin.  Here's how that bit of nasty breaks down:

Admin SSL & Front NonSSL requires SSL urls for content to prevent warnings, and yields slow as f*ck downloads of media over ssl on the front end.

Admin NonSSL & Front SSL yields NonSSL urls in content that throw warnings on front end.

AdminSSL & FrontSSL (or both NonSSL) = The only scenario that absolute URLS work.

Lmk if you have any questions about the scheme patch, and good luck on working this out in the core.  Frankly I fixed the problem entirely with my plugin :D

-Marcus

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Pauli Price
Sent: Friday, November 11, 2011 1:46 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Fixing some SSL cases for 3.4

I took a quick look at the patch.  In general, I like the approach.  It will be a little while before I have time to  confirm my understanding of exactly what it does.  For instance, I haven't evaluated whether it would change the scheme for these constants:

WP_CONTENT_DIR  // no trailing slash, full paths only WP_CONTENT_URL  // full url WP_PLUGIN_DIR  // full path, no trailing slash WP_PLUGIN_URL  // full url, no trailing slash

As noted by Jeremy Clarke and others, (see:
http://core.trac.wordpress.org/ticket/13941) before WP3.0, plugin and theme authors where 'doing_it_right()' using these constants.  There's been no serious effort to eliminate their continued use.  Without fixing the constants, or enforcing that they're not used by plugins and themes, we won't be done.  And then we'll have to deal with content urls while editing posts and comments when FORCE_SSL_ADMIN is defined.

So - to recap:

1) decide on implementation of set_url_scheme() (
http://core.trac.wordpress.org/ticket/18017) and whether to go with this refactoring of scheme ( http://core.trac.wordpress.org/attachment/ticket/19037/ssl.patch )

2) determine our way forward on whether to change the constants so that they respect scheme()

3) decide how to support editing if content urls should be http when published, if FORCE_SSL_ADMIN is in effect.

4) related tickets: #13941 <http://core.trac.wordpress.org/ticket/13941>,
#15928 <http://core.trac.wordpress.org/ticket/15928>,
#19023<http://core.trac.wordpress.org/ticket/19023>,
#18005 <http://core.trac.wordpress.org/ticket/18005>,
#19037<http://core.trac.wordpress.org/ticket/19037>,
#18017 <http://core.trac.wordpress.org/ticket/18017>

Am I missing anything?

Pauli

On Tue, Nov 8, 2011 at 5:57 PM, Marcus Pope <Marcus.Pope at springbox.com>wrote:

> I'm all for this change as much as I am for the root-relative url 
> switch because it improves performance and robustness of wp.
>
> I'm even in support of putting wordpress-https AND my own 
> root-relative-urls out of business if possible, but schemeless urls 
> generated by the system would not put either to bed because of content 
> urls and the long-standing assumptions made in hundreds of plugins, 
> not just wordpress-https.
>
> Here's the strategy I took to fix the SSL problems you pointed out:
>
> http://core.trac.wordpress.org/ticket/19037
> http://core.trac.wordpress.org/attachment/ticket/19037/ssl.patch
>
> In addition to the tickets you reference for open/existing ssl 
> problems I discovered a number of undocumented ones while refactoring 
> the core of wordpress to support root-relative urls.  When I realized 
> it could be achieved via a plugin, I backed out all of the work except 
> for this scheme refactoring.  I didn't keep all of the ssl fixes 
> because after finding half a dozen or so I realized that I could spend another week finding more.
>  This patch was just to get the ball rolling on a strategy for moving 
> forward.
>
> Implement this patch, and then wrap scheme(...) around each of the 
> referenced code points in those trac tickets and I think you'll find 
> the problem solved... temporarily.  I say temporarily because it's 
> only a matter of time before someone extends the core framework in 
> some way related to urls and forgets to wrap scheme() around it, in 
> the same way they forgot to do the is_ssl() check, or http/s string 
> substitution in those existing tickets.
>
> (and yeah I totally should have seen that 3.4 reference in the 
> subject, or in the text, or every other place it was plastered! :D)
>
> Thanks,
> Marcus
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:
> wp-hackers-bounces at lists.automattic.com] On Behalf Of Pauli Price
> Sent: Friday, November 04, 2011 1:28 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Fixing some SSL cases for 3.4
>
> "last minute stake in the 3.3 game"
>
> This work is targeting 3.4, so not to worry.  The point is to put 
> http://wordpress.org/extend/plugins/wordpress-https/ out of business, 
> except for shared SSL certificate support.  That seems like enough of 
> an edge case that it can be delegated to a plugin.
>
> Pauli
>
>
> On Thu, Nov 3, 2011 at 8:22 PM, Marcus Pope <Marcus.Pope at springbox.com
> >wrote:
>
> > Oh man, I swear I did *not* just create a new profile with the name 
> > Pauli Price!!!
> >
> > :D
> >
> > Thanks Pauli, those tickets along with the other 500 or so 
> > created/fixed/pending on the subject sure are a pain to deal with.
> >
> > But I wanted to say there are some webservers that cannot handle 
> > scheme-relative urls.  Not sure if wordpress is supported on 
> > anything other than apache and iis (which do support them fully) but 
> > if there is support for other webserver packages we should be 
> > cautious to
> implement.
> >
> > And to be devil's advocate here, there are a number of plugins that 
> > do call parse_url on the home_url's returned by wordpress.  And a 
> > smaller number of those logic branch on the "scheme" key in the 
> > returned hash array.  Granted it will only generate php notices to 
> > access the null scheme key, but it could change the logic branch in 
> > a detrimental way if scheme-less urls are used.
> >
> > This little guy has over 25k downloads 
> > http://wordpress.org/extend/plugins/wordpress-https/
> > As well as some admin/lockout issues raised in the 2.0 launch a 
> > couple days ago.  But I'm sure there are others like the BWP-Minify 
> > that could see some problems as well.
> >
> > I have always been an advocate of the argument that it could be 
> > problematic for the community, so my concern here is that it's a 
> > last minute stake in the 3.3 game, that might need some more 
> > heads-up notice to developers if we were to do a scheme-less switch.
> >
> > But I have also always been a fall-back supporter of scheme-relative 
> > urls if root-relative urls were out of the question.
> >
> > Thanks!
> >
> > -----Original Message-----
> > From: wp-hackers-bounces at lists.automattic.com [mailto:
> > wp-hackers-bounces at lists.automattic.com] On Behalf Of Pauli Price
> > Sent: Thursday, November 03, 2011 3:47 PM
> > To: wp-hackers at lists.automattic.com
> > Subject: [wp-hackers] Fixing some SSL cases for 3.4
> >
> > Here?s a transcript from #wordpress-dev.  Seeking guidance on how to 
> > move forward with this.  It?s clear that we don?t have a consensus yet.
> >
> > Discussion happens here, on the wp-hackers?  Or on a trac ticket?
> >
> > Is it appropriate to consolidate these tickets?  If so how?
> >
> > ======== transcript follows ==========
> >
> > marfarma:
> >  I'd like to help resolve these related tickets for 3.4 - anybody 
> > working on them? #13941, #15928, #18017, #19023, #18005
> >
> > trac-bot:
> >  http://core.trac.wordpress.org/ticket/13941 Future Release,
> > micropat->ryan, new, WP_CONTENT_URL should use site_url() to support 
> > micropat->HTTPS /
> > SSL
> >  http://core.trac.wordpress.org/ticket/15928 Future Release,
> > atetlaw->(no owner), assigned, wp_get_attachment_url does not check
> > for HTTPS
> >  http://core.trac.wordpress.org/ticket/18017 minor, Future Release,
> > jkudish->jkudish, new, set_url_scheme() function
> >  http://core.trac.wordpress.org/ticket/19023 high, Awaiting Review,
> > joostdevalk->nacin, reviewing, Images in Edit Comments break SSL
> >  http://core.trac.wordpress.org/ticket/18005 minor, Awaiting Review,
> > rfc1437->(no owner), reopened, mixed http/https installation and
> > add_custom_background / body_class
> >
> > nacin:
> >  That's one chunk of tickets.
> >  Yeah, I'd definitely like to tackle all of that for 3.4.
> >
> > marfarma:
> >  but all the same underlying problem
> >
> > nacin:
> >  Indeed.
> >
> > rboren:
> >  Fixing those SSL cases and using home_url() everywhere it is needed 
> > would be nice for 3.4.
> >
> > rboren:
> >  And, dare I say it, introduce 'relative' as a scheme argument.
> >
> > marfarma:
> >  relative -- isn't that a 'live-wire' topic?
> >  as in 'untouchable'
> >
> > nacin:
> >  I'd like to do protocol-independent, at least.
> >  like //
> >  anyway,
> >
> > (nacin is now known as nacin|afk.)
> >
> > rboren:
> >  It'd just be an arg for use by plugin and theme authors. No core 
> > movement to it.  Anyhow, just something we might want to discuss.
> >
> > AaronCampbell:
> >  I like the idea of being able to do relative links when it makes 
> > sense
> >
> > iamfriendly:
> >  where's the "+1 million" button?
> >  what do you mean I don't get a million votes?
> >
> > ======== transcript ends ==========
> >
> > Pauli (aka: marfarma)
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From caiorogerio at gmail.com  Thu Nov 17 02:29:56 2011
From: caiorogerio at gmail.com (Caio Rogerio Ribeiro)
Date: Thu, 17 Nov 2011 00:29:56 -0200
Subject: [wp-hackers] CPT VS Plugin
In-Reply-To: <CAL1O-KWNtVfR49+6HDj7D0T801LKiG8tzKcadVwCMTW8PBwVJA@mail.gmail.com>
References: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
	<A8E60074-0BBD-425C-8F11-41850EE583C8@newclarity.net>
	<CAL1O-KXjDYAqJdh4Xp2T0Bg1y7fO-WR_LWnqF-_y6icuWdyQMA@mail.gmail.com>
	<75BDA7CD-7F7B-4B7A-BEA1-7E074E500CC2@newclarity.net>
	<CAL1O-KWNtVfR49+6HDj7D0T801LKiG8tzKcadVwCMTW8PBwVJA@mail.gmail.com>
Message-ID: <3524088168800177745@unknownmsgid>

Leo,

Do you have some diagram of this schema to send us, for me it sound
like strange...

Caio Rogerio

Enviado via iPhone

Em 16/11/2011, ?s 18:55, Leo Baiano <ljunior2005 at gmail.com> escreveu:

>>> You can make the URLs however you want with a little PHP coding effort.
>
> First desclpa difficulty in expressing myself, my English is not great.
>
> So, with respect to friendly URL's I think would have to use PHP
> and. Htaccess, WP already has some rules in. Htaccess and my concern is to
> generate conflict between the rules.
>
> Thanks for listening, I'm starting to lean the construction based
> on CPT right, I'm riding a diagram here on this basis to have a better idea
> of what will be.
>
> 2011/11/16 Mike Schinkel <mikeschinkel at newclarity.net>
>
>> On Nov 16, 2011, at 3:06 PM, Leo Baiano wrote:
>>> Mike Oops, I understood everything you said but I got the impression
>>> that the structure will be a little complex,
>>
>> Your requirements are also a little complex.
>>
>>> it may be difficult to
>>> organize so that the customer can create relations in a simple and, above
>>> all, relationships between the entities will becomes poor.
>>
>> Depends on your implementation skills.  For some people, yes, very
>> difficult.
>>
>>> You suggested using post_parent for one to many relationships, but I
>> would
>>> not be as simple as not always the same entities are part of the CPT.
>> For example,
>>> course and class have a one to many relationship, because one can
>>> have an ongoing series ofclasses, but I can not change any of
>>> the taxonomies of two, soon they would have to be TLC, as I would say
>>> that a post is class CPTson of a post of the CPT course? Is it possible?
>>
>> I realize that English is not your primary language and since I can only
>> speak English I appreciate how a 2nd language is difficult, but still that
>> paragraph is incomplete so I don't know what you meant, and I don't
>> recognize "TLC."
>>
>>> The CPT is a good alternative, but would be back one of doubts
>>> and difficulties in connecting the entities that worry me, because it
>>> can become too complicated to list the information in front
>>> and in back manage.
>>
>> I just explained how I would do it to try to help you. If you dislike the
>> suggestions I'm sure you can come up with other ways that work for you.
>>
>>> The alternative of creating the tables behind the advantage of having the
>>> freedom to shape the bank, but I worry about the URL's as you would to
>>> generate the URLs in a friendly, following the pattern of the site?
>>
>> You can make the URLs however you want with a little PHP coding effort.
>>
>> -Mike
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Amplexos,
>
> Leo Baiano
> http://www.leobaiano.com
> http://www.blog.ljunior.com
> http://www.mcelebridades.com
> http://www.twitter.com/leobaiano
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ljunior2005 at gmail.com  Thu Nov 17 13:05:54 2011
From: ljunior2005 at gmail.com (Leo Baiano)
Date: Thu, 17 Nov 2011 11:05:54 -0200
Subject: [wp-hackers] CPT VS Plugin
In-Reply-To: <3524088168800177745@unknownmsgid>
References: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
	<A8E60074-0BBD-425C-8F11-41850EE583C8@newclarity.net>
	<CAL1O-KXjDYAqJdh4Xp2T0Bg1y7fO-WR_LWnqF-_y6icuWdyQMA@mail.gmail.com>
	<75BDA7CD-7F7B-4B7A-BEA1-7E074E500CC2@newclarity.net>
	<CAL1O-KWNtVfR49+6HDj7D0T801LKiG8tzKcadVwCMTW8PBwVJA@mail.gmail.com>
	<3524088168800177745@unknownmsgid>
Message-ID: <CAL1O-KX_UJ-bUjQp_aNV5EBnbm-FFyswN+fKJDSudS=b_56G_Q@mail.gmail.com>

Paul, many thanks for the references I read carefully. Carl, I have
the EER but all in Portuguese, help?

2011/11/17 Caio Rogerio Ribeiro <caiorogerio at gmail.com>

> Leo,
>
> Do you have some diagram of this schema to send us, for me it sound
> like strange...
>
> Caio Rogerio
>
> Enviado via iPhone
>
> Em 16/11/2011, ?s 18:55, Leo Baiano <ljunior2005 at gmail.com> escreveu:
>
> >>> You can make the URLs however you want with a little PHP coding effort.
> >
> > First desclpa difficulty in expressing myself, my English is not great.
> >
> > So, with respect to friendly URL's I think would have to use PHP
> > and. Htaccess, WP already has some rules in. Htaccess and my concern is
> to
> > generate conflict between the rules.
> >
> > Thanks for listening, I'm starting to lean the construction based
> > on CPT right, I'm riding a diagram here on this basis to have a better
> idea
> > of what will be.
> >
> > 2011/11/16 Mike Schinkel <mikeschinkel at newclarity.net>
> >
> >> On Nov 16, 2011, at 3:06 PM, Leo Baiano wrote:
> >>> Mike Oops, I understood everything you said but I got the impression
> >>> that the structure will be a little complex,
> >>
> >> Your requirements are also a little complex.
> >>
> >>> it may be difficult to
> >>> organize so that the customer can create relations in a simple and,
> above
> >>> all, relationships between the entities will becomes poor.
> >>
> >> Depends on your implementation skills.  For some people, yes, very
> >> difficult.
> >>
> >>> You suggested using post_parent for one to many relationships, but I
> >> would
> >>> not be as simple as not always the same entities are part of the CPT.
> >> For example,
> >>> course and class have a one to many relationship, because one can
> >>> have an ongoing series ofclasses, but I can not change any of
> >>> the taxonomies of two, soon they would have to be TLC, as I would say
> >>> that a post is class CPTson of a post of the CPT course? Is it
> possible?
> >>
> >> I realize that English is not your primary language and since I can only
> >> speak English I appreciate how a 2nd language is difficult, but still
> that
> >> paragraph is incomplete so I don't know what you meant, and I don't
> >> recognize "TLC."
> >>
> >>> The CPT is a good alternative, but would be back one of doubts
> >>> and difficulties in connecting the entities that worry me, because it
> >>> can become too complicated to list the information in front
> >>> and in back manage.
> >>
> >> I just explained how I would do it to try to help you. If you dislike
> the
> >> suggestions I'm sure you can come up with other ways that work for you.
> >>
> >>> The alternative of creating the tables behind the advantage of having
> the
> >>> freedom to shape the bank, but I worry about the URL's as you would to
> >>> generate the URLs in a friendly, following the pattern of the site?
> >>
> >> You can make the URLs however you want with a little PHP coding effort.
> >>
> >> -Mike
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> >
> > --
> > Amplexos,
> >
> > Leo Baiano
> > http://www.leobaiano.com
> > http://www.blog.ljunior.com
> > http://www.mcelebridades.com
> > http://www.twitter.com/leobaiano
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Amplexos,

Leo Baiano
http://www.leobaiano.com
http://www.blog.ljunior.com
http://www.mcelebridades.com
http://www.twitter.com/leobaiano

From caiorogerio at gmail.com  Thu Nov 17 13:23:30 2011
From: caiorogerio at gmail.com (Caio Rogerio Ribeiro)
Date: Thu, 17 Nov 2011 11:23:30 -0200
Subject: [wp-hackers] CPT VS Plugin
In-Reply-To: <CAL1O-KX_UJ-bUjQp_aNV5EBnbm-FFyswN+fKJDSudS=b_56G_Q@mail.gmail.com>
References: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
	<A8E60074-0BBD-425C-8F11-41850EE583C8@newclarity.net>
	<CAL1O-KXjDYAqJdh4Xp2T0Bg1y7fO-WR_LWnqF-_y6icuWdyQMA@mail.gmail.com>
	<75BDA7CD-7F7B-4B7A-BEA1-7E074E500CC2@newclarity.net>
	<CAL1O-KWNtVfR49+6HDj7D0T801LKiG8tzKcadVwCMTW8PBwVJA@mail.gmail.com>
	<3524088168800177745@unknownmsgid>
	<CAL1O-KX_UJ-bUjQp_aNV5EBnbm-FFyswN+fKJDSudS=b_56G_Q@mail.gmail.com>
Message-ID: <3327405740465763836@unknownmsgid>

Sure it helps, send us

Enviado via iPhone

Em 17/11/2011, ?s 11:06, Leo Baiano <ljunior2005 at gmail.com> escreveu:

> Paul, many thanks for the references I read carefully. Carl, I have
> the EER but all in Portuguese, help?
>
> 2011/11/17 Caio Rogerio Ribeiro <caiorogerio at gmail.com>
>
>> Leo,
>>
>> Do you have some diagram of this schema to send us, for me it sound
>> like strange...
>>
>> Caio Rogerio
>>
>> Enviado via iPhone
>>
>> Em 16/11/2011, ?s 18:55, Leo Baiano <ljunior2005 at gmail.com> escreveu:
>>
>>>>> You can make the URLs however you want with a little PHP coding effort.
>>>
>>> First desclpa difficulty in expressing myself, my English is not great.
>>>
>>> So, with respect to friendly URL's I think would have to use PHP
>>> and. Htaccess, WP already has some rules in. Htaccess and my concern is
>> to
>>> generate conflict between the rules.
>>>
>>> Thanks for listening, I'm starting to lean the construction based
>>> on CPT right, I'm riding a diagram here on this basis to have a better
>> idea
>>> of what will be.
>>>
>>> 2011/11/16 Mike Schinkel <mikeschinkel at newclarity.net>
>>>
>>>> On Nov 16, 2011, at 3:06 PM, Leo Baiano wrote:
>>>>> Mike Oops, I understood everything you said but I got the impression
>>>>> that the structure will be a little complex,
>>>>
>>>> Your requirements are also a little complex.
>>>>
>>>>> it may be difficult to
>>>>> organize so that the customer can create relations in a simple and,
>> above
>>>>> all, relationships between the entities will becomes poor.
>>>>
>>>> Depends on your implementation skills.  For some people, yes, very
>>>> difficult.
>>>>
>>>>> You suggested using post_parent for one to many relationships, but I
>>>> would
>>>>> not be as simple as not always the same entities are part of the CPT.
>>>> For example,
>>>>> course and class have a one to many relationship, because one can
>>>>> have an ongoing series ofclasses, but I can not change any of
>>>>> the taxonomies of two, soon they would have to be TLC, as I would say
>>>>> that a post is class CPTson of a post of the CPT course? Is it
>> possible?
>>>>
>>>> I realize that English is not your primary language and since I can only
>>>> speak English I appreciate how a 2nd language is difficult, but still
>> that
>>>> paragraph is incomplete so I don't know what you meant, and I don't
>>>> recognize "TLC."
>>>>
>>>>> The CPT is a good alternative, but would be back one of doubts
>>>>> and difficulties in connecting the entities that worry me, because it
>>>>> can become too complicated to list the information in front
>>>>> and in back manage.
>>>>
>>>> I just explained how I would do it to try to help you. If you dislike
>> the
>>>> suggestions I'm sure you can come up with other ways that work for you.
>>>>
>>>>> The alternative of creating the tables behind the advantage of having
>> the
>>>>> freedom to shape the bank, but I worry about the URL's as you would to
>>>>> generate the URLs in a friendly, following the pattern of the site?
>>>>
>>>> You can make the URLs however you want with a little PHP coding effort.
>>>>
>>>> -Mike
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>>
>>>
>>> --
>>> Amplexos,
>>>
>>> Leo Baiano
>>> http://www.leobaiano.com
>>> http://www.blog.ljunior.com
>>> http://www.mcelebridades.com
>>> http://www.twitter.com/leobaiano
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Amplexos,
>
> Leo Baiano
> http://www.leobaiano.com
> http://www.blog.ljunior.com
> http://www.mcelebridades.com
> http://www.twitter.com/leobaiano
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From tcbarrett at gmail.com  Thu Nov 17 14:33:16 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Thu, 17 Nov 2011 14:33:16 +0000
Subject: [wp-hackers] Auto creating custom menu
In-Reply-To: <CANFh3d76AeGpLC0hzCqSyH=WGjDmDj7bcYRNe6h0t5vVX8uYnA@mail.gmail.com>
References: <CAEgmxaYO4JAc728oqGZP430yQGAZTuHQ6=4TbGdpqB_mu+wn4Q@mail.gmail.com>
	<CANFh3d76AeGpLC0hzCqSyH=WGjDmDj7bcYRNe6h0t5vVX8uYnA@mail.gmail.com>
Message-ID: <CAEgmxaYNgPLuPM+h+1xZW4jheOp3hti0ZuUEmEgC_L5y+vBupg@mail.gmail.com>

Thanks Doug.

The code I am using does work. The problem is that it won't add the pages
to the menu, unless I am logged in. Most likely this is me falling foul of
the 'edit_posts' capability again.

Tom

On 16 November 2011 16:42, Doug Stewart <zamoose at gmail.com> wrote:

> Here's what I do to set up a custom BuddyPress menu when I detect BP
> as active. It seems pretty close to what you're doing. Maybe it'll
> help.
>
>        $menuname = $lblg_themename . ' BuddyPress Menu';
>        $bpmenulocation = 'lblgbpmenu';
>        // Does the menu exist already?
>        $menu_exists = wp_get_nav_menu_object( $menuname );
>
>        // If it doesn't exist, let's create it.
>        if( !$menu_exists){
>                $menu_id = wp_create_nav_menu($menuname);
>
>                // Set up default BuddyPress links and add them to the menu.
>                wp_update_nav_menu_item($menu_id, 0, array(
>                    'menu-item-title' =>  __('Home'),
>                    'menu-item-classes' => 'home',
>                    'menu-item-url' => home_url( '/' ),
>                    'menu-item-status' => 'publish'));
>
>                wp_update_nav_menu_item($menu_id, 0, array(
>                    'menu-item-title' =>  __('Activity'),
>                    'menu-item-classes' => 'activity',
>                    'menu-item-url' => home_url( '/activity/' ),
>                    'menu-item-status' => 'publish'));
>
>                wp_update_nav_menu_item($menu_id, 0, array(
>                    'menu-item-title' =>  __('Members'),
>                    'menu-item-classes' => 'members',
>                    'menu-item-url' => home_url( '/members/' ),
>                    'menu-item-status' => 'publish'));
>
>                wp_update_nav_menu_item($menu_id, 0, array(
>                    'menu-item-title' =>  __('Groups'),
>                    'menu-item-classes' => 'groups',
>                    'menu-item-url' => home_url( '/groups/' ),
>                    'menu-item-status' => 'publish'));
>
>                wp_update_nav_menu_item($menu_id, 0, array(
>                    'menu-item-title' =>  __('Forums'),
>                    'menu-item-classes' => 'forums',
>                    'menu-item-url' => home_url( '/forums/' ),
>                    'menu-item-status' => 'publish'));
>
>                // Grab the theme locations and assign our newly-created
> menu
>                // to the BuddyPress menu location.
>                if( !has_nav_menu( $bpmenulocation ) ){
>                        $locations = get_theme_mod('nav_menu_locations');
>                        $locations[$bpmenulocation] = $menu_id;
>                        set_theme_mod( 'nav_menu_locations', $locations );
>                 }
>
>        }
>
> On Wed, Nov 16, 2011 at 7:14 AM, Tom Barrett <tcbarrett at gmail.com> wrote:
> > I am building a WordPress 'deployment system'. As part of this, I want:
> 1)
> > install and activate a theme 2) create some pages 3) Add a custom menu
> with
> > those pages. The first two steps are fine, and I can create the custom
> > menu. But I cannot get the pages into the menu.
> >
> > How the automated part works, is that it creates wp-config.php file, and
> a
> > PHP script in wp-admin that installs WordPress (calling wp_install()
> > e.t.c). It then calls an action hook that is added in the theme's files.
> >
> > Something a bit like this:
> >
> > <?php
> > // Script in wp-admin
> > require_once( '../wp-load.php' );
> > require_once( './includes/upgrade.php' );
> > wp_install( ..... );
> > do_action( 'setup_wordpress' );
> > ?>
> >
> > <?php
> > // Theme functions.php file
> > add_action( 'setup_wordpress', 'do_setup_wordpress' );
> > function do_setup_wordpress(){
> >  $mypages    = make_three_pages_and_return_their_post_id(); // returns
> > array( [0]=>3, [1]=>4, [2]=>5 )
> >  $mymenuname = 'My Menu';
> >  wp_create_nav_menu( $mymenuname );
> >  $menu       = get_term_by( 'name', $mymenuname, 'nav_menu' );
> >  $menu_id    = $menu->term_id;
> >
> >  foreach( $mypages as $page_id ){
> >    $args = array(
> >      'menu-item-object-id' => $page_id,
> >      'menu-item-object'    => 'page',
> >      'menu-item-type'      => 'post_type',
> >      'menu-item-status'    => 'publish',
> >    );
> >    $menu_item_id = wp_update_nav_menu_item( $menu_id, 0, $args );
> >  }
> > }
> > ?>
> >
> > It does everything except put the pages in the menu. The code works if I
> > trigger it through browsing the site. EG: add_action( 'admin_init',
> > 'do_setup_wordpress' ); (This is how I developed it initially).
> >
> > The $menu_item_id variable gets a value (usually 6,7,8).
> >
> > Any ideas what I'm missing or not doing? Am I just being crazy?
> >
> >
> >
> > --
> > http://www.tcbarrett.com | http://gplus.to/tcbarrett |
> > http://twitter.com/tcbarrett
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> -Doug
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From needle at haystack.co.uk  Thu Nov 17 14:58:03 2011
From: needle at haystack.co.uk (Christian Wach)
Date: Thu, 17 Nov 2011 14:58:03 +0000
Subject: [wp-hackers] Auto creating custom menu
In-Reply-To: <CAEgmxaYNgPLuPM+h+1xZW4jheOp3hti0ZuUEmEgC_L5y+vBupg@mail.gmail.com>
References: <CAEgmxaYO4JAc728oqGZP430yQGAZTuHQ6=4TbGdpqB_mu+wn4Q@mail.gmail.com>
	<CANFh3d76AeGpLC0hzCqSyH=WGjDmDj7bcYRNe6h0t5vVX8uYnA@mail.gmail.com>
	<CAEgmxaYNgPLuPM+h+1xZW4jheOp3hti0ZuUEmEgC_L5y+vBupg@mail.gmail.com>
Message-ID: <0092769E-80AB-45FC-B7A8-6C1F8118F93E@haystack.co.uk>

Hi Tom,

On 17 Nov 2011, at 14:33, Tom Barrett wrote:

> The problem is that it won't add the pages to the menu, unless I am  
> logged in. Most likely this is me falling foul of the 'edit_posts'  
> capability again.

Then how about forcing a login before you call  
do_action( 'setup_wordpress' )?
Something like...

$user = get_userdatabylogin( $username );
if ( is_object( $user ) ) {
   // login procedure
   wp_set_current_user( $user->ID, $username );
   wp_set_auth_cookie( $user->ID );
   do_action( 'wp_login', $username );
}

Cheers,

Christian


From lightningspirit at gmail.com  Thu Nov 17 15:36:20 2011
From: lightningspirit at gmail.com (Vitor Carvalho)
Date: Thu, 17 Nov 2011 15:36:20 +0000
Subject: [wp-hackers] Forking Hyper Cache to be *more* WPMU friendly
Message-ID: <CAKuacB-mz30w61-UmOBO2JoWjM_dd4Wtvz2m-jX2nnpj6xM5Fw@mail.gmail.com>

Hi all,

I'm trying to fork Hyper Cache plugin to be used in WPMU but I have a few
questions about the WP load order.

My idea is to individualize all options for each assigned blog, thus
one accessing a blog this plugin could provide a independent configuration
based on blog_id. I think this can be usefull for MU installations.

Another problem with Hyper Cache is that, clearing cache files will clear
ALL cache for ALL blogs an not just the one we expected.

So, my changes would be:
1. At load time, provide plugin the blog_id and get options from database
or a config file.
2. The cache directory inside wp-content/blogs.dir/blog_id/cache/* instead
of wp-content/cache/*, so plugin only clears the cache files for that blog.

Some considerations and doubts
1. What do you think about retrieving options from database. Do you think
some performance will be lost?
2. Where advanced-cache.php is loaded in WP, before or after init action?

Hope someone can help me!

-- 

--
Por favor n?o mostre a outros os endere?os electr?nicos dos seus amigos.
Quando reenviar uma mensagem, escreva os endere?os em BCC ou em CCO (c?pia
oculta). Apague qualquer endere?o que exista no corpo da mensagem antes de
enviar.
Esta ac??o dificulta a dissemina??o de v?rus, spams e banners.

--
Please do not show to others e-mail addresses of your friends.
When forwarding a message, type the addresses in BCC (blind carbon copy).
Delete any address that exists in the message body before sending.
This action hinders the spread of viruses, spam and banners.

Vitor Carvalho
*Wordpress Designer, Web Developer*
http://lightningspirit.net
Lisbon, Portugal

From tcbarrett at gmail.com  Thu Nov 17 15:57:06 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Thu, 17 Nov 2011 15:57:06 +0000
Subject: [wp-hackers] Auto creating custom menu
In-Reply-To: <0092769E-80AB-45FC-B7A8-6C1F8118F93E@haystack.co.uk>
References: <CAEgmxaYO4JAc728oqGZP430yQGAZTuHQ6=4TbGdpqB_mu+wn4Q@mail.gmail.com>
	<CANFh3d76AeGpLC0hzCqSyH=WGjDmDj7bcYRNe6h0t5vVX8uYnA@mail.gmail.com>
	<CAEgmxaYNgPLuPM+h+1xZW4jheOp3hti0ZuUEmEgC_L5y+vBupg@mail.gmail.com>
	<0092769E-80AB-45FC-B7A8-6C1F8118F93E@haystack.co.uk>
Message-ID: <CAEgmxaZC02BbA=E9EKOMfKt57PsVCVYJGutj490J4B1k=eAxYg@mail.gmail.com>

Hi Christian,

 The problem is that it won't add the pages to the menu, unless I am logged
>> in. Most likely this is me falling foul of the 'edit_posts' capability
>> again.
>>
>
> Then how about forcing a login before you call do_action(
> 'setup_wordpress' )?
> Something like...
>
> $user = get_userdatabylogin( $username );
> if ( is_object( $user ) ) {
>  // login procedure
>  wp_set_current_user( $user->ID, $username );
>  wp_set_auth_cookie( $user->ID );
>  do_action( 'wp_login', $username );
> }
>

Abso-super-smashing-great. Thank you, works a treat.

-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From ljunior2005 at gmail.com  Thu Nov 17 16:37:12 2011
From: ljunior2005 at gmail.com (Leo Baiano)
Date: Thu, 17 Nov 2011 14:37:12 -0200
Subject: [wp-hackers] CPT VS Plugin
In-Reply-To: <3327405740465763836@unknownmsgid>
References: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
	<A8E60074-0BBD-425C-8F11-41850EE583C8@newclarity.net>
	<CAL1O-KXjDYAqJdh4Xp2T0Bg1y7fO-WR_LWnqF-_y6icuWdyQMA@mail.gmail.com>
	<75BDA7CD-7F7B-4B7A-BEA1-7E074E500CC2@newclarity.net>
	<CAL1O-KWNtVfR49+6HDj7D0T801LKiG8tzKcadVwCMTW8PBwVJA@mail.gmail.com>
	<3524088168800177745@unknownmsgid>
	<CAL1O-KX_UJ-bUjQp_aNV5EBnbm-FFyswN+fKJDSudS=b_56G_Q@mail.gmail.com>
	<3327405740465763836@unknownmsgid>
Message-ID: <CAL1O-KU6imdG8aN+aj929=7hOuPJwmvbg8znGyF_UhTWqoc78g@mail.gmail.com>

Attached is a PNG EER, any suggestion of structure will be very welcome.

2011/11/17 Caio Rogerio Ribeiro <caiorogerio at gmail.com>

> Sure it helps, send us
>
> Enviado via iPhone
>
> Em 17/11/2011, ?s 11:06, Leo Baiano <ljunior2005 at gmail.com> escreveu:
>
> > Paul, many thanks for the references I read carefully. Carl, I have
> > the EER but all in Portuguese, help?
> >
> > 2011/11/17 Caio Rogerio Ribeiro <caiorogerio at gmail.com>
> >
> >> Leo,
> >>
> >> Do you have some diagram of this schema to send us, for me it sound
> >> like strange...
> >>
> >> Caio Rogerio
> >>
> >> Enviado via iPhone
> >>
> >> Em 16/11/2011, ?s 18:55, Leo Baiano <ljunior2005 at gmail.com> escreveu:
> >>
> >>>>> You can make the URLs however you want with a little PHP coding
> effort.
> >>>
> >>> First desclpa difficulty in expressing myself, my English is not great.
> >>>
> >>> So, with respect to friendly URL's I think would have to use PHP
> >>> and. Htaccess, WP already has some rules in. Htaccess and my concern is
> >> to
> >>> generate conflict between the rules.
> >>>
> >>> Thanks for listening, I'm starting to lean the construction based
> >>> on CPT right, I'm riding a diagram here on this basis to have a better
> >> idea
> >>> of what will be.
> >>>
> >>> 2011/11/16 Mike Schinkel <mikeschinkel at newclarity.net>
> >>>
> >>>> On Nov 16, 2011, at 3:06 PM, Leo Baiano wrote:
> >>>>> Mike Oops, I understood everything you said but I got the impression
> >>>>> that the structure will be a little complex,
> >>>>
> >>>> Your requirements are also a little complex.
> >>>>
> >>>>> it may be difficult to
> >>>>> organize so that the customer can create relations in a simple and,
> >> above
> >>>>> all, relationships between the entities will becomes poor.
> >>>>
> >>>> Depends on your implementation skills.  For some people, yes, very
> >>>> difficult.
> >>>>
> >>>>> You suggested using post_parent for one to many relationships, but I
> >>>> would
> >>>>> not be as simple as not always the same entities are part of the CPT.
> >>>> For example,
> >>>>> course and class have a one to many relationship, because one can
> >>>>> have an ongoing series ofclasses, but I can not change any of
> >>>>> the taxonomies of two, soon they would have to be TLC, as I would say
> >>>>> that a post is class CPTson of a post of the CPT course? Is it
> >> possible?
> >>>>
> >>>> I realize that English is not your primary language and since I can
> only
> >>>> speak English I appreciate how a 2nd language is difficult, but still
> >> that
> >>>> paragraph is incomplete so I don't know what you meant, and I don't
> >>>> recognize "TLC."
> >>>>
> >>>>> The CPT is a good alternative, but would be back one of doubts
> >>>>> and difficulties in connecting the entities that worry me, because it
> >>>>> can become too complicated to list the information in front
> >>>>> and in back manage.
> >>>>
> >>>> I just explained how I would do it to try to help you. If you dislike
> >> the
> >>>> suggestions I'm sure you can come up with other ways that work for
> you.
> >>>>
> >>>>> The alternative of creating the tables behind the advantage of having
> >> the
> >>>>> freedom to shape the bank, but I worry about the URL's as you would
> to
> >>>>> generate the URLs in a friendly, following the pattern of the site?
> >>>>
> >>>> You can make the URLs however you want with a little PHP coding
> effort.
> >>>>
> >>>> -Mike
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>>
> >>>
> >>>
> >>> --
> >>> Amplexos,
> >>>
> >>> Leo Baiano
> >>> http://www.leobaiano.com
> >>> http://www.blog.ljunior.com
> >>> http://www.mcelebridades.com
> >>> http://www.twitter.com/leobaiano
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> >
> > --
> > Amplexos,
> >
> > Leo Baiano
> > http://www.leobaiano.com
> > http://www.blog.ljunior.com
> > http://www.mcelebridades.com
> > http://www.twitter.com/leobaiano
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Amplexos,

Leo Baiano
http://www.leobaiano.com
http://www.blog.ljunior.com
http://www.mcelebridades.com
http://www.twitter.com/leobaiano

From jnolte at getmoxied.net  Thu Nov 17 20:21:06 2011
From: jnolte at getmoxied.net (Jeffrey Nolte)
Date: Thu, 17 Nov 2011 15:21:06 -0500
Subject: [wp-hackers] Registering shortcodes for meta boxes
Message-ID: <ED28EA1D-A7F4-411F-9FDC-9ED7351CC21B@getmoxied.net>

Is there a certain way to add a shortcode to  meta box.  The registered shortcode does not seem to be showing up when used in a meta box.

From mikeschinkel at newclarity.net  Thu Nov 17 21:13:33 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 17 Nov 2011 16:13:33 -0500
Subject: [wp-hackers] CPT VS Plugin
In-Reply-To: <CAL1O-KU6imdG8aN+aj929=7hOuPJwmvbg8znGyF_UhTWqoc78g@mail.gmail.com>
References: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
	<A8E60074-0BBD-425C-8F11-41850EE583C8@newclarity.net>
	<CAL1O-KXjDYAqJdh4Xp2T0Bg1y7fO-WR_LWnqF-_y6icuWdyQMA@mail.gmail.com>
	<75BDA7CD-7F7B-4B7A-BEA1-7E074E500CC2@newclarity.net>
	<CAL1O-KWNtVfR49+6HDj7D0T801LKiG8tzKcadVwCMTW8PBwVJA@mail.gmail.com>
	<3524088168800177745@unknownmsgid>
	<CAL1O-KX_UJ-bUjQp_aNV5EBnbm-FFyswN+fKJDSudS=b_56G_Q@mail.gmail.com>
	<3327405740465763836@unknownmsgid>
	<CAL1O-KU6imdG8aN+aj929=7hOuPJwmvbg8znGyF_UhTWqoc78g@mail.gmail.com>
Message-ID: <4A6714B0-350D-4B86-8A68-C3CB4B8B9052@newclarity.net>

On Nov 17, 2011, at 11:37 AM, Leo Baiano wrote:
> Attached is a PNG EER, any suggestion of structure will be very welcome.
> 
> 2011/11/17 Caio Rogerio Ribeiro <caiorogerio at gmail.com>
>> Sure it helps, send us
> 

You can't send attachments over the list.  Email him directly.

-Mike 



From ljunior2005 at gmail.com  Thu Nov 17 21:27:38 2011
From: ljunior2005 at gmail.com (Leo Baiano)
Date: Thu, 17 Nov 2011 19:27:38 -0200
Subject: [wp-hackers] CPT VS Plugin
In-Reply-To: <4A6714B0-350D-4B86-8A68-C3CB4B8B9052@newclarity.net>
References: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
	<A8E60074-0BBD-425C-8F11-41850EE583C8@newclarity.net>
	<CAL1O-KXjDYAqJdh4Xp2T0Bg1y7fO-WR_LWnqF-_y6icuWdyQMA@mail.gmail.com>
	<75BDA7CD-7F7B-4B7A-BEA1-7E074E500CC2@newclarity.net>
	<CAL1O-KWNtVfR49+6HDj7D0T801LKiG8tzKcadVwCMTW8PBwVJA@mail.gmail.com>
	<3524088168800177745@unknownmsgid>
	<CAL1O-KX_UJ-bUjQp_aNV5EBnbm-FFyswN+fKJDSudS=b_56G_Q@mail.gmail.com>
	<3327405740465763836@unknownmsgid>
	<CAL1O-KU6imdG8aN+aj929=7hOuPJwmvbg8znGyF_UhTWqoc78g@mail.gmail.com>
	<4A6714B0-350D-4B86-8A68-C3CB4B8B9052@newclarity.net>
Message-ID: <CAL1O-KW1hFysqNgqLU5=HxLoL-BFLDDAkvngaS4J6K4TytdE7w@mail.gmail.com>

Here is a link to the PNG public, thanks to those who can help, I'm trying
to define here what is CPT, which is taxonomies, the custom fields, with
that in hand I set the best way.

http://dl.dropbox.com/u/1953999/modelo%20de%20entidades%20e%20relacionamentos%20-%20Sistema%20de%20Cursos%20-%20V%202.png

Thank you so much!

2011/11/17 Mike Schinkel <mikeschinkel at newclarity.net>

> On Nov 17, 2011, at 11:37 AM, Leo Baiano wrote:
> > Attached is a PNG EER, any suggestion of structure will be very welcome.
> >
> > 2011/11/17 Caio Rogerio Ribeiro <caiorogerio at gmail.com>
> >> Sure it helps, send us
> >
>
> You can't send attachments over the list.  Email him directly.
>
> -Mike
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Amplexos,

Leo Baiano
http://www.leobaiano.com
http://www.blog.ljunior.com
http://www.mcelebridades.com
http://www.twitter.com/leobaiano

From steve at sltaylor.co.uk  Thu Nov 17 22:27:44 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Thu, 17 Nov 2011 22:27:44 +0000
Subject: [wp-hackers] Registering shortcodes for meta boxes
In-Reply-To: <ED28EA1D-A7F4-411F-9FDC-9ED7351CC21B@getmoxied.net>
References: <ED28EA1D-A7F4-411F-9FDC-9ED7351CC21B@getmoxied.net>
Message-ID: <CAGEuVU3WMxV9sWRm=CJ-1fQtwK6qtSrj_D2rFGm-BA5_nbJC9w@mail.gmail.com>

Shortcodes get parsed when stuff goes through 'the_content' filter.
Obviously this automatically gets applied by the_content(), but for
anything else, either do this:

echo apply_filter( 'the_content', $my_meta_box_content );

Or, if you ONLY want the shortcodes parsing (and not everything else
that's hooked to the_content):

echo do_shortcode( $my_meta_box_content );

I think these should do the trick.

Steve


On 17 November 2011 20:21, Jeffrey Nolte <jnolte at getmoxied.net> wrote:
> Is there a certain way to add a shortcode to ?meta box. ?The registered shortcode does not seem to be showing up when used in a meta box.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From stas at nerd.ro  Thu Nov 17 22:31:31 2011
From: stas at nerd.ro (=?UTF-8?B?U3RhcyBTdciZY292?=)
Date: Fri, 18 Nov 2011 00:31:31 +0200
Subject: [wp-hackers] CPT VS Plugin
In-Reply-To: <CAL1O-KW1hFysqNgqLU5=HxLoL-BFLDDAkvngaS4J6K4TytdE7w@mail.gmail.com>
References: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
	<A8E60074-0BBD-425C-8F11-41850EE583C8@newclarity.net>
	<CAL1O-KXjDYAqJdh4Xp2T0Bg1y7fO-WR_LWnqF-_y6icuWdyQMA@mail.gmail.com>
	<75BDA7CD-7F7B-4B7A-BEA1-7E074E500CC2@newclarity.net>
	<CAL1O-KWNtVfR49+6HDj7D0T801LKiG8tzKcadVwCMTW8PBwVJA@mail.gmail.com>
	<3524088168800177745@unknownmsgid>
	<CAL1O-KX_UJ-bUjQp_aNV5EBnbm-FFyswN+fKJDSudS=b_56G_Q@mail.gmail.com>
	<3327405740465763836@unknownmsgid>
	<CAL1O-KU6imdG8aN+aj929=7hOuPJwmvbg8znGyF_UhTWqoc78g@mail.gmail.com>
	<4A6714B0-350D-4B86-8A68-C3CB4B8B9052@newclarity.net>
	<CAL1O-KW1hFysqNgqLU5=HxLoL-BFLDDAkvngaS4J6K4TytdE7w@mail.gmail.com>
Message-ID: <4EC58B43.7090905@nerd.ro>

On Jo 17 nov 2011 23:27:38 +0200, Leo Baiano wrote:
> Here is a link to the PNG public, thanks to those who can help, I'm trying
> to define here what is CPT, which is taxonomies, the custom fields, with
> that in hand I set the best way.
>
> http://dl.dropbox.com/u/1953999/modelo%20de%20entidades%20e%20relacionamentos%20-%20Sistema%20de%20Cursos%20-%20V%202.png
>
> Thank you so much!
>

I think you are doing it wrong.
My suggestion for you would be to step back and revise your knowledge 
about WordPress API and then start thinking in that way.
CPT are more like objects with key-value storage rather than tables and 
relationships (taking a pen and a paper and drawing some boxes with 
polygons as attributes would help you more than current diagram).
Though, thinking again, I wonder why you are struggling to push this 
_plugin_ into WordPress (looks more like a standalone app), you 
definitely do not look like somebody who has previous experience, maybe 
its worth hiring a guy for part-time consulting (codepoet/jobs.wp.net)?

Of course I might be wrong, in that case, my apologizes.

From jnolte at getmoxied.net  Thu Nov 17 22:32:24 2011
From: jnolte at getmoxied.net (Jeffrey Nolte)
Date: Thu, 17 Nov 2011 17:32:24 -0500
Subject: [wp-hackers] Registering shortcodes for meta boxes
In-Reply-To: <CAGEuVU3WMxV9sWRm=CJ-1fQtwK6qtSrj_D2rFGm-BA5_nbJC9w@mail.gmail.com>
References: <ED28EA1D-A7F4-411F-9FDC-9ED7351CC21B@getmoxied.net>
	<CAGEuVU3WMxV9sWRm=CJ-1fQtwK6qtSrj_D2rFGm-BA5_nbJC9w@mail.gmail.com>
Message-ID: <953623A4-EDC0-4915-BFBA-78FE1AD5D355@getmoxied.net>

Thank you Steve!  That makes total sense.

-Jeffrey Nolte
On Nov 17, 2011, at 5:27 PM, Steve Taylor wrote:

> Shortcodes get parsed when stuff goes through 'the_content' filter.
> Obviously this automatically gets applied by the_content(), but for
> anything else, either do this:
> 
> echo apply_filter( 'the_content', $my_meta_box_content );
> 
> Or, if you ONLY want the shortcodes parsing (and not everything else
> that's hooked to the_content):
> 
> echo do_shortcode( $my_meta_box_content );
> 
> I think these should do the trick.
> 
> Steve
> 
> 
> On 17 November 2011 20:21, Jeffrey Nolte <jnolte at getmoxied.net> wrote:
>> Is there a certain way to add a shortcode to  meta box.  The registered shortcode does not seem to be showing up when used in a meta box.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ljunior2005 at gmail.com  Fri Nov 18 01:38:47 2011
From: ljunior2005 at gmail.com (Leo Baiano)
Date: Thu, 17 Nov 2011 23:38:47 -0200
Subject: [wp-hackers] CPT VS Plugin
In-Reply-To: <4EC58B43.7090905@nerd.ro>
References: <CAL1O-KUwH_QyEiipuE5vAe8Rvo0S5Vh=xHqjC3LGmMoB+i2wgA@mail.gmail.com>
	<A8E60074-0BBD-425C-8F11-41850EE583C8@newclarity.net>
	<CAL1O-KXjDYAqJdh4Xp2T0Bg1y7fO-WR_LWnqF-_y6icuWdyQMA@mail.gmail.com>
	<75BDA7CD-7F7B-4B7A-BEA1-7E074E500CC2@newclarity.net>
	<CAL1O-KWNtVfR49+6HDj7D0T801LKiG8tzKcadVwCMTW8PBwVJA@mail.gmail.com>
	<3524088168800177745@unknownmsgid>
	<CAL1O-KX_UJ-bUjQp_aNV5EBnbm-FFyswN+fKJDSudS=b_56G_Q@mail.gmail.com>
	<3327405740465763836@unknownmsgid>
	<CAL1O-KU6imdG8aN+aj929=7hOuPJwmvbg8znGyF_UhTWqoc78g@mail.gmail.com>
	<4A6714B0-350D-4B86-8A68-C3CB4B8B9052@newclarity.net>
	<CAL1O-KW1hFysqNgqLU5=HxLoL-BFLDDAkvngaS4J6K4TytdE7w@mail.gmail.com>
	<4EC58B43.7090905@nerd.ro>
Message-ID: <CAL1O-KUec9LL-Y5xSXSgFHFhKAZFKKpWreBhtzcPZaLHm36Gbg@mail.gmail.com>

Stas, I program the 9 years and has participated in projects much more
elaborate than this, I have been working with WordPress to at least 2
years. I'm not the most experienced programmers in respect
of WP development through its API, but based on the knowledge I have PHP
programming and integration with API I know I can do the job.

I live in Brazil and here CMS WordPress is a very popular, many companies
are using, because it does not always have the option to choose how to
work in this particular projectas the client's site is on
WordPress and they just want to add this courses and managerinsisted it
was WP, so we chose not to do a job share.

At the agency I work deadlines do not always allow testing and research,
then developnormally as if making an autonomous system using hooks
and WP filters, but here in Brazilsome developers insist on telling me that
I should do with CPT, the most things are better and blah blah blah, so
this time I thought to do so.

Having never used CPT and taxonomies to more elaborate systems was
worried to start doing so and then in the middle of the project, find that
there will be good and have to start, this was the reason I opened the
topic, I wanted to see the opinion more experienceddevelopers.

I've already started working on the development through the WP API, I
had more time for research and discussion to see the possibility of
using TLC.

Thanks for the reply, I still have interest in the discussion, but not for
this job the most.

11/11/17 Stas Su?cov <stas at nerd.ro>

> On Jo 17 nov 2011 23:27:38 +0200, Leo Baiano wrote:
>
>> Here is a link to the PNG public, thanks to those who can help, I'm trying
>> to define here what is CPT, which is taxonomies, the custom fields, with
>> that in hand I set the best way.
>>
>> http://dl.dropbox.com/u/**1953999/modelo%20de%**20entidades%20e%**
>> 20relacionamentos%20-%**20Sistema%20de%20Cursos%20-%**20V%202.png<http://dl.dropbox.com/u/1953999/modelo%20de%20entidades%20e%20relacionamentos%20-%20Sistema%20de%20Cursos%20-%20V%202.png>
>>
>> Thank you so much!
>>
>>
> I think you are doing it wrong.
> My suggestion for you would be to step back and revise your knowledge
> about WordPress API and then start thinking in that way.
> CPT are more like objects with key-value storage rather than tables and
> relationships (taking a pen and a paper and drawing some boxes with
> polygons as attributes would help you more than current diagram).
> Though, thinking again, I wonder why you are struggling to push this
> _plugin_ into WordPress (looks more like a standalone app), you definitely
> do not look like somebody who has previous experience, maybe its worth
> hiring a guy for part-time consulting (codepoet/jobs.wp.net)?
>
> Of course I might be wrong, in that case, my apologizes.
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>



-- 
Amplexos,

Leo Baiano
http://www.leobaiano.com
http://www.blog.ljunior.com
http://www.mcelebridades.com
http://www.twitter.com/leobaiano

From vijayverma2011 at hotmail.com  Fri Nov 18 06:10:08 2011
From: vijayverma2011 at hotmail.com (VIJAY VERMA)
Date: Fri, 18 Nov 2011 06:10:08 +0000
Subject: [wp-hackers] (no subject)
In-Reply-To: <mailman.9796.1321547834.1433.wp-hackers@lists.automattic.com>
References: <mailman.9796.1321547834.1433.wp-hackers@lists.automattic.com>
Message-ID: <SNT144-W1958E2EB4711E18A4BAF72CDC40@phx.gbl>



Hi, I could not understand the purpose of the we-hackers list updates.  Could I know how it is useful to the subscribers? Regards
VIJAY


> From: wp-hackers-request at lists.automattic.com
> Subject: wp-hackers Digest, Vol 82, Issue 39
> To: wp-hackers at lists.automattic.com
> Date: Thu, 17 Nov 2011 16:37:14 +0000
> 
> Send wp-hackers mailing list submissions to
> 	wp-hackers at lists.automattic.com
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> 	http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
> 	wp-hackers-request at lists.automattic.com
> 
> You can reach the person managing the list at
> 	wp-hackers-owner at lists.automattic.com
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
> 
> 
> Today's Topics:
> 
>    1. Re: CPT VS Plugin (Leo Baiano)
>    2. Re: CPT VS Plugin (Caio Rogerio Ribeiro)
>    3. Re: Auto creating custom menu (Tom Barrett)
>    4. Re: Auto creating custom menu (Christian Wach)
>    5. Forking Hyper Cache to be *more* WPMU friendly (Vitor Carvalho)
>    6. Re: Auto creating custom menu (Tom Barrett)
>    7. Re: CPT VS Plugin (Leo Baiano)
> 
> 
> ----------------------------------------------------------------------
> 
> Message: 1
> Date: Thu, 17 Nov 2011 11:05:54 -0200
> From: Leo Baiano <ljunior2005 at gmail.com>
> Subject: Re: [wp-hackers] CPT VS Plugin
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<CAL1O-KX_UJ-bUjQp_aNV5EBnbm-FFyswN+fKJDSudS=b_56G_Q at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> Paul, many thanks for the references I read carefully. Carl, I have
> the EER but all in Portuguese, help?
> 
> 2011/11/17 Caio Rogerio Ribeiro <caiorogerio at gmail.com>
> 
> > Leo,
> >
> > Do you have some diagram of this schema to send us, for me it sound
> > like strange...
> >
> > Caio Rogerio
> >
> > Enviado via iPhone
> >
> > Em 16/11/2011, ?s 18:55, Leo Baiano <ljunior2005 at gmail.com> escreveu:
> >
> > >>> You can make the URLs however you want with a little PHP coding effort.
> > >
> > > First desclpa difficulty in expressing myself, my English is not great.
> > >
> > > So, with respect to friendly URL's I think would have to use PHP
> > > and. Htaccess, WP already has some rules in. Htaccess and my concern is
> > to
> > > generate conflict between the rules.
> > >
> > > Thanks for listening, I'm starting to lean the construction based
> > > on CPT right, I'm riding a diagram here on this basis to have a better
> > idea
> > > of what will be.
> > >
> > > 2011/11/16 Mike Schinkel <mikeschinkel at newclarity.net>
> > >
> > >> On Nov 16, 2011, at 3:06 PM, Leo Baiano wrote:
> > >>> Mike Oops, I understood everything you said but I got the impression
> > >>> that the structure will be a little complex,
> > >>
> > >> Your requirements are also a little complex.
> > >>
> > >>> it may be difficult to
> > >>> organize so that the customer can create relations in a simple and,
> > above
> > >>> all, relationships between the entities will becomes poor.
> > >>
> > >> Depends on your implementation skills.  For some people, yes, very
> > >> difficult.
> > >>
> > >>> You suggested using post_parent for one to many relationships, but I
> > >> would
> > >>> not be as simple as not always the same entities are part of the CPT.
> > >> For example,
> > >>> course and class have a one to many relationship, because one can
> > >>> have an ongoing series ofclasses, but I can not change any of
> > >>> the taxonomies of two, soon they would have to be TLC, as I would say
> > >>> that a post is class CPTson of a post of the CPT course? Is it
> > possible?
> > >>
> > >> I realize that English is not your primary language and since I can only
> > >> speak English I appreciate how a 2nd language is difficult, but still
> > that
> > >> paragraph is incomplete so I don't know what you meant, and I don't
> > >> recognize "TLC."
> > >>
> > >>> The CPT is a good alternative, but would be back one of doubts
> > >>> and difficulties in connecting the entities that worry me, because it
> > >>> can become too complicated to list the information in front
> > >>> and in back manage.
> > >>
> > >> I just explained how I would do it to try to help you. If you dislike
> > the
> > >> suggestions I'm sure you can come up with other ways that work for you.
> > >>
> > >>> The alternative of creating the tables behind the advantage of having
> > the
> > >>> freedom to shape the bank, but I worry about the URL's as you would to
> > >>> generate the URLs in a friendly, following the pattern of the site?
> > >>
> > >> You can make the URLs however you want with a little PHP coding effort.
> > >>
> > >> -Mike
> > >> _______________________________________________
> > >> wp-hackers mailing list
> > >> wp-hackers at lists.automattic.com
> > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>
> > >
> > >
> > >
> > > --
> > > Amplexos,
> > >
> > > Leo Baiano
> > > http://www.leobaiano.com
> > > http://www.blog.ljunior.com
> > > http://www.mcelebridades.com
> > > http://www.twitter.com/leobaiano
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> 
> -- 
> Amplexos,
> 
> Leo Baiano
> http://www.leobaiano.com
> http://www.blog.ljunior.com
> http://www.mcelebridades.com
> http://www.twitter.com/leobaiano
> 
> 
> ------------------------------
> 
> Message: 2
> Date: Thu, 17 Nov 2011 11:23:30 -0200
> From: Caio Rogerio Ribeiro <caiorogerio at gmail.com>
> Subject: Re: [wp-hackers] CPT VS Plugin
> To: "wp-hackers at lists.automattic.com"
> 	<wp-hackers at lists.automattic.com>
> Message-ID: <3327405740465763836 at unknownmsgid>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> Sure it helps, send us
> 
> Enviado via iPhone
> 
> Em 17/11/2011, ?s 11:06, Leo Baiano <ljunior2005 at gmail.com> escreveu:
> 
> > Paul, many thanks for the references I read carefully. Carl, I have
> > the EER but all in Portuguese, help?
> >
> > 2011/11/17 Caio Rogerio Ribeiro <caiorogerio at gmail.com>
> >
> >> Leo,
> >>
> >> Do you have some diagram of this schema to send us, for me it sound
> >> like strange...
> >>
> >> Caio Rogerio
> >>
> >> Enviado via iPhone
> >>
> >> Em 16/11/2011, ?s 18:55, Leo Baiano <ljunior2005 at gmail.com> escreveu:
> >>
> >>>>> You can make the URLs however you want with a little PHP coding effort.
> >>>
> >>> First desclpa difficulty in expressing myself, my English is not great.
> >>>
> >>> So, with respect to friendly URL's I think would have to use PHP
> >>> and. Htaccess, WP already has some rules in. Htaccess and my concern is
> >> to
> >>> generate conflict between the rules.
> >>>
> >>> Thanks for listening, I'm starting to lean the construction based
> >>> on CPT right, I'm riding a diagram here on this basis to have a better
> >> idea
> >>> of what will be.
> >>>
> >>> 2011/11/16 Mike Schinkel <mikeschinkel at newclarity.net>
> >>>
> >>>> On Nov 16, 2011, at 3:06 PM, Leo Baiano wrote:
> >>>>> Mike Oops, I understood everything you said but I got the impression
> >>>>> that the structure will be a little complex,
> >>>>
> >>>> Your requirements are also a little complex.
> >>>>
> >>>>> it may be difficult to
> >>>>> organize so that the customer can create relations in a simple and,
> >> above
> >>>>> all, relationships between the entities will becomes poor.
> >>>>
> >>>> Depends on your implementation skills.  For some people, yes, very
> >>>> difficult.
> >>>>
> >>>>> You suggested using post_parent for one to many relationships, but I
> >>>> would
> >>>>> not be as simple as not always the same entities are part of the CPT.
> >>>> For example,
> >>>>> course and class have a one to many relationship, because one can
> >>>>> have an ongoing series ofclasses, but I can not change any of
> >>>>> the taxonomies of two, soon they would have to be TLC, as I would say
> >>>>> that a post is class CPTson of a post of the CPT course? Is it
> >> possible?
> >>>>
> >>>> I realize that English is not your primary language and since I can only
> >>>> speak English I appreciate how a 2nd language is difficult, but still
> >> that
> >>>> paragraph is incomplete so I don't know what you meant, and I don't
> >>>> recognize "TLC."
> >>>>
> >>>>> The CPT is a good alternative, but would be back one of doubts
> >>>>> and difficulties in connecting the entities that worry me, because it
> >>>>> can become too complicated to list the information in front
> >>>>> and in back manage.
> >>>>
> >>>> I just explained how I would do it to try to help you. If you dislike
> >> the
> >>>> suggestions I'm sure you can come up with other ways that work for you.
> >>>>
> >>>>> The alternative of creating the tables behind the advantage of having
> >> the
> >>>>> freedom to shape the bank, but I worry about the URL's as you would to
> >>>>> generate the URLs in a friendly, following the pattern of the site?
> >>>>
> >>>> You can make the URLs however you want with a little PHP coding effort.
> >>>>
> >>>> -Mike
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>>
> >>>
> >>>
> >>> --
> >>> Amplexos,
> >>>
> >>> Leo Baiano
> >>> http://www.leobaiano.com
> >>> http://www.blog.ljunior.com
> >>> http://www.mcelebridades.com
> >>> http://www.twitter.com/leobaiano
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> >
> > --
> > Amplexos,
> >
> > Leo Baiano
> > http://www.leobaiano.com
> > http://www.blog.ljunior.com
> > http://www.mcelebridades.com
> > http://www.twitter.com/leobaiano
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> ------------------------------
> 
> Message: 3
> Date: Thu, 17 Nov 2011 14:33:16 +0000
> From: Tom Barrett <tcbarrett at gmail.com>
> Subject: Re: [wp-hackers] Auto creating custom menu
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<CAEgmxaYNgPLuPM+h+1xZW4jheOp3hti0ZuUEmEgC_L5y+vBupg at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
> 
> Thanks Doug.
> 
> The code I am using does work. The problem is that it won't add the pages
> to the menu, unless I am logged in. Most likely this is me falling foul of
> the 'edit_posts' capability again.
> 
> Tom
> 
> On 16 November 2011 16:42, Doug Stewart <zamoose at gmail.com> wrote:
> 
> > Here's what I do to set up a custom BuddyPress menu when I detect BP
> > as active. It seems pretty close to what you're doing. Maybe it'll
> > help.
> >
> >        $menuname = $lblg_themename . ' BuddyPress Menu';
> >        $bpmenulocation = 'lblgbpmenu';
> >        // Does the menu exist already?
> >        $menu_exists = wp_get_nav_menu_object( $menuname );
> >
> >        // If it doesn't exist, let's create it.
> >        if( !$menu_exists){
> >                $menu_id = wp_create_nav_menu($menuname);
> >
> >                // Set up default BuddyPress links and add them to the menu.
> >                wp_update_nav_menu_item($menu_id, 0, array(
> >                    'menu-item-title' =>  __('Home'),
> >                    'menu-item-classes' => 'home',
> >                    'menu-item-url' => home_url( '/' ),
> >                    'menu-item-status' => 'publish'));
> >
> >                wp_update_nav_menu_item($menu_id, 0, array(
> >                    'menu-item-title' =>  __('Activity'),
> >                    'menu-item-classes' => 'activity',
> >                    'menu-item-url' => home_url( '/activity/' ),
> >                    'menu-item-status' => 'publish'));
> >
> >                wp_update_nav_menu_item($menu_id, 0, array(
> >                    'menu-item-title' =>  __('Members'),
> >                    'menu-item-classes' => 'members',
> >                    'menu-item-url' => home_url( '/members/' ),
> >                    'menu-item-status' => 'publish'));
> >
> >                wp_update_nav_menu_item($menu_id, 0, array(
> >                    'menu-item-title' =>  __('Groups'),
> >                    'menu-item-classes' => 'groups',
> >                    'menu-item-url' => home_url( '/groups/' ),
> >                    'menu-item-status' => 'publish'));
> >
> >                wp_update_nav_menu_item($menu_id, 0, array(
> >                    'menu-item-title' =>  __('Forums'),
> >                    'menu-item-classes' => 'forums',
> >                    'menu-item-url' => home_url( '/forums/' ),
> >                    'menu-item-status' => 'publish'));
> >
> >                // Grab the theme locations and assign our newly-created
> > menu
> >                // to the BuddyPress menu location.
> >                if( !has_nav_menu( $bpmenulocation ) ){
> >                        $locations = get_theme_mod('nav_menu_locations');
> >                        $locations[$bpmenulocation] = $menu_id;
> >                        set_theme_mod( 'nav_menu_locations', $locations );
> >                 }
> >
> >        }
> >
> > On Wed, Nov 16, 2011 at 7:14 AM, Tom Barrett <tcbarrett at gmail.com> wrote:
> > > I am building a WordPress 'deployment system'. As part of this, I want:
> > 1)
> > > install and activate a theme 2) create some pages 3) Add a custom menu
> > with
> > > those pages. The first two steps are fine, and I can create the custom
> > > menu. But I cannot get the pages into the menu.
> > >
> > > How the automated part works, is that it creates wp-config.php file, and
> > a
> > > PHP script in wp-admin that installs WordPress (calling wp_install()
> > > e.t.c). It then calls an action hook that is added in the theme's files.
> > >
> > > Something a bit like this:
> > >
> > > <?php
> > > // Script in wp-admin
> > > require_once( '../wp-load.php' );
> > > require_once( './includes/upgrade.php' );
> > > wp_install( ..... );
> > > do_action( 'setup_wordpress' );
> > > ?>
> > >
> > > <?php
> > > // Theme functions.php file
> > > add_action( 'setup_wordpress', 'do_setup_wordpress' );
> > > function do_setup_wordpress(){
> > >  $mypages    = make_three_pages_and_return_their_post_id(); // returns
> > > array( [0]=>3, [1]=>4, [2]=>5 )
> > >  $mymenuname = 'My Menu';
> > >  wp_create_nav_menu( $mymenuname );
> > >  $menu       = get_term_by( 'name', $mymenuname, 'nav_menu' );
> > >  $menu_id    = $menu->term_id;
> > >
> > >  foreach( $mypages as $page_id ){
> > >    $args = array(
> > >      'menu-item-object-id' => $page_id,
> > >      'menu-item-object'    => 'page',
> > >      'menu-item-type'      => 'post_type',
> > >      'menu-item-status'    => 'publish',
> > >    );
> > >    $menu_item_id = wp_update_nav_menu_item( $menu_id, 0, $args );
> > >  }
> > > }
> > > ?>
> > >
> > > It does everything except put the pages in the menu. The code works if I
> > > trigger it through browsing the site. EG: add_action( 'admin_init',
> > > 'do_setup_wordpress' ); (This is how I developed it initially).
> > >
> > > The $menu_item_id variable gets a value (usually 6,7,8).
> > >
> > > Any ideas what I'm missing or not doing? Am I just being crazy?
> > >
> > >
> > >
> > > --
> > > http://www.tcbarrett.com | http://gplus.to/tcbarrett |
> > > http://twitter.com/tcbarrett
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> >
> >
> > --
> > -Doug
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> 
> -- 
> http://www.tcbarrett.com | http://gplus.to/tcbarrett |
> http://twitter.com/tcbarrett
> 
> 
> ------------------------------
> 
> Message: 4
> Date: Thu, 17 Nov 2011 14:58:03 +0000
> From: Christian Wach <needle at haystack.co.uk>
> Subject: Re: [wp-hackers] Auto creating custom menu
> To: wp-hackers at lists.automattic.com
> Message-ID: <0092769E-80AB-45FC-B7A8-6C1F8118F93E at haystack.co.uk>
> Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
> 
> Hi Tom,
> 
> On 17 Nov 2011, at 14:33, Tom Barrett wrote:
> 
> > The problem is that it won't add the pages to the menu, unless I am  
> > logged in. Most likely this is me falling foul of the 'edit_posts'  
> > capability again.
> 
> Then how about forcing a login before you call  
> do_action( 'setup_wordpress' )?
> Something like...
> 
> $user = get_userdatabylogin( $username );
> if ( is_object( $user ) ) {
>    // login procedure
>    wp_set_current_user( $user->ID, $username );
>    wp_set_auth_cookie( $user->ID );
>    do_action( 'wp_login', $username );
> }
> 
> Cheers,
> 
> Christian
> 
> 
> 
> ------------------------------
> 
> Message: 5
> Date: Thu, 17 Nov 2011 15:36:20 +0000
> From: Vitor Carvalho <lightningspirit at gmail.com>
> Subject: [wp-hackers] Forking Hyper Cache to be *more* WPMU friendly
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<CAKuacB-mz30w61-UmOBO2JoWjM_dd4Wtvz2m-jX2nnpj6xM5Fw at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> Hi all,
> 
> I'm trying to fork Hyper Cache plugin to be used in WPMU but I have a few
> questions about the WP load order.
> 
> My idea is to individualize all options for each assigned blog, thus
> one accessing a blog this plugin could provide a independent configuration
> based on blog_id. I think this can be usefull for MU installations.
> 
> Another problem with Hyper Cache is that, clearing cache files will clear
> ALL cache for ALL blogs an not just the one we expected.
> 
> So, my changes would be:
> 1. At load time, provide plugin the blog_id and get options from database
> or a config file.
> 2. The cache directory inside wp-content/blogs.dir/blog_id/cache/* instead
> of wp-content/cache/*, so plugin only clears the cache files for that blog.
> 
> Some considerations and doubts
> 1. What do you think about retrieving options from database. Do you think
> some performance will be lost?
> 2. Where advanced-cache.php is loaded in WP, before or after init action?
> 
> Hope someone can help me!
> 
> -- 
> 
> --
> Por favor n?o mostre a outros os endere?os electr?nicos dos seus amigos.
> Quando reenviar uma mensagem, escreva os endere?os em BCC ou em CCO (c?pia
> oculta). Apague qualquer endere?o que exista no corpo da mensagem antes de
> enviar.
> Esta ac??o dificulta a dissemina??o de v?rus, spams e banners.
> 
> --
> Please do not show to others e-mail addresses of your friends.
> When forwarding a message, type the addresses in BCC (blind carbon copy).
> Delete any address that exists in the message body before sending.
> This action hinders the spread of viruses, spam and banners.
> 
> Vitor Carvalho
> *Wordpress Designer, Web Developer*
> http://lightningspirit.net
> Lisbon, Portugal
> 
> 
> ------------------------------
> 
> Message: 6
> Date: Thu, 17 Nov 2011 15:57:06 +0000
> From: Tom Barrett <tcbarrett at gmail.com>
> Subject: Re: [wp-hackers] Auto creating custom menu
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<CAEgmxaZC02BbA=E9EKOMfKt57PsVCVYJGutj490J4B1k=eAxYg at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
> 
> Hi Christian,
> 
>  The problem is that it won't add the pages to the menu, unless I am logged
> >> in. Most likely this is me falling foul of the 'edit_posts' capability
> >> again.
> >>
> >
> > Then how about forcing a login before you call do_action(
> > 'setup_wordpress' )?
> > Something like...
> >
> > $user = get_userdatabylogin( $username );
> > if ( is_object( $user ) ) {
> >  // login procedure
> >  wp_set_current_user( $user->ID, $username );
> >  wp_set_auth_cookie( $user->ID );
> >  do_action( 'wp_login', $username );
> > }
> >
> 
> Abso-super-smashing-great. Thank you, works a treat.
> 
> -- 
> http://www.tcbarrett.com | http://gplus.to/tcbarrett |
> http://twitter.com/tcbarrett
> 
> 
> ------------------------------
> 
> Message: 7
> Date: Thu, 17 Nov 2011 14:37:12 -0200
> From: Leo Baiano <ljunior2005 at gmail.com>
> Subject: Re: [wp-hackers] CPT VS Plugin
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<CAL1O-KU6imdG8aN+aj929=7hOuPJwmvbg8znGyF_UhTWqoc78g at mail.gmail.com>
> Content-Type: text/plain; charset="iso-8859-1"
> 
> Attached is a PNG EER, any suggestion of structure will be very welcome.
> 
> 2011/11/17 Caio Rogerio Ribeiro <caiorogerio at gmail.com>
> 
> > Sure it helps, send us
> >
> > Enviado via iPhone
> >
> > Em 17/11/2011, ?s 11:06, Leo Baiano <ljunior2005 at gmail.com> escreveu:
> >
> > > Paul, many thanks for the references I read carefully. Carl, I have
> > > the EER but all in Portuguese, help?
> > >
> > > 2011/11/17 Caio Rogerio Ribeiro <caiorogerio at gmail.com>
> > >
> > >> Leo,
> > >>
> > >> Do you have some diagram of this schema to send us, for me it sound
> > >> like strange...
> > >>
> > >> Caio Rogerio
> > >>
> > >> Enviado via iPhone
> > >>
> > >> Em 16/11/2011, ?s 18:55, Leo Baiano <ljunior2005 at gmail.com> escreveu:
> > >>
> > >>>>> You can make the URLs however you want with a little PHP coding
> > effort.
> > >>>
> > >>> First desclpa difficulty in expressing myself, my English is not great.
> > >>>
> > >>> So, with respect to friendly URL's I think would have to use PHP
> > >>> and. Htaccess, WP already has some rules in. Htaccess and my concern is
> > >> to
> > >>> generate conflict between the rules.
> > >>>
> > >>> Thanks for listening, I'm starting to lean the construction based
> > >>> on CPT right, I'm riding a diagram here on this basis to have a better
> > >> idea
> > >>> of what will be.
> > >>>
> > >>> 2011/11/16 Mike Schinkel <mikeschinkel at newclarity.net>
> > >>>
> > >>>> On Nov 16, 2011, at 3:06 PM, Leo Baiano wrote:
> > >>>>> Mike Oops, I understood everything you said but I got the impression
> > >>>>> that the structure will be a little complex,
> > >>>>
> > >>>> Your requirements are also a little complex.
> > >>>>
> > >>>>> it may be difficult to
> > >>>>> organize so that the customer can create relations in a simple and,
> > >> above
> > >>>>> all, relationships between the entities will becomes poor.
> > >>>>
> > >>>> Depends on your implementation skills.  For some people, yes, very
> > >>>> difficult.
> > >>>>
> > >>>>> You suggested using post_parent for one to many relationships, but I
> > >>>> would
> > >>>>> not be as simple as not always the same entities are part of the CPT.
> > >>>> For example,
> > >>>>> course and class have a one to many relationship, because one can
> > >>>>> have an ongoing series ofclasses, but I can not change any of
> > >>>>> the taxonomies of two, soon they would have to be TLC, as I would say
> > >>>>> that a post is class CPTson of a post of the CPT course? Is it
> > >> possible?
> > >>>>
> > >>>> I realize that English is not your primary language and since I can
> > only
> > >>>> speak English I appreciate how a 2nd language is difficult, but still
> > >> that
> > >>>> paragraph is incomplete so I don't know what you meant, and I don't
> > >>>> recognize "TLC."
> > >>>>
> > >>>>> The CPT is a good alternative, but would be back one of doubts
> > >>>>> and difficulties in connecting the entities that worry me, because it
> > >>>>> can become too complicated to list the information in front
> > >>>>> and in back manage.
> > >>>>
> > >>>> I just explained how I would do it to try to help you. If you dislike
> > >> the
> > >>>> suggestions I'm sure you can come up with other ways that work for
> > you.
> > >>>>
> > >>>>> The alternative of creating the tables behind the advantage of having
> > >> the
> > >>>>> freedom to shape the bank, but I worry about the URL's as you would
> > to
> > >>>>> generate the URLs in a friendly, following the pattern of the site?
> > >>>>
> > >>>> You can make the URLs however you want with a little PHP coding
> > effort.
> > >>>>
> > >>>> -Mike
> > >>>> _______________________________________________
> > >>>> wp-hackers mailing list
> > >>>> wp-hackers at lists.automattic.com
> > >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>>>
> > >>>
> > >>>
> > >>>
> > >>> --
> > >>> Amplexos,
> > >>>
> > >>> Leo Baiano
> > >>> http://www.leobaiano.com
> > >>> http://www.blog.ljunior.com
> > >>> http://www.mcelebridades.com
> > >>> http://www.twitter.com/leobaiano
> > >>> _______________________________________________
> > >>> wp-hackers mailing list
> > >>> wp-hackers at lists.automattic.com
> > >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >> _______________________________________________
> > >> wp-hackers mailing list
> > >> wp-hackers at lists.automattic.com
> > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>
> > >
> > >
> > >
> > > --
> > > Amplexos,
> > >
> > > Leo Baiano
> > > http://www.leobaiano.com
> > > http://www.blog.ljunior.com
> > > http://www.mcelebridades.com
> > > http://www.twitter.com/leobaiano
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> 
> -- 
> Amplexos,
> 
> Leo Baiano
> http://www.leobaiano.com
> http://www.blog.ljunior.com
> http://www.mcelebridades.com
> http://www.twitter.com/leobaiano
> 
> ------------------------------
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> End of wp-hackers Digest, Vol 82, Issue 39
> ******************************************
 		 	   		  

From danielx386 at gmail.com  Fri Nov 18 06:52:05 2011
From: danielx386 at gmail.com (Daniel Fenn)
Date: Fri, 18 Nov 2011 17:52:05 +1100
Subject: [wp-hackers] (no subject)
In-Reply-To: <SNT144-W1958E2EB4711E18A4BAF72CDC40@phx.gbl>
References: <mailman.9796.1321547834.1433.wp-hackers@lists.automattic.com>
	<SNT144-W1958E2EB4711E18A4BAF72CDC40@phx.gbl>
Message-ID: <CAJ5Hi2hwdJaGGUpZ7r97tuRsmoL4av-JuAu9Xqh0kTePHk8p2g@mail.gmail.com>

Hello,

The idea of it is to get all the messages in one email every day
instead of getting an email everytime someone send a message to the
mailing list.

I hope I've explained it.

On 18/11/2011, VIJAY VERMA <vijayverma2011 at hotmail.com> wrote:
>
>
> Hi, I could not understand the purpose of the we-hackers list updates.
> Could I know how it is useful to the subscribers? Regards
> VIJAY
>
>
>> From: wp-hackers-request at lists.automattic.com
>> Subject: wp-hackers Digest, Vol 82, Issue 39
>> To: wp-hackers at lists.automattic.com
>> Date: Thu, 17 Nov 2011 16:37:14 +0000
>>
>> Send wp-hackers mailing list submissions to
>> 	wp-hackers at lists.automattic.com
>>
>> To subscribe or unsubscribe via the World Wide Web, visit
>> 	http://lists.automattic.com/mailman/listinfo/wp-hackers
>> or, via email, send a message with subject or body 'help' to
>> 	wp-hackers-request at lists.automattic.com
>>
>> You can reach the person managing the list at
>> 	wp-hackers-owner at lists.automattic.com
>>
>> When replying, please edit your Subject line so it is more specific
>> than "Re: Contents of wp-hackers digest..."
>>
>>
>> Today's Topics:
>>
>>    1. Re: CPT VS Plugin (Leo Baiano)
>>    2. Re: CPT VS Plugin (Caio Rogerio Ribeiro)
>>    3. Re: Auto creating custom menu (Tom Barrett)
>>    4. Re: Auto creating custom menu (Christian Wach)
>>    5. Forking Hyper Cache to be *more* WPMU friendly (Vitor Carvalho)
>>    6. Re: Auto creating custom menu (Tom Barrett)
>>    7. Re: CPT VS Plugin (Leo Baiano)
>>
>>
>> ----------------------------------------------------------------------
>>
>> Message: 1
>> Date: Thu, 17 Nov 2011 11:05:54 -0200
>> From: Leo Baiano <ljunior2005 at gmail.com>
>> Subject: Re: [wp-hackers] CPT VS Plugin
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>> 	<CAL1O-KX_UJ-bUjQp_aNV5EBnbm-FFyswN+fKJDSudS=b_56G_Q at mail.gmail.com>
>> Content-Type: text/plain; charset=ISO-8859-1
>>
>> Paul, many thanks for the references I read carefully. Carl, I have
>> the EER but all in Portuguese, help?
>>
>> 2011/11/17 Caio Rogerio Ribeiro <caiorogerio at gmail.com>
>>
>> > Leo,
>> >
>> > Do you have some diagram of this schema to send us, for me it sound
>> > like strange...
>> >
>> > Caio Rogerio
>> >
>> > Enviado via iPhone
>> >
>> > Em 16/11/2011, ?s 18:55, Leo Baiano <ljunior2005 at gmail.com> escreveu:
>> >
>> > >>> You can make the URLs however you want with a little PHP coding
>> > >>> effort.
>> > >
>> > > First desclpa difficulty in expressing myself, my English is not
>> > > great.
>> > >
>> > > So, with respect to friendly URL's I think would have to use PHP
>> > > and. Htaccess, WP already has some rules in. Htaccess and my concern
>> > > is
>> > to
>> > > generate conflict between the rules.
>> > >
>> > > Thanks for listening, I'm starting to lean the construction based
>> > > on CPT right, I'm riding a diagram here on this basis to have a better
>> > idea
>> > > of what will be.
>> > >
>> > > 2011/11/16 Mike Schinkel <mikeschinkel at newclarity.net>
>> > >
>> > >> On Nov 16, 2011, at 3:06 PM, Leo Baiano wrote:
>> > >>> Mike Oops, I understood everything you said but I got the impression
>> > >>> that the structure will be a little complex,
>> > >>
>> > >> Your requirements are also a little complex.
>> > >>
>> > >>> it may be difficult to
>> > >>> organize so that the customer can create relations in a simple and,
>> > above
>> > >>> all, relationships between the entities will becomes poor.
>> > >>
>> > >> Depends on your implementation skills.  For some people, yes, very
>> > >> difficult.
>> > >>
>> > >>> You suggested using post_parent for one to many relationships, but I
>> > >> would
>> > >>> not be as simple as not always the same entities are part of the
>> > >>> CPT.
>> > >> For example,
>> > >>> course and class have a one to many relationship, because one can
>> > >>> have an ongoing series ofclasses, but I can not change any of
>> > >>> the taxonomies of two, soon they would have to be TLC, as I would
>> > >>> say
>> > >>> that a post is class CPTson of a post of the CPT course? Is it
>> > possible?
>> > >>
>> > >> I realize that English is not your primary language and since I can
>> > >> only
>> > >> speak English I appreciate how a 2nd language is difficult, but still
>> > that
>> > >> paragraph is incomplete so I don't know what you meant, and I don't
>> > >> recognize "TLC."
>> > >>
>> > >>> The CPT is a good alternative, but would be back one of doubts
>> > >>> and difficulties in connecting the entities that worry me, because
>> > >>> it
>> > >>> can become too complicated to list the information in front
>> > >>> and in back manage.
>> > >>
>> > >> I just explained how I would do it to try to help you. If you dislike
>> > the
>> > >> suggestions I'm sure you can come up with other ways that work for
>> > >> you.
>> > >>
>> > >>> The alternative of creating the tables behind the advantage of
>> > >>> having
>> > the
>> > >>> freedom to shape the bank, but I worry about the URL's as you would
>> > >>> to
>> > >>> generate the URLs in a friendly, following the pattern of the site?
>> > >>
>> > >> You can make the URLs however you want with a little PHP coding
>> > >> effort.
>> > >>
>> > >> -Mike
>> > >> _______________________________________________
>> > >> wp-hackers mailing list
>> > >> wp-hackers at lists.automattic.com
>> > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > >>
>> > >
>> > >
>> > >
>> > > --
>> > > Amplexos,
>> > >
>> > > Leo Baiano
>> > > http://www.leobaiano.com
>> > > http://www.blog.ljunior.com
>> > > http://www.mcelebridades.com
>> > > http://www.twitter.com/leobaiano
>> > > _______________________________________________
>> > > wp-hackers mailing list
>> > > wp-hackers at lists.automattic.com
>> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>>
>>
>>
>> --
>> Amplexos,
>>
>> Leo Baiano
>> http://www.leobaiano.com
>> http://www.blog.ljunior.com
>> http://www.mcelebridades.com
>> http://www.twitter.com/leobaiano
>>
>>
>> ------------------------------
>>
>> Message: 2
>> Date: Thu, 17 Nov 2011 11:23:30 -0200
>> From: Caio Rogerio Ribeiro <caiorogerio at gmail.com>
>> Subject: Re: [wp-hackers] CPT VS Plugin
>> To: "wp-hackers at lists.automattic.com"
>> 	<wp-hackers at lists.automattic.com>
>> Message-ID: <3327405740465763836 at unknownmsgid>
>> Content-Type: text/plain; charset=ISO-8859-1
>>
>> Sure it helps, send us
>>
>> Enviado via iPhone
>>
>> Em 17/11/2011, ?s 11:06, Leo Baiano <ljunior2005 at gmail.com> escreveu:
>>
>> > Paul, many thanks for the references I read carefully. Carl, I have
>> > the EER but all in Portuguese, help?
>> >
>> > 2011/11/17 Caio Rogerio Ribeiro <caiorogerio at gmail.com>
>> >
>> >> Leo,
>> >>
>> >> Do you have some diagram of this schema to send us, for me it sound
>> >> like strange...
>> >>
>> >> Caio Rogerio
>> >>
>> >> Enviado via iPhone
>> >>
>> >> Em 16/11/2011, ?s 18:55, Leo Baiano <ljunior2005 at gmail.com> escreveu:
>> >>
>> >>>>> You can make the URLs however you want with a little PHP coding
>> >>>>> effort.
>> >>>
>> >>> First desclpa difficulty in expressing myself, my English is not
>> >>> great.
>> >>>
>> >>> So, with respect to friendly URL's I think would have to use PHP
>> >>> and. Htaccess, WP already has some rules in. Htaccess and my concern
>> >>> is
>> >> to
>> >>> generate conflict between the rules.
>> >>>
>> >>> Thanks for listening, I'm starting to lean the construction based
>> >>> on CPT right, I'm riding a diagram here on this basis to have a better
>> >> idea
>> >>> of what will be.
>> >>>
>> >>> 2011/11/16 Mike Schinkel <mikeschinkel at newclarity.net>
>> >>>
>> >>>> On Nov 16, 2011, at 3:06 PM, Leo Baiano wrote:
>> >>>>> Mike Oops, I understood everything you said but I got the impression
>> >>>>> that the structure will be a little complex,
>> >>>>
>> >>>> Your requirements are also a little complex.
>> >>>>
>> >>>>> it may be difficult to
>> >>>>> organize so that the customer can create relations in a simple and,
>> >> above
>> >>>>> all, relationships between the entities will becomes poor.
>> >>>>
>> >>>> Depends on your implementation skills.  For some people, yes, very
>> >>>> difficult.
>> >>>>
>> >>>>> You suggested using post_parent for one to many relationships, but I
>> >>>> would
>> >>>>> not be as simple as not always the same entities are part of the
>> >>>>> CPT.
>> >>>> For example,
>> >>>>> course and class have a one to many relationship, because one can
>> >>>>> have an ongoing series ofclasses, but I can not change any of
>> >>>>> the taxonomies of two, soon they would have to be TLC, as I would
>> >>>>> say
>> >>>>> that a post is class CPTson of a post of the CPT course? Is it
>> >> possible?
>> >>>>
>> >>>> I realize that English is not your primary language and since I can
>> >>>> only
>> >>>> speak English I appreciate how a 2nd language is difficult, but still
>> >> that
>> >>>> paragraph is incomplete so I don't know what you meant, and I don't
>> >>>> recognize "TLC."
>> >>>>
>> >>>>> The CPT is a good alternative, but would be back one of doubts
>> >>>>> and difficulties in connecting the entities that worry me, because
>> >>>>> it
>> >>>>> can become too complicated to list the information in front
>> >>>>> and in back manage.
>> >>>>
>> >>>> I just explained how I would do it to try to help you. If you dislike
>> >> the
>> >>>> suggestions I'm sure you can come up with other ways that work for
>> >>>> you.
>> >>>>
>> >>>>> The alternative of creating the tables behind the advantage of
>> >>>>> having
>> >> the
>> >>>>> freedom to shape the bank, but I worry about the URL's as you would
>> >>>>> to
>> >>>>> generate the URLs in a friendly, following the pattern of the site?
>> >>>>
>> >>>> You can make the URLs however you want with a little PHP coding
>> >>>> effort.
>> >>>>
>> >>>> -Mike
>> >>>> _______________________________________________
>> >>>> wp-hackers mailing list
>> >>>> wp-hackers at lists.automattic.com
>> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>>>
>> >>>
>> >>>
>> >>>
>> >>> --
>> >>> Amplexos,
>> >>>
>> >>> Leo Baiano
>> >>> http://www.leobaiano.com
>> >>> http://www.blog.ljunior.com
>> >>> http://www.mcelebridades.com
>> >>> http://www.twitter.com/leobaiano
>> >>> _______________________________________________
>> >>> wp-hackers mailing list
>> >>> wp-hackers at lists.automattic.com
>> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >> _______________________________________________
>> >> wp-hackers mailing list
>> >> wp-hackers at lists.automattic.com
>> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>
>> >
>> >
>> >
>> > --
>> > Amplexos,
>> >
>> > Leo Baiano
>> > http://www.leobaiano.com
>> > http://www.blog.ljunior.com
>> > http://www.mcelebridades.com
>> > http://www.twitter.com/leobaiano
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>> ------------------------------
>>
>> Message: 3
>> Date: Thu, 17 Nov 2011 14:33:16 +0000
>> From: Tom Barrett <tcbarrett at gmail.com>
>> Subject: Re: [wp-hackers] Auto creating custom menu
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>> 	<CAEgmxaYNgPLuPM+h+1xZW4jheOp3hti0ZuUEmEgC_L5y+vBupg at mail.gmail.com>
>> Content-Type: text/plain; charset=UTF-8
>>
>> Thanks Doug.
>>
>> The code I am using does work. The problem is that it won't add the pages
>> to the menu, unless I am logged in. Most likely this is me falling foul of
>> the 'edit_posts' capability again.
>>
>> Tom
>>
>> On 16 November 2011 16:42, Doug Stewart <zamoose at gmail.com> wrote:
>>
>> > Here's what I do to set up a custom BuddyPress menu when I detect BP
>> > as active. It seems pretty close to what you're doing. Maybe it'll
>> > help.
>> >
>> >        $menuname = $lblg_themename . ' BuddyPress Menu';
>> >        $bpmenulocation = 'lblgbpmenu';
>> >        // Does the menu exist already?
>> >        $menu_exists = wp_get_nav_menu_object( $menuname );
>> >
>> >        // If it doesn't exist, let's create it.
>> >        if( !$menu_exists){
>> >                $menu_id = wp_create_nav_menu($menuname);
>> >
>> >                // Set up default BuddyPress links and add them to the
>> > menu.
>> >                wp_update_nav_menu_item($menu_id, 0, array(
>> >                    'menu-item-title' =>  __('Home'),
>> >                    'menu-item-classes' => 'home',
>> >                    'menu-item-url' => home_url( '/' ),
>> >                    'menu-item-status' => 'publish'));
>> >
>> >                wp_update_nav_menu_item($menu_id, 0, array(
>> >                    'menu-item-title' =>  __('Activity'),
>> >                    'menu-item-classes' => 'activity',
>> >                    'menu-item-url' => home_url( '/activity/' ),
>> >                    'menu-item-status' => 'publish'));
>> >
>> >                wp_update_nav_menu_item($menu_id, 0, array(
>> >                    'menu-item-title' =>  __('Members'),
>> >                    'menu-item-classes' => 'members',
>> >                    'menu-item-url' => home_url( '/members/' ),
>> >                    'menu-item-status' => 'publish'));
>> >
>> >                wp_update_nav_menu_item($menu_id, 0, array(
>> >                    'menu-item-title' =>  __('Groups'),
>> >                    'menu-item-classes' => 'groups',
>> >                    'menu-item-url' => home_url( '/groups/' ),
>> >                    'menu-item-status' => 'publish'));
>> >
>> >                wp_update_nav_menu_item($menu_id, 0, array(
>> >                    'menu-item-title' =>  __('Forums'),
>> >                    'menu-item-classes' => 'forums',
>> >                    'menu-item-url' => home_url( '/forums/' ),
>> >                    'menu-item-status' => 'publish'));
>> >
>> >                // Grab the theme locations and assign our newly-created
>> > menu
>> >                // to the BuddyPress menu location.
>> >                if( !has_nav_menu( $bpmenulocation ) ){
>> >                        $locations = get_theme_mod('nav_menu_locations');
>> >                        $locations[$bpmenulocation] = $menu_id;
>> >                        set_theme_mod( 'nav_menu_locations', $locations
>> > );
>> >                 }
>> >
>> >        }
>> >
>> > On Wed, Nov 16, 2011 at 7:14 AM, Tom Barrett <tcbarrett at gmail.com>
>> > wrote:
>> > > I am building a WordPress 'deployment system'. As part of this, I
>> > > want:
>> > 1)
>> > > install and activate a theme 2) create some pages 3) Add a custom menu
>> > with
>> > > those pages. The first two steps are fine, and I can create the custom
>> > > menu. But I cannot get the pages into the menu.
>> > >
>> > > How the automated part works, is that it creates wp-config.php file,
>> > > and
>> > a
>> > > PHP script in wp-admin that installs WordPress (calling wp_install()
>> > > e.t.c). It then calls an action hook that is added in the theme's
>> > > files.
>> > >
>> > > Something a bit like this:
>> > >
>> > > <?php
>> > > // Script in wp-admin
>> > > require_once( '../wp-load.php' );
>> > > require_once( './includes/upgrade.php' );
>> > > wp_install( ..... );
>> > > do_action( 'setup_wordpress' );
>> > > ?>
>> > >
>> > > <?php
>> > > // Theme functions.php file
>> > > add_action( 'setup_wordpress', 'do_setup_wordpress' );
>> > > function do_setup_wordpress(){
>> > >  $mypages    = make_three_pages_and_return_their_post_id(); // returns
>> > > array( [0]=>3, [1]=>4, [2]=>5 )
>> > >  $mymenuname = 'My Menu';
>> > >  wp_create_nav_menu( $mymenuname );
>> > >  $menu       = get_term_by( 'name', $mymenuname, 'nav_menu' );
>> > >  $menu_id    = $menu->term_id;
>> > >
>> > >  foreach( $mypages as $page_id ){
>> > >    $args = array(
>> > >      'menu-item-object-id' => $page_id,
>> > >      'menu-item-object'    => 'page',
>> > >      'menu-item-type'      => 'post_type',
>> > >      'menu-item-status'    => 'publish',
>> > >    );
>> > >    $menu_item_id = wp_update_nav_menu_item( $menu_id, 0, $args );
>> > >  }
>> > > }
>> > > ?>
>> > >
>> > > It does everything except put the pages in the menu. The code works if
>> > > I
>> > > trigger it through browsing the site. EG: add_action( 'admin_init',
>> > > 'do_setup_wordpress' ); (This is how I developed it initially).
>> > >
>> > > The $menu_item_id variable gets a value (usually 6,7,8).
>> > >
>> > > Any ideas what I'm missing or not doing? Am I just being crazy?
>> > >
>> > >
>> > >
>> > > --
>> > > http://www.tcbarrett.com | http://gplus.to/tcbarrett |
>> > > http://twitter.com/tcbarrett
>> > > _______________________________________________
>> > > wp-hackers mailing list
>> > > wp-hackers at lists.automattic.com
>> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > >
>> >
>> >
>> >
>> > --
>> > -Doug
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>>
>>
>>
>> --
>> http://www.tcbarrett.com | http://gplus.to/tcbarrett |
>> http://twitter.com/tcbarrett
>>
>>
>> ------------------------------
>>
>> Message: 4
>> Date: Thu, 17 Nov 2011 14:58:03 +0000
>> From: Christian Wach <needle at haystack.co.uk>
>> Subject: Re: [wp-hackers] Auto creating custom menu
>> To: wp-hackers at lists.automattic.com
>> Message-ID: <0092769E-80AB-45FC-B7A8-6C1F8118F93E at haystack.co.uk>
>> Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
>>
>> Hi Tom,
>>
>> On 17 Nov 2011, at 14:33, Tom Barrett wrote:
>>
>> > The problem is that it won't add the pages to the menu, unless I am
>> > logged in. Most likely this is me falling foul of the 'edit_posts'
>> > capability again.
>>
>> Then how about forcing a login before you call
>> do_action( 'setup_wordpress' )?
>> Something like...
>>
>> $user = get_userdatabylogin( $username );
>> if ( is_object( $user ) ) {
>>    // login procedure
>>    wp_set_current_user( $user->ID, $username );
>>    wp_set_auth_cookie( $user->ID );
>>    do_action( 'wp_login', $username );
>> }
>>
>> Cheers,
>>
>> Christian
>>
>>
>>
>> ------------------------------
>>
>> Message: 5
>> Date: Thu, 17 Nov 2011 15:36:20 +0000
>> From: Vitor Carvalho <lightningspirit at gmail.com>
>> Subject: [wp-hackers] Forking Hyper Cache to be *more* WPMU friendly
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>> 	<CAKuacB-mz30w61-UmOBO2JoWjM_dd4Wtvz2m-jX2nnpj6xM5Fw at mail.gmail.com>
>> Content-Type: text/plain; charset=ISO-8859-1
>>
>> Hi all,
>>
>> I'm trying to fork Hyper Cache plugin to be used in WPMU but I have a few
>> questions about the WP load order.
>>
>> My idea is to individualize all options for each assigned blog, thus
>> one accessing a blog this plugin could provide a independent configuration
>> based on blog_id. I think this can be usefull for MU installations.
>>
>> Another problem with Hyper Cache is that, clearing cache files will clear
>> ALL cache for ALL blogs an not just the one we expected.
>>
>> So, my changes would be:
>> 1. At load time, provide plugin the blog_id and get options from database
>> or a config file.
>> 2. The cache directory inside wp-content/blogs.dir/blog_id/cache/* instead
>> of wp-content/cache/*, so plugin only clears the cache files for that
>> blog.
>>
>> Some considerations and doubts
>> 1. What do you think about retrieving options from database. Do you think
>> some performance will be lost?
>> 2. Where advanced-cache.php is loaded in WP, before or after init action?
>>
>> Hope someone can help me!
>>
>> --
>>
>> --
>> Por favor n?o mostre a outros os endere?os electr?nicos dos seus amigos.
>> Quando reenviar uma mensagem, escreva os endere?os em BCC ou em CCO (c?pia
>> oculta). Apague qualquer endere?o que exista no corpo da mensagem antes de
>> enviar.
>> Esta ac??o dificulta a dissemina??o de v?rus, spams e banners.
>>
>> --
>> Please do not show to others e-mail addresses of your friends.
>> When forwarding a message, type the addresses in BCC (blind carbon copy).
>> Delete any address that exists in the message body before sending.
>> This action hinders the spread of viruses, spam and banners.
>>
>> Vitor Carvalho
>> *Wordpress Designer, Web Developer*
>> http://lightningspirit.net
>> Lisbon, Portugal
>>
>>
>> ------------------------------
>>
>> Message: 6
>> Date: Thu, 17 Nov 2011 15:57:06 +0000
>> From: Tom Barrett <tcbarrett at gmail.com>
>> Subject: Re: [wp-hackers] Auto creating custom menu
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>> 	<CAEgmxaZC02BbA=E9EKOMfKt57PsVCVYJGutj490J4B1k=eAxYg at mail.gmail.com>
>> Content-Type: text/plain; charset=UTF-8
>>
>> Hi Christian,
>>
>>  The problem is that it won't add the pages to the menu, unless I am
>> logged
>> >> in. Most likely this is me falling foul of the 'edit_posts' capability
>> >> again.
>> >>
>> >
>> > Then how about forcing a login before you call do_action(
>> > 'setup_wordpress' )?
>> > Something like...
>> >
>> > $user = get_userdatabylogin( $username );
>> > if ( is_object( $user ) ) {
>> >  // login procedure
>> >  wp_set_current_user( $user->ID, $username );
>> >  wp_set_auth_cookie( $user->ID );
>> >  do_action( 'wp_login', $username );
>> > }
>> >
>>
>> Abso-super-smashing-great. Thank you, works a treat.
>>
>> --
>> http://www.tcbarrett.com | http://gplus.to/tcbarrett |
>> http://twitter.com/tcbarrett
>>
>>
>> ------------------------------
>>
>> Message: 7
>> Date: Thu, 17 Nov 2011 14:37:12 -0200
>> From: Leo Baiano <ljunior2005 at gmail.com>
>> Subject: Re: [wp-hackers] CPT VS Plugin
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>> 	<CAL1O-KU6imdG8aN+aj929=7hOuPJwmvbg8znGyF_UhTWqoc78g at mail.gmail.com>
>> Content-Type: text/plain; charset="iso-8859-1"
>>
>> Attached is a PNG EER, any suggestion of structure will be very welcome.
>>
>> 2011/11/17 Caio Rogerio Ribeiro <caiorogerio at gmail.com>
>>
>> > Sure it helps, send us
>> >
>> > Enviado via iPhone
>> >
>> > Em 17/11/2011, ?s 11:06, Leo Baiano <ljunior2005 at gmail.com> escreveu:
>> >
>> > > Paul, many thanks for the references I read carefully. Carl, I have
>> > > the EER but all in Portuguese, help?
>> > >
>> > > 2011/11/17 Caio Rogerio Ribeiro <caiorogerio at gmail.com>
>> > >
>> > >> Leo,
>> > >>
>> > >> Do you have some diagram of this schema to send us, for me it sound
>> > >> like strange...
>> > >>
>> > >> Caio Rogerio
>> > >>
>> > >> Enviado via iPhone
>> > >>
>> > >> Em 16/11/2011, ?s 18:55, Leo Baiano <ljunior2005 at gmail.com> escreveu:
>> > >>
>> > >>>>> You can make the URLs however you want with a little PHP coding
>> > effort.
>> > >>>
>> > >>> First desclpa difficulty in expressing myself, my English is not
>> > >>> great.
>> > >>>
>> > >>> So, with respect to friendly URL's I think would have to use PHP
>> > >>> and. Htaccess, WP already has some rules in. Htaccess and my concern
>> > >>> is
>> > >> to
>> > >>> generate conflict between the rules.
>> > >>>
>> > >>> Thanks for listening, I'm starting to lean the construction based
>> > >>> on CPT right, I'm riding a diagram here on this basis to have a
>> > >>> better
>> > >> idea
>> > >>> of what will be.
>> > >>>
>> > >>> 2011/11/16 Mike Schinkel <mikeschinkel at newclarity.net>
>> > >>>
>> > >>>> On Nov 16, 2011, at 3:06 PM, Leo Baiano wrote:
>> > >>>>> Mike Oops, I understood everything you said but I got the
>> > >>>>> impression
>> > >>>>> that the structure will be a little complex,
>> > >>>>
>> > >>>> Your requirements are also a little complex.
>> > >>>>
>> > >>>>> it may be difficult to
>> > >>>>> organize so that the customer can create relations in a simple
>> > >>>>> and,
>> > >> above
>> > >>>>> all, relationships between the entities will becomes poor.
>> > >>>>
>> > >>>> Depends on your implementation skills.  For some people, yes, very
>> > >>>> difficult.
>> > >>>>
>> > >>>>> You suggested using post_parent for one to many relationships, but
>> > >>>>> I
>> > >>>> would
>> > >>>>> not be as simple as not always the same entities are part of the
>> > >>>>> CPT.
>> > >>>> For example,
>> > >>>>> course and class have a one to many relationship, because one can
>> > >>>>> have an ongoing series ofclasses, but I can not change any of
>> > >>>>> the taxonomies of two, soon they would have to be TLC, as I would
>> > >>>>> say
>> > >>>>> that a post is class CPTson of a post of the CPT course? Is it
>> > >> possible?
>> > >>>>
>> > >>>> I realize that English is not your primary language and since I can
>> > only
>> > >>>> speak English I appreciate how a 2nd language is difficult, but
>> > >>>> still
>> > >> that
>> > >>>> paragraph is incomplete so I don't know what you meant, and I don't
>> > >>>> recognize "TLC."
>> > >>>>
>> > >>>>> The CPT is a good alternative, but would be back one of doubts
>> > >>>>> and difficulties in connecting the entities that worry me, because
>> > >>>>> it
>> > >>>>> can become too complicated to list the information in front
>> > >>>>> and in back manage.
>> > >>>>
>> > >>>> I just explained how I would do it to try to help you. If you
>> > >>>> dislike
>> > >> the
>> > >>>> suggestions I'm sure you can come up with other ways that work for
>> > you.
>> > >>>>
>> > >>>>> The alternative of creating the tables behind the advantage of
>> > >>>>> having
>> > >> the
>> > >>>>> freedom to shape the bank, but I worry about the URL's as you
>> > >>>>> would
>> > to
>> > >>>>> generate the URLs in a friendly, following the pattern of the
>> > >>>>> site?
>> > >>>>
>> > >>>> You can make the URLs however you want with a little PHP coding
>> > effort.
>> > >>>>
>> > >>>> -Mike
>> > >>>> _______________________________________________
>> > >>>> wp-hackers mailing list
>> > >>>> wp-hackers at lists.automattic.com
>> > >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > >>>>
>> > >>>
>> > >>>
>> > >>>
>> > >>> --
>> > >>> Amplexos,
>> > >>>
>> > >>> Leo Baiano
>> > >>> http://www.leobaiano.com
>> > >>> http://www.blog.ljunior.com
>> > >>> http://www.mcelebridades.com
>> > >>> http://www.twitter.com/leobaiano
>> > >>> _______________________________________________
>> > >>> wp-hackers mailing list
>> > >>> wp-hackers at lists.automattic.com
>> > >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > >> _______________________________________________
>> > >> wp-hackers mailing list
>> > >> wp-hackers at lists.automattic.com
>> > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > >>
>> > >
>> > >
>> > >
>> > > --
>> > > Amplexos,
>> > >
>> > > Leo Baiano
>> > > http://www.leobaiano.com
>> > > http://www.blog.ljunior.com
>> > > http://www.mcelebridades.com
>> > > http://www.twitter.com/leobaiano
>> > > _______________________________________________
>> > > wp-hackers mailing list
>> > > wp-hackers at lists.automattic.com
>> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>>
>>
>>
>> --
>> Amplexos,
>>
>> Leo Baiano
>> http://www.leobaiano.com
>> http://www.blog.ljunior.com
>> http://www.mcelebridades.com
>> http://www.twitter.com/leobaiano
>>
>> ------------------------------
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>> End of wp-hackers Digest, Vol 82, Issue 39
>> ******************************************
>  		 	   		
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From hal at burgiss.net  Fri Nov 18 22:10:47 2011
From: hal at burgiss.net (Hal Burgiss)
Date: Fri, 18 Nov 2011 17:10:47 -0500
Subject: [wp-hackers] Multi-site domain related configuration issues
Message-ID: <CAEizahLL+PuRQ+k9Yyzghz9miq0jvLT88s8dPPKF3NN=ka8--w@mail.gmail.com>

Hello,

I am trying to upgrade a clients installation from an older, pre-3.0 WPMU
configuration to current WP.  This is multi-site installation that uses a
mix of subdomain and subdirectory blog configurations. Both are important
to the client.


Wordpress 3.2.1
+ WordPress MU Domain Mapping plugin
+ WordPress Multi Network

Configurations that currently work:

example.com - primary domain for this installation
sub.example.com
example.com/test
example2.com

However sub-directory installations on non-primary domains do not work:

example2.com/testtest
sub.example.com/pleasehelp

When I attempt to navigate to a sub-directory install on a non-primary
domain I receive a 404 error, and if I attempt to navigate to the dashboard
it takes me to the ?parent?s? dashboard (ie,sub.example.com dashboard
instead of sub.example/pleasehelp dashboard).

The above configurations all work on the original WPMU installation.

Google has provided more questions than answers. Anyone know a good
tutorial or have any advice?

-- 
Hal

From wp-hackers at thecodecave.com  Fri Nov 18 22:29:33 2011
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Fri, 18 Nov 2011 17:29:33 -0500
Subject: [wp-hackers] Multi-site domain related configuration issues
In-Reply-To: <CAEizahLL+PuRQ+k9Yyzghz9miq0jvLT88s8dPPKF3NN=ka8--w@mail.gmail.com>
References: <CAEizahLL+PuRQ+k9Yyzghz9miq0jvLT88s8dPPKF3NN=ka8--w@mail.gmail.com>
Message-ID: <4EC6DC4D.6010009@thecodecave.com>

On 11/18/2011 5:10 PM, Hal Burgiss wrote:
> However sub-directory installations on non-primary domains do not work:
>
> example2.com/testtest
> sub.example.com/pleasehelp
>
A change introduced into WordPress 3.1 causes WordPress to ignore the 
path field in the site table when trying to figure out the SiteID.  As a 
result, WordPress 3.1 and newer break all sites that work the way you've 
describe.

I submitted a ticket & patch for this a few months ago.  You can see it 
here: http://core.trac.wordpress.org/ticket/18079

This has not made it into 3.3, but if you apply that patch to 3.2, you 
can get your sites up and running today.

-- 
Brian Layman


From icwordpress at gmail.com  Fri Nov 18 22:59:27 2011
From: icwordpress at gmail.com (IC IC)
Date: Fri, 18 Nov 2011 14:59:27 -0800
Subject: [wp-hackers] changing the built in categories label on the add post
	screen
Message-ID: <CABybnchW8VxS=AKRR4dhh0oNOEvX6HJSyqRuRkCexLPkMWMyqQ@mail.gmail.com>

Which table stores the "categories" label?

I already changed the categories folder name from "category" to "topics"
but the add post screen still display "Categories" as the label?
I want to change that too to Topics.

When you create a custom taxonomies, this issue is not a problem cause it
has the label argument.
but since the categories already come pre-created, I need to make that
change straight into the table!
where do I do that?

From charles.freesmelvin at me.com  Fri Nov 18 23:08:44 2011
From: charles.freesmelvin at me.com (Charles Frees-Melvin)
Date: Fri, 18 Nov 2011 19:08:44 -0400
Subject: [wp-hackers] changing the built in categories label on the add
 post screen
In-Reply-To: <CABybnchW8VxS=AKRR4dhh0oNOEvX6HJSyqRuRkCexLPkMWMyqQ@mail.gmail.com>
References: <CABybnchW8VxS=AKRR4dhh0oNOEvX6HJSyqRuRkCexLPkMWMyqQ@mail.gmail.com>
Message-ID: <D4D73190-5DC4-4575-9562-6550238B899B@me.com>

You can't it is hard coded into wp-includes/post.php

The best option is to unregister categories and replace with a new tax.

--
Charles E. Frees-Melvin

Sent from my Rogers iPhone 4S

On 2011-11-18, at 18:59, IC IC <icwordpress at gmail.com> wrote:

> Which table stores the "categories" label?
> 
> I already changed the categories folder name from "category" to "topics"
> but the add post screen still display "Categories" as the label?
> I want to change that too to Topics.
> 
> When you create a custom taxonomies, this issue is not a problem cause it
> has the label argument.
> but since the categories already come pre-created, I need to make that
> change straight into the table!
> where do I do that?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From icwordpress at gmail.com  Fri Nov 18 23:18:45 2011
From: icwordpress at gmail.com (IC IC)
Date: Fri, 18 Nov 2011 15:18:45 -0800
Subject: [wp-hackers] changing the built in categories label on the add
 post screen
In-Reply-To: <D4D73190-5DC4-4575-9562-6550238B899B@me.com>
References: <CABybnchW8VxS=AKRR4dhh0oNOEvX6HJSyqRuRkCexLPkMWMyqQ@mail.gmail.com>
	<D4D73190-5DC4-4575-9562-6550238B899B@me.com>
Message-ID: <CABybnciF63LJXYmseTXF8gmnL7h83HUcrHMgr=8XX0_EwSB=aA@mail.gmail.com>

When you unregister, what happens to the existing categories that have been
created?

Shall I just run this at the twentyten functions.php?

add_action( 'init', 'unregister_taxonomy');
function unregister_taxonomy(){
    global $wp_taxonomies;
    $taxonomy = 'category';
    if ( taxonomy_exists( $taxonomy))
        unset( $wp_taxonomies[$taxonomy]);
}

and after that, go find the post.php and change the label from categories
to topics? is that a safe thing to do ?
wouldn't this go away when we update the wordpress core though?

I want the label topics to stay permanently regardless of the updates..





On Fri, Nov 18, 2011 at 3:08 PM, Charles Frees-Melvin <
charles.freesmelvin at me.com> wrote:

> You can't it is hard coded into wp-includes/post.php
>
> The best option is to unregister categories and replace with a new tax.
>
> --
> Charles E. Frees-Melvin
>
> Sent from my Rogers iPhone 4S
>
> On 2011-11-18, at 18:59, IC IC <icwordpress at gmail.com> wrote:
>
> > Which table stores the "categories" label?
> >
> > I already changed the categories folder name from "category" to "topics"
> > but the add post screen still display "Categories" as the label?
> > I want to change that too to Topics.
> >
> > When you create a custom taxonomies, this issue is not a problem cause it
> > has the label argument.
> > but since the categories already come pre-created, I need to make that
> > change straight into the table!
> > where do I do that?
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From charles.freesmelvin at me.com  Fri Nov 18 23:31:10 2011
From: charles.freesmelvin at me.com (Charles Frees-Melvin)
Date: Fri, 18 Nov 2011 19:31:10 -0400
Subject: [wp-hackers] changing the built in categories label on the add
 post screen
In-Reply-To: <CABybnciF63LJXYmseTXF8gmnL7h83HUcrHMgr=8XX0_EwSB=aA@mail.gmail.com>
References: <CABybnchW8VxS=AKRR4dhh0oNOEvX6HJSyqRuRkCexLPkMWMyqQ@mail.gmail.com>
	<D4D73190-5DC4-4575-9562-6550238B899B@me.com>
	<CABybnciF63LJXYmseTXF8gmnL7h83HUcrHMgr=8XX0_EwSB=aA@mail.gmail.com>
Message-ID: <60410AB9-943A-4126-B296-2E72E33D28D3@me.com>

Add a new taxonomy "topics" and then change in the _terms table all Categories to topics. That will convert what was category's to the topic taxonomy. Then just unregister the category tax or de-link it from the "post" post type.

--
Charles E. Frees-Melvin

Sent from my Rogers iPhone 4S

On 2011-11-18, at 19:18, IC IC <icwordpress at gmail.com> wrote:

> When you unregister, what happens to the existing categories that have been
> created?
> 
> Shall I just run this at the twentyten functions.php?
> 
> add_action( 'init', 'unregister_taxonomy');
> function unregister_taxonomy(){
>    global $wp_taxonomies;
>    $taxonomy = 'category';
>    if ( taxonomy_exists( $taxonomy))
>        unset( $wp_taxonomies[$taxonomy]);
> }
> 
> and after that, go find the post.php and change the label from categories
> to topics? is that a safe thing to do ?
> wouldn't this go away when we update the wordpress core though?
> 
> I want the label topics to stay permanently regardless of the updates..
> 
> 
> 
> 
> 
> On Fri, Nov 18, 2011 at 3:08 PM, Charles Frees-Melvin <
> charles.freesmelvin at me.com> wrote:
> 
>> You can't it is hard coded into wp-includes/post.php
>> 
>> The best option is to unregister categories and replace with a new tax.
>> 
>> --
>> Charles E. Frees-Melvin
>> 
>> Sent from my Rogers iPhone 4S
>> 
>> On 2011-11-18, at 18:59, IC IC <icwordpress at gmail.com> wrote:
>> 
>>> Which table stores the "categories" label?
>>> 
>>> I already changed the categories folder name from "category" to "topics"
>>> but the add post screen still display "Categories" as the label?
>>> I want to change that too to Topics.
>>> 
>>> When you create a custom taxonomies, this issue is not a problem cause it
>>> has the label argument.
>>> but since the categories already come pre-created, I need to make that
>>> change straight into the table!
>>> where do I do that?
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From will.davis at gmail.com  Fri Nov 18 23:36:04 2011
From: will.davis at gmail.com (William P. Davis)
Date: Fri, 18 Nov 2011 23:36:04 +0000
Subject: [wp-hackers] changing the built in categories label on the add
	post screen
In-Reply-To: <60410AB9-943A-4126-B296-2E72E33D28D3@me.com>
References: <CABybnchW8VxS=AKRR4dhh0oNOEvX6HJSyqRuRkCexLPkMWMyqQ@mail.gmail.com>
	<D4D73190-5DC4-4575-9562-6550238B899B@me.com>
	<CABybnciF63LJXYmseTXF8gmnL7h83HUcrHMgr=8XX0_EwSB=aA@mail.gmail.com>
	<60410AB9-943A-4126-B296-2E72E33D28D3@me.com>
Message-ID: <1581413781-1321659365-cardhu_decombobulator_blackberry.rim.net-1105186744-@b25.c20.bise6.blackberry>

This is getting complicated. Maybe just create a translation file?
Sent from my BlackBerry? wireless device

-----Original Message-----
From: Charles Frees-Melvin <charles.freesmelvin at me.com>
Sender: wp-hackers-bounces at lists.automattic.com
Date: Fri, 18 Nov 2011 19:31:10 
To: wp-hackers at lists.automattic.com<wp-hackers at lists.automattic.com>
Reply-To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] changing the built in categories label on the add
 post screen

Add a new taxonomy "topics" and then change in the _terms table all Categories to topics. That will convert what was category's to the topic taxonomy. Then just unregister the category tax or de-link it from the "post" post type.

--
Charles E. Frees-Melvin

Sent from my Rogers iPhone 4S

On 2011-11-18, at 19:18, IC IC <icwordpress at gmail.com> wrote:

> When you unregister, what happens to the existing categories that have been
> created?
> 
> Shall I just run this at the twentyten functions.php?
> 
> add_action( 'init', 'unregister_taxonomy');
> function unregister_taxonomy(){
>    global $wp_taxonomies;
>    $taxonomy = 'category';
>    if ( taxonomy_exists( $taxonomy))
>        unset( $wp_taxonomies[$taxonomy]);
> }
> 
> and after that, go find the post.php and change the label from categories
> to topics? is that a safe thing to do ?
> wouldn't this go away when we update the wordpress core though?
> 
> I want the label topics to stay permanently regardless of the updates..
> 
> 
> 
> 
> 
> On Fri, Nov 18, 2011 at 3:08 PM, Charles Frees-Melvin <
> charles.freesmelvin at me.com> wrote:
> 
>> You can't it is hard coded into wp-includes/post.php
>> 
>> The best option is to unregister categories and replace with a new tax.
>> 
>> --
>> Charles E. Frees-Melvin
>> 
>> Sent from my Rogers iPhone 4S
>> 
>> On 2011-11-18, at 18:59, IC IC <icwordpress at gmail.com> wrote:
>> 
>>> Which table stores the "categories" label?
>>> 
>>> I already changed the categories folder name from "category" to "topics"
>>> but the add post screen still display "Categories" as the label?
>>> I want to change that too to Topics.
>>> 
>>> When you create a custom taxonomies, this issue is not a problem cause it
>>> has the label argument.
>>> but since the categories already come pre-created, I need to make that
>>> change straight into the table!
>>> where do I do that?
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From paul at codehooligans.com  Fri Nov 18 23:44:44 2011
From: paul at codehooligans.com (Paul Menard)
Date: Fri, 18 Nov 2011 18:44:44 -0500
Subject: [wp-hackers] changing the built in categories label on the add
	post screen
In-Reply-To: <1581413781-1321659365-cardhu_decombobulator_blackberry.rim.net-1105186744-@b25.c20.bise6.blackberry>
References: <CABybnchW8VxS=AKRR4dhh0oNOEvX6HJSyqRuRkCexLPkMWMyqQ@mail.gmail.com>
	<D4D73190-5DC4-4575-9562-6550238B899B@me.com>
	<CABybnciF63LJXYmseTXF8gmnL7h83HUcrHMgr=8XX0_EwSB=aA@mail.gmail.com>
	<60410AB9-943A-4126-B296-2E72E33D28D3@me.com>
	<1581413781-1321659365-cardhu_decombobulator_blackberry.rim.net-1105186744-@b25.c20.bise6.blackberry>
Message-ID: <EB0106F1-6992-474C-ADED-61998EC5568B@codehooligans.com>

Really guys. I know it's Friday evening but hacking the code and changing the database. Really. Easiest solution is to just add your own init action hook. Grab the global $wp_taxonomies object then replace the label. No need to unregister or register some other taxonomy. 

Is the following advisable? Probably not but then again WordPress does not provide any hooks to override these. 

Something like the following:


add_action('init', 'change_category_taxonomy_label', 999);
function change_category_taxonomy_label() {

	global $wp_taxonomies;

	// Add your own code to verify this object and exists. You have been warned	
	$wp_taxonomies['category']->labels->menu_name = "Topics";
}

P-



On Nov 18, 2011, at 6:36 PM, William P. Davis wrote:

> This is getting complicated. Maybe just create a translation file?
> Sent from my BlackBerry? wireless device
> 
> -----Original Message-----
> From: Charles Frees-Melvin <charles.freesmelvin at me.com>
> Sender: wp-hackers-bounces at lists.automattic.com
> Date: Fri, 18 Nov 2011 19:31:10 
> To: wp-hackers at lists.automattic.com<wp-hackers at lists.automattic.com>
> Reply-To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] changing the built in categories label on the add
> post screen
> 
> Add a new taxonomy "topics" and then change in the _terms table all Categories to topics. That will convert what was category's to the topic taxonomy. Then just unregister the category tax or de-link it from the "post" post type.
> 
> --
> Charles E. Frees-Melvin
> 
> Sent from my Rogers iPhone 4S
> 
> On 2011-11-18, at 19:18, IC IC <icwordpress at gmail.com> wrote:
> 
>> When you unregister, what happens to the existing categories that have been
>> created?
>> 
>> Shall I just run this at the twentyten functions.php?
>> 
>> add_action( 'init', 'unregister_taxonomy');
>> function unregister_taxonomy(){
>>   global $wp_taxonomies;
>>   $taxonomy = 'category';
>>   if ( taxonomy_exists( $taxonomy))
>>       unset( $wp_taxonomies[$taxonomy]);
>> }
>> 
>> and after that, go find the post.php and change the label from categories
>> to topics? is that a safe thing to do ?
>> wouldn't this go away when we update the wordpress core though?
>> 
>> I want the label topics to stay permanently regardless of the updates..
>> 
>> 
>> 
>> 
>> 
>> On Fri, Nov 18, 2011 at 3:08 PM, Charles Frees-Melvin <
>> charles.freesmelvin at me.com> wrote:
>> 
>>> You can't it is hard coded into wp-includes/post.php
>>> 
>>> The best option is to unregister categories and replace with a new tax.
>>> 
>>> --
>>> Charles E. Frees-Melvin
>>> 
>>> Sent from my Rogers iPhone 4S
>>> 
>>> On 2011-11-18, at 18:59, IC IC <icwordpress at gmail.com> wrote:
>>> 
>>>> Which table stores the "categories" label?
>>>> 
>>>> I already changed the categories folder name from "category" to "topics"
>>>> but the add post screen still display "Categories" as the label?
>>>> I want to change that too to Topics.
>>>> 
>>>> When you create a custom taxonomies, this issue is not a problem cause it
>>>> has the label argument.
>>>> but since the categories already come pre-created, I need to make that
>>>> change straight into the table!
>>>> where do I do that?
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From icwordpress at gmail.com  Fri Nov 18 23:59:00 2011
From: icwordpress at gmail.com (IC IC)
Date: Fri, 18 Nov 2011 15:59:00 -0800
Subject: [wp-hackers] changing the built in categories label on the add
 post screen
In-Reply-To: <EB0106F1-6992-474C-ADED-61998EC5568B@codehooligans.com>
References: <CABybnchW8VxS=AKRR4dhh0oNOEvX6HJSyqRuRkCexLPkMWMyqQ@mail.gmail.com>
	<D4D73190-5DC4-4575-9562-6550238B899B@me.com>
	<CABybnciF63LJXYmseTXF8gmnL7h83HUcrHMgr=8XX0_EwSB=aA@mail.gmail.com>
	<60410AB9-943A-4126-B296-2E72E33D28D3@me.com>
	<1581413781-1321659365-cardhu_decombobulator_blackberry.rim.net-1105186744-@b25.c20.bise6.blackberry>
	<EB0106F1-6992-474C-ADED-61998EC5568B@codehooligans.com>
Message-ID: <CABybncgQPqHjj6K_kfwfL2NMg3baNUvX8Qas6WhUM=Dw3Bkerw@mail.gmail.com>

Paul,

I got the point...

I've been wondering those init hooks..
When we run the add_action('init', 'whatever' ... , is that going to run
everytime a page is served for some visitor for the rest of the time?

Normally, you would run this code once and then comment it out right? So,
such actions are there to run once right?
there is no point of running it millions of time if that taxonomy exists do
nothing part...

however in this particular instance, I guess I have to remember of running
it once after every core update?

shouldn't there be a more elegant way to handle this UI matter?





On Fri, Nov 18, 2011 at 3:44 PM, Paul Menard <paul at codehooligans.com> wrote:

> Really guys. I know it's Friday evening but hacking the code and changing
> the database. Really. Easiest solution is to just add your own init action
> hook. Grab the global $wp_taxonomies object then replace the label. No need
> to unregister or register some other taxonomy.
>
> Is the following advisable? Probably not but then again WordPress does not
> provide any hooks to override these.
>
> Something like the following:
>
>
> add_action('init', 'change_category_taxonomy_label', 999);
> function change_category_taxonomy_label() {
>
>        global $wp_taxonomies;
>
>        // Add your own code to verify this object and exists. You have
> been warned
>        $wp_taxonomies['category']->labels->menu_name = "Topics";
> }
>
> P-
>
>
>
> On Nov 18, 2011, at 6:36 PM, William P. Davis wrote:
>
> > This is getting complicated. Maybe just create a translation file?
> > Sent from my BlackBerry? wireless device
> >
> > -----Original Message-----
> > From: Charles Frees-Melvin <charles.freesmelvin at me.com>
> > Sender: wp-hackers-bounces at lists.automattic.com
> > Date: Fri, 18 Nov 2011 19:31:10
> > To: wp-hackers at lists.automattic.com<wp-hackers at lists.automattic.com>
> > Reply-To: wp-hackers at lists.automattic.com
> > Subject: Re: [wp-hackers] changing the built in categories label on the
> add
> > post screen
> >
> > Add a new taxonomy "topics" and then change in the _terms table all
> Categories to topics. That will convert what was category's to the topic
> taxonomy. Then just unregister the category tax or de-link it from the
> "post" post type.
> >
> > --
> > Charles E. Frees-Melvin
> >
> > Sent from my Rogers iPhone 4S
> >
> > On 2011-11-18, at 19:18, IC IC <icwordpress at gmail.com> wrote:
> >
> >> When you unregister, what happens to the existing categories that have
> been
> >> created?
> >>
> >> Shall I just run this at the twentyten functions.php?
> >>
> >> add_action( 'init', 'unregister_taxonomy');
> >> function unregister_taxonomy(){
> >>   global $wp_taxonomies;
> >>   $taxonomy = 'category';
> >>   if ( taxonomy_exists( $taxonomy))
> >>       unset( $wp_taxonomies[$taxonomy]);
> >> }
> >>
> >> and after that, go find the post.php and change the label from
> categories
> >> to topics? is that a safe thing to do ?
> >> wouldn't this go away when we update the wordpress core though?
> >>
> >> I want the label topics to stay permanently regardless of the updates..
> >>
> >>
> >>
> >>
> >>
> >> On Fri, Nov 18, 2011 at 3:08 PM, Charles Frees-Melvin <
> >> charles.freesmelvin at me.com> wrote:
> >>
> >>> You can't it is hard coded into wp-includes/post.php
> >>>
> >>> The best option is to unregister categories and replace with a new tax.
> >>>
> >>> --
> >>> Charles E. Frees-Melvin
> >>>
> >>> Sent from my Rogers iPhone 4S
> >>>
> >>> On 2011-11-18, at 18:59, IC IC <icwordpress at gmail.com> wrote:
> >>>
> >>>> Which table stores the "categories" label?
> >>>>
> >>>> I already changed the categories folder name from "category" to
> "topics"
> >>>> but the add post screen still display "Categories" as the label?
> >>>> I want to change that too to Topics.
> >>>>
> >>>> When you create a custom taxonomies, this issue is not a problem
> cause it
> >>>> has the label argument.
> >>>> but since the categories already come pre-created, I need to make that
> >>>> change straight into the table!
> >>>> where do I do that?
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at dd32.id.au  Sat Nov 19 00:04:29 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 19 Nov 2011 11:04:29 +1100
Subject: [wp-hackers] changing the built in categories label on the add
 post screen
In-Reply-To: <CABybncgQPqHjj6K_kfwfL2NMg3baNUvX8Qas6WhUM=Dw3Bkerw@mail.gmail.com>
References: <CABybnchW8VxS=AKRR4dhh0oNOEvX6HJSyqRuRkCexLPkMWMyqQ@mail.gmail.com>
	<D4D73190-5DC4-4575-9562-6550238B899B@me.com>
	<CABybnciF63LJXYmseTXF8gmnL7h83HUcrHMgr=8XX0_EwSB=aA@mail.gmail.com>
	<60410AB9-943A-4126-B296-2E72E33D28D3@me.com>
	<1581413781-1321659365-cardhu_decombobulator_blackberry.rim.net-1105186744-@b25.c20.bise6.blackberry>
	<EB0106F1-6992-474C-ADED-61998EC5568B@codehooligans.com>
	<CABybncgQPqHjj6K_kfwfL2NMg3baNUvX8Qas6WhUM=Dw3Bkerw@mail.gmail.com>
Message-ID: <CAL4EHfkkZ0VDp=u8fq1U+WdSJfcB5TfKVnxRerTFjXB5pmHf_A@mail.gmail.com>

On 19 November 2011 10:59, IC IC <icwordpress at gmail.com> wrote:
> Paul,
>
> I got the point...
>
> I've been wondering those init hooks..
> When we run the add_action('init', 'whatever' ... , is that going to run
> everytime a page is served for some visitor for the rest of the time?
>
> Normally, you would run this code once and then comment it out right? So,
> such actions are there to run once right?
> there is no point of running it millions of time if that taxonomy exists do
> nothing part...
>
> however in this particular instance, I guess I have to remember of running
> it once after every core update?
>
> shouldn't there be a more elegant way to handle this UI matter?

No, You'd have to run it every page load (Well, Every admin page load,
so use the admin_init hook or so).
WordPress doesn't store most things in the Database, rather, it
dynamically registers everything on each page load. This adds a lot
more flexibility to the platform.

The standard way is to register a new taxonomy and hide the
Categories.. So yes, That's the Elegant UI way.

Your alternative is to add a gettext filter that does
str_replace('Categories', 'Topics', $text) on every single bit of text
in the admin..

From paul at codehooligans.com  Sat Nov 19 00:08:02 2011
From: paul at codehooligans.com (Paul Menard)
Date: Fri, 18 Nov 2011 19:08:02 -0500
Subject: [wp-hackers] changing the built in categories label on the add
	post screen
In-Reply-To: <CABybncgQPqHjj6K_kfwfL2NMg3baNUvX8Qas6WhUM=Dw3Bkerw@mail.gmail.com>
References: <CABybnchW8VxS=AKRR4dhh0oNOEvX6HJSyqRuRkCexLPkMWMyqQ@mail.gmail.com>
	<D4D73190-5DC4-4575-9562-6550238B899B@me.com>
	<CABybnciF63LJXYmseTXF8gmnL7h83HUcrHMgr=8XX0_EwSB=aA@mail.gmail.com>
	<60410AB9-943A-4126-B296-2E72E33D28D3@me.com>
	<1581413781-1321659365-cardhu_decombobulator_blackberry.rim.net-1105186744-@b25.c20.bise6.blackberry>
	<EB0106F1-6992-474C-ADED-61998EC5568B@codehooligans.com>
	<CABybncgQPqHjj6K_kfwfL2NMg3baNUvX8Qas6WhUM=Dw3Bkerw@mail.gmail.com>
Message-ID: <8A3D4644-E7D6-460E-98EE-F2B417396E72@codehooligans.com>


On Nov 18, 2011, at 6:59 PM, IC IC wrote:

> Paul,
> 
> I got the point...
> 
> I've been wondering those init hooks..
> When we run the add_action('init', 'whatever' ... , is that going to run
> everytime a page is served for some visitor for the rest of the time?

Correct. Add that code snippet to you theme functions.php. Yes, this will and need to run on every page load. The core WordPress register_taxonomy functions also run on every page load. The code I provided is just changing the label AFTER the core register_taxonomy functions are run. 


> 
> Normally, you would run this code once and then comment it out right? So,
> such actions are there to run once right?
> there is no point of running it millions of time if that taxonomy exists do
> nothing part?

See above comment. This is the way the WordPress taxonomy system is setup. Runs on every page load. 

> 
> however in this particular instance, I guess I have to remember of running
> it once after every core update?

No. You are not updating any WordPress core file. This code I provided goes into your theme functions.php file. 

> 
> shouldn't there be a more elegant way to handle this UI matter?

I can't really speak to this. 


> 
> 
> 
> 
> 
> On Fri, Nov 18, 2011 at 3:44 PM, Paul Menard <paul at codehooligans.com> wrote:
> 
>> Really guys. I know it's Friday evening but hacking the code and changing
>> the database. Really. Easiest solution is to just add your own init action
>> hook. Grab the global $wp_taxonomies object then replace the label. No need
>> to unregister or register some other taxonomy.
>> 
>> Is the following advisable? Probably not but then again WordPress does not
>> provide any hooks to override these.
>> 
>> Something like the following:
>> 
>> 
>> add_action('init', 'change_category_taxonomy_label', 999);
>> function change_category_taxonomy_label() {
>> 
>>       global $wp_taxonomies;
>> 
>>       // Add your own code to verify this object and exists. You have
>> been warned
>>       $wp_taxonomies['category']->labels->menu_name = "Topics";
>> }
>> 
>> P-
>> 
>> 
>> 
>> On Nov 18, 2011, at 6:36 PM, William P. Davis wrote:
>> 
>>> This is getting complicated. Maybe just create a translation file?
>>> Sent from my BlackBerry? wireless device
>>> 
>>> -----Original Message-----
>>> From: Charles Frees-Melvin <charles.freesmelvin at me.com>
>>> Sender: wp-hackers-bounces at lists.automattic.com
>>> Date: Fri, 18 Nov 2011 19:31:10
>>> To: wp-hackers at lists.automattic.com<wp-hackers at lists.automattic.com>
>>> Reply-To: wp-hackers at lists.automattic.com
>>> Subject: Re: [wp-hackers] changing the built in categories label on the
>> add
>>> post screen
>>> 
>>> Add a new taxonomy "topics" and then change in the _terms table all
>> Categories to topics. That will convert what was category's to the topic
>> taxonomy. Then just unregister the category tax or de-link it from the
>> "post" post type.
>>> 
>>> --
>>> Charles E. Frees-Melvin
>>> 
>>> Sent from my Rogers iPhone 4S
>>> 
>>> On 2011-11-18, at 19:18, IC IC <icwordpress at gmail.com> wrote:
>>> 
>>>> When you unregister, what happens to the existing categories that have
>> been
>>>> created?
>>>> 
>>>> Shall I just run this at the twentyten functions.php?
>>>> 
>>>> add_action( 'init', 'unregister_taxonomy');
>>>> function unregister_taxonomy(){
>>>>  global $wp_taxonomies;
>>>>  $taxonomy = 'category';
>>>>  if ( taxonomy_exists( $taxonomy))
>>>>      unset( $wp_taxonomies[$taxonomy]);
>>>> }
>>>> 
>>>> and after that, go find the post.php and change the label from
>> categories
>>>> to topics? is that a safe thing to do ?
>>>> wouldn't this go away when we update the wordpress core though?
>>>> 
>>>> I want the label topics to stay permanently regardless of the updates..
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> On Fri, Nov 18, 2011 at 3:08 PM, Charles Frees-Melvin <
>>>> charles.freesmelvin at me.com> wrote:
>>>> 
>>>>> You can't it is hard coded into wp-includes/post.php
>>>>> 
>>>>> The best option is to unregister categories and replace with a new tax.
>>>>> 
>>>>> --
>>>>> Charles E. Frees-Melvin
>>>>> 
>>>>> Sent from my Rogers iPhone 4S
>>>>> 
>>>>> On 2011-11-18, at 18:59, IC IC <icwordpress at gmail.com> wrote:
>>>>> 
>>>>>> Which table stores the "categories" label?
>>>>>> 
>>>>>> I already changed the categories folder name from "category" to
>> "topics"
>>>>>> but the add post screen still display "Categories" as the label?
>>>>>> I want to change that too to Topics.
>>>>>> 
>>>>>> When you create a custom taxonomies, this issue is not a problem
>> cause it
>>>>>> has the label argument.
>>>>>> but since the categories already come pre-created, I need to make that
>>>>>> change straight into the table!
>>>>>> where do I do that?
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From justin at justintadlock.com  Sun Nov 20 00:02:55 2011
From: justin at justintadlock.com (Justin Tadlock)
Date: Sat, 19 Nov 2011 18:02:55 -0600
Subject: [wp-hackers] changing the built in categories label on the add
 post screen
In-Reply-To: <EB0106F1-6992-474C-ADED-61998EC5568B@codehooligans.com>
References: <CABybnchW8VxS=AKRR4dhh0oNOEvX6HJSyqRuRkCexLPkMWMyqQ@mail.gmail.com>	<D4D73190-5DC4-4575-9562-6550238B899B@me.com>	<CABybnciF63LJXYmseTXF8gmnL7h83HUcrHMgr=8XX0_EwSB=aA@mail.gmail.com>	<60410AB9-943A-4126-B296-2E72E33D28D3@me.com>	<1581413781-1321659365-cardhu_decombobulator_blackberry.rim.net-1105186744-@b25.c20.bise6.blackberry>
	<EB0106F1-6992-474C-ADED-61998EC5568B@codehooligans.com>
Message-ID: <4EC843AF.30003@justintadlock.com>

Just hook into `gettext` with a custom filter.  Read:
http://blog.ftwr.co.uk/archives/2010/01/02/mangling-strings-for-fun-and-profit/

On 11/18/2011 5:44 PM, Paul Menard wrote:
> Really guys. I know it's Friday evening but hacking the code and changing the database. Really. Easiest solution is to just add your own init action hook. Grab the global $wp_taxonomies object then replace the label. No need to unregister or register some other taxonomy.
>
> Is the following advisable? Probably not but then again WordPress does not provide any hooks to override these.
>
> Something like the following:
>
>
> add_action('init', 'change_category_taxonomy_label', 999);
> function change_category_taxonomy_label() {
>
> 	global $wp_taxonomies;
>
> 	// Add your own code to verify this object and exists. You have been warned	
> 	$wp_taxonomies['category']->labels->menu_name = "Topics";
> }
>
> P-
>
>
>
> On Nov 18, 2011, at 6:36 PM, William P. Davis wrote:
>
>> This is getting complicated. Maybe just create a translation file?
>> Sent from my BlackBerry? wireless device
>>
>> -----Original Message-----
>> From: Charles Frees-Melvin<charles.freesmelvin at me.com>
>> Sender: wp-hackers-bounces at lists.automattic.com
>> Date: Fri, 18 Nov 2011 19:31:10
>> To: wp-hackers at lists.automattic.com<wp-hackers at lists.automattic.com>
>> Reply-To: wp-hackers at lists.automattic.com
>> Subject: Re: [wp-hackers] changing the built in categories label on the add
>> post screen
>>
>> Add a new taxonomy "topics" and then change in the _terms table all Categories to topics. That will convert what was category's to the topic taxonomy. Then just unregister the category tax or de-link it from the "post" post type.
>>
>> --
>> Charles E. Frees-Melvin
>>
>> Sent from my Rogers iPhone 4S
>>
>> On 2011-11-18, at 19:18, IC IC<icwordpress at gmail.com>  wrote:
>>
>>> When you unregister, what happens to the existing categories that have been
>>> created?
>>>
>>> Shall I just run this at the twentyten functions.php?
>>>
>>> add_action( 'init', 'unregister_taxonomy');
>>> function unregister_taxonomy(){
>>>    global $wp_taxonomies;
>>>    $taxonomy = 'category';
>>>    if ( taxonomy_exists( $taxonomy))
>>>        unset( $wp_taxonomies[$taxonomy]);
>>> }
>>>
>>> and after that, go find the post.php and change the label from categories
>>> to topics? is that a safe thing to do ?
>>> wouldn't this go away when we update the wordpress core though?
>>>
>>> I want the label topics to stay permanently regardless of the updates..
>>>
>>>
>>>
>>>
>>>
>>> On Fri, Nov 18, 2011 at 3:08 PM, Charles Frees-Melvin<
>>> charles.freesmelvin at me.com>  wrote:
>>>
>>>> You can't it is hard coded into wp-includes/post.php
>>>>
>>>> The best option is to unregister categories and replace with a new tax.
>>>>
>>>> --
>>>> Charles E. Frees-Melvin
>>>>
>>>> Sent from my Rogers iPhone 4S
>>>>
>>>> On 2011-11-18, at 18:59, IC IC<icwordpress at gmail.com>  wrote:
>>>>
>>>>> Which table stores the "categories" label?
>>>>>
>>>>> I already changed the categories folder name from "category" to "topics"
>>>>> but the add post screen still display "Categories" as the label?
>>>>> I want to change that too to Topics.
>>>>>
>>>>> When you create a custom taxonomies, this issue is not a problem cause it
>>>>> has the label argument.
>>>>> but since the categories already come pre-created, I need to make that
>>>>> change straight into the table!
>>>>> where do I do that?
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From caiorogerio at gmail.com  Sat Nov 19 02:29:32 2011
From: caiorogerio at gmail.com (Caio Rogerio Ribeiro)
Date: Sat, 19 Nov 2011 00:29:32 -0200
Subject: [wp-hackers] changing the built in categories label on the add
 post screen
In-Reply-To: <4EC843AF.30003@justintadlock.com>
References: <CABybnchW8VxS=AKRR4dhh0oNOEvX6HJSyqRuRkCexLPkMWMyqQ@mail.gmail.com>
	<D4D73190-5DC4-4575-9562-6550238B899B@me.com>
	<CABybnciF63LJXYmseTXF8gmnL7h83HUcrHMgr=8XX0_EwSB=aA@mail.gmail.com>
	<60410AB9-943A-4126-B296-2E72E33D28D3@me.com>
	<1581413781-1321659365-cardhu_decombobulator_blackberry.rim.net-1105186744-@b25.c20.bise6.blackberry>
	<EB0106F1-6992-474C-ADED-61998EC5568B@codehooligans.com>
	<4EC843AF.30003@justintadlock.com>
Message-ID: <5207810949694078052@unknownmsgid>

If you wann do it in a elegant way I would register a brand new tax,
unregister the category and update the the database (a 5 minutes job)
but If you dont mind about elegance a filter on a gettext or maybe
another hook resolve it quickly

But its friday night

Enviado via iPhone

Em 18/11/2011, ?s 22:14, Justin Tadlock <justin at justintadlock.com> escreveu:

> Just hook into `gettext` with a custom filter.  Read:
> http://blog.ftwr.co.uk/archives/2010/01/02/mangling-strings-for-fun-and-profit/
>
> On 11/18/2011 5:44 PM, Paul Menard wrote:
>> Really guys. I know it's Friday evening but hacking the code and changing the database. Really. Easiest solution is to just add your own init action hook. Grab the global $wp_taxonomies object then replace the label. No need to unregister or register some other taxonomy.
>>
>> Is the following advisable? Probably not but then again WordPress does not provide any hooks to override these.
>>
>> Something like the following:
>>
>>
>> add_action('init', 'change_category_taxonomy_label', 999);
>> function change_category_taxonomy_label() {
>>
>>    global $wp_taxonomies;
>>
>>    // Add your own code to verify this object and exists. You have been warned
>>    $wp_taxonomies['category']->labels->menu_name = "Topics";
>> }
>>
>> P-
>>
>>
>>
>> On Nov 18, 2011, at 6:36 PM, William P. Davis wrote:
>>
>>> This is getting complicated. Maybe just create a translation file?
>>> Sent from my BlackBerry? wireless device
>>>
>>> -----Original Message-----
>>> From: Charles Frees-Melvin<charles.freesmelvin at me.com>
>>> Sender: wp-hackers-bounces at lists.automattic.com
>>> Date: Fri, 18 Nov 2011 19:31:10
>>> To: wp-hackers at lists.automattic.com<wp-hackers at lists.automattic.com>
>>> Reply-To: wp-hackers at lists.automattic.com
>>> Subject: Re: [wp-hackers] changing the built in categories label on the add
>>> post screen
>>>
>>> Add a new taxonomy "topics" and then change in the _terms table all Categories to topics. That will convert what was category's to the topic taxonomy. Then just unregister the category tax or de-link it from the "post" post type.
>>>
>>> --
>>> Charles E. Frees-Melvin
>>>
>>> Sent from my Rogers iPhone 4S
>>>
>>> On 2011-11-18, at 19:18, IC IC<icwordpress at gmail.com>  wrote:
>>>
>>>> When you unregister, what happens to the existing categories that have been
>>>> created?
>>>>
>>>> Shall I just run this at the twentyten functions.php?
>>>>
>>>> add_action( 'init', 'unregister_taxonomy');
>>>> function unregister_taxonomy(){
>>>>   global $wp_taxonomies;
>>>>   $taxonomy = 'category';
>>>>   if ( taxonomy_exists( $taxonomy))
>>>>       unset( $wp_taxonomies[$taxonomy]);
>>>> }
>>>>
>>>> and after that, go find the post.php and change the label from categories
>>>> to topics? is that a safe thing to do ?
>>>> wouldn't this go away when we update the wordpress core though?
>>>>
>>>> I want the label topics to stay permanently regardless of the updates..
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> On Fri, Nov 18, 2011 at 3:08 PM, Charles Frees-Melvin<
>>>> charles.freesmelvin at me.com>  wrote:
>>>>
>>>>> You can't it is hard coded into wp-includes/post.php
>>>>>
>>>>> The best option is to unregister categories and replace with a new tax.
>>>>>
>>>>> --
>>>>> Charles E. Frees-Melvin
>>>>>
>>>>> Sent from my Rogers iPhone 4S
>>>>>
>>>>> On 2011-11-18, at 18:59, IC IC<icwordpress at gmail.com>  wrote:
>>>>>
>>>>>> Which table stores the "categories" label?
>>>>>>
>>>>>> I already changed the categories folder name from "category" to "topics"
>>>>>> but the add post screen still display "Categories" as the label?
>>>>>> I want to change that too to Topics.
>>>>>>
>>>>>> When you create a custom taxonomies, this issue is not a problem cause it
>>>>>> has the label argument.
>>>>>> but since the categories already come pre-created, I need to make that
>>>>>> change straight into the table!
>>>>>> where do I do that?
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From caiorogerio at gmail.com  Sat Nov 19 02:41:52 2011
From: caiorogerio at gmail.com (Caio Rogerio Ribeiro)
Date: Sat, 19 Nov 2011 00:41:52 -0200
Subject: [wp-hackers] Multi-site domain related configuration issues
In-Reply-To: <4EC6DC4D.6010009@thecodecave.com>
References: <CAEizahLL+PuRQ+k9Yyzghz9miq0jvLT88s8dPPKF3NN=ka8--w@mail.gmail.com>
	<4EC6DC4D.6010009@thecodecave.com>
Message-ID: <-604681948400095161@unknownmsgid>

Maybe there's a way combining the wp_sites and wp_blogs...

By the way anyone has used that? I'm used with network instalations (I
manage one) but what's the meaning of wp_site?

Maybe for deal with many networks in one install?

Enviado via iPhone

Em 18/11/2011, ?s 20:29, Brian Layman <wp-hackers at thecodecave.com> escreveu:

> On 11/18/2011 5:10 PM, Hal Burgiss wrote:
>> However sub-directory installations on non-primary domains do not work:
>>
>> example2.com/testtest
>> sub.example.com/pleasehelp
>>
> A change introduced into WordPress 3.1 causes WordPress to ignore the path field in the site table when trying to figure out the SiteID.  As a result, WordPress 3.1 and newer break all sites that work the way you've describe.
>
> I submitted a ticket & patch for this a few months ago.  You can see it here: http://core.trac.wordpress.org/ticket/18079
>
> This has not made it into 3.3, but if you apply that patch to 3.2, you can get your sites up and running today.
>
> --
> Brian Layman
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From hal at burgiss.net  Sat Nov 19 13:44:46 2011
From: hal at burgiss.net (Hal Burgiss)
Date: Sat, 19 Nov 2011 08:44:46 -0500
Subject: [wp-hackers] Multi-site domain related configuration issues
In-Reply-To: <4EC6DC4D.6010009@thecodecave.com>
References: <CAEizahLL+PuRQ+k9Yyzghz9miq0jvLT88s8dPPKF3NN=ka8--w@mail.gmail.com>
	<4EC6DC4D.6010009@thecodecave.com>
Message-ID: <CAEizahLtxMNA6=SSxA37dQE=1kVOZRURk1Y45CuA5HwtrWXUDQ@mail.gmail.com>

On Fri, Nov 18, 2011 at 5:29 PM, Brian Layman <wp-hackers at thecodecave.com>wrote:

> On 11/18/2011 5:10 PM, Hal Burgiss wrote:
>
>> However sub-directory installations on non-primary domains do not work:
>>
>> example2.com/testtest
>> sub.example.com/pleasehelp
>>
>>  A change introduced into WordPress 3.1 causes WordPress to ignore the
> path field in the site table when trying to figure out the SiteID.  As a
> result, WordPress 3.1 and newer break all sites that work the way you've
> describe.
>
> I submitted a ticket & patch for this a few months ago.  You can see it
> here: http://core.trac.wordpress.**org/ticket/18079<http://core.trac.wordpress.org/ticket/18079>
>
> This has not made it into 3.3, but if you apply that patch to 3.2, you can
> get your sites up and running today.
>
>
Interesting! Thank you  Brian. I will give this a shot come Monday.


-- 
Hal

From pasquale.puzio at gmail.com  Sat Nov 19 19:09:35 2011
From: pasquale.puzio at gmail.com (Pasquale Puzio)
Date: Sat, 19 Nov 2011 20:09:35 +0100
Subject: [wp-hackers] PHPMailer
Message-ID: <CAGcUGA9+g6cNi2TdMYixymzo8u=0BFbtp2wK++KyOJxQwA24=A@mail.gmail.com>

Hi guys,

I've noticed that WordPress includes the very popular mailing library
for PHP PHPMailer.

How can I use that without importing class-phpmailer.php file in the
main directory of the active theme?

Thanks

-- 
Dott. Pasquale Puzio
http://www.pasqualepuzio.it
info at pasqualepuzio.it
340 5026359

From dennen at gmail.com  Sat Nov 19 19:17:31 2011
From: dennen at gmail.com (Bill Dennen)
Date: Sat, 19 Nov 2011 14:17:31 -0500
Subject: [wp-hackers] PHPMailer
In-Reply-To: <CAGcUGA9+g6cNi2TdMYixymzo8u=0BFbtp2wK++KyOJxQwA24=A@mail.gmail.com>
References: <CAGcUGA9+g6cNi2TdMYixymzo8u=0BFbtp2wK++KyOJxQwA24=A@mail.gmail.com>
Message-ID: <CAAFBVjgN04DfCAar96WLOsiL_zdHsjbTT01YeqxKP3hnACAXMw@mail.gmail.com>

> I've noticed that WordPress includes the very popular mailing library
> for PHP PHPMailer.
>
> How can I use that without importing class-phpmailer.php file in the
> main directory of the active theme?

wp_mail is the function used to interact with it --

http://codex.wordpress.org/Function_Reference/wp_mail

From peroyomaslists at gmail.com  Sat Nov 19 21:38:49 2011
From: peroyomaslists at gmail.com (=?ISO-8859-1?Q?Andr=E9s_Sanhueza?=)
Date: Sat, 19 Nov 2011 18:38:49 -0300
Subject: [wp-hackers] Difference between 'aside' and 'status' post
	format?
In-Reply-To: <4EB46A45.3000205@justintadlock.com>
References: <CAPnRZcTxukvzm19rhPj87qT+T-d8OcUvP9EG-PE5JhbjCK_-YA@mail.gmail.com>
	<4EB46A45.3000205@justintadlock.com>
Message-ID: <CAPnRZcT2JaY9H7GZ0sfR8UPOxM-fX=XM4X9VvYEsNOQSJCxXFA@mail.gmail.com>

> For me, they have separate uses. ?But, one could certainly use a single
> format and do both.

Yeah, but still seems to be more like a merely conceptual
differentiation. Most people are going to use either one or the other,
and there must be something like "theme interoperability" and I don't
think it could make much sense to maintain a public theme that
supports both with the two looking pretty much the same. Do you think
there is a possibility to 'deprecate' one of both in core?

From pasquale.puzio at gmail.com  Sat Nov 19 23:28:22 2011
From: pasquale.puzio at gmail.com (Pasquale Puzio)
Date: Sun, 20 Nov 2011 00:28:22 +0100
Subject: [wp-hackers] PHPMailer
In-Reply-To: <CAAFBVjgN04DfCAar96WLOsiL_zdHsjbTT01YeqxKP3hnACAXMw@mail.gmail.com>
References: <CAGcUGA9+g6cNi2TdMYixymzo8u=0BFbtp2wK++KyOJxQwA24=A@mail.gmail.com>
	<CAAFBVjgN04DfCAar96WLOsiL_zdHsjbTT01YeqxKP3hnACAXMw@mail.gmail.com>
Message-ID: <CAGcUGA9Rj6rOhG1moXJTWa+8rNxC-FcyZWkqqWT0_2tJQiUFyg@mail.gmail.com>

You're right,

I thought that wp_mail was just a wrapper for the PHP mail() function.

Thanks

On Sat, Nov 19, 2011 at 8:17 PM, Bill Dennen <dennen at gmail.com> wrote:
>> I've noticed that WordPress includes the very popular mailing library
>> for PHP PHPMailer.
>>
>> How can I use that without importing class-phpmailer.php file in the
>> main directory of the active theme?
>
> wp_mail is the function used to interact with it --
>
> http://codex.wordpress.org/Function_Reference/wp_mail
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dott. Pasquale Puzio
http://www.pasqualepuzio.it
info at pasqualepuzio.it
340 5026359

From wpmidia at gmail.com  Sat Nov 19 23:34:08 2011
From: wpmidia at gmail.com (wpmidia lab)
Date: Sat, 19 Nov 2011 21:34:08 -0200
Subject: [wp-hackers] PHPMailer
In-Reply-To: <CAGcUGA9Rj6rOhG1moXJTWa+8rNxC-FcyZWkqqWT0_2tJQiUFyg@mail.gmail.com>
References: <CAGcUGA9+g6cNi2TdMYixymzo8u=0BFbtp2wK++KyOJxQwA24=A@mail.gmail.com>
	<CAAFBVjgN04DfCAar96WLOsiL_zdHsjbTT01YeqxKP3hnACAXMw@mail.gmail.com>
	<CAGcUGA9Rj6rOhG1moXJTWa+8rNxC-FcyZWkqqWT0_2tJQiUFyg@mail.gmail.com>
Message-ID: <CADqS_aziDM-3-bACYpEC+29s6QmK1CtQKFnghRgr74hQ3ybKGg@mail.gmail.com>

Hi, simply add the code below.... and use PHPMailer! =)

require(ABSPATH . WPINC . '/class-phpmailer.php');
require(ABSPATH . WPINC . '/class-smtp.php');


Drika =)

2011/11/19 Pasquale Puzio <pasquale.puzio at gmail.com>

> You're right,
>
> I thought that wp_mail was just a wrapper for the PHP mail() function.
>
> Thanks
>
> On Sat, Nov 19, 2011 at 8:17 PM, Bill Dennen <dennen at gmail.com> wrote:
> >> I've noticed that WordPress includes the very popular mailing library
> >> for PHP PHPMailer.
> >>
> >> How can I use that without importing class-phpmailer.php file in the
> >> main directory of the active theme?
> >
> > wp_mail is the function used to interact with it --
> >
> > http://codex.wordpress.org/Function_Reference/wp_mail
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Dott. Pasquale Puzio
> http://www.pasqualepuzio.it
> info at pasqualepuzio.it
> 340 5026359
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
*M?riam de Paula *
*(a.k.a. Drika)*
*Twitter:* @miriamdepaula

wp*midia*
*desenvolvimento web*
http://wpmidia.com.br
twitter: @wpmidia

*WordPress Brasil no Facebook: *
http://www.facebook.com/groups/wordpress.brasil

*OpenCart Brasil no Facebook:*
http://www.facebook.com/groups/opencart.brasil/

From jesper at jarlskov.dk  Sun Nov 20 09:18:56 2011
From: jesper at jarlskov.dk (Jesper Jarlskov)
Date: Sun, 20 Nov 2011 10:18:56 +0100
Subject: [wp-hackers] WordPress.org search API
Message-ID: <CAA31KDboUKNWsPAx2+pvk0-NJHSGVd=BF0TjP_nSuMks_z3Hog@mail.gmail.com>

Hello List

I am currently doing a project for the Danish WordPress community, where I
amongst other things is going to make it easier to find plugins translated
into Danish. My idea is here to hook into the WordPress.org search API, to
be able to present plugins from WordPress.org that has been translated, or
maybe even set up a script to fetch .po/.mo files from WordPress.org, to
make it possible to translate plugins using our own GlotPress install.

One problem, though, is that I havn't been able to find any documentation
for using the WordPress search API. Is there any documentation? Or is it a
matter of going through the WordPress source  code, and try to backwards
engineer how it is handled in the plugin installer/updater?

-- 
Jesper Jarlskov

From ryan.frankel at gmail.com  Sun Nov 20 09:29:10 2011
From: ryan.frankel at gmail.com (Ryan Frankel)
Date: Sun, 20 Nov 2011 04:29:10 -0500
Subject: [wp-hackers] WordPress.org search API
In-Reply-To: <CAA31KDboUKNWsPAx2+pvk0-NJHSGVd=BF0TjP_nSuMks_z3Hog@mail.gmail.com>
References: <CAA31KDboUKNWsPAx2+pvk0-NJHSGVd=BF0TjP_nSuMks_z3Hog@mail.gmail.com>
Message-ID: <01DB4A5B-86F5-4C11-91E9-F10EA3D5B096@gmail.com>

This was really helpful for me:

http://dd32.id.au/projects/wordpressorg-plugin-information-api-docs/

It works well and there are some code examples in the comments to help you get started.

ryan


On Nov 20, 2011, at 4:18 AM, Jesper Jarlskov wrote:

> Hello List
> 
> I am currently doing a project for the Danish WordPress community, where I
> amongst other things is going to make it easier to find plugins translated
> into Danish. My idea is here to hook into the WordPress.org search API, to
> be able to present plugins from WordPress.org that has been translated, or
> maybe even set up a script to fetch .po/.mo files from WordPress.org, to
> make it possible to translate plugins using our own GlotPress install.
> 
> One problem, though, is that I havn't been able to find any documentation
> for using the WordPress search API. Is there any documentation? Or is it a
> matter of going through the WordPress source  code, and try to backwards
> engineer how it is handled in the plugin installer/updater?
> 
> -- 
> Jesper Jarlskov
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wordpress at dd32.id.au  Sun Nov 20 09:45:41 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 20 Nov 2011 20:45:41 +1100
Subject: [wp-hackers] WordPress.org search API
In-Reply-To: <CAA31KDboUKNWsPAx2+pvk0-NJHSGVd=BF0TjP_nSuMks_z3Hog@mail.gmail.com>
References: <CAA31KDboUKNWsPAx2+pvk0-NJHSGVd=BF0TjP_nSuMks_z3Hog@mail.gmail.com>
Message-ID: <CAL4EHfk_quPS7zAZkM=Z8vU2fmnaP5BNwCSC-gLm3xhd35R0Bw@mail.gmail.com>

On 20 November 2011 20:18, Jesper Jarlskov <jesper at jarlskov.dk> wrote:

> I am currently doing a project for the Danish WordPress community, where I
> amongst other things is going to make it easier to find plugins translated
> into Danish. My idea is here to hook into the WordPress.org search API, to
> be able to present plugins from WordPress.org that has been translated, or
> maybe even set up a script to fetch .po/.mo files from WordPress.org, to
> make it possible to translate plugins using our own GlotPress install.

3.4's (hopefully) Language Packs functionality will hopefully make it
simpler and far more easier to get translation packages for plugins,
in the sense, that the translations won't be required to be handled by
plugin authors..
I'm not entirely sure on the fine details of how it'll be implemented,
but keep an eye on: #18200
(http://core.trac.wordpress.org/ticket/18200) for action during the
3.4 dev cycle.

From mark at stardart.net  Sun Nov 20 14:06:53 2011
From: mark at stardart.net (Mark W. Kidd)
Date: Sun, 20 Nov 2011 09:06:53 -0500
Subject: [wp-hackers] Concept for a community video plugin
Message-ID: <4EC9097D.3070203@stardart.net>

Hi folks,

I am interested in creating a pool of funds (bounty) to build a 
community video plugin or add new features to an existing plugin to 
achieve the same functionality. Sometime soon, I anticipate circulating 
a description of the project to some Wordpress developers to gauge the 
cost and complexity for the work.

I would be very grateful for any ideas or feedback on my draft 
description, which I'm pasting below. I'm hoping in particular whether 
there are key aspects of creating a plugin I've overlooked, or 
unanswered questions that come to mind when you see this.

Also, maybe the most important feedback would be: do you as a developer 
see any value in this kind of plugin for your own clients or projects?

Best,
Mark

*
What*
This project will put video blogging and video podcasting in easy reach 
of community artists and organizations with limited access to technical 
expertise or funding. This will take the form of a open-source Wordpress 
plugin and companion website to explain its features and provide 
examples of the plugin in use.

The community video plugin will enable organizations to build free or 
low-cost websites with Wordpress where posting video is as simple and 
accessible as uploading and embedding photos has become via WYSIWYG 
editors. In order to make sites using the plugin scale with surges in 
traffic or without financial resources for media hosting, the plugin 
will make use of the YouTube API to store user-submitted videos on YouTube.

*Community Video Wordpress Plugin*

*Key Features*

  * Enable the front-end creation of new posts featuring an embedded
    video by registered or unregistered users.
  * The user is presented with a button (or other interface element) for
    uploading their video directly from the submission form where it
    will be hosted to YouTube. The plugin passes the post's title,
    excerpt, tags, and body from the Wordpress form to YouTube so that
    this content is also present on the YouTube page for the video.
  * Users do not need a YouTube account - the site owner designates a
    YouTube channel on the back-end and all videos are uploaded there.
  * Allow the site owner to specify which license(s) is/are available
    for users to submit their videos
  * Optionally allow a safety/archival copy of the video file to be kept
    on the local web server
  * Must be installable and maintainable by a broad base of users. The
    documentation should be written for a similar technical proficiency
    to consumer electronics. Framing question: Could the
    technical-minded niece or nephew of the family install this plugin?
  * Open-source licensed
  * Distributed alongside a simple WordPress theme and recommended
    configuration which demonstrate the plugin features

*Why*
Web media offers the promise that people and communities who are the 
subjects or consumers of media can be involved in its development from 
inception through publication; fulfilling that promise requires 
collaboration between media organizations, technologists, artists, and 
members of these communities to ensure that the web offers equitable 
platforms for community speech and creativity.  As a baseline for such 
platforms and tools to be equitable, they must be accessible to those 
most affected by pressing issues, whether local or international, 
regardless of technical expertise or financial resources.

The story-gathering processes long employed in community media are often 
an expression of the same cultural values that open source and Creative 
Commons (or "copyleft") practitioners are advancing today on the web. 
Technologists have created a vocabulary and the intellectual property 
framework to support equitable and innovative creation, collaboration, 
and movement-building as they are practiced online. This project seeks 
to bridge these two ways of knowing about media to produce a democratic 
tool for the web.

*How*
_Inspirations_
     Integrated YouTube submission form at 
http://www.kitescampaigns.org/submissions/add/ (ExpressionEngine/PHP 
source available upon request)
     We Are the 99 Percent photo submission form: 
http://wearethe99percent.tumblr.com/submit/

_Extend an existing plugin?_
     Quick Post Widget: 
http://wordpress.org/extend/plugins/quick-post-widget/

-- 
Mark W. Kidd
Roadside Theater - Thousand Kites - Appalshop

606-536-0115 (cell)
roadside.org
thousandkites.org
appalshop.org


From Dagan.Henderson at epyllion.com  Sun Nov 20 21:26:31 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Sun, 20 Nov 2011 13:26:31 -0800
Subject: [wp-hackers] NetBeans Code Completion
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E06D5BDC584@DC.epyllion.com>

Awhile back, the question went around as to which IDE people were using for WordPress development. I've been using Eclipse, but NetBeans seemed quite popular and a new employer has asked me to migrate to it, so I have.
The problem I'm having is that code completion for WordPress functions (or my own, for that matter) isn't working. The project includes the entire WordPress directory.
Any NetBeans users out there have a suggestion?

Thanks!


From carlroett at gmail.com  Sun Nov 20 21:29:44 2011
From: carlroett at gmail.com (Carl Roett)
Date: Sun, 20 Nov 2011 14:29:44 -0700
Subject: [wp-hackers] Concept for a community video plugin
In-Reply-To: <4EC9097D.3070203@stardart.net>
References: <4EC9097D.3070203@stardart.net>
Message-ID: <CAM0n84CqiE9Z+8Q+puqc8yyXFvFHyhGFaHKAihy5FgnpsuT3QA@mail.gmail.com>

You should get in touch with the BP-Media team.

http://code.google.com/p/buddypress-media/
http://code.google.com/p/buddypress-media/downloads/list


^C^


On Sun, Nov 20, 2011 at 7:06 AM, Mark W. Kidd <mark at stardart.net> wrote:

> Hi folks,
>
> I am interested in creating a pool of funds (bounty) to build a community
> video plugin or add new features to an existing plugin to achieve the same
> functionality. Sometime soon, I anticipate circulating a description of the
> project to some Wordpress developers to gauge the cost and complexity for
> the work.
>
> I would be very grateful for any ideas or feedback on my draft
> description, which I'm pasting below. I'm hoping in particular whether
> there are key aspects of creating a plugin I've overlooked, or unanswered
> questions that come to mind when you see this.
>
> Also, maybe the most important feedback would be: do you as a developer
> see any value in this kind of plugin for your own clients or projects?
>
> Best,
> Mark
>
> *
> What*
> This project will put video blogging and video podcasting in easy reach of
> community artists and organizations with limited access to technical
> expertise or funding. This will take the form of a open-source Wordpress
> plugin and companion website to explain its features and provide examples
> of the plugin in use.
>
> The community video plugin will enable organizations to build free or
> low-cost websites with Wordpress where posting video is as simple and
> accessible as uploading and embedding photos has become via WYSIWYG
> editors. In order to make sites using the plugin scale with surges in
> traffic or without financial resources for media hosting, the plugin will
> make use of the YouTube API to store user-submitted videos on YouTube.
>
> *Community Video Wordpress Plugin*
>
> *Key Features*
>
>  * Enable the front-end creation of new posts featuring an embedded
>   video by registered or unregistered users.
>  * The user is presented with a button (or other interface element) for
>   uploading their video directly from the submission form where it
>   will be hosted to YouTube. The plugin passes the post's title,
>   excerpt, tags, and body from the Wordpress form to YouTube so that
>   this content is also present on the YouTube page for the video.
>  * Users do not need a YouTube account - the site owner designates a
>   YouTube channel on the back-end and all videos are uploaded there.
>  * Allow the site owner to specify which license(s) is/are available
>   for users to submit their videos
>  * Optionally allow a safety/archival copy of the video file to be kept
>   on the local web server
>  * Must be installable and maintainable by a broad base of users. The
>   documentation should be written for a similar technical proficiency
>   to consumer electronics. Framing question: Could the
>   technical-minded niece or nephew of the family install this plugin?
>  * Open-source licensed
>  * Distributed alongside a simple WordPress theme and recommended
>   configuration which demonstrate the plugin features
>
> *Why*
> Web media offers the promise that people and communities who are the
> subjects or consumers of media can be involved in its development from
> inception through publication; fulfilling that promise requires
> collaboration between media organizations, technologists, artists, and
> members of these communities to ensure that the web offers equitable
> platforms for community speech and creativity.  As a baseline for such
> platforms and tools to be equitable, they must be accessible to those most
> affected by pressing issues, whether local or international, regardless of
> technical expertise or financial resources.
>
> The story-gathering processes long employed in community media are often
> an expression of the same cultural values that open source and Creative
> Commons (or "copyleft") practitioners are advancing today on the web.
> Technologists have created a vocabulary and the intellectual property
> framework to support equitable and innovative creation, collaboration, and
> movement-building as they are practiced online. This project seeks to
> bridge these two ways of knowing about media to produce a democratic tool
> for the web.
>
> *How*
> _Inspirations_
>    Integrated YouTube submission form at http://www.kitescampaigns.org/**
> submissions/add/ <http://www.kitescampaigns.org/submissions/add/>(ExpressionEngine/PHP source available upon request)
>    We Are the 99 Percent photo submission form: http://wearethe99percent.*
> *tumblr.com/submit/ <http://wearethe99percent.tumblr.com/submit/>
>
> _Extend an existing plugin?_
>    Quick Post Widget: http://wordpress.org/extend/**
> plugins/quick-post-widget/<http://wordpress.org/extend/plugins/quick-post-widget/>
>
> --
> Mark W. Kidd
> Roadside Theater - Thousand Kites - Appalshop
>
> 606-536-0115 (cell)
> roadside.org
> thousandkites.org
> appalshop.org
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From dianakac at gmail.com  Mon Nov 21 03:50:37 2011
From: dianakac at gmail.com (Diana K. Cury)
Date: Mon, 21 Nov 2011 00:50:37 -0300
Subject: [wp-hackers] How to remove rel tags from Twenty Ten
Message-ID: <001901cca800$be6e0750$0100a8c0@corpfe1f3cd943>

Again, I have some issues dealing with schema.org and microdata with a Twenty Ten child theme, is there some way to remove some tags without creating an old fashioned full comments.php?!

When I test a post type page in Google Webmaster tool, everything works fine, but if theres any comment, I get the author comment data (vcard) which I don?t want :(

I think is a better ask: how do I remove comment author' vcard?!

thanks!

From jer at simianuprising.com  Mon Nov 21 02:59:11 2011
From: jer at simianuprising.com (Jeremy Clarke)
Date: Sun, 20 Nov 2011 21:59:11 -0500
Subject: [wp-hackers] NetBeans Code Completion
In-Reply-To: <BDCDB469E9C1B040A29DD08A1D8A896E06D5BDC584@DC.epyllion.com>
References: <BDCDB469E9C1B040A29DD08A1D8A896E06D5BDC584@DC.epyllion.com>
Message-ID: <CAAHgzDN_qBAx0Ekg1ySivsJz=F084KdXRbcmxn0fXFjJuHCxDg@mail.gmail.com>

On Sun, Nov 20, 2011 at 4:26 PM, Dagan Henderson <
Dagan.Henderson at epyllion.com> wrote:

> Awhile back, the question went around as to which IDE people were using
> for WordPress development. I've been using Eclipse, but NetBeans seemed
> quite popular and a new employer has asked me to migrate to it, so I have.
> The problem I'm having is that code completion for WordPress functions (or
> my own, for that matter) isn't working. The project includes the entire
> WordPress directory.
> Any NetBeans users out there have a suggestion?
>
>
If non-WordPress functions aren't being completed either then it's probably
a generic NetBeans issue with code completion. I'd recommend going through
every single screen of the preferences and making sure that all checkboxes
related to code completion are set correctly. There's some in EDITOR > CODE
COMPLETION, including special PHP-related options if you use the pulldown
menu to select PHP.

In general I'd also recommend setting a keyboard shortcut to summon
autocomplete for times when, for whatever reason, it doesn't pop up in a
timely fashion. I actually usually end up summoning autocomplete rather
than waiting for it.  If you set a keyboard shortcut and it still doesn't
work then at least you know it's not the timing.

-- 
Jeremy Clarke ? jeremyclarke.org
Code and Design ? globalvoicesonline.org

From Dagan.Henderson at epyllion.com  Mon Nov 21 04:21:03 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Sun, 20 Nov 2011 20:21:03 -0800
Subject: [wp-hackers] NetBeans Code Completion
In-Reply-To: <CAAHgzDN_qBAx0Ekg1ySivsJz=F084KdXRbcmxn0fXFjJuHCxDg@mail.gmail.com>
References: <BDCDB469E9C1B040A29DD08A1D8A896E06D5BDC584@DC.epyllion.com>
	<CAAHgzDN_qBAx0Ekg1ySivsJz=F084KdXRbcmxn0fXFjJuHCxDg@mail.gmail.com>
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E06D5BDC585@DC.epyllion.com>

>> Awhile back, the question went around as to which IDE people were 
>> using for WordPress development. I've been using Eclipse, but NetBeans 
>> seemed quite popular and a new employer has asked me to migrate to it, so I have.
>> The problem I'm having is that code completion for WordPress functions 
>> (or my own, for that matter) isn't working. The project includes the 
>> entire WordPress directory.
>> Any NetBeans users out there have a suggestion?
>
>
>If non-WordPress functions aren't being completed either then it's probably a generic NetBeans issue with code completion. I'd recommend going through every single screen of the >preferences and making sure that all checkboxes related to code completion are set correctly. There's some in EDITOR > CODE COMPLETION, including special PHP-related options if >you use the pulldown menu to select PHP.
>
>In general I'd also recommend setting a keyboard shortcut to summon autocomplete for times when, for whatever reason, it doesn't pop up in a timely fashion. I actually usually end >up summoning autocomplete rather than waiting for it.  If you set a keyboard shortcut and it still doesn't work then at least you know it's not the timing.
>

Only PHP Core functions were being completed. Neither my own nor WordPress's were found. I wound up fixing the issue by completely removing all NetBeans files from the source directories and re-adding the project from existing source.

From wpmidia at gmail.com  Mon Nov 21 11:35:43 2011
From: wpmidia at gmail.com (wpmidia lab)
Date: Mon, 21 Nov 2011 09:35:43 -0200
Subject: [wp-hackers] NetBeans Code Completion
In-Reply-To: <BDCDB469E9C1B040A29DD08A1D8A896E06D5BDC585@DC.epyllion.com>
References: <BDCDB469E9C1B040A29DD08A1D8A896E06D5BDC584@DC.epyllion.com>
	<CAAHgzDN_qBAx0Ekg1ySivsJz=F084KdXRbcmxn0fXFjJuHCxDg@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E06D5BDC585@DC.epyllion.com>
Message-ID: <CADqS_azYkv6gd3Nx4GGOmh5e-DnwPu5kWaQrzQC4B8y5LctBSg@mail.gmail.com>

Dreamweaver CS5 have code completion for CMS's  (WordPress, Joomla and
Drupal) ... =)

2011/11/21 Dagan Henderson <Dagan.Henderson at epyllion.com>

> >> Awhile back, the question went around as to which IDE people were
> >> using for WordPress development. I've been using Eclipse, but NetBeans
> >> seemed quite popular and a new employer has asked me to migrate to it,
> so I have.
> >> The problem I'm having is that code completion for WordPress functions
> >> (or my own, for that matter) isn't working. The project includes the
> >> entire WordPress directory.
> >> Any NetBeans users out there have a suggestion?
> >
> >
> >If non-WordPress functions aren't being completed either then it's
> probably a generic NetBeans issue with code completion. I'd recommend going
> through every single screen of the >preferences and making sure that all
> checkboxes related to code completion are set correctly. There's some in
> EDITOR > CODE COMPLETION, including special PHP-related options if >you use
> the pulldown menu to select PHP.
> >
> >In general I'd also recommend setting a keyboard shortcut to summon
> autocomplete for times when, for whatever reason, it doesn't pop up in a
> timely fashion. I actually usually end >up summoning autocomplete rather
> than waiting for it.  If you set a keyboard shortcut and it still doesn't
> work then at least you know it's not the timing.
> >
>
> Only PHP Core functions were being completed. Neither my own nor
> WordPress's were found. I wound up fixing the issue by completely removing
> all NetBeans files from the source directories and re-adding the project
> from existing source.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
*M?riam de Paula *
*(a.k.a. Drika)*
*Twitter:* @miriamdepaula

wp*midia*
*desenvolvimento web*
http://wpmidia.com.br
twitter: @wpmidia

*WordPress Brasil no Facebook: *
http://www.facebook.com/groups/wordpress.brasil

*OpenCart Brasil no Facebook:*
http://www.facebook.com/groups/opencart.brasil/

From wordpress at zed1.com  Mon Nov 21 12:20:06 2011
From: wordpress at zed1.com (Mike Little)
Date: Mon, 21 Nov 2011 12:20:06 +0000
Subject: [wp-hackers] How to remove rel tags from Twenty Ten
In-Reply-To: <001901cca800$be6e0750$0100a8c0@corpfe1f3cd943>
References: <001901cca800$be6e0750$0100a8c0@corpfe1f3cd943>
Message-ID: <CAMb54M3+E4_zveooxovF9g-vrK_GPx0auVwbW5qMEErNUvf=dw@mail.gmail.com>

On 21 November 2011 03:50, Diana K. Cury <dianakac at gmail.com> wrote:

> Again, I have some issues dealing with schema.org and microdata with a
> Twenty Ten child theme, is there some way to remove some tags without
> creating an old fashioned full comments.php?!
>
> When I test a post type page in Google Webmaster tool, everything works
> fine, but if theres any comment, I get the author comment data (vcard)
> which I don?t want :(
>
> I think is a better ask: how do I remove comment author' vcard?!
>
>
In TwentyTen, the comment author vcard is output by the function
twentyten_comment() in functions.php. You can override that in your child
theme.

Simple copy the function into your child theme's functions.php and adjust
it to suit your requirements.


MIke
-- 
Mike Little
http://zed1.com/

From kevinjohngallagher at hotmail.com  Mon Nov 21 12:28:42 2011
From: kevinjohngallagher at hotmail.com (Kevinjohn Gallagher)
Date: Mon, 21 Nov 2011 12:28:42 +0000
Subject: [wp-hackers] Placement of shortcodes within the WP Editor
Message-ID: <BLU0-SMTP12465E2A000905215CA9D58CCCB0@phx.gbl>

Howdy,

Can the WP Editor handle shortcodes inside HTML tags?
E.g. < tagname attribute="[shortcode variable='']" />


Thanks,
Kev

==========================================
Kevinjohn Gallagher
 
+44 (0) 7788 718382
KevinjohnGallagher at hotmail.com
http://www.kevinjohngallagher.com
http://www.linkedin.com/in/kevinjohngallagher
==========================================




From jamielaws at gmail.com  Mon Nov 21 14:19:54 2011
From: jamielaws at gmail.com (James Laws)
Date: Mon, 21 Nov 2011 09:19:54 -0500
Subject: [wp-hackers] Adding a meta_box to all Post Types
Message-ID: <CAJ=bSSboiJsa_2SjQuWuQhrTdea92saszaW=x=KFc8-Xm0R96A@mail.gmail.com>

Could anyone point me in the right direction to add custom meta box to all
public post types?

Thanks in advance.

James

From dianakac at gmail.com  Mon Nov 21 16:54:54 2011
From: dianakac at gmail.com (Diana K. Cury)
Date: Mon, 21 Nov 2011 13:54:54 -0300
Subject: [wp-hackers] How to remove rel tags from Twenty Ten
References: <001901cca800$be6e0750$0100a8c0@corpfe1f3cd943>
	<CAMb54M3+E4_zveooxovF9g-vrK_GPx0auVwbW5qMEErNUvf=dw@mail.gmail.com>
Message-ID: <001d01cca86e$4eac5ed0$0100a8c0@corpfe1f3cd943>

Oh thanks!


----- Original Message ----- 
From: "Mike Little" <wordpress at zed1.com>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, November 21, 2011 9:20 AM
Subject: Re: [wp-hackers] How to remove rel tags from Twenty Ten


> On 21 November 2011 03:50, Diana K. Cury <dianakac at gmail.com> wrote:
>
>> Again, I have some issues dealing with schema.org and microdata with a
>> Twenty Ten child theme, is there some way to remove some tags without
>> creating an old fashioned full comments.php?!
>>
>> When I test a post type page in Google Webmaster tool, everything works
>> fine, but if theres any comment, I get the author comment data (vcard)
>> which I don?t want :(
>>
>> I think is a better ask: how do I remove comment author' vcard?!
>>
>>
> In TwentyTen, the comment author vcard is output by the function
> twentyten_comment() in functions.php. You can override that in your child
> theme.
>
> Simple copy the function into your child theme's functions.php and adjust
> it to suit your requirements.
>
>
> MIke
> -- 
> Mike Little
> http://zed1.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


From wp-hackers at thecodecave.com  Mon Nov 21 17:08:18 2011
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Mon, 21 Nov 2011 12:08:18 -0500
Subject: [wp-hackers] Multi-site domain related configuration issues
In-Reply-To: <-604681948400095161@unknownmsgid>
References: <CAEizahLL+PuRQ+k9Yyzghz9miq0jvLT88s8dPPKF3NN=ka8--w@mail.gmail.com>
	<4EC6DC4D.6010009@thecodecave.com>
	<-604681948400095161@unknownmsgid>
Message-ID: <4ECA8582.5000905@thecodecave.com>

On 11/18/2011 9:41 PM, Caio Rogerio Ribeiro wrote:
> Maybe there's a way combining the wp_sites and wp_blogs...
>
> By the way anyone has used that? I'm used with network instalations (I
> manage one) but what's the meaning of wp_site?
>
> Maybe for deal with many networks in one install?
That's exactly it.  The original naming convention was EXTREMELY 
confusing and hard to explain.  The table names were chosen during that 
time.

Each network has a record stored in wp_sites.  Each network can contain 
many blogs stored in wp_blogs.  The Network Admin can be different for 
each network.  The privileges and access of members are dependent upon 
each blog in each network.  HOWEVER, the user list is still shared 
between the networks and you need to account for that.  Unless there's 
been some special coding added in a recent release, that means usernames 
and email address must be unique across the entire set of networks.  
That can cause confusion if you are doing membership sites in networks 
that are not intended to be connected.

-- 
Brian Layman
http://eHermitsInc.com


From Dagan.Henderson at epyllion.com  Mon Nov 21 18:16:25 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Mon, 21 Nov 2011 10:16:25 -0800
Subject: [wp-hackers] Adding a meta_box to all Post Types
In-Reply-To: <CAJ=bSSboiJsa_2SjQuWuQhrTdea92saszaW=x=KFc8-Xm0R96A@mail.gmail.com>
References: <CAJ=bSSboiJsa_2SjQuWuQhrTdea92saszaW=x=KFc8-Xm0R96A@mail.gmail.com>
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E06D5BDC587@DC.epyllion.com>

I just did this the other day, James, so good timing.

Just geet a list of post types and loop through it:

	$post_types = get_post_types( array( '_builtin' => false ), 'objects' );  // Gets all custom types

	array_push( $post_types, get_post_type_object( 'post' ), get_post_type_object( 'page')  ); // Adds back the 'post' and 'page' types while ommitting attachments, revisions, menus, etc.

	foreach ( $post_types as $type ) {

		add_meta_box( . . . );
	}

Happy coding!


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of James Laws
Sent: Monday, November 21, 2011 6:20 AM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Adding a meta_box to all Post Types

Could anyone point me in the right direction to add custom meta box to all public post types?

Thanks in advance.

James
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From hal at burgiss.net  Mon Nov 21 22:42:55 2011
From: hal at burgiss.net (Hal Burgiss)
Date: Mon, 21 Nov 2011 17:42:55 -0500
Subject: [wp-hackers] Multi-site domain related configuration issues
In-Reply-To: <CAEizahLtxMNA6=SSxA37dQE=1kVOZRURk1Y45CuA5HwtrWXUDQ@mail.gmail.com>
References: <CAEizahLL+PuRQ+k9Yyzghz9miq0jvLT88s8dPPKF3NN=ka8--w@mail.gmail.com>
	<4EC6DC4D.6010009@thecodecave.com>
	<CAEizahLtxMNA6=SSxA37dQE=1kVOZRURk1Y45CuA5HwtrWXUDQ@mail.gmail.com>
Message-ID: <CAEizahKZqDM2Hgpx98i+0kXDnjD0E5qdxy-U2GLqT2hL5DFDWg@mail.gmail.com>

On Sat, Nov 19, 2011 at 8:44 AM, Hal Burgiss <hal at burgiss.net> wrote:

> On Fri, Nov 18, 2011 at 5:29 PM, Brian Layman <wp-hackers at thecodecave.com>wrote:
>
>> On 11/18/2011 5:10 PM, Hal Burgiss wrote:
>>
>>> However sub-directory installations on non-primary domains do not work:
>>>
>>> example2.com/testtest
>>> sub.example.com/pleasehelp
>>>
>>>  A change introduced into WordPress 3.1 causes WordPress to ignore the
>> path field in the site table when trying to figure out the SiteID.  As a
>> result, WordPress 3.1 and newer break all sites that work the way you've
>> describe.
>>
>> I submitted a ticket & patch for this a few months ago.  You can see it
>> here: http://core.trac.wordpress.**org/ticket/18079<http://core.trac.wordpress.org/ticket/18079>
>>
>> This has not made it into 3.3, but if you apply that patch to 3.2, you
>> can get your sites up and running today.
>>
>>
>
Sadly, this did not get us where we needed to be. The patch applied fine,
but we still had issues. (Its perfectly possible that in trying to
configure our way passed this, we had screwed something non-obvious up in
the process.)

The client is now OK breaking this installation into two separate
installations, which will get us over this hump, and probably a better plan
in this situation anyway.

Thanks.

-- 
Hal

From justin at justintadlock.com  Tue Nov 22 23:31:35 2011
From: justin at justintadlock.com (Justin Tadlock)
Date: Tue, 22 Nov 2011 17:31:35 -0600
Subject: [wp-hackers] Adding a meta_box to all Post Types
In-Reply-To: <BDCDB469E9C1B040A29DD08A1D8A896E06D5BDC587@DC.epyllion.com>
References: <CAJ=bSSboiJsa_2SjQuWuQhrTdea92saszaW=x=KFc8-Xm0R96A@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E06D5BDC587@DC.epyllion.com>
Message-ID: <4ECC30D7.20300@justintadlock.com>

Assuming you're hooking to `add_meta_boxes()`, the first parameter 
passed to your action is the post type.

add_action( 'add_meta_boxes', 'my_meta_boxes' );

function my_meta_boxes( $post_type ) {

     $post_type_object = get_post_type_object( $post_type );

     if ( true === $post_type_object->public )
         add_meta_box();
}

On 11/21/2011 12:16 PM, Dagan Henderson wrote:
> I just did this the other day, James, so good timing.
>
> Just geet a list of post types and loop through it:
>
> 	$post_types = get_post_types( array( '_builtin' =>  false ), 'objects' );  // Gets all custom types
>
> 	array_push( $post_types, get_post_type_object( 'post' ), get_post_type_object( 'page')  ); // Adds back the 'post' and 'page' types while ommitting attachments, revisions, menus, etc.
>
> 	foreach ( $post_types as $type ) {
>
> 		add_meta_box( . . . );
> 	}
>
> Happy coding!
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of James Laws
> Sent: Monday, November 21, 2011 6:20 AM
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Adding a meta_box to all Post Types
>
> Could anyone point me in the right direction to add custom meta box to all public post types?
>
> Thanks in advance.
>
> James
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From jamielaws at gmail.com  Tue Nov 22 03:02:05 2011
From: jamielaws at gmail.com (James Laws)
Date: Mon, 21 Nov 2011 22:02:05 -0500
Subject: [wp-hackers] Adding a meta_box to all Post Types
In-Reply-To: <4ECC30D7.20300@justintadlock.com>
References: <CAJ=bSSboiJsa_2SjQuWuQhrTdea92saszaW=x=KFc8-Xm0R96A@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E06D5BDC587@DC.epyllion.com>
	<4ECC30D7.20300@justintadlock.com>
Message-ID: <CAJ=bSSaqt8g4WhR_hz4Mw8Df+rguycPLtic4USjMbdz_MXzA8A@mail.gmail.com>

Thanks for the replies and pointing me in the right direction.

James

On Tue, Nov 22, 2011 at 6:31 PM, Justin Tadlock <justin at justintadlock.com>wrote:

> Assuming you're hooking to `add_meta_boxes()`, the first parameter passed
> to your action is the post type.
>
> add_action( 'add_meta_boxes', 'my_meta_boxes' );
>
> function my_meta_boxes( $post_type ) {
>
>    $post_type_object = get_post_type_object( $post_type );
>
>    if ( true === $post_type_object->public )
>        add_meta_box();
>
> }
>
> On 11/21/2011 12:16 PM, Dagan Henderson wrote:
>
>> I just did this the other day, James, so good timing.
>>
>> Just geet a list of post types and loop through it:
>>
>>        $post_types = get_post_types( array( '_builtin' =>  false ),
>> 'objects' );  // Gets all custom types
>>
>>        array_push( $post_types, get_post_type_object( 'post' ),
>> get_post_type_object( 'page')  ); // Adds back the 'post' and 'page' types
>> while ommitting attachments, revisions, menus, etc.
>>
>>        foreach ( $post_types as $type ) {
>>
>>                add_meta_box( . . . );
>>        }
>>
>> Happy coding!
>>
>>
>> -----Original Message-----
>> From: wp-hackers-bounces at lists.**automattic.com<wp-hackers-bounces at lists.automattic.com>[mailto:
>> wp-hackers-bounces@**lists.automattic.com<wp-hackers-bounces at lists.automattic.com>]
>> On Behalf Of James Laws
>> Sent: Monday, November 21, 2011 6:20 AM
>> To: wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>> Subject: [wp-hackers] Adding a meta_box to all Post Types
>>
>> Could anyone point me in the right direction to add custom meta box to
>> all public post types?
>>
>> Thanks in advance.
>>
>> James
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
>>
>>  ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From mamun155 at live.com  Tue Nov 22 10:16:03 2011
From: mamun155 at live.com (Md Mahmudur Rahman)
Date: Tue, 22 Nov 2011 21:16:03 +1100
Subject: [wp-hackers] =?windows-1256?q?wp=5Fusermeta_wp=5Fusersettings=FE?=
Message-ID: <BLU133-W173889678968F73571DFE9E8C80@phx.gbl>


Dear wp-hackers,
I would like to know what does these meta_value means for wp_usersettings meta_key in wp_usermeta table?
meta_key: wp_usersettingsmeta_value: m1=o&m3=o&m0=o&m2=o

Thanks for your time.

Regards,

Mahmudur 		 	   		  

From johnbillion+wp at gmail.com  Tue Nov 22 11:26:09 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Tue, 22 Nov 2011 11:26:09 +0000
Subject: [wp-hackers]
	=?utf-8?q?wp=5Fusermeta_wp=5Fusersettings=E2=80=8F?=
In-Reply-To: <BLU133-W173889678968F73571DFE9E8C80@phx.gbl>
References: <BLU133-W173889678968F73571DFE9E8C80@phx.gbl>
Message-ID: <CAOqAKWCKVRW8YiGOjSqoxnxcUd+P9+pQGzNVMb0ThRwsyGan5g@mail.gmail.com>

2011/11/22 Md Mahmudur Rahman <mamun155 at live.com>:
>
> Dear wp-hackers,
> I would like to know what does these meta_value means for wp_usersettings meta_key in wp_usermeta table?
> meta_key: wp_usersettingsmeta_value: m1=o&m3=o&m0=o&m2=o

They are used to store various settings and preferences on a per-user
level. For example, the uploader interface (Flash or HTML), the last
used options on the media screen, and the editor (Visual or HTML).

To access these settings you can use the get_user_setting() function.

John

From burobjorn at gmail.com  Tue Nov 22 16:23:00 2011
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Tue, 22 Nov 2011 17:23:00 +0100
Subject: [wp-hackers] Which hooks to alter the post tags metabox?
Message-ID: <4ECBCC64.30606@gmail.com>

Hi,

I'm trying to add more info to the post tags form (in 
wp-admin/post-new.php) using the hooks:

'tag_category_form'
'tag_edit_form_fields'
'tag_edit_form'
'tag_add_form_fields'
'tag_add_form'

However this does not work. I'm not sure about these hooks, since it 
doesn't work (the callback does not seem to be called). Any hints on 
which hooks I can use to alter the post tags metabox?

Btw my goal is to add more lists like the 'choose from the most used 
tags' as a means of helping users select certain 'required' tags, which 
may not exist in the db already. Perhaps such a plugin exists already?

Thanks in advance!

grtz
BjornW

From pauli.price at gmail.com  Tue Nov 22 21:06:07 2011
From: pauli.price at gmail.com (Pauli Price)
Date: Tue, 22 Nov 2011 16:06:07 -0500
Subject: [wp-hackers] Concept for a community video plugin
In-Reply-To: <CAM0n84CqiE9Z+8Q+puqc8yyXFvFHyhGFaHKAihy5FgnpsuT3QA@mail.gmail.com>
References: <4EC9097D.3070203@stardart.net>
	<CAM0n84CqiE9Z+8Q+puqc8yyXFvFHyhGFaHKAihy5FgnpsuT3QA@mail.gmail.com>
Message-ID: <CAMAwOQ80cJ4jyUr7emmg_FzRRwZ0OW=Uvh2vVEqmqgcck3tHfA@mail.gmail.com>

I can foresee using such a plugin in my work.

I like that WordPress roles and capabilities provide the potential to
enable access controls for video publishing on the 3rd party site that may
not otherwise be possible.

I also like that pipe-lining the submission simplifies the publishing
process to a single point of entry, creating a post on the site and a video
submission on the video hosting site in one pass instead of two.

I'll be following your progress with interest.

Pauli

On Sun, Nov 20, 2011 at 4:29 PM, Carl Roett <carlroett at gmail.com> wrote:

> You should get in touch with the BP-Media team.
>
> http://code.google.com/p/buddypress-media/
> http://code.google.com/p/buddypress-media/downloads/list
>
>
> ^C^
>
>
> On Sun, Nov 20, 2011 at 7:06 AM, Mark W. Kidd <mark at stardart.net> wrote:
>
> > Hi folks,
> >
> > I am interested in creating a pool of funds (bounty) to build a community
> > video plugin or add new features to an existing plugin to achieve the
> same
> > functionality. Sometime soon, I anticipate circulating a description of
> the
> > project to some Wordpress developers to gauge the cost and complexity for
> > the work.
> >
> > I would be very grateful for any ideas or feedback on my draft
> > description, which I'm pasting below. I'm hoping in particular whether
> > there are key aspects of creating a plugin I've overlooked, or unanswered
> > questions that come to mind when you see this.
> >
> > Also, maybe the most important feedback would be: do you as a developer
> > see any value in this kind of plugin for your own clients or projects?
> >
> > Best,
> > Mark
> >
> > *
> > What*
> > This project will put video blogging and video podcasting in easy reach
> of
> > community artists and organizations with limited access to technical
> > expertise or funding. This will take the form of a open-source Wordpress
> > plugin and companion website to explain its features and provide examples
> > of the plugin in use.
> >
> > The community video plugin will enable organizations to build free or
> > low-cost websites with Wordpress where posting video is as simple and
> > accessible as uploading and embedding photos has become via WYSIWYG
> > editors. In order to make sites using the plugin scale with surges in
> > traffic or without financial resources for media hosting, the plugin will
> > make use of the YouTube API to store user-submitted videos on YouTube.
> >
> > *Community Video Wordpress Plugin*
> >
> > *Key Features*
> >
> >  * Enable the front-end creation of new posts featuring an embedded
> >   video by registered or unregistered users.
> >  * The user is presented with a button (or other interface element) for
> >   uploading their video directly from the submission form where it
> >   will be hosted to YouTube. The plugin passes the post's title,
> >   excerpt, tags, and body from the Wordpress form to YouTube so that
> >   this content is also present on the YouTube page for the video.
> >  * Users do not need a YouTube account - the site owner designates a
> >   YouTube channel on the back-end and all videos are uploaded there.
> >  * Allow the site owner to specify which license(s) is/are available
> >   for users to submit their videos
> >  * Optionally allow a safety/archival copy of the video file to be kept
> >   on the local web server
> >  * Must be installable and maintainable by a broad base of users. The
> >   documentation should be written for a similar technical proficiency
> >   to consumer electronics. Framing question: Could the
> >   technical-minded niece or nephew of the family install this plugin?
> >  * Open-source licensed
> >  * Distributed alongside a simple WordPress theme and recommended
> >   configuration which demonstrate the plugin features
> >
> > *Why*
> > Web media offers the promise that people and communities who are the
> > subjects or consumers of media can be involved in its development from
> > inception through publication; fulfilling that promise requires
> > collaboration between media organizations, technologists, artists, and
> > members of these communities to ensure that the web offers equitable
> > platforms for community speech and creativity.  As a baseline for such
> > platforms and tools to be equitable, they must be accessible to those
> most
> > affected by pressing issues, whether local or international, regardless
> of
> > technical expertise or financial resources.
> >
> > The story-gathering processes long employed in community media are often
> > an expression of the same cultural values that open source and Creative
> > Commons (or "copyleft") practitioners are advancing today on the web.
> > Technologists have created a vocabulary and the intellectual property
> > framework to support equitable and innovative creation, collaboration,
> and
> > movement-building as they are practiced online. This project seeks to
> > bridge these two ways of knowing about media to produce a democratic tool
> > for the web.
> >
> > *How*
> > _Inspirations_
> >    Integrated YouTube submission form at
> http://www.kitescampaigns.org/**
> > submissions/add/ <http://www.kitescampaigns.org/submissions/add/>(ExpressionEngine/PHP
> source available upon request)
> >    We Are the 99 Percent photo submission form:
> http://wearethe99percent.*
> > *tumblr.com/submit/ <http://wearethe99percent.tumblr.com/submit/>
> >
> > _Extend an existing plugin?_
> >    Quick Post Widget: http://wordpress.org/extend/**
> > plugins/quick-post-widget/<
> http://wordpress.org/extend/plugins/quick-post-widget/>
> >
> > --
> > Mark W. Kidd
> > Roadside Theater - Thousand Kites - Appalshop
> >
> > 606-536-0115 (cell)
> > roadside.org
> > thousandkites.org
> > appalshop.org
> >
> > ______________________________**_________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> > http://lists.automattic.com/**mailman/listinfo/wp-hackers<
> http://lists.automattic.com/mailman/listinfo/wp-hackers>
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From icwordpress at gmail.com  Tue Nov 22 21:47:34 2011
From: icwordpress at gmail.com (IC IC)
Date: Tue, 22 Nov 2011 13:47:34 -0800
Subject: [wp-hackers] permalinks with pathinfo
Message-ID: <CABybnchvep7U8AJLbvoQj00HmmkwqOXxh-ZPiogcvTD_J=pcVQ@mail.gmail.com>

With a new godady windows account, and with a fresh installation of
wordpress with no plugins activated, I am having the following issue.

When I go to the permalinks screen, I get to see this

Day and name    http://mysite.com/index.php/2011/11/22/sample-post/
Month and name    http://mysite.com/index.php/2011/11/sample-post/

as opposed to this;

Day and name    http://mysite.com//2011/11/22/sample-post/
Month and name    http://mysite.com/2011/11/sample-post/

Obviously, that index.php in the middle is not my choice. The question how
did it get there? It doe not appear with my other wordpress/godaddy sites.

If I click on the "day and name" common settings option for exammple, the
custom structure is populated as
/index.php/%year%/%monthnum%/%day%/%postname%/

and when I save those changes, ( thoug I do not want that structure), the
site works;  all permalinks are updated to work with the name structure. so
my contactus page becomes http://mysite.com/contactus instead of the
page_id=3

When I select custom structure and make it /%postname%/ ( as I wanted) , I
end up getting the permalinks to be updated as I like except that I end up
404s on all urls. When I insert the index.php in the middle on a 404 URL,
wordpress is able to find the page.

Any insight in this matter is appreciated.

From Dagan.Henderson at epyllion.com  Tue Nov 22 21:54:45 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Tue, 22 Nov 2011 13:54:45 -0800
Subject: [wp-hackers] permalinks with pathinfo
In-Reply-To: <CABybnchvep7U8AJLbvoQj00HmmkwqOXxh-ZPiogcvTD_J=pcVQ@mail.gmail.com>
References: <CABybnchvep7U8AJLbvoQj00HmmkwqOXxh-ZPiogcvTD_J=pcVQ@mail.gmail.com>
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E070E70F955@DC.epyllion.com>

I haven't played with WordPress on IIS, but I'm assuming the issue relates to the fact that WordPress relies on mod_rewrite in Apache to disguise index.php. Which version of WordPress did you install? There's an IIS-specific version available here: http://wordpress.org/wordpress-3.2.1-IIS.zip 

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of IC IC
Sent: Tuesday, November 22, 2011 1:48 PM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] permalinks with pathinfo

With a new godady windows account, and with a fresh installation of wordpress with no plugins activated, I am having the following issue.

When I go to the permalinks screen, I get to see this

Day and name    http://mysite.com/index.php/2011/11/22/sample-post/
Month and name    http://mysite.com/index.php/2011/11/sample-post/

as opposed to this;

Day and name    http://mysite.com//2011/11/22/sample-post/
Month and name    http://mysite.com/2011/11/sample-post/

Obviously, that index.php in the middle is not my choice. The question how did it get there? It doe not appear with my other wordpress/godaddy sites.

If I click on the "day and name" common settings option for exammple, the custom structure is populated as /index.php/%year%/%monthnum%/%day%/%postname%/

and when I save those changes, ( thoug I do not want that structure), the site works;  all permalinks are updated to work with the name structure. so my contactus page becomes http://mysite.com/contactus instead of the
page_id=3

When I select custom structure and make it /%postname%/ ( as I wanted) , I end up getting the permalinks to be updated as I like except that I end up 404s on all urls. When I insert the index.php in the middle on a 404 URL, wordpress is able to find the page.

Any insight in this matter is appreciated.
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From icwordpress at gmail.com  Tue Nov 22 22:11:46 2011
From: icwordpress at gmail.com (IC IC)
Date: Tue, 22 Nov 2011 14:11:46 -0800
Subject: [wp-hackers] permalinks with pathinfo
In-Reply-To: <BDCDB469E9C1B040A29DD08A1D8A896E070E70F955@DC.epyllion.com>
References: <CABybnchvep7U8AJLbvoQj00HmmkwqOXxh-ZPiogcvTD_J=pcVQ@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E070E70F955@DC.epyllion.com>
Message-ID: <CABybnchYn6xsatrbxd0sEtDWOsayf-2PdkA5_f4NmtmEw_4y8Q@mail.gmail.com>

I did not know that wordpress had an IIS version. I wonder what the
difference is.

GoDaddy has a special interface and they do the install.

I wonder if the problem is with the web.config

Obviously, wordpress can write to it so I can change my urls from p=123 to
/index.php/2011/11/2/whatever

GoDaddy provides 0 support in this matter telling this is a wordpress issue
which I don'tthink it is.
This matter must have to do more with url rewrite, iis and web.config.



On Tue, Nov 22, 2011 at 1:54 PM, Dagan Henderson <
Dagan.Henderson at epyllion.com> wrote:

> I haven't played with WordPress on IIS, but I'm assuming the issue relates
> to the fact that WordPress relies on mod_rewrite in Apache to disguise
> index.php. Which version of WordPress did you install? There's an
> IIS-specific version available here:
> http://wordpress.org/wordpress-3.2.1-IIS.zip
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:
> wp-hackers-bounces at lists.automattic.com] On Behalf Of IC IC
> Sent: Tuesday, November 22, 2011 1:48 PM
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] permalinks with pathinfo
>
> With a new godady windows account, and with a fresh installation of
> wordpress with no plugins activated, I am having the following issue.
>
> When I go to the permalinks screen, I get to see this
>
> Day and name    http://mysite.com/index.php/2011/11/22/sample-post/
> Month and name    http://mysite.com/index.php/2011/11/sample-post/
>
> as opposed to this;
>
> Day and name    http://mysite.com//2011/11/22/sample-post/
> Month and name    http://mysite.com/2011/11/sample-post/
>
> Obviously, that index.php in the middle is not my choice. The question how
> did it get there? It doe not appear with my other wordpress/godaddy sites.
>
> If I click on the "day and name" common settings option for exammple, the
> custom structure is populated as
> /index.php/%year%/%monthnum%/%day%/%postname%/
>
> and when I save those changes, ( thoug I do not want that structure), the
> site works;  all permalinks are updated to work with the name structure. so
> my contactus page becomes http://mysite.com/contactus instead of the
> page_id=3
>
> When I select custom structure and make it /%postname%/ ( as I wanted) , I
> end up getting the permalinks to be updated as I like except that I end up
> 404s on all urls. When I insert the index.php in the middle on a 404 URL,
> wordpress is able to find the page.
>
> Any insight in this matter is appreciated.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From CaptainN at unFocus.com  Tue Nov 22 23:04:07 2011
From: CaptainN at unFocus.com (Kevin Newman)
Date: Tue, 22 Nov 2011 18:04:07 -0500
Subject: [wp-hackers] What does user_can really check?
Message-ID: <4ECC2A67.1010607@unFocus.com>

I wrote a plugin to prune users, and one of the checks I do is this:

user_can( $user->ID, 'subscriber')

It worked for my case, but I'm concerned that it may be too broad for 
general use. That does not return true for other roles - like 
contributor and admin - but the question is, would it return true for 
modified "subscribers" or does changing a user's capabilities 
automatically make them fail this check?

thanks,

Kevin N.

P.S. Here is it the plugin:
https://github.com/unFocus/Prune-Users/blob/master/unfocus-prune.php



From mjsafoxy at gmail.com  Tue Nov 22 23:11:02 2011
From: mjsafoxy at gmail.com (Muhammad Ali)
Date: Tue, 22 Nov 2011 23:11:02 +0000
Subject: [wp-hackers] permalinks with pathinfo
In-Reply-To: <CABybnchYn6xsatrbxd0sEtDWOsayf-2PdkA5_f4NmtmEw_4y8Q@mail.gmail.com>
References: <CABybnchvep7U8AJLbvoQj00HmmkwqOXxh-ZPiogcvTD_J=pcVQ@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E070E70F955@DC.epyllion.com>
	<CABybnchYn6xsatrbxd0sEtDWOsayf-2PdkA5_f4NmtmEw_4y8Q@mail.gmail.com>
Message-ID: <CAMGJ0yxT9AXkn80xatxoXk0R01dmKyazRHBV0u7p=GFtXDs2ew@mail.gmail.com>

Really; can't you just use Apache, Linux hosting? -_-

On 22 November 2011 22:11, IC IC <icwordpress at gmail.com> wrote:

> I did not know that wordpress had an IIS version. I wonder what the
> difference is.
>
> GoDaddy has a special interface and they do the install.
>
> I wonder if the problem is with the web.config
>
> Obviously, wordpress can write to it so I can change my urls from p=123 to
> /index.php/2011/11/2/whatever
>
> GoDaddy provides 0 support in this matter telling this is a wordpress issue
> which I don'tthink it is.
> This matter must have to do more with url rewrite, iis and web.config.
>
>
>
> On Tue, Nov 22, 2011 at 1:54 PM, Dagan Henderson <
> Dagan.Henderson at epyllion.com> wrote:
>
> > I haven't played with WordPress on IIS, but I'm assuming the issue
> relates
> > to the fact that WordPress relies on mod_rewrite in Apache to disguise
> > index.php. Which version of WordPress did you install? There's an
> > IIS-specific version available here:
> > http://wordpress.org/wordpress-3.2.1-IIS.zip
> >
> > -----Original Message-----
> > From: wp-hackers-bounces at lists.automattic.com [mailto:
> > wp-hackers-bounces at lists.automattic.com] On Behalf Of IC IC
> > Sent: Tuesday, November 22, 2011 1:48 PM
> > To: wp-hackers at lists.automattic.com
> > Subject: [wp-hackers] permalinks with pathinfo
> >
> > With a new godady windows account, and with a fresh installation of
> > wordpress with no plugins activated, I am having the following issue.
> >
> > When I go to the permalinks screen, I get to see this
> >
> > Day and name    http://mysite.com/index.php/2011/11/22/sample-post/
> > Month and name    http://mysite.com/index.php/2011/11/sample-post/
> >
> > as opposed to this;
> >
> > Day and name    http://mysite.com//2011/11/22/sample-post/
> > Month and name    http://mysite.com/2011/11/sample-post/
> >
> > Obviously, that index.php in the middle is not my choice. The question
> how
> > did it get there? It doe not appear with my other wordpress/godaddy
> sites.
> >
> > If I click on the "day and name" common settings option for exammple, the
> > custom structure is populated as
> > /index.php/%year%/%monthnum%/%day%/%postname%/
> >
> > and when I save those changes, ( thoug I do not want that structure), the
> > site works;  all permalinks are updated to work with the name structure.
> so
> > my contactus page becomes http://mysite.com/contactus instead of the
> > page_id=3
> >
> > When I select custom structure and make it /%postname%/ ( as I wanted) ,
> I
> > end up getting the permalinks to be updated as I like except that I end
> up
> > 404s on all urls. When I insert the index.php in the middle on a 404 URL,
> > wordpress is able to find the page.
> >
> > Any insight in this matter is appreciated.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ehitter at gmail.com  Tue Nov 22 23:17:52 2011
From: ehitter at gmail.com (Erick Hitter)
Date: Tue, 22 Nov 2011 18:17:52 -0500
Subject: [wp-hackers] What does user_can really check?
In-Reply-To: <4ECC2A67.1010607@unFocus.com>
References: <4ECC2A67.1010607@unFocus.com>
Message-ID: <CADAM20oGjFTx_i-rT+d6tGdGxB4gaKQquDXYNmRn0kbRVvLcwQ@mail.gmail.com>

Kevin,

user_can() checks capabilities, such as *read*, *edit_posts*, *
manage_options*, etc., not a user's specific role. If you're trying to
identify users with a certain role, you need to test what capabilities the
user has or doesn't have.

You should reference the table at
http://codex.wordpress.org/Roles_and_Capabilities#Capability_vs._Role_Tablefor
guidance as to which combination of capabilities will let you isolate
a
user's role. Checking for *edit_posts *or *delete_posts*, for example, will
determine whether or not the current user is a subscriber or more-capable
user.

Erick

On Tue, Nov 22, 2011 at 18:04, Kevin Newman <CaptainN at unfocus.com> wrote:

> I wrote a plugin to prune users, and one of the checks I do is this:
>
> user_can( $user->ID, 'subscriber')
>
> It worked for my case, but I'm concerned that it may be too broad for
> general use. That does not return true for other roles - like contributor
> and admin - but the question is, would it return true for modified
> "subscribers" or does changing a user's capabilities automatically make
> them fail this check?
>
> thanks,
>
> Kevin N.
>
> P.S. Here is it the plugin:
> https://github.com/unFocus/**Prune-Users/blob/master/**unfocus-prune.php<https://github.com/unFocus/Prune-Users/blob/master/unfocus-prune.php>
>
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From otto at ottodestruct.com  Tue Nov 22 23:32:52 2011
From: otto at ottodestruct.com (Otto)
Date: Tue, 22 Nov 2011 17:32:52 -0600
Subject: [wp-hackers] permalinks with pathinfo
In-Reply-To: <CABybnchYn6xsatrbxd0sEtDWOsayf-2PdkA5_f4NmtmEw_4y8Q@mail.gmail.com>
References: <CABybnchvep7U8AJLbvoQj00HmmkwqOXxh-ZPiogcvTD_J=pcVQ@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E070E70F955@DC.epyllion.com>
	<CABybnchYn6xsatrbxd0sEtDWOsayf-2PdkA5_f4NmtmEw_4y8Q@mail.gmail.com>
Message-ID: <CAD-FghwX+3zPeSCRBS83XyrWAycNR_2i_5CpMMESfaML=WrjQg@mail.gmail.com>

Switch from the GoDaddy Windows account to the GoDaddy Linux account.

Really. That will solve almost all your problems. I say that as
somebody who used GoDaddy hosting for years.

-Otto



On Tue, Nov 22, 2011 at 4:11 PM, IC IC <icwordpress at gmail.com> wrote:
> I did not know that wordpress had an IIS version. I wonder what the
> difference is.
>
> GoDaddy has a special interface and they do the install.
>
> I wonder if the problem is with the web.config
>
> Obviously, wordpress can write to it so I can change my urls from p=123 to
> /index.php/2011/11/2/whatever
>
> GoDaddy provides 0 support in this matter telling this is a wordpress issue
> which I don'tthink it is.
> This matter must have to do more with url rewrite, iis and web.config.
>
>
>
> On Tue, Nov 22, 2011 at 1:54 PM, Dagan Henderson <
> Dagan.Henderson at epyllion.com> wrote:
>
>> I haven't played with WordPress on IIS, but I'm assuming the issue relates
>> to the fact that WordPress relies on mod_rewrite in Apache to disguise
>> index.php. Which version of WordPress did you install? There's an
>> IIS-specific version available here:
>> http://wordpress.org/wordpress-3.2.1-IIS.zip
>>
>> -----Original Message-----
>> From: wp-hackers-bounces at lists.automattic.com [mailto:
>> wp-hackers-bounces at lists.automattic.com] On Behalf Of IC IC
>> Sent: Tuesday, November 22, 2011 1:48 PM
>> To: wp-hackers at lists.automattic.com
>> Subject: [wp-hackers] permalinks with pathinfo
>>
>> With a new godady windows account, and with a fresh installation of
>> wordpress with no plugins activated, I am having the following issue.
>>
>> When I go to the permalinks screen, I get to see this
>>
>> Day and name ? ?http://mysite.com/index.php/2011/11/22/sample-post/
>> Month and name ? ?http://mysite.com/index.php/2011/11/sample-post/
>>
>> as opposed to this;
>>
>> Day and name ? ?http://mysite.com//2011/11/22/sample-post/
>> Month and name ? ?http://mysite.com/2011/11/sample-post/
>>
>> Obviously, that index.php in the middle is not my choice. The question how
>> did it get there? It doe not appear with my other wordpress/godaddy sites.
>>
>> If I click on the "day and name" common settings option for exammple, the
>> custom structure is populated as
>> /index.php/%year%/%monthnum%/%day%/%postname%/
>>
>> and when I save those changes, ( thoug I do not want that structure), the
>> site works; ?all permalinks are updated to work with the name structure. so
>> my contactus page becomes http://mysite.com/contactus instead of the
>> page_id=3
>>
>> When I select custom structure and make it /%postname%/ ( as I wanted) , I
>> end up getting the permalinks to be updated as I like except that I end up
>> 404s on all urls. When I insert the index.php in the middle on a 404 URL,
>> wordpress is able to find the page.
>>
>> Any insight in this matter is appreciated.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From halukkaramete at gmail.com  Tue Nov 22 23:46:56 2011
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Tue, 22 Nov 2011 15:46:56 -0800
Subject: [wp-hackers] permalinks with pathinfo
In-Reply-To: <CAD-FghwX+3zPeSCRBS83XyrWAycNR_2i_5CpMMESfaML=WrjQg@mail.gmail.com>
References: <CABybnchvep7U8AJLbvoQj00HmmkwqOXxh-ZPiogcvTD_J=pcVQ@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E070E70F955@DC.epyllion.com>
	<CABybnchYn6xsatrbxd0sEtDWOsayf-2PdkA5_f4NmtmEw_4y8Q@mail.gmail.com>
	<CAD-FghwX+3zPeSCRBS83XyrWAycNR_2i_5CpMMESfaML=WrjQg@mail.gmail.com>
Message-ID: <CAHERW=0Jg=3YTQEVxDs5FBc5_Z-ZqeF=uQ+iNDwb9oJ+gry_1g@mail.gmail.com>

I will have to do that for this client.
But for some sites, where I need ASP capability, I will either have to
live with pathinfo based url's or switch to another host that does not
have problem.

but it looks like, we are unable  to detect the crux of the matter.
why is a fresh install's common settings suggest pathinfo urls as
opposed to the pretty ones.



On Tue, Nov 22, 2011 at 3:32 PM, Otto <otto at ottodestruct.com> wrote:
> Switch from the GoDaddy Windows account to the GoDaddy Linux account.
>
> Really. That will solve almost all your problems. I say that as
> somebody who used GoDaddy hosting for years.
>
> -Otto
>
>
>
> On Tue, Nov 22, 2011 at 4:11 PM, IC IC <icwordpress at gmail.com> wrote:
>> I did not know that wordpress had an IIS version. I wonder what the
>> difference is.
>>
>> GoDaddy has a special interface and they do the install.
>>
>> I wonder if the problem is with the web.config
>>
>> Obviously, wordpress can write to it so I can change my urls from p=123 to
>> /index.php/2011/11/2/whatever
>>
>> GoDaddy provides 0 support in this matter telling this is a wordpress issue
>> which I don'tthink it is.
>> This matter must have to do more with url rewrite, iis and web.config.
>>
>>
>>
>> On Tue, Nov 22, 2011 at 1:54 PM, Dagan Henderson <
>> Dagan.Henderson at epyllion.com> wrote:
>>
>>> I haven't played with WordPress on IIS, but I'm assuming the issue relates
>>> to the fact that WordPress relies on mod_rewrite in Apache to disguise
>>> index.php. Which version of WordPress did you install? There's an
>>> IIS-specific version available here:
>>> http://wordpress.org/wordpress-3.2.1-IIS.zip
>>>
>>> -----Original Message-----
>>> From: wp-hackers-bounces at lists.automattic.com [mailto:
>>> wp-hackers-bounces at lists.automattic.com] On Behalf Of IC IC
>>> Sent: Tuesday, November 22, 2011 1:48 PM
>>> To: wp-hackers at lists.automattic.com
>>> Subject: [wp-hackers] permalinks with pathinfo
>>>
>>> With a new godady windows account, and with a fresh installation of
>>> wordpress with no plugins activated, I am having the following issue.
>>>
>>> When I go to the permalinks screen, I get to see this
>>>
>>> Day and name ? ?http://mysite.com/index.php/2011/11/22/sample-post/
>>> Month and name ? ?http://mysite.com/index.php/2011/11/sample-post/
>>>
>>> as opposed to this;
>>>
>>> Day and name ? ?http://mysite.com//2011/11/22/sample-post/
>>> Month and name ? ?http://mysite.com/2011/11/sample-post/
>>>
>>> Obviously, that index.php in the middle is not my choice. The question how
>>> did it get there? It doe not appear with my other wordpress/godaddy sites.
>>>
>>> If I click on the "day and name" common settings option for exammple, the
>>> custom structure is populated as
>>> /index.php/%year%/%monthnum%/%day%/%postname%/
>>>
>>> and when I save those changes, ( thoug I do not want that structure), the
>>> site works; ?all permalinks are updated to work with the name structure. so
>>> my contactus page becomes http://mysite.com/contactus instead of the
>>> page_id=3
>>>
>>> When I select custom structure and make it /%postname%/ ( as I wanted) , I
>>> end up getting the permalinks to be updated as I like except that I end up
>>> 404s on all urls. When I insert the index.php in the middle on a 404 URL,
>>> wordpress is able to find the page.
>>>
>>> Any insight in this matter is appreciated.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at dd32.id.au  Tue Nov 22 23:53:49 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Wed, 23 Nov 2011 10:53:49 +1100
Subject: [wp-hackers] permalinks with pathinfo
In-Reply-To: <CAHERW=0Jg=3YTQEVxDs5FBc5_Z-ZqeF=uQ+iNDwb9oJ+gry_1g@mail.gmail.com>
References: <CABybnchvep7U8AJLbvoQj00HmmkwqOXxh-ZPiogcvTD_J=pcVQ@mail.gmail.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E070E70F955@DC.epyllion.com>
	<CABybnchYn6xsatrbxd0sEtDWOsayf-2PdkA5_f4NmtmEw_4y8Q@mail.gmail.com>
	<CAD-FghwX+3zPeSCRBS83XyrWAycNR_2i_5CpMMESfaML=WrjQg@mail.gmail.com>
	<CAHERW=0Jg=3YTQEVxDs5FBc5_Z-ZqeF=uQ+iNDwb9oJ+gry_1g@mail.gmail.com>
Message-ID: <CAL4EHfnchNnV=dDZ2P5nZM1p4x3tkDZfbiq_thbTdfWMdsJ2Lw@mail.gmail.com>

WordPress will suggest PathInfo URL's if it can't detect a URL rewrite
function enabled - It does this through testing for definite
capabilities it can detect, NOT by actually calling the server and
seeing if it responds correctly, WordPress does this to maximise
compatibility (ie. Don't allow something to be chosen if there's a
possibility to break)

WordPress support IIS7 and Apache, It doesn't support nginx although
it works fine with that, same as Lightspeed.
If WordPress offers Pathinfo url's, and you know the system can handle
"normal" rewritten url's, you can remove the /index.php/ section from
the permalink, just use the custom rule part and alter it there.

For the function that detects iss7 rewrite support check out this:
http://core.trac.wordpress.org/browser/trunk/wp-includes/functions.php#L3602

and make sure you have the "URL Rewrite Module 1.1" or later installed
on the server, I don't believe it's installed by default. (But I
haven't used IIS7, only earlier versions)


On 23 November 2011 10:46, Haluk Karamete <halukkaramete at gmail.com> wrote:
> I will have to do that for this client.
> But for some sites, where I need ASP capability, I will either have to
> live with pathinfo based url's or switch to another host that does not
> have problem.
>
> but it looks like, we are unable ?to detect the crux of the matter.
> why is a fresh install's common settings suggest pathinfo urls as
> opposed to the pretty ones.
>
>
>
> On Tue, Nov 22, 2011 at 3:32 PM, Otto <otto at ottodestruct.com> wrote:
>> Switch from the GoDaddy Windows account to the GoDaddy Linux account.
>>
>> Really. That will solve almost all your problems. I say that as
>> somebody who used GoDaddy hosting for years.
>>
>> -Otto
>>
>>
>>
>> On Tue, Nov 22, 2011 at 4:11 PM, IC IC <icwordpress at gmail.com> wrote:
>>> I did not know that wordpress had an IIS version. I wonder what the
>>> difference is.
>>>
>>> GoDaddy has a special interface and they do the install.
>>>
>>> I wonder if the problem is with the web.config
>>>
>>> Obviously, wordpress can write to it so I can change my urls from p=123 to
>>> /index.php/2011/11/2/whatever
>>>
>>> GoDaddy provides 0 support in this matter telling this is a wordpress issue
>>> which I don'tthink it is.
>>> This matter must have to do more with url rewrite, iis and web.config.
>>>
>>>
>>>
>>> On Tue, Nov 22, 2011 at 1:54 PM, Dagan Henderson <
>>> Dagan.Henderson at epyllion.com> wrote:
>>>
>>>> I haven't played with WordPress on IIS, but I'm assuming the issue relates
>>>> to the fact that WordPress relies on mod_rewrite in Apache to disguise
>>>> index.php. Which version of WordPress did you install? There's an
>>>> IIS-specific version available here:
>>>> http://wordpress.org/wordpress-3.2.1-IIS.zip
>>>>
>>>> -----Original Message-----
>>>> From: wp-hackers-bounces at lists.automattic.com [mailto:
>>>> wp-hackers-bounces at lists.automattic.com] On Behalf Of IC IC
>>>> Sent: Tuesday, November 22, 2011 1:48 PM
>>>> To: wp-hackers at lists.automattic.com
>>>> Subject: [wp-hackers] permalinks with pathinfo
>>>>
>>>> With a new godady windows account, and with a fresh installation of
>>>> wordpress with no plugins activated, I am having the following issue.
>>>>
>>>> When I go to the permalinks screen, I get to see this
>>>>
>>>> Day and name ? ?http://mysite.com/index.php/2011/11/22/sample-post/
>>>> Month and name ? ?http://mysite.com/index.php/2011/11/sample-post/
>>>>
>>>> as opposed to this;
>>>>
>>>> Day and name ? ?http://mysite.com//2011/11/22/sample-post/
>>>> Month and name ? ?http://mysite.com/2011/11/sample-post/
>>>>
>>>> Obviously, that index.php in the middle is not my choice. The question how
>>>> did it get there? It doe not appear with my other wordpress/godaddy sites.
>>>>
>>>> If I click on the "day and name" common settings option for exammple, the
>>>> custom structure is populated as
>>>> /index.php/%year%/%monthnum%/%day%/%postname%/
>>>>
>>>> and when I save those changes, ( thoug I do not want that structure), the
>>>> site works; ?all permalinks are updated to work with the name structure. so
>>>> my contactus page becomes http://mysite.com/contactus instead of the
>>>> page_id=3
>>>>
>>>> When I select custom structure and make it /%postname%/ ( as I wanted) , I
>>>> end up getting the permalinks to be updated as I like except that I end up
>>>> 404s on all urls. When I insert the index.php in the middle on a 404 URL,
>>>> wordpress is able to find the page.
>>>>
>>>> Any insight in this matter is appreciated.
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From halukkaramete at gmail.com  Wed Nov 23 03:43:51 2011
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Tue, 22 Nov 2011 19:43:51 -0800
Subject: [wp-hackers] Achieving the custom taxonomy power with using only
 the standard cats and tags
Message-ID: <CAHERW=13PNYN8rV48+gv0DY2E=aFuS9RJmhiAsO5WA2DqgOSkg@mail.gmail.com>

For this question, let's assume, that your clients wants to use only
the cats and the tags which comes with WP right out of the box.
and he do not plan on creating/maintaining any additional ( custom)
taxonomies. And he is interested in building a portal that is expected
to deal with ten's of thousands of posts across say a 50 category or
so - covering a wide range of topics.

And he wants the ultimate simplicity at post time.

The question is if there is a way to achieve what he wants without
sacrificing the quality as far as relational data quality.

With using only the cats and tags, no doubt he will have a very fast
way data entry. Maybe a 50 category is too much, but he can breake
that down to levels so that the top level is 10 or so....  However,
that's not the problem I'm interested in solving...  It's the problem
of tags', growing without context. The tag terms will not have any
perspective, leading to a tag soup. A tag such as Apple will match
posts not just from the computers category but also from the food
category - which absolutely makes no sense to the site visitors.

These says, I'm exploring a wild concept to see if a plug in could
work behind the scenes to bring a law and order to this process -
while keeping the data-entry as simple as possible/

For the sake of this question, let's create a hypothetical case,

Let's assume that one of the cats happens to be "food" category.

And here comes a post that deals with "apple".

we tag it as "apple" and we categorize the post under the "food"
category and and we move on. simply enough...

ten post down to road, here comes another post again about "apple",
but this time it is about the Steve Job's apple! We still tag it as
"apple" but this time, we categorize the post under technology
category. And that's all we do.

The problem becomes apparent when we display the food post along with
its corresponding tags.

We will get to see a link that shows as

Categories: Food
Tags: apple

And needless to say, when we click on the "apple" tag link, we will be
getting all the content tagged as apple regardless of the fact whether
it was related to food or not! This would lead frustration on the
user's part and resonate as an editorial failure as far as content
classification.

Sure, we could have avoided this problem by taxonomies or maybe by
tagging items as apple-computers, apple-food... but here, the client
does not want that, he is only interested in east content
classification.

I was wondering if the following can be done to remedy this situation.

Build a plug in.

At post saving time, let this plugin create a custom taxonomy on the
fly ( programmatically) matching the current category name that the
post is being associated with. if such a custom taxonomy were
existing, then it would skip the creation.

Plug in, also creates the necessary term to be associated with the
current custom taxonomy.

And if that term under that custom taxonomy were existing, again it
would just skip it.

So, in the above example, plug in will end up creating two custom
taxonomies that is food and technology and register apple under them
so we get the following associations;

/technology/apple
/food/apple


This approach will keep the content entry process still simple while
keeping the apple's in their own proper categories.

And at the time of display, right below the food post, we can still
display the post tag classification as

Tags: apple

but we can modify the link so that instead of linking to /tag/apple,
it would link to /food/apple/

This approach will also allow the content developer to grow various
subjects under various categories organically and thus have the
ability to show the most popular tags as sub categories.

For example, after 100's of posts, the tags growing under the
technology taxonomy can be shown as sub categories.

technology
    apple
    ibm
    hp
    ....

so what used to be entered as tag once will end up being presented as
a sub category and all this is achieved with an organic and effortless
style.

I'd like to hear your opinions on this.

Does such a thing already exists? What are the pro's and con's of this
approach? Or are there better ways you can suggest?

From CaptainN at unFocus.com  Wed Nov 23 04:18:58 2011
From: CaptainN at unFocus.com (Kevin Newman)
Date: Tue, 22 Nov 2011 23:18:58 -0500
Subject: [wp-hackers] What does user_can really check?
In-Reply-To: <CADAM20oGjFTx_i-rT+d6tGdGxB4gaKQquDXYNmRn0kbRVvLcwQ@mail.gmail.com>
References: <4ECC2A67.1010607@unFocus.com>
	<CADAM20oGjFTx_i-rT+d6tGdGxB4gaKQquDXYNmRn0kbRVvLcwQ@mail.gmail.com>
Message-ID: <4ECC7432.3070206@unFocus.com>

That's what I figured, however, the example I posted does actually work:
user_can( $user->ID, 'subscriber')

That returns users that have the same set of caps as a subscriber - but 
not those that have subscriber caps, but also additional caps. Well 
actually I'm not sure about that. I am sure it doesn't return true for 
users that have "read" cap - the only cap a subscriber has) plus the 
caps of Administrators, or Contributors, etc. - all of which have the 
"read" cap).

There are clear roles in WP - in user management for example, the user 
filters (Administrators (x), Contributors (x), Subscribers (x) ) - it's 
these roles that I specifically need to target for user pruning, and the 
do seem to be top level concepts in the UI at least.

The only way I can think to do it by caps would be through a method that 
confirms a user *only* has read caps, otherwise I'd delete all the 
users, since they all have read.

Kevin N.


On 11/22/2011 6:17 PM, Erick Hitter wrote:
> user_can() checks capabilities, such as*read*,*edit_posts*, *
> manage_options*, etc., not a user's specific role. If you're trying to
> identify users with a certain role, you need to test what capabilities the
> user has or doesn't have.
>
> You should reference the table at
> http://codex.wordpress.org/Roles_and_Capabilities#Capability_vs._Role_Tablefor
> guidance as to which combination of capabilities will let you isolate
> a
> user's role. Checking for*edit_posts *or *delete_posts*, for example, will
> determine whether or not the current user is a subscriber or more-capable
> user.


From wordpress at dd32.id.au  Wed Nov 23 04:36:38 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Wed, 23 Nov 2011 15:36:38 +1100
Subject: [wp-hackers] What does user_can really check?
In-Reply-To: <4ECC7432.3070206@unFocus.com>
References: <4ECC2A67.1010607@unFocus.com>
	<CADAM20oGjFTx_i-rT+d6tGdGxB4gaKQquDXYNmRn0kbRVvLcwQ@mail.gmail.com>
	<4ECC7432.3070206@unFocus.com>
Message-ID: <CAL4EHfkGKt3qnNzEO+itOdfH7Mjf1dcs4UDR+AJx=mnaGn4K4Q@mail.gmail.com>

On 23 November 2011 15:18, Kevin Newman <CaptainN at unfocus.com> wrote:
> That's what I figured, however, the example I posted does actually work:
> user_can( $user->ID, 'subscriber')
>
> That returns users that have the same set of caps as a subscriber - but not
> those that have subscriber caps, but also additional caps. Well actually I'm
> not sure about that. I am sure it doesn't return true for users that have
> "read" cap - the only cap a subscriber has) plus the caps of Administrators,
> or Contributors, etc. - all of which have the "read" cap).

current_user_can('subscriber') || user_can( $user_id, 'subscriber')
works due to the capability system including the Roll Slug as a user
capability. AFAIK, this is done for backwards compatibility with code
such as yours.

From wordpress at dd32.id.au  Wed Nov 23 07:24:03 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Wed, 23 Nov 2011 18:24:03 +1100
Subject: [wp-hackers] Which hooks to alter the post tags metabox?
In-Reply-To: <4ECBCC64.30606@gmail.com>
References: <4ECBCC64.30606@gmail.com>
Message-ID: <CAL4EHf=7KoQ88b8KVkqD2KYnbbZL5qaLyq6JFXM8GuA9KUhFRQ@mail.gmail.com>

On 23 November 2011 03:23, Bjorn Wijers <burobjorn at gmail.com> wrote:
> Hi,
>
> I'm trying to add more info to the post tags form (in wp-admin/post-new.php)
> using the hooks:
>
> 'tag_category_form'
> 'tag_edit_form_fields'
> 'tag_edit_form'
> 'tag_add_form_fields'
> 'tag_add_form'
>
> However this does not work. I'm not sure about these hooks, since it doesn't
> work (the callback does not seem to be called). Any hints on which hooks I
> can use to alter the post tags metabox?
>
> Btw my goal is to add more lists like the 'choose from the most used tags'
> as a means of helping users select certain 'required' tags, which may not
> exist in the db already. Perhaps such a plugin exists already?
>
> Thanks in advance!


If you look at where those hooks are called from, I believe you'll
find that they refer to the Taxonomy Add/Edit forms, rather than the
Taxonomy UI in the post edit page.

I believe you'll need to unregister the taxonomy metaboxes on the post
page, and add your own custom metaboxes.

From carlo at artilibere.com  Wed Nov 23 11:07:29 2011
From: carlo at artilibere.com (Carlo Gandolfo)
Date: Wed, 23 Nov 2011 12:07:29 +0100
Subject: [wp-hackers] MySQL View of every posts in a WP network
Message-ID: <CAANB5T66UJfGtiNQYFVFLEwNGkTwJMrRk3Lv6=89wXUW_5UvTQ@mail.gmail.com>

Hello everybody,
I got a WP network whose posts tables are named:

> wp_1_posts
> wp_2_posts
> wp_3_posts
> ...
> wp_n_posts
>


and I wish to build a view in MySql to gather all the contents (with limit
20) in a single block.
That could be very useful to query and filter without having to loop
through php.

Anybody has hints to do that?

Thank a lot,
Carlo

From louy08 at gmail.com  Wed Nov 23 13:51:43 2011
From: louy08 at gmail.com (Louy)
Date: Wed, 23 Nov 2011 15:51:43 +0200
Subject: [wp-hackers] MySQL View of every posts in a WP network
In-Reply-To: <CAANB5T66UJfGtiNQYFVFLEwNGkTwJMrRk3Lv6=89wXUW_5UvTQ@mail.gmail.com>
References: <CAANB5T66UJfGtiNQYFVFLEwNGkTwJMrRk3Lv6=89wXUW_5UvTQ@mail.gmail.com>
Message-ID: <CAM_nYgxqcYxLM9yeH-RByPMgLiHmNU+e9Sf1Nc8XgFoBZwvu_A@mail.gmail.com>

hmmm... i don't guess a view would be possible, you might want to try
something like this:


> <?
> $blog_list = get_blog_list( 0, 'all' );
> $sql = '';
> foreach ($blog_list AS $blog) {
>     $table = $wpdb->prefix.$blog['blog_id'].'_posts';
>     $sql .= "(SELECT * from {$table} where ...)" .

            " UNION ";

}
> $sql = substr($sql, 0, -7);


P.S. I didn't test this.

http://codex.wordpress.org/WPMU_Functions/get_blog_list
http://stackoverflow.com/questions/409705/mysql-selecting-data-from-multiple-tables-all-with-same-structure-but-differen

On Wed, Nov 23, 2011 at 1:07 PM, Carlo Gandolfo <carlo at artilibere.com>wrote:

> Hello everybody,
> I got a WP network whose posts tables are named:
>
> > wp_1_posts
> > wp_2_posts
> > wp_3_posts
> > ...
> > wp_n_posts
> >
>
>
> and I wish to build a view in MySql to gather all the contents (with limit
> 20) in a single block.
> That could be very useful to query and filter without having to loop
> through php.
>
> Anybody has hints to do that?
>
> Thank a lot,
> Carlo
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Louy Alakkad
A web developer
about.me/louy

From otto at ottodestruct.com  Wed Nov 23 13:53:47 2011
From: otto at ottodestruct.com (Otto)
Date: Wed, 23 Nov 2011 07:53:47 -0600
Subject: [wp-hackers] MySQL View of every posts in a WP network
In-Reply-To: <CAANB5T66UJfGtiNQYFVFLEwNGkTwJMrRk3Lv6=89wXUW_5UvTQ@mail.gmail.com>
References: <CAANB5T66UJfGtiNQYFVFLEwNGkTwJMrRk3Lv6=89wXUW_5UvTQ@mail.gmail.com>
Message-ID: <CAD-FghzB2utCCWFX1x-1kPLBn_pFw0xGe06gW+p5hRqKRa5QSA@mail.gmail.com>

There is no such thing as a wildcard table specifier in SQL. So SELECT
* FROM wp_1_posts UNION ALL SELECT * FROM wp_2_posts UNION ALL SELECT
* FROM wp_3_posts... is the only way to do it.

Forget about it. Use PHP.

-Otto



On Wed, Nov 23, 2011 at 5:07 AM, Carlo Gandolfo <carlo at artilibere.com> wrote:
> Hello everybody,
> I got a WP network whose posts tables are named:
>
>> wp_1_posts
>> wp_2_posts
>> wp_3_posts
>> ...
>> wp_n_posts
>>
>
>
> and I wish to build a view in MySql to gather all the contents (with limit
> 20) in a single block.
> That could be very useful to query and filter without having to loop
> through php.
>
> Anybody has hints to do that?
>
> Thank a lot,
> Carlo
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From CaptainN at unFocus.com  Wed Nov 23 18:15:43 2011
From: CaptainN at unFocus.com (Kevin Newman)
Date: Wed, 23 Nov 2011 13:15:43 -0500
Subject: [wp-hackers] What does user_can really check?
In-Reply-To: <CAL4EHfkGKt3qnNzEO+itOdfH7Mjf1dcs4UDR+AJx=mnaGn4K4Q@mail.gmail.com>
References: <4ECC2A67.1010607@unFocus.com>
	<CADAM20oGjFTx_i-rT+d6tGdGxB4gaKQquDXYNmRn0kbRVvLcwQ@mail.gmail.com>
	<4ECC7432.3070206@unFocus.com>
	<CAL4EHfkGKt3qnNzEO+itOdfH7Mjf1dcs4UDR+AJx=mnaGn4K4Q@mail.gmail.com>
Message-ID: <4ECD384F.5040008@unFocus.com>

"Roles" (as a set of caps - pretty standard stuff in granular 
permissions systems) are used too widely in the WordPress admin to be 
deprecated. User levels have been deprecated (and rightly so) but roles 
have not been. The codex makes this pretty clear - roles are NOT 
deprecated: http://codex.wordpress.org/Roles_and_Capabilities

Anyway, all I really need to know is, if I take a subscriber (as a 
shorthand for checking the user has ONLY "read" cap), and give them an 
additional cap, will that change their role to something other than 
subscriber, or does the role have to be specifically changed? That's the 
question.

To make this clearer in the API, I would suggest a user_is method be 
added to core, as a way to check for a specific role, rather than 
overloading the user_can method (incorrectly) the way it is now. 
Incorrectly because "user_can" - "do what subscriber can do" - it should 
return true for admins, contribs, etc. when you check for "subscriber" 
caps - but now it returns false.

Kevin N.


On 11/22/11 11:36 PM, Dion Hulse (dd32) wrote:
> current_user_can('subscriber') || user_can( $user_id, 'subscriber')
> works due to the capability system including the Roll Slug as a user
> capability. AFAIK, this is done for backwards compatibility with code
> such as yours.


From wordpress at dd32.id.au  Wed Nov 23 23:46:02 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 24 Nov 2011 10:46:02 +1100
Subject: [wp-hackers] What does user_can really check?
In-Reply-To: <4ECD384F.5040008@unFocus.com>
References: <4ECC2A67.1010607@unFocus.com>
	<CADAM20oGjFTx_i-rT+d6tGdGxB4gaKQquDXYNmRn0kbRVvLcwQ@mail.gmail.com>
	<4ECC7432.3070206@unFocus.com>
	<CAL4EHfkGKt3qnNzEO+itOdfH7Mjf1dcs4UDR+AJx=mnaGn4K4Q@mail.gmail.com>
	<4ECD384F.5040008@unFocus.com>
Message-ID: <CAL4EHfnmXQ+O4Pb5kzKC9drwpA7Nv4RCe0C69pA2mQ0AozTbYQ@mail.gmail.com>

On 24 November 2011 05:15, Kevin Newman <CaptainN at unfocus.com> wrote:
> Anyway, all I really need to know is, if I take a subscriber (as a shorthand
> for checking the user has ONLY "read" cap), and give them an additional cap,
> will that change their role to something other than subscriber, or does the
> role have to be specifically changed? That's the question.

If you give the "subscriber" role EVERY capability possible, they will
still be a Subscriber, and current_user_can('subscriber') will return
true.
If you remove every capability from the Administrator role,
current_user_can('administrator') will return true, however,
current_user_can('publish_posts'); would return false.
The only way to "know" is 1 user role is "greater than" another user
role, is to compare that one has a subset of the others capabilities -
and even then, that's not really possible either in some cases.

So: Roles are NOT hierarchical. They have no order to them, other than
human's opinion of "importance". This is why you check for a given
Capability when processing a request, rather than what role they're
in.
If you want to "trim the fat" and only care about users that can add
posts, you might want to do !user_can($id, 'edit_posts'); or
something.. Something that identifies the capability that you deem
"important"

> To make this clearer in the API, I would suggest a user_is method be added
> to core, as a way to check for a specific role, rather than overloading the
> user_can method (incorrectly) the way it is now. Incorrectly because
> "user_can" - "do what subscriber can do" - it should return true for admins,
> contribs, etc. when you check for "subscriber" caps - but now it returns
> false.

Except you're not asking "do what a subscriber can" because it has no
knowledge of what you actually want to do.. tell it the action that
you're querying for and it'll tell you straight away the correct
response.
It responding to the role name is just a legacy thing, something that
can't be removed - because people use it unfortunately, same as the
user_levels, that should've gone a long time ago.. but I still correct
examples people put into the codex that use it..

From tcbarrett at gmail.com  Thu Nov 24 06:19:00 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Thu, 24 Nov 2011 06:19:00 +0000
Subject: [wp-hackers] What does user_can really check?
In-Reply-To: <CAL4EHfnmXQ+O4Pb5kzKC9drwpA7Nv4RCe0C69pA2mQ0AozTbYQ@mail.gmail.com>
References: <4ECC2A67.1010607@unFocus.com>
	<CADAM20oGjFTx_i-rT+d6tGdGxB4gaKQquDXYNmRn0kbRVvLcwQ@mail.gmail.com>
	<4ECC7432.3070206@unFocus.com>
	<CAL4EHfkGKt3qnNzEO+itOdfH7Mjf1dcs4UDR+AJx=mnaGn4K4Q@mail.gmail.com>
	<4ECD384F.5040008@unFocus.com>
	<CAL4EHfnmXQ+O4Pb5kzKC9drwpA7Nv4RCe0C69pA2mQ0AozTbYQ@mail.gmail.com>
Message-ID: <CAEgmxaZwVbwqRzv+i8MYO9iSxgsm+rBqOQz4ookXFuhWgcA3fg@mail.gmail.com>

On 23 November 2011 23:46, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:

> It responding to the role name is just a legacy thing, something that
> can't be removed - because people use it unfortunately, same as the
> user_levels, that should've gone a long time ago.. but I still correct
> examples people put into the codex that use it..


Checking user role is useful. For example, to style the back end with a
nice colour coding. It might be nice to have explicit has_cap() and
user_role_is() strict functions, but I'd rather that core settled on users
having only having one role before moving on to that. I think that is part
of the reason why developers use current_user_can() to check for role(s).

-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From jer at simianuprising.com  Thu Nov 24 17:50:47 2011
From: jer at simianuprising.com (Jeremy Clarke)
Date: Thu, 24 Nov 2011 12:50:47 -0500
Subject: [wp-hackers] What does user_can really check?
In-Reply-To: <CAEgmxaZwVbwqRzv+i8MYO9iSxgsm+rBqOQz4ookXFuhWgcA3fg@mail.gmail.com>
References: <4ECC2A67.1010607@unFocus.com>
	<CADAM20oGjFTx_i-rT+d6tGdGxB4gaKQquDXYNmRn0kbRVvLcwQ@mail.gmail.com>
	<4ECC7432.3070206@unFocus.com>
	<CAL4EHfkGKt3qnNzEO+itOdfH7Mjf1dcs4UDR+AJx=mnaGn4K4Q@mail.gmail.com>
	<4ECD384F.5040008@unFocus.com>
	<CAL4EHfnmXQ+O4Pb5kzKC9drwpA7Nv4RCe0C69pA2mQ0AozTbYQ@mail.gmail.com>
	<CAEgmxaZwVbwqRzv+i8MYO9iSxgsm+rBqOQz4ookXFuhWgcA3fg@mail.gmail.com>
Message-ID: <CAAHgzDP1agVw4iTcecYxpmbapZbiT8J6UTL+s2gBpvD_eL4FbQ@mail.gmail.com>

Not sure why no one has brought up the has_role() function but it exists
and you can use it to check if a given user has a given role or not. That
said it's just a wrapper for has_cap() in pretty much the same way as
user_can() so the effect will be the same. At least that way you protect
yourself against some theoretical future where has_cap() stops working for
roles.

Seems to me that the PHPDoc for has_cap() implies that the behavior is
intended and not deprecated at all, which at least in the current system
makes sense:

"Whether user has capability or role name."


So just use has_role() to check roles and everything will be beautiful.
There's nothing wrong with the current API, it's just a complicated system
because it is so maleable and you are forced to make almost no assumptions
about the state of roles and capabilities in a given site.

-- 
Jeremy Clarke ? jeremyclarke.org
Code and Design ? globalvoicesonline.org

From 24-7 at gmx.net  Fri Nov 25 13:11:59 2011
From: 24-7 at gmx.net (24/7)
Date: Fri, 25 Nov 2011 05:11:59 -0800 (PST)
Subject: [wp-hackers] What does user_can really check?
In-Reply-To: <4ECC2A67.1010607@unFocus.com>
References: <4ECC2A67.1010607@unFocus.com>
Message-ID: <12647155.463.1322226720027.JavaMail.geo-discussion-forums@vbxl10>

One thing that was left out in this discussion: "granting" capabilities (I 
just ran into this): If you add a capability to a user or a role, you have 
the possibility to allow the access to it or not.

Consider the following:

$roles = $GLOBALS['wp_roles']->roles; // get all roles
$role_admin = $roles['administrator'];
$role_subscriber = $roles['subscriber'];

// Now add a capability and grant or deny the access
// role_object->add_cap( 'cap_name', (bool) $grant );
$role_admin->add_cap( 'read_hackers', false );
$role_subscriber->add_cap( 'read_hackers', true );

// Here we got the situation that admins and subscribers both have the cap 
'read_hackers'
// Now let's check this:
$role_admin->has_cap( 'read_hackers' );
$role_subscriber->add_cap( 'read_hackers' );
// result: Both returned true.
// If we want to check this, we need to access the object directly
$role_admin_access = $role_admin['read_hackers'] ? true : false; // false
$role_subscriber_access = $role_admin['read_hackers'] ? true : false; // 
true

The problem is that the "grant" check is simply missing in the API. The 
same goes for functions that change the grant/deny value. It would be nice 
and interesting to have this, as it would allow us to give access to 
certain roles, but blacklist/whitelist specific users.

Sry for beeing slightly off topic, but I think this should be mentioned in 
this discussion.

Best wishes,
Kaiser.

From jackie.craig.sparks at live.com  Sun Nov 27 03:20:59 2011
From: jackie.craig.sparks at live.com (jackie sparks)
Date: Sat, 26 Nov 2011 22:20:59 -0500
Subject: [wp-hackers] Wordpress database encryption.
Message-ID: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>


I've been working on modding the core to allow database encryption. Im running into a problem. I have every field but the ID encrypted  with AES, and changed to mediumblob. I first started off by doing this outside the wp-db class but now have shifted my efforts towards the db class. The data is encrypted at the mysql database server and also at the application with mcrypt functions. I don't understand why the data is not being retrieved properly.

The mod to get row:
       function get_row( $query = null, $output = OBJECT, $y = 0 ) {
                $this->func_call = "\$db->get_row(\"$query\",$output,$y)";
                if ( $query )
                        $this->query( $query );
                else
                        return null;
                print_r($this->last_result[$y]);

                $newvalues=dbuserquerychk($query,$this->last_result[$y],$this->prefix);

                if($newvalues != false)
                        $this->last_result[$y]=$newvalues;

                print_r($this->last_result[$y]);
                if ( !isset( $this->last_result[$y] ) )
                        return null;

                if ( $output == OBJECT ) {
                        return $this->last_result[$y] ? $this->last_result[$y] : null;
                } elseif ( $output == ARRAY_A ) {


The function checking it. ust trying to perform the encryption on the users table atm and then proceed with the rest of the db. 

function dbuserquerychk($query,$data,$prefix){
        if(preg_match( '/'.$prefix.'users/', $query)){
                //echo "$data;
                foreach ($data as $key => $val) {
                        if($key != "ID")
                                $newvalues[$key]=decrypt($val);
                        else
                                $newvalues[$key]=$val;
                }
                return $newvalues;
        }
        return false;
}

The mysql query that gets submited: 

SELECT ID, AES_DECRYPT(user_login,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_login, AES_DECRYPT(user_pass,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_pass,
        AES_DECRYPT(user_nicename, '7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_nicename, AES_DECRYPT(user_email,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_email,
        AES_DECRYPT(user_url, '7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_url, AES_DECRYPT(user_registered,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP')as user_registered,
        AES_DECRYPT(user_activation_key,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_activation_key,
        AES_DECRYPT(user_status,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_status, AES_DECRYPT(display_name,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as display_name FROM wp2_users WHERE user_login = 'admin'
          127 Query    SELECT ID, AES_DECRYPT(user_login,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_login, AES_DECRYPT(user_pass,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_pass,
        AES_DECRYPT(user_nicename, '7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_nicename, AES_DECRYPT(user_email,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_email,
        AES_DECRYPT(user_url, '7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_url, AES_DECRYPT(user_registered,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP')as user_registered,
        AES_DECRYPT(user_activation_key,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_activation_key,
        AES_DECRYPT(user_status,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_status, AES_DECRYPT(display_name,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as display_name FROM wp2_users WHERE user_login = 'admin'

apache errorlog with xdebug trace: I see that the variable data is no getting populated properly during the login request but I stuck as to knowing why at this point. 

[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP Warning:  Invalid argument supplied for foreach() in /var/www/aes3/wp-includes/functions.php on line 46, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP Stack trace:, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   1. {main}() /var/www/aes3/wp-login.php:0, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   2. get_userdatabylogin() /var/www/aes3/wp-login.php:548, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   3. get_user_by() /var/www/aes3/wp-includes/pluggable.php:212, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   4. wpdb->get_row() /var/www/aes3/wp-includes/pluggable.php:190, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   5. dbuserquerychk() /var/www/aes3/wp-includes/wp-db.php:1417, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP Warning:  Invalid argument supplied for foreach() in /var/www/aes3/wp-includes/functions.php on line 46, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP Stack trace:, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   1. {main}() /var/www/aes3/wp-login.php:0, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   2. wp_signon() /var/www/aes3/wp-login.php:573, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   3. wp_authenticate() /var/www/aes3/wp-includes/user.php:53, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   4. apply_filters() /var/www/aes3/wp-includes/pluggable.php:540, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   5. call_user_func_array() /var/www/aes3/wp-includes/plugin.php:170, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   6. wp_authenticate_username_password() /var/www/aes3/wp-includes/plugin.php:0, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   7. get_user_by() /var/www/aes3/wp-includes/user.php:88, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   8. wpdb->get_row() /var/www/aes3/wp-includes/pluggable.php:190, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   9. dbuserquerychk() /var/www/aes3/wp-includes/wp-db.php:1417, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP Warning:  Invalid argument supplied for foreach() in /var/www/aes3/wp-includes/functions.php on line 46, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP Stack trace:, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   1. {main}() /var/www/aes3/wp-login.php:0, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   2. get_userdatabylogin() /var/www/aes3/wp-login.php:548, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   3. get_user_by() /var/www/aes3/wp-includes/pluggable.php:212, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   4. wpdb->get_row() /var/www/aes3/wp-includes/pluggable.php:190, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   5. dbuserquerychk() /var/www/aes3/wp-includes/wp-db.php:1417, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP Warning:  Invalid argument supplied for foreach() in /var/www/aes3/wp-includes/functions.php on line 46, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP Stack trace:, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   1. {main}() /var/www/aes3/wp-login.php:0, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   2. wp_signon() /var/www/aes3/wp-login.php:573, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   3. wp_authenticate() /var/www/aes3/wp-includes/user.php:53, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   4. apply_filters() /var/www/aes3/wp-includes/pluggable.php:540, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   5. call_user_func_array() /var/www/aes3/wp-includes/plugin.php:170, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   6. wp_authenticate_username_password() /var/www/aes3/wp-includes/plugin.php:0, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   7. get_user_by() /var/www/aes3/wp-includes/user.php:88, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   8. wpdb->get_row() /var/www/aes3/wp-includes/pluggable.php:190, referer: http://localhost/aes3/wp-login.php
[Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   9. dbuserquerychk() /var/www/aes3/wp-includes/wp-db.php:1417, referer: http://localhost/aes3/wp-login.php
 		 	   		  

From mikeschinkel at newclarity.net  Sun Nov 27 04:22:26 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 26 Nov 2011 23:22:26 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
Message-ID: <D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>

Hi Jackie,

1st, your query looks like two queries, with the text "         127 Query   " in between the two; have you checked to see why that is?

2nd, why are you hacking core instead of using the 'query' hook? The 'query' hook should allow you to transform the data in an a manner which is exactly as it appears you would like.

3rd, you should consider renaming your function dbuserquerychk() with a prefix, maybe like jcs_dbuserquerychk() or acs3_dbuserquerychk() or similar.

Hope this helps.

-Mike


On Nov 26, 2011, at 10:20 PM, jackie sparks wrote:

> 
> I've been working on modding the core to allow database encryption. Im running into a problem. I have every field but the ID encrypted  with AES, and changed to mediumblob. I first started off by doing this outside the wp-db class but now have shifted my efforts towards the db class. The data is encrypted at the mysql database server and also at the application with mcrypt functions. I don't understand why the data is not being retrieved properly.
> 
> The mod to get row:
>       function get_row( $query = null, $output = OBJECT, $y = 0 ) {
>                $this->func_call = "\$db->get_row(\"$query\",$output,$y)";
>                if ( $query )
>                        $this->query( $query );
>                else
>                        return null;
>                print_r($this->last_result[$y]);
> 
>                $newvalues=dbuserquerychk($query,$this->last_result[$y],$this->prefix);
> 
>                if($newvalues != false)
>                        $this->last_result[$y]=$newvalues;
> 
>                print_r($this->last_result[$y]);
>                if ( !isset( $this->last_result[$y] ) )
>                        return null;
> 
>                if ( $output == OBJECT ) {
>                        return $this->last_result[$y] ? $this->last_result[$y] : null;
>                } elseif ( $output == ARRAY_A ) {
> 
> 
> The function checking it. ust trying to perform the encryption on the users table atm and then proceed with the rest of the db. 
> 
> function dbuserquerychk($query,$data,$prefix){
>        if(preg_match( '/'.$prefix.'users/', $query)){
>                //echo "$data;
>                foreach ($data as $key => $val) {
>                        if($key != "ID")
>                                $newvalues[$key]=decrypt($val);
>                        else
>                                $newvalues[$key]=$val;
>                }
>                return $newvalues;
>        }
>        return false;
> }
> 
> The mysql query that gets submited: 
> 
> SELECT ID, AES_DECRYPT(user_login,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_login, AES_DECRYPT(user_pass,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_pass,
>        AES_DECRYPT(user_nicename, '7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_nicename, AES_DECRYPT(user_email,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_email,
>        AES_DECRYPT(user_url, '7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_url, AES_DECRYPT(user_registered,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP')as user_registered,
>        AES_DECRYPT(user_activation_key,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_activation_key,
>        AES_DECRYPT(user_status,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_status, AES_DECRYPT(display_name,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as display_name FROM wp2_users WHERE user_login = 'admin'
>          127 Query    SELECT ID, AES_DECRYPT(user_login,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_login, AES_DECRYPT(user_pass,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_pass,
>        AES_DECRYPT(user_nicename, '7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_nicename, AES_DECRYPT(user_email,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_email,
>        AES_DECRYPT(user_url, '7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_url, AES_DECRYPT(user_registered,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP')as user_registered,
>        AES_DECRYPT(user_activation_key,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_activation_key,
>        AES_DECRYPT(user_status,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_status, AES_DECRYPT(display_name,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as display_name FROM wp2_users WHERE user_login = 'admin'
> 
> apache errorlog with xdebug trace: I see that the variable data is no getting populated properly during the login request but I stuck as to knowing why at this point. 
> 
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP Warning:  Invalid argument supplied for foreach() in /var/www/aes3/wp-includes/functions.php on line 46, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP Stack trace:, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   1. {main}() /var/www/aes3/wp-login.php:0, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   2. get_userdatabylogin() /var/www/aes3/wp-login.php:548, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   3. get_user_by() /var/www/aes3/wp-includes/pluggable.php:212, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   4. wpdb->get_row() /var/www/aes3/wp-includes/pluggable.php:190, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   5. dbuserquerychk() /var/www/aes3/wp-includes/wp-db.php:1417, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP Warning:  Invalid argument supplied for foreach() in /var/www/aes3/wp-includes/functions.php on line 46, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP Stack trace:, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   1. {main}() /var/www/aes3/wp-login.php:0, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   2. wp_signon() /var/www/aes3/wp-login.php:573, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   3. wp_authenticate() /var/www/aes3/wp-includes/user.php:53, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   4. apply_filters() /var/www/aes3/wp-includes/pluggable.php:540, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   5. call_user_func_array() /var/www/aes3/wp-includes/plugin.php:170, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   6. wp_authenticate_username_password() /var/www/aes3/wp-includes/plugin.php:0, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   7. get_user_by() /var/www/aes3/wp-includes/user.php:88, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   8. wpdb->get_row() /var/www/aes3/wp-includes/pluggable.php:190, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   9. dbuserquerychk() /var/www/aes3/wp-includes/wp-db.php:1417, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP Warning:  Invalid argument supplied for foreach() in /var/www/aes3/wp-includes/functions.php on line 46, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP Stack trace:, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   1. {main}() /var/www/aes3/wp-login.php:0, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   2. get_userdatabylogin() /var/www/aes3/wp-login.php:548, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   3. get_user_by() /var/www/aes3/wp-includes/pluggable.php:212, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   4. wpdb->get_row() /var/www/aes3/wp-includes/pluggable.php:190, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   5. dbuserquerychk() /var/www/aes3/wp-includes/wp-db.php:1417, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP Warning:  Invalid argument supplied for foreach() in /var/www/aes3/wp-includes/functions.php on line 46, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP Stack trace:, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   1. {main}() /var/www/aes3/wp-login.php:0, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   2. wp_signon() /var/www/aes3/wp-login.php:573, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   3. wp_authenticate() /var/www/aes3/wp-includes/user.php:53, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   4. apply_filters() /var/www/aes3/wp-includes/pluggable.php:540, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   5. call_user_func_array() /var/www/aes3/wp-includes/plugin.php:170, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   6. wp_authenticate_username_password() /var/www/aes3/wp-includes/plugin.php:0, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   7. get_user_by() /var/www/aes3/wp-includes/user.php:88, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   8. wpdb->get_row() /var/www/aes3/wp-includes/pluggable.php:190, referer: http://localhost/aes3/wp-login.php
> [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   9. dbuserquerychk() /var/www/aes3/wp-includes/wp-db.php:1417, referer: http://localhost/aes3/wp-login.php
> 		 	   		  
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jackie.craig.sparks at live.com  Sun Nov 27 04:58:43 2011
From: jackie.craig.sparks at live.com (jackie sparks)
Date: Sat, 26 Nov 2011 23:58:43 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>,
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
Message-ID: <BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>


The problem ended up being the prepare statement was messing up the new query in the function get_user_by().


1st, your query looks like two queries, with the text "         127 Query   " in between the two; have you checked to see why that is?
 That is the mysql log output. So that is a logging prefix.

2nd, why are you hacking core instead of using the 'query' hook? The 'query' hook should allow you to transform the data in an a manner which is exactly as it appears you would like.
 Thank you for that suggestion. The query hook only works when making a plugin. I "think" these changes should be in the core. It would make it harder for someone to find the code instead of just browsing thru directory in the wp-content/plugins dir.

3rd, you should consider renaming your function dbuserquerychk() with a prefix, maybe like jcs_dbuserquerychk() or acs3_dbuserquerychk() or similar.
 Thank you. Why those function name prefixes. What purpose do they have?



> From: mikeschinkel at newclarity.net
> Date: Sat, 26 Nov 2011 23:22:26 -0500
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Wordpress database encryption.
> 
> Hi Jackie,
> 
> 1st, your query looks like two queries, with the text "         127 Query   " in between the two; have you checked to see why that is?
> 
> 2nd, why are you hacking core instead of using the 'query' hook? The 'query' hook should allow you to transform the data in an a manner which is exactly as it appears you would like.
> 
> 3rd, you should consider renaming your function dbuserquerychk() with a prefix, maybe like jcs_dbuserquerychk() or acs3_dbuserquerychk() or similar.
> 
> Hope this helps.
> 
> -Mike
> 
> 
> On Nov 26, 2011, at 10:20 PM, jackie sparks wrote:
> 
> > 
> > I've been working on modding the core to allow database encryption. Im running into a problem. I have every field but the ID encrypted  with AES, and changed to mediumblob. I first started off by doing this outside the wp-db class but now have shifted my efforts towards the db class. The data is encrypted at the mysql database server and also at the application with mcrypt functions. I don't understand why the data is not being retrieved properly.
> > 
> > The mod to get row:
> >       function get_row( $query = null, $output = OBJECT, $y = 0 ) {
> >                $this->func_call = "\$db->get_row(\"$query\",$output,$y)";
> >                if ( $query )
> >                        $this->query( $query );
> >                else
> >                        return null;
> >                print_r($this->last_result[$y]);
> > 
> >                $newvalues=dbuserquerychk($query,$this->last_result[$y],$this->prefix);
> > 
> >                if($newvalues != false)
> >                        $this->last_result[$y]=$newvalues;
> > 
> >                print_r($this->last_result[$y]);
> >                if ( !isset( $this->last_result[$y] ) )
> >                        return null;
> > 
> >                if ( $output == OBJECT ) {
> >                        return $this->last_result[$y] ? $this->last_result[$y] : null;
> >                } elseif ( $output == ARRAY_A ) {
> > 
> > 
> > The function checking it. ust trying to perform the encryption on the users table atm and then proceed with the rest of the db. 
> > 
> > function dbuserquerychk($query,$data,$prefix){
> >        if(preg_match( '/'.$prefix.'users/', $query)){
> >                //echo "$data;
> >                foreach ($data as $key => $val) {
> >                        if($key != "ID")
> >                                $newvalues[$key]=decrypt($val);
> >                        else
> >                                $newvalues[$key]=$val;
> >                }
> >                return $newvalues;
> >        }
> >        return false;
> > }
> > 
> > The mysql query that gets submited: 
> > 
> > SELECT ID, AES_DECRYPT(user_login,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_login, AES_DECRYPT(user_pass,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_pass,
> >        AES_DECRYPT(user_nicename, '7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_nicename, AES_DECRYPT(user_email,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_email,
> >        AES_DECRYPT(user_url, '7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_url, AES_DECRYPT(user_registered,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP')as user_registered,
> >        AES_DECRYPT(user_activation_key,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_activation_key,
> >        AES_DECRYPT(user_status,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_status, AES_DECRYPT(display_name,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as display_name FROM wp2_users WHERE user_login = 'admin'
> >          127 Query    SELECT ID, AES_DECRYPT(user_login,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_login, AES_DECRYPT(user_pass,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_pass,
> >        AES_DECRYPT(user_nicename, '7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_nicename, AES_DECRYPT(user_email,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_email,
> >        AES_DECRYPT(user_url, '7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_url, AES_DECRYPT(user_registered,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP')as user_registered,
> >        AES_DECRYPT(user_activation_key,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_activation_key,
> >        AES_DECRYPT(user_status,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as user_status, AES_DECRYPT(display_name,'7pp3XeLESBCe89FuXT9hhbsxTRS6C3WmBXCxD3MfngOn35az70lPSW1yGtvSGd4KCnZZe0TDVETGyDvP5B960sTy9p7xOCnPx2T2dmxN7aOLR6xGPRtT0BvEOqzQtMQeEEvW0luzir7TdThKBtAeXGGToCsZeyk8fKGTsbpUS71rwPWUZ3llLFVDEW3F3OrcmBFzxbSN4HV9segA0qHBG7mKKpXAqzpPHVTb9A1tsDx7KL0Aeec7yTPwTeAgcrP') as display_name FROM wp2_users WHERE user_login = 'admin'
> > 
> > apache errorlog with xdebug trace: I see that the variable data is no getting populated properly during the login request but I stuck as to knowing why at this point. 
> > 
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP Warning:  Invalid argument supplied for foreach() in /var/www/aes3/wp-includes/functions.php on line 46, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP Stack trace:, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   1. {main}() /var/www/aes3/wp-login.php:0, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   2. get_userdatabylogin() /var/www/aes3/wp-login.php:548, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   3. get_user_by() /var/www/aes3/wp-includes/pluggable.php:212, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   4. wpdb->get_row() /var/www/aes3/wp-includes/pluggable.php:190, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   5. dbuserquerychk() /var/www/aes3/wp-includes/wp-db.php:1417, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP Warning:  Invalid argument supplied for foreach() in /var/www/aes3/wp-includes/functions.php on line 46, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP Stack trace:, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   1. {main}() /var/www/aes3/wp-login.php:0, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   2. wp_signon() /var/www/aes3/wp-login.php:573, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   3. wp_authenticate() /var/www/aes3/wp-includes/user.php:53, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   4. apply_filters() /var/www/aes3/wp-includes/pluggable.php:540, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   5. call_user_func_array() /var/www/aes3/wp-includes/plugin.php:170, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   6. wp_authenticate_username_password() /var/www/aes3/wp-includes/plugin.php:0, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   7. get_user_by() /var/www/aes3/wp-includes/user.php:88, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   8. wpdb->get_row() /var/www/aes3/wp-includes/pluggable.php:190, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:44:16 2011] [error] [client 127.0.0.1] PHP   9. dbuserquerychk() /var/www/aes3/wp-includes/wp-db.php:1417, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP Warning:  Invalid argument supplied for foreach() in /var/www/aes3/wp-includes/functions.php on line 46, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP Stack trace:, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   1. {main}() /var/www/aes3/wp-login.php:0, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   2. get_userdatabylogin() /var/www/aes3/wp-login.php:548, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   3. get_user_by() /var/www/aes3/wp-includes/pluggable.php:212, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   4. wpdb->get_row() /var/www/aes3/wp-includes/pluggable.php:190, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   5. dbuserquerychk() /var/www/aes3/wp-includes/wp-db.php:1417, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP Warning:  Invalid argument supplied for foreach() in /var/www/aes3/wp-includes/functions.php on line 46, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP Stack trace:, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   1. {main}() /var/www/aes3/wp-login.php:0, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   2. wp_signon() /var/www/aes3/wp-login.php:573, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   3. wp_authenticate() /var/www/aes3/wp-includes/user.php:53, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   4. apply_filters() /var/www/aes3/wp-includes/pluggable.php:540, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   5. call_user_func_array() /var/www/aes3/wp-includes/plugin.php:170, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   6. wp_authenticate_username_password() /var/www/aes3/wp-includes/plugin.php:0, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   7. get_user_by() /var/www/aes3/wp-includes/user.php:88, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   8. wpdb->get_row() /var/www/aes3/wp-includes/pluggable.php:190, referer: http://localhost/aes3/wp-login.php
> > [Sat Nov 26 20:45:17 2011] [error] [client 127.0.0.1] PHP   9. dbuserquerychk() /var/www/aes3/wp-includes/wp-db.php:1417, referer: http://localhost/aes3/wp-login.php
> > 		 	   		  
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

From wordpress at dd32.id.au  Sun Nov 27 05:05:51 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 27 Nov 2011 16:05:51 +1100
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
Message-ID: <CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>

On 27 November 2011 15:58, jackie sparks <jackie.craig.sparks at live.com> wrote:
>> 2nd, why are you hacking core instead of using the 'query' hook? The 'query' hook should allow you to transform the data in an a manner which is exactly as it appears you would like.
> ?Thank you for that suggestion. The query hook only works when making a plugin. I "think" these changes should be in the core. It would make it harder for someone to find the code instead of just browsing thru directory in the wp-content/plugins dir.

If someone has access to the code, They have access to the keys, and
therefore, can reproduce the query, resulting in any core vs plugin
question being moot.
The only advantage AES would be giving is preventing someone listening
in on the communication between WordPress and MySQL, or those who gain
access to MySQL (but not WordPress/PHP).
I believe MySQL has a SSL mode to prevent on-the-wire data being sniffed.

I would *not* be focusing on making a core patch for this, it's
something that's much better aimed at being a plugin (or a
wp-content/db.php Dropin file if it can't be done otherways).
Security by obscurity of where the code is is pretty stupid too if you ask me..

> 3rd, you should consider renaming your function dbuserquerychk() with a prefix, maybe like jcs_dbuserquerychk() or acs3_dbuserquerychk() or similar.
> ?Thank you. Why those function name prefixes. What purpose do they have?

Prefixing function names and/or namespacing them via classes is "best
practices" in order to prevent clashes between plugins (can't have
multiple plugins with the same function name, etc)

From mikeschinkel at newclarity.net  Sun Nov 27 05:15:18 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 27 Nov 2011 00:15:18 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>,
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
Message-ID: <524011EA-86BA-43F3-B976-911128816B73@newclarity.net>

On Nov 26, 2011, at 11:58 PM, jackie sparks wrote:
> Thank you for that suggestion. The query hook only works when making a plugin. I "think" these changes should be in the core. It would make it harder for someone to find the code instead of just browsing thru directory in the wp-content/plugins dir.

What Dion Hulse (dd32) said, but also changes like this to the core get validated by having someone implement as a plugin and then, if enough people use and and also clamor for it being in the core, the core team might decide to add it. But that hill is an extremely steep climb, from experience.

> 3rd, you should consider renaming your function dbuserquerychk() with a prefix, maybe like jcs_dbuserquerychk() or acs3_dbuserquerychk() or similar.
> Thank you. Why those function name prefixes. What purpose do they have?

Andrey Nacin explains it here:

http://andrewnacin.com/2010/05/11/in-wordpress-prefix-everything/

-Mike

From jackie.craig.sparks at live.com  Sun Nov 27 05:18:54 2011
From: jackie.craig.sparks at live.com (jackie sparks)
Date: Sun, 27 Nov 2011 00:18:54 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>,
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>,
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>,
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
Message-ID: <BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>



This just isn't security by obscurity. This can protect the data in the database from sql injections from rouge plugins and miscoded plugins(This seems to be a huge problem, if you read the sec lists in the past week. There have been over 10 new exploits found for different plugins). Have to know the keys to decode the data. CCC(those german guys are pretty bad has already proven that SSL certs can be cracked and replicated on the fly with a cluster of ps3 systems, http://hackaday.com/2008/12/30/25c3-hackers-completely-break-ssl-using-200-ps3s/ . 

Most crackers are opportunists. If they have the opportunity they will take it. If it's difficult they will leave it be. 

Can I randomize the usersmeta id's thru the use of a plugin so firstname is not alway 1,16,24,32 ? 

Every securty system has its fail points
> From: wordpress at dd32.id.au
> Date: Sun, 27 Nov 2011 16:05:51 +1100
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Wordpress database encryption.
> 
> On 27 November 2011 15:58, jackie sparks <jackie.craig.sparks at live.com> wrote:
> >> 2nd, why are you hacking core instead of using the 'query' hook? The 'query' hook should allow you to transform the data in an a manner which is exactly as it appears you would like.
> >  Thank you for that suggestion. The query hook only works when making a plugin. I "think" these changes should be in the core. It would make it harder for someone to find the code instead of just browsing thru directory in the wp-content/plugins dir.
> 
> If someone has access to the code, They have access to the keys, and
> therefore, can reproduce the query, resulting in any core vs plugin
> question being moot.
> The only advantage AES would be giving is preventing someone listening
> in on the communication between WordPress and MySQL, or those who gain
> access to MySQL (but not WordPress/PHP).
> I believe MySQL has a SSL mode to prevent on-the-wire data being sniffed.
> 
> I would *not* be focusing on making a core patch for this, it's
> something that's much better aimed at being a plugin (or a
> wp-content/db.php Dropin file if it can't be done otherways).
> Security by obscurity of where the code is is pretty stupid too if you ask me..
> 
> > 3rd, you should consider renaming your function dbuserquerychk() with a prefix, maybe like jcs_dbuserquerychk() or acs3_dbuserquerychk() or similar.
> >  Thank you. Why those function name prefixes. What purpose do they have?
> 
> Prefixing function names and/or namespacing them via classes is "best
> practices" in order to prevent clashes between plugins (can't have
> multiple plugins with the same function name, etc)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

From ronin at braydon.com  Sun Nov 27 05:23:10 2011
From: ronin at braydon.com (Braydon)
Date: Sat, 26 Nov 2011 21:23:10 -0800
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
Message-ID: <4ED1C93E.5050702@braydon.com>

On 11/26/2011 09:05 PM, Dion Hulse (dd32) wrote:
> (...) I would *not* be focusing on making a core patch for this, it's 
> something that's much better aimed at being a plugin (or a 
> wp-content/db.php Dropin file if it can't be done otherways).(...)
You can load alternative files in core from a plugin? Or would this be 
replacing files manually. Couldn't find any other documentation on this 
other than pluggable functions ( 
http://codex.wordpress.org/Pluggable_Functions ), which is something else.

From wordpress at dd32.id.au  Sun Nov 27 05:25:15 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 27 Nov 2011 16:25:15 +1100
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>
Message-ID: <CAL4EHfn1iRwqKJo=V6d2g8J6bX1idf8P7xsm5ZHk7CY4iRxW6Q@mail.gmail.com>

On 27 November 2011 16:18, jackie sparks <jackie.craig.sparks at live.com> wrote:
> This just isn't security by obscurity. This can protect the data in the database from sql injections from rouge plugins and miscoded plugins(This seems to be a huge problem, if you read the sec lists in the past week. There have been over 10 new exploits found for different plugins). Have to know the keys to decode the data. CCC(those german guys are pretty bad has already proven that SSL certs can be cracked and replicated on the fly with a cluster of ps3 systems, http://hackaday.com/2008/12/30/25c3-hackers-completely-break-ssl-using-200-ps3s/ .
>
> Most crackers are opportunists. If they have the opportunity they will take it. If it's difficult they will leave it be.
>
> Can I randomize the usersmeta id's thru the use of a plugin so firstname is not alway 1,16,24,32 ?
>
> Every securty system has its fail points

My point was -location wise- it's security by obscurity if you attempt
to "hide" the code in core code rather than in a plugin, ie this
quote:
>  It would make it harder for someone to find the code instead of just browsing thru directory in the wp-content/plugins dir.

But yes, Aside from initial install, you can randomise user ID's if
you wish, just increment the wp_users AUTO_INCREMENT value a random
ammount each time a user is added for example. or alter the ID before
the data is sent to the update()/insert() calls.
For the initial install, it's a bit harder as plugins aren't loaded,
but there's a wp-content/install.php dropin that can be used to
override certain installation functions.

>> (...) I would *not* be focusing on making a core patch for this, it's
>> something that's much better aimed at being a plugin (or a wp-content/db.php
>> Dropin file if it can't be done otherways).(...)
>
> You can load alternative files in core from a plugin? Or would this be
> replacing files manually. Couldn't find any other documentation on this
> other than pluggable functions (
> http://codex.wordpress.org/Pluggable_Functions ), which is something else.

No, You can't override specific core files, WordPress does have
support for non-mysql databases by you adding a wp-content/db.php file
however, Have a look at the HyperDB plugin/droping for example for a
client class that can support multiple MySQL servers (ie. Master/slave
setup). This is similar to the advanced-cache.php and object-cache.php
dropins.

From ronin at braydon.com  Sun Nov 27 05:33:20 2011
From: ronin at braydon.com (Braydon)
Date: Sat, 26 Nov 2011 21:33:20 -0800
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <CAL4EHfn1iRwqKJo=V6d2g8J6bX1idf8P7xsm5ZHk7CY4iRxW6Q@mail.gmail.com>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>
	<CAL4EHfn1iRwqKJo=V6d2g8J6bX1idf8P7xsm5ZHk7CY4iRxW6Q@mail.gmail.com>
Message-ID: <4ED1CBA0.7030303@braydon.com>

On 11/26/2011 09:25 PM, Dion Hulse (dd32) wrote:
> (...)
>>> (...) I would *not* be focusing on making a core patch for this, it's
>>> something that's much better aimed at being a plugin (or a wp-content/db.php
>>> Dropin file if it can't be done otherways).(...)
>> You can load alternative files in core from a plugin? Or would this be
>> replacing files manually. Couldn't find any other documentation on this
>> other than pluggable functions (
>> http://codex.wordpress.org/Pluggable_Functions ), which is something else.
> No, You can't override specific core files, WordPress does have
> support for non-mysql databases by you adding a wp-content/db.php file
> however, Have a look at the HyperDB plugin/droping for example for a
> client class that can support multiple MySQL servers (ie. Master/slave
> setup). This is similar to the advanced-cache.php and object-cache.php
> dropins.
Okay, this helped to find the full list:
http://core.trac.wordpress.org/browser/tags/3.2/wp-admin/includes/plugin.php#L389 


From mikeschinkel at newclarity.net  Sun Nov 27 05:34:09 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 27 Nov 2011 00:34:09 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>,
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>,
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>,
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>
Message-ID: <754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>

On Nov 27, 2011, at 12:18 AM, jackie sparks wrote:
> This can protect the data in the database from ... rouge plugins

If it is coded in core, then a rouge plugin would have access to the keys. It would be less likely a rouge plugin would make the effort to crack the security of another plugin, so I'd say a plugin would be more safe than core, not less.

> and miscoded plugins

How that?  If the plugins are miscoded and overwrite data, they still overwrite data, encrypted or no.

> This seems to be a huge problem, 

What kind of data are you trying to protect?  I assume that you are not worried about this just for personal blogging?  Is this for a client project, or are you just personally interested?

> if you read the sec lists in the past week.

Which lists/where are the archives that mention these issues?  I'd be interested to see those references.

-Mike

From jackie.craig.sparks at live.com  Sun Nov 27 05:35:22 2011
From: jackie.craig.sparks at live.com (jackie sparks)
Date: Sun, 27 Nov 2011 00:35:22 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <CAL4EHfn1iRwqKJo=V6d2g8J6bX1idf8P7xsm5ZHk7CY4iRxW6Q@mail.gmail.com>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>,
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>,
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>,
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>,
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>,
	<CAL4EHfn1iRwqKJo=V6d2g8J6bX1idf8P7xsm5ZHk7CY4iRxW6Q@mail.gmail.com>
Message-ID: <BLU150-W53E5400A130B02B1C8DEE9DACD0@phx.gbl>


Sorry, They didn't crack them. They exposed a flaw in md5 so they could replicate the certificate hash. 

It wouldn't prevent them but it would at least slow them down and maybe make them move to a easier target.

Peoples data is important and deserves to be protected, IMO.

> From: wordpress at dd32.id.au
> Date: Sun, 27 Nov 2011 16:25:15 +1100
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Wordpress database encryption.
> 
> On 27 November 2011 16:18, jackie sparks <jackie.craig.sparks at live.com> wrote:
> > This just isn't security by obscurity. This can protect the data in the database from sql injections from rouge plugins and miscoded plugins(This seems to be a huge problem, if you read the sec lists in the past week. There have been over 10 new exploits found for different plugins). Have to know the keys to decode the data. CCC(those german guys are pretty bad has already proven that SSL certs can be cracked and replicated on the fly with a cluster of ps3 systems, http://hackaday.com/2008/12/30/25c3-hackers-completely-break-ssl-using-200-ps3s/ .
> >
> > Most crackers are opportunists. If they have the opportunity they will take it. If it's difficult they will leave it be.
> >
> > Can I randomize the usersmeta id's thru the use of a plugin so firstname is not alway 1,16,24,32 ?
> >
> > Every securty system has its fail points
> 
> My point was -location wise- it's security by obscurity if you attempt
> to "hide" the code in core code rather than in a plugin, ie this
> quote:
> >  It would make it harder for someone to find the code instead of just browsing thru directory in the wp-content/plugins dir.
> 
> But yes, Aside from initial install, you can randomise user ID's if
> you wish, just increment the wp_users AUTO_INCREMENT value a random
> ammount each time a user is added for example. or alter the ID before
> the data is sent to the update()/insert() calls.
> For the initial install, it's a bit harder as plugins aren't loaded,
> but there's a wp-content/install.php dropin that can be used to
> override certain installation functions.
> 
> >> (...) I would *not* be focusing on making a core patch for this, it's
> >> something that's much better aimed at being a plugin (or a wp-content/db.php
> >> Dropin file if it can't be done otherways).(...)
> >
> > You can load alternative files in core from a plugin? Or would this be
> > replacing files manually. Couldn't find any other documentation on this
> > other than pluggable functions (
> > http://codex.wordpress.org/Pluggable_Functions ), which is something else.
> 
> No, You can't override specific core files, WordPress does have
> support for non-mysql databases by you adding a wp-content/db.php file
> however, Have a look at the HyperDB plugin/droping for example for a
> client class that can support multiple MySQL servers (ie. Master/slave
> setup). This is similar to the advanced-cache.php and object-cache.php
> dropins.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

From jackie.craig.sparks at live.com  Sun Nov 27 05:37:54 2011
From: jackie.craig.sparks at live.com (jackie sparks)
Date: Sun, 27 Nov 2011 00:37:54 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>, ,
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>, ,
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>, ,
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>,
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>,
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>
Message-ID: <BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>


Miscoded and rouge plugins, I'm talking about plugins that allow SQL injections. Not plugins that actually look like they have bad intent. 

--[Witty Signature Goes Below]---------------------------------------------------------------------------------------------------------------------
--[....]------
http://www.linkedin.com/profile/view?id=53668912&trk=tab_pro - linked in profile

http://www.facebook.com/skrapsrwt - feel free to add me on facebook.

http://www.ipetitions.com/petition/foodstamps/


http://www.ipetitions.com/petition/nodeaddawgs/


http://www.ipetitions.com/petition/mcdlunch/


http://www.causes.com/causes/633686-no-dead-dawgs



http://www.phonesnake.com - looking for support by sharing and liking our page and also sponsors to help with the project.

http://www.communicationslibrary.info - taking the knowlege outside the classroom so anyone can be a technician

http://chunkhost.com/r/getachunk - Support my VPS host sign up now 

http://www.facebook.com/profile.php?ref=profile&id=100000140654932

https://www.scriptlance.com/cgi-bin/freelancers/feedback.cgi?p=rwtskraps

http://twitter.com/#!/skraps_foo

http://twitter.com/#!/phonesnake

http://skraps.pastebin.com
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=--=-=-=
This e-mail (including attachments) is covered by the Electronic
Communications Privacy Act, 18 U.S.C. Sections 2510-2521, is
confidential, and is intended solely for the use of the individuals or
entities to whom it is addressed. If you are not the intended
recipient or the person responsible for delivering the e-mail to the
intended recipient, be advised that you have received this e-mail in
error and that any use, dissemination, forwarding, printing, or
copying of this e-mail and any file attachments is strictly
prohibited. If you have received this e-mail in error, please
immediately notify me by email at jackie.craig.sparks at live.com. You must destroy
the original transmission and its contents.


> From: mikeschinkel at newclarity.net
> Date: Sun, 27 Nov 2011 00:34:09 -0500
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Wordpress database encryption.
> 
> On Nov 27, 2011, at 12:18 AM, jackie sparks wrote:
> > This can protect the data in the database from ... rouge plugins
> 
> If it is coded in core, then a rouge plugin would have access to the keys. It would be less likely a rouge plugin would make the effort to crack the security of another plugin, so I'd say a plugin would be more safe than core, not less.
> 
> > and miscoded plugins
> 
> How that?  If the plugins are miscoded and overwrite data, they still overwrite data, encrypted or no.
> 
> > This seems to be a huge problem, 
> 
> What kind of data are you trying to protect?  I assume that you are not worried about this just for personal blogging?  Is this for a client project, or are you just personally interested?
> 
> > if you read the sec lists in the past week.
> 
> Which lists/where are the archives that mention these issues?  I'd be interested to see those references.
> 
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

From mikeschinkel at newclarity.net  Sun Nov 27 06:02:00 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 27 Nov 2011 01:02:00 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>, ,
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>, ,
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>, ,
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>,
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>,
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>
Message-ID: <A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>

On Nov 27, 2011, at 12:37 AM, jackie sparks wrote:
> Miscoded and rouge plugins, I'm talking about plugins that allow SQL injections. Not plugins that actually look like they have bad intent. 

I'm confused. Isn't SQL injection mostly destructive, and not for accessing information? Doesn't matter if a table's data is encrypted dropping a table still drops a table.

Of course I don't consider myself a security expert so maybe I'm wrong about this and it is reasonable to use SQL injection to access data?

> --[Witty Signature Goes Below]-- ...

Also, what's with all those links in your email?

-Mike


From wordpress at dd32.id.au  Sun Nov 27 06:09:07 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 27 Nov 2011 17:09:07 +1100
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>
	<A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>
Message-ID: <CAL4EHfntCmM3KMEbFuyZgCayZjZVWZgEw9z0w71vFMB+2_OVeA@mail.gmail.com>

On 27 November 2011 17:02, Mike Schinkel <mikeschinkel at newclarity.net> wrote:
> On Nov 27, 2011, at 12:37 AM, jackie sparks wrote:
>> Miscoded and rouge plugins, I'm talking about plugins that allow SQL injections. Not plugins that actually look like they have bad intent.
>
> I'm confused. Isn't SQL injection mostly destructive, and not for accessing information? Doesn't matter if a table's data is encrypted dropping a table still drops a table.
>
> Of course I don't consider myself a security expert so maybe I'm wrong about this and it is reasonable to use SQL injection to access data?

SQL Injection can be used for anything; Adding users, Deleting users,
Droping tables, and in many cases, Has also been used to alter the
SELECT query to display different data than expected, For example, if
you could SQL inject the primary WP_Query SQL, you could make the
posts list display usernames/emails/hashed passwords instead of posts.
In many cases, the SQL Injections in plugins can't be used to show
data, only alter the data going into the database, which only allows
DROP/INSERT/UPDATE attacks to be usable by that attack vector.

From jackie.craig.sparks at live.com  Sun Nov 27 06:11:51 2011
From: jackie.craig.sparks at live.com (jackie sparks)
Date: Sun, 27 Nov 2011 01:11:51 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>,
	,,<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>,
	,,<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>,
	, , <CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>,
	, <BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>, ,
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>,
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>,
	<A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>
Message-ID: <BLU150-W620A3FE974467512267132DACD0@phx.gbl>


Only kids want to use SQL injections to be destructive. The pros use them to gain passwords for access, also to deface sites.(alot of people use the same passswords for everything. So if they gain the email address, a user name and password. Then they can go google dorking / phishing for more accounts with different services that the person uses and gain access to those services. A properly formed injection can pull data from other tables and display it places the original data was supposed to appear. 

So a photo album plugin they might decide to place usernames and passwords inside the places where the photo links will appear them. 

I'm in no way a pro at sql injections. 

--[Witty Signature Goes Below]---------------------------------------------------------------------------------------------------------------------
--[....]------
http://www.linkedin.com/profile/view?id=53668912&trk=tab_pro - linked in profile

http://www.facebook.com/skrapsrwt - feel free to add me on facebook.

http://www.ipetitions.com/petition/foodstamps/


http://www.ipetitions.com/petition/nodeaddawgs/


http://www.ipetitions.com/petition/mcdlunch/


http://www.causes.com/causes/633686-no-dead-dawgs



http://www.phonesnake.com - looking for support by sharing and liking our page and also sponsors to help with the project.

http://www.communicationslibrary.info - taking the knowlege outside the classroom so anyone can be a technician

http://chunkhost.com/r/getachunk - Support my VPS host sign up now 

http://www.facebook.com/profile.php?ref=profile&id=100000140654932

https://www.scriptlance.com/cgi-bin/freelancers/feedback.cgi?p=rwtskraps

http://twitter.com/#!/skraps_foo

http://twitter.com/#!/phonesnake

http://skraps.pastebin.com
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=--=-=-=
This e-mail (including attachments) is covered by the Electronic
Communications Privacy Act, 18 U.S.C. Sections 2510-2521, is
confidential, and is intended solely for the use of the individuals or
entities to whom it is addressed. If you are not the intended
recipient or the person responsible for delivering the e-mail to the
intended recipient, be advised that you have received this e-mail in
error and that any use, dissemination, forwarding, printing, or
copying of this e-mail and any file attachments is strictly
prohibited. If you have received this e-mail in error, please
immediately notify me by email at jackie.craig.sparks at live.com. You must destroy
the original transmission and its contents.


> From: mikeschinkel at newclarity.net
> Date: Sun, 27 Nov 2011 01:02:00 -0500
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Wordpress database encryption.
> 
> On Nov 27, 2011, at 12:37 AM, jackie sparks wrote:
> > Miscoded and rouge plugins, I'm talking about plugins that allow SQL injections. Not plugins that actually look like they have bad intent. 
> 
> I'm confused. Isn't SQL injection mostly destructive, and not for accessing information? Doesn't matter if a table's data is encrypted dropping a table still drops a table.
> 
> Of course I don't consider myself a security expert so maybe I'm wrong about this and it is reasonable to use SQL injection to access data?
> 
> > --[Witty Signature Goes Below]-- ...
> 
> Also, what's with all those links in your email?
> 
> -Mike
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

From jackie.craig.sparks at live.com  Sun Nov 27 06:20:07 2011
From: jackie.craig.sparks at live.com (jackie sparks)
Date: Sun, 27 Nov 2011 01:20:07 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>,
	,,<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>,
	,,<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>,
	, , <CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>,
	, <BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>, ,
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>,
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>
Message-ID: <BLU150-W355D44C692C30E89F72452DACD0@phx.gbl>


 http://code.google.com/p/wordpress-aes/source/browse/?name=development

I started working on it and have got the user meta values , and majority of the users table encrypted. Modded the setup to generate the keys. 

the development version fails on the login still but atleast populates the user fields.

I was doing a few things wrong and I think I still am. 


> From: jackie.craig.sparks at live.com
> To: wp-hackers at lists.automattic.com
> Date: Sun, 27 Nov 2011 00:37:54 -0500
> Subject: Re: [wp-hackers] Wordpress database encryption.
> 
> 
> Miscoded and rouge plugins, I'm talking about plugins that allow SQL injections. Not plugins that actually look like they have bad intent. 
> 
> --[Witty Signature Goes Below]---------------------------------------------------------------------------------------------------------------------
> --[....]------
> http://www.linkedin.com/profile/view?id=53668912&trk=tab_pro - linked in profile
> 
> http://www.facebook.com/skrapsrwt - feel free to add me on facebook.
> 
> http://www.ipetitions.com/petition/foodstamps/
> 
> 
> http://www.ipetitions.com/petition/nodeaddawgs/
> 
> 
> http://www.ipetitions.com/petition/mcdlunch/
> 
> 
> http://www.causes.com/causes/633686-no-dead-dawgs
> 
> 
> 
> http://www.phonesnake.com - looking for support by sharing and liking our page and also sponsors to help with the project.
> 
> http://www.communicationslibrary.info - taking the knowlege outside the classroom so anyone can be a technician
> 
> http://chunkhost.com/r/getachunk - Support my VPS host sign up now 
> 
> http://www.facebook.com/profile.php?ref=profile&id=100000140654932
> 
> https://www.scriptlance.com/cgi-bin/freelancers/feedback.cgi?p=rwtskraps
> 
> http://twitter.com/#!/skraps_foo
> 
> http://twitter.com/#!/phonesnake
> 
> http://skraps.pastebin.com
> -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=--=-=-=
> This e-mail (including attachments) is covered by the Electronic
> Communications Privacy Act, 18 U.S.C. Sections 2510-2521, is
> confidential, and is intended solely for the use of the individuals or
> entities to whom it is addressed. If you are not the intended
> recipient or the person responsible for delivering the e-mail to the
> intended recipient, be advised that you have received this e-mail in
> error and that any use, dissemination, forwarding, printing, or
> copying of this e-mail and any file attachments is strictly
> prohibited. If you have received this e-mail in error, please
> immediately notify me by email at jackie.craig.sparks at live.com. You must destroy
> the original transmission and its contents.
> 
> 
> > From: mikeschinkel at newclarity.net
> > Date: Sun, 27 Nov 2011 00:34:09 -0500
> > To: wp-hackers at lists.automattic.com
> > Subject: Re: [wp-hackers] Wordpress database encryption.
> > 
> > On Nov 27, 2011, at 12:18 AM, jackie sparks wrote:
> > > This can protect the data in the database from ... rouge plugins
> > 
> > If it is coded in core, then a rouge plugin would have access to the keys. It would be less likely a rouge plugin would make the effort to crack the security of another plugin, so I'd say a plugin would be more safe than core, not less.
> > 
> > > and miscoded plugins
> > 
> > How that?  If the plugins are miscoded and overwrite data, they still overwrite data, encrypted or no.
> > 
> > > This seems to be a huge problem, 
> > 
> > What kind of data are you trying to protect?  I assume that you are not worried about this just for personal blogging?  Is this for a client project, or are you just personally interested?
> > 
> > > if you read the sec lists in the past week.
> > 
> > Which lists/where are the archives that mention these issues?  I'd be interested to see those references.
> > 
> > -Mike
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>  		 	   		  
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

From jackie.craig.sparks at live.com  Sun Nov 27 06:22:11 2011
From: jackie.craig.sparks at live.com (jackie sparks)
Date: Sun, 27 Nov 2011 01:22:11 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <BLU150-W355D44C692C30E89F72452DACD0@phx.gbl>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>, , , ,
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>, , , ,
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>, , , 
	, <CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>, ,
	, <BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>,
	, , <754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>, ,
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>,
	<BLU150-W355D44C692C30E89F72452DACD0@phx.gbl>
Message-ID: <BLU150-W28F78E15309680C8780F93DACD0@phx.gbl>



The Downloaded version works http://code.google.com/p/wordpress-aes/downloads/list but it is missing the users emails addresses when being listed from wp-admin/users.php 

I decided to redo it because there was a few things wrong with it. 



 		 	   		  

From mikeschinkel at newclarity.net  Sun Nov 27 06:29:21 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 27 Nov 2011 01:29:21 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <CAL4EHfntCmM3KMEbFuyZgCayZjZVWZgEw9z0w71vFMB+2_OVeA@mail.gmail.com>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>
	<A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>
	<CAL4EHfntCmM3KMEbFuyZgCayZjZVWZgEw9z0w71vFMB+2_OVeA@mail.gmail.com>
Message-ID: <828CBE82-578B-4EDB-A507-AD2AEEBE35D0@newclarity.net>

On Nov 27, 2011, at 1:09 AM, Dion Hulse (dd32) wrote:
> SQL Injection can be used for anything; Adding users, Deleting users,
> Droping tables, and in many cases, Has also been used to alter the
> SELECT query to display different data than expected, For example, if
> you could SQL inject the primary WP_Query SQL, you could make the
> posts list display usernames/emails/hashed passwords instead of posts.

Okay, I get the adding of users, that makes sense. I can also see how they could get hashed passwords from an authors list.

But I still don't see how you could use SQL injection to get hashed passwords from the posts list unless it was an extremely complex SQL query combine with a really wide open hole, or if if the plugin already added a join to the users table.  To get hashed passwords the injection would have to modify the field list, and the table list, no? The field list is easy for a poorly coded plugin, but I don't see how it's likely to annotate a join to the table list via SQL injection?  If it is possible, please inform me how so I can make sure to never allow it in my plugins.

-Mike


From wordpress at dd32.id.au  Sun Nov 27 07:05:57 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 27 Nov 2011 18:05:57 +1100
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <828CBE82-578B-4EDB-A507-AD2AEEBE35D0@newclarity.net>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>
	<A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>
	<CAL4EHfntCmM3KMEbFuyZgCayZjZVWZgEw9z0w71vFMB+2_OVeA@mail.gmail.com>
	<828CBE82-578B-4EDB-A507-AD2AEEBE35D0@newclarity.net>
Message-ID: <CAL4EHf=DahpQ6B=0HQuhXB-dj0grW1J0BVgVzaPvYcuyL20toQ@mail.gmail.com>

On 27 November 2011 17:29, Mike Schinkel <mikeschinkel at newclarity.net> wrote:
> On Nov 27, 2011, at 1:09 AM, Dion Hulse (dd32) wrote:
>> SQL Injection can be used for anything; Adding users, Deleting users,
>> Droping tables, and in many cases, Has also been used to alter the
>> SELECT query to display different data than expected, For example, if
>> you could SQL inject the primary WP_Query SQL, you could make the
>> posts list display usernames/emails/hashed passwords instead of posts.
>
> Okay, I get the adding of users, that makes sense. I can also see how they could get hashed passwords from an authors list.
>
> But I still don't see how you could use SQL injection to get hashed passwords from the posts list unless it was an extremely complex SQL query combine with a really wide open hole, or if if the plugin already added a join to the users table. ?To get hashed passwords the injection would have to modify the field list, and the table list, no? The field list is easy for a poorly coded plugin, but I don't see how it's likely to annotate a join to the table list via SQL injection? ?If it is possible, please inform me how so I can make sure to never allow it in my plugins.

Basically, always sanitize any data doing into a SQL statement.
For example, if you had a plugin which filtered the WHERE statement,
like so: (Yes, I realise this is wrong on so many levels, and won't
work as-is due to escaping)

add_filter('sql_where_hook_name', function($sql) {  return $sql .  '
AND post_date > ' . $_GET['some_field']; } );
something such as ?some_field=1 AND 0=1 UNION SELECT user_name as
post_title, user_pass as post_content FROM wp_users; --

would trigger a altered SQL which combines the the posts table with
records from the users table, Including a comment character (--) or a
null-byte character at the end causes the rest original query to be
ignored.

The simplest way to avoid it happening?
- Always use prepared statements.
- don't do direct SQL calls to start with..
- Triple check if the function/filter you're using expects sanitized
data or unsanitized data to be passed/returned (simplest way to check
is that \ and ' works as expected, although that's not a definite
secure way to check) - I mention functions, because although WordPress
devs do the best we can, we're human too, and not imune to making a
mistake.. If a function expects sanitized data, and you pass raw data
from a user in, who knows what will happen (luckely, this shouldn't be
a problem now, as there are only a few places where prepared
statements aren't used)
- Attack your own code, if you're accepting data from a user, or from
a URL, look at it and see if you can craft some data that will break
your plugin, or bypass your checks. For example, if you're only
accepting an number, why not cast it to an int?  if it's a specific
command, check that string exists in an array: if (
isset($_GET['my_command'] && !in_array($_GET['my_command'],
array('command1', 'command2') ) { die('Uh, what are you doing?'); }


This tutorial (even if you just look at the examples) shows how you
can exploit injections with ease:
http://www.unixwiz.net/techtips/sql-injection.html

I hope you find something of use here Mike, but my best advice is
really "Never trust a human, or a Computer for that matter, Whitelist
what they're allowed to do, Don't just block all 'DROP' in input data
(as I see some sites do)"

From mikeschinkel at newclarity.net  Sun Nov 27 23:42:59 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 27 Nov 2011 18:42:59 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <CAL4EHf=DahpQ6B=0HQuhXB-dj0grW1J0BVgVzaPvYcuyL20toQ@mail.gmail.com>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>
	<A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>
	<CAL4EHfntCmM3KMEbFuyZgCayZjZVWZgEw9z0w71vFMB+2_OVeA@mail.gmail.com>
	<828CBE82-578B-4EDB-A507-AD2AEEBE35D0@newclarity.net>
	<CAL4EHf=DahpQ6B=0HQuhXB-dj0grW1J0BVgVzaPvYcuyL20toQ@mail.gmail.com>
Message-ID: <BC80FFA3-120A-4117-9E03-31B5CD97DD6B@newclarity.net>

On Nov 27, 2011, at 2:05 AM, Dion Hulse (dd32) wrote:
> Basically, always sanitize any data doing into a SQL statement.
> For example, if you had a plugin which filtered the WHERE statement,
> like so: (Yes, I realise this is wrong on so many levels, and won't
> work as-is due to escaping)
> 
> add_filter('sql_where_hook_name', function($sql) {  return $sql .  '
> AND post_date > ' . $_GET['some_field']; } );
> something such as ?some_field=1 AND 0=1 UNION SELECT user_name as
> post_title, user_pass as post_content FROM wp_users; --

OK, thanks. It's the UNION statement I drew a blank on (embarrassed, I've only been working professionally with SQL since 1994...) I get it now.

> The simplest way to avoid it happening?
> - Always use prepared statements.

Fortunately I've already been doing this, just didn't always know why it mattered in some cases. Now I think I do.

> - don't do direct SQL calls to start with..

Heh. Sometimes you can't help it.  But, that's what $wpdb->prepare() is for, right?

> check if the function/filter you're using expects sanitized
> data or unsanitized data to be passed/returned (simplest way to check
> is that \ and ' works as expected, although that's not a definite
> secure way to check)

That's helpful too.

> For example, if you're only
> accepting an number, why not cast it to an int?  if it's a specific
> command, check that string exists in an array: if (
> isset($_GET['my_command'] && !in_array($_GET['my_command'],
> array('command1', 'command2') ) { die('Uh, what are you doing?'); }

Ditto there.

> This tutorial (even if you just look at the examples) shows how you
> can exploit injections with ease:
> http://www.unixwiz.net/techtips/sql-injection.html

Exactly what I was asking for. Thanks!

> I hope you find something of use here Mike, but my best advice is
> really "Never trust a human, or a Computer for that matter, Whitelist
> what they're allowed to do, Don't just block all 'DROP' in input data
> (as I see some sites do)"

It was very helpful, thank you.  AFAICT, I've been following all necessary best practices, I just have not understood all the main use cases that were being protected against. Now I do. Cool.

-Mike

From stas at nerd.ro  Mon Nov 28 08:32:29 2011
From: stas at nerd.ro (=?UTF-8?B?U3RhcyBTdciZY292?=)
Date: Mon, 28 Nov 2011 10:32:29 +0200
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <BC80FFA3-120A-4117-9E03-31B5CD97DD6B@newclarity.net>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>
	<A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>
	<CAL4EHfntCmM3KMEbFuyZgCayZjZVWZgEw9z0w71vFMB+2_OVeA@mail.gmail.com>
	<828CBE82-578B-4EDB-A507-AD2AEEBE35D0@newclarity.net>
	<CAL4EHf=DahpQ6B=0HQuhXB-dj0grW1J0BVgVzaPvYcuyL20toQ@mail.gmail.com>
	<BC80FFA3-120A-4117-9E03-31B5CD97DD6B@newclarity.net>
Message-ID: <4ED3471D.6040500@nerd.ro>

On Lu 28 nov 2011 01:42:59 +0200, Mike Schinkel wrote:
> On Nov 27, 2011, at 2:05 AM, Dion Hulse (dd32) wrote:
>> Basically, always sanitize any data doing into a SQL statement.
>> For example, if you had a plugin which filtered the WHERE statement,
>> like so: (Yes, I realise this is wrong on so many levels, and won't
>> work as-is due to escaping)
>>
>> add_filter('sql_where_hook_name', function($sql) {  return $sql .  '
>> AND post_date>  ' . $_GET['some_field']; } );
>> something such as ?some_field=1 AND 0=1 UNION SELECT user_name as
>> post_title, user_pass as post_content FROM wp_users; --
>
> OK, thanks. It's the UNION statement I drew a blank on (embarrassed, I've only been working professionally with SQL since 1994...) I get it now.
>
>> The simplest way to avoid it happening?
>> - Always use prepared statements.
>
> Fortunately I've already been doing this, just didn't always know why it mattered in some cases. Now I think I do.
>
>> - don't do direct SQL calls to start with..
>
> Heh. Sometimes you can't help it.  But, that's what $wpdb->prepare() is for, right?
>
>> check if the function/filter you're using expects sanitized
>> data or unsanitized data to be passed/returned (simplest way to check
>> is that \ and ' works as expected, although that's not a definite
>> secure way to check)
>
> That's helpful too.
>
>> For example, if you're only
>> accepting an number, why not cast it to an int?  if it's a specific
>> command, check that string exists in an array: if (
>> isset($_GET['my_command']&&  !in_array($_GET['my_command'],
>> array('command1', 'command2') ) { die('Uh, what are you doing?'); }
>
> Ditto there.
>
>> This tutorial (even if you just look at the examples) shows how you
>> can exploit injections with ease:
>> http://www.unixwiz.net/techtips/sql-injection.html
>
> Exactly what I was asking for. Thanks!
>
>> I hope you find something of use here Mike, but my best advice is
>> really "Never trust a human, or a Computer for that matter, Whitelist
>> what they're allowed to do, Don't just block all 'DROP' in input data
>> (as I see some sites do)"
>
> It was very helpful, thank you.  AFAICT, I've been following all necessary best practices, I just have not understood all the main use cases that were being protected against. Now I do. Cool.
>

Imho, you are doing it wrong.
Ages have learned you to not trust human, but in modern times (21st 
century) this led to TDD/TBD and definitely not to solutions like this.
Beside complicating things, your solution will also have impact on 
performance not mentioning portability of the stored data.
Anyway, as it was already said, everyone is free to act the way he 
decides, but your impact could have been greater if you provided a set 
of tests/specs that will cover wpdb class.

Good luck.

From jackie.craig.sparks at live.com  Mon Nov 28 09:15:42 2011
From: jackie.craig.sparks at live.com (jackie sparks)
Date: Mon, 28 Nov 2011 04:15:42 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <4ED3471D.6040500@nerd.ro>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>,
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>,
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>,
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>,
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>,
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>,
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>,
	<A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>,
	<CAL4EHfntCmM3KMEbFuyZgCayZjZVWZgEw9z0w71vFMB+2_OVeA@mail.gmail.com>,
	<828CBE82-578B-4EDB-A507-AD2AEEBE35D0@newclarity.net>,
	<CAL4EHf=DahpQ6B=0HQuhXB-dj0grW1J0BVgVzaPvYcuyL20toQ@mail.gmail.com>,
	<BC80FFA3-120A-4117-9E03-31B5CD97DD6B@newclarity.net>,
	<4ED3471D.6040500@nerd.ro>
Message-ID: <BLU150-W606F1D7E8ABF7BDBD6530BDAB20@phx.gbl>



Doing what wrong? Affecting data portability? It's still all the same data. It would only be encrypted data.

Performance? I really don't see that as being a issue in a day and age where we have 1.2 ghz processors packed into computers tha size of thumb drives and muti-processor multi-core systems capable of sustaining 50-100 websites at once. Honestly on my 2 ghz laptop I don't notice a difference in the speed. 

--[Witty Signature Goes Below]---------------------------------------------------------------------------------------------------------------------
--[....]------
http://www.linkedin.com/profile/view?id=53668912&trk=tab_pro - linked in profile

http://www.facebook.com/skrapsrwt - feel free to add me on facebook.

http://www.ipetitions.com/petition/foodstamps/


http://www.ipetitions.com/petition/nodeaddawgs/


http://www.ipetitions.com/petition/mcdlunch/


http://www.causes.com/causes/633686-no-dead-dawgs



http://www.phonesnake.com - looking for support by sharing and liking our page and also sponsors to help with the project.

http://www.communicationslibrary.info - taking the knowlege outside the classroom so anyone can be a technician

http://chunkhost.com/r/getachunk - Support my VPS host sign up now 

http://www.facebook.com/profile.php?ref=profile&id=100000140654932

https://www.scriptlance.com/cgi-bin/freelancers/feedback.cgi?p=rwtskraps

http://twitter.com/#!/skraps_foo

http://twitter.com/#!/phonesnake

http://skraps.pastebin.com
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=--=-=-=
This e-mail (including attachments) is covered by the Electronic
Communications Privacy Act, 18 U.S.C. Sections 2510-2521, is
confidential, and is intended solely for the use of the individuals or
entities to whom it is addressed. If you are not the intended
recipient or the person responsible for delivering the e-mail to the
intended recipient, be advised that you have received this e-mail in
error and that any use, dissemination, forwarding, printing, or
copying of this e-mail and any file attachments is strictly
prohibited. If you have received this e-mail in error, please
immediately notify me by email at jackie.craig.sparks at live.com. You must destroy
the original transmission and its contents.


> Date: Mon, 28 Nov 2011 10:32:29 +0200
> From: stas at nerd.ro
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Wordpress database encryption.
> 
> On Lu 28 nov 2011 01:42:59 +0200, Mike Schinkel wrote:
> > On Nov 27, 2011, at 2:05 AM, Dion Hulse (dd32) wrote:
> >> Basically, always sanitize any data doing into a SQL statement.
> >> For example, if you had a plugin which filtered the WHERE statement,
> >> like so: (Yes, I realise this is wrong on so many levels, and won't
> >> work as-is due to escaping)
> >>
> >> add_filter('sql_where_hook_name', function($sql) {  return $sql .  '
> >> AND post_date>  ' . $_GET['some_field']; } );
> >> something such as ?some_field=1 AND 0=1 UNION SELECT user_name as
> >> post_title, user_pass as post_content FROM wp_users; --
> >
> > OK, thanks. It's the UNION statement I drew a blank on (embarrassed, I've only been working professionally with SQL since 1994...) I get it now.
> >
> >> The simplest way to avoid it happening?
> >> - Always use prepared statements.
> >
> > Fortunately I've already been doing this, just didn't always know why it mattered in some cases. Now I think I do.
> >
> >> - don't do direct SQL calls to start with..
> >
> > Heh. Sometimes you can't help it.  But, that's what $wpdb->prepare() is for, right?
> >
> >> check if the function/filter you're using expects sanitized
> >> data or unsanitized data to be passed/returned (simplest way to check
> >> is that \ and ' works as expected, although that's not a definite
> >> secure way to check)
> >
> > That's helpful too.
> >
> >> For example, if you're only
> >> accepting an number, why not cast it to an int?  if it's a specific
> >> command, check that string exists in an array: if (
> >> isset($_GET['my_command']&&  !in_array($_GET['my_command'],
> >> array('command1', 'command2') ) { die('Uh, what are you doing?'); }
> >
> > Ditto there.
> >
> >> This tutorial (even if you just look at the examples) shows how you
> >> can exploit injections with ease:
> >> http://www.unixwiz.net/techtips/sql-injection.html
> >
> > Exactly what I was asking for. Thanks!
> >
> >> I hope you find something of use here Mike, but my best advice is
> >> really "Never trust a human, or a Computer for that matter, Whitelist
> >> what they're allowed to do, Don't just block all 'DROP' in input data
> >> (as I see some sites do)"
> >
> > It was very helpful, thank you.  AFAICT, I've been following all necessary best practices, I just have not understood all the main use cases that were being protected against. Now I do. Cool.
> >
> 
> Imho, you are doing it wrong.
> Ages have learned you to not trust human, but in modern times (21st 
> century) this led to TDD/TBD and definitely not to solutions like this.
> Beside complicating things, your solution will also have impact on 
> performance not mentioning portability of the stored data.
> Anyway, as it was already said, everyone is free to act the way he 
> decides, but your impact could have been greater if you provided a set 
> of tests/specs that will cover wpdb class.
> 
> Good luck.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

From stas at nerd.ro  Mon Nov 28 10:27:38 2011
From: stas at nerd.ro (=?UTF-8?B?U3RhcyBTdciZY292?=)
Date: Mon, 28 Nov 2011 12:27:38 +0200
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <BLU150-W606F1D7E8ABF7BDBD6530BDAB20@phx.gbl>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>
	<A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>
	<CAL4EHfntCmM3KMEbFuyZgCayZjZVWZgEw9z0w71vFMB+2_OVeA@mail.gmail.com>
	<828CBE82-578B-4EDB-A507-AD2AEEBE35D0@newclarity.net>
	<CAL4EHf=DahpQ6B=0HQuhXB-dj0grW1J0BVgVzaPvYcuyL20toQ@mail.gmail.com>
	<BC80FFA3-120A-4117-9E03-31B5CD97DD6B@newclarity.net>
	<4ED3471D.6040500@nerd.ro>
	<BLU150-W606F1D7E8ABF7BDBD6530BDAB20@phx.gbl>
Message-ID: <4ED3621A.5040103@nerd.ro>

On Lu 28 nov 2011 11:15:42 +0200, jackie sparks wrote:
>
>
> Doing what wrong? Affecting data portability? It's still all the same data. It would only be encrypted data.
>
> Performance? I really don't see that as being a issue in a day and age where we have 1.2 ghz processors packed into computers tha size of thumb drives and muti-processor multi-core systems capable of sustaining 50-100 websites at once. Honestly on my 2 ghz laptop I don't notice a difference in the speed.
>


I really hope this is not the conclusion that left after reading my 
post (hint, it wasn't about performance or whatever else, in the first 
place!).
Once again, it's just an opinion, you can ignore it or carry on.

From jackie.craig.sparks at live.com  Mon Nov 28 10:32:14 2011
From: jackie.craig.sparks at live.com (jackie sparks)
Date: Mon, 28 Nov 2011 05:32:14 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <4ED3471D.6040500@nerd.ro>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>,
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>,
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>,
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>,
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>,
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>,
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>,
	<A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>,
	<CAL4EHfntCmM3KMEbFuyZgCayZjZVWZgEw9z0w71vFMB+2_OVeA@mail.gmail.com>,
	<828CBE82-578B-4EDB-A507-AD2AEEBE35D0@newclarity.net>,
	<CAL4EHf=DahpQ6B=0HQuhXB-dj0grW1J0BVgVzaPvYcuyL20toQ@mail.gmail.com>,
	<BC80FFA3-120A-4117-9E03-31B5CD97DD6B@newclarity.net>,
	<4ED3471D.6040500@nerd.ro>
Message-ID: <BLU150-W75B492AFE77709058E5ECDAB20@phx.gbl>


Honestly security is worth a lot more than speed. IMHO. Honestly if wordpress or joomla were to initiate these types of changes it would set a new security standard in the open source community. Enterprise grade security for even the people who can't afford it.

No one else is doing it at this point, not even commercial forum and blogging solutions. This would be ahead of the curve. 


The Grub devs didn't want to mainline Michael Gorvens(in no way am I comparing me to Michael, I know there are better ways of doing what I did. I just prototyped it and still trying to figure out the best way to incorporate it into the wp-db class now.) work with boot partition encryption at first. Then Vladmir main lined it. Turned out tons of people wanted it and it helped so many people. Here soon you will see it as a option in modern distro. I really hope Ubuntu includes it in there next release.


> Date: Mon, 28 Nov 2011 10:32:29 +0200
> From: stas at nerd.ro
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Wordpress database encryption.
> 
> On Lu 28 nov 2011 01:42:59 +0200, Mike Schinkel wrote:
> > On Nov 27, 2011, at 2:05 AM, Dion Hulse (dd32) wrote:
> >> Basically, always sanitize any data doing into a SQL statement.
> >> For example, if you had a plugin which filtered the WHERE statement,
> >> like so: (Yes, I realise this is wrong on so many levels, and won't
> >> work as-is due to escaping)
> >>
> >> add_filter('sql_where_hook_name', function($sql) {  return $sql .  '
> >> AND post_date>  ' . $_GET['some_field']; } );
> >> something such as ?some_field=1 AND 0=1 UNION SELECT user_name as
> >> post_title, user_pass as post_content FROM wp_users; --
> >
> > OK, thanks. It's the UNION statement I drew a blank on (embarrassed, I've only been working professionally with SQL since 1994...) I get it now.
> >
> >> The simplest way to avoid it happening?
> >> - Always use prepared statements.
> >
> > Fortunately I've already been doing this, just didn't always know why it mattered in some cases. Now I think I do.
> >
> >> - don't do direct SQL calls to start with..
> >
> > Heh. Sometimes you can't help it.  But, that's what $wpdb->prepare() is for, right?
> >
> >> check if the function/filter you're using expects sanitized
> >> data or unsanitized data to be passed/returned (simplest way to check
> >> is that \ and ' works as expected, although that's not a definite
> >> secure way to check)
> >
> > That's helpful too.
> >
> >> For example, if you're only
> >> accepting an number, why not cast it to an int?  if it's a specific
> >> command, check that string exists in an array: if (
> >> isset($_GET['my_command']&&  !in_array($_GET['my_command'],
> >> array('command1', 'command2') ) { die('Uh, what are you doing?'); }
> >
> > Ditto there.
> >
> >> This tutorial (even if you just look at the examples) shows how you
> >> can exploit injections with ease:
> >> http://www.unixwiz.net/techtips/sql-injection.html
> >
> > Exactly what I was asking for. Thanks!
> >
> >> I hope you find something of use here Mike, but my best advice is
> >> really "Never trust a human, or a Computer for that matter, Whitelist
> >> what they're allowed to do, Don't just block all 'DROP' in input data
> >> (as I see some sites do)"
> >
> > It was very helpful, thank you.  AFAICT, I've been following all necessary best practices, I just have not understood all the main use cases that were being protected against. Now I do. Cool.
> >
> 
> Imho, you are doing it wrong.
> Ages have learned you to not trust human, but in modern times (21st 
> century) this led to TDD/TBD and definitely not to solutions like this.
> Beside complicating things, your solution will also have impact on 
> performance not mentioning portability of the stored data.
> Anyway, as it was already said, everyone is free to act the way he 
> decides, but your impact could have been greater if you provided a set 
> of tests/specs that will cover wpdb class.
> 
> Good luck.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

From tcbarrett at gmail.com  Mon Nov 28 12:18:50 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Mon, 28 Nov 2011 12:18:50 +0000
Subject: [wp-hackers] Building a JSON API style plugin
In-Reply-To: <CAD-FghxMxVmqZLh79QGhiZd5bUzdVUJC+FYMu-YesfZS+CxX+w@mail.gmail.com>
References: <CAEgmxaaicsyypygSbehG5=q4+zN948WJMw=rvQCeGBLcWTMaDQ@mail.gmail.com>
	<CAD-FghxMxVmqZLh79QGhiZd5bUzdVUJC+FYMu-YesfZS+CxX+w@mail.gmail.com>
Message-ID: <CAEgmxaaLDKLe3zK_O=96YusLn+RdmCz1ktu7DHcYBtCx6p4wjA@mail.gmail.com>

I've come back onto this project.

On 2 November 2011 17:38, Otto <otto at ottodestruct.com> wrote:If it was
something I was putting in a plugin or releasing, then
>
> template_redirect is where I'd generally put it, with some additional
> rewrite rules to make the URLs pretty. This is fairly easy to do,
> actually. Say you wanted to have the URLs look like /ticket/12345:
>
> add_action('init','ticket_add_rewrite');
> function ticket_add_rewrite() {
>       global $wp;
>       $wp->add_query_var('ticket');
>       add_rewrite_rule('ticket/([0-9]+)/?$',
> 'index.php?ticket=$matches[1]', 'top');
> }
>
> Then you visit the permalinks page to make it rebuild the rules, and
> voila. You'll get the ticket number with get_query_var('ticket'). So
> you'd change to something like this:
>
> add_action( 'template_redirect', 'get_ticket' );
> function get_ticket(){
>  $ticket_num = get_query_var('ticket');
>  if ( empty($ticket_num) ) return;
>  $ticket = get_ticket_details($ticket_num);
>  header('Content-Type: application/json');
>  echo json_encode($ticket);
>  exit(0);
> }
>

I tried this, but $ticket_num is never populated. I add those lines to a
theme functions.php, visit the permalinks page and save. There are no
ticket/ entries in the rewrite_rules option table entry.

Looking at http://codex.wordpress.org/Rewrite_API/add_rewrite_rule I can't
see what is wrong with it.
I don't think I want this:
http://codex.wordpress.org/Rewrite_API/add_rewrite_tag.

So I'm not quite sure where to look now?


-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From patrick_laverty at brown.edu  Mon Nov 28 13:55:30 2011
From: patrick_laverty at brown.edu (Patrick Laverty)
Date: Mon, 28 Nov 2011 08:55:30 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <BLU150-W75B492AFE77709058E5ECDAB20@phx.gbl>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>
	<A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>
	<CAL4EHfntCmM3KMEbFuyZgCayZjZVWZgEw9z0w71vFMB+2_OVeA@mail.gmail.com>
	<828CBE82-578B-4EDB-A507-AD2AEEBE35D0@newclarity.net>
	<CAL4EHf=DahpQ6B=0HQuhXB-dj0grW1J0BVgVzaPvYcuyL20toQ@mail.gmail.com>
	<BC80FFA3-120A-4117-9E03-31B5CD97DD6B@newclarity.net>
	<4ED3471D.6040500@nerd.ro>
	<BLU150-W75B492AFE77709058E5ECDAB20@phx.gbl>
Message-ID: <CAHZK5ObeNjBsfbHhUpNAdVAkdhkzKcD-UcrT2uEkJ6vVZSpyxA@mail.gmail.com>

Sorry for the n00b question at this point, but what are you trying to
protect? Encryption doesn't help against SQL injection, as the app
will simply decrypt the data that you get back, right? So then the
protection is against someone exporting the whole database out from
under the application? If that's the concern, aren't there really
bigger problems, like securing the machine and if they have access to
the server at that level, then they also have access to everything to
decrypt the database?

Sorry, I'm not completely understanding yet what is the goal.

Thank you.



On Mon, Nov 28, 2011 at 5:32 AM, jackie sparks
<jackie.craig.sparks at live.com> wrote:
>
> Honestly security is worth a lot more than speed. IMHO. Honestly if wordpress or joomla were to initiate these types of changes it would set a new security standard in the open source community. Enterprise grade security for even the people who can't afford it.
>
> No one else is doing it at this point, not even commercial forum and blogging solutions. This would be ahead of the curve.
>
>
> The Grub devs didn't want to mainline Michael Gorvens(in no way am I comparing me to Michael, I know there are better ways of doing what I did. I just prototyped it and still trying to figure out the best way to incorporate it into the wp-db class now.) work with boot partition encryption at first. Then Vladmir main lined it. Turned out tons of people wanted it and it helped so many people. Here soon you will see it as a option in modern distro. I really hope Ubuntu includes it in there next release.
>
>
>> Date: Mon, 28 Nov 2011 10:32:29 +0200
>> From: stas at nerd.ro
>> To: wp-hackers at lists.automattic.com
>> Subject: Re: [wp-hackers] Wordpress database encryption.
>>
>> On Lu 28 nov 2011 01:42:59 +0200, Mike Schinkel wrote:
>> > On Nov 27, 2011, at 2:05 AM, Dion Hulse (dd32) wrote:
>> >> Basically, always sanitize any data doing into a SQL statement.
>> >> For example, if you had a plugin which filtered the WHERE statement,
>> >> like so: (Yes, I realise this is wrong on so many levels, and won't
>> >> work as-is due to escaping)
>> >>
>> >> add_filter('sql_where_hook_name', function($sql) { ?return $sql . ?'
>> >> AND post_date> ?' . $_GET['some_field']; } );
>> >> something such as ?some_field=1 AND 0=1 UNION SELECT user_name as
>> >> post_title, user_pass as post_content FROM wp_users; --
>> >
>> > OK, thanks. It's the UNION statement I drew a blank on (embarrassed, I've only been working professionally with SQL since 1994...) I get it now.
>> >
>> >> The simplest way to avoid it happening?
>> >> - Always use prepared statements.
>> >
>> > Fortunately I've already been doing this, just didn't always know why it mattered in some cases. Now I think I do.
>> >
>> >> - don't do direct SQL calls to start with..
>> >
>> > Heh. Sometimes you can't help it. ?But, that's what $wpdb->prepare() is for, right?
>> >
>> >> check if the function/filter you're using expects sanitized
>> >> data or unsanitized data to be passed/returned (simplest way to check
>> >> is that \ and ' works as expected, although that's not a definite
>> >> secure way to check)
>> >
>> > That's helpful too.
>> >
>> >> For example, if you're only
>> >> accepting an number, why not cast it to an int? ?if it's a specific
>> >> command, check that string exists in an array: if (
>> >> isset($_GET['my_command']&& ?!in_array($_GET['my_command'],
>> >> array('command1', 'command2') ) { die('Uh, what are you doing?'); }
>> >
>> > Ditto there.
>> >
>> >> This tutorial (even if you just look at the examples) shows how you
>> >> can exploit injections with ease:
>> >> http://www.unixwiz.net/techtips/sql-injection.html
>> >
>> > Exactly what I was asking for. Thanks!
>> >
>> >> I hope you find something of use here Mike, but my best advice is
>> >> really "Never trust a human, or a Computer for that matter, Whitelist
>> >> what they're allowed to do, Don't just block all 'DROP' in input data
>> >> (as I see some sites do)"
>> >
>> > It was very helpful, thank you. ?AFAICT, I've been following all necessary best practices, I just have not understood all the main use cases that were being protected against. Now I do. Cool.
>> >
>>
>> Imho, you are doing it wrong.
>> Ages have learned you to not trust human, but in modern times (21st
>> century) this led to TDD/TBD and definitely not to solutions like this.
>> Beside complicating things, your solution will also have impact on
>> performance not mentioning portability of the stored data.
>> Anyway, as it was already said, everyone is free to act the way he
>> decides, but your impact could have been greater if you provided a set
>> of tests/specs that will cover wpdb class.
>>
>> Good luck.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jackie.craig.sparks at live.com  Mon Nov 28 14:15:05 2011
From: jackie.craig.sparks at live.com (jackie sparks)
Date: Mon, 28 Nov 2011 09:15:05 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <CAHZK5ObeNjBsfbHhUpNAdVAkdhkzKcD-UcrT2uEkJ6vVZSpyxA@mail.gmail.com>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>,
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>,
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>,
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>,
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>,
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>,
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>,
	<A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>,
	<CAL4EHfntCmM3KMEbFuyZgCayZjZVWZgEw9z0w71vFMB+2_OVeA@mail.gmail.com>,
	<828CBE82-578B-4EDB-A507-AD2AEEBE35D0@newclarity.net>,
	<CAL4EHf=DahpQ6B=0HQuhXB-dj0grW1J0BVgVzaPvYcuyL20toQ@mail.gmail.com>,
	<BC80FFA3-120A-4117-9E03-31B5CD97DD6B@newclarity.net>,
	<4ED3471D.6040500@nerd.ro>,
	<BLU150-W75B492AFE77709058E5ECDAB20@phx.gbl>,
	<CAHZK5ObeNjBsfbHhUpNAdVAkdhkzKcD-UcrT2uEkJ6vVZSpyxA@mail.gmail.com>
Message-ID: <BLU150-W3871B1E9FC96C500C1E9E1DAB20@phx.gbl>


 ?Encryption doesn't help against SQL injection.?

Yes it does. When using the AES_ENCRYPT and AES_DECRYPT calls its formatted like so AES_ENCRYPT('datahere', 'somekey'); AES_DECRYPT('column_name', 'somekey') so when performing the sql with a union statement they now have to use AES_DECRYPT('column_name', 'key') 

So if they are able to retrieve any data it is double AES encrypted with different 255 character keys. This would kill brute forcing attempts. Currently wordpress uses md5 salted hashes for passwords. These can be cracked in minutes with GPU acceleration. 

https://www.google.com/search?client=ubuntu&channel=fs&q=port+443&ie=utf-8&oe=utf-8#sclient=psy-ab&hl=en&client=ubuntu&hs=bHi&channel=fs&source=hp&q=john+ripper+gpu+acceleration+support+you+tube+md5&pbx=1&oq=john+ripper+gpu+acceleration+support+you+tube+md5&aq=f&aqi=&aql=&gs_sm=e&gs_upl=1300l6597l1l6786l13l11l0l0l0l0l355l2666l0.1.6.3l10l0&bav=on.2,or.r_gc.r_pw.,cf.osb&fp=614028ccd2490d92&biw=1280&bih=712


If they have done that. all they get back is encrypted data that will not be processed by internal decrypt functions because the way I'm trying to set it up in the development branch here http://code.google.com/p/wordpress-aes/source/browse/?name=development it will only process certain queries run thru the application by means of a preg_match regex. 

If the machine is compromised in another fashion ie: service zero day, then they will have the keys. But for the most part if your services are kept up to date then you don't have anything to worry about. This would be a huge security improvement for the whole system and mitigating SQL fuzzing and injections on the system. Alot of crackers wouldn't even want to deal with the hassle of cracking the information they retrieved because it would take so long.


> Date: Mon, 28 Nov 2011 08:55:30 -0500
> From: patrick_laverty at brown.edu
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Wordpress database encryption.
> 
> Sorry for the n00b question at this point, but what are you trying to
> protect? Encryption doesn't help against SQL injection, as the app
> will simply decrypt the data that you get back, right? So then the
> protection is against someone exporting the whole database out from
> under the application? If that's the concern, aren't there really
> bigger problems, like securing the machine and if they have access to
> the server at that level, then they also have access to everything to
> decrypt the database?
> 
> Sorry, I'm not completely understanding yet what is the goal.
> 
> Thank you.
> 
> 
> 
> On Mon, Nov 28, 2011 at 5:32 AM, jackie sparks
> <jackie.craig.sparks at live.com> wrote:
> >
> > Honestly security is worth a lot more than speed. IMHO. Honestly if wordpress or joomla were to initiate these types of changes it would set a new security standard in the open source community. Enterprise grade security for even the people who can't afford it.
> >
> > No one else is doing it at this point, not even commercial forum and blogging solutions. This would be ahead of the curve.
> >
> >
> > The Grub devs didn't want to mainline Michael Gorvens(in no way am I comparing me to Michael, I know there are better ways of doing what I did. I just prototyped it and still trying to figure out the best way to incorporate it into the wp-db class now.) work with boot partition encryption at first. Then Vladmir main lined it. Turned out tons of people wanted it and it helped so many people. Here soon you will see it as a option in modern distro. I really hope Ubuntu includes it in there next release.
> >
> >
> >> Date: Mon, 28 Nov 2011 10:32:29 +0200
> >> From: stas at nerd.ro
> >> To: wp-hackers at lists.automattic.com
> >> Subject: Re: [wp-hackers] Wordpress database encryption.
> >>
> >> On Lu 28 nov 2011 01:42:59 +0200, Mike Schinkel wrote:
> >> > On Nov 27, 2011, at 2:05 AM, Dion Hulse (dd32) wrote:
> >> >> Basically, always sanitize any data doing into a SQL statement.
> >> >> For example, if you had a plugin which filtered the WHERE statement,
> >> >> like so: (Yes, I realise this is wrong on so many levels, and won't
> >> >> work as-is due to escaping)
> >> >>
> >> >> add_filter('sql_where_hook_name', function($sql) {  return $sql .  '
> >> >> AND post_date>  ' . $_GET['some_field']; } );
> >> >> something such as ?some_field=1 AND 0=1 UNION SELECT user_name as
> >> >> post_title, user_pass as post_content FROM wp_users; --
> >> >
> >> > OK, thanks. It's the UNION statement I drew a blank on (embarrassed, I've only been working professionally with SQL since 1994...) I get it now.
> >> >
> >> >> The simplest way to avoid it happening?
> >> >> - Always use prepared statements.
> >> >
> >> > Fortunately I've already been doing this, just didn't always know why it mattered in some cases. Now I think I do.
> >> >
> >> >> - don't do direct SQL calls to start with..
> >> >
> >> > Heh. Sometimes you can't help it.  But, that's what $wpdb->prepare() is for, right?
> >> >
> >> >> check if the function/filter you're using expects sanitized
> >> >> data or unsanitized data to be passed/returned (simplest way to check
> >> >> is that \ and ' works as expected, although that's not a definite
> >> >> secure way to check)
> >> >
> >> > That's helpful too.
> >> >
> >> >> For example, if you're only
> >> >> accepting an number, why not cast it to an int?  if it's a specific
> >> >> command, check that string exists in an array: if (
> >> >> isset($_GET['my_command']&&  !in_array($_GET['my_command'],
> >> >> array('command1', 'command2') ) { die('Uh, what are you doing?'); }
> >> >
> >> > Ditto there.
> >> >
> >> >> This tutorial (even if you just look at the examples) shows how you
> >> >> can exploit injections with ease:
> >> >> http://www.unixwiz.net/techtips/sql-injection.html
> >> >
> >> > Exactly what I was asking for. Thanks!
> >> >
> >> >> I hope you find something of use here Mike, but my best advice is
> >> >> really "Never trust a human, or a Computer for that matter, Whitelist
> >> >> what they're allowed to do, Don't just block all 'DROP' in input data
> >> >> (as I see some sites do)"
> >> >
> >> > It was very helpful, thank you.  AFAICT, I've been following all necessary best practices, I just have not understood all the main use cases that were being protected against. Now I do. Cool.
> >> >
> >>
> >> Imho, you are doing it wrong.
> >> Ages have learned you to not trust human, but in modern times (21st
> >> century) this led to TDD/TBD and definitely not to solutions like this.
> >> Beside complicating things, your solution will also have impact on
> >> performance not mentioning portability of the stored data.
> >> Anyway, as it was already said, everyone is free to act the way he
> >> decides, but your impact could have been greater if you provided a set
> >> of tests/specs that will cover wpdb class.
> >>
> >> Good luck.
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

From tcbarrett at gmail.com  Mon Nov 28 14:31:29 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Mon, 28 Nov 2011 14:31:29 +0000
Subject: [wp-hackers] Building a JSON API style plugin
In-Reply-To: <CAEgmxaaLDKLe3zK_O=96YusLn+RdmCz1ktu7DHcYBtCx6p4wjA@mail.gmail.com>
References: <CAEgmxaaicsyypygSbehG5=q4+zN948WJMw=rvQCeGBLcWTMaDQ@mail.gmail.com>
	<CAD-FghxMxVmqZLh79QGhiZd5bUzdVUJC+FYMu-YesfZS+CxX+w@mail.gmail.com>
	<CAEgmxaaLDKLe3zK_O=96YusLn+RdmCz1ktu7DHcYBtCx6p4wjA@mail.gmail.com>
Message-ID: <CAEgmxaahwmdEAEoj7SWdtK2OjbYeOOBOzZv=gKhG2-hMFmHvGg@mail.gmail.com>

Further experimentation shows that this works (functions.php):

<?php
$wp->add_query_var( 'ticket' );
add_rewrite_rule( 'ticket/([0-9]+)/?$', 'index.php?ticket=$matches[1]',
'top' );

add_action( 'template_redirect', 'get_ticket' );
function get_ticket(){
  $ticket = get_query_var( 'ticket' );
  error_log( "ticket={$ticket}" );
  return;
}
?>

Does anyone know which action hook this would be best placed in?


-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From johnbillion+wp at gmail.com  Mon Nov 28 14:34:54 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 28 Nov 2011 14:34:54 +0000
Subject: [wp-hackers] Building a JSON API style plugin
In-Reply-To: <CAEgmxaahwmdEAEoj7SWdtK2OjbYeOOBOzZv=gKhG2-hMFmHvGg@mail.gmail.com>
References: <CAEgmxaaicsyypygSbehG5=q4+zN948WJMw=rvQCeGBLcWTMaDQ@mail.gmail.com>
	<CAD-FghxMxVmqZLh79QGhiZd5bUzdVUJC+FYMu-YesfZS+CxX+w@mail.gmail.com>
	<CAEgmxaaLDKLe3zK_O=96YusLn+RdmCz1ktu7DHcYBtCx6p4wjA@mail.gmail.com>
	<CAEgmxaahwmdEAEoj7SWdtK2OjbYeOOBOzZv=gKhG2-hMFmHvGg@mail.gmail.com>
Message-ID: <CAOqAKWAZGzNn+Tu+XqnZOthC9wykt7hKozzSsYTCrGCUmTsSdw@mail.gmail.com>

On 28 November 2011 14:31, Tom Barrett <tcbarrett at gmail.com> wrote:
> Further experimentation shows that this works (functions.php):
>
> <?php
> $wp->add_query_var( 'ticket' );
> add_rewrite_rule( 'ticket/([0-9]+)/?$', 'index.php?ticket=$matches[1]',
> 'top' );
>
> add_action( 'template_redirect', 'get_ticket' );
> function get_ticket(){
> ?$ticket = get_query_var( 'ticket' );
> ?error_log( "ticket={$ticket}" );
> ?return;
> }
> ?>
>
> Does anyone know which action hook this would be best placed in?

The init action should work fine for rewrite rules. You may want to
try the code in a separate plugin instead of functions.php, although
there should be no difference.

From mikeschinkel at newclarity.net  Mon Nov 28 16:41:08 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 28 Nov 2011 11:41:08 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <4ED3471D.6040500@nerd.ro>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>
	<A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>
	<CAL4EHfntCmM3KMEbFuyZgCayZjZVWZgEw9z0w71vFMB+2_OVeA@mail.gmail.com>
	<828CBE82-578B-4EDB-A507-AD2AEEBE35D0@newclarity.net>
	<CAL4EHf=DahpQ6B=0HQuhXB-dj0grW1J0BVgVzaPvYcuyL20toQ@mail.gmail.com>
	<BC80FFA3-120A-4117-9E03-31B5CD97DD6B@newclarity.net>
	<4ED3471D.6040500@nerd.ro>
Message-ID: <963EE4F8-5306-450A-AD6A-8A2F8040E11A@newclarity.net>

On Nov 28, 2011, at 3:32 AM, Stas Su?cov wrote:
> On Lu 28 nov 2011 01:42:59 +0200, Mike Schinkel wrote:
>> On Nov 27, 2011, at 2:05 AM, Dion Hulse (dd32) wrote:
>>> ...
>> ...
> 
> Imho, you are doing it wrong.
> Ages have learned you to not trust human, but in modern times (21st century) this led to TDD/TBD and definitely not to solutions like this.
> Beside complicating things, your solution will also have impact on performance not mentioning portability of the stored data.
> Anyway, as it was already said, everyone is free to act the way he decides, but your impact could have been greater if you provided a set of tests/specs that will cover wpdb class.

Hi Stas,

Were you commenting on my discussion regarding SQL injection with Dion, or commenting on Jackie Sparks' interest in encryption? 

-Mike


From stas at nerd.ro  Mon Nov 28 16:54:08 2011
From: stas at nerd.ro (=?UTF-8?B?U3RhcyBTdciZY292?=)
Date: Mon, 28 Nov 2011 18:54:08 +0200
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <963EE4F8-5306-450A-AD6A-8A2F8040E11A@newclarity.net>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>
	<A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>
	<CAL4EHfntCmM3KMEbFuyZgCayZjZVWZgEw9z0w71vFMB+2_OVeA@mail.gmail.com>
	<828CBE82-578B-4EDB-A507-AD2AEEBE35D0@newclarity.net>
	<CAL4EHf=DahpQ6B=0HQuhXB-dj0grW1J0BVgVzaPvYcuyL20toQ@mail.gmail.com>
	<BC80FFA3-120A-4117-9E03-31B5CD97DD6B@newclarity.net>
	<4ED3471D.6040500@nerd.ro>
	<963EE4F8-5306-450A-AD6A-8A2F8040E11A@newclarity.net>
Message-ID: <4ED3BCB0.4030800@nerd.ro>

On Lu 28 nov 2011 18:41:08 +0200, Mike Schinkel wrote:
> On Nov 28, 2011, at 3:32 AM, Stas Su?cov wrote:
>> On Lu 28 nov 2011 01:42:59 +0200, Mike Schinkel wrote:
>>> On Nov 27, 2011, at 2:05 AM, Dion Hulse (dd32) wrote:
>>>> ...
>>> ...
>>
>> Imho, you are doing it wrong.
>> Ages have learned you to not trust human, but in modern times (21st century) this led to TDD/TBD and definitely not to solutions like this.
>> Beside complicating things, your solution will also have impact on performance not mentioning portability of the stored data.
>> Anyway, as it was already said, everyone is free to act the way he decides, but your impact could have been greater if you provided a set of tests/specs that will cover wpdb class.
>
> Hi Stas,
>
> Were you commenting on my discussion regarding SQL injection with Dion, or commenting on Jackie Sparks' interest in encryption?
>

Hey Mike,
my comments were addressed to Jackie.
Sorry for not mentioning this in the message.

From zamoose at gmail.com  Mon Nov 28 18:27:29 2011
From: zamoose at gmail.com (Doug Stewart)
Date: Mon, 28 Nov 2011 13:27:29 -0500
Subject: [wp-hackers] Wordpress database encryption.
In-Reply-To: <4ED3BCB0.4030800@nerd.ro>
References: <BLU150-W419B6E72746F6995FBD01EDACD0@phx.gbl>
	<D6F54895-846E-4EA1-BB04-6C4C600E229F@newclarity.net>
	<BLU150-W30AD4B31863F0AF80E79A2DACD0@phx.gbl>
	<CAL4EHfmj3Tk+Lg6R_wbEUf8JHqthsFc5f7e6OFV54gBkBYmjxg@mail.gmail.com>
	<BLU150-W64FF3FFBA19176D01369C0DACD0@phx.gbl>
	<754A88E6-55AA-4FA5-8940-146BA8D6C8F3@newclarity.net>
	<BLU150-W29ACD2208838193AD5D6D8DACD0@phx.gbl>
	<A9E0B85B-D0EF-4DA1-B88E-FB3F41A65D98@newclarity.net>
	<CAL4EHfntCmM3KMEbFuyZgCayZjZVWZgEw9z0w71vFMB+2_OVeA@mail.gmail.com>
	<828CBE82-578B-4EDB-A507-AD2AEEBE35D0@newclarity.net>
	<CAL4EHf=DahpQ6B=0HQuhXB-dj0grW1J0BVgVzaPvYcuyL20toQ@mail.gmail.com>
	<BC80FFA3-120A-4117-9E03-31B5CD97DD6B@newclarity.net>
	<4ED3471D.6040500@nerd.ro>
	<963EE4F8-5306-450A-AD6A-8A2F8040E11A@newclarity.net>
	<4ED3BCB0.4030800@nerd.ro>
Message-ID: <CANFh3d4TTWBv7VxPwbDms2JLPfDxrz7de+fts5Bi9Z9MJKps_w@mail.gmail.com>

What's this about red plugins now?

[/Grammar Nazi moment]
-- 
-Doug

From simon at sweetinteraction.com  Tue Nov 29 12:31:26 2011
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Tue, 29 Nov 2011 12:31:26 +0000
Subject: [wp-hackers] Building a JSON API style plugin
In-Reply-To: <CAOqAKWAZGzNn+Tu+XqnZOthC9wykt7hKozzSsYTCrGCUmTsSdw@mail.gmail.com>
References: <CAEgmxaaicsyypygSbehG5=q4+zN948WJMw=rvQCeGBLcWTMaDQ@mail.gmail.com>
	<CAD-FghxMxVmqZLh79QGhiZd5bUzdVUJC+FYMu-YesfZS+CxX+w@mail.gmail.com>
	<CAEgmxaaLDKLe3zK_O=96YusLn+RdmCz1ktu7DHcYBtCx6p4wjA@mail.gmail.com>
	<CAEgmxaahwmdEAEoj7SWdtK2OjbYeOOBOzZv=gKhG2-hMFmHvGg@mail.gmail.com>
	<CAOqAKWAZGzNn+Tu+XqnZOthC9wykt7hKozzSsYTCrGCUmTsSdw@mail.gmail.com>
Message-ID: <CAG+OPmQfmAdToguoc9k9A4sZfHgsRGcFPwFUYU0-L9O1O2UtcQ@mail.gmail.com>

On Mon, Nov 28, 2011 at 2:34 PM, John Blackbourn
<johnbillion+wp at gmail.com> wrote:
> On 28 November 2011 14:31, Tom Barrett <tcbarrett at gmail.com> wrote:
>> Further experimentation shows that this works (functions.php):
>>
>> <?php
>> $wp->add_query_var( 'ticket' );
>> add_rewrite_rule( 'ticket/([0-9]+)/?$', 'index.php?ticket=$matches[1]',
>> 'top' );
>>
>> add_action( 'template_redirect', 'get_ticket' );
>> function get_ticket(){
>> ?$ticket = get_query_var( 'ticket' );
>> ?error_log( "ticket={$ticket}" );
>> ?return;
>> }
>> ?>
>>
>> Does anyone know which action hook this would be best placed in?
>
> The init action should work fine for rewrite rules. You may want to
> try the code in a separate plugin instead of functions.php, although
> there should be no difference.

In addition I'd suggest hooking init early, in case someone else comes
along and flushes rewrite rules before your rewrite rule has been
added (which is conceivable if you just pick the default priority for
your action).

S



---
http://profiles.wordpress.org/users/simonwheatley/

Company information:
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT

From mario at peshev.net  Tue Nov 29 12:57:45 2011
From: mario at peshev.net (Mario Peshev)
Date: Tue, 29 Nov 2011 14:57:45 +0200
Subject: [wp-hackers] Web services extension/API for WordPress?
Message-ID: <CAN_8tK5U1twEPG6pb0hKZBckpvDXkYMF=euU0b0pOqc7tvjQ2w@mail.gmail.com>

Hi all,

I have a project request that demands on web services. Haven't used them in
WordPress so far and did a quick research on some plugins on articles, but
noticed only a few materials and plugins that don't seem reliable.

Anyone using web services with WordPress that could give a feedback on
something in particular?

Thanks,

Mario Peshev
Training and Consulting Services @ DevriX
http://www.linkedin.com/in/mpeshev
http://devrix.com
http://peshev.net/blog

From jnolte at getmoxied.net  Tue Nov 29 14:09:24 2011
From: jnolte at getmoxied.net (Jeffrey Nolte)
Date: Tue, 29 Nov 2011 09:09:24 -0500
Subject: [wp-hackers] Web services extension/API for WordPress?
In-Reply-To: <CAN_8tK5U1twEPG6pb0hKZBckpvDXkYMF=euU0b0pOqc7tvjQ2w@mail.gmail.com>
References: <CAN_8tK5U1twEPG6pb0hKZBckpvDXkYMF=euU0b0pOqc7tvjQ2w@mail.gmail.com>
Message-ID: <984012C2-AE1C-4A61-8C9E-69761B1178C4@getmoxied.net>

I have heard great things about the JSON plugin.  Link is below, assuming you can use JSON.

http://wordpress.org/extend/plugins/json-api/

Jeffrey Nolte
Moxie Media Group, Inc
594 Broadway Suite 305
New York, NY 10012

On Nov 29, 2011, at 7:57 AM, Mario Peshev <mario at peshev.net> wrote:

> Hi all,
> 
> I have a project request that demands on web services. Haven't used them in
> WordPress so far and did a quick research on some plugins on articles, but
> noticed only a few materials and plugins that don't seem reliable.
> 
> Anyone using web services with WordPress that could give a feedback on
> something in particular?
> 
> Thanks,
> 
> Mario Peshev
> Training and Consulting Services @ DevriX
> http://www.linkedin.com/in/mpeshev
> http://devrix.com
> http://peshev.net/blog
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mario at peshev.net  Tue Nov 29 14:16:58 2011
From: mario at peshev.net (Mario Peshev)
Date: Tue, 29 Nov 2011 16:16:58 +0200
Subject: [wp-hackers] Web services extension/API for WordPress?
In-Reply-To: <984012C2-AE1C-4A61-8C9E-69761B1178C4@getmoxied.net>
References: <CAN_8tK5U1twEPG6pb0hKZBckpvDXkYMF=euU0b0pOqc7tvjQ2w@mail.gmail.com>
	<984012C2-AE1C-4A61-8C9E-69761B1178C4@getmoxied.net>
Message-ID: <CAN_8tK7M+ZV7m-ft4ti6XV9vakcdZFoivtw9BETDsMwf_aHZSw@mail.gmail.com>

Looks great, one of the very few plugins with 5 stars and compatible
current version.

Will give it a try.

Best,

Mario Peshev
Training and Consulting Services @ DevriX
http://www.linkedin.com/in/mpeshev
http://devrix.com
http://peshev.net/blog



On Tue, Nov 29, 2011 at 4:09 PM, Jeffrey Nolte <jnolte at getmoxied.net> wrote:

> I have heard great things about the JSON plugin.  Link is below, assuming
> you can use JSON.
>
> http://wordpress.org/extend/plugins/json-api/
>
> Jeffrey Nolte
> Moxie Media Group, Inc
> 594 Broadway Suite 305
> New York, NY 10012
>
> On Nov 29, 2011, at 7:57 AM, Mario Peshev <mario at peshev.net> wrote:
>
> > Hi all,
> >
> > I have a project request that demands on web services. Haven't used them
> in
> > WordPress so far and did a quick research on some plugins on articles,
> but
> > noticed only a few materials and plugins that don't seem reliable.
> >
> > Anyone using web services with WordPress that could give a feedback on
> > something in particular?
> >
> > Thanks,
> >
> > Mario Peshev
> > Training and Consulting Services @ DevriX
> > http://www.linkedin.com/in/mpeshev
> > http://devrix.com
> > http://peshev.net/blog
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From 24-7 at gmx.net  Tue Nov 29 20:00:54 2011
From: 24-7 at gmx.net (24/7)
Date: Tue, 29 Nov 2011 12:00:54 -0800 (PST)
Subject: [wp-hackers] How to determine which admin screen I'm currently
 viewing
Message-ID: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>

After inspecting core for about a day, I now had to come here to ask this 
Q, because I'm completely at the end with my ideas.

I'm trying to write a plugin that needs to trigger on every admin UI page. 
Therefore I need to find out, where I exactly am. 
$GLOBALS['current_screen']; gives me some basic data, but when building the 
array I compare against, I have no clue where to get consistent data from. 
I use the globals $menu, $submenu; to build a multidimensional array 
containing the admin menu items as shown in this paste [1]. 

Point is that already tried to compare against global $self, 
$current_screen, $parent_file, $submenu_file, $plugin_page, 
$admin_page_hooks, $_registered_pages, $_parent_pages; but none 
was consistent across all admin pages. I also couldn't get behind the logic 
what exactly is used where.

I hope someone can give me a bit of an insight into this.

Thanks a lot!
Best wishes,
Kaiser.

[1] Pastebin w exemplary admin menu items http://pastebin.com/hssR1E16

From frank at bueltge.de  Tue Nov 29 20:10:11 2011
From: frank at bueltge.de (Frank Bueltge)
Date: Tue, 29 Nov 2011 21:10:11 +0100
Subject: [wp-hackers] How to determine which admin screen I'm currently
	viewing
In-Reply-To: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>
References: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>
Message-ID: <CAH9UVvHU1ML-ZEHE5hhw6ND3UcYSrjSRk5Bb3mtHctFX_=xg7g@mail.gmail.com>

I dont see a strategy about all admin pages; i use the global vars
$current_screen and $pagenow and $post_type.

if the $current_screen is not empty, then is this the best way, you
find all relevant values, especialy the id of hte current page.

best regards
Frank


On Tue, Nov 29, 2011 at 9:00 PM, 24/7 <24-7 at gmx.net> wrote:
> After inspecting core for about a day, I now had to come here to ask this
> Q, because I'm completely at the end with my ideas.
>
> I'm trying to write a plugin that needs to trigger on every admin UI page.
> Therefore I need to find out, where I exactly am.
> $GLOBALS['current_screen']; gives me some basic data, but when building the
> array I compare against, I have no clue where to get consistent data from.
> I use the globals $menu, $submenu; to build a multidimensional array
> containing the admin menu items as shown in this paste [1].
>
> Point is that already tried to compare against global $self,
> $current_screen, $parent_file, $submenu_file, $plugin_page,
> $admin_page_hooks, $_registered_pages, $_parent_pages; but none
> was consistent across all admin pages. I also couldn't get behind the logic
> what exactly is used where.
>
> I hope someone can give me a bit of an insight into this.
>
> Thanks a lot!
> Best wishes,
> Kaiser.
>
> [1] Pastebin w exemplary admin menu items http://pastebin.com/hssR1E16
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From elrabino at gmail.com  Tue Nov 29 20:10:48 2011
From: elrabino at gmail.com (Daniel Dvorkin)
Date: Tue, 29 Nov 2011 17:10:48 -0300
Subject: [wp-hackers] How to determine which admin screen I'm currently
	viewing
In-Reply-To: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>
References: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>
Message-ID: <CADN2qFNberVGKKOtOaDq3vQHLmvteHegkDKWM-42DeVCs9qdzQ@mail.gmail.com>

get_admin_page_title()




---------------------
Daniel Dvorkin
M?vil: +54 (0261) 15-315-2244
Skype: mzaweb
http://mzaweb.com




On Tue, Nov 29, 2011 at 5:00 PM, 24/7 <24-7 at gmx.net> wrote:

> After inspecting core for about a day, I now had to come here to ask this
> Q, because I'm completely at the end with my ideas.
>
> I'm trying to write a plugin that needs to trigger on every admin UI page.
> Therefore I need to find out, where I exactly am.
> $GLOBALS['current_screen']; gives me some basic data, but when building the
> array I compare against, I have no clue where to get consistent data from.
> I use the globals $menu, $submenu; to build a multidimensional array
> containing the admin menu items as shown in this paste [1].
>
> Point is that already tried to compare against global $self,
> $current_screen, $parent_file, $submenu_file, $plugin_page,
> $admin_page_hooks, $_registered_pages, $_parent_pages; but none
> was consistent across all admin pages. I also couldn't get behind the logic
> what exactly is used where.
>
> I hope someone can give me a bit of an insight into this.
>
> Thanks a lot!
> Best wishes,
> Kaiser.
>
> [1] Pastebin w exemplary admin menu items http://pastebin.com/hssR1E16
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From 24-7 at gmx.net  Tue Nov 29 21:05:35 2011
From: 24-7 at gmx.net (24/7)
Date: Tue, 29 Nov 2011 13:05:35 -0800 (PST)
Subject: [wp-hackers] How to determine which admin screen I'm currently
 viewing
In-Reply-To: <CADN2qFNberVGKKOtOaDq3vQHLmvteHegkDKWM-42DeVCs9qdzQ@mail.gmail.com>
References: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>
	<CADN2qFNberVGKKOtOaDq3vQHLmvteHegkDKWM-42DeVCs9qdzQ@mail.gmail.com>
Message-ID: <7794666.556.1322600735072.JavaMail.geo-discussion-forums@vbjs5>

The title is translated, isn't it? If so, I can't use it.

From elrabino at gmail.com  Tue Nov 29 21:18:26 2011
From: elrabino at gmail.com (Daniel Dvorkin)
Date: Tue, 29 Nov 2011 18:18:26 -0300
Subject: [wp-hackers] How to determine which admin screen I'm currently
	viewing
In-Reply-To: <7794666.556.1322600735072.JavaMail.geo-discussion-forums@vbjs5>
References: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>
	<CADN2qFNberVGKKOtOaDq3vQHLmvteHegkDKWM-42DeVCs9qdzQ@mail.gmail.com>
	<7794666.556.1322600735072.JavaMail.geo-discussion-forums@vbjs5>
Message-ID: <CADN2qFNGaQX5o7dvSFkGbu4NN9-iq6dbxzxednCJgaM+9hAPaA@mail.gmail.com>

uhm.. you're right about translations.

I've used global $current_screen and global $typenow in the past to do
something like that. Why is not working for you?

From 24-7 at gmx.net  Tue Nov 29 21:53:45 2011
From: 24-7 at gmx.net (24/7)
Date: Tue, 29 Nov 2011 13:53:45 -0800 (PST)
Subject: [wp-hackers] How to determine which admin screen I'm currently
 viewing
In-Reply-To: <CADN2qFNGaQX5o7dvSFkGbu4NN9-iq6dbxzxednCJgaM+9hAPaA@mail.gmail.com>
References: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>
	<CADN2qFNberVGKKOtOaDq3vQHLmvteHegkDKWM-42DeVCs9qdzQ@mail.gmail.com>
	<7794666.556.1322600735072.JavaMail.geo-discussion-forums@vbjs5>
	<CADN2qFNGaQX5o7dvSFkGbu4NN9-iq6dbxzxednCJgaM+9hAPaA@mail.gmail.com>
Message-ID: <20393394.206.1322603625892.JavaMail.geo-discussion-forums@vbbhk3>

My problem is that I need to intercept _every_ admin UI page - in detail 
add stuff to the "help" tab. Therefore I need to know on every admin UI 
page two things: "What's ur name or ur number?" and "Who's ur daddy?" :)

From 24-7 at gmx.net  Tue Nov 29 21:57:48 2011
From: 24-7 at gmx.net (24/7)
Date: Tue, 29 Nov 2011 13:57:48 -0800 (PST)
Subject: [wp-hackers] How to determine which admin screen I'm currently
 viewing
In-Reply-To: <CADN2qFNGaQX5o7dvSFkGbu4NN9-iq6dbxzxednCJgaM+9hAPaA@mail.gmail.com>
References: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>
	<CADN2qFNberVGKKOtOaDq3vQHLmvteHegkDKWM-42DeVCs9qdzQ@mail.gmail.com>
	<7794666.556.1322600735072.JavaMail.geo-discussion-forums@vbjs5>
	<CADN2qFNGaQX5o7dvSFkGbu4NN9-iq6dbxzxednCJgaM+9hAPaA@mail.gmail.com>
Message-ID: <11115565.572.1322603868279.JavaMail.geo-discussion-forums@vbbeq1>

To say it in simpler words: "How would I retrieve ALL screen IDs of all 
admin UI screens?"

From ronin at braydon.com  Tue Nov 29 22:04:55 2011
From: ronin at braydon.com (Braydon)
Date: Tue, 29 Nov 2011 14:04:55 -0800
Subject: [wp-hackers] How to determine which admin screen I'm currently
 viewing
In-Reply-To: <11115565.572.1322603868279.JavaMail.geo-discussion-forums@vbbeq1>
References: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>
	<CADN2qFNberVGKKOtOaDq3vQHLmvteHegkDKWM-42DeVCs9qdzQ@mail.gmail.com>
	<7794666.556.1322600735072.JavaMail.geo-discussion-forums@vbjs5>
	<CADN2qFNGaQX5o7dvSFkGbu4NN9-iq6dbxzxednCJgaM+9hAPaA@mail.gmail.com>
	<11115565.572.1322603868279.JavaMail.geo-discussion-forums@vbbeq1>
Message-ID: <4ED55707.5010407@braydon.com>

On 11/29/2011 01:57 PM, 24/7 wrote:
> To say it in simpler words: "How would I retrieve ALL screen IDs of all
> admin UI screens?"
You could use the request_uri and query_string from the server superglobal.

From mikeschinkel at newclarity.net  Tue Nov 29 22:14:03 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 29 Nov 2011 16:14:03 -0600 (CST)
Subject: [wp-hackers] How to determine which admin screen I'm currently
	viewing
In-Reply-To: <11115565.572.1322603868279.JavaMail.geo-discussion-forums@vbbeq1>
References: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>
	<CADN2qFNberVGKKOtOaDq3vQHLmvteHegkDKWM-42DeVCs9qdzQ@mail.gmail.com>
	<7794666.556.1322600735072.JavaMail.geo-discussion-forums@vbjs5>
	<CADN2qFNGaQX5o7dvSFkGbu4NN9-iq6dbxzxednCJgaM+9hAPaA@mail.gmail.com>
	<11115565.572.1322603868279.JavaMail.geo-discussion-forums@vbbeq1>
Message-ID: <C316A2AA-789A-43BA-8A43-51441024ED63@newclarity.net>

On Nov 29, 2011, at 4:58 PM, 24/7 <24-7 at gmx.net> wrote:
> To say it in simpler words: "How would I retrieve ALL screen IDs of all 
> admin UI screens?"

Are you asking for an array of info for all screens in the admin, or to be able to get info about the current admin page?

-Mike

From frank at bueltge.de  Wed Nov 30 05:38:21 2011
From: frank at bueltge.de (Frank Bueltge)
Date: Wed, 30 Nov 2011 06:38:21 +0100
Subject: [wp-hackers] How to determine which admin screen I'm currently
	viewing
In-Reply-To: <C316A2AA-789A-43BA-8A43-51441024ED63@newclarity.net>
References: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>
	<CADN2qFNberVGKKOtOaDq3vQHLmvteHegkDKWM-42DeVCs9qdzQ@mail.gmail.com>
	<7794666.556.1322600735072.JavaMail.geo-discussion-forums@vbjs5>
	<CADN2qFNGaQX5o7dvSFkGbu4NN9-iq6dbxzxednCJgaM+9hAPaA@mail.gmail.com>
	<11115565.572.1322603868279.JavaMail.geo-discussion-forums@vbbeq1>
	<C316A2AA-789A-43BA-8A43-51441024ED63@newclarity.net>
Message-ID: <CAH9UVvEH0B7JKyzaKvTMjvdjGVTO7fR4=db4MZ8ZVpPYj73+fQ@mail.gmail.com>

Yes, Mike, thats correct. Current it is an mix from different vars, But
Franz search an function or var, that give back the value of all admin
pages.

Sorry f?r die kurze Mail, vom Mobile gesendet.
Am 29.11.2011 23:14 schrieb "Mike Schinkel" <mikeschinkel at newclarity.net>:

> On Nov 29, 2011, at 4:58 PM, 24/7 <24-7 at gmx.net> wrote:
> > To say it in simpler words: "How would I retrieve ALL screen IDs of all
> > admin UI screens?"
>
> Are you asking for an array of info for all screens in the admin, or to be
> able to get info about the current admin page?
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Wed Nov 30 09:27:22 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 30 Nov 2011 04:27:22 -0500
Subject: [wp-hackers] How to determine which admin screen I'm currently
	viewing
In-Reply-To: <CAH9UVvEH0B7JKyzaKvTMjvdjGVTO7fR4=db4MZ8ZVpPYj73+fQ@mail.gmail.com>
References: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>
	<CADN2qFNberVGKKOtOaDq3vQHLmvteHegkDKWM-42DeVCs9qdzQ@mail.gmail.com>
	<7794666.556.1322600735072.JavaMail.geo-discussion-forums@vbjs5>
	<CADN2qFNGaQX5o7dvSFkGbu4NN9-iq6dbxzxednCJgaM+9hAPaA@mail.gmail.com>
	<11115565.572.1322603868279.JavaMail.geo-discussion-forums@vbbeq1>
	<C316A2AA-789A-43BA-8A43-51441024ED63@newclarity.net>
	<CAH9UVvEH0B7JKyzaKvTMjvdjGVTO7fR4=db4MZ8ZVpPYj73+fQ@mail.gmail.com>
Message-ID: <CDE5F26A-AF98-4B15-B196-D44F9083079D@newclarity.net>

On Nov 30, 2011, at 12:38 AM, Frank Bueltge wrote:
> Yes, Mike, thats correct. Current it is an mix from different vars, But
> Franz search an function or var, that give back the value of all admin
> pages.

That's not really possible then. Plugins can add their own calls and it is not possible to know what those files do.  Besides plugins, WordPress core has not been consistent with such information, although I think Nacin has been pushing slowly in the direction of improving consistency with his work on the screen object.

I have run into a similar need for a long time. I created a "context" function that discovers information about the current page and returns it as an object. It's similar to get_current_screen() but it provides information that get_current_screen() does not provide.  But it does not attempt to provide a list of files as requested, though it could be extended to do so.

I think what would be helpful would be to create a community-developed extension to get_current_screen() via hooks, and code it in such a way that it could be inspected to return the list of available admin pages. Would you and Franz be interested in collaborating on that? We could take what I've done as a starting point after I convert to be a hook to get_current_screen() which is something I've been planning and should be able to get done very soon.

Also, this discussion is related to a potential front controller[1] for the WordPress admin like we have for themed pages. If someone reading this is not familiar with front controllers, it's a single .php file to route all URLs through, and it would allow for pretty URLs in the admin.  I've done enough proof-of-concept work to know that it can be done with a plugin and a few files copied to the /wp-admin directory, but I'd need help with testing and resolving edge cases. Would that interest you, or anyone else?  That could be something else to collaborate on.

-Mike
[1] http://en.wikipedia.org/wiki/Front_Controller_pattern



From 24-7 at gmx.net  Wed Nov 30 14:32:18 2011
From: 24-7 at gmx.net (24/7)
Date: Wed, 30 Nov 2011 06:32:18 -0800 (PST)
Subject: [wp-hackers] How to determine which admin screen I'm currently
 viewing
In-Reply-To: <CDE5F26A-AF98-4B15-B196-D44F9083079D@newclarity.net>
References: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>
	<CADN2qFNberVGKKOtOaDq3vQHLmvteHegkDKWM-42DeVCs9qdzQ@mail.gmail.com>
	<7794666.556.1322600735072.JavaMail.geo-discussion-forums@vbjs5>
	<CADN2qFNGaQX5o7dvSFkGbu4NN9-iq6dbxzxednCJgaM+9hAPaA@mail.gmail.com>
	<11115565.572.1322603868279.JavaMail.geo-discussion-forums@vbbeq1>
	<C316A2AA-789A-43BA-8A43-51441024ED63@newclarity.net>
	<CAH9UVvEH0B7JKyzaKvTMjvdjGVTO7fR4=db4MZ8ZVpPYj73+fQ@mail.gmail.com>
	<CDE5F26A-AF98-4B15-B196-D44F9083079D@newclarity.net>
Message-ID: <26340156.187.1322663538357.JavaMail.geo-discussion-forums@yqkr2>

I'll write both of you (Frank, Mike) an email for further information.

Thanks,
Kaiser.

From fris at fris.net  Wed Nov 30 17:53:22 2011
From: fris at fris.net (fris)
Date: Wed, 30 Nov 2011 12:53:22 -0500
Subject: [wp-hackers] How to determine which admin screen I'm currently
	viewing
In-Reply-To: <26340156.187.1322663538357.JavaMail.geo-discussion-forums@yqkr2>
References: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>	<CADN2qFNberVGKKOtOaDq3vQHLmvteHegkDKWM-42DeVCs9qdzQ@mail.gmail.com>	<7794666.556.1322600735072.JavaMail.geo-discussion-forums@vbjs5>	<CADN2qFNGaQX5o7dvSFkGbu4NN9-iq6dbxzxednCJgaM+9hAPaA@mail.gmail.com>	<11115565.572.1322603868279.JavaMail.geo-discussion-forums@vbbeq1>	<C316A2AA-789A-43BA-8A43-51441024ED63@newclarity.net>	<CAH9UVvEH0B7JKyzaKvTMjvdjGVTO7fR4=db4MZ8ZVpPYj73+fQ@mail.gmail.com>	<CDE5F26A-AF98-4B15-B196-D44F9083079D@newclarity.net>
	<26340156.187.1322663538357.JavaMail.geo-discussion-forums@yqkr2>
Message-ID: <001e01ccaf88$f6312250$e29366f0$@fris.net>

http://cleverwp.com/current_screen-wordpress-global-variable/

here is an interesting post on the var dump of the current screen variable.

Thought this might interest you.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of 24/7
Sent: Wednesday, November 30, 2011 9:32 AM
To: wp-hackers at googlegroups.com
Cc: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How to determine which admin screen I'm currently viewing

I'll write both of you (Frank, Mike) an email for further information.

Thanks,
Kaiser.


From 24-7 at gmx.net  Wed Nov 30 20:08:44 2011
From: 24-7 at gmx.net (24/7)
Date: Wed, 30 Nov 2011 12:08:44 -0800 (PST)
Subject: [wp-hackers] How to determine which admin screen I'm currently
 viewing
In-Reply-To: <001e01ccaf88$f6312250$e29366f0$@fris.net>
References: <25515757.479.1322596854992.JavaMail.geo-discussion-forums@vbnd7>	<CADN2qFNberVGKKOtOaDq3vQHLmvteHegkDKWM-42DeVCs9qdzQ@mail.gmail.com>	<7794666.556.1322600735072.JavaMail.geo-discussion-forums@vbjs5>	<CADN2qFNGaQX5o7dvSFkGbu4NN9-iq6dbxzxednCJgaM+9hAPaA@mail.gmail.com>	<11115565.572.1322603868279.JavaMail.geo-discussion-forums@vbbeq1>	<C316A2AA-789A-43BA-8A43-51441024ED63@newclarity.net>	<CAH9UVvEH0B7JKyzaKvTMjvdjGVTO7fR4=db4MZ8ZVpPYj73+fQ@mail.gmail.com>	<CDE5F26A-AF98-4B15-B196-D44F9083079D@newclarity.net>
	<26340156.187.1322663538357.JavaMail.geo-discussion-forums@yqkr2>
	<001e01ccaf88$f6312250$e29366f0$@fris.net>
Message-ID: <24105846.59.1322683724232.JavaMail.geo-discussion-forums@yqi26>

Thanks fris,

I completely left out MU stuff and forgot about plugin update and then also 
found theme install in the post you linked.

Thanks a lot!

