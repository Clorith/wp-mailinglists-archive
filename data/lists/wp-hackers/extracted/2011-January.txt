From andrew at graymerica.com  Sat Jan  1 14:45:50 2011
From: andrew at graymerica.com (Andrew Gray)
Date: Sat, 1 Jan 2011 09:45:50 -0500
Subject: [wp-hackers] Better Error Handling for both Development
	and	Production
In-Reply-To: <mailman.11.1293883202.4122.wp-hackers@lists.automattic.com>
References: <mailman.11.1293883202.4122.wp-hackers@lists.automattic.com>
Message-ID: <B4118A7A-09CB-43E5-B706-E3BAAD92B25A@graymerica.com>

My thoughts on the errors would be.

1.  For production sites: Give a theme the ability to have an error page for errors, other than a blank white page.   Not display the error on screen, but to have something that is more user friendly to both novice developers and end users.  Somewhere you could put a "Fail Whale" like twitter.   Maybe a page that says "An Error has occured".   I like that I can theme the DB error page, why not the parse error page.   The blank white wordpress page is a pretty common problem.

2.  For Development site:  Have an option in wp-Config that shows only parse errors, not all the notices and warnings.   With some of the sites I work on, there are so many notices and warnings, I have to turn off all error to get the site to work.    This is especially true with some of the most common plugins, they have tons of warnings and notices that I am not ever going to fix, but I have to hide.  Then when I get a parse error, I have to update my config to show errors.    

Maybe just making the WP-DEBUG able to be defined as the level of errors you want would work.     If I only want Parse errors, then let me define WP-DEBUG as "E_ERROR | E_PARSE" instead of just True or False.
This would not impact existing configs at all, since you could test for True and keep the old behavior unless it was specified.  

Neither of these ideas would take too much work and I would be happy to do it had a chance to make it into the code.  Otherwise, I will just keep my hack workarounds such as turning on ob_start and using a if statement and a request variable to turn on the debug when I want to see my errors.

Happy New Year to all the WP Hackers List Folks by the way,  I really think this is a great list and everyone is very helpful.  Looking forward to all that the new year has to offer.

Andrew



> n Fri, Dec 31, 2010 at 3:37 PM, Andrew Gray <andrew at graymerica.com> wrote:
> 
>> Does anyone think that a patch for an improved error handler in
>> wp-includes/load.php would be well received or implemented into the core.
>> 
>> I would love a setting to only show Fatal / parse errors when developing.
>> Something that only show these errors and ignores all the deprecated,
>> notices and other errors that come from plugins and from the core wordpress
>> when I was developing.  Or at lease improve the options available for
>> WP-config from DEBUG only.
>> 
> 
> Parse errors can't be suppressed during runtime. Why would you want to
> suppress E_WARNING though? The only use case really for suppressing E_NOTICE
> is if *other* plugins are spitting out a ton of notices. But if you're
> developing on just core and your plugin, then you should really want to
> prevent all E_NOTICE issues. (If you ever find one in core, *please* report
> it.)
> 
> Thus, this really just comes down to WP_DEBUG versus not. If WP_DEBUG is on,
> you get all notices. If it's off, you don't get any notices. What's the
> third option you're looking for?
> 
> Also, an error handler for production websites that is something other than
>> a blank page.    Something with a little data or that could be customized
>> with a theme.  I was thinking of using
>> http://php.net/manual/en/function.set-error-handler.php  and a shutdown
>> function (when possible) to improve the user experience.
>> 
> 
> display_errors should never be enabled on a production site. You should log
> these instead, via the php.ini error_log setting. If you really want to use
> an error handler or shutdown function, you can do that yourself for sure.
> 
> 
>> Of course all of this would be optional, and not included in the code
>> unless people turn it on.
>> 
>> Also if you enable define('E_DEPRECATED', false) ; I get a Fatal error:
>> Unsupported operand types in ****/wp-includes/load.php on line 260
>> 
> 
> You shouldn't define E_DEPRECATED. It's a core PHP constant. We're only
> doing that to detect whether you're on PHP 5.3 or not. I just committed this
> comment to trunk: http://core.trac.wordpress.org/changeset/17194, so I hope
> that helps.
> 
> Does anyone think that if I worked up a patch for all this, it would be
>> accepted.
>> 
> 
> Improvements here would certainly be considered. Could you read through my
> feedback and re-propose what you'd like to see?
> 


From peter.westwood at ftwr.co.uk  Sat Jan  1 15:18:13 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat, 1 Jan 2011 15:18:13 +0000
Subject: [wp-hackers] Better Error Handling for both Development
	and	Production
In-Reply-To: <B4118A7A-09CB-43E5-B706-E3BAAD92B25A@graymerica.com>
References: <mailman.11.1293883202.4122.wp-hackers@lists.automattic.com>
	<B4118A7A-09CB-43E5-B706-E3BAAD92B25A@graymerica.com>
Message-ID: <7BEE8053-2326-418B-BE34-CE0CC5E2E899@ftwr.co.uk>


On 1 Jan 2011, at 14:45, Andrew Gray wrote:

> My thoughts on the errors would be.
> 
> 1.  For production sites: Give a theme the ability to have an error page for errors, other than a blank white page.   Not display the error on screen, but to have something that is more user friendly to both novice developers and end users.  Somewhere you could put a "Fail Whale" like twitter.   Maybe a page that says "An Error has occured".   I like that I can theme the DB error page, why not the parse error page.   The blank white wordpress page is a pretty common problem.
> 

"The blank white wordpress page is a pretty common problem."

This is a server thing though todo with the fact that displaying errors on a production site is a bad idea - much better handled at a server level where you can catch all errors that cause this rather than some errors.

> 2.  For Development site:  Have an option in wp-Config that shows only parse errors, not all the notices and warnings.   With some of the sites I work on, there are so many notices and warnings, I have to turn off all error to get the site to work.    This is especially true with some of the most common plugins, they have tons of warnings and notices that I am not ever going to fix, but I have to hide.  Then when I get a parse error, I have to update my config to show errors.    
> 
> Maybe just making the WP-DEBUG able to be defined as the level of errors you want would work.     If I only want Parse errors, then let me define WP-DEBUG as "E_ERROR | E_PARSE" instead of just True or False.
> This would not impact existing configs at all, since you could test for True and keep the old behavior unless it was specified.  


I don't think this level of granularity is a good idea - all core, plugin and theme code should aim to be notice/warning free with WP_DEBUG enabled.

If you are finding a lot of notices and warning in the plugin / theme code you shouldn't ignore them but feed back to the author about the issues (or even better send a patch) - ignoring these can hide real bugs.

From 3.1 onwards I would recommend you use the debug bar plugin to get your diagnostic information somewhere where you can make use of it.

http://wordpress.org/extend/plugins/debug-bar/

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From greg at humhost.com  Sun Jan  2 04:34:49 2011
From: greg at humhost.com (Greg Boggs)
Date: Sat, 01 Jan 2011 20:34:49 -0800
Subject: [wp-hackers] The problem with Contributions and This Thread
In-Reply-To: <mailman.35267.1293756021.1338.wp-hackers@lists.automattic.com>
References: <mailman.35267.1293756021.1338.wp-hackers@lists.automattic.com>
Message-ID: <4D200069.3010401@humhost.com>

Leading documentation, committing huge chunks of code, and leading 
commit props all sound like the perfect reasons to add someone to the 
leadership team of a project that is run based on merit. So far the only 
reason we've read here not to add him to the core group is that he's 
upset that he has been excluded despite his merit.

Advocating for your work and reminding others of your contributions has 
long been an element of successful contributors to open source projects. 
Granted, he could have handled his problem with more tact, but if he 
hadn't mailed the list, very few people would even know he exists.

On 12/30/2010 04:40 PM, wp-hackers-request at lists.automattic.com wrote:
> Jacob has contributed greatly to the project in the past, it's true. In
> addition to http and other funcitonal patches, he did a huge chunk with
> inline documentation in 2.7 that definitely lead to a lot of commit
> props (and verbal props from me in pretty much every talk or interview I
> did around that time). But that isn't a reason to add someone to the
> leadership group.

From steve at sltaylor.co.uk  Sun Jan  2 15:03:21 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Sun, 2 Jan 2011 15:03:21 +0000
Subject: [wp-hackers] child pages of custom post listing pages
Message-ID: <AANLkTikBqHeWTSru5NdX13wmscdNqXHSAy6CDw2j5RF+@mail.gmail.com>

Hi all,

I've got a custom post type "campaign". Using the rewrite parameter of
register_post_type, I've set the slug to "campaigns". All good so far
- the URL for a campaign is:

/campaigns/name-of-a-campaign/

However, I've created a page with the slug "campaigns" to act as a
listing page for campaigns. We also need a child page of this page
with generic information on campaigns, e.g.

/campaigns/info/

Viewing this page returns a 404.

Obviously it's related to http://core.trac.wordpress.org/ticket/13818
- which is coming in 3.1, right? If I've understood this feature,
it'll negate the need to create a page called "campaigns" as I've
done. The /campaigns/ URL will automatically load a template that'll
list that post type in some way.

But I'm guessing this feature will mean that I won't be able to have
generic pages at the same level as a campaign. I would need to have
campaigns with this URL:

/campaigns/name-of-a-campaign/

But my info page would have to be something like:

/campaigns-info/

And in terms of how the site structure and nav appears to the user,
I'd have to "fake" the above page being in the campaigns "section"?

Am I looking at custom rewrite rules to have my cake and eat it?

cheers,

Steve

From jer at simianuprising.com  Sun Jan  2 18:55:04 2011
From: jer at simianuprising.com (Jeremy Clarke)
Date: Sun, 2 Jan 2011 13:55:04 -0500
Subject: [wp-hackers] Better Error Handling for both Development and
 Production Servers
In-Reply-To: <82660524-BEB9-40B4-9A6C-EF8F8F29C276@graymerica.com>
References: <82660524-BEB9-40B4-9A6C-EF8F8F29C276@graymerica.com>
Message-ID: <AANLkTi=y+975KtNbq8spJ2LcBRkUvCf12KW8o91faX0+@mail.gmail.com>

On Fri, Dec 31, 2010 at 3:37 PM, Andrew Gray <andrew at graymerica.com> wrote:

>
> I would love a setting to only show Fatal / parse errors when developing.
>  Something that only show these errors and ignores all the deprecated,
> notices and other errors that come from plugins and from the core wordpress
> when I was developing.  Or at lease improve the options available for
> WP-config from DEBUG only.
>
>
I've found that adding the following core-PHP definitions into wp-config.php
has the effect of showing me errors rather than the WSOD, but not all the
notices that WP_DEBUG spits out:

ini_set('display_errors', 1);
error_reporting (E_ALL);
ini_set('display_startup_errors','1');

Why not just use that on your dev installs?

Despite that I'd still favor some configurability for WP_DEBUG, maybe with
some secondary constant like WP_DEBUG_NOTICES which you could set to false
to disable them.

I personally use WP_DEBUG as much as possible and love the notices it
generates for my plugins but unless you're only working with core and no
external plugins the effect is that you are bombarded with warnings from
plugins you don't control (e.g. Supercache, proof that even core
contributors generate notices sometimes). I send out emails to the plugin
authors a lot but some are ignored and others take a long time to implement
the fixes.

Nacin is right that for your own plugins you should eliminate all notices.
It is easy to do and at least in my case I find and easily fix lots of "real
bugs" while going through and cleaning up the various "aesthetic bugs"
identified by WP_DEBUG and causing notices.

Disabling all plugins other than "the one you are working on" is often an
undesirable hack, as you end up not seeing the problematic interactions
between your plugin and the ones it will co-exist with until they are
running together on the live server. Taking Supercache as an example I think
we can all imagine how this is not ideal.

I'm not sure if we really need a solution other than GEEZ GUYS PLEASE TURN
ON WP_DEBUG AND FIX THE NOTICES IN YOUR PLUGINS but having one would be
nice. My fantasy would be that notices remain active for *my plugin* but not
others installed on the site (i.e. that while developing I can somehow flag
plugins that I am actively working on). I am not good enough at PHP to think
of a good way to do so though, so maybe that idea can just serve as an
unpractical solution to put possible but less-effective ones in perspective.

-- 
Jeremy Clarke ? jeremyclarke.org
Code and Design ? globalvoicesonline.org

From philip at frumph.net  Sun Jan  2 19:03:09 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Sun, 2 Jan 2011 11:03:09 -0800
Subject: [wp-hackers] Better Error Handling for both Development and
	Production Servers
In-Reply-To: <AANLkTi=y+975KtNbq8spJ2LcBRkUvCf12KW8o91faX0+@mail.gmail.com>
References: <82660524-BEB9-40B4-9A6C-EF8F8F29C276@graymerica.com>
	<AANLkTi=y+975KtNbq8spJ2LcBRkUvCf12KW8o91faX0+@mail.gmail.com>
Message-ID: <6B30A9012C9F4823B7122A4A14CA25BB@frumph.net>

I'm going to jump in for a second.  The notices and warnings that are shown 
can sometimes have consequences that do not give fatal errors, some notices 
that say passing wrong property type are very important to fix in someones 
code.   Not to mention deprecated messages and the such.   Disabling those 
will be more of a hinderance to a developement machine since ALL of those 
are there for a purpose and developers need to adjust their code 
appropriately when they are found.

I guess this is to Andrew, wordpress itself does not give warnings or 
notices, they are coming from your plugins and themes, that of which when 
they are developed need to be fixed so that those messages do not appear by 
fixing their code.

The most common of which is the undefined index notice, basically thats just 
checking if the index exists first if you use it,  if 
(isset($someindex['indexname']) && ($someindex['indexname'] == 'blahblah')) 
{


----- Original Message ----- 
From: "Jeremy Clarke" <jer at simianuprising.com>
To: <wp-hackers at lists.automattic.com>
Sent: Sunday, January 02, 2011 10:55 AM
Subject: Re: [wp-hackers] Better Error Handling for both Development and 
Production Servers


On Fri, Dec 31, 2010 at 3:37 PM, Andrew Gray <andrew at graymerica.com> wrote:

>
> I would love a setting to only show Fatal / parse errors when developing.
>  Something that only show these errors and ignores all the deprecated,
> notices and other errors that come from plugins and from the core 
> wordpress
> when I was developing.  Or at lease improve the options available for
> WP-config from DEBUG only.
>
>
I've found that adding the following core-PHP definitions into wp-config.php
has the effect of showing me errors rather than the WSOD, but not all the
notices that WP_DEBUG spits out:

ini_set('display_errors', 1);
error_reporting (E_ALL);
ini_set('display_startup_errors','1');

Why not just use that on your dev installs?

Despite that I'd still favor some configurability for WP_DEBUG, maybe with
some secondary constant like WP_DEBUG_NOTICES which you could set to false
to disable them.

I personally use WP_DEBUG as much as possible and love the notices it
generates for my plugins but unless you're only working with core and no
external plugins the effect is that you are bombarded with warnings from
plugins you don't control (e.g. Supercache, proof that even core
contributors generate notices sometimes). I send out emails to the plugin
authors a lot but some are ignored and others take a long time to implement
the fixes.

Nacin is right that for your own plugins you should eliminate all notices.
It is easy to do and at least in my case I find and easily fix lots of "real
bugs" while going through and cleaning up the various "aesthetic bugs"
identified by WP_DEBUG and causing notices.

Disabling all plugins other than "the one you are working on" is often an
undesirable hack, as you end up not seeing the problematic interactions
between your plugin and the ones it will co-exist with until they are
running together on the live server. Taking Supercache as an example I think
we can all imagine how this is not ideal.

I'm not sure if we really need a solution other than GEEZ GUYS PLEASE TURN
ON WP_DEBUG AND FIX THE NOTICES IN YOUR PLUGINS but having one would be
nice. My fantasy would be that notices remain active for *my plugin* but not
others installed on the site (i.e. that while developing I can somehow flag
plugins that I am actively working on). I am not good enough at PHP to think
of a good way to do so though, so maybe that idea can just serve as an
unpractical solution to put possible but less-effective ones in perspective.

-- 
Jeremy Clarke ? jeremyclarke.org
Code and Design ? globalvoicesonline.org
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From wordpress at dd32.id.au  Sun Jan  2 23:57:10 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Mon, 03 Jan 2011 10:57:10 +1100
Subject: [wp-hackers] child pages of custom post listing pages
In-Reply-To: <AANLkTikBqHeWTSru5NdX13wmscdNqXHSAy6CDw2j5RF+@mail.gmail.com>
References: <AANLkTikBqHeWTSru5NdX13wmscdNqXHSAy6CDw2j5RF+@mail.gmail.com>
Message-ID: <op.vopgtksxspxmuu@ho.st>

On Mon, 03 Jan 2011 02:03:21 +1100, Steve Taylor <steve at sltaylor.co.uk>  
wrote:
>
> But my info page would have to be something like:
>
> /campaigns-info/
>
> And in terms of how the site structure and nav appears to the user,
> I'd have to "fake" the above page being in the campaigns "section"?
>
> Am I looking at custom rewrite rules to have my cake and eat it?

2 options, rewrite rules for those specific pages
or, a 404 handler.
Upon hitting is_404() on the proper parse_request-related hook, check to  
see if post_type == campaign(or !empty(get_query_var('campaign'))), If it  
is so, Then restart the query looking for pages where post_name =  
'/campaign/' . get_query_var('campaign)

Cheers
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

From mikeschinkel at newclarity.net  Mon Jan  3 00:05:57 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 2 Jan 2011 19:05:57 -0500
Subject: [wp-hackers] child pages of custom post listing pages
In-Reply-To: <AANLkTikBqHeWTSru5NdX13wmscdNqXHSAy6CDw2j5RF+@mail.gmail.com>
References: <AANLkTikBqHeWTSru5NdX13wmscdNqXHSAy6CDw2j5RF+@mail.gmail.com>
Message-ID: <95EAB458-F8BF-459F-BFB0-5772CAABF835@newclarity.net>

On Jan 2, 2011, at 10:03 AM, Steve Taylor wrote:
> I've got a custom post type "campaign". Using the rewrite parameter of
> register_post_type, I've set the slug to "campaigns". All good so far
> - the URL for a campaign is:
> 
> /campaigns/name-of-a-campaign/
> 
> However, I've created a page with the slug "campaigns" to act as a
> listing page for campaigns. We also need a child page of this page
> with generic information on campaigns, e.g.
> 
> /campaigns/info/
> 
> Viewing this page returns a 404.
> 
> Obviously it's related to http://core.trac.wordpress.org/ticket/13818
> - which is coming in 3.1, right? If I've understood this feature,
> it'll negate the need to create a page called "campaigns" as I've
> done. The /campaigns/ URL will automatically load a template that'll
> list that post type in some way.
> 
> But I'm guessing this feature will mean that I won't be able to have
> generic pages at the same level as a campaign. I would need to have
> campaigns with this URL:
> 
> /campaigns/name-of-a-campaign/
> 
> But my info page would have to be something like:
> 
> /campaigns-info/
> 
> And in terms of how the site structure and nav appears to the user,
> I'd have to "fake" the above page being in the campaigns "section"?
> 
> Am I looking at custom rewrite rules to have my cake and eat it?

No problem.  Create a single rewrite rule with a higher priority than the rewrite rules of the custom post type. This answer will probably explain enough to get you there:

http://wordpress.stackexchange.com/questions/858/#873

Hope this helps.
-Mike

From wordpress at santosj.name  Mon Jan  3 01:19:58 2011
From: wordpress at santosj.name (Jacob Santos)
Date: Sun, 2 Jan 2011 19:19:58 -0600
Subject: [wp-hackers] The problem with Contributions and This Thread
In-Reply-To: <4D200069.3010401@humhost.com>
References: <mailman.35267.1293756021.1338.wp-hackers@lists.automattic.com>
	<4D200069.3010401@humhost.com>
Message-ID: <AANLkTin+sGMM6fZaUU3H5x9xUctn1HgT=Y3j0--ThUDZ@mail.gmail.com>

I'm not upset about being excluded and I don't care that I'll never have
commit access. I burnt that bridge (commit access) the first three months I
was part of the community. Oh man, if there were any time to want a time
machine; I would have gone back and changed my attitude real quick.

I started this year with an experiment, and the hypothesis was, "Given the
changes and so called improvements to the development process, I do not
believe it would be any easier to get patches into core." I started with
something I knew well and something I thought would be relatively easy to
push patches through. Being the architect and original engineer of the HTTP
API, I didn't expect as much push back. I was wrong. Part of the problem, I
suspect was that I long left support to others that worked on the HTTP API.
I felt it was in good hands during my absence.

The HTTP API is flawed and was planned to match BackPress as much as
possible (Blob Object Oriented Based). The HTTP API does not have any real
external dependencies. It was written with what I thought would be
specifications that would plausibility be committed given the amount of time
I would have to invest into the API. Truthfully, when it was initially
committed it had so many flaws, I thought it would be reverted completely
out of core and probably would have been if I had not stayed on and
supported it for the month it needed to become "stable."

The initial patches and tickets were introduced in May 2010. Unfortunately,
right before the 3 month break. After some initial complaining that I would
have to wait 3 months before even discussing the patches. I decided to still
do other projects and provide a few other patches in the WordPress
community. Some missteps later, I decided that I would again push the
patches and feedback for the tickets come September. When September came
around I again queried for feedback on the patches and tickets. The only
responses I received were from Nacin and perhaps one or two others
(Scribu?). They both said the same thing, the component was managed by DD32
(Dion) and therefore outside of their scope. Given the time differences, it
would be high difficult to impossible to be on at the same time as DD32. The
times I did happen to be on, DD32 appeared to be doing other things and
unable to accept any discussion. I do believe I sent an email, but if I did
then it largely went ignored, if I did not, then I felt it wasn't worth
requesting DD32 personally take the time to look at it.

Given the difficulties of discussing the ticket and patches with DD32, I
repeatedly made requests to those on wp-dev IRC channel before and during
the month of September. I also spent some time attempting to bring the
matter up during the weekly meetups. However the agenda rarely allowed for
bringing the matter up and since the weekly IRC chats were made during my
work hours. I couldn't devote a lot of time waiting and debating the issue.
Any time I did bring it up, some issue about bunnies or some other nonsense
was stated and it was implied that it wasn't yet time to bring up extra
items.

I do believe I bought the tickets up on wp-hackers, but it was largely
ignored, except for Peter Westwood. I forget what he stated during that
thread, but it was largely unsatisfactory.

So the process for getting a ticket or patch known used to be to mention it
on IRC, which for me was a nonstarter, because it appears that during my
year absence, the lead developers were assigned a component for which they
are responsible for. Since I couldn't communicate with the lead of the
component I was working on and no one else wanted to look at it either, I
was SOL taking it in that direction.

The new process appears to be to get on the weekly IRC chats, but that has
always been a problem, since majority of the time it is during work hours
and trying to squeeze upwards to an hour meeting into a short break is near
impossible. As I mentioned, bringing issues up that aren't on the agenda is
met with rejection and attempting to get in to the window where discussing
tickets was difficult. I might have done it once, but was, I believe met
with a similar response to what Nacin told me before.

At some point, I realized the irony that I had to get permission to modify
the component that I originally developed. Nacin mentioned that I wasn't
available for supporting the patches, which isn't true. I was available all
during September and would have made time if feedback was given on the
ticket during October, since I would check the tickets periodically.

At some point during October, I notified one of the committers that if
feedback wasn't received on the tickets, that I would drop support for the
patches. This was a threat in order to get some reaction, but it was poorly
received and I probably could had handled it better. Regardless, nothing
came out of it and I stopped caring about the tickets. Eventually, my own
HTTP library reached the point where it was functional and it doesn't seem
logical to support the WordPress HTTP API and my new HTTP library.

To say I care about my tickets. I don't. I stopped caring in October and now
in January, well, I'm not going to waste any more of my time supporting
patches that aren't going into WordPress anyway. In fact, I would rather the
patches be deleted and the tickets be removed. Well, I write "I'd rather"
but truthfully, it is more of a demand and anyone using the patches will be
in violation of my copyright.

DD32, Nacin and Ryan have all worked on the HTTP API since May and none have
given feedback on any of the patches and most of the tickets. The only
ticket that received any feedback was #11613, which was when I request
further clarification on the details of the ticket in question.

You will also see that all of these tickets received patches back in Summer
2010, long before the start of 3.1 and many were ready for inclusion in 3.1
early further ensuring that they would have been tested before the RC of
3.1. If most or any of the patches were committed in September then I could
have been around to provide any further patches and support for the patches
and tickets in question.

Now that you have my side of the story and most of the facts, you decide. Am
I wrong in my initial post to assert the things I have? What could I have
done better, besides used more tact? Should tact have mattered, since my
initial inquiries were rather tame and didn't become heated until I was
brushed aside and dismissed.

In my conclusion, I was partly right in that it was still difficult to get
paches into core, except now the difficulty seems to have increased. It is
annoying that this thread was sidetracked and I had to bring forth proof of
my assertions to counter the logical fallacies and incomplete information.

Jacob Santos

PS: Well, come to think of it, it might not be WordPress, but the lead
developers might just hate me and want nothing to do with me or my tickets
and patches. I still think that this idea is a faulty one, because it stinks
of childish behavior and anyone who wants to help the project should be
given the chance. Right?

Ironically, I could have been someone who helped get this release out on
time. Provided my initial patches were given feedback and a few of them were
committed, which given that majority of them are relatively simple and
defect fixes I would hope that wouldn't be difficult. Also ironically, most
of the time Jane says I wasted was spent attempting to get my tickets
committed or to at least receive decent feedback and the tickets reviewed. I
think really, I find it funny that the expectation of me as a would be
contributor is to provide patches and unpaid time to features and support
for tickets and features that are 'blessed'. I don't have a lot of time and
even less to a project that wants to dictate that time for me. I did make
this clear at one point during the long discussions attempting to get the
tickets and patches looked at.

PSS: Just hope this doesn't happen to you. If it does, just leave and get
out before it becomes personal.

References:

http://core.trac.wordpress.org/ticket/13777 - (enhancement) Most contentious
ticket.

http://core.trac.wordpress.org/ticket/13915 - (enhancement, but really bug
fix) Relatively simple that should require no thought.

http://core.trac.wordpress.org/ticket/9072 - (feature request) This time
fully tested with functional tests and proven to work.

http://core.trac.wordpress.org/ticket/11613 - (defect) Patch correctly
identifies the problem area and seeks feedback on whether the solution is
appropriate or a better method is available.

http://core.trac.wordpress.org/ticket/14184 - (defect) Patch corrects one
issue and also allows for correct implementation for cookies.

http://core.trac.wordpress.org/ticket/8622 - (enhancement) Minor. Had some
cross dependencies to a few of the above tickets.


So basically 6 patches within the span of a week. Just imagine what I could
have done if I didn't have to spend all of my time attempting to get those
tickets to even be looked at.



On Sat, Jan 1, 2011 at 10:34 PM, Greg Boggs <greg at humhost.com> wrote:

> Leading documentation, committing huge chunks of code, and leading commit
> props all sound like the perfect reasons to add someone to the leadership
> team of a project that is run based on merit. So far the only reason we've
> read here not to add him to the core group is that he's upset that he has
> been excluded despite his merit.
>
> Advocating for your work and reminding others of your contributions has
> long been an element of successful contributors to open source projects.
> Granted, he could have handled his problem with more tact, but if he hadn't
> mailed the list, very few people would even know he exists.
>
>
> On 12/30/2010 04:40 PM, wp-hackers-request at lists.automattic.com wrote:
>
>> Jacob has contributed greatly to the project in the past, it's true. In
>> addition to http and other funcitonal patches, he did a huge chunk with
>> inline documentation in 2.7 that definitely lead to a lot of commit
>> props (and verbal props from me in pretty much every talk or interview I
>> did around that time). But that isn't a reason to add someone to the
>> leadership group.
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mark at simplercomputing.net  Mon Jan  3 03:41:45 2011
From: mark at simplercomputing.net (Mark E)
Date: Sun, 02 Jan 2011 20:41:45 -0700
Subject: [wp-hackers] The problem with Contributions and This Thread
In-Reply-To: <4D1A74F9.7090606@automattic.com>
References: <AANLkTim0DuAg3+1xb7B9SQiUO5c37+=811Q6BOcqBWwn@mail.gmail.com>
	<4D1A74F9.7090606@automattic.com>
Message-ID: <4D214579.6090702@simplercomputing.net>

 > Saying people who are working crazy hours
> should be go out of their way to appease one person "no matter how bad I
> act" means you think you are more important than everyone else. Respect
> begets respect. Everyone needs to be polite, not just the lead devs.

If people (including devs) are working crazy hours then that would 
indicate that more devs are needed...

> I'm not sure what exactly about me you find corporate. I'm a non-profit
> girl since way back in my teens and the lead devs all call me a hippie,
> not inaccurately.

Just thought I'd clear up the "non-profit" issue for people, since 
invariably people tend to misunderstand it:  Non-profits are 
corporations. Period. The major difference between a C corp, S corp, 
LLC, and Non-Profit is that a non-profit is allegedly not in business to 
earn a profit -- in this context profit means money that isn't needed to 
run the business (salary, payroll, overhead, expansion, etc). Other than 
that, they're all basically the same in the eyes of the IRS and the 
States. That is to say, non-profits can earn money, loads of it, and 
spend it according to their charter. In fact, many non-profits ARE 
non-profits simply because of the tax advantages. Being non-profit 
doesn't mean good and green. Some non-profits are pure evil. Non-profit 
simply means the corporation isn't obligated to pay taxes on income, 
unless that income is generated from activities outside the corporate 
charter.

Not to distract from the thread, but just to clear that up for people 
who think a "non-profit" corp is something great and good just because 
it's non-profit.

Mark

From jane at automattic.com  Mon Jan  3 04:35:25 2011
From: jane at automattic.com (Jane Wells)
Date: Sun, 02 Jan 2011 23:35:25 -0500
Subject: [wp-hackers] The problem with Contributions and This Thread
In-Reply-To: <4D214579.6090702@simplercomputing.net>
References: <AANLkTim0DuAg3+1xb7B9SQiUO5c37+=811Q6BOcqBWwn@mail.gmail.com>	<4D1A74F9.7090606@automattic.com>
	<4D214579.6090702@simplercomputing.net>
Message-ID: <4D21520D.9010705@automattic.com>

On 1/2/11 10:41 PM, Mark E wrote:
> If people (including devs) are working crazy hours then that would 
> indicate that more devs are needed...
>
It means people really love what they're doing. No one makes us work 
these hours, we do it of our own volition.


>> I'm not sure what exactly about me you find corporate. I'm a non-profit
>> girl since way back in my teens and the lead devs all call me a hippie,
>> not inaccurately.
> Not to distract from the thread, but just to clear that up for people 
> who think a "non-profit" corp is something great and good just because 
> it's non-profit.
Sorry, I'll be more specific. I spent years working for little or no 
money with environmental groups, food co-ops, health clinics for 
low-income women, human right organizations. I know it's easy to turn 
these threads into opportunities to pontificate and go on tangents, but 
please remember there's a real person on the other end of every email. 
I'm not evil. I rescue kittens and take in abused kids. Seriously.
j

From wp at andrewnacin.com  Mon Jan  3 04:39:23 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 2 Jan 2011 23:39:23 -0500
Subject: [wp-hackers] The problem with Contributions and This Thread
In-Reply-To: <AANLkTin+sGMM6fZaUU3H5x9xUctn1HgT=Y3j0--ThUDZ@mail.gmail.com>
References: <mailman.35267.1293756021.1338.wp-hackers@lists.automattic.com>
	<4D200069.3010401@humhost.com>
	<AANLkTin+sGMM6fZaUU3H5x9xUctn1HgT=Y3j0--ThUDZ@mail.gmail.com>
Message-ID: <AANLkTi=w-0UzUmX7K5e9s3e+KNPaXwy3LXqXPvEdN8P9@mail.gmail.com>

>
> So basically 6 patches within the span of a week. Just imagine what I
> could

have done if I didn't have to spend all of my time attempting to get those

tickets to even be looked at.


Jacob,

Do you really want dirty laundry aired on this list? I can play that game
too if you force me to.

Imagine how many more patches you could have written or refined in lieu of
writing a few thousand words to this mailing list this week.

Imagine how many more patches I could have reviewed, tested or committed in
lieu of needing to deal with responding to this. Or needing to think about
this.

In 2010, I made 7,566 comments to 3,598 tickets on the bug tracker, and more
than 1,400 commits. I/We don't need to be publicly castigated for failing to
ensure that your six (gasp!) specific tickets received feedback. Yeah, they
weren't reviewed. We get it. But another 700 tickets were closed in 3.1
alone. Some do slip through.

You catch more flies with honey than vinegar. Crowing about your own past
contributions and now these six low priority tickets never slated for the
3.1 release is self-aggrandizing when you look at how much has been done
around you.

Nacin

From hempsworth at gmail.com  Mon Jan  3 13:40:10 2011
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Mon, 3 Jan 2011 13:40:10 +0000
Subject: [wp-hackers] Network activate, but only create one table
Message-ID: <AANLkTikOn+xZx0Zam_PAaQy54HDNT6KxTbG78xjbEG18@mail.gmail.com>

Hi all,

I'm working on the next version of BuddyPress Like, which will be creating
it's work table. I want it to work with MultiSite, but I only want there to
be one database table for the whole network rather than a separate one for
each site. This is so I can more easily bring up stats of the most 'liked'
content for the whole network.

Currently, I'm using this code to create the database table, pretty normal:

 $table_name = $wpdb->prefix . 'likes';
>
> if($wpdb->get_var("SHOW TABLES LIKE '$table_name'") != $table_name) {
>
> $sql[] = "CREATE TABLE $table_name (...


Which works fine, but when I network activate the plugin it's creating
wp_likes, wp_2_likes etc.

How would I modify how I'm doing things to still respect any custom table
prefix that might be set, but only have one table for the whole network?

-- Alex

From otto at ottodestruct.com  Mon Jan  3 13:45:01 2011
From: otto at ottodestruct.com (Otto)
Date: Mon, 3 Jan 2011 07:45:01 -0600
Subject: [wp-hackers] Network activate, but only create one table
In-Reply-To: <AANLkTikOn+xZx0Zam_PAaQy54HDNT6KxTbG78xjbEG18@mail.gmail.com>
References: <AANLkTikOn+xZx0Zam_PAaQy54HDNT6KxTbG78xjbEG18@mail.gmail.com>
Message-ID: <AANLkTikoSP61bFyzrRbeh8BNMydYvBsQKXVXKDK5FpBD@mail.gmail.com>

Use $wpdb->base_prefix instead.

-Otto



On Mon, Jan 3, 2011 at 7:40 AM, Alex Hempton-Smith <hempsworth at gmail.com> wrote:
> Hi all,
>
> I'm working on the next version of BuddyPress Like, which will be creating
> it's work table. I want it to work with MultiSite, but I only want there to
> be one database table for the whole network rather than a separate one for
> each site. This is so I can more easily bring up stats of the most 'liked'
> content for the whole network.
>
> Currently, I'm using this code to create the database table, pretty normal:
>
> ?$table_name = $wpdb->prefix . 'likes';
>>
>> if($wpdb->get_var("SHOW TABLES LIKE '$table_name'") != $table_name) {
>>
>> $sql[] = "CREATE TABLE $table_name (...
>
>
> Which works fine, but when I network activate the plugin it's creating
> wp_likes, wp_2_likes etc.
>
> How would I modify how I'm doing things to still respect any custom table
> prefix that might be set, but only have one table for the whole network?
>
> -- Alex
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From sorich87 at gmail.com  Mon Jan  3 13:45:54 2011
From: sorich87 at gmail.com (Ulrich SOSSOU)
Date: Mon, 3 Jan 2011 14:45:54 +0100
Subject: [wp-hackers] Network activate, but only create one table
In-Reply-To: <AANLkTikOn+xZx0Zam_PAaQy54HDNT6KxTbG78xjbEG18@mail.gmail.com>
References: <AANLkTikOn+xZx0Zam_PAaQy54HDNT6KxTbG78xjbEG18@mail.gmail.com>
Message-ID: <AANLkTimo-EGsNDTFnQsiq3Nh2Freq7EiP2upH1cX8MpC@mail.gmail.com>

>
> Hi all,
>
> I'm working on the next version of BuddyPress Like, which will be creating
> it's work table. I want it to work with MultiSite, but I only want there to
> be one database table for the whole network rather than a separate one for
> each site. This is so I can more easily bring up stats of the most 'liked'
> content for the whole network.
>
> Currently, I'm using this code to create the database table, pretty normal:
>
>  $table_name = $wpdb->prefix . 'likes';
> >
> > if($wpdb->get_var("SHOW TABLES LIKE '$table_name'") != $table_name) {
> >
> > $sql[] = "CREATE TABLE $table_name (...
>
>
> Which works fine, but when I network activate the plugin it's creating
> wp_likes, wp_2_likes etc.
>
> How would I modify how I'm doing things to still respect any custom table
> prefix that might be set, but only have one table for the whole network?
>
> -- Alex



Use $wpdb->base_prefix.

Ulrich SOSSOU

--------------------------------------------
Q: Why is this email five sentences or less?
A: http://five.sentenc.es

From hempsworth at gmail.com  Mon Jan  3 13:47:31 2011
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Mon, 3 Jan 2011 13:47:31 +0000
Subject: [wp-hackers] Network activate, but only create one table
In-Reply-To: <AANLkTimo-EGsNDTFnQsiq3Nh2Freq7EiP2upH1cX8MpC@mail.gmail.com>
References: <AANLkTikOn+xZx0Zam_PAaQy54HDNT6KxTbG78xjbEG18@mail.gmail.com>
	<AANLkTimo-EGsNDTFnQsiq3Nh2Freq7EiP2upH1cX8MpC@mail.gmail.com>
Message-ID: <AANLkTi=pisSq-CRpOeo-QBVmwwHxSsig2g-3uJ+rFVb0@mail.gmail.com>

Brilliant, thanks both!

-- Alex


On Mon, Jan 3, 2011 at 1:45 PM, Ulrich SOSSOU <sorich87 at gmail.com> wrote:

> >
> > Hi all,
> >
> > I'm working on the next version of BuddyPress Like, which will be
> creating
> > it's work table. I want it to work with MultiSite, but I only want there
> to
> > be one database table for the whole network rather than a separate one
> for
> > each site. This is so I can more easily bring up stats of the most
> 'liked'
> > content for the whole network.
> >
> > Currently, I'm using this code to create the database table, pretty
> normal:
> >
> >  $table_name = $wpdb->prefix . 'likes';
> > >
> > > if($wpdb->get_var("SHOW TABLES LIKE '$table_name'") != $table_name) {
> > >
> > > $sql[] = "CREATE TABLE $table_name (...
> >
> >
> > Which works fine, but when I network activate the plugin it's creating
> > wp_likes, wp_2_likes etc.
> >
> > How would I modify how I'm doing things to still respect any custom table
> > prefix that might be set, but only have one table for the whole network?
> >
> > -- Alex
>
>
>
> Use $wpdb->base_prefix.
>
> Ulrich SOSSOU
>
> --------------------------------------------
> Q: Why is this email five sentences or less?
> A: http://five.sentenc.es
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From beautifulcrimes at gmail.com  Mon Jan  3 14:03:04 2011
From: beautifulcrimes at gmail.com (Jesus Lizama)
Date: Mon, 3 Jan 2011 06:03:04 -0800
Subject: [wp-hackers] Network activate, but only create one table
In-Reply-To: <AANLkTi=pisSq-CRpOeo-QBVmwwHxSsig2g-3uJ+rFVb0@mail.gmail.com>
References: <AANLkTikOn+xZx0Zam_PAaQy54HDNT6KxTbG78xjbEG18@mail.gmail.com>
	<AANLkTimo-EGsNDTFnQsiq3Nh2Freq7EiP2upH1cX8MpC@mail.gmail.com>
	<AANLkTi=pisSq-CRpOeo-QBVmwwHxSsig2g-3uJ+rFVb0@mail.gmail.com>
Message-ID: <AANLkTinX-Odmr39Mbu+dKD7oLnHM_KrSEyLJ=79oS-M0@mail.gmail.com>

Sweet! Quick fix.

On Mon, Jan 3, 2011 at 5:47 AM, Alex Hempton-Smith <hempsworth at gmail.com>wrote:

> Brilliant, thanks both!
>
> -- Alex
>
>
> On Mon, Jan 3, 2011 at 1:45 PM, Ulrich SOSSOU <sorich87 at gmail.com> wrote:
>
> > >
> > > Hi all,
> > >
> > > I'm working on the next version of BuddyPress Like, which will be
> > creating
> > > it's work table. I want it to work with MultiSite, but I only want
> there
> > to
> > > be one database table for the whole network rather than a separate one
> > for
> > > each site. This is so I can more easily bring up stats of the most
> > 'liked'
> > > content for the whole network.
> > >
> > > Currently, I'm using this code to create the database table, pretty
> > normal:
> > >
> > >  $table_name = $wpdb->prefix . 'likes';
> > > >
> > > > if($wpdb->get_var("SHOW TABLES LIKE '$table_name'") != $table_name) {
> > > >
> > > > $sql[] = "CREATE TABLE $table_name (...
> > >
> > >
> > > Which works fine, but when I network activate the plugin it's creating
> > > wp_likes, wp_2_likes etc.
> > >
> > > How would I modify how I'm doing things to still respect any custom
> table
> > > prefix that might be set, but only have one table for the whole
> network?
> > >
> > > -- Alex
> >
> >
> >
> > Use $wpdb->base_prefix.
> >
> > Ulrich SOSSOU
> >
> > --------------------------------------------
> > Q: Why is this email five sentences or less?
> > A: http://five.sentenc.es
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jesus Lizama
Designer - Spifffy.com
Cell: (323)336-2953

From dino at duechiacchiere.it  Mon Jan  3 14:22:12 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Mon, 03 Jan 2011 09:22:12 -0500
Subject: [wp-hackers] Network activate, but only create one table
In-Reply-To: <AANLkTinX-Odmr39Mbu+dKD7oLnHM_KrSEyLJ=79oS-M0@mail.gmail.com>
References: <AANLkTikOn+xZx0Zam_PAaQy54HDNT6KxTbG78xjbEG18@mail.gmail.com>	<AANLkTimo-EGsNDTFnQsiq3Nh2Freq7EiP2upH1cX8MpC@mail.gmail.com>	<AANLkTi=pisSq-CRpOeo-QBVmwwHxSsig2g-3uJ+rFVb0@mail.gmail.com>
	<AANLkTinX-Odmr39Mbu+dKD7oLnHM_KrSEyLJ=79oS-M0@mail.gmail.com>
Message-ID: <4D21DB94.3010107@duechiacchiere.it>

Speaking of which, I hope this issue will be addressed soon after 3.1 is 
released to the public :-)

Thanks and happy new year!
Dino.

On 1/3/2011 9:03 AM, Jesus Lizama wrote:
> Sweet! Quick fix.
>
> On Mon, Jan 3, 2011 at 5:47 AM, Alex Hempton-Smith<hempsworth at gmail.com>wrote:

From wordpress at santosj.name  Mon Jan  3 16:50:37 2011
From: wordpress at santosj.name (Jacob Santos)
Date: Mon, 3 Jan 2011 10:50:37 -0600
Subject: [wp-hackers] The problem with Contributions and This Thread
In-Reply-To: <AANLkTi=w-0UzUmX7K5e9s3e+KNPaXwy3LXqXPvEdN8P9@mail.gmail.com>
References: <mailman.35267.1293756021.1338.wp-hackers@lists.automattic.com>
	<4D200069.3010401@humhost.com>
	<AANLkTin+sGMM6fZaUU3H5x9xUctn1HgT=Y3j0--ThUDZ@mail.gmail.com>
	<AANLkTi=w-0UzUmX7K5e9s3e+KNPaXwy3LXqXPvEdN8P9@mail.gmail.com>
Message-ID: <AANLkTimePEOH5OyVoKGra2Kzuqf4jUb9VfQCpXtCUm==@mail.gmail.com>

You again, completely miss the point and thus attempting to deviated the
argument away from the original point again. I thank you for playing, but
since the original point doesn't seem that it will ever be addressed. I
suggest we play in other sandboxes.

Thank you for your contributions and good day sir. I'd rather you had not
replied to this thread altogether, but I suggest we both go back to being
productive on our projects. Thank you for your time.

Jacob Santos

PS: Dirty Laundry? I'm interested in what you might have as it might help me
better understand your feelings toward the problem. However, I'm not
interested in following you down the rabbit hole again.

On Sun, Jan 2, 2011 at 10:39 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> >
> > So basically 6 patches within the span of a week. Just imagine what I
> > could
>
> have done if I didn't have to spend all of my time attempting to get those
>
> tickets to even be looked at.
>
>
> Jacob,
>
> Do you really want dirty laundry aired on this list? I can play that game
> too if you force me to.
>
> Imagine how many more patches you could have written or refined in lieu of
> writing a few thousand words to this mailing list this week.
>
> Imagine how many more patches I could have reviewed, tested or committed in
> lieu of needing to deal with responding to this. Or needing to think about
> this.
>
> In 2010, I made 7,566 comments to 3,598 tickets on the bug tracker, and
> more
> than 1,400 commits. I/We don't need to be publicly castigated for failing
> to
> ensure that your six (gasp!) specific tickets received feedback. Yeah, they
> weren't reviewed. We get it. But another 700 tickets were closed in 3.1
> alone. Some do slip through.
>
> You catch more flies with honey than vinegar. Crowing about your own past
> contributions and now these six low priority tickets never slated for the
> 3.1 release is self-aggrandizing when you look at how much has been done
> around you.
>
> Nacin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mark at simplercomputing.net  Mon Jan  3 16:53:51 2011
From: mark at simplercomputing.net (Mark E)
Date: Mon, 03 Jan 2011 09:53:51 -0700
Subject: [wp-hackers] The problem with Contributions and This Thread
In-Reply-To: <4D21520D.9010705@automattic.com>
References: <AANLkTim0DuAg3+1xb7B9SQiUO5c37+=811Q6BOcqBWwn@mail.gmail.com>	<4D1A74F9.7090606@automattic.com>	<4D214579.6090702@simplercomputing.net>
	<4D21520D.9010705@automattic.com>
Message-ID: <4D21FF1F.8050005@simplercomputing.net>



On 01/02/2011 09:35 PM, Jane Wells wrote:
> On 1/2/11 10:41 PM, Mark E wrote:
>> If people (including devs) are working crazy hours then that would
>> indicate that more devs are needed...
>>
> It means people really love what they're doing. No one makes us work
> these hours, we do it of our own volition.

Ok. In the non-profit I work with, crazy hours general means send out a 
call to get more hands on deck. I do understand loving what one does, 
however after some amount of time, people begin to grow weary and need 
break. But the 'show must go on' so others come in to do the work.

>>> I'm not sure what exactly about me you find corporate. I'm a non-profit
>>> girl since way back in my teens and the lead devs all call me a hippie,
>>> not inaccurately.
>> Not to distract from the thread, but just to clear that up for people
>> who think a "non-profit" corp is something great and good just because
>> it's non-profit.
> Sorry, I'll be more specific. I spent years working for little or no
> money with environmental groups, food co-ops, health clinics for
> low-income women, human right organizations. I know it's easy to turn
> these threads into opportunities to pontificate and go on tangents, but
> please remember there's a real person on the other end of every email.
> I'm not evil. I rescue kittens and take in abused kids. Seriously.
> j

My comment to clarify what 'non-profit' means wasn't aimed at anyone. I 
didn't mention a person. I was simply clarifying what 'non-profit' 
status is - because I've come across more than one person who thinks a 
non-profit is something other than what it really is: a tax status.

Mark


From nordmannbazan at gmail.com  Mon Jan  3 23:50:05 2011
From: nordmannbazan at gmail.com (Eduardo Nordmann Bazan)
Date: Tue, 4 Jan 2011 00:50:05 +0100
Subject: [wp-hackers] How to send information to the plugin?
Message-ID: <AANLkTimNDUWS226YHz5ZXw_KkYLaOtd7gCsFO9=M71WE@mail.gmail.com>

I'm making a plugin that lives inside a page and needs input from the user.
I tried to get information from a form but without success. I think the
problen is that the action field ot the form is not pointing to the rigth
address.
I haven't found any solution for it in the codex an neither making a search
in google. Any idea?

From louie at louiemccoy.com  Tue Jan  4 00:04:20 2011
From: louie at louiemccoy.com (Louis McCoy)
Date: Mon, 3 Jan 2011 19:04:20 -0500
Subject: [wp-hackers] How to send information to the plugin?
In-Reply-To: <AANLkTimNDUWS226YHz5ZXw_KkYLaOtd7gCsFO9=M71WE@mail.gmail.com>
References: <AANLkTimNDUWS226YHz5ZXw_KkYLaOtd7gCsFO9=M71WE@mail.gmail.com>
Message-ID: <AANLkTim41QZtifkt8DiXCaJLUCmUExQi-68i7cL6CrSb@mail.gmail.com>

Have you tried handling the form input by hooking into 'init'? That's
usually where I handle form data. By just setting the hook, you can have the
form post to basically any WP page successfully.

Example:

add_action('init','do_form_stuff');

function do_form_stuff(){
...do stuff...
}

Does that make sense?

-Louie

On Mon, Jan 3, 2011 at 6:50 PM, Eduardo Nordmann Bazan <
nordmannbazan at gmail.com> wrote:

> I'm making a plugin that lives inside a page and needs input from the user.
> I tried to get information from a form but without success. I think the
> problen is that the action field ot the form is not pointing to the rigth
> address.
> I haven't found any solution for it in the codex an neither making a search
> in google. Any idea?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rafaehlers at gmail.com  Tue Jan  4 00:07:24 2011
From: rafaehlers at gmail.com (Rafael Ehlers)
Date: Mon, 3 Jan 2011 21:07:24 -0300
Subject: [wp-hackers] How to send information to the plugin?
In-Reply-To: <AANLkTimNDUWS226YHz5ZXw_KkYLaOtd7gCsFO9=M71WE@mail.gmail.com>
References: <AANLkTimNDUWS226YHz5ZXw_KkYLaOtd7gCsFO9=M71WE@mail.gmail.com>
Message-ID: <AANLkTik80jfSR1ngrTQCzmvc-3eT6iNF7VOfmh9Ymt8r@mail.gmail.com>

Have a look at this tut, there are some things you should notice in your
form:

http://wpshout.com/wordpress-submit-posts-from-frontend/
http://pastebin.com/KniQsKms

<http://wpshout.com/wordpress-submit-posts-from-frontend/>like, <form
id="ag-form" name="ag-form" method="post" action="<?php echo
get_bloginfo('url').'/'; ?>">

and

<input type="hidden" name="page" id="page" value="<?php echo $post->ID;
?>"/>
<?php wp_nonce_field('new-ad','ad-nonce'); ?>


On Mon, Jan 3, 2011 at 8:50 PM, Eduardo Nordmann Bazan <
nordmannbazan at gmail.com> wrote:

> I'm making a plugin that lives inside a page and needs input from the user.
> I tried to get information from a form but without success. I think the
> problen is that the action field ot the form is not pointing to the rigth
> address.
> I haven't found any solution for it in the codex an neither making a search
> in google. Any idea?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From kparsell-wp at kpdesign.net  Tue Jan  4 00:18:04 2011
From: kparsell-wp at kpdesign.net (Kim Parsell)
Date: Mon, 03 Jan 2011 19:18:04 -0500
Subject: [wp-hackers] Removing links from 3.1 admin bar
Message-ID: <4D22673C.1030406@kpdesign.net>

I've been searching for a way to remove submenu links from the 3.1 admin 
bar, and have not found anything that addresses this - several articles 
on how to add them, but nothing on removing them.

I've read the code in wp-includes/class-wp-admin-bar.php as well as 
wp-includes/admin-bar.php looking for hooks/filters that could be used 
to accomplish this. The remove_menu() function on line 192 of 
wp-includes/class-wp-admin-bar.php looked promising but I've not had any 
luck getting it to work.

Here's the code that I've been working with:

function remove_admin_bar_dashboard_link() {
    global $current_user, $wp_admin_bar;

    if ( ! current_user_can( 'edit_posts' ) && is_admin_bar_showing() ) {
            $wp_admin_bar->remove_menu( array( 'parent' => 'my-account', 
'id' => 'dashboard', 'title' => __( 'Dashboard' ) ) );
        }
    }
}

add_action( 'wp_before_admin_bar_render', 
'remove_admin_bar_dashboard_link' );

Has anyone else done any work with this and possibly shed some light on 
whether it is possible to remove submenu links in the 3.1 admin bar?

Thanks in advance!

Kim


From nordmannbazan at gmail.com  Tue Jan  4 00:31:15 2011
From: nordmannbazan at gmail.com (Eduardo Nordmann Bazan)
Date: Tue, 4 Jan 2011 01:31:15 +0100
Subject: [wp-hackers] How to send information to the plugin?
In-Reply-To: <AANLkTik80jfSR1ngrTQCzmvc-3eT6iNF7VOfmh9Ymt8r@mail.gmail.com>
References: <AANLkTimNDUWS226YHz5ZXw_KkYLaOtd7gCsFO9=M71WE@mail.gmail.com>
	<AANLkTik80jfSR1ngrTQCzmvc-3eT6iNF7VOfmh9Ymt8r@mail.gmail.com>
Message-ID: <AANLkTimjvLCgO2D1h0973Lu-L=W-OcqrE_zvb9FZnDb1@mail.gmail.com>

Thanks Louis and Rafael I would try both solutions and see wich fits better
to my plugin. Thanks you, you gave me something to work with
El 04/01/2011 01:07, "Rafael Ehlers" <rafaehlers at gmail.com> escribi?:
> Have a look at this tut, there are some things you should notice in your
> form:
>
> http://wpshout.com/wordpress-submit-posts-from-frontend/
> http://pastebin.com/KniQsKms
>
> <http://wpshout.com/wordpress-submit-posts-from-frontend/>like, <form
> id="ag-form" name="ag-form" method="post" action="<?php echo
> get_bloginfo('url').'/'; ?>">
>
> and
>
> <input type="hidden" name="page" id="page" value="<?php echo $post->ID;
> ?>"/>
> <?php wp_nonce_field('new-ad','ad-nonce'); ?>
>
>
> On Mon, Jan 3, 2011 at 8:50 PM, Eduardo Nordmann Bazan <
> nordmannbazan at gmail.com> wrote:
>
>> I'm making a plugin that lives inside a page and needs input from the
user.
>> I tried to get information from a form but without success. I think the
>> problen is that the action field ot the form is not pointing to the rigth
>> address.
>> I haven't found any solution for it in the codex an neither making a
search
>> in google. Any idea?
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From kparsell-wp at kpdesign.net  Tue Jan  4 00:44:03 2011
From: kparsell-wp at kpdesign.net (Kim Parsell)
Date: Mon, 03 Jan 2011 19:44:03 -0500
Subject: [wp-hackers] Removing links from 3.1 admin bar
In-Reply-To: <4D22673C.1030406@kpdesign.net>
References: <4D22673C.1030406@kpdesign.net>
Message-ID: <4D226D53.70309@kpdesign.net>

Andrew Nacin pointed me to a Trac ticket regarding same issue w/solution 
(in case anyone else is trying to do the same thing):
http://core.trac.wordpress.org/ticket/16005

Thanks Andrew!

Kim

------------------------------------------------------------------------

Kim Parsell wrote:
> I've been searching for a way to remove submenu links from the 3.1 
> admin bar, and have not found anything that addresses this - several 
> articles on how to add them, but nothing on removing them.
>
> I've read the code in wp-includes/class-wp-admin-bar.php as well as 
> wp-includes/admin-bar.php looking for hooks/filters that could be used 
> to accomplish this. The remove_menu() function on line 192 of 
> wp-includes/class-wp-admin-bar.php looked promising but I've not had 
> any luck getting it to work.
>
> Here's the code that I've been working with:
>
> function remove_admin_bar_dashboard_link() {
>    global $current_user, $wp_admin_bar;
>
>    if ( ! current_user_can( 'edit_posts' ) && is_admin_bar_showing() ) {
>            $wp_admin_bar->remove_menu( array( 'parent' => 
> 'my-account', 'id' => 'dashboard', 'title' => __( 'Dashboard' ) ) );
>        }
>    }
> }
>
> add_action( 'wp_before_admin_bar_render', 
> 'remove_admin_bar_dashboard_link' );
>
> Has anyone else done any work with this and possibly shed some light 
> on whether it is possible to remove submenu links in the 3.1 admin bar?
>
> Thanks in advance!
>
> Kim

From fhelmschrott at gmail.com  Tue Jan  4 07:38:26 2011
From: fhelmschrott at gmail.com (Frank Helmschrott)
Date: Tue, 4 Jan 2011 08:38:26 +0100
Subject: [wp-hackers] Bug with is_404() in WP 3.0.4?
Message-ID: <AANLkTim5aggMzx8J5AfqLJX0nW7jWKYAgszfCkPOAaVS@mail.gmail.com>

Hi,

i'm trying to get my 404 pages handled smart and get them redirected
to the post possibly still existing after a permalink change. I've
tried 'change permalink helper' from Frank B?ltge which already worked
and i've also tried 'Smart 404' plugin.

Both of the don't work in two blogs i've tested (also on a completely
naked one). Both work with the is_404() function to hook into
wordpress and query the database for posts. Both already worked with
at least 3.0.1 - is there any significant change in 3.0.4 you guys
know of and that could break this up?

I've got tons of traffic on error pages now.

Thanks!

-- 
Frank

From wp at andrewnacin.com  Tue Jan  4 07:51:53 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 4 Jan 2011 02:51:53 -0500
Subject: [wp-hackers] Bug with is_404() in WP 3.0.4?
In-Reply-To: <AANLkTim5aggMzx8J5AfqLJX0nW7jWKYAgszfCkPOAaVS@mail.gmail.com>
References: <AANLkTim5aggMzx8J5AfqLJX0nW7jWKYAgszfCkPOAaVS@mail.gmail.com>
Message-ID: <AANLkTi=YxThea9EMjUoTGRVm4ib8=AJOCgjozRKF5XRO@mail.gmail.com>

On Tue, Jan 4, 2011 at 2:38 AM, Frank Helmschrott <fhelmschrott at gmail.com>wrote:

> Hi,
>
> i'm trying to get my 404 pages handled smart and get them redirected
> to the post possibly still existing after a permalink change. I've
> tried 'change permalink helper' from Frank B?ltge which already worked
> and i've also tried 'Smart 404' plugin.
>
> Both of the don't work in two blogs i've tested (also on a completely
> naked one). Both work with the is_404() function to hook into
> wordpress and query the database for posts. Both already worked with
> at least 3.0.1 - is there any significant change in 3.0.4 you guys
> know of and that could break this up?
>
> I've got tons of traffic on error pages now.
>

If your code worked on 3.0.1 there's really no question that it should have
worked on 3.0.4. You probably have something else going on there.

From johan.eenfeldt at gmail.com  Tue Jan  4 08:50:11 2011
From: johan.eenfeldt at gmail.com (Johan Eenfeldt)
Date: Tue, 4 Jan 2011 09:50:11 +0100
Subject: [wp-hackers] plugin updates on wordpress.org
Message-ID: <AANLkTi=3Zq3HRO-mmV=-fZanM9PR_i6zrcG6EcfAdDQ+@mail.gmail.com>

On Wed, Dec 8, 2010 at 5:19 PM, Rich Pedley <elfin at elfden.co.uk> wrote:
> On 08/12/2010 15:59, Otto wrote:
>>
>> On Wed, Dec 8, 2010 at 9:32 AM, Rich Pedley<elfin at elfden.co.uk> ?wrote:
>>>
>>> http://wordpress.org/extend/plugins/eshop/changelog/
>>>
>>> doesn't match either:
>>> http://plugins.trac.wordpress.org/browser/eshop/trunk/readme.txt
>>> or
>>> http://plugins.trac.wordpress.org/browser/eshop/tags/6.0.2/readme.txt
>>>
>>> (specifically the small section about Version 6.0.2 in the Changelog).
>>>
>>> The download from the plugin page shows correctly as 6.0.2 and contains
>>> the
>>> upto date readme.
>>>
>>> is this an issue with my usage of SVN or an issue at WordPress.org ?
>>
>> The "plugin display" data doesn't update at the same time as the
>> plugin zips get rebuilt and such. So it's highly likely that the
>> downloads will appear before the new info appears in the Plugin
>> display. This is a consequence of us using multiple servers. Only one
>> server updates the plugin display, whereas they all update the zips
>> for download.
>>
>> So sometimes, yes, the data shown will be old for a while. Generally,
>> you just have to wait for it to happen. :)
>
> and as if my magic... it suddenly appears. I waited 2 days before reporting
> it as well!
>
> Maybe someone could put together a wiki page explaining all the possible
> delays when updating (or add it to the plugin developer page?) and how long
> to wait before flagging it up.

So how long should we wait to report it when plugin information
doesn't get updated from the readme?

This is the third day since tagging a new release (which got picked up
immediately, thanks!) and changelog etc still shows the old
information. Screenshots are from the new release, but descriptions
are from the old one, which is kind of weird.

Plugin: http://wordpress.org/extend/plugins/limit-login-attempts/

Thanks,
Johan

From elfin at elfden.co.uk  Tue Jan  4 10:15:53 2011
From: elfin at elfden.co.uk (Rich Pedley)
Date: Tue, 04 Jan 2011 10:15:53 +0000
Subject: [wp-hackers] plugin updates on wordpress.org
In-Reply-To: <AANLkTi=3Zq3HRO-mmV=-fZanM9PR_i6zrcG6EcfAdDQ+@mail.gmail.com>
References: <AANLkTi=3Zq3HRO-mmV=-fZanM9PR_i6zrcG6EcfAdDQ+@mail.gmail.com>
Message-ID: <4D22F359.50706@elfden.co.uk>

On 04/01/2011 08:50, Johan Eenfeldt wrote:
> On Wed, Dec 8, 2010 at 5:19 PM, Rich Pedley<elfin at elfden.co.uk>  wrote:
>> On 08/12/2010 15:59, Otto wrote:
>>>
>>> On Wed, Dec 8, 2010 at 9:32 AM, Rich Pedley<elfin at elfden.co.uk>    wrote:
>>>>
>>>> http://wordpress.org/extend/plugins/eshop/changelog/
>>>>
>>>> doesn't match either:
>>>> http://plugins.trac.wordpress.org/browser/eshop/trunk/readme.txt
>>>> or
>>>> http://plugins.trac.wordpress.org/browser/eshop/tags/6.0.2/readme.txt
>>>>
>>>> (specifically the small section about Version 6.0.2 in the Changelog).
>>>>
>>>> The download from the plugin page shows correctly as 6.0.2 and contains
>
>>>> the
>>>> upto date readme.
>>>>
>>>> is this an issue with my usage of SVN or an issue at WordPress.org ?
>>>
>>> The "plugin display" data doesn't update at the same time as the
>>> plugin zips get rebuilt and such. So it's highly likely that the
>>> downloads will appear before the new info appears in the Plugin
>>> display. This is a consequence of us using multiple servers. Only one
>>> server updates the plugin display, whereas they all update the zips
>>> for download.
>>>
>>> So sometimes, yes, the data shown will be old for a while. Generally,
>>> you just have to wait for it to happen. :)
>>
>> and as if my magic... it suddenly appears. I waited 2 days before reporting
>> it as well!
>>
>> Maybe someone could put together a wiki page explaining all the possible
>> delays when updating (or add it to the plugin developer page?) and how long
>> to wait before flagging it up.
>
> So how long should we wait to report it when plugin information
> doesn't get updated from the readme?
>
> This is the third day since tagging a new release (which got picked up
> immediately, thanks!) and changelog etc still shows the old
> information. Screenshots are from the new release, but descriptions
> are from the old one, which is kind of weird.
>
> Plugin: http://wordpress.org/extend/plugins/limit-login-attempts/

Believe me it isn't just you.

I have recently been informed that they do know about the issue and 
someone is working on it.

Rich


From mail at scribu.net  Tue Jan  4 11:25:18 2011
From: mail at scribu.net (scribu)
Date: Tue, 4 Jan 2011 13:25:18 +0200
Subject: [wp-hackers] Changes to sanitize_title
In-Reply-To: <AANLkTinPTNRnpVF99hJxjB6SoAqondTDbdsTiVuf9L7V@mail.gmail.com>
References: <AANLkTinPTNRnpVF99hJxjB6SoAqondTDbdsTiVuf9L7V@mail.gmail.com>
Message-ID: <AANLkTik1YGaGxYAvr=aPDKQz=veDnLbw1YRHGKajC+=z@mail.gmail.com>

On Wed, Dec 29, 2010 at 7:20 PM, Milan Dini? <liste at srpski.biz> wrote:

> Now that there is context, should we safely remove this check for $_POST
> and
> only apply transliteration when context is 'save'?
>

Yes, that's the idea.

-- 
http://scribu.net

From autremonde75 at gmail.com  Tue Jan  4 14:11:42 2011
From: autremonde75 at gmail.com (Olivier)
Date: Tue, 4 Jan 2011 06:11:42 -0800 (PST)
Subject: [wp-hackers] Sidebar/Widget conditionnal tag?
Message-ID: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com>

Hello,

I need to filter widget content (for recent posts and recent
comments). The issue I am facing is that the posts_where filter I am
hooking on is applicable to the entire page queries (ie main content +
sidebar).

Please, is there a way to check if the query is performed from the
sidebar or widget?

Something like is_sidebar or is_widget would be nice to perform some
tests in the filter hooks.

Thanks!

From kikizas at gmail.com  Tue Jan  4 14:30:15 2011
From: kikizas at gmail.com (Demetris Kikizas)
Date: Tue, 4 Jan 2011 16:30:15 +0200
Subject: [wp-hackers] Sidebar/Widget conditionnal tag?
In-Reply-To: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com>
References: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com>
Message-ID: <AANLkTimTq3+cXoE5Xe=Vis7OZbnZTH9DTuRtns+oaP5c@mail.gmail.com>

On Tue, Jan 4, 2011 at 16:11, Olivier <autremonde75 at gmail.com> wrote:
> Hello,
>
> I need to filter widget content (for recent posts and recent
> comments). The issue I am facing is that the posts_where filter I am
> hooking on is applicable to the entire page queries (ie main content +
> sidebar).
>
> Please, is there a way to check if the query is performed from the
> sidebar or widget?
>
> Something like is_sidebar or is_widget would be nice to perform some
> tests in the filter hooks.
>
> Thanks!
You could try in_the_loop():

http://codex.wordpress.org/Function_Reference/in_the_loop

I have never used it myself, but I imagine that?s where I would start.

Cheers!

Demetris
http://op1111.net/81/ ? What is new in WordPress 3.1

From autremonde75 at gmail.com  Tue Jan  4 15:25:46 2011
From: autremonde75 at gmail.com (Olivier)
Date: Tue, 4 Jan 2011 07:25:46 -0800 (PST)
Subject: [wp-hackers] Sidebar/Widget conditionnal tag?
In-Reply-To: <AANLkTimTq3+cXoE5Xe=Vis7OZbnZTH9DTuRtns+oaP5c@mail.gmail.com>
References: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com>
	<AANLkTimTq3+cXoE5Xe=Vis7OZbnZTH9DTuRtns+oaP5c@mail.gmail.com>
Message-ID: <dbce08a8-8b56-4e32-8aa6-d1da71913b1f@s4g2000yql.googlegroups.com>

Thanks Demetris! Unfortunately, I had tried this before and it doesn't
seem to work. The flag is still set while going through the widgets...

From gcorne at bu.edu  Tue Jan  4 17:04:54 2011
From: gcorne at bu.edu (Cornelius, Gregory)
Date: Tue, 4 Jan 2011 12:04:54 -0500
Subject: [wp-hackers] Sidebar/Widget conditionnal tag?
In-Reply-To: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com>
References: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com>
Message-ID: <DAAA6BE8-A347-40E8-96C1-438CE89941FD@bu.edu>

You could add the filter using the action "get_sidebar" and remove it immediately.

function foo_get_sidebar_action() {
	add_filter('posts_where', 'foo_filter_posts');
}

function foo_filter_posts($where) {
	remove_filter('get_sidebar', 'foo_get_sidebar_action');

	// manipulate $where	
	return $where;
}

The context (usually a sidebar) that is generating the widget  is not passed to the widget code, and unfortunately, there isn't an action that runs somewhere in the "display_callback" method.

On Jan 4, 2011, at 9:11 AM, Olivier wrote:

> Hello,
> 
> I need to filter widget content (for recent posts and recent
> comments). The issue I am facing is that the posts_where filter I am
> hooking on is applicable to the entire page queries (ie main content +
> sidebar).
> 
> Please, is there a way to check if the query is performed from the
> sidebar or widget?
> 
> Something like is_sidebar or is_widget would be nice to perform some
> tests in the filter hooks.
> 
> Thanks!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From kikizas at gmail.com  Tue Jan  4 17:28:25 2011
From: kikizas at gmail.com (Demetris Kikizas)
Date: Tue, 4 Jan 2011 19:28:25 +0200
Subject: [wp-hackers] Sidebar/Widget conditionnal tag?
In-Reply-To: <dbce08a8-8b56-4e32-8aa6-d1da71913b1f@s4g2000yql.googlegroups.com>
References: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com>
	<AANLkTimTq3+cXoE5Xe=Vis7OZbnZTH9DTuRtns+oaP5c@mail.gmail.com>
	<dbce08a8-8b56-4e32-8aa6-d1da71913b1f@s4g2000yql.googlegroups.com>
Message-ID: <AANLkTikpfTwjyiahYPMfGo_sxBPqVgS_tDuEDWH0pRZV@mail.gmail.com>

On Tue, Jan 4, 2011 at 17:25, Olivier <autremonde75 at gmail.com> wrote:
> Thanks Demetris! Unfortunately, I had tried this before and it doesn't
> seem to work. The flag is still set while going through the widgets...

Just did a test with a simple filter and it works for me:

function uppercase_title_in_sidebar($o) {
    if (in_the_loop()) {
        return $o;
    } else {
        return strtoupper($o);
    }
}

add_filter('the_title', 'uppercase_title_in_sidebar');

(It turns post titles found in sidebars to all caps.)

Maybe your theme templates do something unusual with the loop?  What
theme are you using?

Cheers,

Demetris
http://op111.net/81/ ? What is new in WordPress 3.1

From autremonde75 at gmail.com  Tue Jan  4 18:49:53 2011
From: autremonde75 at gmail.com (Olivier)
Date: Tue, 4 Jan 2011 10:49:53 -0800 (PST)
Subject: [wp-hackers] Sidebar/Widget conditionnal tag?
In-Reply-To: <AANLkTikpfTwjyiahYPMfGo_sxBPqVgS_tDuEDWH0pRZV@mail.gmail.com>
References: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com>
	<AANLkTimTq3+cXoE5Xe=Vis7OZbnZTH9DTuRtns+oaP5c@mail.gmail.com>
	<dbce08a8-8b56-4e32-8aa6-d1da71913b1f@s4g2000yql.googlegroups.com>
	<AANLkTikpfTwjyiahYPMfGo_sxBPqVgS_tDuEDWH0pRZV@mail.gmail.com>
Message-ID: <5a695043-ccfb-495a-95c3-17feafedea9e@j3g2000vbi.googlegroups.com>

@Cornelius : good idea, it could probably make it.

@Demetris : I have retested, same result, doesn't work. I think the
posts_where filter is fired outside of the loop, just before it indeed
(while for sure the_title is into it).

From kikizas at gmail.com  Tue Jan  4 20:49:26 2011
From: kikizas at gmail.com (Demetris Kikizas)
Date: Tue, 4 Jan 2011 22:49:26 +0200
Subject: [wp-hackers] Sidebar/Widget conditionnal tag?
In-Reply-To: <5a695043-ccfb-495a-95c3-17feafedea9e@j3g2000vbi.googlegroups.com>
References: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com>
	<AANLkTimTq3+cXoE5Xe=Vis7OZbnZTH9DTuRtns+oaP5c@mail.gmail.com>
	<dbce08a8-8b56-4e32-8aa6-d1da71913b1f@s4g2000yql.googlegroups.com>
	<AANLkTikpfTwjyiahYPMfGo_sxBPqVgS_tDuEDWH0pRZV@mail.gmail.com>
	<5a695043-ccfb-495a-95c3-17feafedea9e@j3g2000vbi.googlegroups.com>
Message-ID: <AANLkTi=4yYFRBZ+6bTW3X_D7a7Ua+ZuMb+NjjbckZK1Y@mail.gmail.com>

On Tue, Jan 4, 2011 at 20:49, Olivier <autremonde75 at gmail.com> wrote:
> @Cornelius : good idea, it could probably make it.
>
> @Demetris : I have retested, same result, doesn't work. I think the
> posts_where filter is fired outside of the loop, just before it indeed
> (while for sure the_title is into it).

You are right, it does not work for posts_where.

I came back to suggest hooking onto get_sidebar, just to realize that
Gregory had already suggested the same thing. My mind is elsewhere.
:-D

Cheers!

Demetris

From mikeschinkel at newclarity.net  Tue Jan  4 20:56:06 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 4 Jan 2011 15:56:06 -0500
Subject: [wp-hackers] Sidebar/Widget conditionnal tag?
In-Reply-To: <AANLkTi=4yYFRBZ+6bTW3X_D7a7Ua+ZuMb+NjjbckZK1Y@mail.gmail.com>
References: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com>
	<AANLkTimTq3+cXoE5Xe=Vis7OZbnZTH9DTuRtns+oaP5c@mail.gmail.com>
	<dbce08a8-8b56-4e32-8aa6-d1da71913b1f@s4g2000yql.googlegroups.com>
	<AANLkTikpfTwjyiahYPMfGo_sxBPqVgS_tDuEDWH0pRZV@mail.gmail.com>
	<5a695043-ccfb-495a-95c3-17feafedea9e@j3g2000vbi.googlegroups.com>
	<AANLkTi=4yYFRBZ+6bTW3X_D7a7Ua+ZuMb+NjjbckZK1Y@mail.gmail.com>
Message-ID: <B6AFA11D-DA22-4D23-9F75-91CE9F4B88BA@newclarity.net>

Is the issue protecting the code in your posts_where from running except for when in your widget?

-Mike

On Jan 4, 2011, at 3:49 PM, Demetris Kikizas wrote:

> On Tue, Jan 4, 2011 at 20:49, Olivier <autremonde75 at gmail.com> wrote:
>> @Cornelius : good idea, it could probably make it.
>> 
>> @Demetris : I have retested, same result, doesn't work. I think the
>> posts_where filter is fired outside of the loop, just before it indeed
>> (while for sure the_title is into it).
> 
> You are right, it does not work for posts_where.
> 
> I came back to suggest hooking onto get_sidebar, just to realize that
> Gregory had already suggested the same thing. My mind is elsewhere.
> :-D
> 
> Cheers!
> 
> Demetris
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From autremonde75 at gmail.com  Tue Jan  4 21:19:18 2011
From: autremonde75 at gmail.com (Olivier)
Date: Tue, 4 Jan 2011 13:19:18 -0800 (PST)
Subject: [wp-hackers] Sidebar/Widget conditionnal tag?
In-Reply-To: <B6AFA11D-DA22-4D23-9F75-91CE9F4B88BA@newclarity.net>
References: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com>
	<AANLkTimTq3+cXoE5Xe=Vis7OZbnZTH9DTuRtns+oaP5c@mail.gmail.com>
	<dbce08a8-8b56-4e32-8aa6-d1da71913b1f@s4g2000yql.googlegroups.com>
	<AANLkTikpfTwjyiahYPMfGo_sxBPqVgS_tDuEDWH0pRZV@mail.gmail.com>
	<5a695043-ccfb-495a-95c3-17feafedea9e@j3g2000vbi.googlegroups.com>
	<AANLkTi=4yYFRBZ+6bTW3X_D7a7Ua+ZuMb+NjjbckZK1Y@mail.gmail.com>
	<B6AFA11D-DA22-4D23-9F75-91CE9F4B88BA@newclarity.net>
Message-ID: <a6d180d4-0419-40a6-b8b2-6bce11b4a44c@i17g2000vbq.googlegroups.com>

Mike,

No basically, the is_in_loop is set after the posts_where hook,
weither you are in the main content loop or a widget one.

@Demetris : yes the get_sidebar should do the trick. I think it would
be valuable to have some kind of flag set like is_sidebar or
is_widget, would definitely help in this situation.

Thanks all for your help!

From mikeschinkel at newclarity.net  Tue Jan  4 21:22:42 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 4 Jan 2011 16:22:42 -0500
Subject: [wp-hackers] Sidebar/Widget conditionnal tag?
In-Reply-To: <a6d180d4-0419-40a6-b8b2-6bce11b4a44c@i17g2000vbq.googlegroups.com>
References: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com>
	<AANLkTimTq3+cXoE5Xe=Vis7OZbnZTH9DTuRtns+oaP5c@mail.gmail.com>
	<dbce08a8-8b56-4e32-8aa6-d1da71913b1f@s4g2000yql.googlegroups.com>
	<AANLkTikpfTwjyiahYPMfGo_sxBPqVgS_tDuEDWH0pRZV@mail.gmail.com>
	<5a695043-ccfb-495a-95c3-17feafedea9e@j3g2000vbi.googlegroups.com>
	<AANLkTi=4yYFRBZ+6bTW3X_D7a7Ua+ZuMb+NjjbckZK1Y@mail.gmail.com>
	<B6AFA11D-DA22-4D23-9F75-91CE9F4B88BA@newclarity.net>
	<a6d180d4-0419-40a6-b8b2-6bce11b4a44c@i17g2000vbq.googlegroups.com>
Message-ID: <F87A5726-1172-4A02-A428-77C1D2FBA9F3@newclarity.net>

On Jan 4, 2011, at 4:19 PM, Olivier wrote:
> No basically, the is_in_loop is set after the posts_where hook,
> weither you are in the main content loop or a widget one.

I think you misunderstood my question.  I was trying understand your need so I can potentially offer a different solution.  Can you restate succinctly what exactly you are trying to accomplish, i.e. the end result not how you might think you need to get there?

-Mike

From autremonde75 at gmail.com  Tue Jan  4 21:33:16 2011
From: autremonde75 at gmail.com (Olivier)
Date: Tue, 4 Jan 2011 13:33:16 -0800 (PST)
Subject: [wp-hackers] Sidebar/Widget conditionnal tag?
In-Reply-To: <F87A5726-1172-4A02-A428-77C1D2FBA9F3@newclarity.net>
References: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com>
	<AANLkTimTq3+cXoE5Xe=Vis7OZbnZTH9DTuRtns+oaP5c@mail.gmail.com>
	<dbce08a8-8b56-4e32-8aa6-d1da71913b1f@s4g2000yql.googlegroups.com>
	<AANLkTikpfTwjyiahYPMfGo_sxBPqVgS_tDuEDWH0pRZV@mail.gmail.com>
	<5a695043-ccfb-495a-95c3-17feafedea9e@j3g2000vbi.googlegroups.com>
	<AANLkTi=4yYFRBZ+6bTW3X_D7a7Ua+ZuMb+NjjbckZK1Y@mail.gmail.com>
	<B6AFA11D-DA22-4D23-9F75-91CE9F4B88BA@newclarity.net>
	<a6d180d4-0419-40a6-b8b2-6bce11b4a44c@i17g2000vbq.googlegroups.com>
	<F87A5726-1172-4A02-A428-77C1D2FBA9F3@newclarity.net>
Message-ID: <4ee054f5-b270-46ac-8b06-61574588fdf4@fm22g2000vbb.googlegroups.com>

Mike,

Sorry for my misunderstanding :)
In fact I need to get different posts list for the main content loop
and the recent posts widget. So I am hooking on the posts_where filter
to modify the "where" SQL clause to include several different values
for both situations.

The issue is that I have no way to differentiate between the main
content loop and the sidebar widget loop because there is no flag
specific to each. So when my filter applies, it applies to both and
therefore is not efficient because I should have different filters for
both to make this work.

Thanks!

From mikeschinkel at newclarity.net  Tue Jan  4 21:47:38 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 4 Jan 2011 16:47:38 -0500
Subject: [wp-hackers] Sidebar/Widget conditionnal tag?
In-Reply-To: <4ee054f5-b270-46ac-8b06-61574588fdf4@fm22g2000vbb.googlegroups.com>
References: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com>
	<AANLkTimTq3+cXoE5Xe=Vis7OZbnZTH9DTuRtns+oaP5c@mail.gmail.com>
	<dbce08a8-8b56-4e32-8aa6-d1da71913b1f@s4g2000yql.googlegroups.com>
	<AANLkTikpfTwjyiahYPMfGo_sxBPqVgS_tDuEDWH0pRZV@mail.gmail.com>
	<5a695043-ccfb-495a-95c3-17feafedea9e@j3g2000vbi.googlegroups.com>
	<AANLkTi=4yYFRBZ+6bTW3X_D7a7Ua+ZuMb+NjjbckZK1Y@mail.gmail.com>
	<B6AFA11D-DA22-4D23-9F75-91CE9F4B88BA@newclarity.net>
	<a6d180d4-0419-40a6-b8b2-6bce11b4a44c@i17g2000vbq.googlegroups.com>
	<F87A5726-1172-4A02-A428-77C1D2FBA9F3@newclarity.net>
	<4ee054f5-b270-46ac-8b06-61574588fdf4@fm22g2000vbb.googlegroups.com>
Message-ID: <50ADD41C-AACF-494E-938C-2A93EEE96188@newclarity.net>

On Jan 4, 2011, at 4:33 PM, Olivier wrote:
> 
> The issue is that I have no way to differentiate between the main
> content loop and the sidebar widget loop because there is no flag
> specific to each. So when my filter applies, it applies to both and
> therefore is not efficient because I should have different filters for
> both to make this work.

Common problem, easy and much more robust solution (assuming you are calling WP_Query or get_posts() in your widget.) Subclass WP_Query and use instance variables to control state and/or add the filters before you call the instance method get_posts() and remove the filters immediately after. 

This answer can show you how:

http://wordpress.stackexchange.com/questions/6162/#6171

Hope this helps.

-Mike


From philip at frumph.net  Wed Jan  5 06:32:41 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Tue, 4 Jan 2011 22:32:41 -0800
Subject: [wp-hackers] Sidebar/Widget conditionnal tag?
In-Reply-To: <50ADD41C-AACF-494E-938C-2A93EEE96188@newclarity.net>
References: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com><AANLkTimTq3+cXoE5Xe=Vis7OZbnZTH9DTuRtns+oaP5c@mail.gmail.com><dbce08a8-8b56-4e32-8aa6-d1da71913b1f@s4g2000yql.googlegroups.com><AANLkTikpfTwjyiahYPMfGo_sxBPqVgS_tDuEDWH0pRZV@mail.gmail.com><5a695043-ccfb-495a-95c3-17feafedea9e@j3g2000vbi.googlegroups.com><AANLkTi=4yYFRBZ+6bTW3X_D7a7Ua+ZuMb+NjjbckZK1Y@mail.gmail.com><B6AFA11D-DA22-4D23-9F75-91CE9F4B88BA@newclarity.net><a6d180d4-0419-40a6-b8b2-6bce11b4a44c@i17g2000vbq.googlegroups.com><F87A5726-1172-4A02-A428-77C1D2FBA9F3@newclarity.net><4ee054f5-b270-46ac-8b06-61574588fdf4@fm22g2000vbb.googlegroups.com>
	<50ADD41C-AACF-494E-938C-2A93EEE96188@newclarity.net>
Message-ID: <841642E99FB74DD7A982329463427787@frumph.net>

or, he could remove_filter before the loop he doesn't want it in and add 
again afterwards ;/




----- Original Message ----- 
From: "Mike Schinkel" <mikeschinkel at newclarity.net>
To: <wp-hackers at lists.automattic.com>
Sent: Tuesday, January 04, 2011 1:47 PM
Subject: Re: [wp-hackers] Sidebar/Widget conditionnal tag?


> On Jan 4, 2011, at 4:33 PM, Olivier wrote:
>>
>> The issue is that I have no way to differentiate between the main
>> content loop and the sidebar widget loop because there is no flag
>> specific to each. So when my filter applies, it applies to both and
>> therefore is not efficient because I should have different filters for
>> both to make this work.
>
> Common problem, easy and much more robust solution (assuming you are 
> calling WP_Query or get_posts() in your widget.) Subclass WP_Query and use 
> instance variables to control state and/or add the filters before you call 
> the instance method get_posts() and remove the filters immediately after.
>
> This answer can show you how:
>
> http://wordpress.stackexchange.com/questions/6162/#6171
>
> Hope this helps.
>
> -Mike
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From mikeschinkel at newclarity.net  Wed Jan  5 06:35:39 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 5 Jan 2011 01:35:39 -0500
Subject: [wp-hackers] Sidebar/Widget conditionnal tag?
In-Reply-To: <841642E99FB74DD7A982329463427787@frumph.net>
References: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com><AANLkTimTq3+cXoE5Xe=Vis7OZbnZTH9DTuRtns+oaP5c@mail.gmail.com><dbce08a8-8b56-4e32-8aa6-d1da71913b1f@s4g2000yql.googlegroups.com><AANLkTikpfTwjyiahYPMfGo_sxBPqVgS_tDuEDWH0pRZV@mail.gmail.com><5a695043-ccfb-495a-95c3-17feafedea9e@j3g2000vbi.googlegroups.com><AANLkTi=4yYFRBZ+6bTW3X_D7a7Ua+ZuMb+NjjbckZK1Y@mail.gmail.com><B6AFA11D-DA22-4D23-9F75-91CE9F4B88BA@newclarity.net><a6d180d4-0419-40a6-b8b2-6bce11b4a44c@i17g2000vbq.googlegroups.com><F87A5726-1172-4A02-A428-77C1D2FBA9F3@newclarity.net><4ee054f5-b270-46ac-8b06-61574588fdf4@fm22g2000vbb.googlegroups.com>
	<50ADD41C-AACF-494E-938C-2A93EEE96188@newclarity.net>
	<841642E99FB74DD7A982329463427787@frumph.net>
Message-ID: <9E1ED5FD-3FF5-484F-B5B0-742B56A09288@newclarity.net>

On Jan 5, 2011, at 1:32 AM, Philip M. Hofer (Frumph) wrote:
> or, he could remove_filter before the loop he doesn't want it in and add again afterwards ;/

True, but that's not encapsulated into a robust and testable unit.  FWIW.

-Mike

From autremonde75 at gmail.com  Wed Jan  5 09:46:04 2011
From: autremonde75 at gmail.com (Olivier)
Date: Wed, 5 Jan 2011 01:46:04 -0800 (PST)
Subject: [wp-hackers] Sidebar/Widget conditionnal tag?
In-Reply-To: <9E1ED5FD-3FF5-484F-B5B0-742B56A09288@newclarity.net>
References: <5cc48732-422f-4677-8e5c-47293215bd1e@l17g2000yqe.googlegroups.com><AANLkTimTq3+cXoE5Xe=Vis7OZbnZTH9DTuRtns+oaP5c@mail.gmail.com><dbce08a8-8b56-4e32-8aa6-d1da71913b1f@s4g2000yql.googlegroups.com><AANLkTikpfTwjyiahYPMfGo_sxBPqVgS_tDuEDWH0pRZV@mail.gmail.com><5a695043-ccfb-495a-95c3-17feafedea9e@j3g2000vbi.googlegroups.com><AANLkTi=4yYFRBZ+6bTW3X_D7a7Ua+ZuMb+NjjbckZK1Y@mail.gmail.com><B6AFA11D-DA22-4D23-9F75-91CE9F4B88BA@newclarity.net><a6d180d4-0419-40a6-b8b2-6bce11b4a44c@i17g2000vbq.googlegroups.com><F87A5726-1172-4A02-A428-77C1D2FBA9F3@newclarity.net><4ee054f5-b270-46ac-8b06-61574588fdf4@fm22g2000vbb.googlegroups.com>
	<50ADD41C-AACF-494E-938C-2A93EEE96188@newclarity.net>
	<841642E99FB74DD7A982329463427787@frumph.net>
	<9E1ED5FD-3FF5-484F-B5B0-742B56A09288@newclarity.net>
Message-ID: <c805e844-69b5-4061-9173-e9675f1df1b1@k13g2000vbq.googlegroups.com>

Thanks for your hints Philip and Mike!

I think the easiest is probably to add a specific filter on widget
creation (widgets_init potentially). Then when the query happens for
the widget, it will use this specific filter. Now the trick is to
remove it after all widgets have been created in order to avoid any
side effect on the main content loop but not after the first
widget(thus an early removal isn't possible). Not sure if there is any
sidebar end action.

From will.davis at gmail.com  Wed Jan  5 17:16:08 2011
From: will.davis at gmail.com (William Davis)
Date: Wed, 5 Jan 2011 12:16:08 -0500
Subject: [wp-hackers] Finding rewrite conflicts
Message-ID: <C6F46A0A-A9EF-44A4-939C-366CF692341C@gmail.com>

It looks like there's a conflict with some of our rewrite rules  
(custom taxonomy archive pages are coming up as 404s unless I change  
the permalink) but I can't figure out for the life of me what it is.  
Is there a way to see all hooks into the permalink structure so I can  
find out where the conflict is?

Will

From eric at eam.me  Wed Jan  5 17:36:58 2011
From: eric at eam.me (Eric Mann)
Date: Wed, 5 Jan 2011 09:36:58 -0800
Subject: [wp-hackers] Finding rewrite conflicts
In-Reply-To: <C6F46A0A-A9EF-44A4-939C-366CF692341C@gmail.com>
References: <C6F46A0A-A9EF-44A4-939C-366CF692341C@gmail.com>
Message-ID: <AANLkTikQ6Kt7LN2=sjUGHzFVx5G8x81Z9HPL7HvOz2Lk@mail.gmail.com>

Jan Fabry wrote a plug-in that lets you analyze all of your loaded rewrite
rules.  He talks about it and shares the source on the WordPress Answers
site:
http://wordpress.stackexchange.com/questions/3606/a-tool-to-analyze-rewrite-rules/3608#3608

<http://wordpress.stackexchange.com/questions/3606/a-tool-to-analyze-rewrite-rules/3608#3608>You
can enter any url for your site and see all of the rewrite rules that would
match it.  This quickly unveils any conflicts you have and gives you an idea
of where to look at to fix your code.

On Wed, Jan 5, 2011 at 9:16 AM, William Davis <will.davis at gmail.com> wrote:

> It looks like there's a conflict with some of our rewrite rules (custom
> taxonomy archive pages are coming up as 404s unless I change the permalink)
> but I can't figure out for the life of me what it is. Is there a way to see
> all hooks into the permalink structure so I can find out where the conflict
> is?
>
> Will
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From will.davis at gmail.com  Wed Jan  5 20:56:05 2011
From: will.davis at gmail.com (William P. Davis)
Date: Wed, 5 Jan 2011 15:56:05 -0500
Subject: [wp-hackers] Finding rewrite conflicts
In-Reply-To: <AANLkTikQ6Kt7LN2=sjUGHzFVx5G8x81Z9HPL7HvOz2Lk@mail.gmail.com>
References: <C6F46A0A-A9EF-44A4-939C-366CF692341C@gmail.com>
	<AANLkTikQ6Kt7LN2=sjUGHzFVx5G8x81Z9HPL7HvOz2Lk@mail.gmail.com>
Message-ID: <AANLkTin_BX1AjTx=pdaUE0pa9-vXK98-TYwOpQLCgMvy@mail.gmail.com>

Awesome, thank you.

On Wed, Jan 5, 2011 at 12:36 PM, Eric Mann <eric at eam.me> wrote:
> Jan Fabry wrote a plug-in that lets you analyze all of your loaded rewrite
> rules. ?He talks about it and shares the source on the WordPress Answers
> site:
> http://wordpress.stackexchange.com/questions/3606/a-tool-to-analyze-rewrite-rules/3608#3608
>
> <http://wordpress.stackexchange.com/questions/3606/a-tool-to-analyze-rewrite-rules/3608#3608>You
> can enter any url for your site and see all of the rewrite rules that would
> match it. ?This quickly unveils any conflicts you have and gives you an idea
> of where to look at to fix your code.
>
> On Wed, Jan 5, 2011 at 9:16 AM, William Davis <will.davis at gmail.com> wrote:
>
>> It looks like there's a conflict with some of our rewrite rules (custom
>> taxonomy archive pages are coming up as 404s unless I change the permalink)
>> but I can't figure out for the life of me what it is. Is there a way to see
>> all hooks into the permalink structure so I can find out where the conflict
>> is?
>>
>> Will
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From pete.holiday at gmail.com  Wed Jan  5 21:21:36 2011
From: pete.holiday at gmail.com (Pete Holiday)
Date: Wed, 5 Jan 2011 16:21:36 -0500
Subject: [wp-hackers] Modifying wp_list_pages() from a plugin
Message-ID: <AANLkTimsAWjTQGEfSqVyjpfdSV16YfaCh1zZMVc_woH4@mail.gmail.com>

Hello,
One of my plugins functions by forcing certain posts/pages to be private and
then showing them to certain logged-in users. It handles showing those posts
in the main loop using posts_where, but there are certain places (like
wp_list_pages()) where the query isn't run through that filter and, as a
result, the page list that's generated doesn't include the private pages
that it should.

Now, I haven't updated this plugin in nearly a year and a half, so I'm
probably a bit behind in terms of what's possible in a WP plugin these days,
but when I last checked, the only solution I could find was rewriting
wp_list_pages() and making that change available for users to add themselves
if they wanted to or wrapping wp_list_pages in my own function that users
could call instead that passed an include list. What I'm hoping for is
either a) some mechanism I wasn't aware of or b) another approach to solving
this problem.

I'm really hoping to avoid a situation where a user is required to update
their templates -- I'd like to just inject pages into the wp_list_pages()
results myself from the plugin -- but I'm open to any clever solution.

Thanks

Pete Holiday

From lazyest at brimosoft.nl  Wed Jan  5 22:47:41 2011
From: lazyest at brimosoft.nl (Lazyest Hacker)
Date: Wed, 5 Jan 2011 23:47:41 +0100
Subject: [wp-hackers] Modifying wp_list_pages() from a plugin
In-Reply-To: <AANLkTimsAWjTQGEfSqVyjpfdSV16YfaCh1zZMVc_woH4@mail.gmail.com>
References: <AANLkTimsAWjTQGEfSqVyjpfdSV16YfaCh1zZMVc_woH4@mail.gmail.com>
Message-ID: <002701cbad2a$91a173a0$b4e45ae0$@brimosoft.nl>

Hello Pete,

I don't understand why you can't use the 'wp_list_pages' filter. 

Marcel 

>> -- I'd like to just inject pages into the wp_list_pages() results myself
from the plugin -- but I'm open to any clever solution.

Thanks

Pete Holiday
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From philip at frumph.net  Wed Jan  5 22:51:57 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Wed, 5 Jan 2011 14:51:57 -0800
Subject: [wp-hackers] Modifying wp_list_pages() from a plugin
In-Reply-To: <002701cbad2a$91a173a0$b4e45ae0$@brimosoft.nl>
References: <AANLkTimsAWjTQGEfSqVyjpfdSV16YfaCh1zZMVc_woH4@mail.gmail.com>
	<002701cbad2a$91a173a0$b4e45ae0$@brimosoft.nl>
Message-ID: <24770D61D5A84041905A544A06C4278C@frumph.net>

or, .. here's a thought, you can use the nav_menu and some widget_logic 
plugin with is_user_logged_in()

that way you can utilize the coolness of the appearance -> menus and still 
have the ability to only show it to users who are logged on

the "custom menu" widget basically with widget logic will do it for you. 
think there's a better plugin then widget_logic which is outdated, but same 
concept you can put conditionals in widgets.

then you can organize your custom menu for that area however you like with 
appearance -> menus at anytime you like




----- Original Message ----- 
From: "Lazyest Hacker" <lazyest at brimosoft.nl>
To: <wp-hackers at lists.automattic.com>
Sent: Wednesday, January 05, 2011 2:47 PM
Subject: Re: [wp-hackers] Modifying wp_list_pages() from a plugin


> Hello Pete,
>
> I don't understand why you can't use the 'wp_list_pages' filter.
>
> Marcel
>
>>> -- I'd like to just inject pages into the wp_list_pages() results myself
> from the plugin -- but I'm open to any clever solution.
>
> Thanks
>
> Pete Holiday
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From pete.holiday at gmail.com  Wed Jan  5 23:28:50 2011
From: pete.holiday at gmail.com (Pete Holiday)
Date: Wed, 5 Jan 2011 18:28:50 -0500
Subject: [wp-hackers] Modifying wp_list_pages() from a plugin
In-Reply-To: <002701cbad2a$91a173a0$b4e45ae0$@brimosoft.nl>
References: <AANLkTimsAWjTQGEfSqVyjpfdSV16YfaCh1zZMVc_woH4@mail.gmail.com>
	<002701cbad2a$91a173a0$b4e45ae0$@brimosoft.nl>
Message-ID: <AANLkTin+kgE00wvcLFcA8B3Zuz_3p-4Qpkh3=33y4j1y@mail.gmail.com>

The wp_list_pages filter is applied to the HTML after it's generated, which
would require me to a) query MySQL to see if the user has any private pages
to display, b) parse the HTML to determine the format, c) insert the
appropriate HTML in the right place. If that's the only solution, I suppose
that's better than nothing, but I'm not sure how reliably the HTML could
really be parsed into the values passed into the method.

Philip: that's a good work-around for the most common use-case, I think, but
I've had folks emailing me about all sorts of creative uses of wp_list_pages
(header nav bars, dropdown menus, bizarre ajaxy things, etc.) so I'd like to
avoid that route as the official solution.

If there's not an action or hook that does this, it appears that the best
option is creating a wrapper function that runs a MySQL query to determine
the exact list of pages to display and then passes those IDs to
wp_list_pages in the include field, and returns the result from
wp_list_pages. That'd require my users to modify their templates, so I was
hoping there was a new hook or action (or some clever php trick I was
missing).





On Wed, Jan 5, 2011 at 5:47 PM, Lazyest Hacker <lazyest at brimosoft.nl> wrote:

> Hello Pete,
>
> I don't understand why you can't use the 'wp_list_pages' filter.
>
> Marcel
>
> >> -- I'd like to just inject pages into the wp_list_pages() results myself
> from the plugin -- but I'm open to any clever solution.
>
> Thanks
>
> Pete Holiday
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From burobjorn at gmail.com  Thu Jan  6 11:26:11 2011
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Thu, 06 Jan 2011 12:26:11 +0100
Subject: [wp-hackers] Potential (security) issue with Twenty Ten?
Message-ID: <4D25A6D3.8060100@gmail.com>

Hi,

Not sure if this is the right place to discuss this, so please point me 
in the right direction if this should be discussed somewhere else...

I was looking at Twenty Ten and noticed this piece of code below the 
theme textdomain loading in the functions.php:

91 load_theme_textdomain( 'twentyten', TEMPLATEPATH . '/languages' );
92
93 $locale = get_locale();
94 $locale_file = TEMPLATEPATH . "/languages/$locale.php";
95 if ( is_readable( $locale_file ) )
96   require_once( $locale_file );

Source:
http://core.trac.wordpress.org/browser/trunk/wp-content/themes/twentyten/functions.php

I do not understand why after loading the theme's translations files 
another file ($locale.php) is included. Also the $locale, as far as I 
can see although I haven't dived into it, does not get escaped. Somehow 
this looks kinda funky.

Can somebody explain why this of code is included in Twenty Ten? And why 
this is used after already loading the translations using 
load_theme_textdomain() function.

grtz
BjornW














(http://core.trac.wordpress.org/browser/trunk/wp-content/themes/twentyten/functions.php#L93 






-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Werkdagen:
Van maandag t/m donderdag vanaf 10:00
Vrijdag is voor experimenteren en eigen projecten.

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

tel: +31 6 49 74 78 70
http://www.burobjorn.nl

From peter.westwood at ftwr.co.uk  Thu Jan  6 12:01:29 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu, 6 Jan 2011 12:01:29 +0000
Subject: [wp-hackers] Potential (security) issue with Twenty Ten?
In-Reply-To: <4D25A6D3.8060100@gmail.com>
References: <4D25A6D3.8060100@gmail.com>
Message-ID: <81937842-C9A0-4D4F-AAB6-37EE6D76DDB6@ftwr.co.uk>

Hi,

On 6 Jan 2011, at 11:26, Bjorn Wijers wrote:

> 
> Not sure if this is the right place to discuss this, so please point me in the right direction if this should be discussed somewhere else...
> 

If you think you have found a security issue then you should contact the security "team" as documented here:

http://codex.wordpress.org/Reporting_Bugs#Reporting_security_issues

> I was looking at Twenty Ten and noticed this piece of code below the theme textdomain loading in the functions.php:
> 
> 91 load_theme_textdomain( 'twentyten', TEMPLATEPATH . '/languages' );
> 92
> 93 $locale = get_locale();
> 94 $locale_file = TEMPLATEPATH . "/languages/$locale.php";
> 95 if ( is_readable( $locale_file ) )
> 96   require_once( $locale_file );
> 
> Source:
> http://core.trac.wordpress.org/browser/trunk/wp-content/themes/twentyten/functions.php
> 
> I do not understand why after loading the theme's translations files another file ($locale.php) is included. Also the $locale, as far as I can see although I haven't dived into it, does not get escaped. Somehow this looks kinda funky.
> 
> Can somebody explain why this of code is included in Twenty Ten? And why this is used after already loading the translations using load_theme_textdomain() function.
> 


This code is there to allow for translators to make some translations using PHP rather than just the mo file.

This is needed in some rare cases and something core supports as well in the same way
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From wordpress at zed1.com  Thu Jan  6 12:34:17 2011
From: wordpress at zed1.com (Mike Little)
Date: Thu, 6 Jan 2011 12:34:17 +0000
Subject: [wp-hackers] Potential (security) issue with Twenty Ten?
In-Reply-To: <81937842-C9A0-4D4F-AAB6-37EE6D76DDB6@ftwr.co.uk>
References: <4D25A6D3.8060100@gmail.com>
	<81937842-C9A0-4D4F-AAB6-37EE6D76DDB6@ftwr.co.uk>
Message-ID: <AANLkTin0wOAdifLpcuvT93kKP-sm+NDEyTcVOpMvouQq@mail.gmail.com>

On 6 January 2011 12:01, Peter Westwood <peter.westwood at ftwr.co.uk> wrote:

> Hi,
>
> On 6 Jan 2011, at 11:26, Bjorn Wijers wrote:
>
> > Not sure if this is the right place to discuss this, so please point me
> in the right direction if this should be discussed somewhere else...
> >
>
> If you think you have found a security issue then you should contact the
> security "team" as documented here:
>
> http://codex.wordpress.org/Reporting_Bugs#Reporting_security_issues
>
>
and never on a public mailing list!


>  > I was looking at Twenty Ten and noticed this piece of code below the
> theme textdomain loading in the functions.php:
> > ...
> > 93 $locale = get_locale();
> >
> > ... Also the $locale, as far as I can see although I haven't dived into
> it, does not get escaped. Somehow this looks kinda funky.
> >
>

$locale does not come from the outside world; only from setting in
wp-config.php or a plugin or theme that can filter the value. Therefore it
does not need escaping.
A simple check of the get_locale() function would have verified that.


Mike
-- 
Mike Little
http://zed1.com/

From steve at sltaylor.co.uk  Thu Jan  6 12:47:43 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Thu, 6 Jan 2011 12:47:43 +0000
Subject: [wp-hackers] custom post types at lower nav levels
Message-ID: <AANLkTinZ1KNjSBsRuC+X+-GRhLhEYHaxuhOX-etqYpj_@mail.gmail.com>

Hi,

Is it possible to "position" custom post type permalinks lower than
the 2nd directory level?

For example, I have a "film" custom post type. The standard thing
would be to set the slug via register_post_type to something like
"films" for permalinks like this:

/films/film-title/

However, a site I'm working on has the films listing page here:

/media-resources/films/

So we want permalinks like this:

/media-resources/films/film-title/

I've tried "media-resources/films" as the slug value in the
register_post_type rewrite arg, but the URL (which is generated fine
by post_permalink) returns a 404.

thanks,

Steve

From travis at travisnorthcutt.com  Thu Jan  6 13:50:26 2011
From: travis at travisnorthcutt.com (Travis Northcutt)
Date: Thu, 6 Jan 2011 07:50:26 -0600
Subject: [wp-hackers] custom post types at lower nav levels
In-Reply-To: <AANLkTinZ1KNjSBsRuC+X+-GRhLhEYHaxuhOX-etqYpj_@mail.gmail.com>
References: <AANLkTinZ1KNjSBsRuC+X+-GRhLhEYHaxuhOX-etqYpj_@mail.gmail.com>
Message-ID: <AANLkTikpvSBSLwkZQX1w-qxw3qt+yPdjv+CPaZuuJj+s@mail.gmail.com>

On Thu, Jan 6, 2011 at 6:47 AM, Steve Taylor <steve at sltaylor.co.uk> wrote:

> Hi,
>
> Is it possible to "position" custom post type permalinks lower than
> the 2nd directory level?
>
> For example, I have a "film" custom post type. The standard thing
> would be to set the slug via register_post_type to something like
> "films" for permalinks like this:
>
> /films/film-title/
>
> However, a site I'm working on has the films listing page here:
>
> /media-resources/films/
>
> So we want permalinks like this:
>
> /media-resources/films/film-title/
>
> I've tried "media-resources/films" as the slug value in the
> register_post_type rewrite arg, but the URL (which is generated fine
> by post_permalink) returns a 404.
>
> thanks,
>
> Steve
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

Steve,

I'd suggest taking a look at John P. Bloch's Custom Post
Permalinks<http://www.johnpbloch.com/plugins/custom-post-permalinks/>plugin.
It may provide what you're looking for.


--
Travis Northcutt

From philip at frumph.net  Thu Jan  6 18:17:16 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Thu, 6 Jan 2011 10:17:16 -0800
Subject: [wp-hackers] post format types
Message-ID: <829D4E1576AB4410B3633DE863145025@frumph.net>

I just found and read the codex on Post_Formats

http://codex.wordpress.org/Post_Formats

The issue i'm having is that it's saying that *those* post format types are the only ones that are available to be used.

I was under the impression that we could create our own post format types that have the post look that we want to have, not limited to these options. 

Is this true?


From curtis at curtismchale.ca  Thu Jan  6 18:19:47 2011
From: curtis at curtismchale.ca (Curtis McHale)
Date: Thu, 6 Jan 2011 13:19:47 -0500
Subject: [wp-hackers] post format types
In-Reply-To: <829D4E1576AB4410B3633DE863145025@frumph.net>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>
Message-ID: <221864FFEB404D0DB2D1B66193E60F27@curtismchale.ca>

 To my understanding it is possible to add new formats but WordPress Core doesn't want us to. Post Formats are intended to increase data portability and having many developers add their own formats would work against this.


-- 
Curtis McHale
SFNdesign
604.751.3482
http://curtismchale.ca
http://twitter.com/curtismchale



From travis at travisnorthcutt.com  Thu Jan  6 18:21:06 2011
From: travis at travisnorthcutt.com (Travis Northcutt)
Date: Thu, 6 Jan 2011 12:21:06 -0600
Subject: [wp-hackers] post format types
In-Reply-To: <829D4E1576AB4410B3633DE863145025@frumph.net>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>
Message-ID: <AANLkTi=BdtLWn0f-OuhxhKXZTJ2p_z6+YXuP0gLz5vm=@mail.gmail.com>

On Thu, Jan 6, 2011 at 12:17 PM, Philip M. Hofer (Frumph) <philip at frumph.net
> wrote:

> I just found and read the codex on Post_Formats
>
> http://codex.wordpress.org/Post_Formats
>
> The issue i'm having is that it's saying that *those* post format types are
> the only ones that are available to be used.
>
> I was under the impression that we could create our own post format types
> that have the post look that we want to have, not limited to these options.
>
> Is this true?
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

There's been a *lot* of discussion on this topic. I believe the conclusion
was that, at least for now, only those provided are available. You're of
course able to create your own taxonomy for doing this another way.
--
Travis Northcutt

From otto at ottodestruct.com  Thu Jan  6 18:29:15 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 6 Jan 2011 12:29:15 -0600
Subject: [wp-hackers] post format types
In-Reply-To: <829D4E1576AB4410B3633DE863145025@frumph.net>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>
Message-ID: <AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>

No, you can not create custom Post Formats. Giving theme the ability
to make their own post formats would defeat the whole purpose of post
formats.

If you want to make your own post formats, then:
a) Roll your own taxonomy to do it (like mytheme-formats), and
b) Don't support the normal post formats (thus not giving two format
choices to your users).

That way, you can have your own meta box for users to choose from your
theme's post formats and there's no confusion. You get full
customizability.

Of course, if you do this, then people using your theme won't have
post formats that are compatible with every other theme. But then that
would be the case with any implementation of a "custom post format" as
well, since other themes wouldn't necessarily support your post
formats there either. The roll-your-own-taxo method is a lot clearer
about it though.

Note that any theme could have rolled their own post-formats with a
custom taxonomy at any time prior to core post-format support. None
did. Why? Because without a standard set to choose from, nobody would
have been compatible with anybody else. Compatibility amongst themes
is the reason for post-formats, and the reason you don't want to have
custom ones.

-Otto



On Thu, Jan 6, 2011 at 12:17 PM, Philip M. Hofer (Frumph)
<philip at frumph.net> wrote:
> I just found and read the codex on Post_Formats
>
> http://codex.wordpress.org/Post_Formats
>
> The issue i'm having is that it's saying that *those* post format types are the only ones that are available to be used.
>
> I was under the impression that we could create our own post format types that have the post look that we want to have, not limited to these options.
>
> Is this true?
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From philip at frumph.net  Thu Jan  6 18:45:48 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Thu, 6 Jan 2011 10:45:48 -0800
Subject: [wp-hackers] post format types
In-Reply-To: <AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>
	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>
Message-ID: <2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>

> No, you can not create custom Post Formats. Giving theme the ability
> to make their own post formats would defeat the whole purpose of post
> formats.

I disagree, if the fallback of post_format_exists brought it to standard or 
empty on non-designed themes with it.  The first thought I had when I heard 
about this was "cool, I can have each author have their own "post look"" 
that they can set.  I'm just a theme designer that has to work within the 
'confines' of code.  This implementation is very confining.  Not that i'm 
saying it's bad, it's not bad it's just not implemented in a way that I 
thought it would be.


----- Original Message ----- 
From: "Otto" <otto at ottodestruct.com>
To: <wp-hackers at lists.automattic.com>
Sent: Thursday, January 06, 2011 10:29 AM
Subject: Re: [wp-hackers] post format types


> No, you can not create custom Post Formats. Giving theme the ability
> to make their own post formats would defeat the whole purpose of post
> formats.
>
> If you want to make your own post formats, then:
> a) Roll your own taxonomy to do it (like mytheme-formats), and
> b) Don't support the normal post formats (thus not giving two format
> choices to your users).
>
> That way, you can have your own meta box for users to choose from your
> theme's post formats and there's no confusion. You get full
> customizability.
>
> Of course, if you do this, then people using your theme won't have
> post formats that are compatible with every other theme. But then that
> would be the case with any implementation of a "custom post format" as
> well, since other themes wouldn't necessarily support your post
> formats there either. The roll-your-own-taxo method is a lot clearer
> about it though.
>
> Note that any theme could have rolled their own post-formats with a
> custom taxonomy at any time prior to core post-format support. None
> did. Why? Because without a standard set to choose from, nobody would
> have been compatible with anybody else. Compatibility amongst themes
> is the reason for post-formats, and the reason you don't want to have
> custom ones.
>
> -Otto
>
>
>
> On Thu, Jan 6, 2011 at 12:17 PM, Philip M. Hofer (Frumph)
> <philip at frumph.net> wrote:
>> I just found and read the codex on Post_Formats
>>
>> http://codex.wordpress.org/Post_Formats
>>
>> The issue i'm having is that it's saying that *those* post format types 
>> are the only ones that are available to be used.
>>
>> I was under the impression that we could create our own post format types 
>> that have the post look that we want to have, not limited to these 
>> options.
>>
>> Is this true?
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From dougal at gunters.org  Thu Jan  6 19:37:06 2011
From: dougal at gunters.org (Dougal Campbell)
Date: Thu, 06 Jan 2011 14:37:06 -0500
Subject: [wp-hackers] post format types
In-Reply-To: <2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>
	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
Message-ID: <4D2619E2.4030006@gunters.org>

On Jan 6 2011 1:45 PM, Philip M. Hofer (Frumph) wrote:
>> No, you can not create custom Post Formats. Giving theme the ability
>> to make their own post formats would defeat the whole purpose of post
>> formats.
>
> I disagree, if the fallback of post_format_exists brought it to 
> standard or empty on non-designed themes with it.  The first thought I 
> had when I heard about this was "cool, I can have each author have 
> their own "post look"" that they can set.  I'm just a theme designer 
> that has to work within the 'confines' of code.  This implementation 
> is very confining.  Not that i'm saying it's bad, it's not bad it's 
> just not implemented in a way that I thought it would be.

As stated earlier (and discussed in-depth a while back), the limitation 
is a *feature* designed to encourage compatible implementation between 
themes. This also ensures that blog clients like Windows Live Writer, 
MarsEdit, the WordPress for iPhone/iPad app, et al, will be able to 
access them consistently.

If you want custom per-author post looks, WordPress still gives you the 
tools to do that. For example, you can have different per-author CSS 
rules, or in your templates, you can use get_template_part() to pull in 
a different chunk of HTML for different authors. Heck, you could store 
templates in the database and make them editable in the back-end if you 
have the time to spend on it. The post formats implementation is pretty 
simple, really -- just a custom taxonomy and a few supporting functions, 
so as mentioned before, it wouldn't be hard to roll your own.

The post formats feature gives you 9 additional formats to choose from 
(in addition to the default no-status posts). If you just don't like the 
set of 'aside', 'chat', 'status', 'quote', etc. you could probably give 
the appearance of renaming them in the editor by hooking into the 
translations?


-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From wp-hackers at thecodecave.com  Thu Jan  6 19:56:05 2011
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Thu, 06 Jan 2011 14:56:05 -0500
Subject: [wp-hackers] post format types
In-Reply-To: <2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>
	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
Message-ID: <4D261E55.20006@thecodecave.com>

On 1/6/2011 1:45 PM, Philip M. Hofer (Frumph) wrote:
>> No, you can not create custom Post Formats. Giving theme the ability
>> to make their own post formats would defeat the whole purpose of post
>> formats.
>
> I disagree, if the fallback of post_format_exists brought it to 
> standard or empty on non-designed themes with it.  The first thought I 
> had when I heard about this was "cool, I can have each author have 
> their own "post look"" that they can set.  I'm just a theme designer 
> that has to work within the 'confines' of code.  This implementation 
> is very confining.  Not that i'm saying it's bad, it's not bad it's 
> just not implemented in a way that I thought it would be.
>
I'm with Frumph on this one...

You've got an incorrect assumption here:
>> Note that any theme could have rolled their own post-formats with a
>> custom taxonomy at any time prior to core post-format support. None
>> did. Why? Because without a standard set to choose from, nobody would
>> have been compatible with anybody else. Compatibility amongst themes
>> is the reason for post-formats, and the reason you don't want to have
>> custom ones. 
You are thinking of this only from the perspective of general use themes.

You've no way of knowing how many themes use this behavior, because the 
power of this feature is often used by the client who hires a consultant 
to create custom functionality specific to their sites.  "Custom Post 
Formats" have been hacked into sites for years - at least on sites I've 
helped created.  One of the ways I've implemented this for clients is by 
requiring them to choose from the "Custom Field" dropdown.  As long a 
desired postmetadata exists, the theme will reveal/hide different areas 
or change the general formatting of the post upon display.  That screams 
"Custom Post Format" to me and avoids the "what is a custom field?" and 
"What do I put in the value box?" questions.

The clients that pay me to develop a theme from scratch or to convert an 
existing site don't care that their theme isn't going to work with a 
competitor's site. Nor do they care that 2010 will remove that 
behavior.  They have unique functionality that expresses their 
creativity and their own business vision.  Custom post formats just seem 
to make sense.

Brian.


From otto at ottodestruct.com  Thu Jan  6 20:01:24 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 6 Jan 2011 14:01:24 -0600
Subject: [wp-hackers] post format types
In-Reply-To: <2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>
	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>
	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
Message-ID: <AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>

On Thu, Jan 6, 2011 at 12:45 PM, Philip M. Hofer (Frumph)
<philip at frumph.net> wrote:
> I disagree, if the fallback of post_format_exists brought it to standard or
> empty on non-designed themes with it. ?The first thought I had when I heard
> about this was "cool, I can have each author have their own "post look""
> that they can set.

You already had that. The get_the_author_meta( 'login' ) function will
get the author's login name just fine, and you can use that in much
the same way as you use get_post_format(), to change things based on
author.

Heck, you can even make a minor change to the post_class to make it styleable:

function post_class_author($classes) {
$author = get_the_author_meta( 'login' );
$classes[] = "author-$author";
return $classes;
}
add_filter('post_class','post_class_author');

Voila. Now you get an "author-foo" or similar in the post_class()
output, and you can style posts from individual authors by simply
using .author-foo in the stylesheet. If you want to go further and add
a customizable stylesheet box for each author in the profile page, I
can show you how to do that too.

-Otto

From philip at frumph.net  Thu Jan  6 20:06:03 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Thu, 6 Jan 2011 12:06:03 -0800
Subject: [wp-hackers] post format types
In-Reply-To: <AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>
References: <829D4E1576AB4410B3633DE863145025@frumph.net><AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com><2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
	<AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>
Message-ID: <ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>

Sorry charlie, you're writing CSS based changes, not HTML based changes with 
different post format look of the post.

What you already wrote is already written 100x over.



----- Original Message ----- 
From: "Otto" <otto at ottodestruct.com>
To: <wp-hackers at lists.automattic.com>
Sent: Thursday, January 06, 2011 12:01 PM
Subject: Re: [wp-hackers] post format types


On Thu, Jan 6, 2011 at 12:45 PM, Philip M. Hofer (Frumph)
<philip at frumph.net> wrote:
> I disagree, if the fallback of post_format_exists brought it to standard 
> or
> empty on non-designed themes with it. The first thought I had when I heard
> about this was "cool, I can have each author have their own "post look""
> that they can set.

You already had that. The get_the_author_meta( 'login' ) function will
get the author's login name just fine, and you can use that in much
the same way as you use get_post_format(), to change things based on
author.

Heck, you can even make a minor change to the post_class to make it 
styleable:

function post_class_author($classes) {
$author = get_the_author_meta( 'login' );
$classes[] = "author-$author";
return $classes;
}
add_filter('post_class','post_class_author');

Voila. Now you get an "author-foo" or similar in the post_class()
output, and you can style posts from individual authors by simply
using .author-foo in the stylesheet. If you want to go further and add
a customizable stylesheet box for each author in the profile page, I
can show you how to do that too.

-Otto
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From otto at ottodestruct.com  Thu Jan  6 20:06:07 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 6 Jan 2011 14:06:07 -0600
Subject: [wp-hackers] post format types
In-Reply-To: <4D261E55.20006@thecodecave.com>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>
	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>
	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
	<4D261E55.20006@thecodecave.com>
Message-ID: <AANLkTinK-868d6PCayGDOiBE4JsqRby_EB+5jH=W-4pr@mail.gmail.com>

On Thu, Jan 6, 2011 at 1:56 PM, Brian Layman <wp-hackers at thecodecave.com> wrote:
> You've got an incorrect assumption here:
>
> You are thinking of this only from the perspective of general use themes.

General use themes is the only place it matters. A custom theme
designed for a custom site and a custom client can just use a custom
taxonomy quite easily.

You talk about "hacking it into sites", but using a custom taxonomy is
not a "hack" as I see it. Nor is creating a custom meta box to put on
the edit posts page. These are features that are and have been
available to developers for a long time.

Postmeta (aka Custom Fields) is another way to do it, although I think
a custom meta box with a radio selector in it is a better UI. The
Custom Fields UI is a catch-all for custom postmeta, but there's
nothing preventing a developer from just doing an add_meta_box and
adding whatever better UI they prefer.

> The clients that pay me to develop a theme from scratch or to convert an
> existing site don't care that their theme isn't going to work with a
> competitor's site. Nor do they care that 2010 will remove that behavior.
> ?They have unique functionality that expresses their creativity and their
> own business vision. ?Custom post formats just seem to make sense.

No, Custom Post Formats *don't* make sense on custom sites at all.
That's not what they do. That's not what they're for. That's not how
they work. A custom site design is *custom*. You don't need
interoperability, and interoperability is the only reason for putting
Post Formats into the core at all.

-Otto

From otto at ottodestruct.com  Thu Jan  6 20:07:54 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 6 Jan 2011 14:07:54 -0600
Subject: [wp-hackers] post format types
In-Reply-To: <ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>
	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>
	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
	<AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>
	<ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>
Message-ID: <AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>

On Thu, Jan 6, 2011 at 2:06 PM, Philip M. Hofer (Frumph)
<philip at frumph.net> wrote:
> Sorry charlie, you're writing CSS based changes, not HTML based changes with
> different post format look of the post.
>
> What you already wrote is already written 100x over.

No, I just wrote about both CSS and HTML based changes.

if (get_the_author_meta( 'login' ) = "otto") {
... html changes here
}

You don't need a custom post format to change things based around the
author. I don't understand the confusion here.

-Otto

From otto at ottodestruct.com  Thu Jan  6 20:12:06 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 6 Jan 2011 14:12:06 -0600
Subject: [wp-hackers] post format types
In-Reply-To: <AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>
	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>
	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
	<AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>
	<ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>
	<AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>
Message-ID: <AANLkTinRgT_x=kZkKQj0x7--BRvw-SzFDvaLGwFMwNgh@mail.gmail.com>

On Thu, Jan 6, 2011 at 2:07 PM, Otto <otto at ottodestruct.com> wrote:
> On Thu, Jan 6, 2011 at 2:06 PM, Philip M. Hofer (Frumph)
> <philip at frumph.net> wrote:
>> Sorry charlie, you're writing CSS based changes, not HTML based changes with
>> different post format look of the post.
>>
>> What you already wrote is already written 100x over.
>
> No, I just wrote about both CSS and HTML based changes.
>
> if (get_the_author_meta( 'login' ) = "otto") {
> ... html changes here
> }
>
> You don't need a custom post format to change things based around the
> author. I don't understand the confusion here.

Or if you want to be really clever about it:

get_template_part( 'piecename', get_the_author_meta( 'login' ) );

Then just create a "piecename.php" in the theme, to use as a default
fallback, and create individual piecename-author.php files for each
author's custom piece of that part of the template.

-Otto

From philip at frumph.net  Thu Jan  6 20:13:53 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Thu, 6 Jan 2011 12:13:53 -0800
Subject: [wp-hackers] post format types
In-Reply-To: <AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>
References: <829D4E1576AB4410B3633DE863145025@frumph.net><AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com><2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net><AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com><ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>
	<AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>
Message-ID: <AF9916218C7640B09BCC0271BE606A42@frumph.net>

Author is just a reference of a type, there should be registerable post 
format types and functional abilities to make it easy for designer to create 
functionality for their theme.  Whether it's author, comic, education, 
random thought, the ability to change the post format of the look of the 
post should be up to the disgression of the theme designer themself, not 
confined to a specific set.

If the post format doesn't exist in other themes, it uses a fallback to the 
standard, not a big deal.   The general interpretation of this methodology 
is akin to using attachment.php which I get, but it's practically useless in 
creating themes that could use its functionality for anything specific.   So 
instead of people using this "feature" we have to write our own code 
anyways.   That makes this code near pointless beyond its defined 
parameters.  Which again, i'm not saying is bad, its just confined to it's 
specific implementation and nothing else.



----- Original Message ----- 
From: "Otto" <otto at ottodestruct.com>
To: <wp-hackers at lists.automattic.com>
Sent: Thursday, January 06, 2011 12:07 PM
Subject: Re: [wp-hackers] post format types


> On Thu, Jan 6, 2011 at 2:06 PM, Philip M. Hofer (Frumph)
> <philip at frumph.net> wrote:
>> Sorry charlie, you're writing CSS based changes, not HTML based changes 
>> with
>> different post format look of the post.
>>
>> What you already wrote is already written 100x over.
>
> No, I just wrote about both CSS and HTML based changes.
>
> if (get_the_author_meta( 'login' ) = "otto") {
> ... html changes here
> }
>
> You don't need a custom post format to change things based around the
> author. I don't understand the confusion here.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From otto at ottodestruct.com  Thu Jan  6 20:20:38 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 6 Jan 2011 14:20:38 -0600
Subject: [wp-hackers] post format types
In-Reply-To: <AF9916218C7640B09BCC0271BE606A42@frumph.net>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>
	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>
	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
	<AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>
	<ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>
	<AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>
	<AF9916218C7640B09BCC0271BE606A42@frumph.net>
Message-ID: <AANLkTi=1Ffv4Nwqb+wKrJ_h-Q+RhZs1=OP-+r+w=fngB@mail.gmail.com>

On Thu, Jan 6, 2011 at 2:13 PM, Philip M. Hofer (Frumph)
<philip at frumph.net> wrote:
> Author is just a reference of a type, there should be registerable post
> format types and functional abilities to make it easy for designer to create
> functionality for their theme. ?Whether it's author, comic, education,
> random thought, the ability to change the post format of the look of the
> post should be up to the disgression of the theme designer themself, not
> confined to a specific set.

If you don't confine it to a specific set, then it's useless. One
theme designer uses "random-thought", another uses "thoughts", another
uses "thought"... So when the user switches themes, all their old
assigned formats go out the window.

If you want to define your own set of things, then you should define a
custom taxonomy with your things in it and use those instead of
mucking up the tables for everybody else.

> If the post format doesn't exist in other themes, it uses a fallback to the
> standard, not a big deal.

Not a big deal for you, but a big deal for the user switching themes
and wondering why all their post formats don't work anymore, because
some theme designer defined a whole bunch of useless custom formats.

At least with a custom taxonomy and a custom meta box, there is
branding ensuring that the user *knows* that these formats he's using
are custom to the theme and won't work in other themes.

> So
> instead of people using this "feature" we have to write our own code
> anyways. ? That makes this code near pointless beyond its defined
> parameters. ?Which again, i'm not saying is bad, its just confined to it's
> specific implementation and nothing else.

The confining of it to the specific implementation is a good thing.
That's the beneficial part, from a user's perspective.

As a user, if I make an "aside" post, then I know that the "aside"
will still work if I change to another theme that supports asides.
Because the naming doesn't change. Because the format is in a fixed
list. Because theme authors creating themes will want their users to
be happy.

Theme authors don't need to be creating custom stuff in order to
lock-in their users. Or if they do, then they don't need to be
supported in doing this unethical sort of lock-in behavior by the
WordPress core code.

-Otto

From philip at frumph.net  Thu Jan  6 20:32:35 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Thu, 6 Jan 2011 12:32:35 -0800
Subject: [wp-hackers] post format types
In-Reply-To: <AANLkTi=1Ffv4Nwqb+wKrJ_h-Q+RhZs1=OP-+r+w=fngB@mail.gmail.com>
References: <829D4E1576AB4410B3633DE863145025@frumph.net><AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com><2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net><AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com><ADCBC6FC106A412EA02789A407E1ADE8@frumph.net><AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com><AF9916218C7640B09BCC0271BE606A42@frumph.net>
	<AANLkTi=1Ffv4Nwqb+wKrJ_h-Q+RhZs1=OP-+r+w=fngB@mail.gmail.com>
Message-ID: <618F0A45CAD544BC9B42F8FC6C3DBE78@frumph.net>

Just a question, this code isn't parsed unless add_theme_support is 
initiated right? because this bit of code is practically useless to me in 
it's current designed limitations I wouldn't want to have the overhead.



----- Original Message ----- 
From: "Otto" <otto at ottodestruct.com>
To: <wp-hackers at lists.automattic.com>
Sent: Thursday, January 06, 2011 12:20 PM
Subject: Re: [wp-hackers] post format types


On Thu, Jan 6, 2011 at 2:13 PM, Philip M. Hofer (Frumph)
<philip at frumph.net> wrote:
> Author is just a reference of a type, there should be registerable post
> format types and functional abilities to make it easy for designer to 
> create
> functionality for their theme. Whether it's author, comic, education,
> random thought, the ability to change the post format of the look of the
> post should be up to the disgression of the theme designer themself, not
> confined to a specific set.

If you don't confine it to a specific set, then it's useless. One
theme designer uses "random-thought", another uses "thoughts", another
uses "thought"... So when the user switches themes, all their old
assigned formats go out the window.

If you want to define your own set of things, then you should define a
custom taxonomy with your things in it and use those instead of
mucking up the tables for everybody else.

> If the post format doesn't exist in other themes, it uses a fallback to 
> the
> standard, not a big deal.

Not a big deal for you, but a big deal for the user switching themes
and wondering why all their post formats don't work anymore, because
some theme designer defined a whole bunch of useless custom formats.

At least with a custom taxonomy and a custom meta box, there is
branding ensuring that the user *knows* that these formats he's using
are custom to the theme and won't work in other themes.

> So
> instead of people using this "feature" we have to write our own code
> anyways. That makes this code near pointless beyond its defined
> parameters. Which again, i'm not saying is bad, its just confined to it's
> specific implementation and nothing else.

The confining of it to the specific implementation is a good thing.
That's the beneficial part, from a user's perspective.

As a user, if I make an "aside" post, then I know that the "aside"
will still work if I change to another theme that supports asides.
Because the naming doesn't change. Because the format is in a fixed
list. Because theme authors creating themes will want their users to
be happy.

Theme authors don't need to be creating custom stuff in order to
lock-in their users. Or if they do, then they don't need to be
supported in doing this unethical sort of lock-in behavior by the
WordPress core code.

-Otto
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From wp-hackers at thecodecave.com  Thu Jan  6 20:32:09 2011
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Thu, 06 Jan 2011 15:32:09 -0500
Subject: [wp-hackers] post format types
In-Reply-To: <AF9916218C7640B09BCC0271BE606A42@frumph.net>
References: <829D4E1576AB4410B3633DE863145025@frumph.net><AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com><2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net><AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com><ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>	<AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>
	<AF9916218C7640B09BCC0271BE606A42@frumph.net>
Message-ID: <4D2626C9.3040403@thecodecave.com>

And we do know we already have lots of ways to implement these 
features.  It's just that now we are going to have to train people by 
saying something like: "When you want the post to look like a status 
update, choose "aside" under "Post Format". If you want it to look like 
a conversation,  choose the "chat" post format instead. If you want it 
to look like a birthday announcement, totally ignore that box and do 
something completely different because this feature is interoperable".

My concern only applies if the code has been written so that core 
changes are required to add and remove from that list. If it is 
pluggable/filterable/actionable or whatever, great! Let the official 
stance of THIS IS THE LIST - be the final word.  As long as it's easy to 
break that rule and we don't have to cross train people, I'm quite 
content. ;)

-- 
Brian Layman
http://eHermitsInc.com
Managed WordPress Hosting


From otto at ottodestruct.com  Thu Jan  6 20:38:04 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 6 Jan 2011 14:38:04 -0600
Subject: [wp-hackers] post format types
In-Reply-To: <4D2626C9.3040403@thecodecave.com>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>
	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>
	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
	<AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>
	<ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>
	<AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>
	<AF9916218C7640B09BCC0271BE606A42@frumph.net>
	<4D2626C9.3040403@thecodecave.com>
Message-ID: <AANLkTiksPMrsoHDCvw0UMkLPNsKw5bQZVJ7n7m+idpDB@mail.gmail.com>

On Thu, Jan 6, 2011 at 2:32 PM, Brian Layman <wp-hackers at thecodecave.com> wrote:
> And we do know we already have lots of ways to implement these features.
> ?It's just that now we are going to have to train people by saying something
> like: "When you want the post to look like a status update, choose "aside"
> under "Post Format". If you want it to look like a conversation, ?choose the
> "chat" post format instead. If you want it to look like a birthday
> announcement, totally ignore that box and do something completely different
> because this feature is interoperable".

If you are creating a theme to have specific support for birthday
announcement styled posts, and you want it to be in the same list as
the other "post formats", then you should take another approach
completely. Instead of supporting Core Post Formats at all, you should
create your own entire set of formats that is specific to your theme.

You don't have to both support Post Formats and support your Custom
Post Formats. Nobody said that your own taxonomy of formats can't also
have "aside" in it too.

Do the default set, or do a custom set, but don't do both. That way
lies user confusion.


> My concern only applies if the code has been written so that core changes
> are required to add and remove from that list. If it is
> pluggable/filterable/actionable or whatever, great! Let the official stance
> of THIS IS THE LIST - be the final word. ?As long as it's easy to break that
> rule and we don't have to cross train people, I'm quite content. ;)

No, the list is not alterable. Nor pluggable, filterable, or
actionable. The list is the list.

If you want to go outside the list, then go outside it completely. You
cannot add to the list of post formats.

-Otto

From wp-hackers at thecodecave.com  Thu Jan  6 21:09:44 2011
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Thu, 06 Jan 2011 16:09:44 -0500
Subject: [wp-hackers] post format types
In-Reply-To: <AANLkTiksPMrsoHDCvw0UMkLPNsKw5bQZVJ7n7m+idpDB@mail.gmail.com>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>	<AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>	<ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>	<AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>	<AF9916218C7640B09BCC0271BE606A42@frumph.net>	<4D2626C9.3040403@thecodecave.com>
	<AANLkTiksPMrsoHDCvw0UMkLPNsKw5bQZVJ7n7m+idpDB@mail.gmail.com>
Message-ID: <4D262F98.4040301@thecodecave.com>

On 1/6/2011 3:38 PM, Otto wrote:
> No, the list is not alterable. Nor pluggable, filterable, or
> actionable. The list is the list.
>
> If you want to go outside the list, then go outside it completely. You
> cannot add to the list of post formats.
>
> -Otto

OK I can live without those boundaries, and since that's the feature in 
a nutshell for this release, let's modify the codex to make that clear.

Whereas it currently reads:
"Post Format is a theme feature introduced with Version 3.1. Formats are 
meta information that can be used by themes to customize presentation of 
a post. The basic idea is to provide a specific method for specifying 
the display "format" of a post. This replaces the need to use categories 
to accomplish the same thing, and even more importantly, is portable 
between themes that support those formats!"

Would this be clearer:
"Post Formats is a theme feature introduced with Version 3.1. A Post 
Format is a piece of meta information that can be used by a theme to 
customize its presentation of a post. The Post Formats feature provides 
a standardized list of formats that are available to all themes that 
support the feature.  Themes are not required to support every format on 
the list.  New formats cannot be introduced.  The standardization of 
this list provides both compatibility between numerous themes and the 
ability for external blogging tool access to this feature in a 
consistent fashion."

Does that accurately cover it?

-- 
Brian Layman
http://eHermitsInc.com
Managed WordPress Hosting


From wp-hackers at thecodecave.com  Thu Jan  6 21:18:50 2011
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Thu, 06 Jan 2011 16:18:50 -0500
Subject: [wp-hackers] post format types
In-Reply-To: <4D262F98.4040301@thecodecave.com>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>	<AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>	<ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>	<AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>	<AF9916218C7640B09BCC0271BE606A42@frumph.net>	<4D2626C9.3040403@thecodecave.com>	<AANLkTiksPMrsoHDCvw0UMkLPNsKw5bQZVJ7n7m+idpDB@mail.gmail.com>
	<4D262F98.4040301@thecodecave.com>
Message-ID: <4D2631BA.8060609@thecodecave.com>

On 1/6/2011 4:09 PM, Brian Layman wrote:
> On 1/6/2011 3:38 PM, Otto wrote:
>> No, the list is not alterable. Nor pluggable, filterable, or
>> actionable. The list is the list.
>>
>> If you want to go outside the list, then go outside it completely. You
>> cannot add to the list of post formats.
>>
>> -Otto
>
> OK I can live without those boundaries, and since that's the feature 
> in a nutshell for this release, let's modify the codex to make that 
> clear.
>
> Whereas it currently reads:
> "Post Format is a theme feature introduced with Version 3.1. Formats 
> are meta information that can be used by themes to customize 
> presentation of a post. The basic idea is to provide a specific method 
> for specifying the display "format" of a post. This replaces the need 
> to use categories to accomplish the same thing, and even more 
> importantly, is portable between themes that support those formats!"
>
> Would this be clearer:
> "Post Formats is a theme feature introduced with Version 3.1. A Post 
> Format is a piece of meta information that can be used by a theme to 
> customize its presentation of a post. The Post Formats feature 
> provides a standardized list of formats that are available to all 
> themes that support the feature.  Themes are not required to support 
> every format on the list.  New formats cannot be introduced.  The 
> standardization of this list provides both compatibility between 
> numerous themes and the ability for external blogging tool access to 
> this feature in a consistent fashion."
>
> Does that accurately cover it?
>
s/the ability for external blogging tool access to this feature/a way 
for external blogging tools to access this feature/

In case it isn't clear, the changing of the "Post Format" to "Post 
Formats" is because the page title is "Post Formats" .

-- 
Brian Layman
http://eHermitsInc.com
Managed WordPress Hosting


From otto at ottodestruct.com  Thu Jan  6 21:46:34 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 6 Jan 2011 15:46:34 -0600
Subject: [wp-hackers] post format types
In-Reply-To: <4D262F98.4040301@thecodecave.com>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>
	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>
	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
	<AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>
	<ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>
	<AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>
	<AF9916218C7640B09BCC0271BE606A42@frumph.net>
	<4D2626C9.3040403@thecodecave.com>
	<AANLkTiksPMrsoHDCvw0UMkLPNsKw5bQZVJ7n7m+idpDB@mail.gmail.com>
	<4D262F98.4040301@thecodecave.com>
Message-ID: <AANLkTi=Df4JGoszpz8sAXpX1MnVkzPB1P7sBx17wF8c_@mail.gmail.com>

On Thu, Jan 6, 2011 at 3:09 PM, Brian Layman <wp-hackers at thecodecave.com> wrote:
> ...
> ?Themes are not required to support every format on the list. ?New formats
> cannot be introduced. ?The standardization of this list provides both
> compatibility between numerous themes and the ability for external blogging
> tool access to this feature in a consistent fashion."
>
> Does that accurately cover it?

Not really, because new formats can be introduced, by changing the
core. If you can talk enough people into it being a good idea, then
maybe new formats will be in 3.2.

All a "format" really is is a string. If there's enough need for a
standardized format (by which I mean something a lot of themes will
probably use) then there's no reason it can't be added eventually. For
example, I was thinking "event" would be a pretty good one to have in
core.

Custom Formats can't be introduced by themes acting alone, because
that leads to a form of lock-in and removes the utility and usefulness
of post formats (which is entirely in their interoperability).
Ideally, I'd prefer themes to support post formats instead of doing it
themselves, and if enough of them want a new format, there's no reason
it can't be added later down the line.

-Otto

From wp-hackers at thecodecave.com  Thu Jan  6 21:53:08 2011
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Thu, 06 Jan 2011 16:53:08 -0500
Subject: [wp-hackers] post format types
In-Reply-To: <AANLkTi=Df4JGoszpz8sAXpX1MnVkzPB1P7sBx17wF8c_@mail.gmail.com>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>	<AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>	<ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>	<AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>	<AF9916218C7640B09BCC0271BE606A42@frumph.net>	<4D2626C9.3040403@thecodecave.com>	<AANLkTiksPMrsoHDCvw0UMkLPNsKw5bQZVJ7n7m+idpDB@mail.gmail.com>	<4D262F98.4040301@thecodecave.com>
	<AANLkTi=Df4JGoszpz8sAXpX1MnVkzPB1P7sBx17wF8c_@mail.gmail.com>
Message-ID: <4D2639C4.2020500@thecodecave.com>

On 1/6/2011 4:46 PM, Otto wrote:
> On Thu, Jan 6, 2011 at 3:09 PM, Brian Layman<wp-hackers at thecodecave.com>  wrote:
>> ...
>>   Themes are not required to support every format on the list.  New formats
>> cannot be introduced.  The standardization of this list provides both
>> compatibility between numerous themes and a way for external blogging
>> tools to access this feature in a consistent fashion."
>>
>> Does that accurately cover it?
> Not really, because new formats can be introduced, by changing the
> core. If you can talk enough people into it being a good idea, then
> maybe new formats will be in 3.2.
I was thinking that's sort of a given, but I'll add "by themes or even 
plugins".
>   I was thinking "event" would be a pretty good one to have in
> core.

I agree. That should be a fairly universal concept.

-- 
Brian Layman
http://eHermitsInc.com
Managed WordPress Hosting


From mikeschinkel at newclarity.net  Thu Jan  6 22:04:55 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 6 Jan 2011 17:04:55 -0500
Subject: [wp-hackers] post format types
In-Reply-To: <4D2631BA.8060609@thecodecave.com>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>	<AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>	<ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>	<AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>	<AF9916218C7640B09BCC0271BE606A42@frumph.net>	<4D2626C9.3040403@thecodecave.com>	<AANLkTiksPMrsoHDCvw0UMkLPNsKw5bQZVJ7n7m+idpDB@mail.gmail.com>
	<4D262F98.4040301@thecodecave.com>
	<4D2631BA.8060609@thecodecave.com>
Message-ID: <F7876764-4A84-4866-A883-B9AD4119BA7F@newclarity.net>

On the topic of Post Formats:

I'm probably past the flash point on this one, but as somebody who has had some likely infamous heated debates with Otto and someone who usually pushes for more features and extensibility I gotta say I'm 100% with Otto on this issue.  I'm sure some of you will either find this either ironic or at least humorous. :)

What Otto said: the functionality Post Formats provide can easily be duplicated with a custom taxonomy and a custom metabox. The real value of Post Formats then is standardization like how Apple has standardized the iPod/iPhone/iPad connector. A commercial add-on product for an iThing that had some other way to connect would get little traction and just annoy the people who bought it. Same is true for Post Formats.

I can almost feel their pain; the WP team envisioned Post Formats to address a specific need (extending common functionality across the community to be on par with Tumblr, et. al.) yet because we in the WordPress community are so use to WP's legendary extensibility we immediately assume that everything added to WP will be better if extensible. That was my first reaction with Post Formats too, but then I realized what they were trying to achieve. 

With so many people (not just in this thread) claiming Post Formats to be still-borne if the can extend them I can just hear the WP members venting over the misunderstood reaction. (Maybe I'm especially sensitive to this because I'm working on something with a few others that once released will probably receive lots of misunderstood reaction. Here's hoping when we launch everyone will take a deep breath before making assumptions. :-)

But beyond pontification on Post Formats I have these 3 suggestions to add:

1.) An edit to Brian Layman's change, from "New formats cannot be introduced" to "The list of Post Formats is not extensible in order to encourage standardization but if a demand appears for new Post Formats WordPress may add them in future releases", or something to that effect.

2.) I haven't worked with v3.1 much yet so this may already be handled but it would really help the benefits of this standardization sink in for theme vendors and provide some tangible benefit to the standardization if there was a new theme file header[1] called "Post Formats" where the theme vendor could include a comma separated list of supported Post Formats. That would allow the theme repository to let people search for themes by the formats they introduce and that could also give warnings to end users who may consider switching to a theme that doesn't support one of the formats they are currently using.

3.) While it's easier for me and other developers to add custom metaboxes not all themers are as comfortable with WordPress hooks and PHP. Offering a higher level API that actually would make it easier to add taxonomy-based metaboxes with custom labels and single selections with either a drop down or radio buttons might help to blunt the criticism that Post Formats are not extensible and make the suggestion for an alternate more palatable. FWIW.

Hope this helps.

-Mike



From mikeschinkel at newclarity.net  Thu Jan  6 22:09:13 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 6 Jan 2011 17:09:13 -0500
Subject: [wp-hackers] post format types
In-Reply-To: <AANLkTi=Df4JGoszpz8sAXpX1MnVkzPB1P7sBx17wF8c_@mail.gmail.com>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>
	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>
	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
	<AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>
	<ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>
	<AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>
	<AF9916218C7640B09BCC0271BE606A42@frumph.net>
	<4D2626C9.3040403@thecodecave.com>
	<AANLkTiksPMrsoHDCvw0UMkLPNsKw5bQZVJ7n7m+idpDB@mail.gmail.com>
	<4D262F98.4040301@thecodecave.com>
	<AANLkTi=Df4JGoszpz8sAXpX1MnVkzPB1P7sBx17wF8c_@mail.gmail.com>
Message-ID: <51FFE245-2E1C-4BDA-95B9-5FF160B246F8@newclarity.net>

On Jan 6, 2011, at 4:46 PM, Otto wrote:
> All a "format" really is is a string. If there's enough need for a
> standardized format (by which I mean something a lot of themes will
> probably use) then there's no reason it can't be added eventually. For
> example, I was thinking "event" would be a pretty good one to have in
> core.

I proposed Event on Trac and it was pointed out to me that Events really make more sense as custom post types vs. post formats, and I realized they were most likely correct.  

So what's the rule of thumb when considered CPT vs. PF? (ignoring the option "custom" aspect of the former?  Maybe it's that Post Formats don't presume to use additional data elements that would disappear if displayed using the default format such as "Date" and "Venue?" Or is that too restrictive?

-Mike

From mikeschinkel at newclarity.net  Thu Jan  6 22:10:08 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 6 Jan 2011 17:10:08 -0500
Subject: [wp-hackers] post format types
In-Reply-To: <F7876764-4A84-4866-A883-B9AD4119BA7F@newclarity.net>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>	<AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>	<ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>	<AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>	<AF9916218C7640B09BCC0271BE606A42@frumph.net>	<4D2626C9.3040403@thecodecave.com>	<AANLkTiksPMrsoHDCvw0UMkLPNsKw5bQZVJ7n7m+idpDB@mail.gmail.com>
	<4D262F98.4040301@thecodecave.com>
	<4D2631BA.8060609@thecodecave.com>
	<F7876764-4A84-4866-A883-B9AD4119BA7F@newclarity.net>
Message-ID: <9CD8F88E-6B98-4D4A-B6C3-161226DF92A5@newclarity.net>

Oops, my footnote [1] below should have shown this link:

[1] http://codex.wordpress.org/File_Header

-Mike

On Jan 6, 2011, at 5:04 PM, Mike Schinkel wrote:

> On the topic of Post Formats:
> 
> I'm probably past the flash point on this one, but as somebody who has had some likely infamous heated debates with Otto and someone who usually pushes for more features and extensibility I gotta say I'm 100% with Otto on this issue.  I'm sure some of you will either find this either ironic or at least humorous. :)
> 
> What Otto said: the functionality Post Formats provide can easily be duplicated with a custom taxonomy and a custom metabox. The real value of Post Formats then is standardization like how Apple has standardized the iPod/iPhone/iPad connector. A commercial add-on product for an iThing that had some other way to connect would get little traction and just annoy the people who bought it. Same is true for Post Formats.
> 
> I can almost feel their pain; the WP team envisioned Post Formats to address a specific need (extending common functionality across the community to be on par with Tumblr, et. al.) yet because we in the WordPress community are so use to WP's legendary extensibility we immediately assume that everything added to WP will be better if extensible. That was my first reaction with Post Formats too, but then I realized what they were trying to achieve. 
> 
> With so many people (not just in this thread) claiming Post Formats to be still-borne if the can extend them I can just hear the WP members venting over the misunderstood reaction. (Maybe I'm especially sensitive to this because I'm working on something with a few others that once released will probably receive lots of misunderstood reaction. Here's hoping when we launch everyone will take a deep breath before making assumptions. :-)
> 
> But beyond pontification on Post Formats I have these 3 suggestions to add:
> 
> 1.) An edit to Brian Layman's change, from "New formats cannot be introduced" to "The list of Post Formats is not extensible in order to encourage standardization but if a demand appears for new Post Formats WordPress may add them in future releases", or something to that effect.
> 
> 2.) I haven't worked with v3.1 much yet so this may already be handled but it would really help the benefits of this standardization sink in for theme vendors and provide some tangible benefit to the standardization if there was a new theme file header[1] called "Post Formats" where the theme vendor could include a comma separated list of supported Post Formats. That would allow the theme repository to let people search for themes by the formats they introduce and that could also give warnings to end users who may consider switching to a theme that doesn't support one of the formats they are currently using.
> 
> 3.) While it's easier for me and other developers to add custom metaboxes not all themers are as comfortable with WordPress hooks and PHP. Offering a higher level API that actually would make it easier to add taxonomy-based metaboxes with custom labels and single selections with either a drop down or radio buttons might help to blunt the criticism that Post Formats are not extensible and make the suggestion for an alternate more palatable. FWIW.
> 
> Hope this helps.
> 
> -Mike
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From rbilesky at gmail.com  Thu Jan  6 22:10:55 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 6 Jan 2011 14:10:55 -0800
Subject: [wp-hackers] Show unapproved comments on custom post type for some
	users
Message-ID: <AANLkTinK0jpCeKJiWUE+O7Ke3dp4OqoH39cyNe9azthC@mail.gmail.com>

Ok so a little background here, I am working on a plugin that registers a
custom post type.  II am using comments with the custom post type and
specifically I am using the "unapproved" designation for comments that I
want to show to a select group of users, say those with the edit_posts
capability.  Now I want to do this in a way that works with any theme.  I
have found a way, modifying the comments.php template, to show unapproved
comments.  What I am looking for is a way to use custom coding for the
active themes comments.php for my custom post type within my plugin, so use
is as simple and installing and activating the plugin.  Is there a way I can
do this?

From wp at andrewnacin.com  Thu Jan  6 22:34:09 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 6 Jan 2011 17:34:09 -0500
Subject: [wp-hackers] post format types
In-Reply-To: <F7876764-4A84-4866-A883-B9AD4119BA7F@newclarity.net>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>
	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>
	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
	<AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>
	<ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>
	<AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>
	<AF9916218C7640B09BCC0271BE606A42@frumph.net>
	<4D2626C9.3040403@thecodecave.com>
	<AANLkTiksPMrsoHDCvw0UMkLPNsKw5bQZVJ7n7m+idpDB@mail.gmail.com>
	<4D262F98.4040301@thecodecave.com> <4D2631BA.8060609@thecodecave.com>
	<F7876764-4A84-4866-A883-B9AD4119BA7F@newclarity.net>
Message-ID: <AANLkTikNiWR3Bc0u5Mskf4aeaoE5b9QQy40Z3s3e91ni@mail.gmail.com>

On Thu, Jan 6, 2011 at 5:04 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> On the topic of Post Formats:
>
> I'm probably past the flash point on this one, but as somebody who has had
> some likely infamous heated debates with Otto and someone who usually pushes
> for more features and extensibility I gotta say I'm 100% with Otto on this
> issue.  I'm sure some of you will either find this either ironic or at least
> humorous. :)
>

The quote above isn't particularly relevant to my reply, but it was worth
repeating. :-)

I promised I would write up a blog post explaining our rationale, quite a
long time ago, but I never did. I still might, but I haven't seen the need
to yet. Here's pretty much what I just sent to the wp-testers list for a
similar thread:

The limitation is for standardization and portability. It's the whole point
of the feature. It is for users doing tumblelogging and themes designed for
tumblelogging. If you want custom post formats, then you should use your own
taxonomy. Period. Post formats are nothing more than a custom taxonomy with
a custom meta box. Every extra bit is to ensure standardization and
portability.

Even if a theme doesn't support X format, the context is not lost. The post
is still identified as an aside. Generally speaking those using tumblog-like
themes are going to check which formats the theme support, and generally
speaking the authors of tumblelog themes are going to ensure that as many as
possible are supported, as appropriate.

Any questions? (Be sure to read the rest of the thread first!)

Nacin

From andrew at graymerica.com  Thu Jan  6 22:38:47 2011
From: andrew at graymerica.com (Andrew Gray)
Date: Thu, 6 Jan 2011 17:38:47 -0500
Subject: [wp-hackers] post format types
In-Reply-To: <mailman.35737.1294351755.1338.wp-hackers@lists.automattic.com>
References: <mailman.35737.1294351755.1338.wp-hackers@lists.automattic.com>
Message-ID: <B52B9752-DABD-41E4-9E0B-2B8762874838@graymerica.com>


> No, the list is not alterable. Nor pluggable, filterable, or
> actionable. The list is the list.
> 
> If you want to go outside the list, then go outside it completely. You
> cannot add to the list of post formats.


My vote would be for more options, not less.  In my opinion, having to hack the core to alter a feature goes against what makes Wordpress such a great platform to develop on. 

Andrew






From pete at jointforcestech.com  Thu Jan  6 22:46:49 2011
From: pete at jointforcestech.com (Pete Mall)
Date: Thu, 6 Jan 2011 14:46:49 -0800
Subject: [wp-hackers] post format types
In-Reply-To: <B52B9752-DABD-41E4-9E0B-2B8762874838@graymerica.com>
References: <mailman.35737.1294351755.1338.wp-hackers@lists.automattic.com>
	<B52B9752-DABD-41E4-9E0B-2B8762874838@graymerica.com>
Message-ID: <AANLkTi=aFBH+LH7nHfZKvCsB=cYxf48Kr7XbKyBeOSV5@mail.gmail.com>

No one is asking you to hack core. You can roll your own post formats
without supporting any core post formats if you wish.

My vote would be for more options, not less.

You should read http://wordpress.org/about/philosophy/
*Decisions not Options!*

Cheers!
Pete


On Thu, Jan 6, 2011 at 2:38 PM, Andrew Gray <andrew at graymerica.com> wrote:

>
> > No, the list is not alterable. Nor pluggable, filterable, or
> > actionable. The list is the list.
> >
> > If you want to go outside the list, then go outside it completely. You
> > cannot add to the list of post formats.
>
>
> My vote would be for more options, not less.  In my opinion, having to hack
> the core to alter a feature goes against what makes Wordpress such a great
> platform to develop on.
>
> Andrew
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Thu Jan  6 22:51:26 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 6 Jan 2011 17:51:26 -0500
Subject: [wp-hackers] post format types
In-Reply-To: <AANLkTi=aFBH+LH7nHfZKvCsB=cYxf48Kr7XbKyBeOSV5@mail.gmail.com>
References: <mailman.35737.1294351755.1338.wp-hackers@lists.automattic.com>
	<B52B9752-DABD-41E4-9E0B-2B8762874838@graymerica.com>
	<AANLkTi=aFBH+LH7nHfZKvCsB=cYxf48Kr7XbKyBeOSV5@mail.gmail.com>
Message-ID: <AANLkTikv3bLdk9sutceQcpaQecAN0BRL8WGxmY8pAk0j@mail.gmail.com>

On Thu, Jan 6, 2011 at 5:38 PM, Andrew Gray <andrew at graymerica.com> wrote:

> My vote would be for more options, not less.  In my opinion, having to hack
> the core to alter a feature goes against what makes Wordpress such a great
> platform to develop on.


On Thu, Jan 6, 2011 at 5:46 PM, Pete Mall <pete at jointforcestech.com> wrote:

> No one is asking you to hack core. You can roll your own post formats
> without supporting any core post formats if you wish.


And it's really easy to do. Register your own taxonomy. Register your own
meta box. Add a save_post callback to save your meta box. That's what, 15
lines of code?

From 24-7 at gmx.net  Fri Jan  7 02:59:06 2011
From: 24-7 at gmx.net (24/7)
Date: Thu, 6 Jan 2011 18:59:06 -0800 (PST)
Subject: [wp-hackers] post format types
In-Reply-To: <AANLkTikv3bLdk9sutceQcpaQecAN0BRL8WGxmY8pAk0j@mail.gmail.com>
References: <mailman.35737.1294351755.1338.wp-hackers@lists.automattic.com>
	<B52B9752-DABD-41E4-9E0B-2B8762874838@graymerica.com>
	<AANLkTi=aFBH+LH7nHfZKvCsB=cYxf48Kr7XbKyBeOSV5@mail.gmail.com>
	<AANLkTikv3bLdk9sutceQcpaQecAN0BRL8WGxmY8pAk0j@mail.gmail.com>
Message-ID: <640d4e28-5599-4078-b884-1645df76a7f8@s4g2000yql.googlegroups.com>

Why not simply making a plugin for "audio" (who likes sitting in front
of a screen ... listening?) and "chat" (what are you posting in there?
you irc chats or your textmessage chat with your girlfriend?)* and see
how much attention that gets? I'd prefer to keep the number of post
formats as low as possible (offering maybe core plugins for
extensions). From a theme designers point of view, this is going to
become a whole load of work (and some new admin panels).

* I don't use Tumblr and really only know the name. Are the currently
registered post format taxonomies the exact same as those from Tumblr?

From otto at ottodestruct.com  Fri Jan  7 03:07:47 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 6 Jan 2011 21:07:47 -0600
Subject: [wp-hackers] post format types
In-Reply-To: <640d4e28-5599-4078-b884-1645df76a7f8@s4g2000yql.googlegroups.com>
References: <mailman.35737.1294351755.1338.wp-hackers@lists.automattic.com>
	<B52B9752-DABD-41E4-9E0B-2B8762874838@graymerica.com>
	<AANLkTi=aFBH+LH7nHfZKvCsB=cYxf48Kr7XbKyBeOSV5@mail.gmail.com>
	<AANLkTikv3bLdk9sutceQcpaQecAN0BRL8WGxmY8pAk0j@mail.gmail.com>
	<640d4e28-5599-4078-b884-1645df76a7f8@s4g2000yql.googlegroups.com>
Message-ID: <AANLkTikRE8tOOU5fZ12E+JkEdC4qdcVSg+661Z1GHi06@mail.gmail.com>

On Thu, Jan 6, 2011 at 8:59 PM, 24/7 <24-7 at gmx.net> wrote:
> Why not simply making a plugin for "audio" (who likes sitting in front
> of a screen ... listening?) and "chat" (what are you posting in there?
> you irc chats or your textmessage chat with your girlfriend?)* and see
> how much attention that gets?

You can do that too. If you like. There's several plugins to add audio
players to WordPress post displays. It's easy enough to do. See
http://ottopress.com/2010/how-to-add-audio-to-wordpress-posts/

However, "audio" is a perfectly suited format for podcasting purposes.
Also remember that posts can be queried by the format as well. So
audio would be useful in that case, to display a list of audio posts
for a podcasting blog.

> From a theme designers point of view, this is going to
> become a whole load of work (and some new admin panels).

You don't have to support all of them. Heck, I expect most themes
won't support anything but the basics of aside and gallery.

> * I don't use Tumblr and really only know the name. Are the currently
> registered post format taxonomies the exact same as those from Tumblr?

No. WordPress adds aside, status, and gallery to their list.

See here: http://ottopress.com/2010/post-types-and-formats-and-taxonomies-oh-my/

-Otto

From wp at andrewnacin.com  Fri Jan  7 03:30:48 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 6 Jan 2011 22:30:48 -0500
Subject: [wp-hackers] post format types
In-Reply-To: <eb09df56-9e5c-47d3-bdf2-c66150872eac@c2g2000yqc.googlegroups.com>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>
	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>
	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
	<AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>
	<ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>
	<AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>
	<AF9916218C7640B09BCC0271BE606A42@frumph.net>
	<4D2626C9.3040403@thecodecave.com>
	<AANLkTiksPMrsoHDCvw0UMkLPNsKw5bQZVJ7n7m+idpDB@mail.gmail.com>
	<4D262F98.4040301@thecodecave.com> <4D2631BA.8060609@thecodecave.com>
	<F7876764-4A84-4866-A883-B9AD4119BA7F@newclarity.net>
	<AANLkTikNiWR3Bc0u5Mskf4aeaoE5b9QQy40Z3s3e91ni@mail.gmail.com>
	<eb09df56-9e5c-47d3-bdf2-c66150872eac@c2g2000yqc.googlegroups.com>
Message-ID: <AANLkTim1e78zbR9TWCYfHjxj6iYCLGxcPpDSGCm-2z7=@mail.gmail.com>

On Thu, Jan 6, 2011 at 8:52 PM, 24/7 <24-7 at gmx.net> wrote:

> > I promised I would write up a blog post explaining our rationale, quite a
> > long time ago, but I never did. I still might, but I haven't seen the
> need
> > to yet. Here's pretty much what I just sent to the wp-testers list for a
> > similar thread:
>
> Please write it & title it "Custom Post *Types* vs. Post *Formats*".
> Subtitle: Post Formats are predefined taxonomies(/post tags).
>
> > Post formats are nothing more than a custom taxonomy with
> > a custom meta box. Every extra bit is to ensure standardization and
> > portability.
>
> So the only real reason for bringing "Post Formats" was that WordPress
> could do that, while so far only Tumblr had it (and is fast growing)?
> Don't get me wrong, but a theme designer already has to care about a
> lot of stuff and create a lot of code for specific parts of wp.
> Bringing 7(?) new "features" is a lot of work too. It's ok so far,
> because it's just a "switch" and "some" new lines to add to the
> themes. But i really hope the list is not growing much longer (what
> did you need "chat" for? posting shortextmessage conversations you had
> with your ex? how often are you posting audio? don't most people link
> youtube music clips, cause no one likes staring at a monitor and ...
> listening..). Please keep it as short as possible and the rest off to
> theme/plugin specific taxonomies or custom post types**. Thanks.
>

You only sent this to me, but I think you meant for it to go to the list. So
allow me to answer there.

It doesn't have to do with Tumblr; it has to do with tumbloging or
microblogging. Also, most themes are not going to necessarily support
formats. Some themes might be all about formats because they're going to be
designed for the microblogger or lifecaster. Others might leverage a few
formats for specific bits, such as asides and galleries in Twenty Ten. Some
might not have any need for them at all -- take a news or CMS theme for
example.

With regards to post types and formats, if you feel you have to choose
between them, then you're confusing one or both of them. My post was only
going to cover why they're a standard -- a post by Mark Jaquith covers your
request:

http://markjaquith.wordpress.com/2010/11/12/post-formats-vs-custom-post-types/

Nacin

From halukkaramete at gmail.com  Fri Jan  7 04:28:08 2011
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Thu, 6 Jan 2011 20:28:08 -0800
Subject: [wp-hackers] Combining different taxonomy term clouds into one
Message-ID: <AANLkTikHBKJdUeVTuv5GYf80VDAOVc5=TGEdgDtdxz_b@mail.gmail.com>

Say, you got one taxonomy called Taxonomy1 and another Taxonomy2.
And each is growing their own terms organically as the various posts come in.

So, at some point, for the sake of an argument Taxonomy1 grows to 10
tags and Taxonomy tag makes it to 20 tags.

there are code snippets available to display individual tag clouds for
these 2 taxonomies. No problem there.

But how do you create one tag cloud as a combination of both?

In other words, what technique do you use to end up with a global tag
cloud consisting of 30 items - while maintaing a proper order for the
overall tag cloud?

Obviously, placing the two tag clouds one after the other in a list
form is not going to cut it. With such an implementation, the last
item of the Taxonomy1 tag cloud would appear to be bigger ticket item
than the first item of the Taxonomy2 - which we do not want.

From mikeschinkel at newclarity.net  Fri Jan  7 04:41:07 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 6 Jan 2011 23:41:07 -0500
Subject: [wp-hackers] Combining different taxonomy term clouds into one
In-Reply-To: <AANLkTikHBKJdUeVTuv5GYf80VDAOVc5=TGEdgDtdxz_b@mail.gmail.com>
References: <AANLkTikHBKJdUeVTuv5GYf80VDAOVc5=TGEdgDtdxz_b@mail.gmail.com>
Message-ID: <19DEEAC2-DBA7-411A-938E-6F3834105093@newclarity.net>

On Jan 6, 2011, at 11:28 PM, Haluk Karamete wrote:
> Say, you got one taxonomy called Taxonomy1 and another Taxonomy2.
> And each is growing their own terms organically as the various posts come in.
> 
> So, at some point, for the sake of an argument Taxonomy1 grows to 10
> tags and Taxonomy tag makes it to 20 tags.
> 
> there are code snippets available to display individual tag clouds for
> these 2 taxonomies. No problem there.
> 
> But how do you create one tag cloud as a combination of both?
> 
> In other words, what technique do you use to end up with a global tag
> cloud consisting of 30 items - while maintaing a proper order for the
> overall tag cloud?
> 
> Obviously, placing the two tag clouds one after the other in a list
> form is not going to cut it. With such an implementation, the last
> item of the Taxonomy1 tag cloud would appear to be bigger ticket item
> than the first item of the Taxonomy2 - which we do not want.

What code/widget are you using to generate your tag cloud?

-Mike



From wp at andrewnacin.com  Fri Jan  7 04:52:50 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 6 Jan 2011 23:52:50 -0500
Subject: [wp-hackers] Combining different taxonomy term clouds into one
In-Reply-To: <19DEEAC2-DBA7-411A-938E-6F3834105093@newclarity.net>
References: <AANLkTikHBKJdUeVTuv5GYf80VDAOVc5=TGEdgDtdxz_b@mail.gmail.com>
	<19DEEAC2-DBA7-411A-938E-6F3834105093@newclarity.net>
Message-ID: <AANLkTikwYH8FR4LhAv7dQxhay9_XY-iqZ--ExjQkanGx@mail.gmail.com>

On Thu, Jan 6, 2011 at 11:41 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> On Jan 6, 2011, at 11:28 PM, Haluk Karamete wrote:
> > Say, you got one taxonomy called Taxonomy1 and another Taxonomy2.
> > And each is growing their own terms organically as the various posts come
> in.
> >
> > So, at some point, for the sake of an argument Taxonomy1 grows to 10
> > tags and Taxonomy tag makes it to 20 tags.
> >
> > there are code snippets available to display individual tag clouds for
> > these 2 taxonomies. No problem there.
> >
> > But how do you create one tag cloud as a combination of both?
> >
> > In other words, what technique do you use to end up with a global tag
> > cloud consisting of 30 items - while maintaing a proper order for the
> > overall tag cloud?
> >
> > Obviously, placing the two tag clouds one after the other in a list
> > form is not going to cut it. With such an implementation, the last
> > item of the Taxonomy1 tag cloud would appear to be bigger ticket item
> > than the first item of the Taxonomy2 - which we do not want.
>
> What code/widget are you using to generate your tag cloud?


I do believe this is supported in 3.1.
http://core.trac.wordpress.org/ticket/15313

From halukkaramete at gmail.com  Fri Jan  7 06:30:03 2011
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Thu, 6 Jan 2011 22:30:03 -0800
Subject: [wp-hackers] Combining different taxonomy term clouds into one
In-Reply-To: <19DEEAC2-DBA7-411A-938E-6F3834105093@newclarity.net>
References: <AANLkTikHBKJdUeVTuv5GYf80VDAOVc5=TGEdgDtdxz_b@mail.gmail.com>
	<19DEEAC2-DBA7-411A-938E-6F3834105093@newclarity.net>
Message-ID: <AANLkTim2xgod0kCG=Z09MSsZx6_SzWe6uYKzUmd8kEMX@mail.gmail.com>

No plug ins/widgets on that yet Mike. I'm only in the thinking/planning stage.




On Thu, Jan 6, 2011 at 8:41 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> On Jan 6, 2011, at 11:28 PM, Haluk Karamete wrote:
>> Say, you got one taxonomy called Taxonomy1 and another Taxonomy2.
>> And each is growing their own terms organically as the various posts come in.
>>
>> So, at some point, for the sake of an argument Taxonomy1 grows to 10
>> tags and Taxonomy tag makes it to 20 tags.
>>
>> there are code snippets available to display individual tag clouds for
>> these 2 taxonomies. No problem there.
>>
>> But how do you create one tag cloud as a combination of both?
>>
>> In other words, what technique do you use to end up with a global tag
>> cloud consisting of 30 items - while maintaing a proper order for the
>> overall tag cloud?
>>
>> Obviously, placing the two tag clouds one after the other in a list
>> form is not going to cut it. With such an implementation, the last
>> item of the Taxonomy1 tag cloud would appear to be bigger ticket item
>> than the first item of the Taxonomy2 - which we do not want.
>
> What code/widget are you using to generate your tag cloud?
>
> -Mike
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peter.westwood at ftwr.co.uk  Fri Jan  7 10:20:27 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 7 Jan 2011 10:20:27 +0000
Subject: [wp-hackers] Show unapproved comments on custom post type for
	some users
In-Reply-To: <AANLkTinK0jpCeKJiWUE+O7Ke3dp4OqoH39cyNe9azthC@mail.gmail.com>
References: <AANLkTinK0jpCeKJiWUE+O7Ke3dp4OqoH39cyNe9azthC@mail.gmail.com>
Message-ID: <B279DCBC-6341-43A8-8A44-5CCDE357A6B4@ftwr.co.uk>


On 6 Jan 2011, at 22:10, Ryan Bilesky wrote:

> Ok so a little background here, I am working on a plugin that registers a
> custom post type.  II am using comments with the custom post type and
> specifically I am using the "unapproved" designation for comments that I
> want to show to a select group of users, say those with the edit_posts
> capability.  Now I want to do this in a way that works with any theme.  I
> have found a way, modifying the comments.php template, to show unapproved
> comments.  What I am looking for is a way to use custom coding for the
> active themes comments.php for my custom post type within my plugin, so use
> is as simple and installing and activating the plugin.  Is there a way I can
> do this?

I wouldn't use the unapproved designation for these comments but rather use a separate extra status to mark them out.

I would then hook into the comment queries and return the comments when appropriate to the theme

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From rbilesky at gmail.com  Fri Jan  7 15:06:49 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 7 Jan 2011 07:06:49 -0800
Subject: [wp-hackers] Show unapproved comments on custom post type for
 some users
In-Reply-To: <B279DCBC-6341-43A8-8A44-5CCDE357A6B4@ftwr.co.uk>
References: <AANLkTinK0jpCeKJiWUE+O7Ke3dp4OqoH39cyNe9azthC@mail.gmail.com>
	<B279DCBC-6341-43A8-8A44-5CCDE357A6B4@ftwr.co.uk>
Message-ID: <AANLkTikoj9iL4FsaYv-A6Vyy7vWw+a_Owkyv7kUsnVuN@mail.gmail.com>

Ok also I know that a theme can specify a callback function to format
comment output, is there a way to do this via a plugin, these comments that
are being displayed only to some users I want to apply custom styling to
them if possible to make them stand out.

On Jan 7, 2011 2:20 AM, "Peter Westwood" <peter.westwood at ftwr.co.uk> wrote:
>
> On 6 Jan 2011, at 22:10, Ryan Bilesky wrote:
>
>> Ok so a little background here, I am working on a plugin that registers a
>> custom post type. II am using comments with the custom post type and
>> specifically I am using the "unapproved" designation for comments that I
>> want to show to a select group of users, say those with the edit_posts
>> capability. Now I want to do this in a way that works with any theme. I
>> have found a way, modifying the comments.php template, to show unapproved
>> comments. What I am looking for is a way to use custom coding for the
>> active themes comments.php for my custom post type within my plugin, so
use
>> is as simple and installing and activating the plugin. Is there a way I
can
>> do this?
>
> I wouldn't use the unapproved designation for these comments but rather
use a separate extra status to mark them out.
>
> I would then hook into the comment queries and return the comments when
appropriate to the theme
>
> Cheers
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From 24-7 at gmx.net  Fri Jan  7 15:43:58 2011
From: 24-7 at gmx.net (24/7)
Date: Fri, 7 Jan 2011 07:43:58 -0800 (PST)
Subject: [wp-hackers] post format types
In-Reply-To: <AANLkTim1e78zbR9TWCYfHjxj6iYCLGxcPpDSGCm-2z7=@mail.gmail.com>
References: <829D4E1576AB4410B3633DE863145025@frumph.net>
	<AANLkTikWpW=Z4ksaUCVcK=0HRMMHONcO-ToH9qOVT+3+@mail.gmail.com>
	<2A5192A20322490BBFF64CE8CE6CDEE0@frumph.net>
	<AANLkTik5UcFDZovS4k3cedsuX28VO6yXMq-Zcr8Mmx3S@mail.gmail.com>
	<ADCBC6FC106A412EA02789A407E1ADE8@frumph.net>
	<AANLkTi=t6DR9Vdmmgz8_9uTez=vrK3o5iEbYorCVqWtM@mail.gmail.com>
	<AF9916218C7640B09BCC0271BE606A42@frumph.net>
	<4D2626C9.3040403@thecodecave.com>
	<AANLkTiksPMrsoHDCvw0UMkLPNsKw5bQZVJ7n7m+idpDB@mail.gmail.com>
	<4D262F98.4040301@thecodecave.com> <4D2631BA.8060609@thecodecave.com>
	<F7876764-4A84-4866-A883-B9AD4119BA7F@newclarity.net>
	<AANLkTikNiWR3Bc0u5Mskf4aeaoE5b9QQy40Z3s3e91ni@mail.gmail.com>
	<eb09df56-9e5c-47d3-bdf2-c66150872eac@c2g2000yqc.googlegroups.com>
	<AANLkTim1e78zbR9TWCYfHjxj6iYCLGxcPpDSGCm-2z7=@mail.gmail.com>
Message-ID: <5a8137ed-c736-456f-8c9a-813440ddeec2@39g2000yqa.googlegroups.com>

@Nacin: Oh, there is it! Yes, it was meant for the list. I thought i
lost it and posted another (shorter) one (answered by otto above). Sry
for this one: wrong button/link i guess.

Btw: I never wrote that i think i have to choose between Formats and
Custom Types. I just suggested this title for a post(codex entry?) to
make the difference more clear.

@Otto: I already read your article. "You don't have to support them"
is ok for me. My thoughts go more into the direction of the premium
theme people. I know some of you don't like them, but they are one
considerable part of the community too (look at woo > nav menus). I'm
pretty curious what will happen on all those marketplaces and shops.
Will they try to support them all, or ...? I was thinking about it
after stumbling upon this [1] theme via styleboost, which seems to
already have Post Formats (or some custom taxonomies) implemented.

With the audio/chat plugin i just tried to say: Are they really
neccessary, because there exist that many podcast sites? I know i'm
late to the discussion...

Another option i thought that could help determining how many people
use a specific new feature (not only post formats) is the "generator"
meta tag. Why not adding the name of all new post formats that are in
use on a wp installation to "Wordpress {version}" to the meta tag? As
far as i understood this right, it's there to meassure the popularity
of wp. Maybe that could be used instead of "popularity of a plugin",
or the discussion between devs on trac. I don't know how accurate this
would be, but it could bring some "real" numbers to the table.

Just my 2 cents.
-K.

[1] Shelf Theme: http://demo.thethemefoundry.com/shelf/

From chip at chipbennett.net  Fri Jan  7 19:17:44 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Fri, 7 Jan 2011 13:17:44 -0600
Subject: [wp-hackers] Constant for Theme File Path
Message-ID: <AANLkTikwfDBThZ+HbMszyLZDp8S4QFQ8T1==vR_pH7k9@mail.gmail.com>

I need to check for the existence of the default Theme (i.e. TwentyTen),
which is easy enough: use file_exists() to find twentyten/style.css.

WordPress has a defined constant, WP_PLUGIN_DIR, for retrieving the file
path (not URL) of the directory in which Plugins are installed. Does a
similar constant (or other means) exist for retrieving the file path (not
URL) of the directory in which Themes are installed?

Currently, I'm hacking WP_PLUGIN_DIR, like such:

if ( file_exists( rtrim( WP_PLUGIN_DIR, 'plugins' ) .
'themes/twentyten/style.css' ) ) {

// do stuff

}


This works, but intuition tells me that there has to be a more direct way.
I've searched through the constants, bloginfo(), etc. and cannot find
anything resembling WP_THEMES_DIR or WP_TEMPLATE_DIR (or anything that
likewise returns a file path for the Themes directory).

Does any such means exist? If not, is there a better work-around than the
one I'm using?

Chip

From mikeschinkel at newclarity.net  Fri Jan  7 19:32:29 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 7 Jan 2011 14:32:29 -0500
Subject: [wp-hackers] Constant for Theme File Path
In-Reply-To: <AANLkTikwfDBThZ+HbMszyLZDp8S4QFQ8T1==vR_pH7k9@mail.gmail.com>
References: <AANLkTikwfDBThZ+HbMszyLZDp8S4QFQ8T1==vR_pH7k9@mail.gmail.com>
Message-ID: <594C54A1-5E5D-4DF7-8DEE-D1F97A7AF512@newclarity.net>

<?php

include 'wp-load.php';
header('Content-type: text/plain');
echo get_theme_root_uri();
echo "\n-------------\n";
echo get_theme_root_uri('twentyten');
echo "\n-------------\n";
print_r(get_theme_roots());

?>

On Jan 7, 2011, at 2:17 PM, Chip Bennett wrote:

> I need to check for the existence of the default Theme (i.e. TwentyTen),
> which is easy enough: use file_exists() to find twentyten/style.css.
> 
> WordPress has a defined constant, WP_PLUGIN_DIR, for retrieving the file
> path (not URL) of the directory in which Plugins are installed. Does a
> similar constant (or other means) exist for retrieving the file path (not
> URL) of the directory in which Themes are installed?
> 
> Currently, I'm hacking WP_PLUGIN_DIR, like such:
> 
> if ( file_exists( rtrim( WP_PLUGIN_DIR, 'plugins' ) .
> 'themes/twentyten/style.css' ) ) {
> 
> // do stuff
> 
> }
> 
> 
> This works, but intuition tells me that there has to be a more direct way.
> I've searched through the constants, bloginfo(), etc. and cannot find
> anything resembling WP_THEMES_DIR or WP_TEMPLATE_DIR (or anything that
> likewise returns a file path for the Themes directory).
> 
> Does any such means exist? If not, is there a better work-around than the
> one I'm using?
> 
> Chip
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From austin at ilfilosofo.com  Fri Jan  7 19:34:00 2011
From: austin at ilfilosofo.com (Austin Matzko)
Date: Fri, 7 Jan 2011 13:34:00 -0600
Subject: [wp-hackers] Constant for Theme File Path
In-Reply-To: <AANLkTikwfDBThZ+HbMszyLZDp8S4QFQ8T1==vR_pH7k9@mail.gmail.com>
References: <AANLkTikwfDBThZ+HbMszyLZDp8S4QFQ8T1==vR_pH7k9@mail.gmail.com>
Message-ID: <AANLkTimZ+QU5+O=SuCLaRkSVGHciMLS1mw7mELZZr4cQ@mail.gmail.com>

On Fri, Jan 7, 2011 at 1:17 PM, Chip Bennett <chip at chipbennett.net> wrote:
> I need to check for the existence of the default Theme (i.e. TwentyTen),
> which is easy enough: use file_exists() to find twentyten/style.css.
>
> WordPress has a defined constant, WP_PLUGIN_DIR, for retrieving the file
> path (not URL) of the directory in which Plugins are installed. Does a
> similar constant (or other means) exist for retrieving the file path (not
> URL) of the directory in which Themes are installed?

How about get_theme_root() ?

From chip at chipbennett.net  Fri Jan  7 19:35:49 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Fri, 7 Jan 2011 13:35:49 -0600
Subject: [wp-hackers] Constant for Theme File Path
In-Reply-To: <AANLkTimZ+QU5+O=SuCLaRkSVGHciMLS1mw7mELZZr4cQ@mail.gmail.com>
References: <AANLkTikwfDBThZ+HbMszyLZDp8S4QFQ8T1==vR_pH7k9@mail.gmail.com>
	<AANLkTimZ+QU5+O=SuCLaRkSVGHciMLS1mw7mELZZr4cQ@mail.gmail.com>
Message-ID: <AANLkTin5B_wMZ4=izawrCJXw0Tm2J+AWoH_642kDF8GD@mail.gmail.com>

Now why couldn't I find
that<http://codex.wordpress.org/Function_Reference/get_theme_root>
?

Exactly what I need.

Thanks (to you and Mike)!

Chip

On Fri, Jan 7, 2011 at 1:34 PM, Austin Matzko <austin at ilfilosofo.com> wrote:

> On Fri, Jan 7, 2011 at 1:17 PM, Chip Bennett <chip at chipbennett.net> wrote:
> > I need to check for the existence of the default Theme (i.e. TwentyTen),
> > which is easy enough: use file_exists() to find twentyten/style.css.
> >
> > WordPress has a defined constant, WP_PLUGIN_DIR, for retrieving the file
> > path (not URL) of the directory in which Plugins are installed. Does a
> > similar constant (or other means) exist for retrieving the file path (not
> > URL) of the directory in which Themes are installed?
>
> How about get_theme_root() ?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Fri Jan  7 19:41:55 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 7 Jan 2011 14:41:55 -0500
Subject: [wp-hackers] Constant for Theme File Path
In-Reply-To: <AANLkTin5B_wMZ4=izawrCJXw0Tm2J+AWoH_642kDF8GD@mail.gmail.com>
References: <AANLkTikwfDBThZ+HbMszyLZDp8S4QFQ8T1==vR_pH7k9@mail.gmail.com>
	<AANLkTimZ+QU5+O=SuCLaRkSVGHciMLS1mw7mELZZr4cQ@mail.gmail.com>
	<AANLkTin5B_wMZ4=izawrCJXw0Tm2J+AWoH_642kDF8GD@mail.gmail.com>
Message-ID: <9249CF78-8DE6-4906-9FA8-1CBDEDC08732@newclarity.net>

On Jan 7, 2011, at 2:35 PM, Chip Bennett wrote:
> Now why couldn't I find
> that<http://codex.wordpress.org/Function_Reference/get_theme_root>
> ?

Because you are not using PhpStorm? ;-)

> Thanks (to you and Mike)!

Welcome.

-Mike

From burobjorn at gmail.com  Sat Jan  8 13:08:48 2011
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Sat, 08 Jan 2011 14:08:48 +0100
Subject: [wp-hackers] Potential (security) issue with Twenty Ten?
In-Reply-To: <4D25A6D3.8060100@gmail.com>
References: <4D25A6D3.8060100@gmail.com>
Message-ID: <4D2861E0.4080901@gmail.com>

Peter & Mike,

Thanks for clearing this up. Next time when I suspect a security issue 
I'll contact and use the appropriate channels.

@Peter: out of curiosity: could you give an example when gettext does 
not provide a solution and an extra php file is needed?


met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Werkdagen:
Van maandag t/m donderdag vanaf 10:00
Vrijdag is voor experimenteren en eigen projecten.

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

tel: +31 6 49 74 78 70
http://www.burobjorn.nl

On 01/06/2011 12:26 PM, Bjorn Wijers wrote:
> Hi,
>
> Not sure if this is the right place to discuss this, so please point me
> in the right direction if this should be discussed somewhere else...
>
> I was looking at Twenty Ten and noticed this piece of code below the
> theme textdomain loading in the functions.php:
>
> 91 load_theme_textdomain( 'twentyten', TEMPLATEPATH . '/languages' );
> 92
> 93 $locale = get_locale();
> 94 $locale_file = TEMPLATEPATH . "/languages/$locale.php";
> 95 if ( is_readable( $locale_file ) )
> 96 require_once( $locale_file );
>
> Source:
> http://core.trac.wordpress.org/browser/trunk/wp-content/themes/twentyten/functions.php
>
>
> I do not understand why after loading the theme's translations files
> another file ($locale.php) is included. Also the $locale, as far as I
> can see although I haven't dived into it, does not get escaped. Somehow
> this looks kinda funky.
>
> Can somebody explain why this of code is included in Twenty Ten? And why
> this is used after already loading the translations using
> load_theme_textdomain() function.
>
> grtz
> BjornW
>
>
>
>
>
>
>
>
>
>
>
>
>
>
> (http://core.trac.wordpress.org/browser/trunk/wp-content/themes/twentyten/functions.php#L93
>
>
>
>
>
>

From burobjorn at gmail.com  Sat Jan  8 13:13:13 2011
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Sat, 08 Jan 2011 14:13:13 +0100
Subject: [wp-hackers] Looking for best practices in how to deal with
 translations as a plugin developer
Message-ID: <4D2862E9.1020700@gmail.com>

Hi,

I've created a few plugins and I've made translations for them. Now I 
need to update some plugins and I wonder what the best practices are for 
dealing with multiple versions and translations. E.g. do you always need 
to generate a new pot file from scratch? Or are there better ways of 
dealing with this? I'm looking for any hints, tips and methods from 
fellow plugin developers dealing with this.

Thanks in advance!

-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Werkdagen:
Van maandag t/m donderdag vanaf 10:00
Vrijdag is voor experimenteren en eigen projecten.

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

tel: +31 6 49 74 78 70
http://www.burobjorn.nl

From peter.westwood at ftwr.co.uk  Sat Jan  8 13:14:01 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat, 8 Jan 2011 13:14:01 +0000
Subject: [wp-hackers] Potential (security) issue with Twenty Ten?
In-Reply-To: <4D2861E0.4080901@gmail.com>
References: <4D25A6D3.8060100@gmail.com> <4D2861E0.4080901@gmail.com>
Message-ID: <1A45B44D-94B1-433D-B8B3-3005D0C84509@ftwr.co.uk>


On 8 Jan 2011, at 13:08, Bjorn Wijers wrote:

> Peter & Mike,
> 
> Thanks for clearing this up. Next time when I suspect a security issue I'll contact and use the appropriate channels.
> 
> @Peter: out of curiosity: could you give an example when gettext does not provide a solution and an extra php file is needed?

Some examples:

Text Direction: http://svn.automattic.com/wordpress-i18n/ar/trunk/dist/wp-content/languages/ar.php

Text Direction + extras: http://svn.automattic.com/wordpress-i18n/he_IL/trunk/dist/wp-content/languages/he_IL.php

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From wackiebackie at gmail.com  Sat Jan  8 17:12:51 2011
From: wackiebackie at gmail.com (Iain Cambridge)
Date: Sat, 8 Jan 2011 17:12:51 +0000
Subject: [wp-hackers] get_mu_plugins() not defined
Message-ID: <AANLkTi=iE2eqPUbZ17O1QzkBjTU7Wq9JZ4qGd++ERz7f@mail.gmail.com>

Is there any reason why get_mu_plugins() would not be defined in 3.0.4
when a plugin is running?

Thanks

Iain

From pete at jointforcestech.com  Sat Jan  8 17:19:10 2011
From: pete at jointforcestech.com (Pete Mall)
Date: Sat, 8 Jan 2011 09:19:10 -0800
Subject: [wp-hackers] get_mu_plugins() not defined
In-Reply-To: <AANLkTi=iE2eqPUbZ17O1QzkBjTU7Wq9JZ4qGd++ERz7f@mail.gmail.com>
References: <AANLkTi=iE2eqPUbZ17O1QzkBjTU7Wq9JZ4qGd++ERz7f@mail.gmail.com>
Message-ID: <AANLkTinXmecQsA1Dnch4t7FGPM-5EKCab7cYJav6On5F@mail.gmail.com>

Are you using it before init?

On Sat, Jan 8, 2011 at 9:12 AM, Iain Cambridge <wackiebackie at gmail.com>wrote:

> Is there any reason why get_mu_plugins() would not be defined in 3.0.4
> when a plugin is running?
>
> Thanks
>
> Iain
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wackiebackie at gmail.com  Sat Jan  8 17:32:45 2011
From: wackiebackie at gmail.com (Iain Cambridge)
Date: Sat, 8 Jan 2011 17:32:45 +0000
Subject: [wp-hackers] get_mu_plugins() not defined
In-Reply-To: <AANLkTinXmecQsA1Dnch4t7FGPM-5EKCab7cYJav6On5F@mail.gmail.com>
References: <AANLkTi=iE2eqPUbZ17O1QzkBjTU7Wq9JZ4qGd++ERz7f@mail.gmail.com>
	<AANLkTinXmecQsA1Dnch4t7FGPM-5EKCab7cYJav6On5F@mail.gmail.com>
Message-ID: <AANLkTimHwa2AXUV_qb3NoHMbj1PPCjhGKdiXEk-4BHi2@mail.gmail.com>

I am using it when the plugin file is loaded up so I am assuming yes?
So if I just do it within an init action that should solve this issue?

Iain

On Sat, Jan 8, 2011 at 5:19 PM, Pete Mall <pete at jointforcestech.com> wrote:
> Are you using it before init?
>
> On Sat, Jan 8, 2011 at 9:12 AM, Iain Cambridge <wackiebackie at gmail.com>wrote:
>
>> Is there any reason why get_mu_plugins() would not be defined in 3.0.4
>> when a plugin is running?
>>
>> Thanks
>>
>> Iain
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at dd32.id.au  Sat Jan  8 19:26:36 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 9 Jan 2011 06:26:36 +1100
Subject: [wp-hackers] get_mu_plugins() not defined
In-Reply-To: <AANLkTimHwa2AXUV_qb3NoHMbj1PPCjhGKdiXEk-4BHi2@mail.gmail.com>
References: <AANLkTi=iE2eqPUbZ17O1QzkBjTU7Wq9JZ4qGd++ERz7f@mail.gmail.com>
	<AANLkTinXmecQsA1Dnch4t7FGPM-5EKCab7cYJav6On5F@mail.gmail.com>
	<AANLkTimHwa2AXUV_qb3NoHMbj1PPCjhGKdiXEk-4BHi2@mail.gmail.com>
Message-ID: <AANLkTimzNWyk2SMf8Qy9zxmCQWTehWUtdkhs-9pS=MCW@mail.gmail.com>

Correct.
You should never run any code when the plugin is included, other than
register_activation_hook / add_action / add_filter
You have to wait until the appropriate hook before running code to ensure
that WordPress has been initiated and is ready to answer your requests with
correct data (some functions will return incorrect assumptions until that
time as well)

On 9 January 2011 04:32, Iain Cambridge <wackiebackie at gmail.com> wrote:

> I am using it when the plugin file is loaded up so I am assuming yes?
> So if I just do it within an init action that should solve this issue?
>
> Iain
>
> On Sat, Jan 8, 2011 at 5:19 PM, Pete Mall <pete at jointforcestech.com>
> wrote:
> > Are you using it before init?
> >
> > On Sat, Jan 8, 2011 at 9:12 AM, Iain Cambridge <wackiebackie at gmail.com
> >wrote:
> >
> >> Is there any reason why get_mu_plugins() would not be defined in 3.0.4
> >> when a plugin is running?
> >>
> >> Thanks
> >>
> >> Iain
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wackiebackie at gmail.com  Sat Jan  8 21:29:17 2011
From: wackiebackie at gmail.com (Iain Cambridge)
Date: Sat, 8 Jan 2011 21:29:17 +0000
Subject: [wp-hackers] get_mu_plugins() not defined
In-Reply-To: <AANLkTimzNWyk2SMf8Qy9zxmCQWTehWUtdkhs-9pS=MCW@mail.gmail.com>
References: <AANLkTi=iE2eqPUbZ17O1QzkBjTU7Wq9JZ4qGd++ERz7f@mail.gmail.com>
	<AANLkTinXmecQsA1Dnch4t7FGPM-5EKCab7cYJav6On5F@mail.gmail.com>
	<AANLkTimHwa2AXUV_qb3NoHMbj1PPCjhGKdiXEk-4BHi2@mail.gmail.com>
	<AANLkTimzNWyk2SMf8Qy9zxmCQWTehWUtdkhs-9pS=MCW@mail.gmail.com>
Message-ID: <AANLkTi=auMvXiVYB7zt+q28rypzX4=9kFWJ0FvYGY5Rj@mail.gmail.com>

Actually embrassingly I seem to not know what my own code was doing, I
have the call to get_mu_plugins in a class that has a call made at the
plugin load and assumed that it dependencies check was done there. But
it seems I have moments where I don't do silly things :) and I've
actually got the dependencies check in admin_head action.

Iain

On Sat, Jan 8, 2011 at 7:26 PM, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:
> Correct.
> You should never run any code when the plugin is included, other than
> register_activation_hook / add_action / add_filter
> You have to wait until the appropriate hook before running code to ensure
> that WordPress has been initiated and is ready to answer your requests with
> correct data (some functions will return incorrect assumptions until that
> time as well)
>
> On 9 January 2011 04:32, Iain Cambridge <wackiebackie at gmail.com> wrote:
>
>> I am using it when the plugin file is loaded up so I am assuming yes?
>> So if I just do it within an init action that should solve this issue?
>>
>> Iain
>>
>> On Sat, Jan 8, 2011 at 5:19 PM, Pete Mall <pete at jointforcestech.com>
>> wrote:
>> > Are you using it before init?
>> >
>> > On Sat, Jan 8, 2011 at 9:12 AM, Iain Cambridge <wackiebackie at gmail.com
>> >wrote:
>> >
>> >> Is there any reason why get_mu_plugins() would not be defined in 3.0.4
>> >> when a plugin is running?
>> >>
>> >> Thanks
>> >>
>> >> Iain
>> >> _______________________________________________
>> >> wp-hackers mailing list
>> >> wp-hackers at lists.automattic.com
>> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From will.davis at gmail.com  Sat Jan  8 22:55:50 2011
From: will.davis at gmail.com (William P. Davis)
Date: Sat, 8 Jan 2011 17:55:50 -0500
Subject: [wp-hackers] Hooks on image upload
Message-ID: <AANLkTinAuO7LOJ1nMauE=RNOmjo-XWh=p50E4uhz_y-8@mail.gmail.com>

I'm creating a little plugin that automatically changes the author
field of an image on upload based on the image's metadata, but I can't
seem to find a filter or action to hook into. This is actually going
to be used with Scott Bressler's Media Credit plugin ? right now the
person who uploads the image is automatically set as the author. I've
got a function all set to change the author based on the exif data,
but, as I said, there doesn't seem to be any actions I can hook into
to run the function.

Will

From wackiebackie at gmail.com  Sat Jan  8 23:17:21 2011
From: wackiebackie at gmail.com (Iain Cambridge)
Date: Sat, 8 Jan 2011 23:17:21 +0000
Subject: [wp-hackers] Hooks on image upload
In-Reply-To: <AANLkTinAuO7LOJ1nMauE=RNOmjo-XWh=p50E4uhz_y-8@mail.gmail.com>
References: <AANLkTinAuO7LOJ1nMauE=RNOmjo-XWh=p50E4uhz_y-8@mail.gmail.com>
Message-ID: <AANLkTinGvd3UPebeVj3OtKuBMR-RQXi+-O_mAq4b26DT@mail.gmail.com>

I use the "wp_generate_attachment_metadata" filter to handle media uploads.

Iain

On Sat, Jan 8, 2011 at 10:55 PM, William P. Davis <will.davis at gmail.com> wrote:
> I'm creating a little plugin that automatically changes the author
> field of an image on upload based on the image's metadata, but I can't
> seem to find a filter or action to hook into. This is actually going
> to be used with Scott Bressler's Media Credit plugin ? right now the
> person who uploads the image is automatically set as the author. I've
> got a function all set to change the author based on the exif data,
> but, as I said, there doesn't seem to be any actions I can hook into
> to run the function.
>
> Will
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From will.davis at gmail.com  Sat Jan  8 23:19:10 2011
From: will.davis at gmail.com (William P. Davis)
Date: Sat, 8 Jan 2011 23:19:10 +0000
Subject: [wp-hackers] Hooks on image upload
In-Reply-To: <AANLkTinGvd3UPebeVj3OtKuBMR-RQXi+-O_mAq4b26DT@mail.gmail.com>
References: <AANLkTinAuO7LOJ1nMauE=RNOmjo-XWh=p50E4uhz_y-8@mail.gmail.com><AANLkTinGvd3UPebeVj3OtKuBMR-RQXi+-O_mAq4b26DT@mail.gmail.com>
Message-ID: <1650673642-1294528751-cardhu_decombobulator_blackberry.rim.net-1373516026-@bda597.bisx.prod.on.blackberry>

Thanks Iain!
Sent from my BlackBerry? wireless device

-----Original Message-----
From: Iain Cambridge <wackiebackie at gmail.com>
Sender: wp-hackers-bounces at lists.automattic.com
Date: Sat, 8 Jan 2011 23:17:21 
To: <wp-hackers at lists.automattic.com>
Reply-To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Hooks on image upload

I use the "wp_generate_attachment_metadata" filter to handle media uploads.

Iain

On Sat, Jan 8, 2011 at 10:55 PM, William P. Davis <will.davis at gmail.com> wrote:
> I'm creating a little plugin that automatically changes the author
> field of an image on upload based on the image's metadata, but I can't
> seem to find a filter or action to hook into. This is actually going
> to be used with Scott Bressler's Media Credit plugin ? right now the
> person who uploads the image is automatically set as the author. I've
> got a function all set to change the author based on the exif data,
> but, as I said, there doesn't seem to be any actions I can hook into
> to run the function.
>
> Will
>_______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From msplant at gmail.com  Sun Jan  9 14:13:31 2011
From: msplant at gmail.com (Mike Plant)
Date: Sun, 9 Jan 2011 09:13:31 -0500
Subject: [wp-hackers] Hooks on image upload
In-Reply-To: <mailman.9.1294574402.19013.wp-hackers@lists.automattic.com>
References: <mailman.9.1294574402.19013.wp-hackers@lists.automattic.com>
Message-ID: <29ECCD33-7305-44E6-90E6-C0A3B5418355@gmail.com>

Hello all,

I have recently joined the list and have been quietly listening. This message is exactly what I joined he list for. Recently while building a plugin I need to crop thumbnails from the top left instead of centering as the core does now. I could not find any way to change this without changing the Wordpress include. 

What are the thoughts on adding a hook to the crop function in media to allow a programmer to change the crop parameters?

Sent from my iPod

On Jan 9, 2011, at 7:00 AM, wp-hackers-request at lists.automattic.com wrote:

> Send wp-hackers mailing list submissions to
>    wp-hackers at lists.automattic.com
> 
> To subscribe or unsubscribe via the World Wide Web, visit
>    http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
>    wp-hackers-request at lists.automattic.com
> 
> You can reach the person managing the list at
>    wp-hackers-owner at lists.automattic.com
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
> 
> 
> Today's Topics:
> 
>   1. Re: Hooks on image upload (William P. Davis)
> 
> 
> ----------------------------------------------------------------------
> 
> Message: 1
> Date: Sat, 8 Jan 2011 23:19:10 +0000
> From: "William P. Davis" <will.davis at gmail.com>
> Subject: Re: [wp-hackers] Hooks on image upload
> To: wp-hackers at lists.automattic.com
> Message-ID:
>    <1650673642-1294528751-cardhu_decombobulator_blackberry.rim.net-1373516026- at bda597.bisx.prod.on.blackberry>
>    
> Content-Type: text/plain; charset="Windows-1252"
> 
> Thanks Iain!
> Sent from my BlackBerry? wireless device
> 
> -----Original Message-----
> From: Iain Cambridge <wackiebackie at gmail.com>
> Sender: wp-hackers-bounces at lists.automattic.com
> Date: Sat, 8 Jan 2011 23:17:21 
> To: <wp-hackers at lists.automattic.com>
> Reply-To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Hooks on image upload
> 
> I use the "wp_generate_attachment_metadata" filter to handle media uploads.
> 
> Iain
> 
> On Sat, Jan 8, 2011 at 10:55 PM, William P. Davis <will.davis at gmail.com> wrote:
>> I'm creating a little plugin that automatically changes the author
>> field of an image on upload based on the image's metadata, but I can't
>> seem to find a filter or action to hook into. This is actually going
>> to be used with Scott Bressler's Media Credit plugin ? right now the
>> person who uploads the image is automatically set as the author. I've
>> got a function all set to change the author based on the exif data,
>> but, as I said, there doesn't seem to be any actions I can hook into
>> to run the function.
>> 
>> Will
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> ------------------------------
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> End of wp-hackers Digest, Vol 72, Issue 18
> ******************************************

From wackiebackie at gmail.com  Sun Jan  9 15:32:25 2011
From: wackiebackie at gmail.com (Iain Cambridge)
Date: Sun, 9 Jan 2011 15:32:25 +0000
Subject: [wp-hackers] Hooks on image upload
In-Reply-To: <29ECCD33-7305-44E6-90E6-C0A3B5418355@gmail.com>
References: <mailman.9.1294574402.19013.wp-hackers@lists.automattic.com>
	<29ECCD33-7305-44E6-90E6-C0A3B5418355@gmail.com>
Message-ID: <AANLkTinN-RTT2mYWUOhj3Vq0ozwo1VB4hx5a6mY6ygjt@mail.gmail.com>

Hey,
       To change the sizes of the crop thumbnails? I believe that can
be done using "intermediate_image_sizes_advanced" filter.

Iain

On Sun, Jan 9, 2011 at 2:13 PM, Mike Plant <msplant at gmail.com> wrote:
> Hello all,
>
> I have recently joined the list and have been quietly listening. This message is exactly what I joined he list for. Recently while building a plugin I need to crop thumbnails from the top left instead of centering as the core does now. I could not find any way to change this without changing the Wordpress include.
>
> What are the thoughts on adding a hook to the crop function in media to allow a programmer to change the crop parameters?
>
> Sent from my iPod
>
> On Jan 9, 2011, at 7:00 AM, wp-hackers-request at lists.automattic.com wrote:
>
>> Send wp-hackers mailing list submissions to
>> ? ?wp-hackers at lists.automattic.com
>>
>> To subscribe or unsubscribe via the World Wide Web, visit
>> ? ?http://lists.automattic.com/mailman/listinfo/wp-hackers
>> or, via email, send a message with subject or body 'help' to
>> ? ?wp-hackers-request at lists.automattic.com
>>
>> You can reach the person managing the list at
>> ? ?wp-hackers-owner at lists.automattic.com
>>
>> When replying, please edit your Subject line so it is more specific
>> than "Re: Contents of wp-hackers digest..."
>>
>>
>> Today's Topics:
>>
>> ? 1. Re: Hooks on image upload (William P. Davis)
>>
>>
>> ----------------------------------------------------------------------
>>
>> Message: 1
>> Date: Sat, 8 Jan 2011 23:19:10 +0000
>> From: "William P. Davis" <will.davis at gmail.com>
>> Subject: Re: [wp-hackers] Hooks on image upload
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>> ? ?<1650673642-1294528751-cardhu_decombobulator_blackberry.rim.net-1373516026- at bda597.bisx.prod.on.blackberry>
>>
>> Content-Type: text/plain; charset="Windows-1252"
>>
>> Thanks Iain!
>> Sent from my BlackBerry? wireless device
>>
>> -----Original Message-----
>> From: Iain Cambridge <wackiebackie at gmail.com>
>> Sender: wp-hackers-bounces at lists.automattic.com
>> Date: Sat, 8 Jan 2011 23:17:21
>> To: <wp-hackers at lists.automattic.com>
>> Reply-To: wp-hackers at lists.automattic.com
>> Subject: Re: [wp-hackers] Hooks on image upload
>>
>> I use the "wp_generate_attachment_metadata" filter to handle media uploads.
>>
>> Iain
>>
>> On Sat, Jan 8, 2011 at 10:55 PM, William P. Davis <will.davis at gmail.com> wrote:
>>> I'm creating a little plugin that automatically changes the author
>>> field of an image on upload based on the image's metadata, but I can't
>>> seem to find a filter or action to hook into. This is actually going
>>> to be used with Scott Bressler's Media Credit plugin ? right now the
>>> person who uploads the image is automatically set as the author. I've
>>> got a function all set to change the author based on the exif data,
>>> but, as I said, there doesn't seem to be any actions I can hook into
>>> to run the function.
>>>
>>> Will
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> ------------------------------
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>> End of wp-hackers Digest, Vol 72, Issue 18
>> ******************************************
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jfontainhas at gmail.com  Mon Jan 10 08:28:27 2011
From: jfontainhas at gmail.com (=?ISO-8859-1?Q?Jos=E9_Fontainhas?=)
Date: Mon, 10 Jan 2011 08:28:27 +0000
Subject: [wp-hackers] Looking for best practices in how to deal with
 translations as a plugin developer
In-Reply-To: <4D2862E9.1020700@gmail.com>
References: <4D2862E9.1020700@gmail.com>
Message-ID: <AANLkTimKHw92z=UZWp0=aCwOEGMqBVnJfVJoEgCf-vu7@mail.gmail.com>

Hi,

Every new version of the plugin needs a new .pot (as line numbers for
strings change between versions). The usual (but not mandatory)
practice is to create a lang folder for your plugin which contains the
.pot file, so that translators can create their languages' .po and .mo
files there, and send them to you, if you want to distribute them
along with the plugin.

Creating a .pot file is not a big hassle and takes a few seconds.

Z?



On 8 January 2011 13:13, Bjorn Wijers <burobjorn at gmail.com> wrote:
> Hi,
>
> I've created a few plugins and I've made translations for them. Now I need
> to update some plugins and I wonder what the best practices are for dealing
> with multiple versions and translations. E.g. do you always need to generate
> a new pot file from scratch? Or are there better ways of dealing with this?
> I'm looking for any hints, tips and methods from fellow plugin developers
> dealing with this.
>
> Thanks in advance!
>
> --
>
> met vriendelijke groet,
> Bjorn Wijers
>
> * b u r o b j o r n .nl *
> digitaal vakmanschap | digital craftsmanship
>
> Werkdagen:
> Van maandag t/m donderdag vanaf 10:00
> Vrijdag is voor experimenteren en eigen projecten.
>
> Concordiastraat 68-126
> 3551 EM Utrecht
> The Netherlands
>
> tel: +31 6 49 74 78 70
> http://www.burobjorn.nl
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From frank at bueltge.de  Mon Jan 10 09:59:33 2011
From: frank at bueltge.de (Frank Bueltge)
Date: Mon, 10 Jan 2011 10:59:33 +0100
Subject: [wp-hackers] Looking for best practices in how to deal with
 translations as a plugin developer
In-Reply-To: <AANLkTimKHw92z=UZWp0=aCwOEGMqBVnJfVJoEgCf-vu7@mail.gmail.com>
References: <4D2862E9.1020700@gmail.com>
	<AANLkTimKHw92z=UZWp0=aCwOEGMqBVnJfVJoEgCf-vu7@mail.gmail.com>
Message-ID: <AANLkTimEoYKy1h+DF4f0UTFVKsHrEjQD=8BsCNpD7O+v@mail.gmail.com>

use the plugin Localization and to create .mo, .po and .pot is veary esay
and fast. Also you become informations about bad strings etc. in your
plugin.
http://wordpress.org/extend/plugins/codestyling-localization/


2011/1/10 Jos? Fontainhas <jfontainhas at gmail.com>

> Hi,
>
> Every new version of the plugin needs a new .pot (as line numbers for
> strings change between versions). The usual (but not mandatory)
> practice is to create a lang folder for your plugin which contains the
> .pot file, so that translators can create their languages' .po and .mo
> files there, and send them to you, if you want to distribute them
> along with the plugin.
>
> Creating a .pot file is not a big hassle and takes a few seconds.
>
> Z?
>
>
>
> On 8 January 2011 13:13, Bjorn Wijers <burobjorn at gmail.com> wrote:
> > Hi,
> >
> > I've created a few plugins and I've made translations for them. Now I
> need
> > to update some plugins and I wonder what the best practices are for
> dealing
> > with multiple versions and translations. E.g. do you always need to
> generate
> > a new pot file from scratch? Or are there better ways of dealing with
> this?
> > I'm looking for any hints, tips and methods from fellow plugin developers
> > dealing with this.
> >
> > Thanks in advance!
> >
> > --
> >
> > met vriendelijke groet,
> > Bjorn Wijers
> >
> > * b u r o b j o r n .nl *
> > digitaal vakmanschap | digital craftsmanship
> >
> > Werkdagen:
> > Van maandag t/m donderdag vanaf 10:00
> > Vrijdag is voor experimenteren en eigen projecten.
> >
> > Concordiastraat 68-126
> > 3551 EM Utrecht
> > The Netherlands
> >
> > tel: +31 6 49 74 78 70
> > http://www.burobjorn.nl
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jfontainhas at gmail.com  Mon Jan 10 11:01:27 2011
From: jfontainhas at gmail.com (=?ISO-8859-1?Q?Jos=E9_Fontainhas?=)
Date: Mon, 10 Jan 2011 11:01:27 +0000
Subject: [wp-hackers] Looking for best practices in how to deal with
 translations as a plugin developer
In-Reply-To: <AANLkTimEoYKy1h+DF4f0UTFVKsHrEjQD=8BsCNpD7O+v@mail.gmail.com>
References: <4D2862E9.1020700@gmail.com>
	<AANLkTimKHw92z=UZWp0=aCwOEGMqBVnJfVJoEgCf-vu7@mail.gmail.com>
	<AANLkTimEoYKy1h+DF4f0UTFVKsHrEjQD=8BsCNpD7O+v@mail.gmail.com>
Message-ID: <AANLkTinbpN3GP4if-gxc0KSPe2HDPZsvrUyYQHBuRz6c@mail.gmail.com>

Translators hang out here, if you want/need more feedback:

http://wppolyglots.wordpress.com/

- Z

On 10 January 2011 09:59, Frank Bueltge <frank at bueltge.de> wrote:
> use the plugin Localization and to create .mo, .po and .pot is veary esay
> and fast. Also you become informations about bad strings etc. in your
> plugin.
> http://wordpress.org/extend/plugins/codestyling-localization/
>
>
> 2011/1/10 Jos? Fontainhas <jfontainhas at gmail.com>
>
>> Hi,
>>
>> Every new version of the plugin needs a new .pot (as line numbers for
>> strings change between versions). The usual (but not mandatory)
>> practice is to create a lang folder for your plugin which contains the
>> .pot file, so that translators can create their languages' .po and .mo
>> files there, and send them to you, if you want to distribute them
>> along with the plugin.
>>
>> Creating a .pot file is not a big hassle and takes a few seconds.
>>
>> Z?
>>
>>
>>
>> On 8 January 2011 13:13, Bjorn Wijers <burobjorn at gmail.com> wrote:
>> > Hi,
>> >
>> > I've created a few plugins and I've made translations for them. Now I
>> need
>> > to update some plugins and I wonder what the best practices are for
>> dealing
>> > with multiple versions and translations. E.g. do you always need to
>> generate
>> > a new pot file from scratch? Or are there better ways of dealing with
>> this?
>> > I'm looking for any hints, tips and methods from fellow plugin developers
>> > dealing with this.
>> >
>> > Thanks in advance!
>> >
>> > --
>> >
>> > met vriendelijke groet,
>> > Bjorn Wijers
>> >
>> > * b u r o b j o r n .nl *
>> > digitaal vakmanschap | digital craftsmanship
>> >
>> > Werkdagen:
>> > Van maandag t/m donderdag vanaf 10:00
>> > Vrijdag is voor experimenteren en eigen projecten.
>> >
>> > Concordiastraat 68-126
>> > 3551 EM Utrecht
>> > The Netherlands
>> >
>> > tel: +31 6 49 74 78 70
>> > http://www.burobjorn.nl
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rulyua at gmail.com  Mon Jan 10 13:39:12 2011
From: rulyua at gmail.com (rulyua .)
Date: Mon, 10 Jan 2011 15:39:12 +0200
Subject: [wp-hackers] send wordpress patch - no email?
Message-ID: <AANLkTimAc2TZUguRsJr7D9S2mEc2O5GrpZhKiKHCt88k@mail.gmail.com>

i've created patch for wp as described here
http://wordpress.org/download/svn/ , but which email should i use to
send my patch?

From peter.westwood at ftwr.co.uk  Mon Jan 10 14:15:13 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon, 10 Jan 2011 09:15:13 -0500
Subject: [wp-hackers] send wordpress patch - no email?
In-Reply-To: <AANLkTimAc2TZUguRsJr7D9S2mEc2O5GrpZhKiKHCt88k@mail.gmail.com>
References: <AANLkTimAc2TZUguRsJr7D9S2mEc2O5GrpZhKiKHCt88k@mail.gmail.com>
Message-ID: <963F9269-4F04-4DFA-B063-8C55371EB6A0@ftwr.co.uk>


On 10 Jan 2011, at 08:39, rulyua . wrote:

> i've created patch for wp as described here
> http://wordpress.org/download/svn/ , but which email should i use to
> send my patch?

You shouldn't email it.

You should search for a ticket in trac : http://core.trac.wordpress.org

If you can't find one open a new one

And the attach the patch there.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From hempsworth at gmail.com  Mon Jan 10 14:30:04 2011
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Mon, 10 Jan 2011 14:30:04 +0000
Subject: [wp-hackers] Looking for best practices in how to deal with
 translations as a plugin developer
In-Reply-To: <4D2862E9.1020700@gmail.com>
References: <4D2862E9.1020700@gmail.com>
Message-ID: <AANLkTimAeri1=eU3RjREfAQYFCAESs=Mp_r-YrPvWeR0@mail.gmail.com>

I've just installed GlotPress on my plugin site for BuddyPress Like, and
it's really easy to get used to, and allows all the translations to happen
centrally. However, I would like some advice with projects...

Should I have a subproject for Trunk, and then a subproject for each
subsequent version that is released?

-- Alex


On Sat, Jan 8, 2011 at 1:13 PM, Bjorn Wijers <burobjorn at gmail.com> wrote:

> Hi,
>
> I've created a few plugins and I've made translations for them. Now I need
> to update some plugins and I wonder what the best practices are for dealing
> with multiple versions and translations. E.g. do you always need to generate
> a new pot file from scratch? Or are there better ways of dealing with this?
> I'm looking for any hints, tips and methods from fellow plugin developers
> dealing with this.
>
> Thanks in advance!
>
> --
>
> met vriendelijke groet,
> Bjorn Wijers
>
> * b u r o b j o r n .nl *
> digitaal vakmanschap | digital craftsmanship
>
> Werkdagen:
> Van maandag t/m donderdag vanaf 10:00
> Vrijdag is voor experimenteren en eigen projecten.
>
> Concordiastraat 68-126
> 3551 EM Utrecht
> The Netherlands
>
> tel: +31 6 49 74 78 70
> http://www.burobjorn.nl
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rulyua at gmail.com  Mon Jan 10 17:39:56 2011
From: rulyua at gmail.com (rulyua .)
Date: Mon, 10 Jan 2011 19:39:56 +0200
Subject: [wp-hackers] send wordpress patch - no email?
In-Reply-To: <963F9269-4F04-4DFA-B063-8C55371EB6A0@ftwr.co.uk>
References: <AANLkTimAc2TZUguRsJr7D9S2mEc2O5GrpZhKiKHCt88k@mail.gmail.com>
	<963F9269-4F04-4DFA-B063-8C55371EB6A0@ftwr.co.uk>
Message-ID: <AANLkTinLKp5kLtbCf7LnBjLdgst0hM9Ue38HwPbcXHAm@mail.gmail.com>

thanks a lot :)

2011/1/10, Peter Westwood <peter.westwood at ftwr.co.uk>:
>
> On 10 Jan 2011, at 08:39, rulyua . wrote:
>
>> i've created patch for wp as described here
>> http://wordpress.org/download/svn/ , but which email should i use to
>> send my patch?
>
> You shouldn't email it.
>
> You should search for a ticket in trac : http://core.trac.wordpress.org
>
> If you can't find one open a new one
>
> And the attach the patch there.
>
> Cheers
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jfontainhas at gmail.com  Mon Jan 10 18:11:04 2011
From: jfontainhas at gmail.com (=?ISO-8859-1?Q?Jos=E9_Fontainhas?=)
Date: Mon, 10 Jan 2011 18:11:04 +0000
Subject: [wp-hackers] Looking for best practices in how to deal with
 translations as a plugin developer
In-Reply-To: <AANLkTimAeri1=eU3RjREfAQYFCAESs=Mp_r-YrPvWeR0@mail.gmail.com>
References: <4D2862E9.1020700@gmail.com>
	<AANLkTimAeri1=eU3RjREfAQYFCAESs=Mp_r-YrPvWeR0@mail.gmail.com>
Message-ID: <AANLkTikdcYJK9ptSaCDSSReBTqfPXVSbKuW4ELaNLb6i@mail.gmail.com>

I'd say so, that's the way it's implemented for WordPress.org, see:

http://translate.wordpress.org/projects/wp

-Z

On 10 January 2011 14:30, Alex Hempton-Smith <hempsworth at gmail.com> wrote:
> I've just installed GlotPress on my plugin site for BuddyPress Like, and
> it's really easy to get used to, and allows all the translations to happen
> centrally. However, I would like some advice with projects...
>
> Should I have a subproject for Trunk, and then a subproject for each
> subsequent version that is released?
>
> -- Alex
>
>
> On Sat, Jan 8, 2011 at 1:13 PM, Bjorn Wijers <burobjorn at gmail.com> wrote:
>
>> Hi,
>>
>> I've created a few plugins and I've made translations for them. Now I need
>> to update some plugins and I wonder what the best practices are for dealing
>> with multiple versions and translations. E.g. do you always need to generate
>> a new pot file from scratch? Or are there better ways of dealing with this?
>> I'm looking for any hints, tips and methods from fellow plugin developers
>> dealing with this.
>>
>> Thanks in advance!
>>
>> --
>>
>> met vriendelijke groet,
>> Bjorn Wijers
>>
>> * b u r o b j o r n .nl *
>> digitaal vakmanschap | digital craftsmanship
>>
>> Werkdagen:
>> Van maandag t/m donderdag vanaf 10:00
>> Vrijdag is voor experimenteren en eigen projecten.
>>
>> Concordiastraat 68-126
>> 3551 EM Utrecht
>> The Netherlands
>>
>> tel: +31 6 49 74 78 70
>> http://www.burobjorn.nl
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rbilesky at gmail.com  Mon Jan 10 18:17:39 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Mon, 10 Jan 2011 10:17:39 -0800
Subject: [wp-hackers] bloginfo('template_directory');
 returns parent theme's directory, is this intended?
Message-ID: <AANLkTi=uZXrRcVfnBh9=i6BXFrGv+8C1xwLLc9nANrB8@mail.gmail.com>

I am wanting to make several tweaks to a theme for my use, and I've chose to
do so by making a child theme to be upgrade safe.  However I noticed that I
changed some colors around on my child themes css but I was not seeing the
change.  So I viewed source of my site and saw that it was using the parent
theme's css file.  In the header.php this was the code:

<link rel="stylesheet" type="text/css" href="<?php
bloginfo('template_directory'); ?>/style.css" />
I fixed this by adding a modified version of header.php in my child themes
directory that has the css url hard coded.  So my question is this, is
bloginfo('template_directory'); supposed to return the parent theme or child
theme directory when called?

From philip at frumph.net  Mon Jan 10 18:20:16 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Mon, 10 Jan 2011 10:20:16 -0800
Subject: [wp-hackers] bloginfo('template_directory');
	returns parent theme's directory, is this intended?
In-Reply-To: <AANLkTi=uZXrRcVfnBh9=i6BXFrGv+8C1xwLLc9nANrB8@mail.gmail.com>
References: <AANLkTi=uZXrRcVfnBh9=i6BXFrGv+8C1xwLLc9nANrB8@mail.gmail.com>
Message-ID: <B79F739EB76A46A7981D79BC92EE16A4@frumph.net>

don't use it
use this:

get_template_directory(_uri)()  i.e. get_template_directory() and 
get_template_directory_uri()  -- main parent theme only

get_stylesheet_directory(_uri)() i.e. get_stylesheet_directory() and 
get_stylesheet_directory_uri() -- child theme (*if*) child theme exists, 
else go to parent theme.



----- Original Message ----- 
From: "Ryan Bilesky" <rbilesky at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, January 10, 2011 10:17 AM
Subject: [wp-hackers] bloginfo('template_directory'); returns parent theme's 
directory, is this intended?


>I am wanting to make several tweaks to a theme for my use, and I've chose 
>to
> do so by making a child theme to be upgrade safe.  However I noticed that 
> I
> changed some colors around on my child themes css but I was not seeing the
> change.  So I viewed source of my site and saw that it was using the 
> parent
> theme's css file.  In the header.php this was the code:
>
> <link rel="stylesheet" type="text/css" href="<?php
> bloginfo('template_directory'); ?>/style.css" />
> I fixed this by adding a modified version of header.php in my child themes
> directory that has the css url hard coded.  So my question is this, is
> bloginfo('template_directory'); supposed to return the parent theme or 
> child
> theme directory when called?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From will.davis at gmail.com  Mon Jan 10 18:20:23 2011
From: will.davis at gmail.com (William P. Davis)
Date: Mon, 10 Jan 2011 18:20:23 +0000
Subject: [wp-hackers] bloginfo('template_directory');
	returns parent theme's directory, is this intended?
In-Reply-To: <AANLkTi=uZXrRcVfnBh9=i6BXFrGv+8C1xwLLc9nANrB8@mail.gmail.com>
References: <AANLkTi=uZXrRcVfnBh9=i6BXFrGv+8C1xwLLc9nANrB8@mail.gmail.com>
Message-ID: <1737171024-1294683625-cardhu_decombobulator_blackberry.rim.net-542228574-@bda597.bisx.prod.on.blackberry>

Yes, this is intentional. Bloginfo('stylesheet_directory') returns the child theme's directory. 

Will
Sent from my BlackBerry? wireless device

-----Original Message-----
From: Ryan Bilesky <rbilesky at gmail.com>
Sender: wp-hackers-bounces at lists.automattic.com
Date: Mon, 10 Jan 2011 10:17:39 
To: <wp-hackers at lists.automattic.com>
Reply-To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] bloginfo('template_directory');
 returns parent theme's directory, is this intended?

I am wanting to make several tweaks to a theme for my use, and I've chose to
do so by making a child theme to be upgrade safe.  However I noticed that I
changed some colors around on my child themes css but I was not seeing the
change.  So I viewed source of my site and saw that it was using the parent
theme's css file.  In the header.php this was the code:

<link rel="stylesheet" type="text/css" href="<?php
bloginfo('template_directory'); ?>/style.css" />
I fixed this by adding a modified version of header.php in my child themes
directory that has the css url hard coded.  So my question is this, is
bloginfo('template_directory'); supposed to return the parent theme or child
theme directory when called?
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From philip at frumph.net  Mon Jan 10 18:21:36 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Mon, 10 Jan 2011 10:21:36 -0800
Subject: [wp-hackers] bloginfo('template_directory');
	returns parent theme's directory, is this intended?
In-Reply-To: <AANLkTi=uZXrRcVfnBh9=i6BXFrGv+8C1xwLLc9nANrB8@mail.gmail.com>
References: <AANLkTi=uZXrRcVfnBh9=i6BXFrGv+8C1xwLLc9nANrB8@mail.gmail.com>
Message-ID: <DDEAFD1939A0402D975343AC8C878CCB@frumph.net>

erm. I mean "you should use this instead"

heh sorry ;) didn't mean to sound so straight forward with that sentence


----- Original Message ----- 
From: "Ryan Bilesky" <rbilesky at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, January 10, 2011 10:17 AM
Subject: [wp-hackers] bloginfo('template_directory'); returns parent theme's 
directory, is this intended?


>I am wanting to make several tweaks to a theme for my use, and I've chose 
>to
> do so by making a child theme to be upgrade safe.  However I noticed that 
> I
> changed some colors around on my child themes css but I was not seeing the
> change.  So I viewed source of my site and saw that it was using the 
> parent
> theme's css file.  In the header.php this was the code:
>
> <link rel="stylesheet" type="text/css" href="<?php
> bloginfo('template_directory'); ?>/style.css" />
> I fixed this by adding a modified version of header.php in my child themes
> directory that has the css url hard coded.  So my question is this, is
> bloginfo('template_directory'); supposed to return the parent theme or 
> child
> theme directory when called?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From peter.westwood at ftwr.co.uk  Mon Jan 10 18:22:47 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon, 10 Jan 2011 13:22:47 -0500
Subject: [wp-hackers] bloginfo('template_directory');
	returns parent theme's directory, is this intended?
In-Reply-To: <AANLkTi=uZXrRcVfnBh9=i6BXFrGv+8C1xwLLc9nANrB8@mail.gmail.com>
References: <AANLkTi=uZXrRcVfnBh9=i6BXFrGv+8C1xwLLc9nANrB8@mail.gmail.com>
Message-ID: <1F0BA30D-E95C-433F-9A8C-BAA4ACAAFD73@ftwr.co.uk>


On 10 Jan 2011, at 13:17, Ryan Bilesky wrote:

> I am wanting to make several tweaks to a theme for my use, and I've chose to
> do so by making a child theme to be upgrade safe.  However I noticed that I
> changed some colors around on my child themes css but I was not seeing the
> change.  So I viewed source of my site and saw that it was using the parent
> theme's css file.  In the header.php this was the code:
> 
> <link rel="stylesheet" type="text/css" href="<?php
> bloginfo('template_directory'); ?>/style.css" />
> I fixed this by adding a modified version of header.php in my child themes
> directory that has the css url hard coded.  So my question is this, is
> bloginfo('template_directory'); supposed to return the parent theme or child
> theme directory when called?
> 

This is working correctly.

The "Template" is the Parent Theme
The "Stylesheet" is the Child Theme

So for the child theme you want 'stylesheet_directory'

Ideally though you wouldn't be using bloginfo at all and rather:

get_stylesheet_directory_uri / get_template_directory_uri

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From rbilesky at gmail.com  Mon Jan 10 18:26:21 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Mon, 10 Jan 2011 10:26:21 -0800
Subject: [wp-hackers] bloginfo('template_directory');
 returns parent theme's directory, is this intended?
In-Reply-To: <1F0BA30D-E95C-433F-9A8C-BAA4ACAAFD73@ftwr.co.uk>
References: <AANLkTi=uZXrRcVfnBh9=i6BXFrGv+8C1xwLLc9nANrB8@mail.gmail.com>
	<1F0BA30D-E95C-433F-9A8C-BAA4ACAAFD73@ftwr.co.uk>
Message-ID: <AANLkTinopz7uDGBB8vej67VTj6iR91Ba1AeAa_gC00gi@mail.gmail.com>

ok just wanted to check.  I don't really have any control over how the
parent themes author did this, sort of modfying it in my own
header.php file.  I just wanted to make sure this wasn't a bug.

On Mon, Jan 10, 2011 at 10:22 AM, Peter Westwood
<peter.westwood at ftwr.co.uk>wrote:

>
> On 10 Jan 2011, at 13:17, Ryan Bilesky wrote:
>
> > I am wanting to make several tweaks to a theme for my use, and I've chose
> to
> > do so by making a child theme to be upgrade safe.  However I noticed that
> I
> > changed some colors around on my child themes css but I was not seeing
> the
> > change.  So I viewed source of my site and saw that it was using the
> parent
> > theme's css file.  In the header.php this was the code:
> >
> > <link rel="stylesheet" type="text/css" href="<?php
> > bloginfo('template_directory'); ?>/style.css" />
> > I fixed this by adding a modified version of header.php in my child
> themes
> > directory that has the css url hard coded.  So my question is this, is
> > bloginfo('template_directory'); supposed to return the parent theme or
> child
> > theme directory when called?
> >
>
> This is working correctly.
>
> The "Template" is the Parent Theme
> The "Stylesheet" is the Child Theme
>
> So for the child theme you want 'stylesheet_directory'
>
> Ideally though you wouldn't be using bloginfo at all and rather:
>
> get_stylesheet_directory_uri / get_template_directory_uri
>
> Cheers
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Mon Jan 10 22:32:04 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 10 Jan 2011 17:32:04 -0500
Subject: [wp-hackers] Stumped by WordPress' Admin Menus
Message-ID: <75EFF6FE-B4D4-49CA-8C6F-79C822AE4BE0@newclarity.net>

Hi all,

I'm really hoping one of you can help me solve this problem I am having with the Admin Menu system. Honestly if I didn't know better I'd think that a gremlin was living inside it and actively doing it's best to thwart my every move.

Although there are other issues I've had with the admin menu system (described here[1]) the problem I am having today is that the menu_page seems to inherit the first URL from the submenu_page and no matter what I try I can't get them decoupled. To illustrate the point I've created a very simple example:

add_action('admin_menu','my_admin_menu');
function my_admin_menu() {
	global $submenu;
	unset($submenu['edit.php'][5]);    // Remove 'Posts'
	unset($submenu['edit.php'][10]);   // Remove 'Add New'
	$submenu['edit.php'][15][0] = 'Post Categories';
	unset($submenu['edit.php'][16]);   // Remove 'Post Tags'
}

Here is a screenshot that illustrates the problem:

http://mikeschinkel.com/websnaps/skitched-20110110-165648.png

I was actually able to solve the problem with the following although it's extremely fragile and incredibly hackish; I'm really hoping someone can suggest a more robust alternative:

add_filter('parent_file','my_parent_file');
add_action('adminmenu','my_adminmenu');
function my_parent_file($parent_file) {
	ob_start();
	return $parent_file;
}
function my_adminmenu() {
	$menu = ob_get_clean();
	$parts = explode('edit-tags.php?taxonomy=category',$menu);
	$end = array_pop($parts);
	$menu = implode('edit.php',$parts) . 'edit-tags.php?taxonomy=category' . $end;
	echo $menu;
}

Looking forward to being told I'm a sod and that there is a much easier way to solve this problem.  Thanks in advance.

-Mike

[1] http://andrewnacin.com/2010/12/20/better-admin-menu-controls-custom-post-types-wordpress-3-1/#comment-6377

P.S. Also, here are two track tickets I added the other day that could potentially address the problem with two different angles if there is no solution:

http://core.trac.wordpress.org/ticket/16048
http://core.trac.wordpress.org/ticket/16050



From sergeybiryukov.ru at gmail.com  Tue Jan 11 10:16:25 2011
From: sergeybiryukov.ru at gmail.com (Sergey Biryukov)
Date: Tue, 11 Jan 2011 13:16:25 +0300
Subject: [wp-hackers] Stumped by WordPress' Admin Menus
In-Reply-To: <75EFF6FE-B4D4-49CA-8C6F-79C822AE4BE0@newclarity.net>
References: <75EFF6FE-B4D4-49CA-8C6F-79C822AE4BE0@newclarity.net>
Message-ID: <AANLkTimErSfNkdm_3NtYYN8zHtfTpNsW5MeF7NH8qSBz@mail.gmail.com>

On Tue, Jan 11, 2011 at 1:32 AM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> Although there are other issues I've had with the admin menu system (described here[1]) the problem I am having today is that the menu_page seems to inherit the first URL from the submenu_page and no matter what I try I can't get them decoupled. To illustrate the point I've created a very simple example:
>
> add_action('admin_menu','my_admin_menu');
> function my_admin_menu() {
> ? ? ? ?global $submenu;
> ? ? ? ?unset($submenu['edit.php'][5]); ? ?// Remove 'Posts'
> ? ? ? ?unset($submenu['edit.php'][10]); ? // Remove 'Add New'
> ? ? ? ?$submenu['edit.php'][15][0] = 'Post Categories';
> ? ? ? ?unset($submenu['edit.php'][16]); ? // Remove 'Post Tags'
> }

Since $submenu_as_parent lacks a filter which could help here, the
only other option I can think of is to leave the "Posts" item in the
array and then hide it via CSS. Still not very elegant.

From mikeschinkel at newclarity.net  Tue Jan 11 16:32:32 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 11 Jan 2011 11:32:32 -0500
Subject: [wp-hackers] Stumped by WordPress' Admin Menus
In-Reply-To: <AANLkTimErSfNkdm_3NtYYN8zHtfTpNsW5MeF7NH8qSBz@mail.gmail.com>
References: <75EFF6FE-B4D4-49CA-8C6F-79C822AE4BE0@newclarity.net>
	<AANLkTimErSfNkdm_3NtYYN8zHtfTpNsW5MeF7NH8qSBz@mail.gmail.com>
Message-ID: <B42444EB-8033-4446-8B76-987F7DB8D791@newclarity.net>

On Jan 11, 2011, at 5:16 AM, Sergey Biryukov wrote:
> On Tue, Jan 11, 2011 at 1:32 AM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
>> Although there are other issues I've had with the admin menu system (described here[1]) the problem I am having today is that the menu_page seems to inherit the first URL from the submenu_page and no matter what I try I can't get them decoupled. To illustrate the point I've created a very simple example:
>> 
>> add_action('admin_menu','my_admin_menu');
>> function my_admin_menu() {
>>        global $submenu;
>>        unset($submenu['edit.php'][5]);    // Remove 'Posts'
>>        unset($submenu['edit.php'][10]);   // Remove 'Add New'
>>        $submenu['edit.php'][15][0] = 'Post Categories';
>>        unset($submenu['edit.php'][16]);   // Remove 'Post Tags'
>> }
> 
> Since $submenu_as_parent lacks a filter which could help here, the
> only other option I can think of is to leave the "Posts" item in the
> array and then hide it via CSS. Still not very elegant.

Agreed, not very elegant.  But thanks for looking at it to see if you could come up with something for me.

-Mike


From chip at chipbennett.net  Tue Jan 11 17:05:59 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Tue, 11 Jan 2011 11:05:59 -0600
Subject: [wp-hackers] Post Formats: Conventions/Standards for
	Content/Layout/Style
Message-ID: <AANLkTimnECPMPfQOgwzs6ZRNP5-cq5qF8t=-Hddu36PC@mail.gmail.com>

What conventions/standards exist, or are people beginning to assume, with
respect to each of the Post Format types? The Codex sheds some, albeit
little, light on the
matter<http://codex.wordpress.org/Post_Formats#Supported_Formats>
:


   - *aside* - Typically styled without a title. Similar to a Facebook note
   update.
   - *gallery* - A gallery of images. Post will likely contain a gallery
   shortcode and will have image attachments.
   - *link* - A link to another site. Themes may wish to use the first <a
   href=??> tag in the post content as the external link for that post. An
   alternative approach could be if the post consists only of a URL, then that
   will be the URL and the title (post_title) will be the name attached to the
   anchor for it.
   - *image* - A single image. The first <img /> tag in the post could be
   considered the image. Alternatively, if the post consists only of a URL,
   that will be the image URL and the title of the post (post_title) will be
   the title attribute for the image.
   - *quote* - A quotation. Probably will contain a blockquote holding the
   quote content. Alternatively, the quote may be just the content, with the
   source/author being the title.
   - *status* - A short status update, similar to a Twitter status update.
   - *video* - A single video. The first <video /> tag or object/embed in
   the post content could be considered the video. Alternatively, if the post
   consists only of a URL, that will be the video URL. May also contain the
   video as an attachment to the post, if video support is enabled on the blog
   (like via a plugin).
   - *audio* - An audio file. Could be used for Podcasting.
   - *chat* - A chat transcript, like so:

John: foo
Mary: bar
John: foo 2


To my reading, there are more questions than there are answers in that
information.

For Gallery, Link, Image, Video, and Audio: will these types be expected to
have *only* the specified content, and no other content?

Aside: to me, a "Facebook note update" is equivalent to a blog post.
(Perhaps that's merely due to the way that I use Facebook notes?) I think of
an "aside" more of a "pullquote" or longer-than-microblog (i.e. "status")
comment or thought. Nevertheless, we have one bit of useful information
regarding convention: no Title.

Chat: this one baffles me. A chat is going to require some specific markup
other than the post-format designation (e.g. a table, or specific CSS
classes applied to specific parts of the content), which somewhat precludes
the need for a Post Format type. Regardless: are there any conventions for
the underlying markup/format for chats?

Which Post Format types will be expected not to have titles? Just Aside and
Status?

What other layout and/or style conventions, if any, are people applying to
each of the Post Format types?

Chip

From mikeschinkel at newclarity.net  Tue Jan 11 17:12:19 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 11 Jan 2011 12:12:19 -0500
Subject: [wp-hackers] Single Category Store across Sites on Multisite?
Message-ID: <D20CC7A9-F04C-44B6-ACBE-746E6998907D@newclarity.net>

This question got me thinking about if it is possible (practical?) to have a single category store across sites on multisite?  

http://wordpress.stackexchange.com/questions/6722/can-you-have-a-single-set-of-canonical-categories-shared-by-all-blogs

The more I think of it the more it seems like it just wouldn't be viable.  Anyone have alternate experience?

-Mike

From wordpress at dd32.id.au  Tue Jan 11 17:17:06 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Tue, 11 Jan 2011 12:17:06 -0500
Subject: [wp-hackers] Single Category Store across Sites on Multisite?
In-Reply-To: <D20CC7A9-F04C-44B6-ACBE-746E6998907D@newclarity.net>
References: <D20CC7A9-F04C-44B6-ACBE-746E6998907D@newclarity.net>
Message-ID: <AANLkTikLgYV4Bv6m26E0G0WJdhPBLDjjcO3L9y8j0Hom@mail.gmail.com>

"Global Terms" existed within WordPress MU, which basically did what you're
suggesting..
As of WordPress 3.0, it's disabled by default, but can be enabled.. It's not
the best for performance reasons however.
See http://wordpress.org/extend/plugins/wordpress-mu-sitewide-tags/ as an
example of a MU plugin which enables it

D

On 11 January 2011 12:12, Mike Schinkel <mikeschinkel at newclarity.net> wrote:

> This question got me thinking about if it is possible (practical?) to have
> a single category store across sites on multisite?
>
>
> http://wordpress.stackexchange.com/questions/6722/can-you-have-a-single-set-of-canonical-categories-shared-by-all-blogs
>
> The more I think of it the more it seems like it just wouldn't be viable.
>  Anyone have alternate experience?
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at dd32.id.au  Tue Jan 11 17:22:55 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Tue, 11 Jan 2011 12:22:55 -0500
Subject: [wp-hackers] Post Formats: Conventions/Standards for
	Content/Layout/Style
In-Reply-To: <AANLkTimnECPMPfQOgwzs6ZRNP5-cq5qF8t=-Hddu36PC@mail.gmail.com>
References: <AANLkTimnECPMPfQOgwzs6ZRNP5-cq5qF8t=-Hddu36PC@mail.gmail.com>
Message-ID: <AANLkTikd4xL=SfGwgami+dsLma1gCribwM-2C3_zK_vQ@mail.gmail.com>

For the aside, I would expect it to be a short post without a title, ie. not
a status ("I'm doing such and such") but rather a quick post ("Went to
restauraunt xx and found their food to be wonderful, blahblahblahblah, and
ends up being about a paragraph long")

I would expect asides, status, and link to probably not have a title, whilst
a chat and quote *might* have a title, the rest having titles.

I'm looking at it from the perspective of "What needs to be titled? My
status update titles itself, A gallery needs a description, and a gallery
name, A chat conversation probably needs metadata, such as when it took
place and where, which basically makes a title.."
You might like to look at existing themes which do asides, for example, how
twentyten and Matt use it: http://ma.tt/


On 11 January 2011 12:05, Chip Bennett <chip at chipbennett.net> wrote:

> What conventions/standards exist, or are people beginning to assume, with
> respect to each of the Post Format types? The Codex sheds some, albeit
> little, light on the
> matter<http://codex.wordpress.org/Post_Formats#Supported_Formats>
> :
>
>
>   - *aside* - Typically styled without a title. Similar to a Facebook note
>   update.
>   - *gallery* - A gallery of images. Post will likely contain a gallery
>   shortcode and will have image attachments.
>   - *link* - A link to another site. Themes may wish to use the first <a
>   href=??> tag in the post content as the external link for that post. An
>   alternative approach could be if the post consists only of a URL, then
> that
>   will be the URL and the title (post_title) will be the name attached to
> the
>   anchor for it.
>   - *image* - A single image. The first <img /> tag in the post could be
>   considered the image. Alternatively, if the post consists only of a URL,
>   that will be the image URL and the title of the post (post_title) will be
>   the title attribute for the image.
>   - *quote* - A quotation. Probably will contain a blockquote holding the
>   quote content. Alternatively, the quote may be just the content, with the
>   source/author being the title.
>   - *status* - A short status update, similar to a Twitter status update.
>   - *video* - A single video. The first <video /> tag or object/embed in
>   the post content could be considered the video. Alternatively, if the
> post
>   consists only of a URL, that will be the video URL. May also contain the
>   video as an attachment to the post, if video support is enabled on the
> blog
>   (like via a plugin).
>   - *audio* - An audio file. Could be used for Podcasting.
>   - *chat* - A chat transcript, like so:
>
> John: foo
> Mary: bar
> John: foo 2
>
>
> To my reading, there are more questions than there are answers in that
> information.
>
> For Gallery, Link, Image, Video, and Audio: will these types be expected to
> have *only* the specified content, and no other content?
>
> Aside: to me, a "Facebook note update" is equivalent to a blog post.
> (Perhaps that's merely due to the way that I use Facebook notes?) I think
> of
> an "aside" more of a "pullquote" or longer-than-microblog (i.e. "status")
> comment or thought. Nevertheless, we have one bit of useful information
> regarding convention: no Title.
>
> Chat: this one baffles me. A chat is going to require some specific markup
> other than the post-format designation (e.g. a table, or specific CSS
> classes applied to specific parts of the content), which somewhat precludes
> the need for a Post Format type. Regardless: are there any conventions for
> the underlying markup/format for chats?
>
> Which Post Format types will be expected not to have titles? Just Aside and
> Status?
>
> What other layout and/or style conventions, if any, are people applying to
> each of the Post Format types?
>
> Chip
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dan at dansmart.co.uk  Tue Jan 11 17:29:54 2011
From: dan at dansmart.co.uk (Dan Smart)
Date: Tue, 11 Jan 2011 17:29:54 +0000
Subject: [wp-hackers] Single Category Store across Sites on Multisite?
In-Reply-To: <D20CC7A9-F04C-44B6-ACBE-746E6998907D@newclarity.net>
References: <D20CC7A9-F04C-44B6-ACBE-746E6998907D@newclarity.net>
Message-ID: <950C6857-3E5A-423D-B9CE-38D2F5E36B0F@dansmart.co.uk>

I have grappled with that issue precisely for a current project. I was informed that global terms was not properly implemented and was in effect deprecated.

I ended up implementing replication of categories across the sites on category save/delete, which would be a horribly slow operation with more than about 10 sites, but which was an acceptable compromise for this project.

MU Sitewide tags doesn't really address this issue, though people suggest it as an option. You have to use it's entire multiblog post thing too, whereas I was applying a category to a single-sited custom post type.

It seems like a good thing to have as part of core, I didn't want to go down the road of modifying core of course.

Dan Smart - Web Developer
www.dansmart.co.uk

On 11 Jan 2011, at 17:12, Mike Schinkel <mikeschinkel at newclarity.net> wrote:

> This question got me thinking about if it is possible (practical?) to have a single category store across sites on multisite?  
> 
> http://wordpress.stackexchange.com/questions/6722/can-you-have-a-single-set-of-canonical-categories-shared-by-all-blogs
> 
> The more I think of it the more it seems like it just wouldn't be viable.  Anyone have alternate experience?
> 
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at dd32.id.au  Tue Jan 11 17:33:46 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Tue, 11 Jan 2011 12:33:46 -0500
Subject: [wp-hackers] Single Category Store across Sites on Multisite?
In-Reply-To: <950C6857-3E5A-423D-B9CE-38D2F5E36B0F@dansmart.co.uk>
References: <D20CC7A9-F04C-44B6-ACBE-746E6998907D@newclarity.net>
	<950C6857-3E5A-423D-B9CE-38D2F5E36B0F@dansmart.co.uk>
Message-ID: <AANLkTincNyB8e+CHH5gCb+VUxNqGAJcAYTqw=dtH9sxi@mail.gmail.com>

The main problem with the global terms is that every blog has to have it's
own taxonomy tables, you can't just redirect all taxonomy tables to a
central one, as you end up with duplicate post ID's in the relational table.

You could possible set $wpdb->term_table to always point to a central
listing.. with each blog having their own taxonomy and relationship
tables..
But i'm mainly thinking out loud here, I'll leave it with "It's really not
the most ideal thing to want to do at the present time"

On 11 January 2011 12:29, Dan Smart <dan at dansmart.co.uk> wrote:

> I have grappled with that issue precisely for a current project. I was
> informed that global terms was not properly implemented and was in effect
> deprecated.
>
> I ended up implementing replication of categories across the sites on
> category save/delete, which would be a horribly slow operation with more
> than about 10 sites, but which was an acceptable compromise for this
> project.
>
> MU Sitewide tags doesn't really address this issue, though people suggest
> it as an option. You have to use it's entire multiblog post thing too,
> whereas I was applying a category to a single-sited custom post type.
>
> It seems like a good thing to have as part of core, I didn't want to go
> down the road of modifying core of course.
>
> Dan Smart - Web Developer
> www.dansmart.co.uk
>
> On 11 Jan 2011, at 17:12, Mike Schinkel <mikeschinkel at newclarity.net>
> wrote:
>
> > This question got me thinking about if it is possible (practical?) to
> have a single category store across sites on multisite?
> >
> >
> http://wordpress.stackexchange.com/questions/6722/can-you-have-a-single-set-of-canonical-categories-shared-by-all-blogs
> >
> > The more I think of it the more it seems like it just wouldn't be viable.
>  Anyone have alternate experience?
> >
> > -Mike
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Tue Jan 11 17:57:18 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 11 Jan 2011 12:57:18 -0500
Subject: [wp-hackers] Post Formats: Conventions/Standards for
	Content/Layout/Style
In-Reply-To: <AANLkTikd4xL=SfGwgami+dsLma1gCribwM-2C3_zK_vQ@mail.gmail.com>
References: <AANLkTimnECPMPfQOgwzs6ZRNP5-cq5qF8t=-Hddu36PC@mail.gmail.com>
	<AANLkTikd4xL=SfGwgami+dsLma1gCribwM-2C3_zK_vQ@mail.gmail.com>
Message-ID: <D7AE9904-1906-4493-851C-A362E61EFBD0@newclarity.net>

> On 11 January 2011 12:05, Chip Bennett <chip at chipbennett.net> wrote:
>> Aside: to me, a "Facebook note update" is equivalent to a blog post.
>> (Perhaps that's merely due to the way that I use Facebook notes?) I think
>> of an "aside" more of a "pullquote" or longer-than-microblog (i.e. "status")
>> comment or thought. Nevertheless, we have one bit of useful information
>> regarding convention: no Title.
> 

> On Jan 11, 2011, at 12:22 PM, Dion Hulse (dd32) wrote:
> For the aside, I would expect it to be a short post without a title, ie. not
> a status ("I'm doing such and such") but rather a quick post ("Went to
> restauraunt xx and found their food to be wonderful, blahblahblahblah, and
> ends up being about a paragraph long")


I have to agree with Chip.  

I think what might be what most people think of as an "aside" is not how WordPress has defined it. What WordPress is calling an "aside" seems to be to be more of a "random-thought."  

I would see an aside being stored in a custom field and formatted for use in a post, not as being a post by itself.  And I could see multiple asides for a post; i.e. pull-quotes of content that is out of context of the normal flow of a blog post.

It's certainly okay for the WordPress team to create a WordPress-specific definition of the term "aside" but in doing so that means many people may have to unlearn what they already think of an "aside" to be.

But Chip and I could be wrong; maybe what we think of as an aside is in the minority?  Here's a clue:

http://www.google.com/search?q=define:aside

Or better yet we someone could ask the English pedants here what is the most common use?  Clearly their view would be less biased towards a WordPress-specific definition?

http://english.stackexchange.com/

FWIW.

-Mike


From chip at chipbennett.net  Tue Jan 11 18:02:52 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Tue, 11 Jan 2011 12:02:52 -0600
Subject: [wp-hackers] Post Formats: Conventions/Standards for
	Content/Layout/Style
In-Reply-To: <AANLkTikd4xL=SfGwgami+dsLma1gCribwM-2C3_zK_vQ@mail.gmail.com>
References: <AANLkTimnECPMPfQOgwzs6ZRNP5-cq5qF8t=-Hddu36PC@mail.gmail.com>
	<AANLkTikd4xL=SfGwgami+dsLma1gCribwM-2C3_zK_vQ@mail.gmail.com>
Message-ID: <AANLkTimFcF-j-HR_+Dp_ETAGsgRWGYyT9Gdm9MYuVb6-@mail.gmail.com>

Thanks, Dion!

In a related question: is there a function to get the array of types
supported by the current Theme?

I assume it would be *get_theme_support( 'post-formats' )* - or, at least,
that would be the starting point?

If I'm reading source correctly, that should return the argument array
passed into add_theme_support( 'post-formats' )?

Chip

On Tue, Jan 11, 2011 at 11:22 AM, Dion Hulse (dd32) <wordpress at dd32.id.au>wrote:

> For the aside, I would expect it to be a short post without a title, ie.
> not
> a status ("I'm doing such and such") but rather a quick post ("Went to
> restauraunt xx and found their food to be wonderful, blahblahblahblah, and
> ends up being about a paragraph long")
>
> I would expect asides, status, and link to probably not have a title,
> whilst
> a chat and quote *might* have a title, the rest having titles.
>
> I'm looking at it from the perspective of "What needs to be titled? My
> status update titles itself, A gallery needs a description, and a gallery
> name, A chat conversation probably needs metadata, such as when it took
> place and where, which basically makes a title.."
> You might like to look at existing themes which do asides, for example, how
> twentyten and Matt use it: http://ma.tt/
>
>
> On 11 January 2011 12:05, Chip Bennett <chip at chipbennett.net> wrote:
>
> > What conventions/standards exist, or are people beginning to assume, with
> > respect to each of the Post Format types? The Codex sheds some, albeit
> > little, light on the
> > matter<http://codex.wordpress.org/Post_Formats#Supported_Formats>
> > :
> >
> >
> >   - *aside* - Typically styled without a title. Similar to a Facebook
> note
> >   update.
> >   - *gallery* - A gallery of images. Post will likely contain a gallery
> >   shortcode and will have image attachments.
> >   - *link* - A link to another site. Themes may wish to use the first <a
> >   href=??> tag in the post content as the external link for that post. An
> >   alternative approach could be if the post consists only of a URL, then
> > that
> >   will be the URL and the title (post_title) will be the name attached to
> > the
> >   anchor for it.
> >   - *image* - A single image. The first <img /> tag in the post could be
> >   considered the image. Alternatively, if the post consists only of a
> URL,
> >   that will be the image URL and the title of the post (post_title) will
> be
> >   the title attribute for the image.
> >   - *quote* - A quotation. Probably will contain a blockquote holding the
> >   quote content. Alternatively, the quote may be just the content, with
> the
> >   source/author being the title.
> >   - *status* - A short status update, similar to a Twitter status update.
> >   - *video* - A single video. The first <video /> tag or object/embed in
> >   the post content could be considered the video. Alternatively, if the
> > post
> >   consists only of a URL, that will be the video URL. May also contain
> the
> >   video as an attachment to the post, if video support is enabled on the
> > blog
> >   (like via a plugin).
> >   - *audio* - An audio file. Could be used for Podcasting.
> >   - *chat* - A chat transcript, like so:
> >
> > John: foo
> > Mary: bar
> > John: foo 2
> >
> >
> > To my reading, there are more questions than there are answers in that
> > information.
> >
> > For Gallery, Link, Image, Video, and Audio: will these types be expected
> to
> > have *only* the specified content, and no other content?
> >
> > Aside: to me, a "Facebook note update" is equivalent to a blog post.
> > (Perhaps that's merely due to the way that I use Facebook notes?) I think
> > of
> > an "aside" more of a "pullquote" or longer-than-microblog (i.e. "status")
> > comment or thought. Nevertheless, we have one bit of useful information
> > regarding convention: no Title.
> >
> > Chat: this one baffles me. A chat is going to require some specific
> markup
> > other than the post-format designation (e.g. a table, or specific CSS
> > classes applied to specific parts of the content), which somewhat
> precludes
> > the need for a Post Format type. Regardless: are there any conventions
> for
> > the underlying markup/format for chats?
> >
> > Which Post Format types will be expected not to have titles? Just Aside
> and
> > Status?
> >
> > What other layout and/or style conventions, if any, are people applying
> to
> > each of the Post Format types?
> >
> > Chip
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Tue Jan 11 18:16:58 2011
From: otto at ottodestruct.com (Otto)
Date: Tue, 11 Jan 2011 13:16:58 -0500
Subject: [wp-hackers] Post Formats: Conventions/Standards for
	Content/Layout/Style
In-Reply-To: <D7AE9904-1906-4493-851C-A362E61EFBD0@newclarity.net>
References: <AANLkTimnECPMPfQOgwzs6ZRNP5-cq5qF8t=-Hddu36PC@mail.gmail.com>
	<AANLkTikd4xL=SfGwgami+dsLma1gCribwM-2C3_zK_vQ@mail.gmail.com>
	<D7AE9904-1906-4493-851C-A362E61EFBD0@newclarity.net>
Message-ID: <AANLkTik+yCoMJ8qTS8Sz6vNi0-ne2Dhqk9_hpuXEhUvO@mail.gmail.com>

On Tue, Jan 11, 2011 at 12:57 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> I think what might be what most people think of as an "aside" is not how WordPress has defined it. What WordPress is calling an "aside" seems to be to be more of a "random-thought."

"Asides", in WordPress terms, have been around for at least 5 years.

http://codex.wordpress.org/Adding_Asides

http://codex.wordpress.org/index.php?title=Adding_Asides&action=history

-Otto

From mikeschinkel at newclarity.net  Tue Jan 11 18:28:09 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 11 Jan 2011 13:28:09 -0500
Subject: [wp-hackers] Post Formats: Conventions/Standards for
	Content/Layout/Style
In-Reply-To: <AANLkTik+yCoMJ8qTS8Sz6vNi0-ne2Dhqk9_hpuXEhUvO@mail.gmail.com>
References: <AANLkTimnECPMPfQOgwzs6ZRNP5-cq5qF8t=-Hddu36PC@mail.gmail.com>
	<AANLkTikd4xL=SfGwgami+dsLma1gCribwM-2C3_zK_vQ@mail.gmail.com>
	<D7AE9904-1906-4493-851C-A362E61EFBD0@newclarity.net>
	<AANLkTik+yCoMJ8qTS8Sz6vNi0-ne2Dhqk9_hpuXEhUvO@mail.gmail.com>
Message-ID: <B2CF9A7F-EE38-4110-87B4-127FB7E7FA36@newclarity.net>

On Jan 11, 2011, at 1:16 PM, Otto wrote:
> On Tue, Jan 11, 2011 at 12:57 PM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
>> I think what might be what most people think of as an "aside" is not how WordPress has defined it. What WordPress is calling an "aside" seems to be to be more of a "random-thought."
> 
> "Asides", in WordPress terms, have been around for at least 5 years.
> 
> http://codex.wordpress.org/Adding_Asides
> 
> http://codex.wordpress.org/index.php?title=Adding_Asides&action=history

Ah, it's  "a Matt thing."  Which is kinda what I figured (feared?)

Living in obscurity (relatively speaking) for 5 years doesn't override centuries of use in publishing in the general publics view. But it won't be the first time a small group has sought to redefine a general use term to mean what they'd prefer it to mean, and it certainly won't be the last. Just don't be surprised when it confuses people and generates a bunch of questions on the forum. 

FWIW.

-Mike

From elfin at elfden.co.uk  Tue Jan 11 18:33:44 2011
From: elfin at elfden.co.uk (Rich Pedley)
Date: Tue, 11 Jan 2011 18:33:44 +0000
Subject: [wp-hackers] Post Formats: Conventions/Standards
	for	Content/Layout/Style
In-Reply-To: <B2CF9A7F-EE38-4110-87B4-127FB7E7FA36@newclarity.net>
References: <AANLkTimnECPMPfQOgwzs6ZRNP5-cq5qF8t=-Hddu36PC@mail.gmail.com>	<AANLkTikd4xL=SfGwgami+dsLma1gCribwM-2C3_zK_vQ@mail.gmail.com>	<D7AE9904-1906-4493-851C-A362E61EFBD0@newclarity.net>	<AANLkTik+yCoMJ8qTS8Sz6vNi0-ne2Dhqk9_hpuXEhUvO@mail.gmail.com>
	<B2CF9A7F-EE38-4110-87B4-127FB7E7FA36@newclarity.net>
Message-ID: <4D2CA288.9070903@elfden.co.uk>

On 11/01/2011 18:28, Mike Schinkel wrote:
> On Jan 11, 2011, at 1:16 PM, Otto wrote:
>> On Tue, Jan 11, 2011 at 12:57 PM, Mike Schinkel
>> <mikeschinkel at newclarity.net>  wrote:
>>> I think what might be what most people think of as an "aside"
>>> is not how WordPress has defined it. What WordPress is calling
>>> an "aside" seems to be to be more of a "random-thought."
>>
>> "Asides", in WordPress terms, have been around for at least 5
>> years.
>>
>> http://codex.wordpress.org/Adding_Asides
>>
>> http://codex.wordpress.org/index.php?title=Adding_Asides&action=history
>
>>
> Ah, it's  "a Matt thing."  Which is kinda what I figured (feared?)
>
> Living in obscurity (relatively speaking) for 5 years doesn't
> override centuries of use in publishing in the general publics
> view. But it won't be the first time a small group has sought to
> redefine a general use term to mean what they'd prefer it to mean,
> and it certainly won't be the last. Just don't be surprised when it
> confuses people and generates a bunch of questions on the forum.

actually that page made sense to me as to what an aside is!

And speaking as one of those that will be fending these queries on the 
forums, I would like to see several different examples of usage on the 
codex when someone has time ;)

{because I have no idea how they will get used}

Rich

From dougal at gunters.org  Tue Jan 11 18:40:14 2011
From: dougal at gunters.org (Dougal Campbell)
Date: Tue, 11 Jan 2011 13:40:14 -0500
Subject: [wp-hackers] Post Formats: Conventions/Standards
	for	Content/Layout/Style
In-Reply-To: <AANLkTimnECPMPfQOgwzs6ZRNP5-cq5qF8t=-Hddu36PC@mail.gmail.com>
References: <AANLkTimnECPMPfQOgwzs6ZRNP5-cq5qF8t=-Hddu36PC@mail.gmail.com>
Message-ID: <4D2CA40E.3020708@gunters.org>

On Jan 11 2011 12:05 PM, Chip Bennett wrote:
> What conventions/standards exist, or are people beginning to assume, with
> respect to each of the Post Format types? The Codex sheds some, albeit
> little, light on the
> matter<http://codex.wordpress.org/Post_Formats#Supported_Formats>
> :

My understanding is that the descriptions on the Codex page are merely 
suggestions (in fact, I did some minor edits to the page a few days ago 
to make that a little more clear). While I don't have any particular 
advice, I did use the ideas there about the Link format when I was 
setting up the WordPreh site.

In particular, I created a custom function to extract the first link out 
of the content, and consider that "the" link for the post. It will look 
for either a URL on a line by itself, or the first <a href="..."> in the 
content. In our particular case, we make the post title on the homepage 
link to "the" URL for a Link-formatted article.

When I get a chance to write it up, I'll share the code for the function.

As for the rest of the Format types, the visual presentation, and how to 
actually provide the content, is really going to be up to the themer. 
I'm sure that there will be themes that expect different markup for 
chats, etc.

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From mikeschinkel at newclarity.net  Tue Jan 11 18:49:04 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 11 Jan 2011 13:49:04 -0500
Subject: [wp-hackers] Post Formats: Conventions/Standards for
	Content/Layout/Style
In-Reply-To: <B2CF9A7F-EE38-4110-87B4-127FB7E7FA36@newclarity.net>
References: <AANLkTimnECPMPfQOgwzs6ZRNP5-cq5qF8t=-Hddu36PC@mail.gmail.com>
	<AANLkTikd4xL=SfGwgami+dsLma1gCribwM-2C3_zK_vQ@mail.gmail.com>
	<D7AE9904-1906-4493-851C-A362E61EFBD0@newclarity.net>
	<AANLkTik+yCoMJ8qTS8Sz6vNi0-ne2Dhqk9_hpuXEhUvO@mail.gmail.com>
	<B2CF9A7F-EE38-4110-87B4-127FB7E7FA36@newclarity.net>
Message-ID: <5AB1C865-D8BE-4CFF-AC7E-309F9EF88E05@newclarity.net>

On Jan 11, 2011, at 1:28 PM, Mike Schinkel wrote:
> On Jan 11, 2011, at 1:16 PM, Otto wrote:
>> On Tue, Jan 11, 2011 at 12:57 PM, Mike Schinkel
>> <mikeschinkel at newclarity.net> wrote:
>>> I think what might be what most people think of as an "aside" is not how WordPress has defined it. What WordPress is calling an "aside" seems to be to be more of a "random-thought."
>> 
>> "Asides", in WordPress terms, have been around for at least 5 years.
>> 
>> http://codex.wordpress.org/Adding_Asides
>> 
>> http://codex.wordpress.org/index.php?title=Adding_Asides&action=history
> 
> Ah, it's  "a Matt thing."  Which is kinda what I figured (feared?)
> 
> Living in obscurity (relatively speaking) for 5 years doesn't override centuries of use in publishing in the general publics view. But it won't be the first time a small group has sought to redefine a general use term to mean what they'd prefer it to mean, and it certainly won't be the last. Just don't be surprised when it confuses people and generates a bunch of questions on the forum. 

As an "aside" (pun intended) I just read to the end of the Codex page and it seems even it has two minds on the subject of asides:

http://codex.wordpress.org/Adding_Asides#Displaying_Asides_on_the_Sidebar

Again, FWIW.

-Mike



From chip at chipbennett.net  Tue Jan 11 19:01:21 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Tue, 11 Jan 2011 13:01:21 -0600
Subject: [wp-hackers] Post Formats: Conventions/Standards for
	Content/Layout/Style
In-Reply-To: <B2CF9A7F-EE38-4110-87B4-127FB7E7FA36@newclarity.net>
References: <AANLkTimnECPMPfQOgwzs6ZRNP5-cq5qF8t=-Hddu36PC@mail.gmail.com>
	<AANLkTikd4xL=SfGwgami+dsLma1gCribwM-2C3_zK_vQ@mail.gmail.com>
	<D7AE9904-1906-4493-851C-A362E61EFBD0@newclarity.net>
	<AANLkTik+yCoMJ8qTS8Sz6vNi0-ne2Dhqk9_hpuXEhUvO@mail.gmail.com>
	<B2CF9A7F-EE38-4110-87B4-127FB7E7FA36@newclarity.net>
Message-ID: <AANLkTimQMV2dGma6kfKxoN2ANHCBOka=ykwxYtdEYvzQ@mail.gmail.com>

That doesn't bother me so much. It is what it is; the ship has sailed on
using a given term in a given context.

I'm more concerned with understanding "aside" in *this* context, from a
Theme developer's perspective, in order to answer the myriad anticipated
questions regarding its implementation.

Chip

P.S. the Adding Asides Codex page needs to be linked on the Post Formats
Codex page. I'll go take care of that...

On Tue, Jan 11, 2011 at 12:28 PM, Mike Schinkel <mikeschinkel at newclarity.net
> wrote:

> On Jan 11, 2011, at 1:16 PM, Otto wrote:
> > On Tue, Jan 11, 2011 at 12:57 PM, Mike Schinkel
> > <mikeschinkel at newclarity.net> wrote:
> >> I think what might be what most people think of as an "aside" is not how
> WordPress has defined it. What WordPress is calling an "aside" seems to be
> to be more of a "random-thought."
> >
> > "Asides", in WordPress terms, have been around for at least 5 years.
> >
> > http://codex.wordpress.org/Adding_Asides
> >
> > http://codex.wordpress.org/index.php?title=Adding_Asides&action=history
>
> Ah, it's  "a Matt thing."  Which is kinda what I figured (feared?)
>
> Living in obscurity (relatively speaking) for 5 years doesn't override
> centuries of use in publishing in the general publics view. But it won't be
> the first time a small group has sought to redefine a general use term to
> mean what they'd prefer it to mean, and it certainly won't be the last. Just
> don't be surprised when it confuses people and generates a bunch of
> questions on the forum.
>
> FWIW.
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chip at chipbennett.net  Tue Jan 11 19:05:20 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Tue, 11 Jan 2011 13:05:20 -0600
Subject: [wp-hackers] Post Formats: Conventions/Standards for
	Content/Layout/Style
In-Reply-To: <4D2CA40E.3020708@gunters.org>
References: <AANLkTimnECPMPfQOgwzs6ZRNP5-cq5qF8t=-Hddu36PC@mail.gmail.com>
	<4D2CA40E.3020708@gunters.org>
Message-ID: <AANLkTin9z-1fkHP2qMRtp0gbC9SNSQwS3HCPis8t6T0h@mail.gmail.com>

There's one example of what I'm talking about: for a "link" type Post, does
the URL get placed by itself in the_title, or is it merely output as the
Title, or as part of the_content(), etc.?

Much of how these Post Formats get used will depend on data-entry
conventions, especially with respect to links, chats, etc.

If thought has gone into establishing such conventions, I'm curious what the
current consensus is; if thought *hasn't* gone into establishing such
conventions: why not?

Chip

On Tue, Jan 11, 2011 at 12:40 PM, Dougal Campbell <dougal at gunters.org>wrote:

> On Jan 11 2011 12:05 PM, Chip Bennett wrote:
>
>> What conventions/standards exist, or are people beginning to assume, with
>> respect to each of the Post Format types? The Codex sheds some, albeit
>> little, light on the
>> matter<http://codex.wordpress.org/Post_Formats#Supported_Formats>
>> :
>>
>
> My understanding is that the descriptions on the Codex page are merely
> suggestions (in fact, I did some minor edits to the page a few days ago to
> make that a little more clear). While I don't have any particular advice, I
> did use the ideas there about the Link format when I was setting up the
> WordPreh site.
>
> In particular, I created a custom function to extract the first link out of
> the content, and consider that "the" link for the post. It will look for
> either a URL on a line by itself, or the first <a href="..."> in the
> content. In our particular case, we make the post title on the homepage link
> to "the" URL for a Link-formatted article.
>
> When I get a chance to write it up, I'll share the code for the function.
>
> As for the rest of the Format types, the visual presentation, and how to
> actually provide the content, is really going to be up to the themer. I'm
> sure that there will be themes that expect different markup for chats, etc.
>
> --
> Dougal Campbell <dougal at gunters.org>
> http://dougal.gunters.org/
> http://twitter.com/dougal
> http://twitual.com/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peter.westwood at ftwr.co.uk  Tue Jan 11 19:17:15 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Tue, 11 Jan 2011 14:17:15 -0500
Subject: [wp-hackers] Stumped by WordPress' Admin Menus
In-Reply-To: <B42444EB-8033-4446-8B76-987F7DB8D791@newclarity.net>
References: <75EFF6FE-B4D4-49CA-8C6F-79C822AE4BE0@newclarity.net>
	<AANLkTimErSfNkdm_3NtYYN8zHtfTpNsW5MeF7NH8qSBz@mail.gmail.com>
	<B42444EB-8033-4446-8B76-987F7DB8D791@newclarity.net>
Message-ID: <F56BEB04-80EF-4C58-B4FF-94404934D389@ftwr.co.uk>


On 11 Jan 2011, at 11:32, Mike Schinkel wrote:

> On Jan 11, 2011, at 5:16 AM, Sergey Biryukov wrote:
>> On Tue, Jan 11, 2011 at 1:32 AM, Mike Schinkel
>> <mikeschinkel at newclarity.net> wrote:
>>> Although there are other issues I've had with the admin menu system (described here[1]) the problem I am having today is that the menu_page seems to inherit the first URL from the submenu_page and no matter what I try I can't get them decoupled. To illustrate the point I've created a very simple example:
>>> 
>>> add_action('admin_menu','my_admin_menu');
>>> function my_admin_menu() {
>>>      global $submenu;
>>>      unset($submenu['edit.php'][5]);    // Remove 'Posts'
>>>      unset($submenu['edit.php'][10]);   // Remove 'Add New'
>>>      $submenu['edit.php'][15][0] = 'Post Categories';
>>>      unset($submenu['edit.php'][16]);   // Remove 'Post Tags'
>>> }
>> 
>> Since $submenu_as_parent lacks a filter which could help here, the
>> only other option I can think of is to leave the "Posts" item in the
>> array and then hide it via CSS. Still not very elegant.
> 
> Agreed, not very elegant.  But thanks for looking at it to see if you could come up with something for me.
> 

You should look at remove_menu_page and remove_submenu_page (introduced in 3.1)

You can always port them back for your plugin and wrap in function_exists

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From casey.bisson at gmail.com  Tue Jan 11 19:18:53 2011
From: casey.bisson at gmail.com (Casey Bisson)
Date: Tue, 11 Jan 2011 11:18:53 -0800
Subject: [wp-hackers] Single Category Store across Sites on Multisite?
In-Reply-To: <AANLkTincNyB8e+CHH5gCb+VUxNqGAJcAYTqw=dtH9sxi@mail.gmail.com>
References: <D20CC7A9-F04C-44B6-ACBE-746E6998907D@newclarity.net>
	<950C6857-3E5A-423D-B9CE-38D2F5E36B0F@dansmart.co.uk>
	<AANLkTincNyB8e+CHH5gCb+VUxNqGAJcAYTqw=dtH9sxi@mail.gmail.com>
Message-ID: <964308DE-D258-46B7-809E-C61C41FC8F1D@gmail.com>


Sharing the term IDs isn't as useful as sharing common term taxonomy IDs. 

Doing that would make it easy to relate content between blogs (especially if the blogs are using custom taxonomies and/or controlled vocabularies). 

It'd also make it easier to index the content in Sphinx (where all posts from all blogs could go into a single index with associated taxonomy info). 

I've lob thought MU's old global terms feature would be a good foundation for global term tax IDs, but that's me thinking out loud too, as that was an issue from my previous gig and I'm not as likely to build it now. 

--Casey

http://maisonbisson.com

On Jan 11, 2011, at 9:33 AM, "Dion Hulse (dd32)" <wordpress at dd32.id.au> wrote:

> The main problem with the global terms is that every blog has to have it's
> own taxonomy tables, you can't just redirect all taxonomy tables to a
> central one, as you end up with duplicate post ID's in the relational table.
> 
> You could possible set $wpdb->term_table to always point to a central
> listing.. with each blog having their own taxonomy and relationship
> tables..
> But i'm mainly thinking out loud here, I'll leave it with "It's really not
> the most ideal thing to want to do at the present time"
> 
> On 11 January 2011 12:29, Dan Smart <dan at dansmart.co.uk> wrote:
> 
>> MU Sitewide tags doesn't really address this issue, though people suggest
>> it as an option. You have to use it's entire multiblog post thing too,
>> whereas I was applying a category to a single-sited custom post type.
>> 
>> It seems like a good thing to have as part of core, I didn't want to go
>> down the road of modifying core of course.
>> 
>> Dan Smart - Web Developer
>> www.dansmart.co.uk
>> 
>> On 11 Jan 2011, at 17:12, Mike Schinkel <mikeschinkel at newclarity.net>
>> wrote:
>> 
>>> This question got me thinking about if it is possible (practical?) to
>> have a single category store across sites on multisite?
>>> 
>>> 
>> http://wordpress.stackexchange.com/questions/6722/can-you-have-a-single-set-of-canonical-categories-shared-by-all-blogs
>>> 
>>> The more I think of it the more it seems like it just wouldn't be viable.
>> Anyone have alternate experience?
>>> 
>>> -Mike

From mikeschinkel at newclarity.net  Tue Jan 11 19:39:19 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 11 Jan 2011 14:39:19 -0500
Subject: [wp-hackers] Stumped by WordPress' Admin Menus
In-Reply-To: <F56BEB04-80EF-4C58-B4FF-94404934D389@ftwr.co.uk>
References: <75EFF6FE-B4D4-49CA-8C6F-79C822AE4BE0@newclarity.net>
	<AANLkTimErSfNkdm_3NtYYN8zHtfTpNsW5MeF7NH8qSBz@mail.gmail.com>
	<B42444EB-8033-4446-8B76-987F7DB8D791@newclarity.net>
	<F56BEB04-80EF-4C58-B4FF-94404934D389@ftwr.co.uk>
Message-ID: <4340F8D8-23B5-49FA-A7FC-2BF915BF4F58@newclarity.net>

On Jan 11, 2011, at 2:17 PM, Peter Westwood wrote:
> You should look at remove_menu_page and remove_submenu_page (introduced in 3.1)
> 
> You can always port them back for your plugin and wrap in function_exists

Thanks for responding.  

Unfortunately, unless I misunderstand those functions do not address the issue.  (In case you've forgotten I was on the IRC chat promoting the needs of those functions when the decision to add them was made.)

The problem is not in getting the values on the global $menu and $submenu arrays to be correct in the admin_menu hook, that's the easy part, the issue is that the code in menu-header.php takes over and make changes immediately before it outputs the HTML to the browser. 

That code has logic built-in to enforce a set of rules that conflict with the needs of several of my clients, and except for buffering the HTML and then scraping and modifying it I can't find a way to get the menus to behave per my clients needs, and certainly 
not in an elegant and robust way.

In case you've missed them here are two tickets that could be used to resolve the issue though I'm sure there are even better ways to deal with this specific issue:

http://core.trac.wordpress.org/ticket/16048
http://core.trac.wordpress.org/ticket/16050

-Mike

From burobjorn at gmail.com  Tue Jan 11 20:16:51 2011
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Tue, 11 Jan 2011 21:16:51 +0100
Subject: [wp-hackers] Single Category Store across Sites on Multisite?
In-Reply-To: <D20CC7A9-F04C-44B6-ACBE-746E6998907D@newclarity.net>
References: <D20CC7A9-F04C-44B6-ACBE-746E6998907D@newclarity.net>
Message-ID: <4D2CBAB3.5020700@gmail.com>

Hi Mike et al,

Not sure if this solves your question, but perhaps my plugin bbAggregate 
addresses your requirements? It allows you
to create 'streams' of content from multiple blogs in a multisite 
WordPress install and aggregate them onto a page. It's my replacement 
for Global Terms ;)

Have a look at the plugin:
http://wordpress.org/extend/plugins/bbaggregate/

Read this article about it:
http://www.roytanck.com/2010/09/30/bbaggregate-lets-you-mix-and-match-wordpress-content/

Feel free to contact me if you have any questions and/or remarks related
to this plugin,

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Werkdagen:
Van maandag t/m donderdag vanaf 10:00
Vrijdag is voor experimenteren en eigen projecten.

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

tel: +31 6 49 74 78 70
http://www.burobjorn.nl

On 01/11/2011 06:12 PM, Mike Schinkel wrote:
> This question got me thinking about if it is possible (practical?) to
> have a single category store across sites on multisite?
>
> http://wordpress.stackexchange.com/questions/6722/can-you-have-a-single-set-of-canonical-categories-shared-by-all-blogs
>
>  The more I think of it the more it seems like it just wouldn't be
> viable.  Anyone have alternate experience?
>
> -Mike _______________________________________________ wp-hackers
> mailing list wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rbilesky at gmail.com  Wed Jan 12 03:01:13 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Tue, 11 Jan 2011 19:01:13 -0800
Subject: [wp-hackers] Throw 404 error via plugin
Message-ID: <AANLkTikutwaE456s-syC7c9=0jpni8zrNSH9i+iqL6Av@mail.gmail.com>

So I am working on a plugin where I want to selectivly throw a 404 error.

I try header() and this sets the http header to show a not found error, but
I get the browsers default 404 error page.

I try including the 404.php template file but while it looks like a 404
error to the user, the http header status shows 200 ok.

I try using both methods together again no luck,.  I want the http status
code to show 404 AND to use the 404.php template to show the user.  How does
the core do this?

From philip at frumph.net  Wed Jan 12 04:47:37 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Tue, 11 Jan 2011 20:47:37 -0800
Subject: [wp-hackers] wp_login_form trouble
Message-ID: <3754C0327AB14E298AD05DC68E89D495@frumph.net>

So, I was thinking I should be upgrading all of control panel code to use the wp_login_form() instead of writing it out myself ya

the problem is that the label_username label_password and label_remember are stripping out html for an extra line indent after they are displayed particularly like

'label_username' => __('Username<br />', 'easel'),


Is there a way that it's possible to do that?



From philip at frumph.net  Wed Jan 12 05:14:51 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Tue, 11 Jan 2011 21:14:51 -0800
Subject: [wp-hackers] wp_login_form trouble
In-Reply-To: <3754C0327AB14E298AD05DC68E89D495@frumph.net>
References: <3754C0327AB14E298AD05DC68E89D495@frumph.net>
Message-ID: <386B199B3D4544179832CC0F18BA5B6E@frumph.net>

found a ticket: http://core.trac.wordpress.org/ticket/15702

the filters with args will definately help

because I was having an issue figuring out the redirect back to the current 
page on logout


----- Original Message ----- 
From: "Philip M. Hofer (Frumph)" <philip at frumph.net>
To: <wp-hackers at lists.automattic.com>
Sent: Tuesday, January 11, 2011 8:47 PM
Subject: [wp-hackers] wp_login_form trouble


> So, I was thinking I should be upgrading all of control panel code to use 
> the wp_login_form() instead of writing it out myself ya
>
> the problem is that the label_username label_password and label_remember 
> are stripping out html for an extra line indent after they are displayed 
> particularly like
>
> 'label_username' => __('Username<br />', 'easel'),
>
>
> Is there a way that it's possible to do that?
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From wp at andrewnacin.com  Wed Jan 12 06:24:28 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 12 Jan 2011 01:24:28 -0500
Subject: [wp-hackers] Throw 404 error via plugin
In-Reply-To: <AANLkTikutwaE456s-syC7c9=0jpni8zrNSH9i+iqL6Av@mail.gmail.com>
References: <AANLkTikutwaE456s-syC7c9=0jpni8zrNSH9i+iqL6Av@mail.gmail.com>
Message-ID: <AANLkTikt=c68bJYzZouSoLzXcfedpvCmApYwanjbEFBE@mail.gmail.com>

On Tue, Jan 11, 2011 at 10:01 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> So I am working on a plugin where I want to selectivly throw a 404 error.
>
> I try header() and this sets the http header to show a not found error, but
> I get the browsers default 404 error page.
>
> I try including the 404.php template file but while it looks like a 404
> error to the user, the http header status shows 200 ok.
>
> I try using both methods together again no luck,.  I want the http status
> code to show 404 AND to use the 404.php template to show the user.  How
> does
> the core do this?


The template file doesn't have to do with the headers. You'll want to
trigger 404 headers via status_header('404') and the 404 template via
$wp_query->set_404(). But a lot of this depends on what exactly you're
trying to do.

Nacin

From chip at chipbennett.net  Wed Jan 12 13:57:40 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Wed, 12 Jan 2011 07:57:40 -0600
Subject: [wp-hackers] get_theme_support( 'post-formats' )
Message-ID: <AANLkTin3Bxudm5CqRAbHxHsfPocMXPJbK94_P5+kReHT@mail.gmail.com>

One more Post Format-related question: what is the best way to get the array
of Post Format types supported by the current Theme?

I assume it would be *get_theme_support( 'post-formats'
)<http://core.trac.wordpress.org/browser/trunk/wp-includes/theme.php#L1769>
* - or, at least, that would be the starting point?

If I'm reading source correctly, that should return the argument array
passed into add_theme_support( 'post-formats' )?

If so, then something like:

$my_theme_supports = get_theme_support( 'post-formats' );


...should result in, e.g.

$my_theme_supports = array( 'aside', 'gallery' );


Or am I misreading that?

Chip

From m.witt at ia-sh.de  Wed Jan 12 15:17:20 2011
From: m.witt at ia-sh.de (Malte Witt)
Date: Wed, 12 Jan 2011 16:17:20 +0100
Subject: [wp-hackers] limitations of wp_nav_menu // or what to do with
	really big menus?
Message-ID: <4D2DC600.7010700@ia-sh.de>

Hi all,
I have one question which I guess a lot of people had already thought 
about before - so there likely must be a simple answer.
How do you build really big menus with 50-100 pages in your CMS like 
wordpress installations? Although I really like wp_nav_menu, it lacks 
usability for those usage scenarios.

Am I just using the wrong CMS or is there a solution for this? I am 
already using "CMS Tree Page View" for viewing the admin page panel in a 
tree view. I guess I would just need something similar for the menus.

I hope anybody knows a solution.

Greetings,
Malte
**

From otto at ottodestruct.com  Wed Jan 12 15:34:10 2011
From: otto at ottodestruct.com (Otto)
Date: Wed, 12 Jan 2011 10:34:10 -0500
Subject: [wp-hackers] get_theme_support( 'post-formats' )
In-Reply-To: <AANLkTin3Bxudm5CqRAbHxHsfPocMXPJbK94_P5+kReHT@mail.gmail.com>
References: <AANLkTin3Bxudm5CqRAbHxHsfPocMXPJbK94_P5+kReHT@mail.gmail.com>
Message-ID: <AANLkTimacrhTpQ1xYQQiGwU-RsYOd4YX5AzGhMRxoH2R@mail.gmail.com>

On Wed, Jan 12, 2011 at 8:57 AM, Chip Bennett <chip at chipbennett.net> wrote:
> $my_theme_supports = get_theme_support( 'post-formats' );
> ...should result in, e.g.
> $my_theme_supports = array( 'aside', 'gallery' );

Actually, it returns an array with an array in it.

array(1) { [0]=> array(9) {
[0]=> string(5) "aside" [1]=> string(5) "audio" ...
} }

So you'll want to reference it with the [0].

Simple code:
$my_theme_supports = get_theme_support( 'post-formats' );
if (is_array($my_theme_supports)) $my_theme_supports = $my_theme_supports[0];

Now you'll have what you expect it to be.

-Otto

From chip at chipbennett.net  Wed Jan 12 15:37:35 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Wed, 12 Jan 2011 09:37:35 -0600
Subject: [wp-hackers] limitations of wp_nav_menu // or what to do with
 really big menus?
In-Reply-To: <4D2DC600.7010700@ia-sh.de>
References: <4D2DC600.7010700@ia-sh.de>
Message-ID: <AANLkTintYQ0R1fVuwQYh-PyKzUA+f5B1HVPj69Vq0m6X@mail.gmail.com>

I have almost 200 pages in my site's Page menu, using
wp_list_pages()<http://codex.wordpress.org/Function_Reference/wp_list_pages>
.

wp_list_pages() is incredibly powerful, and in nearly all cases, will
support your needs (though it currently can't be integrated with
wp_nav_menu(), unfortunately).
Chip
On Wed, Jan 12, 2011 at 9:17 AM, Malte Witt <m.witt at ia-sh.de> wrote:

> Hi all,
> I have one question which I guess a lot of people had already thought about
> before - so there likely must be a simple answer.
> How do you build really big menus with 50-100 pages in your CMS like
> wordpress installations? Although I really like wp_nav_menu, it lacks
> usability for those usage scenarios.
>
> Am I just using the wrong CMS or is there a solution for this? I am already
> using "CMS Tree Page View" for viewing the admin page panel in a tree view.
> I guess I would just need something similar for the menus.
>
> I hope anybody knows a solution.
>
> Greetings,
> Malte
> **
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chip at chipbennett.net  Wed Jan 12 15:38:33 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Wed, 12 Jan 2011 09:38:33 -0600
Subject: [wp-hackers] get_theme_support( 'post-formats' )
In-Reply-To: <AANLkTimacrhTpQ1xYQQiGwU-RsYOd4YX5AzGhMRxoH2R@mail.gmail.com>
References: <AANLkTin3Bxudm5CqRAbHxHsfPocMXPJbK94_P5+kReHT@mail.gmail.com>
	<AANLkTimacrhTpQ1xYQQiGwU-RsYOd4YX5AzGhMRxoH2R@mail.gmail.com>
Message-ID: <AANLkTik3WZ6JQK+403-bHnew7hU0euv-8=janW78Vn=x@mail.gmail.com>

That's exactly what I was curious about. Thanks for clarifying, Otto!

Chip

On Wed, Jan 12, 2011 at 9:34 AM, Otto <otto at ottodestruct.com> wrote:

> On Wed, Jan 12, 2011 at 8:57 AM, Chip Bennett <chip at chipbennett.net>
> wrote:
> > $my_theme_supports = get_theme_support( 'post-formats' );
> > ...should result in, e.g.
> > $my_theme_supports = array( 'aside', 'gallery' );
>
> Actually, it returns an array with an array in it.
>
> array(1) { [0]=> array(9) {
> [0]=> string(5) "aside" [1]=> string(5) "audio" ...
> } }
>
> So you'll want to reference it with the [0].
>
> Simple code:
> $my_theme_supports = get_theme_support( 'post-formats' );
> if (is_array($my_theme_supports)) $my_theme_supports =
> $my_theme_supports[0];
>
> Now you'll have what you expect it to be.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chip at chipbennett.net  Wed Jan 12 16:02:05 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Wed, 12 Jan 2011 10:02:05 -0600
Subject: [wp-hackers] get_theme_support( 'post-formats' )
In-Reply-To: <AANLkTik3WZ6JQK+403-bHnew7hU0euv-8=janW78Vn=x@mail.gmail.com>
References: <AANLkTin3Bxudm5CqRAbHxHsfPocMXPJbK94_P5+kReHT@mail.gmail.com>
	<AANLkTimacrhTpQ1xYQQiGwU-RsYOd4YX5AzGhMRxoH2R@mail.gmail.com>
	<AANLkTik3WZ6JQK+403-bHnew7hU0euv-8=janW78Vn=x@mail.gmail.com>
Message-ID: <AANLkTinT4uUgK3HtZ6Nhcff3TZ_sLkHRO=q0fW6GEGER@mail.gmail.com>

As a follow-up question: if I want to retreive the count of each Post Format
type, what would be the best approach?

Perhaps something like (used inside a foreach, where $postformat is the
slug):

$postformatobj = get_term_by( slug, $postformat, 'post-formats' );

$postformatcount = $postformatobj->count;

Would that work? is there a better way?

Thanks again,

Chip


On Wed, Jan 12, 2011 at 9:38 AM, Chip Bennett <chip at chipbennett.net> wrote:


> That's exactly what I was curious about. Thanks for clarifying, Otto!
>
> Chip
>
>
>   On Wed, Jan 12, 2011 at 9:34 AM, Otto <otto at ottodestruct.com> wrote:
>
>
>> On Wed, Jan 12, 2011 at 8:57 AM, Chip Bennett <chip at chipbennett.net>
>> wrote:
>> > $my_theme_supports = get_theme_support( 'post-formats' );
>> > ...should result in, e.g.
>> > $my_theme_supports = array( 'aside', 'gallery' );
>>
>>
>> Actually, it returns an array with an array in it.
>>
>> array(1) { [0]=> array(9) {
>> [0]=> string(5) "aside" [1]=> string(5) "audio" ...
>> } }
>>
>> So you'll want to reference it with the [0].
>>
>> Simple code:
>>
>> $my_theme_supports = get_theme_support( 'post-formats' );
>>
>> if (is_array($my_theme_supports)) $my_theme_supports =
>> $my_theme_supports[0];
>>
>> Now you'll have what you expect it to be.
>>
>> -Otto
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
>

From chip at chipbennett.net  Wed Jan 12 16:08:21 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Wed, 12 Jan 2011 10:08:21 -0600
Subject: [wp-hackers] get_theme_support( 'post-formats' )
In-Reply-To: <AANLkTinT4uUgK3HtZ6Nhcff3TZ_sLkHRO=q0fW6GEGER@mail.gmail.com>
References: <AANLkTin3Bxudm5CqRAbHxHsfPocMXPJbK94_P5+kReHT@mail.gmail.com>
	<AANLkTimacrhTpQ1xYQQiGwU-RsYOd4YX5AzGhMRxoH2R@mail.gmail.com>
	<AANLkTik3WZ6JQK+403-bHnew7hU0euv-8=janW78Vn=x@mail.gmail.com>
	<AANLkTinT4uUgK3HtZ6Nhcff3TZ_sLkHRO=q0fW6GEGER@mail.gmail.com>
Message-ID: <AANLkTimobu9nkU4Dw7QghukH1O1DDhkMUE0rkERq8K_p@mail.gmail.com>

Or can I just use
get_categories()<http://codex.wordpress.org/Function_Reference/get_categories>
?

$postformatobj = get_categories( 'taxonomy' => 'post-formats' );
$postformatcount = $postformatobj->count;

Any reason why that wouldn't work?

Chip


On Wed, Jan 12, 2011 at 10:02 AM, Chip Bennett <chip at chipbennett.net> wrote:



> As a follow-up question: if I want to retreive the count of each Post
> Format type, what would be the best approach?
>
> Perhaps something like (used inside a foreach, where $postformat is the
> slug):
>
> $postformatobj = get_term_by( slug, $postformat, 'post-formats' );
>
> $postformatcount = $postformatobj->count;
>
> Would that work? is there a better way?
>
> Thanks again,
>
> Chip
>
>
>   On Wed, Jan 12, 2011 at 9:38 AM, Chip Bennett <chip at chipbennett.net>wrote:
>
>
>> That's exactly what I was curious about. Thanks for clarifying, Otto!
>>
>> Chip
>>
>>
>>   On Wed, Jan 12, 2011 at 9:34 AM, Otto <otto at ottodestruct.com> wrote:
>>
>>
>>> On Wed, Jan 12, 2011 at 8:57 AM, Chip Bennett <chip at chipbennett.net>
>>> wrote:
>>> > $my_theme_supports = get_theme_support( 'post-formats' );
>>> > ...should result in, e.g.
>>> > $my_theme_supports = array( 'aside', 'gallery' );
>>>
>>>
>>> Actually, it returns an array with an array in it.
>>>
>>> array(1) { [0]=> array(9) {
>>> [0]=> string(5) "aside" [1]=> string(5) "audio" ...
>>> } }
>>>
>>> So you'll want to reference it with the [0].
>>>
>>> Simple code:
>>>
>>> $my_theme_supports = get_theme_support( 'post-formats' );
>>>
>>> if (is_array($my_theme_supports)) $my_theme_supports =
>>> $my_theme_supports[0];
>>>
>>> Now you'll have what you expect it to be.
>>>
>>> -Otto
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>
>

From otto at ottodestruct.com  Wed Jan 12 16:22:51 2011
From: otto at ottodestruct.com (Otto)
Date: Wed, 12 Jan 2011 11:22:51 -0500
Subject: [wp-hackers] get_theme_support( 'post-formats' )
In-Reply-To: <AANLkTimobu9nkU4Dw7QghukH1O1DDhkMUE0rkERq8K_p@mail.gmail.com>
References: <AANLkTin3Bxudm5CqRAbHxHsfPocMXPJbK94_P5+kReHT@mail.gmail.com>
	<AANLkTimacrhTpQ1xYQQiGwU-RsYOd4YX5AzGhMRxoH2R@mail.gmail.com>
	<AANLkTik3WZ6JQK+403-bHnew7hU0euv-8=janW78Vn=x@mail.gmail.com>
	<AANLkTinT4uUgK3HtZ6Nhcff3TZ_sLkHRO=q0fW6GEGER@mail.gmail.com>
	<AANLkTimobu9nkU4Dw7QghukH1O1DDhkMUE0rkERq8K_p@mail.gmail.com>
Message-ID: <AANLkTikFZrfYWA3BDAEAiWQL4vsuBX7Eaj2OOHzNLqfc@mail.gmail.com>

Simpler:

$formats = get_terms('post_format');
foreach ($formats as $format) {
echo $format->name;
echo $format->count;
}

-Otto



On Wed, Jan 12, 2011 at 11:08 AM, Chip Bennett <chip at chipbennett.net> wrote:
> Or can I just use
> get_categories()<http://codex.wordpress.org/Function_Reference/get_categories>
> ?
>
> $postformatobj = get_categories( 'taxonomy' => 'post-formats' );
> $postformatcount = $postformatobj->count;
>
> Any reason why that wouldn't work?
>
> Chip
>
>
> On Wed, Jan 12, 2011 at 10:02 AM, Chip Bennett <chip at chipbennett.net> wrote:
>
>
>
>> As a follow-up question: if I want to retreive the count of each Post
>> Format type, what would be the best approach?
>>
>> Perhaps something like (used inside a foreach, where $postformat is the
>> slug):
>>
>> $postformatobj = get_term_by( slug, $postformat, 'post-formats' );
>>
>> $postformatcount = $postformatobj->count;
>>
>> Would that work? is there a better way?
>>
>> Thanks again,
>>
>> Chip
>>
>>
>> ? On Wed, Jan 12, 2011 at 9:38 AM, Chip Bennett <chip at chipbennett.net>wrote:
>>
>>
>>> That's exactly what I was curious about. Thanks for clarifying, Otto!
>>>
>>> Chip
>>>
>>>
>>> ? On Wed, Jan 12, 2011 at 9:34 AM, Otto <otto at ottodestruct.com> wrote:
>>>
>>>
>>>> On Wed, Jan 12, 2011 at 8:57 AM, Chip Bennett <chip at chipbennett.net>
>>>> wrote:
>>>> > $my_theme_supports = get_theme_support( 'post-formats' );
>>>> > ...should result in, e.g.
>>>> > $my_theme_supports = array( 'aside', 'gallery' );
>>>>
>>>>
>>>> Actually, it returns an array with an array in it.
>>>>
>>>> array(1) { [0]=> array(9) {
>>>> [0]=> string(5) "aside" [1]=> string(5) "audio" ...
>>>> } }
>>>>
>>>> So you'll want to reference it with the [0].
>>>>
>>>> Simple code:
>>>>
>>>> $my_theme_supports = get_theme_support( 'post-formats' );
>>>>
>>>> if (is_array($my_theme_supports)) $my_theme_supports =
>>>> $my_theme_supports[0];
>>>>
>>>> Now you'll have what you expect it to be.
>>>>
>>>> -Otto
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>>
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From m.witt at ia-sh.de  Wed Jan 12 16:27:50 2011
From: m.witt at ia-sh.de (Malte Witt)
Date: Wed, 12 Jan 2011 17:27:50 +0100
Subject: [wp-hackers] limitations of wp_nav_menu // or what to do with
 really big menus?
In-Reply-To: <AANLkTintYQ0R1fVuwQYh-PyKzUA+f5B1HVPj69Vq0m6X@mail.gmail.com>
References: <4D2DC600.7010700@ia-sh.de>
	<AANLkTintYQ0R1fVuwQYh-PyKzUA+f5B1HVPj69Vq0m6X@mail.gmail.com>
Message-ID: <4D2DD686.5040508@ia-sh.de>

Hey Chip,
wp_list_pages is really cool, I use it alot. The Problem is; how do I 
tell my customer that he can't add pages that shouldn't go into the 
navigation structure without asking me?

<?php 
wp_list_pages('exclude=206,228,230,265,267,269,271,273,283,320,322,324,329,339,344,347,351,418,419,420,421,422,423,466,467,468,469,470,471,472,533,534,550&sort_column=menu_order&title_li='); 
?>
That's the main nav of one of my projects ...  :-(

Also do you change the menu order by tipping 200 numbers into the menu 
order field in the post editor, or how are you able to sort that menu?

Greetings,
Malte


Am 12.01.2011 16:37, schrieb Chip Bennett:
> I have almost 200 pages in my site's Page menu, using
> wp_list_pages()<http://codex.wordpress.org/Function_Reference/wp_list_pages>
> .
>
> wp_list_pages() is incredibly powerful, and in nearly all cases, will
> support your needs (though it currently can't be integrated with
> wp_nav_menu(), unfortunately).
> Chip
> On Wed, Jan 12, 2011 at 9:17 AM, Malte Witt<m.witt at ia-sh.de>  wrote:
>
>> Hi all,
>> I have one question which I guess a lot of people had already thought about
>> before - so there likely must be a simple answer.
>> How do you build really big menus with 50-100 pages in your CMS like
>> wordpress installations? Although I really like wp_nav_menu, it lacks
>> usability for those usage scenarios.
>>
>> Am I just using the wrong CMS or is there a solution for this? I am already
>> using "CMS Tree Page View" for viewing the admin page panel in a tree view.
>> I guess I would just need something similar for the menus.
>>
>> I hope anybody knows a solution.
>>
>> Greetings,
>> Malte
>> **
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From chip at chipbennett.net  Wed Jan 12 16:32:52 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Wed, 12 Jan 2011 10:32:52 -0600
Subject: [wp-hackers] get_theme_support( 'post-formats' )
In-Reply-To: <AANLkTikFZrfYWA3BDAEAiWQL4vsuBX7Eaj2OOHzNLqfc@mail.gmail.com>
References: <AANLkTin3Bxudm5CqRAbHxHsfPocMXPJbK94_P5+kReHT@mail.gmail.com>
	<AANLkTimacrhTpQ1xYQQiGwU-RsYOd4YX5AzGhMRxoH2R@mail.gmail.com>
	<AANLkTik3WZ6JQK+403-bHnew7hU0euv-8=janW78Vn=x@mail.gmail.com>
	<AANLkTinT4uUgK3HtZ6Nhcff3TZ_sLkHRO=q0fW6GEGER@mail.gmail.com>
	<AANLkTimobu9nkU4Dw7QghukH1O1DDhkMUE0rkERq8K_p@mail.gmail.com>
	<AANLkTikFZrfYWA3BDAEAiWQL4vsuBX7Eaj2OOHzNLqfc@mail.gmail.com>
Message-ID: <AANLkTimSd835w4fiK+fSd33YfpoXS-hG6Fcf4NwrnHiN@mail.gmail.com>

Does this preclude the need to bother with get_theme_support()? Or will I
generate errors for unsupported $format->name values?

Chip

On Wed, Jan 12, 2011 at 10:22 AM, Otto <otto at ottodestruct.com> wrote:

> Simpler:
>
> $formats = get_terms('post_format');
> foreach ($formats as $format) {
> echo $format->name;
> echo $format->count;
> }
>
> -Otto
>
>
>
> On Wed, Jan 12, 2011 at 11:08 AM, Chip Bennett <chip at chipbennett.net>
> wrote:
> > Or can I just use
> > get_categories()<
> http://codex.wordpress.org/Function_Reference/get_categories>
>  > ?
> >
> > $postformatobj = get_categories( 'taxonomy' => 'post-formats' );
> > $postformatcount = $postformatobj->count;
> >
> > Any reason why that wouldn't work?
> >
> > Chip
> >
> >
> > On Wed, Jan 12, 2011 at 10:02 AM, Chip Bennett <chip at chipbennett.net>
> wrote:
> >
> >
> >
> >> As a follow-up question: if I want to retreive the count of each Post
> >> Format type, what would be the best approach?
> >>
> >> Perhaps something like (used inside a foreach, where $postformat is the
> >> slug):
> >>
> >> $postformatobj = get_term_by( slug, $postformat, 'post-formats' );
> >>
> >> $postformatcount = $postformatobj->count;
> >>
> >> Would that work? is there a better way?
> >>
> >> Thanks again,
> >>
> >> Chip
> >>
> >>
> >>   On Wed, Jan 12, 2011 at 9:38 AM, Chip Bennett <chip at chipbennett.net
> >wrote:
> >>
> >>
> >>> That's exactly what I was curious about. Thanks for clarifying, Otto!
> >>>
> >>> Chip
> >>>
> >>>
> >>>   On Wed, Jan 12, 2011 at 9:34 AM, Otto <otto at ottodestruct.com> wrote:
> >>>
> >>>
> >>>> On Wed, Jan 12, 2011 at 8:57 AM, Chip Bennett <chip at chipbennett.net>
> >>>> wrote:
> >>>> > $my_theme_supports = get_theme_support( 'post-formats' );
> >>>> > ...should result in, e.g.
> >>>> > $my_theme_supports = array( 'aside', 'gallery' );
> >>>>
> >>>>
> >>>> Actually, it returns an array with an array in it.
> >>>>
> >>>> array(1) { [0]=> array(9) {
> >>>> [0]=> string(5) "aside" [1]=> string(5) "audio" ...
> >>>> } }
> >>>>
> >>>> So you'll want to reference it with the [0].
> >>>>
> >>>> Simple code:
> >>>>
> >>>> $my_theme_supports = get_theme_support( 'post-formats' );
> >>>>
> >>>> if (is_array($my_theme_supports)) $my_theme_supports =
> >>>> $my_theme_supports[0];
> >>>>
> >>>> Now you'll have what you expect it to be.
> >>>>
> >>>> -Otto
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>>
> >>>
> >>
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at zed1.com  Wed Jan 12 16:33:06 2011
From: wordpress at zed1.com (Mike Little)
Date: Wed, 12 Jan 2011 16:33:06 +0000
Subject: [wp-hackers] limitations of wp_nav_menu // or what to do with
 really big menus?
In-Reply-To: <4D2DD686.5040508@ia-sh.de>
References: <4D2DC600.7010700@ia-sh.de>
	<AANLkTintYQ0R1fVuwQYh-PyKzUA+f5B1HVPj69Vq0m6X@mail.gmail.com>
	<4D2DD686.5040508@ia-sh.de>
Message-ID: <AANLkTikujxRwCUtKdM1csr6rF552Jf+RWJMsOjidBbzs@mail.gmail.com>

On 12 January 2011 16:27, Malte Witt <m.witt at ia-sh.de> wrote:

> Hey Chip,
> wp_list_pages is really cool, I use it alot. The Problem is; how do I tell
> my customer that he can't add pages that shouldn't go into the navigation
> structure without asking me?
>
> <?php
> wp_list_pages('exclude=206,228,230,265,267,269,271,273,283,320,322,324,329,339,344,347,351,418,419,420,421,422,423,466,467,468,469,470,471,472,533,534,550&sort_column=menu_order&title_li=');
> ?>
> That's the main nav of one of my projects ...  :-(
>
> Also do you change the menu order by tipping 200 numbers into the menu
> order field in the post editor, or how are you able to sort that menu?
>
> Greetings,
> Malte
>
>
Hi Malte

http://wordpress.org/extend/plugins/exclude-pages/ is a plugin which adds a
UI so your user can exclude pages from the navigation with a checkbox.

http://wordpress.org/extend/plugins/my-page-order/ is a plugin that adds a
drag and drop page ordering interface.

Mike
-- 
Mike Little
http://zed1.com/

From otto at ottodestruct.com  Wed Jan 12 16:34:51 2011
From: otto at ottodestruct.com (Otto)
Date: Wed, 12 Jan 2011 11:34:51 -0500
Subject: [wp-hackers] get_theme_support( 'post-formats' )
In-Reply-To: <AANLkTimSd835w4fiK+fSd33YfpoXS-hG6Fcf4NwrnHiN@mail.gmail.com>
References: <AANLkTin3Bxudm5CqRAbHxHsfPocMXPJbK94_P5+kReHT@mail.gmail.com>
	<AANLkTimacrhTpQ1xYQQiGwU-RsYOd4YX5AzGhMRxoH2R@mail.gmail.com>
	<AANLkTik3WZ6JQK+403-bHnew7hU0euv-8=janW78Vn=x@mail.gmail.com>
	<AANLkTinT4uUgK3HtZ6Nhcff3TZ_sLkHRO=q0fW6GEGER@mail.gmail.com>
	<AANLkTimobu9nkU4Dw7QghukH1O1DDhkMUE0rkERq8K_p@mail.gmail.com>
	<AANLkTikFZrfYWA3BDAEAiWQL4vsuBX7Eaj2OOHzNLqfc@mail.gmail.com>
	<AANLkTimSd835w4fiK+fSd33YfpoXS-hG6Fcf4NwrnHiN@mail.gmail.com>
Message-ID: <AANLkTinyHLQ8Xz6RfeVqT8JvEO-aDdFUeqDec9PaQYmF@mail.gmail.com>

On Wed, Jan 12, 2011 at 11:32 AM, Chip Bennett <chip at chipbennett.net> wrote:
> Does this preclude the need to bother with get_theme_support()? Or will I
> generate errors for unsupported $format->name values?

get_terms just gets whatever terms exist in the database for that
taxonomy. If you only have ever used gallery, then that's all you get
back.


-Otto

From chip at chipbennett.net  Wed Jan 12 16:41:52 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Wed, 12 Jan 2011 10:41:52 -0600
Subject: [wp-hackers] get_theme_support( 'post-formats' )
In-Reply-To: <AANLkTinyHLQ8Xz6RfeVqT8JvEO-aDdFUeqDec9PaQYmF@mail.gmail.com>
References: <AANLkTin3Bxudm5CqRAbHxHsfPocMXPJbK94_P5+kReHT@mail.gmail.com>
	<AANLkTimacrhTpQ1xYQQiGwU-RsYOd4YX5AzGhMRxoH2R@mail.gmail.com>
	<AANLkTik3WZ6JQK+403-bHnew7hU0euv-8=janW78Vn=x@mail.gmail.com>
	<AANLkTinT4uUgK3HtZ6Nhcff3TZ_sLkHRO=q0fW6GEGER@mail.gmail.com>
	<AANLkTimobu9nkU4Dw7QghukH1O1DDhkMUE0rkERq8K_p@mail.gmail.com>
	<AANLkTikFZrfYWA3BDAEAiWQL4vsuBX7Eaj2OOHzNLqfc@mail.gmail.com>
	<AANLkTimSd835w4fiK+fSd33YfpoXS-hG6Fcf4NwrnHiN@mail.gmail.com>
	<AANLkTinyHLQ8Xz6RfeVqT8JvEO-aDdFUeqDec9PaQYmF@mail.gmail.com>
Message-ID: <AANLkTim6m7wc7cTt_M8Cx8Gg9P9OZX6gTa-M7t-ifjW7@mail.gmail.com>

And would the object be the same as with get_categories(), such that:

$obj->name = slug
$obj->nicename = display name

etc.?

Chip

On Wed, Jan 12, 2011 at 10:34 AM, Otto <otto at ottodestruct.com> wrote:

> On Wed, Jan 12, 2011 at 11:32 AM, Chip Bennett <chip at chipbennett.net>
> wrote:
> > Does this preclude the need to bother with get_theme_support()? Or will I
> > generate errors for unsupported $format->name values?
>
> get_terms just gets whatever terms exist in the database for that
> taxonomy. If you only have ever used gallery, then that's all you get
> back.
>
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chip at chipbennett.net  Wed Jan 12 17:25:02 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Wed, 12 Jan 2011 11:25:02 -0600
Subject: [wp-hackers] get_theme_support( 'post-formats' )
In-Reply-To: <AANLkTim6m7wc7cTt_M8Cx8Gg9P9OZX6gTa-M7t-ifjW7@mail.gmail.com>
References: <AANLkTin3Bxudm5CqRAbHxHsfPocMXPJbK94_P5+kReHT@mail.gmail.com>
	<AANLkTimacrhTpQ1xYQQiGwU-RsYOd4YX5AzGhMRxoH2R@mail.gmail.com>
	<AANLkTik3WZ6JQK+403-bHnew7hU0euv-8=janW78Vn=x@mail.gmail.com>
	<AANLkTinT4uUgK3HtZ6Nhcff3TZ_sLkHRO=q0fW6GEGER@mail.gmail.com>
	<AANLkTimobu9nkU4Dw7QghukH1O1DDhkMUE0rkERq8K_p@mail.gmail.com>
	<AANLkTikFZrfYWA3BDAEAiWQL4vsuBX7Eaj2OOHzNLqfc@mail.gmail.com>
	<AANLkTimSd835w4fiK+fSd33YfpoXS-hG6Fcf4NwrnHiN@mail.gmail.com>
	<AANLkTinyHLQ8Xz6RfeVqT8JvEO-aDdFUeqDec9PaQYmF@mail.gmail.com>
	<AANLkTim6m7wc7cTt_M8Cx8Gg9P9OZX6gTa-M7t-ifjW7@mail.gmail.com>
Message-ID: <AANLkTi=iSZVUaaCWWTw61MqmaAp7CigRgzTKfGJMDAbE@mail.gmail.com>

Okay, I can't find the term for the Post Format slug.

$obj->slug returns *'post-format-slug'*
**
I want just *'slug'*

$obj->nicename returns nothing.
$obj->term_nicename returns nothing.
$obj->post_format_nicename returns nothing

Is there a way to return 'slug' only, or do I need to ltrim $obj->slug to
pull off 'post-format-'?

Chip

On Wed, Jan 12, 2011 at 10:41 AM, Chip Bennett <chip at chipbennett.net> wrote:

> And would the object be the same as with get_categories(), such that:
>
> $obj->name = slug
> $obj->nicename = display name
>
> etc.?
>
> Chip
>
>   On Wed, Jan 12, 2011 at 10:34 AM, Otto <otto at ottodestruct.com> wrote:
>
>> On Wed, Jan 12, 2011 at 11:32 AM, Chip Bennett <chip at chipbennett.net>
>> wrote:
>> > Does this preclude the need to bother with get_theme_support()? Or will
>> I
>> > generate errors for unsupported $format->name values?
>>
>> get_terms just gets whatever terms exist in the database for that
>> taxonomy. If you only have ever used gallery, then that's all you get
>> back.
>>
>>
>> -Otto
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From philip at frumph.net  Wed Jan 12 17:28:21 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Wed, 12 Jan 2011 09:28:21 -0800
Subject: [wp-hackers] have a question about wp-admin/custom-header.php
Message-ID: <F560793EEEE1452D825209D8EE7DC53C@frumph.net>

I'm looking at the class and it's showing step() to default to 1

However, the issue i'm having on my WPMS is that after the first time going into the custom header, if I try to go back into it, it locks up the page 

*unless* I add &step=1 to the end of the url line

Is the value for step being saved someplace?


- Phil


From otto at ottodestruct.com  Wed Jan 12 17:59:36 2011
From: otto at ottodestruct.com (Otto)
Date: Wed, 12 Jan 2011 12:59:36 -0500
Subject: [wp-hackers] get_theme_support( 'post-formats' )
In-Reply-To: <AANLkTi=iSZVUaaCWWTw61MqmaAp7CigRgzTKfGJMDAbE@mail.gmail.com>
References: <AANLkTin3Bxudm5CqRAbHxHsfPocMXPJbK94_P5+kReHT@mail.gmail.com>
	<AANLkTimacrhTpQ1xYQQiGwU-RsYOd4YX5AzGhMRxoH2R@mail.gmail.com>
	<AANLkTik3WZ6JQK+403-bHnew7hU0euv-8=janW78Vn=x@mail.gmail.com>
	<AANLkTinT4uUgK3HtZ6Nhcff3TZ_sLkHRO=q0fW6GEGER@mail.gmail.com>
	<AANLkTimobu9nkU4Dw7QghukH1O1DDhkMUE0rkERq8K_p@mail.gmail.com>
	<AANLkTikFZrfYWA3BDAEAiWQL4vsuBX7Eaj2OOHzNLqfc@mail.gmail.com>
	<AANLkTimSd835w4fiK+fSd33YfpoXS-hG6Fcf4NwrnHiN@mail.gmail.com>
	<AANLkTinyHLQ8Xz6RfeVqT8JvEO-aDdFUeqDec9PaQYmF@mail.gmail.com>
	<AANLkTim6m7wc7cTt_M8Cx8Gg9P9OZX6gTa-M7t-ifjW7@mail.gmail.com>
	<AANLkTi=iSZVUaaCWWTw61MqmaAp7CigRgzTKfGJMDAbE@mail.gmail.com>
Message-ID: <AANLkTimSdFdsJYe1rtv2yZUCfvNAT+52uLz8B39dhFMQ@mail.gmail.com>

On Wed, Jan 12, 2011 at 12:25 PM, Chip Bennett <chip at chipbennett.net> wrote:
> Okay, I can't find the term for the Post Format slug.
>
> $obj->slug returns *'post-format-slug'*
> **
> I want just *'slug'*
>
> $obj->nicename returns nothing.
> $obj->term_nicename returns nothing.
> $obj->post_format_nicename returns nothing
>
> Is there a way to return 'slug' only, or do I need to ltrim $obj->slug to
> pull off 'post-format-'?

You have to trim it. The slug isn't stored solo.

-Otto

From chip at chipbennett.net  Wed Jan 12 18:02:37 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Wed, 12 Jan 2011 12:02:37 -0600
Subject: [wp-hackers] get_theme_support( 'post-formats' )
In-Reply-To: <AANLkTimSdFdsJYe1rtv2yZUCfvNAT+52uLz8B39dhFMQ@mail.gmail.com>
References: <AANLkTin3Bxudm5CqRAbHxHsfPocMXPJbK94_P5+kReHT@mail.gmail.com>
	<AANLkTimacrhTpQ1xYQQiGwU-RsYOd4YX5AzGhMRxoH2R@mail.gmail.com>
	<AANLkTik3WZ6JQK+403-bHnew7hU0euv-8=janW78Vn=x@mail.gmail.com>
	<AANLkTinT4uUgK3HtZ6Nhcff3TZ_sLkHRO=q0fW6GEGER@mail.gmail.com>
	<AANLkTimobu9nkU4Dw7QghukH1O1DDhkMUE0rkERq8K_p@mail.gmail.com>
	<AANLkTikFZrfYWA3BDAEAiWQL4vsuBX7Eaj2OOHzNLqfc@mail.gmail.com>
	<AANLkTimSd835w4fiK+fSd33YfpoXS-hG6Fcf4NwrnHiN@mail.gmail.com>
	<AANLkTinyHLQ8Xz6RfeVqT8JvEO-aDdFUeqDec9PaQYmF@mail.gmail.com>
	<AANLkTim6m7wc7cTt_M8Cx8Gg9P9OZX6gTa-M7t-ifjW7@mail.gmail.com>
	<AANLkTi=iSZVUaaCWWTw61MqmaAp7CigRgzTKfGJMDAbE@mail.gmail.com>
	<AANLkTimSdFdsJYe1rtv2yZUCfvNAT+52uLz8B39dhFMQ@mail.gmail.com>
Message-ID: <AANLkTikCmaOZRNJRJdLoGpQmZ6R=1yzPKSMkw1hapSTm@mail.gmail.com>

Kind of hacky, but *substr( $obj->slug, 12 )* gets the job done...

Chip

On Wed, Jan 12, 2011 at 11:59 AM, Otto <otto at ottodestruct.com> wrote:

> On Wed, Jan 12, 2011 at 12:25 PM, Chip Bennett <chip at chipbennett.net>
> wrote:
> > Okay, I can't find the term for the Post Format slug.
> >
> > $obj->slug returns *'post-format-slug'*
> > **
> > I want just *'slug'*
> >
> > $obj->nicename returns nothing.
> > $obj->term_nicename returns nothing.
> > $obj->post_format_nicename returns nothing
> >
> > Is there a way to return 'slug' only, or do I need to ltrim $obj->slug to
> > pull off 'post-format-'?
>
> You have to trim it. The slug isn't stored solo.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From yok2504 at gmail.com  Wed Jan 12 22:05:12 2011
From: yok2504 at gmail.com (Sinan)
Date: Thu, 13 Jan 2011 00:05:12 +0200
Subject: [wp-hackers] =?utf-8?q?hello_=C4=B1_have_a_problem?=
Message-ID: <AANLkTimMxAiM39vU_ZR7LFGU5cu-7T6VMYaNr7DO0gEP@mail.gmail.com>

i need a solution for this problem;


you know that;   category-*id*.php   list the special category but i need
when click the   post  in this category-*id*.php

open   single-*(cat-id)*.php   how can i do that ?



:(

-- 
     Sinan ??LER
www.sinanisler.com
sinanisler.deviantart.com

From hempsworth at gmail.com  Wed Jan 12 22:12:47 2011
From: hempsworth at gmail.com (Alexander Hempton-Smith)
Date: Wed, 12 Jan 2011 22:12:47 +0000
Subject: [wp-hackers] =?utf-8?q?hello_=C4=B1_have_a_problem?=
In-Reply-To: <AANLkTimMxAiM39vU_ZR7LFGU5cu-7T6VMYaNr7DO0gEP@mail.gmail.com>
References: <AANLkTimMxAiM39vU_ZR7LFGU5cu-7T6VMYaNr7DO0gEP@mail.gmail.com>
Message-ID: <-7794865153012279603@unknownmsgid>

In your single.php you could use a conditional statement to do
something specific for that category:

if ( is_category( 'your-cat' ) ) {

// Do something for that category

} else {

// Something else for all other cats

}

-- Alex

Sent from my iPhone

On 12 Jan 2011, at 22:05, Sinan <yok2504 at gmail.com> wrote:

> i need a solution for this problem;
>
>
> you know that;   category-*id*.php   list the special category but i need
> when click the   post  in this category-*id*.php
>
> open   single-*(cat-id)*.php   how can i do that ?
>
>
>
> :(
>
> --
>     Sinan ??LER
> www.sinanisler.com
> sinanisler.deviantart.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From jer at simianuprising.com  Wed Jan 12 22:14:05 2011
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 12 Jan 2011 17:14:05 -0500
Subject: [wp-hackers] Modifying wp_list_pages() from a plugin
In-Reply-To: <AANLkTin+kgE00wvcLFcA8B3Zuz_3p-4Qpkh3=33y4j1y@mail.gmail.com>
References: <AANLkTimsAWjTQGEfSqVyjpfdSV16YfaCh1zZMVc_woH4@mail.gmail.com>
	<002701cbad2a$91a173a0$b4e45ae0$@brimosoft.nl>
	<AANLkTin+kgE00wvcLFcA8B3Zuz_3p-4Qpkh3=33y4j1y@mail.gmail.com>
Message-ID: <AANLkTimpZ9PYveQA9DNc0b142pUV1rdc3w9VH4nzM0ga@mail.gmail.com>

On Wed, Jan 5, 2011 at 6:28 PM, Pete Holiday <pete.holiday at gmail.com> wrote:

> The wp_list_pages filter is applied to the HTML after it's generated, which
> would require me to a) query MySQL to see if the user has any private pages
> to display, b) parse the HTML to determine the format, c) insert the
> appropriate HTML in the right place. If that's the only solution, I suppose
> that's better than nothing, but I'm not sure how reliably the HTML could
> really be parsed into the values passed into the method.
>
>
I just checked and it seems like wp_list_pages calls get_pages(), which lets
you filter the results before returning:

    $pages = apply_filters('get_pages', $pages, $r);

Wouldn't that be the right filter for you?

-- 
Jeremy Clarke
Code and Design ? globalvoicesonline.org

From yok2504 at gmail.com  Wed Jan 12 22:30:34 2011
From: yok2504 at gmail.com (Sinan)
Date: Thu, 13 Jan 2011 00:30:34 +0200
Subject: [wp-hackers] =?utf-8?q?hello_=C4=B1_have_a_problem?=
In-Reply-To: <-7794865153012279603@unknownmsgid>
References: <AANLkTimMxAiM39vU_ZR7LFGU5cu-7T6VMYaNr7DO0gEP@mail.gmail.com>
	<-7794865153012279603@unknownmsgid>
Message-ID: <AANLkTimEP+U_ZQNfLonWXaCzzyK7ALTkjCxE1-7Nkb5p@mail.gmail.com>

i dont know why but is_category() not working

is there have any other solutions ?


2011/1/13 Alexander Hempton-Smith <hempsworth at gmail.com>

> In your single.php you could use a conditional statement to do
> something specific for that category:
>
> if ( is_category( 'your-cat' ) ) {
>
> // Do something for that category
>
> } else {
>
> // Something else for all other cats
>
> }
>
> -- Alex
>
> Sent from my iPhone
>
> On 12 Jan 2011, at 22:05, Sinan <yok2504 at gmail.com> wrote:
>
> > i need a solution for this problem;
> >
> >
> > you know that;   category-*id*.php   list the special category but i need
> > when click the   post  in this category-*id*.php
> >
> > open   single-*(cat-id)*.php   how can i do that ?
> >
> >
> >
> > :(
> >
> > --
> >     Sinan ??LER
> > www.sinanisler.com
> > sinanisler.deviantart.com
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
     Sinan ??LER
www.sinanisler.com
sinanisler.deviantart.com

From goldenapplesdesign at gmail.com  Wed Jan 12 22:33:38 2011
From: goldenapplesdesign at gmail.com (Nathaniel Taintor)
Date: Wed, 12 Jan 2011 14:33:38 -0800
Subject: [wp-hackers] =?utf-8?q?hello_=C4=B1_have_a_problem?=
In-Reply-To: <AANLkTimEP+U_ZQNfLonWXaCzzyK7ALTkjCxE1-7Nkb5p@mail.gmail.com>
References: <AANLkTimMxAiM39vU_ZR7LFGU5cu-7T6VMYaNr7DO0gEP@mail.gmail.com>
	<-7794865153012279603@unknownmsgid>
	<AANLkTimEP+U_ZQNfLonWXaCzzyK7ALTkjCxE1-7Nkb5p@mail.gmail.com>
Message-ID: <AANLkTikh=giKRBXb_3h1fFtX_LJeS8O2rLY=kT_YzVPh@mail.gmail.com>

On Wed, Jan 12, 2011 at 2:30 PM, Sinan <yok2504 at gmail.com> wrote:

> i dont know why but is_category() not working
>
> is there have any other solutions ?
>


I think it should be in_category()...


>
>
> 2011/1/13 Alexander Hempton-Smith <hempsworth at gmail.com>
>
> > In your single.php you could use a conditional statement to do
> > something specific for that category:
> >
> > if ( is_category( 'your-cat' ) ) {
> >
> > // Do something for that category
> >
> > } else {
> >
> > // Something else for all other cats
> >
> > }
> >
> > -- Alex
> >
> > Sent from my iPhone
> >
> > On 12 Jan 2011, at 22:05, Sinan <yok2504 at gmail.com> wrote:
> >
> > > i need a solution for this problem;
> > >
> > >
> > > you know that;   category-*id*.php   list the special category but i
> need
> > > when click the   post  in this category-*id*.php
> > >
> > > open   single-*(cat-id)*.php   how can i do that ?
> > >
> > >
> > >
> > > :(
> > >
> > > --
> > >     Sinan ??LER
> > > www.sinanisler.com
> > > sinanisler.deviantart.com
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
>      Sinan ??LER
> www.sinanisler.com
> sinanisler.deviantart.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From yok2504 at gmail.com  Wed Jan 12 22:41:44 2011
From: yok2504 at gmail.com (Sinan)
Date: Thu, 13 Jan 2011 00:41:44 +0200
Subject: [wp-hackers] =?utf-8?q?hello_=C4=B1_have_a_problem?=
In-Reply-To: <AANLkTikh=giKRBXb_3h1fFtX_LJeS8O2rLY=kT_YzVPh@mail.gmail.com>
References: <AANLkTimMxAiM39vU_ZR7LFGU5cu-7T6VMYaNr7DO0gEP@mail.gmail.com>
	<-7794865153012279603@unknownmsgid>
	<AANLkTimEP+U_ZQNfLonWXaCzzyK7ALTkjCxE1-7Nkb5p@mail.gmail.com>
	<AANLkTikh=giKRBXb_3h1fFtX_LJeS8O2rLY=kT_YzVPh@mail.gmail.com>
Message-ID: <AANLkTinBwE56g2RhsSzZGvR1GTuayGzeemxc8OM+h33J@mail.gmail.com>

still not working

http://prntscr.com/1ekux


pff :(

2011/1/13 Nathaniel Taintor <goldenapplesdesign at gmail.com>

> On Wed, Jan 12, 2011 at 2:30 PM, Sinan <yok2504 at gmail.com> wrote:
>
> > i dont know why but is_category() not working
> >
> > is there have any other solutions ?
> >
>
>
> I think it should be in_category()...
>
>
> >
> >
> > 2011/1/13 Alexander Hempton-Smith <hempsworth at gmail.com>
> >
> > > In your single.php you could use a conditional statement to do
> > > something specific for that category:
> > >
> > > if ( is_category( 'your-cat' ) ) {
> > >
> > > // Do something for that category
> > >
> > > } else {
> > >
> > > // Something else for all other cats
> > >
> > > }
> > >
> > > -- Alex
> > >
> > > Sent from my iPhone
> > >
> > > On 12 Jan 2011, at 22:05, Sinan <yok2504 at gmail.com> wrote:
> > >
> > > > i need a solution for this problem;
> > > >
> > > >
> > > > you know that;   category-*id*.php   list the special category but i
> > need
> > > > when click the   post  in this category-*id*.php
> > > >
> > > > open   single-*(cat-id)*.php   how can i do that ?
> > > >
> > > >
> > > >
> > > > :(
> > > >
> > > > --
> > > >     Sinan ??LER
> > > > www.sinanisler.com
> > > > sinanisler.deviantart.com
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> >
> >
> > --
> >      Sinan ??LER
> > www.sinanisler.com
> > sinanisler.deviantart.com
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
     Sinan ??LER
www.sinanisler.com
sinanisler.deviantart.com

From yok2504 at gmail.com  Wed Jan 12 22:47:13 2011
From: yok2504 at gmail.com (Sinan)
Date: Thu, 13 Jan 2011 00:47:13 +0200
Subject: [wp-hackers] =?utf-8?q?hello_=C4=B1_have_a_problem?=
In-Reply-To: <AANLkTinBwE56g2RhsSzZGvR1GTuayGzeemxc8OM+h33J@mail.gmail.com>
References: <AANLkTimMxAiM39vU_ZR7LFGU5cu-7T6VMYaNr7DO0gEP@mail.gmail.com>
	<-7794865153012279603@unknownmsgid>
	<AANLkTimEP+U_ZQNfLonWXaCzzyK7ALTkjCxE1-7Nkb5p@mail.gmail.com>
	<AANLkTikh=giKRBXb_3h1fFtX_LJeS8O2rLY=kT_YzVPh@mail.gmail.com>
	<AANLkTinBwE56g2RhsSzZGvR1GTuayGzeemxc8OM+h33J@mail.gmail.com>
Message-ID: <AANLkTinobXnJoqSfk0Gj9eM1dLrPfK_7xsaN0KjbqEHL@mail.gmail.com>

? found the problem, I chose the mother category but i want the see child
categorys :)

thank you guys for fast answers :)




13 Ocak 2011 00:41 tarihinde Sinan <yok2504 at gmail.com> yazd?:

> still not working
>
> http://prntscr.com/1ekux
>
>
> pff :(
>
> 2011/1/13 Nathaniel Taintor <goldenapplesdesign at gmail.com>
>
> On Wed, Jan 12, 2011 at 2:30 PM, Sinan <yok2504 at gmail.com> wrote:
>>
>> > i dont know why but is_category() not working
>> >
>> > is there have any other solutions ?
>> >
>>
>>
>> I think it should be in_category()...
>>
>>
>> >
>> >
>> > 2011/1/13 Alexander Hempton-Smith <hempsworth at gmail.com>
>> >
>> > > In your single.php you could use a conditional statement to do
>> > > something specific for that category:
>> > >
>> > > if ( is_category( 'your-cat' ) ) {
>> > >
>> > > // Do something for that category
>> > >
>> > > } else {
>> > >
>> > > // Something else for all other cats
>> > >
>> > > }
>> > >
>> > > -- Alex
>> > >
>> > > Sent from my iPhone
>> > >
>> > > On 12 Jan 2011, at 22:05, Sinan <yok2504 at gmail.com> wrote:
>> > >
>> > > > i need a solution for this problem;
>> > > >
>> > > >
>> > > > you know that;   category-*id*.php   list the special category but i
>> > need
>> > > > when click the   post  in this category-*id*.php
>> > > >
>> > > > open   single-*(cat-id)*.php   how can i do that ?
>> > > >
>> > > >
>> > > >
>> > > > :(
>> > > >
>> > > > --
>> > > >     Sinan ??LER
>> > > > www.sinanisler.com
>> > > > sinanisler.deviantart.com
>> > > > _______________________________________________
>> > > > wp-hackers mailing list
>> > > > wp-hackers at lists.automattic.com
>> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > > _______________________________________________
>> > > wp-hackers mailing list
>> > > wp-hackers at lists.automattic.com
>> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > >
>> >
>> >
>> >
>> > --
>> >      Sinan ??LER
>> > www.sinanisler.com
>> > sinanisler.deviantart.com
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
>      Sinan ??LER
> www.sinanisler.com
> sinanisler.deviantart.com
>



-- 
     Sinan ??LER
www.sinanisler.com
sinanisler.deviantart.com

From 24-7 at gmx.net  Wed Jan 12 22:48:04 2011
From: 24-7 at gmx.net (24/7)
Date: Wed, 12 Jan 2011 14:48:04 -0800 (PST)
Subject: [wp-hackers] wp_redirect extremly slow
Message-ID: <2d5f3093-ec56-4f8c-bae4-7aa2a443d533@r29g2000yqj.googlegroups.com>

Hi,

i work with my own little framework and got some sort of small setup
procedure. Therefore i question if the setup process is already done
or if there should be a redirect to the setup page. My problem is,
that the redirect via wp_redirect often ends up needing 30sec.+ Has
someone any explanation for this?

<?php
// Note: Just example code. Typing errors happened in here

class myInit() {
function __construct() {
   if ( empty($setup) ) {
       // do stuff
   }
   else {
       add_action( 'init', array(&$this, 'redirect'), 0);
   }

   public static function redirect() {
       wp_redirect( get_bloginfo('url').'/wp-admin/admin.php?
page=setup.php', 301 );
   }
}
}

Thanks!
-K.

From wp at andrewnacin.com  Wed Jan 12 22:52:21 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 12 Jan 2011 17:52:21 -0500
Subject: [wp-hackers] wp_redirect extremly slow
In-Reply-To: <2d5f3093-ec56-4f8c-bae4-7aa2a443d533@r29g2000yqj.googlegroups.com>
References: <2d5f3093-ec56-4f8c-bae4-7aa2a443d533@r29g2000yqj.googlegroups.com>
Message-ID: <AANLkTinN7iL8zE_iXTyx6bkB-4oqcRkoJEj0Xc=-G65B@mail.gmail.com>

On Wed, Jan 12, 2011 at 5:48 PM, 24/7 <24-7 at gmx.net> wrote:

> Hi,
>
> i work with my own little framework and got some sort of small setup
> procedure. Therefore i question if the setup process is already done
> or if there should be a redirect to the setup page. My problem is,
> that the redirect via wp_redirect often ends up needing 30sec.+ Has
> someone any explanation for this?
>
> <?php
> // Note: Just example code. Typing errors happened in here
>
> class myInit() {
> function __construct() {
>   if ( empty($setup) ) {
>       // do stuff
>   }
>   else {
>       add_action( 'init', array(&$this, 'redirect'), 0);
>   }
>
>   public static function redirect() {
>       wp_redirect( get_bloginfo('url').'/wp-admin/admin.php?
> page=setup.php', 301 );
>   }
> }
> }
>

You need to always call exit; or die; after wp_redirect(). Otherwise, the
script continues and headers may not be sent.

From 24-7 at gmx.net  Wed Jan 12 23:08:38 2011
From: 24-7 at gmx.net (24/7)
Date: Wed, 12 Jan 2011 15:08:38 -0800 (PST)
Subject: [wp-hackers] wp_redirect extremly slow
In-Reply-To: <AANLkTinN7iL8zE_iXTyx6bkB-4oqcRkoJEj0Xc=-G65B@mail.gmail.com>
References: <2d5f3093-ec56-4f8c-bae4-7aa2a443d533@r29g2000yqj.googlegroups.com>
	<AANLkTinN7iL8zE_iXTyx6bkB-4oqcRkoJEj0Xc=-G65B@mail.gmail.com>
Message-ID: <dd1885cd-07cb-4765-abe5-033902bf4729@l8g2000yqh.googlegroups.com>

Hi Nacin,

thanks for your quick answer. Mea culpa. I simply forgot it in the
sample above. There's of course an exit() included. So the code looks
similar to this one:

<?php
// Note: Just example code. Typing errors (and similar) happened in
here.
class myInit() {
function __construct() {
   if ( empty($setup) ) {
       // do stuff
   }
   else {
       add_action( 'init', array(&$this, 'redirect'), 0);
   }

   public static function redirect() {
       wp_redirect( get_bloginfo('url').'/wp-admin/admin.php?
page=setup.php', 301 );
       exit();
   }
}
}
?>

I also tried using status_header(301) before the wp_redirect and
setting other header states, but i always run into a timeout.

-K.

From rbilesky at gmail.com  Wed Jan 12 23:29:50 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 12 Jan 2011 15:29:50 -0800
Subject: [wp-hackers] Throw 404 error via plugin
In-Reply-To: <AANLkTikt=c68bJYzZouSoLzXcfedpvCmApYwanjbEFBE@mail.gmail.com>
References: <AANLkTikutwaE456s-syC7c9=0jpni8zrNSH9i+iqL6Av@mail.gmail.com>
	<AANLkTikt=c68bJYzZouSoLzXcfedpvCmApYwanjbEFBE@mail.gmail.com>
Message-ID: <AANLkTim+YzyXnR4BJouSq80dFO=h2fmp+AQvCJKchorT@mail.gmail.com>

No luck.  I am hooking into init, checking to see if I want to allow the
user to access it.  If not throw a 404 error.

<?php
add_action('init','not_found_test',0);
function not_found_test() {
 global $wp_query;
     if (1=1) {
             status_header('404');
             $wp_query->set_404();
 }
}
?>

On Tue, Jan 11, 2011 at 10:24 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

>  On Tue, Jan 11, 2011 at 10:01 PM, Ryan Bilesky <rbilesky at gmail.com>
> wrote:
>
> > So I am working on a plugin where I want to selectivly throw a 404 error.
> >
> > I try header() and this sets the http header to show a not found error,
> but
> > I get the browsers default 404 error page.
> >
> > I try including the 404.php template file but while it looks like a 404
> > error to the user, the http header status shows 200 ok.
> >
> > I try using both methods together again no luck,.  I want the http status
> > code to show 404 AND to use the 404.php template to show the user.  How
> > does
> > the core do this?
>
>
> The template file doesn't have to do with the headers. You'll want to
> trigger 404 headers via status_header('404') and the 404 template via
> $wp_query->set_404(). But a lot of this depends on what exactly you're
> trying to do.
>
> Nacin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From notfornoone at gmail.com  Thu Jan 13 02:13:47 2011
From: notfornoone at gmail.com (ampt)
Date: Thu, 13 Jan 2011 13:13:47 +1100
Subject: [wp-hackers] Throw 404 error via plugin
In-Reply-To: <AANLkTim+YzyXnR4BJouSq80dFO=h2fmp+AQvCJKchorT@mail.gmail.com>
References: <AANLkTikutwaE456s-syC7c9=0jpni8zrNSH9i+iqL6Av@mail.gmail.com>
	<AANLkTikt=c68bJYzZouSoLzXcfedpvCmApYwanjbEFBE@mail.gmail.com>
	<AANLkTim+YzyXnR4BJouSq80dFO=h2fmp+AQvCJKchorT@mail.gmail.com>
Message-ID: <72004A8CD7E7455F8AABF0A276F26ED7@gmail.com>

try hooking it onto pre_get_posts, I think the init action is too early to modify the query.


thanks,


ampt




On Thursday, 13 January 2011 at 10:29 AM, Ryan Bilesky wrote:

> No luck. I am hooking into init, checking to see if I want to allow the
> user to access it. If not throw a 404 error.
> 
> <?php
> add_action('init','not_found_test',0);
> function not_found_test() {
>  global $wp_query;
>  if (1=1) {
>  status_header('404');
>  $wp_query->set_404();
>  }
> }
> ?>
> 
> On Tue, Jan 11, 2011 at 10:24 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> 
> 
> >  On Tue, Jan 11, 2011 at 10:01 PM, Ryan Bilesky <rbilesky at gmail.com>
> > wrote:
> > 
> > 
> > > So I am working on a plugin where I want to selectivly throw a 404 error.
> > > 
> > > I try header() and this sets the http header to show a not found error,
> > > 
> > > 
> > but
> > 
> > > I get the browsers default 404 error page.
> > > 
> > > I try including the 404.php template file but while it looks like a 404
> > > error to the user, the http header status shows 200 ok.
> > > 
> > > I try using both methods together again no luck,. I want the http status
> > > code to show 404 AND to use the 404.php template to show the user. How
> > > does
> > > the core do this?
> > > 
> > > 
> > 
> > 
> > The template file doesn't have to do with the headers. You'll want to
> > trigger 404 headers via status_header('404') and the 404 template via
> > $wp_query->set_404(). But a lot of this depends on what exactly you're
> > trying to do.
> > 
> > Nacin
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > 
> > 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 





From rbilesky at gmail.com  Thu Jan 13 04:31:16 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 12 Jan 2011 20:31:16 -0800
Subject: [wp-hackers] Throw 404 error via plugin
In-Reply-To: <72004A8CD7E7455F8AABF0A276F26ED7@gmail.com>
References: <AANLkTikutwaE456s-syC7c9=0jpni8zrNSH9i+iqL6Av@mail.gmail.com>
	<AANLkTikt=c68bJYzZouSoLzXcfedpvCmApYwanjbEFBE@mail.gmail.com>
	<AANLkTim+YzyXnR4BJouSq80dFO=h2fmp+AQvCJKchorT@mail.gmail.com>
	<72004A8CD7E7455F8AABF0A276F26ED7@gmail.com>
Message-ID: <AANLkTi=PbrJsKk2Z7PDAFZK+i6r+7-tFGFWBx5y+5voj@mail.gmail.com>

I'm not trying to modify the query so that shouldn't matter.

On Jan 12, 2011 6:14 PM, "ampt" <notfornoone at gmail.com> wrote:
> try hooking it onto pre_get_posts, I think the init action is too early to
modify the query.
>
>
> thanks,
>
>
> ampt
>
>
>
>
> On Thursday, 13 January 2011 at 10:29 AM, Ryan Bilesky wrote:
>
>> No luck. I am hooking into init, checking to see if I want to allow the
>> user to access it. If not throw a 404 error.
>>
>> <?php
>> add_action('init','not_found_test',0);
>> function not_found_test() {
>> global $wp_query;
>> if (1=1) {
>> status_header('404');
>> $wp_query->set_404();
>> }
>> }
>> ?>
>>
>> On Tue, Jan 11, 2011 at 10:24 PM, Andrew Nacin <wp at andrewnacin.com>
wrote:
>>
>>
>> > On Tue, Jan 11, 2011 at 10:01 PM, Ryan Bilesky <rbilesky at gmail.com>
>> > wrote:
>> >
>> >
>> > > So I am working on a plugin where I want to selectivly throw a 404
error.
>> > >
>> > > I try header() and this sets the http header to show a not found
error,
>> > >
>> > >
>> > but
>> >
>> > > I get the browsers default 404 error page.
>> > >
>> > > I try including the 404.php template file but while it looks like a
404
>> > > error to the user, the http header status shows 200 ok.
>> > >
>> > > I try using both methods together again no luck,. I want the http
status
>> > > code to show 404 AND to use the 404.php template to show the user.
How
>> > > does
>> > > the core do this?
>> > >
>> > >
>> >
>> >
>> > The template file doesn't have to do with the headers. You'll want to
>> > trigger 404 headers via status_header('404') and the 404 template via
>> > $wp_query->set_404(). But a lot of this depends on what exactly you're
>> > trying to do.
>> >
>> > Nacin
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From 24-7 at gmx.net  Thu Jan 13 05:33:24 2011
From: 24-7 at gmx.net (24/7)
Date: Wed, 12 Jan 2011 21:33:24 -0800 (PST)
Subject: [wp-hackers] Throw 404 error via plugin
In-Reply-To: <AANLkTi=PbrJsKk2Z7PDAFZK+i6r+7-tFGFWBx5y+5voj@mail.gmail.com>
References: <AANLkTikutwaE456s-syC7c9=0jpni8zrNSH9i+iqL6Av@mail.gmail.com>
	<AANLkTikt=c68bJYzZouSoLzXcfedpvCmApYwanjbEFBE@mail.gmail.com>
	<AANLkTim+YzyXnR4BJouSq80dFO=h2fmp+AQvCJKchorT@mail.gmail.com>
	<72004A8CD7E7455F8AABF0A276F26ED7@gmail.com>
	<AANLkTi=PbrJsKk2Z7PDAFZK+i6r+7-tFGFWBx5y+5voj@mail.gmail.com>
Message-ID: <639b4826-0bba-4151-b8ef-15f8f0820fb7@o14g2000yqe.googlegroups.com>

I'm trying to achieve something similar with my init class and opened
an thread just some minutes before you [1].

Maybe you got more luck with my code and get a 404-redirect working.

[1] http://groups.google.com/group/wp-hackers/browse_thread/thread/e7e5b54af635c429?hl=de

From will at itsananderson.com  Thu Jan 13 05:48:58 2011
From: will at itsananderson.com (Will Anderson)
Date: Thu, 13 Jan 2011 00:48:58 -0500
Subject: [wp-hackers] Throw 404 error via plugin
In-Reply-To: <639b4826-0bba-4151-b8ef-15f8f0820fb7@o14g2000yqe.googlegroups.com>
References: <AANLkTikutwaE456s-syC7c9=0jpni8zrNSH9i+iqL6Av@mail.gmail.com>
	<AANLkTikt=c68bJYzZouSoLzXcfedpvCmApYwanjbEFBE@mail.gmail.com>
	<AANLkTim+YzyXnR4BJouSq80dFO=h2fmp+AQvCJKchorT@mail.gmail.com>
	<72004A8CD7E7455F8AABF0A276F26ED7@gmail.com>
	<AANLkTi=PbrJsKk2Z7PDAFZK+i6r+7-tFGFWBx5y+5voj@mail.gmail.com>
	<639b4826-0bba-4151-b8ef-15f8f0820fb7@o14g2000yqe.googlegroups.com>
Message-ID: <AANLkTinyoW6FaXuSVLaxdxNUrFs08PwxYcUmuU6rSPqa@mail.gmail.com>

404 isn't a redirect, it's a not found error. These are, for the most part,
completely different problems.

Ryan, when you call set_404() on init, it sets the $wp_query->is_404
variable to true, but when $wp_query is actually constructed (after init),
init_query_flags() is called, which will set $wp_query->is_404 to false
again. You need to hook into pre_get_posts so that your changes to $wp_query
aren't overwritten.

On Thu, Jan 13, 2011 at 12:33 AM, 24/7 <24-7 at gmx.net> wrote:

> I'm trying to achieve something similar with my init class and opened
> an thread just some minutes before you [1].
>
> Maybe you got more luck with my code and get a 404-redirect working.
>
> [1]
> http://groups.google.com/group/wp-hackers/browse_thread/thread/e7e5b54af635c429?hl=de
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From 24-7 at gmx.net  Thu Jan 13 10:07:51 2011
From: 24-7 at gmx.net (24/7)
Date: Thu, 13 Jan 2011 02:07:51 -0800 (PST)
Subject: [wp-hackers] Throw 404 error via plugin
In-Reply-To: <AANLkTinyoW6FaXuSVLaxdxNUrFs08PwxYcUmuU6rSPqa@mail.gmail.com>
References: <AANLkTikutwaE456s-syC7c9=0jpni8zrNSH9i+iqL6Av@mail.gmail.com>
	<AANLkTikt=c68bJYzZouSoLzXcfedpvCmApYwanjbEFBE@mail.gmail.com>
	<AANLkTim+YzyXnR4BJouSq80dFO=h2fmp+AQvCJKchorT@mail.gmail.com>
	<72004A8CD7E7455F8AABF0A276F26ED7@gmail.com>
	<AANLkTi=PbrJsKk2Z7PDAFZK+i6r+7-tFGFWBx5y+5voj@mail.gmail.com>
	<639b4826-0bba-4151-b8ef-15f8f0820fb7@o14g2000yqe.googlegroups.com>
	<AANLkTinyoW6FaXuSVLaxdxNUrFs08PwxYcUmuU6rSPqa@mail.gmail.com>
Message-ID: <09f834de-e3bb-4bd3-b82b-64e6553adb19@29g2000yqq.googlegroups.com>

Don't know if this is true, but here goes my theory: Ryan tries to
bring someone to a 404 page when some condition is not met. So why not
if { bla() } else { wp_redirect('wherever', 404) } ?

From rbilesky at gmail.com  Thu Jan 13 17:03:32 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 13 Jan 2011 09:03:32 -0800
Subject: [wp-hackers] Throw 404 error via plugin
In-Reply-To: <09f834de-e3bb-4bd3-b82b-64e6553adb19@29g2000yqq.googlegroups.com>
References: <AANLkTikutwaE456s-syC7c9=0jpni8zrNSH9i+iqL6Av@mail.gmail.com>
	<AANLkTikt=c68bJYzZouSoLzXcfedpvCmApYwanjbEFBE@mail.gmail.com>
	<AANLkTim+YzyXnR4BJouSq80dFO=h2fmp+AQvCJKchorT@mail.gmail.com>
	<72004A8CD7E7455F8AABF0A276F26ED7@gmail.com>
	<AANLkTi=PbrJsKk2Z7PDAFZK+i6r+7-tFGFWBx5y+5voj@mail.gmail.com>
	<639b4826-0bba-4151-b8ef-15f8f0820fb7@o14g2000yqe.googlegroups.com>
	<AANLkTinyoW6FaXuSVLaxdxNUrFs08PwxYcUmuU6rSPqa@mail.gmail.com>
	<09f834de-e3bb-4bd3-b82b-64e6553adb19@29g2000yqq.googlegroups.com>
Message-ID: <AANLkTimeO+yzDsQTYAmyJ36_qbOGg2qO-Ez96cBuR4z1@mail.gmail.com>

Where would I redirect them?

I'll try the pre_get_posts hook given the explination I think that should
workl. Thanks all for your help.

On Jan 13, 2011 2:08 AM, "24/7" <24-7 at gmx.net> wrote:
> Don't know if this is true, but here goes my theory: Ryan tries to
> bring someone to a 404 page when some condition is not met. So why not
> if { bla() } else { wp_redirect('wherever', 404) } ?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From rbilesky at gmail.com  Thu Jan 13 17:51:47 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 13 Jan 2011 09:51:47 -0800
Subject: [wp-hackers] Throw 404 error via plugin
In-Reply-To: <AANLkTimeO+yzDsQTYAmyJ36_qbOGg2qO-Ez96cBuR4z1@mail.gmail.com>
References: <AANLkTikutwaE456s-syC7c9=0jpni8zrNSH9i+iqL6Av@mail.gmail.com>
	<AANLkTikt=c68bJYzZouSoLzXcfedpvCmApYwanjbEFBE@mail.gmail.com>
	<AANLkTim+YzyXnR4BJouSq80dFO=h2fmp+AQvCJKchorT@mail.gmail.com>
	<72004A8CD7E7455F8AABF0A276F26ED7@gmail.com>
	<AANLkTi=PbrJsKk2Z7PDAFZK+i6r+7-tFGFWBx5y+5voj@mail.gmail.com>
	<639b4826-0bba-4151-b8ef-15f8f0820fb7@o14g2000yqe.googlegroups.com>
	<AANLkTinyoW6FaXuSVLaxdxNUrFs08PwxYcUmuU6rSPqa@mail.gmail.com>
	<09f834de-e3bb-4bd3-b82b-64e6553adb19@29g2000yqq.googlegroups.com>
	<AANLkTimeO+yzDsQTYAmyJ36_qbOGg2qO-Ez96cBuR4z1@mail.gmail.com>
Message-ID: <AANLkTimq0+o6mcL5xV3s=11mKF9OVDNiK=i6+N3RxkM2@mail.gmail.com>

Ok I spoke too soon, this still is not working.

What I might do is this, create a file call it say 404error.php and it would
look like this

<?php

include ('./wp_load.php');
include (TEMPLATEPATH . '/404.php');

?>

Then set my .htaccess to use this 404error.php as my 404 error document then
just send the 404 header in my plugin via header();

Not the simplest option but that should work if nobody has any other ideas.

On Thu, Jan 13, 2011 at 9:03 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Where would I redirect them?
>
> I'll try the pre_get_posts hook given the explination I think that should
> workl. Thanks all for your help.
>
> On Jan 13, 2011 2:08 AM, "24/7" <24-7 at gmx.net> wrote:
> > Don't know if this is true, but here goes my theory: Ryan tries to
> > bring someone to a 404 page when some condition is not met. So why not
> > if { bla() } else { wp_redirect('wherever', 404) } ?
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From will.davis at gmail.com  Thu Jan 13 18:00:14 2011
From: will.davis at gmail.com (William Davis)
Date: Thu, 13 Jan 2011 13:00:14 -0500
Subject: [wp-hackers] Mapping meta caps only to attachments and unpublished
	posts
Message-ID: <4FED7B3A-FDF6-4783-BA02-906D4E9FFBC0@gmail.com>

I'm trying to allow users to only delete unpublished posts and  
attachments. I removed their meta cap to delete posts and am trying to  
add it back selectively with the code below, but am not having any  
luck. Any help would be much appreciated.

if ( 'delete_post' == $cap ) {
		$post = get_post( $args[0] );
		$post_type = $post->post_type;
		if( $post_type == 'attachment' ) {
			$post_type = get_post_type_object( $post->post_type );
			$caps[] = 'delete_post';
		}
}

William P. Davis
will.davis at gmail.com
207.660.5342
http://twitter.com/williampd
http://www.wpdavis.com




From cross at thisismyurl.com  Thu Jan 13 18:02:30 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Thu, 13 Jan 2011 14:02:30 -0400
Subject: [wp-hackers] Include the editor in an external page?
Message-ID: <25CACB78-C68A-4E7E-A3FB-86E090717290@thisismyurl.com>

Is there a way to easily include the page editor and media upload in an external page? I have a theme I'm working on with similar needs and it would be best to keep the experience consistent. Chris

__

Christopher Ross

http://christopherross.ca
http://www.thisismyurl.com


From rafaehlers at gmail.com  Thu Jan 13 18:04:46 2011
From: rafaehlers at gmail.com (Rafael Ehlers)
Date: Thu, 13 Jan 2011 16:04:46 -0200
Subject: [wp-hackers] Include the editor in an external page?
In-Reply-To: <25CACB78-C68A-4E7E-A3FB-86E090717290@thisismyurl.com>
References: <25CACB78-C68A-4E7E-A3FB-86E090717290@thisismyurl.com>
Message-ID: <AANLkTim3weSFjO7h9r7M8bBUBraN06JF6AV8MA=Cw73K@mail.gmail.com>

Yes there is:

http://wordpress.org/extend/plugins/one-quick-post/
<http://wordpress.org/extend/plugins/one-quick-post/>
http://wordpress.org/extend/plugins/ucan-post/installation/
 <http://wordpress.org/extend/plugins/ucan-post/installation/>
http://wordpress.org/extend/plugins/post-from-site/

 <http://wordpress.org/extend/plugins/post-from-site/>Rafael *Ehlers*

On Thu, Jan 13, 2011 at 4:02 PM, Christopher Ross <cross at thisismyurl.com>wrote:

> Is there a way to easily include the page editor and media upload in an
> external page? I have a theme I'm working on with similar needs and it would
> be best to keep the experience consistent. Chris
>
> __
>
> Christopher Ross
>
> http://christopherross.ca
> http://www.thisismyurl.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Thu Jan 13 18:14:57 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 13 Jan 2011 13:14:57 -0500
Subject: [wp-hackers] Mapping meta caps only to attachments and
 unpublished posts
In-Reply-To: <4FED7B3A-FDF6-4783-BA02-906D4E9FFBC0@gmail.com>
References: <4FED7B3A-FDF6-4783-BA02-906D4E9FFBC0@gmail.com>
Message-ID: <AANLkTi=nHYXq1jvWtbsb74fWVJ4AsO5a0aLd1kuBK6gf@mail.gmail.com>

On Thu, Jan 13, 2011 at 1:00 PM, William Davis <will.davis at gmail.com> wrote:

> I'm trying to allow users to only delete unpublished posts and attachments.
> I removed their meta cap to delete posts and am trying to add it back
> selectively with the code below, but am not having any luck. Any help would
> be much appreciated.
>
> if ( 'delete_post' == $cap ) {
>                $post = get_post( $args[0] );
>                $post_type = $post->post_type;
>                if( $post_type == 'attachment' ) {
>                        $post_type = get_post_type_object( $post->post_type
> );
>                        $caps[] = 'delete_post';
>                }
> }
>

You need to map to the primitive cap via map_meta_cap. Thus, $caps[] =
'delete_posts' rather than 'delete_post'.

Keep in mind you're not actually modifying the user's capability here --
you're simply saying that the user needs to have delete_posts whenever
delete_post is checked for an attachment.

Nacin

From will.davis at gmail.com  Thu Jan 13 18:17:08 2011
From: will.davis at gmail.com (William Davis)
Date: Thu, 13 Jan 2011 13:17:08 -0500
Subject: [wp-hackers] Mapping meta caps only to attachments and
	unpublished posts
In-Reply-To: <AANLkTi=nHYXq1jvWtbsb74fWVJ4AsO5a0aLd1kuBK6gf@mail.gmail.com>
References: <4FED7B3A-FDF6-4783-BA02-906D4E9FFBC0@gmail.com>
	<AANLkTi=nHYXq1jvWtbsb74fWVJ4AsO5a0aLd1kuBK6gf@mail.gmail.com>
Message-ID: <2BCDAE89-95DC-4283-B752-940666EB4827@gmail.com>

Ah, so could I say $caps=delete_attachments and then give users that  
capability?

William P. Davis
will.davis at gmail.com
207.660.5342
http://twitter.com/williampd
http://www.wpdavis.com



On Jan 13, 2011, at 1:14 PM, Andrew Nacin wrote:

> On Thu, Jan 13, 2011 at 1:00 PM, William Davis  
> <will.davis at gmail.com> wrote:
>
>> I'm trying to allow users to only delete unpublished posts and  
>> attachments.
>> I removed their meta cap to delete posts and am trying to add it back
>> selectively with the code below, but am not having any luck. Any  
>> help would
>> be much appreciated.
>>
>> if ( 'delete_post' == $cap ) {
>>               $post = get_post( $args[0] );
>>               $post_type = $post->post_type;
>>               if( $post_type == 'attachment' ) {
>>                       $post_type = get_post_type_object( $post- 
>> >post_type
>> );
>>                       $caps[] = 'delete_post';
>>               }
>> }
>>
>
> You need to map to the primitive cap via map_meta_cap. Thus, $caps[] =
> 'delete_posts' rather than 'delete_post'.
>
> Keep in mind you're not actually modifying the user's capability  
> here --
> you're simply saying that the user needs to have delete_posts whenever
> delete_post is checked for an attachment.
>
> Nacin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From rbilesky at gmail.com  Thu Jan 13 18:26:59 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 13 Jan 2011 10:26:59 -0800
Subject: [wp-hackers] Throw 404 error via plugin
In-Reply-To: <AANLkTimq0+o6mcL5xV3s=11mKF9OVDNiK=i6+N3RxkM2@mail.gmail.com>
References: <AANLkTikutwaE456s-syC7c9=0jpni8zrNSH9i+iqL6Av@mail.gmail.com>
	<AANLkTikt=c68bJYzZouSoLzXcfedpvCmApYwanjbEFBE@mail.gmail.com>
	<AANLkTim+YzyXnR4BJouSq80dFO=h2fmp+AQvCJKchorT@mail.gmail.com>
	<72004A8CD7E7455F8AABF0A276F26ED7@gmail.com>
	<AANLkTi=PbrJsKk2Z7PDAFZK+i6r+7-tFGFWBx5y+5voj@mail.gmail.com>
	<639b4826-0bba-4151-b8ef-15f8f0820fb7@o14g2000yqe.googlegroups.com>
	<AANLkTinyoW6FaXuSVLaxdxNUrFs08PwxYcUmuU6rSPqa@mail.gmail.com>
	<09f834de-e3bb-4bd3-b82b-64e6553adb19@29g2000yqq.googlegroups.com>
	<AANLkTimeO+yzDsQTYAmyJ36_qbOGg2qO-Ez96cBuR4z1@mail.gmail.com>
	<AANLkTimq0+o6mcL5xV3s=11mKF9OVDNiK=i6+N3RxkM2@mail.gmail.com>
Message-ID: <AANLkTik_TKG2SHgUSwSCCFpqMu71bz+OxGwcECEPcs49@mail.gmail.com>

ok that was wierd.  That sent the header but did not load the 404 error
document, but sending the header then including the 404 template worked,
even though I tried it before and it didn't.  I think when I tried that
originally I didn't use die(); after including the template but this works:

header("HTTP/1.1 404 Not Found");
include(TEMPLATEPATH . '/404.php');
die();

One side effect though, when it loads images for the error document, they
have a 404 status too even though they exist and load properly.  Any idea
how to fix that?

On Thu, Jan 13, 2011 at 9:51 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Ok I spoke too soon, this still is not working.
>
> What I might do is this, create a file call it say 404error.php and it
> would look like this
>
> <?php
>
> include ('./wp_load.php');
> include (TEMPLATEPATH . '/404.php');
>
> ?>
>
> Then set my .htaccess to use this 404error.php as my 404 error document
> then just send the 404 header in my plugin via header();
>
> Not the simplest option but that should work if nobody has any other ideas.
>
>   On Thu, Jan 13, 2011 at 9:03 AM, Ryan Bilesky <rbilesky at gmail.com>wrote:
>
>> Where would I redirect them?
>>
>> I'll try the pre_get_posts hook given the explination I think that should
>> workl. Thanks all for your help.
>>
>> On Jan 13, 2011 2:08 AM, "24/7" <24-7 at gmx.net> wrote:
>> > Don't know if this is true, but here goes my theory: Ryan tries to
>> > bring someone to a 404 page when some condition is not met. So why not
>> > if { bla() } else { wp_redirect('wherever', 404) } ?
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From cross at thisismyurl.com  Thu Jan 13 18:38:39 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Thu, 13 Jan 2011 14:38:39 -0400
Subject: [wp-hackers] Include the editor in an external page?
In-Reply-To: <AANLkTim3weSFjO7h9r7M8bBUBraN06JF6AV8MA=Cw73K@mail.gmail.com>
References: <25CACB78-C68A-4E7E-A3FB-86E090717290@thisismyurl.com>
	<AANLkTim3weSFjO7h9r7M8bBUBraN06JF6AV8MA=Cw73K@mail.gmail.com>
Message-ID: <126B5547-C6DE-45AD-AD52-2C9A1D70D83D@thisismyurl.com>

Thank Rafael but I was hoping to include the actual page editor found in the Add New Pages as I'm trying to keep the user interface consistent. Chris


On 2011-01-13, at 2:04 PM, Rafael Ehlers wrote:

> Yes there is:
> 
> http://wordpress.org/extend/plugins/one-quick-post/
> <http://wordpress.org/extend/plugins/one-quick-post/>
> http://wordpress.org/extend/plugins/ucan-post/installation/
> <http://wordpress.org/extend/plugins/ucan-post/installation/>
> http://wordpress.org/extend/plugins/post-from-site/
> 
> <http://wordpress.org/extend/plugins/post-from-site/>Rafael *Ehlers*
> 
> On Thu, Jan 13, 2011 at 4:02 PM, Christopher Ross <cross at thisismyurl.com>wrote:
> 
>> Is there a way to easily include the page editor and media upload in an
>> external page? I have a theme I'm working on with similar needs and it would
>> be best to keep the experience consistent. Chris
>> 
>> __
>> 
>> Christopher Ross
>> 
>> http://christopherross.ca
>> http://www.thisismyurl.com
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


__

Christopher Ross

http://christopherross.ca
http://www.thisismyurl.com


From rafaehlers at gmail.com  Thu Jan 13 18:51:25 2011
From: rafaehlers at gmail.com (Rafael Ehlers)
Date: Thu, 13 Jan 2011 16:51:25 -0200
Subject: [wp-hackers] Include the editor in an external page?
In-Reply-To: <126B5547-C6DE-45AD-AD52-2C9A1D70D83D@thisismyurl.com>
References: <25CACB78-C68A-4E7E-A3FB-86E090717290@thisismyurl.com>
	<AANLkTim3weSFjO7h9r7M8bBUBraN06JF6AV8MA=Cw73K@mail.gmail.com>
	<126B5547-C6DE-45AD-AD52-2C9A1D70D83D@thisismyurl.com>
Message-ID: <AANLkTin9YuLuaMfakVkNg=Yy7-onsLNU_JyxB8sN5cta@mail.gmail.com>

I can be wrong, but i dont think that?s easy to do or at least even
possible!

Maybe other users with more knowledge can help you!

Good luck!

Rafael *Ehlers*

On Thu, Jan 13, 2011 at 4:38 PM, Christopher Ross <cross at thisismyurl.com>wrote:

> Thank Rafael but I was hoping to include the actual page editor found in
> the Add New Pages as I'm trying to keep the user interface consistent. Chris
>
>
> On 2011-01-13, at 2:04 PM, Rafael Ehlers wrote:
>
> > Yes there is:
> >
> > http://wordpress.org/extend/plugins/one-quick-post/
> > <http://wordpress.org/extend/plugins/one-quick-post/>
> > http://wordpress.org/extend/plugins/ucan-post/installation/
> > <http://wordpress.org/extend/plugins/ucan-post/installation/>
> > http://wordpress.org/extend/plugins/post-from-site/
> >
> > <http://wordpress.org/extend/plugins/post-from-site/>Rafael *Ehlers*
> >
> > On Thu, Jan 13, 2011 at 4:02 PM, Christopher Ross <cross at thisismyurl.com
> >wrote:
> >
> >> Is there a way to easily include the page editor and media upload in an
> >> external page? I have a theme I'm working on with similar needs and it
> would
> >> be best to keep the experience consistent. Chris
> >>
> >> __
> >>
> >> Christopher Ross
> >>
> >> http://christopherross.ca
> >> http://www.thisismyurl.com
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> __
>
> Christopher Ross
>
> http://christopherross.ca
> http://www.thisismyurl.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From gcorne at bu.edu  Thu Jan 13 22:25:38 2011
From: gcorne at bu.edu (Cornelius, Gregory)
Date: Thu, 13 Jan 2011 17:25:38 -0500
Subject: [wp-hackers] Throw 404 error via plugin
In-Reply-To: <AANLkTik_TKG2SHgUSwSCCFpqMu71bz+OxGwcECEPcs49@mail.gmail.com>
References: <AANLkTikutwaE456s-syC7c9=0jpni8zrNSH9i+iqL6Av@mail.gmail.com>
	<AANLkTikt=c68bJYzZouSoLzXcfedpvCmApYwanjbEFBE@mail.gmail.com>
	<AANLkTim+YzyXnR4BJouSq80dFO=h2fmp+AQvCJKchorT@mail.gmail.com>
	<72004A8CD7E7455F8AABF0A276F26ED7@gmail.com>
	<AANLkTi=PbrJsKk2Z7PDAFZK+i6r+7-tFGFWBx5y+5voj@mail.gmail.com>
	<639b4826-0bba-4151-b8ef-15f8f0820fb7@o14g2000yqe.googlegroups.com>
	<AANLkTinyoW6FaXuSVLaxdxNUrFs08PwxYcUmuU6rSPqa@mail.gmail.com>
	<09f834de-e3bb-4bd3-b82b-64e6553adb19@29g2000yqq.googlegroups.com>
	<AANLkTimeO+yzDsQTYAmyJ36_qbOGg2qO-Ez96cBuR4z1@mail.gmail.com>
	<AANLkTimq0+o6mcL5xV3s=11mKF9OVDNiK=i6+N3RxkM2@mail.gmail.com>
	<AANLkTik_TKG2SHgUSwSCCFpqMu71bz+OxGwcECEPcs49@mail.gmail.com>
Message-ID: <D79F3781-0F03-4654-800E-EA5CC149B42B@bu.edu>

I have used a parse_query filter before to issue a 404 under certain conditions.

function foo_parse_query($query) {
    if(!is_admin() && foo_is_404()) {
        $query->set('pagename', '');
        $query->set_404();
        status_header( 404 );
        nocache_headers();
    }
    return $query;
}

add_filter('parse_query', 'foo_parse_query', 1000, 1);

On Jan 13, 2011, at 1:26 PM, Ryan Bilesky wrote:

ok that was wierd.  That sent the header but did not load the 404 error
document, but sending the header then including the 404 template worked,
even though I tried it before and it didn't.  I think when I tried that
originally I didn't use die(); after including the template but this works:

header("HTTP/1.1 404 Not Found");
include(TEMPLATEPATH . '/404.php');
die();

One side effect though, when it loads images for the error document, they
have a 404 status too even though they exist and load properly.  Any idea
how to fix that?

On Thu, Jan 13, 2011 at 9:51 AM, Ryan Bilesky <rbilesky at gmail.com<mailto:rbilesky at gmail.com>> wrote:

Ok I spoke too soon, this still is not working.

What I might do is this, create a file call it say 404error.php and it
would look like this

<?php

include ('./wp_load.php');
include (TEMPLATEPATH . '/404.php');

?>

Then set my .htaccess to use this 404error.php as my 404 error document
then just send the 404 header in my plugin via header();

Not the simplest option but that should work if nobody has any other ideas.

 On Thu, Jan 13, 2011 at 9:03 AM, Ryan Bilesky <rbilesky at gmail.com<mailto:rbilesky at gmail.com>>wrote:

Where would I redirect them?

I'll try the pre_get_posts hook given the explination I think that should
workl. Thanks all for your help.

On Jan 13, 2011 2:08 AM, "24/7" <24-7 at gmx.net<mailto:24-7 at gmx.net>> wrote:
Don't know if this is true, but here goes my theory: Ryan tries to
bring someone to a 404 page when some condition is not met. So why not
if { bla() } else { wp_redirect('wherever', 404) } ?
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com<mailto:wp-hackers at lists.automattic.com>
http://lists.automattic.com/mailman/listinfo/wp-hackers



_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com<mailto:wp-hackers at lists.automattic.com>
http://lists.automattic.com/mailman/listinfo/wp-hackers


From rbilesky at gmail.com  Thu Jan 13 23:21:09 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 13 Jan 2011 15:21:09 -0800
Subject: [wp-hackers] Throw 404 error via plugin
In-Reply-To: <D79F3781-0F03-4654-800E-EA5CC149B42B@bu.edu>
References: <AANLkTikutwaE456s-syC7c9=0jpni8zrNSH9i+iqL6Av@mail.gmail.com>
	<AANLkTikt=c68bJYzZouSoLzXcfedpvCmApYwanjbEFBE@mail.gmail.com>
	<AANLkTim+YzyXnR4BJouSq80dFO=h2fmp+AQvCJKchorT@mail.gmail.com>
	<72004A8CD7E7455F8AABF0A276F26ED7@gmail.com>
	<AANLkTi=PbrJsKk2Z7PDAFZK+i6r+7-tFGFWBx5y+5voj@mail.gmail.com>
	<639b4826-0bba-4151-b8ef-15f8f0820fb7@o14g2000yqe.googlegroups.com>
	<AANLkTinyoW6FaXuSVLaxdxNUrFs08PwxYcUmuU6rSPqa@mail.gmail.com>
	<09f834de-e3bb-4bd3-b82b-64e6553adb19@29g2000yqq.googlegroups.com>
	<AANLkTimeO+yzDsQTYAmyJ36_qbOGg2qO-Ez96cBuR4z1@mail.gmail.com>
	<AANLkTimq0+o6mcL5xV3s=11mKF9OVDNiK=i6+N3RxkM2@mail.gmail.com>
	<AANLkTik_TKG2SHgUSwSCCFpqMu71bz+OxGwcECEPcs49@mail.gmail.com>
	<D79F3781-0F03-4654-800E-EA5CC149B42B@bu.edu>
Message-ID: <AANLkTinzJWo2diJzU2cFWLmSJNKA=Ry5P7mrmzMhTvkV@mail.gmail.com>

I fixed it.  I was keying in off the url but now I am using hooks like I
should.

On Jan 13, 2011 2:27 PM, "Cornelius, Gregory" <gcorne at bu.edu> wrote:
> I have used a parse_query filter before to issue a 404 under certain
conditions.
>
> function foo_parse_query($query) {
> if(!is_admin() && foo_is_404()) {
> $query->set('pagename', '');
> $query->set_404();
> status_header( 404 );
> nocache_headers();
> }
> return $query;
> }
>
> add_filter('parse_query', 'foo_parse_query', 1000, 1);
>
> On Jan 13, 2011, at 1:26 PM, Ryan Bilesky wrote:
>
> ok that was wierd. That sent the header but did not load the 404 error
> document, but sending the header then including the 404 template worked,
> even though I tried it before and it didn't. I think when I tried that
> originally I didn't use die(); after including the template but this
works:
>
> header("HTTP/1.1 404 Not Found");
> include(TEMPLATEPATH . '/404.php');
> die();
>
> One side effect though, when it loads images for the error document, they
> have a 404 status too even though they exist and load properly. Any idea
> how to fix that?
>
> On Thu, Jan 13, 2011 at 9:51 AM, Ryan Bilesky <rbilesky at gmail.com<mailto:
rbilesky at gmail.com>> wrote:
>
> Ok I spoke too soon, this still is not working.
>
> What I might do is this, create a file call it say 404error.php and it
> would look like this
>
> <?php
>
> include ('./wp_load.php');
> include (TEMPLATEPATH . '/404.php');
>
> ?>
>
> Then set my .htaccess to use this 404error.php as my 404 error document
> then just send the 404 header in my plugin via header();
>
> Not the simplest option but that should work if nobody has any other
ideas.
>
> On Thu, Jan 13, 2011 at 9:03 AM, Ryan Bilesky <rbilesky at gmail.com<mailto:
rbilesky at gmail.com>>wrote:
>
> Where would I redirect them?
>
> I'll try the pre_get_posts hook given the explination I think that should
> workl. Thanks all for your help.
>
> On Jan 13, 2011 2:08 AM, "24/7" <24-7 at gmx.net<mailto:24-7 at gmx.net>> wrote:
> Don't know if this is true, but here goes my theory: Ryan tries to
> bring someone to a 404 page when some condition is not met. So why not
> if { bla() } else { wp_redirect('wherever', 404) } ?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com<mailto:wp-hackers at lists.automattic.com>
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com<mailto:wp-hackers at lists.automattic.com>
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From 24-7 at gmx.net  Fri Jan 14 00:28:11 2011
From: 24-7 at gmx.net (24/7)
Date: Thu, 13 Jan 2011 16:28:11 -0800 (PST)
Subject: [wp-hackers] Mapping meta caps only to attachments and
	unpublished posts
In-Reply-To: <2BCDAE89-95DC-4283-B752-940666EB4827@gmail.com>
References: <4FED7B3A-FDF6-4783-BA02-906D4E9FFBC0@gmail.com>
	<AANLkTi=nHYXq1jvWtbsb74fWVJ4AsO5a0aLd1kuBK6gf@mail.gmail.com>
	<2BCDAE89-95DC-4283-B752-940666EB4827@gmail.com>
Message-ID: <872a10c2-1946-462d-a4bd-a0b1eaffe0be@w17g2000yqh.googlegroups.com>

As far as i know "delete_attachments" is no native/built in cap. Nacin
is trying to say, that you should use the ones wp already delivers.
For an overview please take a look over here: http://codex.wordpress.org/Roles_and_Capabilities

From joshua.sibelman at gmail.com  Fri Jan 14 00:38:43 2011
From: joshua.sibelman at gmail.com (Joshua Sibelman)
Date: Thu, 13 Jan 2011 16:38:43 -0800
Subject: [wp-hackers] previous_post_link and next_post_link with custom post
	type
Message-ID: <6E10FF3A-E97A-4329-929D-F70268A551EB@gmail.com>

Hi all,

Having a tough time finding anything about this out there. I have a custom post type for record albums, and on the list view of them, pagination works fine.

However, in the single album view, previous_post_link and next_post_link don't work. Has anyone else run into this issue?

Thanks,
Josh


From joshua.sibelman at gmail.com  Fri Jan 14 00:49:36 2011
From: joshua.sibelman at gmail.com (Joshua Sibelman)
Date: Thu, 13 Jan 2011 16:49:36 -0800
Subject: [wp-hackers] previous_post_link and next_post_link with custom
	post type, disregard
Message-ID: <5E35132A-9673-4C11-9C5C-03A1F6452436@gmail.com>

Solved my problem. Next time I will be slower to contact the list.

Sorry, everyone.

From krichele at kfeathers.com  Fri Jan 14 01:28:28 2011
From: krichele at kfeathers.com (kris feathers)
Date: Thu, 13 Jan 2011 20:28:28 -0500
Subject: [wp-hackers] links move when hovered
Message-ID: <AANLkTimPscAb8M+D7p0bz4DEVTdwRd-DoN755PPXEsrE@mail.gmail.com>

Hello,

I am working on twenty ten child theme and I can't figure out why the links
move when hovered. I want the links to be bold when hovered. I looked
everywhere..even on codex. Anyone have any suggestions would be greatly
appreciated.
here's the css:

#access {
    background: #95C0F4;
    display: block;
    float: left;
    margin: 0 auto;
    width: 940px;
    margin-left:52px;
    margin-top:161px;

}
#access .menu-header,
div.menu {
    font-size: 13px;
    width: 940px;
}
#access .menu-header ul,
div.menu ul {
    list-style: none;
    margin: 0;
}
#access .menu-header li,
div.menu li {
    float: left;
    position: relative;

}


#access .menu-header li:hover,
div.menu li:hover {
    float: left;
    position: relative;
    background: url(images/arrow.png) no-repeat scroll bottom center;
color:#ffffff;padding: 0px 0px 9px;
}


#access a {
    color: #ffffff;
    display: block;
    line-height: 38px;
    margin: 0 10px;
    text-decoration: none;
    font-size:18px;
    font-family:Arial, Helvetica, sans-serif;
}

#access li:hover > a,
#access ul ul :hover > a {
    -moz-border-radius: 4px;
    -khtml-border-radius: 4px;
    -webkit-border-radius: 4px;
    background: #f6c00e;
    color: #DB5628;
    font-weight:bold;

}
#access ul li:hover > ul {
    display: block;

}

#access ul li.current_page_item > a,
#access ul li.current-menu-ancestor > a,
#access ul li.current-menu-item > a,
#access ul li.current-menu-parent > a {
    -moz-border-radius: 4px; -webkit-border-radius: 4px; border-radius: 4px;
    background: #f6c00e;
    font-weight: bold;


}
* html #access ul li.current_page_item a,
* html #access ul li.current-menu-ancestor a,
* html #access ul li.current-menu-item a,
* html #access ul li.current-menu-parent a,
* html #access ul li a:hover {
    -moz-border-radius: 4px; -webkit-border-radius: 4px; border-radius: 4px;
    color: #fff;
    background: #f6c00e;
    font-weight: bold;
}
#access .menu-header li.current_page_item,
div.menu li.current_page_item {
    float: left;
    position: relative;
    background: url(images/arrow.png) no-repeat scroll bottom center;
color:#ffffff;padding: 0px 0px 9px;
    font-weight: bold;
}


Thank you!!!!!

From will.davis at gmail.com  Fri Jan 14 03:21:37 2011
From: will.davis at gmail.com (William Davis)
Date: Thu, 13 Jan 2011 22:21:37 -0500
Subject: [wp-hackers] links move when hovered
In-Reply-To: <AANLkTimPscAb8M+D7p0bz4DEVTdwRd-DoN755PPXEsrE@mail.gmail.com>
References: <AANLkTimPscAb8M+D7p0bz4DEVTdwRd-DoN755PPXEsrE@mail.gmail.com>
Message-ID: <267BFBF2-3C35-47C2-8EAB-2B306DF757AF@gmail.com>

This is a CSS issue, not a WordPress issue, but in short since the  
links are getting larger when you hover over them (boldface takes more  
room than roman text) everything moves.

Will



On Jan 13, 2011, at 8:28 PM, kris feathers wrote:

> Hello,
>
> I am working on twenty ten child theme and I can't figure out why  
> the links
> move when hovered. I want the links to be bold when hovered. I looked
> everywhere..even on codex. Anyone have any suggestions would be  
> greatly
> appreciated.
> here's the css:
>
> #access {
>    background: #95C0F4;
>    display: block;
>    float: left;
>    margin: 0 auto;
>    width: 940px;
>    margin-left:52px;
>    margin-top:161px;
>
> }
> #access .menu-header,
> div.menu {
>    font-size: 13px;
>    width: 940px;
> }
> #access .menu-header ul,
> div.menu ul {
>    list-style: none;
>    margin: 0;
> }
> #access .menu-header li,
> div.menu li {
>    float: left;
>    position: relative;
>
> }
>
>
> #access .menu-header li:hover,
> div.menu li:hover {
>    float: left;
>    position: relative;
>    background: url(images/arrow.png) no-repeat scroll bottom center;
> color:#ffffff;padding: 0px 0px 9px;
> }
>
>
> #access a {
>    color: #ffffff;
>    display: block;
>    line-height: 38px;
>    margin: 0 10px;
>    text-decoration: none;
>    font-size:18px;
>    font-family:Arial, Helvetica, sans-serif;
> }
>
> #access li:hover > a,
> #access ul ul :hover > a {
>    -moz-border-radius: 4px;
>    -khtml-border-radius: 4px;
>    -webkit-border-radius: 4px;
>    background: #f6c00e;
>    color: #DB5628;
>    font-weight:bold;
>
> }
> #access ul li:hover > ul {
>    display: block;
>
> }
>
> #access ul li.current_page_item > a,
> #access ul li.current-menu-ancestor > a,
> #access ul li.current-menu-item > a,
> #access ul li.current-menu-parent > a {
>    -moz-border-radius: 4px; -webkit-border-radius: 4px; border- 
> radius: 4px;
>    background: #f6c00e;
>    font-weight: bold;
>
>
> }
> * html #access ul li.current_page_item a,
> * html #access ul li.current-menu-ancestor a,
> * html #access ul li.current-menu-item a,
> * html #access ul li.current-menu-parent a,
> * html #access ul li a:hover {
>    -moz-border-radius: 4px; -webkit-border-radius: 4px; border- 
> radius: 4px;
>    color: #fff;
>    background: #f6c00e;
>    font-weight: bold;
> }
> #access .menu-header li.current_page_item,
> div.menu li.current_page_item {
>    float: left;
>    position: relative;
>    background: url(images/arrow.png) no-repeat scroll bottom center;
> color:#ffffff;padding: 0px 0px 9px;
>    font-weight: bold;
> }
>
>
> Thank you!!!!!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From helen.y.hou at gmail.com  Fri Jan 14 03:55:45 2011
From: helen.y.hou at gmail.com (Helen Hou-Sandi)
Date: Thu, 13 Jan 2011 22:55:45 -0500
Subject: [wp-hackers] Hiding the admin bar search
Message-ID: <AANLkTi=pN3b8TpA4a8Ga9gNhRjqMF5odJvfAD_XbCLgn@mail.gmail.com>

Is there any way to remove/hide the search box in the 3.1 admin bar besides
using CSS? I didn't notice a hook for it as it is output directly in
render(), but I could be missing something.

--
Helen Hou-Sandi
http://www.helenhousandi.com

From otto at ottodestruct.com  Fri Jan 14 05:52:34 2011
From: otto at ottodestruct.com (Otto)
Date: Fri, 14 Jan 2011 00:52:34 -0500
Subject: [wp-hackers] Hiding the admin bar search
In-Reply-To: <AANLkTi=pN3b8TpA4a8Ga9gNhRjqMF5odJvfAD_XbCLgn@mail.gmail.com>
References: <AANLkTi=pN3b8TpA4a8Ga9gNhRjqMF5odJvfAD_XbCLgn@mail.gmail.com>
Message-ID: <AANLkTim26T9x6Ljx2wHYYQbFqTbJvOpigvm4idAmJCwa@mail.gmail.com>

On Thu, Jan 13, 2011 at 10:55 PM, Helen Hou-Sandi <helen.y.hou at gmail.com> wrote:
> Is there any way to remove/hide the search box in the 3.1 admin bar besides
> using CSS? I didn't notice a hook for it as it is output directly in
> render(), but I could be missing something.

No, CSS is the only way. But it's easy enough to do via CSS.

#adminbarsearch-wrap { display:none; }

-Otto

From steve at sltaylor.co.uk  Fri Jan 14 13:47:09 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Fri, 14 Jan 2011 13:47:09 +0000
Subject: [wp-hackers] applying qTranslate to certain sections of site
Message-ID: <AANLkTin2Oc-BNoJb9P=eLRF3_Qz2iuEih9=swziZnyef@mail.gmail.com>

Hi everyone,

I'm currently working on a plugin to work alongside qTranslate, to
disable it for particular sections of a site, and to control which
languages apply to which sections.

The plugin as it stand is here:
http://sltaylor.co.uk/wordpress/plugins/qtranslate-selective/

However, it's not working properly yet.

If you're interested, please read about it at the above page, download
it, check it out, let me know if you make progress (or have already
solved this issue yourself!).

Many thanks,

Steve Taylor

From helen.y.hou at gmail.com  Fri Jan 14 16:06:14 2011
From: helen.y.hou at gmail.com (Helen Hou-Sandi)
Date: Fri, 14 Jan 2011 11:06:14 -0500
Subject: [wp-hackers] Hiding the admin bar search
In-Reply-To: <AANLkTim26T9x6Ljx2wHYYQbFqTbJvOpigvm4idAmJCwa@mail.gmail.com>
References: <AANLkTi=pN3b8TpA4a8Ga9gNhRjqMF5odJvfAD_XbCLgn@mail.gmail.com>
	<AANLkTim26T9x6Ljx2wHYYQbFqTbJvOpigvm4idAmJCwa@mail.gmail.com>
Message-ID: <AANLkTi=sOP6P1bi=AXG2QruzD=ziuzqq5VxNB7oJpngh@mail.gmail.com>

Fair enough - that's what I've done, so it will stay that way. Thank you!

--
Helen Hou-Sandi
http://www.helenhousandi.com



On Fri, Jan 14, 2011 at 12:52 AM, Otto <otto at ottodestruct.com> wrote:

> On Thu, Jan 13, 2011 at 10:55 PM, Helen Hou-Sandi <helen.y.hou at gmail.com>
> wrote:
> > Is there any way to remove/hide the search box in the 3.1 admin bar
> besides
> > using CSS? I didn't notice a hook for it as it is output directly in
> > render(), but I could be missing something.
>
> No, CSS is the only way. But it's easy enough to do via CSS.
>
> #adminbarsearch-wrap { display:none; }
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rbilesky at gmail.com  Sat Jan 15 02:39:22 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 14 Jan 2011 18:39:22 -0800
Subject: [wp-hackers] Quick question about server setup
In-Reply-To: <AANLkTimBUrZhhGgGRQj+6iRPit=98sq3-KQUBN-9v8w=@mail.gmail.com>
References: <AANLkTimBUrZhhGgGRQj+6iRPit=98sq3-KQUBN-9v8w=@mail.gmail.com>
Message-ID: <AANLkTinrCZrc4U=FD2Cks6zDzBGLAXhtD14k887sZmcU@mail.gmail.com>

Ok so I have a quick question.  I am working on a plugin that I intend to
distribute publicly.  Per current technical limitations it needs WP3 (which
everyone should have).   But it also needs PHP5 with MailParse extension and
mbstring.  Now these requirements seem hefty to me, my server dosent even
currently meet them I need to install mailparse and mbstring.  What do you
think about these requirements.

Any ideas on how I can avoid them, I am using mailparse and mbstring to
parse an email for insertion into wordpress.

From dennen at gmail.com  Sat Jan 15 02:52:57 2011
From: dennen at gmail.com (Bill Dennen)
Date: Fri, 14 Jan 2011 21:52:57 -0500
Subject: [wp-hackers] Quick question about server setup
In-Reply-To: <AANLkTinrCZrc4U=FD2Cks6zDzBGLAXhtD14k887sZmcU@mail.gmail.com>
References: <AANLkTimBUrZhhGgGRQj+6iRPit=98sq3-KQUBN-9v8w=@mail.gmail.com>
	<AANLkTinrCZrc4U=FD2Cks6zDzBGLAXhtD14k887sZmcU@mail.gmail.com>
Message-ID: <AANLkTinnCFRHWaCuyHB8LEqBGe6MByjyZgqzxoNHHDAs@mail.gmail.com>

For what it's worth: These requirements don't seem too extraordinary to me.

On Fri, Jan 14, 2011 at 9:39 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Ok so I have a quick question.  I am working on a plugin that I intend to
> distribute publicly.  Per current technical limitations it needs WP3 (which

From will.davis at gmail.com  Sat Jan 15 03:01:58 2011
From: will.davis at gmail.com (William Davis)
Date: Fri, 14 Jan 2011 22:01:58 -0500
Subject: [wp-hackers] Quick question about server setup
In-Reply-To: <AANLkTinrCZrc4U=FD2Cks6zDzBGLAXhtD14k887sZmcU@mail.gmail.com>
References: <AANLkTimBUrZhhGgGRQj+6iRPit=98sq3-KQUBN-9v8w=@mail.gmail.com>
	<AANLkTinrCZrc4U=FD2Cks6zDzBGLAXhtD14k887sZmcU@mail.gmail.com>
Message-ID: <3B0F6630-8619-47BC-8C22-37C93400526D@gmail.com>

Can you explain a bit more about what you're trying to do? If you're  
trying to allow people to e-mail in stories, for example, WordPress  
has that feature built in.

PHP5 isn't a big deal, but if you're asking people to install  
components it can deter a lot of users. If possible, use libraries ?  
I'm developing a plugin right now that requires some pretty hefty  
libraries (including a Zend extension), but I got around having people  
install them by using include_path.

William P. Davis
will.davis at gmail.com
207.660.5342
http://twitter.com/williampd
http://www.wpdavis.com



On Jan 14, 2011, at 9:39 PM, Ryan Bilesky wrote:

> Ok so I have a quick question.  I am working on a plugin that I  
> intend to
> distribute publicly.  Per current technical limitations it needs WP3  
> (which
> everyone should have).   But it also needs PHP5 with MailParse  
> extension and
> mbstring.  Now these requirements seem hefty to me, my server dosent  
> even
> currently meet them I need to install mailparse and mbstring.  What  
> do you
> think about these requirements.
>
> Any ideas on how I can avoid them, I am using mailparse and mbstring  
> to
> parse an email for insertion into wordpress.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From dennen at gmail.com  Sat Jan 15 03:03:22 2011
From: dennen at gmail.com (Bill Dennen)
Date: Fri, 14 Jan 2011 22:03:22 -0500
Subject: [wp-hackers] Quick question about server setup
In-Reply-To: <AANLkTinnCFRHWaCuyHB8LEqBGe6MByjyZgqzxoNHHDAs@mail.gmail.com>
References: <AANLkTimBUrZhhGgGRQj+6iRPit=98sq3-KQUBN-9v8w=@mail.gmail.com>
	<AANLkTinrCZrc4U=FD2Cks6zDzBGLAXhtD14k887sZmcU@mail.gmail.com>
	<AANLkTinnCFRHWaCuyHB8LEqBGe6MByjyZgqzxoNHHDAs@mail.gmail.com>
Message-ID: <AANLkTikgyyP8DTnLFi4S0A+0hf+i8yed9baLgoYsNqcN@mail.gmail.com>

Sorry, I sent that before I finished!

For what it's worth: These requirements don't seem too extraordinary to me,
if the plugin is worth it. :) But, since you want to distribute your plugin
publicly, I agree that these requirements might be a roadblock to people
using your plugin. Plus, it will generate lots of support issues for you, as
you'll have to help people just meet the requirements.

As for avoiding them -- is it possible to include MailParse with your code?

-Bill

On Fri, Jan 14, 2011 at 9:52 PM, Bill Dennen <dennen at gmail.com> wrote:

> For what it's worth: These requirements don't seem too extraordinary to me.
>
>
> On Fri, Jan 14, 2011 at 9:39 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
>> Ok so I have a quick question.  I am working on a plugin that I intend to
>> distribute publicly.  Per current technical limitations it needs WP3
>> (which
>
>

From rbilesky at gmail.com  Sat Jan 15 03:17:50 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 14 Jan 2011 19:17:50 -0800
Subject: [wp-hackers] Quick question about server setup
In-Reply-To: <AANLkTikgyyP8DTnLFi4S0A+0hf+i8yed9baLgoYsNqcN@mail.gmail.com>
References: <AANLkTimBUrZhhGgGRQj+6iRPit=98sq3-KQUBN-9v8w=@mail.gmail.com>
	<AANLkTinrCZrc4U=FD2Cks6zDzBGLAXhtD14k887sZmcU@mail.gmail.com>
	<AANLkTinnCFRHWaCuyHB8LEqBGe6MByjyZgqzxoNHHDAs@mail.gmail.com>
	<AANLkTikgyyP8DTnLFi4S0A+0hf+i8yed9baLgoYsNqcN@mail.gmail.com>
Message-ID: <AANLkTin1+TonP6JtpKjKK_LVPCi=53Z5h+UqzxM4jyPd@mail.gmail.com>

Well its a ticket system for wordpress you send and email to an address it
gets piped in or downloaded via pop3 than parsed into a ticket, a custom
post type.

On Jan 14, 2011 7:03 PM, "Bill Dennen" <dennen at gmail.com> wrote:
> Sorry, I sent that before I finished!
>
> For what it's worth: These requirements don't seem too extraordinary to
me,
> if the plugin is worth it. :) But, since you want to distribute your
plugin
> publicly, I agree that these requirements might be a roadblock to people
> using your plugin. Plus, it will generate lots of support issues for you,
as
> you'll have to help people just meet the requirements.
>
> As for avoiding them -- is it possible to include MailParse with your
code?
>
> -Bill
>
> On Fri, Jan 14, 2011 at 9:52 PM, Bill Dennen <dennen at gmail.com> wrote:
>
>> For what it's worth: These requirements don't seem too extraordinary to
me.
>>
>>
>> On Fri, Jan 14, 2011 at 9:39 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>>
>>> Ok so I have a quick question. I am working on a plugin that I intend to
>>> distribute publicly. Per current technical limitations it needs WP3
>>> (which
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From will at itsananderson.com  Sat Jan 15 03:44:29 2011
From: will at itsananderson.com (Will Anderson)
Date: Fri, 14 Jan 2011 22:44:29 -0500
Subject: [wp-hackers] Quick question about server setup
In-Reply-To: <AANLkTin1+TonP6JtpKjKK_LVPCi=53Z5h+UqzxM4jyPd@mail.gmail.com>
References: <AANLkTimBUrZhhGgGRQj+6iRPit=98sq3-KQUBN-9v8w=@mail.gmail.com>
	<AANLkTinrCZrc4U=FD2Cks6zDzBGLAXhtD14k887sZmcU@mail.gmail.com>
	<AANLkTinnCFRHWaCuyHB8LEqBGe6MByjyZgqzxoNHHDAs@mail.gmail.com>
	<AANLkTikgyyP8DTnLFi4S0A+0hf+i8yed9baLgoYsNqcN@mail.gmail.com>
	<AANLkTin1+TonP6JtpKjKK_LVPCi=53Z5h+UqzxM4jyPd@mail.gmail.com>
Message-ID: <AANLkTinGh1QxYcakOZLs3jitrhJ88H58nO3Zm5K_krKh@mail.gmail.com>

You might consider looking at the built in code for Post By Email and see if
you can modify that to fit your needs. You should be able to use whatever
email parsing code WordPress uses in your own plugin.

On Fri, Jan 14, 2011 at 10:17 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Well its a ticket system for wordpress you send and email to an address it
> gets piped in or downloaded via pop3 than parsed into a ticket, a custom
> post type.
>
> On Jan 14, 2011 7:03 PM, "Bill Dennen" <dennen at gmail.com> wrote:
> > Sorry, I sent that before I finished!
> >
> > For what it's worth: These requirements don't seem too extraordinary to
> me,
> > if the plugin is worth it. :) But, since you want to distribute your
> plugin
> > publicly, I agree that these requirements might be a roadblock to people
> > using your plugin. Plus, it will generate lots of support issues for you,
> as
> > you'll have to help people just meet the requirements.
> >
> > As for avoiding them -- is it possible to include MailParse with your
> code?
> >
> > -Bill
> >
> > On Fri, Jan 14, 2011 at 9:52 PM, Bill Dennen <dennen at gmail.com> wrote:
> >
> >> For what it's worth: These requirements don't seem too extraordinary to
> me.
> >>
> >>
> >> On Fri, Jan 14, 2011 at 9:39 PM, Ryan Bilesky <rbilesky at gmail.com>
> wrote:
> >>
> >>> Ok so I have a quick question. I am working on a plugin that I intend
> to
> >>> distribute publicly. Per current technical limitations it needs WP3
> >>> (which
> >>
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rbilesky at gmail.com  Sat Jan 15 03:47:49 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 14 Jan 2011 19:47:49 -0800
Subject: [wp-hackers] Quick question about server setup
In-Reply-To: <AANLkTinGh1QxYcakOZLs3jitrhJ88H58nO3Zm5K_krKh@mail.gmail.com>
References: <AANLkTimBUrZhhGgGRQj+6iRPit=98sq3-KQUBN-9v8w=@mail.gmail.com>
	<AANLkTinrCZrc4U=FD2Cks6zDzBGLAXhtD14k887sZmcU@mail.gmail.com>
	<AANLkTinnCFRHWaCuyHB8LEqBGe6MByjyZgqzxoNHHDAs@mail.gmail.com>
	<AANLkTikgyyP8DTnLFi4S0A+0hf+i8yed9baLgoYsNqcN@mail.gmail.com>
	<AANLkTin1+TonP6JtpKjKK_LVPCi=53Z5h+UqzxM4jyPd@mail.gmail.com>
	<AANLkTinGh1QxYcakOZLs3jitrhJ88H58nO3Zm5K_krKh@mail.gmail.com>
Message-ID: <AANLkTi=iQYp2U0MoQE6zm5O+FZyVLCv_X-TKJAegbFrZ@mail.gmail.com>

Where is that located

On Jan 14, 2011 7:45 PM, "Will Anderson" <will at itsananderson.com> wrote:
> You might consider looking at the built in code for Post By Email and see
if
> you can modify that to fit your needs. You should be able to use whatever
> email parsing code WordPress uses in your own plugin.
>
> On Fri, Jan 14, 2011 at 10:17 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
>> Well its a ticket system for wordpress you send and email to an address
it
>> gets piped in or downloaded via pop3 than parsed into a ticket, a custom
>> post type.
>>
>> On Jan 14, 2011 7:03 PM, "Bill Dennen" <dennen at gmail.com> wrote:
>> > Sorry, I sent that before I finished!
>> >
>> > For what it's worth: These requirements don't seem too extraordinary to
>> me,
>> > if the plugin is worth it. :) But, since you want to distribute your
>> plugin
>> > publicly, I agree that these requirements might be a roadblock to
people
>> > using your plugin. Plus, it will generate lots of support issues for
you,
>> as
>> > you'll have to help people just meet the requirements.
>> >
>> > As for avoiding them -- is it possible to include MailParse with your
>> code?
>> >
>> > -Bill
>> >
>> > On Fri, Jan 14, 2011 at 9:52 PM, Bill Dennen <dennen at gmail.com> wrote:
>> >
>> >> For what it's worth: These requirements don't seem too extraordinary
to
>> me.
>> >>
>> >>
>> >> On Fri, Jan 14, 2011 at 9:39 PM, Ryan Bilesky <rbilesky at gmail.com>
>> wrote:
>> >>
>> >>> Ok so I have a quick question. I am working on a plugin that I intend
>> to
>> >>> distribute publicly. Per current technical limitations it needs WP3
>> >>> (which
>> >>
>> >>
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From will at itsananderson.com  Sat Jan 15 03:52:05 2011
From: will at itsananderson.com (Will Anderson)
Date: Fri, 14 Jan 2011 22:52:05 -0500
Subject: [wp-hackers] Quick question about server setup
In-Reply-To: <AANLkTi=iQYp2U0MoQE6zm5O+FZyVLCv_X-TKJAegbFrZ@mail.gmail.com>
References: <AANLkTimBUrZhhGgGRQj+6iRPit=98sq3-KQUBN-9v8w=@mail.gmail.com>
	<AANLkTinrCZrc4U=FD2Cks6zDzBGLAXhtD14k887sZmcU@mail.gmail.com>
	<AANLkTinnCFRHWaCuyHB8LEqBGe6MByjyZgqzxoNHHDAs@mail.gmail.com>
	<AANLkTikgyyP8DTnLFi4S0A+0hf+i8yed9baLgoYsNqcN@mail.gmail.com>
	<AANLkTin1+TonP6JtpKjKK_LVPCi=53Z5h+UqzxM4jyPd@mail.gmail.com>
	<AANLkTinGh1QxYcakOZLs3jitrhJ88H58nO3Zm5K_krKh@mail.gmail.com>
	<AANLkTi=iQYp2U0MoQE6zm5O+FZyVLCv_X-TKJAegbFrZ@mail.gmail.com>
Message-ID: <AANLkTikWgY8m5G9VSOdb_X418_kC-9rpys4r5YNcxh2-@mail.gmail.com>

/wp-mail.php

Looks like it's moderately straightforward.

On Fri, Jan 14, 2011 at 10:47 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Where is that located
>
> On Jan 14, 2011 7:45 PM, "Will Anderson" <will at itsananderson.com> wrote:
> > You might consider looking at the built in code for Post By Email and see
> if
> > you can modify that to fit your needs. You should be able to use whatever
> > email parsing code WordPress uses in your own plugin.
> >
> > On Fri, Jan 14, 2011 at 10:17 PM, Ryan Bilesky <rbilesky at gmail.com>
> wrote:
> >
> >> Well its a ticket system for wordpress you send and email to an address
> it
> >> gets piped in or downloaded via pop3 than parsed into a ticket, a custom
> >> post type.
> >>
> >> On Jan 14, 2011 7:03 PM, "Bill Dennen" <dennen at gmail.com> wrote:
> >> > Sorry, I sent that before I finished!
> >> >
> >> > For what it's worth: These requirements don't seem too extraordinary
> to
> >> me,
> >> > if the plugin is worth it. :) But, since you want to distribute your
> >> plugin
> >> > publicly, I agree that these requirements might be a roadblock to
> people
> >> > using your plugin. Plus, it will generate lots of support issues for
> you,
> >> as
> >> > you'll have to help people just meet the requirements.
> >> >
> >> > As for avoiding them -- is it possible to include MailParse with your
> >> code?
> >> >
> >> > -Bill
> >> >
> >> > On Fri, Jan 14, 2011 at 9:52 PM, Bill Dennen <dennen at gmail.com>
> wrote:
> >> >
> >> >> For what it's worth: These requirements don't seem too extraordinary
> to
> >> me.
> >> >>
> >> >>
> >> >> On Fri, Jan 14, 2011 at 9:39 PM, Ryan Bilesky <rbilesky at gmail.com>
> >> wrote:
> >> >>
> >> >>> Ok so I have a quick question. I am working on a plugin that I
> intend
> >> to
> >> >>> distribute publicly. Per current technical limitations it needs WP3
> >> >>> (which
> >> >>
> >> >>
> >> > _______________________________________________
> >> > wp-hackers mailing list
> >> > wp-hackers at lists.automattic.com
> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rbilesky at gmail.com  Sat Jan 15 03:57:01 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 14 Jan 2011 19:57:01 -0800
Subject: [wp-hackers] Quick question about server setup
In-Reply-To: <AANLkTikWgY8m5G9VSOdb_X418_kC-9rpys4r5YNcxh2-@mail.gmail.com>
References: <AANLkTimBUrZhhGgGRQj+6iRPit=98sq3-KQUBN-9v8w=@mail.gmail.com>
	<AANLkTinrCZrc4U=FD2Cks6zDzBGLAXhtD14k887sZmcU@mail.gmail.com>
	<AANLkTinnCFRHWaCuyHB8LEqBGe6MByjyZgqzxoNHHDAs@mail.gmail.com>
	<AANLkTikgyyP8DTnLFi4S0A+0hf+i8yed9baLgoYsNqcN@mail.gmail.com>
	<AANLkTin1+TonP6JtpKjKK_LVPCi=53Z5h+UqzxM4jyPd@mail.gmail.com>
	<AANLkTinGh1QxYcakOZLs3jitrhJ88H58nO3Zm5K_krKh@mail.gmail.com>
	<AANLkTi=iQYp2U0MoQE6zm5O+FZyVLCv_X-TKJAegbFrZ@mail.gmail.com>
	<AANLkTikWgY8m5G9VSOdb_X418_kC-9rpys4r5YNcxh2-@mail.gmail.com>
Message-ID: <AANLkTikVEbDMNpLZC3XgDq7To76-KrR98Zm8CpLkfahB@mail.gmail.com>

Thanks for the idea ill have a look.

On Jan 14, 2011 7:52 PM, "Will Anderson" <will at itsananderson.com> wrote:
> /wp-mail.php
>
> Looks like it's moderately straightforward.
>
> On Fri, Jan 14, 2011 at 10:47 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
>> Where is that located
>>
>> On Jan 14, 2011 7:45 PM, "Will Anderson" <will at itsananderson.com> wrote:
>> > You might consider looking at the built in code for Post By Email and
see
>> if
>> > you can modify that to fit your needs. You should be able to use
whatever
>> > email parsing code WordPress uses in your own plugin.
>> >
>> > On Fri, Jan 14, 2011 at 10:17 PM, Ryan Bilesky <rbilesky at gmail.com>
>> wrote:
>> >
>> >> Well its a ticket system for wordpress you send and email to an
address
>> it
>> >> gets piped in or downloaded via pop3 than parsed into a ticket, a
custom
>> >> post type.
>> >>
>> >> On Jan 14, 2011 7:03 PM, "Bill Dennen" <dennen at gmail.com> wrote:
>> >> > Sorry, I sent that before I finished!
>> >> >
>> >> > For what it's worth: These requirements don't seem too extraordinary
>> to
>> >> me,
>> >> > if the plugin is worth it. :) But, since you want to distribute your
>> >> plugin
>> >> > publicly, I agree that these requirements might be a roadblock to
>> people
>> >> > using your plugin. Plus, it will generate lots of support issues for
>> you,
>> >> as
>> >> > you'll have to help people just meet the requirements.
>> >> >
>> >> > As for avoiding them -- is it possible to include MailParse with
your
>> >> code?
>> >> >
>> >> > -Bill
>> >> >
>> >> > On Fri, Jan 14, 2011 at 9:52 PM, Bill Dennen <dennen at gmail.com>
>> wrote:
>> >> >
>> >> >> For what it's worth: These requirements don't seem too
extraordinary
>> to
>> >> me.
>> >> >>
>> >> >>
>> >> >> On Fri, Jan 14, 2011 at 9:39 PM, Ryan Bilesky <rbilesky at gmail.com>
>> >> wrote:
>> >> >>
>> >> >>> Ok so I have a quick question. I am working on a plugin that I
>> intend
>> >> to
>> >> >>> distribute publicly. Per current technical limitations it needs
WP3
>> >> >>> (which
>> >> >>
>> >> >>
>> >> > _______________________________________________
>> >> > wp-hackers mailing list
>> >> > wp-hackers at lists.automattic.com
>> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >> _______________________________________________
>> >> wp-hackers mailing list
>> >> wp-hackers at lists.automattic.com
>> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From xiaohan2012 at gmail.com  Sat Jan 15 15:23:56 2011
From: xiaohan2012 at gmail.com (=?GB2312?B?0KTqzw==?=)
Date: Sat, 15 Jan 2011 23:23:56 +0800
Subject: [wp-hackers] Confusion About the **Meta Table
Message-ID: <AANLkTimtc4+_eSyu-uAtmD4pMuGKsFxQH5_PnAaiEH_D@mail.gmail.com>

I noticed that there are several **meta table in wordpress database, such as
wp_usermeta,wp_commentmeta and wp_postmeta.
And what are those meta table used to do?

From banago at gmail.com  Sat Jan 15 15:25:15 2011
From: banago at gmail.com (Baki Goxhaj)
Date: Sat, 15 Jan 2011 16:25:15 +0100
Subject: [wp-hackers] Confusion About the **Meta Table
In-Reply-To: <AANLkTimtc4+_eSyu-uAtmD4pMuGKsFxQH5_PnAaiEH_D@mail.gmail.com>
References: <AANLkTimtc4+_eSyu-uAtmD4pMuGKsFxQH5_PnAaiEH_D@mail.gmail.com>
Message-ID: <AANLkTi=Ydwp-1wPvsK=rEWptVDfKbbBD9ryQCoAWEkjw@mail.gmail.com>

To store meta data of the mother tables, as the name would suggest. Have you
heard of custom fields? It is there where their data is stored.

Kindly,

Baki Goxhaj
www.wplancer.com | www.banago.info | proverbhunter.com


On 15 January 2011 16:23, ?? <xiaohan2012 at gmail.com> wrote:

> I noticed that there are several **meta table in wordpress database, such
> as
> wp_usermeta,wp_commentmeta and wp_postmeta.
> And what are those meta table used to do?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From hempsworth at gmail.com  Sat Jan 15 15:33:48 2011
From: hempsworth at gmail.com (Alexander Hempton-Smith)
Date: Sat, 15 Jan 2011 15:33:48 +0000
Subject: [wp-hackers] Confusion About the **Meta Table
In-Reply-To: <AANLkTi=Ydwp-1wPvsK=rEWptVDfKbbBD9ryQCoAWEkjw@mail.gmail.com>
References: <AANLkTimtc4+_eSyu-uAtmD4pMuGKsFxQH5_PnAaiEH_D@mail.gmail.com>
	<AANLkTi=Ydwp-1wPvsK=rEWptVDfKbbBD9ryQCoAWEkjw@mail.gmail.com>
Message-ID: <7624242843520268112@unknownmsgid>

Why was it decided that there would be individual meta tables for each
mother table? Why not one universal meta table for all of the others?
With a reference on each record to what it's parent table is.

I ask because I'm designing the db for an app I'm building and
considered having one meta table to serve all the others (where
necessary)

Sorry if it's OT :)

-- Alex

Sent from my iPhone

On 15 Jan 2011, at 15:25, Baki Goxhaj <banago at gmail.com> wrote:

> To store meta data of the mother tables, as the name would suggest. Have you
> heard of custom fields? It is there where their data is stored.
>
> Kindly,
>
> Baki Goxhaj
> www.wplancer.com | www.banago.info | proverbhunter.com
>
>
> On 15 January 2011 16:23, ?? <xiaohan2012 at gmail.com> wrote:
>
>> I noticed that there are several **meta table in wordpress database, such
>> as
>> wp_usermeta,wp_commentmeta and wp_postmeta.
>> And what are those meta table used to do?
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From banago at gmail.com  Sat Jan 15 15:37:43 2011
From: banago at gmail.com (Baki Goxhaj)
Date: Sat, 15 Jan 2011 16:37:43 +0100
Subject: [wp-hackers] Confusion About the **Meta Table
In-Reply-To: <7624242843520268112@unknownmsgid>
References: <AANLkTimtc4+_eSyu-uAtmD4pMuGKsFxQH5_PnAaiEH_D@mail.gmail.com>
	<AANLkTi=Ydwp-1wPvsK=rEWptVDfKbbBD9ryQCoAWEkjw@mail.gmail.com>
	<7624242843520268112@unknownmsgid>
Message-ID: <AANLkTi=D9ObFUmqSw1DvAu1dHiqTTQ7DAsfZWmHDz=YH@mail.gmail.com>

I was not part of the decision and I'm not a DB expert, so somebody else
will have to answer that :)

Kindly,

Baki Goxhaj
www.wplancer.com | www.banago.info | proverbhunter.com


On 15 January 2011 16:33, Alexander Hempton-Smith <hempsworth at gmail.com>wrote:

> Why was it decided that there would be individual meta tables for each
> mother table? Why not one universal meta table for all of the others?
> With a reference on each record to what it's parent table is.
>
> I ask because I'm designing the db for an app I'm building and
> considered having one meta table to serve all the others (where
> necessary)
>
> Sorry if it's OT :)
>
> -- Alex
>
> Sent from my iPhone
>
> On 15 Jan 2011, at 15:25, Baki Goxhaj <banago at gmail.com> wrote:
>
> > To store meta data of the mother tables, as the name would suggest. Have
> you
> > heard of custom fields? It is there where their data is stored.
> >
> > Kindly,
> >
> > Baki Goxhaj
> > www.wplancer.com | www.banago.info | proverbhunter.com
> >
> >
> > On 15 January 2011 16:23, ?? <xiaohan2012 at gmail.com> wrote:
> >
> >> I noticed that there are several **meta table in wordpress database,
> such
> >> as
> >> wp_usermeta,wp_commentmeta and wp_postmeta.
> >> And what are those meta table used to do?
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Sat Jan 15 15:56:06 2011
From: otto at ottodestruct.com (Otto)
Date: Sat, 15 Jan 2011 10:56:06 -0500
Subject: [wp-hackers] Confusion About the **Meta Table
In-Reply-To: <7624242843520268112@unknownmsgid>
References: <AANLkTimtc4+_eSyu-uAtmD4pMuGKsFxQH5_PnAaiEH_D@mail.gmail.com>
	<AANLkTi=Ydwp-1wPvsK=rEWptVDfKbbBD9ryQCoAWEkjw@mail.gmail.com>
	<7624242843520268112@unknownmsgid>
Message-ID: <AANLkTimai1EMSTOy44JkBWPbZzY-5VebBVurF7Sa=+vG@mail.gmail.com>

On Sat, Jan 15, 2011 at 10:33 AM, Alexander Hempton-Smith
<hempsworth at gmail.com> wrote:
> Why was it decided that there would be individual meta tables for each
> mother table? Why not one universal meta table for all of the others?
> With a reference on each record to what it's parent table is.
>
> I ask because I'm designing the db for an app I'm building and
> considered having one meta table to serve all the others (where
> necessary)

Speed in joining the meta tables to their parent tables. Joining the
tables is a lot faster when you don't need a WHERE clause to select
based on the type of meta data you're wanting to join.

-Otto

From will.davis at gmail.com  Sat Jan 15 18:04:26 2011
From: will.davis at gmail.com (William P. Davis)
Date: Sat, 15 Jan 2011 18:04:26 +0000
Subject: [wp-hackers] XML-RPC requests
Message-ID: <57062427-1295114666-cardhu_decombobulator_blackberry.rim.net-1435229185-@bda597.bisx.prod.on.blackberry>

Does WordPress have a built-in api for making (not receiving) xml-rpc requests? Maybe somewhere in the http api?
Sent from my BlackBerry? wireless device

From otto at ottodestruct.com  Sat Jan 15 18:17:32 2011
From: otto at ottodestruct.com (Otto)
Date: Sat, 15 Jan 2011 13:17:32 -0500
Subject: [wp-hackers] XML-RPC requests
In-Reply-To: <57062427-1295114666-cardhu_decombobulator_blackberry.rim.net-1435229185-@bda597.bisx.prod.on.blackberry>
References: <57062427-1295114666-cardhu_decombobulator_blackberry.rim.net-1435229185-@bda597.bisx.prod.on.blackberry>
Message-ID: <AANLkTinyDkwErq7+UWNwGM-yphdEUXVMbuAKzj2F=+Ed@mail.gmail.com>

Yes, and WP version 3.1 extends it to work on more server types
through the use of the WP HTTP API.

http://ottopress.com/2010/wordpress-3-1-and-xml-rpc/

Note that you'll have to explictly include it if you need it, it's not
included everywhere by default:

include_once(ABSPATH . WPINC . '/class-IXR.php');
include_once(ABSPATH . WPINC . '/class-wp-http-ixr-client.php');

-Otto



On Sat, Jan 15, 2011 at 1:04 PM, William P. Davis <will.davis at gmail.com> wrote:
> Does WordPress have a built-in api for making (not receiving) xml-rpc requests? Maybe somewhere in the http api?
> Sent from my BlackBerry? wireless device
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From will.davis at gmail.com  Sat Jan 15 18:25:41 2011
From: will.davis at gmail.com (William P. Davis)
Date: Sat, 15 Jan 2011 18:25:41 +0000
Subject: [wp-hackers] XML-RPC requests
In-Reply-To: <AANLkTinyDkwErq7+UWNwGM-yphdEUXVMbuAKzj2F=+Ed@mail.gmail.com>
References: <57062427-1295114666-cardhu_decombobulator_blackberry.rim.net-1435229185-@bda597.bisx.prod.on.blackberry><AANLkTinyDkwErq7+UWNwGM-yphdEUXVMbuAKzj2F=+Ed@mail.gmail.com>
Message-ID: <163137608-1295115941-cardhu_decombobulator_blackberry.rim.net-1067863488-@bda597.bisx.prod.on.blackberry>

Awesome, thanks Otto. 
Sent from my BlackBerry? wireless device

-----Original Message-----
From: Otto <otto at ottodestruct.com>
Sender: wp-hackers-bounces at lists.automattic.com
Date: Sat, 15 Jan 2011 13:17:32 
To: <wp-hackers at lists.automattic.com>
Reply-To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] XML-RPC requests

Yes, and WP version 3.1 extends it to work on more server types
through the use of the WP HTTP API.

http://ottopress.com/2010/wordpress-3-1-and-xml-rpc/

Note that you'll have to explictly include it if you need it, it's not
included everywhere by default:

include_once(ABSPATH . WPINC . '/class-IXR.php');
include_once(ABSPATH . WPINC . '/class-wp-http-ixr-client.php');

-Otto



On Sat, Jan 15, 2011 at 1:04 PM, William P. Davis <will.davis at gmail.com> wrote:
> Does WordPress have a built-in api for making (not receiving) xml-rpc requests? Maybe somewhere in the http api?
> Sent from my BlackBerry? wireless device
>_______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From will.davis at gmail.com  Sat Jan 15 21:36:44 2011
From: will.davis at gmail.com (William Davis)
Date: Sat, 15 Jan 2011 16:36:44 -0500
Subject: [wp-hackers] XML-based display and spoofing multisite
Message-ID: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>

I'm sorry I keep asking so many questions ? if I'm annoying people  
please let me know. I have two this time.

My first question is if it's possible and advisable to spoof a  
multisite instance. The reason I'm asking is because caching plugins  
don't really work well with mobile sites ? you can have caching bypass  
mobile devices, but then those devices aren't being served cached  
pages and it doesn't really work that well anyway. So what I'm  
thinking is to spoof a separate site ? for example, m.example.com, and  
use the same database as the main site but serve a different theme,  
and that site would be cached as well.

The second question I have has to do with content delivery. I'm  
intrigued by NPR's open API (http://www.npr.org/blogs/inside/2008/09/creating_the_npr_api_why_did_w.html 
) and the diagram of how everything works (http://media.npr.org/images/api/architecture_diagram.jpg 
). I'm curious if anyone has ever tried this approach with WordPress ?  
pretty much generating an xml file of everything in order to reduce  
strain on the database. It would be great for organizations that want  
to offer a robust API to others and/or have lots of delivery systems,  
such as different versions of the site, mobile, tablet apps, etc. What  
are everyone's thoughts on this sort of delivery system? I'm not  
advocating WordPress should adopt it, but I'm sure a plugin could be  
built to offer the functionality.

Will

From hempsworth at gmail.com  Sat Jan 15 22:15:48 2011
From: hempsworth at gmail.com (Alexander Hempton-Smith)
Date: Sat, 15 Jan 2011 22:15:48 +0000
Subject: [wp-hackers] XML-based display and spoofing multisite
In-Reply-To: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
References: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
Message-ID: <-6563101800569075171@unknownmsgid>

I'm also looking into doing the same for a m.example.com site, so
would be interested to see how best to accomplish it.

-- Alex

Sent from my iPhone

On 15 Jan 2011, at 21:38, William Davis <will.davis at gmail.com> wrote:

> I'm sorry I keep asking so many questions ? if I'm annoying people please let me know. I have two this time.
>
> My first question is if it's possible and advisable to spoof a multisite instance. The reason I'm asking is because caching plugins don't really work well with mobile sites ? you can have caching bypass mobile devices, but then those devices aren't being served cached pages and it doesn't really work that well anyway. So what I'm thinking is to spoof a separate site ? for example, m.example.com, and use the same database as the main site but serve a different theme, and that site would be cached as well.
>
> The second question I have has to do with content delivery. I'm intrigued by NPR's open API (http://www.npr.org/blogs/inside/2008/09/creating_the_npr_api_why_did_w.html) and the diagram of how everything works (http://media.npr.org/images/api/architecture_diagram.jpg). I'm curious if anyone has ever tried this approach with WordPress ? pretty much generating an xml file of everything in order to reduce strain on the database. It would be great for organizations that want to offer a robust API to others and/or have lots of delivery systems, such as different versions of the site, mobile, tablet apps, etc. What are everyone's thoughts on this sort of delivery system? I'm not advocating WordPress should adopt it, but I'm sure a plugin could be built to offer the functionality.
>
> Will
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wp at andrewnacin.com  Sat Jan 15 22:37:08 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sat, 15 Jan 2011 17:37:08 -0500
Subject: [wp-hackers] XML-based display and spoofing multisite
In-Reply-To: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
References: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
Message-ID: <AANLkTin-5ShZNEUno4Hhf5cgk-uMVSDqBiGJzrvcVR3H@mail.gmail.com>

On Sat, Jan 15, 2011 at 4:36 PM, William Davis <will.davis at gmail.com> wrote:

> I'm sorry I keep asking so many questions ? if I'm annoying people please
> let me know. I have two this time.
>
> My first question is if it's possible and advisable to spoof a multisite
> instance. The reason I'm asking is because caching plugins don't really work
> well with mobile sites ? you can have caching bypass mobile devices, but
> then those devices aren't being served cached pages and it doesn't really
> work that well anyway. So what I'm thinking is to spoof a separate site ?
> for example, m.example.com, and use the same database as the main site but
> serve a different theme, and that site would be cached as well.
>

I would just write a plugin to allow m.example.com to work off the same
install as example.com. You'd have to ensure a different theme is served,
that links are changed over, and that the cache would be kept differently.

pretty much generating an xml file of everything in order to reduce strain
> on the database.


We have RSS feeds, no?

Nacin

From aaron at jorb.in  Sat Jan 15 22:48:38 2011
From: aaron at jorb.in (Aaron Jorbin)
Date: Sat, 15 Jan 2011 17:48:38 -0500
Subject: [wp-hackers] XML-based display and spoofing multisite
In-Reply-To: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
References: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
Message-ID: <AANLkTinmMFmm-9jQ1n+CtMiBM7FN25t79dSqRDDaf_gx@mail.gmail.com>

On Sat, Jan 15, 2011 at 4:36 PM, William Davis <will.davis at gmail.com> wrote:

> ..pretty much generating an xml file of everything in order to reduce
> strain on the database. It would be great for organizations that want to
> offer a robust API to others and/or have lots of delivery systems, such as
> different versions of the site, mobile, tablet apps, etc. What are
> everyone's thoughts on this sort of delivery system? I'm not advocating
> WordPress should adopt it, but I'm sure a plugin could be built to offer the
> functionality.


You're going to have a much faster experience using a memory cache ( apc
and  memcached are the two examples) then a file cache.
http://www.mysqlperformanceblog.com/2006/08/09/cache-performance-comparison/has
some comparison data. As with all benchmarks, ymmv.

http://aaron.jorb.in
twitter: twitter.com/aaronjorbin

From will.davis at gmail.com  Sat Jan 15 23:09:41 2011
From: will.davis at gmail.com (William Davis)
Date: Sat, 15 Jan 2011 18:09:41 -0500
Subject: [wp-hackers] XML-based display and spoofing multisite
In-Reply-To: <AANLkTinmMFmm-9jQ1n+CtMiBM7FN25t79dSqRDDaf_gx@mail.gmail.com>
References: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
	<AANLkTinmMFmm-9jQ1n+CtMiBM7FN25t79dSqRDDaf_gx@mail.gmail.com>
Message-ID: <73929D80-76FA-4138-92C4-63DC429DF8D2@gmail.com>

Aaron and Andrew,
Thanks for your responses. What I'm interested in is how to provide an  
easily accessible API for everyone, not just internally, especially  
since we're working hard to field a lot of data for each article. An  
internal example would be if we want to develop an iPad app, feeding  
xml files would make more sense than making a direct database call.  
I've thought about using xmlrpc for this, but that seems ... I dunno.  
Is there a preferred way of doing something like that?

In terms of memory cache, it's worth noting that NPR's schematic goes  
something like database -> memcached -> xml -> memcached

Also, Andrew, would it be a bad idea to spoof a site like that?

Will

On Jan 15, 2011, at 5:48 PM, Aaron Jorbin wrote:

> On Sat, Jan 15, 2011 at 4:36 PM, William Davis  
> <will.davis at gmail.com> wrote:
>
>> ..pretty much generating an xml file of everything in order to reduce
>> strain on the database. It would be great for organizations that  
>> want to
>> offer a robust API to others and/or have lots of delivery systems,  
>> such as
>> different versions of the site, mobile, tablet apps, etc. What are
>> everyone's thoughts on this sort of delivery system? I'm not  
>> advocating
>> WordPress should adopt it, but I'm sure a plugin could be built to  
>> offer the
>> functionality.
>
>
> You're going to have a much faster experience using a memory cache  
> ( apc
> and  memcached are the two examples) then a file cache.
> http://www.mysqlperformanceblog.com/2006/08/09/cache-performance-comparison/has
> some comparison data. As with all benchmarks, ymmv.
>
> http://aaron.jorb.in
> twitter: twitter.com/aaronjorbin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From dennen at gmail.com  Sat Jan 15 23:15:59 2011
From: dennen at gmail.com (Bill Dennen)
Date: Sat, 15 Jan 2011 18:15:59 -0500
Subject: [wp-hackers] XML-based display and spoofing multisite
In-Reply-To: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
References: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
Message-ID: <AANLkTimxBU68dM850hYvs1DNRtye4_GcBsYgUHrKvEn8@mail.gmail.com>

>
> devices aren't being served cached pages and it doesn't really work that
> well anyway. So what I'm thinking is to spoof a separate site ? for example,
> m.example.com, and use the same database as the main site but serve a
> different theme, and that site would be cached as well.
>

 Will-

You may have already considered this, but could you just design your theme
in such a way that it works fine for both desktop and mobile browsers? Using
an approach like:

http://www.smashingmagazine.com/2011/01/12/guidelines-for-responsive-web-design/

-Bill

From will.davis at gmail.com  Sat Jan 15 23:19:39 2011
From: will.davis at gmail.com (William Davis)
Date: Sat, 15 Jan 2011 18:19:39 -0500
Subject: [wp-hackers] XML-based display and spoofing multisite
In-Reply-To: <AANLkTimxBU68dM850hYvs1DNRtye4_GcBsYgUHrKvEn8@mail.gmail.com>
References: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
	<AANLkTimxBU68dM850hYvs1DNRtye4_GcBsYgUHrKvEn8@mail.gmail.com>
Message-ID: <99AB4C0C-5624-42B7-9698-5FC9EFD1E204@gmail.com>

Thanks Bill. Our mobile site currently (which is actually on a  
different CMS) uses responsive Web design to fit many different  
browsers, but scaling our desktop version down simply won't work ? too  
much going on. For example, our home page is completely reconfigured  
on mobile, we reposition ads, reduce image sizes to speed up load  
times, emphasize different elements that people are more likely to  
want on their phone than on their computer, etc.

Will

On Jan 15, 2011, at 6:15 PM, Bill Dennen wrote:

>>
>> devices aren't being served cached pages and it doesn't really work  
>> that
>> well anyway. So what I'm thinking is to spoof a separate site ? for  
>> example,
>> m.example.com, and use the same database as the main site but serve a
>> different theme, and that site would be cached as well.
>>
>
> Will-
>
> You may have already considered this, but could you just design your  
> theme
> in such a way that it works fine for both desktop and mobile  
> browsers? Using
> an approach like:
>
> http://www.smashingmagazine.com/2011/01/12/guidelines-for-responsive-web-design/
>
> -Bill
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From hempsworth at gmail.com  Sat Jan 15 23:20:26 2011
From: hempsworth at gmail.com (Alexander Hempton-Smith)
Date: Sat, 15 Jan 2011 23:20:26 +0000
Subject: [wp-hackers] XML-based display and spoofing multisite
In-Reply-To: <73929D80-76FA-4138-92C4-63DC429DF8D2@gmail.com>
References: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
	<AANLkTinmMFmm-9jQ1n+CtMiBM7FN25t79dSqRDDaf_gx@mail.gmail.com>
	<73929D80-76FA-4138-92C4-63DC429DF8D2@gmail.com>
Message-ID: <-8160682067681169613@unknownmsgid>

What about XML-RPC? Or is that too limited to offer a full API?

-- Alex

Sent from my iPhone

On 15 Jan 2011, at 23:09, William Davis <will.davis at gmail.com> wrote:

> Aaron and Andrew,
> Thanks for your responses. What I'm interested in is how to provide an easily accessible API for everyone, not just internally, especially since we're working hard to field a lot of data for each article. An internal example would be if we want to develop an iPad app, feeding xml files would make more sense than making a direct database call. I've thought about using xmlrpc for this, but that seems ... I dunno. Is there a preferred way of doing something like that?
>
> In terms of memory cache, it's worth noting that NPR's schematic goes something like database -> memcached -> xml -> memcached
>
> Also, Andrew, would it be a bad idea to spoof a site like that?
>
> Will
>
> On Jan 15, 2011, at 5:48 PM, Aaron Jorbin wrote:
>
>> On Sat, Jan 15, 2011 at 4:36 PM, William Davis <will.davis at gmail.com> wrote:
>>
>>> ..pretty much generating an xml file of everything in order to reduce
>>> strain on the database. It would be great for organizations that want to
>>> offer a robust API to others and/or have lots of delivery systems, such as
>>> different versions of the site, mobile, tablet apps, etc. What are
>>> everyone's thoughts on this sort of delivery system? I'm not advocating
>>> WordPress should adopt it, but I'm sure a plugin could be built to offer the
>>> functionality.
>>
>>
>> You're going to have a much faster experience using a memory cache ( apc
>> and  memcached are the two examples) then a file cache.
>> http://www.mysqlperformanceblog.com/2006/08/09/cache-performance-comparison/has
>> some comparison data. As with all benchmarks, ymmv.
>>
>> http://aaron.jorb.in
>> twitter: twitter.com/aaronjorbin
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From aaron at jorb.in  Sat Jan 15 23:29:01 2011
From: aaron at jorb.in (Aaron Jorbin)
Date: Sat, 15 Jan 2011 18:29:01 -0500
Subject: [wp-hackers] XML-based display and spoofing multisite
In-Reply-To: <-8160682067681169613@unknownmsgid>
References: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
	<AANLkTinmMFmm-9jQ1n+CtMiBM7FN25t79dSqRDDaf_gx@mail.gmail.com>
	<73929D80-76FA-4138-92C4-63DC429DF8D2@gmail.com>
	<-8160682067681169613@unknownmsgid>
Message-ID: <AANLkTikJ2sFa3MkjkW_U47h8i_CffU0v=0YRT1FMmgf6@mail.gmail.com>

For an api, I would set up the cache as normal and use add_feed to create a
json feed.  (slide 40 from
http://andrewnacin.com/2010/09/11/wcma-resources/should give you an
idea)



http://aaron.jorb.in
twitter: twitter.com/aaronjorbin

From will.davis at gmail.com  Sat Jan 15 23:30:00 2011
From: will.davis at gmail.com (William Davis)
Date: Sat, 15 Jan 2011 18:30:00 -0500
Subject: [wp-hackers] XML-based display and spoofing multisite
In-Reply-To: <AANLkTikJ2sFa3MkjkW_U47h8i_CffU0v=0YRT1FMmgf6@mail.gmail.com>
References: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
	<AANLkTinmMFmm-9jQ1n+CtMiBM7FN25t79dSqRDDaf_gx@mail.gmail.com>
	<73929D80-76FA-4138-92C4-63DC429DF8D2@gmail.com>
	<-8160682067681169613@unknownmsgid>
	<AANLkTikJ2sFa3MkjkW_U47h8i_CffU0v=0YRT1FMmgf6@mail.gmail.com>
Message-ID: <ED9C22EF-41A6-4203-8F7A-B89BBBC00181@gmail.com>

Thanks Aaron. Much appreciated.



On Jan 15, 2011, at 6:29 PM, Aaron Jorbin wrote:

> For an api, I would set up the cache as normal and use add_feed to  
> create a
> json feed.  (slide 40 from
> http://andrewnacin.com/2010/09/11/wcma-resources/should give you an
> idea)
>
>
>
> http://aaron.jorb.in
> twitter: twitter.com/aaronjorbin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From rbilesky at gmail.com  Sat Jan 15 23:59:06 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Sat, 15 Jan 2011 15:59:06 -0800
Subject: [wp-hackers] XML-based display and spoofing multisite
In-Reply-To: <ED9C22EF-41A6-4203-8F7A-B89BBBC00181@gmail.com>
References: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
	<AANLkTinmMFmm-9jQ1n+CtMiBM7FN25t79dSqRDDaf_gx@mail.gmail.com>
	<73929D80-76FA-4138-92C4-63DC429DF8D2@gmail.com>
	<-8160682067681169613@unknownmsgid>
	<AANLkTikJ2sFa3MkjkW_U47h8i_CffU0v=0YRT1FMmgf6@mail.gmail.com>
	<ED9C22EF-41A6-4203-8F7A-B89BBBC00181@gmail.com>
Message-ID: <AANLkTinsF+_YoQ7R6ambJrJCnuWZZyB7xKKKUsq5VTvT@mail.gmail.com>

As far as the mobile site I actually just use multisite and I filter sql
queries to use main site content.

On Jan 15, 2011 3:30 PM, "William Davis" <will.davis at gmail.com> wrote:
> Thanks Aaron. Much appreciated.
>
>
>
> On Jan 15, 2011, at 6:29 PM, Aaron Jorbin wrote:
>
>> For an api, I would set up the cache as normal and use add_feed to
>> create a
>> json feed. (slide 40 from
>> http://andrewnacin.com/2010/09/11/wcma-resources/should give you an
>> idea)
>>
>>
>>
>> http://aaron.jorb.in
>> twitter: twitter.com/aaronjorbin
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From philip at frumph.net  Sun Jan 16 13:12:55 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Sun, 16 Jan 2011 05:12:55 -0800
Subject: [wp-hackers] Too many active connections
Message-ID: <8002527CC7914770B381A5ADFD6C7EF6@frumph.net>

Since 3.0 was released users of my theme(s) & other themes have been reporting getting messages where there are too many active connections happening, the message they really get is randomly unable to connect to database messages with wordpress.  Their shared hostings report to them they are exceeding their max amount of active connections...

It's not happening here to me on my server, so unfortunately i'm unable to duplicate this but randomly every couple weeks another person shows up with the same thing happening to them.

My response has always been to have them clean out any plugins that are being too excessive and use the post revision cleanup method, .. but oddly enough several of them were very fresh installs with barely minimal added.

Has anyone encountered this?   Is there a plugin made that can view all the active connections?  Is there a way to 'force' connection close at the end of page load?



From tareq1988 at gmail.com  Sun Jan 16 13:23:44 2011
From: tareq1988 at gmail.com (Tareq Hasan)
Date: Sun, 16 Jan 2011 19:23:44 +0600
Subject: [wp-hackers] Search in multiple categories
Message-ID: <AANLkTim4BaJfc6yRpXyZiW+2L6fB-jvt60TZ=PBGhSQ2@mail.gmail.com>

Hello all,
I need some help in a search functionality. Suppose I have a widget with
search box and there is four category dropdown. I want to search for the
query only in selected 4 categories. So what will be the procedure? and how
to give the names of category fields?

I tried with the two query form (showing with 2 cat):
(1) ?s=wifi&sa=search&cat[]=61&cat[]=62
(2) ?s=wifi&sa=search&cat=61,62
Both didn't work what I wanted.

Please help me.
--------------------------------------------
Best regards
Tareq Hasan
Blog <http://tareq.wedevs.com> | Twitter
<http://twitter.com/tareq_cse> | ???????
- ??????? ??????????, ????-??????, ????? <http://linux.org.bd/>

From czarte at gmail.com  Sun Jan 16 16:51:07 2011
From: czarte at gmail.com (czArte de la Praga)
Date: Sun, 16 Jan 2011 17:51:07 +0100
Subject: [wp-hackers] hello ? have a problem
Message-ID: <AANLkTikijwhhb9za18Vy8ab62h-ivQzphpv3yGZ9YS8+@mail.gmail.com>

Filtering childs of any category you can take by
post_is_in_descendant_category_function() you must add in your theme:

http://codex.wordpress.org/Function_Reference/in_category#post_is_in_descendant_category_function


Message: 6
> Date: Thu, 13 Jan 2011 00:47:13 +0200
> From: Sinan <yok2504 at gmail.com>
> Subject: Re: [wp-hackers] hello ? have a problem
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTinobXnJoqSfk0Gj9eM1dLrPfK_7xsaN0KjbqEHL at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> ? found the problem, I chose the mother category but i want the see child
> categorys :)
>
> thank you guys for fast answers :)
>
>
>
>
> 13 Ocak 2011 00:41 tarihinde Sinan <yok2504 at gmail.com> yazd?:
>
> > still not working
> >
> > http://prntscr.com/1ekux
> >
> >
> > pff :(
> >
> > 2011/1/13 Nathaniel Taintor <goldenapplesdesign at gmail.com>
> >
> > On Wed, Jan 12, 2011 at 2:30 PM, Sinan <yok2504 at gmail.com> wrote:
> >>
> >> > i dont know why but is_category() not working
> >> >
> >> > is there have any other solutions ?
> >> >
> >>
> >>
> >> I think it should be in_category()...
> >>
> >>
> >> >
> >> >
> >> > 2011/1/13 Alexander Hempton-Smith <hempsworth at gmail.com>
> >> >
> >> > > In your single.php you could use a conditional statement to do
> >> > > something specific for that category:
> >> > >
> >> > > if ( is_category( 'your-cat' ) ) {
> >> > >
> >> > > // Do something for that category
> >> > >
> >> > > } else {
> >> > >
> >> > > // Something else for all other cats
> >> > >
> >> > > }
> >> > >
> >> > > -- Alex
> >> > >
> >> > > Sent from my iPhone
> >> > >
> >> > > On 12 Jan 2011, at 22:05, Sinan <yok2504 at gmail.com> wrote:
> >> > >
> >> > > > i need a solution for this problem;
> >> > > >
> >> > > >
> >> > > > you know that;   category-*id*.php   list the special category but
> i
> >> > need
> >> > > > when click the   post  in this category-*id*.php
> >> > > >
> >> > > > open   single-*(cat-id)*.php   how can i do that ?
> >> > > >
> >> > > >
> >> > > >
> >> > > > :(
> >> > > >
> >> > > > --
> >> > > >     Sinan ??LER
> >> > > > www.sinanisler.com
> >> > > > sinanisler.deviantart.com
> >> > > > _______________________________________________
> >> > > > wp-hackers mailing list
> >> > > > wp-hackers at lists.automattic.com
> >> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> > > _______________________________________________
> >> > > wp-hackers mailing list
> >> > > wp-hackers at lists.automattic.com
> >> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> > >
> >> >
> >> >
> >> >
> >> > --
> >> >      Sinan ??LER
> >> > www.sinanisler.com
> >> > sinanisler.deviantart.com
> >> > _______________________________________________
> >> > wp-hackers mailing list
> >> > wp-hackers at lists.automattic.com
> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> >
> > --
> >      Sinan ??LER
> > www.sinanisler.com
> > sinanisler.deviantart.com
> >
>
>
>
> --
>     Sinan ??LER
> www.sinanisler.com
> sinanisler.deviantart.com
>
>
> ------------------------------
>
> Message: 7
> Date: Wed, 12 Jan 2011 14:48:04 -0800 (PST)
> From: "24/7" <24-7 at gmx.net>
> Subject: [wp-hackers] wp_redirect extremly slow
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <2d5f3093-ec56-4f8c-bae4-7aa2a443d533 at r29g2000yqj.googlegroups.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Hi,
>
> i work with my own little framework and got some sort of small setup
> procedure. Therefore i question if the setup process is already done
> or if there should be a redirect to the setup page. My problem is,
> that the redirect via wp_redirect often ends up needing 30sec.+ Has
> someone any explanation for this?
>
> <?php
> // Note: Just example code. Typing errors happened in here
>
> class myInit() {
> function __construct() {
>   if ( empty($setup) ) {
>       // do stuff
>   }
>   else {
>       add_action( 'init', array(&$this, 'redirect'), 0);
>   }
>
>   public static function redirect() {
>       wp_redirect( get_bloginfo('url').'/wp-admin/admin.php?
> page=setup.php', 301 );
>   }
> }
> }
>
> Thanks!
> -K.
>
>
> ------------------------------
>
> Message: 8
> Date: Wed, 12 Jan 2011 17:52:21 -0500
> From: Andrew Nacin <wp at andrewnacin.com>
> Subject: Re: [wp-hackers] wp_redirect extremly slow
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTinN7iL8zE_iXTyx6bkB-4oqcRkoJEj0Xc=-G65B at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> On Wed, Jan 12, 2011 at 5:48 PM, 24/7 <24-7 at gmx.net> wrote:
>
> > Hi,
> >
> > i work with my own little framework and got some sort of small setup
> > procedure. Therefore i question if the setup process is already done
> > or if there should be a redirect to the setup page. My problem is,
> > that the redirect via wp_redirect often ends up needing 30sec.+ Has
> > someone any explanation for this?
> >
> > <?php
> > // Note: Just example code. Typing errors happened in here
> >
> > class myInit() {
> > function __construct() {
> >   if ( empty($setup) ) {
> >       // do stuff
> >   }
> >   else {
> >       add_action( 'init', array(&$this, 'redirect'), 0);
> >   }
> >
> >   public static function redirect() {
> >       wp_redirect( get_bloginfo('url').'/wp-admin/admin.php?
> > page=setup.php', 301 );
> >   }
> > }
> > }
> >
>
> You need to always call exit; or die; after wp_redirect(). Otherwise, the
> script continues and headers may not be sent.
>
>
> ------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> End of wp-hackers Digest, Vol 72, Issue 27
> ******************************************
>



-- 
S pozdravem Vojt?ch Park?n

Czarte Design
www.czarte.eu

Space Orange studio
www.spaceorange.eu

From danixland at gmail.com  Sun Jan 16 18:41:59 2011
From: danixland at gmail.com (danilo)
Date: Sun, 16 Jan 2011 19:41:59 +0100
Subject: [wp-hackers] function to show total comments by user
Message-ID: <4D333BF7.80707@gmail.com>

Hello everybody,
I've written a function that shows the total number of comments from a 
given user, being it registered or not on the site:

function user_comments_count($comment_author) {
   $author_comm = $comment_author;
   global $wpdb;
   $comment_counter = $wpdb->get_results( $wpdb->prepare(
     "SELECT comment_author, COUNT( * ) AS total FROM {$wpdb->comments} 
WHERE comment_approved = 1 AND comment_author = %s", $author_comm), 
ARRAY_A);
   foreach ($comment_counter as $count) {
     echo $count['total'];
   }
}

I use it inside the comment loop in the comments.php template as:

<?php user_comments_count( get_comment_author() ); ?>

And it returns the total number of comments.


Now my questions are, have I reinvented the wheel? While I wasn't able 
to find a function within WordPress that does exactly this, maybe you 
can point me to something I've missed in my research...

Is this secure enough?? I've almost never worked directly with the 
database, so I followed the codex which stated that using 
$wpdb->prepare() is a safe way to sanitize db queries, but maybe there 
are safer way to do this same thing, what you think?

Do you think it would be useful to include this in future releases of 
WordPress? I think it would be a nice addiction, what about you?


Thanks in advance.

--
Danilo aka danix
http://danixland.net

From piemanek at gmail.com  Sun Jan 16 20:21:38 2011
From: piemanek at gmail.com (Simon Blackbourn)
Date: Sun, 16 Jan 2011 20:21:38 +0000
Subject: [wp-hackers] function to show total comments by user
In-Reply-To: <4D333BF7.80707@gmail.com>
References: <4D333BF7.80707@gmail.com>
Message-ID: <AANLkTik0iRQCcb+n6LfP==ZQQ3Bj8Cuf8kfBwKpWv3Nr@mail.gmail.com>

> Now my questions are, have I reinvented the wheel? While I wasn't able to
> find a function within WordPress that does exactly this, maybe you can point
> me to something I've missed in my research...
>
>

This should work (replace the 1 with your required user ID):

$userID = 1;
echo get_comments( array( 'user_id' => $userID, 'count' => true ) );

From danixland at gmail.com  Sun Jan 16 20:36:10 2011
From: danixland at gmail.com (danilo)
Date: Sun, 16 Jan 2011 21:36:10 +0100
Subject: [wp-hackers] function to show total comments by user
In-Reply-To: <AANLkTik0iRQCcb+n6LfP==ZQQ3Bj8Cuf8kfBwKpWv3Nr@mail.gmail.com>
References: <4D333BF7.80707@gmail.com>
	<AANLkTik0iRQCcb+n6LfP==ZQQ3Bj8Cuf8kfBwKpWv3Nr@mail.gmail.com>
Message-ID: <4D3356BA.10502@gmail.com>

On 16/01/2011 21:21, Simon Blackbourn wrote:
>> Now my questions are, have I reinvented the wheel? While I wasn't able to
>> find a function within WordPress that does exactly this, maybe you can point
>> me to something I've missed in my research...
>>
>>
>
> This should work (replace the 1 with your required user ID):
>
> $userID = 1;
> echo get_comments( array( 'user_id' =>  $userID, 'count' =>  true ) );
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
Thanks for replying,
reading trough the codex for get_comments() there's not a single word 
about the 'count' option...
I think your solution also doesn't show the total comments for 
unregistered users. I could use 'author_email' instead of 'user_id' but 
at this point I don't know how to retrieve the email associated with the 
commenter.

Also trying to use your solution it returned an array, so I suppose the 
'count' parameter doesn't work...


-- 
Danilo aka danix
http://danixland.net

From will at itsananderson.com  Sun Jan 16 20:53:50 2011
From: will at itsananderson.com (Will Anderson)
Date: Sun, 16 Jan 2011 15:53:50 -0500
Subject: [wp-hackers] function to show total comments by user
In-Reply-To: <4D3356BA.10502@gmail.com>
References: <4D333BF7.80707@gmail.com>
	<AANLkTik0iRQCcb+n6LfP==ZQQ3Bj8Cuf8kfBwKpWv3Nr@mail.gmail.com>
	<4D3356BA.10502@gmail.com>
Message-ID: <AANLkTikb6e4vQ4Q8V4kQGcBN3gPexCBx8=cvHQe+EYV-@mail.gmail.com>

Why not just use the comment author email instead? Author name isn't
necessarily unique.

function comment_author_comments_count($comment_author_email) {
    $author_comments =  get_comments( array( 'author_email' => $ ) );
    echo count( $author_comments );
}

// In comment template
comment_author_comments_count( comment_author_email() );

On the other hand, it might be better to simply build a custom SQL query to
get the count, rather than grabbing all the author's comments but not using
them.

function comment_author_comments_count($comment_author_email) {
    global $wpdb;
    echo $wpdb->get_var( $wpdb->prepare( "SELECT COUNT(comment_ID) AS total
FROM {$wpdb->comments} WHERE comment_author_email = %s",
$comment_author_email );
}

The second method will be MUCH more space/time efficient than the first.


On Sun, Jan 16, 2011 at 3:36 PM, danilo <danixland at gmail.com> wrote:

> On 16/01/2011 21:21, Simon Blackbourn wrote:
>
>> Now my questions are, have I reinvented the wheel? While I wasn't able to
>>> find a function within WordPress that does exactly this, maybe you can
>>> point
>>> me to something I've missed in my research...
>>>
>>>
>>>
>> This should work (replace the 1 with your required user ID):
>>
>> $userID = 1;
>> echo get_comments( array( 'user_id' =>  $userID, 'count' =>  true ) );
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>  Thanks for replying,
> reading trough the codex for get_comments() there's not a single word about
> the 'count' option...
> I think your solution also doesn't show the total comments for unregistered
> users. I could use 'author_email' instead of 'user_id' but at this point I
> don't know how to retrieve the email associated with the commenter.
>
> Also trying to use your solution it returned an array, so I suppose the
> 'count' parameter doesn't work...
>
>
> --
> Danilo aka danix
> http://danixland.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From eddie at teamcolab.com  Sun Jan 16 21:05:10 2011
From: eddie at teamcolab.com (Eddie O'Leary)
Date: Sun, 16 Jan 2011 16:05:10 -0500
Subject: [wp-hackers] Wordpress in Multiple Environments
Message-ID: <93E2EFE6-D949-41BF-B52A-13000C42318C@teamcolab.com>

So I am fairly sure I am bringing up an old discussion here.  Sorry if I am.

I have several high traffic WordPress websites that have local, staging, and production environments all tied together with a git repository on github.

Ideally, any changes I make locally are tested and then pushed to staging which will show up at staging.mysite.com.  Once the changes have been evaluated on staging they are pushed to the live environment.

I am running into the traditional problem of the absolute links created by the WordPress media library.  I would like to be able to pull the production database down to staging for testing and not have to search and replace the database for links.

My first thought it to create a media.mysite.com and force all my environments to put files there.

Another solution I am considering is using the W3 Total Cache plugin to put all the media files on the Rackspace Cloud CDN.  All of our media files would be located in one spot, theoretically, eliminating my permalink issues for images and PDFs uploaded via the media library.

I would appreciate any feedback you all have on this.

Thanks,

Eddie

Eddie O'Leary
Web Developer
CoLab Multimedia

-Sent from my iPhone

From piemanek at gmail.com  Sun Jan 16 21:47:37 2011
From: piemanek at gmail.com (Simon Blackbourn)
Date: Sun, 16 Jan 2011 21:47:37 +0000
Subject: [wp-hackers] function to show total comments by user
In-Reply-To: <4D3356BA.10502@gmail.com>
References: <4D333BF7.80707@gmail.com>
	<AANLkTik0iRQCcb+n6LfP==ZQQ3Bj8Cuf8kfBwKpWv3Nr@mail.gmail.com>
	<4D3356BA.10502@gmail.com>
Message-ID: <AANLkTikU=17ZPMtfkX=QjzbQ+TUbYr1GWH+QsakaTj7+@mail.gmail.com>

> reading trough the codex for get_comments() there's not a single word about
> the 'count' option...
>

i tend to also look at the function directly in the source code as the codex
is often incomplete. in this case the function is defined in
wp-includes/comment.php.


I think your solution also doesn't show the total comments for unregistered
> users. I could use 'author_email' instead of 'user_id' but at this point I
> don't know how to retrieve the email associated with the commenter.
>

sorry, yes you're right, i hadn't noticed that bit in your original
question. get_comment_author_email will help you.



> Also trying to use your solution it returned an array, so I suppose the
> 'count' parameter doesn't work...
>

it does normally return an array, but if you pass in the count parameter it
returns a single value instead. i've just tested this on one of my sites and
it's working for me.

From danixland at gmail.com  Sun Jan 16 21:13:00 2011
From: danixland at gmail.com (danilo)
Date: Sun, 16 Jan 2011 22:13:00 +0100
Subject: [wp-hackers] function to show total comments by user
In-Reply-To: <AANLkTikb6e4vQ4Q8V4kQGcBN3gPexCBx8=cvHQe+EYV-@mail.gmail.com>
References: <4D333BF7.80707@gmail.com>
	<AANLkTik0iRQCcb+n6LfP==ZQQ3Bj8Cuf8kfBwKpWv3Nr@mail.gmail.com>
	<4D3356BA.10502@gmail.com>
	<AANLkTikb6e4vQ4Q8V4kQGcBN3gPexCBx8=cvHQe+EYV-@mail.gmail.com>
Message-ID: <4D335F5C.1070304@gmail.com>

> On the other hand, it might be better to simply build a custom SQL query to
> get the count, rather than grabbing all the author's comments but not using
> them.
>
> function comment_author_comments_count($comment_author_email) {
>      global $wpdb;
>      echo $wpdb->get_var( $wpdb->prepare( "SELECT COUNT(comment_ID) AS total
> FROM {$wpdb->comments} WHERE comment_author_email = %s",
> $comment_author_email );
> }
>
> The second method will be MUCH more space/time efficient than the first.
Thanks, that's exactly what I was looking for.. it worked like a charm, 
you just forgot a closing bracket for the get_var(). ;)
In the comments.php file I used get_comment_author_email() and it worked 
perfectly.

Thanks a lot again!!
-- 
Danilo aka danix
http://danixland.net

From banago at gmail.com  Sun Jan 16 22:01:54 2011
From: banago at gmail.com (Baki Goxhaj)
Date: Sun, 16 Jan 2011 23:01:54 +0100
Subject: [wp-hackers] Wordpress in Multiple Environments
In-Reply-To: <93E2EFE6-D949-41BF-B52A-13000C42318C@teamcolab.com>
References: <93E2EFE6-D949-41BF-B52A-13000C42318C@teamcolab.com>
Message-ID: <AANLkTi=a55to5q74webeVD4Q5N45-=+6ANHcGmcpBCjc@mail.gmail.com>

That is an very interesting development approach. It would be great if
you could share it in a blog post.

I dont have an answer for your questin though - lets get the experts talk.

On 1/16/11, Eddie O'Leary <eddie at teamcolab.com> wrote:
> So I am fairly sure I am bringing up an old discussion here.  Sorry if I am.
>
> I have several high traffic WordPress websites that have local, staging, and
> production environments all tied together with a git repository on github.
>
> Ideally, any changes I make locally are tested and then pushed to staging
> which will show up at staging.mysite.com.  Once the changes have been
> evaluated on staging they are pushed to the live environment.
>
> I am running into the traditional problem of the absolute links created by
> the WordPress media library.  I would like to be able to pull the production
> database down to staging for testing and not have to search and replace the
> database for links.
>
> My first thought it to create a media.mysite.com and force all my
> environments to put files there.
>
> Another solution I am considering is using the W3 Total Cache plugin to put
> all the media files on the Rackspace Cloud CDN.  All of our media files
> would be located in one spot, theoretically, eliminating my permalink issues
> for images and PDFs uploaded via the media library.
>
> I would appreciate any feedback you all have on this.
>
> Thanks,
>
> Eddie
>
> Eddie O'Leary
> Web Developer
> CoLab Multimedia
>
> -Sent from my iPhone
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

-- 
Sent from my mobile device

Kindly,

Baki Goxhaj
www.wplancer.com | www.banago.info | proverbhunter.com

From tom at thejenkinsweb.com  Sun Jan 16 22:15:48 2011
From: tom at thejenkinsweb.com (Tom Jenkins)
Date: Sun, 16 Jan 2011 16:15:48 -0600
Subject: [wp-hackers] Search in multiple categories
In-Reply-To: <AANLkTim4BaJfc6yRpXyZiW+2L6fB-jvt60TZ=PBGhSQ2@mail.gmail.com>
References: <AANLkTim4BaJfc6yRpXyZiW+2L6fB-jvt60TZ=PBGhSQ2@mail.gmail.com>
Message-ID: <AANLkTimaVXm217yhCiYODjU79kNMWQQ_S4mb_AEiV-4v@mail.gmail.com>

You just need to have your category dropdown within the search form itself.

<form method="get" id="searchform" action="<?php bloginfo('url');?>/" >
<label for="s">Search</label>

<input type="text" value="<?php echo
attribute_escape(apply_filters('the_search_query', get_search_query())) ?>"
name="s" id="s" />

<label for="">Topic</label>

<?php
wp_dropdown_categories('depth=0&orderby=name&hide_empty=1&show_option_all=Search
Everything'); ?>

<input type="submit" id="searchsubmit" value="Search" />

</form>


Tom

==============================
Tom Jenkins
Development Director for Adcuda <http://adcuda.com>
Web: http://techguytom.com
twitter: http://twitter.com/techguytom



On Sun, Jan 16, 2011 at 7:23 AM, Tareq Hasan <tareq1988 at gmail.com> wrote:

> Hello all,
> I need some help in a search functionality. Suppose I have a widget with
> search box and there is four category dropdown. I want to search for the
> query only in selected 4 categories. So what will be the procedure? and how
> to give the names of category fields?
>
> I tried with the two query form (showing with 2 cat):
> (1) ?s=wifi&sa=search&cat[]=61&cat[]=62
> (2) ?s=wifi&sa=search&cat=61,62
> Both didn't work what I wanted.
>
> Please help me.
> --------------------------------------------
> Best regards
> Tareq Hasan
> Blog <http://tareq.wedevs.com> | Twitter
> <http://twitter.com/tareq_cse> | ???????
> - ??????? ??????????, ????-??????, ????? <http://linux.org.bd/>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Mon Jan 17 01:07:01 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 16 Jan 2011 20:07:01 -0500
Subject: [wp-hackers] Wordpress in Multiple Environments
In-Reply-To: <93E2EFE6-D949-41BF-B52A-13000C42318C@teamcolab.com>
References: <93E2EFE6-D949-41BF-B52A-13000C42318C@teamcolab.com>
Message-ID: <AANLkTik-p7sd2V+YJ=jBWT_MgmMoK+=iAJcVS8CFRxNn@mail.gmail.com>

On Sun, Jan 16, 2011 at 4:05 PM, Eddie O'Leary <eddie at teamcolab.com> wrote:

> So I am fairly sure I am bringing up an old discussion here.  Sorry if I
> am.
>
> I have several high traffic WordPress websites that have local, staging,
> and production environments all tied together with a git repository on
> github.
>
> Ideally, any changes I make locally are tested and then pushed to staging
> which will show up at staging.mysite.com.  Once the changes have been
> evaluated on staging they are pushed to the live environment.
>
> I am running into the traditional problem of the absolute links created by
> the WordPress media library.  I would like to be able to pull the production
> database down to staging for testing and not have to search and replace the
> database for links.
>
> My first thought it to create a media.mysite.com and force all my
> environments to put files there.
>
> Another solution I am considering is using the W3 Total Cache plugin to put
> all the media files on the Rackspace Cloud CDN.  All of our media files
> would be located in one spot, theoretically, eliminating my permalink issues
> for images and PDFs uploaded via the media library.
>
> I would appreciate any feedback you all have on this.
>

The simplest solution is to run an output buffer in staging that rewrites
any live links. Works extremely well and doesn't put any additional burden
onto the production site. It also helps in a number of other areas outside
the media library. You might want to conditionally filter the uploads stuff
anyway the same way you're filtering home and siteurl.

It could literally be as simple as this in wp-config.php:

ob_start( 'mysite_staging_links' );
function mysite_staging_links( $content ) {
   return str_replace( 'http://mysite.com/', 'http://staging.mysite.com',
$content );
}

Nacin

From mikeschinkel at newclarity.net  Mon Jan 17 01:30:07 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 16 Jan 2011 20:30:07 -0500
Subject: [wp-hackers] Wordpress in Multiple Environments
In-Reply-To: <AANLkTik-p7sd2V+YJ=jBWT_MgmMoK+=iAJcVS8CFRxNn@mail.gmail.com>
References: <93E2EFE6-D949-41BF-B52A-13000C42318C@teamcolab.com>
	<AANLkTik-p7sd2V+YJ=jBWT_MgmMoK+=iAJcVS8CFRxNn@mail.gmail.com>
Message-ID: <0986E78A-FF79-442D-B90F-03B40B4255F3@newclarity.net>

On Jan 16, 2011, at 8:07 PM, Andrew Nacin wrote:
> The simplest solution is to run an output buffer in staging that rewrites
> any live links. Works extremely well and doesn't put any additional burden
> onto the production site. It also helps in a number of other areas outside
> the media library. You might want to conditionally filter the uploads stuff
> anyway the same way you're filtering home and siteurl.
> 
> It could literally be as simple as this in wp-config.php:
> 
> ob_start( 'mysite_staging_links' );
> function mysite_staging_links( $content ) {
>   return str_replace( 'http://mysite.com/', 'http://staging.mysite.com',
> $content );
> }

How does that address the URLs saved to the database by images uploaded when in the staging environment? 

-Mike

From rbilesky at gmail.com  Mon Jan 17 05:40:00 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Sun, 16 Jan 2011 21:40:00 -0800
Subject: [wp-hackers] Wordpress in Multiple Environments
In-Reply-To: <0986E78A-FF79-442D-B90F-03B40B4255F3@newclarity.net>
References: <93E2EFE6-D949-41BF-B52A-13000C42318C@teamcolab.com>
	<AANLkTik-p7sd2V+YJ=jBWT_MgmMoK+=iAJcVS8CFRxNn@mail.gmail.com>
	<0986E78A-FF79-442D-B90F-03B40B4255F3@newclarity.net>
Message-ID: <AANLkTin4QZJC0qMaZ+=K95YwcGjCNS+8ogcvr_pqbzS-@mail.gmail.com>

My guess is the uploads get the domain from the siteurl setting, as long as
that's set to the production site url then the uploads work fine, then when
being outputted you use andrews code to rewite the links, being that
directory structure should be the same that would work.

Or I could be mistaken about that, but that's my guess.

On Jan 16, 2011 5:30 PM, "Mike Schinkel" <mikeschinkel at newclarity.net>
wrote:
> On Jan 16, 2011, at 8:07 PM, Andrew Nacin wrote:
>> The simplest solution is to run an output buffer in staging that rewrites
>> any live links. Works extremely well and doesn't put any additional
burden
>> onto the production site. It also helps in a number of other areas
outside
>> the media library. You might want to conditionally filter the uploads
stuff
>> anyway the same way you're filtering home and siteurl.
>>
>> It could literally be as simple as this in wp-config.php:
>>
>> ob_start( 'mysite_staging_links' );
>> function mysite_staging_links( $content ) {
>> return str_replace( 'http://mysite.com/', 'http://staging.mysite.com',
>> $content );
>> }
>
> How does that address the URLs saved to the database by images uploaded
when in the staging environment?
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From rbilesky at gmail.com  Mon Jan 17 05:40:00 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Sun, 16 Jan 2011 21:40:00 -0800
Subject: [wp-hackers] Wordpress in Multiple Environments
In-Reply-To: <0986E78A-FF79-442D-B90F-03B40B4255F3@newclarity.net>
References: <93E2EFE6-D949-41BF-B52A-13000C42318C@teamcolab.com>
	<AANLkTik-p7sd2V+YJ=jBWT_MgmMoK+=iAJcVS8CFRxNn@mail.gmail.com>
	<0986E78A-FF79-442D-B90F-03B40B4255F3@newclarity.net>
Message-ID: <AANLkTin4QZJC0qMaZ+=K95YwcGjCNS+8ogcvr_pqbzS-@mail.gmail.com>

My guess is the uploads get the domain from the siteurl setting, as long as
that's set to the production site url then the uploads work fine, then when
being outputted you use andrews code to rewite the links, being that
directory structure should be the same that would work.

Or I could be mistaken about that, but that's my guess.

On Jan 16, 2011 5:30 PM, "Mike Schinkel" <mikeschinkel at newclarity.net>
wrote:
> On Jan 16, 2011, at 8:07 PM, Andrew Nacin wrote:
>> The simplest solution is to run an output buffer in staging that rewrites
>> any live links. Works extremely well and doesn't put any additional
burden
>> onto the production site. It also helps in a number of other areas
outside
>> the media library. You might want to conditionally filter the uploads
stuff
>> anyway the same way you're filtering home and siteurl.
>>
>> It could literally be as simple as this in wp-config.php:
>>
>> ob_start( 'mysite_staging_links' );
>> function mysite_staging_links( $content ) {
>> return str_replace( 'http://mysite.com/', 'http://staging.mysite.com',
>> $content );
>> }
>
> How does that address the URLs saved to the database by images uploaded
when in the staging environment?
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Mon Jan 17 05:58:17 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 17 Jan 2011 00:58:17 -0500
Subject: [wp-hackers] Wordpress in Multiple Environments
In-Reply-To: <AANLkTin4QZJC0qMaZ+=K95YwcGjCNS+8ogcvr_pqbzS-@mail.gmail.com>
References: <93E2EFE6-D949-41BF-B52A-13000C42318C@teamcolab.com>
	<AANLkTik-p7sd2V+YJ=jBWT_MgmMoK+=iAJcVS8CFRxNn@mail.gmail.com>
	<0986E78A-FF79-442D-B90F-03B40B4255F3@newclarity.net>
	<AANLkTin4QZJC0qMaZ+=K95YwcGjCNS+8ogcvr_pqbzS-@mail.gmail.com>
Message-ID: <B3CE4C8E-7C29-484D-BC5D-6810778DD91C@newclarity.net>

On Jan 17, 2011, at 12:40 AM, Ryan Bilesky wrote:
> My guess is the uploads get the domain from the siteurl setting, as long as
> that's set to the production site url then the uploads work fine, then when
> being outputted you use andrews code to rewite the links, being that
> directory structure should be the same that would work.

If that were the case then I'm pretty sure attempting to load the staging site would redirect to the live site. Output buffering would not affect that logic.

-Mike


From wordpress at dd32.id.au  Mon Jan 17 06:00:37 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Mon, 17 Jan 2011 01:00:37 -0500
Subject: [wp-hackers] Wordpress in Multiple Environments
In-Reply-To: <B3CE4C8E-7C29-484D-BC5D-6810778DD91C@newclarity.net>
References: <93E2EFE6-D949-41BF-B52A-13000C42318C@teamcolab.com>
	<AANLkTik-p7sd2V+YJ=jBWT_MgmMoK+=iAJcVS8CFRxNn@mail.gmail.com>
	<0986E78A-FF79-442D-B90F-03B40B4255F3@newclarity.net>
	<AANLkTin4QZJC0qMaZ+=K95YwcGjCNS+8ogcvr_pqbzS-@mail.gmail.com>
	<B3CE4C8E-7C29-484D-BC5D-6810778DD91C@newclarity.net>
Message-ID: <AANLkTimz=C_htH0xNZR6EnegGvpgCgYLD-Rf2tA8rbxr@mail.gmail.com>

Output buffering, Production siteurl, and a few filters on site_url and
friends is the "standard" way of achieving it from the better setups I've
seen recently. Unfortunately, I dont have any code handy or anyone to direct
you to right now for it, but i've seen it done very well a few times, As
long as you understand how WordPress outputs content, and stores it in the
database, everything works sweet.

On 17 January 2011 00:58, Mike Schinkel <mikeschinkel at newclarity.net> wrote:

> On Jan 17, 2011, at 12:40 AM, Ryan Bilesky wrote:
> > My guess is the uploads get the domain from the siteurl setting, as long
> as
> > that's set to the production site url then the uploads work fine, then
> when
> > being outputted you use andrews code to rewite the links, being that
> > directory structure should be the same that would work.
>
> If that were the case then I'm pretty sure attempting to load the staging
> site would redirect to the live site. Output buffering would not affect that
> logic.
>
> -Mike
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Mon Jan 17 06:16:43 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 17 Jan 2011 01:16:43 -0500
Subject: [wp-hackers] Wordpress in Multiple Environments
In-Reply-To: <AANLkTimz=C_htH0xNZR6EnegGvpgCgYLD-Rf2tA8rbxr@mail.gmail.com>
References: <93E2EFE6-D949-41BF-B52A-13000C42318C@teamcolab.com>
	<AANLkTik-p7sd2V+YJ=jBWT_MgmMoK+=iAJcVS8CFRxNn@mail.gmail.com>
	<0986E78A-FF79-442D-B90F-03B40B4255F3@newclarity.net>
	<AANLkTin4QZJC0qMaZ+=K95YwcGjCNS+8ogcvr_pqbzS-@mail.gmail.com>
	<B3CE4C8E-7C29-484D-BC5D-6810778DD91C@newclarity.net>
	<AANLkTimz=C_htH0xNZR6EnegGvpgCgYLD-Rf2tA8rbxr@mail.gmail.com>
Message-ID: <81D646BA-BA04-453D-B1E4-3C2D2248B0A0@newclarity.net>

On Jan 17, 2011, at 1:00 AM, Dion Hulse (dd32) wrote:
> Output buffering, Production siteurl, and a few filters on site_url and
> friends is the "standard" way of achieving it from the better setups I've
> seen recently. Unfortunately, I dont have any code handy or anyone to direct
> you to right now for it, but i've seen it done very well a few times, As
> long as you understand how WordPress outputs content, and stores it in the
> database, everything works sweet.

I'd be interested in seeing those solutions to see if I could learn something from it. Please let us know if you dig something up.

OTOH, this solution approaches from another direction and has been working extremely well for me:

http://wordpress.stackexchange.com/questions/119/#182

In addition it handles managing all webhost/domain-specific data such as file upload directories, Google Maps API keys, Google Analytics IDs, and anything else that's different depending on where it is deployed.  FWIW.

-Mike


From tareq1988 at gmail.com  Mon Jan 17 07:45:38 2011
From: tareq1988 at gmail.com (Tareq Hasan)
Date: Mon, 17 Jan 2011 13:45:38 +0600
Subject: [wp-hackers] Search in multiple categories
In-Reply-To: <AANLkTimaVXm217yhCiYODjU79kNMWQQ_S4mb_AEiV-4v@mail.gmail.com>
References: <AANLkTim4BaJfc6yRpXyZiW+2L6fB-jvt60TZ=PBGhSQ2@mail.gmail.com>
	<AANLkTimaVXm217yhCiYODjU79kNMWQQ_S4mb_AEiV-4v@mail.gmail.com>
Message-ID: <AANLkTinD5jYy50yQaVQVuhFJju1e4HJvOp5kUY69NCvb@mail.gmail.com>

Thanks Tom for answering. But you are *MISSING* my point, I know how to
search in a single category, but I have to search in multiple categories and
may be in *FOUR* categories.

Suppose I need to search for "SMTP", and I have categories like "Drupal",
"Wordpress", "Joomla", "Expression Engine" and etc. So I want to search in
"Drupal", "Wordpress" and "Joomla" categories. How to do that?

--------------------------------------------
Best regards
Tareq Hasan
Blog <http://tareq.wedevs.com> | Twitter
<http://twitter.com/tareq_cse> | ???????
- ??????? ??????????, ????-??????, ????? <http://linux.org.bd/>





On Mon, Jan 17, 2011 at 4:15 AM, Tom Jenkins <tom at thejenkinsweb.com> wrote:

> You just need to have your category dropdown within the search form itself.
>
> <form method="get" id="searchform" action="<?php bloginfo('url');?>/" >
> <label for="s">Search</label>
>
> <input type="text" value="<?php echo
> attribute_escape(apply_filters('the_search_query', get_search_query())) ?>"
> name="s" id="s" />
>
> <label for="">Topic</label>
>
> <?php
>
> wp_dropdown_categories('depth=0&orderby=name&hide_empty=1&show_option_all=Search
> Everything'); ?>
>
> <input type="submit" id="searchsubmit" value="Search" />
>
> </form>
>
>
> Tom
>
> ==============================
> Tom Jenkins
> Development Director for Adcuda <http://adcuda.com>
> Web: http://techguytom.com
> twitter: http://twitter.com/techguytom
>
>
>
> On Sun, Jan 16, 2011 at 7:23 AM, Tareq Hasan <tareq1988 at gmail.com> wrote:
>
> > Hello all,
> > I need some help in a search functionality. Suppose I have a widget with
> > search box and there is four category dropdown. I want to search for the
> > query only in selected 4 categories. So what will be the procedure? and
> how
> > to give the names of category fields?
> >
> > I tried with the two query form (showing with 2 cat):
> > (1) ?s=wifi&sa=search&cat[]=61&cat[]=62
> > (2) ?s=wifi&sa=search&cat=61,62
> > Both didn't work what I wanted.
> >
> > Please help me.
> > --------------------------------------------
> > Best regards
> > Tareq Hasan
> > Blog <http://tareq.wedevs.com> | Twitter
> > <http://twitter.com/tareq_cse> | ???????
> > - ??????? ??????????, ????-??????, ????? <http://linux.org.bd/>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From burobjorn at gmail.com  Mon Jan 17 17:20:24 2011
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Mon, 17 Jan 2011 18:20:24 +0100
Subject: [wp-hackers] Wordpress in Multiple Environments
In-Reply-To: <AANLkTimz=C_htH0xNZR6EnegGvpgCgYLD-Rf2tA8rbxr@mail.gmail.com>
References: <93E2EFE6-D949-41BF-B52A-13000C42318C@teamcolab.com>	<AANLkTik-p7sd2V+YJ=jBWT_MgmMoK+=iAJcVS8CFRxNn@mail.gmail.com>	<0986E78A-FF79-442D-B90F-03B40B4255F3@newclarity.net>	<AANLkTin4QZJC0qMaZ+=K95YwcGjCNS+8ogcvr_pqbzS-@mail.gmail.com>	<B3CE4C8E-7C29-484D-BC5D-6810778DD91C@newclarity.net>
	<AANLkTimz=C_htH0xNZR6EnegGvpgCgYLD-Rf2tA8rbxr@mail.gmail.com>
Message-ID: <4D347A58.1050708@gmail.com>

Why does WordPress stil save full urls in it's database? Without that we 
would not need any of the 'solutions' discussed and could just change 
the wp-config to whatever it needs to be and build urls from that.

I know, I'm flogging a dead horse, but he when an issue comes up every X 
days we might have an issue to solve...

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Werkdagen:
Van maandag t/m donderdag vanaf 10:00
Vrijdag is voor experimenteren en eigen projecten.

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

tel: +31 6 49 74 78 70
http://www.burobjorn.nl

On 01/17/2011 07:00 AM, Dion Hulse (dd32) wrote:
> Output buffering, Production siteurl, and a few filters on site_url and
> friends is the "standard" way of achieving it from the better setups I've
> seen recently. Unfortunately, I dont have any code handy or anyone to direct
> you to right now for it, but i've seen it done very well a few times, As
> long as you understand how WordPress outputs content, and stores it in the
> database, everything works sweet.
>
> On 17 January 2011 00:58, Mike Schinkel<mikeschinkel at newclarity.net>  wrote:
>
>> On Jan 17, 2011, at 12:40 AM, Ryan Bilesky wrote:
>>> My guess is the uploads get the domain from the siteurl setting, as long
>> as
>>> that's set to the production site url then the uploads work fine, then
>> when
>>> being outputted you use andrews code to rewite the links, being that
>>> directory structure should be the same that would work.
>>
>> If that were the case then I'm pretty sure attempting to load the staging
>> site would redirect to the live site. Output buffering would not affect that
>> logic.
>>
>> -Mike
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dvmorris at gmail.com  Mon Jan 17 17:37:02 2011
From: dvmorris at gmail.com (dave morris)
Date: Mon, 17 Jan 2011 09:37:02 -0800 (PST)
Subject: [wp-hackers] MySQL Replication Latency Issues in wp-admin pages
Message-ID: <d2e37c50-3929-400d-a913-e56e1da0b5f5@o11g2000prf.googlegroups.com>

I have an environment running WP 3.0.1 with a Master db and two
slaves. I am using HyperDB to force all writes to go to the Master,
and all reads to read from the two slaves.

I am experiencing a variety of issues in wp-admin pages where data is
being written to the master, and WordPress attempts to read from a
slave, and the data has not reached the slave yet. An example of this
is when I hook 'dbx_post_advanced' to preset some category and custom
taxonomy terms on new posts. I have verified that when I configure
HyperDB to read and write from the Master alone, the
'dbx_post_advanced' hook works fine.

I'm looking into the following options:

* Dedicate only one web server to all wp-admin (aka back office)
traffic
** Configure that server to read and write to/from the Master db only
** Configure the load balancer to route all /wp-admin url's to that
web server

* Configure HyperDB to read/write against the Master only for wp-admin
pages

* Setup MySQL Semisynchronous Replication
** http://dev.mysql.com/doc/refman/5.5/en/replication-semisync.html
** This solution will most likely not work, however, because
semisynchronous replication will only wait until ONE slave has
completed its writes, not both slaves in my case

Let me know if you have any advice for this issue.

Thanks,
Dave

From wordpress at dd32.id.au  Mon Jan 17 19:55:22 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Mon, 17 Jan 2011 14:55:22 -0500
Subject: [wp-hackers] MySQL Replication Latency Issues in wp-admin pages
In-Reply-To: <d2e37c50-3929-400d-a913-e56e1da0b5f5@o11g2000prf.googlegroups.com>
References: <d2e37c50-3929-400d-a913-e56e1da0b5f5@o11g2000prf.googlegroups.com>
Message-ID: <AANLkTikTzhqyGMnK3zAoqXL_tAcMpDsojEZ_vC4nYJqZ@mail.gmail.com>

Another solution (Which I'm not sure how to achieve) would be to switch All
reads/writes to the master upon is_admin() & SQL is Update/insert, That way
you retain as many reads to the slaves as possible, but once the wp-admin
decides to make a write, all future reads come from the only source that is
guarantee'd to be uptodate.

On 17 January 2011 12:37, dave morris <dvmorris at gmail.com> wrote:

> I have an environment running WP 3.0.1 with a Master db and two
> slaves. I am using HyperDB to force all writes to go to the Master,
> and all reads to read from the two slaves.
>
> I am experiencing a variety of issues in wp-admin pages where data is
> being written to the master, and WordPress attempts to read from a
> slave, and the data has not reached the slave yet. An example of this
> is when I hook 'dbx_post_advanced' to preset some category and custom
> taxonomy terms on new posts. I have verified that when I configure
> HyperDB to read and write from the Master alone, the
> 'dbx_post_advanced' hook works fine.
>
> I'm looking into the following options:
>
> * Dedicate only one web server to all wp-admin (aka back office)
> traffic
> ** Configure that server to read and write to/from the Master db only
> ** Configure the load balancer to route all /wp-admin url's to that
> web server
>
> * Configure HyperDB to read/write against the Master only for wp-admin
> pages
>
> * Setup MySQL Semisynchronous Replication
> ** http://dev.mysql.com/doc/refman/5.5/en/replication-semisync.html
> ** This solution will most likely not work, however, because
> semisynchronous replication will only wait until ONE slave has
> completed its writes, not both slaves in my case
>
> Let me know if you have any advice for this issue.
>
> Thanks,
> Dave
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dvmorris at gmail.com  Mon Jan 17 21:53:51 2011
From: dvmorris at gmail.com (dave morris)
Date: Mon, 17 Jan 2011 13:53:51 -0800 (PST)
Subject: [wp-hackers] MySQL Replication Latency Issues in wp-admin pages
In-Reply-To: <AANLkTikTzhqyGMnK3zAoqXL_tAcMpDsojEZ_vC4nYJqZ@mail.gmail.com>
References: <d2e37c50-3929-400d-a913-e56e1da0b5f5@o11g2000prf.googlegroups.com>
	<AANLkTikTzhqyGMnK3zAoqXL_tAcMpDsojEZ_vC4nYJqZ@mail.gmail.com>
Message-ID: <8b433071-e587-425c-bfb4-6263788fb6c6@f35g2000vbl.googlegroups.com>

I just noticed that the latest version of HyperDB contains a new
function called send_reads_to_master(), which should solve my problem
technically.

Dion, It seems that I could just add a conditional check to db-
config.php that would set send_reads_to_master(), or $srtm, to true,
is is_admin() is true.

Would that work?

Dave

On Jan 17, 1:55?pm, "Dion Hulse (dd32)" <wordpr... at dd32.id.au> wrote:
> Another solution (Which I'm not sure how to achieve) would be to switch All
> reads/writes to the master upon is_admin() & SQL is Update/insert, That way
> you retain as many reads to the slaves as possible, but once the wp-admin
> decides to make a write, all future reads come from the only source that is
> guarantee'd to be uptodate.
>
> On 17 January 2011 12:37, dave morris <dvmor... at gmail.com> wrote:
>
>
>
>
>
>
>
>
>
> > I have an environment running WP 3.0.1 with a Master db and two
> > slaves. I am using HyperDB to force all writes to go to the Master,
> > and all reads to read from the two slaves.
>
> > I am experiencing a variety of issues in wp-admin pages where data is
> > being written to the master, and WordPress attempts to read from a
> > slave, and the data has not reached the slave yet. An example of this
> > is when I hook 'dbx_post_advanced' to preset some category and custom
> > taxonomy terms on new posts. I have verified that when I configure
> > HyperDB to read and write from the Master alone, the
> > 'dbx_post_advanced' hook works fine.
>
> > I'm looking into the following options:
>
> > * Dedicate only one web server to all wp-admin (aka back office)
> > traffic
> > ** Configure that server to read and write to/from the Master db only
> > ** Configure the load balancer to route all /wp-admin url's to that
> > web server
>
> > * Configure HyperDB to read/write against the Master only for wp-admin
> > pages
>
> > * Setup MySQL Semisynchronous Replication
> > **http://dev.mysql.com/doc/refman/5.5/en/replication-semisync.html
> > ** This solution will most likely not work, however, because
> > semisynchronous replication will only wait until ONE slave has
> > completed its writes, not both slaves in my case
>
> > Let me know if you have any advice for this issue.
>
> > Thanks,
> > Dave
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hack... at lists.automattic.com
> >http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers

From notfornoone at gmail.com  Mon Jan 17 21:57:24 2011
From: notfornoone at gmail.com (ampt)
Date: Tue, 18 Jan 2011 08:57:24 +1100
Subject: [wp-hackers]  wordpress unit tests
Message-ID: <AANLkTikhOiunYoxtYsvh2rjKt6J=YvXpxNLaefT7o6Uw@mail.gmail.com>

I am looking into the WordPress unit tests and I have the tests setup
and running, and have a few questions, but the main one right now is:

Where do I start, or what is best thing I can do to begin helping out
with the unit tests?

From wordpress at dd32.id.au  Mon Jan 17 22:03:40 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Mon, 17 Jan 2011 17:03:40 -0500
Subject: [wp-hackers] MySQL Replication Latency Issues in wp-admin pages
In-Reply-To: <8b433071-e587-425c-bfb4-6263788fb6c6@f35g2000vbl.googlegroups.com>
References: <d2e37c50-3929-400d-a913-e56e1da0b5f5@o11g2000prf.googlegroups.com>
	<AANLkTikTzhqyGMnK3zAoqXL_tAcMpDsojEZ_vC4nYJqZ@mail.gmail.com>
	<8b433071-e587-425c-bfb4-6263788fb6c6@f35g2000vbl.googlegroups.com>
Message-ID: <AANLkTin+5SSLhAdAgUpoqWWoUeyXKYfQ7F7HXggQSbCP@mail.gmail.com>

I've never used HyperDB myself, however, If you're running an older version,
You'll certainly want to update to the latest release of it.

I just looked through the source code, and it looks as if, If a write is
made to the database, it records that table name, and any further reads to
-that table- get directed to the master instead of a slave.
So if you make a write to wp_options, future reads for wp_options goto the
master, whilst reads for wp_posts go to the slaves.

Thats based on this section from the config file:
* HyperDB accommodates slave replication lag somewhat by keeping track of
the
* tables that it has written since instantiation and sending subsequent read
* queries to the same server that received the write query. Thus a master
set
 * up this way will still receive read queries, but only subsequent to
writes.

and the part of the main db class mentioned as
// Determine whether the query must be sent to the master (a writable
server)





On 17 January 2011 16:53, dave morris <dvmorris at gmail.com> wrote:

> I just noticed that the latest version of HyperDB contains a new
> function called send_reads_to_master(), which should solve my problem
> technically.
>
> Dion, It seems that I could just add a conditional check to db-
> config.php that would set send_reads_to_master(), or $srtm, to true,
> is is_admin() is true.
>
> Would that work?
>
> Dave
>
> On Jan 17, 1:55 pm, "Dion Hulse (dd32)" <wordpr... at dd32.id.au> wrote:
> > Another solution (Which I'm not sure how to achieve) would be to switch
> All
> > reads/writes to the master upon is_admin() & SQL is Update/insert, That
> way
> > you retain as many reads to the slaves as possible, but once the wp-admin
> > decides to make a write, all future reads come from the only source that
> is
> > guarantee'd to be uptodate.
> >
> > On 17 January 2011 12:37, dave morris <dvmor... at gmail.com> wrote:
> >
> >
> >
> >
> >
> >
> >
> >
> >
> > > I have an environment running WP 3.0.1 with a Master db and two
> > > slaves. I am using HyperDB to force all writes to go to the Master,
> > > and all reads to read from the two slaves.
> >
> > > I am experiencing a variety of issues in wp-admin pages where data is
> > > being written to the master, and WordPress attempts to read from a
> > > slave, and the data has not reached the slave yet. An example of this
> > > is when I hook 'dbx_post_advanced' to preset some category and custom
> > > taxonomy terms on new posts. I have verified that when I configure
> > > HyperDB to read and write from the Master alone, the
> > > 'dbx_post_advanced' hook works fine.
> >
> > > I'm looking into the following options:
> >
> > > * Dedicate only one web server to all wp-admin (aka back office)
> > > traffic
> > > ** Configure that server to read and write to/from the Master db only
> > > ** Configure the load balancer to route all /wp-admin url's to that
> > > web server
> >
> > > * Configure HyperDB to read/write against the Master only for wp-admin
> > > pages
> >
> > > * Setup MySQL Semisynchronous Replication
> > > **http://dev.mysql.com/doc/refman/5.5/en/replication-semisync.html
> > > ** This solution will most likely not work, however, because
> > > semisynchronous replication will only wait until ONE slave has
> > > completed its writes, not both slaves in my case
> >
> > > Let me know if you have any advice for this issue.
> >
> > > Thanks,
> > > Dave
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hack... at lists.automattic.com
> > >http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hack... at lists.automattic.comhttp://
> lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jon at lionsgoroar.co.uk  Mon Jan 17 22:24:02 2011
From: jon at lionsgoroar.co.uk (Jon Cave)
Date: Mon, 17 Jan 2011 22:24:02 +0000
Subject: [wp-hackers] wordpress unit tests
In-Reply-To: <AANLkTikhOiunYoxtYsvh2rjKt6J=YvXpxNLaefT7o6Uw@mail.gmail.com>
References: <AANLkTikhOiunYoxtYsvh2rjKt6J=YvXpxNLaefT7o6Uw@mail.gmail.com>
Message-ID: <AANLkTi=ZdXVYLdmkte_pWQ2KsQMjegwL1=nYZr9CwRfP@mail.gmail.com>

On Mon, Jan 17, 2011 at 9:57 PM, ampt <notfornoone at gmail.com> wrote:
> I am looking into the WordPress unit tests and I have the tests setup
> and running, and have a few questions, but the main one right now is:
>
> Where do I start, or what is best thing I can do to begin helping out
> with the unit tests?

My suggestion is to start running tests and fixing any errors/failures
-- either fixing the broken test code or noting if it's an actual bug
in WordPress. Create a ticket for each test you patch at
http://unit-tests.trac.wordpress.org/ *with* the patch. You may also
want to get in contact with Peter Westwood (westi), though I'm sure
he'll chime in on this thread soon.

(I am [slowly] working on importer tests, hope to have something to
show very soon, so no need to work on those just yet)

- Jon

From cappuccino.e.cornetto at gmail.com  Mon Jan 17 22:29:10 2011
From: cappuccino.e.cornetto at gmail.com (Andrea Ercolino)
Date: Mon, 17 Jan 2011 23:29:10 +0100
Subject: [wp-hackers] wordpress unit tests
In-Reply-To: <AANLkTikhOiunYoxtYsvh2rjKt6J=YvXpxNLaefT7o6Uw@mail.gmail.com>
References: <AANLkTikhOiunYoxtYsvh2rjKt6J=YvXpxNLaefT7o6Uw@mail.gmail.com>
Message-ID: <AANLkTik1KzBs015Boc3aVAwgTXM5=BKEBzao_POufYuc@mail.gmail.com>

I also installed wp tests today and found out there are many failures and
errors. Is it normal? I was surprised, but maybe it's how it is now.

Is there some means of knowing what is the current expected outcome of the
tests?

El 17/01/2011 22:57, "ampt" <notfornoone at gmail.com> escribi?:

I am looking into the WordPress unit tests and I have the tests setup
and running, and have a few questions, but the main one right now is:

Where do I start, or what is best thing I can do to begin helping out
with the unit tests?
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From jon at lionsgoroar.co.uk  Mon Jan 17 22:44:52 2011
From: jon at lionsgoroar.co.uk (Jon Cave)
Date: Mon, 17 Jan 2011 22:44:52 +0000
Subject: [wp-hackers] wordpress unit tests
In-Reply-To: <AANLkTik1KzBs015Boc3aVAwgTXM5=BKEBzao_POufYuc@mail.gmail.com>
References: <AANLkTikhOiunYoxtYsvh2rjKt6J=YvXpxNLaefT7o6Uw@mail.gmail.com>
	<AANLkTik1KzBs015Boc3aVAwgTXM5=BKEBzao_POufYuc@mail.gmail.com>
Message-ID: <AANLkTimuC4B4BDXgM7BW8buchXZSX5jF8wO7G77w1DnY@mail.gmail.com>

On Mon, Jan 17, 2011 at 10:29 PM, Andrea Ercolino
<cappuccino.e.cornetto at gmail.com> wrote:
> I also installed wp tests today and found out there are many failures and
> errors. Is it normal? I was surprised, but maybe it's how it is now.

Unfortunately, yes. I believe there are plans to put some focus onto
the tests throughout 2011 (and beyond) to resolve this.

> Is there some means of knowing what is the current expected outcome of the
> tests?

Here are my figures when I run against the trunk external included
with the tests:

Tests: 512, Assertions: 3147, Failures: 136, Errors: 37, Skipped: 19.

From notfornoone at gmail.com  Mon Jan 17 22:49:25 2011
From: notfornoone at gmail.com (ampt)
Date: Tue, 18 Jan 2011 09:49:25 +1100
Subject: [wp-hackers] wordpress unit tests
In-Reply-To: <AANLkTi=ZdXVYLdmkte_pWQ2KsQMjegwL1=nYZr9CwRfP@mail.gmail.com>
References: <AANLkTikhOiunYoxtYsvh2rjKt6J=YvXpxNLaefT7o6Uw@mail.gmail.com>
	<AANLkTi=ZdXVYLdmkte_pWQ2KsQMjegwL1=nYZr9CwRfP@mail.gmail.com>
Message-ID: <AANLkTikFuFzA3wjhSJYWifnyoQmWS_j8Y4VYGfMc_0yc@mail.gmail.com>

> My suggestion is to start running tests and fixing any errors/failures
> -- either fixing the broken test code or noting if it's an actual bug
> in WordPress. Create a ticket for each test you patch at
> http://unit-tests.trac.wordpress.org/ *with* the patch. You may also
> want to get in contact with Peter Westwood (westi), though I'm sure
> he'll chime in on this thread soon.

Thanks Jon, sounds like a good place to start.

From wordpress at dd32.id.au  Mon Jan 17 22:57:27 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Mon, 17 Jan 2011 17:57:27 -0500
Subject: [wp-hackers] wordpress unit tests
In-Reply-To: <AANLkTikFuFzA3wjhSJYWifnyoQmWS_j8Y4VYGfMc_0yc@mail.gmail.com>
References: <AANLkTikhOiunYoxtYsvh2rjKt6J=YvXpxNLaefT7o6Uw@mail.gmail.com>
	<AANLkTi=ZdXVYLdmkte_pWQ2KsQMjegwL1=nYZr9CwRfP@mail.gmail.com>
	<AANLkTikFuFzA3wjhSJYWifnyoQmWS_j8Y4VYGfMc_0yc@mail.gmail.com>
Message-ID: <AANLkTimqWPUaL8HvZZoSOOLNSVJRWuJ8O6f2MmnURH14@mail.gmail.com>

Another way you can help, Is to go through the Formatting component on
WordPress trac (among others..) looking for bugs, and writing test cases for
them, specifically finding things that appear broken in Core so the tests
reflect that (Then we'll also have a way of testing subsequent patches)

We'd really like to get more unit tests for core that highlights when a
changeset breaks something else, or a changeset fixes 3 out of 4 edge cases,
etc. right now, most testing is done ad-hoc and hoping the tester covers
every angle.

On 17 January 2011 17:49, ampt <notfornoone at gmail.com> wrote:

> > My suggestion is to start running tests and fixing any errors/failures
> > -- either fixing the broken test code or noting if it's an actual bug
> > in WordPress. Create a ticket for each test you patch at
> > http://unit-tests.trac.wordpress.org/ *with* the patch. You may also
> > want to get in contact with Peter Westwood (westi), though I'm sure
> > he'll chime in on this thread soon.
>
> Thanks Jon, sounds like a good place to start.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From hempsworth at gmail.com  Tue Jan 18 01:30:51 2011
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Tue, 18 Jan 2011 01:30:51 +0000
Subject: [wp-hackers] XML-based display and spoofing multisite
In-Reply-To: <AANLkTin-5ShZNEUno4Hhf5cgk-uMVSDqBiGJzrvcVR3H@mail.gmail.com>
References: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
	<AANLkTin-5ShZNEUno4Hhf5cgk-uMVSDqBiGJzrvcVR3H@mail.gmail.com>
Message-ID: <AANLkTinff3CQUUr1azY7T7--P8QOb_xErNLZznBFAfO=@mail.gmail.com>

How would you go about that? I'm running multisite at the moment, so when
you visit m.example.com it comes up with the "wp-signup.php?new=m" page.

I can't find any tips online about how to achieve this...

Kind regards,
Alex Hempton-Smith

www.alexhemptonsmith.com
www.twitter.com/hempsworth



On Sat, Jan 15, 2011 at 10:37 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> I would just write a plugin to allow m.example.com to work off the same
> install as example.com. You'd have to ensure a different theme is served,
> that links are changed over, and that the cache would be kept differently.
>

From notfornoone at gmail.com  Tue Jan 18 02:06:40 2011
From: notfornoone at gmail.com (ampt)
Date: Tue, 18 Jan 2011 13:06:40 +1100
Subject: [wp-hackers] wordpress unit tests
In-Reply-To: <AANLkTimqWPUaL8HvZZoSOOLNSVJRWuJ8O6f2MmnURH14@mail.gmail.com>
References: <AANLkTikhOiunYoxtYsvh2rjKt6J=YvXpxNLaefT7o6Uw@mail.gmail.com>
	<AANLkTi=ZdXVYLdmkte_pWQ2KsQMjegwL1=nYZr9CwRfP@mail.gmail.com>
	<AANLkTikFuFzA3wjhSJYWifnyoQmWS_j8Y4VYGfMc_0yc@mail.gmail.com>
	<AANLkTimqWPUaL8HvZZoSOOLNSVJRWuJ8O6f2MmnURH14@mail.gmail.com>
Message-ID: <AANLkTikzXFNTzpm3A=gL8iNDa6CTqEmoKJA31azzQKSo@mail.gmail.com>

On 18 January 2011 09:57, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:
> Another way you can help, Is to go through the Formatting component on
> WordPress trac (among others..) looking for bugs, and writing test cases for
> them, specifically finding things that appear broken in Core so the tests
> reflect that (Then we'll also have a way of testing subsequent patches)
>
> We'd really like to get more unit tests for core that highlights when a
> changeset breaks something else, or a changeset fixes 3 out of 4 edge cases,
> etc. right now, most testing is done ad-hoc and hoping the tester covers
> every angle.

Thanks Dion, I will look into that too.

From rbilesky at gmail.com  Tue Jan 18 05:37:37 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Mon, 17 Jan 2011 21:37:37 -0800
Subject: [wp-hackers] XML-based display and spoofing multisite
In-Reply-To: <AANLkTinff3CQUUr1azY7T7--P8QOb_xErNLZznBFAfO=@mail.gmail.com>
References: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
	<AANLkTin-5ShZNEUno4Hhf5cgk-uMVSDqBiGJzrvcVR3H@mail.gmail.com>
	<AANLkTinff3CQUUr1azY7T7--P8QOb_xErNLZznBFAfO=@mail.gmail.com>
Message-ID: <AANLkTimmz91FCwheOzxHn004160+iYVe++q68OR38=D+@mail.gmail.com>

I setup a site at m. and

On Jan 17, 2011 5:31 PM, "Alex Hempton-Smith" <hempsworth at gmail.com> wrote:
> How would you go about that? I'm running multisite at the moment, so when
> you visit m.example.com it comes up with the "wp-signup.php?new=m" page.
>
> I can't find any tips online about how to achieve this...
>
> Kind regards,
> Alex Hempton-Smith
>
> www.alexhemptonsmith.com
> www.twitter.com/hempsworth
>
>
>
> On Sat, Jan 15, 2011 at 10:37 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
>
>> I would just write a plugin to allow m.example.com to work off the same
>> install as example.com. You'd have to ensure a different theme is served,
>> that links are changed over, and that the cache would be kept
differently.
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From rbilesky at gmail.com  Tue Jan 18 05:39:26 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Mon, 17 Jan 2011 21:39:26 -0800
Subject: [wp-hackers] XML-based display and spoofing multisite
In-Reply-To: <AANLkTimmz91FCwheOzxHn004160+iYVe++q68OR38=D+@mail.gmail.com>
References: <079698E3-3828-4DD9-B354-CC2D0D277160@gmail.com>
	<AANLkTin-5ShZNEUno4Hhf5cgk-uMVSDqBiGJzrvcVR3H@mail.gmail.com>
	<AANLkTinff3CQUUr1azY7T7--P8QOb_xErNLZznBFAfO=@mail.gmail.com>
	<AANLkTimmz91FCwheOzxHn004160+iYVe++q68OR38=D+@mail.gmail.com>
Message-ID: <AANLkTi=9VRKpo7jPoUXfSpHoSfr=PCLOLuwd_4qGxVag@mail.gmail.com>

Sorry didn't mean to send yet.  Then I filter some queries to pull mainsite
content.

On Jan 17, 2011 9:37 PM, "Ryan Bilesky" <rbilesky at gmail.com> wrote:
> I setup a site at m. and
>
> On Jan 17, 2011 5:31 PM, "Alex Hempton-Smith" <hempsworth at gmail.com>
wrote:
>> How would you go about that? I'm running multisite at the moment, so when
>> you visit m.example.com it comes up with the "wp-signup.php?new=m" page.
>>
>> I can't find any tips online about how to achieve this...
>>
>> Kind regards,
>> Alex Hempton-Smith
>>
>> www.alexhemptonsmith.com
>> www.twitter.com/hempsworth
>>
>>
>>
>> On Sat, Jan 15, 2011 at 10:37 PM, Andrew Nacin <wp at andrewnacin.com>
wrote:
>>
>>> I would just write a plugin to allow m.example.com to work off the same
>>> install as example.com. You'd have to ensure a different theme is
served,
>>> that links are changed over, and that the cache would be kept
> differently.
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers

From burobjorn at gmail.com  Tue Jan 18 09:51:00 2011
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Tue, 18 Jan 2011 10:51:00 +0100
Subject: [wp-hackers] translate.wordpress.org for plugins?
In-Reply-To: <AANLkTi=b2WDTE3G1DHP4=7r3jr+xwVusX0yFb5oRYBk2@mail.gmail.com>
References: <AANLkTik3QbvdpukZ9npoLfFhdH4TmsQ3m3t2x5b40Uvi@mail.gmail.com>	<AANLkTi=nX79EmJuyRBX5BeHLvSwaXnhKJAGU1nxtxvfE@mail.gmail.com>	<AANLkTik6tJGy6gECrFsRV2h11XVKgtxuXHZ7G21Aw99q@mail.gmail.com>
	<AANLkTi=b2WDTE3G1DHP4=7r3jr+xwVusX0yFb5oRYBk2@mail.gmail.com>
Message-ID: <4D356284.4040105@gmail.com>

Note to self and perhaps other developers dealing with new versions and 
translations. You may look into msgmerge (msgmerge is part of the GNU 
gettext package) for dealing with new translations while using the old 
translations as well. E.g.

msgmerge last-translation.po new-messages-list.pot > new-translation.po

source: http://www.mail-archive.com/automake at gnu.org/msg16397.html

See for more on msgmerge:

http://www.gnu.org/software/hello/manual/gettext/msgmerge-Invocation.html

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Werkdagen:
Van maandag t/m donderdag vanaf 10:00
Vrijdag is voor experimenteren en eigen projecten.

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

tel: +31 6 49 74 78 70
http://www.burobjorn.nl

On 12/10/2010 01:46 PM, Milan Dini? wrote:
> See my post on this issue:
> https://wppolyglots.wordpress.com/2010/12/10/proposal-for-plugins-localization-system/
>
> If you are interested, join the discussion.
>
> 2010/11/29 Jos? Fontainhas<jfontainhas at gmail.com>
>
>> Remember that you can always download and install your very own GlotPress:
>>
>> http://trac.glotpress.org/
>>
>> On 29 November 2010 05:30, Andrew Nacin<wp at andrewnacin.com>  wrote:
>>> On Sun, Nov 28, 2010 at 5:52 PM, Alex Hempton-Smith<
>> hempsworth at gmail.com>wrote:
>>>
>>>> There are some plugins at [
>>>> http://translate.wordpress.org/projects/wp-plugins], all from the
>>>> WordPress
>>>> team it looks like.
>>>>
>>>> Is there a timeline for when plugins hosted at wordpress.org can opt-in
>> to
>>>> be included at translate.wordpress.org? I'd really like an easy
>> solution
>>>> like this for people to translate my plugin [
>>>> http://wordpress.org/extend/plugins/buddypress-like/]
>>>
>>>
>>> There's no timeline, but this is something on the roadmap long-term.
>>>
>>> The only plugins on there currently are the importers, which until 3.0
>> were
>>> in core. They're still maintained by the core team.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From dvmorris at gmail.com  Tue Jan 18 15:35:28 2011
From: dvmorris at gmail.com (dave morris)
Date: Tue, 18 Jan 2011 07:35:28 -0800 (PST)
Subject: [wp-hackers] MySQL Replication Latency Issues in wp-admin pages
In-Reply-To: <AANLkTin+5SSLhAdAgUpoqWWoUeyXKYfQ7F7HXggQSbCP@mail.gmail.com>
References: <d2e37c50-3929-400d-a913-e56e1da0b5f5@o11g2000prf.googlegroups.com>
	<AANLkTikTzhqyGMnK3zAoqXL_tAcMpDsojEZ_vC4nYJqZ@mail.gmail.com>
	<8b433071-e587-425c-bfb4-6263788fb6c6@f35g2000vbl.googlegroups.com>
	<AANLkTin+5SSLhAdAgUpoqWWoUeyXKYfQ7F7HXggQSbCP@mail.gmail.com>
Message-ID: <34d82777-dd81-476f-b6a6-f87e8f0e6b11@y31g2000vbt.googlegroups.com>

It looks like the current version of my db-config.php file has a
comment in it related to the feature you describe that sends reads to
the master automatically based on which tables have been written to.

However, I don't see that code in my current version of db.php, so
there may be a discrepancy there. I'm going to update db.php and see
if that fixes it. If not, then I'll try the is_admin() re-
configuration mechanism to fix the issue.

Thanks for your help,
Dave

From dvmorris at gmail.com  Tue Jan 18 16:15:51 2011
From: dvmorris at gmail.com (dave morris)
Date: Tue, 18 Jan 2011 08:15:51 -0800 (PST)
Subject: [wp-hackers] MySQL Replication Latency Issues in wp-admin pages
In-Reply-To: <34d82777-dd81-476f-b6a6-f87e8f0e6b11@y31g2000vbt.googlegroups.com>
References: <d2e37c50-3929-400d-a913-e56e1da0b5f5@o11g2000prf.googlegroups.com>
	<AANLkTikTzhqyGMnK3zAoqXL_tAcMpDsojEZ_vC4nYJqZ@mail.gmail.com>
	<8b433071-e587-425c-bfb4-6263788fb6c6@f35g2000vbl.googlegroups.com>
	<AANLkTin+5SSLhAdAgUpoqWWoUeyXKYfQ7F7HXggQSbCP@mail.gmail.com>
	<34d82777-dd81-476f-b6a6-f87e8f0e6b11@y31g2000vbt.googlegroups.com>
Message-ID: <da41c396-be42-4c86-9018-995cfa5019cd@e16g2000pri.googlegroups.com>

Looks like updating db.php did the trick. I didn't need anything
special in db-config.php. Thanks so much for your help. This was a
pretty huge bug for our bloggers.

Thanks,
Dave

From piemanek at gmail.com  Tue Jan 18 20:56:29 2011
From: piemanek at gmail.com (Simon Blackbourn)
Date: Tue, 18 Jan 2011 20:56:29 +0000
Subject: [wp-hackers] Changing TinyMCE blank line behaviour in 3.1
Message-ID: <AANLkTinesL474RX_6bCB1WYoubptpkX9NWki_ZCJ06vj@mail.gmail.com>

I see that the TinyMCE editor in 3.1rc2 now replaces blank lines with &nbsp;
when text is pasted in. In previous versions blank lines were stripped out.

Is there a way I can revert back to the previous behaviour?

I'm setting various other defaults by hooking into the tiny_mce_before_init
filter and setting the init array elements, but I can't find any
documentation of a setting for handling blank lines.

Thanks
Simon

From wpcustomizer at gmail.com  Tue Jan 18 21:56:01 2011
From: wpcustomizer at gmail.com (WP Customizer)
Date: Tue, 18 Jan 2011 13:56:01 -0800
Subject: [wp-hackers] Validate String
Message-ID: <AANLkTim87zq+Kby=vK6vN7i9EbE11K=yU2vejisbeHWe@mail.gmail.com>

I am wondering what is the correct method to validate a string before saving
it as a plugin option, its just a random string i want the user to input, a
username for a third party service I am going to connect to.

From aaron at jorb.in  Tue Jan 18 22:09:36 2011
From: aaron at jorb.in (Aaron Jorbin)
Date: Tue, 18 Jan 2011 17:09:36 -0500
Subject: [wp-hackers] Validate String
In-Reply-To: <AANLkTim87zq+Kby=vK6vN7i9EbE11K=yU2vejisbeHWe@mail.gmail.com>
References: <AANLkTim87zq+Kby=vK6vN7i9EbE11K=yU2vejisbeHWe@mail.gmail.com>
Message-ID: <AANLkTimragCP9dxAXwoY0zD0zbUYh6div34BdXUXqd8y@mail.gmail.com>

http://codex.wordpress.org/Data_Validation

One additional function is sanitize_text_field

http://aaron.jorb.in
twitter: twitter.com/aaronjorbin


On Tue, Jan 18, 2011 at 4:56 PM, WP Customizer <wpcustomizer at gmail.com>wrote:

> I am wondering what is the correct method to validate a string before
> saving
> it as a plugin option, its just a random string i want the user to input, a
> username for a third party service I am going to connect to.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wpcustomizer at gmail.com  Tue Jan 18 23:49:31 2011
From: wpcustomizer at gmail.com (WP Customizer)
Date: Tue, 18 Jan 2011 15:49:31 -0800
Subject: [wp-hackers] Validate String
In-Reply-To: <AANLkTimragCP9dxAXwoY0zD0zbUYh6div34BdXUXqd8y@mail.gmail.com>
References: <AANLkTim87zq+Kby=vK6vN7i9EbE11K=yU2vejisbeHWe@mail.gmail.com>
	<AANLkTimragCP9dxAXwoY0zD0zbUYh6div34BdXUXqd8y@mail.gmail.com>
Message-ID: <AANLkTika78Q2AcSYWHF4ts=WG+Fq_B3o=zFQ+G13gAUQ@mail.gmail.com>

yea i already read that, talks about other data types but not just a plain
text field.

On Tue, Jan 18, 2011 at 2:09 PM, Aaron Jorbin <aaron at jorb.in> wrote:

> http://codex.wordpress.org/Data_Validation
>
> One additional function is sanitize_text_field
>
> http://aaron.jorb.in
> twitter: twitter.com/aaronjorbin
>
>
> On Tue, Jan 18, 2011 at 4:56 PM, WP Customizer <wpcustomizer at gmail.com
> >wrote:
>
> > I am wondering what is the correct method to validate a string before
> > saving
> > it as a plugin option, its just a random string i want the user to input,
> a
> > username for a third party service I am going to connect to.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chip at chipbennett.net  Wed Jan 19 00:03:39 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Tue, 18 Jan 2011 18:03:39 -0600
Subject: [wp-hackers] Validate String
In-Reply-To: <AANLkTika78Q2AcSYWHF4ts=WG+Fq_B3o=zFQ+G13gAUQ@mail.gmail.com>
References: <AANLkTim87zq+Kby=vK6vN7i9EbE11K=yU2vejisbeHWe@mail.gmail.com>
	<AANLkTimragCP9dxAXwoY0zD0zbUYh6div34BdXUXqd8y@mail.gmail.com>
	<AANLkTika78Q2AcSYWHF4ts=WG+Fq_B3o=zFQ+G13gAUQ@mail.gmail.com>
Message-ID: <AANLkTikXPGv-MxC=SNC2WH5_WaO8H0AOAo3Y4LFngWYR@mail.gmail.com>

Perhaps you just want to use
wp_filter_nohtml_kses()<http://codex.wordpress.org/Function_Reference/wp_filter_nohtml_kses>
?

On Tue, Jan 18, 2011 at 5:49 PM, WP Customizer <wpcustomizer at gmail.com>wrote:

> yea i already read that, talks about other data types but not just a plain
> text field.
>
> On Tue, Jan 18, 2011 at 2:09 PM, Aaron Jorbin <aaron at jorb.in> wrote:
>
> > http://codex.wordpress.org/Data_Validation
> >
> > One additional function is sanitize_text_field
> >
> > http://aaron.jorb.in
> > twitter: twitter.com/aaronjorbin
> >
> >
> > On Tue, Jan 18, 2011 at 4:56 PM, WP Customizer <wpcustomizer at gmail.com
> > >wrote:
> >
> > > I am wondering what is the correct method to validate a string before
> > > saving
> > > it as a plugin option, its just a random string i want the user to
> input,
> > a
> > > username for a third party service I am going to connect to.
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jimmy.roy at gmail.com  Wed Jan 19 08:48:08 2011
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Wed, 19 Jan 2011 16:48:08 +0800
Subject: [wp-hackers] custom taxonomies : how to get the current slug?
Message-ID: <AANLkTik_Medv9=x0nTm+=3=wB=ax6kq-4S1Xx=x_jeNj@mail.gmail.com>

hi,
I've a custom post type and a custom taxonomy.

in the sidebar of my site I list the terms, for example:

*Color* (the taxonomy)

   - red (2)
   - blue (3)

if I click on blue I list all post with associated to the blue term.

in this page (www.example.com/color/blue/, I would like to show the number
of post (ie 3), I use this piece of code for testing and it works but the
term name is harcoded:

$taxonomy = "color";
$term_slug = 'red';
$term = get_term_by('slug', $term_slug, $taxonomy);
 echo 'Number of posts: '.$term->count;

so my question is how to get the current slug?

(and sorry for my bad english!)

--
Jimmy | www.jimmyroy.fr
--

From wp at andrewnacin.com  Wed Jan 19 08:52:13 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 19 Jan 2011 03:52:13 -0500
Subject: [wp-hackers] custom taxonomies : how to get the current slug?
In-Reply-To: <AANLkTik_Medv9=x0nTm+=3=wB=ax6kq-4S1Xx=x_jeNj@mail.gmail.com>
References: <AANLkTik_Medv9=x0nTm+=3=wB=ax6kq-4S1Xx=x_jeNj@mail.gmail.com>
Message-ID: <AANLkTin4og5gHDUSORkWAOwqGHuG5h4t0ngB6yOSPfDJ@mail.gmail.com>

On Wed, Jan 19, 2011 at 3:48 AM, Jimmy Roy <jimmy.roy at gmail.com> wrote:

> hi,
> I've a custom post type and a custom taxonomy.
>
> in the sidebar of my site I list the terms, for example:
>
> *Color* (the taxonomy)
>
>   - red (2)
>   - blue (3)
>
> if I click on blue I list all post with associated to the blue term.
>
> in this page (www.example.com/color/blue/, I would like to show the number
> of post (ie 3), I use this piece of code for testing and it works but the
> term name is harcoded:
>
> $taxonomy = "color";
> $term_slug = 'red';
> $term = get_term_by('slug', $term_slug, $taxonomy);
>  echo 'Number of posts: '.$term->count;
>
> so my question is how to get the current slug?
>
> (and sorry for my bad english!)
>
> --
> Jimmy | www.jimmyroy.fr


A few ways -- I would use this:

$term = $wp_query->get_queried_object();

Then $term is a term object with ->slug, ->name, ->count, etc.

--
Nacin

From cappuccino.e.cornetto at gmail.com  Wed Jan 19 08:57:28 2011
From: cappuccino.e.cornetto at gmail.com (Andrea Ercolino)
Date: Wed, 19 Jan 2011 09:57:28 +0100
Subject: [wp-hackers] About the Ticket #13590
Message-ID: <AANLkTinzHOo+hyeHbfvW5s8zmjvDBdH0hpTNMh_=YZvy@mail.gmail.com>

I've recently developed a class for escaping / unescaping UTF-8
characters. I've released it as a Zend Framework class
(Zend_Utf8<http://framework.zend.com/wiki/display/ZFPROP/Zend_Utf8+-+Andrea+Ercolino>,
now in the proposal stage), and as stand-alone class for a WordPress plugin
(Full UTF-8 <http://wordpress.org/extend/plugins/full-utf-8/>).

The plugin was meant to fix the same issue of the Ticket #13590 (Inserting a
tetragram (SMP/Plane 1) character truncates post
fields<http://core.trac.wordpress.org/ticket/13590>),
which I stumbled upon some days ago when trying to write an article about
the RFC4627 (JSON <http://www.ietf.org/rfc/rfc4627.txt>).
The plugin works pretty well for post content (and title, excerpt and
search) but it doesn't cover custom fields. For them I had to write a patch
that changed 8 different files. Anyway, a plugin + a patch is not a clean
solution. And it's possible that some data string get's through to the db,
following an alternative path I couldn't find with my reverse engineering.

So I thought: Why not to wrap db queries inside escape / unescape
parentheses? In this way

   - nothing will ever hit the db without taking care of
   - the patch will be extremely localized

I wrote the patch, ran the tests, saw that the issue got solved, and all
seemed fine to me.

There are some questions that need to be answered:

   1. Does this solution slow WP down too much?
   2. Does this solution fail sometime?

I've no clear answers, but hints.

   1. The escaping/unescaping are cheap operations, but they do examine a
   string char by char. In this use case, I already short-circuited any char
   MySQL can handle by itself (3 bytes UTF-8).
   2. Only strings are escaped/unescaped, the rest is short-circuited (at
   least when writing to the db, when reading all is a string), so I think that
   only a binary string could cause some troubles.

I'd like to know your thoughts, and if the patch could find its way into
some next (close) WP release.
Here are the parts of the patch that change WP, the whole patch (with two
added files) is instead attached.

diff -rupN --exclude-from wpdiffexclude.txt
wordpress-3.0.4/wp-includes/wp-db.php wp-db-patched/wp-includes/wp-db.php
--- wordpress-3.0.4/wp-includes/wp-db.php 2010-07-25 08:34:50.000000000
+0200
+++ wp-db-patched/wp-includes/wp-db.php 2011-01-18 12:51:56.000000000 +0100
@@ -1108,7 +1108,8 @@ class wpdb {
  $dbh =& $this->dbh;
  $this->last_db_used = "other/read";
  }
-
+
+ full_utf8_escape($query);
  $this->result = @mysql_query( $query, $dbh );
  $this->num_queries++;

@@ -1136,8 +1137,9 @@ class wpdb {
  $i++;
  }
  $num_rows = 0;
- while ( $row = @mysql_fetch_object( $this->result ) ) {
- $this->last_result[$num_rows] = $row;
+ while ( $row = @mysql_fetch_assoc( $this->result ) ) {
+    array_walk($row, 'full_utf8_unescape');
+ $this->last_result[$num_rows] = (object) $row;
  $num_rows++;
  }

diff -rupN --exclude-from wpdiffexclude.txt wordpress-3.0.4/wp-settings.php
wp-db-patched/wp-settings.php
--- wordpress-3.0.4/wp-settings.php 2010-05-02 23:18:36.000000000 +0200
+++ wp-db-patched/wp-settings.php 2011-01-16 20:19:32.000000000 +0100
@@ -66,6 +66,7 @@ wp_set_lang_dir();
 require( ABSPATH . WPINC . '/compat.php' );
 require( ABSPATH . WPINC . '/functions.php' );
 require( ABSPATH . WPINC . '/classes.php' );
+require( ABSPATH . WPINC . '/full-utf8.php' );

 // Include the wpdb class, or a db.php database drop-in if present.
 require_wp_db();

From wp at andrewnacin.com  Wed Jan 19 09:05:53 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 19 Jan 2011 04:05:53 -0500
Subject: [wp-hackers] About the Ticket #13590
In-Reply-To: <AANLkTinzHOo+hyeHbfvW5s8zmjvDBdH0hpTNMh_=YZvy@mail.gmail.com>
References: <AANLkTinzHOo+hyeHbfvW5s8zmjvDBdH0hpTNMh_=YZvy@mail.gmail.com>
Message-ID: <AANLkTikQ0UZ3q6UGBiWBGpyJ24_mutaGrkp0K45Sw1Hr@mail.gmail.com>

On Wed, Jan 19, 2011 at 3:57 AM, Andrea Ercolino <
cappuccino.e.cornetto at gmail.com> wrote:

> I'd like to know your thoughts, and if the patch could find its way into
> some next (close) WP release.


Hi Andrea,

Core development hasn't been a popular topic on this mailing list for a few
years now. Parkinson's Law of Triviality typically takes over, which means
such a thorough post on an advanced technical matter like this one isn't
likely to see many replies. Trac is the appropriate venue anyway for actual
patches. I'd suggest you post this as a comment to ticket #13590 or open a
new ticket based on your findings.

Thanks,
Nacin

From cappuccino.e.cornetto at gmail.com  Wed Jan 19 09:14:31 2011
From: cappuccino.e.cornetto at gmail.com (Andrea Ercolino)
Date: Wed, 19 Jan 2011 10:14:31 +0100
Subject: [wp-hackers] About the Ticket #13590
In-Reply-To: <AANLkTikQ0UZ3q6UGBiWBGpyJ24_mutaGrkp0K45Sw1Hr@mail.gmail.com>
References: <AANLkTinzHOo+hyeHbfvW5s8zmjvDBdH0hpTNMh_=YZvy@mail.gmail.com>
	<AANLkTikQ0UZ3q6UGBiWBGpyJ24_mutaGrkp0K45Sw1Hr@mail.gmail.com>
Message-ID: <AANLkTikJfJSRa-uwgX+m3RkRxWyVA8isMRw0DEdy16oX@mail.gmail.com>

Thanks, Andrew.
I noticed that, but didn't know how to proceed. I'll do as you suggest.

On Wed, Jan 19, 2011 at 10:05 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Wed, Jan 19, 2011 at 3:57 AM, Andrea Ercolino <
> cappuccino.e.cornetto at gmail.com> wrote:
>
> > I'd like to know your thoughts, and if the patch could find its way into
> > some next (close) WP release.
>
>
> Hi Andrea,
>
> Core development hasn't been a popular topic on this mailing list for a few
> years now. Parkinson's Law of Triviality typically takes over, which means
> such a thorough post on an advanced technical matter like this one isn't
> likely to see many replies. Trac is the appropriate venue anyway for actual
> patches. I'd suggest you post this as a comment to ticket #13590 or open a
> new ticket based on your findings.
>
> Thanks,
> Nacin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From cappuccino.e.cornetto at gmail.com  Wed Jan 19 09:36:52 2011
From: cappuccino.e.cornetto at gmail.com (Andrea Ercolino)
Date: Wed, 19 Jan 2011 10:36:52 +0100
Subject: [wp-hackers] About the Ticket #13590
In-Reply-To: <AANLkTikJfJSRa-uwgX+m3RkRxWyVA8isMRw0DEdy16oX@mail.gmail.com>
References: <AANLkTinzHOo+hyeHbfvW5s8zmjvDBdH0hpTNMh_=YZvy@mail.gmail.com>
	<AANLkTikQ0UZ3q6UGBiWBGpyJ24_mutaGrkp0K45Sw1Hr@mail.gmail.com>
	<AANLkTikJfJSRa-uwgX+m3RkRxWyVA8isMRw0DEdy16oX@mail.gmail.com>
Message-ID: <AANLkTi==g52sLHGahzvb1QjE93gEQrt_pOfYZoQmygBj@mail.gmail.com>

OK, I've edited http://core.trac.wordpress.org/ticket/13590.
I hope someone will drop by and comment, thanks.

On Wed, Jan 19, 2011 at 10:14 AM, Andrea Ercolino <
cappuccino.e.cornetto at gmail.com> wrote:

> Thanks, Andrew.
> I noticed that, but didn't know how to proceed. I'll do as you suggest.
>
> On Wed, Jan 19, 2011 at 10:05 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
>
>> On Wed, Jan 19, 2011 at 3:57 AM, Andrea Ercolino <
>> cappuccino.e.cornetto at gmail.com> wrote:
>>
>> > I'd like to know your thoughts, and if the patch could find its way into
>> > some next (close) WP release.
>>
>>
>> Hi Andrea,
>>
>> Core development hasn't been a popular topic on this mailing list for a
>> few
>> years now. Parkinson's Law of Triviality typically takes over, which means
>> such a thorough post on an advanced technical matter like this one isn't
>> likely to see many replies. Trac is the appropriate venue anyway for
>> actual
>> patches. I'd suggest you post this as a comment to ticket #13590 or open a
>> new ticket based on your findings.
>>
>> Thanks,
>> Nacin
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From jimmy.roy at gmail.com  Wed Jan 19 10:42:11 2011
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Wed, 19 Jan 2011 18:42:11 +0800
Subject: [wp-hackers] location of search query
Message-ID: <AANLkTi=6yn3isBdfrQXEpv2FFg53ML=x6JsoY+ErAoVt@mail.gmail.com>

hi all,
I have a problem with the search function and I would like to echo the sql
query, this query is in what file?

Jimmy

From mikeschinkel at newclarity.net  Wed Jan 19 10:47:22 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 19 Jan 2011 05:47:22 -0500
Subject: [wp-hackers] location of search query
In-Reply-To: <AANLkTi=6yn3isBdfrQXEpv2FFg53ML=x6JsoY+ErAoVt@mail.gmail.com>
References: <AANLkTi=6yn3isBdfrQXEpv2FFg53ML=x6JsoY+ErAoVt@mail.gmail.com>
Message-ID: <E35FA1E3-352B-4E60-A794-238BBC4C3992@newclarity.net>

On Jan 19, 2011, at 5:42 AM, Jimmy Roy wrote:
> I have a problem with the search function and I would like to echo the sql
> query, this query is in what file?

Just add this to the top of your search.php theme template file somewhere:

<?php echo $GLOBALS['wp_query']->request; exit; ?>

Hope this helps.

-Mike


From jimmy.roy at gmail.com  Wed Jan 19 11:04:10 2011
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Wed, 19 Jan 2011 19:04:10 +0800
Subject: [wp-hackers] location of search query
In-Reply-To: <E35FA1E3-352B-4E60-A794-238BBC4C3992@newclarity.net>
References: <AANLkTi=6yn3isBdfrQXEpv2FFg53ML=x6JsoY+ErAoVt@mail.gmail.com>
	<E35FA1E3-352B-4E60-A794-238BBC4C3992@newclarity.net>
Message-ID: <AANLkTik-H-rkH+sb4b2z_tnVzZeMt176iA2b0-vxDtwa@mail.gmail.com>

thank you,
finally I read the code of classes.php and I print wp_the_query, same
result.

--
Jimmy | www.jimmyroy.fr
--



2011/1/19 Mike Schinkel <mikeschinkel at newclarity.net>

> On Jan 19, 2011, at 5:42 AM, Jimmy Roy wrote:
> > I have a problem with the search function and I would like to echo the
> sql
> > query, this query is in what file?
>
> Just add this to the top of your search.php theme template file somewhere:
>
> <?php echo $GLOBALS['wp_query']->request; exit; ?>
>
> Hope this helps.
>
> -Mike
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From helen.y.hou at gmail.com  Wed Jan 19 15:28:41 2011
From: helen.y.hou at gmail.com (Helen Hou-Sandi)
Date: Wed, 19 Jan 2011 10:28:41 -0500
Subject: [wp-hackers] Wordpress in Multiple Environments
In-Reply-To: <AANLkTik-p7sd2V+YJ=jBWT_MgmMoK+=iAJcVS8CFRxNn@mail.gmail.com>
References: <93E2EFE6-D949-41BF-B52A-13000C42318C@teamcolab.com>
	<AANLkTik-p7sd2V+YJ=jBWT_MgmMoK+=iAJcVS8CFRxNn@mail.gmail.com>
Message-ID: <AANLkTi=k+y5DCuU_eGToCPeA4A2H1tjeETVovbECfS56@mail.gmail.com>

On Sun, Jan 16, 2011 at 8:07 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

>
> The simplest solution is to run an output buffer in staging that rewrites
> any live links. Works extremely well and doesn't put any additional burden
> onto the production site. It also helps in a number of other areas outside
> the media library. You might want to conditionally filter the uploads stuff
> anyway the same way you're filtering home and siteurl.
>
> It could literally be as simple as this in wp-config.php:
>
> ob_start( 'mysite_staging_links' );
> function mysite_staging_links( $content ) {
>   return str_replace( 'http://mysite.com/', 'http://staging.mysite.com',
> $content );
> }


We are doing this on our dev server (going to root relative paths instead),
but replacing everything messed with the Dashboard and breaks things like
the TinyMCE editor (using !is_admin() didn't work, I guess because it's way
too early for that). I found that doing a str_replace on href="
http://mysite.com/ and src="http://mysite.com/ (and also the single quote
versions) instead worked fine, at least as far as I've discovered so far.

--
Helen Hou-Sandi

From jer at simianuprising.com  Wed Jan 19 16:22:10 2011
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 19 Jan 2011 11:22:10 -0500
Subject: [wp-hackers] Search in multiple categories
In-Reply-To: <AANLkTinD5jYy50yQaVQVuhFJju1e4HJvOp5kUY69NCvb@mail.gmail.com>
References: <AANLkTim4BaJfc6yRpXyZiW+2L6fB-jvt60TZ=PBGhSQ2@mail.gmail.com>
	<AANLkTimaVXm217yhCiYODjU79kNMWQQ_S4mb_AEiV-4v@mail.gmail.com>
	<AANLkTinD5jYy50yQaVQVuhFJju1e4HJvOp5kUY69NCvb@mail.gmail.com>
Message-ID: <AANLkTimp5xW-dUx2skCkib_+UCuVKwtjwi+R1fUy2kW5@mail.gmail.com>

Tareq, I believe what you are looking for is the category__in query
parameter. It allows you to set multiple categories and fetch all posts in
any of those categories. You can't call it with a URL but you can use it in
new WP_Query().

You can read more about it on the codex:
http://codex.wordpress.org/Function_Reference/query_posts#Category_Parameters

When you combine these types of queries with others (like a search term) the
results aren't always what you expect (often one or more parameters is
ignored), so even if you have category__in set up properly it might not
work. A lot of work went into improving this issue for 3.1, so if it doesn't
work with 3.0.x then try it out with the 3.1 betas and see if it works
there, it's late enough in the dev cycle that any new site you're building
is probably better off starting with the 3.1 beta anyway.

-- 
Jeremy Clarke
Code and Design ? globalvoicesonline.org

From rbilesky at gmail.com  Wed Jan 19 17:44:27 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 19 Jan 2011 09:44:27 -0800
Subject: [wp-hackers] List all capabilities
Message-ID: <AANLkTimhcGP28A6JLykbJPCLLojN-6xcwh4xEvgxCe5r@mail.gmail.com>

I was woundering how could I get a list of all the possible capabilities, I
mean I could hardcode all the default stuff but I want to get the actual
list from wordpress to incluee custom stuff added by other plugins.

From trentmar at gmail.com  Wed Jan 19 21:15:32 2011
From: trentmar at gmail.com (Trent Martin)
Date: Wed, 19 Jan 2011 14:15:32 -0700
Subject: [wp-hackers] Getting post type object from singular label
Message-ID: <AANLkTikR6rSJLS1XssYfJXXQ79PaGEGYhzEJ7vr8fVF2@mail.gmail.com>

I'm trying to get a post type name from it's singular label using
get_post_types(), however the singular_label property was deprecated
(Tickets #13357 and #14619).

Is searching $wp_post_types->labels->singular_name the only way to do this
now?

From wp at andrewnacin.com  Wed Jan 19 21:26:35 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 19 Jan 2011 16:26:35 -0500
Subject: [wp-hackers] Getting post type object from singular label
In-Reply-To: <AANLkTikR6rSJLS1XssYfJXXQ79PaGEGYhzEJ7vr8fVF2@mail.gmail.com>
References: <AANLkTikR6rSJLS1XssYfJXXQ79PaGEGYhzEJ7vr8fVF2@mail.gmail.com>
Message-ID: <AANLkTikcoCjOHK7phJjZ12tzCR-=roVY07bC1h6JNmWB@mail.gmail.com>

On Wed, Jan 19, 2011 at 4:15 PM, Trent Martin <trentmar at gmail.com> wrote:

> I'm trying to get a post type name from it's singular label using
> get_post_types(), however the singular_label property was deprecated
> (Tickets #13357 and #14619).
>
> Is searching $wp_post_types->labels->singular_name the only way to do this
> now?


Yes. I wouldn't try to fetch a post type object/name from it's label though.
Curious as to the use case there. get_post_types() wasn't designed with that
in mind, as you can tell.

Nacin

From trentmar at gmail.com  Wed Jan 19 21:45:28 2011
From: trentmar at gmail.com (Trent Martin)
Date: Wed, 19 Jan 2011 14:45:28 -0700
Subject: [wp-hackers] Getting post type object from singular label
In-Reply-To: <AANLkTikcoCjOHK7phJjZ12tzCR-=roVY07bC1h6JNmWB@mail.gmail.com>
References: <AANLkTikR6rSJLS1XssYfJXXQ79PaGEGYhzEJ7vr8fVF2@mail.gmail.com>
	<AANLkTikcoCjOHK7phJjZ12tzCR-=roVY07bC1h6JNmWB@mail.gmail.com>
Message-ID: <AANLkTin=wR=htNHGxZu0=LZxCrrmxonEp9J_z2-CPW_1@mail.gmail.com>

Use case is that the user can select a post type from a list of singular
labels, i.e., Post, Page, etc. That post type label could later be matched
to the actual custom type name.

Obviously the better way is to include the Value in the Option tags of the
drop-down list, but that requires changing some of my UI framework which I
wanted to avoid.

Thanks.


On Wed, Jan 19, 2011 at 2:26 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Wed, Jan 19, 2011 at 4:15 PM, Trent Martin <trentmar at gmail.com> wrote:
>
> > I'm trying to get a post type name from it's singular label using
> > get_post_types(), however the singular_label property was deprecated
> > (Tickets #13357 and #14619).
> >
> > Is searching $wp_post_types->labels->singular_name the only way to do
> this
> > now?
>
>
> Yes. I wouldn't try to fetch a post type object/name from it's label
> though.
> Curious as to the use case there. get_post_types() wasn't designed with
> that
> in mind, as you can tell.
>
> Nacin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mailapera at gmail.com  Thu Jan 20 15:35:51 2011
From: mailapera at gmail.com (mailapera)
Date: Thu, 20 Jan 2011 16:35:51 +0100
Subject: [wp-hackers] Changes from 2.x.x to 3.x.x
Message-ID: <AANLkTimDcHiVbwPKH-60Py5hbtEZOVENWFJkXmaW4F+N@mail.gmail.com>

Hi,
I know this may seem a topic coming late, but I have an issue after
upgrading from 2.9.2 to 3.0.4 I cannot figure out.
So I was wondering if you could help me out replying to this question.

Are queries or prefixes handled differently in 3.x?

I have this function that works in conjunction with NGG, but the issue
here is not the plugin (tested). So it might be some parameter that
changed with 3.x
I bumped my head on wordpress.org searching for any note on this, but
could not find anything. Any hint is greatly appreciated! Below is the
function.

function mrt_thr_addgall()
	{
		
		//echo "hi";
		if(!current_user_can('level_10'))
		{
		global $wpdb, $current_user,$wp_query;
		$url = get_option('siteurl');
		$mrt_postID = $wp_query->post->ID;
		$mrt_post = get_post($mrt_postID);
		$mrt_curr_title = $mrt_post->post_title;
		$mrt_content = $mrt_post->post_content;
		$mrt_userID = $current_user->id;
		$nggallery = $wpdb->prefix . 'ngg_gallery';
		$gall_path = "wp-content/gallery/";
		$mrt_temp = ABSPATH . "wp-content/gallery/";
		$mrt_status = $wpdb->get_results("SELECT * FROM $wpdb->posts WHERE
post_author=$mrt_userID AND  post_status <> 'auto-draft' AND
post_status <> 'trash' AND post_type <> 'revision' AND mrt_flag != '1'
");
		
			if ( is_array($mrt_status) )
			{
				foreach($mrt_status as $index)
				{
						add_post_meta($index->ID, "gallerypopup", "", false);
						add_post_meta($index->ID, "galleryflash", "", false);
						add_post_meta($index->ID, "firstthumb", "", false);

						$mrt_title = $index->post_title;
						$mrt_ID = $index->ID;
			 			$mrt_thr_title = str_replace(" ","-",$mrt_title);	
						$mrt_path = $mrt_temp . $mrt_thr_title;
						$mrt_gall_path = $gall_path . $mrt_thr_title;
						if ( !file_exists($mrt_path))
						{
							mkdir($mrt_path);
							chmod($mrt_path, 0777);
						}
						$wpdb->query($wpdb->prepare("INSERT INTO ".$nggallery."(name,
path, title, author) VALUES(%s, %s, %s, %d)", $mrt_title,
$mrt_gall_path, $mrt_thr_title, $mrt_userID ) );
						$mrt_gallID = $wpdb->get_var("SELECT gid FROM $wpdb->nggallery
WHERE name='".$mrt_title."'");
						$wpdb->query("UPDATE $wpdb->posts SET mrt_gallID=$mrt_gallID
WHERE post_title='".$mrt_title."'");
						$wpdb->query("UPDATE $wpdb->postmeta SET
meta_value='[slideshow=".$mrt_gallID."]' WHERE meta_key='galleryflash'
AND post_id=$index->ID");
						$wpdb->query("UPDATE $wpdb->postmeta SET
meta_value='[gallery=".$mrt_gallID."]' WHERE meta_key='gallerypopup'
AND post_id=$index->ID");
						$wpdb->query("UPDATE $wpdb->posts SET mrt_flag=1 WHERE ID=$index->ID");
					/*else if($index->post_status == 'pending' && $index->post_type == 'post')
					{
						$redir_value = $url."/wp-admin/edit.php?page=thrifty/functions.php";
		                                 header("Location: $redir_value");
					}*/
				}
			}
		}
	}

From eric at eam.me  Thu Jan 20 16:14:31 2011
From: eric at eam.me (Eric Mann)
Date: Thu, 20 Jan 2011 08:14:31 -0800
Subject: [wp-hackers] Changes from 2.x.x to 3.x.x
In-Reply-To: <AANLkTimDcHiVbwPKH-60Py5hbtEZOVENWFJkXmaW4F+N@mail.gmail.com>
References: <AANLkTimDcHiVbwPKH-60Py5hbtEZOVENWFJkXmaW4F+N@mail.gmail.com>
Message-ID: <AANLkTikgMBJn8Qvwa=hR3zzM74JCxSCK_BOmQ9EGSCfY@mail.gmail.com>

>
> Hi,
> I know this may seem a topic coming late, but I have an issue after
> upgrading from 2.9.2 to 3.0.4 I cannot figure out.
> So I was wondering if you could help me out replying to this question.
>

First and foremost, this list isn't for support requests.  Those should be
directed to the support forums: http://wordpress.org/support.

Secondly, no one can begin to help you solve your "issue" if we don't know
what the issue is.  Now we've seen what you tried, but what problem are you
facing?  Is WordPress returning an error?  Are you getting a strangely
rendered screen?  Are posts missing after the upgrade?  What other
plug-ins/theme/modifications is your site running that could possibly have
any interaction with your code?


> Are queries or prefixes handled differently in 3.x?
>
> I have this function that works in conjunction with NGG, but the issue
> here is not the plugin (tested). So it might be some parameter that
> changed with 3.x
> I bumped my head on wordpress.org searching for any note on this, but
> could not find anything. Any hint is greatly appreciated! Below is the
> function.
>

From mailapera at gmail.com  Thu Jan 20 16:42:18 2011
From: mailapera at gmail.com (mailapera)
Date: Thu, 20 Jan 2011 17:42:18 +0100
Subject: [wp-hackers] Changes from 2.x.x to 3.x.x
In-Reply-To: <AANLkTikgMBJn8Qvwa=hR3zzM74JCxSCK_BOmQ9EGSCfY@mail.gmail.com>
References: <AANLkTimDcHiVbwPKH-60Py5hbtEZOVENWFJkXmaW4F+N@mail.gmail.com>
	<AANLkTikgMBJn8Qvwa=hR3zzM74JCxSCK_BOmQ9EGSCfY@mail.gmail.com>
Message-ID: <AANLkTim_gM93b=Dhe=p+-K5tZ455W+0+Y16mQ43k9hSk@mail.gmail.com>

Hi,
Thanks for your reply.
I know this is not support, but I thought my question was on the WP
core. Is wp 3.0.x handling DB queries differently? The fact that there
is a plugin involved, as I said, is unimportant.

I posted the function just to make my question clearer. From a glance
you may be able to tell I am calling db data and tables that if during
the upgrade were changed in name or whatever (I know 3.0 brought a lot
of DB changes, I just dunno which ones!)

Thanks for trying to address my issue more consistently. Hope my
question is clearer now.



On Thu, Jan 20, 2011 at 5:14 PM, Eric Mann <eric at eam.me> wrote:
>>
>> Hi,
>> I know this may seem a topic coming late, but I have an issue after
>> upgrading from 2.9.2 to 3.0.4 I cannot figure out.
>> So I was wondering if you could help me out replying to this question.
>>
>
> First and foremost, this list isn't for support requests. ?Those should be
> directed to the support forums: http://wordpress.org/support.
>
> Secondly, no one can begin to help you solve your "issue" if we don't know
> what the issue is. ?Now we've seen what you tried, but what problem are you
> facing? ?Is WordPress returning an error? ?Are you getting a strangely
> rendered screen? ?Are posts missing after the upgrade? ?What other
> plug-ins/theme/modifications is your site running that could possibly have
> any interaction with your code?
>
>
>> Are queries or prefixes handled differently in 3.x?
>>
>> I have this function that works in conjunction with NGG, but the issue
>> here is not the plugin (tested). So it might be some parameter that
>> changed with 3.x
>> I bumped my head on wordpress.org searching for any note on this, but
>> could not find anything. Any hint is greatly appreciated! Below is the
>> function.
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From photofantaisie at gmail.com  Thu Jan 20 17:51:21 2011
From: photofantaisie at gmail.com (Ade Walker)
Date: Thu, 20 Jan 2011 18:51:21 +0100
Subject: [wp-hackers] previous_post_link and next_post_link with custom
 post type, disregard
In-Reply-To: <5E35132A-9673-4C11-9C5C-03A1F6452436@gmail.com>
References: <5E35132A-9673-4C11-9C5C-03A1F6452436@gmail.com>
Message-ID: <AANLkTin8HvSBbCkioROLYNvVKKEmU6w5Yttig972_QBz@mail.gmail.com>

2011/1/14 Joshua Sibelman <joshua.sibelman at gmail.com>

> Solved my problem. Next time I will be slower to contact the list.
>
> Sorry, everyone.
>

Josh,

Can I ask you what your solution was? I've been struggling with this, too...

Thanks.

Ade.

From chris at clwill.com  Thu Jan 20 18:15:17 2011
From: chris at clwill.com (Chris Williams)
Date: Thu, 20 Jan 2011 13:15:17 -0500
Subject: [wp-hackers] Changes from 2.x.x to 3.x.x
In-Reply-To: <AANLkTim_gM93b=Dhe=p+-K5tZ455W+0+Y16mQ43k9hSk@mail.gmail.com>
Message-ID: <C95DBB37.3B08%chris@clwill.com>

The operative question that you still haven't answered is what's not
working?  Are you getting an error?  I use NGG on several sites running
3.x and they work fine.  What is the behavior problem you are seeing?

On 1/20/11 8:42 AM, "mailapera" <mailapera at gmail.com> wrote:

>Hi,
>Thanks for your reply.
>I know this is not support, but I thought my question was on the WP
>core. Is wp 3.0.x handling DB queries differently? The fact that there
>is a plugin involved, as I said, is unimportant.
>
>I posted the function just to make my question clearer. From a glance
>you may be able to tell I am calling db data and tables that if during
>the upgrade were changed in name or whatever (I know 3.0 brought a lot
>of DB changes, I just dunno which ones!)
>
>Thanks for trying to address my issue more consistently. Hope my
>question is clearer now.
>
>
>
>On Thu, Jan 20, 2011 at 5:14 PM, Eric Mann <eric at eam.me> wrote:
>>>
>>> Hi,
>>> I know this may seem a topic coming late, but I have an issue after
>>> upgrading from 2.9.2 to 3.0.4 I cannot figure out.
>>> So I was wondering if you could help me out replying to this question.
>>>
>>
>> First and foremost, this list isn't for support requests.  Those should
>>be
>> directed to the support forums: http://wordpress.org/support.
>>
>> Secondly, no one can begin to help you solve your "issue" if we don't
>>know
>> what the issue is.  Now we've seen what you tried, but what problem are
>>you
>> facing?  Is WordPress returning an error?  Are you getting a strangely
>> rendered screen?  Are posts missing after the upgrade?  What other
>> plug-ins/theme/modifications is your site running that could possibly
>>have
>> any interaction with your code?
>>
>>
>>> Are queries or prefixes handled differently in 3.x?
>>>
>>> I have this function that works in conjunction with NGG, but the issue
>>> here is not the plugin (tested). So it might be some parameter that
>>> changed with 3.x
>>> I bumped my head on wordpress.org searching for any note on this, but
>>> could not find anything. Any hint is greatly appreciated! Below is the
>>> function.
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers


From rbilesky at gmail.com  Thu Jan 20 18:18:20 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 20 Jan 2011 10:18:20 -0800
Subject: [wp-hackers] List all capabilities
In-Reply-To: <AANLkTimhcGP28A6JLykbJPCLLojN-6xcwh4xEvgxCe5r@mail.gmail.com>
References: <AANLkTimhcGP28A6JLykbJPCLLojN-6xcwh4xEvgxCe5r@mail.gmail.com>
Message-ID: <AANLkTik+umQ4gKmM0NUw26Y1g4O-+QqGfVR57LAzK9Jx@mail.gmail.com>

Ok I think I may have found it, all roles and capabilities appear to be
stored in an option called (dbprefix)_user_roles in an array format like:

array (
        'rolename' => array (
                'name' => 'rolename',
                'capabilities' => array()
        )
)

Now it the a better method, or should I just
global $wpdb;
$roles = get_option($wpdb->prefix . 'user_roles');
and then loop though each role and get it's capability array than merge.

On Wed, Jan 19, 2011 at 9:44 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> I was woundering how could I get a list of all the possible capabilities, I
> mean I could hardcode all the default stuff but I want to get the actual
> list from wordpress to incluee custom stuff added by other plugins.
>

From rbilesky at gmail.com  Thu Jan 20 18:19:11 2011
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 20 Jan 2011 10:19:11 -0800
Subject: [wp-hackers] List all capabilities
In-Reply-To: <AANLkTik+umQ4gKmM0NUw26Y1g4O-+QqGfVR57LAzK9Jx@mail.gmail.com>
References: <AANLkTimhcGP28A6JLykbJPCLLojN-6xcwh4xEvgxCe5r@mail.gmail.com>
	<AANLkTik+umQ4gKmM0NUw26Y1g4O-+QqGfVR57LAzK9Jx@mail.gmail.com>
Message-ID: <AANLkTi=Hu3WhC3f49U0NA7sYYfY8AeW03P3vY6Y2uq3n@mail.gmail.com>

sorry i meant *is there a better method

On Thu, Jan 20, 2011 at 10:18 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Ok I think I may have found it, all roles and capabilities appear to be
> stored in an option called (dbprefix)_user_roles in an array format like:
>
> array (
>         'rolename' => array (
>                 'name' => 'rolename',
>                 'capabilities' => array()
>         )
> )
>
> Now it the a better method, or should I just
> global $wpdb;
> $roles = get_option($wpdb->prefix . 'user_roles');
> and then loop though each role and get it's capability array than merge.
>
>   On Wed, Jan 19, 2011 at 9:44 AM, Ryan Bilesky <rbilesky at gmail.com>wrote:
>
>> I was woundering how could I get a list of all the possible capabilities,
>> I mean I could hardcode all the default stuff but I want to get the actual
>> list from wordpress to incluee custom stuff added by other plugins.
>>
>
>

From dougal at gunters.org  Thu Jan 20 19:00:46 2011
From: dougal at gunters.org (Dougal Campbell)
Date: Thu, 20 Jan 2011 14:00:46 -0500
Subject: [wp-hackers] List all capabilities
In-Reply-To: <AANLkTik+umQ4gKmM0NUw26Y1g4O-+QqGfVR57LAzK9Jx@mail.gmail.com>
References: <AANLkTimhcGP28A6JLykbJPCLLojN-6xcwh4xEvgxCe5r@mail.gmail.com>
	<AANLkTik+umQ4gKmM0NUw26Y1g4O-+QqGfVR57LAzK9Jx@mail.gmail.com>
Message-ID: <4D38865E.5070508@gunters.org>

On Jan 20 2011 1:18 PM, Ryan Bilesky wrote:
> Now is there a better method, or should I just
> global $wpdb;
> $roles = get_option($wpdb->prefix . 'user_roles');
> and then loop though each role and get it's capability array than merge.

Use the $wp_roles object, which is already defined for you:

     global $wp_roles;
     $roles = $wp_roles->roles;

This will return the same array of role and capability information you 
mentioned before.

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From wp at andrewnacin.com  Thu Jan 20 18:50:56 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 20 Jan 2011 13:50:56 -0500
Subject: [wp-hackers] List all capabilities
In-Reply-To: <AANLkTik+umQ4gKmM0NUw26Y1g4O-+QqGfVR57LAzK9Jx@mail.gmail.com>
References: <AANLkTimhcGP28A6JLykbJPCLLojN-6xcwh4xEvgxCe5r@mail.gmail.com>
	<AANLkTik+umQ4gKmM0NUw26Y1g4O-+QqGfVR57LAzK9Jx@mail.gmail.com>
Message-ID: <AANLkTinb5RDsSNaz7GjgM9+T3Q8opdLbjoupbTtCcfsB@mail.gmail.com>

On Thu, Jan 20, 2011 at 1:18 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Ok I think I may have found it, all roles and capabilities appear to be
> stored in an option called (dbprefix)_user_roles in an array format like:
>
> array (
>        'rolename' => array (
>                'name' => 'rolename',
>                'capabilities' => array()
>        )
> )
>
> Now it the a better method, or should I just
> global $wpdb;
> $roles = get_option($wpdb->prefix . 'user_roles');
> and then loop though each role and get it's capability array than merge.


Don't use get_option(), as role definitions might not be stored in the
database.

Use the $wp_roles global, which is a WP_Roles object. There you can inspect
->roles, ->role_names, ->role_objects (which in turn are WP_Role objects).

From kksharma1618 at gmail.com  Thu Jan 20 21:13:26 2011
From: kksharma1618 at gmail.com (kksharma1618)
Date: Thu, 20 Jan 2011 13:13:26 -0800 (PST)
Subject: [wp-hackers] Activation hook exist for themes?
Message-ID: <30702227.post@talk.nabble.com>


I was looking for activation/deactivation hook for themes. Yours was the best
approach but it is a bit unreliable as admin can refresh the page after
activating theme and activation code can run multiple times. I have written
a code which provides a reliable activation/deactivation theme hooks. Please
check it out and let me know what you guys think!

http://www.krishnakantsharma.com/2011/01/activationdeactivation-hook-for-wordpress-theme/


Ozh wrote:
> 
> Last time I checked there was no such hook
> 
> A simple workaround is:
> if ( is_admin() && isset($_GET['activated'] ) && $pagenow == "themes.php"
> ) {
>   // do your stuff
> }
> 
> On Sun, Aug 30, 2009 at 2:08 PM, rajasekharan<websweetweb at gmail.com>
> wrote:
>> Similar to register_activation_hook for plugins, do activation hooks
>> exist
>> for a themes in wordpress?
>>
> 
> 
> 
> -- 
> http://planetOzh.com ~ Blog and WordPress Stuff
> http://FrenchFragFactory.net ~ Daily Quake News
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 

-- 
View this message in context: http://old.nabble.com/Activation-hook-exist-for-themes--tp25211004p30702227.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.


From kksharma1618 at gmail.com  Thu Jan 20 21:13:42 2011
From: kksharma1618 at gmail.com (kksharma1618)
Date: Thu, 20 Jan 2011 13:13:42 -0800 (PST)
Subject: [wp-hackers] Activation hook exist for themes?
Message-ID: <30702227.post@talk.nabble.com>


I was looking for activation/deactivation hook for themes. Yours was the best
approach but it is a bit unreliable as admin can refresh the page after
activating theme and activation code can run multiple times. I have written
a code which provides a reliable activation/deactivation theme hooks. Please
check it out and let me know what you guys think!

http://www.krishnakantsharma.com/2011/01/activationdeactivation-hook-for-wordpress-theme/


Ozh wrote:
> 
> Last time I checked there was no such hook
> 
> A simple workaround is:
> if ( is_admin() && isset($_GET['activated'] ) && $pagenow == "themes.php"
> ) {
>   // do your stuff
> }
> 
> On Sun, Aug 30, 2009 at 2:08 PM, rajasekharan<websweetweb at gmail.com>
> wrote:
>> Similar to register_activation_hook for plugins, do activation hooks
>> exist
>> for a themes in wordpress?
>>
> 
> 
> 
> -- 
> http://planetOzh.com ~ Blog and WordPress Stuff
> http://FrenchFragFactory.net ~ Daily Quake News
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 

-- 
View this message in context: http://old.nabble.com/Activation-hook-exist-for-themes--tp25211004p30702227.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.


From mailapera at gmail.com  Thu Jan 20 22:18:28 2011
From: mailapera at gmail.com (mailapera)
Date: Thu, 20 Jan 2011 23:18:28 +0100
Subject: [wp-hackers] Changes from 2.x.x to 3.x.x
In-Reply-To: <C95DBB37.3B08%chris@clwill.com>
References: <AANLkTim_gM93b=Dhe=p+-K5tZ455W+0+Y16mQ43k9hSk@mail.gmail.com>
	<C95DBB37.3B08%chris@clwill.com>
Message-ID: <AANLkTi=8mHHZYXLTzjYUKwdBNSGrn5i_cj2RT=dV0z9q@mail.gmail.com>

Hi,
Thanks for your reply. I am sorry, stating my issue seemed to make my
question a support one.

Anyhow, what is not working is the function that creates a gallery and
links it to a specific user and that post he is creating when the user
saves the draft or send it for revision. It is a plugin working in
junction with NGG. That is why I know NGG has nothing to do with this.
I need to understand what changes were made in terms of DB queries and
data handling in 3.0 to modify the plugin accordingly.



On Thu, Jan 20, 2011 at 7:15 PM, Chris Williams <chris at clwill.com> wrote:
> The operative question that you still haven't answered is what's not
> working? ?Are you getting an error? ?I use NGG on several sites running
> 3.x and they work fine. ?What is the behavior problem you are seeing?
>
> On 1/20/11 8:42 AM, "mailapera" <mailapera at gmail.com> wrote:
>
>>Hi,
>>Thanks for your reply.
>>I know this is not support, but I thought my question was on the WP
>>core. Is wp 3.0.x handling DB queries differently? The fact that there
>>is a plugin involved, as I said, is unimportant.
>>
>>I posted the function just to make my question clearer. From a glance
>>you may be able to tell I am calling db data and tables that if during
>>the upgrade were changed in name or whatever (I know 3.0 brought a lot
>>of DB changes, I just dunno which ones!)
>>
>>Thanks for trying to address my issue more consistently. Hope my
>>question is clearer now.
>>
>>
>>
>>On Thu, Jan 20, 2011 at 5:14 PM, Eric Mann <eric at eam.me> wrote:
>>>>
>>>> Hi,
>>>> I know this may seem a topic coming late, but I have an issue after
>>>> upgrading from 2.9.2 to 3.0.4 I cannot figure out.
>>>> So I was wondering if you could help me out replying to this question.
>>>>
>>>
>>> First and foremost, this list isn't for support requests. ?Those should
>>>be
>>> directed to the support forums: http://wordpress.org/support.
>>>
>>> Secondly, no one can begin to help you solve your "issue" if we don't
>>>know
>>> what the issue is. ?Now we've seen what you tried, but what problem are
>>>you
>>> facing? ?Is WordPress returning an error? ?Are you getting a strangely
>>> rendered screen? ?Are posts missing after the upgrade? ?What other
>>> plug-ins/theme/modifications is your site running that could possibly
>>>have
>>> any interaction with your code?
>>>
>>>
>>>> Are queries or prefixes handled differently in 3.x?
>>>>
>>>> I have this function that works in conjunction with NGG, but the issue
>>>> here is not the plugin (tested). So it might be some parameter that
>>>> changed with 3.x
>>>> I bumped my head on wordpress.org searching for any note on this, but
>>>> could not find anything. Any hint is greatly appreciated! Below is the
>>>> function.
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>_______________________________________________
>>wp-hackers mailing list
>>wp-hackers at lists.automattic.com
>>http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From james at om4.com.au  Thu Jan 20 22:23:32 2011
From: james at om4.com.au (James Collins)
Date: Fri, 21 Jan 2011 09:23:32 +1100
Subject: [wp-hackers] Changes from 2.x.x to 3.x.x
In-Reply-To: <AANLkTi=8mHHZYXLTzjYUKwdBNSGrn5i_cj2RT=dV0z9q@mail.gmail.com>
References: <AANLkTim_gM93b=Dhe=p+-K5tZ455W+0+Y16mQ43k9hSk@mail.gmail.com>
	<C95DBB37.3B08%chris@clwill.com>
	<AANLkTi=8mHHZYXLTzjYUKwdBNSGrn5i_cj2RT=dV0z9q@mail.gmail.com>
Message-ID: <AANLkTi=QbLOqw6q+eF6n2PXtf+ta6jbORVSJsR1edMtL@mail.gmail.com>

I'm not sure of any specific changes that might affect your code, but you
might like to look at the following page which lists the exact changes
between 2.9.2 and 3.0.4:

http://core.trac.wordpress.org/changeset?old_path=%2Ftags%2F2.9.2&new_path=%2Ftags%2F3.0.4

James



On 21 January 2011 09:18, mailapera <mailapera at gmail.com> wrote:

> Hi,
> Thanks for your reply. I am sorry, stating my issue seemed to make my
> question a support one.
>
> Anyhow, what is not working is the function that creates a gallery and
> links it to a specific user and that post he is creating when the user
> saves the draft or send it for revision. It is a plugin working in
> junction with NGG. That is why I know NGG has nothing to do with this.
> I need to understand what changes were made in terms of DB queries and
> data handling in 3.0 to modify the plugin accordingly.
>
>
>
> On Thu, Jan 20, 2011 at 7:15 PM, Chris Williams <chris at clwill.com> wrote:
> > The operative question that you still haven't answered is what's not
> > working?  Are you getting an error?  I use NGG on several sites running
> > 3.x and they work fine.  What is the behavior problem you are seeing?
> >
> > On 1/20/11 8:42 AM, "mailapera" <mailapera at gmail.com> wrote:
> >
> >>Hi,
> >>Thanks for your reply.
> >>I know this is not support, but I thought my question was on the WP
> >>core. Is wp 3.0.x handling DB queries differently? The fact that there
> >>is a plugin involved, as I said, is unimportant.
> >>
> >>I posted the function just to make my question clearer. From a glance
> >>you may be able to tell I am calling db data and tables that if during
> >>the upgrade were changed in name or whatever (I know 3.0 brought a lot
> >>of DB changes, I just dunno which ones!)
> >>
> >>Thanks for trying to address my issue more consistently. Hope my
> >>question is clearer now.
> >>
> >>
> >>
> >>On Thu, Jan 20, 2011 at 5:14 PM, Eric Mann <eric at eam.me> wrote:
> >>>>
> >>>> Hi,
> >>>> I know this may seem a topic coming late, but I have an issue after
> >>>> upgrading from 2.9.2 to 3.0.4 I cannot figure out.
> >>>> So I was wondering if you could help me out replying to this question.
> >>>>
> >>>
> >>> First and foremost, this list isn't for support requests.  Those should
> >>>be
> >>> directed to the support forums: http://wordpress.org/support.
> >>>
> >>> Secondly, no one can begin to help you solve your "issue" if we don't
> >>>know
> >>> what the issue is.  Now we've seen what you tried, but what problem are
> >>>you
> >>> facing?  Is WordPress returning an error?  Are you getting a strangely
> >>> rendered screen?  Are posts missing after the upgrade?  What other
> >>> plug-ins/theme/modifications is your site running that could possibly
> >>>have
> >>> any interaction with your code?
> >>>
> >>>
> >>>> Are queries or prefixes handled differently in 3.x?
> >>>>
> >>>> I have this function that works in conjunction with NGG, but the issue
> >>>> here is not the plugin (tested). So it might be some parameter that
> >>>> changed with 3.x
> >>>> I bumped my head on wordpress.org searching for any note on this, but
> >>>> could not find anything. Any hint is greatly appreciated! Below is the
> >>>> function.
> >>>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >>_______________________________________________
> >>wp-hackers mailing list
> >>wp-hackers at lists.automattic.com
> >>http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mailapera at gmail.com  Thu Jan 20 22:35:54 2011
From: mailapera at gmail.com (mailapera)
Date: Thu, 20 Jan 2011 23:35:54 +0100
Subject: [wp-hackers] Changes from 2.x.x to 3.x.x
In-Reply-To: <AANLkTi=QbLOqw6q+eF6n2PXtf+ta6jbORVSJsR1edMtL@mail.gmail.com>
References: <AANLkTim_gM93b=Dhe=p+-K5tZ455W+0+Y16mQ43k9hSk@mail.gmail.com>
	<C95DBB37.3B08%chris@clwill.com>
	<AANLkTi=8mHHZYXLTzjYUKwdBNSGrn5i_cj2RT=dV0z9q@mail.gmail.com>
	<AANLkTi=QbLOqw6q+eF6n2PXtf+ta6jbORVSJsR1edMtL@mail.gmail.com>
Message-ID: <AANLkTin3w8dJNb5J8baiai8uG+FmGnJe4sn5ejMQ4Cxx@mail.gmail.com>

Thanks a lot! Was looking for something like that all day!

On Thu, Jan 20, 2011 at 11:23 PM, James Collins <james at om4.com.au> wrote:
> I'm not sure of any specific changes that might affect your code, but you
> might like to look at the following page which lists the exact changes
> between 2.9.2 and 3.0.4:
>
> http://core.trac.wordpress.org/changeset?old_path=%2Ftags%2F2.9.2&new_path=%2Ftags%2F3.0.4
>
> James
>
>
>
> On 21 January 2011 09:18, mailapera <mailapera at gmail.com> wrote:
>
>> Hi,
>> Thanks for your reply. I am sorry, stating my issue seemed to make my
>> question a support one.
>>
>> Anyhow, what is not working is the function that creates a gallery and
>> links it to a specific user and that post he is creating when the user
>> saves the draft or send it for revision. It is a plugin working in
>> junction with NGG. That is why I know NGG has nothing to do with this.
>> I need to understand what changes were made in terms of DB queries and
>> data handling in 3.0 to modify the plugin accordingly.
>>
>>
>>
>> On Thu, Jan 20, 2011 at 7:15 PM, Chris Williams <chris at clwill.com> wrote:
>> > The operative question that you still haven't answered is what's not
>> > working? ?Are you getting an error? ?I use NGG on several sites running
>> > 3.x and they work fine. ?What is the behavior problem you are seeing?
>> >
>> > On 1/20/11 8:42 AM, "mailapera" <mailapera at gmail.com> wrote:
>> >
>> >>Hi,
>> >>Thanks for your reply.
>> >>I know this is not support, but I thought my question was on the WP
>> >>core. Is wp 3.0.x handling DB queries differently? The fact that there
>> >>is a plugin involved, as I said, is unimportant.
>> >>
>> >>I posted the function just to make my question clearer. From a glance
>> >>you may be able to tell I am calling db data and tables that if during
>> >>the upgrade were changed in name or whatever (I know 3.0 brought a lot
>> >>of DB changes, I just dunno which ones!)
>> >>
>> >>Thanks for trying to address my issue more consistently. Hope my
>> >>question is clearer now.
>> >>
>> >>
>> >>
>> >>On Thu, Jan 20, 2011 at 5:14 PM, Eric Mann <eric at eam.me> wrote:
>> >>>>
>> >>>> Hi,
>> >>>> I know this may seem a topic coming late, but I have an issue after
>> >>>> upgrading from 2.9.2 to 3.0.4 I cannot figure out.
>> >>>> So I was wondering if you could help me out replying to this question.
>> >>>>
>> >>>
>> >>> First and foremost, this list isn't for support requests. ?Those should
>> >>>be
>> >>> directed to the support forums: http://wordpress.org/support.
>> >>>
>> >>> Secondly, no one can begin to help you solve your "issue" if we don't
>> >>>know
>> >>> what the issue is. ?Now we've seen what you tried, but what problem are
>> >>>you
>> >>> facing? ?Is WordPress returning an error? ?Are you getting a strangely
>> >>> rendered screen? ?Are posts missing after the upgrade? ?What other
>> >>> plug-ins/theme/modifications is your site running that could possibly
>> >>>have
>> >>> any interaction with your code?
>> >>>
>> >>>
>> >>>> Are queries or prefixes handled differently in 3.x?
>> >>>>
>> >>>> I have this function that works in conjunction with NGG, but the issue
>> >>>> here is not the plugin (tested). So it might be some parameter that
>> >>>> changed with 3.x
>> >>>> I bumped my head on wordpress.org searching for any note on this, but
>> >>>> could not find anything. Any hint is greatly appreciated! Below is the
>> >>>> function.
>> >>>>
>> >>> _______________________________________________
>> >>> wp-hackers mailing list
>> >>> wp-hackers at lists.automattic.com
>> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>>
>> >>_______________________________________________
>> >>wp-hackers mailing list
>> >>wp-hackers at lists.automattic.com
>> >>http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From Gavin.Pearce at 3seven9.com  Fri Jan 21 15:01:29 2011
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Fri, 21 Jan 2011 15:01:29 -0000
Subject: [wp-hackers] Wordpress in Multiple Environments
In-Reply-To: <0986E78A-FF79-442D-B90F-03B40B4255F3@newclarity.net>
References: <93E2EFE6-D949-41BF-B52A-13000C42318C@teamcolab.com><AANLkTik-p7sd2V+YJ=jBWT_MgmMoK+=iAJcVS8CFRxNn@mail.gmail.com>
	<0986E78A-FF79-442D-B90F-03B40B4255F3@newclarity.net>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E3DDF@tbs-sbs01.TBS.local>

> How does that address the URLs saved to the 
> database by images uploaded when in the staging environment?

Clarification on that point would be interesting - going to check/test
in a second as am unsure myself.

Still think we need a better "built-in" solution if WordPress is ever to
be taken seriously as a corporate CMS - but I won't open up that can of
worms again.

Gav

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mike
Schinkel
Sent: 17 January 2011 01:30
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Wordpress in Multiple Environments

On Jan 16, 2011, at 8:07 PM, Andrew Nacin wrote:
> The simplest solution is to run an output buffer in staging that
rewrites
> any live links. Works extremely well and doesn't put any additional
burden
> onto the production site. It also helps in a number of other areas
outside
> the media library. You might want to conditionally filter the uploads
stuff
> anyway the same way you're filtering home and siteurl.
> 
> It could literally be as simple as this in wp-config.php:
> 
> ob_start( 'mysite_staging_links' );
> function mysite_staging_links( $content ) {
>   return str_replace( 'http://mysite.com/',
'http://staging.mysite.com',
> $content );
> }

How does that address the URLs saved to the database by images uploaded
when in the staging environment? 

-Mike
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From steve at sltaylor.co.uk  Fri Jan 21 18:35:50 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Fri, 21 Jan 2011 18:35:50 +0000
Subject: [wp-hackers] profiles for authors with no posts
Message-ID: <AANLkTik-GDRCXf0Ltwyfm_-fqCdLf5yFBxFFcj4RmP2Y@mail.gmail.com>

Hi folks,

I'm working on a theme for an online academic journal. Because it's
structured based on articles grouped by issue, I'm using a custom post
type for articles, and a custom field to assign them to an issue.

The problem is that by default the /author/authors-name/ permalink
returns a 404 if they have no posts - presumably this is purely based
on posts of the post_type "post"!

I can think of a few ways round this, but before I dive in, I thought
I'd ask - what's the most elegant way anyone here's achieved this?

Furthermore, is this an issue worth raising? I might be missing a Trac
ticket, but a quick search found nothing. Surely author profiles
should accommodate custom post types? What about pages even?

cheers,

Steve

From philip at frumph.net  Fri Jan 21 18:51:30 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Fri, 21 Jan 2011 10:51:30 -0800
Subject: [wp-hackers] profiles for authors with no posts
In-Reply-To: <AANLkTik-GDRCXf0Ltwyfm_-fqCdLf5yFBxFFcj4RmP2Y@mail.gmail.com>
References: <AANLkTik-GDRCXf0Ltwyfm_-fqCdLf5yFBxFFcj4RmP2Y@mail.gmail.com>
Message-ID: <67CE1B34D58F460194E4F838F19A11AD@frumph.net>

I just add the other post types to the pre_get_posts filter $wp_query->set 
with a conditional for those pages

the if (is_author()) will denote that it's an author page

  add_filter('pre_get_posts', 'mytheme_add_post_type_to_query');

  function 'mytheme_add_post_type_to_query($query) {
   if ($query->is_author) {
    $query->set('post_type', array('post', 
'customposttype','customposttype'));
   }
   return $query;
  }

writing this from memory so not sure if it will work, but maybe it's a lead 
in for you to look into



----- Original Message ----- 
From: "Steve Taylor" <steve at sltaylor.co.uk>
To: "wp-hackers" <wp-hackers at lists.automattic.com>
Sent: Friday, January 21, 2011 10:35 AM
Subject: [wp-hackers] profiles for authors with no posts


> Hi folks,
>
> I'm working on a theme for an online academic journal. Because it's
> structured based on articles grouped by issue, I'm using a custom post
> type for articles, and a custom field to assign them to an issue.
>
> The problem is that by default the /author/authors-name/ permalink
> returns a 404 if they have no posts - presumably this is purely based
> on posts of the post_type "post"!
>
> I can think of a few ways round this, but before I dive in, I thought
> I'd ask - what's the most elegant way anyone here's achieved this?
>
> Furthermore, is this an issue worth raising? I might be missing a Trac
> ticket, but a quick search found nothing. Surely author profiles
> should accommodate custom post types? What about pages even?
>
> cheers,
>
> Steve
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From steve at sltaylor.co.uk  Fri Jan 21 19:44:42 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Fri, 21 Jan 2011 19:44:42 +0000
Subject: [wp-hackers] profiles for authors with no posts
In-Reply-To: <67CE1B34D58F460194E4F838F19A11AD@frumph.net>
References: <AANLkTik-GDRCXf0Ltwyfm_-fqCdLf5yFBxFFcj4RmP2Y@mail.gmail.com>
	<67CE1B34D58F460194E4F838F19A11AD@frumph.net>
Message-ID: <AANLkTimc_qyHpFgTGrUcQ5uRK-y+aRNXcE3Vyw9bnMEo@mail.gmail.com>

Thanks, Philip, works great.

I was thinking about intercepting the 404 - I definitely need to get
in the habit of tweaking the default query more!

cheers,

Steve

On 21 January 2011 18:51, Philip M. Hofer (Frumph) <philip at frumph.net> wrote:
> I just add the other post types to the pre_get_posts filter $wp_query->set
> with a conditional for those pages
>
> the if (is_author()) will denote that it's an author page
>
> ?add_filter('pre_get_posts', 'mytheme_add_post_type_to_query');
>
> ?function 'mytheme_add_post_type_to_query($query) {
> ?if ($query->is_author) {
> ? $query->set('post_type', array('post',
> 'customposttype','customposttype'));
> ?}
> ?return $query;
> ?}
>
> writing this from memory so not sure if it will work, but maybe it's a lead
> in for you to look into
>
>
>
> ----- Original Message ----- From: "Steve Taylor" <steve at sltaylor.co.uk>
> To: "wp-hackers" <wp-hackers at lists.automattic.com>
> Sent: Friday, January 21, 2011 10:35 AM
> Subject: [wp-hackers] profiles for authors with no posts
>
>
>> Hi folks,
>>
>> I'm working on a theme for an online academic journal. Because it's
>> structured based on articles grouped by issue, I'm using a custom post
>> type for articles, and a custom field to assign them to an issue.
>>
>> The problem is that by default the /author/authors-name/ permalink
>> returns a 404 if they have no posts - presumably this is purely based
>> on posts of the post_type "post"!
>>
>> I can think of a few ways round this, but before I dive in, I thought
>> I'd ask - what's the most elegant way anyone here's achieved this?
>>
>> Furthermore, is this an issue worth raising? I might be missing a Trac
>> ticket, but a quick search found nothing. Surely author profiles
>> should accommodate custom post types? What about pages even?
>>
>> cheers,
>>
>> Steve
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From justin at justintadlock.com  Sat Jan 22 19:42:49 2011
From: justin at justintadlock.com (Justin Tadlock)
Date: Sat, 22 Jan 2011 13:42:49 -0600
Subject: [wp-hackers] profiles for authors with no posts
In-Reply-To: <AANLkTik-GDRCXf0Ltwyfm_-fqCdLf5yFBxFFcj4RmP2Y@mail.gmail.com>
References: <AANLkTik-GDRCXf0Ltwyfm_-fqCdLf5yFBxFFcj4RmP2Y@mail.gmail.com>
Message-ID: <4D3B3339.9030905@justintadlock.com>

There's no way for WordPress to know how your custom post types are 
intended to be used.  It's all about the implementation rather than the 
registration.  They're custom, after all.

Anyway, you shouldn't get a 404 on that page.  It should be a 200 
status.  I assume your theme is incorrectly displaying a 404 message.

Hook into pre_get_posts though to change the posts displayed on the page.

On 1/21/2011 12:35 PM, Steve Taylor wrote:
> Hi folks,
>
> I'm working on a theme for an online academic journal. Because it's
> structured based on articles grouped by issue, I'm using a custom post
> type for articles, and a custom field to assign them to an issue.
>
> The problem is that by default the /author/authors-name/ permalink
> returns a 404 if they have no posts - presumably this is purely based
> on posts of the post_type "post"!
>
> I can think of a few ways round this, but before I dive in, I thought
> I'd ask - what's the most elegant way anyone here's achieved this?
>
> Furthermore, is this an issue worth raising? I might be missing a Trac
> ticket, but a quick search found nothing. Surely author profiles
> should accommodate custom post types? What about pages even?
>
> cheers,
>
> Steve
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From krichele at kfeathers.com  Fri Jan 21 20:20:34 2011
From: krichele at kfeathers.com (kris feathers)
Date: Fri, 21 Jan 2011 15:20:34 -0500
Subject: [wp-hackers] active link on menu when on a post
Message-ID: <AANLkTikXYKmfSEf_u_E_DoDVv+v1f2vXTevWONdUstV2@mail.gmail.com>

Hello ya'll
I was wondering if you could point me in the right direction. I want my
"blog" link to stay highlighted when someone is viewing a post. The theme is
Twenty Ten... How do I do that?
Is there a function?
Thank you!
Kris

From aesqe at skyphe.org  Fri Jan 21 20:35:54 2011
From: aesqe at skyphe.org (aesqe)
Date: Fri, 21 Jan 2011 21:35:54 +0100
Subject: [wp-hackers] active link on menu when on a post
In-Reply-To: <AANLkTikXYKmfSEf_u_E_DoDVv+v1f2vXTevWONdUstV2@mail.gmail.com>
References: <AANLkTikXYKmfSEf_u_E_DoDVv+v1f2vXTevWONdUstV2@mail.gmail.com>
Message-ID: <4D39EE2A.9090703@skyphe.org>

you can filter the menu css classes. try something like this (be aware 
that this function does not take custom post types or taxonomies in 
account - just posts, pages and categories):

function filter_nav_menu_css_class( $classes, $item )
{
	if( is_singular() )
	{
		global $post;
		
		if( is_page() )
		{
			if( in_array($item->object_id, $post->ancestors) )
				$classes[] = 'current-menu-item';
		}
		else // post
		{
			if( 'category' == $item->object )
			{
				$categories = get_term_children( $item->object_id, 'category');
				$categories[] = $item->object_id;

				if( in_category($categories, $post->ID) )
					$classes[] = 'current-menu-item';
			}
		}
	}
	
	return $classes;
}
add_filter('nav_menu_css_class', 'filter_nav_menu_css_class', 10, 2);



On 21.1.2011 21:20, kris feathers wrote:
> Hello ya'll
> I was wondering if you could point me in the right direction. I want my
> "blog" link to stay highlighted when someone is viewing a post. The theme is
> Twenty Ten... How do I do that?
> Is there a function?
> Thank you!
> Kris
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From piemanek at gmail.com  Fri Jan 21 22:40:13 2011
From: piemanek at gmail.com (Simon Blackbourn)
Date: Fri, 21 Jan 2011 22:40:13 +0000
Subject: [wp-hackers] Users without edit_posts capability can't edit page
	revisions
Message-ID: <AANLkTinuPPLwq1d_0S0HM5YVNDPsW5rqf_2RucMtaB=J@mail.gmail.com>

I have a site where some users can only edit pages, not posts, but have just
discovered during a training session that these users can't then choose
revisions of pages. the list of page revisions is there, but with no
clickable links in it.

it seems that using the page revision feature requires edit_posts capability
- i presume this is a bug?

i've searched trac but can't find a ticket for this - does one exist? if
not, i'll open a new one for it.

cheers
simon

From banago at gmail.com  Fri Jan 21 22:43:46 2011
From: banago at gmail.com (Baki Goxhaj)
Date: Fri, 21 Jan 2011 23:43:46 +0100
Subject: [wp-hackers] Users without edit_posts capability can't edit
	page revisions
In-Reply-To: <AANLkTinuPPLwq1d_0S0HM5YVNDPsW5rqf_2RucMtaB=J@mail.gmail.com>
References: <AANLkTinuPPLwq1d_0S0HM5YVNDPsW5rqf_2RucMtaB=J@mail.gmail.com>
Message-ID: <AANLkTinM-koAUpHWNLACkX9FP1cVwN9HtADvC28MK40i@mail.gmail.com>

Revisions are  a different custom post type, so you need to give user
capibility to edit revisions.

On 1/21/11, Simon Blackbourn <piemanek at gmail.com> wrote:
> I have a site where some users can only edit pages, not posts, but have just
> discovered during a training session that these users can't then choose
> revisions of pages. the list of page revisions is there, but with no
> clickable links in it.
>
> it seems that using the page revision feature requires edit_posts capability
> - i presume this is a bug?
>
> i've searched trac but can't find a ticket for this - does one exist? if
> not, i'll open a new one for it.
>
> cheers
> simon
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

-- 
Sent from my mobile device

Kindly,

Baki Goxhaj
www.wplancer.com | www.banago.info | proverbhunter.com

From nanogwp at gmail.com  Mon Jan 24 09:47:41 2011
From: nanogwp at gmail.com (Robert Lusby)
Date: Mon, 24 Jan 2011 09:47:41 +0000
Subject: [wp-hackers] Hiding email address output
Message-ID: <AANLkTik_oXsSwDcaUOWCZUVvT12OJtrHEYCMhe2DPEBm@mail.gmail.com>

Hello,

Looking at automatically hiding email addresses across posts/pages within
our WordPress install.

We have the function below, (kindly borrowed from Manakor). What would be
the best hook/filter to call this function?

Obviously it needs to run against every bit of content outputted:
"tep_rewrite_email($content)".

Keen to avoid output buffering, as it causes a noticeable load time increase
across our site.

Thanks!

Robert

1function tep_rewrite_email($content) {
2  $email_patt =
'([A-Za-z0-9._%-]+)\@([A-Za-z0-9._%-]+)\.([A-Za-z0-9._%-]+)';
3  $mailto_pattern = '#\<a[^>]*?href=\"mailto:\s?' . $email_patt .
'[^>]*?\>[^>]*?<\/a\>#';
4  $rewrite_result = '<span class="mailme">\\1 AT \\2 DOT \\3</span>';
5
6  $content = preg_replace($mailto_pattern, $rewrite_result, $content);
7  $content = preg_replace('#' . $email_patt . '#', $rewrite_result,
$content);
8
9  // remember to add return here
10  return $content;
11}

From peter.westwood at ftwr.co.uk  Mon Jan 24 10:06:42 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon, 24 Jan 2011 10:06:42 +0000
Subject: [wp-hackers] Hiding email address output
In-Reply-To: <AANLkTik_oXsSwDcaUOWCZUVvT12OJtrHEYCMhe2DPEBm@mail.gmail.com>
References: <AANLkTik_oXsSwDcaUOWCZUVvT12OJtrHEYCMhe2DPEBm@mail.gmail.com>
Message-ID: <9029A933-6D6B-4E67-BCA6-773DFD0472B8@ftwr.co.uk>


On 24 Jan 2011, at 09:47, Robert Lusby wrote:

> Hello,
> 
> Looking at automatically hiding email addresses across posts/pages within
> our WordPress install.
> 
> We have the function below, (kindly borrowed from Manakor). What would be
> the best hook/filter to call this function?
> 
> Obviously it needs to run against every bit of content outputted:
> "tep_rewrite_email($content)".

You want to hook into at least the following filters:

the_content, comment_text, the_excerpt, the_title, comment_excerpt

Plus probably the _rss versions where they exist.

Looking at the add_filter calls for the core formatting functions in wp-includes/default-filters.php would be a good idea

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From eddie at teamcolab.com  Mon Jan 24 14:27:46 2011
From: eddie at teamcolab.com (Eddie O'Leary)
Date: Mon, 24 Jan 2011 09:27:46 -0500
Subject: [wp-hackers] Resource Profiling
Message-ID: <AANLkTiknboZqT64B+gWjeowb=M5+EvtyaLoV=4v4f-Pw@mail.gmail.com>

For WordPress sites that are very high traffic, do you have any specific
techniques for database and memory profiling?

We would like to take a systematic approach to evaluating the memory usage
of specific pages and, more importantly, specific plugins.

My first thought is to just use a process of elimination and look at the
server stats.

I am sure we are use different techniques for this.

-- 
Eddie O'Leary
President
CO+LAB Multimedia

201 W 7th St.
Richmond, VA 23224
www.teamcolab.com

804-433-3582 office
804-475-4502 cellular

From info at swordstudios.net  Mon Jan 24 15:34:49 2011
From: info at swordstudios.net (SWORD Studios)
Date: Mon, 24 Jan 2011 10:34:49 -0500
Subject: [wp-hackers] Contact Author
Message-ID: <-7948563675209454335@unknownmsgid>

I have a few ideas in mind for this but I'd love to hear what you all think.

I want to create a form that is visible on every post.  The form when
filled out will send to the author of the posts email address and the
address in general -> settings.

I'm in the process of creating this now.  My question is when is the
best/most secure time to locate the authors email address?

Comments by Jesse Friedman
Spelling by iPad

From banago at gmail.com  Mon Jan 24 15:37:44 2011
From: banago at gmail.com (Baki Goxhaj)
Date: Mon, 24 Jan 2011 16:37:44 +0100
Subject: [wp-hackers] Contact Author
In-Reply-To: <-7948563675209454335@unknownmsgid>
References: <-7948563675209454335@unknownmsgid>
Message-ID: <AANLkTi=zSOi6=Mq7aJtbFirMsHBNv5DWYEjKKmYwiZT5@mail.gmail.com>

What do you worry about?

The email address will be a PHP variable, no body will be able to look at
it.

Kindly,

Baki Goxhaj
www.wplancer.com | www.banago.info | proverbhunter.com


On 24 January 2011 16:34, SWORD Studios <info at swordstudios.net> wrote:

> I have a few ideas in mind for this but I'd love to hear what you all
> think.
>
> I want to create a form that is visible on every post.  The form when
> filled out will send to the author of the posts email address and the
> address in general -> settings.
>
> I'm in the process of creating this now.  My question is when is the
> best/most secure time to locate the authors email address?
>
> Comments by Jesse Friedman
> Spelling by iPad
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chip at chipbennett.net  Mon Jan 24 15:40:15 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Mon, 24 Jan 2011 09:40:15 -0600
Subject: [wp-hackers] Contact Author
In-Reply-To: <AANLkTi=zSOi6=Mq7aJtbFirMsHBNv5DWYEjKKmYwiZT5@mail.gmail.com>
References: <-7948563675209454335@unknownmsgid>
	<AANLkTi=zSOi6=Mq7aJtbFirMsHBNv5DWYEjKKmYwiZT5@mail.gmail.com>
Message-ID: <AANLkTi=HyThp1WZaS7RVYdmyTfu7Vpshn69GVSGR3xax@mail.gmail.com>

That's what I was wondering.

Just use get_the_author_meta( 'user_email'
)<http://codex.wordpress.org/Function_Reference/the_author_meta>.
There should be no safety concerns with its usage.

Chip

On Mon, Jan 24, 2011 at 9:37 AM, Baki Goxhaj <banago at gmail.com> wrote:

> What do you worry about?
>
> The email address will be a PHP variable, no body will be able to look at
> it.
>
> Kindly,
>
> Baki Goxhaj
> www.wplancer.com | www.banago.info | proverbhunter.com
>
>
> On 24 January 2011 16:34, SWORD Studios <info at swordstudios.net> wrote:
>
> > I have a few ideas in mind for this but I'd love to hear what you all
> > think.
> >
> > I want to create a form that is visible on every post.  The form when
> > filled out will send to the author of the posts email address and the
> > address in general -> settings.
> >
> > I'm in the process of creating this now.  My question is when is the
> > best/most secure time to locate the authors email address?
> >
> > Comments by Jesse Friedman
> > Spelling by iPad
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From piemanek at gmail.com  Mon Jan 24 17:05:01 2011
From: piemanek at gmail.com (Simon Blackbourn)
Date: Mon, 24 Jan 2011 17:05:01 +0000
Subject: [wp-hackers] Users without edit_posts capability can't edit
	page revisions
In-Reply-To: <AANLkTinM-koAUpHWNLACkX9FP1cVwN9HtADvC28MK40i@mail.gmail.com>
References: <AANLkTinuPPLwq1d_0S0HM5YVNDPsW5rqf_2RucMtaB=J@mail.gmail.com>
	<AANLkTinM-koAUpHWNLACkX9FP1cVwN9HtADvC28MK40i@mail.gmail.com>
Message-ID: <AANLkTi=CAn17YgU4+DwiChRf+-daCTPSpjDQRa8VGG9K@mail.gmail.com>

> Revisions are  a different custom post type, so you need to give user
> capibility to edit revisions.
>
>
ok, so i've just done some digging around in the code and can see that while
revisions are indeed a custom post type, they have the capability_type
posts. there is no such thing as an edit_revisions capability that i can see
- users must have the edit_posts capability.

is there any other solution that doesn't involve giving those users the
edit_posts capability?

From dennen at gmail.com  Mon Jan 24 20:14:46 2011
From: dennen at gmail.com (Bill Dennen)
Date: Mon, 24 Jan 2011 15:14:46 -0500
Subject: [wp-hackers] Accessing custom post types and taxonomies across
	sites on a network
Message-ID: <AANLkTi=6ORssgpEE1=6ceSKpehJtniROJ_iWbu1G+KQj@mail.gmail.com>

Hi,

We're using Multisite at a college -- each academic department has a
site on the network.

One one site, we've defined a custom post type (faculty_profile). One
that site, we also have a custom taxonomy defined (departments). As
you might guess, the custom post type is for faculty profiles (each
faculty member has one). Each profile is assigned to one or more
departments using the custom taxonomy departments.

One department sites, we'd like to be able to pull in a list of
faculty belonging to that particular department. For example, on the
Economics site, we'd like to display a list of all of the Economics
faculty.

To accomplish this, I thought I'd use switch_to_blog(), like this:

switch_to_blog(152);

$args = array (
'post_type' => 'faculty_profile',
'orderby' => 'meta_value',
'meta_key' => 'sortby',
'order' => 'ASC',
'posts_per_page' => -1,
);

query_posts( $args );

< do LOOP stuff >

wp_reset_query();

restore_current_blog();

This works fine. However, if I augment $args by passing it:

$args['departments'] = 'Economics';

I get nothing. It seems as though the taxonomy is not registered,
which I suppose makes some sense since the taxonomy on the profiles
site is registered in the theme that is unique to that site.

So, my question is this -- what is the right way to do this? Do I
temporarily define the taxonomy after switch_to_blog? or, is there a
better way to do this?

Thanks-
Bill

From d at danielbachhuber.com  Mon Jan 24 20:23:17 2011
From: d at danielbachhuber.com (Daniel Bachhuber)
Date: Mon, 24 Jan 2011 15:23:17 -0500
Subject: [wp-hackers] Accessing custom post types and taxonomies across
	sites on a network
In-Reply-To: <AANLkTi=6ORssgpEE1=6ceSKpehJtniROJ_iWbu1G+KQj@mail.gmail.com>
References: <AANLkTi=6ORssgpEE1=6ceSKpehJtniROJ_iWbu1G+KQj@mail.gmail.com>
Message-ID: <6CCB2B25-0518-4F4A-BE8C-905596E620BE@danielbachhuber.com>

Hey Bill,
Have you considered using a plugin like JSON API (http://db.ly/xc) to make the data accessible via API, and then just load the data with AJAX? We're doing this on our homepage to load posts from network blogs and it works well enough:

http://www.journalism.cuny.edu/

Our code is on GitHub if you'd like to peruse:

https://github.com/cunyjschool/CUNY-J-School/blob/master/js/main.js

Cheers,

Daniel

On 24 Jan 2011, at 3:14 PM, Bill Dennen wrote:

> Hi,
> 
> We're using Multisite at a college -- each academic department has a
> site on the network.
> 
> One one site, we've defined a custom post type (faculty_profile). One
> that site, we also have a custom taxonomy defined (departments). As
> you might guess, the custom post type is for faculty profiles (each
> faculty member has one). Each profile is assigned to one or more
> departments using the custom taxonomy departments.
> 
> One department sites, we'd like to be able to pull in a list of
> faculty belonging to that particular department. For example, on the
> Economics site, we'd like to display a list of all of the Economics
> faculty.
> 
> To accomplish this, I thought I'd use switch_to_blog(), like this:
> 
> switch_to_blog(152);
> 
> $args = array (
> 'post_type' => 'faculty_profile',
> 'orderby' => 'meta_value',
> 'meta_key' => 'sortby',
> 'order' => 'ASC',
> 'posts_per_page' => -1,
> );
> 
> query_posts( $args );
> 
> < do LOOP stuff >
> 
> wp_reset_query();
> 
> restore_current_blog();
> 
> This works fine. However, if I augment $args by passing it:
> 
> $args['departments'] = 'Economics';
> 
> I get nothing. It seems as though the taxonomy is not registered,
> which I suppose makes some sense since the taxonomy on the profiles
> site is registered in the theme that is unique to that site.
> 
> So, my question is this -- what is the right way to do this? Do I
> temporarily define the taxonomy after switch_to_blog? or, is there a
> better way to do this?
> 
> Thanks-
> Bill
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

--
http://db.ly/info


From dennen at gmail.com  Mon Jan 24 20:31:41 2011
From: dennen at gmail.com (Bill Dennen)
Date: Mon, 24 Jan 2011 15:31:41 -0500
Subject: [wp-hackers] Accessing custom post types and taxonomies across
 sites on a network
In-Reply-To: <6CCB2B25-0518-4F4A-BE8C-905596E620BE@danielbachhuber.com>
References: <AANLkTi=6ORssgpEE1=6ceSKpehJtniROJ_iWbu1G+KQj@mail.gmail.com>
	<6CCB2B25-0518-4F4A-BE8C-905596E620BE@danielbachhuber.com>
Message-ID: <AANLkTim++0Tj1urRWaGUc4eSjcso2rBZ57xbJgDT_JjR@mail.gmail.com>

> Have you considered using a plugin like JSON API (http://db.ly/xc) to make the data accessible via API, and then just load the data with AJAX?

Thanks Daniel. I'd considered using JSON and ajax, but did not go very
far down that route. My hope was to do it via WordPress API, though.

Perhaps this is an unwarranted concern, but I'd be worried about
Googlebot indexing the "Economics faculty" page, and having it be
empty, if we used ajax to load the list of faculty. (unless you meant
use JSON on the backend?)

-Bill

From d at danielbachhuber.com  Mon Jan 24 20:44:01 2011
From: d at danielbachhuber.com (Daniel Bachhuber)
Date: Mon, 24 Jan 2011 15:44:01 -0500
Subject: [wp-hackers] Accessing custom post types and taxonomies across
	sites on a network
In-Reply-To: <AANLkTim++0Tj1urRWaGUc4eSjcso2rBZ57xbJgDT_JjR@mail.gmail.com>
References: <AANLkTi=6ORssgpEE1=6ceSKpehJtniROJ_iWbu1G+KQj@mail.gmail.com>
	<6CCB2B25-0518-4F4A-BE8C-905596E620BE@danielbachhuber.com>
	<AANLkTim++0Tj1urRWaGUc4eSjcso2rBZ57xbJgDT_JjR@mail.gmail.com>
Message-ID: <C63AE32F-0B7B-4016-A1BF-FCD3139DDA15@danielbachhuber.com>


> Perhaps this is an unwarranted concern, but I'd be worried about
> Googlebot indexing the "Economics faculty" page, and having it be
> empty, if we used ajax to load the list of faculty. (unless you meant
> use JSON on the backend?)

You could make the JSON request with PHP as well, and then cache the result for 24 hours or something. I've run into problems with switch_to_blog() as well. This would probably be the approach I'd take.

Cheers,

Daniel

From gcorne at bu.edu  Mon Jan 24 21:02:05 2011
From: gcorne at bu.edu (Cornelius, Gregory)
Date: Mon, 24 Jan 2011 16:02:05 -0500
Subject: [wp-hackers] Accessing custom post types and taxonomies
	across	sites on a network
In-Reply-To: <C63AE32F-0B7B-4016-A1BF-FCD3139DDA15@danielbachhuber.com>
References: <AANLkTi=6ORssgpEE1=6ceSKpehJtniROJ_iWbu1G+KQj@mail.gmail.com>
	<6CCB2B25-0518-4F4A-BE8C-905596E620BE@danielbachhuber.com>
	<AANLkTim++0Tj1urRWaGUc4eSjcso2rBZ57xbJgDT_JjR@mail.gmail.com>
	<C63AE32F-0B7B-4016-A1BF-FCD3139DDA15@danielbachhuber.com>
Message-ID: <0509AF89-CB31-4B2C-8D31-5E2D75D3766C@bu.edu>

> You could make the JSON request with PHP as well, and then cache the result for 24 hours or something. I've run into problems with switch_to_blog() as well. This would probably be the approach I'd take.

This is probably because switch_to_blog does not load/execute activated plugins and the current theme/parent theme functions.php file for the blog that is being switched to for obvious reasons.

There is a 'switch_blog' action that could come in handy. 

Where is the taxonomy being registered? In the theme?


From dennen at gmail.com  Mon Jan 24 21:48:34 2011
From: dennen at gmail.com (Bill Dennen)
Date: Mon, 24 Jan 2011 16:48:34 -0500
Subject: [wp-hackers] Accessing custom post types and taxonomies across
 sites on a network
In-Reply-To: <0509AF89-CB31-4B2C-8D31-5E2D75D3766C@bu.edu>
References: <AANLkTi=6ORssgpEE1=6ceSKpehJtniROJ_iWbu1G+KQj@mail.gmail.com>
	<6CCB2B25-0518-4F4A-BE8C-905596E620BE@danielbachhuber.com>
	<AANLkTim++0Tj1urRWaGUc4eSjcso2rBZ57xbJgDT_JjR@mail.gmail.com>
	<C63AE32F-0B7B-4016-A1BF-FCD3139DDA15@danielbachhuber.com>
	<0509AF89-CB31-4B2C-8D31-5E2D75D3766C@bu.edu>
Message-ID: <AANLkTikox7uLUNvax+1gg8G7prEFE0vkPwLfreyaAFJQ@mail.gmail.com>

> Where is the taxonomy being registered? In the theme?

Thanks, yes, in this case it's being registered in the theme that the
profiles site is using. It's not registered elsewhere.

My ultimate goal is to create a shortcode. Something like:

[department_roster dept="Economics"]

This would produce an unordered list of faculty in the Economics department.

There may be other options too, like:

[department_roster dept="Economics" show_photos="true"
show_titles="true" show_degrees="true"]

In this case, the list of faculty would also include their photos,
titles and degrees.

Back to your question, I suppose I could just define the taxonomy in
mu-plugins. But, then it would be defined in a lot of sites that would
not need it. Too much overhead?

I know people do not seem to like switch_to_blog in general. But, it
seems like it's made for this sort of thing - where WordPress is
basically an enterprise-wide CMS. While using JSON would work, it
seems to be an odd approach, since everything is already in WordPress
to begin with.

-Bill

From philip at frumph.net  Mon Jan 24 22:21:34 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Mon, 24 Jan 2011 14:21:34 -0800
Subject: [wp-hackers] Accessing custom post types and taxonomies across
	sites on a network
In-Reply-To: <AANLkTikox7uLUNvax+1gg8G7prEFE0vkPwLfreyaAFJQ@mail.gmail.com>
References: <AANLkTi=6ORssgpEE1=6ceSKpehJtniROJ_iWbu1G+KQj@mail.gmail.com><6CCB2B25-0518-4F4A-BE8C-905596E620BE@danielbachhuber.com><AANLkTim++0Tj1urRWaGUc4eSjcso2rBZ57xbJgDT_JjR@mail.gmail.com><C63AE32F-0B7B-4016-A1BF-FCD3139DDA15@danielbachhuber.com><0509AF89-CB31-4B2C-8D31-5E2D75D3766C@bu.edu>
	<AANLkTikox7uLUNvax+1gg8G7prEFE0vkPwLfreyaAFJQ@mail.gmail.com>
Message-ID: <23B3D68A256742B2A3F5AE6914B35141@frumph.net>

I would use a custom sql query on wp_1_posts to search for the post_type in 
question, and/or taxonomy table that directly queries the wp_# blog that has 
all the info on it, instead of trying to reinvent any unnecessary overhead

You can do that in your with your shortcode code, wouldn't need to 
switch_blogs since all the data is in the database anyways, would need to 
write your own sql query lines though that hits the table for the blog that 
has all the info in it though but thats it.

It also means that the editing of the information sticks with whatever blog 
has the custom post types in it and any url redirects need to hit the blog 
as well that has it defined.

But, totally doable.



----- Original Message ----- 
From: "Bill Dennen" <dennen at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, January 24, 2011 1:48 PM
Subject: Re: [wp-hackers] Accessing custom post types and taxonomies across 
sites on a network


>> Where is the taxonomy being registered? In the theme?
>
> Thanks, yes, in this case it's being registered in the theme that the
> profiles site is using. It's not registered elsewhere.
>
> My ultimate goal is to create a shortcode. Something like:
>
> [department_roster dept="Economics"]
>
> This would produce an unordered list of faculty in the Economics 
> department.
>
> There may be other options too, like:
>
> [department_roster dept="Economics" show_photos="true"
> show_titles="true" show_degrees="true"]
>
> In this case, the list of faculty would also include their photos,
> titles and degrees.
>
> Back to your question, I suppose I could just define the taxonomy in
> mu-plugins. But, then it would be defined in a lot of sites that would
> not need it. Too much overhead?
>
> I know people do not seem to like switch_to_blog in general. But, it
> seems like it's made for this sort of thing - where WordPress is
> basically an enterprise-wide CMS. While using JSON would work, it
> seems to be an odd approach, since everything is already in WordPress
> to begin with.
>
> -Bill
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From gcorne at bu.edu  Mon Jan 24 22:45:08 2011
From: gcorne at bu.edu (Cornelius, Gregory)
Date: Mon, 24 Jan 2011 17:45:08 -0500
Subject: [wp-hackers] Accessing custom post types and taxonomies across
 sites on a network
In-Reply-To: <AANLkTikox7uLUNvax+1gg8G7prEFE0vkPwLfreyaAFJQ@mail.gmail.com>
References: <AANLkTi=6ORssgpEE1=6ceSKpehJtniROJ_iWbu1G+KQj@mail.gmail.com>
	<6CCB2B25-0518-4F4A-BE8C-905596E620BE@danielbachhuber.com>
	<AANLkTim++0Tj1urRWaGUc4eSjcso2rBZ57xbJgDT_JjR@mail.gmail.com>
	<C63AE32F-0B7B-4016-A1BF-FCD3139DDA15@danielbachhuber.com>
	<0509AF89-CB31-4B2C-8D31-5E2D75D3766C@bu.edu>
	<AANLkTikox7uLUNvax+1gg8G7prEFE0vkPwLfreyaAFJQ@mail.gmail.com>
Message-ID: <874FF83E-6877-40FD-94D1-0773E16B2B42@bu.edu>

> 
> Back to your question, I suppose I could just define the taxonomy in
> mu-plugins. But, then it would be defined in a lot of sites that would
> not need it. Too much overhead?


After looking at your initial code again and WP_Query, I suspect that if you specify the term *and* the taxonomy, the fact that the taxonomy is not registered will not matter.

$args = array (
'post_type' => 'faculty_profile',
'orderby' => 'meta_value',
'meta_key' => 'sortby',
'order' => 'ASC',
'posts_per_page' => -1,
'taxonomy' => 'departments',
'term' => 'economics'
);

Note: I am not sure whether this is the intended behavior or not. Looking at 3.1-RC3 this is changed for some reason.

##3.0.4

if ( $this->is_tax ) {
                        if ( '' != $q['taxonomy'] ) {
                                $taxonomy = $q['taxonomy'];
                                $tt[$taxonomy] = $q['term'];
                        } else {
                                foreach ( $GLOBALS['wp_taxonomies'] as $taxonomy => $t ) {
				//stuff
				}
			}
}

## ---

# 3.1-RC3 

              if ( !empty($q['taxonomy']) && !empty($q['term']) ) {
			$tax_query[] = array(
				'taxonomy' => $q['taxonomy'],
				'terms' => array( $q['term'] ),
				'field' => 'slug',
			);
		}

		foreach ( $GLOBALS['wp_taxonomies'] as $taxonomy => $t ) {
			if ( $t->query_var && !empty( $q[$t->query_var] ) ) {
				$tax_query_defaults = array(
					'taxonomy' => $taxonomy,
					'field' => 'slug',
				); 
		


From dennen at gmail.com  Tue Jan 25 00:56:40 2011
From: dennen at gmail.com (Bill Dennen)
Date: Mon, 24 Jan 2011 19:56:40 -0500
Subject: [wp-hackers] Accessing custom post types and taxonomies across
 sites on a network
In-Reply-To: <874FF83E-6877-40FD-94D1-0773E16B2B42@bu.edu>
References: <AANLkTi=6ORssgpEE1=6ceSKpehJtniROJ_iWbu1G+KQj@mail.gmail.com>
	<6CCB2B25-0518-4F4A-BE8C-905596E620BE@danielbachhuber.com>
	<AANLkTim++0Tj1urRWaGUc4eSjcso2rBZ57xbJgDT_JjR@mail.gmail.com>
	<C63AE32F-0B7B-4016-A1BF-FCD3139DDA15@danielbachhuber.com>
	<0509AF89-CB31-4B2C-8D31-5E2D75D3766C@bu.edu>
	<AANLkTikox7uLUNvax+1gg8G7prEFE0vkPwLfreyaAFJQ@mail.gmail.com>
	<874FF83E-6877-40FD-94D1-0773E16B2B42@bu.edu>
Message-ID: <AANLkTinr9uLNG6x4w=1B_7+i7Dt6X=0S8p_=6Hmp-i0S@mail.gmail.com>

On Mon, Jan 24, 2011 at 5:45 PM, Cornelius, Gregory <gcorne at bu.edu> wrote:
> After looking at your initial code again and WP_Query, I suspect that if you specify the term *and* the taxonomy, the fact that the taxonomy is not registered will not matter.

Thanks. This does not seem to work in 3.0.4. If the taxonomy is not
registered (locally), I get nothing.

That is, it doesn't work with this:

$args = array (

'post_type' => 'faculty_profile',
'orderby' => 'meta_value',
'meta_key' => 'sortby',
'order' => 'ASC',
'posts_per_page' => -1,
);

if ( $dept ) {

$args['taxonomy'] = 'departments';
$args['term'] = $dept;

}

$dept is the value of $_GET['dept'] (for testing).

-Bill

From gcorne at bu.edu  Tue Jan 25 15:05:51 2011
From: gcorne at bu.edu (Cornelius, Gregory)
Date: Tue, 25 Jan 2011 10:05:51 -0500
Subject: [wp-hackers] Accessing custom post types and taxonomies across
 sites on a network
In-Reply-To: <AANLkTinr9uLNG6x4w=1B_7+i7Dt6X=0S8p_=6Hmp-i0S@mail.gmail.com>
References: <AANLkTi=6ORssgpEE1=6ceSKpehJtniROJ_iWbu1G+KQj@mail.gmail.com>
	<6CCB2B25-0518-4F4A-BE8C-905596E620BE@danielbachhuber.com>
	<AANLkTim++0Tj1urRWaGUc4eSjcso2rBZ57xbJgDT_JjR@mail.gmail.com>
	<C63AE32F-0B7B-4016-A1BF-FCD3139DDA15@danielbachhuber.com>
	<0509AF89-CB31-4B2C-8D31-5E2D75D3766C@bu.edu>
	<AANLkTikox7uLUNvax+1gg8G7prEFE0vkPwLfreyaAFJQ@mail.gmail.com>
	<874FF83E-6877-40FD-94D1-0773E16B2B42@bu.edu>
	<AANLkTinr9uLNG6x4w=1B_7+i7Dt6X=0S8p_=6Hmp-i0S@mail.gmail.com>
Message-ID: <C6D96934-4F77-48EB-9A46-5A2B0E7AFA7C@bu.edu>

My mistake. I didn't dig deep enough into the stack.

get_terms requires that the taxonomy be a registered taxonomy, which makes sense.

On Jan 24, 2011, at 7:56 PM, Bill Dennen wrote:

> On Mon, Jan 24, 2011 at 5:45 PM, Cornelius, Gregory <gcorne at bu.edu> wrote:
>> After looking at your initial code again and WP_Query, I suspect that if you specify the term *and* the taxonomy, the fact that the taxonomy is not registered will not matter.
> 
> Thanks. This does not seem to work in 3.0.4. If the taxonomy is not
> registered (locally), I get nothing.
> 
> That is, it doesn't work with this:
> 
> $args = array (
> 
> 'post_type' => 'faculty_profile',
> 'orderby' => 'meta_value',
> 'meta_key' => 'sortby',
> 'order' => 'ASC',
> 'posts_per_page' => -1,
> );
> 
> if ( $dept ) {
> 
> $args['taxonomy'] = 'departments';
> $args['term'] = $dept;
> 
> }
> 
> $dept is the value of $_GET['dept'] (for testing).
> 
> -Bill
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From dvmorris at gmail.com  Tue Jan 25 16:24:25 2011
From: dvmorris at gmail.com (dave morris)
Date: Tue, 25 Jan 2011 08:24:25 -0800 (PST)
Subject: [wp-hackers] HyperDB seems to be causing an unusual number of PING
	to the database
Message-ID: <125bba77-eb0b-410a-8ae8-9c832bcd9e54@k14g2000pre.googlegroups.com>

I am using HyperDB with WordPress 3.0.1, and I have a MySQL network
sniffer setup to log all database traffic. I have a master write db
server and two slave read servers right now.

While analyzing some of the log files the other day, I noticed an
unusual number of PING and CONNECT requests, and I'm wondering if this
may be caused by my HyperDB configuration. Here is an example from the
sniffer logs of a 10 minute period of time. There are 600K+ PING
requests:

# Profile
# Rank Query ID           Response time    Calls  R/Call   Apdx V/M
Item
# ==== ================== ================ ====== ======== ==== =====
====
#    1 0x5D51E5F01B88B79E  1730.0760 78.0%  15216   0.1137 1.00 32...
ADMIN CONNECT
#    2 0x04FE01C5B31FD305    74.5528  3.4% 604880   0.0001 1.00  0.67
ADMIN PING
#    3 0x23C8A0F1ED72D23D    57.2139  2.6%  17758   0.0032 1.00  0.02
SELECT wp_?_posts
#    4 0xE0E902FB71244C1E    41.6918  1.9%   2540   0.0164 1.00  0.09
SELECT wp_?_posts
#    5 0xDAADAC0539F80EE6    27.2083  1.2% 175902   0.0002 1.00  0.00
SELECT wp_sitemeta
...

This happened during a high traffic day, but it's still making me
curious whether I should modify my HyperDB configuration. I have
tcp_responsiveness_check on, and persistent off right now. Could this
be causing the large number of PINGs and CONNECTs?

If I turn on persistent connections and turn off
tcp_responsiveness_check, what other implications will that have on my
current setup?

Thanks for your help,
Dave

From jpotkanski at tribune.com  Tue Jan 25 16:50:45 2011
From: jpotkanski at tribune.com (Potkanski, Jason)
Date: Tue, 25 Jan 2011 10:50:45 -0600
Subject: [wp-hackers] HyperDB seems to be causing an unusual number of
 PING	to the database
In-Reply-To: <125bba77-eb0b-410a-8ae8-9c832bcd9e54@k14g2000pre.googlegroups.com>
References: <125bba77-eb0b-410a-8ae8-9c832bcd9e54@k14g2000pre.googlegroups.com>
Message-ID: <7A06A0AED9867C4C8B285D2D5D60B19C54DB5DA027@FCWPMB06.usa.tribune.com>

The number of pings does not seem to be all that unusual. The CONNECT response time does seems a bit long.

Have you run mysqltuner against your production dbs? See http://blog.mysqltuner.com/ . Extensive Mysql tuning is not for this list. Mysql workbench has some nice realtime graphs as well.

Also, check your DNS server that it isn't overloaded. Replacing the entry with the IP address may save you connect time. 

During a lot of our various "panics" here we always start looking at the database server. The case has always been that the DB server is generally fine, that we had overloaded PHP instances, a poorly written plugin, etc. 

Jason Potkanski
Tribune Technology, Back-End Support

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of dave morris
Sent: Tuesday, January 25, 2011 10:24 AM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] HyperDB seems to be causing an unusual number of PING to the database

I am using HyperDB with WordPress 3.0.1, and I have a MySQL network
sniffer setup to log all database traffic. I have a master write db
server and two slave read servers right now.

While analyzing some of the log files the other day, I noticed an
unusual number of PING and CONNECT requests, and I'm wondering if this
may be caused by my HyperDB configuration. Here is an example from the
sniffer logs of a 10 minute period of time. There are 600K+ PING
requests:

# Profile
# Rank Query ID           Response time    Calls  R/Call   Apdx V/M
Item
# ==== ================== ================ ====== ======== ==== =====
====
#    1 0x5D51E5F01B88B79E  1730.0760 78.0%  15216   0.1137 1.00 32...
ADMIN CONNECT
#    2 0x04FE01C5B31FD305    74.5528  3.4% 604880   0.0001 1.00  0.67
ADMIN PING
#    3 0x23C8A0F1ED72D23D    57.2139  2.6%  17758   0.0032 1.00  0.02
SELECT wp_?_posts
#    4 0xE0E902FB71244C1E    41.6918  1.9%   2540   0.0164 1.00  0.09
SELECT wp_?_posts
#    5 0xDAADAC0539F80EE6    27.2083  1.2% 175902   0.0002 1.00  0.00
SELECT wp_sitemeta
...

This happened during a high traffic day, but it's still making me
curious whether I should modify my HyperDB configuration. I have
tcp_responsiveness_check on, and persistent off right now. Could this
be causing the large number of PINGs and CONNECTs?

If I turn on persistent connections and turn off
tcp_responsiveness_check, what other implications will that have on my
current setup?

Thanks for your help,
Dave
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From banago at gmail.com  Tue Jan 25 18:03:42 2011
From: banago at gmail.com (Baki Goxhaj)
Date: Tue, 25 Jan 2011 19:03:42 +0100
Subject: [wp-hackers] add_post_meta won't save unescaped data. Why?
Message-ID: <AANLkTimRJmi9JF+=c=dj4hu4-+SUhtpFGw7gcYoHDM2U@mail.gmail.com>

Hi Hackers,

So, I was trying to insert some meta data to a post inserted by
wp_insert_post. It would not save the metadata and I found this solution:
http://wordpress.org/support/topic/bug-add_post_meta-update_post_meta

Basically, the unenscaped data will be not saved.

*Doesn't: *add_post_meta($post_id, 'json-data', $json_string);

*Works: *add_post_meta($post_id, 'json-data', $wpdb->escape($json_string));


Lea and I have the following questions:* Is this a bug or a feature?
*
Kindly,

Baki Goxhaj
www.wplancer.com | www.banago.info | proverbhunter.com

From wordpress at zed1.com  Tue Jan 25 21:54:28 2011
From: wordpress at zed1.com (Mike Little)
Date: Tue, 25 Jan 2011 21:54:28 +0000
Subject: [wp-hackers] Accessing custom post types and taxonomies across
 sites on a network
In-Reply-To: <C6D96934-4F77-48EB-9A46-5A2B0E7AFA7C@bu.edu>
References: <AANLkTi=6ORssgpEE1=6ceSKpehJtniROJ_iWbu1G+KQj@mail.gmail.com>
	<6CCB2B25-0518-4F4A-BE8C-905596E620BE@danielbachhuber.com>
	<AANLkTim++0Tj1urRWaGUc4eSjcso2rBZ57xbJgDT_JjR@mail.gmail.com>
	<C63AE32F-0B7B-4016-A1BF-FCD3139DDA15@danielbachhuber.com>
	<0509AF89-CB31-4B2C-8D31-5E2D75D3766C@bu.edu>
	<AANLkTikox7uLUNvax+1gg8G7prEFE0vkPwLfreyaAFJQ@mail.gmail.com>
	<874FF83E-6877-40FD-94D1-0773E16B2B42@bu.edu>
	<AANLkTinr9uLNG6x4w=1B_7+i7Dt6X=0S8p_=6Hmp-i0S@mail.gmail.com>
	<C6D96934-4F77-48EB-9A46-5A2B0E7AFA7C@bu.edu>
Message-ID: <AANLkTikFhp6Y=FqEOrLufFdE1oGs0fu3JSS-qFnQ5unX@mail.gmail.com>

Bill,

Why not include the content from the faculty site as an RSS feed into the
department site. Do it using the built in WordPress RSS engine cache it
(with a timeout) and render it appropriately,

If there is a query on the faculty site that will retrieve all the staff in
a specific department, added /feed to that URL or a feed=rss2 query var will
render that content as RSS which can be consumed and displayed by any of the
other sites. No trickery involved -- standard WordPress functionality.
And if you wanted to display them in a sidebar there is already a widget for
that. If you want to turn that into a short code handler take a look at the
RSS feed widget code.


Mike
-- 
Mike Little
http://zed1.com/

From wordpress at dd32.id.au  Tue Jan 25 22:13:09 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Wed, 26 Jan 2011 09:13:09 +1100
Subject: [wp-hackers] add_post_meta won't save unescaped data. Why?
In-Reply-To: <AANLkTimRJmi9JF+=c=dj4hu4-+SUhtpFGw7gcYoHDM2U@mail.gmail.com>
References: <AANLkTimRJmi9JF+=c=dj4hu4-+SUhtpFGw7gcYoHDM2U@mail.gmail.com>
Message-ID: <op.vpvxb6i1spxmuu@ho.st>

Unfortunately all the metadata API's expect slashed input data:  
http://core.trac.wordpress.org/browser/trunk/wp-includes/meta.php#L45

I'm not sure why that was carried over into add_metadata() when it was  
implemented, Ideally it should've stayed in add_post_meta() and friends..

But there you have it, It's yet another "backwards compatible" feature :)

On Wed, 26 Jan 2011 05:03:42 +1100, Baki Goxhaj <banago at gmail.com> wrote:

> Hi Hackers,
>
> So, I was trying to insert some meta data to a post inserted by
> wp_insert_post. It would not save the metadata and I found this solution:
> http://wordpress.org/support/topic/bug-add_post_meta-update_post_meta
>
> Basically, the unenscaped data will be not saved.
>
> *Doesn't: *add_post_meta($post_id, 'json-data', $json_string);
>
> *Works: *add_post_meta($post_id, 'json-data',  
> $wpdb->escape($json_string));
>
>
> Lea and I have the following questions:* Is this a bug or a feature?
> *
> Kindly,
>
> Baki Goxhaj
> www.wplancer.com | www.banago.info | proverbhunter.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse / dd32
Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

From dennen at gmail.com  Tue Jan 25 23:09:49 2011
From: dennen at gmail.com (Bill Dennen)
Date: Tue, 25 Jan 2011 18:09:49 -0500
Subject: [wp-hackers] Accessing custom post types and taxonomies across
 sites on a network
In-Reply-To: <AANLkTikFhp6Y=FqEOrLufFdE1oGs0fu3JSS-qFnQ5unX@mail.gmail.com>
References: <AANLkTi=6ORssgpEE1=6ceSKpehJtniROJ_iWbu1G+KQj@mail.gmail.com>
	<6CCB2B25-0518-4F4A-BE8C-905596E620BE@danielbachhuber.com>
	<AANLkTim++0Tj1urRWaGUc4eSjcso2rBZ57xbJgDT_JjR@mail.gmail.com>
	<C63AE32F-0B7B-4016-A1BF-FCD3139DDA15@danielbachhuber.com>
	<0509AF89-CB31-4B2C-8D31-5E2D75D3766C@bu.edu>
	<AANLkTikox7uLUNvax+1gg8G7prEFE0vkPwLfreyaAFJQ@mail.gmail.com>
	<874FF83E-6877-40FD-94D1-0773E16B2B42@bu.edu>
	<AANLkTinr9uLNG6x4w=1B_7+i7Dt6X=0S8p_=6Hmp-i0S@mail.gmail.com>
	<C6D96934-4F77-48EB-9A46-5A2B0E7AFA7C@bu.edu>
	<AANLkTikFhp6Y=FqEOrLufFdE1oGs0fu3JSS-qFnQ5unX@mail.gmail.com>
Message-ID: <AANLkTi=2vcJCJCwQFNvBFXpk0YnvvniXVWCJTruBbi95@mail.gmail.com>

> Why not include the content from the faculty site as an RSS feed into the
> department site. Do it using the built in WordPress RSS engine cache it
> (with a timeout) and render it appropriately,

Thanks-

I think RSS would work for generating simple lists of the profiles.
But, RSS does not include any custom fields. So, we would not be able
to pull over those custom fields with the default feeds.

-Bill

From wordpress at zed1.com  Tue Jan 25 23:40:19 2011
From: wordpress at zed1.com (Mike Little)
Date: Tue, 25 Jan 2011 23:40:19 +0000
Subject: [wp-hackers] Accessing custom post types and taxonomies across
 sites on a network
In-Reply-To: <AANLkTi=2vcJCJCwQFNvBFXpk0YnvvniXVWCJTruBbi95@mail.gmail.com>
References: <AANLkTi=6ORssgpEE1=6ceSKpehJtniROJ_iWbu1G+KQj@mail.gmail.com>
	<6CCB2B25-0518-4F4A-BE8C-905596E620BE@danielbachhuber.com>
	<AANLkTim++0Tj1urRWaGUc4eSjcso2rBZ57xbJgDT_JjR@mail.gmail.com>
	<C63AE32F-0B7B-4016-A1BF-FCD3139DDA15@danielbachhuber.com>
	<0509AF89-CB31-4B2C-8D31-5E2D75D3766C@bu.edu>
	<AANLkTikox7uLUNvax+1gg8G7prEFE0vkPwLfreyaAFJQ@mail.gmail.com>
	<874FF83E-6877-40FD-94D1-0773E16B2B42@bu.edu>
	<AANLkTinr9uLNG6x4w=1B_7+i7Dt6X=0S8p_=6Hmp-i0S@mail.gmail.com>
	<C6D96934-4F77-48EB-9A46-5A2B0E7AFA7C@bu.edu>
	<AANLkTikFhp6Y=FqEOrLufFdE1oGs0fu3JSS-qFnQ5unX@mail.gmail.com>
	<AANLkTi=2vcJCJCwQFNvBFXpk0YnvvniXVWCJTruBbi95@mail.gmail.com>
Message-ID: <AANLkTi=easeZiM1VhKK1t3Xj_4HASB04AR3-u45QLvTs@mail.gmail.com>

On 25 January 2011 23:09, Bill Dennen <dennen at gmail.com> wrote:

> > Why not include the content from the faculty site as an RSS feed into the
> > department site. Do it using the built in WordPress RSS engine cache it
> > (with a timeout) and render it appropriately,
>
> Thanks-
>
> I think RSS would work for generating simple lists of the profiles.
> But, RSS does not include any custom fields. So, we would not be able
> to pull over those custom fields with the default feeds.
>
> -Bill
>

There are two actions you should investigate: 'rss2_ns' and 'rss2_item'.
The first gives you an opportunity to add some custom namespace extensions
to the feed root tag. The second allows you to output any extra tags
(prefixed with your custom namespace) before the closing item tag.

If you are the only one consuming the extended feeds, you dont' really have
to define a DTD for your extension.

 _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at zed1.com  Tue Jan 25 23:41:39 2011
From: wordpress at zed1.com (Mike Little)
Date: Tue, 25 Jan 2011 23:41:39 +0000
Subject: [wp-hackers] Accessing custom post types and taxonomies across
 sites on a network
In-Reply-To: <AANLkTi=easeZiM1VhKK1t3Xj_4HASB04AR3-u45QLvTs@mail.gmail.com>
References: <AANLkTi=6ORssgpEE1=6ceSKpehJtniROJ_iWbu1G+KQj@mail.gmail.com>
	<6CCB2B25-0518-4F4A-BE8C-905596E620BE@danielbachhuber.com>
	<AANLkTim++0Tj1urRWaGUc4eSjcso2rBZ57xbJgDT_JjR@mail.gmail.com>
	<C63AE32F-0B7B-4016-A1BF-FCD3139DDA15@danielbachhuber.com>
	<0509AF89-CB31-4B2C-8D31-5E2D75D3766C@bu.edu>
	<AANLkTikox7uLUNvax+1gg8G7prEFE0vkPwLfreyaAFJQ@mail.gmail.com>
	<874FF83E-6877-40FD-94D1-0773E16B2B42@bu.edu>
	<AANLkTinr9uLNG6x4w=1B_7+i7Dt6X=0S8p_=6Hmp-i0S@mail.gmail.com>
	<C6D96934-4F77-48EB-9A46-5A2B0E7AFA7C@bu.edu>
	<AANLkTikFhp6Y=FqEOrLufFdE1oGs0fu3JSS-qFnQ5unX@mail.gmail.com>
	<AANLkTi=2vcJCJCwQFNvBFXpk0YnvvniXVWCJTruBbi95@mail.gmail.com>
	<AANLkTi=easeZiM1VhKK1t3Xj_4HASB04AR3-u45QLvTs@mail.gmail.com>
Message-ID: <AANLkTikZMkXFz7dGfSVUt4fzy3cecxtajmg+hmxyeo3f@mail.gmail.com>

Looks like  my mail got truncated., ...

On 25 January 2011 23:40, Mike Little <wordpress at zed1.com> wrote:

> On 25 January 2011 23:09, Bill Dennen <dennen at gmail.com> wrote:
>
>> > Why not include the content from the faculty site as an RSS feed into
>> the
>> > department site. Do it using the built in WordPress RSS engine cache it
>> > (with a timeout) and render it appropriately,
>>
>> Thanks-
>>
>> I think RSS would work for generating simple lists of the profiles.
>> But, RSS does not include any custom fields. So, we would not be able
>> to pull over those custom fields with the default feeds.
>>
>> -Bill
>>
>
> There are two actions you should investigate: 'rss2_ns' and 'rss2_item'.
> The first gives you an opportunity to add some custom namespace extensions
> to the feed root tag. The second allows you to output any extra tags
> (prefixed with your custom namespace) before the closing item tag.
>
> If you are the only one consuming the extended feeds, you dont' really have
> to define a DTD for your extension.
>
>

add_action( 'rss2_ns', array( &$this, 'rss2_ns' ) );
add_action( 'rss2_item', array( &$this, 'rss2_item' ) );

function rss2_ns() {
 echo 'xmlns:faculty="http://your.domain.com/rss/2.0/faculty/"';
} // end rss2_ns

function rss2_item() {
  global $post;
  if ( 'faculty' === $post->post_type ) {
    $extra1 = get_post_meta( $post->ID, 'faculty_extra1', true );
    $extra2 = get_post_meta( $post->ID, 'faculty_extra2', true );
    echo '<faculty:extra1>' . $extra1 . '</faculty:extra1>';
    echo '<faculty:extra2>' . $extra2 . '</faculty:extra2>';
  }
} // end rss2_item








>   _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>


-- 
Mike Little
http://zed1.com/

From anca at anca.tv  Tue Jan 25 23:57:11 2011
From: anca at anca.tv (Anca Mosoiu)
Date: Tue, 25 Jan 2011 15:57:11 -0800
Subject: [wp-hackers] Accessing custom post types and taxonomies
In-Reply-To: <mailman.37577.1295998931.1338.wp-hackers@lists.automattic.com>
References: <mailman.37577.1295998931.1338.wp-hackers@lists.automattic.com>
Message-ID: <7C25B23B-1A6D-4189-B07A-AC23B05D81E5@anca.tv>

Hello Mike and Bill,

I had a similar issue (aggregating data from multiple sites on a network 
and displaying them on a homepage) and the solution we initially tried was 
RSS, but this created some really bad performance issues.  When we 
displayed a page with about 7 widgets displaying data from Feeds 
(within the different departments) it would take over 1 minute to render 
the front page.

Performance tuning determined that 58 seconds were being taken up
getting the RSS feed data (which was then cached in a Transient) but
I didn't know how to remedy this problem.

I wound up writing a custom widget that queried the database directly
to retrieve the data from the sub-sites.

I'd love to make it work with RSS, because that provides a huge amount
more flexibility, but I'm not sure how to get past the performance issues.

Cheers,

Anca.


Performance tracking 
On Jan 25, 2011, at 3:42 PM, wp-hackers-request at lists.automattic.com wrote:

> Message: 5
> Date: Tue, 25 Jan 2011 21:54:28 +0000
> From: Mike Little <wordpress at zed1.com>
> 
> Bill,
> 
> Why not include the content from the faculty site as an RSS feed into the
> department site. Do it using the built in WordPress RSS engine cache it
> (with a timeout) and render it appropriately,
> 
> If there is a query on the faculty site that will retrieve all the staff in
> a specific department, added /feed to that URL or a feed=rss2 query var will
> render that content as RSS which can be consumed and displayed by any of the
> other sites. No trickery involved -- standard WordPress functionality.
> And if you wanted to display them in a sidebar there is already a widget for
> that. If you want to turn that into a short code handler take a look at the
> RSS feed widget code.
> 
> 
> Mike
> -- 
> Mike Little
> http://zed1.com/


From wordpress at zed1.com  Wed Jan 26 00:13:53 2011
From: wordpress at zed1.com (Mike Little)
Date: Wed, 26 Jan 2011 00:13:53 +0000
Subject: [wp-hackers] Accessing custom post types and taxonomies
In-Reply-To: <7C25B23B-1A6D-4189-B07A-AC23B05D81E5@anca.tv>
References: <mailman.37577.1295998931.1338.wp-hackers@lists.automattic.com>
	<7C25B23B-1A6D-4189-B07A-AC23B05D81E5@anca.tv>
Message-ID: <AANLkTikcjgDdwF9t4pOKUyvcn5OzKimO2JbEGmDq5Nm4@mail.gmail.com>

I suspect a configuration issue could be a problem in your specific case.
Seven rss requests to the same server should not take that long. But there
could be an issue with resolving your own domain locally. I have seen
similar problems in the past that fit those symptoms.

Mike


On 25 January 2011 23:57, Anca Mosoiu <anca at anca.tv> wrote:

> Hello Mike and Bill,
>
> I had a similar issue (aggregating data from multiple sites on a network
> and displaying them on a homepage) and the solution we initially tried was
> RSS, but this created some really bad performance issues.  When we
> displayed a page with about 7 widgets displaying data from Feeds
> (within the different departments) it would take over 1 minute to render
> the front page.
>
> Performance tuning determined that 58 seconds were being taken up
> getting the RSS feed data (which was then cached in a Transient) but
> I didn't know how to remedy this problem.
>
> I wound up writing a custom widget that queried the database directly
> to retrieve the data from the sub-sites.
>
> I'd love to make it work with RSS, because that provides a huge amount
> more flexibility, but I'm not sure how to get past the performance issues.
>
> Cheers,
>
> Anca.
>
>
> Performance tracking
> On Jan 25, 2011, at 3:42 PM, wp-hackers-request at lists.automattic.comwrote:
>
> > Message: 5
> > Date: Tue, 25 Jan 2011 21:54:28 +0000
> > From: Mike Little <wordpress at zed1.com>
> >
> > Bill,
> >
> > Why not include the content from the faculty site as an RSS feed into the
> > department site. Do it using the built in WordPress RSS engine cache it
> > (with a timeout) and render it appropriately,
> >
> > If there is a query on the faculty site that will retrieve all the staff
> in
> > a specific department, added /feed to that URL or a feed=rss2 query var
> will
> > render that content as RSS which can be consumed and displayed by any of
> the
> > other sites. No trickery involved -- standard WordPress functionality.
> > And if you wanted to display them in a sidebar there is already a widget
> for
> > that. If you want to turn that into a short code handler take a look at
> the
> > RSS feed widget code.
> >
> >
> > Mike
> > --
> > Mike Little
> > http://zed1.com/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Mike Little
http://zed1.com/

From banago at gmail.com  Wed Jan 26 08:28:36 2011
From: banago at gmail.com (Baki Goxhaj)
Date: Wed, 26 Jan 2011 09:28:36 +0100
Subject: [wp-hackers] add_post_meta won't save unescaped data. Why?
In-Reply-To: <op.vpvxb6i1spxmuu@ho.st>
References: <AANLkTimRJmi9JF+=c=dj4hu4-+SUhtpFGw7gcYoHDM2U@mail.gmail.com>
	<op.vpvxb6i1spxmuu@ho.st>
Message-ID: <AANLkTimW+jfWRpU-yS0U8v6Ad0msKhTQsRx5ADUkrt8J@mail.gmail.com>

Thanks for pointing that out Dion.

However, even though it expects slashed meta_key, it saves the key as it is
given. At the same time it does not save the $meta_value at all unless it is
escaped. Is stripslashes_deep() causing that?

45 <http://core.trac.wordpress.org/browser/trunk/wp-includes/meta.php#L45>
      // expected_slashed
($meta_key)46<http://core.trac.wordpress.org/browser/trunk/wp-includes/meta.php#L46>
      $meta_key =
stripslashes($meta_key);47<http://core.trac.wordpress.org/browser/trunk/wp-includes/meta.php#L47>
      $meta_value = stripslashes_deep($meta_value);
Kindly,

Baki Goxhaj
www.wplancer.com | www.banago.info | proverbhunter.com


On 25 January 2011 23:13, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:

> Unfortunately all the metadata API's expect slashed input data:
> http://core.trac.wordpress.org/browser/trunk/wp-includes/meta.php#L45
>
> I'm not sure why that was carried over into add_metadata() when it was
> implemented, Ideally it should've stayed in add_post_meta() and friends..
>
> But there you have it, It's yet another "backwards compatible" feature :)
>
>
> On Wed, 26 Jan 2011 05:03:42 +1100, Baki Goxhaj <banago at gmail.com> wrote:
>
>  Hi Hackers,
>>
>> So, I was trying to insert some meta data to a post inserted by
>> wp_insert_post. It would not save the metadata and I found this solution:
>> http://wordpress.org/support/topic/bug-add_post_meta-update_post_meta
>>
>> Basically, the unenscaped data will be not saved.
>>
>> *Doesn't: *add_post_meta($post_id, 'json-data', $json_string);
>>
>> *Works: *add_post_meta($post_id, 'json-data',
>> $wpdb->escape($json_string));
>>
>>
>> Lea and I have the following questions:* Is this a bug or a feature?
>> *
>> Kindly,
>>
>> Baki Goxhaj
>> www.wplancer.com | www.banago.info | proverbhunter.com
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> --
> Dion Hulse / dd32
> Contact:
>  e: contact at dd32.id.au
>  Web: http://dd32.id.au/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mike_walsh at mindspring.com  Wed Jan 26 15:34:48 2011
From: mike_walsh at mindspring.com (Mike Walsh)
Date: Wed, 26 Jan 2011 10:34:48 -0500
Subject: [wp-hackers] Help with dbDelta
Message-ID: <02da01cbbd6e$91c9e110$b55da330$@com>

I have a plugin that manages a swim team that I've developed over the last
couple years.  It uses some custom tables to store all of the swim team
information.  I've used dbDelta() to create the tables in the past (based on
recommendations from the CodeEx and this list) and it has worked fine for
new tables or new columns in existing tables.  Yesterday I realized that one
of the tables had a mistake in it due to a typo.  I fixed it and changed the
database version number of use for checking and dbDelta() did not update the
table as I expected.  My question is this:

Is dbDelta() still the suggested method for creating and updating custom
tables?
What is the best way to check for and handle problems when dbDelta() does
not update a table?

Thanks,

Mike

--
Mike Walsh - mike underscore walsh at mindspring dot com



From cross at thisismyurl.com  Wed Jan 26 15:33:23 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Wed, 26 Jan 2011 11:33:23 -0400
Subject: [wp-hackers] Custom WordPress plugin server
Message-ID: <2C866979-BED0-47CD-B74B-6E32CE8CD4FC@thisismyurl.com>

A few months back, there was a writeup about how to create a plugin server for premium WP plugins. Can anybody share a link to the article for me? I remember reading it but can't find it now.

What I need to do is setup a plugin update server to co-exist with the built in WP plugin update checker but for proprietary plugins, these are installed on our network (100+ blogs) but not on WordPress.org. Mostly they're plugins that auto correct spelling of internal trademarks etc for our bloggers and not of general interest.

Any help would be greatly appreciated.

__

Christopher Ross

http://christopherross.ca
http://www.thisismyurl.com


From matt at sivel.net  Wed Jan 26 15:42:31 2011
From: matt at sivel.net (Matt Martz)
Date: Wed, 26 Jan 2011 09:42:31 -0600
Subject: [wp-hackers] Custom WordPress plugin server
In-Reply-To: <2C866979-BED0-47CD-B74B-6E32CE8CD4FC@thisismyurl.com>
References: <2C866979-BED0-47CD-B74B-6E32CE8CD4FC@thisismyurl.com>
Message-ID: <AANLkTi=sDGwD=rtswgrT_ORcS5LV6A0rQg4HFjtdryrZ@mail.gmail.com>

On Wed, Jan 26, 2011 at 9:33 AM, Christopher Ross <cross at thisismyurl.com> wrote:
> A few months back, there was a writeup about how to create a plugin server for premium WP plugins. Can anybody share a link to the article for me? I remember reading it but can't find it now.
>
> What I need to do is setup a plugin update server to co-exist with the built in WP plugin update checker but for proprietary plugins, these are installed on our network (100+ blogs) but not on WordPress.org. Mostly they're plugins that auto correct spelling of internal trademarks etc for our bloggers and not of general interest.
>
> Any help would be greatly appreciated.
>
> __
>
> Christopher Ross

I believe this is what you are looking for:

http://konstruktors.com/blog/wordpress/2538-automatic-updates-for-plugins-and-themes-hosted-outside-wordpress-extend/

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From krichele at kfeathers.com  Wed Jan 26 15:57:26 2011
From: krichele at kfeathers.com (kris feathers)
Date: Wed, 26 Jan 2011 10:57:26 -0500
Subject: [wp-hackers] making a post sticky within a category
Message-ID: <AANLkTi=rzRoThN++H2n+P6_ohrKZa=QR5TKQt2sdMWGh@mail.gmail.com>

Can I make a post sticky under it's category? I clicked sticky and it made
it stick to the homepage, but I want it to stick at the top under it's
category.

I know I can make a page, but I don't the page to show as another tab under
the category... I just want it to show up as a post under the category
without showing as a tab when someone hovers over that categories tab.

I don't know if that makes sense. Sorry.

From raven at mecus.es  Wed Jan 26 16:08:45 2011
From: raven at mecus.es (Rafael Poveda - RaveN)
Date: Wed, 26 Jan 2011 17:08:45 +0100
Subject: [wp-hackers] making a post sticky within a category
In-Reply-To: <AANLkTi=rzRoThN++H2n+P6_ohrKZa=QR5TKQt2sdMWGh@mail.gmail.com>
References: <AANLkTi=rzRoThN++H2n+P6_ohrKZa=QR5TKQt2sdMWGh@mail.gmail.com>
Message-ID: <AANLkTikrKkTq-QrAp3W5ayjfU3VDScAcduLg55KZMYkU@mail.gmail.com>

I think you can change your archive code and include something to have
sticky posts (look @
http://justintadlock.com/archives/2009/03/28/get-the-latest-sticky-posts-in-wordpress
)

I assume sticky posts are front page only by default. You want to highlight
a post there, while category pages are like archive pages.

Maybe it can be something selectable for next WordPress version. Something
like "Do you want your posts to be sticky in your category pages?"

--
Rafael Poveda <RaveN> | Mecus.es | raven at mecus.es | raven at raven.es |
twitter: bi0xid | gtalk: rafael.poveda | skype: nathaniel_ | +34.620.739.206



2011/1/26 kris feathers <krichele at kfeathers.com>

> Can I make a post sticky under it's category? I clicked sticky and it made
> it stick to the homepage, but I want it to stick at the top under it's
> category.
>
> I know I can make a page, but I don't the page to show as another tab under
> the category... I just want it to show up as a post under the category
> without showing as a tab when someone hovers over that categories tab.
>
> I don't know if that makes sense. Sorry.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chris at clwill.com  Wed Jan 26 16:11:57 2011
From: chris at clwill.com (Chris Williams)
Date: Wed, 26 Jan 2011 11:11:57 -0500
Subject: [wp-hackers] Help with dbDelta
In-Reply-To: <02da01cbbd6e$91c9e110$b55da330$@com>
Message-ID: <C9658680.45C2%chris@clwill.com>

In my experience dbdelta only really works to add fields/tables as you
have noted, but it does not support or handle field renames, type changes,
or eliminations.  To answer your questions, I think it is generally the
accepted method for table addition/update, but that custom update code is
required in cases outside that scenario.

On 1/26/11 7:34 AM, "Mike Walsh" <mike_walsh at mindspring.com> wrote:

>I have a plugin that manages a swim team that I've developed over the last
>couple years.  It uses some custom tables to store all of the swim team
>information.  I've used dbDelta() to create the tables in the past (based
>on
>recommendations from the CodeEx and this list) and it has worked fine for
>new tables or new columns in existing tables.  Yesterday I realized that
>one
>of the tables had a mistake in it due to a typo.  I fixed it and changed
>the
>database version number of use for checking and dbDelta() did not update
>the
>table as I expected.  My question is this:
>
>Is dbDelta() still the suggested method for creating and updating custom
>tables?
>What is the best way to check for and handle problems when dbDelta() does
>not update a table?
>
>Thanks,
>
>Mike
>
>--
>Mike Walsh - mike underscore walsh at mindspring dot com
>
>


From christophe.segui at math.univ-toulouse.fr  Wed Jan 26 16:43:11 2011
From: christophe.segui at math.univ-toulouse.fr (=?ISO-8859-1?Q?Christophe_S=E9gui?=)
Date: Wed, 26 Jan 2011 17:43:11 +0100
Subject: [wp-hackers] Issues with broken wp-admin urls
Message-ID: <4D404F1F.8050403@math.univ-toulouse.fr>

Hi,

i've just finish a brand new distributed setup and i ran into 2 few issues.

A word about the setup:
2 servers involved both running on debian stable. Wordpress version is 
3.0.4 +dfsg-1~bpo50+1.
The first one handeling client request and, through apache's rewriting 
and proxypass revers rules, ask another server and eventually get datas 
to send back to client.

Urls invoked by client ar on that form http://www.blah.com/~user/blog to 
be rewritten to http://user.blah.blah.com/

The first issue was with the settings side where url were not correctly 
rewritten due to, as far as it seems, a bug code.
The url called after trying to submit changes in the settings panel is 
not concatenated tu the base url site, ie: 
http://www.blah.com/~user/blog/wp-admin/options-general.php leads to 
http://www.blah.com/wp-admin/options-general.php?updated=true instead of 
http://www.blah.com/~user/blog/wp-admin/options-general.php?updated=true.

The second issue was on the dashboard part. Links, for example to 
configure, widgets are broken on the same way described above.

Here is a patch which fix this issue, just by concatenating site_url() 
in order to have a correct complete path just like everywhere else in 
the code (as far as i saw).... Is this relevant ?


Thanks,
Christophe



From christophe.segui at math.univ-toulouse.fr  Wed Jan 26 16:45:33 2011
From: christophe.segui at math.univ-toulouse.fr (=?ISO-8859-1?Q?Christophe_S=E9gui?=)
Date: Wed, 26 Jan 2011 17:45:33 +0100
Subject: [wp-hackers] Issues with broken wp-admin urls
In-Reply-To: <4D404F1F.8050403@math.univ-toulouse.fr>
References: <4D404F1F.8050403@math.univ-toulouse.fr>
Message-ID: <4D404FAD.50502@math.univ-toulouse.fr>

mmmh, sounds like mailman doesn't like miy patch .... anyway, here it is.

Index: segui/wordpress/wp-admin/includes/dashboard.php
===================================================================
--- segui.orig/wordpress/wp-admin/includes/dashboard.php    2011-01-26 
17:42:11.473753000 +0100
+++ segui/wordpress/wp-admin/includes/dashboard.php    2011-01-26 
17:42:33.938913000 +0100
@@ -130,7 +130,7 @@
              return;
          }
          list($url) = explode( '#', add_query_arg( 'edit', $widget_id 
), 2 );
-        $widget_name .= ' <span class="postbox-title-action"><a href="' 
. esc_url( "$url#$widget_id" ) . '" class="edit-box open-box">' . __( 
'Configure' ) . '</a></span>';
+        $widget_name .= ' <span class="postbox-title-action"><a href="' 
. site_url() . esc_url( "$url#$widget_id" ) . '" class="edit-box 
open-box">' . __( 'Configure' ) . '</a></span>';
      }
      $side_widgets = array('dashboard_quick_press', 
'dashboard_recent_drafts', 'dashboard_primary', 'dashboard_secondary');
      $location = 'normal';
Index: segui/wordpress/wp-admin/options.php
===================================================================
--- segui.orig/wordpress/wp-admin/options.php    2011-01-26 
17:41:42.890240000 +0100
+++ segui/wordpress/wp-admin/options.php    2011-01-26 
17:42:07.933453000 +0100
@@ -157,7 +157,7 @@
      /**
       * Redirect back to the settings page that was submitted
       */
-    $goback = add_query_arg( 'updated', 'true',  wp_get_referer() );
+    $goback = add_query_arg( 'updated', 'true',  site_url() . 
wp_get_referer() );
      wp_redirect( $goback );
      exit;
  }


Le 26/01/2011 17:43, Christophe S?gui a ?crit :
> Hi,
>
> i've just finish a brand new distributed setup and i ran into 2 few 
> issues.
>
> A word about the setup:
> 2 servers involved both running on debian stable. Wordpress version is 
> 3.0.4 +dfsg-1~bpo50+1.
> The first one handeling client request and, through apache's rewriting 
> and proxypass revers rules, ask another server and eventually get 
> datas to send back to client.
>
> Urls invoked by client ar on that form http://www.blah.com/~user/blog 
> to be rewritten to http://user.blah.blah.com/
>
> The first issue was with the settings side where url were not 
> correctly rewritten due to, as far as it seems, a bug code.
> The url called after trying to submit changes in the settings panel is 
> not concatenated tu the base url site, ie: 
> http://www.blah.com/~user/blog/wp-admin/options-general.php leads to 
> http://www.blah.com/wp-admin/options-general.php?updated=true instead 
> of 
> http://www.blah.com/~user/blog/wp-admin/options-general.php?updated=true.
>
> The second issue was on the dashboard part. Links, for example to 
> configure, widgets are broken on the same way described above.
>
> Here is a patch which fix this issue, just by concatenating site_url() 
> in order to have a correct complete path just like everywhere else in 
> the code (as far as i saw).... Is this relevant ?
>
>
> Thanks,
> Christophe
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    

From peter.westwood at ftwr.co.uk  Wed Jan 26 17:18:53 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 26 Jan 2011 17:18:53 +0000
Subject: [wp-hackers] Issues with broken wp-admin urls
In-Reply-To: <4D404FAD.50502@math.univ-toulouse.fr>
References: <4D404F1F.8050403@math.univ-toulouse.fr>
	<4D404FAD.50502@math.univ-toulouse.fr>
Message-ID: <9631A2C6-33F6-4D01-82CB-6A191C949C6B@ftwr.co.uk>


On 26 Jan 2011, at 16:45, Christophe S?gui wrote:

> mmmh, sounds like mailman doesn't like miy patch .... anyway, here it is.
> 
<SNIP>

Attachements are stripped on this list.

Patches should be post in trac: http://core.trac.wordpress.org

> 
> Le 26/01/2011 17:43, Christophe S?gui a ?crit :
>> Hi,
>> 
>> i've just finish a brand new distributed setup and i ran into 2 few issues.
>> 
>> A word about the setup:
>> 2 servers involved both running on debian stable. Wordpress version is 3.0.4 +dfsg-1~bpo50+1.
>> The first one handeling client request and, through apache's rewriting and proxypass revers rules, ask another server and eventually get datas to send back to client.
>> 
>> Urls invoked by client ar on that form http://www.blah.com/~user/blog to be rewritten to http://user.blah.blah.com/
>> 
>> The first issue was with the settings side where url were not correctly rewritten due to, as far as it seems, a bug code.
>> The url called after trying to submit changes in the settings panel is not concatenated tu the base url site, ie: http://www.blah.com/~user/blog/wp-admin/options-general.php leads to http://www.blah.com/wp-admin/options-general.php?updated=true instead of http://www.blah.com/~user/blog/wp-admin/options-general.php?updated=true.
>> 
>> The second issue was on the dashboard part. Links, for example to configure, widgets are broken on the same way described above.
>> 
>> Here is a patch which fix this issue, just by concatenating site_url() in order to have a correct complete path just like everywhere else in the code (as far as i saw).... Is this relevant ?
>> 

In your trac ticket you should also provide information about how you have configured the home and site urls in the real WP install compared to how they are accessed externally

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From wp-hackers at thecodecave.com  Wed Jan 26 18:12:40 2011
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Wed, 26 Jan 2011 13:12:40 -0500
Subject: [wp-hackers] HyperDB seems to be causing an unusual number of
 PING	to the database
In-Reply-To: <125bba77-eb0b-410a-8ae8-9c832bcd9e54@k14g2000pre.googlegroups.com>
References: <125bba77-eb0b-410a-8ae8-9c832bcd9e54@k14g2000pre.googlegroups.com>
Message-ID: <4D406418.4000308@thecodecave.com>

On 1/25/2011 11:24 AM, dave morris wrote:
> I am using HyperDB with WordPress 3.0.1
You might also try posting to 
http://lists.automattic.com/mailman/listinfo/hyperdb  Though it is not a 
very busy list, maybe we can change that.

-- 
Brian Layman
http://eHermitsInc.com
Managed WordPress Hosting


From mda at blogwaffe.com  Wed Jan 26 20:05:07 2011
From: mda at blogwaffe.com (Michael D Adams)
Date: Wed, 26 Jan 2011 12:05:07 -0800
Subject: [wp-hackers] Help with dbDelta
In-Reply-To: <02da01cbbd6e$91c9e110$b55da330$@com>
References: <02da01cbbd6e$91c9e110$b55da330$@com>
Message-ID: <AANLkTimz1VR2awLYFA0EMPfA4OoacX+K-+gLLRmWy=A+@mail.gmail.com>

On Wed, Jan 26, 2011 at 7:34 AM, Mike Walsh <mike_walsh at mindspring.com> wrote:
> I have a plugin that manages a swim team that I've developed over the last
> couple years. ?It uses some custom tables to store all of the swim team
> information. ?I've used dbDelta() to create the tables in the past (based on
> recommendations from the CodeEx and this list) and it has worked fine for
> new tables or new columns in existing tables. ?Yesterday I realized that one
> of the tables had a mistake in it due to a typo. ?I fixed it and changed the
> database version number of use for checking and dbDelta() did not update the
> table as I expected. ?My question is this:
>
> Is dbDelta() still the suggested method for creating and updating custom
> tables?
> What is the best way to check for and handle problems when dbDelta() does
> not update a table?

dbDelta() is very particular about whitespace and other formatting, as
I recall.  You could try using BackPress' equivalent and seeing if
that gives you better results.

http://backpress.automattic.com/browser/trunk/includes/class.bp-sql-schema-parser.php

From bruno.p.reis at gmail.com  Wed Jan 26 20:54:48 2011
From: bruno.p.reis at gmail.com (Bruno Reis)
Date: Wed, 26 Jan 2011 18:54:48 -0200
Subject: [wp-hackers] I need to show a private page on the menu when a user
	is logged in.
Message-ID: <AANLkTimAvFetWrtEpB41Oz4rxCJCGsdgcgzLsjAkVyKg@mail.gmail.com>

I?ve seen that wp_list_pages will call get_pages and get_pages has a
default 'post_status' => 'publish'.
What I need is to verify if the user is loggen and ask for a
post_status of either publish or private state.
But I see no way to do that without hacking into get_pages.

How can I do that?

From mark at simplercomputing.net  Wed Jan 26 21:17:11 2011
From: mark at simplercomputing.net (Mark E)
Date: Wed, 26 Jan 2011 14:17:11 -0700
Subject: [wp-hackers] add_magic_quotes fail
In-Reply-To: <AANLkTimAvFetWrtEpB41Oz4rxCJCGsdgcgzLsjAkVyKg@mail.gmail.com>
References: <AANLkTimAvFetWrtEpB41Oz4rxCJCGsdgcgzLsjAkVyKg@mail.gmail.com>
Message-ID: <4D408F57.6080703@simplercomputing.net>

Hi All,

In the WordPress file wp-includes/functions.php, somewhere around line 
1460, there is the function add_magic_quotes. That function does the 
add_slashes to sanitize data.

However, when handling an array of data that includes objects within 
objects, it will crash because the code is written to only expect arrays 
and strings.

For example, if a third-party plugin adds it's own object to the 
WordPress user data object, then when a profile is edited the update 
process will fail with a fatal error.

So I think add_magic_quotes ought to be modified to check for nested 
objects, either that, or the WordPress code that handles updating user 
profile data needs to handle it. One way or the other.

See registration.php around line 260, where we find this problem:

         // First, get all of the original fields
         $user = get_userdata($ID);

         // Escape data pulled from DB.
         $user = add_magic_quotes(get_object_vars($user));

Doh.


Mark

From steve at sltaylor.co.uk  Wed Jan 26 21:33:11 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Wed, 26 Jan 2011 21:33:11 +0000
Subject: [wp-hackers] weird admin pages list search behaviour
Message-ID: <AANLkTi=m6UqbM3GacOgxsg+dtWrZjJzcCTTThw0VLBjr@mail.gmail.com>

Hi,

I'm getting some weirdness on the Pages listing in WP admin, when I search.

There's a page called About, but when I search for "about" nothing
comes up. It does come back when you search for any word in the
content.

I thought this was the issue, so I was going to hook into posts_where
and change the search from the content to the title. But the $where
parameter being currently used returns this:

AND (((wp_posts.post_title LIKE '%about%') OR (wp_posts.post_content
LIKE '%about%')))  AND wp_posts.post_type = 'page' AND
(wp_posts.post_status = 'publish' OR wp_posts.post_status = 'future'
OR wp_posts.post_status = 'draft' OR wp_posts.post_status = 'pending'
OR wp_posts.post_status = 'private')

I thought it might be about case sensitivity, but it isn't.

I'm stumped. Anyone else had this?

cheers,

Steve

From CaptainN at unFocus.com  Wed Jan 26 21:34:12 2011
From: CaptainN at unFocus.com (Kevin Newman)
Date: Wed, 26 Jan 2011 16:34:12 -0500
Subject: [wp-hackers] register_activation_hook only if is_admin() ?
Message-ID: <4D409354.6040606@unFocus.com>

Hello all,

I'd like to know if I need to always register_activation_hook for my 
install routine (in a plugin), or is it ok to just register that if 
"is_admin()" is true (and maybe if current_user_can('manage_options')). 
I like to keep my overhead small.

If there are cases where the activation_hook can be automatically 
invoked without admin or is_admin of the current user, I guess it'd have 
to be registered every time.

Thanks,

Kevin N.



From widmann.martin at gmail.com  Thu Jan 27 05:57:25 2011
From: widmann.martin at gmail.com (Martin Widmann)
Date: Thu, 27 Jan 2011 06:57:25 +0100
Subject: [wp-hackers] register_activation_hook only if is_admin() ?
In-Reply-To: <4D409354.6040606@unFocus.com>
References: <4D409354.6040606@unFocus.com>
Message-ID: <640A7115-BE71-4139-9946-2F3E4399EC6E@gmail.com>

The register_activation_hook action is only executed when the plugin is activated through the plugins page. It's not called every time the plugin is initialized. So there's no need basically to ask for is_admin() or if the current_user_can do something special. 

See also http://codex.wordpress.org/Function_Reference/register_activation_hook

- Martin

	
On Jan 26, 2011, at 10:34 PM, Kevin Newman wrote:

> Hello all,
> 
> I'd like to know if I need to always register_activation_hook for my install routine (in a plugin), or is it ok to just register that if "is_admin()" is true (and maybe if current_user_can('manage_options')). I like to keep my overhead small.
> 
> If there are cases where the activation_hook can be automatically invoked without admin or is_admin of the current user, I guess it'd have to be registered every time.
> 
> Thanks,
> 
> Kevin N.
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From carlroett at gmail.com  Thu Jan 27 07:45:02 2011
From: carlroett at gmail.com (Carl Roett)
Date: Thu, 27 Jan 2011 00:45:02 -0700
Subject: [wp-hackers] Activating another Plugin when Activating a Plugin
In-Reply-To: <-6617324875051584566@unknownmsgid>
References: <ab329f04-bca1-4691-81d3-bec9b196570b@r29g2000yqj.googlegroups.com>
	<AANLkTikxR6-b8TC74ovRR_-UWzUMM0LQfQwUDnVcxLeA@mail.gmail.com>
	<6f0de7eb-3cc5-46a4-a431-cf0c1bdb7a7f@h22g2000vbr.googlegroups.com>
	<-1408283846749363562@unknownmsgid>
	<6F818878-6A79-4212-A3E7-62634E6DB64A@gmail.com>
	<-6617324875051584566@unknownmsgid>
Message-ID: <AANLkTim5dcpomGY2+oFh3UvZpPJ1-TcNuAH-uOn+oR73@mail.gmail.com>

I'm a core develper on the
BP-Media<http://code.google.com/p/buddypress-media/> team
(a media sharing app for BuddyPress).

Our plugin has a couple of blocks of code which solve these kinds of
problems, and are, of course completely open source.

Basically, if the program installation goes terribly wrong, the plugin
enters a special "safe mode". It explains why the plugin can't start-up:
 (perhaps because PHP is too old), BuddyPress is disabled, SQL server is
wrong version, etc. ...and in some cases gives a brief tutorial on how to
fix the problem.

Here here's a direct link to the relevant files on our Google SVN:
http://bit.ly/hazKv1

Thanks!

^F^

======================================================================================



On 10 December 2010 11:40, Alexander Hempton-Smith <hempsworth at gmail.com>wrote:

> Cheers Paul,
>
> I have this in at the moment, and throw a friendly error telling the
> user to activate BuddyPress with a link sending them to the plugins
> page. I'd prefer this link to actually activate BuddyPress, but just
> need to generate the nonce for that activate link.
>
> -- Alex
>
> Sent from my iPhone
>
> On 10 Dec 2010, at 18:37, Paul Gibbs <djpaul at gmail.com> wrote:
>
> >
> > On 10 Dec 2010, at 18:17, Alexander Hempton-Smith wrote:
> >
> >> I'm considering putting this into BuddyPress Like, as it
> >> (unsurprisingly) depends on BuddyPress.
> >
> > FYI, BuddyPress provides actions for other plugins to hook into to avoid
> dependancy errors; take a look at
> http://codex.buddypress.org/plugin-development/checking-buddypress-is-active/
> >
> > Regards
> > Paul Gibbs
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bmburstein at gmail.com  Thu Jan 27 08:24:08 2011
From: bmburstein at gmail.com (Baruch Burstein)
Date: Thu, 27 Jan 2011 10:24:08 +0200
Subject: [wp-hackers] How to submit patches
Message-ID: <AANLkTinF15V2Rkkaq5usgmwcgObvLAB85=UJAdiATGzh@mail.gmail.com>

I filed to feature requests on trac (adding hooks), and have attached a
.patch to both. Is that all I need to do and now I just wait for someone to
notice them and (hopefully) merge them, or do I need to call attention to
them somehow?

From wp at andrewnacin.com  Thu Jan 27 08:51:46 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 27 Jan 2011 03:51:46 -0500
Subject: [wp-hackers] register_activation_hook only if is_admin() ?
In-Reply-To: <640A7115-BE71-4139-9946-2F3E4399EC6E@gmail.com>
References: <4D409354.6040606@unFocus.com>
	<640A7115-BE71-4139-9946-2F3E4399EC6E@gmail.com>
Message-ID: <AANLkTimjMc+UX3ADkZ=PmWSpuRZih5DMmCYxb9MjgV6r@mail.gmail.com>

On Thu, Jan 27, 2011 at 12:57 AM, Martin Widmann
<widmann.martin at gmail.com>wrote:

> The register_activation_hook action is only executed when the plugin is
> activated through the plugins page. It's not called every time the plugin is
> initialized. So there's no need basically to ask for is_admin() or if the
> current_user_can do something special.
>
> See also
> http://codex.wordpress.org/Function_Reference/register_activation_hook
>
>  On Jan 26, 2011, at 10:34 PM, Kevin Newman wrote:
>
> > Hello all,
> >
> > I'd like to know if I need to always register_activation_hook for my
> install routine (in a plugin), or is it ok to just register that if
> "is_admin()" is true (and maybe if current_user_can('manage_options')). I
> like to keep my overhead small.
> >
> > If there are cases where the activation_hook can be automatically invoked
> without admin or is_admin of the current user, I guess it'd have to be
> registered every time.
>

Adding to that, register_activation_hook() is nothing more than a
do_action() call under the hood. The is_admin() check isn't going to be much
faster. :-)

Nacin

From adamrifat at frenchconnections.co.uk  Thu Jan 27 10:48:44 2011
From: adamrifat at frenchconnections.co.uk (Adam Rifat)
Date: Thu, 27 Jan 2011 10:48:44 +0000
Subject: [wp-hackers] Question about WP on load balanced cluster
In-Reply-To: <mailman.37652.1296118329.1338.wp-hackers@lists.automattic.com>
References: <mailman.37652.1296118329.1338.wp-hackers@lists.automattic.com>
Message-ID: <4D414D8C.60207@frenchconnections.co.uk>

We are currently installing WP for use on our site. We have two web 
servers running IIS with a load balancer. At the moment we are just 
installing onto one server with the db on a separate server. I have 
searched but cannot find any definitive advice on how to go about 
configuring WP across two servers like this. The obvious problem is 
sessions and maintaining sessions between two separate servers. Is this 
an issue with WP and if so how can I resolve it? Is there a plugin or 
some other solution?

Any help or a point in the right direction would be much appreciated.

Thanks,

Adam

> Send wp-hackers mailing list submissions to
> 	wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
> 	http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
> 	wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
> 	wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
>     1. Re: HyperDB seems to be causing an unusual number of PING	to
>        the database (Brian Layman)
>     2. Re: Help with dbDelta (Michael D Adams)
>     3. I need to show a private page on the menu when a user	is
>        logged in. (Bruno Reis)
>     4. add_magic_quotes fail (Mark E)
>     5. weird admin pages list search behaviour (Steve Taylor)
>     6. register_activation_hook only if is_admin() ? (Kevin Newman)
>     7. Re: register_activation_hook only if is_admin() ? (Martin Widmann)
>     8. Re: Activating another Plugin when Activating a Plugin
>        (Carl Roett)
>     9. How to submit patches (Baruch Burstein)
>    10. Re: register_activation_hook only if is_admin() ? (Andrew Nacin)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Wed, 26 Jan 2011 13:12:40 -0500
> From: Brian Layman<wp-hackers at thecodecave.com>
> Subject: Re: [wp-hackers] HyperDB seems to be causing an unusual
> 	number of PING	to the database
> To: wp-hackers at lists.automattic.com
> Message-ID:<4D406418.4000308 at thecodecave.com>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> On 1/25/2011 11:24 AM, dave morris wrote:
>> I am using HyperDB with WordPress 3.0.1
> You might also try posting to
> http://lists.automattic.com/mailman/listinfo/hyperdb  Though it is not a
> very busy list, maybe we can change that.
>




From peter.westwood at ftwr.co.uk  Thu Jan 27 10:56:27 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu, 27 Jan 2011 10:56:27 +0000
Subject: [wp-hackers] Question about WP on load balanced cluster
In-Reply-To: <4D414D8C.60207@frenchconnections.co.uk>
References: <mailman.37652.1296118329.1338.wp-hackers@lists.automattic.com>
	<4D414D8C.60207@frenchconnections.co.uk>
Message-ID: <FD333DCF-217F-477F-BC4A-5794228D11C1@ftwr.co.uk>


On 27 Jan 2011, at 10:48, Adam Rifat wrote:

> We are currently installing WP for use on our site. We have two web servers running IIS with a load balancer. At the moment we are just installing onto one server with the db on a separate server. I have searched but cannot find any definitive advice on how to go about configuring WP across two servers like this. The obvious problem is sessions and maintaining sessions between two separate servers. Is this an issue with WP and if so how can I resolve it? Is there a plugin or some other solution?

WordPress don't using sessions so you don't need to maintain them between servers.

Running with a single database server and two web servers should be simple to setup - just using the same wp-config.php file on both.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From nanogwp at gmail.com  Thu Jan 27 12:14:18 2011
From: nanogwp at gmail.com (Robert Lusby)
Date: Thu, 27 Jan 2011 12:14:18 +0000
Subject: [wp-hackers] Mobile Site - WordPress
Message-ID: <AANLkTimf4Tu5bk2GQBb8Z6yEd-_aQhPZtDmn32UWVdJm@mail.gmail.com>

Hello,



We've been working recently on a plugin to create a very mobile friendly
version of the WordPress front-end - and would be keen to hear your own
views/experiences on creating a mobile site.



Anyone had any experience doing this? Any tips / tricks / gotchas along the
way?


We're taking the simple approach of:


- A separate mobile template with refined CSS, HTML, taking out a lot of the
content that isn't as needed, until requested.

- A plugin that chooses the appropriate template for your device (but of
course - lets you switch between full/mobile if you like).


Be good to hear your thoughts!


Thanks,
Robert

From lynne.pope at gmail.com  Thu Jan 27 13:05:28 2011
From: lynne.pope at gmail.com (Lynne Pope)
Date: Fri, 28 Jan 2011 02:05:28 +1300
Subject: [wp-hackers] Weird behaviour with comment_author_url and input
	placeholders
Message-ID: <AANLkTimogS+5KFkMM+P+3zw7rqNujPxVUB=9H0nESv+p@mail.gmail.com>

I've been working on two sites, one on WP 2.9.2 and another running 3.0.4.
Both require their comment forms to be written in HTML5 using the
placeholder tag.

eg.
 <label for="url">Website</label>
<input type="url" name="url" id="url" value="<?php echo
esc_attr($comment_author_url); ?>" placeholder="Enter Website Address
(optional)" pattern="https?://.+">

In testing, we have identified a problem with comment_author_url that occurs
when people do not input an URL. For some reason, WordPress is picking up
the placeholder text and saving it into the database, like so:
http://EnterWebsiteAddress(optional)

I'm having real trouble trying to identify why this is happening. The
placeholder attribute isn't inside the input value so should not be getting
picked up.

Is this a bug? I realise HTML5 placeholder attributes are still reasonably
new but it's not hard to have this working across current browsers so I
suspect others will hit the same issue.

Cheers,
Lynne

From lynne.pope at gmail.com  Thu Jan 27 13:25:14 2011
From: lynne.pope at gmail.com (Lynne Pope)
Date: Fri, 28 Jan 2011 02:25:14 +1300
Subject: [wp-hackers] Mobile Site - WordPress
In-Reply-To: <AANLkTimf4Tu5bk2GQBb8Z6yEd-_aQhPZtDmn32UWVdJm@mail.gmail.com>
References: <AANLkTimf4Tu5bk2GQBb8Z6yEd-_aQhPZtDmn32UWVdJm@mail.gmail.com>
Message-ID: <AANLkTi=dX1TR79-w3cF2AGETVwN5nqXSgYK=LpO2oriO@mail.gmail.com>

I tend to take the "progressive enhancement" approach and design the site
the other way around to you.
I design from the get-go for mobile, then use CSS media queries to add
additional images & styling to suit larger screens.
When designing themes, if you think about it, we have to cater for varying
screen sizes anyway - we don't deliver the same experience to someone who
uses an 800x600 browser as to someone using 1920x1080. By the time we take
notebook & netbook screen sizes into consideration we are already designing
for multiple, variable screen sizes. So, throwing tablets, smartphones and
more traditional mobile devices into the mix shouldn't have us thinking of
plugins really.

Some people are calling this approach "responsive design". I'm not convinced
it needed a new name because the only real difference to how we have
designed sites for years is that the variation in screen sizes is greater.
Adding touch screen functionality is a must (for PC screens as well as
mobile) and keeping the theme lean is also important.

To me, the biggest issue people face when making their site mobile-friendly
is the content itself. A 1000-word blog post might be okay on a large screen
but its hell to read through on a small device, so splitting content might
be wise for some sites. I prefer to send comments to a separate page for
smaller screens. For many people, bandwidth is an issue.

One gotcha about this kind of approach is that some people use CSS selectors
(such as display:none) to hide content from mobile devices. This isn't a
good idea at all because, although the content will be hidden, the data is
still transmitted. Again, thats an issue for bandwidth.

However you choose to do it, make sure you do a LOT of testing. There are so
many mobile devices and screen sizes now that its no longer feasible to test
with just a couple of emulators.

Cheers,
Lynne


On Fri, Jan 28, 2011 at 1:14 AM, Robert Lusby <nanogwp at gmail.com> wrote:

>
> We've been working recently on a plugin to create a very mobile friendly
> version of the WordPress front-end - and would be keen to hear your own
> views/experiences on creating a mobile site.
>
> Anyone had any experience doing this? Any tips / tricks / gotchas along the
>  way?
>

From dvmorris at gmail.com  Thu Jan 27 17:44:03 2011
From: dvmorris at gmail.com (dave morris)
Date: Thu, 27 Jan 2011 09:44:03 -0800 (PST)
Subject: [wp-hackers] Adding a custom GET parameter to a feed URL
Message-ID: <07513c1e-840d-43bc-b290-0aea0930c63b@f36g2000yqe.googlegroups.com>

I am writing a custom feed that I would like to be able to accept a
custom GET parameter. However, when I specify that extra parameter,
the feed redirects to the main blog page, and includes that custom
parameter.

For example:

http://example.com/feed/custom-feed-type/ - outputs a feed in my
custom format
http://example.com/feed/custom-feed-type/?cat=test - outputs a feed in
my custom format containing posts assigned to category 'test'
http://example.com/feed/custom-feed-type/?customparam=test - redirects
to the main blog home page

What hook can I provide to get around this redirect? I'm having
trouble finding it in the code.

Thanks,
Dave

From johnbillion+wp at gmail.com  Thu Jan 27 18:56:05 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu, 27 Jan 2011 18:56:05 +0000
Subject: [wp-hackers] Adding a custom GET parameter to a feed URL
In-Reply-To: <07513c1e-840d-43bc-b290-0aea0930c63b@f36g2000yqe.googlegroups.com>
References: <07513c1e-840d-43bc-b290-0aea0930c63b@f36g2000yqe.googlegroups.com>
Message-ID: <AANLkTimdVginO9Lc+XghmjRzNyK87B2Kxz6miKLbUEzZ@mail.gmail.com>

On 27 January 2011 17:44, dave morris <dvmorris at gmail.com> wrote:
> I am writing a custom feed that I would like to be able to accept a
> custom GET parameter. However, when I specify that extra parameter,
> the feed redirects to the main blog page, and includes that custom
> parameter.

What is your custom parameter? I'm guessing it's not actually
"customparam". It might be conflicting with a core parameter (query
variable) in WordPress.

From dvmorris at gmail.com  Thu Jan 27 19:06:16 2011
From: dvmorris at gmail.com (dave morris)
Date: Thu, 27 Jan 2011 11:06:16 -0800 (PST)
Subject: [wp-hackers] Adding a custom GET parameter to a feed URL
In-Reply-To: <AANLkTimdVginO9Lc+XghmjRzNyK87B2Kxz6miKLbUEzZ@mail.gmail.com>
References: <07513c1e-840d-43bc-b290-0aea0930c63b@f36g2000yqe.googlegroups.com>
	<AANLkTimdVginO9Lc+XghmjRzNyK87B2Kxz6miKLbUEzZ@mail.gmail.com>
Message-ID: <b59e7e0a-e28a-4e46-94ff-8c88083874fa@h2g2000vbg.googlegroups.com>

I can call it whatever I want. I tried many different things, but the
main one I tried was "relatedstories"

Dave

On Jan 27, 12:56?pm, John Blackbourn <johnbillion... at gmail.com> wrote:
> On 27 January 2011 17:44, dave morris <dvmor... at gmail.com> wrote:
>
> > I am writing a custom feed that I would like to be able to accept a
> > custom GET parameter. However, when I specify that extra parameter,
> > the feed redirects to the main blog page, and includes that custom
> > parameter.
>
> What is your custom parameter? I'm guessing it's not actually
> "customparam". It might be conflicting with a core parameter (query
> variable) in WordPress.
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers

From dvmorris at gmail.com  Thu Jan 27 19:12:41 2011
From: dvmorris at gmail.com (dave morris)
Date: Thu, 27 Jan 2011 11:12:41 -0800 (PST)
Subject: [wp-hackers] Adding a custom GET parameter to a feed URL
In-Reply-To: <b59e7e0a-e28a-4e46-94ff-8c88083874fa@h2g2000vbg.googlegroups.com>
References: <07513c1e-840d-43bc-b290-0aea0930c63b@f36g2000yqe.googlegroups.com>
	<AANLkTimdVginO9Lc+XghmjRzNyK87B2Kxz6miKLbUEzZ@mail.gmail.com>
	<b59e7e0a-e28a-4e46-94ff-8c88083874fa@h2g2000vbg.googlegroups.com>
Message-ID: <2c0e8044-94a0-4532-91fd-226fddb7fc75@k18g2000vbq.googlegroups.com>

I'm wondering if it thinks it's a custom taxonomy/term combo, and when
it realizes that it's not, it does the redirect. Is that possible?

Dave

From johnbillion+wp at gmail.com  Thu Jan 27 19:12:45 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu, 27 Jan 2011 19:12:45 +0000
Subject: [wp-hackers] Adding a custom GET parameter to a feed URL
In-Reply-To: <b59e7e0a-e28a-4e46-94ff-8c88083874fa@h2g2000vbg.googlegroups.com>
References: <07513c1e-840d-43bc-b290-0aea0930c63b@f36g2000yqe.googlegroups.com>
	<AANLkTimdVginO9Lc+XghmjRzNyK87B2Kxz6miKLbUEzZ@mail.gmail.com>
	<b59e7e0a-e28a-4e46-94ff-8c88083874fa@h2g2000vbg.googlegroups.com>
Message-ID: <AANLkTimW5ijH6RastZgyDACzXTOEiPaB8ObFBBUUkX6u@mail.gmail.com>

On 27 January 2011 19:06, dave morris <dvmorris at gmail.com> wrote:
> I can call it whatever I want. I tried many different things, but the
> main one I tried was "relatedstories"

I use custom feeds (mainly JSON) on a few sites and don't have this
problem. It might be a red herring. If you drop your code in a
pastebin and post the link here someone might spot something.

From wp-hackers at thecodecave.com  Thu Jan 27 19:13:20 2011
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Thu, 27 Jan 2011 14:13:20 -0500
Subject: [wp-hackers] How to submit patches
In-Reply-To: <AANLkTinF15V2Rkkaq5usgmwcgObvLAB85=UJAdiATGzh@mail.gmail.com>
References: <AANLkTinF15V2Rkkaq5usgmwcgObvLAB85=UJAdiATGzh@mail.gmail.com>
Message-ID: <4D41C3D0.3000904@thecodecave.com>

On 1/27/2011 3:24 AM, Baruch Burstein wrote:
> I filed to feature requests on trac (adding hooks), and have attached a
> .patch to both. Is that all I need to do and now I just wait for someone to
> notice them and (hopefully) merge them, or do I need to call attention to
> them somehow?

All tickets do get a set of eyes on them.  So, there's really nothing 
more you need to do for that to happen.  You could certainly discuss 
modifications to the core here and what the best approach, then you 
could modify the ticket accordingly.  That would be an more appropriate 
approach than to say.. find the ticket is rejected for some reason and 
to appeal the decision via this list.

-- 
Brian Layman
http://eHermitsInc.com
Managed WordPress Hosting


From aaron at jorb.in  Thu Jan 27 19:23:10 2011
From: aaron at jorb.in (Aaron Jorbin)
Date: Thu, 27 Jan 2011 14:23:10 -0500
Subject: [wp-hackers] How to submit patches
In-Reply-To: <4D41C3D0.3000904@thecodecave.com>
References: <AANLkTinF15V2Rkkaq5usgmwcgObvLAB85=UJAdiATGzh@mail.gmail.com>
	<4D41C3D0.3000904@thecodecave.com>
Message-ID: <AANLkTim9Jks2NZoeBV+C0r+ECFJxsrMBFq2VaSpSeUbA@mail.gmail.com>

1) Make sure you set yourself up to be cc'ed on all comments on your ticket
so if there are comments or questions you can reply.

2) After 3.1 is out the door (and there has been a day or two to rest), you
might want to pop into #wordpress-dev on IRC and ask if anyone is around to
take a look at your ticket.  It might take a few times to find one of the
main core people, but it's a good opportunity to get feedback on your patch.

3) Stay patient and don't take it personel if your ticket doesn't get any
traction.  Just work on getting eyes on it in a calm and respectful manner.


Thanks for working on your first patch!

http://aaron.jorb.in
twitter: twitter.com/aaronjorbin


On Thu, Jan 27, 2011 at 2:13 PM, Brian Layman <wp-hackers at thecodecave.com>wrote:

> On 1/27/2011 3:24 AM, Baruch Burstein wrote:
>
>> I filed to feature requests on trac (adding hooks), and have attached a
>> .patch to both. Is that all I need to do and now I just wait for someone
>> to
>> notice them and (hopefully) merge them, or do I need to call attention to
>> them somehow?
>>
>
> All tickets do get a set of eyes on them.  So, there's really nothing more
> you need to do for that to happen.  You could certainly discuss
> modifications to the core here and what the best approach, then you could
> modify the ticket accordingly.  That would be an more appropriate approach
> than to say.. find the ticket is rejected for some reason and to appeal the
> decision via this list.
>
> --
> Brian Layman
> http://eHermitsInc.com
> Managed WordPress Hosting
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lists at krusible.com  Thu Jan 27 19:29:17 2011
From: lists at krusible.com (Raj)
Date: Fri, 28 Jan 2011 00:59:17 +0530
Subject: [wp-hackers] <Input> tags stripped when saving page
Message-ID: <004301cbbe58$80350930$809f1b90$@krusible.com>

When a page containing <input> tags is saved in a sub-blog in a multisite
installation, the input tags are stripped out. Is this a security measure or
is there any other reasoning for this. Can this be prevented?

 

Also, this doesn't seem to happen when the super-admin saves the page
content. 


From otto at ottodestruct.com  Thu Jan 27 19:36:16 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 27 Jan 2011 13:36:16 -0600
Subject: [wp-hackers] <Input> tags stripped when saving page
In-Reply-To: <004301cbbe58$80350930$809f1b90$@krusible.com>
References: <004301cbbe58$80350930$809f1b90$@krusible.com>
Message-ID: <AANLkTi=UEx6R5NDxg1ZxTSmGUBBy_D7n_dH6OeCqSnm_@mail.gmail.com>

On Thu, Jan 27, 2011 at 1:29 PM, Raj <lists at krusible.com> wrote:
> When a page containing <input> tags is saved in a sub-blog in a multisite
> installation, the input tags are stripped out. Is this a security measure or
> is there any other reasoning for this. Can this be prevented?
>
> Also, this doesn't seem to happen when the super-admin saves the page
> content.

In a multi-site install, only the super-admin has the unfiltered_html
capability, by default.

-Otto

From will.davis at gmail.com  Thu Jan 27 19:42:26 2011
From: will.davis at gmail.com (William P. Davis)
Date: Thu, 27 Jan 2011 19:42:26 +0000
Subject: [wp-hackers] How to submit patches
In-Reply-To: <AANLkTim9Jks2NZoeBV+C0r+ECFJxsrMBFq2VaSpSeUbA@mail.gmail.com>
References: <AANLkTinF15V2Rkkaq5usgmwcgObvLAB85=UJAdiATGzh@mail.gmail.com><4D41C3D0.3000904@thecodecave.com><AANLkTim9Jks2NZoeBV+C0r+ECFJxsrMBFq2VaSpSeUbA@mail.gmail.com>
Message-ID: <796257260-1296157348-cardhu_decombobulator_blackberry.rim.net-831263933-@bda597.bisx.prod.on.blackberry>

One thing I'd add ? you'll have to enter your address into your Trac profile even though it's already in your wp.org profile. The two don't sync. 
Sent from my BlackBerry? wireless device

-----Original Message-----
From: Aaron Jorbin <aaron at jorb.in>
Sender: wp-hackers-bounces at lists.automattic.com
Date: Thu, 27 Jan 2011 14:23:10 
To: <wp-hackers at lists.automattic.com>
Reply-To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How to submit patches

1) Make sure you set yourself up to be cc'ed on all comments on your ticket
so if there are comments or questions you can reply.

2) After 3.1 is out the door (and there has been a day or two to rest), you
might want to pop into #wordpress-dev on IRC and ask if anyone is around to
take a look at your ticket.  It might take a few times to find one of the
main core people, but it's a good opportunity to get feedback on your patch.

3) Stay patient and don't take it personel if your ticket doesn't get any
traction.  Just work on getting eyes on it in a calm and respectful manner.


Thanks for working on your first patch!

http://aaron.jorb.in
twitter: twitter.com/aaronjorbin


On Thu, Jan 27, 2011 at 2:13 PM, Brian Layman <wp-hackers at thecodecave.com>wrote:

> On 1/27/2011 3:24 AM, Baruch Burstein wrote:
>
>> I filed to feature requests on trac (adding hooks), and have attached a
>> .patch to both. Is that all I need to do and now I just wait for someone
>> to
>> notice them and (hopefully) merge them, or do I need to call attention to
>> them somehow?
>>
>
> All tickets do get a set of eyes on them.  So, there's really nothing more
> you need to do for that to happen.  You could certainly discuss
> modifications to the core here and what the best approach, then you could
> modify the ticket accordingly.  That would be an more appropriate approach
> than to say.. find the ticket is rejected for some reason and to appeal the
> decision via this list.
>
> --
> Brian Layman
> http://eHermitsInc.com
> Managed WordPress Hosting
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From otto at ottodestruct.com  Thu Jan 27 18:21:25 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 27 Jan 2011 12:21:25 -0600
Subject: [wp-hackers] Adding a custom GET parameter to a feed URL
In-Reply-To: <07513c1e-840d-43bc-b290-0aea0930c63b@f36g2000yqe.googlegroups.com>
References: <07513c1e-840d-43bc-b290-0aea0930c63b@f36g2000yqe.googlegroups.com>
Message-ID: <AANLkTik2SaGMMogw22UQuK+6eU-hTB0pjMr4o0SB9rWX@mail.gmail.com>

You must be doing the redirect yourself, somehow, because WP doesn't do that.

Example: http://ottopress.com/feed/?foo=bar

I have nothing special happening on foo, and it's basically ignored.

-Otto



On Thu, Jan 27, 2011 at 11:44 AM, dave morris <dvmorris at gmail.com> wrote:
> I am writing a custom feed that I would like to be able to accept a
> custom GET parameter. However, when I specify that extra parameter,
> the feed redirects to the main blog page, and includes that custom
> parameter.
>
> For example:
>
> http://example.com/feed/custom-feed-type/ - outputs a feed in my
> custom format
> http://example.com/feed/custom-feed-type/?cat=test - outputs a feed in
> my custom format containing posts assigned to category 'test'
> http://example.com/feed/custom-feed-type/?customparam=test - redirects
> to the main blog home page
>
> What hook can I provide to get around this redirect? I'm having
> trouble finding it in the code.
>
> Thanks,
> Dave
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dennen at gmail.com  Thu Jan 27 19:44:44 2011
From: dennen at gmail.com (Bill Dennen)
Date: Thu, 27 Jan 2011 14:44:44 -0500
Subject: [wp-hackers] <Input> tags stripped when saving page
In-Reply-To: <004301cbbe58$80350930$809f1b90$@krusible.com>
References: <004301cbbe58$80350930$809f1b90$@krusible.com>
Message-ID: <AANLkTikLRBemJCuZZMHn1FB2kMepeGhhbXXhKysH2hho@mail.gmail.com>

> When a page containing <input> tags is saved in a sub-blog in a multisite
> installation, the input tags are stripped out. Is this a security measure or
> is there any other reasoning for this. Can this be prevented?

Enabling this plugin will solve the problem -- it gives Editors the
unfiltered_html capability.

http://wordpress.org/extend/plugins/unfiltered-mu/

"Unfiltered MU gives Administrators and Editors the unfiltered_html
capability. This prevents WordPress MU/WordPress 3.0 multisite from
stripping <iframe>, <embed>, etc. from these users' posts. Authors and
Contributors do not get this capability for security reasons."

-Bill

From jpotkanski at tribune.com  Thu Jan 27 20:05:36 2011
From: jpotkanski at tribune.com (Potkanski, Jason)
Date: Thu, 27 Jan 2011 14:05:36 -0600
Subject: [wp-hackers] Question about WP on load balanced cluster
In-Reply-To: <FD333DCF-217F-477F-BC4A-5794228D11C1@ftwr.co.uk>
References: <mailman.37652.1296118329.1338.wp-hackers@lists.automattic.com>
	<4D414D8C.60207@frenchconnections.co.uk>
	<FD333DCF-217F-477F-BC4A-5794228D11C1@ftwr.co.uk>
Message-ID: <7A06A0AED9867C4C8B285D2D5D60B19C54DB5DA884@FCWPMB06.usa.tribune.com>

Just to add...

I've seen many a plugin developer try and slip sessions into their code. Make sure to grep your codebase for "session_start" or any other such silliness.

That said, if you do end up in that trap, some load balancers allow for "stickiness." The solutions get more complex from there, and since you guys are using IIS (why oh why), none of it would apply.

Jason Potkanski
Release Lead, Application Developer
Tribune Technology, Back-End Support


On 27 Jan 2011, at 10:48, Adam Rifat wrote:

> We are currently installing WP for use on our site. We have two web servers running IIS with a load balancer. At the moment we are just installing onto one server with the db on a separate server. I have searched but cannot find any definitive advice on how to go about configuring WP across two servers like this. The obvious problem is sessions and maintaining sessions between two separate servers. Is this an issue with WP and if so how can I resolve it? Is there a plugin or some other solution?

WordPress don't using sessions so you don't need to maintain them between servers.

Running with a single database server and two web servers should be simple to setup - just using the same wp-config.php file on both.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From lists at krusible.com  Thu Jan 27 20:26:24 2011
From: lists at krusible.com (Raj)
Date: Fri, 28 Jan 2011 01:56:24 +0530
Subject: [wp-hackers] <Input> tags stripped when saving page
In-Reply-To: <AANLkTi=UEx6R5NDxg1ZxTSmGUBBy_D7n_dH6OeCqSnm_@mail.gmail.com>
References: <004301cbbe58$80350930$809f1b90$@krusible.com>
	<AANLkTi=UEx6R5NDxg1ZxTSmGUBBy_D7n_dH6OeCqSnm_@mail.gmail.com>
Message-ID: <000001cbbe60$79e304d0$6da90e70$@krusible.com>

I created a separate role using the capabilities manager plugin. Then
assigned the role the unfiltered-html and set the sub-blog user to that
role. 

The filters still seemed to apply and the input fields still continue to be
removed for the user. What could I be doing wrongly?

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Otto
Sent: Friday, January 28, 2011 1:06 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] <Input> tags stripped when saving page

On Thu, Jan 27, 2011 at 1:29 PM, Raj <lists at krusible.com> wrote:
> When a page containing <input> tags is saved in a sub-blog in a 
> multisite installation, the input tags are stripped out. Is this a 
> security measure or is there any other reasoning for this. Can this be
prevented?
>
> Also, this doesn't seem to happen when the super-admin saves the page 
> content.

In a multi-site install, only the super-admin has the unfiltered_html
capability, by default.

-Otto
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From gcorne at bu.edu  Thu Jan 27 20:25:49 2011
From: gcorne at bu.edu (Cornelius, Gregory)
Date: Thu, 27 Jan 2011 15:25:49 -0500
Subject: [wp-hackers] Question about WP on load balanced cluster
In-Reply-To: <7A06A0AED9867C4C8B285D2D5D60B19C54DB5DA884@FCWPMB06.usa.tribune.com>
References: <mailman.37652.1296118329.1338.wp-hackers@lists.automattic.com>
	<4D414D8C.60207@frenchconnections.co.uk>
	<FD333DCF-217F-477F-BC4A-5794228D11C1@ftwr.co.uk>
	<7A06A0AED9867C4C8B285D2D5D60B19C54DB5DA884@FCWPMB06.usa.tribune.com>
Message-ID: <DE21F849-1B53-4F0D-A4DB-9B97ADFA1587@bu.edu>

You also have to consider how to handle the upload directories by mounting a shared disk file system of some sort. File-based cache systems like wp-supercache are also more difficult to keep fresh.

On Jan 27, 2011, at 3:05 PM, Potkanski, Jason wrote:

> Just to add...
> 
> I've seen many a plugin developer try and slip sessions into their code. Make sure to grep your codebase for "session_start" or any other such silliness.
> 
> That said, if you do end up in that trap, some load balancers allow for "stickiness." The solutions get more complex from there, and since you guys are using IIS (why oh why), none of it would apply.
> 
> Jason Potkanski
> Release Lead, Application Developer
> Tribune Technology, Back-End Support
> 
> 
> On 27 Jan 2011, at 10:48, Adam Rifat wrote:
> 
>> We are currently installing WP for use on our site. We have two web servers running IIS with a load balancer. At the moment we are just installing onto one server with the db on a separate server. I have searched but cannot find any definitive advice on how to go about configuring WP across two servers like this. The obvious problem is sessions and maintaining sessions between two separate servers. Is this an issue with WP and if so how can I resolve it? Is there a plugin or some other solution?
> 
> WordPress don't using sessions so you don't need to maintain them between servers.
> 
> Running with a single database server and two web servers should be simple to setup - just using the same wp-config.php file on both.
> 
> Cheers
> -- 
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From banago at gmail.com  Thu Jan 27 20:29:16 2011
From: banago at gmail.com (Baki Goxhaj)
Date: Thu, 27 Jan 2011 21:29:16 +0100
Subject: [wp-hackers] Question about WP on load balanced cluster
In-Reply-To: <7A06A0AED9867C4C8B285D2D5D60B19C54DB5DA884@FCWPMB06.usa.tribune.com>
References: <mailman.37652.1296118329.1338.wp-hackers@lists.automattic.com>
	<4D414D8C.60207@frenchconnections.co.uk>
	<FD333DCF-217F-477F-BC4A-5794228D11C1@ftwr.co.uk>
	<7A06A0AED9867C4C8B285D2D5D60B19C54DB5DA884@FCWPMB06.usa.tribune.com>
Message-ID: <AANLkTik-q17N30ovoTGMLM1EDPiKxWdnxz=noMr3EmQi@mail.gmail.com>

Just curious, Jason, what is wrong with sessions?

On 1/27/11, Potkanski, Jason <jpotkanski at tribune.com> wrote:
> Just to add...
>
> I've seen many a plugin developer try and slip sessions into their code.
> Make sure to grep your codebase for "session_start" or any other such
> silliness.
>
> That said, if you do end up in that trap, some load balancers allow for
> "stickiness." The solutions get more complex from there, and since you guys
> are using IIS (why oh why), none of it would apply.
>
> Jason Potkanski
> Release Lead, Application Developer
> Tribune Technology, Back-End Support
>
>
> On 27 Jan 2011, at 10:48, Adam Rifat wrote:
>
>> We are currently installing WP for use on our site. We have two web
>> servers running IIS with a load balancer. At the moment we are just
>> installing onto one server with the db on a separate server. I have
>> searched but cannot find any definitive advice on how to go about
>> configuring WP across two servers like this. The obvious problem is
>> sessions and maintaining sessions between two separate servers. Is this an
>> issue with WP and if so how can I resolve it? Is there a plugin or some
>> other solution?
>
> WordPress don't using sessions so you don't need to maintain them between
> servers.
>
> Running with a single database server and two web servers should be simple
> to setup - just using the same wp-config.php file on both.
>
> Cheers
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

-- 
Sent from my mobile device

Kindly,

Baki Goxhaj
www.wplancer.com | www.banago.info | proverbhunter.com

From elfin at elfden.co.uk  Thu Jan 27 20:36:17 2011
From: elfin at elfden.co.uk (Rich Pedley)
Date: Thu, 27 Jan 2011 20:36:17 +0000
Subject: [wp-hackers] Question about WP on load balanced cluster
In-Reply-To: <AANLkTik-q17N30ovoTGMLM1EDPiKxWdnxz=noMr3EmQi@mail.gmail.com>
References: <mailman.37652.1296118329.1338.wp-hackers@lists.automattic.com>	<4D414D8C.60207@frenchconnections.co.uk>	<FD333DCF-217F-477F-BC4A-5794228D11C1@ftwr.co.uk>	<7A06A0AED9867C4C8B285D2D5D60B19C54DB5DA884@FCWPMB06.usa.tribune.com>
	<AANLkTik-q17N30ovoTGMLM1EDPiKxWdnxz=noMr3EmQi@mail.gmail.com>
Message-ID: <4D41D741.70403@elfden.co.uk>

On 27/01/2011 20:29, Baki Goxhaj wrote:

> On 1/27/11, Potkanski, Jason<jpotkanski at tribune.com>  wrote:
>> Just to add...
>>
>> I've seen many a plugin developer try and slip sessions into their code.
>> Make sure to grep your codebase for "session_start" or any other such
>> silliness.
>>
>> That said, if you do end up in that trap, some load balancers allow for
>> "stickiness." The solutions get more complex from there, and since you guys
>> are using IIS (why oh why), none of it would apply.

 > Just curious, Jason, what is wrong with sessions?

My plugin uses sessions.

Rich

From otto at ottodestruct.com  Thu Jan 27 20:55:24 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 27 Jan 2011 14:55:24 -0600
Subject: [wp-hackers] <Input> tags stripped when saving page
In-Reply-To: <000001cbbe60$79e304d0$6da90e70$@krusible.com>
References: <004301cbbe58$80350930$809f1b90$@krusible.com>
	<AANLkTi=UEx6R5NDxg1ZxTSmGUBBy_D7n_dH6OeCqSnm_@mail.gmail.com>
	<000001cbbe60$79e304d0$6da90e70$@krusible.com>
Message-ID: <AANLkTimpTGNpOd_X+N4342GiYj4CrzBW6hdVYkyO21a+@mail.gmail.com>

It's "unfiltered_html", not "unfiltered-html".

-Otto



On Thu, Jan 27, 2011 at 2:26 PM, Raj <lists at krusible.com> wrote:
> I created a separate role using the capabilities manager plugin. Then
> assigned the role the unfiltered-html and set the sub-blog user to that
> role.
>
> The filters still seemed to apply and the input fields still continue to be
> removed for the user. What could I be doing wrongly?

From josh at picklewagon.com  Thu Jan 27 21:27:22 2011
From: josh at picklewagon.com (Josh Harrison)
Date: Thu, 27 Jan 2011 13:27:22 -0800
Subject: [wp-hackers] Adding a custom GET parameter to a feed URL
In-Reply-To: <AANLkTik2SaGMMogw22UQuK+6eU-hTB0pjMr4o0SB9rWX@mail.gmail.com>
References: <07513c1e-840d-43bc-b290-0aea0930c63b@f36g2000yqe.googlegroups.com>
	<AANLkTik2SaGMMogw22UQuK+6eU-hTB0pjMr4o0SB9rWX@mail.gmail.com>
Message-ID: <AANLkTinNMWgrNjV_V+8pQas1R15=_dpi=DjsNWuZajq=@mail.gmail.com>

I had this happening for a plugin I was creating a while back. I ended up
disabling all plugins and then it worked. I promptly found the culprit and
was able to complete the plugin.

Josh

On Thu, Jan 27, 2011 at 10:21 AM, Otto <otto at ottodestruct.com> wrote:

> You must be doing the redirect yourself, somehow, because WP doesn't do
> that.
>
> Example: http://ottopress.com/feed/?foo=bar
>
> I have nothing special happening on foo, and it's basically ignored.
>
> -Otto
>
>
>
> On Thu, Jan 27, 2011 at 11:44 AM, dave morris <dvmorris at gmail.com> wrote:
> > I am writing a custom feed that I would like to be able to accept a
> > custom GET parameter. However, when I specify that extra parameter,
> > the feed redirects to the main blog page, and includes that custom
> > parameter.
> >
> > For example:
> >
> > http://example.com/feed/custom-feed-type/ - outputs a feed in my
> > custom format
> > http://example.com/feed/custom-feed-type/?cat=test - outputs a feed in
> > my custom format containing posts assigned to category 'test'
> > http://example.com/feed/custom-feed-type/?customparam=test - redirects
> > to the main blog home page
> >
> > What hook can I provide to get around this redirect? I'm having
> > trouble finding it in the code.
> >
> > Thanks,
> > Dave
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dvmorris at gmail.com  Thu Jan 27 21:44:09 2011
From: dvmorris at gmail.com (dave morris)
Date: Thu, 27 Jan 2011 13:44:09 -0800 (PST)
Subject: [wp-hackers] Adding a custom GET parameter to a feed URL
In-Reply-To: <AANLkTik2SaGMMogw22UQuK+6eU-hTB0pjMr4o0SB9rWX@mail.gmail.com>
References: <07513c1e-840d-43bc-b290-0aea0930c63b@f36g2000yqe.googlegroups.com>
	<AANLkTik2SaGMMogw22UQuK+6eU-hTB0pjMr4o0SB9rWX@mail.gmail.com>
Message-ID: <0a417ff5-78eb-450a-8ee8-b24fad068ad7@a28g2000vbo.googlegroups.com>

Ah, it works now. I am not sure what caused the redirect initially,
but it seems to be working now, after checking other feed types and
going back to my custom one. That makes no sense that it just randomly
started working, but I'll just leave it at that for now.

Thanks for your help,
Dave

From peter.westwood at ftwr.co.uk  Thu Jan 27 22:24:19 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu, 27 Jan 2011 22:24:19 +0000
Subject: [wp-hackers] Question about WP on load balanced cluster
In-Reply-To: <AANLkTik-q17N30ovoTGMLM1EDPiKxWdnxz=noMr3EmQi@mail.gmail.com>
References: <mailman.37652.1296118329.1338.wp-hackers@lists.automattic.com>
	<4D414D8C.60207@frenchconnections.co.uk>
	<FD333DCF-217F-477F-BC4A-5794228D11C1@ftwr.co.uk>
	<7A06A0AED9867C4C8B285D2D5D60B19C54DB5DA884@FCWPMB06.usa.tribune.com>
	<AANLkTik-q17N30ovoTGMLM1EDPiKxWdnxz=noMr3EmQi@mail.gmail.com>
Message-ID: <1E6043AE-0EB7-4DEF-8A05-31FAF6165035@ftwr.co.uk>


On 27 Jan 2011, at 20:29, Baki Goxhaj wrote:

> Just curious, Jason, what is wrong with sessions?
> 

HTTP is stateless by design.

Sessions are evil and don't scale ;)

There is a better way 95% of the time
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From wp-hackers at thecodecave.com  Thu Jan 27 23:02:45 2011
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Thu, 27 Jan 2011 18:02:45 -0500
Subject: [wp-hackers] Question about WP on load balanced cluster
In-Reply-To: <7A06A0AED9867C4C8B285D2D5D60B19C54DB5DA884@FCWPMB06.usa.tribune.com>
References: <mailman.37652.1296118329.1338.wp-hackers@lists.automattic.com>	<4D414D8C.60207@frenchconnections.co.uk>	<FD333DCF-217F-477F-BC4A-5794228D11C1@ftwr.co.uk>
	<7A06A0AED9867C4C8B285D2D5D60B19C54DB5DA884@FCWPMB06.usa.tribune.com>
Message-ID: <4D41F995.20105@thecodecave.com>

On 1/27/2011 3:05 PM, Potkanski, Jason wrote:
> Just to add...
>
> I've seen many a plugin developer try and slip sessions into their code. Make sure to grep your codebase for "session_start" or any other such silliness.
>
> That said, if you do end up in that trap, some load balancers allow for "stickiness." The solutions get more complex from there, and since you guys are using IIS (why oh why), none of it would apply.
Amazon Load Balancers are among those that do. Even if you use 
stickiness, you might want to consider using a memcached pool for your 
sessions.  I've had it work well in production environments.  Google 
will show you it's just an edit or two and a restart to implement it at 
least on Apache.. IIS? well..

Brian.

From markjaquith at gmail.com  Fri Jan 28 07:06:56 2011
From: markjaquith at gmail.com (Mark Jaquith)
Date: Fri, 28 Jan 2011 02:06:56 -0500
Subject: [wp-hackers] Weird behaviour with comment_author_url and input
	placeholders
In-Reply-To: <AANLkTimogS+5KFkMM+P+3zw7rqNujPxVUB=9H0nESv+p@mail.gmail.com>
References: <AANLkTimogS+5KFkMM+P+3zw7rqNujPxVUB=9H0nESv+p@mail.gmail.com>
Message-ID: <AANLkTimmiFBN34WEzkH+2zy1n+0zjmooEt35fMU5_Jmy@mail.gmail.com>

On Thu, Jan 27, 2011 at 8:05 AM, Lynne Pope <lynne.pope at gmail.com> wrote:
> In testing, we have identified a problem with comment_author_url that occurs
> when people do not input an URL. For some reason, WordPress is picking up
> the placeholder text and saving it into the database, like so:
> http://EnterWebsiteAddress(optional)
>
> I'm having real trouble trying to identify why this is happening.

My guess is that you have some JS code that offers HTML5 placeholder
support for browsers that don't support it natively. It could work by
managing the value of the input and changing it onfocus, onblur, etc.
If it doesn't have code to properly clear the managed value and remove
the placeholder, that might accidentally get submitted to WordPress.
Or, maybe there is just a browser out there that is improperly
implementing the placeholder feature. It's almost certainly not a
WordPress issue, however.

-- 
Mark Jaquith
? http://markjaquith.com/

From 3ddhurst at gmail.com  Fri Jan 28 12:10:20 2011
From: 3ddhurst at gmail.com (Edward Hurst)
Date: Fri, 28 Jan 2011 12:10:20 +0000
Subject: [wp-hackers]  Multiple sticky filters?
Message-ID: <AANLkTi=5vucPx4zruUe6jTk96m8yAU8UcXb7FtAetyGq@mail.gmail.com>

Is there a way of creating multiple sticky options rather than just the core
"Make Post Sticky" functionality. I want to separate main-news features from
headlines on the front page and having two different types of sticky post
would help clients do this easier than adding another custom field into the
mix.

From mikeschinkel at newclarity.net  Fri Jan 28 12:14:04 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 28 Jan 2011 07:14:04 -0500
Subject: [wp-hackers] Multiple sticky filters?
In-Reply-To: <AANLkTi=5vucPx4zruUe6jTk96m8yAU8UcXb7FtAetyGq@mail.gmail.com>
References: <AANLkTi=5vucPx4zruUe6jTk96m8yAU8UcXb7FtAetyGq@mail.gmail.com>
Message-ID: <FF5E5E58-11BE-40AF-9F22-274C73446C8F@newclarity.net>

On Jan 28, 2011, at 7:10 AM, Edward Hurst wrote:

> Is there a way of creating multiple sticky options rather than just the core
> "Make Post Sticky" functionality. I want to separate main-news features from
> headlines on the front page and having two different types of sticky post
> would help clients do this easier than adding another custom field into the
> mix.

Use tags, or a custom taxonomy and selected terms.

-Mike


From info at swordstudios.net  Fri Jan 28 12:35:00 2011
From: info at swordstudios.net (SWORD Studios)
Date: Fri, 28 Jan 2011 07:35:00 -0500
Subject: [wp-hackers] Weird behaviour with comment_author_url and input
	placeholders
Message-ID: <AANLkTimA=M3xyaxJ+kYWU8_fv6mkGDRHkkrCfw1QppK4@mail.gmail.com>

Try removing the js for html 5 support and test the form in a browser that
provides native placeholder support. I bet you'll find it'll work fine then.
On Jan 27, 2011 8:05 AM, "Lynne Pope" <lynne.pope at gmail.com> wrote:
> I've been working on two sites, one on WP 2.9.2 and another running 3.0.4.
> Both require their comment forms to be written in HTML5 using the
> placeholder tag.
>
> eg.
> <label for="url">Website</label>
> <input type="url" name="url" id="url" value="<?php echo
> esc_attr($comment_author_url); ?>" placeholder="Enter Website Address
> (optional)" pattern="https?://.+">
>
> In testing, we have identified a problem with comment_author_url that
occurs
> when people do not input an URL. For some reason, WordPress is picking up
> the placeholder text and saving it into the database, like so:
> http://EnterWebsiteAddress(optional)
>
> I'm having real trouble trying to identify why this is happening. The
> placeholder attribute isn't inside the input value so should not be
getting
> picked up.
>
> Is this a bug? I realise HTML5 placeholder attributes are still reasonably
> new but it's not hard to have this working across current browsers so I
> suspect others will hit the same issue.
>
> Cheers,
> Lynne
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From fris at fris.net  Fri Jan 28 17:04:01 2011
From: fris at fris.net (fris)
Date: Fri, 28 Jan 2011 12:04:01 -0500
Subject: [wp-hackers] wp_die vs hooking into admin_notices
Message-ID: <000001cbbf0d$5deacc60$19c06520$@fris.net>

Curious what would be the best way.

register_activation_hook(__FILE__,'curl_check');

function curl_notice() {   
	echo '<div id="my-custom-warning" class="error fade"><p>This plugin
requires CURL.</p></div>';   
} 

function curl_check(){
	if (!function_exists('curl_init')) {
		deactivate_plugins(basename(__FILE__)); 
		add_action('admin_notices','curl_notice'); 
		//wp_die("Sorry, but this plugin requires CURL.");
	}
}

wp_dir or hook a function into admin_notices?




From brent at prospress.org  Fri Jan 28 17:40:10 2011
From: brent at prospress.org (Brent Shepherd)
Date: Sat, 29 Jan 2011 00:40:10 +0700
Subject: [wp-hackers] Unique Page field
Message-ID: <AANLkTinqurSfUFRwyY-bti-ui+1hd__=ON21pzqDfPOh@mail.gmail.com>

Is there any unique field to identify a post that can be known when writing
a plugin? Not just after the plugin is installed.

My plugin creates a page with "post_name" = "auctions". The plugin needs to
know when this page is being viewed. I was using checking the "post_name",
but that means no one can change the permalink for the page. If I was to
store the post ID as an "auctions_page_id" option and check against the ID,
then I've got data duplication and the bunch of headaches that come with it.

From ozh at ozh.org  Fri Jan 28 17:41:57 2011
From: ozh at ozh.org (Ozh)
Date: Fri, 28 Jan 2011 18:41:57 +0100
Subject: [wp-hackers] wp_die vs hooking into admin_notices
In-Reply-To: <000001cbbf0d$5deacc60$19c06520$@fris.net>
References: <000001cbbf0d$5deacc60$19c06520$@fris.net>
Message-ID: <AANLkTimC0wteYYj5CoQ7jAz9O_xPqprFJWhOLLO-KO8P@mail.gmail.com>

The best way would be not to rely on curl but use the HTTP API instead.
http://codex.wordpress.org/HTTP_API

Ozh

On Fri, Jan 28, 2011 at 6:04 PM, fris <fris at fris.net> wrote:
> Curious what would be the best way.
>
> register_activation_hook(__FILE__,'curl_check');
>
> function curl_notice() {
> ? ? ? ?echo '<div id="my-custom-warning" class="error fade"><p>This plugin
> requires CURL.</p></div>';
> }
>
> function curl_check(){
> ? ? ? ?if (!function_exists('curl_init')) {
> ? ? ? ? ? ? ? ?deactivate_plugins(basename(__FILE__));
> ? ? ? ? ? ? ? ?add_action('admin_notices','curl_notice');
> ? ? ? ? ? ? ? ?//wp_die("Sorry, but this plugin requires CURL.");
> ? ? ? ?}
> }
>
> wp_dir or hook a function into admin_notices?
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://ozh.org/

From jpotkanski at tribune.com  Fri Jan 28 17:41:26 2011
From: jpotkanski at tribune.com (Potkanski, Jason)
Date: Fri, 28 Jan 2011 11:41:26 -0600
Subject: [wp-hackers] Question about WP on load balanced cluster
In-Reply-To: <AANLkTik-q17N30ovoTGMLM1EDPiKxWdnxz=noMr3EmQi@mail.gmail.com>
References: <mailman.37652.1296118329.1338.wp-hackers@lists.automattic.com>
	<4D414D8C.60207@frenchconnections.co.uk>
	<FD333DCF-217F-477F-BC4A-5794228D11C1@ftwr.co.uk>
	<7A06A0AED9867C4C8B285D2D5D60B19C54DB5DA884@FCWPMB06.usa.tribune.com>
	<AANLkTik-q17N30ovoTGMLM1EDPiKxWdnxz=noMr3EmQi@mail.gmail.com>
Message-ID: <7A06A0AED9867C4C8B285D2D5D60B19C54DB5DAAF1@FCWPMB06.usa.tribune.com>

The significant advantage of Wordpress is its ability to scale horizontally. As traffic goes up, I can just provision more web servers and go. 

Implementing sessions requires one to either attach NFS, use one of the new php memcache or mysql session handlers or write our own implementation. In other words, the web server can't be "dumb" anymore, they have to be "smart." That introduces more potential points of failure and more complexity when trying to triage a performance problem in a production environment.

http://www.tuxradar.com/practicalphp/10/1/3



-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Baki Goxhaj
Sent: Thursday, January 27, 2011 2:29 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Question about WP on load balanced cluster

Just curious, Jason, what is wrong with sessions?

On 1/27/11, Potkanski, Jason <jpotkanski at tribune.com> wrote:
> Just to add...
>
> I've seen many a plugin developer try and slip sessions into their code.
> Make sure to grep your codebase for "session_start" or any other such
> silliness.
>
> That said, if you do end up in that trap, some load balancers allow for
> "stickiness." The solutions get more complex from there, and since you guys
> are using IIS (why oh why), none of it would apply.
>
> Jason Potkanski
> Release Lead, Application Developer
> Tribune Technology, Back-End Support
>
>
> On 27 Jan 2011, at 10:48, Adam Rifat wrote:
>
>> We are currently installing WP for use on our site. We have two web
>> servers running IIS with a load balancer. At the moment we are just
>> installing onto one server with the db on a separate server. I have
>> searched but cannot find any definitive advice on how to go about
>> configuring WP across two servers like this. The obvious problem is
>> sessions and maintaining sessions between two separate servers. Is this an
>> issue with WP and if so how can I resolve it? Is there a plugin or some
>> other solution?
>
> WordPress don't using sessions so you don't need to maintain them between
> servers.
>
> Running with a single database server and two web servers should be simple
> to setup - just using the same wp-config.php file on both.
>
> Cheers
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

-- 
Sent from my mobile device

Kindly,

Baki Goxhaj
www.wplancer.com | www.banago.info | proverbhunter.com
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From banago at gmail.com  Fri Jan 28 17:44:58 2011
From: banago at gmail.com (Baki Goxhaj)
Date: Fri, 28 Jan 2011 18:44:58 +0100
Subject: [wp-hackers] Question about WP on load balanced cluster
In-Reply-To: <7A06A0AED9867C4C8B285D2D5D60B19C54DB5DAAF1@FCWPMB06.usa.tribune.com>
References: <mailman.37652.1296118329.1338.wp-hackers@lists.automattic.com>
	<4D414D8C.60207@frenchconnections.co.uk>
	<FD333DCF-217F-477F-BC4A-5794228D11C1@ftwr.co.uk>
	<7A06A0AED9867C4C8B285D2D5D60B19C54DB5DA884@FCWPMB06.usa.tribune.com>
	<AANLkTik-q17N30ovoTGMLM1EDPiKxWdnxz=noMr3EmQi@mail.gmail.com>
	<7A06A0AED9867C4C8B285D2D5D60B19C54DB5DAAF1@FCWPMB06.usa.tribune.com>
Message-ID: <AANLkTinVCMrNL=Ladjxtq21R0102aUX9vNuoSt4RMQhc@mail.gmail.com>

Will have a look at that, thanks!

Kindly,

Baki Goxhaj
www.wplancer.com | www.banago.info | proverbhunter.com


On 28 January 2011 18:41, Potkanski, Jason <jpotkanski at tribune.com> wrote:

> The significant advantage of Wordpress is its ability to scale
> horizontally. As traffic goes up, I can just provision more web servers and
> go.
>
> Implementing sessions requires one to either attach NFS, use one of the new
> php memcache or mysql session handlers or write our own implementation. In
> other words, the web server can't be "dumb" anymore, they have to be
> "smart." That introduces more potential points of failure and more
> complexity when trying to triage a performance problem in a production
> environment.
>
> http://www.tuxradar.com/practicalphp/10/1/3
>
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:
> wp-hackers-bounces at lists.automattic.com] On Behalf Of Baki Goxhaj
> Sent: Thursday, January 27, 2011 2:29 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Question about WP on load balanced cluster
>
> Just curious, Jason, what is wrong with sessions?
>
> On 1/27/11, Potkanski, Jason <jpotkanski at tribune.com> wrote:
> > Just to add...
> >
> > I've seen many a plugin developer try and slip sessions into their code.
> > Make sure to grep your codebase for "session_start" or any other such
> > silliness.
> >
> > That said, if you do end up in that trap, some load balancers allow for
> > "stickiness." The solutions get more complex from there, and since you
> guys
> > are using IIS (why oh why), none of it would apply.
> >
> > Jason Potkanski
> > Release Lead, Application Developer
> > Tribune Technology, Back-End Support
> >
> >
> > On 27 Jan 2011, at 10:48, Adam Rifat wrote:
> >
> >> We are currently installing WP for use on our site. We have two web
> >> servers running IIS with a load balancer. At the moment we are just
> >> installing onto one server with the db on a separate server. I have
> >> searched but cannot find any definitive advice on how to go about
> >> configuring WP across two servers like this. The obvious problem is
> >> sessions and maintaining sessions between two separate servers. Is this
> an
> >> issue with WP and if so how can I resolve it? Is there a plugin or some
> >> other solution?
> >
> > WordPress don't using sessions so you don't need to maintain them between
> > servers.
> >
> > Running with a single database server and two web servers should be
> simple
> > to setup - just using the same wp-config.php file on both.
> >
> > Cheers
> > --
> > Peter Westwood
> > http://blog.ftwr.co.uk | http://westi.wordpress.com
> > C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
> --
> Sent from my mobile device
>
> Kindly,
>
> Baki Goxhaj
> www.wplancer.com | www.banago.info | proverbhunter.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peter.westwood at ftwr.co.uk  Fri Jan 28 17:54:46 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 28 Jan 2011 17:54:46 +0000
Subject: [wp-hackers] wp_die vs hooking into admin_notices
In-Reply-To: <AANLkTimC0wteYYj5CoQ7jAz9O_xPqprFJWhOLLO-KO8P@mail.gmail.com>
References: <000001cbbf0d$5deacc60$19c06520$@fris.net>
	<AANLkTimC0wteYYj5CoQ7jAz9O_xPqprFJWhOLLO-KO8P@mail.gmail.com>
Message-ID: <C4A66B55-F485-4D3E-8F82-F59DD146137D@ftwr.co.uk>


On 28 Jan 2011, at 17:41, Ozh wrote:

> The best way would be not to rely on curl but use the HTTP API instead.
> http://codex.wordpress.org/HTTP_API
> 

And the second thing is not to abuse an activation hook like this.

If your plugin needs something check in in code run on admin_init and display an admin_notice.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From chris at clwill.com  Fri Jan 28 18:12:43 2011
From: chris at clwill.com (Chris Williams)
Date: Fri, 28 Jan 2011 13:12:43 -0500
Subject: [wp-hackers] wp_die vs hooking into admin_notices
In-Reply-To: <C4A66B55-F485-4D3E-8F82-F59DD146137D@ftwr.co.uk>
Message-ID: <C9684560.453F%chris@clwill.com>

This conversation is near and dear to me, as I'm in the middle of
developing a plug-in that does some extensive and sophisticated
statistical work.  While I'm working hard to eliminate dependencies on
versions of things (PHP, MySQL, etc.), or on certain server add-ons
(BCMATH), I'm not entirely sure (yet) if that's completely possible.

The question then is, what's the appropriate way to fail for the user if
their setup doesn't meet the requirements?  Do you:

- Somehow fail the activation (as this OP was suggesting), and if so
what's the "correct" way to do so.
- Let the plugin be activated, but present some message at each
"admin-init" that warns about the issue.
- Fail the execution of the dependent operation, which may be quite some
time later.

I, like the OP, thought the first was the best choice.  But I'd like to
hear alternatives.
Opinions?

On 1/28/11 9:54 AM, "Peter Westwood" <peter.westwood at ftwr.co.uk> wrote:

>
>On 28 Jan 2011, at 17:41, Ozh wrote:
>
>> The best way would be not to rely on curl but use the HTTP API instead.
>> http://codex.wordpress.org/HTTP_API
>> 
>
>And the second thing is not to abuse an activation hook like this.
>
>If your plugin needs something check in in code run on admin_init and
>display an admin_notice.
>
>Cheers
>-- 
>Peter Westwood
>http://blog.ftwr.co.uk | http://westi.wordpress.com
>C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers


From fris at fris.net  Fri Jan 28 20:15:46 2011
From: fris at fris.net (fris)
Date: Fri, 28 Jan 2011 15:15:46 -0500
Subject: [wp-hackers] wp_die vs hooking into admin_notices
In-Reply-To: <AANLkTimC0wteYYj5CoQ7jAz9O_xPqprFJWhOLLO-KO8P@mail.gmail.com>
References: <000001cbbf0d$5deacc60$19c06520$@fris.net>
	<AANLkTimC0wteYYj5CoQ7jAz9O_xPqprFJWhOLLO-KO8P@mail.gmail.com>
Message-ID: <000d01cbbf28$26305590$729100b0$@fris.net>

Was just using that as an example, to check for something that is installed,
say I want to check for something else that the plugin may require.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Ozh
Sent: Friday, January 28, 2011 12:42 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] wp_die vs hooking into admin_notices

The best way would be not to rely on curl but use the HTTP API instead.
http://codex.wordpress.org/HTTP_API

Ozh

On Fri, Jan 28, 2011 at 6:04 PM, fris <fris at fris.net> wrote:
> Curious what would be the best way.
>
> register_activation_hook(__FILE__,'curl_check');
>
> function curl_notice() {
> ? ? ? ?echo '<div id="my-custom-warning" class="error fade"><p>This 
> plugin requires CURL.</p></div>'; }
>
> function curl_check(){
> ? ? ? ?if (!function_exists('curl_init')) {
> ? ? ? ? ? ? ? ?deactivate_plugins(basename(__FILE__));
> ? ? ? ? ? ? ? ?add_action('admin_notices','curl_notice');
> ? ? ? ? ? ? ? ?//wp_die("Sorry, but this plugin requires CURL.");
> ? ? ? ?}
> }
>
> wp_dir or hook a function into admin_notices?
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
http://ozh.org/
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From fris at fris.net  Fri Jan 28 20:16:35 2011
From: fris at fris.net (fris)
Date: Fri, 28 Jan 2011 15:16:35 -0500
Subject: [wp-hackers] wp_die vs hooking into admin_notices
In-Reply-To: <C4A66B55-F485-4D3E-8F82-F59DD146137D@ftwr.co.uk>
References: <000001cbbf0d$5deacc60$19c06520$@fris.net>	<AANLkTimC0wteYYj5CoQ7jAz9O_xPqprFJWhOLLO-KO8P@mail.gmail.com>
	<C4A66B55-F485-4D3E-8F82-F59DD146137D@ftwr.co.uk>
Message-ID: <000e01cbbf28$43657230$ca305690$@fris.net>

How would that go? I don't want the plugin activated if they don't have
certain things installed.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter Westwood
Sent: Friday, January 28, 2011 12:55 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] wp_die vs hooking into admin_notices


On 28 Jan 2011, at 17:41, Ozh wrote:

> The best way would be not to rely on curl but use the HTTP API instead.
> http://codex.wordpress.org/HTTP_API
> 

And the second thing is not to abuse an activation hook like this.

If your plugin needs something check in in code run on admin_init and
display an admin_notice.

Cheers
--
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com C53C F8FC 8796 8508 88D6
C950 54F4 5DCD A834 01C5

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From shelly at foolishvisions.com  Fri Jan 28 20:54:17 2011
From: shelly at foolishvisions.com (Foolish Visions)
Date: Fri, 28 Jan 2011 15:54:17 -0500
Subject: [wp-hackers] Plugin guru please?
Message-ID: <FE6D6689-FF3F-43E8-B4F4-F303BEAA7799@foolishvisions.com>

Just in case anyone is on both lists, I just posted this request to the WP Testers list, and was told a better place for my question would be here :)

So I've written a doozy of a plugin for WordPress that I've tested in WP 3.1RC2 (and 3.0) and I think I'm ready to put it in the plugin repository. I've tested and checked and coded for quite some time, and as it usually goes, it would be nice to have another set of eyes to look at it before I make it official.

I basically want to be sure I've gotten rid of all the deprecated code (I started writing it a long time ago, and just started fixing it up again) and that it's secure enough that I don't have to worry about having opened up some kind of exploit somewhere.  I don't *think* I have - but again - another set of eyes ;)

I'd just like to be clear that this is a FREE plugin I will be putting in the respository - I am, in no way, asking for someone to do free work for something I plan to charge for. I just don't want to put something in there and discover I suck and never should have done it. (This is the most advanced thing I've ever done, myself, and I just want to be sure it's a *good* thing.)

Rather than flood the whole list with a bunch of spammy "I'll do it!" requests, I'll ask kindly that you e-mail me offlist - I swear I will not add you to any mailing lists.

Thanks so much to anyone who's willing to help out - I really appreciate it :)

~Shelly

From jon at lionsgoroar.co.uk  Fri Jan 28 20:59:35 2011
From: jon at lionsgoroar.co.uk (Jon Cave)
Date: Fri, 28 Jan 2011 20:59:35 +0000
Subject: [wp-hackers] Plugin guru please?
In-Reply-To: <FE6D6689-FF3F-43E8-B4F4-F303BEAA7799@foolishvisions.com>
References: <FE6D6689-FF3F-43E8-B4F4-F303BEAA7799@foolishvisions.com>
Message-ID: <AANLkTimR969aUEzQdLZ4CuhKXbjh2Zto7r6i1X=K1qMM@mail.gmail.com>

On Fri, Jan 28, 2011 at 8:54 PM, Foolish Visions
<shelly at foolishvisions.com> wrote:
> I basically want to be sure I've gotten rid of all the deprecated code (I started writing it a long time ago, and just started fixing it up again)

I would suggest using Andrew Nacin's Log Deprecated Notices plugin [1]
to catch any more deprecated code. Just install and activate and then
run through your plugins functionality and see if anything gets
flagged.

[1] http://wordpress.org/extend/plugins/log-deprecated-notices/

From shelly at foolishvisions.com  Fri Jan 28 21:17:00 2011
From: shelly at foolishvisions.com (Foolish Visions)
Date: Fri, 28 Jan 2011 16:17:00 -0500
Subject: [wp-hackers] Plugin guru please?
In-Reply-To: <AANLkTimR969aUEzQdLZ4CuhKXbjh2Zto7r6i1X=K1qMM@mail.gmail.com>
References: <FE6D6689-FF3F-43E8-B4F4-F303BEAA7799@foolishvisions.com>
	<AANLkTimR969aUEzQdLZ4CuhKXbjh2Zto7r6i1X=K1qMM@mail.gmail.com>
Message-ID: <FFA7F3F3-C1D5-46B7-92B9-6C353BDAE0DF@foolishvisions.com>

Excellent tip - thank you!  I'll try that now :)

~Shelly

From wei at hyperinkpress.com  Fri Jan 28 21:56:52 2011
From: wei at hyperinkpress.com (Wei Hsu)
Date: Fri, 28 Jan 2011 13:56:52 -0800
Subject: [wp-hackers] map function to all sites?
Message-ID: <AANLkTi=TXJ3KjAEnMhasmBd6ZWLfj0So8wX2Up_i0wYE@mail.gmail.com>

Hi, I'm trying to map a function to apply to all the sites in my multisite
network. Is there a standard way of doing that?

For example, let's say I'm trying to change the theme for all my sites at
once. I'd love to be able to do something like:

foreach (all_sites() as $site) {
     $site->switch_theme('thesis_18', 'thesis_18');
$site->thesis_upgrade();
}

Thanks!

Wei

From wp at andrewnacin.com  Fri Jan 28 22:00:21 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 28 Jan 2011 17:00:21 -0500
Subject: [wp-hackers] map function to all sites?
In-Reply-To: <AANLkTi=TXJ3KjAEnMhasmBd6ZWLfj0So8wX2Up_i0wYE@mail.gmail.com>
References: <AANLkTi=TXJ3KjAEnMhasmBd6ZWLfj0So8wX2Up_i0wYE@mail.gmail.com>
Message-ID: <AANLkTinGajSOXsrKdQQMjj=i34w2r9-0t6Sz_Bw5zCFr@mail.gmail.com>

On Fri, Jan 28, 2011 at 4:56 PM, Wei Hsu <wei at hyperinkpress.com> wrote:

> Hi, I'm trying to map a function to apply to all the sites in my multisite
> network. Is there a standard way of doing that?
>
> For example, let's say I'm trying to change the theme for all my sites at
> once. I'd love to be able to do something like:
>
> foreach (all_sites() as $site) {
>     $site->switch_theme('thesis_18', 'thesis_18');
> $site->thesis_upgrade();
> }
>
> Thanks!
>
> Wei


Sure, just use switch_to_blog() with switch_theme(). It's going to be
intensive depending on the number of sites and may want to run it on a cron.

Nacin

From elfin at elfden.co.uk  Fri Jan 28 22:14:53 2011
From: elfin at elfden.co.uk (Rich Pedley)
Date: Fri, 28 Jan 2011 22:14:53 +0000
Subject: [wp-hackers] Plugin guru please?
In-Reply-To: <AANLkTimR969aUEzQdLZ4CuhKXbjh2Zto7r6i1X=K1qMM@mail.gmail.com>
References: <FE6D6689-FF3F-43E8-B4F4-F303BEAA7799@foolishvisions.com>
	<AANLkTimR969aUEzQdLZ4CuhKXbjh2Zto7r6i1X=K1qMM@mail.gmail.com>
Message-ID: <4D433FDD.6000200@elfden.co.uk>

On 28/01/2011 20:59, Jon Cave wrote:
> On Fri, Jan 28, 2011 at 8:54 PM, Foolish Visions
> <shelly at foolishvisions.com>  wrote:
>> I basically want to be sure I've gotten rid of all the deprecated code (I started writing it a long time ago, and just started fixing it up again)
>
> I would suggest using Andrew Nacin's Log Deprecated Notices plugin [1]
> to catch any more deprecated code. Just install and activate and then
> run through your plugins functionality and see if anything gets
> flagged.
>
> [1] http://wordpress.org/extend/plugins/log-deprecated-notices/

if you have tested in 3.1, then I'd also suggest using this:
http://wordpress.org/extend/plugins/debug-bar/

Rich

From wordpress at dd32.id.au  Fri Jan 28 22:20:44 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 29 Jan 2011 09:20:44 +1100
Subject: [wp-hackers] Unique Page field
In-Reply-To: <AANLkTinqurSfUFRwyY-bti-ui+1hd__=ON21pzqDfPOh@mail.gmail.com>
References: <AANLkTinqurSfUFRwyY-bti-ui+1hd__=ON21pzqDfPOh@mail.gmail.com>
Message-ID: <op.vp1hosmtspxmuu@ho.st>

On Sat, 29 Jan 2011 04:40:10 +1100, Brent Shepherd <brent at prospress.org>  
wrote:
> My plugin creates a page with "post_name" = "auctions". The plugin needs  
> to
> know when this page is being viewed. I was using checking the  
> "post_name",
> but that means no one can change the permalink for the page. If I was to
> store the post ID as an "auctions_page_id" option and check against the  
> ID,
> then I've got data duplication and the bunch of headaches that come with  
> it.

How is storing the ID cause more data duplication/headaches than storing  
the post_name?
The ID is the best item to store, It's WordPress's unique Identifier of  
the page.
You may even want to hook into the deletion hooks and prevent that ID from  
being deleted if your plugin depends on it.




-- 
Dion Hulse / dd32
Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

From wordpress at dd32.id.au  Fri Jan 28 22:25:30 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 29 Jan 2011 09:25:30 +1100
Subject: [wp-hackers] wp_die vs hooking into admin_notices
In-Reply-To: <000001cbbf0d$5deacc60$19c06520$@fris.net>
References: <000001cbbf0d$5deacc60$19c06520$@fris.net>
Message-ID: <op.vp1hwsuxspxmuu@ho.st>

On Sat, 29 Jan 2011 04:04:01 +1100, fris <fris at fris.net> wrote:
> function curl_check(){
> 	if (!function_exists('curl_init')) {
> 		deactivate_plugins(basename(__FILE__));
> 		add_action('admin_notices','curl_notice');
> 		//wp_die("Sorry, but this plugin requires CURL.");
> 	}
> }
>
> wp_dir or hook a function into admin_notices?


Well that certainly won't work.. As the activation happens on a page load,  
which is then redirected to the plugins page. So by the time you hit a  
page which admin_notices is firing on, you'll have already deactivated  
your plugin.

Personally, I'm a fan of the die on activation, which ultimately displays  
a message "This plugin could not be activated due to an errror... <output  
 from plugin>"

A better way however, Is to run the plugin in 2 forms, The Bootstrap, and  
the actual plugin; the bootstrap is the file with the plugin header, it  
includes no advanced code or specific requirements, all it does is check  
the environment is compatible with the plugin, then either a) includes the  
main plugin file (which contains the code which requires things) or b)  
doesnt include the plugin code, and instead, just adds an admin notice or  
similar.

That being said, in this case, loose your requirement on curl, Whilst it's  
probably just one of the requirements you've got, use WP_HTTP for that  
particular use, it has many advantages over simply using curl.



-- 
Dion Hulse / dd32
Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

From brent at prospress.org  Fri Jan 28 23:15:27 2011
From: brent at prospress.org (Brent Shepherd)
Date: Sat, 29 Jan 2011 06:15:27 +0700
Subject: [wp-hackers] Unique Page field
In-Reply-To: <6B883B2E-17CB-4F23-8C13-C8DE53FBCA02@gmail.com>
References: <AANLkTinqurSfUFRwyY-bti-ui+1hd__=ON21pzqDfPOh@mail.gmail.com>
	<op.vp1hosmtspxmuu@ho.st>
	<6B883B2E-17CB-4F23-8C13-C8DE53FBCA02@gmail.com>
Message-ID: <61A7CBA8-82B0-495B-865C-DE6ED1873525@prospress.org>

I wasn't storing the post_name, I was setting it on post creation and relying on it not changing. This meant I knew the post_name field on all installations without data duplication, as long as the permalink wasn't changed, which of course some folks want to do.



On 29/01/2011, at 5:58 AM, Brent Shepherd <brent.e.shepherd at gmail.com> wrote:

> I wasn't storing the post_name, I was setting it on post creation and relying on it not changing. This meant I knew the post_name field on all installations with data fuplication, as long as it wasn't changed.
> 
> 
> 
> On 29/01/2011, at 5:20 AM, "Dion Hulse (dd32)" <wordpress at dd32.id.au> wrote:
> 
>> On Sat, 29 Jan 2011 04:40:10 +1100, Brent Shepherd <brent at prospress.org> wrote:
>>> My plugin creates a page with "post_name" = "auctions". The plugin needs to
>>> know when this page is being viewed. I was using checking the "post_name",
>>> but that means no one can change the permalink for the page. If I was to
>>> store the post ID as an "auctions_page_id" option and check against the ID,
>>> then I've got data duplication and the bunch of headaches that come with it.
>> 
>> How is storing the ID cause more data duplication/headaches than storing the post_name?
>> The ID is the best item to store, It's WordPress's unique Identifier of the page.
>> You may even want to hook into the deletion hooks and prevent that ID from being deleted if your plugin depends on it.
>> 
>> 
>> 
>> 
>> -- 
>> Dion Hulse / dd32
>> Contact:
>> e: contact at dd32.id.au
>> Web: http://dd32.id.au/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers


From cross at thisismyurl.com  Sat Jan 29 19:16:22 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Sat, 29 Jan 2011 15:16:22 -0400
Subject: [wp-hackers] Admin Interface Tutorial
Message-ID: <3273E7F8-B571-4D60-A68C-6285AC1A588A@thisismyurl.com>

Is there a tutorial for creating plugin interfaces in WP? Specifically for making areas drag and drop compatible, like the WP-admin post, pages etc? 


__

Christopher Ross

http://christopherross.ca
http://www.thisismyurl.com


From halukkaramete at gmail.com  Sat Jan 29 23:33:50 2011
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Sat, 29 Jan 2011 15:33:50 -0800
Subject: [wp-hackers] Creating Custom Taxonomies on the fly
Message-ID: <AANLkTin+14O2rdFoHw-FJmKiFZA=CebtV8zrRWOX=m3X@mail.gmail.com>

Here is the scenario;

Say, I have 4 categories; videos, podcasts, interviews, advanced
subjects.  As I get new content,  I tag my items under the regular
post-tags taxonomy.
With this very common scenario, I can create a tag cloud at any point
of time to see in what my subjects matters are accumulating into.

The problem with this is that I cannot break this tag cloud into
individual tag clouds that would make sense for each of these
categories.

In other words, neither I nor my visitors could easily tell what tag
cloud is available under say "advanced subjects" for example. Even
though, I got the main tag cloud available to me, there would be no
guarantees even for the top tagged item ( that's the biggest tag in
the main tag cloud) to have a matching even single post for the
advanced subjects category.

First Solution to that is to use non-hierarchical taxonomies. In that
case, surely I could have individual tag clouds. But that would have
been cumbersome as it would have involved duplicate tag entries under
various taxonomies whenever that tag item is applicable to multiple
taxonomies.

Here is an idea in its infancy, ready to take your input/feedback.

Imagine a plug in that hooks to the function that saves the post into
the wp_posts table and does the following;

check for the current post, if the currently associated categor(ies)
exist as custom taxonom(ies), and if not, create them on them on the
fly and explode currently associated tags ( from the post-tags
taxonomy ) to each and every taxonomy involved.

For the inconvenience purposes, webmaster adopts this style; just work
with categories and the built-in tags and completely rely on the plug
in that does the taxonomy and tags on the fly.

When the webmaster ads a new content, he selects the categories that
the post may belong to, and then tag the item.
say his new post deals with "videos", and "advanced stuff" categories
for example and he tags the content as tag,1 tag2 under the post-tags.

Thanks to the plug in, following happens.

Plug in checks the current tag/category associations and figures out
this particular post belongs to "videos" category and "advanced stuff"
category and it has the tags tag1 and tag2.
Based on that, plug in does the following;

check if "videos" custom taxonomy exists, if not create the "videos"
custom taxonomy and assign the tag1 and tag2 under the "videos"
taxonomy on the fly. And do the same to the other categories involved
- which in this case would be the "advanced stuff" category. So, the
plug in will also check if "advanced stuff" custom taxonomy exists,
and if not, it would create it and then assign the tag1 and tag2 under
the advanced taxonomy, again on the fly.

So, what's the benefit? Obviously, webmaster's data entry process is
fast and smooth and WP/plug in takes care of the hassle on the fly.

Most benefit will be for the users who visit the site. They will be
presented with individual tag clouds whichever category they happen to
land on.

They see the Videos, Pod Casts, Advanced Stuff and Debates categories
individually. But when they visit one of the category pages each is
showing its proper tag cloud. In fact, by some UI management, that tag
cloud may be served as sub categories under the current category.
Since the tag cloud would be organically growing, sub categories will
also grow organically - taking the hassle of creating/planning for sub
categories right off the bat.

Do you see some value in this approach? Or are there easier/smarter
ways to address the problem I'm trying to solve with less hassle?

From wordpress at dd32.id.au  Sat Jan 29 23:43:23 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 30 Jan 2011 10:43:23 +1100
Subject: [wp-hackers] Creating Custom Taxonomies on the fly
In-Reply-To: <AANLkTin+14O2rdFoHw-FJmKiFZA=CebtV8zrRWOX=m3X@mail.gmail.com>
References: <AANLkTin+14O2rdFoHw-FJmKiFZA=CebtV8zrRWOX=m3X@mail.gmail.com>
Message-ID: <op.vp3f6ku5spxmuu@ho.st>

On Sun, 30 Jan 2011 10:33:50 +1100, Haluk Karamete  
<halukkaramete at gmail.com> wrote:
> Do you see some value in this approach? Or are there easier/smarter
> ways to address the problem I'm trying to solve with less hassle?

How many posts are we talking here?

Whilst your proposed selection would work, it does sound like a lot of  
processing to ensure that the terms are kept in sync..

My method would be:
Generate tag cloud
  - Are we on a category view?
   - No: Generate as normal
   - Yes: Filter the terms:
    - We want Tags which are attached to <list of posts in category>

You'd have to add some caching to that, and theres a good chance you'd  
have to filter some SQL there for best performance.
I've done something similar (intersections of terms) for navigational  
elements of a custom taxonomy, ie. Site has multiple sections, and a set  
of navigational elements to drill down, In the drill down, you only want  
elements selectable which the section of the site has available


Dion Hulse / dd32
Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

From hempsworth at gmail.com  Sun Jan 30 01:44:18 2011
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Sun, 30 Jan 2011 01:44:18 +0000
Subject: [wp-hackers] Getting started with BackPress
Message-ID: <AANLkTinWMJ2+v57D-1tCNYtJDnsDy0je5FDyAzDgpWZ+@mail.gmail.com>

Hi all,

I'm looking into using BackPress to form the start of a CRM I need to build.
However, I can't seem to find any tutorials or samples of how to get started
with it, or how to create an example application.

Does anybody on the list have any tips or perhaps references to apps I could
look at? Trying to dissect the way WP or GlotPress uses it seems quite
daunting!

Many thanks,
Alex

- - - -

www.alexhemptonsmith.com
www.twitter.com/hempsworth

From halukkaramete at gmail.com  Sun Jan 30 02:30:00 2011
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Sat, 29 Jan 2011 18:30:00 -0800
Subject: [wp-hackers] Creating Custom Taxonomies on the fly
In-Reply-To: <op.vp3f6ku5spxmuu@ho.st>
References: <AANLkTin+14O2rdFoHw-FJmKiFZA=CebtV8zrRWOX=m3X@mail.gmail.com>
	<op.vp3f6ku5spxmuu@ho.st>
Message-ID: <AANLkTimxhnQ0ABWieEMzjdS_=ynyjC=EWjtO+j4xUkLi@mail.gmail.com>

For the site I have in mind, 100's of cats, 1000's of posts... So
whatever it is got to scale up.

On Sat, Jan 29, 2011 at 3:43 PM, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:
> On Sun, 30 Jan 2011 10:33:50 +1100, Haluk Karamete <halukkaramete at gmail.com>
> wrote:
>>
>> Do you see some value in this approach? Or are there easier/smarter
>> ways to address the problem I'm trying to solve with less hassle?
>
> How many posts are we talking here?
>
> Whilst your proposed selection would work, it does sound like a lot of
> processing to ensure that the terms are kept in sync..
>
> My method would be:
> Generate tag cloud
> ?- Are we on a category view?
> ?- No: Generate as normal
> ?- Yes: Filter the terms:
> ? - We want Tags which are attached to <list of posts in category>
>
> You'd have to add some caching to that, and theres a good chance you'd have
> to filter some SQL there for best performance.
> I've done something similar (intersections of terms) for navigational
> elements of a custom taxonomy, ie. Site has multiple sections, and a set of
> navigational elements to drill down, In the drill down, you only want
> elements selectable which the section of the site has available
>
>
> Dion Hulse / dd32
> Contact:
> ?e: contact at dd32.id.au
> ?Web: http://dd32.id.au/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From halukkaramete at gmail.com  Sun Jan 30 02:45:51 2011
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Sat, 29 Jan 2011 18:45:51 -0800
Subject: [wp-hackers] Creating Custom Taxonomies on the fly
In-Reply-To: <AANLkTimxhnQ0ABWieEMzjdS_=ynyjC=EWjtO+j4xUkLi@mail.gmail.com>
References: <AANLkTin+14O2rdFoHw-FJmKiFZA=CebtV8zrRWOX=m3X@mail.gmail.com>
	<op.vp3f6ku5spxmuu@ho.st>
	<AANLkTimxhnQ0ABWieEMzjdS_=ynyjC=EWjtO+j4xUkLi@mail.gmail.com>
Message-ID: <AANLkTinm52VTZANhNMv_CWQ6KG-mJHAUdiUS1KCyAPEs@mail.gmail.com>

Dion, here is the part I don't get; "We want Tags which are attached
to <list of posts in category>"

I think your solution approaches the matter from a different
implementation. My first idea was to sort this matter our per post and
at post update time. One post at a time. From you, what I get is do
this every 24 hrs or so as a batch process. That for sure will cause
some DB crunching while that process is sorting the matter out.

Let's take it from another example... that is run time processing at
categorty.php level and relying on super cache magic.

category.php will ask

what category of posts I'm supposed to deliver now?
answer: deliver catid:14

category.php will ask to wp_posts and to wp_term_relationships and to
wp_terms tables
Give me a list of all the distinct tags that belong to those posts
where the posts have been categorized under 14.

This is one heck of SQL query. I would never do it.

I think doing this at post update time is better. What do you think?




On Sat, Jan 29, 2011 at 6:30 PM, Haluk Karamete <halukkaramete at gmail.com> wrote:
> For the site I have in mind, 100's of cats, 1000's of posts... So
> whatever it is got to scale up.
>
> On Sat, Jan 29, 2011 at 3:43 PM, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:
>> On Sun, 30 Jan 2011 10:33:50 +1100, Haluk Karamete <halukkaramete at gmail.com>
>> wrote:
>>>
>>> Do you see some value in this approach? Or are there easier/smarter
>>> ways to address the problem I'm trying to solve with less hassle?
>>
>> How many posts are we talking here?
>>
>> Whilst your proposed selection would work, it does sound like a lot of
>> processing to ensure that the terms are kept in sync..
>>
>> My method would be:
>> Generate tag cloud
>> ?- Are we on a category view?
>> ?- No: Generate as normal
>> ?- Yes: Filter the terms:
>> ? - We want Tags which are attached to <list of posts in category>
>>
>> You'd have to add some caching to that, and theres a good chance you'd have
>> to filter some SQL there for best performance.
>> I've done something similar (intersections of terms) for navigational
>> elements of a custom taxonomy, ie. Site has multiple sections, and a set of
>> navigational elements to drill down, In the drill down, you only want
>> elements selectable which the section of the site has available
>>
>>
>> Dion Hulse / dd32
>> Contact:
>> ?e: contact at dd32.id.au
>> ?Web: http://dd32.id.au/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>

From joshua.sibelman at gmail.com  Sun Jan 30 03:50:00 2011
From: joshua.sibelman at gmail.com (Joshua Sibelman)
Date: Sat, 29 Jan 2011 19:50:00 -0800
Subject: [wp-hackers] custom taxonomy list page?
Message-ID: <438B79D6-3609-4119-A84C-FCF25CA2B18A@gmail.com>

I've been searching Google for this to no avail.

I'm working on a restaurant site, and I have a custom post type for dishes, like so:

function dish_register() {
    $labels = array(
        'name'=>_x('Dishes', 'post type general name'),
        'singular_name'=>_x('Dish', 'post type singular name'),
        'add_new'=>_x('Add New', 'dish'),
        'add_new_item'=>__('Add New Dish'),
        'edit_item'=>__('Edit Dish'),
        'new_item'=>__('New Dish'),
        'view_item'=>__('View Dish'),
        'search_items'=>__('Search Dishes'),
        'not_found'=>__('No Dishes Found'),
        'not_found_in_trash'=>__('No dishes found in Trash'),
        'parent_item_colon'=>''
    );

    $args = array(
        'labels'=> $labels,
        'public'=> true,
        'publicly_queryable'=>true,
        'show_ui'=>true,
        'show_in_nav_menus'=>true,
        'query_var'=>'dish',
        'rewrite'=>true,
        'capability_type'=>'post',
        'hierarchicial'=>false,
        'menu_position'=>5,
        'supports'=>array(
            'title',
            'editor',
            'thumbnail',
            'excerpt',
            'custom-fields',
            'revisions'
        )   
    );  

    register_post_type('dish', $args);
}

An example of one of the custom taxonomies I want to use is this:

register_taxonomy('Main Ingredient', array('dish'), array(
    'hierarchical' => true,
    'label' => 'Main Ingredient',
    'singular_label' => 'Main Ingredient',
    'query_var'=>true,
    'rewrite' => true)
);


The custom taxonomies are working fine in the admin, and I can go to http://myurl.com/main-ingredient/pork and see a list of all dishes with pork in them.

What I'm wanting to do is be able to hit http://myurl.com/main-ingredient and get a list of all the various main-ingredient values.

I found this reference, which is exactly what I'm trying to do:
http://wordpress.stackexchange.com/questions/4663/custom-taxonomy-listing-page-when-no-term-set-all-terms

But the solution is not working for me - I'm still getting a 404 when going to http://myurl.com/main-ingredient

Any suggestions on how best to do this?

Thanks,
Josh


From wordpress at dd32.id.au  Sun Jan 30 06:35:39 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 30 Jan 2011 17:35:39 +1100
Subject: [wp-hackers] Creating Custom Taxonomies on the fly
In-Reply-To: <AANLkTinm52VTZANhNMv_CWQ6KG-mJHAUdiUS1KCyAPEs@mail.gmail.com>
References: <AANLkTin+14O2rdFoHw-FJmKiFZA=CebtV8zrRWOX=m3X@mail.gmail.com>
	<op.vp3f6ku5spxmuu@ho.st>
	<AANLkTimxhnQ0ABWieEMzjdS_=ynyjC=EWjtO+j4xUkLi@mail.gmail.com>
	<AANLkTinm52VTZANhNMv_CWQ6KG-mJHAUdiUS1KCyAPEs@mail.gmail.com>
Message-ID: <op.vp3y9odxspxmuu@ho.st>

I'll be honest, I'm not a SQL performance nut, and I hate data duplication.
I've just grabbed a SQL in use on a reasonably -low traffic- site which  
has about 200 terms in total and a few hundred posts, the result of this  
is transient cached(which is cleared when tags/cats change) and the site  
uses super cache as well, So the site has never had any performance issues  
or scaling problems due to this - Thats not to say it won't in the future  
of course.

SELECT DISTINCT t.*
 FROM wp_terms AS t
   JOIN wp_term_taxonomy AS tt ON ( t.term_id = tt.term_id AND tt.count >0 )
   LEFT JOIN wp_term_relationships AS tr ON tt.term_taxonomy_id =  
tr.term_taxonomy_id
WHERE tt.taxonomy = 'post_tag'
AND tr.object_id
IN (
   SELECT tr.object_id
   FROM wp_term_relationships AS tr
     LEFT JOIN wp_term_taxonomy AS tt ON tr.term_taxonomy_id =  
tt.term_taxonomy_id
   WHERE tt.term_id = 3 # This is the Term ID of the category (or any  
related taxonomy really) that you want to intersect the tags with
)
ORDER BY t.name ASC

I'm sure it's not the best query, it could certainly be optimized (I'm  
pretty sure it's possible to get rid of that sub select, that'll choke  
when there are hundeds of posts in a category), but my main reason for  
digging it up, is the point out that you don't have to load all the posts  
up, just the ID's of the posts, which is stored in the taxonomy tables  
anyway.

Ultimately, The correct way of doing things, is what ever is the easiest  
for the developer, and which they can make scale well.

On Sun, 30 Jan 2011 13:45:51 +1100, Haluk Karamete  
<halukkaramete at gmail.com> wrote:

> Dion, here is the part I don't get; "We want Tags which are attached
> to <list of posts in category>"
>
> I think your solution approaches the matter from a different
> implementation. My first idea was to sort this matter our per post and
> at post update time. One post at a time. From you, what I get is do
> this every 24 hrs or so as a batch process. That for sure will cause
> some DB crunching while that process is sorting the matter out.
>
> Let's take it from another example... that is run time processing at
> categorty.php level and relying on super cache magic.
>
> category.php will ask
>
> what category of posts I'm supposed to deliver now?
> answer: deliver catid:14
>
> category.php will ask to wp_posts and to wp_term_relationships and to
> wp_terms tables
> Give me a list of all the distinct tags that belong to those posts
> where the posts have been categorized under 14.
>
> This is one heck of SQL query. I would never do it.
>
> I think doing this at post update time is better. What do you think?
>
>
>
>
> On Sat, Jan 29, 2011 at 6:30 PM, Haluk Karamete  
> <halukkaramete at gmail.com> wrote:
>> For the site I have in mind, 100's of cats, 1000's of posts... So
>> whatever it is got to scale up.
>>
>> On Sat, Jan 29, 2011 at 3:43 PM, Dion Hulse (dd32)  
>> <wordpress at dd32.id.au> wrote:
>>> On Sun, 30 Jan 2011 10:33:50 +1100, Haluk Karamete  
>>> <halukkaramete at gmail.com>
>>> wrote:
>>>>
>>>> Do you see some value in this approach? Or are there easier/smarter
>>>> ways to address the problem I'm trying to solve with less hassle?
>>>
>>> How many posts are we talking here?
>>>
>>> Whilst your proposed selection would work, it does sound like a lot of
>>> processing to ensure that the terms are kept in sync..
>>>
>>> My method would be:
>>> Generate tag cloud
>>>  - Are we on a category view?
>>>  - No: Generate as normal
>>>  - Yes: Filter the terms:
>>>   - We want Tags which are attached to <list of posts in category>
>>>
>>> You'd have to add some caching to that, and theres a good chance you'd  
>>> have
>>> to filter some SQL there for best performance.
>>> I've done something similar (intersections of terms) for navigational
>>> elements of a custom taxonomy, ie. Site has multiple sections, and a  
>>> set of
>>> navigational elements to drill down, In the drill down, you only want
>>> elements selectable which the section of the site has available
>>>
>>>
>>> Dion Hulse / dd32
>>> Contact:
>>>  e: contact at dd32.id.au
>>>  Web: http://dd32.id.au/
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse / dd32
Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

From wordpress at dd32.id.au  Sun Jan 30 06:41:57 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 30 Jan 2011 17:41:57 +1100
Subject: [wp-hackers] custom taxonomy list page?
In-Reply-To: <438B79D6-3609-4119-A84C-FCF25CA2B18A@gmail.com>
References: <438B79D6-3609-4119-A84C-FCF25CA2B18A@gmail.com>
Message-ID: <op.vp3zj7qpspxmuu@ho.st>

On Sun, 30 Jan 2011 14:50:00 +1100, Joshua Sibelman  
<joshua.sibelman at gmail.com> wrote:

> I've been searching Google for this to no avail.
<snip>
> Any suggestions on how best to do this?

No matter how you go about this, You're going to have to style the page  
specifically due to the fact your normal loop won't know what to do with a  
list of terms..

So my suggestion, in this case, Would be to make a page with the same slug  
as the taxonomy which has a page template assoc. with it.
When hitting http://myurl.com/main-ingredient then, your page will be  
matched, Your page template will be included, and from there, you can run  
get_terms directly.

There are some cases where having a page is unwanted, for example to  
prevent other site editors from accidentally changing/deleting the page,  
but it can also have the advantage, that you can have normal text on the  
page (ie. post_content) and the terms listed along side that without  
having to deal with taxonomy metadata.

-- 
Dion Hulse / dd32
Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

From mikeschinkel at newclarity.net  Sun Jan 30 07:02:43 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 30 Jan 2011 02:02:43 -0500
Subject: [wp-hackers] Creating Custom Taxonomies on the fly
In-Reply-To: <op.vp3y9odxspxmuu@ho.st>
References: <AANLkTin+14O2rdFoHw-FJmKiFZA=CebtV8zrRWOX=m3X@mail.gmail.com>
	<op.vp3f6ku5spxmuu@ho.st>
	<AANLkTimxhnQ0ABWieEMzjdS_=ynyjC=EWjtO+j4xUkLi@mail.gmail.com>
	<AANLkTinm52VTZANhNMv_CWQ6KG-mJHAUdiUS1KCyAPEs@mail.gmail.com>
	<op.vp3y9odxspxmuu@ho.st>
Message-ID: <826820A6-E376-4348-B401-56BDD30F26C3@newclarity.net>

On Jan 30, 2011, at 1:35 AM, Dion Hulse (dd32) wrote:
> I'll be honest, I'm not a SQL performance nut, and I hate data duplication.
> I've just grabbed a SQL in use on a reasonably -low traffic- site which has about 200 terms in total and a few hundred posts, the result of this is transient cached(which is cleared when tags/cats change) and the site uses super cache as well, So the site has never had any performance issues or scaling problems due to this - Thats not to say it won't in the future of course.
> 
> SELECT DISTINCT t.*
> FROM wp_terms AS t
>  JOIN wp_term_taxonomy AS tt ON ( t.term_id = tt.term_id AND tt.count >0 )
>  LEFT JOIN wp_term_relationships AS tr ON tt.term_taxonomy_id = tr.term_taxonomy_id
> WHERE tt.taxonomy = 'post_tag'
> AND tr.object_id
> IN (
>  SELECT tr.object_id
>  FROM wp_term_relationships AS tr
>    LEFT JOIN wp_term_taxonomy AS tt ON tr.term_taxonomy_id = tt.term_taxonomy_id
>  WHERE tt.term_id = 3 # This is the Term ID of the category (or any related taxonomy really) that you want to intersect the tags with
> )
> ORDER BY t.name ASC
> 
> I'm sure it's not the best query, it could certainly be optimized (I'm pretty sure it's possible to get rid of that sub select, that'll choke when there are hundeds of posts in a category), but my main reason for digging it up, is the point out that you don't have to load all the posts up, just the ID's of the posts, which is stored in the taxonomy tables anyway.
> 

You are right, it's not very optimized. You really don't need dependent subqueries[1] like that if you can at all help it.  This unravels them:

SELECT DISTINCT 
	wp_terms.*
FROM wp_terms 
	INNER JOIN wp_term_taxonomy ON wp_terms.term_id = wp_term_taxonomy.term_id
	INNER JOIN wp_term_relationships ON wp_term_taxonomy.term_taxonomy_id = wp_term_relationships.term_taxonomy_id
	INNER JOIN wp_term_relationships intersected_term_relationships ON wp_term_relationships.object_id = intersected_term_relationships.object_id
	INNER JOIN wp_term_taxonomy intersected_term_taxonomy ON intersected_term_relationships.term_taxonomy_id = intersected_term_taxonomy.term_taxonomy_id
WHERE 1=1
	AND wp_terms.term_id<>intersected_term_taxonomy.term_id
	AND wp_term_taxonomy.count > 0 
	AND wp_term_taxonomy.taxonomy = 'post_tag'
	AND intersected_term_taxonomy.term_id=3
ORDER BY 
	wp_terms.name ASC

Of course if you are going to use it in PHP for WordPress this would be more useful:

  global $wpdb;
  $sql =<<<SQL
SELECT DISTINCT 
	{$wpdb->terms}.*
FROM {$wpdb->terms}
	INNER JOIN {$wpdb->term_taxonomy} ON {$wpdb->terms}.term_id = {$wpdb->term_taxonomy}.term_id
	INNER JOIN wp_term_{$wpdb->term_taxonomy} ON {$wpdb->term_taxonomy}.term_taxonomy_id = {$wpdb->term_taxonomy}.term_taxonomy_id
	INNER JOIN {$wpdb->term_taxonomy} intersected_term_relationships ON {$wpdb->term_taxonomy}.object_id = intersected_term_relationships.object_id
	INNER JOIN {$wpdb->term_taxonomy} intersected_term_taxonomy ON intersected_term_relationships.term_taxonomy_id = intersected_term_taxonomy.term_taxonomy_id
WHERE 1=1
	AND {$wpdb->terms}.term_id<>intersected_term_taxonomy.term_id
	AND {$wpdb->term_taxonomy}.count > 0 
	AND {$wpdb->term_taxonomy}.taxonomy = 'post_tag'
	AND intersected_term_taxonomy.term_id=%d
ORDER BY 
	{$wpdb->terms}.name ASC
SQL;
  $sql = $wpdb->prepare($sql,3); // 3 is your category ID

Hope this helps.

-Mike
[1] http://www.xaprb.com/blog/2006/04/30/how-to-optimize-subqueries-and-joins-in-mysql/

P.S. Too bad stuff like this isn't available natively in WP_Query.


From peter.westwood at ftwr.co.uk  Sun Jan 30 10:30:08 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun, 30 Jan 2011 10:30:08 +0000
Subject: [wp-hackers] Getting started with BackPress
In-Reply-To: <AANLkTinWMJ2+v57D-1tCNYtJDnsDy0je5FDyAzDgpWZ+@mail.gmail.com>
References: <AANLkTinWMJ2+v57D-1tCNYtJDnsDy0je5FDyAzDgpWZ+@mail.gmail.com>
Message-ID: <EA881995-FD37-4DFF-A2D5-DB45825FCEB9@ftwr.co.uk>


On 30 Jan 2011, at 01:44, Alex Hempton-Smith wrote:

> Hi all,
> 
> I'm looking into using BackPress to form the start of a CRM I need to build.
> However, I can't seem to find any tutorials or samples of how to get started
> with it, or how to create an example application.
> 
> Does anybody on the list have any tips or perhaps references to apps I could
> look at? Trying to dissect the way WP or GlotPress uses it seems quite
> daunting!
> 

This is best discussed on the BackPress dev mailing list - it's really off-topic for this list.

I will reply there.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From joelfisher at gmail.com  Sun Jan 30 13:15:42 2011
From: joelfisher at gmail.com (Joel Fisher)
Date: Sun, 30 Jan 2011 08:15:42 -0500
Subject: [wp-hackers] custom taxonomy list page?
In-Reply-To: <op.vp3zj7qpspxmuu@ho.st>
References: <438B79D6-3609-4119-A84C-FCF25CA2B18A@gmail.com>
	<op.vp3zj7qpspxmuu@ho.st>
Message-ID: <AANLkTimnyCCZn7qbTRzirjWn66niRz+rPcVtCJWdAHQC@mail.gmail.com>

For taxonomies... you can use taxonomy-term.php

If you are using straight meta_keys / meta_values you need to do a
custom query string and pass that on to the URL.
It works well, but way more effort.  Taxonomies have a lot built in,
yet in certain cases, I don't want a tax defined.




joel.fisher
www.flushinc.com

Linkedin: http://www.linkedin.com/in/jfisher
Follow: www.twitter.com/joelmoney




On Sun, Jan 30, 2011 at 1:41 AM, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:
> On Sun, 30 Jan 2011 14:50:00 +1100, Joshua Sibelman
> <joshua.sibelman at gmail.com> wrote:
>
>> I've been searching Google for this to no avail.
>
> <snip>
>>
>> Any suggestions on how best to do this?
>
> No matter how you go about this, You're going to have to style the page
> specifically due to the fact your normal loop won't know what to do with a
> list of terms..
>
> So my suggestion, in this case, Would be to make a page with the same slug
> as the taxonomy which has a page template assoc. with it.
> When hitting http://myurl.com/main-ingredient then, your page will be
> matched, Your page template will be included, and from there, you can run
> get_terms directly.
>
> There are some cases where having a page is unwanted, for example to prevent
> other site editors from accidentally changing/deleting the page, but it can
> also have the advantage, that you can have normal text on the page (ie.
> post_content) and the terms listed along side that without having to deal
> with taxonomy metadata.
>
> --
> Dion Hulse / dd32
> Contact:
> ?e: contact at dd32.id.au
> ?Web: http://dd32.id.au/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lynne.pope at gmail.com  Sun Jan 30 13:21:57 2011
From: lynne.pope at gmail.com (Lynne Pope)
Date: Mon, 31 Jan 2011 02:21:57 +1300
Subject: [wp-hackers] Weird behaviour with comment_author_url and input
	placeholders
In-Reply-To: <AANLkTimA=M3xyaxJ+kYWU8_fv6mkGDRHkkrCfw1QppK4@mail.gmail.com>
References: <AANLkTimA=M3xyaxJ+kYWU8_fv6mkGDRHkkrCfw1QppK4@mail.gmail.com>
Message-ID: <AANLkTikPmsMirVxMcZsM58yCw0LfnQVcDtv6LXNWkOrK@mail.gmail.com>

I would, IF the sites were using any JavaScript for HTML5 support. At this
stage in their development the only scripts being used are WordPress' jQuery
& comments scripts.
Opera 11 has native support for placeholders but is still submitting the
placeholder text to the database. Opera also has support for checking
against patterns, but this is overridden by WordPress inputting http:// to
the url field when the form is submitted.

Other browsers are not recognising the placeholder but its still being sent
to the database.

Is there a filter I can use to override the default $linktext behaviour to
make comment_author_url recognise that if its empty then it really is empty?

Lynne


On Sat, Jan 29, 2011 at 1:35 AM, SWORD Studios <info at swordstudios.net>wrote:

> Try removing the js for html 5 support and test the form in a browser that
> provides native placeholder support. I bet you'll find it'll work fine
> then.
> On Jan 27, 2011 8:05 AM, "Lynne Pope" <lynne.pope at gmail.com> wrote:
> > I've been working on two sites, one on WP 2.9.2 and another running
> 3.0.4.
> > Both require their comment forms to be written in HTML5 using the
> > placeholder tag.
> >
> > eg.
> > <label for="url">Website</label>
> > <input type="url" name="url" id="url" value="<?php echo
> > esc_attr($comment_author_url); ?>" placeholder="Enter Website Address
> > (optional)" pattern="https?://.+">
> >
> > In testing, we have identified a problem with comment_author_url that
> occurs
> > when people do not input an URL. For some reason, WordPress is picking up
> > the placeholder text and saving it into the database, like so:
> > http://EnterWebsiteAddress(optional)
> >
> > I'm having real trouble trying to identify why this is happening. The
> > placeholder attribute isn't inside the input value so should not be
> getting
> > picked up.
> >
>
>

From otto at ottodestruct.com  Sun Jan 30 15:25:29 2011
From: otto at ottodestruct.com (Otto)
Date: Sun, 30 Jan 2011 09:25:29 -0600
Subject: [wp-hackers] Weird behaviour with comment_author_url and input
	placeholders
In-Reply-To: <AANLkTikPmsMirVxMcZsM58yCw0LfnQVcDtv6LXNWkOrK@mail.gmail.com>
References: <AANLkTimA=M3xyaxJ+kYWU8_fv6mkGDRHkkrCfw1QppK4@mail.gmail.com>
	<AANLkTikPmsMirVxMcZsM58yCw0LfnQVcDtv6LXNWkOrK@mail.gmail.com>
Message-ID: <AANLkTinS5WTFHCaopJmaULnn68SfNytYso2pduQu3+NF@mail.gmail.com>

WordPress can't magically discern what the placeholder text is. If
it's being saved, then it's being submitted to the form by the
browser.

-Otto



On Sun, Jan 30, 2011 at 7:21 AM, Lynne Pope <lynne.pope at gmail.com> wrote:
> I would, IF the sites were using any JavaScript for HTML5 support. At this
> stage in their development the only scripts being used are WordPress' jQuery
> & comments scripts.
> Opera 11 has native support for placeholders but is still submitting the
> placeholder text to the database. Opera also has support for checking
> against patterns, but this is overridden by WordPress inputting http:// to
> the url field when the form is submitted.
>
> Other browsers are not recognising the placeholder but its still being sent
> to the database.
>
> Is there a filter I can use to override the default $linktext behaviour to
> make comment_author_url recognise that if its empty then it really is empty?
>
> Lynne

From jayarjo at gmail.com  Sun Jan 30 15:40:25 2011
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Sun, 30 Jan 2011 19:40:25 +0400
Subject: [wp-hackers] preloaded media on Media > Add New page..?
Message-ID: <AANLkTi=Y0_r1on3h4ip3ex83+BsSHcNUcbs02mvd9qu_@mail.gmail.com>

media-upload.php has such code for inline case (Media > Add New):

<script type="text/javascript">
//<![CDATA[
jQuery(function($){
	var preloaded = $(".media-item.preloaded");
	if ( preloaded.length > 0 ) {
		preloaded.each(function(){prepareMediaItem({id:this.id.replace(/[^0-9]/g,
'')},'');});
	}
	updateMediaForm();
});
//]]>
</script>

Apparently there is a case when media is preloaded on that page..?
I've never anything on there. When does this case actually happen?


Davit Barbakadze

From halukkaramete at gmail.com  Sun Jan 30 16:47:00 2011
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Sun, 30 Jan 2011 08:47:00 -0800
Subject: [wp-hackers] Creating Custom Taxonomies on the fly
In-Reply-To: <826820A6-E376-4348-B401-56BDD30F26C3@newclarity.net>
References: <AANLkTin+14O2rdFoHw-FJmKiFZA=CebtV8zrRWOX=m3X@mail.gmail.com>
	<op.vp3f6ku5spxmuu@ho.st>
	<AANLkTimxhnQ0ABWieEMzjdS_=ynyjC=EWjtO+j4xUkLi@mail.gmail.com>
	<AANLkTinm52VTZANhNMv_CWQ6KG-mJHAUdiUS1KCyAPEs@mail.gmail.com>
	<op.vp3y9odxspxmuu@ho.st>
	<826820A6-E376-4348-B401-56BDD30F26C3@newclarity.net>
Message-ID: <AANLkTikFkvSo7dmyRVtRpDm7uUJOMzdGUr84gS1SfeQt@mail.gmail.com>

Thanks for the SQL statement guys. What do you think of the
methodology though? If this feature were to be turned on by a simple
flag, wouldn't it be time-saver for a ton of functionality for content
rich multi-level web sites. In my opinion, coming up with cats & sub
cats are always a challenge. It's wishful thinking vs reality haywire
hell. But with organically growing tags under related taxonomies, sub
categories are born naturally and evolve naturally - totally
hands-free.

Any thought on this as a generic feature that might come with WP out
of the box. Just like the multi-site feature, it can only be turned on
by those who want it. Do you guys think this technique would ease the
hierarchy management of complex web sites? Or is it not a good idea to
begin with anyway?



On Sat, Jan 29, 2011 at 11:02 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> On Jan 30, 2011, at 1:35 AM, Dion Hulse (dd32) wrote:
>> I'll be honest, I'm not a SQL performance nut, and I hate data duplication.
>> I've just grabbed a SQL in use on a reasonably -low traffic- site which has about 200 terms in total and a few hundred posts, the result of this is transient cached(which is cleared when tags/cats change) and the site uses super cache as well, So the site has never had any performance issues or scaling problems due to this - Thats not to say it won't in the future of course.
>>
>> SELECT DISTINCT t.*
>> FROM wp_terms AS t
>> ?JOIN wp_term_taxonomy AS tt ON ( t.term_id = tt.term_id AND tt.count >0 )
>> ?LEFT JOIN wp_term_relationships AS tr ON tt.term_taxonomy_id = tr.term_taxonomy_id
>> WHERE tt.taxonomy = 'post_tag'
>> AND tr.object_id
>> IN (
>> ?SELECT tr.object_id
>> ?FROM wp_term_relationships AS tr
>> ? ?LEFT JOIN wp_term_taxonomy AS tt ON tr.term_taxonomy_id = tt.term_taxonomy_id
>> ?WHERE tt.term_id = 3 # This is the Term ID of the category (or any related taxonomy really) that you want to intersect the tags with
>> )
>> ORDER BY t.name ASC
>>
>> I'm sure it's not the best query, it could certainly be optimized (I'm pretty sure it's possible to get rid of that sub select, that'll choke when there are hundeds of posts in a category), but my main reason for digging it up, is the point out that you don't have to load all the posts up, just the ID's of the posts, which is stored in the taxonomy tables anyway.
>>
>
> You are right, it's not very optimized. You really don't need dependent subqueries[1] like that if you can at all help it. ?This unravels them:
>
> SELECT DISTINCT
> ? ? ? ?wp_terms.*
> FROM wp_terms
> ? ? ? ?INNER JOIN wp_term_taxonomy ON wp_terms.term_id = wp_term_taxonomy.term_id
> ? ? ? ?INNER JOIN wp_term_relationships ON wp_term_taxonomy.term_taxonomy_id = wp_term_relationships.term_taxonomy_id
> ? ? ? ?INNER JOIN wp_term_relationships intersected_term_relationships ON wp_term_relationships.object_id = intersected_term_relationships.object_id
> ? ? ? ?INNER JOIN wp_term_taxonomy intersected_term_taxonomy ON intersected_term_relationships.term_taxonomy_id = intersected_term_taxonomy.term_taxonomy_id
> WHERE 1=1
> ? ? ? ?AND wp_terms.term_id<>intersected_term_taxonomy.term_id
> ? ? ? ?AND wp_term_taxonomy.count > 0
> ? ? ? ?AND wp_term_taxonomy.taxonomy = 'post_tag'
> ? ? ? ?AND intersected_term_taxonomy.term_id=3
> ORDER BY
> ? ? ? ?wp_terms.name ASC
>
> Of course if you are going to use it in PHP for WordPress this would be more useful:
>
> ?global $wpdb;
> ?$sql =<<<SQL
> SELECT DISTINCT
> ? ? ? ?{$wpdb->terms}.*
> FROM {$wpdb->terms}
> ? ? ? ?INNER JOIN {$wpdb->term_taxonomy} ON {$wpdb->terms}.term_id = {$wpdb->term_taxonomy}.term_id
> ? ? ? ?INNER JOIN wp_term_{$wpdb->term_taxonomy} ON {$wpdb->term_taxonomy}.term_taxonomy_id = {$wpdb->term_taxonomy}.term_taxonomy_id
> ? ? ? ?INNER JOIN {$wpdb->term_taxonomy} intersected_term_relationships ON {$wpdb->term_taxonomy}.object_id = intersected_term_relationships.object_id
> ? ? ? ?INNER JOIN {$wpdb->term_taxonomy} intersected_term_taxonomy ON intersected_term_relationships.term_taxonomy_id = intersected_term_taxonomy.term_taxonomy_id
> WHERE 1=1
> ? ? ? ?AND {$wpdb->terms}.term_id<>intersected_term_taxonomy.term_id
> ? ? ? ?AND {$wpdb->term_taxonomy}.count > 0
> ? ? ? ?AND {$wpdb->term_taxonomy}.taxonomy = 'post_tag'
> ? ? ? ?AND intersected_term_taxonomy.term_id=%d
> ORDER BY
> ? ? ? ?{$wpdb->terms}.name ASC
> SQL;
> ?$sql = $wpdb->prepare($sql,3); // 3 is your category ID
>
> Hope this helps.
>
> -Mike
> [1] http://www.xaprb.com/blog/2006/04/30/how-to-optimize-subqueries-and-joins-in-mysql/
>
> P.S. Too bad stuff like this isn't available natively in WP_Query.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jayarjo at gmail.com  Sun Jan 30 17:17:50 2011
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Sun, 30 Jan 2011 21:17:50 +0400
Subject: [wp-hackers] hide-if-no-js... what's the point? is wordpress
 functional without javascript?
Message-ID: <AANLkTikJFiXAvQd1kFgLuS+_bZbrV1fBDye_7mt1Y8VS@mail.gmail.com>

I encounter this class here and there in the source. So it brought me
a question - can WordPress actually operate with JavaScript turned
off? I tried and it surprisingly does to some extent. But then...
what's the point?

Davit Barbakadze

From jeff at jeffrose.ca  Sun Jan 30 17:57:44 2011
From: jeff at jeffrose.ca (Jeff Rose)
Date: Sun, 30 Jan 2011 09:57:44 -0800
Subject: [wp-hackers] custom taxonomy list page?
Message-ID: <AANLkTinjqZj20dUNZoyzT6jZ3Djh-Sbt1ZKpohUt0Hi0@mail.gmail.com>

On Sat, Jan 29, 2011 at 10:35 PM,
<wp-hackers-request at lists.automattic.com>wrote:

>
>
> ---------- Forwarded message ----------
> From: Joshua Sibelman <joshua.sibelman at gmail.com>
> To: wp-hackers at lists.automattic.com
> Date: Sat, 29 Jan 2011 19:50:00 -0800
> Subject: [wp-hackers] custom taxonomy list page?
> I've been searching Google for this to no avail.
>
> I'm working on a restaurant site, and I have a custom post type for dishes,
> like so:
>
> function dish_register() {
>    $labels = array(
>        'name'=>_x('Dishes', 'post type general name'),
>        'singular_name'=>_x('Dish', 'post type singular name'),
>        'add_new'=>_x('Add New', 'dish'),
>        'add_new_item'=>__('Add New Dish'),
>        'edit_item'=>__('Edit Dish'),
>        'new_item'=>__('New Dish'),
>        'view_item'=>__('View Dish'),
>        'search_items'=>__('Search Dishes'),
>        'not_found'=>__('No Dishes Found'),
>        'not_found_in_trash'=>__('No dishes found in Trash'),
>        'parent_item_colon'=>''
>    );
>
>    $args = array(
>        'labels'=> $labels,
>        'public'=> true,
>        'publicly_queryable'=>true,
>        'show_ui'=>true,
>        'show_in_nav_menus'=>true,
>        'query_var'=>'dish',
>        'rewrite'=>true,
>        'capability_type'=>'post',
>        'hierarchicial'=>false,
>        'menu_position'=>5,
>        'supports'=>array(
>            'title',
>            'editor',
>            'thumbnail',
>            'excerpt',
>            'custom-fields',
>            'revisions'
>        )
>    );
>
>    register_post_type('dish', $args);
> }
>
> An example of one of the custom taxonomies I want to use is this:
>
> register_taxonomy('Main Ingredient', array('dish'), array(
>    'hierarchical' => true,
>    'label' => 'Main Ingredient',
>    'singular_label' => 'Main Ingredient',
>    'query_var'=>true,
>    'rewrite' => true)
> );
>
>
> The custom taxonomies are working fine in the admin, and I can go to
> http://myurl.com/main-ingredient/pork and see a list of all dishes with
> pork in them.
>
> What I'm wanting to do is be able to hit http://myurl.com/main-ingredientand get a list of all the various main-ingredient values.
>
> I found this reference, which is exactly what I'm trying to do:
>
> http://wordpress.stackexchange.com/questions/4663/custom-taxonomy-listing-page-when-no-term-set-all-terms
>
> But the solution is not working for me - I'm still getting a 404 when going
> to http://myurl.com/main-ingredient
>
> Any suggestions on how best to do this?
>
> Thanks,
> Josh
>
> WordPress should handle this automatically. I'm doing much the same thing
and I think this is the key:

        'rewrite' => array(
            'slug' => 'main-ingredient'
        )

Add that to your taxonomy definition, visit the permalinks and re-save them.

This is working for me on a plugin I'm developing.

From jane at automattic.com  Sun Jan 30 18:02:34 2011
From: jane at automattic.com (Jane Wells)
Date: Sun, 30 Jan 2011 13:02:34 -0500
Subject: [wp-hackers] hide-if-no-js... what's the point? is wordpress
 functional without javascript?
In-Reply-To: <AANLkTikJFiXAvQd1kFgLuS+_bZbrV1fBDye_7mt1Y8VS@mail.gmail.com>
References: <AANLkTikJFiXAvQd1kFgLuS+_bZbrV1fBDye_7mt1Y8VS@mail.gmail.com>
Message-ID: <4D45A7BA.2030103@automattic.com>

On 1/30/11 12:17 PM, Davit Barbakadze wrote:
> I encounter this class here and there in the source. So it brought me
> a question - can WordPress actually operate with JavaScript turned
> off? I tried and it surprisingly does to some extent. But then...
> what's the point?
WordPress is intentionally functional with JavaScript turned off to 
comply with accessibility regulations. There are unfortunately a couple 
of features that require JavaScript, but for almost everything except 
screen options there is a workaround, clunky though it may be.

From joshua.sibelman at gmail.com  Sun Jan 30 20:26:00 2011
From: joshua.sibelman at gmail.com (Joshua Sibelman)
Date: Sun, 30 Jan 2011 12:26:00 -0800
Subject: [wp-hackers] custom taxonomy list page?
In-Reply-To: <AANLkTinjqZj20dUNZoyzT6jZ3Djh-Sbt1ZKpohUt0Hi0@mail.gmail.com>
References: <AANLkTinjqZj20dUNZoyzT6jZ3Djh-Sbt1ZKpohUt0Hi0@mail.gmail.com>
Message-ID: <7DC22392-4ACE-46B4-BD76-92D587A1987D@gmail.com>

Hi Jeff,

Adding the slug explicitly as 'main-ingredient' did not work for me. It was one of the first things I tried. With or without that directive, '/main-ingredient/chicken' yielded results, where '/main-ingredient/' did not.

If you have this working, I'd love to see a working example and how you did it.

Thanks.


On Jan 30, 2011, at 9:57 AM, Jeff Rose wrote:

> On Sat, Jan 29, 2011 at 10:35 PM,
> <wp-hackers-request at lists.automattic.com>wrote:
> 
>> 
>> 
>> ---------- Forwarded message ----------
>> From: Joshua Sibelman <joshua.sibelman at gmail.com>
>> To: wp-hackers at lists.automattic.com
>> Date: Sat, 29 Jan 2011 19:50:00 -0800
>> Subject: [wp-hackers] custom taxonomy list page?
>> I've been searching Google for this to no avail.
>> 
>> I'm working on a restaurant site, and I have a custom post type for dishes,
>> like so:
>> 
>> function dish_register() {
>>   $labels = array(
>>       'name'=>_x('Dishes', 'post type general name'),
>>       'singular_name'=>_x('Dish', 'post type singular name'),
>>       'add_new'=>_x('Add New', 'dish'),
>>       'add_new_item'=>__('Add New Dish'),
>>       'edit_item'=>__('Edit Dish'),
>>       'new_item'=>__('New Dish'),
>>       'view_item'=>__('View Dish'),
>>       'search_items'=>__('Search Dishes'),
>>       'not_found'=>__('No Dishes Found'),
>>       'not_found_in_trash'=>__('No dishes found in Trash'),
>>       'parent_item_colon'=>''
>>   );
>> 
>>   $args = array(
>>       'labels'=> $labels,
>>       'public'=> true,
>>       'publicly_queryable'=>true,
>>       'show_ui'=>true,
>>       'show_in_nav_menus'=>true,
>>       'query_var'=>'dish',
>>       'rewrite'=>true,
>>       'capability_type'=>'post',
>>       'hierarchicial'=>false,
>>       'menu_position'=>5,
>>       'supports'=>array(
>>           'title',
>>           'editor',
>>           'thumbnail',
>>           'excerpt',
>>           'custom-fields',
>>           'revisions'
>>       )
>>   );
>> 
>>   register_post_type('dish', $args);
>> }
>> 
>> An example of one of the custom taxonomies I want to use is this:
>> 
>> register_taxonomy('Main Ingredient', array('dish'), array(
>>   'hierarchical' => true,
>>   'label' => 'Main Ingredient',
>>   'singular_label' => 'Main Ingredient',
>>   'query_var'=>true,
>>   'rewrite' => true)
>> );
>> 
>> 
>> The custom taxonomies are working fine in the admin, and I can go to
>> http://myurl.com/main-ingredient/pork and see a list of all dishes with
>> pork in them.
>> 
>> What I'm wanting to do is be able to hit http://myurl.com/main-ingredientand get a list of all the various main-ingredient values.
>> 
>> I found this reference, which is exactly what I'm trying to do:
>> 
>> http://wordpress.stackexchange.com/questions/4663/custom-taxonomy-listing-page-when-no-term-set-all-terms
>> 
>> But the solution is not working for me - I'm still getting a 404 when going
>> to http://myurl.com/main-ingredient
>> 
>> Any suggestions on how best to do this?
>> 
>> Thanks,
>> Josh
>> 
>> WordPress should handle this automatically. I'm doing much the same thing
> and I think this is the key:
> 
>        'rewrite' => array(
>            'slug' => 'main-ingredient'
>        )
> 
> Add that to your taxonomy definition, visit the permalinks and re-save them.
> 
> This is working for me on a plugin I'm developing.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp-hackers at thecodecave.com  Sun Jan 30 22:25:23 2011
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Sun, 30 Jan 2011 17:25:23 -0500
Subject: [wp-hackers] Credential Storage
Message-ID: <4D45E553.9000507@thecodecave.com>

I have a plugin that integrates WordPress with a blogger's Ning 
community. It provides some user credential synchronization and basic 
status updating.

The project main feature is that the same username and password grants 
access to both the WordPress and Ning applications.  I've been planning 
to add this plugin to the WP.org repository for two years now.  One of 
the areas that has always concerned me and what is preventing me from 
sharing this code is the handling of the credentials.

When working with a single login system, you have the advantages of 
using a one way hash.  When your code needs to login to another system 
not built to provide tokens et al, you obviously don't have that 
advantage.  So, what would you recommend? I mean is there anything that 
I can do that would provide a decent level of security that will prevent 
people using this plugin as a harvesting tool for abusive actions?   If 
there isn't then maybe this a tool that is best not shared?  Should I 
make it a premium plugin so that people feel that there is a record 
associated with it?

Lots of people have asked for a WordPress/Ning Bridge, I just don't want 
to make it easy for people to abuse the feature. So rot13 is not the way 
to go, but is anything else really any better?

-- 
Brian Layman
http://eHermitsInc.com
Managed WordPress Hosting


From wp-hackers at thecodecave.com  Sun Jan 30 23:44:33 2011
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Sun, 30 Jan 2011 18:44:33 -0500
Subject: [wp-hackers] Getting started with BackPress
In-Reply-To: <AANLkTinWMJ2+v57D-1tCNYtJDnsDy0je5FDyAzDgpWZ+@mail.gmail.com>
References: <AANLkTinWMJ2+v57D-1tCNYtJDnsDy0je5FDyAzDgpWZ+@mail.gmail.com>
Message-ID: <4D45F7E1.2020604@thecodecave.com>

On 30 Jan 2011, at 01:44, Alex Hempton-Smith wrote:
>> I'm looking into using BackPress to form the start of a CRM I need to build. However, I can't seem to find any tutorials or samples of how to get started with it, or how to create an example application.
>>
>> Does anybody on the list have any tips or perhaps references to apps I could look at? Trying to dissect the way WP or GlotPress uses it seems quite daunting!

Now you've gone and done it.  You've made me write the post I've been 
putting off since October.

http://thecodecave.com/2011/01/30/getting-started-with-backpress/

It has less code in it now than I'd originally planned (less=none), but 
it's my overview of what I expected BackPress to be and what it really 
was.  I hope it helps some. I also include a link to the SVN repo of 
another project that really helped me get started.

I'll respond to any follow-up questions on the BackPress List.

Cheers!

-- 

*Brian Layman *

Founder and Developer
ehermitsInc.com <mailto:brian at ehermitsInc.com>
twitter: @brianlayman

From mikeschinkel at newclarity.net  Mon Jan 31 01:27:09 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 30 Jan 2011 20:27:09 -0500
Subject: [wp-hackers] Creating Custom Taxonomies on the fly
In-Reply-To: <AANLkTikFkvSo7dmyRVtRpDm7uUJOMzdGUr84gS1SfeQt@mail.gmail.com>
References: <AANLkTin+14O2rdFoHw-FJmKiFZA=CebtV8zrRWOX=m3X@mail.gmail.com>
	<op.vp3f6ku5spxmuu@ho.st>
	<AANLkTimxhnQ0ABWieEMzjdS_=ynyjC=EWjtO+j4xUkLi@mail.gmail.com>
	<AANLkTinm52VTZANhNMv_CWQ6KG-mJHAUdiUS1KCyAPEs@mail.gmail.com>
	<op.vp3y9odxspxmuu@ho.st>
	<826820A6-E376-4348-B401-56BDD30F26C3@newclarity.net>
	<AANLkTikFkvSo7dmyRVtRpDm7uUJOMzdGUr84gS1SfeQt@mail.gmail.com>
Message-ID: <9C105C2C-AE36-4DDA-8318-4401E625E552@newclarity.net>

Add a trac ticket and see if it goes anywhere.

-Mike

On Jan 30, 2011, at 11:47 AM, Haluk Karamete wrote:

> Thanks for the SQL statement guys. What do you think of the
> methodology though? If this feature were to be turned on by a simple
> flag, wouldn't it be time-saver for a ton of functionality for content
> rich multi-level web sites. In my opinion, coming up with cats & sub
> cats are always a challenge. It's wishful thinking vs reality haywire
> hell. But with organically growing tags under related taxonomies, sub
> categories are born naturally and evolve naturally - totally
> hands-free.
> 
> Any thought on this as a generic feature that might come with WP out
> of the box. Just like the multi-site feature, it can only be turned on
> by those who want it. Do you guys think this technique would ease the
> hierarchy management of complex web sites? Or is it not a good idea to
> begin with anyway?
> 
> 
> 
> On Sat, Jan 29, 2011 at 11:02 PM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
>> On Jan 30, 2011, at 1:35 AM, Dion Hulse (dd32) wrote:
>>> I'll be honest, I'm not a SQL performance nut, and I hate data duplication.
>>> I've just grabbed a SQL in use on a reasonably -low traffic- site which has about 200 terms in total and a few hundred posts, the result of this is transient cached(which is cleared when tags/cats change) and the site uses super cache as well, So the site has never had any performance issues or scaling problems due to this - Thats not to say it won't in the future of course.
>>> 
>>> SELECT DISTINCT t.*
>>> FROM wp_terms AS t
>>>  JOIN wp_term_taxonomy AS tt ON ( t.term_id = tt.term_id AND tt.count >0 )
>>>  LEFT JOIN wp_term_relationships AS tr ON tt.term_taxonomy_id = tr.term_taxonomy_id
>>> WHERE tt.taxonomy = 'post_tag'
>>> AND tr.object_id
>>> IN (
>>>  SELECT tr.object_id
>>>  FROM wp_term_relationships AS tr
>>>    LEFT JOIN wp_term_taxonomy AS tt ON tr.term_taxonomy_id = tt.term_taxonomy_id
>>>  WHERE tt.term_id = 3 # This is the Term ID of the category (or any related taxonomy really) that you want to intersect the tags with
>>> )
>>> ORDER BY t.name ASC
>>> 
>>> I'm sure it's not the best query, it could certainly be optimized (I'm pretty sure it's possible to get rid of that sub select, that'll choke when there are hundeds of posts in a category), but my main reason for digging it up, is the point out that you don't have to load all the posts up, just the ID's of the posts, which is stored in the taxonomy tables anyway.
>>> 
>> 
>> You are right, it's not very optimized. You really don't need dependent subqueries[1] like that if you can at all help it.  This unravels them:
>> 
>> SELECT DISTINCT
>>        wp_terms.*
>> FROM wp_terms
>>        INNER JOIN wp_term_taxonomy ON wp_terms.term_id = wp_term_taxonomy.term_id
>>        INNER JOIN wp_term_relationships ON wp_term_taxonomy.term_taxonomy_id = wp_term_relationships.term_taxonomy_id
>>        INNER JOIN wp_term_relationships intersected_term_relationships ON wp_term_relationships.object_id = intersected_term_relationships.object_id
>>        INNER JOIN wp_term_taxonomy intersected_term_taxonomy ON intersected_term_relationships.term_taxonomy_id = intersected_term_taxonomy.term_taxonomy_id
>> WHERE 1=1
>>        AND wp_terms.term_id<>intersected_term_taxonomy.term_id
>>        AND wp_term_taxonomy.count > 0
>>        AND wp_term_taxonomy.taxonomy = 'post_tag'
>>        AND intersected_term_taxonomy.term_id=3
>> ORDER BY
>>        wp_terms.name ASC
>> 
>> Of course if you are going to use it in PHP for WordPress this would be more useful:
>> 
>>  global $wpdb;
>>  $sql =<<<SQL
>> SELECT DISTINCT
>>        {$wpdb->terms}.*
>> FROM {$wpdb->terms}
>>        INNER JOIN {$wpdb->term_taxonomy} ON {$wpdb->terms}.term_id = {$wpdb->term_taxonomy}.term_id
>>        INNER JOIN wp_term_{$wpdb->term_taxonomy} ON {$wpdb->term_taxonomy}.term_taxonomy_id = {$wpdb->term_taxonomy}.term_taxonomy_id
>>        INNER JOIN {$wpdb->term_taxonomy} intersected_term_relationships ON {$wpdb->term_taxonomy}.object_id = intersected_term_relationships.object_id
>>        INNER JOIN {$wpdb->term_taxonomy} intersected_term_taxonomy ON intersected_term_relationships.term_taxonomy_id = intersected_term_taxonomy.term_taxonomy_id
>> WHERE 1=1
>>        AND {$wpdb->terms}.term_id<>intersected_term_taxonomy.term_id
>>        AND {$wpdb->term_taxonomy}.count > 0
>>        AND {$wpdb->term_taxonomy}.taxonomy = 'post_tag'
>>        AND intersected_term_taxonomy.term_id=%d
>> ORDER BY
>>        {$wpdb->terms}.name ASC
>> SQL;
>>  $sql = $wpdb->prepare($sql,3); // 3 is your category ID
>> 
>> Hope this helps.
>> 
>> -Mike
>> [1] http://www.xaprb.com/blog/2006/04/30/how-to-optimize-subqueries-and-joins-in-mysql/
>> 
>> P.S. Too bad stuff like this isn't available natively in WP_Query.
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jayarjo at gmail.com  Mon Jan 31 07:15:51 2011
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Mon, 31 Jan 2011 11:15:51 +0400
Subject: [wp-hackers]  backend script that will do only authentication,
 without loading complete WordPress
Message-ID: <AANLkTim-VP3HVv_AT1dmVtM41sa0i_wqfLq9aNxmcPDq@mail.gmail.com>

We need to repeatedly send some info from client-side to WordPress
backend, but I guess loading complete WordPress to execute some very
simple operations would be an overkill. I knew there was a workaround
for load-script.php which minifies admin scripts, but looking at the
code now I see that it doesn't check for authentication, does it? In
our case that might be harmful. We need to check whether user is
logged in and is an admin. Is there an easy way to do that, without
loading complete WordPress?


Davit Barbakadze

From jayarjo at gmail.com  Mon Jan 31 11:17:34 2011
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Mon, 31 Jan 2011 15:17:34 +0400
Subject: [wp-hackers] backend script that will do only authentication,
 without loading complete WordPress
In-Reply-To: <AANLkTim-VP3HVv_AT1dmVtM41sa0i_wqfLq9aNxmcPDq@mail.gmail.com>
References: <AANLkTim-VP3HVv_AT1dmVtM41sa0i_wqfLq9aNxmcPDq@mail.gmail.com>
Message-ID: <AANLkTinnBssNBAw4JxMmDJg4Of1-ctVMJY_pir98n7zG@mail.gmail.com>

Might something like this have any practical value at all? Or maybe
I'm looking in totally wrong direction?

Davit Barbakadze




On Mon, Jan 31, 2011 at 11:15 AM, Davit Barbakadze <jayarjo at gmail.com> wrote:
> We need to repeatedly send some info from client-side to WordPress
> backend, but I guess loading complete WordPress to execute some very
> simple operations would be an overkill. I knew there was a workaround
> for load-script.php which minifies admin scripts, but looking at the
> code now I see that it doesn't check for authentication, does it? In
> our case that might be harmful. We need to check whether user is
> logged in and is an admin. Is there an easy way to do that, without
> loading complete WordPress?
>
>
> Davit Barbakadze
>

From wp at andrewnacin.com  Mon Jan 31 12:03:38 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 31 Jan 2011 07:03:38 -0500
Subject: [wp-hackers] backend script that will do only authentication,
 without loading complete WordPress
In-Reply-To: <AANLkTim-VP3HVv_AT1dmVtM41sa0i_wqfLq9aNxmcPDq@mail.gmail.com>
References: <AANLkTim-VP3HVv_AT1dmVtM41sa0i_wqfLq9aNxmcPDq@mail.gmail.com>
Message-ID: <AANLkTi=pzoAVMJyhjM+B-T+C+DuMHOCH5wQgRgS8k386@mail.gmail.com>

On Mon, Jan 31, 2011 at 2:15 AM, Davit Barbakadze <jayarjo at gmail.com> wrote:

> We need to repeatedly send some info from client-side to WordPress
> backend, but I guess loading complete WordPress to execute some very
> simple operations would be an overkill. I knew there was a workaround
> for load-script.php which minifies admin scripts, but looking at the
> code now I see that it doesn't check for authentication, does it? In
> our case that might be harmful. We need to check whether user is
> logged in and is an admin. Is there an easy way to do that, without
> loading complete WordPress?


I don't see how loading WordPress is going to be overkill. You need to load
WordPress to do what you're trying to do -- authentication requires quite a
bit to be loaded, including plugins, particularly if they're altering the
authentication process. Therefore this doesn't seem to have much practical
value.

There's no workaround in load-scripts/styles.php; as you've found, they
simply don't do any authentication.

Nacin

From wp at andrewnacin.com  Mon Jan 31 12:07:00 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 31 Jan 2011 07:07:00 -0500
Subject: [wp-hackers] custom taxonomy list page?
In-Reply-To: <7DC22392-4ACE-46B4-BD76-92D587A1987D@gmail.com>
References: <AANLkTinjqZj20dUNZoyzT6jZ3Djh-Sbt1ZKpohUt0Hi0@mail.gmail.com>
	<7DC22392-4ACE-46B4-BD76-92D587A1987D@gmail.com>
Message-ID: <AANLkTi=9j4p8vRvPGSJ22teR7eCp1JxETvDSaYYFEMEN@mail.gmail.com>

On Sun, Jan 30, 2011 at 3:26 PM, Joshua Sibelman
<joshua.sibelman at gmail.com>wrote:

> Hi Jeff,
>
> Adding the slug explicitly as 'main-ingredient' did not work for me. It was
> one of the first things I tried. With or without that directive,
> '/main-ingredient/chicken' yielded results, where '/main-ingredient/' did
> not.
>
> If you have this working, I'd love to see a working example and how you did
> it.
>
> Thanks.


Those don't work in the same way that /category/ or /tag/ won't work either.
Taxonomy bases are invalid URLs.

Some have suggested WordPress support them. The problem is, that turns into
two different suggestions. On one side, some suggest that it should show a
archive of all objects that have a relationship with any term in that
taxonomy. On the other, some suggest it should be a list of all term, or
perhaps a term cloud.

The best solution is to leave it to custom implementation based on the use
case.

Cheers,
Nacin

From mikeschinkel at newclarity.net  Mon Jan 31 12:41:42 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 31 Jan 2011 07:41:42 -0500
Subject: [wp-hackers] custom taxonomy list page?
In-Reply-To: <AANLkTi=9j4p8vRvPGSJ22teR7eCp1JxETvDSaYYFEMEN@mail.gmail.com>
References: <AANLkTinjqZj20dUNZoyzT6jZ3Djh-Sbt1ZKpohUt0Hi0@mail.gmail.com>
	<7DC22392-4ACE-46B4-BD76-92D587A1987D@gmail.com>
	<AANLkTi=9j4p8vRvPGSJ22teR7eCp1JxETvDSaYYFEMEN@mail.gmail.com>
Message-ID: <A0C9DC29-7944-47CA-AEBB-73F7A0B9E1B9@newclarity.net>

On Jan 31, 2011, at 7:07 AM, Andrew Nacin wrote:
> Some have suggested WordPress support them. The problem is, that turns into
> two different suggestions. On one side, some suggest that it should show a
> archive of all objects that have a relationship with any term in that
> taxonomy. On the other, some suggest it should be a list of all term, or
> perhaps a term cloud.
> 
> The best solution is to leave it to custom implementation based on the use
> case.

Or maybe a third "better than best" solution is to default to one and allow it to be changed by an arg passed to register_taxonomy().  But I digress...

-Mike

From jayarjo at gmail.com  Mon Jan 31 12:46:12 2011
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Mon, 31 Jan 2011 16:46:12 +0400
Subject: [wp-hackers] backend script that will do only authentication,
 without loading complete WordPress
In-Reply-To: <AANLkTi=pzoAVMJyhjM+B-T+C+DuMHOCH5wQgRgS8k386@mail.gmail.com>
References: <AANLkTim-VP3HVv_AT1dmVtM41sa0i_wqfLq9aNxmcPDq@mail.gmail.com>
	<AANLkTi=pzoAVMJyhjM+B-T+C+DuMHOCH5wQgRgS8k386@mail.gmail.com>
Message-ID: <AANLkTin=QkVymtDDEb2LTCS6-Ki+RjTi1p_vV8nPiOL1@mail.gmail.com>

I wrote simple script, which checks for current users capabilities,
just to find out if it is possible, whether it's easy and whether it
has any sense. I should say that while it is possible, it's not
exactly easy, since I had to put some plugs here an there. But now
your mentioning of plugins modifying authentication process kinda
ruined it all :) Is this such a wide-spread practice? I would really
like this plugin to work with as much cases as possible.

Otherwise loading complete WordPress tends to be 3-5 times slower
(tested on clean install). Could potentially be a nice performance
boost. Of course if it doesn't ruin other things...

Here is the code: http://pastebin.com/TBUNSNzs.

Davit Barbakadze




On Mon, Jan 31, 2011 at 4:03 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> On Mon, Jan 31, 2011 at 2:15 AM, Davit Barbakadze <jayarjo at gmail.com> wrote:
>
>> We need to repeatedly send some info from client-side to WordPress
>> backend, but I guess loading complete WordPress to execute some very
>> simple operations would be an overkill. I knew there was a workaround
>> for load-script.php which minifies admin scripts, but looking at the
>> code now I see that it doesn't check for authentication, does it? In
>> our case that might be harmful. We need to check whether user is
>> logged in and is an admin. Is there an easy way to do that, without
>> loading complete WordPress?
>
>
> I don't see how loading WordPress is going to be overkill. You need to load
> WordPress to do what you're trying to do -- authentication requires quite a
> bit to be loaded, including plugins, particularly if they're altering the
> authentication process. Therefore this doesn't seem to have much practical
> value.
>
> There's no workaround in load-scripts/styles.php; as you've found, they
> simply don't do any authentication.
>
> Nacin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Mon Jan 31 12:48:04 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 31 Jan 2011 07:48:04 -0500
Subject: [wp-hackers] backend script that will do only authentication,
	without loading complete WordPress
In-Reply-To: <AANLkTin=QkVymtDDEb2LTCS6-Ki+RjTi1p_vV8nPiOL1@mail.gmail.com>
References: <AANLkTim-VP3HVv_AT1dmVtM41sa0i_wqfLq9aNxmcPDq@mail.gmail.com>
	<AANLkTi=pzoAVMJyhjM+B-T+C+DuMHOCH5wQgRgS8k386@mail.gmail.com>
	<AANLkTin=QkVymtDDEb2LTCS6-Ki+RjTi1p_vV8nPiOL1@mail.gmail.com>
Message-ID: <9044FC46-463C-40D0-A828-4A09A714A60B@newclarity.net>

On Jan 31, 2011, at 7:46 AM, Davit Barbakadze wrote:
> Otherwise loading complete WordPress tends to be 3-5 times slower
> (tested on clean install). Could potentially be a nice performance
> boost. Of course if it doesn't ruin other things...

Just curious; does that performance really matter for your use-case?

-Mike

From jayarjo at gmail.com  Mon Jan 31 13:05:01 2011
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Mon, 31 Jan 2011 17:05:01 +0400
Subject: [wp-hackers] backend script that will do only authentication,
 without loading complete WordPress
In-Reply-To: <9044FC46-463C-40D0-A828-4A09A714A60B@newclarity.net>
References: <AANLkTim-VP3HVv_AT1dmVtM41sa0i_wqfLq9aNxmcPDq@mail.gmail.com>
	<AANLkTi=pzoAVMJyhjM+B-T+C+DuMHOCH5wQgRgS8k386@mail.gmail.com>
	<AANLkTin=QkVymtDDEb2LTCS6-Ki+RjTi1p_vV8nPiOL1@mail.gmail.com>
	<9044FC46-463C-40D0-A828-4A09A714A60B@newclarity.net>
Message-ID: <AANLkTinYm5P+32RK6u9aYDbPW-UGBJX_2Ns_qnOsfueL@mail.gmail.com>

Mike, it is going to be an uploader. It will split files to chunks on
client-side, upload them one by one and stick together on server-side.
Server-side really should just check if user is authorized to upload
files, and tell whether operation went ok. Depending on comparative
sizes
of the file and chunk, their number can be quite big. Obviously, the
faster this process goes, the better. It's 3-5 times faster on clean
install with free resources. I think on busy servers difference will
rise dramatically. So I guess - yes - performance matters.

There was some important motivation behind load-scripts.php thing...
it's not exactly that clean in my case, but I still feel like it's
important.

Davit Barbakadze


On Mon, Jan 31, 2011 at 4:48 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> On Jan 31, 2011, at 7:46 AM, Davit Barbakadze wrote:
>> Otherwise loading complete WordPress tends to be 3-5 times slower
>> (tested on clean install). Could potentially be a nice performance
>> boost. Of course if it doesn't ruin other things...
>
> Just curious; does that performance really matter for your use-case?
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Mon Jan 31 13:10:28 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 31 Jan 2011 08:10:28 -0500
Subject: [wp-hackers] backend script that will do only authentication,
	without loading complete WordPress
In-Reply-To: <AANLkTinYm5P+32RK6u9aYDbPW-UGBJX_2Ns_qnOsfueL@mail.gmail.com>
References: <AANLkTim-VP3HVv_AT1dmVtM41sa0i_wqfLq9aNxmcPDq@mail.gmail.com>
	<AANLkTi=pzoAVMJyhjM+B-T+C+DuMHOCH5wQgRgS8k386@mail.gmail.com>
	<AANLkTin=QkVymtDDEb2LTCS6-Ki+RjTi1p_vV8nPiOL1@mail.gmail.com>
	<9044FC46-463C-40D0-A828-4A09A714A60B@newclarity.net>
	<AANLkTinYm5P+32RK6u9aYDbPW-UGBJX_2Ns_qnOsfueL@mail.gmail.com>
Message-ID: <4DD2520F-EE56-4B27-930A-B5F383F89A9C@newclarity.net>

On Jan 31, 2011, at 8:05 AM, Davit Barbakadze wrote:
> Mike, it is going to be an uploader. It will split files to chunks on
> client-side, upload them one by one and stick together on server-side.
> Server-side really should just check if user is authorized to upload
> files, and tell whether operation went ok. Depending on comparative
> sizes
> of the file and chunk, their number can be quite big. Obviously, the
> faster this process goes, the better. It's 3-5 times faster on clean
> install with free resources. I think on busy servers difference will
> rise dramatically. So I guess - yes - performance matters.
> 
> There was some important motivation behind load-scripts.php thing...
> it's not exactly that clean in my case, but I still feel like it's
> important.

Sounds like the actual uploading will be orders of magnitude more time consuming than the actual loading of WordPress each time. I wouldn't sweat it.

If you were building something that sent a character to the server via AJAX for every character that the user typed into TinyMCE  and expected a real-time response back, THEN I'd worry about it.

"Premature optimization is the root of all evil."  Or something like that. :)

Hope this helps.

-Mike

From peter.westwood at ftwr.co.uk  Mon Jan 31 13:31:39 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon, 31 Jan 2011 13:31:39 +0000
Subject: [wp-hackers] backend script that will do only authentication,
	without loading complete WordPress
In-Reply-To: <AANLkTinYm5P+32RK6u9aYDbPW-UGBJX_2Ns_qnOsfueL@mail.gmail.com>
References: <AANLkTim-VP3HVv_AT1dmVtM41sa0i_wqfLq9aNxmcPDq@mail.gmail.com>
	<AANLkTi=pzoAVMJyhjM+B-T+C+DuMHOCH5wQgRgS8k386@mail.gmail.com>
	<AANLkTin=QkVymtDDEb2LTCS6-Ki+RjTi1p_vV8nPiOL1@mail.gmail.com>
	<9044FC46-463C-40D0-A828-4A09A714A60B@newclarity.net>
	<AANLkTinYm5P+32RK6u9aYDbPW-UGBJX_2Ns_qnOsfueL@mail.gmail.com>
Message-ID: <37B0C5CD-5CC2-4578-B743-492DFD81059E@ftwr.co.uk>


On 31 Jan 2011, at 13:05, Davit Barbakadze wrote:

> Mike, it is going to be an uploader. It will split files to chunks on
> client-side, upload them one by one and stick together on server-side.
> Server-side really should just check if user is authorized to upload
> files, and tell whether operation went ok. Depending on comparative
> sizes
> of the file and chunk, their number can be quite big. Obviously, the
> faster this process goes, the better. It's 3-5 times faster on clean
> install with free resources. I think on busy servers difference will
> rise dramatically. So I guess - yes - performance matters.
> 
> There was some important motivation behind load-scripts.php thing...
> it's not exactly that clean in my case, but I still feel like it's
> important.


There was some motivation - I'm still not convinced it was important motivation and it is something I think we should revisit.

I would rather we worked on ensuring every load of WP was fast than hacked around it :)

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From jayarjo at gmail.com  Mon Jan 31 17:42:31 2011
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Mon, 31 Jan 2011 21:42:31 +0400
Subject: [wp-hackers]  wp_handle_upload() and test_upload=false
Message-ID: <AANLkTik=w1v1e_QdoWETOQqnEfUGfCirZkrLWQBB1V5b@mail.gmail.com>

wp_handle_upload() internally has a way to bypass a check for whether
file was uploaded, by passing in an override of test_upload=false.
Thus this will be bypassed:

 // A properly uploaded file will pass this test. There should be no
reason to override this one.
 if ( $test_upload && ! @ is_uploaded_file( $file['tmp_name'] ) )
        return call_user_func($upload_error_handler, $file, __(
'Specified file failed upload test.' ));

But, later on file is actually moved to the destination by
move_uploaded_file(), which basically does the same check as
is_uploaded_file() and there is no way to override it.

Our file is not uploaded, it is constructed out of chunks and in the
end in order to avoid code duplication we wanted to pass it to
wp_handle_upload().

It doesn't have sense - if file is already checked once for upload,
isn't it more logical to use mere rename() later on, rather then
implicit move_uploaded_file() ?

Davit Barbakadze

From markjaquith at gmail.com  Mon Jan 31 23:07:17 2011
From: markjaquith at gmail.com (Mark Jaquith)
Date: Mon, 31 Jan 2011 18:07:17 -0500
Subject: [wp-hackers] hide-if-no-js... what's the point? is wordpress
 functional without javascript?
In-Reply-To: <4D45A7BA.2030103@automattic.com>
References: <AANLkTikJFiXAvQd1kFgLuS+_bZbrV1fBDye_7mt1Y8VS@mail.gmail.com>
	<4D45A7BA.2030103@automattic.com>
Message-ID: <AANLkTimn8Dh4seSNYiE6i1O7tRQKeWOv8evTuy55f+Ri@mail.gmail.com>

On Sun, Jan 30, 2011 at 1:02 PM, Jane Wells <jane at automattic.com> wrote:
> WordPress is intentionally functional with JavaScript turned off to comply
> with accessibility regulations.

I'd like to think that our reasons are deeper than mere compliance
(and I'm sure you agree)!

On 1/30/11 12:17 PM, Davit Barbakadze wrote:
> I tried and it surprisingly does to some extent. But then... what's the point?

For someone with disabilities, accessible web publishing could
literally change their life. It's just the right thing to do. And
while we're not perfect, our considerable efforts have yielded a
remarkably accessible application.

We have two "magic" classes you can use: hide-if-no-js and hide-if-js.
I recommend that your plugins leverage these as much as possible when
creating accessible administration screens.

-- 
Mark Jaquith
? http://markjaquith.com/

