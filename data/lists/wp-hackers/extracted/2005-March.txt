From m at mullenweg.com  Thu Mar  3 21:38:57 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Thu Mar  3 21:39:06 2005
Subject: [wp-hackers] CDATA in feeds : good or not - import-rss.php problem
In-Reply-To: <80f75db050303133665900183@mail.gmail.com>
References: <80f75db05030313284bee6f3b@mail.gmail.com>	<422781DE.1020203@mullenweg.com>
	<80f75db050303133665900183@mail.gmail.com>
Message-ID: <422783F1.4030304@mullenweg.com>

Carthik Sharma wrote:
> The current problem is that this RSS file does not use CDATA, and
> instead uses encoded html entities in <content:encoded>.
> 
> Should I patch it to deal with the non-CDATA, encoded html?

That works.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From ckunte at gmail.com  Fri Mar  4 04:03:53 2005
From: ckunte at gmail.com (Chetan Kunte)
Date: Fri Mar  4 04:04:03 2005
Subject: [wp-hackers] Delay in login times
Message-ID: <74b84aa305030320031796b274@mail.gmail.com>

Is there anyway I can disable the integrated feed parser built-into
the Dashboard, because I think that's delaying my login time
considerably on my intranet install (WP 1.5).
-- 
Chetan
http://ckunte.com | http://xjbei.blogspot.com
From carthik at gmail.com  Fri Mar  4 04:18:14 2005
From: carthik at gmail.com (Carthik Sharma)
Date: Fri Mar  4 04:18:32 2005
Subject: [wp-hackers] Delay in login times
In-Reply-To: <74b84aa305030320031796b274@mail.gmail.com>
References: <74b84aa305030320031796b274@mail.gmail.com>
Message-ID: <80f75db050303201871da191f@mail.gmail.com>

Try the dashboard options plugins, which disables loading the feeds in
the dashboard. Last seen at : http://wp-plugins.net/index.php?id=131

Carthik.


On Fri, 4 Mar 2005 12:03:53 +0800, Chetan Kunte <ckunte@gmail.com> wrote:
> Is there anyway I can disable the integrated feed parser built-into
> the Dashboard, because I think that's delaying my login time
> considerably on my intranet install (WP 1.5).
> --
> Chetan
> http://ckunte.com | http://xjbei.blogspot.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
When nothing is done, nothing is left undone -- ?? L?ozi

University of Central Florida
Homepage: http://carthik.net
From ckunte at gmail.com  Fri Mar  4 09:57:39 2005
From: ckunte at gmail.com (Chetan Kunte)
Date: Fri Mar  4 09:57:56 2005
Subject: [wp-hackers] Delay in login times
In-Reply-To: <80f75db050303201871da191f@mail.gmail.com>
References: <74b84aa305030320031796b274@mail.gmail.com>
	<80f75db050303201871da191f@mail.gmail.com>
Message-ID: <74b84aa3050304015719cb6d16@mail.gmail.com>

Thanks! Carthik. That helps.


On Thu, 3 Mar 2005 23:18:14 -0500, Carthik Sharma <carthik@gmail.com> wrote:
> Try the dashboard options plugins, which disables loading the feeds in
> the dashboard. Last seen at : http://wp-plugins.net/index.php?id=131
> 
> Carthik.
> 
> 
> On Fri, 4 Mar 2005 12:03:53 +0800, Chetan Kunte <ckunte@gmail.com> wrote:
> > Is there anyway I can disable the integrated feed parser built-into
> > the Dashboard, because I think that's delaying my login time
> > considerably on my intranet install (WP 1.5).
> > --
> > Chetan
> > http://ckunte.com | http://xjbei.blogspot.com
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> --
> When nothing is done, nothing is left undone -- ?? L?ozi
> 
> University of Central Florida
> Homepage: http://carthik.net
> 


-- 
Chetan, CKunte.com
From wordpress at coldforged.org  Fri Mar  4 16:17:26 2005
From: wordpress at coldforged.org (Brian Dupuis)
Date: Fri Mar  4 16:17:42 2005
Subject: [wp-hackers] Plugin repository and tags usage
In-Reply-To: <1109465082.21196.49.camel@portnoy.fuzzybelly.org>
References: <422088C3.9070908@skippy.net>	<1109434927.21196.16.camel@portnoy.fuzzybelly.org>	<4220E986.1070205@coggburn.us>	<014a63c0020439a3014d28d95252300c@doocy.net>	<4220F9C1.7020204@coggburn.us>	<7235ce7805022615233f3f5d60@mail.gmail.com>
	<1109465082.21196.49.camel@portnoy.fuzzybelly.org>
Message-ID: <42288A16.5070107@coldforged.org>

Ryan Boren wrote:

>Same here, but only for 13 years.  Ongoing development always happens on
>the trunk.  That's why it's the trunk.
>  
>
I assume this is the same process we're suggesting/enforcing on the
plugin repository, yes? If so, is there any way to make this more known
or used? Few of the plugins seem to tag releases if the timeline on the
Wiki is any indication, and I know that I've had several logged
referrals to my site from people looking at the trunk version of my
plugins instead of the tags. It seems like a bit of a support nightmare
if I use the trunk mostly as it's intended for continuing development
and incremental checkins but with Joe Blogowner possibly downloading an
incremental update instead of one of the tags. Is there perhaps a way to
limit public view of anything but the tags?

I don't know what the solution is and I haven't actually been bitten on
this, but it seems like it is ripe for the possibility.

    Regards,
    Brian

From michelv at gmail.com  Fri Mar  4 17:29:34 2005
From: michelv at gmail.com (Michel Valdrighi)
Date: Fri Mar  4 17:30:29 2005
Subject: [wp-hackers] Plugin repository and tags usage
In-Reply-To: <42288A16.5070107@coldforged.org>
References: <422088C3.9070908@skippy.net>
	<1109434927.21196.16.camel@portnoy.fuzzybelly.org>
	<4220E986.1070205@coggburn.us>
	<014a63c0020439a3014d28d95252300c@doocy.net>
	<4220F9C1.7020204@coggburn.us>
	<7235ce7805022615233f3f5d60@mail.gmail.com>
	<1109465082.21196.49.camel@portnoy.fuzzybelly.org>
	<42288A16.5070107@coldforged.org>
Message-ID: <125fee7f05030409297a59fb14@mail.gmail.com>

On Fri, 04 Mar 2005 11:17:26 -0500, Brian Dupuis
<wordpress@coldforged.org> wrote:
> It seems like a bit of a support nightmare
> if I use the trunk mostly as it's intended for continuing development
> and incremental checkins but with Joe Blogowner possibly downloading an
> incremental update instead of one of the tags. Is there perhaps a way to
> limit public view of anything but the tags?

IIRC, Trac lists "trunk", and all other branches in the same directory, right?
What you could do is have a giant WARNING file in the trunk directory,
that states how you won't support code that is still in flux, and
directs them to the branches directories.
I don't think hiding "trunk" is possible, though...

-- 
Michel Valdrighi
Dev?loppeur Web Intraordinaire
http://zengun.org/weblog/
From michelv at gmail.com  Fri Mar  4 17:29:34 2005
From: michelv at gmail.com (Michel Valdrighi)
Date: Fri Mar  4 17:30:29 2005
Subject: [wp-hackers] Plugin repository and tags usage
In-Reply-To: <42288A16.5070107@coldforged.org>
References: <422088C3.9070908@skippy.net>
	<1109434927.21196.16.camel@portnoy.fuzzybelly.org>
	<4220E986.1070205@coggburn.us>
	<014a63c0020439a3014d28d95252300c@doocy.net>
	<4220F9C1.7020204@coggburn.us>
	<7235ce7805022615233f3f5d60@mail.gmail.com>
	<1109465082.21196.49.camel@portnoy.fuzzybelly.org>
	<42288A16.5070107@coldforged.org>
Message-ID: <125fee7f05030409297a59fb14@mail.gmail.com>

On Fri, 04 Mar 2005 11:17:26 -0500, Brian Dupuis
<wordpress@coldforged.org> wrote:
> It seems like a bit of a support nightmare
> if I use the trunk mostly as it's intended for continuing development
> and incremental checkins but with Joe Blogowner possibly downloading an
> incremental update instead of one of the tags. Is there perhaps a way to
> limit public view of anything but the tags?

IIRC, Trac lists "trunk", and all other branches in the same directory, right?
What you could do is have a giant WARNING file in the trunk directory,
that states how you won't support code that is still in flux, and
directs them to the branches directories.
I don't think hiding "trunk" is possible, though...

-- 
Michel Valdrighi
Dev?loppeur Web Intraordinaire
http://zengun.org/weblog/
From wordpress at coldforged.org  Fri Mar  4 18:11:47 2005
From: wordpress at coldforged.org (Brian Dupuis)
Date: Fri Mar  4 18:12:11 2005
Subject: [wp-hackers] Plugin repository and tags usage
In-Reply-To: <125fee7f05030409297a59fb14@mail.gmail.com>
References: <422088C3.9070908@skippy.net>	<1109434927.21196.16.camel@portnoy.fuzzybelly.org>	<4220E986.1070205@coggburn.us>	<014a63c0020439a3014d28d95252300c@doocy.net>	<4220F9C1.7020204@coggburn.us>	<7235ce7805022615233f3f5d60@mail.gmail.com>	<1109465082.21196.49.camel@portnoy.fuzzybelly.org>	<42288A16.5070107@coldforged.org>
	<125fee7f05030409297a59fb14@mail.gmail.com>
Message-ID: <4228A4E3.1040407@coldforged.org>

Michel Valdrighi wrote:

>On Fri, 04 Mar 2005 11:17:26 -0500, Brian Dupuis
><wordpress@coldforged.org> wrote:
>  
>
>>It seems like a bit of a support nightmare
>>if I use the trunk mostly as it's intended for continuing development
>>and incremental checkins but with Joe Blogowner possibly downloading an
>>incremental update instead of one of the tags. Is there perhaps a way to
>>limit public view of anything but the tags?
>>    
>>
>
>IIRC, Trac lists "trunk", and all other branches in the same directory, right?
>What you could do is have a giant WARNING file in the trunk directory,
>that states how you won't support code that is still in flux, and
>directs them to the branches directories.
>I don't think hiding "trunk" is possible, though...
>
>  
>
Good idea, Michael. Not a perfect solution, but hopefully will prevent 
90% of the problems.
From donncha at linux.ie  Fri Mar  4 21:52:58 2005
From: donncha at linux.ie (Donncha O Caoimh)
Date: Fri Mar  4 21:53:39 2005
Subject: [wp-hackers] Plugin repository and tags usage
In-Reply-To: <42288A16.5070107@coldforged.org>
References: <422088C3.9070908@skippy.net>	<1109434927.21196.16.camel@portnoy.fuzzybelly.org>	<4220E986.1070205@coggburn.us>	<014a63c0020439a3014d28d95252300c@doocy.net>	<4220F9C1.7020204@coggburn.us>	<7235ce7805022615233f3f5d60@mail.gmail.com>	<1109465082.21196.49.camel@portnoy.fuzzybelly.org>
	<42288A16.5070107@coldforged.org>
Message-ID: <4228D8BA.8040801@linux.ie>

SVN and Trac are development tools so I don't think this is an issue.
The source code for Mozilla is viewable through viewcvs I'm sure but I 
haven't been tempted to download it via that method. I go and download 
the official tarballs distributed on mozilla.org.
Make sure you release early and often and your users will be happy!

Donncha.

Brian Dupuis wrote:
> Ryan Boren wrote:
> 
>> Same here, but only for 13 years.  Ongoing development always happens on
>> the trunk.  That's why it's the trunk.
 > [snip]
> if I use the trunk mostly as it's intended for continuing development
> and incremental checkins but with Joe Blogowner possibly downloading an
> incremental update instead of one of the tags. Is there perhaps a way to
> limit public view of anything but the tags?
From m at mullenweg.com  Sat Mar  5 04:56:33 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Sat Mar  5 04:56:55 2005
Subject: [wp-hackers] Broken SVN copy
In-Reply-To: <42293AAE.40103@nuclearmoose.com>
References: <a491f91d05030417471864f908@mail.gmail.com>	<42291350.6050906@mullenweg.com>
	<42293AAE.40103@nuclearmoose.com>
Message-ID: <42293C01.8040604@mullenweg.com>

Craig Hartel wrote:
> I'm testing Mullenweg 1.5 alpha and so far it's looking pretty damn 
> good! ;)

Watch out! Sometimes a typo slips in and the whole thing falls apart.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From m at mullenweg.com  Sat Mar  5 17:15:37 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Sat Mar  5 17:15:56 2005
Subject: [wp-hackers] wp-plugins.org login mystery
In-Reply-To: <80f75db050305085367a19d22@mail.gmail.com>
References: <80f75db050305085367a19d22@mail.gmail.com>
Message-ID: <4229E939.1050401@mullenweg.com>

Carthik Sharma wrote:
> I tried deleting cookies (all of them), and saved passwords (All the
> wordpress.org ones) in my browser (FF 1.0.1), and still Trac won't
> play nice.

You just have to close the browser and reopen.

Also, please stop sending to the old hackers address! The new one is:

wp-hackers@lists.automattic.com

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From carthik at gmail.com  Sat Mar  5 17:46:13 2005
From: carthik at gmail.com (Carthik Sharma)
Date: Sat Mar  5 17:46:32 2005
Subject: [wp-hackers] wp-plugins.org login mystery
In-Reply-To: <4229E939.1050401@mullenweg.com>
References: <80f75db050305085367a19d22@mail.gmail.com>
	<4229E939.1050401@mullenweg.com>
Message-ID: <80f75db050305094623a77ded@mail.gmail.com>

On Sat, 05 Mar 2005 09:15:37 -0800, Matthew Mullenweg <m@mullenweg.com> wrote:
> Carthik Sharma wrote:
> > I tried deleting cookies (all of them), and saved passwords (All the
> > wordpress.org ones) in my browser (FF 1.0.1), and still Trac won't
> > play nice.
> 
> You just have to close the browser and reopen.
I did this, and it works, thank you.

> Also, please stop sending to the old hackers address! The new one is:
> 
> wp-hackers@lists.automattic.com
I am sorry, I'll take my address book to task for this!

Carthik.
 
> --
> Matt Mullenweg
>   http://photomatt.net | http://wordpress.org
> http://pingomatic.com | http://cnet.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
When nothing is done, nothing is left undone -- ?? L?ozi

University of Central Florida
Homepage: http://carthik.net
From ryan at boren.nu  Sat Mar  5 22:44:05 2005
From: ryan at boren.nu (Ryan Boren)
Date: Sat Mar  5 22:44:23 2005
Subject: [wp-hackers] Testers Mailing List
Message-ID: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>

http://lists.automattic.com/mailman/listinfo/wp-testers
http://wordpress.org/download/nightly/

Another list for our collection.  The testers list is targeted at those
using nightly builds or any other pre-release version of WP.  We're
attempting to move nightly build and beta discussion traffic away from
the support forums so that the forums can focus on supporting stable,
released versions.  For the list to be successful, we need some hacker
types over there to help out.  Let's discuss problems found in nightly
builds and the repository on the testers list.  The hackers list will
continue to be the place to discuss plugin and feature development, API,
code maintenance, policy and direction, etc.

Ryan


From howard.fore at gmail.com  Sun Mar  6 17:16:28 2005
From: howard.fore at gmail.com (Howard Fore)
Date: Sun Mar  6 17:16:53 2005
Subject: [wp-hackers] Flushing get_pages cache
Message-ID: <1e916cf805030609167920745b@mail.gmail.com>

Hi,

I'm using the Pages functionality pretty extensively for a new site
I'm building. It's largely static content, not very bloggish so the
Pages stuff works great. The problem is that I'd like to use the
wp_list_pages function twice on the page with different parameters.
The first call creates a top level navigation bar, just getting the
first level of pages:

        wp_list_pages('sort_column=menu_order&depth=1&exclude=10&title_li=');

Then later on in the sidebar, I'd like to show the pages that are in
the same "section" of the current page. I'm defining the section as
the group of Pages that are children of the topmost page that is a
parent of the current page. IE:

        0 (main main)
        - page A
        -- page A1
        -- page A2
        -- page A3
        --- page A3-1
        --- page A3-2
        - page B
        - page C

Pages A* are all in the same section, page B and page C are each
separate sections.

I wrote a little plugin that walks up the tree from the current page
to find the top most page called get_top_page_id.  Then I can do this:

        wp_list_pages('title_li=&sort_column=menu_order&child_of=' .
get_top_page_id())

But I'd also like to exclude the current page from the list, so I
added the current page:

        global $id;
        wp_list_pages('title_li=&sort_column=menu_order&child_of=' .
get_top_page_id() . '&exclude=' . $id)

(I tried several different methods of getting the current page ID and
the global var was the only one that seemed to work.)

But this still didn't get me to where I wanted to go. After liberally
sprinkling some log statements, I traced the issue to the get_pages
function. This is called by wp_list_pages and has a caching mechanism.
I assume this is so if more than one function in a page request needs
to use get_pages that only one database call would be made. Fine,
except that I'm breaking the assumption that the page tree would be
the same for each call. Remember on the first call I just want the top
level Pages, but on the second call I want a subtree with a specific
Page removed.

So this is what I tried:

I changed get_pages from

        function get_pages($args = '') {
            global $wpdb, $cache_pages;
        
            if (!isset($cache_pages) || empty($cache_pages)) {
            parse_str($args, $r);

 to 

        function get_pages($args = '') {
            global $wpdb, $cache_pages;
        
            parse_str($args, $r);
            if (!isset($cache_pages) || empty($cache_pages) ||
(isset($r['flush_cache']) && $r['flush_cache'] == 'y')) {

This allows me to use a new parameter of "flush_cache" on my second
call and the request works as I desired.

Is this a useful addition to anyone but me?

Now, I'd like to point out that I'm a newbie at Wordpress hacking, if
I've broken some sacred WP principle that I missed becuase I just
joined the list, please give me a pointer to the discussion.

Thanks.

--
Howard Fore, howard.fore@gmail.com
From tellme at climbtothestars.org  Sun Mar  6 22:39:40 2005
From: tellme at climbtothestars.org (Tara Star)
Date: Sun Mar  6 22:40:00 2005
Subject: [wp-hackers] shell script for WP download/installation (+ stuff)
Message-ID: <422B86AC.10302@climbtothestars.org>

Hello, fine folks!

I'm working on a shell script to automate WP installation:

http://climbtothestars.org/play/wordpress.sh.txt (work in progress)

it's been hinted to me that such a script already exists... as I'm not
one too keen on reinventing the wheel, I'd be very grateful to anybody
who could point me to any previous work on the subject.

Thanks in advance,

Steph aka bunny
PS: I sent this to the old list address first. Sorry to anybody that got 
it twice.
--
http://stephanie-booth.com/
http://climbtothestars.org/

From podz at tamba2.org.uk  Sun Mar  6 22:57:37 2005
From: podz at tamba2.org.uk (Podz)
Date: Sun Mar  6 22:58:43 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>
Message-ID: <422B8AE1.5060207@tamba2.org.uk>

A couple of days ago, Shadow got dropped by Lunarpages
http://shadows.os42.com/2005/03/04/you-never-know-what-is-around-that-next-corner/

Today, two more users with issues:
http://wordpress.org/support/topic.php?id=26372

Another user saying their site is slow:
http://wordpress.org/support/topic.php?id=26396
and there are a few more:
http://wordpress.org/support/search.php?q=slow

Does this need some good looking at ?
The problem from a support pov is that we can't really do a whole lot, 
so the posts sit around gathering only attention, not solutions and if 
this is potentially a problem.....

P.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050306/ddc9992b/signature.bin
From carthik at gmail.com  Sun Mar  6 23:37:25 2005
From: carthik at gmail.com (Carthik Sharma)
Date: Sun Mar  6 23:37:36 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <422B8AE1.5060207@tamba2.org.uk>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>
	<422B8AE1.5060207@tamba2.org.uk>
Message-ID: <80f75db050306153733914ba0@mail.gmail.com>

The one post with the logs looks like it's an irresponsible comment
moderation plugin that's trying to move comments around too much.

Things get complicated with individual installs, especially when the
plugins/conditions are different. Can't say much about individual
cases - part of the mistake may lie with the host, too.

In this situation, one's reminded of why hosts like TextDrive are an
excellent option, since they can identify the problem to a greater
resolution (than just - "you php script is causing the problem" ). In
fact, the more I think of it, the more I think that a resposible,
educated host should be able to help in finding out what the problem
is, to a greater level of detail.

Carthik.


On Sun, 06 Mar 2005 22:57:37 +0000, Podz <podz@tamba2.org.uk> wrote:
> A couple of days ago, Shadow got dropped by Lunarpages
> http://shadows.os42.com/2005/03/04/you-never-know-what-is-around-that-next-corner/
> 
> Today, two more users with issues:
> http://wordpress.org/support/topic.php?id=26372
> 
> Another user saying their site is slow:
> http://wordpress.org/support/topic.php?id=26396
> and there are a few more:
> http://wordpress.org/support/search.php?q=slow
> 
> Does this need some good looking at ?
> The problem from a support pov is that we can't really do a whole lot,
> so the posts sit around gathering only attention, not solutions and if
> this is potentially a problem.....
> 
> P.
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 
> 


-- 
When nothing is done, nothing is left undone -- ?? L?ozi

University of Central Florida
Homepage: http://carthik.net
From jason at textdrive.com  Sun Mar  6 23:39:51 2005
From: jason at textdrive.com (Jason Hoffman)
Date: Sun Mar  6 23:40:06 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <422B8AE1.5060207@tamba2.org.uk>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>
	<422B8AE1.5060207@tamba2.org.uk>
Message-ID: <cfced4523fe0d217573f42a3eea3c178@textdrive.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Mar 6, 2005, at 2:57 PM, Podz wrote:

> A couple of days ago, Shadow got dropped by Lunarpages
> http://shadows.os42.com/2005/03/04/you-never-know-what-is-around-that- 
> next-corner/
>
> Today, two more users with issues:
> http://wordpress.org/support/topic.php?id=26372
>
> Another user saying their site is slow:
> http://wordpress.org/support/topic.php?id=26396
> and there are a few more:
> http://wordpress.org/support/search.php?q=slow
>
> Does this need some good looking at ?
> The problem from a support pov is that we can't really do a whole lot,  
> so the posts sit around gathering only attention, not solutions and if  
> this is potentially a problem.....

I have a number of people that have come to TextDrive after getting the  
boot from lunarpages and a couple others, and they are all Wordpress  
users. Then when they came here there were some initial issues, and  
what they always involved was corruption of the comments table after a  
particularly bad onslaught (these people found relief behind  
mod_security and some other stuff). The other problem they had where  
post tables that had to be repaired.

So this problem of load shows up with WP when tables go bad AND they  
are running under php-cgi (notice that the data in all those support  
forms are /usr/bin/php ...). Once they had been here a few weeks and we  
were running regular repairs on their tables, it seems to even  
themselves out

The other thing to note is that of the dozen people I've seen have this  
happen to them (WP user > load bad > gets boot from lunarpages or  
similar crap host > we see that their post table needs to be regularly  
repaired) all them them were posting over xml-rpc with external  
editors. I would see some post and then the table would go bad, so  
code-wise that might be somewhere to look if there's any indication  
that it's a potential wordpress issue.

- - Jason

-----BEGIN PGP SIGNATURE-----
Version: PGP 8.1

iQA/AwUBQiuUx1UyB+ajXkCLEQLrWACgqvCMNaxzMAbUL4cwXnZnWsZGCTAAn1LB
RqQjRIXLOPtCMJ4eX7v25g7d
=Z0Yr
-----END PGP SIGNATURE-----

From carthik at gmail.com  Sun Mar  6 23:44:37 2005
From: carthik at gmail.com (Carthik Sharma)
Date: Sun Mar  6 23:44:48 2005
Subject: [wp-hackers] shell script for WP download/installation (+ stuff)
In-Reply-To: <422B86AC.10302@climbtothestars.org>
References: <422B86AC.10302@climbtothestars.org>
Message-ID: <80f75db05030615447face82f@mail.gmail.com>

Dreamhost, and now weblogs.us seem to have an automated installer. I
would suggest you go ahead and write your own anyways, since you might
have requirements they don't, and it might be easier to write it than
to wait for them to send you theirs (if they will).

It's kind of you to share what you have!

Carthik.


On Sun, 06 Mar 2005 23:39:40 +0100, Tara Star
<tellme@climbtothestars.org> wrote:
> Hello, fine folks!
> 
> I'm working on a shell script to automate WP installation:
> 
> http://climbtothestars.org/play/wordpress.sh.txt (work in progress)
> 
> it's been hinted to me that such a script already exists... as I'm not
> one too keen on reinventing the wheel, I'd be very grateful to anybody
> who could point me to any previous work on the subject.
> 
> Thanks in advance,
> 
> Steph aka bunny
> PS: I sent this to the old list address first. Sorry to anybody that got
> it twice.
> --
> http://stephanie-booth.com/
> http://climbtothestars.org/
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
When nothing is done, nothing is left undone -- ?? L?ozi

University of Central Florida
Homepage: http://carthik.net
From jason at textdrive.com  Sun Mar  6 23:47:16 2005
From: jason at textdrive.com (Jason Hoffman)
Date: Sun Mar  6 23:47:21 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <80f75db050306153733914ba0@mail.gmail.com>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>
	<422B8AE1.5060207@tamba2.org.uk>
	<80f75db050306153733914ba0@mail.gmail.com>
Message-ID: <faa9503481778a988de4822e0d6992d6@textdrive.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Mar 6, 2005, at 3:37 PM, Carthik Sharma wrote:
> In this situation, one's reminded of why hosts like TextDrive are an
> excellent option, since they can identify the problem to a greater
> resolution (than just - "you php script is causing the problem" ). In
> fact, the more I think of it, the more I think that a resposible,
> educated host should be able to help in finding out what the problem
> is, to a greater level of detail.

One thing to note here is besides hosting wordpress itself and having 
Matt "on staff" is that our goal is be able to financially support a 
wordpress support team (not just provide servers) that works within our 
support system.

That's how punbb, textpattern, epilog, rails is (and getting to be that 
way more and more). When someone has an issue with textpattern, it's 
Dean and txp developers that help, when there's a  punbb issue it's 
Rickard that helps, ....

That's where the developer/sysadmin hosting synergy really happens 
because we really can do a full analysis that can even feed back into 
bug squashing etc. So anyone doing "real" support for Wordpress and is 
interested in being part of the machine, should talk to Matt and 
myself, I'd be happy to have you (and defer to Matt's recommendations).

Thanks, J

-----BEGIN PGP SIGNATURE-----
Version: PGP 8.1

iQA/AwUBQiuWhFUyB+ajXkCLEQLJ4wCfcXFuyCAmTO+KasGV3jMrk97KwKkAoJAb
BOiSJGMM6Vz/W/OlwE1dafS2
=hGSo
-----END PGP SIGNATURE-----

From carthik at gmail.com  Sun Mar  6 23:52:17 2005
From: carthik at gmail.com (Carthik Sharma)
Date: Sun Mar  6 23:52:35 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <cfced4523fe0d217573f42a3eea3c178@textdrive.com>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>
	<422B8AE1.5060207@tamba2.org.uk>
	<cfced4523fe0d217573f42a3eea3c178@textdrive.com>
Message-ID: <80f75db05030615523b9389e2@mail.gmail.com>

Thanks for the input Jason,

Let me try and summarize the gist of what you say :

There seem to be problems when
1) php's running in cgi mode
2) people use external editors + xmlrpc posting

Maybe 2) needs to be looked into, any details about how to recreate
the situation that cause tables to go bad after posting with such
clients would be great.

One question : What kind of repair do you recommend? Just fixing the
indexes, or a more elaborate repair? Is there something all WordPress
users could do with, on a periodic basis that could perhaps go into
the upgrade.php script or some such? (Alright, that is more than just
one question ;) )

Carthik.
From podz at tamba2.org.uk  Sun Mar  6 23:55:33 2005
From: podz at tamba2.org.uk (Podz)
Date: Sun Mar  6 23:55:57 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <cfced4523fe0d217573f42a3eea3c178@textdrive.com>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>	<422B8AE1.5060207@tamba2.org.uk>
	<cfced4523fe0d217573f42a3eea3c178@textdrive.com>
Message-ID: <422B9875.2080508@tamba2.org.uk>

Jason Hoffman wrote:

<<much snippage>>

It would seem therefore that:
- Hosts could do with with telling that WP and this php/cgi business is 
a known issue ?
- Hosts and users be told to regularly run table repairs (I can sort a 
tutorial on this tomorrow if needed with screenshots, then wiki it)
- that xml-rpc (of which I know zero) needs looking at

So it's a 3 pronged approach ?

P.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050306/71a11245/signature-0001.bin
From jason at textdrive.com  Mon Mar  7 00:19:42 2005
From: jason at textdrive.com (Jason Hoffman)
Date: Mon Mar  7 00:19:48 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <80f75db05030615523b9389e2@mail.gmail.com>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>
	<422B8AE1.5060207@tamba2.org.uk>
	<cfced4523fe0d217573f42a3eea3c178@textdrive.com>
	<80f75db05030615523b9389e2@mail.gmail.com>
Message-ID: <3dfa3d4035fab2bc1ff7c8c5c8a21561@textdrive.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Mar 6, 2005, at 3:52 PM, Carthik Sharma wrote:

> Thanks for the input Jason,
>
> Let me try and summarize the gist of what you say :
>
> There seem to be problems when
> 1) php's running in cgi mode
> 2) people use external editors + xmlrpc posting

Yes, that's been the people that came here after getting the boot. Then 
the same 25% of a CPU + mysql being crashy.

For example they post and

041123 14:30:31 read_next: Got error 12 when reading table 
./powlon108/wp_posts
041123 14:30:31 read_next: Got error 12 when reading table 
./powlon108/wp_posts
041124 14:27:30 read_next: Got error 12 when reading table 
./powlon108/wp_posts
041124 16:18:59 read_next: Got error 12 when reading table 
./powlon108/wp_posts
041124 16:18:59 Out of memory;  Check if mysqld or some other process 
uses all available memory.

And that's with a fat mysql. So that's on guy that was booted from 
lunarpages.

Then same guy  and a comment spam victim

041217 15:23:20 read_next: Got error 12 when reading table 
./powlon108/wp_posts
041217 15:23:20 read_next: Got error 12 when reading table 
./powlon108/wp_posts
041217 17:43:13 read_next: Got error 12 when reading table 
./bsag-wp/wp_comments
041217 17:43:13 read_next: Got error 12 when reading table 
./bsag-wp/wp_comments
041220 15:43:51 /usr/local/libexec/mysqld: Out of memory. Restart 
daemon and try again (needed 2097144 bytes)
041220 15:43:51 /usr/local/libexec/mysqld: Sort aborted

And then someone familiar whose table we repaired (don't know if he 
uses an external editor)

050123 16:51:55 read_next: Got error 12 when reading table 
./powlon108/wp_posts
050124 19:36:43 read_next: Got error 12 when reading table 
./rboren-weblog/wp_posts
050124 19:36:43 read_next: Got error 12 when reading table 
./rboren-weblog/wp_posts
050124 19:36:43 read_next: Got error 12 when reading table 
./rboren-weblog/wp_posts
050124 19:36:43 read_next: Got error 12 when reading table 
./rboren-weblog/wp_posts
050124 19:36:43 read_next: Got error 12 when reading table 
./rboren-weblog/wp_posts
050124 19:36:43 read_next: Got error 12 when reading table 
./rboren-weblog/wp_posts
050124 19:36:43 read_next: Got error 12 when reading table 
./rboren-weblog/wp_posts
050124 19:36:43 read_next: Got error 12 when reading table 
./rboren-weblog/wp_posts
050124 19:36:43 read_next: Got error 12 when reading table 
./rboren-weblog/wp_posts
050124 19:36:43 read_next: Got error 12 when reading table 
./rboren-weblog/wp_posts
050124 19:36:43 read_next: Got error 12 when reading table 
./rboren-weblog/wp_posts
050124 19:36:43 read_next: Got error 12 when reading table 
./rboren-weblog/wp_posts
050125 01:42:54  mysqld started

Actually all of our read_next errors and mysqld crashes are on wp_posts 
(#1), wp_comments (#2) and phpbb's  search (that's different, it's  
Can't open file: 'search_matches.MYI'. (errno: 145) ).

This happens in 4.0.22, 4.0.23, 4.1.7-4.1.10, and an error 12 is 
"System error:  12 = Cannot allocate memory". Now this is mysql that's 
tuned up pretty high, and the most common place one normally sees error 
12 is in bdb and innodb when you run out of locks or large 
multiple-statement transactions ...

So I would definitely look at your query as well.



> Maybe 2) needs to be looked into, any details about how to recreate
> the situation that cause tables to go bad after posting with such
> clients would be great.
>
> One question : What kind of repair do you recommend? Just fixing the
> indexes, or a more elaborate repair? Is there something all WordPress
> users could do with, on a periodic basis that could perhaps go into
> the upgrade.php script or some such? (Alright, that is more than just
> one question ;) )

We just run a repair table and have a script that checks for bad table, 
locks them and runs a myisamcheck repair

- - J

-----BEGIN PGP SIGNATURE-----
Version: PGP 8.1

iQA/AwUBQiueHlUyB+ajXkCLEQKdLwCg9yE8LW6XFKc7oLzRQWrTF/BJLaQAnjUB
0grRfKCySZSuYoU2cQ7fOmip
=rUJa
-----END PGP SIGNATURE-----

From r at schestowitz.com  Mon Mar  7 05:56:11 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Mon Mar  7 05:56:30 2005
Subject: [wp-hackers] shell script for WP download/installation (+ stuff)
In-Reply-To: <80f75db05030615447face82f@mail.gmail.com>
References: <422B86AC.10302@climbtothestars.org>
	<80f75db05030615447face82f@mail.gmail.com>
Message-ID: <20050307055611.7bkdqoaeyykgsc8w@banana.catalyst2.com>

Something tells me it's unlikely that a script as such exists for WP 
1.5. If you
can set up such a thing up and customise it sufficiently, I am sure thousands
will use it.

It would be nice if there was a script which arranges permalinks, creates
maintenance tasks like back-up, and checks validity every night and outputs
everything to a log file.

Roy

-- 
Roy Schestowitz
http://schestowitz.com

Quoting Carthik Sharma <carthik@gmail.com>:

> Dreamhost, and now weblogs.us seem to have an automated installer. I
> would suggest you go ahead and write your own anyways, since you might
> have requirements they don't, and it might be easier to write it than
> to wait for them to send you theirs (if they will).
>
> It's kind of you to share what you have!
>
> Carthik.
>
>
> On Sun, 06 Mar 2005 23:39:40 +0100, Tara Star
> <tellme@climbtothestars.org> wrote:
>> Hello, fine folks!
>>
>> I'm working on a shell script to automate WP installation:
>>
>> http://climbtothestars.org/play/wordpress.sh.txt (work in progress)
>>
>> it's been hinted to me that such a script already exists... as I'm not
>> one too keen on reinventing the wheel, I'd be very grateful to anybody
>> who could point me to any previous work on the subject.
>>
>> Thanks in advance,
>>
>> Steph aka bunny
>> PS: I sent this to the old list address first. Sorry to anybody that got
>> it twice.
>> --
>> http://stephanie-booth.com/
>> http://climbtothestars.org/
>>
>
>
> --
> When nothing is done, nothing is left undone -- ?? L?ozi
>
> University of Central Florida
> Homepage: http://carthik.net

From podz at tamba2.org.uk  Mon Mar  7 08:36:59 2005
From: podz at tamba2.org.uk (Podz)
Date: Mon Mar  7 08:38:03 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <3dfa3d4035fab2bc1ff7c8c5c8a21561@textdrive.com>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>	<422B8AE1.5060207@tamba2.org.uk>	<cfced4523fe0d217573f42a3eea3c178@textdrive.com>	<80f75db05030615523b9389e2@mail.gmail.com>
	<3dfa3d4035fab2bc1ff7c8c5c8a21561@textdrive.com>
Message-ID: <422C12AB.9050008@tamba2.org.uk>

Is there any more behind the scenes progress on this ?
I do think that we need to do something - all it's going to take is for 
a couple of high-profile bloggers to be hit and WP will take a battering 
- it happened before remember.

All I can think of:

1 - is advising people to avoid hosts that run php as cgi. This would 
mean avoiding dreamhosts who are currently being touted as the "dream 
host" for WP across the forums.
2 - advise people how to run table repairs and why this both occurs and 
is needed. I can have this done by day end here.
3 - that posting through external editors increases the risk of problems 
and that this coding is being actively worked on.

The forum thread is just hanging there right now, and I very much feel 
it needs addressing directly and sooner rather than later.

P.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050307/ddb3e363/signature.bin
From m at mullenweg.com  Mon Mar  7 09:10:59 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Mon Mar  7 09:11:14 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <422C12AB.9050008@tamba2.org.uk>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>	<422B8AE1.5060207@tamba2.org.uk>	<cfced4523fe0d217573f42a3eea3c178@textdrive.com>	<80f75db05030615523b9389e2@mail.gmail.com>
	<3dfa3d4035fab2bc1ff7c8c5c8a21561@textdrive.com>
	<422C12AB.9050008@tamba2.org.uk>
Message-ID: <e6a2391e8678bb40049ffd7a3bc9cfef@mullenweg.com>

On Mar 7, 2005, at 12:36 AM, Podz wrote:
> 1 - is advising people to avoid hosts that run php as cgi. This would 
> mean avoiding dreamhosts who are currently being touted as the "dream 
> host" for WP across the forums.

CGI is actually the ideal way to run WP, it's much better for 
permissions.

> 2 - advise people how to run table repairs and why this both occurs 
> and is needed. I can have this done by day end here.
> 3 - that posting through external editors increases the risk of 
> problems and that this coding is being actively worked on.

Correlation is not causation. We spread anything we can't 
recreate/verify.

> The forum thread is just hanging there right now, and I very much feel 
> it needs addressing directly and sooner rather than later.

I had a reply but I ended up not posting it. The several times I've 
looked into reports like this recently it has always been a referral 
spam DoS, which the host would know if they were halfway decent and 
looked at the stats rather than just the CPU log in cpanel.

--
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com

From jason at textdrive.com  Mon Mar  7 09:17:06 2005
From: jason at textdrive.com (Jason Hoffman)
Date: Mon Mar  7 09:17:11 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <e6a2391e8678bb40049ffd7a3bc9cfef@mullenweg.com>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>	<422B8AE1.5060207@tamba2.org.uk>	<cfced4523fe0d217573f42a3eea3c178@textdrive.com>	<80f75db05030615523b9389e2@mail.gmail.com>
	<3dfa3d4035fab2bc1ff7c8c5c8a21561@textdrive.com>
	<422C12AB.9050008@tamba2.org.uk>
	<e6a2391e8678bb40049ffd7a3bc9cfef@mullenweg.com>
Message-ID: <98108b0fe9aa8f8ed841e4f4a09ef7cd@textdrive.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I think the solution is to offer to put them on a host where you have 
root level access.

- - J

On Mar 7, 2005, at 1:10 AM, Matthew Mullenweg wrote:

> On Mar 7, 2005, at 12:36 AM, Podz wrote:
>> 1 - is advising people to avoid hosts that run php as cgi. This would 
>> mean avoiding dreamhosts who are currently being touted as the "dream 
>> host" for WP across the forums.
>
> CGI is actually the ideal way to run WP, it's much better for 
> permissions.
>
>> 2 - advise people how to run table repairs and why this both occurs 
>> and is needed. I can have this done by day end here.
>> 3 - that posting through external editors increases the risk of 
>> problems and that this coding is being actively worked on.
>
> Correlation is not causation. We spread anything we can't 
> recreate/verify.
>
>> The forum thread is just hanging there right now, and I very much 
>> feel it needs addressing directly and sooner rather than later.
>
> I had a reply but I ended up not posting it. The several times I've 
> looked into reports like this recently it has always been a referral 
> spam DoS, which the host would know if they were halfway decent and 
> looked at the stats rather than just the CPU log in cpanel.
>
> --
> Matt Mullenweg
>  http://photomatt.net | http://wordpress.org
> http://pingomatic.com | http://cnet.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-----BEGIN PGP SIGNATURE-----
Version: PGP 8.1

iQA/AwUBQiwcElUyB+ajXkCLEQKZzACfXlfoKaHmekpQY4ZVcuCUVZ0qRCUAoMiA
uMcjUPSU3/w4zoIWSqyoBvPq
=kVU9
-----END PGP SIGNATURE-----

From fahim at farook.org  Mon Mar  7 09:40:35 2005
From: fahim at farook.org (Fahim Farook)
Date: Mon Mar  7 09:41:50 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <faa9503481778a988de4822e0d6992d6@textdrive.com>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>	<422B8AE1.5060207@tamba2.org.uk>	<80f75db050306153733914ba0@mail.gmail.com>
	<faa9503481778a988de4822e0d6992d6@textdrive.com>
Message-ID: <422C2193.4020500@farook.org>

Hi Jason,

    I first became interested in this thread due to the reason that I
currently work for LunarPages as a remote systems administrator and I
was familiar with at least two of the cases that Podz had highlighted.
Being a WordPress plugin developer (I continue work on the WPBlacklist
plugin that LaugingLizard/Mark originally wrote) and a WP user, I have
been frustrated from my end at LunarPages in trying to find a solution
to problems such as this (as well as other similar ones) due to various
reasons. I believe in finding solutions for customers - not simply
telling them that their stats are too high and that's all the
information that we can provide them with and then asking them to sort
it out on their own. So, if I can help in some manner, I would certainly
be interested in being part of the machine :) Kind regards,

Fahim Farook

Jason Hoffman wrote:

> On Mar 6, 2005, at 3:37 PM, Carthik Sharma wrote:
>
> >In this situation, one's reminded of why hosts like TextDrive are an
> >excellent option, since they can identify the problem to a greater
> >resolution (than just - "you php script is causing the problem" ). In
> >fact, the more I think of it, the more I think that a resposible,
> >educated host should be able to help in finding out what the problem
> >is, to a greater level of detail.
>
>
> One thing to note here is besides hosting wordpress itself and having
> Matt "on staff" is that our goal is be able to financially support a
> wordpress support team (not just provide servers) that works within our
> support system.
>
> That's how punbb, textpattern, epilog, rails is (and getting to be that
> way more and more). When someone has an issue with textpattern, it's
> Dean and txp developers that help, when there's a  punbb issue it's
> Rickard that helps, ....
>
> That's where the developer/sysadmin hosting synergy really happens
> because we really can do a full analysis that can even feed back into
> bug squashing etc. So anyone doing "real" support for Wordpress and is
> interested in being part of the machine, should talk to Matt and
> myself, I'd be happy to have you (and defer to Matt's recommendations).
>
> Thanks, J




From fahim at farook.org  Mon Mar  7 09:44:41 2005
From: fahim at farook.org (Fahim Farook)
Date: Mon Mar  7 09:45:55 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <faa9503481778a988de4822e0d6992d6@textdrive.com>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>	<422B8AE1.5060207@tamba2.org.uk>	<80f75db050306153733914ba0@mail.gmail.com>
	<faa9503481778a988de4822e0d6992d6@textdrive.com>
Message-ID: <422C2289.3050909@farook.org>

 Umm ... my apologies for sending the previous message to the whole list
instead of just to Jason? :P

Fahim

Jason Hoffman wrote:

> On Mar 6, 2005, at 3:37 PM, Carthik Sharma wrote:
>
> >In this situation, one's reminded of why hosts like TextDrive are an
> >excellent option, since they can identify the problem to a greater
> >resolution (than just - "you php script is causing the problem" ). In
> >fact, the more I think of it, the more I think that a resposible,
> >educated host should be able to help in finding out what the problem
> >is, to a greater level of detail.


From podz at tamba2.org.uk  Mon Mar  7 10:00:45 2005
From: podz at tamba2.org.uk (Podz)
Date: Mon Mar  7 10:01:25 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <e6a2391e8678bb40049ffd7a3bc9cfef@mullenweg.com>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>	<422B8AE1.5060207@tamba2.org.uk>	<cfced4523fe0d217573f42a3eea3c178@textdrive.com>	<80f75db05030615523b9389e2@mail.gmail.com>	<3dfa3d4035fab2bc1ff7c8c5c8a21561@textdrive.com>	<422C12AB.9050008@tamba2.org.uk>
	<e6a2391e8678bb40049ffd7a3bc9cfef@mullenweg.com>
Message-ID: <422C264D.2010404@tamba2.org.uk>

Matthew Mullenweg wrote:

With respect Matt, that thread does need answers and forum helpers also 
need something to point people at.
I have not the slightest doubt that if an A-list blogger posted here 
saying that their blog was acting in the same way, there would be people 
tripping over themselves to post / offer help / debug / and everything 
else.
If this is referer DOS, then maybe 1.5.1 should have drdave's RK in it ? 
The problem will get worse and while we can say "Get a better host" that 
does not help forum posts - posts which are read by people who may be 
debating coming to WP.
Maybe we just need to shout about RK one hell of a lot for people ? I 
have been running it for a while now and it catches a ton of crap.

I really do think that unless this is addressed very clearly and in 
public that it will bite the collective WP ass. (Remember that fuss 
about MT and resources ? Didn't people here smile about that ? Why is 
this no different ?)

P.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050307/2a33e4a3/signature-0001.bin
From m at mullenweg.com  Mon Mar  7 10:34:09 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Mon Mar  7 10:34:19 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <422C264D.2010404@tamba2.org.uk>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>	<422B8AE1.5060207@tamba2.org.uk>	<cfced4523fe0d217573f42a3eea3c178@textdrive.com>	<80f75db05030615523b9389e2@mail.gmail.com>	<3dfa3d4035fab2bc1ff7c8c5c8a21561@textdrive.com>	<422C12AB.9050008@tamba2.org.uk>	<e6a2391e8678bb40049ffd7a3bc9cfef@mullenweg.com>
	<422C264D.2010404@tamba2.org.uk>
Message-ID: <422C2E21.2060408@mullenweg.com>

Podz wrote:
> With respect Matt, that thread does need answers and forum helpers also 
> need something to point people at.

I just listed a few things that can be told to them but I did forget one:

* Disable all plugins

Some plugins have really bad queries and code that I could see causing a 
high load on a server with moderate traffic.

> I have not the slightest doubt that if an A-list blogger posted here 
> saying that their blog was acting in the same way, there would be people 
> tripping over themselves to post / offer help / debug / and everything 
> else.

None of the accounts I looked at were for A-list bloggers.

> If this is referer DOS, then maybe 1.5.1 should have drdave's RK in it ? 

The same RK that blocked everyone from visiting Blogging Pro from the WP 
Dashboard? Integrating something like that would be unecessary bloat and 
would likely cause more support problems than it would solve. RK's 
strategy of opening up and parsing the referring page could also slow 
things down a lot too if hit with a lot of unknown hosts.

> The problem will get worse and while we can say "Get a better host" that 
> does not help forum posts - posts which are read by people who may be 
> debating coming to WP.

Maybe "get a better host" isn't the best way to phrase it, something 
like "I get 5x more traffic and have never had a problem on X" or "Your 
host could fix that" or "There are tens of thousands of WP blogs, only 
blogs on your host have reported any problems."

> I really do think that unless this is addressed very clearly and in 
> public that it will bite the collective WP ass.

Perhaps it's time to make a page of "known good hosts" on wordpress.org. 
I can think of 2-3 that we have a relationship with and could function 
as a advocacy partner. (Eg, they shut down your site they have to 
explain why to us or they get taken off the site.)

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From amit at igeek.info  Mon Mar  7 13:07:58 2005
From: amit at igeek.info (Amit Gupta)
Date: Mon Mar  7 13:10:01 2005
Subject: [wp-hackers] Problems ?
Message-ID: <000901c52316$b49d7d80$4d20010a@a1>


Matt wrote:
>I just listed a few things that can be told to them but I did forget one:
>
>* Disable all plugins
>
>Some plugins have really bad queries and code that I could see causing 
>a high load on a server with moderate traffic.

>Maybe "get a better host" isn't the best way to phrase it, something 
>like "I get 5x more traffic and have never had a problem on X" or "Your 
>host could fix that" or "There are tens of thousands of WP blogs, only 
>blogs on your host have reported any problems."

yes, its more likely the plugins as I get more than twice the traffic than
that bloke who's site was shutdown by his host but I haven't had a problem
with WP eating my server resources ever, nor my host has complained about it
even once. quite possibly b'coz the only db plugins that I have are Spaminator
& Comment-Post count plugins.


>Perhaps it's time to make a page of "known good hosts" on 
>wordpress.org. I can think of 2-3 that we have a relationship
>with and could function as a advocacy partner. (Eg, they shut down
>your site they have to explain why to us or they get taken off the site.)

yes, a good idea, but don't we already have a page in the codex
about good hosts & bad hosts? I think it won't be better as most guys already
have hosting before they come to get WP. and they are not gonna change their
host just for WP. also it'll reflect the bad side of WP if we go around
telling people which hosts are better for WP & which are not. new comers
will think that we have some problem in WP as it runs good only on with
selected webhosts. won't look good on us, will it?


-----
Amit Gupta

|| Canned!! -- my Atropine || iG:Syntax Hiliter v2.01 ||
|| iGEEK.INFO || Free Nokia Ringtones || Online Gaming @ Games Planet || 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050307/7e380da2/attachment.html
From podz at tamba2.org.uk  Mon Mar  7 13:52:13 2005
From: podz at tamba2.org.uk (Podz)
Date: Mon Mar  7 13:52:35 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <422C2E21.2060408@mullenweg.com>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>	<422B8AE1.5060207@tamba2.org.uk>	<cfced4523fe0d217573f42a3eea3c178@textdrive.com>	<80f75db05030615523b9389e2@mail.gmail.com>	<3dfa3d4035fab2bc1ff7c8c5c8a21561@textdrive.com>	<422C12AB.9050008@tamba2.org.uk>	<e6a2391e8678bb40049ffd7a3bc9cfef@mullenweg.com>	<422C264D.2010404@tamba2.org.uk>
	<422C2E21.2060408@mullenweg.com>
Message-ID: <422C5C8D.8050304@tamba2.org.uk>

Matthew Mullenweg wrote:

My apologies for coming over as an ass earlier

> I just listed a few things that can be told to them but I did forget one:
> * Disable all plugins

For now get them to list all plugins used, then switch them all off /

> Some plugins have really bad queries and code that I could see causing a 
> high load on a server with moderate traffic.

Do the authors of these plugins know ? If not can someone tactfully 
point out any issues and then either update or withdraw the plugin ?
Or do we just leave be ?

 > RK's
> strategy of opening up and parsing the referring page could also slow 
> things down a lot too if hit with a lot of unknown hosts.
> 

Fair enough - you know more about that than I ever will :)

> Maybe "get a better host" isn't the best way to phrase it, something 
> like "I get 5x more traffic and have never had a problem on X" or "Your 
> host could fix that" or "There are tens of thousands of WP blogs, only 
> blogs on your host have reported any problems."

Sounds okay.

> Perhaps it's time to make a page of "known good hosts" on wordpress.org. 
> I can think of 2-3 that we have a relationship with and could function 
> as a advocacy partner. (Eg, they shut down your site they have to 
> explain why to us or they get taken off the site.)

Supported by me. There wil be inevitable forum noise about this, and 
maybe even hosts asking to be there ? So some criteria maybe ? Either 
way, I think it's a good move.

P.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050307/ad98090e/signature.bin
From podz at tamba2.org.uk  Mon Mar  7 16:12:55 2005
From: podz at tamba2.org.uk (Podz)
Date: Mon Mar  7 16:13:18 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <422C5C8D.8050304@tamba2.org.uk>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>	<422B8AE1.5060207@tamba2.org.uk>	<cfced4523fe0d217573f42a3eea3c178@textdrive.com>	<80f75db05030615523b9389e2@mail.gmail.com>	<3dfa3d4035fab2bc1ff7c8c5c8a21561@textdrive.com>	<422C12AB.9050008@tamba2.org.uk>	<e6a2391e8678bb40049ffd7a3bc9cfef@mullenweg.com>	<422C264D.2010404@tamba2.org.uk>	<422C2E21.2060408@mullenweg.com>
	<422C5C8D.8050304@tamba2.org.uk>
Message-ID: <422C7D87.5090507@tamba2.org.uk>

http://wordpress.org/support/topic.php?id=26372#post-148972

The host of the vanilla blog is offering assistance, but this is where I 
really have no clue. Anyone want to go for it ?
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050307/8d1c01fa/signature.bin
From carthik at gmail.com  Mon Mar  7 16:23:22 2005
From: carthik at gmail.com (Carthik Sharma)
Date: Mon Mar  7 16:23:43 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <422C7D87.5090507@tamba2.org.uk>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>
	<cfced4523fe0d217573f42a3eea3c178@textdrive.com>
	<80f75db05030615523b9389e2@mail.gmail.com>
	<3dfa3d4035fab2bc1ff7c8c5c8a21561@textdrive.com>
	<422C12AB.9050008@tamba2.org.uk>
	<e6a2391e8678bb40049ffd7a3bc9cfef@mullenweg.com>
	<422C264D.2010404@tamba2.org.uk> <422C2E21.2060408@mullenweg.com>
	<422C5C8D.8050304@tamba2.org.uk> <422C7D87.5090507@tamba2.org.uk>
Message-ID: <80f75db050307082376675121@mail.gmail.com>

Just a mild reminder, if I may :

Since Jason seems to be inclined to help, and so too Farook, maybe we
could nail down the exact queries that caused at least a few of the
problems?

I know that recreating problems such as these are not the easiest
thing to do, and I am not webhost, so I am wondering what the best
approach would be, to identify the query or WP code responsible for
the problems as in the ones described by Jason. Jason posted three
log-sections earlier, but without knowing what caused those problems
where mysql errored out (insufficient memory), I can't see a way
forward - with respect to improving the source.

Maybe michel_v or dougal or matt can look into the aspect of posting
through xmlrpc that caused the problem Jason referred to?

Maybe rboren can provide some insight over what he thinks might have
caused the problem on his account?

I realize that without proper support from the host, there is not much
that can be done to mitigate DoS, Referrer Spamming or Comment
Spamming flood attacks.

Carthik.


On Mon, 07 Mar 2005 16:12:55 +0000, Podz <podz@tamba2.org.uk> wrote:
> http://wordpress.org/support/topic.php?id=26372#post-148972
> 
> The host of the vanilla blog is offering assistance, but this is where I
> really have no clue. Anyone want to go for it ?
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 
> 


-- 
When nothing is done, nothing is left undone -- ?? L?ozi

University of Central Florida
Homepage: http://carthik.net
From donncha at linux.ie  Mon Mar  7 16:17:33 2005
From: donncha at linux.ie (Donncha O Caoimh)
Date: Mon Mar  7 16:40:42 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <422C7D87.5090507@tamba2.org.uk>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>	<422B8AE1.5060207@tamba2.org.uk>	<cfced4523fe0d217573f42a3eea3c178@textdrive.com>	<80f75db05030615523b9389e2@mail.gmail.com>	<3dfa3d4035fab2bc1ff7c8c5c8a21561@textdrive.com>	<422C12AB.9050008@tamba2.org.uk>	<e6a2391e8678bb40049ffd7a3bc9cfef@mullenweg.com>	<422C264D.2010404@tamba2.org.uk>	<422C2E21.2060408@mullenweg.com>	<422C5C8D.8050304@tamba2.org.uk>
	<422C7D87.5090507@tamba2.org.uk>
Message-ID: <422C7E9D.8010707@linux.ie>

As a quick stop-gap measure, use some caching mechanism - put PEAR Cache 
around the whole blog, use the $_COOKIE array, and the url as a key and 
those hosts should see a lot less MySQL hits and heavy PHP processes.

It might be worth putting /archives/ into robots.txt so that search 
engines don't bring down the site too.

Donncha.

Podz wrote:
> http://wordpress.org/support/topic.php?id=26372#post-148972
> 
> The host of the vanilla blog is offering assistance, but this is where I 
> really have no clue. Anyone want to go for it ?
> 
> 
From carthik at gmail.com  Mon Mar  7 17:46:36 2005
From: carthik at gmail.com (Carthik Sharma)
Date: Mon Mar  7 17:46:43 2005
Subject: [wp-hackers] Auto shutoff comments to be shut off?
Message-ID: <80f75db0503070946770909db@mail.gmail.com>

I beleive the auto shutoff comments plugin is evil - no less.

To quote:
It's pretty easy to put this into a plugin that runs every time the
database is changed, so that we don't need a cronjob.

From: http://wiki.wordpress.org/Auto%20shutoff%20comments

It is nothing short of treachery to do the update each time there is a
new post, or comment, or whatever else. The plugin says:
add_action('publish_post', 'autoclose_comments', 7);
add_action('edit_post', 'autoclose_comments', 7);
add_action('delete_post', 'autoclose_comments', 7);
add_action('comment_post', 'autoclose_comments', 7);
add_action('trackback_post', 'autoclose_comments', 7);
add_action('pingback_post', 'autoclose_comments', 7);
add_action('edit_comment', 'autoclose_comments', 7);
add_action('delete_comment', 'autoclose_comments', 7);
add_action('template_save', 'autoclose_comments', 7

All this, to avoid having a simple cron job!

I am removing references to this plugin from the Codex Plugins page
until someone comes up with a more responsible way of doing this.
Could this be a culprit behind some recently reported mysql problems
for some users?

Carthik.

-- 
When nothing is done, nothing is left undone -- ?? L?ozi

University of Central Florida
Homepage: http://carthik.net
From ringmaster at midnightcircus.com  Mon Mar  7 18:01:30 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Mon Mar  7 17:56:50 2005
Subject: [wp-hackers] Auto shutoff comments to be shut off?
In-Reply-To: <80f75db0503070946770909db@mail.gmail.com>
References: <80f75db0503070946770909db@mail.gmail.com>
Message-ID: <422C96FA.1000008@midnightcircus.com>

Carthik Sharma wrote:
> I beleive the auto shutoff comments plugin is evil - no less.
> 
> To quote:
> It's pretty easy to put this into a plugin that runs every time the
> database is changed, so that we don't need a cronjob.

There is no reason that the database needs to change to implement this 
functionality.

My OSA plugin has been turning off commenting on old posts without 
modifying the database at all.  Slightly altered from OSA code:

add_filter('the_posts', 'close_posts');
function close_posts($posts) {
	foreach($posts as $post)
	{
		$recent = 14; //14 days

		$post_time = (int)mysql2date('U', $post->post_date_gmt);
		$time_now = (int)mysql2date('U', current_time('mysql'));
		$time_diff = $time_now - $post_time;
		if(($time_diff > ($recent * 60 * 60 * 24))
		&& ('open' == $post->comment_status)) {
			$post->comment_status = 'closed';
		}
		$posts2[] = $post;
	}
	return $posts2;
}

An additional check when a comment is posted is also used to prevent 
errant comments on old posts from malicious scripts.

Owen

From podz at tamba2.org.uk  Mon Mar  7 18:00:06 2005
From: podz at tamba2.org.uk (Podz)
Date: Mon Mar  7 18:00:52 2005
Subject: [wp-hackers] Auto shutoff comments to be shut off?
In-Reply-To: <80f75db0503070946770909db@mail.gmail.com>
References: <80f75db0503070946770909db@mail.gmail.com>
Message-ID: <422C96A6.5050406@tamba2.org.uk>

Carthik Sharma wrote:
> I beleive the auto shutoff comments plugin is evil - no less.
> 
I'll be one who says I've been using it just fine since it was published 
.... that's the trickiness of tracking this stuff down I guess.

P.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050307/e6962041/signature.bin
From jeff at jrm.cc  Mon Mar  7 20:32:36 2005
From: jeff at jrm.cc (jeff@jrm.cc)
Date: Mon Mar  7 20:32:43 2005
Subject: [wp-hackers] advanced-cache.php ?
Message-ID: <422CBA64.6020209@jrm.cc>

I see reference to this in wp-settings.php:

// For an advanced caching plugin to use, static because you would only
want one
if ( defined('WP_CACHE') )
	require (ABSPATH . 'wp-content/advanced-cache.php');


However, "wp-content/advanced-cache.php" doesn't exist.

Is this a super-secret, developers-only available plugin or is it just
not done? I mean, having some built in caching functions would be a very
valuable tool for plugin authors.

Jeff Minard

(oops, sent this from the wrong account...)
From false.hopes at gmail.com  Mon Mar  7 20:36:35 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Mar  7 20:36:49 2005
Subject: [wp-hackers] advanced-cache.php ?
In-Reply-To: <422CBA64.6020209@jrm.cc>
References: <422CBA64.6020209@jrm.cc>
Message-ID: <a491f91d05030712363b2f1367@mail.gmail.com>

Its an option for advanced caching, anyone could write a plugin to use
it, but its made like that so that you could essentially call a
caching plugin before everything is loaded, saving a lot of CPU
cycles. As far as I know, anyone can use it, I believe I even recall a
thread about this on the mailing list and discussion on if it should
be an option or not.


On Mon, 07 Mar 2005 12:32:36 -0800, jeff@jrm.cc <jeff@jrm.cc> wrote:
> I see reference to this in wp-settings.php:
> 
> // For an advanced caching plugin to use, static because you would only
> want one
> if ( defined('WP_CACHE') )
>         require (ABSPATH . 'wp-content/advanced-cache.php');
> 
> However, "wp-content/advanced-cache.php" doesn't exist.
> 
> Is this a super-secret, developers-only available plugin or is it just
> not done? I mean, having some built in caching functions would be a very
> valuable tool for plugin authors.
> 
> Jeff Minard
> 
> (oops, sent this from the wrong account...)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://anothersadsong.com
From jeff at jrm.cc  Mon Mar  7 20:47:29 2005
From: jeff at jrm.cc (jeff@jrm.cc)
Date: Mon Mar  7 20:47:53 2005
Subject: [wp-hackers] advanced-cache.php ?
In-Reply-To: <a491f91d05030712363b2f1367@mail.gmail.com>
References: <422CBA64.6020209@jrm.cc>
	<a491f91d05030712363b2f1367@mail.gmail.com>
Message-ID: <422CBDE1.4080406@jrm.cc>

Robert Deaton wrote:
> Its an option for advanced caching, anyone could write a plugin to use
> it, 

Actually, no one can write anything for it. The file doesn't exist! 
That's what I'm trying to find out is "Where is it?"

Jeff Minard
From ringmaster at midnightcircus.com  Mon Mar  7 21:17:15 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Mon Mar  7 21:12:14 2005
Subject: [wp-hackers] advanced-cache.php ?
In-Reply-To: <422CBDE1.4080406@jrm.cc>
References: <422CBA64.6020209@jrm.cc>	<a491f91d05030712363b2f1367@mail.gmail.com>
	<422CBDE1.4080406@jrm.cc>
Message-ID: <422CC4DB.50109@midnightcircus.com>

jeff@jrm.cc wrote:
> Robert Deaton wrote:
> 
>> Its an option for advanced caching, anyone could write a plugin to use
>> it, 
> 
> Actually, no one can write anything for it. The file doesn't exist! 
> That's what I'm trying to find out is "Where is it?"

The plugin that uses this file *supplies* this file.  It *is* the plugin 
file.  It's not really a plugin in a traditional sense.

Owen

From false.hopes at gmail.com  Mon Mar  7 20:52:26 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Mar  7 21:23:53 2005
Subject: [wp-hackers] advanced-cache.php ?
In-Reply-To: <422CBDE1.4080406@jrm.cc>
References: <422CBA64.6020209@jrm.cc>
	<a491f91d05030712363b2f1367@mail.gmail.com> <422CBDE1.4080406@jrm.cc>
Message-ID: <a491f91d0503071252402da396@mail.gmail.com>

Its a plugin, meaning that someone would have to download the file and
put it there.


On Mon, 07 Mar 2005 12:47:29 -0800, jeff@jrm.cc <jeff@jrm.cc> wrote:
> Robert Deaton wrote:
> > Its an option for advanced caching, anyone could write a plugin to use
> > it,
> 
> Actually, no one can write anything for it. The file doesn't exist!
> That's what I'm trying to find out is "Where is it?"
> 
> Jeff Minard
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://anothersadsong.com
From jeff at jrm.cc  Mon Mar  7 22:27:52 2005
From: jeff at jrm.cc (jeff@jrm.cc)
Date: Mon Mar  7 22:27:57 2005
Subject: [wp-hackers] advanced-cache.php ?
In-Reply-To: <422CC4DB.50109@midnightcircus.com>
References: <422CBA64.6020209@jrm.cc>	<a491f91d05030712363b2f1367@mail.gmail.com>	<422CBDE1.4080406@jrm.cc>
	<422CC4DB.50109@midnightcircus.com>
Message-ID: <422CD568.4080203@jrm.cc>

Owen Winkler wrote:
> jeff@jrm.cc wrote:
>> Robert Deaton wrote:
>>> Its an option for advanced caching, anyone could write a plugin to use
>>> it, 
>>
>> Actually, no one can write anything for it. The file doesn't exist! 
>> That's what I'm trying to find out is "Where is it?"
> 
> The plugin that uses this file *supplies* this file.  It *is* the plugin 
> file.  It's not really a plugin in a traditional sense.


That is thoroughly confusing.

So if you make a plugin that uses caching, then you should supply 
advanced-cache.php to users? What if multiple authors do this? That 
would get messy quickly.

If it's supposed to just be one general 'plugin', why isn't in in the 
default file structure, and why would it reside outside of the normal 
flow of plugins (ie, being specially defined in the wp-settings.php and 
not being in the plugins/ folder)

Finally, does this exist, and where can it be downloaded from? I can't 
find an example of this file anywhere.


[20 minutes later...]

After talking with carthik on IRC, I think things are clearing up. I 
started this looking for some caching functions I could use for plugins 
that I make. Simple function like get_cache() that checks against a last 
updated time limit, or checks against a modifed timestamp. I thought 
this was what this might be, but maybe not?


So then, then question truely is what is this file supposed to do?



Jeff Minard

From wordpress at coldforged.org  Mon Mar  7 22:29:15 2005
From: wordpress at coldforged.org (Brian Dupuis)
Date: Mon Mar  7 22:29:24 2005
Subject: [wp-hackers] Multiple category exclusion query
Message-ID: <422CD5BB.2010803@coldforged.org>

I've used a hacked classes.php forever to get my multiple category 
exclusions that I need for my site. It's a naive method where you either 
get inclusions or exclusions, nothing more, but it works for my 
application. I was getting tired of keeping the hacked version and 
figured I had some energy to invest in getting a "real" version [where 
"real" means that you can specify $cat strings of, for instance, 
"1,2,3,-29,-30" so that you'll get, in pseudocode, ((1 OR 2 OR 3) AND 
NOT (29 or 30)) so that you'll exclude items that belong to 1 and 29] 
going for possible inclusion in WordPress, so in my spare time I've been 
trying to get it up. As such, I've wracked my brain trying to come up 
with a query that does the necessary job and have failed. Utterly. The 
only things I can come up with are either subqueries (which aren't 
supported in MySQL 4.0) and temporary tables (which I'm afraid would 
negatively impact performance).

Has anyone else tried to crack this nut? Is it even _worth_ trying to 
crack? I see a couple of questions pop up every now and then about 
people trying to exclude categories and sometimes multiple, but not 
often. Mostly people recommend doing inclusion of every category but the 
ones you want excluded which works in some ways but doesn't in others 
and is a pain to deal with for any quantity of categories (my exclusions 
are 27 and 28).
From false.hopes at gmail.com  Mon Mar  7 23:28:21 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Mar  7 23:28:28 2005
Subject: [wp-hackers] advanced-cache.php ?
In-Reply-To: <422CD568.4080203@jrm.cc>
References: <422CBA64.6020209@jrm.cc>
	<a491f91d05030712363b2f1367@mail.gmail.com> <422CBDE1.4080406@jrm.cc>
	<422CC4DB.50109@midnightcircus.com> <422CD568.4080203@jrm.cc>
Message-ID: <a491f91d0503071528250fee66@mail.gmail.com>

Alright, let's see if I can clear this all up.

1. About multiple authors writing a plugin for this, that's one of the
reasons it's hardcoded into the core. It only allows one
advanced-cache.php file to be loaded.

2. This goes outside the flow of normal plugins because it is not a
normal plugin. Its loaded before anything else is, which means that it
has the potential to be a real lightweight caching plugin in the sense
that there would be almost no PHP overhead to run this file since its
called before all other code. Unlike current caching plugins like
staticize, every file doesn't need to be loaded first before it is,
its loaded before most of the core.

3. There is no example of this that I know of, but I'd imagine that
it'd only take about an hour or so to build a basic one.

On Mon, 07 Mar 2005 14:27:52 -0800, jeff@jrm.cc <jeff@jrm.cc> wrote:
> Owen Winkler wrote:
> > jeff@jrm.cc wrote:
> >> Robert Deaton wrote:
> >>> Its an option for advanced caching, anyone could write a plugin to use
> >>> it,
> >>
> >> Actually, no one can write anything for it. The file doesn't exist!
> >> That's what I'm trying to find out is "Where is it?"
> >
> > The plugin that uses this file *supplies* this file.  It *is* the plugin
> > file.  It's not really a plugin in a traditional sense.
> 
> That is thoroughly confusing.
> 
> So if you make a plugin that uses caching, then you should supply
> advanced-cache.php to users? What if multiple authors do this? That
> would get messy quickly.
> 
> If it's supposed to just be one general 'plugin', why isn't in in the
> default file structure, and why would it reside outside of the normal
> flow of plugins (ie, being specially defined in the wp-settings.php and
> not being in the plugins/ folder)
> 
> Finally, does this exist, and where can it be downloaded from? I can't
> find an example of this file anywhere.
> 
> [20 minutes later...]
> 
> After talking with carthik on IRC, I think things are clearing up. I
> started this looking for some caching functions I could use for plugins
> that I make. Simple function like get_cache() that checks against a last
> updated time limit, or checks against a modifed timestamp. I thought
> this was what this might be, but maybe not?
> 
> So then, then question truely is what is this file supposed to do?
> 
> Jeff Minard
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://anothersadsong.com
From m at mullenweg.com  Mon Mar  7 23:52:05 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Mon Mar  7 23:52:10 2005
Subject: [wp-hackers] advanced-cache.php ?
In-Reply-To: <a491f91d0503071528250fee66@mail.gmail.com>
References: <422CBA64.6020209@jrm.cc>	<a491f91d05030712363b2f1367@mail.gmail.com>
	<422CBDE1.4080406@jrm.cc>	<422CC4DB.50109@midnightcircus.com>
	<422CD568.4080203@jrm.cc>
	<a491f91d0503071528250fee66@mail.gmail.com>
Message-ID: <422CE925.1050100@mullenweg.com>

Robert Deaton wrote:
> 3. There is no example of this that I know of, but I'd imagine that
> it'd only take about an hour or so to build a basic one.

There was a hack that functioned the same way, but I can't remember 
where it is. This allows people to do the same thing without changing 
core files.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From fahim at farook.org  Tue Mar  8 02:54:09 2005
From: fahim at farook.org (Fahim Farook)
Date: Tue Mar  8 02:55:02 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <80f75db050307082376675121@mail.gmail.com>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>	<cfced4523fe0d217573f42a3eea3c178@textdrive.com>	<80f75db05030615523b9389e2@mail.gmail.com>	<3dfa3d4035fab2bc1ff7c8c5c8a21561@textdrive.com>	<422C12AB.9050008@tamba2.org.uk>	<e6a2391e8678bb40049ffd7a3bc9cfef@mullenweg.com>	<422C264D.2010404@tamba2.org.uk>
	<422C2E21.2060408@mullenweg.com>	<422C5C8D.8050304@tamba2.org.uk>
	<422C7D87.5090507@tamba2.org.uk>
	<80f75db050307082376675121@mail.gmail.com>
Message-ID: <422D13D1.7090503@farook.org>

    I'd certainly be interested in helping. In fact, I'll take a look at
the cases of the two Lunarpages accounts that were mentioned here and
see if I can see anything useful on the accounts notes. I hadn't known
that those two accounts were moved to a non-production related server
for WP related load till it was mentioned here. Maybe there is something
there in the account notes that might be useful ...

Fahim

Carthik Sharma wrote:

>Just a mild reminder, if I may :
>
>Since Jason seems to be inclined to help, and so too Farook, maybe we
>could nail down the exact queries that caused at least a few of the
>problems?
>  
>

From m at mullenweg.com  Tue Mar  8 03:03:50 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Tue Mar  8 03:03:56 2005
Subject: [wp-hackers] Plugin metadata
Message-ID: <422D1616.5070904@mullenweg.com>

Could people start adding readmes to their plugins following this format:

http://svn.wp-plugins.org/staticize-reloaded/trunk/readme.txt

Contributors are forum usernames. Tags are tags/keywords.

You can also put screenshots in, for example:

http://svn.wp-plugins.org/staticize-reloaded/trunk/

Name them screenshot-#.(png|jpg|jpeg|gif). You can describe them in the 
Screenshots section.

Send me a mail when you do.

I think most people can guess where this is going. :)

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From jeff at jrm.cc  Tue Mar  8 03:18:43 2005
From: jeff at jrm.cc (jeff@jrm.cc)
Date: Tue Mar  8 03:18:55 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <422D1616.5070904@mullenweg.com>
References: <422D1616.5070904@mullenweg.com>
Message-ID: <422D1993.8000403@jrm.cc>

Matthew Mullenweg wrote:
> Name them screenshot-#.(png|jpg|jpeg|gif). You can describe them in the 
> Screenshots section.

Size limits? KB and dimensions?

Jeff Minard
From ringmaster at midnightcircus.com  Tue Mar  8 04:02:33 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Mar  8 04:03:54 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <422D1616.5070904@mullenweg.com>
References: <422D1616.5070904@mullenweg.com>
Message-ID: <422D23D9.3010407@midnightcircus.com>

Matthew Mullenweg wrote:

> Could people start adding readmes to their plugins following this format:
>
> http://svn.wp-plugins.org/staticize-reloaded/trunk/readme.txt

Are you going to do this for trunks, too?  We just had that whole long 
discussion about WP nightlies...

Owen


From kim at tac.nyc.ny.us  Tue Mar  8 04:05:33 2005
From: kim at tac.nyc.ny.us (Kimmo Suominen)
Date: Tue Mar  8 04:05:43 2005
Subject: [wp-hackers] Auto shutoff comments to be shut off?
In-Reply-To: <80f75db0503070946770909db@mail.gmail.com>
References: <80f75db0503070946770909db@mail.gmail.com>
Message-ID: <20050308040533.GB20938@kimmo.suominen.com>

Not that my site has a huge database or anything, but I've been using
that plugin for a "really long" time.  I've converted it to WP 1.5 on
or around December 8, 2004 (based on the timestamp of the file).

Haven't had any problems.  It "only" runs when something is written
to the db, not when it is read:

I guess if you are getting hundreds of trackbacks or pingbacks per
minute it could get pretty bad.

I did optimize it a bit, so that it only changes status for posts that
have comments open.  The old version always changed the status of all
old posts, even if they were closed already (or private)...

I think the best first action would be to ask if the problem cases were
using this plugin, as opposed to wiping the plugin out from existence.

Regards,
+ Kim
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>


On Mon, Mar 07, 2005 at 12:46:36PM -0500, Carthik Sharma wrote:
> I beleive the auto shutoff comments plugin is evil - no less.
> 
> To quote:
> It's pretty easy to put this into a plugin that runs every time the
> database is changed, so that we don't need a cronjob.
> 
> From: http://wiki.wordpress.org/Auto%20shutoff%20comments
> 
> It is nothing short of treachery to do the update each time there is a
> new post, or comment, or whatever else. The plugin says:
> add_action('publish_post', 'autoclose_comments', 7);
> add_action('edit_post', 'autoclose_comments', 7);
> add_action('delete_post', 'autoclose_comments', 7);
> add_action('comment_post', 'autoclose_comments', 7);
> add_action('trackback_post', 'autoclose_comments', 7);
> add_action('pingback_post', 'autoclose_comments', 7);
> add_action('edit_comment', 'autoclose_comments', 7);
> add_action('delete_comment', 'autoclose_comments', 7);
> add_action('template_save', 'autoclose_comments', 7
> 
> All this, to avoid having a simple cron job!
> 
> I am removing references to this plugin from the Codex Plugins page
> until someone comes up with a more responsible way of doing this.
> Could this be a culprit behind some recently reported mysql problems
> for some users?
> 
> Carthik.
From fuegodesigns at gmail.com  Tue Mar  8 04:23:37 2005
From: fuegodesigns at gmail.com (Josh Jarmin)
Date: Tue Mar  8 04:23:43 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <422D23D9.3010407@midnightcircus.com>
References: <422D1616.5070904@mullenweg.com>
	<422D23D9.3010407@midnightcircus.com>
Message-ID: <1c47d908050307202334ab17c6@mail.gmail.com>

Could we get screenshots for themes before we get screenshots for
plugins?  I'm sure that some plugins won't need a screenshot, but all
themes will.  Just an idea.


On Mon, 07 Mar 2005 23:02:33 -0500, Owen Winkler
<ringmaster@midnightcircus.com> wrote:
> Matthew Mullenweg wrote:
> 
> > Could people start adding readmes to their plugins following this format:
> >
> > http://svn.wp-plugins.org/staticize-reloaded/trunk/readme.txt
> 
> Are you going to do this for trunks, too?  We just had that whole long
> discussion about WP nightlies...
> 
> Owen
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
Thanks,
Josh Jarmin
FuegoDesigns.com
Radiantrock.com
Red & Yellow Make Green - http://www.fuegodesigns.com/blog
From ecb29 at cornell.edu  Tue Mar  8 04:22:55 2005
From: ecb29 at cornell.edu (=?ISO-8859-1?Q?Elliott_B=E4ck?=)
Date: Tue Mar  8 04:26:00 2005
Subject: [wordpress] [wp-hackers] Multiple category exclusion query
In-Reply-To: <422CD5BB.2010803@coldforged.org>
References: <422CD5BB.2010803@coldforged.org>
Message-ID: <422D289F.7040001@cornell.edu>

I wrote a SQL search engine once that had to parse user input, including 
quotes and negation, and it generates slightly different SQL than what 
you're describing.  See, the grouping you have isn't worth it.  You do 
don't have to be that smart.  If you have 1 -2 3 -29 30, just write:

1 AND NOT 2 OR 3 AND NOT 29 OR 30

I am assuming that the precedence will order these:

((((1 ^ !2) + 3) ^ !29) + 30)

But according to RedHat 
(http://www.redhat.com/docs/manuals/database/RHDB-7.1.3-Manual/sql/sql-precedence.html), 
AND binds more tightly, so we really have:

(1 ^ (!2 + (3 ^ (!29 + 30))))

What does work is to write:

((1 + 3 + 30) ^ !(2 + 29))

Just factor into two groups, positive and negative, and take the 
negative conjunction of the OR'ed positive elements with the OR'ed 
negative elements.  Does that help?  I guess not...what you want is code 
to do this:

function giveMeSQL($in){
    $pos = array();
    $neg = array();

    foreach($number in $in){
       if($in > 0){
          $pos[] = $number;
       } else{
          $neg[] = $number;
        }
    }

    $sql = "";
    if(count($pos) > 0){
        $sql .= "(";      

       for($i = 0; $i < count($pos); $i++){
          $sql .= $pos[$i];
          if($i < count($pos) - 1)
             $sql .= " OR ";
        }

       $sql .= ")";
    }
   
    if(count($neg) > 0){
       $sql .= "AND NOT (";      

       for($i = 0; $i < count($neg); $i++){
          $sql .= $neg[$i];
          if($i < count($neg) - 1)
             $sql .= " OR ";
        }

       $sql .= ")";
    }

    return $sql;
}

Is that what you're wondering?

Thanks,
Elliott C. B?ck

607-229-0623
http://elliottback.com



Brian Dupuis wrote:

> I've used a hacked classes.php forever to get my multiple category 
> exclusions that I need for my site. It's a naive method where you 
> either get inclusions or exclusions, nothing more, but it works for my 
> application. I was getting tired of keeping the hacked version and 
> figured I had some energy to invest in getting a "real" version [where 
> "real" means that you can specify $cat strings of, for instance, 
> "1,2,3,-29,-30" so that you'll get, in pseudocode, ((1 OR 2 OR 3) AND 
> NOT (29 or 30)) so that you'll exclude items that belong to 1 and 29] 
> going for possible inclusion in WordPress, so in my spare time I've 
> been trying to get it up. As such, I've wracked my brain trying to 
> come up with a query that does the necessary job and have failed. 
> Utterly. The only things I can come up with are either subqueries 
> (which aren't supported in MySQL 4.0) and temporary tables (which I'm 
> afraid would negatively impact performance).
>
> Has anyone else tried to crack this nut? Is it even _worth_ trying to 
> crack? I see a couple of questions pop up every now and then about 
> people trying to exclude categories and sometimes multiple, but not 
> often. Mostly people recommend doing inclusion of every category but 
> the ones you want excluded which works in some ways but doesn't in 
> others and is a pain to deal with for any quantity of categories (my 
> exclusions are 27 and 28).
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From kim at tac.nyc.ny.us  Tue Mar  8 04:29:33 2005
From: kim at tac.nyc.ny.us (Kimmo Suominen)
Date: Tue Mar  8 04:29:41 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <1c47d908050307202334ab17c6@mail.gmail.com>
References: <422D1616.5070904@mullenweg.com>
	<422D23D9.3010407@midnightcircus.com>
	<1c47d908050307202334ab17c6@mail.gmail.com>
Message-ID: <20050308042933.GA3285@kimmo.suominen.com>

Matthew Mullenweg wrote:
>
> Could people start adding readmes to their plugins following this format:
>
> http://svn.wp-plugins.org/staticize-reloaded/trunk/readme.txt

How about wrapping the lines at under 80 characters?  It would also make
it easier to read the text files from a web server.

Regards,
+ Kim
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>

From jeff at jrm.cc  Tue Mar  8 04:35:01 2005
From: jeff at jrm.cc (jeff@jrm.cc)
Date: Tue Mar  8 04:35:08 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <20050308042933.GA3285@kimmo.suominen.com>
References: <422D1616.5070904@mullenweg.com>	<422D23D9.3010407@midnightcircus.com>	<1c47d908050307202334ab17c6@mail.gmail.com>
	<20050308042933.GA3285@kimmo.suominen.com>
Message-ID: <422D2B75.3090407@jrm.cc>

Kimmo Suominen wrote:
> How about wrapping the lines at under 80 characters?  It would also make
> it easier to read the text files from a web server.

I am sure that these files are going to parsed into some kind of HTML, 
so I don't really think that is a concern.

Jeff
From ecb29 at cornell.edu  Tue Mar  8 04:38:18 2005
From: ecb29 at cornell.edu (=?ISO-8859-1?Q?Elliott_B=E4ck?=)
Date: Tue Mar  8 04:41:15 2005
Subject: [wordpress] Re: [wp-hackers] Plugin metadata
In-Reply-To: <20050308042933.GA3285@kimmo.suominen.com>
References: <422D1616.5070904@mullenweg.com>	<422D23D9.3010407@midnightcircus.com>	<1c47d908050307202334ab17c6@mail.gmail.com>
	<20050308042933.GA3285@kimmo.suominen.com>
Message-ID: <422D2C3A.1010503@cornell.edu>

Kimmo Suominen wrote:

>How about wrapping the lines at under 80 characters?  It would also make
>it easier to read the text files from a web server.
>

Wrapping the files will make it slightly more annoying to parse, since 
the regular expressions will have to span multiple lines.  Speakin of 
parsing, does anyone know if there is an equivalent of yacc/bison/CUP 
for php?  If there were, we could have *real* parsers in WP, rather than 
these regex hacks.  There's something nice about a formal grammar...

(motivation:  currently taking compilers class, just turned in 36,000 
lines of Java5 and 3,000 lines of testcases)

Thanks,
Elliott C. B?ck

607-229-0623
http://elliottback.com

From kim at tac.nyc.ny.us  Tue Mar  8 04:44:58 2005
From: kim at tac.nyc.ny.us (Kimmo Suominen)
Date: Tue Mar  8 04:45:08 2005
Subject: [wordpress] Re: [wp-hackers] Plugin metadata
In-Reply-To: <422D2C3A.1010503@cornell.edu>
References: <422D1616.5070904@mullenweg.com>
	<422D23D9.3010407@midnightcircus.com>
	<1c47d908050307202334ab17c6@mail.gmail.com>
	<20050308042933.GA3285@kimmo.suominen.com>
	<422D2C3A.1010503@cornell.edu>
Message-ID: <20050308044458.GB3285@kimmo.suominen.com>

On Mon, Mar 07, 2005 at 11:38:18PM -0500, Elliott B?ck wrote:
> Kimmo Suominen wrote:
> 
> >How about wrapping the lines at under 80 characters?  It would also make
> >it easier to read the text files from a web server.
> >
> 
> Wrapping the files will make it slightly more annoying to parse, since 
> the regular expressions will have to span multiple lines.  Speakin of 

I don't follow -- the information under each heading of the readme.txt
file already includes multiple lines.  I don't think folding the
paragraphs would make it any more difficult.

http://svn.wp-plugins.org/staticize-reloaded/trunk/readme.txt

Regards,
+ Kim
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>

From kim at tac.nyc.ny.us  Tue Mar  8 04:46:38 2005
From: kim at tac.nyc.ny.us (Kimmo Suominen)
Date: Tue Mar  8 04:46:50 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <422D2B75.3090407@jrm.cc>
References: <422D1616.5070904@mullenweg.com>
	<422D23D9.3010407@midnightcircus.com>
	<1c47d908050307202334ab17c6@mail.gmail.com>
	<20050308042933.GA3285@kimmo.suominen.com>
	<422D2B75.3090407@jrm.cc>
Message-ID: <20050308044638.GC3285@kimmo.suominen.com>

On Mon, Mar 07, 2005 at 08:35:01PM -0800, jeff@jrm.cc wrote:
> Kimmo Suominen wrote:
> >How about wrapping the lines at under 80 characters?  It would also make
> >it easier to read the text files from a web server.
> 
> I am sure that these files are going to parsed into some kind of HTML, 
> so I don't really think that is a concern.

But it wouldn't prevent turning them into HTML, either... :-)

Regards,
+ Kim
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>

From ryan at theryanking.com  Tue Mar  8 06:36:27 2005
From: ryan at theryanking.com (Ryan King)
Date: Tue Mar  8 06:36:44 2005
Subject: [wordpress] Re: [wp-hackers] Plugin metadata
In-Reply-To: <422D2C3A.1010503@cornell.edu>
References: <422D1616.5070904@mullenweg.com>	<422D23D9.3010407@midnightcircus.com>	<1c47d908050307202334ab17c6@mail.gmail.com>
	<20050308042933.GA3285@kimmo.suominen.com>
	<422D2C3A.1010503@cornell.edu>
Message-ID: <4b62d320267b73a4092125aa2c61b703@theryanking.com>

On Mar 7, 2005, at 8:38 PM, Elliott B?ck wrote:

> Kimmo Suominen wrote:
>
>> How about wrapping the lines at under 80 characters?  It would also 
>> make
>> it easier to read the text files from a web server.
>>
>
> Wrapping the files will make it slightly more annoying to parse, since 
> the regular expressions will have to span multiple lines.  Speakin of 
> parsing, does anyone know if there is an equivalent of yacc/bison/CUP 
> for php?  If there were, we could have *real* parsers in WP, rather 
> than these regex hacks.  There's something nice about a formal 
> grammar...

Well, there's a proposal for a PEAR package called Lexer: 
http://pear.php.net/pepr/pepr-proposal-show.php?id=197

Also, I believe there is a lexer class in the php-sharp project: 
http://cvs.sourceforge.net/viewcvs.py/php-sharp/phpLex/

> (motivation:  currently taking compilers class, just turned in 36,000 
> lines of Java5 and 3,000 lines of testcases)

sick. :-)

-ryan


--
http://theryanking.com/

From albert+wphackers at cdr.se  Tue Mar  8 06:48:50 2005
From: albert+wphackers at cdr.se (Albert Holm)
Date: Tue Mar  8 06:48:45 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <20050308042933.GA3285@kimmo.suominen.com>
References: <422D1616.5070904@mullenweg.com>
	<422D23D9.3010407@midnightcircus.com>
	<1c47d908050307202334ab17c6@mail.gmail.com>
	<20050308042933.GA3285@kimmo.suominen.com>
Message-ID: <opsna3vond25np9q@golf.bredbandsbolaget.se>

Den 2005-03-08 05:29:33 skrev Kimmo Suominen <kim@tac.nyc.ny.us>:

> How about wrapping the lines at under 80 characters?  It would also make
> it easier to read the text files from a web server.

I don't use Firefox or IE, but I assumed that all browsers could do this.
Atleast Opera gives me the opportunity to wrap it just when it displays to
me. My texteditor does too. I believe the best way is to keep one kind of
information per row, like it is now.

/Albert
From m at mullenweg.com  Tue Mar  8 08:36:37 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Tue Mar  8 08:36:59 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <20050308042933.GA3285@kimmo.suominen.com>
References: <422D1616.5070904@mullenweg.com>	<422D23D9.3010407@midnightcircus.com>	<1c47d908050307202334ab17c6@mail.gmail.com>
	<20050308042933.GA3285@kimmo.suominen.com>
Message-ID: <422D6415.9070503@mullenweg.com>

Kimmo Suominen wrote:
> How about wrapping the lines at under 80 characters?  It would also make
> it easier to read the text files from a web server.

You can if you want, the parser works off the headers so what's in 
between them is somewhat flexible. You can use Markdown as well, but 
ideally these should be 99% plain text.

http://daringfireball.net/projects/markdown/

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From m at mullenweg.com  Tue Mar  8 08:37:57 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Tue Mar  8 08:38:11 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <422D1993.8000403@jrm.cc>
References: <422D1616.5070904@mullenweg.com> <422D1993.8000403@jrm.cc>
Message-ID: <422D6465.4040306@mullenweg.com>

jeff@jrm.cc wrote:
> Size limits? KB and dimensions?

Make them normal size, which for screenshots is usually under 1024x768. 
Thumbnails will be automatically created.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From m at mullenweg.com  Tue Mar  8 08:39:23 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Tue Mar  8 08:39:33 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <1c47d908050307202334ab17c6@mail.gmail.com>
References: <422D1616.5070904@mullenweg.com>	<422D23D9.3010407@midnightcircus.com>
	<1c47d908050307202334ab17c6@mail.gmail.com>
Message-ID: <422D64BB.9070806@mullenweg.com>

Josh Jarmin wrote:
> Could we get screenshots for themes before we get screenshots for
> plugins?  I'm sure that some plugins won't need a screenshot, but all
> themes will.  Just an idea.

Sure, that's where we're heading at the same time. We just have way more 
plugins in the repository.

New repository for themes:

http://dev.wp-themes.org/

(Obviously needs work.)

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From bronski at bronski.net  Tue Mar  8 08:47:29 2005
From: bronski at bronski.net (Christoph Rummel)
Date: Tue Mar  8 08:47:36 2005
Subject: [wp-hackers] Auto shutoff comments to be shut off?
In-Reply-To: <80f75db0503070946770909db@mail.gmail.com>
References: <80f75db0503070946770909db@mail.gmail.com>
Message-ID: <20050308084729.GD13328@bronski.net>

Carthik Sharma <carthik@gmail.com> (2005-03-07 12:46:36 -0500):
> To quote:
> It's pretty easy to put this into a plugin that runs every time the
> database is changed, so that we don't need a cronjob.

Lets give the plugin an option-setting to store the
date the autoclose has last been run. And then check
against the date. Voila, it runs only once a day.

Chris

From jeff at jrm.cc  Tue Mar  8 09:44:07 2005
From: jeff at jrm.cc (jeff@jrm.cc)
Date: Tue Mar  8 09:44:21 2005
Subject: [wp-hackers] dev.wp-themes.org
In-Reply-To: <422D64BB.9070806@mullenweg.com>
References: <422D1616.5070904@mullenweg.com>	<422D23D9.3010407@midnightcircus.com>	<1c47d908050307202334ab17c6@mail.gmail.com>
	<422D64BB.9070806@mullenweg.com>
Message-ID: <422D73E7.7020408@jrm.cc>

Matthew Mullenweg wrote:
> New repository for themes:
> http://dev.wp-themes.org/

What I've been thinking would be awesome is a "CSS Zen Garden"-like 
interface for browsing and downloading WordPress themes.

For example:
* Start with a demo blog with a bunch of posts.
* Add all the themes you can get yer hands on.
* People try them out, find one they like.
* Whenever a theme is active, have an extra header element on every page 
that provides a download link and/or a link to author, wiki page, etc.

It would be pretty sweet to see: http://demo.wp-themes.org/

Jeff Minard
From albert+wphackers at cdr.se  Tue Mar  8 10:26:04 2005
From: albert+wphackers at cdr.se (Albert Holm)
Date: Tue Mar  8 10:26:37 2005
Subject: [wp-hackers] dev.wp-themes.org
In-Reply-To: <422D23D9.3010407@midnightcircus.com>
References: <422D1616.5070904@mullenweg.com>
	<422D23D9.3010407@midnightcircus.com>
	<1c47d908050307202334ab17c6@mail.gmail.com>
	<422D64BB.9070806@mullenweg.com> <422D73E7.7020408@jrm.cc>
Message-ID: <op.snbdxqqm25np9q@envy.lysator.liu.se>

On Tue, 08 Mar 2005 10:44:07 +0100, jeff@jrm.cc <jeff@jrm.cc> wrote:

> Matthew Mullenweg wrote:
>> New repository for themes:
>> http://dev.wp-themes.org/
>
> What I've been thinking would be awesome is a "CSS Zen Garden"-like  
> interface for browsing and downloading WordPress themes.
>
> For example:
> * Start with a demo blog with a bunch of posts.
> * Add all the themes you can get yer hands on.
> * People try them out, find one they like.
> * Whenever a theme is active, have an extra header element on every page  
> that provides a download link and/or a link to author, wiki page, etc.
>
> It would be pretty sweet to see: http://demo.wp-themes.org/
>

I guess the theme switcher plugin would be a good start. Alex King uses it  
for the theme competition blog at
<URL:http://www.alexking.org/software/wordpress/themes/blog/>
From dmhouse at gmail.com  Tue Mar  8 10:49:06 2005
From: dmhouse at gmail.com (David House)
Date: Tue Mar  8 10:49:13 2005
Subject: [wp-hackers] Auto shutoff comments to be shut off?
In-Reply-To: <20050308084729.GD13328@bronski.net>
References: <80f75db0503070946770909db@mail.gmail.com>
	<20050308084729.GD13328@bronski.net>
Message-ID: <ebe43d6805030802496542cb5a@mail.gmail.com>

I wrote this before the plugin structure was properly set up (and thus
is really a hack), but here's my Ultra-Simple Comments Shutoff:

http://wordpress.org/support/topic.php?id=4268
From wordpress at coldforged.org  Tue Mar  8 16:09:26 2005
From: wordpress at coldforged.org (Brian Dupuis)
Date: Tue Mar  8 16:10:07 2005
Subject: [wordpress] [wp-hackers] Multiple category exclusion query
In-Reply-To: <422D289F.7040001@cornell.edu>
References: <422CD5BB.2010803@coldforged.org> <422D289F.7040001@cornell.edu>
Message-ID: <422DCE36.3010908@coldforged.org>

Thanks for the response Elliot. Yes, you are correct about your 
queries... and that's the path I had gotten down and had already created 
some decent code to get those style of queries out the back end. I was 
making the problem too difficult in my brain. See, I thought the 
wp_post2cat table was a list of _additional_ categories that a post was 
posted to. With that kind of misunderstanding, creating a query that 
would be capable of not including a row in the wp_posts table if there 
was a row found in the wp_post2cat table that had an excluded category 
was driving me insane. Thankfully that's not the case and I should be 
able to get a query going in short order.

In essence, I wasn't using wp_post2cat as it was meant to be used and 
hence the queries I was generating didn't work.

Thanks for your input!
   
    Regards,
    Brian
   

Elliott B?ck wrote:

> I wrote a SQL search engine once that had to parse user input, 
> including quotes and negation, and it generates slightly different SQL 
> than what you're describing.  See, the grouping you have isn't worth 
> it.  You do don't have to be that smart.  If you have 1 -2 3 -29 30, 
> just write:
>
> 1 AND NOT 2 OR 3 AND NOT 29 OR 30
>
> I am assuming that the precedence will order these:
>
> ((((1 ^ !2) + 3) ^ !29) + 30)
>
> But according to RedHat 
> (http://www.redhat.com/docs/manuals/database/RHDB-7.1.3-Manual/sql/sql-precedence.html), 
> AND binds more tightly, so we really have:
>
> (1 ^ (!2 + (3 ^ (!29 + 30))))
>
> What does work is to write:
>
> ((1 + 3 + 30) ^ !(2 + 29))
>
> Just factor into two groups, positive and negative, and take the 
> negative conjunction of the OR'ed positive elements with the OR'ed 
> negative elements.  Does that help?  I guess not...what you want is 
> code to do this:
>
> function giveMeSQL($in){
>    $pos = array();
>    $neg = array();
>
>    foreach($number in $in){
>       if($in > 0){
>          $pos[] = $number;
>       } else{
>          $neg[] = $number;
>        }
>    }
>
>    $sql = "";
>    if(count($pos) > 0){
>        $sql .= "(";     
>       for($i = 0; $i < count($pos); $i++){
>          $sql .= $pos[$i];
>          if($i < count($pos) - 1)
>             $sql .= " OR ";
>        }
>
>       $sql .= ")";
>    }
>      if(count($neg) > 0){
>       $sql .= "AND NOT (";     
>       for($i = 0; $i < count($neg); $i++){
>          $sql .= $neg[$i];
>          if($i < count($neg) - 1)
>             $sql .= " OR ";
>        }
>
>       $sql .= ")";
>    }
>
>    return $sql;
> }
>
> Is that what you're wondering?
>
> Thanks,
> Elliott C. B?ck
>
> 607-229-0623
> http://elliottback.com
>
>
>
> Brian Dupuis wrote:
>
>> I've used a hacked classes.php forever to get my multiple category 
>> exclusions that I need for my site. It's a naive method where you 
>> either get inclusions or exclusions, nothing more, but it works for 
>> my application. I was getting tired of keeping the hacked version and 
>> figured I had some energy to invest in getting a "real" version 
>> [where "real" means that you can specify $cat strings of, for 
>> instance, "1,2,3,-29,-30" so that you'll get, in pseudocode, ((1 OR 2 
>> OR 3) AND NOT (29 or 30)) so that you'll exclude items that belong to 
>> 1 and 29] going for possible inclusion in WordPress, so in my spare 
>> time I've been trying to get it up. As such, I've wracked my brain 
>> trying to come up with a query that does the necessary job and have 
>> failed. Utterly. The only things I can come up with are either 
>> subqueries (which aren't supported in MySQL 4.0) and temporary tables 
>> (which I'm afraid would negatively impact performance).
>>
>> Has anyone else tried to crack this nut? Is it even _worth_ trying to 
>> crack? I see a couple of questions pop up every now and then about 
>> people trying to exclude categories and sometimes multiple, but not 
>> often. Mostly people recommend doing inclusion of every category but 
>> the ones you want excluded which works in some ways but doesn't in 
>> others and is a pain to deal with for any quantity of categories (my 
>> exclusions are 27 and 28).
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>

From trevorturk at yahoo.com  Tue Mar  8 16:50:10 2005
From: trevorturk at yahoo.com (Trevor Turk)
Date: Tue Mar  8 16:50:24 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: 6667
Message-ID: <20050308165010.70879.qmail@web14928.mail.yahoo.com>

I think this should get added to the codex, so I
dropped a bit of text in the 'PluginAPI' page. Also is
there a mention of the new themes site on there?
From m at mullenweg.com  Tue Mar  8 17:21:12 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Tue Mar  8 17:21:20 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <20050308165010.70879.qmail@web14928.mail.yahoo.com>
References: <20050308165010.70879.qmail@web14928.mail.yahoo.com>
Message-ID: <422DDF08.6000404@mullenweg.com>

Trevor Turk wrote:
> I think this should get added to the codex, so I
> dropped a bit of text in the 'PluginAPI' page. Also is
> there a mention of the new themes site on there?

Not yet.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From jeff at jrm.cc  Tue Mar  8 17:54:26 2005
From: jeff at jrm.cc (jeff@jrm.cc)
Date: Tue Mar  8 17:54:37 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <422D1616.5070904@mullenweg.com>
References: <422D1616.5070904@mullenweg.com>
Message-ID: <422DE6D2.3060303@jrm.cc>

Matthew Mullenweg wrote:
> Could people start adding readmes to their plugins following this format:
> http://svn.wp-plugins.org/staticize-reloaded/trunk/readme.txt
> 
> You can also put screenshots in, for example:
> http://svn.wp-plugins.org/staticize-reloaded/trunk/

I did this for mine, but now that I'm looking at it, it's kinda messy. I 
don't want people to be coming to the page and thinking they need to 
download the read me and/or screenshots - or have those there just to 
make them stop and think.

Why not place these things in the root of the plugin?
http://svn.wp-plugins.org/staticize-reloaded/readme.txt

Jeff Minard
From m at mullenweg.com  Tue Mar  8 18:02:22 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Tue Mar  8 18:02:49 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <422DE6D2.3060303@jrm.cc>
References: <422D1616.5070904@mullenweg.com> <422DE6D2.3060303@jrm.cc>
Message-ID: <422DE8AE.8000709@mullenweg.com>

jeff@jrm.cc wrote:
> I did this for mine, but now that I'm looking at it, it's kinda messy. I 
> don't want people to be coming to the page and thinking they need to 
> download the read me and/or screenshots - or have those there just to 
> make them stop and think.

No one should ever go to those pages. The files will be included in the 
downloadable archive and I think people expect some sort of 
documentation when they download something, so it's a nice bundle.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From scott.and.kim at gmail.com  Tue Mar  8 23:40:11 2005
From: scott.and.kim at gmail.com (Scott and Kim)
Date: Tue Mar  8 23:40:25 2005
Subject: [wordpress] Re: [wp-hackers] Plugin metadata
In-Reply-To: <422D2C3A.1010503@cornell.edu>
References: <422D1616.5070904@mullenweg.com>
	<422D23D9.3010407@midnightcircus.com>
	<1c47d908050307202334ab17c6@mail.gmail.com>
	<20050308042933.GA3285@kimmo.suominen.com>
	<422D2C3A.1010503@cornell.edu>
Message-ID: <6ce30cda0503081540220f3ecf@mail.gmail.com>

What about providing the plugin metatdata in a standard XML format?

On Mon, 07 Mar 2005 23:38:18 -0500, Elliott B?ck <ecb29@cornell.edu> wrote:
> Kimmo Suominen wrote:
> 
> >How about wrapping the lines at under 80 characters?  It would also make
> >it easier to read the text files from a web server.
> >
> 
> Wrapping the files will make it slightly more annoying to parse, since
> the regular expressions will have to span multiple lines.  Speakin of
> parsing, does anyone know if there is an equivalent of yacc/bison/CUP
> for php?  If there were, we could have *real* parsers in WP, rather than
> these regex hacks.  There's something nice about a formal grammar...
> 
> (motivation:  currently taking compilers class, just turned in 36,000
> lines of Java5 and 3,000 lines of testcases)
> 
> Thanks,
> Elliott C. B?ck
> 
> 607-229-0623
> http://elliottback.com
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From m at mullenweg.com  Tue Mar  8 23:53:08 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Mar  8 23:53:45 2005
Subject: [wordpress] Re: [wp-hackers] Plugin metadata
In-Reply-To: <6ce30cda0503081540220f3ecf@mail.gmail.com>
References: <422D1616.5070904@mullenweg.com>	<422D23D9.3010407@midnightcircus.com>	<1c47d908050307202334ab17c6@mail.gmail.com>	<20050308042933.GA3285@kimmo.suominen.com>	<422D2C3A.1010503@cornell.edu>
	<6ce30cda0503081540220f3ecf@mail.gmail.com>
Message-ID: <422E3AE4.60602@mullenweg.com>

Scott and Kim wrote:
> What about providing the plugin metatdata in a standard XML format?

We want something that looks good to humans as plain text, hence going 
in the direction of Markdown/wiki style headings and text.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From wordpress at coldforged.org  Wed Mar  9 00:52:13 2005
From: wordpress at coldforged.org (Brian Dupuis)
Date: Wed Mar  9 01:29:05 2005
Subject: [wordpress] [wp-hackers] Multiple category exclusion query
In-Reply-To: <422DCE36.3010908@coldforged.org>
References: <422CD5BB.2010803@coldforged.org> <422D289F.7040001@cornell.edu>
	<422DCE36.3010908@coldforged.org>
Message-ID: <422E48BD.3000405@coldforged.org>

I admit defeat... I can't get a clean query to save my life. I can only 
get a query which would theoretically work by using temporary tables as 
I was fearing. Using that temporary table and the subsequent goofy 
$whichcat and $join clauses that result break everything else that deals 
with those clauses. The general gist of the problem is that you can't 
simply perform a nice binary logical operation to get the needed rows. 
Well, you could if you could use a subquery with NOT EXISTS, but we want 
to be nice to the 4.0 MySQL users and so subqueries are out. Why? 
Because with exclusions you want only post IDs which have _no rows_ that 
contain an excluded category. Try doing that with a simply AND NOT clause.

So, for posterity before I burn it and the computer that it's on from 
frustration, here's the closest I got. Imagine this in the appropriate 
place in classes.php. Note also that to even get it to try to work, 
you'll have to qualify some column names in later code since these 
queries add ambiguities.

Now if I never see another SELECT statement in about a decade, I'll be 
happy.

        // Category stuff

        if ((empty($q['cat'])) || ($q['cat'] == '0') ||
                // Bypass cat checks if fetching specific posts
                ( $this->is_single || $this->is_page )) {
            $whichcat='';
        } else {
            $q['cat'] = ''.urldecode($q['cat']).'';
            $q['cat'] = addslashes_gpc($q['cat']);

            $join = " LEFT JOIN $wpdb->post2cat ON ($wpdb->posts.ID = 
$wpdb->post2cat.post_id) ";
            $cat_array = preg_split('/[,\s]+/', $q['cat']);

            // Support multiple inclusions and exclusions.
            $inclusions = Array();
            $exclusions = Array();
            foreach( $cat_array as $category ) {
                if( ( $category_int = intval( $category ) ) < 0 ) {
                    $exclusions[] = abs($category_int);
                    $children_string = get_category_children( 
$category_int );
                    if( !empty( $children_string ) ) {
                        $exclusion_children = explode('/', 
ltrim($children_string,'/') );
                        $exclusions = array_merge( $exclusions, 
$exclusion_children );
                    }
                } else {
                    $inclusions[] = $category_int;
                    $children_string = get_category_children( 
$category_int );
                    if( !empty( $children_string ) ) {
                        $inclusion_children = explode('/', 
ltrim($children_string,'/') );
                        $inclusions = array_merge( $inclusions, 
$inclusion_children );
                    }
                }
            }

            $whichcat = '';
            // Case for both inclusions and exclusions
            if( ( count( $exclusions ) > 0 ) && ( count( $inclusions ) > 
0 ) )
            {

                $subquery = "DROP TABLE IF EXISTS wpexcludes";
                $wpdb->query( $subquery );
                $subquery = "CREATE TEMPORARY TABLE wpexcludes SELECT * " .
                    " FROM $wpdb->posts " .
                    " LEFT JOIN $wpdb->post2cat " .
                    " ON ( $wpdb->posts.ID = $wpdb->post2cat.post_id ) " .
                    " WHERE category_id IN ( 
".implode(',',$exclusions)." ) " .
                    " GROUP BY ".$wpdb->posts.".ID";
                $wpdb->query( $subquery );
                $join = " LEFT JOIN $wpdb->post2cat ON ( $wpdb->posts.ID 
= $wpdb->post2cat.post_id ) LEFT OUTER JOIN wpexcludes ON ( 
$wpdb->posts.ID = wpexcludes.ID )";
                $whichcat .= " AND wpexcludes.ID IS NULL AND 
$wpdb->post2cat.category_id IN (".implode(',',$inclusions).") ";
            } else if( count( $inclusions ) > 0 ) {
                $whichcat .= " AND $wpdb->post2cat.category_id IN 
(".implode(',',$inclusions).") ";
            } else {
            if( count( $exclusions ) )
                $whichcat .= " AND $wpdb->post2cat.category_id NOT IN 
(".implode(',',$inclusions).") ";
            }
        }


Brian Dupuis wrote:

> Thanks for the response Elliot. Yes, you are correct about your 
> queries... and that's the path I had gotten down and had already 
> created some decent code to get those style of queries out the back 
> end. I was making the problem too difficult in my brain. See, I 
> thought the wp_post2cat table was a list of _additional_ categories 
> that a post was posted to. With that kind of misunderstanding, 
> creating a query that would be capable of not including a row in the 
> wp_posts table if there was a row found in the wp_post2cat table that 
> had an excluded category was driving me insane. Thankfully that's not 
> the case and I should be able to get a query going in short order.
>
> In essence, I wasn't using wp_post2cat as it was meant to be used and 
> hence the queries I was generating didn't work.
>
> Thanks for your input!
>      Regards,
>    Brian
>  
> Elliott B?ck wrote:
>
>> I wrote a SQL search engine once that had to parse user input, 
>> including quotes and negation, and it generates slightly different 
>> SQL than what you're describing.  See, the grouping you have isn't 
>> worth it.  You do don't have to be that smart.  If you have 1 -2 3 
>> -29 30, just write:
>>
>> 1 AND NOT 2 OR 3 AND NOT 29 OR 30
>>
>> I am assuming that the precedence will order these:
>>
>> ((((1 ^ !2) + 3) ^ !29) + 30)
>>
>> But according to RedHat 
>> (http://www.redhat.com/docs/manuals/database/RHDB-7.1.3-Manual/sql/sql-precedence.html), 
>> AND binds more tightly, so we really have:
>>
>> (1 ^ (!2 + (3 ^ (!29 + 30))))
>>
>> What does work is to write:
>>
>> ((1 + 3 + 30) ^ !(2 + 29))
>>
>> Just factor into two groups, positive and negative, and take the 
>> negative conjunction of the OR'ed positive elements with the OR'ed 
>> negative elements.  Does that help?  I guess not...what you want is 
>> code to do this:
>>
>> function giveMeSQL($in){
>>    $pos = array();
>>    $neg = array();
>>
>>    foreach($number in $in){
>>       if($in > 0){
>>          $pos[] = $number;
>>       } else{
>>          $neg[] = $number;
>>        }
>>    }
>>
>>    $sql = "";
>>    if(count($pos) > 0){
>>        $sql .= "(";           for($i = 0; $i < count($pos); $i++){
>>          $sql .= $pos[$i];
>>          if($i < count($pos) - 1)
>>             $sql .= " OR ";
>>        }
>>
>>       $sql .= ")";
>>    }
>>      if(count($neg) > 0){
>>       $sql .= "AND NOT (";           for($i = 0; $i < count($neg); 
>> $i++){
>>          $sql .= $neg[$i];
>>          if($i < count($neg) - 1)
>>             $sql .= " OR ";
>>        }
>>
>>       $sql .= ")";
>>    }
>>
>>    return $sql;
>> }
>>
>> Is that what you're wondering?
>>
>> Thanks,
>> Elliott C. B?ck
>>
>> 607-229-0623
>> http://elliottback.com
>>
>>
>>
>> Brian Dupuis wrote:
>>
>>> I've used a hacked classes.php forever to get my multiple category 
>>> exclusions that I need for my site. It's a naive method where you 
>>> either get inclusions or exclusions, nothing more, but it works for 
>>> my application. I was getting tired of keeping the hacked version 
>>> and figured I had some energy to invest in getting a "real" version 
>>> [where "real" means that you can specify $cat strings of, for 
>>> instance, "1,2,3,-29,-30" so that you'll get, in pseudocode, ((1 OR 
>>> 2 OR 3) AND NOT (29 or 30)) so that you'll exclude items that belong 
>>> to 1 and 29] going for possible inclusion in WordPress, so in my 
>>> spare time I've been trying to get it up. As such, I've wracked my 
>>> brain trying to come up with a query that does the necessary job and 
>>> have failed. Utterly. The only things I can come up with are either 
>>> subqueries (which aren't supported in MySQL 4.0) and temporary 
>>> tables (which I'm afraid would negatively impact performance).
>>>
>>> Has anyone else tried to crack this nut? Is it even _worth_ trying 
>>> to crack? I see a couple of questions pop up every now and then 
>>> about people trying to exclude categories and sometimes multiple, 
>>> but not often. Mostly people recommend doing inclusion of every 
>>> category but the ones you want excluded which works in some ways but 
>>> doesn't in others and is a pain to deal with for any quantity of 
>>> categories (my exclusions are 27 and 28).
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>

From mpt at myrealbox.com  Wed Mar  9 09:28:02 2005
From: mpt at myrealbox.com (Matthew Thomas)
Date: Wed Mar  9 09:28:40 2005
Subject: [wp-hackers] Re: [wp-docs] Adding Administration Menus
In-Reply-To: <eaa9346d52be2100236195f062201d23@turbonet.com>
References: <9a766b91056abbf47c5f39726d9f06c0@turbonet.com>	<422D8CB3.5030309@midnightcircus.com>	<b26c285b4c4743ebd8239b0aa1a85ebb@turbonet.com>	<422E5071.5080009@nuclearmoose.com>	<80f75db0503082152301cb26f@mail.gmail.com>
	<eaa9346d52be2100236195f062201d23@turbonet.com>
Message-ID: <422EC1A2.8050400@myrealbox.com>

(Cross-posted to wp-hackers)

Michael D.Adams wrote:
> 
> On Mar 8, 2005, at 9:52 PM, Carthik Sharma wrote:
>...
>> That is one reason I haven't really spent time reading the pages you
 >> wrote up, cause they can suck up a whole lot of time, and still be of
 >> little use to people - no one will want to know what some button is, a
 >> few will want to know why it is there, or why it's required, and not
 >> something else. A lot of people arrive at the Codex with a specific
 >> "how to" in mind. We should suck them in, and give them more info than
 >> what they came looking for - and hence, task-based docs that
 >> reference the UI docs will be cool to have.
> 
> Perhaps the problem (if there is one), then, is best solved with better 
> innate documentation in WordPress itself.  Title attributes that specify 
> what something is when hovered over?  A 'Help' Admin Panel?

If someone wants to implement tooltips for everything in WP's interface, 
I'll gladly spec them. Ideally the interface itself *should* make all 
"what does button X do?" documents redundant, leaving behind only the 
"how do I do Y?" documents.

-- 
Matthew Thomas
http://mpt.net.nz/
From carthik at gmail.com  Wed Mar  9 18:39:40 2005
From: carthik at gmail.com (Carthik Sharma)
Date: Wed Mar  9 18:39:52 2005
Subject: [wp-hackers] Pingomatic request -Matt, Dougal
Message-ID: <80f75db05030910392d0f9f9c@mail.gmail.com>

Matt, Dougal,

Can you guys think of improving the API at pingomatic to enable users
to ping pingomatic with multiple URIs, sort of like the
"/updated-batch/" POST that is used in wp-admin/update-links.php ?

I am think that update-links.php could then be change to first submit
pings for all the URIs once before getting the last updated times.
This way, even if owner of blog "foo" in my blogroll doesn't use
pingomatic, update-links.php will be able to tell when the blog was
last updated (since the blog pinged pingomatic).

Even if my idea's half-assed, I hope you see what I am talking about.

Thanks,
Carthik.

-- 
When nothing is done, nothing is left undone -- ?? L?ozi

University of Central Florida
Homepage: http://carthik.net
From timeistight at gmail.com  Wed Mar  9 18:55:06 2005
From: timeistight at gmail.com (Arthur Jennings)
Date: Wed Mar  9 18:55:12 2005
Subject: [wp-hackers] Pingomatic request -Matt, Dougal
In-Reply-To: <80f75db05030910392d0f9f9c@mail.gmail.com>
References: <80f75db05030910392d0f9f9c@mail.gmail.com>
Message-ID: <e31b0bf8050309105531bc2c51@mail.gmail.com>

Does Ping-O-Matic check each pinged site to determine whether it has
really been updated?

If it does, wouldn't your idea generate huge amounst of traffic
(number of WP blogs * average number of links * 24 * 7)?

If it doesn't, wouldn't it list each site as being updated at the same time?

Maybe I'm not understanding your proposal.

-- 
Arthur Jennings
http://www.timeistight.com
From m at mullenweg.com  Wed Mar  9 19:10:51 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Wed Mar  9 19:11:13 2005
Subject: [wp-hackers] Pingomatic request -Matt, Dougal
In-Reply-To: <80f75db05030910392d0f9f9c@mail.gmail.com>
References: <80f75db05030910392d0f9f9c@mail.gmail.com>
Message-ID: <422F4A3B.5050800@mullenweg.com>

Carthik Sharma wrote:
> Can you guys think of improving the API at pingomatic to enable users
> to ping pingomatic with multiple URIs, sort of like the
> "/updated-batch/" POST that is used in wp-admin/update-links.php ?

That sounds like a great way to better identify spammers. ;)

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From kylev-wp at kylev.com  Wed Mar  9 21:23:13 2005
From: kylev-wp at kylev.com (Kyle VanderBeek)
Date: Wed Mar  9 21:23:24 2005
Subject: [wp-hackers] Textile maintainer?
Message-ID: <20050309212312.GA3585@kylev.com>

The textile1.php plugin seems to me to be at least somewhat broken.  For 
example, it strips all leading space from <pre> sections.  Eek.

It was checked in once long ago, is there an active maintainer that 
could undertake some fixes, or should I hack on it tonight?

-- 
kylev@kylev.com
  Some people have a way with words, while others... erm... thingy.

From kylev-wp at kylev.com  Wed Mar  9 21:30:26 2005
From: kylev-wp at kylev.com (Kyle VanderBeek)
Date: Wed Mar  9 21:30:32 2005
Subject: [wp-hackers] Textile maintainer?
In-Reply-To: <20050309212312.GA3585@kylev.com>
References: <20050309212312.GA3585@kylev.com>
Message-ID: <20050309213026.GB3585@kylev.com>

On Wed, Mar 09, 2005 at 01:23:13PM -0800, Kyle VanderBeek wrote:
> The textile1.php plugin seems to me to be at least somewhat broken.  For 
> example, it strips all leading space from <pre> sections.  Eek.

Bah, to reply to my own post, that was an obvious bug.  Patch attached, 
please apply.

Trimming trailing spaces is sometimes ok, but leading spaces sometimes 
have meaning.

-- 
kylev@kylev.com
  Some people have a way with words, while others... erm... thingy.

-------------- next part --------------
Index: wp-content/plugins/textile1.php
===================================================================
--- wp-content/plugins/textile1.php	(revision 2423)
+++ wp-content/plugins/textile1.php	(working copy)
@@ -51,7 +51,7 @@
 */
 
 
-	function textile($text) {
+function textile($text) {
 	$text = stripslashes($text);
 
 	$text = preg_replace("/&(?![#a-zA-Z0-9]+;)/","x%x%",$text);
@@ -70,7 +70,7 @@
 
 	$text = preg_split("/\n/",$text);
 	foreach($text as $line){
-		$line = trim($line);
+		$line = rtrim($line);
 		$lineout[] = $line;
 	}
 
From bronski at bronski.net  Thu Mar 10 07:58:16 2005
From: bronski at bronski.net (Christoph Rummel)
Date: Thu Mar 10 07:58:26 2005
Subject: [wp-hackers] Blog-Stats on Dashboard
Message-ID: <20050310075816.GA8922@bronski.net>

Sorry for posting here, Mosquito can't connect to its
database...

I was wondering why my dashboard always showed me

	There are currently 1 posts and 2 comments,
	contained within 21 categories.

when I know there are more.

It seems number_format($numposts) in wp-admin/index.php
by default uses comma as thousands-separator, but in
Germany comma is a decimal separator. Some lines down
$numposts ist referenced with %1$d - I can only guess I
get hit by German localization here... $d seems to
strip off the decimal part which is actually hundreds.

When I change %1$d to %1$s and %3$d to %3$s get this
output:

	There are currently 1,794 posts and 2,079
	comments, contained within 21 categories.

I guess that either number_format($numposts) needs some
more formatting, or there is a different solution? I'm
not too good when it goes to deep down into PHP...

Chris

From dougal at gunters.org  Thu Mar 10 15:42:52 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Thu Mar 10 15:43:05 2005
Subject: [wp-hackers] Blog-Stats on Dashboard
In-Reply-To: <20050310075816.GA8922@bronski.net>
References: <20050310075816.GA8922@bronski.net>
Message-ID: <42306AFC.8070906@gunters.org>

Christoph Rummel wrote:
> Sorry for posting here, Mosquito can't connect to its
> database...
> 

It's being spotty right now, yes.

> I was wondering why my dashboard always showed me
> 
> 	There are currently 1 posts and 2 comments,
> 	contained within 21 categories.
> 
> when I know there are more.
 >
 > [...]

I had noticed the other day, and discovered the same thing. And as a 
matter of fact, I just finished posting a bug on mosquito with the patch.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From daniel at acceleration.net  Thu Mar 10 17:15:42 2005
From: daniel at acceleration.net (Daniel Westermann-Clark)
Date: Thu Mar 10 17:16:02 2005
Subject: [wp-hackers] do_action with multiple arguments
Message-ID: <20050310171542.GM5085@dulcinea.dwc.homedns.org>

Hi,

I've been working on extending the authentication API available to
plugins.  Matt committed my changes yesterday:

http://trac.wordpress.org/changeset/2425

I'm now trying my authentication plugin against trunk, and seem to be
running into an issue related to the changes in issue 901:

http://mosquito.wordpress.org/view.php?id=901
http://trac.wordpress.org/changeset/2398

The do_action function is now passing an empty argument, $string, to
plugin callbacks (line 969 of wp-includes/functions.php).

    $all_args = array_merge(array($string), $args);
    [...]
    $string = call_user_func_array($function_name, $args);

The string is never returned or used outside of do_action, so I'm
wondering about its purpose.  You end up needing to accept an additional
argument than the actual do_action call gives.  Here's a simplified
example from my HTTP authentication plugin:

    add_action('wp_authenticate', 'login', 10, 3);
    function login($string, $username, $password) {
        $username = $_SERVER['REMOTE_USER'];
        $password = $username;
    }

This works, but is the $string argument necessary for actions (as
opposed to filters, where it does make sense)?  I'm probably just
missing something, so I thought it best to ask.

Thanks,
-- 
Daniel Westermann-Clark
From kim at tac.nyc.ny.us  Thu Mar 10 18:05:34 2005
From: kim at tac.nyc.ny.us (Kimmo Suominen)
Date: Thu Mar 10 18:08:22 2005
Subject: [wp-hackers] do_action with multiple arguments
In-Reply-To: <20050310171542.GM5085@dulcinea.dwc.homedns.org>
References: <20050310171542.GM5085@dulcinea.dwc.homedns.org>
Message-ID: <20050310180534.GH1099@kimmo.suominen.com>

Hmm, this could be related to a problem I've started seeing with Spam
Karma (0.19 alpha 1), but haven't been successful in tracking yet:

    WordPress database error: [You have an error in your SQL syntax;
    check the manual that corresponds to your MySQL server version for
    the right syntax to use near '' at line 1]

    SELECT * FROM wp_comments WHERE comment_ID =

    WordPress database error: [You have an error in your SQL syntax;
    check the manual that corresponds to your MySQL server version for
    the right syntax to use near '' at line 1]

    UPDATE wp_comments SET comment_content = '' WHERE comment_ID =

The empty comment ID just made me think this could be it.

Upgrading to SK 0.20 alpha 2 broke comments completely (nothing ever
gets into the DB, and the page just comes back as if no comment was
submitted).

Running WP svn rev 2423 (should run svn update again).

Regards,
+ Kim
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>


On Thu, Mar 10, 2005 at 12:15:42PM -0500, Daniel Westermann-Clark wrote:
> Hi,
> 
> I've been working on extending the authentication API available to
> plugins.  Matt committed my changes yesterday:
> 
> http://trac.wordpress.org/changeset/2425
> 
> I'm now trying my authentication plugin against trunk, and seem to be
> running into an issue related to the changes in issue 901:
> 
> http://mosquito.wordpress.org/view.php?id=901
> http://trac.wordpress.org/changeset/2398
> 
> The do_action function is now passing an empty argument, $string, to
> plugin callbacks (line 969 of wp-includes/functions.php).
> 
>     $all_args = array_merge(array($string), $args);
>     [...]
>     $string = call_user_func_array($function_name, $args);
> 
> The string is never returned or used outside of do_action, so I'm
> wondering about its purpose.  You end up needing to accept an additional
> argument than the actual do_action call gives.  Here's a simplified
> example from my HTTP authentication plugin:
> 
>     add_action('wp_authenticate', 'login', 10, 3);
>     function login($string, $username, $password) {
>         $username = $_SERVER['REMOTE_USER'];
>         $password = $username;
>     }
> 
> This works, but is the $string argument necessary for actions (as
> opposed to filters, where it does make sense)?  I'm probably just
> missing something, so I thought it best to ask.
> 
> Thanks,
> -- 
> Daniel Westermann-Clark
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
From ryan at boren.nu  Fri Mar 11 00:59:26 2005
From: ryan at boren.nu (Ryan Boren)
Date: Fri Mar 11 00:59:56 2005
Subject: [wp-hackers] do_action with multiple arguments
In-Reply-To: <20050310171542.GM5085@dulcinea.dwc.homedns.org>
References: <20050310171542.GM5085@dulcinea.dwc.homedns.org>
Message-ID: <1110502766.5949.1.camel@portnoy.fuzzybelly.org>

On Thu, 2005-03-10 at 12:15 -0500, Daniel Westermann-Clark wrote:

> The do_action function is now passing an empty argument, $string, to
> plugin callbacks (line 969 of wp-includes/functions.php).

Looks like some bad cut-and-paste from apply_filters.  This should help:

http://trac.wordpress.org/changeset/2430

Ryan

From daniel at acceleration.net  Fri Mar 11 01:53:52 2005
From: daniel at acceleration.net (Daniel Westermann-Clark)
Date: Fri Mar 11 01:54:20 2005
Subject: [wp-hackers] do_action with multiple arguments
In-Reply-To: <1110502766.5949.1.camel@portnoy.fuzzybelly.org>
References: <20050310171542.GM5085@dulcinea.dwc.homedns.org>
	<1110502766.5949.1.camel@portnoy.fuzzybelly.org>
Message-ID: <20050311015352.GQ5085@dulcinea.dwc.homedns.org>

On 2005-03-10 18:59:26 -0600, Ryan Boren wrote:
> Looks like some bad cut-and-paste from apply_filters.  This should
> help:
> 
> http://trac.wordpress.org/changeset/2430

Thanks for the quick fix, Ryan.

-- 
Daniel Westermann-Clark
From m at mullenweg.com  Fri Mar 11 02:35:52 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Fri Mar 11 02:36:33 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <422D1616.5070904@mullenweg.com>
References: <422D1616.5070904@mullenweg.com>
Message-ID: <42310408.4000607@mullenweg.com>

Matthew Mullenweg wrote:
> Could people start adding readmes to their plugins following this format:
> 
> http://svn.wp-plugins.org/staticize-reloaded/trunk/readme.txt

Just a reminder that you need to format the file (with == headings == 
and such) just like the example to make parsing easier. It only takes  a 
minute to do the readme, and the plugins that do will be in front of 
hundreds of people at the South by Southwest conference. :)

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From jeff at jrm.cc  Fri Mar 11 04:00:45 2005
From: jeff at jrm.cc (jeff@jrm.cc)
Date: Fri Mar 11 04:01:04 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <42310408.4000607@mullenweg.com>
References: <422D1616.5070904@mullenweg.com> <42310408.4000607@mullenweg.com>
Message-ID: <423117ED.5010802@jrm.cc>

Matt Mullenweg wrote:
> Just a reminder that you need to format the file (with == headings == 
> and such) just like the example to make parsing easier. It only takes  a 
> minute to do the readme, and the plugins that do will be in front of 
> hundreds of people at the South by Southwest conference. :)


Is there perhaps a location we can check how these are getting parse out 
at to verify their "prettyness"?

From m at mullenweg.com  Fri Mar 11 04:48:43 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Fri Mar 11 04:49:00 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <423117ED.5010802@jrm.cc>
References: <422D1616.5070904@mullenweg.com> <42310408.4000607@mullenweg.com>
	<423117ED.5010802@jrm.cc>
Message-ID: <4231232B.2040400@mullenweg.com>

jeff@jrm.cc wrote:
> Is there perhaps a location we can check how these are getting parse out 
> at to verify their "prettyness"?

Soon. :)

(Watch, now that I said that a meteor will hit all my code.)

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From apthorpe+wp at cynistar.net  Fri Mar 11 06:45:53 2005
From: apthorpe+wp at cynistar.net (Bob Apthorpe)
Date: Fri Mar 11 06:46:21 2005
Subject: [wp-hackers] Introducing a blog/referer spam defense tool...
Message-ID: <42313EA1.1010405@cynistar.net>

Hi,

I've developed a web access policy manager (blacklister) to defend 
against referrer and blog comment spam and other forms of web service abuse.

In addition to the original Apache combined log import filter, I've 
added Wordpress v1.5 and Movable Type v2.661 support which should 
provide other blog developers and hackers ample opportunity to create 
their own import filters.

It is completely functional and can publish policies (blacklists) as 
text files, optimized regular expressions (PCRE), RSS feeds, rbldnsd 
zone files, and iptables firewall rulesets.

The source code, documentation, and all that is at 
<http://www.austinimprov.com/~apthorpe/code/policy_manager/>

The code is in very good shape for installation, testing, and 
development. The API is fully documented through the miracle of 
phpDocumentor (http://www.phpdoc.org/), and the web pages are all 
template-generated through the miracle of Smarty 
(http://smarty.php.net/), so I believe the underlying code is fairly 
developer-friendly. The INSTALL file is about as complete as I could 
make it without sending a sysadmin to your doorstep. It's by no means a 
one-click install but I've tried to list the expected skills and 
software dependencies so there shouldn't be too many surprises.

I'm looking for a few developers to help me with this project,
preferably people comfortable with databases (MySQL & cross-db
portability a plus), people comfortable with PHP and perl (I'm using
Smarty templates because I like a clean separation between analysis and
presentation), and people really interested in reputation/trust
management systems and anonymous secure P2P systems. Building a
private blacklist is only the tip of the iceberg...

The most pressing needs are a catchy name and a good OSI-compatible 
license. Feedback would be greatly appreciated.

Thanks much,

-- Bob
<apthorpe+policymgr@cynistar.net>
From pete.prodoehl at cygnusinteractive.com  Fri Mar 11 14:25:07 2005
From: pete.prodoehl at cygnusinteractive.com (Pete Prodoehl)
Date: Fri Mar 11 14:25:16 2005
Subject: [wp-hackers] Plugin idea: title length
Message-ID: <4231AA43.9000107@cygnusinteractive.com>


I had this idea for a plugin (though I haven't written any plugins yet) 
  and figured I'd throw this out if anyone wants to implement it.

It's basically a display of posts ordered by the length of their titles, 
and it would look like this:

   http://rasterweb.net/raster/archivesbtl.php

I just thought it was a neat visual display of information... If anyone 
wants to run with it, please do. If it's already been done, just point 
me towards the existing work.

Pete


From architext at fragment.nl  Fri Mar 11 15:20:36 2005
From: architext at fragment.nl (Frank Schaap)
Date: Fri Mar 11 15:15:30 2005
Subject: [wp-hackers] Plugin idea: title length
In-Reply-To: <4231AA43.9000107@cygnusinteractive.com>
References: <4231AA43.9000107@cygnusinteractive.com>
Message-ID: <4231B744.5040006@fragment.nl>

Pete Prodoehl wrote:
> It's basically a display of posts ordered by the length of their titles, 
> and it would look like this:
> 
>   http://rasterweb.net/raster/archivesbtl.php

Looks even better if you use a monospace font rather than a proportional font :)


Frank.
From cfanyc at gmail.com  Fri Mar 11 15:39:52 2005
From: cfanyc at gmail.com (cFA)
Date: Fri Mar 11 15:59:14 2005
Subject: [wp-hackers] slightly off topic, error posting in forums
Message-ID: <aca4c4b05031107391caf7e68@mail.gmail.com>

since late last nite I get the following error on every browser I have
when I try to post at the wp forum..

"Precondition Failed

The precondition on the request for the URL /support/bb-post.php
evaluated to false."



-- 
iron sharpens iron
From ecb29 at cornell.edu  Fri Mar 11 16:19:04 2005
From: ecb29 at cornell.edu (=?UTF-8?B?RWxsaW90dCBCw6Rjaw==?=)
Date: Fri Mar 11 16:19:15 2005
Subject: [wordpress] [wp-hackers] Plugin idea: title length
In-Reply-To: <4231AA43.9000107@cygnusinteractive.com>
References: <4231AA43.9000107@cygnusinteractive.com>
Message-ID: <4231C4F8.4070605@cornell.edu>

Pete Prodoehl wrote:

> It's basically a display of posts ordered by the length of their 
> titles, and it would look like this:


A slight improvement would be to output only 1 of each length title, and 
simply link the rest, so as to get:

abc
abcd          (#1 #2)

Instead of:

abc
abcd
abce
abcf

For people with 1000s of posts in the archives, this could be important.

Thanks,
Elliott C. B?ck

607-229-0623
http://elliottback.com


From pete.prodoehl at cygnusinteractive.com  Fri Mar 11 16:29:55 2005
From: pete.prodoehl at cygnusinteractive.com (Pete Prodoehl)
Date: Fri Mar 11 16:30:11 2005
Subject: [wp-hackers] Plugin idea: title length
In-Reply-To: <4231B744.5040006@fragment.nl>
References: <4231AA43.9000107@cygnusinteractive.com>
	<4231B744.5040006@fragment.nl>
Message-ID: <4231C783.5030001@cygnusinteractive.com>

Frank Schaap wrote:
> Pete Prodoehl wrote:
> 
>> It's basically a display of posts ordered by the length of their 
>> titles, and it would look like this:
>>
>>   http://rasterweb.net/raster/archivesbtl.php
> 
> 
> Looks even better if you use a monospace font rather than a proportional 
> font :)

Yeah, forgot about that when I switched from using MySQL to actual PHP 
code...

Pete
From eric at meyerweb.com  Fri Mar 11 17:54:32 2005
From: eric at meyerweb.com (Eric A. Meyer)
Date: Fri Mar 11 17:54:47 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <422D1616.5070904@mullenweg.com>
References: <422D1616.5070904@mullenweg.com>
Message-ID: <a05210602be578b942c4e@[192.168.1.31]>

At 19:03 -0800 3/7/05, Matthew Mullenweg wrote:

>Could people start adding readmes to their plugins following this format:
>
>http://svn.wp-plugins.org/staticize-reloaded/trunk/readme.txt
>
>Contributors are forum usernames. Tags are tags/keywords.

    What do those authors without forum usernames do?

>Send me a mail when you do.

    Is this meant only for people who've dropped plugins into the 
repository, or for any plugin at all?

-- 
Eric A. Meyer  (eric@meyerweb.com)
Principal, Complex Spiral Consulting   http://complexspiral.com/
"CSS: The Definitive Guide," "CSS2.0 Programmer's Reference,"
"Eric Meyer on CSS," and more    http://meyerweb.com/eric/books/
From kylev-wp at kylev.com  Fri Mar 11 18:03:56 2005
From: kylev-wp at kylev.com (Kyle VanderBeek)
Date: Fri Mar 11 18:04:00 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <a05210602be578b942c4e@[192.168.1.31]>
References: <422D1616.5070904@mullenweg.com>
	<a05210602be578b942c4e@[192.168.1.31]>
Message-ID: <20050311180356.GH3585@kylev.com>

On Fri, Mar 11, 2005 at 12:54:32PM -0500, Eric A. Meyer wrote:
> At 19:03 -0800 3/7/05, Matthew Mullenweg wrote:
> 
> >Could people start adding readmes to their plugins following this format:
> >
> >http://svn.wp-plugins.org/staticize-reloaded/trunk/readme.txt

What about those of us that only use a single file?  My little plugin is 
just a single little file, no .zip or distribution.  Is there a "simple" 
variation on this, or should I plan on building a "distro" for my stuff?

http://www.kylev.com/code/wp-asin-link/

Honestly, this does seem like a bit of overkill, and even a slight 
deviation from the "metadata in comments" methodology most of us are 
used to in style.css and our plugins.

But that's just my $0.02.  I understand the need for more metadata on 
bigger plugins that *are* going to be distributed as .zip/.tar.gz files.

-- 
kylev@kylev.com
  Some people have a way with words, while others... erm... thingy.

From ringmaster at midnightcircus.com  Fri Mar 11 18:20:50 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Fri Mar 11 18:15:08 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <20050311180356.GH3585@kylev.com>
References: <422D1616.5070904@mullenweg.com>	<a05210602be578b942c4e@[192.168.1.31]>
	<20050311180356.GH3585@kylev.com>
Message-ID: <4231E182.2090409@midnightcircus.com>

Kyle VanderBeek wrote:
> What about those of us that only use a single file?  My little plugin is 
> just a single little file, no .zip or distribution.  Is there a "simple" 
> variation on this, or should I plan on building a "distro" for my stuff?

I've learned a couple of semi-important things from writing all these 
plugins:

Even if your plugin is just one file, at least half of your users won't 
bother to read the contents of that file before copying it into every 
WordPress directory, enabling every copy the've installed from the 
Plugins tab, and then sending you email wondering why it doesn't dice 
tomatoes.  Even if your readme.txt says "Go read my post [here]", that's 
better than distributing just one file.

I think Matt's plan is to have the repository generate a list of plugins 
for the common man (not the list that appears in Trac) that displays 
these basic instructions with a screenshot.  Whatever this page is, 
it'll likely take all of the files for your plugin (even if there is 
only one plus your readme.txt) and zip them so that users can download a 
plugin that way instead of sifting their way through Trac or SVN.  You 
shouldn't need to create a zip file at all.

Owen

From m at mullenweg.com  Fri Mar 11 21:21:09 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Fri Mar 11 21:21:12 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <a05210602be578b942c4e@[192.168.1.31]>
References: <422D1616.5070904@mullenweg.com>
	<a05210602be578b942c4e@[192.168.1.31]>
Message-ID: <42320BC5.8030307@mullenweg.com>

Eric A. Meyer wrote:
>    What do those authors without forum usernames do?

Register, I promise we I won't spam you too much.

>    Is this meant only for people who've dropped plugins into the 
> repository, or for any plugin at all?

Only plugins in the repository will be listed.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From rummanddan at gmail.com  Fri Mar 11 21:36:10 2005
From: rummanddan at gmail.com (Dan Thrue)
Date: Fri Mar 11 21:36:19 2005
Subject: [wp-hackers] advanced-cache.php ?
In-Reply-To: <422CE925.1050100@mullenweg.com>
References: <422CBA64.6020209@jrm.cc>
	<a491f91d05030712363b2f1367@mail.gmail.com> <422CBDE1.4080406@jrm.cc>
	<422CC4DB.50109@midnightcircus.com> <422CD568.4080203@jrm.cc>
	<a491f91d0503071528250fee66@mail.gmail.com>
	<422CE925.1050100@mullenweg.com>
Message-ID: <478a1cee050311133617bb3e4c@mail.gmail.com>

The WP-Cache hack: http://mnm.uib.es/gallir/posts/2005/02/02/111/ :)



On Mon, 07 Mar 2005 15:52:05 -0800, Matthew Mullenweg <m@mullenweg.com> wrote:
> Robert Deaton wrote:
> > 3. There is no example of this that I know of, but I'd imagine that
> > it'd only take about an hour or so to build a basic one.
> 
> There was a hack that functioned the same way, but I can't remember
> where it is. This allows people to do the same thing without changing
> core files.
> 
> --
> Matt Mullenweg
>  http://photomatt.net | http://wordpress.org
> http://pingomatic.com | http://cnet.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From kim at tac.nyc.ny.us  Fri Mar 11 21:36:33 2005
From: kim at tac.nyc.ny.us (Kimmo Suominen)
Date: Fri Mar 11 21:36:47 2005
Subject: [wp-hackers] Plugin metadata
In-Reply-To: <42320BC5.8030307@mullenweg.com>
References: <422D1616.5070904@mullenweg.com>
	<a05210602be578b942c4e@[192.168.1.31]>
	<42320BC5.8030307@mullenweg.com>
Message-ID: <20050311213633.GQ1099@kimmo.suominen.com>

On Fri, Mar 11, 2005 at 01:21:09PM -0800, Matt Mullenweg wrote:
> >   Is this meant only for people who've dropped plugins into the 
> >repository, or for any plugin at all?
> 
> Only plugins in the repository will be listed.

It would be nice to have a way to include plugins from elsewhere as
well, so we could have a more complete directory to plugins.

Regards,
+ Kim
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>

From dmhouse at gmail.com  Sat Mar 12 08:14:19 2005
From: dmhouse at gmail.com (David House)
Date: Sat Mar 12 08:14:41 2005
Subject: [wp-hackers] Plugin idea: title length
In-Reply-To: <4231C783.5030001@cygnusinteractive.com>
References: <4231AA43.9000107@cygnusinteractive.com>
	<4231B744.5040006@fragment.nl>
	<4231C783.5030001@cygnusinteractive.com>
Message-ID: <ebe43d6805031200145cdaebea@mail.gmail.com>

Something like this would do:

SELECT post_title FROM wp_posts ORDER BY CHAR_LENGTH(post_title)

-- 
-David House, dmhouse@gmail.com
From turnip at turnipspatch.com  Sat Mar 12 16:17:29 2005
From: turnip at turnipspatch.com (Jonathan Leighton)
Date: Sat Mar 12 16:17:44 2005
Subject: [wp-hackers] Regarding paging in WP 1.5
Message-ID: <42331619.5090802@turnipspatch.com>

Hi everyone,

Over the last couple of days I have become aware of the new "paging" 
functionality in WordPress 1.5. Before 1.5 the number of posts specified 
under Reading Options applied only for the index page; the archive and 
category pages showed every single post that applied. However, in 1.5 
the archive and category pages show that number of posts split into 
"pages". This was obviously a conscious design decision, and whether or 
not I agree with it (which I don't) is pretty irrelevant -- I'm more 
worried about the lack of documentation about this change (the only way 
I knew about it was looking at the default theme) and the difficulty I 
encountered in turning it off.

First and foremost, this really *should* have been announced. By virtue 
of the fact that this feature wasn't available in 1.2, everyone who has 
ported their 1.2 design to a 1.5 theme (unless they studied the default 
theme code) will have "broken" archives that cannot fully be accessed. 
This is a change that affects fundamental behaviour, and people need to 
know about it. To prove my point, there has been a fair amount of 
confusion surrounding this behaviour:

 * http://wordpress.org/support/topic.php?id=23333
 * http://wordpress.org/support/topic.php?id=12120 (read the first 
sentence out loud)
 * http://wordpress.org/support/topic.php?id=21819
 * 
http://comox.textdrive.com/pipermail/hackers/2005-January/thread.html#3551

In this announcement, there should have been instructions about how 
users could, if they wanted to, turn this feature off and stick with the 
1.2 behaviour -- after all, not everyone has the time to mess around 
with their templates with every new release. But perhaps such an 
announcement was never made because it is *very* difficult to turn it off.

The ways I know of are:

 1) query_posts('nopaging=true'); before the loop or "nopaging=true" in 
the querystring (if your theme doesn't have an archive.php then you'd 
need to use "if (is_archive()) query_posts('nopaging=true');" to make 
sure it doesn't show them all for the index page). This method does, 
indeed, turn it off, but in my testing it has shown *EVERY SINGLE* 
published post in the database, not just the ones for that 
month/year/category/whatever (which of course raises the question as to 
whether that much power should be put in a querystring).

 2) query_posts('posts_per_page=-1'); before the loop or 
"posts_per_page=-1" in the querystring. This option implies 
nopaging=true anyway, so is practically the same as above.

 3) "$posts_per_archive_page = -1;" before the call to 
wp-blog-header.php. This has been the only satisfactory solution I have 
found (and I've spent a good few hours staring gormlessly at the code). 
However, this is really not good enough because WP is trying to appeal 
to non-technical users -- this should be an admin option, NOT a code 
tweak. Also, it has to be before the blog header include, so cannot be 
used specifically in themes but only right across the blog.

If anyone has any more insight into this I'd love to hear it, but more 
importantly, I think this is a MUST for version 1.5.1, and an 
announcement should be made about it so that people are aware of the 
problem.

Regards,
Jon

-- 
Jonathan Leighton aka. Turnip
http://turnipspatch.com/ | http://digital-proof.org/

From ryan at boren.nu  Sat Mar 12 17:09:05 2005
From: ryan at boren.nu (Ryan Boren)
Date: Sat Mar 12 17:09:14 2005
Subject: [wp-hackers] Regarding paging in WP 1.5
In-Reply-To: <42331619.5090802@turnipspatch.com>
References: <42331619.5090802@turnipspatch.com>
Message-ID: <1110647345.5949.37.camel@portnoy.fuzzybelly.org>

On Sat, 2005-03-12 at 16:17 +0000, Jonathan Leighton wrote:
> First and foremost, this really *should* have been announced. By
> virtue 
> of the fact that this feature wasn't available in 1.2, everyone who
> has 
> ported their 1.2 design to a 1.5 theme (unless they studied the
> default 
> theme code) will have "broken" archives that cannot fully be
> accessed. 
> This is a change that affects fundamental behaviour, and people need
> to 
> know about it. To prove my point, there has been a fair amount of 
> confusion surrounding this behaviour:

That's a drip compared to the flood of people who complained that their
archives didn't page.  It was one of our biggest support questions.  Not
any more.

We do need to do better about noting such behavior changes in release
notes.

Ryan

From turnip at turnipspatch.com  Sat Mar 12 17:36:23 2005
From: turnip at turnipspatch.com (Jonathan Leighton)
Date: Sat Mar 12 17:38:54 2005
Subject: [wp-hackers] Regarding paging in WP 1.5
In-Reply-To: <1110647345.5949.37.camel@portnoy.fuzzybelly.org>
References: <42331619.5090802@turnipspatch.com>
	<1110647345.5949.37.camel@portnoy.fuzzybelly.org>
Message-ID: <42332897.6050809@turnipspatch.com>



Ryan Boren wrote:

>On Sat, 2005-03-12 at 16:17 +0000, Jonathan Leighton wrote:
>  
>
>>First and foremost, this really *should* have been announced. By
>>virtue 
>>of the fact that this feature wasn't available in 1.2, everyone who
>>has 
>>ported their 1.2 design to a 1.5 theme (unless they studied the
>>default 
>>theme code) will have "broken" archives that cannot fully be
>>accessed. 
>>This is a change that affects fundamental behaviour, and people need
>>to 
>>know about it. To prove my point, there has been a fair amount of 
>>confusion surrounding this behaviour:
>>    
>>
>
>That's a drip compared to the flood of people who complained that their
>archives didn't page.  It was one of our biggest support questions.  Not
>any more.
>  
>
No any more? Has something changed? I'm not sure what you mean here...

>We do need to do better about noting such behavior changes in release
>notes.
>
>Ryan
>
-- 
Jonathan Leighton aka. Turnip
http://turnipspatch.com/ | http://digital-proof.org/

From ryan at boren.nu  Sat Mar 12 17:47:48 2005
From: ryan at boren.nu (Ryan Boren)
Date: Sat Mar 12 17:48:07 2005
Subject: [wp-hackers] Regarding paging in WP 1.5
In-Reply-To: <42332897.6050809@turnipspatch.com>
References: <42331619.5090802@turnipspatch.com>
	<1110647345.5949.37.camel@portnoy.fuzzybelly.org>
	<42332897.6050809@turnipspatch.com>
Message-ID: <1110649668.5949.52.camel@portnoy.fuzzybelly.org>

On Sat, 2005-03-12 at 17:36 +0000, Jonathan Leighton wrote:
> >That's a drip compared to the flood of people who complained that their
> >archives didn't page.  It was one of our biggest support questions.  Not
> >any more.
> No any more? Has something changed? I'm not sure what you mean here...

It's no longer such a big support issue.  The level of traffic caused by
paging uniformly versus paging only on the front page is much, much
less.  Further, changing from uniform paging to front page only paging
is much easier than was doing the reverse in 1.2.  In 1.5 we have
plugins that allow one to have a different number of posts per page for
each query type.

Ryan

From turnip at turnipspatch.com  Sat Mar 12 17:59:17 2005
From: turnip at turnipspatch.com (Jonathan Leighton)
Date: Sat Mar 12 17:59:30 2005
Subject: [wp-hackers] Regarding paging in WP 1.5
In-Reply-To: <1110649668.5949.52.camel@portnoy.fuzzybelly.org>
References: <42331619.5090802@turnipspatch.com>	<1110647345.5949.37.camel@portnoy.fuzzybelly.org>	<42332897.6050809@turnipspatch.com>
	<1110649668.5949.52.camel@portnoy.fuzzybelly.org>
Message-ID: <42332DF5.5090903@turnipspatch.com>



Ryan Boren wrote:

>On Sat, 2005-03-12 at 17:36 +0000, Jonathan Leighton wrote:
>  
>
>>>That's a drip compared to the flood of people who complained that their
>>>archives didn't page.  It was one of our biggest support questions.  Not
>>>any more.
>>>      
>>>
>>No any more? Has something changed? I'm not sure what you mean here...
>>    
>>
>
>It's no longer such a big support issue.  The level of traffic caused by
>paging uniformly versus paging only on the front page is much, much
>less.  Further, changing from uniform paging to front page only paging
>is much easier than was doing the reverse in 1.2.  In 1.5 we have
>plugins that allow one to have a different number of posts per page for
>each query type.
>
>Ryan
>
Ok, I'm with you now. Sorry, I just wasn't following...

You make a valid point. I don't disagree with adding paging in, but it 
would not have taken a huge amount of effort to make an admin option for 
it (or even just an announcement about the change), and it would have 
saved me hours of time.

But that's all happened now, so the more important question, I guess, is 
whether there are plans to make paging easier to switch on and off?

Jon

-- 
Jonathan Leighton aka. Turnip
http://turnipspatch.com/ | http://digital-proof.org/

From jeff at jrm.cc  Sat Mar 12 19:23:14 2005
From: jeff at jrm.cc (jeff@jrm.cc)
Date: Sat Mar 12 19:23:42 2005
Subject: [wp-hackers] Regarding paging in WP 1.5
In-Reply-To: <42332DF5.5090903@turnipspatch.com>
References: <42331619.5090802@turnipspatch.com>	<1110647345.5949.37.camel@portnoy.fuzzybelly.org>	<42332897.6050809@turnipspatch.com>	<1110649668.5949.52.camel@portnoy.fuzzybelly.org>
	<42332DF5.5090903@turnipspatch.com>
Message-ID: <423341A2.70407@jrm.cc>

Jonathan Leighton wrote:
> But that's all happened now, so the more important question, I guess, is 
> whether there are plans to make paging easier to switch on and off?

A plugin could handle this without needing to add it to the core. It 
could use the post query hook and test is_archive() (or other) functions 
and change up the number of post accodingly.

An admin option page could be added to set the need variables as well. 
(Man I love that new feature...)

Jeff Minard
From rummanddan at gmail.com  Sun Mar 13 21:53:29 2005
From: rummanddan at gmail.com (Dan Thrue)
Date: Sun Mar 13 21:53:47 2005
Subject: [wp-hackers] Category show/hide
Message-ID: <478a1cee0503131353534db1fb@mail.gmail.com>

Wasnt there a project to implement this into the WP-core? And if so
what is the status on it...

If no project is on its way and an it would be implemented into the
core, I would happily make the .diff for it :)

Regards,
Dan
From ryan at ryanduff.net  Sun Mar 13 23:27:34 2005
From: ryan at ryanduff.net (Ryan Duff)
Date: Sun Mar 13 23:24:52 2005
Subject: [wp-hackers] Trac Reports
Message-ID: <20050313232445.1A1A1A9E2@comox.textdrive.com>

Anybody good with trac reports? I think if we can get matt to create a
report similar to:

SELECT id AS ticket, summary, severity, priority, status, time as created
FROM ticket WHERE component='$COMPONENT'

We could call a report based on a plugin from the address bar via:

http://dev.wp-plugins.org/report/14?COMPONENT=plugin-name

Where 14 would be the actual number of the report and plugin-name would be
the name of the plugin. This would allow developers to pull rss feeds on a
plugin-by-plugin basis and not just all their tickets via report 7.

Anybody have any comments? Correct any of my syntax. I just created this
based on the examples at http://dev.wp-plugins.org/wiki/TracReports


Ryan Duff
http://ryanduff.net
http://fusionized.com
484-995-3169 


-- 
---------------------[ Ciphire Signature ]----------------------
From: ryan@ryanduff.net signed email body (642 characters)
Date: on 13 March 2005 at 23:24:22 UTC
To:   wp-hackers@lists.automattic.com
----------------------------------------------------------------
: Ciphire has secured this email against identity theft.
: Free download at www.ciphire.com. The garbled lines
: below are the sender's verifiable digital signature.
----------------------------------------------------------------
00fAAAAAEAAACmyzRCggIAAOgCAAIAAgACACDBOKnbH61l13R+NDPJzhWMtYeFU/
YUXB85ybxV9sT/9gEAHlBlxTqhocYCMLZ1dm8nsddcIk/MBxN4Hs5QOKnL02Vkm/
pk8LHV+QYHUX01Gbc/OwZFE0kbOJRqzp3CM3Oziw==
------------------[ End Ciphire Signed Message ]----------------

From wphackers at realistek.com  Sun Mar 13 23:37:54 2005
From: wphackers at realistek.com (Keith McDuffee)
Date: Sun Mar 13 23:35:46 2005
Subject: [wp-hackers] Category show/hide
In-Reply-To: <478a1cee0503131353534db1fb@mail.gmail.com>
References: <478a1cee0503131353534db1fb@mail.gmail.com>
Message-ID: <4234CED2.5060704@realistek.com>



Dan Thrue wrote:
> Wasnt there a project to implement this into the WP-core? And if so
> what is the status on it...
> 
> If no project is on its way and an it would be implemented into the
> core, I would happily make the .diff for it :)
> 
> Regards,
> Dan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
From wphackers at realistek.com  Sun Mar 13 23:38:22 2005
From: wphackers at realistek.com (Keith McDuffee)
Date: Sun Mar 13 23:36:13 2005
Subject: [wp-hackers] Category show/hide
In-Reply-To: <478a1cee0503131353534db1fb@mail.gmail.com>
References: <478a1cee0503131353534db1fb@mail.gmail.com>
Message-ID: <4234CEEE.6040303@realistek.com>

I have a plugin that does this (I think), but it needs a little more TLC before
I take it out of beta:

http://www.gudlyf.com/archives/2005/03/08/wordpress-plugin-category-visibility/

Dan Thrue wrote:
> Wasnt there a project to implement this into the WP-core? And if so
> what is the status on it...
> 
> If no project is on its way and an it would be implemented into the
> core, I would happily make the .diff for it :)
> 
> Regards,
> Dan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
From fd at firasd.org  Mon Mar 14 00:09:52 2005
From: fd at firasd.org (Firas D.)
Date: Mon Mar 14 00:10:24 2005
Subject: [wp-hackers] Trac Reports
In-Reply-To: <20050313232445.1A1A1A9E2@comox.textdrive.com>
References: <20050313232445.1A1A1A9E2@comox.textdrive.com>
Message-ID: <4234D650.4000704@firasd.org>

Would be cool if appending multiple components could work, as in this:

http://dev.wp-plugins.org/query?component=wp-contact-form&component=wp-cc&order=id&desc=1

As for the query, maybe 'ORDER BY time' ?

-- 
http://firasd.org

Ryan Duff wrote:

>Anybody good with trac reports? I think if we can get matt to create a
>report similar to:
>
>SELECT id AS ticket, summary, severity, priority, status, time as created
>FROM ticket WHERE component='$COMPONENT'
>
>We could call a report based on a plugin from the address bar via:
>
>http://dev.wp-plugins.org/report/14?COMPONENT=plugin-name
>
>Where 14 would be the actual number of the report and plugin-name would be
>the name of the plugin. This would allow developers to pull rss feeds on a
>plugin-by-plugin basis and not just all their tickets via report 7.
>
>Anybody have any comments? Correct any of my syntax. I just created this
>based on the examples at http://dev.wp-plugins.org/wiki/TracReports
>
>
>Ryan Duff
>http://ryanduff.net
>http://fusionized.com
>484-995-3169 
>
>
>  
>

From rummanddan at gmail.com  Mon Mar 14 00:16:02 2005
From: rummanddan at gmail.com (Dan Thrue)
Date: Mon Mar 14 00:16:12 2005
Subject: [wp-hackers] Category show/hide
In-Reply-To: <4234CEEE.6040303@realistek.com>
References: <478a1cee0503131353534db1fb@mail.gmail.com>
	<4234CEEE.6040303@realistek.com>
Message-ID: <478a1cee05031316166417b189@mail.gmail.com>

After fast reviewing your code is not that kind of thing I want, I
want it done in the posts query for the frontpage...

On Sun, 13 Mar 2005 18:38:22 -0500, Keith McDuffee
<wphackers@realistek.com> wrote:
> I have a plugin that does this (I think), but it needs a little more TLC before
> I take it out of beta:
> 
> http://www.gudlyf.com/archives/2005/03/08/wordpress-plugin-category-visibility/
> 
> Dan Thrue wrote:
> > Wasnt there a project to implement this into the WP-core? And if so
> > what is the status on it...
> >
> > If no project is on its way and an it would be implemented into the
> > core, I would happily make the .diff for it :)
> >
> > Regards,
> > Dan
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From false.hopes at gmail.com  Mon Mar 14 00:07:32 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Mar 14 00:34:50 2005
Subject: [wp-hackers] $precision in timer_stop unused
Message-ID: <a491f91d0503131607afa68fd@mail.gmail.com>

Wasn't sure if anyone else has noticed this, but for the last few
months there has been a $precision arguement for timer_stop that is
unused. Dunno if a bug report should be filed or if a dev will just
make the necessary changes (could just remove it since apparently
nobody is missing it anyways).

If a bug report needs to be filed, would one of you mind doing it for
me, I'm rather busy lately..
From wphackers at realistek.com  Mon Mar 14 00:46:02 2005
From: wphackers at realistek.com (Keith McDuffee)
Date: Mon Mar 14 00:44:48 2005
Subject: [wp-hackers] Category show/hide
In-Reply-To: <478a1cee05031316166417b189@mail.gmail.com>
References: <478a1cee0503131353534db1fb@mail.gmail.com>	<4234CEEE.6040303@realistek.com>
	<478a1cee05031316166417b189@mail.gmail.com>
Message-ID: <4234DECA.7060105@realistek.com>

The plugin gives several "visibility" settings for categories, including which 
categories you want or don't want displayed on the front page.

Dan Thrue wrote:
> After fast reviewing your code is not that kind of thing I want, I
> want it done in the posts query for the frontpage...
> 
> On Sun, 13 Mar 2005 18:38:22 -0500, Keith McDuffee
> <wphackers@realistek.com> wrote:
> 
>>I have a plugin that does this (I think), but it needs a little more TLC before
>>I take it out of beta:
>>
>>http://www.gudlyf.com/archives/2005/03/08/wordpress-plugin-category-visibility/
>>
>>Dan Thrue wrote:
>>
>>>Wasnt there a project to implement this into the WP-core? And if so
>>>what is the status on it...
>>>
>>>If no project is on its way and an it would be implemented into the
>>>core, I would happily make the .diff for it :)
>>>
>>>Regards,
>>>Dan
>>>_______________________________________________
>>>wp-hackers mailing list
>>>wp-hackers@lists.automattic.com
>>>http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>
>>_______________________________________________
>>wp-hackers mailing list
>>wp-hackers@lists.automattic.com
>>http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
From ryan at boren.nu  Mon Mar 14 01:18:09 2005
From: ryan at boren.nu (Ryan Boren)
Date: Mon Mar 14 01:18:17 2005
Subject: [wp-hackers] $precision in timer_stop unused
In-Reply-To: <a491f91d0503131607afa68fd@mail.gmail.com>
References: <a491f91d0503131607afa68fd@mail.gmail.com>
Message-ID: <1110763089.4487.0.camel@portnoy.fuzzybelly.org>

On Sun, 2005-03-13 at 19:07 -0500, Robert Deaton wrote:
> Wasn't sure if anyone else has noticed this, but for the last few
> months there has been a $precision arguement for timer_stop that is
> unused. Dunno if a bug report should be filed or if a dev will just
> make the necessary changes (could just remove it since apparently
> nobody is missing it anyways).
> 
> If a bug report needs to be filed, would one of you mind doing it for
> me, I'm rather busy lately..

http://mosquito.wordpress.org/view.php?id=991

Ryan

From mark.wordpress at txfx.net  Mon Mar 14 18:54:45 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Mon Mar 14 18:54:18 2005
Subject: [wp-hackers] Collecting Pings sent to Front Page
Message-ID: <4235DDF5.1000509@txfx.net>

If someone links my front page from a WordPress entry, won't my front 
page receive a Pingback?  Currently any Pingbacks that don't correspond 
to an entry are discarded, and it doesn't see that there is any 
plugin-only way to change that.  I think it might be cool if I got 
notifications for Pingbacks to my front page, as well as specific 
entries.  Obviously these would need to be stored somewhere as to 
eliminate duplicate notifications.  This might be a good way to 
compliment the "Incoming links" section on the Dashboard.  Thoughts?
From skippy at skippy.net  Mon Mar 14 19:04:37 2005
From: skippy at skippy.net (Scott Merrill)
Date: Mon Mar 14 19:04:28 2005
Subject: [wp-hackers] Collecting Pings sent to Front Page
In-Reply-To: <4235DDF5.1000509@txfx.net>
References: <4235DDF5.1000509@txfx.net>
Message-ID: <4235E045.6000700@skippy.net>

Mark Jaquith wrote:
> If someone links my front page from a WordPress entry, won't my front
> page receive a Pingback?  Currently any Pingbacks that don't correspond
> to an entry are discarded, and it doesn't see that there is any
> plugin-only way to change that.  I think it might be cool if I got
> notifications for Pingbacks to my front page, as well as specific
> entries.  Obviously these would need to be stored somewhere as to
> eliminate duplicate notifications.  This might be a good way to
> compliment the "Incoming links" section on the Dashboard.  Thoughts?

pingback_post _would_ the hook to leverage to do this in a plugin.
pingback_post is given the comment ID; but it gets called _after_ the
comment is added to the database.

preprocess_comment is probably where a plugin should get involved to
solve this problem.  It's a filter that gets executed first thing in the
wp_new_comment() function, and is passed the entire comment data array.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From mark.wordpress at txfx.net  Mon Mar 14 19:21:48 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Mon Mar 14 19:21:14 2005
Subject: [wp-hackers] Collecting Pings sent to Front Page
In-Reply-To: <4235E045.6000700@skippy.net>
References: <4235DDF5.1000509@txfx.net> <4235E045.6000700@skippy.net>
Message-ID: <4235E44C.10701@txfx.net>

Scott Merrill wrote:

>pingback_post _would_ the hook to leverage to do this in a plugin.
>pingback_post is given the comment ID; but it gets called _after_ the
>comment is added to the database.
>
>preprocess_comment is probably where a plugin should get involved to
>solve this problem.  It's a filter that gets executed first thing in the
>wp_new_comment() function, and is passed the entire comment data array.
>
Scott, I don't think it would get that far without a valid post ID.  It 
doesn't get to wp_new_comment() unless there is a valid post ID, the 
pingback hasn't already been registered for that post ID, etc.

> 1141          $sql = 'SELECT post_author FROM '.$wpdb->posts.' WHERE 
> ID = '.$post_ID;
> 1142          $result = $wpdb->get_results($sql);
> 1143  
> 1144          if (!$wpdb->num_rows) {
> 1145              // Post_ID not found
> 1146                return new IXR_Error(33, 'The specified target URI 
> cannot be used as a target. It either doesn\'t exist, or it is not a 
> pingback-enabled resource.');
> 1147          }


From ringmaster at midnightcircus.com  Mon Mar 14 19:54:01 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Mon Mar 14 19:48:56 2005
Subject: [wp-hackers] Collecting Pings sent to Front Page
In-Reply-To: <4235E44C.10701@txfx.net>
References: <4235DDF5.1000509@txfx.net> <4235E045.6000700@skippy.net>
	<4235E44C.10701@txfx.net>
Message-ID: <4235EBD9.9090100@midnightcircus.com>

Mark Jaquith wrote:
> Scott, I don't think it would get that far without a valid post ID.  It 
> doesn't get to wp_new_comment() unless there is a valid post ID, the 
> pingback hasn't already been registered for that post ID, etc.

At some point prior to 1.5 I would receive pingbacks on post #1 for any 
static page on my site.  I currently have 19 pingbacks on that post 
right now, but it hasn't done this since September (probably about when 
I put changes from 1.3 online).

Owen



From rummanddan at gmail.com  Mon Mar 14 21:05:38 2005
From: rummanddan at gmail.com (Dan Thrue)
Date: Mon Mar 14 21:05:44 2005
Subject: [wp-hackers] Category show/hide
In-Reply-To: <478a1cee0503141301106230f5@mail.gmail.com>
References: <478a1cee0503131353534db1fb@mail.gmail.com>
	<4234CEEE.6040303@realistek.com>
	<478a1cee05031316166417b189@mail.gmail.com>
	<4234DECA.7060105@realistek.com>
	<478a1cee05031408274d04afcf@mail.gmail.com>
	<478a1cee0503141301106230f5@mail.gmail.com>
Message-ID: <478a1cee050314130535eff95f@mail.gmail.com>

Keith your plugin is way to much overhead for my issue :)

I have made some small changes to the classes file...

This way i have made a super simple plugin (for now) that just applies to
the query_string filter for the frontpage...

http://rummanddan.dk/wp-includes/classes.php.diff.txt

WP-Developer-dudes, is there a bug in mosquito where i should add this
diff file to? If so i would gladly finish this code and apply it...

And if its planned to have the functionality in general i would also
happily make the changes to the wp-admin part of the categories.

Regards,
Dan

PS. Sorry for mailing you directly Keith, hehe, was meant to go to the list...
From ferrill at gmail.com  Tue Mar 15 00:19:58 2005
From: ferrill at gmail.com (Ethan King)
Date: Tue Mar 15 00:20:06 2005
Subject: [wp-hackers] Possible RSS bug in WP 1.5
Message-ID: <57159d7b05031416196986eed3@mail.gmail.com>

I am having trouble with my RSS feeds in WP 1.5.  When I try to
validate my RSS feed or use the PlanetPlanet! feed aggregator WP sends
a HTTP 404 Error.  Here is an example of what I am talking about:

http://feedvalidator.org/check.cgi?url=http%3A%2F%2Fwww.speakings.net%2Ftest15%2Fwp-rss2.php

But when the RSS link is shown in Firefox it seems to work fine.  I
have tracked the problem down to the wp-blog-header.php file at line
~113.

Here is the code:
if ( !empty($error) && '404' == $error ) {
	if ( preg_match('/cgi/', php_sapi_name()) )
		@header('Status: 404 Not Found');
	else
		@header('HTTP/1.x 404 Not Found');
 } else if ( empty($feed) ) {
	@header('X-Pingback: '. get_bloginfo('pingback_url'));
	@header('Content-type: ' . get_option('html_type') . '; charset=' .
get_option('blog_charset'));
} else {

WP is sending the first 'Status: 404 Not Found' error.  I know this
becuase if I change the number to something random like 503 then that
is the error number sent.  In a slightly older version of the code it
works fine.  Here is what the older code looks like:

if ( '' != $feed )
	$doing_rss = true;


if ( is_trackback() )
	$doing_trackback = true;

// Sending HTTP headers

if ( is_404() ) {
	header('HTTP/1.x 404 Not Found');
} else if ( !isset($doing_rss) || !$doing_rss ) {
	@header('X-Pingback: '. get_bloginfo('pingback_url'));
} else {

Anyone have any ideas?  This problem is driving me batty.

Thanks!
From ryan at boren.nu  Tue Mar 15 00:21:47 2005
From: ryan at boren.nu (Ryan Boren)
Date: Tue Mar 15 00:21:58 2005
Subject: [wp-hackers] Possible RSS bug in WP 1.5
In-Reply-To: <57159d7b05031416196986eed3@mail.gmail.com>
References: <57159d7b05031416196986eed3@mail.gmail.com>
Message-ID: <1110846107.4496.17.camel@portnoy.fuzzybelly.org>

On Mon, 2005-03-14 at 18:19 -0600, Ethan King wrote:
> I am having trouble with my RSS feeds in WP 1.5.  When I try to
> validate my RSS feed or use the PlanetPlanet! feed aggregator WP sends
> a HTTP 404 Error.  Here is an example of what I am talking about:
> 
> http://feedvalidator.org/check.cgi?url=http%3A%2F%2Fwww.speakings.net%2Ftest15%2Fwp-rss2.php

The famous bug 903.

http://mosquito.wordpress.org/view.php?id=903

Ryan

From mikea at turbonet.com  Tue Mar 15 00:59:58 2005
From: mikea at turbonet.com (Michael D.Adams)
Date: Tue Mar 15 00:59:20 2005
Subject: [wp-hackers] get_the_time(), get_post_time()
Message-ID: <5c9b0dd6121cd59304b4a108469d2bef@turbonet.com>

Is it necessary to have both of these functions?  get_the_time() calls 
get_post_time() and both of them filter through the get_the_time hook, 
resulting in double filtering for get_the_time().

Is there some utility that I'm missing here?

Michael


From jeff at jrm.cc  Tue Mar 15 01:26:36 2005
From: jeff at jrm.cc (jeff@jrm.cc)
Date: Tue Mar 15 01:26:42 2005
Subject: [wp-hackers] get_the_time(), get_post_time()
In-Reply-To: <5c9b0dd6121cd59304b4a108469d2bef@turbonet.com>
References: <5c9b0dd6121cd59304b4a108469d2bef@turbonet.com>
Message-ID: <423639CC.5010009@jrm.cc>

Michael D.Adams wrote:
> Is there some utility that I'm missing here?

It is most likely a deprecated function from 1.2 or previous. Useful so 
that old themes will still work.

Jeff Minard
From mark.wordpress at txfx.net  Tue Mar 15 03:48:28 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Tue Mar 15 03:47:56 2005
Subject: [wp-hackers] get_the_time(), get_post_time()
In-Reply-To: <423639CC.5010009@jrm.cc>
References: <5c9b0dd6121cd59304b4a108469d2bef@turbonet.com>
	<423639CC.5010009@jrm.cc>
Message-ID: <42365B0C.3000801@txfx.net>

jeff@jrm.cc wrote:

> Michael D.Adams wrote:
>
>> Is there some utility that I'm missing here?
>
>
> It is most likely a deprecated function from 1.2 or previous. Useful 
> so that old themes will still work.

It might be good for there to be some official word on what 
functions/methods are meant to be depreciated.  Without that, people 
will continue to use them, and they will never actually be depreciated.  
Maybe eventually we can move some of the depreciated functions to 
depreciated-functions.php and have its include commented out by default.

From r at schestowitz.com  Tue Mar 15 04:59:14 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Tue Mar 15 04:59:22 2005
Subject: [wp-hackers] get_the_time(), get_post_time()
In-Reply-To: <42365B0C.3000801@txfx.net>
References: <5c9b0dd6121cd59304b4a108469d2bef@turbonet.com>
	<423639CC.5010009@jrm.cc> <42365B0C.3000801@txfx.net>
Message-ID: <20050315045914.4jemeh9i0idc0osw@banana.catalyst2.com>

Quoting Mark Jaquith <mark.wordpress@txfx.net>:

> jeff@jrm.cc wrote:
>
>> Michael D.Adams wrote:
>>
>>> Is there some utility that I'm missing here?
>>
>>
>> It is most likely a deprecated function from 1.2 or previous. Useful 
>> so that old themes will still work.
>
> It might be good for there to be some official word on what
> functions/methods are meant to be depreciated.  Without that, people
> will continue to use them, and they will never actually be depreciated.
> Maybe eventually we can move some of the depreciated functions to
> depreciated-functions.php and have its include commented out by default.

An even better tactic would be to display a graceful warning message. By
commenting out /includes/ you are most likely to confuse people and 
waste their
time on debugging.

Roy

-- 
Roy Schestowitz
http://schestowitz.com

From wordpress at coldforged.org  Tue Mar 15 16:15:26 2005
From: wordpress at coldforged.org (Brian Dupuis)
Date: Tue Mar 15 16:15:41 2005
Subject: [wp-hackers] Comment spam dropoff?
Message-ID: <42370A1E.9060509@coldforged.org>

Hey guys,

    This is kind of an OT query, but I figured the hackers list would be 
most attuned to any changes. I haven't received a single comment spam in 
7 days. It's not that my comments are broken -- I've received 92 valid 
comments in that same period -- and with my plugin I can choose to view 
comment spam whenever so they're not simply hiding in the database. I 
just haven't gotten any. This is down from an average of around 10 to 15 
a day. Anyone else notice a significant decrease or other change in 
modus operandi?

    It's not that I miss it, I'm just very curious whether this is a 
widespread phenomenon.

    Regards,
    Brian
From r at schestowitz.com  Tue Mar 15 16:35:41 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Tue Mar 15 16:35:44 2005
Subject: [wp-hackers] Comment spam dropoff?
In-Reply-To: <42370A1E.9060509@coldforged.org>
References: <42370A1E.9060509@coldforged.org>
Message-ID: <20050315163541.xhse5ruds1s0c8ss@banana.catalyst2.com>

Quoting Brian Dupuis <wordpress@coldforged.org>:

> Hey guys,
>
>     This is kind of an OT query, but I figured the hackers list would be
> most attuned to any changes. I haven't received a single comment spam in
> 7 days. It's not that my comments are broken -- I've received 92 valid
> comments in that same period -- and with my plugin I can choose to view
> comment spam whenever so they're not simply hiding in the database. I
> just haven't gotten any. This is down from an average of around 10 to 15
> a day. Anyone else notice a significant decrease or other change in
> modus operandi?
>
>     It's not that I miss it, I'm just very curious whether this is a
> widespread phenomenon.
>
>     Regards,
>     Brian

Consider yourself lucky. I am still getting hit every bloody hour.

Judging by the feeds (about 20 of which are blogs) that update every 30 
minutes,
other people suffer from these too. I imagined that comment spam was on the
rise, maybe aggravated by:

http://slashdot.org/article.pl?sid=05/03/15/0035225&tid=217&tid=1

Roy

-- 
Roy Schestowitz
http://schestowitz.com

From kim at tac.nyc.ny.us  Tue Mar 15 16:35:49 2005
From: kim at tac.nyc.ny.us (Kimmo Suominen)
Date: Tue Mar 15 16:36:28 2005
Subject: [wp-hackers] Comment spam dropoff?
In-Reply-To: <42370A1E.9060509@coldforged.org>
References: <42370A1E.9060509@coldforged.org>
Message-ID: <20050315163549.GE1099@kimmo.suominen.com>

The last comment from Mr. (or is it Ms.) "online poker" on my blog is
from 2 days ago.  He left 47 comments in 36 hours.  But it is all marked
as spam, with the "look ma, no (spam) plugins" power of 1.5.

The previous spam comment wave was on March 7th, which was 16 spams in
less than 24 hours, about loans etc.

And then we are back to the day I opened all my old posts to comments
again.  None of the spams seem to be to posts in the last 2 months.

Regards,
+ Kim

P.S.  How about a "Previous Page" and "Next Page" links in your useful
plugin, that would be easier to hit than the little numbers?  :-)
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>


On Tue, Mar 15, 2005 at 11:15:26AM -0500, Brian Dupuis wrote:
> Hey guys,
> 
>    This is kind of an OT query, but I figured the hackers list would be 
> most attuned to any changes. I haven't received a single comment spam in 
> 7 days. It's not that my comments are broken -- I've received 92 valid 
> comments in that same period -- and with my plugin I can choose to view 
> comment spam whenever so they're not simply hiding in the database. I 
> just haven't gotten any. This is down from an average of around 10 to 15 
> a day. Anyone else notice a significant decrease or other change in 
> modus operandi?
> 
>    It's not that I miss it, I'm just very curious whether this is a 
> widespread phenomenon.
> 
>    Regards,
>    Brian
From ml at adsworth.info  Tue Mar 15 16:55:20 2005
From: ml at adsworth.info (=?ISO-8859-1?Q?Adi_J=F6rg_Sieker?=)
Date: Tue Mar 15 16:55:19 2005
Subject: [wp-hackers] script to generate a list of filter and action hooks.
Message-ID: <42371378.4030309@adsworth.info>

Hi,

I did find a list of hooks and filters, but only after I wrote the 
script. So I'll post it here anyway, in case there is interest.
The script searches through the Wordpress source and generates a list of 
action and filter hooks. The list is written to two files one for 
actions and one for filters. It contains the name of the hook, file 
names and line numbers where the hook was found and if available a block 
comment just before the do_action or apply_filter call.

If others are interested in this script, I could beef it up a little
to produce Wiki Markup or HTML or output the data to stdout, etc. pp.

For those interested there is a download link here:
http://www.adsworth.info/wordpress-plugin-hooks

Adi

From michelv at gmail.com  Tue Mar 15 17:59:00 2005
From: michelv at gmail.com (Michel Valdrighi)
Date: Tue Mar 15 17:59:12 2005
Subject: [wp-hackers] needs testing and feedback: small patch for nice
	permalinks on lighttpd
Message-ID: <125fee7f050315095942986cce@mail.gmail.com>

Hello,

It just happens that lighttpd does not support rewrite rules the Apache way.
Instead, you have to input them in lighttpd.conf, but at least their
syntax is about the same.

So here's the kicker: most WP installs have permalinks starting with
/string/, where 'string' is generally 'archives' and will be
'archives' just for the sake of this example.
>From there, we can safely say that if we redirect /string/ to
/index.php/archives/, we can take advantage of WP's handling of
PATH_INFO.

So in lighttpd, I added this line:
url.rewrite = ( "^/archives/(.+)$" => "/index.php/archives/$1" )

All is well, no 404 anymore, but then again PATH_INFO is empty with
this method alone so index.php is called with no args.
A quick look in $_SERVER reveals a REDIRECT_URI element that holds
what would otherwise be in PATH_INFO. A look at wp-blog-header.php
shows all we need is to trigger parsing of REQUEST_URI by adding a
condition for the execution of the right block of code.
(REDIRECT_URI is only set when the URI got rewritten by lighttpd.)

So here's this patch:

Index: wp-blog-header.php
===================================================================
--- wp-blog-header.php  (revision 2429)
+++ wp-blog-header.php  (working copy)
@@ -18,8 +18,9 @@
                ((! empty($_SERVER['PATH_INFO'])) &&
                ('/' != $_SERVER['PATH_INFO']) &&
                 (false === strpos($_SERVER['PATH_INFO'], '.php'))
+               ) ||
+               (('' == $_SERVER['PATH_INFO']) &&
(isset($_SERVER['REDIRECT_URI']))
                )) {
-
        // If we match a rewrite rule, this will be cleared.
        $error = '404';
 
Voil?, archives load right from /archives/ ! :)

Anyone brave enough to test this patch and the rewrite rule with an
install of WP on lighttpd?
I'm also curious about any wrong assumptions I may have with this
patch, and lighttpd's behaviour. It just seems too easy to not hide a
catch.

-- 
Michel Valdrighi
Dev?loppeur Web Intraordinaire
http://zengun.org/weblog/
From ryan at boren.nu  Tue Mar 15 18:15:55 2005
From: ryan at boren.nu (Ryan Boren)
Date: Tue Mar 15 18:16:16 2005
Subject: [wp-hackers] needs testing and feedback: small patch for nice
	permalinks on lighttpd
In-Reply-To: <125fee7f050315095942986cce@mail.gmail.com>
References: <125fee7f050315095942986cce@mail.gmail.com>
Message-ID: <1110910556.3727.9.camel@portnoy.fuzzybelly.org>

On Tue, 2005-03-15 at 18:59 +0100, Michel Valdrighi wrote:
> Anyone brave enough to test this patch and the rewrite rule with an
> install of WP on lighttpd?
> I'm also curious about any wrong assumptions I may have with this
> patch, and lighttpd's behaviour. It just seems too easy to not hide a
> catch.

I don't have lighttpd installed yet, but your approach sounds
reasonable.  Also, we could try this:

server.error-handler-404 = "/index.php?error=404"

Textpattern takes a similar approach.

http://weblog.textdrive.com/article/32/textdrive-loves-lighttpd


From wordpress at coldforged.org  Tue Mar 15 19:30:24 2005
From: wordpress at coldforged.org (Brian Dupuis)
Date: Tue Mar 15 19:30:38 2005
Subject: [wp-hackers] Comment spam dropoff?
In-Reply-To: <42370A1E.9060509@coldforged.org>
References: <42370A1E.9060509@coldforged.org>
Message-ID: <423737D0.5070606@coldforged.org>

Gah. This will come off sounding like an advertisement but I finally 
remembered that I installed the WP-Gatekeeper 8 days ago, so perhaps 
this isn't an unexpected result. Sorry for the false hope about less 
comment spam. I think I'll mod the Gatekeeper to keep track of how many 
failed validations its seen so I can keep more abreast of the real activity.

    Regards,
    Brian

Brian Dupuis wrote:

> Hey guys,
>
>    This is kind of an OT query, but I figured the hackers list would 
> be most attuned to any changes. I haven't received a single comment 
> spam in 7 days. It's not that my comments are broken -- I've received 
> 92 valid comments in that same period -- and with my plugin I can 
> choose to view comment spam whenever so they're not simply hiding in 
> the database. I just haven't gotten any. This is down from an average 
> of around 10 to 15 a day. Anyone else notice a significant decrease or 
> other change in modus operandi?
>
>    It's not that I miss it, I'm just very curious whether this is a 
> widespread phenomenon.
>
>    Regards,
>    Brian
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>

From michelv at gmail.com  Tue Mar 15 19:51:15 2005
From: michelv at gmail.com (Michel Valdrighi)
Date: Tue Mar 15 19:51:34 2005
Subject: [wp-hackers] needs testing and feedback: small patch for nice
	permalinks on lighttpd
In-Reply-To: <1110910556.3727.9.camel@portnoy.fuzzybelly.org>
References: <125fee7f050315095942986cce@mail.gmail.com>
	<1110910556.3727.9.camel@portnoy.fuzzybelly.org>
Message-ID: <1110916275.8974.11.camel@localhost>

Le mardi 15 mars 2005 ? 12:15 -0600, Ryan Boren a ?crit :
> On Tue, 2005-03-15 at 18:59 +0100, Michel Valdrighi wrote:
> > Anyone brave enough to test this patch and the rewrite rule with an
> > install of WP on lighttpd?
> > I'm also curious about any wrong assumptions I may have with this
> > patch, and lighttpd's behaviour. It just seems too easy to not hide a
> > catch.
> 
> I don't have lighttpd installed yet, but your approach sounds
> reasonable.  Also, we could try this:
> 
> server.error-handler-404 = "/index.php?error=404"
> 
> Textpattern takes a similar approach.
> 
> http://weblog.textdrive.com/article/32/textdrive-loves-lighttpd
> 


I'm not very keen of this method.
First thing is, I think it just hides too much magic, in general.
In the case where it's used in lighttpd.conf, it would just highjack the
whole server's 404 handling, which is not really what we want, is it? ;)

The only benefit that I see with handling 404 would be that it allows
archives of the form /2005/03/16, which I think could be done without in
the name of flexibility (but then again one could try rewriting
on /20(.+) and /19(.+), it would just be a very empirical method).

But in general, I like that some stuff shows to the user.
Off-topic: I've been thinking lately about using Apache's Alias
directive to do the handling of /archives/ and the like. The idea is
that the file that handles archives is a controller. You could likewise
add Alias directives for more paths to hand to the same controller, or
create other controllers entirely. This rewrite rule in lighttpd.conf is
not far from the idea of a controller, I think. (I might be wrong
though, since I don't have a programmer's background and may not grasp
the whole MVC concept.)

Ciao,

-- 
Michel Valdrighi
http://zengun.org/weblog/

From wordpress at coldforged.org  Tue Mar 15 20:27:40 2005
From: wordpress at coldforged.org (Brian Dupuis)
Date: Tue Mar 15 20:27:54 2005
Subject: [wp-hackers] Comment spam dropoff?
In-Reply-To: <423737D0.5070606@coldforged.org>
References: <42370A1E.9060509@coldforged.org> <423737D0.5070606@coldforged.org>
Message-ID: <4237453C.1020106@coldforged.org>

One final follow-up... since modifying the WP-Gatekeeper plugin to track
the number of failed validations and provide a way to report that number
-- say 15 minutes total -- I've received 9 comment spam attempts.
They're definitely still out there :D.

Brian Dupuis wrote:

> I think I'll mod the Gatekeeper to keep track of how many failed 
> validations its seen so I can keep more abreast of the real activity.


From podz at tamba2.org.uk  Tue Mar 15 23:11:47 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Mar 15 23:12:11 2005
Subject: [wp-hackers] Upgrade Issues
Message-ID: <42376BB3.8060802@tamba2.org.uk>

I just upgraded to the latest code, and had some thoughts:

- What about a button to switch all plugins off / on ?
Gets a chore all that scrolling and clicking :)

- When the upgrade completed, the "have fun" link lead as always back to 
the blog. This time though I hit an error because plugin code 
(Blogtimes) was not recognised. Has something somewhere changed ? I've 
not hit this error before.

Soooo....what about
- combining the upgrade start with an OFF button on that page too ?
- combining the upgrade end with an ON button ?
- on the upgrade end page, have a link back to blog admin as well as the 
blog front page ?

And whoever chose green - good choice :)

P.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050315/c27cd20c/signature.bin
From kim at tac.nyc.ny.us  Tue Mar 15 23:22:57 2005
From: kim at tac.nyc.ny.us (Kimmo Suominen)
Date: Tue Mar 15 23:23:14 2005
Subject: [wp-hackers] Upgrade Issues
In-Reply-To: <42376BB3.8060802@tamba2.org.uk>
References: <42376BB3.8060802@tamba2.org.uk>
Message-ID: <20050315232257.GL1099@kimmo.suominen.com>

On Tue, Mar 15, 2005 at 11:11:47PM +0000, Podz wrote:
> - When the upgrade completed, the "have fun" link lead as always back to 
> the blog.

That reminds me -- it would be more fun if it actually did this, instead
of assuming '../' to work... :-)

Is get_settings('home') available at that point?  (The database is.)

Regards,
+ Kim
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>

From lists at moins.de  Tue Mar 15 23:52:43 2005
From: lists at moins.de (Rainer Bendig aka Ny)
Date: Tue Mar 15 23:52:59 2005
Subject: [wp-hackers] Possible RSS bug in WP 1.5
In-Reply-To: <1110846107.4496.17.camel@portnoy.fuzzybelly.org>
References: <57159d7b05031416196986eed3@mail.gmail.com>
	<1110846107.4496.17.camel@portnoy.fuzzybelly.org>
Message-ID: <20050315235243.GB24029@localdomain>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Moin Moin Ryan Boren, *,

Ryan Boren wrote on Mar 14, 2005 at 06:21PM -0600:
> The famous bug 903.
Is this the fix in revision 2416 of feed-functions.php?
- -- 
- ---------------------------------------------------------------------
Rainer Bendig aka "Ny" |  http://www.moins.de  | GnuPG-Key 0x41D44F10
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.9.16-cvs (GNU/Linux)

iD8DBQFCN3VKWmkXC0TkjEgRAt1IAJ9AT7vorc95bwO1NGlr8gCb07HV2ACggQ9o
aSWquv9SCJS0seGgn6A1rkY=
=Leg5
-----END PGP SIGNATURE-----
From ryan at boren.nu  Tue Mar 15 23:56:58 2005
From: ryan at boren.nu (Ryan Boren)
Date: Tue Mar 15 23:57:09 2005
Subject: [wp-hackers] Possible RSS bug in WP 1.5
In-Reply-To: <20050315235243.GB24029@localdomain>
References: <57159d7b05031416196986eed3@mail.gmail.com>
	<1110846107.4496.17.camel@portnoy.fuzzybelly.org>
	<20050315235243.GB24029@localdomain>
Message-ID: <1110931019.3727.10.camel@portnoy.fuzzybelly.org>

On Wed, 2005-03-16 at 00:52 +0100, Rainer Bendig aka Ny wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Moin Moin Ryan Boren, *,
> 
> Ryan Boren wrote on Mar 14, 2005 at 06:21PM -0600:
> > The famous bug 903.
> Is this the fix in revision 2416 of feed-functions.php?

http://trac.wordpress.org/changeset/2363

Ryan

From mark.andrachek at gmail.com  Wed Mar 16 13:40:45 2005
From: mark.andrachek at gmail.com (Mark R. Andrachek, Jr.)
Date: Wed Mar 16 13:41:12 2005
Subject: [wp-hackers] needs testing and feedback: small patch for
	nicepermalinks on lighttpd
Message-ID: <d5995f210503160540359cab84@mail.gmail.com>

I tried out the suggested patch, as I am not in favor of the 404
method (I also use gallery2 with permalinks, and would like those to
be able to work as well -- next on my list).

The changes seem to work fine for me (webmages.com), I also added
rewrite rules for:

url.rewrite = ( "^/page/(.+)$" => "/index.php/page/$1" )
url.rewrite = ( "^/comments/(.+)$" => "/index.php/comments/$1" )
url.rewrite = ( "^/search/(.+)$" => "/index.php/search/$1" )
url.rewrite = ( "^/feed/(.+)$" => "/index.php/feed/$1" )
From mark.wordpress at txfx.net  Wed Mar 16 14:29:17 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Wed Mar 16 14:29:34 2005
Subject: [wp-hackers] needs testing and feedback: small patch
	for	nicepermalinks on lighttpd
In-Reply-To: <d5995f210503160540359cab84@mail.gmail.com>
References: <d5995f210503160540359cab84@mail.gmail.com>
Message-ID: <423842BD.4060007@txfx.net>

Mark R. Andrachek, Jr. wrote:

>I tried out the suggested patch, as I am not in favor of the 404
>method (I also use gallery2 with permalinks, and would like those to
>be able to work as well -- next on my list).
>
>The changes seem to work fine for me (webmages.com), I also added
>rewrite rules for:
>
>url.rewrite = ( "^/page/(.+)$" => "/index.php/page/$1" )
>url.rewrite = ( "^/comments/(.+)$" => "/index.php/comments/$1" )
>url.rewrite = ( "^/search/(.+)$" => "/index.php/search/$1" )
>url.rewrite = ( "^/feed/(.+)$" => "/index.php/feed/$1" )
>

I'm not familiar with this style of rewrite, but it seems to me that you 
could do this and consolidate it into one:

url.rewrite = ( "^/(page|comments|search|feed)/(.+)$" => 
"/index.php/$1/$2" )
From michelv at gmail.com  Wed Mar 16 16:33:27 2005
From: michelv at gmail.com (Michel Valdrighi)
Date: Wed Mar 16 16:33:55 2005
Subject: [wp-hackers] needs testing and feedback: small patch
	for	nicepermalinks on lighttpd
In-Reply-To: <423842BD.4060007@txfx.net>
References: <d5995f210503160540359cab84@mail.gmail.com>
	<423842BD.4060007@txfx.net>
Message-ID: <1110990807.20696.15.camel@localhost>

Le mercredi 16 mars 2005 ? 09:29 -0500, Mark Jaquith a ?crit :
> I'm not familiar with this style of rewrite, but it seems to me that you 
> could do this and consolidate it into one:
> 
> url.rewrite = ( "^/(page|comments|search|feed)/(.+)$" => 
> "/index.php/$1/$2" )

That's what I came up with this morning for this test blog:
http://zengun.org:8888/wpsvn/trunk/

Ideally and for the sake of clarity, we would need two or three rewrite
rules at most:
- one for built-in URLs like /search, /archives, /feed...
- possibly one for plugins, since plugins can add their own rewrite
rules
- one for pages, to distinguish them from built-in rewrite rules

These lighttpd rewrite rules could be generated by a plugin that would
work with permalinks-options. Once the rules are updated, the plugin
could compute the rewrite rules, and display them in the admin interface
in a <div class="updated">.
The computation could easily be done by blindly getting all first words
after "^" and before "/" on each line, excluding words surrounded by
parenthesis first, then excluding those without parenthesis. It would
catch "archives", "category", possible plugin stuff and so on in the
first pass, then pages in the second pass.

Just throwing these ideas around. I'll probably code this plugin for my
own use and convenience for when I'll switch to lighttpd, but feel free
to beat me to the punch. :)

-- 
Michel Valdrighi
http://zengun.org/weblog/

From ryan at boren.nu  Wed Mar 16 16:53:12 2005
From: ryan at boren.nu (Ryan Boren)
Date: Wed Mar 16 16:53:38 2005
Subject: [wp-hackers] needs testing and feedback: small patch
	for	nicepermalinks on lighttpd
In-Reply-To: <423842BD.4060007@txfx.net>
References: <d5995f210503160540359cab84@mail.gmail.com>
	<423842BD.4060007@txfx.net>
Message-ID: <1110991992.3727.25.camel@portnoy.fuzzybelly.org>

On Wed, 2005-03-16 at 09:29 -0500, Mark Jaquith wrote:
> Mark R. Andrachek, Jr. wrote:
> 
> >I tried out the suggested patch, as I am not in favor of the 404
> >method (I also use gallery2 with permalinks, and would like those to
> >be able to work as well -- next on my list).
> >
> >The changes seem to work fine for me (webmages.com), I also added
> >rewrite rules for:
> >
> >url.rewrite = ( "^/page/(.+)$" => "/index.php/page/$1" )
> >url.rewrite = ( "^/comments/(.+)$" => "/index.php/comments/$1" )
> >url.rewrite = ( "^/search/(.+)$" => "/index.php/search/$1" )
> >url.rewrite = ( "^/feed/(.+)$" => "/index.php/feed/$1" )
> >
> 
> I'm not familiar with this style of rewrite, but it seems to me that you 
> could do this and consolidate it into one:
> 
> url.rewrite = ( "^/(page|comments|search|feed)/(.+)$" => 
> "/index.php/$1/$2" )

Or, 

url.rewrite = ( "^/(page|comments|search|feed)/" =>
"/index.php?error=404" )

error=404 simply tells WP to parse REQUEST_URI as a permalink.  The
rewrite regex limits what gets processed in this way.

And then there's the match everything and let WP sort it out rule, which
is similar to using a 404 handler.

url.rewrite = ( "." => "/index.php?error=404" )

This assumes lighttpd offers rewrite conditionals that can be used to
prevent rewriting files and directories that actually exist in the
filesystem.

To assist with the first approach, WP_Rewrite has search_base,
author_base, feed_base, category_base, etc. variables.  There's also the
list of page uris in the options DB.  These can be used to automatically
generate a list of base-anchored rewrite rules.

Ryan


From rummanddan at gmail.com  Wed Mar 16 18:48:42 2005
From: rummanddan at gmail.com (Dan Thrue)
Date: Wed Mar 16 18:49:00 2005
Subject: [wp-hackers] Category show/hide
In-Reply-To: <478a1cee050314130535eff95f@mail.gmail.com>
References: <478a1cee0503131353534db1fb@mail.gmail.com>
	<4234CEEE.6040303@realistek.com>
	<478a1cee05031316166417b189@mail.gmail.com>
	<4234DECA.7060105@realistek.com>
	<478a1cee05031408274d04afcf@mail.gmail.com>
	<478a1cee0503141301106230f5@mail.gmail.com>
	<478a1cee050314130535eff95f@mail.gmail.com>
Message-ID: <478a1cee05031610489f3bf2a@mail.gmail.com>

I've made it into a plugin instead... :)


On Mon, 14 Mar 2005 22:05:38 +0100, Dan Thrue <rummanddan@gmail.com> wrote:
> Keith your plugin is way to much overhead for my issue :)
> 
> I have made some small changes to the classes file...
> 
> This way i have made a super simple plugin (for now) that just applies to
> the query_string filter for the frontpage...
> 
> http://rummanddan.dk/wp-includes/classes.php.diff.txt
> 
> WP-Developer-dudes, is there a bug in mosquito where i should add this
> diff file to? If so i would gladly finish this code and apply it...
> 
> And if its planned to have the functionality in general i would also
> happily make the changes to the wp-admin part of the categories.
> 
> Regards,
> Dan
> 
> PS. Sorry for mailing you directly Keith, hehe, was meant to go to the list...
>
From jeff at jrm.cc  Wed Mar 16 23:49:22 2005
From: jeff at jrm.cc (jeff@jrm.cc)
Date: Wed Mar 16 23:49:31 2005
Subject: [wp-hackers] New Members - "May submit drafts for review" and
	delete them?
Message-ID: <4238C602.3010604@jrm.cc>

I'm going to be using this feature on a production site in the near 
future and I've run into what might be an issue from our business logic 
point of view.

A user can submit a story. It's drafted - cool. Then a higher level user 
will review it and approve it for the site (publish) it. This is all 
well and good. In fact, the original author can come in and attempt to 
edit the post, and it will simply be dumped back to "draft" mode.

However, the user can also just delete the post at any time. Whether it 
is published or drafted. I don't think our users would do this, but it 
is a concern.

Should this be addressed in the core, or should I be thinking up an 
ingeneous plugin to modify this behavior?

Jeff Minard
From ryan at boren.nu  Thu Mar 17 01:08:02 2005
From: ryan at boren.nu (Ryan Boren)
Date: Thu Mar 17 01:08:09 2005
Subject: [wp-hackers] New Members - "May submit drafts for review" and
	delete them?
In-Reply-To: <4238C602.3010604@jrm.cc>
References: <4238C602.3010604@jrm.cc>
Message-ID: <1111021683.3727.32.camel@portnoy.fuzzybelly.org>

On Wed, 2005-03-16 at 15:49 -0800, jeff@jrm.cc wrote:
> I'm going to be using this feature on a production site in the near 
> future and I've run into what might be an issue from our business logic 
> point of view.
> 
> A user can submit a story. It's drafted - cool. Then a higher level user 
> will review it and approve it for the site (publish) it. This is all 
> well and good. In fact, the original author can come in and attempt to 
> edit the post, and it will simply be dumped back to "draft" mode.
> 
> However, the user can also just delete the post at any time. Whether it 
> is published or drafted. I don't think our users would do this, but it 
> is a concern.
> 
> Should this be addressed in the core, or should I be thinking up an 
> ingeneous plugin to modify this behavior?

Some relevant discussion here:

http://mosquito.wordpress.org/view.php?id=1004

I think users with draft-only permissions (level 1) should not be
allowed to touch published posts in any way.

Ryan


From mark.wordpress at txfx.net  Thu Mar 17 01:19:06 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Thu Mar 17 01:19:13 2005
Subject: [wp-hackers] New Members - "May submit drafts for review" and
	delete them?
In-Reply-To: <1111021683.3727.32.camel@portnoy.fuzzybelly.org>
References: <4238C602.3010604@jrm.cc>
	<1111021683.3727.32.camel@portnoy.fuzzybelly.org>
Message-ID: <4238DB0A.4080008@txfx.net>

Ryan Boren wrote:

>I think users with draft-only permissions (level 1) should not be
>allowed to touch published posts in any way.
>
Ryan, you made the change in SVN so that they can't edit the posts, but 
the "Edit" link still persists in edit.php and the "Delete" link 
persists, and works, as Jeff noted.

Have you thought of some way that users could be allowed to submit a 
revision without modifying the original post?  I was thinking of having 
a new draft be created in the database with a "revision_of" value 
pointing back to the original post.  If the admin approves the revision, 
the contents of the revision overwrite the old post and the temporary 
revision draft is discarded.  This has the benefit of allowing the 
original post to stay live and as it was originally approved by the 
admin until a revision is approved.  Heck, if we wanted to get REALLY 
fancy, we could highlight in green added text, highlight in red deleted 
text... so the admin can easily see what was changed in the revision.

Yeah, I know.  But I can dream.
From chris at coggburn.us  Thu Mar 17 01:20:40 2005
From: chris at coggburn.us (Chris Coggburn)
Date: Thu Mar 17 01:21:05 2005
Subject: [wp-hackers] New Members - "May submit drafts for review" and
	delete them?
In-Reply-To: <1111021683.3727.32.camel@portnoy.fuzzybelly.org>
References: <4238C602.3010604@jrm.cc>
	<1111021683.3727.32.camel@portnoy.fuzzybelly.org>
Message-ID: <4238DB68.9020609@coggburn.us>

Skipped content of type multipart/related-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 254 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050317/e84e9d41/signature-0001.bin
From ryan at boren.nu  Thu Mar 17 01:37:35 2005
From: ryan at boren.nu (Ryan Boren)
Date: Thu Mar 17 01:37:44 2005
Subject: [wp-hackers] New Members - "May submit drafts for review" and
	delete them?
In-Reply-To: <4238DB0A.4080008@txfx.net>
References: <4238C602.3010604@jrm.cc>
	<1111021683.3727.32.camel@portnoy.fuzzybelly.org>
	<4238DB0A.4080008@txfx.net>
Message-ID: <1111023455.3727.40.camel@portnoy.fuzzybelly.org>

On Wed, 2005-03-16 at 20:19 -0500, Mark Jaquith wrote:
> Ryan Boren wrote:
> 
> >I think users with draft-only permissions (level 1) should not be
> >allowed to touch published posts in any way.
> >
> Ryan, you made the change in SVN so that they can't edit the posts, but 
> the "Edit" link still persists in edit.php and the "Delete" link 
> persists, and works, as Jeff noted.

Patch attached to prevent edit/delete.

> Have you thought of some way that users could be allowed to submit a 
> revision without modifying the original post?  I was thinking of having 
> a new draft be created in the database with a "revision_of" value 
> pointing back to the original post.  If the admin approves the revision, 
> the contents of the revision overwrite the old post and the temporary 
> revision draft is discarded.  This has the benefit of allowing the 
> original post to stay live and as it was originally approved by the 
> admin until a revision is approved.  Heck, if we wanted to get REALLY 
> fancy, we could highlight in green added text, highlight in red deleted 
> text... so the admin can easily see what was changed in the revision.
> 
> Yeah, I know.  But I can dream.

Editorial workflow and post revisioning are good items to discuss, but
not for 1.5.x.  Let's establish what is "good enough" for 1.5.1 and then
broaden the discussion to what we would like to do for the next big
release.

Ryan
-------------- next part --------------
A non-text attachment was scrubbed...
Name: user_can_edit.diff
Type: text/x-patch
Size: 1287 bytes
Desc: not available
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050317/cfaf0a6c/user_can_edit.bin
From jeff at jrm.cc  Thu Mar 17 01:37:33 2005
From: jeff at jrm.cc (jeff@jrm.cc)
Date: Thu Mar 17 01:37:45 2005
Subject: [wp-hackers] New Members - "May submit drafts for review" and
	delete them?
In-Reply-To: <1111021683.3727.32.camel@portnoy.fuzzybelly.org>
References: <4238C602.3010604@jrm.cc>
	<1111021683.3727.32.camel@portnoy.fuzzybelly.org>
Message-ID: <4238DF5D.3070400@jrm.cc>

Ryan Boren wrote:
> I think users with draft-only permissions (level 1) should not be
> allowed to touch published posts in any way.

I would agree. It's a nice option to let users modify a post (if it 
needs revisions) and then drop it back to a draft. That is, however, 
rather distruptive to a multi-author environment (my site will be a 
magazine website).

As for versioning - forget it. Way, *WAY* too involved a process to 
build of top of what we've already got going in WP. Ultimately more 
headache than this little feature warrants. Perhaps a future version of 
WP will support global versioning of posts/pages/whatever, but that's a 
long (3.0) way off ;)

I think, that for this case, I am going to agree with Ryan full on. Turn 
off everything for the level one user except the "Write" and "Users" so 
that all they can do is submit drafts and edit their user info. (I even 
have slight reservations to author data being editable without some kind 
of "higher up" approval...)

As another said in that thread, the dashboard is not relevant to a 
contributing author at all, and if users aren't allowed to edit 
published items, then they have no need to use the "Manage" screens - 
and draft they have would show up in the "Your Drafts" on the "write 
post" page.

On that note, is the "private" feature useful? Perhaps for drafts that 
are WIP?

I am happy to know that this is a well thought issue though :D

Jeff Minard
From mark.wordpress at txfx.net  Thu Mar 17 03:01:13 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Thu Mar 17 03:01:28 2005
Subject: [wp-hackers] New Members - "May submit drafts for review" and
	delete them?
In-Reply-To: <4238DF5D.3070400@jrm.cc>
References: <4238C602.3010604@jrm.cc>	<1111021683.3727.32.camel@portnoy.fuzzybelly.org>
	<4238DF5D.3070400@jrm.cc>
Message-ID: <4238F2F9.2020307@txfx.net>

jeff@jrm.cc wrote:

> I think, that for this case, I am going to agree with Ryan full on. 
> Turn off everything for the level one user except the "Write" and 
> "Users" so that all they can do is submit drafts and edit their user info.

That sounds like the best plan for the immediate future.

> As another said in that thread, the dashboard is not relevant to a 
> contributing author at all, and if users aren't allowed to edit 
> published items, then they have no need to use the "Manage" screens - 
> and draft they have would show up in the "Your Drafts" on the "write 
> post" page.

Agreed.  I had a blog with open user submissions back in version 1.3 
CVS.  I had well over 150 authors, so I got a lot of feedback.  People 
were just confused with all the options.  I ripped out tons of stuff, 
and changed wording of the Save as Draft button to read "Submit Draft 
for Approval."

> On that note, is the "private" feature useful? Perhaps for drafts that 
> are WIP?

Yes, this is useful, otherwise we don't know what drafts are WIP and 
which are being submitted for publication.

Now what I think we need is a slightly better system for presenting 
drafts to the admins.  Currently it isn't apparent which author has 
written the draft... all we get is the title.  Also, unless the admin 
happens to visit the Manage screen, those draft submissions could go 
unnoticed.

Another thing that might be good is a slight change on the User screen.  
We currently have the "Promote" thing for promoting users to authors, 
which is good, but if Level 1 now means they can submit drafts, maybe 
that should be indicated with another grouping.  There could be "Users," 
"Moderated Authors," and "Full Authors" or something like that.

If we take care of that, I think we'll have a nice minimally functional 
system for open user contribution, one that I hope will be expanded in 
later versions.
From david at davidsaccess.com  Thu Mar 17 22:03:57 2005
From: david at davidsaccess.com (David Clark)
Date: Thu Mar 17 22:04:27 2005
Subject: [wp-hackers] Regarding paging in WP 1.5
In-Reply-To: <423341A2.70407@jrm.cc>
References: <42331619.5090802@turnipspatch.com>
	<1110647345.5949.37.camel@portnoy.fuzzybelly.org>
	<42332897.6050809@turnipspatch.com>
	<1110649668.5949.52.camel@portnoy.fuzzybelly.org>
	<42332DF5.5090903@turnipspatch.com> <423341A2.70407@jrm.cc>
Message-ID: <5acccf4097b19daafb3752cce9a4b46e@davidsaccess.com>

I am just catching up on this list, sorry

> Jonathan Leighton wrote:
>> But that's all happened now, so the more important question, I guess, 
>> is whether there are plans to make paging easier to switch on and 
>> off?
>
> A plugin could handle this without needing to add it to the core. It 
> could use the post query hook and test is_archive() (or other) 
> functions and change up the number of post accodingly.
>
> An admin option page could be added to set the need variables as well. 
> (Man I love that new feature...)
>
Can anyone say more on this? I think I should incorporate this into 
http://www.davidsaccess.com/2005/03/13/wp-plugin-dcs-nicer-archives/

From turnip at turnipspatch.com  Thu Mar 17 22:25:05 2005
From: turnip at turnipspatch.com (Jonathan Leighton)
Date: Thu Mar 17 22:25:27 2005
Subject: [wp-hackers] Regarding paging in WP 1.5
In-Reply-To: <5acccf4097b19daafb3752cce9a4b46e@davidsaccess.com>
References: <42331619.5090802@turnipspatch.com>	<1110647345.5949.37.camel@portnoy.fuzzybelly.org>	<42332897.6050809@turnipspatch.com>	<1110649668.5949.52.camel@portnoy.fuzzybelly.org>	<42332DF5.5090903@turnipspatch.com>
	<423341A2.70407@jrm.cc>
	<5acccf4097b19daafb3752cce9a4b46e@davidsaccess.com>
Message-ID: <423A03C1.8030900@turnipspatch.com>

David Clark wrote:

> I am just catching up on this list, sorry
>
>> Jonathan Leighton wrote:
>>
>>> But that's all happened now, so the more important question, I 
>>> guess, is whether there are plans to make paging easier to switch on 
>>> and off?
>>
>>
>> A plugin could handle this without needing to add it to the core. It 
>> could use the post query hook and test is_archive() (or other) 
>> functions and change up the number of post accodingly.
>>
>> An admin option page could be added to set the need variables as 
>> well. (Man I love that new feature...)
>>
> Can anyone say more on this? I think I should incorporate this into 
> http://www.davidsaccess.com/2005/03/13/wp-plugin-dcs-nicer-archives/

I think it should definitely be in the core.

If no-one else does, I'll create a patch for it (assuming no-one has any 
problems with it going in the core). I would have said already but I'm a 
bit busy at the moment.

Jon

-- 
Jonathan Leighton aka. Turnip
http://turnipspatch.com/ | http://digital-proof.org/

From kim at tac.nyc.ny.us  Fri Mar 18 05:23:59 2005
From: kim at tac.nyc.ny.us (Kimmo Suominen)
Date: Fri Mar 18 05:24:27 2005
Subject: [wp-hackers] rev 2455 bug
Message-ID: <20050318052359.GD7255@kimmo.suominen.com>

I believe this change should have used the defined() function, not the
constant() function.

I'm emailing here as well because in rev 2455 the admin interface is
currently broken due to this.

Filed Mosquito #1131 with a patch.

Regards,
+ Kim
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>


--- trunk/wp-includes/functions.php	2005-03-17 18:15:18 UTC (rev 2454)
+++ trunk/wp-includes/functions.php	2005-03-17 23:34:06 UTC (rev 2455)
@@ -303,7 +303,7 @@
 
 function get_settings($setting) {
   global $wpdb, $cache_settings, $cache_nonexistantoptions;
-	if ( strstr($_SERVER['REQUEST_URI'], 'wp-admin/install.php') )
+	if ( strstr($_SERVER['REQUEST_URI'], 'wp-admin/install.php') || constant('WP_INSTALLING') )
 		return false;
 
 	if ( empty($cache_settings) )

From kim at tac.nyc.ny.us  Fri Mar 18 05:27:40 2005
From: kim at tac.nyc.ny.us (Kimmo Suominen)
Date: Fri Mar 18 05:27:52 2005
Subject: [wp-hackers] rev 2455 bug
In-Reply-To: <20050318052359.GD7255@kimmo.suominen.com>
References: <20050318052359.GD7255@kimmo.suominen.com>
Message-ID: <20050318052740.GE7255@kimmo.suominen.com>

On Fri, Mar 18, 2005 at 12:23:59AM -0500, Kimmo Suominen wrote:
> I believe this change should have used the defined() function, not the
> constant() function.
> 
> I'm emailing here as well because in rev 2455 the admin interface is
> currently broken due to this.

More correctly: it is broken when using "error_reporting = E_ALL",
which is what I have by default...

+ Kim


> Filed Mosquito #1131 with a patch.
> 
> Regards,
> + Kim
> -- 
> <A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>
> 
> 
> --- trunk/wp-includes/functions.php	2005-03-17 18:15:18 UTC (rev 2454)
> +++ trunk/wp-includes/functions.php	2005-03-17 23:34:06 UTC (rev 2455)
> @@ -303,7 +303,7 @@
>  
>  function get_settings($setting) {
>    global $wpdb, $cache_settings, $cache_nonexistantoptions;
> -	if ( strstr($_SERVER['REQUEST_URI'], 'wp-admin/install.php') )
> +	if ( strstr($_SERVER['REQUEST_URI'], 'wp-admin/install.php') || constant('WP_INSTALLING') )
>  		return false;
>  
>  	if ( empty($cache_settings) )
> 
From m at mullenweg.com  Fri Mar 18 05:28:15 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Fri Mar 18 05:28:35 2005
Subject: [wp-hackers] rev 2455 bug
In-Reply-To: <20050318052359.GD7255@kimmo.suominen.com>
References: <20050318052359.GD7255@kimmo.suominen.com>
Message-ID: <423A66EF.7070408@mullenweg.com>

Kimmo Suominen wrote:
> I believe this change should have used the defined() function, not the
> constant() function.

I'll take a look at that. Future messages like this would be better on 
the wp-testers mailing list.

http://lists.automattic.com/mailman/listinfo/wp-testers

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From kim at tac.nyc.ny.us  Fri Mar 18 05:36:27 2005
From: kim at tac.nyc.ny.us (Kimmo Suominen)
Date: Fri Mar 18 05:36:51 2005
Subject: [wp-hackers] rev 2455 bug
In-Reply-To: <423A66EF.7070408@mullenweg.com>
References: <20050318052359.GD7255@kimmo.suominen.com>
	<423A66EF.7070408@mullenweg.com>
Message-ID: <20050318053627.GF7255@kimmo.suominen.com>

On Thu, Mar 17, 2005 at 09:28:15PM -0800, Matthew Mullenweg wrote:
> Kimmo Suominen wrote:
> >I believe this change should have used the defined() function, not the
> >constant() function.
> 
> I'll take a look at that. Future messages like this would be better on 

Thanks, Matt!

> the wp-testers mailing list.

Oops, forgot about that one.  I'm actually on it, too...  :-)

Regards,
+ Kim
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>

From podz at tamba2.org.uk  Sat Mar 19 21:38:44 2005
From: podz at tamba2.org.uk (Podz)
Date: Sat Mar 19 21:39:10 2005
Subject: [wp-hackers] Forum post
Message-ID: <423C9BE4.3090408@tamba2.org.uk>

update-links.php nuked my bandwidth?
http://wordpress.org/support/topic.php?id=25286

I don't even know what to ask for this one..

Cheers
P.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050319/5d83ba38/signature.bin
From mark.wordpress at txfx.net  Sat Mar 19 22:54:49 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Sat Mar 19 22:54:58 2005
Subject: [wp-hackers] Forum post
In-Reply-To: <423C9BE4.3090408@tamba2.org.uk>
References: <423C9BE4.3090408@tamba2.org.uk>
Message-ID: <423CADB9.8050200@txfx.net>

Podz wrote:

> update-links.php nuked my bandwidth?
> http://wordpress.org/support/topic.php?id=25286

I was under the impression that the new method of getting updates was 
much leaner than the old changes.xml method, which downloaded a 
multi-megabyte file for parsing.  It looks like the code now just 
specifically asks Ping-O-Matic if the site's links have updated.

Also, when looking at update-links.php I couldn't help but notice that 
Snoopy is being included, but doesn't appear to be used (i.e. it is all 
done manually instead of using the Snoopy class).

The only thing I could think of is that some error in the query to 
Ping-O-Matic is causing PoM to return some huge file... either that or 
this guy has 5,000 blogs on his blogroll!
From fabrizio-ml at fabriziotarizzo.org  Sun Mar 20 17:03:18 2005
From: fabrizio-ml at fabriziotarizzo.org (Fabrizio Tarizzo)
Date: Sun Mar 20 16:56:53 2005
Subject: [wp-hackers] RFC: Plugin API extension proposal
Message-ID: <20050320180318.5d4becbe@trillian.intra.fabriziotarizzo.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hello.

I wrote a little draft about an extension to the WordPress Plugin API 
that allows plugin developers to add metadata in RSS/ATOM feeds.

Feel free to make comments and remarks (the draft is in an open Wiki
page):
http://www.fabriziotarizzo.org/wiki/Wikka/ProposalWordPressAPIExtension


- -- 
Fabrizio Tarizzo
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.4 (GNU/Linux)

iD8DBQFCPazeMjV6RfHo5uQRAqDKAKCV97qfEocuzRS4jhsh/u9L3+gLlACgvJIk
4XIhJitpGyxgmRoh7gngozk=
=KG3W
-----END PGP SIGNATURE-----
From mof-rdf at mfd-consult.dk  Sun Mar 20 17:32:28 2005
From: mof-rdf at mfd-consult.dk (Morten Frederiksen)
Date: Sun Mar 20 17:32:53 2005
Subject: [wp-hackers] RFC: Plugin API extension proposal
In-Reply-To: <20050320180318.5d4becbe@trillian.intra.fabriziotarizzo.org>
References: <20050320180318.5d4becbe@trillian.intra.fabriziotarizzo.org>
Message-ID: <200503201832.28838.mof-rdf@mfd-consult.dk>

Hi,

On Sunday 20 March 2005 18:03, Fabrizio Tarizzo wrote:
> I wrote a little draft about an extension to the WordPress Plugin API
> that allows plugin developers to add metadata in RSS/ATOM feeds.
> http://www.fabriziotarizzo.org/wiki/Wikka/ProposalWordPressAPIExtension
Not a bad idea at all.

I ran into the problem when creating my FOAF output plugin [1] (for WP1.2). I 
ended up using the the_category_rss filter.

The FOAF output plugin itself adds a few hooks -- to be used by add-ons like 
Semantic Visits [2] -- they are very much like your ideas, so I can attest to 
the principle.


[1] 
http://www.wasab.dk/morten/blog/archives/2004/07/05/wordpress-plugin-foaf-output
[2] 
http://www.wasab.dk/morten/blog/archives/2004/07/05/wordpress-plugin-semantic-visits


Regards,
Morten
From jeff at jrm.cc  Sun Mar 20 19:17:08 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Sun Mar 20 19:17:27 2005
Subject: [wp-hackers] RFC: Plugin API extension proposal
In-Reply-To: <20050320180318.5d4becbe@trillian.intra.fabriziotarizzo.org>
References: <20050320180318.5d4becbe@trillian.intra.fabriziotarizzo.org>
Message-ID: <423DCC34.8060002@jrm.cc>

Fabrizio Tarizzo wrote:
> Feel free to make comments and remarks (the draft is in an open Wiki
> page):
> http://www.fabriziotarizzo.org/wiki/Wikka/ProposalWordPressAPIExtension


Sounds like a great idea. Just submit a patch with the hooks put into 
place. :D

http://mosquito.wordpress.org/

Jeff Minard
From fabrizio-ml at fabriziotarizzo.org  Sun Mar 20 21:38:58 2005
From: fabrizio-ml at fabriziotarizzo.org (Fabrizio Tarizzo)
Date: Sun Mar 20 21:32:24 2005
Subject: [wp-hackers] RFC: Plugin API extension proposal
In-Reply-To: <423DCC34.8060002@jrm.cc>
References: <20050320180318.5d4becbe@trillian.intra.fabriziotarizzo.org>
	<423DCC34.8060002@jrm.cc>
Message-ID: <20050320223858.5595931b@trillian.intra.fabriziotarizzo.org>

On Sun, 20 Mar 2005 11:17:08 -0800
Jeff Minard <jeff@jrm.cc> wrote:
> Sounds like a great idea. Just submit a patch with the hooks put
> into place. :D

Done :-D

http://mosquito.wordpress.org/view.php?id=1145


-- 
Fabrizio Tarizzo
From cohen.dave at gmail.com  Mon Mar 21 06:47:40 2005
From: cohen.dave at gmail.com (Dave Cohen)
Date: Mon Mar 21 06:47:44 2005
Subject: [wp-hackers] Plugins using hardcoded table prefix
Message-ID: <1e74d0c605032022472e2d4c50@mail.gmail.com>

Just a plea from someone who has to support many WP installs.  When
creating a plugin, please don't hardcode the WP table prefix, rather
get the configured value of the table prefix ($table_prefix) and build
off of that.  Its a nice standard to use and I've seen a few times
when someone blows away another's settings because of this.

-- 
Best Regards,
Dave Cohen
From mark.wordpress at txfx.net  Mon Mar 21 08:58:26 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Mon Mar 21 08:58:17 2005
Subject: [wp-hackers] Plugins using hardcoded table prefix
In-Reply-To: <1e74d0c605032022472e2d4c50@mail.gmail.com>
References: <1e74d0c605032022472e2d4c50@mail.gmail.com>
Message-ID: <423E8CB2.9070604@txfx.net>

Dave Cohen wrote:

>Just a plea from someone who has to support many WP installs.  When
>creating a plugin, please don't hardcode the WP table prefix, rather
>get the configured value of the table prefix ($table_prefix) and build
>off of that.  Its a nice standard to use and I've seen a few times
>when someone blows away another's settings because of this.
>
The only reason I can think of that they'd need the $table_prefix is if 
they were creating a new table.  For accessing WP's built-in tables, 
they should be using these:

> // Table names
> $wpdb->posts            = $table_prefix . 'posts';
> $wpdb->users            = $table_prefix . 'users';
> $wpdb->categories       = $table_prefix . 'categories';
> $wpdb->post2cat         = $table_prefix . 'post2cat';
> $wpdb->comments         = $table_prefix . 'comments';
> $wpdb->links            = $table_prefix . 'links';
> $wpdb->linkcategories   = $table_prefix . 'linkcategories';
> $wpdb->options          = $table_prefix . 'options';
> $wpdb->postmeta         = $table_prefix . 'postmeta';

Hardcoding the prefix is a very amateurish mistake.  Maybe we should 
start WordPress University and require degrees before people can release 
their plugins into the wild.  :-)  Kidding of course, but it might not 
hurt for there to be a Codex page with "Known good plugin coders," not 
to imply that everyone else is trusted, but to lend more confidence to 
people using plugins from the people on the list.

Someone could also start a plugin review service, where they could do a 
quick scan for such dangerous things as hardcoded table names.


From lists at alexking.org  Mon Mar 21 09:19:59 2005
From: lists at alexking.org (Alex King)
Date: Mon Mar 21 09:20:03 2005
Subject: [wp-hackers] Plugins using hardcoded table prefix
In-Reply-To: <423E8CB2.9070604@txfx.net>
References: <1e74d0c605032022472e2d4c50@mail.gmail.com>
	<423E8CB2.9070604@txfx.net>
Message-ID: <423E91BF.9080408@alexking.org>

Weren't these variables just added in 1.5? I thought they were added 
recently.

Also, be aware that when using these variables (or any object 
properties) I'm pretty sure you can't just stick them inside a 
double-quoted string.

This will not work:

$sql = "SELECT * FROM $wpdb->posts WHERE ...";

This will:

$sql = 'SELECT * FROM '.$wpdb->posts.' WHERE ...';

(and using single quotes reduces parsing, etc.)

At least that is how it works in my test environment - perhaps I've got 
a setting out of whack somewhere.

--Alex

Mark Jaquith wrote:
>> // Table names
>> $wpdb->posts            = $table_prefix . 'posts';
>> $wpdb->users            = $table_prefix . 'users';
>> $wpdb->categories       = $table_prefix . 'categories';
>> $wpdb->post2cat         = $table_prefix . 'post2cat';
>> $wpdb->comments         = $table_prefix . 'comments';
>> $wpdb->links            = $table_prefix . 'links';
>> $wpdb->linkcategories   = $table_prefix . 'linkcategories';
>> $wpdb->options          = $table_prefix . 'options';
>> $wpdb->postmeta         = $table_prefix . 'postmeta';
> 
> 
> Hardcoding the prefix is a very amateurish mistake. 
From mark.wordpress at txfx.net  Mon Mar 21 09:37:04 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Mon Mar 21 09:37:03 2005
Subject: [wp-hackers] Plugins using hardcoded table prefix
In-Reply-To: <423E91BF.9080408@alexking.org>
References: <1e74d0c605032022472e2d4c50@mail.gmail.com>	<423E8CB2.9070604@txfx.net>
	<423E91BF.9080408@alexking.org>
Message-ID: <423E95C0.5020607@txfx.net>

Alex King wrote:

> Weren't these variables just added in 1.5? I thought they were added 
> recently.
>
> Also, be aware that when using these variables (or any object 
> properties) I'm pretty sure you can't just stick them inside a 
> double-quoted string. 

They were added fairly early on in WP 1.3, last summer, I'd say.  Quite 
a lot of plugin writers started writing plugins for WP 1.3 CVS code, so 
this shouldn't be anything new to them.

Alex, if you weren't able to put $wpdb->posts and the like into 
doublequoted strings, WordPress wouldn't get past the install phase.  
It's pretty much the standard way of doing it.  Your test environment 
must be screwy.
From ringmaster at midnightcircus.com  Mon Mar 21 12:16:51 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Mon Mar 21 12:17:39 2005
Subject: [wp-hackers] Plugins using hardcoded table prefix
In-Reply-To: <423E95C0.5020607@txfx.net>
References: <1e74d0c605032022472e2d4c50@mail.gmail.com>	<423E8CB2.9070604@txfx.net>	<423E91BF.9080408@alexking.org>
	<423E95C0.5020607@txfx.net>
Message-ID: <423EBB33.6000807@midnightcircus.com>

Mark Jaquith wrote:

> Alex King wrote:
>
>> Weren't these variables just added in 1.5? I thought they were added 
>> recently.
>>
>> Also, be aware that when using these variables (or any object 
>> properties) I'm pretty sure you can't just stick them inside a 
>> double-quoted string. 
>
> They were added fairly early on in WP 1.3, last summer, I'd say.  
> Quite a lot of plugin writers started writing plugins for WP 1.3 CVS 
> code, so this shouldn't be anything new to them.
>
> Alex, if you weren't able to put $wpdb->posts and the like into 
> doublequoted strings, WordPress wouldn't get past the install phase.  
> It's pretty much the standard way of doing it.  Your test environment 
> must be screwy.

This works:

$sql = "SELECT * FROM {$wpdb->posts} WHERE ...";

I usually add my own table variables to $wpdb using the $table_prefix 
variable, then only reference what I've added to $wpdb.  I makes 
everything look consistent.

Owen




From skippy at skippy.net  Mon Mar 21 14:22:11 2005
From: skippy at skippy.net (Scott Merrill)
Date: Mon Mar 21 14:22:00 2005
Subject: [wp-hackers] 1.5.1 ?
Message-ID: <423ED893.1050602@skippy.net>

We've had several major bugs identified and fixed for WordPress 1.5,
which is great for those of us who track SVN or know how to apply
patches.  But not everyone can or wants to do that.

Specifically, bug 902 is pretty serious for us plugin authors.

Is there a scheduled release date for version 1.5.1?  If not a specific
date, is there some list of criteria for deciding when 1.5.1 will be
released?

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From kim at tac.nyc.ny.us  Mon Mar 21 16:09:38 2005
From: kim at tac.nyc.ny.us (Kimmo Suominen)
Date: Mon Mar 21 16:09:50 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <423ED893.1050602@skippy.net>
References: <423ED893.1050602@skippy.net>
Message-ID: <20050321160938.GG6776@kimmo.suominen.com>

On Mon, Mar 21, 2005 at 09:22:11AM -0500, Scott Merrill wrote:
> Specifically, bug 902 is pretty serious for us plugin authors.

Because of #902, you should not use the new hooks for adding pages.  The
old way still works, although I've never needed to do more than one page
so YMMV.

This is the code structure I use:

    if (is_plugin_page()):
	$wppTimeZone->options_page();
    else:

    class TimeZone
    {
	function TimeZone()
	{
	    add_action('admin_menu', array(&$this, 'admin_menu'));
	    // Broken in WordPress 1.5
	    //add_action('options_page_timezone', array(&$this, 'options_page'));
	    add_action('option_gmt_offset', array(&$this, 'option_gmt_offset'));
	}

	function admin_menu()
	{
	    add_options_page(
		__('Time Zone Options'),
		__('Time Zone'), 5, basename(__FILE__));
	}

	function options_page()
	{
	    [.. code for the options page ..]
	}

	[.. the rest of the code ..]
    }

    $wppTimeZone =& new TimeZone;

    endif; // is_plugin_page()

Notice the commented out add_action() call.

Sometime after 1.5.1 is out, if I make a new release, I'll just remove
the "old way".  (That's why the class is not indented inside the else.)

Regards,
+ Kim
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>

From ryan at boren.nu  Mon Mar 21 16:29:05 2005
From: ryan at boren.nu (Ryan Boren)
Date: Mon Mar 21 16:29:15 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <423ED893.1050602@skippy.net>
References: <423ED893.1050602@skippy.net>
Message-ID: <1111422545.4710.4.camel@portnoy.fuzzybelly.org>

On Mon, 2005-03-21 at 09:22 -0500, Scott Merrill wrote:
> We've had several major bugs identified and fixed for WordPress 1.5,
> which is great for those of us who track SVN or know how to apply
> patches.  But not everyone can or wants to do that.
> 
> Specifically, bug 902 is pretty serious for us plugin authors.
> 
> Is there a scheduled release date for version 1.5.1?  If not a specific
> date, is there some list of criteria for deciding when 1.5.1 will be
> released?

Are there any "gotta have" bugs left?  I don't see any release blockers.
Maybe we could do a release candidate, get this list and the testers
list to bang on it, and follow up with 1.5.1-final shortly thereafter.

Ryan


From wordpress at coldforged.org  Mon Mar 21 16:30:04 2005
From: wordpress at coldforged.org (Brian Dupuis)
Date: Mon Mar 21 16:30:21 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <1111422545.4710.4.camel@portnoy.fuzzybelly.org>
References: <423ED893.1050602@skippy.net>
	<1111422545.4710.4.camel@portnoy.fuzzybelly.org>
Message-ID: <423EF68C.1090800@coldforged.org>

All praise be, that would be delightful.

Ryan Boren wrote:

>On Mon, 2005-03-21 at 09:22 -0500, Scott Merrill wrote:
>  
>
>>We've had several major bugs identified and fixed for WordPress 1.5,
>>which is great for those of us who track SVN or know how to apply
>>patches.  But not everyone can or wants to do that.
>>
>>Specifically, bug 902 is pretty serious for us plugin authors.
>>
>>Is there a scheduled release date for version 1.5.1?  If not a specific
>>date, is there some list of criteria for deciding when 1.5.1 will be
>>released?
>>    
>>
>
>Are there any "gotta have" bugs left?  I don't see any release blockers.
>Maybe we could do a release candidate, get this list and the testers
>list to bang on it, and follow up with 1.5.1-final shortly thereafter.
>
>Ryan
>
>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers@lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
>  
>

From m at mullenweg.com  Mon Mar 21 19:54:56 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Mar 21 19:55:05 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <1111422545.4710.4.camel@portnoy.fuzzybelly.org>
References: <423ED893.1050602@skippy.net>
	<1111422545.4710.4.camel@portnoy.fuzzybelly.org>
Message-ID: <423F2690.5000705@mullenweg.com>

Ryan Boren wrote:
> Are there any "gotta have" bugs left?  I don't see any release blockers.
> Maybe we could do a release candidate, get this list and the testers
> list to bang on it, and follow up with 1.5.1-final shortly thereafter.

http://wordpress.org/support/topic.php?id=28210

Podz or Craig may be able to point out a few others.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From mark.wordpress at txfx.net  Mon Mar 21 20:18:44 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Mon Mar 21 20:18:35 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <423EF68C.1090800@coldforged.org>
References: <423ED893.1050602@skippy.net>	<1111422545.4710.4.camel@portnoy.fuzzybelly.org>
	<423EF68C.1090800@coldforged.org>
Message-ID: <423F2C24.4010009@txfx.net>

Ryan Boren wrote:

>
>>
>> Are there any "gotta have" bugs left?  I don't see any release blockers.
>> Maybe we could do a release candidate, get this list and the testers
>> list to bang on it, and follow up with 1.5.1-final shortly thereafter.
>

Here is my pick of the litter... I've labeled (!important!) the ones 
that I think deserve most attention.

(!important!) CSS error that makes "alternate" rows show up as green in 
IE, even on the Manage->posts page and Manage->category  Oops!
Patch provided, and tested by me.
http://mosquito.wordpress.org/view.php?id=1139

(!important!) CSS error whereby if you have enough submenu items that 
they have to wrap, the height isn't changed (fixed in CSS) so that it is 
white text on light greybackground.  This is a bug in all browsers.  My 
patch eliminates the fixed height and allows the items to wrap with the 
dark background.
http://mosquito.wordpress.org/view.php?id=1138

get_links() ignores $echo setting
http://mosquito.wordpress.org/view.php?id=1023

Would be nice to have "mark as spam" option on notification e-mails, as 
well as "delete"
http://mosquito.wordpress.org/view.php?id=1048

(!important!) Scheduled posts are shown as being in the future (equal to 
the negative of your GMT offset, for us west of Greenwich).  I think 
this is a problem with current_time()
http://mosquito.wordpress.org/view.php?id=1075

texturize tweak for 'cause :
http://mosquito.wordpress.org/view.php?id=1100

Comment feed for a single post only shows first 10 comments:
http://mosquito.wordpress.org/view.php?id=958

(!important!) Slashes added to doublequotes within <pre> in post content 
(annoying for code posters)
http://mosquito.wordpress.org/view.php?id=1053

trackbacks/pingbacks from own site are not whitelisted
http://mosquito.wordpress.org/view.php?id=999

"require email for comments" setting doesn't use is_email() to check 
validity... what's the point of the setting if it isn't obeyed?
http://mosquito.wordpress.org/view.php?id=982




Many of those have patches and are ready to go, and some of them 
shouldn't be too hard to figure out.  I'm as anxious as anyone for WP 
1.5.1 to be out, but unless we want to spend the next month preparing 
1.5.2, we'd better squish anything that squirms too much.

From podz at tamba2.org.uk  Mon Mar 21 21:56:21 2005
From: podz at tamba2.org.uk (Podz)
Date: Mon Mar 21 21:56:37 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <423F2690.5000705@mullenweg.com>
References: <423ED893.1050602@skippy.net>	<1111422545.4710.4.camel@portnoy.fuzzybelly.org>
	<423F2690.5000705@mullenweg.com>
Message-ID: <423F4305.3010609@tamba2.org.uk>

Matt Mullenweg wrote:
  > Podz or Craig may be able to point out a few others.

The only one that springs to mind right now is link updating. I've got a 
1.5.1 from late last week and the category I would like sorted by 
Updated does not do that. It has been the subject of a few posts, most 
notably the "Forum post" I made here a few days ago.


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050321/f6681d3d/signature.bin
From mark.wordpress at txfx.net  Mon Mar 21 22:15:47 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Mon Mar 21 22:15:40 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <423F4305.3010609@tamba2.org.uk>
References: <423ED893.1050602@skippy.net>	<1111422545.4710.4.camel@portnoy.fuzzybelly.org>	<423F2690.5000705@mullenweg.com>
	<423F4305.3010609@tamba2.org.uk>
Message-ID: <423F4793.4000800@txfx.net>

Podz wrote:

> Matt Mullenweg wrote:
>  > Podz or Craig may be able to point out a few others.
>
> The only one that springs to mind right now is link updating. I've got 
> a 1.5.1 from late last week and the category I would like sorted by 
> Updated does not do that. It has been the subject of a few posts, most 
> notably the "Forum post" I made here a few days ago.

I agree... but I don't think going back to changes.xml is an option.  I 
brought a dedicated server to its knees with that.  Seems like the 
Ping-O-Matic interface is good... they just need to get Ping-O-Matic to 
download and parse changes.xml files from Blogrolling.com et al.
From ryan at boren.nu  Tue Mar 22 00:32:40 2005
From: ryan at boren.nu (Ryan Boren)
Date: Tue Mar 22 00:37:00 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <423F2C24.4010009@txfx.net>
References: <423ED893.1050602@skippy.net>
	<1111422545.4710.4.camel@portnoy.fuzzybelly.org>
	<423EF68C.1090800@coldforged.org>  <423F2C24.4010009@txfx.net>
Message-ID: <1111451560.4710.19.camel@portnoy.fuzzybelly.org>

On Mon, 2005-03-21 at 15:18 -0500, Mark Jaquith wrote:
> Here is my pick of the litter... I've labeled (!important!) the ones 
> that I think deserve most attention.

Okay.  I picked off the low hanging fruit.

> (!important!) CSS error that makes "alternate" rows show up as green in 
> IE, even on the Manage->posts page and Manage->category  Oops!
> Patch provided, and tested by me.
> http://mosquito.wordpress.org/view.php?id=1139

Fixed.

> (!important!) CSS error whereby if you have enough submenu items that 
> they have to wrap, the height isn't changed (fixed in CSS) so that it is 
> white text on light greybackground.  This is a bug in all browsers.  My 
> patch eliminates the fixed height and allows the items to wrap with the 
> dark background.
> http://mosquito.wordpress.org/view.php?id=1138

Assign to Matt for review and commit.

> get_links() ignores $echo setting
> http://mosquito.wordpress.org/view.php?id=1023

Fixed.  Side note:  The links API needs a whole lotta love.

> (!important!) Scheduled posts are shown as being in the future (equal to 
> the negative of your GMT offset, for us west of Greenwich).  I think 
> this is a problem with current_time()
> http://mosquito.wordpress.org/view.php?id=1075

Feed patch to mosquito.

> Comment feed for a single post only shows first 10 comments:
> http://mosquito.wordpress.org/view.php?id=958

Fixed.

> "require email for comments" setting doesn't use is_email() to check 
> validity... what's the point of the setting if it isn't obeyed?
> http://mosquito.wordpress.org/view.php?id=982

Fixed.

Ryan

From ryan at boren.nu  Tue Mar 22 01:11:06 2005
From: ryan at boren.nu (Ryan Boren)
Date: Tue Mar 22 01:11:11 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <1111451560.4710.19.camel@portnoy.fuzzybelly.org>
References: <423ED893.1050602@skippy.net>
	<1111422545.4710.4.camel@portnoy.fuzzybelly.org>
	<423EF68C.1090800@coldforged.org>  <423F2C24.4010009@txfx.net>
	<1111451560.4710.19.camel@portnoy.fuzzybelly.org>
Message-ID: <1111453867.19621.14.camel@portnoy.fuzzybelly.org>

More bugs for consideration.

Import-blogger leaves comments behind.  (Can anyone look this over?)
http://mosquito.wordpress.org/view.php?id=1123

Atom feed including private post info
http://mosquito.wordpress.org/view.php?id=1078

RSS enclosures do not respect password protected post
http://mosquito.wordpress.org/view.php?id=1040

CDATA chunk stripped  (Reported by matt)
http://mosquito.wordpress.org/view.php?id=1077

rss2 import switches values for post_date and post_date_gmt
http://mosquito.wordpress.org/view.php?id=878

rss2 import leaves CDATA in $title
http://mosquito.wordpress.org/view.php?id=879


Here are some low-impact, easy kills that might be nice to have.

calls to plugin hooks are inconsistent
http://mosquito.wordpress.org/view.php?id=1147

Dashboard "Writing Options" wording suggestion
http://mosquito.wordpress.org/view.php?id=1140

Need hooks for add_link and modify_link
http://mosquito.wordpress.org/view.php?id=1142

Link in comment notifications should go to comment permalink
http://mosquito.wordpress.org/view.php?id=1137



From rmack005 at gmail.com  Tue Mar 22 01:35:43 2005
From: rmack005 at gmail.com (Ryan Mack)
Date: Tue Mar 22 01:34:40 2005
Subject: [wp-hackers] Plugins using hardcoded table prefix
In-Reply-To: <423E8CB2.9070604@txfx.net>
References: <1e74d0c605032022472e2d4c50@mail.gmail.com>
	<423E8CB2.9070604@txfx.net>
Message-ID: <423F766F.2040605@gmail.com>

Mark Jaquith wrote:

> Dave Cohen wrote:
>
>> Just a plea from someone who has to support many WP installs.  When
>> creating a plugin, please don't hardcode the WP table prefix, rather
>> get the configured value of the table prefix ($table_prefix) and build
>> off of that.  Its a nice standard to use and I've seen a few times
>> when someone blows away another's settings because of this.
>>
> The only reason I can think of that they'd need the $table_prefix is 
> if they were creating a new table.  For accessing WP's built-in 
> tables, they should be using these:
>
>> // Table names
>> $wpdb->posts            = $table_prefix . 'posts';
>> $wpdb->users            = $table_prefix . 'users';
>> $wpdb->categories       = $table_prefix . 'categories';
>> $wpdb->post2cat         = $table_prefix . 'post2cat';
>> $wpdb->comments         = $table_prefix . 'comments';
>> $wpdb->links            = $table_prefix . 'links';
>> $wpdb->linkcategories   = $table_prefix . 'linkcategories';
>> $wpdb->options          = $table_prefix . 'options';
>> $wpdb->postmeta         = $table_prefix . 'postmeta';
>
>
> Hardcoding the prefix is a very amateurish mistake.  Maybe we should 
> start WordPress University and require degrees before people can 
> release their plugins into the wild.  :-)  Kidding of course, but it 
> might not hurt for there to be a Codex page with "Known good plugin 
> coders," not to imply that everyone else is trusted, but to lend more 
> confidence to people using plugins from the people on the list.
>
> Someone could also start a plugin review service, where they could do 
> a quick scan for such dangerous things as hardcoded table names.
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
Perhaps a plug-in development best practices page in the Codex is in 
order?  I know I'd like to have a list of dos and don'ts.
From false.hopes at gmail.com  Tue Mar 22 01:34:58 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Mar 22 01:35:04 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <1111453867.19621.14.camel@portnoy.fuzzybelly.org>
References: <423ED893.1050602@skippy.net>
	<1111422545.4710.4.camel@portnoy.fuzzybelly.org>
	<423EF68C.1090800@coldforged.org> <423F2C24.4010009@txfx.net>
	<1111451560.4710.19.camel@portnoy.fuzzybelly.org>
	<1111453867.19621.14.camel@portnoy.fuzzybelly.org>
Message-ID: <a491f91d050321173436cc0073@mail.gmail.com>

Also, the recent bug brought up on the testers list with future posts
always showing as scheduled 8 or more hours in the future, I haven't
had time to look at the human_time_diff function to see where the bug
might be though.


On Mon, 21 Mar 2005 19:11:06 -0600, Ryan Boren <ryan@boren.nu> wrote:
> More bugs for consideration.
> 
> Import-blogger leaves comments behind.  (Can anyone look this over?)
> http://mosquito.wordpress.org/view.php?id=1123
> 
> Atom feed including private post info
> http://mosquito.wordpress.org/view.php?id=1078
> 
> RSS enclosures do not respect password protected post
> http://mosquito.wordpress.org/view.php?id=1040
> 
> CDATA chunk stripped  (Reported by matt)
> http://mosquito.wordpress.org/view.php?id=1077
> 
> rss2 import switches values for post_date and post_date_gmt
> http://mosquito.wordpress.org/view.php?id=878
> 
> rss2 import leaves CDATA in $title
> http://mosquito.wordpress.org/view.php?id=879
> 
> Here are some low-impact, easy kills that might be nice to have.
> 
> calls to plugin hooks are inconsistent
> http://mosquito.wordpress.org/view.php?id=1147
> 
> Dashboard "Writing Options" wording suggestion
> http://mosquito.wordpress.org/view.php?id=1140
> 
> Need hooks for add_link and modify_link
> http://mosquito.wordpress.org/view.php?id=1142
> 
> Link in comment notifications should go to comment permalink
> http://mosquito.wordpress.org/view.php?id=1137
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://anothersadsong.com
From davebytes at comcast.net  Tue Mar 22 01:44:53 2005
From: davebytes at comcast.net (David Chait)
Date: Tue Mar 22 01:44:55 2005
Subject: [wp-hackers] 1.5.1 ?
References: <423ED893.1050602@skippy.net><1111422545.4710.4.camel@portnoy.fuzzybelly.org><423EF68C.1090800@coldforged.org>
	<423F2C24.4010009@txfx.net><1111451560.4710.19.camel@portnoy.fuzzybelly.org>
	<1111453867.19621.14.camel@portnoy.fuzzybelly.org>
Message-ID: <006b01c52e80$be82ec70$6e01a8c0@sixfour>

Since ryan was pointing out 'low impact easy kills' that included a new hook 
or two, I finally threw my outstanding request for an "ORDER BY" query hook 
into Mantis.  Certainly not a requirement, but it means we can do 'Sticky 
posts' without really icky hacks, and my PostOrder plugin will go beyond 
that and offer 'explicit order stickies' too... ;)

While I'm definitely one against feature creep, it's two new lines & a mod 
to the query/lookup, and it's 100% in-line with the existing hooks for the 
query string.

-d 

From ringmaster at midnightcircus.com  Tue Mar 22 02:04:50 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Mar 22 02:05:33 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <1111453867.19621.14.camel@portnoy.fuzzybelly.org>
References: <423ED893.1050602@skippy.net>	<1111422545.4710.4.camel@portnoy.fuzzybelly.org>	<423EF68C.1090800@coldforged.org>
	<423F2C24.4010009@txfx.net>	<1111451560.4710.19.camel@portnoy.fuzzybelly.org>
	<1111453867.19621.14.camel@portnoy.fuzzybelly.org>
Message-ID: <423F7D42.6020106@midnightcircus.com>

Ryan Boren wrote:

>More bugs for consideration.
>  
>
Patches in mosquito for 1078, 1040, & 1147.

Still working...

Owen


From ryan at boren.nu  Tue Mar 22 02:08:48 2005
From: ryan at boren.nu (Ryan Boren)
Date: Tue Mar 22 02:08:52 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <006b01c52e80$be82ec70$6e01a8c0@sixfour>
References: <423ED893.1050602@skippy.net>
	<1111422545.4710.4.camel@portnoy.fuzzybelly.org>
	<423EF68C.1090800@coldforged.org> <423F2C24.4010009@txfx.net>
	<1111451560.4710.19.camel@portnoy.fuzzybelly.org>
	<1111453867.19621.14.camel@portnoy.fuzzybelly.org>
	<006b01c52e80$be82ec70$6e01a8c0@sixfour>
Message-ID: <1111457328.19621.16.camel@portnoy.fuzzybelly.org>

On Mon, 2005-03-21 at 20:44 -0500, David Chait wrote:
> Since ryan was pointing out 'low impact easy kills' that included a new hook 
> or two, I finally threw my outstanding request for an "ORDER BY" query hook 
> into Mantis.  Certainly not a requirement, but it means we can do 'Sticky 
> posts' without really icky hacks, and my PostOrder plugin will go beyond 
> that and offer 'explicit order stickies' too... ;)
> 
> While I'm definitely one against feature creep, it's two new lines & a mod 
> to the query/lookup, and it's 100% in-line with the existing hooks for the 
> query string.

Booyah!

http://trac.wordpress.org/changeset/2466

Ryan

From skippy at skippy.net  Tue Mar 22 02:11:45 2005
From: skippy at skippy.net (Scott Merrill)
Date: Tue Mar 22 02:11:47 2005
Subject: [wp-hackers] 1.5.1 follow-up
Message-ID: <423F7EE1.9080909@skippy.net>

Great work, folks, on the bug fixes!  Keep it up!

My only request is that we _not_ release 1.5.1 on the 1st of April, for 
obvious reasons.  =)

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From ringmaster at midnightcircus.com  Tue Mar 22 02:16:29 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Mar 22 02:17:15 2005
Subject: [wp-hackers] Plugins using hardcoded table prefix
In-Reply-To: <423F766F.2040605@gmail.com>
References: <1e74d0c605032022472e2d4c50@mail.gmail.com>	<423E8CB2.9070604@txfx.net>
	<423F766F.2040605@gmail.com>
Message-ID: <423F7FFD.3070101@midnightcircus.com>

Ryan Mack wrote:

> Perhaps a plug-in development best practices page in the Codex is in 
> order?  I know I'd like to have a list of dos and don'ts.

Some similar advice is riddled throughout Codex in the Developer 
Documentation section.  You are welcome to contribute to the cause.  
See: http://codex.wordpress.org/Writing_a_Plugin#Coding_Best_Practices

Ask at wp-docs if you have doubts.

Owen

From timeistight at gmail.com  Tue Mar 22 02:41:38 2005
From: timeistight at gmail.com (Arthur Jennings)
Date: Tue Mar 22 02:41:50 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <423F4793.4000800@txfx.net>
References: <423ED893.1050602@skippy.net>
	<1111422545.4710.4.camel@portnoy.fuzzybelly.org>
	<423F2690.5000705@mullenweg.com> <423F4305.3010609@tamba2.org.uk>
	<423F4793.4000800@txfx.net>
Message-ID: <e31b0bf805032118415a270ebd@mail.gmail.com>

That would be very cool!!


On Mon, 21 Mar 2005 17:15:47 -0500, Mark Jaquith
<mark.wordpress@txfx.net> wrote:
> Podz wrote:
> 
> > Matt Mullenweg wrote:
> >  > Podz or Craig may be able to point out a few others.
> >
> > The only one that springs to mind right now is link updating. I've got
> > a 1.5.1 from late last week and the category I would like sorted by
> > Updated does not do that. It has been the subject of a few posts, most
> > notably the "Forum post" I made here a few days ago.
> 
> I agree... but I don't think going back to changes.xml is an option.  I
> brought a dedicated server to its knees with that.  Seems like the
> Ping-O-Matic interface is good... they just need to get Ping-O-Matic to
> download and parse changes.xml files from Blogrolling.com et al.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
Arthur Jennings
http://www.timeistight.com
From ringmaster at midnightcircus.com  Tue Mar 22 02:42:45 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Mar 22 02:43:31 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <423F7D42.6020106@midnightcircus.com>
References: <423ED893.1050602@skippy.net>	<1111422545.4710.4.camel@portnoy.fuzzybelly.org>	<423EF68C.1090800@coldforged.org>	<423F2C24.4010009@txfx.net>	<1111451560.4710.19.camel@portnoy.fuzzybelly.org>	<1111453867.19621.14.camel@portnoy.fuzzybelly.org>
	<423F7D42.6020106@midnightcircus.com>
Message-ID: <423F8625.2000502@midnightcircus.com>

I wrote:

> Still working...

Added bugnote for 1077.  Essentially, stripping the "]]>" from 
the_content() prevents "]]>" from breaking feeds when it's output.  On 
further thought, a fix might be to check is_feed() before stripping.  
That would probably work.

And that might be it for me tonight.  Maybe.

Owen


From mark.wordpress at txfx.net  Tue Mar 22 02:57:45 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Tue Mar 22 02:57:32 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <a491f91d050321173436cc0073@mail.gmail.com>
References: <423ED893.1050602@skippy.net>	<1111422545.4710.4.camel@portnoy.fuzzybelly.org>	<423EF68C.1090800@coldforged.org>
	<423F2C24.4010009@txfx.net>	<1111451560.4710.19.camel@portnoy.fuzzybelly.org>	<1111453867.19621.14.camel@portnoy.fuzzybelly.org>
	<a491f91d050321173436cc0073@mail.gmail.com>
Message-ID: <423F89A9.3030101@txfx.net>

Robert Deaton wrote:

>Also, the recent bug brought up on the testers list with future posts
>always showing as scheduled 8 or more hours in the future, I haven't
>had time to look at the human_time_diff function to see where the bug
>might be though.
>
My patch fixes it by subtracting the GMT offset from the first thing 
passed to the human_time_diff() function (not in the function, in 
/wp-admin/index.php where it passes parameters to it).
http://mosquito.wordpress.org/view.php?id=1075

It isn't making sense to me... by subtracting time from the "now" time, 
shouldn't that make the time between "now" and the future date bigger?  
Adding the offset back in (or switching to 0 the GMT switch in 
current_time()) makes my offset go from 5 hours to 10 hours (off by 
double my GMT offset).  Anyway... I don't have to understand it. :-)

Copy-pasting follow-up on [wp-testers]
From jeff at jrm.cc  Tue Mar 22 05:51:14 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Tue Mar 22 05:51:23 2005
Subject: [wp-hackers] 1.5.1 follow-up
In-Reply-To: <423F7EE1.9080909@skippy.net>
References: <423F7EE1.9080909@skippy.net>
Message-ID: <423FB252.8000800@jrm.cc>

Scott Merrill wrote:
> My only request is that we _not_ release 1.5.1 on the 1st of April, for 
> obvious reasons.  =)

Awwww! Come on!

From dmhouse at gmail.com  Tue Mar 22 13:33:13 2005
From: dmhouse at gmail.com (David House)
Date: Tue Mar 22 13:33:29 2005
Subject: [wp-hackers] New Members - "May submit drafts for review" and
	delete them?
In-Reply-To: <4238DF5D.3070400@jrm.cc>
References: <4238C602.3010604@jrm.cc>
	<1111021683.3727.32.camel@portnoy.fuzzybelly.org>
	<4238DF5D.3070400@jrm.cc>
Message-ID: <ebe43d6805032205334f6079e8@mail.gmail.com>

On Wed, 16 Mar 2005 17:37:33 -0800, jeff@jrm.cc <jeff@jrm.cc> wrote:
> As for versioning - forget it. Way, *WAY* too involved a process to
> build of top of what we've already got going in WP.

It doesn't have to be a full versioning system with repositories, tags
and branches! All that's required is, in my opinion, a way to allow a
low-level user to make ammendments to an entry, submit the changes for
approval whilst keeping the originally approved entry live. We don't
want to pull down the live version of any entry that happens to be
under redraft status: otherwise permalinks break and we get link rot
(surely?).

-- 
-David House, dmhouse@gmail.com
From dmhouse at gmail.com  Tue Mar 22 13:41:57 2005
From: dmhouse at gmail.com (David House)
Date: Tue Mar 22 13:42:16 2005
Subject: [wp-hackers] Plugins using hardcoded table prefix
In-Reply-To: <423EBB33.6000807@midnightcircus.com>
References: <1e74d0c605032022472e2d4c50@mail.gmail.com>
	<423E8CB2.9070604@txfx.net> <423E91BF.9080408@alexking.org>
	<423E95C0.5020607@txfx.net> <423EBB33.6000807@midnightcircus.com>
Message-ID: <ebe43d680503220541603b83c8@mail.gmail.com>

> This works:
> 
> $sql = "SELECT * FROM {$wpdb->posts} WHERE ...";

Not necessary. You can use the $object->property syntax from inside
double quotes as well, as stated in the PHP documentation [1]:

"Similarly, you can also have an array index OR AN OBJECT PROPERTY parsed."

Emphasis mine. An example is also given:

// Works
echo "This square is $square->width meters broad.";

[1]: http://www.php.net/manual/en/language.types.string.php#language.types.string.parsing.simple

-- 
-David House, dmhouse@gmail.com
From ringmaster at midnightcircus.com  Tue Mar 22 14:02:52 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Mar 22 13:56:41 2005
Subject: [wp-hackers] Plugins using hardcoded table prefix
In-Reply-To: <ebe43d680503220541603b83c8@mail.gmail.com>
References: <1e74d0c605032022472e2d4c50@mail.gmail.com>	<423E8CB2.9070604@txfx.net>
	<423E91BF.9080408@alexking.org>	<423E95C0.5020607@txfx.net>
	<423EBB33.6000807@midnightcircus.com>
	<ebe43d680503220541603b83c8@mail.gmail.com>
Message-ID: <4240258C.2040303@midnightcircus.com>

David House wrote:
>>This works:
>>
>>$sql = "SELECT * FROM {$wpdb->posts} WHERE ...";
> 
> Not necessary. You can use the $object->property syntax from inside
> double quotes as well, as stated in the PHP documentation:

True, yet I should have made it more apparent (and relevant to the 
thread) that without the above syntax, this is difficult:

$sql = "SELECT * FROM {$table_prefix}my_plugin_table";

Stylistically, I like to keep all of my in-double-quote variable 
references inside braces because I can scan for them visually a bit 
easier and they're easier to copy and paste into places where braces 
would be required.  But I admit that I have certain quirks I like to 
adhere to as a personal standard.  ;)

Owen

From podz at tamba2.org.uk  Tue Mar 22 17:04:28 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Mar 22 17:05:01 2005
Subject: [wp-hackers] WP Spam Fault
Message-ID: <4240501C.8040608@tamba2.org.uk>

Running 1.5.1
In my Comment Blacklist I have
terashells
tigerspice

If I post as a new user to my blog, and put this in the comment text
www.tera<font>shells.com
then the comments sails through, and when I go to edit this (or view the 
comment), WP has stripped the tag, leaving a clean url.

Just seems odd that the "Kill on sight" list can be worked around so 
easily ?

P.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050322/3668d207/signature.bin
From dougal at gunters.org  Tue Mar 22 18:13:01 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Tue Mar 22 18:13:07 2005
Subject: [wp-hackers] WP Spam Fault
In-Reply-To: <4240501C.8040608@tamba2.org.uk>
References: <4240501C.8040608@tamba2.org.uk>
Message-ID: <4240602D.7050807@gunters.org>

Podz wrote:
> Running 1.5.1
> In my Comment Blacklist I have
> terashells
> tigerspice
> 
> If I post as a new user to my blog, and put this in the comment text
> www.tera<font>shells.com
> then the comments sails through, and when I go to edit this (or view the 
> comment), WP has stripped the tag, leaving a clean url.
> 
> Just seems odd that the "Kill on sight" list can be worked around so 
> easily ?

I can't duplicate this. I just tried it on my test blog, and it properly 
filed my comments as spam. I tried it both as a "new" user, and while 
logged in as admin.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From podz at tamba2.org.uk  Tue Mar 22 18:56:06 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Mar 22 18:56:13 2005
Subject: [wp-hackers] WP Spam Fault
In-Reply-To: <4240602D.7050807@gunters.org>
References: <4240501C.8040608@tamba2.org.uk> <4240602D.7050807@gunters.org>
Message-ID: <42406A46.4000009@tamba2.org.uk>

Dougal Campbell wrote:
  > I can't duplicate this. I just tried it on my test blog, and it 
properly
> filed my comments as spam. I tried it both as a "new" user, and while 
> logged in as admin.
> 

I have found what I believe to be the cause.
Email to Matt on it's way

P.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050322/43150b04/signature.bin
From jeff at jrm.cc  Tue Mar 22 19:27:19 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Tue Mar 22 19:27:26 2005
Subject: [wp-hackers] New Members - "May submit drafts for review" and
	delete them?
In-Reply-To: <ebe43d6805032205334f6079e8@mail.gmail.com>
References: <4238C602.3010604@jrm.cc>	<1111021683.3727.32.camel@portnoy.fuzzybelly.org>	<4238DF5D.3070400@jrm.cc>
	<ebe43d6805032205334f6079e8@mail.gmail.com>
Message-ID: <42407197.6050904@jrm.cc>

David House wrote:
> On Wed, 16 Mar 2005 17:37:33 -0800, jeff@jrm.cc <jeff@jrm.cc> wrote:
>>As for versioning - forget it. Way, *WAY* too involved a process to
>>build of top of what we've already got going in WP.
> 
> 
> It doesn't have to be a full versioning system with repositories, tags
> and branches! 

Of course not. Keep the original post, and create incremental diffs 
along the edit path. Mark the diffs as approved or not.

I'm not saying it should be super duper or anything, but it shouldn't be 
anything along the lines of "quick fix" for a problem (which is probably 
small) like this. If some kind of versioning system were to be put in 
place, why go half way?

I would believe that most people are running WP single user, and those 
that are running multiuser are likely trusted -- the writer/editor 
feature set is very powerful in a few cases, but not the majority. So 
including a half-implemented versioning system for a minority feature 
doesn't seem like a great idea. Not yet.

Jeff Minard
From lists at moins.de  Tue Mar 22 19:40:10 2005
From: lists at moins.de (Rainer Bendig aka Ny)
Date: Tue Mar 22 19:40:11 2005
Subject: [wp-hackers] 1.5.1 follow-up
In-Reply-To: <423F7EE1.9080909@skippy.net>
References: <423F7EE1.9080909@skippy.net>
Message-ID: <20050322194010.GA11208@localdomain>

Moin Moin Scott Merrill, *,

Scott Merrill wrote on Mar 21, 2005 at 09:11PM -0500:
> My only request is that we _not_ release 1.5.1 on the 1st of April, for 
> obvious reasons.  =)
Hmmm why not? it's a great date to release software :)
-- 
---------------------------------------------------------------------
Rainer Bendig aka "Ny" |  http://www.moins.de  | GnuPG-Key 0x41D44F10
From mark.wordpress at txfx.net  Tue Mar 22 19:51:34 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Tue Mar 22 19:51:18 2005
Subject: [wp-hackers] New Members - "May submit drafts for review" and
	delete them?
In-Reply-To: <42407197.6050904@jrm.cc>
References: <4238C602.3010604@jrm.cc>	<1111021683.3727.32.camel@portnoy.fuzzybelly.org>	<4238DF5D.3070400@jrm.cc>	<ebe43d6805032205334f6079e8@mail.gmail.com>
	<42407197.6050904@jrm.cc>
Message-ID: <42407746.9000004@txfx.net>

Jeff Minard wrote:

> Of course not. Keep the original post, and create incremental diffs 
> along the edit path. Mark the diffs as approved or not.
>
> I'm not saying it should be super duper or anything, but it shouldn't 
> be anything along the lines of "quick fix" for a problem (which is 
> probably small) like this. If some kind of versioning system were to 
> be put in place, why go half way?
>
> I would believe that most people are running WP single user, and those 
> that are running multiuser are likely trusted -- the writer/editor 
> feature set is very powerful in a few cases, but not the majority. So 
> including a half-implemented versioning system for a minority feature 
> doesn't seem like a great idea. Not yet.


Jeff, consider that the reason why WordPress might not be used in an 
untrusted writer/editor situation is because the software isn't yet 
really viable for such situations!  Chicken and the egg.  I think it's 
safe to say that this isn't even going to be considered for 1.5.1, but I 
really think it would be valuable for 1.6.  It may not be a function 
that is used by a majority of current WordPress users... I doubt many 
people are using the "Allow users to submit drafts" option... but 
consider how many new users might be brought in if WordPress could 
handle more eloquently untrusted author situations!  I don't think that 
is outside the scope of the project at all.  And I agree... if it is a 
choice between a half-assed versioning system now or a completely-assed 
versioning system later... I'll wait.  I'd rather leave the current 
"1/10th assed" version alone, and go the other 9/10ths of the way in one 
version.
From mrbrog at gmail.com  Tue Mar 22 20:45:42 2005
From: mrbrog at gmail.com (Mr.Brown)
Date: Tue Mar 22 20:45:45 2005
Subject: [wp-hackers] custom htaccess rules for photoblog
Message-ID: <b3522afe050322124538d6f14a@mail.gmail.com>

Hi all,
I wrote a custom photo album for my blog (I'm thinking to release it
as a plugin for WP, but I must complete the admin section).
Now I want to rewrite the URIs for the photo album, in this way

mysite.it/pics/?album=album1 should be: mysite.it/pics/album1/

and

mysite.it/pics/?album=album1&photo=photo1 should be:
mysite.it/pics/album1/photo1/

pics is a normal WP 1.5 page created using a custom template in which
I call some PHP functions for the photoblog.
Now I don't know exactly what rules I can use to do this... I already
have an .htaccess file working for my permalinks structure:

/%year%/%postname%.html

Can you help me to define the correct mod_rewrite rules?
Thanks! 
-- 
Mr.Brown
From kylev-wp at kylev.com  Tue Mar 22 21:03:29 2005
From: kylev-wp at kylev.com (Kyle VanderBeek)
Date: Tue Mar 22 21:03:34 2005
Subject: [wp-hackers] 1.5.1 follow-up
In-Reply-To: <20050322194010.GA11208@localdomain>
References: <423F7EE1.9080909@skippy.net> <20050322194010.GA11208@localdomain>
Message-ID: <20050322210329.GL3585@kylev.com>

On Tue, Mar 22, 2005 at 08:40:10PM +0100, Rainer Bendig aka Ny wrote:
> Moin Moin Scott Merrill, *,
> 
> Scott Merrill wrote on Mar 21, 2005 at 09:11PM -0500:
> > My only request is that we _not_ release 1.5.1 on the 1st of April, for 
> > obvious reasons.  =)
> Hmmm why not? it's a great date to release software :)

Only if you claim that 1.5.1 is feature-equal to 1.5, but ported to 
Java.

-- 
kylev@kylev.com
  Some people have a way with words, while others... erm... thingy.

From mark.wordpress at txfx.net  Tue Mar 22 22:07:16 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Tue Mar 22 22:06:53 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <1111453867.19621.14.camel@portnoy.fuzzybelly.org>
References: <423ED893.1050602@skippy.net>	<1111422545.4710.4.camel@portnoy.fuzzybelly.org>	<423EF68C.1090800@coldforged.org>
	<423F2C24.4010009@txfx.net>	<1111451560.4710.19.camel@portnoy.fuzzybelly.org>
	<1111453867.19621.14.camel@portnoy.fuzzybelly.org>
Message-ID: <42409714.4050208@txfx.net>

Got a Pingback bug here... I've been hearing rumors about it, but this 
is the first solid data I've gotten.

http://mosquito.wordpress.org/view.php?id=1154




Here's the short version:

Pingbacks fail to send. Turning on $debug = 1; and creating 
/pingback.log for writing reveals that this is the error:

> Fault code: 3 : Incorrect parameters passed to method: Wanted , got at 
> param )


This one is over my head... maybe Matt could look into it.

From ryan at theryanking.com  Tue Mar 22 22:23:02 2005
From: ryan at theryanking.com (Ryan King)
Date: Tue Mar 22 22:23:09 2005
Subject: [wp-hackers] 1.5.1 follow-up
In-Reply-To: <20050322210329.GL3585@kylev.com>
References: <423F7EE1.9080909@skippy.net> <20050322194010.GA11208@localdomain>
	<20050322210329.GL3585@kylev.com>
Message-ID: <ae376907ee3d01b63a918a58dc481731@theryanking.com>

On Mar 22, 2005, at 1:03 PM, Kyle VanderBeek wrote:

> On Tue, Mar 22, 2005 at 08:40:10PM +0100, Rainer Bendig aka Ny wrote:
>> Moin Moin Scott Merrill, *,
>>
>> Scott Merrill wrote on Mar 21, 2005 at 09:11PM -0500:
>>> My only request is that we _not_ release 1.5.1 on the 1st of April, 
>>> for
>>> obvious reasons.  =)
>> Hmmm why not? it's a great date to release software :)
>
> Only if you claim that 1.5.1 is feature-equal to 1.5, but ported to
> Java.

Or to .NET.

<shudder>

-ryan

--
http://theryanking.com/

From jeff at jrm.cc  Tue Mar 22 23:09:54 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Tue Mar 22 23:36:31 2005
Subject: [wp-hackers] New Members - "May submit drafts for review" and
	delete them?
In-Reply-To: <42407746.9000004@txfx.net>
References: <4238C602.3010604@jrm.cc>	<1111021683.3727.32.camel@portnoy.fuzzybelly.org>	<4238DF5D.3070400@jrm.cc>	<ebe43d6805032205334f6079e8@mail.gmail.com>	<42407197.6050904@jrm.cc>
	<42407746.9000004@txfx.net>
Message-ID: <4240A5C2.5020409@jrm.cc>

Mark Jaquith wrote:
> Jeff, consider that the reason why WordPress might not be used in an 
> untrusted writer/editor situation is because the software isn't yet 
> really viable for such situations!  

>  I'd rather leave the current 
> "1/10th assed" version alone, and go the other 9/10ths of the way in one 
> version.

Agreed. :)

Is there a "feature" request area or something around somewhere?

Jeff
From ryan at boren.nu  Wed Mar 23 01:03:42 2005
From: ryan at boren.nu (Ryan Boren)
Date: Wed Mar 23 01:03:45 2005
Subject: [wp-hackers] custom htaccess rules for photoblog
In-Reply-To: <b3522afe050322124538d6f14a@mail.gmail.com>
References: <b3522afe050322124538d6f14a@mail.gmail.com>
Message-ID: <1111539822.22092.4.camel@portnoy.fuzzybelly.org>

On Tue, 2005-03-22 at 21:45 +0100, Mr.Brown wrote:
> Hi all,
> I wrote a custom photo album for my blog (I'm thinking to release it
> as a plugin for WP, but I must complete the admin section).
> Now I want to rewrite the URIs for the photo album, in this way
> 
> mysite.it/pics/?album=album1 should be: mysite.it/pics/album1/

The attached example plugin might help.

Ryan
-------------- next part --------------
A non-text attachment was scrubbed...
Name: query_redirect_rewrite.php
Type: application/x-php
Size: 2192 bytes
Desc: not available
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050323/9c707708/query_redirect_rewrite.bin
From ringmaster at midnightcircus.com  Wed Mar 23 02:35:04 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Wed Mar 23 02:35:50 2005
Subject: [wp-hackers] custom htaccess rules for photoblog
In-Reply-To: <1111539822.22092.4.camel@portnoy.fuzzybelly.org>
References: <b3522afe050322124538d6f14a@mail.gmail.com>
	<1111539822.22092.4.camel@portnoy.fuzzybelly.org>
Message-ID: <4240D5D8.8070300@midnightcircus.com>

Ryan Boren wrote:

>On Tue, 2005-03-22 at 21:45 +0100, Mr.Brown wrote:
>  
>
>>Hi all,
>>I wrote a custom photo album for my blog (I'm thinking to release it
>>as a plugin for WP, but I must complete the admin section).
>>Now I want to rewrite the URIs for the photo album, in this way
>>
>>mysite.it/pics/?album=album1 should be: mysite.it/pics/album1/
>>    
>>
>The attached example plugin might help.
>  
>
To quote my furby, "Wah!"  (Translation: This sample rocks on toast.)

Owen


From mrbrog at gmail.com  Wed Mar 23 08:59:33 2005
From: mrbrog at gmail.com (Mr.Brown)
Date: Wed Mar 23 08:59:43 2005
Subject: [wp-hackers] custom htaccess rules for photoblog
In-Reply-To: <1111539822.22092.4.camel@portnoy.fuzzybelly.org>
References: <b3522afe050322124538d6f14a@mail.gmail.com>
	<1111539822.22092.4.camel@portnoy.fuzzybelly.org>
Message-ID: <b3522afe05032300591a300b76@mail.gmail.com>

Ryan Boren <ryan@boren.nu> wrote:
[cut]
> The attached example plugin might help.
> 
> Ryan

Thanks Ryan!
Finally I got the correct rules, with the help of skippy in #wordpress
IRC channel.
Now I'll try to use your example to integrate it in my plugin.
Thanks again!
-- 
Mr.Brown
From michelv at gmail.com  Wed Mar 23 11:31:57 2005
From: michelv at gmail.com (Michel Valdrighi)
Date: Wed Mar 23 11:32:10 2005
Subject: [wp-hackers] 1.5.1 ?
In-Reply-To: <1111422545.4710.4.camel@portnoy.fuzzybelly.org>
References: <423ED893.1050602@skippy.net>
	<1111422545.4710.4.camel@portnoy.fuzzybelly.org>
Message-ID: <125fee7f0503230331f4aa285@mail.gmail.com>

On Mon, 21 Mar 2005 10:29:05 -0600, Ryan Boren <ryan@boren.nu> wrote:
> Are there any "gotta have" bugs left?  I don't see any release blockers.
> Maybe we could do a release candidate, get this list and the testers
> list to bang on it, and follow up with 1.5.1-final shortly thereafter.

I would just love to see bug 1157 fixed.
Haven't found anything about it in Mosquito, which surprised me quite a bit.

-- 
Michel Valdrighi
Dev?loppeur Web Intraordinaire
http://zengun.org/weblog/
From rummanddan at gmail.com  Wed Mar 23 14:25:42 2005
From: rummanddan at gmail.com (Dan Thrue)
Date: Wed Mar 23 14:25:48 2005
Subject: [wp-hackers] get_posts orderby and order patch
Message-ID: <478a1cee05032306251dc08f30@mail.gmail.com>

I have submitted a bug and a small patch, as I was in need to use the
order and orderby fields in the get_posts function.

http://mosquito.wordpress.org/view.php?id=1161

Is this the generel practice on submitting patches into wordpress?

Regards all,
Dan
From dmhouse at gmail.com  Wed Mar 23 16:59:40 2005
From: dmhouse at gmail.com (David House)
Date: Wed Mar 23 16:59:50 2005
Subject: [wp-hackers] New Members - "May submit drafts for review" and
	delete them?
In-Reply-To: <4240A5C2.5020409@jrm.cc>
References: <4238C602.3010604@jrm.cc>
	<1111021683.3727.32.camel@portnoy.fuzzybelly.org>
	<4238DF5D.3070400@jrm.cc> <ebe43d6805032205334f6079e8@mail.gmail.com>
	<42407197.6050904@jrm.cc> <42407746.9000004@txfx.net>
	<4240A5C2.5020409@jrm.cc>
Message-ID: <ebe43d68050323085969b4aebd@mail.gmail.com>

> Is there a "feature" request area or something around somewhere?

http://mosquito.wordpress.org

Set the severity to 'Feature'.

-- 
-David House, dmhouse@gmail.com
From ringmaster at midnightcircus.com  Wed Mar 23 20:46:48 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Wed Mar 23 20:41:23 2005
Subject: [wp-hackers] Thoughts on Dict.
Message-ID: <4241D5B8.7060800@midnightcircus.com>

How would folks feel about changing the Dict. button functionality to 
use Answers.com instead of the popup-riddled dictionary.com?

Just a thought I had.

Owen

From carlamichele at gmail.com  Wed Mar 23 20:42:43 2005
From: carlamichele at gmail.com (Carla Hufstedler)
Date: Wed Mar 23 20:42:55 2005
Subject: [wp-hackers] Thoughts on Dict.
In-Reply-To: <4241D5B8.7060800@midnightcircus.com>
References: <4241D5B8.7060800@midnightcircus.com>
Message-ID: <6015a28505032312427aeba73d@mail.gmail.com>

On Wed, 23 Mar 2005 15:46:48 -0500, Owen Winkler
<ringmaster@midnightcircus.com> wrote:
> How would folks feel about changing the Dict. button functionality to
> use Answers.com instead of the popup-riddled dictionary.com?

Sounds lovely to me. Or perhaps even dict.org?

O:) Carla

-- 
horror literature:
http://www.hauntedpalace.net/library/shelves/subjects-genres/horror/
horror literature discussion list:
http://www.cavesofice.org/mailman/listinfo/grimoire
grimoire @ cafepress: http://www.cafepress.com/grimoire
From false.hopes at gmail.com  Wed Mar 23 20:48:06 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Wed Mar 23 20:48:14 2005
Subject: [wp-hackers] 1.5.1 follow-up
In-Reply-To: <ae376907ee3d01b63a918a58dc481731@theryanking.com>
References: <423F7EE1.9080909@skippy.net> <20050322194010.GA11208@localdomain>
	<20050322210329.GL3585@kylev.com>
	<ae376907ee3d01b63a918a58dc481731@theryanking.com>
Message-ID: <a491f91d0503231248166dcfba@mail.gmail.com>

We could also release a WordPress XP on April 1st, coded in
VisualBasic.NET and running on windows, mac, and linux :D


On Tue, 22 Mar 2005 14:23:02 -0800, Ryan King <ryan@theryanking.com> wrote:
> On Mar 22, 2005, at 1:03 PM, Kyle VanderBeek wrote:
> 
> > On Tue, Mar 22, 2005 at 08:40:10PM +0100, Rainer Bendig aka Ny wrote:
> >> Moin Moin Scott Merrill, *,
> >>
> >> Scott Merrill wrote on Mar 21, 2005 at 09:11PM -0500:
> >>> My only request is that we _not_ release 1.5.1 on the 1st of April,
> >>> for
> >>> obvious reasons.  =)
> >> Hmmm why not? it's a great date to release software :)
> >
> > Only if you claim that 1.5.1 is feature-equal to 1.5, but ported to
> > Java.
> 
> Or to .NET.
> 
> <shudder>
> 
> -ryan
> 
> --
> http://theryanking.com/
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://anothersadsong.com
From pete.prodoehl at cygnusinteractive.com  Wed Mar 23 21:40:03 2005
From: pete.prodoehl at cygnusinteractive.com (Pete Prodoehl)
Date: Wed Mar 23 21:40:17 2005
Subject: [wp-hackers] 1.5.1 follow-up
In-Reply-To: <a491f91d0503231248166dcfba@mail.gmail.com>
References: <423F7EE1.9080909@skippy.net>
	<20050322194010.GA11208@localdomain>	<20050322210329.GL3585@kylev.com>	<ae376907ee3d01b63a918a58dc481731@theryanking.com>
	<a491f91d0503231248166dcfba@mail.gmail.com>
Message-ID: <4241E233.7090403@cygnusinteractive.com>

Robert Deaton wrote:
> 
> On Tue, 22 Mar 2005 14:23:02 -0800, Ryan King <ryan@theryanking.com> wrote:
> 
>>On Mar 22, 2005, at 1:03 PM, Kyle VanderBeek wrote:
>>
>>
>>>On Tue, Mar 22, 2005 at 08:40:10PM +0100, Rainer Bendig aka Ny wrote:
>>>
>>>>Moin Moin Scott Merrill, *,
>>>>
>>>>Scott Merrill wrote on Mar 21, 2005 at 09:11PM -0500:
>>>>
>>>>>My only request is that we _not_ release 1.5.1 on the 1st of April,
>>>>>for
>>>>>obvious reasons.  =)
>>>>
>>>>Hmmm why not? it's a great date to release software :)
>>>
>>>Only if you claim that 1.5.1 is feature-equal to 1.5, but ported to
>>>Java.
>>
>>Or to .NET.
>>
>><shudder>

 > We could also release a WordPress XP on April 1st, coded in
 > VisualBasic.NET and running on windows, mac, and linux :D

So no one wants to help me with my "WordPress on Rails" project?

Pete


From jeff at jrm.cc  Wed Mar 23 22:09:09 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Wed Mar 23 22:09:19 2005
Subject: [wp-hackers] 1.5.1 follow-up
In-Reply-To: <a491f91d0503231248166dcfba@mail.gmail.com>
References: <423F7EE1.9080909@skippy.net>
	<20050322194010.GA11208@localdomain>	<20050322210329.GL3585@kylev.com>	<ae376907ee3d01b63a918a58dc481731@theryanking.com>
	<a491f91d0503231248166dcfba@mail.gmail.com>
Message-ID: <4241E905.605@jrm.cc>

Robert Deaton wrote:
> We could also release a WordPress XP on April 1st, coded in
> VisualBasic.NET and running on windows, mac, and linux :D

Yeah,

       WordXPress

Sweet!
From mark at coffeebear.net  Wed Mar 23 23:24:13 2005
From: mark at coffeebear.net (Mark McKibben)
Date: Wed Mar 23 23:24:41 2005
Subject: [wp-hackers] 1.5.1 follow-up
In-Reply-To: <a491f91d0503231248166dcfba@mail.gmail.com>
References: <423F7EE1.9080909@skippy.net>
	<ae376907ee3d01b63a918a58dc481731@theryanking.com>
	<a491f91d0503231248166dcfba@mail.gmail.com>
Message-ID: <200503231724.21375.mark@coffeebear.net>

On Wednesday 23 March 2005 02:48 pm, Robert Deaton wrote:
> We could also release a WordPress XP on April 1st, coded in
> VisualBasic.NET and running on windows, mac, and linux :D:D

It takes a sick, sick mind to even consider such a thing.  :p
-- 
Mark McKibben
http://coffeebear.net/

"You cannot depend on your eyes when your imagination is out of focus."
?- Mark Twain (1835 - 1910)
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050323/2b8df701/attachment.bin
From ryan at ryanduff.net  Wed Mar 23 23:41:52 2005
From: ryan at ryanduff.net (Ryan Duff)
Date: Wed Mar 23 23:36:38 2005
Subject: [wp-hackers] 1.5.1 follow-up
In-Reply-To: <200503231724.21375.mark@coffeebear.net>
Message-ID: <20050323233631.296FBAA8E@comox.textdrive.com>

On Wednesday 23 March 2005 02:48 pm, Robert Deaton wrote:
> We could also release a WordPress XP on April 1st, coded in 
> VisualBasic.NET and running on windows, mac, and linux :D:D

Where can I get a copy??? I want to be the first to use it! :P

Ryan Duff
http://ryanduff.net
AIM: ryancduff
irc.freenode.net #wordpress, #wp-docs


-- 
---------------------[ Ciphire Signature ]----------------------
From: ryan@ryanduff.net signed email body (271 characters)
Date: on 23 March 2005 at 23:36:58 UTC
To:   wp-hackers@lists.automattic.com
----------------------------------------------------------------
: Ciphire has secured this email against identity theft.
: Free download at www.ciphire.com. The garbled lines
: below are the sender's verifiable digital signature.
----------------------------------------------------------------
00fAAAAAEAAACa/UFCDwEAAKcCAAIAAgACACDBOKnbH61l13R+NDPJzhWMtYeFU/
YUXB85ybxV9sT/9gEAHlBlxTqhocYCMLZ1dm8nsddcIk/MBxN4Hs5QOKnL02UgMO
ktjU9ycZtVtyh6w2qjcx7vy6TyY+S8kOlSBrSSnQ==
------------------[ End Ciphire Signed Message ]----------------

From ryan at theryanking.com  Wed Mar 23 23:36:31 2005
From: ryan at theryanking.com (Ryan King)
Date: Wed Mar 23 23:36:42 2005
Subject: [wp-hackers] wordpress announcement video
Message-ID: <6c7a0dcc6796f0db138ced068c9391c5@theryanking.com>

Sorry for the cross-post and slightly off-topic-ness of this...

But for those who weren't able to attend the WP100k party last night,  
I've got video of Matt and Jonas' announcement:

http://theryanking.com/blog/archives/2005/03/23/a-wordpress- 
announcement/

Feel free to mirror the video (but I still have plenty of transfer  
available).

-ryan

--
http://theryanking.com/

From lists at alexking.org  Thu Mar 24 00:30:27 2005
From: lists at alexking.org (Alex King)
Date: Thu Mar 24 00:30:41 2005
Subject: [wp-hackers] Thoughts on Dict.
In-Reply-To: <6015a28505032312427aeba73d@mail.gmail.com>
References: <4241D5B8.7060800@midnightcircus.com>
	<6015a28505032312427aeba73d@mail.gmail.com>
Message-ID: <42420A23.5060501@alexking.org>

I can't get dict.org to lead, but I agree the answers.com results sure 
look nice. I'm going to change this in my QuickTags code.

Matt, if you want to give me SVN access, I'll change it there too.

Cheers,
--Alex

Carla Hufstedler wrote:
> On Wed, 23 Mar 2005 15:46:48 -0500, Owen Winkler
> <ringmaster@midnightcircus.com> wrote:
> 
>>How would folks feel about changing the Dict. button functionality to
>>use Answers.com instead of the popup-riddled dictionary.com?
> 
> 
> Sounds lovely to me. Or perhaps even dict.org?
> 
> O:) Carla
> 
From ringmaster at midnightcircus.com  Thu Mar 24 02:03:00 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Thu Mar 24 02:03:51 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <20050324012622.022C1A9FA@comox.textdrive.com>
References: <20050324012622.022C1A9FA@comox.textdrive.com>
Message-ID: <42421FD4.5070305@midnightcircus.com>

Uh...  What's this now?

m@wordpress.org wrote:

>
>@@ -132,7 +132,7 @@
> ,'t'
> ,-1
> );
>-
>+/*
> edButtons[edButtons.length] = 
> new edButton('ed_next'
> ,'page'
>@@ -141,7 +141,7 @@
> ,'p'
> ,-1
> );
>-
>+*/
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050324/2777e1f1/attachment.html
From false.hopes at gmail.com  Thu Mar 24 03:06:27 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Mar 24 03:06:41 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <42421FD4.5070305@midnightcircus.com>
References: <20050324012622.022C1A9FA@comox.textdrive.com>
	<42421FD4.5070305@midnightcircus.com>
Message-ID: <a491f91d05032319062f5ceeb5@mail.gmail.com>

Looks to me like he's changing the titles of the quicktag buttons,
from "str" for strong to "b" and "em" for italics to "i"


On Wed, 23 Mar 2005 21:03:00 -0500, Owen Winkler
<ringmaster@midnightcircus.com> wrote:
>  Uh...  What's this now?
> 
>  
>  m@wordpress.org wrote: 
>  
>  
>  @@ -132,7 +132,7 @@ ,'t' ,-1 ); - +/* edButtons[edButtons.length] = new
> edButton('ed_next' ,'page' @@ -141,7 +141,7 @@ ,'p' ,-1 ); - +*/ 
>  
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 


-- 
--Robert Deaton
http://anothersadsong.com
From false.hopes at gmail.com  Thu Mar 24 03:08:21 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Mar 24 03:08:36 2005
Subject: [wp-hackers] Thoughts on Dict.
In-Reply-To: <42420A23.5060501@alexking.org>
References: <4241D5B8.7060800@midnightcircus.com>
	<6015a28505032312427aeba73d@mail.gmail.com>
	<42420A23.5060501@alexking.org>
Message-ID: <a491f91d05032319083ec198@mail.gmail.com>

I wouldn't go with dict.org, as they don't even have their domain
properly set up. going to http://dict.org gives a connection refused,
while http://www.dict.org works fine. Makes you wonder a little bit
about how good it would be to use it....


On Wed, 23 Mar 2005 17:30:27 -0700, Alex King <lists@alexking.org> wrote:
> I can't get dict.org to lead, but I agree the answers.com results sure
> look nice. I'm going to change this in my QuickTags code.
> 
> Matt, if you want to give me SVN access, I'll change it there too.
> 
> Cheers,
> --Alex
> 
> Carla Hufstedler wrote:
> > On Wed, 23 Mar 2005 15:46:48 -0500, Owen Winkler
> > <ringmaster@midnightcircus.com> wrote:
> >
> >>How would folks feel about changing the Dict. button functionality to
> >>use Answers.com instead of the popup-riddled dictionary.com?
> >
> >
> > Sounds lovely to me. Or perhaps even dict.org?
> >
> > O:) Carla
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://anothersadsong.com
From ringmaster at midnightcircus.com  Thu Mar 24 03:09:56 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Thu Mar 24 03:10:54 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <a491f91d05032319062f5ceeb5@mail.gmail.com>
References: <20050324012622.022C1A9FA@comox.textdrive.com>	<42421FD4.5070305@midnightcircus.com>
	<a491f91d05032319062f5ceeb5@mail.gmail.com>
Message-ID: <42422F84.6080901@midnightcircus.com>

Robert Deaton wrote:

>Looks to me like he's changing the titles of the quicktag buttons,
>from "str" for strong to "b" and "em" for italics to "i"
>  
>
The part of the diff I quoted removes the Next Page button.

Owen


From albert+wphackers at cdr.se  Thu Mar 24 04:30:01 2005
From: albert+wphackers at cdr.se (Albert Holm)
Date: Thu Mar 24 04:30:21 2005
Subject: [wp-hackers] Thoughts on Dict.
In-Reply-To: <a491f91d05032319083ec198@mail.gmail.com>
References: <4241D5B8.7060800@midnightcircus.com>
	<6015a28505032312427aeba73d@mail.gmail.com>
	<42420A23.5060501@alexking.org>
	<a491f91d05032319083ec198@mail.gmail.com>
Message-ID: <op.sn4j4bl025np9q@golf.bredbandsbolaget.se>

Den 2005-03-24 04:08:21 skrev Robert Deaton <false.hopes@gmail.com>:

> I wouldn't go with dict.org, as they don't even have their domain
> properly set up. going to http://dict.org gives a connection refused,
> while http://www.dict.org works fine. Makes you wonder a little bit
> about how good it would be to use it....

Is that a bad thing? Replying to dict.org would mean that there is a host  
named dict in the org zone which I doubt they can control. There is a host  
www in the dict.org zone though.

I have no idea how good either alternative is in what they answer for  
different words, but this should not stop dict.org for qualifying for the  
job.

/Albert
From albert+wphackers at cdr.se  Thu Mar 24 04:39:06 2005
From: albert+wphackers at cdr.se (Albert Holm)
Date: Thu Mar 24 04:39:23 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <20050324012622.022C1A9FA@comox.textdrive.com>
References: <20050324012622.022C1A9FA@comox.textdrive.com>
Message-ID: <op.sn4kjgjk25np9q@golf.bredbandsbolaget.se>

Den 2005-03-24 02:26:22 skrev <m@wordpress.org>:

> Revision:
>
> 2476


> edButtons[edButtons.length] =
>  new edButton('ed_strong'
>
> -,'str'
>
> +,'b'
>
>  ,'<strong>'
>  ,'</strong>'
>  ,'b'


> edButtons[edButtons.length] =
>  new edButton('ed_em'
>
> -,'em'
>
> +,'i'
>
>  ,'<em>'
>  ,'</em>'
>  ,'i'
>

As Robert pointed out in another reply, the buttons says bold and italic,
and the output is strong and em. I really wonder why that is.

/Albert
From albert+wphackers at cdr.se  Thu Mar 24 04:41:11 2005
From: albert+wphackers at cdr.se (Albert Holm)
Date: Thu Mar 24 04:41:29 2005
Subject: [wp-hackers] Sourceforge project
Message-ID: <op.sn4kmxfn25np9q@golf.bredbandsbolaget.se>

Should something be done about the cafelog sourceforge project  
<URL:http://sourceforge.net/projects/cafelog>? Wordpress 1.2.1 was  
released there, but since then development has moved away from  
sourceforge. Should the project description change to reflect this? I  
doubt anyone looking for Wordpress will find the cafelog project at  
sourceforge without looking explicitly for it there considering all the  
other good resources at <URL:http://www.wordpress.org/> but it might be a  
good idea anyway.

/Albert
From mark.wordpress at txfx.net  Thu Mar 24 04:47:21 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Thu Mar 24 04:47:05 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <op.sn4kjgjk25np9q@golf.bredbandsbolaget.se>
References: <20050324012622.022C1A9FA@comox.textdrive.com>
	<op.sn4kjgjk25np9q@golf.bredbandsbolaget.se>
Message-ID: <42424659.6080600@txfx.net>

lbert Holm wrote:

> As Robert pointed out in another reply, the buttons says bold and italic,
> and the output is strong and em. I really wonder why that is.

Probably for legacy reasons.  "strong" and "em" don't really mean much 
to someone who hasn't been actively involved in making semantic websites 
recently.  So this keeps the semantic "strong" and "em" in the actual 
output, but labels them so that anyone who has used a word processor 
knows what they are for.
From leon at lostrealm.com  Thu Mar 24 05:19:05 2005
From: leon at lostrealm.com (Leon Blackwell)
Date: Thu Mar 24 05:19:21 2005
Subject: [wp-hackers] Thoughts on Dict.
In-Reply-To: <op.sn4j4bl025np9q@golf.bredbandsbolaget.se>
References: <4241D5B8.7060800@midnightcircus.com>
	<6015a28505032312427aeba73d@mail.gmail.com>
	<42420A23.5060501@alexking.org>
	<a491f91d05032319083ec198@mail.gmail.com>
	<op.sn4j4bl025np9q@golf.bredbandsbolaget.se>
Message-ID: <20050324051905.GD18033@grail.lostrealm.com>

On Thu, Mar 24, 2005 at 05:30:01AM +0100, Albert Holm wrote:
> Replying to dict.org would mean that there is a host  named dict in
> the org zone which I doubt they can control.

Yes, because adding A records to your own zone is so terribly difficult.

</sarcasm>

The fact is that dict.org already has an A record, but they have
misconfigured it:

# host dict.org
dict.org                A       72.36.131.186
# host www.dict.org
www.dict.org            CNAME   miranda.org
miranda.org             A       209.58.150.153

That's a bad use of a CNAME too.


-- 
 Leon Blackwell                | There are only 10 types of people in
 http://the.lostrealm.com/     | the world; those who understand binary
 jabber:lionfire@lostrealm.com | and those who don't.
From craig at nuclearmoose.com  Thu Mar 24 06:34:41 2005
From: craig at nuclearmoose.com (Craig Hartel)
Date: Thu Mar 24 06:35:10 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <42424659.6080600@txfx.net>
References: <20050324012622.022C1A9FA@comox.textdrive.com>	<op.sn4kjgjk25np9q@golf.bredbandsbolaget.se>
	<42424659.6080600@txfx.net>
Message-ID: <42425F81.7000208@nuclearmoose.com>

Put <b> and <i> in the quicktags and output them as bold and italic. WordPress 
professes to be a semantic platform, so it should not show one thing, <b>, while 
output is actually <strong>.

Craig.
From jeff at jrm.cc  Thu Mar 24 06:36:03 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Thu Mar 24 06:36:18 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <42424659.6080600@txfx.net>
References: <20050324012622.022C1A9FA@comox.textdrive.com>	<op.sn4kjgjk25np9q@golf.bredbandsbolaget.se>
	<42424659.6080600@txfx.net>
Message-ID: <42425FD3.90409@jrm.cc>

Mark Jaquith wrote:
> lbert Holm wrote:
> 
>> As Robert pointed out in another reply, the buttons says bold and italic,
>> and the output is strong and em. I really wonder why that is.
> 
> 
> Probably for legacy reasons.  "strong" and "em" don't really mean much 
> to someone who hasn't been actively involved in making semantic websites 
> recently.  

Additionally, the shortcuts are Alt-B and Alt-I, not Alt-S and Alt-I. So 
this does sorta make sense. I don't know if I agree that taking this 
approach is a good idea as WP is all about the semantic, new way of 
things - but I can see the justification.

Jeff

From carthik at gmail.com  Thu Mar 24 07:49:10 2005
From: carthik at gmail.com (Carthik Sharma)
Date: Thu Mar 24 07:49:22 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <42425FD3.90409@jrm.cc>
References: <20050324012622.022C1A9FA@comox.textdrive.com>
	<op.sn4kjgjk25np9q@golf.bredbandsbolaget.se>
	<42424659.6080600@txfx.net> <42425FD3.90409@jrm.cc>
Message-ID: <80f75db05032323495df2f0@mail.gmail.com>

Looks like everyone's missing Owen's point : His question was as to
why the "next page" functionality's been (temporarily ?) scrapped.

Carthik.


On Wed, 23 Mar 2005 22:36:03 -0800, Jeff Minard <jeff@jrm.cc> wrote:
> Mark Jaquith wrote:
> > lbert Holm wrote:
From mpt at myrealbox.com  Thu Mar 24 09:02:48 2005
From: mpt at myrealbox.com (Matthew Thomas)
Date: Thu Mar 24 09:03:05 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
In-Reply-To: <42424659.6080600@txfx.net>
References: <20050324012622.022C1A9FA@comox.textdrive.com>	<op.sn4kjgjk25np9q@golf.bredbandsbolaget.se>
	<42424659.6080600@txfx.net>
Message-ID: <42428238.9000103@myrealbox.com>

Mark Jaquith wrote:
 >
> [A]lbert Holm wrote:
> > 
> > As Robert pointed out in another reply, the buttons says bold and
 > > italic, and the output is strong and em. I really wonder why that is.
> 
> Probably for legacy reasons.  "strong" and "em" don't really mean much 
> to someone who hasn't been actively involved in making semantic websites 
> recently.  So this keeps the semantic "strong" and "em" in the actual 
> output, but labels them so that anyone who has used a word processor 
> knows what they are for.

I know this wasn't the point of the thread, but ... Please don't do 
that. That'll just result in people using <em> when they really mean 
<cite> or <var>, and <strong> when they really mean <h2> or <h3> or 
<th>. The end result will be that <em> and <strong> become semantically 
meaningless -- non-graphical UAs won't be able to tell whether they're 
supposed to be emphasized or not.

<http://mpt.net.nz/archive/2004/05/02/b-and-i>

-- 
Matthew Thomas
http://mpt.net.nz/
From nbachiyski at developer.bg  Thu Mar 24 10:28:30 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Thu Mar 24 10:22:41 2005
Subject: [wp-hackers] Thoughts on Dict.
In-Reply-To: <4241D5B8.7060800@midnightcircus.com>
References: <4241D5B8.7060800@midnightcircus.com>
Message-ID: <4242964E.7020906@developer.bg>

How about querying Wikipedia instead?

Nikolay

Owen Winkler wrote:
> How would folks feel about changing the Dict. button functionality to 
> use Answers.com instead of the popup-riddled dictionary.com?
> 
> Just a thought I had.
> 
> Owen
> 

From podz at tamba2.org.uk  Thu Mar 24 10:57:40 2005
From: podz at tamba2.org.uk (Podz)
Date: Thu Mar 24 10:58:14 2005
Subject: [wp-hackers] Thoughts on Dict.
In-Reply-To: <4242964E.7020906@developer.bg>
References: <4241D5B8.7060800@midnightcircus.com>
	<4242964E.7020906@developer.bg>
Message-ID: <42429D24.3050306@tamba2.org.uk>

Nikolay Bachiyski wrote:
> How about querying Wikipedia instead?
> 

I like this one !

In the forums I can recall two occasions where people requested that the 
thesaurus be added as a quicktag. It's not too much hassle to add a 
quicktag, but then equally it's not so much hassle to add a tag is it ?
I have a lot of tags which I sometimes find annoying given the space 
they take up and the fact they 'move' when used - but then that's my 
problem.. I do like the Wikipedia idea though.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050324/91e66603/signature.bin
From chmoka at gmail.com  Thu Mar 24 11:29:36 2005
From: chmoka at gmail.com (Peak Discharge)
Date: Thu Mar 24 11:29:49 2005
Subject: [wp-hackers] Thoughts on Dict.
In-Reply-To: <42429D24.3050306@tamba2.org.uk>
References: <4241D5B8.7060800@midnightcircus.com>
	<4242964E.7020906@developer.bg> <42429D24.3050306@tamba2.org.uk>
Message-ID: <ade92a0e05032403294e4eb899@mail.gmail.com>

Wikipedia is definitely a good idea but if it is to be implemented we
have to think about multilanguage support, since wikipedia is
available in many different languages. For example <wikipedia
lang="en">wordpress</wikipedia> would return the English definition of
WordPress

On Thu, 24 Mar 2005 10:57:40 +0000, Podz <podz@tamba2.org.uk> wrote:
> Nikolay Bachiyski wrote:
> > How about querying Wikipedia instead?
> >
> 
> I like this one !
> 
> In the forums I can recall two occasions where people requested that the
> thesaurus be added as a quicktag. It's not too much hassle to add a
> quicktag, but then equally it's not so much hassle to add a tag is it ?
> I have a lot of tags which I sometimes find annoying given the space
> they take up and the fact they 'move' when used - but then that's my
> problem.. I do like the Wikipedia idea though.
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 
> 

-- 
best regards, chmoka
mailto:chmoka@gmail.com
From ringmaster at midnightcircus.com  Thu Mar 24 11:42:47 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Thu Mar 24 11:44:04 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <80f75db05032323495df2f0@mail.gmail.com>
References: <20050324012622.022C1A9FA@comox.textdrive.com>	<op.sn4kjgjk25np9q@golf.bredbandsbolaget.se>	<42424659.6080600@txfx.net>
	<42425FD3.90409@jrm.cc> <80f75db05032323495df2f0@mail.gmail.com>
Message-ID: <4242A7B7.3000008@midnightcircus.com>

Carthik Sharma wrote:

>Looks like everyone's missing Owen's point : His question was as to
>why the "next page" functionality's been (temporarily ?) scrapped.
>  
>
Thank you, Carthik - Yes, my real question is, is the "next page" 
function on the cutting block?  I use that.  Or are we headed toward a 
sub-page feature for storing multiple pages?  Can we wait to remove that 
button until the replacement code is working?

As far as semantics go, I'll guess that 80% of users don't give a darn 
about semantics, and just want their editor to look and behave like 
Word.  <b> and <i> may turn your stomach, but they require less 
explanation than <strong> and <em>.  About these two buttons, I don't 
care, but the next page thing is funcationality loss.

Owen


From ringmaster at midnightcircus.com  Thu Mar 24 11:45:20 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Thu Mar 24 11:46:10 2005
Subject: [wp-hackers] Thoughts on Dict.
In-Reply-To: <4242964E.7020906@developer.bg>
References: <4241D5B8.7060800@midnightcircus.com>
	<4242964E.7020906@developer.bg>
Message-ID: <4242A850.1000209@midnightcircus.com>

Nikolay Bachiyski wrote:

> How about querying Wikipedia instead?

answers.com *includes* results from Wikipedia.  Also, Wikipedia by 
itself doesn't strictly offer definitions for words like a dictionary 
does.  Answers.com is also clean and advertising-light, and I read 
somewhere that they're partnered somehow with Google, so we wouldn't be 
the only educated minds making the decision to use them.

Owen


From nbachiyski at developer.bg  Thu Mar 24 12:02:40 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Thu Mar 24 11:56:49 2005
Subject: [wp-hackers] Thoughts on Dict.
In-Reply-To: <4242A850.1000209@midnightcircus.com>
References: <4241D5B8.7060800@midnightcircus.com>	<4242964E.7020906@developer.bg>
	<4242A850.1000209@midnightcircus.com>
Message-ID: <4242AC60.8070803@developer.bg>

Owen Winkler wrote:
> answers.com *includes* results from Wikipedia.  Also, Wikipedia by 
> itself doesn't strictly offer definitions for words like a dictionary 
> does.  Answers.com is also clean and advertising-light, and I read 
> somewhere that they're partnered somehow with Google, so we wouldn't be 
> the only educated minds making the decision to use them.
> 
I agree. When writing the previous mail I haven't considered 
answers.com. It looks like the best choice...

Nikolay

From m at mullenweg.com  Thu Mar 24 15:13:11 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Thu Mar 24 15:13:26 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <4242A7B7.3000008@midnightcircus.com>
References: <20050324012622.022C1A9FA@comox.textdrive.com>	<op.sn4kjgjk25np9q@golf.bredbandsbolaget.se>	<42424659.6080600@txfx.net>	<42425FD3.90409@jrm.cc>
	<80f75db05032323495df2f0@mail.gmail.com>
	<4242A7B7.3000008@midnightcircus.com>
Message-ID: <4242D907.8060208@mullenweg.com>

Owen Winkler wrote:
> Thank you, Carthik - Yes, my real question is, is the "next page" 
> function on the cutting block?  I use that.  Or are we headed toward a 
> sub-page feature for storing multiple pages?  Can we wait to remove that 
> button until the replacement code is working?

<!--page--> still works, there just isn't a quicktag for it.

> As far as semantics go, I'll guess that 80% of users don't give a darn 
> about semantics, and just want their editor to look and behave like 
> Word.  <b> and <i> may turn your stomach, but they require less 
> explanation than <strong> and <em>.  About these two buttons, I don't 
> care, but the next page thing is funcationality loss.

Perhaps -- is it better to use the 80/20 rule and say most people mean 
strong/em when using b/i buttons (and those that know enough know how to 
change it), or encourage the generic elements universally?

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From list at pericat.ca  Thu Mar 24 17:22:29 2005
From: list at pericat.ca (jill)
Date: Thu Mar 24 17:22:49 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <4242D907.8060208@mullenweg.com>
Message-ID: <r02010500-1038-4D299C3C9C8911D99ACC000A95D5E130@[10.0.1.4]>

Matthew Mullenweg wrote:

>Owen Winkler wrote:
>> Thank you, Carthik - Yes, my real question is, is the "next page" 
>> function on the cutting block?  I use that.  Or are we headed toward a 
>> sub-page feature for storing multiple pages?  Can we wait to remove that 
>> button until the replacement code is working?
>
><!--page--> still works, there just isn't a quicktag for it.

I think it is not such a good idea to remove a quicktag for an element that I (at least) have
never used outside of WP. I understood <!--page--> to be a WP-special convention, in fact.
New users will likely not know the functionality exists without that quicktag.

>> As far as semantics go, I'll guess that 80% of users don't give a darn 
>> about semantics, and just want their editor to look and behave like 
>> Word.  <b> and <i> may turn your stomach, but they require less 
>> explanation than <strong> and <em>.  About these two buttons, I don't 
>> care, but the next page thing is funcationality loss.
>
>Perhaps -- is it better to use the 80/20 rule and say most people mean 
>strong/em when using b/i buttons (and those that know enough know how to 
>change it), or encourage the generic elements universally?

I think button labels should match output as closely as possible. If the button says "strong",
the output should be <strong></strong>, and if it says "bold", the output should be
<b></b>. Second-guessing users' familiarity with markup is to start down a broad paved
road leading directly to the tiger pit. 

jill
-- 
<http://pericat.ca/>
From mx at warpedvisions.org  Thu Mar 24 17:32:47 2005
From: mx at warpedvisions.org (Bruce Alderson)
Date: Thu Mar 24 17:32:58 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <r02010500-1038-4D299C3C9C8911D99ACC000A95D5E130@[10.0.1.4]>
References: <r02010500-1038-4D299C3C9C8911D99ACC000A95D5E130@[10.0.1.4]>
Message-ID: <1111685567.5179.5.camel@localhost.localdomain>


> I think button labels should match output as closely as possible. If the button says "strong",
> the output should be <strong></strong>, and if it says "bold", the output should be
> <b></b>. Second-guessing users' familiarity with markup is to start down a broad paved
> road leading directly to the tiger pit. 

Even better, why not just use a rich editor?  This tag soup is

http://www.themaninblue.com/experiment/widgEditor/

GPL, portable, etc.



-- 
Bruce Alderson <mx@warpedvisions.org>

From m at mullenweg.com  Thu Mar 24 17:35:31 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Thu Mar 24 17:35:39 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <1111685567.5179.5.camel@localhost.localdomain>
References: <r02010500-1038-4D299C3C9C8911D99ACC000A95D5E130@[10.0.1.4]>
	<1111685567.5179.5.camel@localhost.localdomain>
Message-ID: <4242FA63.8030901@mullenweg.com>

Bruce Alderson wrote:
> Even better, why not just use a rich editor?  This tag soup is
> 
> http://www.themaninblue.com/experiment/widgEditor/
> 
> GPL, portable, etc.

I really like widgEditor, it will likely be included with a future 
version of WP. It does really clean code!

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From mx at warpedvisions.org  Thu Mar 24 19:18:25 2005
From: mx at warpedvisions.org (Bruce Alderson)
Date: Thu Mar 24 19:24:09 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <4242FA63.8030901@mullenweg.com>
References: <r02010500-1038-4D299C3C9C8911D99ACC000A95D5E130@[10.0.1.4]>
	<1111685567.5179.5.camel@localhost.localdomain>
	<4242FA63.8030901@mullenweg.com>
Message-ID: <1111691905.5179.9.camel@localhost.localdomain>

On Thu, 2005-03-24 at 09:35 -0800, Matthew Mullenweg wrote:
> Bruce Alderson wrote:
> > Even better, why not just use a rich editor?  This tag soup is

I meant to say that the tag soup is difficult for many users to work
with.


> I really like widgEditor, it will likely be included with a future 
> version of WP. It does really clean code!


I've been working with this tool for a few months now, and it's a
reasonable implementation.  I haven't had a chance to test it on safari
(or konq) yet, but it degrades nicely to a standard edit control.



-- 
Bruce Alderson <mx@warpedvisions.org>

From mpt at myrealbox.com  Fri Mar 25 01:54:42 2005
From: mpt at myrealbox.com (Matthew Thomas)
Date: Fri Mar 25 01:54:56 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
In-Reply-To: <4242D907.8060208@mullenweg.com>
References: <20050324012622.022C1A9FA@comox.textdrive.com>	<op.sn4kjgjk25np9q@golf.bredbandsbolaget.se>	<42424659.6080600@txfx.net>	<42425FD3.90409@jrm.cc>	<80f75db05032323495df2f0@mail.gmail.com>	<4242A7B7.3000008@midnightcircus.com>
	<4242D907.8060208@mullenweg.com>
Message-ID: <42436F62.2040902@myrealbox.com>

Matthew Mullenweg wrote:
 >...
> Perhaps -- is it better to use the 80/20 rule and say most people mean
 > strong/em when using b/i buttons (and those that know enough know how
 > to change it), or encourage the generic elements universally?

I'd prefer WordPress to follow the principle of "first do no harm". 
Using <i> when you really mean <cite> is unfortunate, but at least it 
isn't misleading. Using <em> when you really mean <cite> *is* misleading.

Having said that, this is all theoretical: the number of user agents 
that make useful distinctions between semantic and presentational markup 
right now is almost zero. (Even popular screenreaders piggyback on 
Internet Explorer for Windows, which doesn't make such distinctions.) 
And if enough people (and authoring tools) do cargo-cult conversions 
from presentational to incorrect semantic markup, semantic markup may 
well become so often misapplied that future user agents can never use it 
either.

-- 
Matthew Thomas
http://mpt.net.nz/
From jeff at jrm.cc  Fri Mar 25 06:06:05 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Fri Mar 25 06:06:16 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <1111685567.5179.5.camel@localhost.localdomain>
References: <r02010500-1038-4D299C3C9C8911D99ACC000A95D5E130@[10.0.1.4]>
	<1111685567.5179.5.camel@localhost.localdomain>
Message-ID: <4243AA4D.6080109@jrm.cc>

Bruce Alderson wrote:
> Even better, why not just use a rich editor?  This tag soup is
> 
> http://www.themaninblue.com/experiment/widgEditor/

It would be *best* if a plugin could add that functionality as I know 
I'd want to turn it off. A lot of my formatting is done in a number of 
different text formatting routines. Perhaps it would be a good candidate 
  as a default plugin, but definately a plugin.

And thinking about it, a plugin ought to be able to handle that. Add a 
script tag and hook to the post_edit/publish action.

Jeff
From list at pericat.ca  Fri Mar 25 08:22:02 2005
From: list at pericat.ca (jill)
Date: Fri Mar 25 08:22:20 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <1111685567.5179.5.camel@localhost.localdomain>
Message-ID: <r02010500-1038-F7AB49E69D0611D99ACC000A95D5E130@[10.0.1.4]>

Bruce Alderson wrote:

>
>> I think button labels should match output as closely as possible. If the button says 
>"strong",
>> the output should be <strong></strong>, and if it says "bold", the output should be
>> <b></b>. Second-guessing users' familiarity with markup is to start down a broad paved
>> road leading directly to the tiger pit. 
>
>Even better, why not just use a rich editor?  This tag soup is
>
>http://www.themaninblue.com/experiment/widgEditor/
>
>GPL, portable, etc.

It's really pretty. I mean that. And easy to use off the bat. But it's not XHTML 1.1 compliant,
either, according to the readme. And more to my point, it also has buttons that set up an
equivalency between "bold" and "strong" and "emphasis" and "italic".  These are not
synonyms. "Strong" does equate to "bold", nor "emphasis" to "italic". The bolded or italicised
text display is merely the default visual rendition of strongly or emphatically spoken
phrases. Via CSS, <strong> can be displayed as damn near anything, without losing its
auditory essence, and the same with <em>. Treating the default visual display as being cast
in stone, as is done when the button label indicates bold while the output is <strong>,
serves in the long run to limit the user without in any way clarifying the reasoning behind
creating semantic tags and promoting their use. Website owners end up tagging by rote,
rather than by design.

I know from just the last few months working with WP that it was not coded with the idea
that styled text de facto equals good, semantically rich design. I would hate to see it lose that
quality even through such a lauditory effort as that of easing new users into semantically
differentiated markup, through use of presentationally oriented labels for the buttons used to
create that markup.

jill
-- 
<http://pericat.ca/>
From mark.wordpress at txfx.net  Fri Mar 25 08:52:15 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Fri Mar 25 08:51:44 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <1111685567.5179.5.camel@localhost.localdomain>
References: <r02010500-1038-4D299C3C9C8911D99ACC000A95D5E130@[10.0.1.4]>
	<1111685567.5179.5.camel@localhost.localdomain>
Message-ID: <4243D13F.4060808@txfx.net>

Bruce Alderson wrote:

>
>Even better, why not just use a rich editor?  This tag soup is
>
>http://www.themaninblue.com/experiment/widgEditor/
>
>GPL, portable, etc.
>
Its handling of lists... while cool (tab and shift-tab change the 
level)... is not always valid XHTML

It sometimes does this:

> <ul>
>   <li>thing</li>
>   <ul>
>     <li>thing2</li>
>   </ul>
>   <li>thing3</li>
> </ul>

Instead of:

> <ul>
>   <li>thing
>   <ul>
>     <li>thing2</li>
>   </ul>
>   </li>
>   <li>thing3</li>
> </ul>



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050325/ea2dbadb/attachment-0001.html
From morgan at doocy.net  Fri Mar 25 10:19:17 2005
From: morgan at doocy.net (Morgan Doocy)
Date: Fri Mar 25 10:19:29 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
Message-ID: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>

Hi all,

Recently I've been thinking about the fact that when plugins are 
disabled, all plugin template functions that are called in themes 
become broken. This is rather obvious to us hackers, but since we teach 
users to disable all plugins when upgrading, this ends up being a 
double-edged sword: if you don't disable plugins, they could break 
stuff after upgrading; if you do, your theme will break if they call 
plugin functions.

Of course, folks who already know this might use if() statements to be 
sure their themes degrade gracefully, but I personally haven't been 
very good about doing that on my site. So it occurred to me that 
perhaps we could create a simple go-between function, and teach users 
to adopt its use as a best practice. Something along the lines of:

call_plugin_function($function_name, $arg1, $arg2, ..., $argn);

This would be a cinch to implement, and is appreciably cleaner than 
if() wrappers -- but on the other hand it would require a lot of 
education to get folks to use the go-between, and require a lot of 
plugin authors to update their documentation in solidarity with the 
"best practice."

Seems to me that if we did add something like this, it would only serve 
to benefit users, even if only a small percentage knew about it or used 
it: If they don't use it, they see no change from the status quo; if 
they do, they see a benefit in graceful degradation.

Thoughts?

Morgan

From mark.wordpress at txfx.net  Fri Mar 25 10:45:50 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Fri Mar 25 10:45:16 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>
Message-ID: <4243EBDE.9000007@txfx.net>

Morgan Doocy wrote:

> Something along the lines of:
>
> call_plugin_function($function_name, $arg1, $arg2, ..., $argn);
>
> This would be a cinch to implement, and is appreciably cleaner than 
> if() wrappers -- but on the other hand it would require a lot of 
> education to get folks to use the go-between, and require a lot of 
> plugin authors to update their documentation in solidarity with the 
> "best practice."
>
> Seems to me that if we did add something like this, it would only 
> serve to benefit users, even if only a small percentage knew about it 
> or used it: If they don't use it, they see no change from the status 
> quo; if they do, they see a benefit in graceful degradation.
>
> Thoughts?

I use <?php if ( function_exists('my_plugin') ) my_plugin('option1', 
true); ?> for any plugins in my template that might need to be turned 
off (should probably do it for all of them, because of upgrade reasons) 
and have on occasion advised users to do the same.

I think a somewhat more user-friendly wrapper would be of great use!
From nbachiyski at developer.bg  Fri Mar 25 16:12:24 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Fri Mar 25 16:14:07 2005
Subject: [wp-hackers] is_email
Message-ID: <42443868.7060300@developer.bg>

Hello,

Here is the regular expression found in the is_email() function:

$chars = "/^([a-z0-9+_]|\\-|\\.)+@(([a-z0-9_]|\\-)+\\.)+[a-z]{2,6}\$/i";

Some questions arose when I was looking at it:
- why is it possible to have a '+' in the username
- why is it possible to have '-' in both the username and the host
- is there any difference between ([a-z0-9_]|\\-|\\.)+ and [a-z0-9_\-.]+
- isn't it better to put it into single quotes and save some backslash 
escaping

Here is a suggestion:

$email_regex = '/^[a-z0-9_\-.]+\@([a-z0-9\-]{1,255}\.)+[a-z]{2,6}$/i';



Nikolay
From dougal at gunters.org  Fri Mar 25 17:00:08 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Fri Mar 25 17:00:22 2005
Subject: [wp-hackers] is_email
In-Reply-To: <42443868.7060300@developer.bg>
References: <42443868.7060300@developer.bg>
Message-ID: <42444398.3090000@gunters.org>

Nikolay Bachiyski wrote:
> Hello,
> 
> Here is the regular expression found in the is_email() function:
> 
> $chars = "/^([a-z0-9+_]|\\-|\\.)+@(([a-z0-9_]|\\-)+\\.)+[a-z]{2,6}\$/i";
> 
> Some questions arose when I was looking at it:
> - why is it possible to have a '+' in the username
> - why is it possible to have '-' in both the username and the host

Because it's possible to have those characters in username and hostname 
portions of email addresses. In particular, it's long been a convention 
that many mail servers allow addresses like "user+whatever@example.com", 
and automagically alias it to "user@example.com". This allows you to 
generate your own dynamic aliases. It's useful for tracking who's 
sharing your address. I often use that trick when supplying registration 
information. For example, if I registered my email address with the New 
York Times as "dougal+nytimes@gunters.org", then if I get spam to that 
address later, I know that the Times shared my address (and I can 
blackhole further email to that address if I want).

And '-' has always been a valid character for domains/hosts and in 
usernames for most systems.

> - is there any difference between ([a-z0-9_]|\\-|\\.)+ and [a-z0-9_\-.]+
> - isn't it better to put it into single quotes and save some backslash 
> escaping
> 
> Here is a suggestion:
> 
> $email_regex = '/^[a-z0-9_\-.]+\@([a-z0-9\-]{1,255}\.)+[a-z]{2,6}$/i';

I'm not sure why '.' was separated out, but I've seen people put '-' 
outside of a character class due to bugs in some regex implementations. 
I can't remember if PHP had that bug or not. If not, then I think your 
suggestion would be a good one.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From john at sinteur.com  Fri Mar 25 17:08:58 2005
From: john at sinteur.com (John Sinteur)
Date: Fri Mar 25 17:09:07 2005
Subject: [wp-hackers] is_email
In-Reply-To: <42444398.3090000@gunters.org>
References: <42443868.7060300@developer.bg> <42444398.3090000@gunters.org>
Message-ID: <78a1c00247b24ca6779cbf52dcd98f17@sinteur.com>


On Mar 25, 2005, at 18:00, Dougal Campbell wrote:

> And '-' has always been a valid character for domains/hosts and in 
> usernames for most systems.
>

To do all of this right, we should validate email addresses according 
to the RFC 822 grammar.

See http://www.ietf.org/rfc/rfc0822.txt?number=822  for details.

The grammar described in RFC 822 is suprisingly complex. Implementing 
validation with regular expressions somewhat pushes the limits of what 
it is sensible to do with regular expressions.

I'm about to paste the full regular expression into this mail below, if 
your mail reader borks on it, visit 
http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.html

(?:(?:\r\n)?[ \t])*(?:(?:(?:[^()<>@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t] 
)+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
\t]))*"(?:(?: \r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ 
\t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:( ?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
\t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
\000-\0 31]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\ 
](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
\000-\031]+ (?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?: 
(?:\r\n)?[ \t])*))*|(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z |(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
\t]))*"(?:(?:\r\n) ?[ \t])*)*\<(?:(?:\r\n)?[ 
\t])*(?:@(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\ r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
\t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n) ?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
\t] )*))*(?:,@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
\t])* )(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t] 
)+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
\t])*))*) *:(?:(?:\r\n)?[ \t])*)?(?:[^()<>@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t])+ 
|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
\t]))*"(?:(?:\r \n)?[ \t])*)(?:\.(?:(?:\r\n)?[ 
\t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?: \r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t 
]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
\000-\031 ]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\]( 
?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
\000-\031]+(? :(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(? 
:\r\n)?[ \t])*))*\>(?:(?:\r\n)?[ \t])*)|(?:[^()<>@,;:\\".\[\] 
\000-\031]+(?:(? :(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)? [ 
\t]))*"(?:(?:\r\n)?[ \t])*)*:(?:(?:\r\n)?[ 
\t])*(?:(?:(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]| \\.|(?:(?:\r\n)?[ 
\t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<> 
@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|" (?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
\t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t] )*(?:[^()<>@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\ 
".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ 
\t])*(? :[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[ 
\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
\t])*))*|(?:[^()<>@,;:\\".\[\] \000- \031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|( ?:(?:\r\n)?[ 
\t]))*"(?:(?:\r\n)?[ \t])*)*\<(?:(?:\r\n)?[ \t])*(?:@(?:[^()<>@,; 
:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([ 
^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ 
\t])*(?:[^()<>@,;:\\" .\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\ 
]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*(?:,@(?:(?:\r\n)?[ 
\t])*(?:[^()<>@,;:\\".\ [\] \000-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\ 
r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ 
\t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\] 
|\\.)*\](?:(?:\r\n)?[ \t])*))*)*:(?:(?:\r\n)?[ 
\t])*)?(?:[^()<>@,;:\\".\[\] \0 00-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\ .|(?:(?:\r\n)?[ 
\t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@, 
;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(? :[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
\t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])* (?:[^()<>@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\". 
\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ 
\t])*(?:[ ^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\] 
]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*\>(?:(?:\r\n)?[ 
\t])*)(?:,\s*( ?:(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\ ".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
\t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:( ?:\r\n)?[ 
\t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[ 
\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
\t]))*"(?:(?:\r\n)?[ \t ])*))*@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t 
])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
\t])*)(? :\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t])+| 
\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
\t])*))*|(?: [^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\".\[\ ]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
\t]))*"(?:(?:\r\n)?[ \t])*)*\<(?:(?:\r\n) ?[ 
\t])*(?:@(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\[" 
()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
\t])*)(?:\.(?:(?:\r\n) ?[ \t])*(?:[^()<>@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<> 
@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
\t])*))*(?:,@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@, 
;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
\t])*)(?:\.(?:(?:\r\n)?[ \t] )*(?:[^()<>@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\ 
".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*)*:(?:(?:\r\n)?[ 
\t])*)? (?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
\t])+|\Z|(?=[\["()<>@,;:\\". \[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
\t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?: \r\n)?[ 
\t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[ 
"()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
\t]))*"(?:(?:\r\n)?[ \t]) *))*@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t]) 
+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
\t])*)(?:\ .(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z 
|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
\t])*))*\>(?:( ?:\r\n)?[ \t])*))*)?;\s*)

  
            

From wordpress at coldforged.org  Fri Mar 25 17:13:19 2005
From: wordpress at coldforged.org (Brian Dupuis)
Date: Fri Mar 25 17:13:32 2005
Subject: [wp-hackers] is_email
In-Reply-To: <78a1c00247b24ca6779cbf52dcd98f17@sinteur.com>
References: <42443868.7060300@developer.bg> <42444398.3090000@gunters.org>
	<78a1c00247b24ca6779cbf52dcd98f17@sinteur.com>
Message-ID: <424446AF.8050506@coldforged.org>

John Sinteur wrote:

>
> On Mar 25, 2005, at 18:00, Dougal Campbell wrote:
>
>> And '-' has always been a valid character for domains/hosts and in 
>> usernames for most systems.
>>
>
> To do all of this right, we should validate email addresses according 
> to the RFC 822 grammar.
>
> See http://www.ietf.org/rfc/rfc0822.txt?number=822  for details.
>
> The grammar described in RFC 822 is suprisingly complex. Implementing 
> validation with regular expressions somewhat pushes the limits of what 
> it is sensible to do with regular expressions.
>
> I'm about to paste the full regular expression into this mail below, 
> if your mail reader borks on it, visit 
> http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.html
>
> (?:(?:\r\n)?[ \t])*(?:(?:(?:[^()<>@,;:\\".\[\] 
> \000-\031]+(?:(?:(?:\r\n)?[ \t] 
> )+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
> \t]))*"(?:(?: \r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ 
> \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:( ?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
> \t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
> \000-\0 31]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\ 
> ](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
> \000-\031]+ (?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?: 
> (?:\r\n)?[ \t])*))*|(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z |(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
> \t]))*"(?:(?:\r\n) ?[ \t])*)*\<(?:(?:\r\n)?[ 
> \t])*(?:@(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\ r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
> \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
> \000-\031]+(?:(?:(?:\r\n) ?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
> \t] )*))*(?:,@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
> \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
> \t])* )(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
> \000-\031]+(?:(?:(?:\r\n)?[ \t] 
> )+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
> \t])*))*) *:(?:(?:\r\n)?[ \t])*)?(?:[^()<>@,;:\\".\[\] 
> \000-\031]+(?:(?:(?:\r\n)?[ \t])+ 
> |\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
> \t]))*"(?:(?:\r \n)?[ \t])*)(?:\.(?:(?:\r\n)?[ 
> \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?: \r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t 
> ]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
> \000-\031 ]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\]( 
> ?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
> \000-\031]+(? :(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(? 
> :\r\n)?[ \t])*))*\>(?:(?:\r\n)?[ \t])*)|(?:[^()<>@,;:\\".\[\] 
> \000-\031]+(?:(? :(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)? [ 
> \t]))*"(?:(?:\r\n)?[ \t])*)*:(?:(?:\r\n)?[ 
> \t])*(?:(?:(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]| \\.|(?:(?:\r\n)?[ 
> \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<> 
> @,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|" (?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
> \t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t] 
> )*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\ 
> ".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ 
> \t])*(? :[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[ 
> \]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
> \t])*))*|(?:[^()<>@,;:\\".\[\] \000- \031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|( ?:(?:\r\n)?[ 
> \t]))*"(?:(?:\r\n)?[ \t])*)*\<(?:(?:\r\n)?[ \t])*(?:@(?:[^()<>@,; 
> :\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([ 
> ^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ 
> \t])*(?:[^()<>@,;:\\" .\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\ 
> ]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*(?:,@(?:(?:\r\n)?[ 
> \t])*(?:[^()<>@,;:\\".\ [\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\ 
> r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ 
> \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\] 
> |\\.)*\](?:(?:\r\n)?[ \t])*))*)*:(?:(?:\r\n)?[ 
> \t])*)?(?:[^()<>@,;:\\".\[\] \0 00-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\ .|(?:(?:\r\n)?[ 
> \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@, 
> ;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(? :[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
> \t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])* 
> (?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\". 
> \[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ 
> \t])*(?:[ ^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\] 
> ]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*\>(?:(?:\r\n)?[ 
> \t])*)(?:,\s*( ?:(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\ ".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
> \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:( ?:\r\n)?[ 
> \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[ 
> \["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
> \t]))*"(?:(?:\r\n)?[ \t ])*))*@(?:(?:\r\n)?[ 
> \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t 
> ])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
> \t])*)(? :\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
> \000-\031]+(?:(?:(?:\r\n)?[ \t])+| 
> \Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
> \t])*))*|(?: [^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\".\[\ ]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
> \t]))*"(?:(?:\r\n)?[ \t])*)*\<(?:(?:\r\n) ?[ 
> \t])*(?:@(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\[" 
> ()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
> \t])*)(?:\.(?:(?:\r\n) ?[ \t])*(?:[^()<>@,;:\\".\[\] 
> \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<> 
> @,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
> \t])*))*(?:,@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
> \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@, 
> ;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
> \t])*)(?:\.(?:(?:\r\n)?[ \t] )*(?:[^()<>@,;:\\".\[\] 
> \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\ 
> ".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*)*:(?:(?:\r\n)?[ 
> \t])*)? (?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ 
> \t])+|\Z|(?=[\["()<>@,;:\\". \[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
> \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?: \r\n)?[ 
> \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[ 
> "()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
> \t]))*"(?:(?:\r\n)?[ \t]) *))*@(?:(?:\r\n)?[ 
> \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t]) 
> +|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
> \t])*)(?:\ .(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] 
> \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z 
> |(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ 
> \t])*))*\>(?:( ?:\r\n)?[ \t])*))*)?;\s*)

Wow. At that point I think I'd just do a "if( strpos( $email, "@" ) )" 
and call it a day. That's just incredible.
From dougal at gunters.org  Fri Mar 25 18:18:50 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Fri Mar 25 18:19:02 2005
Subject: [wp-hackers] is_email
In-Reply-To: <78a1c00247b24ca6779cbf52dcd98f17@sinteur.com>
References: <42443868.7060300@developer.bg> <42444398.3090000@gunters.org>
	<78a1c00247b24ca6779cbf52dcd98f17@sinteur.com>
Message-ID: <4244560A.4030305@gunters.org>

John Sinteur wrote:
> [...]

> The grammar described in RFC 822 is suprisingly complex. Implementing 
> validation with regular expressions somewhat pushes the limits of what 
> it is sensible to do with regular expressions.
> 
> I'm about to paste the full regular expression into this mail below, if 
> your mail reader borks on it, visit 
> http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.html
> 
> (?:(?:\r\n)?[ \t])*(?:(?:(?:[^()<>@,;:\\".\[\] 
>  [...etc, etc, etc, etc, etc...]
> \t])*))*\>(?:( ?:\r\n)?[ \t])*))*)?;\s*)

Wow. That just kicks ass :)

Maybe not very practical, but very ass-kicking.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From m at mullenweg.com  Fri Mar 25 18:26:14 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Fri Mar 25 18:26:24 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <4243D13F.4060808@txfx.net>
References: <r02010500-1038-4D299C3C9C8911D99ACC000A95D5E130@[10.0.1.4]>	<1111685567.5179.5.camel@localhost.localdomain>
	<4243D13F.4060808@txfx.net>
Message-ID: <424457C6.9060305@mullenweg.com>

Mark Jaquith wrote:
> Its handling of lists... while cool (tab and shift-tab change the 
> level)... is not always valid XHTML

If you could pass that data upstream perhaps Cameron could take a look 
at that bug? I can't javascript my way out of a CSS box model.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From ryan at ryanduff.net  Fri Mar 25 20:19:29 2005
From: ryan at ryanduff.net (Ryan Duff)
Date: Fri Mar 25 20:14:03 2005
Subject: [wp-hackers] dev.wp-plugins.org bug reporting
Message-ID: <42447251.2040407@ryanduff.net>

Skippy was telling me that bug reporters should get emails when there is 
new activity on a bug. I've had a few where I've posted responses and 
not heard back from the reporter at all. Do they get this notification 
at dev.wp-plugins.org? I was never aware of this in the first place.

Thanks

Ryan Duff
http://ryanduff.net
AIM: ryancduff
irc.freenode.net #wordpress, #wp-docs

-- 
---------------------[ Ciphire Signature ]----------------------
From: ryan@ryanduff.net signed email body (312 characters)
Date: on 25 March 2005 at 20:13:59 UTC
To:   wp-hackers@lists.automattic.com
----------------------------------------------------------------
: Ciphire has secured this email against identity theft.
: Free download at www.ciphire.com. The garbled lines
: below are the sender's verifiable digital signature.
----------------------------------------------------------------
00fAAAAAEAAAAHcURCOAEAALQBAAIAAgACACDBOH6mJX2/crgCO6ViTWgVThygA6
O2vwAfX+YVbDCxtwEAtg6EI500RkvYwVZgGBlNY4BdpZ0ICYi1yOnvP+g/19zDH/
MKylgKOK8icTIw97samB115Blm1urQjfSTiyF0cA==
------------------[ End Ciphire Signed Message ]----------------

From skippy at skippy.net  Fri Mar 25 20:25:24 2005
From: skippy at skippy.net (Scott Merrill)
Date: Fri Mar 25 20:25:14 2005
Subject: [wp-hackers] dev.wp-plugins.org bug reporting
In-Reply-To: <42447251.2040407@ryanduff.net>
References: <42447251.2040407@ryanduff.net>
Message-ID: <424473B4.5090207@skippy.net>

Ryan Duff wrote:
> Skippy was telling me that bug reporters should get emails when there is
> new activity on a bug. I've had a few where I've posted responses and
> not heard back from the reporter at all. Do they get this notification
> at dev.wp-plugins.org? I was never aware of this in the first place.

I was speaking about mosquito.wordpress.org -- sorry for any confusion.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From ringmaster at midnightcircus.com  Fri Mar 25 21:06:37 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Fri Mar 25 21:07:13 2005
Subject: [wp-hackers] dev.wp-plugins.org bug reporting
In-Reply-To: <424473B4.5090207@skippy.net>
References: <42447251.2040407@ryanduff.net> <424473B4.5090207@skippy.net>
Message-ID: <42447D5D.7030808@midnightcircus.com>

Scott Merrill wrote:

>Ryan Duff wrote:
>  
>
>>Skippy was telling me that bug reporters should get emails when there is
>>new activity on a bug. I've had a few where I've posted responses and
>>not heard back from the reporter at all. Do they get this notification
>>at dev.wp-plugins.org? I was never aware of this in the first place.
>>    
>>
>
>I was speaking about mosquito.wordpress.org -- sorry for any confusion.
>  
>
I would like to receive notice when new bugs are added at 
wp-plugins.org.  It's one of my three reason why I'm not using it more 
globally. 

The other two are 1)No way to deploy (yet)  2)It's not possible to make 
./trunk private for the contributors only and leave ./tags read-only for 
others.  I have no interest in supporting "nightlies" for unfinished 
plugins or revealing the innards of new plugins before the time is 
right.  Number 3 is less of an issue, but nags at me whenever I consider 
moving my stuff over.

Owen


From ryan at ryanduff.net  Fri Mar 25 21:23:04 2005
From: ryan at ryanduff.net (Ryan Duff)
Date: Fri Mar 25 21:18:45 2005
Subject: [wp-hackers] dev.wp-plugins.org bug reporting
In-Reply-To: <42447D5D.7030808@midnightcircus.com>
References: <42447251.2040407@ryanduff.net> <424473B4.5090207@skippy.net>
	<42447D5D.7030808@midnightcircus.com>
Message-ID: <42448138.9070802@ryanduff.net>

Owen Winkler wrote:
> I would like to receive notice when new bugs are added at 
> wp-plugins.org.  It's one of my three reason why I'm not using it more 
> globally.
> The other two are 1)No way to deploy (yet)  2)It's not possible to make 
> ./trunk private for the contributors only and leave ./tags read-only for 
> others.  I have no interest in supporting "nightlies" for unfinished 
> plugins or revealing the innards of new plugins before the time is 
> right.  Number 3 is less of an issue, but nags at me whenever I consider 
> moving my stuff over.

Number 3 is less of an issue? I only see 2! :P

(The real #1)
I agree, there is an rss feed for the reports, "my reports" is supposed 
to be accessed via:

http://dev.wp-plugins.org/report/7?format=rss&amp;USER=[your username]

but haven't had any luck with it. I've tried it in 2 readers. I however, 
can see it in firefox if I load the url. Anybody get that to work?

(The real #2)
A way to deploy would be great. I thought this was why we were moving to 
it, but for those of us that would like to deploy a .zip with a readme 
or whatever else inside, there is no way other than still hosting it on 
our own sites.

(The real #3)
I also began to notice problems with people using my current svn files 
instead of the latest stable, and am currently getting frequent claims 
it doesn't work. (Mainly because the stable install instructions are 
different from the current svn ones).

Matt: any response to these?


--
Ryan Duff
http://ryanduff.net
AIM: ryancduff
irc.freenode.net #wordpress, #wp-docs

-- 
---------------------[ Ciphire Signature ]----------------------
From: ryan@ryanduff.net signed email body (1258 characters)
Date: on 25 March 2005 at 21:17:46 UTC
To:   wp-hackers@lists.automattic.com
----------------------------------------------------------------
: Ciphire has secured this email against identity theft.
: Free download at www.ciphire.com. The garbled lines
: below are the sender's verifiable digital signature.
----------------------------------------------------------------
00fAAAAAEAAAD6f0RC6gQAAGoDAAIAAgACACDBOH6mJX2/crgCO6ViTWgVThygA6
O2vwAfX+YVbDCxtwEAtg6EI500RkvYwVZgGBlNY4BdpZ0ICYi1yOnvP+g/19zeoi
muuLMLQCnuVNbgj3rBtqKze/FH/6ZCvPG2MrgR5w==
------------------[ End Ciphire Signed Message ]----------------

From ryan at ryanduff.net  Fri Mar 25 21:29:53 2005
From: ryan at ryanduff.net (Ryan Duff)
Date: Fri Mar 25 21:25:25 2005
Subject: [wp-hackers] dev.wp-plugins.org bug reporting
In-Reply-To: <42448138.9070802@ryanduff.net>
References: <42447251.2040407@ryanduff.net>
	<424473B4.5090207@skippy.net>	<42447D5D.7030808@midnightcircus.com>
	<42448138.9070802@ryanduff.net>
Message-ID: <424482D1.2090006@ryanduff.net>

Ryan Duff wrote:
> I agree, there is an rss feed for the reports, "my reports" is supposed 
> to be accessed via:
> 
> http://dev.wp-plugins.org/report/7?format=rss&amp;USER=[your username]


To reply to myself, I just played with this for a second, and it appears 
to be an issue with the sessions. They've always been flakey. If you're 
logged in and go to the url, you can see it, if not logged in you get an 
empty feed:

   <?xml version="1.0" ?>
- <!--  RSS generated by Trac v0.8 on Fri Mar 25 21:18:45 2005
   -->
- <rss version="2.0">
- <channel>
   <title>WordPress Plugin Repository: {7} My Tickets</title>
   <link>http://dev.wp-plugins.org/report/7</link>
   <description>Trac Report - {7} My Tickets</description>
   <language>en-us</language>
   <generator>Trac v0.8</generator>
   </channel>
   </rss>

This is the same thing your reader will get because it can't login and 
create the session the same way as the browser. I've even tried it with 
readers that let you specify a user/pass for the feed. Is this maybe 
just a setting in Trac admin?

--
Ryan Duff
http://ryanduff.net
AIM: ryancduff
irc.freenode.net #wordpress, #wp-docs

-- 
---------------------[ Ciphire Signature ]----------------------
From: ryan@ryanduff.net signed email body (939 characters)
Date: on 25 March 2005 at 21:24:23 UTC
To:   wp-hackers@lists.automattic.com
----------------------------------------------------------------
: Ciphire has secured this email against identity theft.
: Free download at www.ciphire.com. The garbled lines
: below are the sender's verifiable digital signature.
----------------------------------------------------------------
00fAAAAAEAAACHgURCqwMAALkCAAIAAgACACDBOH6mJX2/crgCO6ViTWgVThygA6
O2vwAfX+YVbDCxtwEAtg6EI500RkvYwVZgGBlNY4BdpZ0ICYi1yOnvP+g/19xWjo
Ex6ZbzhcYOJZAOMGySgrGK0trHZqZ5UdhEZNUJtw==
------------------[ End Ciphire Signed Message ]----------------

From craig at nuclearmoose.com  Fri Mar 25 21:37:40 2005
From: craig at nuclearmoose.com (Craig Hartel)
Date: Fri Mar 25 21:37:51 2005
Subject: [wp-hackers] dev.wp-plugins.org bug reporting
In-Reply-To: <42448138.9070802@ryanduff.net>
References: <42447251.2040407@ryanduff.net>
	<424473B4.5090207@skippy.net>	<42447D5D.7030808@midnightcircus.com>
	<42448138.9070802@ryanduff.net>
Message-ID: <424484A4.6030908@nuclearmoose.com>

Ryan Duff wrote:

> I also began to notice problems with people using my current svn files 
> instead of the latest stable, and am currently getting frequent claims 
> it doesn't work. (Mainly because the stable install instructions are 
> different from the current svn ones).
> 

Who? Me? :P Guilty as charged.

 From a user's POV, I am sure that most of the plugin consumers would rather 
just see a nice link to the current archive which holds the "currently 
supported" version of a plugin.

Tags? Trunk? Branches? Huh? You can't let moose run rampant in your project 
areas and not expect them to bork the living shit out of your hard work. Make it 
moose-proof, and the world will beat a path to your door!

Craig.
From ryan at ryanduff.net  Fri Mar 25 21:49:16 2005
From: ryan at ryanduff.net (Ryan Duff)
Date: Fri Mar 25 21:44:36 2005
Subject: [wp-hackers] dev.wp-plugins.org bug reporting
In-Reply-To: <424484A4.6030908@nuclearmoose.com>
References: <42447251.2040407@ryanduff.net>	<424473B4.5090207@skippy.net>	<42447D5D.7030808@midnightcircus.com>	<42448138.9070802@ryanduff.net>
	<424484A4.6030908@nuclearmoose.com>
Message-ID: <4244875C.8020408@ryanduff.net>

Craig Hartel wrote:
> Ryan Duff wrote:
> 
>> I also began to notice problems with people using my current svn files 
>> instead of the latest stable, and am currently getting frequent claims 
>> it doesn't work. (Mainly because the stable install instructions are 
>> different from the current svn ones).
>>
> 
> Who? Me? :P Guilty as charged.

Not you. Somebody reported an actual bug! 
http://dev.wp-plugins.org/ticket/121

--
Ryan Duff
http://ryanduff.net
AIM: ryancduff
irc.freenode.net #wordpress, #wp-docs

-- 
---------------------[ Ciphire Signature ]----------------------
From: ryan@ryanduff.net signed email body (427 characters)
Date: on 25 March 2005 at 21:43:46 UTC
To:   wp-hackers@lists.automattic.com
----------------------------------------------------------------
: Ciphire has secured this email against identity theft.
: Free download at www.ciphire.com. The garbled lines
: below are the sender's verifiable digital signature.
----------------------------------------------------------------
00fAAAAAEAAAAShkRCqwEAAEcCAAIAAgACACDBOH6mJX2/crgCO6ViTWgVThygA6
O2vwAfX+YVbDCxtwEAtg6EI500RkvYwVZgGBlNY4BdpZ0ICYi1yOnvP+g/19wO+/
XOFmhyD0WXFr793rInyhNTkZJ1yWvKiR/ddDQU8Q==
------------------[ End Ciphire Signed Message ]----------------

From jeff at jrm.cc  Fri Mar 25 22:53:34 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Fri Mar 25 22:53:46 2005
Subject: [wp-hackers] dev.wp-plugins.org bug reporting
In-Reply-To: <42448138.9070802@ryanduff.net>
References: <42447251.2040407@ryanduff.net>
	<424473B4.5090207@skippy.net>	<42447D5D.7030808@midnightcircus.com>
	<42448138.9070802@ryanduff.net>
Message-ID: <4244966E.9050205@jrm.cc>


> (The real #2)
> A way to deploy would be great. I thought this was why we were moving to 
> it, but for those of us that would like to deploy a .zip with a readme 
> or whatever else inside, there is no way other than still hosting it on 
> our own sites.
> 
> (The real #3)
> I also began to notice problems with people using my current svn files 
> instead of the latest stable, and am currently getting frequent claims 
> it doesn't work. (Mainly because the stable install instructions are 
> different from the current svn ones).

Numbers 2 and 3 ought to be handled soon. Rumor mill puts in that there 
is some kind of automated plugin packaging system coming to 
wp-plugins.org soon. Hence the request for readme.txt's and screenshot 
files a while back.

However, the problem with those systems is that they are based on, you 
guessed it, the trunk files!

Hrm...

Jeff
From nbachiyski at developer.bg  Sat Mar 26 07:36:23 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Sat Mar 26 07:36:42 2005
Subject: [wp-hackers] is_email
In-Reply-To: <42444398.3090000@gunters.org>
References: <42443868.7060300@developer.bg> <42444398.3090000@gunters.org>
Message-ID: <424510F7.9050407@developer.bg>


Dougal Campbell wrote:
> Because it's possible to have those characters in username and hostname 
> portions of email addresses.
I appologize. I shouldn't have posted it before some investigation...

In particular, it's long been a convention
> that many mail servers allow addresses like "user+whatever@example.com", 
> and automagically alias it to "user@example.com". This allows you to 
> generate your own dynamic aliases. It's useful for tracking who's 
> sharing your address. I often use that trick when supplying registration 
> information. For example, if I registered my email address with the New 
> York Times as "dougal+nytimes@gunters.org", then if I get spam to that 
> address later, I know that the Times shared my address (and I can 
> blackhole further email to that address if I want).
Really nice. I didn't know it.

>> Here is a suggestion:
>>
>> $email_regex = '/^[a-z0-9_\-.]+\@([a-z0-9\-]{1,255}\.)+[a-z]{2,6}$/i';
> 
> 
> I'm not sure why '.' was separated out, but I've seen people put '-' 
> outside of a character class due to bugs in some regex implementations. 
> I can't remember if PHP had that bug or not. If not, then I think your 
> suggestion would be a good one.
> 
I haven't experienced any problems with a dash in a character class. 
Though I use it pretty often.

Nikolay
From false.hopes at gmail.com  Sat Mar 26 07:44:30 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Sat Mar 26 07:44:49 2005
Subject: [wp-hackers] is_email
In-Reply-To: <424510F7.9050407@developer.bg>
References: <42443868.7060300@developer.bg> <42444398.3090000@gunters.org>
	<424510F7.9050407@developer.bg>
Message-ID: <a491f91d05032523446de3cf63@mail.gmail.com>

I wonder how much of a slowdown it would be to validate e-mails with
that regexp. I'd imagine it can't be very quick, although, there've
been more surprising things.


On Sat, 26 Mar 2005 09:36:23 +0200, Nikolay Bachiyski
<nbachiyski@developer.bg> wrote:
> 
> Dougal Campbell wrote:
> > Because it's possible to have those characters in username and hostname
> > portions of email addresses.
> I appologize. I shouldn't have posted it before some investigation...
> 
> In particular, it's long been a convention
> > that many mail servers allow addresses like "user+whatever@example.com",
> > and automagically alias it to "user@example.com". This allows you to
> > generate your own dynamic aliases. It's useful for tracking who's
> > sharing your address. I often use that trick when supplying registration
> > information. For example, if I registered my email address with the New
> > York Times as "dougal+nytimes@gunters.org", then if I get spam to that
> > address later, I know that the Times shared my address (and I can
> > blackhole further email to that address if I want).
> Really nice. I didn't know it.
> 
> >> Here is a suggestion:
> >>
> >> $email_regex = '/^[a-z0-9_\-.]+\@([a-z0-9\-]{1,255}\.)+[a-z]{2,6}$/i';
> >
> >
> > I'm not sure why '.' was separated out, but I've seen people put '-'
> > outside of a character class due to bugs in some regex implementations.
> > I can't remember if PHP had that bug or not. If not, then I think your
> > suggestion would be a good one.
> >
> I haven't experienced any problems with a dash in a character class.
> Though I use it pretty often.
> 
> Nikolay
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://anothersadsong.com
From mikis at mikis.org  Sat Mar 26 10:01:42 2005
From: mikis at mikis.org (Mihailo Stefanovic)
Date: Sat Mar 26 10:01:56 2005
Subject: [wp-hackers] is_email
In-Reply-To: <4244560A.4030305@gunters.org>
Message-ID: <20050326095244.CA73A6CEA1B@mail.mikis.org>

> > (?:(?:\r\n)?[ \t])*(?:(?:(?:[^()<>@,;:\\".\[\] 
> >  [...etc, etc, etc, etc, etc...]
> > \t])*))*\>(?:( ?:\r\n)?[ \t])*))*)?;\s*)
> 
> Wow. That just kicks ass :)
> 
> Maybe not very practical, but very ass-kicking.

I've just read in a Harry Fuecks' book "PHP Anthology" that full regular
expression, which correctly validates every possible email address, is more
than 6 KB long :)) You can find it in O'Reilly book "Mastering Regular
Expressions".

From dmhouse at gmail.com  Sat Mar 26 10:25:57 2005
From: dmhouse at gmail.com (David House)
Date: Sat Mar 26 10:26:13 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <424457C6.9060305@mullenweg.com>
References: <r02010500-1038-4D299C3C9C8911D99ACC000A95D5E130@10.0.1.4>
	<1111685567.5179.5.camel@localhost.localdomain>
	<4243D13F.4060808@txfx.net> <424457C6.9060305@mullenweg.com>
Message-ID: <ebe43d6805032602252ebff1f@mail.gmail.com>

Getting back to the issue of whether or not to use strong or em on the
quicktags...

My thoughts are that WordPress' mission statement claimed that it was
a 'semantic' platform and that this is thus an extremely important
debate. There seems to be no ideal solution: most users will be used
to working in the presentational mindset, meaning that they think in
terms of making things bold and italic rather than making things
emphasised or marking up a citation, etc.

But surely that hanging our heads in resignation and going with
presentational markup that won't do any good for the semantic web at
large, why not try and educate new WordPress users in how the web is
different? It doesn't need to be an involved discussion at all, just
mention something like 'To emphasise your words, use the "em"
quicktag. To use a citation, use the "cite" quicktags around the
address of your citation. These may be presented the same but it's
still important to make the distinction' Of course, links could be
provided to more in-depth discussion if required.

Display a couple of paragraphs to that effect on the Successful
Installation screen, then I think these sorts of issues will start to
disappear.

And for the record, I don't think that any rich-text editor that tries
to ape a word processor will ever work in conjunction with the
semantic web.

Food for thought, anyway.

-Dave
From jeff at jrm.cc  Sun Mar 27 00:35:24 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Sun Mar 27 00:35:46 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
	Quicktag enhancements
In-Reply-To: <ebe43d6805032602252ebff1f@mail.gmail.com>
References: <r02010500-1038-4D299C3C9C8911D99ACC000A95D5E130@10.0.1.4>	<1111685567.5179.5.camel@localhost.localdomain>	<4243D13F.4060808@txfx.net>
	<424457C6.9060305@mullenweg.com>
	<ebe43d6805032602252ebff1f@mail.gmail.com>
Message-ID: <4245FFCC.9030002@jrm.cc>

David House wrote:
> 'To emphasise your words, use the "em"
> quicktag. To use a citation, use the "cite" quicktags around the
> address of your citation. 

Even better: have these items pop up in little tooltip like descriptions 
when you hover for a sec. nifty-titles.js would do the trick nicely.

Jeff
From fd at firasd.org  Sun Mar 27 08:51:41 2005
From: fd at firasd.org (Firas D.)
Date: Sun Mar 27 08:55:05 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>
Message-ID: <4246741D.7060302@firasd.org>

Morgan Doocy wrote:

>
>
> call_plugin_function($function_name, $arg1, $arg2, ..., $argn);
>
> This would be a cinch to implement, and is appreciably cleaner than 
> if() wrappers -- but on the other hand it would require a lot of 
> education to get folks to use the go-between, and require a lot of 
> plugin authors to update their documentation in solidarity with the 
> "best practice."
>
> Seems to me that if we did add something like this, it would only 
> serve to benefit users, even if only a small percentage knew about it 
> or used it: If they don't use it, they see no change from the status 
> quo; if they do, they see a benefit in graceful degradation.

Yes! Especially if call_plugin_function is shortened to _cpf or something.

1) I'd loathe to put if_function_exists in my documentation because it 
makes things look really scary and complex:

Compare

<?php if(function_exists('wp_cc_output_metadata') { 
wp_cc_output_metadata() } ?>

<?php _cpf('wp_cc_output_metadata') ?>

2) It makes templates easy to 'clean' if there is a standard way of 
calling plugin functions: any function foreign to wp or php is is easy 
to spot.

3) Standardizing on a way to call plugin functions is probably a good 
idea for other reasons that don't occur to me right now.
From dmhouse at gmail.com  Sun Mar 27 15:33:04 2005
From: dmhouse at gmail.com (David House)
Date: Sun Mar 27 15:33:14 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <4246741D.7060302@firasd.org>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>
	<4246741D.7060302@firasd.org>
Message-ID: <ebe43d6805032707337b96f8ae@mail.gmail.com>

If you wanted to do a bit more work, you could scan plugin files for
functions defined, then for each of them create a new function called
<funcname>_safe or (e.g., if a plugin defined 'foo_func', then this
new function would be foo_func_safe()), which would do the
function_exists() logic.

This would just involve looping over the code, quitting when the
regular expression no longer matches and defining a new function that
takes exactly the same arguments as the standard function using
variable variables. (I wrote something of the kind for the echo/return
thread [1]).

Of course, this procedure would have to be well documented so both
plugin authors and users know what's going on.

This has the advantage of bearing more resemblance to the actual
function than a _cpf() call; compare

<?php _cpf('wp_cc_output_metadata'); ?>

with

<?php wp_cc_output_metadata_safe(); ?>

[1]: http://textdrive.com/pipermail/hackers/2004-July/000872.html
From wordpress at coldforged.org  Sun Mar 27 15:42:35 2005
From: wordpress at coldforged.org (Brian Dupuis)
Date: Sun Mar 27 15:42:17 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <ebe43d6805032707337b96f8ae@mail.gmail.com>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>	<4246741D.7060302@firasd.org>
	<ebe43d6805032707337b96f8ae@mail.gmail.com>
Message-ID: <4246D46B.1080907@coldforged.org>

David House wrote:

>If you wanted to do a bit more work, you could scan plugin files for
>functions defined, then for each of them create a new function called
><funcname>_safe or (e.g., if a plugin defined 'foo_func', then this
>new function would be foo_func_safe()), which would do the
>function_exists() logic.
>
>This would just involve looping over the code, quitting when the
>regular expression no longer matches and defining a new function that
>takes exactly the same arguments as the standard function using
>variable variables. (I wrote something of the kind for the echo/return
>thread [1]).
>
Isn't that a bit chicken and egg? If the plugin doesn't exist to begin 
with, there's no code to loop over, hence no foo_func_safe() define 
hence we're back where we started. Unless I'm missing something basic.
From stewart at ugelow.com  Sun Mar 27 16:10:31 2005
From: stewart at ugelow.com (Stewart Ugelow)
Date: Sun Mar 27 16:10:45 2005
Subject: [wp-hackers] Thoughts on Dict.
In-Reply-To: <20050324051905.GD18033@grail.lostrealm.com>
Message-ID: <20050327161042.54D3AA94B@comox.textdrive.com>

My friend is one of the sysadmins for dict.org. I passed along the message
below, and he replies:

"We know about that and it was intentional.  'dict.org' is for RFC 2229 DICT
protocol service.  'www.dict.org' is for HTTP service. These used to be on
the same machine but they aren't at the moment. There is nothing that says
that http://domain/ has to be equivalent to http://www.domain/, although it
is certainly common."

--Stewart

----
Stewart Ugelow
www.ugelow.com
 

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com 
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of 
> Leon Blackwell
> Sent: Thursday, March 24, 2005 12:19 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Thoughts on Dict.
> 
> On Thu, Mar 24, 2005 at 05:30:01AM +0100, Albert Holm wrote:
> > Replying to dict.org would mean that there is a host  named dict in 
> > the org zone which I doubt they can control.
> 
> Yes, because adding A records to your own zone is so terribly 
> difficult.
> 
> </sarcasm>
> 
> The fact is that dict.org already has an A record, but they 
> have misconfigured it:
> 
> # host dict.org
> dict.org                A       72.36.131.186
> # host www.dict.org
> www.dict.org            CNAME   miranda.org
> miranda.org             A       209.58.150.153
> 
> That's a bad use of a CNAME too.
> 
> 
> -- 
>  Leon Blackwell                | There are only 10 types of people in
>  http://the.lostrealm.com/     | the world; those who 
> understand binary
>  jabber:lionfire@lostrealm.com | and those who don't.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From false.hopes at gmail.com  Sun Mar 27 16:38:57 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Sun Mar 27 16:39:14 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <4246D46B.1080907@coldforged.org>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>
	<4246741D.7060302@firasd.org>
	<ebe43d6805032707337b96f8ae@mail.gmail.com>
	<4246D46B.1080907@coldforged.org>
Message-ID: <a491f91d05032708384c0b27@mail.gmail.com>

If fixing templates that break when plugins are disabled is the goal,
then it would loop over all the plugins that are either active right
before the upgrade or maybe even all the plugins. This way, even
though plugins are disabled, its functions are still available, but no
hooks are added in in case the user didn't intend on that plugin being
active (like some of the defaults for example.)

The problem with the upgrading is that some users are suffering from
having their plugins active and some are suffering for having them
disabled. Maybe setting custom error handlers and code to reactivate
plugins if there is template breakage due to a lack of a certain
function, or deactivating because a certain plugin is causing foul
play. This could get quite elaborate but would be a very nice solution
to most of the problems.


On Sun, 27 Mar 2005 10:42:35 -0500, Brian Dupuis
<wordpress@coldforged.org> wrote:
> David House wrote:
> 
> >If you wanted to do a bit more work, you could scan plugin files for
> >functions defined, then for each of them create a new function called
> ><funcname>_safe or (e.g., if a plugin defined 'foo_func', then this
> >new function would be foo_func_safe()), which would do the
> >function_exists() logic.
> >
> >This would just involve looping over the code, quitting when the
> >regular expression no longer matches and defining a new function that
> >takes exactly the same arguments as the standard function using
> >variable variables. (I wrote something of the kind for the echo/return
> >thread [1]).
> >
> Isn't that a bit chicken and egg? If the plugin doesn't exist to begin
> with, there's no code to loop over, hence no foo_func_safe() define
> hence we're back where we started. Unless I'm missing something basic.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://anothersadsong.com
From jeff at jrm.cc  Sun Mar 27 18:05:06 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Sun Mar 27 18:05:26 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <a491f91d05032708384c0b27@mail.gmail.com>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>	<4246741D.7060302@firasd.org>	<ebe43d6805032707337b96f8ae@mail.gmail.com>	<4246D46B.1080907@coldforged.org>
	<a491f91d05032708384c0b27@mail.gmail.com>
Message-ID: <4246F5D2.2030206@jrm.cc>

Robert Deaton wrote:
> The problem with the upgrading is that some users are suffering from
> having their plugins active and some are suffering for having them
> disabled. 

_cpf() is probably the better route to go. Mainly because this is not 
going to be just an "upgrade" issue. With all the great themes out now 
(140ish in the contest, more that aren't) people will be just popping 
them in and turning them on.

And if that theme uses a plugin you don't have, "ERROR".

And in this case, there would be an error on the _safe() function 
because it never was in their install of WP. Additionally, the _safe 
function would either need to be run every time (basically executing and 
parsing every plugin a person has) or some kind of function caching 
scheme - and that would probably take up a lot more time than "if 
function_exists" via a _cpf() call.

My two cents: _cpf();

Jeff
From ringmaster at midnightcircus.com  Sun Mar 27 19:31:45 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Sun Mar 27 19:33:00 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <4246F5D2.2030206@jrm.cc>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>	<4246741D.7060302@firasd.org>	<ebe43d6805032707337b96f8ae@mail.gmail.com>	<4246D46B.1080907@coldforged.org>	<a491f91d05032708384c0b27@mail.gmail.com>
	<4246F5D2.2030206@jrm.cc>
Message-ID: <42470A21.7000809@midnightcircus.com>

Themes are supposed to be designed with certain standards in mind.  
They're not supposed to include enabled features from plugins.  It's 
perfectly ok to include commented functions for potential plugins, but 
you shouldn't require plugins for your theme.

If the issue is one of WordPress turning plugins on/off during an 
upgrade, then that's a WordPress bug, as noted earlier in this thread.

Can we please not add any of these strange functions and just provide 
better documentation for switching themes, upgrading, and applying 
plugins, and be sure that authors of themes and plugins adhere to 
developer guidelines regarding these issues?  Isn't it the expectation 
of a user, who added those function in the first place, that the 
functions the plugin provides will stop working when they disable the 
plugin?  How stupid are we going to assume WordPress users are?

I'm tired of providing support for other people's poorly crafted themes 
(and there are suddenly a *lot* of them now, thanks) that don't work 
with my plugins because they're not built with any nod to compatibility.

Owen


From fd at firasd.org  Sun Mar 27 19:59:27 2005
From: fd at firasd.org (Firas D.)
Date: Sun Mar 27 20:01:54 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <42470A21.7000809@midnightcircus.com>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>	<4246741D.7060302@firasd.org>	<ebe43d6805032707337b96f8ae@mail.gmail.com>	<4246D46B.1080907@coldforged.org>	<a491f91d05032708384c0b27@mail.gmail.com>	<4246F5D2.2030206@jrm.cc>
	<42470A21.7000809@midnightcircus.com>
Message-ID: <4247109F.1050703@firasd.org>

Owen Winkler wrote:

> Can we please not add any of these strange functions and just provide 
> better documentation for switching themes, upgrading, and applying 
> plugins, and be sure that authors of themes and plugins adhere to 
> developer guidelines regarding these issues?  Isn't it the expectation 
> of a user, who added those function in the first place, that the 
> functions the plugin provides will stop working when they disable the 
> plugin?  How stupid are we going to assume WordPress users are?
>
> I'm tired of providing support for other people's poorly crafted 
> themes (and there are suddenly a *lot* of them now, thanks) that don't 
> work with my plugins because they're not built with any nod to 
> compatibility.

What happens when I turn off a plugin that I've put a call to in my 
template? My site dies quite ungracefully, and if outputting errors to 
the browser is off, I don't know what's wrong and my CSS screws up 
because the HTML stopped being outputted upon the undeclared function 
fatal issue. This is an experience issue for end users, not a 
get-out-of-jail-free issue for theme devs.

My point is that it's not stupid to stumble across this issue. Switch 
theme, rid yourself of a plugin, switch to your previous theme (with its 
customized templates) after a while. I dunno, there are many many ways 
one could come across this despite not being stupid, and I've personally 
seen a handful of questions on #wordpress as a result of this; usually 
their errors are off and their site looks hideous because of the 
half-applied CSS.
From rummanddan at gmail.com  Sun Mar 27 22:49:17 2005
From: rummanddan at gmail.com (Dan Thrue)
Date: Sun Mar 27 22:49:32 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <4247109F.1050703@firasd.org>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>
	<4246741D.7060302@firasd.org>
	<ebe43d6805032707337b96f8ae@mail.gmail.com>
	<4246D46B.1080907@coldforged.org>
	<a491f91d05032708384c0b27@mail.gmail.com> <4246F5D2.2030206@jrm.cc>
	<42470A21.7000809@midnightcircus.com> <4247109F.1050703@firasd.org>
Message-ID: <478a1cee050327144961e43603@mail.gmail.com>

Without reading the entire thread, wouldnt a solution be, that plugin
developers started using do_action apply_filter in the templates
instead of our own functions?

Just a thought, i suggested the same thing to Michael for Kubrick v2,
to predefine some hooks in the theme...

Lets take the former example:

snip:
> <?php if(function_exists('wp_cc_output_metadata') { wp_cc_output_metadata() } >
>
> <?php _cpf('wp_cc_output_metadata') ?>

Instead we would have a hook like:
<?php do_action('wp_output_metadata'); ?>

and the plugin would apply to it as usual: 
<?php add_action('wp_output_metadata', 'wp_cc_output_metadata'); ?>

I think this is a fair and good discussion on how to make the cleanest
and most "friendliest" plugins...


On Sun, 27 Mar 2005 14:59:27 -0500, Firas D. <fd@firasd.org> wrote:
> Owen Winkler wrote:
> 
> > Can we please not add any of these strange functions and just provide
> > better documentation for switching themes, upgrading, and applying
> > plugins, and be sure that authors of themes and plugins adhere to
> > developer guidelines regarding these issues?  Isn't it the expectation
> > of a user, who added those function in the first place, that the
> > functions the plugin provides will stop working when they disable the
> > plugin?  How stupid are we going to assume WordPress users are?
> >
> > I'm tired of providing support for other people's poorly crafted
> > themes (and there are suddenly a *lot* of them now, thanks) that don't
> > work with my plugins because they're not built with any nod to
> > compatibility.
> 
> What happens when I turn off a plugin that I've put a call to in my
> template? My site dies quite ungracefully, and if outputting errors to
> the browser is off, I don't know what's wrong and my CSS screws up
> because the HTML stopped being outputted upon the undeclared function
> fatal issue. This is an experience issue for end users, not a
> get-out-of-jail-free issue for theme devs.
> 
> My point is that it's not stupid to stumble across this issue. Switch
> theme, rid yourself of a plugin, switch to your previous theme (with its
> customized templates) after a while. I dunno, there are many many ways
> one could come across this despite not being stupid, and I've personally
> seen a handful of questions on #wordpress as a result of this; usually
> their errors are off and their site looks hideous because of the
> half-applied CSS.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From lists at alexking.org  Sun Mar 27 23:12:19 2005
From: lists at alexking.org (Alex King)
Date: Sun Mar 27 23:12:22 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <4246F5D2.2030206@jrm.cc>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>	<4246741D.7060302@firasd.org>	<ebe43d6805032707337b96f8ae@mail.gmail.com>	<4246D46B.1080907@coldforged.org>
	<a491f91d05032708384c0b27@mail.gmail.com> <4246F5D2.2030206@jrm.cc>
Message-ID: <9656c3a6457575fa872255c267997cad@alexking.org>

I hand checked each of the themes in the contest, so it *shouldn't* be 
an issue there (though it certainly is possible I missed something).

--Alex

http://www.alexking.org/


On Mar 27, 2005, at 11:05 AM, Jeff Minard wrote:

> _cpf() is probably the better route to go. Mainly because this is not 
> going to be just an "upgrade" issue. With all the great themes out now 
> (140ish in the contest, more that aren't) people will be just popping 
> them in and turning them on.

From mpt at myrealbox.com  Sun Mar 27 23:52:26 2005
From: mpt at myrealbox.com (Matthew Thomas)
Date: Sun Mar 27 23:52:43 2005
Subject: [wp-hackers] Re: [wp-svn] [2476] trunk/wp-admin/quicktags.js:
In-Reply-To: <ebe43d6805032602252ebff1f@mail.gmail.com>
References: <r02010500-1038-4D299C3C9C8911D99ACC000A95D5E130@10.0.1.4>	<1111685567.5179.5.camel@localhost.localdomain>	<4243D13F.4060808@txfx.net>
	<424457C6.9060305@mullenweg.com>
	<ebe43d6805032602252ebff1f@mail.gmail.com>
Message-ID: <4247473A.10503@myrealbox.com>

David House wrote:
>...
> But surely that hanging our heads in resignation and going with
> presentational markup that won't do any good for the semantic web at
> large,

That is true. Making incorrect <em>/<strong> easy won't do any good 
either. The difference is that overused presentational markup doesn't do 
any *harm*.

> why not try and educate new WordPress users in how the web is
> different? It doesn't need to be an involved discussion at all, just
> mention something like 'To emphasise your words, use the "em"
> quicktag. To use a citation, use the "cite" quicktags around the
> address of your citation.

Citation? <cite>http://you.mean.like.this/?</cite> Oops, not quite.

"Like this, perhaps?" <cite>Albert Einstein</cite> asked. No, that's not 
correct either. (Very smart people like Mark Pilgrim and Ian Hickson 
might think it's correct; but several hundred years of typographical 
convention, and many hundreds of millions of installed Web browsers, 
make it wrong.)

How about <cite>Fallujah Calm After Weekend Violence</cite>, <cite>The 
Wall Street Journal</cite>, p. 23? Nope, that's wrong too (for a similar 
reason).

<cite> is deceptively difficult to explain.

> These may be presented the same but it's still important to make the
 > distinction

But, see, that wouldn't be telling the truth. We're all hoping that one 
day there will be user agents that make the distinction between <em> and 
<cite> and <i>, and between <strong> and <th> and <b>, but (with minor 
Web-service exceptions) they don't exist yet.

WordPress developers could begin encouraging a distinction between 
<cite> and the other italic elements by putting something like cite, 
cite:link {color: #006; background: transparent;} in the style sheets 
for all its shipped-by-default themes. You could encourage the 
developers of other Weblog software, popular Wikis, and so on to do the 
same. (Unfortunately browser vendors probably wouldn't participate, lest 
<cite> disappear on pages with forest-green backgrounds.) Gradually the 
reader and author populations would build up awareness that <cite> is 
different from <i> and <em>. (Another thing that might help <cite> in 
WordPress is rewarding people for using it by automatically searching 
for matching titles to link to on B&N/IMDB/whatever.)

Distinguishing the other semantic elements may not be attractively 
possible. For example, I'd like to be able to suggest that <strong> 
could be made a different color too, but then people would think it was 
a link, because too many badly-designed Web sites have already used 
:link {font-weight: bold; color: something; text-decoration: none}.

> Of course, links could be provided to more in-depth discussion if
 > required.

Which, regrettably, people won't read, because they don't care.

> Display a couple of paragraphs to that effect on the Successful
> Installation screen, then I think these sorts of issues will start to
> disappear.

If I had a dollar for every time someone had suggested that 
explanations/preferences/warnings about their own pet hobbyhorse should 
be presented to users when they install Mozilla, I'd be a rich man -- 
and people still wouldn't read them, because they still wouldn't care. 
Same thing applies to WordPress, only moreso, because WordPress *boasts* 
of having a five-minute installation 
<http://wordpress.org/docs/installation/5-minute/>.

> And for the record, I don't think that any rich-text editor that tries
> to ape a word processor will ever work in conjunction with the
> semantic web.
>...

That may be true, but it won't be the word-processor-like editors that 
cede existence. Humans like them too much.

-- 
Matthew Thomas
http://mpt.net.nz/
From leon at lostrealm.com  Mon Mar 28 02:24:04 2005
From: leon at lostrealm.com (Leon Blackwell)
Date: Mon Mar 28 02:24:17 2005
Subject: [wp-hackers] Thoughts on Dict.
In-Reply-To: <20050327161042.54D3AA94B@comox.textdrive.com>
References: <20050324051905.GD18033@grail.lostrealm.com>
	<20050327161042.54D3AA94B@comox.textdrive.com>
Message-ID: <20050328022403.GA19884@grail.lostrealm.com>

On Sun, Mar 27, 2005 at 11:10:31AM -0500, Stewart Ugelow wrote:
> "We know about that and it was intentional.  'dict.org' is for RFC 2229 DICT
> protocol service.  'www.dict.org' is for HTTP service. These used to be on
> the same machine but they aren't at the moment. There is nothing that says
> that http://domain/ has to be equivalent to http://www.domain/, although it
> is certainly common."
> --Stewart

Can I suggest that they put a lightweight HTTP daemon on that box and
make it redirect to www.dict.org, then?  There are plenty of people out
there that don't like the www convention ( http://no-www.org/ ).


-- 
 Leon Blackwell                | A nice thing about not planning is
 http://the.lostrealm.com/     | that failure comes as a complete
 jabber:lionfire@lostrealm.com | surprise and is not preceded by long
                               | periods of worry and depression.
From m at mullenweg.com  Mon Mar 28 21:36:08 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Mon Mar 28 21:36:04 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <42470A21.7000809@midnightcircus.com>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>	<4246741D.7060302@firasd.org>	<ebe43d6805032707337b96f8ae@mail.gmail.com>	<4246D46B.1080907@coldforged.org>	<a491f91d05032708384c0b27@mail.gmail.com>	<4246F5D2.2030206@jrm.cc>
	<42470A21.7000809@midnightcircus.com>
Message-ID: <424878C8.7050508@mullenweg.com>

Owen Winkler wrote:
> Can we please not add any of these strange functions and just provide 
> better documentation for switching themes, upgrading, and applying 
> plugins, and be sure that authors of themes and plugins adhere to 
> developer guidelines regarding these issues?  

Many plugin functions (time_since, etc) could be embedded directly in 
theme files, which would eliminate any bundling issues. Perhaps we could 
make this more formal by having a file (extra-functions.php) that was 
loaded with plugins if it existed for a theme.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From kim at tac.nyc.ny.us  Mon Mar 28 21:49:00 2005
From: kim at tac.nyc.ny.us (Kimmo Suominen)
Date: Mon Mar 28 21:49:10 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <424878C8.7050508@mullenweg.com>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>
	<4246741D.7060302@firasd.org>
	<ebe43d6805032707337b96f8ae@mail.gmail.com>
	<4246D46B.1080907@coldforged.org>
	<a491f91d05032708384c0b27@mail.gmail.com>
	<4246F5D2.2030206@jrm.cc> <42470A21.7000809@midnightcircus.com>
	<424878C8.7050508@mullenweg.com>
Message-ID: <20050328214900.GY6776@kimmo.suominen.com>

On Mon, Mar 28, 2005 at 11:36:08PM +0200, Matthew Mullenweg wrote:
> Owen Winkler wrote:
> >Can we please not add any of these strange functions and just provide 
> >better documentation for switching themes, upgrading, and applying 
> >plugins, and be sure that authors of themes and plugins adhere to 
> >developer guidelines regarding these issues?  
> 
> Many plugin functions (time_since, etc) could be embedded directly in 
> theme files, which would eliminate any bundling issues. Perhaps we could 
> make this more formal by having a file (extra-functions.php) that was 
> loaded with plugins if it existed for a theme.

I like this idea.  I think it would be most useful if plugins were all
loaded first, then extra-functions.php from the theme.  This way it is
possible to check for plugins in extra-functions.php, and provide dummy
replacements for things that are not enabled, so that the theme can be
displayed while some functionality might be missing.

Regards,
+ Kim
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>

From mark.wordpress at txfx.net  Mon Mar 28 21:50:48 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Mon Mar 28 21:52:48 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <424878C8.7050508@mullenweg.com>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>	<4246741D.7060302@firasd.org>	<ebe43d6805032707337b96f8ae@mail.gmail.com>	<4246D46B.1080907@coldforged.org>	<a491f91d05032708384c0b27@mail.gmail.com>	<4246F5D2.2030206@jrm.cc>	<42470A21.7000809@midnightcircus.com>
	<424878C8.7050508@mullenweg.com>
Message-ID: <42487C38.6070401@txfx.net>

Matthew Mullenweg wrote:

> Owen Winkler wrote:
>
>> Can we please not add any of these strange functions and just provide 
>> better documentation for switching themes, upgrading, and applying 
>> plugins, and be sure that authors of themes and plugins adhere to 
>> developer guidelines regarding these issues?  
>
>
> Many plugin functions (time_since, etc) could be embedded directly in 
> theme files, which would eliminate any bundling issues. Perhaps we 
> could make this more formal by having a file (extra-functions.php) 
> that was loaded with plugins if it existed for a theme.
>
Perhaps they could all be placed in a subdirectory of the theme 
directory.  /themes/my-theme/plugins/  That's how I've been doing it 
(along with code in the theme to include every file in the plugins 
directory.  Another thing is that you have to be careful of function 
redeclaration, in the case that someone already has that plugin 
installed.  I usually just wrap the entire plugin file in a giant 
"is_function()" that checks the main function of the plugin (no need to 
check every single function... if one of the plugin's functions has 
already been declared, they all probably have).
From ringmaster at midnightcircus.com  Mon Mar 28 22:15:40 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Mon Mar 28 22:09:09 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <42487C38.6070401@txfx.net>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>	<4246741D.7060302@firasd.org>	<ebe43d6805032707337b96f8ae@mail.gmail.com>	<4246D46B.1080907@coldforged.org>	<a491f91d05032708384c0b27@mail.gmail.com>	<4246F5D2.2030206@jrm.cc>	<42470A21.7000809@midnightcircus.com>	<424878C8.7050508@mullenweg.com>
	<42487C38.6070401@txfx.net>
Message-ID: <4248820C.8080804@midnightcircus.com>

> Matthew Mullenweg wrote:
>> Many plugin functions (time_since, etc) could be embedded directly in 
>> theme files, which would eliminate any bundling issues. Perhaps we 
>> could make this more formal by having a file (extra-functions.php) 
>> that was loaded with plugins if it existed for a theme.

Yes, I like this.  It should be included after all plugins are loaded, 
so that it can do something like:

if(!is_callable('time_since')) {
	function time_since() {
		echo 'Download <a href="#">Time Since</a>';
	}
}

I like the idea of putting some of the responsibility for getting the 
theme to work properly on the theme developer, as opposed to the user or 
plugin developer.

If there was a way (and I think there is probably an existing plugin 
hook that might work) for this theme file to integrate itself into the 
Presentation panel and display the plugins it requires compared to the 
plugins that are installed and activated, that would be supercool.



Mark Jaquith wrote:
> Perhaps they could all be placed in a subdirectory of the theme 
> directory.  /themes/my-theme/plugins/  That's how I've been doing it 
> (along with code in the theme to include every file in the plugins 
> directory.  Another thing is that you have to be careful of function 
> redeclaration, in the case that someone already has that plugin 
> installed.  I usually just wrap the entire plugin file in a giant 
> "is_function()" that checks the main function of the plugin (no need to 
> check every single function... if one of the plugin's functions has 
> already been declared, they all probably have).

You point out a couple of several issues that you could have with this 
already.  First is that you have to pack all of the plugins your theme 
uses with your theme, which I can imagine isn't fun for you from a 
maintenance standpoint.  Additionaly, as you point out, you then have to 
check the functions you've included to be sure that they don't already 
have those functions installed.

Potentially, support for these plugins would come from the original 
plugin developer, but you've moved all their code to a non-standard 
place (your theme directory) and wrapped it in is_function() calls. 
Imagine the headache for a plugin developer who didn't know you did this 
trying to figure out how their plugin is working on a site when it's not 
installed in the plugins directory.

I'm all for making things easy on the user, but I wonder if this would 
result in more downstream problems than the one it's trying to solve.

Owen

From mark.wordpress at txfx.net  Tue Mar 29 00:38:44 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Tue Mar 29 00:40:48 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <4248820C.8080804@midnightcircus.com>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>	<4246741D.7060302@firasd.org>	<ebe43d6805032707337b96f8ae@mail.gmail.com>	<4246D46B.1080907@coldforged.org>	<a491f91d05032708384c0b27@mail.gmail.com>	<4246F5D2.2030206@jrm.cc>	<42470A21.7000809@midnightcircus.com>	<424878C8.7050508@mullenweg.com>	<42487C38.6070401@txfx.net>
	<4248820C.8080804@midnightcircus.com>
Message-ID: <4248A394.7030102@txfx.net>

Owen Winkler wrote:

> You point out a couple of several issues that you could have with this 
> already.  First is that you have to pack all of the plugins your theme 
> uses with your theme, which I can imagine isn't fun for you from a 
> maintenance standpoint.  Additionaly, as you point out, you then have 
> to check the functions you've included to be sure that they don't 
> already have those functions installed.
>
> Potentially, support for these plugins would come from the original 
> plugin developer, but you've moved all their code to a non-standard 
> place (your theme directory) and wrapped it in is_function() calls. 
> Imagine the headache for a plugin developer who didn't know you did 
> this trying to figure out how their plugin is working on a site when 
> it's not installed in the plugins directory.


How can you get around having to pack the plugins with your theme unless 
you provide some sort of "is_function" wrapper or something to degrade 
gracefully?  If you want it to work out of the box, you have no option 
but to include the plugins, making sure that they will be overridden if 
the user already has them.
From skippy at skippy.net  Tue Mar 29 00:46:32 2005
From: skippy at skippy.net (Scott Merrill)
Date: Tue Mar 29 00:46:39 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <4248A394.7030102@txfx.net>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>	<4246741D.7060302@firasd.org>	<ebe43d6805032707337b96f8ae@mail.gmail.com>	<4246D46B.1080907@coldforged.org>	<a491f91d05032708384c0b27@mail.gmail.com>	<4246F5D2.2030206@jrm.cc>	<42470A21.7000809@midnightcircus.com>	<424878C8.7050508@mullenweg.com>	<42487C38.6070401@txfx.net>	<4248820C.8080804@midnightcircus.com>
	<4248A394.7030102@txfx.net>
Message-ID: <4248A568.4050107@skippy.net>

Mark Jaquith wrote:
> How can you get around having to pack the plugins with your theme unless 
> you provide some sort of "is_function" wrapper or something to degrade 
> gracefully?  If you want it to work out of the box, you have no option 
> but to include the plugins, making sure that they will be overridden if 
> the user already has them.

As a counter opinon, I think it's perfectly okay for themes to simply 
contain a README with explicit requirements, and detailed instructions. 
  Poorly documented themes won't get much (positive) visibility, while 
well-documented themes will naturally rise to the top.

Not every plugin can be made to work with every theme out of the box, 
and not every theme can be made to work with every plugin combination 
out of the box.  We don't need to do _everything_ for our users.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From craig at nuclearmoose.com  Tue Mar 29 01:21:18 2005
From: craig at nuclearmoose.com (Craig Hartel)
Date: Tue Mar 29 01:21:27 2005
Subject: [wp-hackers] Degrading gracefully with deactivated plugins?
In-Reply-To: <4248A568.4050107@skippy.net>
References: <9a87f0e36aae7bebe316e2e7b41a9171@doocy.net>	<4246741D.7060302@firasd.org>	<ebe43d6805032707337b96f8ae@mail.gmail.com>	<4246D46B.1080907@coldforged.org>	<a491f91d05032708384c0b27@mail.gmail.com>	<4246F5D2.2030206@jrm.cc>	<42470A21.7000809@midnightcircus.com>	<424878C8.7050508@mullenweg.com>	<42487C38.6070401@txfx.net>	<4248820C.8080804@midnightcircus.com>	<4248A394.7030102@txfx.net>
	<4248A568.4050107@skippy.net>
Message-ID: <4248AD8E.4090504@nuclearmoose.com>

Scott Merrill wrote:
We don't need to do _everything_ for our users.
> 

Yeah, we can just leave it for the support forums! <evil grin>

Craig.
From ryan at boren.nu  Tue Mar 29 06:59:02 2005
From: ryan at boren.nu (Ryan Boren)
Date: Tue Mar 29 06:59:22 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <80f75db050307082376675121@mail.gmail.com>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>
	<cfced4523fe0d217573f42a3eea3c178@textdrive.com>
	<80f75db05030615523b9389e2@mail.gmail.com>
	<3dfa3d4035fab2bc1ff7c8c5c8a21561@textdrive.com>
	<422C12AB.9050008@tamba2.org.uk>
	<e6a2391e8678bb40049ffd7a3bc9cfef@mullenweg.com>
	<422C264D.2010404@tamba2.org.uk> <422C2E21.2060408@mullenweg.com>
	<422C5C8D.8050304@tamba2.org.uk> <422C7D87.5090507@tamba2.org.uk>
	<80f75db050307082376675121@mail.gmail.com>
Message-ID: <1112079542.29270.41.camel@portnoy.fuzzybelly.org>

On Mon, 2005-03-07 at 11:23 -0500, Carthik Sharma wrote:
> Just a mild reminder, if I may :
> 
> Since Jason seems to be inclined to help, and so too Farook, maybe we
> could nail down the exact queries that caused at least a few of the
> problems?
> 
> I know that recreating problems such as these are not the easiest
> thing to do, and I am not webhost, so I am wondering what the best
> approach would be, to identify the query or WP code responsible for
> the problems as in the ones described by Jason. Jason posted three
> log-sections earlier, but without knowing what caused those problems
> where mysql errored out (insufficient memory), I can't see a way
> forward - with respect to improving the source.
> 
> Maybe michel_v or dougal or matt can look into the aspect of posting
> through xmlrpc that caused the problem Jason referred to?
> 
> Maybe rboren can provide some insight over what he thinks might have
> caused the problem on his account?

Well, I got error 12 for awhile again today.

WordPress database error: [Got error 12 from table handler]
SELECT DISTINCT YEAR(post_date) AS `year`, MONTH(post_date) AS `month`,
count(ID) as posts FROM wp_posts WHERE post_date < '2005-03-29 00:42:00'
AND post_status = 'publish' GROUP BY YEAR(post_date), MONTH(post_date)
ORDER BY post_date DESC

That query is made by get_archives() when retrieving by month.  It's
usually a short running query.  It simply makes a list of months.

Anyhoo, if you're curious to see what queries are made and how long they
take to run, try the attached plugin.  It dumps a list of queries into
wp_footer(), which isn't a pretty thing to put on your production blog.
Save it for a testbed.  You have to define SAVEQUERIES in wp-config for
the plugin to work (directions in the plugin).

Ryan



From alisencer at gmail.com  Tue Mar 29 14:56:41 2005
From: alisencer at gmail.com (Sencer)
Date: Tue Mar 29 14:56:53 2005
Subject: [wp-hackers] Redundant queries?
Message-ID: <12fac10305032906565767a224@mail.gmail.com>

Hello,

I am trying out WP1.5 and looking at the query-log of mysql for a
page-request that only displays a list of 10 entries. Some queries are
identical/duplicates, so the code could be easily rewritten to drop
these queries. This is only a suggestion. Maybe one of the devs that
is familiar with the WP codebase wants to look into this.

Here is a list of the queries as they are made during execution:
http://www.sencer.de/code/wp/qlog.txt
And here is a sorted list:
http://www.sencer.de/code/wp/qsort.txt

There are duplicates for:

SELECT * FROM wp_users WHERE ID = X

as well as for 

SELECT COUNT(ID) FROM wp_posts  WHERE 1=1 AND post_date_gmt <= 'X' AND
(post_status = "publish")

 ===

Not quiet duplicates, but possibly open for improvement concerning the
Category-queries. Currently there is one query like this:

SELECT DISTINCT ID, category_id, cat_name, category_nicename,
category_description, category_parent FROM wp_categories, wp_post2cat,
wp_posts WHERE category_id = cat_ID AND post_id = ID AND post_id IN
(1352,1351,1350,1349,1348,1347,1346,1345,1344,1343)

and an additional one for each post
SELECT category_id, cat_name, category_nicename, category_description,
category_parent FROM  wp_categories, wp_post2cat WHERE
wp_post2cat.category_id = cat_ID AND wp_post2cat.post_id = 'X'

which is not really necessary, since it queries basically the same
information as the first one.


Regards

Sencer

-- 
http://www.sencer.de
From ryan at boren.nu  Tue Mar 29 15:45:13 2005
From: ryan at boren.nu (Ryan Boren)
Date: Tue Mar 29 15:45:25 2005
Subject: [wp-hackers] Problems ?
In-Reply-To: <1112079542.29270.41.camel@portnoy.fuzzybelly.org>
References: <1110062646.3961.26.camel@portnoy.fuzzybelly.org>
	<cfced4523fe0d217573f42a3eea3c178@textdrive.com>
	<80f75db05030615523b9389e2@mail.gmail.com>
	<3dfa3d4035fab2bc1ff7c8c5c8a21561@textdrive.com>
	<422C12AB.9050008@tamba2.org.uk>
	<e6a2391e8678bb40049ffd7a3bc9cfef@mullenweg.com>
	<422C264D.2010404@tamba2.org.uk> <422C2E21.2060408@mullenweg.com>
	<422C5C8D.8050304@tamba2.org.uk> <422C7D87.5090507@tamba2.org.uk>
	<80f75db050307082376675121@mail.gmail.com>
	<1112079542.29270.41.camel@portnoy.fuzzybelly.org>
Message-ID: <1112111113.29270.43.camel@portnoy.fuzzybelly.org>

On Tue, 2005-03-29 at 00:59 -0600, Ryan Boren wrote:
> Anyhoo, if you're curious to see what queries are made and how long they
> take to run, try the attached plugin.  It dumps a list of queries into
> wp_footer(), which isn't a pretty thing to put on your production blog.
> Save it for a testbed.  You have to define SAVEQUERIES in wp-config for
> the plugin to work (directions in the plugin).

Really attaching the plugin this time.

Ryan

-------------- next part --------------
A non-text attachment was scrubbed...
Name: time_queries.php
Type: application/x-php
Size: 767 bytes
Desc: not available
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050329/dc9b6abc/time_queries.bin
From ryan at boren.nu  Tue Mar 29 18:10:09 2005
From: ryan at boren.nu (Ryan Boren)
Date: Tue Mar 29 18:32:12 2005
Subject: [wp-hackers] New Theme Header Field: Status
Message-ID: <1112119810.29270.54.camel@portnoy.fuzzybelly.org>

How about adding a "Status:" field to the list of recognized theme
header fields?  The status could be publish, private, or draft.  Plugins
such as the theme switcher could exclude plugins that are not "publish".
The default status would be publish if none is specified.  Theme authors
would not include this field in their themes.  It would be reserved for
users to add as needed.

Ryan


From wp at watershedstudio.com  Wed Mar 30 01:59:46 2005
From: wp at watershedstudio.com (Brian Groce)
Date: Wed Mar 30 02:18:58 2005
Subject: [wp-hackers] Page Versioning Plugin Testing
Message-ID: <424A0812.2040108@watershedstudio.com>

Within  the next week I plan on having the page versioning plugin ready 
for beta testing, so if you use the pages feature quite a bit and are 
interested in testing the plugin out, please let me know.

Thanks,

Brian
http://watershedstudio.com
http://briangroce.com
From jeff at jrm.cc  Wed Mar 30 02:32:54 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Wed Mar 30 02:33:05 2005
Subject: [wp-hackers] Page Versioning Plugin Testing
In-Reply-To: <424A0812.2040108@watershedstudio.com>
References: <424A0812.2040108@watershedstudio.com>
Message-ID: <424A0FD6.2010702@jrm.cc>

Brian Groce wrote:
> Within  the next week I plan on having the page versioning plugin ready 
> for beta testing, so if you use the pages feature quite a bit and are 
> interested in testing the plugin out, please let me know.

As "pages" are just posts in a very clever guise, will this plugin also 
work with posts?

Jeff
From wp at watershedstudio.com  Wed Mar 30 03:14:20 2005
From: wp at watershedstudio.com (Brian Groce)
Date: Wed Mar 30 03:14:31 2005
Subject: [wp-hackers] Page Versioning Plugin Testing
In-Reply-To: <424A0FD6.2010702@jrm.cc>
References: <424A0812.2040108@watershedstudio.com> <424A0FD6.2010702@jrm.cc>
Message-ID: <424A198C.5020102@watershedstudio.com>


Jeff Minard wrote:

> Brian Groce wrote:
>
>> Within  the next week I plan on having the page versioning plugin 
>> ready for beta testing, so if you use the pages feature quite a bit 
>> and are interested in testing the plugin out, please let me know.
>
>
> As "pages" are just posts in a very clever guise, will this plugin 
> also work with posts?
>
> Jeff


Yeah...at least for the moment I'm not looking to see it's static or not.

I'll probably wait to see how people are using it to determine if 
there's a usefullness for separate plugins (posts & pages), but for my 
need I'm just taking away the option for users to add posts...using it 
as a CMS, not a blog.

Brian
From jeff at jrm.cc  Wed Mar 30 07:26:30 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Wed Mar 30 07:26:59 2005
Subject: [wp-hackers] Page Versioning Plugin Testing
In-Reply-To: <424A198C.5020102@watershedstudio.com>
References: <424A0812.2040108@watershedstudio.com> <424A0FD6.2010702@jrm.cc>
	<424A198C.5020102@watershedstudio.com>
Message-ID: <424A54A6.3080806@jrm.cc>

Brian Groce wrote:
> I'll probably wait to see how people are using it to determine if 
> there's a usefullness for separate plugins (posts & pages), but for my 
> need I'm just taking away the option for users to add posts...using it 
> as a CMS, not a blog.

Ah, got it. I usually leave the "blog" part as a calendar function ;-)

I'd love to give this plugin a try since the topic of versioning has 
been a recent hot bed on the list. (And because it could be quite useful 
for a site I am making ;)

Send it my way when it's ready.

Jeff
From mark.wordpress at txfx.net  Wed Mar 30 07:55:45 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Wed Mar 30 07:57:39 2005
Subject: [wp-hackers] WP Plugin Option API
Message-ID: <424A5B81.6070702@txfx.net>

I've been thinking about plugin options and how the move seems to be 
towards giving each plugin its own options page.  There seems to be two 
problems with that: clutter, and work.

It takes effort to design a plugin settings page, and it makes plugins 
quite a bit bigger with all that form stuff and options processing 
code.  Plus, the Options submenu on most installs is quickly filling up.

Some plugins deserve their own options page, because of the sheer number 
of options, and the complexity with which they need to be presented.  
But many plugins only have a handful of simple options to be set, so 
giving them their own options page seems wasteful.  What I would really 
love is a simple WP Plugin Options API.  How it would work would be that 
WordPress would provide a "Plugin Options" page with options grouped by 
plugin, in their own fieldset or "wrap" div.  Adding options from within 
the plugin should be as easy as setting the option_name, option_type, 
option_group, etc. in some sort of add_plugin_option(); function.  The 
Plugin Options page could take all that plugin data, present it in a 
nice format, and handle all the saving/processing stuff.  I think this 
would seriously lower the barrier for plugin devs who want to add 
options that can be changed from within WordPress, but aren't too keen 
on designing their own options page, as they could essentially add that 
capability with one function call.  It would make plugins smaller, 
easier to code, and easier for users to control.  While it wouldn't be 
ideal for every plugin, I think the vast majority of plugins could 
benefit from it.

I've been toying with the idea of creating this API as a plugin, but it 
would make life so much easier if something like this were in the core.
From dmhouse at gmail.com  Wed Mar 30 11:36:33 2005
From: dmhouse at gmail.com (David House)
Date: Wed Mar 30 11:36:38 2005
Subject: [wp-hackers] New Theme Header Field: Status
In-Reply-To: <1112119810.29270.54.camel@portnoy.fuzzybelly.org>
References: <1112119810.29270.54.camel@portnoy.fuzzybelly.org>
Message-ID: <ebe43d680503300336a63f90e@mail.gmail.com>

Or perhaps 'Alpha', 'Beta' or 'Stable Release' to avoid confusion with
the status of entries. Or 'Developers Release Candidate', 'Release
Candidate' and 'Release' if you prefer that line.

-- 
-David House, dmhouse@gmail.com
From ringmaster at midnightcircus.com  Wed Mar 30 14:17:36 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Wed Mar 30 14:11:57 2005
Subject: [wp-hackers] WP Plugin Option API
In-Reply-To: <424A5B81.6070702@txfx.net>
References: <424A5B81.6070702@txfx.net>
Message-ID: <424AB500.6020501@midnightcircus.com>

Mark Jaquith wrote:
> I've been toying with the idea of creating this API as a plugin, but it 
> would make life so much easier if something like this were in the core.

The explanation:
http://www.asymptomatic.net/archives/2005/03/11/1380/admin-we-have-a-problem/

In wp-plugins:
http://svn.wp-plugins.org/smalloptions

Owen

From mark.wordpress at txfx.net  Wed Mar 30 19:29:23 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Wed Mar 30 19:31:27 2005
Subject: [wp-hackers] WP Plugin Option API
In-Reply-To: <424AB500.6020501@midnightcircus.com>
References: <424A5B81.6070702@txfx.net> <424AB500.6020501@midnightcircus.com>
Message-ID: <424AFE13.7080102@txfx.net>

Owen Winkler wrote:

> Mark Jaquith wrote:
>
>> I've been toying with the idea of creating this API as a plugin, but 
>> it would make life so much easier if something like this were in the 
>> core.
>
>
> The explanation:
> http://www.asymptomatic.net/archives/2005/03/11/1380/admin-we-have-a-problem/ 
>
>
> In wp-plugins:
> http://svn.wp-plugins.org/smalloptions

Yeah... I saw that.  And while it is very cool, and while it certainly 
solves the clutter, it doesn't reduce the amount of work for 
developers.  Because it is optional, you have to do all the work to make 
it function on its own without your SmallOptions plugin.  If something 
like this were in the core, you wouldn't need to provide a standalone 
method.

From false.hopes at gmail.com  Wed Mar 30 20:05:03 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Wed Mar 30 20:05:13 2005
Subject: [wp-hackers] WP Plugin Option API
In-Reply-To: <424AFE13.7080102@txfx.net>
References: <424A5B81.6070702@txfx.net> <424AB500.6020501@midnightcircus.com>
	<424AFE13.7080102@txfx.net>
Message-ID: <a491f91d050330120596cf925@mail.gmail.com>

I think that an easier method for creating plugin options pages could
exist, and at the same time be a method for preventing that clutter.

The first, would be to provide a set of functions that would allow
users to create their own plugin page with much simpler hooks. Instead
of being required to design the form, they could use functions that
would design the form for them.

These same functions could also optionally apply to a Plugin Options
page, where each plugin gets a section in the general Plugin Options
page. This could make plugins much more easy to develop since users
wouldn't have to go through the large amount of hassle creating the
form and later parsing the form.

I think I'll work on designing this as a plugin, but a plugin isn't
the most ideal way to implement this, because it would have to be
activated first in order for other plugins that use its options to
flourish. It would also require that some plugin authors either bundle
the plugin with theirs or ask that users visit a location offsite to
download the plugin. These matters could be solved later though after
such a plugin is finished.

I have quite a bit of code worked up in my head already on how to
implement this, and will go about doing it as soon as my latest
project is finished.

On Wed, 30 Mar 2005 14:29:23 -0500, Mark Jaquith
<mark.wordpress@txfx.net> wrote:
> Owen Winkler wrote:
> 
> > Mark Jaquith wrote:
> >
> >> I've been toying with the idea of creating this API as a plugin, but
> >> it would make life so much easier if something like this were in the
> >> core.
> >
> >
> > The explanation:
> > http://www.asymptomatic.net/archives/2005/03/11/1380/admin-we-have-a-problem/
> >
> >
> > In wp-plugins:
> > http://svn.wp-plugins.org/smalloptions
> 
> Yeah... I saw that.  And while it is very cool, and while it certainly
> solves the clutter, it doesn't reduce the amount of work for
> developers.  Because it is optional, you have to do all the work to make
> it function on its own without your SmallOptions plugin.  If something
> like this were in the core, you wouldn't need to provide a standalone
> method.
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://anothersadsong.com
From journalized at gmail.com  Wed Mar 30 20:39:33 2005
From: journalized at gmail.com (Mike Little)
Date: Wed Mar 30 20:40:40 2005
Subject: [wp-hackers] WP Plugin Option API
In-Reply-To: <a491f91d050330120596cf925@mail.gmail.com>
References: <424A5B81.6070702@txfx.net> <424AB500.6020501@midnightcircus.com>
	<424AFE13.7080102@txfx.net>
	<a491f91d050330120596cf925@mail.gmail.com>
Message-ID: <7235ce78050330123929c3f4b1@mail.gmail.com>

To be totally non-constructive, I have to say I'm quite amused by this
conversation.

Automatic forms and forms processing based on functional groups of
options was what I originally coded for the options, when I took them
out of the configuration file. That code got ripped out some time last
year. Mostly, as far as I can gather because the groupings weren't
intuitive and the forms were ugly. Though
http://example.com/blog/wp-admin/options.php?group_option_id=all still
works.

Sorry, that didn't help at all...

I think the general idea of having the core code handle the options
for a plugin is a good idea (no surprise there).
A plugin during installation could register a group of options, which
would be added to the database. There would have to be some kind of
naming conventions, such that no two plugins ended up with the same
group name (or option name for that matter). There would also have to
be some way to distinguish plugins installed but not currently active
so their options weren't presented to the user.

An idea (if this code is going in the core -- and I think it should)
is to have an optional file name associated with the group of options
so that the code could call the plugins own options page if enabled or
else handle it as described.

Anyway, there are some good ideas here, keep fleshing them out.

Mike
-- 
Mike Little
http://zed1.com/journalized/
From ryan at boren.nu  Thu Mar 31 04:11:49 2005
From: ryan at boren.nu (Ryan Boren)
Date: Thu Mar 31 04:11:55 2005
Subject: [wp-hackers] Add dropdown support to wp_list_pages()
Message-ID: <1112242309.6881.4.camel@portnoy.fuzzybelly.org>

http://mosquito.wordpress.org/view.php?id=1189

People seem to have a thing for dropdowns.  I attached a patch to bug
1189 that adds dropdown support to wp_list_pages().  Use it like so:

wp_list_pages('style=dropdown');

The list style can be had like this:

wp_list_pages('style=list');

If no style is specified, list is used.

Anyone want to try it out and spruce it up?  It's currently very rough
draft.  Any options we need to add?

Ryan

From rummanddan at gmail.com  Thu Mar 31 08:01:35 2005
From: rummanddan at gmail.com (Dan Thrue)
Date: Thu Mar 31 08:01:46 2005
Subject: [wp-hackers] Add dropdown support to wp_list_pages()
In-Reply-To: <1112242309.6881.4.camel@portnoy.fuzzybelly.org>
References: <1112242309.6881.4.camel@portnoy.fuzzybelly.org>
Message-ID: <478a1cee05033100012518e529@mail.gmail.com>

I have created a little plugin to handle pages more "navigation" friendly...

I guess im ready to release it for public next week, but everything on
my blog (www.rummanddan.dk) is page navigation...

Regards Dan

On Wed, 30 Mar 2005 22:11:49 -0600, Ryan Boren <ryan@boren.nu> wrote:
> http://mosquito.wordpress.org/view.php?id=1189
> 
> People seem to have a thing for dropdowns.  I attached a patch to bug
> 1189 that adds dropdown support to wp_list_pages().  Use it like so:
> 
> wp_list_pages('style=dropdown');
> 
> The list style can be had like this:
> 
> wp_list_pages('style=list');
> 
> If no style is specified, list is used.
> 
> Anyone want to try it out and spruce it up?  It's currently very rough
> draft.  Any options we need to add?
> 
> Ryan
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From false.hopes at gmail.com  Thu Mar 31 14:43:05 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Mar 31 14:43:13 2005
Subject: [wp-hackers] WP Plugin Option API
In-Reply-To: <7235ce78050330123929c3f4b1@mail.gmail.com>
References: <424A5B81.6070702@txfx.net> <424AB500.6020501@midnightcircus.com>
	<424AFE13.7080102@txfx.net>
	<a491f91d050330120596cf925@mail.gmail.com>
	<7235ce78050330123929c3f4b1@mail.gmail.com>
Message-ID: <a491f91d0503310643447c3611@mail.gmail.com>

Well, what was going through my head was that the options for a plugin
is the most difficult, and a set of wrappers to make forms exactly
like the default options page wouldn't be too awfully difficult, I'm
just spending a lot of time thinking about if there should be like
some sort error checking to make sure the user closes the form and
such, but at the same time, I don't think it should be necessary as
long as developers remember to call the function to close the form and
such. I think I'll leave out any form of error checking initially and
just design the forms around the functions they call. I've already got
some coding done, so if you would all like I'll post a pre-alpha to
the list within the next couple days (spring break, so plenty of time
free).


On Wed, 30 Mar 2005 21:39:33 +0100, Mike Little <journalized@gmail.com> wrote:
> To be totally non-constructive, I have to say I'm quite amused by this
> conversation.
> 
> Automatic forms and forms processing based on functional groups of
> options was what I originally coded for the options, when I took them
> out of the configuration file. That code got ripped out some time last
> year. Mostly, as far as I can gather because the groupings weren't
> intuitive and the forms were ugly. Though
> http://example.com/blog/wp-admin/options.php?group_option_id=all still
> works.
> 
> Sorry, that didn't help at all...
> 
> I think the general idea of having the core code handle the options
> for a plugin is a good idea (no surprise there).
> A plugin during installation could register a group of options, which
> would be added to the database. There would have to be some kind of
> naming conventions, such that no two plugins ended up with the same
> group name (or option name for that matter). There would also have to
> be some way to distinguish plugins installed but not currently active
> so their options weren't presented to the user.
> 
> An idea (if this code is going in the core -- and I think it should)
> is to have an optional file name associated with the group of options
> so that the code could call the plugins own options page if enabled or
> else handle it as described.
> 
> Anyway, there are some good ideas here, keep fleshing them out.
> 
> Mike
> --
> Mike Little
> http://zed1.com/journalized/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://anothersadsong.com
From ryan at boren.nu  Thu Mar 31 16:51:24 2005
From: ryan at boren.nu (Ryan Boren)
Date: Thu Mar 31 16:51:28 2005
Subject: [wp-hackers] 0001191: Add query string style API to wp_get_links()
Message-ID: <1112287884.6881.14.camel@portnoy.fuzzybelly.org>

http://mosquito.wordpress.org/view.php?id=1191

For review.

Ryan


From ryan at boren.nu  Thu Mar 31 17:00:34 2005
From: ryan at boren.nu (Ryan Boren)
Date: Thu Mar 31 17:00:39 2005
Subject: [wp-hackers] 1.5.1: Important Bugs
Message-ID: <1112288434.6881.22.camel@portnoy.fuzzybelly.org>

I think we took care of most of the bugs from the last list.  Time for a
new list.

Feeds:  (Here we have two different approaches to handling entities)

0000929: html entities should not appear in rss2 title
http://mosquito.wordpress.org/view.php?id=929

0001132: Pingbacks force RSS2 comment feeds to fail
http://mosquito.wordpress.org/view.php?id=1132


Pingback:

0001166: Pingbacks don't work with allow_url_fopen=Off
http://mosquito.wordpress.org/view.php?id=1166

0001154: Pingbacks fail to send. IXR_error is "fault code: 3"
http://mosquito.wordpress.org/view.php?id=1154

From false.hopes at gmail.com  Thu Mar 31 18:00:46 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Mar 31 18:00:49 2005
Subject: [wp-hackers] 1.5.1: Important Bugs
In-Reply-To: <1112288434.6881.22.camel@portnoy.fuzzybelly.org>
References: <1112288434.6881.22.camel@portnoy.fuzzybelly.org>
Message-ID: <a491f91d050331100024a81d6a@mail.gmail.com>

I'm double posting this to both the hackers and docs list. I'm not
sure if this is a documentation error on the codex, a bug in
WordPress, or both. My current guess is both.

According to the codex [1], If you supply a function to
add_submenu_page, that function would be called to display the content
and the plugin file would not be included for its page. From what I
can see after the past two hours of headaches surfing the source code,
the function is not called, and rather a hook is created with the
function name supplied. Not only that, but even if a function is
supplied, it still tries to include the page, because somewhere in the
get_plugin_page_hookname and get_plugin_page_hook there is a bug that
results in the hook not being returned, and thus the conditional on
line 46 of admin.php fails, which causes the file to be included.
Someone please, help out on this, its killing me.

[1] http://codex.wordpress.org/Adding_Administration_Menus#add_submenu_page.28.29


On Thu, 31 Mar 2005 11:00:34 -0600, Ryan Boren <ryan@boren.nu> wrote:
> I think we took care of most of the bugs from the last list.  Time for a
> new list.
> 
> Feeds:  (Here we have two different approaches to handling entities)
> 
> 0000929: html entities should not appear in rss2 title
> http://mosquito.wordpress.org/view.php?id=929
> 
> 0001132: Pingbacks force RSS2 comment feeds to fail
> http://mosquito.wordpress.org/view.php?id=1132
> 
> Pingback:
> 
> 0001166: Pingbacks don't work with allow_url_fopen=Off
> http://mosquito.wordpress.org/view.php?id=1166
> 
> 0001154: Pingbacks fail to send. IXR_error is "fault code: 3"
> http://mosquito.wordpress.org/view.php?id=1154
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://anothersadsong.com
From chrisdmitri at gmail.com  Thu Mar 31 18:01:50 2005
From: chrisdmitri at gmail.com (Chris Davis)
Date: Thu Mar 31 18:02:24 2005
Subject: [wp-hackers] 0001191: Add query string style API to wp_get_links()
In-Reply-To: <1112287884.6881.14.camel@portnoy.fuzzybelly.org>
References: <1112287884.6881.14.camel@portnoy.fuzzybelly.org>
Message-ID: <b9c7397305033110017781a02@mail.gmail.com>

I'm all for that.


On Thu, 31 Mar 2005 10:51:24 -0600, Ryan Boren <ryan@boren.nu> wrote:
> http://mosquito.wordpress.org/view.php?id=1191
> 
> For review.
> 
> Ryan
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From chrisdmitri at gmail.com  Thu Mar 31 18:01:50 2005
From: chrisdmitri at gmail.com (Chris Davis)
Date: Thu Mar 31 18:02:40 2005
Subject: [wp-hackers] 0001191: Add query string style API to wp_get_links()
In-Reply-To: <1112287884.6881.14.camel@portnoy.fuzzybelly.org>
References: <1112287884.6881.14.camel@portnoy.fuzzybelly.org>
Message-ID: <b9c7397305033110017781a02@mail.gmail.com>

I'm all for that.


On Thu, 31 Mar 2005 10:51:24 -0600, Ryan Boren <ryan@boren.nu> wrote:
> http://mosquito.wordpress.org/view.php?id=1191
> 
> For review.
> 
> Ryan
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ringmaster at midnightcircus.com  Thu Mar 31 18:46:24 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Thu Mar 31 18:40:02 2005
Subject: [wp-hackers] 1.5.1: Important Bugs
In-Reply-To: <a491f91d050331100024a81d6a@mail.gmail.com>
References: <1112288434.6881.22.camel@portnoy.fuzzybelly.org>
	<a491f91d050331100024a81d6a@mail.gmail.com>
Message-ID: <424C4580.5080503@midnightcircus.com>

Robert Deaton wrote:
> According to the codex [1], If you supply a function to
> add_submenu_page, that function would be called to display the content
> and the plugin file would not be included for its page. From what I
> can see after the past two hours of headaches surfing the source code,
> the function is not called, and rather a hook is created with the
> function name supplied. Not only that, but even if a function is
> supplied, it still tries to include the page, because somewhere in the
> get_plugin_page_hookname and get_plugin_page_hook there is a bug that
> results in the hook not being returned, and thus the conditional on
> line 46 of admin.php fails, which causes the file to be included.
> Someone please, help out on this, its killing me.

Upgrade to a recent SVN revision of 1.5.1.

The documentation on Codex should be accurate with this fix applied:
http://mosquito.wordpress.org/view.php?id=902

See the changed paragraph in Codex:
http://codex.wordpress.org/index.php?title=Adding_Administration_Menus&diff=0&oldid=9603

Owen

From lstelie at gmail.com  Thu Mar 31 18:47:15 2005
From: lstelie at gmail.com (Luc Saint-Elie)
Date: Thu Mar 31 18:47:20 2005
Subject: [wp-hackers] 1.5.1: Important Bugs
In-Reply-To: <1112288434.6881.22.camel@portnoy.fuzzybelly.org>
References: <1112288434.6881.22.camel@portnoy.fuzzybelly.org>
Message-ID: <6eb1cb410503311047370f6d64@mail.gmail.com>

Hello,

I added one in mosquito  that is a real pain..

WP automatically creates enclosures for MP3 link, that is a great feature.
Great.. but the sepc says that only one enclosure is admitted per
post.. and WP creates as much enclosures as it finds mp3 links.

As a result a lot of podcasting clients fail on WP rss2 feeds and the
only solution is to delete by hand the enclosures in phpmyadmin beause
it they are deleted trought the admin pannel WP re-creates them .

Luc




On Thu, 31 Mar 2005 11:00:34 -0600, Ryan Boren <ryan@boren.nu> wrote:
> I think we took care of most of the bugs from the last list.  Time for a
> new list.
> 
> Feeds:  (Here we have two different approaches to handling entities)
> 
> 0000929: html entities should not appear in rss2 title
> http://mosquito.wordpress.org/view.php?id=929
> 
> 0001132: Pingbacks force RSS2 comment feeds to fail
> http://mosquito.wordpress.org/view.php?id=1132
> 
> Pingback:
> 
> 0001166: Pingbacks don't work with allow_url_fopen=Off
> http://mosquito.wordpress.org/view.php?id=1166
> 
> 0001154: Pingbacks fail to send. IXR_error is "fault code: 3"
> http://mosquito.wordpress.org/view.php?id=1154
 


-- 
Luc Saint-Elie 
7, rue Androuet
75018 Paris
Mail: lstelie@gmail.com
Tel : 08 70 73 20 28
Mob : 06 12 90 19 65
http://audioblog.fr
From false.hopes at gmail.com  Thu Mar 31 19:17:52 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Mar 31 19:17:59 2005
Subject: [wp-hackers] 1.5.1: Important Bugs
In-Reply-To: <424C4580.5080503@midnightcircus.com>
References: <1112288434.6881.22.camel@portnoy.fuzzybelly.org>
	<a491f91d050331100024a81d6a@mail.gmail.com>
	<424C4580.5080503@midnightcircus.com>
Message-ID: <a491f91d05033111171e7b0065@mail.gmail.com>

This still doesn't resolve the problem. The problem is that even when
supplying a function to the add_options_page or add_submenu_page the
plugin file is still included and the function is not called. I quote
from the codex:

"If the optional function parameter is not supplied, then WordPress
will include the file referenced by the file parameter into the
content area of the page. Without code to detect whether your plugin
functions have been declared, this will likely cause PHP errors when
all of your plugin functions are redeclared. You can use the
is_plugin_page() function to mitigate this issue; however, using the
function parameter is recommended."

This would suggest that if you do supply the function, then that
function would be called and the plugin page would not be included
again. This, however, is not the case, because the plugin file is
loaded again, and instead of the function being called a hook is added
with the function name you supply. Unless I'm a complete moron, this
is still an issue, and that mosquito patch isn't completely related.


On Thu, 31 Mar 2005 13:46:24 -0500, Owen Winkler
<ringmaster@midnightcircus.com> wrote:
> Robert Deaton wrote:
> > According to the codex [1], If you supply a function to
> > add_submenu_page, that function would be called to display the content
> > and the plugin file would not be included for its page. From what I
> > can see after the past two hours of headaches surfing the source code,
> > the function is not called, and rather a hook is created with the
> > function name supplied. Not only that, but even if a function is
> > supplied, it still tries to include the page, because somewhere in the
> > get_plugin_page_hookname and get_plugin_page_hook there is a bug that
> > results in the hook not being returned, and thus the conditional on
> > line 46 of admin.php fails, which causes the file to be included.
> > Someone please, help out on this, its killing me.
> 
> Upgrade to a recent SVN revision of 1.5.1.
> 
> The documentation on Codex should be accurate with this fix applied:
> http://mosquito.wordpress.org/view.php?id=902
> 
> See the changed paragraph in Codex:
> http://codex.wordpress.org/index.php?title=Adding_Administration_Menus&diff=0&oldid=9603
> 
> Owen
> 
> 


-- 
--Robert Deaton
http://anothersadsong.com
From false.hopes at gmail.com  Thu Mar 31 19:41:19 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Mar 31 19:41:24 2005
Subject: [wp-hackers] 1.5.1: Important Bugs
In-Reply-To: <424C5303.7040604@midnightcircus.com>
References: <1112288434.6881.22.camel@portnoy.fuzzybelly.org>
	<a491f91d050331100024a81d6a@mail.gmail.com>
	<424C4580.5080503@midnightcircus.com>
	<a491f91d05033111171e7b0065@mail.gmail.com>
	<424C5303.7040604@midnightcircus.com>
Message-ID: <a491f91d05033111413a2dc430@mail.gmail.com>

Alright, so the hook should be added, but the problem is, I can never
pass the conditional on if a function is defined, instead its
including the plugin file again, despite me specifying the function
parameter, and thus, I go through the nonsense of redeclared
functions. Is this the intended result and are all plugin authors
expected to wrap every bit of their plugin code inside an
if(!is_plugin_page())?


On Thu, 31 Mar 2005 14:44:03 -0500, Owen Winkler
<ringmaster@midnightcircus.com> wrote:
> Robert Deaton wrote:
> > This would suggest that if you do supply the function, then that
> > function would be called and the plugin page would not be included
> > again. This, however, is not the case, because the plugin file is
> > loaded again, and instead of the function being called a hook is added
> > with the function name you supply. Unless I'm a complete moron, this
> > is still an issue, and that mosquito patch isn't completely related.
> 
> A hook *should* be added with the function name.  That's how the plugin
> page is inserted into the admin panel.
> 
> When you register your function using add_options_page() or
> add_submenu_page(), it creates a plugin hook for your function based on
> the page querystring that it will use.  When the matching page is
> specified in the query string to an admin page, the plugin hook for your
> function is called.  It's supposed to work this way.  That's what
> happens in admin.php lines 43-50.
> 
> Did you try running the sample code at the bottom of the codex page?  It
> works fine for me, inserting all of the admin pages that were specified.
> 
> Owen
> 
> 


-- 
--Robert Deaton
http://anothersadsong.com
From false.hopes at gmail.com  Thu Mar 31 23:33:44 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Mar 31 23:33:48 2005
Subject: [wp-hackers] WP Plugin Option API
In-Reply-To: <a491f91d0503310643447c3611@mail.gmail.com>
References: <424A5B81.6070702@txfx.net> <424AB500.6020501@midnightcircus.com>
	<424AFE13.7080102@txfx.net>
	<a491f91d050330120596cf925@mail.gmail.com>
	<7235ce78050330123929c3f4b1@mail.gmail.com>
	<a491f91d0503310643447c3611@mail.gmail.com>
Message-ID: <a491f91d05033115335463fa9f@mail.gmail.com>

I finished up a lot of work on the plugin, and after many, many hours
of work, it now supports text boxes and checkboxes, will automatically
update the database with the new options, and is full valid XHTML 1.0
Transitional. Not only that, but I added in support for clustering,
which is what I called the grouping used in the options pages that
come with WordPress. (For example, "Date and Time" under
options-general.php).

I don't have any sort of documentation written up yet, but if anyone
would like to see what has been accomplished send me a mail off-list
and I'll send you a copy of the actual plugin and the test  plugin
that utilizes the features provided by my plugin.


On Thu, 31 Mar 2005 09:43:05 -0500, Robert Deaton <false.hopes@gmail.com> wrote:
> Well, what was going through my head was that the options for a plugin
> is the most difficult, and a set of wrappers to make forms exactly
> like the default options page wouldn't be too awfully difficult, I'm
> just spending a lot of time thinking about if there should be like
> some sort error checking to make sure the user closes the form and
> such, but at the same time, I don't think it should be necessary as
> long as developers remember to call the function to close the form and
> such. I think I'll leave out any form of error checking initially and
> just design the forms around the functions they call. I've already got
> some coding done, so if you would all like I'll post a pre-alpha to
> the list within the next couple days (spring break, so plenty of time
> free).
> 
> 
> On Wed, 30 Mar 2005 21:39:33 +0100, Mike Little <journalized@gmail.com> wrote:
> > To be totally non-constructive, I have to say I'm quite amused by this
> > conversation.
> >
> > Automatic forms and forms processing based on functional groups of
> > options was what I originally coded for the options, when I took them
> > out of the configuration file. That code got ripped out some time last
> > year. Mostly, as far as I can gather because the groupings weren't
> > intuitive and the forms were ugly. Though
> > http://example.com/blog/wp-admin/options.php?group_option_id=all still
> > works.
> >
> > Sorry, that didn't help at all...
> >
> > I think the general idea of having the core code handle the options
> > for a plugin is a good idea (no surprise there).
> > A plugin during installation could register a group of options, which
> > would be added to the database. There would have to be some kind of
> > naming conventions, such that no two plugins ended up with the same
> > group name (or option name for that matter). There would also have to
> > be some way to distinguish plugins installed but not currently active
> > so their options weren't presented to the user.
> >
> > An idea (if this code is going in the core -- and I think it should)
> > is to have an optional file name associated with the group of options
> > so that the code could call the plugins own options page if enabled or
> > else handle it as described.
> >
> > Anyway, there are some good ideas here, keep fleshing them out.
> >
> > Mike
> > --
> > Mike Little
> > http://zed1.com/journalized/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> --
> --Robert Deaton
> http://anothersadsong.com
> 


-- 
--Robert Deaton
http://anothersadsong.com
