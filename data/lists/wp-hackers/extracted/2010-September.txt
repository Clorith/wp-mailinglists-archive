From chris at clwill.com  Wed Sep  1 00:18:04 2010
From: chris at clwill.com (Chris Williams)
Date: Tue, 31 Aug 2010 20:18:04 -0400
Subject: [wp-hackers] plugin activation help
In-Reply-To: <4C7D95B7.6090507@curtismchale.ca>
Message-ID: <C8A2E9CC.624B4%chris@clwill.com>


From lynne.pope at gmail.com  Wed Sep  1 00:47:32 2010
From: lynne.pope at gmail.com (Lynne Pope)
Date: Wed, 1 Sep 2010 12:47:32 +1200
Subject: [wp-hackers] On Submitting Code
In-Reply-To: <CA01FBD3-E5D1-4B39-87EE-6DB0429678B0@newclarity.net>
References: <871789.47676.qm@web24103.mail.ird.yahoo.com>
	<4C7CF2D4.4050109@visser.name>
	<AANLkTi=xeQv_o6xDzwhydRgkpj=M=bf9uzhkps7WSFVh@mail.gmail.com>
	<AECC4DD6-15E3-4CC5-8DEB-F36CBB33BFCA@newclarity.net>
	<AANLkTimswBRrvPBTFWygW2QG=iE4qu8Fh8TtLOF_xsDW@mail.gmail.com>
	<CA01FBD3-E5D1-4B39-87EE-6DB0429678B0@newclarity.net>
Message-ID: <AANLkTimUYDXP57+RTp6ywsvka38dN0O5=yjK5yCh=MKU@mail.gmail.com>

A code submission policy has no relevance to the copyright license except in
one respect - that anyone contributing code states that they agree to their
code being used licensed GNU/GPL as part of WordPress. They don't have to
personally agree with what the GPL means, or its interpretation, as long as
they signify that they understand WordPress is licensed under the GNU/GPL
and their code will be too (should it be included).  If they don't want this
then they don't submit their code. Simple.


Lynne

ps. A developer can contribute GPL code to a project and also use that same
code in their own work under a different license. A code submission policy
!= copyright assignment.

From rbilesky at gmail.com  Wed Sep  1 01:05:46 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Tue, 31 Aug 2010 18:05:46 -0700
Subject: [wp-hackers] On Submitting Code
In-Reply-To: <AANLkTimUYDXP57+RTp6ywsvka38dN0O5=yjK5yCh=MKU@mail.gmail.com>
References: <871789.47676.qm@web24103.mail.ird.yahoo.com>
	<4C7CF2D4.4050109@visser.name>
	<AANLkTi=xeQv_o6xDzwhydRgkpj=M=bf9uzhkps7WSFVh@mail.gmail.com>
	<AECC4DD6-15E3-4CC5-8DEB-F36CBB33BFCA@newclarity.net>
	<AANLkTimswBRrvPBTFWygW2QG=iE4qu8Fh8TtLOF_xsDW@mail.gmail.com>
	<CA01FBD3-E5D1-4B39-87EE-6DB0429678B0@newclarity.net>
	<AANLkTimUYDXP57+RTp6ywsvka38dN0O5=yjK5yCh=MKU@mail.gmail.com>
Message-ID: <AANLkTikALfHhxvTF7DzS7SivrggDYcGP55CXBFv4m=L2@mail.gmail.com>

Yes, and that's the point of the policy, to make that point clear.

On Tue, Aug 31, 2010 at 5:47 PM, Lynne Pope <lynne.pope at gmail.com> wrote:

> A code submission policy has no relevance to the copyright license except
> in
> one respect - that anyone contributing code states that they agree to their
> code being used licensed GNU/GPL as part of WordPress. They don't have to
> personally agree with what the GPL means, or its interpretation, as long as
> they signify that they understand WordPress is licensed under the GNU/GPL
> and their code will be too (should it be included).  If they don't want
> this
> then they don't submit their code. Simple.
>
>
> Lynne
>
> ps. A developer can contribute GPL code to a project and also use that same
> code in their own work under a different license. A code submission policy
> != copyright assignment.
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From andrew at graymerica.com  Wed Sep  1 02:40:32 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Tue, 31 Aug 2010 22:40:32 -0400
Subject: [wp-hackers] Exporting Menus
Message-ID: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>

We just launched two sites in two days and I just got done with the same problem twice.

How do I move the menus (WP 3.0) from one site to another.

Here is the example for adding a menu via a function:  http://new2wp.com/snippet/register-and-create-new-nav-menus-with-default-menu-items/

We looked at the code for creating a menu via a function and it is pretty straight forward,  but how do I build that array from an existing menu structure.   We looked at doing it via straight SQL but it looked risky.  Trying to Walk the menu and get menu items seems like the only way to do it.

Does anyone have anything that can export a menu from one site, so it can be imported into another.

I keep trying to build tools that help us move sites from Development to Staging to Production in a more automated way, without having to replace the entire DB, but I keep running into road blocks.    Right now the menus, widgets and SIte URL coded into the DB are my three major sticking points.

There are alot of ideas out there on how to deal with some of these, but I wanted to see what the group had to say about this.   Are these issues for other people as well?

I deal with this because of the types of blogs I build.  The content is being created constantly, and we can move data from the development side.  But it sucks to have to manually create all the menus and widgets when you deploy a site.  Also, the chances of messing something up are higher.     

I have an idea for deployment script, and will certainly release it as a plugin, but I am still collecting tips and code before I start coding it,

Thanks,

Andrew




From mikeschinkel at newclarity.net  Wed Sep  1 03:08:17 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 31 Aug 2010 23:08:17 -0400
Subject: [wp-hackers] Exporting Menus
In-Reply-To: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
Message-ID: <D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>

On Aug 31, 2010, at 10:40 PM, Andrew Gray wrote:
> We just launched two sites in two days and I just got done with the same problem twice.
> 
> How do I move the menus (WP 3.0) from one site to another.
> 
> Here is the example for adding a menu via a function:  http://new2wp.com/snippet/register-and-create-new-nav-menus-with-default-menu-items/
> 
> We looked at the code for creating a menu via a function and it is pretty straight forward,  but how do I build that array from an existing menu structure.   We looked at doing it via straight SQL but it looked risky.  Trying to Walk the menu and get menu items seems like the only way to do it.
> 
> Does anyone have anything that can export a menu from one site, so it can be imported into another.
> 
> I keep trying to build tools that help us move sites from Development to Staging to Production in a more automated way, without having to replace the entire DB, but I keep running into road blocks.    Right now the menus, widgets and SIte URL coded into the DB are my three major sticking points.
> 
> There are alot of ideas out there on how to deal with some of these, but I wanted to see what the group had to say about this.   
> 
> Are these issues for other people as well?

Yes, very much.  I discussed with Andrew Nacin at WordCamp Savannah but he didn't seem too concerned about it; maybe I read him wrong.

Also, Beau Lebens though it wasn't an issue for many of the core developers given they are not really deploying client sites (except Mark.)

Maybe those who are need to collaborate on solving this problem and get some critical mass around the solution(s) first?

-Mike

From curtis at curtismchale.ca  Wed Sep  1 03:19:46 2010
From: curtis at curtismchale.ca (Curtis McHale)
Date: Tue, 31 Aug 2010 20:19:46 -0700
Subject: [wp-hackers] Exporting Menus
In-Reply-To: <D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
Message-ID: <4C7DC652.3090908@curtismchale.ca>

I'd love it if you could just export the whole site along with posts and 
all of the settings (including menus).

Mike Schinkel wrote:
> On Aug 31, 2010, at 10:40 PM, Andrew Gray wrote:
>> We just launched two sites in two days and I just got done with the same problem twice.
>>
>> How do I move the menus (WP 3.0) from one site to another.
>>
>> Here is the example for adding a menu via a function:  http://new2wp.com/snippet/register-and-create-new-nav-menus-with-default-menu-items/
>>
>> We looked at the code for creating a menu via a function and it is pretty straight forward,  but how do I build that array from an existing menu structure.   We looked at doing it via straight SQL but it looked risky.  Trying to Walk the menu and get menu items seems like the only way to do it.
>>
>> Does anyone have anything that can export a menu from one site, so it can be imported into another.
>>
>> I keep trying to build tools that help us move sites from Development to Staging to Production in a more automated way, without having to replace the entire DB, but I keep running into road blocks.    Right now the menus, widgets and SIte URL coded into the DB are my three major sticking points.
>>
>> There are alot of ideas out there on how to deal with some of these, but I wanted to see what the group had to say about this.
>>
>> Are these issues for other people as well?
>
> Yes, very much.  I discussed with Andrew Nacin at WordCamp Savannah but he didn't seem too concerned about it; maybe I read him wrong.
>
> Also, Beau Lebens though it wasn't an issue for many of the core developers given they are not really deploying client sites (except Mark.)
>
> Maybe those who are need to collaborate on solving this problem and get some critical mass around the solution(s) first?
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-- 
Curtis McHale

604.751.3482
http://curtismchale.ca
http://twitter.com/curtismchale
http://ca.linkedin.com/in/curtismchale


From mikeschinkel at newclarity.net  Wed Sep  1 03:28:05 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 31 Aug 2010 23:28:05 -0400
Subject: [wp-hackers] Exporting Menus
In-Reply-To: <4C7DC652.3090908@curtismchale.ca>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
Message-ID: <11249F17-E334-4480-9B80-81632E663A6E@newclarity.net>

On Aug 31, 2010, at 11:19 PM, Curtis McHale wrote:
> I'd love it if you could just export the whole site along with posts and all of the settings (including menus).

That's somewhat the point of this (which I'm looking for people to use and give feedback on):

http://wordpress.stackexchange.com/questions/119/#182

It doesn't export/import (you do that with a SQL client) but it handled all the URL, path and other domain related fix-ups in the database.

-Mike


From beau at dentedreality.com.au  Wed Sep  1 04:01:11 2010
From: beau at dentedreality.com.au (Beau Lebens)
Date: Wed, 1 Sep 2010 00:01:11 -0400
Subject: [wp-hackers] Exporting Menus
In-Reply-To: <D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
Message-ID: <AANLkTim5WStOEjd3eNCFcv0cM51CJx-PueG-r5pbEiz0@mail.gmail.com>

>> I keep trying to build tools that help us move sites from Development to Staging to Production in a more automated way, without having to replace the entire DB, but I keep running into road blocks. ? ?Right now the menus, widgets and SIte URL coded into the DB are my three major sticking points.

> Also, Beau Lebens though it wasn't an issue for many of the core developers given they are not really deploying client sites (except Mark.)

My point was not that it "wasn't an issue" so much as it's not
something that comes up for a LOT of people (because of their
"development cycle"), probably some of the core developers included.

I agree that the development server -> production server workflow with
WordPress is far from ideal, and could use some work/review. I also
don't doubt that if someone can come up with a non-intrusive,
backwards-compatible, not-a-huge-massive-amount-of-code way of doing
this, then it'd be supported in core (whether it was through actual
inclusion, or just some new hooks or whatever to make it easier).

As WordPress sees more and more "enterprise"ish development, this'll
become more of an issue, so it'd be good to get people together, come
up with a "this is the best way to do this" and get that documented
somewhere.

Related: http://gsoc2010.wordpress.com/brian-mckenna-automatic-migration/

Beau

From wp at andrewnacin.com  Wed Sep  1 04:31:45 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 1 Sep 2010 00:31:45 -0400
Subject: [wp-hackers] Exporting Menus
In-Reply-To: <4C7DC652.3090908@curtismchale.ca>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
Message-ID: <AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>

On Tue, Aug 31, 2010 at 11:19 PM, Curtis McHale <curtis at curtismchale.ca>wrote:

> I'd love it if you could just export the whole site along with posts and
> all of the settings (including menus).


That sounds like a SQL dump to me.

On Tue, Aug 31, 2010 at 10:40 PM, Andrew Gray <andrew at graymerica.com> wrote:

> How do I move the menus (WP 3.0) from one site to another.


Menus are not currently exportable via WXR. Mainly because they are not
importable via WXR. (We would need to ensure associations with their post
objects don't break.) I would like to see that worked on in 3.1.

On Tue, Aug 31, 2010 at 11:08 PM, Mike Schinkel <mikeschinkel at newclarity.net
> wrote:

> I discussed with Andrew Nacin at WordCamp Savannah but he didn't seem too
> concerned about it; maybe I read him wrong.
>

To be clear, while I got the gist your use case based on your code sample,
we were discussing a way to load a special file before wp-config.php that
would contain special functions for configuration. I imagine something like
wp-content/config.php, or what have you. I spoke about this with a few
developers, and everyone agreed that the special file (if sunrise.php is too
late) is none other than wp-config.php itself. If you need your own library
included that early, then you'll need to include that file from
wp-config.php. If you want to distribute a plugin with this, then clearly
they will need to do advanced configuration anyway. Advanced setups require
such configuration. Abstract only what needs to be abstracted.

We all have our own processes for production deployments. It depends on the
site, the client, the need, and of course our own preferences and tricks
we've picked up. My process works well for me in almost every case, but that
doesn't mean it'll work for you. (In a nutshell, I prefer to map the
production domain to a local or remote sandbox. It's also how
wordpress.orgis configured.) Again, how much of this depends on the
developer's (or
developers') own workflow?

Beyond that, I second everything Beau said. Thinking big will help, figuring
out the real problems as well coming up with solutions, but before endorsing
a deployment method there needs to be a lot more innovation and evolution in
the space.

From andrew at graymerica.com  Wed Sep  1 05:06:26 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Wed, 1 Sep 2010 01:06:26 -0400
Subject: [wp-hackers] Exporting Menus
Message-ID: <96EC63BE-BA31-45FB-B643-7462DA372B0E@graymerica.com>

Just to keep this thread going,  I would like to add that, in my opinion, that three majors issues to be tackeled are.

1. URLs stored in the database and in serialized data
2. Menu data mixed in with Post Data, with no export function
3. No built in method for defining Staging, Production and Development Environments

One minor issue is that there is no way to script and automate deployments, plugin activation, and other changes to a live production site's data.

I would be happy to work with who ever wants to to develop a solution,  I have some time to develop it, and can put some of my firm's developers on this project.  There are piece meal solutions out there, I think we could combine the best of bread into one plugin.

thanks,

Andrew



> Maybe those who are need to collaborate on solving this problem and get some critical mass around the solution(s) first?
> 
> -Mike

From otto at ottodestruct.com  Wed Sep  1 05:19:31 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 1 Sep 2010 00:19:31 -0500
Subject: [wp-hackers] Exporting Menus
In-Reply-To: <AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
	<AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
Message-ID: <AANLkTinr3BdSd=wp7sSN9ACvX9=CY3cKzXk7BnFLHcpF@mail.gmail.com>

On Tue, Aug 31, 2010 at 11:31 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> (In a nutshell, I prefer to map the
> production domain to a local or remote sandbox. It's also how
> wordpress.orgis configured.)

Totally agree with this, this makes local development of a site quite
trivial. Just edit your hosts file (or run a local DNS or whatever you
prefer to do) and point the domain name to your localhost, then set up
the site. Bingo, a straight SQL dump will move over just fine. No
tricky business with search and replace or anything else.

The only real issue in moving SQL dumps around is the domain name
changes. So remove that from the equation.

-Otto

From mikeschinkel at newclarity.net  Wed Sep  1 05:29:34 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 1 Sep 2010 01:29:34 -0400
Subject: [wp-hackers] Exporting Menus
In-Reply-To: <AANLkTim5WStOEjd3eNCFcv0cM51CJx-PueG-r5pbEiz0@mail.gmail.com>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<AANLkTim5WStOEjd3eNCFcv0cM51CJx-PueG-r5pbEiz0@mail.gmail.com>
Message-ID: <AB7D6329-6B30-4187-95B5-4AAEB97DFDAD@newclarity.net>

On Sep 1, 2010, at 12:01 AM, Beau Lebens wrote:
>>> I keep trying to build tools that help us move sites from Development to Staging to Production in a more automated way, without having to replace the entire DB, but I keep running into road blocks.    Right now the menus, widgets and SIte URL coded into the DB are my three major sticking points.
> 
>> Also, Beau Lebens though it wasn't an issue for many of the core developers given they are not really deploying client sites (except Mark.)
> 
> My point was not that it "wasn't an issue" so much as it's not
> something that comes up for a LOT of people (because of their
> "development cycle"), probably some of the core developers included.

Sorry if I misspoke; your clarification is exactly what I came away understanding. If my wording didn't mean the same to you I apologize; my intent was the same.

> I agree that the development server -> production server workflow with
> WordPress is far from ideal, and could use some work/review. I also
> don't doubt that if someone can come up with a non-intrusive,
> backwards-compatible, not-a-huge-massive-amount-of-code way of doing
> this, then it'd be supported in core (whether it was through actual
> inclusion, or just some new hooks or whatever to make it easier).

Hooks are definitely the starting point in most cases, but to make this elegant there's a need to load a bit of code before wp-config.php loads.  

If you remember what I asked for was the ability to load a small set of "bootstrap" code prior to WordPress loading wp-config.php so as not to have to ask to include my code (or something like it) in core.

> As WordPress sees more and more "enterprise"ish development, this'll
> become more of an issue, so it'd be good to get people together, come
> up with a "this is the best way to do this" and get that documented
> somewhere.

Completely agreed.

> Related: http://gsoc2010.wordpress.com/brian-mckenna-automatic-migration/

Yep. That addresses part of the of the problem.  But it was structured more to address casual migration than as a component of a development process workflow.  

A good first step to be sure.

-Mike


From wp at andrewnacin.com  Wed Sep  1 05:35:15 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 1 Sep 2010 01:35:15 -0400
Subject: [wp-hackers] Exporting Menus
In-Reply-To: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
Message-ID: <AANLkTi=gSg4j1r8yu6KqmWr-_5oHxjJC1i6OaTxA6BGt@mail.gmail.com>

On Tue, Aug 31, 2010 at 10:40 PM, Andrew Gray <andrew at graymerica.com> wrote:

> Does anyone have anything that can export a menu from one site, so it can
> be imported into another.


I have created a Trac ticket, "Add menus, menu items to import and export."
I slated it tentatively for 3.1.

In the ticket I've outlined the major gotchas for both export and
import. Suggestions and patches are welcome and encouraged.

http://core.trac.wordpress.org/ticket/14750

From mikeschinkel at newclarity.net  Wed Sep  1 05:46:07 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 1 Sep 2010 01:46:07 -0400
Subject: [wp-hackers] Exporting Menus
In-Reply-To: <AANLkTinr3BdSd=wp7sSN9ACvX9=CY3cKzXk7BnFLHcpF@mail.gmail.com>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
	<AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
	<AANLkTinr3BdSd=wp7sSN9ACvX9=CY3cKzXk7BnFLHcpF@mail.gmail.com>
Message-ID: <308DB74E-76C8-4539-8F17-C6209D16A016@newclarity.net>

On Sep 1, 2010, at 1:19 AM, Otto wrote:
> On Tue, Aug 31, 2010 at 11:31 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
>> (In a nutshell, I prefer to map the
>> production domain to a local or remote sandbox. It's also how
>> wordpress.orgis configured.)
> 
> Totally agree with this, this makes local development of a site quite
> trivial. Just edit your hosts file (or run a local DNS or whatever you
> prefer to do) and point the domain name to your localhost, then set up
> the site. Bingo, a straight SQL dump will move over just fine. No
> tricky business with search and replace or anything else.

That's not a full solution for me (and ignoring the many people who should be that skilled but are not.) I find myself constantly needing to view at least two of he dev site, the test site, the staging site and the production site in parallel constantly editing hosts is simply too tedious so I instead map domains like this:

Dev : http://example.dev
Test : http://example.tst
Staging : http://example.stg
Production: http://example.com

But, like Nacin said, everybody has something slightly different that works for them.

-Mike

From r at schestowitz.com  Wed Sep  1 05:58:18 2010
From: r at schestowitz.com (Roy Schestowitz)
Date: Wed, 01 Sep 2010 06:58:18 +0100
Subject: [wp-hackers] WP-Hackers Stats for August 2010
Message-ID: <4C7DEB7A.2020406@schestowitz.com>

  -  Times are Greenwich Mean Time (GMT) +0:00

  -  Statistics span a period of one month

  -  Subject line formatted consistently "WP-Hackers Stats for <MONTH>
<YEAR>"

  -  Killfile <subject contains "WP-Hackers Stats for "> if uninterested
____________________________________________________________

Stats for wp-hackers
~~~~~~~~~~~~~~~~~~~~
***** People who have written most messages:
+----+-----Author-----------------------------------+--Msg-+-Percent-+
|  1 | mikeschinkel newclarity.net                  |  174 | 10.11 % |
|  2 | otto ottodestruct.com                        |   99 |  5.75 % |
|  3 | wp andrewnacin.com                           |   84 |  4.88 % |
|  4 | scribu gmail.com                             |   71 |  4.13 % |
|  5 | lox.dev knc.nc                               |   70 |  4.07 % |
|  6 | Gavin.Pearce 3seven9.com                     |   36 |  2.09 % |
|  7 | elfin elfden.co.uk                           |   35 |  2.03 % |
|  8 | mda blogwaffe.com                            |   31 |  1.80 % |
|  9 | rbilesky gmail.com                           |   29 |  1.69 % |
| 10 | peter.westwood ftwr.co.uk                    |   28 |  1.63 % |
| 11 | KrisY tbs.uk.com                             |   27 |  1.57 % |
| 12 | eric eamann.com                              |   27 |  1.57 % |
| 13 | m mullenweg.com                              |   24 |  1.39 % |
| 14 | jimmy.roy gmail.com                          |   23 |  1.34 % |
| 15 | johnbillion+wp gmail.com                     |   23 |  1.34 % |
| 16 | paul codehooligans.com                       |   23 |  1.34 % |
| 17 | frank bueltge.de                             |   23 |  1.34 % |
| 18 | ashishsainiashfame gmail.com                 |   22 |  1.28 % |
| 19 | wordpress santosj.name                       |   21 |  1.22 % |
| 20 | angelia 10sexyapples.com                     |   19 |  1.10 % |
| 21 | cross thisismyurl.com                        |   19 |  1.10 % |
| 22 | chip chipbennett.net                         |   19 |  1.10 % |
| 23 | jer simianuprising.com                       |   18 |  1.05 % |
| 24 | mark simplercomputing.net                    |   16 |  0.93 % |
| 25 | banago gmail.com                             |   16 |  0.93 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  744 | 43.23 % |
+----+----------------------------------------------+------+---------+

***** Best authors, by total size of their messages (w/o quoting):
+----+-----Author-------------------------------------------+-KBytes-+
|  1 | mikeschinkel newclarity.net                          |  169.1 |
|  2 | eric eamann.com                                      |   99.5 |
|  3 | otto ottodestruct.com                                |   81.8 |
|  4 | frank bueltge.de                                     |   78.3 |
|  5 | Gavin.Pearce 3seven9.com                             |   75.2 |
|  6 | wp andrewnacin.com                                   |   54.7 |
|  7 | lox.dev knc.nc                                       |   49.1 |
|  8 | KrisY tbs.uk.com                                     |   45.4 |
|  9 | wordpress santosj.name                               |   36.4 |
| 10 | scribu gmail.com                                     |   35.9 |
| 11 | m.websoft gmail.com                                  |   28.6 |
| 12 | angelia 10sexyapples.com                             |   24.9 |
| 13 | mda blogwaffe.com                                    |   23.5 |
| 14 | paul codehooligans.com                               |   21.9 |
| 15 | peter.westwood ftwr.co.uk                            |   21.2 |
| 16 | jer simianuprising.com                               |   20.4 |
| 17 | elfin elfden.co.uk                                   |   18.7 |
| 18 | chip chipbennett.net                                 |   18.4 |
| 19 | m mullenweg.com                                      |   18.2 |
| 20 | wordpress web-warlocks.net                           |   17.3 |
| 21 | harper.shelby parivedasolutions.com                  |   17.2 |
| 22 | rbilesky gmail.com                                   |   16.7 |
| 23 | jimmy.roy gmail.com                                  |   15.9 |
| 24 | cross thisismyurl.com                                |   14.4 |
| 25 | johnbillion+wp gmail.com                             |   14.3 |
+----+------------------------------------------------------+--------+

***** Best authors, by average size of their message (w/o quoting):
+----+-----Author--------------------------------------------+-bytes-+
|  1 | abraoximenes yahoo.com                                | 12315 |
|  2 | wordpress web-warlocks.net                            |  5892 |
|  3 | jayminkapish inbox.com                                |  4715 |
|  4 | eric eamann.com                                       |  3774 |
|  5 | frank bueltge.de                                      |  3488 |
|  6 | jpotkanski tribune.com                                |  3127 |
|  7 | aizat.faiz gmail.com                                  |  3106 |
|  8 | carlroett gmail.com                                   |  2461 |
|  9 | m.websoft gmail.com                                   |  2439 |
| 10 | bradw illiams.com                                     |  2414 |
| 11 | bernard.d.tremblay gmail.com                          |  2364 |
| 12 | info davidmcdonald.org                                |  2340 |
| 13 | dan phiffer.org                                       |  2317 |
| 14 | mmuro advance.ua.edu                                  |  2254 |
| 15 | listswphackers mist.org.uk                            |  2245 |
| 16 | Gavin.Pearce 3seven9.com                              |  2139 |
| 17 | markjaquith gmail.com                                 |  1955 |
| 18 | harper.shelby parivedasolutions.com                   |  1951 |
| 19 | adriaan wewillraakyou.com                             |  1913 |
| 20 | Brian TheCodeCave.com                                 |  1906 |
| 21 | umassthrower gmail.com                                |  1890 |
| 22 | ash thinkinginvain.com                                |  1851 |
| 23 | deadowlsurvivor gmail.com                             |  1836 |
| 24 | gregg fatheaddesign.com                               |  1816 |
| 25 | wordpress santosj.name                                |  1773 |
+----+-------------------------------------------------------+-------+

***** Table showing the most successful subjects:
+----+----Subject-----------------------------------+--Msg-+-Percent-+
|  1 | [wp-hackers] Putting the P in WordPress      |  149 |  8.66 % |
|  2 | [wp-hackers] Code reviews for plugins?       |   45 |  2.61 % |
|  3 | [wp-hackers] Custom Post Types and pending i |   44 |  2.56 % |
|  4 | [wp-hackers] Custom Post Type in Admin,      |   35 |  2.03 % |
|  5 | [wp-hackers] Time for a wp_post_relationship |   35 |  2.03 % |
|  6 | [wp-hackers] pre_get_posts problem           |   27 |  1.57 % |
|  7 | [wp-hackers] Amount of estimated developer-h |   24 |  1.39 % |
|  8 | [wp-hackers] multiple databases vs different |   24 |  1.39 % |
|  9 | [wp-hackers] Rename wp-admin problems        |   22 |  1.28 % |
| 10 | [wp-hackers] Partial admin capabilities      |   22 |  1.28 % |
| 11 | [wp-hackers] wp-admin folder and admin-ajax. |   21 |  1.22 % |
| 12 | [wp-hackers] Best practice: custom registrat |   20 |  1.16 % |
| 13 | [wp-hackers] custom_post_type and custom tax |   20 |  1.16 % |
| 14 | [wp-hackers] Passing class methods by refere |   18 |  1.05 % |
| 15 | [wp-hackers] WP.org plugin repository - mult |   17 |  0.99 % |
| 16 | [wp-hackers] Plugin repository issue         |   17 |  0.99 % |
| 17 | [wp-hackers] Twenty Ten theme issue?         |   15 |  0.87 % |
| 18 | [wp-hackers] if it is main page !            |   15 |  0.87 % |
| 19 | [wp-hackers] Home redirects to new page on W |   14 |  0.81 % |
| 20 | [wp-hackers] Customizing the view of custom  |   14 |  0.81 % |
| 21 | [wp-hackers] PHP 5.2 that WordPress 3.2 requ |   13 |  0.76 % |
| 22 | [wp-hackers] any way to clean after theme wh |   13 |  0.76 % |
| 23 | [wp-hackers] Removing WordPress Multisite da |   13 |  0.76 % |
| 24 | [wp-hackers] WP Hosting                      |   12 |  0.70 % |
| 25 | [wp-hackers] Best practices for plugin with  |   11 |  0.64 % |
+----+----------------------------------------------+------+---------+
|    | other                                        | 1061 | 61.65 % |
+----+----------------------------------------------+------+---------+

***** Most used email clients:
+----+----Mailer------------------------------------+--Msg-+-Percent-+
|  1 | Google Mail/Other                            | 1059 | 61.53 % |
|  2 | Apple Mail (2.1081)                          |  298 | 17.32 % |
|  3 | Mozilla/5.x                                  |  173 | 10.05 % |
|  4 | Microsoft Office Outlook 12.0                |   41 |  2.38 % |
|  5 | Open-Xchange Mailer v6.14.0-Rev24            |   26 |  1.51 % |
|  6 | G2/1.0                                       |   14 |  0.81 % |
|  7 | Zimbra 6.0.6_GA_2332.RHEL4 (MobileSync - App |   11 |  0.64 % |
|  8 | Mutt                                         |   11 |  0.64 % |
|  9 | iPhone Mail (8A293)                          |    9 |  0.52 % |
| 10 | Apple Mail (2.936)                           |    9 |  0.52 % |
| 11 | Opera Mail/10.70 (Win32)                     |    8 |  0.46 % |
| 12 | iPhone Mail (8A306)                          |    8 |  0.46 % |
| 13 | KMail                                        |    6 |  0.35 % |
| 14 | Thunderbird 2.0.0.24 (Windows/20100228)      |    5 |  0.29 % |
| 15 | Microsoft Windows Mail 6.0.6002.18197        |    5 |  0.29 % |
| 16 | iPod Mail (8A293)                            |    4 |  0.23 % |
| 17 | Microsoft Windows Live Mail 14.0.8117.416    |    4 |  0.23 % |
| 18 | Microsoft Outlook 14.0                       |    4 |  0.23 % |
| 19 | iPhone Mail (8A400)                          |    3 |  0.17 % |
| 20 | SquirrelMail/1.4.20                          |    2 |  0.12 % |
| 21 | Opera Mail/10.60 (Win32)                     |    2 |  0.12 % |
| 22 | Postbox 2.0.0b1 (Windows/20100806)           |    2 |  0.12 % |
| 23 | SquirrelMail/1.4.15                          |    2 |  0.12 % |
| 24 | YahooMailRC/470 YahooMailWebService/0.8.105. |    2 |  0.12 % |
| 25 | Opera Mail/10.54 (Win32)                     |    1 |  0.06 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |   12 |  0.70 % |
+----+----------------------------------------------+------+---------+

***** Table of maximal quoting:
+----+-----Author------------------------------------------+-Percent-+
|  1 | jaredwilli gmail.com                                | 94.34 % |
|  2 | aaron xavisys.com                                   | 90.95 % |
|  3 | charles cefm.ca                                     | 88.55 % |
|  4 | uehlein gmail.com                                   | 85.19 % |
|  5 | jayarjo gmail.com                                   | 80.92 % |
|  6 | ryan pixopoint.com                                  | 80.03 % |
|  7 | alexkoti gmail.com                                  | 78.95 % |
|  8 | joshua.sibelman gmail.com                           | 78.67 % |
|  9 | liste srpski.biz                                    | 78.09 % |
| 10 | fidler.brian gmail.com                              | 77.79 % |
| 11 | chrisbratlien gmail.com                             | 77.65 % |
| 12 | jbloch olympianetworks.com                          | 77.47 % |
| 13 | banago gmail.com                                    | 77.43 % |
| 14 | navjotjsingh gmail.com                              | 76.95 % |
| 15 | jimmy.roy gmail.com                                 | 76.24 % |
| 16 | andre pixelplexus.co.za                             | 75.69 % |
| 17 | mitch studionashvegas.com                           | 74.49 % |
| 18 | william.canino googlemail.com                       | 74.43 % |
| 19 | mccormicky gmail.com                                | 74.00 % |
| 20 | shawn crowdfavorite.com                             | 72.57 % |
| 21 | compatiblesamuel gmail.com                          | 70.53 % |
| 22 | prodevstudio gmail.com                              | 70.10 % |
| 23 | mailapera gmail.com                                 | 69.39 % |
| 24 | arlenbee gmail.com                                  | 68.85 % |
| 25 | danielbachhuber gmail.com                           | 67.85 % |
+----+-----------------------------------------------------+---------+
|    | average                                             | 45.54 % |
+----+-----------------------------------------------------+---------+

***** Graph showing number of messages written during hours of day:

100% -----------------------#------------------------- - 120
 90% -----------------------#---#-----#---#----------- msgs
 80% -----------------------#-#-#-#---#-#-#-#---------
 70% -------------------#-#-#-#-#-#-#-#-#-#-#---------
 60% -------------------#-#-#-#-#-#-#-#-#-#-#-#-#-----
 50% -------------------#-#-#-#-#-#-#-#-#-#-#-#-#---#-
 40% -#---------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 30% -#-#-----------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 20% -#-#-#-#---#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 10% -#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * *
hour  0         5           11          17          23


***** Graph showing number of messages written during days of month:

100% -----------#--------------------------------------------------- - 102
 90% -----------#---------------------------------#----------------- msgs
 80% -----------#---------------------------------#-----#-----------
 70% -----#---#-#---------------------------------#-----#-#---------
 60% -----#---#-#-#-------#-#-----------------#---#-----#-#---------
 50% -----#---#-#-#---#---#-#-------#-----#---#-#-#---#-#-#-----#-#-
 40% -#---#-#-#-#-#---#---#-#-------#---#-#-#-#-#-#-#-#-#-#-#---#-#-
 30% -#-#-#-#-#-#-#-#-#-#-#-#-#---#-#-#-#-#-#-#-#-#-#-#-#-#-#---#-#-
 20% -#-#-#-#-#-#-#-#-#-#-#-#-#---#-#-#-#-#-#-#-#-#-#-#-#-#-#---#-#-
 10% -#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 day  1         6           12          18          24            31


***** Graph showing number of messages written during days of week:

100% ---------#------------------- - 325
 90% -#---#---#------------------- msgs
 80% -#---#---#-------------------
 70% -#---#---#-------#-----------
 60% -#---#---#---#---#-----------
 50% -#---#---#---#---#-----------
 40% -#---#---#---#---#---#---#---
 30% -#---#---#---#---#---#---#---
 20% -#---#---#---#---#---#---#---
 10% -#---#---#---#---#---#---#---
      *   *   *   *   *   *   *
     Mon Tue Wed Thu Fri Sat Sun
!!!!! Warning: 9 message(s) not counted.


***** Maximal quoting:
      Author     : mikeschinkel newclarity.net
      Subject    : [wp-hackers] creating new menus
      Date       : Sun, 1 Aug 2010 17:40:42 -0400
      Quote ratio: 98.90% / 49194 bytes

***** Longest message:
      Author     : mikeschinkel newclarity.net
      Subject    : [wp-hackers] creating new menus
      Date       : Sun, 1 Aug 2010 17:40:42 -0400
      Size       : 49194 bytes

***** Most successful subject:
      Subject    : [wp-hackers] Putting the P in WordPress
      No. of msgs: 149
      Total size : 303102 bytes

***** Final summary:
      Total number of messages:             1721
      Total number of different authors:    214
      Total number of different subjects:   310
      Total size of messages (w/o headers): 3151363 bytes
      Average size of a message:            1831 bytes

***** Generated by MailListStat v1.3, (C) 2001-2003 <marki (at) nexin.sk>
***** See http://freshmeat.net/projects/mls for details...

DISCLAIMER: Stats automatically produced. Remember that stats are often
meaningless and deceiving.

-- 
		~~ Best of wishes

Dr. Roy S. Schestowitz
http://Schestowitz.com  |  GNU/Linux  |     PGP-Key: 0x74572E8E

From elfin at elfden.co.uk  Wed Sep  1 07:32:55 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Wed, 01 Sep 2010 08:32:55 +0100
Subject: [wp-hackers] plugin activation help
In-Reply-To: <261054093.90486.1283291777561.JavaMail.open-xchange@oxusltgw08.schlund.de>
References: <4C7D7885.5060103@elfden.co.uk>
	<261054093.90486.1283291777561.JavaMail.open-xchange@oxusltgw08.schlund.de>
Message-ID: <4C7E01A7.7080805@elfden.co.uk>

On 31/08/2010 22:56, Eric Mann wrote:
> On August 31, 2010 at 9:47 PM Rich Pedley<elfin at elfden.co.uk>  wrote:
>
>> I'm getting a couple of people post about some issues when activating
>> my plugin eShop.
>>
>> Fatal error: Cannot redeclare add_user() (previously declared in
>> C:\Inetpub\vhosts\ellcee.com\httpdocs\blog\wordpressDEV\wp-admin\includes\user
>> .php:23)
>> in
>> C:\Inetpub\vhosts\ellcee.com\httpdocs\blog\wordpressDEV\wp-admin\includes\user
>> .php
>> on line 44
>>
>> &
>>
>> Fatal error: Cannot redeclare add_user() (previously declared in
>> C:\inetpub\vhosts\mydomain.com\httpdocs\store\wp-admin\includes\user.php:23)
>> in
>> C:\inetpub\vhosts\mydomain.com\httpdocs\store\wp-admin\includes\user.php
>> on line 44
>>
>>
>> Obviously I can't replicate this myself.
>>
>> Any ideas on what would be causing this? Or tips on how to help them
>> without access to anything at their end?
>>
>> Any help appreciated.

> The usual.  Have them deactivate all other plug-ins ... activate yours ... then
> re-activate other plug-ins one at a time.  There's a collision somewhere, but
> with this little information we can't know where or what's causing it.
>

I do that automatically these days, both of the users in question have 
tried with no luck.

Rich

From elfin at elfden.co.uk  Wed Sep  1 07:36:32 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Wed, 01 Sep 2010 08:36:32 +0100
Subject: [wp-hackers] plugin activation help
In-Reply-To: <000901cb4965$accc3620$0664a260$@org>
References: <4C7D7885.5060103@elfden.co.uk>
	<000901cb4965$accc3620$0664a260$@org>
Message-ID: <4C7E0280.3070806@elfden.co.uk>

On 01/09/2010 00:38, Raj wrote:
> If only I had a dime for every time that happens. I'd be making more than I
> am through donations.
>
> It seems everybody likes to name their functions:
>
> sanitize()
> validateEmail()
> validate()
> strip()
> ... and so on.
>
> Perhaps we could all adopt the gentleman's code - prefix every single
> function uniquely :P
>

well yes... but I'm pretty sure if this was the case with my plugin it 
would happen for everyone, not just some.

Rich

From wp at andrewnacin.com  Wed Sep  1 08:24:48 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 1 Sep 2010 04:24:48 -0400
Subject: [wp-hackers] plugin activation help
In-Reply-To: <4C7E01A7.7080805@elfden.co.uk>
References: <4C7D7885.5060103@elfden.co.uk>
	<261054093.90486.1283291777561.JavaMail.open-xchange@oxusltgw08.schlund.de>
	<4C7E01A7.7080805@elfden.co.uk>
Message-ID: <AANLkTi=aVVrx03LHrNMPuaugAMQOmk8td=WpAf5pcFzP@mail.gmail.com>

On Wed, Sep 1, 2010 at 3:32 AM, Rich Pedley <elfin at elfden.co.uk> wrote:
Fatal error: Cannot redeclare add_user() (previously declared
in C:\inetpub\vhosts\mydomain.com
\httpdocs\store\wp-admin\includes\user.php:23) in C:\inetpub\vhosts\
mydomain.com\httpdocs\store\wp-admin\includes\user.php on line 44

This is a core file, and add_user() is the first function in
wp-admin/includes/user.php... I am wondering if this file is somehow getting
double-included. I really haven't a clue how. Perhaps suggest they download
a new copy of WP and re-upload that one file?

From elfin at elfden.co.uk  Wed Sep  1 08:45:37 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Wed, 01 Sep 2010 09:45:37 +0100
Subject: [wp-hackers] plugin activation help
In-Reply-To: <AANLkTi=aVVrx03LHrNMPuaugAMQOmk8td=WpAf5pcFzP@mail.gmail.com>
References: <4C7D7885.5060103@elfden.co.uk>	<261054093.90486.1283291777561.JavaMail.open-xchange@oxusltgw08.schlund.de>	<4C7E01A7.7080805@elfden.co.uk>
	<AANLkTi=aVVrx03LHrNMPuaugAMQOmk8td=WpAf5pcFzP@mail.gmail.com>
Message-ID: <4C7E12B1.6030105@elfden.co.uk>

On 01/09/2010 09:24, Andrew Nacin wrote:
> On Wed, Sep 1, 2010 at 3:32 AM, Rich Pedley<elfin at elfden.co.uk>  wrote:
> Fatal error: Cannot redeclare add_user() (previously declared
> in C:\inetpub\vhosts\mydomain.com
> \httpdocs\store\wp-admin\includes\user.php:23) in C:\inetpub\vhosts\
> mydomain.com\httpdocs\store\wp-admin\includes\user.php on line 44
>
> This is a core file, and add_user() is the first function in
> wp-admin/includes/user.php... I am wondering if this file is somehow getting
> double-included. I really haven't a clue how. Perhaps suggest they download
> a new copy of WP and re-upload that one file?

The only reference I see to this sort of error was on the testing 
list, and I think they suggested that as well.

I will suggest and see if it helps - I'll let you know when I know.

Rich

From elfin at elfden.co.uk  Wed Sep  1 08:54:04 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Wed, 01 Sep 2010 09:54:04 +0100
Subject: [wp-hackers] plugin activation help
In-Reply-To: <AANLkTi=aVVrx03LHrNMPuaugAMQOmk8td=WpAf5pcFzP@mail.gmail.com>
References: <4C7D7885.5060103@elfden.co.uk>	<261054093.90486.1283291777561.JavaMail.open-xchange@oxusltgw08.schlund.de>	<4C7E01A7.7080805@elfden.co.uk>
	<AANLkTi=aVVrx03LHrNMPuaugAMQOmk8td=WpAf5pcFzP@mail.gmail.com>
Message-ID: <4C7E14AC.7040706@elfden.co.uk>

On 01/09/2010 09:24, Andrew Nacin wrote:
> On Wed, Sep 1, 2010 at 3:32 AM, Rich Pedley<elfin at elfden.co.uk>  wrote:
> Fatal error: Cannot redeclare add_user() (previously declared
> in C:\inetpub\vhosts\mydomain.com
> \httpdocs\store\wp-admin\includes\user.php:23) in C:\inetpub\vhosts\
> mydomain.com\httpdocs\store\wp-admin\includes\user.php on line 44
>
> This is a core file, and add_user() is the first function in
> wp-admin/includes/user.php... I am wondering if this file is somehow getting
> double-included. I really haven't a clue how. Perhaps suggest they download
> a new copy of WP and re-upload that one file?

ugh, could this be caused by my using this:
require( ABSPATH . WPINC . '/pluggable.php' );

shamed to say that was left over from my early coding, and I've now 
removed it...

Rich

From elfin at elfden.co.uk  Wed Sep  1 09:08:36 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Wed, 01 Sep 2010 10:08:36 +0100
Subject: [wp-hackers] plugin activation help
In-Reply-To: <4C7E14AC.7040706@elfden.co.uk>
References: <4C7D7885.5060103@elfden.co.uk>	<261054093.90486.1283291777561.JavaMail.open-xchange@oxusltgw08.schlund.de>	<4C7E01A7.7080805@elfden.co.uk>	<AANLkTi=aVVrx03LHrNMPuaugAMQOmk8td=WpAf5pcFzP@mail.gmail.com>
	<4C7E14AC.7040706@elfden.co.uk>
Message-ID: <4C7E1814.7020803@elfden.co.uk>

On 01/09/2010 09:54, Rich Pedley wrote:
> On 01/09/2010 09:24, Andrew Nacin wrote:
>> On Wed, Sep 1, 2010 at 3:32 AM, Rich Pedley<elfin at elfden.co.uk>   wrote:
>> Fatal error: Cannot redeclare add_user() (previously declared
>> in C:\inetpub\vhosts\mydomain.com
>> \httpdocs\store\wp-admin\includes\user.php:23) in C:\inetpub\vhosts\
>> mydomain.com\httpdocs\store\wp-admin\includes\user.php on line 44
>>
>> This is a core file, and add_user() is the first function in
>> wp-admin/includes/user.php... I am wondering if this file is somehow getting
>> double-included. I really haven't a clue how. Perhaps suggest they download
>> a new copy of WP and re-upload that one file?
>
> ugh, could this be caused by my using this:
> require( ABSPATH . WPINC . '/pluggable.php' );
>
> shamed to say that was left over from my early coding, and I've now
> removed it...

apologies ignore me, have to use it so changed it to require_once

The following if statement won't work without it, unless I'm 
referencing the wrong file?

if(is_user_logged_in() && current_user_can('eShop_admin')){


Rich

From wp at andrewnacin.com  Wed Sep  1 09:22:07 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 1 Sep 2010 05:22:07 -0400
Subject: [wp-hackers] plugin activation help
In-Reply-To: <4C7E1814.7020803@elfden.co.uk>
References: <4C7D7885.5060103@elfden.co.uk>
	<261054093.90486.1283291777561.JavaMail.open-xchange@oxusltgw08.schlund.de>
	<4C7E01A7.7080805@elfden.co.uk>
	<AANLkTi=aVVrx03LHrNMPuaugAMQOmk8td=WpAf5pcFzP@mail.gmail.com>
	<4C7E14AC.7040706@elfden.co.uk> <4C7E1814.7020803@elfden.co.uk>
Message-ID: <AANLkTikjjORdm5tck_A7cq3Juoz9S-MjRDJDu9QXkkKC@mail.gmail.com>

On Wed, Sep 1, 2010 at 5:08 AM, Rich Pedley <elfin at elfden.co.uk> wrote:

>  ugh, could this be caused by my using this:
>> require( ABSPATH . WPINC . '/pluggable.php' );
>>
>> shamed to say that was left over from my early coding, and I've now
>> removed it...
>>
>
> apologies ignore me, have to use it so changed it to require_once
>
> The following if statement won't work without it, unless I'm referencing
> the wrong file?
>
> if(is_user_logged_in() && current_user_can('eShop_admin')){


Don't include pluggable.php before core does. That can definitely cause
problems. (You're preventing other plugins from replacing those functions.)

The reason why is_user_logged_in() and current_user_can() don't work when
you're trying to use them, is because we haven't initialized the current
user yet. We don't do that until just before the init hook.

Anything affecting the current user all need to wait until init. Same goes
for $wp_rewrite, $wp_query, the list goes on. Realistically, the plugin
should be waiting for init to do *anything* at all, beyond attaching hooks.

Invalid bug reports caused by plugins doing things before init include:

http://core.trac.wordpress.org/ticket/14728 - using is_super_admin() before
init.
http://core.trac.wordpress.org/ticket/14729 - using conditional tags (which
rely on $wp_query) before init.
http://core.trac.wordpress.org/ticket/13957 - using register_taxonomy() or
register_post_type() before init.

Hope that helps,
Nacin

From elfin at elfden.co.uk  Wed Sep  1 10:01:29 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Wed, 01 Sep 2010 11:01:29 +0100
Subject: [wp-hackers] plugin activation help
In-Reply-To: <AANLkTikjjORdm5tck_A7cq3Juoz9S-MjRDJDu9QXkkKC@mail.gmail.com>
References: <4C7D7885.5060103@elfden.co.uk>	<261054093.90486.1283291777561.JavaMail.open-xchange@oxusltgw08.schlund.de>	<4C7E01A7.7080805@elfden.co.uk>	<AANLkTi=aVVrx03LHrNMPuaugAMQOmk8td=WpAf5pcFzP@mail.gmail.com>	<4C7E14AC.7040706@elfden.co.uk>
	<4C7E1814.7020803@elfden.co.uk>
	<AANLkTikjjORdm5tck_A7cq3Juoz9S-MjRDJDu9QXkkKC@mail.gmail.com>
Message-ID: <4C7E2479.3010808@elfden.co.uk>

On 01/09/2010 10:22, Andrew Nacin wrote:
> On Wed, Sep 1, 2010 at 5:08 AM, Rich Pedley<elfin at elfden.co.uk>  wrote:
>
>>   ugh, could this be caused by my using this:
>>> require( ABSPATH . WPINC . '/pluggable.php' );
>>>
>>> shamed to say that was left over from my early coding, and I've now
>>> removed it...
>>>
>>
>> apologies ignore me, have to use it so changed it to require_once
>>
>> The following if statement won't work without it, unless I'm referencing
>> the wrong file?
>>
>> if(is_user_logged_in()&&  current_user_can('eShop_admin')){
>
>
> Don't include pluggable.php before core does. That can definitely cause
> problems. (You're preventing other plugins from replacing those functions.)
>
> The reason why is_user_logged_in() and current_user_can() don't work when
> you're trying to use them, is because we haven't initialized the current
> user yet. We don't do that until just before the init hook.
>
> Anything affecting the current user all need to wait until init. Same goes
> for $wp_rewrite, $wp_query, the list goes on. Realistically, the plugin
> should be waiting for init to do *anything* at all, beyond attaching hooks.
>
> Invalid bug reports caused by plugins doing things before init include:
>
> http://core.trac.wordpress.org/ticket/14728 - using is_super_admin() before
> init.
> http://core.trac.wordpress.org/ticket/14729 - using conditional tags (which
> rely on $wp_query) before init.
> http://core.trac.wordpress.org/ticket/13957 - using register_taxonomy() or
> register_post_type() before init.
>
> Hope that helps,

It sure does, I found a few more that could be potentially erm 
troublesome. I've now wrapped them in a nice add_action on init.

Thank you, sometimes to takes having some one pointing out the 
blindingly obvious to see your mistake.

Luckily I was redoing things to better split the admin based functions 
off from the public facing ones, so the change was easy to add in.

many many thanks.

Rich
(now I just need to tidy it all up...)


From vid at zippykid.com  Wed Sep  1 11:16:16 2010
From: vid at zippykid.com (Vid Luther)
Date: Wed, 1 Sep 2010 06:16:16 -0500
Subject: [wp-hackers] Deployment process (was Exporting Menus)
In-Reply-To: <AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
	<AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
Message-ID: <ABBBAE03-2E97-4AFD-9FE6-6D6CF49CB3A2@zippykid.com>

Here's my $0.02 on the deployment process we're using.. 
On Aug 31, 2010, at 11:31 PM, Andrew Nacin wrote:

> 
> We all have our own processes for production deployments. It depends on the
> site, the client, the need, and of course our own preferences and tricks
> we've picked up. My process works well for me in almost every case, but that
> doesn't mean it'll work for you. (In a nutshell, I prefer to map the
> production domain to a local or remote sandbox. It's also how
> wordpress.orgis configured.) Again, how much of this depends on the
> developer's (or
> developers') own workflow?
> 

I've been working on this solution using Ruby/Capistrano, my project is on Github (http://github.com/vluther/Autopress) my workflow is not perfect, but it's getting closer to how
I want it, I'd love it if people can help more.

1. cd to bootstrapPress (just a pristine clone of the github repo)
2. copy the comitted vmware.rb capistrano stage file in config/deploy/clientnametest.rb , make appropriate changes.. 
3. cap clientnamestest.rb deploy:setup, this does the following..

	- ssh to localhost , 
	- make web directory for client, do a git clone
	- creates a mysql user with proper permissions for specific database
	- creates specified database
	- loads a default sql file from the git clone (un comitted versions have support for specifying a specific sql dump file)
	- creates autopress.php , which is called very early in wp-config.php 
		- autopress.php has SITENAME, BLOGNAME, WP_USER, etc defined..
		- creates all the secret keys/salts  from http://api.wordpress.org/secret-key/1.1/salt/
    - changes password of default admin user in the sql file we loaded (as specified in the stage file)
    - uncomitted versions will even change the default admin username.


It's not the perfect solution, but it's working for us, I've deployed over 40 websites using this methodology
since I started the project.

I'm experimenting with the roles attribute in capistrano, where if it works the way I want it to, I could change my deployment 
steps to be something like

	- cap clientname deploy:stage
	- cap clientname deploy:production
	- cap clientname sync:stage (would sync production back to stage)
	- cap clientname sync:production (would sync production from stage) (I'm not in a rush to automate this anytime soon :)).


I'm trying to find other people who are doing something similar, or have better methods that I could incorporate, I picked Capistrano/Ruby for this
as it's a very mature environment compared to Phing, plus people don't need to sacrifice anything to get PHP + SSH working on OS X :).

And, I wanted to learn Ruby, but not Rails :)


> Beyond that, I second everything Beau said. Thinking big will help, figuring
> out the real problems as well coming up with solutions, but before endorsing
> a deployment method there needs to be a lot more innovation and evolution in
> the space.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From philip at frumph.net  Wed Sep  1 11:38:20 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Wed, 1 Sep 2010 04:38:20 -0700
Subject: [wp-hackers] Problem with wp_uploads_dir();
Message-ID: <AE1581B5ED864C5781FCBA308C0B2EDA@frumph.net>

I'm using wp_uploads_dir(); now to check the paths to which file directories to use as I assume this is the proper way to do it so that my code knows which directories either standalone or MS to use.

The problem is that on hosting services that require ftp_method to be used, when it comes to the media uploader the wp_uploads_dir() goes in and tries to create the 2010/month/  directory, and if it fails, the wp_uploads_dir() returns back a failure, which then the paths are not found and it screws up the code i'm using to find the paths since it's returning an error and not the paths (even though the paths are still legit) just the one for the month directory couldnt be created.

Is there an alternative that I should be using that wp_uploads_dir() uses but one that doesnt return the error instead of the other paths ?

Or is that a bug where its returning the error and not the paths AND the error ?


- Phil

From gcorne at bu.edu  Wed Sep  1 11:48:10 2010
From: gcorne at bu.edu (Cornelius, Gregory)
Date: Wed, 1 Sep 2010 07:48:10 -0400
Subject: [wp-hackers] Exporting Menus
In-Reply-To: <AANLkTinr3BdSd=wp7sSN9ACvX9=CY3cKzXk7BnFLHcpF@mail.gmail.com>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
	<AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
	<AANLkTinr3BdSd=wp7sSN9ACvX9=CY3cKzXk7BnFLHcpF@mail.gmail.com>
Message-ID: <5B286CAE-505F-4B2C-87AC-AEF7BCF17B89@bu.edu>

On Sep 1, 2010, at 1:19 AM, Otto wrote:

> Totally agree with this, this makes local development of a site quite
> trivial. Just edit your hosts file (or run a local DNS or whatever you
> prefer to do) and point the domain name to your localhost, then set up
> the site. Bingo, a straight SQL dump will move over just fine. No
> tricky business with search and replace or anything else.
> 
> The only real issue in moving SQL dumps around is the domain name
> changes. So remove that from the equation.

This works okay for a single developer working on a single blog, but it does not scale to a large multisite install with a group of many theme designers, content creators, and various other people involved in site creation.

From cross at thisismyurl.com  Wed Sep  1 12:45:51 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Wed, 1 Sep 2010 09:45:51 -0300
Subject: [wp-hackers] Plugins missing on the repository
Message-ID: <2805429F-2EC4-4E61-97B9-9B7779790206@thisismyurl.com>

Hi all, a few of my plugins are not showing up on the repository this morning

http://wordpress.org/extend/plugins/google-bot-bling/
http://wordpress.org/extend/plugins/no-more-frames/
http://wordpress.org/extend/plugins/auto-copyright-1/

I didn't receive any notification of problems with them but they're simply not there. Any ideas?

If you know, could you email me off list please? Thanks,

chris

__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708
New Orleans 1 (504) 322 3485

http://christopherross.ca
http://www.thisismyurl.com


From tom at thedextrousweb.com  Wed Sep  1 12:56:08 2010
From: tom at thedextrousweb.com (Tom Adams)
Date: Wed, 01 Sep 2010 13:56:08 +0100
Subject: [wp-hackers] Deployment process (was Exporting Menus)
In-Reply-To: <ABBBAE03-2E97-4AFD-9FE6-6D6CF49CB3A2@zippykid.com>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
	<AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
	<ABBBAE03-2E97-4AFD-9FE6-6D6CF49CB3A2@zippykid.com>
Message-ID: <1283342219-sup-4095@lain>

> I've been working on this solution using Ruby/Capistrano, my project is on Github (http://github.com/vluther/Autopress) my workflow is not perfect, but it's getting closer to how
> I want it, I'd love it if people can help more.

*capistrano high-five*
http://github.com/dxw/wp-capistrano

The README should be self-explanatory, but to summarise you just need to copy a
couple of files into your wp-content, edit lib/config.yml, and then run "cap
deploy" or "cap production deploy", for instance, for production. (The README's
a few days out-of-date in the "modules" section, but other than that it should
provide a good starting point.)

> I'm trying to find other people who are doing something similar, or have better methods that I could incorporate, I picked Capistrano/Ruby for this
> as it's a very mature environment compared to Phing, plus people don't need to sacrifice anything to get PHP + SSH working on OS X :).

I took a look over Autopress. From the looks of it it's very minimal compared
to wp-capistrano. I have a more complex setup because each project's root
repository is at wp-content (the theme and individual plugins are all
submodules). Also, wp-capistrano will automatically convert SASS to CSS, set
up wp-super-cache for you, handle shared uploads/plugins directories, etc..

If anybody's interested in this I'd love any feedback you can offer.
-- 
Tom Adams
Developer, The Dextrous Web
Web: http://thedextrousweb.com/
Twitter: @holizz, @dextrousweb

From elfin at elfden.co.uk  Wed Sep  1 13:02:28 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Wed, 01 Sep 2010 14:02:28 +0100
Subject: [wp-hackers] Plugins missing on the repository
In-Reply-To: <2805429F-2EC4-4E61-97B9-9B7779790206@thisismyurl.com>
References: <2805429F-2EC4-4E61-97B9-9B7779790206@thisismyurl.com>
Message-ID: <4C7E4EE4.2000304@elfden.co.uk>

On 01/09/2010 13:45, Christopher Ross wrote:
> Hi all, a few of my plugins are not showing up on the repository this morning
>
> http://wordpress.org/extend/plugins/google-bot-bling/
> http://wordpress.org/extend/plugins/no-more-frames/
> http://wordpress.org/extend/plugins/auto-copyright-1/
>
> I didn't receive any notification of problems with them but they're simply not there. Any ideas?
>
> If you know, could you email me off list please? Thanks,

I can access all 3, thought the last one appears to not be reading the 
readme correctly.

Rich

From jer at simianuprising.com  Wed Sep  1 13:11:22 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 1 Sep 2010 09:11:22 -0400
Subject: [wp-hackers] What Should A Plugin Author Do To Make Plugins
	Extensible?
In-Reply-To: <F2DF5F09-7C80-4BB9-99E2-01D30ED86E3F@newclarity.net>
References: <000f01cb47f3$a28807c0$e7981740$@org>
	<AANLkTik=-ubdRwtewc0YTWTS4SQ2Q1N=7SSbBee_0msF@mail.gmail.com>
	<AANLkTin+bGWuUopjjzDQjHK0cFUthCSVtdSajN68R7dv@mail.gmail.com>
	<6C0E0A4E-8CD7-48A1-AD5E-786832B80FAF@newclarity.net>
	<000301cb48ab$51ae5c60$f50b1520$@com>
	<001b01cb48b1$30803170$91809450$@org>
	<2648845D-6363-4D87-9993-F0CB35FE6762@newclarity.net>
	<AANLkTin7TNVj7MBvO2TzCPATULhe6_wKCfxQbYYMnPxn@mail.gmail.com>
	<9457DB21-3E8B-4132-9490-EAC77A4687E1@newclarity.net>
	<AANLkTinsYZuhEY6VBSw8ra9xyfUgS6HjmAH363i24WMw@mail.gmail.com>
	<F2DF5F09-7C80-4BB9-99E2-01D30ED86E3F@newclarity.net>
Message-ID: <AANLkTi=LSqn9M=6GnyExedN8_WFK4=10JSmvqsO=MePD@mail.gmail.com>

FWIW I think the 'other notes' section is probably adequate for listing API
stuff in your plugin that you think should be used by developers. If you
have good stuff there you can add a single line to the main plugin
description saying 'see other notes section for constants, functions and
hooks available in the plugin'.


-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | globalvoicesonline.org

From vid at zippykid.com  Wed Sep  1 13:13:31 2010
From: vid at zippykid.com (Vid Luther)
Date: Wed, 1 Sep 2010 08:13:31 -0500
Subject: [wp-hackers] Deployment process (was Exporting Menus)
In-Reply-To: <1283342219-sup-4095@lain>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
	<AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
	<ABBBAE03-2E97-4AFD-9FE6-6D6CF49CB3A2@zippykid.com>
	<1283342219-sup-4095@lain>
Message-ID: <8D02A536-B11A-4845-ABBE-A1EAE1CD0C29@zippykid.com>

Tom,
 This looks really cool, I'm following the project now, I had question on how you handle multiple clients? is it a fork/clone per client, and you modify the config.yml?

I'll be playing with this sometime this weekend.  I've been meaning to see git sub modules in action, one of the things my clients won't like is their specific themes
up on a public github repo, but this is giving me some really good ideas on how I can deploy themes.





On Sep 1, 2010, at 7:56 AM, Tom Adams wrote:

>> I've been working on this solution using Ruby/Capistrano, my project is on Github (http://github.com/vluther/Autopress) my workflow is not perfect, but it's getting closer to how
>> I want it, I'd love it if people can help more.
> 
> *capistrano high-five*
> http://github.com/dxw/wp-capistrano
> 
> The README should be self-explanatory, but to summarise you just need to copy a
> couple of files into your wp-content, edit lib/config.yml, and then run "cap
> deploy" or "cap production deploy", for instance, for production. (The README's
> a few days out-of-date in the "modules" section, but other than that it should
> provide a good starting point.)
> 
>> I'm trying to find other people who are doing something similar, or have better methods that I could incorporate, I picked Capistrano/Ruby for this
>> as it's a very mature environment compared to Phing, plus people don't need to sacrifice anything to get PHP + SSH working on OS X :).
> 
> I took a look over Autopress. From the looks of it it's very minimal compared
> to wp-capistrano. I have a more complex setup because each project's root
> repository is at wp-content (the theme and individual plugins are all
> submodules). Also, wp-capistrano will automatically convert SASS to CSS, set
> up wp-super-cache for you, handle shared uploads/plugins directories, etc..
> 
> If anybody's interested in this I'd love any feedback you can offer.
> -- 
> Tom Adams
> Developer, The Dextrous Web
> Web: http://thedextrousweb.com/
> Twitter: @holizz, @dextrousweb


From tom at thedextrousweb.com  Wed Sep  1 13:46:07 2010
From: tom at thedextrousweb.com (Tom Adams)
Date: Wed, 01 Sep 2010 14:46:07 +0100
Subject: [wp-hackers] Deployment process (was Exporting Menus)
In-Reply-To: <8D02A536-B11A-4845-ABBE-A1EAE1CD0C29@zippykid.com>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
	<AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
	<ABBBAE03-2E97-4AFD-9FE6-6D6CF49CB3A2@zippykid.com>
	<1283342219-sup-4095@lain>
	<8D02A536-B11A-4845-ABBE-A1EAE1CD0C29@zippykid.com>
Message-ID: <1283346972-sup-5158@lain>

> Tom,
>  This looks really cool, I'm following the project now, I had question on how you handle multiple clients? is it a fork/clone per client, and you modify the config.yml?

Each site has its own repository. With the gem installed, each site just has a
lib/config.yml and a Capfile (all it does is require the gem, and do any extras
you can't do with the config).

> I'll be playing with this sometime this weekend.  I've been meaning to see git sub modules in action, one of the things my clients won't like is their specific themes
> up on a public github repo, but this is giving me some really good ideas on how I can deploy themes.

I can see GitHub being problematic for submodules as they charge you
per-repository. We use gitosis for our private repositories
( http://progit.org/book/ch4-7.html ). Since you host it yourself there's no
limit to the number of repos or collaborators you can have, which is nice.
-- 
Tom Adams
Developer, The Dextrous Web
Web: http://thedextrousweb.com/
Twitter: @holizz, @dextrousweb

From vid at zippykid.com  Wed Sep  1 13:54:48 2010
From: vid at zippykid.com (Vid Luther)
Date: Wed, 1 Sep 2010 08:54:48 -0500
Subject: [wp-hackers] Deployment process (was Exporting Menus)
In-Reply-To: <1283346972-sup-5158@lain>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
	<AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
	<ABBBAE03-2E97-4AFD-9FE6-6D6CF49CB3A2@zippykid.com>
	<1283342219-sup-4095@lain>
	<8D02A536-B11A-4845-ABBE-A1EAE1CD0C29@zippykid.com>
	<1283346972-sup-5158@lain>
Message-ID: <8C7EE7D3-E6AE-4D9A-814E-93C18532DB44@zippykid.com>


On Sep 1, 2010, at 8:46 AM, Tom Adams wrote:
> 
> Each site has its own repository. With the gem installed, each site just has a
> lib/config.yml and a Capfile (all it does is require the gem, and do any extras
> you can't do with the config).
> 

Sorry for harping on this.. I just want to make sure I understand.. so each site has a lib/config.yml right above it's document root, and you can then just do the cap foo magic?

>> I'll be playing with this sometime this weekend.  I've been meaning to see git sub modules in action, one of the things my clients won't like is their specific themes
>> up on a public github repo, but this is giving me some really good ideas on how I can deploy themes.
> 
> I can see GitHub being problematic for submodules as they charge you
> per-repository. We use gitosis for our private repositories
> ( http://progit.org/book/ch4-7.html ). Since you host it yourself there's no
> limit to the number of repos or collaborators you can have, which is nice.

Agreed, but one of the things we promise our customers, and one of the reasons I chose WordPress is the complete openness. If people are unhappy with our hosting
or if they just want us to to do the PSD to Theme conversion, we give them full access, including revision history if they decide they need it, or know how to use it.
We don't want them to feel constrained to us, we want them to want to be with us :).

And, it's one less system we need to administer/manage. 


From dbo at easi.net.nz  Wed Sep  1 14:04:55 2010
From: dbo at easi.net.nz (Duncan O'Neill)
Date: Thu, 02 Sep 2010 02:04:55 +1200
Subject: [wp-hackers] non-themed page
Message-ID: <4C7E5D87.6010907@easi.net.nz>

Hi all,

long-time lurker, first-time poster...

I hope this is a basic question;

I have a page I want to appear in a pop-up iframe, but
/without/ the current theme applying.

I'd prefer to do this by using function.php or similar to
tell WP not to load for this page, if possible.

If not, what are my other options please? .htaccess? How
do I go about excluding a page named 'iframe.php' from
being themed in .htaccess?

thanks in advance,

Duncan O'Neill

From aaron at jorb.in  Wed Sep  1 14:08:09 2010
From: aaron at jorb.in (Aaron Jorbin)
Date: Wed, 1 Sep 2010 10:08:09 -0400
Subject: [wp-hackers] non-themed page
In-Reply-To: <4C7E5D87.6010907@easi.net.nz>
References: <4C7E5D87.6010907@easi.net.nz>
Message-ID: <AANLkTi=i=gWqsD8tg7ErDZP4Nm_xm1RR989rM+S1ub74@mail.gmail.com>

Why not just create a page template in your theme that isn't styled at all
like the rest of your site and then uses get_header('nostyle') and a
header-nostyle.php?


http://aaron.jorb.in
twitter: twitter.com/aaronjorbin


On Wed, Sep 1, 2010 at 10:04 AM, Duncan O'Neill <dbo at easi.net.nz> wrote:

> Hi all,
>
> long-time lurker, first-time poster...
>
> I hope this is a basic question;
>
> I have a page I want to appear in a pop-up iframe, but
> /without/ the current theme applying.
>
> I'd prefer to do this by using function.php or similar to
> tell WP not to load for this page, if possible.
>
> If not, what are my other options please? .htaccess? How
> do I go about excluding a page named 'iframe.php' from
> being themed in .htaccess?
>
> thanks in advance,
>
> Duncan O'Neill
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From tom at thedextrousweb.com  Wed Sep  1 14:41:00 2010
From: tom at thedextrousweb.com (Tom Adams)
Date: Wed, 01 Sep 2010 15:41:00 +0100
Subject: [wp-hackers] Deployment process (was Exporting Menus)
In-Reply-To: <8C7EE7D3-E6AE-4D9A-814E-93C18532DB44@zippykid.com>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
	<AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
	<ABBBAE03-2E97-4AFD-9FE6-6D6CF49CB3A2@zippykid.com>
	<1283342219-sup-4095@lain>
	<8D02A536-B11A-4845-ABBE-A1EAE1CD0C29@zippykid.com>
	<1283346972-sup-5158@lain>
	<8C7EE7D3-E6AE-4D9A-814E-93C18532DB44@zippykid.com>
Message-ID: <1283349351-sup-9817@lain>

> Sorry for harping on this.. I just want to make sure I understand.. so each site has a lib/config.yml right above it's document root, and you can then just do the cap foo magic?

I think your deployment setup is very different to mine so perhaps I should
explain a bit more clearly (I'll ignore submodules completely, because it makes
no difference to wp-capistrano if you have submodules or not).

So where I think you have a centralised capistrano directory where you can run
"cap a_client_site deploy", we go into our check-out of development code and
then run capistrano from there (cd /var/vhosts/docs/a_client_site/wp-content && cap
deploy).

That's an interesting way of doing things, but wp-capistrano doesn't work like
that. So I'll explain how it works for wp-capistrano:

On your _development_ machine, you have:

/var/vhosts/docs/a_client_website

That's the document root, where wp-config.php lives, and such.

Inside there you have:

/var/vhosts/docs/a_client_website/wp-content

As you do in any WordPress installation. This is your main git repository!
Imagine that's pushed to git at github.com:user/a_client_website

Then you also have:

/var/vhosts/docs/a_client_website/wp-content/lib/config.yml

Which contains the following:

--- 
application:
  repository: git at github.com:user/a_client_website
wordpress:
  repository: git://github.com/dxw/wordpress.git
  version: v3.0.1
deploy:
  production:
    ssh_user: deploy
    ssh_domain: a-client-website.com
    modules:
      - wp-super-cache
      - shared-dirs:
        - uploads
    path: /var/vhosts/a-client-website.com/capistrano_dir
    vhost: a-client-website.com
    database:
      user: root
      name: a_client_website

Then:
$ cd /var/vhosts/docs/a_client_website/wp-content
$ cap setup

That will set capistrano up on the remote machine (make sure
deploy at a-client-website.com has write access to
/var/vhosts/a-client-website.com/capistrano_dir). Then all you need to do
is run "cap deploy", and you should find a fully working copy of WordPress at:

/var/vhosts/a-client-website.com/capistrano_dir/current/finalized

And inside there will be your wp-content checked out.

Hopefully that's enough detail to get you started with wp-capistrano, but feel
free to ask if there's anything else.
-- 
Tom Adams
Developer, The Dextrous Web
Web: http://thedextrousweb.com/
Twitter: @holizz, @dextrousweb

From andrew at graymerica.com  Wed Sep  1 15:38:34 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Wed, 1 Sep 2010 11:38:34 -0400
Subject: [wp-hackers] Deployment process (was Exporting Menus)
Message-ID: <46E170E3-8EFB-41C4-B6CD-E9C66B7E8A35@graymerica.com>

capistrano is great tool but it does not address the issues with menus, widgets, urls and other data stored in the database and mixed with content. This content is out of date the moment you create a development database dump if you have an active site.  Most of my big sites add 20+ posts per day for example.  

Part of the great part of Wordpress is that it runs on a wide variety of platforms and does not require SSH access to install.    My hope would be to create a solution that uses native php functions and those built into WP to deal with the staging issues.

The new menu system is great, but if you are unable to deploy a new menu, in any method other than manually creating it on a live site,  it has marginal utility for high traffic and enterprise clients.   The deployments should be able to be scripted, so you can test your deployment before you destroy a live site during a roll out.  

I believe that all of these DB concerns can be addressed with no external code, but instead using the existing code base, actions and hooks and plugins.  Us developers just need to come up with a solution. (some have great ideas for parts of it or code already in the field.)

I would never tell anyone not to develop tools that help with their own work flow, but deploying the static files for wordpress is the easy part,  it is the database changes that can get really hairy,

This is a big enough issue for me that I am going to build my own tools, but I would love to work with a group of those with similar concern and get the blessing of the WP lead developers, so the solution can be as robust as possible.

Imagine if in addition to the updates for plugins and themes, there was a section for menu and widget set updates.  Or if you could load in the changes via a file that you check in GIT/SVN or other source control.  It sure would make those late night site roll outs smoother, instead of having to go over a check list of menus, widgets, and plugins to configure.

Andrew

On a side note, does anyone know why the URL of images is stored in content and not just a relative link that starts with a slash?  ( /wp-content/uploads/ )

From vid at zippykid.com  Wed Sep  1 15:49:00 2010
From: vid at zippykid.com (Vid Luther)
Date: Wed, 1 Sep 2010 10:49:00 -0500
Subject: [wp-hackers] Deployment process (was Exporting Menus)
In-Reply-To: <46E170E3-8EFB-41C4-B6CD-E9C66B7E8A35@graymerica.com>
References: <46E170E3-8EFB-41C4-B6CD-E9C66B7E8A35@graymerica.com>
Message-ID: <6ABC53A2-7218-4B55-9BEA-378E20BEB3F0@zippykid.com>

Andrew,
 I agree 100%. I'm just using capistrano to migrate static files and a base db dump right now, but my goal is to be able to go from prod to stage to prod to dev.

I don't want to do it as a live link, as I normally don't allow access between staging environments and production environments. My goal is to build something along the lines of Chef/Opscode or puppetlabs but just for wordpress. 

PS: I'm not sure if anyone from the wpengine team is on here, but they have a staging plugin, that's supposed to do quite a bit of what you're asking for, the plugin is free to download, I just haven't had time to try it. 




On Sep 1, 2010, at 10:38 AM, Andrew Gray wrote:

> capistrano is great tool but it does not address the issues with menus, widgets, urls and other data stored in the database and mixed with content. This content is out of date the moment you create a development database dump if you have an active site.  Most of my big sites add 20+ posts per day for example.  
> 
> Part of the great part of Wordpress is that it runs on a wide variety of platforms and does not require SSH access to install.    My hope would be to create a solution that uses native php functions and those built into WP to deal with the staging issues.
> 
> The new menu system is great, but if you are unable to deploy a new menu, in any method other than manually creating it on a live site,  it has marginal utility for high traffic and enterprise clients.   The deployments should be able to be scripted, so you can test your deployment before you destroy a live site during a roll out.  
> 
> I believe that all of these DB concerns can be addressed with no external code, but instead using the existing code base, actions and hooks and plugins.  Us developers just need to come up with a solution. (some have great ideas for parts of it or code already in the field.)
> 
> I would never tell anyone not to develop tools that help with their own work flow, but deploying the static files for wordpress is the easy part,  it is the database changes that can get really hairy,
> 
> This is a big enough issue for me that I am going to build my own tools, but I would love to work with a group of those with similar concern and get the blessing of the WP lead developers, so the solution can be as robust as possible.
> 
> Imagine if in addition to the updates for plugins and themes, there was a section for menu and widget set updates.  Or if you could load in the changes via a file that you check in GIT/SVN or other source control.  It sure would make those late night site roll outs smoother, instead of having to go over a check list of menus, widgets, and plugins to configure.
> 
> Andrew
> 
> On a side note, does anyone know why the URL of images is stored in content and not just a relative link that starts with a slash?  ( /wp-content/uploads/ )
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From lynne.pope at gmail.com  Wed Sep  1 16:03:44 2010
From: lynne.pope at gmail.com (Lynne Pope)
Date: Thu, 2 Sep 2010 04:03:44 +1200
Subject: [wp-hackers] GUID problem
Message-ID: <AANLkTi=6Ss1QGTDRXn9vYnw6+NUhV_Aunai8XJf6GZEE@mail.gmail.com>

Hi all,
The GUID *should* be unique within a blog - right? Well, I have a problem
and am hoping someone has ideas on how to solve it (apart from manually
modifying the GUID field).

I am currently working on a blog that has been using WordPress for the past
5 years. It contains over 1,000 posts. Over that time, the blog has had
several changes, including domain names, and the merger of other blogs into
this one. The GUID has five different domain names, including localhost, but
that isn't the issue (they can be easily changed with a couple of SQL
queries). The problem is, the unique identifying number isn't unique. ?p=57
occurs multiple times, for example.

They want this fixed, and also want to use the GUID as a short URL on their
new site, which makes it imperative that the GUID really is a unique
identifier.

Has anyone come across this before? Does anyone know of a way in which to
renumber the GUID's so they are unique and correctly incremental?
I'd appreciate any advice you can offer.

Thanks,

Lynne Pope

From chris at clwill.com  Wed Sep  1 16:21:49 2010
From: chris at clwill.com (Chris Williams)
Date: Wed, 1 Sep 2010 12:21:49 -0400
Subject: [wp-hackers] (OT) DNS Settings for WWW vs not
Message-ID: <C8A3CBAD.12DBB%chris@clwill.com>

This is OT, but I'm sure someone here can point me in the right direction.  I knew the answer at one point, but I'm tired and grasping at straws.

I have several sites I'm working on.  Some are working just fine with and without the "www" (e.g. www.x.com and simply x.com).  One is not.  It's DNS records are with godaddy (no I can't move them, it's the customer's), but the hosting is elsewhere.  It works just fine with the www, but without it, it goes to a godaddy parked page.  The customer has asked godaddy and they say "you need to use domain name forwarding from x.com to www.x.com).  I know this is crap, that it's just the DNS settings that are hosed, but I can't remember what the DNS settings need to be to solve this.

The @ record points to the parked page, and there is a CNAME record for the www that points correctly.  Isn't this the issue?  Shouldn't the main @ record point to the correct place and the CNAME record point to the @ record?

Thanks for the interruption and way off topic, but I'm sure some smart person here could help.  Taking this private and off the list is fine/great/etc.

Thanks in advance,
Chris

From eric at eamann.com  Wed Sep  1 16:26:27 2010
From: eric at eamann.com (Eric Mann)
Date: Wed, 1 Sep 2010 09:26:27 -0700 (PDT)
Subject: [wp-hackers] GUID problem
In-Reply-To: <AANLkTi=6Ss1QGTDRXn9vYnw6+NUhV_Aunai8XJf6GZEE@mail.gmail.com>
References: <AANLkTi=6Ss1QGTDRXn9vYnw6+NUhV_Aunai8XJf6GZEE@mail.gmail.com>
Message-ID: <1475415260.102778.1283358387584.JavaMail.open-xchange@oxusltgw06.schlund.de>

This is the problem inherent in using a URL as a GUID. ?Even though multiple
posts might have the same post number (?p=57) I doubt they have the same full
GUID. ?Try not to think of the GUID as a URL, even though it *looks* like a URL.
?http://blog.url/?p=57 and http://localhost/?p=57 really are different GUIDs
that refer to different posts ... even if one is post ID 57 and one is post ID
192, the GUID doesn't change.
?
For this reason, you shouldn't use the GUID as a short URL ... since the GUID
itself is a URL. ?So I don't know what exact use case your client wants, but
that doesn't make sense.
?
To make sure GUIDs read as unique, maybe we should consider hashing the URL form
instead of storing it as a URL. ?This way no one will confuse a GUID with an
actual post URL ... particularly when moving from site to site.

On September 1, 2010 at 4:03 PM Lynne Pope <lynne.pope at gmail.com> wrote:

> Hi all,
> The GUID *should* be unique within a blog - right? Well, I have a problem
> and am hoping someone has ideas on how to solve it (apart from manually
> modifying the GUID field).
>
> I am currently working on a blog that has been using WordPress for the past
> 5 years. It contains over 1,000 posts. Over that time, the blog has had
> several changes, including domain names, and the merger of other blogs into
> this one. The GUID has five different domain names, including localhost, but
> that isn't the issue (they can be easily changed with a couple of SQL
> queries). The problem is, the unique identifying number isn't unique. ?p=57
> occurs multiple times, for example.
>
> They want this fixed, and also want to use the GUID as a short URL on their
> new site, which makes it imperative that the GUID really is a unique
> identifier.
>
> Has anyone come across this before? Does anyone know of a way in which to
> renumber the GUID's so they are unique and correctly incremental?
> I'd appreciate any advice you can offer.
>
> Thanks,
>
> Lynne Pope
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From vid at zippykid.com  Wed Sep  1 16:29:37 2010
From: vid at zippykid.com (Vid Luther)
Date: Wed, 1 Sep 2010 11:29:37 -0500
Subject: [wp-hackers] (OT) DNS Settings for WWW vs not
In-Reply-To: <C8A3CBAD.12DBB%chris@clwill.com>
References: <C8A3CBAD.12DBB%chris@clwill.com>
Message-ID: <B3C9B67D-350C-4A47-8F17-A28548455092@zippykid.com>

The @ should point to the ip address of the server where the site is.
The CNAME should be to the WWW

Here's an example: http://emberapp.com/vidluther/images/godaddy






On Sep 1, 2010, at 11:21 AM, Chris Williams wrote:

> This is OT, but I'm sure someone here can point me in the right direction.  I knew the answer at one point, but I'm tired and grasping at straws.
> 
> I have several sites I'm working on.  Some are working just fine with and without the "www" (e.g. www.x.com and simply x.com).  One is not.  It's DNS records are with godaddy (no I can't move them, it's the customer's), but the hosting is elsewhere.  It works just fine with the www, but without it, it goes to a godaddy parked page.  The customer has asked godaddy and they say "you need to use domain name forwarding from x.com to www.x.com).  I know this is crap, that it's just the DNS settings that are hosed, but I can't remember what the DNS settings need to be to solve this.
> 
> The @ record points to the parked page, and there is a CNAME record for the www that points correctly.  Isn't this the issue?  Shouldn't the main @ record point to the correct place and the CNAME record point to the @ record?
> 
> Thanks for the interruption and way off topic, but I'm sure some smart person here could help.  Taking this private and off the list is fine/great/etc.
> 
> Thanks in advance,
> Chris
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From yan at statikpulse.com  Wed Sep  1 16:29:20 2010
From: yan at statikpulse.com (Yan Sarazin)
Date: Wed, 1 Sep 2010 12:29:20 -0400
Subject: [wp-hackers] (OT) DNS Settings for WWW vs not
In-Reply-To: <C8A3CBAD.12DBB%chris@clwill.com>
References: <C8A3CBAD.12DBB%chris@clwill.com>
Message-ID: <AANLkTin08NedXM2+qmP9FJ2D=MVPO6CNdQKYN6r+MV1m@mail.gmail.com>

That's usually the way I set up my domains. The @ A record points to my
host, the www CNAME points to my @ record.

Yan


On Wed, Sep 1, 2010 at 12:21, Chris Williams <chris at clwill.com> wrote:

> This is OT, but I'm sure someone here can point me in the right direction.
>  I knew the answer at one point, but I'm tired and grasping at straws.
>
> I have several sites I'm working on.  Some are working just fine with and
> without the "www" (e.g. www.x.com and simply x.com).  One is not.  It's
> DNS records are with godaddy (no I can't move them, it's the customer's),
> but the hosting is elsewhere.  It works just fine with the www, but without
> it, it goes to a godaddy parked page.  The customer has asked godaddy and
> they say "you need to use domain name forwarding from x.com to www.x.com).
>  I know this is crap, that it's just the DNS settings that are hosed, but I
> can't remember what the DNS settings need to be to solve this.
>
> The @ record points to the parked page, and there is a CNAME record for the
> www that points correctly.  Isn't this the issue?  Shouldn't the main @
> record point to the correct place and the CNAME record point to the @
> record?
>
> Thanks for the interruption and way off topic, but I'm sure some smart
> person here could help.  Taking this private and off the list is
> fine/great/etc.
>
> Thanks in advance,
> Chris
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chris at clwill.com  Wed Sep  1 16:33:14 2010
From: chris at clwill.com (Chris Williams)
Date: Wed, 1 Sep 2010 12:33:14 -0400
Subject: [wp-hackers] (OT) DNS Settings for WWW vs not
In-Reply-To: <AANLkTin08NedXM2+qmP9FJ2D=MVPO6CNdQKYN6r+MV1m@mail.gmail.com>
Message-ID: <C8A3CE5A.12DC1%chris@clwill.com>

Thanks Yan and Vid, I thought so.  Just getting so much "automated FAQ help" from godaddy, having trouble telling the pooh from the real thing.


________________________________
From: Yan Sarazin <yan at statikpulse.com>
Reply-To: <wp-hackers at lists.automattic.com>
Date: Wed, 1 Sep 2010 12:29:20 -0400
To: <wp-hackers at lists.automattic.com>
Subject: Re: [wp-hackers] (OT) DNS Settings for WWW vs not

That's usually the way I set up my domains. The @ A record points to my
host, the www CNAME points to my @ record.

Yan


On Wed, Sep 1, 2010 at 12:21, Chris Williams <chris at clwill.com> wrote:

> This is OT, but I'm sure someone here can point me in the right direction.
>  I knew the answer at one point, but I'm tired and grasping at straws.
>
> I have several sites I'm working on.  Some are working just fine with and
> without the "www" (e.g. www.x.com and simply x.com).  One is not.  It's
> DNS records are with godaddy (no I can't move them, it's the customer's),
> but the hosting is elsewhere.  It works just fine with the www, but without
> it, it goes to a godaddy parked page.  The customer has asked godaddy and
> they say "you need to use domain name forwarding from x.com to www.x.com).
>  I know this is crap, that it's just the DNS settings that are hosed, but I
> can't remember what the DNS settings need to be to solve this.
>
> The @ record points to the parked page, and there is a CNAME record for the
> www that points correctly.  Isn't this the issue?  Shouldn't the main @
> record point to the correct place and the CNAME record point to the @
> record?
>
> Thanks for the interruption and way off topic, but I'm sure some smart
> person here could help.  Taking this private and off the list is
> fine/great/etc.
>
> Thanks in advance,
> Chris
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Wed Sep  1 17:01:59 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 1 Sep 2010 13:01:59 -0400
Subject: [wp-hackers] Deployment process (was Exporting Menus)
In-Reply-To: <46E170E3-8EFB-41C4-B6CD-E9C66B7E8A35@graymerica.com>
References: <46E170E3-8EFB-41C4-B6CD-E9C66B7E8A35@graymerica.com>
Message-ID: <C23A8834-789A-4292-BF1D-915ECF5B137E@newclarity.net>

On Sep 1, 2010, at 11:38 AM, Andrew Gray wrote:
> Part of the great part of Wordpress is that it runs on a wide variety of platforms and does not require SSH access to install.    My hope would be to create a solution that uses native php functions and those built into WP to deal with the staging issues.
> 
> The new menu system is great, but if you are unable to deploy a new menu, in any method other than manually creating it on a live site,  it has marginal utility for high traffic and enterprise clients.   The deployments should be able to be scripted, so you can test your deployment before you destroy a live site during a roll out.  
> 
> I believe that all of these DB concerns can be addressed with no external code, but instead using the existing code base, actions and hooks and plugins.  Us developers just need to come up with a solution. (some have great ideas for parts of it or code already in the field.)

+1 

> This is a big enough issue for me that I am going to build my own tools, but I would love to work with a group of those with similar concern and get the blessing of the WP lead developers, so the solution can be as robust as possible.

I'm in.  I've been planning to work on something for this myself but would far prefer to collaborate, especially if the work can gain traction and use by more people than just me.   

-Mike

From mikeschinkel at newclarity.net  Wed Sep  1 17:29:09 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 1 Sep 2010 13:29:09 -0400
Subject: [wp-hackers] What Should A Plugin Author Do To Make Plugins
	Extensible?
In-Reply-To: <AANLkTi=LSqn9M=6GnyExedN8_WFK4=10JSmvqsO=MePD@mail.gmail.com>
References: <000f01cb47f3$a28807c0$e7981740$@org>
	<AANLkTik=-ubdRwtewc0YTWTS4SQ2Q1N=7SSbBee_0msF@mail.gmail.com>
	<AANLkTin+bGWuUopjjzDQjHK0cFUthCSVtdSajN68R7dv@mail.gmail.com>
	<6C0E0A4E-8CD7-48A1-AD5E-786832B80FAF@newclarity.net>
	<000301cb48ab$51ae5c60$f50b1520$@com>
	<001b01cb48b1$30803170$91809450$@org>
	<2648845D-6363-4D87-9993-F0CB35FE6762@newclarity.net>
	<AANLkTin7TNVj7MBvO2TzCPATULhe6_wKCfxQbYYMnPxn@mail.gmail.com>
	<9457DB21-3E8B-4132-9490-EAC77A4687E1@newclarity.net>
	<AANLkTinsYZuhEY6VBSw8ra9xyfUgS6HjmAH363i24WMw@mail.gmail.com>
	<F2DF5F09-7C80-4BB9-99E2-01D30ED86E3F@newclarity.net>
	<AANLkTi=LSqn9M=6GnyExedN8_WFK4=10JSmvqsO=MePD@mail.gmail.com>
Message-ID: <CDEABF37-EAFB-4293-A16B-AF4CB2BCB7D7@newclarity.net>

On Sep 1, 2010, at 9:11 AM, Jeremy Clarke wrote:
> FWIW I think the 'other notes' section is probably adequate for listing API
> stuff in your plugin that you think should be used by developers. If you
> have good stuff there you can add a single line to the main plugin
> description saying 'see other notes section for constants, functions and
> hooks available in the plugin'.

Yes, clearly the 'other notes' section it's adequate.  Actually, having a single "About" section would have been adequate instead of having separate Description, Installation, Screenshots, FAQ, etc.  sections.  But if we only had a single "About" section how many plugin developers would it never occur to that they should add specifics to address Installation, Screenshots, FAQ, etc?  Looking at how many currently don't even add those, I'd say the percentage would be pretty high.

Finding a place to put API docs was not the point of the suggestion. The point was to encourage plugins developer to add hooks by giving them a suggested API section so it will occur to them that maybe it's something they should do.

Assuming getting more plugin to offer hooks is a useful goal and based on the percentage that offer currently hooks the current adequate solution is not, well, adequate.  

FWIW.

-Mike

From elfin at elfden.co.uk  Wed Sep  1 18:38:08 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Wed, 01 Sep 2010 19:38:08 +0100
Subject: [wp-hackers] What Should A Plugin Author Do To Make
	Plugins	Extensible?
In-Reply-To: <CDEABF37-EAFB-4293-A16B-AF4CB2BCB7D7@newclarity.net>
References: <000f01cb47f3$a28807c0$e7981740$@org>	<AANLkTik=-ubdRwtewc0YTWTS4SQ2Q1N=7SSbBee_0msF@mail.gmail.com>	<AANLkTin+bGWuUopjjzDQjHK0cFUthCSVtdSajN68R7dv@mail.gmail.com>	<6C0E0A4E-8CD7-48A1-AD5E-786832B80FAF@newclarity.net>	<000301cb48ab$51ae5c60$f50b1520$@com>	<001b01cb48b1$30803170$91809450$@org>	<2648845D-6363-4D87-9993-F0CB35FE6762@newclarity.net>	<AANLkTin7TNVj7MBvO2TzCPATULhe6_wKCfxQbYYMnPxn@mail.gmail.com>	<9457DB21-3E8B-4132-9490-EAC77A4687E1@newclarity.net>	<AANLkTinsYZuhEY6VBSw8ra9xyfUgS6HjmAH363i24WMw@mail.gmail.com>	<F2DF5F09-7C80-4BB9-99E2-01D30ED86E3F@newclarity.net>	<AANLkTi=LSqn9M=6GnyExedN8_WFK4=10JSmvqsO=MePD@mail.gmail.com>
	<CDEABF37-EAFB-4293-A16B-AF4CB2BCB7D7@newclarity.net>
Message-ID: <4C7E9D90.3040303@elfden.co.uk>

On 01/09/2010 18:29, Mike Schinkel wrote:
> On Sep 1, 2010, at 9:11 AM, Jeremy Clarke wrote:
>> FWIW I think the 'other notes' section is probably adequate for
>> listing API stuff in your plugin that you think should be used by
>> developers. If you have good stuff there you can add a single
>> line to the main plugin description saying 'see other notes
>> section for constants, functions and hooks available in the
>> plugin'.
>
> Yes, clearly the 'other notes' section it's adequate.  Actually,
> having a single "About" section would have been adequate instead of
> having separate Description, Installation, Screenshots, FAQ, etc.
> sections.  But if we only had a single "About" section how many
> plugin developers would it never occur to that they should add
> specifics to address Installation, Screenshots, FAQ, etc?  Looking
> at how many currently don't even add those, I'd say the percentage
> would be pretty high.
>
> Finding a place to put API docs was not the point of the
> suggestion. The point was to encourage plugins developer to add
> hooks by giving them a suggested API section so it will occur to
> them that maybe it's something they should do.
>
> Assuming getting more plugin to offer hooks is a useful goal and
> based on the percentage that offer currently hooks the current
> adequate solution is not, well, adequate.
>
> FWIW.

There are already enough sections in the readme to be honest, adding 
more for a minority (us plugin developers) is over kill.

Encourage a link to a help site or wiki etc. would be better IMO.

Though you can of course already include extra sections:
== Arbitrary section ==

But with the auto install, do we still need an installation section?

Rich






From otto at ottodestruct.com  Wed Sep  1 19:14:27 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 1 Sep 2010 14:14:27 -0500
Subject: [wp-hackers] Deployment process (was Exporting Menus)
In-Reply-To: <46E170E3-8EFB-41C4-B6CD-E9C66B7E8A35@graymerica.com>
References: <46E170E3-8EFB-41C4-B6CD-E9C66B7E8A35@graymerica.com>
Message-ID: <AANLkTikrKzwtjHXbSR1=t0T8CpLRTzxZvdQFC5Qs01hn@mail.gmail.com>

On Wed, Sep 1, 2010 at 10:38 AM, Andrew Gray <andrew at graymerica.com> wrote:
> On a side note, does anyone know why the URL of images is stored in content and not just a relative link that starts with a slash? ?( /wp-content/uploads/ )

Content isn't necessarily only displayed on your webpage.

Think "feeds", among other things.

-Otto

From otto at ottodestruct.com  Wed Sep  1 19:25:04 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 1 Sep 2010 14:25:04 -0500
Subject: [wp-hackers] GUID problem
In-Reply-To: <AANLkTi=6Ss1QGTDRXn9vYnw6+NUhV_Aunai8XJf6GZEE@mail.gmail.com>
References: <AANLkTi=6Ss1QGTDRXn9vYnw6+NUhV_Aunai8XJf6GZEE@mail.gmail.com>
Message-ID: <AANLkTi=ZsMQqAf7R9kgtYt3DLG2LjhqZcadVH1v_-e--@mail.gmail.com>

On Wed, Sep 1, 2010 at 11:03 AM, Lynne Pope <lynne.pope at gmail.com> wrote:
> Hi all,
> The GUID *should* be unique within a blog - right? Well, I have a problem
> and am hoping someone has ideas on how to solve it (apart from manually
> modifying the GUID field).

Actually, the GUID should be unique across the whole of space and
time. It's a "global" identifier. No other blog, or item, anywhere on
the planet should have that identifier.

The use of URLs for this goes way back, but the basic idea is that the
domain name is something that doesn't change often (or, at least
should not change often). So using it as a prefix gives you the basic
uniqueness to the site alone. This same principle is used for naming
conventions for java and other languages that use reverse namespacing,
eg. com.ottodestruct.some.dumb.class as a class name.

So on that level, if you a) didn't move the blog around and b) wrote
the content on the site itself instead of staging it somewhere first,
then the GUID would fulfill it's goals here.

However, many people don't do that. To which I respond that the GUID
doesn't actually matter for most people. It's really only used as a
unique identifier in the feeds, and even then most feed readers don't
rely on it, but use a combination of it, the timestamp, several other
things.

> They want this fixed, and also want to use the GUID as a short URL on their
> new site, which makes it imperative that the GUID really is a unique
> identifier.

Note: You *CANNOT* use the GUID as a shortlink. It is NOT a valid URL,
it is NOT guaranteed to be one, ever. Talk them down from this.

I've been wanting real UUID's in the GUID field for a long time
because of the confusion over this. For reference, a UUID looks like
"8d3fe620-b5fe-11df-8d81-0800200c9a66" or similar.

If they want a shortlink, then use the new 3.0 Shortlink API. The
wp_get_shortlink() function along with a shortlink plugin like
http://wordpress.org/extend/plugins/wp-bitly/ will do the trick for
you.

-Otto

From otto at ottodestruct.com  Wed Sep  1 19:36:01 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 1 Sep 2010 14:36:01 -0500
Subject: [wp-hackers] GUID problem
In-Reply-To: <AANLkTi=ZsMQqAf7R9kgtYt3DLG2LjhqZcadVH1v_-e--@mail.gmail.com>
References: <AANLkTi=6Ss1QGTDRXn9vYnw6+NUhV_Aunai8XJf6GZEE@mail.gmail.com>
	<AANLkTi=ZsMQqAf7R9kgtYt3DLG2LjhqZcadVH1v_-e--@mail.gmail.com>
Message-ID: <AANLkTimaMrcSdXR+P3eURFtE+W8a3__CEH9KZ7X3r2VC@mail.gmail.com>

On Wed, Sep 1, 2010 at 2:25 PM, Otto <otto at ottodestruct.com> wrote:
> However, many people don't do that. To which I respond that the GUID
> doesn't actually matter for most people. It's really only used as a
> unique identifier in the feeds, and even then most feed readers don't
> rely on it, but use a combination of it, the timestamp, several other
> things.

BTW, the whole point of a GUID in the feeds is to provide an
identifier to feedreaders that uniquely identifies a post. So changing
the GUID, ever, makes no real sense.

On that note though, the GUID should be unique before it goes live on
a website. If it's using http://localhost or something, then it's
probably not unique. If, however, it's using a domain you control,
then you also have control over its uniqueness.

-Otto

From otto at ottodestruct.com  Wed Sep  1 19:47:12 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 1 Sep 2010 14:47:12 -0500
Subject: [wp-hackers] Plugins missing on the repository
In-Reply-To: <4C7E4EE4.2000304@elfden.co.uk>
References: <2805429F-2EC4-4E61-97B9-9B7779790206@thisismyurl.com>
	<4C7E4EE4.2000304@elfden.co.uk>
Message-ID: <AANLkTinzqk-BDJiUYSQfVSvVXuBTpPtpGFLWLrdpX353@mail.gmail.com>

On Wed, Sep 1, 2010 at 8:02 AM, Rich Pedley <elfin at elfden.co.uk> wrote:
>> http://wordpress.org/extend/plugins/auto-copyright-1/
>
> I can access all 3, thought the last one appears to not be reading the
> readme correctly.

When a readme in the trunk contains a "Stable Tag" line, then
everything else is read from the readme.txt in the appropriate tags
directory. *

In this case, he has a stable tag of 1.1.7, but there is no tags/1.1.7
directory.

-Otto

* Exception: "Stable Tag: trunk" makes it read from trunk.

From otto at ottodestruct.com  Wed Sep  1 19:52:38 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 1 Sep 2010 14:52:38 -0500
Subject: [wp-hackers] Exporting Menus
In-Reply-To: <308DB74E-76C8-4539-8F17-C6209D16A016@newclarity.net>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
	<AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
	<AANLkTinr3BdSd=wp7sSN9ACvX9=CY3cKzXk7BnFLHcpF@mail.gmail.com>
	<308DB74E-76C8-4539-8F17-C6209D16A016@newclarity.net>
Message-ID: <AANLkTikFgKRTUdLu-hgYDk5LYS9j7hupa_ZDcvifPvJy@mail.gmail.com>

On Wed, Sep 1, 2010 at 12:46 AM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
>> Totally agree with this, this makes local development of a site quite
>> trivial. Just edit your hosts file (or run a local DNS or whatever you
>> prefer to do) and point the domain name to your localhost, then set up
>> the site. Bingo, a straight SQL dump will move over just fine. No
>> tricky business with search and replace or anything else.
>
> That's not a full solution for me (and ignoring the many people who should be that skilled but are not.) I find myself constantly needing to view at least two of he dev site, the test site, the staging site and the production site in parallel constantly editing hosts is simply too tedious so I instead map domains like this:
>
> Dev : http://example.dev
> Test : http://example.tst
> Staging : http://example.stg
> Production: http://example.com
>
> But, like Nacin said, everybody has something slightly different that works for them.

Well, like I said, there's other ways than just editing the hosts file.

If you use Firefox, for example, this comes in extremely handy:
https://addons.mozilla.org/en-US/firefox/addon/79492/

That will let you create a separate hosts file for each environment,
then switch between them right from the browser.

There's probably other ways too that I don't know.

-Otto

From scribu at gmail.com  Wed Sep  1 19:59:34 2010
From: scribu at gmail.com (scribu)
Date: Wed, 1 Sep 2010 22:59:34 +0300
Subject: [wp-hackers] Plugins missing on the repository
In-Reply-To: <AANLkTinzqk-BDJiUYSQfVSvVXuBTpPtpGFLWLrdpX353@mail.gmail.com>
References: <2805429F-2EC4-4E61-97B9-9B7779790206@thisismyurl.com>
	<4C7E4EE4.2000304@elfden.co.uk>
	<AANLkTinzqk-BDJiUYSQfVSvVXuBTpPtpGFLWLrdpX353@mail.gmail.com>
Message-ID: <AANLkTinc_5W2TO9G-rrOMuuC1bCMwaN7opbdA0_6Aodv@mail.gmail.com>

On Wed, Sep 1, 2010 at 10:47 PM, Otto <otto at ottodestruct.com> wrote:

> On Wed, Sep 1, 2010 at 8:02 AM, Rich Pedley <elfin at elfden.co.uk> wrote:
> >> http://wordpress.org/extend/plugins/auto-copyright-1/
> >
> > I can access all 3, thought the last one appears to not be reading the
> > readme correctly.
>
> When a readme in the trunk contains a "Stable Tag" line, then
> everything else is read from the readme.txt in the appropriate tags
> directory. *
>
> In this case, he has a stable tag of 1.1.7, but there is no tags/1.1.7
> directory.
>

It seems that before, when the Stable Tag was incorrect, it defaulted to
trunk.


-- 
http://scribu.net

From elfin at elfden.co.uk  Wed Sep  1 20:01:32 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Wed, 01 Sep 2010 21:01:32 +0100
Subject: [wp-hackers] Plugins missing on the repository
In-Reply-To: <AANLkTinzqk-BDJiUYSQfVSvVXuBTpPtpGFLWLrdpX353@mail.gmail.com>
References: <2805429F-2EC4-4E61-97B9-9B7779790206@thisismyurl.com>	<4C7E4EE4.2000304@elfden.co.uk>
	<AANLkTinzqk-BDJiUYSQfVSvVXuBTpPtpGFLWLrdpX353@mail.gmail.com>
Message-ID: <4C7EB11C.9000503@elfden.co.uk>

On 01/09/2010 20:47, Otto wrote:
> On Wed, Sep 1, 2010 at 8:02 AM, Rich Pedley<elfin at elfden.co.uk>  wrote:
>>> http://wordpress.org/extend/plugins/auto-copyright-1/
>>
>> I can access all 3, thought the last one appears to not be reading the
>> readme correctly.
>
> When a readme in the trunk contains a "Stable Tag" line, then
> everything else is read from the readme.txt in the appropriate tags
> directory. *
>
> In this case, he has a stable tag of 1.1.7, but there is no tags/1.1.7
> directory.
>
> -Otto
>
> * Exception: "Stable Tag: trunk" makes it read from trunk.

Didn't know about the trunk portion, and thanks for refreshing me on 
the rest. However I did find something interesting earlier.

I mistakenly uploaded my plugin with some wrong info and although the 
readme was pointing to the correct version, the download was being 
shown as the wrong version. It was showing the incorrect version as 
mentioned within the plugin headers...

I fixed this asap see:
http://plugins.trac.wordpress.org/changeset/283679/eshop

So this points to a mixture of the 2 being used.

I think.

Rich




From mikeschinkel at newclarity.net  Wed Sep  1 20:14:34 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 1 Sep 2010 16:14:34 -0400
Subject: [wp-hackers] Exporting Menus
In-Reply-To: <AANLkTikFgKRTUdLu-hgYDk5LYS9j7hupa_ZDcvifPvJy@mail.gmail.com>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
	<AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
	<AANLkTinr3BdSd=wp7sSN9ACvX9=CY3cKzXk7BnFLHcpF@mail.gmail.com>
	<308DB74E-76C8-4539-8F17-C6209D16A016@newclarity.net>
	<AANLkTikFgKRTUdLu-hgYDk5LYS9j7hupa_ZDcvifPvJy@mail.gmail.com>
Message-ID: <C4FA6D33-C8C2-424A-A920-2F4AE39A14F3@newclarity.net>

On Sep 1, 2010, at 3:52 PM, Otto wrote:
> On Wed, Sep 1, 2010 at 12:46 AM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
>>> Totally agree with this, this makes local development of a site quite
>>> trivial. Just edit your hosts file (or run a local DNS or whatever you
>>> prefer to do) and point the domain name to your localhost, then set up
>>> the site. Bingo, a straight SQL dump will move over just fine. No
>>> tricky business with search and replace or anything else.
>> 
>> That's not a full solution for me (and ignoring the many people who should be that skilled but are not.) I find myself constantly needing to view at least two of he dev site, the test site, the staging site and the production site in parallel constantly editing hosts is simply too tedious so I instead map domains like this:
>> 
>> Dev : http://example.dev
>> Test : http://example.tst
>> Staging : http://example.stg
>> Production: http://example.com
>> 
>> But, like Nacin said, everybody has something slightly different that works for them.
> 
> Well, like I said, there's other ways than just editing the hosts file.
> 
> If you use Firefox, for example, this comes in extremely handy:
> https://addons.mozilla.org/en-US/firefox/addon/79492/
> 
> That will let you create a separate hosts file for each environment,
> then switch between them right from the browser.
> 
> There's probably other ways too that I don't know.

And like what some others said, what works for a single open source dev probably doesn't work in a corporate or agency team environment.  

IOW this is no one silver bullet.

-Mike
P.S. The only time I ever load Firefox is when I otherwise don't have a choice; i.e. that I'm stuck and have to use Firebug.

From otto at ottodestruct.com  Wed Sep  1 20:16:53 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 1 Sep 2010 15:16:53 -0500
Subject: [wp-hackers] Plugins missing on the repository
In-Reply-To: <4C7EB11C.9000503@elfden.co.uk>
References: <2805429F-2EC4-4E61-97B9-9B7779790206@thisismyurl.com>
	<4C7E4EE4.2000304@elfden.co.uk>
	<AANLkTinzqk-BDJiUYSQfVSvVXuBTpPtpGFLWLrdpX353@mail.gmail.com>
	<4C7EB11C.9000503@elfden.co.uk>
Message-ID: <AANLkTim+As6wu_eHa=ei1XAkiB8QfK6onF3NR+29yz4m@mail.gmail.com>

On Wed, Sep 1, 2010 at 3:01 PM, Rich Pedley <elfin at elfden.co.uk> wrote:
> I mistakenly uploaded my plugin with some wrong info and although the readme
> was pointing to the correct version, the download was being shown as the
> wrong version. It was showing the incorrect version as mentioned within the
> plugin headers...

Yep. It does that. The readme parser draws from the header of the
plugin file too. This has bitten me more than once.

Reasoning: The version displayed in WP comes from the plugin file, not
from the readme.txt.

-Otto

From otto at ottodestruct.com  Wed Sep  1 20:16:53 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 1 Sep 2010 15:16:53 -0500
Subject: [wp-hackers] Plugins missing on the repository
In-Reply-To: <4C7EB11C.9000503@elfden.co.uk>
References: <2805429F-2EC4-4E61-97B9-9B7779790206@thisismyurl.com>
	<4C7E4EE4.2000304@elfden.co.uk>
	<AANLkTinzqk-BDJiUYSQfVSvVXuBTpPtpGFLWLrdpX353@mail.gmail.com>
	<4C7EB11C.9000503@elfden.co.uk>
Message-ID: <AANLkTim+As6wu_eHa=ei1XAkiB8QfK6onF3NR+29yz4m@mail.gmail.com>

On Wed, Sep 1, 2010 at 3:01 PM, Rich Pedley <elfin at elfden.co.uk> wrote:
> I mistakenly uploaded my plugin with some wrong info and although the readme
> was pointing to the correct version, the download was being shown as the
> wrong version. It was showing the incorrect version as mentioned within the
> plugin headers...

Yep. It does that. The readme parser draws from the header of the
plugin file too. This has bitten me more than once.

Reasoning: The version displayed in WP comes from the plugin file, not
from the readme.txt.

-Otto

From wp at andrewnacin.com  Wed Sep  1 20:58:17 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 1 Sep 2010 16:58:17 -0400
Subject: [wp-hackers] Exporting Menus
In-Reply-To: <C4FA6D33-C8C2-424A-A920-2F4AE39A14F3@newclarity.net>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
	<AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
	<AANLkTinr3BdSd=wp7sSN9ACvX9=CY3cKzXk7BnFLHcpF@mail.gmail.com>
	<308DB74E-76C8-4539-8F17-C6209D16A016@newclarity.net>
	<AANLkTikFgKRTUdLu-hgYDk5LYS9j7hupa_ZDcvifPvJy@mail.gmail.com>
	<C4FA6D33-C8C2-424A-A920-2F4AE39A14F3@newclarity.net>
Message-ID: <AANLkTin8rsRBiufW=Am5cryCjTbxvoM_yQS=Q1WpWO5w@mail.gmail.com>

On Wed, Sep 1, 2010 at 4:14 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

>  And like what some others said, what works for a single open source dev
> probably doesn't work in a corporate or agency team environment.


Not saying it'll work for you, but it works great for us. Just throw version
control, local and remote sandboxes, and staging into the mix.

From gcorne at bu.edu  Wed Sep  1 21:15:21 2010
From: gcorne at bu.edu (Cornelius, Gregory)
Date: Wed, 1 Sep 2010 17:15:21 -0400
Subject: [wp-hackers] Exporting Menus
In-Reply-To: <AANLkTin8rsRBiufW=Am5cryCjTbxvoM_yQS=Q1WpWO5w@mail.gmail.com>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
	<AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
	<AANLkTinr3BdSd=wp7sSN9ACvX9=CY3cKzXk7BnFLHcpF@mail.gmail.com>
	<308DB74E-76C8-4539-8F17-C6209D16A016@newclarity.net>
	<AANLkTikFgKRTUdLu-hgYDk5LYS9j7hupa_ZDcvifPvJy@mail.gmail.com>
	<C4FA6D33-C8C2-424A-A920-2F4AE39A14F3@newclarity.net>
	<AANLkTin8rsRBiufW=Am5cryCjTbxvoM_yQS=Q1WpWO5w@mail.gmail.com>
Message-ID: <AA43D330-B7EE-4171-BE4E-0EFBACDB5F1B@bu.edu>


> Not saying it'll work for you, but it works great for us. Just throw version
> control, local and remote sandboxes, and staging into the mix.


How do your clients review the project before production?   By changing their hosts file?


From dbo at easi.net.nz  Wed Sep  1 21:31:08 2010
From: dbo at easi.net.nz (Duncan O'Neill)
Date: Thu, 02 Sep 2010 09:31:08 +1200
Subject: [wp-hackers] non-themed page
In-Reply-To: <AANLkTi=i=gWqsD8tg7ErDZP4Nm_xm1RR989rM+S1ub74@mail.gmail.com>
References: <4C7E5D87.6010907@easi.net.nz>
	<AANLkTi=i=gWqsD8tg7ErDZP4Nm_xm1RR989rM+S1ub74@mail.gmail.com>
Message-ID: <4C7EC61C.3060806@easi.net.nz>

On 9/2/2010 2:08 AM, Aaron Jorbin wrote:
> Why not just create a page template in your theme that isn't styled at all
> like the rest of your site and then uses get_header('nostyle') and a
> header-nostyle.php?
>
>

Aaron,

thanks for your reply, and useful suggestion.

I've created the page, but not made it a template.
So Wordpress is still interfering -
rather than that page loading in the iframe, it's giving
me the site architecture, and a 404 page.

I don't need WP to process this page, so I'd prefer to
be able to by-pass WP via, say, .htaccess.

But since I don't know how to do that, I'll create a template
page, with calls as you suggest, and use that.

thanks again,

Duncan O'Neill

From elfin at elfden.co.uk  Wed Sep  1 21:54:53 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Wed, 01 Sep 2010 22:54:53 +0100
Subject: [wp-hackers] Plugins missing on the repository
In-Reply-To: <AANLkTim+As6wu_eHa=ei1XAkiB8QfK6onF3NR+29yz4m@mail.gmail.com>
References: <2805429F-2EC4-4E61-97B9-9B7779790206@thisismyurl.com>	<4C7E4EE4.2000304@elfden.co.uk>	<AANLkTinzqk-BDJiUYSQfVSvVXuBTpPtpGFLWLrdpX353@mail.gmail.com>	<4C7EB11C.9000503@elfden.co.uk>
	<AANLkTim+As6wu_eHa=ei1XAkiB8QfK6onF3NR+29yz4m@mail.gmail.com>
Message-ID: <4C7ECBAD.1090002@elfden.co.uk>

On 01/09/2010 21:16, Otto wrote:
> On Wed, Sep 1, 2010 at 3:01 PM, Rich Pedley<elfin at elfden.co.uk>  wrote:
>> I mistakenly uploaded my plugin with some wrong info and although the readme
>> was pointing to the correct version, the download was being shown as the
>> wrong version. It was showing the incorrect version as mentioned within the
>> plugin headers...
>
> Yep. It does that. The readme parser draws from the header of the
> plugin file too. This has bitten me more than once.
>
> Reasoning: The version displayed in WP comes from the plugin file, not
> from the readme.txt.
>

It's only a pain when things go wrong....

;)

Rich

From mikeschinkel at newclarity.net  Wed Sep  1 22:05:58 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 1 Sep 2010 18:05:58 -0400
Subject: [wp-hackers] non-themed page
In-Reply-To: <4C7EC61C.3060806@easi.net.nz>
References: <4C7E5D87.6010907@easi.net.nz>
	<AANLkTi=i=gWqsD8tg7ErDZP4Nm_xm1RR989rM+S1ub74@mail.gmail.com>
	<4C7EC61C.3060806@easi.net.nz>
Message-ID: <1B67BA50-DF3B-4B23-A4E6-DA98CD1EA37E@newclarity.net>

There's also the 'template_redirect' hook which runs relatively early. You could do something like this:


add_action('template_redirect','my_iframe_page');
function my_iframe_page() {

	// Generate your HTML here
	exit;

}

-Mike

On Sep 1, 2010, at 5:31 PM, Duncan O'Neill wrote:

> On 9/2/2010 2:08 AM, Aaron Jorbin wrote:
>> Why not just create a page template in your theme that isn't styled at all
>> like the rest of your site and then uses get_header('nostyle') and a
>> header-nostyle.php?
>> 
>> 
> 
> Aaron,
> 
> thanks for your reply, and useful suggestion.
> 
> I've created the page, but not made it a template.
> So Wordpress is still interfering -
> rather than that page loading in the iframe, it's giving
> me the site architecture, and a 404 page.
> 
> I don't need WP to process this page, so I'd prefer to
> be able to by-pass WP via, say, .htaccess.
> 
> But since I don't know how to do that, I'll create a template
> page, with calls as you suggest, and use that.
> 
> thanks again,
> 
> Duncan O'Neill
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Wed Sep  1 22:13:28 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 1 Sep 2010 18:13:28 -0400
Subject: [wp-hackers] Exporting Menus
In-Reply-To: <AANLkTin8rsRBiufW=Am5cryCjTbxvoM_yQS=Q1WpWO5w@mail.gmail.com>
References: <5D2D8254-24E8-435A-AEF3-62F9009F903F@graymerica.com>
	<D7420A4B-DEA1-45B7-A19E-6C47258E0210@newclarity.net>
	<4C7DC652.3090908@curtismchale.ca>
	<AANLkTim2tjT=9ODTGqG9J4Y1kRu-6GxRUdFWMPxfoupQ@mail.gmail.com>
	<AANLkTinr3BdSd=wp7sSN9ACvX9=CY3cKzXk7BnFLHcpF@mail.gmail.com>
	<308DB74E-76C8-4539-8F17-C6209D16A016@newclarity.net>
	<AANLkTikFgKRTUdLu-hgYDk5LYS9j7hupa_ZDcvifPvJy@mail.gmail.com>
	<C4FA6D33-C8C2-424A-A920-2F4AE39A14F3@newclarity.net>
	<AANLkTin8rsRBiufW=Am5cryCjTbxvoM_yQS=Q1WpWO5w@mail.gmail.com>
Message-ID: <3E3FEC7F-9371-4B34-BE60-C1D4A64CC8A3@newclarity.net>

On Sep 1, 2010, at 4:58 PM, Andrew Nacin wrote:
> On Wed, Sep 1, 2010 at 4:14 PM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
> 
>> And like what some others said, what works for a single open source dev
>> probably doesn't work in a corporate or agency team environment.
> 
> Not saying it'll work for you, but it works great for us. Just throw version
> control, local and remote sandboxes, and staging into the mix.

Which would explain why some things which are serious concerns for one set of developers get dismissed as unimportant by others.

Not blaming anyone here for actively being difficult, I'm just sayin...

-Mike

From aaron at jorb.in  Wed Sep  1 22:31:08 2010
From: aaron at jorb.in (Aaron Jorbin)
Date: Wed, 1 Sep 2010 18:31:08 -0400
Subject: [wp-hackers] non-themed page
In-Reply-To: <1B67BA50-DF3B-4B23-A4E6-DA98CD1EA37E@newclarity.net>
References: <4C7E5D87.6010907@easi.net.nz>
	<AANLkTi=i=gWqsD8tg7ErDZP4Nm_xm1RR989rM+S1ub74@mail.gmail.com>
	<4C7EC61C.3060806@easi.net.nz>
	<1B67BA50-DF3B-4B23-A4E6-DA98CD1EA37E@newclarity.net>
Message-ID: <AANLkTik+VO=rthTwfaFLUys2YUpzzZetOOCNaWANe3Bf@mail.gmail.com>

When you refer to creating the page, are you creating a page inside
WordPress or are you creating a file and putting it somewhere on the file
system?

The default .htaccess rules that are used when you enable pretty permalinks
will exclude any file that actually exists on the file system.

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]



http://aaron.jorb.in
twitter: twitter.com/aaronjorbin

From gcorne at bu.edu  Wed Sep  1 22:37:21 2010
From: gcorne at bu.edu (Cornelius, Gregory)
Date: Wed, 1 Sep 2010 18:37:21 -0400
Subject: [wp-hackers] Deployment process (was Exporting Menus)
In-Reply-To: <46E170E3-8EFB-41C4-B6CD-E9C66B7E8A35@graymerica.com>
References: <46E170E3-8EFB-41C4-B6CD-E9C66B7E8A35@graymerica.com>
Message-ID: <4E051FAB-0B73-4587-AD88-895DC49DC612@bu.edu>

Since Ken Zarque asked a while back, I thought it would provide some context and share a little about the process used at Boston U.    Our CMS, which hosts about 400 websites runs on top of WPMU 2.9.2.   Sometime in the next six months or so, we will upgrade to 3.x, which will take a bit of work due to the number of customizations that we have made, especially if we choose to move to the new menu system from our custom solution.  The CMS has about 25 themes and a number of customizations to make WordPress more page-centric.  Two plugins that play a role in workflows are our versions of wp-supercache and multi-site manager.

There are approximately 3 devs, 15 designers, and 5 technical support staff that handle the day-to-day logistics.   There are probably around 1,000 -2,000 content editors/producers.

Our main environments include:

* production
* staging (used for content development and front-end server configuration)
* development (used for qa and static site migration testing
* theme development (supercache disabled)
* qa
* developer sandboxes

Production and staging share a single codebase deployed to multiple servers and both connect to the same  database server / database.  The other development environments share a separate server / database server.   Depending on the project, they may or may not share the same development database.  In most cases, the switching of database connection info is automatic based on the server hostname in wp-config.php.  All code is managed using subversion following a typical repository structure (trunk, tags, vendor, branches).

All content work/review occurs in production/staging.  Content producers/editors make complete overhauls in the staging environment while day-to-day changes are made directly to the live site.   

* To launch a site (blog), we use the reassignment capability of multi-site manager coupled with a script for modifying the domain, moving static content, and invalidating the cache across servers.   This works fairly well.

* To clone a site (blog) from production back to test, we use another script that dump all the database tables, creates a new blog, modifies dump to change ids to match the id of the new blog, loads the tables in, copies static content, and modifies the database to match the new hostname / blog_id.

In both cases, the scripts actually simulate a request to wordpress to load up the API.  Requesting a launch is handled by our CRM via a link in WP admin. The handing of serialized data is the main gotcha.

The second script is also used to flow content into a development area or sandbox for testing, styling etc...  Since the database is different for the development areas, it is possible for user_id data in a production blog to point to a different user in the sandbox.   For most development work, this can be ignored, but it is less than ideal.

When a site exists in both production and staging, there also is the potential for production and staging data to get out of sync since there is not direct connection between the two.  Handling this is mostly a communication issue, but explaining the situation is not always easy when communicating with people that don't spend all day staring at WordPress.

There are other subtleties to the procedures and policies, but this overview should give other developers a sense.

From lynne.pope at gmail.com  Thu Sep  2 00:57:53 2010
From: lynne.pope at gmail.com (Lynne Pope)
Date: Thu, 2 Sep 2010 12:57:53 +1200
Subject: [wp-hackers] GUID problem
In-Reply-To: <AANLkTimaMrcSdXR+P3eURFtE+W8a3__CEH9KZ7X3r2VC@mail.gmail.com>
References: <AANLkTi=6Ss1QGTDRXn9vYnw6+NUhV_Aunai8XJf6GZEE@mail.gmail.com>
	<AANLkTi=ZsMQqAf7R9kgtYt3DLG2LjhqZcadVH1v_-e--@mail.gmail.com>
	<AANLkTimaMrcSdXR+P3eURFtE+W8a3__CEH9KZ7X3r2VC@mail.gmail.com>
Message-ID: <AANLkTimj0NS9-P6AvJ-FUH7Z=LAp4M0dOC3qRQY88GQ3@mail.gmail.com>

On Thu, Sep 2, 2010 at 7:36 AM, Otto <otto at ottodestruct.com> wrote:

> On Wed, Sep 1, 2010 at 2:25 PM, Otto <otto at ottodestruct.com> wrote:
> > However, many people don't do that. To which I respond that the GUID
> > doesn't actually matter for most people. It's really only used as a
> > unique identifier in the feeds, and even then most feed readers don't
> > rely on it, but use a combination of it, the timestamp, several other
> > things.
>
> BTW, the whole point of a GUID in the feeds is to provide an
> identifier to feedreaders that uniquely identifies a post. So changing
> the GUID, ever, makes no real sense.
>
> On that note though, the GUID should be unique before it goes live on
> a website. If it's using http://localhost or something, then it's
> probably not unique. If, however, it's using a domain you control,
>  then you also have control over its uniqueness.


In this situation, the GUID is not only not unique on this blog, but it's
not unique on the Net. Two of the previously-used domains are in use again
running WordPress. So, the company here has GUID's that are almost certain
to match GUID's used by the newer owners of those domains.

My own blog also has GUID's containing domain names that are no longer in my
control (and heaps of localhost too). Has anyone written a script to convert
these over to UUID's and, if so, would changing to UUID impact on WordPress
now? If it's possible to convert GUID's to the UUID format without b0rking
WordPress I'd do it for everyone running PHP5/MySQL5. It would immediately
remove their confusion over the use of GUID's as links.

Lynne

From lynne.pope at gmail.com  Thu Sep  2 01:14:50 2010
From: lynne.pope at gmail.com (Lynne Pope)
Date: Thu, 2 Sep 2010 13:14:50 +1200
Subject: [wp-hackers] GUID problem
In-Reply-To: <1475415260.102778.1283358387584.JavaMail.open-xchange@oxusltgw06.schlund.de>
References: <AANLkTi=6Ss1QGTDRXn9vYnw6+NUhV_Aunai8XJf6GZEE@mail.gmail.com>
	<1475415260.102778.1283358387584.JavaMail.open-xchange@oxusltgw06.schlund.de>
Message-ID: <AANLkTikt_V5aD6nVrYOJhnQcja0ObY_X3E6A1zZ26YnB@mail.gmail.com>

On Thu, Sep 2, 2010 at 4:26 AM, Eric Mann <eric at eamann.com> wrote:

> This is the problem inherent in using a URL as a GUID.  Even though
> multiple
> posts might have the same post number (?p=57) I doubt they have the same
> full
> GUID.  Try not to think of the GUID as a URL, even though it *looks* like a
> URL.
>  http://blog.url/?p=57 and http://localhost/?p=57 really are different
> GUIDs
> that refer to different posts ... even if one is post ID 57 and one is post
> ID
> 192, the GUID doesn't change.
>
> For this reason, you shouldn't use the GUID as a short URL ... since the
> GUID
> itself is a URL.  So I don't know what exact use case your client wants,
> but
>  that doesn't make sense.
>

Their site has GUID's containing domain names they no longer control, so
they wanted http://notmydomain.com changed to their domain. This leaves
multiple non-unique GUID's.
They had contracted someone to write a function to generate shortlinks - he
used the GUID. The rationale, apparently, was that the post ID's were also
not unique and over the years their various data imports had left them with
long post ID's.
It appears that when WordPress imports data through the backend post import,
it automatically builds ID's in blocks of 100. So, although they only have
just over 1,000 posts, the post ID's are in the five-figures.

If WordPress intends to change to UUID's in the future I can use that
information to persuade them of the dangers of using the GUID in the
shortlink. But, as it is, a developer has used them for his shortlinks and I
am just tasked with the job of cleaning up the database.

I guess most people wouldn't be keeping blogs going for years on end, and
taking them through different domains and staging processes. But in this
case, the post ID's and GUID's have turned into a real mess.

Lynne

From mikeschinkel at newclarity.net  Thu Sep  2 01:26:52 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 1 Sep 2010 21:26:52 -0400
Subject: [wp-hackers] GUID problem
In-Reply-To: <AANLkTikt_V5aD6nVrYOJhnQcja0ObY_X3E6A1zZ26YnB@mail.gmail.com>
References: <AANLkTi=6Ss1QGTDRXn9vYnw6+NUhV_Aunai8XJf6GZEE@mail.gmail.com>
	<1475415260.102778.1283358387584.JavaMail.open-xchange@oxusltgw06.schlund.de>
	<AANLkTikt_V5aD6nVrYOJhnQcja0ObY_X3E6A1zZ26YnB@mail.gmail.com>
Message-ID: <A5FBC717-32EF-4476-B01A-FEBA25E41B12@newclarity.net>

On Sep 1, 2010, at 9:14 PM, Lynne Pope wrote:
> But, as it is, a developer has used them for his shortlinks and I
> am just tasked with the job of cleaning up the database.

I'm confused. How cane some use WordPress's GUID for *short* links; aren't WordPress' GUIDs rather long?

And why is it such a big job?  Is the problem simply duplicates?  

And how many of these shortlinks are "in the wild" and need to be maintained compatible?

-Mike

From wp at andrewnacin.com  Thu Sep  2 01:45:41 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 1 Sep 2010 21:45:41 -0400
Subject: [wp-hackers] GUID problem
In-Reply-To: <A5FBC717-32EF-4476-B01A-FEBA25E41B12@newclarity.net>
References: <AANLkTi=6Ss1QGTDRXn9vYnw6+NUhV_Aunai8XJf6GZEE@mail.gmail.com>
	<1475415260.102778.1283358387584.JavaMail.open-xchange@oxusltgw06.schlund.de>
	<AANLkTikt_V5aD6nVrYOJhnQcja0ObY_X3E6A1zZ26YnB@mail.gmail.com>
	<A5FBC717-32EF-4476-B01A-FEBA25E41B12@newclarity.net>
Message-ID: <AANLkTikp0yotMbr4a6LCPLoKVrXjHU3ODJb8Apn_zp4P@mail.gmail.com>

On Wed, Sep 1, 2010 at 9:26 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> On Sep 1, 2010, at 9:14 PM, Lynne Pope wrote:
> > But, as it is, a developer has used them for his shortlinks and I
> > am just tasked with the job of cleaning up the database.
>
> I'm confused. How cane some use WordPress's GUID for *short* links; aren't
> WordPress' GUIDs rather long?
>

Since 2.5, we've used the non-pretty URL for the GUID, i.e.
http://example.com/?p=1. (This is the same as a default WP shortlink in
3.0.) Some who look at the database schema see a link and feel they can use
$post->post_guid instead of get_permalink(). It looks like a URL, but it's
not.. Anyway, there's been proposals to use UUID (something we should
consider). I've re-opened the related Trac ticket that proposed UUID now
that our MySQL minimum is high enough.

From austin at ilfilosofo.com  Thu Sep  2 01:51:50 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Wed, 1 Sep 2010 20:51:50 -0500
Subject: [wp-hackers] GUID problem
In-Reply-To: <AANLkTikp0yotMbr4a6LCPLoKVrXjHU3ODJb8Apn_zp4P@mail.gmail.com>
References: <AANLkTi=6Ss1QGTDRXn9vYnw6+NUhV_Aunai8XJf6GZEE@mail.gmail.com>
	<1475415260.102778.1283358387584.JavaMail.open-xchange@oxusltgw06.schlund.de>
	<AANLkTikt_V5aD6nVrYOJhnQcja0ObY_X3E6A1zZ26YnB@mail.gmail.com>
	<A5FBC717-32EF-4476-B01A-FEBA25E41B12@newclarity.net>
	<AANLkTikp0yotMbr4a6LCPLoKVrXjHU3ODJb8Apn_zp4P@mail.gmail.com>
Message-ID: <AANLkTik=MG6Nfi+dkQkj8y0s9=NZPULf2T-ZSqchQ9e6@mail.gmail.com>

On Wed, Sep 1, 2010 at 8:45 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> Since 2.5, we've used the non-pretty URL for the GUID, i.e.
> http://example.com/?p=1. (This is the same as a default WP shortlink in
> 3.0.) Some who look at the database schema see a link and feel they can use
> $post->post_guid instead of get_permalink(). It looks like a URL, but it's
> not..

Adding to the confusion, uploaded media's URLs get saved to the guid
field, so for those post types it *is* a URL and is used as such.

From mikeschinkel at newclarity.net  Thu Sep  2 02:17:59 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 1 Sep 2010 22:17:59 -0400
Subject: [wp-hackers] GUID problem
In-Reply-To: <AANLkTikp0yotMbr4a6LCPLoKVrXjHU3ODJb8Apn_zp4P@mail.gmail.com>
References: <AANLkTi=6Ss1QGTDRXn9vYnw6+NUhV_Aunai8XJf6GZEE@mail.gmail.com>
	<1475415260.102778.1283358387584.JavaMail.open-xchange@oxusltgw06.schlund.de>
	<AANLkTikt_V5aD6nVrYOJhnQcja0ObY_X3E6A1zZ26YnB@mail.gmail.com>
	<A5FBC717-32EF-4476-B01A-FEBA25E41B12@newclarity.net>
	<AANLkTikp0yotMbr4a6LCPLoKVrXjHU3ODJb8Apn_zp4P@mail.gmail.com>
Message-ID: <A449D3FE-03D6-4E21-8325-9C9E5ECADDD5@newclarity.net>

On Sep 1, 2010, at 9:45 PM, Andrew Nacin wrote:

> On Wed, Sep 1, 2010 at 9:26 PM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
> 
>> On Sep 1, 2010, at 9:14 PM, Lynne Pope wrote:
>>> But, as it is, a developer has used them for his shortlinks and I
>>> am just tasked with the job of cleaning up the database.
>> 
>> I'm confused. How cane some use WordPress's GUID for *short* links; aren't
>> WordPress' GUIDs rather long?
> 
> Since 2.5, we've used the non-pretty URL for the GUID, i.e.
> http://example.com/?p=1. (This is the same as a default WP shortlink in
> 3.0.) Some who look at the database schema see a link and feel they can use
> $post->post_guid instead of get_permalink(). It looks like a URL, but it's
> not.. Anyway, there's been proposals to use UUID (something we should
> consider). I've re-opened the related Trac ticket that proposed UUID now
> that our MySQL minimum is high enough.

Ah, thanks for the clarification.  Having seen how much garbage accumulates in that field it never occurred to me that someone would think to grab and use it *directly*.  

Yes, the UUID idea sounds good.  That said, the short-link implementation seems fraught with conflict anytime posts get merged from multiple databases.  Does WordPress' import handle tracking those and fixing them up with 301 redirects? Also, seems like using post_ids is a very fragile solution?

-Mike


From heiko.rabe at code-styling.de  Thu Sep  2 11:46:02 2010
From: heiko.rabe at code-styling.de (heiko.rabe at code-styling.de)
Date: Thu, 2 Sep 2010 13:46:02 +0200 (CEST)
Subject: [wp-hackers] deactivate a blog (site) at network
Message-ID: <597802121.288550.1283427962281.JavaMail.open-xchange@oxltgw00.schlund.de>

Is anybody able to explain, what's the purpose of deactivating a blog/site in
multisite environment ?
?
My expectation was, that the blog is not longer accessable from outside but all
browser still able to get the pages and posts of this deactivated blog!
The WP 3.0.1 configuration has been defined using sub folders instead of sub
domains, if it makes a difference.
?
I would assume, that this is a bug isn't it?
?
thanks
?
Heiko Rabe
(www.code-styling.de)

From dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com  Thu Sep  2 12:36:17 2010
From: dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com (Michael Clark)
Date: Thu, 2 Sep 2010 08:36:17 -0400
Subject: [wp-hackers] Site Address during development
Message-ID: <p06240802c8a548196052@[192.168.1.65]>

Good morning,

I'm developing a site for a client, and they are finally able to 
start adding their info, posts and pages, both with a lot of photos. 
I have the WordPress address (URL) and Site address (URL) (set under 
http://www.example.com/wp-admin/options-general.php ) defined to be 
the temporary subdomain of their domain name. But when they embed 
photos or PDFs into a post or page, the temporary domain name is 
embedded into the post. Once we go live this weekend is there an easy 
way to change those details into the new, permanent domain name? I 
don't want to have to maintain the development URL forever.

Actually, it seems silly to embed the domain name into the posts and 
pages at all. It's adding a bit to the page, plus possible delaying 
the loading of pages by fractions of a second as the page requests 
have to hit DNS. Shouldn't everything embedded be relative to the 
root directory of WordPress? Thanks, Mike



-- 

Michael Clark
http://www.PlanetMike.com

"Injustice anywhere is a threat to justice everywhere."
  - Martin Luther King Jr.

From Gavin.Pearce at 3seven9.com  Thu Sep  2 13:06:14 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Thu, 2 Sep 2010 14:06:14 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <p06240802c8a548196052@[192.168.1.65]>
References: <p06240802c8a548196052@[192.168.1.65]>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>

Hi Michael,

This is one of my main gripes with WordPress - having to do a SQL
find-and-replace between development and live URLs.

I especially hate how the "new" menu feature, for the Home button
creates a 'custom' link to the hard-coded URL of the current site.

Changing the site URLs in either wp-config.php or in the back-end won't
update these.

If anyone knows a better way to run a dev and live version of a site,
with easy database syncing, would be interested to know it also.

Cheers,
Gav


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Michael
Clark
Sent: 02 September 2010 13:36
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Site Address during development

Good morning,

I'm developing a site for a client, and they are finally able to 
start adding their info, posts and pages, both with a lot of photos. 
I have the WordPress address (URL) and Site address (URL) (set under 
http://www.example.com/wp-admin/options-general.php ) defined to be 
the temporary subdomain of their domain name. But when they embed 
photos or PDFs into a post or page, the temporary domain name is 
embedded into the post. Once we go live this weekend is there an easy 
way to change those details into the new, permanent domain name? I 
don't want to have to maintain the development URL forever.

Actually, it seems silly to embed the domain name into the posts and 
pages at all. It's adding a bit to the page, plus possible delaying 
the loading of pages by fractions of a second as the page requests 
have to hit DNS. Shouldn't everything embedded be relative to the 
root directory of WordPress? Thanks, Mike



-- 

Michael Clark
http://www.PlanetMike.com

"Injustice anywhere is a threat to justice everywhere."
  - Martin Luther King Jr.
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From philip at frumph.net  Thu Sep  2 13:08:25 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Thu, 2 Sep 2010 06:08:25 -0700
Subject: [wp-hackers] Site Address during development
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
References: <p06240802c8a548196052@[192.168.1.65]>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
Message-ID: <1CEC8D13A09E4CA4A38BFA29D2088E61@frumph.net>

+1 to the gripe list on this one, I would like to see it auto generate the 
urls to the proper location in the post


----- Original Message ----- 
From: "Gavin Pearce" <Gavin.Pearce at 3seven9.com>
To: <wp-hackers at lists.automattic.com>
Sent: Thursday, September 02, 2010 6:06 AM
Subject: Re: [wp-hackers] Site Address during development


> Hi Michael,
>
> This is one of my main gripes with WordPress - having to do a SQL
> find-and-replace between development and live URLs.
>
> I especially hate how the "new" menu feature, for the Home button
> creates a 'custom' link to the hard-coded URL of the current site.
>
> Changing the site URLs in either wp-config.php or in the back-end won't
> update these.
>
> If anyone knows a better way to run a dev and live version of a site,
> with easy database syncing, would be interested to know it also.
>
> Cheers,
> Gav
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Michael
> Clark
> Sent: 02 September 2010 13:36
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Site Address during development
>
> Good morning,
>
> I'm developing a site for a client, and they are finally able to
> start adding their info, posts and pages, both with a lot of photos.
> I have the WordPress address (URL) and Site address (URL) (set under
> http://www.example.com/wp-admin/options-general.php ) defined to be
> the temporary subdomain of their domain name. But when they embed
> photos or PDFs into a post or page, the temporary domain name is
> embedded into the post. Once we go live this weekend is there an easy
> way to change those details into the new, permanent domain name? I
> don't want to have to maintain the development URL forever.
>
> Actually, it seems silly to embed the domain name into the posts and
> pages at all. It's adding a bit to the page, plus possible delaying
> the loading of pages by fractions of a second as the page requests
> have to hit DNS. Shouldn't everything embedded be relative to the
> root directory of WordPress? Thanks, Mike
>
>
>
> -- 
>
> Michael Clark
> http://www.PlanetMike.com
>
> "Injustice anywhere is a threat to justice everywhere."
>  - Martin Luther King Jr.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From hempsworth at gmail.com  Thu Sep  2 13:09:19 2010
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Thu, 2 Sep 2010 14:09:19 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
References: <p06240802c8a548196052@192.168.1.65>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
Message-ID: <AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>

This is always an ongoing issue for me. Any tips would be great!

-- Alex


On Thu, Sep 2, 2010 at 2:06 PM, Gavin Pearce <Gavin.Pearce at 3seven9.com>wrote:

> Hi Michael,
>
> This is one of my main gripes with WordPress - having to do a SQL
> find-and-replace between development and live URLs.
>
> I especially hate how the "new" menu feature, for the Home button
> creates a 'custom' link to the hard-coded URL of the current site.
>
> Changing the site URLs in either wp-config.php or in the back-end won't
> update these.
>
> If anyone knows a better way to run a dev and live version of a site,
> with easy database syncing, would be interested to know it also.
>
> Cheers,
> Gav
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Michael
> Clark
> Sent: 02 September 2010 13:36
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Site Address during development
>
> Good morning,
>
> I'm developing a site for a client, and they are finally able to
> start adding their info, posts and pages, both with a lot of photos.
> I have the WordPress address (URL) and Site address (URL) (set under
> http://www.example.com/wp-admin/options-general.php ) defined to be
> the temporary subdomain of their domain name. But when they embed
> photos or PDFs into a post or page, the temporary domain name is
> embedded into the post. Once we go live this weekend is there an easy
> way to change those details into the new, permanent domain name? I
> don't want to have to maintain the development URL forever.
>
> Actually, it seems silly to embed the domain name into the posts and
> pages at all. It's adding a bit to the page, plus possible delaying
> the loading of pages by fractions of a second as the page requests
> have to hit DNS. Shouldn't everything embedded be relative to the
> root directory of WordPress? Thanks, Mike
>
>
>
> --
>
> Michael Clark
> http://www.PlanetMike.com
>
> "Injustice anywhere is a threat to justice everywhere."
>  - Martin Luther King Jr.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From vid at zippykid.com  Thu Sep  2 13:15:47 2010
From: vid at zippykid.com (Vid Luther)
Date: Thu, 2 Sep 2010 08:15:47 -0500
Subject: [wp-hackers] Site Address during development
In-Reply-To: <1CEC8D13A09E4CA4A38BFA29D2088E61@frumph.net>
References: <p06240802c8a548196052@[192.168.1.65]>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
	<1CEC8D13A09E4CA4A38BFA29D2088E61@frumph.net>
Message-ID: <3FA37864-A118-498B-A5BD-23C53F993740@zippykid.com>

Simplest thing would be to define it in the wp-config.php.  


define('WP_SITEURL', "http://example.com");
define('WP_HOME', "http://example.com");

You can get creative if you have the ability to set environment variables within Apache, 
we do a SetEnv zippy_environment dev|stage|production. 

Then in the wp-config, you can do a case($_SERVER['zippy_environment']) { 

...

}

I'm also playing with an idea of a plugin that is aware of this, so I don't need to change the SQL, but it it filters any references to urls through it..
this is just an idea, I have no clue how sane it is, and if it's going to bring the site to a screeching halt or not.

The defines() above work though.




Vid Luther
CEO and Founder
ZippyKid
Managed Wordpress Hosting 
http://zippykid.com/
210-370-7475




On Sep 2, 2010, at 8:08 AM, Philip M. Hofer (Frumph) wrote:

> +1 to the gripe list on this one, I would like to see it auto generate the urls to the proper location in the post
> 
> 
> ----- Original Message ----- From: "Gavin Pearce" <Gavin.Pearce at 3seven9.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Thursday, September 02, 2010 6:06 AM
> Subject: Re: [wp-hackers] Site Address during development
> 
> 
>> Hi Michael,
>> 
>> This is one of my main gripes with WordPress - having to do a SQL
>> find-and-replace between development and live URLs.
>> 
>> I especially hate how the "new" menu feature, for the Home button
>> creates a 'custom' link to the hard-coded URL of the current site.
>> 
>> Changing the site URLs in either wp-config.php or in the back-end won't
>> update these.
>> 
>> If anyone knows a better way to run a dev and live version of a site,
>> with easy database syncing, would be interested to know it also.
>> 
>> Cheers,
>> Gav
>> 
>> 
>> -----Original Message-----
>> From: wp-hackers-bounces at lists.automattic.com
>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Michael
>> Clark
>> Sent: 02 September 2010 13:36
>> To: wp-hackers at lists.automattic.com
>> Subject: [wp-hackers] Site Address during development
>> 
>> Good morning,
>> 
>> I'm developing a site for a client, and they are finally able to
>> start adding their info, posts and pages, both with a lot of photos.
>> I have the WordPress address (URL) and Site address (URL) (set under
>> http://www.example.com/wp-admin/options-general.php ) defined to be
>> the temporary subdomain of their domain name. But when they embed
>> photos or PDFs into a post or page, the temporary domain name is
>> embedded into the post. Once we go live this weekend is there an easy
>> way to change those details into the new, permanent domain name? I
>> don't want to have to maintain the development URL forever.
>> 
>> Actually, it seems silly to embed the domain name into the posts and
>> pages at all. It's adding a bit to the page, plus possible delaying
>> the loading of pages by fractions of a second as the page requests
>> have to hit DNS. Shouldn't everything embedded be relative to the
>> root directory of WordPress? Thanks, Mike
>> 
>> 
>> 
>> -- 
>> 
>> Michael Clark
>> http://www.PlanetMike.com
>> 
>> "Injustice anywhere is a threat to justice everywhere."
>> - Martin Luther King Jr.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From philip at frumph.net  Thu Sep  2 13:19:50 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Thu, 2 Sep 2010 06:19:50 -0700
Subject: [wp-hackers] Site Address during development
In-Reply-To: <3FA37864-A118-498B-A5BD-23C53F993740@zippykid.com>
References: <p06240802c8a548196052@[192.168.1.65]><CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local><1CEC8D13A09E4CA4A38BFA29D2088E61@frumph.net>
	<3FA37864-A118-498B-A5BD-23C53F993740@zippykid.com>
Message-ID: <B434D141EA424D2CA9758DFEB53E3598@frumph.net>

I'm sorry vid, they're talking about the urls embedded in posts, when you 
embed media in posts.


----- Original Message ----- 
From: "Vid Luther" <vid at zippykid.com>
To: <wp-hackers at lists.automattic.com>
Sent: Thursday, September 02, 2010 6:15 AM
Subject: Re: [wp-hackers] Site Address during development


> Simplest thing would be to define it in the wp-config.php.
>
>
> define('WP_SITEURL', "http://example.com");
> define('WP_HOME', "http://example.com");
>
> You can get creative if you have the ability to set environment variables 
> within Apache,
> we do a SetEnv zippy_environment dev|stage|production.
>
> Then in the wp-config, you can do a case($_SERVER['zippy_environment']) {
>
> ...
>
> }
>
> I'm also playing with an idea of a plugin that is aware of this, so I 
> don't need to change the SQL, but it it filters any references to urls 
> through it..
> this is just an idea, I have no clue how sane it is, and if it's going to 
> bring the site to a screeching halt or not.
>
> The defines() above work though.
>
>
>
>
> Vid Luther
> CEO and Founder
> ZippyKid
> Managed Wordpress Hosting
> http://zippykid.com/
> 210-370-7475
>
>
>
>
> On Sep 2, 2010, at 8:08 AM, Philip M. Hofer (Frumph) wrote:
>
>> +1 to the gripe list on this one, I would like to see it auto generate 
>> the urls to the proper location in the post
>>
>>
>> ----- Original Message ----- From: "Gavin Pearce" 
>> <Gavin.Pearce at 3seven9.com>
>> To: <wp-hackers at lists.automattic.com>
>> Sent: Thursday, September 02, 2010 6:06 AM
>> Subject: Re: [wp-hackers] Site Address during development
>>
>>
>>> Hi Michael,
>>>
>>> This is one of my main gripes with WordPress - having to do a SQL
>>> find-and-replace between development and live URLs.
>>>
>>> I especially hate how the "new" menu feature, for the Home button
>>> creates a 'custom' link to the hard-coded URL of the current site.
>>>
>>> Changing the site URLs in either wp-config.php or in the back-end won't
>>> update these.
>>>
>>> If anyone knows a better way to run a dev and live version of a site,
>>> with easy database syncing, would be interested to know it also.
>>>
>>> Cheers,
>>> Gav
>>>
>>>
>>> -----Original Message-----
>>> From: wp-hackers-bounces at lists.automattic.com
>>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Michael
>>> Clark
>>> Sent: 02 September 2010 13:36
>>> To: wp-hackers at lists.automattic.com
>>> Subject: [wp-hackers] Site Address during development
>>>
>>> Good morning,
>>>
>>> I'm developing a site for a client, and they are finally able to
>>> start adding their info, posts and pages, both with a lot of photos.
>>> I have the WordPress address (URL) and Site address (URL) (set under
>>> http://www.example.com/wp-admin/options-general.php ) defined to be
>>> the temporary subdomain of their domain name. But when they embed
>>> photos or PDFs into a post or page, the temporary domain name is
>>> embedded into the post. Once we go live this weekend is there an easy
>>> way to change those details into the new, permanent domain name? I
>>> don't want to have to maintain the development URL forever.
>>>
>>> Actually, it seems silly to embed the domain name into the posts and
>>> pages at all. It's adding a bit to the page, plus possible delaying
>>> the loading of pages by fractions of a second as the page requests
>>> have to hit DNS. Shouldn't everything embedded be relative to the
>>> root directory of WordPress? Thanks, Mike
>>>
>>>
>>>
>>> -- 
>>>
>>> Michael Clark
>>> http://www.PlanetMike.com
>>>
>>> "Injustice anywhere is a threat to justice everywhere."
>>> - Martin Luther King Jr.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From vid at zippykid.com  Thu Sep  2 13:21:32 2010
From: vid at zippykid.com (Vid Luther)
Date: Thu, 2 Sep 2010 08:21:32 -0500
Subject: [wp-hackers] Site Address during development
In-Reply-To: <B434D141EA424D2CA9758DFEB53E3598@frumph.net>
References: <p06240802c8a548196052@[192.168.1.65]><CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local><1CEC8D13A09E4CA4A38BFA29D2088E61@frumph.net>
	<3FA37864-A118-498B-A5BD-23C53F993740@zippykid.com>
	<B434D141EA424D2CA9758DFEB53E3598@frumph.net>
Message-ID: <DB9CB968-1CB7-46EA-91BD-F1E287AAABBA@zippykid.com>

Ahh.. ok. can you pass me the ketchup? my foot tastes kinda bland. 


:)

On Sep 2, 2010, at 8:19 AM, Philip M. Hofer (Frumph) wrote:

> I'm sorry vid, they're talking about the urls embedded in posts, when you embed media in posts.
> 
> 
> ----- Original Message ----- From: "Vid Luther" <vid at zippykid.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Thursday, September 02, 2010 6:15 AM
> Subject: Re: [wp-hackers] Site Address during development
> 
> 
>> Simplest thing would be to define it in the wp-config.php.
>> 
>> 
>> define('WP_SITEURL', "http://example.com");
>> define('WP_HOME', "http://example.com");
>> 
>> You can get creative if you have the ability to set environment variables within Apache,
>> we do a SetEnv zippy_environment dev|stage|production.
>> 
>> Then in the wp-config, you can do a case($_SERVER['zippy_environment']) {
>> 
>> ...
>> 
>> }
>> 
>> I'm also playing with an idea of a plugin that is aware of this, so I don't need to change the SQL, but it it filters any references to urls through it..
>> this is just an idea, I have no clue how sane it is, and if it's going to bring the site to a screeching halt or not.
>> 
>> The defines() above work though.
>> 
>> 
>> 
>> 
>> Vid Luther
>> CEO and Founder
>> ZippyKid
>> Managed Wordpress Hosting
>> http://zippykid.com/
>> 210-370-7475
>> 
>> 
>> 
>> 
>> On Sep 2, 2010, at 8:08 AM, Philip M. Hofer (Frumph) wrote:
>> 
>>> +1 to the gripe list on this one, I would like to see it auto generate the urls to the proper location in the post
>>> 
>>> 
>>> ----- Original Message ----- From: "Gavin Pearce" <Gavin.Pearce at 3seven9.com>
>>> To: <wp-hackers at lists.automattic.com>
>>> Sent: Thursday, September 02, 2010 6:06 AM
>>> Subject: Re: [wp-hackers] Site Address during development
>>> 
>>> 
>>>> Hi Michael,
>>>> 
>>>> This is one of my main gripes with WordPress - having to do a SQL
>>>> find-and-replace between development and live URLs.
>>>> 
>>>> I especially hate how the "new" menu feature, for the Home button
>>>> creates a 'custom' link to the hard-coded URL of the current site.
>>>> 
>>>> Changing the site URLs in either wp-config.php or in the back-end won't
>>>> update these.
>>>> 
>>>> If anyone knows a better way to run a dev and live version of a site,
>>>> with easy database syncing, would be interested to know it also.
>>>> 
>>>> Cheers,
>>>> Gav
>>>> 
>>>> 
>>>> -----Original Message-----
>>>> From: wp-hackers-bounces at lists.automattic.com
>>>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Michael
>>>> Clark
>>>> Sent: 02 September 2010 13:36
>>>> To: wp-hackers at lists.automattic.com
>>>> Subject: [wp-hackers] Site Address during development
>>>> 
>>>> Good morning,
>>>> 
>>>> I'm developing a site for a client, and they are finally able to
>>>> start adding their info, posts and pages, both with a lot of photos.
>>>> I have the WordPress address (URL) and Site address (URL) (set under
>>>> http://www.example.com/wp-admin/options-general.php ) defined to be
>>>> the temporary subdomain of their domain name. But when they embed
>>>> photos or PDFs into a post or page, the temporary domain name is
>>>> embedded into the post. Once we go live this weekend is there an easy
>>>> way to change those details into the new, permanent domain name? I
>>>> don't want to have to maintain the development URL forever.
>>>> 
>>>> Actually, it seems silly to embed the domain name into the posts and
>>>> pages at all. It's adding a bit to the page, plus possible delaying
>>>> the loading of pages by fractions of a second as the page requests
>>>> have to hit DNS. Shouldn't everything embedded be relative to the
>>>> root directory of WordPress? Thanks, Mike
>>>> 
>>>> 
>>>> 
>>>> -- 
>>>> 
>>>> Michael Clark
>>>> http://www.PlanetMike.com
>>>> 
>>>> "Injustice anywhere is a threat to justice everywhere."
>>>> - Martin Luther King Jr.
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mmuro at advance.ua.edu  Thu Sep  2 13:32:27 2010
From: mmuro at advance.ua.edu (Muro, Matthew)
Date: Thu, 2 Sep 2010 08:32:27 -0500
Subject: [wp-hackers] Site Address during development
In-Reply-To: <mailman.19996.1283433699.1338.wp-hackers@lists.automattic.com>
References: <mailman.19996.1283433699.1338.wp-hackers@lists.automattic.com>
Message-ID: <2DF2384C-6482-4B8C-AD55-1F5556CF53B8@ur.ua.edu>

There is a Codex page that describes how to change your URL:  http://codex.wordpress.org/Changing_The_Site_URL

Simply update the post_content and the guid to whatever new URL you want.


UPDATE wp_posts SET guid = REPLACE (
guid,
'http://exampleoldsiteurl.com',
'http://examplenewsiteurl.com');

UPDATE wp_posts SET post_content = REPLACE (
post_content,
'http://exampleoldsiteurl.com',
'http://examplenewsiteurl.com');

Matthew Muro
Web Developer
UA Office of Web Communications
205-348-0304







Date: Thu, 2 Sep 2010 08:36:17 -0400
From: Michael Clark
       <dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com<mailto:dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com>>
Subject: [wp-hackers] Site Address during development
To: wp-hackers at lists.automattic.com<mailto:wp-hackers at lists.automattic.com>
Message-ID: <p06240802c8a548196052@[192.168.1.65]>
Content-Type: text/plain; charset="us-ascii" ; format="flowed"

Good morning,

I'm developing a site for a client, and they are finally able to
start adding their info, posts and pages, both with a lot of photos.
I have the WordPress address (URL) and Site address (URL) (set under
http://www.example.com/wp-admin/options-general.php ) defined to be
the temporary subdomain of their domain name. But when they embed
photos or PDFs into a post or page, the temporary domain name is
embedded into the post. Once we go live this weekend is there an easy
way to change those details into the new, permanent domain name? I
don't want to have to maintain the development URL forever.

Actually, it seems silly to embed the domain name into the posts and
pages at all. It's adding a bit to the page, plus possible delaying
the loading of pages by fractions of a second as the page requests
have to hit DNS. Shouldn't everything embedded be relative to the
root directory of WordPress? Thanks, Mike



--

Michael Clark
http://www.PlanetMike.com

"Injustice anywhere is a threat to justice everywhere."
 - Martin Luther King Jr.


From otto at ottodestruct.com  Thu Sep  2 14:30:29 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 2 Sep 2010 09:30:29 -0500
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
Message-ID: <AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>

On Thu, Sep 2, 2010 at 8:09 AM, Alex Hempton-Smith <hempsworth at gmail.com> wrote:
> This is always an ongoing issue for me. Any tips would be great!

One easy way that we use: Don't use development URLs, use the real
URLs. Just repoint them to your development server.

Edit your hosts file, and add a line like this:
127.0.0.1 example.com

Then set up WordPress on your local machine using the example.com URL.

When you're ready to move it to the live server, delete the line from
the hosts file and just move the whole thing over. All the URLs will
still say example.com in them, it's just not pointing to your local
machine any more.

-Otto

From otto at ottodestruct.com  Thu Sep  2 14:32:25 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 2 Sep 2010 09:32:25 -0500
Subject: [wp-hackers] Site Address during development
In-Reply-To: <p06240802c8a548196052@192.168.1.65>
References: <p06240802c8a548196052@192.168.1.65>
Message-ID: <AANLkTinVng5ax5YvdeRZ_9xMvoV=_XceS-tLJZGHWOcP@mail.gmail.com>

On Thu, Sep 2, 2010 at 7:36 AM, Michael Clark
<dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com> wrote:
> Actually, it seems silly to embed the domain name into the posts and pages
> at all. It's adding a bit to the page, plus possible delaying the loading of
> pages by fractions of a second as the page requests have to hit DNS.
> Shouldn't everything embedded be relative to the root directory of
> WordPress? Thanks, Mike

1. Browsers cache DNS requests. So do operating systems.

2. Your content isn't only displayed on the website. Feeds can contain
it too. And relative URLs don't work there.

-Otto

From vid at zippykid.com  Thu Sep  2 14:36:12 2010
From: vid at zippykid.com (Vid Luther)
Date: Thu, 2 Sep 2010 09:36:12 -0500
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
Message-ID: <B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>




On Sep 2, 2010, at 9:30 AM, Otto wrote:

> Edit your hosts file, and add a line like this:
> 127.0.0.1 example.com
> 
> Then set up WordPress on your local machine using the example.com URL.
> 

Only thing is, sometimes the client wants to approve the changes, so there's a staging server in place. 
Most of our clients don't know how to edit their hosts file, don't use firefox, and having them use a
proxy where we can manipulate dns (we used to do this at network solutions internally) is also not possible. 


> When you're ready to move it to the live server, delete the line from
> the hosts file and just move the whole thing over. All the URLs will
> still say example.com in them, it's just not pointing to your local
> machine any more.
> 
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From philip at frumph.net  Thu Sep  2 14:39:02 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Thu, 2 Sep 2010 07:39:02 -0700
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTinVng5ax5YvdeRZ_9xMvoV=_XceS-tLJZGHWOcP@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65>
	<AANLkTinVng5ax5YvdeRZ_9xMvoV=_XceS-tLJZGHWOcP@mail.gmail.com>
Message-ID: <01FD899914F44FD4AFC6868BCA957DF0@frumph.net>

Wouldn't you think that someone creating a quick loop of the posts with a 
str_replace('oldurl', 'newurl', $the_content);  then resaving the post each 
pass would be enough ?

- Phil


----- Original Message ----- 
From: "Otto" <otto at ottodestruct.com>
To: <wp-hackers at lists.automattic.com>
Sent: Thursday, September 02, 2010 7:32 AM
Subject: Re: [wp-hackers] Site Address during development


> On Thu, Sep 2, 2010 at 7:36 AM, Michael Clark
> <dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com> wrote:
>> Actually, it seems silly to embed the domain name into the posts and 
>> pages
>> at all. It's adding a bit to the page, plus possible delaying the loading 
>> of
>> pages by fractions of a second as the page requests have to hit DNS.
>> Shouldn't everything embedded be relative to the root directory of
>> WordPress? Thanks, Mike
>
> 1. Browsers cache DNS requests. So do operating systems.
>
> 2. Your content isn't only displayed on the website. Feeds can contain
> it too. And relative URLs don't work there.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com  Thu Sep  2 14:48:38 2010
From: dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com (Michael Clark)
Date: Thu, 2 Sep 2010 10:48:38 -0400
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
Message-ID: <p06240803c8a56773b928@[192.168.1.65]>

At 9:30 AM -0500 9/2/10, Otto wrote:
>On Thu, Sep 2, 2010 at 8:09 AM, Alex Hempton-Smith 
><hempsworth at gmail.com> wrote:
>>  This is always an ongoing issue for me. Any tips would be great!
>
>One easy way that we use: Don't use development URLs, use the real
>URLs. Just repoint them to your development server.
>
>Edit your hosts file, and add a line like this:
>127.0.0.1 example.com
>
>Then set up WordPress on your local machine using the example.com URL.
>
>When you're ready to move it to the live server, delete the line from
>the hosts file and just move the whole thing over. All the URLs will
>still say example.com in them, it's just not pointing to your local
>machine any more.

This won't work when the client is passing the URL around to their 
Board of Directors or employees. It's not reasonable to expect many 
people to change browser or Internet settings, vs simply giving them 
http://dev.example.com/ .

But I am glad to see I'm not the only person who is frustrated by 
this situation. Thanks to Matthew for the MySQL pointer and Codex 
link. Mike


-- 

Michael Clark
http://www.PlanetMike.com

Christmas Music 24 Hours a Day, 7 Days a week
http://www.ChristmasMusic247.com

"Injustice anywhere is a threat to justice everywhere."
  - Martin Luther King Jr.

From chrisbratlien at gmail.com  Thu Sep  2 14:51:22 2010
From: chrisbratlien at gmail.com (Christopher Bratlien)
Date: Thu, 2 Sep 2010 09:51:22 -0500
Subject: [wp-hackers] Site Address during development
In-Reply-To: <01FD899914F44FD4AFC6868BCA957DF0@frumph.net>
References: <p06240802c8a548196052@192.168.1.65>
	<AANLkTinVng5ax5YvdeRZ_9xMvoV=_XceS-tLJZGHWOcP@mail.gmail.com>
	<01FD899914F44FD4AFC6868BCA957DF0@frumph.net>
Message-ID: <AANLkTi=LDeXTk4wBAcpTDGz4bE-GEB-au78etnpY6Onc@mail.gmail.com>

One solution which works for me is to put these 9 lines into functions.php
before I begin saving content during the dev phase:

function bsdrelative_content_replace_url($content) {
  return str_replace(get_bloginfo('url'),'[url]',$content);
}
add_filter('content_save_pre','bsdrelative_content_replace_url');

function bsdrelative_url_shortcode($atts, $content = null) {
  return get_bloginfo('url');
}
add_shortcode("url", "bsdrelative_url_shortcode");

This is also available as a plugin:
http://wordpress.org/extend/plugins/relative-site-url-on-content-save/

/end-self-promotion


On Thu, Sep 2, 2010 at 9:39 AM, Philip M. Hofer (Frumph)
<philip at frumph.net>wrote:

> Wouldn't you think that someone creating a quick loop of the posts with a
> str_replace('oldurl', 'newurl', $the_content);  then resaving the post each
> pass would be enough ?
>
> - Phil
>
>
> ----- Original Message ----- From: "Otto" <otto at ottodestruct.com>
>
> To: <wp-hackers at lists.automattic.com>
> Sent: Thursday, September 02, 2010 7:32 AM
> Subject: Re: [wp-hackers] Site Address during development
>
>
>
>  On Thu, Sep 2, 2010 at 7:36 AM, Michael Clark
>> <dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com> wrote:
>>
>>> Actually, it seems silly to embed the domain name into the posts and
>>> pages
>>> at all. It's adding a bit to the page, plus possible delaying the loading
>>> of
>>> pages by fractions of a second as the page requests have to hit DNS.
>>> Shouldn't everything embedded be relative to the root directory of
>>> WordPress? Thanks, Mike
>>>
>>
>> 1. Browsers cache DNS requests. So do operating systems.
>>
>> 2. Your content isn't only displayed on the website. Feeds can contain
>> it too. And relative URLs don't work there.
>>
>> -Otto
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Chris Bratlien
I write code (so you don't have to)
 http://chrisbratlien.com | 1-979-229-5685 | Skype: chrisbratlien

From otto at ottodestruct.com  Thu Sep  2 14:52:07 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 2 Sep 2010 09:52:07 -0500
Subject: [wp-hackers] Site Address during development
In-Reply-To: <B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>
References: <p06240802c8a548196052@192.168.1.65>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
	<B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>
Message-ID: <AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>

If you need a URL that can be run on a live box without editing, then
sure, editing hosts files is not an option there.

In that case, I'd create a plugin to dynamically change those URLs as
they passed through the_content and such.

But in the database, I'd always want the URLs to be the real deal.
This gives the best of all worlds:
a) no URL munging necessary when moving to production
b) local setups can be easily run with host file changes

Sure, you need a plugin to run an on-the-net demo box, but that's the only case.

-Otto



On Thu, Sep 2, 2010 at 9:36 AM, Vid Luther <vid at zippykid.com> wrote:
>
>
>
> On Sep 2, 2010, at 9:30 AM, Otto wrote:
>
>> Edit your hosts file, and add a line like this:
>> 127.0.0.1 example.com
>>
>> Then set up WordPress on your local machine using the example.com URL.
>>
>
> Only thing is, sometimes the client wants to approve the changes, so there's a staging server in place.
> Most of our clients don't know how to edit their hosts file, don't use firefox, and having them use a
> proxy where we can manipulate dns (we used to do this at network solutions internally) is also not possible.
>
>
>> When you're ready to move it to the live server, delete the line from
>> the hosts file and just move the whole thing over. All the URLs will
>> still say example.com in them, it's just not pointing to your local
>> machine any more.
>>
>> -Otto
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From philip at frumph.net  Thu Sep  2 14:57:08 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Thu, 2 Sep 2010 07:57:08 -0700
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTi=LDeXTk4wBAcpTDGz4bE-GEB-au78etnpY6Onc@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65><AANLkTinVng5ax5YvdeRZ_9xMvoV=_XceS-tLJZGHWOcP@mail.gmail.com><01FD899914F44FD4AFC6868BCA957DF0@frumph.net>
	<AANLkTi=LDeXTk4wBAcpTDGz4bE-GEB-au78etnpY6Onc@mail.gmail.com>
Message-ID: <20A31B4813834762B266BF56D07C3D19@frumph.net>

^ awesome

----- Original Message ----- 
From: "Christopher Bratlien" <chrisbratlien at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Thursday, September 02, 2010 7:51 AM
Subject: Re: [wp-hackers] Site Address during development


> One solution which works for me is to put these 9 lines into functions.php
> before I begin saving content during the dev phase:
>
> function bsdrelative_content_replace_url($content) {
>  return str_replace(get_bloginfo('url'),'[url]',$content);
> }
> add_filter('content_save_pre','bsdrelative_content_replace_url');
>
> function bsdrelative_url_shortcode($atts, $content = null) {
>  return get_bloginfo('url');
> }
> add_shortcode("url", "bsdrelative_url_shortcode");
>
> This is also available as a plugin:
> http://wordpress.org/extend/plugins/relative-site-url-on-content-save/
>
> /end-self-promotion
>
>
> On Thu, Sep 2, 2010 at 9:39 AM, Philip M. Hofer (Frumph)
> <philip at frumph.net>wrote:
>
>> Wouldn't you think that someone creating a quick loop of the posts with a
>> str_replace('oldurl', 'newurl', $the_content);  then resaving the post 
>> each
>> pass would be enough ?
>>
>> - Phil
>>
>>
>> ----- Original Message ----- From: "Otto" <otto at ottodestruct.com>
>>
>> To: <wp-hackers at lists.automattic.com>
>> Sent: Thursday, September 02, 2010 7:32 AM
>> Subject: Re: [wp-hackers] Site Address during development
>>
>>
>>
>>  On Thu, Sep 2, 2010 at 7:36 AM, Michael Clark
>>> <dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com> wrote:
>>>
>>>> Actually, it seems silly to embed the domain name into the posts and
>>>> pages
>>>> at all. It's adding a bit to the page, plus possible delaying the 
>>>> loading
>>>> of
>>>> pages by fractions of a second as the page requests have to hit DNS.
>>>> Shouldn't everything embedded be relative to the root directory of
>>>> WordPress? Thanks, Mike
>>>>
>>>
>>> 1. Browsers cache DNS requests. So do operating systems.
>>>
>>> 2. Your content isn't only displayed on the website. Feeds can contain
>>> it too. And relative URLs don't work there.
>>>
>>> -Otto
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> -- 
> Chris Bratlien
> I write code (so you don't have to)
> http://chrisbratlien.com | 1-979-229-5685 | Skype: chrisbratlien
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From Gavin.Pearce at 3seven9.com  Thu Sep  2 15:08:13 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Thu, 2 Sep 2010 16:08:13 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65><CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local><AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com><AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com><B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>
	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>

Rather than having to bodge a solution, what's the odds of WordPress
core using relative URLs? 

Is there a reason why it doesn't?

Gav


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Otto
Sent: 02 September 2010 15:52
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Site Address during development

If you need a URL that can be run on a live box without editing, then
sure, editing hosts files is not an option there.

In that case, I'd create a plugin to dynamically change those URLs as
they passed through the_content and such.

But in the database, I'd always want the URLs to be the real deal.
This gives the best of all worlds:
a) no URL munging necessary when moving to production
b) local setups can be easily run with host file changes

Sure, you need a plugin to run an on-the-net demo box, but that's the
only case.

-Otto



On Thu, Sep 2, 2010 at 9:36 AM, Vid Luther <vid at zippykid.com> wrote:
>
>
>
> On Sep 2, 2010, at 9:30 AM, Otto wrote:
>
>> Edit your hosts file, and add a line like this:
>> 127.0.0.1 example.com
>>
>> Then set up WordPress on your local machine using the example.com
URL.
>>
>
> Only thing is, sometimes the client wants to approve the changes, so
there's a staging server in place.
> Most of our clients don't know how to edit their hosts file, don't use
firefox, and having them use a
> proxy where we can manipulate dns (we used to do this at network
solutions internally) is also not possible.
>
>
>> When you're ready to move it to the live server, delete the line from
>> the hosts file and just move the whole thing over. All the URLs will
>> still say example.com in them, it's just not pointing to your local
>> machine any more.
>>
>> -Otto
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From elfin at elfden.co.uk  Thu Sep  2 15:19:13 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Thu, 02 Sep 2010 16:19:13 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>
References: <p06240802c8a548196052@192.168.1.65><CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local><AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com><AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com><B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>
Message-ID: <4C7FC071.8050208@elfden.co.uk>

On 02/09/2010 16:08, Gavin Pearce wrote:
> Rather than having to bodge a solution, what's the odds of WordPress
> core using relative URLs?
>
> Is there a reason why it doesn't?

yes and it has been answered in this very thread.

one example given, IIRC, was RSS feeds.

Rich

From otto at ottodestruct.com  Thu Sep  2 15:32:19 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 2 Sep 2010 10:32:19 -0500
Subject: [wp-hackers] Site Address during development
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>
References: <p06240802c8a548196052@192.168.1.65>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
	<B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>
	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>
Message-ID: <AANLkTi=dx2hZF3oaRthifKqHxhk5tbnwjLhxPU-KsJxe@mail.gmail.com>

On Thu, Sep 2, 2010 at 10:08 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:
> Rather than having to bodge a solution, what's the odds of WordPress
> core using relative URLs?
>
> Is there a reason why it doesn't?

The main and easy-to-give example is feeds. Relative URLs don't work
in feeds. So having all your feedreader people unable to see the
images in your post is probably a bad thing.

However, the main reason is that your content is separate from the
website itself. Think of it in the presentation/content separation
sense. Your content does not only get presented via the website, it
can be presented in other formats (like feeds), and thus you need to
make the content stand alone. Having full and complete URLs, since you
can't include the actual images directly, is necessary to ensure that
the content stands alone. With a relative URL, then the content
becomes dependent on where you're viewing it. If I put the content
onto another site, the relative image links won't work anymore, but
full ones will (assuming the images are still on the old site).

Relative URLs are bad, basically, because they tie content to
presentation. While I'm not unopposed to making content smarter with
shortcodes or similar, the end result of the content output really
must standalone in any given format for everything to work right. And
part of that means using full URLs everywhere.

-Otto

From Gavin.Pearce at 3seven9.com  Thu Sep  2 15:33:22 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Thu, 2 Sep 2010 16:33:22 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <4C7FC071.8050208@elfden.co.uk>
References: <p06240802c8a548196052@192.168.1.65><CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local><AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com><AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com><B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>
	<4C7FC071.8050208@elfden.co.uk>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local>

Sorry Rich/Otto missed that - in that case why doesn't WordPress core
just use the wp-config.php or admin area settings when building the URL
within feeds?

--

If it helps, I often use this in my wp-config.php for quick wins when
changing URL's often:

define('WP_HOME', $_SERVER['HTTP_HOST']);
define('WP_SITEURL', $_SERVER['HTTP_HOST']);

But obviously this only works if you run you're site at the top (host)
level (and not in a sub-folder). 

Gav



-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Rich
Pedley
Sent: 02 September 2010 16:19
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Site Address during development

On 02/09/2010 16:08, Gavin Pearce wrote:
> Rather than having to bodge a solution, what's the odds of WordPress
> core using relative URLs?
>
> Is there a reason why it doesn't?

yes and it has been answered in this very thread.

one example given, IIRC, was RSS feeds.

Rich
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Thu Sep  2 15:34:10 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 2 Sep 2010 11:34:10 -0400
Subject: [wp-hackers] Site Address during development
In-Reply-To: <p06240803c8a56773b928@[192.168.1.65]>
References: <p06240802c8a548196052@192.168.1.65>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
	<p06240803c8a56773b928@[192.168.1.65]>
Message-ID: <A66087BF-28CE-4BA4-87C2-8226BF57311F@newclarity.net>

Hi All,

I've had exactly the same problem so I wrote a plugin to address it. Please take a look:  

http://mikeschinkel.com/downloads/wp-migrate-webhosts-0.5.zip

It's goal is to provide a one-click content migration process in the admin. To enable it you "register" all the data about your different hosts in /wp-config.php. Below are examples of the standard information that can be registered but anything that is different can be included such as Google Map API keys:

register_webhost_defaults(array(
 'database'  => 'example_db',
 'user'      => 'example_user',
 'password'  => '12345',
 'host'      => 'localhost',
 'sitepath'  => '',        // '' if WordPress is installed in the root
));
register_webhost('dev',array(
 'name'      => 'Example Local Development',
 'host'      => '127.0.0.1:3306',
 'domain'    => 'example.dev',
 'rootdir'   => '/Users/mikeschinkel/Sites/example/trunk',
));
register_webhost('test',array(
 'name'      => 'Example Test Server',
 'rootdir'   => '/home/example/public_html/test',
 'domain'    => 'test.example.com',
));
register_webhost('stage',array(
 'name'      => 'Example Staging Server',
 'rootdir'   => '/home/example/public_html/stage',
 'domain'    => 'stage.example.com',
));
register_webhost('live',array(
 'name'      => 'Example Live Site',
 'rootdir'   => '/home/example/public_html/',
 'password'  => '%asd59kar12*fr',
 'domain'    => 'www.example.com',
));

It is designed to do the standard migrations that have been discussed on this thread but be hookable so any new migration needed because of a new requirement introduced by a plugin can quickly be coded and incorporated into the migration process.  And it can migrate the content from all servers to the current server based on the current URL.

It works by replacing DB_HOST, DB_USER, DB_NAME, DB_PASSWORD, etc. in /wp-config.php because it sets those for you based on the current site's URL matching one of the defined hosts. But you can easily revert back to standard all DB_* defines at any time by just commenting the host registration code out or deleting it and putting the DB_* defines back in page.  Note that Nacin (or maybe it was Lebens) saw this at WordCamp Savannah and reacted that end users would be confused by rootdir, which is optional (of course if it's not provided you don't migrate things like upload direction.) So realize this is NOT for end users; it is designed for professionals like those who commented on this list who need to work with dev, test, stage and production servers and it can go away when the project is done if that's what's appropriate. 

A writeup about it is here:

http://wordpress.stackexchange.com/questions/119/

Would love to have all of you who are struggling with this to try it and to get your feedback on how well it resolves your use-cases.

-Mike

On Sep 2, 2010, at 10:48 AM, Michael Clark wrote:

> At 9:30 AM -0500 9/2/10, Otto wrote:
>> On Thu, Sep 2, 2010 at 8:09 AM, Alex Hempton-Smith <hempsworth at gmail.com> wrote:
>>> This is always an ongoing issue for me. Any tips would be great!
>> 
>> One easy way that we use: Don't use development URLs, use the real
>> URLs. Just repoint them to your development server.
>> 
>> Edit your hosts file, and add a line like this:
>> 127.0.0.1 example.com
>> 
>> Then set up WordPress on your local machine using the example.com URL.
>> 
>> When you're ready to move it to the live server, delete the line from
>> the hosts file and just move the whole thing over. All the URLs will
>> still say example.com in them, it's just not pointing to your local
>> machine any more.
> 
> This won't work when the client is passing the URL around to their Board of Directors or employees. It's not reasonable to expect many people to change browser or Internet settings, vs simply giving them http://dev.example.com/ .
> 
> But I am glad to see I'm not the only person who is frustrated by this situation. Thanks to Matthew for the MySQL pointer and Codex link. Mike
> 
> 
> -- 
> 
> Michael Clark
> http://www.PlanetMike.com
> 
> Christmas Music 24 Hours a Day, 7 Days a week
> http://www.ChristmasMusic247.com
> 
> "Injustice anywhere is a threat to justice everywhere."
> - Martin Luther King Jr.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From chrisbratlien at gmail.com  Thu Sep  2 15:44:10 2010
From: chrisbratlien at gmail.com (Christopher Bratlien)
Date: Thu, 2 Sep 2010 10:44:10 -0500
Subject: [wp-hackers] Site Address during development
In-Reply-To: <A66087BF-28CE-4BA4-87C2-8226BF57311F@newclarity.net>
References: <p06240802c8a548196052@192.168.1.65>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
	<p06240803c8a56773b928@192.168.1.65>
	<A66087BF-28CE-4BA4-87C2-8226BF57311F@newclarity.net>
Message-ID: <AANLkTi=z9Ex8Ltmj7BCJt0fJ1PN=x7uGjZQN=veGzJ=t@mail.gmail.com>

FYI, the example code I posted above works in the RSS feed too. I just
double checked. Feel free to download the plugin I referenced if you would
like to try it too.

Example:

http://dev-thematic.bratliensoftware.com/wp-hackers-test/

See the Taj Mahal picture? In the content box, I used the Media Uploader,
and when I hit Publish, my example code rewrote the URL in the content box
to look like [url]/wp-content/uploads/2010/09/pThumb57JiND.jpg

Now, checking the RSS feed (http://dev-thematic.bratliensoftware.com/feed/)
the image URL shows up as
http://dev-thematic.bratliensoftware.com/wp-content/uploads/2010/09/pThumb57JiND-300x225.jpg

So I guess shortcodes must work in RSS feeds too.

Cheers
Chris

On Thu, Sep 2, 2010 at 10:34 AM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> Hi All,
>
> I've had exactly the same problem so I wrote a plugin to address it. Please
> take a look:
>
> http://mikeschinkel.com/downloads/wp-migrate-webhosts-0.5.zip
>
> It's goal is to provide a one-click content migration process in the admin.
> To enable it you "register" all the data about your different hosts in
> /wp-config.php. Below are examples of the standard information that can be
> registered but anything that is different can be included such as Google Map
> API keys:
>
> register_webhost_defaults(array(
>  'database'  => 'example_db',
>  'user'      => 'example_user',
>  'password'  => '12345',
>  'host'      => 'localhost',
>  'sitepath'  => '',        // '' if WordPress is installed in the root
> ));
> register_webhost('dev',array(
>  'name'      => 'Example Local Development',
>  'host'      => '127.0.0.1:3306',
>  'domain'    => 'example.dev',
>  'rootdir'   => '/Users/mikeschinkel/Sites/example/trunk',
> ));
> register_webhost('test',array(
>  'name'      => 'Example Test Server',
>  'rootdir'   => '/home/example/public_html/test',
>  'domain'    => 'test.example.com',
> ));
> register_webhost('stage',array(
>  'name'      => 'Example Staging Server',
>  'rootdir'   => '/home/example/public_html/stage',
>  'domain'    => 'stage.example.com',
> ));
> register_webhost('live',array(
>  'name'      => 'Example Live Site',
>  'rootdir'   => '/home/example/public_html/',
>  'password'  => '%asd59kar12*fr',
>  'domain'    => 'www.example.com',
> ));
>
> It is designed to do the standard migrations that have been discussed on
> this thread but be hookable so any new migration needed because of a new
> requirement introduced by a plugin can quickly be coded and incorporated
> into the migration process.  And it can migrate the content from all servers
> to the current server based on the current URL.
>
> It works by replacing DB_HOST, DB_USER, DB_NAME, DB_PASSWORD, etc. in
> /wp-config.php because it sets those for you based on the current site's URL
> matching one of the defined hosts. But you can easily revert back to
> standard all DB_* defines at any time by just commenting the host
> registration code out or deleting it and putting the DB_* defines back in
> page.  Note that Nacin (or maybe it was Lebens) saw this at WordCamp
> Savannah and reacted that end users would be confused by rootdir, which is
> optional (of course if it's not provided you don't migrate things like
> upload direction.) So realize this is NOT for end users; it is designed for
> professionals like those who commented on this list who need to work with
> dev, test, stage and production servers and it can go away when the project
> is done if that's what's appropriate.
>
> A writeup about it is here:
>
> http://wordpress.stackexchange.com/questions/119/
>
> Would love to have all of you who are struggling with this to try it and to
> get your feedback on how well it resolves your use-cases.
>
> -Mike
>
> On Sep 2, 2010, at 10:48 AM, Michael Clark wrote:
>
> > At 9:30 AM -0500 9/2/10, Otto wrote:
> >> On Thu, Sep 2, 2010 at 8:09 AM, Alex Hempton-Smith <
> hempsworth at gmail.com> wrote:
> >>> This is always an ongoing issue for me. Any tips would be great!
> >>
> >> One easy way that we use: Don't use development URLs, use the real
> >> URLs. Just repoint them to your development server.
> >>
> >> Edit your hosts file, and add a line like this:
> >> 127.0.0.1 example.com
> >>
> >> Then set up WordPress on your local machine using the example.com URL.
> >>
> >> When you're ready to move it to the live server, delete the line from
> >> the hosts file and just move the whole thing over. All the URLs will
> >> still say example.com in them, it's just not pointing to your local
> >> machine any more.
> >
> > This won't work when the client is passing the URL around to their Board
> of Directors or employees. It's not reasonable to expect many people to
> change browser or Internet settings, vs simply giving them
> http://dev.example.com/ .
> >
> > But I am glad to see I'm not the only person who is frustrated by this
> situation. Thanks to Matthew for the MySQL pointer and Codex link. Mike
> >
> >
> > --
> >
> > Michael Clark
> > http://www.PlanetMike.com
> >
> > Christmas Music 24 Hours a Day, 7 Days a week
> > http://www.ChristmasMusic247.com
> >
> > "Injustice anywhere is a threat to justice everywhere."
> > - Martin Luther King Jr.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Chris Bratlien
I write code (so you don't have to)
 http://chrisbratlien.com | 1-979-229-5685 | Skype: chrisbratlien

From otto at ottodestruct.com  Thu Sep  2 15:57:45 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 2 Sep 2010 10:57:45 -0500
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTi=z9Ex8Ltmj7BCJt0fJ1PN=x7uGjZQN=veGzJ=t@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
	<p06240803c8a56773b928@192.168.1.65>
	<A66087BF-28CE-4BA4-87C2-8226BF57311F@newclarity.net>
	<AANLkTi=z9Ex8Ltmj7BCJt0fJ1PN=x7uGjZQN=veGzJ=t@mail.gmail.com>
Message-ID: <AANLkTi=s0HXzH4LmEnvxjxmZY56gYtQDd=a45Z26TKkA@mail.gmail.com>

On Thu, Sep 2, 2010 at 10:44 AM, Christopher Bratlien
<chrisbratlien at gmail.com> wrote:
> So I guess shortcodes must work in RSS feeds too.

Yes, they do. There's a ticket in to that effect somewhere, to allow
for shortcodes like [homeurl], [uploadurl], [themeurl] and so forth.
Hasn't gotten much traction yet though.

-Otto

From kenzaraque at gmail.com  Thu Sep  2 16:39:01 2010
From: kenzaraque at gmail.com (ken zarque)
Date: Thu, 2 Sep 2010 09:39:01 -0700
Subject: [wp-hackers] Deployment process (was Exporting Menus)
In-Reply-To: <4E051FAB-0B73-4587-AD88-895DC49DC612@bu.edu>
References: <46E170E3-8EFB-41C4-B6CD-E9C66B7E8A35@graymerica.com>
	<4E051FAB-0B73-4587-AD88-895DC49DC612@bu.edu>
Message-ID: <AANLkTi==eq19GG-u97ehygVRAtEOqaM+zO_=wBnB=36j@mail.gmail.com>

Thank you for giving us the run down of the Boston U WP infrastructure.  I
enjoyed the read.

The idea of having production and staging sharing the same database and base
code didn't cross my mind. that would make "deployment" a lot easier.  I'm
using WP 3.0+ , so what you described is essentially a single MS
installation which houses both staging and production?

for production debugging purposes, let's say a bug that's taking a while to
fix, do you always clone it back to the test environment?  or do you simply
clone a copy in stage (same DB same, code base )?

As far as production sharing the same code base and DB. If major changes are
happening in staging, doesn't that expose production sites to dangers of
breaking because of what someone did in stage?

You probably have all this figured out, but wanted to see what measures you
took to maintain production stability.

Regards,

Ken

On Wed, Sep 1, 2010 at 3:37 PM, Cornelius, Gregory <gcorne at bu.edu> wrote:

> Since Ken Zarque asked a while back, I thought it would provide some
> context and share a little about the process used at Boston U.    Our CMS,
> which hosts about 400 websites runs on top of WPMU 2.9.2.   Sometime in the
> next six months or so, we will upgrade to 3.x, which will take a bit of work
> due to the number of customizations that we have made, especially if we
> choose to move to the new menu system from our custom solution.  The CMS has
> about 25 themes and a number of customizations to make WordPress more
> page-centric.  Two plugins that play a role in workflows are our versions of
> wp-supercache and multi-site manager.
>
> There are approximately 3 devs, 15 designers, and 5 technical support staff
> that handle the day-to-day logistics.   There are probably around 1,000
> -2,000 content editors/producers.
>
> Our main environments include:
>
> * production
> * staging (used for content development and front-end server configuration)
> * development (used for qa and static site migration testing
> * theme development (supercache disabled)
> * qa
> * developer sandboxes
>
> Production and staging share a single codebase deployed to multiple servers
> and both connect to the same  database server / database.  The other
> development environments share a separate server / database server.
> Depending on the project, they may or may not share the same development
> database.  In most cases, the switching of database connection info is
> automatic based on the server hostname in wp-config.php.  All code is
> managed using subversion following a typical repository structure (trunk,
> tags, vendor, branches).
>
> All content work/review occurs in production/staging.  Content
> producers/editors make complete overhauls in the staging environment while
> day-to-day changes are made directly to the live site.
>
> * To launch a site (blog), we use the reassignment capability of multi-site
> manager coupled with a script for modifying the domain, moving static
> content, and invalidating the cache across servers.   This works fairly
> well.
>
> * To clone a site (blog) from production back to test, we use another
> script that dump all the database tables, creates a new blog, modifies dump
> to change ids to match the id of the new blog, loads the tables in, copies
> static content, and modifies the database to match the new hostname /
> blog_id.
>
> In both cases, the scripts actually simulate a request to wordpress to load
> up the API.  Requesting a launch is handled by our CRM via a link in WP
> admin. The handing of serialized data is the main gotcha.
>
> The second script is also used to flow content into a development area or
> sandbox for testing, styling etc...  Since the database is different for the
> development areas, it is possible for user_id data in a production blog to
> point to a different user in the sandbox.   For most development work, this
> can be ignored, but it is less than ideal.
>
> When a site exists in both production and staging, there also is the
> potential for production and staging data to get out of sync since there is
> not direct connection between the two.  Handling this is mostly a
> communication issue, but explaining the situation is not always easy when
> communicating with people that don't spend all day staring at WordPress.
>
> There are other subtleties to the procedures and policies, but this
> overview should give other developers a sense.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rbilesky at gmail.com  Thu Sep  2 17:45:58 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 2 Sep 2010 10:45:58 -0700
Subject: [wp-hackers] Permalink Performance
Message-ID: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>

According to http://codex.wordpress.org/Using_Permalinks

Permalinks for posts should start with some sort of number.

"For performance reasons, it is *not* a good idea to start your permalink
structure with the category, tag, author, or postname fields. The reason is
that these are text fields, and using them at the beginning of your
permalink structure it takes more time for WordPress to distinguish your
Post URLs from Page URLs (which always use the text "page slug" as the URL),
and to compensate, WordPress stores a lot of extra information in its
database (so much that sites with lots of Pages have experienced
difficulties). So, it is best to start your permalink structure with a
numeric field, such as the year or post ID."

Now my question is this, I would like to have my permalinks for posts look
like this:   mysite.tld/blog/%postname%

Does anyone know if this will cause any performance issues since they start
with a static string?

From ashishsainiashfame at gmail.com  Thu Sep  2 17:48:34 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Thu, 2 Sep 2010 23:18:34 +0530
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
Message-ID: <AANLkTik111hzHYNQ0q0o91YJB02FG4ZqrO01zNMkkER1@mail.gmail.com>

Its the same. It doesn't matter if you put a static string ahead it.
WP will still have to figure things out.

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Thu, Sep 2, 2010 at 11:15 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> According to http://codex.wordpress.org/Using_Permalinks
>
> Permalinks for posts should start with some sort of number.
>
> "For performance reasons, it is *not* a good idea to start your permalink
> structure with the category, tag, author, or postname fields. The reason is
> that these are text fields, and using them at the beginning of your
> permalink structure it takes more time for WordPress to distinguish your
> Post URLs from Page URLs (which always use the text "page slug" as the
> URL),
> and to compensate, WordPress stores a lot of extra information in its
> database (so much that sites with lots of Pages have experienced
> difficulties). So, it is best to start your permalink structure with a
> numeric field, such as the year or post ID."
>
> Now my question is this, I would like to have my permalinks for posts look
> like this:   mysite.tld/blog/%postname%
>
> Does anyone know if this will cause any performance issues since they start
> with a static string?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Thu Sep  2 17:51:19 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 2 Sep 2010 12:51:19 -0500
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTik111hzHYNQ0q0o91YJB02FG4ZqrO01zNMkkER1@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
	<AANLkTik111hzHYNQ0q0o91YJB02FG4ZqrO01zNMkkER1@mail.gmail.com>
Message-ID: <AANLkTimPLAOoddOMcPPJdniHDTrm2X2QDqej1iZkUCSn@mail.gmail.com>

Not true. A static string at the front of the custom permalink string
will avoid the issue.

It depends on your setup and the particular permalink string you use.

- If you use just %postname% as the permalink string, then yes.
- If you use blog/%postname% as the permalink string, then no.

Also, this only actually causes a problem if you have a lot of Pages.

See my post on the topic:
http://ottopress.com/2010/category-in-permalinks-considered-harmful/

-Otto



On Thu, Sep 2, 2010 at 12:48 PM, Ashish Saini
<ashishsainiashfame at gmail.com> wrote:
> Its the same. It doesn't matter if you put a static string ahead it.
> WP will still have to figure things out.
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
> : http://twitter.com/ashfame
>
>
> On Thu, Sep 2, 2010 at 11:15 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
>> According to http://codex.wordpress.org/Using_Permalinks
>>
>> Permalinks for posts should start with some sort of number.
>>
>> "For performance reasons, it is *not* a good idea to start your permalink
>> structure with the category, tag, author, or postname fields. The reason is
>> that these are text fields, and using them at the beginning of your
>> permalink structure it takes more time for WordPress to distinguish your
>> Post URLs from Page URLs (which always use the text "page slug" as the
>> URL),
>> and to compensate, WordPress stores a lot of extra information in its
>> database (so much that sites with lots of Pages have experienced
>> difficulties). So, it is best to start your permalink structure with a
>> numeric field, such as the year or post ID."
>>
>> Now my question is this, I would like to have my permalinks for posts look
>> like this: ? mysite.tld/blog/%postname%
>>
>> Does anyone know if this will cause any performance issues since they start
>> with a static string?
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From m.websoft at gmail.com  Thu Sep  2 17:54:38 2010
From: m.websoft at gmail.com (mohammad aghanabi)
Date: Thu, 2 Sep 2010 21:24:38 +0330
Subject: [wp-hackers] calling a theme file from functions.php
Message-ID: <AANLkTinLHV87u22EwczHqE_s2Q4zTJUWrAoTkLTWqd2q@mail.gmail.com>

hello;

can we include a template page like index.php in functions.php and call it
from there ?

thanks

From otto at ottodestruct.com  Thu Sep  2 17:56:55 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 2 Sep 2010 12:56:55 -0500
Subject: [wp-hackers] calling a theme file from functions.php
In-Reply-To: <AANLkTinLHV87u22EwczHqE_s2Q4zTJUWrAoTkLTWqd2q@mail.gmail.com>
References: <AANLkTinLHV87u22EwczHqE_s2Q4zTJUWrAoTkLTWqd2q@mail.gmail.com>
Message-ID: <AANLkTi=8=5Epj6MKKfLF2DX3EtOxbRgwdxENNTKguDg_@mail.gmail.com>

No. A theme's functions.php should never cause any output just from
being loaded. doing so can break your site.

-Otto



On Thu, Sep 2, 2010 at 12:54 PM, mohammad aghanabi <m.websoft at gmail.com> wrote:
> hello;
>
> can we include a template page like index.php in functions.php and call it
> from there ?
>
> thanks
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From m.websoft at gmail.com  Thu Sep  2 17:58:56 2010
From: m.websoft at gmail.com (mohammad aghanabi)
Date: Thu, 2 Sep 2010 21:28:56 +0330
Subject: [wp-hackers] calling a theme file from functions.php
In-Reply-To: <AANLkTi=8=5Epj6MKKfLF2DX3EtOxbRgwdxENNTKguDg_@mail.gmail.com>
References: <AANLkTinLHV87u22EwczHqE_s2Q4zTJUWrAoTkLTWqd2q@mail.gmail.com>
	<AANLkTi=8=5Epj6MKKfLF2DX3EtOxbRgwdxENNTKguDg_@mail.gmail.com>
Message-ID: <AANLkTikALrPzWX0CrLgWFQj5UT_BdJTVsU2eUJ-zvsBm@mail.gmail.com>

u mean there is no way to try ?

On Thu, Sep 2, 2010 at 9:26 PM, Otto <otto at ottodestruct.com> wrote:

> No. A theme's functions.php should never cause any output just from
> being loaded. doing so can break your site.
>
> -Otto
>
>
>
> On Thu, Sep 2, 2010 at 12:54 PM, mohammad aghanabi <m.websoft at gmail.com>
> wrote:
> > hello;
> >
> > can we include a template page like index.php in functions.php and call
> it
> > from there ?
> >
> > thanks
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
??? ????? ??? ?? ?????? ? ?? ??? ?? ?? ??? ????? ?? ??? ??? ?? ?? ?? ????? ?
?????? ?? ??????? ?? ?????

From rbilesky at gmail.com  Thu Sep  2 18:01:05 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 2 Sep 2010 11:01:05 -0700
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTimPLAOoddOMcPPJdniHDTrm2X2QDqej1iZkUCSn@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
	<AANLkTik111hzHYNQ0q0o91YJB02FG4ZqrO01zNMkkER1@mail.gmail.com>
	<AANLkTimPLAOoddOMcPPJdniHDTrm2X2QDqej1iZkUCSn@mail.gmail.com>
Message-ID: <AANLkTika3a1wfztGe_houp=BNOvg5bugBpB524=0s7uU@mail.gmail.com>

Thanks otto, that was a good article, really explained things well.  Since
the issue only exists if you have alot of pages I think I should be ok
either way.  My site is mostly post-centric and will have maybe 5-10 pages,
probably closer to 5 once I get everything worked out.

On Thu, Sep 2, 2010 at 10:51 AM, Otto <otto at ottodestruct.com> wrote:

> Not true. A static string at the front of the custom permalink string
> will avoid the issue.
>
> It depends on your setup and the particular permalink string you use.
>
> - If you use just %postname% as the permalink string, then yes.
> - If you use blog/%postname% as the permalink string, then no.
>
> Also, this only actually causes a problem if you have a lot of Pages.
>
> See my post on the topic:
> http://ottopress.com/2010/category-in-permalinks-considered-harmful/
>
> -Otto
>
>
>
> On Thu, Sep 2, 2010 at 12:48 PM, Ashish Saini
> <ashishsainiashfame at gmail.com> wrote:
> > Its the same. It doesn't matter if you put a static string ahead it.
> > WP will still have to figure things out.
> >
> > Thanks & Regards
> > Ashish Saini aka Ashfame
> > (Deserve Before You Desire)
> > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter
> > : http://twitter.com/ashfame
> >
> >
> > On Thu, Sep 2, 2010 at 11:15 PM, Ryan Bilesky <rbilesky at gmail.com>
> wrote:
> >
> >> According to http://codex.wordpress.org/Using_Permalinks
> >>
> >> Permalinks for posts should start with some sort of number.
> >>
> >> "For performance reasons, it is *not* a good idea to start your
> permalink
> >> structure with the category, tag, author, or postname fields. The reason
> is
> >> that these are text fields, and using them at the beginning of your
> >> permalink structure it takes more time for WordPress to distinguish your
> >> Post URLs from Page URLs (which always use the text "page slug" as the
> >> URL),
> >> and to compensate, WordPress stores a lot of extra information in its
> >> database (so much that sites with lots of Pages have experienced
> >> difficulties). So, it is best to start your permalink structure with a
> >> numeric field, such as the year or post ID."
> >>
> >> Now my question is this, I would like to have my permalinks for posts
> look
> >> like this:   mysite.tld/blog/%postname%
> >>
> >> Does anyone know if this will cause any performance issues since they
> start
> >> with a static string?
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dragonfly at dragonflyeye.net  Thu Sep  2 18:01:26 2010
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Thu, 2 Sep 2010 14:01:26 -0400
Subject: [wp-hackers] calling a theme file from functions.php
In-Reply-To: <AANLkTikALrPzWX0CrLgWFQj5UT_BdJTVsU2eUJ-zvsBm@mail.gmail.com>
References: <AANLkTinLHV87u22EwczHqE_s2Q4zTJUWrAoTkLTWqd2q@mail.gmail.com>
	<AANLkTi=8=5Epj6MKKfLF2DX3EtOxbRgwdxENNTKguDg_@mail.gmail.com>
	<AANLkTikALrPzWX0CrLgWFQj5UT_BdJTVsU2eUJ-zvsBm@mail.gmail.com>
Message-ID: <AANLkTincJj74d125om9GZiiskdZLxT3hDoidvT1fCfdO@mail.gmail.com>

If you mean including a bit of template layout within the body of a
functions.php function, this wouldn't really be the way you might want to do
that. Unless you're looking to mimic the CakePHP "element" concept. But you
would be better served storing any additional layout stuff in the /plugins
folder and maybe even use a plugin instead of a functions.php function to do
that.

... if I understand what you want, that is.

On Thu, Sep 2, 2010 at 1:58 PM, mohammad aghanabi <m.websoft at gmail.com>wrote:

> u mean there is no way to try ?
>
> On Thu, Sep 2, 2010 at 9:26 PM, Otto <otto at ottodestruct.com> wrote:
>
> > No. A theme's functions.php should never cause any output just from
> > being loaded. doing so can break your site.
> >
> > -Otto
> >
> >
> >
> > On Thu, Sep 2, 2010 at 12:54 PM, mohammad aghanabi <m.websoft at gmail.com>
> > wrote:
> > > hello;
> > >
> > > can we include a template page like index.php in functions.php and call
> > it
> > > from there ?
> > >
> > > thanks
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> ??? ????? ??? ?? ?????? ? ?? ??? ?? ?? ??? ????? ?? ??? ??? ?? ?? ?? ?????
> ?
> ?????? ?? ??????? ?? ?????
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From m.websoft at gmail.com  Thu Sep  2 18:05:00 2010
From: m.websoft at gmail.com (mohammad aghanabi)
Date: Thu, 2 Sep 2010 21:35:00 +0330
Subject: [wp-hackers] calling a theme file from functions.php
In-Reply-To: <AANLkTincJj74d125om9GZiiskdZLxT3hDoidvT1fCfdO@mail.gmail.com>
References: <AANLkTinLHV87u22EwczHqE_s2Q4zTJUWrAoTkLTWqd2q@mail.gmail.com>
	<AANLkTi=8=5Epj6MKKfLF2DX3EtOxbRgwdxENNTKguDg_@mail.gmail.com>
	<AANLkTikALrPzWX0CrLgWFQj5UT_BdJTVsU2eUJ-zvsBm@mail.gmail.com>
	<AANLkTincJj74d125om9GZiiskdZLxT3hDoidvT1fCfdO@mail.gmail.com>
Message-ID: <AANLkTi=3ZTDi8GG8V5Hc85wqgVgL6rXB=L-pFdh83Cts@mail.gmail.com>

i wanna make functions.php encoded and including index.php or other files in
it is needed.
just for testing ...

On Thu, Sep 2, 2010 at 9:31 PM, Thomas Belknap
<dragonfly at dragonflyeye.net>wrote:

> If you mean including a bit of template layout within the body of a
> functions.php function, this wouldn't really be the way you might want to
> do
> that. Unless you're looking to mimic the CakePHP "element" concept. But you
> would be better served storing any additional layout stuff in the /plugins
> folder and maybe even use a plugin instead of a functions.php function to
> do
> that.
>
> ... if I understand what you want, that is.
>
> On Thu, Sep 2, 2010 at 1:58 PM, mohammad aghanabi <m.websoft at gmail.com
> >wrote:
>
> > u mean there is no way to try ?
> >
> > On Thu, Sep 2, 2010 at 9:26 PM, Otto <otto at ottodestruct.com> wrote:
> >
> > > No. A theme's functions.php should never cause any output just from
> > > being loaded. doing so can break your site.
> > >
> > > -Otto
> > >
> > >
> > >
> > > On Thu, Sep 2, 2010 at 12:54 PM, mohammad aghanabi <
> m.websoft at gmail.com>
> > > wrote:
> > > > hello;
> > > >
> > > > can we include a template page like index.php in functions.php and
> call
> > > it
> > > > from there ?
> > > >
> > > > thanks
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> >
> >
> > --
> > ??? ????? ??? ?? ?????? ? ?? ??? ?? ?? ??? ????? ?? ??? ??? ?? ?? ??
> ?????
> > ?
> > ?????? ?? ??????? ?? ?????
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
??? ????? ??? ?? ?????? ? ?? ??? ?? ?? ??? ????? ?? ??? ??? ?? ?? ?? ????? ?
?????? ?? ??????? ?? ?????

From scott at skcdev.com  Thu Sep  2 18:17:55 2010
From: scott at skcdev.com (Scott Kingsley Clark)
Date: Thu, 02 Sep 2010 13:17:55 -0500
Subject: [wp-hackers] Filtering metadata functions
Message-ID: <4C7FEA53.60602@skcdev.com>

Okay, so you've obviously noticed the lack of ability to filter the 
metadata functions. Okay, you probably didn't, but if you have, you know 
some sort of filter would be great.

I've posted a patch for wp-includes/meta.php with what I feel would be a 
great addition for plugins to interact in a more complex way with meta 
data. This filter runs before any of the other WP stuff runs, but there 
could additionally be another filter that changes the value returned by 
the default WP metadata function itself.

The patch I'm suggesting, allows a plugin to add a filter to 
{ACTION}_{METATYPE}_metadata which could then stop the rest of the 
metadata function from running, effectively allowing some pretty complex 
stuff. The filters themselves filter a 'false', with additional 
variables attached to the filters. If the filter returns anything other 
than a boolean false, depending on the function, the function will 
return that value (or a boolean true). Usefulness galore, let me know if 
you have any thoughts or questions!

Here's the trac ticket:
http://core.trac.wordpress.org/ticket/14766


Best Regards,

Scott Kingsley Clark
Developer / Consultant
SKC Development, LLC

------------------------------------
E-mail: scott at skcdev.com
Website: http://skcdev.com/
Phone: 214.233.4048
Fax: 214.260.1426

AIM / Yahoo / Skype: sc0ttkclark
Google Talk: sc0ttkclark at gmail.com
------------------------------------



From heiko.rabe at code-styling.de  Thu Sep  2 18:25:12 2010
From: heiko.rabe at code-styling.de (Heiko Rabe)
Date: Thu, 2 Sep 2010 20:25:12 +0200
Subject: [wp-hackers] deactivate a blog (site) at network
In-Reply-To: <597802121.288550.1283427962281.JavaMail.open-xchange@oxltgw00.schlund.de>
References: <597802121.288550.1283427962281.JavaMail.open-xchange@oxltgw00.schlund.de>
Message-ID: <001501cb4acc$2ed8e020$8c8aa060$@rabe@code-styling.de>

To make it clear, if it wasn't up to now.
I'm about to test a WordPress 3.0.1 Multisite configuration. I'm testing a main blog with 2 additional sub blogs now.
Both sub blogs were created as type of folders instead type of sub domains.

Now I went to the sites overview and press "deactivate" for the 2nd sub blog. 
What I now expect (as known by plugins when they will be deactivated): The sub blog is not longer accessible by the WWW using a browser (similar like a deactivated plugin can't modify any longer my output, it simply not reachable).

But the result is, that this blog can normally been browsed and read as it hasn't been deactivated.

So my question is, what is the purpose of activate/deactivate a blog?
Does it matter, if they are sub domains or "directories"?

Kind regards

Heiko Rabe
(www.code-styling.de)

-----Urspr?ngliche Nachricht-----
Von: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] Im Auftrag von heiko.rabe at code-styling.de
Gesendet: Donnerstag, 2. September 2010 13:46
An: wp-hackers at lists.automattic.com
Betreff: [wp-hackers] deactivate a blog (site) at network

Is anybody able to explain, what's the purpose of deactivating a blog/site in
multisite environment ?
 
My expectation was, that the blog is not longer accessable from outside but all
browser still able to get the pages and posts of this deactivated blog!
The WP 3.0.1 configuration has been defined using sub folders instead of sub
domains, if it makes a difference.
 
I would assume, that this is a bug isn't it?
 
thanks
 
Heiko Rabe
(www.code-styling.de)
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From philip at frumph.net  Thu Sep  2 18:27:37 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Thu, 2 Sep 2010 11:27:37 -0700
Subject: [wp-hackers] deactivate a blog (site) at network
In-Reply-To: <001501cb4acc$2ed8e020$8c8aa060$@rabe@code-styling.de>
References: <597802121.288550.1283427962281.JavaMail.open-xchange@oxltgw00.schlund.de>
	<001501cb4acc$2ed8e020$8c8aa060$@rabe@code-styling.de>
Message-ID: <A048916C918A4E9C8C6D891DCBD591D4@frumph.net>

Have you tried looking at a deactivated blog from a browser that wasn't 
logged in as admin?

- Phil
----- Original Message ----- 
From: "Heiko Rabe" <heiko.rabe at code-styling.de>
To: <wp-hackers at lists.automattic.com>
Sent: Thursday, September 02, 2010 11:25 AM
Subject: Re: [wp-hackers] deactivate a blog (site) at network


> To make it clear, if it wasn't up to now.
> I'm about to test a WordPress 3.0.1 Multisite configuration. I'm testing a 
> main blog with 2 additional sub blogs now.
> Both sub blogs were created as type of folders instead type of sub 
> domains.
>
> Now I went to the sites overview and press "deactivate" for the 2nd sub 
> blog.
> What I now expect (as known by plugins when they will be deactivated): The 
> sub blog is not longer accessible by the WWW using a browser (similar like 
> a deactivated plugin can't modify any longer my output, it simply not 
> reachable).
>
> But the result is, that this blog can normally been browsed and read as it 
> hasn't been deactivated.
>
> So my question is, what is the purpose of activate/deactivate a blog?
> Does it matter, if they are sub domains or "directories"?
>
> Kind regards
>
> Heiko Rabe
> (www.code-styling.de)
>
> -----Urspr?ngliche Nachricht-----
> Von: wp-hackers-bounces at lists.automattic.com 
> [mailto:wp-hackers-bounces at lists.automattic.com] Im Auftrag von 
> heiko.rabe at code-styling.de
> Gesendet: Donnerstag, 2. September 2010 13:46
> An: wp-hackers at lists.automattic.com
> Betreff: [wp-hackers] deactivate a blog (site) at network
>
> Is anybody able to explain, what's the purpose of deactivating a blog/site 
> in
> multisite environment ?
>
> My expectation was, that the blog is not longer accessable from outside 
> but all
> browser still able to get the pages and posts of this deactivated blog!
> The WP 3.0.1 configuration has been defined using sub folders instead of 
> sub
> domains, if it makes a difference.
>
> I would assume, that this is a bug isn't it?
>
> thanks
>
> Heiko Rabe
> (www.code-styling.de)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From lox.dev at knc.nc  Thu Sep  2 18:29:33 2010
From: lox.dev at knc.nc (Lox)
Date: Fri, 3 Sep 2010 05:29:33 +1100
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTika3a1wfztGe_houp=BNOvg5bugBpB524=0s7uU@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
	<AANLkTik111hzHYNQ0q0o91YJB02FG4ZqrO01zNMkkER1@mail.gmail.com>
	<AANLkTimPLAOoddOMcPPJdniHDTrm2X2QDqej1iZkUCSn@mail.gmail.com>
	<AANLkTika3a1wfztGe_houp=BNOvg5bugBpB524=0s7uU@mail.gmail.com>
Message-ID: <AANLkTi=0NFobXqFyoPQM6XZjkXtbbrURYx3RgEFptqgG@mail.gmail.com>

Hi,

I have just published a website with 250+ pages using
/blog/%category%/%postname%/ as the permalink structure with no performance
issues.

Regards.

-- 
Lox
lox.dev at knc.nc

From heiko.rabe at code-styling.de  Thu Sep  2 18:32:30 2010
From: heiko.rabe at code-styling.de (Heiko Rabe)
Date: Thu, 2 Sep 2010 20:32:30 +0200
Subject: [wp-hackers] deactivate a blog (site) at network
In-Reply-To: <A048916C918A4E9C8C6D891DCBD591D4@frumph.net>
References: <597802121.288550.1283427962281.JavaMail.open-xchange@oxltgw00.schlund.de>	<001501cb4acc$2ed8e020$8c8aa060$@rabe@code-styling.de>
	<A048916C918A4E9C8C6D891DCBD591D4@frumph.net>
Message-ID: <001601cb4acd$3431a150$9c94e3f0$@rabe@code-styling.de>

Yes I did explicitly logout to test if it depends on logged in admin :-)
The same result, the sub blog was accessible.

Regards

Heiko Rabe
(www.code-styling.de)

-----Urspr?ngliche Nachricht-----
Von: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] Im Auftrag von Philip M. Hofer (Frumph)
Gesendet: Donnerstag, 2. September 2010 20:28
An: wp-hackers at lists.automattic.com
Betreff: Re: [wp-hackers] deactivate a blog (site) at network

Have you tried looking at a deactivated blog from a browser that wasn't 
logged in as admin?

- Phil
----- Original Message ----- 
From: "Heiko Rabe" <heiko.rabe at code-styling.de>
To: <wp-hackers at lists.automattic.com>
Sent: Thursday, September 02, 2010 11:25 AM
Subject: Re: [wp-hackers] deactivate a blog (site) at network


> To make it clear, if it wasn't up to now.
> I'm about to test a WordPress 3.0.1 Multisite configuration. I'm testing a 
> main blog with 2 additional sub blogs now.
> Both sub blogs were created as type of folders instead type of sub 
> domains.
>
> Now I went to the sites overview and press "deactivate" for the 2nd sub 
> blog.
> What I now expect (as known by plugins when they will be deactivated): The 
> sub blog is not longer accessible by the WWW using a browser (similar like 
> a deactivated plugin can't modify any longer my output, it simply not 
> reachable).
>
> But the result is, that this blog can normally been browsed and read as it 
> hasn't been deactivated.
>
> So my question is, what is the purpose of activate/deactivate a blog?
> Does it matter, if they are sub domains or "directories"?
>
> Kind regards
>
> Heiko Rabe
> (www.code-styling.de)
>
> -----Urspr?ngliche Nachricht-----
> Von: wp-hackers-bounces at lists.automattic.com 
> [mailto:wp-hackers-bounces at lists.automattic.com] Im Auftrag von 
> heiko.rabe at code-styling.de
> Gesendet: Donnerstag, 2. September 2010 13:46
> An: wp-hackers at lists.automattic.com
> Betreff: [wp-hackers] deactivate a blog (site) at network
>
> Is anybody able to explain, what's the purpose of deactivating a blog/site 
> in
> multisite environment ?
>
> My expectation was, that the blog is not longer accessable from outside 
> but all
> browser still able to get the pages and posts of this deactivated blog!
> The WP 3.0.1 configuration has been defined using sub folders instead of 
> sub
> domains, if it makes a difference.
>
> I would assume, that this is a bug isn't it?
>
> thanks
>
> Heiko Rabe
> (www.code-styling.de)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From wordpress at zed1.com  Thu Sep  2 19:02:32 2010
From: wordpress at zed1.com (Mike Little)
Date: Thu, 2 Sep 2010 20:02:32 +0100
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTi=0NFobXqFyoPQM6XZjkXtbbrURYx3RgEFptqgG@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
	<AANLkTik111hzHYNQ0q0o91YJB02FG4ZqrO01zNMkkER1@mail.gmail.com>
	<AANLkTimPLAOoddOMcPPJdniHDTrm2X2QDqej1iZkUCSn@mail.gmail.com>
	<AANLkTika3a1wfztGe_houp=BNOvg5bugBpB524=0s7uU@mail.gmail.com>
	<AANLkTi=0NFobXqFyoPQM6XZjkXtbbrURYx3RgEFptqgG@mail.gmail.com>
Message-ID: <AANLkTimCaaK4HL02mzY+mV4D5g24_v+5U3y1ES-i4E76@mail.gmail.com>

On 2 September 2010 19:29, Lox <lox.dev at knc.nc> wrote:

> Hi,
>
> I have just published a website with 250+ pages using
> /blog/%category%/%postname%/ as the permalink structure with no performance
> issues.
>
> Regards.
>
>
>
I think by 'a lot' it will need to be many more than that. I am working on a
site with 4000+ pages at the moment (it will eventually have 15000+), I know
that would have big, big problems if I used the 'bad' way of specifying
permalinks.

I don't, so I don't have the permalink issue, but I am hitting other
performance issues because of the number (and nesting depth) of pages.


Mike
-- 
Mike Little
http://zed1.com/

From dougal at gunters.org  Thu Sep  2 19:03:22 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Thu, 02 Sep 2010 15:03:22 -0400
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTimPLAOoddOMcPPJdniHDTrm2X2QDqej1iZkUCSn@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>	<AANLkTik111hzHYNQ0q0o91YJB02FG4ZqrO01zNMkkER1@mail.gmail.com>
	<AANLkTimPLAOoddOMcPPJdniHDTrm2X2QDqej1iZkUCSn@mail.gmail.com>
Message-ID: <4C7FF4FA.4000900@gunters.org>

  On Sep 2 2010 1:51 PM, Otto wrote:
> Not true. A static string at the front of the custom permalink string
> will avoid the issue.
>
> It depends on your setup and the particular permalink string you use.
>
> - If you use just %postname% as the permalink string, then yes.
> - If you use blog/%postname% as the permalink string, then no.
>
> Also, this only actually causes a problem if you have a lot of Pages.
>
> See my post on the topic:
> http://ottopress.com/2010/category-in-permalinks-considered-harmful/
>
> -Otto

And mine, as well:

   http://dougal.gunters.org/blog/2009/02/04/efficient-wordpress-permalinks

The fact that starting permalinks with a static string avoids problems 
seems to get lost in the noise. But best practice is to use a static 
string ('/blog/...', '/news/...', etc)  *or* stick to the numeric 
variable subsitutions. These help WordPress disambiguate from things 
like categories that force it to perform extra checks.

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From ashishsainiashfame at gmail.com  Thu Sep  2 20:14:11 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Fri, 3 Sep 2010 01:44:11 +0530
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <4C7FF4FA.4000900@gunters.org>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
	<AANLkTik111hzHYNQ0q0o91YJB02FG4ZqrO01zNMkkER1@mail.gmail.com>
	<AANLkTimPLAOoddOMcPPJdniHDTrm2X2QDqej1iZkUCSn@mail.gmail.com>
	<4C7FF4FA.4000900@gunters.org>
Message-ID: <AANLkTinEUdiLNPTdJBDFKd5KDmzFUXwwjicSd=MMvs_B@mail.gmail.com>

My apologies for the wrong answer. I thought the static string would be
added in Pages URL too (which is not the case). Had it been like that then
it would have had no effect and performance issues would have creep in.

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Fri, Sep 3, 2010 at 12:33 AM, Dougal Campbell <dougal at gunters.org> wrote:

>  On Sep 2 2010 1:51 PM, Otto wrote:
>
>> Not true. A static string at the front of the custom permalink string
>> will avoid the issue.
>>
>> It depends on your setup and the particular permalink string you use.
>>
>> - If you use just %postname% as the permalink string, then yes.
>> - If you use blog/%postname% as the permalink string, then no.
>>
>> Also, this only actually causes a problem if you have a lot of Pages.
>>
>> See my post on the topic:
>> http://ottopress.com/2010/category-in-permalinks-considered-harmful/
>>
>> -Otto
>>
>
> And mine, as well:
>
>  http://dougal.gunters.org/blog/2009/02/04/efficient-wordpress-permalinks
>
> The fact that starting permalinks with a static string avoids problems
> seems to get lost in the noise. But best practice is to use a static string
> ('/blog/...', '/news/...', etc)  *or* stick to the numeric variable
> subsitutions. These help WordPress disambiguate from things like categories
> that force it to perform extra checks.
>
> --
> Dougal Campbell <dougal at gunters.org>
> http://dougal.gunters.org/
> http://twitter.com/dougal
> http://twitual.com/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rbilesky at gmail.com  Thu Sep  2 22:40:10 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 2 Sep 2010 15:40:10 -0700
Subject: [wp-hackers] Cookie Help
Message-ID: <AANLkTi=v7J5tHFaDpu0D5HKdA39J0OQAC_BfuT50Z7U7@mail.gmail.com>

I am writing a custom function for my theme that uses a free api to get
location information for an IP.  But its giving me this error

Warning: Cannot modify header information - headers already sent by (output
started at
/home/ryanbile/public_html/dev/wp/content/themes/1.0/header.php:3) in *
/home/ryanbile/public_html/dev/wp/content/themes/1.0/functions.php* on line
*124*

Basically I check to see if the user has a geoip cookie, if not query the
api and store the results in a cookie (on line 124) to avoid making lots of
api calls, if the cookie was already set my function just returns the
cookies value.  How do I get around this headers already sent error.  Sorry
for the simple question, I just never worked with cookies before

You can see my code at http://pastebin.com/pXq5gcmj

From wp-hackers at nicolaskuttler.de  Thu Sep  2 22:54:36 2010
From: wp-hackers at nicolaskuttler.de (Nicolas Kuttler)
Date: Fri, 3 Sep 2010 00:54:36 +0200
Subject: [wp-hackers] Cookie Help
In-Reply-To: <AANLkTi=v7J5tHFaDpu0D5HKdA39J0OQAC_BfuT50Z7U7@mail.gmail.com>
References: <AANLkTi=v7J5tHFaDpu0D5HKdA39J0OQAC_BfuT50Z7U7@mail.gmail.com>
Message-ID: <20100902225436.GF12148@nicolaskuttler.de>

On Thu, Sep 02, 2010 at 03:40:10PM -0700, Ryan Bilesky wrote:
> Warning: Cannot modify header information - headers already sent by (output
> started at
> /home/ryanbile/public_html/dev/wp/content/themes/1.0/header.php:3) in *
> /home/ryanbile/public_html/dev/wp/content/themes/1.0/functions.php* on line
> *124*

You can not send http headers after there was some output. Please see
http://php.net/manual/en/function.setcookie.php

There are excellent support channels for php and wordpress on freenode:
http://codex.wordpress.org/IRC

Nicolas

--
Nicolas Kuttler
wp at nkuttler.de

http://www.nkuttler.de
http://www.nicolaskuttler.de (deutsch)

From rbilesky at gmail.com  Thu Sep  2 23:01:48 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 2 Sep 2010 16:01:48 -0700
Subject: [wp-hackers] Cookie Help
In-Reply-To: <20100902225436.GF12148@nicolaskuttler.de>
References: <AANLkTi=v7J5tHFaDpu0D5HKdA39J0OQAC_BfuT50Z7U7@mail.gmail.com>
	<20100902225436.GF12148@nicolaskuttler.de>
Message-ID: <AANLkTi=eby=394EJQzycoy3Fb4Ly=4uzcrNk+LMLtKsb@mail.gmail.com>

I am aware of that, I did end up resolving the problem.  Thanks.

On Thu, Sep 2, 2010 at 3:54 PM, Nicolas Kuttler <
wp-hackers at nicolaskuttler.de> wrote:

> On Thu, Sep 02, 2010 at 03:40:10PM -0700, Ryan Bilesky wrote:
> > Warning: Cannot modify header information - headers already sent by
> (output
> > started at
> > /home/ryanbile/public_html/dev/wp/content/themes/1.0/header.php:3) in *
> > /home/ryanbile/public_html/dev/wp/content/themes/1.0/functions.php* on
> line
> > *124*
>
> You can not send http headers after there was some output. Please see
> http://php.net/manual/en/function.setcookie.php
>
> There are excellent support channels for php and wordpress on freenode:
> http://codex.wordpress.org/IRC
>
> Nicolas
>
> --
> Nicolas Kuttler
> wp at nkuttler.de
>
> http://www.nkuttler.de
> http://www.nicolaskuttler.de (deutsch)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From Gavin.Pearce at 3seven9.com  Fri Sep  3 08:30:31 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Fri, 3 Sep 2010 09:30:31 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local>
References: <p06240802c8a548196052@192.168.1.65><CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local><AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com><AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com><B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local><4C7FC071.8050208@elfden.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local>

Surely WordPress core could use the wp-config.php or admin area settings
when building the URL
within feeds, or anywhere an absolute URL is needed?

Yes, adds to overheads, but only very, very, very nominally.

G


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Rich
Pedley
Sent: 02 September 2010 16:19
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Site Address during development

On 02/09/2010 16:08, Gavin Pearce wrote:
> Rather than having to bodge a solution, what's the odds of WordPress
> core using relative URLs?
>
> Is there a reason why it doesn't?

yes and it has been answered in this very thread.

one example given, IIRC, was RSS feeds.

Rich
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From erisds at gmail.com  Fri Sep  3 08:52:51 2010
From: erisds at gmail.com (ErisDS)
Date: Fri, 3 Sep 2010 09:52:51 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local>
References: <p06240802c8a548196052@192.168.1.65>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
	<B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>
	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>
	<4C7FC071.8050208@elfden.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local>
Message-ID: <AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com>

I guess what's kinda irritating about this, is the "why", rather than the
"how to solve".
It just doesn't make sense why absolute URLs are embedded everywhere.

GUID should be a UUID, not contain the URL, and the paths in content should
be relative by default. There doesn't seem to be a good reason why this
hasn't been resolved. I guess that's my niggle!

I always work with a local dev, staging,  and production servers so I run
into the every time I do a WordPress project.

I have a script I add to every WP project, which I can run each time I push
changes to a different server. It's very basic but it works.
At the end of the day, the script is written now and it takes me an
additional 30 seconds to run it each time I push, considering all the GREAT
things WP offers, this is hardly a deal breaker!

Also, Christopher Bralien's solution for stopping absolute URLs being saved
sounds really useful as a prevention rather than a cure.

It would be rather nice if some updates could be made to solve this once and
for all though!

On Fri, Sep 3, 2010 at 9:30 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com>wrote:

> Surely WordPress core could use the wp-config.php or admin area settings
> when building the URL
> within feeds, or anywhere an absolute URL is needed?
>
> Yes, adds to overheads, but only very, very, very nominally.
>
> G
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Rich
> Pedley
> Sent: 02 September 2010 16:19
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Site Address during development
>
> On 02/09/2010 16:08, Gavin Pearce wrote:
> > Rather than having to bodge a solution, what's the odds of WordPress
> > core using relative URLs?
> >
> > Is there a reason why it doesn't?
>
> yes and it has been answered in this very thread.
>
> one example given, IIRC, was RSS feeds.
>
> Rich
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at zed1.com  Fri Sep  3 08:57:12 2010
From: wordpress at zed1.com (Mike Little)
Date: Fri, 3 Sep 2010 09:57:12 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
	<B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>
	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>
	<4C7FC071.8050208@elfden.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local>
	<AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com>
Message-ID: <AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com>

On 3 September 2010 09:52, ErisDS <erisds at gmail.com> wrote:

> I guess what's kinda irritating about this, is the "why", rather than the
> "how to solve".
> It just doesn't make sense why absolute URLs are embedded everywhere.
>
>
Gavin,
If you had followed this thread you would have already seen the answer:

You *have* to have absolute URLs in RSS feeds and other non-browser
situations, otherwise images, and especially podcasts would break, because
the content is not being consumed in the context of the site and a browser.

Mike
-- 
Mike Little
http://zed1.com/

From christian at buro2.se  Fri Sep  3 09:20:02 2010
From: christian at buro2.se (Christian Gundersson)
Date: Fri, 3 Sep 2010 11:20:02 +0200
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
	<B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>
	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>
	<4C7FC071.8050208@elfden.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local>
	<AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com>
	<AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com>
Message-ID: <5BA857E4-2CB7-4982-8EFA-876961BF27D9@buro2.se>

Hi guys,

please forgive my ignorance but I think I need a bit of clarification here.

> Gavin,
> If you had followed this thread you would have already seen the answer:
> 
> You *have* to have absolute URLs in RSS feeds and other non-browser
> situations, otherwise images, and especially podcasts would break, because
> the content is not being consumed in the context of the site and a browser.
> 
> Mike

Isn't the feed generated by a script? Couldn't that script simply manufacture the absolute URLs at runtime the same time WordPress does when viewing the site through a browser?

Again, I apologize if I'm being blatantly stupid but I don't see how feeds constitutes a problem. An example would be nice if someone could give it.

Many thanks.
//Christian, B?ro 2

From Gavin.Pearce at 3seven9.com  Fri Sep  3 09:35:32 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Fri, 3 Sep 2010 10:35:32 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65><CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local><AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com><AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com><B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com><AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local><4C7FC071.8050208@elfden.co.uk><CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local><CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local><AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com>
	<AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local>

Mike,

Respectfully, if you had followed this thread yourself you would have
seen that the email you quoted wasn't from myself - plus that the reason
you gave has already had a counter-argument put against it.  ;)

We all understand that RSS needs absolute URLs, but surely WordPress
core could use the wp-config.php or admin area settings when building
the URL within feeds, or anywhere an absolute URL is needed?

Yes, adds to overheads, but only very, very, very nominally.

Gav

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mike
Little
Sent: 03 September 2010 09:57
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Site Address during development

On 3 September 2010 09:52, ErisDS <erisds at gmail.com> wrote:

> I guess what's kinda irritating about this, is the "why", rather than
the
> "how to solve".
> It just doesn't make sense why absolute URLs are embedded everywhere.
>
>
Gavin,
If you had followed this thread you would have already seen the answer:

You *have* to have absolute URLs in RSS feeds and other non-browser
situations, otherwise images, and especially podcasts would break,
because
the content is not being consumed in the context of the site and a
browser.

Mike
-- 
Mike Little
http://zed1.com/
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From philip at frumph.net  Fri Sep  3 09:52:02 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Fri, 3 Sep 2010 02:52:02 -0700
Subject: [wp-hackers] Site Address during development
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local>
References: <p06240802c8a548196052@192.168.1.65><CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local><AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com><AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com><B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com><AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local><4C7FC071.8050208@elfden.co.uk><CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local><CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local><AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com><AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local>
Message-ID: <D84C258DF98D476684D0E251C945F78B@frumph.net>

Just curious here but couldnt the WP_Embed be used like it is for the 
youtube video's that automatically get code generated for them?

/wp-includes/js/tiny-mce/plugins/media/js/media.js  .. doesn't that auto 
inject the proper code for media like flash/flv/shockwave/qt etc.. couldn't 
that be made to do the same for an image?

Maybe not, for those who do not have javascript enabled, bleah.  okay moving 
on

I'm not seeing an easy solve in core.   Because relative will simply just 
not work between subdirectory installations of wordpress and root 
installations they will still have the same situation.

This
HOME: http://siteurl.tld/
RELATIVE:  /wp-content/uploads/2010/09/myfile.jpg

Is different then this:
HOME: http://siteurl.tld/wordpress
RELATIVE: /wp-content/uploads/2010/09/myfile.jpg

^ Take into consideration that HOME is not attached inside the <img src=" 
the / in the front would bring it back to the root not finding the file, so 
back to square one.

Can't do it with the javascript above because then your leaving out the 
fallback to those without javascript.

What if it was done with [url][/url]  shortcodes instead? then it's still 
added overhead parsing every content that goes through with every user, 
while it may seem minimal it still taxes even if its .003% increase.

I highly doubt anyone will go for the extra overhead, seriously; trying to 
cut down the processing not add to it.

So the end result?  The best result?

The plugin that was linked to earliar where everything currently stays the 
same and when you move your data from one location to another you basically 
just run it once and it fixes every links in content of posts, there, it's 
done and you don't have to worry about it and have the overhead.  -- which 
in turn fixes any RSS feeds since they're generated from the content.

I am frustated at it too, until I learned how easy it was to just 'fix' it 
with a quick pass with the plugin.

- Phil


----- Original Message ----- 
From: "Gavin Pearce" <Gavin.Pearce at 3seven9.com>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, September 03, 2010 2:35 AM
Subject: Re: [wp-hackers] Site Address during development


> Mike,
>
> Respectfully, if you had followed this thread yourself you would have
> seen that the email you quoted wasn't from myself - plus that the reason
> you gave has already had a counter-argument put against it.  ;)
>
> We all understand that RSS needs absolute URLs, but surely WordPress
> core could use the wp-config.php or admin area settings when building
> the URL within feeds, or anywhere an absolute URL is needed?
>
> Yes, adds to overheads, but only very, very, very nominally.
>
> Gav
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mike
> Little
> Sent: 03 September 2010 09:57
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Site Address during development
>
> On 3 September 2010 09:52, ErisDS <erisds at gmail.com> wrote:
>
>> I guess what's kinda irritating about this, is the "why", rather than
> the
>> "how to solve".
>> It just doesn't make sense why absolute URLs are embedded everywhere.
>>
>>
> Gavin,
> If you had followed this thread you would have already seen the answer:
>
> You *have* to have absolute URLs in RSS feeds and other non-browser
> situations, otherwise images, and especially podcasts would break,
> because
> the content is not being consumed in the context of the site and a
> browser.
>
> Mike
> -- 
> Mike Little
> http://zed1.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From wordpress at zed1.com  Fri Sep  3 09:56:44 2010
From: wordpress at zed1.com (Mike Little)
Date: Fri, 3 Sep 2010 10:56:44 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local>
References: <p06240802c8a548196052@192.168.1.65>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
	<B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>
	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>
	<4C7FC071.8050208@elfden.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local>
	<AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com>
	<AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local>
Message-ID: <AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com>

On 3 September 2010 10:35, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:

Gav,
Very sorry for attributing that to you, I was viewing both your reply  and
ErisDs at the same time when I pressed reply.



> We all understand that RSS needs absolute URLs, but surely WordPress
> core could use the wp-config.php or admin area settings when building
> the URL within feeds, or anywhere an absolute URL is needed?
>
> Yes, adds to overheads, but only very, very, very nominally.
>
>
The problem with any perceived problem like this, is that a very small
minority of WordPress users have this problem (i.e. moving sites), and are,
in this case,  knowledgeable enough to overcome the problem.

Most WordPress users (11 million plus) do not move their sites, but *do*
have their sites read through feed readers, aggregated on other sites, and
their podcasts listened to in iTunes.

So although the vocal developers on this list can see a need, in fact their
use case for the problem is
a) a very tiny minority, and
b) only occurs once when a site is moved. All other times it is fine the way
it works now.



Mike
-- 
Mike Little
http://zed1.com/

From Gavin.Pearce at 3seven9.com  Fri Sep  3 10:20:53 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Fri, 3 Sep 2010 11:20:53 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65><CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local><AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com><AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com><B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com><AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local><4C7FC071.8050208@elfden.co.uk><CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local><CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local><AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com><AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local>
	<AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E34BC@tbs-sbs01.TBS.local>

Hi Mike,

Not a problem.  ;)

I think the advantages of this would help in many use cases and various
other CMS platforms already support it.

If I write the various patches, is there any reason why people would
vote "against" this change?

Thanks,
Gav

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mike
Little
Sent: 03 September 2010 10:57
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Site Address during development

On 3 September 2010 10:35, Gavin Pearce <Gavin.Pearce at 3seven9.com>
wrote:

Gav,
Very sorry for attributing that to you, I was viewing both your reply
and
ErisDs at the same time when I pressed reply.



> We all understand that RSS needs absolute URLs, but surely WordPress
> core could use the wp-config.php or admin area settings when building
> the URL within feeds, or anywhere an absolute URL is needed?
>
> Yes, adds to overheads, but only very, very, very nominally.
>
>
The problem with any perceived problem like this, is that a very small
minority of WordPress users have this problem (i.e. moving sites), and
are,
in this case,  knowledgeable enough to overcome the problem.

Most WordPress users (11 million plus) do not move their sites, but *do*
have their sites read through feed readers, aggregated on other sites,
and
their podcasts listened to in iTunes.

So although the vocal developers on this list can see a need, in fact
their
use case for the problem is
a) a very tiny minority, and
b) only occurs once when a site is moved. All other times it is fine the
way
it works now.



Mike
-- 
Mike Little
http://zed1.com/
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From burobjorn at gmail.com  Fri Sep  3 11:23:09 2010
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Fri, 03 Sep 2010 13:23:09 +0200
Subject: [wp-hackers] Site Address during development
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E34BC@tbs-sbs01.TBS.local>
References: <p06240802c8a548196052@192.168.1.65><CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local><AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com><AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com><B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com><AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local><4C7FC071.8050208@elfden.co.uk><CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local><CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local><AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com><AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local>	<AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34BC@tbs-sbs01.TBS.local>
Message-ID: <4C80DA9D.5010007@gmail.com>

I support Gavin's proposal of changing WordPress from using absolute to 
relative urls in it's database wholeheartedly. I'm willing to help out 
with patches and testing if someone with commit ability is willing to 
back us up.

I'm pretty certain we can fix this in such a way that content still is 
addressable by one url (as explained by Otto) by making use of the 
already existing WP_SITEURL and WP_HOME constants.

Instead of writing the absolute url to the database we can assemble the 
absolute url on-the-fly and thus make sure all content will have an 
absolute url (for feeds and other purposes).

It seems so easy and I'm probably not the first proposing this. So why 
hasn't this been done yet? Am I missing something?

If so please enlighten me :)

grtz
BjornW




On 09/03/2010 12:20 PM, Gavin Pearce wrote:
> Hi Mike,
>
> Not a problem.  ;)
>
> I think the advantages of this would help in many use cases and various
> other CMS platforms already support it.
>
> If I write the various patches, is there any reason why people would
> vote "against" this change?
>
> Thanks,
> Gav
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mike
> Little
> Sent: 03 September 2010 10:57
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Site Address during development
>
> On 3 September 2010 10:35, Gavin Pearce<Gavin.Pearce at 3seven9.com>
> wrote:
>
> Gav,
> Very sorry for attributing that to you, I was viewing both your reply
> and
> ErisDs at the same time when I pressed reply.
>
>
>
>> We all understand that RSS needs absolute URLs, but surely WordPress
>> core could use the wp-config.php or admin area settings when building
>> the URL within feeds, or anywhere an absolute URL is needed?
>>
>> Yes, adds to overheads, but only very, very, very nominally.
>>
>>
> The problem with any perceived problem like this, is that a very small
> minority of WordPress users have this problem (i.e. moving sites), and
> are,
> in this case,  knowledgeable enough to overcome the problem.
>
> Most WordPress users (11 million plus) do not move their sites, but *do*
> have their sites read through feed readers, aggregated on other sites,
> and
> their podcasts listened to in iTunes.
>
> So although the vocal developers on this list can see a need, in fact
> their
> use case for the problem is
> a) a very tiny minority, and
> b) only occurs once when a site is moved. All other times it is fine the
> way
> it works now.
>
>
>
> Mike

From wordpress at zed1.com  Fri Sep  3 12:25:04 2010
From: wordpress at zed1.com (Mike Little)
Date: Fri, 3 Sep 2010 13:25:04 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <4C80DA9D.5010007@gmail.com>
References: <p06240802c8a548196052@192.168.1.65>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
	<B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>
	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>
	<4C7FC071.8050208@elfden.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local>
	<AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com>
	<AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local>
	<AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34BC@tbs-sbs01.TBS.local>
	<4C80DA9D.5010007@gmail.com>
Message-ID: <AANLkTikkSxj3fH-MQ5O6X53FQmPYpD-Rqn3kOpnO+acr@mail.gmail.com>

On 3 September 2010 12:23, Bjorn Wijers <burobjorn at gmail.com> wrote:

>
> It seems so easy and I'm probably not the first proposing this. So why
> hasn't this been done yet? Am I missing something?
>
>
Here is my take on it.

What is being proposed is to enforce the calculation of the absolute URL on
every single WordPress installation feed (and any other way the content may
be accessed out of context of the web), to solve a problem that manifests
itself *at the point someone moves a site to a different domain*.

This 'solution' is 'fixing' a problem that doesn't exist.

The problem that does need fixing is "how to change all the absolute URLs
when I move my site."

So, how about approaching it from the other end?

Here is my proposal: A "development mode" plugin, that:

1) Has filters to prevent the URLs from being saved as absolute during
development and testing. Code to do this has already been kindly provided on
this thread.

2) Has filters to 'fix' the non-absolute URLs dynamically for feeds and
whatever else needs them during development.

3) Has a 'Go Live' button to click, which changes all the non-absolute URLs
to absolute ones when you deploy to live. Then removes all it's filters.

This would solve the real problem, with no overhead for *any* WordPress site
that isn't in development.

This could also be the basis for a number of other things that need tweaking
during development, debug mode, non-compressed css/js, no-index settings,
etc.


Mike
-- 
Mike Little
http://zed1.com/

From Gavin.Pearce at 3seven9.com  Fri Sep  3 13:03:52 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Fri, 3 Sep 2010 14:03:52 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTikkSxj3fH-MQ5O6X53FQmPYpD-Rqn3kOpnO+acr@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65><CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local><AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com><AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com><B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com><AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local><4C7FC071.8050208@elfden.co.uk><CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local><CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local><AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com><AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local><AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34BC@tbs-sbs01.TBS.local><4C80DA9D.5010007@gmail.com>
	<AANLkTikkSxj3fH-MQ5O6X53FQmPYpD-Rqn3kOpnO+acr@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E34C0@tbs-sbs01.TBS.local>

> What is being proposed is to enforce the calculation of the absolute
URL on every single WordPress installation feed (and any other way the
content may be accessed out of context of the web), to solve a problem
that manifests
> itself *at the point someone moves a site to a different domain*.

> This 'solution' is 'fixing' a problem that doesn't exist.

I fully see your point Mike, and it's a good one - I do though feel it's
more adapting the code to prevent possible problems - rather than a
problem that doesn't exist as such.

Your choice of words makes it sound like it's adding overhead - when
really performance wise it would be the most nominal of differences.

I mean ... if the core committers can force through code that changes
"Wordpress" to "WordPress" (definitely not a major worry for *anyone*),
I can't see how this is any different? A small use case yes - but it's
still solving a problem that some users do encounter, albeit not many.

Thoughts?

Gav



-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mike
Little
Sent: 03 September 2010 13:25
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Site Address during development

On 3 September 2010 12:23, Bjorn Wijers <burobjorn at gmail.com> wrote:

>
> It seems so easy and I'm probably not the first proposing this. So why
> hasn't this been done yet? Am I missing something?
>
>
Here is my take on it.

What is being proposed is to enforce the calculation of the absolute URL
on
every single WordPress installation feed (and any other way the content
may
be accessed out of context of the web), to solve a problem that
manifests
itself *at the point someone moves a site to a different domain*.

This 'solution' is 'fixing' a problem that doesn't exist.

The problem that does need fixing is "how to change all the absolute
URLs
when I move my site."

So, how about approaching it from the other end?

Here is my proposal: A "development mode" plugin, that:

1) Has filters to prevent the URLs from being saved as absolute during
development and testing. Code to do this has already been kindly
provided on
this thread.

2) Has filters to 'fix' the non-absolute URLs dynamically for feeds and
whatever else needs them during development.

3) Has a 'Go Live' button to click, which changes all the non-absolute
URLs
to absolute ones when you deploy to live. Then removes all it's filters.

This would solve the real problem, with no overhead for *any* WordPress
site
that isn't in development.

This could also be the basis for a number of other things that need
tweaking
during development, debug mode, non-compressed css/js, no-index
settings,
etc.


Mike
-- 
Mike Little
http://zed1.com/
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From burobjorn at gmail.com  Fri Sep  3 13:09:43 2010
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Fri, 03 Sep 2010 15:09:43 +0200
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTikkSxj3fH-MQ5O6X53FQmPYpD-Rqn3kOpnO+acr@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65>	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>	<B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>	<CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>	<4C7FC071.8050208@elfden.co.uk>	<CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local>	<CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local>	<AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com>	<AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com>	<CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local>	<AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com>	<CD47955B7E065D48AB5CF226C2ED75C02E34BC@tbs-sbs01.TBS.local>	<4C80DA9D.5010007@gmail.com>
	<AANLkTikkSxj3fH-MQ5O6X53FQmPYpD-Rqn3kOpnO+acr@mail.gmail.com>
Message-ID: <4C80F397.4000804@gmail.com>

>> It seems so easy and I'm probably not the first proposing this. So why
>> hasn't this been done yet? Am I missing something?
>>
>>
> Here is my take on it.
>
> What is being proposed is to enforce the calculation of the absolute URL on
> every single WordPress installation feed (and any other way the content may
> be accessed out of context of the web), to solve a problem that manifests
> itself *at the point someone moves a site to a different domain*.
>
> This 'solution' is 'fixing' a problem that doesn't exist.

I disagree.

Inserting data into a database with absolute urls seems a bad idea, for 
at least two reasons:

- Hard to change
- Repeats (unnecessary) data all over the database

Especially when there are already constants implemented used to resolve 
relative urls to absolute urls (WP_SITEURL and WP_HOME). These constants 
imply the use of a resolver used to resolve relative urls to absolute 
ones. Why write the absolute url to the database then?

Btw these constants did not work with WordPress Mu (not sure about the 
current situation with this on multisite) and thus makes DTAP 
(Development, Test, Acceptance, Production) style development annoying 
and unnecessary hard.


> The problem that does need fixing is "how to change all the absolute URLs
> when I move my site."
>
> So, how about approaching it from the other end?
>
> Here is my proposal: A "development mode" plugin, that:
>
> 1) Has filters to prevent the URLs from being saved as absolute during
> development and testing. Code to do this has already been kindly provided on
> this thread.
>
> 2) Has filters to 'fix' the non-absolute URLs dynamically for feeds and
> whatever else needs them during development.
>
> 3) Has a 'Go Live' button to click, which changes all the non-absolute URLs
> to absolute ones when you deploy to live. Then removes all it's filters.
>
> This would solve the real problem, with no overhead for *any* WordPress site
> that isn't in development.
>
> This could also be the basis for a number of other things that need tweaking
> during development, debug mode, non-compressed css/js, no-index settings,
> etc.

I like your idea of having a development mode plugin which takes care of 
most of the nity gritty differences between development and a live site, 
but absolute urls are/were a bad idea from the start and should be fixed 
instead made tolerable ;)

grtz
BjornW

From elfin at elfden.co.uk  Fri Sep  3 13:13:57 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Fri, 03 Sep 2010 14:13:57 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E34C0@tbs-sbs01.TBS.local>
References: <p06240802c8a548196052@192.168.1.65><AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com><AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com><B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com><AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local><4C7FC071.8050208@elfden.co.uk><CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local><CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local><AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com><AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local><AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34BC@tbs-sbs01.TBS.local><4C80DA9D.5010007@gmail.com>	<AANLkTikkSxj3fH-MQ5O6X53FQmPYpD-Rqn3kOpnO+acr@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34C0@tbs-sbs01.TBS.local>
Message-ID: <4C80F495.9050107@elfden.co.uk>

On 03/09/2010 14:03, Gavin Pearce wrote:
>> What is being proposed is to enforce the calculation of the absolute
> URL on every single WordPress installation feed (and any other way the
> content may be accessed out of context of the web), to solve a problem
> that manifests
>> itself *at the point someone moves a site to a different domain*.
>
>> This 'solution' is 'fixing' a problem that doesn't exist.
>
> I fully see your point Mike, and it's a good one - I do though feel it's
> more adapting the code to prevent possible problems - rather than a
> problem that doesn't exist as such.
>
> Your choice of words makes it sound like it's adding overhead - when
> really performance wise it would be the most nominal of differences.
>
> I mean ... if the core committers can force through code that changes
> "Wordpress" to "WordPress" (definitely not a major worry for *anyone*),
> I can't see how this is any different? A small use case yes - but it's
> still solving a problem that some users do encounter, albeit not many.

The 'solution' offered (ie the plugin) doesn't retrofit. So in order 
for it to be of any use you would have to literally update every 
single page/post on your site. So as a solution it is of no use for 
any existing users out there.

To make it work for old posts/pages you would have to run a db 
query... oh wait they have to do that when they move WordPress as it is!

Now why add the extra overhead when it doesn't work and can't be 
retrofitted?

Rich

From Gavin.Pearce at 3seven9.com  Fri Sep  3 13:19:29 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Fri, 3 Sep 2010 14:19:29 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <4C80F495.9050107@elfden.co.uk>
References: <p06240802c8a548196052@192.168.1.65><AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com><AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com><B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com><AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local><4C7FC071.8050208@elfden.co.uk><CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local><CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local><AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com><AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local><AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34BC@tbs-sbs01.TBS.local><4C80DA9D.5010007@gmail.com>	<AANLkTikkSxj3fH-MQ5O6X53FQmPYpD-Rqn3kOpnO+acr@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34C0@tbs-sbs01.TBS.local>
	<4C80F495.9050107@elfden.co.uk>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E34C1@tbs-sbs01.TBS.local>

> Now why add the extra overhead when it doesn't work and can't be
retrofitted?

I'm not so interested in the plugin approach, but would like to point
out that any approach could be retrofitted if need-be.

That said - as most problems occur from test/dev -> live, for sites
already complete one would assume that they are live, and domains less
likely to change.

G

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Rich
Pedley
Sent: 03 September 2010 14:14
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Site Address during development

On 03/09/2010 14:03, Gavin Pearce wrote:
>> What is being proposed is to enforce the calculation of the absolute
> URL on every single WordPress installation feed (and any other way the
> content may be accessed out of context of the web), to solve a problem
> that manifests
>> itself *at the point someone moves a site to a different domain*.
>
>> This 'solution' is 'fixing' a problem that doesn't exist.
>
> I fully see your point Mike, and it's a good one - I do though feel
it's
> more adapting the code to prevent possible problems - rather than a
> problem that doesn't exist as such.
>
> Your choice of words makes it sound like it's adding overhead - when
> really performance wise it would be the most nominal of differences.
>
> I mean ... if the core committers can force through code that changes
> "Wordpress" to "WordPress" (definitely not a major worry for
*anyone*),
> I can't see how this is any different? A small use case yes - but it's
> still solving a problem that some users do encounter, albeit not many.

The 'solution' offered (ie the plugin) doesn't retrofit. So in order 
for it to be of any use you would have to literally update every 
single page/post on your site. So as a solution it is of no use for 
any existing users out there.

To make it work for old posts/pages you would have to run a db 
query... oh wait they have to do that when they move WordPress as it is!

Now why add the extra overhead when it doesn't work and can't be 
retrofitted?

Rich
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From jer at simianuprising.com  Fri Sep  3 14:51:34 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Fri, 3 Sep 2010 10:51:34 -0400
Subject: [wp-hackers] Site Address during development
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E34C1@tbs-sbs01.TBS.local>
References: <p06240802c8a548196052@192.168.1.65>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
	<B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>
	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>
	<4C7FC071.8050208@elfden.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local>
	<AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com>
	<AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local>
	<AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34BC@tbs-sbs01.TBS.local>
	<4C80DA9D.5010007@gmail.com>
	<AANLkTikkSxj3fH-MQ5O6X53FQmPYpD-Rqn3kOpnO+acr@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34C0@tbs-sbs01.TBS.local>
	<4C80F495.9050107@elfden.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E34C1@tbs-sbs01.TBS.local>
Message-ID: <AANLkTimCvLzZ0a+RXLYufrZVc9a4L3A+K6PgbeT0dbQ7@mail.gmail.com>

To summarize the (simplest) plugin that I think would be ideal based on all
this discussion:

   - Offer a way to define a development URL to override the one in the db
   (in conjunction with the wp-config constants)
   - Filter all post data being *saved* to the db to use the original 'live'
   url from the wp_options table
   - Filter all *displayed* post data to str_replace the dev url with the
   live one

Reasons:

   - Ensures that the hardcoded urls in the database will work on live.
   - During dev the two levels of filtering (during save and during display)
   might waste resources but once the site is launched all URLs will work
   without filtering.
   - It basically allows for the hosts file trick but without needing you to
   manage hosts files, I think it could all be done with a plugin.

IMHO this would be a great candidate for a Canonical/Core plugin. Lots of
people need it but having it in core would be very confusing for the
majority of WP users.

A related but simpler system (without a plugin) would be to use the hosts
trick Otto promoted for all content entering, but filter the_content on the
staging site for the people who can't/won't change their hosts config. So
you the dev need to switch your hosts file and so do any important content
editors (assuming there is one or several people rather than the whole org
working on the site before launch), but when passing the staging url around
you run a the_content filter that replaces the live url with the stage one.
Again it has overhead but only during staging and not during actual
production.


-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From Gavin.Pearce at 3seven9.com  Fri Sep  3 15:09:14 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Fri, 3 Sep 2010 16:09:14 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTimCvLzZ0a+RXLYufrZVc9a4L3A+K6PgbeT0dbQ7@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65><AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com><AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com><B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com><AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local><4C7FC071.8050208@elfden.co.uk><CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local><CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local><AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com><AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local><AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34BC@tbs-sbs01.TBS.local><4C80DA9D.5010007@gmail.com><AANLkTikkSxj3fH-MQ5O6X53FQmPYpD-Rqn3kOpnO+acr@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E34C0@tbs-sbs01.TBS.local><4C80F495.9050107@elfden.co.uk><CD47955B7E065D
	48AB5CF226C2 ED75C02E34C1@tbs-sbs01.TBS.local>
	<AANLkTimCvLzZ0a+RXLYufrZVc9a4L3A+K6PgbeT0dbQ7@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E34C9@tbs-sbs01.TBS.local>

I think plugin/filters are the wrong way to fix an issue, rather the
issue should be solved at its source:

I agree fully with Bjorn on this:

> Inserting data into a database with absolute urls seems a bad idea,
for at least two reasons:

> - Hard to change
> - Repeats (unnecessary) data all over the database

I would also add, the database content should "not" be tied to a
particular domain, and should just be content. Domains are, more often
than not, not relevant to the content.

Gavin 


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jeremy
Clarke
Sent: 03 September 2010 15:52
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Site Address during development

To summarize the (simplest) plugin that I think would be ideal based on
all
this discussion:

   - Offer a way to define a development URL to override the one in the
db
   (in conjunction with the wp-config constants)
   - Filter all post data being *saved* to the db to use the original
'live'
   url from the wp_options table
   - Filter all *displayed* post data to str_replace the dev url with
the
   live one

Reasons:

   - Ensures that the hardcoded urls in the database will work on live.
   - During dev the two levels of filtering (during save and during
display)
   might waste resources but once the site is launched all URLs will
work
   without filtering.
   - It basically allows for the hosts file trick but without needing
you to
   manage hosts files, I think it could all be done with a plugin.

IMHO this would be a great candidate for a Canonical/Core plugin. Lots
of
people need it but having it in core would be very confusing for the
majority of WP users.

A related but simpler system (without a plugin) would be to use the
hosts
trick Otto promoted for all content entering, but filter the_content on
the
staging site for the people who can't/won't change their hosts config.
So
you the dev need to switch your hosts file and so do any important
content
editors (assuming there is one or several people rather than the whole
org
working on the site before launch), but when passing the staging url
around
you run a the_content filter that replaces the live url with the stage
one.
Again it has overhead but only during staging and not during actual
production.


-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From dennen at gmail.com  Fri Sep  3 15:40:21 2010
From: dennen at gmail.com (Bill Dennen)
Date: Fri, 3 Sep 2010 11:40:21 -0400
Subject: [wp-hackers] Site Address during development
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E34C9@tbs-sbs01.TBS.local>
References: <p06240802c8a548196052@192.168.1.65>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
	<B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>
	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>
	<4C7FC071.8050208@elfden.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local>
	<AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com>
	<AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local>
	<AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34BC@tbs-sbs01.TBS.local>
	<4C80DA9D.5010007@gmail.com>
	<AANLkTikkSxj3fH-MQ5O6X53FQmPYpD-Rqn3kOpnO+acr@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34C0@tbs-sbs01.TBS.local>
	<4C80F495.9050107@elfden.co.uk>
	<AANLkTimCvLzZ0a+RXLYufrZVc9a4L3A+K6PgbeT0dbQ7@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34C9@tbs-sbs01.TBS.local>
Message-ID: <AANLkTik3a8d4QWsHqu8RgN11u+LMv5Hcyw6V7wxFo5gr@mail.gmail.com>

> I would also add, the database content should "not" be tied to a
> particular domain, and should just be content. Domains are, more often
> than not, not relevant to the content.

This may be stating the obvious, but: using absolute URLs for internal
links to other WordPress pages makes thing difficult if you change the
slugs; even worse if you move pages around.

I know WordPress tries to redirect things, but it might be better to
have a better way to create links to other WP pages.

From Greg at humhost.com  Fri Sep  3 15:47:47 2010
From: Greg at humhost.com (Greg Boggs)
Date: Fri, 03 Sep 2010 08:47:47 -0700
Subject: [wp-hackers] Site Address in Posts Table
In-Reply-To: <mailman.20147.1283513002.1338.wp-hackers@lists.automattic.com>
References: <mailman.20147.1283513002.1338.wp-hackers@lists.automattic.com>
Message-ID: <4C8118A3.2040002@humhost.com>

It's quite common in my practice to work with other people's existing 
wordpress sites. I've seen this problem come up again and again. Yes I 
can fix it with a DB query, no wordpress should not require an expert 
who is comfortable with SQL to fix stupid mistakes like this.

The URL for the server should not be in the database table for posts. 
Not only is this information redundant, having some posts set to one URL 
and others set another causes data integrity problems which manifests 
itself as broken websites.

The solution as was already suggested is to remove the URL from the 
posts table and read it from a file.

On 09/03/2010 04:23 AM, wp-hackers-request at lists.automattic.com wrote:
> Send wp-hackers mailing list submissions to
> 	wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
> 	http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
> 	wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
> 	wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
>     1. Re: Site Address during development (Mike Little)
>     2. Re: Site Address during development (Christian Gundersson)
>     3. Re: Site Address during development (Gavin Pearce)
>     4. Re: Site Address during development (Philip M. Hofer (Frumph))
>     5. Re: Site Address during development (Mike Little)
>     6. Re: Site Address during development (Gavin Pearce)
>     7. Re: Site Address during development (Bjorn Wijers)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Fri, 3 Sep 2010 09:57:12 +0100
> From: Mike Little<wordpress at zed1.com>
> Subject: Re: [wp-hackers] Site Address during development
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> On 3 September 2010 09:52, ErisDS<erisds at gmail.com>  wrote:
>
>    
>> I guess what's kinda irritating about this, is the "why", rather than the
>> "how to solve".
>> It just doesn't make sense why absolute URLs are embedded everywhere.
>>
>>
>>      
> Gavin,
> If you had followed this thread you would have already seen the answer:
>
> You *have* to have absolute URLs in RSS feeds and other non-browser
> situations, otherwise images, and especially podcasts would break, because
> the content is not being consumed in the context of the site and a browser.
>
> Mike
>    

From Gavin.Pearce at 3seven9.com  Fri Sep  3 15:51:48 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Fri, 3 Sep 2010 16:51:48 +0100
Subject: [wp-hackers] Site Address in Posts Table
In-Reply-To: <4C8118A3.2040002@humhost.com>
References: <mailman.20147.1283513002.1338.wp-hackers@lists.automattic.com>
	<4C8118A3.2040002@humhost.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E34D2@tbs-sbs01.TBS.local>

> The solution as was already suggested is to remove the URL from the
posts table and read it from a file.

+1 (well then again I did suggest it ;)

Jokes aside, I can't see what people are complaining about here? The
pros seem to outweight the cons by a large margin.

There will be cons with every feature (look at the Wordpress to
WordPress "feature" for example).

More than happy to patch up core if we get the support of someone with
commit privleges, else this will fall by the way-side the second it hits
Trac.

G



-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Greg Boggs
Sent: 03 September 2010 16:48
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Site Address in Posts Table

It's quite common in my practice to work with other people's existing 
wordpress sites. I've seen this problem come up again and again. Yes I 
can fix it with a DB query, no wordpress should not require an expert 
who is comfortable with SQL to fix stupid mistakes like this.

The URL for the server should not be in the database table for posts. 
Not only is this information redundant, having some posts set to one URL

and others set another causes data integrity problems which manifests 
itself as broken websites.

The solution as was already suggested is to remove the URL from the 
posts table and read it from a file.

On 09/03/2010 04:23 AM, wp-hackers-request at lists.automattic.com wrote:
> Send wp-hackers mailing list submissions to
> 	wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
> 	http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
> 	wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
> 	wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
>     1. Re: Site Address during development (Mike Little)
>     2. Re: Site Address during development (Christian Gundersson)
>     3. Re: Site Address during development (Gavin Pearce)
>     4. Re: Site Address during development (Philip M. Hofer (Frumph))
>     5. Re: Site Address during development (Mike Little)
>     6. Re: Site Address during development (Gavin Pearce)
>     7. Re: Site Address during development (Bjorn Wijers)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Fri, 3 Sep 2010 09:57:12 +0100
> From: Mike Little<wordpress at zed1.com>
> Subject: Re: [wp-hackers] Site Address during development
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> On 3 September 2010 09:52, ErisDS<erisds at gmail.com>  wrote:
>
>    
>> I guess what's kinda irritating about this, is the "why", rather than
the
>> "how to solve".
>> It just doesn't make sense why absolute URLs are embedded everywhere.
>>
>>
>>      
> Gavin,
> If you had followed this thread you would have already seen the
answer:
>
> You *have* to have absolute URLs in RSS feeds and other non-browser
> situations, otherwise images, and especially podcasts would break,
because
> the content is not being consumed in the context of the site and a
browser.
>
> Mike
>    
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From erisds at gmail.com  Fri Sep  3 15:53:48 2010
From: erisds at gmail.com (ErisDS)
Date: Fri, 3 Sep 2010 16:53:48 +0100
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65>
	<CD47955B7E065D48AB5CF226C2ED75C02E349E@tbs-sbs01.TBS.local>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
	<B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>
	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>
	<4C7FC071.8050208@elfden.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local>
	<AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com>
	<AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local>
	<AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com>
Message-ID: <AANLkTim-4W7Q2OOrBR=VQngNFCpRQPYc+_g4jZaZk_dh@mail.gmail.com>

>
> The problem with any perceived problem like this, is that a very small
> minority of WordPress users have this problem (i.e. moving sites), and are,
> in this case,  knowledgeable enough to overcome the problem.
>
> Most WordPress users (11 million plus) do not move their sites, but *do*
> have their sites read through feed readers, aggregated on other sites, and
> their podcasts listened to in iTunes.
>
> So although the vocal developers on this list can see a need, in fact their
> use case for the problem is
> a) a very tiny minority, and
> b) only occurs once when a site is moved. All other times it is fine the
> way
> it works now.


I think your argument works against you as much as it does for you. Most of
the 11million general populous users, should they want to move their site,
wouldn't be able to.
I've seen this issue raised around the internet by "general" users enough to
think it is a problem for the general 11mil - it is less of a problem for me
and other devs.

I pointed out that for me the why is more of an issue than the how to solve.
Personally I am knowledgable enough to solve the problem, and love WordPress
enough that it doesn't annoy me or put me off.
However, knowing other CMS and frameworks as I do, WordPress is the one of
the few that has this issue - those that have a hard coded URL it is only
encoded in one or two places. So if WP only had the home and siteurl options
hardcoded, this would be on a par - but this is not the case. I understand
the RSS argument, but still think the hardcoded URLs could be generated on
the fly - this isn't a hard and fast reason FOR having hard coded URLs.

From shacker at birdhouse.org  Fri Sep  3 15:54:43 2010
From: shacker at birdhouse.org (Scot Hacker)
Date: Fri, 3 Sep 2010 08:54:43 -0700
Subject: [wp-hackers] Site Address during development
In-Reply-To: <mailman.20147.1283513002.1338.wp-hackers@lists.automattic.com>
References: <mailman.20147.1283513002.1338.wp-hackers@lists.automattic.com>
Message-ID: <E63A54CB-A7BA-472B-BAB5-55C76371EBF3@birdhouse.org>

> I'm pretty certain we can fix this in such a way that content still is 
> addressable by one url (as explained by Otto) by making use of the 
> already existing WP_SITEURL and WP_HOME constants.
> 
> Instead of writing the absolute url to the database we can assemble the 
> absolute url on-the-fly and thus make sure all content will have an 
> absolute url (for feeds and other purposes).
> 
> It seems so easy and I'm probably not the first proposing this. So why 
> hasn't this been done yet? Am I missing something?
> 
> If so please enlighten me :)

Huge +1 on this from me. Those 11 million WP users who never move their sites may not notice, but a lot of those 11 million sites are created FOR the users on development boxes or staging servers and have to be moved into place later, or worked on in multiple environments simultaneously. 

Even if it doesn't affect a majority of users, hard-wiring URLs is just a bad architectural choice on WP's part. I spend most of my development time doing Django and WordPress work. Django never hard-codes domains into URLs - all URLs are built on the fly. The advantages this provides in terms of working on sites in local development, staging, and production (with copies of the  same database) is significant. This aspect of WP's architecture feels hokey in comparison.

./s


From gcorne at bu.edu  Fri Sep  3 16:26:01 2010
From: gcorne at bu.edu (Cornelius, Gregory)
Date: Fri, 3 Sep 2010 12:26:01 -0400
Subject: [wp-hackers] Site Address in Posts Table
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E34D2@tbs-sbs01.TBS.local>
References: <mailman.20147.1283513002.1338.wp-hackers@lists.automattic.com>
	<4C8118A3.2040002@humhost.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34D2@tbs-sbs01.TBS.local>
Message-ID: <8D8813E9-54DB-4633-B266-5DBA97C3D00E@bu.edu>


> Jokes aside, I can't see what people are complaining about here? The
> pros seem to outweight the cons by a large margin.

I think you are oversimplifying the issue.  There are numerous ways that URIs that point to WordPress resources can be added to a site.   Moving from one domain to another requires that all of these instances which are scattered throughout postmeta, options, posts, and possibly other tables to be updated.  I have modified the url that is stored and inserted when media is added to a page, but this only covers a small subset.

And, the WordPress data can also be used in various ways.   For example, a multi-site installation might aggregate posts and display them on a second domain, or a plugin might push posts to other services.  

Inferring that this is a simple problem with a simple solution without any ramifications is not productive.




From Gavin.Pearce at 3seven9.com  Fri Sep  3 16:36:42 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Fri, 3 Sep 2010 17:36:42 +0100
Subject: [wp-hackers] Site Address in Posts Table
In-Reply-To: <8D8813E9-54DB-4633-B266-5DBA97C3D00E@bu.edu>
References: <mailman.20147.1283513002.1338.wp-hackers@lists.automattic.com><4C8118A3.2040002@humhost.com><CD47955B7E065D48AB5CF226C2ED75C02E34D2@tbs-sbs01.TBS.local>
	<8D8813E9-54DB-4633-B266-5DBA97C3D00E@bu.edu>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E34D7@tbs-sbs01.TBS.local>

> Inferring that this is a simple problem with a simple solution without
any ramifications is not productive.

My apologies for not making this clear - that fixing the problem has
complexities I understand. 

The simple part is that this issue 'needs' fixing.

Gavin


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Cornelius,
Gregory
Sent: 03 September 2010 17:26
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Site Address in Posts Table


> Jokes aside, I can't see what people are complaining about here? The
> pros seem to outweight the cons by a large margin.

I think you are oversimplifying the issue.  There are numerous ways that
URIs that point to WordPress resources can be added to a site.   Moving
from one domain to another requires that all of these instances which
are scattered throughout postmeta, options, posts, and possibly other
tables to be updated.  I have modified the url that is stored and
inserted when media is added to a page, but this only covers a small
subset.

And, the WordPress data can also be used in various ways.   For example,
a multi-site installation might aggregate posts and display them on a
second domain, or a plugin might push posts to other services.  

Inferring that this is a simple problem with a simple solution without
any ramifications is not productive.



_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Fri Sep  3 16:38:35 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 3 Sep 2010 12:38:35 -0400
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTimCvLzZ0a+RXLYufrZVc9a4L3A+K6PgbeT0dbQ7@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65>
	<AANLkTikJSF=5+HeHEb6VTBZSP2i9_pOyHUsazuoisATt@mail.gmail.com>
	<AANLkTik5Ao0Wj1j_zd2M9gm8WvTVRHVeJQY9a1=+aun_@mail.gmail.com>
	<B9A8A68E-CEF1-4F65-8283-0EEC4F235D18@zippykid.com>
	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>
	<4C7FC071.8050208@elfden.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local>
	<AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com>
	<AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local>
	<AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34BC@tbs-sbs01.TBS.local>
	<4C80DA9D.5010007@gmail.com>
	<AANLkTikkSxj3fH-MQ5O6X53FQmPYpD-Rqn3kOpnO+acr@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E34C0@tbs-sbs01.TBS.local>
	<4C80F495.9050107@elf
	den.co.uk> <CD47955B7E065D48AB5CF226C2ED75C02E34C1@tbs-sbs01.TBS.local>
	<AANLkTimCvLzZ0a+RXLYufrZVc9a4L3A+K6PgbeT0dbQ7@mail.gmail.com>
Message-ID: <60407D18-363D-4364-9742-E67253C2D6AA@newclarity.net>

On Sep 3, 2010, at 10:51 AM, Jeremy Clarke wrote:
> To summarize the (simplest) plugin that I think would be ideal based on all
> this discussion:
> 
>   - Offer a way to define a development URL to override the one in the db
>   (in conjunction with the wp-config constants)
>   - Filter all post data being *saved* to the db to use the original 'live'
>   url from the wp_options table
>   - Filter all *displayed* post data to str_replace the dev url with the
>   live one
> 
> Reasons:
> 
>   - Ensures that the hardcoded urls in the database will work on live.
>   - During dev the two levels of filtering (during save and during display)
>   might waste resources but once the site is launched all URLs will work
>   without filtering.
>   - It basically allows for the hosts file trick but without needing you to
>   manage hosts files, I think it could all be done with a plugin.
> 
> IMHO this would be a great candidate for a Canonical/Core plugin. Lots of
> people need it but having it in core would be very confusing for the
> majority of WP users.

This does the defining of the development URL (and other needed info) and it does the filtering:

http://mikeschinkel.com/downloads/wp-migrate-webhosts-0.5.zip
http://wordpress.stackexchange.com/questions/119/

I mentioned in earlier in the thread and asked for feedback:

http://lists.automattic.com/pipermail/wp-hackers/2010-September/034611.html

-Mike


From andrew at graymerica.com  Fri Sep  3 16:46:13 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Fri, 3 Sep 2010 12:46:13 -0400
Subject: [wp-hackers] Site Address during development
Message-ID: <B9481B1F-7C7B-4D6F-BFA5-704D912B9598@graymerica.com>

I would like to put my vote in for a WP wide method for inserting the current domain name on runtime.  I am not worried about the overhead, and It could very easily be made into a option or even a config value that has to be hard coded in WP Config.  I would be more than happy to write the patches for this if there was a chance that it would be accepted into the core.  This would allow plugin developers to hook into it for their plugins.  

ErisDs,

Would you be willing to provide your script to be used as part of our development plugin.  Mike S and I are going to build a plugin to handle all these use cases and I would like to see what you are doing,

thanks,

Andrew




>> 
> I have a script I add to every WP project, which I can run each time I push
> changes to a different server. It's very basic but it works.
> At the end of the day, the script is written now and it takes me an
> additional 30 seconds to run it each time I push, considering all the GREAT
> things WP offers, this is hardly a deal breaker!

From rbilesky at gmail.com  Fri Sep  3 17:03:57 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 3 Sep 2010 10:03:57 -0700
Subject: [wp-hackers] Site Address during development
In-Reply-To: <B9481B1F-7C7B-4D6F-BFA5-704D912B9598@graymerica.com>
References: <B9481B1F-7C7B-4D6F-BFA5-704D912B9598@graymerica.com>
Message-ID: <AANLkTin6R1ELWFv-113ar029j5+xyr+hARn8bhJK9jzC@mail.gmail.com>

I have to disagree with whoever said that instering the domain at runtime
would be "solving a problem that does not exist".  It is a problem, it may
not be one that occurs often but it is a problem.  And may even occur for
regular users of wordpres if they decide to ever change their domain name
for any reason.  Now they could just export their content, import to a new
site, but thats extra work they shouldn't have to do.

It is quite redundant to be storing the domain all those times in the
database and does make more sense IMO to just store the relitive path and
pull the domain value from wp-config.  And look at it this way, even though
it might add a little tiny bit of overhead, it also shrinks the size of the
database (albeit not by much, but that can add up on a large site and doing
so doesn't add that much overhead).

My vote is to use the domain from wp-config.

On Fri, Sep 3, 2010 at 9:46 AM, Andrew Gray <andrew at graymerica.com> wrote:

> I would like to put my vote in for a WP wide method for inserting the
> current domain name on runtime.  I am not worried about the overhead, and It
> could very easily be made into a option or even a config value that has to
> be hard coded in WP Config.  I would be more than happy to write the patches
> for this if there was a chance that it would be accepted into the core.
>  This would allow plugin developers to hook into it for their plugins.
>
> ErisDs,
>
> Would you be willing to provide your script to be used as part of our
> development plugin.  Mike S and I are going to build a plugin to handle all
> these use cases and I would like to see what you are doing,
>
> thanks,
>
> Andrew
>
>
>
>
> >>
> > I have a script I add to every WP project, which I can run each time I
> push
> > changes to a different server. It's very basic but it works.
> > At the end of the day, the script is written now and it takes me an
> > additional 30 seconds to run it each time I push, considering all the
> GREAT
> > things WP offers, this is hardly a deal breaker!
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rbilesky at gmail.com  Fri Sep  3 17:03:57 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 3 Sep 2010 10:03:57 -0700
Subject: [wp-hackers] Site Address during development
In-Reply-To: <B9481B1F-7C7B-4D6F-BFA5-704D912B9598@graymerica.com>
References: <B9481B1F-7C7B-4D6F-BFA5-704D912B9598@graymerica.com>
Message-ID: <AANLkTin6R1ELWFv-113ar029j5+xyr+hARn8bhJK9jzC@mail.gmail.com>

I have to disagree with whoever said that instering the domain at runtime
would be "solving a problem that does not exist".  It is a problem, it may
not be one that occurs often but it is a problem.  And may even occur for
regular users of wordpres if they decide to ever change their domain name
for any reason.  Now they could just export their content, import to a new
site, but thats extra work they shouldn't have to do.

It is quite redundant to be storing the domain all those times in the
database and does make more sense IMO to just store the relitive path and
pull the domain value from wp-config.  And look at it this way, even though
it might add a little tiny bit of overhead, it also shrinks the size of the
database (albeit not by much, but that can add up on a large site and doing
so doesn't add that much overhead).

My vote is to use the domain from wp-config.

On Fri, Sep 3, 2010 at 9:46 AM, Andrew Gray <andrew at graymerica.com> wrote:

> I would like to put my vote in for a WP wide method for inserting the
> current domain name on runtime.  I am not worried about the overhead, and It
> could very easily be made into a option or even a config value that has to
> be hard coded in WP Config.  I would be more than happy to write the patches
> for this if there was a chance that it would be accepted into the core.
>  This would allow plugin developers to hook into it for their plugins.
>
> ErisDs,
>
> Would you be willing to provide your script to be used as part of our
> development plugin.  Mike S and I are going to build a plugin to handle all
> these use cases and I would like to see what you are doing,
>
> thanks,
>
> Andrew
>
>
>
>
> >>
> > I have a script I add to every WP project, which I can run each time I
> push
> > changes to a different server. It's very basic but it works.
> > At the end of the day, the script is written now and it takes me an
> > additional 30 seconds to run it each time I push, considering all the
> GREAT
> > things WP offers, this is hardly a deal breaker!
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From kstover at gmail.com  Fri Sep  3 18:27:19 2010
From: kstover at gmail.com (Kevin Stover)
Date: Fri, 3 Sep 2010 14:27:19 -0400
Subject: [wp-hackers] Tagging Images in WordPress 3.0
Message-ID: <AANLkTik1doWg35HHWhUsd457Or62BY=GUvTw+RqifekO@mail.gmail.com>

Hello everyone,

I've been a long time lurker on this list, but this is my first posting. I'm
developing a plugin for a client and needed some advice. At the moment, I'm
stuck at the point of adding tags to images. The images need to be tagged
separately from the site's main post tags. Would the best way to do this be
via a custom taxonomy? I'm fairly versed in PHP, but there are still some
holes in my WordPress db knowledge. As an old hand at php, my first instinct
is to create a custom table to handle the tags, but I fear this may not be
the best practice. What do you think? I should also mention that I'm
interested in writing something myself instead of just using an existing
plugin, partially to help me learn the WordPress db system a little better.

Thanks ahead of time for your help and advice,

Kevin Stover

From dragonfly at dragonflyeye.net  Fri Sep  3 18:29:33 2010
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Fri, 3 Sep 2010 14:29:33 -0400
Subject: [wp-hackers] Tagging Images in WordPress 3.0
In-Reply-To: <AANLkTik1doWg35HHWhUsd457Or62BY=GUvTw+RqifekO@mail.gmail.com>
References: <AANLkTik1doWg35HHWhUsd457Or62BY=GUvTw+RqifekO@mail.gmail.com>
Message-ID: <AANLkTikEa95sCEACyg5qiQoYyyDrtybWsEW8eQ-E-NMF@mail.gmail.com>

http://codex.wordpress.org/Custom_Taxonomies

No need to setup your own tables, just apply a new taxonomy to attachments.

On Fri, Sep 3, 2010 at 2:27 PM, Kevin Stover <kstover at gmail.com> wrote:

> Hello everyone,
>
> I've been a long time lurker on this list, but this is my first posting.
> I'm
> developing a plugin for a client and needed some advice. At the moment, I'm
> stuck at the point of adding tags to images. The images need to be tagged
> separately from the site's main post tags. Would the best way to do this be
> via a custom taxonomy? I'm fairly versed in PHP, but there are still some
> holes in my WordPress db knowledge. As an old hand at php, my first
> instinct
> is to create a custom table to handle the tags, but I fear this may not be
> the best practice. What do you think? I should also mention that I'm
> interested in writing something myself instead of just using an existing
> plugin, partially to help me learn the WordPress db system a little better.
>
> Thanks ahead of time for your help and advice,
>
> Kevin Stover
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From paul at codehooligans.com  Fri Sep  3 18:40:49 2010
From: paul at codehooligans.com (Paul)
Date: Fri, 3 Sep 2010 14:40:49 -0400
Subject: [wp-hackers] Tagging Images in WordPress 3.0
In-Reply-To: <AANLkTik1doWg35HHWhUsd457Or62BY=GUvTw+RqifekO@mail.gmail.com>
References: <AANLkTik1doWg35HHWhUsd457Or62BY=GUvTw+RqifekO@mail.gmail.com>
Message-ID: <6073C290-518A-4B3D-BBD3-72D6670FED82@codehooligans.com>

Actually you can try my plugin Media-Tags. http://wordpress.org/extend/plugins/media-tags/

I wrote it for the purpose of tagging images. It uses the new WP Taxonomy system. 

P-


On Sep 3, 2010, at 2:27 PM, Kevin Stover wrote:

> Hello everyone,
> 
> I've been a long time lurker on this list, but this is my first posting. I'm
> developing a plugin for a client and needed some advice. At the moment, I'm
> stuck at the point of adding tags to images. The images need to be tagged
> separately from the site's main post tags. Would the best way to do this be
> via a custom taxonomy? I'm fairly versed in PHP, but there are still some
> holes in my WordPress db knowledge. As an old hand at php, my first instinct
> is to create a custom table to handle the tags, but I fear this may not be
> the best practice. What do you think? I should also mention that I'm
> interested in writing something myself instead of just using an existing
> plugin, partially to help me learn the WordPress db system a little better.
> 
> Thanks ahead of time for your help and advice,
> 
> Kevin Stover
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From philip at frumph.net  Fri Sep  3 18:44:35 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Fri, 3 Sep 2010 11:44:35 -0700
Subject: [wp-hackers] Tagging Images in WordPress 3.0
In-Reply-To: <6073C290-518A-4B3D-BBD3-72D6670FED82@codehooligans.com>
References: <AANLkTik1doWg35HHWhUsd457Or62BY=GUvTw+RqifekO@mail.gmail.com>
	<6073C290-518A-4B3D-BBD3-72D6670FED82@codehooligans.com>
Message-ID: <16474929DF0D4E2B9E53D392B846FE1F@frumph.net>

Now we need it so that you can separate the images in the media manager by 
tags ;/ then i'd be a super happy camper

- Phil

----- Original Message ----- 
From: "Paul" <paul at codehooligans.com>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, September 03, 2010 11:40 AM
Subject: Re: [wp-hackers] Tagging Images in WordPress 3.0


> Actually you can try my plugin Media-Tags. 
> http://wordpress.org/extend/plugins/media-tags/
>
> I wrote it for the purpose of tagging images. It uses the new WP Taxonomy 
> system.
>
> P-
>
>
> On Sep 3, 2010, at 2:27 PM, Kevin Stover wrote:
>
>> Hello everyone,
>>
>> I've been a long time lurker on this list, but this is my first posting. 
>> I'm
>> developing a plugin for a client and needed some advice. At the moment, 
>> I'm
>> stuck at the point of adding tags to images. The images need to be tagged
>> separately from the site's main post tags. Would the best way to do this 
>> be
>> via a custom taxonomy? I'm fairly versed in PHP, but there are still some
>> holes in my WordPress db knowledge. As an old hand at php, my first 
>> instinct
>> is to create a custom table to handle the tags, but I fear this may not 
>> be
>> the best practice. What do you think? I should also mention that I'm
>> interested in writing something myself instead of just using an existing
>> plugin, partially to help me learn the WordPress db system a little 
>> better.
>>
>> Thanks ahead of time for your help and advice,
>>
>> Kevin Stover
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From dangayle at gmail.com  Fri Sep  3 18:46:45 2010
From: dangayle at gmail.com (Dan Gayle)
Date: Fri, 3 Sep 2010 11:46:45 -0700
Subject: [wp-hackers] WP Trac Loads jQuery 3 times
Message-ID: <AANLkTimuCiRy9YVGQSXhB-R5MtGTY46HtoQSu+79goPb@mail.gmail.com>

I don't know where to post this, but I happened to have Firebug open
when looking at this page on Trac:
http://core.trac.wordpress.org/query?status=reopened&status=assigned&status=reviewing&status=new&status=accepted&group=status&milestone=3.0.2

You'll notice that jQuery is running three times, once from the site
itself and twice! from Google. FYI.

From paul at codehooligans.com  Fri Sep  3 18:55:37 2010
From: paul at codehooligans.com (Paul)
Date: Fri, 3 Sep 2010 14:55:37 -0400
Subject: [wp-hackers] Tagging Images in WordPress 3.0
In-Reply-To: <16474929DF0D4E2B9E53D392B846FE1F@frumph.net>
References: <AANLkTik1doWg35HHWhUsd457Or62BY=GUvTw+RqifekO@mail.gmail.com>
	<6073C290-518A-4B3D-BBD3-72D6670FED82@codehooligans.com>
	<16474929DF0D4E2B9E53D392B846FE1F@frumph.net>
Message-ID: <16E037D1-1F34-476A-9ED6-497C487B2CB9@codehooligans.com>

Phil,

If you mean for the front-end theme you should be able to do this. The plugin adds it's own rewrite rules for you can create archive pages based on the tag name like http://www.yoursite.com/media-tags/some-tag-slug.

Under Settings Permalinks you can change the '/media-tags/' URI to something of your choice like 'gallery', 'photos', etc. 

P-


On Sep 3, 2010, at 2:44 PM, Philip M. Hofer (Frumph) wrote:

> Now we need it so that you can separate the images in the media manager by tags ;/ then i'd be a super happy camper
> 
> - Phil
> 
> ----- Original Message ----- From: "Paul" <paul at codehooligans.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Friday, September 03, 2010 11:40 AM
> Subject: Re: [wp-hackers] Tagging Images in WordPress 3.0
> 
> 
>> Actually you can try my plugin Media-Tags. http://wordpress.org/extend/plugins/media-tags/
>> 
>> I wrote it for the purpose of tagging images. It uses the new WP Taxonomy system.
>> 
>> P-
>> 
>> 
>> On Sep 3, 2010, at 2:27 PM, Kevin Stover wrote:
>> 
>>> Hello everyone,
>>> 
>>> I've been a long time lurker on this list, but this is my first posting. I'm
>>> developing a plugin for a client and needed some advice. At the moment, I'm
>>> stuck at the point of adding tags to images. The images need to be tagged
>>> separately from the site's main post tags. Would the best way to do this be
>>> via a custom taxonomy? I'm fairly versed in PHP, but there are still some
>>> holes in my WordPress db knowledge. As an old hand at php, my first instinct
>>> is to create a custom table to handle the tags, but I fear this may not be
>>> the best practice. What do you think? I should also mention that I'm
>>> interested in writing something myself instead of just using an existing
>>> plugin, partially to help me learn the WordPress db system a little better.
>>> 
>>> Thanks ahead of time for your help and advice,
>>> 
>>> Kevin Stover
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From eric at eamann.com  Fri Sep  3 18:56:47 2010
From: eric at eamann.com (Eric Mann)
Date: Fri, 3 Sep 2010 11:56:47 -0700 (PDT)
Subject: [wp-hackers] WP Trac Loads jQuery 3 times
In-Reply-To: <AANLkTimuCiRy9YVGQSXhB-R5MtGTY46HtoQSu+79goPb@mail.gmail.com>
References: <AANLkTimuCiRy9YVGQSXhB-R5MtGTY46HtoQSu+79goPb@mail.gmail.com>
Message-ID: <1569659811.167347.1283540207357.JavaMail.open-xchange@oxusltgw07.schlund.de>

I double checked in Firebug here. ?I see it loading jQuery 1.2.6 from Trac
(http://core.trac.wordpress.org/chrome/common/js/jquery.js) ... then loading a
minified version of 1.3 from Google's CDN
(http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js).
?
I don't see it loading jQuery twice from Google ... but it does load a jQuery
plug-in required by After the Deadline.
?
Is there any reason we're loading two version of jQuery from two different
sources?
?
On September 3, 2010 at 6:46 PM Dan Gayle <dangayle at gmail.com> wrote:

> I don't know where to post this, but I happened to have Firebug open
> when looking at this page on Trac:
> http://core.trac.wordpress.org/query?status=reopened&status=assigned&status=reviewing&status=new&status=accepted&group=status&milestone=3.0.2
>
> You'll notice that jQuery is running three times, once from the site
> itself and twice! from Google. FYI.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From philip at frumph.net  Fri Sep  3 18:58:10 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Fri, 3 Sep 2010 11:58:10 -0700
Subject: [wp-hackers] Tagging Images in WordPress 3.0
In-Reply-To: <16E037D1-1F34-476A-9ED6-497C487B2CB9@codehooligans.com>
References: <AANLkTik1doWg35HHWhUsd457Or62BY=GUvTw+RqifekO@mail.gmail.com><6073C290-518A-4B3D-BBD3-72D6670FED82@codehooligans.com><16474929DF0D4E2B9E53D392B846FE1F@frumph.net>
	<16E037D1-1F34-476A-9ED6-497C487B2CB9@codehooligans.com>
Message-ID: <7BECF52B3620467DA20670BAA5A53C9E@frumph.net>

No sir, I mean in wp-admin (dashboard) -> Media

I have in excess of 300+ images in there and clicking the page by page to 
find the one I want to use for a featured image is a bit of a pain, being 
able to call up just the ones tagged a certain way would certainly be nice.

- Phil


----- Original Message ----- 
From: "Paul" <paul at codehooligans.com>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, September 03, 2010 11:55 AM
Subject: Re: [wp-hackers] Tagging Images in WordPress 3.0


> Phil,
>
> If you mean for the front-end theme you should be able to do this. The 
> plugin adds it's own rewrite rules for you can create archive pages based 
> on the tag name like http://www.yoursite.com/media-tags/some-tag-slug.
>
> Under Settings Permalinks you can change the '/media-tags/' URI to 
> something of your choice like 'gallery', 'photos', etc.
>
> P-
>
>
> On Sep 3, 2010, at 2:44 PM, Philip M. Hofer (Frumph) wrote:
>
>> Now we need it so that you can separate the images in the media manager 
>> by tags ;/ then i'd be a super happy camper
>>
>> - Phil
>>
>> ----- Original Message ----- From: "Paul" <paul at codehooligans.com>
>> To: <wp-hackers at lists.automattic.com>
>> Sent: Friday, September 03, 2010 11:40 AM
>> Subject: Re: [wp-hackers] Tagging Images in WordPress 3.0
>>
>>
>>> Actually you can try my plugin Media-Tags. 
>>> http://wordpress.org/extend/plugins/media-tags/
>>>
>>> I wrote it for the purpose of tagging images. It uses the new WP 
>>> Taxonomy system.
>>>
>>> P-
>>>
>>>
>>> On Sep 3, 2010, at 2:27 PM, Kevin Stover wrote:
>>>
>>>> Hello everyone,
>>>>
>>>> I've been a long time lurker on this list, but this is my first 
>>>> posting. I'm
>>>> developing a plugin for a client and needed some advice. At the moment, 
>>>> I'm
>>>> stuck at the point of adding tags to images. The images need to be 
>>>> tagged
>>>> separately from the site's main post tags. Would the best way to do 
>>>> this be
>>>> via a custom taxonomy? I'm fairly versed in PHP, but there are still 
>>>> some
>>>> holes in my WordPress db knowledge. As an old hand at php, my first 
>>>> instinct
>>>> is to create a custom table to handle the tags, but I fear this may not 
>>>> be
>>>> the best practice. What do you think? I should also mention that I'm
>>>> interested in writing something myself instead of just using an 
>>>> existing
>>>> plugin, partially to help me learn the WordPress db system a little 
>>>> better.
>>>>
>>>> Thanks ahead of time for your help and advice,
>>>>
>>>> Kevin Stover
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From dragonfly at dragonflyeye.net  Fri Sep  3 19:03:27 2010
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Fri, 3 Sep 2010 15:03:27 -0400
Subject: [wp-hackers] Tagging Images in WordPress 3.0
In-Reply-To: <7BECF52B3620467DA20670BAA5A53C9E@frumph.net>
References: <AANLkTik1doWg35HHWhUsd457Or62BY=GUvTw+RqifekO@mail.gmail.com>
	<6073C290-518A-4B3D-BBD3-72D6670FED82@codehooligans.com>
	<16474929DF0D4E2B9E53D392B846FE1F@frumph.net>
	<16E037D1-1F34-476A-9ED6-497C487B2CB9@codehooligans.com>
	<7BECF52B3620467DA20670BAA5A53C9E@frumph.net>
Message-ID: <AANLkTimwQE3=0d+uzo9LCsfq=WWaK48nS6F61KR2CohA@mail.gmail.com>

Wonder if perhaps there's a hook for the search function that you could use?
Rewire it to include the available tags? Dunno, just spit-balling.

On Fri, Sep 3, 2010 at 2:58 PM, Philip M. Hofer (Frumph)
<philip at frumph.net>wrote:

> No sir, I mean in wp-admin (dashboard) -> Media
>
> I have in excess of 300+ images in there and clicking the page by page to
> find the one I want to use for a featured image is a bit of a pain, being
> able to call up just the ones tagged a certain way would certainly be nice.
>
> - Phil
>
>
> ----- Original Message ----- From: "Paul" <paul at codehooligans.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Friday, September 03, 2010 11:55 AM
> Subject: Re: [wp-hackers] Tagging Images in WordPress 3.0
>
>
>  Phil,
>>
>> If you mean for the front-end theme you should be able to do this. The
>> plugin adds it's own rewrite rules for you can create archive pages based on
>> the tag name like http://www.yoursite.com/media-tags/some-tag-slug.
>>
>> Under Settings Permalinks you can change the '/media-tags/' URI to
>> something of your choice like 'gallery', 'photos', etc.
>>
>> P-
>>
>>
>> On Sep 3, 2010, at 2:44 PM, Philip M. Hofer (Frumph) wrote:
>>
>>  Now we need it so that you can separate the images in the media manager
>>> by tags ;/ then i'd be a super happy camper
>>>
>>> - Phil
>>>
>>> ----- Original Message ----- From: "Paul" <paul at codehooligans.com>
>>> To: <wp-hackers at lists.automattic.com>
>>> Sent: Friday, September 03, 2010 11:40 AM
>>> Subject: Re: [wp-hackers] Tagging Images in WordPress 3.0
>>>
>>>
>>>  Actually you can try my plugin Media-Tags.
>>>> http://wordpress.org/extend/plugins/media-tags/
>>>>
>>>> I wrote it for the purpose of tagging images. It uses the new WP
>>>> Taxonomy system.
>>>>
>>>> P-
>>>>
>>>>
>>>> On Sep 3, 2010, at 2:27 PM, Kevin Stover wrote:
>>>>
>>>>  Hello everyone,
>>>>>
>>>>> I've been a long time lurker on this list, but this is my first
>>>>> posting. I'm
>>>>> developing a plugin for a client and needed some advice. At the moment,
>>>>> I'm
>>>>> stuck at the point of adding tags to images. The images need to be
>>>>> tagged
>>>>> separately from the site's main post tags. Would the best way to do
>>>>> this be
>>>>> via a custom taxonomy? I'm fairly versed in PHP, but there are still
>>>>> some
>>>>> holes in my WordPress db knowledge. As an old hand at php, my first
>>>>> instinct
>>>>> is to create a custom table to handle the tags, but I fear this may not
>>>>> be
>>>>> the best practice. What do you think? I should also mention that I'm
>>>>> interested in writing something myself instead of just using an
>>>>> existing
>>>>> plugin, partially to help me learn the WordPress db system a little
>>>>> better.
>>>>>
>>>>> Thanks ahead of time for your help and advice,
>>>>>
>>>>> Kevin Stover
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From kstover at gmail.com  Fri Sep  3 19:06:40 2010
From: kstover at gmail.com (Kevin Stover)
Date: Fri, 3 Sep 2010 15:06:40 -0400
Subject: [wp-hackers] Tagging Images in WordPress 3.0
In-Reply-To: <AANLkTimwQE3=0d+uzo9LCsfq=WWaK48nS6F61KR2CohA@mail.gmail.com>
References: <AANLkTik1doWg35HHWhUsd457Or62BY=GUvTw+RqifekO@mail.gmail.com>
	<6073C290-518A-4B3D-BBD3-72D6670FED82@codehooligans.com>
	<16474929DF0D4E2B9E53D392B846FE1F@frumph.net>
	<16E037D1-1F34-476A-9ED6-497C487B2CB9@codehooligans.com>
	<7BECF52B3620467DA20670BAA5A53C9E@frumph.net>
	<AANLkTimwQE3=0d+uzo9LCsfq=WWaK48nS6F61KR2CohA@mail.gmail.com>
Message-ID: <AANLkTi=HCNdG0SX4wTTYtNXW_nieACos2hAeofg9XPBU@mail.gmail.com>

Thanks to everyone for their comments.

@Paul - I'll download it and try it out. I'm really having a hard time
wrapping my mind around custom taxonomies for some reason, so breaking down
your code may help me with that. Thanks

- Kevin

From paul at codehooligans.com  Fri Sep  3 20:21:11 2010
From: paul at codehooligans.com (Paul)
Date: Fri, 3 Sep 2010 16:21:11 -0400
Subject: [wp-hackers] Tagging Images in WordPress 3.0
In-Reply-To: <7BECF52B3620467DA20670BAA5A53C9E@frumph.net>
References: <AANLkTik1doWg35HHWhUsd457Or62BY=GUvTw+RqifekO@mail.gmail.com>
	<6073C290-518A-4B3D-BBD3-72D6670FED82@codehooligans.com>
	<16474929DF0D4E2B9E53D392B846FE1F@frumph.net>
	<16E037D1-1F34-476A-9ED6-497C487B2CB9@codehooligans.com>
	<7BECF52B3620467DA20670BAA5A53C9E@frumph.net>
Message-ID: <BCD383FE-CFCD-4135-B84A-55F17FB4ED6C@codehooligans.com>

Phil

Under Media the plugin adds a Media-Tags option. This lists the media tags. In the far column of that display us a column with the number of times the tag is used. If you click on the link is basically does a filter of the media library.

Closest I can get you. The plugin also adds a tab to the media popup with the same basic functionality.

Sent from my iPhone...

On Sep 3, 2010, at 2:58 PM, "Philip M. Hofer \(Frumph\)" <philip at frumph.net> wrote:

> No sir, I mean in wp-admin (dashboard) -> Media
> 
> I have in excess of 300+ images in there and clicking the page by page to find the one I want to use for a featured image is a bit of a pain, being able to call up just the ones tagged a certain way would certainly be nice.
> 
> - Phil
> 
> 
> ----- Original Message ----- From: "Paul" <paul at codehooligans.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Friday, September 03, 2010 11:55 AM
> Subject: Re: [wp-hackers] Tagging Images in WordPress 3.0
> 
> 
>> Phil,
>> 
>> If you mean for the front-end theme you should be able to do this. The plugin adds it's own rewrite rules for you can create archive pages based on the tag name like http://www.yoursite.com/media-tags/some-tag-slug.
>> 
>> Under Settings Permalinks you can change the '/media-tags/' URI to something of your choice like 'gallery', 'photos', etc.
>> 
>> P-
>> 
>> 
>> On Sep 3, 2010, at 2:44 PM, Philip M. Hofer (Frumph) wrote:
>> 
>>> Now we need it so that you can separate the images in the media manager by tags ;/ then i'd be a super happy camper
>>> 
>>> - Phil
>>> 
>>> ----- Original Message ----- From: "Paul" <paul at codehooligans.com>
>>> To: <wp-hackers at lists.automattic.com>
>>> Sent: Friday, September 03, 2010 11:40 AM
>>> Subject: Re: [wp-hackers] Tagging Images in WordPress 3.0
>>> 
>>> 
>>>> Actually you can try my plugin Media-Tags. http://wordpress.org/extend/plugins/media-tags/
>>>> 
>>>> I wrote it for the purpose of tagging images. It uses the new WP Taxonomy system.
>>>> 
>>>> P-
>>>> 
>>>> 
>>>> On Sep 3, 2010, at 2:27 PM, Kevin Stover wrote:
>>>> 
>>>>> Hello everyone,
>>>>> 
>>>>> I've been a long time lurker on this list, but this is my first posting. I'm
>>>>> developing a plugin for a client and needed some advice. At the moment, I'm
>>>>> stuck at the point of adding tags to images. The images need to be tagged
>>>>> separately from the site's main post tags. Would the best way to do this be
>>>>> via a custom taxonomy? I'm fairly versed in PHP, but there are still some
>>>>> holes in my WordPress db knowledge. As an old hand at php, my first instinct
>>>>> is to create a custom table to handle the tags, but I fear this may not be
>>>>> the best practice. What do you think? I should also mention that I'm
>>>>> interested in writing something myself instead of just using an existing
>>>>> plugin, partially to help me learn the WordPress db system a little better.
>>>>> 
>>>>> Thanks ahead of time for your help and advice,
>>>>> 
>>>>> Kevin Stover
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From philip at frumph.net  Fri Sep  3 20:22:31 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Fri, 3 Sep 2010 13:22:31 -0700
Subject: [wp-hackers] Tagging Images in WordPress 3.0
In-Reply-To: <BCD383FE-CFCD-4135-B84A-55F17FB4ED6C@codehooligans.com>
References: <AANLkTik1doWg35HHWhUsd457Or62BY=GUvTw+RqifekO@mail.gmail.com><6073C290-518A-4B3D-BBD3-72D6670FED82@codehooligans.com><16474929DF0D4E2B9E53D392B846FE1F@frumph.net><16E037D1-1F34-476A-9ED6-497C487B2CB9@codehooligans.com><7BECF52B3620467DA20670BAA5A53C9E@frumph.net>
	<BCD383FE-CFCD-4135-B84A-55F17FB4ED6C@codehooligans.com>
Message-ID: <AC453091A1FD447282BB23D68FBB8188@frumph.net>

Giving it a try right now, thanks Paul

- Phil
----- Original Message ----- 
From: "Paul" <paul at codehooligans.com>
To: <wp-hackers at lists.automattic.com>
Cc: <wp-hackers at lists.automattic.com>
Sent: Friday, September 03, 2010 1:21 PM
Subject: Re: [wp-hackers] Tagging Images in WordPress 3.0


> Phil
>
> Under Media the plugin adds a Media-Tags option. This lists the media 
> tags. In the far column of that display us a column with the number of 
> times the tag is used. If you click on the link is basically does a filter 
> of the media library.
>
> Closest I can get you. The plugin also adds a tab to the media popup with 
> the same basic functionality.
>
> Sent from my iPhone...
>
> On Sep 3, 2010, at 2:58 PM, "Philip M. Hofer \(Frumph\)" 
> <philip at frumph.net> wrote:
>
>> No sir, I mean in wp-admin (dashboard) -> Media
>>
>> I have in excess of 300+ images in there and clicking the page by page to 
>> find the one I want to use for a featured image is a bit of a pain, being 
>> able to call up just the ones tagged a certain way would certainly be 
>> nice.
>>
>> - Phil
>>
>>
>> ----- Original Message ----- From: "Paul" <paul at codehooligans.com>
>> To: <wp-hackers at lists.automattic.com>
>> Sent: Friday, September 03, 2010 11:55 AM
>> Subject: Re: [wp-hackers] Tagging Images in WordPress 3.0
>>
>>
>>> Phil,
>>>
>>> If you mean for the front-end theme you should be able to do this. The 
>>> plugin adds it's own rewrite rules for you can create archive pages 
>>> based on the tag name like 
>>> http://www.yoursite.com/media-tags/some-tag-slug.
>>>
>>> Under Settings Permalinks you can change the '/media-tags/' URI to 
>>> something of your choice like 'gallery', 'photos', etc.
>>>
>>> P-
>>>
>>>
>>> On Sep 3, 2010, at 2:44 PM, Philip M. Hofer (Frumph) wrote:
>>>
>>>> Now we need it so that you can separate the images in the media manager 
>>>> by tags ;/ then i'd be a super happy camper
>>>>
>>>> - Phil
>>>>
>>>> ----- Original Message ----- From: "Paul" <paul at codehooligans.com>
>>>> To: <wp-hackers at lists.automattic.com>
>>>> Sent: Friday, September 03, 2010 11:40 AM
>>>> Subject: Re: [wp-hackers] Tagging Images in WordPress 3.0
>>>>
>>>>
>>>>> Actually you can try my plugin Media-Tags. 
>>>>> http://wordpress.org/extend/plugins/media-tags/
>>>>>
>>>>> I wrote it for the purpose of tagging images. It uses the new WP 
>>>>> Taxonomy system.
>>>>>
>>>>> P-
>>>>>
>>>>>
>>>>> On Sep 3, 2010, at 2:27 PM, Kevin Stover wrote:
>>>>>
>>>>>> Hello everyone,
>>>>>>
>>>>>> I've been a long time lurker on this list, but this is my first 
>>>>>> posting. I'm
>>>>>> developing a plugin for a client and needed some advice. At the 
>>>>>> moment, I'm
>>>>>> stuck at the point of adding tags to images. The images need to be 
>>>>>> tagged
>>>>>> separately from the site's main post tags. Would the best way to do 
>>>>>> this be
>>>>>> via a custom taxonomy? I'm fairly versed in PHP, but there are still 
>>>>>> some
>>>>>> holes in my WordPress db knowledge. As an old hand at php, my first 
>>>>>> instinct
>>>>>> is to create a custom table to handle the tags, but I fear this may 
>>>>>> not be
>>>>>> the best practice. What do you think? I should also mention that I'm
>>>>>> interested in writing something myself instead of just using an 
>>>>>> existing
>>>>>> plugin, partially to help me learn the WordPress db system a little 
>>>>>> better.
>>>>>>
>>>>>> Thanks ahead of time for your help and advice,
>>>>>>
>>>>>> Kevin Stover
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From paul at codehooligans.com  Fri Sep  3 20:23:43 2010
From: paul at codehooligans.com (Paul)
Date: Fri, 3 Sep 2010 16:23:43 -0400
Subject: [wp-hackers] Tagging Images in WordPress 3.0
In-Reply-To: <AANLkTi=HCNdG0SX4wTTYtNXW_nieACos2hAeofg9XPBU@mail.gmail.com>
References: <AANLkTik1doWg35HHWhUsd457Or62BY=GUvTw+RqifekO@mail.gmail.com>
	<6073C290-518A-4B3D-BBD3-72D6670FED82@codehooligans.com>
	<16474929DF0D4E2B9E53D392B846FE1F@frumph.net>
	<16E037D1-1F34-476A-9ED6-497C487B2CB9@codehooligans.com>
	<7BECF52B3620467DA20670BAA5A53C9E@frumph.net>
	<AANLkTimwQE3=0d+uzo9LCsfq=WWaK48nS6F61KR2CohA@mail.gmail.com>
	<AANLkTi=HCNdG0SX4wTTYtNXW_nieACos2hAeofg9XPBU@mail.gmail.com>
Message-ID: <67CCEBC6-5626-4404-8D65-EE4D4CA66261@codehooligans.com>

Kevin,

All the custom rewrite logic is in mediatag_rewrite.php

Though I'm working on version 3.0 Trying to use the built-in rewrite logic.

Best of luck.

Sent from my iPhone...

On Sep 3, 2010, at 3:06 PM, Kevin Stover <kstover at gmail.com> wrote:

> Thanks to everyone for their comments.
> 
> @Paul - I'll download it and try it out. I'm really having a hard time
> wrapping my mind around custom taxonomies for some reason, so breaking down
> your code may help me with that. Thanks
> 
> - Kevin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at santosj.name  Fri Sep  3 20:25:38 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Fri, 3 Sep 2010 15:25:38 -0500
Subject: [wp-hackers] calling a theme file from functions.php
In-Reply-To: <AANLkTi=3ZTDi8GG8V5Hc85wqgVgL6rXB=L-pFdh83Cts@mail.gmail.com>
References: <AANLkTinLHV87u22EwczHqE_s2Q4zTJUWrAoTkLTWqd2q@mail.gmail.com>
	<AANLkTi=8=5Epj6MKKfLF2DX3EtOxbRgwdxENNTKguDg_@mail.gmail.com>
	<AANLkTikALrPzWX0CrLgWFQj5UT_BdJTVsU2eUJ-zvsBm@mail.gmail.com>
	<AANLkTincJj74d125om9GZiiskdZLxT3hDoidvT1fCfdO@mail.gmail.com>
	<AANLkTi=3ZTDi8GG8V5Hc85wqgVgL6rXB=L-pFdh83Cts@mail.gmail.com>
Message-ID: <AANLkTin3sGnscYecLes-2rdPF6d52m1OdcEsKHbp3HMm@mail.gmail.com>

Yes. You may do whatever you want in the functions.php file. Whether you'd
want to keep it that way or not is up to you and the people using the theme
file.

Jacob Santos


On Thu, Sep 2, 2010 at 1:05 PM, mohammad aghanabi <m.websoft at gmail.com>wrote:

> i wanna make functions.php encoded and including index.php or other files
> in
> it is needed.
> just for testing ...
>
> On Thu, Sep 2, 2010 at 9:31 PM, Thomas Belknap
> <dragonfly at dragonflyeye.net>wrote:
>
> > If you mean including a bit of template layout within the body of a
> > functions.php function, this wouldn't really be the way you might want to
> > do
> > that. Unless you're looking to mimic the CakePHP "element" concept. But
> you
> > would be better served storing any additional layout stuff in the
> /plugins
> > folder and maybe even use a plugin instead of a functions.php function to
> > do
> > that.
> >
> > ... if I understand what you want, that is.
> >
> > On Thu, Sep 2, 2010 at 1:58 PM, mohammad aghanabi <m.websoft at gmail.com
> > >wrote:
> >
> > > u mean there is no way to try ?
> > >
> > > On Thu, Sep 2, 2010 at 9:26 PM, Otto <otto at ottodestruct.com> wrote:
> > >
> > > > No. A theme's functions.php should never cause any output just from
> > > > being loaded. doing so can break your site.
> > > >
> > > > -Otto
> > > >
> > > >
> > > >
> > > > On Thu, Sep 2, 2010 at 12:54 PM, mohammad aghanabi <
> > m.websoft at gmail.com>
> > > > wrote:
> > > > > hello;
> > > > >
> > > > > can we include a template page like index.php in functions.php and
> > call
> > > > it
> > > > > from there ?
> > > > >
> > > > > thanks
> > > > > _______________________________________________
> > > > > wp-hackers mailing list
> > > > > wp-hackers at lists.automattic.com
> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > >
> > >
> > >
> > > --
> > > ??? ????? ??? ?? ?????? ? ?? ??? ?? ?? ??? ????? ?? ??? ??? ?? ?? ??
> > ?????
> > > ?
> > > ?????? ?? ??????? ?? ?????
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> ??? ????? ??? ?? ?????? ? ?? ??? ?? ?? ??? ????? ?? ??? ??? ?? ?? ?? ?????
> ?
> ?????? ?? ??????? ?? ?????
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Fri Sep  3 20:50:31 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 3 Sep 2010 16:50:31 -0400
Subject: [wp-hackers] Tagging Images in WordPress 3.0
In-Reply-To: <AANLkTi=HCNdG0SX4wTTYtNXW_nieACos2hAeofg9XPBU@mail.gmail.com>
References: <AANLkTik1doWg35HHWhUsd457Or62BY=GUvTw+RqifekO@mail.gmail.com>
	<6073C290-518A-4B3D-BBD3-72D6670FED82@codehooligans.com>
	<16474929DF0D4E2B9E53D392B846FE1F@frumph.net>
	<16E037D1-1F34-476A-9ED6-497C487B2CB9@codehooligans.com>
	<7BECF52B3620467DA20670BAA5A53C9E@frumph.net>
	<AANLkTimwQE3=0d+uzo9LCsfq=WWaK48nS6F61KR2CohA@mail.gmail.com>
	<AANLkTi=HCNdG0SX4wTTYtNXW_nieACos2hAeofg9XPBU@mail.gmail.com>
Message-ID: <D1B01488-4380-42B8-AC95-1ECBD5D3EE8F@newclarity.net>

On Sep 3, 2010, at 3:06 PM, Kevin Stover wrote:
> Thanks to everyone for their comments.
> 
> @Paul - I'll download it and try it out. I'm really having a hard time
> wrapping my mind around custom taxonomies for some reason, so breaking down
> your code may help me with that. Thanks

+1 for @Paul's Media Tags plugin; it's great!  I've used it on many projects now.  (So many if fact I keep wishing it were in core.  But I digress...)

-Mike

From paul at codehooligans.com  Fri Sep  3 22:06:03 2010
From: paul at codehooligans.com (Paul)
Date: Fri, 3 Sep 2010 18:06:03 -0400
Subject: [wp-hackers] Tagging Images in WordPress 3.0
In-Reply-To: <D1B01488-4380-42B8-AC95-1ECBD5D3EE8F@newclarity.net>
References: <AANLkTik1doWg35HHWhUsd457Or62BY=GUvTw+RqifekO@mail.gmail.com>
	<6073C290-518A-4B3D-BBD3-72D6670FED82@codehooligans.com>
	<16474929DF0D4E2B9E53D392B846FE1F@frumph.net>
	<16E037D1-1F34-476A-9ED6-497C487B2CB9@codehooligans.com>
	<7BECF52B3620467DA20670BAA5A53C9E@frumph.net>
	<AANLkTimwQE3=0d+uzo9LCsfq=WWaK48nS6F61KR2CohA@mail.gmail.com>
	<AANLkTi=HCNdG0SX4wTTYtNXW_nieACos2hAeofg9XPBU@mail.gmail.com>
	<D1B01488-4380-42B8-AC95-1ECBD5D3EE8F@newclarity.net>
Message-ID: <82BC4A0B-6E19-4258-A6E9-FABCE5FC7557@codehooligans.com>


On Sep 3, 2010, at 4:50 PM, Mike Schinkel wrote:

> +1 for @Paul's Media Tags plugin; it's great!  I've used it on many projects now.  (So many if fact I keep wishing it were in core.  But I digress...)
> 
> -Mike

Mike,

Thanks man. Appreciate the support.

Paul


From rbilesky at gmail.com  Sat Sep  4 01:10:01 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 3 Sep 2010 18:10:01 -0700
Subject: [wp-hackers] Crop a picture
Message-ID: <AANLkTi=SUO3faxCzqQnn5gyDKkPAyqptd-_u-HzX6JqP@mail.gmail.com>

I am looking for a script to use with a plugin I am writing that will take
an image stored on the server, and show me a cropped version. Then when I
put my mouse over the cropped version, the full version displays is some
popup panel that just goes right over the site and disappears when my mouse
moves off of it.

So it will need to be some combination of php and javascript. Is anyone
aware of such a script?

From lynne.pope at gmail.com  Sat Sep  4 01:14:00 2010
From: lynne.pope at gmail.com (Lynne Pope)
Date: Sat, 4 Sep 2010 13:14:00 +1200
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTin6R1ELWFv-113ar029j5+xyr+hARn8bhJK9jzC@mail.gmail.com>
References: <B9481B1F-7C7B-4D6F-BFA5-704D912B9598@graymerica.com>
	<AANLkTin6R1ELWFv-113ar029j5+xyr+hARn8bhJK9jzC@mail.gmail.com>
Message-ID: <AANLkTikR0AuGCQHP_-hYuL-9qm91EC20ZYt3eY0GJED6@mail.gmail.com>

I disagree with those who say this is an issue for only a small number of
users. If it was, then there would not be over 7 million results in Google
for the search, "WordPress changing domain names" and 4.4 million on how to
change domain name. There's a further 1+ million on "wordpress change site
url database". Assuming these entries have all been written to pass on
knowledge learned/meet a need, then it's reasonable to assume there are a
lot of largely-unskilled people messing around with their databases.

Also consider the support forums: http://wordpress.org/tags/domain - a LOT
of those cries for help may not have happened if users only had to make a
change to their domain from their admin settings.

I'm convinced that providing a simple, bullet-proof way for people to do
this would result in a better experience for all users.

I'm not convinced that using wp-config.php is the way to go. It might be the
easiest to implement but relative URL's have their own sets of problems and
apart from feeds, their use is limited where users do not have the ability
to use htaccess files. Arguing that other CMS use relative URL's with the
domain set up in config overlooks the issues users have with those.


Lynne

From dvmorris at gmail.com  Sat Sep  4 01:29:42 2010
From: dvmorris at gmail.com (David Morris)
Date: Fri, 3 Sep 2010 20:29:42 -0500
Subject: [wp-hackers] Getting a 404 error when requesting a .php file as a
	stylesheet in WP 3.0.1
Message-ID: <AANLkTinj3Py3PeAsYPiZd0LFYwr+RezzLBib3K2ezqzn@mail.gmail.com>

I just upgraded a site from WPMU 2.9.1 to WP 3.0.1, and I'm getting a
strange issue with a PHP file that is being served up as text/css throwing a
404. It's part of a theme that runs PHP code to create a dynamic stylesheet.

Anyways, the file is called custom-styles.php and is requested on page load
through a <link rel="stylesheet" /> tag. I'm getting a 404 whenever it's
requested this way, but when I go to that URL directly in the browser, it
seems to work fine. Here are the request and response headers for the <link>
tag:

URL: http://example.com/wp-content/themes/theme_name/custom-styles.php
Request Headers:


   1. Accept:
      text/css,*/*;q=0.1
      2. Cache-Control:
      max-age=0
      3. Referer:
      http://example.com/
      4. User-Agent:
      Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/533.4
      (KHTML, like Gecko) Chrome/5.0.375.127 Safari/533.4

Response Headers:


   1. Cache-Control:
      no-cache, must-revalidate, max-age=0
      2. Connection:
      close
      3. Content-Length:
      6184
      4. Content-Type:
      text/css; charset=UTF-8
      5. Date:
      Sat, 04 Sep 2010 01:10:55 GMT
      6. Expires:
      Wed, 11 Jan 1984 05:00:00 GMT
      7. Last-Modified:
      Sat, 04 Sep 2010 01:10:55 GMT
      8. Pragma:
      no-cache
      9. Server:
      Apache/2.2.3 (Red Hat)
      10. X-Pingback:
      http://example.com/xmlrpc.php
      11. X-Powered-By:
      PHP/5.2.11


When I request that URL directly in the browser, I get a 404, but the proper
content seems to be served up. These are my headers:

URL: http://example.com/wp-content/themes/theme_name/custom-styles.php
Request Headers:



   1. Accept:

      application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5
      2. User-Agent:
      Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/533.4
      (KHTML, like Gecko) Chrome/5.0.375.127 Safari/533.4

Response Headers:



   1. Cache-Control:
      no-cache, must-revalidate, max-age=0
      2. Connection:
      close
      3. Content-Length:
      6184
      4. Content-Type:
      text/css; charset=UTF-8
      5. Date:
      Sat, 04 Sep 2010 01:20:27 GMT
      6. Expires:
      Wed, 11 Jan 1984 05:00:00 GMT
      7. Last-Modified:
      Sat, 04 Sep 2010 01:20:27 GMT
      8. Pragma:
      no-cache
      9. Server:
      Apache/2.2.3 (Red Hat)
      10. X-Pingback:
      http://example.com/xmlrpc.php
      11. X-Powered-By:
      PHP/5.2.11


Then when I request that same file with a www. prefix, it seems to serve up
the content and a 200 response code:

 URL: http://www.example.com/wp-content/themes/theme_name/custom-styles.php
 Request Headers:


   1. Accept:

      application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5
      2. User-Agent:
      Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/533.4
      (KHTML, like Gecko) Chrome/5.0.375.127 Safari/533.4

 Response Headers:


   1. Content-Length:
      6184
      2. Content-Type:
      text/css; charset=UTF-8
      3. Date:
      Sat, 04 Sep 2010 01:19:45 GMT
      4. Server:
      Apache/2.2.3 (Red Hat)
      5. X-Pingback:
      http://example.com/xmlrpc.php
      6. X-Powered-By:
      PHP/5.2.12



I would send the real domain, but it's in an environment inside an internal
network, so it wouldn't work anyway. I realize this may have nothing to do
with wordpress, and may just be an Apache issue, but these files work
perfectly fine on the same server, same apache configs, with 2.9.1 code
running instead of 3.0.1. Let me know if you guys have any ideas. Thanks for
your help,

Dave

From goldenapplesdesign at gmail.com  Sat Sep  4 01:35:38 2010
From: goldenapplesdesign at gmail.com (Nathaniel Taintor)
Date: Fri, 3 Sep 2010 21:35:38 -0400
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTikR0AuGCQHP_-hYuL-9qm91EC20ZYt3eY0GJED6@mail.gmail.com>
References: <B9481B1F-7C7B-4D6F-BFA5-704D912B9598@graymerica.com>
	<AANLkTin6R1ELWFv-113ar029j5+xyr+hARn8bhJK9jzC@mail.gmail.com>
	<AANLkTikR0AuGCQHP_-hYuL-9qm91EC20ZYt3eY0GJED6@mail.gmail.com>
Message-ID: <AANLkTikWQxpsBtBB4--ST_4+ZNgwNwj46eYDWkiVhqsG@mail.gmail.com>

Another point to consider, in support of the idea of using a shortcode in
place of full url's in post content etc, is that some plugins filter urls
before displaying them. I'm working on a multilingual site right now and
using the qTranslate plugin, which rewrites urls based on the users
language.

Presumably a [url] shortcode - or some other similar solution - would either
be filtered through the bloginfo_url filter, or have its own filter attached
to it, that could be hooked into for edge cases like this. The only way of
doing this now is searching through all the output for anything that matches
a url in some way, and checking whether or not it needs to be filtered. Not
very efficient.

Best,
Than




On Fri, Sep 3, 2010 at 9:14 PM, Lynne Pope <lynne.pope at gmail.com> wrote:

> I disagree with those who say this is an issue for only a small number of
> users. If it was, then there would not be over 7 million results in Google
> for the search, "WordPress changing domain names" and 4.4 million on how to
> change domain name. There's a further 1+ million on "wordpress change site
> url database". Assuming these entries have all been written to pass on
> knowledge learned/meet a need, then it's reasonable to assume there are a
> lot of largely-unskilled people messing around with their databases.
>
> Also consider the support forums: http://wordpress.org/tags/domain - a LOT
> of those cries for help may not have happened if users only had to make a
> change to their domain from their admin settings.
>
> I'm convinced that providing a simple, bullet-proof way for people to do
> this would result in a better experience for all users.
>
> I'm not convinced that using wp-config.php is the way to go. It might be
> the
> easiest to implement but relative URL's have their own sets of problems and
> apart from feeds, their use is limited where users do not have the ability
> to use htaccess files. Arguing that other CMS use relative URL's with the
> domain set up in config overlooks the issues users have with those.
>
>
> Lynne
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Sat Sep  4 02:06:02 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 3 Sep 2010 22:06:02 -0400
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTikWQxpsBtBB4--ST_4+ZNgwNwj46eYDWkiVhqsG@mail.gmail.com>
References: <B9481B1F-7C7B-4D6F-BFA5-704D912B9598@graymerica.com>
	<AANLkTin6R1ELWFv-113ar029j5+xyr+hARn8bhJK9jzC@mail.gmail.com>
	<AANLkTikR0AuGCQHP_-hYuL-9qm91EC20ZYt3eY0GJED6@mail.gmail.com>
	<AANLkTikWQxpsBtBB4--ST_4+ZNgwNwj46eYDWkiVhqsG@mail.gmail.com>
Message-ID: <5BF2248F-3D09-4C10-A876-5A2B6EFDD95D@newclarity.net>

For all those commenting on this thread, you might want to visit the trac ticket, review the history, and add your two cents there?

http://core.trac.wordpress.org/ticket/11394

-Mike



From ryanduff.list at gmail.com  Sat Sep  4 02:08:18 2010
From: ryanduff.list at gmail.com (Ryan Duff)
Date: Fri, 03 Sep 2010 22:08:18 -0400
Subject: [wp-hackers] Site Address during development
In-Reply-To: <AANLkTimCvLzZ0a+RXLYufrZVc9a4L3A+K6PgbeT0dbQ7@mail.gmail.com>
References: <p06240802c8a548196052@192.168.1.65>	<AANLkTikSHDDxjhpjaBcHngqojCQCmEmEVSVSMqiv7w+g@mail.gmail.com>	<CD47955B7E065D48AB5CF226C2ED75C02E34A8@tbs-sbs01.TBS.local>	<4C7FC071.8050208@elfden.co.uk>	<CD47955B7E065D48AB5CF226C2ED75C02E34AB@tbs-sbs01.TBS.local>	<CD47955B7E065D48AB5CF226C2ED75C02E34B4@tbs-sbs01.TBS.local>	<AANLkTinoGUXB7EFVxYPwYHMSYrQ+mo_AjZqScF5_405T@mail.gmail.com>	<AANLkTi=B4_82dgp75A80E+Y0KJEGHMh8abm-=ePMZ-J1@mail.gmail.com>	<CD47955B7E065D48AB5CF226C2ED75C02E34B8@tbs-sbs01.TBS.local>	<AANLkTim6=RLtKvJ=H4vuD1ehvc5AouxuUK1E7pxhQr7G@mail.gmail.com>	<CD47955B7E065D48AB5CF226C2ED75C02E34BC@tbs-sbs01.TBS.local>	<4C80DA9D.5010007@gmail.com>	<AANLkTikkSxj3fH-MQ5O6X53FQmPYpD-Rqn3kOpnO+acr@mail.gmail.com>	<CD47955B7E065D48AB5CF226C2ED75C02E34C0@tbs-sbs01.TBS.local>	<4C80F495.9050107@elfden.co.uk>	<CD47955B7E065D48AB5CF226C2ED75C02E34C1@tbs-sbs01.TBS.local>
	<AANLkTimCvLzZ0a+RXLYufrZVc9a4L3A+K6PgbeT0dbQ7@mail.gmail.com>
Message-ID: <4C81AA12.7030505@gmail.com>

Better yet, how about a wiki style linking between posts. Maybe put the 
post slug or ID you're referencing to in brackets and WP can internally 
link to it. That way if you change your domain name, the links stay 
intact. I'd also like to see this work for items in the media library.

No more adding a link to http://yoursite.com/archives/blahblah (where 
post blahblah = post id 205) and instead type [wp:blahblah] or [wp:205] 
which would generate the link to the internal item based on the site URL 
in the database.


--
Ryan Duff
web: http://www.ryanduff.net
aim: ryancduff
twitter: ryancduff

From rbilesky at gmail.com  Sat Sep  4 05:19:26 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 3 Sep 2010 22:19:26 -0700
Subject: [wp-hackers] Crop a picture
In-Reply-To: <AANLkTi=SUO3faxCzqQnn5gyDKkPAyqptd-_u-HzX6JqP@mail.gmail.com>
References: <AANLkTi=SUO3faxCzqQnn5gyDKkPAyqptd-_u-HzX6JqP@mail.gmail.com>
Message-ID: <AANLkTikhqNCuaE_TXbwaccwWhhAvb-qF5wgkV3CDbMSp@mail.gmail.com>

I did end up finding some javascript code for the expanded popup.  But I
have still been unable to find some code that will take in a .gif image and
crop it (from top left corner) then output the cropped thumbnail image.

On Fri, Sep 3, 2010 at 6:10 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> I am looking for a script to use with a plugin I am writing that will take
> an image stored on the server, and show me a cropped version. Then when I
> put my mouse over the cropped version, the full version displays is some
> popup panel that just goes right over the site and disappears when my mouse
> moves off of it.
>
> So it will need to be some combination of php and javascript. Is anyone
> aware of such a script?
>

From johan.eenfeldt at gmail.com  Sat Sep  4 14:47:58 2010
From: johan.eenfeldt at gmail.com (Johan Eenfeldt)
Date: Sat, 4 Sep 2010 16:47:58 +0200
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTimPLAOoddOMcPPJdniHDTrm2X2QDqej1iZkUCSn@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
	<AANLkTik111hzHYNQ0q0o91YJB02FG4ZqrO01zNMkkER1@mail.gmail.com>
	<AANLkTimPLAOoddOMcPPJdniHDTrm2X2QDqej1iZkUCSn@mail.gmail.com>
Message-ID: <AANLkTimJweHfHBcHLf0Tz+qEiM1QE-pS6GfLVSvGH8GA@mail.gmail.com>

On Thu, Sep 2, 2010 at 7:51 PM, Otto <otto at ottodestruct.com> wrote:
> [ good description of good vs. bad permalink structures snipped! ]
>
> Also, this only actually causes a problem if you have a lot of Pages.

... or many attachments (pictures) on even a few pages as every single
attachment results in a number of extra rewrite rules.

I recently debugged the suddenly miserable performance of a site with
just ~30 pages -- but lots of pictures.

The rewrite rules had grown so huge they didn't transfer correctly
(larger than effective max_allowed_packet) and were being re-generated
each pageload resulting in 3000+ extra SQL queries.

So it is not just the number of pages that matter.

If you are forced to use a bad permalink structure (because of
historic reasons or whatever) at least consider stripping the
attachment stuff from the resulting rewrite rules. I can pretty much
guarantee you're not using it and it makes quite a difference.

/ Johan

From goldenapplesdesign at gmail.com  Sat Sep  4 17:52:25 2010
From: goldenapplesdesign at gmail.com (Nathaniel Taintor)
Date: Sat, 4 Sep 2010 13:52:25 -0400
Subject: [wp-hackers] Crop a picture
In-Reply-To: <AANLkTikhqNCuaE_TXbwaccwWhhAvb-qF5wgkV3CDbMSp@mail.gmail.com>
References: <AANLkTi=SUO3faxCzqQnn5gyDKkPAyqptd-_u-HzX6JqP@mail.gmail.com>
	<AANLkTikhqNCuaE_TXbwaccwWhhAvb-qF5wgkV3CDbMSp@mail.gmail.com>
Message-ID: <AANLkTin4HW-iFfG6JtcotHQ6SxqC_239v1vuDTZ1OLkx@mail.gmail.com>

If you want to do it in PHP, look into the ImageGD library. Its included
with almost all PHP5 installations that I've seen. Your code would look
something like this, to crop a 100px square from the top left of your
original gif:

$image = imagecreatefromgif( $url_to_src );
$cropped = imagecreatetruecolor( 100, 100 );
imagecopy( $cropped, $image, 0, 0, 0, 0, 100, 100 );
imagegif( $cropped );

More info: http://www.php.net/manual/en/ref.image.php

But I'm not sure why you couldn't just do it with css, either using the clip
property, or just displaying your image in a div with overflow set to
hidden.


On Sat, Sep 4, 2010 at 1:19 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> I did end up finding some javascript code for the expanded popup.  But I
> have still been unable to find some code that will take in a .gif image and
> crop it (from top left corner) then output the cropped thumbnail image.
>
> On Fri, Sep 3, 2010 at 6:10 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > I am looking for a script to use with a plugin I am writing that will
> take
> > an image stored on the server, and show me a cropped version. Then when I
> > put my mouse over the cropped version, the full version displays is some
> > popup panel that just goes right over the site and disappears when my
> mouse
> > moves off of it.
> >
> > So it will need to be some combination of php and javascript. Is anyone
> > aware of such a script?
> >
>

From gregg at fatheaddesign.com  Sat Sep  4 18:01:44 2010
From: gregg at fatheaddesign.com (Gregg F. Tomlinson)
Date: Sat, 4 Sep 2010 13:01:44 -0500
Subject: [wp-hackers] Crop a picture
In-Reply-To: <AANLkTin4HW-iFfG6JtcotHQ6SxqC_239v1vuDTZ1OLkx@mail.gmail.com>
References: <AANLkTi=SUO3faxCzqQnn5gyDKkPAyqptd-_u-HzX6JqP@mail.gmail.com>
	<AANLkTikhqNCuaE_TXbwaccwWhhAvb-qF5wgkV3CDbMSp@mail.gmail.com>
	<AANLkTin4HW-iFfG6JtcotHQ6SxqC_239v1vuDTZ1OLkx@mail.gmail.com>
Message-ID: <1DD3EDA8-9A00-43CF-8CCC-C0A7CD7074B4@fatheaddesign.com>

Ryan:

If you're not opposed to jQuery for the zomed in pop-up, you might  
want to look at this: http://www.professorcloud.com/mainsite/cloud-zoom.htm

--g

...


On Sep 4, 2010, at 12:52 PM, Nathaniel Taintor wrote:

> If you want to do it in PHP, look into the ImageGD library. Its  
> included
> with almost all PHP5 installations that I've seen. Your code would  
> look
> something like this, to crop a 100px square from the top left of your
> original gif:
>
> $image = imagecreatefromgif( $url_to_src );
> $cropped = imagecreatetruecolor( 100, 100 );
> imagecopy( $cropped, $image, 0, 0, 0, 0, 100, 100 );
> imagegif( $cropped );
>
> More info: http://www.php.net/manual/en/ref.image.php
>
> But I'm not sure why you couldn't just do it with css, either using  
> the clip
> property, or just displaying your image in a div with overflow set to
> hidden.
>
>
> On Sat, Sep 4, 2010 at 1:19 AM, Ryan Bilesky <rbilesky at gmail.com>  
> wrote:
>
>> I did end up finding some javascript code for the expanded popup.   
>> But I
>> have still been unable to find some code that will take in a .gif  
>> image and
>> crop it (from top left corner) then output the cropped thumbnail  
>> image.
>>
>> On Fri, Sep 3, 2010 at 6:10 PM, Ryan Bilesky <rbilesky at gmail.com>  
>> wrote:
>>
>>> I am looking for a script to use with a plugin I am writing that  
>>> will
>> take
>>> an image stored on the server, and show me a cropped version. Then  
>>> when I
>>> put my mouse over the cropped version, the full version displays  
>>> is some
>>> popup panel that just goes right over the site and disappears when  
>>> my
>> mouse
>>> moves off of it.
>>>
>>> So it will need to be some combination of php and javascript. Is  
>>> anyone
>>> aware of such a script?
>>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

::::  ::::  ::::

Gregg Tomlinson
Principal

fathead design, inc.
1329 W. Loyola Ave.
Suite G2
Chicago, Illinois  60626

p: 773.338.1313
f: 773.338.1340

http://www.fatheaddesign.com

** please consider the environment before you print this e-mail **





From scribu at gmail.com  Sat Sep  4 20:15:50 2010
From: scribu at gmail.com (scribu)
Date: Sat, 4 Sep 2010 23:15:50 +0300
Subject: [wp-hackers] Getting a 404 error when requesting a .php file as
 a stylesheet in WP 3.0.1
In-Reply-To: <AANLkTinj3Py3PeAsYPiZd0LFYwr+RezzLBib3K2ezqzn@mail.gmail.com>
References: <AANLkTinj3Py3PeAsYPiZd0LFYwr+RezzLBib3K2ezqzn@mail.gmail.com>
Message-ID: <AANLkTi=XO-DvjeCBUHmAc=3g2tC_V6tzF8UuutFT6vuo@mail.gmail.com>

If you say it worked with 2.9 and doesn't work anymore in 3.0, the first
thing I would check is the code inside the custom-styles.php file.

I bet .02 cents that the theme is loading WP from there, when it should hook
into 'init' instead.

-- 
http://scribu.net

From mikeschinkel at newclarity.net  Sat Sep  4 20:32:59 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 4 Sep 2010 16:32:59 -0400
Subject: [wp-hackers] Querying posts for all associated term_ids?
Message-ID: <9423C281-9E2F-464E-B391-811E5C7D7F94@newclarity.net>

Hi all,

I am trying to figure out if it is possible to use the WordPress database API without having to add hooks to get the distinct list of term IDs from a given taxonomy that are associated with posts of a given post type? 

I looked and could not find any thing available in WordPress core even though it seems that I must be missing something. Here's the SQL code that achieves what I'm after:

SELECT DISTINCT
  tt.term_id
FROM wp_posts p
  INNER JOIN wp_term_relationships tr ON p.ID = tr.object_id
  INNER JOIN wp_term_taxonomy tt ON tt.term_taxonomy_id = tr.term_taxonomy_id
WHERE 1=1
  AND p.post_status='publish'
  AND p.post_type='our_work'
  AND tt.taxonomy='client_name'

FYI this came up in me trying to answer this question:

http://wordpress.stackexchange.com/questions/1140/

Thanks in advance.

-Mike

From paul at codehooligans.com  Sat Sep  4 21:09:17 2010
From: paul at codehooligans.com (Paul)
Date: Sat, 4 Sep 2010 17:09:17 -0400
Subject: [wp-hackers] Querying posts for all associated term_ids?
In-Reply-To: <9423C281-9E2F-464E-B391-811E5C7D7F94@newclarity.net>
References: <9423C281-9E2F-464E-B391-811E5C7D7F94@newclarity.net>
Message-ID: <98C27BAE-0A6F-495D-A1D2-835E1F149FDF@codehooligans.com>

Mike,

Just trying to understand the question here. Not a soluton. I've read through the StackExchange item. Still not sure I understand. 

You are just trying to get a distinct list of taxonomies for a given post_type. For example for the WP Posts you would find the categories and post tags. Correct?

P-


On Sep 4, 2010, at 4:32 PM, Mike Schinkel wrote:

> Hi all,
> 
> I am trying to figure out if it is possible to use the WordPress database API without having to add hooks to get the distinct list of term IDs from a given taxonomy that are associated with posts of a given post type? 
> 
> I looked and could not find any thing available in WordPress core even though it seems that I must be missing something. Here's the SQL code that achieves what I'm after:
> 
> SELECT DISTINCT
>  tt.term_id
> FROM wp_posts p
>  INNER JOIN wp_term_relationships tr ON p.ID = tr.object_id
>  INNER JOIN wp_term_taxonomy tt ON tt.term_taxonomy_id = tr.term_taxonomy_id
> WHERE 1=1
>  AND p.post_status='publish'
>  AND p.post_type='our_work'
>  AND tt.taxonomy='client_name'
> 
> FYI this came up in me trying to answer this question:
> 
> http://wordpress.stackexchange.com/questions/1140/
> 
> Thanks in advance.
> 
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Sat Sep  4 21:50:38 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 4 Sep 2010 17:50:38 -0400
Subject: [wp-hackers] Querying posts for all associated term_ids?
In-Reply-To: <98C27BAE-0A6F-495D-A1D2-835E1F149FDF@codehooligans.com>
References: <9423C281-9E2F-464E-B391-811E5C7D7F94@newclarity.net>
	<98C27BAE-0A6F-495D-A1D2-835E1F149FDF@codehooligans.com>
Message-ID: <49F3FC36-252F-4835-9E59-0B82556E70BA@newclarity.net>

> You are just trying to get a distinct list of taxonomies for a given post_type. For example for the WP Posts you would find the categories and post tags. Correct?

I didn't follow your clarification so I'll try to explain other with details:

The person who asked the question wanted was a page of client projects, each of which would be stored in posts of post_type="our_work" where each of those our_work posts had been assigned a term from the "client_name" taxonomy. He was able to do that, no problem.
 
He also wanted a drop down that listed clients for which they had "our_work" projects so a visitor could filter by projects for just one client, and clearly the dropdown shouldn't have listed any given client more than once. That's the question: how to get a list of terms with no duplicates that have been assigned to posts of a given post type and how to do it completely in the WordPress API.

I couldn't figure out how to use get_posts() to give me a list of taxonomy terms (since it's about getting posts) and I couldn't figure out how to use get_terms() to filter against terms assigned to posts of a given post_type hence the SQL code below that does exactly what I need.

It would have been possible to use hooks with get_posts() to get what I need but then I've dove into SQL anyway and I added code that could potentially have side-effects elsewhere so I recommended he use raw SQL. But I'd still prefer to have recommended a WordPress API solution and I'm asking her in hopes to find that I overlooked something.

-Mike

On Sep 4, 2010, at 5:09 PM, Paul wrote:

> Mike,
> 
> Just trying to understand the question here. Not a soluton. I've read through the StackExchange item. Still not sure I understand. 
> 
> You are just trying to get a distinct list of taxonomies for a given post_type. For example for the WP Posts you would find the categories and post tags. Correct?
> 
> P-
> 
> 
> On Sep 4, 2010, at 4:32 PM, Mike Schinkel wrote:
> 
>> Hi all,
>> 
>> I am trying to figure out if it is possible to use the WordPress database API without having to add hooks to get the distinct list of term IDs from a given taxonomy that are associated with posts of a given post type? 
>> 
>> I looked and could not find any thing available in WordPress core even though it seems that I must be missing something. Here's the SQL code that achieves what I'm after:
>> 
>> SELECT DISTINCT
>> tt.term_id
>> FROM wp_posts p
>> INNER JOIN wp_term_relationships tr ON p.ID = tr.object_id
>> INNER JOIN wp_term_taxonomy tt ON tt.term_taxonomy_id = tr.term_taxonomy_id
>> WHERE 1=1
>> AND p.post_status='publish'
>> AND p.post_type='our_work'
>> AND tt.taxonomy='client_name'
>> 
>> FYI this came up in me trying to answer this question:
>> 
>> http://wordpress.stackexchange.com/questions/1140/
>> 
>> Thanks in advance.
>> 
>> -Mike
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From johnbillion+wp at gmail.com  Sat Sep  4 22:07:24 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Sat, 4 Sep 2010 23:07:24 +0100
Subject: [wp-hackers] Getting a 404 error when requesting a .php file as
 a stylesheet in WP 3.0.1
In-Reply-To: <AANLkTi=XO-DvjeCBUHmAc=3g2tC_V6tzF8UuutFT6vuo@mail.gmail.com>
References: <AANLkTinj3Py3PeAsYPiZd0LFYwr+RezzLBib3K2ezqzn@mail.gmail.com>
	<AANLkTi=XO-DvjeCBUHmAc=3g2tC_V6tzF8UuutFT6vuo@mail.gmail.com>
Message-ID: <AANLkTik0edmyCErAjvuWwT+=78LMCzua4pNm42Tsjjnq@mail.gmail.com>

Does the file have a query var on the end of the URL? Eg.
bla.php?ver=3.0 . I had this same issue and changed the version
parameter in wp_enqueue_script() (I think I changed it to '1') and
mysteriously it fixed the issue. Never had a chance to look into it
though.

On Sat, Sep 4, 2010 at 9:15 PM, scribu <scribu at gmail.com> wrote:
> If you say it worked with 2.9 and doesn't work anymore in 3.0, the first
> thing I would check is the code inside the custom-styles.php file.
>
> I bet .02 cents that the theme is loading WP from there, when it should hook
> into 'init' instead.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jayarjo at gmail.com  Sun Sep  5 07:55:10 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Sun, 5 Sep 2010 11:55:10 +0400
Subject: [wp-hackers] Permalink Performance
In-Reply-To: <AANLkTimJweHfHBcHLf0Tz+qEiM1QE-pS6GfLVSvGH8GA@mail.gmail.com>
References: <AANLkTi=8mGe=27ftFpb-d9pC+as9zvvAh6sJ0OQ0AxPB@mail.gmail.com>
	<AANLkTik111hzHYNQ0q0o91YJB02FG4ZqrO01zNMkkER1@mail.gmail.com>
	<AANLkTimPLAOoddOMcPPJdniHDTrm2X2QDqej1iZkUCSn@mail.gmail.com>
	<AANLkTimJweHfHBcHLf0Tz+qEiM1QE-pS6GfLVSvGH8GA@mail.gmail.com>
Message-ID: <AANLkTinE_MTU3_B62X4vbs7J6y1kAzPbanUBp1OkRtRL@mail.gmail.com>

Dougal, Otto thanks, your articles were very informative. I should
have stumbled upon them while ago.

On Sat, Sep 4, 2010 at 6:47 PM, Johan Eenfeldt <johan.eenfeldt at gmail.com> wrote:
> On Thu, Sep 2, 2010 at 7:51 PM, Otto <otto at ottodestruct.com> wrote:
>> [ good description of good vs. bad permalink structures snipped! ]
>>
>> Also, this only actually causes a problem if you have a lot of Pages.
>
> ... or many attachments (pictures) on even a few pages as every single
> attachment results in a number of extra rewrite rules.
>
> I recently debugged the suddenly miserable performance of a site with
> just ~30 pages -- but lots of pictures.
>
> The rewrite rules had grown so huge they didn't transfer correctly
> (larger than effective max_allowed_packet) and were being re-generated
> each pageload resulting in 3000+ extra SQL queries.
>
> So it is not just the number of pages that matter.
>
> If you are forced to use a bad permalink structure (because of
> historic reasons or whatever) at least consider stripping the
> attachment stuff from the resulting rewrite rules. I can pretty much
> guarantee you're not using it and it makes quite a difference.
>
> / Johan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From jayarjo at gmail.com  Sun Sep  5 10:17:55 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Sun, 5 Sep 2010 14:17:55 +0400
Subject: [wp-hackers] add_image_size() possible to restrict to just one
	size?..
Message-ID: <AANLkTikC89aDPK3O6gM_03v3ubSy=bLqLzXdnhB6oSqk@mail.gmail.com>

In my understanding now, whenever I add new size, wordpress just
automatically creates it on every upload. That is if I got five
different size, for post thumbnails, for sidebar widgets, avatars,
custom category headers, etc - they all get created on every upload.
Is it so? If for example if I upload an image for an avatar, do the
post thumbnail size, and sidebar widget size and category header size
get created too? If yes, can I prevent it, and restrict maybe to only
an avatar size for that particular case?

-- 
Davit Barbakadze

From patrik.bona at mrhead.sk  Sun Sep  5 10:44:47 2010
From: patrik.bona at mrhead.sk (=?ISO-8859-1?Q?Patrik_B=F3na?=)
Date: Sun, 05 Sep 2010 12:44:47 +0200
Subject: [wp-hackers] add_image_size() possible to restrict to just one
 size?..
In-Reply-To: <AANLkTikC89aDPK3O6gM_03v3ubSy=bLqLzXdnhB6oSqk@mail.gmail.com>
References: <AANLkTikC89aDPK3O6gM_03v3ubSy=bLqLzXdnhB6oSqk@mail.gmail.com>
Message-ID: <4C83749F.2030401@mrhead.sk>

Hi Davit,

You can use wp_generate_attachment_metadata filter. I use it for 
generating own image sizes for different post types. This is example for 
post type galeria (gallery):

function gallery_upload($metadata, $attachment_id) {
	$post_id = $_POST['post_id'];

	// if it is not 'galeria' just return metadata
	if(get_post_type($post_id) != 'galeria')
		return $metadata;

	// otherwise create custom image sizes
	$upload_dir = wp_upload_dir();
	$file = image_resize($upload_dir['basedir'] . '/' . $metadata['file'], 100, 100, true, 'thumb');
	$metadata['sizes']['thumbnail'] = array('file' =>  basename($file), 'width' =>  100, 'height' =>  100);
	return $metadata;
}
add_filter('wp_generate_attachment_metadata', 'gallery_upload', 10, 2);

So i don't use add_image_size (in this case) because it apply to 
everything. Disadvantage of this solution is that these sizes are not 
deleted automatically when you delete attachment, but you can again use 
filters/actions... ;)

Patrik

On 09/05/2010 12:17 PM, Davit Barbakadze wrote:
> In my understanding now, whenever I add new size, wordpress just
> automatically creates it on every upload. That is if I got five
> different size, for post thumbnails, for sidebar widgets, avatars,
> custom category headers, etc - they all get created on every upload.
> Is it so? If for example if I upload an image for an avatar, do the
> post thumbnail size, and sidebar widget size and category header size
> get created too? If yes, can I prevent it, and restrict maybe to only
> an avatar size for that particular case?
>
>    


From christemma at rocketmail.com  Sun Sep  5 19:00:19 2010
From: christemma at rocketmail.com (Christ Emma)
Date: Sun, 5 Sep 2010 12:00:19 -0700 (PDT)
Subject: [wp-hackers] (no subject)
Message-ID: <834137.37874.qm@web114511.mail.gq1.yahoo.com>

I to be a member


      


From beautifulcrimes at gmail.com  Sun Sep  5 19:07:53 2010
From: beautifulcrimes at gmail.com (Jesus Lizama)
Date: Sun, 5 Sep 2010 12:07:53 -0700
Subject: [wp-hackers] (no subject)
In-Reply-To: <834137.37874.qm@web114511.mail.gq1.yahoo.com>
References: <834137.37874.qm@web114511.mail.gq1.yahoo.com>
Message-ID: <AANLkTik7FuWNB0CucWLYaoyUcjpUTCHkUL=_=GiOXZ=d@mail.gmail.com>

lol welcome

On Sun, Sep 5, 2010 at 12:00 PM, Christ Emma <christemma at rocketmail.com>wrote:

> I to be a member
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jesus Lizama
Designer - Spifffy.com
Cell: (323)336-2953

From mikeschinkel at newclarity.net  Sun Sep  5 21:39:32 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 5 Sep 2010 17:39:32 -0400
Subject: [wp-hackers] add_image_size() possible to restrict to just one
	size?..
In-Reply-To: <4C83749F.2030401@mrhead.sk>
References: <AANLkTikC89aDPK3O6gM_03v3ubSy=bLqLzXdnhB6oSqk@mail.gmail.com>
	<4C83749F.2030401@mrhead.sk>
Message-ID: <0D36F812-4E95-4E6E-8A0B-57E7F3EAB466@newclarity.net>

Hi Patrik,

That was really interesting, thanks for sharing.  I think I need this for something I'm working on today! 

I have one question though, on this line:

> 	$metadata['sizes']['thumbnail'] = array('file' =>  basename($file), 'width' =>  100, 'height' =>  100);


Are you replacing the thumbnail with your custom size?  I'm unclear on what you are attempting to achieve here (maybe because I'm not 100% clear how WordPress' image handling all works, but not for lack of inspecting the code that does image handling.)

-Mike

On Sep 5, 2010, at 6:44 AM, Patrik B?na wrote:

> Hi Davit,
> 
> You can use wp_generate_attachment_metadata filter. I use it for generating own image sizes for different post types. This is example for post type galeria (gallery):
> 
> function gallery_upload($metadata, $attachment_id) {
> 	$post_id = $_POST['post_id'];
> 
> 	// if it is not 'galeria' just return metadata
> 	if(get_post_type($post_id) != 'galeria')
> 		return $metadata;
> 
> 	// otherwise create custom image sizes
> 	$upload_dir = wp_upload_dir();
> 	$file = image_resize($upload_dir['basedir'] . '/' . $metadata['file'], 100, 100, true, 'thumb');
> 	$metadata['sizes']['thumbnail'] = array('file' =>  basename($file), 'width' =>  100, 'height' =>  100);
> 	return $metadata;
> }
> add_filter('wp_generate_attachment_metadata', 'gallery_upload', 10, 2);
> 
> So i don't use add_image_size (in this case) because it apply to everything. Disadvantage of this solution is that these sizes are not deleted automatically when you delete attachment, but you can again use filters/actions... ;)
> 
> Patrik
> 
> On 09/05/2010 12:17 PM, Davit Barbakadze wrote:
>> In my understanding now, whenever I add new size, wordpress just
>> automatically creates it on every upload. That is if I got five
>> different size, for post thumbnails, for sidebar widgets, avatars,
>> custom category headers, etc - they all get created on every upload.
>> Is it so? If for example if I upload an image for an avatar, do the
>> post thumbnail size, and sidebar widget size and category header size
>> get created too? If yes, can I prevent it, and restrict maybe to only
>> an avatar size for that particular case?
>> 
>>   
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From patrik.bona at mrhead.sk  Mon Sep  6 06:39:05 2010
From: patrik.bona at mrhead.sk (=?ISO-8859-1?Q?Patrik_B=F3na?=)
Date: Mon, 06 Sep 2010 08:39:05 +0200
Subject: [wp-hackers] add_image_size() possible to restrict to just one
 size?..
In-Reply-To: <0D36F812-4E95-4E6E-8A0B-57E7F3EAB466@newclarity.net>
References: <AANLkTikC89aDPK3O6gM_03v3ubSy=bLqLzXdnhB6oSqk@mail.gmail.com>	<4C83749F.2030401@mrhead.sk>
	<0D36F812-4E95-4E6E-8A0B-57E7F3EAB466@newclarity.net>
Message-ID: <4C848C89.6030905@mrhead.sk>

Hi Mike,

Yes i am replacing thumbnail size with that line. To be honest on that 
site from which is this code, thumbnail size is not even set, but it 
doesn't matter. I have different post types on that site and i don't 
need to generate same image sizes for each post type, so this is my 
solution...

I think that best would be to change add_image_size, so it would be 
possible to register image size just for one post type, not for whole 
site, but perhaps somebody else should do it, because i am not sure how ;).

Btw. this is code for deleting all image sizes:

function delete_all_sizes($attachment_id) {
	$metadata = wp_get_attachment_metadata($attachment_id);
	if(!$metadata)
		return false;
	$upload_dir = wp_upload_dir();
	$subdir = dirname($metadata['file']);
	foreach($metadata['sizes'] as $size) {
		$file = $upload_dir['basedir'] . '/' . $subdir . '/' . $size['file'];
		if(file_exists($file)&&  is_file($file))
			unlink($file);
	}
}
add_action('delete_attachment', 'delete_all_sizes');

Patrik

On 09/05/2010 11:39 PM, Mike Schinkel wrote:
> I have one question though, on this line:
>
>    
>> >  	$metadata['sizes']['thumbnail'] = array('file' =>   basename($file), 'width' =>   100, 'height' =>   100);
>>      
> Are you replacing the thumbnail with your custom size?  I'm unclear on what you are attempting to achieve here (maybe because I'm not 100% clear how WordPress' image handling all works, but not for lack of inspecting the code that does image handling.)
>    


From mikeschinkel at newclarity.net  Mon Sep  6 07:06:35 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 6 Sep 2010 03:06:35 -0400
Subject: [wp-hackers] add_image_size() possible to restrict to just one
	size?..
In-Reply-To: <4C848C89.6030905@mrhead.sk>
References: <AANLkTikC89aDPK3O6gM_03v3ubSy=bLqLzXdnhB6oSqk@mail.gmail.com>	<4C83749F.2030401@mrhead.sk>
	<0D36F812-4E95-4E6E-8A0B-57E7F3EAB466@newclarity.net>
	<4C848C89.6030905@mrhead.sk>
Message-ID: <309A0F90-C21E-4711-8BFB-015197541554@newclarity.net>

Excellent!  Thanks much, especially for including the delete code.

-Mike

On Sep 6, 2010, at 2:39 AM, Patrik B?na wrote:

> Hi Mike,
> 
> Yes i am replacing thumbnail size with that line. To be honest on that site from which is this code, thumbnail size is not even set, but it doesn't matter. I have different post types on that site and i don't need to generate same image sizes for each post type, so this is my solution...
> 
> I think that best would be to change add_image_size, so it would be possible to register image size just for one post type, not for whole site, but perhaps somebody else should do it, because i am not sure how ;).
> 
> Btw. this is code for deleting all image sizes:
> 
> function delete_all_sizes($attachment_id) {
> 	$metadata = wp_get_attachment_metadata($attachment_id);
> 	if(!$metadata)
> 		return false;
> 	$upload_dir = wp_upload_dir();
> 	$subdir = dirname($metadata['file']);
> 	foreach($metadata['sizes'] as $size) {
> 		$file = $upload_dir['basedir'] . '/' . $subdir . '/' . $size['file'];
> 		if(file_exists($file)&&  is_file($file))
> 			unlink($file);
> 	}
> }
> add_action('delete_attachment', 'delete_all_sizes');
> 
> Patrik
> 
> On 09/05/2010 11:39 PM, Mike Schinkel wrote:
>> I have one question though, on this line:
>> 
>>   
>>> >  	$metadata['sizes']['thumbnail'] = array('file' =>   basename($file), 'width' =>   100, 'height' =>   100);
>>>     
>> Are you replacing the thumbnail with your custom size?  I'm unclear on what you are attempting to achieve here (maybe because I'm not 100% clear how WordPress' image handling all works, but not for lack of inspecting the code that does image handling.)
>>   
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jayarjo at gmail.com  Mon Sep  6 07:09:56 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Mon, 6 Sep 2010 11:09:56 +0400
Subject: [wp-hackers] add_image_size() possible to restrict to just one
	size?..
In-Reply-To: <4C848C89.6030905@mrhead.sk>
References: <AANLkTikC89aDPK3O6gM_03v3ubSy=bLqLzXdnhB6oSqk@mail.gmail.com>
	<4C83749F.2030401@mrhead.sk>
	<0D36F812-4E95-4E6E-8A0B-57E7F3EAB466@newclarity.net>
	<4C848C89.6030905@mrhead.sk>
Message-ID: <AANLkTimsjvr9-Q7aaALKp--gxigt69b+6i56bNEO7AGs@mail.gmail.com>

Every add_image_size creates another image. I've got a pile of various
unused sizes for every image I upload. Huge waste of space.

On Mon, Sep 6, 2010 at 10:39 AM, Patrik B?na <patrik.bona at mrhead.sk> wrote:
> Hi Mike,
>
> Yes i am replacing thumbnail size with that line. To be honest on that site
> from which is this code, thumbnail size is not even set, but it doesn't
> matter. I have different post types on that site and i don't need to
> generate same image sizes for each post type, so this is my solution...
>
> I think that best would be to change add_image_size, so it would be possible
> to register image size just for one post type, not for whole site, but
> perhaps somebody else should do it, because i am not sure how ;).
>
> Btw. this is code for deleting all image sizes:
>
> function delete_all_sizes($attachment_id) {
> ? ? ? ?$metadata = wp_get_attachment_metadata($attachment_id);
> ? ? ? ?if(!$metadata)
> ? ? ? ? ? ? ? ?return false;
> ? ? ? ?$upload_dir = wp_upload_dir();
> ? ? ? ?$subdir = dirname($metadata['file']);
> ? ? ? ?foreach($metadata['sizes'] as $size) {
> ? ? ? ? ? ? ? ?$file = $upload_dir['basedir'] . '/' . $subdir . '/' .
> $size['file'];
> ? ? ? ? ? ? ? ?if(file_exists($file)&& ?is_file($file))
> ? ? ? ? ? ? ? ? ? ? ? ?unlink($file);
> ? ? ? ?}
> }
> add_action('delete_attachment', 'delete_all_sizes');
>
> Patrik
>
> On 09/05/2010 11:39 PM, Mike Schinkel wrote:
>>
>> I have one question though, on this line:
>>
>>
>>>
>>> > ? ? ? $metadata['sizes']['thumbnail'] = array('file' =>
>>> > basename($file), 'width' => ? 100, 'height' => ? 100);
>>>
>>
>> Are you replacing the thumbnail with your custom size? ?I'm unclear on
>> what you are attempting to achieve here (maybe because I'm not 100% clear
>> how WordPress' image handling all works, but not for lack of inspecting the
>> code that does image handling.)
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From patrik.bona at mrhead.sk  Mon Sep  6 07:40:28 2010
From: patrik.bona at mrhead.sk (=?ISO-8859-1?Q?Patrik_B=F3na?=)
Date: Mon, 06 Sep 2010 09:40:28 +0200
Subject: [wp-hackers] add_image_size() possible to restrict to just one
 size?..
In-Reply-To: <AANLkTimsjvr9-Q7aaALKp--gxigt69b+6i56bNEO7AGs@mail.gmail.com>
References: <AANLkTikC89aDPK3O6gM_03v3ubSy=bLqLzXdnhB6oSqk@mail.gmail.com>	<4C83749F.2030401@mrhead.sk>	<0D36F812-4E95-4E6E-8A0B-57E7F3EAB466@newclarity.net>	<4C848C89.6030905@mrhead.sk>
	<AANLkTimsjvr9-Q7aaALKp--gxigt69b+6i56bNEO7AGs@mail.gmail.com>
Message-ID: <4C849AEC.9080500@mrhead.sk>

That is the reason why i usually don't use add_image_size and i use my 
code instead.

Patrik

On 09/06/2010 09:09 AM, Davit Barbakadze wrote:
> Every add_image_size creates another image. I've got a pile of various
> unused sizes for every image I upload. Huge waste of space.
>    


From philip at frumph.net  Mon Sep  6 13:47:07 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Mon, 6 Sep 2010 06:47:07 -0700
Subject: [wp-hackers] Issue with inserting terms in a
	register_activation_hook
Message-ID: <4ECEC66BC0014C66814ADDC4A44F7E9F@frumph.net>

What i'm trying to do is add 2 terms to the custom taxonomy 'chapters' that I created.  What is happening is it's just not executing probably because the $checkchapters is returning something (although i cannot capture the error for some reason).  When activating the plugin it gives an error that 'sent prevoius headers' message in amount of byte.

Now this is what i'm assuming, that, that particular portion of code is just unable to be executed from an activation_hook.   When I move the code out to a separate block that is executed in a different location not in the activation hook, it .. sort of works, the first wp_insert_term works, but creating a child off the parent does not, it creates the 2nd term but doesn't make the first term created it's parent (even though the database reports the term_id of the parent, correctly)... I'm obviously missing how to associate the relationship probably.

http://wp.pastebin.com/JgFhfzn3


If I can get a code check on this and maybe confirm aobut the wp_insert_term not being able to be executed from the activation hook.


- Phil

From teklists at gmail.com  Mon Sep  6 15:06:50 2010
From: teklists at gmail.com (Sherry Myrow)
Date: Mon, 6 Sep 2010 11:06:50 -0400
Subject: [wp-hackers] Unable to login to wp-admin
Message-ID: <AANLkTik9A_SCup9DJ9BYnvkoSLO+kc4K3Rhyr9hj+fpO@mail.gmail.com>

Hi everyone,

I think my site, gamerwidow.com, has been hacked.......I'm running WP
2.6.5.  I know I should upgrade but I'm a bit daunted by the task to
be honest.  Anyway, I tried logging into wp-admin and although I'm
using the correct credentials it says 'invalid username' and will not
let me log in.

Furthermore, when you do a search on google for "WoW Widows" my site
is the very first one listed but the page title says "Viagra Sales"!
I've tried searching this problem but the best I've found was to
manuallly disable plugins, clear your cache and try again.  I've also
tried resetting my password and checking the db to make sure my admin
account was still set to my email address -- all to no avail.

I need help and would love it if anyone could!  I used to do wp
customization for a living but i haven't done it in a couple of years
(which is why i'm afraid to upgrade to 3), I'm most familiar with 2.5.

Thanks for reading,
Sherry

From paul at codehooligans.com  Mon Sep  6 15:14:43 2010
From: paul at codehooligans.com (Paul)
Date: Mon, 6 Sep 2010 11:14:43 -0400
Subject: [wp-hackers] Unable to login to wp-admin
In-Reply-To: <AANLkTik9A_SCup9DJ9BYnvkoSLO+kc4K3Rhyr9hj+fpO@mail.gmail.com>
References: <AANLkTik9A_SCup9DJ9BYnvkoSLO+kc4K3Rhyr9hj+fpO@mail.gmail.com>
Message-ID: <76C81B05-4787-4514-8BA6-D25C701A7A3C@codehooligans.com>

On Sep 6, 2010, at 11:06 AM, Sherry Myrow wrote:

> Hi everyone,
> 
> I think my site, gamerwidow.com, has been hacked.......I'm running WP
> 2.6.5.  I know I should upgrade but I'm a bit daunted by the task to
> be honest.  Anyway, I tried logging into wp-admin and although I'm
> using the correct credentials it says 'invalid username' and will not
> let me log in.

Have you tried the password recovery option at the bottom of the login form?

P-


From philip at frumph.net  Mon Sep  6 15:17:00 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Mon, 6 Sep 2010 08:17:00 -0700
Subject: [wp-hackers] Unable to login to wp-admin
In-Reply-To: <76C81B05-4787-4514-8BA6-D25C701A7A3C@codehooligans.com>
References: <AANLkTik9A_SCup9DJ9BYnvkoSLO+kc4K3Rhyr9hj+fpO@mail.gmail.com>
	<76C81B05-4787-4514-8BA6-D25C701A7A3C@codehooligans.com>
Message-ID: <B9FB503024A245659101BD4AE51686DF@frumph.net>

heh http://gamerwidow.com/wp-admin/

Dishing out 500 errors and connection errors,

My advice is to check with your hosting to see if they have a backup of your 
site, some hosting like GoDaddy does it automatically., if not, I would 
check your own backups.

- Phil


----- Original Message ----- 
From: "Paul" <paul at codehooligans.com>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, September 06, 2010 8:14 AM
Subject: Re: [wp-hackers] Unable to login to wp-admin


> On Sep 6, 2010, at 11:06 AM, Sherry Myrow wrote:
>
>> Hi everyone,
>>
>> I think my site, gamerwidow.com, has been hacked.......I'm running WP
>> 2.6.5.  I know I should upgrade but I'm a bit daunted by the task to
>> be honest.  Anyway, I tried logging into wp-admin and although I'm
>> using the correct credentials it says 'invalid username' and will not
>> let me log in.
>
> Have you tried the password recovery option at the bottom of the login 
> form?
>
> P-
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From scribu at gmail.com  Mon Sep  6 15:17:15 2010
From: scribu at gmail.com (scribu)
Date: Mon, 6 Sep 2010 18:17:15 +0300
Subject: [wp-hackers] Issue with inserting terms in a
	register_activation_hook
In-Reply-To: <4ECEC66BC0014C66814ADDC4A44F7E9F@frumph.net>
References: <4ECEC66BC0014C66814ADDC4A44F7E9F@frumph.net>
Message-ID: <AANLkTimzWDHWDUZvGGZxi_cskr_zYLgZCRVw1VrK=EGF@mail.gmail.com>

On Mon, Sep 6, 2010 at 4:47 PM, Philip M. Hofer (Frumph)
<philip at frumph.net>wrote:

> Now this is what i'm assuming, that, that particular portion of code is
> just unable to be executed from an activation_hook.   When I move the code
> out to a separate block that is executed in a different location not in the
> activation hook, it .. sort of works, the first wp_insert_term works, but
> creating a child off the parent does not, it creates the 2nd term but
> doesn't make the first term created it's parent (even though the database
> reports the term_id of the parent, correctly)... I'm obviously missing how
> to associate the relationship probably.
>

Make sure the taxonomy you are trying to insert terms into is registered at
that point.

-- 
http://scribu.net

From vid at zippykid.com  Mon Sep  6 15:18:04 2010
From: vid at zippykid.com (Vid Luther)
Date: Mon, 6 Sep 2010 10:18:04 -0500
Subject: [wp-hackers] Unable to login to wp-admin
In-Reply-To: <AANLkTik9A_SCup9DJ9BYnvkoSLO+kc4K3Rhyr9hj+fpO@mail.gmail.com>
References: <AANLkTik9A_SCup9DJ9BYnvkoSLO+kc4K3Rhyr9hj+fpO@mail.gmail.com>
Message-ID: <AFBEFC47-8457-4316-8C68-97BF08C57DC3@zippykid.com>

Sherry,
  The first thing you need to do is reset your password.. Do you have access to your mysql database?

You'll need to manually reset the password, 

http://codex.wordpress.org/Resetting_Your_Password

That should let you in, but right after this, you should download your theme, and try to set up your site on a test 3.01 site.

Your site seems to be a mix of Wordpress and phpBB. Finding the culprit is going to be fun here. You're running old versions of both software, and it's really not a good idea. 




On Sep 6, 2010, at 10:06 AM, Sherry Myrow wrote:

> Hi everyone,
> 
> I think my site, gamerwidow.com, has been hacked.......I'm running WP
> 2.6.5.  I know I should upgrade but I'm a bit daunted by the task to
> be honest.  Anyway, I tried logging into wp-admin and although I'm
> using the correct credentials it says 'invalid username' and will not
> let me log in.
> 
> Furthermore, when you do a search on google for "WoW Widows" my site
> is the very first one listed but the page title says "Viagra Sales"!
> I've tried searching this problem but the best I've found was to
> manuallly disable plugins, clear your cache and try again.  I've also
> tried resetting my password and checking the db to make sure my admin
> account was still set to my email address -- all to no avail.
> 
> I need help and would love it if anyone could!  I used to do wp
> customization for a living but i haven't done it in a couple of years
> (which is why i'm afraid to upgrade to 3), I'm most familiar with 2.5.
> 
> Thanks for reading,
> Sherry
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From lynne.pope at gmail.com  Mon Sep  6 15:48:23 2010
From: lynne.pope at gmail.com (Lynne Pope)
Date: Tue, 7 Sep 2010 03:48:23 +1200
Subject: [wp-hackers] Unable to login to wp-admin
In-Reply-To: <AANLkTik9A_SCup9DJ9BYnvkoSLO+kc4K3Rhyr9hj+fpO@mail.gmail.com>
References: <AANLkTik9A_SCup9DJ9BYnvkoSLO+kc4K3Rhyr9hj+fpO@mail.gmail.com>
Message-ID: <AANLkTimVn=Y=tGXpf362H40QOXvTrJ3FubLj4x5rpU3W@mail.gmail.com>

On Tue, Sep 7, 2010 at 3:06 AM, Sherry Myrow <teklists at gmail.com> wrote:

> Hi everyone,
>
> I think my site, gamerwidow.com, has been hacked.......I'm running WP
> 2.6.5.  I know I should upgrade but I'm a bit daunted by the task to
> be honest.  Anyway, I tried logging into wp-admin and although I'm
> using the correct credentials it says 'invalid username' and will not
> let me log in.
>
> Furthermore, when you do a search on google for "WoW Widows" my site
> is the very first one listed but the page title says "Viagra Sales"!
> I've tried searching this problem but the best I've found was to
> manuallly disable plugins, clear your cache and try again.  I've also
> tried resetting my password and checking the db to make sure my admin
> account was still set to my email address -- all to no avail.
>
> I need help and would love it if anyone could!  I used to do wp
> customization for a living but i haven't done it in a couple of years
>  (which is why i'm afraid to upgrade to 3), I'm most familiar with 2.5.



 Both your version of phpBB and WordPress 2.6.5 have security issues. To add
to that, you appear to be using the old Google Analytics JavaScript, for
which there are known vulnerabilities. I'm afraid that you are going to have
to do some detective work to find out exactly what the hack is and how it
got in, then block it as soon as possible.

If you have a clean backup from before the hacking, I'd recommend you revert
your site to this backup as soon as possible. The first thing you need to do
after that is change all your passwords - all of them, including your
database password and FTP credentials in your server control panel. In order
of priority, upgrade phpBB first, then the Analytics code, and finally,
WordPress 2.6.5. In your situation I also recommend you upgrade to WordPress
2.9.2 at this stage as there is not much of a learning curve from the
version you are familiar with. It's also easier to adapt your theme. Once
you have your site updated and secured you can then take some time to learn
about the changes that came in with WordPress 3 and plan to bring WordPress
up to the latest release as soon as you are comfortable with it.

I also recommend that you get onto Google and search for tips on how to
secure your WordPress and phpBB sites. Each of them are prime targets for
hackers so spending a bit of time researching security tips would be very
worthwhile.

Good luck on your upgrades.

Lynne

From teklists at gmail.com  Mon Sep  6 20:55:14 2010
From: teklists at gmail.com (Sherry Myrow)
Date: Mon, 6 Sep 2010 16:55:14 -0400
Subject: [wp-hackers] Unable to login to wp-admin
In-Reply-To: <AANLkTimVn=Y=tGXpf362H40QOXvTrJ3FubLj4x5rpU3W@mail.gmail.com>
References: <AANLkTik9A_SCup9DJ9BYnvkoSLO+kc4K3Rhyr9hj+fpO@mail.gmail.com>
	<AANLkTimVn=Y=tGXpf362H40QOXvTrJ3FubLj4x5rpU3W@mail.gmail.com>
Message-ID: <AANLkTimBA5j+7McUNLzJwRSSk7Oz3OEsfbtQj=aihfFA@mail.gmail.com>

Thanks Everyone for the advice!

I manually reset my password again and got in.  I'm going to upgrade
my site now.  Wish me luck!!

~Sherry

On Mon, Sep 6, 2010 at 11:48 AM, Lynne Pope <lynne.pope at gmail.com> wrote:
> On Tue, Sep 7, 2010 at 3:06 AM, Sherry Myrow <teklists at gmail.com> wrote:
>
>> Hi everyone,
>>
>> I think my site, gamerwidow.com, has been hacked.......I'm running WP
>> 2.6.5. ?I know I should upgrade but I'm a bit daunted by the task to
>> be honest. ?Anyway, I tried logging into wp-admin and although I'm
>> using the correct credentials it says 'invalid username' and will not
>> let me log in.
>>
>> Furthermore, when you do a search on google for "WoW Widows" my site
>> is the very first one listed but the page title says "Viagra Sales"!
>> I've tried searching this problem but the best I've found was to
>> manuallly disable plugins, clear your cache and try again. ?I've also
>> tried resetting my password and checking the db to make sure my admin
>> account was still set to my email address -- all to no avail.
>>
>> I need help and would love it if anyone could! ?I used to do wp
>> customization for a living but i haven't done it in a couple of years
>> ?(which is why i'm afraid to upgrade to 3), I'm most familiar with 2.5.
>
>
>
> ?Both your version of phpBB and WordPress 2.6.5 have security issues. To add
> to that, you appear to be using the old Google Analytics JavaScript, for
> which there are known vulnerabilities. I'm afraid that you are going to have
> to do some detective work to find out exactly what the hack is and how it
> got in, then block it as soon as possible.
>
> If you have a clean backup from before the hacking, I'd recommend you revert
> your site to this backup as soon as possible. The first thing you need to do
> after that is change all your passwords - all of them, including your
> database password and FTP credentials in your server control panel. In order
> of priority, upgrade phpBB first, then the Analytics code, and finally,
> WordPress 2.6.5. In your situation I also recommend you upgrade to WordPress
> 2.9.2 at this stage as there is not much of a learning curve from the
> version you are familiar with. It's also easier to adapt your theme. Once
> you have your site updated and secured you can then take some time to learn
> about the changes that came in with WordPress 3 and plan to bring WordPress
> up to the latest release as soon as you are comfortable with it.
>
> I also recommend that you get onto Google and search for tips on how to
> secure your WordPress and phpBB sites. Each of them are prime targets for
> hackers so spending a bit of time researching security tips would be very
> worthwhile.
>
> Good luck on your upgrades.
>
> Lynne
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Mon Sep  6 21:00:25 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 6 Sep 2010 17:00:25 -0400
Subject: [wp-hackers] Unable to login to wp-admin
In-Reply-To: <AANLkTimBA5j+7McUNLzJwRSSk7Oz3OEsfbtQj=aihfFA@mail.gmail.com>
References: <AANLkTik9A_SCup9DJ9BYnvkoSLO+kc4K3Rhyr9hj+fpO@mail.gmail.com>
	<AANLkTimVn=Y=tGXpf362H40QOXvTrJ3FubLj4x5rpU3W@mail.gmail.com>
	<AANLkTimBA5j+7McUNLzJwRSSk7Oz3OEsfbtQj=aihfFA@mail.gmail.com>
Message-ID: <40719152-20C8-42A0-BAD9-17F223B360AA@newclarity.net>

On Sep 6, 2010, at 4:55 PM, Sherry Myrow wrote:
> Thanks Everyone for the advice!
> 
> I manually reset my password again and got in.  I'm going to upgrade
> my site now.  Wish me luck!!


You might want to consider exporting your data and then importing into a fresh install of WordPress 3.0.1.
If not you might leave some of the hacker's back doors on your computer.

-Mike

From rbilesky at gmail.com  Tue Sep  7 03:11:41 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Mon, 6 Sep 2010 20:11:41 -0700
Subject: [wp-hackers] Overhead associated with loading wordpress in an
	external script
Message-ID: <AANLkTi=8H5vDS_aq5T8nWnqwVQE1dpcVY_uCv=XyATd2@mail.gmail.com>

I am writing a plugin that will be accepting paypal payments.  I am writing
an ipn script to handle the payment notification.  Now I can just include
wp-config.php and do what I need to do with direct db queries, but it might
be easier if I could just load wp and use wpdb to make it easier.  Is there
any significant performance reasons I should just stick with using the
details of wp-config to make a direct db connection and queries?

From teklists at gmail.com  Tue Sep  7 04:41:06 2010
From: teklists at gmail.com (Sherry Myrow)
Date: Tue, 7 Sep 2010 00:41:06 -0400
Subject: [wp-hackers] Unable to login to wp-admin
In-Reply-To: <40719152-20C8-42A0-BAD9-17F223B360AA@newclarity.net>
References: <AANLkTik9A_SCup9DJ9BYnvkoSLO+kc4K3Rhyr9hj+fpO@mail.gmail.com>
	<AANLkTimVn=Y=tGXpf362H40QOXvTrJ3FubLj4x5rpU3W@mail.gmail.com>
	<AANLkTimBA5j+7McUNLzJwRSSk7Oz3OEsfbtQj=aihfFA@mail.gmail.com>
	<40719152-20C8-42A0-BAD9-17F223B360AA@newclarity.net>
Message-ID: <AANLkTimvdOi6jHQoC9d1JWL8n+0H+OEfDj_924wM8LE2@mail.gmail.com>

Hmm good point.

Also after doing some research it seems like this is going to be a
looooong process.

Is it as easy as that though? importing into a fresh install of WP?



On Mon, Sep 6, 2010 at 5:00 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> On Sep 6, 2010, at 4:55 PM, Sherry Myrow wrote:
>> Thanks Everyone for the advice!
>>
>> I manually reset my password again and got in. ?I'm going to upgrade
>> my site now. ?Wish me luck!!
>
>
> You might want to consider exporting your data and then importing into a fresh install of WordPress 3.0.1.
> If not you might leave some of the hacker's back doors on your computer.
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Tue Sep  7 05:11:33 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 7 Sep 2010 01:11:33 -0400
Subject: [wp-hackers] Unable to login to wp-admin
In-Reply-To: <AANLkTimvdOi6jHQoC9d1JWL8n+0H+OEfDj_924wM8LE2@mail.gmail.com>
References: <AANLkTik9A_SCup9DJ9BYnvkoSLO+kc4K3Rhyr9hj+fpO@mail.gmail.com>
	<AANLkTimVn=Y=tGXpf362H40QOXvTrJ3FubLj4x5rpU3W@mail.gmail.com>
	<AANLkTimBA5j+7McUNLzJwRSSk7Oz3OEsfbtQj=aihfFA@mail.gmail.com>
	<40719152-20C8-42A0-BAD9-17F223B360AA@newclarity.net>
	<AANLkTimvdOi6jHQoC9d1JWL8n+0H+OEfDj_924wM8LE2@mail.gmail.com>
Message-ID: <597629CE-331E-46A1-9C03-FE7E0136946A@newclarity.net>

On Sep 7, 2010, at 12:41 AM, Sherry Myrow wrote:
> Hmm good point.
> 
> Also after doing some research it seems like this is going to be a
> looooong process.
> 
> Is it as easy as that though? importing into a fresh install of WP?

Depends on how customized your site was before.  The less customization the easier it will be.  

Good luck.

-Mike


From elfin at elfden.co.uk  Tue Sep  7 08:15:42 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Tue, 07 Sep 2010 09:15:42 +0100
Subject: [wp-hackers] Overhead associated with loading wordpress in an
 external script
In-Reply-To: <AANLkTi=8H5vDS_aq5T8nWnqwVQE1dpcVY_uCv=XyATd2@mail.gmail.com>
References: <AANLkTi=8H5vDS_aq5T8nWnqwVQE1dpcVY_uCv=XyATd2@mail.gmail.com>
Message-ID: <4C85F4AE.3050608@elfden.co.uk>

On 07/09/2010 04:11, Ryan Bilesky wrote:
> I am writing a plugin that will be accepting paypal payments.  I am writing
> an ipn script to handle the payment notification.  Now I can just include
> wp-config.php and do what I need to do with direct db queries, but it might
> be easier if I could just load wp and use wpdb to make it easier.  Is there
> any significant performance reasons I should just stick with using the
> details of wp-config to make a direct db connection and queries?

Hook into init perhaps? performance shouldn't be an issue.

Rich

From jayarjo at gmail.com  Tue Sep  7 09:52:04 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Tue, 7 Sep 2010 13:52:04 +0400
Subject: [wp-hackers] add_image_size() possible to restrict to just one
	size?..
In-Reply-To: <4C849AEC.9080500@mrhead.sk>
References: <AANLkTikC89aDPK3O6gM_03v3ubSy=bLqLzXdnhB6oSqk@mail.gmail.com>
	<4C83749F.2030401@mrhead.sk>
	<0D36F812-4E95-4E6E-8A0B-57E7F3EAB466@newclarity.net>
	<4C848C89.6030905@mrhead.sk>
	<AANLkTimsjvr9-Q7aaALKp--gxigt69b+6i56bNEO7AGs@mail.gmail.com>
	<4C849AEC.9080500@mrhead.sk>
Message-ID: <AANLkTim8rhaUDFJnRiR_8Sqs1o=Gqjn-4o9yKQjBsSn_@mail.gmail.com>

I guess that will be the route for me too :(

On Mon, Sep 6, 2010 at 11:40 AM, Patrik B?na <patrik.bona at mrhead.sk> wrote:
> That is the reason why i usually don't use add_image_size and i use my code
> instead.
>
> Patrik
>
> On 09/06/2010 09:09 AM, Davit Barbakadze wrote:
>>
>> Every add_image_size creates another image. I've got a pile of various
>> unused sizes for every image I upload. Huge waste of space.
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From jayarjo at gmail.com  Tue Sep  7 09:54:46 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Tue, 7 Sep 2010 13:54:46 +0400
Subject: [wp-hackers] quick way to add dozen of new capabilities to existing
	role?
Message-ID: <AANLkTikun7GNKHqOU8RUXK2=BC1C3NtLka9RUkXEqKLy@mail.gmail.com>

Plugin creates two new custom post types with custom capabilities, is
there a quick way to assign these capabilities to existing roles -
administrator, editor?

-- 
Davit Barbakadze

From wp at andrewnacin.com  Tue Sep  7 10:26:51 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 7 Sep 2010 06:26:51 -0400
Subject: [wp-hackers] quick way to add dozen of new capabilities to
 existing role?
In-Reply-To: <AANLkTikun7GNKHqOU8RUXK2=BC1C3NtLka9RUkXEqKLy@mail.gmail.com>
References: <AANLkTikun7GNKHqOU8RUXK2=BC1C3NtLka9RUkXEqKLy@mail.gmail.com>
Message-ID: <AANLkTinf+jVjcPiXYmfXDsyupTbZt2rn3b1Ann_bG5n+@mail.gmail.com>

On Tue, Sep 7, 2010 at 5:54 AM, Davit Barbakadze <jayarjo at gmail.com> wrote:

> Plugin creates two new custom post types with custom capabilities, is
> there a quick way to assign these capabilities to existing roles -
> administrator, editor?


Something like this:

$capabilities = array( ... );
foreach ( array( 'administrator', 'editor' ) as $role ) {
   $role =& get_role( $role );
   if ( ! $role )
       continue;
   foreach ( $capabilities as $cap )
      $role->add_cap( $cap );
}

Caution, that probably triggers a boat-load of queries. add_cap() should
probably accept an array of capabilities to make that less taxing. (It only
runs on activation, though.)

Keep in mind you still need to handle meta capabilities yourself.

From patrik.bona at mrhead.sk  Tue Sep  7 12:16:52 2010
From: patrik.bona at mrhead.sk (=?ISO-8859-1?Q?Patrik_B=F3na?=)
Date: Tue, 07 Sep 2010 14:16:52 +0200
Subject: [wp-hackers] Search in given taxonomy term
Message-ID: <4C862D34.4050406@mrhead.sk>

Hi Hackers,

Do you know how to search posts within given custom taxonomy ? If i want 
to search posts just within one category it is possible, but if i want 
to do this with custom taxonomy then taxonomy and term parameters are 
ignored...

Do you have any idea how to fix this ?

Thanks

Patrik

From jayarjo at gmail.com  Tue Sep  7 14:45:11 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Tue, 7 Sep 2010 18:45:11 +0400
Subject: [wp-hackers] quick way to add dozen of new capabilities to
 existing role?
In-Reply-To: <AANLkTinf+jVjcPiXYmfXDsyupTbZt2rn3b1Ann_bG5n+@mail.gmail.com>
References: <AANLkTikun7GNKHqOU8RUXK2=BC1C3NtLka9RUkXEqKLy@mail.gmail.com>
	<AANLkTinf+jVjcPiXYmfXDsyupTbZt2rn3b1Ann_bG5n+@mail.gmail.com>
Message-ID: <AANLkTimMpxMivFpQ6+HpF05nckPq+hcrsPiPvqo4uUKi@mail.gmail.com>

I've considered that, but potential number of queries kinda frightened
me away. Looking at the source I just made up something like this:

function add_caps_to($roles, $caps)
{
   $r = new WP_Roles;

   if (!is_array($roles))
       $roles = array($roles);

   foreach ($caps as $cap)
       foreach ($roles as $role)
           $r->roles[$role]['capabilities'][$cap] = 1;

   update_option( $r->role_key, $r->roles );
}

Potentially it can simultaneously assign array of capabilities to a
several roles at ones and then make just one query at the end.

I wonder if there could be a problem with this?


On Tue, Sep 7, 2010 at 2:26 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> On Tue, Sep 7, 2010 at 5:54 AM, Davit Barbakadze <jayarjo at gmail.com> wrote:
>
>> Plugin creates two new custom post types with custom capabilities, is
>> there a quick way to assign these capabilities to existing roles -
>> administrator, editor?
>
>
> Something like this:
>
> $capabilities = array( ... );
> foreach ( array( 'administrator', 'editor' ) as $role ) {
> ? $role =& get_role( $role );
> ? if ( ! $role )
> ? ? ? continue;
> ? foreach ( $capabilities as $cap )
> ? ? ?$role->add_cap( $cap );
> }
>
> Caution, that probably triggers a boat-load of queries. add_cap() should
> probably accept an array of capabilities to make that less taxing. (It only
> runs on activation, though.)
>
> Keep in mind you still need to handle meta capabilities yourself.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From list at expost.org  Tue Sep  7 15:01:33 2010
From: list at expost.org (Raj)
Date: Tue, 7 Sep 2010 20:31:33 +0530
Subject: [wp-hackers] How To Append Content To A Post?
In-Reply-To: <000001cb4e9d$5bcc51a0$1364f4e0$@expost.org>
References: <000001cb4e9d$5bcc51a0$1364f4e0$@expost.org>
Message-ID: <000801cb4e9d$91869760$b493c620$@expost.org>

 

What is the proper method to append some content to a post. Suppose I want
to append a newsletter subscription form or an advertisement to the end of
all posts, what is the best method of doing this?

 


From eric at eamann.com  Tue Sep  7 15:13:22 2010
From: eric at eamann.com (Eric Mann)
Date: Tue, 7 Sep 2010 08:13:22 -0700 (PDT)
Subject: [wp-hackers] How To Append Content To A Post?
In-Reply-To: <000801cb4e9d$91869760$b493c620$@expost.org>
References: <000001cb4e9d$5bcc51a0$1364f4e0$@expost.org>
	<000801cb4e9d$91869760$b493c620$@expost.org>
Message-ID: <2103786864.200475.1283872402722.JavaMail.open-xchange@oxusltgw10.schlund.de>

All post content passes through the 'the_content' filter. ?To append anything to
post content merely requires that you hook into that filter and append your
content.
?
For example, the following will append a paragraph element with body "this was
appended":
?
function my_append_content($content) {
$content = $content + "<p>This was appended</p>";
return $content;
}
?
add_filter('the_content', 'my_append_content');
?
On September 7, 2010 at 3:01 PM Raj <list at expost.org> wrote:

>?
>
> What is the proper method to append some content to a post. Suppose I want
> to append a newsletter subscription form or an advertisement to the end of
> all posts, what is the best method of doing this?
>
>?
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From adriaan at wewillraakyou.com  Tue Sep  7 15:13:24 2010
From: adriaan at wewillraakyou.com (Adriaan Pelzer)
Date: Tue, 7 Sep 2010 16:13:24 +0100
Subject: [wp-hackers] How To Append Content To A Post?
In-Reply-To: <000801cb4e9d$91869760$b493c620$@expost.org>
References: <000001cb4e9d$5bcc51a0$1364f4e0$@expost.org>
	<000801cb4e9d$91869760$b493c620$@expost.org>
Message-ID: <AANLkTi=YdThBh4b9kOud4HqjC-U_LPRN9ERqxFWNbqXT@mail.gmail.com>

The way I do it is to work with $post->post_content

Do with it whatever you please, before echoing it to the page.

Adriaan Pelzer
RAAK
putting you in touch with your crowds
http://www.wewillraakyou.com
<http://www.wewillraakyou.com>twitter: http://www.twitter.com/adriaan_pelzer
linkedIn: http://uk.linkedin.com/pub/adriaan-pelzer/4/874/860/
skype: adriaan_pelzer
<http://uk.linkedin.com/pub/adriaan-pelzer/4/874/860/>
+4478 7978 1743



On Tue, Sep 7, 2010 at 4:01 PM, Raj <list at expost.org> wrote:

>
>
> What is the proper method to append some content to a post. Suppose I want
> to append a newsletter subscription form or an advertisement to the end of
> all posts, what is the best method of doing this?
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Tue Sep  7 15:16:12 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 7 Sep 2010 11:16:12 -0400
Subject: [wp-hackers] quick way to add dozen of new capabilities to
 existing role?
In-Reply-To: <AANLkTimMpxMivFpQ6+HpF05nckPq+hcrsPiPvqo4uUKi@mail.gmail.com>
References: <AANLkTikun7GNKHqOU8RUXK2=BC1C3NtLka9RUkXEqKLy@mail.gmail.com>
	<AANLkTinf+jVjcPiXYmfXDsyupTbZt2rn3b1Ann_bG5n+@mail.gmail.com>
	<AANLkTimMpxMivFpQ6+HpF05nckPq+hcrsPiPvqo4uUKi@mail.gmail.com>
Message-ID: <AANLkTikc0URc_H2RU4zRLfF7+9Pfn=wf40ZPGRbfzdPD@mail.gmail.com>

On Tue, Sep 7, 2010 at 10:45 AM, Davit Barbakadze <jayarjo at gmail.com> wrote:

> I've considered that, but potential number of queries kinda frightened
> me away. Looking at the source I just made up something like this:
> ...
>
> I wonder if there could be a problem with this?


I wouldn't try to circumvent the API, especially since we are considering
some changes in the near future, probably in 3.2. Making assumptions for the
underlying schema is not a good idea. You're probably fine with
WP_Role::add_cap(), but I'd either deal with the queries (it's only on
activation, and it really isn't that many) or toggle $this->use_db to off
before, then turn it back on before your last cap is added. But that still
seems a little hackish.

Also, WP_Roles is initialized on the $wp_roles global. Instead of creating
your own.

From ncrice at gmail.com  Tue Sep  7 15:22:13 2010
From: ncrice at gmail.com (Nathan Rice)
Date: Tue, 7 Sep 2010 11:22:13 -0400
Subject: [wp-hackers] Trackbacks/Pingbacks/etc. Settings
Message-ID: <AANLkTindSzqDymUrYF5k+b2sKmcoEwUf7ORJUCdpzA7J@mail.gmail.com>

Quick question ... if a site has trackbacks turned off in the Discussion
settings, but an individual post/page has the "allow trackbacks/pingbacks"
setting checked, which setting takes precedence? Also, what is the opposite
is true? Trackbacks are enabled in Discussion settings, but off for a single
post/page?

------------------
Nathan Rice
WordPress and Web Development
www.nathanrice.net | twitter.com/nathanrice

From jer at simianuprising.com  Tue Sep  7 15:34:21 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Tue, 7 Sep 2010 11:34:21 -0400
Subject: [wp-hackers] Trackbacks/Pingbacks/etc. Settings
In-Reply-To: <AANLkTindSzqDymUrYF5k+b2sKmcoEwUf7ORJUCdpzA7J@mail.gmail.com>
References: <AANLkTindSzqDymUrYF5k+b2sKmcoEwUf7ORJUCdpzA7J@mail.gmail.com>
Message-ID: <AANLkTik=V+809uMBThF92xj_NuJkOJRuh=FLAEgL_9O5@mail.gmail.com>

On Tue, Sep 7, 2010 at 11:22 AM, Nathan Rice <ncrice at gmail.com> wrote:

> Quick question ... if a site has trackbacks turned off in the Discussion
> settings, but an individual post/page has the "allow trackbacks/pingbacks"
> setting checked, which setting takes precedence? Also, what is the opposite
> is true? Trackbacks are enabled in Discussion settings, but off for a
> single
> post/page?
>
>
AFAIK the global settings only affect the default values on new content. All
existing content retains its previous values. There are plugins out there to
mass-disable discussion settings on old content.

http://wordpress.org/extend/plugins/search.php?q=close+comments

You could probably have found the answer to this on the forums ;)

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From jmiloj at gmail.com  Tue Sep  7 15:46:35 2010
From: jmiloj at gmail.com (Jerry Johnson)
Date: Tue, 7 Sep 2010 11:46:35 -0400
Subject: [wp-hackers] How To Append Content To A Post?
In-Reply-To: <2103786864.200475.1283872402722.JavaMail.open-xchange@oxusltgw10.schlund.de>
References: <000001cb4e9d$5bcc51a0$1364f4e0$@expost.org>
	<000801cb4e9d$91869760$b493c620$@expost.org>
	<2103786864.200475.1283872402722.JavaMail.open-xchange@oxusltgw10.schlund.de>
Message-ID: <AANLkTimaMJNTf=YW4NeJGd6=c9xMdW2+huKdOY8A1qH=@mail.gmail.com>

Do you intend the content you add to each post to remain with that post
through its life unchanged, or do you want to change the content added to
each post on-the-fly for all posts with the latest added content?

If the former (content added with each post remains unchanged for the life
of that post), you want to look at a filter that is applied on the initial
save.

If the later (and most likely), then Eric has your answer in the previous
post.

Jerry Milo Johnson


> On September 7, 2010 at 3:01 PM Raj <list at expost.org> wrote:
>
> >
> >
> > What is the proper method to append some content to a post. Suppose I
> want
> > to append a newsletter subscription form or an advertisement to the end
> of
> > all posts, what is the best method of doing this?
>

From list at expost.org  Tue Sep  7 16:11:07 2010
From: list at expost.org (Raj)
Date: Tue, 7 Sep 2010 21:41:07 +0530
Subject: [wp-hackers] How To Append Content To A Post?
In-Reply-To: <2103786864.200475.1283872402722.JavaMail.open-xchange@oxusltgw10.schlund.de>
References: <000001cb4e9d$5bcc51a0$1364f4e0$@expost.org><000801cb4e9d$91869760$b493c620$@expost.org>
	<2103786864.200475.1283872402722.JavaMail.open-xchange@oxusltgw10.schlund.de>
Message-ID: <000d01cb4ea7$4e707950$eb516bf0$@expost.org>

Is there anyway of passing the id of the post also?

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Eric Mann
Sent: Tuesday, September 07, 2010 8:43 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How To Append Content To A Post?

All post content passes through the 'the_content' filter.  To append anything to post content merely requires that you hook into that filter and append your content.
 
For example, the following will append a paragraph element with body "this was
appended":
 
function my_append_content($content) {
$content = $content + "<p>This was appended</p>"; return $content; }   add_filter('the_content', 'my_append_content');   On September 7, 2010 at 3:01 PM Raj <list at expost.org> wrote:

> 
>
> What is the proper method to append some content to a post. Suppose I 
> want to append a newsletter subscription form or an advertisement to 
> the end of all posts, what is the best method of doing this?
>
> 
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From eric at eamann.com  Tue Sep  7 16:14:55 2010
From: eric at eamann.com (Eric Mann)
Date: Tue, 7 Sep 2010 09:14:55 -0700 (PDT)
Subject: [wp-hackers] How To Append Content To A Post?
In-Reply-To: <000d01cb4ea7$4e707950$eb516bf0$@expost.org>
References: <000001cb4e9d$5bcc51a0$1364f4e0$@expost.org><000801cb4e9d$91869760$b493c620$@expost.org>
	<2103786864.200475.1283872402722.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<000d01cb4ea7$4e707950$eb516bf0$@expost.org>
Message-ID: <1838831850.202680.1283876095323.JavaMail.open-xchange@oxusltgw10.schlund.de>

Not with this filter. ?See the codex reference here:
http://codex.wordpress.org/Plugin_API/Filter_Reference/the_content
?
If you want both the content *and* the post ID, I recommend editing your loop to
append the content instead of using a filter. ?Then you'll have access to all of
the post's meta information.


On September 7, 2010 at 4:11 PM Raj <list at expost.org> wrote:

> Is there anyway of passing the id of the post also?
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Eric Mann
> Sent: Tuesday, September 07, 2010 8:43 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] How To Append Content To A Post?
>
> All post content passes through the 'the_content' filter.? To append anything
> to post content merely requires that you hook into that filter and append your
> content.
>?
> For example, the following will append a paragraph element with body "this was
> appended":
>?
> function my_append_content($content) {
> $content = $content + "<p>This was appended</p>"; return $content; }?
> ?add_filter('the_content', 'my_append_content');? ?On September 7, 2010 at
> 3:01 PM Raj <list at expost.org> wrote:
>
> >
> >
> > What is the proper method to append some content to a post. Suppose I
> > want to append a newsletter subscription form or an advertisement to
> > the end of all posts, what is the best method of doing this?
> >
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From adriaan at wewillraakyou.com  Tue Sep  7 16:25:40 2010
From: adriaan at wewillraakyou.com (Adriaan Pelzer)
Date: Tue, 7 Sep 2010 17:25:40 +0100
Subject: [wp-hackers] How To Append Content To A Post?
In-Reply-To: <1838831850.202680.1283876095323.JavaMail.open-xchange@oxusltgw10.schlund.de>
References: <000001cb4e9d$5bcc51a0$1364f4e0$@expost.org>
	<000801cb4e9d$91869760$b493c620$@expost.org>
	<2103786864.200475.1283872402722.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<000d01cb4ea7$4e707950$eb516bf0$@expost.org>
	<1838831850.202680.1283876095323.JavaMail.open-xchange@oxusltgw10.schlund.de>
Message-ID: <AANLkTiksfRx-RbtJS1_26-eNb-3N3MaTZrAyVUsvZVQ7@mail.gmail.com>

This seems to complicate a very simple issue.

Both post id ($post->ID) and post content ($post->post_content) are provided
as attributes of the post object.

To see all of them, just do
print_r ($post);


Adriaan Pelzer
RAAK
putting you in touch with your crowds
http://www.wewillraakyou.com
<http://www.wewillraakyou.com>twitter: http://www.twitter.com/adriaan_pelzer
linkedIn: http://uk.linkedin.com/pub/adriaan-pelzer/4/874/860/
skype: adriaan_pelzer
<http://uk.linkedin.com/pub/adriaan-pelzer/4/874/860/>
+4478 7978 1743



On Tue, Sep 7, 2010 at 5:14 PM, Eric Mann <eric at eamann.com> wrote:

> Not with this filter.  See the codex reference here:
> http://codex.wordpress.org/Plugin_API/Filter_Reference/the_content
>
> If you want both the content *and* the post ID, I recommend editing your
> loop to
> append the content instead of using a filter.  Then you'll have access to
> all of
> the post's meta information.
>
>
> On September 7, 2010 at 4:11 PM Raj <list at expost.org> wrote:
>
> > Is there anyway of passing the id of the post also?
> >
> > -----Original Message-----
> > From: wp-hackers-bounces at lists.automattic.com
> > [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Eric Mann
> > Sent: Tuesday, September 07, 2010 8:43 PM
> > To: wp-hackers at lists.automattic.com
> > Subject: Re: [wp-hackers] How To Append Content To A Post?
> >
> > All post content passes through the 'the_content' filter.  To append
> anything
> > to post content merely requires that you hook into that filter and append
> your
> > content.
> >
> > For example, the following will append a paragraph element with body
> "this was
> > appended":
> >
> > function my_append_content($content) {
> > $content = $content + "<p>This was appended</p>"; return $content; }
> >  add_filter('the_content', 'my_append_content');   On September 7, 2010
> at
> > 3:01 PM Raj <list at expost.org> wrote:
> >
> > >
> > >
> > > What is the proper method to append some content to a post. Suppose I
> > > want to append a newsletter subscription form or an advertisement to
> > > the end of all posts, what is the best method of doing this?
> > >
> > >
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From list at expost.org  Tue Sep  7 16:30:06 2010
From: list at expost.org (Raj)
Date: Tue, 7 Sep 2010 22:00:06 +0530
Subject: [wp-hackers] How To Append Content To A Post?
In-Reply-To: <AANLkTiksfRx-RbtJS1_26-eNb-3N3MaTZrAyVUsvZVQ7@mail.gmail.com>
References: <000001cb4e9d$5bcc51a0$1364f4e0$@expost.org><000801cb4e9d$91869760$b493c620$@expost.org><2103786864.200475.1283872402722.JavaMail.open-xchange@oxusltgw10.schlund.de><000d01cb4ea7$4e707950$eb516bf0$@expost.org><1838831850.202680.1283876095323.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<AANLkTiksfRx-RbtJS1_26-eNb-3N3MaTZrAyVUsvZVQ7@mail.gmail.com>
Message-ID: <000e01cb4ea9$f503af10$df0b0d30$@expost.org>

I meant as part of the loop. Suppose I want to insert an advertisement for
posts of a particular category only. How would I do this other than by
receiving the post ID as a part of a filter and then checking if the post
belongs to a particular category?

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Adriaan Pelzer
Sent: Tuesday, September 07, 2010 9:56 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How To Append Content To A Post?

This seems to complicate a very simple issue.

Both post id ($post->ID) and post content ($post->post_content) are provided
as attributes of the post object.

To see all of them, just do
print_r ($post);


Adriaan Pelzer
RAAK
putting you in touch with your crowds
http://www.wewillraakyou.com
<http://www.wewillraakyou.com>twitter: http://www.twitter.com/adriaan_pelzer
linkedIn: http://uk.linkedin.com/pub/adriaan-pelzer/4/874/860/
skype: adriaan_pelzer
<http://uk.linkedin.com/pub/adriaan-pelzer/4/874/860/>
+4478 7978 1743



On Tue, Sep 7, 2010 at 5:14 PM, Eric Mann <eric at eamann.com> wrote:

> Not with this filter.  See the codex reference here:
> http://codex.wordpress.org/Plugin_API/Filter_Reference/the_content
>
> If you want both the content *and* the post ID, I recommend editing 
> your loop to append the content instead of using a filter.  Then 
> you'll have access to all of the post's meta information.
>
>
> On September 7, 2010 at 4:11 PM Raj <list at expost.org> wrote:
>
> > Is there anyway of passing the id of the post also?
> >
> > -----Original Message-----
> > From: wp-hackers-bounces at lists.automattic.com
> > [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Eric Mann
> > Sent: Tuesday, September 07, 2010 8:43 PM
> > To: wp-hackers at lists.automattic.com
> > Subject: Re: [wp-hackers] How To Append Content To A Post?
> >
> > All post content passes through the 'the_content' filter.  To append
> anything
> > to post content merely requires that you hook into that filter and
append
> your
> > content.
> >
> > For example, the following will append a paragraph element with body
> "this was
> > appended":
> >
> > function my_append_content($content) {
> > $content = $content + "<p>This was appended</p>"; return $content; }
> >  add_filter('the_content', 'my_append_content');   On September 7, 2010
> at
> > 3:01 PM Raj <list at expost.org> wrote:
> >
> > >
> > >
> > > What is the proper method to append some content to a post. Suppose I
> > > want to append a newsletter subscription form or an advertisement to
> > > the end of all posts, what is the best method of doing this?
> > >
> > >
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Tue Sep  7 16:32:12 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 7 Sep 2010 12:32:12 -0400
Subject: [wp-hackers] How To Append Content To A Post?
In-Reply-To: <1838831850.202680.1283876095323.JavaMail.open-xchange@oxusltgw10.schlund.de>
References: <000001cb4e9d$5bcc51a0$1364f4e0$@expost.org>
	<000801cb4e9d$91869760$b493c620$@expost.org>
	<2103786864.200475.1283872402722.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<000d01cb4ea7$4e707950$eb516bf0$@expost.org>
	<1838831850.202680.1283876095323.JavaMail.open-xchange@oxusltgw10.schlund.de>
Message-ID: <AANLkTikoqCdgqdrO0_SwGvgEe++-MBYjQs2f+d_7KuRg@mail.gmail.com>

On Tue, Sep 7, 2010 at 11:13 AM, Adriaan Pelzer <adriaan at wewillraakyou.com>
 wrote:
> The way I do it is to work with $post->post_content

Not a good idea. Much better to use the existing filter for this. Otherwise
you may be clashing with plugins and core. It's a hack.

On September 7, 2010 at 4:11 PM Raj <list at expost.org> wrote:
> Is there anyway of passing the id of the post also?

On Tue, Sep 7, 2010 at 12:14 PM, Eric Mann <eric at eamann.com> wrote:
> Not with this filter.

Not true. While they aren't passed to the filter as an argument, you can
still access this information. Because the_content() is used in the
loop, then you can simply use the $post and $id globals in your callback.

From dvmorris at gmail.com  Tue Sep  7 16:38:02 2010
From: dvmorris at gmail.com (David Morris)
Date: Tue, 7 Sep 2010 11:38:02 -0500
Subject: [wp-hackers] Getting a 404 error when requesting a .php file as
 a stylesheet in WP 3.0.1
In-Reply-To: <AANLkTik0edmyCErAjvuWwT+=78LMCzua4pNm42Tsjjnq@mail.gmail.com>
References: <AANLkTinj3Py3PeAsYPiZd0LFYwr+RezzLBib3K2ezqzn@mail.gmail.com>
	<AANLkTi=XO-DvjeCBUHmAc=3g2tC_V6tzF8UuutFT6vuo@mail.gmail.com>
	<AANLkTik0edmyCErAjvuWwT+=78LMCzua4pNm42Tsjjnq@mail.gmail.com>
Message-ID: <AANLkTi=Ni=nrM959NCxtkLFd=78qZdap5sP3s6uh1=7e@mail.gmail.com>

Before I posted this last week I could have sworn that I deleted all of the
code in that file and still received a 404, but I must have been mistaken.
It turns out that the original developer of this theme used this line at the
top of the file:

require('../../../wp-blog-header.php');

That was causing WP 3.0 to throw a 404 error AND serve up the correct
content, which is a weird behavior that causes mixed reactions across
browsers. Anyways, the quick fix I put in was to just replace that line with
this:

@require('../../../wp-config.php');
@$wp->init();

This is obviously not ideal, but I just needed a really quick fix until we
overhaul the theme at a later date. If there is an even better quick fix,
let me know. When we overhaul it, I will be moving to a parent-child theme
approach where style customizations are done in the child theme's style.css
file instead of in a php file.

Thanks for your help guys,

Dave

From list at expost.org  Tue Sep  7 17:00:45 2010
From: list at expost.org (Raj)
Date: Tue, 7 Sep 2010 22:30:45 +0530
Subject: [wp-hackers] Getting a 404 error when requesting a .php file as
	a stylesheet in WP 3.0.1
In-Reply-To: <AANLkTi=Ni=nrM959NCxtkLFd=78qZdap5sP3s6uh1=7e@mail.gmail.com>
References: <AANLkTinj3Py3PeAsYPiZd0LFYwr+RezzLBib3K2ezqzn@mail.gmail.com><AANLkTi=XO-DvjeCBUHmAc=3g2tC_V6tzF8UuutFT6vuo@mail.gmail.com><AANLkTik0edmyCErAjvuWwT+=78LMCzua4pNm42Tsjjnq@mail.gmail.com>
	<AANLkTi=Ni=nrM959NCxtkLFd=78qZdap5sP3s6uh1=7e@mail.gmail.com>
Message-ID: <000001cb4eae$3ea7c710$bbf75530$@expost.org>

I think the appropriate file to include is wp-load.php

include ("../../../wp-load.php");

You do not have to call init() if you're just trying to serve a stylesheet. 

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of David Morris
Sent: Tuesday, September 07, 2010 10:08 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Getting a 404 error when requesting a .php file as
a stylesheet in WP 3.0.1

Before I posted this last week I could have sworn that I deleted all of the
code in that file and still received a 404, but I must have been mistaken.
It turns out that the original developer of this theme used this line at the
top of the file:

require('../../../wp-blog-header.php');

That was causing WP 3.0 to throw a 404 error AND serve up the correct
content, which is a weird behavior that causes mixed reactions across
browsers. Anyways, the quick fix I put in was to just replace that line with
this:

@require('../../../wp-config.php');
@$wp->init();

This is obviously not ideal, but I just needed a really quick fix until we
overhaul the theme at a later date. If there is an even better quick fix,
let me know. When we overhaul it, I will be moving to a parent-child theme
approach where style customizations are done in the child theme's style.css
file instead of in a php file.

Thanks for your help guys,

Dave
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp-hackers at nicolaskuttler.de  Tue Sep  7 17:34:33 2010
From: wp-hackers at nicolaskuttler.de (Nicolas Kuttler)
Date: Tue, 7 Sep 2010 19:34:33 +0200
Subject: [wp-hackers] Getting a 404 error when requesting a .php file	as
	a stylesheet in WP 3.0.1
In-Reply-To: <000001cb4eae$3ea7c710$bbf75530$@expost.org>
References: <AANLkTi=Ni=nrM959NCxtkLFd=78qZdap5sP3s6uh1=7e@mail.gmail.com>
	<000001cb4eae$3ea7c710$bbf75530$@expost.org>
Message-ID: <20100907173433.GQ12148@nicolaskuttler.de>

On Tue, Sep 07, 2010 at 10:30:45PM +0530, Raj wrote:
> I think the appropriate file to include is wp-load.php
> 
> include ("../../../wp-load.php");

Please see

http://ottodestruct.com/blog/2010/dont-include-wp-load-please/

It's rather myserious why a theme would do that (unless a misguided
coder tried to implement some ajax).

Nicolas

--
Nicolas Kuttler
wp at nkuttler.de

http://www.nkuttler.de
http://www.nicolaskuttler.de (deutsch)

From jayarjo at gmail.com  Tue Sep  7 17:38:36 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Tue, 7 Sep 2010 21:38:36 +0400
Subject: [wp-hackers] do_action() inside the callback for the
 register_activation_hook()... doesn't work?
Message-ID: <AANLkTi=1fYHaCmBsMXqEsw=AVmGnpGqoL8oGBVXAUvCJ@mail.gmail.com>

Basically I've got plugin class extending framework class which does
some dirty staff for it, like creating/updating tables and options
upon activation, etc. What I wanted was to trigger an action at the
end of  register_activation_hook callback, after all the dirty work
has been done, leaving a space for plugin specific extension. But a
callback hooked onto the corresponding action, never gets called.
Hence the assumption that it isn't possible to trigger an action from
within the register_activation_hook() callback. Is it so? Why?

-- 
Davit Barbakadze

From austin at ilfilosofo.com  Tue Sep  7 17:59:26 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Tue, 7 Sep 2010 12:59:26 -0500
Subject: [wp-hackers] do_action() inside the callback for the
 register_activation_hook()... doesn't work?
In-Reply-To: <AANLkTi=1fYHaCmBsMXqEsw=AVmGnpGqoL8oGBVXAUvCJ@mail.gmail.com>
References: <AANLkTi=1fYHaCmBsMXqEsw=AVmGnpGqoL8oGBVXAUvCJ@mail.gmail.com>
Message-ID: <AANLkTinLbchgt+=cyiCJd1Es2Hi=DXmFcwOgeStdwRFh@mail.gmail.com>

On Tue, Sep 7, 2010 at 12:38 PM, Davit Barbakadze <jayarjo at gmail.com> wrote:
> Basically I've got plugin class extending framework class which does
> some dirty staff for it, like creating/updating tables and options
> upon activation, etc. What I wanted was to trigger an action at the
> end of ?register_activation_hook callback, after all the dirty work
> has been done, leaving a space for plugin specific extension. But a
> callback hooked onto the corresponding action, never gets called.
> Hence the assumption that it isn't possible to trigger an action from
> within the register_activation_hook() callback. Is it so? Why?

Probably what's happening is that you haven't attached the callbacks
to that action hook you're trying call, at least within the same page
load as when your activation hook gets called.

When you activate a plugin, function activate_plugin() includes the
plugin file as part of a test to make sure that the plugin doesn't
throw any fatal errors.  However, it does so after many common action
events have already occurred: "plugins_loaded," "init," etc.  That
means that any callbacks attached to those action hook events won't
happen when activate_plugin() does its next step--triggering the
activation hook.

Instead of attaching a callback to an action hook and then triggering
the action hook, why don't you just call the callback function
directly?

From otto at ottodestruct.com  Tue Sep  7 18:08:08 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 7 Sep 2010 13:08:08 -0500
Subject: [wp-hackers] Getting a 404 error when requesting a .php file as
 a stylesheet in WP 3.0.1
In-Reply-To: <20100907173433.GQ12148@nicolaskuttler.de>
References: <AANLkTi=Ni=nrM959NCxtkLFd=78qZdap5sP3s6uh1=7e@mail.gmail.com>
	<000001cb4eae$3ea7c710$bbf75530$@expost.org>
	<20100907173433.GQ12148@nicolaskuttler.de>
Message-ID: <AANLkTikGETRxaA4+pu=y=x7ceiE+_uc5ooN52FOhw=b-@mail.gmail.com>

For javascripts, there's a better way:
http://ottopress.com/2010/passing-parameters-from-php-to-javascripts-in-plugins/

For themes using this sort of thing to load stylesheets, then you have
two options:

1. Put the custom styles directly into the HTML using the wp_head
hook. This is actually the best way, as it produces the smallest code
and you can have it custom on a per-page or whatever basis you like.
This is how WordPress actually does the custom background stuff.

2. "Right way the second" as defined here:
http://ottopress.com/2010/dont-include-wp-load-please/ . This is not a
great alternative, but it will work if you're a stickler for using
separated stylesheets.

-Otto



On Tue, Sep 7, 2010 at 12:34 PM, Nicolas Kuttler
<wp-hackers at nicolaskuttler.de> wrote:
> Please see
>
> http://ottodestruct.com/blog/2010/dont-include-wp-load-please/
>
> It's rather myserious why a theme would do that (unless a misguided
> coder tried to implement some ajax).

From dvmorris at gmail.com  Tue Sep  7 18:30:52 2010
From: dvmorris at gmail.com (David Morris)
Date: Tue, 7 Sep 2010 13:30:52 -0500
Subject: [wp-hackers] Getting a 404 error when requesting a .php file as
 a stylesheet in WP 3.0.1
In-Reply-To: <AANLkTikGETRxaA4+pu=y=x7ceiE+_uc5ooN52FOhw=b-@mail.gmail.com>
References: <AANLkTi=Ni=nrM959NCxtkLFd=78qZdap5sP3s6uh1=7e@mail.gmail.com>
	<000001cb4eae$3ea7c710$bbf75530$@expost.org>
	<20100907173433.GQ12148@nicolaskuttler.de>
	<AANLkTikGETRxaA4+pu=y=x7ceiE+_uc5ooN52FOhw=b-@mail.gmail.com>
Message-ID: <AANLkTi=4Wo-nqcmPEVREPp=kmrisgjONnNztKAMQQ59y@mail.gmail.com>

Thanks for the help, all. I will keep these techniques in mind in the
future.

Dave

On Tue, Sep 7, 2010 at 1:08 PM, Otto <otto at ottodestruct.com> wrote:

> For javascripts, there's a better way:
>
> http://ottopress.com/2010/passing-parameters-from-php-to-javascripts-in-plugins/
>
> For themes using this sort of thing to load stylesheets, then you have
> two options:
>
> 1. Put the custom styles directly into the HTML using the wp_head
> hook. This is actually the best way, as it produces the smallest code
> and you can have it custom on a per-page or whatever basis you like.
> This is how WordPress actually does the custom background stuff.
>
> 2. "Right way the second" as defined here:
> http://ottopress.com/2010/dont-include-wp-load-please/ . This is not a
> great alternative, but it will work if you're a stickler for using
> separated stylesheets.
>
> -Otto
>
>
>
> On Tue, Sep 7, 2010 at 12:34 PM, Nicolas Kuttler
> <wp-hackers at nicolaskuttler.de> wrote:
> > Please see
> >
> > http://ottodestruct.com/blog/2010/dont-include-wp-load-please/
> >
> > It's rather myserious why a theme would do that (unless a misguided
> > coder tried to implement some ajax).
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From scribu at gmail.com  Tue Sep  7 21:27:16 2010
From: scribu at gmail.com (scribu)
Date: Wed, 8 Sep 2010 00:27:16 +0300
Subject: [wp-hackers] How To Append Content To A Post?
In-Reply-To: <000e01cb4ea9$f503af10$df0b0d30$@expost.org>
References: <000001cb4e9d$5bcc51a0$1364f4e0$@expost.org>
	<000801cb4e9d$91869760$b493c620$@expost.org>
	<2103786864.200475.1283872402722.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<000d01cb4ea7$4e707950$eb516bf0$@expost.org>
	<1838831850.202680.1283876095323.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<AANLkTiksfRx-RbtJS1_26-eNb-3N3MaTZrAyVUsvZVQ7@mail.gmail.com>
	<000e01cb4ea9$f503af10$df0b0d30$@expost.org>
Message-ID: <AANLkTinPwAOBotCGgE2pKdnj8t5PJqDB1-BzPrpbGLUa@mail.gmail.com>

On Tue, Sep 7, 2010 at 7:30 PM, Raj <list at expost.org> wrote:

> I meant as part of the loop. Suppose I want to insert an advertisement for
> posts of a particular category only. How would I do this other than by
> receiving the post ID as a part of a filter and then checking if the post
> belongs to a particular category?
>

Inside The Loop, you can just use in_category():

http://codex.wordpress.org/Function_Reference/in_category

The post ID can be accesed via the $post global: $post->ID.

-- 
http://scribu.net

From CaptainN at unFocus.com  Tue Sep  7 21:48:06 2010
From: CaptainN at unFocus.com (Kevin Newman)
Date: Tue, 07 Sep 2010 17:48:06 -0400
Subject: [wp-hackers] create Draft from published cabability
Message-ID: <4C86B316.8070304@unFocus.com>

  Hi,

I'm working on a custom post type plugin, and i'd like to have users 
that can edit this custom post even if it has been published - but not 
to be able to publish the changes immediately.

I didn't see any existing capabilities flags that exist to do this 
(contributor role's capabilities are close). The functionality seem to 
exist to enable this kind of functionality - for example, if the admin 
or an editor edits a published post, it'll create a draft, and will not 
affect the published content until admin publishes again. This is pretty 
close to functionality I'm looking for - except I want to allow the 
contributor to create the draft from a published post.

I'll try to work that out by adding custom capabilities, but I figured 
I'd ask if anyone has done something similar first. :-)

Thanks,

Kevin N.


From dvmorris at gmail.com  Tue Sep  7 22:33:14 2010
From: dvmorris at gmail.com (David Morris)
Date: Tue, 7 Sep 2010 17:33:14 -0500
Subject: [wp-hackers] Removing the canonical URL redirection for /page/1 in
	WP 3.0
Message-ID: <AANLkTimE7u=94KDbkyJvkoQXcxtKcDWeTYfO6BRBKWsf@mail.gmail.com>

Is there any way to have WordPress 3.0 not redirect /page/1/ URLs to the
root URL of the blog?

2.9.1 seems to leave that URL alone, and now 3.0 does a 301 redirect. I
would like to try and keep this URL intact. I started looking into the code
in wp-includes/canonical.php around line 190 just to get a feel for what's
going on, but I haven't gotten too far into that code.

Let me know if you have any ideas. Thanks for your help,

Dave Morris

From mikeschinkel at newclarity.net  Tue Sep  7 22:41:30 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 7 Sep 2010 18:41:30 -0400
Subject: [wp-hackers] Removing the canonical URL redirection for /page/1
	in WP 3.0
In-Reply-To: <AANLkTimE7u=94KDbkyJvkoQXcxtKcDWeTYfO6BRBKWsf@mail.gmail.com>
References: <AANLkTimE7u=94KDbkyJvkoQXcxtKcDWeTYfO6BRBKWsf@mail.gmail.com>
Message-ID: <EAC5FF79-304B-4D38-945B-51BFAFEF5D43@newclarity.net>

Hi Dave,

I think you want the redirect_canonical hook.  Here's a skelton showing you what I think you need:

add_filter('redirect_canonical', 'my_redirect_canonical');
function my_redirect_canonical($redirect_url, $requested_url) {
  $do_redirect = true;
  if (/* your expression to detect page not to redirect */) 
    $do_redirect = false;
  )
  return $do_redirect;
}

Hope this helps.

-Mike


On Sep 7, 2010, at 6:33 PM, David Morris wrote:

> Is there any way to have WordPress 3.0 not redirect /page/1/ URLs to the
> root URL of the blog?
> 
> 2.9.1 seems to leave that URL alone, and now 3.0 does a 301 redirect. I
> would like to try and keep this URL intact. I started looking into the code
> in wp-includes/canonical.php around line 190 just to get a feel for what's
> going on, but I haven't gotten too far into that code.
> 
> Let me know if you have any ideas. Thanks for your help,
> 
> Dave Morris
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From rbilesky at gmail.com  Tue Sep  7 23:48:14 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Tue, 7 Sep 2010 16:48:14 -0700
Subject: [wp-hackers] minimum version
Message-ID: <AANLkTikvr-3WBtpqoebs8eLrqhVoyLV8x5cO61G1BRBM@mail.gmail.com>

Is there an easy trick to figure out what the minimum version of wordpress
my plugin will work with?

From scribu at gmail.com  Wed Sep  8 00:01:20 2010
From: scribu at gmail.com (scribu)
Date: Wed, 8 Sep 2010 03:01:20 +0300
Subject: [wp-hackers] minimum version
In-Reply-To: <AANLkTikvr-3WBtpqoebs8eLrqhVoyLV8x5cO61G1BRBM@mail.gmail.com>
References: <AANLkTikvr-3WBtpqoebs8eLrqhVoyLV8x5cO61G1BRBM@mail.gmail.com>
Message-ID: <AANLkTi=_NHfYOjJtmAD1-tW00DZ+gLvSUpA7BFqxnoeL@mail.gmail.com>

On Wed, Sep 8, 2010 at 2:48 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Is there an easy trick to figure out what the minimum version of wordpress
> my plugin will work with?
>

Nope, at least not reliably.


-- 
http://scribu.net

From cross at thisismyurl.com  Wed Sep  8 00:39:41 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Tue, 7 Sep 2010 21:39:41 -0300
Subject: [wp-hackers] minimum version
In-Reply-To: <AANLkTikvr-3WBtpqoebs8eLrqhVoyLV8x5cO61G1BRBM@mail.gmail.com>
References: <AANLkTikvr-3WBtpqoebs8eLrqhVoyLV8x5cO61G1BRBM@mail.gmail.com>
Message-ID: <B2CFE7A3-EA09-4D56-A7E0-7E053A81B5E0@thisismyurl.com>

None that I've found but with that said, the easy way would be to look at the WP specific calls you've included and check which versions they're included in but that could be tedious.

c.


On 2010-09-07, at 8:48 PM, Ryan Bilesky wrote:

> Is there an easy trick to figure out what the minimum version of wordpress
> my plugin will work with?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708
New Orleans 1 (504) 322 3485

http://christopherross.ca
http://www.thisismyurl.com


From mark at simplercomputing.net  Wed Sep  8 01:16:32 2010
From: mark at simplercomputing.net (Mark E)
Date: Tue, 07 Sep 2010 19:16:32 -0600
Subject: [wp-hackers] minimum version
In-Reply-To: <AANLkTikvr-3WBtpqoebs8eLrqhVoyLV8x5cO61G1BRBM@mail.gmail.com>
References: <AANLkTikvr-3WBtpqoebs8eLrqhVoyLV8x5cO61G1BRBM@mail.gmail.com>
Message-ID: <4C86E3F0.4090104@simplercomputing.net>

On 09/07/2010 05:48 PM, Ryan Bilesky wrote:
 > Is there an easy trick to figure out what the minimum version of
 > wordpress my plugin will work with?

On a related note, and just for sake of reference, devs can put 
something like this code snippet below in their code to make sure 
someone isn't running a version of WP that definitely won't work with a 
plugin, or theme:

------------------------
global $wp_version;

if ( !version_compare( $wp_version, "2.9", ">" ) ) {

     echo '<div style="width:100%; background-color: #cf0000; 
text-align:center; color:#fff; font-style: italic; font-weight: 
bold;font-size: 14px; padding: 4px 0">';

     _e('The XYZ123 Plugin/Theme requires WordPress version 2.9 or 
newer. <a style="color:#fff !important" 
href="http://codex.wordpress.org/Upgrading_WordPress" 
target="_blank">Please upgrade!</a>', $this->localization_domain);

     echo '</div>';

}
---------------------------

Mark




From mark at simplercomputing.net  Wed Sep  8 01:21:14 2010
From: mark at simplercomputing.net (Mark E)
Date: Tue, 07 Sep 2010 19:21:14 -0600
Subject: [wp-hackers] minimum version
In-Reply-To: <AANLkTikvr-3WBtpqoebs8eLrqhVoyLV8x5cO61G1BRBM@mail.gmail.com>
References: <AANLkTikvr-3WBtpqoebs8eLrqhVoyLV8x5cO61G1BRBM@mail.gmail.com>
Message-ID: <4C86E50A.4090905@simplercomputing.net>



On 09/07/2010 05:48 PM, Ryan Bilesky wrote:
> Is there an easy trick to figure out what the minimum version of wordpress
> my plugin will work with?

Here's my perspective on that issue: Running old versions of WordPress 
is a very very very bad idea, mainly because of security holes that are 
patched in later versions.

So, two simple ways to contribute to better security is to (1) not let 
your plugin run on too old of a version of WP (for example, one major 
point release back is pushing the limit of sensibility), and (2) make 
sure your own code doesn't create holes that intruders can waltz through.

Mark

From jayarjo at gmail.com  Wed Sep  8 06:14:43 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Wed, 8 Sep 2010 10:14:43 +0400
Subject: [wp-hackers] do_action() inside the callback for the
 register_activation_hook()... doesn't work?
In-Reply-To: <AANLkTinLbchgt+=cyiCJd1Es2Hi=DXmFcwOgeStdwRFh@mail.gmail.com>
References: <AANLkTi=1fYHaCmBsMXqEsw=AVmGnpGqoL8oGBVXAUvCJ@mail.gmail.com>
	<AANLkTinLbchgt+=cyiCJd1Es2Hi=DXmFcwOgeStdwRFh@mail.gmail.com>
Message-ID: <AANLkTikT2Ds+tEe7bDFuhkxbT=GUWfS6y--+=5=bELzO@mail.gmail.com>

Thanks Austin,

Probably I will still need to read that part to understand it fully.

I'm calling the dummy function directly now, after messing with
activation hook for hours.

On Tue, Sep 7, 2010 at 9:59 PM, Austin Matzko <austin at ilfilosofo.com> wrote:
> On Tue, Sep 7, 2010 at 12:38 PM, Davit Barbakadze <jayarjo at gmail.com> wrote:
>> Basically I've got plugin class extending framework class which does
>> some dirty staff for it, like creating/updating tables and options
>> upon activation, etc. What I wanted was to trigger an action at the
>> end of ?register_activation_hook callback, after all the dirty work
>> has been done, leaving a space for plugin specific extension. But a
>> callback hooked onto the corresponding action, never gets called.
>> Hence the assumption that it isn't possible to trigger an action from
>> within the register_activation_hook() callback. Is it so? Why?
>
> Probably what's happening is that you haven't attached the callbacks
> to that action hook you're trying call, at least within the same page
> load as when your activation hook gets called.
>
> When you activate a plugin, function activate_plugin() includes the
> plugin file as part of a test to make sure that the plugin doesn't
> throw any fatal errors. ?However, it does so after many common action
> events have already occurred: "plugins_loaded," "init," etc. ?That
> means that any callbacks attached to those action hook events won't
> happen when activate_plugin() does its next step--triggering the
> activation hook.
>
> Instead of attaching a callback to an action hook and then triggering
> the action hook, why don't you just call the callback function
> directly?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From dan at dansmart.co.uk  Wed Sep  8 09:32:53 2010
From: dan at dansmart.co.uk (Dan Smart)
Date: Wed, 8 Sep 2010 10:32:53 +0100
Subject: [wp-hackers] How do I get my wp_nav_menu single category post to
	highlight the entire ancestor trail?
Message-ID: <003301cb4f38$d0d00e10$72702a30$@co.uk>

Hi everyone,

 

I posted this on http://wordpress.stackexchange.com but was told it wasn't
possible to do what I'm attemptin to do, so I thought I'd bring it here. At
least, it should be something that is fixed in 3.1.

 

http://wordpress.stackexchange.com/questions/1481/how-do-i-get-my-wp-nav-men
u-single-category-page-to-highlight-the-parent 

 

With the new wp_nav_menu system, it is possible to add a category as a menu
item, so in my example I have a 'news' category, which is a submenu item of
'About'.

About (page)
--news (category)
--history (page)
--contact us (page) 

The menu highlighting CSS picks up from current-menu-parent and
current-menu-ancestor, so that when I'm in a submenu section, the top level
menu item (e.g. 'About') is highlighted when I visit 'news'.

This works fine, apart from when I visit a post in the 'news' category,
which matches is_single() and in_category('news').

As far as I can see in Firebug, the 'current-menu-parent' and
'current-menu-ancestor' is applied to the 'news' menu item, however it's not
applied to the 'About' top level menu item.

It seems that the initial menu ancestors are not being set up properly in
_wp_menu_item_classes_by_context() in wp-includes/nav-menu-template.php?

I really don't want to have to go down the maintenance challenge of a patch
in core.

Any ideas?

Thanks, Dan

 

----------------------------------------------------------------------------
---------

Dan Smart - Freelance Web Developer

Web: www.dansmart.co.uk

Tel: +447931588361

Follow me at: www.twitter.com/danielsmart

 


From scribu at gmail.com  Wed Sep  8 11:26:36 2010
From: scribu at gmail.com (scribu)
Date: Wed, 8 Sep 2010 14:26:36 +0300
Subject: [wp-hackers] Search in given taxonomy term
In-Reply-To: <4C862D34.4050406@mrhead.sk>
References: <4C862D34.4050406@mrhead.sk>
Message-ID: <AANLkTikjkVPkOJPGbckBNtnRnZvZp61JHNSSvc1rcPys@mail.gmail.com>

On Tue, Sep 7, 2010 at 3:16 PM, Patrik B?na <patrik.bona at mrhead.sk> wrote:

> Do you know how to search posts within given custom taxonomy ? If i want to
> search posts just within one category it is possible, but if i want to do
> this with custom taxonomy then taxonomy and term parameters are ignored...
>

Please provide the relevant code block.

-- 
http://scribu.net

From patrik.bona at mrhead.sk  Wed Sep  8 11:43:12 2010
From: patrik.bona at mrhead.sk (=?UTF-8?B?UGF0cmlrIELDs25h?=)
Date: Wed, 08 Sep 2010 13:43:12 +0200
Subject: [wp-hackers] Search in given taxonomy term
In-Reply-To: <AANLkTikjkVPkOJPGbckBNtnRnZvZp61JHNSSvc1rcPys@mail.gmail.com>
References: <4C862D34.4050406@mrhead.sk>
	<AANLkTikjkVPkOJPGbckBNtnRnZvZp61JHNSSvc1rcPys@mail.gmail.com>
Message-ID: <4C8776D0.2000908@mrhead.sk>

For example:

query_posts("taxonomy=jazyk&term=sk&s=word');

in this case taxonomy and term are ignored a everything containing 
'word' is returned...

And it is also same if i type these parameters to url without query_posts...

Patrik

On 09/08/2010 01:26 PM, scribu wrote:
> On Tue, Sep 7, 2010 at 3:16 PM, Patrik B?na<patrik.bona at mrhead.sk>  wrote:
>
>    
>> Do you know how to search posts within given custom taxonomy ? If i want to
>> search posts just within one category it is possible, but if i want to do
>> this with custom taxonomy then taxonomy and term parameters are ignored...
>>
>>      
> Please provide the relevant code block.
>
>    


From scribu at gmail.com  Wed Sep  8 12:21:37 2010
From: scribu at gmail.com (scribu)
Date: Wed, 8 Sep 2010 15:21:37 +0300
Subject: [wp-hackers] Search in given taxonomy term
In-Reply-To: <4C8776D0.2000908@mrhead.sk>
References: <4C862D34.4050406@mrhead.sk>
	<AANLkTikjkVPkOJPGbckBNtnRnZvZp61JHNSSvc1rcPys@mail.gmail.com>
	<4C8776D0.2000908@mrhead.sk>
Message-ID: <AANLkTikY+nHK2Q7v_N61XRrjAySTxBqiOQ_MWfTo2j9b@mail.gmail.com>

On Wed, Sep 8, 2010 at 2:43 PM, Patrik B?na <patrik.bona at mrhead.sk> wrote:

> For example:
>
> query_posts("taxonomy=jazyk&term=sk&s=word');
>
> in this case taxonomy and term are ignored a everything containing 'word'
> is returned...
>
> And it is also same if i type these parameters to url without
> query_posts...
>

I see. That's a bug. You should open a ticket in trac.


-- 
http://scribu.net

From johnbillion+wp at gmail.com  Wed Sep  8 13:18:28 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Wed, 8 Sep 2010 14:18:28 +0100
Subject: [wp-hackers] Search in given taxonomy term
In-Reply-To: <AANLkTikY+nHK2Q7v_N61XRrjAySTxBqiOQ_MWfTo2j9b@mail.gmail.com>
References: <4C862D34.4050406@mrhead.sk>
	<AANLkTikjkVPkOJPGbckBNtnRnZvZp61JHNSSvc1rcPys@mail.gmail.com>
	<4C8776D0.2000908@mrhead.sk>
	<AANLkTikY+nHK2Q7v_N61XRrjAySTxBqiOQ_MWfTo2j9b@mail.gmail.com>
Message-ID: <AANLkTinFNphjW+BHy4OtQP1LSFWG7k0Qtk8-j9FJQ=wb@mail.gmail.com>

Patrik, can you try the same thing but using ("jazyk=sk&s=word") and
see if that works?

On Wed, Sep 8, 2010 at 1:21 PM, scribu <scribu at gmail.com> wrote:
> On Wed, Sep 8, 2010 at 2:43 PM, Patrik B?na <patrik.bona at mrhead.sk> wrote:
>
>> For example:
>>
>> query_posts("taxonomy=jazyk&term=sk&s=word');
>>
>> in this case taxonomy and term are ignored a everything containing 'word'
>> is returned...
>>
>> And it is also same if i type these parameters to url without
>> query_posts...
>>
>
> I see. That's a bug. You should open a ticket in trac.
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dvmorris at gmail.com  Wed Sep  8 14:43:04 2010
From: dvmorris at gmail.com (David Morris)
Date: Wed, 8 Sep 2010 09:43:04 -0500
Subject: [wp-hackers] Removing the canonical URL redirection for /page/1
 in WP 3.0
In-Reply-To: <EAC5FF79-304B-4D38-945B-51BFAFEF5D43@newclarity.net>
References: <AANLkTimE7u=94KDbkyJvkoQXcxtKcDWeTYfO6BRBKWsf@mail.gmail.com>
	<EAC5FF79-304B-4D38-945B-51BFAFEF5D43@newclarity.net>
Message-ID: <AANLkTim1f-yy1in5YJB9QzBcFBYffujR_QM8J_bu-1tQ@mail.gmail.com>

Mike,

That worked great! The only thing I had to change was to add two parameters
to the add_filter() call, for priority and number of arguments. For some
reason, the $requested_url wasn't being sent to my filter without specifying
a 2 for that parameter in the add_filter() call.

Thank you so much for your help,

Dave

On Tue, Sep 7, 2010 at 5:41 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> Hi Dave,
>
> I think you want the redirect_canonical hook.  Here's a skelton showing you
> what I think you need:
>
> add_filter('redirect_canonical', 'my_redirect_canonical');
> function my_redirect_canonical($redirect_url, $requested_url) {
>  $do_redirect = true;
>  if (/* your expression to detect page not to redirect */)
>    $do_redirect = false;
>  )
>  return $do_redirect;
> }
>
> Hope this helps.
>
> -Mike
>
>
> On Sep 7, 2010, at 6:33 PM, David Morris wrote:
>
> > Is there any way to have WordPress 3.0 not redirect /page/1/ URLs to the
> > root URL of the blog?
> >
> > 2.9.1 seems to leave that URL alone, and now 3.0 does a 301 redirect. I
> > would like to try and keep this URL intact. I started looking into the
> code
> > in wp-includes/canonical.php around line 190 just to get a feel for
> what's
> > going on, but I haven't gotten too far into that code.
> >
> > Let me know if you have any ideas. Thanks for your help,
> >
> > Dave Morris
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From dvmorris at gmail.com  Wed Sep  8 14:43:04 2010
From: dvmorris at gmail.com (David Morris)
Date: Wed, 8 Sep 2010 09:43:04 -0500
Subject: [wp-hackers] Removing the canonical URL redirection for /page/1
 in WP 3.0
In-Reply-To: <EAC5FF79-304B-4D38-945B-51BFAFEF5D43@newclarity.net>
References: <AANLkTimE7u=94KDbkyJvkoQXcxtKcDWeTYfO6BRBKWsf@mail.gmail.com>
	<EAC5FF79-304B-4D38-945B-51BFAFEF5D43@newclarity.net>
Message-ID: <AANLkTim1f-yy1in5YJB9QzBcFBYffujR_QM8J_bu-1tQ@mail.gmail.com>

Mike,

That worked great! The only thing I had to change was to add two parameters
to the add_filter() call, for priority and number of arguments. For some
reason, the $requested_url wasn't being sent to my filter without specifying
a 2 for that parameter in the add_filter() call.

Thank you so much for your help,

Dave

On Tue, Sep 7, 2010 at 5:41 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> Hi Dave,
>
> I think you want the redirect_canonical hook.  Here's a skelton showing you
> what I think you need:
>
> add_filter('redirect_canonical', 'my_redirect_canonical');
> function my_redirect_canonical($redirect_url, $requested_url) {
>  $do_redirect = true;
>  if (/* your expression to detect page not to redirect */)
>    $do_redirect = false;
>  )
>  return $do_redirect;
> }
>
> Hope this helps.
>
> -Mike
>
>
> On Sep 7, 2010, at 6:33 PM, David Morris wrote:
>
> > Is there any way to have WordPress 3.0 not redirect /page/1/ URLs to the
> > root URL of the blog?
> >
> > 2.9.1 seems to leave that URL alone, and now 3.0 does a 301 redirect. I
> > would like to try and keep this URL intact. I started looking into the
> code
> > in wp-includes/canonical.php around line 190 just to get a feel for
> what's
> > going on, but I haven't gotten too far into that code.
> >
> > Let me know if you have any ideas. Thanks for your help,
> >
> > Dave Morris
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From patrik.bona at mrhead.sk  Wed Sep  8 15:22:21 2010
From: patrik.bona at mrhead.sk (=?ISO-8859-1?Q?Patrik_B=F3na?=)
Date: Wed, 08 Sep 2010 17:22:21 +0200
Subject: [wp-hackers] Search in given taxonomy term
In-Reply-To: <AANLkTinFNphjW+BHy4OtQP1LSFWG7k0Qtk8-j9FJQ=wb@mail.gmail.com>
References: <4C862D34.4050406@mrhead.sk>	<AANLkTikjkVPkOJPGbckBNtnRnZvZp61JHNSSvc1rcPys@mail.gmail.com>	<4C8776D0.2000908@mrhead.sk>	<AANLkTikY+nHK2Q7v_N61XRrjAySTxBqiOQ_MWfTo2j9b@mail.gmail.com>
	<AANLkTinFNphjW+BHy4OtQP1LSFWG7k0Qtk8-j9FJQ=wb@mail.gmail.com>
Message-ID: <4C87AA2D.9080207@mrhead.sk>

Hi John,

The result is the same. Taxonomy is ignored...

Patrik

On 09/08/2010 03:18 PM, John Blackbourn wrote:
> Patrik, can you try the same thing but using ("jazyk=sk&s=word") and
> see if that works?
>
> On Wed, Sep 8, 2010 at 1:21 PM, scribu<scribu at gmail.com>  wrote:
>    
>> On Wed, Sep 8, 2010 at 2:43 PM, Patrik B?na<patrik.bona at mrhead.sk>  wrote:
>>
>>      
>>> For example:
>>>
>>> query_posts("taxonomy=jazyk&term=sk&s=word');
>>>
>>> in this case taxonomy and term are ignored a everything containing 'word'
>>> is returned...
>>>
>>> And it is also same if i type these parameters to url without
>>> query_posts...
>>>
>>>        
>> I see. That's a bug. You should open a ticket in trac.
>>
>>
>> --
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>      
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>    


From mikeschinkel at newclarity.net  Wed Sep  8 15:57:38 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 8 Sep 2010 11:57:38 -0400
Subject: [wp-hackers] Removing the canonical URL redirection for /page/1
	in WP 3.0
In-Reply-To: <AANLkTim1f-yy1in5YJB9QzBcFBYffujR_QM8J_bu-1tQ@mail.gmail.com>
References: <AANLkTimE7u=94KDbkyJvkoQXcxtKcDWeTYfO6BRBKWsf@mail.gmail.com>
	<EAC5FF79-304B-4D38-945B-51BFAFEF5D43@newclarity.net>
	<AANLkTim1f-yy1in5YJB9QzBcFBYffujR_QM8J_bu-1tQ@mail.gmail.com>
Message-ID: <33E47A3D-07DF-4CBB-A316-BB4F52542AE9@newclarity.net>

n Sep 8, 2010, at 10:43 AM, David Morris wrote:
> That worked great! The only thing I had to change was to add two parameters
> to the add_filter() call, for priority and number of arguments. For some
> reason, the $requested_url wasn't being sent to my filter without specifying
> a 2 for that parameter in the add_filter() call.

Happens when I suggest but don't test. :-( 
Sorry about missing that; hope the oversight didn't cause too much trouble.

-Mike

From johnbillion+wp at gmail.com  Wed Sep  8 16:33:00 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Wed, 8 Sep 2010 17:33:00 +0100
Subject: [wp-hackers] Removing the canonical URL redirection for /page/1
 in WP 3.0
In-Reply-To: <33E47A3D-07DF-4CBB-A316-BB4F52542AE9@newclarity.net>
References: <AANLkTimE7u=94KDbkyJvkoQXcxtKcDWeTYfO6BRBKWsf@mail.gmail.com>
	<EAC5FF79-304B-4D38-945B-51BFAFEF5D43@newclarity.net>
	<AANLkTim1f-yy1in5YJB9QzBcFBYffujR_QM8J_bu-1tQ@mail.gmail.com>
	<33E47A3D-07DF-4CBB-A316-BB4F52542AE9@newclarity.net>
Message-ID: <AANLkTinsLT+AjSK-VPZ_c55fmgqrjZ+JGw==OdwM5=+R@mail.gmail.com>

IIRC you should return $redirect_url rather than 'true' in that filter
(except when you're returning 'false' of course). The return value is
used as the URL to redirect to.

On Wed, Sep 8, 2010 at 4:57 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> n Sep 8, 2010, at 10:43 AM, David Morris wrote:
>> That worked great! The only thing I had to change was to add two parameters
>> to the add_filter() call, for priority and number of arguments. For some
>> reason, the $requested_url wasn't being sent to my filter without specifying
>> a 2 for that parameter in the add_filter() call.
>
> Happens when I suggest but don't test. :-(
> Sorry about missing that; hope the oversight didn't cause too much trouble.
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From hanskrentel at yahoo.de  Wed Sep  8 16:36:30 2010
From: hanskrentel at yahoo.de (hakre)
Date: Wed, 8 Sep 2010 16:36:30 +0000 (GMT)
Subject: [wp-hackers] Hook (Filter, Action) Documentation Idea
Message-ID: <996904.26925.qm@web24104.mail.ird.yahoo.com>

While I've be doing a lot of work related to hooks in wordpress lately, the 
following idea came into my mind:

To create a PHP file that contains functions for documentation purposes 
containing all hook names as function names.

The hooks name is defined by using it as function name. If the hook contains 
variable parts, they should be replaced with a uppercase marker (hook names are 
all lower case), like VARY or similar.

The hooks parameter can be specified by defining them in the function header.

Meta Information can be provided via docblock comments.

Such a file can be easily parsed with the PHP Reflection classes as well as with 
tools like phpdocumentor to render stuff out.

Example:

/**
 * Pre Option Filter
 *
 * Description
 *
 * @since 1.5.0
 * @-wp-type  filter
 * @-wp-vary option name
 * @param mixed $value option value
 */
function pre_site_option_VARY($value) {
}

It might be an even better idea to create a class and put all functions inside. 
Might be easier to test against and can be included even in running applications 
w/o much fuzz.

Such a file can be added to version control and kept in line with the main code.

Feedback appreceated.

-- hakre

 http://hakre.wordpress.com/




From wordpress at santosj.name  Wed Sep  8 17:01:25 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Wed, 8 Sep 2010 12:01:25 -0500
Subject: [wp-hackers] Hook (Filter, Action) Documentation Idea
In-Reply-To: <996904.26925.qm@web24104.mail.ird.yahoo.com>
References: <996904.26925.qm@web24104.mail.ird.yahoo.com>
Message-ID: <AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>

I went around and around with a lot of ideas with hook documentation. In my
opinion, I believe a specialized phpdoc type tag would be better. The
problem is that someone would have to 1) go through each function, method
and document the filters and actions and 2) would have to write a
specialized parser for this new phpdoc type tag. Since phpdocumentor does
not use them, it will have to be a new site.

The problem with your idea, is that not only will it be required that new
functions or methods (empty, sure) have to be created, but also documented.
There being over 100 filters and actions (more like 300-400 last time I
checked, but unsure), that is quite a lot of work. You'd also have to go
back and add @uses information for those fake hook functions or methods.

In your example, there will still need to be a new parser created.

In the end, I just went with @uses apply_filters and @uses do_action to
describe the actions and filters. Not that it is the best way to do it, but
it works in phpDocumentor and people can still get the information.

Problem is, that any way to go about solving this will require a lot of work
and it will require someone willing to do so. Whoever that person is,
whatever they decide, I believe, is good enough for me.

Jacob Santos

On Wed, Sep 8, 2010 at 11:36 AM, hakre <hanskrentel at yahoo.de> wrote:

> While I've be doing a lot of work related to hooks in wordpress lately, the
> following idea came into my mind:
>
> To create a PHP file that contains functions for documentation purposes
> containing all hook names as function names.
>
> The hooks name is defined by using it as function name. If the hook
> contains
> variable parts, they should be replaced with a uppercase marker (hook names
> are
> all lower case), like VARY or similar.
>
> The hooks parameter can be specified by defining them in the function
> header.
>
> Meta Information can be provided via docblock comments.
>
> Such a file can be easily parsed with the PHP Reflection classes as well as
> with
> tools like phpdocumentor to render stuff out.
>
> Example:
>
> /**
>  * Pre Option Filter
>  *
>  * Description
>  *
>  * @since 1.5.0
>  * @-wp-type  filter
>  * @-wp-vary option name
>  * @param mixed $value option value
>  */
> function pre_site_option_VARY($value) {
> }
>
> It might be an even better idea to create a class and put all functions
> inside.
> Might be easier to test against and can be included even in running
> applications
> w/o much fuzz.
>
> Such a file can be added to version control and kept in line with the main
> code.
>
> Feedback appreceated.
>
> -- hakre
>
>  http://hakre.wordpress.com/
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jer at simianuprising.com  Wed Sep  8 17:10:38 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 8 Sep 2010 13:10:38 -0400
Subject: [wp-hackers] Hook (Filter, Action) Documentation Idea
In-Reply-To: <AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>
References: <996904.26925.qm@web24104.mail.ird.yahoo.com>
	<AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>
Message-ID: <AANLkTimmpgxW-o1AmGqY9RO3adSJS_ymi1G4=w7NL02L@mail.gmail.com>

This is a really cool idea. Even if the file wasn't run with include() the
functions would still get picked up by tools like PHPXref and NetBeans which
would give people in-tool documentation of the hooks.

Jacob is right about it taking a long time to document all the filters, but
they will never be documented properly until there is a place in the code
that is missing the information, its inspiration for the OCD among us :)

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From hanskrentel at yahoo.de  Wed Sep  8 17:27:42 2010
From: hanskrentel at yahoo.de (hakre)
Date: Wed, 8 Sep 2010 17:27:42 +0000 (GMT)
Subject: [wp-hackers] Hook (Filter, Action) Documentation Idea
In-Reply-To: <AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>
References: <996904.26925.qm@web24104.mail.ird.yahoo.com>
	<AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>
Message-ID: <383664.13434.qm@web24105.mail.ird.yahoo.com>

----- Urspr?ngliche Mail ----

> Von: Jacob Santos <wordpress at santosj.name>
> An: wp-hackers at lists.automattic.com
> Gesendet: Mittwoch, den 8. September 2010, 19:01:25 Uhr
> Betreff: Re: [wp-hackers] Hook (Filter, Action) Documentation Idea
> 
> I went around and around with a lot of ideas with hook documentation. In  my
> opinion, I believe a specialized phpdoc type tag would be better. [...] 
> [yeah sure this is a lot of work] [...]
> 
> You'd also have to go
> back and add @uses information  for those fake hook functions or methods.
>
> [...]
> 
> In the end, I just went with @uses  apply_filters and @uses do_action to
> describe the actions and filters. Not  that it is the best way to do it, but
> it works in phpDocumentor and people  can still get the information.

Eh, that's a cool thing. Imagine this:

class WP_Hooks {
  /**
  * Pre Option Filter
  *
  * Description
  *
  * @since 1.5.0
  * @-wp-type  filter
  * @-wp-vary option name
  * @param mixed $value option value
  */
 function pre_site_option_VARY($value) {
 }
}

and where applicable in code:

/* @uses WP_Hooks::pre_site_option_VARY() */

This is somehow inter-operable.

> In your example, there will  still need to be a new parser created.

Regarding your comments on PHPDocumentor, I think it's exensible for own tags, 
at least that should be relativly easy.

And by using the @uses stuff that links into the function definition that can be 
read by PHPDocumentor as well would cross-link that.

-- hakre




From hanskrentel at yahoo.de  Wed Sep  8 17:43:19 2010
From: hanskrentel at yahoo.de (hakre)
Date: Wed, 8 Sep 2010 17:43:19 +0000 (GMT)
Subject: [wp-hackers] Hook (Filter, Action) Documentation Idea
In-Reply-To: <AANLkTimmpgxW-o1AmGqY9RO3adSJS_ymi1G4=w7NL02L@mail.gmail.com>
References: <996904.26925.qm@web24104.mail.ird.yahoo.com>
	<AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>
	<AANLkTimmpgxW-o1AmGqY9RO3adSJS_ymi1G4=w7NL02L@mail.gmail.com>
Message-ID: <636607.9118.qm@web24106.mail.ird.yahoo.com>

----- Urspr?ngliche Mail ----

> Von: Jeremy Clarke <jer at simianuprising.com>
> An: wp-hackers at lists.automattic.com
> Gesendet: Mittwoch, den 8. September 2010, 19:10:38 Uhr
> Betreff: Re: [wp-hackers] Hook (Filter, Action) Documentation Idea
> 
> This is a really cool idea. Even if the file wasn't run with include()  the
> functions would still get picked up by tools like PHPXref and NetBeans  which
> would give people in-tool documentation of the hooks.

yeah, I can imagine to type "wp_hook::" + [ctrl+space] ....  :)

> 
> Jacob is  right about it taking a long time to document all the filters, but
> they will  never be documented properly until there is a place in the code
> that is  missing the information, its inspiration for the OCD among us :)

Yes its work, I'm currently compiling a hook tracer with backtrace 
functionality. The good thing to use PHP as a definition of hooks is, that it's 
possible to verify stuff quite fast and to re-use existing tools. Little 
hook_tester that runs against an imagined wp-hooks.php file containing the 
(incomplete) hook definitions:

include('wp-hooks.php'); # load hooks definitions pseudo class
class hook_tester extends wp_hooks {
  ...
  public function __callStatic($name, $arguments) {
    if ( false === $this->hasMatch($name) ) # check for matching a VARY hookname
       throw new Exception(sprintf('Undefined Hook "%s"', $name));
  }
}


Testing is as easy as:

hook_tester::$name_your_hook();

Still this does not reduces the number of hooks so far, but it's possible to 
better test.

What does OCD stands for?

-- hakre




From rbilesky at gmail.com  Wed Sep  8 17:52:43 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 8 Sep 2010 10:52:43 -0700
Subject: [wp-hackers] minimum version
In-Reply-To: <4C86E50A.4090905@simplercomputing.net>
References: <AANLkTikvr-3WBtpqoebs8eLrqhVoyLV8x5cO61G1BRBM@mail.gmail.com>
	<4C86E50A.4090905@simplercomputing.net>
Message-ID: <AANLkTimX5=62jZugLGzhzk8FQEctnnAna6tm4peZsoSK@mail.gmail.com>

That's not a bad idea.  I think I'll just require at least 2.9 since I
realize not everyone has made the change to 3.0.

On Tue, Sep 7, 2010 at 6:21 PM, Mark E <mark at simplercomputing.net> wrote:

>
>
> On 09/07/2010 05:48 PM, Ryan Bilesky wrote:
>
>> Is there an easy trick to figure out what the minimum version of wordpress
>> my plugin will work with?
>>
>
> Here's my perspective on that issue: Running old versions of WordPress is a
> very very very bad idea, mainly because of security holes that are patched
> in later versions.
>
> So, two simple ways to contribute to better security is to (1) not let your
> plugin run on too old of a version of WP (for example, one major point
> release back is pushing the limit of sensibility), and (2) make sure your
> own code doesn't create holes that intruders can waltz through.
>
>
> Mark
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jer at simianuprising.com  Wed Sep  8 19:29:23 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 8 Sep 2010 15:29:23 -0400
Subject: [wp-hackers] Hook (Filter, Action) Documentation Idea
In-Reply-To: <636607.9118.qm@web24106.mail.ird.yahoo.com>
References: <996904.26925.qm@web24104.mail.ird.yahoo.com>
	<AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>
	<AANLkTimmpgxW-o1AmGqY9RO3adSJS_ymi1G4=w7NL02L@mail.gmail.com>
	<636607.9118.qm@web24106.mail.ird.yahoo.com>
Message-ID: <AANLkTikwZsbEGBHf-KfEPPqPxAV6R5GP9d7BthB3huhT@mail.gmail.com>

On Wed, Sep 8, 2010 at 1:43 PM, hakre <hanskrentel at yahoo.de> wrote:

>
> What does OCD stands for?
>
>
Obsessive-compulsive disorder, which is a real mental illness but is often
used to describe the tendency in anyone to want everything just right even
when it goes beyond pragmatism.

http://en.wikipedia.org/wiki/Ocd

I hope I didn't offend anyone by using it flippantly!

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From otto at ottodestruct.com  Wed Sep  8 19:47:23 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 8 Sep 2010 14:47:23 -0500
Subject: [wp-hackers] Hook (Filter, Action) Documentation Idea
In-Reply-To: <AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>
References: <996904.26925.qm@web24104.mail.ird.yahoo.com>
	<AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>
Message-ID: <AANLkTinpLGz+AWZmrgpdJApbuwbRpyAcOYz9fikOwudN@mail.gmail.com>

On Wed, Sep 8, 2010 at 12:01 PM, Jacob Santos <wordpress at santosj.name> wrote:
> There being over 100 filters and actions (more like 300-400 last time I
> checked, but unsure), that is quite a lot of work.

Way low. WordPress 3.0 has 1344 separate hooks:
http://adambrown.info/p/wp_hooks/

-Otto

From wordpress at santosj.name  Wed Sep  8 20:29:33 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Wed, 8 Sep 2010 15:29:33 -0500
Subject: [wp-hackers] Hook (Filter, Action) Documentation Idea
In-Reply-To: <AANLkTinpLGz+AWZmrgpdJApbuwbRpyAcOYz9fikOwudN@mail.gmail.com>
References: <996904.26925.qm@web24104.mail.ird.yahoo.com>
	<AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>
	<AANLkTinpLGz+AWZmrgpdJApbuwbRpyAcOYz9fikOwudN@mail.gmail.com>
Message-ID: <AANLkTiniqE8DsqLZZbEV+K1EY=7p16bAdPbmu2MmOngA@mail.gmail.com>

Well, my point was that given the large number of hooks, that it is almost
impractical to create a separate method or function describing each hook.
300 or 400 is probably the limit I would be at. Also, given the
already intermittent nature of inline documentation corrections, updates and
additions; it seems somewhat problematic to force people into adding a new
method when they add a new filter or action. Given that those writing
patches might not even know about the method Hakre describes



On Wed, Sep 8, 2010 at 2:47 PM, Otto <otto at ottodestruct.com> wrote:

> On Wed, Sep 8, 2010 at 12:01 PM, Jacob Santos <wordpress at santosj.name>
> wrote:
> > There being over 100 filters and actions (more like 300-400 last time I
> > checked, but unsure), that is quite a lot of work.
>
> Way low. WordPress 3.0 has 1344 separate hooks:
> http://adambrown.info/p/wp_hooks/
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Wed Sep  8 21:42:49 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 8 Sep 2010 17:42:49 -0400
Subject: [wp-hackers] Hook (Filter, Action) Documentation Idea
In-Reply-To: <AANLkTiniqE8DsqLZZbEV+K1EY=7p16bAdPbmu2MmOngA@mail.gmail.com>
References: <996904.26925.qm@web24104.mail.ird.yahoo.com>
	<AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>
	<AANLkTinpLGz+AWZmrgpdJApbuwbRpyAcOYz9fikOwudN@mail.gmail.com>
	<AANLkTiniqE8DsqLZZbEV+K1EY=7p16bAdPbmu2MmOngA@mail.gmail.com>
Message-ID: <AANLkTi=hgGzKZPykp+PYp5L9ZxuW_zK6wFSkfDSU6+C=@mail.gmail.com>

On Wed, Sep 8, 2010 at 4:29 PM, Jacob Santos <wordpress at santosj.name> wrote:

> Well, my point was that given the large number of hooks, that it is almost
> impractical to create a separate method or function describing each hook.
> 300 or 400 is probably the limit I would be at. Also, given the
> already intermittent nature of inline documentation corrections, updates
> and
> additions; it seems somewhat problematic to force people into adding a new
> method when they add a new filter or action.


Indeed, that does seem problematic. Way too much to maintain.

About a week ago a few of us were discussing the possibility of creating our
own docblocks that we would use inline before each hook, such as /*wp ...
*/. This is in the context not of phpxref or phpdocumentor, but as part of
our planning for our own API reference site that will document every class,
function, and hook. You're welcome to join the API dev list at
lists.wordpress.org and we can move this discussion there.

From johnbillion+wp at gmail.com  Wed Sep  8 23:18:16 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu, 9 Sep 2010 00:18:16 +0100
Subject: [wp-hackers] Object terms not caching
Message-ID: <AANLkTimWkP6iLwcRSA_5zCH-ga372uGfUi3Ov04=YYCT@mail.gmail.com>

Hi all,

In wp-includes/query.php at the end of WP_Query->get_posts() there's a
call to update_post_caches(). This fetches the post meta data and post
term data on all the posts that have just been retrieved and sticks
them in the object cache. This means when you do things like
get_post_meta() and get_the_tags() the data is already in the object
cache and no extra queries are needed.

I'm using a loop in WordPress which queries for posts of multiple post
types instead of just 'post'. When update_post_caches() is called it
fetches and caches the object meta data but it doesn't do the same for
object term data because there is more than one post type and it skips
over fetching object term data when the query is for more than one
post type (wp-includes/post.php line 4103).

This means any call to get_the_terms() fires off a query because the
object term data isn't cached. Furthermore, when terms are fetched in
this way they still don't get cached, so each call to get_the_terms()
fires off a query.

I've got thirty posts on my homepage and each of these posts is in
four custom taxonomies which I list using get_the_terms(). This means
it's doing 120 queries when it could be doing 1, and all because my
loop is querying for more than one post type.

I've patched my install so update_object_term_cache() is called for
each post type and it's cut all those queries out and there seems to
be no side effect.

So my question is, does anyone know if there is a reason why
update_post_caches() is set not to call update_object_term_cache()
when the post_type is an array (or set to 'any') instead of just one
post type?

John

From andrew at graymerica.com  Thu Sep  9 00:18:53 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Wed, 8 Sep 2010 20:18:53 -0400
Subject: [wp-hackers] WOW: Rackspace Cloud bill just went up 10X
Message-ID: <1CBF77EF-36D1-4EB6-89FA-61A79E5E38D4@graymerica.com>

i had been the biggest fan of Rackspace cloud and how great it was for the money.  I just checked my account and it turns out that on Sept 2nd they fixed their reporting and now my sites all use 10X the CPU cycles,

What cost me $150 per month in August, now costs looks like it will cost me $1,500 per month.

If you use Rackspace Cloud Sites, I would check your account.

</Rant>

Andrew



From demonicpagan at gmail.com  Thu Sep  9 03:24:05 2010
From: demonicpagan at gmail.com (Dustin Shea)
Date: Wed, 08 Sep 2010 22:24:05 -0500
Subject: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work with
	WP 3.0.1+
Message-ID: <4C885355.4070505@gmail.com>

I've been trying to upgrade a plugin of mine that I wrote so that it works with WP 3.0+. The problem I run into is that when I go to activate the plugin, it displays the following error
  
Plugin could not be activated because it triggered a *fatal error*

*Fatal error*: Cannot redeclare ffxi_install() (previously declared in */home/demonicpagan/wp-testing/wp-content/plugins/ffxi/ffxi.php:60) in /home/demonicpagan/wp-testing/wp-content/plugins/ffxi/ffxi.php* on line *353*

Despite that error being presented, the plugin does activate, however, if I can figure out what is triggering the error to display, I'd prefer it.

The code for this can be found here: http://stelth2000inc.com/ffxi.phps

I thank anyone who can help me figure out what's going on.

-Dustin

-- 
This message contains confidential information and is intended only for the individual named. If you are not the named addressee you should not disseminate, distribute or copy this e-mail. Please notify the sender immediately by e-mail if you have received this e-mail by mistake and delete this e-mail from your system. E-mail transmission cannot be guaranteed to be secure or error-free as information could be intercepted, corrupted, lost, destroyed, arrive late or incomplete, or contain viruses. The sender therefore does not accept liability for any errors or omissions in the contents of this message, which arise as a result of e-mail transmission.

From brent at prospress.org  Thu Sep  9 03:33:07 2010
From: brent at prospress.org (Brent Shepherd (Prospress))
Date: Thu, 9 Sep 2010 10:33:07 +0700
Subject: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
 with WP 3.0.1+
In-Reply-To: <4C885355.4070505@gmail.com>
References: <4C885355.4070505@gmail.com>
Message-ID: <AANLkTina_VD6ORaZdOMWrS70X_qCTCWVB+WhRRGJr0pQ@mail.gmail.com>

Check to make sure the plugin has previously been properly deactivated by
looking at the wp_options table. Find the option_name "active_plugins" and
make sure ffxi.php is not in that array when the plugin has been
deactivated. Not properly deactivating is what I've found to cause this for
me.

If that fails, then you can always test if the function is already declared
before declaring it:

if( !function_exists( 'ffxi_install' ) )
function ffxi_install() {
    ...
}

That is really a bandaid more than a solution though.



On Thu, Sep 9, 2010 at 10:24 AM, Dustin Shea <demonicpagan at gmail.com> wrote:

> I've been trying to upgrade a plugin of mine that I wrote so that it works
> with WP 3.0+. The problem I run into is that when I go to activate the
> plugin, it displays the following error
>  Plugin could not be activated because it triggered a *fatal error*
>
> *Fatal error*: Cannot redeclare ffxi_install() (previously declared in
> */home/demonicpagan/wp-testing/wp-content/plugins/ffxi/ffxi.php:60) in
> /home/demonicpagan/wp-testing/wp-content/plugins/ffxi/ffxi.php* on line
> *353*
>
> Despite that error being presented, the plugin does activate, however, if I
> can figure out what is triggering the error to display, I'd prefer it.
>
> The code for this can be found here: http://stelth2000inc.com/ffxi.phps
>
> I thank anyone who can help me figure out what's going on.
>
> -Dustin
>
> --
> This message contains confidential information and is intended only for the
> individual named. If you are not the named addressee you should not
> disseminate, distribute or copy this e-mail. Please notify the sender
> immediately by e-mail if you have received this e-mail by mistake and delete
> this e-mail from your system. E-mail transmission cannot be guaranteed to be
> secure or error-free as information could be intercepted, corrupted, lost,
> destroyed, arrive late or incomplete, or contain viruses. The sender
> therefore does not accept liability for any errors or omissions in the
> contents of this message, which arise as a result of e-mail transmission.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From demonicpagan at gmail.com  Thu Sep  9 04:58:36 2010
From: demonicpagan at gmail.com (Dustin Shea)
Date: Wed, 08 Sep 2010 23:58:36 -0500
Subject: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
 with WP 3.0.1+
In-Reply-To: <AANLkTina_VD6ORaZdOMWrS70X_qCTCWVB+WhRRGJr0pQ@mail.gmail.com>
References: <4C885355.4070505@gmail.com>
	<AANLkTina_VD6ORaZdOMWrS70X_qCTCWVB+WhRRGJr0pQ@mail.gmail.com>
Message-ID: <4C88697C.5040501@gmail.com>

I used that in my code, now after activation it throws this error now:

Parse error: syntax error, unexpected T_STRING, expecting '(' in /home/demonicpagan/wp-testing/wp-content/plugins/ffxi/ffxi.php on line 59

Updated code at http://stelth2000inc.com/ffxi.phps

-Dustin

On 9/8/2010 10:33 PM, Brent Shepherd (Prospress) wrote:
> Check to make sure the plugin has previously been properly deactivated by
> looking at the wp_options table. Find the option_name "active_plugins" and
> make sure ffxi.php is not in that array when the plugin has been
> deactivated. Not properly deactivating is what I've found to cause this for
> me.
>
> If that fails, then you can always test if the function is already declared
> before declaring it:
>
> if( !function_exists( 'ffxi_install' ) )
> function ffxi_install() {
>      ...
> }
>
> That is really a bandaid more than a solution though.
>
>
>
> On Thu, Sep 9, 2010 at 10:24 AM, Dustin Shea<demonicpagan at gmail.com>  wrote:
>
>> I've been trying to upgrade a plugin of mine that I wrote so that it works
>> with WP 3.0+. The problem I run into is that when I go to activate the
>> plugin, it displays the following error
>>   Plugin could not be activated because it triggered a *fatal error*
>>
>> *Fatal error*: Cannot redeclare ffxi_install() (previously declared in
>> */home/demonicpagan/wp-testing/wp-content/plugins/ffxi/ffxi.php:60) in
>> /home/demonicpagan/wp-testing/wp-content/plugins/ffxi/ffxi.php* on line
>> *353*
>>
>> Despite that error being presented, the plugin does activate, however, if I
>> can figure out what is triggering the error to display, I'd prefer it.
>>
>> The code for this can be found here: http://stelth2000inc.com/ffxi.phps
>>
>> I thank anyone who can help me figure out what's going on.
>>
>> -Dustin
>>
>> --
>> This message contains confidential information and is intended only for the
>> individual named. If you are not the named addressee you should not
>> disseminate, distribute or copy this e-mail. Please notify the sender
>> immediately by e-mail if you have received this e-mail by mistake and delete
>> this e-mail from your system. E-mail transmission cannot be guaranteed to be
>> secure or error-free as information could be intercepted, corrupted, lost,
>> destroyed, arrive late or incomplete, or contain viruses. The sender
>> therefore does not accept liability for any errors or omissions in the
>> contents of this message, which arise as a result of e-mail transmission.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-- 
This message contains confidential information and is intended only for the individual named. If you are not the named addressee you should not disseminate, distribute or copy this e-mail. Please notify the sender immediately by e-mail if you have received this e-mail by mistake and delete this e-mail from your system. E-mail transmission cannot be guaranteed to be secure or error-free as information could be intercepted, corrupted, lost, destroyed, arrive late or incomplete, or contain viruses. The sender therefore does not accept liability for any errors or omissions in the contents of this message, which arise as a result of e-mail transmission.

From rbilesky at gmail.com  Thu Sep  9 05:04:04 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 8 Sep 2010 22:04:04 -0700
Subject: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
 with WP 3.0.1+
In-Reply-To: <4C88697C.5040501@gmail.com>
References: <4C885355.4070505@gmail.com>
	<AANLkTina_VD6ORaZdOMWrS70X_qCTCWVB+WhRRGJr0pQ@mail.gmail.com>
	<4C88697C.5040501@gmail.com>
Message-ID: <AANLkTikoKt4Qzn_m=yTwdiL=nOPd8rVkvOrLMxZe1sna@mail.gmail.com>

should be

if( !function_exists( 'ffxi_install' ) ){
    //Your function here
}

Also as a side note I had the same error before when trying to execute a
function in a separate file that I had requires, changing that to
require_once fixed that.

On Wed, Sep 8, 2010 at 9:58 PM, Dustin Shea <demonicpagan at gmail.com> wrote:

> I used that in my code, now after activation it throws this error now:
>
> Parse error: syntax error, unexpected T_STRING, expecting '(' in
> /home/demonicpagan/wp-testing/wp-content/plugins/ffxi/ffxi.php on line 59
>
> Updated code at http://stelth2000inc.com/ffxi.phps
>
> -Dustin
>
>
> On 9/8/2010 10:33 PM, Brent Shepherd (Prospress) wrote:
>
>> Check to make sure the plugin has previously been properly deactivated by
>> looking at the wp_options table. Find the option_name "active_plugins" and
>> make sure ffxi.php is not in that array when the plugin has been
>> deactivated. Not properly deactivating is what I've found to cause this
>> for
>> me.
>>
>> If that fails, then you can always test if the function is already
>> declared
>> before declaring it:
>>
>> if( !function_exists( 'ffxi_install' ) )
>> function ffxi_install() {
>>     ...
>> }
>>
>> That is really a bandaid more than a solution though.
>>
>>
>>
>> On Thu, Sep 9, 2010 at 10:24 AM, Dustin Shea<demonicpagan at gmail.com>
>>  wrote:
>>
>> I've been trying to upgrade a plugin of mine that I wrote so that it works
>>> with WP 3.0+. The problem I run into is that when I go to activate the
>>> plugin, it displays the following error
>>>  Plugin could not be activated because it triggered a *fatal error*
>>>
>>> *Fatal error*: Cannot redeclare ffxi_install() (previously declared in
>>> */home/demonicpagan/wp-testing/wp-content/plugins/ffxi/ffxi.php:60) in
>>> /home/demonicpagan/wp-testing/wp-content/plugins/ffxi/ffxi.php* on line
>>> *353*
>>>
>>> Despite that error being presented, the plugin does activate, however, if
>>> I
>>> can figure out what is triggering the error to display, I'd prefer it.
>>>
>>> The code for this can be found here: http://stelth2000inc.com/ffxi.phps
>>>
>>> I thank anyone who can help me figure out what's going on.
>>>
>>> -Dustin
>>>
>>> --
>>> This message contains confidential information and is intended only for
>>> the
>>> individual named. If you are not the named addressee you should not
>>> disseminate, distribute or copy this e-mail. Please notify the sender
>>> immediately by e-mail if you have received this e-mail by mistake and
>>> delete
>>> this e-mail from your system. E-mail transmission cannot be guaranteed to
>>> be
>>> secure or error-free as information could be intercepted, corrupted,
>>> lost,
>>> destroyed, arrive late or incomplete, or contain viruses. The sender
>>> therefore does not accept liability for any errors or omissions in the
>>> contents of this message, which arise as a result of e-mail transmission.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
> --
>  This message contains confidential information and is intended only for
> the individual named. If you are not the named addressee you should not
> disseminate, distribute or copy this e-mail. Please notify the sender
> immediately by e-mail if you have received this e-mail by mistake and delete
> this e-mail from your system. E-mail transmission cannot be guaranteed to be
> secure or error-free as information could be intercepted, corrupted, lost,
> destroyed, arrive late or incomplete, or contain viruses. The sender
> therefore does not accept liability for any errors or omissions in the
> contents of this message, which arise as a result of e-mail transmission.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Thu Sep  9 05:10:30 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 9 Sep 2010 01:10:30 -0400
Subject: [wp-hackers] Object terms not caching
In-Reply-To: <AANLkTimWkP6iLwcRSA_5zCH-ga372uGfUi3Ov04=YYCT@mail.gmail.com>
References: <AANLkTimWkP6iLwcRSA_5zCH-ga372uGfUi3Ov04=YYCT@mail.gmail.com>
Message-ID: <AANLkTik9MHktxWRMv5DTNVx0Tz1dp=LghEi2VewELGc3@mail.gmail.com>

On Wed, Sep 8, 2010 at 7:18 PM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> So my question is, does anyone know if there is a reason why
> update_post_caches() is set not to call update_object_term_cache()
> when the post_type is an array (or set to 'any') instead of just one
> post type?


http://core.trac.wordpress.org/ticket/12989

The reason is that update_object_term_cache() only handles a single post
type currently. Perhaps worth a revisit. Tickets/patches welcome.

From demonicpagan at gmail.com  Thu Sep  9 05:41:11 2010
From: demonicpagan at gmail.com (Dustin Shea)
Date: Thu, 09 Sep 2010 00:41:11 -0500
Subject: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
 with WP 3.0.1+
In-Reply-To: <AANLkTikoKt4Qzn_m=yTwdiL=nOPd8rVkvOrLMxZe1sna@mail.gmail.com>
References: <4C885355.4070505@gmail.com>	<AANLkTina_VD6ORaZdOMWrS70X_qCTCWVB+WhRRGJr0pQ@mail.gmail.com>	<4C88697C.5040501@gmail.com>
	<AANLkTikoKt4Qzn_m=yTwdiL=nOPd8rVkvOrLMxZe1sna@mail.gmail.com>
Message-ID: <4C887377.3070908@gmail.com>

I've added the if (!function_exists('somefucntion') { ... } before every function which stopped cannot redeclare function errors, now when I try to activate it, it just says Plugin could not be activated because it triggered a fatal error. No other information is provided about it.

-Dustin

On 9/9/2010 12:04 AM, Ryan Bilesky wrote:
> should be
>
> if( !function_exists( 'ffxi_install' ) ){
>      //Your function here
> }
>
> Also as a side note I had the same error before when trying to execute a
> function in a separate file that I had requires, changing that to
> require_once fixed that.
>
> On Wed, Sep 8, 2010 at 9:58 PM, Dustin Shea<demonicpagan at gmail.com>  wrote:
>
>> I used that in my code, now after activation it throws this error now:
>>
>> Parse error: syntax error, unexpected T_STRING, expecting '(' in
>> /home/demonicpagan/wp-testing/wp-content/plugins/ffxi/ffxi.php on line 59
>>
>> Updated code at http://stelth2000inc.com/ffxi.phps
>>
>> -Dustin
>>
>>
>> On 9/8/2010 10:33 PM, Brent Shepherd (Prospress) wrote:
>>
>>> Check to make sure the plugin has previously been properly deactivated by
>>> looking at the wp_options table. Find the option_name "active_plugins" and
>>> make sure ffxi.php is not in that array when the plugin has been
>>> deactivated. Not properly deactivating is what I've found to cause this
>>> for
>>> me.
>>>
>>> If that fails, then you can always test if the function is already
>>> declared
>>> before declaring it:
>>>
>>> if( !function_exists( 'ffxi_install' ) )
>>> function ffxi_install() {
>>>      ...
>>> }
>>>
>>> That is really a bandaid more than a solution though.
>>>
>>>
>>>
>>> On Thu, Sep 9, 2010 at 10:24 AM, Dustin Shea<demonicpagan at gmail.com>
>>>   wrote:
>>>
>>> I've been trying to upgrade a plugin of mine that I wrote so that it works
>>>> with WP 3.0+. The problem I run into is that when I go to activate the
>>>> plugin, it displays the following error
>>>>   Plugin could not be activated because it triggered a *fatal error*
>>>>
>>>> *Fatal error*: Cannot redeclare ffxi_install() (previously declared in
>>>> */home/demonicpagan/wp-testing/wp-content/plugins/ffxi/ffxi.php:60) in
>>>> /home/demonicpagan/wp-testing/wp-content/plugins/ffxi/ffxi.php* on line
>>>> *353*
>>>>
>>>> Despite that error being presented, the plugin does activate, however, if
>>>> I
>>>> can figure out what is triggering the error to display, I'd prefer it.
>>>>
>>>> The code for this can be found here: http://stelth2000inc.com/ffxi.phps
>>>>
>>>> I thank anyone who can help me figure out what's going on.
>>>>
>>>> -Dustin
>>>>
>>>> --
>>>> This message contains confidential information and is intended only for
>>>> the
>>>> individual named. If you are not the named addressee you should not
>>>> disseminate, distribute or copy this e-mail. Please notify the sender
>>>> immediately by e-mail if you have received this e-mail by mistake and
>>>> delete
>>>> this e-mail from your system. E-mail transmission cannot be guaranteed to
>>>> be
>>>> secure or error-free as information could be intercepted, corrupted,
>>>> lost,
>>>> destroyed, arrive late or incomplete, or contain viruses. The sender
>>>> therefore does not accept liability for any errors or omissions in the
>>>> contents of this message, which arise as a result of e-mail transmission.
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>> --
>>   This message contains confidential information and is intended only for
>> the individual named. If you are not the named addressee you should not
>> disseminate, distribute or copy this e-mail. Please notify the sender
>> immediately by e-mail if you have received this e-mail by mistake and delete
>> this e-mail from your system. E-mail transmission cannot be guaranteed to be
>> secure or error-free as information could be intercepted, corrupted, lost,
>> destroyed, arrive late or incomplete, or contain viruses. The sender
>> therefore does not accept liability for any errors or omissions in the
>> contents of this message, which arise as a result of e-mail transmission.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-- 
This message contains confidential information and is intended only for the individual named. If you are not the named addressee you should not disseminate, distribute or copy this e-mail. Please notify the sender immediately by e-mail if you have received this e-mail by mistake and delete this e-mail from your system. E-mail transmission cannot be guaranteed to be secure or error-free as information could be intercepted, corrupted, lost, destroyed, arrive late or incomplete, or contain viruses. The sender therefore does not accept liability for any errors or omissions in the contents of this message, which arise as a result of e-mail transmission.

From wp at andrewnacin.com  Thu Sep  9 05:49:11 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 9 Sep 2010 01:49:11 -0400
Subject: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
 with WP 3.0.1+
In-Reply-To: <4C887377.3070908@gmail.com>
References: <4C885355.4070505@gmail.com>
	<AANLkTina_VD6ORaZdOMWrS70X_qCTCWVB+WhRRGJr0pQ@mail.gmail.com>
	<4C88697C.5040501@gmail.com>
	<AANLkTikoKt4Qzn_m=yTwdiL=nOPd8rVkvOrLMxZe1sna@mail.gmail.com>
	<4C887377.3070908@gmail.com>
Message-ID: <AANLkTikni9RuRqE+yT6CAYkAc-ckSnKGV3Be+bwBpkZw@mail.gmail.com>

On Thu, Sep 9, 2010 at 1:41 AM, Dustin Shea <demonicpagan at gmail.com> wrote:

> I've added the if (!function_exists('somefucntion') { ... } before every
> function which stopped cannot redeclare function errors, now when I try to
> activate it, it just says Plugin could not be activated because it triggered
> a fatal error. No other information is provided about it.


That usually happens when you refresh the page (the URL sticks and generates
the message). Try clicking the Plugins menu again. It may already be
activated, or if not, try to activate it.

From demonicpagan at gmail.com  Thu Sep  9 06:00:11 2010
From: demonicpagan at gmail.com (Dustin Shea)
Date: Thu, 09 Sep 2010 01:00:11 -0500
Subject: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
 with WP 3.0.1+
In-Reply-To: <AANLkTikni9RuRqE+yT6CAYkAc-ckSnKGV3Be+bwBpkZw@mail.gmail.com>
References: <4C885355.4070505@gmail.com>	<AANLkTina_VD6ORaZdOMWrS70X_qCTCWVB+WhRRGJr0pQ@mail.gmail.com>	<4C88697C.5040501@gmail.com>	<AANLkTikoKt4Qzn_m=yTwdiL=nOPd8rVkvOrLMxZe1sna@mail.gmail.com>	<4C887377.3070908@gmail.com>
	<AANLkTikni9RuRqE+yT6CAYkAc-ckSnKGV3Be+bwBpkZw@mail.gmail.com>
Message-ID: <4C8877EB.7000605@gmail.com>

Plugin was deactivated when I went to the plugins page to activate, when I did, same error w/o any indication as to what it is.

-Dustin

On 9/9/2010 12:49 AM, Andrew Nacin wrote:
> On Thu, Sep 9, 2010 at 1:41 AM, Dustin Shea<demonicpagan at gmail.com>  wrote:
>
>> I've added the if (!function_exists('somefucntion') { ... } before every
>> function which stopped cannot redeclare function errors, now when I try to
>> activate it, it just says Plugin could not be activated because it triggered
>> a fatal error. No other information is provided about it.
>
>
> That usually happens when you refresh the page (the URL sticks and generates
> the message). Try clicking the Plugins menu again. It may already be
> activated, or if not, try to activate it.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-- 
This message contains confidential information and is intended only for the individual named. If you are not the named addressee you should not disseminate, distribute or copy this e-mail. Please notify the sender immediately by e-mail if you have received this e-mail by mistake and delete this e-mail from your system. E-mail transmission cannot be guaranteed to be secure or error-free as information could be intercepted, corrupted, lost, destroyed, arrive late or incomplete, or contain viruses. The sender therefore does not accept liability for any errors or omissions in the contents of this message, which arise as a result of e-mail transmission.

From erisds at gmail.com  Thu Sep  9 07:02:10 2010
From: erisds at gmail.com (ErisDS)
Date: Thu, 9 Sep 2010 08:02:10 +0100
Subject: [wp-hackers] WOW: Rackspace Cloud bill just went up 10X
In-Reply-To: <1CBF77EF-36D1-4EB6-89FA-61A79E5E38D4@graymerica.com>
References: <1CBF77EF-36D1-4EB6-89FA-61A79E5E38D4@graymerica.com>
Message-ID: <AANLkTi=uA7sRQcPGFTmQXhxY+Z6=apao0r+QEr8pmEbg@mail.gmail.com>

Thanks for the heads up

On Thu, Sep 9, 2010 at 1:18 AM, Andrew Gray <andrew at graymerica.com> wrote:

> i had been the biggest fan of Rackspace cloud and how great it was for the
> money.  I just checked my account and it turns out that on Sept 2nd they
> fixed their reporting and now my sites all use 10X the CPU cycles,
>
> What cost me $150 per month in August, now costs looks like it will cost me
> $1,500 per month.
>
> If you use Rackspace Cloud Sites, I would check your account.
>
> </Rant>
>
> Andrew
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lists at mollentze.co.za  Thu Sep  9 09:46:59 2010
From: lists at mollentze.co.za (Werner)
Date: Thu, 09 Sep 2010 11:46:59 +0200
Subject: [wp-hackers] Filtering controls for custom post types
Message-ID: <4C88AD13.5090506@mollentze.co.za>

  Hi Hackers

When custom post types are listed in admin, the familiar typical post filtering 
controls appear, like:

     All (25) | Published (21)

In addition, the "show All Dates" filter, too.

Is there any way one can hook in somewhere to add your own custom filtering 
controls to the admin interface?

I went through the docs, Googled, etc - but came up empty handed. It almost 
seems like it's not possible... I hope it is!

Please share a hint or url to a resource if you know how to conquer this 
problem. Or, if you know of a plugin that pulls it off, I'll install it and look 
at its code.

Thanks for your time.



From hanskrentel at yahoo.de  Thu Sep  9 09:57:01 2010
From: hanskrentel at yahoo.de (hakre)
Date: Thu, 9 Sep 2010 09:57:01 +0000 (GMT)
Subject: [wp-hackers] Hook (Filter, Action) Documentation Idea
In-Reply-To: <AANLkTikwZsbEGBHf-KfEPPqPxAV6R5GP9d7BthB3huhT@mail.gmail.com>
References: <996904.26925.qm@web24104.mail.ird.yahoo.com>
	<AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>
	<AANLkTimmpgxW-o1AmGqY9RO3adSJS_ymi1G4=w7NL02L@mail.gmail.com>
	<636607.9118.qm@web24106.mail.ird.yahoo.com>
	<AANLkTikwZsbEGBHf-KfEPPqPxAV6R5GP9d7BthB3huhT@mail.gmail.com>
Message-ID: <67387.41294.qm@web24103.mail.ird.yahoo.com>

----- Urspr?ngliche Mail ----

> Von: Jeremy Clarke <jer at simianuprising.com>
> An: wp-hackers at lists.automattic.com
> Gesendet: Mittwoch, den 8. September 2010, 21:29:23 Uhr
> Betreff: Re: [wp-hackers] Hook (Filter, Action) Documentation Idea
> 
> On Wed, Sep 8, 2010 at 1:43 PM, hakre <hanskrentel at yahoo.de>  wrote:
> 
> >
> > What does OCD stands  for?
> >
> >
> Obsessive-compulsive disorder, which is a real mental  illness but is often
> used to describe the tendency in anyone to want  everything just right even
> when it goes beyond pragmatism.
> 
> http://en.wikipedia.org/wiki/Ocd
> 
> I hope I didn't offend anyone by  using it flippantly!

Not at all. I wikied that term but I was curious if there was some second 
meaning to it in your context.

In the end the PHPDOC thingy can be very pragmatic. Let's see :)

h.



From scribu at gmail.com  Thu Sep  9 09:59:36 2010
From: scribu at gmail.com (scribu)
Date: Thu, 9 Sep 2010 12:59:36 +0300
Subject: [wp-hackers] Filtering controls for custom post types
In-Reply-To: <4C88AD13.5090506@mollentze.co.za>
References: <4C88AD13.5090506@mollentze.co.za>
Message-ID: <AANLkTi=zQ3vqTbzTrq6Khw3jAmi-uqbYR_=94+iwqqyN@mail.gmail.com>

On Thu, Sep 9, 2010 at 12:46 PM, Werner <lists at mollentze.co.za> wrote:

>  Hi Hackers
>
> When custom post types are listed in admin, the familiar typical post
> filtering controls appear, like:
>
>    All (25) | Published (21)
>
> In addition, the "show All Dates" filter, too.
>
> Is there any way one can hook in somewhere to add your own custom filtering
> controls to the admin interface?
>

There will be in 3.1. See http://core.trac.wordpress.org/changeset/15578

-- 
http://scribu.net

From lists at mollentze.co.za  Thu Sep  9 10:02:39 2010
From: lists at mollentze.co.za (Werner)
Date: Thu, 09 Sep 2010 12:02:39 +0200
Subject: [wp-hackers] Filtering controls for custom post types
In-Reply-To: <AANLkTi=zQ3vqTbzTrq6Khw3jAmi-uqbYR_=94+iwqqyN@mail.gmail.com>
References: <4C88AD13.5090506@mollentze.co.za>
	<AANLkTi=zQ3vqTbzTrq6Khw3jAmi-uqbYR_=94+iwqqyN@mail.gmail.com>
Message-ID: <4C88B0BF.9060207@mollentze.co.za>

  Fantastic, thank you.

Now just waiting for 3.1 to be released...

On 09/09/2010 11:59, scribu wrote:
> There will be in 3.1. See http://core.trac.wordpress.org/changeset/15578
>


From hanskrentel at yahoo.de  Thu Sep  9 10:08:35 2010
From: hanskrentel at yahoo.de (hakre)
Date: Thu, 9 Sep 2010 10:08:35 +0000 (GMT)
Subject: [wp-hackers] Hook (Filter, Action) Documentation Idea
In-Reply-To: <AANLkTiniqE8DsqLZZbEV+K1EY=7p16bAdPbmu2MmOngA@mail.gmail.com>
References: <996904.26925.qm@web24104.mail.ird.yahoo.com>
	<AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>
	<AANLkTinpLGz+AWZmrgpdJApbuwbRpyAcOYz9fikOwudN@mail.gmail.com>
	<AANLkTiniqE8DsqLZZbEV+K1EY=7p16bAdPbmu2MmOngA@mail.gmail.com>
Message-ID: <381313.25362.qm@web24106.mail.ird.yahoo.com>

----- Urspr?ngliche Mail ----

> Von: Jacob Santos <wordpress at santosj.name>
> An: wp-hackers at lists.automattic.com
> Gesendet: Mittwoch, den 8. September 2010, 22:29:33 Uhr
> Betreff: Re: [wp-hackers] Hook (Filter, Action) Documentation Idea
> 
> Well, my point was that given the large number of hooks, that it is  almost
> impractical to create a separate method or function describing each  hook.

Yeah documentation sucks. Really. It's only work, is it impractical? Probably.

My Hook Tracer so far successfully extracts the name of the hook and locates the 
calling location and type (filter, action, direct or ref_array method). I'm 
currently fiddling with parameters and I might be able to even substract the 
VARY part directly from code because of variable usage.

> 300 or 400 is probably the limit I would be at.

Reminds me that describing each hook might be totally optional. So if 
automatically generated the skeleton of such a file would be already pretty much 
done if I can figure out the stuff for VARY.

> Also, given  the
> already intermittent nature of inline documentation corrections, updates  and
> additions; it seems somewhat problematic to force people into adding a  new
> method when they add a new filter or action.

Forcing? This is not why I suggested it. I was looking for feedback. I can 
understand that some think that this looks like just as much work. And therefore 
crazy.

> Given that those  writing
> patches might not even know about the method Hakre  describes

Yeah. But on the opposite most developers know about PHP and Comments, and the 
Docblock conventions. So it's mainly build on exisiting things which makes it 
easy to adopt.

-- hakre




From hanskrentel at yahoo.de  Thu Sep  9 10:20:10 2010
From: hanskrentel at yahoo.de (hakre)
Date: Thu, 9 Sep 2010 10:20:10 +0000 (GMT)
Subject: [wp-hackers] Hook (Filter, Action) Documentation Idea
In-Reply-To: <AANLkTi=hgGzKZPykp+PYp5L9ZxuW_zK6wFSkfDSU6+C=@mail.gmail.com>
References: <996904.26925.qm@web24104.mail.ird.yahoo.com>
	<AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>
	<AANLkTinpLGz+AWZmrgpdJApbuwbRpyAcOYz9fikOwudN@mail.gmail.com>
	<AANLkTiniqE8DsqLZZbEV+K1EY=7p16bAdPbmu2MmOngA@mail.gmail.com>
	<AANLkTi=hgGzKZPykp+PYp5L9ZxuW_zK6wFSkfDSU6+C=@mail.gmail.com>
Message-ID: <597525.34209.qm@web24101.mail.ird.yahoo.com>

----- Urspr?ngliche Mail ----

> Von: Andrew Nacin <wp at andrewnacin.com>
> An: wp-hackers at lists.automattic.com
> Gesendet: Mittwoch, den 8. September 2010, 23:42:49 Uhr
> Betreff: Re: [wp-hackers] Hook (Filter, Action) Documentation Idea
> 
> On Wed, Sep 8, 2010 at 4:29 PM, Jacob Santos <wordpress at santosj.name>  wrote:
> 
> > Well, my point was that given the large number of hooks, that  it is almost
> > impractical to create a separate method or function  describing each hook.
> > 300 or 400 is probably the limit I would be at.  Also, given the
> > already intermittent nature of inline documentation  corrections, updates
> > and
> > additions; it seems somewhat  problematic to force people into adding a new
> > method when they add a new  filter or action.
> 
> Indeed, that does seem problematic. Way too much to  maintain.

The amount of work equals the one of any other kind of documentation for the 
documentation part. The amount of work it can save because it makes use of 
existing tools and is compatible to existing tools is hard for me to measure, 
but I assume, it will save some work.

> About a week ago a few of us were discussing the possibility of  creating our
> own docblocks that we would use inline before each hook, such as  /*wp ...
> */. This is in the context not of phpxref or phpdocumentor, but as  part of
> our planning for our own API reference site that will document every  class,
> function, and hook. You're welcome to join the API dev list  at
> lists.wordpress.org and we can move this discussion  there.

That's somehow related, right. Infact that file I suggest could represent the 
API (and as it has been already pointed out, easy to integrte with IDEs 
already).

-- hakre




From mikeschinkel at newclarity.net  Thu Sep  9 11:27:50 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 9 Sep 2010 07:27:50 -0400
Subject: [wp-hackers] Filtering controls for custom post types
In-Reply-To: <AANLkTi=zQ3vqTbzTrq6Khw3jAmi-uqbYR_=94+iwqqyN@mail.gmail.com>
References: <4C88AD13.5090506@mollentze.co.za>
	<AANLkTi=zQ3vqTbzTrq6Khw3jAmi-uqbYR_=94+iwqqyN@mail.gmail.com>
Message-ID: <05180EAB-0AD3-455D-A894-3E83F2B6C423@newclarity.net>

Hi Werner,

In the interim you might find this helpful:

	http://wordpress.stackexchange.com/questions/578/adding-a-taxonomy-filter-to-admin-list-for-a-custom-post-type/582#582

-Mike

On Sep 9, 2010, at 5:59 AM, scribu wrote:

> On Thu, Sep 9, 2010 at 12:46 PM, Werner <lists at mollentze.co.za> wrote:
> 
>> Hi Hackers
>> 
>> When custom post types are listed in admin, the familiar typical post
>> filtering controls appear, like:
>> 
>>   All (25) | Published (21)
>> 
>> In addition, the "show All Dates" filter, too.
>> 
>> Is there any way one can hook in somewhere to add your own custom filtering
>> controls to the admin interface?
>> 
> 
> There will be in 3.1. See http://core.trac.wordpress.org/changeset/15578
> 
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wordpress at santosj.name  Thu Sep  9 14:41:16 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Thu, 9 Sep 2010 09:41:16 -0500
Subject: [wp-hackers] Hook (Filter, Action) Documentation Idea
In-Reply-To: <381313.25362.qm@web24106.mail.ird.yahoo.com>
References: <996904.26925.qm@web24104.mail.ird.yahoo.com>
	<AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>
	<AANLkTinpLGz+AWZmrgpdJApbuwbRpyAcOYz9fikOwudN@mail.gmail.com>
	<AANLkTiniqE8DsqLZZbEV+K1EY=7p16bAdPbmu2MmOngA@mail.gmail.com>
	<381313.25362.qm@web24106.mail.ird.yahoo.com>
Message-ID: <AANLkTinsowbRo7Y77uLz8km8w0RBviMgGUkwNmnkNPuc@mail.gmail.com>

On Thu, Sep 9, 2010 at 5:08 AM, hakre <hanskrentel at yahoo.de> wrote:

> ----- Urspr?ngliche Mail ----
>
> > Von: Jacob Santos <wordpress at santosj.name>
> > An: wp-hackers at lists.automattic.com
> > Gesendet: Mittwoch, den 8. September 2010, 22:29:33 Uhr
> > Betreff: Re: [wp-hackers] Hook (Filter, Action) Documentation Idea
> >
> > Well, my point was that given the large number of hooks, that it is
>  almost
> > impractical to create a separate method or function describing each
>  hook.
>
> Yeah documentation sucks. Really. It's only work, is it impractical?
> Probably.
>

Reasons it might be impractical:

1. It has to be at least 80% to 90% complete. The people in the API group
might be willing to help and I might also be willing. It would be better if
it gets upwards to 100% complete.
2. Motivation. You gots to have a lots of it.
3. If more people are not adding inline documentation than those who do,
then yes, it will be impractical.
4. Developers naturally gear more towards the lazy and unless the culture of
the project or at least the individual programmer is for inline
documentation and documentation in general, then it is fighting a losing
battle.

Inline documentation from 2.5 to 2.8 was an experiment to see if people
would actually maintain it after it was "complete." So far, meh, if the API
documentation group doesn't actually do something about it, then I think in
a few years or so, it would have been a failure.

Previous experience has proven to me that many people are willing to do a
few spots here and there, but unless someone throws down and attempts it
towards completion, then it never will. It was subtle, but I was giving you
props. If you are thinking about documenting a majority of the hooks through
your system, then it is going to be hard or at least it was in my
experience.


> My Hook Tracer so far successfully extracts the name of the hook and
> locates the
> calling location and type (filter, action, direct or ref_array method). I'm
> currently fiddling with parameters and I might be able to even substract
> the
> VARY part directly from code because of variable usage.
>

Ah, that is much better. For some reason I was thinking you were going to be
doing it all manually. Yeah, I would probably with with the automated
process as well. While you are at it, you could also add the skeleton phpdoc
stuff as well or was that what you were referring to below?

> Also, given  the
> > already intermittent nature of inline documentation corrections, updates
>  and
> > additions; it seems somewhat problematic to force people into adding a
>  new
> > method when they add a new filter or action.
>
> Forcing? This is not why I suggested it. I was looking for feedback. I can
> understand that some think that this looks like just as much work. And
> therefore
> crazy.
>

No, it is what I suggest and suggested. If the culture is not geared towards
providing and maintain inline documentation, then there is no point in
having it. It does no good to have 5% of contributors adding and maintaining
inline documentation and another 95% not caring, knowing, or maintaining it
themselves. As the battle is lost, the documentation becomes incomplete or
worse, incorrect.


>
> > Given that those  writing
> > patches might not even know about the method Hakre  describes
>
> Yeah. But on the opposite most developers know about PHP and Comments, and
> the
> Docblock conventions. So it's mainly build on exisiting things which makes
> it
> easy to adopt.


I was thinking after I commented and your idea, I believe, is the best one
since it fully takes into account existing conventions to the best possible
solution. There just needs to be a note saying, "Hey, when adding a filter
or action, go here." And note the location. Majority of people aren't going
to do it, but those that do will limit the work that is required in the
future.

P.S. rereading this, it appears as if I'm attempting to persuade you not to
continue. That is not the case, and I'll be willing to help once you have a
complete file or files.

Jacob Santos

From wp at andrewnacin.com  Thu Sep  9 14:48:00 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 9 Sep 2010 10:48:00 -0400
Subject: [wp-hackers] Hook (Filter, Action) Documentation Idea
In-Reply-To: <381313.25362.qm@web24106.mail.ird.yahoo.com>
References: <996904.26925.qm@web24104.mail.ird.yahoo.com>
	<AANLkTimfBqFTY8Ax546jFyRn3igC=Ns_XJKZpEKuU1Fp@mail.gmail.com>
	<AANLkTinpLGz+AWZmrgpdJApbuwbRpyAcOYz9fikOwudN@mail.gmail.com>
	<AANLkTiniqE8DsqLZZbEV+K1EY=7p16bAdPbmu2MmOngA@mail.gmail.com>
	<381313.25362.qm@web24106.mail.ird.yahoo.com>
Message-ID: <AANLkTikfQRrsi6UuscS_jGf+miLc050mSNkuxqBQjAjd@mail.gmail.com>

Let's move this conversation to the api-dev list at lists.wordpress.org.
That list was created for precisely this conversation.

On Thu, Sep 9, 2010 at 6:08 AM, hakre <hanskrentel at yahoo.de> wrote:

> My Hook Tracer so far successfully extracts the name of the hook and
> locates the
> calling location and type (filter, action, direct or ref_array method). I'm
> currently fiddling with parameters and I might be able to even substract
> the
> VARY part directly from code because of variable usage.
>

We're working on this for wordpress.org as we speak. Come join us and
contribute. Our scraper/parser is being worked on in the open:

http://code.trac.wordpress.org/browser/dotorg-api-reference

From jgadbois at gmail.com  Thu Sep  9 19:15:54 2010
From: jgadbois at gmail.com (John Gadbois)
Date: Thu, 9 Sep 2010 15:15:54 -0400
Subject: [wp-hackers] Javascript callback upon Widget save
Message-ID: <AANLkTi=nyDDT=Hs6H=p=OyfRaV5GcVDg6aRw2wevL5Ga@mail.gmail.com>

Is there a Javascript callback that I can hook into when saving a widget in
the admin screen?  Since the widget Save button reloads the contents of the
widget panel, I'm losing some event handlers that I'd like to set back up.

From ken.adcstudio at gmail.com  Thu Sep  9 19:30:24 2010
From: ken.adcstudio at gmail.com (Ken (WraithKenny))
Date: Thu, 9 Sep 2010 15:30:24 -0400
Subject: [wp-hackers] WOW: Rackspace Cloud bill just went up 10X
In-Reply-To: <AANLkTi=uA7sRQcPGFTmQXhxY+Z6=apao0r+QEr8pmEbg@mail.gmail.com>
References: <1CBF77EF-36D1-4EB6-89FA-61A79E5E38D4@graymerica.com>
	<AANLkTi=uA7sRQcPGFTmQXhxY+Z6=apao0r+QEr8pmEbg@mail.gmail.com>
Message-ID: <AANLkTikceiv1TS3aawkkjCHPJZgeAns=uf-tMJBe5QYd@mail.gmail.com>

Just out of curiosity, (I do use RackSpace Cloud for my WordPress installs)
but what do you mean "fixed"? Was its reporting borked? Or did they change
the metrics? My reporting doesn't seem to have changed. Did you get an
email?

From wp at andrewnacin.com  Thu Sep  9 19:44:08 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 9 Sep 2010 15:44:08 -0400
Subject: [wp-hackers] Javascript callback upon Widget save
In-Reply-To: <AANLkTi=nyDDT=Hs6H=p=OyfRaV5GcVDg6aRw2wevL5Ga@mail.gmail.com>
References: <AANLkTi=nyDDT=Hs6H=p=OyfRaV5GcVDg6aRw2wevL5Ga@mail.gmail.com>
Message-ID: <AANLkTi=sS3Sa8+2ec0rfG9Y+fwvyGHbUT1dLmrC8zXCO@mail.gmail.com>

On Thu, Sep 9, 2010 at 3:15 PM, John Gadbois <jgadbois at gmail.com> wrote:

> Is there a Javascript callback that I can hook into when saving a widget in
> the admin screen?  Since the widget Save button reloads the contents of the
> widget panel, I'm losing some event handlers that I'd like to set back up.
>

I think what you might be looking for is http://api.jquery.com/live/.

From jgadbois at gmail.com  Thu Sep  9 19:50:26 2010
From: jgadbois at gmail.com (John Gadbois)
Date: Thu, 9 Sep 2010 15:50:26 -0400
Subject: [wp-hackers] Javascript callback upon Widget save
In-Reply-To: <AANLkTi=sS3Sa8+2ec0rfG9Y+fwvyGHbUT1dLmrC8zXCO@mail.gmail.com>
References: <AANLkTi=nyDDT=Hs6H=p=OyfRaV5GcVDg6aRw2wevL5Ga@mail.gmail.com>
	<AANLkTi=sS3Sa8+2ec0rfG9Y+fwvyGHbUT1dLmrC8zXCO@mail.gmail.com>
Message-ID: <AANLkTik85HzB5jm2fhwLYc_SU8-YepvN9b+r7x-vKhyZ@mail.gmail.com>

Thanks Andrew,

Sorry, I didn't mean a DOM event per se.  In my specific instance I have a
color picker initializer that I call on some DOM elements.  The plugin
probably doesn't use live(), so I'd like to reinitialize the color picker
after the Widget gets reloaded.  It might be nice in general to have the js
trigger custom events similar to actions on the PHP side.  Maybe it wouldn't
be useful in many cases, I'm not sure.  In my specific case it would be.

Thanks,
John

On Thu, Sep 9, 2010 at 3:44 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Thu, Sep 9, 2010 at 3:15 PM, John Gadbois <jgadbois at gmail.com> wrote:
>
> > Is there a Javascript callback that I can hook into when saving a widget
> in
> > the admin screen?  Since the widget Save button reloads the contents of
> the
> > widget panel, I'm losing some event handlers that I'd like to set back
> up.
> >
>
> I think what you might be looking for is http://api.jquery.com/live/.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From austin at ilfilosofo.com  Thu Sep  9 20:06:48 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Thu, 9 Sep 2010 15:06:48 -0500
Subject: [wp-hackers] Javascript callback upon Widget save
In-Reply-To: <AANLkTik85HzB5jm2fhwLYc_SU8-YepvN9b+r7x-vKhyZ@mail.gmail.com>
References: <AANLkTi=nyDDT=Hs6H=p=OyfRaV5GcVDg6aRw2wevL5Ga@mail.gmail.com>
	<AANLkTi=sS3Sa8+2ec0rfG9Y+fwvyGHbUT1dLmrC8zXCO@mail.gmail.com>
	<AANLkTik85HzB5jm2fhwLYc_SU8-YepvN9b+r7x-vKhyZ@mail.gmail.com>
Message-ID: <AANLkTinTffp1_ZQ2UsEk_gFMPhwLtSi7QJNFWjRv-3n-@mail.gmail.com>

On Thu, Sep 9, 2010 at 2:50 PM, John Gadbois <jgadbois at gmail.com> wrote:
> Sorry, I didn't mean a DOM event per se. ?In my specific instance I have a
> color picker initializer that I call on some DOM elements. ?The plugin
> probably doesn't use live(), so I'd like to reinitialize the color picker
> after the Widget gets reloaded. ?It might be nice in general to have the js
> trigger custom events similar to actions on the PHP side. ?Maybe it wouldn't
> be useful in many cases, I'm not sure. ?In my specific case it would be.

Take a look at the wpWidgets object in wp-admin/js/widgets.dev.js.  It
has a number of public methods such as "save" that you might be able
to use by redefining them to call your functions.

From johnbillion+wp at gmail.com  Thu Sep  9 20:10:39 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu, 9 Sep 2010 21:10:39 +0100
Subject: [wp-hackers] Object terms not caching
In-Reply-To: <AANLkTik9MHktxWRMv5DTNVx0Tz1dp=LghEi2VewELGc3@mail.gmail.com>
References: <AANLkTimWkP6iLwcRSA_5zCH-ga372uGfUi3Ov04=YYCT@mail.gmail.com>
	<AANLkTik9MHktxWRMv5DTNVx0Tz1dp=LghEi2VewELGc3@mail.gmail.com>
Message-ID: <AANLkTi=2ick=1VBkiHZpSk95oDuAZfheycyhdA8NvNqp@mail.gmail.com>

On Thu, Sep 9, 2010 at 6:10 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
> http://core.trac.wordpress.org/ticket/12989
>
> The reason is that update_object_term_cache() only handles a single post
> type currently. Perhaps worth a revisit. Tickets/patches welcome.

Done. http://core.trac.wordpress.org/ticket/14821

From batmoo at gmail.com  Thu Sep  9 20:26:52 2010
From: batmoo at gmail.com (Mohammad Jangda)
Date: Thu, 9 Sep 2010 16:26:52 -0400
Subject: [wp-hackers] Javascript callback upon Widget save
In-Reply-To: <AANLkTi=nyDDT=Hs6H=p=OyfRaV5GcVDg6aRw2wevL5Ga@mail.gmail.com>
References: <AANLkTi=nyDDT=Hs6H=p=OyfRaV5GcVDg6aRw2wevL5Ga@mail.gmail.com>
Message-ID: <AANLkTi=6Ckwi25_OnPrTyEEHcE+7m3Mm6z5jwvnrbVUe@mail.gmail.com>

>
> Is there a Javascript callback that I can hook into when saving a widget in
> the admin screen?  Since the widget Save button reloads the contents of the
> widget panel, I'm losing some event handlers that I'd like to set back up.
>

You can hook into the jQuery's ajaxSuccess event (
http://api.jquery.com/ajaxSuccess/). It's not the nicest solution but it
works (I actually use the same approach to hook into post autosaves).

Below is a crude example that triggers anytime a "mywidget" instance is
added or saved. Just change the value of widget_id_base to the id of your
widget and you're set.

(If you want it nicely formatted, find it on gisthub:
http://gist.github.com/572482)

jQuery(document).ajaxSuccess(function(e, xhr, settings) {
	var widget_id_base = 'mywidget';

	if(settings.data.search('action=save-widget') != -1 &&
settings.data.search('id_base=' + widget_id_base) != -1) {
		alert('yay!');
		// do other stuff
	}

});

From dgs at riskiii.com  Thu Sep  9 21:41:27 2010
From: dgs at riskiii.com (Danny G Smith)
Date: Thu, 9 Sep 2010 16:41:27 -0500
Subject: [wp-hackers] add filter to action to replace sidebar areas on the
	widgets page?
Message-ID: <B833DA01-D224-4B3C-AEC9-32333006DD0B@riskiii.com>

I am working on a website that has an insane amount of sidebar areas, and the page just goes on and on forever.  I would like to be able to write a be able to modify the loop at line 387 in wp-admin/widgets.php to use two columns.  I am not sure if there is a way filter an action or do this without modifying the core code, which I don't want to do.  Any help would be appreciated.

thanks,
Danny

From jgadbois at gmail.com  Thu Sep  9 21:52:42 2010
From: jgadbois at gmail.com (John Gadbois)
Date: Thu, 9 Sep 2010 17:52:42 -0400
Subject: [wp-hackers] Javascript callback upon Widget save
In-Reply-To: <AANLkTi=6Ckwi25_OnPrTyEEHcE+7m3Mm6z5jwvnrbVUe@mail.gmail.com>
References: <AANLkTi=nyDDT=Hs6H=p=OyfRaV5GcVDg6aRw2wevL5Ga@mail.gmail.com>
	<AANLkTi=6Ckwi25_OnPrTyEEHcE+7m3Mm6z5jwvnrbVUe@mail.gmail.com>
Message-ID: <AANLkTikqE2BCD=QzEj+Xkn-+0B=GBs5iawQst42ds_8W@mail.gmail.com>

That should work perfectly.  I didn't know there was a generic ajaxSuccess
event.  I'll try it out....

On Thu, Sep 9, 2010 at 4:26 PM, Mohammad Jangda <batmoo at gmail.com> wrote:

> >
> > Is there a Javascript callback that I can hook into when saving a widget
> in
> > the admin screen?  Since the widget Save button reloads the contents of
> the
> > widget panel, I'm losing some event handlers that I'd like to set back
> up.
> >
>
> You can hook into the jQuery's ajaxSuccess event (
> http://api.jquery.com/ajaxSuccess/). It's not the nicest solution but it
> works (I actually use the same approach to hook into post autosaves).
>
> Below is a crude example that triggers anytime a "mywidget" instance is
> added or saved. Just change the value of widget_id_base to the id of your
> widget and you're set.
>
> (If you want it nicely formatted, find it on gisthub:
> http://gist.github.com/572482)
>
> jQuery(document).ajaxSuccess(function(e, xhr, settings) {
>        var widget_id_base = 'mywidget';
>
>        if(settings.data.search('action=save-widget') != -1 &&
> settings.data.search('id_base=' + widget_id_base) != -1) {
>                alert('yay!');
>                // do other stuff
>        }
>
> });
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From demonicpagan at gmail.com  Thu Sep  9 23:36:29 2010
From: demonicpagan at gmail.com (Dustin Lennon)
Date: Thu, 9 Sep 2010 18:36:29 -0500
Subject: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
	with WP 3.0.1+
In-Reply-To: <4C8877EB.7000605@gmail.com>
References: <4C885355.4070505@gmail.com>	<AANLkTina_VD6ORaZdOMWrS70X_qCTCWVB+WhRRGJr0pQ@mail.gmail.com>	<4C88697C.5040501@gmail.com>	<AANLkTikoKt4Qzn_m=yTwdiL=nOPd8rVkvOrLMxZe1sna@mail.gmail.com>	<4C887377.3070908@gmail.com>
	<AANLkTikni9RuRqE+yT6CAYkAc-ckSnKGV3Be+bwBpkZw@mail.gmail.com>
	<4C8877EB.7000605@gmail.com>
Message-ID: <350c01cb5077$d5c1cf90$81456eb0$@gmail.com>

I'm still at a loss at how to get my plugin to activate without errors. Is
there anything, anything at all that I can do to my code to help me out? The
WP Codex hasn't been updated in how to write plugins that use a database to
store values. I do know that in the codex that it still mentions using
require_once(ABSPATH . 'wp-admin/includes/upgrade.php'); and that is
deprecated. Having it in my code originally cased it to show a white page
after plugin activation.

Right now, I have a plugin that says it creates a fatal error, what fatal
error I don't know as it don't give any more information and am unsure
whether or not if I do any plugin updates, it updates the MySQL tables.

Plugin source: http://stelth2000inc.com/ffxi.phps

This message contains confidential information and is intended only for the
individual named. If you are not the named addressee you should not
disseminate, distribute or copy this e-mail. Please notify the sender
immediately by e-mail if you have received this e-mail by mistake and delete
this e-mail from your system. E-mail transmission cannot be guaranteed to be
secure or error-free as information could be intercepted, corrupted, lost,
destroyed, arrive late or incomplete, or contain viruses. The sender
therefore does not accept liability for any errors or omissions in the
contents of this message, which arise as a result of e-mail transmission.



-----Original Message-----
From: Dustin Shea [mailto:demonicpagan at gmail.com] 
Sent: Thursday, September 09, 2010 1:00 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
with WP 3.0.1+

Plugin was deactivated when I went to the plugins page to activate, when I
did, same error w/o any indication as to what it is.

-Dustin

On 9/9/2010 12:49 AM, Andrew Nacin wrote:
> On Thu, Sep 9, 2010 at 1:41 AM, Dustin Shea<demonicpagan at gmail.com>
wrote:
>
>> I've added the if (!function_exists('somefucntion') { ... } before every
>> function which stopped cannot redeclare function errors, now when I try
to
>> activate it, it just says Plugin could not be activated because it
triggered
>> a fatal error. No other information is provided about it.
>
>
> That usually happens when you refresh the page (the URL sticks and
generates
> the message). Try clicking the Plugins menu again. It may already be
> activated, or if not, try to activate it.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-- 
This message contains confidential information and is intended only for the
individual named. If you are not the named addressee you should not
disseminate, distribute or copy this e-mail. Please notify the sender
immediately by e-mail if you have received this e-mail by mistake and delete
this e-mail from your system. E-mail transmission cannot be guaranteed to be
secure or error-free as information could be intercepted, corrupted, lost,
destroyed, arrive late or incomplete, or contain viruses. The sender
therefore does not accept liability for any errors or omissions in the
contents of this message, which arise as a result of e-mail transmission.


From mikeschinkel at newclarity.net  Fri Sep 10 00:56:19 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 9 Sep 2010 20:56:19 -0400
Subject: [wp-hackers] add filter to action to replace sidebar areas on
	the widgets page?
In-Reply-To: <B833DA01-D224-4B3C-AEC9-32333006DD0B@riskiii.com>
References: <B833DA01-D224-4B3C-AEC9-32333006DD0B@riskiii.com>
Message-ID: <D9466402-62ED-48B9-8870-B052CBE75A2A@newclarity.net>

Hey Danny,

It's not super elegant but you could try something like this:

add_action('widgets_admin_page','start_buffering_widgets');
function start_buffering_widgets() {
	ob_start();
}
add_action('sidebar_admin_page','stop_buffering_widgets');
function stop_buffering_widgets() {
	$widgets = ob_get_clean();
	// Do your HTML surgery on $widgets here
	echo $widgets;
}

Hope this helps.

-Mike


On Sep 9, 2010, at 5:41 PM, Danny G Smith wrote:

> I am working on a website that has an insane amount of sidebar areas, and the page just goes on and on forever.  I would like to be able to write a be able to modify the loop at line 387 in wp-admin/widgets.php to use two columns.  I am not sure if there is a way filter an action or do this without modifying the core code, which I don't want to do.  Any help would be appreciated.
> 
> thanks,
> Danny
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From austin at ilfilosofo.com  Fri Sep 10 00:56:31 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Thu, 9 Sep 2010 19:56:31 -0500
Subject: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
 with WP 3.0.1+
In-Reply-To: <350c01cb5077$d5c1cf90$81456eb0$@gmail.com>
References: <4C885355.4070505@gmail.com>
	<AANLkTina_VD6ORaZdOMWrS70X_qCTCWVB+WhRRGJr0pQ@mail.gmail.com>
	<4C88697C.5040501@gmail.com>
	<AANLkTikoKt4Qzn_m=yTwdiL=nOPd8rVkvOrLMxZe1sna@mail.gmail.com>
	<4C887377.3070908@gmail.com>
	<AANLkTikni9RuRqE+yT6CAYkAc-ckSnKGV3Be+bwBpkZw@mail.gmail.com>
	<4C8877EB.7000605@gmail.com>
	<350c01cb5077$d5c1cf90$81456eb0$@gmail.com>
Message-ID: <AANLkTinGexvMjxmD8WUzb7uDFFkVwg4rC40=1QgC2ZG2@mail.gmail.com>

On Thu, Sep 9, 2010 at 6:36 PM, Dustin Lennon <demonicpagan at gmail.com> wrote:
> I'm still at a loss at how to get my plugin to activate without errors. Is
> there anything, anything at all that I can do to my code to help me out? The
> WP Codex hasn't been updated in how to write plugins that use a database to
> store values. I do know that in the codex that it still mentions using
> require_once(ABSPATH . 'wp-admin/includes/upgrade.php'); and that is
> deprecated. Having it in my code originally cased it to show a white page
> after plugin activation.
>
> Right now, I have a plugin that says it creates a fatal error, what fatal
> error I don't know as it don't give any more information and am unsure
> whether or not if I do any plugin updates, it updates the MySQL tables.
>
> Plugin source: http://stelth2000inc.com/ffxi.phps

Hello Dustin,

If you want to learn more about the PHP error messages, try installing
something like Xdebug on your dev machine.  Xdebug is a PHP extension
that gives you lots of additional information when PHP prints errors.

When I try to activate your plugin from the code linked to above, I
get a bunch of PHP notices telling me about all the deprecated calls
you're making, and a warning and fatal error:
 * Warning: The plugin tries to include a file that doesn't exist, on
line 43: /admin/ffxi_admin.php.  (Perhaps this is part of the plugin
but not linked to above.)
 * Fatal Error: It calls dbDelta, which is undefined.

dbDelta is defined in wp-admin/includes/upgrade.php, so you may need
to include a line like the following in your plugin:

require_once ABSPATH . 'wp-admin/includes/upgrade.php';

From dgs at riskiii.com  Fri Sep 10 01:02:08 2010
From: dgs at riskiii.com (Danny G Smith)
Date: Thu, 9 Sep 2010 20:02:08 -0500
Subject: [wp-hackers] add filter to action to replace sidebar areas on
	the widgets page?
In-Reply-To: <D9466402-62ED-48B9-8870-B052CBE75A2A@newclarity.net>
References: <B833DA01-D224-4B3C-AEC9-32333006DD0B@riskiii.com>
	<D9466402-62ED-48B9-8870-B052CBE75A2A@newclarity.net>
Message-ID: <7D9FD9C1-D110-4117-92EF-6C46916C3FAC@riskiii.com>

At this point, I don't care about being elegant.   Thanks, I will give it a try.   


thanks,
Danny 

On Sep 9, 2010, at 7:56 PM, Mike Schinkel <mikeschinkel at newclarity.net> wrote:

> Hey Danny,
> 
> It's not super elegant but you could try something like this:
> 
> add_action('widgets_admin_page','start_buffering_widgets');
> function start_buffering_widgets() {
> 	ob_start();
> }
> add_action('sidebar_admin_page','stop_buffering_widgets');
> function stop_buffering_widgets() {
> 	$widgets = ob_get_clean();
> 	// Do your HTML surgery on $widgets here
> 	echo $widgets;
> }
> 
> Hope this helps.
> 
> -Mike
> 
> 
> On Sep 9, 2010, at 5:41 PM, Danny G Smith wrote:
> 
>> I am working on a website that has an insane amount of sidebar areas, and the page just goes on and on forever.  I would like to be able to write a be able to modify the loop at line 387 in wp-admin/widgets.php to use two columns.  I am not sure if there is a way filter an action or do this without modifying the core code, which I don't want to do.  Any help would be appreciated.
>> 
>> thanks,
>> Danny
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From demonicpagan at gmail.com  Fri Sep 10 04:23:07 2010
From: demonicpagan at gmail.com (Dustin Lennon)
Date: Thu, 9 Sep 2010 23:23:07 -0500
Subject: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
	with WP 3.0.1+
In-Reply-To: <AANLkTinGexvMjxmD8WUzb7uDFFkVwg4rC40=1QgC2ZG2@mail.gmail.com>
References: <4C885355.4070505@gmail.com>
	<AANLkTina_VD6ORaZdOMWrS70X_qCTCWVB+WhRRGJr0pQ@mail.gmail.com>
	<4C88697C.5040501@gmail.com>
	<AANLkTikoKt4Qzn_m=yTwdiL=nOPd8rVkvOrLMxZe1sna@mail.gmail.com>
	<4C887377.3070908@gmail.com>
	<AANLkTikni9RuRqE+yT6CAYkAc-ckSnKGV3Be+bwBpkZw@mail.gmail.com>
	<4C8877EB.7000605@gmail.com>
	<350c01cb5077$d5c1cf90$81456eb0$@gmail.com>
	<AANLkTinGexvMjxmD8WUzb7uDFFkVwg4rC40=1QgC2ZG2@mail.gmail.com>
Message-ID: <353e01cb509f$dfd03ee0$9f70bca0$@gmail.com>

That is correct, I don't have my entire script linked in that url.  I have
not provided the source to admin/ffxi_admin.php.

I have updated my source at the previous URL to add the require_once back
into the picture, though I think now when I try to activate the plugin, all
it will provide me is a white screen and me unknown as to what the error
might be. (and that is the case after I just performed it)

I'll see if I can locate how to make use of that Xdebug.

-Dustin

This message contains confidential information and is intended only for the
individual named. If you are not the named addressee you should not
disseminate, distribute or copy this e-mail. Please notify the sender
immediately by e-mail if you have received this e-mail by mistake and delete
this e-mail from your system. E-mail transmission cannot be guaranteed to be
secure or error-free as information could be intercepted, corrupted, lost,
destroyed, arrive late or incomplete, or contain viruses. The sender
therefore does not accept liability for any errors or omissions in the
contents of this message, which arise as a result of e-mail transmission.


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Austin Matzko
Sent: Thursday, September 09, 2010 7:57 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
with WP 3.0.1+

On Thu, Sep 9, 2010 at 6:36 PM, Dustin Lennon <demonicpagan at gmail.com>
wrote:
> I'm still at a loss at how to get my plugin to activate without errors. Is
> there anything, anything at all that I can do to my code to help me out?
The
> WP Codex hasn't been updated in how to write plugins that use a database
to
> store values. I do know that in the codex that it still mentions using
> require_once(ABSPATH . 'wp-admin/includes/upgrade.php'); and that is
> deprecated. Having it in my code originally cased it to show a white page
> after plugin activation.
>
> Right now, I have a plugin that says it creates a fatal error, what fatal
> error I don't know as it don't give any more information and am unsure
> whether or not if I do any plugin updates, it updates the MySQL tables.
>
> Plugin source: http://stelth2000inc.com/ffxi.phps

Hello Dustin,

If you want to learn more about the PHP error messages, try installing
something like Xdebug on your dev machine.  Xdebug is a PHP extension
that gives you lots of additional information when PHP prints errors.

When I try to activate your plugin from the code linked to above, I
get a bunch of PHP notices telling me about all the deprecated calls
you're making, and a warning and fatal error:
 * Warning: The plugin tries to include a file that doesn't exist, on
line 43: /admin/ffxi_admin.php.  (Perhaps this is part of the plugin
but not linked to above.)
 * Fatal Error: It calls dbDelta, which is undefined.

dbDelta is defined in wp-admin/includes/upgrade.php, so you may need
to include a line like the following in your plugin:

require_once ABSPATH . 'wp-admin/includes/upgrade.php';
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From demonicpagan at gmail.com  Fri Sep 10 04:47:25 2010
From: demonicpagan at gmail.com (Dustin Lennon)
Date: Thu, 9 Sep 2010 23:47:25 -0500
Subject: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
	with WP 3.0.1+
In-Reply-To: <353e01cb509f$dfd03ee0$9f70bca0$@gmail.com>
References: <4C885355.4070505@gmail.com>
	<AANLkTina_VD6ORaZdOMWrS70X_qCTCWVB+WhRRGJr0pQ@mail.gmail.com>
	<4C88697C.5040501@gmail.com>
	<AANLkTikoKt4Qzn_m=yTwdiL=nOPd8rVkvOrLMxZe1sna@mail.gmail.com>
	<4C887377.3070908@gmail.com>
	<AANLkTikni9RuRqE+yT6CAYkAc-ckSnKGV3Be+bwBpkZw@mail.gmail.com>
	<4C8877EB.7000605@gmail.com>
	<350c01cb5077$d5c1cf90$81456eb0$@gmail.com>
	<AANLkTinGexvMjxmD8WUzb7uDFFkVwg4rC40=1QgC2ZG2@mail.gmail.com>
	<353e01cb509f$dfd03ee0$9f70bca0$@gmail.com>
Message-ID: <354601cb50a3$454b1170$cfe13450$@gmail.com>

Xdebug is installed, just the documentation provide is leaving me unsure as
to how to use it or what functions to make use of to provide me a deeper
insight to my code.

http://stelth2000inc.com/ffxi.phps

-Dustin

This message contains confidential information and is intended only for the
individual named. If you are not the named addressee you should not
disseminate, distribute or copy this e-mail. Please notify the sender
immediately by e-mail if you have received this e-mail by mistake and delete
this e-mail from your system. E-mail transmission cannot be guaranteed to be
secure or error-free as information could be intercepted, corrupted, lost,
destroyed, arrive late or incomplete, or contain viruses. The sender
therefore does not accept liability for any errors or omissions in the
contents of this message, which arise as a result of e-mail transmission.


-----Original Message-----
From: Dustin Lennon [mailto:demonicpagan at gmail.com] 
Sent: Thursday, September 09, 2010 11:23 PM
To: wp-hackers at lists.automattic.com
Subject: RE: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
with WP 3.0.1+

That is correct, I don't have my entire script linked in that url.  I have
not provided the source to admin/ffxi_admin.php.

I have updated my source at the previous URL to add the require_once back
into the picture, though I think now when I try to activate the plugin, all
it will provide me is a white screen and me unknown as to what the error
might be. (and that is the case after I just performed it)

I'll see if I can locate how to make use of that Xdebug.

-Dustin

This message contains confidential information and is intended only for the
individual named. If you are not the named addressee you should not
disseminate, distribute or copy this e-mail. Please notify the sender
immediately by e-mail if you have received this e-mail by mistake and delete
this e-mail from your system. E-mail transmission cannot be guaranteed to be
secure or error-free as information could be intercepted, corrupted, lost,
destroyed, arrive late or incomplete, or contain viruses. The sender
therefore does not accept liability for any errors or omissions in the
contents of this message, which arise as a result of e-mail transmission.


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Austin Matzko
Sent: Thursday, September 09, 2010 7:57 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
with WP 3.0.1+

On Thu, Sep 9, 2010 at 6:36 PM, Dustin Lennon <demonicpagan at gmail.com>
wrote:
> I'm still at a loss at how to get my plugin to activate without errors. Is
> there anything, anything at all that I can do to my code to help me out?
The
> WP Codex hasn't been updated in how to write plugins that use a database
to
> store values. I do know that in the codex that it still mentions using
> require_once(ABSPATH . 'wp-admin/includes/upgrade.php'); and that is
> deprecated. Having it in my code originally cased it to show a white page
> after plugin activation.
>
> Right now, I have a plugin that says it creates a fatal error, what fatal
> error I don't know as it don't give any more information and am unsure
> whether or not if I do any plugin updates, it updates the MySQL tables.
>
> Plugin source: http://stelth2000inc.com/ffxi.phps

Hello Dustin,

If you want to learn more about the PHP error messages, try installing
something like Xdebug on your dev machine.  Xdebug is a PHP extension
that gives you lots of additional information when PHP prints errors.

When I try to activate your plugin from the code linked to above, I
get a bunch of PHP notices telling me about all the deprecated calls
you're making, and a warning and fatal error:
 * Warning: The plugin tries to include a file that doesn't exist, on
line 43: /admin/ffxi_admin.php.  (Perhaps this is part of the plugin
but not linked to above.)
 * Fatal Error: It calls dbDelta, which is undefined.

dbDelta is defined in wp-admin/includes/upgrade.php, so you may need
to include a line like the following in your plugin:

require_once ABSPATH . 'wp-admin/includes/upgrade.php';
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From lists at mollentze.co.za  Fri Sep 10 08:36:28 2010
From: lists at mollentze.co.za (Werner)
Date: Fri, 10 Sep 2010 10:36:28 +0200
Subject: [wp-hackers] Filtering controls for custom post types
In-Reply-To: <05180EAB-0AD3-455D-A894-3E83F2B6C423@newclarity.net>
References: <4C88AD13.5090506@mollentze.co.za>	<AANLkTi=zQ3vqTbzTrq6Khw3jAmi-uqbYR_=94+iwqqyN@mail.gmail.com>
	<05180EAB-0AD3-455D-A894-3E83F2B6C423@newclarity.net>
Message-ID: <4C89EE0C.6080707@mollentze.co.za>

  Thank you, Mike!

On 09/09/2010 13:27, Mike Schinkel wrote:
> Hi Werner,
>
> In the interim you might find this helpful:
>
> 	http://wordpress.stackexchange.com/questions/578/adding-a-taxonomy-filter-to-admin-list-for-a-custom-post-type/582#582
>
> -Mike
>
> On Sep 9, 2010, at 5:59 AM, scribu wrote:
>
>> On Thu, Sep 9, 2010 at 12:46 PM, Werner<lists at mollentze.co.za>  wrote:
>>
>>> Hi Hackers
>>>
>>> When custom post types are listed in admin, the familiar typical post
>>> filtering controls appear, like:
>>>
>>>    All (25) | Published (21)
>>>
>>> In addition, the "show All Dates" filter, too.
>>>
>>> Is there any way one can hook in somewhere to add your own custom filtering
>>> controls to the admin interface?
>>>
>> There will be in 3.1. See http://core.trac.wordpress.org/changeset/15578
>>
>> -- 
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From patrik.bona at mrhead.sk  Fri Sep 10 10:59:34 2010
From: patrik.bona at mrhead.sk (=?UTF-8?B?UGF0cmlrIELDs25h?=)
Date: Fri, 10 Sep 2010 12:59:34 +0200
Subject: [wp-hackers] Search in given taxonomy term
In-Reply-To: <AANLkTikY+nHK2Q7v_N61XRrjAySTxBqiOQ_MWfTo2j9b@mail.gmail.com>
References: <4C862D34.4050406@mrhead.sk>	<AANLkTikjkVPkOJPGbckBNtnRnZvZp61JHNSSvc1rcPys@mail.gmail.com>	<4C8776D0.2000908@mrhead.sk>
	<AANLkTikY+nHK2Q7v_N61XRrjAySTxBqiOQ_MWfTo2j9b@mail.gmail.com>
Message-ID: <4C8A0F96.5020403@mrhead.sk>

I have opened ticket for this issue:

http://core.trac.wordpress.org/ticket/14831

And if anyone is interested, this is my workaround:

function gb_search_join($join, $wp_query) {
     global $wpdb, $lang;

     if(!$wp_query->is_tax && is_search()) {
         $join .= " JOIN $wpdb->term_relationships tr1 ON 
($wpdb->posts.ID = tr1.object_ID)
                 JOIN $wpdb->term_taxonomy tt1 ON (tr1.term_taxonomy_id 
= tt1.term_taxonomy_id)
                 JOIN $wpdb->terms t1 ON (tt1.term_id = t1.term_id AND 
tt1.taxonomy = 'jazyk' AND t1.slug = '$lang')";
     }

     return $join;
}
add_filter('posts_join', 'gb_search_join', 10, 2);

The reason why i am checking $wp_query->is_tax is that when this bug 
will be fixed, then is_tax should be set to true in search & taxonomy 
query and then JOIN will be not modified. So i don't need to change code 
when client will upgrade his WP installation.  I hope i am right ;).

Patrik

On 09/08/2010 02:21 PM, scribu wrote:
> On Wed, Sep 8, 2010 at 2:43 PM, Patrik B?na<patrik.bona at mrhead.sk>  wrote:
>
>    
>> For example:
>>
>> query_posts("taxonomy=jazyk&term=sk&s=word');
>>
>> in this case taxonomy and term are ignored a everything containing 'word'
>> is returned...
>>
>> And it is also same if i type these parameters to url without
>> query_posts...
>>
>>      
> I see. That's a bug. You should open a ticket in trac.
>
>
>    


From patrik.bona at mrhead.sk  Fri Sep 10 11:13:03 2010
From: patrik.bona at mrhead.sk (=?UTF-8?B?UGF0cmlrIELDs25h?=)
Date: Fri, 10 Sep 2010 13:13:03 +0200
Subject: [wp-hackers] Search in given taxonomy term
In-Reply-To: <4C8A0F96.5020403@mrhead.sk>
References: <4C862D34.4050406@mrhead.sk>	<AANLkTikjkVPkOJPGbckBNtnRnZvZp61JHNSSvc1rcPys@mail.gmail.com>	<4C8776D0.2000908@mrhead.sk>	<AANLkTikY+nHK2Q7v_N61XRrjAySTxBqiOQ_MWfTo2j9b@mail.gmail.com>
	<4C8A0F96.5020403@mrhead.sk>
Message-ID: <4C8A12BF.5060908@mrhead.sk>

Oh, i've forgot to add !is_admin() to if, so it should be:

if(!$wp_query->is_tax && is_search() && !is_admin()) {

This is working perfectly for me.

Patrik

On 09/10/2010 12:59 PM, Patrik B?na wrote:
> I have opened ticket for this issue:
>
> http://core.trac.wordpress.org/ticket/14831
>
> And if anyone is interested, this is my workaround:
>
> function gb_search_join($join, $wp_query) {
>     global $wpdb, $lang;
>
>     if(!$wp_query->is_tax && is_search()) {
>         $join .= " JOIN $wpdb->term_relationships tr1 ON 
> ($wpdb->posts.ID = tr1.object_ID)
>                 JOIN $wpdb->term_taxonomy tt1 ON (tr1.term_taxonomy_id 
> = tt1.term_taxonomy_id)
>                 JOIN $wpdb->terms t1 ON (tt1.term_id = t1.term_id AND 
> tt1.taxonomy = 'jazyk' AND t1.slug = '$lang')";
>     }
>
>     return $join;
> }
> add_filter('posts_join', 'gb_search_join', 10, 2);
>
> The reason why i am checking $wp_query->is_tax is that when this bug 
> will be fixed, then is_tax should be set to true in search & taxonomy 
> query and then JOIN will be not modified. So i don't need to change 
> code when client will upgrade his WP installation.  I hope i am right ;).
>
> Patrik
>
> On 09/08/2010 02:21 PM, scribu wrote:
>> On Wed, Sep 8, 2010 at 2:43 PM, Patrik B?na<patrik.bona at mrhead.sk>  
>> wrote:
>>
>>> For example:
>>>
>>> query_posts("taxonomy=jazyk&term=sk&s=word');
>>>
>>> in this case taxonomy and term are ignored a everything containing 
>>> 'word'
>>> is returned...
>>>
>>> And it is also same if i type these parameters to url without
>>> query_posts...
>>>
>> I see. That's a bug. You should open a ticket in trac.
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jayarjo at gmail.com  Fri Sep 10 13:51:06 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Fri, 10 Sep 2010 17:51:06 +0400
Subject: [wp-hackers] how can one visually represent a shortcode in visual
 part of rich text editor?
Message-ID: <AANLkTi=b=hw8R4WNnMSRVecGp-RiRPNEoMK6-Lpcd0y4@mail.gmail.com>

I need to add some buttons to tinymce, inserting some shortcodes and
while displaying shortcode itself is ok, I'd rather replace it with
the icon. Is there any established way to accomplish such task?

-- 
Davit Barbakadze

From mikeschinkel at newclarity.net  Sat Sep 11 05:45:32 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 11 Sep 2010 01:45:32 -0400
Subject: [wp-hackers] Plans to modify /wp-admin/plugins.php for 3.1?
Message-ID: <685FA548-DDAD-433F-AD06-7EA9B4C7CC8C@newclarity.net>

Are there any plans to modify /wp-admin/plugins.php for 3.1?  

I just tried to do something that should have been straightforward but was very difficult due to lack of extensibility. So I'd like to submit a proposed patch for it sometime over the next month but I don't want to work on it while it is otherwise in development.

-Mike

From scribu at gmail.com  Sat Sep 11 07:12:43 2010
From: scribu at gmail.com (scribu)
Date: Sat, 11 Sep 2010 10:12:43 +0300
Subject: [wp-hackers] Plans to modify /wp-admin/plugins.php for 3.1?
In-Reply-To: <685FA548-DDAD-433F-AD06-7EA9B4C7CC8C@newclarity.net>
References: <685FA548-DDAD-433F-AD06-7EA9B4C7CC8C@newclarity.net>
Message-ID: <AANLkTikqkksp1aEFYhA4DWk5XEn0LB___7TX8uUpZqBz@mail.gmail.com>

The plugins page is in flux, with the new network area and the
ajaxified admin screens, so might as well make your suggestion now.

On Saturday, September 11, 2010, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> Are there any plans to modify /wp-admin/plugins.php for 3.1?
>
> I just tried to do something that should have been straightforward but was very difficult due to lack of extensibility. So I'd like to submit a proposed patch for it sometime over the next month but I don't want to work on it while it is otherwise in development.
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

-- 
http://scribu.net

From rbilesky at gmail.com  Sat Sep 11 07:48:59 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Sat, 11 Sep 2010 00:48:59 -0700
Subject: [wp-hackers] Get list of roles
Message-ID: <AANLkTik6sQCP6J5kVSbpnVS0MxgK4MfNRt51hBRXOwB7@mail.gmail.com>

I can't seem to figure out how to get this to work.

I am trying to get a list of roles, (not just assume there is only the
default roles) to build an options page for a plugin I'm working on.  I
would have table to control what roles get certain custom capabilities.  I
cannot seem to figure out how to get all the role names, so I can build my
form to change my plugin specific capabilities.

From mikeschinkel at newclarity.net  Sat Sep 11 08:26:41 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 11 Sep 2010 04:26:41 -0400
Subject: [wp-hackers] Plans to modify /wp-admin/plugins.php for 3.1?
In-Reply-To: <AANLkTikqkksp1aEFYhA4DWk5XEn0LB___7TX8uUpZqBz@mail.gmail.com>
References: <685FA548-DDAD-433F-AD06-7EA9B4C7CC8C@newclarity.net>
	<AANLkTikqkksp1aEFYhA4DWk5XEn0LB___7TX8uUpZqBz@mail.gmail.com>
Message-ID: <4C158926-F556-4E99-BE53-72436269B39C@newclarity.net>

> On Sep 11, 2010, at 3:12 AM, scribu wrote:
> 
>> The plugins page is in flux, with the new network area and the
>> ajaxified admin screens, so might as well make your suggestion now.
>> 
>> On Saturday, September 11, 2010, Mike Schinkel
>> <mikeschinkel at newclarity.net> wrote:
>>> Are there any plans to modify /wp-admin/plugins.php for 3.1?
>>> 
>>> I just tried to do something that should have been straightforward but was very difficult due to lack of extensibility. So I'd like to submit a proposed patch for it sometime over the next month but I don't want to work on it while it is otherwise in development.


Well, at the risk of being rather un-thorough I'll take a quick stab at it.

But first here was my use case:  I wanted to create a plugin that could move plugins to an "Archive" list so that you can have plugins in your system but out of site until you want to look at them.  Currently the only options are activated, deactivated or deleted; I wanted deactivated and also not part of the main list.  Trying to accomplish that was, shall we way, a bit frustrating. I was able to make it work but not with all the elegance we'd expect in code OR in the UI.  

If you want to play with it to visualize here it is (but I wouldn't want to "release" it in the public repository yet given how I had to hack to get around issues in core):

http://gist.github.com/574971

Here are the places where I identified the need to add a hook:

#1.) Line 38&39: Plugin Status are hardcoded so no ability to directly add a new status.  Here's the existing code:

if ( !in_array($status, array('all', 'active', 'inactive', 'recent', 'upgrade', 'network', 'mustuse', 'dropins', 'search')) )
	$status = 'all';


#2.)Lines 53 thru 311 are a switch ($action) statement with no option to run a custom action.  To get around this I hooked admin_init and just essentially ignore all the code in plugin.php, some of which I really needed.


#3.) Line 378-392 - the counts for the different type of plugins are stored in script local variables. for which there's no direct hook access, and there's not even any reasonable hooks that will allow you to get access to them by declaring them global. These should be packaged in an array and passed thought a filter so they could be set/modified:

$all_plugins = apply_filters( 'all_plugins', get_plugins() );
$search_plugins = array();
$active_plugins = array();
$inactive_plugins = array();
$recent_plugins = array();
$recently_activated = get_option('recently_activated', array());
$upgrade_plugins = array();
$network_plugins = array();
$mustuse_plugins = $dropins_plugins = array();
if ( ! is_multisite() || current_user_can('manage_network_plugins') ) {
	if ( apply_filters( 'show_advanced_plugins', true, 'mustuse' ) )
		$mustuse_plugins = get_mu_plugins();
	if ( apply_filters( 'show_advanced_plugins', true, 'dropins' ) )
		$dropins_plugins = get_dropins();
}


#4.) Lines 435 thru 442 - Similar to #3 the totals for each type of plugin are set to script local variables and there's no good way to affect the even with global access:

$total_all_plugins = count($all_plugins);
$total_inactive_plugins = count($inactive_plugins);
$total_active_plugins = count($active_plugins);
$total_recent_plugins = count($recent_plugins);
$total_upgrade_plugins = count($upgrade_plugins);
$total_network_plugins = count($network_plugins);
$total_mustuse_plugins = count($mustuse_plugins);
$total_dropins_plugins = count($dropins_plugins);


#5.) Lines 504 thru 642 - The print_plugins_table() function only provides a filter for the links but not for the content row for a plugin nor for the headings. It provides an after_row action but that action doesn't let you modify the row (unless you play programmer's Russian roulette with ob_start()/ob_get_clean()).


#6.) Lines 648-677 - The print_plugin_actions() function hardcodes the bulk actions and provides no way to add to, modify or delete existing bulk options (I actually did write a fix for this which is at the bottom of my plugin in my Gist file, see http://gist.github.com/574971)


#7.) Lines 699 thru 702 - The status hyperlinks with plugin counts are hardcoded here with no way to filter them.  (For my plugin I played programmer's Russian roulette with ob_start()/ob_get_clean() and hooked the admin_footer action and I had to do some really nasty and fragile regular expression matching.  A small change to core or by another plugin would easily break what I'd done.


Thus we have at least 7 places to update and those are just the ones that I noticed via a quick scan; there are more places than that which could use some love.  Yes I was able to get the plugin working but I couldn't get all the links at the top to display without duplicating a bunch of code from core (which I already had to do a bit of.) End users would see this and certainly get confused.  So the shortcoming of those 7 areas it hard to extend the plugin page in a reliable and usable way.  

Still, I already love the tiny feature set of this plugin;  having to wade through 20-30 plugins when I'm usually focused on just 2 or 3 has been a real pain. Now I've got control of the plugin screen instead.  But what would be even better would be if I could control it reliably so I could release the plugin and let others benefit too.

-Mike





>> 
>> -Mike
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> 
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From peter.westwood at ftwr.co.uk  Sat Sep 11 08:31:04 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat, 11 Sep 2010 09:31:04 +0100
Subject: [wp-hackers] Get list of roles
In-Reply-To: <AANLkTik6sQCP6J5kVSbpnVS0MxgK4MfNRt51hBRXOwB7@mail.gmail.com>
References: <AANLkTik6sQCP6J5kVSbpnVS0MxgK4MfNRt51hBRXOwB7@mail.gmail.com>
Message-ID: <D0009BC2-3E54-4724-9304-A7816293CFD4@ftwr.co.uk>


On 11 Sep 2010, at 08:48, Ryan Bilesky wrote:

> I can't seem to figure out how to get this to work.
> 
> I am trying to get a list of roles, (not just assume there is only the
> default roles) to build an options page for a plugin I'm working on.  I
> would have table to control what roles get certain custom capabilities.  I
> cannot seem to figure out how to get all the role names, so I can build my
> form to change my plugin specific capabilities.

	global $wp_roles;
	var_dump ($wp_roles->get_names());

As long as the global has been setup by the time you call the function.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From wp at andrewnacin.com  Sat Sep 11 08:55:12 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sat, 11 Sep 2010 04:55:12 -0400
Subject: [wp-hackers] Plans to modify /wp-admin/plugins.php for 3.1?
In-Reply-To: <4C158926-F556-4E99-BE53-72436269B39C@newclarity.net>
References: <685FA548-DDAD-433F-AD06-7EA9B4C7CC8C@newclarity.net>
	<AANLkTikqkksp1aEFYhA4DWk5XEn0LB___7TX8uUpZqBz@mail.gmail.com>
	<4C158926-F556-4E99-BE53-72436269B39C@newclarity.net>
Message-ID: <AANLkTikhY_aCqbsZDBocKDovzBvaQapUapqAcPU6s=0o@mail.gmail.com>

On Sat, Sep 11, 2010 at 4:26 AM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> Thus we have at least 7 places to update and those are just the ones that I
> noticed via a quick scan; there are more places than that which could use
> some love.  Yes I was able to get the plugin working but I couldn't get all
> the links at the top to display without duplicating a bunch of code from
> core (which I already had to do a bit of.) End users would see this and
> certainly get confused.  So the shortcoming of those 7 areas it hard to
> extend the plugin page in a reliable and usable way.
>

I tried to implement the must-use and drop-in panels first as a plugin, and
stumbled across the exact same shortcomings.

I'm not entirely sold on the need for plugins to modify that page, though
that said your use case is an excellent reason why they should be able to. I
would welcome a ticket for this, tackling this slowly, one step/patch at a
time. One, three, and four can probably be rolled into a single whitelist +
filter. Restructuring that as an array would also allow us to avoid using
variable-based variable names, which is ugly. Two is a simple action; it can
probably be rolled into the same whitelist with some variable hook names.

A note, the bulk actions on all screens are filterable in 3.1. Some of the
other stuff (like 5 and 7) may be taken care of as well due to the
list-tables work, so I'd check.

From mikeschinkel at newclarity.net  Sat Sep 11 10:01:23 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 11 Sep 2010 06:01:23 -0400
Subject: [wp-hackers] Plans to modify /wp-admin/plugins.php for 3.1?
In-Reply-To: <AANLkTikhY_aCqbsZDBocKDovzBvaQapUapqAcPU6s=0o@mail.gmail.com>
References: <685FA548-DDAD-433F-AD06-7EA9B4C7CC8C@newclarity.net>
	<AANLkTikqkksp1aEFYhA4DWk5XEn0LB___7TX8uUpZqBz@mail.gmail.com>
	<4C158926-F556-4E99-BE53-72436269B39C@newclarity.net>
	<AANLkTikhY_aCqbsZDBocKDovzBvaQapUapqAcPU6s=0o@mail.gmail.com>
Message-ID: <6E245997-A56D-4171-B281-73321DC3FCF0@newclarity.net>

On Sep 11, 2010, at 4:55 AM, Andrew Nacin wrote:
> On Sat, Sep 11, 2010 at 4:26 AM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
> 
>> Thus we have at least 7 places to update and those are just the ones that I
>> noticed via a quick scan; there are more places than that which could use
>> some love.  Yes I was able to get the plugin working but I couldn't get all
>> the links at the top to display without duplicating a bunch of code from
>> core (which I already had to do a bit of.) End users would see this and
>> certainly get confused.  So the shortcoming of those 7 areas it hard to
>> extend the plugin page in a reliable and usable way.
> 
> I tried to implement the must-use and drop-in panels first as a plugin, and
> stumbled across the exact same shortcomings.
> 
> I'm not entirely sold on the need for plugins to modify that page, though
> that said your use case is an excellent reason why they should be able to.

Whew! I got one right this time. :-)

> I would welcome a ticket for this, tackling this slowly, one step/patch at a
> time.

I had planned to over the next month but didn't want to if you were going to revamp it for same or different reasons. If it's going to be stable I can.  My reason for detailing on the list tonight was that scribu implied there was some urgency to make the issues known.

> One, three, and four can probably be rolled into a single whitelist +
> filter.

What's a "whitelist" filter?  (I've had 7 hours sleep in 48, so I'm a little slow right now...)

Anyway, yes 1, 3 & 4 are similar.

> Restructuring that as an array would also allow us to avoid using
> variable-based variable names, which is ugly.

Agreed on the ugly part!  

> Two is a simple action; it can

> probably be rolled into the same whitelist with some variable hook names.

Yep and sounds good (I assume.)

> A note, the bulk actions on all screens are filterable in 3.1. Some of the
> other stuff (like 5 and 7) may be taken care of as well due to the
> list-tables work, so I'd check.

If you can give me a bit more direction and the neccessary timetable, I'll add a ticket and handle this too work for you.  But again, I don't want to do stuff that conflicts with existing planned work.

-Mike


From list at expost.org  Sat Sep 11 14:39:04 2010
From: list at expost.org (Raj)
Date: Sat, 11 Sep 2010 20:09:04 +0530
Subject: [wp-hackers] Get list of roles
In-Reply-To: <D0009BC2-3E54-4724-9304-A7816293CFD4@ftwr.co.uk>
References: <AANLkTik6sQCP6J5kVSbpnVS0MxgK4MfNRt51hBRXOwB7@mail.gmail.com>
	<D0009BC2-3E54-4724-9304-A7816293CFD4@ftwr.co.uk>
Message-ID: <000301cb51bf$18a91a50$49fb4ef0$@expost.org>

Where can this information be fetched from the database?

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter Westwood
Sent: Saturday, September 11, 2010 2:01 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Get list of roles


On 11 Sep 2010, at 08:48, Ryan Bilesky wrote:

> I can't seem to figure out how to get this to work.
> 
> I am trying to get a list of roles, (not just assume there is only the 
> default roles) to build an options page for a plugin I'm working on.  
> I would have table to control what roles get certain custom 
> capabilities.  I cannot seem to figure out how to get all the role 
> names, so I can build my form to change my plugin specific capabilities.

	global $wp_roles;
	var_dump ($wp_roles->get_names());

As long as the global has been setup by the time you call the function.

westi
--
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com C53C F8FC 8796 8508 88D6
C950 54F4 5DCD A834 01C5

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From jer at simianuprising.com  Sat Sep 11 16:19:22 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Sat, 11 Sep 2010 12:19:22 -0400
Subject: [wp-hackers] how can one visually represent a shortcode in
 visual part of rich text editor?
In-Reply-To: <AANLkTi=b=hw8R4WNnMSRVecGp-RiRPNEoMK6-Lpcd0y4@mail.gmail.com>
References: <AANLkTi=b=hw8R4WNnMSRVecGp-RiRPNEoMK6-Lpcd0y4@mail.gmail.com>
Message-ID: <AANLkTikwv3nFJ0ki7i4k+Hba50Cxpnj+g=5xHaj6F_nz@mail.gmail.com>

http://codex.wordpress.org/TinyMCE_Custom_Buttons

Not sure about your icon question but its probably covered in the codex
article or the linked TMCE reference articles.

Here's a WP Ideas forum suggestion to make an easy api for adding buttons,
which should make the button image a single field:
(the order of the posts seems to have gotten out of whack in some recent
updates, but IMHO the thread still makes sense)
http://wordpress.org/extend/ideas/topic/create-easy-api-for-adding-simple-html-tag-buttons-to-tinymce



-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From scribu at gmail.com  Sat Sep 11 17:35:23 2010
From: scribu at gmail.com (scribu)
Date: Sat, 11 Sep 2010 20:35:23 +0300
Subject: [wp-hackers] Plans to modify /wp-admin/plugins.php for 3.1?
In-Reply-To: <6E245997-A56D-4171-B281-73321DC3FCF0@newclarity.net>
References: <685FA548-DDAD-433F-AD06-7EA9B4C7CC8C@newclarity.net>
	<AANLkTikqkksp1aEFYhA4DWk5XEn0LB___7TX8uUpZqBz@mail.gmail.com>
	<4C158926-F556-4E99-BE53-72436269B39C@newclarity.net>
	<AANLkTikhY_aCqbsZDBocKDovzBvaQapUapqAcPU6s=0o@mail.gmail.com>
	<6E245997-A56D-4171-B281-73321DC3FCF0@newclarity.net>
Message-ID: <AANLkTik7hcid4JN9yVoH=gjfz-DFy9-VgHP-PVeWwfM4@mail.gmail.com>

> I'm not entirely sold on the need for plugins to modify that page, though
> that said your use case is an excellent reason why they should be able to.

Indeed. I know another developer that has a plugin in the works that takes
it one step further, allowing you to define your own plugin "categories".


>> #4.) Lines 435 thru 442 - Similar to #3 the totals for each type of
plugin are set to script local variables and there's no good way to affect
the even with global access:
>>
>> $total_all_plugins = count($all_plugins);
>> $total_inactive_plugins = count($inactive_plugins);
>> $total_active_plugins = count($active_plugins);
>> $total_recent_plugins = count($recent_plugins);
>> $total_upgrade_plugins = count($upgrade_plugins);
>> $total_network_plugins = count($network_plugins);
>> $total_mustuse_plugins = count($mustuse_plugins);
>> $total_dropins_plugins = count($dropins_plugins);

> Restructuring that as an array would also allow us to avoid using
variable-based variable names, which is ugly.

Already done in trunk.


-- 
http://scribu.net

From peter.westwood at ftwr.co.uk  Sat Sep 11 17:44:37 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat, 11 Sep 2010 18:44:37 +0100
Subject: [wp-hackers] Get list of roles
In-Reply-To: <000301cb51bf$18a91a50$49fb4ef0$@expost.org>
References: <AANLkTik6sQCP6J5kVSbpnVS0MxgK4MfNRt51hBRXOwB7@mail.gmail.com>
	<D0009BC2-3E54-4724-9304-A7816293CFD4@ftwr.co.uk>
	<000301cb51bf$18a91a50$49fb4ef0$@expost.org>
Message-ID: <BD2F71AC-D6B2-473F-AA61-C26E0B2E07A8@ftwr.co.uk>


On 11 Sep 2010, at 15:39, Raj wrote:

> Where can this information be fetched from the database?
> 


Read the source luke:

http://core.trac.wordpress.org/browser/tags/3.0.1/wp-includes/capabilities.php#L87

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From jer at simianuprising.com  Sat Sep 11 19:30:42 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Sat, 11 Sep 2010 15:30:42 -0400
Subject: [wp-hackers] Get list of roles
In-Reply-To: <BD2F71AC-D6B2-473F-AA61-C26E0B2E07A8@ftwr.co.uk>
References: <AANLkTik6sQCP6J5kVSbpnVS0MxgK4MfNRt51hBRXOwB7@mail.gmail.com>
	<D0009BC2-3E54-4724-9304-A7816293CFD4@ftwr.co.uk>
	<000301cb51bf$18a91a50$49fb4ef0$@expost.org>
	<BD2F71AC-D6B2-473F-AA61-C26E0B2E07A8@ftwr.co.uk>
Message-ID: <AANLkTimrFPNHKHyPFpJLJ+47+YDorOjY3xcjpPa9bhhR@mail.gmail.com>

The ideal function is get_editable_roles() from /wp-admin/includes/user.php

function get_editable_roles() {
    global $wp_roles;

    $all_roles = $wp_roles->roles;
    $editable_roles = apply_filters('editable_roles', $all_roles);

    return $editable_roles;
}

It's basically the same as above but its API and thus better. It will offer
plugins a chance to filter the list in case someone other than admin has
'edit_users' privilege (and thus 'admin' needs to be removed from the list,
else that user could make themselves admin).

Presumably your plugin will only offer the settings page in question to
someone who has admin-level capabilities like 'manage_options' and is
basically an admin with access to all roles, so the filter shouldn't affect
you.

There is also wp_dropdown_roles() which gives you the roles as <option>
fields for a <select> (though checkboxes are likely to work better in many
scenarios where you're choosing who has access to something).

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From yok2504 at gmail.com  Sat Sep 11 19:54:04 2010
From: yok2504 at gmail.com (Sinan)
Date: Sat, 11 Sep 2010 22:54:04 +0300
Subject: [wp-hackers] What is the Taxonomy Show Function
Message-ID: <AANLkTim5iYRcL0vzmxCdT+=4HKFb7bQcrKD+pMVWR3G3@mail.gmail.com>

Hello,

maybe easy question that but ? dont know :) I'm sorry for that


how can ? show adding post taxonomys show the single.php, what is the list
function

example: the_tags(); showing the tags

? need the show taxonomys, what is the taxonomy show function?


thankyou

-- 
     Sinan ??LER
www.sinanisler.com
sinanisler.deviantart.com

From ehitter at gmail.com  Sat Sep 11 20:03:12 2010
From: ehitter at gmail.com (Erick Hitter)
Date: Sat, 11 Sep 2010 16:03:12 -0400
Subject: [wp-hackers] What is the Taxonomy Show Function
In-Reply-To: <AANLkTimzxkR1_zLQkZ3yE+Hp+uVaqKsQJpRqVxRYpPsS@mail.gmail.com>
References: <AANLkTim5iYRcL0vzmxCdT+=4HKFb7bQcrKD+pMVWR3G3@mail.gmail.com>
	<AANLkTimzxkR1_zLQkZ3yE+Hp+uVaqKsQJpRqVxRYpPsS@mail.gmail.com>
Message-ID: <AANLkTi=D7f-FddSH_TX4OKvBPL4T_wGdw7p_EuGc+Gfg@mail.gmail.com>

Sinan,

Take a look at get_the_term_list(),
http://codex.wordpress.org/Function_Reference/get_the_term_list.

Erick

On Sep 11, 2010 3:54 PM, "Sinan" <yok2504 at gmail.com> wrote:
Hello,

maybe easy question that but ? dont know :) I'm sorry for that


how can ? show adding post taxonomys show the single.php, what is the list
function

example: the_tags(); showing the tags

? need the show taxonomys, what is the taxonomy show function?


thankyou

--
    Sinan ??LER
www.sinanisler.com
sinanisler.deviantart.com
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From rbilesky at gmail.com  Sat Sep 11 20:56:28 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Sat, 11 Sep 2010 13:56:28 -0700
Subject: [wp-hackers] Get list of roles
In-Reply-To: <AANLkTimrFPNHKHyPFpJLJ+47+YDorOjY3xcjpPa9bhhR@mail.gmail.com>
References: <AANLkTik6sQCP6J5kVSbpnVS0MxgK4MfNRt51hBRXOwB7@mail.gmail.com>
	<D0009BC2-3E54-4724-9304-A7816293CFD4@ftwr.co.uk>
	<000301cb51bf$18a91a50$49fb4ef0$@expost.org>
	<BD2F71AC-D6B2-473F-AA61-C26E0B2E07A8@ftwr.co.uk>
	<AANLkTimrFPNHKHyPFpJLJ+47+YDorOjY3xcjpPa9bhhR@mail.gmail.com>
Message-ID: <AANLkTikdYvFO_nwCNs-8ibp2Bhpvm+xyKXeth=tSCpdo@mail.gmail.com>

thats interesting.  I was just going to do this to keep administrator out of
the loop, since no matter what admins should have all of my custom
capabilities.

global $wp_roles;
$roles = $wp_roles->get_names();
foreach ($roles as $role_name=>$display_name) {
 if ($role_name != 'administrator') {
  // Show cap settings for role
 }
}

On Sat, Sep 11, 2010 at 12:30 PM, Jeremy Clarke <jer at simianuprising.com>wrote:

> The ideal function is get_editable_roles() from /wp-admin/includes/user.php
>
> function get_editable_roles() {
>    global $wp_roles;
>
>    $all_roles = $wp_roles->roles;
>    $editable_roles = apply_filters('editable_roles', $all_roles);
>
>    return $editable_roles;
> }
>
> It's basically the same as above but its API and thus better. It will offer
> plugins a chance to filter the list in case someone other than admin has
> 'edit_users' privilege (and thus 'admin' needs to be removed from the list,
> else that user could make themselves admin).
>
> Presumably your plugin will only offer the settings page in question to
> someone who has admin-level capabilities like 'manage_options' and is
> basically an admin with access to all roles, so the filter shouldn't affect
> you.
>
> There is also wp_dropdown_roles() which gives you the roles as <option>
> fields for a <select> (though checkboxes are likely to work better in many
> scenarios where you're choosing who has access to something).
>
> --
> Jeremy Clarke | http://jeremyclarke.org
> Code and Design | http://globalvoicesonline.org
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From awgandrews at gmail.com  Sat Sep 11 23:12:46 2010
From: awgandrews at gmail.com (Alex Andrews)
Date: Sun, 12 Sep 2010 00:12:46 +0100
Subject: [wp-hackers] Finding Out What Plugins Are Inserting Into The Header
Message-ID: <AANLkTimwWRApwMgqwykGDRhzn22r8akC2CBdMT9+87P6@mail.gmail.com>

Hi folks,

I'm trying to contain all my CSS and JS files into one file for
minification and placing on a CDN. Unfortunately, numerous plugins
insert there own CSS/JS in the header. However, it is rarely clear
which plugin inserts which into the header. Is there any way I can
find out? For example, by writing a short plugin which lists all the
filters that filter the header in order to work this out. Then I can
grab all the CSS/JS and then comment out where they are produced.

Anyway to do it?

All the best.

Alex

From benfavre at gmail.com  Sat Sep 11 23:28:30 2010
From: benfavre at gmail.com (Benjamin Favre)
Date: Sun, 12 Sep 2010 00:28:30 +0100
Subject: [wp-hackers] Finding Out What Plugins Are Inserting Into The
	Header
In-Reply-To: <AANLkTimwWRApwMgqwykGDRhzn22r8akC2CBdMT9+87P6@mail.gmail.com>
References: <AANLkTimwWRApwMgqwykGDRhzn22r8akC2CBdMT9+87P6@mail.gmail.com>
Message-ID: <AANLkTi=OuQbqCq2dZyo8p5aYowXiuobbyd7_e6oAP-kP@mail.gmail.com>

Plugins usually include CSS/JS from there own plugin directory apart for
jQuery or other libs.
It shouldn't be that difficult to see what's what by checking the file
paths.

Have a nice day.
--
Benjamin Favre




2010/9/12 Alex Andrews <awgandrews at gmail.com>

> Hi folks,
>
> I'm trying to contain all my CSS and JS files into one file for
> minification and placing on a CDN. Unfortunately, numerous plugins
> insert there own CSS/JS in the header. However, it is rarely clear
> which plugin inserts which into the header. Is there any way I can
> find out? For example, by writing a short plugin which lists all the
> filters that filter the header in order to work this out. Then I can
> grab all the CSS/JS and then comment out where they are produced.
>
> Anyway to do it?
>
> All the best.
>
> Alex
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From awgandrews at gmail.com  Sat Sep 11 23:34:13 2010
From: awgandrews at gmail.com (Alex Andrews)
Date: Sun, 12 Sep 2010 00:34:13 +0100
Subject: [wp-hackers] Finding Out What Plugins Are Inserting Into The
	Header
In-Reply-To: <AANLkTi=OuQbqCq2dZyo8p5aYowXiuobbyd7_e6oAP-kP@mail.gmail.com>
References: <AANLkTimwWRApwMgqwykGDRhzn22r8akC2CBdMT9+87P6@mail.gmail.com>
	<AANLkTi=OuQbqCq2dZyo8p5aYowXiuobbyd7_e6oAP-kP@mail.gmail.com>
Message-ID: <AANLkTinK4M3gKuDgUMV-nfKYX765sMjxN4iDVT_DW_Q8@mail.gmail.com>

I've already hoovered those files up, and it is far from clear where
the JS/CSS is coming from - perhaps I should be clearer - they aren't
just inserting links, but raw CSS into the header, making it very ugly
indeed.

Alex

On 12 September 2010 00:28, Benjamin Favre <benfavre at gmail.com> wrote:
> Plugins usually include CSS/JS from there own plugin directory apart for
> jQuery or other libs.
> It shouldn't be that difficult to see what's what by checking the file
> paths.
>
> Have a nice day.
> --
> Benjamin Favre
>
>
>
>
> 2010/9/12 Alex Andrews <awgandrews at gmail.com>
>
>> Hi folks,
>>
>> I'm trying to contain all my CSS and JS files into one file for
>> minification and placing on a CDN. Unfortunately, numerous plugins
>> insert there own CSS/JS in the header. However, it is rarely clear
>> which plugin inserts which into the header. Is there any way I can
>> find out? For example, by writing a short plugin which lists all the
>> filters that filter the header in order to work this out. Then I can
>> grab all the CSS/JS and then comment out where they are produced.
>>
>> Anyway to do it?
>>
>> All the best.
>>
>> Alex
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Sun Sep 12 00:52:59 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 11 Sep 2010 20:52:59 -0400
Subject: [wp-hackers] Plans to modify /wp-admin/plugins.php for 3.1?
In-Reply-To: <AANLkTik7hcid4JN9yVoH=gjfz-DFy9-VgHP-PVeWwfM4@mail.gmail.com>
References: <685FA548-DDAD-433F-AD06-7EA9B4C7CC8C@newclarity.net>
	<AANLkTikqkksp1aEFYhA4DWk5XEn0LB___7TX8uUpZqBz@mail.gmail.com>
	<4C158926-F556-4E99-BE53-72436269B39C@newclarity.net>
	<AANLkTikhY_aCqbsZDBocKDovzBvaQapUapqAcPU6s=0o@mail.gmail.com>
	<6E245997-A56D-4171-B281-73321DC3FCF0@newclarity.net>
	<AANLkTik7hcid4JN9yVoH=gjfz-DFy9-VgHP-PVeWwfM4@mail.gmail.com>
Message-ID: <A59E4153-06AB-41E8-80A8-47013D32C02E@newclarity.net>

On Sep 11, 2010, at 1:35 PM, scribu wrote:
>> I'm not entirely sold on the need for plugins to modify that page, though
>> that said your use case is an excellent reason why they should be able to.
> 
> Indeed. I know another developer that has a plugin in the works that takes
> it one step further, allowing you to define your own plugin "categories".

Yes!  After writing mine it occurred to me that would be a logical and useful next step in functionality.

I'd also like to explore creating (virtual) folders to group plugins and/or parent/child plugins (visually speaking), i.e. I could have an SEO folder where I could store all SEO-related plugins (assuming I had several) and I could also move any BuddyPress-related  plugins underneath the main BuddyPress plugin. I'm envisioning an expand/collapse interface with a boxed plus next to the folder name and/or the plug with children and when expanded the child plugins would just be visually indented slightly. I'm thinking drag and drop to organize them with the addition of a drop-down to select parent from among other plugins for those that need to use the keyboard.


>>> #4.) Lines 435 thru 442 - Similar to #3 the totals for each type of
> plugin are set to script local variables and there's no good way to affect
> the even with global access:
>>> 
>>> $total_all_plugins = count($all_plugins);
>>> $total_inactive_plugins = count($inactive_plugins);
>>> $total_active_plugins = count($active_plugins);
>>> $total_recent_plugins = count($recent_plugins);
>>> $total_upgrade_plugins = count($upgrade_plugins);
>>> $total_network_plugins = count($network_plugins);
>>> $total_mustuse_plugins = count($mustuse_plugins);
>>> $total_dropins_plugins = count($dropins_plugins);
> 
>> Restructuring that as an array would also allow us to avoid using
> variable-based variable names, which is ugly.
> 
> Already done in trunk.

Awesome!

So will you address all seven (7) points I wrote about or will I need to come back and make some additional changes?  And if the latter when will the mods you are working on be done? 

Thanks in advance.

-Mike

From demonicpagan at gmail.com  Sun Sep 12 06:24:37 2010
From: demonicpagan at gmail.com (Dustin Lennon)
Date: Sun, 12 Sep 2010 01:24:37 -0500
Subject: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
	with WP 3.0.1+
In-Reply-To: <354601cb50a3$454b1170$cfe13450$@gmail.com>
References: <4C885355.4070505@gmail.com>
	<AANLkTina_VD6ORaZdOMWrS70X_qCTCWVB+WhRRGJr0pQ@mail.gmail.com>
	<4C88697C.5040501@gmail.com>
	<AANLkTikoKt4Qzn_m=yTwdiL=nOPd8rVkvOrLMxZe1sna@mail.gmail.com>
	<4C887377.3070908@gmail.com>
	<AANLkTikni9RuRqE+yT6CAYkAc-ckSnKGV3Be+bwBpkZw@mail.gmail.com>
	<4C8877EB.7000605@gmail.com>
	<350c01cb5077$d5c1cf90$81456eb0$@gmail.com>
	<AANLkTinGexvMjxmD8WUzb7uDFFkVwg4rC40=1QgC2ZG2@mail.gmail.com>
	<353e01cb509f$dfd03ee0$9f70bca0$@gmail.com>
	<354601cb50a3$454b1170$cfe13450$@gmail.com>
Message-ID: <000001cb5243$2df70140$89e503c0$@gmail.com>

I'm still very much at a loss with this. I've installed Xdebug, but have no
clue on how to use it to help me out with my problem.

-Dustin

This message contains confidential information and is intended only for the
individual named. If you are not the named addressee you should not
disseminate, distribute or copy this e-mail. Please notify the sender
immediately by e-mail if you have received this e-mail by mistake and delete
this e-mail from your system. E-mail transmission cannot be guaranteed to be
secure or error-free as information could be intercepted, corrupted, lost,
destroyed, arrive late or incomplete, or contain viruses. The sender
therefore does not accept liability for any errors or omissions in the
contents of this message, which arise as a result of e-mail transmission.

-----Original Message-----
From: Dustin Lennon [mailto:demonicpagan at gmail.com] 
Sent: Thursday, September 09, 2010 11:47 PM
To: wp-hackers at lists.automattic.com
Subject: RE: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
with WP 3.0.1+

Xdebug is installed, just the documentation provide is leaving me unsure as
to how to use it or what functions to make use of to provide me a deeper
insight to my code.

http://stelth2000inc.com/ffxi.phps

-Dustin

This message contains confidential information and is intended only for the
individual named. If you are not the named addressee you should not
disseminate, distribute or copy this e-mail. Please notify the sender
immediately by e-mail if you have received this e-mail by mistake and delete
this e-mail from your system. E-mail transmission cannot be guaranteed to be
secure or error-free as information could be intercepted, corrupted, lost,
destroyed, arrive late or incomplete, or contain viruses. The sender
therefore does not accept liability for any errors or omissions in the
contents of this message, which arise as a result of e-mail transmission.


-----Original Message-----
From: Dustin Lennon [mailto:demonicpagan at gmail.com] 
Sent: Thursday, September 09, 2010 11:23 PM
To: wp-hackers at lists.automattic.com
Subject: RE: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
with WP 3.0.1+

That is correct, I don't have my entire script linked in that url.  I have
not provided the source to admin/ffxi_admin.php.

I have updated my source at the previous URL to add the require_once back
into the picture, though I think now when I try to activate the plugin, all
it will provide me is a white screen and me unknown as to what the error
might be. (and that is the case after I just performed it)

I'll see if I can locate how to make use of that Xdebug.

-Dustin

This message contains confidential information and is intended only for the
individual named. If you are not the named addressee you should not
disseminate, distribute or copy this e-mail. Please notify the sender
immediately by e-mail if you have received this e-mail by mistake and delete
this e-mail from your system. E-mail transmission cannot be guaranteed to be
secure or error-free as information could be intercepted, corrupted, lost,
destroyed, arrive late or incomplete, or contain viruses. The sender
therefore does not accept liability for any errors or omissions in the
contents of this message, which arise as a result of e-mail transmission.


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Austin Matzko
Sent: Thursday, September 09, 2010 7:57 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
with WP 3.0.1+

On Thu, Sep 9, 2010 at 6:36 PM, Dustin Lennon <demonicpagan at gmail.com>
wrote:
> I'm still at a loss at how to get my plugin to activate without errors. Is
> there anything, anything at all that I can do to my code to help me out?
The
> WP Codex hasn't been updated in how to write plugins that use a database
to
> store values. I do know that in the codex that it still mentions using
> require_once(ABSPATH . 'wp-admin/includes/upgrade.php'); and that is
> deprecated. Having it in my code originally cased it to show a white page
> after plugin activation.
>
> Right now, I have a plugin that says it creates a fatal error, what fatal
> error I don't know as it don't give any more information and am unsure
> whether or not if I do any plugin updates, it updates the MySQL tables.
>
> Plugin source: http://stelth2000inc.com/ffxi.phps

Hello Dustin,

If you want to learn more about the PHP error messages, try installing
something like Xdebug on your dev machine.  Xdebug is a PHP extension
that gives you lots of additional information when PHP prints errors.

When I try to activate your plugin from the code linked to above, I
get a bunch of PHP notices telling me about all the deprecated calls
you're making, and a warning and fatal error:
 * Warning: The plugin tries to include a file that doesn't exist, on
line 43: /admin/ffxi_admin.php.  (Perhaps this is part of the plugin
but not linked to above.)
 * Fatal Error: It calls dbDelta, which is undefined.

dbDelta is defined in wp-admin/includes/upgrade.php, so you may need
to include a line like the following in your plugin:

require_once ABSPATH . 'wp-admin/includes/upgrade.php';
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers




From ashishsainiashfame at gmail.com  Sun Sep 12 08:25:59 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Sun, 12 Sep 2010 13:55:59 +0530
Subject: [wp-hackers] Finding Out What Plugins Are Inserting Into The
	Header
In-Reply-To: <AANLkTinK4M3gKuDgUMV-nfKYX765sMjxN4iDVT_DW_Q8@mail.gmail.com>
References: <AANLkTimwWRApwMgqwykGDRhzn22r8akC2CBdMT9+87P6@mail.gmail.com>
	<AANLkTi=OuQbqCq2dZyo8p5aYowXiuobbyd7_e6oAP-kP@mail.gmail.com>
	<AANLkTinK4M3gKuDgUMV-nfKYX765sMjxN4iDVT_DW_Q8@mail.gmail.com>
Message-ID: <AANLkTikPC3CqPFw10TDye+vrT=zxAGCMj_WMCT+ZKzNv@mail.gmail.com>

Hi Alex,

This will help -
http://planetozh.com/blog/my-projects/wordpress-hooks-filter-flow/

Then you can do a grep (if you are on linux), and find out the file.

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Sun, Sep 12, 2010 at 5:04 AM, Alex Andrews <awgandrews at gmail.com> wrote:

> I've already hoovered those files up, and it is far from clear where
> the JS/CSS is coming from - perhaps I should be clearer - they aren't
> just inserting links, but raw CSS into the header, making it very ugly
> indeed.
>
> Alex
>
> On 12 September 2010 00:28, Benjamin Favre <benfavre at gmail.com> wrote:
> > Plugins usually include CSS/JS from there own plugin directory apart for
> > jQuery or other libs.
> > It shouldn't be that difficult to see what's what by checking the file
> > paths.
> >
> > Have a nice day.
> > --
> > Benjamin Favre
> >
> >
> >
> >
> > 2010/9/12 Alex Andrews <awgandrews at gmail.com>
> >
> >> Hi folks,
> >>
> >> I'm trying to contain all my CSS and JS files into one file for
> >> minification and placing on a CDN. Unfortunately, numerous plugins
> >> insert there own CSS/JS in the header. However, it is rarely clear
> >> which plugin inserts which into the header. Is there any way I can
> >> find out? For example, by writing a short plugin which lists all the
> >> filters that filter the header in order to work this out. Then I can
> >> grab all the CSS/JS and then comment out where they are produced.
> >>
> >> Anyway to do it?
> >>
> >> All the best.
> >>
> >> Alex
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at zed1.com  Sun Sep 12 11:06:35 2010
From: wordpress at zed1.com (Mike Little)
Date: Sun, 12 Sep 2010 12:06:35 +0100
Subject: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
 with WP 3.0.1+
In-Reply-To: <000001cb5243$2df70140$89e503c0$@gmail.com>
References: <4C885355.4070505@gmail.com>
	<AANLkTina_VD6ORaZdOMWrS70X_qCTCWVB+WhRRGJr0pQ@mail.gmail.com>
	<4C88697C.5040501@gmail.com>
	<AANLkTikoKt4Qzn_m=yTwdiL=nOPd8rVkvOrLMxZe1sna@mail.gmail.com>
	<4C887377.3070908@gmail.com>
	<AANLkTikni9RuRqE+yT6CAYkAc-ckSnKGV3Be+bwBpkZw@mail.gmail.com>
	<4C8877EB.7000605@gmail.com>
	<350c01cb5077$d5c1cf90$81456eb0$@gmail.com>
	<AANLkTinGexvMjxmD8WUzb7uDFFkVwg4rC40=1QgC2ZG2@mail.gmail.com>
	<353e01cb509f$dfd03ee0$9f70bca0$@gmail.com>
	<354601cb50a3$454b1170$cfe13450$@gmail.com>
	<000001cb5243$2df70140$89e503c0$@gmail.com>
Message-ID: <AANLkTin7=s1NsALV8ZB1frsmyzC-AAbDWWxfUV8yTSHU@mail.gmail.com>

On 12 September 2010 07:24, Dustin Lennon <demonicpagan at gmail.com> wrote:

> I'm still very much at a loss with this. I've installed Xdebug, but have no
> clue on how to use it to help me out with my problem.
>
> -Dustin
>
>

Dustin,
Do you have debug turned on?

I use these settings  in wp-config.php
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
define('WP_DEBUG_DISPLAY', false);
@ini_set('display_errors',0);

This will log all errors notices and warnings to a file called debug.log in
wp-content (if Apache does not have write permission, you may need to create
the file first and set the appropriate permissions (I use 666) )

There may be some useful information logged.


Mike
-- 
Mike Little
http://zed1.com/

From demonicpagan at gmail.com  Sun Sep 12 12:19:50 2010
From: demonicpagan at gmail.com (Dustin Lennon)
Date: Sun, 12 Sep 2010 07:19:50 -0500
Subject: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
	with WP 3.0.1+
In-Reply-To: <AANLkTin7=s1NsALV8ZB1frsmyzC-AAbDWWxfUV8yTSHU@mail.gmail.com>
References: <4C885355.4070505@gmail.com>
	<AANLkTina_VD6ORaZdOMWrS70X_qCTCWVB+WhRRGJr0pQ@mail.gmail.com>
	<4C88697C.5040501@gmail.com>
	<AANLkTikoKt4Qzn_m=yTwdiL=nOPd8rVkvOrLMxZe1sna@mail.gmail.com>
	<4C887377.3070908@gmail.com>
	<AANLkTikni9RuRqE+yT6CAYkAc-ckSnKGV3Be+bwBpkZw@mail.gmail.com>
	<4C8877EB.7000605@gmail.com>
	<350c01cb5077$d5c1cf90$81456eb0$@gmail.com>
	<AANLkTinGexvMjxmD8WUzb7uDFFkVwg4rC40=1QgC2ZG2@mail.gmail.com>
	<353e01cb509f$dfd03ee0$9f70bca0$@gmail.com>
	<354601cb50a3$454b1170$cfe13450$@gmail.com>
	<000001cb5243$2df70140$89e503c0$@gmail.com>
	<AANLkTin7=s1NsALV8ZB1frsmyzC-AAbDWWxfUV8yTSHU@mail.gmail.com>
Message-ID: <002901cb5274$cde56d00$69b04700$@gmail.com>

I've made those changes in my wp_config file. I've gone to my plugins page,
plugin I'm trying to update is currently disabled. Upon activation, I get my
blank white page.

Here is the contents of that debug.log file.

[12-Sep-2010 11:32:59] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:32:59] PHP Stack trace:
[12-Sep-2010 11:32:59] PHP   1. {main}()
/home/demonicpagan/wp-testing/index.php:0
[12-Sep-2010 11:32:59] PHP   2. require()
/home/demonicpagan/wp-testing/index.php:17
[12-Sep-2010 11:32:59] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-blog-header.php:12
[12-Sep-2010 11:32:59] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:32:59] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:32:59] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:32:59] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:32:59] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:32:59] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:32:59] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:32:59] PHP Stack trace:
[12-Sep-2010 11:32:59] PHP   1. {main}()
/home/demonicpagan/wp-testing/index.php:0
[12-Sep-2010 11:32:59] PHP   2. require()
/home/demonicpagan/wp-testing/index.php:17
[12-Sep-2010 11:32:59] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-blog-header.php:12
[12-Sep-2010 11:32:59] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:32:59] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:32:59] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:32:59] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:32:59] PHP Stack trace:
[12-Sep-2010 11:32:59] PHP   1. {main}()
/home/demonicpagan/wp-testing/index.php:0
[12-Sep-2010 11:32:59] PHP   2. require()
/home/demonicpagan/wp-testing/index.php:17
[12-Sep-2010 11:32:59] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-blog-header.php:12
[12-Sep-2010 11:32:59] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:32:59] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:32:59] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:32:59] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:32:59] PHP Stack trace:
[12-Sep-2010 11:32:59] PHP   1. {main}()
/home/demonicpagan/wp-testing/index.php:0
[12-Sep-2010 11:32:59] PHP   2. require()
/home/demonicpagan/wp-testing/index.php:17
[12-Sep-2010 11:32:59] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-blog-header.php:12
[12-Sep-2010 11:32:59] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:32:59] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:32:59] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:32:59] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:32:59] PHP Stack trace:
[12-Sep-2010 11:32:59] PHP   1. {main}()
/home/demonicpagan/wp-testing/index.php:0
[12-Sep-2010 11:32:59] PHP   2. require()
/home/demonicpagan/wp-testing/index.php:17
[12-Sep-2010 11:32:59] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-blog-header.php:12
[12-Sep-2010 11:32:59] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:32:59] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:32:59] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:34] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:33:34] PHP Stack trace:
[12-Sep-2010 11:33:34] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-login.php:0
[12-Sep-2010 11:33:34] PHP   2. require()
/home/demonicpagan/wp-testing/wp-login.php:12
[12-Sep-2010 11:33:34] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:34] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:34] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:34] PHP   6. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:33:34] PHP   7. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:33:34] PHP   8. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:33:34] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:33:34] PHP Stack trace:
[12-Sep-2010 11:33:34] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-login.php:0
[12-Sep-2010 11:33:34] PHP   2. require()
/home/demonicpagan/wp-testing/wp-login.php:12
[12-Sep-2010 11:33:34] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:34] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:34] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:34] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:33:34] PHP Stack trace:
[12-Sep-2010 11:33:34] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-login.php:0
[12-Sep-2010 11:33:34] PHP   2. require()
/home/demonicpagan/wp-testing/wp-login.php:12
[12-Sep-2010 11:33:34] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:34] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:34] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:34] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:33:34] PHP Stack trace:
[12-Sep-2010 11:33:34] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-login.php:0
[12-Sep-2010 11:33:34] PHP   2. require()
/home/demonicpagan/wp-testing/wp-login.php:12
[12-Sep-2010 11:33:34] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:34] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:34] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:34] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:33:34] PHP Stack trace:
[12-Sep-2010 11:33:34] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-login.php:0
[12-Sep-2010 11:33:34] PHP   2. require()
/home/demonicpagan/wp-testing/wp-login.php:12
[12-Sep-2010 11:33:34] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:34] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:34] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:40] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:33:40] PHP Stack trace:
[12-Sep-2010 11:33:40] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-login.php:0
[12-Sep-2010 11:33:40] PHP   2. require()
/home/demonicpagan/wp-testing/wp-login.php:12
[12-Sep-2010 11:33:40] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:40] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:40] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:40] PHP   6. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:33:40] PHP   7. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:33:40] PHP   8. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:33:40] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:33:40] PHP Stack trace:
[12-Sep-2010 11:33:40] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-login.php:0
[12-Sep-2010 11:33:40] PHP   2. require()
/home/demonicpagan/wp-testing/wp-login.php:12
[12-Sep-2010 11:33:40] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:40] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:40] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:40] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:33:40] PHP Stack trace:
[12-Sep-2010 11:33:40] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-login.php:0
[12-Sep-2010 11:33:40] PHP   2. require()
/home/demonicpagan/wp-testing/wp-login.php:12
[12-Sep-2010 11:33:40] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:40] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:40] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:40] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:33:40] PHP Stack trace:
[12-Sep-2010 11:33:40] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-login.php:0
[12-Sep-2010 11:33:40] PHP   2. require()
/home/demonicpagan/wp-testing/wp-login.php:12
[12-Sep-2010 11:33:40] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:40] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:40] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:40] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:33:40] PHP Stack trace:
[12-Sep-2010 11:33:40] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-login.php:0
[12-Sep-2010 11:33:40] PHP   2. require()
/home/demonicpagan/wp-testing/wp-login.php:12
[12-Sep-2010 11:33:40] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:40] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:40] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:40] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:33:40] PHP Stack trace:
[12-Sep-2010 11:33:40] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index.php:0
[12-Sep-2010 11:33:40] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index.php:10
[12-Sep-2010 11:33:40] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:40] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:40] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:40] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:40] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:33:40] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:33:40] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:33:40] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:33:40] PHP Stack trace:
[12-Sep-2010 11:33:40] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index.php:0
[12-Sep-2010 11:33:40] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index.php:10
[12-Sep-2010 11:33:40] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:40] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:40] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:40] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:40] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:33:40] PHP Stack trace:
[12-Sep-2010 11:33:40] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index.php:0
[12-Sep-2010 11:33:40] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index.php:10
[12-Sep-2010 11:33:40] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:40] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:40] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:40] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:40] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:33:40] PHP Stack trace:
[12-Sep-2010 11:33:40] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index.php:0
[12-Sep-2010 11:33:40] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index.php:10
[12-Sep-2010 11:33:40] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:40] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:40] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:40] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:40] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:33:40] PHP Stack trace:
[12-Sep-2010 11:33:40] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index.php:0
[12-Sep-2010 11:33:40] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index.php:10
[12-Sep-2010 11:33:40] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:40] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:40] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:40] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:42] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:33:42] PHP Stack trace:
[12-Sep-2010 11:33:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/index.php:0
[12-Sep-2010 11:33:42] PHP   2. require()
/home/demonicpagan/wp-testing/index.php:17
[12-Sep-2010 11:33:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-blog-header.php:12
[12-Sep-2010 11:33:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:42] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:42] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:42] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:33:42] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:33:42] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:33:42] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:33:42] PHP Stack trace:
[12-Sep-2010 11:33:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/index.php:0
[12-Sep-2010 11:33:42] PHP   2. require()
/home/demonicpagan/wp-testing/index.php:17
[12-Sep-2010 11:33:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-blog-header.php:12
[12-Sep-2010 11:33:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:42] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:42] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:42] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:33:42] PHP Stack trace:
[12-Sep-2010 11:33:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/index.php:0
[12-Sep-2010 11:33:42] PHP   2. require()
/home/demonicpagan/wp-testing/index.php:17
[12-Sep-2010 11:33:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-blog-header.php:12
[12-Sep-2010 11:33:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:42] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:42] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:42] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:33:42] PHP Stack trace:
[12-Sep-2010 11:33:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/index.php:0
[12-Sep-2010 11:33:42] PHP   2. require()
/home/demonicpagan/wp-testing/index.php:17
[12-Sep-2010 11:33:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-blog-header.php:12
[12-Sep-2010 11:33:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:42] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:42] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:42] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:33:42] PHP Stack trace:
[12-Sep-2010 11:33:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/index.php:0
[12-Sep-2010 11:33:42] PHP   2. require()
/home/demonicpagan/wp-testing/index.php:17
[12-Sep-2010 11:33:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-blog-header.php:12
[12-Sep-2010 11:33:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:42] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:42] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:43] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:33:43] PHP Stack trace:
[12-Sep-2010 11:33:43] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:33:43] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:33:43] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:43] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:43] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:43] PHP   6. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:33:43] PHP   7. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:33:43] PHP   8. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:33:43] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:33:43] PHP Stack trace:
[12-Sep-2010 11:33:43] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:33:43] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:33:43] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:43] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:43] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:43] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:33:43] PHP Stack trace:
[12-Sep-2010 11:33:43] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:33:43] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:33:43] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:43] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:43] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:43] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:33:43] PHP Stack trace:
[12-Sep-2010 11:33:43] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:33:43] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:33:43] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:43] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:43] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:43] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:33:43] PHP Stack trace:
[12-Sep-2010 11:33:43] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:33:43] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:33:43] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:43] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:43] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:44] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:33:44] PHP Stack trace:
[12-Sep-2010 11:33:44] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:44] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:44] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:44] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:44] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:44] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:44] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:33:44] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:33:44] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:33:44] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:33:44] PHP Stack trace:
[12-Sep-2010 11:33:44] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:44] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:44] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:44] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:44] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:44] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:44] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:33:44] PHP Stack trace:
[12-Sep-2010 11:33:44] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:44] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:44] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:44] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:44] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:44] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:44] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:33:44] PHP Stack trace:
[12-Sep-2010 11:33:44] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:44] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:44] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:44] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:44] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:44] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:44] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:33:44] PHP Stack trace:
[12-Sep-2010 11:33:44] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:44] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:44] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:44] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:44] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:44] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:44] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:33:44] PHP Stack trace:
[12-Sep-2010 11:33:44] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:33:44] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:33:44] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:44] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:44] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:44] PHP   6. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:33:44] PHP   7. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:33:44] PHP   8. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:33:44] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:33:44] PHP Stack trace:
[12-Sep-2010 11:33:44] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:33:44] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:33:44] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:44] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:44] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:44] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:33:44] PHP Stack trace:
[12-Sep-2010 11:33:44] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:33:44] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:33:44] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:44] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:44] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:44] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:33:44] PHP Stack trace:
[12-Sep-2010 11:33:44] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:33:44] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:33:44] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:44] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:44] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:44] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:33:44] PHP Stack trace:
[12-Sep-2010 11:33:44] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:33:44] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:33:44] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:44] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:44] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:44] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:33:44] PHP Stack trace:
[12-Sep-2010 11:33:44] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:44] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:44] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:44] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:44] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:44] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:44] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:33:44] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:33:44] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:33:44] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:33:44] PHP Stack trace:
[12-Sep-2010 11:33:44] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:44] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:44] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:44] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:44] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:44] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:44] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:33:44] PHP Stack trace:
[12-Sep-2010 11:33:44] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:44] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:44] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:44] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:44] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:44] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:44] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:33:44] PHP Stack trace:
[12-Sep-2010 11:33:44] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:44] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:44] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:44] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:44] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:44] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:44] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:33:44] PHP Stack trace:
[12-Sep-2010 11:33:44] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:44] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:44] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:44] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:44] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:44] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:45] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:33:45] PHP Stack trace:
[12-Sep-2010 11:33:45] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:45] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:45] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:45] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:45] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:45] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:45] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:33:45] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:33:45] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:33:45] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:33:45] PHP Stack trace:
[12-Sep-2010 11:33:45] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:45] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:45] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:45] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:45] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:45] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:45] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:33:45] PHP Stack trace:
[12-Sep-2010 11:33:45] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:45] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:45] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:45] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:45] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:45] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:45] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:33:45] PHP Stack trace:
[12-Sep-2010 11:33:45] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:45] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:45] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:45] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:45] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:45] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:45] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:33:45] PHP Stack trace:
[12-Sep-2010 11:33:45] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:45] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:45] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:45] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:45] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:45] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:45] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:33:45] PHP Stack trace:
[12-Sep-2010 11:33:45] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:45] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:45] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:45] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:45] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:45] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:45] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:33:45] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:33:45] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:33:45] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:33:45] PHP Stack trace:
[12-Sep-2010 11:33:45] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:45] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:45] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:45] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:45] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:45] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:45] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:33:45] PHP Stack trace:
[12-Sep-2010 11:33:45] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:45] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:45] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:45] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:45] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:45] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:45] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:33:45] PHP Stack trace:
[12-Sep-2010 11:33:45] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:45] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:45] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:45] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:45] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:45] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:45] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:33:45] PHP Stack trace:
[12-Sep-2010 11:33:45] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:45] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:45] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:45] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:45] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:45] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:46] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:33:46] PHP Stack trace:
[12-Sep-2010 11:33:46] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:46] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:46] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:46] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:46] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:46] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:46] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:33:46] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:33:46] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:33:46] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:33:46] PHP Stack trace:
[12-Sep-2010 11:33:46] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:46] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:46] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:46] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:46] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:46] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:46] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:33:46] PHP Stack trace:
[12-Sep-2010 11:33:46] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:46] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:46] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:46] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:46] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:46] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:46] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:33:46] PHP Stack trace:
[12-Sep-2010 11:33:46] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:46] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:46] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:46] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:46] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:46] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:33:46] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:33:46] PHP Stack trace:
[12-Sep-2010 11:33:46] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:0
[12-Sep-2010 11:33:46] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/index-extra.php:10
[12-Sep-2010 11:33:46] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:33:46] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:33:46] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:33:46] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:03] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:34:03] PHP Stack trace:
[12-Sep-2010 11:34:03] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:0
[12-Sep-2010 11:34:03] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:10
[12-Sep-2010 11:34:03] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:03] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:03] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:03] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:03] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:34:03] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:34:03] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:34:03] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:34:03] PHP Stack trace:
[12-Sep-2010 11:34:03] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:0
[12-Sep-2010 11:34:03] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:10
[12-Sep-2010 11:34:03] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:03] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:03] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:03] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:03] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:34:03] PHP Stack trace:
[12-Sep-2010 11:34:03] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:0
[12-Sep-2010 11:34:03] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:10
[12-Sep-2010 11:34:03] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:03] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:03] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:03] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:03] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:34:03] PHP Stack trace:
[12-Sep-2010 11:34:03] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:0
[12-Sep-2010 11:34:03] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:10
[12-Sep-2010 11:34:03] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:03] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:03] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:03] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:03] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:34:03] PHP Stack trace:
[12-Sep-2010 11:34:03] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:0
[12-Sep-2010 11:34:03] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:10
[12-Sep-2010 11:34:03] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:03] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:03] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:03] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:04] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:34:04] PHP Stack trace:
[12-Sep-2010 11:34:04] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:04] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:04] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:04] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:04] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:04] PHP   6. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:34:04] PHP   7. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:34:04] PHP   8. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:34:04] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:34:04] PHP Stack trace:
[12-Sep-2010 11:34:04] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:04] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:04] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:04] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:04] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:04] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:34:04] PHP Stack trace:
[12-Sep-2010 11:34:04] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:04] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:04] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:04] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:04] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:04] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:34:04] PHP Stack trace:
[12-Sep-2010 11:34:04] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:04] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:04] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:04] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:04] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:04] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:34:04] PHP Stack trace:
[12-Sep-2010 11:34:04] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:04] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:04] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:04] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:04] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:05] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:34:05] PHP Stack trace:
[12-Sep-2010 11:34:05] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:05] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:05] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:05] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:05] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:05] PHP   6. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:34:05] PHP   7. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:34:05] PHP   8. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:34:05] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:34:05] PHP Stack trace:
[12-Sep-2010 11:34:05] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:05] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:05] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:05] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:05] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:05] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:34:05] PHP Stack trace:
[12-Sep-2010 11:34:05] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:05] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:05] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:05] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:05] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:05] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:34:05] PHP Stack trace:
[12-Sep-2010 11:34:05] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:05] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:05] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:05] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:05] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:05] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:34:05] PHP Stack trace:
[12-Sep-2010 11:34:05] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:05] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:05] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:05] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:05] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:40] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:34:40] PHP Stack trace:
[12-Sep-2010 11:34:40] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:0
[12-Sep-2010 11:34:40] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:10
[12-Sep-2010 11:34:40] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:40] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:40] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:40] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:40] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:34:40] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:34:40] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:34:40] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:34:40] PHP Stack trace:
[12-Sep-2010 11:34:40] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:0
[12-Sep-2010 11:34:40] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:10
[12-Sep-2010 11:34:40] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:40] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:40] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:40] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:40] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:34:40] PHP Stack trace:
[12-Sep-2010 11:34:40] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:0
[12-Sep-2010 11:34:40] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:10
[12-Sep-2010 11:34:40] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:40] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:40] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:40] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:40] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:34:40] PHP Stack trace:
[12-Sep-2010 11:34:40] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:0
[12-Sep-2010 11:34:40] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:10
[12-Sep-2010 11:34:40] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:40] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:40] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:40] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:40] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:34:40] PHP Stack trace:
[12-Sep-2010 11:34:40] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:0
[12-Sep-2010 11:34:40] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:10
[12-Sep-2010 11:34:40] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:40] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:40] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:40] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:42] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:34:42] PHP Stack trace:
[12-Sep-2010 11:34:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update.php:0
[12-Sep-2010 11:34:42] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update.php:10
[12-Sep-2010 11:34:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:42] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:42] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:42] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:34:42] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:34:42] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:34:42] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:34:42] PHP Stack trace:
[12-Sep-2010 11:34:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update.php:0
[12-Sep-2010 11:34:42] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update.php:10
[12-Sep-2010 11:34:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:42] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:42] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:42] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:34:42] PHP Stack trace:
[12-Sep-2010 11:34:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update.php:0
[12-Sep-2010 11:34:42] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update.php:10
[12-Sep-2010 11:34:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:42] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:42] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:42] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:34:42] PHP Stack trace:
[12-Sep-2010 11:34:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update.php:0
[12-Sep-2010 11:34:42] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update.php:10
[12-Sep-2010 11:34:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:42] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:42] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:42] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:34:42] PHP Stack trace:
[12-Sep-2010 11:34:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update.php:0
[12-Sep-2010 11:34:42] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update.php:10
[12-Sep-2010 11:34:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:42] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:42] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:42] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:34:42] PHP Stack trace:
[12-Sep-2010 11:34:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:42] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:42] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:42] PHP   6. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:34:42] PHP   7. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:34:42] PHP   8. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:34:42] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:34:42] PHP Stack trace:
[12-Sep-2010 11:34:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:42] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:42] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:42] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:34:42] PHP Stack trace:
[12-Sep-2010 11:34:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:42] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:42] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:42] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:34:42] PHP Stack trace:
[12-Sep-2010 11:34:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:42] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:42] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:42] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:34:42] PHP Stack trace:
[12-Sep-2010 11:34:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:42] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:42] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:42] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:34:42] PHP Stack trace:
[12-Sep-2010 11:34:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:42] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:42] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:42] PHP   6. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:34:42] PHP   7. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:34:42] PHP   8. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:34:42] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:34:42] PHP Stack trace:
[12-Sep-2010 11:34:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:42] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:42] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:42] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:34:42] PHP Stack trace:
[12-Sep-2010 11:34:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:42] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:42] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:42] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:34:42] PHP Stack trace:
[12-Sep-2010 11:34:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:42] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:42] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:42] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:34:42] PHP Stack trace:
[12-Sep-2010 11:34:42] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:34:42] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:34:42] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:42] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:42] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:48] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:34:48] PHP Stack trace:
[12-Sep-2010 11:34:48] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update.php:0
[12-Sep-2010 11:34:48] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update.php:10
[12-Sep-2010 11:34:48] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:48] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:48] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:48] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:48] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:34:48] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:34:48] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:34:48] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:34:48] PHP Stack trace:
[12-Sep-2010 11:34:48] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update.php:0
[12-Sep-2010 11:34:48] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update.php:10
[12-Sep-2010 11:34:48] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:48] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:48] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:48] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:48] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:34:48] PHP Stack trace:
[12-Sep-2010 11:34:48] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update.php:0
[12-Sep-2010 11:34:48] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update.php:10
[12-Sep-2010 11:34:48] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:48] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:48] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:48] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:48] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:34:48] PHP Stack trace:
[12-Sep-2010 11:34:48] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update.php:0
[12-Sep-2010 11:34:48] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update.php:10
[12-Sep-2010 11:34:48] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:48] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:48] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:48] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:34:48] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:34:48] PHP Stack trace:
[12-Sep-2010 11:34:48] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update.php:0
[12-Sep-2010 11:34:48] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update.php:10
[12-Sep-2010 11:34:48] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:34:48] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:34:48] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:34:48] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:02] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:35:02] PHP Stack trace:
[12-Sep-2010 11:35:02] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:0
[12-Sep-2010 11:35:02] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:10
[12-Sep-2010 11:35:02] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:02] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:02] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:02] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:02] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:35:02] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:35:02] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:35:02] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:35:02] PHP Stack trace:
[12-Sep-2010 11:35:02] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:0
[12-Sep-2010 11:35:02] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:10
[12-Sep-2010 11:35:02] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:02] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:02] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:02] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:02] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:35:02] PHP Stack trace:
[12-Sep-2010 11:35:02] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:0
[12-Sep-2010 11:35:02] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:10
[12-Sep-2010 11:35:02] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:02] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:02] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:02] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:02] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:35:02] PHP Stack trace:
[12-Sep-2010 11:35:02] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:0
[12-Sep-2010 11:35:02] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:10
[12-Sep-2010 11:35:02] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:02] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:02] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:02] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:02] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:35:02] PHP Stack trace:
[12-Sep-2010 11:35:02] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:0
[12-Sep-2010 11:35:02] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/update-core.php:10
[12-Sep-2010 11:35:02] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:02] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:02] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:02] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:03] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:35:03] PHP Stack trace:
[12-Sep-2010 11:35:03] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:03] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:03] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:03] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:03] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:03] PHP   6. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:35:03] PHP   7. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:35:03] PHP   8. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:35:03] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:35:03] PHP Stack trace:
[12-Sep-2010 11:35:03] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:03] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:03] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:03] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:03] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:03] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:35:03] PHP Stack trace:
[12-Sep-2010 11:35:03] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:03] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:03] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:03] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:03] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:03] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:35:03] PHP Stack trace:
[12-Sep-2010 11:35:03] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:03] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:03] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:03] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:03] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:03] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:35:03] PHP Stack trace:
[12-Sep-2010 11:35:03] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:03] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:03] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:03] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:03] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:03] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:35:03] PHP Stack trace:
[12-Sep-2010 11:35:03] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:03] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:03] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:03] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:03] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:03] PHP   6. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:35:03] PHP   7. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:35:03] PHP   8. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:35:03] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:35:03] PHP Stack trace:
[12-Sep-2010 11:35:03] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:03] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:03] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:03] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:03] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:03] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:35:03] PHP Stack trace:
[12-Sep-2010 11:35:03] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:03] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:03] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:03] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:03] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:03] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:35:03] PHP Stack trace:
[12-Sep-2010 11:35:03] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:03] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:03] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:03] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:03] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:03] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:35:03] PHP Stack trace:
[12-Sep-2010 11:35:03] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:03] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:03] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:03] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:03] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:17] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:35:17] PHP Stack trace:
[12-Sep-2010 11:35:17] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:0
[12-Sep-2010 11:35:17] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:10
[12-Sep-2010 11:35:17] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:17] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:17] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:17] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:17] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:35:17] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:35:17] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:35:17] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:35:17] PHP Stack trace:
[12-Sep-2010 11:35:17] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:0
[12-Sep-2010 11:35:17] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:10
[12-Sep-2010 11:35:17] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:17] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:17] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:17] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:17] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:35:17] PHP Stack trace:
[12-Sep-2010 11:35:17] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:0
[12-Sep-2010 11:35:17] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:10
[12-Sep-2010 11:35:17] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:17] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:17] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:17] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:17] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:35:17] PHP Stack trace:
[12-Sep-2010 11:35:17] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:0
[12-Sep-2010 11:35:17] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:10
[12-Sep-2010 11:35:17] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:17] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:17] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:17] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:17] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:35:17] PHP Stack trace:
[12-Sep-2010 11:35:17] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:0
[12-Sep-2010 11:35:17] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:10
[12-Sep-2010 11:35:17] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:17] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:17] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:17] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:18] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:35:18] PHP Stack trace:
[12-Sep-2010 11:35:18] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:18] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:18] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:18] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:18] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:18] PHP   6. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:35:18] PHP   7. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:35:18] PHP   8. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:35:18] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:35:18] PHP Stack trace:
[12-Sep-2010 11:35:18] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:18] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:18] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:18] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:18] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:18] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:35:18] PHP Stack trace:
[12-Sep-2010 11:35:18] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:18] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:18] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:18] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:18] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:18] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:35:18] PHP Stack trace:
[12-Sep-2010 11:35:18] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:18] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:18] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:18] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:18] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:18] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:35:18] PHP Stack trace:
[12-Sep-2010 11:35:18] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:18] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:18] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:18] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:18] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:18] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:35:18] PHP Stack trace:
[12-Sep-2010 11:35:18] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:18] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:18] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:18] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:18] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:18] PHP   6. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:35:18] PHP   7. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:35:18] PHP   8. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:35:18] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:35:18] PHP Stack trace:
[12-Sep-2010 11:35:18] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:18] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:18] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:18] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:18] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:18] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:35:18] PHP Stack trace:
[12-Sep-2010 11:35:18] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:18] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:18] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:18] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:18] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:18] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:35:18] PHP Stack trace:
[12-Sep-2010 11:35:18] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:18] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:18] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:18] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:18] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:18] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:35:18] PHP Stack trace:
[12-Sep-2010 11:35:18] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:0
[12-Sep-2010 11:35:18] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin-ajax.php:17
[12-Sep-2010 11:35:18] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:18] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:18] PHP   5. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:53] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:35:53] PHP Stack trace:
[12-Sep-2010 11:35:53] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:0
[12-Sep-2010 11:35:53] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:10
[12-Sep-2010 11:35:53] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:53] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:53] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:53] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:53] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:35:53] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:35:53] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:35:53] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:35:53] PHP Stack trace:
[12-Sep-2010 11:35:53] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:0
[12-Sep-2010 11:35:53] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:10
[12-Sep-2010 11:35:53] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:53] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:53] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:53] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:53] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:35:53] PHP Stack trace:
[12-Sep-2010 11:35:53] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:0
[12-Sep-2010 11:35:53] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:10
[12-Sep-2010 11:35:53] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:53] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:53] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:53] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:53] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:35:53] PHP Stack trace:
[12-Sep-2010 11:35:53] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:0
[12-Sep-2010 11:35:53] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:10
[12-Sep-2010 11:35:53] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:53] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:53] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:53] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:53] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:35:53] PHP Stack trace:
[12-Sep-2010 11:35:53] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:0
[12-Sep-2010 11:35:53] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:10
[12-Sep-2010 11:35:53] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:53] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:53] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:53] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:54] PHP Notice:  get_settings is
<strong>deprecated</strong> since version 2.1! Use get_option() instead. in
/home/demonicpagan/wp-testing/wp-includes/functions.php on line 3237
[12-Sep-2010 11:35:54] PHP Stack trace:
[12-Sep-2010 11:35:54] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:0
[12-Sep-2010 11:35:54] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:10
[12-Sep-2010 11:35:54] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:54] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:54] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:54] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:54] PHP   7. get_settings()
/home/demonicpagan/wp-testing/wp-content/plugins/collapsing-archives/collaps
Arch.php:28
[12-Sep-2010 11:35:54] PHP   8. _deprecated_function()
/home/demonicpagan/wp-testing/wp-includes/deprecated.php:849
[12-Sep-2010 11:35:54] PHP   9. trigger_error()
/home/demonicpagan/wp-testing/wp-includes/functions.php:3237
[12-Sep-2010 11:35:54] PHP Notice:  Use of undefined constant
DOFOLLOW_NORMAL - assumed 'DOFOLLOW_NORMAL' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 56
[12-Sep-2010 11:35:54] PHP Stack trace:
[12-Sep-2010 11:35:54] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:0
[12-Sep-2010 11:35:54] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:10
[12-Sep-2010 11:35:54] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:54] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:54] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:54] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:54] PHP Notice:  Use of undefined constant
DOFOLLOW_REGONLY - assumed 'DOFOLLOW_REGONLY' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 57
[12-Sep-2010 11:35:54] PHP Stack trace:
[12-Sep-2010 11:35:54] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:0
[12-Sep-2010 11:35:54] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:10
[12-Sep-2010 11:35:54] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:54] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:54] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:54] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:54] PHP Notice:  Use of undefined constant DOFOLLOW_REGOK
- assumed 'DOFOLLOW_REGOK' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 58
[12-Sep-2010 11:35:54] PHP Stack trace:
[12-Sep-2010 11:35:54] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:0
[12-Sep-2010 11:35:54] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:10
[12-Sep-2010 11:35:54] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:54] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:54] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:54] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175
[12-Sep-2010 11:35:54] PHP Notice:  Use of undefined constant DOFOLLOW_OFF -
assumed 'DOFOLLOW_OFF' in
/home/demonicpagan/wp-testing/wp-content/plugins/dofollow.php on line 59
[12-Sep-2010 11:35:54] PHP Stack trace:
[12-Sep-2010 11:35:54] PHP   1. {main}()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:0
[12-Sep-2010 11:35:54] PHP   2. require_once()
/home/demonicpagan/wp-testing/wp-admin/plugins.php:10
[12-Sep-2010 11:35:54] PHP   3. require_once()
/home/demonicpagan/wp-testing/wp-admin/admin.php:20
[12-Sep-2010 11:35:54] PHP   4. require_once()
/home/demonicpagan/wp-testing/wp-load.php:30
[12-Sep-2010 11:35:54] PHP   5. require_once()
/home/demonicpagan/wp-testing/wp-config.php:105
[12-Sep-2010 11:35:54] PHP   6. include_once()
/home/demonicpagan/wp-testing/wp-settings.php:175

Now looking through this, none of it seems to point me into any thing going
on with my plugin. I'm still at a loss.

I've put up a new branch on GitHub with the files I'm working with for my
plugin.
http://github.com/demonicpagan/FFXI-Character-Widget-for-Wordpress/tree/3.0.
1/ffxi/

This message contains confidential information and is intended only for the
individual named. If you are not the named addressee you should not
disseminate, distribute or copy this e-mail. Please notify the sender
immediately by e-mail if you have received this e-mail by mistake and delete
this e-mail from your system. E-mail transmission cannot be guaranteed to be
secure or error-free as information could be intercepted, corrupted, lost,
destroyed, arrive late or incomplete, or contain viruses. The sender
therefore does not accept liability for any errors or omissions in the
contents of this message, which arise as a result of e-mail transmission.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mike Little
Sent: Sunday, September 12, 2010 6:07 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Upgrading a plugin that works on WP 2.9.2 to work
with WP 3.0.1+

On 12 September 2010 07:24, Dustin Lennon <demonicpagan at gmail.com> wrote:

> I'm still very much at a loss with this. I've installed Xdebug, but have
no
> clue on how to use it to help me out with my problem.
>
> -Dustin
>
>

Dustin,
Do you have debug turned on?

I use these settings  in wp-config.php
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
define('WP_DEBUG_DISPLAY', false);
@ini_set('display_errors',0);

This will log all errors notices and warnings to a file called debug.log in
wp-content (if Apache does not have write permission, you may need to create
the file first and set the appropriate permissions (I use 666) )

There may be some useful information logged.


Mike
-- 
Mike Little
http://zed1.com/
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From johnbillion+wp at gmail.com  Sun Sep 12 12:23:24 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Sun, 12 Sep 2010 13:23:24 +0100
Subject: [wp-hackers] What is the Taxonomy Show Function
In-Reply-To: <AANLkTi=D7f-FddSH_TX4OKvBPL4T_wGdw7p_EuGc+Gfg@mail.gmail.com>
References: <AANLkTim5iYRcL0vzmxCdT+=4HKFb7bQcrKD+pMVWR3G3@mail.gmail.com>
	<AANLkTimzxkR1_zLQkZ3yE+Hp+uVaqKsQJpRqVxRYpPsS@mail.gmail.com>
	<AANLkTi=D7f-FddSH_TX4OKvBPL4T_wGdw7p_EuGc+Gfg@mail.gmail.com>
Message-ID: <AANLkTi=vzwkkwE-3RLKcP8cDwwONhuDL+-TR1Ypzz3Q0@mail.gmail.com>

Also the_terms() is similar to get_the_term_list() but prints out the
terms for you.
http://codex.wordpress.org/Function_Reference/the_terms

On Sat, Sep 11, 2010 at 9:03 PM, Erick Hitter <ehitter at gmail.com> wrote:
> Sinan,
>
> Take a look at get_the_term_list(),
> http://codex.wordpress.org/Function_Reference/get_the_term_list.
>
> Erick
>
> On Sep 11, 2010 3:54 PM, "Sinan" <yok2504 at gmail.com> wrote:
> Hello,
>
> maybe easy question that but ? dont know :) I'm sorry for that
>
>
> how can ? show adding post taxonomys show the single.php, what is the list
> function
>
> example: the_tags(); showing the tags
>
> ? need the show taxonomys, what is the taxonomy show function?
>
>
> thankyou
>
> --
> ? ?Sinan ??LER
> www.sinanisler.com
> sinanisler.deviantart.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From list at expost.org  Sun Sep 12 14:59:29 2010
From: list at expost.org (Raj)
Date: Sun, 12 Sep 2010 20:29:29 +0530
Subject: [wp-hackers] Get list of roles
In-Reply-To: <AANLkTimrFPNHKHyPFpJLJ+47+YDorOjY3xcjpPa9bhhR@mail.gmail.com>
References: <AANLkTik6sQCP6J5kVSbpnVS0MxgK4MfNRt51hBRXOwB7@mail.gmail.com><D0009BC2-3E54-4724-9304-A7816293CFD4@ftwr.co.uk><000301cb51bf$18a91a50$49fb4ef0$@expost.org><BD2F71AC-D6B2-473F-AA61-C26E0B2E07A8@ftwr.co.uk>
	<AANLkTimrFPNHKHyPFpJLJ+47+YDorOjY3xcjpPa9bhhR@mail.gmail.com>
Message-ID: <000001cb528b$24043b60$6c0cb220$@expost.org>

get_editable_roles() causes  a undefined function error when called as a
part of the init. It works if the plugin calls it as part of some hook such
as admin_head. Shouldn't it work when called from within a function attached
to init?

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jeremy Clarke
Sent: Sunday, September 12, 2010 1:01 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Get list of roles

The ideal function is get_editable_roles() from /wp-admin/includes/user.php

function get_editable_roles() {
    global $wp_roles;

    $all_roles = $wp_roles->roles;
    $editable_roles = apply_filters('editable_roles', $all_roles);

    return $editable_roles;
}

It's basically the same as above but its API and thus better. It will offer
plugins a chance to filter the list in case someone other than admin has
'edit_users' privilege (and thus 'admin' needs to be removed from the list,
else that user could make themselves admin).

Presumably your plugin will only offer the settings page in question to
someone who has admin-level capabilities like 'manage_options' and is
basically an admin with access to all roles, so the filter shouldn't affect
you.

There is also wp_dropdown_roles() which gives you the roles as <option>
fields for a <select> (though checkboxes are likely to work better in many
scenarios where you're choosing who has access to something).

--
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Sun Sep 12 15:56:55 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 12 Sep 2010 11:56:55 -0400
Subject: [wp-hackers] Plans to modify /wp-admin/plugins.php for 3.1?
In-Reply-To: <A59E4153-06AB-41E8-80A8-47013D32C02E@newclarity.net>
References: <685FA548-DDAD-433F-AD06-7EA9B4C7CC8C@newclarity.net>
	<AANLkTikqkksp1aEFYhA4DWk5XEn0LB___7TX8uUpZqBz@mail.gmail.com>
	<4C158926-F556-4E99-BE53-72436269B39C@newclarity.net>
	<AANLkTikhY_aCqbsZDBocKDovzBvaQapUapqAcPU6s=0o@mail.gmail.com>
	<6E245997-A56D-4171-B281-73321DC3FCF0@newclarity.net>
	<AANLkTik7hcid4JN9yVoH=gjfz-DFy9-VgHP-PVeWwfM4@mail.gmail.com>
	<A59E4153-06AB-41E8-80A8-47013D32C02E@newclarity.net>
Message-ID: <AANLkTi=WU3YjcsoFhQZKY9ti3hHX_bdAX2AprpVPJU5B@mail.gmail.com>

On Sat, Sep 11, 2010 at 8:52 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> when will the mods you are working on be done?
>

His project has been committed, he's now working on maintaining it through
bug fixes and enhancements as it gets further review. Now would be a good
time to propose whatever you want to propose.

From wp at andrewnacin.com  Sun Sep 12 15:59:11 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 12 Sep 2010 11:59:11 -0400
Subject: [wp-hackers] Get list of roles
In-Reply-To: <000001cb528b$24043b60$6c0cb220$@expost.org>
References: <AANLkTik6sQCP6J5kVSbpnVS0MxgK4MfNRt51hBRXOwB7@mail.gmail.com>
	<D0009BC2-3E54-4724-9304-A7816293CFD4@ftwr.co.uk>
	<000301cb51bf$18a91a50$49fb4ef0$@expost.org>
	<BD2F71AC-D6B2-473F-AA61-C26E0B2E07A8@ftwr.co.uk>
	<AANLkTimrFPNHKHyPFpJLJ+47+YDorOjY3xcjpPa9bhhR@mail.gmail.com>
	<000001cb528b$24043b60$6c0cb220$@expost.org>
Message-ID: <AANLkTik30y+3zjuncEQZaJ3MOmw=xr0u_bojDCqbS-sC@mail.gmail.com>

On Sun, Sep 12, 2010 at 10:59 AM, Raj <list at expost.org> wrote:

> get_editable_roles() causes  a undefined function error when called as a
> part of the init. It works if the plugin calls it as part of some hook such
> as admin_head. Shouldn't it work when called from within a function
> attached
> to init?


No. The function is always available in the admin.

http://core.trac.wordpress.org/browser/tags/3.0.1/wp-admin/includes/user.php#L287

From mikeschinkel at newclarity.net  Sun Sep 12 21:24:04 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 12 Sep 2010 17:24:04 -0400
Subject: [wp-hackers] Plans to modify /wp-admin/plugins.php for 3.1?
In-Reply-To: <AANLkTi=WU3YjcsoFhQZKY9ti3hHX_bdAX2AprpVPJU5B@mail.gmail.com>
References: <685FA548-DDAD-433F-AD06-7EA9B4C7CC8C@newclarity.net>
	<AANLkTikqkksp1aEFYhA4DWk5XEn0LB___7TX8uUpZqBz@mail.gmail.com>
	<4C158926-F556-4E99-BE53-72436269B39C@newclarity.net>
	<AANLkTikhY_aCqbsZDBocKDovzBvaQapUapqAcPU6s=0o@mail.gmail.com>
	<6E245997-A56D-4171-B281-73321DC3FCF0@newclarity.net>
	<AANLkTik7hcid4JN9yVoH=gjfz-DFy9-VgHP-PVeWwfM4@mail.gmail.com>
	<A59E4153-06AB-41E8-80A8-47013D32C02E@newclarity.net>
	<AANLkTi=WU3YjcsoFhQZKY9ti3hHX_bdAX2AprpVPJU5B@mail.gmail.com>
Message-ID: <D5641C07-7783-47C7-A99D-C0270DE52A2D@newclarity.net>

Sounds good.  I'll set up a trunk dev on localhost and start working on it in a few days then open a trac ticket when I'm done.

-Mike

On Sep 12, 2010, at 11:56 AM, Andrew Nacin wrote:

> On Sat, Sep 11, 2010 at 8:52 PM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
> 
>> when will the mods you are working on be done?
>> 
> 
> His project has been committed, he's now working on maintaining it through
> bug fixes and enhancements as it gets further review. Now would be a good
> time to propose whatever you want to propose.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ryanfitzer at gmail.com  Mon Sep 13 00:54:48 2010
From: ryanfitzer at gmail.com (Ryan Fitzer)
Date: Sun, 12 Sep 2010 17:54:48 -0700
Subject: [wp-hackers] Get Term Data Before Deletion
Message-ID: <AANLkTi=kv8j8K_i5Pw15O4wYvy6PqX2gpQB4-in3NaX8@mail.gmail.com>

I'm trying to find a hook that will give me a term's slug before it is deleted.

I'm using the delete_{$taxonomy} hook so when a term gets deleted I
can update my theme's options. The problem is that I need the slug. By
the time delete_{$taxonomy} runs, the term has been deleted from the
db (taxonomy.php line 1406). This means get_term() can't retrieve the
term slug.

Anyone know of a way around this?

-- 
Ryan Fitzer
Los Angeles, CA
http://www.ryanpatrickfitzer.com

From mikeschinkel at newclarity.net  Mon Sep 13 01:19:31 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 12 Sep 2010 21:19:31 -0400
Subject: [wp-hackers] Get Term Data Before Deletion
In-Reply-To: <AANLkTi=kv8j8K_i5Pw15O4wYvy6PqX2gpQB4-in3NaX8@mail.gmail.com>
References: <AANLkTi=kv8j8K_i5Pw15O4wYvy6PqX2gpQB4-in3NaX8@mail.gmail.com>
Message-ID: <1620BAE8-A343-481E-A945-E3E9DDA4EAE5@newclarity.net>

> I'm using the delete_{$taxonomy} hook so when a term gets deleted I
> can update my theme's options. The problem is that I need the slug. By
> the time delete_{$taxonomy} runs, the term has been deleted from the
> db (taxonomy.php line 1406). This means get_term() can't retrieve the
> term slug.

Yes, it would seem that would be quite the problem.  Doesn't seem like delete_{$taxonomy} would be all that useful without at least access to the term as it was before deletion?  Anyway...

Try the "delete_term_taxonomy" hook.  It get's a term_taxonomy_id and reading the code it seems from that you can get the term_id and look it up before the term is deleted.  Unfortunately there doesn't appear to be an API call that will look up a taxonomy via a term_taxonomy_id (unless I missed it?) so you'll have to revert to raw SQL.  Try this:

add_action('delete_term_taxonomy','grab_term_slug_on_delete');
function grab_term_slug_on_delete($term_taxonomy_id) {
	global $wpdb;
	$sql = "SELECT t.slug FROM wp_terms t INNER JOIN wp_term_taxonomy tt ON t.term_id = tt.term_id WHERE term_taxonomy_id=%d";
	$term_slug = $wpdb->get_var($wpdb->prepare($sql,$term_taxonomy_id));
	// Do something with $term_slug here...
	return;
}

Hope this helps.

-Mike


On Sep 12, 2010, at 8:54 PM, Ryan Fitzer wrote:

> I'm trying to find a hook that will give me a term's slug before it is deleted.
> 
> I'm using the delete_{$taxonomy} hook so when a term gets deleted I
> can update my theme's options. The problem is that I need the slug. By
> the time delete_{$taxonomy} runs, the term has been deleted from the
> db (taxonomy.php line 1406). This means get_term() can't retrieve the
> term slug.
> 
> Anyone know of a way around this?
> 
> -- 
> Ryan Fitzer
> Los Angeles, CA
> http://www.ryanpatrickfitzer.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From list at expost.org  Mon Sep 13 01:41:04 2010
From: list at expost.org (Raj)
Date: Mon, 13 Sep 2010 07:11:04 +0530
Subject: [wp-hackers] Where Should Plugins Store Files?
Message-ID: <002101cb52e4$bc52b870$34f82950$@expost.org>

 

Often times I find my plugins require file uploads and a location to save
them. Other times I generate image files.  So far I have been base64'd them
and putting them into the database for fear of lack of permissions in the
file system. Surely there is some location within wordpress where a plugin
can rely on having some place to put files? wp-content/uploads may be? Can I
rely on wp-content/uploads to always have read/write permissions be the
location where files can be placed if necessary? Please suggest how I can
approach handing writing files to the file system. 


From ryanfitzer at gmail.com  Mon Sep 13 02:01:12 2010
From: ryanfitzer at gmail.com (Ryan Fitzer)
Date: Sun, 12 Sep 2010 19:01:12 -0700
Subject: [wp-hackers] Get Term Data Before Deletion
In-Reply-To: <1620BAE8-A343-481E-A945-E3E9DDA4EAE5@newclarity.net>
References: <AANLkTi=kv8j8K_i5Pw15O4wYvy6PqX2gpQB4-in3NaX8@mail.gmail.com>
	<1620BAE8-A343-481E-A945-E3E9DDA4EAE5@newclarity.net>
Message-ID: <AANLkTinwT=bQiOYFxK5q+J3+86ra8Dbd4jWj4S97eZEr@mail.gmail.com>

Nice! Works like a charm. Thanks soo much Mike.

On Sun, Sep 12, 2010 at 6:19 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
>> I'm using the delete_{$taxonomy} hook so when a term gets deleted I
>> can update my theme's options. The problem is that I need the slug. By
>> the time delete_{$taxonomy} runs, the term has been deleted from the
>> db (taxonomy.php line 1406). This means get_term() can't retrieve the
>> term slug.
>
> Yes, it would seem that would be quite the problem. ?Doesn't seem like delete_{$taxonomy} would be all that useful without at least access to the term as it was before deletion? ?Anyway...
>
> Try the "delete_term_taxonomy" hook. ?It get's a term_taxonomy_id and reading the code it seems from that you can get the term_id and look it up before the term is deleted. ?Unfortunately there doesn't appear to be an API call that will look up a taxonomy via a term_taxonomy_id (unless I missed it?) so you'll have to revert to raw SQL. ?Try this:
>
> add_action('delete_term_taxonomy','grab_term_slug_on_delete');
> function grab_term_slug_on_delete($term_taxonomy_id) {
> ? ? ? ?global $wpdb;
> ? ? ? ?$sql = "SELECT t.slug FROM wp_terms t INNER JOIN wp_term_taxonomy tt ON t.term_id = tt.term_id WHERE term_taxonomy_id=%d";
> ? ? ? ?$term_slug = $wpdb->get_var($wpdb->prepare($sql,$term_taxonomy_id));
> ? ? ? ?// Do something with $term_slug here...
> ? ? ? ?return;
> }
>
> Hope this helps.
>
> -Mike
>
>
> On Sep 12, 2010, at 8:54 PM, Ryan Fitzer wrote:
>
>> I'm trying to find a hook that will give me a term's slug before it is deleted.
>>
>> I'm using the delete_{$taxonomy} hook so when a term gets deleted I
>> can update my theme's options. The problem is that I need the slug. By
>> the time delete_{$taxonomy} runs, the term has been deleted from the
>> db (taxonomy.php line 1406). This means get_term() can't retrieve the
>> term slug.
>>
>> Anyone know of a way around this?
>>
>> --
>> Ryan Fitzer
>> Los Angeles, CA
>> http://www.ryanpatrickfitzer.com
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Ryan Fitzer
Los Angeles, CA
http://www.ryanfitzer.com
http://www.portfoliorodeo.com

From otto at ottodestruct.com  Mon Sep 13 03:42:58 2010
From: otto at ottodestruct.com (Otto)
Date: Sun, 12 Sep 2010 22:42:58 -0500
Subject: [wp-hackers] Where Should Plugins Store Files?
In-Reply-To: <002101cb52e4$bc52b870$34f82950$@expost.org>
References: <002101cb52e4$bc52b870$34f82950$@expost.org>
Message-ID: <AANLkTinjncu_wpuaNCD2B4wfG1bw16uHmJcQ+eB=Cakg@mail.gmail.com>

On Sun, Sep 12, 2010 at 8:41 PM, Raj <list at expost.org> wrote:
> Can I
> rely on wp-content/uploads to always have read/write permissions be the
> location where files can be placed if necessary?

Rely? No.
Assume? Yes.

You can't really "rely" on anything. But it is a generally safe
assumption that the uploads directory is writable.

Use the wp_upload_dir function to retrieve the upload directories path and URL.

-Otto

From me at piyushmishra.com  Mon Sep 13 03:39:22 2010
From: me at piyushmishra.com (Piyush Mishra)
Date: Mon, 13 Sep 2010 09:09:22 +0530
Subject: [wp-hackers] Where Should Plugins Store Files?
In-Reply-To: <002101cb52e4$bc52b870$34f82950$@expost.org>
References: <002101cb52e4$bc52b870$34f82950$@expost.org>
Message-ID: <AANLkTimXieMP5==usj8bGqABFQ8Kvbi=tTCL5mGRw5UN@mail.gmail.com>

If the file isnt of any use out side the plugin, I use the plugin itself

On Mon, Sep 13, 2010 at 7:11 AM, Raj <list at expost.org> wrote:

>
>
> Often times I find my plugins require file uploads and a location to save
> them. Other times I generate image files.  So far I have been base64'd them
> and putting them into the database for fear of lack of permissions in the
> file system. Surely there is some location within wordpress where a plugin
> can rely on having some place to put files? wp-content/uploads may be? Can
> I
> rely on wp-content/uploads to always have read/write permissions be the
> location where files can be placed if necessary? Please suggest how I can
> approach handing writing files to the file system.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards
Piyush Mishra
http://www.piyushmishra.com/
Life's Short, Live it to the maximum

From wp at andrewnacin.com  Mon Sep 13 04:52:15 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 13 Sep 2010 00:52:15 -0400
Subject: [wp-hackers] Where Should Plugins Store Files?
In-Reply-To: <AANLkTimXieMP5==usj8bGqABFQ8Kvbi=tTCL5mGRw5UN@mail.gmail.com>
References: <002101cb52e4$bc52b870$34f82950$@expost.org>
	<AANLkTimXieMP5==usj8bGqABFQ8Kvbi=tTCL5mGRw5UN@mail.gmail.com>
Message-ID: <AANLkTikxSO3tw1d6=uGtroDC5h9CL0d8R2s9KOOBqAHo@mail.gmail.com>

On Sun, Sep 12, 2010 at 11:39 PM, Piyush Mishra <me at piyushmishra.com> wrote:

> If the file isnt of any use out side the plugin, I use the plugin itself


That's a bad idea. Then you lose that file on an upgrade.

You can use wp_mkdir_p($path) to create a folder. (The _p means it attempts
to set permissions.) If fails, it will return a WP_Error object.

As Otto said, use wp_upload_dir() to get the path to the upload directory.

From wp at andrewnacin.com  Mon Sep 13 04:55:57 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 13 Sep 2010 00:55:57 -0400
Subject: [wp-hackers] Get Term Data Before Deletion
In-Reply-To: <1620BAE8-A343-481E-A945-E3E9DDA4EAE5@newclarity.net>
References: <AANLkTi=kv8j8K_i5Pw15O4wYvy6PqX2gpQB4-in3NaX8@mail.gmail.com>
	<1620BAE8-A343-481E-A945-E3E9DDA4EAE5@newclarity.net>
Message-ID: <AANLkTimRkC5bg_=R7h1VNtgNGkDdihdbiZabJ_-aUR5q@mail.gmail.com>

On Sun, Sep 12, 2010 at 9:19 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> Unfortunately there doesn't appear to be an API call that will look up a
> taxonomy via a term_taxonomy_id (unless I missed it?) so you'll have to
> revert to raw SQL.
>

Just confirming your search, I couldn't find one either.

From lists at rotorised.com  Mon Sep 13 11:12:25 2010
From: lists at rotorised.com (Ryan McCue)
Date: Mon, 13 Sep 2010 21:12:25 +1000
Subject: [wp-hackers] Where Should Plugins Store Files?
In-Reply-To: <AANLkTikxSO3tw1d6=uGtroDC5h9CL0d8R2s9KOOBqAHo@mail.gmail.com>
References: <002101cb52e4$bc52b870$34f82950$@expost.org>	<AANLkTimXieMP5==usj8bGqABFQ8Kvbi=tTCL5mGRw5UN@mail.gmail.com>
	<AANLkTikxSO3tw1d6=uGtroDC5h9CL0d8R2s9KOOBqAHo@mail.gmail.com>
Message-ID: <4C8E0719.9020202@rotorised.com>

 Andrew Nacin wrote:
> That's a bad idea. Then you lose that file on an upgrade.
>
> You can use wp_mkdir_p($path) to create a folder. (The _p means it attempts
> to set permissions.) If fails, it will return a WP_Error object. 

What's the opinion on creating new subdirectories of wp-content, as
opposed to being in existing directories (i.e.
wp-content/plugin/file.html vs. wp-content/uploads/plugin/file.html)?
I'm currently using the former for a couple of configuration options
(overriding a template that the plugin uses, but optional), but the user
creates the directory and file themselves.

Are there any forseen problems to this sort of setup?

-- 
Ryan McCue
<http://ryanmccue.info/>


From me at piyushmishra.com  Mon Sep 13 12:23:34 2010
From: me at piyushmishra.com (Piyush Mishra)
Date: Mon, 13 Sep 2010 17:53:34 +0530
Subject: [wp-hackers] Where Should Plugins Store Files?
In-Reply-To: <AANLkTikxSO3tw1d6=uGtroDC5h9CL0d8R2s9KOOBqAHo@mail.gmail.com>
References: <002101cb52e4$bc52b870$34f82950$@expost.org>
	<AANLkTimXieMP5==usj8bGqABFQ8Kvbi=tTCL5mGRw5UN@mail.gmail.com>
	<AANLkTikxSO3tw1d6=uGtroDC5h9CL0d8R2s9KOOBqAHo@mail.gmail.com>
Message-ID: <AANLkTi=V774KOePo-VPqxR8XisnHf+zAj5dQ=yi2cxrW@mail.gmail.com>

No wonder I didnt know that. My plugin loads the images again everyday

On Mon, Sep 13, 2010 at 10:22 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Sun, Sep 12, 2010 at 11:39 PM, Piyush Mishra <me at piyushmishra.com>
> wrote:
>
> > If the file isnt of any use out side the plugin, I use the plugin itself
>
>
> That's a bad idea. Then you lose that file on an upgrade.
>
> You can use wp_mkdir_p($path) to create a folder. (The _p means it attempts
> to set permissions.) If fails, it will return a WP_Error object.
>
> As Otto said, use wp_upload_dir() to get the path to the upload directory.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards
Piyush Mishra
http://www.piyushmishra.com/
Life's Short, Live it to the maximum

From cross at thisismyurl.com  Mon Sep 13 12:52:42 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Mon, 13 Sep 2010 09:52:42 -0300
Subject: [wp-hackers] Where Should Plugins Store Files?
In-Reply-To: <AANLkTinjncu_wpuaNCD2B4wfG1bw16uHmJcQ+eB=Cakg@mail.gmail.com>
References: <002101cb52e4$bc52b870$34f82950$@expost.org>
	<AANLkTinjncu_wpuaNCD2B4wfG1bw16uHmJcQ+eB=Cakg@mail.gmail.com>
Message-ID: <CB705E06-3D70-4497-B587-7283EA4E65D7@thisismyurl.com>

Just be sure to use the [basedir] instead of the [path] as the latter will append the year and month if it's configured

[path] => C:\path\to\wordpress/wp-content/uploads/2010/05 
[basedir] => C:\path\to\wordpress/wp-content/uploads 

That's messed me up more than once :)

On 2010-09-13, at 12:42 AM, Otto wrote:
> 
> Use the wp_upload_dir function to retrieve the upload directories path and URL.
> 
> -Otto


__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708
New Orleans 1 (504) 322 3485

http://christopherross.ca
http://www.thisismyurl.com


From dougal at gunters.org  Mon Sep 13 12:59:05 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Mon, 13 Sep 2010 08:59:05 -0400
Subject: [wp-hackers] Where Should Plugins Store Files?
In-Reply-To: <4C8E0719.9020202@rotorised.com>
References: <002101cb52e4$bc52b870$34f82950$@expost.org>	<AANLkTimXieMP5==usj8bGqABFQ8Kvbi=tTCL5mGRw5UN@mail.gmail.com>	<AANLkTikxSO3tw1d6=uGtroDC5h9CL0d8R2s9KOOBqAHo@mail.gmail.com>
	<4C8E0719.9020202@rotorised.com>
Message-ID: <4C8E2019.3090701@gunters.org>

  On Sep 13 2010 7:12 AM, Ryan McCue wrote:
>   Andrew Nacin wrote:
>> That's a bad idea. Then you lose that file on an upgrade.
>>
>> You can use wp_mkdir_p($path) to create a folder. (The _p means it attempts
>> to set permissions.) If fails, it will return a WP_Error object.
> What's the opinion on creating new subdirectories of wp-content, as
> opposed to being in existing directories (i.e.
> wp-content/plugin/file.html vs. wp-content/uploads/plugin/file.html)?
> I'm currently using the former for a couple of configuration options
> (overriding a template that the plugin uses, but optional), but the user
> creates the directory and file themselves.
>
> Are there any forseen problems to this sort of setup?
>

I've always thought that 'wp-content/[myplugin]/' should be the standard 
for plugins to store persistent files. But you can't always depend on it 
to be writable, so you'd want to fall back to the uploads dir (and of 
course, handle errors when that's not available either). I'd check which 
directory was available at plugin activation time, and store the result 
in an option, so that you stay consistent once you've started using one 
location or another.


-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From elfin at elfden.co.uk  Mon Sep 13 18:21:49 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Mon, 13 Sep 2010 19:21:49 +0100
Subject: [wp-hackers] Plugin and theme developer plugins
Message-ID: <4C8E6BBD.3080103@elfden.co.uk>

Out there in the wild there are various plugins that are designed 
purely for developers, for example:
Log Deprecated Notices by Andrew Nacin
WordPress Beta Tester by Peter Westwood

but no doubt there are others.

Has anyone got a full list of these? and if there isn't a wiki page 
for them, why not? (and don't ask me to do it, I hate wiki's)

Rich

From otto at ottodestruct.com  Mon Sep 13 18:43:38 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 13 Sep 2010 13:43:38 -0500
Subject: [wp-hackers] Plugin and theme developer plugins
In-Reply-To: <4C8E6BBD.3080103@elfden.co.uk>
References: <4C8E6BBD.3080103@elfden.co.uk>
Message-ID: <AANLkTinofAaLUKV72gxaeEZcoR3n2EepotsjToTNmRjz@mail.gmail.com>

I use "Search Regex" and "Reveal IDs for WP Admin" a fair amount.

-Otto



On Mon, Sep 13, 2010 at 1:21 PM, Rich Pedley <elfin at elfden.co.uk> wrote:
> Out there in the wild there are various plugins that are designed purely for
> developers, for example:
> Log Deprecated Notices by Andrew Nacin
> WordPress Beta Tester by Peter Westwood
>
> but no doubt there are others.
>
> Has anyone got a full list of these? and if there isn't a wiki page for
> them, why not? (and don't ask me to do it, I hate wiki's)
>
> Rich
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Mon Sep 13 18:52:53 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 13 Sep 2010 14:52:53 -0400
Subject: [wp-hackers] Plugin and theme developer plugins
In-Reply-To: <4C8E6BBD.3080103@elfden.co.uk>
References: <4C8E6BBD.3080103@elfden.co.uk>
Message-ID: <AANLkTimykcqYLF_nhMXAtbDWp71ABz=B6H5hsXUjWbVZ@mail.gmail.com>

On Mon, Sep 13, 2010 at 2:21 PM, Rich Pedley <elfin at elfden.co.uk> wrote:

> Out there in the wild there are various plugins that are designed purely
> for developers, for example:
> Log Deprecated Notices by Andrew Nacin
> WordPress Beta Tester by Peter Westwood
>
> but no doubt there are others.
>
> Has anyone got a full list of these? and if there isn't a wiki page for
> them, why not? (and don't ask me to do it, I hate wiki's)
>

I'd personally love to see a list on the Codex of developer tools. [0] Most
of the committers have one. There's also:

Core Control by Dion Hulse
Dump Environment and Dump Queries, both by Ryan Boren

[0] As long as "WP_DEBUG" is in size 40 font on that page, preferably red
and blinking.

From a.hoereth at gmail.com  Mon Sep 13 18:59:48 2010
From: a.hoereth at gmail.com (=?ISO-8859-1?Q?Alexander_H=F6reth?=)
Date: Mon, 13 Sep 2010 20:59:48 +0200
Subject: [wp-hackers] Plugin and theme developer plugins
In-Reply-To: <AANLkTimykcqYLF_nhMXAtbDWp71ABz=B6H5hsXUjWbVZ@mail.gmail.com>
References: <4C8E6BBD.3080103@elfden.co.uk>
	<AANLkTimykcqYLF_nhMXAtbDWp71ABz=B6H5hsXUjWbVZ@mail.gmail.com>
Message-ID: <AANLkTin=Rg35x_YqE9Vu4UxmLYWzXw2qSGqmbMtj43G+@mail.gmail.com>

Hey there,
i just started hacking the custom header image process in
wp-admin/custom-header.php to make max-height / max-width and
auto-height/auto-width possible. ATM the custom header size needs to be a
fixed integer..

Just wanted to ask if someone already did something like that? Didnt find
anything about it yet..

2010/9/13 Andrew Nacin <wp at andrewnacin.com>

> On Mon, Sep 13, 2010 at 2:21 PM, Rich Pedley <elfin at elfden.co.uk> wrote:
>
> > Out there in the wild there are various plugins that are designed purely
> > for developers, for example:
> > Log Deprecated Notices by Andrew Nacin
> > WordPress Beta Tester by Peter Westwood
> >
> > but no doubt there are others.
> >
> > Has anyone got a full list of these? and if there isn't a wiki page for
> > them, why not? (and don't ask me to do it, I hate wiki's)
> >
>
> I'd personally love to see a list on the Codex of developer tools. [0] Most
> of the committers have one. There's also:
>
> Core Control by Dion Hulse
> Dump Environment and Dump Queries, both by Ryan Boren
>
> [0] As long as "WP_DEBUG" is in size 40 font on that page, preferably red
> and blinking.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From paul at codehooligans.com  Mon Sep 13 19:00:50 2010
From: paul at codehooligans.com (Paul)
Date: Mon, 13 Sep 2010 15:00:50 -0400
Subject: [wp-hackers] single widget configuration for multiple instances if
	a widget
Message-ID: <BB59694D-4F6B-4189-ABF3-D73A6E260AC5@codehooligans.com>

I've not used Widgets much on past client sites. I know by extending WP_Widget setting up the widget form in the admin area is mostly trivial. But here is my issue. I have a client site which has 5 major sections. Each section will have the same 5-8 widgets but in different order. 

If I register multiple sidebars (side1, side2, etc) for the widgets. Then I can assign the widgets to the respective sidebars in the order I need. Then what I get is multiple instances of the widgets. I don't want that because each of these custom widgets are somewhat complicated and change often. So I don't want the client to need to update each sidebar's instance of a given widget. I prefer to have one instance of that widget that I can use multiple times as I need to for each sidebar. I though about setting up a new post type where the widget information is set. Then each widget itself would pull in the content from the post type. But this seems hack-ish and for some reason I tend to think the WP Widget system should handle my need. I'm just not seeing the logic I'm looking for. 

Has anyone come across this use case? Does anyone have an idea on getting this accomplished?

P-


From jmiloj at gmail.com  Mon Sep 13 19:10:17 2010
From: jmiloj at gmail.com (Jerry Johnson)
Date: Mon, 13 Sep 2010 15:10:17 -0400
Subject: [wp-hackers] single widget configuration for multiple instances
 if a widget
In-Reply-To: <BB59694D-4F6B-4189-ABF3-D73A6E260AC5@codehooligans.com>
References: <BB59694D-4F6B-4189-ABF3-D73A6E260AC5@codehooligans.com>
Message-ID: <AANLkTikHLu3bYe8jbcM5y6ErmaSJobrJdx6bCGdSeWDT@mail.gmail.com>

Rather than setting up multiple sidebars with the whole set of widgets in
each, set up one sidebar per widget, and change the order you display those
sidebars in each section?

One thought,
Jerry Milo Johnson

On Mon, Sep 13, 2010 at 3:00 PM, Paul <paul at codehooligans.com> wrote:

> I've not used Widgets much on past client sites. I know by extending
> WP_Widget setting up the widget form in the admin area is mostly trivial.
> But here is my issue. I have a client site which has 5 major sections. Each
> section will have the same 5-8 widgets but in different order.
>
> If I register multiple sidebars (side1, side2, etc) for the widgets. Then I
> can assign the widgets to the respective sidebars in the order I need. Then
> what I get is multiple instances of the widgets. I don't want that because
> each of these custom widgets are somewhat complicated and change often. So I
> don't want the client to need to update each sidebar's instance of a given
> widget. I prefer to have one instance of that widget that I can use multiple
> times as I need to for each sidebar. I though about setting up a new post
> type where the widget information is set. Then each widget itself would pull
> in the content from the post type. But this seems hack-ish and for some
> reason I tend to think the WP Widget system should handle my need. I'm just
> not seeing the logic I'm looking for.
>
> Has anyone come across this use case? Does anyone have an idea on getting
> this accomplished?
>
>

From elfin at elfden.co.uk  Mon Sep 13 19:28:28 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Mon, 13 Sep 2010 20:28:28 +0100
Subject: [wp-hackers] Plugin and theme developer plugins
In-Reply-To: <AANLkTimykcqYLF_nhMXAtbDWp71ABz=B6H5hsXUjWbVZ@mail.gmail.com>
References: <4C8E6BBD.3080103@elfden.co.uk>
	<AANLkTimykcqYLF_nhMXAtbDWp71ABz=B6H5hsXUjWbVZ@mail.gmail.com>
Message-ID: <4C8E7B5C.1060103@elfden.co.uk>

On 13/09/2010 19:52, Andrew Nacin wrote:
> [0] As long as "WP_DEBUG" is in size 40 font on that page, preferably red
> and blinking.

you forgot  - and scrolling.

Though having that turned on all the time can be a pain when you have 
to use someone else's plugin... and end up ditching it because of the 
errors.



Rich


From batmoo at gmail.com  Mon Sep 13 19:40:52 2010
From: batmoo at gmail.com (Mohammad Jangda)
Date: Mon, 13 Sep 2010 15:40:52 -0400
Subject: [wp-hackers] single widget configuration for multiple instances
 if a widget
In-Reply-To: <BB59694D-4F6B-4189-ABF3-D73A6E260AC5@codehooligans.com>
References: <BB59694D-4F6B-4189-ABF3-D73A6E260AC5@codehooligans.com>
Message-ID: <AANLkTi=-bWZT0SzePiCdTuiT=_BhvjqUFY=GC2vUWrLw@mail.gmail.com>

On Mon, Sep 13, 2010 at 3:00 PM, Paul <paul at codehooligans.com> wrote:

> I though about setting up a new post type where the widget information is
> set. Then each widget itself would pull in the content from the post type.
> But this seems hack-ish and for some reason I tend to think the WP Widget
> system should handle my need. I'm just not seeing the logic I'm looking for.


That probably seems like the best approach. Store your data elsewhere
(doesn't have to be a post type; could be an options entry) and then make
the widget pull in the data. Most of the built-in widgets do this. The
options for your widget can be used to tweak that particular widget
instance.

--
Mohammad Jangda
www.digitalize.ca | @mjangda

From wordpress at santosj.name  Mon Sep 13 20:14:56 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Mon, 13 Sep 2010 15:14:56 -0500
Subject: [wp-hackers] Where Should Plugins Store Files?
In-Reply-To: <4C8E0719.9020202@rotorised.com>
References: <002101cb52e4$bc52b870$34f82950$@expost.org>
	<AANLkTimXieMP5==usj8bGqABFQ8Kvbi=tTCL5mGRw5UN@mail.gmail.com>
	<AANLkTikxSO3tw1d6=uGtroDC5h9CL0d8R2s9KOOBqAHo@mail.gmail.com>
	<4C8E0719.9020202@rotorised.com>
Message-ID: <AANLkTikJkCoDM0D3yJU5i+FWh3c0XqW4f_L_vQuE1ZgL@mail.gmail.com>

This would break on my system. I specifically set the uploads directory with
"full" permissions meaning write / read by apache. No other directory has
these read / write permissions. The only reason that directory even has
permissions is because there are use cases (by users) where they will want
to upload files.

Actually, technically, it is impossible to even update plugins and themes
from the admin, the pages are there, but they fail because of permissions.

Not that this is completely secure, but it is enough that it will make it a
bit harder for exploits to take hold from writing to the file system.

Do note also that the only time I will enable permission for upload
directory is when a plugin notes, "Hey, I can't write to this directory. How
about helping me out here? Pretty please." If the pretty please isn't there
then I immediately disable the plugin and rewrite it to not suck.

Jacob Santos

On Mon, Sep 13, 2010 at 6:12 AM, Ryan McCue <lists at rotorised.com> wrote:

>  Andrew Nacin wrote:
> > That's a bad idea. Then you lose that file on an upgrade.
> >
> > You can use wp_mkdir_p($path) to create a folder. (The _p means it
> attempts
> > to set permissions.) If fails, it will return a WP_Error object.
>
> What's the opinion on creating new subdirectories of wp-content, as
> opposed to being in existing directories (i.e.
> wp-content/plugin/file.html vs. wp-content/uploads/plugin/file.html)?
> I'm currently using the former for a couple of configuration options
> (overriding a template that the plugin uses, but optional), but the user
> creates the directory and file themselves.
>
> Are there any forseen problems to this sort of setup?
>
> --
> Ryan McCue
> <http://ryanmccue.info/>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lists at rotorised.com  Mon Sep 13 20:56:48 2010
From: lists at rotorised.com (Ryan McCue)
Date: Tue, 14 Sep 2010 06:56:48 +1000
Subject: [wp-hackers] Where Should Plugins Store Files?
In-Reply-To: <4C8E2019.3090701@gunters.org>
References: <002101cb52e4$bc52b870$34f82950$@expost.org>	<AANLkTimXieMP5==usj8bGqABFQ8Kvbi=tTCL5mGRw5UN@mail.gmail.com>	<AANLkTikxSO3tw1d6=uGtroDC5h9CL0d8R2s9KOOBqAHo@mail.gmail.com>	<4C8E0719.9020202@rotorised.com>
	<4C8E2019.3090701@gunters.org>
Message-ID: <4C8E9010.6030707@rotorised.com>

 Dougal Campbell wrote:
> But you can't always depend on it to be writable, so you'd want to
> fall back to the uploads dir (and of course, handle errors when that's
> not available either). I'd check which directory was available at
> plugin activation time, and store the result in an option, so that you
> stay consistent once you've started using one location or another.

As I mentioned, the plugin doesn't create the directory or file, so
whether the plugin can write to it or not is irrelevant.


Jacob Santos wrote:
> This would break on my system. I specifically set the uploads directory with
> "full" permissions meaning write / read by apache. No other directory has
> these read / write permissions.
Again, the plugin *only reads from the directory*, it doesn't need write
permissions.

-- 
Ryan McCue
<http://ryanmccue.info/>


From robert.simpson at me.com  Mon Sep 13 21:49:02 2010
From: robert.simpson at me.com (Robert Simpson)
Date: Mon, 13 Sep 2010 22:49:02 +0100
Subject: [wp-hackers] exclude posts from the RSS feed using a custom field
Message-ID: <84F46E9E-3547-4E2B-AA1E-272AE88F64F0@me.com>

Hi folks,

As you might have gathered from my subject i'm trying to exclude certain posts from my RSS feed using a custom field and the code I have just now isn't doing anything, no errors, nothing.

I've posted a thread over at wp.org/support which better explains what I'm doing. You can find it here - http://is.gd/f99JY

If anybody can point me in the right direction that'd be fantastic and greatly appreciated! :)


Cheers,
Robert

From dougal at gunters.org  Mon Sep 13 22:43:10 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Mon, 13 Sep 2010 18:43:10 -0400
Subject: [wp-hackers] Where Should Plugins Store Files?
In-Reply-To: <4C8E9010.6030707@rotorised.com>
References: <002101cb52e4$bc52b870$34f82950$@expost.org>	<AANLkTimXieMP5==usj8bGqABFQ8Kvbi=tTCL5mGRw5UN@mail.gmail.com>	<AANLkTikxSO3tw1d6=uGtroDC5h9CL0d8R2s9KOOBqAHo@mail.gmail.com>	<4C8E0719.9020202@rotorised.com>	<4C8E2019.3090701@gunters.org>
	<4C8E9010.6030707@rotorised.com>
Message-ID: <4C8EA8FE.50103@gunters.org>

  On Sep 13 2010 4:56 PM, Ryan McCue wrote:
>   Dougal Campbell wrote:
>> But you can't always depend on it to be writable, so you'd want to
>> fall back to the uploads dir (and of course, handle errors when that's
>> not available either). I'd check which directory was available at
>> plugin activation time, and store the result in an option, so that you
>> stay consistent once you've started using one location or another.
> As I mentioned, the plugin doesn't create the directory or file, so
> whether the plugin can write to it or not is irrelevant.
>
>
> Jacob Santos wrote:
>> This would break on my system. I specifically set the uploads directory with
>> "full" permissions meaning write / read by apache. No other directory has
>> these read / write permissions.
> Again, the plugin *only reads from the directory*, it doesn't need write
> permissions.
>

I don't see where you specifically said that. You mentioned the user 
creating the directory themselves, but from the context, it looked like 
you were still asking a similar question to the original poster in this 
thread.

If we're talking about files that are just part of the plugin, and which 
do not need to be created post-install, and which do not need to be 
modified by the user, then they should just stay with the plugin itself, 
perhaps within a sub-folder. But for files which the plugin needs to 
create, or which might need customizations which we don't want to lose 
when the plugin is upgraded, then I suggest a sub-folder either under 
wp-content, or under the uploads directory.

Personally, I wouldn't be opposed to a standardized 
'wp-content/plugin-data/' folder, with a few convenience functions in 
core (e.g., plugin_data_directory() and plugin_data_uri()).


-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From jason at findingsimple.com  Tue Sep 14 00:40:31 2010
From: jason at findingsimple.com (Jason)
Date: Tue, 14 Sep 2010 10:40:31 +1000
Subject: [wp-hackers] List header scripts handles
Message-ID: <AANLkTinBe9KQp9gq4_fSW8s3qNpGn7kR=Bc6Nntiq7tr@mail.gmail.com>

Hi all,

Just a quick one - Is there a way to list/find out what the handles are for
scripts (non core js file) that have been loaded using wp_enqueue_script
into the header of site.

I've got a plugin which has encrypted/obfuscated its code so I can't find
out from the source what handle was used - and hence can't de-register it.

I've managed to guess one of the handles but there are a few more and the
developer won't tell me through the support channel because it is classed as
customization or something.

Cheers,
Jason

From mikeschinkel at newclarity.net  Tue Sep 14 00:46:30 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 13 Sep 2010 20:46:30 -0400
Subject: [wp-hackers] List header scripts handles
In-Reply-To: <AANLkTinBe9KQp9gq4_fSW8s3qNpGn7kR=Bc6Nntiq7tr@mail.gmail.com>
References: <AANLkTinBe9KQp9gq4_fSW8s3qNpGn7kR=Bc6Nntiq7tr@mail.gmail.com>
Message-ID: <02D3DF0F-BB31-4310-B103-EDE0A649965D@newclarity.net>

On Sep 13, 2010, at 8:40 PM, Jason wrote:
> 
> Just a quick one - Is there a way to list/find out what the handles are for
> scripts (non core js file) that have been loaded using wp_enqueue_script
> into the header of site.

Have you checked the global var $wp_scripts?

-Mike


From johnbillion+wp at gmail.com  Tue Sep 14 00:46:19 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Tue, 14 Sep 2010 01:46:19 +0100
Subject: [wp-hackers] List header scripts handles
In-Reply-To: <AANLkTinBe9KQp9gq4_fSW8s3qNpGn7kR=Bc6Nntiq7tr@mail.gmail.com>
References: <AANLkTinBe9KQp9gq4_fSW8s3qNpGn7kR=Bc6Nntiq7tr@mail.gmail.com>
Message-ID: <AANLkTin6yXh_a2_JwKMRfLnuBQ4s_Ch8V0upyCJ1_YJY@mail.gmail.com>

IIRC scripts are stored in the global $wp_scripts variable so you
should be able to do something like this in your footer:

global $wp_scripts;
print_r( $wp_scripts );

John

On Tue, Sep 14, 2010 at 1:40 AM, Jason <jason at findingsimple.com> wrote:
> Hi all,
>
> Just a quick one - Is there a way to list/find out what the handles are for
> scripts (non core js file) that have been loaded using wp_enqueue_script
> into the header of site.
>
> I've got a plugin which has encrypted/obfuscated its code so I can't find
> out from the source what handle was used - and hence can't de-register it.
>
> I've managed to guess one of the handles but there are a few more and the
> developer won't tell me through the support channel because it is classed as
> customization or something.
>
> Cheers,
> Jason
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From johnbillion+wp at gmail.com  Tue Sep 14 00:46:19 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Tue, 14 Sep 2010 01:46:19 +0100
Subject: [wp-hackers] List header scripts handles
In-Reply-To: <AANLkTinBe9KQp9gq4_fSW8s3qNpGn7kR=Bc6Nntiq7tr@mail.gmail.com>
References: <AANLkTinBe9KQp9gq4_fSW8s3qNpGn7kR=Bc6Nntiq7tr@mail.gmail.com>
Message-ID: <AANLkTin6yXh_a2_JwKMRfLnuBQ4s_Ch8V0upyCJ1_YJY@mail.gmail.com>

IIRC scripts are stored in the global $wp_scripts variable so you
should be able to do something like this in your footer:

global $wp_scripts;
print_r( $wp_scripts );

John

On Tue, Sep 14, 2010 at 1:40 AM, Jason <jason at findingsimple.com> wrote:
> Hi all,
>
> Just a quick one - Is there a way to list/find out what the handles are for
> scripts (non core js file) that have been loaded using wp_enqueue_script
> into the header of site.
>
> I've got a plugin which has encrypted/obfuscated its code so I can't find
> out from the source what handle was used - and hence can't de-register it.
>
> I've managed to guess one of the handles but there are a few more and the
> developer won't tell me through the support channel because it is classed as
> customization or something.
>
> Cheers,
> Jason
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From list at expost.org  Tue Sep 14 02:10:59 2010
From: list at expost.org (Raj)
Date: Tue, 14 Sep 2010 07:40:59 +0530
Subject: [wp-hackers] WordPress Installation Profiles
Message-ID: <000d01cb53b2$15b33020$41199060$@expost.org>

Drupal has something called installation profiles. The installation profile
is a small script that you place in the configuration directory. It will be
picked up by Drupal automatically during the installation process. The
profile script has the following information:

 

1.       Which modules to activate during installation

2.       Which theme to apply to the newly installed website 

 

All of which must be placed at the module and theme directories. 

 

Each of us setting up WordPress websites has a standard list of tasks to be
done. These tasks could be programmed into a script and with some helping
hand from Wordpress, the installation process itself could be customized. It
may even be possible to set up a fully configured website remotely. What do
you think? Has this been considered before?

 

Raj 

 

 

 

 


From mikeschinkel at newclarity.net  Tue Sep 14 02:20:14 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 13 Sep 2010 22:20:14 -0400
Subject: [wp-hackers] WordPress Installation Profiles
In-Reply-To: <000d01cb53b2$15b33020$41199060$@expost.org>
References: <000d01cb53b2$15b33020$41199060$@expost.org>
Message-ID: <D8EE83DB-63C8-4A85-8A83-663F1AF0433E@newclarity.net>

http://www.wptavern.com/custom-install-profiles-sounds-like-a-cool-idea


On Sep 13, 2010, at 10:10 PM, Raj wrote:

> Drupal has something called installation profiles. The installation profile
> is a small script that you place in the configuration directory. It will be
> picked up by Drupal automatically during the installation process. The
> profile script has the following information:
> 
> 
> 
> 1.       Which modules to activate during installation
> 
> 2.       Which theme to apply to the newly installed website 
> 
> 
> 
> All of which must be placed at the module and theme directories. 
> 
> 
> 
> Each of us setting up WordPress websites has a standard list of tasks to be
> done. These tasks could be programmed into a script and with some helping
> hand from Wordpress, the installation process itself could be customized. It
> may even be possible to set up a fully configured website remotely. What do
> you think? Has this been considered before?
> 
> 
> 
> Raj 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From andrew at graymerica.com  Tue Sep 14 02:41:53 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Mon, 13 Sep 2010 22:41:53 -0400
Subject: [wp-hackers] weird file in my logs
Message-ID: <1784B97A-8465-4360-B2CF-0E017479AF0E@graymerica.com>

Does anyone know where I might be getting the following file in my logs from

The url that is generating the 404 is this , or other pages with this similar makeup

/<br%20/><b>Strict%20Standards</b>:%20%20curPageURL(

Any ideas?

thanks for the help,

Andrew



From otto at ottodestruct.com  Tue Sep 14 02:44:37 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 13 Sep 2010 21:44:37 -0500
Subject: [wp-hackers] WordPress Installation Profiles
In-Reply-To: <000d01cb53b2$15b33020$41199060$@expost.org>
References: <000d01cb53b2$15b33020$41199060$@expost.org>
Message-ID: <AANLkTinvBU=gzMepHthdT5XfO4-s0CKNuMCPzuv1sKB-@mail.gmail.com>

On Mon, Sep 13, 2010 at 9:10 PM, Raj <list at expost.org> wrote:
> Drupal has something called installation profiles. The installation profile
> is a small script that you place in the configuration directory. It will be
> picked up by Drupal automatically during the installation process. The
> profile script has the following information:

...

You can customize a WordPress installation by simply making your
custom install script, calling it install.php, and putting it in the
wp-content folder before installation.

Your install.php can do anything it wants, it's just straight included
at the beginning of the wp-admin/includes/upgrade.php script. And
almost all of the functions in upgrade.php are pluggable, so you can
redefine/replace them easily.

-Otto

From dougal at gunters.org  Tue Sep 14 03:04:06 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Mon, 13 Sep 2010 23:04:06 -0400
Subject: [wp-hackers] WordPress Installation Profiles
In-Reply-To: <000d01cb53b2$15b33020$41199060$@expost.org>
References: <000d01cb53b2$15b33020$41199060$@expost.org>
Message-ID: <4C8EE626.6090105@gunters.org>

  On Sep 13 2010 10:10 PM, Raj wrote:
> Drupal has something called installation profiles. The installation profile
> is a small script that you place in the configuration directory. It will be
> picked up by Drupal automatically during the installation process. The
> profile script has the following information:
>
>
>
> 1.       Which modules to activate during installation
>
> 2.       Which theme to apply to the newly installed website
>
>
>
> All of which must be placed at the module and theme directories.
>
>
>
> Each of us setting up WordPress websites has a standard list of tasks to be
> done. These tasks could be programmed into a script and with some helping
> hand from Wordpress, the installation process itself could be customized. It
> may even be possible to set up a fully configured website remotely. What do
> you think? Has this been considered before?
>

In addition to the links others have provided, I wrote about this topic 
in July 2009:

   http://dougal.gunters.org/blog/2009/07/30/wordpress-packages

Be sure to check the comments for a couple of interesting links, 
including a screencast by Dion Hulse (dd32).

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From chris at clwill.com  Tue Sep 14 03:25:10 2010
From: chris at clwill.com (Chris Williams)
Date: Mon, 13 Sep 2010 23:25:10 -0400
Subject: [wp-hackers] weird file in my logs
In-Reply-To: <1784B97A-8465-4360-B2CF-0E017479AF0E@graymerica.com>
Message-ID: <C8B43926.62BFF%chris@clwill.com>

Google the "php strict standards" error?  Lots of ideas there??


________________________________
From: Andrew Gray <andrew at graymerica.com>
Subject: [wp-hackers] weird file in my logs

Does anyone know where I might be getting the following file in my logs from

The url that is generating the 404 is this , or other pages with this similar makeup

/<br%20/><b>Strict%20Standards</b>:%20%20curPageURL(

Any ideas?

From andrew at graymerica.com  Tue Sep 14 05:04:10 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Tue, 14 Sep 2010 01:04:10 -0400
Subject: [wp-hackers] weird file in my logs
Message-ID: <B19DC131-CBAF-4B5F-988D-EA878C648348@graymerica.com>

Sorry to be not very clear in my message.

It is not that I am getting an error with that message,  I am getting a page logged in my 404 page logs with the name

/<br%20/><b>Strict%20Standards</b>:%20%20curPageURL(

Obviously, I do not have a page with that name, but something is hitting that page, a lot.  It looks like it is mostly IE8

I ended up using an apache rule to just kill off the page, but it would be nice to know what might be causing it.

I was thinking that it might be w3 Cache since I think it uses CURL, but i am not sure,

thanks,

Andrew



From batmoo at gmail.com  Tue Sep 14 05:22:39 2010
From: batmoo at gmail.com (Mohammad Jangda)
Date: Tue, 14 Sep 2010 01:22:39 -0400
Subject: [wp-hackers] weird file in my logs
In-Reply-To: <B19DC131-CBAF-4B5F-988D-EA878C648348@graymerica.com>
References: <B19DC131-CBAF-4B5F-988D-EA878C648348@graymerica.com>
Message-ID: <AANLkTik+h3Ri3aXxyLgaXZXxTFT+N-zAdYYp-QXJvcjQ@mail.gmail.com>

It's likely a malformed <a> tag either on your site or some other site
linking to yours. If you have Google Analytics set up check the referral
path for that page. That should give you an idea of where the traffic is
coming from, and where the issue likely is.

From lists at rotorised.com  Tue Sep 14 06:14:29 2010
From: lists at rotorised.com (Ryan McCue)
Date: Tue, 14 Sep 2010 16:14:29 +1000
Subject: [wp-hackers] Where Should Plugins Store Files?
In-Reply-To: <4C8EA8FE.50103@gunters.org>
References: <002101cb52e4$bc52b870$34f82950$@expost.org>	<AANLkTimXieMP5==usj8bGqABFQ8Kvbi=tTCL5mGRw5UN@mail.gmail.com>	<AANLkTikxSO3tw1d6=uGtroDC5h9CL0d8R2s9KOOBqAHo@mail.gmail.com>	<4C8E0719.9020202@rotorised.com>	<4C8E2019.3090701@gunters.org>	<4C8E9010.6030707@rotorised.com>
	<4C8EA8FE.50103@gunters.org>
Message-ID: <4C8F12C5.1090900@rotorised.com>

 Dougal Campbell wrote:
> I don't see where you specifically said that. You mentioned the user
> creating the directory themselves, but from the context, it looked
> like you were still asking a similar question to the original poster
> in this thread.

My apologies. That's what I did mean from that, but I didn't phrase it
fantastically. That's what I get for writing emails late at night. :)

> Personally, I wouldn't be opposed to a standardized
> 'wp-content/plugin-data/' folder, with a few convenience functions in
> core (e.g., plugin_data_directory() and plugin_data_uri()).

This sounds like a fantastic idea, IMHO.

-- 
Ryan McCue
<http://ryanmccue.info/>


From jason at findingsimple.com  Tue Sep 14 06:43:14 2010
From: jason at findingsimple.com (Jason)
Date: Tue, 14 Sep 2010 16:43:14 +1000
Subject: [wp-hackers] List header scripts handles
In-Reply-To: <AANLkTin6yXh_a2_JwKMRfLnuBQ4s_Ch8V0upyCJ1_YJY@mail.gmail.com>
References: <AANLkTinBe9KQp9gq4_fSW8s3qNpGn7kR=Bc6Nntiq7tr@mail.gmail.com>
	<AANLkTin6yXh_a2_JwKMRfLnuBQ4s_Ch8V0upyCJ1_YJY@mail.gmail.com>
Message-ID: <AANLkTikHS37i4OXVqALUbWcaZFOwivnAxMqQNVQ2ZC0t@mail.gmail.com>

Thanks I'll try it out.


On Tue, Sep 14, 2010 at 10:46 AM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> IIRC scripts are stored in the global $wp_scripts variable so you
> should be able to do something like this in your footer:
>
> global $wp_scripts;
> print_r( $wp_scripts );
>
> John
>
> On Tue, Sep 14, 2010 at 1:40 AM, Jason <jason at findingsimple.com> wrote:
> > Hi all,
> >
> > Just a quick one - Is there a way to list/find out what the handles are
> for
> > scripts (non core js file) that have been loaded using wp_enqueue_script
> > into the header of site.
> >
> > I've got a plugin which has encrypted/obfuscated its code so I can't find
> > out from the source what handle was used - and hence can't de-register
> it.
> >
> > I've managed to guess one of the handles but there are a few more and the
> > developer won't tell me through the support channel because it is classed
> as
> > customization or something.
> >
> > Cheers,
> > Jason
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From philip at frumph.net  Tue Sep 14 06:51:30 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Mon, 13 Sep 2010 23:51:30 -0700
Subject: [wp-hackers] Where Should Plugins Store Files?
In-Reply-To: <4C8F12C5.1090900@rotorised.com>
References: <002101cb52e4$bc52b870$34f82950$@expost.org>	<AANLkTimXieMP5==usj8bGqABFQ8Kvbi=tTCL5mGRw5UN@mail.gmail.com>	<AANLkTikxSO3tw1d6=uGtroDC5h9CL0d8R2s9KOOBqAHo@mail.gmail.com>	<4C8E0719.9020202@rotorised.com>	<4C8E2019.3090701@gunters.org>	<4C8E9010.6030707@rotorised.com><4C8EA8FE.50103@gunters.org>
	<4C8F12C5.1090900@rotorised.com>
Message-ID: <990DA401C5C54400BAB137C5C3FBD9FC@frumph.net>

use

$wp_dirs = wp_upload_dir();

It handles knowing exactly where the uploads directories are used for all 
wordpress installs, it's an array, also returns error message if there are 
any errors.  It's handled for you.

Separating directories to a plugin-data directory is just not a good idea, 
you want to limit the amount of open permission directories, so stick with a 
single one (or blogs.dir for ms)



----- Original Message ----- 
From: "Ryan McCue" <lists at rotorised.com>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, September 13, 2010 11:14 PM
Subject: Re: [wp-hackers] Where Should Plugins Store Files?


> Dougal Campbell wrote:
>> I don't see where you specifically said that. You mentioned the user
>> creating the directory themselves, but from the context, it looked
>> like you were still asking a similar question to the original poster
>> in this thread.
>
> My apologies. That's what I did mean from that, but I didn't phrase it
> fantastically. That's what I get for writing emails late at night. :)
>
>> Personally, I wouldn't be opposed to a standardized
>> 'wp-content/plugin-data/' folder, with a few convenience functions in
>> core (e.g., plugin_data_directory() and plugin_data_uri()).
>
> This sounds like a fantastic idea, IMHO.
>
> -- 
> Ryan McCue
> <http://ryanmccue.info/>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From rbilesky at gmail.com  Tue Sep 14 07:09:21 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Tue, 14 Sep 2010 00:09:21 -0700
Subject: [wp-hackers] Where Should Plugins Store Files?
In-Reply-To: <990DA401C5C54400BAB137C5C3FBD9FC@frumph.net>
References: <002101cb52e4$bc52b870$34f82950$@expost.org>
	<AANLkTimXieMP5==usj8bGqABFQ8Kvbi=tTCL5mGRw5UN@mail.gmail.com>
	<AANLkTikxSO3tw1d6=uGtroDC5h9CL0d8R2s9KOOBqAHo@mail.gmail.com>
	<4C8E0719.9020202@rotorised.com> <4C8E2019.3090701@gunters.org>
	<4C8E9010.6030707@rotorised.com> <4C8EA8FE.50103@gunters.org>
	<4C8F12C5.1090900@rotorised.com>
	<990DA401C5C54400BAB137C5C3FBD9FC@frumph.net>
Message-ID: <AANLkTim6=3MGU8-zSokMu1ERAr-mNDiBNkgjFLBTf+n2@mail.gmail.com>

I don't thing another directory for plugin data is necessary.  I personally
use a sub-dir of uploads.  I see no reason why anyone whould have to use
anythign diffrent.

From introduccio at gmail.com  Tue Sep 14 10:54:17 2010
From: introduccio at gmail.com (Sergio Sola)
Date: Tue, 14 Sep 2010 12:54:17 +0200
Subject: [wp-hackers] Set user avatar
Message-ID: <AANLkTinSdMZtXMykUGWyHFOUOvvjUHyDtRpSHuAYzkfk@mail.gmail.com>

Hi everyone, this is my first message here :)  I hope I can help in the
future to resolve any issue.

I am developing a new system to register users ( I cannot use the standard
user registration form of WordPress, so... I need to do a new form ), and I
need to set the user avatar, I was looking the code but I don't found the
function to do that. I can create the avatar and I have the URL to the
avatar... but I don't know how to set this avatar to a specific user.

In this project has been installed Buddypress if that can help you to
resolve my doubt.

Anyone can help me?

Thanks!

Regards.

-- 
Sergio Sola Dom?nguez

From patrik.bona at mrhead.sk  Tue Sep 14 11:05:07 2010
From: patrik.bona at mrhead.sk (=?ISO-8859-1?Q?Patrik_B=F3na?=)
Date: Tue, 14 Sep 2010 13:05:07 +0200
Subject: [wp-hackers] Set user avatar
In-Reply-To: <AANLkTinSdMZtXMykUGWyHFOUOvvjUHyDtRpSHuAYzkfk@mail.gmail.com>
References: <AANLkTinSdMZtXMykUGWyHFOUOvvjUHyDtRpSHuAYzkfk@mail.gmail.com>
Message-ID: <4C8F56E3.3070203@mrhead.sk>

I don't know how it is handled with buddypress but you can create you of 
get_avatar() function which is pluggable, so you can rewrite it.

On 09/14/2010 12:54 PM, Sergio Sola wrote:
> Hi everyone, this is my first message here :)  I hope I can help in the
> future to resolve any issue.
>
> I am developing a new system to register users ( I cannot use the standard
> user registration form of WordPress, so... I need to do a new form ), and I
> need to set the user avatar, I was looking the code but I don't found the
> function to do that. I can create the avatar and I have the URL to the
> avatar... but I don't know how to set this avatar to a specific user.
>
> In this project has been installed Buddypress if that can help you to
> resolve my doubt.
>
> Anyone can help me?
>
> Thanks!
>
> Regards.
>
>    


From patrik.bona at mrhead.sk  Tue Sep 14 11:26:36 2010
From: patrik.bona at mrhead.sk (=?ISO-8859-1?Q?Patrik_B=F3na?=)
Date: Tue, 14 Sep 2010 13:26:36 +0200
Subject: [wp-hackers] Set user avatar
In-Reply-To: <4C8F56E3.3070203@mrhead.sk>
References: <AANLkTinSdMZtXMykUGWyHFOUOvvjUHyDtRpSHuAYzkfk@mail.gmail.com>
	<4C8F56E3.3070203@mrhead.sk>
Message-ID: <4C8F5BEC.9020206@mrhead.sk>

Eh, once again ;).

I don't know how it is handled with buddypress but you can create *your 
own* get_avatar() function which is pluggable, so you can rewrite it.

On 09/14/2010 01:05 PM, Patrik B?na wrote:
> I don't know how it is handled with buddypress but you can create you 
> of get_avatar() function which is pluggable, so you can rewrite it.
>
> On 09/14/2010 12:54 PM, Sergio Sola wrote:
>> Hi everyone, this is my first message here :)  I hope I can help in the
>> future to resolve any issue.
>>
>> I am developing a new system to register users ( I cannot use the 
>> standard
>> user registration form of WordPress, so... I need to do a new form ), 
>> and I
>> need to set the user avatar, I was looking the code but I don't found 
>> the
>> function to do that. I can create the avatar and I have the URL to the
>> avatar... but I don't know how to set this avatar to a specific user.
>>
>> In this project has been installed Buddypress if that can help you to
>> resolve my doubt.
>>
>> Anyone can help me?
>>
>> Thanks!
>>
>> Regards.
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From moucine24 at yahoo.com  Tue Sep 14 11:28:00 2010
From: moucine24 at yahoo.com (Moucine)
Date: Tue, 14 Sep 2010 11:28:00 +0000 (GMT)
Subject: [wp-hackers] (no subject)
Message-ID: <566674.89728.qm@web29510.mail.ird.yahoo.com>

STOP





      

From introduccio at gmail.com  Tue Sep 14 11:33:37 2010
From: introduccio at gmail.com (Sergio Sola)
Date: Tue, 14 Sep 2010 13:33:37 +0200
Subject: [wp-hackers] Set user avatar
In-Reply-To: <4C8F5BEC.9020206@mrhead.sk>
References: <AANLkTinSdMZtXMykUGWyHFOUOvvjUHyDtRpSHuAYzkfk@mail.gmail.com>
	<4C8F56E3.3070203@mrhead.sk> <4C8F5BEC.9020206@mrhead.sk>
Message-ID: <AANLkTi=xu7gUT6As-zy6UYW17nwPCEvuX-7MCGn0SZ-D@mail.gmail.com>

I going to investigate this way to do it.

Thanks you so much :)

On Tue, Sep 14, 2010 at 1:26 PM, Patrik B?na <patrik.bona at mrhead.sk> wrote:

> Eh, once again ;).
>
> I don't know how it is handled with buddypress but you can create *your
> own* get_avatar() function which is pluggable, so you can rewrite it.
>
>
> On 09/14/2010 01:05 PM, Patrik B?na wrote:
>
>> I don't know how it is handled with buddypress but you can create you of
>> get_avatar() function which is pluggable, so you can rewrite it.
>>
>> On 09/14/2010 12:54 PM, Sergio Sola wrote:
>>
>>> Hi everyone, this is my first message here :)  I hope I can help in the
>>> future to resolve any issue.
>>>
>>> I am developing a new system to register users ( I cannot use the
>>> standard
>>> user registration form of WordPress, so... I need to do a new form ), and
>>> I
>>> need to set the user avatar, I was looking the code but I don't found the
>>> function to do that. I can create the avatar and I have the URL to the
>>> avatar... but I don't know how to set this avatar to a specific user.
>>>
>>> In this project has been installed Buddypress if that can help you to
>>> resolve my doubt.
>>>
>>> Anyone can help me?
>>>
>>> Thanks!
>>>
>>> Regards.
>>>
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Sergio Sola Dom?nguez

From vid at zippykid.com  Tue Sep 14 11:38:40 2010
From: vid at zippykid.com (Vid Luther)
Date: Tue, 14 Sep 2010 06:38:40 -0500
Subject: [wp-hackers] (no subject)
In-Reply-To: <566674.89728.qm@web29510.mail.ird.yahoo.com>
References: <566674.89728.qm@web29510.mail.ird.yahoo.com>
Message-ID: <562702961152839675@unknownmsgid>

Collaborate and listen?


On Sep 14, 2010, at 6:28 AM, Moucine <moucine24 at yahoo.com> wrote:

> STOP
>
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From niklas.lindgren at iki.fi  Tue Sep 14 13:09:17 2010
From: niklas.lindgren at iki.fi (Niklas Lindgren)
Date: Tue, 14 Sep 2010 16:09:17 +0300
Subject: [wp-hackers] (no subject)
In-Reply-To: <562702961152839675@unknownmsgid>
References: <566674.89728.qm@web29510.mail.ird.yahoo.com>
	<562702961152839675@unknownmsgid>
Message-ID: <AANLkTinQRLFBejzr_=LhFPa9_OG=gqac3WB=Qu0a73Se@mail.gmail.com>

Hammer time!

On Tue, Sep 14, 2010 at 2:38 PM, Vid Luther <vid at zippykid.com> wrote:
> Collaborate and listen?
>
>
> On Sep 14, 2010, at 6:28 AM, Moucine <moucine24 at yahoo.com> wrote:
>
>> STOP
>>
>>
>>
>>
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From louie at louiemccoy.com  Tue Sep 14 14:45:18 2010
From: louie at louiemccoy.com (Louis McCoy)
Date: Tue, 14 Sep 2010 10:45:18 -0400
Subject: [wp-hackers] current_page_ancestor class lost on Tertiary pages?
Message-ID: <AANLkTikv5cwkZiX36At8dTXWB+PLhD6gJ6TvWCEZHYbQ@mail.gmail.com>

Hey everyone -

Now that I've been lurking on the list for a good long time, I've got an
issue with wp_nav_menu that I'd appreciate some insight / help with. On a
site I'm working on, we've got a fairly deep hierarchy of pages - for the
sake of example, we'll say the menu item I'm fighting with is "foo." Of
course, "bar" is a submenu item with "foo" as its parent.

Here's where the problem occurs: X1 through X22 are subpages of bar - and
when you navigate to any of these pages, the "current_page_ancestor" and
"current-menu-ancestor" classes disappear from "foo." Of course, "bar" still
has "current-page-ancestor."

Now, these are all pages, and I haven't entered X1 through X22 in as
tertiary menu items in the menu admin interface, since I'm not displaying
them in the menu. I'm thinking that entering X1 through X22 into the menu
interface and then hiding them via CSS may be my only option, but that
doesn't seem like the best solution...

Anyone have any better ideas? Pretty please? :-D

Thanks!

-Louie

From austin at ilfilosofo.com  Tue Sep 14 14:54:04 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Tue, 14 Sep 2010 09:54:04 -0500
Subject: [wp-hackers] current_page_ancestor class lost on Tertiary pages?
In-Reply-To: <AANLkTikv5cwkZiX36At8dTXWB+PLhD6gJ6TvWCEZHYbQ@mail.gmail.com>
References: <AANLkTikv5cwkZiX36At8dTXWB+PLhD6gJ6TvWCEZHYbQ@mail.gmail.com>
Message-ID: <AANLkTim-4pBR5WjEUx_6LNE-GQe-8K_+p+PtUyvMVpYy@mail.gmail.com>

On Tue, Sep 14, 2010 at 9:45 AM, Louis McCoy <louie at louiemccoy.com> wrote:
> Now that I've been lurking on the list for a good long time, I've got an
> issue with wp_nav_menu that I'd appreciate some insight / help with. On a
> site I'm working on, we've got a fairly deep hierarchy of pages - for the
> sake of example, we'll say the menu item I'm fighting with is "foo." Of
> course, "bar" is a submenu item with "foo" as its parent.
>
> Here's where the problem occurs: X1 through X22 are subpages of bar - and
> when you navigate to any of these pages, the "current_page_ancestor" and
> "current-menu-ancestor" classes disappear from "foo." Of course, "bar" still
> has "current-page-ancestor."
>
> Now, these are all pages, and I haven't entered X1 through X22 in as
> tertiary menu items in the menu admin interface, since I'm not displaying
> them in the menu. I'm thinking that entering X1 through X22 into the menu
> interface and then hiding them via CSS may be my only option, but that
> doesn't seem like the best solution...

How deep are these levels?  Can you be more specific about the overall
menu structure or link to an actual example?

I created an eight-level-deep menu of page items, and I am unable to
reproduce the problem: the ancestors get the current_page_ancestor and
current-menu-ancestor classes all the way down, as expected.

From scribu at gmail.com  Tue Sep 14 15:44:20 2010
From: scribu at gmail.com (scribu)
Date: Tue, 14 Sep 2010 18:44:20 +0300
Subject: [wp-hackers] Plugin and theme developer plugins
In-Reply-To: <4C8E7B5C.1060103@elfden.co.uk>
References: <4C8E6BBD.3080103@elfden.co.uk>
	<AANLkTimykcqYLF_nhMXAtbDWp71ABz=B6H5hsXUjWbVZ@mail.gmail.com>
	<4C8E7B5C.1060103@elfden.co.uk>
Message-ID: <AANLkTinORiBDM36DAb_fdHcLf3QqWpOq86-Wprr8GgtN@mail.gmail.com>

On Mon, Sep 13, 2010 at 10:28 PM, Rich Pedley <elfin at elfden.co.uk> wrote:

> Though having that [WP_DEBUG] turned on all the time can be a pain when you
> have to use someone else's plugin... and end up ditching it because of the
> errors.
>

Here here!


-- 
http://scribu.net

From mailapera at gmail.com  Tue Sep 14 18:27:22 2010
From: mailapera at gmail.com (mailapera)
Date: Tue, 14 Sep 2010 20:27:22 +0200
Subject: [wp-hackers] Memory outages and wordpress
Message-ID: <AANLkTikkM+p7Nbyh96bhbzVTFkcuYYhgdoi6w-oqJxK6@mail.gmail.com>

After months of memory outages I installed a capcha plugin to reduce
the spam comment posting. The memory outages disappeared, so I
inquired my hosting (I have a vps) as I have no clue of what resources
intensive commenting could take up.
This was their response
"Wordpress is fairly resource intensive. You may look into installing
one of the various caching plugins, and do some research on the term
wordpress performance optimization"

I did not know WP was resource intensive, it seems a short hand reply
to me, if not a BS reply. However I would like some opinion on this
please. I have about 300 visits per day on the server, and 1G of ram.
Thanks

From curtis at curtismchale.ca  Tue Sep 14 18:30:07 2010
From: curtis at curtismchale.ca (Curtis McHale)
Date: Tue, 14 Sep 2010 11:30:07 -0700
Subject: [wp-hackers] Memory outages and wordpress
In-Reply-To: <AANLkTikkM+p7Nbyh96bhbzVTFkcuYYhgdoi6w-oqJxK6@mail.gmail.com>
References: <AANLkTikkM+p7Nbyh96bhbzVTFkcuYYhgdoi6w-oqJxK6@mail.gmail.com>
Message-ID: <4C8FBF2F.3070800@curtismchale.ca>

300 visits is not a lot. I run one site on cheap Godaddy shared hosting. 
Almost every post has lots of pictures of large size in it of the 
paddling we've done. It also runs a forum (bbPress) and we see 2000+ 
visits a day. I recently installed a caching plugin but only to speed 
the site up a bit. We had no memory errors.

What host is this out of curiosity?

mailapera wrote:
> After months of memory outages I installed a capcha plugin to reduce
> the spam comment posting. The memory outages disappeared, so I
> inquired my hosting (I have a vps) as I have no clue of what resources
> intensive commenting could take up.
> This was their response
> "Wordpress is fairly resource intensive. You may look into installing
> one of the various caching plugins, and do some research on the term
> wordpress performance optimization"
>
> I did not know WP was resource intensive, it seems a short hand reply
> to me, if not a BS reply. However I would like some opinion on this
> please. I have about 300 visits per day on the server, and 1G of ram.
> Thanks
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-- 
Curtis McHale

604.751.3482
http://curtismchale.ca
http://twitter.com/curtismchale
http://ca.linkedin.com/in/curtismchale


From peter at avirtualhome.com  Tue Sep 14 18:51:20 2010
From: peter at avirtualhome.com (Peter van der Does)
Date: Tue, 14 Sep 2010 14:51:20 -0400
Subject: [wp-hackers] Memory outages and wordpress
In-Reply-To: <AANLkTikkM+p7Nbyh96bhbzVTFkcuYYhgdoi6w-oqJxK6@mail.gmail.com>
References: <AANLkTikkM+p7Nbyh96bhbzVTFkcuYYhgdoi6w-oqJxK6@mail.gmail.com>
Message-ID: <20100914145120.14bbb151@montecarlo.grandprix.int>

On Tue, 14 Sep 2010 20:27:22 +0200
mailapera <mailapera at gmail.com> wrote:

> 
> I did not know WP was resource intensive, it seems a short hand reply
> to me, if not a BS reply. However I would like some opinion on this
> please. I have about 300 visits per day on the server, and 1G of ram.
> Thanks
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

I run my blog on a shared host and get 500 visitors/day, no problem.
Only recently I installed a cache plugin but that's mostly to combine
and gzip css and js files. I don;t cache the HTML pages.

If you are subject to heavy spam you might want to look into that,
preventing them from accessing your site.
My site has been slow as well because of spammers. I'm not sure how many spammers a day I
get but it's a lot and if each and every one would actually access my
site it would slow it down as well.


-- 
Peter van der Does

GPG key: E77E8E98

IRC: Ganseki on irc.freenode.net
Twitter: @petervanderdoes

WordPress Plugin Developer
Blog: http://blog.avirtualhome.com
Forums: http://forums.avirtualhome.com
Twitter: @avhsoftware

From vid at zippykid.com  Tue Sep 14 18:54:05 2010
From: vid at zippykid.com (Vid Luther)
Date: Tue, 14 Sep 2010 13:54:05 -0500
Subject: [wp-hackers] Memory outages and wordpress
In-Reply-To: <20100914145120.14bbb151@montecarlo.grandprix.int>
References: <AANLkTikkM+p7Nbyh96bhbzVTFkcuYYhgdoi6w-oqJxK6@mail.gmail.com>
	<20100914145120.14bbb151@montecarlo.grandprix.int>
Message-ID: <2FE427C5-08A3-4D09-9730-8FD0CBB6EE59@zippykid.com>

if you're on a shared host, it may not be your site, but other people's sites that are causing the server to go out of memory.
300 visits/day shouldn't take a system with 1GB of ram out of memory, unless you have some really bad programming, or you share
a server with a website that's getting 300/second. 



On Sep 14, 2010, at 1:51 PM, Peter van der Does wrote:

> On Tue, 14 Sep 2010 20:27:22 +0200
> mailapera <mailapera at gmail.com> wrote:
> 
>> 
>> I did not know WP was resource intensive, it seems a short hand reply
>> to me, if not a BS reply. However I would like some opinion on this
>> please. I have about 300 visits per day on the server, and 1G of ram.
>> Thanks
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> I run my blog on a shared host and get 500 visitors/day, no problem.
> Only recently I installed a cache plugin but that's mostly to combine
> and gzip css and js files. I don;t cache the HTML pages.
> 
> If you are subject to heavy spam you might want to look into that,
> preventing them from accessing your site.
> My site has been slow as well because of spammers. I'm not sure how many spammers a day I
> get but it's a lot and if each and every one would actually access my
> site it would slow it down as well.
> 
> 
> -- 
> Peter van der Does
> 
> GPG key: E77E8E98
> 
> IRC: Ganseki on irc.freenode.net
> Twitter: @petervanderdoes
> 
> WordPress Plugin Developer
> Blog: http://blog.avirtualhome.com
> Forums: http://forums.avirtualhome.com
> Twitter: @avhsoftware
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From cross at thisismyurl.com  Tue Sep 14 19:07:28 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Tue, 14 Sep 2010 16:07:28 -0300
Subject: [wp-hackers] Memory outages and wordpress
In-Reply-To: <AANLkTikkM+p7Nbyh96bhbzVTFkcuYYhgdoi6w-oqJxK6@mail.gmail.com>
References: <AANLkTikkM+p7Nbyh96bhbzVTFkcuYYhgdoi6w-oqJxK6@mail.gmail.com>
Message-ID: <80504B1F-28DD-4860-BD54-DE06BC56CA01@thisismyurl.com>

Recently I discovered that one of my blogs was serving 25,000 pages a day. The site itself was cached but the RSS feed wasn't cached, so the a page with the CPU weight of the homepage was loading 25k times a day ... that was causing massive memory issues.

I offloaded my RSS feeds to Feedburner and forced the redirects in my .htaccess, now my sites are running smoothly.

c.


On 2010-09-14, at 3:27 PM, mailapera wrote:

> After months of memory outages I installed a capcha plugin to reduce
> the spam comment posting. The memory outages disappeared, so I
> inquired my hosting (I have a vps) as I have no clue of what resources
> intensive commenting could take up.
> This was their response
> "Wordpress is fairly resource intensive. You may look into installing
> one of the various caching plugins, and do some research on the term
> wordpress performance optimization"
> 
> I did not know WP was resource intensive, it seems a short hand reply
> to me, if not a BS reply. However I would like some opinion on this
> please. I have about 300 visits per day on the server, and 1G of ram.
> Thanks
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708
New Orleans 1 (504) 322 3485

http://christopherross.ca
http://www.thisismyurl.com


From mailapera at gmail.com  Tue Sep 14 19:11:27 2010
From: mailapera at gmail.com (mailapera)
Date: Tue, 14 Sep 2010 21:11:27 +0200
Subject: [wp-hackers] Memory outages and wordpress
In-Reply-To: <80504B1F-28DD-4860-BD54-DE06BC56CA01@thisismyurl.com>
References: <AANLkTikkM+p7Nbyh96bhbzVTFkcuYYhgdoi6w-oqJxK6@mail.gmail.com>
	<80504B1F-28DD-4860-BD54-DE06BC56CA01@thisismyurl.com>
Message-ID: <AANLkTinAC1Vq2ozsxVp5XzcxKHh6xDtS9+YSAewhRc+V@mail.gmail.com>

@peter van der does Thanks I tried isolating the ip addresse, but they
change continuously

@vid luther thanks as I said it is a VPS - virtual private server, so
I agree with you

@christopher ross thanks I will look into the RSS caching



On Tue, Sep 14, 2010 at 9:07 PM, Christopher Ross <cross at thisismyurl.com> wrote:
> Recently I discovered that one of my blogs was serving 25,000 pages a day. The site itself was cached but the RSS feed wasn't cached, so the a page with the CPU weight of the homepage was loading 25k times a day ... that was causing massive memory issues.
>
> I offloaded my RSS feeds to Feedburner and forced the redirects in my .htaccess, now my sites are running smoothly.
>
> c.
>
>
> On 2010-09-14, at 3:27 PM, mailapera wrote:
>
>> After months of memory outages I installed a capcha plugin to reduce
>> the spam comment posting. The memory outages disappeared, so I
>> inquired my hosting (I have a vps) as I have no clue of what resources
>> intensive commenting could take up.
>> This was their response
>> "Wordpress is fairly resource intensive. You may look into installing
>> one of the various caching plugins, and do some research on the term
>> wordpress performance optimization"
>>
>> I did not know WP was resource intensive, it seems a short hand reply
>> to me, if not a BS reply. However I would like some opinion on this
>> please. I have about 300 visits per day on the server, and 1G of ram.
>> Thanks
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> __
>
> Christopher Ross
>
> Toronto ? ? ?1 (416) 840-5828
> Fredericton 1 (506) 474-2708
> New Orleans 1 (504) 322 3485
>
> http://christopherross.ca
> http://www.thisismyurl.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From louie at louiemccoy.com  Tue Sep 14 19:31:16 2010
From: louie at louiemccoy.com (Louis McCoy)
Date: Tue, 14 Sep 2010 15:31:16 -0400
Subject: [wp-hackers] current_page_ancestor class lost on Tertiary pages?
Message-ID: <AANLkTimjYTkGBGbv9S4EOfZa7goKVO3ZJgf81EBYmgZC@mail.gmail.com>

> How deep are these levels?  Can you be more specific about the overall
> menu structure or link to an actual example?

It's just the third level - I should have been more clear; it's not the menu
that is three levels deep, it's the page structure. So, this is the page
structure:
I. Foo
  A. Bar
    1. X1
    2. X2
...
    22. X22
  B. Saloon
  C. Tavern
II. Foo Fighers
III. More Foo

But this is the menu structure, since the menu by design doesn't go deeper
than two levels:
I. Foo
  A. Bar
  B. Saloon
  C. Tavern
II. Foo Fighters
II. More Foo

BUT, once I get to X1 / X22 etc. Foo loses the current_page_ancestor class.
Is this just because they're not a part of the menu structure? Shouldn't
Foo, being an ancestor of X1, still keep the current_page_ancestor class,
even if X1 isn't in the menu structure?

Hope I was clearer this time... :-)

-L

From dan at dansmart.co.uk  Tue Sep 14 21:11:22 2010
From: dan at dansmart.co.uk (Dan Smart)
Date: Tue, 14 Sep 2010 22:11:22 +0100
Subject: [wp-hackers] current_page_ancestor class lost on Tertiary pages?
In-Reply-To: <AANLkTimjYTkGBGbv9S4EOfZa7goKVO3ZJgf81EBYmgZC@mail.gmail.com>
References: <AANLkTimjYTkGBGbv9S4EOfZa7goKVO3ZJgf81EBYmgZC@mail.gmail.com>
Message-ID: <C0775FA0-7D28-4DA0-BE45-974DD7CAC93B@dansmart.co.uk>

The issue you have is that the menu doesn't look at the page hierarchy, only the menu hierarchy. So you need to add X1 to X22 to the menu, then the correct classes will appear.

Dan

Dan Smart - Web Developer
www.dansmart.co.uk

On 14 Sep 2010, at 20:31, Louis McCoy <louie at louiemccoy.com> wrote:

>> How deep are these levels?  Can you be more specific about the overall
>> menu structure or link to an actual example?
> 
> It's just the third level - I should have been more clear; it's not the menu
> that is three levels deep, it's the page structure. So, this is the page
> structure:
> I. Foo
>  A. Bar
>    1. X1
>    2. X2
> ...
>    22. X22
>  B. Saloon
>  C. Tavern
> II. Foo Fighers
> III. More Foo
> 
> But this is the menu structure, since the menu by design doesn't go deeper
> than two levels:
> I. Foo
>  A. Bar
>  B. Saloon
>  C. Tavern
> II. Foo Fighters
> II. More Foo
> 
> BUT, once I get to X1 / X22 etc. Foo loses the current_page_ancestor class.
> Is this just because they're not a part of the menu structure? Shouldn't
> Foo, being an ancestor of X1, still keep the current_page_ancestor class,
> even if X1 isn't in the menu structure?
> 
> Hope I was clearer this time... :-)
> 
> -L
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From louie at louiemccoy.com  Tue Sep 14 21:22:00 2010
From: louie at louiemccoy.com (Louis McCoy)
Date: Tue, 14 Sep 2010 17:22:00 -0400
Subject: [wp-hackers] current_page_ancestor class lost on Tertiary pages?
In-Reply-To: <C0775FA0-7D28-4DA0-BE45-974DD7CAC93B@dansmart.co.uk>
References: <AANLkTimjYTkGBGbv9S4EOfZa7goKVO3ZJgf81EBYmgZC@mail.gmail.com>
	<C0775FA0-7D28-4DA0-BE45-974DD7CAC93B@dansmart.co.uk>
Message-ID: <AANLkTi=w364psU7CkKaMbsvOe36dwu7tatyN2xzA0gfa@mail.gmail.com>

That's what I was afraid of.

The question, then, would be why have both current_page_ancestor and
current-menu-ancestor if it isn't looking at the page hierarchy anyway?
Seems redundant to me...

On Tue, Sep 14, 2010 at 5:11 PM, Dan Smart <dan at dansmart.co.uk> wrote:

> The issue you have is that the menu doesn't look at the page hierarchy,
> only the menu hierarchy. So you need to add X1 to X22 to the menu, then the
> correct classes will appear.
>
> Dan
>
> Dan Smart - Web Developer
> www.dansmart.co.uk
>
> On 14 Sep 2010, at 20:31, Louis McCoy <louie at louiemccoy.com> wrote:
>
> >> How deep are these levels?  Can you be more specific about the overall
> >> menu structure or link to an actual example?
> >
> > It's just the third level - I should have been more clear; it's not the
> menu
> > that is three levels deep, it's the page structure. So, this is the page
> > structure:
> > I. Foo
> >  A. Bar
> >    1. X1
> >    2. X2
> > ...
> >    22. X22
> >  B. Saloon
> >  C. Tavern
> > II. Foo Fighers
> > III. More Foo
> >
> > But this is the menu structure, since the menu by design doesn't go
> deeper
> > than two levels:
> > I. Foo
> >  A. Bar
> >  B. Saloon
> >  C. Tavern
> > II. Foo Fighters
> > II. More Foo
> >
> > BUT, once I get to X1 / X22 etc. Foo loses the current_page_ancestor
> class.
> > Is this just because they're not a part of the menu structure? Shouldn't
> > Foo, being an ancestor of X1, still keep the current_page_ancestor class,
> > even if X1 isn't in the menu structure?
> >
> > Hope I was clearer this time... :-)
> >
> > -L
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From kenburcham at gmail.com  Tue Sep 14 21:28:16 2010
From: kenburcham at gmail.com (Ken Burcham)
Date: Tue, 14 Sep 2010 14:28:16 -0700
Subject: [wp-hackers] adding an item to super admin menu
In-Reply-To: <C0775FA0-7D28-4DA0-BE45-974DD7CAC93B@dansmart.co.uk>
References: <AANLkTimjYTkGBGbv9S4EOfZa7goKVO3ZJgf81EBYmgZC@mail.gmail.com>
	<C0775FA0-7D28-4DA0-BE45-974DD7CAC93B@dansmart.co.uk>
Message-ID: <43BE727F-7E22-4DE1-930E-FEF5550A2F12@gmail.com>

Hi guys,

   I've done the usual quick looking around and don't see an answer to  
this immediately.  Can (and how) would I add an admin panel to the  
super admin panel?  We are working on a plug-in that will have some  
uber-settings for all sites (perfect for super-admin) and then other  
settings per blog that'll be an added admin panel in the settings  
panel.  But I don't see anywhere documented how to add to the super  
admin panel.

thanks!

ken.
  

From wp-hackers at nicolaskuttler.de  Tue Sep 14 21:36:30 2010
From: wp-hackers at nicolaskuttler.de (Nicolas Kuttler)
Date: Tue, 14 Sep 2010 23:36:30 +0200
Subject: [wp-hackers] adding an item to super admin menu
In-Reply-To: <43BE727F-7E22-4DE1-930E-FEF5550A2F12@gmail.com>
References: <AANLkTimjYTkGBGbv9S4EOfZa7goKVO3ZJgf81EBYmgZC@mail.gmail.com>
	<C0775FA0-7D28-4DA0-BE45-974DD7CAC93B@dansmart.co.uk>
	<43BE727F-7E22-4DE1-930E-FEF5550A2F12@gmail.com>
Message-ID: <20100914213630.GB22269@nicolaskuttler.de>

On Tue, Sep 14, 2010 at 02:28:16PM -0700, Ken Burcham wrote:
> Hi guys,
>
>   I've done the usual quick looking around and don't see an answer to  
> this immediately.  Can (and how) would I add an admin panel to the super 
> admin panel?  We are working on a plug-in that will have some  
> uber-settings for all sites (perfect for super-admin) and then other  
> settings per blog that'll be an added admin panel in the settings panel.  
> But I don't see anywhere documented how to add to the super admin panel.

http://codex.wordpress.org/Adding_Administration_Menus

add_submenu_page()

Nicolas

--
Nicolas Kuttler
wp at nkuttler.de

http://www.nkuttler.de
http://www.nicolaskuttler.de (deutsch)

From kenburcham at gmail.com  Tue Sep 14 22:14:31 2010
From: kenburcham at gmail.com (Ken Burcham)
Date: Tue, 14 Sep 2010 15:14:31 -0700
Subject: [wp-hackers] adding an item to super admin menu
In-Reply-To: <20100914213630.GB22269@nicolaskuttler.de>
References: <AANLkTimjYTkGBGbv9S4EOfZa7goKVO3ZJgf81EBYmgZC@mail.gmail.com>
	<C0775FA0-7D28-4DA0-BE45-974DD7CAC93B@dansmart.co.uk>
	<43BE727F-7E22-4DE1-930E-FEF5550A2F12@gmail.com>
	<20100914213630.GB22269@nicolaskuttler.de>
Message-ID: <AAA03E01-EAB1-4A28-ACD6-8AB654DFF878@gmail.com>

Ah ok.  So this worked:

add_submenu_page('ms-admin.php','Mailman','Mailman  
Config','administrator','something',array(&$this, 'mm_settings_page'));

I had to go find what page to hook to for the superadmin menu ('ms- 
admin.php').

Danke!

ken.


On Sep 14, 2010, at 2:36 PM, Nicolas Kuttler wrote:

> On Tue, Sep 14, 2010 at 02:28:16PM -0700, Ken Burcham wrote:
>> Hi guys,
>>
>>  I've done the usual quick looking around and don't see an answer to
>> this immediately.  Can (and how) would I add an admin panel to the  
>> super
>> admin panel?  We are working on a plug-in that will have some
>> uber-settings for all sites (perfect for super-admin) and then other
>> settings per blog that'll be an added admin panel in the settings  
>> panel.
>> But I don't see anywhere documented how to add to the super admin  
>> panel.
>
> http://codex.wordpress.org/Adding_Administration_Menus
>
> add_submenu_page()
>
> Nicolas
>
> --
> Nicolas Kuttler
> wp at nkuttler.de
>
> http://www.nkuttler.de
> http://www.nicolaskuttler.de (deutsch)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From CaptainN at unFocus.com  Tue Sep 14 22:54:48 2010
From: CaptainN at unFocus.com (Kevin Newman)
Date: Tue, 14 Sep 2010 18:54:48 -0400
Subject: [wp-hackers] Custom list of posts per user
Message-ID: <4C8FFD38.9020203@unFocus.com>

  Hi there,

I'm trying to create a plugin that will allow users to add any kind of 
post into a list that is associated with that user's account. I'd like 
to do this without relying on the addition of a table into MySQL (though 
that would probably be the easiest way to go).

Anyone know if that's been done before?

This kind of functionality would be useful for something like adding a 
product post-type to a cart (a list stored with the user) for example.

I had thought of using a hidden custom taxonomy, and filtering on that 
using either a hierarchical structure or associated data (doesn't seem 
possible). For hierarchical structure the idea is to add a top level 
term (or tag) for each user (based on their user id), then add any lists 
they create as children of that term - thereby limitting that term list 
to that user (and allowing for the admin to monitor and edit these 
lists). I haven't been able to find the necessary actions or filters to 
make that happen (I'd need something like an action for 'add_term' I'd 
guess).

Any help is appreciated!

Thanks,

Kevin N



From mikeschinkel at newclarity.net  Tue Sep 14 23:10:10 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 14 Sep 2010 19:10:10 -0400
Subject: [wp-hackers] Custom list of posts per user
In-Reply-To: <4C8FFD38.9020203@unFocus.com>
References: <4C8FFD38.9020203@unFocus.com>
Message-ID: <7149608C-D96E-4A61-BDCD-E86940919716@newclarity.net>

On Sep 14, 2010, at 6:54 PM, Kevin Newman wrote:
> I'm trying to create a plugin that will allow users to add any kind of post into a list that is associated with that user's account. I'd like to do this without relying on the addition of a table into MySQL (though that would probably be the easiest way to go).
> 
> Anyone know if that's been done before?
> 
> This kind of functionality would be useful for something like adding a product post-type to a cart (a list stored with the user) for example.
> 
> I had thought of using a hidden custom taxonomy, and filtering on that using either a hierarchical structure or associated data (doesn't seem possible). For hierarchical structure the idea is to add a top level term (or tag) for each user (based on their user id), then add any lists they create as children of that term - thereby limitting that term list to that user (and allowing for the admin to monitor and edit these lists). I haven't been able to find the necessary actions or filters to make that happen (I'd need something like an action for 'add_term' I'd guess).

Your hidden custom taxonomy is definitely creative and you might be able to get it to work but I fear you'd see many compatibility trouble with it than you know with other plugins are unaware of your custom usage on taxonomy.

One option I'm sure you've considered is to add an array value to wp_postmeta.  Of course that is relationally horrible and you can't run JOIN queries using foreign keys in serialized arrays so I'd hope nobody would do that in a plugin.

IMO the best option is to add a table (and I loathe adding tables) since this is a type of relationship that simply can't be robustly simulated using the current tables in WordPress core.  I proposed[1] adding a post-to-post relationships table to core but the proposed table could just as easily do double duty for post-to-user as well.

-Mike
[1] http://core.trac.wordpress.org/ticket/14513

From austin at ilfilosofo.com  Tue Sep 14 23:39:09 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Tue, 14 Sep 2010 18:39:09 -0500
Subject: [wp-hackers] current_page_ancestor class lost on Tertiary pages?
In-Reply-To: <AANLkTi=w364psU7CkKaMbsvOe36dwu7tatyN2xzA0gfa@mail.gmail.com>
References: <AANLkTimjYTkGBGbv9S4EOfZa7goKVO3ZJgf81EBYmgZC@mail.gmail.com>
	<C0775FA0-7D28-4DA0-BE45-974DD7CAC93B@dansmart.co.uk>
	<AANLkTi=w364psU7CkKaMbsvOe36dwu7tatyN2xzA0gfa@mail.gmail.com>
Message-ID: <AANLkTimA4caT-z60ZMCnJAZ+KZwCE_Vq6M=Pu+cgxkFJ@mail.gmail.com>

On Tue, Sep 14, 2010 at 4:22 PM, Louis McCoy <louie at louiemccoy.com> wrote:
> That's what I was afraid of.
>
> The question, then, would be why have both current_page_ancestor and
> current-menu-ancestor if it isn't looking at the page hierarchy anyway?
> Seems redundant to me...

It's confusing, but current_page_ancestor (underscores) is an alias
for current-menu-ancestor, for backwards-compatibility with
wp_nav_menu().  It reflects the structure of the *menu*, not the pages
themselves.

In contrast, current-page-ancestor (hyphens) is the class assigned to
a page that is the actual ancestor---as a page, not a menu item---of
the current page.  So it reflects the structure of the *pages", not
the menu items.

From andrew at graymerica.com  Tue Sep 14 23:50:53 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Tue, 14 Sep 2010 19:50:53 -0400
Subject: [wp-hackers]  Custom list of posts per user
Message-ID: <20712824-67F6-4540-89E5-6AEA59AF921F@graymerica.com>

We used http://www.kriesi.at/archives/wordpress-plugin-my-favorite-posts

And heavily hacked it to make a saved post list for Hip2save.com. You can use the login test and pass wphackers to try it out without registering, but it does not show up with out being logged in. We got over ruled by the client on most of the UI and don't get me started on the lemon/lemonaide add buttons.  but you can see how you could do it by using the plugin as the base.

Out of the box the plugin does all the add / remove stuff pretty well.

It uses a database to store the list.

There is also http://wordpress.org/extend/plugins/wp-favorite-posts/

I agree that the extra DB table is probably the best approach and as long as you get ride of it on uninstall, I do not see the issue with adding it.

Andrew



From wp at andrewnacin.com  Tue Sep 14 23:51:33 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 14 Sep 2010 19:51:33 -0400
Subject: [wp-hackers] current_page_ancestor class lost on Tertiary pages?
In-Reply-To: <AANLkTimA4caT-z60ZMCnJAZ+KZwCE_Vq6M=Pu+cgxkFJ@mail.gmail.com>
References: <AANLkTimjYTkGBGbv9S4EOfZa7goKVO3ZJgf81EBYmgZC@mail.gmail.com>
	<C0775FA0-7D28-4DA0-BE45-974DD7CAC93B@dansmart.co.uk>
	<AANLkTi=w364psU7CkKaMbsvOe36dwu7tatyN2xzA0gfa@mail.gmail.com>
	<AANLkTimA4caT-z60ZMCnJAZ+KZwCE_Vq6M=Pu+cgxkFJ@mail.gmail.com>
Message-ID: <AANLkTikELR35YGAOL5g=96TFT6dyvjiCM_AjSE=twxZY@mail.gmail.com>

On Tue, Sep 14, 2010 at 7:39 PM, Austin Matzko <austin at ilfilosofo.com>wrote:
>
> It's confusing, but current_page_ancestor (underscores) is an alias
> for current-menu-ancestor, for backwards-compatibility with
> wp_nav_menu().


To clarify, Austin is referring to wp_page_menu() here.

From austin at ilfilosofo.com  Tue Sep 14 23:54:39 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Tue, 14 Sep 2010 18:54:39 -0500
Subject: [wp-hackers] current_page_ancestor class lost on Tertiary pages?
In-Reply-To: <AANLkTikELR35YGAOL5g=96TFT6dyvjiCM_AjSE=twxZY@mail.gmail.com>
References: <AANLkTimjYTkGBGbv9S4EOfZa7goKVO3ZJgf81EBYmgZC@mail.gmail.com>
	<C0775FA0-7D28-4DA0-BE45-974DD7CAC93B@dansmart.co.uk>
	<AANLkTi=w364psU7CkKaMbsvOe36dwu7tatyN2xzA0gfa@mail.gmail.com>
	<AANLkTimA4caT-z60ZMCnJAZ+KZwCE_Vq6M=Pu+cgxkFJ@mail.gmail.com>
	<AANLkTikELR35YGAOL5g=96TFT6dyvjiCM_AjSE=twxZY@mail.gmail.com>
Message-ID: <AANLkTinOH0Se-KJGqfbcuRJFqnYY7sg3dyP_Jdw0YS32@mail.gmail.com>

On Tue, Sep 14, 2010 at 6:51 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> On Tue, Sep 14, 2010 at 7:39 PM, Austin Matzko <austin at ilfilosofo.com>wrote:
>>
>> It's confusing, but current_page_ancestor (underscores) is an alias
>> for current-menu-ancestor, for backwards-compatibility with
>> wp_nav_menu().
>
> To clarify, Austin is referring to wp_page_menu() here.

Whoops!  Thanks for catching that; current_page_ancestor is
backward-compatible with *wp_page_menu()*.

From dougal at gunters.org  Wed Sep 15 00:50:23 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Tue, 14 Sep 2010 20:50:23 -0400
Subject: [wp-hackers] Custom list of posts per user
In-Reply-To: <4C8FFD38.9020203@unFocus.com>
References: <4C8FFD38.9020203@unFocus.com>
Message-ID: <4C90184F.7040408@gunters.org>

  On Sep 14 2010 6:54 PM, Kevin Newman wrote:
>  Hi there,
>
> I'm trying to create a plugin that will allow users to add any kind of 
> post into a list that is associated with that user's account. I'd like 
> to do this without relying on the addition of a table into MySQL 
> (though that would probably be the easiest way to go).
>

Is there some particular reason you don't want to just stick the data in 
user_meta? Anytime I see the phrase "per user", that's the first place 
I'd think of putting it.

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From peter at avirtualhome.com  Wed Sep 15 01:26:04 2010
From: peter at avirtualhome.com (Peter van der Does)
Date: Tue, 14 Sep 2010 21:26:04 -0400
Subject: [wp-hackers] Memory outages and wordpress
In-Reply-To: <2FE427C5-08A3-4D09-9730-8FD0CBB6EE59@zippykid.com>
References: <AANLkTikkM+p7Nbyh96bhbzVTFkcuYYhgdoi6w-oqJxK6@mail.gmail.com>
	<20100914145120.14bbb151@montecarlo.grandprix.int>
	<2FE427C5-08A3-4D09-9730-8FD0CBB6EE59@zippykid.com>
Message-ID: <20100914212604.258cfbc3@montecarlo.grandprix.int>

On Tue, 14 Sep 2010 13:54:05 -0500
Vid Luther <vid at zippykid.com> wrote:

> if you're on a shared host, it may not be your site, but other
> people's sites that are causing the server to go out of memory. 300
> visits/day shouldn't take a system with 1GB of ram out of memory,
> unless you have some really bad programming, or you share a server
> with a website that's getting 300/second. 
> 
> 
> 
In my case it wasn't a memory issue. The PHP process to took much time
away. Sort of like a DDOS attack, I fixed it myself by comparing my
visitors in the apache log with a spam database and blocking access
for known spammers. I got out of trouble within a few days.

-- 
Peter van der Does

GPG key: E77E8E98

IRC: Ganseki on irc.freenode.net
Twitter: @petervanderdoes

WordPress Plugin Developer
Blog: http://blog.avirtualhome.com
Forums: http://forums.avirtualhome.com
Twitter: @avhsoftware

From mikeschinkel at newclarity.net  Wed Sep 15 01:42:47 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 14 Sep 2010 21:42:47 -0400
Subject: [wp-hackers] Is there no get_post_attachments() function(ality)?
Message-ID: <7D9A7BDA-873E-4191-808D-5AE2B909B1E1@newclarity.net>

I just had a need to load a list of attached photos for a post but try as I might I couldn't find a function to retrieve them, a function I would expect to be called something like get_post_attachments().

I'm emailing to see if I overlooked something in core; did I miss a function to do what I was looking for?

-Mike

From spencer.gurnk at gmail.com  Wed Sep 15 01:48:45 2010
From: spencer.gurnk at gmail.com (Spencer)
Date: Tue, 14 Sep 2010 21:48:45 -0400
Subject: [wp-hackers] Is there no get_post_attachments() function(ality)?
In-Reply-To: <7D9A7BDA-873E-4191-808D-5AE2B909B1E1@newclarity.net>
References: <7D9A7BDA-873E-4191-808D-5AE2B909B1E1@newclarity.net>
Message-ID: <AANLkTim3o0uFbL3Lis7yzjaxDAQ0Jj4RN-+SiwzVXd48@mail.gmail.com>

Check out get_posts(), if you set post_type as attachment, you can
grab them all.

http://codex.wordpress.org/Template_Tags/get_posts#Show_attachments_for_the_current_post

On Tue, Sep 14, 2010 at 9:42 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> I just had a need to load a list of attached photos for a post but try as I might I couldn't find a function to retrieve them, a function I would expect to be called something like get_post_attachments().
>
> I'm emailing to see if I overlooked something in core; did I miss a function to do what I was looking for?
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From austin at ilfilosofo.com  Wed Sep 15 01:48:47 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Tue, 14 Sep 2010 20:48:47 -0500
Subject: [wp-hackers] Is there no get_post_attachments() function(ality)?
In-Reply-To: <7D9A7BDA-873E-4191-808D-5AE2B909B1E1@newclarity.net>
References: <7D9A7BDA-873E-4191-808D-5AE2B909B1E1@newclarity.net>
Message-ID: <AANLkTimibqAb4gdVHnZY05H2GO-JGh71EXJp7-z2eiFb@mail.gmail.com>

On Tue, Sep 14, 2010 at 8:42 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> I just had a need to load a list of attached photos for a post but try as I might I couldn't find a function to retrieve them, a function I would expect to be called something like get_post_attachments().
>
> I'm emailing to see if I overlooked something in core; did I miss a function to do what I was looking for?

How about get_children()?

From paul at codehooligans.com  Wed Sep 15 01:49:29 2010
From: paul at codehooligans.com (Paul)
Date: Tue, 14 Sep 2010 21:49:29 -0400
Subject: [wp-hackers] Is there no get_post_attachments() function(ality)?
In-Reply-To: <7D9A7BDA-873E-4191-808D-5AE2B909B1E1@newclarity.net>
References: <7D9A7BDA-873E-4191-808D-5AE2B909B1E1@newclarity.net>
Message-ID: <4C02988D-FD4D-42AB-827B-2BE2E1ECB15E@codehooligans.com>


On Sep 14, 2010, at 9:42 PM, Mike Schinkel wrote:

> I just had a need to load a list of attached photos for a post but try as I might I couldn't find a function to retrieve them, a function I would expect to be called something like get_post_attachments().
> 

Well, I generally use get_children http://codex.wordpress.org/Function_Reference/get_children or get_posts with all the needed arguments. 

P-


From mpretty at voceconnect.com  Wed Sep 15 01:50:11 2010
From: mpretty at voceconnect.com (Michael Pretty)
Date: Tue, 14 Sep 2010 21:50:11 -0400
Subject: [wp-hackers] Is there no get_post_attachments() function(ality)?
In-Reply-To: <AANLkTimibqAb4gdVHnZY05H2GO-JGh71EXJp7-z2eiFb@mail.gmail.com>
References: <7D9A7BDA-873E-4191-808D-5AE2B909B1E1@newclarity.net>
	<AANLkTimibqAb4gdVHnZY05H2GO-JGh71EXJp7-z2eiFb@mail.gmail.com>
Message-ID: <4C902653.8050009@voceconnect.com>

  This is probably your best bet.

get_children( array( 'post_parent' => $post_id, 'post_type' => 
'attachment', 'orderby' => 'menu_order ASC, ID', 'order' => 'DESC') );

On 9/14/10 9:48 PM, Austin Matzko wrote:
> On Tue, Sep 14, 2010 at 8:42 PM, Mike Schinkel
> <mikeschinkel at newclarity.net>  wrote:
>> I just had a need to load a list of attached photos for a post but try as I might I couldn't find a function to retrieve them, a function I would expect to be called something like get_post_attachments().
>>
>> I'm emailing to see if I overlooked something in core; did I miss a function to do what I was looking for?
> How about get_children()?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Wed Sep 15 02:28:44 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 14 Sep 2010 22:28:44 -0400
Subject: [wp-hackers] Is there no get_post_attachments() function(ality)?
In-Reply-To: <4C902653.8050009@voceconnect.com>
References: <7D9A7BDA-873E-4191-808D-5AE2B909B1E1@newclarity.net>
	<AANLkTimibqAb4gdVHnZY05H2GO-JGh71EXJp7-z2eiFb@mail.gmail.com>
	<4C902653.8050009@voceconnect.com>
Message-ID: <0567AE2D-949E-4004-8C57-4599C8731E9B@newclarity.net>

Hey Austin, Spencer, Paul and Michael:

Wow, thanks for the rapid response all.  

Clearly I just had a mental block on that one.  I did a regex search across the codebase using "SELECT.*?WHERE.*?post_parent" and nothing came up.  I missed get_children() because it delegates to get_posts() and I don't know why I didn't thing about querying that way. It's so obvious now, doh!

Thanks again.

-Mike

On Sep 14, 2010, at 9:50 PM, Michael Pretty wrote:

> This is probably your best bet.
> 
> get_children( array( 'post_parent' => $post_id, 'post_type' => 'attachment', 'orderby' => 'menu_order ASC, ID', 'order' => 'DESC') );
> 
> On 9/14/10 9:48 PM, Austin Matzko wrote:
>> On Tue, Sep 14, 2010 at 8:42 PM, Mike Schinkel
>> <mikeschinkel at newclarity.net>  wrote:
>>> I just had a need to load a list of attached photos for a post but try as I might I couldn't find a function to retrieve them, a function I would expect to be called something like get_post_attachments().
>>> 
>>> I'm emailing to see if I overlooked something in core; did I miss a function to do what I was looking for?
>> How about get_children()?
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From list at expost.org  Wed Sep 15 03:29:57 2010
From: list at expost.org (Raj)
Date: Wed, 15 Sep 2010 08:59:57 +0530
Subject: [wp-hackers] Anything like a Plugin Framework?
Message-ID: <000601cb5486$49474730$dbd5d590$@expost.org>

Has anything been created like a plug-in framework? You know like:

 

1.       A set of functions that will be very useful for plugin development
and those that couldn't get into the core.

2.       Pre-defined init function

3.       Predefined sample admin interfaces

4.       Pre-defined sample cron jobs

5.       Pre-defined sample content-types (I know I am pushing it J)

6.       Pre-defined sample post meta-boxes

7.       Pre-defined sample widgets

8.       And so on.

 

 

 


From frank at bueltge.de  Wed Sep 15 06:49:21 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Wed, 15 Sep 2010 08:49:21 +0200
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <000601cb5486$49474730$dbd5d590$@expost.org>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
Message-ID: <AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>

It give a different and many solutions for this idea, but not an central
solution.
I think this is a great idea, espacilly for the markup on options-pages, but
i think - this must development from a central point, maybe the core or a
core plugin.

On Wed, Sep 15, 2010 at 5:29 AM, Raj <list at expost.org> wrote:

> Has anything been created like a plug-in framework? You know like:
>
>
>
> 1.       A set of functions that will be very useful for plugin development
> and those that couldn't get into the core.
>
> 2.       Pre-defined init function
>
> 3.       Predefined sample admin interfaces
>
> 4.       Pre-defined sample cron jobs
>
> 5.       Pre-defined sample content-types (I know I am pushing it J)
>
> 6.       Pre-defined sample post meta-boxes
>
> 7.       Pre-defined sample widgets
>
> 8.       And so on.
>
>
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From erisds at gmail.com  Wed Sep 15 07:27:33 2010
From: erisds at gmail.com (ErisDS)
Date: Wed, 15 Sep 2010 08:27:33 +0100
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
	<AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>
Message-ID: <AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>

I have written a plugin framework which does 2, 3, 4, & 7.

With 1 I'm not sure what you mean as surely that's what 2,3,4,5,6,7 of your
list are?
5 & 6 could be added quite easily.

It's not been released to the public as it has only been tested on one or
two hosting setups, however I use it all the time for developing custom
project plugins.

Get in touch if you're interested.

Eris

On Wed, Sep 15, 2010 at 7:49 AM, Frank Bueltge <frank at bueltge.de> wrote:

> It give a different and many solutions for this idea, but not an central
> solution.
> I think this is a great idea, espacilly for the markup on options-pages,
> but
> i think - this must development from a central point, maybe the core or a
> core plugin.
>
> On Wed, Sep 15, 2010 at 5:29 AM, Raj <list at expost.org> wrote:
>
> > Has anything been created like a plug-in framework? You know like:
> >
> >
> >
> > 1.       A set of functions that will be very useful for plugin
> development
> > and those that couldn't get into the core.
> >
> > 2.       Pre-defined init function
> >
> > 3.       Predefined sample admin interfaces
> >
> > 4.       Pre-defined sample cron jobs
> >
> > 5.       Pre-defined sample content-types (I know I am pushing it J)
> >
> > 6.       Pre-defined sample post meta-boxes
> >
> > 7.       Pre-defined sample widgets
> >
> > 8.       And so on.
> >
> >
> >
> >
> >
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From me at piyushmishra.com  Wed Sep 15 08:16:27 2010
From: me at piyushmishra.com (Piyush Mishra)
Date: Wed, 15 Sep 2010 13:46:27 +0530
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
	<AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>
	<AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>
Message-ID: <AANLkTik+vPcJr4ira6VgmMkd2ObWyUmDdxAZe-0ouOz-@mail.gmail.com>

I am interested too

On Wed, Sep 15, 2010 at 12:57 PM, ErisDS <erisds at gmail.com> wrote:

> I have written a plugin framework which does 2, 3, 4, & 7.
>
> With 1 I'm not sure what you mean as surely that's what 2,3,4,5,6,7 of your
> list are?
> 5 & 6 could be added quite easily.
>
> It's not been released to the public as it has only been tested on one or
> two hosting setups, however I use it all the time for developing custom
> project plugins.
>
> Get in touch if you're interested.
>
> Eris
>
> On Wed, Sep 15, 2010 at 7:49 AM, Frank Bueltge <frank at bueltge.de> wrote:
>
> > It give a different and many solutions for this idea, but not an central
> > solution.
> > I think this is a great idea, espacilly for the markup on options-pages,
> > but
> > i think - this must development from a central point, maybe the core or a
> > core plugin.
> >
> > On Wed, Sep 15, 2010 at 5:29 AM, Raj <list at expost.org> wrote:
> >
> > > Has anything been created like a plug-in framework? You know like:
> > >
> > >
> > >
> > > 1.       A set of functions that will be very useful for plugin
> > development
> > > and those that couldn't get into the core.
> > >
> > > 2.       Pre-defined init function
> > >
> > > 3.       Predefined sample admin interfaces
> > >
> > > 4.       Pre-defined sample cron jobs
> > >
> > > 5.       Pre-defined sample content-types (I know I am pushing it J)
> > >
> > > 6.       Pre-defined sample post meta-boxes
> > >
> > > 7.       Pre-defined sample widgets
> > >
> > > 8.       And so on.
> > >
> > >
> > >
> > >
> > >
> > >
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards
Piyush Mishra
http://www.piyushmishra.com/
Life's Short, Live it to the maximum

From hempsworth at gmail.com  Wed Sep 15 08:23:21 2010
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Wed, 15 Sep 2010 09:23:21 +0100
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <AANLkTik+vPcJr4ira6VgmMkd2ObWyUmDdxAZe-0ouOz-@mail.gmail.com>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
	<AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>
	<AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>
	<AANLkTik+vPcJr4ira6VgmMkd2ObWyUmDdxAZe-0ouOz-@mail.gmail.com>
Message-ID: <AANLkTimw8ceJ1+o9s8iqK+F7s1Rm70nn0c5LOpp1USR9@mail.gmail.com>

I'd certainly be interested.

-- Alex


On Wed, Sep 15, 2010 at 9:16 AM, Piyush Mishra <me at piyushmishra.com> wrote:

> I am interested too
>
> On Wed, Sep 15, 2010 at 12:57 PM, ErisDS <erisds at gmail.com> wrote:
>
> > I have written a plugin framework which does 2, 3, 4, & 7.
> >
> > With 1 I'm not sure what you mean as surely that's what 2,3,4,5,6,7 of
> your
> > list are?
> > 5 & 6 could be added quite easily.
> >
> > It's not been released to the public as it has only been tested on one or
> > two hosting setups, however I use it all the time for developing custom
> > project plugins.
> >
> > Get in touch if you're interested.
> >
> > Eris
> >
> > On Wed, Sep 15, 2010 at 7:49 AM, Frank Bueltge <frank at bueltge.de> wrote:
> >
> > > It give a different and many solutions for this idea, but not an
> central
> > > solution.
> > > I think this is a great idea, espacilly for the markup on
> options-pages,
> > > but
> > > i think - this must development from a central point, maybe the core or
> a
> > > core plugin.
> > >
> > > On Wed, Sep 15, 2010 at 5:29 AM, Raj <list at expost.org> wrote:
> > >
> > > > Has anything been created like a plug-in framework? You know like:
> > > >
> > > >
> > > >
> > > > 1.       A set of functions that will be very useful for plugin
> > > development
> > > > and those that couldn't get into the core.
> > > >
> > > > 2.       Pre-defined init function
> > > >
> > > > 3.       Predefined sample admin interfaces
> > > >
> > > > 4.       Pre-defined sample cron jobs
> > > >
> > > > 5.       Pre-defined sample content-types (I know I am pushing it J)
> > > >
> > > > 6.       Pre-defined sample post meta-boxes
> > > >
> > > > 7.       Pre-defined sample widgets
> > > >
> > > > 8.       And so on.
> > > >
> > > >
> > > >
> > > >
> > > >
> > > >
> > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Regards
> Piyush Mishra
> http://www.piyushmishra.com/
> Life's Short, Live it to the maximum
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From andycharrington at gmail.com  Wed Sep 15 08:27:17 2010
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Wed, 15 Sep 2010 09:27:17 +0100
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <AANLkTimw8ceJ1+o9s8iqK+F7s1Rm70nn0c5LOpp1USR9@mail.gmail.com>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
	<AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>
	<AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>
	<AANLkTik+vPcJr4ira6VgmMkd2ObWyUmDdxAZe-0ouOz-@mail.gmail.com>
	<AANLkTimw8ceJ1+o9s8iqK+F7s1Rm70nn0c5LOpp1USR9@mail.gmail.com>
Message-ID: <30D72D97-9B8B-4290-994D-535548F2977B@gmail.com>

I'd second that!

I make websites. 
jealousdesigns.co.uk

Sent from my iPhone

On 15 Sep 2010, at 09:23, Alex Hempton-Smith <hempsworth at gmail.com> wrote:

> I'd certainly be interested.
> 
> -- Alex
> 
> 
> On Wed, Sep 15, 2010 at 9:16 AM, Piyush Mishra <me at piyushmishra.com> wrote:
> 
>> I am interested too
>> 
>> On Wed, Sep 15, 2010 at 12:57 PM, ErisDS <erisds at gmail.com> wrote:
>> 
>>> I have written a plugin framework which does 2, 3, 4, & 7.
>>> 
>>> With 1 I'm not sure what you mean as surely that's what 2,3,4,5,6,7 of
>> your
>>> list are?
>>> 5 & 6 could be added quite easily.
>>> 
>>> It's not been released to the public as it has only been tested on one or
>>> two hosting setups, however I use it all the time for developing custom
>>> project plugins.
>>> 
>>> Get in touch if you're interested.
>>> 
>>> Eris
>>> 
>>> On Wed, Sep 15, 2010 at 7:49 AM, Frank Bueltge <frank at bueltge.de> wrote:
>>> 
>>>> It give a different and many solutions for this idea, but not an
>> central
>>>> solution.
>>>> I think this is a great idea, espacilly for the markup on
>> options-pages,
>>>> but
>>>> i think - this must development from a central point, maybe the core or
>> a
>>>> core plugin.
>>>> 
>>>> On Wed, Sep 15, 2010 at 5:29 AM, Raj <list at expost.org> wrote:
>>>> 
>>>>> Has anything been created like a plug-in framework? You know like:
>>>>> 
>>>>> 
>>>>> 
>>>>> 1.       A set of functions that will be very useful for plugin
>>>> development
>>>>> and those that couldn't get into the core.
>>>>> 
>>>>> 2.       Pre-defined init function
>>>>> 
>>>>> 3.       Predefined sample admin interfaces
>>>>> 
>>>>> 4.       Pre-defined sample cron jobs
>>>>> 
>>>>> 5.       Pre-defined sample content-types (I know I am pushing it J)
>>>>> 
>>>>> 6.       Pre-defined sample post meta-boxes
>>>>> 
>>>>> 7.       Pre-defined sample widgets
>>>>> 
>>>>> 8.       And so on.
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> 
>> 
>> 
>> --
>> Regards
>> Piyush Mishra
>> http://www.piyushmishra.com/
>> Life's Short, Live it to the maximum
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From frank at bueltge.de  Wed Sep 15 08:45:07 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Wed, 15 Sep 2010 10:45:07 +0200
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <30D72D97-9B8B-4290-994D-535548F2977B@gmail.com>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
	<AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>
	<AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>
	<AANLkTik+vPcJr4ira6VgmMkd2ObWyUmDdxAZe-0ouOz-@mail.gmail.com>
	<AANLkTimw8ceJ1+o9s8iqK+F7s1Rm70nn0c5LOpp1USR9@mail.gmail.com>
	<30D72D97-9B8B-4290-994D-535548F2977B@gmail.com>
Message-ID: <AANLkTik+kgd4K7c8226XFA-1PA1L8YvB_PqJY_Nfz+GC@mail.gmail.com>

please see, i think it is important the framework come from a central point.
http://scribu.net/wordpress/scb-framework
http://code.google.com/p/wordpress-plugin-framework/
http://github.com/SirPepe/WP-Admin-Ants
and many others

please see also the last post from ozh, the gui is the biggest part of
writing plugins :(
http://planetozh.com/blog/2010/09/infographics-the-process-to-make-wordpress-plugins/

I think it is important, that we become and easy way to include markup for
options pages.

http://bueltge.de : frank at bueltge.de
http://wpengineer.com : frank at wpengineer.com
http://inpsyde.com


On Wed, Sep 15, 2010 at 10:27 AM, Andy Charrington-Wilden <
andycharrington at gmail.com> wrote:

> I'd second that!
>
> I make websites.
> jealousdesigns.co.uk
>
> Sent from my iPhone
>
> On 15 Sep 2010, at 09:23, Alex Hempton-Smith <hempsworth at gmail.com> wrote:
>
> > I'd certainly be interested.
> >
> > -- Alex
> >
> >
> > On Wed, Sep 15, 2010 at 9:16 AM, Piyush Mishra <me at piyushmishra.com>
> wrote:
> >
> >> I am interested too
> >>
> >> On Wed, Sep 15, 2010 at 12:57 PM, ErisDS <erisds at gmail.com> wrote:
> >>
> >>> I have written a plugin framework which does 2, 3, 4, & 7.
> >>>
> >>> With 1 I'm not sure what you mean as surely that's what 2,3,4,5,6,7 of
> >> your
> >>> list are?
> >>> 5 & 6 could be added quite easily.
> >>>
> >>> It's not been released to the public as it has only been tested on one
> or
> >>> two hosting setups, however I use it all the time for developing custom
> >>> project plugins.
> >>>
> >>> Get in touch if you're interested.
> >>>
> >>> Eris
> >>>
> >>> On Wed, Sep 15, 2010 at 7:49 AM, Frank Bueltge <frank at bueltge.de>
> wrote:
> >>>
> >>>> It give a different and many solutions for this idea, but not an
> >> central
> >>>> solution.
> >>>> I think this is a great idea, espacilly for the markup on
> >> options-pages,
> >>>> but
> >>>> i think - this must development from a central point, maybe the core
> or
> >> a
> >>>> core plugin.
> >>>>
> >>>> On Wed, Sep 15, 2010 at 5:29 AM, Raj <list at expost.org> wrote:
> >>>>
> >>>>> Has anything been created like a plug-in framework? You know like:
> >>>>>
> >>>>>
> >>>>>
> >>>>> 1.       A set of functions that will be very useful for plugin
> >>>> development
> >>>>> and those that couldn't get into the core.
> >>>>>
> >>>>> 2.       Pre-defined init function
> >>>>>
> >>>>> 3.       Predefined sample admin interfaces
> >>>>>
> >>>>> 4.       Pre-defined sample cron jobs
> >>>>>
> >>>>> 5.       Pre-defined sample content-types (I know I am pushing it J)
> >>>>>
> >>>>> 6.       Pre-defined sample post meta-boxes
> >>>>>
> >>>>> 7.       Pre-defined sample widgets
> >>>>>
> >>>>> 8.       And so on.
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>> _______________________________________________
> >>>>> wp-hackers mailing list
> >>>>> wp-hackers at lists.automattic.com
> >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >>
> >>
> >>
> >> --
> >> Regards
> >> Piyush Mishra
> >> http://www.piyushmishra.com/
> >> Life's Short, Live it to the maximum
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp-hackers at nicolaskuttler.de  Wed Sep 15 09:02:29 2010
From: wp-hackers at nicolaskuttler.de (Nicolas Kuttler)
Date: Wed, 15 Sep 2010 11:02:29 +0200
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <000601cb5486$49474730$dbd5d590$@expost.org>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
Message-ID: <20100915090229.GC22269@nicolaskuttler.de>

On Wed, Sep 15, 2010 at 08:59:57AM +0530, Raj wrote:
> Has anything been created like a plug-in framework? You know like:

It sounds to me like you want code examples, not really a framework.
I've read several plugins by wp developers and suggest you read

1. http://wordpress.org/extend/plugins/shadowbox-js/
Clean overall code structure and very well documented.

2. http://wordpress.org/extend/plugins/scb-framework/
Good code and documentation, plus it's a plugin framework.

> 2.       Pre-defined init function

This is really too plugin-specific.

> 5.       Pre-defined sample content-types (I know I am pushing it J)
>
> 6.       Pre-defined sample post meta-boxes

I don't think there's really need for that, there are excellent
tutorials, just google them. Not sure about the codex.

> 7.       Pre-defined sample widgets

Hm, is something missing on http://codex.wordpress.org/Widgets_API ?

Nicolas

p.s. It's a little sad how badly (not at all) documented many plugins are,
yes core devs, I'm looking at yours :-/

--
Nicolas Kuttler
wp at nkuttler.de

http://www.nkuttler.de
http://www.nicolaskuttler.de (deutsch)

From mailapera at gmail.com  Wed Sep 15 09:26:05 2010
From: mailapera at gmail.com (mailapera)
Date: Wed, 15 Sep 2010 11:26:05 +0200
Subject: [wp-hackers] Memory outages and wordpress
In-Reply-To: <20100914212604.258cfbc3@montecarlo.grandprix.int>
References: <AANLkTikkM+p7Nbyh96bhbzVTFkcuYYhgdoi6w-oqJxK6@mail.gmail.com>
	<20100914145120.14bbb151@montecarlo.grandprix.int>
	<2FE427C5-08A3-4D09-9730-8FD0CBB6EE59@zippykid.com>
	<20100914212604.258cfbc3@montecarlo.grandprix.int>
Message-ID: <AANLkTi=ordpNATTueU5Q3nenPOb8sZ1yjtAUg1RYzXu8@mail.gmail.com>

Thanks Peter, can you tell me what spam database you used? I checked a
few but all the weird IPs in my logs return no issues with those
databases. At times I get two or three hundred requests (one per
second or more) from the same IP, all to URLs that return a 404, which
leads me into thinking it is a bot blindly trying a door into the
system. However, as I said, those IPs are not reported as doing
illicit actions. Maybe you used a better DB to check.



On Wed, Sep 15, 2010 at 3:26 AM, Peter van der Does
<peter at avirtualhome.com> wrote:
> On Tue, 14 Sep 2010 13:54:05 -0500
> Vid Luther <vid at zippykid.com> wrote:
>
>> if you're on a shared host, it may not be your site, but other
>> people's sites that are causing the server to go out of memory. 300
>> visits/day shouldn't take a system with 1GB of ram out of memory,
>> unless you have some really bad programming, or you share a server
>> with a website that's getting 300/second.
>>
>>
>>
> In my case it wasn't a memory issue. The PHP process to took much time
> away. Sort of like a DDOS attack, I fixed it myself by comparing my
> visitors in the apache log with a spam database and blocking access
> for known spammers. I got out of trouble within a few days.
>
> --
> Peter van der Does
>
> GPG key: E77E8E98
>
> IRC: Ganseki on irc.freenode.net
> Twitter: @petervanderdoes
>
> WordPress Plugin Developer
> Blog: http://blog.avirtualhome.com
> Forums: http://forums.avirtualhome.com
> Twitter: @avhsoftware
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Wed Sep 15 10:32:53 2010
From: scribu at gmail.com (scribu)
Date: Wed, 15 Sep 2010 13:32:53 +0300
Subject: [wp-hackers] Custom list of posts per user
In-Reply-To: <7149608C-D96E-4A61-BDCD-E86940919716@newclarity.net>
References: <4C8FFD38.9020203@unFocus.com>
	<7149608C-D96E-4A61-BDCD-E86940919716@newclarity.net>
Message-ID: <AANLkTi=sQ1H=zr_3m5BQQy1HeYB2fy0sPyF0pyRVSXdJ@mail.gmail.com>

On Wed, Sep 15, 2010 at 2:10 AM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> One option I'm sure you've considered is to add an array value to
> wp_postmeta.  Of course that is relationally horrible and you can't run JOIN
> queries using foreign keys in serialized arrays so I'd hope nobody would do
> that in a plugin.
>

Remember that you can have multiple meta values with the same key, so you
don't need serialization at all.

You just have to decide which table makes more sense: postmeta or usermeta.


-- 
http://scribu.net

From mikeschinkel at newclarity.net  Wed Sep 15 10:39:43 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 15 Sep 2010 06:39:43 -0400
Subject: [wp-hackers] Custom list of posts per user
In-Reply-To: <AANLkTi=sQ1H=zr_3m5BQQy1HeYB2fy0sPyF0pyRVSXdJ@mail.gmail.com>
References: <4C8FFD38.9020203@unFocus.com>
	<7149608C-D96E-4A61-BDCD-E86940919716@newclarity.net>
	<AANLkTi=sQ1H=zr_3m5BQQy1HeYB2fy0sPyF0pyRVSXdJ@mail.gmail.com>
Message-ID: <E4E2B105-E509-480E-BE16-E0073F16CA5D@newclarity.net>

On Sep 15, 2010, at 6:32 AM, scribu wrote:
> On Wed, Sep 15, 2010 at 2:10 AM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
>> One option I'm sure you've considered is to add an array value to
>> wp_postmeta.  Of course that is relationally horrible and you can't run JOIN
>> queries using foreign keys in serialized arrays so I'd hope nobody would do
>> that in a plugin.
> 
> Remember that you can have multiple meta values with the same key, so you
> don't need serialization at all.
> 
> You just have to decide which table makes more sense: postmeta or usermeta.

If it's purpose is to store a bigint foreign key in a longtext field, especially if you might need to index on it, I'd say neither makes more sense.  JMTCW.

-Mike

From otto at ottodestruct.com  Wed Sep 15 11:00:57 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 15 Sep 2010 06:00:57 -0500
Subject: [wp-hackers] Custom list of posts per user
In-Reply-To: <E4E2B105-E509-480E-BE16-E0073F16CA5D@newclarity.net>
References: <4C8FFD38.9020203@unFocus.com>
	<7149608C-D96E-4A61-BDCD-E86940919716@newclarity.net>
	<AANLkTi=sQ1H=zr_3m5BQQy1HeYB2fy0sPyF0pyRVSXdJ@mail.gmail.com>
	<E4E2B105-E509-480E-BE16-E0073F16CA5D@newclarity.net>
Message-ID: <AANLkTin2Rf-qFGsGu4JOvYZPbvFOyF3PDi_Xbj0YCk0N@mail.gmail.com>

On Wed, Sep 15, 2010 at 5:39 AM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
>> Remember that you can have multiple meta values with the same key, so you
>> don't need serialization at all.
>>
>> You just have to decide which table makes more sense: postmeta or usermeta.
>
> If it's purpose is to store a bigint foreign key in a longtext field, especially if you might need to index on it, I'd say neither makes more sense. ?JMTCW.
>
> -Mike

That really depends on your use cases. How is he using this data? Are
you always retrieving all the data for each user? Do you need to join
on it? If you don't need to do every possible thing with it, then you
don't have to go all normal form on it, and you can get optimizations
that you wouldn't have otherwise.

The custom taxonomy idea he had is basically how bbPress implements
email subscriptions. It has a bb_subscribe taxonomy hooked to the
bb_user table. The objects are user id's, the terms are topic-X where
X is the id number of the topic. So when somebody subscribes to a
topic, the code calls set_object_terms to add that term to the user
object. When a new post is made, all the objects with that term are
pulled out and the id's are the id's of the users subscribed to the
topic.

Using the user_meta would be quicker if a) the number of items in the
list was small and b) you didn't need to access them in the reverse
direction (that is, you only ever pulled the list for a single user,
not a list of users who had the item in their lists).

-Otto

From otto at ottodestruct.com  Wed Sep 15 11:03:02 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 15 Sep 2010 06:03:02 -0500
Subject: [wp-hackers] Custom list of posts per user
In-Reply-To: <AANLkTin2Rf-qFGsGu4JOvYZPbvFOyF3PDi_Xbj0YCk0N@mail.gmail.com>
References: <4C8FFD38.9020203@unFocus.com>
	<7149608C-D96E-4A61-BDCD-E86940919716@newclarity.net>
	<AANLkTi=sQ1H=zr_3m5BQQy1HeYB2fy0sPyF0pyRVSXdJ@mail.gmail.com>
	<E4E2B105-E509-480E-BE16-E0073F16CA5D@newclarity.net>
	<AANLkTin2Rf-qFGsGu4JOvYZPbvFOyF3PDi_Xbj0YCk0N@mail.gmail.com>
Message-ID: <AANLkTimCqrO9ybJdu2sKG-y0UX-yc0nT-XsuG9J9tYba@mail.gmail.com>

On Wed, Sep 15, 2010 at 6:00 AM, Otto <otto at ottodestruct.com> wrote:
> The custom taxonomy idea he had is basically how bbPress implements
> email subscriptions. It has a bb_subscribe taxonomy hooked to the
> bb_user table. The objects are user id's, the terms are topic-X where
> X is the id number of the topic. So when somebody subscribes to a
> topic, the code calls set_object_terms to add that term to the user
> object. When a new post is made, all the objects with that term are
> pulled out and the id's are the id's of the users subscribed to the
> topic.

Oh, FYI, the tag subscriptions I just added to wp.org are implemented
the same way. It just uses tag-slug as the term instead. Same
taxonomy.

-Otto

From cross at thisismyurl.com  Wed Sep 15 14:28:28 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Wed, 15 Sep 2010 11:28:28 -0300
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <30D72D97-9B8B-4290-994D-535548F2977B@gmail.com>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
	<AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>
	<AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>
	<AANLkTik+vPcJr4ira6VgmMkd2ObWyUmDdxAZe-0ouOz-@mail.gmail.com>
	<AANLkTimw8ceJ1+o9s8iqK+F7s1Rm70nn0c5LOpp1USR9@mail.gmail.com>
	<30D72D97-9B8B-4290-994D-535548F2977B@gmail.com>
Message-ID: <AE65126F-DE6C-479E-B004-E71A0CB13924@thisismyurl.com>

Love your url :)


On 2010-09-15, at 5:27 AM, Andy Charrington-Wilden wrote:

> jealousdesigns.co.uk


__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708
New Orleans 1 (504) 322 3485

http://christopherross.ca
http://www.thisismyurl.com


From cross at thisismyurl.com  Wed Sep 15 14:48:09 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Wed, 15 Sep 2010 11:48:09 -0300
Subject: [wp-hackers] hook for third party login credentials
Message-ID: <63F1DCE2-5D86-4B8D-B82B-9A6004EADD52@thisismyurl.com>

I'm looking for a hook that'll let me add an authentication source to the standard WP login page, any suggestions?

What I want to do is first check if the user is in the database, if not pass to a routine that'll return true if it's in an external source but using the same information posted in the login form. For example, I could have a spread sheet or an API that stores username/passwords elsewhere.

Any help would be appreciated.

Chris

__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708
New Orleans 1 (504) 322 3485

http://christopherross.ca
http://www.thisismyurl.com


From list at expost.org  Wed Sep 15 14:56:32 2010
From: list at expost.org (Raj)
Date: Wed, 15 Sep 2010 20:26:32 +0530
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <20100915090229.GC22269@nicolaskuttler.de>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
	<20100915090229.GC22269@nicolaskuttler.de>
Message-ID: <001501cb54e6$33e9e950$9bbdbbf0$@expost.org>

No, not code examples. I am looking for a framework off which I can make
plugins and avoid wasting time on defining the same thing over and over
again.

We should probably create something like 'cake bake' in CakePHP. It could be
like:

C:\htdocs\wordpress\wp-content\plugins\>wp
Name of your plugin: Members Only
Provide the machine readable name [members_only] : mo

Choose from the below options:

Step1:
1.  Generate init function
2.  Define data
	1. Options
	2. Database tables
	3. Post Meta
	4. 

Step2:
Create CRUD 
1. Custom content type
2. Admin page using options
3. Admin screen using database tables
5. Custom content type loop
6. Skip

Step3: 
Accessories
1. Generate meta-box
2. Generate dashboard panel
3. Generate widget
4. Generate cron-job


Step4: 
5. Generate installer
6. Generate deactivation routine

... and so on.. of the top of my head. 

It would probably be less annoying to if the generator was a a web
application though. 

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Nicolas
Kuttler
Sent: Wednesday, September 15, 2010 2:32 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Anything like a Plugin Framework?

On Wed, Sep 15, 2010 at 08:59:57AM +0530, Raj wrote:
> Has anything been created like a plug-in framework? You know like:

It sounds to me like you want code examples, not really a framework.
I've read several plugins by wp developers and suggest you read

1. http://wordpress.org/extend/plugins/shadowbox-js/
Clean overall code structure and very well documented.

2. http://wordpress.org/extend/plugins/scb-framework/
Good code and documentation, plus it's a plugin framework.

> 2.       Pre-defined init function

This is really too plugin-specific.

> 5.       Pre-defined sample content-types (I know I am pushing it J)
>
> 6.       Pre-defined sample post meta-boxes

I don't think there's really need for that, there are excellent tutorials,
just google them. Not sure about the codex.

> 7.       Pre-defined sample widgets

Hm, is something missing on http://codex.wordpress.org/Widgets_API ?

Nicolas

p.s. It's a little sad how badly (not at all) documented many plugins are,
yes core devs, I'm looking at yours :-/

--
Nicolas Kuttler
wp at nkuttler.de

http://www.nkuttler.de
http://www.nicolaskuttler.de (deutsch)
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From andycharrington at gmail.com  Wed Sep 15 15:01:11 2010
From: andycharrington at gmail.com (Andy Charrington)
Date: Wed, 15 Sep 2010 16:01:11 +0100
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <AE65126F-DE6C-479E-B004-E71A0CB13924@thisismyurl.com>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
	<AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>
	<AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>
	<AANLkTik+vPcJr4ira6VgmMkd2ObWyUmDdxAZe-0ouOz-@mail.gmail.com>
	<AANLkTimw8ceJ1+o9s8iqK+F7s1Rm70nn0c5LOpp1USR9@mail.gmail.com>
	<30D72D97-9B8B-4290-994D-535548F2977B@gmail.com>
	<AE65126F-DE6C-479E-B004-E71A0CB13924@thisismyurl.com>
Message-ID: <AANLkTinozx7EJX0=+UJbcchbvebxmq8ZDkNSR65DZiki@mail.gmail.com>

thank you muchly!

On Wed, Sep 15, 2010 at 3:28 PM, Christopher Ross <cross at thisismyurl.com>wrote:

> Love your url :)
>
>
> On 2010-09-15, at 5:27 AM, Andy Charrington-Wilden wrote:
>
> > jealousdesigns.co.uk
>
>
> __
>
> Christopher Ross
>
> Toronto      1 (416) 840-5828
> Fredericton 1 (506) 474-2708
> New Orleans 1 (504) 322 3485
>
> http://christopherross.ca
> http://www.thisismyurl.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From erisds at gmail.com  Wed Sep 15 15:21:56 2010
From: erisds at gmail.com (ErisDS)
Date: Wed, 15 Sep 2010 16:21:56 +0100
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <AANLkTinozx7EJX0=+UJbcchbvebxmq8ZDkNSR65DZiki@mail.gmail.com>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
	<AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>
	<AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>
	<AANLkTik+vPcJr4ira6VgmMkd2ObWyUmDdxAZe-0ouOz-@mail.gmail.com>
	<AANLkTimw8ceJ1+o9s8iqK+F7s1Rm70nn0c5LOpp1USR9@mail.gmail.com>
	<30D72D97-9B8B-4290-994D-535548F2977B@gmail.com>
	<AE65126F-DE6C-479E-B004-E71A0CB13924@thisismyurl.com>
	<AANLkTinozx7EJX0=+UJbcchbvebxmq8ZDkNSR65DZiki@mail.gmail.com>
Message-ID: <AANLkTi=v3NM6oymtr-jpoptS9sQSpJ34nHH=CEW6xWFg@mail.gmail.com>

Ooh I like that idea raj.. I could convert my plugin framework to be
generated like that quite easily.
It would be basic, but easy to add to.

Food for thought.

On Wed, Sep 15, 2010 at 4:01 PM, Andy Charrington <andycharrington at gmail.com
> wrote:

> thank you muchly!
>
> On Wed, Sep 15, 2010 at 3:28 PM, Christopher Ross <cross at thisismyurl.com
> >wrote:
>
> > Love your url :)
> >
> >
> > On 2010-09-15, at 5:27 AM, Andy Charrington-Wilden wrote:
> >
> > > jealousdesigns.co.uk
> >
> >
> > __
> >
> > Christopher Ross
> >
> > Toronto      1 (416) 840-5828
> > Fredericton 1 (506) 474-2708
> > New Orleans 1 (504) 322 3485
> >
> > http://christopherross.ca
> > http://www.thisismyurl.com
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dgs at riskiii.com  Wed Sep 15 15:38:57 2010
From: dgs at riskiii.com (Danny G Smith)
Date: Wed, 15 Sep 2010 10:38:57 -0500
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
	<AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>
	<AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>
Message-ID: <50147B7E-512D-4F62-A385-E2BBC3CB6771@riskiii.com>

I would love to have a copy.

thanks,

Danny G. Smith



On Sep 15, 2010, at 2:27 AM, ErisDS wrote:

> I have written a plugin framework which does 2, 3, 4, & 7.
> 
> With 1 I'm not sure what you mean as surely that's what 2,3,4,5,6,7 of your
> list are?
> 5 & 6 could be added quite easily.
> 
> It's not been released to the public as it has only been tested on one or
> two hosting setups, however I use it all the time for developing custom
> project plugins.
> 
> Get in touch if you're interested.
> 
> Eris
> 
> On Wed, Sep 15, 2010 at 7:49 AM, Frank Bueltge <frank at bueltge.de> wrote:
> 
>> It give a different and many solutions for this idea, but not an central
>> solution.
>> I think this is a great idea, espacilly for the markup on options-pages,
>> but
>> i think - this must development from a central point, maybe the core or a
>> core plugin.
>> 
>> On Wed, Sep 15, 2010 at 5:29 AM, Raj <list at expost.org> wrote:
>> 
>>> Has anything been created like a plug-in framework? You know like:
>>> 
>>> 
>>> 
>>> 1.       A set of functions that will be very useful for plugin
>> development
>>> and those that couldn't get into the core.
>>> 
>>> 2.       Pre-defined init function
>>> 
>>> 3.       Predefined sample admin interfaces
>>> 
>>> 4.       Pre-defined sample cron jobs
>>> 
>>> 5.       Pre-defined sample content-types (I know I am pushing it J)
>>> 
>>> 6.       Pre-defined sample post meta-boxes
>>> 
>>> 7.       Pre-defined sample widgets
>>> 
>>> 8.       And so on.
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From CaptainN at unFocus.com  Wed Sep 15 15:41:19 2010
From: CaptainN at unFocus.com (Kevin Newman)
Date: Wed, 15 Sep 2010 11:41:19 -0400
Subject: [wp-hackers] Custom list of posts per user
In-Reply-To: <4C90184F.7040408@gunters.org>
References: <4C8FFD38.9020203@unFocus.com> <4C90184F.7040408@gunters.org>
Message-ID: <4C90E91F.9040909@unFocus.com>

  On 9/14/10 8:50 PM, Dougal Campbell wrote:
> Is there some particular reason you don't want to just stick the data 
> in user_meta? Anytime I see the phrase "per user", that's the first 
> place I'd think of putting it. 
I was hoping to leverage the built in themeing support for custom 
taxonomies - the loop-taxonomy in particular.

I'm not really sure if putting it in user meta precludes that option 
though. I'm still learning the ins and outs of WordPress. I'd also like 
the admin of the site to be able to get a list of lists generated by 
site users. In a product/cart system, this could be useful for all sorts 
of analytics, or even useful with for support (so support user could 
view or even edit a user's list content while on the phone with them, etc.).

Kevin N.



From awgandrews at gmail.com  Wed Sep 15 15:45:27 2010
From: awgandrews at gmail.com (Alex Andrews)
Date: Wed, 15 Sep 2010 16:45:27 +0100
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <50147B7E-512D-4F62-A385-E2BBC3CB6771@riskiii.com>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
	<AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>
	<AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>
	<50147B7E-512D-4F62-A385-E2BBC3CB6771@riskiii.com>
Message-ID: <AANLkTi=FxKSqCeAz+vS99XTsduSA=frSK41O5ghphsaK@mail.gmail.com>

I would also love a copy, and would probably convert my own plugins to
said framework, because I haven't got around to some bits of it - ie
admin backend - and having them easily scaffolded would be wonderful.

Alex

On 15 September 2010 16:38, Danny G Smith <dgs at riskiii.com> wrote:
> I would love to have a copy.
>
> thanks,
>
> Danny G. Smith
>
>
>
> On Sep 15, 2010, at 2:27 AM, ErisDS wrote:
>
>> I have written a plugin framework which does 2, 3, 4, & 7.
>>
>> With 1 I'm not sure what you mean as surely that's what 2,3,4,5,6,7 of your
>> list are?
>> 5 & 6 could be added quite easily.
>>
>> It's not been released to the public as it has only been tested on one or
>> two hosting setups, however I use it all the time for developing custom
>> project plugins.
>>
>> Get in touch if you're interested.
>>
>> Eris
>>
>> On Wed, Sep 15, 2010 at 7:49 AM, Frank Bueltge <frank at bueltge.de> wrote:
>>
>>> It give a different and many solutions for this idea, but not an central
>>> solution.
>>> I think this is a great idea, espacilly for the markup on options-pages,
>>> but
>>> i think - this must development from a central point, maybe the core or a
>>> core plugin.
>>>
>>> On Wed, Sep 15, 2010 at 5:29 AM, Raj <list at expost.org> wrote:
>>>
>>>> Has anything been created like a plug-in framework? You know like:
>>>>
>>>>
>>>>
>>>> 1. ? ? ? A set of functions that will be very useful for plugin
>>> development
>>>> and those that couldn't get into the core.
>>>>
>>>> 2. ? ? ? Pre-defined init function
>>>>
>>>> 3. ? ? ? Predefined sample admin interfaces
>>>>
>>>> 4. ? ? ? Pre-defined sample cron jobs
>>>>
>>>> 5. ? ? ? Pre-defined sample content-types (I know I am pushing it J)
>>>>
>>>> 6. ? ? ? Pre-defined sample post meta-boxes
>>>>
>>>> 7. ? ? ? Pre-defined sample widgets
>>>>
>>>> 8. ? ? ? And so on.
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rbilesky at gmail.com  Wed Sep 15 16:38:25 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 15 Sep 2010 09:38:25 -0700
Subject: [wp-hackers] Filter search query before execution
Message-ID: <AANLkTimqJCyfX2RG-TUhpY68beewX1w=4YjBYqELsS0v@mail.gmail.com>

so I am looking for a way to filter search queries entered though the
wordpress search.  But before wordpress receivers the results, I want to
filter it to normalize the query.  I am using a plugin the enhances the
search and allows the search to search across tags, categories, ect.  Now I
am using tags to store locations, so a post might have two tags "Seattle"
and "WA" for Seattle Washington.  Now if a user searches for Seattle
Washington that wouldn't work, I need to convert Washington to the
abbreviation WA.  I have a simple enough function to convert states names to
abbreviations, its just a matter of getting a hold of the search query
before its starts generating results and changing it.

Now here's the problem, I looked at the filter reference on codex and I
could not find a filter for this purpose.  Am I missing something?  What
would be the best way to accomplish this, and I am not opposed to hacking
the core if need be.

From scribu at gmail.com  Wed Sep 15 17:04:42 2010
From: scribu at gmail.com (scribu)
Date: Wed, 15 Sep 2010 20:04:42 +0300
Subject: [wp-hackers] Filter search query before execution
In-Reply-To: <AANLkTimqJCyfX2RG-TUhpY68beewX1w=4YjBYqELsS0v@mail.gmail.com>
References: <AANLkTimqJCyfX2RG-TUhpY68beewX1w=4YjBYqELsS0v@mail.gmail.com>
Message-ID: <AANLkTi=5qmq3OCbx14ier8ASj-HoZjW0THhvd9G4_g1k@mail.gmail.com>

On Wed, Sep 15, 2010 at 7:38 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Now here's the problem, I looked at the filter reference on codex and I
> could not find a filter for this purpose.  Am I missing something?  What
> would be the best way to accomplish this, and I am not opposed to hacking
> the core if need be.
>

Filter references are usually outdated. Solution: browse the source code.
You will find the posts_search filter in WP_Query.

-- 
http://scribu.net

From patrik.bona at mrhead.sk  Wed Sep 15 17:30:02 2010
From: patrik.bona at mrhead.sk (=?ISO-8859-1?Q?Patrik_B=F3na?=)
Date: Wed, 15 Sep 2010 19:30:02 +0200
Subject: [wp-hackers] current_page_ancestor class lost on Tertiary pages?
In-Reply-To: <AANLkTi=w364psU7CkKaMbsvOe36dwu7tatyN2xzA0gfa@mail.gmail.com>
References: <AANLkTimjYTkGBGbv9S4EOfZa7goKVO3ZJgf81EBYmgZC@mail.gmail.com>	<C0775FA0-7D28-4DA0-BE45-974DD7CAC93B@dansmart.co.uk>
	<AANLkTi=w364psU7CkKaMbsvOe36dwu7tatyN2xzA0gfa@mail.gmail.com>
Message-ID: <4C91029A.2050302@mrhead.sk>

And that is one of the reasons why i don't like new menu system so much ;).

Btw. did you try to use custom walker function for generating menu ? 
Maybe you can "fix" it this way. (I am not sure, maybe i am totally wrong ;)

Patrik

On 09/14/2010 11:22 PM, Louis McCoy wrote:
> That's what I was afraid of.
>
> The question, then, would be why have both current_page_ancestor and
> current-menu-ancestor if it isn't looking at the page hierarchy anyway?
> Seems redundant to me...
>
> On Tue, Sep 14, 2010 at 5:11 PM, Dan Smart<dan at dansmart.co.uk>  wrote:
>
>    
>> The issue you have is that the menu doesn't look at the page hierarchy,
>> only the menu hierarchy. So you need to add X1 to X22 to the menu, then the
>> correct classes will appear.
>>
>> Dan
>>
>> Dan Smart - Web Developer
>> www.dansmart.co.uk
>>
>> On 14 Sep 2010, at 20:31, Louis McCoy<louie at louiemccoy.com>  wrote:
>>
>>      
>>>> How deep are these levels?  Can you be more specific about the overall
>>>> menu structure or link to an actual example?
>>>>          
>>> It's just the third level - I should have been more clear; it's not the
>>>        
>> menu
>>      
>>> that is three levels deep, it's the page structure. So, this is the page
>>> structure:
>>> I. Foo
>>>   A. Bar
>>>     1. X1
>>>     2. X2
>>> ...
>>>     22. X22
>>>   B. Saloon
>>>   C. Tavern
>>> II. Foo Fighers
>>> III. More Foo
>>>
>>> But this is the menu structure, since the menu by design doesn't go
>>>        
>> deeper
>>      
>>> than two levels:
>>> I. Foo
>>>   A. Bar
>>>   B. Saloon
>>>   C. Tavern
>>> II. Foo Fighters
>>> II. More Foo
>>>
>>> BUT, once I get to X1 / X22 etc. Foo loses the current_page_ancestor
>>>        
>> class.
>>      
>>> Is this just because they're not a part of the menu structure? Shouldn't
>>> Foo, being an ancestor of X1, still keep the current_page_ancestor class,
>>> even if X1 isn't in the menu structure?
>>>
>>> Hope I was clearer this time... :-)
>>>
>>> -L
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>        
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>      
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>    


From otto at ottodestruct.com  Wed Sep 15 17:31:41 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 15 Sep 2010 12:31:41 -0500
Subject: [wp-hackers] hook for third party login credentials
In-Reply-To: <63F1DCE2-5D86-4B8D-B82B-9A6004EADD52@thisismyurl.com>
References: <63F1DCE2-5D86-4B8D-B82B-9A6004EADD52@thisismyurl.com>
Message-ID: <AANLkTi=uQH529UvcQ4UOxZcE2kVQGmM=0hU+YGzPKB+7@mail.gmail.com>

The authenticate filter will let you authenticate users any way you
choose, but it still has to return a valid WP_User object.

You could make a function that authenticated against your external
database and then created a local WP user if the user did not exist in
there already. That would work.

-Otto



On Wed, Sep 15, 2010 at 9:48 AM, Christopher Ross <cross at thisismyurl.com> wrote:
> I'm looking for a hook that'll let me add an authentication source to the standard WP login page, any suggestions?
>
> What I want to do is first check if the user is in the database, if not pass to a routine that'll return true if it's in an external source but using the same information posted in the login form. For example, I could have a spread sheet or an API that stores username/passwords elsewhere.
>
> Any help would be appreciated.
>
> Chris
>
> __
>
> Christopher Ross
>
> Toronto ? ? ?1 (416) 840-5828
> Fredericton 1 (506) 474-2708
> New Orleans 1 (504) 322 3485
>
> http://christopherross.ca
> http://www.thisismyurl.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From louie at louiemccoy.com  Wed Sep 15 17:47:37 2010
From: louie at louiemccoy.com (Louis McCoy)
Date: Wed, 15 Sep 2010 13:47:37 -0400
Subject: [wp-hackers] current_page_ancestor class lost on Tertiary pages?
In-Reply-To: <4C91029A.2050302@mrhead.sk>
References: <AANLkTimjYTkGBGbv9S4EOfZa7goKVO3ZJgf81EBYmgZC@mail.gmail.com>
	<C0775FA0-7D28-4DA0-BE45-974DD7CAC93B@dansmart.co.uk>
	<AANLkTi=w364psU7CkKaMbsvOe36dwu7tatyN2xzA0gfa@mail.gmail.com>
	<4C91029A.2050302@mrhead.sk>
Message-ID: <AANLkTimENGtXPCaP5owF9DEOW707S57cS4D=wX518F40@mail.gmail.com>

I hadn't tried building a custom walker function, but adding some detailed
CSS and just manually adding all of the pages into the Menu from the admin
menu I think will take less time, so that's what I'm doing. Even if it will
look a bit odd on the back-end. In the past I'd defined my own globals based
on the URL - i.e. url.com/foo/bar/X2 would return in $segments = array([0]
=> 'url.com', [1] => 'foo', [2] => 'bar', [3] => 'X2') - so I used that for
both highlighting and breadcrumbs as necessary. The new menu system just
seemed all kinds of exciting, so I dove right in :-)

Thanks for all the insight, everyone!

-L

On Wed, Sep 15, 2010 at 1:30 PM, Patrik B?na <patrik.bona at mrhead.sk> wrote:

> And that is one of the reasons why i don't like new menu system so much ;).
>
> Btw. did you try to use custom walker function for generating menu ? Maybe
> you can "fix" it this way. (I am not sure, maybe i am totally wrong ;)
>
> Patrik
>
>
> On 09/14/2010 11:22 PM, Louis McCoy wrote:
>
>> That's what I was afraid of.
>>
>> The question, then, would be why have both current_page_ancestor and
>> current-menu-ancestor if it isn't looking at the page hierarchy anyway?
>> Seems redundant to me...
>>
>> On Tue, Sep 14, 2010 at 5:11 PM, Dan Smart<dan at dansmart.co.uk>  wrote:
>>
>>
>>
>>> The issue you have is that the menu doesn't look at the page hierarchy,
>>> only the menu hierarchy. So you need to add X1 to X22 to the menu, then
>>> the
>>> correct classes will appear.
>>>
>>> Dan
>>>
>>> Dan Smart - Web Developer
>>> www.dansmart.co.uk
>>>
>>> On 14 Sep 2010, at 20:31, Louis McCoy<louie at louiemccoy.com>  wrote:
>>>
>>>
>>>
>>>> How deep are these levels?  Can you be more specific about the overall
>>>>> menu structure or link to an actual example?
>>>>>
>>>>>
>>>> It's just the third level - I should have been more clear; it's not the
>>>>
>>>>
>>> menu
>>>
>>>
>>>> that is three levels deep, it's the page structure. So, this is the page
>>>> structure:
>>>> I. Foo
>>>>  A. Bar
>>>>    1. X1
>>>>    2. X2
>>>> ...
>>>>    22. X22
>>>>  B. Saloon
>>>>  C. Tavern
>>>> II. Foo Fighers
>>>> III. More Foo
>>>>
>>>> But this is the menu structure, since the menu by design doesn't go
>>>>
>>>>
>>> deeper
>>>
>>>
>>>> than two levels:
>>>> I. Foo
>>>>  A. Bar
>>>>  B. Saloon
>>>>  C. Tavern
>>>> II. Foo Fighters
>>>> II. More Foo
>>>>
>>>> BUT, once I get to X1 / X22 etc. Foo loses the current_page_ancestor
>>>>
>>>>
>>> class.
>>>
>>>
>>>> Is this just because they're not a part of the menu structure? Shouldn't
>>>> Foo, being an ancestor of X1, still keep the current_page_ancestor
>>>> class,
>>>> even if X1 isn't in the menu structure?
>>>>
>>>> Hope I was clearer this time... :-)
>>>>
>>>> -L
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From a.hoereth at gmail.com  Wed Sep 15 18:00:19 2010
From: a.hoereth at gmail.com (=?ISO-8859-1?Q?Alexander_H=F6reth?=)
Date: Wed, 15 Sep 2010 20:00:19 +0200
Subject: [wp-hackers] dynamic custom header sizes
Message-ID: <AANLkTimwc-O0Gce5M-zQ=7O=wyveTs1wSsCwMAxuLq4-@mail.gmail.com>

Hey there,
I did not get much resonance at trac.wordpress.org so I will ask you guys..

A couple of days ago I started working on enhancing the custom image header
feature which came with 3.0.
I want to add the capability to use custom image headers without cropping
them to a fixed size.

For example, as a theme author, I would define HEADER_IMAGE_HEIGHT auto and
HEADER_IMAGE_WIDTH 940 in my functions.php. The enduser of my theme then
could decide on his own how high a header should be.
Or the theme author defines Header_IMAGE_WIDTH max:940 and positions it
margin: 0 auto.

Ok. Most of it works just fine already. The main problem which exercises me
atm is that I have to add 2 new functions to output the HEADER_IMAGE_WIDTH
and _HEIGHT without things like "auto" or "max:" ( header_image_width() &
header_image_size() ) and swap every usage of the old constants with the new
functions.
Where exactly would I have to add these? I did never before "hack" the
wordpress core, so I am just starting getting into it.

The only other things I need to change are the step_1() [output of the
expected header image sizes to the user], step_2() [processing of newly
uploaded header images] and js_2() [swap the HEADER_IMAGE_WIDTH and _HEIGHT
of the ImageAreaSelect script with the new header_image_ stuff] functions in
wp-admin/custom_header.php

I hope I am not the only one interested in this feature,
Alex

From rbilesky at gmail.com  Wed Sep 15 18:28:43 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 15 Sep 2010 11:28:43 -0700
Subject: [wp-hackers] Filter search query before execution
In-Reply-To: <AANLkTi=5qmq3OCbx14ier8ASj-HoZjW0THhvd9G4_g1k@mail.gmail.com>
References: <AANLkTimqJCyfX2RG-TUhpY68beewX1w=4YjBYqELsS0v@mail.gmail.com>
	<AANLkTi=5qmq3OCbx14ier8ASj-HoZjW0THhvd9G4_g1k@mail.gmail.com>
Message-ID: <AANLkTikwYs_rwuYnJ_Hs1Zbqdqt4i1ByddMa_HSdX4RD@mail.gmail.com>

Best i can find this is a really new filter, only since 3.0 and I can't seem
to figure out how to get it working.  I setup a simple example on my demo
install of WP.  I had my filter function return Hello World and searched
something else that didn't yield any results.  Hello world should give the
the initial hello world post, i get nothing.

On Wed, Sep 15, 2010 at 10:04 AM, scribu <scribu at gmail.com> wrote:

> On Wed, Sep 15, 2010 at 7:38 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > Now here's the problem, I looked at the filter reference on codex and I
> > could not find a filter for this purpose.  Am I missing something?  What
> > would be the best way to accomplish this, and I am not opposed to hacking
> > the core if need be.
> >
>
> Filter references are usually outdated. Solution: browse the source code.
> You will find the posts_search filter in WP_Query.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Wed Sep 15 18:29:25 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 15 Sep 2010 14:29:25 -0400
Subject: [wp-hackers] Custom list of posts per user
In-Reply-To: <AANLkTin2Rf-qFGsGu4JOvYZPbvFOyF3PDi_Xbj0YCk0N@mail.gmail.com>
References: <4C8FFD38.9020203@unFocus.com>
	<7149608C-D96E-4A61-BDCD-E86940919716@newclarity.net>
	<AANLkTi=sQ1H=zr_3m5BQQy1HeYB2fy0sPyF0pyRVSXdJ@mail.gmail.com>
	<E4E2B105-E509-480E-BE16-E0073F16CA5D@newclarity.net>
	<AANLkTin2Rf-qFGsGu4JOvYZPbvFOyF3PDi_Xbj0YCk0N@mail.gmail.com>
Message-ID: <2CE3A487-FD0A-4B34-8D99-A371C0770550@newclarity.net>

On Sep 15, 2010, at 7:00 AM, Otto wrote:
> On Wed, Sep 15, 2010 at 5:39 AM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
>>> Remember that you can have multiple meta values with the same key, so you
>>> don't need serialization at all.
>>> 
>>> You just have to decide which table makes more sense: postmeta or usermeta.
>> 
>> If it's purpose is to store a bigint foreign key in a longtext field, especially if you might need to index on it, I'd say neither makes more sense.  JMTCW.
> 
> That really depends on your use cases. How is he using this data? Are
> you always retrieving all the data for each user? Do you need to join
> on it? If you don't need to do every possible thing with it, then you
> don't have to go all normal form on it, and you can get optimizations
> that you wouldn't have otherwise.
> 
> ...
> 
> Using the user_meta would be quicker if a) the number of items in the
> list was small and b) you didn't need to access them in the reverse
> direction (that is, you only ever pulled the list for a single user,
> not a list of users who had the item in their lists).

Yes, you are correct. Clearly I spoke out of turn.  For small data sets or large ones that don't require an index on the foreign keys the meta system works brilliantly.  It's when you exceed those constraints that WordPress doesn't offer a built-in table to address those use-cases in a performant and robust way for which adding a table would be the solution.  

Although I know certain core team members don't agree with the need for a post-to-object relationship table I think we're seeing demand because of CPTs and it would be nice if we could share a table design and API so that each of us don't have to create our own incompatible ones. And the only current mechanism for that to happen is for it to get added to core.  FWIW.

-Mike
P.S. Or maybe this could be a core plugin to test the waters? 

From ken.adcstudio at gmail.com  Wed Sep 15 18:35:29 2010
From: ken.adcstudio at gmail.com (Ken (WraithKenny))
Date: Wed, 15 Sep 2010 14:35:29 -0400
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <AANLkTi=FxKSqCeAz+vS99XTsduSA=frSK41O5ghphsaK@mail.gmail.com>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
	<AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>
	<AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>
	<50147B7E-512D-4F62-A385-E2BBC3CB6771@riskiii.com>
	<AANLkTi=FxKSqCeAz+vS99XTsduSA=frSK41O5ghphsaK@mail.gmail.com>
Message-ID: <AANLkTi=RLLADYGWiLO6WPhF9_E7wChL55Nste-J7HxTr@mail.gmail.com>

I've built a plugin off of Frank Bueltge's template (
http://wpengineer.com/1991/example-how-to-add-meta-boxes-to-edit-area/thanks
Frank!). Anyone interested in collaborating on a Plugin Scaffold at
Github maybe?

From frank at bueltge.de  Wed Sep 15 18:47:07 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Wed, 15 Sep 2010 20:47:07 +0200
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <AANLkTi=RLLADYGWiLO6WPhF9_E7wChL55Nste-J7HxTr@mail.gmail.com>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
	<AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>
	<AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>
	<50147B7E-512D-4F62-A385-E2BBC3CB6771@riskiii.com>
	<AANLkTi=FxKSqCeAz+vS99XTsduSA=frSK41O5ghphsaK@mail.gmail.com>
	<AANLkTi=RLLADYGWiLO6WPhF9_E7wChL55Nste-J7HxTr@mail.gmail.com>
Message-ID: <AANLkTimZZh-ic9Z2ipcbJMei4xHQecc4LdA+dhPYwDfi@mail.gmail.com>

Thanks :)

you can find a plugin on github for this example and little bid more:
http://github.com/bueltge/different-type


On Wed, Sep 15, 2010 at 8:35 PM, Ken (WraithKenny)
<ken.adcstudio at gmail.com>wrote:

> I've built a plugin off of Frank Bueltge's template (
>
> http://wpengineer.com/1991/example-how-to-add-meta-boxes-to-edit-area/thanks
> Frank!). Anyone interested in collaborating on a Plugin Scaffold at
> Github maybe?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Wed Sep 15 20:22:08 2010
From: scribu at gmail.com (scribu)
Date: Wed, 15 Sep 2010 23:22:08 +0300
Subject: [wp-hackers] Filter search query before execution
In-Reply-To: <AANLkTikwYs_rwuYnJ_Hs1Zbqdqt4i1ByddMa_HSdX4RD@mail.gmail.com>
References: <AANLkTimqJCyfX2RG-TUhpY68beewX1w=4YjBYqELsS0v@mail.gmail.com>
	<AANLkTi=5qmq3OCbx14ier8ASj-HoZjW0THhvd9G4_g1k@mail.gmail.com>
	<AANLkTikwYs_rwuYnJ_Hs1Zbqdqt4i1ByddMa_HSdX4RD@mail.gmail.com>
Message-ID: <AANLkTi=JLpzgp5br6p09VONFacOEQxji9eLLovqSnHmo@mail.gmail.com>

On Wed, Sep 15, 2010 at 9:28 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Best i can find this is a really new filter, only since 3.0 and I can't
> seem
> to figure out how to get it working.  I setup a simple example on my demo
> install of WP.  I had my filter function return Hello World and searched
> something else that didn't yield any results.  Hello world should give the
> the initial hello world post, i get nothing.
>

You should look at what the filter expects first, before returning something
else:

function my_posts_search( $sql ) {
  var_dump( $sql );
  return $sql;
}

add_filter( 'posts_search', 'my_posts_search' );


-- 
http://scribu.net

From erisds at gmail.com  Wed Sep 15 20:36:09 2010
From: erisds at gmail.com (ErisDS)
Date: Wed, 15 Sep 2010 21:36:09 +0100
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <AANLkTimZZh-ic9Z2ipcbJMei4xHQecc4LdA+dhPYwDfi@mail.gmail.com>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
	<AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>
	<AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>
	<50147B7E-512D-4F62-A385-E2BBC3CB6771@riskiii.com>
	<AANLkTi=FxKSqCeAz+vS99XTsduSA=frSK41O5ghphsaK@mail.gmail.com>
	<AANLkTi=RLLADYGWiLO6WPhF9_E7wChL55Nste-J7HxTr@mail.gmail.com>
	<AANLkTimZZh-ic9Z2ipcbJMei4xHQecc4LdA+dhPYwDfi@mail.gmail.com>
Message-ID: <AANLkTinc-VW5p7=c6rkc5Bs0gbKBqx6CrZBJ2tdCCfHY@mail.gmail.com>

I've put my code online:

http://erisds.co.uk/resources/wp-simple-widget-plugin

<http://erisds.co.uk/resources/wp-simple-widget-plugin>Please note this is
just the code in the state I use it - there has been no consideration for
server setups etc & no extensive testing. If you do use it, I'd appreciate
you taking the time to send me any feedback. If it doesn't work, or you have
ideas for additions let me know.

I really like the idea of creating a generator web app & will have a go at
setting this up soon.

Eris


On Wed, Sep 15, 2010 at 7:47 PM, Frank Bueltge <frank at bueltge.de> wrote:

> Thanks :)
>
> you can find a plugin on github for this example and little bid more:
> http://github.com/bueltge/different-type
>
>
> On Wed, Sep 15, 2010 at 8:35 PM, Ken (WraithKenny)
> <ken.adcstudio at gmail.com>wrote:
>
> > I've built a plugin off of Frank Bueltge's template (
> >
> >
> http://wpengineer.com/1991/example-how-to-add-meta-boxes-to-edit-area/thanks
> > Frank!). Anyone interested in collaborating on a Plugin Scaffold at
> > Github maybe?
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From CaptainN at unFocus.com  Wed Sep 15 21:44:52 2010
From: CaptainN at unFocus.com (Kevin Newman)
Date: Wed, 15 Sep 2010 17:44:52 -0400
Subject: [wp-hackers] The WordPress way to store temporary per user data
	(sessions)?
Message-ID: <4C913E54.9020405@unFocus.com>

  What's the WordPress way to store temporary per user data (sessions)?

Kevin N.



From austin at ilfilosofo.com  Wed Sep 15 22:03:27 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Wed, 15 Sep 2010 17:03:27 -0500
Subject: [wp-hackers] The WordPress way to store temporary per user data
	(sessions)?
In-Reply-To: <4C913E54.9020405@unFocus.com>
References: <4C913E54.9020405@unFocus.com>
Message-ID: <AANLkTinyE4-TS2_Gr9sNNAmF8uPP+fJ3r-suRMSF=iMm@mail.gmail.com>

On Wed, Sep 15, 2010 at 4:44 PM, Kevin Newman <CaptainN at unfocus.com> wrote:
> ?What's the WordPress way to store temporary per user data (sessions)?

WordPress core does not use sessions, so there is no common way of doing it.

However, since in general WP tends to put temporary data in the
database (I'm thinking of WP transients) and has over time moved away
from core file caching, I would speculate that if there were to be a
WP way, it would be to use session_set_save_handler and define
callbacks that interact with the database.

From jer at simianuprising.com  Wed Sep 15 22:08:39 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 15 Sep 2010 18:08:39 -0400
Subject: [wp-hackers] The WordPress way to store temporary per user data
	(sessions)?
In-Reply-To: <AANLkTinyE4-TS2_Gr9sNNAmF8uPP+fJ3r-suRMSF=iMm@mail.gmail.com>
References: <4C913E54.9020405@unFocus.com>
	<AANLkTinyE4-TS2_Gr9sNNAmF8uPP+fJ3r-suRMSF=iMm@mail.gmail.com>
Message-ID: <AANLkTindeGxfTRAxMTKOWgDEtQqjodOrSUnKfApSBJew@mail.gmail.com>

For the record, here is the transients api Codex article:

http://codex.wordpress.org/Transients_API

Useful for any temporary data saving. Works just like the options api but
they get cleared out after a set amount of time. To save temporary user data
you could save transients with names that identify the user.

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From rbilesky at gmail.com  Wed Sep 15 22:12:30 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 15 Sep 2010 15:12:30 -0700
Subject: [wp-hackers] Filter search query before execution
In-Reply-To: <AANLkTi=JLpzgp5br6p09VONFacOEQxji9eLLovqSnHmo@mail.gmail.com>
References: <AANLkTimqJCyfX2RG-TUhpY68beewX1w=4YjBYqELsS0v@mail.gmail.com>
	<AANLkTi=5qmq3OCbx14ier8ASj-HoZjW0THhvd9G4_g1k@mail.gmail.com>
	<AANLkTikwYs_rwuYnJ_Hs1Zbqdqt4i1ByddMa_HSdX4RD@mail.gmail.com>
	<AANLkTi=JLpzgp5br6p09VONFacOEQxji9eLLovqSnHmo@mail.gmail.com>
Message-ID: <AANLkTinup-uVa7sH_ukb4LdAbb11LHSvP9nGrZTp4GQ2@mail.gmail.com>

It doesn't look like that filter is what i need.  I want to capture the
search query before anything is done with it to change it, not while its
doing some queries to find results for the search.
On Wed, Sep 15, 2010 at 1:22 PM, scribu <scribu at gmail.com> wrote:

> On Wed, Sep 15, 2010 at 9:28 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > Best i can find this is a really new filter, only since 3.0 and I can't
> > seem
> > to figure out how to get it working.  I setup a simple example on my demo
> > install of WP.  I had my filter function return Hello World and searched
> > something else that didn't yield any results.  Hello world should give
> the
> > the initial hello world post, i get nothing.
> >
>
> You should look at what the filter expects first, before returning
> something
> else:
>
> function my_posts_search( $sql ) {
>  var_dump( $sql );
>  return $sql;
> }
>
> add_filter( 'posts_search', 'my_posts_search' );
>
>
> --
>  http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From CaptainN at unFocus.com  Wed Sep 15 22:12:56 2010
From: CaptainN at unFocus.com (Kevin Newman)
Date: Wed, 15 Sep 2010 18:12:56 -0400
Subject: [wp-hackers] The WordPress way to store temporary per user data
 (sessions)?
In-Reply-To: <AANLkTindeGxfTRAxMTKOWgDEtQqjodOrSUnKfApSBJew@mail.gmail.com>
References: <4C913E54.9020405@unFocus.com>	<AANLkTinyE4-TS2_Gr9sNNAmF8uPP+fJ3r-suRMSF=iMm@mail.gmail.com>
	<AANLkTindeGxfTRAxMTKOWgDEtQqjodOrSUnKfApSBJew@mail.gmail.com>
Message-ID: <4C9144E8.2070703@unFocus.com>

  On 9/15/10 6:08 PM, Jeremy Clarke wrote:
> For the record, here is the transients api Codex article:
>
> http://codex.wordpress.org/Transients_API
>
> Useful for any temporary data saving. Works just like the options api but
> they get cleared out after a set amount of time. To save temporary user data
> you could save transients with names that identify the user.
>
Cool, I'll check that out.

It looks like some folks on the forums are just using regular php session:

if( !isset( $_SESSION ) ) { // play nice with other plugins
     session_start();
}

I was just wondering if there's an easy way to do that in WP.

Thanks,

Kevin N.



From james68 at hushmail.com  Wed Sep 15 23:08:46 2010
From: james68 at hushmail.com (james68 at hushmail.com)
Date: Wed, 15 Sep 2010 16:08:46 -0700
Subject: [wp-hackers] wp-admin questions
Message-ID: <20100915230846.9B1291B5038@smtp.hushmail.com>

Is there a plugin anyone knows of that can change thevisual look of 
wp-admin to match the site, all wp-admin pages.  This is depratley 
needed by me.

Secondly I know this doesn't exist in the core (yet?) but is there 
any 3rd party plugin or adon or something that can give me access 
to manage wp-admin stuff via an API, at the very least 
add/edit/delete Posts, Comments, and Users.  I am looking to build 
one system,m that will intergaret everything I use thogether using 
teach services API's would be nice to include my WP site in that if 
possible.


From johnbillion+wp at gmail.com  Wed Sep 15 23:16:59 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu, 16 Sep 2010 00:16:59 +0100
Subject: [wp-hackers] wp-admin questions
In-Reply-To: <20100915230846.9B1291B5038@smtp.hushmail.com>
References: <20100915230846.9B1291B5038@smtp.hushmail.com>
Message-ID: <AANLkTi=VNP1bo22SxGsiq5fv5zrad5SO-F0iPuUzd7sd@mail.gmail.com>

There are several plugins and themes which skin the WordPress admin
[1]. A good start would be to take a look at some of those to see what
styles they override, but you'll need to write your own in order to
get WordPress to look like your particular theme as there's no
out-of-the-box way to do this.

As for interfacing with WordPress via an API check out the XML RPC API
[2]. This covers a lot of functionality around posts and comments but
I'm not so sure about users.

[1] http://www.google.com/search?q=wordpress+admin+skin
[2] http://codex.wordpress.org/XML-RPC_Support

John

On Thu, Sep 16, 2010 at 12:08 AM,  <james68 at hushmail.com> wrote:
> Is there a plugin anyone knows of that can change thevisual look of
> wp-admin to match the site, all wp-admin pages. ?This is depratley
> needed by me.
>
> Secondly I know this doesn't exist in the core (yet?) but is there
> any 3rd party plugin or adon or something that can give me access
> to manage wp-admin stuff via an API, at the very least
> add/edit/delete Posts, Comments, and Users. ?I am looking to build
> one system,m that will intergaret everything I use thogether using
> teach services API's would be nice to include my WP site in that if
> possible.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From william.canino at googlemail.com  Wed Sep 15 23:54:51 2010
From: william.canino at googlemail.com (William Canino)
Date: Wed, 15 Sep 2010 19:54:51 -0400
Subject: [wp-hackers] Error message: Are you sure you want to do this?
	Please try again.
Message-ID: <AANLkTim61kNG5do=9EbbT7Ta_-=FL4MWbLk2h5uPbTcA@mail.gmail.com>

Are there some troubleshooting steps when one suddenly sees this in
WordPress Admin?

From tom at thejenkinsweb.com  Thu Sep 16 00:04:11 2010
From: tom at thejenkinsweb.com (Tom Jenkins)
Date: Wed, 15 Sep 2010 19:04:11 -0500
Subject: [wp-hackers] Filter search query before execution
In-Reply-To: <AANLkTinup-uVa7sH_ukb4LdAbb11LHSvP9nGrZTp4GQ2@mail.gmail.com>
References: <AANLkTimqJCyfX2RG-TUhpY68beewX1w=4YjBYqELsS0v@mail.gmail.com>
	<AANLkTi=5qmq3OCbx14ier8ASj-HoZjW0THhvd9G4_g1k@mail.gmail.com>
	<AANLkTikwYs_rwuYnJ_Hs1Zbqdqt4i1ByddMa_HSdX4RD@mail.gmail.com>
	<AANLkTi=JLpzgp5br6p09VONFacOEQxji9eLLovqSnHmo@mail.gmail.com>
	<AANLkTinup-uVa7sH_ukb4LdAbb11LHSvP9nGrZTp4GQ2@mail.gmail.com>
Message-ID: <AANLkTik8ufXFhG+UMH+H4xcs=ZjLuupGz+4DhejwbE=A@mail.gmail.com>

So why not just highjack the post method through javascript, make your
changes, then forward the post method onto wordpress?


Tom


On Wed, Sep 15, 2010 at 5:12 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> It doesn't look like that filter is what i need.  I want to capture the
> search query before anything is done with it to change it, not while its
> doing some queries to find results for the search.
> On Wed, Sep 15, 2010 at 1:22 PM, scribu <scribu at gmail.com> wrote:
>
> > On Wed, Sep 15, 2010 at 9:28 PM, Ryan Bilesky <rbilesky at gmail.com>
> wrote:
> >
> > > Best i can find this is a really new filter, only since 3.0 and I can't
> > > seem
> > > to figure out how to get it working.  I setup a simple example on my
> demo
> > > install of WP.  I had my filter function return Hello World and
> searched
> > > something else that didn't yield any results.  Hello world should give
> > the
> > > the initial hello world post, i get nothing.
> > >
> >
> > You should look at what the filter expects first, before returning
> > something
> > else:
> >
> > function my_posts_search( $sql ) {
> >  var_dump( $sql );
> >  return $sql;
> > }
> >
> > add_filter( 'posts_search', 'my_posts_search' );
> >
> >
> > --
> >  http://scribu.net
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From batmoo at gmail.com  Thu Sep 16 01:05:24 2010
From: batmoo at gmail.com (Mohammad Jangda)
Date: Wed, 15 Sep 2010 21:05:24 -0400
Subject: [wp-hackers] Error message: Are you sure you want to do this?
 Please try again.
In-Reply-To: <AANLkTim61kNG5do=9EbbT7Ta_-=FL4MWbLk2h5uPbTcA@mail.gmail.com>
References: <AANLkTim61kNG5do=9EbbT7Ta_-=FL4MWbLk2h5uPbTcA@mail.gmail.com>
Message-ID: <AANLkTinW1s=o-tGVuRRoMYjCFLxHn8nxaH+jVYHqpyzy@mail.gmail.com>

On Wednesday, September 15, 2010, William Canino
<william.canino at googlemail.com> wrote:
> Are there some troubleshooting steps when one suddenly sees this in
> WordPress Admin?

Usually a result of nonce verification failing. In what context are
you seeing the message?

-- 
--
Mohammad Jangda
www.digitalize.ca | @mjangda

From emoya at tribune.com  Thu Sep 16 01:41:57 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Wed, 15 Sep 2010 20:41:57 -0500
Subject: [wp-hackers] Error message: Are you sure you want to do this?
 Please try again.
In-Reply-To: <AANLkTim61kNG5do=9EbbT7Ta_-=FL4MWbLk2h5uPbTcA@mail.gmail.com>
Message-ID: <C8B6E015.BFE5%emoya@tribune.com>

Sounds like a messed up nonce. Or a your going into a restricted area. If your getting this as a result of tinkering with a plugin that uses nonces, take a look at this explanation of nonces:
http://markjaquith.wordpress.com/2006/06/02/wordpress-203-nonces/

Otherwise, look at what capabilities you have as a user, and look to see what capabilities are wrapped around whatever action/area is triggering that error message. Its possible a plugin, or another admin might have changed your role/capabilities.

For the most part, its almost certain its being caused by a plugin if its not another user changing your role. Start turning plugins off one-by-one to see which is the culprit. If the error is preventing you from using the plugin interface, then just start ripping them out of the plugin directory -don't forget mu-plugins if it applies to you, and remember to back them up before you remove them


On 9/15/10 6:54 PM, "William Canino" <william.canino at googlemail.com> wrote:

Are there some troubleshooting steps when one suddenly sees this in
WordPress Admin?
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From mikeschinkel at newclarity.net  Thu Sep 16 02:51:11 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 15 Sep 2010 22:51:11 -0400
Subject: [wp-hackers] WP_Query() for meta_value = Empty or Missing?
Message-ID: <765691A7-D24E-4507-9714-5535639AC4BB@newclarity.net>

Wondering if you guys can repeat your awesome performance in your answering of questions from yesterday.

I'm trying to use WP_Query() to query for a meta_value that may be empty or it may be missing.  As far as I can tell there's no way to do that given the parameters found here?

http://codex.wordpress.org/Function_Reference/query_posts#Custom_Field_Parameters

Am I missing something or am I going to have to dive into using posts_* hooks?

-Mike

From rbilesky at gmail.com  Thu Sep 16 03:21:27 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 15 Sep 2010 20:21:27 -0700
Subject: [wp-hackers] WP_Query() for meta_value = Empty or Missing?
In-Reply-To: <765691A7-D24E-4507-9714-5535639AC4BB@newclarity.net>
References: <765691A7-D24E-4507-9714-5535639AC4BB@newclarity.net>
Message-ID: <AANLkTimhF-vhi_U27M5-9mBEuKJoox1SY_WWYGDa6ZXD@mail.gmail.com>

Why not just use wpdb.

On Wed, Sep 15, 2010 at 7:51 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> Wondering if you guys can repeat your awesome performance in your answering
> of questions from yesterday.
>
> I'm trying to use WP_Query() to query for a meta_value that may be empty or
> it may be missing.  As far as I can tell there's no way to do that given the
> parameters found here?
>
>
> http://codex.wordpress.org/Function_Reference/query_posts#Custom_Field_Parameters
>
> Am I missing something or am I going to have to dive into using posts_*
> hooks?
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Thu Sep 16 03:46:16 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 15 Sep 2010 23:46:16 -0400
Subject: [wp-hackers] WP_Query() for meta_value = Empty or Missing?
In-Reply-To: <AANLkTimhF-vhi_U27M5-9mBEuKJoox1SY_WWYGDa6ZXD@mail.gmail.com>
References: <765691A7-D24E-4507-9714-5535639AC4BB@newclarity.net>
	<AANLkTimhF-vhi_U27M5-9mBEuKJoox1SY_WWYGDa6ZXD@mail.gmail.com>
Message-ID: <AE234848-1AF4-4BA0-967A-C6D4399727DC@newclarity.net>

I could, just trying to use the API whenever possible.

On Sep 15, 2010, at 11:21 PM, Ryan Bilesky wrote:

> Why not just use wpdb.
> 
> On Wed, Sep 15, 2010 at 7:51 PM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
> 
>> Wondering if you guys can repeat your awesome performance in your answering
>> of questions from yesterday.
>> 
>> I'm trying to use WP_Query() to query for a meta_value that may be empty or
>> it may be missing.  As far as I can tell there's no way to do that given the
>> parameters found here?
>> 
>> 
>> http://codex.wordpress.org/Function_Reference/query_posts#Custom_Field_Parameters
>> 
>> Am I missing something or am I going to have to dive into using posts_*
>> hooks?
>> 
>> -Mike
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Thu Sep 16 04:35:09 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 16 Sep 2010 00:35:09 -0400
Subject: [wp-hackers] WP_Query() for meta_value = Empty or Missing?
In-Reply-To: <AANLkTimhF-vhi_U27M5-9mBEuKJoox1SY_WWYGDa6ZXD@mail.gmail.com>
References: <765691A7-D24E-4507-9714-5535639AC4BB@newclarity.net>
	<AANLkTimhF-vhi_U27M5-9mBEuKJoox1SY_WWYGDa6ZXD@mail.gmail.com>
Message-ID: <AANLkTimpdzaHsAuXNwVi9v8QvwsTp9k=B9ANHQW12u0z@mail.gmail.com>

On Wed, Sep 15, 2010 at 11:21 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Why not just use wpdb.
>

Mike, looks like you're going to have to use said hooks. I was doing the
same thing the other day (and ended up with a different implementation, but
I saw the route I needed to take for that).

Ryan -- never a good idea to use direct queries whenever you can avoid it...
Using the API will ensure that things don't break during an upgrade, it
allows your plugin to play nice with other plugins, and it also scales
better as caching will be handled for you. Thus on the frontend especially,
avoid them at all costs.

From mikeschinkel at newclarity.net  Thu Sep 16 04:47:41 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 16 Sep 2010 00:47:41 -0400
Subject: [wp-hackers] WP_Query() for meta_value = Empty or Missing?
In-Reply-To: <AANLkTimpdzaHsAuXNwVi9v8QvwsTp9k=B9ANHQW12u0z@mail.gmail.com>
References: <765691A7-D24E-4507-9714-5535639AC4BB@newclarity.net>
	<AANLkTimhF-vhi_U27M5-9mBEuKJoox1SY_WWYGDa6ZXD@mail.gmail.com>
	<AANLkTimpdzaHsAuXNwVi9v8QvwsTp9k=B9ANHQW12u0z@mail.gmail.com>
Message-ID: <4E1C664E-E808-4DEB-820A-8E87F2C90168@newclarity.net>

On Sep 16, 2010, at 12:35 AM, Andrew Nacin wrote:
> On Wed, Sep 15, 2010 at 11:21 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>> Why not just use wpdb.
> 
> Mike, looks like you're going to have to use said hooks. I was doing the
> same thing the other day (and ended up with a different implementation, but
> I saw the route I needed to take for that).

Thanks for confirming.  Any chance of a near term addition for this kind of thing?  
Could we add options for 'null', 'empty' and 'nullorempty' to meta_compare?

-Mike


From wp at andrewnacin.com  Thu Sep 16 04:51:35 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 16 Sep 2010 00:51:35 -0400
Subject: [wp-hackers] WP_Query() for meta_value = Empty or Missing?
In-Reply-To: <4E1C664E-E808-4DEB-820A-8E87F2C90168@newclarity.net>
References: <765691A7-D24E-4507-9714-5535639AC4BB@newclarity.net>
	<AANLkTimhF-vhi_U27M5-9mBEuKJoox1SY_WWYGDa6ZXD@mail.gmail.com>
	<AANLkTimpdzaHsAuXNwVi9v8QvwsTp9k=B9ANHQW12u0z@mail.gmail.com>
	<4E1C664E-E808-4DEB-820A-8E87F2C90168@newclarity.net>
Message-ID: <AANLkTimHk+4TBh4+bGDCJ1pSixvwSQde=jEEgGk2KRFU@mail.gmail.com>

On Thu, Sep 16, 2010 at 12:47 AM, Mike Schinkel <mikeschinkel at newclarity.net
> wrote:

> Could we add options for 'null', 'empty' and 'nullorempty' to meta_compare?


I wasn't sure how we'd do it, and that was actually a little different from
my use case, but that seems to make sense.

From rbilesky at gmail.com  Thu Sep 16 05:29:00 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 15 Sep 2010 22:29:00 -0700
Subject: [wp-hackers] WP_Query() for meta_value = Empty or Missing?
In-Reply-To: <AE234848-1AF4-4BA0-967A-C6D4399727DC@newclarity.net>
References: <765691A7-D24E-4507-9714-5535639AC4BB@newclarity.net>
	<AANLkTimhF-vhi_U27M5-9mBEuKJoox1SY_WWYGDa6ZXD@mail.gmail.com>
	<AE234848-1AF4-4BA0-967A-C6D4399727DC@newclarity.net>
Message-ID: <AANLkTikgpypv5iKNZwq3DAUYWxC3zNbeziugge8vrd-r@mail.gmail.com>

just saying if you can't get the api to do exactly what you need that's an
option.

On Wed, Sep 15, 2010 at 8:46 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> I could, just trying to use the API whenever possible.
>
> On Sep 15, 2010, at 11:21 PM, Ryan Bilesky wrote:
>
> > Why not just use wpdb.
> >
> > On Wed, Sep 15, 2010 at 7:51 PM, Mike Schinkel
> > <mikeschinkel at newclarity.net>wrote:
> >
> >> Wondering if you guys can repeat your awesome performance in your
> answering
> >> of questions from yesterday.
> >>
> >> I'm trying to use WP_Query() to query for a meta_value that may be empty
> or
> >> it may be missing.  As far as I can tell there's no way to do that given
> the
> >> parameters found here?
> >>
> >>
> >>
> http://codex.wordpress.org/Function_Reference/query_posts#Custom_Field_Parameters
> >>
> >> Am I missing something or am I going to have to dive into using posts_*
> >> hooks?
> >>
> >> -Mike
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ozh at ozh.org  Thu Sep 16 06:20:39 2010
From: ozh at ozh.org (Ozh)
Date: Thu, 16 Sep 2010 08:20:39 +0200
Subject: [wp-hackers] The WordPress way to store temporary per user data
	(sessions)?
In-Reply-To: <AANLkTinyE4-TS2_Gr9sNNAmF8uPP+fJ3r-suRMSF=iMm@mail.gmail.com>
References: <4C913E54.9020405@unFocus.com>
	<AANLkTinyE4-TS2_Gr9sNNAmF8uPP+fJ3r-suRMSF=iMm@mail.gmail.com>
Message-ID: <AANLkTinZus+rb5XFwk8X4GMDG20fUUN=6JSo=5MtRUuQ@mail.gmail.com>

Why use transients and, in most case where an object cache is not
used, issue an extra SQL query?

I'd rather use regular PHP sessions for session data

> However, since in general WP tends to put temporary data in the
> database (I'm thinking of WP transients) and has over time moved away
> from core file caching, I would speculate that if there were to be a
> WP way, it would be to use session_set_save_handler and define
> callbacks that interact with the database.

-- 
http://ozh.org/

From erisds at gmail.com  Thu Sep 16 06:34:52 2010
From: erisds at gmail.com (ErisDS)
Date: Thu, 16 Sep 2010 07:34:52 +0100
Subject: [wp-hackers] wp-admin questions
In-Reply-To: <AANLkTi=VNP1bo22SxGsiq5fv5zrad5SO-F0iPuUzd7sd@mail.gmail.com>
References: <20100915230846.9B1291B5038@smtp.hushmail.com>
	<AANLkTi=VNP1bo22SxGsiq5fv5zrad5SO-F0iPuUzd7sd@mail.gmail.com>
Message-ID: <AANLkTim+rYhiBXT25fZuhapkDUpBdPCAVEwvh=JtoPwT@mail.gmail.com>

This plugin provides for styling the admin theme:

http://wordpress.org/extend/plugins/register-plus/

<http://wordpress.org/extend/plugins/register-plus/>Eris

On Thu, Sep 16, 2010 at 12:16 AM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> There are several plugins and themes which skin the WordPress admin
> [1]. A good start would be to take a look at some of those to see what
> styles they override, but you'll need to write your own in order to
> get WordPress to look like your particular theme as there's no
> out-of-the-box way to do this.
>
> As for interfacing with WordPress via an API check out the XML RPC API
> [2]. This covers a lot of functionality around posts and comments but
> I'm not so sure about users.
>
> [1] http://www.google.com/search?q=wordpress+admin+skin
> [2] http://codex.wordpress.org/XML-RPC_Support
>
> John
>
> On Thu, Sep 16, 2010 at 12:08 AM,  <james68 at hushmail.com> wrote:
> > Is there a plugin anyone knows of that can change thevisual look of
> > wp-admin to match the site, all wp-admin pages.  This is depratley
> > needed by me.
> >
> > Secondly I know this doesn't exist in the core (yet?) but is there
> > any 3rd party plugin or adon or something that can give me access
> > to manage wp-admin stuff via an API, at the very least
> > add/edit/delete Posts, Comments, and Users.  I am looking to build
> > one system,m that will intergaret everything I use thogether using
> > teach services API's would be nice to include my WP site in that if
> > possible.
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dan at dansmart.co.uk  Thu Sep 16 06:44:49 2010
From: dan at dansmart.co.uk (Dan Smart)
Date: Thu, 16 Sep 2010 07:44:49 +0100
Subject: [wp-hackers] WP_Query() for meta_value = Empty or Missing?
In-Reply-To: <4E1C664E-E808-4DEB-820A-8E87F2C90168@newclarity.net>
References: <765691A7-D24E-4507-9714-5535639AC4BB@newclarity.net>	<AANLkTimhF-vhi_U27M5-9mBEuKJoox1SY_WWYGDa6ZXD@mail.gmail.com>	<AANLkTimpdzaHsAuXNwVi9v8QvwsTp9k=B9ANHQW12u0z@mail.gmail.com>
	<4E1C664E-E808-4DEB-820A-8E87F2C90168@newclarity.net>
Message-ID: <000f01cb556a$a9ae7c30$fd0b7490$@co.uk>

I had the same issue just the other day also, and would +1 any query for
'empty' or similar.

I ended up doing two queries - one for those with the meta_value, and then
doing a second with 'post__not_in' for the ids. It worked for me because I
needed to display those with the meta_value separately, so it wasn't a lost
query.

----------------------------------------------------------------------------
---------
Dan Smart - Freelance Web Developer
Web: www.dansmart.co.uk
Tel: +447931588361
Follow me at: www.twitter.com/danielsmart

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mike Schinkel
Sent: 16 September 2010 05:48
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] WP_Query() for meta_value = Empty or Missing?

On Sep 16, 2010, at 12:35 AM, Andrew Nacin wrote:
> On Wed, Sep 15, 2010 at 11:21 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>> Why not just use wpdb.
> 
> Mike, looks like you're going to have to use said hooks. I was doing the
> same thing the other day (and ended up with a different implementation,
but
> I saw the route I needed to take for that).

Thanks for confirming.  Any chance of a near term addition for this kind of
thing?  
Could we add options for 'null', 'empty' and 'nullorempty' to meta_compare?

-Mike

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From rbilesky at gmail.com  Thu Sep 16 07:05:10 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 16 Sep 2010 00:05:10 -0700
Subject: [wp-hackers] wp-admin questions
In-Reply-To: <AANLkTim+rYhiBXT25fZuhapkDUpBdPCAVEwvh=JtoPwT@mail.gmail.com>
References: <20100915230846.9B1291B5038@smtp.hushmail.com>
	<AANLkTi=VNP1bo22SxGsiq5fv5zrad5SO-F0iPuUzd7sd@mail.gmail.com>
	<AANLkTim+rYhiBXT25fZuhapkDUpBdPCAVEwvh=JtoPwT@mail.gmail.com>
Message-ID: <AANLkTinbc1e+hm=EDXTvF1XJw=GQWRpThD_6L2usDD06@mail.gmail.com>

*Last Updated:* 2008-7-29

It doesn't seem that's an actively maintained plugin anymore, over two years
now since last update.

On Wed, Sep 15, 2010 at 11:34 PM, ErisDS <erisds at gmail.com> wrote:

> This plugin provides for styling the admin theme:
>
> http://wordpress.org/extend/plugins/register-plus/
>
> <http://wordpress.org/extend/plugins/register-plus/>Eris
>
> On Thu, Sep 16, 2010 at 12:16 AM, John Blackbourn
> <johnbillion+wp at gmail.com <johnbillion%2Bwp at gmail.com><
> johnbillion%2Bwp at gmail.com <johnbillion%252Bwp at gmail.com>>
>  > wrote:
>
> > There are several plugins and themes which skin the WordPress admin
> > [1]. A good start would be to take a look at some of those to see what
> > styles they override, but you'll need to write your own in order to
> > get WordPress to look like your particular theme as there's no
> > out-of-the-box way to do this.
> >
> > As for interfacing with WordPress via an API check out the XML RPC API
> > [2]. This covers a lot of functionality around posts and comments but
> > I'm not so sure about users.
> >
> > [1] http://www.google.com/search?q=wordpress+admin+skin
> > [2] http://codex.wordpress.org/XML-RPC_Support
> >
> > John
> >
> > On Thu, Sep 16, 2010 at 12:08 AM,  <james68 at hushmail.com> wrote:
> > > Is there a plugin anyone knows of that can change thevisual look of
> > > wp-admin to match the site, all wp-admin pages.  This is depratley
> > > needed by me.
> > >
> > > Secondly I know this doesn't exist in the core (yet?) but is there
> > > any 3rd party plugin or adon or something that can give me access
> > > to manage wp-admin stuff via an API, at the very least
> > > add/edit/delete Posts, Comments, and Users.  I am looking to build
> > > one system,m that will intergaret everything I use thogether using
> > > teach services API's would be nice to include my WP site in that if
> > > possible.
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From erisds at gmail.com  Thu Sep 16 07:18:17 2010
From: erisds at gmail.com (ErisDS)
Date: Thu, 16 Sep 2010 08:18:17 +0100
Subject: [wp-hackers] wp-admin questions
In-Reply-To: <AANLkTinbc1e+hm=EDXTvF1XJw=GQWRpThD_6L2usDD06@mail.gmail.com>
References: <20100915230846.9B1291B5038@smtp.hushmail.com>
	<AANLkTi=VNP1bo22SxGsiq5fv5zrad5SO-F0iPuUzd7sd@mail.gmail.com>
	<AANLkTim+rYhiBXT25fZuhapkDUpBdPCAVEwvh=JtoPwT@mail.gmail.com>
	<AANLkTinbc1e+hm=EDXTvF1XJw=GQWRpThD_6L2usDD06@mail.gmail.com>
Message-ID: <AANLkTikp=3zu18qsVYsKURvd-2Qf5CuJxqg1Ah+isLjR@mail.gmail.com>

Still works though :)

I have found it to be invaluable, and has more features than any other such
plugin.

On Thu, Sep 16, 2010 at 8:05 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> *Last Updated:* 2008-7-29
>
> It doesn't seem that's an actively maintained plugin anymore, over two
> years
> now since last update.
>
> On Wed, Sep 15, 2010 at 11:34 PM, ErisDS <erisds at gmail.com> wrote:
>
> > This plugin provides for styling the admin theme:
> >
> > http://wordpress.org/extend/plugins/register-plus/
> >
> > <http://wordpress.org/extend/plugins/register-plus/>Eris
> >
> > On Thu, Sep 16, 2010 at 12:16 AM, John Blackbourn
> > <johnbillion+wp at gmail.com <johnbillion%2Bwp at gmail.com> <
> johnbillion%2Bwp at gmail.com <johnbillion%252Bwp at gmail.com>><
> > johnbillion%2Bwp at gmail.com <johnbillion%252Bwp at gmail.com> <
> johnbillion%252Bwp at gmail.com <johnbillion%25252Bwp at gmail.com>>>
> >  > wrote:
> >
> > > There are several plugins and themes which skin the WordPress admin
> > > [1]. A good start would be to take a look at some of those to see what
> > > styles they override, but you'll need to write your own in order to
> > > get WordPress to look like your particular theme as there's no
> > > out-of-the-box way to do this.
> > >
> > > As for interfacing with WordPress via an API check out the XML RPC API
> > > [2]. This covers a lot of functionality around posts and comments but
> > > I'm not so sure about users.
> > >
> > > [1] http://www.google.com/search?q=wordpress+admin+skin
> > > [2] http://codex.wordpress.org/XML-RPC_Support
> > >
> > > John
> > >
> > > On Thu, Sep 16, 2010 at 12:08 AM,  <james68 at hushmail.com> wrote:
> > > > Is there a plugin anyone knows of that can change thevisual look of
> > > > wp-admin to match the site, all wp-admin pages.  This is depratley
> > > > needed by me.
> > > >
> > > > Secondly I know this doesn't exist in the core (yet?) but is there
> > > > any 3rd party plugin or adon or something that can give me access
> > > > to manage wp-admin stuff via an API, at the very least
> > > > add/edit/delete Posts, Comments, and Users.  I am looking to build
> > > > one system,m that will intergaret everything I use thogether using
> > > > teach services API's would be nice to include my WP site in that if
> > > > possible.
> > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From austin at ilfilosofo.com  Thu Sep 16 07:32:23 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Thu, 16 Sep 2010 02:32:23 -0500
Subject: [wp-hackers] The WordPress way to store temporary per user data
	(sessions)?
In-Reply-To: <AANLkTinZus+rb5XFwk8X4GMDG20fUUN=6JSo=5MtRUuQ@mail.gmail.com>
References: <4C913E54.9020405@unFocus.com>
	<AANLkTinyE4-TS2_Gr9sNNAmF8uPP+fJ3r-suRMSF=iMm@mail.gmail.com>
	<AANLkTinZus+rb5XFwk8X4GMDG20fUUN=6JSo=5MtRUuQ@mail.gmail.com>
Message-ID: <AANLkTimEBeWmzBxTkQVGJb8jPBBx+xsyQWHBkjLDLpSb@mail.gmail.com>

On Thu, Sep 16, 2010 at 1:20 AM, Ozh <ozh at ozh.org> wrote:
>> However, since in general WP tends to put temporary data in the
>> database (I'm thinking of WP transients) and has over time moved away
>> from core file caching, I would speculate that if there were to be a
>> WP way, it would be to use session_set_save_handler and define
>> callbacks that interact with the database.
>
> Why use transients and, in most case where an object cache is not
> used, issue an extra SQL query?

Someone might want to save sessions to the database if, for example,
her WordPress-powered site employs load balancing.

By the way, I wasn't suggesting that one use transients in particular
for session storage---just that saving sessions to the database seems
more like the "WordPress way," with transients as an example of that
"way."

From wordpress at zed1.com  Thu Sep 16 08:40:06 2010
From: wordpress at zed1.com (Mike Little)
Date: Thu, 16 Sep 2010 09:40:06 +0100
Subject: [wp-hackers] Error message: Are you sure you want to do this?
 Please try again.
In-Reply-To: <C8B6E015.BFE5%emoya@tribune.com>
References: <AANLkTim61kNG5do=9EbbT7Ta_-=FL4MWbLk2h5uPbTcA@mail.gmail.com>
	<C8B6E015.BFE5%emoya@tribune.com>
Message-ID: <AANLkTinq12EYqUhRfjZ45-TEzFfOJ04733Y1Oz2wq=VO@mail.gmail.com>

You also get this message if you've left your browser window open on an
admin screen long enough for the nonce to expire (24 hours?). It could be as
simple as that.

Mike
-- 
Mike Little
http://zed1.com/

From paul at codehooligans.com  Thu Sep 16 11:32:49 2010
From: paul at codehooligans.com (Paul)
Date: Thu, 16 Sep 2010 07:32:49 -0400
Subject: [wp-hackers] Plugin version update indicator
Message-ID: <2898B3DD-6585-4C18-AA93-E3FD3D45A9E7@codehooligans.com>

I'm about to update two of my older plugins. In doing this I want to move the minimum supported WordPress version way up. How intelligent is the wordpress.org update engine? If I move the minimum supported version to say 2.9.2 for example will users running 2.9.1 still receive the plugin update notification on their system? I would rather they didn't so they can continue running the older code until the upgrade to new WordPress core. 

P-


From wp at andrewnacin.com  Thu Sep 16 11:34:32 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 16 Sep 2010 07:34:32 -0400
Subject: [wp-hackers] wp-admin questions
In-Reply-To: <20100915230846.9B1291B5038@smtp.hushmail.com>
References: <20100915230846.9B1291B5038@smtp.hushmail.com>
Message-ID: <AANLkTi=SZ360UJiMbDGNd2abjEayG4BrELWfUtD95uze@mail.gmail.com>

On Wed, Sep 15, 2010 at 7:08 PM, <james68 at hushmail.com> wrote:

> Is there a plugin anyone knows of that can change thevisual look of
> wp-admin to match the site, all wp-admin pages.  This is depratley
> needed by me.
>

Not so much a plugin, but Jake Goldman gave a great presentation at WordCamp
Mid-Atlantic last weekend (a reprise of one from Chicago) on customizing the
WordPress admin. He released the code:
http://www.cmurrayconsulting.com/wordpress-tips/customizing-wordpress-admin/
.

From wp at andrewnacin.com  Thu Sep 16 11:39:33 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 16 Sep 2010 07:39:33 -0400
Subject: [wp-hackers] Plugin version update indicator
In-Reply-To: <2898B3DD-6585-4C18-AA93-E3FD3D45A9E7@codehooligans.com>
References: <2898B3DD-6585-4C18-AA93-E3FD3D45A9E7@codehooligans.com>
Message-ID: <AANLkTim0J9BaUA=tv++TnNq220_c=W0rYB4Ux4wr+h_M@mail.gmail.com>

On Thu, Sep 16, 2010 at 7:32 AM, Paul <paul at codehooligans.com> wrote:

> I'm about to update two of my older plugins. In doing this I want to move
> the minimum supported WordPress version way up. How intelligent is the
> wordpress.org update engine? If I move the minimum supported version to
> say 2.9.2 for example will users running 2.9.1 still receive the plugin
> update notification on their system?


They will not. The WordPresss install passes the current WP version to
api.wordpress.org, and the API checks that against the minimum.

From emoya at tribune.com  Thu Sep 16 14:29:14 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Thu, 16 Sep 2010 09:29:14 -0500
Subject: [wp-hackers] Error message: Are you sure you want to do this?
 Please try again.
In-Reply-To: <AANLkTinq12EYqUhRfjZ45-TEzFfOJ04733Y1Oz2wq=VO@mail.gmail.com>
Message-ID: <C8B793EA.C021%emoya@tribune.com>

Is that true? Wouldn't the nonce just be checked when your page is loaded, and then a new one created the next time you need one? I know they expire after 24hrs or something like that, but I thought they were single use only ( hence nonce ).

I never really understood why they had such a long expiration time, but If they are used more than once, that I guess that might partially explain it.


On 9/16/10 3:40 AM, "Mike Little" <wordpress at zed1.com> wrote:

You also get this message if you've left your browser window open on an
admin screen long enough for the nonce to expire (24 hours?). It could be as
simple as that.

Mike
--
Mike Little
http://zed1.com/
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From wphackers at jakemgold.myfastmail.com  Thu Sep 16 15:05:36 2010
From: wphackers at jakemgold.myfastmail.com (Jake Goldman)
Date: Thu, 16 Sep 2010 11:05:36 -0400
Subject: [wp-hackers] wp-admin questions
In-Reply-To: <AANLkTi=SZ360UJiMbDGNd2abjEayG4BrELWfUtD95uze@mail.gmail.com>
References: <20100915230846.9B1291B5038@smtp.hushmail.com>
	<AANLkTi=SZ360UJiMbDGNd2abjEayG4BrELWfUtD95uze@mail.gmail.com>
Message-ID: <4C923240.8000601@jakemgold.myfastmail.com>

  Thanks for the plug, Andrew. :-)

Be happy to take specific questions on it, too.

Jake


On 9/16/2010 7:34 AM, Andrew Nacin wrote:
> On Wed, Sep 15, 2010 at 7:08 PM,<james68 at hushmail.com>  wrote:
>
>> Is there a plugin anyone knows of that can change thevisual look of
>> wp-admin to match the site, all wp-admin pages.  This is depratley
>> needed by me.
>>
> Not so much a plugin, but Jake Goldman gave a great presentation at WordCamp
> Mid-Atlantic last weekend (a reprise of one from Chicago) on customizing the
> WordPress admin. He released the code:
> http://www.cmurrayconsulting.com/wordpress-tips/customizing-wordpress-admin/
> .
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ashishsainiashfame at gmail.com  Thu Sep 16 16:41:44 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Thu, 16 Sep 2010 22:11:44 +0530
Subject: [wp-hackers] embed shortcode
Message-ID: <AANLkTimtLrLVydj_qTiDTWU0a-S=EO4iDMyOp6x09bFn@mail.gmail.com>

Hi,

I am trying to use this in a template :

$fire = '[embed width="427"]'.$prs_spec["video"].'[/embed]';
echo do_shortcode($fire);

But it just displays the content of $fire.

Even echo do_shortcode('[embed]
http://www.youtube.com/watch?v=MuaBAe-lqdg[/embed]'); didn't work.

How can I use embed shortcode anywhere on the theme?

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame

From emoya at tribune.com  Thu Sep 16 16:55:17 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Thu, 16 Sep 2010 11:55:17 -0500
Subject: [wp-hackers] embed shortcode
In-Reply-To: <AANLkTimtLrLVydj_qTiDTWU0a-S=EO4iDMyOp6x09bFn@mail.gmail.com>
Message-ID: <C8B7B625.C03D%emoya@tribune.com>

Try this...

http://codex.wordpress.org/Function_Reference/wp_oembed_get


On 9/16/10 11:41 AM, "Ashish Saini" <ashishsainiashfame at gmail.com> wrote:

Hi,

I am trying to use this in a template :

$fire = '[embed width="427"]'.$prs_spec["video"].'[/embed]';
echo do_shortcode($fire);

But it just displays the content of $fire.

Even echo do_shortcode('[embed]
http://www.youtube.com/watch?v=MuaBAe-lqdg[/embed]'); didn't work.

How can I use embed shortcode anywhere on the theme?

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From patrik.bona at mrhead.sk  Thu Sep 16 16:57:59 2010
From: patrik.bona at mrhead.sk (=?ISO-8859-1?Q?Patrik_B=F3na?=)
Date: Thu, 16 Sep 2010 18:57:59 +0200
Subject: [wp-hackers] embed shortcode
In-Reply-To: <AANLkTimtLrLVydj_qTiDTWU0a-S=EO4iDMyOp6x09bFn@mail.gmail.com>
References: <AANLkTimtLrLVydj_qTiDTWU0a-S=EO4iDMyOp6x09bFn@mail.gmail.com>
Message-ID: <4C924C97.3010605@mrhead.sk>

Did you registered your shortcode with add_shortcode()? Is it working 
when you put it in the content of post?

And btw. you can use oEmbed for including for youtube videos:

echo wp_get_oembed('http://youtube.com/video_uri', 'width=400');


Patrik


On 09/16/2010 06:41 PM, Ashish Saini wrote:
> Hi,
>
> I am trying to use this in a template :
>
> $fire = '[embed width="427"]'.$prs_spec["video"].'[/embed]';
> echo do_shortcode($fire);
>
> But it just displays the content of $fire.
>
> Even echo do_shortcode('[embed]
> http://www.youtube.com/watch?v=MuaBAe-lqdg[/embed]'); didn't work.
>
> How can I use embed shortcode anywhere on the theme?
>
> Thanks&  Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
> : http://twitter.com/ashfame
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>    


From otto at ottodestruct.com  Thu Sep 16 17:00:34 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 16 Sep 2010 12:00:34 -0500
Subject: [wp-hackers] embed shortcode
In-Reply-To: <AANLkTimtLrLVydj_qTiDTWU0a-S=EO4iDMyOp6x09bFn@mail.gmail.com>
References: <AANLkTimtLrLVydj_qTiDTWU0a-S=EO4iDMyOp6x09bFn@mail.gmail.com>
Message-ID: <AANLkTinEwZ9KriBEANybnKbRWa9p32CXkd-OuMkh+=rD@mail.gmail.com>

The embed shortcode works differently than other shortcodes. It only
gets added to the available shortcodes processing list during the call
to the_content, so you can't use it outside of this context. This is
for security reasons.

So yes, use the wp_get_oembed function instead.

-Otto



On Thu, Sep 16, 2010 at 11:41 AM, Ashish Saini
<ashishsainiashfame at gmail.com> wrote:
> Hi,
>
> I am trying to use this in a template :
>
> $fire = '[embed width="427"]'.$prs_spec["video"].'[/embed]';
> echo do_shortcode($fire);
>
> But it just displays the content of $fire.
>
> Even echo do_shortcode('[embed]
> http://www.youtube.com/watch?v=MuaBAe-lqdg[/embed]'); didn't work.
>
> How can I use embed shortcode anywhere on the theme?
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
> : http://twitter.com/ashfame
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jer at simianuprising.com  Thu Sep 16 17:11:55 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Thu, 16 Sep 2010 13:11:55 -0400
Subject: [wp-hackers] Where Should Plugins Store Files?
In-Reply-To: <AANLkTim6=3MGU8-zSokMu1ERAr-mNDiBNkgjFLBTf+n2@mail.gmail.com>
References: <002101cb52e4$bc52b870$34f82950$@expost.org>
	<AANLkTimXieMP5==usj8bGqABFQ8Kvbi=tTCL5mGRw5UN@mail.gmail.com>
	<AANLkTikxSO3tw1d6=uGtroDC5h9CL0d8R2s9KOOBqAHo@mail.gmail.com>
	<4C8E0719.9020202@rotorised.com> <4C8E2019.3090701@gunters.org>
	<4C8E9010.6030707@rotorised.com> <4C8EA8FE.50103@gunters.org>
	<4C8F12C5.1090900@rotorised.com>
	<990DA401C5C54400BAB137C5C3FBD9FC@frumph.net>
	<AANLkTim6=3MGU8-zSokMu1ERAr-mNDiBNkgjFLBTf+n2@mail.gmail.com>
Message-ID: <AANLkTinAYSGJ7vMgr0gW1p1toWffELamNsh4Xn+KnpEL@mail.gmail.com>

On Tue, Sep 14, 2010 at 3:09 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> I don't thing another directory for plugin data is necessary.  I personally
> use a sub-dir of uploads.  I see no reason why anyone whould have to use
> anythign diffrent.
>

+1

Properly securing even one directory can involve many lines of
Apache/.htaccess config. Also when moving installations around within a
server the permissions can easily get lost and need to be reset. Having as
few deviations as possible from a standard (unwritable) is the best bet for
keeping things simple.

ALSO: On top of Jacob's strategy of having nothing writable except uploads,
it is also a good idea to disable execution of PHP files in that writable
dir. Otherwise if a hacker can manage to upload a php file (maybe disguised
as a .jpg or something) they can use it to exploit other parts of your
system.

The upshot of this is that I hope no one is using their plugins to output
.php files into the writable directories they create, as they wouldn't work
on my site. I don't see any reason why doing so would make sense, but people
will try anything sometimes.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From ashishsainiashfame at gmail.com  Thu Sep 16 19:55:41 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Fri, 17 Sep 2010 01:25:41 +0530
Subject: [wp-hackers] embed shortcode
In-Reply-To: <AANLkTinEwZ9KriBEANybnKbRWa9p32CXkd-OuMkh+=rD@mail.gmail.com>
References: <AANLkTimtLrLVydj_qTiDTWU0a-S=EO4iDMyOp6x09bFn@mail.gmail.com>
	<AANLkTinEwZ9KriBEANybnKbRWa9p32CXkd-OuMkh+=rD@mail.gmail.com>
Message-ID: <AANLkTi=cbqc1-=3BaRu82DzvJ6NLQ-CNxJ0drRht0PCp@mail.gmail.com>

Thanks Moya, Patrik & Otto!

I got that to work but I am still curious about what all arguments we can
pass.

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Thu, Sep 16, 2010 at 10:30 PM, Otto <otto at ottodestruct.com> wrote:

> The embed shortcode works differently than other shortcodes. It only
> gets added to the available shortcodes processing list during the call
> to the_content, so you can't use it outside of this context. This is
> for security reasons.
>
> So yes, use the wp_get_oembed function instead.
>
> -Otto
>
>
>
> On Thu, Sep 16, 2010 at 11:41 AM, Ashish Saini
> <ashishsainiashfame at gmail.com> wrote:
> > Hi,
> >
> > I am trying to use this in a template :
> >
> > $fire = '[embed width="427"]'.$prs_spec["video"].'[/embed]';
> > echo do_shortcode($fire);
> >
> > But it just displays the content of $fire.
> >
> > Even echo do_shortcode('[embed]
> > http://www.youtube.com/watch?v=MuaBAe-lqdg[/embed]'); didn't work.
> >
> > How can I use embed shortcode anywhere on the theme?
> >
> > Thanks & Regards
> > Ashish Saini aka Ashfame
> > (Deserve Before You Desire)
> > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter
> > : http://twitter.com/ashfame
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Thu Sep 16 21:07:58 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 16 Sep 2010 16:07:58 -0500
Subject: [wp-hackers] embed shortcode
In-Reply-To: <AANLkTinEwZ9KriBEANybnKbRWa9p32CXkd-OuMkh+=rD@mail.gmail.com>
References: <AANLkTimtLrLVydj_qTiDTWU0a-S=EO4iDMyOp6x09bFn@mail.gmail.com>
	<AANLkTinEwZ9KriBEANybnKbRWa9p32CXkd-OuMkh+=rD@mail.gmail.com>
Message-ID: <AANLkTinhmiJc8qwsMYE66xzQKTCbDOFRsob+8KsDOH0w@mail.gmail.com>

My mistake, it's wp_oembed_get().

The first parameter is the URL. The second is an array of arguments.
Available arguments:
discover => true/false - enables oembed discovery.
width => number
height => number - max widths and heights

-Otto

From johnbillion+wp at gmail.com  Thu Sep 16 21:31:56 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu, 16 Sep 2010 22:31:56 +0100
Subject: [wp-hackers] embed shortcode
In-Reply-To: <AANLkTinhmiJc8qwsMYE66xzQKTCbDOFRsob+8KsDOH0w@mail.gmail.com>
References: <AANLkTimtLrLVydj_qTiDTWU0a-S=EO4iDMyOp6x09bFn@mail.gmail.com>
	<AANLkTinEwZ9KriBEANybnKbRWa9p32CXkd-OuMkh+=rD@mail.gmail.com>
	<AANLkTinhmiJc8qwsMYE66xzQKTCbDOFRsob+8KsDOH0w@mail.gmail.com>
Message-ID: <AANLkTi=G7hEjdLWKWeyrNTASKq9Gj-xx+LcMj6hXzOL4@mail.gmail.com>

Note that wp_oembed_get() actually fetches the content from the source
URL (ie. youtube.com) on every call, so you should cache the result in
a transient or a post meta field.

On Thu, Sep 16, 2010 at 10:07 PM, Otto <otto at ottodestruct.com> wrote:
> My mistake, it's wp_oembed_get().
>
> The first parameter is the URL. The second is an array of arguments.
> Available arguments:
> discover => true/false - enables oembed discovery.
> width => number
> height => number - max widths and heights
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From joelfisher at gmail.com  Thu Sep 16 21:54:18 2010
From: joelfisher at gmail.com (Joel Fisher)
Date: Thu, 16 Sep 2010 17:54:18 -0400
Subject: [wp-hackers] Anything like a Plugin Framework?
In-Reply-To: <AANLkTinc-VW5p7=c6rkc5Bs0gbKBqx6CrZBJ2tdCCfHY@mail.gmail.com>
References: <000601cb5486$49474730$dbd5d590$@expost.org>
	<AANLkTinQ71fK0tSRQtfF2Cc809iiKAE_zyUPoj=QjBqD@mail.gmail.com>
	<AANLkTik-afMvy8suB=qmkq5Ac029QFm_ra4WVFDenEj+@mail.gmail.com>
	<50147B7E-512D-4F62-A385-E2BBC3CB6771@riskiii.com>
	<AANLkTi=FxKSqCeAz+vS99XTsduSA=frSK41O5ghphsaK@mail.gmail.com>
	<AANLkTi=RLLADYGWiLO6WPhF9_E7wChL55Nste-J7HxTr@mail.gmail.com>
	<AANLkTimZZh-ic9Z2ipcbJMei4xHQecc4LdA+dhPYwDfi@mail.gmail.com>
	<AANLkTinc-VW5p7=c6rkc5Bs0gbKBqx6CrZBJ2tdCCfHY@mail.gmail.com>
Message-ID: <AANLkTi=wAAL=FMpiHgz3T6wtPJ=zbU8L=fyeZmmLG6Hs@mail.gmail.com>

http://code.google.com/p/wordpress-plugin-framework/

joel.fisher
www.flushinc.com

Linkedin: http://www.linkedin.com/in/jfisher
Follow: www.twitter.com/joelmoney




On Wed, Sep 15, 2010 at 4:36 PM, ErisDS <erisds at gmail.com> wrote:
> I've put my code online:
>
> http://erisds.co.uk/resources/wp-simple-widget-plugin
>
> <http://erisds.co.uk/resources/wp-simple-widget-plugin>Please note this is
> just the code in the state I use it - there has been no consideration for
> server setups etc & no extensive testing. If you do use it, I'd appreciate
> you taking the time to send me any feedback. If it doesn't work, or you have
> ideas for additions let me know.
>
> I really like the idea of creating a generator web app & will have a go at
> setting this up soon.
>
> Eris
>
>
> On Wed, Sep 15, 2010 at 7:47 PM, Frank Bueltge <frank at bueltge.de> wrote:
>
>> Thanks :)
>>
>> you can find a plugin on github for this example and little bid more:
>> http://github.com/bueltge/different-type
>>
>>
>> On Wed, Sep 15, 2010 at 8:35 PM, Ken (WraithKenny)
>> <ken.adcstudio at gmail.com>wrote:
>>
>> > I've built a plugin off of Frank Bueltge's template (
>> >
>> >
>> http://wpengineer.com/1991/example-how-to-add-meta-boxes-to-edit-area/thanks
>> > Frank!). Anyone interested in collaborating on a Plugin Scaffold at
>> > Github maybe?
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From info at toscho.de  Thu Sep 16 22:19:51 2010
From: info at toscho.de (Thomas Scholz)
Date: Fri, 17 Sep 2010 00:19:51 +0200
Subject: [wp-hackers] wp-admin questions
In-Reply-To: <20100915230846.9B1291B5038@smtp.hushmail.com>
References: <20100915230846.9B1291B5038@smtp.hushmail.com>
Message-ID: <op.vi5cbexrr6yny2@perplexifikator.speedport-w-303v-typ-a>

> Is there a plugin anyone knows of that can change thevisual look of
> wp-admin to match the site, all wp-admin pages.  This is depratley
> needed by me.

I?ve written a simple example. Text in German, but the code is plain  
PHP/English:
<http://toscho.de/2010/wordpress-plugin-backend-style-enhancements/>

Regards
Thomas

-- 
http://toscho.de

From eric at eamann.com  Thu Sep 16 22:23:28 2010
From: eric at eamann.com (Eric Mann)
Date: Thu, 16 Sep 2010 15:23:28 -0700 (PDT)
Subject: [wp-hackers] WordPress, Trademarks, and WordPress.com
Message-ID: <1135858291.444294.1284675809068.JavaMail.open-xchange@oxusltgw11.schlund.de>

I just had a potential client bow out of a project due to a lot of confusion
between WordPress and WordPress.com. They asked for a WordPress plug-in, we went
through the standard process for bidding on custom development, then they said
"wait, but it has to work on this WordPress.com website ... will it work there?"
And that was the end of that job.
As most of you know, you can't install custom plug-ins on a WordPress.com blog.
Even though the site itself is powered by WordPress, it's still part of a
for-profit enterprise that uses a closed system to manage and make money from
member accounts. Unfortunately, most people coming in from the outside don't
realize that WordPress(.org) and WordPress.com are two different things.
This brings up an interesting issue from a trademark standpoint. Since the
WordPress Foundation now owns the trademark ... and they say we (as in the
community) can't use "WordPress" in business names, domain names, or?"in any way
that suggests an affiliation with or endorsement by the WordPress Foundation or
the WordPress open source project."
Further,?"under no circumstances is it permitted to use WordPress as part of a
top-level domain name."
I realize that Automattic had been using WordPress.com for a long time before
any of this happened ... but does that mean WordPress.com will be grandfathered
in to this new rule as an exception? What does that mean for the rest of us
running for-profit WP hosting sites? How significant is the name confusion
problem (WordPress versus WordPress[.org] versus WordPress[.com])?
(This was also posted to WordPress Answers Meta for
discussion:?http://meta.wordpress.stackexchange.com/questions/163/wordpress-trademarks-and-wordpress-com
)

From jon at lionsgoroar.co.uk  Thu Sep 16 22:47:39 2010
From: jon at lionsgoroar.co.uk (Jon Cave)
Date: Thu, 16 Sep 2010 23:47:39 +0100
Subject: [wp-hackers] WordPress, Trademarks, and WordPress.com
In-Reply-To: <1135858291.444294.1284675809068.JavaMail.open-xchange@oxusltgw11.schlund.de>
References: <1135858291.444294.1284675809068.JavaMail.open-xchange@oxusltgw11.schlund.de>
Message-ID: <AANLkTimpDb3JyD4Wc=tx+XnZedbD_1oXd+=PyAAxTkrs@mail.gmail.com>

On Thu, Sep 16, 2010 at 11:23 PM, Eric Mann <eric at eamann.com> wrote:
> I realize that Automattic had been using WordPress.com for a long time before
> any of this happened ... but does that mean WordPress.com will be grandfathered
> in to this new rule as an exception?

Correct. http://ma.tt/2010/09/wordpress-trademark/#comment-485325

From rbilesky at gmail.com  Fri Sep 17 04:38:47 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Thu, 16 Sep 2010 21:38:47 -0700
Subject: [wp-hackers] add metabox to comments
Message-ID: <AANLkTinGod1nkEhph8DSaYMq=8u04SRLxVbwNZkhrT9t@mail.gmail.com>

I am trying to add a metabox to the edit posts and edit comments pages, the
posts page is easy the add_meta_box() function.  Is there an equivalent
function or some way short of hacking the core to add a section to the
bottom of the edit comments page?

From frank at bueltge.de  Fri Sep 17 05:49:34 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Fri, 17 Sep 2010 07:49:34 +0200
Subject: [wp-hackers] wp-admin questions
In-Reply-To: <op.vi5cbexrr6yny2@perplexifikator.speedport-w-303v-typ-a>
References: <20100915230846.9B1291B5038@smtp.hushmail.com>
	<op.vi5cbexrr6yny2@perplexifikator.speedport-w-303v-typ-a>
Message-ID: <AANLkTi=iRVFVY+q60vER7eP=aRQqkwyrHWorReJ+KVOb@mail.gmail.com>

The plugin Adminimize has also this possibiliies, different styles. You can
add own styles or use this for learn the possibiliies.

From scribu at gmail.com  Fri Sep 17 09:22:51 2010
From: scribu at gmail.com (scribu)
Date: Fri, 17 Sep 2010 12:22:51 +0300
Subject: [wp-hackers] add metabox to comments
In-Reply-To: <AANLkTinGod1nkEhph8DSaYMq=8u04SRLxVbwNZkhrT9t@mail.gmail.com>
References: <AANLkTinGod1nkEhph8DSaYMq=8u04SRLxVbwNZkhrT9t@mail.gmail.com>
Message-ID: <AANLkTimKue4qwmUmWx70UAkfGu4j6W3xFcv+rrjPbtvh@mail.gmail.com>

On Fri, Sep 17, 2010 at 7:38 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> I am trying to add a metabox to the edit posts and edit comments pages, the
> posts page is easy the add_meta_box() function.  Is there an equivalent
> function or some way short of hacking the core to add a section to the
> bottom of the edit comments page?
>

You can use add_meta_box() for the edit comment page too. See
wp-admin/edit-form-comment.php


-- 
http://scribu.net

From peroyomaslists at gmail.com  Fri Sep 17 13:11:20 2010
From: peroyomaslists at gmail.com (=?ISO-8859-1?Q?Andr=E9s_Sanhueza?=)
Date: Fri, 17 Sep 2010 09:11:20 -0400
Subject: [wp-hackers] Being able to add aditional text when invoking a
 taxonomy term in a post type
Message-ID: <AANLkTi=oxhycp4NuQFCUSyQf1qtnxOd0ho+3xB1S=XyY@mail.gmail.com>

Hello. There's a couple of features I want to do with taxonomies in
post types, but not sure how. I mention both since they are related
for what I want to accomplish:

? Being able to add additional data to taxonomy terms in the specific
post, something like, if the post type is Character and the taxonomy
is Episodes, the terms would look like this in the posts (between
parenthesis is the additional data associated with the specific post):

Episode 1, Episode 2, Episode 3 (Cameo), Episode 4, Episode 5 (Via
flashback), Episode 6

There metadata should display bi-directionally.

? In addition to that, yet not as priority, being able to name terms
in a post type but don't create them when mentioned, but give the
option to can create them later. I'm thinking more like in a wiki,
were in stuff like an infobox not everything links to an article if is
not very article-worthy, but is still mentioned.

This can also be combined with some redirection for some taxonomies,
but that's already easy to accomplish by many ways.

Andr?s Sanhueza

From introduccio at gmail.com  Fri Sep 17 15:26:28 2010
From: introduccio at gmail.com (Sergio Sola)
Date: Fri, 17 Sep 2010 17:26:28 +0200
Subject: [wp-hackers] Deleting users
Message-ID: <AANLkTinCu1XEyS5ReHFpTaO_GfhkVNipxM8Wg6ZA1jUV@mail.gmail.com>

Hi folks,

I am trying to delete some users from WordPress, I can delete it from
WordPress back-end, but this users still exists in the database. I think
WordPress use some type of user-meta to set if user has been deleted or not.
The problem, when I going to members section in BuddyPress, the user that I
deleted is there yet! How I can remove the user completly?

Thanks,

Regards.

-- 
Sergio Sola Dom?nguez

From jer at simianuprising.com  Fri Sep 17 16:20:55 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Fri, 17 Sep 2010 12:20:55 -0400
Subject: [wp-hackers] Plugin and theme developer plugins
In-Reply-To: <4C8E7B5C.1060103@elfden.co.uk>
References: <4C8E6BBD.3080103@elfden.co.uk>
	<AANLkTimykcqYLF_nhMXAtbDWp71ABz=B6H5hsXUjWbVZ@mail.gmail.com>
	<4C8E7B5C.1060103@elfden.co.uk>
Message-ID: <AANLkTimy18mXy2e3RgksKt+_s1L+Q03PMwonAM17WOvL@mail.gmail.com>

On Mon, Sep 13, 2010 at 3:28 PM, Rich Pedley <elfin at elfden.co.uk> wrote:

> On 13/09/2010 19:52, Andrew Nacin wrote:
>
>> [0] As long as "WP_DEBUG" is in size 40 font on that page, preferably red
>> and blinking.
>>
>
> you forgot  - and scrolling.
>
> Though having that turned on all the time can be a pain when you have to
> use someone else's plugin... and end up ditching it because of the errors.
>
>
Email them the changes to fix it! It's usually just one or two lines that
clearly won't break anything ($yourvar = ''; being the most commonly needed
fix). Unless the the plugin is derelict they will update it so you don't
have to constantly re-patch the plugin when you update it. If they don't
care enough to incorporate your patch into the next version you should
probably find a new plugin ;)

I recently started working with WP_DEBUG on again after a hiatus where I
turned it off for various reasons. I love it and wish I had never turned it
off. I've found so many little bugs in my code that just sat there while
WP_DEBUG was off. It's incredibly useful and once you learn to navigate the
choppy waters of PHP undefined variable notices it will help you write much
better code by forcing you to think about why you are seeing the notices.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From rbilesky at gmail.com  Fri Sep 17 17:06:50 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Fri, 17 Sep 2010 10:06:50 -0700
Subject: [wp-hackers] add metabox to comments
In-Reply-To: <AANLkTimKue4qwmUmWx70UAkfGu4j6W3xFcv+rrjPbtvh@mail.gmail.com>
References: <AANLkTinGod1nkEhph8DSaYMq=8u04SRLxVbwNZkhrT9t@mail.gmail.com>
	<AANLkTimKue4qwmUmWx70UAkfGu4j6W3xFcv+rrjPbtvh@mail.gmail.com>
Message-ID: <AANLkTim45P951fyL03Tt6-xpWYMd0O7kW1u=bO8f79b6@mail.gmail.com>

That should be easy then.  Wish they would keep the codex up to date, it
said that only works with the Write Post, Write Page, and Write Link editing
pages.

On Fri, Sep 17, 2010 at 2:22 AM, scribu <scribu at gmail.com> wrote:

>  On Fri, Sep 17, 2010 at 7:38 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > I am trying to add a metabox to the edit posts and edit comments pages,
> the
> > posts page is easy the add_meta_box() function.  Is there an equivalent
> > function or some way short of hacking the core to add a section to the
> > bottom of the edit comments page?
> >
>
> You can use add_meta_box() for the edit comment page too. See
> wp-admin/edit-form-comment.php
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From gregg at fatheaddesign.com  Fri Sep 17 17:15:59 2010
From: gregg at fatheaddesign.com (Gregg F. Tomlinson)
Date: Fri, 17 Sep 2010 12:15:59 -0500
Subject: [wp-hackers] Multi-sites in WP 3.0 running SLOOOOOOOOW
Message-ID: <6D934BF9-37CB-434D-A62A-91C3AB265719@fatheaddesign.com>

Anyone running multi-sites in WP 3.0 have any pointers on getting them  
to run faster? Currently I'm working on a bunch of WP sites that I  
want to have running on the same WP install. Reason for doing multi- 
site is that these are all for the same client, and they'd like to be  
able to just log into one backend to edit all their sites.

Eventually there will be 18 separate mobile-only sites (redirected  
from existing Flash-based desktop user sites via php) off the same WP  
install, and just in dev right now with five sites on this install  
they are running super slow. These are hosted on a private server  
(physical, not cloud-based) at Rackspace so I know it's not server  
load or traffic related, it's got to be the code itself. I have WP  
multi-site set up to run each site as a subdomain of the main URL, and  
this is working very well... it's only when you get into the secondary  
pages of the site where the sites practically grind to a halt.


::::  ::::  ::::

Gregg Tomlinson
Principal

fathead design, inc.
1329 W. Loyola Ave.
Suite G2
Chicago, Illinois  60626

p: 773.338.1313
f: 773.338.1340

web: http://fatheaddesign.com
facebook: http://facebook.com/pages/Chicago-IL/fathead-design/227968970370
twitter: http://twitter.com/fatheaddesign

** please consider the environment before you print this e-mail **






From kenburcham at gmail.com  Fri Sep 17 17:50:11 2010
From: kenburcham at gmail.com (Ken Burcham)
Date: Fri, 17 Sep 2010 10:50:11 -0700
Subject: [wp-hackers] Multi-sites in WP 3.0 running SLOOOOOOOOW
In-Reply-To: <6D934BF9-37CB-434D-A62A-91C3AB265719@fatheaddesign.com>
References: <6D934BF9-37CB-434D-A62A-91C3AB265719@fatheaddesign.com>
Message-ID: <26951399-007E-4211-92F2-F3936BB6CF2A@gmail.com>

Hi Gregg,

   Just went through a round of learning about performance on  
wordpress and I found YSlow! helpful in diagnosing issues.  After  
fixing a few things that were obvious after seeing yslow's results, I  
disabled unused plugins and updated others.  But the really big fix  
was to use W3TotalCache as it takes care of most of the common issues  
in an easy to install way...  When I was done, the client's site which  
in the beginning was taking 10+ seconds per click was down to <1s in  
most cases.

hth,

ken.


Ken Burcham
541-429-5550
ken at damrei.com
http://linkedin.com/in/kenburcham



On Sep 17, 2010, at 10:15 AM, Gregg F. Tomlinson wrote:

> Anyone running multi-sites in WP 3.0 have any pointers on getting  
> them to run faster? Currently I'm working on a bunch of WP sites  
> that I want to have running on the same WP install. Reason for doing  
> multi-site is that these are all for the same client, and they'd  
> like to be able to just log into one backend to edit all their sites.
>
> Eventually there will be 18 separate mobile-only sites (redirected  
> from existing Flash-based desktop user sites via php) off the same  
> WP install, and just in dev right now with five sites on this  
> install they are running super slow. These are hosted on a private  
> server (physical, not cloud-based) at Rackspace so I know it's not  
> server load or traffic related, it's got to be the code itself. I  
> have WP multi-site set up to run each site as a subdomain of the  
> main URL, and this is working very well... it's only when you get  
> into the secondary pages of the site where the sites practically  
> grind to a halt.
>
>
> ::::  ::::  ::::
>
> Gregg Tomlinson
> Principal
>
> fathead design, inc.
> 1329 W. Loyola Ave.
> Suite G2
> Chicago, Illinois  60626
>
> p: 773.338.1313
> f: 773.338.1340
>
> web: http://fatheaddesign.com
> facebook: http://facebook.com/pages/Chicago-IL/fathead-design/227968970370
> twitter: http://twitter.com/fatheaddesign
>
> ** please consider the environment before you print this e-mail **
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From scribu at gmail.com  Fri Sep 17 18:07:32 2010
From: scribu at gmail.com (scribu)
Date: Fri, 17 Sep 2010 21:07:32 +0300
Subject: [wp-hackers] add metabox to comments
In-Reply-To: <AANLkTim45P951fyL03Tt6-xpWYMd0O7kW1u=bO8f79b6@mail.gmail.com>
References: <AANLkTinGod1nkEhph8DSaYMq=8u04SRLxVbwNZkhrT9t@mail.gmail.com>
	<AANLkTimKue4qwmUmWx70UAkfGu4j6W3xFcv+rrjPbtvh@mail.gmail.com>
	<AANLkTim45P951fyL03Tt6-xpWYMd0O7kW1u=bO8f79b6@mail.gmail.com>
Message-ID: <AANLkTi=eL6+BkH_97z-OsAg8+MzoDnvVgZnmaitQXAFe@mail.gmail.com>

On Fri, Sep 17, 2010 at 8:06 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> That should be easy then.  Wish they would keep the codex up to date, it
> said that only works with the Write Post, Write Page, and Write Link
> editing
> pages.
>

"They" is all of us. So, as a thank you for my answer, please update the
Codex.

You know, the gift that keeps on giving, etc.


-- 
http://scribu.net

From scribu at gmail.com  Fri Sep 17 18:11:10 2010
From: scribu at gmail.com (scribu)
Date: Fri, 17 Sep 2010 21:11:10 +0300
Subject: [wp-hackers] Deleting users
In-Reply-To: <AANLkTinCu1XEyS5ReHFpTaO_GfhkVNipxM8Wg6ZA1jUV@mail.gmail.com>
References: <AANLkTinCu1XEyS5ReHFpTaO_GfhkVNipxM8Wg6ZA1jUV@mail.gmail.com>
Message-ID: <AANLkTikg_-FrWrxTu-w7kG7OPJMm19L2q_JWWzfnhCMr@mail.gmail.com>

On Fri, Sep 17, 2010 at 6:26 PM, Sergio Sola <introduccio at gmail.com> wrote:

> Hi folks,
>
> I am trying to delete some users from WordPress, I can delete it from
> WordPress back-end, but this users still exists in the database. I think
> WordPress use some type of user-meta to set if user has been deleted or
> not.
> The problem, when I going to members section in BuddyPress, the user that I
> deleted is there yet! How I can remove the user completly?
>

In a MultiSite installation, when you go to WP Admin -> Users, you're just
deleting a user from that particular site.

To delete a user completely, go to Super Admin -> Users.

-- 
http://scribu.net

From jer at simianuprising.com  Fri Sep 17 18:57:32 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Fri, 17 Sep 2010 14:57:32 -0400
Subject: [wp-hackers] Multi-sites in WP 3.0 running SLOOOOOOOOW
In-Reply-To: <6D934BF9-37CB-434D-A62A-91C3AB265719@fatheaddesign.com>
References: <6D934BF9-37CB-434D-A62A-91C3AB265719@fatheaddesign.com>
Message-ID: <AANLkTimoARsu5cO_9umiERLpd2ddJsdvFEPH2YFzUh1K@mail.gmail.com>

On Fri, Sep 17, 2010 at 1:15 PM, Gregg F. Tomlinson <gregg at fatheaddesign.com
> wrote:

>
> These are hosted on a private server (physical, not cloud-based) at
> Rackspace so I know it's not server load or traffic related, it's got to be
> the code itself.
>
>
You shouldn't take this premise for granted, or at least you need to account
for server configuration seperately from laod/traffic.

My experience with dedicated servers has taught me that their default
configurations are often FAR WORSE than a shared hosting configuration. When
preparing shared servers hosts will do everything possible to make the
server run well for all possiblities, ultimately creating a super-compatible
environment where things like WP just work. The tradeoff is that all the
compatibility overhead slows down the whole thing to a significant degree.

Dedicated servers on the other hand are often given to you fresh, with the
default linux configurations. In this case both MySQL and Apache not only
need to be tuned for your particular use, but the default values might be
downright garbage of your server setup. On a MySQL server I set up with many
gigabytes of RAM the default settings were only configured to use 512MB
worth of it, making all the other RAM a waste until I changed the
configuration to take advantage of it.

You should look into the queries being run and the load that your mysql
processes are taking up. Do you have mysql cache turned on? It makes a huge
difference if you aren't running something like memcached (though maybe you
should just jump right to memcached).

In terms of your problem being only the deeper pages that is strange. Could
it be a plugin that is only running on those pages? Did you try disabling
all plugins?

Too bad WP-Tuner is broken, that tool was awesome for this kind of thing.
Someone needs to resurrect it.
http://wordpress.org/extend/plugins/wptuner/


-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From jpotkanski at tribune.com  Fri Sep 17 19:01:02 2010
From: jpotkanski at tribune.com (Potkanski, Jason)
Date: Fri, 17 Sep 2010 14:01:02 -0500
Subject: [wp-hackers] Multi-sites in WP 3.0 running SLOOOOOOOOW
In-Reply-To: <AANLkTimoARsu5cO_9umiERLpd2ddJsdvFEPH2YFzUh1K@mail.gmail.com>
References: <6D934BF9-37CB-434D-A62A-91C3AB265719@fatheaddesign.com>
	<AANLkTimoARsu5cO_9umiERLpd2ddJsdvFEPH2YFzUh1K@mail.gmail.com>
Message-ID: <7A06A0AED9867C4C8B285D2D5D60B19C54C50FC5F3@FCWPMB06.usa.tribune.com>

Don't forget op caching for PHP itself: xCache or APC. That's a 25% to 200% performance increase.


Jason Potkanski
Tribune Technology

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jeremy Clarke
Sent: Friday, September 17, 2010 1:58 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Multi-sites in WP 3.0 running SLOOOOOOOOW

On Fri, Sep 17, 2010 at 1:15 PM, Gregg F. Tomlinson <gregg at fatheaddesign.com
> wrote:

>
> These are hosted on a private server (physical, not cloud-based) at
> Rackspace so I know it's not server load or traffic related, it's got to be
> the code itself.
>
>
You shouldn't take this premise for granted, or at least you need to account
for server configuration seperately from laod/traffic.

My experience with dedicated servers has taught me that their default
configurations are often FAR WORSE than a shared hosting configuration. When
preparing shared servers hosts will do everything possible to make the
server run well for all possiblities, ultimately creating a super-compatible
environment where things like WP just work. The tradeoff is that all the
compatibility overhead slows down the whole thing to a significant degree.

Dedicated servers on the other hand are often given to you fresh, with the
default linux configurations. In this case both MySQL and Apache not only
need to be tuned for your particular use, but the default values might be
downright garbage of your server setup. On a MySQL server I set up with many
gigabytes of RAM the default settings were only configured to use 512MB
worth of it, making all the other RAM a waste until I changed the
configuration to take advantage of it.

You should look into the queries being run and the load that your mysql
processes are taking up. Do you have mysql cache turned on? It makes a huge
difference if you aren't running something like memcached (though maybe you
should just jump right to memcached).

In terms of your problem being only the deeper pages that is strange. Could
it be a plugin that is only running on those pages? Did you try disabling
all plugins?

Too bad WP-Tuner is broken, that tool was awesome for this kind of thing.
Someone needs to resurrect it.
http://wordpress.org/extend/plugins/wptuner/


-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Fri Sep 17 20:03:44 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 17 Sep 2010 16:03:44 -0400
Subject: [wp-hackers] Plugin and theme developer plugins
In-Reply-To: <AANLkTimy18mXy2e3RgksKt+_s1L+Q03PMwonAM17WOvL@mail.gmail.com>
References: <4C8E6BBD.3080103@elfden.co.uk>
	<AANLkTimykcqYLF_nhMXAtbDWp71ABz=B6H5hsXUjWbVZ@mail.gmail.com>
	<4C8E7B5C.1060103@elfden.co.uk>
	<AANLkTimy18mXy2e3RgksKt+_s1L+Q03PMwonAM17WOvL@mail.gmail.com>
Message-ID: <AANLkTikCNo3hSMdV_ODNiYAwgmFtdaCtLjRJ+tE7+tWM@mail.gmail.com>

On Fri, Sep 17, 2010 at 12:20 PM, Jeremy Clarke <jer at simianuprising.com>wrote:

> Email them the changes to fix it! It's usually just one or two lines that
> clearly won't break anything ($yourvar = ''; being the most commonly needed
> fix). Unless the the plugin is derelict they will update it so you don't
> have to constantly re-patch the plugin when you update it. If they don't
> care enough to incorporate your patch into the next version you should
> probably find a new plugin ;)
>

I send patches to plugin authors all the time, and I encourage all of you to
do the same. Help each other out.

From frank at bueltge.de  Fri Sep 17 21:17:36 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Fri, 17 Sep 2010 23:17:36 +0200
Subject: [wp-hackers] Plugin and theme developer plugins
In-Reply-To: <AANLkTikCNo3hSMdV_ODNiYAwgmFtdaCtLjRJ+tE7+tWM@mail.gmail.com>
References: <4C8E6BBD.3080103@elfden.co.uk>
	<AANLkTimykcqYLF_nhMXAtbDWp71ABz=B6H5hsXUjWbVZ@mail.gmail.com>
	<4C8E7B5C.1060103@elfden.co.uk>
	<AANLkTimy18mXy2e3RgksKt+_s1L+Q03PMwonAM17WOvL@mail.gmail.com>
	<AANLkTikCNo3hSMdV_ODNiYAwgmFtdaCtLjRJ+tE7+tWM@mail.gmail.com>
Message-ID: <AANLkTimcpDxsk2JL2PkDZE=2J=MHW995Pteiu-maV8=q@mail.gmail.com>

#10
i see and life this also, the developers of OSS is an community - work so.

http://bueltge.de : frank at bueltge.de
http://wpengineer.com : frank at wpengineer.com
http://inpsyde.com


On Fri, Sep 17, 2010 at 10:03 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Fri, Sep 17, 2010 at 12:20 PM, Jeremy Clarke <jer at simianuprising.com
> >wrote:
>
> > Email them the changes to fix it! It's usually just one or two lines that
> > clearly won't break anything ($yourvar = ''; being the most commonly
> needed
> > fix). Unless the the plugin is derelict they will update it so you don't
> > have to constantly re-patch the plugin when you update it. If they don't
> > care enough to incorporate your patch into the next version you should
> > probably find a new plugin ;)
> >
>
> I send patches to plugin authors all the time, and I encourage all of you
> to
> do the same. Help each other out.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ken.adcstudio at gmail.com  Fri Sep 17 21:58:33 2010
From: ken.adcstudio at gmail.com (Ken (WraithKenny))
Date: Fri, 17 Sep 2010 17:58:33 -0400
Subject: [wp-hackers] uninstall.php for themes?
Message-ID: <AANLkTi=ArgmqUdukzXgr-b8smsyMVrq3hK5XdusM+Hvk@mail.gmail.com>

Uninstall.php is recommended for plugins that add options and meta data...
what about themes? Is it recommended for theme's to include a uninstall.php
file in the theme directory?

From scribu at gmail.com  Fri Sep 17 22:06:00 2010
From: scribu at gmail.com (scribu)
Date: Sat, 18 Sep 2010 01:06:00 +0300
Subject: [wp-hackers] uninstall.php for themes?
In-Reply-To: <AANLkTi=ArgmqUdukzXgr-b8smsyMVrq3hK5XdusM+Hvk@mail.gmail.com>
References: <AANLkTi=ArgmqUdukzXgr-b8smsyMVrq3hK5XdusM+Hvk@mail.gmail.com>
Message-ID: <AANLkTikBf-O6Ws2EMsGP0=2LgG10sxY8wOfkhzhYTa2P@mail.gmail.com>

On Sat, Sep 18, 2010 at 12:58 AM, Ken (WraithKenny) <ken.adcstudio at gmail.com
> wrote:

> Uninstall.php is recommended for plugins that add options and meta data...
> what about themes? Is it recommended for theme's to include a uninstall.php
> file in the theme directory?
>

Currently, an uninstall.php file won't automatically be loaded when
switching away from the theme, but I guess it would make sense to add this
to WP.

Please open a ticket on trac, if there isn't one already.

-- 
http://scribu.net

From ken.adcstudio at gmail.com  Fri Sep 17 22:34:59 2010
From: ken.adcstudio at gmail.com (Ken (WraithKenny))
Date: Fri, 17 Sep 2010 18:34:59 -0400
Subject: [wp-hackers] uninstall.php for themes?
In-Reply-To: <AANLkTikBf-O6Ws2EMsGP0=2LgG10sxY8wOfkhzhYTa2P@mail.gmail.com>
References: <AANLkTi=ArgmqUdukzXgr-b8smsyMVrq3hK5XdusM+Hvk@mail.gmail.com>
	<AANLkTikBf-O6Ws2EMsGP0=2LgG10sxY8wOfkhzhYTa2P@mail.gmail.com>
Message-ID: <AANLkTimOanQbqn8Cfa=MsxYALepv0X-XHO_JQNrFL4f2@mail.gmail.com>

http://core.trac.wordpress.org/ticket/7795 Somewhat related
(Activation/Deactivation) Seems to have stalled 21 months ago...

On Fri, Sep 17, 2010 at 6:06 PM, scribu <scribu at gmail.com> wrote:

> On Sat, Sep 18, 2010 at 12:58 AM, Ken (WraithKenny) <
> ken.adcstudio at gmail.com
> > wrote:
>
> > Uninstall.php is recommended for plugins that add options and meta
> data...
> > what about themes? Is it recommended for theme's to include a
> uninstall.php
> > file in the theme directory?
> >
>
> Currently, an uninstall.php file won't automatically be loaded when
> switching away from the theme, but I guess it would make sense to add this
> to WP.
>
> Please open a ticket on trac, if there isn't one already.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From louy08 at gmail.com  Sat Sep 18 02:43:48 2010
From: louy08 at gmail.com (Louy)
Date: Sat, 18 Sep 2010 05:43:48 +0300
Subject: [wp-hackers] wp-oauth.php
Message-ID: <AANLkTimOBa3WNt+U-snrYMgK7J8mYovPC82+axMtcF7a@mail.gmail.com>

Heyy all :)

Here's a gist i wanted to share in case you're interested in making a wp
OAuth plugin or something, hope u find it useful.

http://gist.github.com/585267

All suggestions are welcome.

Best.

-- 
*Louy Alakkad*
A web developer
http://l0uy.com/

From austin at ilfilosofo.com  Sat Sep 18 02:49:44 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Fri, 17 Sep 2010 21:49:44 -0500
Subject: [wp-hackers] wp-oauth.php
In-Reply-To: <AANLkTimOBa3WNt+U-snrYMgK7J8mYovPC82+axMtcF7a@mail.gmail.com>
References: <AANLkTimOBa3WNt+U-snrYMgK7J8mYovPC82+axMtcF7a@mail.gmail.com>
Message-ID: <AANLkTik4_LccdvJ7gogH28_1cVAHEHRgBxp9y_C0p-xw@mail.gmail.com>

On Fri, Sep 17, 2010 at 9:43 PM, Louy <louy08 at gmail.com> wrote:
> Heyy all :)
>
> Here's a gist i wanted to share in case you're interested in making a wp
> OAuth plugin or something, hope u find it useful.
>
> http://gist.github.com/585267
>
> All suggestions are welcome.

Don't flush the rewrite rules at the "init" action event, which occurs
on every page load.  You should flush the rewrite rules only when you
make a change to them, such as when you activate your OAuth plugin.

From louy08 at gmail.com  Sat Sep 18 02:59:09 2010
From: louy08 at gmail.com (Louy)
Date: Sat, 18 Sep 2010 05:59:09 +0300
Subject: [wp-hackers] wp-oauth.php
In-Reply-To: <AANLkTik4_LccdvJ7gogH28_1cVAHEHRgBxp9y_C0p-xw@mail.gmail.com>
References: <AANLkTimOBa3WNt+U-snrYMgK7J8mYovPC82+axMtcF7a@mail.gmail.com>
	<AANLkTik4_LccdvJ7gogH28_1cVAHEHRgBxp9y_C0p-xw@mail.gmail.com>
Message-ID: <AANLkTimBNZ7y+3u=nRi=AeLTOuyXNC_rYtSS96KWVfyp@mail.gmail.com>

Sorry about that :/ check it now :)

On Sat, Sep 18, 2010 at 5:49 AM, Austin Matzko <austin at ilfilosofo.com>wrote:

> On Fri, Sep 17, 2010 at 9:43 PM, Louy <louy08 at gmail.com> wrote:
> > Heyy all :)
> >
> > Here's a gist i wanted to share in case you're interested in making a wp
> > OAuth plugin or something, hope u find it useful.
> >
> > http://gist.github.com/585267
> >
> > All suggestions are welcome.
>
> Don't flush the rewrite rules at the "init" action event, which occurs
> on every page load.  You should flush the rewrite rules only when you
> make a change to them, such as when you activate your OAuth plugin.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
*Louy Alakkad*
A web developer
http://l0uy.com/

From jp.horn at gmail.com  Sat Sep 18 04:22:24 2010
From: jp.horn at gmail.com (iPhoneclub)
Date: Fri, 17 Sep 2010 21:22:24 -0700 (PDT)
Subject: [wp-hackers] Feed Caching
Message-ID: <1f45cb8e-b31a-4b6a-8cdd-efac745b3dd2@k30g2000vbn.googlegroups.com>

This has been discussed before, but I can't seem to wrap my head
around it. Since WordPress 2.9 there is an extra context $url filter
for the filter 'wp_feed_cache_transient_lifetime'. I haven't seen any
code examples on the web how this is supposed to work :-( What I'm
trying to achieve is a per-feed cache setting, instead of the global
custom function for wp_feed_cache_transient_lifetime method (like:
http://wpengineer.com/1820/feed-cache-in-wordpress/). Dougal posted a
workaround (http://dougal.gunters.org/blog/2010/05/20/quick-tip-faster-
wordpress-news) for per-feed filtering, but I don't know if that's
still the correct way:

// Customize the Planet WordPress news feed update time:
add_filter( 'wp_feed_cache_transient_lifetime',
'dc_reschedule_rss_fetch', 10, 2 );

function dc_reschedule_rss_fetch( $lifetime, $url ) {
  if ( false !== strpos( $url, 'planet.wordpress.org' ) ) {
    $lifetime = 7200; // expire after 2 hours (7200 seconds)
  }
  return $lifetime;
}

I also found this post, with contributions by Otto and Rarst, but that
snippet doesn't seem to work for me:
http://www.wptavern.com/forum/troubleshooting/767-setting-cache-duration-simplepie-wordpress.html

The current filter is:
      $feed-
>set_cache_duration(apply_filters('wp_feed_cache_transient_lifetime',
43200, $url));

How do I pass a specific feed url and a specific (shorter than
default) cache time to this filter in my theme's functions.php? I need
one feed to refresh every 5 minutes, while caching other feeds for one
hour (I have five external feeds in total).

Any help would be greatly appreciated!

From dvmorris at gmail.com  Sat Sep 18 05:02:36 2010
From: dvmorris at gmail.com (David Morris)
Date: Sat, 18 Sep 2010 00:02:36 -0500
Subject: [wp-hackers] redirecting wp-content/uploads
Message-ID: <AANLkTinXcgfu732jf24uMjJLd9mV1MkSKraWS6p1y5ro@mail.gmail.com>

I have a WP 3.0.1 installation running multiple sites, and there are some
really old blog posts that reference images in wp-content/uploads/, as
opposed to wp-content/blogs.dir/. When those pages are loaded, apache throws
Internal Redirect errors all over the place:


[Fri Sep 17 13:11:50 2010] [error] [client 12.68.240.196] Request exceeded the
limit of 10 internal redirects due to probable configuration error. Use
'LimitInternalRecursion' to increase the limit if necessary. Use 'LogLevel
debug' to get a backtrace.


Is there a quick and dirty way to get apache to stop throwing these errors,
like an htaccess change. I'm not really worried about the images showing up,
I just don't want to Redirection errors to fill up the error_log.

Thanks for your help,

-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From johnbillion+wp at gmail.com  Sat Sep 18 05:40:43 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Sat, 18 Sep 2010 06:40:43 +0100
Subject: [wp-hackers] redirecting wp-content/uploads
In-Reply-To: <AANLkTinXcgfu732jf24uMjJLd9mV1MkSKraWS6p1y5ro@mail.gmail.com>
References: <AANLkTinXcgfu732jf24uMjJLd9mV1MkSKraWS6p1y5ro@mail.gmail.com>
Message-ID: <AANLkTim5QAC3YGa8OHD5rYYgMwZAj9kY4T47--rbOUSN@mail.gmail.com>

On Sat, Sep 18, 2010 at 6:02 AM, David Morris <dvmorris at gmail.com> wrote:
> I have a WP 3.0.1 installation running multiple sites, and there are some
> really old blog posts that reference images in wp-content/uploads/, as
> opposed to wp-content/blogs.dir/. When those pages are loaded, apache throws
> Internal Redirect errors all over the place:
>
>
> [Fri Sep 17 13:11:50 2010] [error] [client 12.68.240.196] Request exceeded the
> limit of 10 internal redirects due to probable configuration error. Use
> 'LimitInternalRecursion' to increase the limit if necessary. Use 'LogLevel
> debug' to get a backtrace.
>
>
> Is there a quick and dirty way to get apache to stop throwing these errors,
> like an htaccess change. I'm not really worried about the images showing up,
> I just don't want to Redirection errors to fill up the error_log.
>
> Thanks for your help,
>
> --
> Dave Morris
> http://dave.showviz.net/
> http://3dcamphouston.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

Your best bet would be to replace the occurrences of
"/wp-content/uploads/" in your database with the correct location.
That way you get your images back and you lose the problems with
Apache redirects.

Try the Search and Replace plugin:
http://wordpress.org/extend/plugins/search-and-replace/

John

From philip at frumph.net  Sat Sep 18 05:55:49 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Fri, 17 Sep 2010 22:55:49 -0700
Subject: [wp-hackers] redirecting wp-content/uploads
In-Reply-To: <AANLkTim5QAC3YGa8OHD5rYYgMwZAj9kY4T47--rbOUSN@mail.gmail.com>
References: <AANLkTinXcgfu732jf24uMjJLd9mV1MkSKraWS6p1y5ro@mail.gmail.com>
	<AANLkTim5QAC3YGa8OHD5rYYgMwZAj9kY4T47--rbOUSN@mail.gmail.com>
Message-ID: <AADFF7F0A62C420E9864428AA8BC2498@frumph.net>

RewriteCond %{ENV:REDIRECT_STATUS} 200
RewriteRule .* - [L]

Toss that into your .htaccess

This is based on this information here:
http://www.askapache.com/htaccess/php-cgi-redirect_status.html

----- Original Message ----- 
From: "John Blackbourn" <johnbillion+wp at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, September 17, 2010 10:40 PM
Subject: Re: [wp-hackers] redirecting wp-content/uploads


> On Sat, Sep 18, 2010 at 6:02 AM, David Morris <dvmorris at gmail.com> wrote:
>> I have a WP 3.0.1 installation running multiple sites, and there are some
>> really old blog posts that reference images in wp-content/uploads/, as
>> opposed to wp-content/blogs.dir/. When those pages are loaded, apache 
>> throws
>> Internal Redirect errors all over the place:
>>
>>
>> [Fri Sep 17 13:11:50 2010] [error] [client 12.68.240.196] Request 
>> exceeded the
>> limit of 10 internal redirects due to probable configuration error. Use
>> 'LimitInternalRecursion' to increase the limit if necessary. Use 
>> 'LogLevel
>> debug' to get a backtrace.
>>
>>
>> Is there a quick and dirty way to get apache to stop throwing these 
>> errors,
>> like an htaccess change. I'm not really worried about the images showing 
>> up,
>> I just don't want to Redirection errors to fill up the error_log.
>>
>> Thanks for your help,
>>
>> --
>> Dave Morris
>> http://dave.showviz.net/
>> http://3dcamphouston.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
> Your best bet would be to replace the occurrences of
> "/wp-content/uploads/" in your database with the correct location.
> That way you get your images back and you lose the problems with
> Apache redirects.
>
> Try the Search and Replace plugin:
> http://wordpress.org/extend/plugins/search-and-replace/
>
> John
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From philip at frumph.net  Sat Sep 18 05:57:56 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Fri, 17 Sep 2010 22:57:56 -0700
Subject: [wp-hackers] redirecting wp-content/uploads
In-Reply-To: <AADFF7F0A62C420E9864428AA8BC2498@frumph.net>
References: <AANLkTinXcgfu732jf24uMjJLd9mV1MkSKraWS6p1y5ro@mail.gmail.com><AANLkTim5QAC3YGa8OHD5rYYgMwZAj9kY4T47--rbOUSN@mail.gmail.com>
	<AADFF7F0A62C420E9864428AA8BC2498@frumph.net>
Message-ID: <112374EEB6694B6AB8786A1E3FD823AE@frumph.net>

And here:

http://www.askapache.com/htaccess/mod_rewrite-tips-and-tricks.html

For loop stopping code.


----- Original Message ----- 
From: "Philip M. Hofer (Frumph)" <philip at frumph.net>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, September 17, 2010 10:55 PM
Subject: Re: [wp-hackers] redirecting wp-content/uploads


> RewriteCond %{ENV:REDIRECT_STATUS} 200
> RewriteRule .* - [L]
>
> Toss that into your .htaccess
>
> This is based on this information here:
> http://www.askapache.com/htaccess/php-cgi-redirect_status.html
>
> ----- Original Message ----- 
> From: "John Blackbourn" <johnbillion+wp at gmail.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Friday, September 17, 2010 10:40 PM
> Subject: Re: [wp-hackers] redirecting wp-content/uploads
>
>
>> On Sat, Sep 18, 2010 at 6:02 AM, David Morris <dvmorris at gmail.com> wrote:
>>> I have a WP 3.0.1 installation running multiple sites, and there are 
>>> some
>>> really old blog posts that reference images in wp-content/uploads/, as
>>> opposed to wp-content/blogs.dir/. When those pages are loaded, apache 
>>> throws
>>> Internal Redirect errors all over the place:
>>>
>>>
>>> [Fri Sep 17 13:11:50 2010] [error] [client 12.68.240.196] Request 
>>> exceeded the
>>> limit of 10 internal redirects due to probable configuration error. Use
>>> 'LimitInternalRecursion' to increase the limit if necessary. Use 
>>> 'LogLevel
>>> debug' to get a backtrace.
>>>
>>>
>>> Is there a quick and dirty way to get apache to stop throwing these 
>>> errors,
>>> like an htaccess change. I'm not really worried about the images showing 
>>> up,
>>> I just don't want to Redirection errors to fill up the error_log.
>>>
>>> Thanks for your help,
>>>
>>> --
>>> Dave Morris
>>> http://dave.showviz.net/
>>> http://3dcamphouston.com/
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>> Your best bet would be to replace the occurrences of
>> "/wp-content/uploads/" in your database with the correct location.
>> That way you get your images back and you lose the problems with
>> Apache redirects.
>>
>> Try the Search and Replace plugin:
>> http://wordpress.org/extend/plugins/search-and-replace/
>>
>> John
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From wp at andrewnacin.com  Sat Sep 18 06:15:42 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sat, 18 Sep 2010 02:15:42 -0400
Subject: [wp-hackers] Feed Caching
In-Reply-To: <1f45cb8e-b31a-4b6a-8cdd-efac745b3dd2@k30g2000vbn.googlegroups.com>
References: <1f45cb8e-b31a-4b6a-8cdd-efac745b3dd2@k30g2000vbn.googlegroups.com>
Message-ID: <AANLkTikxt3XK2=+xmYpL-+=c6BV89gWZi08i+j83YHj7@mail.gmail.com>

On Sat, Sep 18, 2010 at 12:22 AM, iPhoneclub <jp.horn at gmail.com> wrote:
>
> How do I pass a specific feed url and a specific (shorter than
> default) cache time to this filter in my theme's functions.php? I need
> one feed to refresh every 5 minutes, while caching other feeds for one
> hour (I have five external feeds in total).


Exactly as Dougal suggested in the link you provided. [0]

While the filter being leveraged there, wp_feed_cache_transient_lifetime, is
not new in 3.0, the $url argument is passed as context for the first time in
3.0. You're not passing a URL; you're filtering the cache time based on the
URL that you're given. The function in that post remains both relevant and
correct.

[0]
http://dougal.gunters.org/blog/2010/05/20/quick-tip-faster-wordpress-news

From jp.horn at gmail.com  Sat Sep 18 13:42:16 2010
From: jp.horn at gmail.com (iPhoneclub)
Date: Sat, 18 Sep 2010 06:42:16 -0700 (PDT)
Subject: [wp-hackers] Feed Caching
In-Reply-To: <AANLkTikxt3XK2=+xmYpL-+=c6BV89gWZi08i+j83YHj7@mail.gmail.com>
References: <1f45cb8e-b31a-4b6a-8cdd-efac745b3dd2@k30g2000vbn.googlegroups.com>
	<AANLkTikxt3XK2=+xmYpL-+=c6BV89gWZi08i+j83YHj7@mail.gmail.com>
Message-ID: <48e5a3af-0896-492a-b7a9-941a5ee8b772@c13g2000vbr.googlegroups.com>

Thanks Andrew. So something like this in functions.php should work for
overriding the standard value of 12 hours and providing an even more
aggressive cache lifetime for a specific feed?

/*
Feed Cache - Let's lower the default value to 30 minutes
*/
add_filter( 'wp_feed_cache_transient_lifetime', create_function('$a',
'return 1800;') );

/*
Even more aggressive caching for specific feeds
Hat tip Dougal (http://dougal.gunters.org/blog/2010/05/20/quick-tip-
faster-wordpress-news)
*/
add_filter( 'wp_feed_cache_transient_lifetime',
'dc_reschedule_rss_fetch', 10, 2 );

function dc_reschedule_rss_fetch( $lifetime, $url ) {
  if ( false !== strpos( $url, 'example.com/feed' ) ) {
    $lifetime = 600; // expire after 10 minutes (600 seconds)
  }
  return $lifetime;
}

From list at expost.org  Sat Sep 18 13:59:31 2010
From: list at expost.org (Raj)
Date: Sat, 18 Sep 2010 19:29:31 +0530
Subject: [wp-hackers] Feed Caching
In-Reply-To: <48e5a3af-0896-492a-b7a9-941a5ee8b772@c13g2000vbr.googlegroups.com>
References: <1f45cb8e-b31a-4b6a-8cdd-efac745b3dd2@k30g2000vbn.googlegroups.com><AANLkTikxt3XK2=+xmYpL-+=c6BV89gWZi08i+j83YHj7@mail.gmail.com>
	<48e5a3af-0896-492a-b7a9-941a5ee8b772@c13g2000vbr.googlegroups.com>
Message-ID: <000601cb5739$b95af750$2c10e5f0$@expost.org>

Yes. That's right. 

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of iPhoneclub
Sent: Saturday, September 18, 2010 7:12 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Feed Caching

Thanks Andrew. So something like this in functions.php should work for
overriding the standard value of 12 hours and providing an even more
aggressive cache lifetime for a specific feed?

/*
Feed Cache - Let's lower the default value to 30 minutes */ add_filter(
'wp_feed_cache_transient_lifetime', create_function('$a', 'return 1800;') );

/*
Even more aggressive caching for specific feeds Hat tip Dougal
(http://dougal.gunters.org/blog/2010/05/20/quick-tip-
faster-wordpress-news)
*/
add_filter( 'wp_feed_cache_transient_lifetime',
'dc_reschedule_rss_fetch', 10, 2 );

function dc_reschedule_rss_fetch( $lifetime, $url ) {
  if ( false !== strpos( $url, 'example.com/feed' ) ) {
    $lifetime = 600; // expire after 10 minutes (600 seconds)
  }
  return $lifetime;
}
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From dvmorris at gmail.com  Sat Sep 18 14:34:31 2010
From: dvmorris at gmail.com (David Morris)
Date: Sat, 18 Sep 2010 09:34:31 -0500
Subject: [wp-hackers] redirecting wp-content/uploads
In-Reply-To: <112374EEB6694B6AB8786A1E3FD823AE@frumph.net>
References: <AANLkTinXcgfu732jf24uMjJLd9mV1MkSKraWS6p1y5ro@mail.gmail.com>
	<AANLkTim5QAC3YGa8OHD5rYYgMwZAj9kY4T47--rbOUSN@mail.gmail.com>
	<AADFF7F0A62C420E9864428AA8BC2498@frumph.net>
	<112374EEB6694B6AB8786A1E3FD823AE@frumph.net>
Message-ID: <AANLkTi=rHyYGtvRV=6afWgLoQhCnEPcbcDpN4yW-2jak@mail.gmail.com>

Thanks so much for the help. These are great suggestions. I will try them
out and let you know if they work.

Dave

On Sat, Sep 18, 2010 at 12:57 AM, Philip M. Hofer (Frumph) <
philip at frumph.net> wrote:

> And here:
>
> http://www.askapache.com/htaccess/mod_rewrite-tips-and-tricks.html
>
> For loop stopping code.
>
>
> ----- Original Message ----- From: "Philip M. Hofer (Frumph)" <
> philip at frumph.net>
>
> To: <wp-hackers at lists.automattic.com>
> Sent: Friday, September 17, 2010 10:55 PM
>
> Subject: Re: [wp-hackers] redirecting wp-content/uploads
>
>
>  RewriteCond %{ENV:REDIRECT_STATUS} 200
>> RewriteRule .* - [L]
>>
>> Toss that into your .htaccess
>>
>> This is based on this information here:
>> http://www.askapache.com/htaccess/php-cgi-redirect_status.html
>>
>> ----- Original Message ----- From: "John Blackbourn" <
>> johnbillion+wp at gmail.com <johnbillion%2Bwp at gmail.com>>
>> To: <wp-hackers at lists.automattic.com>
>> Sent: Friday, September 17, 2010 10:40 PM
>> Subject: Re: [wp-hackers] redirecting wp-content/uploads
>>
>>
>>  On Sat, Sep 18, 2010 at 6:02 AM, David Morris <dvmorris at gmail.com>
>>> wrote:
>>>
>>>> I have a WP 3.0.1 installation running multiple sites, and there are
>>>> some
>>>> really old blog posts that reference images in wp-content/uploads/, as
>>>> opposed to wp-content/blogs.dir/. When those pages are loaded, apache
>>>> throws
>>>> Internal Redirect errors all over the place:
>>>>
>>>>
>>>> [Fri Sep 17 13:11:50 2010] [error] [client 12.68.240.196] Request
>>>> exceeded the
>>>> limit of 10 internal redirects due to probable configuration error. Use
>>>> 'LimitInternalRecursion' to increase the limit if necessary. Use
>>>> 'LogLevel
>>>> debug' to get a backtrace.
>>>>
>>>>
>>>> Is there a quick and dirty way to get apache to stop throwing these
>>>> errors,
>>>> like an htaccess change. I'm not really worried about the images showing
>>>> up,
>>>> I just don't want to Redirection errors to fill up the error_log.
>>>>
>>>> Thanks for your help,
>>>>
>>>> --
>>>> Dave Morris
>>>> http://dave.showviz.net/
>>>> http://3dcamphouston.com/
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>> Your best bet would be to replace the occurrences of
>>> "/wp-content/uploads/" in your database with the correct location.
>>> That way you get your images back and you lose the problems with
>>> Apache redirects.
>>>
>>> Try the Search and Replace plugin:
>>> http://wordpress.org/extend/plugins/search-and-replace/
>>>
>>> John
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From dvmorris at gmail.com  Sat Sep 18 15:22:19 2010
From: dvmorris at gmail.com (David Morris)
Date: Sat, 18 Sep 2010 10:22:19 -0500
Subject: [wp-hackers] Disabling wp-signup redirections in WP 3.0.1 in
	multisite mode
Message-ID: <AANLkTi=1dz7kskjLubKspQVYiSrFQEP8fj-Da7EFAsZM@mail.gmail.com>

I would like to disable the redirect in wp-signup.php that always
takes you back to the root blog's signup page (when running in
multisite mode).

The code that does this redirect is on line 26 of wp-signup.php:

if ( !is_main_site() ) {
    wp_redirect( network_home_url( 'wp-signup.php' ) );
    die();
}

Is this hookable in a generic way? I see the wp_redirect filter in
pluggable.php:877:

$location = apply_filters('wp_redirect', $location, $status);

But I'm just wondering if there is a generic way to only affect the
wp-signup redirections and be sure that it won't affect any other
functionality.

Thanks for your help,



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From philip at frumph.net  Sat Sep 18 17:01:24 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Sat, 18 Sep 2010 10:01:24 -0700
Subject: [wp-hackers] Disabling wp-signup redirections in WP 3.0.1
	inmultisite mode
In-Reply-To: <AANLkTi=1dz7kskjLubKspQVYiSrFQEP8fj-Da7EFAsZM@mail.gmail.com>
References: <AANLkTi=1dz7kskjLubKspQVYiSrFQEP8fj-Da7EFAsZM@mail.gmail.com>
Message-ID: <905304856ACE4E9BB3B38F1708C29171@frumph.net>

http://frumph.net/wordpress/wordpress-3-0-multisite-subdomain-installation-noblogredirect-behavior-fix/

This will do it for you.  If i'm reading what you want to do correctly.

----- Original Message ----- 
From: "David Morris" <dvmorris at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Saturday, September 18, 2010 8:22 AM
Subject: [wp-hackers] Disabling wp-signup redirections in WP 3.0.1 
inmultisite mode


>I would like to disable the redirect in wp-signup.php that always
> takes you back to the root blog's signup page (when running in
> multisite mode).
>
> The code that does this redirect is on line 26 of wp-signup.php:
>
> if ( !is_main_site() ) {
>    wp_redirect( network_home_url( 'wp-signup.php' ) );
>    die();
> }
>
> Is this hookable in a generic way? I see the wp_redirect filter in
> pluggable.php:877:
>
> $location = apply_filters('wp_redirect', $location, $status);
>
> But I'm just wondering if there is a generic way to only affect the
> wp-signup redirections and be sure that it won't affect any other
> functionality.
>
> Thanks for your help,
>
>
>
> -- 
> Dave Morris
> http://dave.showviz.net/
> http://3dcamphouston.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From rbilesky at gmail.com  Sat Sep 18 22:37:32 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Sat, 18 Sep 2010 15:37:32 -0700
Subject: [wp-hackers] Filter wp-admin posts view based on post metadata
Message-ID: <AANLkTim-FCEbLXEZqRWoMTBFqBE2pBdNQL13Og3ZuQv4@mail.gmail.com>

I am wondering if anyone is aware of a way to filter the posts listed in
wp-admin based on metadata.  I have one bit of metadata I would like to see
only posts where that is equal to a certain value.  I did try using the post
search.  I tried just searching for the metadata value and even tried key =
value as a search term but that search apparently does not search across
metadata.

Anyone know how to accomplish this?

From cross at thisismyurl.com  Sun Sep 19 19:57:32 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Sun, 19 Sep 2010 16:57:32 -0300
Subject: [wp-hackers] Filter wp-admin posts view based on post metadata
In-Reply-To: <AANLkTim-FCEbLXEZqRWoMTBFqBE2pBdNQL13Og3ZuQv4@mail.gmail.com>
References: <AANLkTim-FCEbLXEZqRWoMTBFqBE2pBdNQL13Og3ZuQv4@mail.gmail.com>
Message-ID: <F1D0B99D-5206-4D04-8BAD-12200C28E56B@thisismyurl.com>

Ryan, not directly but you could always add it as a custom search in your functions file.

I'm sure others here can improve on this code but here's a basic custom search for you.


add_action('admin_menu', 'cr_custom_search');
function cr_custom_search() {
  add_posts_page('Custom Search',  'Custom Search', 10,'cr_custom_search.php', 'cr_custom_search_page');
}


function cr_custom_search_page() {
	
	
	echo "<ol>";
	global $wpdb; 
	
	$metavalue = ""; // whatever you're searching for
	 
    $posts = $wpdb->get_results("SELECT * FROM $wpdb->postmeta WHERE meta_value='".$metavalue."'");  


    foreach ($posts as $post) {  
	

    	$postdetails = $wpdb->get_results("SELECT ID, post_title FROM $wpdb->posts WHERE ID='". $post->post_id."'");  

        $id = $postdetails[0]->ID;  
        $title = $postdetails[0]->post_title;  

		echo "<li><a href='post.php?post=".$id."&action=edit'>".$title."</a></li>";

    }  
	
	echo "</ol>";
}






On 2010-09-18, at 7:37 PM, Ryan Bilesky wrote:

> I am wondering if anyone is aware of a way to filter the posts listed in
> wp-admin based on metadata.  I have one bit of metadata I would like to see
> only posts where that is equal to a certain value.  I did try using the post
> search.  I tried just searching for the metadata value and even tried key =
> value as a search term but that search apparently does not search across
> metadata.
> 
> Anyone know how to accomplish this?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708
New Orleans 1 (504) 322 3485

http://christopherross.ca
http://www.thisismyurl.com


From johnbillion+wp at gmail.com  Mon Sep 20 00:32:47 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 20 Sep 2010 01:32:47 +0100
Subject: [wp-hackers] Filter wp-admin posts view based on post metadata
In-Reply-To: <AANLkTim-FCEbLXEZqRWoMTBFqBE2pBdNQL13Og3ZuQv4@mail.gmail.com>
References: <AANLkTim-FCEbLXEZqRWoMTBFqBE2pBdNQL13Og3ZuQv4@mail.gmail.com>
Message-ID: <AANLkTi=RYL9BfttrJw+EsSqRwJmAhD43JSV0zZGsdUvX@mail.gmail.com>

On Sat, Sep 18, 2010 at 11:37 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
> I am wondering if anyone is aware of a way to filter the posts listed in
> wp-admin based on metadata. ?I have one bit of metadata I would like to see
> only posts where that is equal to a certain value. ?I did try using the post
> search. ?I tried just searching for the metadata value and even tried key =
> value as a search term but that search apparently does not search across
> metadata.
>
> Anyone know how to accomplish this?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

It's really easy to add filters and inputs to the Posts screen. I just
wrote this small plugin which gives you a dropdown of all available
meta keys and a text input so you can search for a corresponding
value. Try it out:
http://lud.icro.us/wp-plugins/posts-meta-search.phps

John

From yojoaquin at gmail.com  Mon Sep 20 02:55:05 2010
From: yojoaquin at gmail.com (Joaquin Rodriguez Montero)
Date: Sun, 19 Sep 2010 23:55:05 -0300
Subject: [wp-hackers] Taxonomy - Custom Post Type - Pagination?
Message-ID: <AANLkTimXXRnwokLdgTx3CPK6_3omiFv6JPnM2QT+3A57@mail.gmail.com>

Hi guys,

I'm sure this is really simple but I can't seem to find out what's going on.

I'm trying to do the following on my taxonomy-term.php

$page = (get_query_var('paged')) ? get_query_var('paged') : 1;
query_posts("
post_type=postype&
paged=$page&
posts_per_page=16&
orderby=title&
order=ASC&
term=$termslug");
$i = 1; while (have_posts()) : the_post();

Result: list of posts ok, pagination wrong. It's getting the pagination as
if it was querying every post. Why I wanna do it this way? Cause I want to
get the posts ordered by title.

Any clue that could help me?

Thanks!

J

From philip at frumph.net  Mon Sep 20 03:13:47 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Sun, 19 Sep 2010 20:13:47 -0700
Subject: [wp-hackers] Taxonomy - Custom Post Type - Pagination?
In-Reply-To: <AANLkTimXXRnwokLdgTx3CPK6_3omiFv6JPnM2QT+3A57@mail.gmail.com>
References: <AANLkTimXXRnwokLdgTx3CPK6_3omiFv6JPnM2QT+3A57@mail.gmail.com>
Message-ID: <FC8456E0DCA74249AA68775B569C3CE8@frumph.net>

".$page."  (or)  {$page}

its not translating into the string otherwise.

----- Original Message ----- 
From: "Joaquin Rodriguez Montero" <yojoaquin at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Sunday, September 19, 2010 7:55 PM
Subject: [wp-hackers] Taxonomy - Custom Post Type - Pagination?


> Hi guys,
>
> I'm sure this is really simple but I can't seem to find out what's going 
> on.
>
> I'm trying to do the following on my taxonomy-term.php
>
> $page = (get_query_var('paged')) ? get_query_var('paged') : 1;
> query_posts("
> post_type=postype&
> paged=$page&
> posts_per_page=16&
> orderby=title&
> order=ASC&
> term=$termslug");
> $i = 1; while (have_posts()) : the_post();
>
> Result: list of posts ok, pagination wrong. It's getting the pagination as
> if it was querying every post. Why I wanna do it this way? Cause I want to
> get the posts ordered by title.
>
> Any clue that could help me?
>
> Thanks!
>
> J
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From dvmorris at gmail.com  Mon Sep 20 03:14:52 2010
From: dvmorris at gmail.com (David Morris)
Date: Sun, 19 Sep 2010 22:14:52 -0500
Subject: [wp-hackers] Disabling wp-signup redirections in WP 3.0.1
 inmultisite mode
In-Reply-To: <905304856ACE4E9BB3B38F1708C29171@frumph.net>
References: <AANLkTi=1dz7kskjLubKspQVYiSrFQEP8fj-Da7EFAsZM@mail.gmail.com>
	<905304856ACE4E9BB3B38F1708C29171@frumph.net>
Message-ID: <AANLkTingTBuBHoA-esqwzBm0uVW6fSo=gsZtdpYwe5+R@mail.gmail.com>

Thanks for the suggestion. I'm not sure that's going to work for me, because
I'm not in sub-domain mode, and I am actually not trying to disable
redirects from invalid blog URLs. Say I have a WP 3.0 Multisite installation
at:

http://blog.example.com/

And I have a sub-blog at:

http://blog.example.com/blog2

If I'm on blog2, and I go to the wp-login page, the URL is:

http://blog.example.com/blog2/wp-login.php

The link that says Register points here:

http://blog.example.com/blog2/wp-login.php?action=register

which redirects to:

http://blog.example.com/blog2/wp-signup.php

which then immediately redirects to:

http://blog.example.com/wp-signup.php

I would like to remove that last redirect, and the only way I can figure out
how to do it is by commenting out these lines starting on line 30 of
wp-signup.php:

/*if ( !is_main_site() ) {
  wp_redirect( network_home_url( 'wp-signup.php' ) );
  die();
}*/

I did figure out how to hook wp_redirect and disable that particular
redirect, but the die() statement above was still killing me. It seems like
the wp_redirect should be wrapped in a conditional, and the page should only
die if the redirect actually happened.

Dave


On Sat, Sep 18, 2010 at 12:01 PM, Philip M. Hofer (Frumph) <
philip at frumph.net> wrote:

>
> http://frumph.net/wordpress/wordpress-3-0-multisite-subdomain-installation-noblogredirect-behavior-fix/
>
> This will do it for you.  If i'm reading what you want to do correctly.
>
> ----- Original Message ----- From: "David Morris" <dvmorris at gmail.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Saturday, September 18, 2010 8:22 AM
> Subject: [wp-hackers] Disabling wp-signup redirections in WP 3.0.1
> inmultisite mode
>
>
>  I would like to disable the redirect in wp-signup.php that always
>> takes you back to the root blog's signup page (when running in
>> multisite mode).
>>
>> The code that does this redirect is on line 26 of wp-signup.php:
>>
>> if ( !is_main_site() ) {
>>   wp_redirect( network_home_url( 'wp-signup.php' ) );
>>   die();
>> }
>>
>> Is this hookable in a generic way? I see the wp_redirect filter in
>> pluggable.php:877:
>>
>> $location = apply_filters('wp_redirect', $location, $status);
>>
>> But I'm just wondering if there is a generic way to only affect the
>> wp-signup redirections and be sure that it won't affect any other
>> functionality.
>>
>> Thanks for your help,
>>
>>
>>
>> --
>> Dave Morris
>> http://dave.showviz.net/
>> http://3dcamphouston.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From prodevstudio at gmail.com  Mon Sep 20 10:46:25 2010
From: prodevstudio at gmail.com (Azizur Rahman)
Date: Mon, 20 Sep 2010 11:46:25 +0100
Subject: [wp-hackers] wp-oauth.php
In-Reply-To: <AANLkTimOBa3WNt+U-snrYMgK7J8mYovPC82+axMtcF7a@mail.gmail.com>
References: <AANLkTimOBa3WNt+U-snrYMgK7J8mYovPC82+axMtcF7a@mail.gmail.com>
Message-ID: <AANLkTim9q_rKdwHhGeEwZGLXebewynodkQxAfAEaHotR@mail.gmail.com>

Hi Louy,

I have left a comment in your gist.

Kind Regards,
Azizur Rahman

----
Do you need cost-effective web hosting solution and Domain name try
http://prodevstudio.com

Missed the last Friday Khutbah, try catchup a Khutbah on-line now at
http://fridaykhutbah.com


On Sat, Sep 18, 2010 at 3:43 AM, Louy <louy08 at gmail.com> wrote:

> Heyy all :)
>
> Here's a gist i wanted to share in case you're interested in making a wp
> OAuth plugin or something, hope u find it useful.
>
> http://gist.github.com/585267
>
> All suggestions are welcome.
>
> Best.
>
> --
> *Louy Alakkad*
> A web developer
> http://l0uy.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From yojoaquin at gmail.com  Mon Sep 20 13:10:35 2010
From: yojoaquin at gmail.com (Joaquin Rodriguez Montero)
Date: Mon, 20 Sep 2010 10:10:35 -0300
Subject: [wp-hackers] Taxonomy - Custom Post Type - Pagination?
Message-ID: <AANLkTi=2sg1hJVBb0Bq=TNOHXWuUAmBOrtawtzZSa0rg@mail.gmail.com>

Thanks Philip. When I do that I get "extra empty pages" in the pagination,
as if it was not counting posts_per_page...

----- Original Message -----
Date: Sun, 19 Sep 2010 20:13:47 -0700
From: "Philip M. Hofer \(Frumph\)" <philip at frumph.net>
Subject: Re: [wp-hackers] Taxonomy - Custom Post Type - Pagination?
To: <wp-hackers at lists.automattic.com>
Message-ID: <FC8456E0DCA74249AA68775B569C3CE8 at frumph.net>
Content-Type: text/plain; format=flowed; charset="iso-8859-1";
       reply-type=original

".$page."  (or)  {$page}

its not translating into the string otherwise.

----- Original Message -----
From: "Joaquin Rodriguez Montero" <yojoaquin at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Sunday, September 19, 2010 7:55 PM
Subject: [wp-hackers] Taxonomy - Custom Post Type - Pagination?


> Hi guys,
>
> I'm sure this is really simple but I can't seem to find out what's going
> on.
>
> I'm trying to do the following on my taxonomy-term.php
>
> $page = (get_query_var('paged')) ? get_query_var('paged') : 1;
> query_posts("
> post_type=postype&
> paged=$page&
> posts_per_page=16&
> orderby=title&
> order=ASC&
> term=$termslug");
> $i = 1; while (have_posts()) : the_post();
>
> Result: list of posts ok, pagination wrong. It's getting the pagination as
> if it was querying every post. Why I wanna do it this way? Cause I want to
> get the posts ordered by title.
>
> Any clue that could help me?
>
> Thanks!
>
> J
> ______________________________
_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From philip at frumph.net  Mon Sep 20 13:14:04 2010
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Mon, 20 Sep 2010 06:14:04 -0700
Subject: [wp-hackers] Taxonomy - Custom Post Type - Pagination?
In-Reply-To: <AANLkTi=2sg1hJVBb0Bq=TNOHXWuUAmBOrtawtzZSa0rg@mail.gmail.com>
References: <AANLkTi=2sg1hJVBb0Bq=TNOHXWuUAmBOrtawtzZSa0rg@mail.gmail.com>
Message-ID: <47E634F81B964B44B96E754A56364941@frumph.net>

Well the reason is the posts_per_page when set in the query line doesn't 
actually work unless you send it to the pre_get_posts first, the reason is 
that the calculation for pagination happens *way* before the query is done, 
dunno why, just does.

  add_filter('pre_get_posts', 'comicpress_blogpostcount_filter');

  function comicpress_blogpostcount_filter($query) {
   if (is_home()) {
    $query->set('posts_per_page', 16);
   }
   return $query;
  }

So basically you need to set it at the pre_get_posts stage ahead of time so 
that it can calculate the posts_per_page properly


----- Original Message ----- 
From: "Joaquin Rodriguez Montero" <yojoaquin at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, September 20, 2010 6:10 AM
Subject: Re: [wp-hackers] Taxonomy - Custom Post Type - Pagination?


> Thanks Philip. When I do that I get "extra empty pages" in the pagination,
> as if it was not counting posts_per_page...
>
> ----- Original Message -----
> Date: Sun, 19 Sep 2010 20:13:47 -0700
> From: "Philip M. Hofer \(Frumph\)" <philip at frumph.net>
> Subject: Re: [wp-hackers] Taxonomy - Custom Post Type - Pagination?
> To: <wp-hackers at lists.automattic.com>
> Message-ID: <FC8456E0DCA74249AA68775B569C3CE8 at frumph.net>
> Content-Type: text/plain; format=flowed; charset="iso-8859-1";
>       reply-type=original
>
> ".$page."  (or)  {$page}
>
> its not translating into the string otherwise.
>
> ----- Original Message -----
> From: "Joaquin Rodriguez Montero" <yojoaquin at gmail.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Sunday, September 19, 2010 7:55 PM
> Subject: [wp-hackers] Taxonomy - Custom Post Type - Pagination?
>
>
>> Hi guys,
>>
>> I'm sure this is really simple but I can't seem to find out what's going
>> on.
>>
>> I'm trying to do the following on my taxonomy-term.php
>>
>> $page = (get_query_var('paged')) ? get_query_var('paged') : 1;
>> query_posts("
>> post_type=postype&
>> paged=$page&
>> posts_per_page=16&
>> orderby=title&
>> order=ASC&
>> term=$termslug");
>> $i = 1; while (have_posts()) : the_post();
>>
>> Result: list of posts ok, pagination wrong. It's getting the pagination 
>> as
>> if it was querying every post. Why I wanna do it this way? Cause I want 
>> to
>> get the posts ordered by title.
>>
>> Any clue that could help me?
>>
>> Thanks!
>>
>> J
>> ______________________________
> _________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



From jgadbois at gmail.com  Mon Sep 20 13:33:39 2010
From: jgadbois at gmail.com (John Gadbois)
Date: Mon, 20 Sep 2010 09:33:39 -0400
Subject: [wp-hackers] enqueue script only on settings page?
Message-ID: <AANLkTinLrFxPQdEWcj7Hwa=po-Zuaf-_+KZtEZyLQ8us@mail.gmail.com>

Is it possible to enqueue a script or style only on a settings page created
via the settings api?

The Codex has an example if you're manually adding a page to the admin menu,
but if you're just using the Settings API, you don't necessarily do that.

From list at expost.org  Mon Sep 20 14:19:39 2010
From: list at expost.org (Raj)
Date: Mon, 20 Sep 2010 19:49:39 +0530
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
Message-ID: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>

 

When a plug-in is upgraded through the administrator panel's plugin
interface (when already activated), will the activation hook be executed? 

 


From louy08 at gmail.com  Mon Sep 20 14:20:23 2010
From: louy08 at gmail.com (Louy)
Date: Mon, 20 Sep 2010 16:20:23 +0200
Subject: [wp-hackers] wp-oauth.php
In-Reply-To: <AANLkTim9q_rKdwHhGeEwZGLXebewynodkQxAfAEaHotR@mail.gmail.com>
References: <AANLkTimOBa3WNt+U-snrYMgK7J8mYovPC82+axMtcF7a@mail.gmail.com>
	<AANLkTim9q_rKdwHhGeEwZGLXebewynodkQxAfAEaHotR@mail.gmail.com>
Message-ID: <AANLkTi=qAzOg5U2mo-T=oW2_bxmAzpJR-2y2mpEZhXzT@mail.gmail.com>

Hi Azizure.

check my comment: http://gist.github.com/585267#gistcomment-9966

Best.

On Mon, Sep 20, 2010 at 12:46 PM, Azizur Rahman <prodevstudio at gmail.com>wrote:

> Hi Louy,
>
> I have left a comment in your gist.
>
> Kind Regards,
> Azizur Rahman
>
> ----
> Do you need cost-effective web hosting solution and Domain name try
> http://prodevstudio.com
>
> Missed the last Friday Khutbah, try catchup a Khutbah on-line now at
> http://fridaykhutbah.com
>
>
> On Sat, Sep 18, 2010 at 3:43 AM, Louy <louy08 at gmail.com> wrote:
>
> > Heyy all :)
> >
> > Here's a gist i wanted to share in case you're interested in making a wp
> > OAuth plugin or something, hope u find it useful.
> >
> > http://gist.github.com/585267
> >
> > All suggestions are welcome.
> >
> > Best.
> >
> > --
> > *Louy Alakkad*
> > A web developer
> > http://l0uy.com/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
*Louy Alakkad*
A web developer
http://l0uy.com/

From wp at andrewnacin.com  Mon Sep 20 15:04:12 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 20 Sep 2010 11:04:12 -0400
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
Message-ID: <AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>

On Mon, Sep 20, 2010 at 10:19 AM, Raj <list at expost.org> wrote:

> When a plug-in is upgraded through the administrator panel's plugin
> interface (when already activated), will the activation hook be executed?


Historically, yes, but only during a single upgrade. However, it is not
executed as part of a bulk update. Which is probably something to be
classified as a bug.

Generally it is good to keep track of a database version and run an upgrade
routine when necessary.

From jer at simianuprising.com  Mon Sep 20 15:28:45 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 20 Sep 2010 11:28:45 -0400
Subject: [wp-hackers] Taxonomy - Custom Post Type - Pagination?
In-Reply-To: <47E634F81B964B44B96E754A56364941@frumph.net>
References: <AANLkTi=2sg1hJVBb0Bq=TNOHXWuUAmBOrtawtzZSa0rg@mail.gmail.com>
	<47E634F81B964B44B96E754A56364941@frumph.net>
Message-ID: <AANLkTinG5pq8A6Twtk-SuGcLpg=AjFFQ=Q_iViswHj1F@mail.gmail.com>

On Mon, Sep 20, 2010 at 9:14 AM, Philip M. Hofer (Frumph) <philip at frumph.net
> wrote:

> Well the reason is the posts_per_page when set in the query line doesn't
> actually work unless you send it to the pre_get_posts first, the reason is
> that the calculation for pagination happens *way* before the query is done,
> dunno why, just does.
>
>  add_filter('pre_get_posts', 'comicpress_blogpostcount_filter');
>
>  function comicpress_blogpostcount_filter($query) {
>  if (is_home()) {
>   $query->set('posts_per_page', 16);
>  }
>  return $query;
>  }
>
> So basically you need to set it at the pre_get_posts stage ahead of time so
> that it can calculate the posts_per_page properly
>
>
This is very interesting and explains something I never had time to track
down that has made paging miscount the total pages pretty much any time you
start doing interesting things with posts_per_page.

Is it that it uses the global posts_per_page from Settings > Reading? Isn't
that a bug? Seems like WP should recalculate the max number of pages for
custom queries if they have a non-default posts_per_page value.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From wp-hackers at nicolaskuttler.de  Mon Sep 20 15:34:42 2010
From: wp-hackers at nicolaskuttler.de (Nicolas Kuttler)
Date: Mon, 20 Sep 2010 17:34:42 +0200
Subject: [wp-hackers] Will Activation Hook Be Executed During
	Plugin	Upgradation?
In-Reply-To: <AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
Message-ID: <20100920153442.GL7892@nicolaskuttler.de>

On Mon, Sep 20, 2010 at 11:04:12AM -0400, Andrew Nacin wrote:
> On Mon, Sep 20, 2010 at 10:19 AM, Raj <list at expost.org> wrote:
> 
> > When a plug-in is upgraded through the administrator panel's plugin
> > interface (when already activated), will the activation hook be executed?
> 
> 
> Historically, yes, but only during a single upgrade. However, it is not
> executed as part of a bulk update. Which is probably something to be
> classified as a bug.

Seriously? Yes, sounds like a bug.

Nicolas

And now to checking all my plugins...

--
Nicolas Kuttler
wp at nkuttler.de

http://www.nkuttler.de
http://www.nicolaskuttler.de (deutsch)

From otto at ottodestruct.com  Mon Sep 20 16:17:42 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 20 Sep 2010 11:17:42 -0500
Subject: [wp-hackers] enqueue script only on settings page?
In-Reply-To: <AANLkTinLrFxPQdEWcj7Hwa=po-Zuaf-_+KZtEZyLQ8us@mail.gmail.com>
References: <AANLkTinLrFxPQdEWcj7Hwa=po-Zuaf-_+KZtEZyLQ8us@mail.gmail.com>
Message-ID: <AANLkTim5ecQvJQNotFuiwv7McyC1QwqG1XXNSKL1Nk1i@mail.gmail.com>

On Mon, Sep 20, 2010 at 8:33 AM, John Gadbois <jgadbois at gmail.com> wrote:
> Is it possible to enqueue a script or style only on a settings page created
> via the settings api?

Yep.

When you add a new settings page, you do this via a call to
add_options_page, or add_submenu_page, or add_whatever_page. One of
the things you specify in these calls is the $menu_slug. This gets
added to the URL when you see your page in the admin screens. So the
URL of your page ends up being
/wp-admin/options-general.php?page=whatever.

That "whatever" is key here. You can use the action hook of
"admin_enqueue_scripts" to enqueue your scripts, and the first
parameter passed to it will be that "whatever". Check for that, and
enqueue as you see fit.

-Otto

From peter.westwood at ftwr.co.uk  Mon Sep 20 17:29:20 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon, 20 Sep 2010 18:29:20 +0100
Subject: [wp-hackers] Will Activation Hook Be Executed During
	Plugin	Upgradation?
In-Reply-To: <20100920153442.GL7892@nicolaskuttler.de>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
Message-ID: <7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>


On 20 Sep 2010, at 16:34, Nicolas Kuttler wrote:

> On Mon, Sep 20, 2010 at 11:04:12AM -0400, Andrew Nacin wrote:
>> On Mon, Sep 20, 2010 at 10:19 AM, Raj <list at expost.org> wrote:
>> 
>>> When a plug-in is upgraded through the administrator panel's plugin
>>> interface (when already activated), will the activation hook be executed?
>> 
>> 
>> Historically, yes, but only during a single upgrade. However, it is not
>> executed as part of a bulk update. Which is probably something to be
>> classified as a bug.
> 
> Seriously? Yes, sounds like a bug.
> 

Actually, I would only expect activation hooks to fire when the plugin is activated and not on upgrade.

Just like deactivation hooks should only fire on deactivation.

So the bug would be them firing at any point apart from real activation.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From elfin at elfden.co.uk  Mon Sep 20 18:10:30 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Mon, 20 Sep 2010 19:10:30 +0100
Subject: [wp-hackers] Will Activation Hook Be Executed
	During	Plugin	Upgradation?
In-Reply-To: <7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
Message-ID: <4C97A396.4030600@elfden.co.uk>

On 20/09/2010 18:29, Peter Westwood wrote:
>
> On 20 Sep 2010, at 16:34, Nicolas Kuttler wrote:
>
>> On Mon, Sep 20, 2010 at 11:04:12AM -0400, Andrew Nacin wrote:
>>> On Mon, Sep 20, 2010 at 10:19 AM, Raj<list at expost.org>  wrote:
>>>
>>>> When a plug-in is upgraded through the administrator panel's
>>>> plugin interface (when already activated), will the
>>>> activation hook be executed?
>>>
>>>
>>> Historically, yes, but only during a single upgrade. However,
>>> it is not executed as part of a bulk update. Which is probably
>>> something to be classified as a bug.
>>
>> Seriously? Yes, sounds like a bug.
>>
>
> Actually, I would only expect activation hooks to fire when the
> plugin is activated and not on upgrade.
>
> Just like deactivation hooks should only fire on deactivation.
>
> So the bug would be them firing at any point apart from real
> activation.


A lot of plugin authors, myself included (but I can easily change 
things if necessary) use this 'feature' (well that's what MS calls 
it...) to upgrade things. So if this really is the case that we 
shouldn't be using it, what would be the correct way to upgrade?

Rich

From liste at srpski.biz  Mon Sep 20 18:14:51 2010
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Mon, 20 Sep 2010 20:14:51 +0200
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <4C97A396.4030600@elfden.co.uk>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<4C97A396.4030600@elfden.co.uk>
Message-ID: <AANLkTin1-o+Tfg3ofGgxdsUkCaz1Anqybf-JKiGnb3oD@mail.gmail.com>

I belive that most people thought that it is used on every activation. Even
if plugin is updated, it is still activated.


2010/9/20 Rich Pedley <elfin at elfden.co.uk>

> On 20/09/2010 18:29, Peter Westwood wrote:
>
>>
>> On 20 Sep 2010, at 16:34, Nicolas Kuttler wrote:
>>
>> On Mon, Sep 20, 2010 at 11:04:12AM -0400, Andrew Nacin wrote:
>>>
>>>> On Mon, Sep 20, 2010 at 10:19 AM, Raj<list at expost.org>  wrote:
>>>>
>>>> When a plug-in is upgraded through the administrator panel's
>>>>> plugin interface (when already activated), will the
>>>>> activation hook be executed?
>>>>>
>>>>
>>>>
>>>> Historically, yes, but only during a single upgrade. However,
>>>> it is not executed as part of a bulk update. Which is probably
>>>> something to be classified as a bug.
>>>>
>>>
>>> Seriously? Yes, sounds like a bug.
>>>
>>>
>> Actually, I would only expect activation hooks to fire when the
>> plugin is activated and not on upgrade.
>>
>> Just like deactivation hooks should only fire on deactivation.
>>
>> So the bug would be them firing at any point apart from real
>> activation.
>>
>
>
> A lot of plugin authors, myself included (but I can easily change things if
> necessary) use this 'feature' (well that's what MS calls it...) to upgrade
> things. So if this really is the case that we shouldn't be using it, what
> would be the correct way to upgrade?
>
> Rich
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Mon Sep 20 18:17:37 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 20 Sep 2010 13:17:37 -0500
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <4C97A396.4030600@elfden.co.uk>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<4C97A396.4030600@elfden.co.uk>
Message-ID: <AANLkTi=1MOwqXb7=ZSrHqUbUyHiNZirjOyh1Q7K0WrvJ@mail.gmail.com>

On Mon, Sep 20, 2010 at 1:10 PM, Rich Pedley <elfin at elfden.co.uk> wrote:
> A lot of plugin authors, myself included (but I can easily change things if
> necessary) use this 'feature' (well that's what MS calls it...) to upgrade
> things. So if this really is the case that we shouldn't be using it, what
> would be the correct way to upgrade?

Depends on what exactly you're "upgrading".

The simplest method that would work everywhere would be simply to
store the version number of the plugin somewhere (like in your options
entry in the database), then compare the stored version with your
known current and hardcoded version. When you detect the difference,
then that means an upgrade has taken place, and you can act
accordingly.

Another way is simply to make the plugin detect outdated options or
older schemas and upgrade them on-the-fly. This is probably the most
reliable, but it does depend on what exactly you're upgrading. You
can't necessarily make this "generic".

-Otto

From liste at srpski.biz  Mon Sep 20 18:33:38 2010
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Mon, 20 Sep 2010 20:33:38 +0200
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <AANLkTi=1MOwqXb7=ZSrHqUbUyHiNZirjOyh1Q7K0WrvJ@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<4C97A396.4030600@elfden.co.uk>
	<AANLkTi=1MOwqXb7=ZSrHqUbUyHiNZirjOyh1Q7K0WrvJ@mail.gmail.com>
Message-ID: <AANLkTiniG2R4rt0Q2bLmLVs01s=4UhzTCb+pLrC-J77O@mail.gmail.com>

>
> The simplest method that would work everywhere would be simply to
> store the version number of the plugin somewhere (like in your options
> entry in the database), then compare the stored version with your
> known current and hardcoded version.
>

Yes, but isn't easiest to do this on activation?

2010/9/20 Otto <otto at ottodestruct.com>

> On Mon, Sep 20, 2010 at 1:10 PM, Rich Pedley <elfin at elfden.co.uk> wrote:
> > A lot of plugin authors, myself included (but I can easily change things
> if
> > necessary) use this 'feature' (well that's what MS calls it...) to
> upgrade
> > things. So if this really is the case that we shouldn't be using it, what
> > would be the correct way to upgrade?
>
> Depends on what exactly you're "upgrading".
>
> The simplest method that would work everywhere would be simply to
> store the version number of the plugin somewhere (like in your options
> entry in the database), then compare the stored version with your
> known current and hardcoded version. When you detect the difference,
> then that means an upgrade has taken place, and you can act
> accordingly.
>
> Another way is simply to make the plugin detect outdated options or
> older schemas and upgrade them on-the-fly. This is probably the most
> reliable, but it does depend on what exactly you're upgrading. You
> can't necessarily make this "generic".
>
> -Otto
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Mon Sep 20 18:35:46 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 20 Sep 2010 14:35:46 -0400
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <AANLkTin1-o+Tfg3ofGgxdsUkCaz1Anqybf-JKiGnb3oD@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<4C97A396.4030600@elfden.co.uk>
	<AANLkTin1-o+Tfg3ofGgxdsUkCaz1Anqybf-JKiGnb3oD@mail.gmail.com>
Message-ID: <AANLkTi=waVW9WRX7jy9bfR-MN_46mmyB1FhobkkM+3BB@mail.gmail.com>

On Mon, Sep 20, 2010 at 2:14 PM, Milan Dini? <liste at srpski.biz> wrote:

> I belive that most people thought that it is used on every activation. Even
> if plugin is updated, it is still activated.


It should be noted that plugin deactivation hooks are *not* fired on
updates. Those are explicitly suppressed. Only activation hooks are
fired. Personally, I don't see why we're not silencing both.

From otto at ottodestruct.com  Mon Sep 20 18:51:49 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 20 Sep 2010 13:51:49 -0500
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <AANLkTiniG2R4rt0Q2bLmLVs01s=4UhzTCb+pLrC-J77O@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<4C97A396.4030600@elfden.co.uk>
	<AANLkTi=1MOwqXb7=ZSrHqUbUyHiNZirjOyh1Q7K0WrvJ@mail.gmail.com>
	<AANLkTiniG2R4rt0Q2bLmLVs01s=4UhzTCb+pLrC-J77O@mail.gmail.com>
Message-ID: <AANLkTimP+zmKJy3TH3VmzdsfDOfq3rm3wmq9whQ1XvDm@mail.gmail.com>

On Mon, Sep 20, 2010 at 1:33 PM, Milan Dini? <liste at srpski.biz> wrote:
> Yes, but isn't easiest to do this on activation?

If you are storing the version in your plugin options somewhere, then
it's easiest to do it at init or anywhere else you are already pulling
the options. A simple call to version_compare is fairly lightweight.

I don't like activation hooks, personally. Though I do see the need for them.

-Otto

From elfin at elfden.co.uk  Mon Sep 20 19:30:47 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Mon, 20 Sep 2010 20:30:47 +0100
Subject: [wp-hackers] Will Activation Hook Be Executed During
	Plugin	Upgradation?
In-Reply-To: <AANLkTi=waVW9WRX7jy9bfR-MN_46mmyB1FhobkkM+3BB@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>	<20100920153442.GL7892@nicolaskuttler.de>	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>	<4C97A396.4030600@elfden.co.uk>	<AANLkTin1-o+Tfg3ofGgxdsUkCaz1Anqybf-JKiGnb3oD@mail.gmail.com>
	<AANLkTi=waVW9WRX7jy9bfR-MN_46mmyB1FhobkkM+3BB@mail.gmail.com>
Message-ID: <4C97B667.60409@elfden.co.uk>

On 20/09/2010 19:35, Andrew Nacin wrote:
> On Mon, Sep 20, 2010 at 2:14 PM, Milan Dini?<liste at srpski.biz>  wrote:
>
>> I belive that most people thought that it is used on every activation. Even
>> if plugin is updated, it is still activated.
>
>
> It should be noted that plugin deactivation hooks are *not* fired on
> updates. Those are explicitly suppressed. Only activation hooks are
> fired. Personally, I don't see why we're not silencing both.

Well correct me if I'm wrong, but when you update a plugin 
automatically it deactivates, upgrades, then reactivates?


I make changes to the database tables created by the plugin on 
occasion (plus occassional settings changes), and I have always used 
the feature of the activation hook being run. I do my version check 
within there.

I even coded something to highlight that the version number hadn't 
been updated thus prodding them to deactivate/reactivate.

If this 'feature' was to be removed, then it would affect many many 
plugin authors(IMO) and time would be needed for them to adjust to things.

Rich

From wp at andrewnacin.com  Mon Sep 20 19:36:51 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 20 Sep 2010 15:36:51 -0400
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <4C97B667.60409@elfden.co.uk>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<4C97A396.4030600@elfden.co.uk>
	<AANLkTin1-o+Tfg3ofGgxdsUkCaz1Anqybf-JKiGnb3oD@mail.gmail.com>
	<AANLkTi=waVW9WRX7jy9bfR-MN_46mmyB1FhobkkM+3BB@mail.gmail.com>
	<4C97B667.60409@elfden.co.uk>
Message-ID: <AANLkTi=dMg6ZnBUo1+H2Q4+Ciur4HX+3oa3PyZCQd6oX@mail.gmail.com>

On Mon, Sep 20, 2010 at 3:30 PM, Rich Pedley <elfin at elfden.co.uk> wrote:

> On 20/09/2010 19:35, Andrew Nacin wrote:
>
>> On Mon, Sep 20, 2010 at 2:14 PM, Milan Dini?<liste at srpski.biz>  wrote:
>>
>>  I belive that most people thought that it is used on every activation.
>>> Even
>>> if plugin is updated, it is still activated.
>>>
>>
>>
>> It should be noted that plugin deactivation hooks are *not* fired on
>> updates. Those are explicitly suppressed. Only activation hooks are
>> fired. Personally, I don't see why we're not silencing both.
>>
>
> Well correct me if I'm wrong, but when you update a plugin automatically it
> deactivates, upgrades, then reactivates?
>

Technically. But the deactivation hook is not fired. And, an inconsistency
introduced in 2.9 means that when bulk updating plugins, the activation
hooks aren't fired either.

If this 'feature' was to be removed, then it would affect many many plugin
> authors(IMO) and time would be needed for them to adjust to things.


Probably. I'm just expressing my opinion. And the commentary that it is
neither intuitive nor consistent.

From yojoaquin at gmail.com  Mon Sep 20 19:39:22 2010
From: yojoaquin at gmail.com (Joaquin Rodriguez Montero)
Date: Mon, 20 Sep 2010 16:39:22 -0300
Subject: [wp-hackers] Taxonomy - Custom Post Type - Pagination?
In-Reply-To: <AANLkTi=2sg1hJVBb0Bq=TNOHXWuUAmBOrtawtzZSa0rg@mail.gmail.com>
References: <AANLkTi=2sg1hJVBb0Bq=TNOHXWuUAmBOrtawtzZSa0rg@mail.gmail.com>
Message-ID: <AANLkTi=UBz0ynnmi5OZcJwD029hy7_8cWw9SswyO03wN@mail.gmail.com>

You rock Philip. Thanks a lot for your answer!

Still.. it's odd how this works on taxonomies but not on other *regular*
pages.. for instance this works perfectly on page-products.php

$page = (get_query_var('paged')) ? get_query_var('paged') : 1;
query_posts("post_type=products&paged=$page&posts_per_page=16&orderby=title&order=ASC");
$i = 1; while (have_posts()) : the_post();

Any idea why this is?

J

-------------------------------------------
Message: 2
Date: Mon, 20 Sep 2010 06:14:04 -0700
From: "Philip M. Hofer \(Frumph\)" <philip at frumph.net>
Subject: Re: [wp-hackers] Taxonomy - Custom Post Type - Pagination?
To: <wp-hackers at lists.automattic.com>
Message-ID: <47E634F81B964B44B96E754A56364941 at frumph.net>
Content-Type: text/plain; format=flowed; charset="iso-8859-1";
       reply-type=original

Well the reason is the posts_per_page when set in the query line doesn't
actually work unless you send it to the pre_get_posts first, the reason is
that the calculation for pagination happens *way* before the query is done,
dunno why, just does.

 add_filter('pre_get_posts', 'comicpress_blogpostcount_
filter');

 function comicpress_blogpostcount_filter($query) {
  if (is_home()) {
   $query->set('posts_per_page', 16);
  }
  return $query;
 }

So basically you need to set it at the pre_get_posts stage ahead of time so
that it can calculate the posts_per_page properly

From philip at manifestbozeman.com  Mon Sep 20 20:04:56 2010
From: philip at manifestbozeman.com (Philip Downer)
Date: Mon, 20 Sep 2010 14:04:56 -0600
Subject: [wp-hackers] Assigning capabilities to Appearance submenu items
Message-ID: <A168D4A4-7ED5-4CD3-87B3-595B5431450B@manifestbozeman.com>

Long time lurker, but first time poster. I've searched Google  
extensively and just can't seem to come up with an answer on this  
problem.

I use Justin Tadlock's excellent 'Members' plugin for roles and  
permissions on several client installations of WP. I've recently  
deployed a theme where the client should only have access to the  
Appearance -> Menus item, but none of the others sub-items in the  
Appearance menu of the admin.

When enabled, the role 'edit_theme_options' enables the user to access  
'Themes', 'Widgets', and 'Menus'. How would I go about filtering the  
submenu so that if the role 'edit_custom_menus' is assigned, the  
'Menus' link will show?

Philip Downer
Office: (406) 585-9406
Cell: (406) 599-0222
Skype: manifestphil
------------------------------------------
Manifest Creative
21000 Frontage Rd., Suite #6
Belgrade, MT 59714

info at manifestbozeman.com
www.manifestbozeman.com

MANIFEST: clear and obvious to the eye or mind.


From scribu at gmail.com  Mon Sep 20 20:11:10 2010
From: scribu at gmail.com (scribu)
Date: Mon, 20 Sep 2010 23:11:10 +0300
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
Message-ID: <AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>

On Mon, Sep 20, 2010 at 8:29 PM, Peter Westwood
<peter.westwood at ftwr.co.uk>wrote:

> Actually, I would only expect activation hooks to fire when the plugin is
> activated and not on upgrade.
>
> Just like deactivation hooks should only fire on deactivation.
>
> So the bug would be them firing at any point apart from real activation.
>

That makes sense, although I (along with a lot of other plugin authors I
imagine) overload the activation hook with procedures meant to be done when
the plugin is updated.

I think we should introduce a register_update_hook().


-- 
http://scribu.net

From dougal at gunters.org  Mon Sep 20 20:21:11 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Mon, 20 Sep 2010 16:21:11 -0400
Subject: [wp-hackers] Will Activation Hook Be Executed During
	Plugin	Upgradation?
In-Reply-To: <AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>	<20100920153442.GL7892@nicolaskuttler.de>	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
Message-ID: <4C97C237.80501@gunters.org>

  On Sep 20 2010 4:11 PM, scribu wrote:
> On Mon, Sep 20, 2010 at 8:29 PM, Peter Westwood
> <peter.westwood at ftwr.co.uk>wrote:
>
>> Actually, I would only expect activation hooks to fire when the plugin is
>> activated and not on upgrade.
>>
>> Just like deactivation hooks should only fire on deactivation.
>>
>> So the bug would be them firing at any point apart from real activation.
>>
> That makes sense, although I (along with a lot of other plugin authors I
> imagine) overload the activation hook with procedures meant to be done when
> the plugin is updated.
>
> I think we should introduce a register_update_hook().

I was thinking along the lines of:

   do_action( 'update_plugin_' . $slug );
   do_action( 'update_theme_' . $slug );

...during the appropriate upgrade processes. But yeah, regardless of the 
actual implementation, an upgrade hook would be logical and good to have.


-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From ozh at ozh.org  Mon Sep 20 20:25:04 2010
From: ozh at ozh.org (Ozh)
Date: Mon, 20 Sep 2010 22:25:04 +0200
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <4C97C237.80501@gunters.org>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
	<4C97C237.80501@gunters.org>
Message-ID: <AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>

Never payed attention to it before, but is there a semantic/usage
difference between "update" and "upgrade" in WP? "Update a plugin" vs
"Upgrade core"?

On Mon, Sep 20, 2010 at 10:21 PM, Dougal Campbell <dougal at gunters.org> wrote:
> ?do_action( 'update_plugin_' . $slug );
> ?do_action( 'update_theme_' . $slug );
>
> ...during the appropriate upgrade processes. But yeah, regardless of the
> actual implementation, an upgrade hook would be logical and good to have.


-- 
http://ozh.org/

From wp at andrewnacin.com  Mon Sep 20 20:28:11 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 20 Sep 2010 16:28:11 -0400
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
	<4C97C237.80501@gunters.org>
	<AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>
Message-ID: <AANLkTin_KAWpkB7pGGDdALQ+mGq5zPKphS+UhqBandZG@mail.gmail.com>

On Mon, Sep 20, 2010 at 4:25 PM, Ozh <ozh at ozh.org> wrote:

> Never payed attention to it before, but is there a semantic/usage
> difference between "update" and "upgrade" in WP? "Update a plugin" vs
> "Upgrade core"?


We're gravitating toward the term "update" everywhere.

From scribu at gmail.com  Mon Sep 20 20:36:51 2010
From: scribu at gmail.com (scribu)
Date: Mon, 20 Sep 2010 23:36:51 +0300
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <AANLkTin_KAWpkB7pGGDdALQ+mGq5zPKphS+UhqBandZG@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
	<4C97C237.80501@gunters.org>
	<AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>
	<AANLkTin_KAWpkB7pGGDdALQ+mGq5zPKphS+UhqBandZG@mail.gmail.com>
Message-ID: <AANLkTinfvzGgTH6hE-JyCGpv9NAQg7BrtaBcNb3pcc8E@mail.gmail.com>

On Mon, Sep 20, 2010 at 11:28 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Mon, Sep 20, 2010 at 4:25 PM, Ozh <ozh at ozh.org> wrote:
>
> > Never payed attention to it before, but is there a semantic/usage
> > difference between "update" and "upgrade" in WP? "Update a plugin" vs
> > "Upgrade core"?
>
>
> We're gravitating toward the term "update" everywhere.
>

That might be a good idea for the UI, since it sounds lighter, but I think
functions should continue to use 'upgrade'.

'update' is part of the CRUD family, so it's perfect for update_option()
etc.

'upgrade' has a direction and therefore an opposite: 'downgrade' so it's
more descriptive.

So, my revised proposal:
register_upgrade_hook()<http://core.trac.wordpress.org/ticket/14912>,
which internally would call do_action(), like Dougal suggested. Theme
activation hooks are another can of worms.


-- 
http://scribu.net

From gcorne at bu.edu  Mon Sep 20 21:09:29 2010
From: gcorne at bu.edu (Cornelius, Gregory)
Date: Mon, 20 Sep 2010 17:09:29 -0400
Subject: [wp-hackers] Will Activation Hook Be Executed During
	Plugin	Upgradation?
In-Reply-To: <AANLkTinfvzGgTH6hE-JyCGpv9NAQg7BrtaBcNb3pcc8E@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
	<4C97C237.80501@gunters.org>
	<AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>
	<AANLkTin_KAWpkB7pGGDdALQ+mGq5zPKphS+UhqBandZG@mail.gmail.com>
	<AANLkTinfvzGgTH6hE-JyCGpv9NAQg7BrtaBcNb3pcc8E@mail.gmail.com>
Message-ID: <75503041-D195-49F0-9905-AE79B88B8A0F@bu.edu>

I don't think it is a good idea to assume that upgrades to plugins/themes are made through the WP admin interface.

On Sep 20, 2010, at 4:36 PM, scribu wrote:

> On Mon, Sep 20, 2010 at 11:28 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> 
>> On Mon, Sep 20, 2010 at 4:25 PM, Ozh <ozh at ozh.org> wrote:
>> 
>>> Never payed attention to it before, but is there a semantic/usage
>>> difference between "update" and "upgrade" in WP? "Update a plugin" vs
>>> "Upgrade core"?
>> 
>> 
>> We're gravitating toward the term "update" everywhere.
>> 
> 
> That might be a good idea for the UI, since it sounds lighter, but I think
> functions should continue to use 'upgrade'.
> 
> 'update' is part of the CRUD family, so it's perfect for update_option()
> etc.
> 
> 'upgrade' has a direction and therefore an opposite: 'downgrade' so it's
> more descriptive.
> 
> So, my revised proposal:
> register_upgrade_hook()<http://core.trac.wordpress.org/ticket/14912>,
> which internally would call do_action(), like Dougal suggested. Theme
> activation hooks are another can of worms.
> 
> 
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From dvmorris at gmail.com  Mon Sep 20 21:15:39 2010
From: dvmorris at gmail.com (David Morris)
Date: Mon, 20 Sep 2010 16:15:39 -0500
Subject: [wp-hackers] Comment Redirection Error and zspfrul@mail.ru
Message-ID: <AANLkTi=-ztpRTrfpbU8piAAuuhrLQNmjwhmePpYoQS7f@mail.gmail.com>

I have some testers reporting a strange issue where they leave an anonymous
comment on a blog post, and they are instantly redirected to the home page
of that blog rather than the blog post page.

Then, when the visit the blog post page where they just left a comment, they
see their comment, but the "Post a Comment" form is pre-filled out with the
following information:

Name: Sulemaw
Mail: zspfrul at mail.ru
Website: http://zspf.ru/content.php?id...

The URL is bigger but the tester's screenshot stops at "?id". Strangest
thing I've seen in WP so far. Any ideas? I'm running 3.0.1, if that makes a
difference,

Dave

From otto at ottodestruct.com  Mon Sep 20 21:19:04 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 20 Sep 2010 16:19:04 -0500
Subject: [wp-hackers] Comment Redirection Error and zspfrul@mail.ru
In-Reply-To: <AANLkTi=-ztpRTrfpbU8piAAuuhrLQNmjwhmePpYoQS7f@mail.gmail.com>
References: <AANLkTi=-ztpRTrfpbU8piAAuuhrLQNmjwhmePpYoQS7f@mail.gmail.com>
Message-ID: <AANLkTinWFCKU3pbAbKFaNJ-5zdTY96nmxVYwdfddMCmh@mail.gmail.com>

Are you using any page caching plugins?

-Otto

On Mon, Sep 20, 2010 at 4:15 PM, David Morris <dvmorris at gmail.com> wrote:
> I have some testers reporting a strange issue where they leave an anonymous
> comment on a blog post, and they are instantly redirected to the home page
> of that blog rather than the blog post page.
>
> Then, when the visit the blog post page where they just left a comment, they
> see their comment, but the "Post a Comment" form is pre-filled out with the
> following information:
>
> Name: Sulemaw
> Mail: zspfrul at mail.ru
> Website: http://zspf.ru/content.php?id...
>
> The URL is bigger but the tester's screenshot stops at "?id". Strangest
> thing I've seen in WP so far. Any ideas? I'm running 3.0.1, if that makes a
> difference,
>
> Dave
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Mon Sep 20 21:36:04 2010
From: scribu at gmail.com (scribu)
Date: Tue, 21 Sep 2010 00:36:04 +0300
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <75503041-D195-49F0-9905-AE79B88B8A0F@bu.edu>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
	<4C97C237.80501@gunters.org>
	<AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>
	<AANLkTin_KAWpkB7pGGDdALQ+mGq5zPKphS+UhqBandZG@mail.gmail.com>
	<AANLkTinfvzGgTH6hE-JyCGpv9NAQg7BrtaBcNb3pcc8E@mail.gmail.com>
	<75503041-D195-49F0-9905-AE79B88B8A0F@bu.edu>
Message-ID: <AANLkTik2Ue7kv4YS=wDW6umpf4LjXk6jUonXmhc7bCsv@mail.gmail.com>

On Tue, Sep 21, 2010 at 12:09 AM, Cornelius, Gregory <gcorne at bu.edu> wrote:

> I don't think it is a good idea to assume that upgrades to plugins/themes
> are made through the WP admin interface.
>

Why not? I mean, we expect users to activate plugins through the admin
interface if they want them to function properly. So it should be the same
for upgrades.

The only thing that's missing is the ability to upgrade by uploading a .zip
package:

http://core.trac.wordpress.org/ticket/9757


-- 
http://scribu.net

From gcorne at bu.edu  Mon Sep 20 21:49:03 2010
From: gcorne at bu.edu (Cornelius, Gregory)
Date: Mon, 20 Sep 2010 17:49:03 -0400
Subject: [wp-hackers] Will Activation Hook Be Executed During
	Plugin	Upgradation?
In-Reply-To: <AANLkTik2Ue7kv4YS=wDW6umpf4LjXk6jUonXmhc7bCsv@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
	<4C97C237.80501@gunters.org>
	<AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>
	<AANLkTin_KAWpkB7pGGDdALQ+mGq5zPKphS+UhqBandZG@mail.gmail.com>
	<AANLkTinfvzGgTH6hE-JyCGpv9NAQg7BrtaBcNb3pcc8E@mail.gmail.com>
	<75503041-D195-49F0-9905-AE79B88B8A0F@bu.edu>
	<AANLkTik2Ue7kv4YS=wDW6umpf4LjXk6jUonXmhc7bCsv@mail.gmail.com>
Message-ID: <DF1BEE69-C8E3-4732-ABD5-A6FC7F7C491E@bu.edu>

mu-plugins for one.  I also prefer to use version control and custom deployment scripts for upgrades.   It is easy enough to trigger /wp-admin/upgrade.php from a script.   Will I be able to trigger upgrades in a similar fashion when upgrading themes and plugins?  If so, that might work.

I also hate having to fork plugins because they weren't designed with complex environments in mind.   For example, most plugins don't honor WP_PROXY_HOST and WP_PROXY_PORT.  

On Sep 20, 2010, at 5:36 PM, scribu wrote:

> On Tue, Sep 21, 2010 at 12:09 AM, Cornelius, Gregory <gcorne at bu.edu> wrote:
> 
>> I don't think it is a good idea to assume that upgrades to plugins/themes
>> are made through the WP admin interface.
>> 
> 
> Why not? I mean, we expect users to activate plugins through the admin
> interface if they want them to function properly. So it should be the same
> for upgrades.
> 
> The only thing that's missing is the ability to upgrade by uploading a .zip
> package:
> 
> http://core.trac.wordpress.org/ticket/9757
> 
> 
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From eric at eamann.com  Mon Sep 20 21:51:45 2010
From: eric at eamann.com (Eric Mann)
Date: Mon, 20 Sep 2010 14:51:45 -0700 (PDT)
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
 Upgradation?
In-Reply-To: <75503041-D195-49F0-9905-AE79B88B8A0F@bu.edu>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
	<4C97C237.80501@gunters.org>
	<AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>
	<AANLkTin_KAWpkB7pGGDdALQ+mGq5zPKphS+UhqBandZG@mail.gmail.com>
	<AANLkTinfvzGgTH6hE-JyCGpv9NAQg7BrtaBcNb3pcc8E@mail.gmail.com>
	<75503041-D195-49F0-9905-AE79B88B8A0F@bu.edu>
Message-ID: <2064278418.515855.1285019506050.JavaMail.open-xchange@oxusltgw11.schlund.de>

On the one hand I agree with you. ?We need to be able to handle situations where
users manually update a plug-in via FTP. ?However, setting up some
pre_update/post_update hooks for plug-ins would still be highly useful.
?
I'd also like to see the ability to update from a local ZIP file through the UI
... this wouldn't handle all manual update situations, but would cover quite a
few of them (a few of my clients are forced to manually update do to strange
configuration issues on their server from other services they have running that
break the auto-updater ... it's easier for them to just live with FTP updates
than to actually fix a bug that only affects them once or twice a year).
?
Even if we have update hooks, it's near impossible to detect when users are
manually updating ... so perhaps an initialization function that checks the
plug-in's expected/current version against one stored in the DB (this was
already recommended) and automatically runs an update script should become a
best practice ...

On September 20, 2010 at 9:09 PM "Cornelius, Gregory" <gcorne at bu.edu> wrote:

> I don't think it is a good idea to assume that upgrades to plugins/themes are
> made through the WP admin interface.
>
> On Sep 20, 2010, at 4:36 PM, scribu wrote:
>
> > On Mon, Sep 20, 2010 at 11:28 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> >
> >> On Mon, Sep 20, 2010 at 4:25 PM, Ozh <ozh at ozh.org> wrote:
> >>
> >>> Never payed attention to it before, but is there a semantic/usage
> >>> difference between "update" and "upgrade" in WP? "Update a plugin" vs
> >>> "Upgrade core"?
> >>
> >>
> >> We're gravitating toward the term "update" everywhere.
> >>
> >
> > That might be a good idea for the UI, since it sounds lighter, but I think
> > functions should continue to use 'upgrade'.
> >
> > 'update' is part of the CRUD family, so it's perfect for update_option()
> > etc.
> >
> > 'upgrade' has a direction and therefore an opposite: 'downgrade' so it's
> > more descriptive.
> >
> > So, my revised proposal:
> > register_upgrade_hook()<http://core.trac.wordpress.org/ticket/14912>,
> > which internally would call do_action(), like Dougal suggested. Theme
> > activation hooks are another can of worms.
> >
> >
> > --
> > http://scribu.net
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From dvmorris at gmail.com  Mon Sep 20 21:57:58 2010
From: dvmorris at gmail.com (David Morris)
Date: Mon, 20 Sep 2010 16:57:58 -0500
Subject: [wp-hackers] Comment Redirection Error and zspfrul@mail.ru
In-Reply-To: <AANLkTinWFCKU3pbAbKFaNJ-5zdTY96nmxVYwdfddMCmh@mail.gmail.com>
References: <AANLkTi=-ztpRTrfpbU8piAAuuhrLQNmjwhmePpYoQS7f@mail.gmail.com>
	<AANLkTinWFCKU3pbAbKFaNJ-5zdTY96nmxVYwdfddMCmh@mail.gmail.com>
Message-ID: <AANLkTim8WJiY1jYsU_AoFqoOyOyXjqE2nnDYivFY9+3z@mail.gmail.com>

Yes, we are using WP Super Cache. It would not surprise me if that's causing
issues. We are having a ton of issues with it, especially on RSS feeds:
http://wordpress.org/support/topic/wp-super-cache-rss-feed-content-type-issue?replies=1

Dave

On Mon, Sep 20, 2010 at 4:19 PM, Otto <otto at ottodestruct.com> wrote:

> Are you using any page caching plugins?
>
> -Otto
>
> On Mon, Sep 20, 2010 at 4:15 PM, David Morris <dvmorris at gmail.com> wrote:
> > I have some testers reporting a strange issue where they leave an
> anonymous
> > comment on a blog post, and they are instantly redirected to the home
> page
> > of that blog rather than the blog post page.
> >
> > Then, when the visit the blog post page where they just left a comment,
> they
> > see their comment, but the "Post a Comment" form is pre-filled out with
> the
> > following information:
> >
> > Name: Sulemaw
> > Mail: zspfrul at mail.ru
> > Website: http://zspf.ru/content.php?id...
> >
> > The URL is bigger but the tester's screenshot stops at "?id". Strangest
> > thing I've seen in WP so far. Any ideas? I'm running 3.0.1, if that makes
> a
> > difference,
> >
> > Dave
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From scribu at gmail.com  Mon Sep 20 22:05:01 2010
From: scribu at gmail.com (scribu)
Date: Tue, 21 Sep 2010 01:05:01 +0300
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <2064278418.515855.1285019506050.JavaMail.open-xchange@oxusltgw11.schlund.de>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
	<4C97C237.80501@gunters.org>
	<AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>
	<AANLkTin_KAWpkB7pGGDdALQ+mGq5zPKphS+UhqBandZG@mail.gmail.com>
	<AANLkTinfvzGgTH6hE-JyCGpv9NAQg7BrtaBcNb3pcc8E@mail.gmail.com>
	<75503041-D195-49F0-9905-AE79B88B8A0F@bu.edu>
	<2064278418.515855.1285019506050.JavaMail.open-xchange@oxusltgw11.schlund.de>
Message-ID: <AANLkTikZFurQs7mJAKTUy5rtiQ61pP-t4wEht9d881Cq@mail.gmail.com>

Yeah, I guess checking a version stored in the db on each (admin) page load
is the most resilient way to go about it.

Time to update my plugin framework.

-- 
http://scribu.net

From ken.adcstudio at gmail.com  Mon Sep 20 22:16:44 2010
From: ken.adcstudio at gmail.com (Ken (WraithKenny))
Date: Mon, 20 Sep 2010 18:16:44 -0400
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <AANLkTikZFurQs7mJAKTUy5rtiQ61pP-t4wEht9d881Cq@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
	<4C97C237.80501@gunters.org>
	<AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>
	<AANLkTin_KAWpkB7pGGDdALQ+mGq5zPKphS+UhqBandZG@mail.gmail.com>
	<AANLkTinfvzGgTH6hE-JyCGpv9NAQg7BrtaBcNb3pcc8E@mail.gmail.com>
	<75503041-D195-49F0-9905-AE79B88B8A0F@bu.edu>
	<2064278418.515855.1285019506050.JavaMail.open-xchange@oxusltgw11.schlund.de>
	<AANLkTikZFurQs7mJAKTUy5rtiQ61pP-t4wEht9d881Cq@mail.gmail.com>
Message-ID: <AANLkTinv7v37KDtv-XThmAJ5Kh2iX+XtAnt6dH6GqtCh@mail.gmail.com>

Should we extend the  API?

Have activation hook add an option entry for the version automatically. (and
a legacy check to add it if it's missing).
Have a upgrade/update hook that checks version against version option, so
that it handles uploaded upgrades (and maybe checked on
activation/deactivation calls to be sure its caught?)
Have uninstall hook delete option on uninstall automatically.

This would be nice, as it's less burden on the plugin devs and has all the
benefits of an API (core adds checks and features without devs missing
them.)

Alternatively, we make plugin authors do it themselves and put the best
practice in the handbook...

And then we can extend it to Themes! (yeay! Theme's need what plugins have.)

From scribu at gmail.com  Mon Sep 20 22:19:41 2010
From: scribu at gmail.com (scribu)
Date: Tue, 21 Sep 2010 01:19:41 +0300
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <AANLkTinv7v37KDtv-XThmAJ5Kh2iX+XtAnt6dH6GqtCh@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
	<4C97C237.80501@gunters.org>
	<AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>
	<AANLkTin_KAWpkB7pGGDdALQ+mGq5zPKphS+UhqBandZG@mail.gmail.com>
	<AANLkTinfvzGgTH6hE-JyCGpv9NAQg7BrtaBcNb3pcc8E@mail.gmail.com>
	<75503041-D195-49F0-9905-AE79B88B8A0F@bu.edu>
	<2064278418.515855.1285019506050.JavaMail.open-xchange@oxusltgw11.schlund.de>
	<AANLkTikZFurQs7mJAKTUy5rtiQ61pP-t4wEht9d881Cq@mail.gmail.com>
	<AANLkTinv7v37KDtv-XThmAJ5Kh2iX+XtAnt6dH6GqtCh@mail.gmail.com>
Message-ID: <AANLkTikZCpnzdcBOGbZM12f-zrnaFg=t4jrKggqcnKQN@mail.gmail.com>

On Tue, Sep 21, 2010 at 1:16 AM, Ken (WraithKenny)
<ken.adcstudio at gmail.com>wrote:

> Should we extend the  API?
>
> Have activation hook add an option entry for the version automatically.
> (and
> a legacy check to add it if it's missing).
> Have a upgrade/update hook that checks version against version option, so
> that it handles uploaded upgrades (and maybe checked on
> activation/deactivation calls to be sure its caught?)
> Have uninstall hook delete option on uninstall automatically.
>
> This would be nice, as it's less burden on the plugin devs and has all the
> benefits of an API (core adds checks and features without devs missing
> them.)
>

I agree.

It's interesting when people independently reach similar conclusions:

http://core.trac.wordpress.org/ticket/14912#comment:3


-- 
http://scribu.net

From otto at ottodestruct.com  Mon Sep 20 22:38:31 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 20 Sep 2010 17:38:31 -0500
Subject: [wp-hackers] Comment Redirection Error and zspfrul@mail.ru
In-Reply-To: <AANLkTim8WJiY1jYsU_AoFqoOyOyXjqE2nnDYivFY9+3z@mail.gmail.com>
References: <AANLkTi=-ztpRTrfpbU8piAAuuhrLQNmjwhmePpYoQS7f@mail.gmail.com>
	<AANLkTinWFCKU3pbAbKFaNJ-5zdTY96nmxVYwdfddMCmh@mail.gmail.com>
	<AANLkTim8WJiY1jYsU_AoFqoOyOyXjqE2nnDYivFY9+3z@mail.gmail.com>
Message-ID: <AANLkTimf1XBqu4jeKhrXLN1OSeCrmoeYkFU36Ns9f1WQ@mail.gmail.com>

Try the development version. Donncha just updated it. I installed it
on my sites and it seems to work really well.

http://twitter.com/donncha/status/25059795276

-Otto



On Mon, Sep 20, 2010 at 4:57 PM, David Morris <dvmorris at gmail.com> wrote:
> Yes, we are using WP Super Cache. It would not surprise me if that's causing
> issues. We are having a ton of issues with it, especially on RSS feeds:
> http://wordpress.org/support/topic/wp-super-cache-rss-feed-content-type-issue?replies=1
>
> Dave
>
> On Mon, Sep 20, 2010 at 4:19 PM, Otto <otto at ottodestruct.com> wrote:
>
>> Are you using any page caching plugins?
>>
>> -Otto
>>
>> On Mon, Sep 20, 2010 at 4:15 PM, David Morris <dvmorris at gmail.com> wrote:
>> > I have some testers reporting a strange issue where they leave an
>> anonymous
>> > comment on a blog post, and they are instantly redirected to the home
>> page
>> > of that blog rather than the blog post page.
>> >
>> > Then, when the visit the blog post page where they just left a comment,
>> they
>> > see their comment, but the "Post a Comment" form is pre-filled out with
>> the
>> > following information:
>> >
>> > Name: Sulemaw
>> > Mail: zspfrul at mail.ru
>> > Website: http://zspf.ru/content.php?id...
>> >
>> > The URL is bigger but the tester's screenshot stops at "?id". Strangest
>> > thing I've seen in WP so far. Any ideas? I'm running 3.0.1, if that makes
>> a
>> > difference,
>> >
>> > Dave
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Dave Morris
> http://dave.showviz.net/
> http://3dcamphouston.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ken.adcstudio at gmail.com  Mon Sep 20 22:52:58 2010
From: ken.adcstudio at gmail.com (Ken (WraithKenny))
Date: Mon, 20 Sep 2010 18:52:58 -0400
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <AANLkTikZCpnzdcBOGbZM12f-zrnaFg=t4jrKggqcnKQN@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
	<4C97C237.80501@gunters.org>
	<AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>
	<AANLkTin_KAWpkB7pGGDdALQ+mGq5zPKphS+UhqBandZG@mail.gmail.com>
	<AANLkTinfvzGgTH6hE-JyCGpv9NAQg7BrtaBcNb3pcc8E@mail.gmail.com>
	<75503041-D195-49F0-9905-AE79B88B8A0F@bu.edu>
	<2064278418.515855.1285019506050.JavaMail.open-xchange@oxusltgw11.schlund.de>
	<AANLkTikZFurQs7mJAKTUy5rtiQ61pP-t4wEht9d881Cq@mail.gmail.com>
	<AANLkTinv7v37KDtv-XThmAJ5Kh2iX+XtAnt6dH6GqtCh@mail.gmail.com>
	<AANLkTikZCpnzdcBOGbZM12f-zrnaFg=t4jrKggqcnKQN@mail.gmail.com>
Message-ID: <AANLkTikxAgoiRfGn1O-FyqUr-gHASFBvKgt5-DmaNJN_@mail.gmail.com>

Damn, beat me by a half hour!

On Mon, Sep 20, 2010 at 6:19 PM, scribu <scribu at gmail.com> wrote:

> On Tue, Sep 21, 2010 at 1:16 AM, Ken (WraithKenny)
> <ken.adcstudio at gmail.com>wrote:
>
> > Should we extend the  API?
> >
> > Have activation hook add an option entry for the version automatically.
> > (and
> > a legacy check to add it if it's missing).
> > Have a upgrade/update hook that checks version against version option, so
> > that it handles uploaded upgrades (and maybe checked on
> > activation/deactivation calls to be sure its caught?)
> > Have uninstall hook delete option on uninstall automatically.
> >
> > This would be nice, as it's less burden on the plugin devs and has all
> the
> > benefits of an API (core adds checks and features without devs missing
> > them.)
> >
>
> I agree.
>
> It's interesting when people independently reach similar conclusions:
>
> http://core.trac.wordpress.org/ticket/14912#comment:3
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dvmorris at gmail.com  Tue Sep 21 02:19:04 2010
From: dvmorris at gmail.com (David Morris)
Date: Mon, 20 Sep 2010 21:19:04 -0500
Subject: [wp-hackers] Comment Redirection Error and zspfrul@mail.ru
In-Reply-To: <AANLkTimf1XBqu4jeKhrXLN1OSeCrmoeYkFU36Ns9f1WQ@mail.gmail.com>
References: <AANLkTi=-ztpRTrfpbU8piAAuuhrLQNmjwhmePpYoQS7f@mail.gmail.com>
	<AANLkTinWFCKU3pbAbKFaNJ-5zdTY96nmxVYwdfddMCmh@mail.gmail.com>
	<AANLkTim8WJiY1jYsU_AoFqoOyOyXjqE2nnDYivFY9+3z@mail.gmail.com>
	<AANLkTimf1XBqu4jeKhrXLN1OSeCrmoeYkFU36Ns9f1WQ@mail.gmail.com>
Message-ID: <AANLkTimsu+W3aAkRs9xRjDAq+qXpFX-GTxpLMpjqhShw@mail.gmail.com>

So what in Super Cache would cause an issue like this?

Dave

On Mon, Sep 20, 2010 at 5:38 PM, Otto <otto at ottodestruct.com> wrote:

> Try the development version. Donncha just updated it. I installed it
> on my sites and it seems to work really well.
>
> http://twitter.com/donncha/status/25059795276
>
> -Otto
>
>
>
> On Mon, Sep 20, 2010 at 4:57 PM, David Morris <dvmorris at gmail.com> wrote:
> > Yes, we are using WP Super Cache. It would not surprise me if that's
> causing
> > issues. We are having a ton of issues with it, especially on RSS feeds:
> >
> http://wordpress.org/support/topic/wp-super-cache-rss-feed-content-type-issue?replies=1
> >
> > Dave
> >
> > On Mon, Sep 20, 2010 at 4:19 PM, Otto <otto at ottodestruct.com> wrote:
> >
> >> Are you using any page caching plugins?
> >>
> >> -Otto
> >>
> >> On Mon, Sep 20, 2010 at 4:15 PM, David Morris <dvmorris at gmail.com>
> wrote:
> >> > I have some testers reporting a strange issue where they leave an
> >> anonymous
> >> > comment on a blog post, and they are instantly redirected to the home
> >> page
> >> > of that blog rather than the blog post page.
> >> >
> >> > Then, when the visit the blog post page where they just left a
> comment,
> >> they
> >> > see their comment, but the "Post a Comment" form is pre-filled out
> with
> >> the
> >> > following information:
> >> >
> >> > Name: Sulemaw
> >> > Mail: zspfrul at mail.ru
> >> > Website: http://zspf.ru/content.php?id...
> >> >
> >> > The URL is bigger but the tester's screenshot stops at "?id".
> Strangest
> >> > thing I've seen in WP so far. Any ideas? I'm running 3.0.1, if that
> makes
> >> a
> >> > difference,
> >> >
> >> > Dave
> >> > _______________________________________________
> >> > wp-hackers mailing list
> >> > wp-hackers at lists.automattic.com
> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> >
> > --
> > Dave Morris
> > http://dave.showviz.net/
> > http://3dcamphouston.com/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From peter.westwood at ftwr.co.uk  Tue Sep 21 06:20:31 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Tue, 21 Sep 2010 07:20:31 +0100
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <AANLkTikZFurQs7mJAKTUy5rtiQ61pP-t4wEht9d881Cq@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
	<4C97C237.80501@gunters.org>
	<AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>
	<AANLkTin_KAWpkB7pGGDdALQ+mGq5zPKphS+UhqBandZG@mail.gmail.com>
	<AANLkTinfvzGgTH6hE-JyCGpv9NAQg7BrtaBcNb3pcc8E@mail.gmail.com>
	<75503041-D195-49F0-9905-AE79B88B8A0F@bu.edu>
	<2064278418.515855.1285019506050.JavaMail.open-xchange@oxusltgw11.schlund.de>
	<AANLkTikZFurQs7mJAKTUy5rtiQ61pP-t4wEht9d881Cq@mail.gmail.com>
Message-ID: <27EF0935-AFF2-4A9E-8925-D348D2FF81A9@ftwr.co.uk>


On 20 Sep 2010, at 23:05, scribu wrote:

> Yeah, I guess checking a version stored in the db on each (admin) page load
> is the most resilient way to go about it.

Indeed it is.

Realistically the only hooks we can safely provide are those for activation and deactivation.

Updates can occur by a number of means not all of which are WordPress driven:
 * Single plugin update
 * Multiple plugin update
 * Manual filesystem update - common for svn users
 * Automated deployment script

The simplest solution is to use an option to version your options just like WordPress uses one to version it's db schema.

You can then run a function on an early hook to load/validate/upgrade the few options your plugin has.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From jgadbois at gmail.com  Tue Sep 21 17:30:42 2010
From: jgadbois at gmail.com (John Gadbois)
Date: Tue, 21 Sep 2010 13:30:42 -0400
Subject: [wp-hackers] enqueue script only on settings page?
In-Reply-To: <AANLkTim5ecQvJQNotFuiwv7McyC1QwqG1XXNSKL1Nk1i@mail.gmail.com>
References: <AANLkTinLrFxPQdEWcj7Hwa=po-Zuaf-_+KZtEZyLQ8us@mail.gmail.com>
	<AANLkTim5ecQvJQNotFuiwv7McyC1QwqG1XXNSKL1Nk1i@mail.gmail.com>
Message-ID: <AANLkTimW4GW9AYpg_dDS_qQe-R3XVL_1MpAxm32cODeG@mail.gmail.com>

But can't you add a settings page just by calling register_settings without
actually ever calling an add page function?  I was wondering how to do it in
that situation.

On Mon, Sep 20, 2010 at 12:17 PM, Otto <otto at ottodestruct.com> wrote:

> On Mon, Sep 20, 2010 at 8:33 AM, John Gadbois <jgadbois at gmail.com> wrote:
> > Is it possible to enqueue a script or style only on a settings page
> created
> > via the settings api?
>
> Yep.
>
> When you add a new settings page, you do this via a call to
> add_options_page, or add_submenu_page, or add_whatever_page. One of
> the things you specify in these calls is the $menu_slug. This gets
> added to the URL when you see your page in the admin screens. So the
> URL of your page ends up being
> /wp-admin/options-general.php?page=whatever.
>
> That "whatever" is key here. You can use the action hook of
> "admin_enqueue_scripts" to enqueue your scripts, and the first
> parameter passed to it will be that "whatever". Check for that, and
> enqueue as you see fit.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jgadbois at gmail.com  Tue Sep 21 17:31:43 2010
From: jgadbois at gmail.com (John Gadbois)
Date: Tue, 21 Sep 2010 13:31:43 -0400
Subject: [wp-hackers] enqueue script only on settings page?
In-Reply-To: <AANLkTimW4GW9AYpg_dDS_qQe-R3XVL_1MpAxm32cODeG@mail.gmail.com>
References: <AANLkTinLrFxPQdEWcj7Hwa=po-Zuaf-_+KZtEZyLQ8us@mail.gmail.com>
	<AANLkTim5ecQvJQNotFuiwv7McyC1QwqG1XXNSKL1Nk1i@mail.gmail.com>
	<AANLkTimW4GW9AYpg_dDS_qQe-R3XVL_1MpAxm32cODeG@mail.gmail.com>
Message-ID: <AANLkTi=DSwN8s=6zq=KDs4idi-WQF9W+ez9g4AQvhZkg@mail.gmail.com>

Scratch that...ignore that last email, sorry about that.

On Tue, Sep 21, 2010 at 1:30 PM, John Gadbois <jgadbois at gmail.com> wrote:

> But can't you add a settings page just by calling register_settings without
> actually ever calling an add page function?  I was wondering how to do it in
> that situation.
>
>
> On Mon, Sep 20, 2010 at 12:17 PM, Otto <otto at ottodestruct.com> wrote:
>
>> On Mon, Sep 20, 2010 at 8:33 AM, John Gadbois <jgadbois at gmail.com> wrote:
>> > Is it possible to enqueue a script or style only on a settings page
>> created
>> > via the settings api?
>>
>> Yep.
>>
>> When you add a new settings page, you do this via a call to
>> add_options_page, or add_submenu_page, or add_whatever_page. One of
>> the things you specify in these calls is the $menu_slug. This gets
>> added to the URL when you see your page in the admin screens. So the
>> URL of your page ends up being
>> /wp-admin/options-general.php?page=whatever.
>>
>> That "whatever" is key here. You can use the action hook of
>> "admin_enqueue_scripts" to enqueue your scripts, and the first
>> parameter passed to it will be that "whatever". Check for that, and
>> enqueue as you see fit.
>>
>> -Otto
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From dvmorris at gmail.com  Tue Sep 21 19:46:49 2010
From: dvmorris at gmail.com (David Morris)
Date: Tue, 21 Sep 2010 14:46:49 -0500
Subject: [wp-hackers] Image Upload Resizing in WordPress 3.0
Message-ID: <AANLkTi=i9WSuo46KY5g-L7Ubqp2YXS+qt3Aih_Q3ehEP@mail.gmail.com>

I am trying to track down a piece of functionality that existed in the
Scissors plugin that automatically resized photos to a specified maximum
width/height upon uploading them to WP.

I noticed that scissors was decommissioned and integrated into WP 3.0.
However, the feature that automatically resizes images on upload seems to
have been lost. Is this true, or am I just unable to find it in the WP
interface?

If it is not core WP functionality, is there a recommended 3.0 plugin to
enable this behavior?

Thanks for your help,

-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From otto at ottodestruct.com  Tue Sep 21 20:11:04 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 21 Sep 2010 15:11:04 -0500
Subject: [wp-hackers] Image Upload Resizing in WordPress 3.0
In-Reply-To: <AANLkTi=i9WSuo46KY5g-L7Ubqp2YXS+qt3Aih_Q3ehEP@mail.gmail.com>
References: <AANLkTi=i9WSuo46KY5g-L7Ubqp2YXS+qt3Aih_Q3ehEP@mail.gmail.com>
Message-ID: <AANLkTikP7PdpY4JXWJ8fH+_e72DE8NKt_ANjuCZ-PAwS@mail.gmail.com>

WP resizes images to three different sizes on upload. The thumbnail,
the medium, and the large sizes. The original is also kept around as
well. All three sizes can be specified on the Settings->Media screen.

Also, themes and plugins can define custom image sizes with the
add_image_size() function, for specialized uses in the theme. This is
often used for featured images or similar type functionality. I use it
sometimes when defining sizes for thumbnail images to use on
next/previous images in galleries.

For a max image size, the theme is able to define it's own
"content_width" size, which will make the image post-insertion
mechanism create appropriate width and height tags to scale down the
closest full sized image to the width of the available display area in
the theme. Themes can do this by simply defining $content_width in the
functions.php file.

Additionally, images of arbitrary size can be created using the image
editing features, after uploading images.

Long story short, there's a whole heck of a lot of image resizing
functionality available to themes and plugins, it's just a matter of
setting it up properly.

-Otto



On Tue, Sep 21, 2010 at 2:46 PM, David Morris <dvmorris at gmail.com> wrote:
> I am trying to track down a piece of functionality that existed in the
> Scissors plugin that automatically resized photos to a specified maximum
> width/height upon uploading them to WP.
>
> I noticed that scissors was decommissioned and integrated into WP 3.0.
> However, the feature that automatically resizes images on upload seems to
> have been lost. Is this true, or am I just unable to find it in the WP
> interface?
>
> If it is not core WP functionality, is there a recommended 3.0 plugin to
> enable this behavior?
>
> Thanks for your help,
>
> --
> Dave Morris
> http://dave.showviz.net/
> http://3dcamphouston.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dvmorris at gmail.com  Tue Sep 21 20:23:25 2010
From: dvmorris at gmail.com (David Morris)
Date: Tue, 21 Sep 2010 15:23:25 -0500
Subject: [wp-hackers] Image Upload Resizing in WordPress 3.0
In-Reply-To: <AANLkTikP7PdpY4JXWJ8fH+_e72DE8NKt_ANjuCZ-PAwS@mail.gmail.com>
References: <AANLkTi=i9WSuo46KY5g-L7Ubqp2YXS+qt3Aih_Q3ehEP@mail.gmail.com>
	<AANLkTikP7PdpY4JXWJ8fH+_e72DE8NKt_ANjuCZ-PAwS@mail.gmail.com>
Message-ID: <AANLkTimsKgxxo_JxNFoujoeX8JNdthG-1-XTHBYZ9hgY@mail.gmail.com>

I see now. That makes sense. The sticking point with one of the people on my
team is that the Scissors plugin would not allow a blogger to EVER use the
full size image in a post by accident, and WP 3.0 does.

We are running ~500 blogs, and I guess they don't trust the bloggers to
insert the proper image size into their posts, and in 2.9.1 scissors
prevented that from happening.

Thanks so much for your reply,

Dave



On Tue, Sep 21, 2010 at 3:11 PM, Otto <otto at ottodestruct.com> wrote:

> WP resizes images to three different sizes on upload. The thumbnail,
> the medium, and the large sizes. The original is also kept around as
> well. All three sizes can be specified on the Settings->Media screen.
>
> Also, themes and plugins can define custom image sizes with the
> add_image_size() function, for specialized uses in the theme. This is
> often used for featured images or similar type functionality. I use it
> sometimes when defining sizes for thumbnail images to use on
> next/previous images in galleries.
>
> For a max image size, the theme is able to define it's own
> "content_width" size, which will make the image post-insertion
> mechanism create appropriate width and height tags to scale down the
> closest full sized image to the width of the available display area in
> the theme. Themes can do this by simply defining $content_width in the
> functions.php file.
>
> Additionally, images of arbitrary size can be created using the image
> editing features, after uploading images.
>
> Long story short, there's a whole heck of a lot of image resizing
> functionality available to themes and plugins, it's just a matter of
> setting it up properly.
>
> -Otto
>
>
>
> On Tue, Sep 21, 2010 at 2:46 PM, David Morris <dvmorris at gmail.com> wrote:
> > I am trying to track down a piece of functionality that existed in the
> > Scissors plugin that automatically resized photos to a specified maximum
> > width/height upon uploading them to WP.
> >
> > I noticed that scissors was decommissioned and integrated into WP 3.0.
> > However, the feature that automatically resizes images on upload seems to
> > have been lost. Is this true, or am I just unable to find it in the WP
> > interface?
> >
> > If it is not core WP functionality, is there a recommended 3.0 plugin to
> > enable this behavior?
> >
> > Thanks for your help,
> >
> > --
> > Dave Morris
> > http://dave.showviz.net/
> > http://3dcamphouston.com/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From otto at ottodestruct.com  Tue Sep 21 20:56:55 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 21 Sep 2010 15:56:55 -0500
Subject: [wp-hackers] Image Upload Resizing in WordPress 3.0
In-Reply-To: <AANLkTimsKgxxo_JxNFoujoeX8JNdthG-1-XTHBYZ9hgY@mail.gmail.com>
References: <AANLkTi=i9WSuo46KY5g-L7Ubqp2YXS+qt3Aih_Q3ehEP@mail.gmail.com>
	<AANLkTikP7PdpY4JXWJ8fH+_e72DE8NKt_ANjuCZ-PAwS@mail.gmail.com>
	<AANLkTimsKgxxo_JxNFoujoeX8JNdthG-1-XTHBYZ9hgY@mail.gmail.com>
Message-ID: <AANLkTikNhUDZWtUbQ9EP84+b5Z3GvFTW95=3SC+N8xPe@mail.gmail.com>

On Tue, Sep 21, 2010 at 3:23 PM, David Morris <dvmorris at gmail.com> wrote:
> I see now. That makes sense. The sticking point with one of the people on my
> team is that the Scissors plugin would not allow a blogger to EVER use the
> full size image in a post by accident, and WP 3.0 does.

$content_width is your friend. While you *can* bypass it, it's not
particularly straightforward to do so. Not something somebody can do
by accident.

-Otto

From mikeschinkel at newclarity.net  Wed Sep 22 01:14:22 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 21 Sep 2010 21:14:22 -0400
Subject: [wp-hackers] Image Upload Resizing in WordPress 3.0
In-Reply-To: <AANLkTimsKgxxo_JxNFoujoeX8JNdthG-1-XTHBYZ9hgY@mail.gmail.com>
References: <AANLkTi=i9WSuo46KY5g-L7Ubqp2YXS+qt3Aih_Q3ehEP@mail.gmail.com>
	<AANLkTikP7PdpY4JXWJ8fH+_e72DE8NKt_ANjuCZ-PAwS@mail.gmail.com>
	<AANLkTimsKgxxo_JxNFoujoeX8JNdthG-1-XTHBYZ9hgY@mail.gmail.com>
Message-ID: <1B95B1B8-6F8A-4868-A823-13A1EF52B2B8@newclarity.net>

On Sep 21, 2010, at 4:23 PM, David Morris wrote:
> I see now. That makes sense. The sticking point with one of the people on my
> team is that the Scissors plugin would not allow a blogger to EVER use the
> full size image in a post by accident, and WP 3.0 does.
> 
> We are running ~500 blogs, and I guess they don't trust the bloggers to
> insert the proper image size into their posts, and in 2.9.1 scissors
> prevented that from happening.
> 
> Thanks so much for your reply,

Hi Dave,

There is a hook called "wp_handle_upload" that is called right after an upload for (at least some?) file uploads.  It gets two parameters:

#1: array(
'file' => $filepath, 
'url' => $fileurl, 
'type', => $mimetype 
), 
#2: 'upload'

There are several functions for addressing image size in WordPress and PHP but image_make_intermediate_size($filepath,$width,$height) might be what you need. First find out of the file is too big using getimagesize():

list($width, $height, $type, $attr) = getimagesize( $filepath );

If so resize it to your max size (this example assumes your max would be 640x480): 

image_make_intermediate_size($filepath,640,480)

Hope this helps.

-Mike


From mikeschinkel at newclarity.net  Wed Sep 22 05:58:32 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 22 Sep 2010 01:58:32 -0400
Subject: [wp-hackers] $postnow?
Message-ID: <887A771E-6556-4407-A52F-BFAF66C67023@newclarity.net>

Here's another one that I've probably missed though not for lack of looking, hoping you can help.

We've got $typenow to tell us what post_type we are currently acting on, $pagenow to tell us what the current .PHP page is and $taxnow to tell what taxonomy we are working with but as far as I can tell there's no equivalent way to find the post ID we are currently working with.

I'm finding it very hard to write robust code that gets it right 100% of the time because it appears it can be at least any one of the following and it's hard to get all of the contexts completely right:

$_GET['post']
$_GET['post_id']
$_GET['page_id']
$_POST['page_id']
$_POST['page_ID']

And there may be other ways I've missed.  Am I overlooking something obvious?  Is there some way to determine the $post->ID that I can depend on?

Thanks in advance.

-Mike

From ozh at ozh.org  Wed Sep 22 06:14:20 2010
From: ozh at ozh.org (Ozh)
Date: Wed, 22 Sep 2010 08:14:20 +0200
Subject: [wp-hackers] $postnow?
In-Reply-To: <887A771E-6556-4407-A52F-BFAF66C67023@newclarity.net>
References: <887A771E-6556-4407-A52F-BFAF66C67023@newclarity.net>
Message-ID: <AANLkTinUEKQ4JFzdELgYv-Exh5Q8OLxwdP1WEmfCsO2H@mail.gmail.com>

> And there may be other ways I've missed. ?Am I overlooking something obvious? ?Is there some way to determine the $post->ID that I can depend on?

global $id ?



-- 
http://ozh.org/

From rbilesky at gmail.com  Wed Sep 22 06:23:42 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Tue, 21 Sep 2010 23:23:42 -0700
Subject: [wp-hackers] $postnow?
In-Reply-To: <887A771E-6556-4407-A52F-BFAF66C67023@newclarity.net>
References: <887A771E-6556-4407-A52F-BFAF66C67023@newclarity.net>
Message-ID: <AANLkTikU7XQXZ68s0Y+kwYVc3rOFys2Vj57a+OpmU9zn@mail.gmail.com>

I use

global $post;
echo $post->ID;

On Tue, Sep 21, 2010 at 10:58 PM, Mike Schinkel <mikeschinkel at newclarity.net
> wrote:

> Here's another one that I've probably missed though not for lack of
> looking, hoping you can help.
>
> We've got $typenow to tell us what post_type we are currently acting on,
> $pagenow to tell us what the current .PHP page is and $taxnow to tell what
> taxonomy we are working with but as far as I can tell there's no equivalent
> way to find the post ID we are currently working with.
>
> I'm finding it very hard to write robust code that gets it right 100% of
> the time because it appears it can be at least any one of the following and
> it's hard to get all of the contexts completely right:
>
> $_GET['post']
> $_GET['post_id']
> $_GET['page_id']
> $_POST['page_id']
> $_POST['page_ID']
>
> And there may be other ways I've missed.  Am I overlooking something
> obvious?  Is there some way to determine the $post->ID that I can depend on?
>
> Thanks in advance.
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Wed Sep 22 06:32:25 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 22 Sep 2010 02:32:25 -0400
Subject: [wp-hackers] $postnow?
In-Reply-To: <AANLkTinUEKQ4JFzdELgYv-Exh5Q8OLxwdP1WEmfCsO2H@mail.gmail.com>
References: <887A771E-6556-4407-A52F-BFAF66C67023@newclarity.net>
	<AANLkTinUEKQ4JFzdELgYv-Exh5Q8OLxwdP1WEmfCsO2H@mail.gmail.com>
Message-ID: <6213B46B-9744-4569-9D5F-D3BD8F91424B@newclarity.net>

Hi Ozh,

Thanks for the suggestion.  I had definitely overlooked $id.

Unfortunately I just checked and global $id is null when I need it, at least for this one use-case, but possibly for others too.

My specifics?  In /wp-admin/post.php when admin_init is called global $id is null.

My use-case?  My client wants me to disable most of the standard metaboxes for post_type='page' except in some cases we are going to add metaboxes, and we've decided to key the metabox selection logic to the page template.  But in order to determine the current page template I need to be able to first determine what the current post ID is.

FYI, here's the function I wrote for this (which I actually need in numerous other contexts) but it seems like being able to determine the current post ID in a robust and reliable fashion should be someone managed by core?

function get_post_now() {
	static $post_id;
	if (!isset($post_id)) {
		$post_id = false;
		if (isset($_GET['post']) && is_numeric($_GET['post']))
			$post_id = $_GET['post'];
		if (!$post_id && isset($_POST['post_ID']) && is_numeric($_POST['post_ID']))
			$post_id = $_POST['post_ID'];
	}
	return $post_id;
}

-Mike


On Sep 22, 2010, at 2:14 AM, Ozh wrote:

>> And there may be other ways I've missed.  Am I overlooking something obvious?  Is there some way to determine the $post->ID that I can depend on?
> 
> global $id ?
> 
> 
> 
> -- 
> http://ozh.org/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Wed Sep 22 06:39:07 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 22 Sep 2010 02:39:07 -0400
Subject: [wp-hackers] $postnow?
In-Reply-To: <AANLkTikU7XQXZ68s0Y+kwYVc3rOFys2Vj57a+OpmU9zn@mail.gmail.com>
References: <887A771E-6556-4407-A52F-BFAF66C67023@newclarity.net>
	<AANLkTikU7XQXZ68s0Y+kwYVc3rOFys2Vj57a+OpmU9zn@mail.gmail.com>
Message-ID: <9AA6A4D7-EA1C-4124-8A4D-922AF5F0A221@newclarity.net>

Hi Ryan,

Thanks for another suggestion but I just checked and $post is null too within the "admin_init" hook.  

See my reply to Ozh's suggestion of global $id for more details.

-Mike

On Sep 22, 2010, at 2:23 AM, Ryan Bilesky wrote:

> I use
> 
> global $post;
> echo $post->ID;
> 
> On Tue, Sep 21, 2010 at 10:58 PM, Mike Schinkel <mikeschinkel at newclarity.net
>> wrote:
> 
>> Here's another one that I've probably missed though not for lack of
>> looking, hoping you can help.
>> 
>> We've got $typenow to tell us what post_type we are currently acting on,
>> $pagenow to tell us what the current .PHP page is and $taxnow to tell what
>> taxonomy we are working with but as far as I can tell there's no equivalent
>> way to find the post ID we are currently working with.
>> 
>> I'm finding it very hard to write robust code that gets it right 100% of
>> the time because it appears it can be at least any one of the following and
>> it's hard to get all of the contexts completely right:
>> 
>> $_GET['post']
>> $_GET['post_id']
>> $_GET['page_id']
>> $_POST['page_id']
>> $_POST['page_ID']
>> 
>> And there may be other ways I've missed.  Am I overlooking something
>> obvious?  Is there some way to determine the $post->ID that I can depend on?
>> 
>> Thanks in advance.
>> 
>> -Mike
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Wed Sep 22 06:46:22 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 22 Sep 2010 02:46:22 -0400
Subject: [wp-hackers] $postnow?
In-Reply-To: <6213B46B-9744-4569-9D5F-D3BD8F91424B@newclarity.net>
References: <887A771E-6556-4407-A52F-BFAF66C67023@newclarity.net>
	<AANLkTinUEKQ4JFzdELgYv-Exh5Q8OLxwdP1WEmfCsO2H@mail.gmail.com>
	<6213B46B-9744-4569-9D5F-D3BD8F91424B@newclarity.net>
Message-ID: <AANLkTikZ4tCeS6PeCdHDfEWjuB3nQnpMnh7Gj+2aQmMG@mail.gmail.com>

On Wed, Sep 22, 2010 at 2:32 AM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:
>
> My use-case?  My client wants me to disable most of the standard metaboxes
> for post_type='page' except in some cases we are going to add metaboxes, and
> we've decided to key the metabox selection logic to the page template.  But
> in order to determine the current page template I need to be able to first
> determine what the current post ID is.


I was offering advice on something similar earlier and also suggested using
the current page template.


> FYI, here's the function I wrote for this (which I actually need in
> numerous other contexts) but it seems like being able to determine the
> current post ID in a robust and reliable fashion should be someone managed
> by core?
>

The $id global or $post->ID or $post_id will all get you what you need.
Instead of a custom function (with no guarantee we won't break it in the
future), I think the problem is that you're relying on a hook that is too
early for what you want. admin_init runs really early on a typical admin
page. Even load-$pagenow runs too early for a lot of stuff. And even if they
weren't too early, they're too generalized and they would require you to
make all sorts of duplicative checks that the admin later makes for you.
(There's a lot of branching in post.php for example.)

There are metabox-specific hooks after the add_meta_box() calls and before
they are generated, which would be the perfect time and context to remove,
add, or adjust meta boxes.

From mikeschinkel at newclarity.net  Wed Sep 22 07:26:26 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 22 Sep 2010 03:26:26 -0400
Subject: [wp-hackers] $postnow?
In-Reply-To: <AANLkTikZ4tCeS6PeCdHDfEWjuB3nQnpMnh7Gj+2aQmMG@mail.gmail.com>
References: <887A771E-6556-4407-A52F-BFAF66C67023@newclarity.net>
	<AANLkTinUEKQ4JFzdELgYv-Exh5Q8OLxwdP1WEmfCsO2H@mail.gmail.com>
	<6213B46B-9744-4569-9D5F-D3BD8F91424B@newclarity.net>
	<AANLkTikZ4tCeS6PeCdHDfEWjuB3nQnpMnh7Gj+2aQmMG@mail.gmail.com>
Message-ID: <97CC5262-CACF-419C-B119-BC7FFA9D09A6@newclarity.net>

On Sep 22, 2010, at 2:46 AM, Andrew Nacin wrote:
> The $id global or $post->ID or $post_id will all get you what you need.
> Instead of a custom function (with no guarantee we won't break it in the
> future), I think the problem is that you're relying on a hook that is too
> early for what you want. admin_init runs really early on a typical admin
> page. Even load-$pagenow runs too early for a lot of stuff. And even if they
> weren't too early, they're too generalized and they would require you to
> make all sorts of duplicative checks that the admin later makes for you.
> (There's a lot of branching in post.php for example.)
> 
> There are metabox-specific hooks after the add_meta_box() calls and before
> they are generated, which would be the perfect time and context to remove,
> add, or adjust meta boxes.

Can you suggest some specific hooks?  In tracing the code via a debugger I don't find any obviously appropriate candidates.

And aren't post types supposed to be complete after init?  What about other plugins who might decide to inspect the post types and take action in a load-{$pagenow} hook or an $admin_action{$action} hook?

BTW, I didn't just run into this need, this is about the 10th time I've had to worry about it so I finally decided to email about it.  And I'm not trying to solve this use-case (I've already got something that works), I'm trying to figure out a reliable method to determine post_id in the future.  The response "you're doing it too early" simply doesn't work for cases where I must know post_id earlier, i.e. in the admin_menu hook, for example. (The reality is I also need to get access to $typenow before it's assigned, too.) 

-Mike



From mikeschinkel at newclarity.net  Wed Sep 22 07:32:29 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 22 Sep 2010 03:32:29 -0400
Subject: [wp-hackers] $postnow?
In-Reply-To: <AANLkTikZ4tCeS6PeCdHDfEWjuB3nQnpMnh7Gj+2aQmMG@mail.gmail.com>
References: <887A771E-6556-4407-A52F-BFAF66C67023@newclarity.net>
	<AANLkTinUEKQ4JFzdELgYv-Exh5Q8OLxwdP1WEmfCsO2H@mail.gmail.com>
	<6213B46B-9744-4569-9D5F-D3BD8F91424B@newclarity.net>
	<AANLkTikZ4tCeS6PeCdHDfEWjuB3nQnpMnh7Gj+2aQmMG@mail.gmail.com>
Message-ID: <A4B8E456-2C45-4702-8768-288EF5AD228E@newclarity.net>

On Sep 22, 2010, at 2:46 AM, Andrew Nacin wrote:
> The $id global or $post->ID or $post_id will all get you what you need.
> Instead of a custom function (with no guarantee we won't break it in the
> future), I think the problem is that you're relying on a hook that is too
> early for what you want. admin_init runs really early on a typical admin
> page. Even load-$pagenow runs too early for a lot of stuff. And even if they
> weren't too early, they're too generalized and they would require you to
> make all sorts of duplicative checks that the admin later makes for you.
> (There's a lot of branching in post.php for example.)
> 
> There are metabox-specific hooks after the add_meta_box() calls and before
> they are generated, which would be the perfect time and context to remove,
> add, or adjust meta boxes.

A follow up.  It seems $current_screen is planning to replace the $typenow and $pagenow functions as the preferred method, right?

Is there a compelling reason why $current_screen cannot be set in core before init and admin_init?  It would seem that information like current post type, post ID, taxonomy etc are exactly the types of information that should be available in init/admin_init?

-Mike


From wp at andrewnacin.com  Wed Sep 22 07:43:26 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 22 Sep 2010 03:43:26 -0400
Subject: [wp-hackers] $postnow?
In-Reply-To: <97CC5262-CACF-419C-B119-BC7FFA9D09A6@newclarity.net>
References: <887A771E-6556-4407-A52F-BFAF66C67023@newclarity.net>
	<AANLkTinUEKQ4JFzdELgYv-Exh5Q8OLxwdP1WEmfCsO2H@mail.gmail.com>
	<6213B46B-9744-4569-9D5F-D3BD8F91424B@newclarity.net>
	<AANLkTikZ4tCeS6PeCdHDfEWjuB3nQnpMnh7Gj+2aQmMG@mail.gmail.com>
	<97CC5262-CACF-419C-B119-BC7FFA9D09A6@newclarity.net>
Message-ID: <AANLkTi=zJEjgAZ-hucgB8=Q94eb9NyqsrrjD8GGSLpue@mail.gmail.com>

On Wed, Sep 22, 2010 at 3:26 AM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:
>
> Can you suggest some specific hooks?  In tracing the code via a debugger I
> don't find any obviously appropriate candidates.
>

I would start with:

do_action('add_meta_boxes', $post_type, $post);
do_action('add_meta_boxes_' . $post_type, $post);


> And aren't post types supposed to be complete after init?  What about other
> plugins who might decide to inspect the post types and take action in a
> load-{$pagenow} hook or an $admin_action{$action} hook?
>

As of right now, it's a bit of a crapshoot.
http://core.trac.wordpress.org/ticket/14886

> A follow up.  It seems $current_screen is planning to replace the $typenow
and $pagenow functions as the preferred method, right?

$typenow was added in 3.0 I think. Regardless, yes, $current_screen is far
more powerful than $pagenow.

> Is there a compelling reason why $current_screen cannot be set in core
before init and admin_init?  It would seem that information like current
post type, post ID, taxonomy etc are exactly the types of information that
should be available in init/admin_init?

Re: compelling reason, not really. See also the ticket above. I wouldn't
mind restructuring things in there to make things more consistent.

From mikeschinkel at newclarity.net  Wed Sep 22 08:08:13 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 22 Sep 2010 04:08:13 -0400
Subject: [wp-hackers] $postnow?
In-Reply-To: <AANLkTi=zJEjgAZ-hucgB8=Q94eb9NyqsrrjD8GGSLpue@mail.gmail.com>
References: <887A771E-6556-4407-A52F-BFAF66C67023@newclarity.net>
	<AANLkTinUEKQ4JFzdELgYv-Exh5Q8OLxwdP1WEmfCsO2H@mail.gmail.com>
	<6213B46B-9744-4569-9D5F-D3BD8F91424B@newclarity.net>
	<AANLkTikZ4tCeS6PeCdHDfEWjuB3nQnpMnh7Gj+2aQmMG@mail.gmail.com>
	<97CC5262-CACF-419C-B119-BC7FFA9D09A6@newclarity.net>
	<AANLkTi=zJEjgAZ-hucgB8=Q94eb9NyqsrrjD8GGSLpue@mail.gmail.com>
Message-ID: <A0F7C907-6551-4C30-8E87-63FFE05EE00B@newclarity.net>

On Sep 22, 2010, at 3:43 AM, Andrew Nacin wrote:
> I would start with:
> 

> do_action('add_meta_boxes', $post_type, $post);
> do_action('add_meta_boxes_' . $post_type, $post);

Those are too late for remove_post_type_support() to have any affect.  

> As of right now, it's a bit of a crapshoot.
> http://core.trac.wordpress.org/ticket/14886

Ironic how recent that ticket was added!

> Re: compelling reason, not really. See also the ticket above. I wouldn't
> mind restructuring things in there to make things more consistent.

A big +1 to that.

So for now I'll stick with my current solution and look forward to improvements in the future. Thanks.

-Mike



From piemanek at gmail.com  Wed Sep 22 10:17:53 2010
From: piemanek at gmail.com (Simon Blackbourn)
Date: Wed, 22 Sep 2010 11:17:53 +0100
Subject: [wp-hackers] Image Upload Resizing in WordPress 3.0
In-Reply-To: <1B95B1B8-6F8A-4868-A823-13A1EF52B2B8@newclarity.net>
References: <AANLkTi=i9WSuo46KY5g-L7Ubqp2YXS+qt3Aih_Q3ehEP@mail.gmail.com>
	<AANLkTikP7PdpY4JXWJ8fH+_e72DE8NKt_ANjuCZ-PAwS@mail.gmail.com>
	<AANLkTimsKgxxo_JxNFoujoeX8JNdthG-1-XTHBYZ9hgY@mail.gmail.com>
	<1B95B1B8-6F8A-4868-A823-13A1EF52B2B8@newclarity.net>
Message-ID: <AANLkTimTAxJrHo5Tvy59XRcEFRbpyGxCcchGt9Oz--m-@mail.gmail.com>

There's a plugin called Resize on Upload which allows you to specify a
maximum image width and/or height:
http://wordpress.org/extend/plugins/resize-on-upload

It physically resizes the image to this size on upload (so you don't end up
with the original size image at all), thereby preventing the possibility of
users inserting a gigantic image.

Cheers
Simon

From mark at simplercomputing.net  Thu Sep 23 03:00:15 2010
From: mark at simplercomputing.net (Mark E)
Date: Wed, 22 Sep 2010 21:00:15 -0600
Subject: [wp-hackers] Premium Clutter
In-Reply-To: <AANLkTimTAxJrHo5Tvy59XRcEFRbpyGxCcchGt9Oz--m-@mail.gmail.com>
References: <AANLkTi=i9WSuo46KY5g-L7Ubqp2YXS+qt3Aih_Q3ehEP@mail.gmail.com>	<AANLkTikP7PdpY4JXWJ8fH+_e72DE8NKt_ANjuCZ-PAwS@mail.gmail.com>	<AANLkTimsKgxxo_JxNFoujoeX8JNdthG-1-XTHBYZ9hgY@mail.gmail.com>	<1B95B1B8-6F8A-4868-A823-13A1EF52B2B8@newclarity.net>
	<AANLkTimTAxJrHo5Tvy59XRcEFRbpyGxCcchGt9Oz--m-@mail.gmail.com>
Message-ID: <4C9AC2BF.2070105@simplercomputing.net>

Can someone with the ability to do so please nuke this junk out of the 
plugin repo?

http://wordpress.org/extend/plugins/classifieds-plugin/

It's a total waste. No real code. Just links to paid stuff.


From peter.westwood at ftwr.co.uk  Thu Sep 23 07:45:30 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu, 23 Sep 2010 08:45:30 +0100
Subject: [wp-hackers] Premium Clutter
In-Reply-To: <4C9AC2BF.2070105@simplercomputing.net>
References: <AANLkTi=i9WSuo46KY5g-L7Ubqp2YXS+qt3Aih_Q3ehEP@mail.gmail.com>	<AANLkTikP7PdpY4JXWJ8fH+_e72DE8NKt_ANjuCZ-PAwS@mail.gmail.com>	<AANLkTimsKgxxo_JxNFoujoeX8JNdthG-1-XTHBYZ9hgY@mail.gmail.com>	<1B95B1B8-6F8A-4868-A823-13A1EF52B2B8@newclarity.net>
	<AANLkTimTAxJrHo5Tvy59XRcEFRbpyGxCcchGt9Oz--m-@mail.gmail.com>
	<4C9AC2BF.2070105@simplercomputing.net>
Message-ID: <CE626F44-86A3-4D92-B142-8D85D8BA4196@ftwr.co.uk>


On 23 Sep 2010, at 04:00, Mark E wrote:

> Can someone with the ability to do so please nuke this junk out of the plugin repo?
> 
> http://wordpress.org/extend/plugins/classifieds-plugin/
> 
> It's a total waste. No real code. Just links to paid stuff.

Gone.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From ashishsainiashfame at gmail.com  Thu Sep 23 09:55:15 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Thu, 23 Sep 2010 15:25:15 +0530
Subject: [wp-hackers] Replies count
Message-ID: <AANLkTik-cM5GEf1yXT7zErD=s3SQe6SyAffPQbUdm2e0@mail.gmail.com>

Hello everyone,

I was wondering what would be an easy solution to achieve the number of
replies a comment has get in a threaded comment.
Is that something I can do in the comments callback function or something I
would need to do by jquery by counting the li's in the children class inside
it.

Any ideas how this can be done? Which would be an easy method?

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame

From ashishsainiashfame at gmail.com  Thu Sep 23 11:02:08 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Thu, 23 Sep 2010 16:32:08 +0530
Subject: [wp-hackers] embed shortcode
In-Reply-To: <AANLkTi=G7hEjdLWKWeyrNTASKq9Gj-xx+LcMj6hXzOL4@mail.gmail.com>
References: <AANLkTimtLrLVydj_qTiDTWU0a-S=EO4iDMyOp6x09bFn@mail.gmail.com>
	<AANLkTinEwZ9KriBEANybnKbRWa9p32CXkd-OuMkh+=rD@mail.gmail.com>
	<AANLkTinhmiJc8qwsMYE66xzQKTCbDOFRsob+8KsDOH0w@mail.gmail.com>
	<AANLkTi=G7hEjdLWKWeyrNTASKq9Gj-xx+LcMj6hXzOL4@mail.gmail.com>
Message-ID: <AANLkTiko91LQT3W1+=BL901hB9QhcB=a2ZRcp_2ZMc6B@mail.gmail.com>

@Otto, John

Thanks! :)

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Fri, Sep 17, 2010 at 3:01 AM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> Note that wp_oembed_get() actually fetches the content from the source
> URL (ie. youtube.com) on every call, so you should cache the result in
> a transient or a post meta field.
>
> On Thu, Sep 16, 2010 at 10:07 PM, Otto <otto at ottodestruct.com> wrote:
> > My mistake, it's wp_oembed_get().
> >
> > The first parameter is the URL. The second is an array of arguments.
> > Available arguments:
> > discover => true/false - enables oembed discovery.
> > width => number
> > height => number - max widths and heights
> >
> > -Otto
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mail at scribu.net  Thu Sep 23 12:23:11 2010
From: mail at scribu.net (scribu)
Date: Thu, 23 Sep 2010 15:23:11 +0300
Subject: [wp-hackers] Replies count
In-Reply-To: <AANLkTik-cM5GEf1yXT7zErD=s3SQe6SyAffPQbUdm2e0@mail.gmail.com>
References: <AANLkTik-cM5GEf1yXT7zErD=s3SQe6SyAffPQbUdm2e0@mail.gmail.com>
Message-ID: <AANLkTinEAvTqZOYrnD3fCvYeG+n8S0E1ig5k_ByO4Gi2@mail.gmail.com>

On Thu, Sep 23, 2010 at 12:55 PM, Ashish Saini <ashishsainiashfame at gmail.com
> wrote:

> Hello everyone,
>
> I was wondering what would be an easy solution to achieve the number of
> replies a comment has get in a threaded comment.
> Is that something I can do in the comments callback function or something I
> would need to do by jquery by counting the li's in the children class
> inside
> it.
>

If you want an easy way, I would go with the jQuery method.

From peter at avirtualhome.com  Thu Sep 23 14:34:25 2010
From: peter at avirtualhome.com (Peter van der Does)
Date: Thu, 23 Sep 2010 10:34:25 -0400
Subject: [wp-hackers] Action question.
Message-ID: <20100923103425.660a56b6@montecarlo.grandprix.int>

Is it correct the action get_header isn't fired when a comment is
posted?

-- 
Peter van der Does

GPG key: E77E8E98

IRC: Ganseki on irc.freenode.net
Twitter: @petervanderdoes

WordPress Plugin Developer
Blog: http://blog.avirtualhome.com
Forums: http://forums.avirtualhome.com
Twitter: @avhsoftware

From wp at andrewnacin.com  Thu Sep 23 17:49:42 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 23 Sep 2010 13:49:42 -0400
Subject: [wp-hackers] Action question.
In-Reply-To: <20100923103425.660a56b6@montecarlo.grandprix.int>
References: <20100923103425.660a56b6@montecarlo.grandprix.int>
Message-ID: <AANLkTinzQdVuPiPsBTdfE3rUWt6HLhWpF+9me0TjQhRm@mail.gmail.com>

On Thu, Sep 23, 2010 at 10:34 AM, Peter van der Does <peter at avirtualhome.com
> wrote:

> Is it correct the action get_header isn't fired when a comment is
> posted?
>

On the trip to the server, WordPress hits wp-comments-post.php, which means
no templating is loaded at all. So no, the get_header hook would not fire.
WordPress then sends a redirect header back to the browser, at which time
the post where the user came from is then requested by the browser, and
get_header would indeed be fired.

A note though, it's best to use hooks that are relevant to what you're
trying to achieve. Think semantically, if you will. Don't try firing code
off get_header that isn't related to building the header template, for
example. You may wish to look at hooks such as wp_head, template_redirect,
init, or a slew of hooks in wp-comments-post.php, depending on what you're
trying to do.

From ashishsainiashfame at gmail.com  Thu Sep 23 19:25:02 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Fri, 24 Sep 2010 00:55:02 +0530
Subject: [wp-hackers] Replies count
In-Reply-To: <AANLkTinEAvTqZOYrnD3fCvYeG+n8S0E1ig5k_ByO4Gi2@mail.gmail.com>
References: <AANLkTik-cM5GEf1yXT7zErD=s3SQe6SyAffPQbUdm2e0@mail.gmail.com>
	<AANLkTinEAvTqZOYrnD3fCvYeG+n8S0E1ig5k_ByO4Gi2@mail.gmail.com>
Message-ID: <AANLkTik9Xcqf3EQ+T7g6Q_xyERdDfeiVZ4s_EvGgKsof@mail.gmail.com>

Now I even need to list them as
- 1
-- 1.1
--- 1.2
- 2
- 3

Any ideas about this?

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Thu, Sep 23, 2010 at 5:53 PM, scribu <mail at scribu.net> wrote:

> On Thu, Sep 23, 2010 at 12:55 PM, Ashish Saini <
> ashishsainiashfame at gmail.com
> > wrote:
>
> > Hello everyone,
> >
> > I was wondering what would be an easy solution to achieve the number of
> > replies a comment has get in a threaded comment.
> > Is that something I can do in the comments callback function or something
> I
> > would need to do by jquery by counting the li's in the children class
> > inside
> > it.
> >
>
> If you want an easy way, I would go with the jQuery method.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peter at avirtualhome.com  Thu Sep 23 19:44:24 2010
From: peter at avirtualhome.com (Peter van der Does)
Date: Thu, 23 Sep 2010 15:44:24 -0400
Subject: [wp-hackers] Action question.
In-Reply-To: <AANLkTinzQdVuPiPsBTdfE3rUWt6HLhWpF+9me0TjQhRm@mail.gmail.com>
References: <20100923103425.660a56b6@montecarlo.grandprix.int>
	<AANLkTinzQdVuPiPsBTdfE3rUWt6HLhWpF+9me0TjQhRm@mail.gmail.com>
Message-ID: <20100923154424.3c8d1fb0@montecarlo.grandprix.int>

On Thu, 23 Sep 2010 13:49:42 -0400
Andrew Nacin <wp at andrewnacin.com> wrote:


> 
> On the trip to the server, WordPress hits wp-comments-post.php, which
> means no templating is loaded at all. So no, the get_header hook
> would not fire. WordPress then sends a redirect header back to the
> browser, at which time the post where the user came from is then
> requested by the browser, and get_header would indeed be fired.
> 
> A note though, it's best to use hooks that are relevant to what you're
> trying to achieve. Think semantically, if you will. Don't try firing
> code off get_header that isn't related to building the header
> template, for example. You may wish to look at hooks such as wp_head,
> template_redirect, init, or a slew of hooks in wp-comments-post.php,
> depending on what you're trying to do.

I was debugging some stuff with a preprocess_comment action and while
debugging the get_header action didn't show up in my
step-by-step debugging session, but I understand the reason now, the
debugging session stopped when the redirection was done.

Thanks for the thorough reply.

-- 
Peter van der Does

GPG key: E77E8E98

IRC: Ganseki on irc.freenode.net
Twitter: @petervanderdoes

WordPress Plugin Developer
Blog: http://blog.avirtualhome.com
Forums: http://forums.avirtualhome.com
Twitter: @avhsoftware

From mikeschinkel at newclarity.net  Thu Sep 23 21:32:27 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 23 Sep 2010 17:32:27 -0400
Subject: [wp-hackers] Replies count
In-Reply-To: <AANLkTik9Xcqf3EQ+T7g6Q_xyERdDfeiVZ4s_EvGgKsof@mail.gmail.com>
References: <AANLkTik-cM5GEf1yXT7zErD=s3SQe6SyAffPQbUdm2e0@mail.gmail.com>
	<AANLkTinEAvTqZOYrnD3fCvYeG+n8S0E1ig5k_ByO4Gi2@mail.gmail.com>
	<AANLkTik9Xcqf3EQ+T7g6Q_xyERdDfeiVZ4s_EvGgKsof@mail.gmail.com>
Message-ID: <83BE09F5-801E-4EE6-9F83-7A90F801AF84@newclarity.net>

Hi Ashish:

Here's a function called get_comment_replies() that will probably provide what you need:

http://gist.github.com/594346

Pass it the comment ID and it will return a comment object annotated with "reply_count" and "replies" properties where the reply_count is the count of all replies and sub-replies, and replies is an array of objects that have been similarly annotated, recursively. Note it may or may not handle thousands of comments on a post, but since I don't have anything like that to test with I can't be sure.

Hope this helps.

-Mike


On Sep 23, 2010, at 3:25 PM, Ashish Saini wrote:

> Now I even need to list them as
> - 1
> -- 1.1
> --- 1.2
> - 2
> - 3
> 
> Any ideas about this?
> 
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
> : http://twitter.com/ashfame
> 
> 
> On Thu, Sep 23, 2010 at 5:53 PM, scribu <mail at scribu.net> wrote:
> 
>> On Thu, Sep 23, 2010 at 12:55 PM, Ashish Saini <
>> ashishsainiashfame at gmail.com
>>> wrote:
>> 
>>> Hello everyone,
>>> 
>>> I was wondering what would be an easy solution to achieve the number of
>>> replies a comment has get in a threaded comment.
>>> Is that something I can do in the comments callback function or something
>> I
>>> would need to do by jquery by counting the li's in the children class
>>> inside
>>> it.
>>> 
>> 
>> If you want an easy way, I would go with the jQuery method.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From barry at 091labs.com  Fri Sep 24 21:06:40 2010
From: barry at 091labs.com (Barry Coughlan)
Date: Fri, 24 Sep 2010 22:06:40 +0100
Subject: [wp-hackers] Fwd: Difference between authentication via plugin and
	via template?
In-Reply-To: <AANLkTinqaVC_aLxbZg9DOywd+e1NS1k0CQ7oj0VXvmwo@mail.gmail.com>
References: <AANLkTinqaVC_aLxbZg9DOywd+e1NS1k0CQ7oj0VXvmwo@mail.gmail.com>
Message-ID: <AANLkTinAmfDy9wWdDtPbyOHrBPviFJPBcrbZ0qQ5xLvm@mail.gmail.com>

Hi all,

Hoping some of you can help me out with this problem. I'm messing with
integrating DokuWiki (awesome lightweight wiki package) into a static
Wordpress page, which is working here: http://091labs.com/wiki/

I have a custom template file that goes:

<?php
require ("dokuwiki/doku.php");
?>

and this works fine (after a lot of hacking).

However, I'm trying to do this in a Wordpress plugin, so I hook some action
(e.g. wp_head, wp_footer... same result regardless!) and insert the above
code. The wiki page shows up, but I get a permission denied page.

Dokuwiki is working off the Wordpress authentication, so unless there is a
difference in $_COOKIE/$_GET/$_POST/$_SESSION (which I can't see) it makes
no sense that the template would work fine but the plugin way gives
'permission denied'  . Any thoughts before I go digging deep into the
dokuwiki code?

From adam at sixohthree.com  Sun Sep 26 02:34:01 2010
From: adam at sixohthree.com (Adam Backstrom)
Date: Sat, 25 Sep 2010 22:34:01 -0400
Subject: [wp-hackers] term_exists() too fuzzy, checks slug first; bug?
Message-ID: <AANLkTi=q=Z_YM7sQyxR5Q3cxc3r3oXtXd1kaF1goG7vB@mail.gmail.com>

Starting with 2.6.1, WordPress has first checked the indexed slug field
before the full term name inside term_exists().

http://core.trac.wordpress.org/changeset/8433

Good for speed, but bad for terms that evaluate to the same slug, ie. tags
of "C#" and "C++". Since both have a sanitize_title() slug of "c" they will
both match the same term, assuming one term retained its original default
slug of "c." (In this specific case you could change the slugs to csharp and
cpp, which would work until you add the tag for the "C" language.)

So: bug, or necessary evil? Original discussion in this ticket:

http://core.trac.wordpress.org/ticket/6593

-- 
Adam Backstrom
adam at sixohthree.com

From list at expost.org  Sun Sep 26 08:30:40 2010
From: list at expost.org (Raj)
Date: Sun, 26 Sep 2010 14:00:40 +0530
Subject: [wp-hackers] What would break if I rename my repository plugin?
In-Reply-To: <000001cb5d4d$1b87a310$5296e930$@expost.org>
References: <000001cb5d4d$1b87a310$5296e930$@expost.org>
Message-ID: <000301cb5d55$1f928350$5eb789f0$@expost.org>

 

What do you think will happen if I rename a plugin in the WordPress plugin
repository? What are the problems that will occur?


From peter.westwood at ftwr.co.uk  Sun Sep 26 10:02:42 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun, 26 Sep 2010 11:02:42 +0100
Subject: [wp-hackers] What would break if I rename my repository plugin?
In-Reply-To: <000301cb5d55$1f928350$5eb789f0$@expost.org>
References: <000001cb5d4d$1b87a310$5296e930$@expost.org>
	<000301cb5d55$1f928350$5eb789f0$@expost.org>
Message-ID: <643DFCBB-E325-4470-A747-8D05732D5AA2@ftwr.co.uk>


On 26 Sep 2010, at 09:30, Raj wrote:

> What do you think will happen if I rename a plugin in the WordPress plugin
> repository? What are the problems that will occur?
> 


I wouldn't recommend this as all operations on your plugin will still use the slug which will be based on the old name.

Why do you want to do this?
Which plugin?

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From list at expost.org  Sun Sep 26 11:07:26 2010
From: list at expost.org (Raj)
Date: Sun, 26 Sep 2010 16:37:26 +0530
Subject: [wp-hackers] What would break if I rename my repository plugin?
In-Reply-To: <643DFCBB-E325-4470-A747-8D05732D5AA2@ftwr.co.uk>
References: <000001cb5d4d$1b87a310$5296e930$@expost.org>	<000301cb5d55$1f928350$5eb789f0$@expost.org>
	<643DFCBB-E325-4470-A747-8D05732D5AA2@ftwr.co.uk>
Message-ID: <000601cb5d6b$0d5d8e30$2818aa90$@expost.org>

Branding. 
WP Responder
(http://wordpress.org/extend/plugins/wp-responder-email-autoresponder-and-ne
wsletter-plugin/)

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter Westwood
Sent: Sunday, September 26, 2010 3:33 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] What would break if I rename my repository plugin?


On 26 Sep 2010, at 09:30, Raj wrote:

> What do you think will happen if I rename a plugin in the WordPress 
> plugin repository? What are the problems that will occur?
> 


I wouldn't recommend this as all operations on your plugin will still use
the slug which will be based on the old name.

Why do you want to do this?
Which plugin?

Cheers
--
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com C53C F8FC 8796 8508 88D6
C950 54F4 5DCD A834 01C5

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp-hackers at nicolaskuttler.de  Sun Sep 26 12:31:09 2010
From: wp-hackers at nicolaskuttler.de (Nicolas Kuttler)
Date: Sun, 26 Sep 2010 14:31:09 +0200
Subject: [wp-hackers] What would break if I rename my repository plugin?
In-Reply-To: <000301cb5d55$1f928350$5eb789f0$@expost.org>
References: <000001cb5d4d$1b87a310$5296e930$@expost.org>
	<000301cb5d55$1f928350$5eb789f0$@expost.org>
Message-ID: <20100926123109.GA21989@nicolaskuttler.de>

On Sun, Sep 26, 2010 at 02:00:40PM +0530, Raj wrote:
> What do you think will happen if I rename a plugin in the WordPress plugin
> repository? What are the problems that will occur?

I have renamed several problems. Never seen a problem.

Nicolas

--
Nicolas Kuttler
wp at nkuttler.de

http://www.nkuttler.de
http://www.nicolaskuttler.de (deutsch)

From otto at ottodestruct.com  Sun Sep 26 13:34:26 2010
From: otto at ottodestruct.com (Otto)
Date: Sun, 26 Sep 2010 08:34:26 -0500
Subject: [wp-hackers] What would break if I rename my repository plugin?
In-Reply-To: <643DFCBB-E325-4470-A747-8D05732D5AA2@ftwr.co.uk>
References: <000001cb5d4d$1b87a310$5296e930$@expost.org>
	<000301cb5d55$1f928350$5eb789f0$@expost.org>
	<643DFCBB-E325-4470-A747-8D05732D5AA2@ftwr.co.uk>
Message-ID: <AANLkTi=2kCAfttwB5O2x5nHQOO=VP9kzhZ4avGKHiZqa@mail.gmail.com>

On Sun, Sep 26, 2010 at 5:02 AM, Peter Westwood
<peter.westwood at ftwr.co.uk> wrote:
>
> On 26 Sep 2010, at 09:30, Raj wrote:
>
>> What do you think will happen if I rename a plugin in the WordPress plugin
>> repository? What are the problems that will occur?
>>
>
>
> I wouldn't recommend this as all operations on your plugin will still use the slug which will be based on the old name.
>
> Why do you want to do this?
> Which plugin?

If he just means the name in the readme.txt file, then the slug won't
change, will it?

The only way to change the slug is to make a wholly new plugin in the repo.

-Otto

From peter.westwood at ftwr.co.uk  Sun Sep 26 21:31:03 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun, 26 Sep 2010 22:31:03 +0100
Subject: [wp-hackers] What would break if I rename my repository plugin?
In-Reply-To: <AANLkTi=2kCAfttwB5O2x5nHQOO=VP9kzhZ4avGKHiZqa@mail.gmail.com>
References: <000001cb5d4d$1b87a310$5296e930$@expost.org>
	<000301cb5d55$1f928350$5eb789f0$@expost.org>
	<643DFCBB-E325-4470-A747-8D05732D5AA2@ftwr.co.uk>
	<AANLkTi=2kCAfttwB5O2x5nHQOO=VP9kzhZ4avGKHiZqa@mail.gmail.com>
Message-ID: <FE62133E-9F4F-482C-B00A-52AE89EFA912@ftwr.co.uk>


On 26 Sep 2010, at 14:34, Otto wrote:

> On Sun, Sep 26, 2010 at 5:02 AM, Peter Westwood
> <peter.westwood at ftwr.co.uk> wrote:
>> 
>> On 26 Sep 2010, at 09:30, Raj wrote:
>> 
>>> What do you think will happen if I rename a plugin in the WordPress plugin
>>> repository? What are the problems that will occur?
>>> 
>> 
>> 
>> I wouldn't recommend this as all operations on your plugin will still use the slug which will be based on the old name.
>> 
>> Why do you want to do this?
>> Which plugin?
> 
> If he just means the name in the readme.txt file, then the slug won't
> change, will it?
> 
> The only way to change the slug is to make a wholly new plugin in the repo.
> 

Correct.

Most of the time though the name is the slug (and it wasn't clear if he meant the name / slug / both)

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From goldenapplesdesign at gmail.com  Mon Sep 27 01:34:46 2010
From: goldenapplesdesign at gmail.com (Nathaniel Taintor)
Date: Sun, 26 Sep 2010 18:34:46 -0700
Subject: [wp-hackers] Proper action to hook to save custom fields with
	comments?
Message-ID: <AANLkTimiL8k7ef0j0vLH+kM2u-m5xpa0w5XRMksmaEz7@mail.gmail.com>

Hi all,

I'm getting stuck trying to add custom fields to a comment form and
wondering if anyone else can point me in the right direction. I have a
couple additional fields I need to add to the comment form.

Since these fields need to show up for all users, whether logged in or not,
I think I'm correct in understanding that I can't use the
'comment_form_default_fields' filter. As far as I can tell, these fields are
only displayed for users who are not logged in.

So instead I modified the 'comment_field' body in 'comment_form_defaults' to
include my additional input fields. I haven't found an action hook or filter
on saving comments that I can hook into to access these fields, though. I've
tested 'edit_comment' and 'comment_save_pre', but I can't seem to access the
POST data for my custom fields at either one of these. What am I dong wrong?

Thanksn in advance,

Nathaniel Taintor, Designer/Developer
*Golden Apples Design*

http://goldenapplesdesign.com

@GoldenApples | 503.877.2880
goldenapplesdesign at gmail.com

From rbilesky at gmail.com  Mon Sep 27 03:17:09 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Sun, 26 Sep 2010 20:17:09 -0700
Subject: [wp-hackers] Proper action to hook to save custom fields with
	comments?
In-Reply-To: <AANLkTimiL8k7ef0j0vLH+kM2u-m5xpa0w5XRMksmaEz7@mail.gmail.com>
References: <AANLkTimiL8k7ef0j0vLH+kM2u-m5xpa0w5XRMksmaEz7@mail.gmail.com>
Message-ID: <AANLkTikGs-Zwtvg-rkEHk17KwcLDtW9nREUTuE3b1Cfk@mail.gmail.com>

try this

add_action ('comment_post', 'add_meta_settings', 1);

function add_meta_settings($comment_id) {
     add_comment_meta($comment_id, 'my_custom_stuff,
$_POST['my_custom_stuff], true);
}

On Sun, Sep 26, 2010 at 6:34 PM, Nathaniel Taintor <
goldenapplesdesign at gmail.com> wrote:

> Hi all,
>
> I'm getting stuck trying to add custom fields to a comment form and
> wondering if anyone else can point me in the right direction. I have a
> couple additional fields I need to add to the comment form.
>
> Since these fields need to show up for all users, whether logged in or not,
> I think I'm correct in understanding that I can't use the
> 'comment_form_default_fields' filter. As far as I can tell, these fields
> are
> only displayed for users who are not logged in.
>
> So instead I modified the 'comment_field' body in 'comment_form_defaults'
> to
> include my additional input fields. I haven't found an action hook or
> filter
> on saving comments that I can hook into to access these fields, though.
> I've
> tested 'edit_comment' and 'comment_save_pre', but I can't seem to access
> the
> POST data for my custom fields at either one of these. What am I dong
> wrong?
>
> Thanksn in advance,
>
> Nathaniel Taintor, Designer/Developer
> *Golden Apples Design*
>
> http://goldenapplesdesign.com
>
> @GoldenApples | 503.877.2880
> goldenapplesdesign at gmail.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From list at expost.org  Mon Sep 27 03:29:14 2010
From: list at expost.org (Raj)
Date: Mon, 27 Sep 2010 08:59:14 +0530
Subject: [wp-hackers] What would break if I rename my repository plugin?
In-Reply-To: <FE62133E-9F4F-482C-B00A-52AE89EFA912@ftwr.co.uk>
References: <000001cb5d4d$1b87a310$5296e930$@expost.org><000301cb5d55$1f928350$5eb789f0$@expost.org><643DFCBB-E325-4470-A747-8D05732D5AA2@ftwr.co.uk><AANLkTi=2kCAfttwB5O2x5nHQOO=VP9kzhZ4avGKHiZqa@mail.gmail.com>
	<FE62133E-9F4F-482C-B00A-52AE89EFA912@ftwr.co.uk>
Message-ID: <002101cb5df4$2a666c70$7f334550$@expost.org>

I can anyway not change the slug(which caused a hairy mess of a problem in
the past). Just the name in the readme.txt file. That should not result in
any problems right?

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter Westwood
Sent: Monday, September 27, 2010 3:01 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] What would break if I rename my repository plugin?


On 26 Sep 2010, at 14:34, Otto wrote:

> On Sun, Sep 26, 2010 at 5:02 AM, Peter Westwood 
> <peter.westwood at ftwr.co.uk> wrote:
>> 
>> On 26 Sep 2010, at 09:30, Raj wrote:
>> 
>>> What do you think will happen if I rename a plugin in the WordPress 
>>> plugin repository? What are the problems that will occur?
>>> 
>> 
>> 
>> I wouldn't recommend this as all operations on your plugin will still use
the slug which will be based on the old name.
>> 
>> Why do you want to do this?
>> Which plugin?
> 
> If he just means the name in the readme.txt file, then the slug won't 
> change, will it?
> 
> The only way to change the slug is to make a wholly new plugin in the
repo.
> 

Correct.

Most of the time though the name is the slug (and it wasn't clear if he
meant the name / slug / both)

Cheers
--
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com C53C F8FC 8796 8508 88D6
C950 54F4 5DCD A834 01C5

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Mon Sep 27 05:10:53 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 27 Sep 2010 01:10:53 -0400
Subject: [wp-hackers] Proper action to hook to save custom fields with
	comments?
In-Reply-To: <AANLkTikGs-Zwtvg-rkEHk17KwcLDtW9nREUTuE3b1Cfk@mail.gmail.com>
References: <AANLkTimiL8k7ef0j0vLH+kM2u-m5xpa0w5XRMksmaEz7@mail.gmail.com>
	<AANLkTikGs-Zwtvg-rkEHk17KwcLDtW9nREUTuE3b1Cfk@mail.gmail.com>
Message-ID: <AANLkTi=UeJr+zm_BSY32UJs-ys5xfL4YOH=nMWcGb8AF@mail.gmail.com>

On Sun, Sep 26, 2010 at 11:17 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> try this
>
> add_action ('comment_post', 'add_meta_settings', 1);
>
> function add_meta_settings($comment_id) {
>     add_comment_meta($comment_id, 'my_custom_stuff,
> $_POST['my_custom_stuff], true);
> }
>

Please don't use $_POST directly. This is considered unsafe.
http://codex.wordpress.org/Data_Validation

From ashishsainiashfame at gmail.com  Mon Sep 27 08:50:50 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Mon, 27 Sep 2010 14:20:50 +0530
Subject: [wp-hackers] Replies count
In-Reply-To: <AANLkTik9Xcqf3EQ+T7g6Q_xyERdDfeiVZ4s_EvGgKsof@mail.gmail.com>
References: <AANLkTik-cM5GEf1yXT7zErD=s3SQe6SyAffPQbUdm2e0@mail.gmail.com>
	<AANLkTinEAvTqZOYrnD3fCvYeG+n8S0E1ig5k_ByO4Gi2@mail.gmail.com>
	<AANLkTik9Xcqf3EQ+T7g6Q_xyERdDfeiVZ4s_EvGgKsof@mail.gmail.com>
Message-ID: <AANLkTim1_PQeHGCxTJs=rVOHRFpogVvfr4p4_tg8smJt@mail.gmail.com>

Thanks Mike!

I will try that and let you know how good it goes :)

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Fri, Sep 24, 2010 at 12:55 AM, Ashish Saini <ashishsainiashfame at gmail.com
> wrote:

> Now I even need to list them as
> - 1
> -- 1.1
> --- 1.2
> - 2
> - 3
>
> Any ideas about this?
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter : http://twitter.com/ashfame
>
>
> On Thu, Sep 23, 2010 at 5:53 PM, scribu <mail at scribu.net> wrote:
>
>> On Thu, Sep 23, 2010 at 12:55 PM, Ashish Saini <
>> ashishsainiashfame at gmail.com
>> > wrote:
>>
>> > Hello everyone,
>> >
>> > I was wondering what would be an easy solution to achieve the number of
>> > replies a comment has get in a threaded comment.
>> > Is that something I can do in the comments callback function or
>> something I
>> > would need to do by jquery by counting the li's in the children class
>> > inside
>> > it.
>> >
>>
>> If you want an easy way, I would go with the jQuery method.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From wphack at mirality.co.nz  Mon Sep 27 10:49:06 2010
From: wphack at mirality.co.nz (Gavin Lambert)
Date: Mon, 27 Sep 2010 23:49:06 +1300
Subject: [wp-hackers] wp_magic_quotes makes me sad panda
Message-ID: <20100927104930.8675110D88A@lists.luv.wordpress.org>

I've just upgraded my blog from WP 2.7 to 3.0.1 (yes, I know, I'm 
slow).  After doing so, one of my (currently private) plugins 
broke, due to mysterious extra backslashes in $_POST.

This was very peculiar, since like any good PHP developer I had 
written code to call stripslashes if get_magic_quotes_gpc() was 
on, and I happened to know that on my site it was off anyway.

Eventually, I traced this back to the mysterious addition of 
wp_magic_quotes, apparently added in 3.0.0.  What the heck?

Now, I've searched the archives (a bit, since it doesn't have a 
"real" search option), and apparently the reason for adding this 
was for backwards compatibility with lazy plugin authors who don't 
know how to write PHP code.  Or to disable magic_quotes_gpc on 
their servers.  So it's being forced on anyway.

I have several problems with this:

1. For the unlucky souls who actually do have magic_quotes_gpc 
enabled, the slashes are being added by PHP, stripped by WP, 
re-added, and then finally will almost certainly be stripped again 
by the plugin prior to use.  This seems like a colossal waste of 
time.

2. Lazy plugin authors who don't know how to write PHP code 
shouldn't be coddled, they should be educated.  If they write code 
that makes them vulnerable to injection attacks in private 
plugins, then they deserve to have their blog destroyed.  If they 
do it in public plugins, then hopefully someone will eventually 
notice that the code is broken and tell them how to fix it.  Or 
people will stop using that plugin after it breaks their 
site.  [Note, however, that even then only the class of plugins 
that directly execute SQL based on GPC parameters could possibly 
be vulnerable.  I really don't think that this is a big group.]

3. WP provides no apparent way to detect whether this 
transformation has been done (like "normal" PHP does with 
get_magic_quotes_gpc).  This means that it'll be even harder in 
future to get rid of this wart, because plugin authors won't be 
able to make their stripslashes calls properly conditional.  (In 
other words, this has introduced a new future compatibility 
problem.)

4. Quite a bit (possibly even the majority) of GPC data doesn't 
end up hitting the database anyway, so applying magic quotes to it 
is pointless.

5. Magic quotes are deprecated (and disabled by default) in PHP 5 
and will be disappearing entirely in PHP 6.  In other words, even 
the developers of PHP have recognised that they're a silly idea.

At the very least, #3 ought to be fixed, to at least entertain the 
possibility of future sanity.  Ideally, though, wp_magic_quotes 
should be removed entirely.

[And I apologise if my tone seems overly confrontational or 
insulting.  But this *really*, *really* annoys me, probably at 
least partly because all the chasing around to find the extra 
slashes is still fresh.]


From mda at blogwaffe.com  Mon Sep 27 11:22:14 2010
From: mda at blogwaffe.com (Michael D Adams)
Date: Mon, 27 Sep 2010 04:22:14 -0700
Subject: [wp-hackers] wp_magic_quotes makes me sad panda
In-Reply-To: <20100927104930.8675110D88A@lists.luv.wordpress.org>
References: <20100927104930.8675110D88A@lists.luv.wordpress.org>
Message-ID: <AANLkTimbc_g0B2FRXDvo6Cno_xd6g04jJNMHW3iQ5oV6@mail.gmail.com>

WordPress has always normalized $_GET, $_POST, $_COOKIE, and $_SERVER
to be slashed:
WP 2.7: http://core.trac.wordpress.org/browser/tags/2.7/wp-settings.php#L492
WP 1.3: http://core.trac.wordpress.org/browser/trunk/wp-settings.php?rev=1964#L104
(Before then, the normalization was done in admin.php and wp-comments-post.php)

In 2.9, $_REQUEST joined that group (and was forced to emulate
request_order=GP).

I agree with you in theory: it's ugly.

In practice, it's way too late to change.

Mike
--mdawaffe

On Mon, Sep 27, 2010 at 3:49 AM, Gavin Lambert <wphack at mirality.co.nz> wrote:
> I've just upgraded my blog from WP 2.7 to 3.0.1 (yes, I know, I'm slow).
> ?After doing so, one of my (currently private) plugins broke, due to
> mysterious extra backslashes in $_POST.
>
> This was very peculiar, since like any good PHP developer I had written code
> to call stripslashes if get_magic_quotes_gpc() was on, and I happened to
> know that on my site it was off anyway.
>
> Eventually, I traced this back to the mysterious addition of
> wp_magic_quotes, apparently added in 3.0.0. ?What the heck?
>
> Now, I've searched the archives (a bit, since it doesn't have a "real"
> search option), and apparently the reason for adding this was for backwards
> compatibility with lazy plugin authors who don't know how to write PHP code.
> ?Or to disable magic_quotes_gpc on their servers. ?So it's being forced on
> anyway.
>
> I have several problems with this:
>
> 1. For the unlucky souls who actually do have magic_quotes_gpc enabled, the
> slashes are being added by PHP, stripped by WP, re-added, and then finally
> will almost certainly be stripped again by the plugin prior to use. ?This
> seems like a colossal waste of time.
>
> 2. Lazy plugin authors who don't know how to write PHP code shouldn't be
> coddled, they should be educated. ?If they write code that makes them
> vulnerable to injection attacks in private plugins, then they deserve to
> have their blog destroyed. ?If they do it in public plugins, then hopefully
> someone will eventually notice that the code is broken and tell them how to
> fix it. ?Or people will stop using that plugin after it breaks their site.
> ?[Note, however, that even then only the class of plugins that directly
> execute SQL based on GPC parameters could possibly be vulnerable. ?I really
> don't think that this is a big group.]
>
> 3. WP provides no apparent way to detect whether this transformation has
> been done (like "normal" PHP does with get_magic_quotes_gpc). ?This means
> that it'll be even harder in future to get rid of this wart, because plugin
> authors won't be able to make their stripslashes calls properly conditional.
> ?(In other words, this has introduced a new future compatibility problem.)
>
> 4. Quite a bit (possibly even the majority) of GPC data doesn't end up
> hitting the database anyway, so applying magic quotes to it is pointless.
>
> 5. Magic quotes are deprecated (and disabled by default) in PHP 5 and will
> be disappearing entirely in PHP 6. ?In other words, even the developers of
> PHP have recognised that they're a silly idea.
>
> At the very least, #3 ought to be fixed, to at least entertain the
> possibility of future sanity. ?Ideally, though, wp_magic_quotes should be
> removed entirely.
>
> [And I apologise if my tone seems overly confrontational or insulting. ?But
> this *really*, *really* annoys me, probably at least partly because all the
> chasing around to find the extra slashes is still fresh.]
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jasperfrumau at gmail.com  Mon Sep 27 12:10:49 2010
From: jasperfrumau at gmail.com (Jasper Frumau)
Date: Mon, 27 Sep 2010 16:10:49 +0400
Subject: [wp-hackers] NextGen Carousel Preloading images
Message-ID: <AANLkTi=qtuuYY_V8NBZ38ZaRYm03eJ1SLm1YHDk_0T+H@mail.gmail.com>

I have created a custom NextGen Carousel which is already working well and
is almost done designwise. I just need the NextGen Gallery images to be
preloaded on the page in question. Now they have to be loaded at least once
and as I use nice 600px by 400px images that can be loaded clicking its
thumbnail this takes some time. Is there a way to preload these images with
a child plugin or javascript? I have only found ways to load a couple of
images that are known with CSS or JQuery so far. And as the images needing
preloading, change from page/gallery to page/gallery it should grab images
that are needed on that moment.Thanks in advance for any tips you could give
me.

From mail at scribu.net  Mon Sep 27 12:22:09 2010
From: mail at scribu.net (scribu)
Date: Mon, 27 Sep 2010 15:22:09 +0300
Subject: [wp-hackers] NextGen Carousel Preloading images
In-Reply-To: <AANLkTi=qtuuYY_V8NBZ38ZaRYm03eJ1SLm1YHDk_0T+H@mail.gmail.com>
References: <AANLkTi=qtuuYY_V8NBZ38ZaRYm03eJ1SLm1YHDk_0T+H@mail.gmail.com>
Message-ID: <AANLkTinKHg3DUAwtY+nsMhV2kL40TAzMZqcTZ8SAqSNo@mail.gmail.com>

This mailing list is for discussing WordPress Core development.

You should post your question here:

http://wordpress.org/tags/nextgen-gallery

From scott at skcdev.com  Mon Sep 27 12:38:11 2010
From: scott at skcdev.com (Scott Kingsley Clark)
Date: Mon, 27 Sep 2010 07:38:11 -0500
Subject: [wp-hackers] Plugin Authors would love the ability to change the
 status of topics in their corresponding WP.org Forums Tag
Message-ID: <4CA09033.4020203@skcdev.com>

As a plugin author, it would be great to be able to mark topics as 
Resolved or Not a Support Question, but that seems to only be available 
for a short period of time after a topic has started, after it's gone on 
for a while (not sure the length of time) it doesn't allow for us to 
update it.

What (if anything) is being done on the forums to give plugin authors 
more motivation to use the WP.org Forums Tag actively for supporting 
their plugin?


Best Regards,

Scott Kingsley Clark
Developer / Consultant
SKC Development, LLC

------------------------------------
E-mail: scott at skcdev.com
Website: http://skcdev.com/
Phone: 214.233.4048
Fax: 214.260.1426

AIM / Yahoo / Skype: sc0ttkclark
Google Talk: sc0ttkclark at gmail.com
IRC: sc0ttkclark / irc.freenode.net
------------------------------------



From mail at scribu.net  Mon Sep 27 12:45:05 2010
From: mail at scribu.net (scribu)
Date: Mon, 27 Sep 2010 15:45:05 +0300
Subject: [wp-hackers] Plugin Authors would love the ability to change
 the status of topics in their corresponding WP.org Forums Tag
In-Reply-To: <4CA09033.4020203@skcdev.com>
References: <4CA09033.4020203@skcdev.com>
Message-ID: <AANLkTim9zXyiPn0k23+s3tjWxMj_9Vw0qPepsdAUidm-@mail.gmail.com>

On Mon, Sep 27, 2010 at 3:38 PM, Scott Kingsley Clark <scott at skcdev.com>wrote:

> As a plugin author, it would be great to be able to mark topics as Resolved
> or Not a Support Question, but that seems to only be available for a short
> period of time after a topic has started, after it's gone on for a while
> (not sure the length of time) it doesn't allow for us to update it.
>

The age of the topic isn't the factor. You can only change the status on
topics that have been created from the
http://wordpress.org/tags/your-plugin-here page.

Topics manually tagged with your plugin's slug aren't changeable by plugin
authors.

From christian.foster at gmail.com  Mon Sep 27 13:08:31 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Mon, 27 Sep 2010 14:08:31 +0100
Subject: [wp-hackers] Order posts by time of their last comment
Message-ID: <AANLkTinee3YZN75N9RroGnJW-u=60ysKfNJvTjHr_n+c@mail.gmail.com>

Hi,

I have a requirement to list posts by the time of their last comment.
I am trying to keep it simple, the current page which lists by other
factors like post type uses a slightly modified pagination function
with a pre_get_posts filter to set the required query parameters, we
have tens of thousands of posts of different types so the pagination
is very important.

Can anyone think of a good way to sort a large number of posts by the
date of their last comment? Is it then possible to use the same
pagination function and posts_per_page/paged query variables?

Cheers,

Chris.

From christian.foster at gmail.com  Mon Sep 27 13:20:54 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Mon, 27 Sep 2010 14:20:54 +0100
Subject: [wp-hackers] pre_get_posts alternatives
Message-ID: <AANLkTin2zqwWGJ5XArkoy_73fxxAnieQ+ddvGPEgv+dq@mail.gmail.com>

Hi,

I am hooking into pre_get_posts to filter certain post types on
taxonomy templates however I have realised this is also affecting any
other get_posts. Is there an alternative that will only effect the
main loop?

nb - I read http://www.listware.net/201007/wordpress-hackers/75304-wp-hackers-pregetposts-problem.html
and tried "request" and "parse-request" - they don't seem to be
working. Sample of existing code below.

add_action( 'pre_get_posts', 'amp_filter' );
function amp_filter( $query )
{
    if ( is_tax('locations') ) {
        $query->set( 'posts_per_page', 25 );
    return $query;
}

Cheers,

Chris.

From dan at dansmart.co.uk  Mon Sep 27 13:25:43 2010
From: dan at dansmart.co.uk (Dan Smart)
Date: Mon, 27 Sep 2010 14:25:43 +0100
Subject: [wp-hackers] pre_get_posts alternatives
In-Reply-To: <AANLkTin2zqwWGJ5XArkoy_73fxxAnieQ+ddvGPEgv+dq@mail.gmail.com>
References: <AANLkTin2zqwWGJ5XArkoy_73fxxAnieQ+ddvGPEgv+dq@mail.gmail.com>
Message-ID: <28105EDC-6DBB-41A0-9C82-60590CB050B3@dansmart.co.uk>

Have you tried checking for the post type first with get_post_type() ?

Dan

(Sent from iPhone)
Dan Smart - Web Developer
www.dansmart.co.uk

On 27 Sep 2010, at 14:20, Christian Foster <christian.foster at gmail.com> wrote:

> Hi,
> 
> I am hooking into pre_get_posts to filter certain post types on
> taxonomy templates however I have realised this is also affecting any
> other get_posts. Is there an alternative that will only effect the
> main loop?
> 
> nb - I read http://www.listware.net/201007/wordpress-hackers/75304-wp-hackers-pregetposts-problem.html
> and tried "request" and "parse-request" - they don't seem to be
> working. Sample of existing code below.
> 
> add_action( 'pre_get_posts', 'amp_filter' );
> function amp_filter( $query )
> {
>    if ( is_tax('locations') ) {
>        $query->set( 'posts_per_page', 25 );
>    return $query;
> }
> 
> Cheers,
> 
> Chris.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From alex.cologne at googlemail.com  Mon Sep 27 14:32:35 2010
From: alex.cologne at googlemail.com (Alex Rabe)
Date: Mon, 27 Sep 2010 07:32:35 -0700 (PDT)
Subject: [wp-hackers] Table prefix with captial letters
Message-ID: <cf6b6c1c-2c21-4b05-8a8f-5c6122bdcdf7@f25g2000yqc.googlegroups.com>

After a very long time I found the reason why some user can't upgrade
or install my plugin. Initially I followed the  Codex
recommendation( http://codex.wordpress.org/Creating_Tables_with_Plugins
) if a table is already installed or not :

if($wpdb->get_var("SHOW TABLES LIKE '$table_name'") != $table_name)

The problem with this check is when the table prefix contain a captial
letter (ie "WP_"), the check will failed as it's case sensitve (The
MySQL System variable 'lower_case_table_names' force a lower case
table name).

Of course it's simple to check in this case for :

if( strcasecmp ( $wpdb->get_var("show tables like '$table_name"),
$table_name) != 0 )

But I would like to know if someone knows a better or more foolproof
check for upgrade & install routines

From eric at eamann.com  Mon Sep 27 14:41:50 2010
From: eric at eamann.com (Eric Mann)
Date: Mon, 27 Sep 2010 07:41:50 -0700 (PDT)
Subject: [wp-hackers] Table prefix with captial letters
In-Reply-To: <cf6b6c1c-2c21-4b05-8a8f-5c6122bdcdf7@f25g2000yqc.googlegroups.com>
References: <cf6b6c1c-2c21-4b05-8a8f-5c6122bdcdf7@f25g2000yqc.googlegroups.com>
Message-ID: <1886877782.666207.1285598510226.JavaMail.open-xchange@oxusltgw09.schlund.de>

I follow the same setup WordPress uses to update its own database. ?I store a
database version number in the options table and key my installations/updates on
that value. ?If it's missing, I assume a new installation and create my tables.
?If it's there but out of date, I use a switch statement to select the
appropriate update scripts and run it to bring my tables up to date with the
current spec.
?
It's not foolproof, because the user could delete the value I'm storing in the
options table. ?But when you start down the road of "how could the user
intentionally break my script?" there's no real way to make an update/install
routine *that* foolproof.
?

On September 27, 2010 at 2:32 PM Alex Rabe <alex.cologne at googlemail.com> wrote:

> After a very long time I found the reason why some user can't upgrade
> or install my plugin. Initially I followed the? Codex
> recommendation( http://codex.wordpress.org/Creating_Tables_with_Plugins
> ) if a table is already installed or not :
>
> if($wpdb->get_var("SHOW TABLES LIKE '$table_name'") != $table_name)
>
> The problem with this check is when the table prefix contain a captial
> letter (ie "WP_"), the check will failed as it's case sensitve (The
> MySQL System variable 'lower_case_table_names' force a lower case
> table name).
>
> Of course it's simple to check in this case for :
>
> if( strcasecmp ( $wpdb->get_var("show tables like '$table_name"),
> $table_name) != 0 )
>
> But I would like to know if someone knows a better or more foolproof
> check for upgrade & install routines
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mail at scribu.net  Mon Sep 27 15:05:48 2010
From: mail at scribu.net (scribu)
Date: Mon, 27 Sep 2010 18:05:48 +0300
Subject: [wp-hackers] pre_get_posts alternatives
In-Reply-To: <AANLkTin2zqwWGJ5XArkoy_73fxxAnieQ+ddvGPEgv+dq@mail.gmail.com>
References: <AANLkTin2zqwWGJ5XArkoy_73fxxAnieQ+ddvGPEgv+dq@mail.gmail.com>
Message-ID: <AANLkTi=RpxnQ3vFDvdotPDzfNMWa2uVg7HDby5GRW7ju@mail.gmail.com>

On Mon, Sep 27, 2010 at 4:20 PM, Christian Foster <
christian.foster at gmail.com> wrote:

> Hi,
>
> I am hooking into pre_get_posts to filter certain post types on
> taxonomy templates however I have realised this is also affecting any
> other get_posts. Is there an alternative that will only effect the
> main loop?
>

You can check for the global $wp_query object:

add_action( 'pre_get_posts', 'amp_filter' );
function amp_filter( $query )
{
   if ( $query === $GLOBALS['wp_query'] && is_tax('locations') ) {
       $query->set( 'posts_per_page', 25 );
   return $query;
}

From scott at skcdev.com  Mon Sep 27 15:11:03 2010
From: scott at skcdev.com (Scott Kingsley Clark)
Date: Mon, 27 Sep 2010 08:11:03 -0700 (PDT)
Subject: [wp-hackers] Plugin Authors would love the ability to change
 the status of topics in their corresponding WP.org Forums Tag
In-Reply-To: <AANLkTim9zXyiPn0k23+s3tjWxMj_9Vw0qPepsdAUidm-@mail.gmail.com>
References: <4CA09033.4020203@skcdev.com>
	<AANLkTim9zXyiPn0k23+s3tjWxMj_9Vw0qPepsdAUidm-@mail.gmail.com>
Message-ID: <7f4985eb-f7b3-4b31-a8ea-fd6a822d0f75@z28g2000yqh.googlegroups.com>

Perhaps this is semi-new functionality effecting the recently started
threads, as it appears only one of the fourteen threads on my plugin's
tagged forum has it's status editable. Good to know going forward
though. Thx scribu

-Scott


On Sep 27, 7:45?am, scribu <m... at scribu.net> wrote:
> On Mon, Sep 27, 2010 at 3:38 PM, Scott Kingsley Clark <sc... at skcdev.com>wrote:
>
> > As a plugin author, it would be great to be able to mark topics as Resolved
> > or Not a Support Question, but that seems to only be available for a short
> > period of time after a topic has started, after it's gone on for a while
> > (not sure the length of time) it doesn't allow for us to update it.
>
> The age of the topic isn't the factor. You can only change the status on
> topics that have been created from thehttp://wordpress.org/tags/your-plugin-herepage.
>
> Topics manually tagged with your plugin's slug aren't changeable by plugin
> authors.
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers

From burobjorn at gmail.com  Mon Sep 27 16:31:33 2010
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Mon, 27 Sep 2010 18:31:33 +0200
Subject: [wp-hackers] How to change the sorting order by of a custom post
	type's rss feed?
Message-ID: <4CA0C6E5.4020408@gmail.com>

Hi,

I've been trying to setup a (rss) feed for my custom post type.
This works using the url parameter post_type.

For example:
http://wordpress.com/feed/?post_type=my_custom_post_type

However I would like to change the sorting of the custom posts based on 
a meta key and value.

I expected something like this:
http://wordpress.com/feed/?post_type=my_custom_post_type&order_by=meta_key

Can somebody point me in the right direction on how to achieve this?

Thanks in advance!

-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Werkdagen:
Van maandag t/m donderdag vanaf 10:00
Vrijdag is voor experimenteren en eigen projecten.

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

tel: +31 6 49 74 78 70
http://www.burobjorn.nl

From wp at andrewnacin.com  Mon Sep 27 16:38:32 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 27 Sep 2010 12:38:32 -0400
Subject: [wp-hackers] Table prefix with captial letters
In-Reply-To: <cf6b6c1c-2c21-4b05-8a8f-5c6122bdcdf7@f25g2000yqc.googlegroups.com>
References: <cf6b6c1c-2c21-4b05-8a8f-5c6122bdcdf7@f25g2000yqc.googlegroups.com>
Message-ID: <AANLkTin=_w3E6g_zRd6XUvF57rFNFYB+LjmnHMTxH=cc@mail.gmail.com>

On Mon, Sep 27, 2010 at 10:32 AM, Alex Rabe <alex.cologne at googlemail.com>wrote:

> After a very long time I found the reason why some user can't upgrade
> or install my plugin. Initially I followed the  Codex
> recommendation( http://codex.wordpress.org/Creating_Tables_with_Plugins
> ) if a table is already installed or not :
>
> if($wpdb->get_var("SHOW TABLES LIKE '$table_name'") != $table_name)
>
> The problem with this check is when the table prefix contain a captial
> letter (ie "WP_"), the check will failed as it's case sensitve (The
> MySQL System variable 'lower_case_table_names' force a lower case
> table name).
>
> Of course it's simple to check in this case for :
>
> if( strcasecmp ( $wpdb->get_var("show tables like '$table_name"),
> $table_name) != 0 )
>
> But I would like to know if someone knows a better or more foolproof
> check for upgrade & install routines


I've always just used $wpdb->get_var("SHOW TABLES LIKE '$table_name'"),
evaluated to true or false.

Or, just run dbDelta() over it when your database version number changes (as
Eric Mann suggests).

From piemanek at gmail.com  Mon Sep 27 17:01:08 2010
From: piemanek at gmail.com (Simon Blackbourn)
Date: Mon, 27 Sep 2010 18:01:08 +0100
Subject: [wp-hackers] How to change the sorting order by of a custom
 post type's rss feed?
In-Reply-To: <4CA0C6E5.4020408@gmail.com>
References: <4CA0C6E5.4020408@gmail.com>
Message-ID: <AANLkTin3ebSf-ZQAGo-=TmMxCCUqf_JwTXCLWJkp5=oa@mail.gmail.com>

> I've been trying to setup a (rss) feed for my custom post type.
> This works using the url parameter post_type.
>
> For example:
> http://wordpress.com/feed/?post_type=my_custom_post_type
>
> However I would like to change the sorting of the custom posts based on a
> meta key and value.
>
> I expected something like this:
> http://wordpress.com/feed/?post_type=my_custom_post_type&order_by=meta_key
>
> Can somebody point me in the right direction on how to achieve this?
>
>

i might be wrong, but wouldn't the sorting of posts in a feed be done by the
user's feed reader, by looking at the date field in the xml? if so, you
wouldn't have any control over it from within worpdress.

From liste at srpski.biz  Mon Sep 27 17:33:18 2010
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Mon, 27 Sep 2010 19:33:18 +0200
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <27EF0935-AFF2-4A9E-8925-D348D2FF81A9@ftwr.co.uk>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
	<4C97C237.80501@gunters.org>
	<AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>
	<AANLkTin_KAWpkB7pGGDdALQ+mGq5zPKphS+UhqBandZG@mail.gmail.com>
	<AANLkTinfvzGgTH6hE-JyCGpv9NAQg7BrtaBcNb3pcc8E@mail.gmail.com>
	<75503041-D195-49F0-9905-AE79B88B8A0F@bu.edu>
	<2064278418.515855.1285019506050.JavaMail.open-xchange@oxusltgw11.schlund.de>
	<AANLkTikZFurQs7mJAKTUy5rtiQ61pP-t4wEht9d881Cq@mail.gmail.com>
	<27EF0935-AFF2-4A9E-8925-D348D2FF81A9@ftwr.co.uk>
Message-ID: <AANLkTinajSRzPGMOm-+7CNP_Nvwv39Q-5bccumzBk0p-@mail.gmail.com>

So until we get a solution for this in core, what do you recommend as a
lightweight solution, assuming that we have plugin version stored in
options?

2010/9/21 Peter Westwood <peter.westwood at ftwr.co.uk>

>
> On 20 Sep 2010, at 23:05, scribu wrote:
>
> > Yeah, I guess checking a version stored in the db on each (admin) page
> load
> > is the most resilient way to go about it.
>
> Indeed it is.
>
> Realistically the only hooks we can safely provide are those for activation
> and deactivation.
>
> Updates can occur by a number of means not all of which are WordPress
> driven:
>  * Single plugin update
>  * Multiple plugin update
>  * Manual filesystem update - common for svn users
>  * Automated deployment script
>
> The simplest solution is to use an option to version your options just like
> WordPress uses one to version it's db schema.
>
> You can then run a function on an early hook to load/validate/upgrade the
> few options your plugin has.
>
> westi
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
>  wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Mon Sep 27 17:40:45 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 27 Sep 2010 12:40:45 -0500
Subject: [wp-hackers] How to change the sorting order by of a custom
 post type's rss feed?
In-Reply-To: <4CA0C6E5.4020408@gmail.com>
References: <4CA0C6E5.4020408@gmail.com>
Message-ID: <AANLkTik5eG1cTtU2uJZSxfPX=_Fp2WSi2Xaqp=5GXYEy@mail.gmail.com>

On Mon, Sep 27, 2010 at 11:31 AM, Bjorn Wijers <burobjorn at gmail.com> wrote:
> Hi,
>
> I've been trying to setup a (rss) feed for my custom post type.
> This works using the url parameter post_type.
>
> For example:
> http://wordpress.com/feed/?post_type=my_custom_post_type
>
> However I would like to change the sorting of the custom posts based on a
> meta key and value.
>
> I expected something like this:
> http://wordpress.com/feed/?post_type=my_custom_post_type&order_by=meta_key
>
> Can somebody point me in the right direction on how to achieve this?
>
> Thanks in advance!

Well, first, it's actually "orderby". Secondly, I'm pretty sure that
orderby is one of the query variables that is "internal only". You
can't set it via the URL query string.

What you really should do is to make a custom feed. This is actually
much simpler than it sounds.

function my_custom_feed() {
	query_posts('post_type=my_custom_post_type&meta_key=whatever&orderby=meta_value');
// this is your custom query, to change the main one
	load_template( ABSPATH . WPINC . '/feed-rss2.php' ); // load the rss2
feed output
}
add_feed('customname','my_custom_feed');

Then you can get this feed via /feed/customname.

Also, that's a simple example. You can actually do anything you want
to the query there.

-Otto

From peter at avirtualhome.com  Mon Sep 27 17:42:21 2010
From: peter at avirtualhome.com (Peter van der Does)
Date: Mon, 27 Sep 2010 13:42:21 -0400
Subject: [wp-hackers] Table prefix with captial letters
In-Reply-To: <cf6b6c1c-2c21-4b05-8a8f-5c6122bdcdf7@f25g2000yqc.googlegroups.com>
References: <cf6b6c1c-2c21-4b05-8a8f-5c6122bdcdf7@f25g2000yqc.googlegroups.com>
Message-ID: <20100927134221.5ae9fdd8@montecarlo.grandprix.int>

On Mon, 27 Sep 2010 07:32:35 -0700 (PDT)
Alex Rabe <alex.cologne at googlemail.com> wrote:

> After a very long time I found the reason why some user can't upgrade
> or install my plugin. Initially I followed the  Codex
> recommendation( http://codex.wordpress.org/Creating_Tables_with_Plugins
> ) if a table is already installed or not :
> 
> if($wpdb->get_var("SHOW TABLES LIKE '$table_name'") != $table_name)
> 
> The problem with this check is when the table prefix contain a captial
> letter (ie "WP_"), the check will failed as it's case sensitve (The
> MySQL System variable 'lower_case_table_names' force a lower case
> table name).
> 
> Of course it's simple to check in this case for :
> 
> if( strcasecmp ( $wpdb->get_var("show tables like '$table_name"),
> $table_name) != 0 )
> 
> But I would like to know if someone knows a better or more foolproof
> check for upgrade & install routines

I believe you can solve it by checking for NULL, so instead of checking
for the != $tablename, check for === NULL

$wpdb->get_var will return NULL if the query doesn't give a result.



-- 
Peter van der Does

GPG key: E77E8E98

IRC: Ganseki on irc.freenode.net
Twitter: @petervanderdoes

WordPress Plugin Developer
Blog: http://blog.avirtualhome.com
Forums: http://forums.avirtualhome.com
Twitter: @avhsoftware

From christian.foster at gmail.com  Mon Sep 27 17:45:18 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Mon, 27 Sep 2010 18:45:18 +0100
Subject: [wp-hackers] pre_get_posts alternatives
In-Reply-To: <AANLkTi=RpxnQ3vFDvdotPDzfNMWa2uVg7HDby5GRW7ju@mail.gmail.com>
References: <AANLkTin2zqwWGJ5XArkoy_73fxxAnieQ+ddvGPEgv+dq@mail.gmail.com>
	<AANLkTi=RpxnQ3vFDvdotPDzfNMWa2uVg7HDby5GRW7ju@mail.gmail.com>
Message-ID: <AANLkTik5TVxt79Cf1fYNU8LcstiuRyZmdhiS0Bv6oHKW@mail.gmail.com>

That works well - thank you,

Chris.

On Mon, Sep 27, 2010 at 4:05 PM, scribu <mail at scribu.net> wrote:
> On Mon, Sep 27, 2010 at 4:20 PM, Christian Foster <
> christian.foster at gmail.com> wrote:
>
>> Hi,
>>
>> I am hooking into pre_get_posts to filter certain post types on
>> taxonomy templates however I have realised this is also affecting any
>> other get_posts. Is there an alternative that will only effect the
>> main loop?
>>
>
> You can check for the global $wp_query object:
>
> add_action( 'pre_get_posts', 'amp_filter' );
> function amp_filter( $query )
> {
> ? if ( $query === $GLOBALS['wp_query'] && is_tax('locations') ) {
> ? ? ? $query->set( 'posts_per_page', 25 );
> ? return $query;
> }
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From christian.foster at gmail.com  Mon Sep 27 17:41:23 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Mon, 27 Sep 2010 18:41:23 +0100
Subject: [wp-hackers] How to change the sorting order by of a custom
 post type's rss feed?
In-Reply-To: <AANLkTin3ebSf-ZQAGo-=TmMxCCUqf_JwTXCLWJkp5=oa@mail.gmail.com>
References: <4CA0C6E5.4020408@gmail.com>
	<AANLkTin3ebSf-ZQAGo-=TmMxCCUqf_JwTXCLWJkp5=oa@mail.gmail.com>
Message-ID: <AANLkTin0RsQGJV_HDLwOYeqg64Z2Kcov7Gq9JNBNs3FH@mail.gmail.com>

I'm not 100% sure but:

add_action( 'pre_get_posts', 'feed_filter' );
function feed_filter( $query )
{
if ( is_feed() ) {
  $query->set( 'meta_key', 'sdfsf' );
  $query->set( 'meta_value', 'sdfsf' );
  $query->set( 'orderby', 'meta_value');
  $query->set( 'order', 'DESC' );
}
}

might work?

On Mon, Sep 27, 2010 at 6:01 PM, Simon Blackbourn <piemanek at gmail.com> wrote:
>> I've been trying to setup a (rss) feed for my custom post type.
>> This works using the url parameter post_type.
>>
>> For example:
>> http://wordpress.com/feed/?post_type=my_custom_post_type
>>
>> However I would like to change the sorting of the custom posts based on a
>> meta key and value.
>>
>> I expected something like this:
>> http://wordpress.com/feed/?post_type=my_custom_post_type&order_by=meta_key
>>
>> Can somebody point me in the right direction on how to achieve this?
>>
>>
>
> i might be wrong, but wouldn't the sorting of posts in a feed be done by the
> user's feed reader, by looking at the date field in the xml? if so, you
> wouldn't have any control over it from within worpdress.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From elfin at elfden.co.uk  Mon Sep 27 17:57:33 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Mon, 27 Sep 2010 18:57:33 +0100
Subject: [wp-hackers] Forms
Message-ID: <4CA0DB0D.3040406@elfden.co.uk>

has anyone got a list of all public forms that WordPress has?

I know of these:
Login form
Search
Comments
Password Protected pages

but have I missed any?

Rich


From ashishsainiashfame at gmail.com  Mon Sep 27 18:12:09 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Mon, 27 Sep 2010 23:42:09 +0530
Subject: [wp-hackers] Total page views per blog in WordPress Multisite
Message-ID: <AANLkTinhxd7toKM8EKz=H1ZpMkwCFSZec8Hz5yYDftpz@mail.gmail.com>

Hi there,

I need to have a count of total page views per blog in WordPress Multisite
so that I can show the top most viewed blogs in the network in a widget.

I am thinking of doing it by using Post Views plugin by Lester Chan to save
page views across the Multisite. (I hope it works with Multisite though. Any
experiences to share?)
Then I can get all the data from the post meta tables of all blogs and save
them using Transient APIs.

Would love to hear your thoughts on the approach. If there is an easy and
good way of doing it other than this, I would love to know about it, doesn't
matter even if its a premium plugin.

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame

From alex.cologne at googlemail.com  Mon Sep 27 18:29:09 2010
From: alex.cologne at googlemail.com (Alex Rabe)
Date: Mon, 27 Sep 2010 11:29:09 -0700 (PDT)
Subject: [wp-hackers] Table prefix with captial letters
In-Reply-To: <20100927134221.5ae9fdd8@montecarlo.grandprix.int>
References: <cf6b6c1c-2c21-4b05-8a8f-5c6122bdcdf7@f25g2000yqc.googlegroups.com>
	<20100927134221.5ae9fdd8@montecarlo.grandprix.int>
Message-ID: <b5d52552-a32c-4b64-9950-e46c6bafe1bd@j18g2000yqd.googlegroups.com>

Thank to your answer, the simple check as Andrew said should be fine.

BTW :

function maybe_create_table() in includes\upgrade.php should IMHO
failed in the same way.
Never used by WordPress core, but maybe better to fix it ?

On 27 Sep., 19:42, Peter van der Does <pe... at avirtualhome.com> wrote:
> On Mon, 27 Sep 2010 07:32:35 -0700 (PDT)
>
>
>
>
>
> Alex Rabe <alex.colo... at googlemail.com> wrote:
> > After a very long time I found the reason why some user can't upgrade
> > or install my plugin. Initially I followed the ?Codex
> > recommendation(http://codex.wordpress.org/Creating_Tables_with_Plugins
> > ) if a table is already installed or not :
>
> > if($wpdb->get_var("SHOW TABLES LIKE '$table_name'") != $table_name)
>
> > The problem with this check is when the table prefix contain a captial
> > letter (ie "WP_"), the check will failed as it's case sensitve (The
> > MySQL System variable 'lower_case_table_names' force a lower case
> > table name).
>
> > Of course it's simple to check in this case for :
>
> > if( strcasecmp ( $wpdb->get_var("show tables like '$table_name"),
> > $table_name) != 0 )
>
> > But I would like to know if someone knows a better or more foolproof
> > check for upgrade & install routines
>
> I believe you can solve it by checking for NULL, so instead of checking
> for the != $tablename, check for === NULL
>
> $wpdb->get_var will return NULL if the query doesn't give a result.
>
> --
> Peter van der Does
>
> GPG key: E77E8E98
>
> IRC: Ganseki on irc.freenode.net
> Twitter: @petervanderdoes
>
> WordPress Plugin Developer
> Blog:http://blog.avirtualhome.com
> Forums:http://forums.avirtualhome.com
> Twitter: @avhsoftware
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Mon Sep 27 18:56:12 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 27 Sep 2010 14:56:12 -0400
Subject: [wp-hackers] pre_get_posts alternatives
In-Reply-To: <AANLkTik5TVxt79Cf1fYNU8LcstiuRyZmdhiS0Bv6oHKW@mail.gmail.com>
References: <AANLkTin2zqwWGJ5XArkoy_73fxxAnieQ+ddvGPEgv+dq@mail.gmail.com>
	<AANLkTi=RpxnQ3vFDvdotPDzfNMWa2uVg7HDby5GRW7ju@mail.gmail.com>
	<AANLkTik5TVxt79Cf1fYNU8LcstiuRyZmdhiS0Bv6oHKW@mail.gmail.com>
Message-ID: <4178C3E1-C473-4E15-BBF9-6CDDA0A7575A@newclarity.net>

On Mon, Sep 27, 2010 at 4:05 PM, scribu <mail at scribu.net> wrote:
> On Mon, Sep 27, 2010 at 4:20 PM, Christian Foster <
> christian.foster at gmail.com> wrote:
> 
>> Hi,
>> 
>> I am hooking into pre_get_posts to filter certain post types on
>> taxonomy templates however I have realised this is also affecting any
>> other get_posts. Is there an alternative that will only effect the
>> main loop?
>> 
> 
> You can check for the global $wp_query object:
> 
> add_action( 'pre_get_posts', 'amp_filter' );
> function amp_filter( $query )
> {
>   if ( $query === $GLOBALS['wp_query'] && is_tax('locations') ) {
>       $query->set( 'posts_per_page', 25 );
>   return $query;
> }

Unfortunately that logic will fail if someone is using rewindposts() or query_posts() in a theme(see [1].) Here are a pair of hooks that won't have that problem.  Note that the "is_main_loop" property is not a standard property of the $wp_query object, it's something I added for this purpose:

add_action( 'parse_request', 'mytest_parse_request' );
function mytest_parse_request( $wp ) {
	global $wp_query;
	$wp_query->is_main_loop = true;
	return $wp;
}
add_action( 'pre_get_posts', 'mytest_pre_get_posts' );
function mytest_pre_get_posts( $query ) {
  if ( isset($query->is_main_loop) && $query->is_main_loop) {
    $query->set( 'posts_per_page', 25 );
    $wp_query->is_main_loop = false;
  }
  return $query;
}

Hope this helps.

-Mike
[1] http://codex.wordpress.org/The_Loop#Loop_Examples_2

From johnbillion+wp at gmail.com  Mon Sep 27 19:01:53 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 27 Sep 2010 20:01:53 +0100
Subject: [wp-hackers] Forms
In-Reply-To: <4CA0DB0D.3040406@elfden.co.uk>
References: <4CA0DB0D.3040406@elfden.co.uk>
Message-ID: <AANLkTike2hoSWpRNZivO9gXBB_89uHmKj163UdnssZrU@mail.gmail.com>

The categories widget can display a <select> item instead of an
unordered list, so I presume that would appear in a form.

On Mon, Sep 27, 2010 at 6:57 PM, Rich Pedley <elfin at elfden.co.uk> wrote:
> has anyone got a list of all public forms that WordPress has?
>
> I know of these:
> Login form
> Search
> Comments
> Password Protected pages
>
> but have I missed any?
>
> Rich
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Mon Sep 27 19:02:27 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 27 Sep 2010 15:02:27 -0400
Subject: [wp-hackers] Forms
In-Reply-To: <4CA0DB0D.3040406@elfden.co.uk>
References: <4CA0DB0D.3040406@elfden.co.uk>
Message-ID: <F53480C0-8577-4C29-97BD-3B7FD64746F8@newclarity.net>

Password reset?

On Sep 27, 2010, at 1:57 PM, Rich Pedley wrote:

> has anyone got a list of all public forms that WordPress has?
> 
> I know of these:
> Login form
> Search
> Comments
> Password Protected pages
> 
> but have I missed any?
> 
> Rich
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Mon Sep 27 19:02:49 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 27 Sep 2010 15:02:49 -0400
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <AANLkTinajSRzPGMOm-+7CNP_Nvwv39Q-5bccumzBk0p-@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
	<4C97C237.80501@gunters.org>
	<AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>
	<AANLkTin_KAWpkB7pGGDdALQ+mGq5zPKphS+UhqBandZG@mail.gmail.com>
	<AANLkTinfvzGgTH6hE-JyCGpv9NAQg7BrtaBcNb3pcc8E@mail.gmail.com>
	<75503041-D195-49F0-9905-AE79B88B8A0F@bu.edu>
	<2064278418.515855.1285019506050.JavaMail.open-xchange@oxusltgw11.schlund.de>
	<AANLkTikZFurQs7mJAKTUy5rtiQ61pP-t4wEht9d881Cq@mail.gmail.com>
	<27EF0935-AFF2-4A9E-8925-D348D2FF81A9@ftwr.co.uk>
	<AANLkTinajSRzPGMOm-+7CNP_Nvwv39Q-5bccumzBk0p-@mail.gmail.com>
Message-ID: <AANLkTiny3CUa8CFTvG1uhqeH35qpCtsvxCJ7cuCJHABy@mail.gmail.com>

On Mon, Sep 27, 2010 at 1:33 PM, Milan Dini? <liste at srpski.biz> wrote:

> So until we get a solution for this in core, what do you recommend as a
> lightweight solution, assuming that we have plugin version stored in
> options?


I run an upgrade routine on admin_init. Here's what I use:
http://nacin.pastebin.com/CxAnByLM

In action:
http://plugins.trac.wordpress.org/browser/log-deprecated-notices/trunk/log-deprecated-notices.php?rev=264743

From johnbillion+wp at gmail.com  Mon Sep 27 19:03:43 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 27 Sep 2010 20:03:43 +0100
Subject: [wp-hackers] Forms
In-Reply-To: <F53480C0-8577-4C29-97BD-3B7FD64746F8@newclarity.net>
References: <4CA0DB0D.3040406@elfden.co.uk>
	<F53480C0-8577-4C29-97BD-3B7FD64746F8@newclarity.net>
Message-ID: <AANLkTikdUNsChWfrweNbadobaoRVoVg_wd73aeQATDYM@mail.gmail.com>

On Mon, Sep 27, 2010 at 8:02 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> Password reset?

and by extension, user registration.

From wp at andrewnacin.com  Mon Sep 27 19:09:56 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 27 Sep 2010 15:09:56 -0400
Subject: [wp-hackers] Forms
In-Reply-To: <AANLkTike2hoSWpRNZivO9gXBB_89uHmKj163UdnssZrU@mail.gmail.com>
References: <4CA0DB0D.3040406@elfden.co.uk>
	<AANLkTike2hoSWpRNZivO9gXBB_89uHmKj163UdnssZrU@mail.gmail.com>
Message-ID: <AANLkTi=OoLZhRiM0iUadpwYx+VEPjYKoOf3MDR0wyi-a@mail.gmail.com>

On Mon, Sep 27, 2010 at 3:01 PM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> The categories widget can display a <select> item instead of an
> unordered list, so I presume that would appear in a form.


And, by extension, the archives widget.

Rich is doing this I believe for accessibility research. I'm going to send
you grep results of form elements offlist.

From mikeschinkel at newclarity.net  Mon Sep 27 19:10:58 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 27 Sep 2010 15:10:58 -0400
Subject: [wp-hackers] Order posts by time of their last comment
In-Reply-To: <AANLkTinee3YZN75N9RroGnJW-u=60ysKfNJvTjHr_n+c@mail.gmail.com>
References: <AANLkTinee3YZN75N9RroGnJW-u=60ysKfNJvTjHr_n+c@mail.gmail.com>
Message-ID: <7E24F9A6-B867-48D4-A135-AB53A463EB23@newclarity.net>

On Sep 27, 2010, at 9:08 AM, Christian Foster wrote:
> I have a requirement to list posts by the time of their last comment.
> I am trying to keep it simple, the current page which lists by other
> factors like post type uses a slightly modified pagination function
> with a pre_get_posts filter to set the required query parameters, we
> have tens of thousands of posts of different types so the pagination
> is very important.
> 
> Can anyone think of a good way to sort a large number of posts by the
> date of their last comment? Is it then possible to use the same
> pagination function and posts_per_page/paged query variables?

Use the 'wp_insert_comment' hook to store the datetime value as an int in the term_order field of the wp_term_relationships table and . At worst it would be one minute off.  If you need, you can just create a dummy taxonomy and dummy term for this. Then it's a simple SQL join query to get the records sorted in the correct order.  Would that work?

-Mike


From aaron at jorb.in  Mon Sep 27 19:29:08 2010
From: aaron at jorb.in (Aaron Jorbin)
Date: Mon, 27 Sep 2010 15:29:08 -0400
Subject: [wp-hackers] Order posts by time of their last comment
In-Reply-To: <AANLkTinee3YZN75N9RroGnJW-u=60ysKfNJvTjHr_n+c@mail.gmail.com>
References: <AANLkTinee3YZN75N9RroGnJW-u=60ysKfNJvTjHr_n+c@mail.gmail.com>
Message-ID: <AANLkTi=DJgZgMs0FZdtoNFeL_XRVb0oWeU_hH5S8BBum@mail.gmail.com>

On 9/27/10, Christian Foster <christian.foster at gmail.com> wrote:
> Hi,
>
> I have a requirement to list posts by the time of their last comment.
> I am trying to keep it simple, the current page which lists by other
> factors like post type uses a slightly modified pagination function
> with a pre_get_posts filter to set the required query parameters, we
> have tens of thousands of posts of different types so the pagination
> is very important.
>
> Can anyone think of a good way to sort a large number of posts by the
> date of their last comment? Is it then possible to use the same
> pagination function and posts_per_page/paged query variables?
>
> Cheers,
>
> Chris.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

I would add a post_meta field for the date/time of most recent comment
and hook into comment_post and wp_set_comment_status to update it. You
can then order by the meta value.

-- 
http://aaron.jorb.in
twitter: twitter.com/aaronjorbin

From rbilesky at gmail.com  Mon Sep 27 19:34:13 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Mon, 27 Sep 2010 12:34:13 -0700
Subject: [wp-hackers] Proper action to hook to save custom fields with
	comments?
In-Reply-To: <AANLkTi=UeJr+zm_BSY32UJs-ys5xfL4YOH=nMWcGb8AF@mail.gmail.com>
References: <AANLkTimiL8k7ef0j0vLH+kM2u-m5xpa0w5XRMksmaEz7@mail.gmail.com>
	<AANLkTikGs-Zwtvg-rkEHk17KwcLDtW9nREUTuE3b1Cfk@mail.gmail.com>
	<AANLkTi=UeJr+zm_BSY32UJs-ys5xfL4YOH=nMWcGb8AF@mail.gmail.com>
Message-ID: <AANLkTimxnGN3_Ww7Y77xO2kbp1HN4ARitZC--Yjn_roC@mail.gmail.com>

Sorry I did just thow the code together real quick.  Though I think the
function cleans up any input before it's queries, but yes it is better to
make sure you do it so you know it gets done.

On Sun, Sep 26, 2010 at 10:10 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Sun, Sep 26, 2010 at 11:17 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > try this
> >
> > add_action ('comment_post', 'add_meta_settings', 1);
> >
> > function add_meta_settings($comment_id) {
> >     add_comment_meta($comment_id, 'my_custom_stuff,
> > $_POST['my_custom_stuff], true);
> > }
> >
>
> Please don't use $_POST directly. This is considered unsafe.
> http://codex.wordpress.org/Data_Validation
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From elfin at elfden.co.uk  Mon Sep 27 19:43:33 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Mon, 27 Sep 2010 20:43:33 +0100
Subject: [wp-hackers] Forms
In-Reply-To: <AANLkTi=OoLZhRiM0iUadpwYx+VEPjYKoOf3MDR0wyi-a@mail.gmail.com>
References: <4CA0DB0D.3040406@elfden.co.uk>	<AANLkTike2hoSWpRNZivO9gXBB_89uHmKj163UdnssZrU@mail.gmail.com>
	<AANLkTi=OoLZhRiM0iUadpwYx+VEPjYKoOf3MDR0wyi-a@mail.gmail.com>
Message-ID: <4CA0F3E5.10308@elfden.co.uk>

On 27/09/2010 20:09, Andrew Nacin wrote:
> On Mon, Sep 27, 2010 at 3:01 PM, John Blackbourn
> <johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
>> wrote:
>
>> The categories widget can display a<select>  item instead of an
>> unordered list, so I presume that would appear in a form.
>
>
> And, by extension, the archives widget.
>
> Rich is doing this I believe for accessibility research. I'm going to send
> you grep results of form elements offlist.

;) sort of.

This a just a pre check to remove spawn of satan code[1]. It may as 
well be in the same ticket as it will all be for the same thing, and I 
may as well do all the forward facing forms in one fell swoop, as not 
doing them all negates the patch entirely.


Rich
[1] tabindex.


From elfin at elfden.co.uk  Mon Sep 27 19:44:46 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Mon, 27 Sep 2010 20:44:46 +0100
Subject: [wp-hackers] Forms
In-Reply-To: <AANLkTikdUNsChWfrweNbadobaoRVoVg_wd73aeQATDYM@mail.gmail.com>
References: <4CA0DB0D.3040406@elfden.co.uk>	<F53480C0-8577-4C29-97BD-3B7FD64746F8@newclarity.net>
	<AANLkTikdUNsChWfrweNbadobaoRVoVg_wd73aeQATDYM@mail.gmail.com>
Message-ID: <4CA0F42E.50806@elfden.co.uk>

On 27/09/2010 20:03, John Blackbourn wrote:
> On Mon, Sep 27, 2010 at 8:02 PM, Mike Schinkel
> <mikeschinkel at newclarity.net>  wrote:
>> Password reset?
>
> and by extension, user registration.

Those 2 are semi special cases, but I may as well include them as they 
are accessible pre admin wise.

Rich

From mail at scribu.net  Mon Sep 27 20:31:47 2010
From: mail at scribu.net (scribu)
Date: Mon, 27 Sep 2010 23:31:47 +0300
Subject: [wp-hackers] Will Activation Hook Be Executed During Plugin
	Upgradation?
In-Reply-To: <AANLkTiny3CUa8CFTvG1uhqeH35qpCtsvxCJ7cuCJHABy@mail.gmail.com>
References: <001b01cb58ce$e0363fb0$a0a2bf10$@expost.org>
	<AANLkTinPvyWA=xjpT=xpj54_bBFnPm=arWgD1w0sgPdq@mail.gmail.com>
	<20100920153442.GL7892@nicolaskuttler.de>
	<7FE0DBEB-500B-40CF-8EEB-8434005C15BF@ftwr.co.uk>
	<AANLkTinaRiszpgL3Uogkkn9v05MVrz-DsZ8R1Whp5=4N@mail.gmail.com>
	<4C97C237.80501@gunters.org>
	<AANLkTik53Fh7H86=_D7TnATKg3OBXgphipNjrienWZR_@mail.gmail.com>
	<AANLkTin_KAWpkB7pGGDdALQ+mGq5zPKphS+UhqBandZG@mail.gmail.com>
	<AANLkTinfvzGgTH6hE-JyCGpv9NAQg7BrtaBcNb3pcc8E@mail.gmail.com>
	<75503041-D195-49F0-9905-AE79B88B8A0F@bu.edu>
	<2064278418.515855.1285019506050.JavaMail.open-xchange@oxusltgw11.schlund.de>
	<AANLkTikZFurQs7mJAKTUy5rtiQ61pP-t4wEht9d881Cq@mail.gmail.com>
	<27EF0935-AFF2-4A9E-8925-D348D2FF81A9@ftwr.co.uk>
	<AANLkTinajSRzPGMOm-+7CNP_Nvwv39Q-5bccumzBk0p-@mail.gmail.com>
	<AANLkTiny3CUa8CFTvG1uhqeH35qpCtsvxCJ7cuCJHABy@mail.gmail.com>
Message-ID: <AANLkTi=vz9M_6gFtf0ktM2T54QVq1S5aorwHfr4w_q=p@mail.gmail.com>

On Mon, Sep 27, 2010 at 10:02 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Mon, Sep 27, 2010 at 1:33 PM, Milan Dini? <liste at srpski.biz> wrote:
>
> > So until we get a solution for this in core, what do you recommend as a
> > lightweight solution, assuming that we have plugin version stored in
> > options?
>
>
> I run an upgrade routine on admin_init. Here's what I use:
> http://nacin.pastebin.com/CxAnByLM
>

Hopefully, in the next version, you will be able to replace
action_admin_init() with register_update_hook():

http://core.trac.wordpress.org/attachment/ticket/14912/plugin-versions.4.diff

You can basically use it now, if you copy it in your plugin and wrap it in
an if ( !function_exists(...) )

From mikeschinkel at newclarity.net  Mon Sep 27 21:21:01 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 27 Sep 2010 17:21:01 -0400
Subject: [wp-hackers] Order posts by time of their last comment
In-Reply-To: <AANLkTi=DJgZgMs0FZdtoNFeL_XRVb0oWeU_hH5S8BBum@mail.gmail.com>
References: <AANLkTinee3YZN75N9RroGnJW-u=60ysKfNJvTjHr_n+c@mail.gmail.com>
	<AANLkTi=DJgZgMs0FZdtoNFeL_XRVb0oWeU_hH5S8BBum@mail.gmail.com>
Message-ID: <620DBF58-F5A3-46CD-8AF3-8EC21AC5E327@newclarity.net>

On Sep 27, 2010, at 3:29 PM, Aaron Jorbin wrote:
> On 9/27/10, Christian Foster <christian.foster at gmail.com> wrote:
>> I have a requirement to list posts by the time of their last comment.
>> I am trying to keep it simple, the current page which lists by other
>> factors like post type uses a slightly modified pagination function
>> with a pre_get_posts filter to set the required query parameters, we
>> have tens of thousands of posts of different types so the pagination
>> is very important.
>> 
>> Can anyone think of a good way to sort a large number of posts by the
>> date of their last comment? Is it then possible to use the same
>> pagination function and posts_per_page/paged query variables?
> 
> I would add a post_meta field for the date/time of most recent comment
> and hook into comment_post and wp_set_comment_status to update it. You
> can then order by the meta value.

Personally I would recommend against ordering tens of thousands of records on a longtext value.  That's why I recommended using the term_order field of the wp_term_relationships table so he can order based on an efficient int rather than an inefficient longtext. 

Of course I probably should have mentioned that he might want to add an index on the term_order field to improve performance even more.

-Mike

From lynne.pope at gmail.com  Tue Sep 28 03:01:00 2010
From: lynne.pope at gmail.com (Lynne Pope)
Date: Tue, 28 Sep 2010 16:01:00 +1300
Subject: [wp-hackers] Forms
In-Reply-To: <4CA0F3E5.10308@elfden.co.uk>
References: <4CA0DB0D.3040406@elfden.co.uk>
	<AANLkTike2hoSWpRNZivO9gXBB_89uHmKj163UdnssZrU@mail.gmail.com>
	<AANLkTi=OoLZhRiM0iUadpwYx+VEPjYKoOf3MDR0wyi-a@mail.gmail.com>
	<4CA0F3E5.10308@elfden.co.uk>
Message-ID: <AANLkTikTLSHeW9c7P4r-QK-WfO1fkaOs+XjXztGaYjKq@mail.gmail.com>

On Tue, Sep 28, 2010 at 8:43 AM, Rich Pedley <elfin at elfden.co.uk> wrote:

> On 27/09/2010 20:09, Andrew Nacin wrote:
>
>> On Mon, Sep 27, 2010 at 3:01 PM, John Blackbourn
>> <johnbillion+wp at gmail.com <johnbillion%2Bwp at gmail.com><
>> johnbillion%2Bwp at gmail.com <johnbillion%252Bwp at gmail.com>>
>>
>>> wrote:
>>>
>>
>>  The categories widget can display a<select>  item instead of an
>>> unordered list, so I presume that would appear in a form.
>>>
>>
>>
>> And, by extension, the archives widget.
>>
>> Rich is doing this I believe for accessibility research. I'm going to send
>> you grep results of form elements offlist.
>>
>
> ;) sort of.
>
> This a just a pre check to remove spawn of satan code[1]. It may as well be
> in the same ticket as it will all be for the same thing, and I may as well
> do all the forward facing forms in one fell swoop, as not doing them all
> negates the patch entirely.
>
>
> Rich
>  [1] tabindex.
>

tabindex is the first thing I remove. It's in quite a lot of files,
including the tinymce editor. Hallelujah if someone ever manages to get
these removed from core!

Lynne

From sbressler at gmail.com  Tue Sep 28 07:13:17 2010
From: sbressler at gmail.com (Scott Bressler)
Date: Tue, 28 Sep 2010 00:13:17 -0700
Subject: [wp-hackers] WP and IE9
Message-ID: <AANLkTim20zViLMY_ChbVEpcropoXazHiZeLAK=o7huZP@mail.gmail.com>

Has anyone noticed how Twenty Ten headers are broken in IE9. They get pushed
a full 500-600 pixels to the right for some reason. Haven't had time to
investigate the cause, but this should probably be investigated (though it
could obviously still be a long time before IE9 ships).

-Scott

From navjotjsingh at gmail.com  Tue Sep 28 07:22:33 2010
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Tue, 28 Sep 2010 12:52:33 +0530
Subject: [wp-hackers] WP and IE9
In-Reply-To: <AANLkTim20zViLMY_ChbVEpcropoXazHiZeLAK=o7huZP@mail.gmail.com>
References: <AANLkTim20zViLMY_ChbVEpcropoXazHiZeLAK=o7huZP@mail.gmail.com>
Message-ID: <AANLkTim+J459HyP6RsN1vb41G-4J0VE8w61R=MfNsOPH@mail.gmail.com>

It has already been addressed and fixed in this ticket:
http://core.trac.wordpress.org/ticket/14883

Regards
Navjot Singh

On Tue, Sep 28, 2010 at 12:43 PM, Scott Bressler <sbressler at gmail.com>wrote:

> Has anyone noticed how Twenty Ten headers are broken in IE9. They get
> pushed
> a full 500-600 pixels to the right for some reason. Haven't had time to
> investigate the cause, but this should probably be investigated (though it
> could obviously still be a long time before IE9 ships).
>
> -Scott
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From sbressler at gmail.com  Tue Sep 28 07:30:18 2010
From: sbressler at gmail.com (Scott Bressler)
Date: Tue, 28 Sep 2010 00:30:18 -0700
Subject: [wp-hackers] WP and IE9
In-Reply-To: <AANLkTim+J459HyP6RsN1vb41G-4J0VE8w61R=MfNsOPH@mail.gmail.com>
References: <AANLkTim20zViLMY_ChbVEpcropoXazHiZeLAK=o7huZP@mail.gmail.com>
	<AANLkTim+J459HyP6RsN1vb41G-4J0VE8w61R=MfNsOPH@mail.gmail.com>
Message-ID: <AANLkTinyytXQOJP5gV-RL9ps4Du-mXTcxvbTc46FhQ-F@mail.gmail.com>

Awesome, figured it must have been, thanks for pointing me to it

On Tue, Sep 28, 2010 at 12:22 AM, Navjot Singh <navjotjsingh at gmail.com>wrote:

> It has already been addressed and fixed in this ticket:
> http://core.trac.wordpress.org/ticket/14883
>
> Regards
> Navjot Singh
>
> On Tue, Sep 28, 2010 at 12:43 PM, Scott Bressler <sbressler at gmail.com
> >wrote:
>
> > Has anyone noticed how Twenty Ten headers are broken in IE9. They get
> > pushed
> > a full 500-600 pixels to the right for some reason. Haven't had time to
> > investigate the cause, but this should probably be investigated (though
> it
> > could obviously still be a long time before IE9 ships).
> >
> > -Scott
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From elfin at elfden.co.uk  Tue Sep 28 07:40:41 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Tue, 28 Sep 2010 08:40:41 +0100
Subject: [wp-hackers] Forms
In-Reply-To: <AANLkTikTLSHeW9c7P4r-QK-WfO1fkaOs+XjXztGaYjKq@mail.gmail.com>
References: <4CA0DB0D.3040406@elfden.co.uk>	<AANLkTike2hoSWpRNZivO9gXBB_89uHmKj163UdnssZrU@mail.gmail.com>	<AANLkTi=OoLZhRiM0iUadpwYx+VEPjYKoOf3MDR0wyi-a@mail.gmail.com>	<4CA0F3E5.10308@elfden.co.uk>
	<AANLkTikTLSHeW9c7P4r-QK-WfO1fkaOs+XjXztGaYjKq@mail.gmail.com>
Message-ID: <4CA19BF9.6030103@elfden.co.uk>

On 28/09/2010 04:01, Lynne Pope wrote:

>> ;) sort of.
>>
>> This a just a pre check to remove spawn of satan code[1]. It may as well be
>> in the same ticket as it will all be for the same thing, and I may as well
>> do all the forward facing forms in one fell swoop, as not doing them all
>> negates the patch entirely.
>>
>>
>> Rich
>>   [1] tabindex.
>>
>
> tabindex is the first thing I remove. It's in quite a lot of files,
> including the tinymce editor. Hallelujah if someone ever manages to get
> these removed from core!

1 step at a time - but at the moment I'm concentrating on the front end.

Rich

From johnbillion+wp at gmail.com  Tue Sep 28 08:23:44 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Tue, 28 Sep 2010 09:23:44 +0100
Subject: [wp-hackers] Forms
In-Reply-To: <4CA19BF9.6030103@elfden.co.uk>
References: <4CA0DB0D.3040406@elfden.co.uk>
	<AANLkTike2hoSWpRNZivO9gXBB_89uHmKj163UdnssZrU@mail.gmail.com>
	<AANLkTi=OoLZhRiM0iUadpwYx+VEPjYKoOf3MDR0wyi-a@mail.gmail.com>
	<4CA0F3E5.10308@elfden.co.uk>
	<AANLkTikTLSHeW9c7P4r-QK-WfO1fkaOs+XjXztGaYjKq@mail.gmail.com>
	<4CA19BF9.6030103@elfden.co.uk>
Message-ID: <AANLkTin2st5HpbgjHn485WCxyNXq4+7sJHr91BNbbte2@mail.gmail.com>

One thing I noticed a while back is that every menu item link in
WordPress (backend) has a tabindex of 1. I meant to look through Trac
to see why this was done but didn't get around to it.

Anyone know why this is as it is?

From kikizas at gmail.com  Tue Sep 28 08:54:33 2010
From: kikizas at gmail.com (Demetris Kikizas)
Date: Tue, 28 Sep 2010 11:54:33 +0300
Subject: [wp-hackers] Forms
In-Reply-To: <4CA19BF9.6030103@elfden.co.uk>
References: <4CA0DB0D.3040406@elfden.co.uk>
	<AANLkTike2hoSWpRNZivO9gXBB_89uHmKj163UdnssZrU@mail.gmail.com>
	<AANLkTi=OoLZhRiM0iUadpwYx+VEPjYKoOf3MDR0wyi-a@mail.gmail.com>
	<4CA0F3E5.10308@elfden.co.uk>
	<AANLkTikTLSHeW9c7P4r-QK-WfO1fkaOs+XjXztGaYjKq@mail.gmail.com>
	<4CA19BF9.6030103@elfden.co.uk>
Message-ID: <AANLkTin4PeyXy7-RcxDY17=qEmEXAyPcGHVJe_6YwNkO@mail.gmail.com>

On Tue, Sep 28, 2010 at 10:40 AM, Rich Pedley <elfin at elfden.co.uk> wrote:
> On 28/09/2010 04:01, Lynne Pope wrote:
>
>>> ;) sort of.
>>>
>>> This a just a pre check to remove spawn of satan code[1]. It may as well
>>> be
>>> in the same ticket as it will all be for the same thing, and I may as
>>> well
>>> do all the forward facing forms in one fell swoop, as not doing them all
>>> negates the patch entirely.
>>>
>>>
>>> Rich
>>> ?[1] tabindex.
>>>
>>
>> tabindex is the first thing I remove. It's in quite a lot of files,
>> including the tinymce editor. Hallelujah if someone ever manages to get
>> these removed from core!
>
> 1 step at a time - but at the moment I'm concentrating on the front end.
>
For the new comment_form() it was killed before it saw the light of
day: http://core.trac.wordpress.org/ticket/12963

I didn?t think then of opening a separate ticket for existing tabindexes.

Demetris
http://op111.net/code/wp-xo ? The best WordPress plugin in the Galaxy

From elfin at elfden.co.uk  Tue Sep 28 08:55:26 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Tue, 28 Sep 2010 09:55:26 +0100
Subject: [wp-hackers] Forms
In-Reply-To: <AANLkTin2st5HpbgjHn485WCxyNXq4+7sJHr91BNbbte2@mail.gmail.com>
References: <4CA0DB0D.3040406@elfden.co.uk>	<AANLkTike2hoSWpRNZivO9gXBB_89uHmKj163UdnssZrU@mail.gmail.com>	<AANLkTi=OoLZhRiM0iUadpwYx+VEPjYKoOf3MDR0wyi-a@mail.gmail.com>	<4CA0F3E5.10308@elfden.co.uk>	<AANLkTikTLSHeW9c7P4r-QK-WfO1fkaOs+XjXztGaYjKq@mail.gmail.com>	<4CA19BF9.6030103@elfden.co.uk>
	<AANLkTin2st5HpbgjHn485WCxyNXq4+7sJHr91BNbbte2@mail.gmail.com>
Message-ID: <4CA1AD7E.2060306@elfden.co.uk>

On 28/09/2010 09:23, John Blackbourn wrote:
> One thing I noticed a while back is that every menu item link in
> WordPress (backend) has a tabindex of 1. I meant to look through Trac
> to see why this was done but didn't get around to it.
>
> Anyone know why this is as it is?

I'd guess because they used tabindex on forms, and this was a 
workaround to ensure they were tabbed to first.

Rich

From elfin at elfden.co.uk  Tue Sep 28 09:43:42 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Tue, 28 Sep 2010 10:43:42 +0100
Subject: [wp-hackers] Forms
In-Reply-To: <AANLkTikTLSHeW9c7P4r-QK-WfO1fkaOs+XjXztGaYjKq@mail.gmail.com>
References: <4CA0DB0D.3040406@elfden.co.uk>	<AANLkTike2hoSWpRNZivO9gXBB_89uHmKj163UdnssZrU@mail.gmail.com>	<AANLkTi=OoLZhRiM0iUadpwYx+VEPjYKoOf3MDR0wyi-a@mail.gmail.com>	<4CA0F3E5.10308@elfden.co.uk>
	<AANLkTikTLSHeW9c7P4r-QK-WfO1fkaOs+XjXztGaYjKq@mail.gmail.com>
Message-ID: <4CA1B8CE.6010008@elfden.co.uk>

and talking of forms...

the new admin bar (latest nightly) has just introduced a bug by 
replicating the id of the search form, I'll check on trac later.

Rich



From frank at bueltge.de  Tue Sep 28 10:10:32 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Tue, 28 Sep 2010 12:10:32 +0200
Subject: [wp-hackers] Forms
In-Reply-To: <4CA1B8CE.6010008@elfden.co.uk>
References: <4CA0DB0D.3040406@elfden.co.uk>
	<AANLkTike2hoSWpRNZivO9gXBB_89uHmKj163UdnssZrU@mail.gmail.com>
	<AANLkTi=OoLZhRiM0iUadpwYx+VEPjYKoOf3MDR0wyi-a@mail.gmail.com>
	<4CA0F3E5.10308@elfden.co.uk>
	<AANLkTikTLSHeW9c7P4r-QK-WfO1fkaOs+XjXztGaYjKq@mail.gmail.com>
	<4CA1B8CE.6010008@elfden.co.uk>
Message-ID: <AANLkTikP1FNvjfM-EuEwtdHqfAceWtS2XWqVUhUhLBKw@mail.gmail.com>

http://core.trac.wordpress.org/ticket/14980


On Tue, Sep 28, 2010 at 11:43 AM, Rich Pedley <elfin at elfden.co.uk> wrote:

> and talking of forms...
>
> the new admin bar (latest nightly) has just introduced a bug by replicating
> the id of the search form, I'll check on trac later.
>
> Rich
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From elfin at elfden.co.uk  Tue Sep 28 10:13:08 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Tue, 28 Sep 2010 11:13:08 +0100
Subject: [wp-hackers] Forms
In-Reply-To: <AANLkTikP1FNvjfM-EuEwtdHqfAceWtS2XWqVUhUhLBKw@mail.gmail.com>
References: <4CA0DB0D.3040406@elfden.co.uk>	<AANLkTike2hoSWpRNZivO9gXBB_89uHmKj163UdnssZrU@mail.gmail.com>	<AANLkTi=OoLZhRiM0iUadpwYx+VEPjYKoOf3MDR0wyi-a@mail.gmail.com>	<4CA0F3E5.10308@elfden.co.uk>	<AANLkTikTLSHeW9c7P4r-QK-WfO1fkaOs+XjXztGaYjKq@mail.gmail.com>	<4CA1B8CE.6010008@elfden.co.uk>
	<AANLkTikP1FNvjfM-EuEwtdHqfAceWtS2XWqVUhUhLBKw@mail.gmail.com>
Message-ID: <4CA1BFB4.1010709@elfden.co.uk>

On 28/09/2010 11:10, Frank Bueltge wrote:
> http://core.trac.wordpress.org/ticket/14980

I added to:
http://core.trac.wordpress.org/ticket/14772

as that seemed to be still active, but can repost elsewhere if needed.

Rich

From frank at bueltge.de  Tue Sep 28 10:14:12 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Tue, 28 Sep 2010 12:14:12 +0200
Subject: [wp-hackers] Forms
In-Reply-To: <4CA1BFB4.1010709@elfden.co.uk>
References: <4CA0DB0D.3040406@elfden.co.uk>
	<AANLkTike2hoSWpRNZivO9gXBB_89uHmKj163UdnssZrU@mail.gmail.com>
	<AANLkTi=OoLZhRiM0iUadpwYx+VEPjYKoOf3MDR0wyi-a@mail.gmail.com>
	<4CA0F3E5.10308@elfden.co.uk>
	<AANLkTikTLSHeW9c7P4r-QK-WfO1fkaOs+XjXztGaYjKq@mail.gmail.com>
	<4CA1B8CE.6010008@elfden.co.uk>
	<AANLkTikP1FNvjfM-EuEwtdHqfAceWtS2XWqVUhUhLBKw@mail.gmail.com>
	<4CA1BFB4.1010709@elfden.co.uk>
Message-ID: <AANLkTi==6nJQV6Cx_p5D_PukSv7p8Hqp1_UkD8qMRGur@mail.gmail.com>

now i have read :)


On Tue, Sep 28, 2010 at 12:13 PM, Rich Pedley <elfin at elfden.co.uk> wrote:

> On 28/09/2010 11:10, Frank Bueltge wrote:
>
>> http://core.trac.wordpress.org/ticket/14980
>>
>
> I added to:
> http://core.trac.wordpress.org/ticket/14772
>
> as that seemed to be still active, but can repost elsewhere if needed.
>
>
> Rich
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From liste at srpski.biz  Tue Sep 28 11:36:07 2010
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Tue, 28 Sep 2010 13:36:07 +0200
Subject: [wp-hackers] WP and IE9
In-Reply-To: <AANLkTinyytXQOJP5gV-RL9ps4Du-mXTcxvbTc46FhQ-F@mail.gmail.com>
References: <AANLkTim20zViLMY_ChbVEpcropoXazHiZeLAK=o7huZP@mail.gmail.com>
	<AANLkTim+J459HyP6RsN1vb41G-4J0VE8w61R=MfNsOPH@mail.gmail.com>
	<AANLkTinyytXQOJP5gV-RL9ps4Du-mXTcxvbTc46FhQ-F@mail.gmail.com>
Message-ID: <AANLkTi=isJJ6V5LcwzpuHqDjY7Nrrfhw+N3SxuqK-XkC@mail.gmail.com>

Backend of trunk should be checked carefully for compatibility with IE9
because there are issues in 3.0.1.

2010/9/28 Scott Bressler <sbressler at gmail.com>

> Awesome, figured it must have been, thanks for pointing me to it
>
> On Tue, Sep 28, 2010 at 12:22 AM, Navjot Singh <navjotjsingh at gmail.com
> >wrote:
>
> > It has already been addressed and fixed in this ticket:
> > http://core.trac.wordpress.org/ticket/14883
> >
> > Regards
> > Navjot Singh
> >
> > On Tue, Sep 28, 2010 at 12:43 PM, Scott Bressler <sbressler at gmail.com
> > >wrote:
> >
> > > Has anyone noticed how Twenty Ten headers are broken in IE9. They get
> > > pushed
> > > a full 500-600 pixels to the right for some reason. Haven't had time to
> > > investigate the cause, but this should probably be investigated (though
> > it
> > > could obviously still be a long time before IE9 ships).
> > >
> > > -Scott
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From yok2504 at gmail.com  Tue Sep 28 12:55:47 2010
From: yok2504 at gmail.com (Sinan)
Date: Tue, 28 Sep 2010 15:55:47 +0300
Subject: [wp-hackers] What is the Taxonomy Show Function
In-Reply-To: <AANLkTi=vzwkkwE-3RLKcP8cDwwONhuDL+-TR1Ypzz3Q0@mail.gmail.com>
References: <AANLkTim5iYRcL0vzmxCdT+=4HKFb7bQcrKD+pMVWR3G3@mail.gmail.com>
	<AANLkTimzxkR1_zLQkZ3yE+Hp+uVaqKsQJpRqVxRYpPsS@mail.gmail.com>
	<AANLkTi=D7f-FddSH_TX4OKvBPL4T_wGdw7p_EuGc+Gfg@mail.gmail.com>
	<AANLkTi=vzwkkwE-3RLKcP8cDwwONhuDL+-TR1Ypzz3Q0@mail.gmail.com>
Message-ID: <AANLkTik6WsswZSW84wmV7=Eo4K6G2VyxPr15yh1M_RXr@mail.gmail.com>

hello again

? use this get_the_term_list(); function but this function get like "<a
href="postadress">taxonomy</a>" ? dont want the links "<a
href="postadress"></a>" ? want only "taxonomys" text print how can ? echo
like that ?




2010/9/12 John Blackbourn <johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
>

> Also the_terms() is similar to get_the_term_list() but prints out the
> terms for you.
> http://codex.wordpress.org/Function_Reference/the_terms
>
> On Sat, Sep 11, 2010 at 9:03 PM, Erick Hitter <ehitter at gmail.com> wrote:
> > Sinan,
> >
> > Take a look at get_the_term_list(),
> > http://codex.wordpress.org/Function_Reference/get_the_term_list.
> >
> > Erick
> >
> > On Sep 11, 2010 3:54 PM, "Sinan" <yok2504 at gmail.com> wrote:
> > Hello,
> >
> > maybe easy question that but ? dont know :) I'm sorry for that
> >
> >
> > how can ? show adding post taxonomys show the single.php, what is the
> list
> > function
> >
> > example: the_tags(); showing the tags
> >
> > ? need the show taxonomys, what is the taxonomy show function?
> >
> >
> > thankyou
> >
> > --
> >    Sinan ??LER
> > www.sinanisler.com
> > sinanisler.deviantart.com
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
     Sinan ??LER
www.sinanisler.com
sinanisler.deviantart.com

From chris at c3mdigital.com  Tue Sep 28 12:59:23 2010
From: chris at c3mdigital.com (Chris Olbekson)
Date: Tue, 28 Sep 2010 07:59:23 -0500
Subject: [wp-hackers] WP and IE9
Message-ID: <AANLkTikEp+7JeJ=dcU=7YgkE0NLyu1y5vKGv4f3Q+0vL@mail.gmail.com>

Scott,

See this ticket: http://core.trac.wordpress.org/ticket/14883
 <http://core.trac.wordpress.org/ticket/14883>The patch is already in trunk.


 [image: C3MDigital.com] <http://c3mdigital.com>
[image: Facebook] <http://facebook.com/c3mdigital> [image:
LinkedIn]<http://www.linkedin.com/in/olbekson> [image:
Google] <http://www.google.com/profiles/c3mdigital> [image:
Twitter]<http://twitter.com/chris_olbekson> [image:
Flickr] <http://flickr.com/photos/chris_olbekson> [image:
WordPress]<http://wordpress.org/support/profile/3629249>

From yok2504 at gmail.com  Tue Sep 28 13:00:50 2010
From: yok2504 at gmail.com (Sinan)
Date: Tue, 28 Sep 2010 16:00:50 +0300
Subject: [wp-hackers] What is the Taxonomy Show Function
In-Reply-To: <AANLkTik6WsswZSW84wmV7=Eo4K6G2VyxPr15yh1M_RXr@mail.gmail.com>
References: <AANLkTim5iYRcL0vzmxCdT+=4HKFb7bQcrKD+pMVWR3G3@mail.gmail.com>
	<AANLkTimzxkR1_zLQkZ3yE+Hp+uVaqKsQJpRqVxRYpPsS@mail.gmail.com>
	<AANLkTi=D7f-FddSH_TX4OKvBPL4T_wGdw7p_EuGc+Gfg@mail.gmail.com>
	<AANLkTi=vzwkkwE-3RLKcP8cDwwONhuDL+-TR1Ypzz3Q0@mail.gmail.com>
	<AANLkTik6WsswZSW84wmV7=Eo4K6G2VyxPr15yh1M_RXr@mail.gmail.com>
Message-ID: <AANLkTin+Q2mxZ-Nd2fs32QnYOvXZnMCXWKfLnxCS0D3Q@mail.gmail.com>

I figured out here is the codes;

$terms_as_text = strip_tags( get_the_term_list( $wp_query->post->ID,
'taxonomyyouwanttoquery', '', ', ', '' ) );
echo $terms_as_text;


28 Eyl?l 2010 15:55 tarihinde Sinan <yok2504 at gmail.com> yazd?:
>
> hello again
> ? use this get_the_term_list(); function but this function get like "<a
href="postadress">taxonomy</a>" ? dont want the links "<a
href="postadress"></a>" ? want only "taxonomys" text print how can ? echo
like that ?
>
>
>
> 2010/9/12 John Blackbourn <johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
>
>>
>> Also the_terms() is similar to get_the_term_list() but prints out the
>> terms for you.
>> http://codex.wordpress.org/Function_Reference/the_terms
>>
>> On Sat, Sep 11, 2010 at 9:03 PM, Erick Hitter <ehitter at gmail.com> wrote:
>> > Sinan,
>> >
>> > Take a look at get_the_term_list(),
>> > http://codex.wordpress.org/Function_Reference/get_the_term_list.
>> >
>> > Erick
>> >
>> > On Sep 11, 2010 3:54 PM, "Sinan" <yok2504 at gmail.com> wrote:
>> > Hello,
>> >
>> > maybe easy question that but ? dont know :) I'm sorry for that
>> >
>> >
>> > how can ? show adding post taxonomys show the single.php, what is the
list
>> > function
>> >
>> > example: the_tags(); showing the tags
>> >
>> > ? need the show taxonomys, what is the taxonomy show function?
>> >
>> >
>> > thankyou
>> >
>> > --
>> >    Sinan ??LER
>> > www.sinanisler.com
>> > sinanisler.deviantart.com
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
> --
>      Sinan ??LER
> www.sinanisler.com
> sinanisler.deviantart.com



--
     Sinan ??LER
www.sinanisler.com
sinanisler.deviantart.com

From jayarjo at gmail.com  Tue Sep 28 13:48:24 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Tue, 28 Sep 2010 17:48:24 +0400
Subject: [wp-hackers] Blogger Importer seems to be broken.
Message-ID: <AANLkTinPTbn9HQva5zCt5QYa8b9VyDHksEAHNV3psE1o@mail.gmail.com>

I was importing blog from blogger to standalone wordpress with regular
blogger importer plugin
(http://wordpress.org/extend/plugins/blogger-importer/) and got a
garbage instead of post content. '<' and '>' brackets were stripped
from html everywhere. I tried to troubleshoot it somehow and came to a
conclusion that an error happens somewhere in the AtomParser class,
which for some reason comes with the importer plugin and differs from
the one that comes with WordPress. However I'm not exactly familiar
with this part of WP and PHP, so I just thought I'd ask first before
plunging in the depths of it.

I tried to import the very same blog with visually the same importer
plugin on WordPress.com and it went as expected and imported all the
posts cleanly. Are they the same plugins indeed?

What could be a potential problem?

If plugins are identical, then I guess this should have something with
server configuration maybe?


-- 
Davit Barbakadze

From wordpress at santosj.name  Tue Sep 28 14:22:05 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Tue, 28 Sep 2010 09:22:05 -0500
Subject: [wp-hackers] WP and IE9
In-Reply-To: <AANLkTikEp+7JeJ=dcU=7YgkE0NLyu1y5vKGv4f3Q+0vL@mail.gmail.com>
References: <AANLkTikEp+7JeJ=dcU=7YgkE0NLyu1y5vKGv4f3Q+0vL@mail.gmail.com>
Message-ID: <AANLkTi=SErVBFLdmbKNLA6+KrLZEAz1tVU=RnUcc1UM6@mail.gmail.com>

Ever notice that two people respond with the same information? Yeah, how
about we don't do this?

Person 1: Request for information or clarification or says something that
requires spanking.

Person 2: Replies with corrected information and, or clarification or
spanking.

Person 3: Replies with same information as Person 2, but sometimes with a
little bit more clarification that wasn't needed.

Me: WTF? did that person reply with the same information as the second
person? Did he not read the thread first?

Jacob Santos



On Tue, Sep 28, 2010 at 7:59 AM, Chris Olbekson <chris at c3mdigital.com>wrote:

> Scott,
>
> See this ticket: http://core.trac.wordpress.org/ticket/14883
>  <http://core.trac.wordpress.org/ticket/14883>The patch is already in
> trunk.
>
>
>  [image: C3MDigital.com] <http://c3mdigital.com>
> [image: Facebook] <http://facebook.com/c3mdigital> [image:
> LinkedIn]<http://www.linkedin.com/in/olbekson> [image:
> Google] <http://www.google.com/profiles/c3mdigital> [image:
> Twitter]<http://twitter.com/chris_olbekson> [image:
> Flickr] <http://flickr.com/photos/chris_olbekson> [image:
> WordPress]<http://wordpress.org/support/profile/3629249>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From christian.foster at gmail.com  Tue Sep 28 14:25:19 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Tue, 28 Sep 2010 15:25:19 +0100
Subject: [wp-hackers] Order posts by time of their last comment
In-Reply-To: <620DBF58-F5A3-46CD-8AF3-8EC21AC5E327@newclarity.net>
References: <AANLkTinee3YZN75N9RroGnJW-u=60ysKfNJvTjHr_n+c@mail.gmail.com>
	<AANLkTi=DJgZgMs0FZdtoNFeL_XRVb0oWeU_hH5S8BBum@mail.gmail.com>
	<620DBF58-F5A3-46CD-8AF3-8EC21AC5E327@newclarity.net>
Message-ID: <AANLkTimsL=fn-mFH0JNQ-YR1kO+21k41tTNt-TiAMxO=@mail.gmail.com>

Thanks for your replies - I went for a timestamp in a post meta field
- when a comment is inserted it updates the post with the timestamp of
the comment, and when a post is published it also gets a timestamp.
This way they can both be in the list with/without comments and we
just sort on one meta field.

I am not sure of the consequence of ordering a large number of items
but in the docs it down mention you can sort using a numerical value
in a post meta key - orderby=meta_value_num. I haven't looked through
the code as yet to see what difference it makes.

On Mon, Sep 27, 2010 at 10:21 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> On Sep 27, 2010, at 3:29 PM, Aaron Jorbin wrote:
>> On 9/27/10, Christian Foster <christian.foster at gmail.com> wrote:
>>> I have a requirement to list posts by the time of their last comment.
>>> I am trying to keep it simple, the current page which lists by other
>>> factors like post type uses a slightly modified pagination function
>>> with a pre_get_posts filter to set the required query parameters, we
>>> have tens of thousands of posts of different types so the pagination
>>> is very important.
>>>
>>> Can anyone think of a good way to sort a large number of posts by the
>>> date of their last comment? Is it then possible to use the same
>>> pagination function and posts_per_page/paged query variables?
>>
>> I would add a post_meta field for the date/time of most recent comment
>> and hook into comment_post and wp_set_comment_status to update it. You
>> can then order by the meta value.
>
> Personally I would recommend against ordering tens of thousands of records on a longtext value. ?That's why I recommended using the term_order field of the wp_term_relationships table so he can order based on an efficient int rather than an inefficient longtext.
>
> Of course I probably should have mentioned that he might want to add an index on the term_order field to improve performance even more.
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From christian.foster at gmail.com  Tue Sep 28 14:34:03 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Tue, 28 Sep 2010 15:34:03 +0100
Subject: [wp-hackers] Limiting number of terms in admin section edit screen
Message-ID: <AANLkTikL327uin+kSCxGO94jMGCoY0-TQaBeh3rQOih4@mail.gmail.com>

Hi,

I've just imported 27000 taxonomy terms, but the admin screen keeps
freezing for long periods when editing posts as it tries to load all
of them into the checkbox list.

Does anyone know of a way to limit the number that appear? It is
hierarchical, but I would probably prefer the same meta box that you
get when you have a flat taxonomy and have to type the term in.

I haven't found anything that does this so I might try and wrap it in
a plugin - I think ideally anyone with a large number would only want
to select by typing or have a collapsible tree.

Cheers,

Chris.

From christian.foster at gmail.com  Tue Sep 28 14:48:34 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Tue, 28 Sep 2010 15:48:34 +0100
Subject: [wp-hackers] Limiting number of terms in admin section edit
	screen
In-Reply-To: <AANLkTikL327uin+kSCxGO94jMGCoY0-TQaBeh3rQOih4@mail.gmail.com>
References: <AANLkTikL327uin+kSCxGO94jMGCoY0-TQaBeh3rQOih4@mail.gmail.com>
Message-ID: <AANLkTimSmiig13F9DhpyRgqBHvjW_NNx3W4ShW5+WUQc@mail.gmail.com>

As a follow up it needs to restrict on the post list screen as well as
the quick edit tries to load them all as well...

On Tue, Sep 28, 2010 at 3:34 PM, Christian Foster
<christian.foster at gmail.com> wrote:
> Hi,
>
> I've just imported 27000 taxonomy terms, but the admin screen keeps
> freezing for long periods when editing posts as it tries to load all
> of them into the checkbox list.
>
> Does anyone know of a way to limit the number that appear? It is
> hierarchical, but I would probably prefer the same meta box that you
> get when you have a flat taxonomy and have to type the term in.
>
> I haven't found anything that does this so I might try and wrap it in
> a plugin - I think ideally anyone with a large number would only want
> to select by typing or have a collapsible tree.
>
> Cheers,
>
> Chris.
>

From wphax at nullamatix.com  Tue Sep 28 15:27:04 2010
From: wphax at nullamatix.com (Guy)
Date: Tue, 28 Sep 2010 11:27:04 -0400
Subject: [wp-hackers] Passing Key but Not Value?
Message-ID: <AANLkTimMCaYt9ihk-zVRm5Fitvf2y=G_W4zcCVObTnBQ@mail.gmail.com>

y0,

The following snippet of code exists in my theme's functions.php. The
code works as intended with the exception of the Value in arr_tmp. The
idea is to scan the_content for a list of defined acronyms and replace
the acronym in the_content with: <acronym title="The Acronym
Title">TAT</acronym>. Seems simple enough, but the title="" just isn't
showing up...

What am I missing/doing wrong here? Obviously I'm not a developer,
just pretend to be on TV :P

Code:
http://sprunge.us/ZEVY?php

Regards,

Guy

From gaarai at gaarai.com  Tue Sep 28 15:54:40 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Tue, 28 Sep 2010 10:54:40 -0500
Subject: [wp-hackers] Passing Key but Not Value?
In-Reply-To: <AANLkTimMCaYt9ihk-zVRm5Fitvf2y=G_W4zcCVObTnBQ@mail.gmail.com>
References: <AANLkTimMCaYt9ihk-zVRm5Fitvf2y=G_W4zcCVObTnBQ@mail.gmail.com>
Message-ID: <4CA20FC0.2080801@gaarai.com>

Here's what I came up with: http://sprunge.us/ZUOU

Your basic problem is that you stored the description no where. Your 
code was trying to find the description in the regular expression match, 
which doesn't make sense as the regex wouldn't match a description that 
didn't exist in the original text.

So, I turned the $acronyms global into an associative array that stores 
the acronym and the description. This is then used to generate an array 
of regular expressions that is fed to the preg_replace_callback. The 
callback then uses the global $acronyms array to put everything together.

While making the changes, I removed the 's' modifier for the regular 
expression as it wasn't needed, used preg_quote to ensure that the 
acronym text didn't break the regular expression, and added code to 
handle case differences in the matches. The output will normalize the 
capitalization of the match to fit the capitalization of the acronym in 
the array, so instances of "SSH", "ssh", or "sSH" will all print as "SSH".

Chris Jean (AKA gaarai&  chrisbliss18)
Coder for http://ithemes.com/
http://gaarai.com/
@chrisjean


On 09/28/2010 10:27 AM, Guy wrote:
> y0,
>
> The following snippet of code exists in my theme's functions.php. The
> code works as intended with the exception of the Value in arr_tmp. The
> idea is to scan the_content for a list of defined acronyms and replace
> the acronym in the_content with:<acronym title="The Acronym
> Title">TAT</acronym>. Seems simple enough, but the title="" just isn't
> showing up...
>
> What am I missing/doing wrong here? Obviously I'm not a developer,
> just pretend to be on TV :P
>
> Code:
> http://sprunge.us/ZEVY?php
>
> Regards,
>
> Guy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    

From otto at ottodestruct.com  Tue Sep 28 15:57:24 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 28 Sep 2010 10:57:24 -0500
Subject: [wp-hackers] Passing Key but Not Value?
In-Reply-To: <AANLkTimMCaYt9ihk-zVRm5Fitvf2y=G_W4zcCVObTnBQ@mail.gmail.com>
References: <AANLkTimMCaYt9ihk-zVRm5Fitvf2y=G_W4zcCVObTnBQ@mail.gmail.com>
Message-ID: <AANLkTinpK4bRXEnQrRi9P-UoFwSQ0V-+f2M3Vm544JC9@mail.gmail.com>

Well, the $acronyms array doesn't have the replacement values in it,
so $matches[2] doesn't have anything in it. Nor could it, in fact,
because that's not what you're matching on anyway.

Pretty much, you're just doing it wrong. Try something more like this:

$arr_tmp = array(
'LAN' => 'Local Area Network',
'DHCP' => 'Dynamic Host Control Protocol',
'SSH' => 'Secure Shell',
'FTP' => 'File Transfer Protocol',
'SFTP' => 'Secure File Transfer Protocol',
);
foreach ($arr_temp as $s=>$r) {
$search[] = $s;
$replace[] = "<acronym title='$r'>$s</acronym>";
}
$text= str_replace($search, $replace, $text);

You'll also find that that is one heck of a lot faster than using
regular expression functions.

-Otto



On Tue, Sep 28, 2010 at 10:27 AM, Guy <wphax at nullamatix.com> wrote:
> y0,
>
> The following snippet of code exists in my theme's functions.php. The
> code works as intended with the exception of the Value in arr_tmp. The
> idea is to scan the_content for a list of defined acronyms and replace
> the acronym in the_content with: <acronym title="The Acronym
> Title">TAT</acronym>. Seems simple enough, but the title="" just isn't
> showing up...
>
> What am I missing/doing wrong here? Obviously I'm not a developer,
> just pretend to be on TV :P
>
> Code:
> http://sprunge.us/ZEVY?php
>
> Regards,
>
> Guy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chris at c3mdigital.com  Tue Sep 28 16:31:55 2010
From: chris at c3mdigital.com (Chris Olbekson)
Date: Tue, 28 Sep 2010 11:31:55 -0500
Subject: [wp-hackers] WP and IE9
Message-ID: <AANLkTik5RDmjtavqi9tSgtXEEgu_8QkVj-JG5Uc07HD-@mail.gmail.com>

>
> Message: 5
> Date: Tue, 28 Sep 2010 09:22:05 -0500
> From: Jacob Santos <wordpress at santosj.name>
> Subject: Re: [wp-hackers] WP and IE9
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTi=SErVBFLdmbKNLA6+KrLZEAz1tVU=RnUcc1UM6 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Ever notice that two people respond with the same information? Yeah, how
> about we don't do this?
>
> Person 1: Request for information or clarification or says something that
> requires spanking.
>
> Person 2: Replies with corrected information and, or clarification or
> spanking.
>
> Person 3: Replies with same information as Person 2, but sometimes with a
> little bit more clarification that wasn't needed.
>
> Me: WTF? did that person reply with the same information as the second
> person? Did he not read the thread first?
>
> Jacob Santos


If I would have seen the first response then I wouldn't have responded.  I
receive my list mail batched in a daily digest and my daily digest did not
include the response.  Changing my subscription now to avoid this in the
future.

From jer at simianuprising.com  Tue Sep 28 16:37:24 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Tue, 28 Sep 2010 12:37:24 -0400
Subject: [wp-hackers] Order posts by time of their last comment
In-Reply-To: <AANLkTinee3YZN75N9RroGnJW-u=60ysKfNJvTjHr_n+c@mail.gmail.com>
References: <AANLkTinee3YZN75N9RroGnJW-u=60ysKfNJvTjHr_n+c@mail.gmail.com>
Message-ID: <AANLkTikgftW9Hy3EUGPRONZQm8OXgzNk4EJtPHZzAjm3@mail.gmail.com>

On Mon, Sep 27, 2010 at 9:08 AM, Christian Foster <
christian.foster at gmail.com> wrote:

>
> Can anyone think of a good way to sort a large number of posts by the
> date of their last comment? Is it then possible to use the same
> pagination function and posts_per_page/paged query variables?
>
>
My solution to this problem involves an extra query but simplifies the rest
of the problem out of existence.

Just do a get_comments() query with a relatively high posts_per_page (or
whatever it is for comments) to get the most recent comments, then use their
parent data to figure out the posts they are on. Those are the most recently
commented posts.

This works great as both queries are cheap and no extra infrastructure is
required (a post_meta for almost every post is a bummer, and like others
have said that postmeta query won't be fast either).

The trick is getting enough comments that you're sure they'll be from
multiple posts. I haven't run into issues by setting it around 20, but if
you have a site where 1 post is likely to get all the recent comments you
might have to set it so high that it gets awkward, in which case your
postmeta solution could theoretically be better. That said I still think my
way is better. If you cache the results of this in a transient then fetching
even 200 comments would have a negligible impact on performance and you
aren't filling your postmeta table with junk just for this one display need.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From jer at simianuprising.com  Tue Sep 28 16:43:05 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Tue, 28 Sep 2010 12:43:05 -0400
Subject: [wp-hackers] Limiting number of terms in admin section edit
	screen
In-Reply-To: <AANLkTikL327uin+kSCxGO94jMGCoY0-TQaBeh3rQOih4@mail.gmail.com>
References: <AANLkTikL327uin+kSCxGO94jMGCoY0-TQaBeh3rQOih4@mail.gmail.com>
Message-ID: <AANLkTinaQjepUFWRWBidGrJHgNXAJk7pXUJcE5nhHa=h@mail.gmail.com>

On Tue, Sep 28, 2010 at 10:34 AM, Christian Foster <
christian.foster at gmail.com> wrote:

>
> I've just imported 27000 taxonomy terms, but the admin screen keeps
> freezing for long periods when editing posts as it tries to load all
> of them into the checkbox list.
>
>
You should seriously consider setting these up as non-hierarchical/tag
taxonomies instead of category-style. Trying to limit the number of
checklist categories will be a nightmare and likely involve rewriting the
whole box and replacing it.

Why can't you use tag-style? Whatever the hierarchy is, could you instead
use multiple tag-style taxonomies that break up the labels into sets?

Also: When you have that many terms it makes me question your decision to
use taxonomy. Do you even have a post for each term in your system? Why not
use postmeta if the data you need to save is so varied?

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From jane at automattic.com  Tue Sep 28 19:17:34 2010
From: jane at automattic.com (Jane Wells)
Date: Tue, 28 Sep 2010 15:17:34 -0400
Subject: [wp-hackers] WP and IE9
In-Reply-To: <AANLkTi=SErVBFLdmbKNLA6+KrLZEAz1tVU=RnUcc1UM6@mail.gmail.com>
References: <AANLkTikEp+7JeJ=dcU=7YgkE0NLyu1y5vKGv4f3Q+0vL@mail.gmail.com>
	<AANLkTi=SErVBFLdmbKNLA6+KrLZEAz1tVU=RnUcc1UM6@mail.gmail.com>
Message-ID: <4CA23F4E.2050304@automattic.com>

On 9/28/10 10:22 AM, Jacob Santos wrote:
> Ever notice that two people respond with the same information? Yeah, how
> about we don't do this?
Sometimes people get the list emails at different times based on their 
various email servers, and are writing replies at the same time or after 
an earlier response without knowing it. Let's not discourage people from 
trying to help with problems. Also, if only one person responds and it's 
a person that no one knows much about, it would be foolish to 
automatically assume the information is correct. I don't see a problem 
with people corroborating advice/information.
Jane

From sbressler at gmail.com  Tue Sep 28 20:57:07 2010
From: sbressler at gmail.com (Scott Bressler)
Date: Tue, 28 Sep 2010 13:57:07 -0700
Subject: [wp-hackers] WP and IE9
In-Reply-To: <4CA23F4E.2050304@automattic.com>
References: <AANLkTikEp+7JeJ=dcU=7YgkE0NLyu1y5vKGv4f3Q+0vL@mail.gmail.com>
	<AANLkTi=SErVBFLdmbKNLA6+KrLZEAz1tVU=RnUcc1UM6@mail.gmail.com>
	<4CA23F4E.2050304@automattic.com>
Message-ID: <AANLkTikd1T9AY3ndo7kBvG3=bo91K5VHzJWN4JqMUAN6@mail.gmail.com>

I agree with Jane. Thanks to both Navjot and Chris for pointing me in the
right direction. Updated from trunk and everything looks dandy in IE9. I see
that the milestone right now is WordPress.org site; is this fix going to be
part of 3.0.2 or at least 3.1 I hope?

On Tue, Sep 28, 2010 at 12:17 PM, Jane Wells <jane at automattic.com> wrote:

> On 9/28/10 10:22 AM, Jacob Santos wrote:
>
>> Ever notice that two people respond with the same information? Yeah, how
>> about we don't do this?
>>
> Sometimes people get the list emails at different times based on their
> various email servers, and are writing replies at the same time or after an
> earlier response without knowing it. Let's not discourage people from trying
> to help with problems. Also, if only one person responds and it's a person
> that no one knows much about, it would be foolish to automatically assume
> the information is correct. I don't see a problem with people corroborating
> advice/information.
> Jane
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Tue Sep 28 21:22:54 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 28 Sep 2010 17:22:54 -0400
Subject: [wp-hackers] WP and IE9
In-Reply-To: <AANLkTikd1T9AY3ndo7kBvG3=bo91K5VHzJWN4JqMUAN6@mail.gmail.com>
References: <AANLkTikEp+7JeJ=dcU=7YgkE0NLyu1y5vKGv4f3Q+0vL@mail.gmail.com>
	<AANLkTi=SErVBFLdmbKNLA6+KrLZEAz1tVU=RnUcc1UM6@mail.gmail.com>
	<4CA23F4E.2050304@automattic.com>
	<AANLkTikd1T9AY3ndo7kBvG3=bo91K5VHzJWN4JqMUAN6@mail.gmail.com>
Message-ID: <AANLkTinX7t2VzqSN_M_Rd6KZ2VyWKhrJnR6LMQ3pdi4f@mail.gmail.com>

On Tue, Sep 28, 2010 at 4:57 PM, Scott Bressler <sbressler at gmail.com> wrote:

> I agree with Jane. Thanks to both Navjot and Chris for pointing me in the
> right direction. Updated from trunk and everything looks dandy in IE9. I
> see
> that the milestone right now is WordPress.org site; is this fix going to be
> part of 3.0.2 or at least 3.1 I hope?


Great thing about the default theme is that since it is in the themes repo,
it isn't bound to our core release cycle.

I'll follow up with Ian about a 1.0.4 release. There are some funky image
handling bugs that are fixed in trunk as well.

From mikeschinkel at newclarity.net  Tue Sep 28 21:50:14 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 28 Sep 2010 17:50:14 -0400
Subject: [wp-hackers] Order posts by time of their last comment
In-Reply-To: <AANLkTimsL=fn-mFH0JNQ-YR1kO+21k41tTNt-TiAMxO=@mail.gmail.com>
References: <AANLkTinee3YZN75N9RroGnJW-u=60ysKfNJvTjHr_n+c@mail.gmail.com>
	<AANLkTi=DJgZgMs0FZdtoNFeL_XRVb0oWeU_hH5S8BBum@mail.gmail.com>
	<620DBF58-F5A3-46CD-8AF3-8EC21AC5E327@newclarity.net>
	<AANLkTimsL=fn-mFH0JNQ-YR1kO+21k41tTNt-TiAMxO=@mail.gmail.com>
Message-ID: <2534EE06-BD1A-4769-A66B-467C75C9AFA2@newclarity.net>

On Sep 28, 2010, at 10:25 AM, Christian Foster wrote:
> I am not sure of the consequence of ordering a large number of items
> but in the docs it down mention you can sort using a numerical value
> in a post meta key - orderby=meta_value_num. I haven't looked through
> the code as yet to see what difference it makes.

There's no difference in the way WordPress stores meta_values when "orderby=meta_value_num" vs. when "orderby=meta_value"; WordPress just adds a 0 to meta_value. In a nutshell it just does this:

SELECT post_id FROM wp_postmeta ORDER BY meta_value+0

Anyway I don't know why I didn't suggest just using SQL originally but your questions got me thinking to try a code pattern that I've been planning to try for a while which is create a class to extend WP_Query.  I posted the code as a Gist on Github here:

http://gist.github.com/601838

You'd call it something like this:

$query = new PostsByLatestCommentQuery('post_type=post');
echo "<ul>";
foreach($query->posts as $post) {
   echo "<li>{$post->comment_date} ({$post->comment_count}) -- {$post->post_title}</li>";
}
echo "</ul>";

Of course you will probably want to store the results in a transient because the query is still doing a lot of work and you might not want to run for every page load.

Hope this helps.

-Mike

From lox.dev at knc.nc  Tue Sep 28 21:53:43 2010
From: lox.dev at knc.nc (Lox)
Date: Wed, 29 Sep 2010 08:53:43 +1100
Subject: [wp-hackers] wp_magic_quotes makes me sad panda
In-Reply-To: <20100927104930.8675110D88A@lists.luv.wordpress.org>
References: <20100927104930.8675110D88A@lists.luv.wordpress.org>
Message-ID: <AANLkTimJHyH+nJGxVgTf3oJ4yc34Op1GdvK=orgXek8A@mail.gmail.com>

2010/9/27 Gavin Lambert <wphack at mirality.co.nz>

> 5. Magic quotes are deprecated (and disabled by default) in PHP 5


Hi,

That makes me ask: why is Wordpress adding magic quotes whereas it has been
recognized to be a "bad practice" in PHP development ?

Regards

-- 
Lox
lox.dev at knc.nc

From ashishsainiashfame at gmail.com  Tue Sep 28 22:00:52 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Wed, 29 Sep 2010 03:30:52 +0530
Subject: [wp-hackers] Total page views per blog in WordPress Multisite
In-Reply-To: <AANLkTinhxd7toKM8EKz=H1ZpMkwCFSZec8Hz5yYDftpz@mail.gmail.com>
References: <AANLkTinhxd7toKM8EKz=H1ZpMkwCFSZec8Hz5yYDftpz@mail.gmail.com>
Message-ID: <AANLkTim3tXeYv13+NwPYTfcTouX4mMS_def_zUhOFJXF@mail.gmail.com>

Anyone?

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Mon, Sep 27, 2010 at 11:42 PM, Ashish Saini <ashishsainiashfame at gmail.com
> wrote:

> Hi there,
>
> I need to have a count of total page views per blog in WordPress Multisite
> so that I can show the top most viewed blogs in the network in a widget.
>
> I am thinking of doing it by using Post Views plugin by Lester Chan to save
> page views across the Multisite. (I hope it works with Multisite though. Any
> experiences to share?)
> Then I can get all the data from the post meta tables of all blogs and save
> them using Transient APIs.
>
> Would love to hear your thoughts on the approach. If there is an easy and
> good way of doing it other than this, I would love to know about it, doesn't
> matter even if its a premium plugin.
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter : http://twitter.com/ashfame
>

From otto at ottodestruct.com  Tue Sep 28 22:12:20 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 28 Sep 2010 17:12:20 -0500
Subject: [wp-hackers] Order posts by time of their last comment
In-Reply-To: <2534EE06-BD1A-4769-A66B-467C75C9AFA2@newclarity.net>
References: <AANLkTinee3YZN75N9RroGnJW-u=60ysKfNJvTjHr_n+c@mail.gmail.com>
	<AANLkTi=DJgZgMs0FZdtoNFeL_XRVb0oWeU_hH5S8BBum@mail.gmail.com>
	<620DBF58-F5A3-46CD-8AF3-8EC21AC5E327@newclarity.net>
	<AANLkTimsL=fn-mFH0JNQ-YR1kO+21k41tTNt-TiAMxO=@mail.gmail.com>
	<2534EE06-BD1A-4769-A66B-467C75C9AFA2@newclarity.net>
Message-ID: <AANLkTin=_pCX5ygsxCQoek6GwKewe5dVmScuwsAiD4Li@mail.gmail.com>

On Tue, Sep 28, 2010 at 4:50 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> On Sep 28, 2010, at 10:25 AM, Christian Foster wrote:
>> I am not sure of the consequence of ordering a large number of items
>> but in the docs it down mention you can sort using a numerical value
>> in a post meta key - orderby=meta_value_num. I haven't looked through
>> the code as yet to see what difference it makes.
>
> There's no difference in the way WordPress stores meta_values when "orderby=meta_value_num" vs. when "orderby=meta_value"; WordPress just adds a 0 to meta_value. In a nutshell it just does this:
>
> SELECT post_id FROM wp_postmeta ORDER BY meta_value+0

This trick basically makes MySQL treat the values as numbers instead
of as strings.

Difference:
ORDER BY meta_value: 200 comes before 40.
ORDER BY meta_value+0: 40 comes before 200.

The storage is the same. The ordering is not.

From otto at ottodestruct.com  Tue Sep 28 22:14:59 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 28 Sep 2010 17:14:59 -0500
Subject: [wp-hackers] wp_magic_quotes makes me sad panda
In-Reply-To: <AANLkTimJHyH+nJGxVgTf3oJ4yc34Op1GdvK=orgXek8A@mail.gmail.com>
References: <20100927104930.8675110D88A@lists.luv.wordpress.org>
	<AANLkTimJHyH+nJGxVgTf3oJ4yc34Op1GdvK=orgXek8A@mail.gmail.com>
Message-ID: <AANLkTikDjjiW2bGUMm_agib_GtKFnwKLaXd6OgPD4bjK@mail.gmail.com>

On Tue, Sep 28, 2010 at 4:53 PM, Lox <lox.dev at knc.nc> wrote:
> 2010/9/27 Gavin Lambert <wphack at mirality.co.nz>
>
>> 5. Magic quotes are deprecated (and disabled by default) in PHP 5
>
>
> Hi,
>
> That makes me ask: why is Wordpress adding magic quotes whereas it has been
> recognized to be a "bad practice" in PHP development ?

Older plugins that relied on magic quotes may suddenly break if WP
starts returning non-MQ values. This could open security issues.

Maybe they'll eliminate magic quotes in WP 4.0. And only allow plugins
that declare themselves 4.0 compatible to be loaded. ;)

-Otto

From mikeschinkel at newclarity.net  Tue Sep 28 22:49:05 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 28 Sep 2010 18:49:05 -0400
Subject: [wp-hackers] Limiting number of terms in admin section edit
	screen
In-Reply-To: <AANLkTinaQjepUFWRWBidGrJHgNXAJk7pXUJcE5nhHa=h@mail.gmail.com>
References: <AANLkTikL327uin+kSCxGO94jMGCoY0-TQaBeh3rQOih4@mail.gmail.com>
	<AANLkTinaQjepUFWRWBidGrJHgNXAJk7pXUJcE5nhHa=h@mail.gmail.com>
Message-ID: <D322E427-C695-45B6-945B-CDB7F10048BE@newclarity.net>

On Sep 28, 2010, at 12:43 PM, Jeremy Clarke wrote:
> On Tue, Sep 28, 2010 at 10:34 AM, Christian Foster wrote:
>> I've just imported 27000 taxonomy terms, but the admin screen keeps
>> freezing for long periods when editing posts as it tries to load all
>> of them into the checkbox list.
> 
> Also: When you have that many terms it makes me question your decision to
> use taxonomy. Do you even have a post for each term in your system? Why not
> use postmeta if the data you need to save is so varied?

I had exactly the same impression when I read about the 27,000 terms.  Make me this taxonomy may not be the best solution for the use-case...

-Mike

From mikeschinkel at newclarity.net  Tue Sep 28 22:56:50 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 28 Sep 2010 18:56:50 -0400
Subject: [wp-hackers] wp_magic_quotes makes me sad panda
In-Reply-To: <AANLkTikDjjiW2bGUMm_agib_GtKFnwKLaXd6OgPD4bjK@mail.gmail.com>
References: <20100927104930.8675110D88A@lists.luv.wordpress.org>
	<AANLkTimJHyH+nJGxVgTf3oJ4yc34Op1GdvK=orgXek8A@mail.gmail.com>
	<AANLkTikDjjiW2bGUMm_agib_GtKFnwKLaXd6OgPD4bjK@mail.gmail.com>
Message-ID: <6057B3C9-A0CD-4262-BD14-E13BB6A0F2B1@newclarity.net>

On Sep 28, 2010, at 6:14 PM, Otto wrote:
> Older plugins that relied on magic quotes may suddenly break if WP
> starts returning non-MQ values. This could open security issues.
> 
> Maybe they'll eliminate magic quotes in WP 4.0. And only allow plugins
> that declare themselves 4.0 compatible to be loaded. ;)

That brings up a question.  What are the strategies within WordPress and/or best practices by plugin authors to enable deprecation of features so that core can transition over time?

For example, here's a ticket on the admin menu system and we are working on ensuring 100% backward compatibility:

http://core.trac.wordpress.org/ticket/12718

However,the array structures used by WordPress for the admin menu system are obtuse at best and could benefit from a forklift upgrade at some point done the line, maybe 3.5 or 4.0?  Are there any strategies where we can enable this kind of evolution?  Maybe something that continues to support "the old way" but disables new features for users that continue to use plugins that don't support the newer features.  Maybe a "plugin_supports()" functionality and best practices for using them?

-Mike

From wordpress at santosj.name  Wed Sep 29 02:17:35 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Tue, 28 Sep 2010 21:17:35 -0500
Subject: [wp-hackers] wp_magic_quotes makes me sad panda
In-Reply-To: <6057B3C9-A0CD-4262-BD14-E13BB6A0F2B1@newclarity.net>
References: <20100927104930.8675110D88A@lists.luv.wordpress.org>
	<AANLkTimJHyH+nJGxVgTf3oJ4yc34Op1GdvK=orgXek8A@mail.gmail.com>
	<AANLkTikDjjiW2bGUMm_agib_GtKFnwKLaXd6OgPD4bjK@mail.gmail.com>
	<6057B3C9-A0CD-4262-BD14-E13BB6A0F2B1@newclarity.net>
Message-ID: <AANLkTi=OHbtbt4491OAcbxoCXXGeaBooLTm_Y=6-MhUw@mail.gmail.com>

Much ado about nothing.

The current behavior in WordPress /is/ best practice based on the
compatibility of all PHP systems and configurations. WordPress is still as
of this thread and this writing PHP4.3 compatible and therefore must have
the current behavior. Furthermore, just because it is disabled by default
does not mean that all hosts and PHP configurations will have it off. Some
will turn it on because of very old web applications that require and expect
it.

It isn't until a version of PHP is released that silently removes the
"feature" all together that the code should be removed. Which by the PHP
TODOs, it should be fairly soon. However, given the slow rate of adoption,
it won't be for another 5 to 6 years at the very least.

Jacob Santos

From dvmorris at gmail.com  Wed Sep 29 03:49:31 2010
From: dvmorris at gmail.com (David Morris)
Date: Tue, 28 Sep 2010 22:49:31 -0500
Subject: [wp-hackers] Trash Emptying Too Fast
Message-ID: <AANLkTimRKtPTn7WEjyJ8e1Zk6cX0c+GX0OhwEeHmu3XW@mail.gmail.com>

I had some bloggers complain that after upgrading to 3.0 their blog
post and comment trash cans are getting emptied faster than 30 days.
We have only been live on the 3.0 platform for 5 days, so I just
wanted to see if anyone out there has experienced any issues like
this. Here is a quote from one blogger:

- We noticed the trash on blogs is getting emptied very quickly,
making it?difficult to monitor blog comments.
- I'm pretty sure that before the v.3.0.1 upgrade, trash got emptied
no?sooner than 30 days after an item (post or comment) was dumped
there.

Any ideas why they might be experiencing early trash emptying like
this? I first suspected that an mu-plugin was the culprit, but I don't
see any code in our entire source tree that references
EMPTY_TRASH_DAYS other than the core WP code that sets it to 30.

Thanks for your help,
Dave

From wp at andrewnacin.com  Wed Sep 29 05:02:31 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 29 Sep 2010 01:02:31 -0400
Subject: [wp-hackers] Trash Emptying Too Fast
In-Reply-To: <AANLkTimRKtPTn7WEjyJ8e1Zk6cX0c+GX0OhwEeHmu3XW@mail.gmail.com>
References: <AANLkTimRKtPTn7WEjyJ8e1Zk6cX0c+GX0OhwEeHmu3XW@mail.gmail.com>
Message-ID: <AANLkTikYSFmythynZ1TskFu3X__MNzWEvOPNh+Mc0Gyj@mail.gmail.com>

On Tue, Sep 28, 2010 at 11:49 PM, David Morris <dvmorris at gmail.com> wrote:

> I had some bloggers complain that after upgrading to 3.0 their blog
> post and comment trash cans are getting emptied faster than 30 days.
> We have only been live on the 3.0 platform for 5 days, so I just
> wanted to see if anyone out there has experienced any issues like
> this. Here is a quote from one blogger:
> - We noticed the trash on blogs is getting emptied very quickly,
> making it difficult to monitor blog comments.
> - I'm pretty sure that before the v.3.0.1 upgrade, trash got emptied
> no sooner than 30 days after an item (post or comment) was dumped
> there.
>
> Any ideas why they might be experiencing early trash emptying like
> this? I first suspected that an mu-plugin was the culprit, but I don't
> see any code in our entire source tree that references
> EMPTY_TRASH_DAYS other than the core WP code that sets it to 30.
>

Not a clue at all. wp_scheduled_delete() in wp-includes/functions.php
handles the deletion process.

If you var_dump( EMPTY_TRASH_DAYS ), you should know what it is set to, in
case a plugin or something is modifying it. Otherwise, there is no filter or
anything of the sort to modify it in that function.

From otto at ottodestruct.com  Wed Sep 29 05:08:34 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 29 Sep 2010 00:08:34 -0500
Subject: [wp-hackers] Trash Emptying Too Fast
In-Reply-To: <AANLkTimRKtPTn7WEjyJ8e1Zk6cX0c+GX0OhwEeHmu3XW@mail.gmail.com>
References: <AANLkTimRKtPTn7WEjyJ8e1Zk6cX0c+GX0OhwEeHmu3XW@mail.gmail.com>
Message-ID: <AANLkTimcR5MtDDCU4Lgpg_FDS+T0czdM63V9DGeTbgnF@mail.gmail.com>

On Tue, Sep 28, 2010 at 10:49 PM, David Morris <dvmorris at gmail.com> wrote:
> I had some bloggers complain that after upgrading to 3.0 their blog
> post and comment trash cans are getting emptied faster than 30 days.
> We have only been live on the 3.0 platform for 5 days, so I just
> wanted to see if anyone out there has experienced any issues like
> this. Here is a quote from one blogger:
>
> - We noticed the trash on blogs is getting emptied very quickly,
> making it?difficult to monitor blog comments.
> - I'm pretty sure that before the v.3.0.1 upgrade, trash got emptied
> no?sooner than 30 days after an item (post or comment) was dumped
> there.
>
> Any ideas why they might be experiencing early trash emptying like
> this? I first suspected that an mu-plugin was the culprit, but I don't
> see any code in our entire source tree that references
> EMPTY_TRASH_DAYS other than the core WP code that sets it to 30.

The webserver's time() is actually being used to determine how old the
data is, which triggers when the trash gets emptied. Are you sure the
server isn't getting its time reset to some wrong value every so
often?

-Otto

From johan.eenfeldt at gmail.com  Wed Sep 29 08:54:57 2010
From: johan.eenfeldt at gmail.com (Johan Eenfeldt)
Date: Wed, 29 Sep 2010 10:54:57 +0200
Subject: [wp-hackers] wp_magic_quotes makes me sad panda
In-Reply-To: <AANLkTikDjjiW2bGUMm_agib_GtKFnwKLaXd6OgPD4bjK@mail.gmail.com>
References: <20100927104930.8675110D88A@lists.luv.wordpress.org>
	<AANLkTimJHyH+nJGxVgTf3oJ4yc34Op1GdvK=orgXek8A@mail.gmail.com>
	<AANLkTikDjjiW2bGUMm_agib_GtKFnwKLaXd6OgPD4bjK@mail.gmail.com>
Message-ID: <AANLkTinZxoBnkreTGCsVTY5-2eFKH-od+fXu996UPscq@mail.gmail.com>

On Wed, Sep 29, 2010 at 12:14 AM, Otto <otto at ottodestruct.com> wrote:
> On Tue, Sep 28, 2010 at 4:53 PM, Lox <lox.dev at knc.nc> wrote:
>> 2010/9/27 Gavin Lambert <wphack at mirality.co.nz>
>>
>>> 5. Magic quotes are deprecated (and disabled by default) in PHP 5
>>
>>
>> Hi,
>>
>> That makes me ask: why is Wordpress adding magic quotes whereas it has been
>> recognized to be a "bad practice" in PHP development ?
>
> Older plugins that relied on magic quotes may suddenly break if WP
> starts returning non-MQ values. This could open security issues.

Not just plugins.

Remove that forced MQ and your passwords will no longer match
(http://core.trac.wordpress.org/ticket/13655).

Quite a bit of core WordPress handles strings which might be from user
input, and not all of it is consistent. Are all callers of
wp_insert_user() or the *_metadata() functions aware that strings will
be stripslashed for example?

Are you sure? ;)

Look long enough at this stuff and you WILL find bugs
(http://core.trac.wordpress.org/ticket/14516).

/ Johan

From christian.foster at gmail.com  Wed Sep 29 14:04:40 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Wed, 29 Sep 2010 15:04:40 +0100
Subject: [wp-hackers] Limiting number of terms in admin section edit
	screen
In-Reply-To: <D322E427-C695-45B6-945B-CDB7F10048BE@newclarity.net>
References: <AANLkTikL327uin+kSCxGO94jMGCoY0-TQaBeh3rQOih4@mail.gmail.com>
	<AANLkTinaQjepUFWRWBidGrJHgNXAJk7pXUJcE5nhHa=h@mail.gmail.com>
	<D322E427-C695-45B6-945B-CDB7F10048BE@newclarity.net>
Message-ID: <AANLkTi=Lnw6au5m65FOtCH0YQv7MM3bUMsTzN3R1uLi9@mail.gmail.com>

It's for a location based system - the locations are hierarchical -
i.e. country, state, town, suburb etc. And posts in towns need to be
viewable at the state level and so on, so it behaves exactly like
hierarchichal categories would. We could use a flat hierarchy but the
parents would need to be stored (we have this is a seperate table). Is
there another way we could do this?

On Tue, Sep 28, 2010 at 11:49 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> On Sep 28, 2010, at 12:43 PM, Jeremy Clarke wrote:
>> On Tue, Sep 28, 2010 at 10:34 AM, Christian Foster wrote:
>>> I've just imported 27000 taxonomy terms, but the admin screen keeps
>>> freezing for long periods when editing posts as it tries to load all
>>> of them into the checkbox list.
>>
>> Also: When you have that many terms it makes me question your decision to
>> use taxonomy. Do you even have a post for each term in your system? Why not
>> use postmeta if the data you need to save is so varied?
>
> I had exactly the same impression when I read about the 27,000 terms. ?Make me this taxonomy may not be the best solution for the use-case...
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From christian.foster at gmail.com  Wed Sep 29 14:07:49 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Wed, 29 Sep 2010 15:07:49 +0100
Subject: [wp-hackers] Limiting number of terms in admin section edit
	screen
In-Reply-To: <AANLkTi=Lnw6au5m65FOtCH0YQv7MM3bUMsTzN3R1uLi9@mail.gmail.com>
References: <AANLkTikL327uin+kSCxGO94jMGCoY0-TQaBeh3rQOih4@mail.gmail.com>
	<AANLkTinaQjepUFWRWBidGrJHgNXAJk7pXUJcE5nhHa=h@mail.gmail.com>
	<D322E427-C695-45B6-945B-CDB7F10048BE@newclarity.net>
	<AANLkTi=Lnw6au5m65FOtCH0YQv7MM3bUMsTzN3R1uLi9@mail.gmail.com>
Message-ID: <AANLkTimc52Z6itkf1Q-Wm8f=XC8Xuhw4zykySHU8E8j5@mail.gmail.com>

I should also say we're not using the admin screens very often - it's
a front end form for editing/writing posts. It may occasionally have
to be used for dealing with flagged content though.

On Wed, Sep 29, 2010 at 3:04 PM, Christian Foster
<christian.foster at gmail.com> wrote:
> It's for a location based system - the locations are hierarchical -
> i.e. country, state, town, suburb etc. And posts in towns need to be
> viewable at the state level and so on, so it behaves exactly like
> hierarchichal categories would. We could use a flat hierarchy but the
> parents would need to be stored (we have this is a seperate table). Is
> there another way we could do this?
>
> On Tue, Sep 28, 2010 at 11:49 PM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
>> On Sep 28, 2010, at 12:43 PM, Jeremy Clarke wrote:
>>> On Tue, Sep 28, 2010 at 10:34 AM, Christian Foster wrote:
>>>> I've just imported 27000 taxonomy terms, but the admin screen keeps
>>>> freezing for long periods when editing posts as it tries to load all
>>>> of them into the checkbox list.
>>>
>>> Also: When you have that many terms it makes me question your decision to
>>> use taxonomy. Do you even have a post for each term in your system? Why not
>>> use postmeta if the data you need to save is so varied?
>>
>> I had exactly the same impression when I read about the 27,000 terms. ?Make me this taxonomy may not be the best solution for the use-case...
>>
>> -Mike
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>

From christian.foster at gmail.com  Wed Sep 29 14:21:57 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Wed, 29 Sep 2010 15:21:57 +0100
Subject: [wp-hackers] Order posts by time of their last comment
In-Reply-To: <AANLkTin=_pCX5ygsxCQoek6GwKewe5dVmScuwsAiD4Li@mail.gmail.com>
References: <AANLkTinee3YZN75N9RroGnJW-u=60ysKfNJvTjHr_n+c@mail.gmail.com>
	<AANLkTi=DJgZgMs0FZdtoNFeL_XRVb0oWeU_hH5S8BBum@mail.gmail.com>
	<620DBF58-F5A3-46CD-8AF3-8EC21AC5E327@newclarity.net>
	<AANLkTimsL=fn-mFH0JNQ-YR1kO+21k41tTNt-TiAMxO=@mail.gmail.com>
	<2534EE06-BD1A-4769-A66B-467C75C9AFA2@newclarity.net>
	<AANLkTin=_pCX5ygsxCQoek6GwKewe5dVmScuwsAiD4Li@mail.gmail.com>
Message-ID: <AANLkTikmz+Q4VqNRPvMU5xRM0f12FAVrXgS2X4Aj9LYZ@mail.gmail.com>

Thanks for all that - the key thing that I am trying to achieve is to
use a standard query (so I can do simple pagination of thousands of
posts using the inbuilt functions) but just change the ordering.

At the moment the best way seems to be to use the meta key and hook
into the wp_insert_comment or post_comment hooks so that they update a
meta field, and then use that for the ordering. The post gets the meta
value set to the time of publishing when published so even if there
are no comments it still appears in list.

Seems to work pretty well, the idea for us is that posts with a new
comment always rise to the top of the loop.

On Tue, Sep 28, 2010 at 11:12 PM, Otto <otto at ottodestruct.com> wrote:
> On Tue, Sep 28, 2010 at 4:50 PM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
>> On Sep 28, 2010, at 10:25 AM, Christian Foster wrote:
>>> I am not sure of the consequence of ordering a large number of items
>>> but in the docs it down mention you can sort using a numerical value
>>> in a post meta key - orderby=meta_value_num. I haven't looked through
>>> the code as yet to see what difference it makes.
>>
>> There's no difference in the way WordPress stores meta_values when "orderby=meta_value_num" vs. when "orderby=meta_value"; WordPress just adds a 0 to meta_value. In a nutshell it just does this:
>>
>> SELECT post_id FROM wp_postmeta ORDER BY meta_value+0
>
> This trick basically makes MySQL treat the values as numbers instead
> of as strings.
>
> Difference:
> ORDER BY meta_value: 200 comes before 40.
> ORDER BY meta_value+0: 40 comes before 200.
>
> The storage is the same. The ordering is not.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dvmorris at gmail.com  Wed Sep 29 16:34:43 2010
From: dvmorris at gmail.com (David Morris)
Date: Wed, 29 Sep 2010 11:34:43 -0500
Subject: [wp-hackers] Trash Emptying Too Fast
In-Reply-To: <AANLkTimcR5MtDDCU4Lgpg_FDS+T0czdM63V9DGeTbgnF@mail.gmail.com>
References: <AANLkTimRKtPTn7WEjyJ8e1Zk6cX0c+GX0OhwEeHmu3XW@mail.gmail.com>
	<AANLkTimcR5MtDDCU4Lgpg_FDS+T0czdM63V9DGeTbgnF@mail.gmail.com>
Message-ID: <AANLkTi=w6Q7G+mZn_BsnrQW-ZbiciKRZ4_x6Zfe6cmB2@mail.gmail.com>

Hmm, that's a good point. I will look into that. We were having
problems with multiple web server timestamps being out of sync, but
I'll check again and make sure nothing else is going on.

Thanks for your help,

Dave

On Wed, Sep 29, 2010 at 12:08 AM, Otto <otto at ottodestruct.com> wrote:
> On Tue, Sep 28, 2010 at 10:49 PM, David Morris <dvmorris at gmail.com> wrote:
>> I had some bloggers complain that after upgrading to 3.0 their blog
>> post and comment trash cans are getting emptied faster than 30 days.
>> We have only been live on the 3.0 platform for 5 days, so I just
>> wanted to see if anyone out there has experienced any issues like
>> this. Here is a quote from one blogger:
>>
>> - We noticed the trash on blogs is getting emptied very quickly,
>> making it?difficult to monitor blog comments.
>> - I'm pretty sure that before the v.3.0.1 upgrade, trash got emptied
>> no?sooner than 30 days after an item (post or comment) was dumped
>> there.
>>
>> Any ideas why they might be experiencing early trash emptying like
>> this? I first suspected that an mu-plugin was the culprit, but I don't
>> see any code in our entire source tree that references
>> EMPTY_TRASH_DAYS other than the core WP code that sets it to 30.
>
> The webserver's time() is actually being used to determine how old the
> data is, which triggers when the trash gets emptied. Are you sure the
> server isn't getting its time reset to some wrong value every so
> often?
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From steelerbg at gmail.com  Wed Sep 29 19:09:44 2010
From: steelerbg at gmail.com (SteeleR)
Date: Wed, 29 Sep 2010 22:09:44 +0300
Subject: [wp-hackers] Add additional "page statuses" through a plugin?
Message-ID: <AANLkTikORR-cFV2DtW8vfz4+ve61vXctQGFaMYczMgho@mail.gmail.com>

Hi, guy. Is there a way to add additional status to the default ones -
"Published, Pending Review, Draft" via a plugin for 3.0 ?

From wp at andrewnacin.com  Wed Sep 29 19:11:19 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 29 Sep 2010 15:11:19 -0400
Subject: [wp-hackers] Add additional "page statuses" through a plugin?
In-Reply-To: <AANLkTikORR-cFV2DtW8vfz4+ve61vXctQGFaMYczMgho@mail.gmail.com>
References: <AANLkTikORR-cFV2DtW8vfz4+ve61vXctQGFaMYczMgho@mail.gmail.com>
Message-ID: <AANLkTikqbWsAU37uAciuijdJ85wQ7DtcO4PNzF5whJrC@mail.gmail.com>

On Wed, Sep 29, 2010 at 3:09 PM, SteeleR <steelerbg at gmail.com> wrote:

> Hi, guy. Is there a way to add additional status to the default ones -
> "Published, Pending Review, Draft" via a plugin for 3.0 ?


You may wish to take a look at register_post_status(). This will however be
getting a overhaul in (likely) 3.1 as it is not very powerful at the moment,
so you will want to watch how it evolves. (It may not be 100% backwards
compatible.)

From dvmorris at gmail.com  Thu Sep 30 02:52:10 2010
From: dvmorris at gmail.com (David Morris)
Date: Wed, 29 Sep 2010 21:52:10 -0500
Subject: [wp-hackers] Trash Emptying Too Fast
In-Reply-To: <AANLkTi=w6Q7G+mZn_BsnrQW-ZbiciKRZ4_x6Zfe6cmB2@mail.gmail.com>
References: <AANLkTimRKtPTn7WEjyJ8e1Zk6cX0c+GX0OhwEeHmu3XW@mail.gmail.com>
	<AANLkTimcR5MtDDCU4Lgpg_FDS+T0czdM63V9DGeTbgnF@mail.gmail.com>
	<AANLkTi=w6Q7G+mZn_BsnrQW-ZbiciKRZ4_x6Zfe6cmB2@mail.gmail.com>
Message-ID: <AANLkTikJ=jyXUwSjrKMF0No3mFf-gg_WhVo+Ce+47MAP@mail.gmail.com>

It turns out that the early trash emptying issue only occurred on one
blog, and it was most likely caused by someone clicking the empty
trash button and not fessing up to it.

Thanks again for the help, though.

Dave Morris

From sbressler at gmail.com  Thu Sep 30 07:51:39 2010
From: sbressler at gmail.com (Scott Bressler)
Date: Thu, 30 Sep 2010 00:51:39 -0700
Subject: [wp-hackers] Twenty Ten styling
Message-ID: <AANLkTimdcdmAfXwk260DjuyBv7ZyzkA0tudu7h9yi=Na@mail.gmail.com>

No idea where the more appropriate place to put this would be, but small
issue with the Twenty Ten CSS: #content pre doesn't have overflow: auto, so
situations like the last item in my FAQ here
<http://bit.ly/sbmediacredit>can arise where the
pre-wrapped code continues outside of the content div. I'm going to fix this
on my site (so here's a screenshot <http://bit.ly/mc-screenshot> for any
late-comers), but this should probably be fixed in the distributed theme.

From kikizas at gmail.com  Thu Sep 30 10:08:49 2010
From: kikizas at gmail.com (Demetris Kikizas)
Date: Thu, 30 Sep 2010 13:08:49 +0300
Subject: [wp-hackers] Twenty Ten styling
In-Reply-To: <AANLkTimdcdmAfXwk260DjuyBv7ZyzkA0tudu7h9yi=Na@mail.gmail.com>
References: <AANLkTimdcdmAfXwk260DjuyBv7ZyzkA0tudu7h9yi=Na@mail.gmail.com>
Message-ID: <AANLkTimPM-OyUZkD0ZckXbE2YL63gR0NXy_Rvasy0Ug6@mail.gmail.com>

On Thu, Sep 30, 2010 at 10:51 AM, Scott Bressler <sbressler at gmail.com> wrote:
> No idea where the more appropriate place to put this would be, but small
> issue with the Twenty Ten CSS: #content pre doesn't have overflow: auto, so
> situations like the last item in my FAQ here
> <http://bit.ly/sbmediacredit>can arise where the
> pre-wrapped code continues outside of the content div. I'm going to fix this
> on my site (so here's a screenshot <http://bit.ly/mc-screenshot> for any
> late-comers), but this should probably be fixed in the distributed theme.

pre {
    overflow-x: auto;
    white-space: pre-wrap;
    word-wrap: break-word;
}

Maybe something like this would be more complete.

(The last declaration is for IE and it is valid CSS3, but the W3C
validator does not seem to like it for some reason.)

Another thing I do when publishing code or pre stuff is avoid very
long lines, which is good practice in any case.

Demetris
http://op111.net/code/wp-xo ? The best WordPress plugin in the Universe

From sbressler at gmail.com  Thu Sep 30 17:00:19 2010
From: sbressler at gmail.com (Scott Bressler)
Date: Thu, 30 Sep 2010 10:00:19 -0700
Subject: [wp-hackers] Twenty Ten styling
In-Reply-To: <AANLkTimPM-OyUZkD0ZckXbE2YL63gR0NXy_Rvasy0Ug6@mail.gmail.com>
References: <AANLkTimdcdmAfXwk260DjuyBv7ZyzkA0tudu7h9yi=Na@mail.gmail.com>
	<AANLkTimPM-OyUZkD0ZckXbE2YL63gR0NXy_Rvasy0Ug6@mail.gmail.com>
Message-ID: <AANLkTikMQg1yQ1Y_oUGd80c0E+qTnyAKUPZ3+zeck0mX@mail.gmail.com>

Thanks, even better with that! wordpress.org should even adapt white-space:
pre-wrap for their plugin readme output!

On Thu, Sep 30, 2010 at 3:08 AM, Demetris Kikizas <kikizas at gmail.com> wrote:

> On Thu, Sep 30, 2010 at 10:51 AM, Scott Bressler <sbressler at gmail.com>
> wrote:
> > No idea where the more appropriate place to put this would be, but small
> > issue with the Twenty Ten CSS: #content pre doesn't have overflow: auto,
> so
> > situations like the last item in my FAQ here
> > <http://bit.ly/sbmediacredit>can arise where the
> > pre-wrapped code continues outside of the content div. I'm going to fix
> this
> > on my site (so here's a screenshot <http://bit.ly/mc-screenshot> for any
> > late-comers), but this should probably be fixed in the distributed theme.
>
> pre {
>    overflow-x: auto;
>    white-space: pre-wrap;
>    word-wrap: break-word;
> }
>
> Maybe something like this would be more complete.
>
> (The last declaration is for IE and it is valid CSS3, but the W3C
> validator does not seem to like it for some reason.)
>
> Another thing I do when publishing code or pre stuff is avoid very
> long lines, which is good practice in any case.
>
> Demetris
> http://op111.net/code/wp-xo ? The best WordPress plugin in the Universe
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From johnbillion+wp at gmail.com  Thu Sep 30 21:56:18 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu, 30 Sep 2010 22:56:18 +0100
Subject: [wp-hackers] Get supported post types for a given feature
Message-ID: <AANLkTinLyVDh9Mv_WbnV-wULdfwWr2Zr2JkVu14xb=k8@mail.gmail.com>

Hi all,

I have a custom feature in a plugin that can be supported by post
types by calling add_post_type_support( 'post_type',
'my-super-feature' ).

I'd like to get a list of the post types that support
'my-super-feature' so I can add a meta box to each of the supported
post type screens, but there doesn't seem to be a function that
returns all the post types that support a certain feature. I thought
we had something like get_supported_post_types('my-super-feature') but
I can't find anything like that.

Any suggestions?

John

From piemanek at gmail.com  Thu Sep 30 22:03:53 2010
From: piemanek at gmail.com (Simon Blackbourn)
Date: Thu, 30 Sep 2010 23:03:53 +0100
Subject: [wp-hackers] Get supported post types for a given feature
In-Reply-To: <AANLkTinLyVDh9Mv_WbnV-wULdfwWr2Zr2JkVu14xb=k8@mail.gmail.com>
References: <AANLkTinLyVDh9Mv_WbnV-wULdfwWr2Zr2JkVu14xb=k8@mail.gmail.com>
Message-ID: <AANLkTinqMQ=ALOjTS6FMPJVk1huhhBkmi2SiGFUV7nq0@mail.gmail.com>

> I have a custom feature in a plugin that can be supported by post
> types by calling add_post_type_support( 'post_type',
> 'my-super-feature' ).
>
> I'd like to get a list of the post types that support
> 'my-super-feature' so I can add a meta box to each of the supported
> post type screens, but there doesn't seem to be a function that
> returns all the post types that support a certain feature. I thought
> we had something like get_supported_post_types('my-super-feature') but
> I can't find anything like that.
>
> Any suggestions?
>
>

get_post_types( array( 'supports' => 'your-super-feature' ) );

(haven't tested it, but according to the codex page it looks like it should
work)

From batmoo at gmail.com  Thu Sep 30 22:05:03 2010
From: batmoo at gmail.com (Mohammad Jangda)
Date: Thu, 30 Sep 2010 18:05:03 -0400
Subject: [wp-hackers] Get supported post types for a given feature
In-Reply-To: <AANLkTinMNEAnTtodVG_Xqtw-OmM2NXUVqHnZ7LnP2yr0@mail.gmail.com>
References: <AANLkTinLyVDh9Mv_WbnV-wULdfwWr2Zr2JkVu14xb=k8@mail.gmail.com>
	<AANLkTimVxqmYmDHoi2ZtUS-NkNLvxYhFVVBpQ16Teqvx@mail.gmail.com>
	<AANLkTi=HZR9MYK_DWs6QYZi-YsinfcMibCDQZV-JssDM@mail.gmail.com>
	<AANLkTim_RMN4jq=BXnwy3ryvx4vJtCMg2YJn0YoCF+pf@mail.gmail.com>
	<AANLkTinMNEAnTtodVG_Xqtw-OmM2NXUVqHnZ7LnP2yr0@mail.gmail.com>
Message-ID: <AANLkTim8wGnW7bxcq9xdCvt9M=X+rAqE4t_9PEWtxjf9@mail.gmail.com>

You can do something like this instead:

// In the callback for your add_meta_boxes action
global $current_screen;
if( post_type_supports( 'feature-name', $current_screen->post_type ) ) {
    add_meta_box(...);
}
On Sep 30, 2010 5:56 PM, "John Blackbourn"
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>>
wrote:

From simon at flipstorm.co.uk  Thu Sep 30 22:05:25 2010
From: simon at flipstorm.co.uk (Simon Hamp)
Date: Thu, 30 Sep 2010 23:05:25 +0100
Subject: [wp-hackers] Editing the Posts List view for Custom Post Types
Message-ID: <etPan.4ca509a5.19495cff.37c@scrumpyjack.local>

Hi all,

Does anyone know of an 'easy' way to customise the Posts List (wp-admin/edit.php) for custom post types?

I'm thinking adding extra columns, sorting.... that kind of thing. But I don't want to change it for all post types, just my custom ones.

A complex example: showing a list of custom taxonomies that have been associated with each post in the table view.

Really appreciate any input.

Regards
Simon

On 2010-09-30 22:56:18 +0100, wp-hackers-bounces at lists.automattic.com Wrote:

>Hi all,
>
>I have a custom feature in a plugin that can be supported by post
>types by calling add_post_type_support( 'post_type',
>'my-super-feature' ).
>
>I'd like to get a list of the post types that support
>'my-super-feature' so I can add a meta box to each of the supported
>post type screens, but there doesn't seem to be a function that
>returns all the post types that support a certain feature. I thought
>we had something like get_supported_post_types('my-super-feature') but
>I can't find anything like that.
>
>Any suggestions?
>
>John
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Thu Sep 30 22:37:38 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 30 Sep 2010 18:37:38 -0400
Subject: [wp-hackers] Get supported post types for a given feature
In-Reply-To: <AANLkTinqMQ=ALOjTS6FMPJVk1huhhBkmi2SiGFUV7nq0@mail.gmail.com>
References: <AANLkTinLyVDh9Mv_WbnV-wULdfwWr2Zr2JkVu14xb=k8@mail.gmail.com>
	<AANLkTinqMQ=ALOjTS6FMPJVk1huhhBkmi2SiGFUV7nq0@mail.gmail.com>
Message-ID: <AANLkTinwviLD225LSybbRVBAsb3FgNQLYSi7yRNAzKdw@mail.gmail.com>

On Thu, Sep 30, 2010 at 6:03 PM, Simon Blackbourn <piemanek at gmail.com>wrote:

> get_post_types( array( 'supports' => 'your-super-feature' ) );
>
> (haven't tested it, but according to the codex page it looks like it should
> work)


I don't think that should work, but it'd be cool if it did. Mo Jangda has it
right.

From mikeschinkel at newclarity.net  Thu Sep 30 22:48:15 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 30 Sep 2010 18:48:15 -0400
Subject: [wp-hackers] Editing the Posts List view for Custom Post Types
In-Reply-To: <etPan.4ca509a5.19495cff.37c@scrumpyjack.local>
References: <etPan.4ca509a5.19495cff.37c@scrumpyjack.local>
Message-ID: <FA8E852F-DFD5-4CD2-B532-CBCCF1A7A659@newclarity.net>

On Sep 30, 2010, at 6:05 PM, Simon Hamp wrote:
> Does anyone know of an 'easy' way to customise the Posts List (wp-admin/edit.php) for custom post types?
> 
> I'm thinking adding extra columns, sorting.... that kind of thing. But I don't want to change it for all post types, just my custom ones.
> 
> A complex example: showing a list of custom taxonomies that have been associated with each post in the table view.

Hi Simon,

You might find (at least some of) what you need in this answer:

http://wordpress.stackexchange.com/questions/45/#159

Hope this helps.

-Mike

From johnbillion+wp at gmail.com  Thu Sep 30 22:52:51 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu, 30 Sep 2010 23:52:51 +0100
Subject: [wp-hackers] Get supported post types for a given feature
In-Reply-To: <AANLkTinwviLD225LSybbRVBAsb3FgNQLYSi7yRNAzKdw@mail.gmail.com>
References: <AANLkTinLyVDh9Mv_WbnV-wULdfwWr2Zr2JkVu14xb=k8@mail.gmail.com>
	<AANLkTinqMQ=ALOjTS6FMPJVk1huhhBkmi2SiGFUV7nq0@mail.gmail.com>
	<AANLkTinwviLD225LSybbRVBAsb3FgNQLYSi7yRNAzKdw@mail.gmail.com>
Message-ID: <AANLkTinp3a9qaNm08fSSzW+YKmkQjoJTwVpbv_cOLPi3@mail.gmail.com>

On Thu, Sep 30, 2010 at 11:37 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> On Thu, Sep 30, 2010 at 6:03 PM, Simon Blackbourn <piemanek at gmail.com>wrote:
>
>> get_post_types( array( 'supports' => 'your-super-feature' ) );
>>
>> (haven't tested it, but according to the codex page it looks like it should
>> work)
>
>
> I don't think that should work, but it'd be cool if it did. Mo Jangda has it
> right.

I tried the get_post_types() thing but it only works if the complete
value of the field matches (ie the whole array of features), it won't
match if just one of the supported features matches.

I suspected I was thinking about it the wrong way. Mo's code is indeed
the correct way to do it. Thanks!

> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

