From elizabeth at slatetechpdx.com  Thu Apr  1 00:45:17 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Wed, 31 Mar 2010 17:45:17 -0700
Subject: [wp-hackers] Odd wp_insert_post hook behavior MU 2.9.1.1
Message-ID: <s2uc399ae881003311745jdf69d11fr9756bd4db29328f1@mail.gmail.com>

In my plugin:
----------
public function process_article_submit($action = '') {
    // building up post
    echo "inserting ";
    $sf = wp_insert_post($post);
    echo $sf;
}

public function cache_activity_post($pid, $post) {
    error_log(' uuuuuuh '. print_r($pid, true));
    //....
}
add_action( 'wp_insert_post', array(&$fu, 'cache_activity_post') );


In post.php:
----------
echo '<pre>';print_r($post);echo '</pre>';
do_action('save_post', $post_ID, $post);
do_action('wp_insert_post', $post_ID, $post);

output:
----------
inserting

stdClass Object
(
    [ID] => 931
    [post_author] => 10
    [post_date] => 2010-03-31 17:25:17
    [post_date_gmt] => 0000-00-00 00:00:00
    [post_content] => blah blah blah

    [post_title] => Master Page File

    [post_excerpt] =>
    [post_status] => pending
    [comment_status] => open
    [ping_status] => open
    [post_password] =>
    [post_name] =>
    [to_ping] =>
    [pinged] =>
    [post_modified] => 2010-03-31 17:25:17
    [post_modified_gmt] => 0000-00-00 00:00:00
    [post_content_filtered] =>
    [post_parent] => 0
    [guid] =>
    [menu_order] => 0
    [post_type] => post
    [post_mime_type] =>
    [comment_count] => 0
    [ancestors] => Array
        (
        )

    [filter] => raw
)

931

The post inserts as expected, but the hook does not run.  However, the hook
is run upon delete, and apparently, doesn't pass $post.

error.log
------------
[Wed Mar 31 17:27:44 2010] [error] PHP Warning: Missing argument 2 for
FrontUsers::cache_activity_post() in /path/to/myclass.php on line 454,
referer: http://mydomain.com/wp-admin/edit.php
[Wed Mar 31 17:27:44 2010] [error] uuuuuuh 932, referer:
http://mydomain.com/wp-admin/edit.php
[Wed Mar 31 17:27:44 2010] [error] PHP Warning: Missing argument 2 for
FrontUsers::cache_activity_post() in /path/to/myclass.php on line 454,
referer: http://mydomain.com/wp-admin/edit.php
[Wed Mar 31 17:27:44 2010] [error] uuuuuuh 931, referer:
http://mydomain.com/wp-admin/edit.php
[Wed Mar 31 17:27:44 2010] [error] PHP Warning: Missing argument 2 for
FrontUsers::cache_activity_post() in /path/to/myclass.php on line 454,
referer: http://mydomain.com/wp-admin/edit.php
[Wed Mar 31 17:27:44 2010] [error] uuuuuuh 933, referer:
http://mydomain.com/wp-admin/edit.php
[Wed Mar 31 17:27:44 2010] [error] PHP Warning: Missing argument 2 for
FrontUsers::cache_activity_post() in /path/to/myclass.php on line 454,
referer: http://mydomain.com/wp-admin/edit.php
[Wed Mar 31 17:27:44 2010] [error] uuuuuuh 930, referer:
http://mydomain.com/wp-admin/edit.php


Any help would be appreciated.

Thanks,
Elizabeth Buckwalter

From scribu at gmail.com  Thu Apr  1 00:59:47 2010
From: scribu at gmail.com (scribu)
Date: Thu, 1 Apr 2010 03:59:47 +0300
Subject: [wp-hackers] Odd wp_insert_post hook behavior MU 2.9.1.1
In-Reply-To: <s2uc399ae881003311745jdf69d11fr9756bd4db29328f1@mail.gmail.com>
References: <s2uc399ae881003311745jdf69d11fr9756bd4db29328f1@mail.gmail.com>
Message-ID: <q2s349fe48b1003311759s7683ed8eoa5fd4098e99c426b@mail.gmail.com>

To access the $post parameter, you need to write:

add_action( 'wp_insert_post', array(&$fu, 'cache_activity_post'), 10, 2);

where 10 is the (default) priority and 2 is the arg count.

From squinn at gatech.edu  Thu Apr  1 01:01:16 2010
From: squinn at gatech.edu (Shannon Quinn)
Date: Wed, 31 Mar 2010 21:01:16 -0400
Subject: [wp-hackers] GSoC proposal for blog import/export using XML-RPC
Message-ID: <4BB3F05C.6070505@gatech.edu>

Hi all,

My name is Shannon :) I'm a long-time lurker, first-time poster, so 
please ask for clarification on anything that might be confusing. And I 
apologize in advance for the length.

I'm finishing up my master's degree in computational biology (graduated 
with a bachelor's in computer science in 2008), and I'm hoping to put my 
PHP skills to work for WordPress by augmenting the current WordPress 
import/export functionality with over-the-wire XML-RPC options that are 
pluggable for every other type of blog one would want to import from / 
export to. Here are some of the details.

* Remove the currently supported blogs from the import and make each one 
a plugin to the core import interface (though obviously WordPress would 
be installed by default, possibly even included in the core install). 
Many of the importers already use remote procedure calls to pull content 
from those blogs, so that functionality would be moved from its current 
location to a plugin whose calls would mesh with the core's API.

* Add an option to the current export functionality to send content 
over-the-wire, via XML-RPC. This, like importing, would allow the user 
to export content to blogs based on what plugins they have installed. 
Options would be available to the user to decide whether they want to 
export everything, or just published posts, or pages, or drafts, or even 
pick individual items to export.

* In both cases, a robust ability to handle large amounts of information 
as well as unplanned failures or user actions would need to be 
implemented. Currently the WordPress core handles this well by resuming 
import automatically if a user navigates away or the connection is 
terminated, and this will be included. I'd also like to investigate the 
possibility of batching these processes, or even sending them to a 
cronjob. Furthermore, I'd like to investigate the XML-RPC implementation 
itself to see if any optimizations can be made (if possible I'd love to 
work with Joseph Scott on the XML-RPC investigations to find out if any 
of that is plausible, as well as anyone else on the WordPress team who 
has a greater depth of experience with XML-RPC than myself...which is 
likely everyone), as previous work that I've done has shown that 
exporting a few thousand entries at once - even just the titles and 
bodies - can take quite awhile.

* An interesting point a few other previous posters made was about the 
transfer of binary information, e.g. images and videos. According to the 
Xmlrpc spec and the implementation used by WordPress, this is certainly 
possible over XML-RPC, but it would also incur an overhead that could 
easily translate to transfer time well beyond linear to the number of 
items being sent. At the very least I'd like to make this an option that 
is user-configurable - perhaps something which highlights the entries 
containing multimedia content stored internally and its size, allowing 
the user to pick and choose which are sent and which are kept. Again, 
this also possibly be optimized using batch processing and/or cronjobs 
to make this transfer as invisible to the user as possible.

I'll make a post about this soon on my WordPress blog 
(magsol.wordpress.com) as my official GSoC application is just about 
ready to go, but I wanted to go ahead and throw in my ideas for 
consideration. I'm happy for any sort of feedback as I would absolutely 
love the opportunity to work on this project over the summer :)

Thank you!

Regards,
Shannon

From elizabeth at slatetechpdx.com  Thu Apr  1 01:08:45 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Wed, 31 Mar 2010 18:08:45 -0700
Subject: [wp-hackers] wp-hackers Digest, Vol 63, Issue 1
In-Reply-To: <mailman.6851.1270083682.1345.wp-hackers@lists.automattic.com>
References: <mailman.6851.1270083682.1345.wp-hackers@lists.automattic.com>
Message-ID: <g2hc399ae881003311808r95e85ad3u965e5fe36c908768@mail.gmail.com>

> Message: 7
> Date: Thu, 1 Apr 2010 03:59:47 +0300
> From: scribu <scribu at gmail.com>
> Subject: Re: [wp-hackers] Odd wp_insert_post hook behavior MU 2.9.1.1
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <q2s349fe48b1003311759s7683ed8eoa5fd4098e99c426b at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> To access the $post parameter, you need to write:
>
> add_action( 'wp_insert_post', array(&$fu, 'cache_activity_post'), 10, 2);
>
> where 10 is the (default) priority and 2 is the arg count.
>
>
>

That's very helpful, but the hook doesn't run *at all* except on deleting a
post.

-- 
Thanks,
Elizabeth Buckwalter
Senior Developer
elizabeth at slatetechpdx.com
Slate Technologies LLC
http://slatetechpdx.com
6315 SE Holgate Blvd, Portland, OR
503.546.7698

From wp at andrewnacin.com  Thu Apr  1 03:37:17 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 31 Mar 2010 23:37:17 -0400
Subject: [wp-hackers] Odd wp_insert_post hook behavior MU 2.9.1.1
In-Reply-To: <q2s349fe48b1003311759s7683ed8eoa5fd4098e99c426b@mail.gmail.com>
References: <s2uc399ae881003311745jdf69d11fr9756bd4db29328f1@mail.gmail.com> 
	<q2s349fe48b1003311759s7683ed8eoa5fd4098e99c426b@mail.gmail.com>
Message-ID: <o2w4cc4de141003312037wb66ab8d4m7936a51a82440dd@mail.gmail.com>

>
> The post inserts as expected, but the hook does not run.  However, the hook
> is run upon delete, and apparently, doesn't pass $post.
>

It sounds like you simply don't have your callback in place before
wp_insert_post() gets fired. wp_insert_post() is returning a post_id, which
it only does after it has run the action (otherwise, it would return 0 or a
WP_Error object).

You can also try using something like
add_action( 'all', create_function( '', 'var_dump( current_filter() );' ) );
Which would fire off the hooks being run.

From casey.bisson at gmail.com  Thu Apr  1 03:44:10 2010
From: casey.bisson at gmail.com (Casey Bisson)
Date: Wed, 31 Mar 2010 23:44:10 -0400
Subject: [wp-hackers] memcached object cache breaking http head requests
In-Reply-To: <3ee7077c1003200716q1fc247edo2907496f49270564@mail.gmail.com>
References: <3ee7077c1003200716q1fc247edo2907496f49270564@mail.gmail.com>
Message-ID: <l2u3ee7077c1003312044oa773142ic2e864bf64b477ed@mail.gmail.com>

Recap: memcached + WP = empty headers or 503 errors. Simply removing the
memcached enabled object-cache.php file or commenting out the places where
it's initialized solves the problem (though performance suffers).

I had wondered if changes in how the cache is initialized in 3.0/trunk would
affect this (the use of wp_cache_reset() instead of   wp_cache_init seemed
as though it might be significant), but I've tried the new code without any
improvement (I've also realized that wp_cache_reset() isn't implemented in
the most current version of the object cache (
http://plugins.trac.wordpress.org/browser/memcached/trunk/ ), so the overall
behavior really hasn't changed much).

I'm seeing this problem on three different hosts...is it truly possible that
nobody else in the WordPress community has experienced it before?

On Sat, Mar 20, 2010 at 10:16 AM, Casey Bisson <casey.bisson at gmail.com>wrote:

> This is an odd one.
>
> When running WordPress MU (tested in 2.8x and 2.9x) with the memcached
> object cache active, it refuses to respond to HTTP HEAD requests. The result
> of this is that head requests to check the mimetype of a linked file (as for
> setting the enclosure) or size (as the video framework plugin does) fail.
>
> curl -I http://url.path
>
>
> returns either an empty result, or (if fronted with varnish) a 503 error.
>
> telnet site.org 80
>
>
>
> HEAD /url.path HTTP/1.1
>
> host: site.org
>
>
> returns the same.
>
> Moving object-cache.php out of /wp-content or commenting out one line (
> $this->mc[$bucket]->addServer(...) ) solves the problem. Oddly, the problem
> occurs only when wp_cache_init() is called the second time in
> wp-settings.php (if I comment out that line, the problem disappears as well,
> even though the cache was initialized previously).
>
> The problem occurs with multiple revisions memcache object-cache.php,
> including the most recent, on multiple servers with different versions of
> memcached.
> http://plugins.trac.wordpress.org/browser/memcached/trunk/
>
> I have not yet had an opportunity to test this with non-MU versions of WP
> or with /trunk/ (where it appears that calls to wp_cache_init() have been
> replaced with wp_start_object_cache() ), so there's a good chance this is MU
> specific or fixed already, but in all my searching I haven't been able to
> find any mention of the problem.
>
> I'd love to know if others have experienced this problem or solved it.
>
> --Casey
>

From elizabeth at slatetechpdx.com  Thu Apr  1 03:54:21 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Wed, 31 Mar 2010 20:54:21 -0700
Subject: [wp-hackers] wp-hackers Digest, Vol 63, Issue 1
In-Reply-To: <mailman.6851.1270083682.1345.wp-hackers@lists.automattic.com>
References: <mailman.6851.1270083682.1345.wp-hackers@lists.automattic.com>
Message-ID: <n2qc399ae881003312054sd713cc58kbb95dd3f660497f2@mail.gmail.com>

>
> Message: 6
> Date: Wed, 31 Mar 2010 17:45:17 -0700
> From: Elizabeth Buckwalter <elizabeth at slatetechpdx.com>
> Subject: [wp-hackers] Odd wp_insert_post hook behavior MU 2.9.1.1
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <s2uc399ae881003311745jdf69d11fr9756bd4db29328f1 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> In my plugin:
> ----------
> public function process_article_submit($action = '') {
>    // building up post
>    echo "inserting ";
>    $sf = wp_insert_post($post);
>    echo $sf;
> }
>
> public function cache_activity_post($pid, $post) {
>    error_log(' uuuuuuh '. print_r($pid, true));
>    //....
> }
> add_action( 'wp_insert_post', array(&$fu, 'cache_activity_post') );
>
>
>
> The post inserts as expected, but the hook does not run.  However, the hook
> is run upon delete, and apparently, doesn't pass $post.
> Any help would be appreciated.
>
> Thanks,
> Elizabeth Buckwalter
>
>

I just had a thought.  I'm using: require_once
'relative/path/to/wp-load.php';

When you use only this, do the hooks not get run?  If so, is there a way to
do that?  I'm using wp's rewrite for other stuff, would it help here, so I
can get the hooks to run?
-- 
Thanks,
Elizabeth Buckwalter

From r at schestowitz.com  Thu Apr  1 06:48:32 2010
From: r at schestowitz.com (Roy Schestowitz)
Date: Thu, 01 Apr 2010 07:48:32 +0100
Subject: [wp-hackers] WP-Hackers Stats for March 2010
Message-ID: <4BB441C0.4000102@schestowitz.com>

  -  Times are Greenwich Mean Time (GMT) +0:00

  -  Statistics span a period of one month

  -  Subject line formatted consistently "WP-Hackers Stats for <MONTH>
<YEAR>"

  -  Killfile <subject contains "WP-Hackers Stats for "> if uninterested
____________________________________________________________


Stats for wp-hackers
~~~~~~~~~~~~~~~~~~~~
***** People who have written most messages:
+----+-----Author-----------------------------------+--Msg-+-Percent-+
|  1 | mikeschinkel newclarity.net                  |   95 | 12.53 % |
|  2 | scribu gmail.com                             |   59 |  7.78 % |
|  3 | otto ottodestruct.com                        |   51 |  6.73 % |
|  4 | wp andrewnacin.com                           |   32 |  4.22 % |
|  5 | jer simianuprising.com                       |   23 |  3.03 % |
|  6 | justin.shreve gmail.com                      |   20 |  2.64 % |
|  7 | wordpress dd32.id.au                         |   19 |  2.51 % |
|  8 | john.wp onolan.org                           |   16 |  2.11 % |
|  9 | lists hikarinet.info                         |   15 |  1.98 % |
| 10 | stas nerd.ro                                 |   14 |  1.85 % |
| 11 | wp-hackers striderweb.com                    |   13 |  1.72 % |
| 12 | raphael.droz gmail.com                       |   12 |  1.58 % |
| 13 | eitanadlerlist gmail.com                     |   10 |  1.32 % |
| 14 | eric eamann.com                              |   10 |  1.32 % |
| 15 | sc0ttkclark gmail.com                        |    9 |  1.19 % |
| 16 | andrew graymerica.com                        |    9 |  1.19 % |
| 17 | dougal gunters.org                           |    9 |  1.19 % |
| 18 | bernard.d.tremblay gmail.com                 |    9 |  1.19 % |
| 19 | 24-7 gmx.net                                 |    9 |  1.19 % |
| 20 | johnbillion+wp gmail.com                     |    8 |  1.06 % |
| 21 | jpotkanski tribune.com                       |    8 |  1.06 % |
| 22 | piemanek gmail.com                           |    7 |  0.92 % |
| 23 | ralph dasralph.de                            |    7 |  0.92 % |
| 24 | zamoose gmail.com                            |    7 |  0.92 % |
| 25 | jane automattic.com                          |    7 |  0.92 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  280 | 36.94 % |
+----+----------------------------------------------+------+---------+

***** Best authors, by total size of their messages (w/o quoting):
+----+-----Author-------------------------------------------+-KBytes-+
|  1 | mikeschinkel newclarity.net                          |  111.7 |
|  2 | stas nerd.ro                                         |   54.2 |
|  3 | lists hikarinet.info                                 |   44.2 |
|  4 | otto ottodestruct.com                                |   39.7 |
|  5 | justin.shreve gmail.com                              |   36.9 |
|  6 | jer simianuprising.com                               |   33.9 |
|  7 | scribu gmail.com                                     |   28.0 |
|  8 | wp andrewnacin.com                                   |   25.5 |
|  9 | eric eamann.com                                      |   19.2 |
| 10 | wordpress dd32.id.au                                 |   17.2 |
| 11 | wp-hackers striderweb.com                            |   13.9 |
| 12 | raphael.droz gmail.com                               |   13.2 |
| 13 | 24-7 gmx.net                                         |   12.7 |
| 14 | eitanadlerlist gmail.com                             |   12.5 |
| 15 | jpotkanski tribune.com                               |   11.1 |
| 16 | sc0ttkclark gmail.com                                |   10.5 |
| 17 | perro.hunter gmail.com                               |   10.4 |
| 18 | jane automattic.com                                  |    9.1 |
| 19 | andrew graymerica.com                                |    9.0 |
| 20 | tvmanukrishnan gmail.com                             |    8.9 |
| 21 | dougal gunters.org                                   |    8.8 |
| 22 | john.wp onolan.org                                   |    8.5 |
| 23 | chinthakarukshan gmail.com                           |    8.3 |
| 24 | n.prasath.002 gmail.com                              |    7.7 |
| 25 | lomegor gmail.com                                    |    7.3 |
+----+------------------------------------------------------+--------+

***** Best authors, by average size of their message (w/o quoting):
+----+-----Author--------------------------------------------+-bytes-+
|  1 | nitin.reddy danatev.com                               |  5456 |
|  2 | stas nerd.ro                                          |  3962 |
|  3 | lists hikarinet.info                                  |  3018 |
|  4 | chinthakarukshan gmail.com                            |  2846 |
|  5 | richardjennings gmail.com                             |  2699 |
|  6 | daryl.koopersmith gmail.com                           |  2695 |
|  7 | perro.hunter gmail.com                                |  2650 |
|  8 | n.prasath.002 gmail.com                               |  2622 |
|  9 | ericgribkoff gmail.com                                |  2539 |
| 10 | lomegor gmail.com                                     |  2489 |
| 11 | tvmanukrishnan gmail.com                              |  2277 |
| 12 | stephen.tigner gmail.com                              |  2123 |
| 13 | enkrates gmail.com                                    |  2032 |
| 14 | eric eamann.com                                       |  1966 |
| 15 | justin.shreve gmail.com                               |  1889 |
| 16 | casey.bisson gmail.com                                |  1856 |
| 17 | benfavre gmail.com                                    |  1856 |
| 18 | cegert.on gmail.com                                   |  1835 |
| 19 | bradw illiams.com                                     |  1755 |
| 20 | jer simianuprising.com                                |  1510 |
| 21 | enej.bajgoric gmail.com                               |  1509 |
| 22 | 24-7 gmx.net                                          |  1439 |
| 23 | meheranandk gmail.com                                 |  1426 |
| 24 | jpotkanski tribune.com                                |  1421 |
| 25 | lionel51 gmail.com                                    |  1352 |
+----+-------------------------------------------------------+-------+

***** Table showing the most successful subjects:
+----+----Subject-----------------------------------+--Msg-+-Percent-+
|  1 | [wp-hackers] "commenter" user role           |   57 |  7.52 % |
|  2 | [wp-hackers] Idea: Widgets as custom post ty |   43 |  5.67 % |
|  3 | [wp-hackers] comments should be a plugin     |   28 |  3.69 % |
|  4 | [wp-hackers] How do you store multiple plugi |   20 |  2.64 % |
|  5 | [wp-hackers] Custom taxonomies for authors   |   18 |  2.37 % |
|  6 | [wp-hackers] User roles - GSOC proposal      |   18 |  2.37 % |
|  7 | [wp-hackers] Alternate paging URLs           |   17 |  2.24 % |
|  8 | [wp-hackers] concatinating PHP code files    |   17 |  2.24 % |
|  9 | [wp-hackers] GSOC - widget repository        |   17 |  2.24 % |
| 10 | [wp-hackers] Why WP_SITEURL and not $_SERVER |   17 |  2.24 % |
| 11 | [wp-hackers] GSoC 2010, WordPress.org Profil |   16 |  2.11 % |
| 12 | [wp-hackers] [Gsoc Idea] Tagging/Taking a sn |   13 |  1.72 % |
| 13 | [wp-hackers] "Plugin could not be activated  |   13 |  1.72 % |
| 14 | [wp-hackers] GSoC 2010: Visual CSS Editor    |   13 |  1.72 % |
| 15 | [wp-hackers] Blog Import/Export Idea - Googl |   12 |  1.58 % |
| 16 | [wp-hackers] Child themes, theme revisions,  |   12 |  1.58 % |
| 17 | [wp-hackers] [GSoC Proposal] ImageMagick Sup |   12 |  1.58 % |
| 18 | [wp-hackers] "Masking" a domain name in a wo |   11 |  1.45 % |
| 19 | [wp-hackers] Menu schema                     |   11 |  1.45 % |
| 20 | [wp-hackers] Access files inside a plugin di |   11 |  1.45 % |
| 21 | [wp-hackers] Mailing List for Plugin Selecti |   11 |  1.45 % |
| 22 | [wp-hackers] GSoC 2010                       |   11 |  1.45 % |
| 23 | [wp-hackers] get_userdata and _fill_user cau |   10 |  1.32 % |
| 24 | [wp-hackers] Custom field for enclosures     |    9 |  1.19 % |
| 25 | [wp-hackers] GSoC Proposal: Installation Sys |    9 |  1.19 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  332 | 43.80 % |
+----+----------------------------------------------+------+---------+

***** Most used email clients:
+----+----Mailer------------------------------------+--Msg-+-Percent-+
|  1 | Google Mail/Other                            |  381 | 50.26 % |
|  2 | Apple Mail (2.1077)                          |  148 | 19.53 % |
|  3 | Mozilla/5.x                                  |   38 |  5.01 % |
|  4 | Apple Mail (2.936)                           |   23 |  3.03 % |
|  5 | Microsoft Office Outlook 12.0                |   22 |  2.90 % |
|  6 | Microsoft Outlook Express 6.x                |   16 |  2.11 % |
|  7 | G2/1.0                                       |   15 |  1.98 % |
|  8 | Evolution 2.28.1                             |   14 |  1.85 % |
|  9 | Opera Mail/10.51 (Win32)                     |   12 |  1.58 % |
| 10 | Mozilla-Thunderbird 2.0.0.22 (X11/20091109)  |   11 |  1.45 % |
| 11 | Thunderbird 2.0.0.24 (Windows/20100228)      |   10 |  1.32 % |
| 12 | Mutt                                         |    7 |  0.92 % |
| 13 | Opera Mail/10.10 (Win32)                     |    7 |  0.92 % |
| 14 | Thunderbird 2.0.0.23 (Macintosh/20090812)    |    6 |  0.79 % |
| 15 | Claws Mail 3.7.5 (GTK+ 2.18.3; i486-pc-linux |    5 |  0.66 % |
| 16 | iPhone Mail (7E18)                           |    5 |  0.66 % |
| 17 | Thunderbird 2.0.0.24 (X11/20100317)          |    5 |  0.66 % |
| 18 | Industrious bit-pushing elves                |    4 |  0.53 % |
| 19 | YahooMailClassic/10.0.8 YahooMailWebService/ |    4 |  0.53 % |
| 20 | Coremail Webmail Server Version SP_ntes V3.5 |    4 |  0.53 % |
| 21 | Opera Mail/10.50 (Win32)                     |    3 |  0.40 % |
| 22 | YahooMailClassic/9.2.12 YahooMailWebService/ |    3 |  0.40 % |
| 23 | Thunderbird 2.0.0.23 (X11/20090817)          |    3 |  0.40 % |
| 24 | SquirrelMail/1.4.19                          |    2 |  0.26 % |
| 25 | Microsoft Outlook 14.0                       |    2 |  0.26 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |    8 |  1.06 % |
+----+----------------------------------------------+------+---------+

***** Table of maximal quoting:
+----+-----Author------------------------------------------+-Percent-+
|  1 | superchaser1 gmail.com                              | 97.25 % |
|  2 | aram.bv gmail.com                                   | 90.55 % |
|  3 | enej.bajgoric gmail.com                             | 85.07 % |
|  4 | richardjennings gmail.com                           | 84.76 % |
|  5 | leogermani gmail.com                                | 84.03 % |
|  6 | patrik.bona mrhead.sk                               | 83.56 % |
|  7 | kestrachern gmail.com                               | 81.40 % |
|  8 | ron cavemonkey50.com                                | 80.60 % |
|  9 | john.wp onolan.org                                  | 79.64 % |
| 10 | awgandrews gmail.com                                | 78.81 % |
| 11 | arlenbee gmail.com                                  | 74.98 % |
| 12 | charles cefm.ca                                     | 74.76 % |
| 13 | prodevstudio gmail.com                              | 74.49 % |
| 14 | frank bueltge.de                                    | 74.32 % |
| 15 | ahuja.ankit gmail.com                               | 71.18 % |
| 16 | meheranandk gmail.com                               | 69.51 % |
| 17 | hempsworth googlemail.com                           | 67.54 % |
| 18 | michael mfields.org                                 | 66.72 % |
| 19 | dave vinertech.com                                  | 66.62 % |
| 20 | juewang post.harvard.edu                            | 65.94 % |
| 21 | mpretty voceconnect.com                             | 62.41 % |
| 22 | mujtaba.boori gmail.com                             | 60.88 % |
| 23 | jayarjo gmail.com                                   | 60.82 % |
| 24 | andrew graymerica.com                               | 57.65 % |
| 25 | tim silentgap.com                                   | 56.57 % |
+----+-----------------------------------------------------+---------+
|    | average                                             | 38.69 % |
+----+-----------------------------------------------------+---------+

***** Graph showing number of messages written during hours of day:

100% -----------------------------#------------------- - 63
 90% -----------------------------#------------------- msgs
 80% ---------------------------#-#-------#-----------
 70% ---------------------------#-#-#-----#-----------
 60% ---------------------------#-#-#-#-#-#-#---#-----
 50% ---#-----------------#---#-#-#-#-#-#-#-#---#-#-#-
 40% -#-#---------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 30% -#-#-------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 20% -#-#-#-#---------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 10% -#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * *
hour  0         5           11          17          23


***** Graph showing number of messages written during days of month:

100% -----------#--------------------------------------------------- - 48
 90% ---#-------#---------------------------------#-------------#--- msgs
 80% ---#-#-----#---------------------------------#-------------#---
 70% ---#-#---#-#-------------------------------#-#-#---------#-#---
 60% ---#-#---#-#---------------------------#---#-#-#-#-------#-#---
 50% ---#-#---#-#---------------------------#---#-#-#-#-#-----#-#---
 40% ---#-#-#-#-#-----------#-------------#-#---#-#-#-#-#---#-#-#---
 30% -#-#-#-#-#-#-#-----#---#-#---#-----#-#-#-#-#-#-#-#-#---#-#-#-#-
 20% -#-#-#-#-#-#-#-#-#-#-#-#-#-#-#---#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 10% -#-#-#-#-#-#-#-#-#-#-#-#-#-#-#---#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 day  1         6           12          18          24            31


***** Graph showing number of messages written during days of week:

100% -----#----------------------- - 149
 90% -----#----------------------- msgs
 80% -----#---#-------------------
 70% -#---#---#-------#---#-------
 60% -#---#---#-------#---#-------
 50% -#---#---#---#---#---#-------
 40% -#---#---#---#---#---#---#---
 30% -#---#---#---#---#---#---#---
 20% -#---#---#---#---#---#---#---
 10% -#---#---#---#---#---#---#---
      *   *   *   *   *   *   *
     Mon Tue Wed Thu Fri Sat Sun


***** Maximal quoting:
      Author     : superchaser1 gmail.com
      Subject    : [wp-hackers] wp-hackers Digest, Vol 62, Issue 19
      Date       : Fri, 5 Mar 2010 15:48:04 -0700
      Quote ratio: 97.25% / 15200 bytes

***** Longest message:
      Author     : lists hikarinet.info
      Subject    : [wp-hackers] "commenter" user role
      Date       : Sat, 6 Mar 2010 19:02:01 -0300
      Size       : 18473 bytes

***** Most successful subject:
      Subject    : [wp-hackers] "commenter" user role
      No. of msgs: 57
      Total size : 189173 bytes

***** Final summary:
      Total number of messages:             758
      Total number of different authors:    139
      Total number of different subjects:   146
      Total size of messages (w/o headers): 1361960 bytes
      Average size of a message:            1796 bytes

***** Generated by MailListStat v1.3, (C) 2001-2003 <marki (at) nexin.sk>
***** See http://freshmeat.net/projects/mls for details...

DISCLAIMER: Stats automatically produced. Remember that stats are often
meaningless and deceiving.

From wp-hackers at tobias.baethge.com  Thu Apr  1 07:24:05 2010
From: wp-hackers at tobias.baethge.com (TobiasBg)
Date: Thu,  1 Apr 2010 09:24:05 +0200 (CEST)
Subject: [wp-hackers] GSoC Proposal: Sort By Column
In-Reply-To: <D112F596946B944A911B2CDE8BD262E9260B845C26@FCWPMB01.usa.tribune.com>
Message-ID: <20100401072405.692D8183EADE0@dd19416.kasserver.com>

Hi,

> Could wordpress use the jquery tablesorter plugin?

If you are refering to the plugin from www.tablesorter.com, I'd go -1 on that on.

Instead, take a look at the DataTables jQuery plugin, from www.datatables.net.

In my plugin WP-Table Reloaded (http://wordpress.org/extend/plugins/wp-table-reloaded) I'm actually already using that one on the admin screen already, to offer a sortable list (very similar and in the same layout as the lists of edit.php).

As a bonus, this library brings pagination and live filtering, has an extensive API (for AJAX, server-side processing, ...), and is actively maintained (which does not seem to apply to the tablesorter plugin).

Best wishes,
Tobias




From lists at rotorised.com  Thu Apr  1 09:05:08 2010
From: lists at rotorised.com (Ryan McCue)
Date: Thu, 01 Apr 2010 19:05:08 +1000
Subject: [wp-hackers] WordPress and Poisonous People
Message-ID: <4BB461C4.7040107@rotorised.com>

Hello hackers,

I'm sure the majority of you don't have any idea who I am. Quick
background: I post very occasionally to this mailing list, though I do
work with WordPress quite a bit. The reason that I post only very
occasionally here is that I like to keep it proportional to the amount
that I've contributed to WordPress. I feel that my one or two posts a
year is proportional to the 6-7 commits to my name (for anyone looking,
search for "rmccue" and "rmmcue").

This opinion is based on a talk by Brian Fitzpatrick and Ben
Collins-Sussman on Poisonous People. (If you haven't seen it, I'd
recommend watching it [1] ) In the talk, Brian and Ben talk about how
people can be attention drains to projects. They also discuss mailing
list etiquette, which includes the "noisy minority effect". This refers
to when people can be discussing a topic, and the debate may look even
handed, however, given a closer look, it ends up being a small amount of
people who are on one side. They also mention as part of this the need
to *not* reply to every message.

The main point they raise is that there can be people who though
capable, don't contribute to the software. These people are willing to
complain about the software, but rarely contribute. These people tend to
drain attention and focus away from the project itself, and more
importantly, away from the developers. As evidenced by the stats for
this month, this appears to be happening on this list. A small minority
of the contributors to this list appear to be creating a large amount of
noise with no real progress, and as such are becoming drains on the
community. These contributors, while posting a lot to the mailing list,
don't contribute much to WordPress itself. They contribute the majority
of posts to the list, with the next largest contributors being so as
they're replying to this small minority and attempting to control it.

I'd personally like to see this stop, as this list has become extremely
unreadable because of this. There is way too much noise on this list,
and a very small amount of signal. These contributors are draining the
attention of several core developers, and plenty of other developers
too. If you think you are one of these people, please try and tone it
down a bit. Although the list is unproductive because of these
contributors, they is still very passionate about WordPress, and it
would be a shame to lose them from the community. Additionally,
regardless of whether you think you are one of these people or not,
please **don't respond to this message**. Even if you agree or disagree
or otherwise, please respond to me off-list if you must.

To anyone who made it this far, thank you for reading. I really hope
that this can be resolved, and we can go back to being a very productive
list and one that I actually enjoy reading.

[1]: <http://www.youtube.com/watch?v=-F-3E8pyjFo>

-- 
Ryan McCue
<http://ryanmccue.info/>


From scribu at gmail.com  Thu Apr  1 09:29:40 2010
From: scribu at gmail.com (scribu)
Date: Thu, 1 Apr 2010 12:29:40 +0300
Subject: [wp-hackers] GSoC Proposal: Sort By Column
In-Reply-To: <20100401072405.692D8183EADE0@dd19416.kasserver.com>
References: <D112F596946B944A911B2CDE8BD262E9260B845C26@FCWPMB01.usa.tribune.com>
	<20100401072405.692D8183EADE0@dd19416.kasserver.com>
Message-ID: <v2w349fe48b1004010229h4525468ep6805b2636d1b15aa@mail.gmail.com>

On Thu, Apr 1, 2010 at 10:24 AM, TobiasBg <wp-hackers at tobias.baethge.com>wrote:

> Instead, take a look at the DataTables jQuery plugin, from
> www.datatables.net.
>
> In my plugin WP-Table Reloaded (
> http://wordpress.org/extend/plugins/wp-table-reloaded) I'm actually
> already using that one on the admin screen already, to offer a sortable list
> (very similar and in the same layout as the lists of edit.php).
>
> As a bonus, this library brings pagination and live filtering, has an
> extensive API (for AJAX, server-side processing, ...), and is actively
> maintained (which does not seem to apply to the tablesorter plugin).
>


Thanks for the suggestion. The problem is that it does faux-paging, i.e. all
items are loaded, but only a few are displayed. That's the only way it can
do sorting and filtering on the fly.

I don't think this would scale on sites with thousands of posts, or users
etc.


-- 
http://scribu.net

From wp-hackers at tobias.baethge.com  Thu Apr  1 09:44:24 2010
From: wp-hackers at tobias.baethge.com (TobiasBg)
Date: Thu,  1 Apr 2010 11:44:24 +0200 (CEST)
Subject: [wp-hackers] GSoC Proposal: Sort By Column
In-Reply-To: <v2w349fe48b1004010229h4525468ep6805b2636d1b15aa@mail.gmail.com>
Message-ID: <20100401094424.9673D183EADE2@dd19416.kasserver.com>

Hi scribu,

> [DataTables]

> Thanks for the suggestion. The problem is that it does faux-paging, i.e. all
> items are loaded, but only a few are displayed. That's the only way it can
> do sorting and filtering on the fly.
> 
> I don't think this would scale on sites with thousands of posts, or users
> etc.


From wp-hackers at tobias.baethge.com  Thu Apr  1 09:47:15 2010
From: wp-hackers at tobias.baethge.com (TobiasBg)
Date: Thu,  1 Apr 2010 11:47:15 +0200 (CEST)
Subject: [wp-hackers] GSoC Proposal: Sort By Column
In-Reply-To: <v2w349fe48b1004010229h4525468ep6805b2636d1b15aa@mail.gmail.com>
Message-ID: <20100401094715.48B4B183EADE2@dd19416.kasserver.com>

[The first sending of this mail came out as garbage: http://lists.automattic.com/pipermail/wp-hackers/2010-April/031347.html 
I hope it's correct now.]

Hi scribu,

> [DataTables]

> Thanks for the suggestion. The problem is that it does faux-paging, i.e. all
> items are loaded, but only a few are displayed. That's the only way it can
> do sorting and filtering on the fly.
>
> I don't think this would scale on sites with thousands of posts, or users
> etc.


From wp-hackers at tobias.baethge.com  Thu Apr  1 09:49:31 2010
From: wp-hackers at tobias.baethge.com (TobiasBg)
Date: Thu,  1 Apr 2010 11:49:31 +0200 (CEST)
Subject: [wp-hackers] GSoC Proposal: Sort By Column
In-Reply-To: <v2w349fe48b1004010229h4525468ep6805b2636d1b15aa@mail.gmail.com>
Message-ID: <20100401094931.DB449183EADE2@dd19416.kasserver.com>

[Last try, without the quoting. Sorry for the mess...]

Hi scribu,


From scribu at gmail.com  Thu Apr  1 09:51:08 2010
From: scribu at gmail.com (scribu)
Date: Thu, 1 Apr 2010 12:51:08 +0300
Subject: [wp-hackers] GSoC Proposal: Sort By Column
In-Reply-To: <20100401094931.DB449183EADE2@dd19416.kasserver.com>
References: <v2w349fe48b1004010229h4525468ep6805b2636d1b15aa@mail.gmail.com>
	<20100401094931.DB449183EADE2@dd19416.kasserver.com>
Message-ID: <v2i349fe48b1004010251m4fa61950gf779a5098f676422@mail.gmail.com>

On Thu, Apr 1, 2010 at 12:49 PM, TobiasBg <wp-hackers at tobias.baethge.com>wrote:

> [Last try, without the quoting. Sorry for the mess...]
>

It appeared correctly the first time (using GMail).


-- 
http://scribu.net

From wp-hackers at tobias.baethge.com  Thu Apr  1 09:53:19 2010
From: wp-hackers at tobias.baethge.com (TobiasBg)
Date: Thu,  1 Apr 2010 11:53:19 +0200 (CEST)
Subject: [wp-hackers] GSoC Proposal: Sort By Column
In-Reply-To: <v2i349fe48b1004010251m4fa61950gf779a5098f676422@mail.gmail.com>
Message-ID: <20100401095319.64D62183EADE2@dd19416.kasserver.com>

Hi,

> It appeared correctly the first time (using GMail).

It does too on
http://groups.google.com/group/wp-hackers/browse_thread/thread/9f78689d03cfa09f

But
http://lists.automattic.com/pipermail/wp-hackers/2010-April/031347.html
http://lists.automattic.com/pipermail/wp-hackers/2010-April/031349.html
http://lists.automattic.com/pipermail/wp-hackers/2010-April/031351.html
all failed.

I'll just give the fault to pipermail then :-)

Regards,
Tobias




From 24-7 at gmx.net  Thu Apr  1 12:34:31 2010
From: 24-7 at gmx.net (kaiiser)
Date: Thu, 1 Apr 2010 05:34:31 -0700 (PDT)
Subject: [wp-hackers] User roles - GSOC proposal
In-Reply-To: <01f701cad0f6$53d4aee0$fb7e0ca0$@com>
References: <c6a0bd561003270602lfdd8408m7dcb9f36b9cbd6e5@mail.gmail.com> 
	<000f01cacf77$75478640$5fd692c0$@net>
	<4cc4de141003291320i47dafc07q777bbc6070e97195@mail.gmail.com> 
	<410BE30F-3533-4C9A-AEA6-BFFFFC1C01BE@newclarity.net>
	<4cc4de141003291619m734f4aa5uc1d9f8bc44bc642f@mail.gmail.com> 
	<0E928E1D-0A1C-4653-AD98-986941648F15@newclarity.net>
	<4cc4de141003301027w7f24058bw2d4140f19630b8d9@mail.gmail.com> 
	<88F5F1B6-E31C-4800-9C12-D28D63D4B0CD@newclarity.net>
	<4cc4de141003301513i557ea7cap66f151510c3b5e57@mail.gmail.com> 
	<D0F935C3-93C7-4010-8B42-8663F3612FEB@newclarity.net>
	<4cc4de141003301620i5523e210n1377c7d40a5e6da9@mail.gmail.com> 
	<4645C03D-DB8D-4A86-8CEA-53352AC8DA86@newclarity.net>
	<ba0fac38-e9db-4d03-bfd9-202e3bf3ce42@s21g2000pri.googlegroups.com>
	<29f55357-912d-42cf-b3cf-2f97d037209d@33g2000yqj.googlegroups.com> 
	<01f701cad0f6$53d4aee0$fb7e0ca0$@com>
Message-ID: <90ca32f8-725e-425a-bee2-3c426743b6df@30g2000yqi.googlegroups.com>

> The idea of having one preconfigured "role" as an all-access administrator
> and then assigning capabilities on a per-user basis is, in my opinion, what
> would work best in the majority of cases. ?The sites I've worked on in the
> past fit one of two types:
>
> 1 - Blogs which allow comments but not registration. ?There is one author
> (with unlimited access) and all other "users" are unauthenticated commentors
> that are identified by their email address. ?They don't even appear in the
> user system.
>
> 2 - CMS-type sites that allow limited registration but no comments (think
> front-end website and back-end pseudo-intranet). ?There is one superadmin
> and every individual has a different role with custom capabilities ... none
> of the pre-defined "subscriber" "contributor" etc roles make sense in this
> case and end up being deleted in favor of "intern" "project manager" etc.

So is there anyone else out there who supports this idea?

Btw: I think making such a lightweight system would maybe bring up the
time
for some core-devs to finally get some sort of basic role/cap-manager
into
WP (waiting for this too long). I personally think this is not plugin-
stuff.

From jeffc at wptavern.com  Thu Apr  1 14:19:11 2010
From: jeffc at wptavern.com (Jeff Chandler)
Date: Thu, 01 Apr 2010 10:19:11 -0400
Subject: [wp-hackers]  WordPress and Poisonous People
Message-ID: <4BB4AB5F.3010403@wptavern.com>

I remember Matt bringing up this topic during an interview I had with 
him, he specifically mentioned the poisonous people presentation that 
you referenced. However, I think there is so much noise on this list 
during the month of March specifically because of all the Google Summer 
Of Code ideas, proposals, applications, and discussions. I bet if you 
took all of the responses with GSOC in them out of the list, it would be 
like any other month.

I like how you brought this up though. It's like a game of CLUE where 
everyone looks around trying to figure out who is the poison although 
the answer may seen in a mirror.

I understand the idea of poisonous people but at the same time, we can't 
keep telling people to just fork the project or shut up and write code. 
If we do that, we'll end up with more discussions and opinions of the 
entire project like this guys.

http://wordpress.org/support/topic/382009?replies=15

In the scope of the entire WordPress project, are the only people that 
matter the ones that can code patches?

From jane at automattic.com  Thu Apr  1 14:36:12 2010
From: jane at automattic.com (Jane Wells)
Date: Thu, 1 Apr 2010 10:36:12 -0400
Subject: [wp-hackers] WordPress and Poisonous People
In-Reply-To: <4BB4AB5F.3010403@wptavern.com>
References: <4BB4AB5F.3010403@wptavern.com>
Message-ID: <94007614-307C-4640-B8F0-9D945C02067A@automattic.com>

On Apr 1, 2010, at 10:19 AM, Jeff Chandler wrote:
> In the scope of the entire WordPress project, are the only people  
> that matter the ones that can code patches?

The thing is, Ryan wasn't talking about the entire WordPress project,  
he was talking about the developers' mailing list. So yeah, in this  
particular case, they kind of are, right? Non-coders are not the  
intended audience of the list, hence the name: wp-hackers.

From lists at rotorised.com  Thu Apr  1 15:06:39 2010
From: lists at rotorised.com (Ryan McCue)
Date: Fri, 2 Apr 2010 01:06:39 +1000
Subject: [wp-hackers] WordPress and Poisonous People
In-Reply-To: <4BB4AB5F.3010403@wptavern.com>
References: <4BB4AB5F.3010403@wptavern.com>
Message-ID: <5804D4ED-4439-415F-A284-F058B68C26F8@rotorised.com>

Hi Jeff,

Although the effect of the GSoC applications does effect this, this is  
not just for this month, but rather it is an ongoing thing. This has  
been occuring increasingly, however, which is why I bring it up now.

Also, the reason I phrased my message the way I did was in order to  
not single out one person in particular. If anyone is really that  
curious, there are statistics easily available on this list's traffic.

Thanks,
--
Ryan McCue
<http://ryanmccue.info/>

On 02/04/2010, at 0:19, Jeff Chandler <jeffc at wptavern.com> wrote:

> I remember Matt bringing up this topic during an interview I had  
> with him, he specifically mentioned the poisonous people  
> presentation that you referenced. However, I think there is so much  
> noise on this list during the month of March specifically because of  
> all the Google Summer Of Code ideas, proposals, applications, and  
> discussions. I bet if you took all of the responses with GSOC in  
> them out of the list, it would be like any other month.
>
> I like how you brought this up though. It's like a game of CLUE  
> where everyone looks around trying to figure out who is the poison  
> although the answer may seen in a mirror.
>
> I understand the idea of poisonous people but at the same time, we  
> can't keep telling people to just fork the project or shut up and  
> write code. If we do that, we'll end up with more discussions and  
> opinions of the entire project like this guys.
>
> http://wordpress.org/support/topic/382009?replies=15
>
> In the scope of the entire WordPress project, are the only people  
> that matter the ones that can code patches?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From skeltoac at gmail.com  Thu Apr  1 15:17:58 2010
From: skeltoac at gmail.com (Andy Skelton)
Date: Thu, 1 Apr 2010 09:17:58 -0600
Subject: [wp-hackers] WordPress and Poisonous People
In-Reply-To: <94007614-307C-4640-B8F0-9D945C02067A@automattic.com>
References: <4BB4AB5F.3010403@wptavern.com>
	<94007614-307C-4640-B8F0-9D945C02067A@automattic.com>
Message-ID: <v2ge6ec604d1004010817q3118d893xbc844c798c0fd9e1@mail.gmail.com>

On Thu, Apr 1, 2010 at 8:36 AM, Jane Wells <jane at automattic.com> wrote:
> The thing is, Ryan wasn't talking about the entire WordPress project, he was
> talking about the developers' mailing list. So yeah, in this particular
> case, they kind of are, right? Non-coders are not the intended audience of
> the list, hence the name: wp-hackers.

Hackers adapt. When the mailing list becomes noisy we don't waste time
reading every message; we almost unconsciously learn to ignore
specific people and threads and take our conversations elsewhere.
"Don't feed the troll" applies to the thing they are most hungry for:
audience.

That's right! Most of the noise never even penetrates the minds of the
real hackers.

Unfortunately for the list, the S/N ratio takes double damage because
while Noise breeds Noise (positive feedback loop) Signal abhors Noise
and takes itself elsewhere (negative feedback).

Where does the signal go? I'll never tell.

Sorry for posting in a noise thread,
Andy

cc: wp-trolls at lists.automattic.com

From scribu at gmail.com  Thu Apr  1 17:27:50 2010
From: scribu at gmail.com (scribu)
Date: Thu, 1 Apr 2010 20:27:50 +0300
Subject: [wp-hackers] WordPress and Poisonous People
In-Reply-To: <4BB461C4.7040107@rotorised.com>
References: <4BB461C4.7040107@rotorised.com>
Message-ID: <m2n349fe48b1004011027id2b522d7v5d780d8660b38718@mail.gmail.com>

I started watching the video and realised that I was guilty of replying to
every message, when I should have replied to the summary of the responses. I
had no idea this was generating "noise".

I know better now. Thanks for bringing it up.


-- 
http://scribu.net

From spencer.gurnk at gmail.com  Thu Apr  1 18:54:26 2010
From: spencer.gurnk at gmail.com (Spencer)
Date: Thu, 1 Apr 2010 14:54:26 -0400
Subject: [wp-hackers] $wp_query Disappears after AJAX
Message-ID: <h2u1419738e1004011154ieb0c4851i53134eea9b04e032@mail.gmail.com>

Hey everyone,

I'm not sure if this is a bug, or I'm doing something completely wrong, but
I'm in a bit of a pickle.

I'm trying to merge an array of arguments (that I created) with the original
$wp_query->query array. It's fine the first time it loads (just calling the
function directly), but then once it gets updated with AJAX (the same
function is called through add_action( 'wp_ajax_callback', 'callback' );),
the $wp_query variable seems to disappear. Any ideas why that would make it
mess up?

I've tried everything I can think of. I've tried making temporary versions
of $wp_query and restoring it, wp_reset_query, and a million combinations of
other things.

Thanks,
Spencer

From viniciusandre at gmail.com  Thu Apr  1 19:07:18 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Thu, 1 Apr 2010 16:07:18 -0300
Subject: [wp-hackers] $wp_query Disappears after AJAX
In-Reply-To: <h2u1419738e1004011154ieb0c4851i53134eea9b04e032@mail.gmail.com>
References: <h2u1419738e1004011154ieb0c4851i53134eea9b04e032@mail.gmail.com>
Message-ID: <q2x4ede8f491004011207nb5ce32cob18aba37077e9507@mail.gmail.com>

On Thu, Apr 1, 2010 at 3:54 PM, Spencer <spencer.gurnk at gmail.com> wrote:
> Hey everyone,
>
> I'm not sure if this is a bug, or I'm doing something completely wrong, but
> I'm in a bit of a pickle.
>
> I'm trying to merge an array of arguments (that I created) with the original
> $wp_query->query array. It's fine the first time it loads (just calling the
> function directly), but then once it gets updated with AJAX (the same
> function is called through add_action( 'wp_ajax_callback', 'callback' );),
> the $wp_query variable seems to disappear. Any ideas why that would make it
> mess up?
>
> I've tried everything I can think of. I've tried making temporary versions
> of $wp_query and restoring it, wp_reset_query, and a million combinations of
> other things.

Calling an AJAX request implies of having another timeline on page
loading, like loading another page. AFAIK, it only posts something
again to a webpage, needing new queries and stuff to be loaded if you
need them.

You can assign $_SESSION variables, or use the $_POST variables to
load some info again if you need something pre-loaded for this AJAX
request.

Hope it helps.
--
Vinicius Massuchetto
http://vinicius.soylocoporti.org.br

From spencer.gurnk at gmail.com  Thu Apr  1 19:08:59 2010
From: spencer.gurnk at gmail.com (Spencer)
Date: Thu, 1 Apr 2010 15:08:59 -0400
Subject: [wp-hackers] $wp_query Disappears after AJAX
In-Reply-To: <q2x4ede8f491004011207nb5ce32cob18aba37077e9507@mail.gmail.com>
References: <h2u1419738e1004011154ieb0c4851i53134eea9b04e032@mail.gmail.com>
	<q2x4ede8f491004011207nb5ce32cob18aba37077e9507@mail.gmail.com>
Message-ID: <z2j1419738e1004011208saf64b83esd556ba6105d4ab03@mail.gmail.com>

Okay I had that idea and thought about posting the original $query_string so
I could retrieve it through my function. Then is there a way I can covert my
array of arguments to a query string to match the other format?

Thanks,
Spencer

On Thu, Apr 1, 2010 at 3:07 PM, Vinicius Massuchetto <
viniciusandre at gmail.com> wrote:

> On Thu, Apr 1, 2010 at 3:54 PM, Spencer <spencer.gurnk at gmail.com> wrote:
> > Hey everyone,
> >
> > I'm not sure if this is a bug, or I'm doing something completely wrong,
> but
> > I'm in a bit of a pickle.
> >
> > I'm trying to merge an array of arguments (that I created) with the
> original
> > $wp_query->query array. It's fine the first time it loads (just calling
> the
> > function directly), but then once it gets updated with AJAX (the same
> > function is called through add_action( 'wp_ajax_callback', 'callback'
> );),
> > the $wp_query variable seems to disappear. Any ideas why that would make
> it
> > mess up?
> >
> > I've tried everything I can think of. I've tried making temporary
> versions
> > of $wp_query and restoring it, wp_reset_query, and a million combinations
> of
> > other things.
>
> Calling an AJAX request implies of having another timeline on page
> loading, like loading another page. AFAIK, it only posts something
> again to a webpage, needing new queries and stuff to be loaded if you
> need them.
>
> You can assign $_SESSION variables, or use the $_POST variables to
> load some info again if you need something pre-loaded for this AJAX
> request.
>
> Hope it helps.
> --
> Vinicius Massuchetto
> http://vinicius.soylocoporti.org.br
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bernard.d.tremblay at gmail.com  Thu Apr  1 20:21:12 2010
From: bernard.d.tremblay at gmail.com (Bernard D. Tremblay (ben))
Date: Thu, 01 Apr 2010 14:21:12 -0600
Subject: [wp-hackers] Failure in import from LiveJournal
In-Reply-To: <4BAE7AC4.50508@gmail.com>
References: <mailman.15.1269345602.11187.wp-hackers@lists.automattic.com>
	<4BA90D0D.5040106@gmail.com> <4BAA7D65.6010002@gmail.com>
	<4BAE7AC4.50508@gmail.com>
Message-ID: <4BB50038.6010703@gmail.com>

Is anybody working on Import?

Just now I referred to an old post: "Annotation - GPLv3 PLoS and Jack 
Slocum EXTJS blog" [1] to find material on the Comment System used by 
the GPLv3 site ("Stet"). Nice to be able to do that.
When I look at the new blog, which I thought had imported glicth-free 
... no joy. The archive shows 2 posts for that month. [2] But archive at 
LJ shows 5. [3]
So something like 50% of the posts failed to survive?
That's a show-stopper.

I'd like to work on this with somebody ... is why I delayed using 
Import, I suspected it might be a mess ... I think this deserves some 
effort.

@bentrem

1) http://gnodal.livejournal.com/75104.html
2) http://gnodal.protension.com/journal/?m=200711
3) http://gnodal.livejournal.com/2007/11/


Bernard D. Tremblay (ben) wrote:
> Worst possible?
> Having the end product looking reasonable 
> (http://gnodal.protension.com/journal/) I just spent some time with 
> the contents.
> uh-oh
> [...]
> Loss of data integrity.  [...]

  


From scribu at gmail.com  Thu Apr  1 22:03:11 2010
From: scribu at gmail.com (scribu)
Date: Fri, 2 Apr 2010 01:03:11 +0300
Subject: [wp-hackers] $wp_query Disappears after AJAX
In-Reply-To: <z2j1419738e1004011208saf64b83esd556ba6105d4ab03@mail.gmail.com>
References: <h2u1419738e1004011154ieb0c4851i53134eea9b04e032@mail.gmail.com>
	<q2x4ede8f491004011207nb5ce32cob18aba37077e9507@mail.gmail.com>
	<z2j1419738e1004011208saf64b83esd556ba6105d4ab03@mail.gmail.com>
Message-ID: <u2j349fe48b1004011503w7d65529pe0d61c55cf215575@mail.gmail.com>

On Thu, Apr 1, 2010 at 10:08 PM, Spencer <spencer.gurnk at gmail.com> wrote:

> Then is there a way I can covert my array of arguments to a query string to
> match the other format?
>

WP_Query accepts an array of arguments as well, so you don't need to convert
it back to a query string.


-- 
http://scribu.net

From viniciusandre at gmail.com  Thu Apr  1 22:43:44 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Thu, 1 Apr 2010 19:43:44 -0300
Subject: [wp-hackers] $wp_query Disappears after AJAX
In-Reply-To: <u2j349fe48b1004011503w7d65529pe0d61c55cf215575@mail.gmail.com>
References: <h2u1419738e1004011154ieb0c4851i53134eea9b04e032@mail.gmail.com>
	<q2x4ede8f491004011207nb5ce32cob18aba37077e9507@mail.gmail.com>
	<z2j1419738e1004011208saf64b83esd556ba6105d4ab03@mail.gmail.com>
	<u2j349fe48b1004011503w7d65529pe0d61c55cf215575@mail.gmail.com>
Message-ID: <o2r4ede8f491004011543z170019cfu95c98231b73fa12f@mail.gmail.com>

On Thu, Apr 1, 2010 at 7:03 PM, scribu <scribu at gmail.com> wrote:
> On Thu, Apr 1, 2010 at 10:08 PM, Spencer <spencer.gurnk at gmail.com> wrote:
>
>> Then is there a way I can covert my array of arguments to a query string to
>> match the other format?
>>
>
> WP_Query accepts an array of arguments as well, so you don't need to convert
> it back to a query string.

If you want to _reload_ something to update or anything, so this is
the thing to do. Else, I would prefer to store an already "loaded"
object in a $_SESSION variable, if it's not too big.

You're welcome.
--
Vinicius Massuchetto
http://vinicius.soylocoporti.org.br

From eitanadlerlist at gmail.com  Fri Apr  2 08:22:01 2010
From: eitanadlerlist at gmail.com (Eitan Adler)
Date: Fri, 2 Apr 2010 11:22:01 +0300
Subject: [wp-hackers] GSOC - comment moderation proposal
In-Reply-To: <n2ie1202cb11003311123t873e2285v5c704cf6ad6f562a@mail.gmail.com>
References: <a0777e081003300947td7366c1m6fef905b56185d24@mail.gmail.com> 
	<n2ie1202cb11003311123t873e2285v5c704cf6ad6f562a@mail.gmail.com>
Message-ID: <z2va0777e081004020122m682c3186tfeed43db74a5606d@mail.gmail.com>

I'm very interested in doing this work and I'll probably submit an
"official" GSOC proposal soon. I have some comments though.

> What's needed is a way to edit a comment after its posted to add a
> user-relationship.

>This should be present in both the individual
> comment editing screen
> and in the comment moderation list.
Like a admin change-comment-author type system?

I'm not
> sure of the ideal UI for it but it should probably deactivate the
> email/name/url fields if a user is set to make it clear that the
> user's profile info will be used instead.

If a comment is edited it
> should also predict the 'non-logged-in-author' use-case by checking if
> the email is in the users db and offering to convert the comment into
> a user-comment.
I could imagine serious privacy issues with this. A user could a
comment with a random email address. If the email exists in the DB it
would say "This is a valid email...". Perhaps a different UI could be
implemented where once you log in it would show all the comments left
with your email address and offer to convert it to your account?

From eitanadlerlist at gmail.com  Fri Apr  2 08:26:48 2010
From: eitanadlerlist at gmail.com (Eitan Adler)
Date: Fri, 2 Apr 2010 11:26:48 +0300
Subject: [wp-hackers] WordPress and Poisonous People
In-Reply-To: <4BB461C4.7040107@rotorised.com>
References: <4BB461C4.7040107@rotorised.com>
Message-ID: <m2sa0777e081004020126kb6158c7alece2d533886892e6@mail.gmail.com>

On Thu, Apr 1, 2010 at 12:05 PM, Ryan McCue <lists at rotorised.com> wrote:
> Hello hackers,
>
> I'm sure the majority of you don't have any idea who I am. Quick
> background: I post very occasionally to this mailing list, though I do
> work with WordPress quite a bit. The reason that I post only very
> occasionally here is that I like to keep it proportional to the amount
> that I've contributed to WordPress. I feel that my one or two posts a
> year is proportional to the 6-7 commits to my name (for anyone looking,
> search for "rmccue" and "rmmcue").
>
> This opinion is based on a talk by Brian Fitzpatrick and Ben
> Collins-Sussman on Poisonous People. (If you haven't seen it, I'd
> recommend watching it [1] ) In the talk, Brian and Ben talk about how
> people can be attention drains to projects. They also discuss mailing
> list etiquette, which includes the "noisy minority effect". This refers
> to when people can be discussing a topic, and the debate may look even
> handed, however, given a closer look, it ends up being a small amount of
> people who are on one side. They also mention as part of this the need
> to *not* reply to every message.
>
> The main point they raise is that there can be people who though
> capable, don't contribute to the software. These people are willing to
> complain about the software, but rarely contribute. These people tend to
> drain attention and focus away from the project itself, and more
> importantly, away from the developers. As evidenced by the stats for
> this month, this appears to be happening on this list. A small minority
> of the contributors to this list appear to be creating a large amount of
> noise with no real progress, and as such are becoming drains on the
> community. These contributors, while posting a lot to the mailing list,
> don't contribute much to WordPress itself. They contribute the majority
> of posts to the list, with the next largest contributors being so as
> they're replying to this small minority and attempting to control it.
>
> I'd personally like to see this stop, as this list has become extremely
> unreadable because of this. There is way too much noise on this list,
> and a very small amount of signal. These contributors are draining the
> attention of several core developers, and plenty of other developers
> too. If you think you are one of these people, please try and tone it
> down a bit. Although the list is unproductive because of these
> contributors, they is still very passionate about WordPress, and it
> would be a shame to lose them from the community. Additionally,
> regardless of whether you think you are one of these people or not,
> please **don't respond to this message**. Even if you agree or disagree
> or otherwise, please respond to me off-list if you must.
>
> To anyone who made it this far, thank you for reading. I really hope
> that this can be resolved, and we can go back to being a very productive
> list and one that I actually enjoy reading.
>
> [1]: <http://www.youtube.com/watch?v=-F-3E8pyjFo>
>
> --
> Ryan McCue
> <http://ryanmccue.info/>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mike_walsh at mindspring.com  Fri Apr  2 14:21:11 2010
From: mike_walsh at mindspring.com (Mike Walsh)
Date: Fri, 2 Apr 2010 10:21:11 -0400
Subject: [wp-hackers] Custom Page Template - can't see the forest through
	the trees
Message-ID: <000c01cad26f$bf342970$3d9c7c50$@com>

I am stuck doing something I think should be rather simple but I can't seem
to see why it isn't working but suspect it is my lack of knowledge of the
loop.

 

I want to create a page template that is essentially the same as the main
index.php except that it will only shows posts from a single category.  I
can't get it to work correctly, the only thing I can do is get it to display
the single most recent post from the category.

 

I referred to this page on the Codex:

 

http://codex.wordpress.org/Template_Tags/query_posts#Category_Parameters

 

I thought I could simply do this outside my loop:

 

                                <?php
query_posts('cat=23&posts_per_page=5');?>

 

I currently have three posts with the category ID of 23 and all three appear
when clicking on the category link.  If I examine  $posts after running the
above query_posts() it only has one post, the most recent one.

 

Is there something special about using the loop on a page template that I
don't understand?

 

Thanks,

 

Mike 

 

--

Mike Walsh - mike underscore walsh at mindspring dot com

 


From jbloch at olympianetworks.com  Fri Apr  2 15:40:52 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Fri, 2 Apr 2010 11:40:52 -0400
Subject: [wp-hackers] Custom Page Template - can't see the forest
	through the trees
In-Reply-To: <000c01cad26f$bf342970$3d9c7c50$@com>
References: <000c01cad26f$bf342970$3d9c7c50$@com>
Message-ID: <q2y8031bdef1004020840h1d04a696u8b34b4cf99eccf69@mail.gmail.com>

Mike,

Are you running it in a loop?

Either way, I always use get_posts instead of starting a separate query. It
has basically all the same options. For that, you'd use

<?php
$new_posts = get_posts( 'category=23' );
foreach( $new_posts as $post ):
setup_postdata( $post );

endforeach;
?>

5 is the default number of posts, so you wouldn't need to declare it in
get_posts, but the argument is numberposts if you want to do it anyway.
setup_postdata gives you all the loop functions, like the_title() or
the_permalink(). For more information, the codex page is pretty good:
http://codex.wordpress.org/Template_Tags/get_posts

John P. Bloch


On Fri, Apr 2, 2010 at 10:21 AM, Mike Walsh <mike_walsh at mindspring.com>wrote:

> I am stuck doing something I think should be rather simple but I can't seem
> to see why it isn't working but suspect it is my lack of knowledge of the
> loop.
>
>
>
> I want to create a page template that is essentially the same as the main
> index.php except that it will only shows posts from a single category.  I
> can't get it to work correctly, the only thing I can do is get it to
> display
> the single most recent post from the category.
>
>
>
> I referred to this page on the Codex:
>
>
>
> http://codex.wordpress.org/Template_Tags/query_posts#Category_Parameters
>
>
>
> I thought I could simply do this outside my loop:
>
>
>
>                                <?php
> query_posts('cat=23&posts_per_page=5');?>
>
>
>
> I currently have three posts with the category ID of 23 and all three
> appear
> when clicking on the category link.  If I examine  $posts after running the
> above query_posts() it only has one post, the most recent one.
>
>
>
> Is there something special about using the loop on a page template that I
> don't understand?
>
>
>
> Thanks,
>
>
>
> Mike
>
>
>
> --
>
> Mike Walsh - mike underscore walsh at mindspring dot com
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ozh at planetozh.com  Fri Apr  2 16:19:51 2010
From: ozh at planetozh.com (Ozh)
Date: Fri, 2 Apr 2010 18:19:51 +0200
Subject: [wp-hackers] Custom Page Template - can't see the
 forest	through the trees
In-Reply-To: <q2y8031bdef1004020840h1d04a696u8b34b4cf99eccf69@mail.gmail.com>
Message-ID: <OFC31EF302.461C7D2F-ONC12576F9.00595B01-C12576F9.0059B568@notes.edfgdf.fr>

> > I want to create a page template that is essentially the same as the 
main
> > index.php except that it will only shows posts from a single category. 
 I
> > can't get it to work correctly, the only thing I can do is get it to
> > display
> > the single most recent post from the category.

Can't you simply use a template page like category-{id}.php or 
taxonomy-{taxonomy}-{term}.php? See 
http://codex.wordpress.org/Template_Hierarchy for more

Ozh


From mpwalsh8 at gmail.com  Fri Apr  2 16:28:25 2010
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Fri, 2 Apr 2010 12:28:25 -0400
Subject: [wp-hackers] Custom Page Template - can't see the forest
	through the trees
In-Reply-To: <OFC31EF302.461C7D2F-ONC12576F9.00595B01-C12576F9.0059B568@notes.edfgdf.fr>
References: <q2y8031bdef1004020840h1d04a696u8b34b4cf99eccf69@mail.gmail.com>
	<OFC31EF302.461C7D2F-ONC12576F9.00595B01-C12576F9.0059B568@notes.edfgdf.fr>
Message-ID: <s2tbd35beb51004020928yba9c0657hf57655df27d09633@mail.gmail.com>

On Fri, Apr 2, 2010 at 12:19 PM, Ozh <ozh at planetozh.com> wrote:

> [ ... snipped ... ]
> Can't you simply use a template page like category-{id}.php or
> taxonomy-{taxonomy}-{term}.php? See
> http://codex.wordpress.org/Template_Hierarchy for more
>
> Ozh
>
>

I could but then the page I want this content on wouldn't show up in the
page based navigation structure.

Mike

From otto at ottodestruct.com  Fri Apr  2 16:36:50 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 2 Apr 2010 11:36:50 -0500
Subject: [wp-hackers] Custom Page Template - can't see the forest
	through the trees
In-Reply-To: <s2tbd35beb51004020928yba9c0657hf57655df27d09633@mail.gmail.com>
References: <q2y8031bdef1004020840h1d04a696u8b34b4cf99eccf69@mail.gmail.com> 
	<OFC31EF302.461C7D2F-ONC12576F9.00595B01-C12576F9.0059B568@notes.edfgdf.fr>
	<s2tbd35beb51004020928yba9c0657hf57655df27d09633@mail.gmail.com>
Message-ID: <x2y161617691004020936u19b9c194tbff555c8bd8893ad@mail.gmail.com>

On Fri, Apr 2, 2010 at 11:28 AM, Mike Walsh <mpwalsh8 at gmail.com> wrote:
> I could but then the page I want this content on wouldn't show up in the
> page based navigation structure.

Define "page-based navigation structure", exactly. Do you mean the
URLs, or do you mean in your menu system?

Because if your menu system doesn't show the category you want, then
honestly, it's better (and easier) to change that menu system to do
that instead of hacking a page template up into becoming a
faux-category archive.

3.0 has a user-definable menu system that will make this even simpler, BTW.

-Otto

From mpwalsh8 at gmail.com  Fri Apr  2 16:40:53 2010
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Fri, 2 Apr 2010 12:40:53 -0400
Subject: [wp-hackers] Custom Page Template - can't see the forest
	through the trees
In-Reply-To: <q2y8031bdef1004020840h1d04a696u8b34b4cf99eccf69@mail.gmail.com>
References: <000c01cad26f$bf342970$3d9c7c50$@com>
	<q2y8031bdef1004020840h1d04a696u8b34b4cf99eccf69@mail.gmail.com>
Message-ID: <t2xbd35beb51004020940x80e97dacu132f7ab86e8e0f4a@mail.gmail.com>

On Fri, Apr 2, 2010 at 11:40 AM, John Bloch <jbloch at olympianetworks.com>wrote:

> Mike,
>
> Are you running it in a loop?
>
> Either way, I always use get_posts instead of starting a separate query. It
> has basically all the same options. For that, you'd use
>
> <?php
> $new_posts = get_posts( 'category=23' );
> foreach( $new_posts as $post ):
> setup_postdata( $post );
>
> endforeach;
> ?>
>
> [ ... snipped ... ]


This works great and is doing what I want.  Now all I need to do is figure
out why the comment reply form is being shown for each post instead of the
typical post footer content.

Thanks,

Mike

From mpwalsh8 at gmail.com  Fri Apr  2 16:46:06 2010
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Fri, 2 Apr 2010 12:46:06 -0400
Subject: [wp-hackers] Custom Page Template - can't see the forest
	through the trees
In-Reply-To: <x2y161617691004020936u19b9c194tbff555c8bd8893ad@mail.gmail.com>
References: <q2y8031bdef1004020840h1d04a696u8b34b4cf99eccf69@mail.gmail.com>
	<OFC31EF302.461C7D2F-ONC12576F9.00595B01-C12576F9.0059B568@notes.edfgdf.fr>
	<s2tbd35beb51004020928yba9c0657hf57655df27d09633@mail.gmail.com>
	<x2y161617691004020936u19b9c194tbff555c8bd8893ad@mail.gmail.com>
Message-ID: <x2vbd35beb51004020946sc84a57c5od5e134ace5a31dc9@mail.gmail.com>

On Fri, Apr 2, 2010 at 12:36 PM, Otto <otto at ottodestruct.com> wrote:

> On Fri, Apr 2, 2010 at 11:28 AM, Mike Walsh <mpwalsh8 at gmail.com> wrote:
> > I could but then the page I want this content on wouldn't show up in the
> > page based navigation structure.
>
> Define "page-based navigation structure", exactly. Do you mean the
> URLs, or do you mean in your menu system?
>
> Because if your menu system doesn't show the category you want, then
> honestly, it's better (and easier) to change that menu system to do
> that instead of hacking a page template up into becoming a
> faux-category archive.
>
> 3.0 has a user-definable menu system that will make this even simpler, BTW.
>
> -Otto
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


I am working on a project for my wife, the hardest customer you'll ever
have!

The theme I am using, which isn't mine, includes tabs across the top based
on the existance of pages.  The theme supports ordering the tabs and
preventing pages from becoming tabs but not much else.  What she wanted was
the posts from one category in particular to be listed when you click on a
certain tab.

Certainly WP3.0 will make this easier and there are other themese better
suited to this but neither of those is a viable option today so I thought
adding another page template based on the existing index.php would be a
simple and quick solution.  John Bloch's suggestion has me 90% of the way
there, just need to tweak it a bit.

Thanks,

Mike

--
Mike Walsh - mpwalsh at gmail.com

From otto at ottodestruct.com  Fri Apr  2 16:58:13 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 2 Apr 2010 11:58:13 -0500
Subject: [wp-hackers] Custom Page Template - can't see the forest
	through the trees
In-Reply-To: <x2vbd35beb51004020946sc84a57c5od5e134ace5a31dc9@mail.gmail.com>
References: <q2y8031bdef1004020840h1d04a696u8b34b4cf99eccf69@mail.gmail.com> 
	<OFC31EF302.461C7D2F-ONC12576F9.00595B01-C12576F9.0059B568@notes.edfgdf.fr>
	<s2tbd35beb51004020928yba9c0657hf57655df27d09633@mail.gmail.com> 
	<x2y161617691004020936u19b9c194tbff555c8bd8893ad@mail.gmail.com> 
	<x2vbd35beb51004020946sc84a57c5od5e134ace5a31dc9@mail.gmail.com>
Message-ID: <q2j161617691004020958r4daf86c0r434ef0cd04556073@mail.gmail.com>

On Fri, Apr 2, 2010 at 11:46 AM, Mike Walsh <mpwalsh8 at gmail.com> wrote:
> The theme I am using, which isn't mine, includes tabs across the top based
> on the existance of pages. ?The theme supports ordering the tabs and
> preventing pages from becoming tabs but not much else. ?What she wanted was
> the posts from one category in particular to be listed when you click on a
> certain tab.

So, what you want isn't really to put a category of posts onto a Page,
but to put a category of posts into that navigation bar/tabs thing
that you have.

Like 90% of the time when I see themes that have lists of pages across
the top, they are using code like this, probably in the header.php:

<ul class="navbar">
<?php wp_list_pages(...); ?>
</ul>

Then the CSS for "navbar" makes it display that stuff in the row.
Well, modifying that to put categories in there too is trivial:

<ul class="navbar">
<?php wp_list_pages(...); ?>
<?php wp_list_categories(...); ?>
</ul>

See? Simple. Now the categories show up in that bar too. If you only
want category 23 to appear in that bar, then that's easy:
wp_list_categories('include=23');

It's always easier to do things the right way, and that means really
defining what you want to do, not how you want to do it.

-Otto

From jeffc at wptavern.com  Fri Apr  2 17:26:08 2010
From: jeffc at wptavern.com (Jeff Chandler)
Date: Fri, 02 Apr 2010 13:26:08 -0400
Subject: [wp-hackers] WordPress and Poisonous People
Message-ID: <4BB628B0.1040200@wptavern.com>

So, considering this individual is the primary reason why at least two 
very smart members of the WordPress community have decided to stop using 
this list, has anyone over the past year got in touch with this person 
and let them know what they are doing that is so wrong? Should I email 
this individual or who's responsibility is it to try and correct this 
persons actions so that they are LESS poisonous? Who is going to be the 
one to try and right a wrong that's been taking place over the past year 
or so?

From mpwalsh8 at gmail.com  Fri Apr  2 17:27:41 2010
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Fri, 2 Apr 2010 13:27:41 -0400
Subject: [wp-hackers] Custom Page Template - can't see the forest
	through the trees
In-Reply-To: <q2j161617691004020958r4daf86c0r434ef0cd04556073@mail.gmail.com>
References: <q2y8031bdef1004020840h1d04a696u8b34b4cf99eccf69@mail.gmail.com>
	<OFC31EF302.461C7D2F-ONC12576F9.00595B01-C12576F9.0059B568@notes.edfgdf.fr>
	<s2tbd35beb51004020928yba9c0657hf57655df27d09633@mail.gmail.com>
	<x2y161617691004020936u19b9c194tbff555c8bd8893ad@mail.gmail.com>
	<x2vbd35beb51004020946sc84a57c5od5e134ace5a31dc9@mail.gmail.com>
	<q2j161617691004020958r4daf86c0r434ef0cd04556073@mail.gmail.com>
Message-ID: <q2vbd35beb51004021027h63e37f34rd873267fcaebe9c6@mail.gmail.com>

On Fri, Apr 2, 2010 at 12:58 PM, Otto <otto at ottodestruct.com> wrote:

> [ ... snipped ... ]
> So, what you want isn't really to put a category of posts onto a Page,
> but to put a category of posts into that navigation bar/tabs thing
> that you have.
>

Sort of.  I want a page that contains the posts from a particular category
which is not the same as a navigational tab that is essentially just a link
to a particular category.  This slight difference matters because the
display of the content going through the category hierarchy is excerpts
where what I want is the full post just like they appear on the front page
of the site.


>
> Like 90% of the time when I see themes that have lists of pages across
> the top, they are using code like this, probably in the header.php:
>
> <ul class="navbar">
> <?php wp_list_pages(...); ?>
> </ul>
>
> Then the CSS for "navbar" makes it display that stuff in the row.
> Well, modifying that to put categories in there too is trivial:
>
> <ul class="navbar">
> <?php wp_list_pages(...); ?>
> <?php wp_list_categories(...); ?>
> </ul>
>
> See? Simple. Now the categories show up in that bar too. If you only
> want category 23 to appear in that bar, then that's easy:
> wp_list_categories('include=23');
>
> It's always easier to do things the right way, and that means really
> defining what you want to do, not how you want to do it.
>
>

I hadn't thought of using the category as part of the header, that is worth
exploring so I looked at the theme header and it is constructed almost as
you suspected it would be.  While I could do what you suggest above it won't
account for page ordering and I still have the problem I noted above
regarding excerpts.

I want to find or develop a different theme for this site but I that isn't a
project for this afternoon.  I have John Boch's suggestion working now and
my wife is happy (which is all that really matters) so now I have to return
to my real job!

Thanks for the help.  I love this list, lots of smart people here.

Mike

From otto at ottodestruct.com  Fri Apr  2 17:52:17 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 2 Apr 2010 12:52:17 -0500
Subject: [wp-hackers] Custom Page Template - can't see the forest
	through the trees
In-Reply-To: <q2vbd35beb51004021027h63e37f34rd873267fcaebe9c6@mail.gmail.com>
References: <q2y8031bdef1004020840h1d04a696u8b34b4cf99eccf69@mail.gmail.com> 
	<OFC31EF302.461C7D2F-ONC12576F9.00595B01-C12576F9.0059B568@notes.edfgdf.fr>
	<s2tbd35beb51004020928yba9c0657hf57655df27d09633@mail.gmail.com> 
	<x2y161617691004020936u19b9c194tbff555c8bd8893ad@mail.gmail.com> 
	<x2vbd35beb51004020946sc84a57c5od5e134ace5a31dc9@mail.gmail.com> 
	<q2j161617691004020958r4daf86c0r434ef0cd04556073@mail.gmail.com> 
	<q2vbd35beb51004021027h63e37f34rd873267fcaebe9c6@mail.gmail.com>
Message-ID: <h2q161617691004021052g94bffeeel666d2d361376dfdb@mail.gmail.com>

On Fri, Apr 2, 2010 at 12:27 PM, Mike Walsh <mpwalsh8 at gmail.com> wrote:
> Sort of. ?I want a page that contains the posts from a particular category
> which is not the same as a navigational tab that is essentially just a link
> to a particular category. ?This slight difference matters because the
> display of the content going through the category hierarchy is excerpts
> where what I want is the full post just like they appear on the front page
> of the site.

Well, that's just a matter of copying your index.php over to
category-23.php, really. Then that category will show the same as your
normal index, ie, not excerpts. While the other categories will
continue to show with category.php, presumably as excerpts only.

-Otto

From matt at mattjacob.com  Fri Apr  2 18:15:23 2010
From: matt at mattjacob.com (Matt Jacob)
Date: Fri, 02 Apr 2010 11:15:23 -0700
Subject: [wp-hackers] WordPress and Poisonous People
In-Reply-To: <4BB461C4.7040107@rotorised.com>
References: <4BB461C4.7040107@rotorised.com>
Message-ID: <4BB6343B.8050602@mattjacob.com>

On 4/1/2010 2:05 AM, Ryan McCue wrote:
> I'd personally like to see this stop, as this list has become extremely
> unreadable because of this. There is way too much noise on this list,
> and a very small amount of signal. These contributors are draining the
> attention of several core developers, and plenty of other developers
> too. If you think you are one of these people, please try and tone it

While I don't disagree with you, how hard is it to killfile certain 
people whose posts you'd rather not read? If people want to interject 
something or disagree at every opportunity, let them. It won't matter 
one bit when nobody is receiving copies of their posts.

At least, that's how I do it.

Matt

From charles at cefm.ca  Fri Apr  2 18:16:50 2010
From: charles at cefm.ca (Charles Frees-Melvin)
Date: Fri, 2 Apr 2010 15:16:50 -0300
Subject: [wp-hackers] Custom Page Template - can't see the forest
	through the trees
In-Reply-To: <q2vbd35beb51004021027h63e37f34rd873267fcaebe9c6@mail.gmail.com>
References: <q2y8031bdef1004020840h1d04a696u8b34b4cf99eccf69@mail.gmail.com>
	<OFC31EF302.461C7D2F-ONC12576F9.00595B01-C12576F9.0059B568@notes.edfgdf.fr>
	<s2tbd35beb51004020928yba9c0657hf57655df27d09633@mail.gmail.com>
	<x2y161617691004020936u19b9c194tbff555c8bd8893ad@mail.gmail.com>
	<x2vbd35beb51004020946sc84a57c5od5e134ace5a31dc9@mail.gmail.com>
	<q2j161617691004020958r4daf86c0r434ef0cd04556073@mail.gmail.com>
	<q2vbd35beb51004021027h63e37f34rd873267fcaebe9c6@mail.gmail.com>
Message-ID: <63380B96-9755-4443-8729-75EE2FBDD150@cefm.ca>

Why not change your category.php from the_exerpt to the_content.

--
Charles E. Frees-Melvin
charles at cefm.ca
www.cefm.ca
506-640-1007

Sent from my iPhone

On 2010-04-02, at 14:27, Mike Walsh <mpwalsh8 at gmail.com> wrote:

> On Fri, Apr 2, 2010 at 12:58 PM, Otto <otto at ottodestruct.com> wrote:
>
>> [ ... snipped ... ]
>> So, what you want isn't really to put a category of posts onto a  
>> Page,
>> but to put a category of posts into that navigation bar/tabs thing
>> that you have.
>>
>
> Sort of.  I want a page that contains the posts from a particular  
> category
> which is not the same as a navigational tab that is essentially just  
> a link
> to a particular category.  This slight difference matters because the
> display of the content going through the category hierarchy is  
> excerpts
> where what I want is the full post just like they appear on the  
> front page
> of the site.
>
>
>>
>> Like 90% of the time when I see themes that have lists of pages  
>> across
>> the top, they are using code like this, probably in the header.php:
>>
>> <ul class="navbar">
>> <?php wp_list_pages(...); ?>
>> </ul>
>>
>> Then the CSS for "navbar" makes it display that stuff in the row.
>> Well, modifying that to put categories in there too is trivial:
>>
>> <ul class="navbar">
>> <?php wp_list_pages(...); ?>
>> <?php wp_list_categories(...); ?>
>> </ul>
>>
>> See? Simple. Now the categories show up in that bar too. If you only
>> want category 23 to appear in that bar, then that's easy:
>> wp_list_categories('include=23');
>>
>> It's always easier to do things the right way, and that means really
>> defining what you want to do, not how you want to do it.
>>
>>
>
> I hadn't thought of using the category as part of the header, that  
> is worth
> exploring so I looked at the theme header and it is constructed  
> almost as
> you suspected it would be.  While I could do what you suggest above  
> it won't
> account for page ordering and I still have the problem I noted above
> regarding excerpts.
>
> I want to find or develop a different theme for this site but I that  
> isn't a
> project for this afternoon.  I have John Boch's suggestion working  
> now and
> my wife is happy (which is all that really matters) so now I have to  
> return
> to my real job!
>
> Thanks for the help.  I love this list, lots of smart people here.
>
> Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From pauamma at gundo.com  Fri Apr  2 18:34:34 2010
From: pauamma at gundo.com (Pau Amma)
Date: Fri, 2 Apr 2010 18:34:34 -0000
Subject: [wp-hackers] Failure in import from LiveJournal
In-Reply-To: <4BB50038.6010703@gmail.com>
References: <mailman.15.1269345602.11187.wp-hackers@lists.automattic.com>
	<4BA90D0D.5040106@gmail.com> <4BAA7D65.6010002@gmail.com>
	<4BAE7AC4.50508@gmail.com> <4BB50038.6010703@gmail.com>
Message-ID: <b595ba1cc52de13778e3c339ad276740.squirrel@www.gundo.net>

On Thu, April 1, 2010 8:21 pm, Bernard D. Tremblay (ben) wrote:
>
> I'd like to work on this with somebody ... is why I delayed using
> Import, I suspected it might be a mess ... I think this deserves some
> effort.

If you don't get any useful advice here, you may want to try posting in
the lj_dev LiveJournal community. (You'll need a LiveJournal account to do
that.)

Note: many of the people there aren't very familiar with PHP, so you may
get more useful answers if you focus your post on the API used, specific
RPC procedures and arguments sent, etc. rather than the PHP code that does
it.


From indk at ymail.com  Fri Apr  2 23:00:08 2010
From: indk at ymail.com (Deepak Seth)
Date: Sat, 3 Apr 2010 04:30:08 +0530 (IST)
Subject: [wp-hackers] GSOC Proposal : bbpress pugin for theme repository
Message-ID: <531811.81124.qm@web94715.mail.in2.yahoo.com>

Online Proposal Site: http://gsocdk.wordpress.com/
?
Hello Everyone,
?
Themes are vital component of any WordPress based site and as the WordPress Theme repositorycurrently houses more than a thousand theme with over 13 Million Downloads and still counting?so it?s an important section to deal with..!!
?
My proposal is based on bbpress plugin idea that gives the ability to theme developer to upload Child theme (dependent on main themes) in the theme repository.
?
WordPress 3.0 Theme related feature includes
	* A better tabbed UI for downloading and management of Main Themes only.(No Support for Child Themes)
	* Adds a New Twenty Ten Theme
	* Theme Editor For Child Theme
	* Custom Site Background Support(Great Feature)
My Plugin(Administration Side) Will be adding
	* Another Interface for Child Themes to be installed with?single click.(that includes its dependency with the parent theme.)
	* Upgraded Theme Editor for Child Themes as well.
	* Support for version checking of child theme and there parent theme so as to find if they work for each other.
So basically, I am proposing for a plugin on top of bbpress (as the theme repo is based on it) with features to eradicate these issues.
Please check out my online Proposal at http://gsocdk.wordpress.com/ .and provide your valuable suggestion and comments about the idea.
?
Thanks,
?
Deepak Seth


      The INTERNET now has a personality. YOURS! See your Yahoo! Homepage. http://in.yahoo.com/

From wp-hackers at striderweb.com  Sat Apr  3 01:44:42 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Fri, 2 Apr 2010 20:44:42 -0500
Subject: [wp-hackers] WordPress and Poisonous People
In-Reply-To: <m2sa0777e081004020126kb6158c7alece2d533886892e6@mail.gmail.com>
References: <4BB461C4.7040107@rotorised.com>
	<m2sa0777e081004020126kb6158c7alece2d533886892e6@mail.gmail.com>
Message-ID: <1B649559-C257-4050-A89F-6B58F166337C@striderweb.com>

I just thought I should point out that the monthly stats email actually *encourages* this exact behavior by referring to the most frequent posters, etc. as the "best authors".  Perhaps somebody should change that wording.

Stephen

On Thu, Apr 1, 2010 at 12:05 PM, Ryan McCue <lists at rotorised.com> wrote:

> These people tend to
> drain attention and focus away from the project itself, and more
> importantly, away from the developers. As evidenced by the stats for
> this month, this appears to be happening on this list.

From matt at sivel.net  Sat Apr  3 01:53:27 2010
From: matt at sivel.net (Matt Martz)
Date: Fri, 2 Apr 2010 19:53:27 -0600
Subject: [wp-hackers] WordPress and Poisonous People
In-Reply-To: <1B649559-C257-4050-A89F-6B58F166337C@striderweb.com>
References: <4BB461C4.7040107@rotorised.com>
	<m2sa0777e081004020126kb6158c7alece2d533886892e6@mail.gmail.com>
	<1B649559-C257-4050-A89F-6B58F166337C@striderweb.com>
Message-ID: <p2tdc2b0e8a1004021853t27122bbaw18754ef363b94f5@mail.gmail.com>

> I just thought I should point out that the monthly stats email actually *encourages* this exact behavior by referring to the most frequent posters, etc. as the "best authors". ?Perhaps somebody should change that wording.

Do keep in mind that the monthly stats email is not anything official
but the result of someone on the list who decided to provide such a
feature.

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From lists at rotorised.com  Sat Apr  3 02:28:42 2010
From: lists at rotorised.com (Ryan McCue)
Date: Sat, 03 Apr 2010 12:28:42 +1000
Subject: [wp-hackers] WordPress and Poisonous People
In-Reply-To: <1B649559-C257-4050-A89F-6B58F166337C@striderweb.com>
References: <4BB461C4.7040107@rotorised.com>	<m2sa0777e081004020126kb6158c7alece2d533886892e6@mail.gmail.com>
	<1B649559-C257-4050-A89F-6B58F166337C@striderweb.com>
Message-ID: <4BB6A7DA.6060602@rotorised.com>

Stephen Rider wrote:
> I just thought I should point out that the monthly stats email actually *encourages* this exact behavior by referring to the most frequent posters, etc. as the "best authors".  Perhaps somebody should change that wording.

Agreed. Someone should contact Roy about this.

-- 
Ryan McCue
<http://ryanmccue.info/>


From jane at automattic.com  Sat Apr  3 03:21:36 2010
From: jane at automattic.com (Jane Wells)
Date: Fri, 2 Apr 2010 23:21:36 -0400
Subject: [wp-hackers] WordPress 3.0 Beta 1
Message-ID: <D2AF1D90-9570-4E82-98D9-74BD1BFD8608@automattic.com>

Hey beta testers! Beta 1 is out! Here's some info to get you started  
and a link to the zip file.
http://wp.me/p4Ez4-l1

Jane

From meheranandk at gmail.com  Sat Apr  3 14:49:11 2010
From: meheranandk at gmail.com (Meher Anand)
Date: Sat, 3 Apr 2010 20:19:11 +0530
Subject: [wp-hackers] [GSoC] AJAXifying WP Admin Panel
Message-ID: <s2ne279cc4f1004030749o3302a1easbf20835e2868ef92@mail.gmail.com>

Hi.

I was really happy when I saw the new ideas put up on the ideas list for WP,
especially the AJAXifying one. As a demonstration, I AJAXified a part of the
Admin panel interface, viz. Trash and Untrash of Posts. I have uploaded the
diff file and the js file over here :
http://core.trac.wordpress.org/ticket/12826. Please patch your copies and
give me feedback. Suggest changes needed in my approach if any.

Thanks and regards.

Meher Anand

From zamoose at gmail.com  Sat Apr  3 17:32:12 2010
From: zamoose at gmail.com (Doug Stewart)
Date: Sat, 3 Apr 2010 13:32:12 -0400
Subject: [wp-hackers] WordPress and Poisonous People
In-Reply-To: <4BB6A7DA.6060602@rotorised.com>
References: <4BB461C4.7040107@rotorised.com>
	<m2sa0777e081004020126kb6158c7alece2d533886892e6@mail.gmail.com>
	<1B649559-C257-4050-A89F-6B58F166337C@striderweb.com>
	<4BB6A7DA.6060602@rotorised.com>
Message-ID: <j2i71ddd7491004031032md8d21ba5u7ffa9aa374f0dd2d@mail.gmail.com>

I take it no one has read Jono Bacon's "Art of Community". There's
some great stuff in it about both communication and conflict
resoltuion that's germane to the current discussion. (Chapter 9 in
particular, IIRC)  There's a freely-downloadable PDF version of it
avalaible from the site at http://artofcommunityonline.org

Highly recommended.

--
-Doug
http://literalbarrage.org/blog/
@zamoose

-- 
-Doug

From mat3ws at gmail.com  Sat Apr  3 19:13:43 2010
From: mat3ws at gmail.com (matews schneiders)
Date: Sat, 3 Apr 2010 16:13:43 -0300
Subject: [wp-hackers] GSoC Proposal: AJAX Pagination, Sorting by Columns
Message-ID: <o2m235f3c201004031213r1b8cfde5k3c50ee5a82bdc29b@mail.gmail.com>

Hello!

I intend to propose solutions for both the WP GSOC ideas, such as ?Sort by
Columns? and ?AJAX Pagination on admin Screens?. So I want to get some
feedback about what I?m thinking, so here is a high level introduction of
what I?ve been researching:

            The proposal as a whole is to provide a jquery based API that
will supply the needs for integrated implementation of AJAX Paging and
Columns Sorting functionalities and of course implement them in requested
screens (Admin pages for example).

            There are a several list based screens that could have these
functionalities, but we sure have to consider the quantity of data and the
system usability in each case. The objective, however, will be maintained,
it means that the API will generically (the level needs to be discussed)
give support for integrated paging and columns sorting implementation for
any case.

            Among all the jquery based approaches, I think the more suitable
one is the DataTable, because it offers both the paging and column sorting
including several ways of supplying data to the tables. It?s indispensable
to point out that the way of supplying data will definitely affect the
performance and therefore usability, so, AJAX and server-side processing
could start being considered as well. Other things like multi-column sorting
could be supported too, I just don?t know if it?s really needed.

            I would like to get some feedback about it. Things I would have
to consider, better approaches or anything.

Thanks and best regards.

From nandhakumar.n87 at gmail.com  Sat Apr  3 20:28:15 2010
From: nandhakumar.n87 at gmail.com (nandha kumar)
Date: Sun, 4 Apr 2010 01:58:15 +0530
Subject: [wp-hackers] Need Guidance: Gsoc
Message-ID: <m2qb1e854421004031328vc4cc7a24nb82d8b0a5b0352dd@mail.gmail.com>

Hi to all.

I am N.Nandhakumar, a final year MCA student from chennai, TamilNadu, India.

I am a newbie to Gsoc and a user of wordpress.com. I am also very much
interested in contributing to the Gsoc .

Link : www.walkingwithtux.wordpress.com

I saw the Ideas page of wordpress and I am quite interested to do the
"Dashboard 'Setup Completion' Module" project.

The thing that i understood from the project idea is that when a new user to
wordpress creates a site for himself he may not fill in all the details or
may not customize the initial settings of wordpress. So, He may not know on
the settings he has defined during the initial site creation.

Now my proposal is that a entry in the wordpress dashboard will be created
on the user's site, listing the settings that the user have currently set
and not set. Using those information the user can customize the settings he
needs to be enabled on his wordpress site. It will be also possible to list
the functionalities and methods for customization of each settings on that
module.

This is the idea and if I have misunderstood the idea please help me out.
and I also need the details on what are all the technologies I need to know
on doing this project.

I am a beginner in php and have worked on small php projects with my friends
during my college time.

Please help me out.

Thanks in advance

N.Nandhakumar.

From dukebag at spintheweb.org  Sat Apr  3 21:43:48 2010
From: dukebag at spintheweb.org (Your neighborhood Dukebag)
Date: Sat, 3 Apr 2010 17:43:48 -0400
Subject: [wp-hackers] GSoC - easier integration of websites as themes
Message-ID: <000801cad376$be92e4e0$3bb8aea0$@org>

Hi there,

Below is the summary of a proposed plugin called no-code.  This idea was
inspired by the existing challenges of integrating web design with a CMS,
and more loosely on Andy Clarke's Walls Come Tumbling Down
<http://www.lukew.com/ff/entry.asp?918> .  My hope for this plugin is that
authoring themes becomes less about integration and more about using
WordPress as a powerful tool.

Feedback very much appreciated!

Thanks,

Mike Whitfield

-------------------

no-code will be a WordPress plugin that interfaces with existing web pages
to integrate them as WordPress themes.  This plugin intends to take a
similar, but slightly different approach from Daryl Koopersmith's Elastic
<http://elastictheme.org/> . 

no-code offers the web page designer a much more fluid way of building
websites.  WordPress is a no-brainer, but integrating with the Theme API
poses an additional layer of decision-making on the designer.  This makes an
already complicated task more complicated.  The alternative is to build the
website first and then integrate with WordPress, but this too can be
cumbersome.

Using a JavaScript overlay intended to be similar in nature to Opera
Dragonfly or Firebug for Mozilla Firefox, no-code will allow users to select
elements in an already existing web design and link them with the basic
WordPress functions/variables.  For instance, the <h2> text "CSS Variables:
A Simple Approach" could be highlighted and associated with the article
title field.  no-code would then generate associated Theme files replacing
"CSS Variables: A Simple Approach" with <?php the_title(); ?>.  no-code
intends to be scalable by merely generating theme code that can be modified.
In the case of more complex variables/instructions or even
conflicted/erroneous selections, no-code can still benefit the user by
accommodating the majority of contexts.  Note: JavaScript would be intended
as a requirement only for theme generation, not the live WordPress theme.

 


From elizabeth at slatetechpdx.com  Sat Apr  3 22:26:09 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Sat, 3 Apr 2010 15:26:09 -0700
Subject: [wp-hackers] Using the site_id column in wp_blogs table
Message-ID: <i2zc399ae881004031526ib04bd98exc5bb1d0445d8021d@mail.gmail.com>

wpmu 2.9.1.1

I have the need to use a column like site_id and a table like wp_site table.
 I don't want to go changing things without understanding the ramifications.
 I have been googling for an hour, and I haven't had much luck finding out
what they are used for.  I'm assuming it has to do with multiple domains.  I
believe the keywords are site network, but when Googling, I get a bunch of
social network links.

Basically, our subdomains are cities, and we need to start doing countries.
  In the future we may get the international domain for the countries and
cities.  I believe that this is what the wp_sites is all about.

I've searched for a programmer's version of the feature list, but I have
been unsuccessful.  Any information or links to information, or even a list
of keywords to google would be appreciated.

-- 
Thanks,
Elizabeth Buckwalter

From stas at nerd.ro  Sun Apr  4 00:22:37 2010
From: stas at nerd.ro (Stas =?UTF-8?Q?Su=C8=99cov?=)
Date: Sun, 04 Apr 2010 03:22:37 +0300
Subject: [wp-hackers] GSoC 2010, BuddyPress for teaching
Message-ID: <1270340557.5928.12.camel@rivalry.c7.campus.utcluj.ro>

During the last #wordpress-gsoc chat, Jane pointed me to the
ScholarPress, a community of WordPress plugins developers that are
writing code to make WordPress useful in education. Their plugin,
Courseware is built for WordPress and currently offers the following
features:

      * manage schedules
      * manage bibliography
      * manage assignments
      * manage general course information

>From what I heard the plugin also works with BuddyPress, but making it
depends on WordPress (shortcodes, wp-admin) isn?t exactly a perfect
integration. The idea what came is to port ScholarPress to BuddyPress.
In details, to make SP aware of BP groups, and treat them as classes of
students. Assign schedules per group, add bibliography to scheduled
courses, so on for assignments. From the upstream TODO list, I also saw
the need of a grade-book and I would also add a notification system
(send a private message if a course is upcoming or a new grade was
posted).


More on the internal part?
It will require changes like, split the courses apart from schedules.
Because SP will be groups aware, it will be more logical to create
courses and link bibliographies and assignments to them, after what
publish them in a schedule. Also I would consider adding an upload
option for the courses that require annexes or attachments (later, you
can bundle those with Google Docs viewer or psview).
About the gradebook, I liked the idea used for kb-gradebook, and I think
it?s the bare minimal implementation of grades assignment I can consider
as a starting point (read the csv file, and assign group members to
marks).


About users?
In most of the education centers students are managed using a LDAP or
ActiveDirectory. So bringing some core functionality into such a plugin
also should be considered. I know you?ll jump that there are plenty of
plugins that offer LDAP integration, but hey, none of them (afaik) will
offer you options to integrate two baseDN?s into the same instance (this
can be really useful for role mappings also, divide students from
teachers).

I?m a student and at our university I had the opportunity to play a
little with Moodle, so the above idea is based on my experience. It
would be nice to hear some opinions from persons who are really involved
into teaching process and what would they like to see in such a new
ScholarPress.

There's also a post I wrote (this is a copycat) about this idea at:
http://sushkov.wordpress.com/2010/04/04/scholarpress-buddypress/

Thanks.

-- 
()  Campania Panglicii ?n ASCII
/\  http://stas.nerd.ro/ascii/


From scribu at gmail.com  Sun Apr  4 00:40:52 2010
From: scribu at gmail.com (scribu)
Date: Sun, 4 Apr 2010 03:40:52 +0300
Subject: [wp-hackers] GSoC - easier integration of websites as themes
In-Reply-To: <000801cad376$be92e4e0$3bb8aea0$@org>
References: <AcrTdrL/peQAPhWSTB+yztD24dp3/w==>
	<000801cad376$be92e4e0$3bb8aea0$@org>
Message-ID: <i2y349fe48b1004031740lc0060d56la9bcd10edc839cf9@mail.gmail.com>

This could certainly be a useful too for anyone dealing with WP themes.

Just wondering how you would be generating The Loop.


-- 
http://scribu.net

From scribu at gmail.com  Sun Apr  4 02:41:43 2010
From: scribu at gmail.com (scribu)
Date: Sun, 4 Apr 2010 05:41:43 +0300
Subject: [wp-hackers] GSoC Proposal: Sort By Column
In-Reply-To: <20100401095319.64D62183EADE2@dd19416.kasserver.com>
References: <v2i349fe48b1004010251m4fa61950gf779a5098f676422@mail.gmail.com>
	<20100401095319.64D62183EADE2@dd19416.kasserver.com>
Message-ID: <h2w349fe48b1004031941iffa54b5j5cddf36bfc207357@mail.gmail.com>

I've posted a more detailed proposal description on my site:

http://scribu.net/wordpress/gsoc-proposal-enhanced-admin-pages.html

I'm pasting the relevant sections below, for convenience:

Sorting by column

All list-type screens in WordPress are paginated. In other words, only a
small subset of all the items are loaded at a time. This throws JavaScript
sorting scripts like DataTable out the window. The sorting has to be done on
the server-side.

This is not a big problem, since WordPress already has support for sorting
most types of items.

In terms of UI, I *won?t* go with the regular clickable column headers
approach because it has a 3-click cycle:

   1. sorted-ascending
   2. sorted descending
   3. unsorted

Unlike with JavaScript sorting, each click would be expensive, since it
would require a new request to the server.

Instead, I plan on adding a dropdown to the Screen Options section, where
the user could select the column to sort by. There would also be two radio
buttons for the order: ASC / DESC. This way, the user can choose the sorting
*and* the order in one request.

Either that, or add *two* buttons on each column, one for ASC and one for
DESC sorting (hidden until the user hovers over that column).
AJAX Loading

After sorting is done, I can concentrate on speeding things up with AJAX.
Whenever a user wants to see a different page of items, they will be fetched
via an AJAX request and be inserted in place of the old items.

This should also work when: changing the sorting, changing the number of
items per page.

Feedback welcome.


-- 
http://scribu.net

From meswamy at gmail.com  Sun Apr  4 16:18:19 2010
From: meswamy at gmail.com (swamynathan)
Date: Sun, 4 Apr 2010 21:48:19 +0530
Subject: [wp-hackers] gsoc project
Message-ID: <y2i72218f021004040918la11d8642i31db9ef32dc5b68c@mail.gmail.com>

hello,
For gsoc from the given list of application i was looking forward to work on
buddy press.

Apart from that i was thinking about making a  module or pluggin  like,
devel in drupal,

-- 
with love from India,
swamy , wattabottles
http://meswamy.blogspot.com

From pauamma at gundo.com  Mon Apr  5 00:21:06 2010
From: pauamma at gundo.com (Pau Amma)
Date: Mon, 5 Apr 2010 00:21:06 -0000
Subject: [wp-hackers] Failure in import from LiveJournal
In-Reply-To: <4BB8FB5E.5050505@gmail.com>
References: <mailman.11.1270296002.8107.wp-hackers@lists.automattic.com>
	<4BB8FB5E.5050505@gmail.com>
Message-ID: <f49d7beb968750fa767d1de08091924f.squirrel@www.gundo.net>

On Sun, April 4, 2010 8:49 pm, Bernard D. Tremblay (ben) wrote:
>F ri, 2 Apr 2010 18:34:34 Pau Amma replied:
>> On Thu, April 1, 2010 8:21 pm, Bernard D. Tremblay (ben) wrote:
>>> Import, I suspected it might be a mess ... I think this deserves
>>> some effort.
>> If you don't get any useful advice here, you may want to try posting in
>> the lj_dev LiveJournal community. (You'll need a LiveJournal account to
>> do that.)
> Since I'm trying to migrate my own LJ, that requirement is met. ;-)
>
> Seems to me, though, that there's more reason for there to be interest
> here i.e. someone wants to leave the LJ system behind in order to use WP.

Or export their journal to have a local backup, or move it elsewhere but
still keep their account active to interact with others.

> It would be odd for LJ to support that. It would make sense for WP to
> make that process bullet-proof.

There's a lot LJ does that looks odd to many, including long-term
users.:-) I'm one of the maintainers of the lj_dev community (volunteer
position), and there's been a number of discussions/questions (and
answers) about exporting journals.

> I take your point, and thanks. I just can't imagine why someone who has
> successfully migrated their blog away from LJ would be active in that dev
> group.

export != migration. But it's your call. :-)

> Anyhow, this need isn't going to evaporate, and my blog is still frabbed,
> so I'm going to spider this and persist.
>
>  p.s. apologies if I missed other replies

I didn't see any, but I may have missed some too.


From jer at simianuprising.com  Mon Apr  5 02:27:24 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Sun, 4 Apr 2010 22:27:24 -0400
Subject: [wp-hackers] GSoC Proposal: Sort By Column
In-Reply-To: <h2w349fe48b1004031941iffa54b5j5cddf36bfc207357@mail.gmail.com>
References: <v2i349fe48b1004010251m4fa61950gf779a5098f676422@mail.gmail.com>
	<20100401095319.64D62183EADE2@dd19416.kasserver.com>
	<h2w349fe48b1004031941iffa54b5j5cddf36bfc207357@mail.gmail.com>
Message-ID: <y2ne1202cb11004041927m45db3d78g123247b10f94d5bf@mail.gmail.com>

I love the idea and think you are doing a good job of thinking through
the problems. +1 for the project.

Personally I think the radio+pulldown isn't the best solution.
Non-technical users will find it very strange compared to those of us
used to PHPMyAdmin and other user-spiteful software designed for
programmers. It seems like there is usually horizontal space for the
two buttons for asc and desc in the column headers so that's a decent
idea. Another would be to have a hover state that showed the word
'sort', and clicking on it popped up a favorites-style pulldown for
sort ascending and sort descending.

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From scribu at gmail.com  Mon Apr  5 07:41:11 2010
From: scribu at gmail.com (scribu)
Date: Mon, 5 Apr 2010 10:41:11 +0300
Subject: [wp-hackers] GSoC Proposal: Sort By Column
In-Reply-To: <y2ne1202cb11004041927m45db3d78g123247b10f94d5bf@mail.gmail.com>
References: <v2i349fe48b1004010251m4fa61950gf779a5098f676422@mail.gmail.com>
	<20100401095319.64D62183EADE2@dd19416.kasserver.com>
	<h2w349fe48b1004031941iffa54b5j5cddf36bfc207357@mail.gmail.com>
	<y2ne1202cb11004041927m45db3d78g123247b10f94d5bf@mail.gmail.com>
Message-ID: <r2s349fe48b1004050041y69b39bf1k9305a48669b435a1@mail.gmail.com>

Thanks for the feedback.

I don't think I'll go with the radio+pulldown approach after all:

A few days ago, a friend of mine discovered the "Posts per page" screen
option and thught it was introduced in WP 3.0, when it's actually been there
since WP 2.8.

I don't want that to happen to the sortable columns feature.


-- 
http://scribu.net

From scribu at gmail.com  Mon Apr  5 07:55:19 2010
From: scribu at gmail.com (scribu)
Date: Mon, 5 Apr 2010 10:55:19 +0300
Subject: [wp-hackers] GSoC Proposal: Sort By Column
In-Reply-To: <r2s349fe48b1004050041y69b39bf1k9305a48669b435a1@mail.gmail.com>
References: <v2i349fe48b1004010251m4fa61950gf779a5098f676422@mail.gmail.com>
	<20100401095319.64D62183EADE2@dd19416.kasserver.com>
	<h2w349fe48b1004031941iffa54b5j5cddf36bfc207357@mail.gmail.com>
	<y2ne1202cb11004041927m45db3d78g123247b10f94d5bf@mail.gmail.com>
	<r2s349fe48b1004050041y69b39bf1k9305a48669b435a1@mail.gmail.com>
Message-ID: <j2m349fe48b1004050055p40e34890s4a4166e84c49c7ed@mail.gmail.com>

Here's another idea: the regular phpMyAdmin approach, but with a twist:
double-clicking would do a DESC sort directly. This way, you skip an extra
request.

I have experience attaching both click and double-click events to the same
element, so I know it can be done.


-- 
http://scribu.net

From wp-hackers at striderweb.com  Mon Apr  5 12:26:53 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon, 5 Apr 2010 07:26:53 -0500
Subject: [wp-hackers] GSoC Proposal: Sort By Column
In-Reply-To: <j2m349fe48b1004050055p40e34890s4a4166e84c49c7ed@mail.gmail.com>
References: <v2i349fe48b1004010251m4fa61950gf779a5098f676422@mail.gmail.com>
	<20100401095319.64D62183EADE2@dd19416.kasserver.com>
	<h2w349fe48b1004031941iffa54b5j5cddf36bfc207357@mail.gmail.com>
	<y2ne1202cb11004041927m45db3d78g123247b10f94d5bf@mail.gmail.com>
	<r2s349fe48b1004050041y69b39bf1k9305a48669b435a1@mail.gmail.com>
	<j2m349fe48b1004050055p40e34890s4a4166e84c49c7ed@mail.gmail.com>
Message-ID: <35601366-4D20-472C-8F72-6BC97EE8C323@striderweb.com>

I think it's a fairly common interface in software (thus intuitive by way of familiarity) for columns to be sorted when they're clicked.  Forget click/ double-click.  Make a single click a toggle.  Click.  Sort Ascending.  Click.  Sort Descending.

A tiptext via title attribute could say "click to sort column", but otherwise a simple up/down arrow or triangle in the column being sorted should suffice for visual cue.

Stephen

On Apr 5, 2010, at 2:55 AM, scribu wrote:

> Here's another idea: the regular phpMyAdmin approach, but with a twist:
> double-clicking would do a DESC sort directly. This way, you skip an extra
> request.
> 
> I have experience attaching both click and double-click events to the same
> element, so I know it can be done.


From sutharshan02 at gmail.com  Mon Apr  5 12:47:47 2010
From: sutharshan02 at gmail.com (sutharshan balachandren)
Date: Mon, 5 Apr 2010 18:17:47 +0530
Subject: [wp-hackers] Connect the world & publish Everywhere
Message-ID: <r2g3fa40cbc1004050547ybbe0dc9dka9045254cedfd09e@mail.gmail.com>

I'm thinking about a  new plug-in for word press which can take word press
blog to another level.

What I?m suggesting is that by creating a plug-in or by adding a new module
in the core of the wordpress and let all the word press users to publish
their blogs and wordpress website in all websites and other blogs just by
adding a piece of JavaScript.

This feature has two sub modules.

1.      Publishing module

2.      Display code fragment

The administrator can configure and manage the publishing settings of the
articles that they post. A small part of the article will be displayed in
the web pages that they put the code fragment.

In the display code fragment, the user who puts the code in his blog or
website can change the font, color, number of post etc... It?s very similar
to Google ad sense code fragments. The main advantage of the plug-in is that
the code fragment will be developed using Ajax technology, therefore in any
web servers, in any platform the code can run.

Some of the changes that can be done by just editing the JavaScript values
are given below.


   - 1      Font size, font type, color and styles
   - 2.      Display panel width & height
   - 3.      Number of blog ads in single panel
   - 4.      Blog arrangements (vertical listing | horizontal listing)

Not only this, lots of more features can be added in this module.

Just by having a module like this, there is no need to put links in all
website each time when we publish an article in our blogs. The latest
articles will be displayed automatically by this module in all web pages
which have the code fragment on it.

My opinion is to add this module in the core which can let connect all word
press users very easily and also by adding some other features in the admin
panel like favorite blogs to let all the users to stay connected through
wordpress. This is one of the better option to develop a community by using
wordpress.

I have just tried the prototype of this module in a standalone web
application and its works fine. The prototype only has the display unit
using Ajax and Its done for ad sense.

URL: http://www.iads.izonedevelopers.com

I?m looking forward for all of your opinions. I'm interested in developing
this plug-in. Therefore each of your opinion is more valuable to me.


Thank you.

-- 
with love

Sutharshan

From sutharshan02 at gmail.com  Mon Apr  5 12:50:22 2010
From: sutharshan02 at gmail.com (sutharshan balachandren)
Date: Mon, 5 Apr 2010 18:20:22 +0530
Subject: [wp-hackers] Email list and email tracking in word press
In-Reply-To: <z2v3fa40cbc1004050539x1208fc77h1d4b6b9ba7848e5e@mail.gmail.com>
References: <z2v3fa40cbc1004050539x1208fc77h1d4b6b9ba7848e5e@mail.gmail.com>
Message-ID: <h2x3fa40cbc1004050550uc0275a63mb8321c0b23227d55@mail.gmail.com>

*Email list and email tracking in word press*

I would like to suggest a new idea which I have partly implemented in my
website as well. Since I'm a word press user one main feature that I feel as
lacking is the mail list with tracking. So it will be nice to have a plug in
with these features.

My idea is that, once we post an article in our blog, we should be able to
send that to the viewers or subscribers who subscribed to that category in
email. The email will be send using the mail list based on the category of
the post we made. Users are able to subscribe to the emails based on the
categories they like and they can subscribe for multiple categories as well.

Also I?ll suggest another idea regarding the same email plug-in is email
tracking module. Once the user opens the email which was send using word
press, Sender (administrator of the blog) should get a notification
regarding that in admin panel. It means we should be able to view how many
users read our email. By this tracking system we can be able to manage the
mail list effectively. Not only the number of users but also we should be
able to see who have viewed the emails as well. I have tried the prototype
of this tracking system as a standalone web based application and I have
succeeded on that.

I'll really love to see this feature in word press, since I like to use word
press for all kinds of needs in a website.

Please visit my blog for more clear details about the mail tracking system.

http://www.sutharshan.izonedevelopers.com

I'm looking forward to hear your comments.
-- 
with love

Sutharshan

From scribu at gmail.com  Mon Apr  5 12:55:24 2010
From: scribu at gmail.com (scribu)
Date: Mon, 5 Apr 2010 15:55:24 +0300
Subject: [wp-hackers] Connect the world & publish Everywhere
In-Reply-To: <r2g3fa40cbc1004050547ybbe0dc9dka9045254cedfd09e@mail.gmail.com>
References: <r2g3fa40cbc1004050547ybbe0dc9dka9045254cedfd09e@mail.gmail.com>
Message-ID: <r2m349fe48b1004050555mefcd7bdmccab37166c492b8@mail.gmail.com>

-1

but I agree it would be helpful

On 4/5/10, sutharshan balachandren <sutharshan02 at gmail.com> wrote:
> I'm thinking about a  new plug-in for word press which can take word press
> blog to another level.
>
> What I?m suggesting is that by creating a plug-in or by adding a new module
> in the core of the wordpress and let all the word press users to publish
> their blogs and wordpress website in all websites and other blogs just by
> adding a piece of JavaScript.
>
> This feature has two sub modules.
>
> 1.      Publishing module
>
> 2.      Display code fragment
>
> The administrator can configure and manage the publishing settings of the
> articles that they post. A small part of the article will be displayed in
> the web pages that they put the code fragment.
>
> In the display code fragment, the user who puts the code in his blog or
> website can change the font, color, number of post etc... It?s very similar
> to Google ad sense code fragments. The main advantage of the plug-in is that
> the code fragment will be developed using Ajax technology, therefore in any
> web servers, in any platform the code can run.
>
> Some of the changes that can be done by just editing the JavaScript values
> are given below.
>
>
>    - 1      Font size, font type, color and styles
>    - 2.      Display panel width & height
>    - 3.      Number of blog ads in single panel
>    - 4.      Blog arrangements (vertical listing | horizontal listing)
>
> Not only this, lots of more features can be added in this module.
>
> Just by having a module like this, there is no need to put links in all
> website each time when we publish an article in our blogs. The latest
> articles will be displayed automatically by this module in all web pages
> which have the code fragment on it.
>
> My opinion is to add this module in the core which can let connect all word
> press users very easily and also by adding some other features in the admin
> panel like favorite blogs to let all the users to stay connected through
> wordpress. This is one of the better option to develop a community by using
> wordpress.
>
> I have just tried the prototype of this module in a standalone web
> application and its works fine. The prototype only has the display unit
> using Ajax and Its done for ad sense.
>
> URL: http://www.iads.izonedevelopers.com
>
> I?m looking forward for all of your opinions. I'm interested in developing
> this plug-in. Therefore each of your opinion is more valuable to me.
>
>
> Thank you.
>
> --
> with love
>
> Sutharshan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
http://scribu.net

From scribu at gmail.com  Mon Apr  5 12:57:50 2010
From: scribu at gmail.com (scribu)
Date: Mon, 5 Apr 2010 15:57:50 +0300
Subject: [wp-hackers] Email list and email tracking in word press
In-Reply-To: <h2x3fa40cbc1004050550uc0275a63mb8321c0b23227d55@mail.gmail.com>
References: <z2v3fa40cbc1004050539x1208fc77h1d4b6b9ba7848e5e@mail.gmail.com>
	<h2x3fa40cbc1004050550uc0275a63mb8321c0b23227d55@mail.gmail.com>
Message-ID: <h2g349fe48b1004050557v1f08b557mf9646e269b435b07@mail.gmail.com>

There already are several email subscription plugins. The one I know
off the top of my head is Subscribe2:

http://wordpress.org/extend/plugins/subscribe2/

-- 
http://scribu.net

From scribu at gmail.com  Mon Apr  5 12:59:55 2010
From: scribu at gmail.com (scribu)
Date: Mon, 5 Apr 2010 15:59:55 +0300
Subject: [wp-hackers] Connect the world & publish Everywhere
In-Reply-To: <r2m349fe48b1004050555mefcd7bdmccab37166c492b8@mail.gmail.com>
References: <r2g3fa40cbc1004050547ybbe0dc9dka9045254cedfd09e@mail.gmail.com>
	<r2m349fe48b1004050555mefcd7bdmccab37166c492b8@mail.gmail.com>
Message-ID: <r2p349fe48b1004050559g337a575ar565ca482237b0633@mail.gmail.com>

Sorry for the first reply (I managed to hit send by mistake).

What I was trying to say is:

-10 on including something like this in core

I agree it would be helpful if you wanted to use WordPress as an ad server.

-- 
http://scribu.net

From sutharshan02 at gmail.com  Mon Apr  5 13:08:09 2010
From: sutharshan02 at gmail.com (sutharshan balachandren)
Date: Mon, 5 Apr 2010 18:38:09 +0530
Subject: [wp-hackers] Connect the world & publish Everywhere
In-Reply-To: <r2p349fe48b1004050559g337a575ar565ca482237b0633@mail.gmail.com>
References: <r2g3fa40cbc1004050547ybbe0dc9dka9045254cedfd09e@mail.gmail.com>
	<r2m349fe48b1004050555mefcd7bdmccab37166c492b8@mail.gmail.com>
	<r2p349fe48b1004050559g337a575ar565ca482237b0633@mail.gmail.com>
Message-ID: <y2k3fa40cbc1004050608pdd1ec1aeica932d91988ccb8b@mail.gmail.com>

I thought about creating this plugin to publish the word press blog in other
websites like showing the latest articles titles and a small summery.
Well I accept that adding something like this in core seems very silly. The
idea came from blog spot,where we can view the followers in each blog. So i
thought rather than just showing the followers, Showing the latest articles
will be more useful.

Anyway Its just an idea. I'm not an expert in word press,but i'm using it
for last few months and my suggestions are based on my experience.

On Mon, Apr 5, 2010 at 6:29 PM, scribu <scribu at gmail.com> wrote:

> Sorry for the first reply (I managed to hit send by mistake).
>
> What I was trying to say is:
>
> -10 on including something like this in core
>
> I agree it would be helpful if you wanted to use WordPress as an ad server.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
with love

Sutharshan

From sutharshan02 at gmail.com  Mon Apr  5 13:12:04 2010
From: sutharshan02 at gmail.com (sutharshan balachandren)
Date: Mon, 5 Apr 2010 18:42:04 +0530
Subject: [wp-hackers] Email list and email tracking in word press
In-Reply-To: <h2g349fe48b1004050557v1f08b557mf9646e269b435b07@mail.gmail.com>
References: <z2v3fa40cbc1004050539x1208fc77h1d4b6b9ba7848e5e@mail.gmail.com>
	<h2x3fa40cbc1004050550uc0275a63mb8321c0b23227d55@mail.gmail.com>
	<h2g349fe48b1004050557v1f08b557mf9646e269b435b07@mail.gmail.com>
Message-ID: <h2o3fa40cbc1004050612ud79fbd99m9ef6d978f95135cc@mail.gmail.com>

In subscribe2 is it possible to track how many users have viewed the email
and who have viewed it?
I'm not familiar with that plugin, i just installed and tried. it would be
grateful if you can share your knowledge about the plugin.


On Mon, Apr 5, 2010 at 6:27 PM, scribu <scribu at gmail.com> wrote:

> There already are several email subscription plugins. The one I know
> off the top of my head is Subscribe2:
>
> http://wordpress.org/extend/plugins/subscribe2/
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
with love

Sutharshan

From scribu at gmail.com  Mon Apr  5 13:55:42 2010
From: scribu at gmail.com (scribu)
Date: Mon, 5 Apr 2010 16:55:42 +0300
Subject: [wp-hackers] Email list and email tracking in word press
In-Reply-To: <h2o3fa40cbc1004050612ud79fbd99m9ef6d978f95135cc@mail.gmail.com>
References: <z2v3fa40cbc1004050539x1208fc77h1d4b6b9ba7848e5e@mail.gmail.com>
	<h2x3fa40cbc1004050550uc0275a63mb8321c0b23227d55@mail.gmail.com>
	<h2g349fe48b1004050557v1f08b557mf9646e269b435b07@mail.gmail.com>
	<h2o3fa40cbc1004050612ud79fbd99m9ef6d978f95135cc@mail.gmail.com>
Message-ID: <u2g349fe48b1004050655l545bbe35u75fcc1e95c9c8c2d@mail.gmail.com>

I don't use it either. Just saying that it's available.

Also, there's Feedburner's email subscription service.

By the way, wp-hackers is for discussing issues related to WordPress
development. We have an ideas forum
<http://wordpress.org/extend/ideas/>which you can use.


-- 
http://scribu.net

From sutharshan02 at gmail.com  Mon Apr  5 14:06:59 2010
From: sutharshan02 at gmail.com (sutharshan balachandren)
Date: Mon, 5 Apr 2010 19:36:59 +0530
Subject: [wp-hackers] Email list and email tracking in word press
In-Reply-To: <u2g349fe48b1004050655l545bbe35u75fcc1e95c9c8c2d@mail.gmail.com>
References: <z2v3fa40cbc1004050539x1208fc77h1d4b6b9ba7848e5e@mail.gmail.com>
	<h2x3fa40cbc1004050550uc0275a63mb8321c0b23227d55@mail.gmail.com>
	<h2g349fe48b1004050557v1f08b557mf9646e269b435b07@mail.gmail.com>
	<h2o3fa40cbc1004050612ud79fbd99m9ef6d978f95135cc@mail.gmail.com>
	<u2g349fe48b1004050655l545bbe35u75fcc1e95c9c8c2d@mail.gmail.com>
Message-ID: <u2m3fa40cbc1004050706h5d226bb7o19b33dbf8c4d72e7@mail.gmail.com>

I'm interest to participate in the gsoc 2010 and I just want to find out a
good proposal for that.
I have done some mistakes in the way that i described about the proposal. I
should have  make it more clear and more specific. I'm sorry for
the inconvenience and i'll try my best to give it in the rightway.

Thank you.


On Mon, Apr 5, 2010 at 7:25 PM, scribu <scribu at gmail.com> wrote:

> I don't use it either. Just saying that it's available.
>
> Also, there's Feedburner's email subscription service.
>
> By the way, wp-hackers is for discussing issues related to WordPress
> development. We have an ideas forum
> <http://wordpress.org/extend/ideas/>which you can use.
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
with love

Sutharshan

From jer at simianuprising.com  Mon Apr  5 14:12:16 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 5 Apr 2010 10:12:16 -0400
Subject: [wp-hackers] GSoC Proposal: Sort By Column
In-Reply-To: <35601366-4D20-472C-8F72-6BC97EE8C323@striderweb.com>
References: <v2i349fe48b1004010251m4fa61950gf779a5098f676422@mail.gmail.com>
	<20100401095319.64D62183EADE2@dd19416.kasserver.com>
	<h2w349fe48b1004031941iffa54b5j5cddf36bfc207357@mail.gmail.com>
	<y2ne1202cb11004041927m45db3d78g123247b10f94d5bf@mail.gmail.com>
	<r2s349fe48b1004050041y69b39bf1k9305a48669b435a1@mail.gmail.com>
	<j2m349fe48b1004050055p40e34890s4a4166e84c49c7ed@mail.gmail.com>
	<35601366-4D20-472C-8F72-6BC97EE8C323@striderweb.com>
Message-ID: <l2ie1202cb11004050712sd195a91bxa8679bc62826d3fd@mail.gmail.com>

On Mon, Apr 5, 2010 at 8:26 AM, Stephen Rider <wp-hackers at striderweb.com> wrote:
> I think it's a fairly common interface in software (thus intuitive by way of familiarity) for columns to be sorted when they're clicked. ?Forget click/ double-click. ?Make a single click a toggle. ?Click. ?Sort Ascending. ?Click. ?Sort Descending.
>
> A tiptext via title attribute could say "click to sort column", but otherwise a simple up/down arrow or triangle in the column being sorted should suffice for visual cue.

I lean toward this perspective too. The added time for double-sorting
in some cases is probably acceptable given the massive increase in
obviousness. The feature will probably not be used often anyway: it's
important that its available when you need it, but most people will
only use it when they are doing rare site re-organization etc.

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From stas at nerd.ro  Mon Apr  5 14:14:27 2010
From: stas at nerd.ro (Stas =?UTF-8?Q?Su=C8=99cov?=)
Date: Mon, 05 Apr 2010 17:14:27 +0300
Subject: [wp-hackers] Email list and email tracking in word press
In-Reply-To: <u2m3fa40cbc1004050706h5d226bb7o19b33dbf8c4d72e7@mail.gmail.com>
References: <z2v3fa40cbc1004050539x1208fc77h1d4b6b9ba7848e5e@mail.gmail.com>
	<h2x3fa40cbc1004050550uc0275a63mb8321c0b23227d55@mail.gmail.com>
	<h2g349fe48b1004050557v1f08b557mf9646e269b435b07@mail.gmail.com>
	<h2o3fa40cbc1004050612ud79fbd99m9ef6d978f95135cc@mail.gmail.com>
	<u2g349fe48b1004050655l545bbe35u75fcc1e95c9c8c2d@mail.gmail.com>
	<u2m3fa40cbc1004050706h5d226bb7o19b33dbf8c4d72e7@mail.gmail.com>
Message-ID: <1270476867.18035.7.camel@rivalry.c7.campus.utcluj.ro>

?n data de Lu, 05-04-2010 la 19:36 +0530, sutharshan balachandren a
scris:
> I'm interest to participate in the gsoc 2010 and I just want to find out a
> good proposal for that.
> I have done some mistakes in the way that i described about the proposal. I
> should have  make it more clear and more specific. I'm sorry for
> the inconvenience and i'll try my best to give it in the rightway.

Join #wordpress-gsoc on freenode
Most of the guys and mentors who are involved in GSoC 2010 are hanging
there. Also there's an official chat scheduled for April 7 at 20:30 UTC
(4:30pm eastern).

-- 
()  Campania Panglicii ?n ASCII
/\  http://stas.nerd.ro/ascii/


From jnachlin at sixapart.com  Mon Apr  5 16:32:16 2010
From: jnachlin at sixapart.com (James Nachlin)
Date: Mon, 05 Apr 2010 12:32:16 -0400
Subject: [wp-hackers] Dashboard plugin/widget development - create new post
Message-ID: <4BBA1090.20002@sixapart.com>


Hi List,

I thought this would be easy at first.  Maybe it is.

I am developing a dashboard widget that creates a post.  Trying to 
emulate what QuickPress does, only the title is from a select box, 
instead of text input.

Here is the form.  It points at wp-admin/post.php.  I get redirected to 
edit.php, but no post shows up.  No error message
ether.


<?php
    function draw_form($instance) {
        global $qotd_user_id, $qotd_base_url, $local_url;

        $json = $this->get_questions($qotd_user_id);
        ?>
            <form id="answerform" name="answerform" action="<?php echo 
esc_url( admin_url( 'post.php' ) ); ?>" method="post">
                <h4 id="content-label"><label 
for="content">Question</label></h4>
                <select>
        <?php
        foreach($json as &$q) {
            ?>
                    <option value="<?php echo $q{'pk'} ?>"><?php echo
$q{'fields'}{'text'} ?></option>
            <?php
        }
        ?>
                </select>
                <h4 id="content-label"><label for="content">Answer</
label></h4>
                    <div class="textarea-wrap">
                            <textarea name="content" id="content" 
class="mceEditor"
rows="3" cols="15" tabindex="2"></textarea>
                    </div>
                        <p class="submit">
                                <input type="hidden" 
name="conversation_post_ID" value="0" /
 >
                                <input type="hidden" id="_wpnonce" 
name="_wpnonce" value="<?
php echo wp_create_nonce( "conversate_$qotd_user_id" ) ?>" />
                                <input type="submit" name="save" 
id="save-post"
class="button" tabindex="4" value="Save Draft" />
                    <input type="reset" value="Reset" class="button" /
 >
                                <input type="submit" name="publish" 
id="publish"
accesskey="p" tabindex="5"
                                    class="button-primary" 
value="Publish" />
                                                        <br class="clear" />
                        </p>
            </form>

        <?php
    }
?>

Thanks in advance for any help or suggestions!

-JIM

P.S.
Apologies if this question already posted.  I seem to be having posting 
issues.

From scribu at gmail.com  Mon Apr  5 16:42:14 2010
From: scribu at gmail.com (scribu)
Date: Mon, 5 Apr 2010 19:42:14 +0300
Subject: [wp-hackers] Dashboard plugin/widget development - create new
	post
In-Reply-To: <4BBA1090.20002@sixapart.com>
References: <4BBA1090.20002@sixapart.com>
Message-ID: <i2l349fe48b1004050942h9b871145jc3330aebacf0d2d3@mail.gmail.com>

If you copy-pasted the code from the QuickPress widget and simply replaced
the title <input> with your <select>, I don't see why it wouldn't work.


-- 
http://scribu.net

From scribu at gmail.com  Mon Apr  5 16:46:26 2010
From: scribu at gmail.com (scribu)
Date: Mon, 5 Apr 2010 19:46:26 +0300
Subject: [wp-hackers] Dashboard plugin/widget development - create new
	post
In-Reply-To: <i2l349fe48b1004050942h9b871145jc3330aebacf0d2d3@mail.gmail.com>
References: <4BBA1090.20002@sixapart.com>
	<i2l349fe48b1004050942h9b871145jc3330aebacf0d2d3@mail.gmail.com>
Message-ID: <y2s349fe48b1004050946u883c4b58v9acb1eb6bc087d86@mail.gmail.com>

Oh, no wonder it doesn't work:

First of all:

<input type="hidden" name="*conversation_post_ID*" value="0" />

WordPress expects post_ID (I think); it doesn't know what to do with
conversation_post_ID.

Secondly:

             <input type="hidden" id="_wpnonce" name="_wpnonce" value="<?
php echo wp_create_nonce( "*conversate_$qotd_user_id*" ) ?>" />

My guess is that it should be something else there.

Take a better look at the QuickPress code.


-- 
http://scribu.net

From jbloch at olympianetworks.com  Mon Apr  5 22:40:26 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Mon, 5 Apr 2010 18:40:26 -0400
Subject: [wp-hackers] WP Update Problems
Message-ID: <n2x8031bdef1004051540ke48410d3n56118fdef45fa9ed@mail.gmail.com>

Hi everybody,

I've been having a helluva time trying to get the automatic updater to work
on my Media Temple's dedicated virtual server to no avail, and I was hoping
someone here could help me figure out why it won't run right.

I'm running an install of the 3.0-beta1 with 0 plugins. So here's what
happens:

I start the download process normally, by using the link under the dashboard
menu in the admin section and choosing 'Update Automatically.'  After
downloading the latest version (zipped), the script hangs up on unpacking
it, then finally throws a fatal error (WP_DEBUG has to be on) saying:

"*Fatal error*: Allowed memory size of 33554432 bytes exhausted (tried to
allocate 6968 bytes) in *
/var/www/vhosts/my/file/path/wp-includes/formatting.php* on line *1216"*

*

I have already tried all of the following solutions:*

   - *Setting the folder permissions (wp-content and my server's tmp) to 777
   (I went overboard and set the entire web accessible directory and all its
   contents, and subdirectories to 777, actually)*
   - *Making sure php's safe_mode was set to off*
   - *Setting the open_basedir local and global values to null*
   - *chowning the web accessible directory and all subdirectories and
   content so that apache:apache has ownership rights*
   - *scouring google searches, WP forums, and Media Temple's knowledge base
   for similar problems hoping to find a solution.*

*Plenty of people seem to have the same problem, but nobody seems to know
how to fix it. Do any of you have any ideas? Any advice you can give is
greatly appreciated.*
*
*
*Thanks!*
John P. Bloch

From matt at sivel.net  Mon Apr  5 22:47:49 2010
From: matt at sivel.net (Matt Martz)
Date: Mon, 5 Apr 2010 17:47:49 -0500
Subject: [wp-hackers] WP Update Problems
In-Reply-To: <n2x8031bdef1004051540ke48410d3n56118fdef45fa9ed@mail.gmail.com>
References: <n2x8031bdef1004051540ke48410d3n56118fdef45fa9ed@mail.gmail.com>
Message-ID: <j2zdc2b0e8a1004051547rd6645845ned7a4edfe31036f4@mail.gmail.com>

> "*Fatal error*: Allowed memory size of 33554432 bytes exhausted (tried to
> allocate 6968 bytes) in *
> /var/www/vhosts/my/file/path/wp-includes/formatting.php* on line *1216"*
>
> *Plenty of people seem to have the same problem, but nobody seems to know
> how to fix it. Do any of you have any ideas? Any advice you can give is
> greatly appreciated.*

Seems like you didn't try the one thing that the error actually
mentioned which was that it ran out of memory.  You should set
memory_limit in php.ini to something higher than 32M, perhaps 64M.  Or
if you don't have access to php.ini you can set the following in
wp-config.php

define('WP_MEMORY_LIMIT', '64M');

Put that above the line that reads /* That's all, stop editing! Happy
blogging. */

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From ezs at evilzenscientist.com  Mon Apr  5 22:50:32 2010
From: ezs at evilzenscientist.com (Evil ZEN Scientist)
Date: Mon, 5 Apr 2010 15:50:32 -0700
Subject: [wp-hackers] WP Update Problems
In-Reply-To: <n2x8031bdef1004051540ke48410d3n56118fdef45fa9ed@mail.gmail.com>
References: <n2x8031bdef1004051540ke48410d3n56118fdef45fa9ed@mail.gmail.com>
Message-ID: <q2sb2c204581004051550s27a999ecv2fd72fa5810b9055@mail.gmail.com>

Update your php.ini to allow more memory - PHP is running out of RAM.

On my dedicated box I've given up to a gig of RAM.

/etc/php5/apache2/php.ini

[PHP5]
memory_limit = 1024M



On Mon, Apr 5, 2010 at 3:40 PM, John Bloch <jbloch at olympianetworks.com>wrote:

> Hi everybody,
>
> I've been having a helluva time trying to get the automatic updater to work
> on my Media Temple's dedicated virtual server to no avail, and I was hoping
> someone here could help me figure out why it won't run right.
>
> I'm running an install of the 3.0-beta1 with 0 plugins. So here's what
> happens:
>
> I start the download process normally, by using the link under the
> dashboard
> menu in the admin section and choosing 'Update Automatically.'  After
> downloading the latest version (zipped), the script hangs up on unpacking
> it, then finally throws a fatal error (WP_DEBUG has to be on) saying:
>
> "*Fatal error*: Allowed memory size of 33554432 bytes exhausted (tried to
> allocate 6968 bytes) in *
> /var/www/vhosts/my/file/path/wp-includes/formatting.php* on line *1216"*
>
> *
>
> I have already tried all of the following solutions:*
>
>   - *Setting the folder permissions (wp-content and my server's tmp) to 777
>   (I went overboard and set the entire web accessible directory and all its
>   contents, and subdirectories to 777, actually)*
>   - *Making sure php's safe_mode was set to off*
>   - *Setting the open_basedir local and global values to null*
>   - *chowning the web accessible directory and all subdirectories and
>   content so that apache:apache has ownership rights*
>   - *scouring google searches, WP forums, and Media Temple's knowledge base
>   for similar problems hoping to find a solution.*
>
> *Plenty of people seem to have the same problem, but nobody seems to know
> how to fix it. Do any of you have any ideas? Any advice you can give is
> greatly appreciated.*
> *
> *
> *Thanks!*
> John P. Bloch
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ezs at evilzenscientist.com  Mon Apr  5 22:57:44 2010
From: ezs at evilzenscientist.com (Evil ZEN Scientist)
Date: Mon, 5 Apr 2010 15:57:44 -0700
Subject: [wp-hackers] GSOC idea
Message-ID: <t2gb2c204581004051557z455a9d8bp434ef76086074742@mail.gmail.com>

I'm not trolling for an idea to be accepted - just throwing an idea out that
needs work and would help me.

The Gallery project is in the final throes of releasing Gallery 3 - a big
change from Gallery 2. [1]

Historically there has been a great plugin - WPG2 -  that integrates the
user models and image selector into the post editor. [2]

There are a couple of efforts slowly picking up on moving this plugin to
support Gallery 3 - but someone with time and willingness would help move
this along [3] [4]

Thanks - and maybe this can get some traction.

--ezs


[1] http://gallery.menalto.com/
[2] http://wordpress.org/extend/plugins/wpg2/
[3] http://gallery.menalto.com/node/93195
[4] http://gallery.menalto.com/node/88398

From indk at ymail.com  Mon Apr  5 23:12:32 2010
From: indk at ymail.com (Deepak Seth)
Date: Tue, 6 Apr 2010 04:42:32 +0530 (IST)
Subject: [wp-hackers] GSOC PROPOSAL : CHILD THEMES SUPPORT IN WORDPRESS
Message-ID: <917139.26815.qm@web94708.mail.in2.yahoo.com>

=============================================================================
My GSOC Proposal online Site: http://gsocdk.wordpress.com/
Issue list online site: http://gsocdk.wordpress.com/2010/04/04/some-issues-involved-in-development/
=============================================================================
GSOC PROPOSAL : CHILD THEMES SUPPORT IN WORDPRESS.

Themes are vital component of any WordPress based site and as the WordPress Theme repository currently houses more than a thousand theme with over 13 Million Downloads and still counting?So it?s definetly a very?important section to deal with..!!

My proposal is based on bbPress plugin idea that gives the ability to theme developers to upload Child theme (dependent on ParentThemes) in the WordPress Theme Repository.It also allows the WordPress site Administrator to manage Child themes from there WP-Admin panel.So basically my idea divides the functionality of my plugin into two parts.

=============================================================================
====SUPPORT OF CHILD THEMES IN WordPress SITE====
=============================================================================

????* Theme Repository?s support for Child Themes : Since the introduction of Child theme a lot of developers have wanted the ability of theme repository to include Child Theme.
????* WordPress Theme Preview Support for Child Themes. : The WordPress Theme Preview Site(http://www.wp-themes.com)currently can not preview Child Themes.
????* Automated checking and validation for Child Themes.: WordPress currently supports Automated checking of uploaded Parent theme only(As they are the only ones supported.
????* WordPress Theme Moderation Support.: WordPress moderation for theme were done for one type of theme only but as the Child Theme will be supported so they will require a better moderation system.

=============================================================================
====SUPPORT OF WordPress FOR CHILD THEMES====
=============================================================================
????* Child Theme?s installation from within the WordPress administration Panel. Child Themes are currently not supported by WordPress admin and hence this section will make Installtion, Addition, Updation, Removal of Child Themes from within WordPress Administration Panel.
????* Child Theme Editor. :Theme Editor will be enhanced to support Child Themes.

=================================================================================================
?
------- WordPress 3.0 Theme related feature includes -------

????* A better tabbed UI for downloading and management of Main Themes only.(No Support for Child Themes)
????* Adds a New Twenty Ten Theme
????* Theme Editor For Child Theme(Unresolved-Ticket #12716 )
????* Custom Site Background Support(Great Feature)

----- My Plugin features for Administration Side Will include ------

????* Another Interface for Child Themes to be installed with?single click.(That includes a check for its dependency with the parent theme.)
????* Upgraded Theme Editor for Child Themes as well.
????* Support for version checking of child theme and there parent theme so as to find if they are compaitable with each other.

So, there is still no better support for Child Themes for the WordPress Administrator by WordPress 3.0.
=============================================================================

?ISSUES INVOLVED IN SUPPORT OF WordPress FOR CHILD THEMES

=============================================================================

----------------------------------------------------------
INSTALLATION ISSUES
----------------------------------------------------------
-If user tries to install child theme(manually)
??????????????-Parent theme exist
?????????????????????-parent version is compaitable?
????????????????????????????install theme
?????????????????????-Parent version is not compaitable
????????????????????????????sol1: die with error incompaitable parent theme
????????????????????????????sol2: download and upgrade existing parent theme
????????????????????????????sol3: let user download and upgrade manually
??????????????-Parent theme doesn't exist
?????????????????????sol1: die with error
?????????????????????sol2: download and install the parent theme
????????????????????????????- : what if WP theme repo doesn't have compaitable version
???????????????????????????????????sol: version check before dowloading theme from repo.
????????????????????????????- : what if WP theme repo doesn't have the theme.
???????????????????????????????????sol: die with error.
?-If user tries to install child theme (automatically)-from WP admin
??????????????-Parent theme exist
?????????????????????-Parent version is compaitable
????????????????????????????download only child theme and install theme
?????????????????????-Parent version is not compaitable
????????????????????????????sol1: die with error incompaitable parent theme
????????????????????????????sol2: download bundled version and upgrade existing parenttheme and install new child theme as well.
??????????????-Parent theme doesn't exist
?????????????????????sol1: die with error
?????????????????????sol2: download and install the bundled parent+child theme.
----------------------------------------------------------
UPDATION ISSUES
----------------------------------------------------------
-If user tries to update parent theme
????* Child theme is deactivated and is marked.though the site owner can reactivate it,as it might be yet supported.
-If user tries to update child theme
????* Parent theme is to be updated first else child theme can not be updated.(can only be done if there is a chance of automatic update
????* If child theme id updated and parent is same then theme is deactivated and a warning is shown to administrator if activated.??

----------------------------------------------------------
DELETION ISSUES
----------------------------------------------------------
- If user tries to delete Child Theme
?????? No issues involved and hence can delete it.
- If user tries to delete Parent Theme having Child Theme
??????Not Allowed
????????????? He has to first remove all Child Theme before Removing Parent Theme.
=============================================================================

?? SUPPORT OF CHILD THEMES IN WordPress SITE

=============================================================================
----------------------------------------------------------
AUTOMATED CHECKER
----------------------------------------------------------
???????-Needs to check if the parent theme exist and its currently uploaded version is compaitable with child theme.
???????-Certain template files will not exist for child template so automated cheker needs to check on that.
----------------------------------------------------------
UPLOADING ISSUES
----------------------------------------------------------
???????-Check for presense of compaitable parent theme in repo.
??????????????-If not found reject submission.
???????-Some one tries to upload a grandchild theme.
??????????????-Will be rejected as template tag contains the theme slug which doesn't exist as parent theme.
?????????????????????-What if it exist??
???????-What happens if author updates the parent theme
??????????????-All child theme becomes incompaitable with current version
?????????????????????sol1: Keep previous version of parent theme on update.
????????????????????????????-WHERE TO MAKE IT AVAILABLE IN FRONTEND??
?????????????????????sol2: Mark all child theme as incompaitable with current version.
????????????????????????????//Doesn't seems to be a good idea
???
----------------------------------------------------------
FRONTEND ISSUES
----------------------------------------------------------
Download ways of child theme(from WordPress site)
????* Bunduled with parent theme
????* Standalone download(OR SHOULD THERE BE NO STAND ALONE VERSION) 
????* Required in case user has parent already installed(though it can be seperated but might create issues with new users)
?
I have tried to figure out some of the issues that are directly linked to the plugin (though there may be more),So i would please request everyone, please let me know you valuable suggestion and comments for its improvement of the issues, and if you posses another possible solution then please share it with me.Please help me out.

--Deepak Seth


      The INTERNET now has a personality. YOURS! See your Yahoo! Homepage. http://in.yahoo.com/

From elizabeth at slatetechpdx.com  Mon Apr  5 23:19:59 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Mon, 5 Apr 2010 16:19:59 -0700
Subject: [wp-hackers] WPM(U|S) and table partitions
Message-ID: <v2rc399ae881004051619h50ec4fd8q268550a6c2b5e695@mail.gmail.com>

Has anyone explored table partitioning with wordpress?  I've Googled and
searched these archives, but I haven't found a reference.  I've been reading
up on MySQLs table partitioning (
http://dev.mysql.com/doc/refman/5.1/en/partitioning.html) after my husband
says that his company uses it with their Oracle servers.

I understand that for sites like wordpress.com and edublogs, having a
separation of content is really important.  Not to mention that since what
they have works fine, there's no reason to switch.  The site we're
developing for my client is not for users to make blogs but for managing
multiple sites.  So far wordpress mu has worked great.  Unfortunately, I've
been running into various foreach($blog_id) $wpdb->get_results('wp_' .
$blog_id . '_tablename'); issues. And having to create statistic tables just
to be able to do otherwise simple joings.  It seems that with proper
partitions that this would become less of an issue.

I was thinking a basic range partition on blog_id for most tables, with a
subpartition on date (month or year seeing how traffic goes) for comments
and posts.  I have various plugins that would use the blog_id partition as
well.

Categories makes for an interesting design problem.  There exists already,
wp_sitecategories, and the ids are the same ids used in wp_$blog_id_terms.
 I have some ideas, but nothing concrete yet.


From jbloch at olympianetworks.com  Mon Apr  5 23:30:20 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Mon, 5 Apr 2010 19:30:20 -0400
Subject: [wp-hackers] WP Update Problems
In-Reply-To: <q2sb2c204581004051550s27a999ecv2fd72fa5810b9055@mail.gmail.com>
References: <n2x8031bdef1004051540ke48410d3n56118fdef45fa9ed@mail.gmail.com>
	<q2sb2c204581004051550s27a999ecv2fd72fa5810b9055@mail.gmail.com>
Message-ID: <v2z8031bdef1004051630qce48ade0k8d796be8fe1b6575@mail.gmail.com>

Unfortunately, increasing the memory limit in php.ini (phpinfo shows it as
updated) only prolongs the time it takes the update to fail and throw the
same error with a larger number. The line number and file in which it hits
the limit are always the same too. I increased the memory limit to half of
the server's RAM, and that didn't do anything new. I'm going to call the
hosting providers tomorrow.

I tested this process on Godaddy linux shared hosting and it worked within
seconds. So it's definitely the server.

Thanks for the suggestions, though.

John P. Bloch


On Mon, Apr 5, 2010 at 6:50 PM, Evil ZEN Scientist <ezs at evilzenscientist.com
> wrote:

> Update your php.ini to allow more memory - PHP is running out of RAM.
>
> On my dedicated box I've given up to a gig of RAM.
>
> /etc/php5/apache2/php.ini
>
> [PHP5]
> memory_limit = 1024M
>
>
>
> On Mon, Apr 5, 2010 at 3:40 PM, John Bloch <jbloch at olympianetworks.com
> >wrote:
>
> > Hi everybody,
> >
> > I've been having a helluva time trying to get the automatic updater to
> work
> > on my Media Temple's dedicated virtual server to no avail, and I was
> hoping
> > someone here could help me figure out why it won't run right.
> >
> > I'm running an install of the 3.0-beta1 with 0 plugins. So here's what
> > happens:
> >
> > I start the download process normally, by using the link under the
> > dashboard
> > menu in the admin section and choosing 'Update Automatically.'  After
> > downloading the latest version (zipped), the script hangs up on unpacking
> > it, then finally throws a fatal error (WP_DEBUG has to be on) saying:
> >
> > "*Fatal error*: Allowed memory size of 33554432 bytes exhausted (tried to
> > allocate 6968 bytes) in *
> > /var/www/vhosts/my/file/path/wp-includes/formatting.php* on line *1216"*
> >
> > *
> >
> > I have already tried all of the following solutions:*
> >
> >   - *Setting the folder permissions (wp-content and my server's tmp) to
> 777
> >   (I went overboard and set the entire web accessible directory and all
> its
> >   contents, and subdirectories to 777, actually)*
> >   - *Making sure php's safe_mode was set to off*
> >   - *Setting the open_basedir local and global values to null*
> >   - *chowning the web accessible directory and all subdirectories and
> >   content so that apache:apache has ownership rights*
> >   - *scouring google searches, WP forums, and Media Temple's knowledge
> base
> >   for similar problems hoping to find a solution.*
> >
> > *Plenty of people seem to have the same problem, but nobody seems to know
> > how to fix it. Do any of you have any ideas? Any advice you can give is
> > greatly appreciated.*
> > *
> > *
> > *Thanks!*
> > John P. Bloch
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From charles at cefm.ca  Mon Apr  5 23:42:53 2010
From: charles at cefm.ca (Charles Frees-Melvin)
Date: Mon, 5 Apr 2010 20:42:53 -0300
Subject: [wp-hackers] GSOC idea
In-Reply-To: <t2gb2c204581004051557z455a9d8bp434ef76086074742@mail.gmail.com>
References: <t2gb2c204581004051557z455a9d8bp434ef76086074742@mail.gmail.com>
Message-ID: <4B5A56FD-B91C-4B75-ABCA-3EE2DD8C7E61@cefm.ca>

In reality due to the nature of the way gallery operates it uses the Kohana framework. There already exists a WordPress plugin in the repository to integrate a Kohona project into WordPress http://wordpress.org/extend/plugins/kohana-for-wordpress/ . In reality, with the new capabilities of the Gallery in Posts, use of BuddyPress, and custom post types it would be very interesting to see what we as a community can come up with to have a core plugin to host our own WordPress/BackPress powered Gallery. I think we can come up with something better than Gallery3 or NextGen Gallery.

On 2010-04-05, at 7:57 PM, Evil ZEN Scientist wrote:

> I'm not trolling for an idea to be accepted - just throwing an idea out that
> needs work and would help me.
> 
> The Gallery project is in the final throes of releasing Gallery 3 - a big
> change from Gallery 2. [1]
> 
> Historically there has been a great plugin - WPG2 -  that integrates the
> user models and image selector into the post editor. [2]
> 
> There are a couple of efforts slowly picking up on moving this plugin to
> support Gallery 3 - but someone with time and willingness would help move
> this along [3] [4]
> 
> Thanks - and maybe this can get some traction.
> 
> --ezs
> 
> 
> [1] http://gallery.menalto.com/
> [2] http://wordpress.org/extend/plugins/wpg2/
> [3] http://gallery.menalto.com/node/93195
> [4] http://gallery.menalto.com/node/88398
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ezs at evilzenscientist.com  Tue Apr  6 00:09:41 2010
From: ezs at evilzenscientist.com (Evil ZEN Scientist)
Date: Mon, 5 Apr 2010 17:09:41 -0700
Subject: [wp-hackers] GSOC idea
In-Reply-To: <4B5A56FD-B91C-4B75-ABCA-3EE2DD8C7E61@cefm.ca>
References: <t2gb2c204581004051557z455a9d8bp434ef76086074742@mail.gmail.com>
	<4B5A56FD-B91C-4B75-ABCA-3EE2DD8C7E61@cefm.ca>
Message-ID: <z2ib2c204581004051709xbba060b1x6dd3156be3188f23@mail.gmail.com>

Charles

I know - it's the migration of 100k photos that is the pain.



On Mon, Apr 5, 2010 at 4:42 PM, Charles Frees-Melvin <charles at cefm.ca>wrote:

> In reality due to the nature of the way gallery operates it uses the Kohana
> framework. There already exists a WordPress plugin in the repository to
> integrate a Kohona project into WordPress
> http://wordpress.org/extend/plugins/kohana-for-wordpress/ . In reality,
> with the new capabilities of the Gallery in Posts, use of BuddyPress, and
> custom post types it would be very interesting to see what we as a community
> can come up with to have a core plugin to host our own WordPress/BackPress
> powered Gallery. I think we can come up with something better than Gallery3
> or NextGen Gallery.
>
> On 2010-04-05, at 7:57 PM, Evil ZEN Scientist wrote:
>
> > I'm not trolling for an idea to be accepted - just throwing an idea out
> that
> > needs work and would help me.
> >
> > The Gallery project is in the final throes of releasing Gallery 3 - a big
> > change from Gallery 2. [1]
> >
> > Historically there has been a great plugin - WPG2 -  that integrates the
> > user models and image selector into the post editor. [2]
> >
> > There are a couple of efforts slowly picking up on moving this plugin to
> > support Gallery 3 - but someone with time and willingness would help move
> > this along [3] [4]
> >
> > Thanks - and maybe this can get some traction.
> >
> > --ezs
> >
> >
> > [1] http://gallery.menalto.com/
> > [2] http://wordpress.org/extend/plugins/wpg2/
> > [3] http://gallery.menalto.com/node/93195
> > [4] http://gallery.menalto.com/node/88398
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From shyameniw at gmail.com  Tue Apr  6 03:48:27 2010
From: shyameniw at gmail.com (Shyameni Wijekoon)
Date: Tue, 6 Apr 2010 09:18:27 +0530
Subject: [wp-hackers] GSOC BuddyPress Project
Message-ID: <n2qc9f8f4b81004052048t9b514187p91fed8e79299b10b@mail.gmail.com>

hello,
I am an undergraduate of University of Moratuwa Sri Lanka, and would like to
participate in BuddyPress project for GSCO2010.
I was wondering is there a specific set of ideas to choose from or do we
have to come up with our own ideas for BuddyPress?
I would be looking forward for a response .
-- 
Shyameni Wijekoon
University of Moratuwa.

From chinthakarukshan at gmail.com  Tue Apr  6 04:30:44 2010
From: chinthakarukshan at gmail.com (Chinthaka Rukshan)
Date: Tue, 6 Apr 2010 10:00:44 +0530
Subject: [wp-hackers] About Wordpress import/export GSoc project
Message-ID: <o2z7cd5f9e21004052130z889484e2o3d54aa107e9cac9d@mail.gmail.com>

Hi eeveryone,

Can anyone please tell me that do we have to develop both import and export
processes or Do we have to develop only one process. If you can help me it
would be pleasure.


Thank you.


-- 
Chinthaka Rukshan
"Open Your Mind"

From veeroxxor at gmail.com  Tue Apr  6 08:56:55 2010
From: veeroxxor at gmail.com (Vanessa Schlais)
Date: Tue, 6 Apr 2010 01:56:55 -0700
Subject: [wp-hackers] (no subject)
Message-ID: <6CC164E4-36E1-4242-80C7-C521A36EC7A4@gmail.com>


From adam at sixohthree.com  Tue Apr  6 09:37:06 2010
From: adam at sixohthree.com (Adam Backstrom)
Date: Tue, 6 Apr 2010 05:37:06 -0400
Subject: [wp-hackers] WPM(U|S) and table partitions
In-Reply-To: <v2rc399ae881004051619h50ec4fd8q268550a6c2b5e695@mail.gmail.com>
References: <v2rc399ae881004051619h50ec4fd8q268550a6c2b5e695@mail.gmail.com>
Message-ID: <l2g1e84ce271004060237o71e62606u653979146dd23711@mail.gmail.com>

Have you looked into HyperDB yet? It's an Automattic thing.

http://svn.wp-plugins.org/hyperdb/trunk/

<http://svn.wp-plugins.org/hyperdb/trunk/>I'm no expert on HyperDB (we are
still in the "planning on switching" stage) but I see a
get_ds_part_from_table()
function that handles the advertised support for partitioning. If I had to
guess, I would say you need to write a query filter to determine if you're
querying on one of your custom partitioned tables, and then modify the
incoming table name to match the expected partitioned table name syntax.
Others (or The Google) may have a more authoritative answer.

On Mon, Apr 5, 2010 at 19:19, Elizabeth Buckwalter <
elizabeth at slatetechpdx.com> wrote:

> Has anyone explored table partitioning with wordpress?  I've Googled and
> searched these archives, but I haven't found a reference.  I've been
> reading
> up on MySQLs table partitioning (
> http://dev.mysql.com/doc/refman/5.1/en/partitioning.html) after my husband
> says that his company uses it with their Oracle servers.
>
> I understand that for sites like wordpress.com and edublogs, having a
> separation of content is really important.  Not to mention that since what
> they have works fine, there's no reason to switch.  The site we're
> developing for my client is not for users to make blogs but for managing
> multiple sites.  So far wordpress mu has worked great.  Unfortunately, I've
> been running into various foreach($blog_id) $wpdb->get_results('wp_' .
> $blog_id . '_tablename'); issues. And having to create statistic tables
> just
> to be able to do otherwise simple joings.  It seems that with proper
> partitions that this would become less of an issue.
>
> I was thinking a basic range partition on blog_id for most tables, with a
> subpartition on date (month or year seeing how traffic goes) for comments
> and posts.  I have various plugins that would use the blog_id partition as
> well.
>
> Categories makes for an interesting design problem.  There exists already,
> wp_sitecategories, and the ids are the same ids used in wp_$blog_id_terms.
>  I have some ideas, but nothing concrete yet.
>
> From what I've seen of the internals, the table data is pretty abstracted.
>  With some if statements and reg exp, I think I can just add a ' WHERE
> blog_id=' . $blog_id to the query functions in the db class.  I'd allow for
> an 'all' => true or 'blog_id' => array(1..n) argument for easy sitewide
> searches.
>
> I'm still relatively new to Wordpress hacking, so I'd really love to get
> your opinion.  Are people interested in this as a contribution or option?
> Do
> you think wordpress's data abstraction is good enough to handle this?
>  There
> doesn't seem to be any performance related data with regards to Wordpress
> specifically, so if you are interested in performance data, what statements
> would you like me to run?
>
> (We have 60 blogs, with 40,000 posts with 2 or 3 more blogs with 100-200
> posts each a day.  I will be transferring that data to the test db to play
> around with.  I won't be activating any plugins at first.  I have a custom
> plugin with a bunch of user statistics data that I will then turn on and
> test)
>
> --
> Thanks,
> Elizabeth Buckwalter
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Adam Backstrom
adam at sixohthree.com

From jpotkanski at tribune.com  Tue Apr  6 14:34:15 2010
From: jpotkanski at tribune.com (Potkanski, Jason)
Date: Tue, 6 Apr 2010 09:34:15 -0500
Subject: [wp-hackers] WPM(U|S) and table partitions
In-Reply-To: <v2rc399ae881004051619h50ec4fd8q268550a6c2b5e695@mail.gmail.com>
Message-ID: <C7E0B097.25FE%jpotkanski@tribune.com>

There is a multi-db plugin provided by the guys at wpmudev.org. See http://premium.wpmudev.org/project/multi-db . WPMUDEV is a paywall site but the code is GPL.

--

Jason Potkanski
Tribune Technology



On 4/5/10 6:19 PM, "Elizabeth Buckwalter" <elizabeth at slatetechpdx.com> wrote:

Has anyone explored table partitioning with wordpress?  I've Googled and
searched these archives, but I haven't found a reference.  I've been reading
up on MySQLs table partitioning (
http://dev.mysql.com/doc/refman/5.1/en/partitioning.html) after my husband
says that his company uses it with their Oracle servers.

I understand that for sites like wordpress.com and edublogs, having a
separation of content is really important.  Not to mention that since what
they have works fine, there's no reason to switch.  The site we're
developing for my client is not for users to make blogs but for managing
multiple sites.  So far wordpress mu has worked great.  Unfortunately, I've
been running into various foreach($blog_id) $wpdb->get_results('wp_' .
$blog_id . '_tablename'); issues. And having to create statistic tables just
to be able to do otherwise simple joings.  It seems that with proper
partitions that this would become less of an issue.

I was thinking a basic range partition on blog_id for most tables, with a
subpartition on date (month or year seeing how traffic goes) for comments
and posts.  I have various plugins that would use the blog_id partition as
well.

Categories makes for an interesting design problem.  There exists already,
wp_sitecategories, and the ids are the same ids used in wp_$blog_id_terms.
 I have some ideas, but nothing concrete yet.


From ahuja.ankit at gmail.com  Tue Apr  6 14:41:22 2010
From: ahuja.ankit at gmail.com (Ankit Ahuja)
Date: Tue, 6 Apr 2010 20:11:22 +0530
Subject: [wp-hackers] [Gsoc] AJAXy Admin proposal
Message-ID: <t2g7e7585311004060741xd098fb3ax4583a4a6e7d5f8e6@mail.gmail.com>

I think there are several places where the Wordpress Admin can benefit from
using JavaScript and AJAX to improve the overall user experience as well as
speed up navigation and administration. This is particularly true for the
list-type views.

Here are a few places I think the WP admin can benefit from using AJAX to
avoid page refreshes:

1. Paging using AJAX (in list-type views)

Currently, going from one page of items to the next in a list type view,
such as the "Edit Posts" page (edit.php), means a page refresh. Instead,
this can be avoided and the content can be updated with the next page's
items using AJAX. This will speed up navigation across pages of items.
 2. No Page Refresh when filtering based on column value (in list-type
views)

In list-type views, Wordpress currently has ways to filter based on values
for certain columns. Example: On the "Edit Posts" page, user can filter
posts based on the month a post was published or the category to which a
post belongs. For these filters, a page refresh is required. This project
will get rid of this refresh and instead use AJAX to fetch the filtered list
of items and update the content.

3. Column based sorting (in list-type views)

For certain columns, column based sorting will be really useful. Example:

In the "Edit Posts" view, user will able to sort the list based on:
 1. Post title (character based)
2. Author (character based)
3. No. of comments
4. Date Published
And this sorting will be done using AJAX so that a page refresh is not
required.

4. AJAXy Filtering for text based search

In the list-type views, when the users enters some text and hits 'Search',
it results in a page refresh to load the filtered list of items. AJAX will
be used to avoid the refresh in this case as well.

5. Switching views (in list-type view)

Sometimes, a list-view has multiple views. For example, in the "Edit Posts"
page, user can view the list of "All", "Published" or "Draft" posts. When
switching between these views, a page refresh can be avoided by using AJAX.

6. Trashing/Restoring items

AJAX can also be used to avoid a page refresh when trashing or restoring
items in the list view.
 7. Saving Page/Post

When saving a draft or publishing or updating a post, a page refresh is very
annoying. Users like to save their work periodically and a refresh on every
save drives attention away from writing the blogpost. Using AJAX to save the
article will make the Wordpress editor more reminiscent of a desktop based
editor.

8. Updating template files

When editing a template file, updating the file requires a refresh. Using
AJAX when updating a file will make it fast to perform editing of
templates.

Thoughts? Ideas on other places where the WP Admin can benefit from using
AJAX?

Thanks!
-- Ankit Ahuja

From bulk at thecodecave.com  Tue Apr  6 15:14:58 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Tue, 6 Apr 2010 11:14:58 -0400
Subject: [wp-hackers] WPM(U|S) and table partitions
In-Reply-To: <C7E0B097.25FE%jpotkanski@tribune.com>
References: <v2rc399ae881004051619h50ec4fd8q268550a6c2b5e695@mail.gmail.com>
	<C7E0B097.25FE%jpotkanski@tribune.com>
Message-ID: <002401cad59b$ed169dd0$c743d970$@com>

Hi Elizabeth, 

I'd recommend you dig into HyperDB too. I think you'll find what you need
there. It is used by many of the larger WordPress installations:
http://codex.wordpress.org/HyperDB

- Brian Layman

On 4/6/10 "Jason Potkanski" wrote:
> There is a multi-db plugin provided by the guys at wpmudev.org. 
> See http://premium.wpmudev.org/project/multi-db . WPMUDEV is a paywall
site but the code is GPL.
> On 4/5/10 6:19 PM, "Elizabeth Buckwalter" 
>> Has anyone explored table partitioning with wordpress?  


From otto at ottodestruct.com  Tue Apr  6 15:42:49 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 6 Apr 2010 10:42:49 -0500
Subject: [wp-hackers] wp_nav_menu too simplistic?
Message-ID: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>

Anybody figured out how to use the new menus system to create a
dropdown menu? Generally I use this code in my top menus:

wp_list_pages('title_li=&depth=2&sort_column=menu_order');

Which creates a nested LI-UL-LI type of system out of top-level pages
and their children. With this, I can then easily use CSS hovers to
make it into a dropdown menu. You can do something similar with
wp_list_categories.

But the new menu system doesn't seem to have any way to do this sort
of thing. Or, at least, I haven't figured out a way yet. I thought it
was going to be more like widgets instead, where you have different
types of things you can drag onto a menu.

Basically, the new menus system just looks way too simplistic to me .
If the new menu system isn't as capable as the standard ways of doing
things, then why would a theme author ever implement it?

-Otto

From john.wp at onolan.org  Tue Apr  6 15:59:05 2010
From: john.wp at onolan.org (John O'Nolan)
Date: Tue, 6 Apr 2010 16:59:05 +0100
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
Message-ID: <49781B24-1134-48B9-8FC6-FC6A5B4C0545@onolan.org>

As far as I know this functionality has existed from the very start
http://www.woothemes.com/2010/01/the-awesome-custom-woo-navigation/

Your email was a little dramatic

John





On 6 Apr 2010, at 16:42, Otto wrote:

> Anybody figured out how to use the new menus system to create a
> dropdown menu? Generally I use this code in my top menus:
>
> wp_list_pages('title_li=&depth=2&sort_column=menu_order');
>
> Which creates a nested LI-UL-LI type of system out of top-level pages
> and their children. With this, I can then easily use CSS hovers to
> make it into a dropdown menu. You can do something similar with
> wp_list_categories.
>
> But the new menu system doesn't seem to have any way to do this sort
> of thing. Or, at least, I haven't figured out a way yet. I thought it
> was going to be more like widgets instead, where you have different
> types of things you can drag onto a menu.
>
> Basically, the new menus system just looks way too simplistic to me .
> If the new menu system isn't as capable as the standard ways of doing
> things, then why would a theme author ever implement it?
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From skeltoac at gmail.com  Tue Apr  6 16:15:38 2010
From: skeltoac at gmail.com (Andy Skelton)
Date: Tue, 6 Apr 2010 11:15:38 -0500
Subject: [wp-hackers] WPM(U|S) and table partitions
In-Reply-To: <v2rc399ae881004051619h50ec4fd8q268550a6c2b5e695@mail.gmail.com>
References: <v2rc399ae881004051619h50ec4fd8q268550a6c2b5e695@mail.gmail.com>
Message-ID: <p2oe6ec604d1004060915gce81469anbd803fa14bca0e4@mail.gmail.com>

Hi, Elizabeth,

> Has anyone explored table partitioning with wordpress?

You haven't said it in these words, but I believe you want all of the
blogs' comments and posts in monolithic comments/posts tables. This
would allow you to run analytical queries against the entire dataset,
avoiding foreaches. Unless you are acting in an environment where
economics can be ignored, I would advise against it.

There was a project called Lyceum http://lyceum.ibiblio.org/ that
basically took WordPress MU in that direction. It has been defunct for
almost two years. It proved to be uneconomical to maintain a version
of WordPress that diverged at such a deep level.

My advice is to denormalize any statistical data that needs to be used
for real-time business decisions, and continue to use foreach for
periodic statistics. By denormalize I mean duplicate the data in a
separate table designed for the analytical need.

Cheers,
Andy

> I understand that for sites like wordpress.com and edublogs, having a
> separation of content is really important. ?Not to mention that since what
> they have works fine, there's no reason to switch. ?The site we're
> developing for my client is not for users to make blogs but for managing
> multiple sites. ?So far wordpress mu has worked great. ?Unfortunately, I've
> been running into various foreach($blog_id) $wpdb->get_results('wp_' .
> $blog_id . '_tablename'); issues. And having to create statistic tables just
> to be able to do otherwise simple joings. ?It seems that with proper
> partitions that this would become less of an issue.
>
> I was thinking a basic range partition on blog_id for most tables, with a
> subpartition on date (month or year seeing how traffic goes) for comments
> and posts. ?I have various plugins that would use the blog_id partition as
> well.
>
> Categories makes for an interesting design problem. ?There exists already,
> wp_sitecategories, and the ids are the same ids used in wp_$blog_id_terms.
> ?I have some ideas, but nothing concrete yet.
>
> From what I've seen of the internals, the table data is pretty abstracted.
> ?With some if statements and reg exp, I think I can just add a ' WHERE
> blog_id=' . $blog_id to the query functions in the db class. ?I'd allow for
> an 'all' => true or 'blog_id' => array(1..n) argument for easy sitewide
> searches.
>
> I'm still relatively new to Wordpress hacking, so I'd really love to get
> your opinion. ?Are people interested in this as a contribution or option? Do
> you think wordpress's data abstraction is good enough to handle this? ?There
> doesn't seem to be any performance related data with regards to Wordpress
> specifically, so if you are interested in performance data, what statements
> would you like me to run?
>
> (We have 60 blogs, with 40,000 posts with 2 or 3 more blogs with 100-200
> posts each a day. ?I will be transferring that data to the test db to play
> around with. ?I won't be activating any plugins at first. ?I have a custom
> plugin with a bunch of user statistics data that I will then turn on and
> test)
>
> --
> Thanks,
> Elizabeth Buckwalter
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Tue Apr  6 16:27:11 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 6 Apr 2010 11:27:11 -0500
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <49781B24-1134-48B9-8FC6-FC6A5B4C0545@onolan.org>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com> 
	<49781B24-1134-48B9-8FC6-FC6A5B4C0545@onolan.org>
Message-ID: <r2v161617691004060927rd554dcedufd90030d3a4c17f8@mail.gmail.com>

On Tue, Apr 6, 2010 at 10:59 AM, John O'Nolan <john.wp at onolan.org> wrote:
> As far as I know this functionality has existed from the very start
> http://www.woothemes.com/2010/01/the-awesome-custom-woo-navigation/

Umm... That functionality I described isn't there at all *right now*,
as far as I can tell. That link shows how to add static links to
pages, which is not what I was describing.

-Otto

From john.wp at onolan.org  Tue Apr  6 16:42:01 2010
From: john.wp at onolan.org (John O'Nolan)
Date: Tue, 6 Apr 2010 17:42:01 +0100
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <r2v161617691004060927rd554dcedufd90030d3a4c17f8@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
	<49781B24-1134-48B9-8FC6-FC6A5B4C0545@onolan.org>
	<r2v161617691004060927rd554dcedufd90030d3a4c17f8@mail.gmail.com>
Message-ID: <3CA04D83-804B-408D-8EFB-56E393920A30@onolan.org>

"Which creates a nested LI-UL-LI type of system"

Yes it does that, based on whatever you put into the menu admin  
interface.


"of top-level pages and their children"

No it doesn't do that, why would it? If you wanted that, then you'd  
use wp_list_pages. It wouldn't make any sense to try and translate  
that into some sort of dynamic menu system... 99% of users would have  
no use for it as their menus aren't even big enough to worry about  
needing a dynamic query.


"If the new menu system isn't as capable as the standard ways of doing  
things, then why would a theme author ever implement it?"

Because it's much MORE capable. I don't need to explain to my users  
"create some categories and some pages and they'll show up in your  
nav, then go to this other page and select the Page and Category ID's  
to exclude from this menu, you can find out the ID by going to  
the...... hey, what are you doing? Wake up! What do you mean you want  
them in a different order, no we can't do that. Oh you want a custom  
link in your nav? Too bad."

Instead I'll say "Go to the menus section, and create your navigation  
menu with whatever pages, categories or links that you want and drag 
+drop to arrange them."


John







On 6 Apr 2010, at 17:27, Otto wrote:

> On Tue, Apr 6, 2010 at 10:59 AM, John O'Nolan <john.wp at onolan.org>  
> wrote:
>> As far as I know this functionality has existed from the very start
>> http://www.woothemes.com/2010/01/the-awesome-custom-woo-navigation/
>
> Umm... That functionality I described isn't there at all *right now*,
> as far as I can tell. That link shows how to add static links to
> pages, which is not what I was describing.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From admin at oxymaniac.com  Tue Apr  6 17:09:46 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Tue, 6 Apr 2010 22:39:46 +0530
Subject: [wp-hackers] [GSOC2010]WPmove
Message-ID: <n2g3f0d2d431004061009uc264e172ybc68bc93b4f5c52f@mail.gmail.com>

http://piyushmishra.com/blog/ideas/wpmove.html

This is just a brief proposal the details will be linked from this post...
:)

-- 
Regards
Piyush Mishra

From otto at ottodestruct.com  Tue Apr  6 17:24:47 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 6 Apr 2010 12:24:47 -0500
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <3CA04D83-804B-408D-8EFB-56E393920A30@onolan.org>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com> 
	<49781B24-1134-48B9-8FC6-FC6A5B4C0545@onolan.org>
	<r2v161617691004060927rd554dcedufd90030d3a4c17f8@mail.gmail.com>
	<3CA04D83-804B-408D-8EFB-56E393920A30@onolan.org>
Message-ID: <x2y161617691004061024u8049d1a1z9f27f3359e940350@mail.gmail.com>

On Tue, Apr 6, 2010 at 11:42 AM, John O'Nolan <john.wp at onolan.org> wrote:
> Because it's much MORE capable.

So, it's unable to create a dynamic menu of my pages, and that's
somehow "more" to you?

Look, I get drag and drop. Yay, lovely, fine. What I want to know is
why is it not more like the widgets mechanism, where I can, say, drag
and drop a "Pages" widget there and then configure it to show one of
my pages and all of that pages children underneath it? Seems like a
rather obvious thing to do, to me.

As it stands, every time I add a page, I'd have to go muck about with
my menu and adding that page to it. That seems like a major step
backwards to me.

Yay for reordering, yay for widgetization, but boo to poor selection
of possible menu items. This new menu system seems little better than
manually editing the HTML to me. Every item in it is a static link,
basically. You have to manually define every single one, there's no
intelligence here at all.

Is it even possible to expand the types of menu items with plugins?
I've only just started diving into this thing, but if there's some
kind of plugin that can add "smart" menu items, then maybe we'd be
getting somewhere.

-Otto

From dkoopersmith at gmail.com  Tue Apr  6 17:31:01 2010
From: dkoopersmith at gmail.com (Daryl Koopersmith)
Date: Tue, 6 Apr 2010 18:31:01 +0100
Subject: [wp-hackers] Modular Themes: Apply the template hierarchy to
	folders within a theme
Message-ID: <i2tbf58ca3c1004061031h4b85699t7951c4ce70ab2d84@mail.gmail.com>

Hey everyone,

I've recently been working on a patch and several posts explaining how
modular themes can improve WP. For anyone who's seen my presentation from
WordCamp Ireland, this is the patch I spoke about.

By applying the template hierarchy to folders within a theme, theme
developers will be able to break themes into modules and substantially
reduce repeated code.

If you look at Twenty Ten, it uses get_template_part() to simulate parts of
the template hierarchy when loading the loop (e.g. it looks for
loop-archive.php, then loop.php, etc.). However, any theme developer that
wants to implement the template hierarchy while loading a template part must
do so manually?there is currently no automated option. There are several
downsides to a manual implementation, namely the lack of a naming convention
and the sheer impossibility of implementing the entire template hierarchy by
hand. This patch solves that problem.

In addition, modular themes have the potential to transform theme
organization by reducing repeated code and making theme files more readable.

Based on my tests, this patch should not affect performance.

Interested?
*  Trac ticket: http://core.trac.wordpress.org/ticket/12877
*  Why we should add modular themes: http://wp.me/pS0xt-1f
*  How they can transform theme organization: http://wp.me/pS0xt-30
*  Performance tests: http://wp.me/pS0xt-3O

Finally, the patch has the added benefit of creating an accurate global
$wp_template_hierarchy object (and a getter method), so any plugin/theme can
access the template hierarchy for $wp_query.

Let me know what you think.

Thanks,
Daryl

From ncrice at gmail.com  Tue Apr  6 17:33:44 2010
From: ncrice at gmail.com (Nathan Rice)
Date: Tue, 6 Apr 2010 13:33:44 -0400
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <x2y161617691004061024u8049d1a1z9f27f3359e940350@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
	<49781B24-1134-48B9-8FC6-FC6A5B4C0545@onolan.org>
	<r2v161617691004060927rd554dcedufd90030d3a4c17f8@mail.gmail.com>
	<3CA04D83-804B-408D-8EFB-56E393920A30@onolan.org>
	<x2y161617691004061024u8049d1a1z9f27f3359e940350@mail.gmail.com>
Message-ID: <h2y862d087f1004061033tc95561e1pfc07cf2b15d148c6@mail.gmail.com>

Otto,
So (if I'm understanding you right), you would wish for the ability to
perhaps select a parent page and, say, 4 of its subpages, click "add" and
the hierarchy is maintained when they are added to the menu? (same for
categories)

Then, you could move the pages around, reorder, rearrange, etc.

+1 for that. I've always wondered a bit why the hierarchy isn't maintained
when adding groups of pages/cats to a menu.

------------------
Nathan Rice
WordPress and Web Development
www.nathanrice.net | twitter.com/nathanrice


On Tue, Apr 6, 2010 at 1:24 PM, Otto <otto at ottodestruct.com> wrote:

> On Tue, Apr 6, 2010 at 11:42 AM, John O'Nolan <john.wp at onolan.org> wrote:
> > Because it's much MORE capable.
>
> So, it's unable to create a dynamic menu of my pages, and that's
> somehow "more" to you?
>
> Look, I get drag and drop. Yay, lovely, fine. What I want to know is
> why is it not more like the widgets mechanism, where I can, say, drag
> and drop a "Pages" widget there and then configure it to show one of
> my pages and all of that pages children underneath it? Seems like a
> rather obvious thing to do, to me.
>
> As it stands, every time I add a page, I'd have to go muck about with
> my menu and adding that page to it. That seems like a major step
> backwards to me.
>
> Yay for reordering, yay for widgetization, but boo to poor selection
> of possible menu items. This new menu system seems little better than
> manually editing the HTML to me. Every item in it is a static link,
> basically. You have to manually define every single one, there's no
> intelligence here at all.
>
> Is it even possible to expand the types of menu items with plugins?
> I've only just started diving into this thing, but if there's some
> kind of plugin that can add "smart" menu items, then maybe we'd be
> getting somewhere.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From john.wp at onolan.org  Tue Apr  6 17:35:26 2010
From: john.wp at onolan.org (John O'Nolan)
Date: Tue, 6 Apr 2010 18:35:26 +0100
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <x2y161617691004061024u8049d1a1z9f27f3359e940350@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
	<49781B24-1134-48B9-8FC6-FC6A5B4C0545@onolan.org>
	<r2v161617691004060927rd554dcedufd90030d3a4c17f8@mail.gmail.com>
	<3CA04D83-804B-408D-8EFB-56E393920A30@onolan.org>
	<x2y161617691004061024u8049d1a1z9f27f3359e940350@mail.gmail.com>
Message-ID: <FED88968-D75B-4A3B-8BAA-4A87B509F033@onolan.org>


> On Tue, Apr 6, 2010 at 11:42 AM, John O'Nolan <john.wp at onolan.org>  
> wrote:
>> Because it's much MORE capable.
>
> So, it's unable to create a dynamic menu of my pages, and that's
> somehow "more" to you?
Yes, I'm suggesting that less is more. It's a strange concept, I know.

>
> Look, I get drag and drop. Yay, lovely, fine. What I want to know is
> why is it not more like the widgets mechanism, where I can, say, drag
> and drop a "Pages" widget there and then configure it to show one of
> my pages and all of that pages children underneath it? Seems like a
> rather obvious thing to do, to me.
>
> As it stands, every time I add a page, I'd have to go muck about with
> my menu and adding that page to it. That seems like a major step
> backwards to me.
>
> Yay for reordering, yay for widgetization, but boo to poor selection
> of possible menu items. This new menu system seems little better than
> manually editing the HTML to me. Every item in it is a static link,
> basically. You have to manually define every single one, there's no
> intelligence here at all.
Most people populate a navigation menu once when they build a site and  
about once a year after that. It's really not the huge deal you're  
making it out to be.

>
> Is it even possible to expand the types of menu items with plugins?
> I've only just started diving into this thing, but if there's some
> kind of plugin that can add "smart" menu items, then maybe we'd be
> getting somewhere.
No one is forcing you to use the new menus. If you prefer  
wp_list_pages then use that instead. Better yet, if you hate the way  
the current menus work so much, why not write some code that you think  
is an improvement?

>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From otto at ottodestruct.com  Tue Apr  6 17:42:50 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 6 Apr 2010 12:42:50 -0500
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <h2y862d087f1004061033tc95561e1pfc07cf2b15d148c6@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com> 
	<49781B24-1134-48B9-8FC6-FC6A5B4C0545@onolan.org>
	<r2v161617691004060927rd554dcedufd90030d3a4c17f8@mail.gmail.com>
	<3CA04D83-804B-408D-8EFB-56E393920A30@onolan.org>
	<x2y161617691004061024u8049d1a1z9f27f3359e940350@mail.gmail.com>
	<h2y862d087f1004061033tc95561e1pfc07cf2b15d148c6@mail.gmail.com>
Message-ID: <s2m161617691004061042qbf65cf97ne060404f55259786@mail.gmail.com>

On Tue, Apr 6, 2010 at 12:33 PM, Nathan Rice <ncrice at gmail.com> wrote:
> Otto,
> So (if I'm understanding you right), you would wish for the ability to
> perhaps select a parent page and, say, 4 of its subpages, click "add" and
> the hierarchy is maintained when they are added to the menu? (same for
> categories)
>
> Then, you could move the pages around, reorder, rearrange, etc.
>
> +1 for that. I've always wondered a bit why the hierarchy isn't maintained
> when adding groups of pages/cats to a menu.

What I would wish for is the ability to pick, say, one Page. And then
have all its subpages added under it and hierarchy maintained as well.
AND to have this done dynamically, so that I don't have to screw
around with the menu every time I add a Page.

Adding a Page right now causes it to auto-appear in my menus. I don't
want that to be some kind of silly manual process.

Looking closer at this menu system, it appears to only be storing
names and URLs. There's no hint of anything dynamically created here
at all, via callback or anything else. If I change the URL to one of
my Pages, for example, my menu is now invalid and broken.

So far, I'm very much -1 against it. It should be a whole lot smarter than this.

-Otto

From otto at ottodestruct.com  Tue Apr  6 17:46:25 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 6 Apr 2010 12:46:25 -0500
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <FED88968-D75B-4A3B-8BAA-4A87B509F033@onolan.org>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com> 
	<49781B24-1134-48B9-8FC6-FC6A5B4C0545@onolan.org>
	<r2v161617691004060927rd554dcedufd90030d3a4c17f8@mail.gmail.com>
	<3CA04D83-804B-408D-8EFB-56E393920A30@onolan.org>
	<x2y161617691004061024u8049d1a1z9f27f3359e940350@mail.gmail.com>
	<FED88968-D75B-4A3B-8BAA-4A87B509F033@onolan.org>
Message-ID: <k2h161617691004061046q81920502kb98c774682603bc1@mail.gmail.com>

On Tue, Apr 6, 2010 at 12:35 PM, John O'Nolan <john.wp at onolan.org> wrote:
> Yes, I'm suggesting that less is more. It's a strange concept, I know.

Less would be more, if less was expandable. That's the general
WordPress way, to create frameworks and let other people fill in those
gaps.

> Most people populate a navigation menu once when they build a site and about
> once a year after that. It's really not the huge deal you're making it out
> to be.

It's a step backwards in functionality, and yes, I think it is a big
deal. Especially since it seems extremely limited in scope and
non-expandable to boot.

> Better yet, if you hate the way the current menus work so
> much, why not write some code that you think is an improvement?

That's exactly what I have been trying to do, and that is why I was
ASKING these questions. I'm pretty sure I said 'Is it even possible to
expand the types of menu items with plugins?" If you don't know these
answers, then why are you responding at all?

-Otto

From john.wp at onolan.org  Tue Apr  6 18:30:39 2010
From: john.wp at onolan.org (John O'Nolan)
Date: Tue, 6 Apr 2010 19:30:39 +0100
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <k2h161617691004061046q81920502kb98c774682603bc1@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
	<49781B24-1134-48B9-8FC6-FC6A5B4C0545@onolan.org>
	<r2v161617691004060927rd554dcedufd90030d3a4c17f8@mail.gmail.com>
	<3CA04D83-804B-408D-8EFB-56E393920A30@onolan.org>
	<x2y161617691004061024u8049d1a1z9f27f3359e940350@mail.gmail.com>
	<FED88968-D75B-4A3B-8BAA-4A87B509F033@onolan.org>
	<k2h161617691004061046q81920502kb98c774682603bc1@mail.gmail.com>
Message-ID: <E50C3FE2-EC69-4126-9384-6519ABCAD7D1@onolan.org>



>> Better yet, if you hate the way the current menus work so
>> much, why not write some code that you think is an improvement?
>
> That's exactly what I have been trying to do, and that is why I was
> ASKING these questions. I'm pretty sure I said 'Is it even possible to
> expand the types of menu items with plugins?" If you don't know these
> answers, then why are you responding at all?

Really? At what point did you say "I'd love to improve this by writing  
in some extra functionality" ? As far as I can tell, all you're  
interested in doing is complaining.

I attempted several times to answer your questions, but you're just  
looking for a petty little fight rather than to do anything  
constructive - which I'm really not at all interested in I'm afraid.  
So I'll leave it at that.

Cheers

John

From ncrice at gmail.com  Tue Apr  6 18:33:42 2010
From: ncrice at gmail.com (Nathan Rice)
Date: Tue, 6 Apr 2010 14:33:42 -0400
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <E50C3FE2-EC69-4126-9384-6519ABCAD7D1@onolan.org>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
	<49781B24-1134-48B9-8FC6-FC6A5B4C0545@onolan.org>
	<r2v161617691004060927rd554dcedufd90030d3a4c17f8@mail.gmail.com>
	<3CA04D83-804B-408D-8EFB-56E393920A30@onolan.org>
	<x2y161617691004061024u8049d1a1z9f27f3359e940350@mail.gmail.com>
	<FED88968-D75B-4A3B-8BAA-4A87B509F033@onolan.org>
	<k2h161617691004061046q81920502kb98c774682603bc1@mail.gmail.com>
	<E50C3FE2-EC69-4126-9384-6519ABCAD7D1@onolan.org>
Message-ID: <k2m862d087f1004061133ta740a42dj774470122496e5@mail.gmail.com>

No disrespect, but complaints aren't all bad. At some point, someone
complained that WP didn't have a decent menu manager.

------------------
Nathan Rice
WordPress and Web Development
www.nathanrice.net | twitter.com/nathanrice


On Tue, Apr 6, 2010 at 2:30 PM, John O'Nolan <john.wp at onolan.org> wrote:

>
>
>  Better yet, if you hate the way the current menus work so
>>> much, why not write some code that you think is an improvement?
>>>
>>
>> That's exactly what I have been trying to do, and that is why I was
>> ASKING these questions. I'm pretty sure I said 'Is it even possible to
>> expand the types of menu items with plugins?" If you don't know these
>> answers, then why are you responding at all?
>>
>
> Really? At what point did you say "I'd love to improve this by writing in
> some extra functionality" ? As far as I can tell, all you're interested in
> doing is complaining.
>
> I attempted several times to answer your questions, but you're just looking
> for a petty little fight rather than to do anything constructive - which I'm
> really not at all interested in I'm afraid. So I'll leave it at that.
>
> Cheers
>
> John
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jbloch at olympianetworks.com  Tue Apr  6 18:41:11 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Tue, 6 Apr 2010 14:41:11 -0400
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <k2m862d087f1004061133ta740a42dj774470122496e5@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
	<49781B24-1134-48B9-8FC6-FC6A5B4C0545@onolan.org>
	<r2v161617691004060927rd554dcedufd90030d3a4c17f8@mail.gmail.com>
	<3CA04D83-804B-408D-8EFB-56E393920A30@onolan.org>
	<x2y161617691004061024u8049d1a1z9f27f3359e940350@mail.gmail.com>
	<FED88968-D75B-4A3B-8BAA-4A87B509F033@onolan.org>
	<k2h161617691004061046q81920502kb98c774682603bc1@mail.gmail.com>
	<E50C3FE2-EC69-4126-9384-6519ABCAD7D1@onolan.org>
	<k2m862d087f1004061133ta740a42dj774470122496e5@mail.gmail.com>
Message-ID: <v2u8031bdef1004061141pcf301adbvcf66fe13ebe5bf05@mail.gmail.com>

Otto,

To answer your question, it's entirely possible to do all that with a
plugin. That doesn't mean it wouldn't be a LOT of work, though.

John P. Bloch


On Tue, Apr 6, 2010 at 2:33 PM, Nathan Rice <ncrice at gmail.com> wrote:

> No disrespect, but complaints aren't all bad. At some point, someone
> complained that WP didn't have a decent menu manager.
>
> ------------------
> Nathan Rice
> WordPress and Web Development
> www.nathanrice.net | twitter.com/nathanrice
>
>
> On Tue, Apr 6, 2010 at 2:30 PM, John O'Nolan <john.wp at onolan.org> wrote:
>
> >
> >
> >  Better yet, if you hate the way the current menus work so
> >>> much, why not write some code that you think is an improvement?
> >>>
> >>
> >> That's exactly what I have been trying to do, and that is why I was
> >> ASKING these questions. I'm pretty sure I said 'Is it even possible to
> >> expand the types of menu items with plugins?" If you don't know these
> >> answers, then why are you responding at all?
> >>
> >
> > Really? At what point did you say "I'd love to improve this by writing in
> > some extra functionality" ? As far as I can tell, all you're interested
> in
> > doing is complaining.
> >
> > I attempted several times to answer your questions, but you're just
> looking
> > for a petty little fight rather than to do anything constructive - which
> I'm
> > really not at all interested in I'm afraid. So I'll leave it at that.
> >
> > Cheers
> >
> > John
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Tue Apr  6 18:43:16 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 6 Apr 2010 13:43:16 -0500
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <v2u8031bdef1004061141pcf301adbvcf66fe13ebe5bf05@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com> 
	<49781B24-1134-48B9-8FC6-FC6A5B4C0545@onolan.org>
	<r2v161617691004060927rd554dcedufd90030d3a4c17f8@mail.gmail.com>
	<3CA04D83-804B-408D-8EFB-56E393920A30@onolan.org>
	<x2y161617691004061024u8049d1a1z9f27f3359e940350@mail.gmail.com>
	<FED88968-D75B-4A3B-8BAA-4A87B509F033@onolan.org>
	<k2h161617691004061046q81920502kb98c774682603bc1@mail.gmail.com>
	<E50C3FE2-EC69-4126-9384-6519ABCAD7D1@onolan.org>
	<k2m862d087f1004061133ta740a42dj774470122496e5@mail.gmail.com> 
	<v2u8031bdef1004061141pcf301adbvcf66fe13ebe5bf05@mail.gmail.com>
Message-ID: <i2w161617691004061143p87f54afeof38824526a25114c@mail.gmail.com>

On Tue, Apr 6, 2010 at 1:41 PM, John Bloch <jbloch at olympianetworks.com> wrote:
> Otto,
>
> To answer your question, it's entirely possible to do all that with a
> plugin. That doesn't mean it wouldn't be a LOT of work, though.
>
> John P. Bloch

Actually, no, I don't think it is. I spent the better part of the last
couple hours reading the code and I can't find any way to do it.

The Woo code basically makes a fundamental assumption that a menu item
is a static URL. There's no way to make it call PHP code, there's no
way to make it have a callback, there's basically no way to do
anything except make it a static URL.

Side note, this makes the new menu system exceedingly fragile. If you
change the URL of a Page or change the category name or anything else
along those lines, your menus are now broken.

-Otto

From otto at ottodestruct.com  Tue Apr  6 18:46:48 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 6 Apr 2010 13:46:48 -0500
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <i2w161617691004061143p87f54afeof38824526a25114c@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com> 
	<r2v161617691004060927rd554dcedufd90030d3a4c17f8@mail.gmail.com> 
	<3CA04D83-804B-408D-8EFB-56E393920A30@onolan.org>
	<x2y161617691004061024u8049d1a1z9f27f3359e940350@mail.gmail.com>
	<FED88968-D75B-4A3B-8BAA-4A87B509F033@onolan.org>
	<k2h161617691004061046q81920502kb98c774682603bc1@mail.gmail.com>
	<E50C3FE2-EC69-4126-9384-6519ABCAD7D1@onolan.org>
	<k2m862d087f1004061133ta740a42dj774470122496e5@mail.gmail.com> 
	<v2u8031bdef1004061141pcf301adbvcf66fe13ebe5bf05@mail.gmail.com> 
	<i2w161617691004061143p87f54afeof38824526a25114c@mail.gmail.com>
Message-ID: <s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com>

On Tue, Apr 6, 2010 at 1:43 PM, Otto <otto at ottodestruct.com> wrote:
> Side note, this makes the new menu system exceedingly fragile. If you
> change the URL of a Page or change the category name or anything else
> along those lines, your menus are now broken.

Scratch that, I was mistaken there. There's code in
wp_setup_nav_menu_item that takes care of this specific case.

-Otto

From jbloch at olympianetworks.com  Tue Apr  6 19:16:54 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Tue, 6 Apr 2010 15:16:54 -0400
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
	<3CA04D83-804B-408D-8EFB-56E393920A30@onolan.org>
	<x2y161617691004061024u8049d1a1z9f27f3359e940350@mail.gmail.com>
	<FED88968-D75B-4A3B-8BAA-4A87B509F033@onolan.org>
	<k2h161617691004061046q81920502kb98c774682603bc1@mail.gmail.com>
	<E50C3FE2-EC69-4126-9384-6519ABCAD7D1@onolan.org>
	<k2m862d087f1004061133ta740a42dj774470122496e5@mail.gmail.com>
	<v2u8031bdef1004061141pcf301adbvcf66fe13ebe5bf05@mail.gmail.com>
	<i2w161617691004061143p87f54afeof38824526a25114c@mail.gmail.com>
	<s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com>
Message-ID: <x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com>

Even without that pre-built functionality, there are still the normal hooks
that you have when updating a page. Nobody said it's easy to code such a
plugin; I just said that it was possible.

Something that would greatly simplify the process is using a
post_meta value in each page's entry containing the corresponding menu item
ID(s). That way, when you update the page, you can check the values that
should be the same to see if they have changed, and if so, update them
accordingly. That would be things like hierarchy or static link, etc.

John P. Bloch


On Tue, Apr 6, 2010 at 2:46 PM, Otto <otto at ottodestruct.com> wrote:

> On Tue, Apr 6, 2010 at 1:43 PM, Otto <otto at ottodestruct.com> wrote:
> > Side note, this makes the new menu system exceedingly fragile. If you
> > change the URL of a Page or change the category name or anything else
> > along those lines, your menus are now broken.
>
> Scratch that, I was mistaken there. There's code in
> wp_setup_nav_menu_item that takes care of this specific case.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Tue Apr  6 19:27:06 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 6 Apr 2010 14:27:06 -0500
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com> 
	<x2y161617691004061024u8049d1a1z9f27f3359e940350@mail.gmail.com> 
	<FED88968-D75B-4A3B-8BAA-4A87B509F033@onolan.org>
	<k2h161617691004061046q81920502kb98c774682603bc1@mail.gmail.com>
	<E50C3FE2-EC69-4126-9384-6519ABCAD7D1@onolan.org>
	<k2m862d087f1004061133ta740a42dj774470122496e5@mail.gmail.com> 
	<v2u8031bdef1004061141pcf301adbvcf66fe13ebe5bf05@mail.gmail.com> 
	<i2w161617691004061143p87f54afeof38824526a25114c@mail.gmail.com> 
	<s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com> 
	<x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com>
Message-ID: <m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com>

On Tue, Apr 6, 2010 at 2:16 PM, John Bloch <jbloch at olympianetworks.com> wrote:
> Even without that pre-built functionality, there are still the normal hooks
> that you have when updating a page. Nobody said it's easy to code such a
> plugin; I just said that it was possible.

Yuck. Okay, so I consider hacky ways of doing things to be invalid.
Therefore, it is not possible. :)

There's no action hooks or filters or anything in the menu generation
system. Basically, the wp_setup_nav_menu_item builds the url and such,
then that gets passed to wp_get_nav_menu_item which builds the link,
and then it gets shoved into the output.

Short of hideous regexp and filtering that whole menu and such,
there's no way to insert stuff into the menu dynamically. All you can
do is recognize changes and then modify the menu (and probably break
it in the process, the ordering system is fragile as well).

A better solution would be to make the menu system not all so focused
on static links and use something more like widgets, which get called
to build their link (and which could then be static, if desired). Then
it'd be more configurable and more expandable.  Plus we wouldn't need
all this Woo code for Ajax and such, since a widget system already
exists and is in the core.

-Otto

From jbloch at olympianetworks.com  Tue Apr  6 19:58:18 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Tue, 6 Apr 2010 15:58:18 -0400
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
	<FED88968-D75B-4A3B-8BAA-4A87B509F033@onolan.org>
	<k2h161617691004061046q81920502kb98c774682603bc1@mail.gmail.com>
	<E50C3FE2-EC69-4126-9384-6519ABCAD7D1@onolan.org>
	<k2m862d087f1004061133ta740a42dj774470122496e5@mail.gmail.com>
	<v2u8031bdef1004061141pcf301adbvcf66fe13ebe5bf05@mail.gmail.com>
	<i2w161617691004061143p87f54afeof38824526a25114c@mail.gmail.com>
	<s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com>
	<x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com>
	<m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com>
Message-ID: <x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com>

Or you could declare your own Walker class, copying the exact nav menu
walker and just adding your own filters onto whatever you want, then just
use the new class name as the 'walker' attribute when you call the menu.

Also, there are filters and actions all over the menus. For example,
nav_menu_css_class is a hook that lets you sort through an array of classes
applied to each and every menu item and add or remove classes. That's just
one of at least a dozen that I saw while taking a cursory look through the
menu functions.

John P. Bloch


On Tue, Apr 6, 2010 at 3:27 PM, Otto <otto at ottodestruct.com> wrote:

> On Tue, Apr 6, 2010 at 2:16 PM, John Bloch <jbloch at olympianetworks.com>
> wrote:
> > Even without that pre-built functionality, there are still the normal
> hooks
> > that you have when updating a page. Nobody said it's easy to code such a
> > plugin; I just said that it was possible.
>
> Yuck. Okay, so I consider hacky ways of doing things to be invalid.
> Therefore, it is not possible. :)
>
> There's no action hooks or filters or anything in the menu generation
> system. Basically, the wp_setup_nav_menu_item builds the url and such,
> then that gets passed to wp_get_nav_menu_item which builds the link,
> and then it gets shoved into the output.
>
> Short of hideous regexp and filtering that whole menu and such,
> there's no way to insert stuff into the menu dynamically. All you can
> do is recognize changes and then modify the menu (and probably break
> it in the process, the ordering system is fragile as well).
>
> A better solution would be to make the menu system not all so focused
> on static links and use something more like widgets, which get called
> to build their link (and which could then be static, if desired). Then
> it'd be more configurable and more expandable.  Plus we wouldn't need
> all this Woo code for Ajax and such, since a widget system already
> exists and is in the core.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jbloch at olympianetworks.com  Tue Apr  6 20:13:55 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Tue, 6 Apr 2010 16:13:55 -0400
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
	<k2h161617691004061046q81920502kb98c774682603bc1@mail.gmail.com>
	<E50C3FE2-EC69-4126-9384-6519ABCAD7D1@onolan.org>
	<k2m862d087f1004061133ta740a42dj774470122496e5@mail.gmail.com>
	<v2u8031bdef1004061141pcf301adbvcf66fe13ebe5bf05@mail.gmail.com>
	<i2w161617691004061143p87f54afeof38824526a25114c@mail.gmail.com>
	<s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com>
	<x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com>
	<m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com>
	<x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com>
Message-ID: <z2s8031bdef1004061313y12774e39u591c61bf7cad054b@mail.gmail.com>

This custom walker class will give you a filter to directly modify the
url of individual menu items. Put this into your theme's function file
and, when you call the menu, add "walker=Custom_Walker_Nav_Menu" to
the function's arguments.

class Custom_Walker_Nav_Menu extends Walker {
	/**
	 * @see Walker::$tree_type
	 * @since 3.0.0
	 * @var string
	 */
	var $tree_type = array( 'post_type', 'taxonomy', 'custom' );

	/**
	 * @see Walker::$db_fields
	 * @since 3.0.0
	 * @todo Decouple this.
	 * @var array
	 */
	var $db_fields = array( 'parent' => 'post_parent', 'id' => 'object_id' );

	/**
	 * @see Walker::start_lvl()
	 * @since 3.0.0
	 *
	 * @param string $output Passed by reference. Used to append
additional content.
	 * @param int $depth Depth of page. Used for padding.
	 */
	function start_lvl(&$output, $depth) {
		$indent = str_repeat("\t", $depth);
		$output .= "\n$indent<ul class=\"sub-menu\">\n";
	}

	/**
	 * @see Walker::end_lvl()
	 * @since 3.0.0
	 *
	 * @param string $output Passed by reference. Used to append
additional content.
	 * @param int $depth Depth of page. Used for padding.
	 */
	function end_lvl(&$output, $depth) {
		$indent = str_repeat("\t", $depth);
		$output .= "$indent</ul>\n";
	}

	/**
	 * @see Walker::start_el()
	 * @since 3.0.0
	 *
	 * @param string $output Passed by reference. Used to append
additional content.
	 * @param object $item Menu item data object.
	 * @param int $depth Depth of menu item. Used for padding.
	 * @param int $current_page Menu item ID.
	 * @param array $args
	 */
	function start_el(&$output, $item, $depth, $args) {
		$indent = ( $depth ) ? str_repeat( "\t", $depth ) : '';

		$classes = $value = '';
		if ( 'frontend' == $args->context ) {
			global $wp_query;

			$classes = array( 'menu-item', 'menu-item-type-'. $item->type,
$item->classes );

			if ( 'custom' != $item->object )
				$classes[] = 'menu-item-object-'. $item->object;

			if ( $item->object_id == $wp_query->get_queried_object_id() )
				$classes[] = 'current-menu-item';

			// @todo add classes for parent/child relationships

			$classes = join( ' ', apply_filters( 'nav_menu_css_class',
array_filter( $classes ), $item ) );
			$classes = ' class="' . esc_attr( $classes ) . '"';
		} else {
			$value = ' value="' . $item->ID . '"';
		}


$item->url = apply_filters( 'my_custom_nav_menu_links_filter',
(string)$item->url );

		$output .= $indent . '<li id="menu-item-'. $item->ID . '"' . $value
. $classes .'>' . wp_get_nav_menu_item( $item, $args->context, $args
);
	}

	/**
	 * @see Walker::end_el()
	 * @since 3.0.0
	 *
	 * @param string $output Passed by reference. Used to append
additional content.
	 * @param object $item Page data object. Not used.
	 * @param int $depth Depth of page. Not Used.
	 */
	function end_el(&$output, $item, $depth) {
		$output .= "</li>\n";
	}

}


John P. Bloch


On Tue, Apr 6, 2010 at 3:58 PM, John Bloch <jbloch at olympianetworks.com>wrote:

> Or you could declare your own Walker class, copying the exact nav menu
> walker and just adding your own filters onto whatever you want, then just
> use the new class name as the 'walker' attribute when you call the menu.
>
> Also, there are filters and actions all over the menus. For example,
> nav_menu_css_class is a hook that lets you sort through an array of classes
> applied to each and every menu item and add or remove classes. That's just
> one of at least a dozen that I saw while taking a cursory look through the
> menu functions.
>
> John P. Bloch
>
>
> On Tue, Apr 6, 2010 at 3:27 PM, Otto <otto at ottodestruct.com> wrote:
>
>> On Tue, Apr 6, 2010 at 2:16 PM, John Bloch <jbloch at olympianetworks.com>
>> wrote:
>> > Even without that pre-built functionality, there are still the normal
>> hooks
>> > that you have when updating a page. Nobody said it's easy to code such a
>> > plugin; I just said that it was possible.
>>
>> Yuck. Okay, so I consider hacky ways of doing things to be invalid.
>> Therefore, it is not possible. :)
>>
>> There's no action hooks or filters or anything in the menu generation
>> system. Basically, the wp_setup_nav_menu_item builds the url and such,
>> then that gets passed to wp_get_nav_menu_item which builds the link,
>> and then it gets shoved into the output.
>>
>> Short of hideous regexp and filtering that whole menu and such,
>> there's no way to insert stuff into the menu dynamically. All you can
>> do is recognize changes and then modify the menu (and probably break
>> it in the process, the ordering system is fragile as well).
>>
>> A better solution would be to make the menu system not all so focused
>> on static links and use something more like widgets, which get called
>> to build their link (and which could then be static, if desired). Then
>> it'd be more configurable and more expandable.  Plus we wouldn't need
>> all this Woo code for Ajax and such, since a widget system already
>> exists and is in the core.
>>
>> -Otto
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From otto at ottodestruct.com  Tue Apr  6 20:17:03 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 6 Apr 2010 15:17:03 -0500
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <z2s8031bdef1004061313y12774e39u591c61bf7cad054b@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com> 
	<E50C3FE2-EC69-4126-9384-6519ABCAD7D1@onolan.org>
	<k2m862d087f1004061133ta740a42dj774470122496e5@mail.gmail.com> 
	<v2u8031bdef1004061141pcf301adbvcf66fe13ebe5bf05@mail.gmail.com> 
	<i2w161617691004061143p87f54afeof38824526a25114c@mail.gmail.com> 
	<s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com> 
	<x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com> 
	<m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com> 
	<x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com> 
	<z2s8031bdef1004061313y12774e39u591c61bf7cad054b@mail.gmail.com>
Message-ID: <h2n161617691004061317h88eda7audde5683d57a9e5b5@mail.gmail.com>

On Tue, Apr 6, 2010 at 3:13 PM, John Bloch <jbloch at olympianetworks.com> wrote:
> This custom walker class will give you a filter to directly modify the
> url of individual menu items. Put this into your theme's function file
> and, when you call the menu, add "walker=Custom_Walker_Nav_Menu" to
> the function's arguments.

So what you're saying is that you can't make a plugin do it, it has to
be a theme that does it, by modifying the call to wp_nav_menu.

-Otto

From otto at ottodestruct.com  Tue Apr  6 20:24:21 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 6 Apr 2010 15:24:21 -0500
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <h2n161617691004061317h88eda7audde5683d57a9e5b5@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com> 
	<k2m862d087f1004061133ta740a42dj774470122496e5@mail.gmail.com> 
	<v2u8031bdef1004061141pcf301adbvcf66fe13ebe5bf05@mail.gmail.com> 
	<i2w161617691004061143p87f54afeof38824526a25114c@mail.gmail.com> 
	<s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com> 
	<x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com> 
	<m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com> 
	<x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com> 
	<z2s8031bdef1004061313y12774e39u591c61bf7cad054b@mail.gmail.com> 
	<h2n161617691004061317h88eda7audde5683d57a9e5b5@mail.gmail.com>
Message-ID: <s2v161617691004061324o26f21052z6f32781fa3aa356f@mail.gmail.com>

On Tue, Apr 6, 2010 at 3:17 PM, Otto <otto at ottodestruct.com> wrote:
> On Tue, Apr 6, 2010 at 3:13 PM, John Bloch <jbloch at olympianetworks.com> wrote:
>> This custom walker class will give you a filter to directly modify the
>> url of individual menu items. Put this into your theme's function file
>> and, when you call the menu, add "walker=Custom_Walker_Nav_Menu" to
>> the function's arguments.
>
> So what you're saying is that you can't make a plugin do it, it has to
> be a theme that does it, by modifying the call to wp_nav_menu.

Ahh, no, a plugin can do it. There's a filter you can use to force the
walker, "wp_nav_menu_args".

Rather a long way to go though. And it doesn't allow for multiple
plugins creating different types of menu items, since only one walker
can be used.

BTW, in your example, it would actually make more sense for
Custom_Walker_Nav_Menu to extend Walker_Nav_Menu. Then you could
override just the start_el function, leaving the rest alone.

-Otto

From jbloch at olympianetworks.com  Tue Apr  6 20:42:33 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Tue, 6 Apr 2010 16:42:33 -0400
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <s2v161617691004061324o26f21052z6f32781fa3aa356f@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
	<v2u8031bdef1004061141pcf301adbvcf66fe13ebe5bf05@mail.gmail.com>
	<i2w161617691004061143p87f54afeof38824526a25114c@mail.gmail.com>
	<s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com>
	<x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com>
	<m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com>
	<x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com>
	<z2s8031bdef1004061313y12774e39u591c61bf7cad054b@mail.gmail.com>
	<h2n161617691004061317h88eda7audde5683d57a9e5b5@mail.gmail.com>
	<s2v161617691004061324o26f21052z6f32781fa3aa356f@mail.gmail.com>
Message-ID: <x2x8031bdef1004061342uf59f04b2v2078dadf67d19b3a@mail.gmail.com>

A plugin can absolutely do it. Just put it in the plugin's main file and
activate the plugin. I said theme functions.php file because this is more
properly handled by a theme. But it's absolutely possible to do this with a
plugin.

You're right about extending Walker_Nav_Menu. I was copying and pasting
hastily, and didn't want to do further cutting/pasting.

I'm saying this is the API that the programmers building this have chosen.
Before 3.0 it took many hundreds, sometimes thousands of lines of
programming to add custom post types. Now it can be done in under 10. As the
nav menus get built out more, the API will get tweaked to allow easier and
more flexible programming (although, I have to say, it's pretty flexible
right now).

John P. Bloch


On Tue, Apr 6, 2010 at 4:24 PM, Otto <otto at ottodestruct.com> wrote:

> On Tue, Apr 6, 2010 at 3:17 PM, Otto <otto at ottodestruct.com> wrote:
> > On Tue, Apr 6, 2010 at 3:13 PM, John Bloch <jbloch at olympianetworks.com>
> wrote:
> >> This custom walker class will give you a filter to directly modify the
> >> url of individual menu items. Put this into your theme's function file
> >> and, when you call the menu, add "walker=Custom_Walker_Nav_Menu" to
> >> the function's arguments.
> >
> > So what you're saying is that you can't make a plugin do it, it has to
> > be a theme that does it, by modifying the call to wp_nav_menu.
>
> Ahh, no, a plugin can do it. There's a filter you can use to force the
> walker, "wp_nav_menu_args".
>
> Rather a long way to go though. And it doesn't allow for multiple
> plugins creating different types of menu items, since only one walker
> can be used.
>
> BTW, in your example, it would actually make more sense for
> Custom_Walker_Nav_Menu to extend Walker_Nav_Menu. Then you could
> override just the start_el function, leaving the rest alone.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Tue Apr  6 20:42:16 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 6 Apr 2010 16:42:16 -0400
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <s2v161617691004061324o26f21052z6f32781fa3aa356f@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com> 
	<v2u8031bdef1004061141pcf301adbvcf66fe13ebe5bf05@mail.gmail.com> 
	<i2w161617691004061143p87f54afeof38824526a25114c@mail.gmail.com> 
	<s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com> 
	<x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com> 
	<m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com> 
	<x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com> 
	<z2s8031bdef1004061313y12774e39u591c61bf7cad054b@mail.gmail.com> 
	<h2n161617691004061317h88eda7audde5683d57a9e5b5@mail.gmail.com> 
	<s2v161617691004061324o26f21052z6f32781fa3aa356f@mail.gmail.com>
Message-ID: <l2t4cc4de141004061342md0f8b9c5k5d6c4e8368624d58@mail.gmail.com>

To answer most of this thread in one shot:

Currently wp_nav_menu, when it comes to children, is simple and static, and
not smart.

There are probably two features that would make you feel a lot better:

1. The ability to, in only a few clicks, add an entire page or category tree
to your working menu. We can call this static child handling.
2. The ability to say "I want all children X levels deep included as menu
item children of this page/category", i.e. dynamic child handling.

Neither of those are on the 3.0 roadmap at the moment. Here is what is left
on the 3.0 menus roadmap currently, all of which are more important:

1. Squash any and all bugs.
2. Implement the wireframes.
3. Have a version that works without JavaScript.

That said, if anyone is willing to become involved in the development of the
menus, the core contributors could use the help. While I'm sure that input
is appreciated by those working on the feature, someone in the end needs to
code it.

Ultimately, this is version 1.0 of a feature that needs love now and in the
future. Its goal for version 1.0 is to make it easy for users to manage
their navigation menus, not be the answer to everyone's questions and
wishes.

From indk at ymail.com  Tue Apr  6 20:50:07 2010
From: indk at ymail.com (Deepak Seth)
Date: Wed, 7 Apr 2010 02:20:07 +0530 (IST)
Subject: [wp-hackers] GSOC : Child Themes
Message-ID: <127520.21691.qm@web94701.mail.in2.yahoo.com>

HI guys,
?
Sorry to repost this but as I?have?updated it with?many changes, So this time, I would really appreciate some feedback..!!!
?
Themes are vital component of any WordPress based site and as the WordPress Theme repository currently houses more than a thousand theme with over 13 Million Downloads and still counting?So it?s definetly a very?important section to deal with..!!
?
Child Theme were introduced long back in WordPress 2.7. They are used to modify an existing theme (Parent Theme) design?and can be used to add more functionality to it. It can be as simple as a single CSS style sheet (A style sheet language used to describe the presentation semantics of a document written in a markup language ? Wikipedia)?in a directory. As the child theme are placed outside the Parent Theme directory, so changes made to Child Theme are available even if the Parent theme is updated. A detailed information is available?at OP111.
?
My proposal is based on bbPress plugin idea that gives the ability to theme developers to upload Child theme (dependent on Parent Themes) in the WordPress Theme Repository. It is basically a bbPress plugin because the WordPress Theme?site?is made on bbPress.?It also allows the WordPress site Administrator to manage Child themes from there WordPress Administration panel. So basically my idea divides the functionality of my plugin into two parts.
SUPPORT OF CHILD THEMES IN WordPress SITE
	* Theme Repository?s support for Child Themes : Since the introduction of Child theme a lot of developers have wanted the ability to upload Child Theme in the Theme Repository. So an upload system for Child Theme upload is to be made.
	* WordPress Theme Preview Support for Child Themes. : The WordPress Theme Preview Site (http://www.wp-themes.com -This is the default site used for display of various themes from WordPress theme repository, Can be seen as link to?PREVIEW button on all theme pages)??currently does?not support the preview of Child Themes.
	* Automated checking and validation for Child Themes.: WordPress currently supports Automated checking of uploaded Parent theme only (As they are the only ones supported). So an automatic validation suite for Child Theme is also needed, to test all the uploaded Child Theme.
	* WordPress Theme Moderation Support.: When WordPress themes are uploaded in the Theme Repository then they are first checked automatically and then approved by a moderator for listing in the?repository. Now when the Child Themes will also be uploaded then there should be some changes to it, So that the Moderator and check the child theme and its dependency with parent theme.
SUPPORT OF WordPress FOR CHILD THEMES
	* Child Theme?s installation from within the WordPress administration Panel. Child Themes are currently not supported by WordPress Administration Panel and hence this section will?introduce Installation, Addition, Update, and Removal of Child Themes from within WordPress Administration Panel.
	* Child Theme Editor. :WordPress Administration Panel includes a Theme Editor for making changes to the Theme file. An Enhanced Theme Editor is required to support Child Themes.
?
WordPress 3.0 Theme related feature includes
	* A better tabbed UI for downloading and management of Main Themes only.(No Support for Child Themes)
	* Adds a New Twenty Ten Theme
	* Theme Editor For Child Theme(Unresolved-Ticket #12716 )
	* Custom Site Background Support(Great Feature)
My Plugin features for Administration Side Will include
	* Another Interface for Child Themes to be installed with?single click.(That includes a check for its dependency with the parent theme.)
	* Upgraded Theme Editor for Child Themes as well.
	* Support for version checking of child theme and their parent theme so as to find if they are compatible with each other.
WordPress 3.0 is in Beta currently and there is still no good support for Child Theme by WordPress. My plugin tries to enhance the Child Theme experience by WordPress users. I? like?User-interface?implementation?idea as suggested by Patrick Daly which involve inclusion of Child themes as tabs on the theme display page, and adding dependencies for Child Theme. But as correctly said by him, the coding of automatic installer will be the most challenging part, but with a bit of suggestion? and help from mentor I think I would be able to complete it.
Anticipated Challenges:
I?ll be needing support from mentor for helping me with understanding the current framework?of the theme repository as it will guide me to more efficient plugin.(That?s because I won?t need to think over the already existing part).(Thanks to Jane Wells confirmation over this issue that such a help would be provided)
There are going to be various issues involved in WordPress adoption of Child Themes, so i made a list of those issues available at http://gsocdk.wordpress.com/2010/04/04/some-issues-involved-in-development/. I?ll be trying to make the changes to WordPress as a plugin ( It?ll be easier for People to Review ? John Godley), but there are places where changes to WordPress Core would be better, well its better to leave the decision to the administrators for that.
?
-- Deepak Seth
-- http://gsocdk.wordpress.com


      The INTERNET now has a personality. YOURS! See your Yahoo! Homepage. http://in.yahoo.com/

From otto at ottodestruct.com  Tue Apr  6 20:54:11 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 6 Apr 2010 15:54:11 -0500
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <x2x8031bdef1004061342uf59f04b2v2078dadf67d19b3a@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com> 
	<i2w161617691004061143p87f54afeof38824526a25114c@mail.gmail.com> 
	<s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com> 
	<x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com> 
	<m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com> 
	<x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com> 
	<z2s8031bdef1004061313y12774e39u591c61bf7cad054b@mail.gmail.com> 
	<h2n161617691004061317h88eda7audde5683d57a9e5b5@mail.gmail.com> 
	<s2v161617691004061324o26f21052z6f32781fa3aa356f@mail.gmail.com> 
	<x2x8031bdef1004061342uf59f04b2v2078dadf67d19b3a@mail.gmail.com>
Message-ID: <w2m161617691004061354pc70fa91q6fa584c7c8388f8e@mail.gmail.com>

On Tue, Apr 6, 2010 at 3:42 PM, John Bloch <jbloch at olympianetworks.com> wrote:
> As the
> nav menus get built out more, the API will get tweaked to allow easier and
> more flexible programming (although, I have to say, it's pretty flexible
> right now).

I'd be forced to disagree with that assessment. Currently it's
extremely difficult to modify the menus in a non-trivial way (as
you've pointed out, you have to modify the walker to do that sort of
thing), and can't be done by more than one plugin at a time, making it
inflexible in that respect.

I'd be a lot happier if it had been designed with add-ons in mind,
instead of being forced into the mold that it's in. Frankly, I think
that this is mostly because it was adapted from the existing Woo code.
That probably should have been thrown out or redesigned before
implementing it, IMO. Then it might be a bit more adaptable.

As it stands, I will not certainly not be implementing menus in my
themes or for any clients. Too user unfriendly, to difficult to
customize. I'll wait for 3.1, when they fix all the problems, since
they'll probably have to break backward compatibility to do it...

On Tue, Apr 6, 2010 at 3:42 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> 1. The ability to, in only a few clicks, add an entire page or category tree
> to your working menu. We can call this static child handling.

That's minor and probably easily implemented, I'd say. I'm not
interested in it, but Nathan Rice seemed big on the idea earlier. I'm
sure it would be handy, but I don't consider it a critical loss.

> 2. The ability to say "I want all children X levels deep included as menu
> item children of this page/category", i.e. dynamic child handling.

Yes, this is the only thing I'm interested in, and the lack of it
makes the new menu system basically useless to me. I'm stuck
hardcoding my menus instead. Very disappointing, as the feature does
have promise.

-Otto

From mikeschinkel at newclarity.net  Tue Apr  6 21:02:17 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 6 Apr 2010 17:02:17 -0400
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <s2v161617691004061324o26f21052z6f32781fa3aa356f@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
	<k2m862d087f1004061133ta740a42dj774470122496e5@mail.gmail.com>
	<v2u8031bdef1004061141pcf301adbvcf66fe13ebe5bf05@mail.gmail.com>
	<i2w161617691004061143p87f54afeof38824526a25114c@mail.gmail.com>
	<s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com>
	<x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com>
	<m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com>
	<x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com>
	<z2s8031bdef1004061313y12774e39u591c61bf7cad054b@mail.gmail.com>
	<h2n161617691004061317h88eda7audde5683d57a9e5b5@mail.gmail.com>
	<s2v161617691004061324o26f21052z6f32781fa3aa356f@mail.gmail.com>
Message-ID: <343A73F8-9295-40F6-9D08-664FC6257538@newclarity.net>

On Apr 6, 2010, at 4:24 PM, Otto wrote:
> On Tue, Apr 6, 2010 at 3:17 PM, Otto <otto at ottodestruct.com> wrote:
>> On Tue, Apr 6, 2010 at 3:13 PM, John Bloch <jbloch at olympianetworks.com> wrote:
>>> This custom walker class will give you a filter to directly modify the
>>> url of individual menu items. Put this into your theme's function file
>>> and, when you call the menu, add "walker=Custom_Walker_Nav_Menu" to
>>> the function's arguments.
>> 
>> So what you're saying is that you can't make a plugin do it, it has to
>> be a theme that does it, by modifying the call to wp_nav_menu.
> 
> Ahh, no, a plugin can do it. There's a filter you can use to force the
> walker, "wp_nav_menu_args".

As far as I can tell that hook is on a menu-wide basis not on a menu item basis, right?

On a related note I recently tried to add a css class to a menu item and couldn't figure it out because there didn't appear to be any hooks for annotating/modifying menu items. (More on this in the P.S.)

> BTW, in your example, it would actually make more sense for
> Custom_Walker_Nav_Menu to extend Walker_Nav_Menu. Then you could
> override just the start_el function, leaving the rest alone.

For the case of modifying menu items it seems it would solve some use cases if we simply added a 'wp_setup_nav_menu_item' filter on the return value of the wp_setup_nav_menu_item() function.  If others agree, I can submit a patch...

-Mike
P.S. In order to test this theory before sending this email I traced some code and found, lo-and-behold, there is the hook I needed. It's buried deep in the Walker class that I previously decided was more complex than I wanted to trace through. So for anyone finding this thread by googling for something like "wordpress css class menu item", the way to add a CSS class for a menu item use the (appropriately named) "nav_menu_css_class" hook. 

From otto at ottodestruct.com  Tue Apr  6 21:06:23 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 6 Apr 2010 16:06:23 -0500
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <343A73F8-9295-40F6-9D08-664FC6257538@newclarity.net>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com> 
	<i2w161617691004061143p87f54afeof38824526a25114c@mail.gmail.com> 
	<s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com> 
	<x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com> 
	<m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com> 
	<x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com> 
	<z2s8031bdef1004061313y12774e39u591c61bf7cad054b@mail.gmail.com> 
	<h2n161617691004061317h88eda7audde5683d57a9e5b5@mail.gmail.com> 
	<s2v161617691004061324o26f21052z6f32781fa3aa356f@mail.gmail.com> 
	<343A73F8-9295-40F6-9D08-664FC6257538@newclarity.net>
Message-ID: <k2m161617691004061406q42f9f24dtafaec2edcdd959e7@mail.gmail.com>

On Tue, Apr 6, 2010 at 4:02 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> For the case of modifying menu items it seems it would solve some use cases if we simply added a 'wp_setup_nav_menu_item' filter on the return value of the wp_setup_nav_menu_item() function. ?If others agree, I can submit a patch...

Not bad. Put one on wp_get_nav_menu_item instead (or also). That would
be needed to modify the output as well as the configuration system, it
appears like.

-Otto

From jbloch at olympianetworks.com  Tue Apr  6 21:22:51 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Tue, 6 Apr 2010 17:22:51 -0400
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <k2m161617691004061406q42f9f24dtafaec2edcdd959e7@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
	<s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com>
	<x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com>
	<m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com>
	<x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com>
	<z2s8031bdef1004061313y12774e39u591c61bf7cad054b@mail.gmail.com>
	<h2n161617691004061317h88eda7audde5683d57a9e5b5@mail.gmail.com>
	<s2v161617691004061324o26f21052z6f32781fa3aa356f@mail.gmail.com>
	<343A73F8-9295-40F6-9D08-664FC6257538@newclarity.net>
	<k2m161617691004061406q42f9f24dtafaec2edcdd959e7@mail.gmail.com>
Message-ID: <n2v8031bdef1004061422lc8536e72jcd108109f92d9626@mail.gmail.com>

@Mike: +1!

@Otto: Fair enough. I agree that it should have been built differently to
begin with. But I think extending the walker class is an acceptable amount
of work for the desired effect, given that's how it *has* been built.

What exactly can't you modify by extending the walker and putting your own
hooks in?

John P. Bloch


On Tue, Apr 6, 2010 at 5:06 PM, Otto <otto at ottodestruct.com> wrote:

> On Tue, Apr 6, 2010 at 4:02 PM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
> > For the case of modifying menu items it seems it would solve some use
> cases if we simply added a 'wp_setup_nav_menu_item' filter on the return
> value of the wp_setup_nav_menu_item() function.  If others agree, I can
> submit a patch...
>
> Not bad. Put one on wp_get_nav_menu_item instead (or also). That would
> be needed to modify the output as well as the configuration system, it
> appears like.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Tue Apr  6 21:24:43 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 6 Apr 2010 17:24:43 -0400
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <w2m161617691004061354pc70fa91q6fa584c7c8388f8e@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com> 
	<s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com> 
	<x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com> 
	<m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com> 
	<x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com> 
	<z2s8031bdef1004061313y12774e39u591c61bf7cad054b@mail.gmail.com> 
	<h2n161617691004061317h88eda7audde5683d57a9e5b5@mail.gmail.com> 
	<s2v161617691004061324o26f21052z6f32781fa3aa356f@mail.gmail.com> 
	<x2x8031bdef1004061342uf59f04b2v2078dadf67d19b3a@mail.gmail.com> 
	<w2m161617691004061354pc70fa91q6fa584c7c8388f8e@mail.gmail.com>
Message-ID: <y2w4cc4de141004061424ub034a6a6g71c584399f625cd0@mail.gmail.com>

>
> > 2. The ability to say "I want all children X levels deep included as menu
> > item children of this page/category", i.e. dynamic child handling.
>
> Yes, this is the only thing I'm interested in, and the lack of it
> makes the new menu system basically useless to me. I'm stuck
> hardcoding my menus instead. Very disappointing, as the feature does
> have promise.


It could be handled simply as an option of any menu item. Then the walker
would need to know to fetch children X deep when it sees that option. Again,
at the end of the day, someone needs to go code it.

A few more things:

 - We haven't finished some of the template functions. I know for example
that two of them are being combined and the others tweaked.

 - We haven't yet scoured the template functions (or admin area) for areas
where we can add action hooks and filters. Developers are more than welcome
to propose locations for new hooks, preferably in the form of a patch.

From otto at ottodestruct.com  Tue Apr  6 21:31:21 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 6 Apr 2010 16:31:21 -0500
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <n2v8031bdef1004061422lc8536e72jcd108109f92d9626@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com> 
	<x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com> 
	<m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com> 
	<x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com> 
	<z2s8031bdef1004061313y12774e39u591c61bf7cad054b@mail.gmail.com> 
	<h2n161617691004061317h88eda7audde5683d57a9e5b5@mail.gmail.com> 
	<s2v161617691004061324o26f21052z6f32781fa3aa356f@mail.gmail.com> 
	<343A73F8-9295-40F6-9D08-664FC6257538@newclarity.net>
	<k2m161617691004061406q42f9f24dtafaec2edcdd959e7@mail.gmail.com>
	<n2v8031bdef1004061422lc8536e72jcd108109f92d9626@mail.gmail.com>
Message-ID: <m2n161617691004061431w6cda36cem97bbf123d35d336c@mail.gmail.com>

On Tue, Apr 6, 2010 at 4:22 PM, John Bloch <jbloch at olympianetworks.com> wrote:
> @Otto: Fair enough. I agree that it should have been built differently to
> begin with. But I think extending the walker class is an acceptable amount
> of work for the desired effect, given that's how it *has* been built.
>
> What exactly can't you modify by extending the walker and putting your own
> hooks in?

You can't make two separate, independent, plugins that both create new
types of menu items without mutual collaboration. Plugins should be
easily compatible with each other by the very nature of the core
design.

I have no problem with a feature left out of the core, because I can
write plugins to add that feature easily enough. But if somebody else
wants to do the same and we step on each other, then it makes things
very annoying for our users.

On Tue, Apr 6, 2010 at 4:24 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
>> > 2. The ability to say "I want all children X levels deep included as menu
>> > item children of this page/category", i.e. dynamic child handling.
>>
>> Yes, this is the only thing I'm interested in, and the lack of it
>> makes the new menu system basically useless to me. I'm stuck
>> hardcoding my menus instead. Very disappointing, as the feature does
>> have promise.
>
> It could be handled simply as an option of any menu item. Then the walker
> would need to know to fetch children X deep when it sees that option. Again,
> at the end of the day, someone needs to go code it.

Still seems very limiting. What if I want to have the menu item fetch
something entirely different, maybe display post links or something?
Or items from an RSS feed? Think wider, menu items don't have to be a
link to a URL only.

The whole thing is just very hardcoded and I'm unhappy about that
general design. I do grant you that it's still being worked on, and
yes, maybe it will improve.

My ideal would be basically just like the widgets. I could do class
My_Menu_Item extends Menu_Item_Widget, then define the configuration
page and its params and then have an output() function to output the
menu item from those params. Simple.

-Otto

From mikeschinkel at newclarity.net  Tue Apr  6 22:11:04 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 6 Apr 2010 18:11:04 -0400
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <y2w4cc4de141004061424ub034a6a6g71c584399f625cd0@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
	<s2l161617691004061146n5d1a2f9apec4daa237105613@mail.gmail.com>
	<x2q8031bdef1004061216q99d123deje6c7735e38a9efe5@mail.gmail.com>
	<m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com>
	<x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com>
	<z2s8031bdef1004061313y12774e39u591c61bf7cad054b@mail.gmail.com>
	<h2n161617691004061317h88eda7audde5683d57a9e5b5@mail.gmail.com>
	<s2v161617691004061324o26f21052z6f32781fa3aa356f@mail.gmail.com>
	<x2x8031bdef1004061342uf59f04b2v2078dadf67d19b3a@mail.gmail.com>
	<w2m161617691004061354pc70fa91q6fa584c7c8388f8e@mail.gmail.com>
	<y2w4cc4de141004061424ub034a6a6g71c584399f625cd0@mail.gmail.com>
Message-ID: <115A0E3F-E098-4F24-B400-49DE22B317EE@newclarity.net>

On Apr 6, 2010, at 5:24 PM, Andrew Nacin wrote:
> - We haven't yet scoured the template functions (or admin area) for areas
> where we can add action hooks and filters. Developers are more than welcome
> to propose locations for new hooks, preferably in the form of a patch.

Same named hooks on the return values of both the wp_get_nav_menu_items() and wp_setup_nav_menu_item() functions from /wp-includes/nav-menu.php:

http://core.trac.wordpress.org/ticket/12881

-Mike

From gcorne at bu.edu  Tue Apr  6 22:18:08 2010
From: gcorne at bu.edu (Cornelius, Gregory)
Date: Tue, 6 Apr 2010 18:18:08 -0400
Subject: [wp-hackers] wp_nav_menu too simplistic?
Message-ID: <F7AF2DF0-133D-4B73-9AB3-E7F717E5A25D@bu.edu>

Unfortunately, I have not had enough bandwidth to participate in the  
multitude of changes in 3.0.   Disclaimer aside, I think there was a  
missed opportunity.   Correct me if I am wrong, but the menu tool  
doesn't modify menu_order in wp_posts or provide a way to order  
categories.  And, adding the ability to insert a chunk of the tree  
sidesteps the issue.
Order can be used for more than just menus.

The new approach also requires themes to replace wp_list_pages() a  
common function call in themes.


On Apr 6, 2010, at 5:32 PM, "Otto" <otto at ottodestruct.com> wrote:

> On Tue, Apr 6, 2010 at 4:22 PM, John Bloch  
> <jbloch at olympianetworks.com> wrote:
>> @Otto: Fair enough. I agree that it should have been built  
>> differently to
>> begin with. But I think extending the walker class is an acceptable  
>> amount
>> of work for the desired effect, given that's how it *has* been built.
>>
>> What exactly can't you modify by extending the walker and putting  
>> your own
>> hooks in?
>
> You can't make two separate, independent, plugins that both create new
> types of menu items without mutual collaboration. Plugins should be
> easily compatible with each other by the very nature of the core
> design.
>
> I have no problem with a feature left out of the core, because I can
> write plugins to add that feature easily enough. But if somebody else
> wants to do the same and we step on each other, then it makes things
> very annoying for our users.
>
> On Tue, Apr 6, 2010 at 4:24 PM, Andrew Nacin <wp at andrewnacin.com>  
> wrote:
>>>> 2. The ability to say "I want all children X levels deep included  
>>>> as menu
>>>> item children of this page/category", i.e. dynamic child handling.
>>>
>>> Yes, this is the only thing I'm interested in, and the lack of it
>>> makes the new menu system basically useless to me. I'm stuck
>>> hardcoding my menus instead. Very disappointing, as the feature does
>>> have promise.
>>
>> It could be handled simply as an option of any menu item. Then the  
>> walker
>> would need to know to fetch children X deep when it sees that  
>> option. Again,
>> at the end of the day, someone needs to go code it.
>
> Still seems very limiting. What if I want to have the menu item fetch
> something entirely different, maybe display post links or something?
> Or items from an RSS feed? Think wider, menu items don't have to be a
> link to a URL only.
>
> The whole thing is just very hardcoded and I'm unhappy about that
> general design. I do grant you that it's still being worked on, and
> yes, maybe it will improve.
>
> My ideal would be basically just like the widgets. I could do class
> My_Menu_Item extends Menu_Item_Widget, then define the configuration
> page and its params and then have an output() function to output the
> menu item from those params. Simple.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Tue Apr  6 23:01:48 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 6 Apr 2010 19:01:48 -0400
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <m2n161617691004061431w6cda36cem97bbf123d35d336c@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com> 
	<m2h161617691004061227td66fc9deoee52865b2c75c7cd@mail.gmail.com> 
	<x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com> 
	<z2s8031bdef1004061313y12774e39u591c61bf7cad054b@mail.gmail.com> 
	<h2n161617691004061317h88eda7audde5683d57a9e5b5@mail.gmail.com> 
	<s2v161617691004061324o26f21052z6f32781fa3aa356f@mail.gmail.com> 
	<343A73F8-9295-40F6-9D08-664FC6257538@newclarity.net>
	<k2m161617691004061406q42f9f24dtafaec2edcdd959e7@mail.gmail.com>
	<n2v8031bdef1004061422lc8536e72jcd108109f92d9626@mail.gmail.com> 
	<m2n161617691004061431w6cda36cem97bbf123d35d336c@mail.gmail.com>
Message-ID: <i2v4cc4de141004061601k444896c7pd7e723977f1d4b05@mail.gmail.com>

>
> Still seems very limiting. What if I want to have the menu item fetch
> something entirely different, maybe display post links or something?
> Or items from an RSS feed? Think wider, menu items don't have to be a
> link to a URL only.
>

I'm talking solely about something that could be built into core. That is
not something that would be built into core, but hooks can be certainly
added to allow you to do that. Mike, thanks for the ticket to get started on
hooks.


> My ideal would be basically just like the widgets. I could do class
> My_Menu_Item extends Menu_Item_Widget, then define the configuration
> page and its params and then have an output() function to output the
> menu item from those params. Simple.


The menus ticket sat around for five weeks before it was decided to contact
Woo Themes. A week later their patch was committed, and the code was largely
rewritten over the next six weeks. So next time I would suggest your
thoughts are mentioned one to three months earlier in the development cycle.
More than 60 people made more than 350 comments to the initial menus ticket,
and more than 25 other tickets regarding the feature were since opened.

From wp-hackers at striderweb.com  Tue Apr  6 23:26:43 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue, 6 Apr 2010 18:26:43 -0500
Subject: [wp-hackers] Modular Themes: Apply the template hierarchy to
	folders within a theme
In-Reply-To: <i2tbf58ca3c1004061031h4b85699t7951c4ce70ab2d84@mail.gmail.com>
References: <i2tbf58ca3c1004061031h4b85699t7951c4ce70ab2d84@mail.gmail.com>
Message-ID: <D11CE373-1257-4E9C-991E-DC89A0BCCD34@striderweb.com>

Two things --

1) If you want a "theme framework" of common code, it seems you could emulate this now wuth judicious include()ing of files within whatever hierarchy of folders you like.

2) How would this affect child themes?

Stephen


On Apr 6, 2010, at 12:31 PM, Daryl Koopersmith wrote:

> I've recently been working on a patch and several posts explaining how
> modular themes can improve WP. For anyone who's seen my presentation from
> WordCamp Ireland, this is the patch I spoke about.
> 
> By applying the template hierarchy to folders within a theme, theme
> developers will be able to break themes into modules and substantially
> reduce repeated code.
> 
> If you look at Twenty Ten, it uses get_template_part() to simulate parts of
> the template hierarchy when loading the loop (e.g. it looks for
> loop-archive.php, then loop.php, etc.). However, any theme developer that
> wants to implement the template hierarchy while loading a template part must
> do so manually?there is currently no automated option. There are several
> downsides to a manual implementation, namely the lack of a naming convention
> and the sheer impossibility of implementing the entire template hierarchy by
> hand. This patch solves that problem.
> 
> In addition, modular themes have the potential to transform theme
> organization by reducing repeated code and making theme files more readable.
> 
> Based on my tests, this patch should not affect performance.
> 
> Interested?
> *  Trac ticket: http://core.trac.wordpress.org/ticket/12877
> *  Why we should add modular themes: http://wp.me/pS0xt-1f
> *  How they can transform theme organization: http://wp.me/pS0xt-30
> *  Performance tests: http://wp.me/pS0xt-3O
> 
> Finally, the patch has the added benefit of creating an accurate global
> $wp_template_hierarchy object (and a getter method), so any plugin/theme can
> access the template hierarchy for $wp_query.
> 
> Let me know what you think.
> 
> Thanks,
> Daryl
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From sutharshan02 at gmail.com  Wed Apr  7 01:48:52 2010
From: sutharshan02 at gmail.com (sutharshan balachandren)
Date: Wed, 7 Apr 2010 07:18:52 +0530
Subject: [wp-hackers] GSOC prososal - Increase Accessibility
Message-ID: <r2j3fa40cbc1004061848qbbdc6f1ex72250d5fd953d84a@mail.gmail.com>

I'm interested in participating in the gsoc this year. Therefore
I'm submitting my ideas regarding the wp plugins.

Most of the websites have two different web pages for mobile browers and for
Normal browsers.
when i access my blog through my mobile phone its still the same page, had
more difficulties in accessing pages and specially administration area. Also
javascript is not working in the mobile phone as well.

What I'm suggesting is that by having two different interfaces for both
Normal and mobile browsers will be very usefull for all websites. Therefore
by providing this feature in wp, will give more benifits to all the users,
since most of the people are now using mobile browsers due to the tight work
schedule.

Expected benifits
-----------------
1. Website can be accessed in any mobile phones without any difficulties
2. Easy and simplified interface without any javascript.
3. Will increase the amount of visitors of the website by 15%
4. Blog from anywhere (using mobiles)
5. Speed access. (Since basic functionalities are included in the mobile
site)
6. Increase the accessibility for mobile viewers as well.

Accessibility is the most important for any website to be better among other
website. Therefore it will benifit more for all the users who are using wp.

Its just my opinion. Give your suggestions to enhance the idea and guide me
to make a proper idea for the gsoc.

Thank you.

-- 
with love

Sutharshan

From jeremy at visser.name  Wed Apr  7 05:02:24 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Wed, 07 Apr 2010 15:02:24 +1000
Subject: [wp-hackers] WP Update Problems
In-Reply-To: <n2x8031bdef1004051540ke48410d3n56118fdef45fa9ed@mail.gmail.com>
References: <n2x8031bdef1004051540ke48410d3n56118fdef45fa9ed@mail.gmail.com>
Message-ID: <4BBC11E0.4070908@visser.name>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 06/04/10 08:40, John Bloch wrote:
> "*Fatal error*: Allowed memory size of 33554432 bytes exhausted (tried to
> allocate 6968 bytes) in *
> /var/www/vhosts/my/file/path/wp-includes/formatting.php* on line *1216"*

Grasping at straws here, but if memory_limit didn't fix the bug, have
you tried running an earlier version of WordPress (just for testing)?

Could well be a bug in formatting.php creating an infinite loop or
something. Or it could be a PHP bug. Not clear at this stage.

The memory is being maxed in the function trailingslashit(), but that
could be called from anything. Would be good if you could get a PHP
traceback of some kind (off the top of my head, I don't know how to do
that ? anyone want to pipe up?).

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iEYEARECAAYFAku8Ed0ACgkQvs6Qqs8TxBrvBQCg5eaGA7IokrwzZ80K+DVCZKc4
cM8AnRgUYEj0yr3XSOIuBcI12XphJ6SB
=/I5J
-----END PGP SIGNATURE-----

From admin at oxymaniac.com  Wed Apr  7 05:22:33 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Wed, 7 Apr 2010 10:52:33 +0530
Subject: [wp-hackers] [GSOC2010]WPmove
Message-ID: <t2j3f0d2d431004062222tabdb6eacndf362a19aec4f0d1@mail.gmail.com>

Hi!
I made a basic layout for the proposal and made it into points for ease of
understanding
It would be great if you had a look at it and put in your feedbacks. I would
love to know your ideas and make this into a useful resource for anyone who
finally does this project :)

   1. Backup of db n a way to search n replace the domain name in the backed
   up sql file or replicated [dbprefix]_wpmove_[table] table.
   2. Look for serialized names n handle them accordingly
   3. Set-up ftp move / zip-unzip package move
   4. Keep a check on the server load
   5. Make progress bars and other UI elements to help the novice through
   the process
   6. Roundup n check for single user blogs if all the above points are met
   n make all bug fixes with #1 to #5
   7. Introduce multi user single server support (Extra point for now as I
   already have found a lot of issues in the first 5 points)
   8. Profiling the server types and best possible way out of all the
   functions and options we make

If you like the idea and want to know more about it drop by
http://piyushmishra.com/blog/ideas/wpmove.html
(do post your comments :D )
-- 
Cheers
Piyush Mishra

From jbloch at olympianetworks.com  Wed Apr  7 05:28:24 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Wed, 7 Apr 2010 01:28:24 -0400
Subject: [wp-hackers] WP Update Problems
In-Reply-To: <4BBC11E0.4070908@visser.name>
References: <n2x8031bdef1004051540ke48410d3n56118fdef45fa9ed@mail.gmail.com>
	<4BBC11E0.4070908@visser.name>
Message-ID: <r2g8031bdef1004062228hf925fa66lc2563e2e086f6999@mail.gmail.com>

Actually, I found the problem this morning. The hosting server had set the
owner and group of the files as root:root, but php runs as user apache. I
had already tried chown'ing the files to apache:apache (which works on most
server configs), but this one needed to be apache:root. The problem turned
out to be mostly on the part of the server, although WP wasn't throwing a
permissions error (which it's normally really good about).

The same problem also was causing directories to be non-writable, as well as
theme and plugin files, but all of those problems threw permissions errors.
As soon as I set everything to apache:root, all the problems went away.

John P. Bloch


On Wed, Apr 7, 2010 at 1:02 AM, Jeremy Visser <jeremy at visser.name> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 06/04/10 08:40, John Bloch wrote:
> > "*Fatal error*: Allowed memory size of 33554432 bytes exhausted (tried to
> > allocate 6968 bytes) in *
> > /var/www/vhosts/my/file/path/wp-includes/formatting.php* on line *1216"*
>
> Grasping at straws here, but if memory_limit didn't fix the bug, have
> you tried running an earlier version of WordPress (just for testing)?
>
> Could well be a bug in formatting.php creating an infinite loop or
> something. Or it could be a PHP bug. Not clear at this stage.
>
> The memory is being maxed in the function trailingslashit(), but that
> could be called from anything. Would be good if you could get a PHP
> traceback of some kind (off the top of my head, I don't know how to do
> that ? anyone want to pipe up?).
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.9 (GNU/Linux)
>
> iEYEARECAAYFAku8Ed0ACgkQvs6Qqs8TxBrvBQCg5eaGA7IokrwzZ80K+DVCZKc4
> cM8AnRgUYEj0yr3XSOIuBcI12XphJ6SB
> =/I5J
> -----END PGP SIGNATURE-----
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dkoopersmith at gmail.com  Wed Apr  7 06:02:50 2010
From: dkoopersmith at gmail.com (Daryl Koopersmith)
Date: Wed, 7 Apr 2010 07:02:50 +0100
Subject: [wp-hackers] Modular Themes: Apply the template hierarchy to
	folders within a theme
In-Reply-To: <D11CE373-1257-4E9C-991E-DC89A0BCCD34@striderweb.com>
References: <i2tbf58ca3c1004061031h4b85699t7951c4ce70ab2d84@mail.gmail.com> 
	<D11CE373-1257-4E9C-991E-DC89A0BCCD34@striderweb.com>
Message-ID: <q2xbf58ca3c1004062302i5e5ed9b7q2d84e988b3f819c@mail.gmail.com>

1) It's not really a "theme framework", but a small, powerful function. Yes,
it's possible to emulate this function via judicious including. I could also
implement the function in a plugin/theme by renaming and replicating several
hundred lines of WP code, but that isn't exactly practical (if one filter
were added to core, that would drop to several dozen, but I digress). The
patch relies heavily on core, and is designed to be a part of core. I
believe this function will be useful to all themes; a tool in a developer's
toolbox rather than a blueprint.

2) Modular themes increase the flexibility of child themes. When the
template hierarchy is applied, it checks for files in the child theme before
checking the parent theme. Since each module searches for files on all
levels of the template hierarchy, child themes have a greater opportunity to
override parent themes, and can pinpoint exactly where in the template
hierarchy they want to override the parent theme without the use of template
conditionals (i.e. is_category() ).

In addition, modules establish a naming convention (via the template
hierarchy), so developers will know exactly which filenames they can use to
override code (whereas get_template_part requires the user to inspect the
parent theme's code).

On Wed, Apr 7, 2010 at 12:26 AM, Stephen Rider <wp-hackers at striderweb.com>wrote:

> Two things --
>
> 1) If you want a "theme framework" of common code, it seems you could
> emulate this now wuth judicious include()ing of files within whatever
> hierarchy of folders you like.
>
> 2) How would this affect child themes?
>
> Stephen
>
>
> On Apr 6, 2010, at 12:31 PM, Daryl Koopersmith wrote:
>
> > I've recently been working on a patch and several posts explaining how
> > modular themes can improve WP. For anyone who's seen my presentation from
> > WordCamp Ireland, this is the patch I spoke about.
> >
> > By applying the template hierarchy to folders within a theme, theme
> > developers will be able to break themes into modules and substantially
> > reduce repeated code.
> >
> > If you look at Twenty Ten, it uses get_template_part() to simulate parts
> of
> > the template hierarchy when loading the loop (e.g. it looks for
> > loop-archive.php, then loop.php, etc.). However, any theme developer that
> > wants to implement the template hierarchy while loading a template part
> must
> > do so manually?there is currently no automated option. There are several
> > downsides to a manual implementation, namely the lack of a naming
> convention
> > and the sheer impossibility of implementing the entire template hierarchy
> by
> > hand. This patch solves that problem.
> >
> > In addition, modular themes have the potential to transform theme
> > organization by reducing repeated code and making theme files more
> readable.
> >
> > Based on my tests, this patch should not affect performance.
> >
> > Interested?
> > *  Trac ticket: http://core.trac.wordpress.org/ticket/12877
> > *  Why we should add modular themes: http://wp.me/pS0xt-1f
> > *  How they can transform theme organization: http://wp.me/pS0xt-30
> > *  Performance tests: http://wp.me/pS0xt-3O
> >
> > Finally, the patch has the added benefit of creating an accurate global
> > $wp_template_hierarchy object (and a getter method), so any plugin/theme
> can
> > access the template hierarchy for $wp_query.
> >
> > Let me know what you think.
> >
> > Thanks,
> > Daryl
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From kikizas at gmail.com  Wed Apr  7 06:29:55 2010
From: kikizas at gmail.com (Demetris)
Date: Wed, 7 Apr 2010 09:29:55 +0300
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <i2v4cc4de141004061601k444896c7pd7e723977f1d4b05@mail.gmail.com>
References: <w2m161617691004060842oa445f24dpa4118747d6a785c4@mail.gmail.com>
	<x2y8031bdef1004061258nfea8a8aeybf3968f64d138fd7@mail.gmail.com>
	<z2s8031bdef1004061313y12774e39u591c61bf7cad054b@mail.gmail.com>
	<h2n161617691004061317h88eda7audde5683d57a9e5b5@mail.gmail.com>
	<s2v161617691004061324o26f21052z6f32781fa3aa356f@mail.gmail.com>
	<343A73F8-9295-40F6-9D08-664FC6257538@newclarity.net>
	<k2m161617691004061406q42f9f24dtafaec2edcdd959e7@mail.gmail.com>
	<n2v8031bdef1004061422lc8536e72jcd108109f92d9626@mail.gmail.com>
	<m2n161617691004061431w6cda36cem97bbf123d35d336c@mail.gmail.com>
	<i2v4cc4de141004061601k444896c7pd7e723977f1d4b05@mail.gmail.com>
Message-ID: <g2s9f34a3611004062329s4490a31t5fd13300dd276e7e@mail.gmail.com>

On Wed, Apr 7, 2010 at 2:01 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
>
SNIP
>
>> My ideal would be basically just like the widgets. I could do class
>> My_Menu_Item extends Menu_Item_Widget, then define the configuration
>> page and its params and then have an output() function to output the
>> menu item from those params. Simple.
>
>
> The menus ticket sat around for five weeks before it was decided to contact
> Woo Themes. A week later their patch was committed, and the code was largely
> rewritten over the next six weeks. So next time I would suggest your
> thoughts are mentioned one to three months earlier in the development cycle.
> More than 60 people made more than 350 comments to the initial menus ticket,
> and more than 25 other tickets regarding the feature were since opened.
>
That?s not a valid suggestion.

Are you going to say the same when end-users complain about the new
custom menu, or when theme devs start looking at it and cannot decide
what to do with it?

If it?s not the best that could be done, then it?s not the best that
could be done.

Cheers!

Demetris

From scribu at gmail.com  Wed Apr  7 09:01:20 2010
From: scribu at gmail.com (scribu)
Date: Wed, 7 Apr 2010 12:01:20 +0300
Subject: [wp-hackers] GSOC prososal - Increase Accessibility
In-Reply-To: <r2j3fa40cbc1004061848qbbdc6f1ex72250d5fd953d84a@mail.gmail.com>
References: <r2j3fa40cbc1004061848qbbdc6f1ex72250d5fd953d84a@mail.gmail.com>
Message-ID: <i2n349fe48b1004070201jea95766ch70cc2c763872bbd1@mail.gmail.com>

I hope you know that WP already has dedicated applications for iPhone,
Blackberry and Android.

Also, there already are several plugins that do what you suggest: WP-Mobile etc.


-- 
http://scribu.net

From sutharshan02 at gmail.com  Wed Apr  7 09:03:48 2010
From: sutharshan02 at gmail.com (sutharshan balachandren)
Date: Wed, 7 Apr 2010 14:33:48 +0530
Subject: [wp-hackers] GSOC prososal - Increase Accessibility
In-Reply-To: <i2n349fe48b1004070201jea95766ch70cc2c763872bbd1@mail.gmail.com>
References: <r2j3fa40cbc1004061848qbbdc6f1ex72250d5fd953d84a@mail.gmail.com>
	<i2n349fe48b1004070201jea95766ch70cc2c763872bbd1@mail.gmail.com>
Message-ID: <r2h3fa40cbc1004070203s91d27e6dx4913b8d03cad0703@mail.gmail.com>

Yes I checked those,

Its have some more features as like admin panel and well as themes support.

It will have a base api inherited from the core api and that base api allows
to use themes as we currently use with wp. The themes will be simple and
easy to create as well.


On Wed, Apr 7, 2010 at 2:31 PM, scribu <scribu at gmail.com> wrote:

> I hope you know that WP already has dedicated applications for iPhone,
> Blackberry and Android.
>
> Also, there already are several plugins that do what you suggest: WP-Mobile
> etc.
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
with love

Sutharshan

From zamoose at gmail.com  Wed Apr  7 11:17:23 2010
From: zamoose at gmail.com (Doug Stewart)
Date: Wed, 7 Apr 2010 07:17:23 -0400
Subject: [wp-hackers] GSOC prososal - Increase Accessibility
In-Reply-To: <r2h3fa40cbc1004070203s91d27e6dx4913b8d03cad0703@mail.gmail.com>
References: <r2j3fa40cbc1004061848qbbdc6f1ex72250d5fd953d84a@mail.gmail.com>
	<i2n349fe48b1004070201jea95766ch70cc2c763872bbd1@mail.gmail.com>
	<r2h3fa40cbc1004070203s91d27e6dx4913b8d03cad0703@mail.gmail.com>
Message-ID: <p2v71ddd7491004070417pbfbea42ala3206cfb34fd7060@mail.gmail.com>

We've (Stephdau, Viper and I) been looking for someone to code an
update to WPhone... You could start there.

On Wednesday, April 7, 2010, sutharshan balachandren
<sutharshan02 at gmail.com> wrote:
> Yes I checked those,
>
> Its have some more features as like admin panel and well as themes support.
>
> It will have a base api inherited from the core api and that base api allows
> to use themes as we currently use with wp. The themes will be simple and
> easy to create as well.
>
>
> On Wed, Apr 7, 2010 at 2:31 PM, scribu <scribu at gmail.com> wrote:
>
>> I hope you know that WP already has dedicated applications for iPhone,
>> Blackberry and Android.
>>
>> Also, there already are several plugins that do what you suggest: WP-Mobile
>> etc.
>>
>>
>> --
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> with love
>
> Sutharshan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

-- 
-Doug

From jane at automattic.com  Wed Apr  7 13:07:32 2010
From: jane at automattic.com (Jane Wells)
Date: Wed, 7 Apr 2010 09:07:32 -0400
Subject: [wp-hackers] Last GSoC Mentor chat today
Message-ID: <82078EA6-012D-40F2-AAD3-28CAE381DEE3@automattic.com>

The last group mentor chat before the GSoC application deadline is  
today at 4:30 eastern time, at irc.freenode.net #wordpress-gsoc. To  
make things a little smoother, interested students should leave a  
comment at http://wpdevel.wordpress.com/2010/04/07/the-last-group-mentor-chat-before-the-gs/ 
  indicating that they wish to speak with mentors in today?s chat.  
Provide a link to your proposal in the comment, and/or to the archived  
hacker?s thread where your idea has been discussed. To help things go  
faster in the chat itself, please type out your questions in advance  
so you can copy and paste into the chat when it?s your turn. Also  
remember to type out a very short summary of your project idea, in  
case the mentors haven?t had time to check out your links. Thanks.

Don?t forget, the application deadline is Friday at 19:00 UTC!

Jane

From otto at ottodestruct.com  Wed Apr  7 13:48:34 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 7 Apr 2010 08:48:34 -0500
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <F7AF2DF0-133D-4B73-9AB3-E7F717E5A25D@bu.edu>
References: <F7AF2DF0-133D-4B73-9AB3-E7F717E5A25D@bu.edu>
Message-ID: <t2j161617691004070648vbd7fdf80t2277c6e286aefcdc@mail.gmail.com>

On Tue, Apr 6, 2010 at 5:18 PM, Cornelius, Gregory <gcorne at bu.edu> wrote:
> The new approach also requires themes to replace wp_list_pages() a
> common function call in themes.

I'm not really opposed to that, that sort of thing would be necessary
anyway. Themes have to add support for new features. There's several
new things in 3.0 that will require theme changes. The comment_form()
stuff, for example. Themes always have to be changed for support, you
can't back-support everything, not without also breaking backward
compatibility.

I just wish that the new menu stuff was capable of replacing the old
way of doing things without such a major and crippling loss of
functionality.

-Otto

From lew at fullthrottledevelopment.com  Wed Apr  7 16:24:11 2010
From: lew at fullthrottledevelopment.com (Lew Ayotte - Full Throttle Development)
Date: Wed, 7 Apr 2010 12:24:11 -0400
Subject: [wp-hackers] Weird Comment Moderation Email
Message-ID: <k2o160203ed1004070924p1c6be361m8ec8190fe2d8cca@mail.gmail.com>

This probably doesn't require much (or any) attention, but I just had
something weird happen. I'm really just throwing this out there for anyone
who is interested.

I had two comments waiting for moderation (about 1 minute apart - 08:39:02 &
08:40:41 PDT). The first was obviously spam, it had like 50 or so links, I'm
not sure why Akismet didn't pick it up. The second had all the values
completely empty, here is a copy/paste:

A new comment on the post # "" is waiting for your approval


Author :  (IP:  , )
E-mail :
URL    :
Whois  : http://ws.arin.net/cgi-bin/whois.pl?queryinput=
Comment:


Approve it: http://lewayotte.com/wp-admin/comment.php?action=approve&c=0
Trash it: http://lewayotte.com/wp-admin/comment.php?action=trash&c=0
Spam it: http://lewayotte.com/wp-admin/comment.php?action=spam&c=0
Currently 0 comments are waiting for approval. Please visit the moderation
panel:
http://lewayotte.com/wp-admin/edit-comments.php?comment_status=moderated

This "comment" is not in my comment queue or anywhere in the comments DB
table.

I just thought it was kind of fishy because the IP was blank and the comment
id was 0.

For what it's worth, I did a `find` and no files in my site have been
modified in the past 3 days - so I'm pretty sure this isn't related to a PHP
injection (or a successful one).

Lew Ayotte
Full Throttle Development, LLC
706.363.0688
478.246.4627
lew at fullthrottledevelopment.com
http://fullthrottledevelopment.com
http://twitter.com/full_throttle
http://twitter.com/lewayotte

From Brian at TheCodeCave.com  Wed Apr  7 16:36:46 2010
From: Brian at TheCodeCave.com (Brian Layman)
Date: Wed, 7 Apr 2010 12:36:46 -0400
Subject: [wp-hackers] Weird Comment Moderation Email
In-Reply-To: <k2o160203ed1004070924p1c6be361m8ec8190fe2d8cca@mail.gmail.com>
References: <k2o160203ed1004070924p1c6be361m8ec8190fe2d8cca@mail.gmail.com>
Message-ID: <002901cad670$84f413b0$8edc3b10$@com>

Yeah, that sure looks funky. Something definitely was not handled correct.
There are some neat attacks going around though. 

One site I repaired for someone had a plugin stored and executed from the
wp_options table. The option name was a variation of site_url and the
content was prefaced by the header for the Hello Dolly plugin.  It was
pretty neat.  

So you might want to look around to see if there are any suspicious new
records and keep a close eye on Google's Webmaster Tools eval of your site
for the next couple days, but assuming you are on 2.9, I'd wager that you
are safe.  Comments are fairly well protected at this point. It would be
much easier to target a plugin, than to break in via comment spam.

-Brian Layman


From WraithKenny at aim.com  Wed Apr  7 18:23:28 2010
From: WraithKenny at aim.com (WraithKenny at aim.com)
Date: Wed, 07 Apr 2010 14:23:28 -0400
Subject: [wp-hackers] wp_nav_menu too simplistic?
In-Reply-To: <t2j161617691004070648vbd7fdf80t2277c6e286aefcdc@mail.gmail.com>
References: <F7AF2DF0-133D-4B73-9AB3-E7F717E5A25D@bu.edu>
	<t2j161617691004070648vbd7fdf80t2277c6e286aefcdc@mail.gmail.com>
Message-ID: <hpiij5$eci$1@dough.gmane.org>

On 4/7/2010 9:48 AM, Otto wrote:
> On Tue, Apr 6, 2010 at 5:18 PM, Cornelius, Gregory<gcorne at bu.edu>  wrote:
>> The new approach also requires themes to replace wp_list_pages() a
>> common function call in themes.
>
> I'm not really opposed to that, that sort of thing would be necessary
> anyway. Themes have to add support for new features. There's several
> new things in 3.0 that will require theme changes. The comment_form()
> stuff, for example. Themes always have to be changed for support, you
> can't back-support everything, not without also breaking backward
> compatibility.
>
> I just wish that the new menu stuff was capable of replacing the old
> way of doing things without such a major and crippling loss of
> functionality.
>
> -Otto

Opened a ticket for consideration that I believe would address the 
concerns here:
http://core.trac.wordpress.org/ticket/12900

My expected typical use of wp_nav_menu would be (if this ticket was 
implemented) to set wp_list_pages as the main navigational element (as 
to include all current and future pages), with only a few arbitrary 
links next to it.


From sutharshan02 at gmail.com  Wed Apr  7 19:16:50 2010
From: sutharshan02 at gmail.com (sutharshan balachandren)
Date: Thu, 8 Apr 2010 00:46:50 +0530
Subject: [wp-hackers] WP Connect:Connect the world! - GSOC proposal
Message-ID: <h2g3fa40cbc1004071216i373b7747x48321affbc6dab0c@mail.gmail.com>

WP Connect -Connect the world!
What I?m suggesting is that by creating a plug-in or by adding a new module
in the core of the wordpress and let all the wordpress users to publish
their blogs and wordpress website in all websites and other blogs just by
adding a piece of JavaScript.

The concept of this plugin is very simple. We can publish our articles and
webpages (which designed using wp) in other blogs or in websites easily by
adding a small code. We dont have to edit anything when ever we make new
posts. No changes are needed each time. The javascript itself will display
the latest posts in the websites which have that code.

The user who puts the code in his blog or website can change the font,
color, number of post etc? It?s very similar to Google ad sense code
fragments. The main advantage of the plug-in is that the code fragment will
be developed using Ajax technology, therefore in any web servers, in any
platform the code can run.

*Features*

Some of the changes that can be done by just editing the JavaScript values
are given below.

   1. Font size, font type, color and styles of each text
   2. Display panel width, height and background color
   3. Number of blogs to be displayed
   4. Blog arrangements (vertical listing | horizontal listing)
   5. WP website address which to be fetched.
   6. Display articles based on categories
   7. Able to view how many visitors came through each links (from each
   websites where the javascript is placed)
   8. Can display similar articles /diaplay articles based on web page
   content/ interest(keywords)

Not only this, lots of more features can be added in this module.

Just by having a module like this, there is no need to put links in all
website each time when we publish an article in our blogs. The latest
articles will be displayed automatically by this module in all web pages
which have the code fragment on it.

*The Functioning prototype*

My opinion is to add this module in wp as a plugin which can let connect all
wordpress users very easily and also by adding some other features in the
admin panel like favorite blogs to let all the users to stay connected
through wordpress. This is one of the better option to develop a community
by using wordpress.

I have just tried the prototype of this module in a standalone web
application and its works fine. The prototype only has the display unit
using Ajax and the backend was designed for my website (its not wp, but its
also a cms website-similar kind of wp in functionality). You can view that
in the following url

www.gsoc.izonedevelopers.com/test.html

In the prototype that i have developed, i have added only few features that
i have told before. This prototype is not the full plugin. What you can see
in that sample webpage is that there are 3 different blocks with different
styles and sizes. Those are generated just by changing the values in the
javascript. You can also try that just by copy the code that is displayed in
the right side of the webpage and paste it on the html page (in your web or
localhost). Also you can change the javascript values and create different
different output styles and different number of blogs as well.

*Benifits*

   - WP users will be able to display their blog anywhere in any websites
   just with a small piece of code.
   - Its purely done using javascript in front end, therefore it can run in
   any platform / server
   - It provides an opportunity to share our favorite blogs with our blog
   readers (display similar posts related to our posts)
   - Able to track from which website the user came to our site.
   - Can share our favorite blog articles in our webblogs or websites.
   - Makes javascript code generation very simple (Code generating wizard
   will be added with this plug in which can generate code for you, based on
   your selections).
   - And finally its one of the best publishing and advertising option for
   our blogs which can interact with other blogs and also bring more visitors
   towards our websites.
   - No changes in the core api.

*How it works?*

This plugin is based on php & javascript. Javascript for the front end and
php in the backend. When the user puts the javascript in any webpage, the
javascript passes the parameters to the php webpage inside the server where
the blog is stored. Then the php webpage will fetch the records based on the
parameters and checks whether is there are any images in each posts. if the
image is available in anywhere in the post, it will use that image,
otherwise it will use default image. Finally after fetching all the details
based on the parameter values, it will display them in the format that the
user requested.

It can be developed as webservice as well, but if it is web service then its
bit difficult to generate the code and add in the webpages since each
platform/server have different languages.

*Problem*

If the javascript is disabled in the browser, then it wont work at all.

I?m looking forward for all of your opinions.
-- 
with love

Sutharshan

From sutharshan02 at gmail.com  Wed Apr  7 19:18:39 2010
From: sutharshan02 at gmail.com (sutharshan balachandren)
Date: Thu, 8 Apr 2010 00:48:39 +0530
Subject: [wp-hackers] GSOC prososal - Increase Accessibility
In-Reply-To: <p2v71ddd7491004070417pbfbea42ala3206cfb34fd7060@mail.gmail.com>
References: <r2j3fa40cbc1004061848qbbdc6f1ex72250d5fd953d84a@mail.gmail.com>
	<i2n349fe48b1004070201jea95766ch70cc2c763872bbd1@mail.gmail.com>
	<r2h3fa40cbc1004070203s91d27e6dx4913b8d03cad0703@mail.gmail.com>
	<p2v71ddd7491004070417pbfbea42ala3206cfb34fd7060@mail.gmail.com>
Message-ID: <n2g3fa40cbc1004071218lfdf4512q9d817775f59b188@mail.gmail.com>

Thank you for your information.

May i know some more detail about WPhone. IF you can give the link of that,
it will be grateful. thank you.

On Wed, Apr 7, 2010 at 4:47 PM, Doug Stewart <zamoose at gmail.com> wrote:

> We've (Stephdau, Viper and I) been looking for someone to code an
> update to WPhone... You could start there.
>
> On Wednesday, April 7, 2010, sutharshan balachandren
> <sutharshan02 at gmail.com> wrote:
> > Yes I checked those,
> >
> > Its have some more features as like admin panel and well as themes
> support.
> >
> > It will have a base api inherited from the core api and that base api
> allows
> > to use themes as we currently use with wp. The themes will be simple and
> > easy to create as well.
> >
> >
> > On Wed, Apr 7, 2010 at 2:31 PM, scribu <scribu at gmail.com> wrote:
> >
> >> I hope you know that WP already has dedicated applications for iPhone,
> >> Blackberry and Android.
> >>
> >> Also, there already are several plugins that do what you suggest:
> WP-Mobile
> >> etc.
> >>
> >>
> >> --
> >> http://scribu.net
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> >
> > --
> > with love
> >
> > Sutharshan
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
> --
> -Doug
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
with love

Sutharshan

From sutharshan02 at gmail.com  Wed Apr  7 19:20:36 2010
From: sutharshan02 at gmail.com (sutharshan balachandren)
Date: Thu, 8 Apr 2010 00:50:36 +0530
Subject: [wp-hackers] GSOC prososal - Increase Accessibility
In-Reply-To: <n2g3fa40cbc1004071218lfdf4512q9d817775f59b188@mail.gmail.com>
References: <r2j3fa40cbc1004061848qbbdc6f1ex72250d5fd953d84a@mail.gmail.com>
	<i2n349fe48b1004070201jea95766ch70cc2c763872bbd1@mail.gmail.com>
	<r2h3fa40cbc1004070203s91d27e6dx4913b8d03cad0703@mail.gmail.com>
	<p2v71ddd7491004070417pbfbea42ala3206cfb34fd7060@mail.gmail.com>
	<n2g3fa40cbc1004071218lfdf4512q9d817775f59b188@mail.gmail.com>
Message-ID: <u2w3fa40cbc1004071220kf319b66cz4a34d0d8c71d04c3@mail.gmail.com>

*Detailed proposal*

Most of the websites have two different web pages for mobile browers and for
Normal browsers.
when i access my blog through my mobile phone its still the same page, had
more difficulties in accessing pages and specially administration area.
Also JavaScript is not working in the mobile phone as well.

What I?m suggesting is that by having two different interfaces for both
Normal and mobile browsers will be very usefull for all websites. Therefore
by providing this feature in wp, will give more benifits to all the users,
since most of the people are now using mobile browsers due to the tight work
schedule.

*Whats the main benifit in this plug-in than the currenty available
plug-ins?*

This plug in provides both user view and also the administration area as
well. In the administration area the important functionalities will be
included. Not all the functions that the normal wp admin has. Functions
related to posts, moderating comments,links and so on.

Other main different is that most of the available plugins are only themes.
But this application is not a theme. Its a base api for mobile which
inherits core api and provides access to the major functionalities. Since
its a base api, its possible to add new themes for mobile web based on the
base api. Therefore each web can have their own theme or anyone can develop
new theme for the mobile web. Since it have simplified interface, the mobile
web theme development will be much easier as well.

*Expected benifits*

1. Website can be accessed in any mobile phones without any difficulties
2. Easy and simplified interface without any javascript which makes
navigation easy.
3. Will increase the amount of visitors of the website by allowing the
mobile users to access websites designed using wp.
4. Blog from anywhere (using mobiles)
5. Speed access. (Since basic functionalities are included in the mobile
site)
6. Increase the accessibility for mobile viewers as well.
7. Flexible and easy theme designing and modification.

Accessibility is the most important for any website to be better among other
website. Therefore it will benifit more for all the users who are using wp.

Its just my opinion. Give your suggestions to enhance the idea.

Thank you.

On Thu, Apr 8, 2010 at 12:48 AM, sutharshan balachandren <
sutharshan02 at gmail.com> wrote:

> Thank you for your information.
>
> May i know some more detail about WPhone. IF you can give the link of
> that, it will be grateful. thank you.
>
>
> On Wed, Apr 7, 2010 at 4:47 PM, Doug Stewart <zamoose at gmail.com> wrote:
>
>> We've (Stephdau, Viper and I) been looking for someone to code an
>> update to WPhone... You could start there.
>>
>> On Wednesday, April 7, 2010, sutharshan balachandren
>> <sutharshan02 at gmail.com> wrote:
>> > Yes I checked those,
>> >
>> > Its have some more features as like admin panel and well as themes
>> support.
>> >
>> > It will have a base api inherited from the core api and that base api
>> allows
>> > to use themes as we currently use with wp. The themes will be simple and
>> > easy to create as well.
>> >
>> >
>> > On Wed, Apr 7, 2010 at 2:31 PM, scribu <scribu at gmail.com> wrote:
>> >
>> >> I hope you know that WP already has dedicated applications for iPhone,
>> >> Blackberry and Android.
>> >>
>> >> Also, there already are several plugins that do what you suggest:
>> WP-Mobile
>> >> etc.
>> >>
>> >>
>> >> --
>> >> http://scribu.net
>> >> _______________________________________________
>> >> wp-hackers mailing list
>> >> wp-hackers at lists.automattic.com
>> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>
>> >
>> >
>> >
>> > --
>> > with love
>> >
>> > Sutharshan
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>>
>> --
>> -Doug
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> with love
>
> Sutharshan
>



-- 
with love

Sutharshan

From wp-hackers at striderweb.com  Wed Apr  7 20:35:46 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 7 Apr 2010 15:35:46 -0500
Subject: [wp-hackers] GSOC prososal - Increase Accessibility
In-Reply-To: <n2g3fa40cbc1004071218lfdf4512q9d817775f59b188@mail.gmail.com>
References: <r2j3fa40cbc1004061848qbbdc6f1ex72250d5fd953d84a@mail.gmail.com>
	<i2n349fe48b1004070201jea95766ch70cc2c763872bbd1@mail.gmail.com>
	<r2h3fa40cbc1004070203s91d27e6dx4913b8d03cad0703@mail.gmail.com>
	<p2v71ddd7491004070417pbfbea42ala3206cfb34fd7060@mail.gmail.com>
	<n2g3fa40cbc1004071218lfdf4512q9d817775f59b188@mail.gmail.com>
Message-ID: <601EECE3-67C6-4F47-947B-16E5A91600D9@striderweb.com>


On Apr 7, 2010, at 2:18 PM, sutharshan balachandren wrote:

> May i know some more detail about WPhone. IF you can give the link of that,
> it will be grateful. thank you.

Sure thing:
<http://lmgtfy.com/?q=wphone&l=1>

From jayarjo at gmail.com  Wed Apr  7 21:38:06 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Thu, 8 Apr 2010 01:38:06 +0400
Subject: [wp-hackers]  WEIRD! source code block show up on 404...
Message-ID: <k2k9aa12a491004071438h490ee3ddw47e202ade1ee24a6@mail.gmail.com>

I've never encountered anything like that. Regular wordpress
installation (latest), some usual plugins (can list them if it
matters). And I'm getting raw html source blocks, when entering wrong
urls in address bar, without any header or footer parts and sometimes
even with html tags split in the middle, instead of regular 404 page
(template for which I got in theme folder). What could be the reason
for that?

Has anyone encountered or heard of anyone encountering anything like that??

-- 
Davit Barbakadze

From bulk at thecodecave.com  Wed Apr  7 21:54:52 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Wed, 7 Apr 2010 17:54:52 -0400
Subject: [wp-hackers] WEIRD! source code block show up on 404...
In-Reply-To: <k2k9aa12a491004071438h490ee3ddw47e202ade1ee24a6@mail.gmail.com>
References: <k2k9aa12a491004071438h490ee3ddw47e202ade1ee24a6@mail.gmail.com>
Message-ID: <005701cad69c$f5568210$e0038630$@com>

I'd really need to see an example, but speculating wildly the http header
may be messed up.

Temporarily replace your 404 file with something dirt simple

<?php
header("HTTP/1.0 404 Not Found");
?>

and see what that does,

Rereading 
http://codex.wordpress.org/Creating_an_Error_404_Page

may point out something missing in your template.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Davit
Barbakadze
Sent: Wednesday, April 07, 2010 5:38 PM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] WEIRD! source code block show up on 404...

I've never encountered anything like that. Regular wordpress
installation (latest), some usual plugins (can list them if it
matters). And I'm getting raw html source blocks, when entering wrong
urls in address bar, without any header or footer parts and sometimes
even with html tags split in the middle, instead of regular 404 page
(template for which I got in theme folder). What could be the reason
for that?

Has anyone encountered or heard of anyone encountering anything like that??

-- 
Davit Barbakadze
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From admin at oxymaniac.com  Thu Apr  8 04:28:48 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Thu, 8 Apr 2010 09:58:48 +0530
Subject: [wp-hackers] [GSoC2010]WPmove use of XML-RPC
Message-ID: <l2g3f0d2d431004072128s4634e9b1w5e9115f0b32d310a@mail.gmail.com>

Hi,
I have proposed WPmove plugin/core for GSOC2010
http://socghop.appspot.com/gsoc/student_proposal/show/google/gsoc2010/piyushmishra/t127067242689

In a chat with a fellow applicant(stas) he gave me the idea of using xml-rpc
for each post but I think that using the new revised blog import/export
component to generate and store the file on server and later import it from
the other server will be a better option as it will reduce server to server
communication and chances of failure and load. not sure which is the better
way to go about it.
What do you all think?

-- 
Regards
Piyush Mishra

From admin at oxymaniac.com  Thu Apr  8 04:32:21 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Thu, 8 Apr 2010 10:02:21 +0530
Subject: [wp-hackers] [GSOC2010]WPmove [wpurl] tag replace
Message-ID: <t2z3f0d2d431004072132w52d6544es9003204008476b8d@mail.gmail.com>

Hi,
I have proposed WPmove as a plugin/core
http://socghop.appspot.com/gsoc/student_proposal/show/google/gsoc2010/piyushmishra/t127067242689
wp version : http://piyushmishra.com/blog/ideas/wpmove.html

During my chats with various mentors I came across this issue that to avoid
the need of such complex WPmove, we can switch to the basic concept of
making a universal tag say [wpurl] and place it whereever we need the url to
wp. While using the url in posts, we can ask the user if he/she wants to
have the [wpurl] tag replace for url or keep the static url up. this will
help in reducing the issues and efforts for future versions of WP. ( this
Point is very vital and must be considered even if the proposal is rejected)

I thought that this needs some good discussion and thus put it up here.
please post your feedbacks

-- 
Regards
Piyush Mishra

From puffnfresh at gmail.com  Thu Apr  8 05:08:03 2010
From: puffnfresh at gmail.com (Brian McKenna)
Date: Thu, 8 Apr 2010 15:08:03 +1000
Subject: [wp-hackers] [GSOC2010]WPmove [wpurl] tag replace
In-Reply-To: <t2z3f0d2d431004072132w52d6544es9003204008476b8d@mail.gmail.com>
References: <t2z3f0d2d431004072132w52d6544es9003204008476b8d@mail.gmail.com>
Message-ID: <t2jdef69ef61004072208s9c32315ete06b1144e51f567@mail.gmail.com>

That's an interesting idea. Just some quick questions.

The main problem so far with migrating is replacing the strings in
serialised data (in options, for example) - does that mean that
[wpurl] will be put in everything and then replaced when anything gets
rendered (not just post content)?

If so, wouldn't having a string replace over the (possibly buffered)
output cause some extra delay in page rendering?

Also, what happens if a user innocently copies and pastes a URL from
their website into the edit screens? Does it automatically get
replaced with [wpurl]?

Thanks,
Brian McKenna

On 8 April 2010 14:32, Piyush Mishra <admin at oxymaniac.com> wrote:
> Hi,
> I have proposed WPmove as a plugin/core
> http://socghop.appspot.com/gsoc/student_proposal/show/google/gsoc2010/piyushmishra/t127067242689
> wp version : http://piyushmishra.com/blog/ideas/wpmove.html
>
> During my chats with various mentors I came across this issue that to avoid
> the need of such complex WPmove, we can switch to the basic concept of
> making a universal tag say [wpurl] and place it whereever we need the url to
> wp. While using the url in posts, we can ask the user if he/she wants to
> have the [wpurl] tag replace for url or keep the static url up. this will
> help in reducing the issues and efforts for future versions of WP. ( this
> Point is very vital and must be considered even if the proposal is rejected)
>
> I thought that this needs some good discussion and thus put it up here.
> please post your feedbacks
>
> --
> Regards
> Piyush Mishra
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bmbalex at gmail.com  Thu Apr  8 05:53:01 2010
From: bmbalex at gmail.com (Bumbu Alex)
Date: Thu, 08 Apr 2010 08:53:01 +0300
Subject: [wp-hackers] =?utf-8?q?=5BGSoC2010=5D_Dashboard_=E2=80=9CSetup_Co?=
 =?utf-8?q?mpletion=E2=80=9D_Module?=
Message-ID: <4BBD6F3D.1040008@gmail.com>

While thinking about this topic that seems to be easy at the begining, 
it has a lot of details that needs atention.
Here are listed few thoughts:
----------------
basic
----------------
  - when user login in admin panel, he well see in the dashboard setup 
progress bar
  - module knows a list of arranged "steps" that user has to do to 
complete setup
  - each time when dashboard is visualized - module check which "steps" 
wasn't done, and give hint to do it
  - if step is more specific, or require some detailed explanation, or 
title is not enough suggestive - module will output also some brief 
description (also it can have link to documented page about those 
configuration)
  - also this module is not only about configuration setting, but also 
about : how and where to write first post, add one category, delete 
comment ....
-----------------
additional
-----------------
  - user can choose to edit proposed by "step" configuration right in 
the module (even if this is user friendly, next time user will not from 
which page is configuration)
  - user can skip/delete some steps which he thinks that are unnecessary 
for his blog (here the same, he could misunderstand some "step", or just 
ignore this - and he will not know how to configure his blog)
  - other plugins can send to this module additional "steps" which will 
involve configuration of those modules (module API or when other plugins 
will be installed - it will grab information from them specifically 
destinated for this module).
  - at the begging to have ability to choose level of guidance: basic 
(only few steps), normal, full...
-----------------
what do you think about this? any comment will be apreciated!

From jayarjo at gmail.com  Thu Apr  8 09:22:05 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Thu, 8 Apr 2010 13:22:05 +0400
Subject: [wp-hackers] WEIRD! source code block show up on 404...
In-Reply-To: <005701cad69c$f5568210$e0038630$@com>
References: <k2k9aa12a491004071438h490ee3ddw47e202ade1ee24a6@mail.gmail.com> 
	<005701cad69c$f5568210$e0038630$@com>
Message-ID: <v2w9aa12a491004080222i443d24c7k515527154c029137@mail.gmail.com>

Thank you Brian,

It gave me a blank page.

Here's the site in question: http://contemporary-magician.co.uk

You can try something like:
http://contemporary-magician.co.uk/fsdfsdfsdf to see the mess.

On Thu, Apr 8, 2010 at 1:54 AM, Brian Layman <bulk at thecodecave.com> wrote:
> I'd really need to see an example, but speculating wildly the http header
> may be messed up.
>
> Temporarily replace your 404 file with something dirt simple
>
> <?php
> header("HTTP/1.0 404 Not Found");
> ?>
>
> and see what that does,
>
> Rereading
> http://codex.wordpress.org/Creating_an_Error_404_Page
>
> may point out something missing in your template.
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Davit
> Barbakadze
> Sent: Wednesday, April 07, 2010 5:38 PM
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] WEIRD! source code block show up on 404...
>
> I've never encountered anything like that. Regular wordpress
> installation (latest), some usual plugins (can list them if it
> matters). And I'm getting raw html source blocks, when entering wrong
> urls in address bar, without any header or footer parts and sometimes
> even with html tags split in the middle, instead of regular 404 page
> (template for which I got in theme folder). What could be the reason
> for that?
>
> Has anyone encountered or heard of anyone encountering anything like that??
>
> --
> Davit Barbakadze
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From admin at oxymaniac.com  Thu Apr  8 13:22:20 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Thu, 8 Apr 2010 18:52:20 +0530
Subject: [wp-hackers] [GSOC2010]WPmove [wpurl] tag replace
Message-ID: <h2t3f0d2d431004080622w4803b4ecnee29d302d6db927f@mail.gmail.com>

yes the data of serialized content will have [wpurl] like tag too.as  main
aim was to have a single place where we edit the domain making the content
virtually independent of the domain name(specially great for media, linking
and move. :)
I agree that there will be a slight delay in rendering data at any level.
and this idea isnt for a plugin it is for the whole change of the way wp
stores data and the function that calls the url.
with wp-cache plugins, this will not be a problem at all :)

if the user copy pastes the url, while posting, the javascript gives a
prompt to amke the string replace for the dynamic [wpurl] or keep the static
link. in that case, its the final choice of the user.


> From: Brian McKenna <puffnfresh at gmail.com>
> To: wp-hackers at lists.automattic.com
> Date: Thu, 8 Apr 2010 15:08:03 +1000
> Subject: Re: [wp-hackers] [GSOC2010]WPmove [wpurl] tag replace
> That's an interesting idea. Just some quick questions.
>
> The main problem so far with migrating is replacing the strings in
> serialised data (in options, for example) - does that mean that
> [wpurl] will be put in everything and then replaced when anything gets
> rendered (not just post content)?
>
> If so, wouldn't having a string replace over the (possibly buffered)
> output cause some extra delay in page rendering?
>
> Also, what happens if a user innocently copies and pastes a URL from
> their website into the edit screens? Does it automatically get
> replaced with [wpurl]?
>
> Thanks,
> Brian McKenna
>
> On 8 April 2010 14:32, Piyush Mishra <admin at oxymaniac.com> wrote:
> > Hi,
> > I have proposed WPmove as a plugin/core
> >
> http://socghop.appspot.com/gsoc/student_proposal/show/google/gsoc2010/piyushmishra/t127067242689
> > wp version : http://piyushmishra.com/blog/ideas/wpmove.html
> >
> > During my chats with various mentors I came across this issue that to
> avoid
> > the need of such complex WPmove, we can switch to the basic concept of
> > making a universal tag say [wpurl] and place it whereever we need the url
> to
> > wp. While using the url in posts, we can ask the user if he/she wants to
> > have the [wpurl] tag replace for url or keep the static url up. this will
> > help in reducing the issues and efforts for future versions of WP. ( this
> > Point is very vital and must be considered even if the proposal is
> rejected)
> >
> > I thought that this needs some good discussion and thus put it up here.
> > please post your feedbacks
> >
> > --
> > Regards
> > Piyush Mishra
> > ______________________________
> _________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>


-- 
Regards
Piyush Mishra

From otto at ottodestruct.com  Thu Apr  8 13:34:53 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 8 Apr 2010 08:34:53 -0500
Subject: [wp-hackers] [GSOC2010]WPmove [wpurl] tag replace
In-Reply-To: <h2t3f0d2d431004080622w4803b4ecnee29d302d6db927f@mail.gmail.com>
References: <h2t3f0d2d431004080622w4803b4ecnee29d302d6db927f@mail.gmail.com>
Message-ID: <i2j161617691004080634mbdc7bb7esc640331d2e3e61f8@mail.gmail.com>

One objection:

"Even then, if the new domain has a different number of characters in
it than the old one did, you can run against problems if any of the
places you replaced the name happened to be inside a serialized array
(almost all the options, including things like widget settings, text
widget text, etc)."

Actually, this is not a problem. PHP is perfectly capable of
deserializing data with incorrect length values in it. It just throws
a warning, not an error. And warnings get suppressed by WP by default
anyway.

In short: This sort of thing works fine, without any problems at all.

-Otto



On Thu, Apr 8, 2010 at 8:22 AM, Piyush Mishra <admin at oxymaniac.com> wrote:
> yes the data of serialized content will have [wpurl] like tag too.as ?main
> aim was to have a single place where we edit the domain making the content
> virtually independent of the domain name(specially great for media, linking
> and move. :)
> I agree that there will be a slight delay in rendering data at any level.
> and this idea isnt for a plugin it is for the whole change of the way wp
> stores data and the function that calls the url.
> with wp-cache plugins, this will not be a problem at all :)
>
> if the user copy pastes the url, while posting, the javascript gives a
> prompt to amke the string replace for the dynamic [wpurl] or keep the static
> link. in that case, its the final choice of the user.
>
>
>> From: Brian McKenna <puffnfresh at gmail.com>
>> To: wp-hackers at lists.automattic.com
>> Date: Thu, 8 Apr 2010 15:08:03 +1000
>> Subject: Re: [wp-hackers] [GSOC2010]WPmove [wpurl] tag replace
>> That's an interesting idea. Just some quick questions.
>>
>> The main problem so far with migrating is replacing the strings in
>> serialised data (in options, for example) - does that mean that
>> [wpurl] will be put in everything and then replaced when anything gets
>> rendered (not just post content)?
>>
>> If so, wouldn't having a string replace over the (possibly buffered)
>> output cause some extra delay in page rendering?
>>
>> Also, what happens if a user innocently copies and pastes a URL from
>> their website into the edit screens? Does it automatically get
>> replaced with [wpurl]?
>>
>> Thanks,
>> Brian McKenna
>>
>> On 8 April 2010 14:32, Piyush Mishra <admin at oxymaniac.com> wrote:
>> > Hi,
>> > I have proposed WPmove as a plugin/core
>> >
>> http://socghop.appspot.com/gsoc/student_proposal/show/google/gsoc2010/piyushmishra/t127067242689
>> > wp version : http://piyushmishra.com/blog/ideas/wpmove.html
>> >
>> > During my chats with various mentors I came across this issue that to
>> avoid
>> > the need of such complex WPmove, we can switch to the basic concept of
>> > making a universal tag say [wpurl] and place it whereever we need the url
>> to
>> > wp. While using the url in posts, we can ask the user if he/she wants to
>> > have the [wpurl] tag replace for url or keep the static url up. this will
>> > help in reducing the issues and efforts for future versions of WP. ( this
>> > Point is very vital and must be considered even if the proposal is
>> rejected)
>> >
>> > I thought that this needs some good discussion and thus put it up here.
>> > please post your feedbacks
>> >
>> > --
>> > Regards
>> > Piyush Mishra
>> > ______________________________
>> _________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>>
>
>
> --
> Regards
> Piyush Mishra
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From admin at oxymaniac.com  Thu Apr  8 14:23:15 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Thu, 8 Apr 2010 19:53:15 +0530
Subject: [wp-hackers] [GSOC2010]WPmove [wpurl] tag replace
Message-ID: <t2j3f0d2d431004080723t51336097l28a6e29357ce4e13@mail.gmail.com>

I beg to differ, I tried printing the array out to my local server

<?php
$a=unserialize('a:2:{i:0;s:12:"piyushmishra";i:1;s:8:"rockstar";}');
print_r($a);
?>


Output Array ( [0] => piyushmishra [1] => rockstar )

changing the text first
<?php
$a=unserialize('a:2:{i:0;s:12:"piyushmishra";i:1;s:8:"punkstar";}');
print_r($a);
?>
I got the array output Array ( [0] => piyushmishra [1] => punkstar )
 and then changing the number of characters rockstar to rockstars

<?php
$a=unserialize('a:2:{i:0;s:12:"piyushmishra";i:1;s:8:"punkstar";}');
print_r($a);
?>

The text didnt give any output and I saw a blank screen, have u noticed that
there is a count of characters in serialized content? One way would be
changing the count too but I prefer loading it as an array > making the
replace and updating it in the db...





> *Otto* otto at ottodestruct.com
>
> One objection:
>
> "Even then, if the new domain has a different number of characters in
> it than the old one did, you can run against problems if any of the
> places you replaced the name happened to be inside a serialized array
> (almost all the options, including things like widget settings, text
> widget text, etc)."
>
> Actually, this is not a problem. PHP is perfectly capable of
> deserializing data with incorrect length values in it. It just throws
> a warning, not an error. And warnings get suppressed by WP by default
> anyway.
>
> In short: This sort of thing works fine, without any problems at all.
>
> -Otto
>
>
>
> On Thu, Apr 8, 2010 at 8:22 AM, Piyush Mishra <admin at oxymaniac.com>
> wrote:
> > yes the data of serialized content will have [wpurl] like tag too.as main
> > aim was to have a single place where we edit the domain making the
> content
> > virtually independent of the domain name(specially great for media,
> linking
> > and move. :)
> > I agree that there will be a slight delay in rendering data at any level.
> > and this idea isnt for a plugin it is for the whole change of the way wp
> > stores data and the function that calls the url.
> > with wp-cache plugins, this will not be a problem at all :)
> >
> > if the user copy pastes the url, while posting, the javascript gives a
> > prompt to amke the string replace for the dynamic [wpurl] or keep the
> static
> > link. in that case, its the final choice of the user.
> >
> >
> >> From: Brian McKenna <puffnfresh at gmail.com>
> >> To: wp-hackers at lists.automattic.com
> >> Date: Thu, 8 Apr 2010 15:08:03 +1000
> >> Subject: Re: [wp-hackers] [GSOC2010]WPmove [wpurl] tag replace
> >> That's an interesting idea. Just some quick questions.
> >>
> >> The main problem so far with migrating is replacing the strings in
> >> serialised data (in options, for example) - does that mean that
> >> [wpurl] will be put in everything and then replaced when anything gets
> >> rendered (not just post content)?
> >>
> >> If so, wouldn't having a string replace over the (possibly buffered)
> >> output cause some extra delay in page rendering?
> >>
> >> Also, what happens if a user innocently copies and pastes a URL from
> >> their website into the edit screens? Does it automatically get
> >> replaced with [wpurl]?
> >>
> >> Thanks,
> >> Brian McKenna
> >>
> >> On 8 April 2010 14:32, Piyush Mishra <admin at oxymaniac.com> wrote:
> >> > Hi,
> >> > I have proposed WPmove as a plugin/core
> >> >
> >>
> http://socghop.appspot.com/gsoc/student_proposal/show/google/gsoc2010/piyushmishra/t127067242689
> >> > wp version : http://piyushmishra.com/blog/ideas/wpmove.html
> >> >
> >> > During my chats with various mentors I came across this issue that to
> >> avoid
> >> > the need of such complex WPmove, we can switch to the basic concept of
> >> > making a universal tag say [wpurl] and place it whereever we need the
> url
> >> to
> >> > wp. While using the url in posts, we can ask the user if he/she wants
> to
> >> > have the [wpurl] tag replace for url or keep the static url up. this
> will
> >> > help in reducing the issues and efforts for future versions of WP. (
> this
> >> > Point is very vital and must be considered even if the proposal is
> >> rejected)
> >> >
> >> > I thought that this needs some good discussion and thus put it up
> here.
> >> > please post your feedbacks
> >> >
> >> > --
> >> > Regards
> >> > Piyush Mishra
> >> > ______________________________
> >> _________________
> >> > wp-hackers mailing list
> >> > wp-hackers at lists.automattic.com
> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >
> >>
> >
> >
> > --
> > Regards
> > Piyush Mishra
>


-- 
Regards
Piyush Mishra

From otto at ottodestruct.com  Thu Apr  8 15:17:28 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 8 Apr 2010 10:17:28 -0500
Subject: [wp-hackers] [GSOC2010]WPmove [wpurl] tag replace
In-Reply-To: <t2j3f0d2d431004080723t51336097l28a6e29357ce4e13@mail.gmail.com>
References: <t2j3f0d2d431004080723t51336097l28a6e29357ce4e13@mail.gmail.com>
Message-ID: <l2v161617691004080817k1e8c1c0dx4a3f1c131a55b285@mail.gmail.com>

On Thu, Apr 8, 2010 at 9:23 AM, Piyush Mishra <admin at oxymaniac.com> wrote:
> I beg to differ, I tried printing the array out to my local server

Huh. I'll be darned, you're right. I know it has worked for me before,
but with a simple test I can't make it work again.

Still, it's possible to add code to WP to fix that easily enough. If
you alter the maybe_unserialize function in wp-includes/functions.php
to the following, then the string lengths won't matter any more.


function maybe_unserialize( $original ) {
	if ( is_serialized( $original ) ) // don't attempt to unserialize
data that wasn't serialized going in
	{
		$fixed = preg_replace_callback(
			'!(?<=^|;)s:(\d+)(?=:"(.*?)";(?:}|a:|s:|b:|i:|o:|N;))!s',
			'serialize_fix_callback',
			$original );
		return @unserialize( $fixed );
	}
	return $original;
}

function serialize_fix_callback($match) { return 's:' . strlen($match[2]); }


Test that shows it works:
$a ='a:2:{i:0;s:123:"Test";i:1;s:456:"Fake";}';

var_dump(maybe_unserialize($a));


-Otto

From joseph at josephscott.org  Thu Apr  8 15:24:48 2010
From: joseph at josephscott.org (Joseph Scott)
Date: Thu, 8 Apr 2010 09:24:48 -0600
Subject: [wp-hackers] [GSoC2010]WPmove use of XML-RPC
In-Reply-To: <l2g3f0d2d431004072128s4634e9b1w5e9115f0b32d310a@mail.gmail.com>
References: <l2g3f0d2d431004072128s4634e9b1w5e9115f0b32d310a@mail.gmail.com>
Message-ID: <u2xbbd639f51004080824y750e7d25w6516446a43012b53@mail.gmail.com>

If you have the ability to install a plugin on both ends then you'll
likely better off using either custom XML-RPC methods or a revised
import/export process.

The only significant advantage to using the existing XML-RPC methods
is that they ship with every WP blog (though they need to be turned on
it order to work).

On Wed, Apr 7, 2010 at 10:28 PM, Piyush Mishra <admin at oxymaniac.com> wrote:
> In a chat with a fellow applicant(stas) he gave me the idea of using xml-rpc
> for each post but I think that using the new revised blog import/export
> component to generate and store the file on server and later import it from
> the other server will be a better option as it will reduce server to server
> communication and chances of failure and load. not sure which is the better
> way to go about it.
> What do you all think?



-- 
Joseph Scott
joseph at josephscott.org
http://josephscott.org/

From eric at eamann.com  Thu Apr  8 15:33:52 2010
From: eric at eamann.com (eric at eamann.com)
Date: Thu, 8 Apr 2010 08:33:52 -0700 (PDT)
Subject: [wp-hackers] [GSoC2010]WPmove use of XML-RPC
In-Reply-To: <u2xbbd639f51004080824y750e7d25w6516446a43012b53@mail.gmail.com>
References: <l2g3f0d2d431004072128s4634e9b1w5e9115f0b32d310a@mail.gmail.com>
	<u2xbbd639f51004080824y750e7d25w6516446a43012b53@mail.gmail.com>
Message-ID: <1110924051.239352.1270740833062.JavaMail.open-xchange@oxusltgw11.schlund.de>

I'd recommend using the XML-RPC features but breaking the transmission up into
chunks to verify data integrity.? Sending the blog's full content in one
postback would work for small sites (tests) but break for very large sites if
the server times out.? Breaking things up and posting a specific amount of data
each time allows you to limit server timeouts and go back to restore any faulty
data if a problem does crop up.
?

On April 8, 2010 at 3:24 PM Joseph Scott <joseph at josephscott.org> wrote:

> If you have the ability to install a plugin on both ends then you'll
> likely better off using either custom XML-RPC methods or a revised
> import/export process.
>
> The only significant advantage to using the existing XML-RPC methods
> is that they ship with every WP blog (though they need to be turned on
> it order to work).
>
> On Wed, Apr 7, 2010 at 10:28 PM, Piyush Mishra <admin at oxymaniac.com> wrote:
> > In a chat with a fellow applicant(stas) he gave me the idea of using xml-rpc
> > for each post but I think that using the new revised blog import/export
> > component to generate and store the file on server and later import it from
> > the other server will be a better option as it will reduce server to server
> > communication and chances of failure and load. not sure which is the better
> > way to go about it.
> > What do you all think?
>
>
>
> --
> Joseph Scott
> joseph at josephscott.org
> http://josephscott.org/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From admin at oxymaniac.com  Thu Apr  8 16:12:22 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Thu, 8 Apr 2010 21:42:22 +0530
Subject: [wp-hackers] [GSoC2010]WPmove use of XML-RPC
In-Reply-To: <1110924051.239352.1270740833062.JavaMail.open-xchange@oxusltgw11.schlund.de>
References: <l2g3f0d2d431004072128s4634e9b1w5e9115f0b32d310a@mail.gmail.com>
	<u2xbbd639f51004080824y750e7d25w6516446a43012b53@mail.gmail.com>
	<1110924051.239352.1270740833062.JavaMail.open-xchange@oxusltgw11.schlund.de>
Message-ID: <p2k3f0d2d431004080912k4c612c2boa393716c802042fe@mail.gmail.com>

What about using XML-RPC to give out file lists in real time and wp on
ServerA(source) to produce the file chunks in form of zips of fixed sizes
and using the HTTP_API for the file downloads so that we can have a simple
progress bar of the net file move completed. as I have proposed in the 3rd
point of my proposal(http://piyushmishra.com/blog/ideas/file-move.html) we
can use the md5 checksum way to know that the full data of a particular
chunk has been transferred and that can be striked off the checklist giving
us a clear way of making the statistic and also ensure that very little or
no data is lost in a case when we have huge amount of data (huge enough to
not allow the move in 1 go)

On Thu, Apr 8, 2010 at 9:03 PM, eric at eamann.com <eric at eamann.com> wrote:

> I'd recommend using the XML-RPC features but breaking the transmission up
> into
> chunks to verify data integrity.  Sending the blog's full content in one
> postback would work for small sites (tests) but break for very large sites
> if
> the server times out.  Breaking things up and posting a specific amount of
> data
> each time allows you to limit server timeouts and go back to restore any
> faulty
> data if a problem does crop up.
>
>
> On April 8, 2010 at 3:24 PM Joseph Scott <joseph at josephscott.org> wrote:
>
> > If you have the ability to install a plugin on both ends then you'll
> > likely better off using either custom XML-RPC methods or a revised
> > import/export process.
> >
> > The only significant advantage to using the existing XML-RPC methods
> > is that they ship with every WP blog (though they need to be turned on
> > it order to work).
> >
> > On Wed, Apr 7, 2010 at 10:28 PM, Piyush Mishra <admin at oxymaniac.com>
> wrote:
> > > In a chat with a fellow applicant(stas) he gave me the idea of using
> xml-rpc
> > > for each post but I think that using the new revised blog import/export
> > > component to generate and store the file on server and later import it
> from
> > > the other server will be a better option as it will reduce server to
> server
> > > communication and chances of failure and load. not sure which is the
> better
> > > way to go about it.
> > > What do you all think?
> >
> >
> >
> > --
> > Joseph Scott
> > joseph at josephscott.org
> > http://josephscott.org/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards
Piyush Mishra

From eric at eamann.com  Thu Apr  8 16:28:34 2010
From: eric at eamann.com (eric at eamann.com)
Date: Thu, 8 Apr 2010 09:28:34 -0700 (PDT)
Subject: [wp-hackers] [GSoC2010]WPmove use of XML-RPC
In-Reply-To: <p2k3f0d2d431004080912k4c612c2boa393716c802042fe@mail.gmail.com>
References: <l2g3f0d2d431004072128s4634e9b1w5e9115f0b32d310a@mail.gmail.com>
	<u2xbbd639f51004080824y750e7d25w6516446a43012b53@mail.gmail.com>
	<1110924051.239352.1270740833062.JavaMail.open-xchange@oxusltgw11.schlund.de>
	<p2k3f0d2d431004080912k4c612c2boa393716c802042fe@mail.gmail.com>
Message-ID: <990486999.241473.1270744114741.JavaMail.open-xchange@oxusltgw11.schlund.de>

+1 for that idea.? That's exactly what I had in mind!
?

On April 8, 2010 at 4:12 PM Piyush Mishra <admin at oxymaniac.com> wrote:

> What about using XML-RPC to give out file lists in real time and wp on
> ServerA(source) to produce the file chunks in form of zips of fixed sizes
> and using the HTTP_API for the file downloads so that we can have a simple
> progress bar of the net file move completed. as I have proposed in the 3rd
> point of my proposal(http://piyushmishra.com/blog/ideas/file-move.html) we
> can use the md5 checksum way to know that the full data of a particular
> chunk has been transferred and that can be striked off the checklist giving
> us a clear way of making the statistic and also ensure that very little or
> no data is lost in a case when we have huge amount of data (huge enough to
> not allow the move in 1 go)
>
> On Thu, Apr 8, 2010 at 9:03 PM, eric at eamann.com <eric at eamann.com> wrote:
>
> > I'd recommend using the XML-RPC features but breaking the transmission up
> > into
> > chunks to verify data integrity.? Sending the blog's full content in one
> > postback would work for small sites (tests) but break for very large sites
> > if
> > the server times out.? Breaking things up and posting a specific amount of
> > data
> > each time allows you to limit server timeouts and go back to restore any
> > faulty
> > data if a problem does crop up.
> >
> >
> > On April 8, 2010 at 3:24 PM Joseph Scott <joseph at josephscott.org> wrote:
> >
> > > If you have the ability to install a plugin on both ends then you'll
> > > likely better off using either custom XML-RPC methods or a revised
> > > import/export process.
> > >
> > > The only significant advantage to using the existing XML-RPC methods
> > > is that they ship with every WP blog (though they need to be turned on
> > > it order to work).
> > >
> > > On Wed, Apr 7, 2010 at 10:28 PM, Piyush Mishra <admin at oxymaniac.com>
> > wrote:
> > > > In a chat with a fellow applicant(stas) he gave me the idea of using
> > xml-rpc
> > > > for each post but I think that using the new revised blog import/export
> > > > component to generate and store the file on server and later import it
> > from
> > > > the other server will be a better option as it will reduce server to
> > server
> > > > communication and chances of failure and load. not sure which is the
> > better
> > > > way to go about it.
> > > > What do you all think?
> > >
> > >
> > >
> > > --
> > > Joseph Scott
> > > joseph at josephscott.org
> > > http://josephscott.org/
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Regards
> Piyush Mishra
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From admin at oxymaniac.com  Thu Apr  8 17:30:26 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Thu, 8 Apr 2010 23:00:26 +0530
Subject: [wp-hackers] [GSOC2010]WPmove [wpurl] tag replace
In-Reply-To: <l2v161617691004080817k1e8c1c0dx4a3f1c131a55b285@mail.gmail.com>
References: <t2j3f0d2d431004080723t51336097l28a6e29357ce4e13@mail.gmail.com>
	<l2v161617691004080817k1e8c1c0dx4a3f1c131a55b285@mail.gmail.com>
Message-ID: <r2j3f0d2d431004081030nf895f19as1e1dcfdef61e94a6@mail.gmail.com>

neat :) this helps in working for data now but what about the [wpurl] tag
thing?

On Thu, Apr 8, 2010 at 8:47 PM, Otto <otto at ottodestruct.com> wrote:

> On Thu, Apr 8, 2010 at 9:23 AM, Piyush Mishra <admin at oxymaniac.com> wrote:
> > I beg to differ, I tried printing the array out to my local server
>
> Huh. I'll be darned, you're right. I know it has worked for me before,
> but with a simple test I can't make it work again.
>
> Still, it's possible to add code to WP to fix that easily enough. If
> you alter the maybe_unserialize function in wp-includes/functions.php
> to the following, then the string lengths won't matter any more.
>
>
> function maybe_unserialize( $original ) {
>        if ( is_serialized( $original ) ) // don't attempt to unserialize
> data that wasn't serialized going in
>        {
>                $fixed = preg_replace_callback(
>
>  '!(?<=^|;)s:(\d+)(?=:"(.*?)";(?:}|a:|s:|b:|i:|o:|N;))!s',
>                        'serialize_fix_callback',
>                        $original );
>                return @unserialize( $fixed );
>        }
>        return $original;
> }
>
> function serialize_fix_callback($match) { return 's:' . strlen($match[2]);
> }
>
>
> Test that shows it works:
> $a ='a:2:{i:0;s:123:"Test";i:1;s:456:"Fake";}';
>
> var_dump(maybe_unserialize($a));
>
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards
Piyush Mishra

From otto at ottodestruct.com  Thu Apr  8 18:08:44 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 8 Apr 2010 13:08:44 -0500
Subject: [wp-hackers] [GSOC2010]WPmove [wpurl] tag replace
In-Reply-To: <l2g161617691004081107zbaacb50fuab65555d6d15576d@mail.gmail.com>
References: <t2j3f0d2d431004080723t51336097l28a6e29357ce4e13@mail.gmail.com> 
	<l2v161617691004080817k1e8c1c0dx4a3f1c131a55b285@mail.gmail.com> 
	<r2j3f0d2d431004081030nf895f19as1e1dcfdef61e94a6@mail.gmail.com> 
	<l2g161617691004081107zbaacb50fuab65555d6d15576d@mail.gmail.com>
Message-ID: <l2p161617691004081108p3416fe5jd005b668a2aa1d28@mail.gmail.com>

Sorry, that should have been:

add_shortcode('homeurl', create_function('', 'return home_url();'));

My mistake.

-Otto



On Thu, Apr 8, 2010 at 1:07 PM, Otto <otto at ottodestruct.com> wrote:
> On Thu, Apr 8, 2010 at 12:30 PM, Piyush Mishra <admin at oxymaniac.com> wrote:
>> neat :) this helps in working for data now but what about the [wpurl] tag
>> thing?
>
> Since you asked, I proposed something similar in trac a while back,
> for different reasons:
> http://core.trac.wordpress.org/ticket/11394#comment:20
>
> I would prefer something like contenturl, pluginurl, themeurl,
> homeurl, siteurl, for the various URLs used throughout WordPress. Each
> of these functions is basically a one-liner, actually. Here's the
> entirety of the [homeurl] shortcode, for example:
>
> add_action('homeurl', create_function('', 'return home_url();'));
>
> Actually going through the content and replacing URLs with known
> shortcodes might not be the greatest way to go about things, however.
> But making it default to use them for that sort of thing, sure.
>
> -Otto
>

From otto at ottodestruct.com  Thu Apr  8 18:07:15 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 8 Apr 2010 13:07:15 -0500
Subject: [wp-hackers] [GSOC2010]WPmove [wpurl] tag replace
In-Reply-To: <r2j3f0d2d431004081030nf895f19as1e1dcfdef61e94a6@mail.gmail.com>
References: <t2j3f0d2d431004080723t51336097l28a6e29357ce4e13@mail.gmail.com> 
	<l2v161617691004080817k1e8c1c0dx4a3f1c131a55b285@mail.gmail.com> 
	<r2j3f0d2d431004081030nf895f19as1e1dcfdef61e94a6@mail.gmail.com>
Message-ID: <l2g161617691004081107zbaacb50fuab65555d6d15576d@mail.gmail.com>

On Thu, Apr 8, 2010 at 12:30 PM, Piyush Mishra <admin at oxymaniac.com> wrote:
> neat :) this helps in working for data now but what about the [wpurl] tag
> thing?

Since you asked, I proposed something similar in trac a while back,
for different reasons:
http://core.trac.wordpress.org/ticket/11394#comment:20

I would prefer something like contenturl, pluginurl, themeurl,
homeurl, siteurl, for the various URLs used throughout WordPress. Each
of these functions is basically a one-liner, actually. Here's the
entirety of the [homeurl] shortcode, for example:

add_action('homeurl', create_function('', 'return home_url();'));

Actually going through the content and replacing URLs with known
shortcodes might not be the greatest way to go about things, however.
But making it default to use them for that sort of thing, sure.

-Otto

From admin at oxymaniac.com  Thu Apr  8 18:37:50 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Fri, 9 Apr 2010 00:07:50 +0530
Subject: [wp-hackers] [GSOC2010]WPmove [wpurl] tag replace
In-Reply-To: <l2p161617691004081108p3416fe5jd005b668a2aa1d28@mail.gmail.com>
References: <t2j3f0d2d431004080723t51336097l28a6e29357ce4e13@mail.gmail.com>
	<l2v161617691004080817k1e8c1c0dx4a3f1c131a55b285@mail.gmail.com>
	<r2j3f0d2d431004081030nf895f19as1e1dcfdef61e94a6@mail.gmail.com>
	<l2g161617691004081107zbaacb50fuab65555d6d15576d@mail.gmail.com>
	<l2p161617691004081108p3416fe5jd005b668a2aa1d28@mail.gmail.com>
Message-ID: <v2s3f0d2d431004081137jc8749c34wb24b56f5cfa537e4@mail.gmail.com>

when talking on the single [wpurl] someone mentioned the delay coz of the
replace, now for the maybe_unserialize new function or for these
shortcodes... wont we have delays in each refresh?

On Thu, Apr 8, 2010 at 11:38 PM, Otto <otto at ottodestruct.com> wrote:

> Sorry, that should have been:
>
> add_shortcode('homeurl', create_function('', 'return home_url();'));
>
> My mistake.
>
> -Otto
>
>
>
> On Thu, Apr 8, 2010 at 1:07 PM, Otto <otto at ottodestruct.com> wrote:
> > On Thu, Apr 8, 2010 at 12:30 PM, Piyush Mishra <admin at oxymaniac.com>
> wrote:
> >> neat :) this helps in working for data now but what about the [wpurl]
> tag
> >> thing?
> >
> > Since you asked, I proposed something similar in trac a while back,
> > for different reasons:
> > http://core.trac.wordpress.org/ticket/11394#comment:20
> >
> > I would prefer something like contenturl, pluginurl, themeurl,
> > homeurl, siteurl, for the various URLs used throughout WordPress. Each
> > of these functions is basically a one-liner, actually. Here's the
> > entirety of the [homeurl] shortcode, for example:
> >
> > add_action('homeurl', create_function('', 'return home_url();'));
> >
> > Actually going through the content and replacing URLs with known
> > shortcodes might not be the greatest way to go about things, however.
> > But making it default to use them for that sort of thing, sure.
> >
> > -Otto
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards
Piyush Mishra

From dukebag at spintheweb.org  Thu Apr  8 19:39:50 2010
From: dukebag at spintheweb.org (Your neighborhood Dukebag)
Date: Thu, 8 Apr 2010 15:39:50 -0400
Subject: [wp-hackers] GSoC - easier integration of websites as themes
Message-ID: <000f01cad753$42860fe0$c7922fa0$@org>

Hey there,

 

If I understand what you've said correctly, you're referring to the numerous
loop-related theme files (e.g. category.php, tag.php, single.php).

 

Default generation is definitely an involved question, i.e. when the user
uses no-code to generate a theme without specifying anything.  The answer is
mostly speculative at this point.  With specific regard to your question,
users could be forced to at least provide enough information to accommodate
the basic loop pages, as shown here:
http://codex.wordpress.org/images/1/18/Template_Hierarchy.png.  From the
design perspective, this would mean designing 3 alternate views, though it
sounds possible to default to only need index.php (1 static page, no posts).
Below is some further material from the doc I drafted.

 

Determining a best-case default
Some features/controls are more esoteric than article titles.  How does a
user denote a page as a page?  How does a user control conditional features?
Should no-code require certain information/fields to be populated in order
to generate a theme?  If so, what is the bare minimum?  Does it make most
sense to provide no-code users with a "model page" which they emulate or
allow any format? 

Users may benefit from lists of what WordPress functionality is available to
them.  Additionally, WordPress functionality can be categorized and
associated with what the user is currently doing.  For instance, if the user
has text-level elements highlighted, no-code can offer article-related
functions.  If the user selects an element as the sidebar and then
highlights child elements of the sidebar, no-code can offer sidebar-related
functions.

 

HTML/CSS selection
HTML/CSS are tricky beasts, so even if the user's mouse is highlighted over
what they believe is an h2 element, the bounding box may be elsewhere on the
page (or even way off the page).  In cases such as these and other, equally
unforeseeable cases, supporting feedback can be given to the user: e.g. "You
have selected div#page".  Identifiable information can be appended the
element.  Alternatively, the selected element can be highlighted (who likes
reading, anyhow).  Dragonfly and Firebug are excellent models to work with
in this regard.

What if the user gets stuck in a situation where they continually want to
highlight what will be their comments HTML/CSS, whereby some obnoxious
z-indexing makes them have to click in an awkward manner?  Perhaps some
controls could be offered such as "lock to this element and all child
elements".

 

Latching JavaScript onto arbitrary HTML/designs
This could get complicated.  no-code already intends to make Theme
Development readily accessible, though it may be a non-goal to accommodate
non-savvy developers.  For instance, PHP could load the web design via
include, latching on JavaScript in the process.  This would be handled by a
separate user-upload and the user directing WordPress to a same-domain URL.
Alternatively, and slightly trickier, WordPress could automate this by
accepting a file upload.  This may be another matter of scalability, at
which no-code still performs the basic benefits while planning to extend its
usability over time.

 

What if the user changes their mind?
In the middle of naming the block of text "Next Post" the link that points
to the next post, what if the user decides they want it to read "Next Post
>>"?  The goal of no-code is to minimize the amount of extra steps between
designing a web page and integrating with WordPress, so no-code should aim
to do more than reverse that process.


From majmaliqbal at gmail.com  Thu Apr  8 20:23:17 2010
From: majmaliqbal at gmail.com (M Ajmal Iqbal)
Date: Thu, 8 Apr 2010 22:23:17 +0200
Subject: [wp-hackers] GSoC Proposal Word-press Move
Message-ID: <g2s6120d141004081323r1c5b2d1doda63d76a42fb210a@mail.gmail.com>

*Proposal GSoC*

Project Name : Move
WordPress<http://codex.wordpress.org/GSoC2010#Move_WordPress>
Mentor?s Name : Aaron Campbell <http://xavisys.com/>
Student Name: Ajmal Iqbal
*odesk link:*
http://www.odesk..com/users/~~334468c6069b351b<http://www.odesk..com/users/%7E%7E334468c6069b351b>
*linkdIn Link:*
http://www.linkedin.com/pub/dir/Ajmal/Iqbal/
Overview:

To create the script or plugin to move whole wordpress from one domain to
other or some features clone like plugin with their settings,theme that need
to be activate same as in old blog, posts/pages categories, media,
blogrolls, tags and users.
Key features:



Move Wordpress whole data which is hosted at one domain to other domain and
that will work fine as was working in previous location

Also to provide the cloning functionality for cloning  Posts,pages,
categories, tags, links, users, media,,plugins and themes and wordpress
settings.
Implementation

We will implement this in this ways.

1.       *Create Wordpress mover/Cloner script*

a.       Form will get

?         ftp creditionals of new location

?         database crditionals to the new system

?         New location.

?         Checkbox to Move/Clone Wordpress.

o   In case of Move Just ask

?  wordpress same version / change to new version (not to degrade version)

?  (This will copy the wordpress from the current location to new one and
then at last make a zip file of current wordpress and delete db and
wordpress from the current or old location?.)

?  Wordpress moved?..

o   In case of Wordpress  Clone ask

?  Posts

?  Pages

?  Categories

?  Media

?  Settings

?         General settings

?         ?..

?  Plugins

?         Their settings

?  Themes

?         Activate current theme

?  Users

?  (This will clone of the required things to the new location but at the
old location this will be remain same)
Requried Research

At  the first week I will research the best way to add script in the way to
add this in wordpress core files or to make in the way not to implement
wordpress core files and add this script?.. then to find the best way to run
this at server that user don?t have to wait at browser and in the main while
at current and new location it will show message ??. Redirecting to ?.. and
site will soon plublish?
Schedule/ Roadmap

I have pretty much sure that this project will done in 65-75 days.

?         First week for research

?         2nd  and 3rd week to develop cloning way for
posts/pages/comments/categories

?         4th week for links, tags media and Wordpress settings.

?         5th week will be for the themes and activate same theme

?         6th  and 7th week will be for plugins and their setting
dublications

?         8th week will be for the wordpress mover script?

?         Clean up code, write documentation and submit to Google with final
presentation

From majmaliqbal at gmail.com  Thu Apr  8 20:53:22 2010
From: majmaliqbal at gmail.com (M Ajmal Iqbal)
Date: Thu, 8 Apr 2010 22:53:22 +0200
Subject: [wp-hackers] GSoC Proposal Word-press Move
In-Reply-To: <g2s6120d141004081323r1c5b2d1doda63d76a42fb210a@mail.gmail.com>
References: <g2s6120d141004081323r1c5b2d1doda63d76a42fb210a@mail.gmail.com>
Message-ID: <t2t6120d141004081353t760fc54by116210defa68e925@mail.gmail.com>

*Proposal GSoC*

Project Name : Template Versioning
Mentor?s Name : Aaron Campbell <http://xavisys.com/>
Student Name: Ajmal Iqbal
*odesk link:*
http://www.odesk..com/users/~~334468c6069b351b<http://www.odesk..com/users/%7E%7E334468c6069b351b>
*linkdIn Link:*
http://www.linkedin.com/pub/dir/Ajmal/Iqbal/
Overview:

Our main purpose is to provide the solution for themes versioning. This will
be a middle level project.  We are offering solution that will create
repository of each file of theme that will be easily controlled and fulfill
the requirement for this project.
Key features:

Generate themes repositories. Create way to show versioning and then a easy
way to adopt any version file.
Implementation

I will develop script in the way to create the repository folder in each
theme and then create the directory named timestamp in that directory and
save the files that we are changing before going to change? and the session
will be close when person shift from theme editor to other link or the user
did not do anything within 5 min. Then new session generates for new
repository or versioning.  And the log will be saved in db. The repo will be
save in the encrypted form in the system so no one can change them by ftp.

Note: this will also remove the version from option in the same way as
someone delete the file from plugins list then that will shows this plugin
has been deactivated?This will also shows such message?.Requried Research

At  the first week I will research the best way to add script in the way to
add this in wordpress core files or to make in the way not to implement
wordpress core files and add this script?..
Schedule/ Roadmap

I have pretty much sure that this project will done in 60-70 days.

?         First week for research

?         2nd  and 3rd week to develop functionalities for
encryption/decryption

?         4th  and 5th week for developing the theme versioning management

?         6th  and 7th week will be for integrating both functionalities and
finishing the script

?         Clean up code, write documentation and submit to Google with final
presentation

From bmbalex at gmail.com  Thu Apr  8 21:09:25 2010
From: bmbalex at gmail.com (Bumbu Alex)
Date: Fri, 09 Apr 2010 00:09:25 +0300
Subject: [wp-hackers] [GSoC] Comment Moderation
Message-ID: <4BBE4605.80709@gmail.com>

Here are not too much things to discuss, but I hope that this thread is 
interesting to more people, and some new ideas will appear.

--------
Idea
--------
Improve comment moderation in the administration pages so that when 
threaded comments are enabled they are displayed when moderating 
individual posts comments. Also allow comment re-parenting so as to fix 
issues where a comment reply is not associated with the correct parent.

----------------------------
Steps and things to be done
----------------------------
  - When threaded comments are enabled they are displayed when 
moderating individual posts comments.
  - Allow comment re-parenting.
  - Support should also be added to the XML-RPC api to allow an external 
app to implement similar functionality.
  - Allow re-parenting using Drag & Drop in places like post editor.

From majmaliqbal at gmail.com  Thu Apr  8 21:28:03 2010
From: majmaliqbal at gmail.com (M Ajmal Iqbal)
Date: Thu, 8 Apr 2010 23:28:03 +0200
Subject: [wp-hackers] GSoc Proposal Wp mover
Message-ID: <u2l6120d141004081428r2b2f3637n1d7f160ea9b711b0@mail.gmail.com>

Please check this link

http://ajmal.xpertsociety.com/2010/04/08/proposal-for-gsoc-move-wordpress/

for wordpress mover and please comment on this....

Thanks

Ajmal

From majmaliqbal at gmail.com  Thu Apr  8 21:29:48 2010
From: majmaliqbal at gmail.com (M Ajmal Iqbal)
Date: Thu, 8 Apr 2010 23:29:48 +0200
Subject: [wp-hackers] GSoc Proposal Wp Template versioning
Message-ID: <s2m6120d141004081429lb63a8f6atc2243c98840e699c@mail.gmail.com>

Please check this link

http://ajmal.xpertsociety.com/2010/04/08/proposal-for-gsoc-template-versioning/

for wordpress mover and please comment on this....

Thanks

Ajmal

From lists at rotorised.com  Fri Apr  9 00:54:07 2010
From: lists at rotorised.com (Ryan McCue)
Date: Fri, 09 Apr 2010 10:54:07 +1000
Subject: [wp-hackers] [GSOC2010]WPmove [wpurl] tag replace
In-Reply-To: <l2g161617691004081107zbaacb50fuab65555d6d15576d@mail.gmail.com>
References: <t2j3f0d2d431004080723t51336097l28a6e29357ce4e13@mail.gmail.com>
	<l2v161617691004080817k1e8c1c0dx4a3f1c131a55b285@mail.gmail.com>
	<r2j3f0d2d431004081030nf895f19as1e1dcfdef61e94a6@mail.gmail.com>
	<l2g161617691004081107zbaacb50fuab65555d6d15576d@mail.gmail.com>
Message-ID: <4BBE7AAF.5010200@rotorised.com>

Otto wrote:
> I would prefer something like contenturl, pluginurl, themeurl,
> homeurl, siteurl, for the various URLs used throughout WordPress.
>   
Agreed. I've needed these for a bunch of themes lately and I've had to
replicate them at least 5 times. Sure, it's easy to do it yourself, but
when you have to implement them yourself repeatedly, it gets very time
consuming.

-- 
Ryan McCue
<http://ryanmccue.info/>


From jon at jonsview.com  Fri Apr  9 04:40:26 2010
From: jon at jonsview.com (Jon Stacey)
Date: Thu, 8 Apr 2010 23:40:26 -0500
Subject: [wp-hackers] WordPress File API Stream Wrapper Support: GSoC 2010
	Project Proposal
Message-ID: <8945A3B9-9DCA-40A6-894A-1B5DA14AFC96@jonsview.com>

Hello,

I have created a new project proposal for Google Summer of Code this year that I would like to gather some feedback on. 

Abstract:
The goal of this project is to improve the file handling capabilities of WordPress by making PHP's stream wrapper functionality a part of the File API. PHP stream wrappers allow virtually any type of resource to be represented as a normal file. Stream wrappers will make the implementation details of file management transparent to developers fostering cross plugin interoperability and increasing the flexibility of WordPress.

Here is a link to the official proposal: http://socghop.appspot.com/gsoc/student_proposal/show/google/gsoc2010/jonstacey/t127078510605
Here is a link to my WP-powered blog with a better formatted proposal: http://jonsview.com/projects/wordpress-project-proposal-file-api-stream-wrapper-support


I look forward to hearing your thoughts and wisdom!



Jon Stacey



From scribu at gmail.com  Fri Apr  9 10:49:39 2010
From: scribu at gmail.com (scribu)
Date: Fri, 9 Apr 2010 13:49:39 +0300
Subject: [wp-hackers] WordPress File API Stream Wrapper Support: GSoC
	2010 Project Proposal
In-Reply-To: <8945A3B9-9DCA-40A6-894A-1B5DA14AFC96@jonsview.com>
References: <8945A3B9-9DCA-40A6-894A-1B5DA14AFC96@jonsview.com>
Message-ID: <u2l349fe48b1004090349td5e1384dz3acfa2e18ac6ac8f@mail.gmail.com>

I like the idea, especially the wrapper1://some_file bit.

Regarding PHP5, WordPress already uses some PHP5 only features, when they
are available, so I don't think that will be a problem.


-- 
http://scribu.net

From chinthakarukshan at gmail.com  Fri Apr  9 10:55:20 2010
From: chinthakarukshan at gmail.com (Chinthaka Rukshan)
Date: Fri, 9 Apr 2010 16:25:20 +0530
Subject: [wp-hackers] GSoc Proposal WordPress import/export
Message-ID: <q2q7cd5f9e21004090355id184be6lc52c2908e5e9d582@mail.gmail.com>

Hi,
I have written a GSoC proposal on wordpress import/export.can anyone give me
a feed back on that proposal.
Here's the link for the proposal.

http://chinthakarukshan.wordpress.com/2010/03/21/google-summer-of-code-proposalwordpress-importexport/

<http://chinthakarukshan.wordpress.com/2010/03/21/google-summer-of-code-proposalwordpress-importexport/>Thank
you...

-- 
Chinthaka Rukshan
"Open Your Mind"

From otto at ottodestruct.com  Fri Apr  9 13:48:55 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 9 Apr 2010 08:48:55 -0500
Subject: [wp-hackers] WordPress File API Stream Wrapper Support: GSoC
	2010 Project Proposal
In-Reply-To: <8945A3B9-9DCA-40A6-894A-1B5DA14AFC96@jonsview.com>
References: <8945A3B9-9DCA-40A6-894A-1B5DA14AFC96@jonsview.com>
Message-ID: <y2s161617691004090648pe1b3887fkfec6dfa2576c8eb2@mail.gmail.com>

Thoughts:

- The settings of allow_url_fopen and allow_url_include and similar
are disabled on almost all hosts I've ever used, for security reasons.
This will severely limit the usefulness of the stream wrapping, no?

- What would be the usefulness anyway? We don't really have a "File
API" in WordPress, so I'm not quite seeing how this would benefit
anything. If a plugin wants to use a stream wrapper, it can do so now.
What would this API add, exactly?

-Otto



On Thu, Apr 8, 2010 at 11:40 PM, Jon Stacey <jon at jonsview.com> wrote:
> Hello,
>
> I have created a new project proposal for Google Summer of Code this year that I would like to gather some feedback on.
>
> Abstract:
> The goal of this project is to improve the file handling capabilities of WordPress by making PHP's stream wrapper functionality a part of the File API. PHP stream wrappers allow virtually any type of resource to be represented as a normal file. Stream wrappers will make the implementation details of file management transparent to developers fostering cross plugin interoperability and increasing the flexibility of WordPress.
>
> Here is a link to the official proposal: http://socghop.appspot.com/gsoc/student_proposal/show/google/gsoc2010/jonstacey/t127078510605
> Here is a link to my WP-powered blog with a better formatted proposal: http://jonsview.com/projects/wordpress-project-proposal-file-api-stream-wrapper-support
>
>
> I look forward to hearing your thoughts and wisdom!
>
>
>
> Jon Stacey
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wojtek.szkutnik at gmail.com  Fri Apr  9 13:52:33 2010
From: wojtek.szkutnik at gmail.com (Wojtek Szkutnik)
Date: Fri, 9 Apr 2010 15:52:33 +0200
Subject: [wp-hackers] GSoC Full Throttle Trac Annihilation
Message-ID: <m2s2b0fd5c41004090652t78057871n142d8a1d499551a9@mail.gmail.com>

hello,

http://wojtekszkutnik.com/2010/04/my-wordpress-gsoc-2010-proposal/ What do
you guys think? Should I be more specific about the trac entries? Is the
trac entries number high enough?

best regards,
Wojtek Szkutnik

From otto at ottodestruct.com  Fri Apr  9 14:01:36 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 9 Apr 2010 09:01:36 -0500
Subject: [wp-hackers] GSoC Full Throttle Trac Annihilation
In-Reply-To: <m2s2b0fd5c41004090652t78057871n142d8a1d499551a9@mail.gmail.com>
References: <m2s2b0fd5c41004090652t78057871n142d8a1d499551a9@mail.gmail.com>
Message-ID: <q2m161617691004090701p7b373a78y8ffe4cba84387e97@mail.gmail.com>

That URL is a 404.

-Otto



On Fri, Apr 9, 2010 at 8:52 AM, Wojtek Szkutnik
<wojtek.szkutnik at gmail.com> wrote:
> hello,
>
> http://wojtekszkutnik.com/2010/04/my-wordpress-gsoc-2010-proposal/ What do
> you guys think? Should I be more specific about the trac entries? Is the
> trac entries number high enough?
>
> best regards,
> Wojtek Szkutnik
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From admin at oxymaniac.com  Fri Apr  9 14:10:32 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Fri, 9 Apr 2010 19:40:32 +0530
Subject: [wp-hackers] [GSOC2010]WPmove Using the checklist approach
Message-ID: <g2n3f0d2d431004090710h31edd2c0p60657ae4c7f6d0f@mail.gmail.com>

We can have a full list of todo's generated at the beginning of the move.
and striking off the things that are already accomplished
The best thing about thinking of it this way is being able to let the user
have checkpoints like in standard mission games. So that even if some
process goes wrong, the user gets his progress from the last "SAVE"
I know this sounds funny but acc to a TED talk anything can be made into a
game and the users love it. I bet providing "steps to move" like checkpoints
will promote users to save at a checkpoint and re-assume later thus lowering
the server load use :P
what do you think?

-- 
Regards
Piyush Mishra

From wojtek.szkutnik at gmail.com  Fri Apr  9 14:11:00 2010
From: wojtek.szkutnik at gmail.com (Wojtek Szkutnik)
Date: Fri, 9 Apr 2010 16:11:00 +0200
Subject: [wp-hackers] GSoC Full Throttle Trac Annihilation
In-Reply-To: <q2m161617691004090701p7b373a78y8ffe4cba84387e97@mail.gmail.com>
References: <m2s2b0fd5c41004090652t78057871n142d8a1d499551a9@mail.gmail.com> 
	<q2m161617691004090701p7b373a78y8ffe4cba84387e97@mail.gmail.com>
Message-ID: <k2h2b0fd5c41004090711z3bd26399qc6486514d3d3cc8c@mail.gmail.com>

http://wojtekszkutnik.com/2010/04/my-wordpress-gsoc-2010-proposal/ Should be
visible now :)

W


On Fri, Apr 9, 2010 at 4:01 PM, Otto <otto at ottodestruct.com> wrote:

> That URL is a 404.
>
> -Otto
>
>
>
> On Fri, Apr 9, 2010 at 8:52 AM, Wojtek Szkutnik
> <wojtek.szkutnik at gmail.com> wrote:
> > hello,
> >
> > http://wojtekszkutnik.com/2010/04/my-wordpress-gsoc-2010-proposal/ What
> do
> > you guys think? Should I be more specific about the trac entries? Is the
> > trac entries number high enough?
> >
> > best regards,
> > Wojtek Szkutnik
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From admin at oxymaniac.com  Fri Apr  9 14:11:38 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Fri, 9 Apr 2010 19:41:38 +0530
Subject: [wp-hackers] GSoC Full Throttle Trac Annihilation
In-Reply-To: <q2m161617691004090701p7b373a78y8ffe4cba84387e97@mail.gmail.com>
References: <m2s2b0fd5c41004090652t78057871n142d8a1d499551a9@mail.gmail.com>
	<q2m161617691004090701p7b373a78y8ffe4cba84387e97@mail.gmail.com>
Message-ID: <p2n3f0d2d431004090711tb1756bd6t3732810f7dced2e@mail.gmail.com>

I got this

*I?m interested in the ?Full-Throttle Trac
Annihilation?<http://codex.wordpress.org/GSoC2010#Full-Throttle_Trac_Annihilation_.281.29>WordPress
project for Google Summer of Code 2010. I like the variety of work
that I could do while improving my favorite open source software. The main
reason for choosing this task is that I?m a WordPress developer myself, and
I love the opportunity to make my (not only my, I guess [image: ;-)] ) life
easier by eliminating the most irritating bugs.
*
I would like to concentrate on the administration & UI bugs, but I will
certainly be fixing other bugs as well. I find the administrative panel the
strongest point of WordPress and I know that it is the main reason many
people use WP.* I will improve it even more, by fixing what I can fix! I
promise fighting bugs full steam 24/7 using all my magical powers and
inhuman skills. * I promise to fix at least one non-trivial trac entry per
day (changeable to 2 trivial entries) which at the worst scenario gives us a
round 72 trac entries to fix. If I achieve this earlier, I will be still
working on fighting bugs until my last breath.

On Fri, Apr 9, 2010 at 7:31 PM, Otto <otto at ottodestruct.com> wrote:

> That URL is a 404.
>
> -Otto
>
>
>
> On Fri, Apr 9, 2010 at 8:52 AM, Wojtek Szkutnik
> <wojtek.szkutnik at gmail.com> wrote:
> > hello,
> >
> > http://wojtekszkutnik.com/2010/04/my-wordpress-gsoc-2010-proposal/ What
> do
> > you guys think? Should I be more specific about the trac entries? Is the
> > trac entries number high enough?
> >
> > best regards,
> > Wojtek Szkutnik
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards
Piyush Mishra

From otto at ottodestruct.com  Fri Apr  9 15:15:13 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 9 Apr 2010 10:15:13 -0500
Subject: [wp-hackers] [GSoC] Comment Moderation
In-Reply-To: <4BBE4605.80709@gmail.com>
References: <4BBE4605.80709@gmail.com>
Message-ID: <t2o161617691004090815z215992b7u821abad10583f037@mail.gmail.com>

On Thu, Apr 8, 2010 at 4:09 PM, Bumbu Alex <bmbalex at gmail.com> wrote:
> ?- Allow comment re-parenting.

Yes, yes, a thousand times, yes!

-Otto

From jane at automattic.com  Fri Apr  9 15:41:27 2010
From: jane at automattic.com (Jane Wells)
Date: Fri, 9 Apr 2010 11:41:27 -0400
Subject: [wp-hackers] GSoC Application Deadline
Message-ID: <F43915F6-AA1A-42FF-9AB1-30BEA09F3B32@automattic.com>

This message if for any student who has been thinking of applying to  
work with WordPress during Google Summer of Code this year: the  
deadline is today, at 19:00 UTC. That's about 3.5 hours from when I'm  
sending this message, but you can double check your time zone here: http://bit.ly/bP1fXT 
. Get those applications in asap; Google does not accept late  
applications, or make exceptions to this rule.

If you've thought of applying but haven't, please do! There are still  
quite a few potential projects on our Ideas list that don't have many  
applications, if any. Also, a number of the applications are for  
backups--students applying for more than one project to try and  
increase their chance at a slot. If we get more applications, we're  
more likely to get enough slots to cover the projects, so don't bow  
out without applying!

If you have applied for a project but see on the ideas page that a lot  
of students have applied for the same project, you may want to  
consider submitting a backup application for another WordPress  
project, just in case another student has a better proposal on the  
project idea. Here's the thing: we'll only take on one student per  
project idea, so if two amazing students propose the same project,  
only one of them gets it. If they've each submitted alternate project  
proposals, though, then we could work with both amazing students for  
the summer. Ideas page: http://codex.wordpress.org/GSoC2010

At this point it's too late to send around ideas to the wp-hackers  
list to get feedback, attend IRC chats and correspond with potential  
mentors. If you have an idea you'd like to pursue, just submit a great  
application. (Make sure you use the application template from http://codex.wordpress.org/GSoC_2010_Application_Template.) 
  If your proposal sounds awesome but we need to get more information  
from you about the approach in order to decide, we'll ask.

You can't win if you don't play, right? Five thousand bucks for two  
months of coding over the summer with WordPress hotshots. I know a lot  
of people that would love that deal.

Apply now! Apply at: http://socghop.appspot.com/
Jane

From dangayle at gmail.com  Fri Apr  9 16:54:42 2010
From: dangayle at gmail.com (Dan Gayle)
Date: Fri, 9 Apr 2010 09:54:42 -0700
Subject: [wp-hackers] Trailingslashit to re_canonical
Message-ID: <z2j74a8f8d81004090954ua0ee8d90v9807c75caa933cb@mail.gmail.com>

I don't know how to submit patches or requests to WP, but this is an
easy fix that I hope someone can add. Since every link is redirected
to a slashed version in the function redirect_canonical, every
canonical url output via rel_canonical should have a slash also.

from wp-includes/link-template.php

2132  /**
2133   * Output rel=canonical for singular queries
2134   *
2135   * @package WordPress
2136   * @since 2.9.0
2137  */
2138  function rel_canonical() {
2139      if ( !is_singular() )
2140          return;
2141
2142      global $wp_the_query;
2143      if ( !$id = $wp_the_query->get_queried_object_id() )
2144          return;
2145
2146      $link = get_permalink( $id );
2147      echo "<link rel='canonical' href='$link' />\n";
2148  }


Modify line 2146 to:
2146      $link = trailingslashit(get_permalink( $id ));

From wp at andrewnacin.com  Fri Apr  9 17:23:47 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 9 Apr 2010 13:23:47 -0400
Subject: [wp-hackers] Trailingslashit to re_canonical
In-Reply-To: <z2j74a8f8d81004090954ua0ee8d90v9807c75caa933cb@mail.gmail.com>
References: <z2j74a8f8d81004090954ua0ee8d90v9807c75caa933cb@mail.gmail.com>
Message-ID: <m2o4cc4de141004091023tb22a041p8b2a17892691f058@mail.gmail.com>

>
> Since every link is redirected to a slashed version in the function
> redirect_canonical, every canonical url output via rel_canonical should have
> a slash also.


get_permalink() uses user_trailingslashit, which adds the trailing slash if
the permalink structure specifies a trailing slash. I'm pretty sure
canonical works the same way -- it won't assume a trailing slash is
canonical if the permalink structure doesn't have /$.

From jon at jonsview.com  Fri Apr  9 17:29:37 2010
From: jon at jonsview.com (Jon Stacey)
Date: Fri, 09 Apr 2010 12:29:37 -0500
Subject: [wp-hackers] WordPress File API Stream Wrapper Support: GSoC
 2010 Project Proposal
In-Reply-To: <y2s161617691004090648pe1b3887fkfec6dfa2576c8eb2@mail.gmail.com>
References: <8945A3B9-9DCA-40A6-894A-1B5DA14AFC96@jonsview.com>
	<y2s161617691004090648pe1b3887fkfec6dfa2576c8eb2@mail.gmail.com>
Message-ID: <1d1785edea27553039b0e429afdaf7ee@localhost>


Hi Otto,

Thanks for looking over my proposal. You raise some good concerns
(concerns that even I had) and we had similar discussions in #Drupal-dev
last year. I don't have those transcripts on hand, but we finally decided
that allow_url_fopen should not be an issue and is enabled by default [with
PHP]. However, allow_url_include is a different beast. Fortunately, I have
no intention of pushing stream wrappers to that level where they would need
to be used in functions include(), include_once(), require(), or
require_once(). While I don't think allow_url_fopen will be a serious
issue, every effort will be made so that basic functionality (i.e. what WP
has now) won't be degraded on hosts where those settings can't be changed.

To address your second issue, the biggest takeaway is that it encourages
interoperability between plugins that deal with files, and opens the doors
to new kinds of functionality. For example, more seamless integration with
services like Amazon S3 or Limelight. A formal File API will need to be
drafted and implemented and then integrated with the rest of WP core. That
is if the implementation is decided to be part of core. Another option that
I am open to and included in the proposal was developing this as an
optional module. It is true that plugins can use stream wrappers now, but
they do so on their own. Every plugin has its own way of dealing with files
that are usually not compatible with other plugins that deal with files
(e.g. S3, CDN, local, etc.). Additionally, as we discovered in the Drupal
implementation there are several limitations of the PHP implementation that
must be augmented by our API. 

This API would contain a wrapper registry that supplements PHP's lacking
implementation and integrates with the WP Plugin system [wrappers can be
installed/uninstalled at anytime]. Additional functions that provide
correct behavior will be needed to make up for the shortfall of PHP such as
chmod(), dirname(), and several others. The API would also have several
methods for interacting with streams in different ways (e.g. expanding
URIs). Finally, the API would provide a large set of methods to ease the
management of files and make repetitive tasks more streamlined. For a more
comprehensive information on _some_ of the methods that would be
implemented take a look at what was done for Drupal 7 here:
http://api.drupal.org/api/group/file/7. Not all of those are needed for
WordPress, but many of them would be very useful to have and they have the
added benefit of working out the kinks in PHP's stream wrappers that
developers might otherwise have to handle on their own.

I would love to elaborate a bit more but I'm out of time. I'll be in and
out of classes all day, but I'll respond to any additional concerns or
questions you may have as quickly as I can.


Best regards,

Jon Stacey


On Apr 9, 2010, at 8:48 AM, Otto <otto at ottodestruct.com> wrote:

> Thoughts:
>
> - The settings of allow_url_fopen and allow_url_include and similar
> are disabled on almost all hosts I've ever used, for security reasons.
> This will severely limit the usefulness of the stream wrapping, no?
>
> - What would be the usefulness anyway? We don't really have a "File
> API" in WordPress, so I'm not quite seeing how this would benefit
> anything. If a plugin wants to use a stream wrapper, it can do so now.
> What would this API add, exactly?
>
> -Otto
>
>
>
> On Thu, Apr 8, 2010 at 11:40 PM, Jon Stacey <jon at jonsview.com> wrote:
>> Hello,
>>
>> I have created a new project proposal for Google Summer of Code  
>> this year that I would like to gather some feedback on.
>>
>> Abstract:
>> The goal of this project is to improve the file handling  
>> capabilities of WordPress by making PHP's stream wrapper  
>> functionality a part of the File API. PHP stream wrappers allow  
>> virtually any type of resource to be represented as a normal file.  
>> Stream wrappers will make the implementation details of file  
>> management transparent to developers fostering cross plugin  
>> interoperability and increasing the flexibility of WordPress.
>>
>> Here is a link to the official proposal:
http://socghop.appspot.com/gsoc/student_proposal/show/google/gsoc2010/jonstacey/t127078510605
>> Here is a link to my WP-powered blog with a better formatted  
>> proposal:
http://jonsview.com/projects/wordpress-project-proposal-file-api-stream-wrapper-support
>>
>>
>> I look forward to hearing your thoughts and wisdom!
>>
>>
>>
>> Jon Stacey
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From dangayle at gmail.com  Fri Apr  9 18:07:44 2010
From: dangayle at gmail.com (Dan Gayle)
Date: Fri, 9 Apr 2010 11:07:44 -0700
Subject: [wp-hackers] Trailingslashit to re_canonical
In-Reply-To: <m2o4cc4de141004091023tb22a041p8b2a17892691f058@mail.gmail.com>
References: <z2j74a8f8d81004090954ua0ee8d90v9807c75caa933cb@mail.gmail.com>
	<m2o4cc4de141004091023tb22a041p8b2a17892691f058@mail.gmail.com>
Message-ID: <m2x74a8f8d81004091107q96f38712pea4bcd93fc830ca5@mail.gmail.com>

On Fri, Apr 9, 2010 at 10:23 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> get_permalink() uses user_trailingslashit, which adds the trailing slash if
> the permalink structure specifies a trailing slash. I'm pretty sure
> canonical works the same way -- it won't assume a trailing slash is
> canonical if the permalink structure doesn't have /$.

It doesn't do it for the wordpress home address, however. I've checked
it in several blogs.

<link rel='canonical' href='http://www.example.com' />

From bmbalex at gmail.com  Fri Apr  9 22:47:32 2010
From: bmbalex at gmail.com (Bumbu Alex)
Date: Sat, 10 Apr 2010 01:47:32 +0300
Subject: [wp-hackers] GSoC Application Deadline
In-Reply-To: <F43915F6-AA1A-42FF-9AB1-30BEA09F3B32@automattic.com>
References: <F43915F6-AA1A-42FF-9AB1-30BEA09F3B32@automattic.com>
Message-ID: <j2p13f1fbc61004091547oa65eb6cdqf032b8075499d76a@mail.gmail.com>

good luck for all participants, I spent great time on WordPress community,
and I now that I want be a part of it, so even if I will not pass GSoC - I
will be present here and we will can communicate : )

From harish.mlists at gmail.com  Sun Apr 11 11:12:40 2010
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Sun, 11 Apr 2010 13:12:40 +0200
Subject: [wp-hackers] Cleaning up small validation errors in the admin
	interface
Message-ID: <4BC1AEA8.3060308@gmail.com>

Hello all,

I receive a few validation errors due to small things like using &
instead of &amp; in the WordPress admin interface. In order to work
around this, I've been tracking down individual offending files and
doing silly things like the following:

Index: wp-admin/includes/media.php
===================================================================
--- wp-admin/includes/media.php	(revision 14070)
+++ wp-admin/includes/media.php	(working copy)
@@ -388,10 +388,10 @@
 	$upload_iframe_src = add_query_arg('post_id', $uploading_iframe_ID,
'media-upload.php');

 	if ( 'media' != $type )
-		$upload_iframe_src = add_query_arg('type', $type, $upload_iframe_src);
+		$upload_iframe_src = add_query_arg('amp;type', $type,
$upload_iframe_src);
 	$upload_iframe_src = apply_filters($type . '_upload_iframe_src',
$upload_iframe_src);

-	return add_query_arg('TB_iframe', true, $upload_iframe_src);
+	return add_query_arg('amp;TB_iframe', true, $upload_iframe_src);
 }

 /**

While this sort of thing works, it is not very elegant. Could someone
tell me what I should be touching (even lower than add_query_arg(), if
possible) to perform such transformations uniformly across the admin
(not frontend theme) interface?

Thanks,
Harish

From wordpress at dd32.id.au  Sun Apr 11 12:31:57 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 11 Apr 2010 22:31:57 +1000
Subject: [wp-hackers] Cleaning up small validation errors in the admin
 interface
In-Reply-To: <4BC1AEA8.3060308@gmail.com>
References: <4BC1AEA8.3060308@gmail.com>
Message-ID: <op.vazzrjmtspxmuu@ho.st>

I'd be looking in the direction of esc_url();

It should be used when the url is to be printed to screen.

for example:

echo '<A href="' . esc_url(get_some_link()) . '>';

It'll produce a link such as:
http://test.com/?a=b&#038;test=test3

(&#038; being the numeric representation of &amp;)

On Sun, 11 Apr 2010 21:12:40 +1000, Harish Narayanan  
<harish.mlists at gmail.com> wrote:

> Hello all,
>
> I receive a few validation errors due to small things like using &
> instead of &amp; in the WordPress admin interface. In order to work
> around this, I've been tracking down individual offending files and
> doing silly things like the following:
>
> Index: wp-admin/includes/media.php
> ===================================================================
> --- wp-admin/includes/media.php	(revision 14070)
> +++ wp-admin/includes/media.php	(working copy)
> @@ -388,10 +388,10 @@
>  	$upload_iframe_src = add_query_arg('post_id', $uploading_iframe_ID,
> 'media-upload.php');
>
>  	if ( 'media' != $type )
> -		$upload_iframe_src = add_query_arg('type', $type, $upload_iframe_src);
> +		$upload_iframe_src = add_query_arg('amp;type', $type,
> $upload_iframe_src);
>  	$upload_iframe_src = apply_filters($type . '_upload_iframe_src',
> $upload_iframe_src);
>
> -	return add_query_arg('TB_iframe', true, $upload_iframe_src);
> +	return add_query_arg('amp;TB_iframe', true, $upload_iframe_src);
>  }
>
>  /**
>
> While this sort of thing works, it is not very elegant. Could someone
> tell me what I should be touching (even lower than add_query_arg(), if
> possible) to perform such transformations uniformly across the admin
> (not frontend theme) interface?
>
> Thanks,
> Harish
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse / dd32
Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

From nuno.morgadinho at gmail.com  Mon Apr 12 13:57:00 2010
From: nuno.morgadinho at gmail.com (Nuno Morgadinho)
Date: Mon, 12 Apr 2010 15:57:00 +0200
Subject: [wp-hackers] creating blogs across several installs
Message-ID: <n2v5721607d1004120657keb43b5fyb7526ae4747ed5a9@mail.gmail.com>

I have 5 WPMU installs (with different IP addresses and domains). When
the user signs-up and creates a blog I would like to additionally
create a blog in each of the WPMU installs. I thought about two
possible approaches for this:

1) write directly into the database (the installs all share the same
database server)
2) make a http request to each MU that will then handle the request
and write into the db

Would you rather go for 1 or 2? And is there some work done already in
this front of creating blogs across several installs?

Thanks,

-- 
Nuno Morgadinho
http://www.morgadinho.org
http://twitter.com/morgadin

From jbloch at olympianetworks.com  Mon Apr 12 14:04:05 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Mon, 12 Apr 2010 10:04:05 -0400
Subject: [wp-hackers] creating blogs across several installs
In-Reply-To: <n2v5721607d1004120657keb43b5fyb7526ae4747ed5a9@mail.gmail.com>
References: <n2v5721607d1004120657keb43b5fyb7526ae4747ed5a9@mail.gmail.com>
Message-ID: <4179F2EC-02C9-49CD-8837-04118396F61E@olympianetworks.com>

I'm not the most knowledgable on this, but (and this may only apply to wp 3.0, since I don't know how MU works) I think you can just redefine the table prefixes in each install so that you have all of them running on the same DB. Then you would just declare a shared user table w/ a config.php constant, pick one of the user tables, and go from there.

Does anybody know if this would work?

On Apr 12, 2010, at 9:57 AM, Nuno Morgadinho wrote:

> I have 5 WPMU installs (with different IP addresses and domains). When
> the user signs-up and creates a blog I would like to additionally
> create a blog in each of the WPMU installs. I thought about two
> possible approaches for this:
> 
> 1) write directly into the database (the installs all share the same
> database server)
> 2) make a http request to each MU that will then handle the request
> and write into the db
> 
> Would you rather go for 1 or 2? And is there some work done already in
> this front of creating blogs across several installs?
> 
> Thanks,
> 
> -- 
> Nuno Morgadinho
> http://www.morgadinho.org
> http://twitter.com/morgadin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From otto at ottodestruct.com  Mon Apr 12 15:42:24 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 12 Apr 2010 10:42:24 -0500
Subject: [wp-hackers] Cleaning up small validation errors in the admin
	interface
In-Reply-To: <4BC1AEA8.3060308@gmail.com>
References: <4BC1AEA8.3060308@gmail.com>
Message-ID: <p2t161617691004120842ha69e1defv3bf91e5dae099736@mail.gmail.com>

Yeah, definitely the wrong way to do it.

Trace it back higher up in the chain. For your specific example, you
have something like this:

function _media_button($title, $icon, $type) {
	return "<a href='" . get_upload_iframe_src($type) . "' id='add_$type'
class='thickbox' title='$title'><img src='" . esc_url( admin_url(
$icon ) ) . "' alt='$title' /></a>";
}

That get_upload_iframe_src call should be wrapped in an esc_url.

-Otto



On Sun, Apr 11, 2010 at 6:12 AM, Harish Narayanan
<harish.mlists at gmail.com> wrote:
> Hello all,
>
> I receive a few validation errors due to small things like using &
> instead of &amp; in the WordPress admin interface. In order to work
> around this, I've been tracking down individual offending files and
> doing silly things like the following:
>
> Index: wp-admin/includes/media.php
> ===================================================================
> --- wp-admin/includes/media.php (revision 14070)
> +++ wp-admin/includes/media.php (working copy)
> @@ -388,10 +388,10 @@
> ? ? ? ?$upload_iframe_src = add_query_arg('post_id', $uploading_iframe_ID,
> 'media-upload.php');
>
> ? ? ? ?if ( 'media' != $type )
> - ? ? ? ? ? ? ? $upload_iframe_src = add_query_arg('type', $type, $upload_iframe_src);
> + ? ? ? ? ? ? ? $upload_iframe_src = add_query_arg('amp;type', $type,
> $upload_iframe_src);
> ? ? ? ?$upload_iframe_src = apply_filters($type . '_upload_iframe_src',
> $upload_iframe_src);
>
> - ? ? ? return add_query_arg('TB_iframe', true, $upload_iframe_src);
> + ? ? ? return add_query_arg('amp;TB_iframe', true, $upload_iframe_src);
> ?}
>
> ?/**
>
> While this sort of thing works, it is not very elegant. Could someone
> tell me what I should be touching (even lower than add_query_arg(), if
> possible) to perform such transformations uniformly across the admin
> (not frontend theme) interface?
>
> Thanks,
> Harish
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ncrice at gmail.com  Mon Apr 12 16:11:12 2010
From: ncrice at gmail.com (Nathan Rice)
Date: Mon, 12 Apr 2010 12:11:12 -0400
Subject: [wp-hackers] Closed Metaboxes
Message-ID: <r2p862d087f1004120911p2dfeec30ic5b600a4f8fc91ff@mail.gmail.com>

Is there any way to have custom metaboxes be closed by default? I still want
them to be able to expand the metabox, and I want their settings to save,
but I just don't want them to be open by default?

Any ideas?

------------------
Nathan Rice
WordPress and Web Development
www.nathanrice.net | twitter.com/nathanrice

From jpotkanski at tribune.com  Mon Apr 12 16:27:17 2010
From: jpotkanski at tribune.com (Potkanski, Jason)
Date: Mon, 12 Apr 2010 11:27:17 -0500
Subject: [wp-hackers] creating blogs across several installs
In-Reply-To: <n2v5721607d1004120657keb43b5fyb7526ae4747ed5a9@mail.gmail.com>
Message-ID: <C7E8B415.279F%jpotkanski@tribune.com>

There is a multi-site plugin for Wordpress MU that allows multiple sites in the same database for a wordpress MU installation. http://wpmu.org/multisite-manager/ (wpmu.org looks down). Written by David Dean.

If you use custom permalinks on any blogs, I have a patch for the multi-site plugin for 2.8.6-2.9.2.

To allow logins across all your sites, set this in wp-config.php:
define('DOMAIN_CURRENT_SITE', $_SERVER['HTTP_HOST'] );

Since MU doesn't have a global aliasing ability, (www.x.com/blog can be seen at www.y.com/blog and www.z.com/blog), you'll have to create 5 separate blogs and sync the data in the tables to each of the 5 separate blogs. Or, solve the global alias problem.

One approach is to create a master blog and use RSS feeds for the 4 sub blogs. Commenting would be "desynced" with this approach.

Using multi-site at least gets all your data into one database structure.

--

Jason Potkanski
Tribune Technology




On 4/12/10 8:57 AM, "Nuno Morgadinho" <nuno.morgadinho at gmail.com> wrote:

I have 5 WPMU installs (with different IP addresses and domains). When
the user signs-up and creates a blog I would like to additionally
create a blog in each of the WPMU installs. I thought about two
possible approaches for this:

1) write directly into the database (the installs all share the same
database server)
2) make a http request to each MU that will then handle the request
and write into the db

Would you rather go for 1 or 2? And is there some work done already in
this front of creating blogs across several installs?

Thanks,

--
Nuno Morgadinho
http://www.morgadinho.org
http://twitter.com/morgadin
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From harish.mlists at gmail.com  Mon Apr 12 16:32:16 2010
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Mon, 12 Apr 2010 18:32:16 +0200
Subject: [wp-hackers] Cleaning up small validation errors in the admin
 interface
In-Reply-To: <p2t161617691004120842ha69e1defv3bf91e5dae099736@mail.gmail.com>
References: <4BC1AEA8.3060308@gmail.com>
	<p2t161617691004120842ha69e1defv3bf91e5dae099736@mail.gmail.com>
Message-ID: <4BC34B10.5000001@gmail.com>

On 4/12/10 5:42 PM, Otto wrote:
> Yeah, definitely the wrong way to do it.
> 
> Trace it back higher up in the chain. For your specific example, you
> have something like this:
> 
> function _media_button($title, $icon, $type) {
> 	return "<a href='" . get_upload_iframe_src($type) . "' id='add_$type'
> class='thickbox' title='$title'><img src='" . esc_url( admin_url(
> $icon ) ) . "' alt='$title' /></a>";
> }
> 
> That get_upload_iframe_src call should be wrapped in an esc_url.

Thanks dd32 and Otto, this is what I was looking for. I will go about
cleaning similar occurrences to this.

Harish

From mnolin at gmail.com  Mon Apr 12 16:40:20 2010
From: mnolin at gmail.com (Matthew Nolin)
Date: Mon, 12 Apr 2010 12:40:20 -0400
Subject: [wp-hackers] Easier Staging <-> Production Deploy & Move Wordpress
	GSoC
Message-ID: <1433DD5E-A8C0-46E2-ACDB-CDFC535DB708@gmail.com>

Hey everyone, I'm looking for easier staging <-> production deploys/grabs. I've suggested this on the core trac (http://core.trac.wordpress.org/ticket/12865) and a member said it may be a good fit for GSoC & further development in the ideas forums.

Some posts in the idea forums on the same subject have come up and been closed around the same concept, http://wordpress.org/extend/ideas/topic/system-to-manage-work-between-staging-and-production-servers#post-156 and http://wordpress.org/extend/ideas/topic/easier-migration-from-developmentstaging-to-production#post-15022 (that it doesn't fit in core development).

I was wondering if anyone knew about the Move Wordpress GSoC concept (http://codex.wordpress.org/GSoC2010#Move_WordPress_.2813.29)? I think that it would fit within much of what is being done with this project and even if it wasn't added as a direct goal, some forward thinking in the development could make additional work on it much easier.

-Matt

From admin at oxymaniac.com  Mon Apr 12 17:05:38 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Mon, 12 Apr 2010 22:35:38 +0530
Subject: [wp-hackers] Easier Staging <-> Production Deploy & Move
	Wordpress GSoC
In-Reply-To: <1433DD5E-A8C0-46E2-ACDB-CDFC535DB708@gmail.com>
References: <1433DD5E-A8C0-46E2-ACDB-CDFC535DB708@gmail.com>
Message-ID: <q2k3f0d2d431004121005i7ca833bdo25179f65a0785fd8@mail.gmail.com>

The XML-RPC acts as a good stage to get the servers "talking" and the
HTTP_API is a cool way for tranferring data.
A little addition/modification to the APIs will really help the cause a lot
http://piyushmishra.com/blog/ideas/wpmove.html here is what i could make out
of the move wordpress idea.


On Mon, Apr 12, 2010 at 10:10 PM, Matthew Nolin <mnolin at gmail.com> wrote:

> Hey everyone, I'm looking for easier staging <-> production deploys/grabs.
> I've suggested this on the core trac (
> http://core.trac.wordpress.org/ticket/12865) and a member said it may be a
> good fit for GSoC & further development in the ideas forums.
>
> Some posts in the idea forums on the same subject have come up and been
> closed around the same concept,
> http://wordpress.org/extend/ideas/topic/system-to-manage-work-between-staging-and-production-servers#post-156and
> http://wordpress.org/extend/ideas/topic/easier-migration-from-developmentstaging-to-production#post-15022(that it doesn't fit in core development).
>
> I was wondering if anyone knew about the Move Wordpress GSoC concept (
> http://codex.wordpress.org/GSoC2010#Move_WordPress_.2813.29)? I think that
> it would fit within much of what is being done with this project and even if
> it wasn't added as a direct goal, some forward thinking in the development
> could make additional work on it much easier.
>
> -Matt
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards
Piyush Mishra

From jpotkanski at tribune.com  Mon Apr 12 17:15:54 2010
From: jpotkanski at tribune.com (Potkanski, Jason)
Date: Mon, 12 Apr 2010 12:15:54 -0500
Subject: [wp-hackers] Easier Staging <-> Production Deploy & Move
 Wordpress GSoC
In-Reply-To: <1433DD5E-A8C0-46E2-ACDB-CDFC535DB708@gmail.com>
Message-ID: <C7E8BF7A.27A7%jpotkanski@tribune.com>

We use an extensive bash script that pulls from a local subversion server, exports to a local directory and rsyncs files across to a production NFS mount. I can target individual directories and sites as necessary.  I also have a bash/php combo script that exports production data, does Regex replace on the sitename on a mysql dump, and reloads it to a Test/QA environment MySQL server. Croned nightly.

For dev environments, the bash script is  a much more nuclear rsync script.

A plugin sounds great to even further automate. However, it should be written as a pull plugin installed on the QA environment that connects to a Prod DB and does it's thing rather than a Push plugin as WP Migrate DB looks.

If Wordpress (MU) has an ability to have a global site alias (I can map www.x.com to www.y.internal as well), then I don't even need to migrate the DB, I can just dump and reload verbatim.

--

Jason Potkanski
Tribune Technology



On 4/12/10 11:40 AM, "Matthew Nolin" <mnolin at gmail.com> wrote:

Hey everyone, I'm looking for easier staging <-> production deploys/grabs. I've suggested this on the core trac (http://core.trac.wordpress.org/ticket/12865) and a member said it may be a good fit for GSoC & further development in the ideas forums.

Some posts in the idea forums on the same subject have come up and been closed around the same concept, http://wordpress.org/extend/ideas/topic/system-to-manage-work-between-staging-and-production-servers#post-156 and http://wordpress.org/extend/ideas/topic/easier-migration-from-developmentstaging-to-production#post-15022 (that it doesn't fit in core development).

I was wondering if anyone knew about the Move Wordpress GSoC concept (http://codex.wordpress.org/GSoC2010#Move_WordPress_.2813.29)? I think that it would fit within much of what is being done with this project and even if it wasn't added as a direct goal, some forward thinking in the development could make additional work on it much easier.

-Matt
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From lists at robv.de  Mon Apr 12 17:50:12 2010
From: lists at robv.de (rovo89)
Date: Mon, 12 Apr 2010 19:50:12 +0200
Subject: [wp-hackers] Closed Metaboxes
In-Reply-To: <r2p862d087f1004120911p2dfeec30ic5b600a4f8fc91ff@mail.gmail.com>
References: <r2p862d087f1004120911p2dfeec30ic5b600a4f8fc91ff@mail.gmail.com>
Message-ID: <4BC35D54.4000102@robv.de>

> Is there any way to have custom metaboxes be closed by default?

Closed metaboxes are handled by the function postbox_classes(), which 
has not filters itself. However, it uses get_user_option(), so you can 
do the following:

function myclosedmetaboxes($result) {
     $closedMetaboxes = array('your_closed_metabox');
     if ( !is_array(result) )
         return $closedMetaboxes;
     else
         return array_merge($result, $closedMetaboxes);
}
add_filter('get_user_option_closedpostboxes_yourposttype', 
'myclosedmetaboxes');

yourposttype is the same as the $page parameter of add_meta_box. The 
array defines the metaboxes which are always closed when the user enters 
the editing page.

If you want to be a bit more user friendly and keep the open/closed 
state of the metaboxes, just return $result instead of the merged array. 
The metabox will then be hidden by default for new users, but if the 
expand them, they will stay expanded. For existing users for who the 
open/closed state was already saved, the metabox will be visible by 
default because it is not in the returned array (which would also be the 
case if they had expanded it themselves). You could query all users who 
have these settings saved and add your metabox to it once to work around 
this.

I hope this helps.
Robert

From elizabeth at slatetechpdx.com  Mon Apr 12 17:51:24 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Mon, 12 Apr 2010 10:51:24 -0700
Subject: [wp-hackers] creating blogs across several installs (Nuno
	Morgadinho)
Message-ID: <x2lc399ae881004121051v6fb86fderbd2b745464fabe52@mail.gmail.com>

> Message: 1
> Date: Mon, 12 Apr 2010 15:57:00 +0200
> From: Nuno Morgadinho <nuno.morgadinho at gmail.com>
> Subject: [wp-hackers] creating blogs across several installs
> To: wp-hackers at lists.automattic.com
> Message-ID:
> ? ? ? ?<n2v5721607d1004120657keb43b5fyb7526ae4747ed5a9 at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> I have 5 WPMU installs (with different IP addresses and domains). When
> the user signs-up and creates a blog I would like to additionally
> create a blog in each of the WPMU installs. I thought about two
> possible approaches for this:
>
> 1) write directly into the database (the installs all share the same
> database server)
> 2) make a http request to each MU that will then handle the request
> and write into the db
>
> Would you rather go for 1 or 2? And is there some work done already in
> this front of creating blogs across several installs?
>
> Thanks,
>
> --
> Nuno Morgadinho
> http://www.morgadinho.org
> http://twitter.com/morgadin
>



I'd go for a mix of 1 and 2)  I've made a (very very) custom plugin
for a client that adds a blog with all the appropriate setting, so he
doesn't have to the theme or pages, and can add the categories that
already exist to the new blog.  It uses to core switch_to_blog
function, which sets up all the tables and options, the kind of thing
that doesn't need to be rewritten.  But this plugin is in one install
and only deals with one install.

Which brings me to step 2.  You'd have to then pass the data to the
other install and tell it to run it's custom create a blog plugin.
the simplest would be calling your plugin through http request.

the first part of my plugin uses the standard code in the
wpmu-edit.php starting at around line 129 (wpmu trunk
http://xref.yoast.com/wpmu-trunk/nav.html?wp-admin/wpmu-edit.php.source.html#l129)

Then I use switch_to_blog in wpmu-functions.php around line 1297
(http://xref.yoast.com/wpmu-trunk/nav.html?wp-includes/wpmu-functions.php.source.html#l297)
to add my custom settings like the theme which is as easy as
update_option('current_theme', 'theme decscription');
update_option('template', 'theme name'); update_option('stylesheet',
'theme name');

There isn't an easy way to activate plugins if they have to create a
database table unforunately, as simply inserting the activated plugins
makes them active, but doesn't run their activation script.

HTH

Elizabeth Buckwalter

From admin at oxymaniac.com  Mon Apr 12 18:04:49 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Mon, 12 Apr 2010 23:34:49 +0530
Subject: [wp-hackers] creating blogs across several installs (Nuno
	Morgadinho)
In-Reply-To: <x2lc399ae881004121051v6fb86fderbd2b745464fabe52@mail.gmail.com>
References: <x2lc399ae881004121051v6fb86fderbd2b745464fabe52@mail.gmail.com>
Message-ID: <i2l3f0d2d431004121104y40ff283dwbf5dbaac65db43a6@mail.gmail.com>

there is a wprobot for adding data across multiple wp installs and from
other social sites na?

On Mon, Apr 12, 2010 at 11:21 PM, Elizabeth Buckwalter <
elizabeth at slatetechpdx.com> wrote:

> > Message: 1
> > Date: Mon, 12 Apr 2010 15:57:00 +0200
> > From: Nuno Morgadinho <nuno.morgadinho at gmail.com>
> > Subject: [wp-hackers] creating blogs across several installs
> > To: wp-hackers at lists.automattic.com
> > Message-ID:
> >        <n2v5721607d1004120657keb43b5fyb7526ae4747ed5a9 at mail.gmail.com>
> > Content-Type: text/plain; charset=UTF-8
> >
> > I have 5 WPMU installs (with different IP addresses and domains). When
> > the user signs-up and creates a blog I would like to additionally
> > create a blog in each of the WPMU installs. I thought about two
> > possible approaches for this:
> >
> > 1) write directly into the database (the installs all share the same
> > database server)
> > 2) make a http request to each MU that will then handle the request
> > and write into the db
> >
> > Would you rather go for 1 or 2? And is there some work done already in
> > this front of creating blogs across several installs?
> >
> > Thanks,
> >
> > --
> > Nuno Morgadinho
> > http://www.morgadinho.org
> > http://twitter.com/morgadin
> >
>
>
>
> I'd go for a mix of 1 and 2)  I've made a (very very) custom plugin
> for a client that adds a blog with all the appropriate setting, so he
> doesn't have to the theme or pages, and can add the categories that
> already exist to the new blog.  It uses to core switch_to_blog
> function, which sets up all the tables and options, the kind of thing
> that doesn't need to be rewritten.  But this plugin is in one install
> and only deals with one install.
>
> Which brings me to step 2.  You'd have to then pass the data to the
> other install and tell it to run it's custom create a blog plugin.
> the simplest would be calling your plugin through http request.
>
> the first part of my plugin uses the standard code in the
> wpmu-edit.php starting at around line 129 (wpmu trunk
>
> http://xref.yoast.com/wpmu-trunk/nav.html?wp-admin/wpmu-edit.php.source.html#l129
> )
>
> Then I use switch_to_blog in wpmu-functions.php around line 1297
> (
> http://xref.yoast.com/wpmu-trunk/nav.html?wp-includes/wpmu-functions.php.source.html#l297
> )
> to add my custom settings like the theme which is as easy as
> update_option('current_theme', 'theme decscription');
> update_option('template', 'theme name'); update_option('stylesheet',
> 'theme name');
>
> There isn't an easy way to activate plugins if they have to create a
> database table unforunately, as simply inserting the activated plugins
> makes them active, but doesn't run their activation script.
>
> HTH
>
> Elizabeth Buckwalter
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards
Piyush Mishra

From s.marty05 at yahoo.com  Mon Apr 12 23:49:30 2010
From: s.marty05 at yahoo.com (mattysin vincent)
Date: Mon, 12 Apr 2010 16:49:30 -0700 (PDT)
Subject: [wp-hackers] CREDITS CARDS,VALIDS
In-Reply-To: <6dbcd2670810310502k6936902ft1731b135102f285f@mail.gmail.com>
Message-ID: <562372.64425.qm@web55005.mail.re4.yahoo.com>

HELLO Mr.man,
??????????????? IF YOU WANT ANY DEAL BETWEEN ME AND YOU KINDLY SEND SEND SOMETHING FOR ME TO PROOF YOUR WORK,LIKE VALID CREDIT CARDS AND ANY STUFF YOU THINK YOU HAVE THAT IS VALID.NOT RIPPING THIS TIME AROUND.I HAVE SEEN ENOUGH FROM HERE.

--- On Fri, 10/31/08, Will Anderson <wp-hackers at itsananderson.com> wrote:

From: Will Anderson <wp-hackers at itsananderson.com>
Subject: Re: [wp-hackers] uk log in
To: wp-hackers at lists.automattic.com
Date: Friday, October 31, 2008, 4:02 AM

Don't feed the Trolls... Wait! stialon, who were your childhood
heroes<http://xkcd.com/493/>?

On Thu, Oct 30, 2008 at 2:54 PM, Chris <gaarai at gaarai.com> wrote:

> Sorry for sending my reply to the list. He previously sent me a private
> email. I assumed that this one was private as well.
>
> - Chris Jean
>
>
> stialon wrote:
>
>> hello bro can will deal together? if yes reply me
>>
>> Mandelaa wrote:
>>
>>
>>>
>>>? ? HELLO I HAVE VALID CC,S FOR ALL EUROPE AND AMERICA WITH FRESH SKIMMED
>>> DUMPS TRACK 1 AND 2 BANK LOGINS AND FRESH MSR206 Swipe Magnetic Card
>>> Hi-Co
>>> Reader/Writer + MSR206utility
>>> Price :$300
>>> Payment LR
>>>
>>> track 1: B5471695010910400^HOWARD/WILLI E^0906101000000000020000777000
>>> 000
>>> track 2: 5471695010910400=0906101200007 77
>>>
>>> B4011800311781647^Lopez/Synda^ 081010100000000000000025200000 000000
>>> 4011800311781647=0810101000002 5200000
>>> **********
>>> **********
>>> B4791242350017979^Pavlovsky/Ri ck^090810100000000005598917500 0000
>>> 4791242350017979=0908101559891 75
>>>
>>> B4539783158765019^Thomas/Nigel ^10024710000000000766345280000 00
>>> 4539783158765019=1002471766345 28
>>>
>>> B4011807200285085^Cromer/Tim^0 803101000000000000000252000000 00000
>>> 4011807200285085=0803101000002 5200000
>>>
>>> B4011800891633275^Johnson/Step hanie
>>> R^1009101000000000000000252000 00000000
>>> 4011800891633275=1009101000002 5200000
>>>
>>> B4011800311781647^Lopez/Synda^ 081010100000000000000025200000 000000
>>> 4011800311781647=0810101000002 5200000
>>>
>>> Mr_mandela at yahoo.com
>>>? _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>>
>>>
>>
>>
>>
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



      

From ncrice at gmail.com  Tue Apr 13 03:44:55 2010
From: ncrice at gmail.com (Nathan Rice)
Date: Mon, 12 Apr 2010 23:44:55 -0400
Subject: [wp-hackers] Closed Metaboxes
In-Reply-To: <4BC35D54.4000102@robv.de>
References: <r2p862d087f1004120911p2dfeec30ic5b600a4f8fc91ff@mail.gmail.com>
	<4BC35D54.4000102@robv.de>
Message-ID: <q2l862d087f1004122044h2b4fcb01x4672f9dd16020902@mail.gmail.com>

Perfect. This should definitely help. Thanks!

------------------
Nathan Rice
WordPress and Web Development
www.nathanrice.net | twitter.com/nathanrice


On Mon, Apr 12, 2010 at 1:50 PM, rovo89 <lists at robv.de> wrote:

> Is there any way to have custom metaboxes be closed by default?
>>
>
> Closed metaboxes are handled by the function postbox_classes(), which has
> not filters itself. However, it uses get_user_option(), so you can do the
> following:
>
> function myclosedmetaboxes($result) {
>    $closedMetaboxes = array('your_closed_metabox');
>    if ( !is_array(result) )
>        return $closedMetaboxes;
>    else
>        return array_merge($result, $closedMetaboxes);
> }
> add_filter('get_user_option_closedpostboxes_yourposttype',
> 'myclosedmetaboxes');
>
> yourposttype is the same as the $page parameter of add_meta_box. The array
> defines the metaboxes which are always closed when the user enters the
> editing page.
>
> If you want to be a bit more user friendly and keep the open/closed state
> of the metaboxes, just return $result instead of the merged array. The
> metabox will then be hidden by default for new users, but if the expand
> them, they will stay expanded. For existing users for who the open/closed
> state was already saved, the metabox will be visible by default because it
> is not in the returned array (which would also be the case if they had
> expanded it themselves). You could query all users who have these settings
> saved and add your metabox to it once to work around this.
>
> I hope this helps.
> Robert
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From nuno.morgadinho at gmail.com  Tue Apr 13 13:15:50 2010
From: nuno.morgadinho at gmail.com (Nuno Morgadinho)
Date: Tue, 13 Apr 2010 15:15:50 +0200
Subject: [wp-hackers] creating blogs across several installs
In-Reply-To: <C7E8B415.279F%jpotkanski@tribune.com>
References: <n2v5721607d1004120657keb43b5fyb7526ae4747ed5a9@mail.gmail.com>
	<C7E8B415.279F%jpotkanski@tribune.com>
Message-ID: <m2p5721607d1004130615r7d635553tfb6e54e870b255fc@mail.gmail.com>

Jason,

The multi-site plugin is something I've looked before but it doesn't
seem suitable because it requires that all the sites point to the same
IP address.

As I mentioned before I have 5 different IP addresses with installs
and I need to keep that for SEO purposes.

Any other ideas?

Thanks,
Nuno

On Mon, Apr 12, 2010 at 6:27 PM, Potkanski, Jason
<jpotkanski at tribune.com> wrote:
> There is a multi-site plugin for Wordpress MU that allows multiple sites in
> the same database for a wordpress MU installation.
> http://wpmu.org/multisite-manager/ (wpmu.org looks down). Written by David
> Dean.
>
> If you use custom permalinks on any blogs, I have a patch for the multi-site
> plugin for 2.8.6-2.9.2.
>
> To allow logins across all your sites, set this in wp-config.php:
> define('DOMAIN_CURRENT_SITE', $_SERVER['HTTP_HOST'] );
>
> Since MU doesn?t have a global aliasing ability, (www.x.com/blog can be seen
> at www.y.com/blog and www.z.com/blog), you?ll have to create 5 separate
> blogs and sync the data in the tables to each of the 5 separate blogs. Or,
> solve the global alias problem.
>
> One approach is to create a master blog and use RSS feeds for the 4 sub
> blogs. Commenting would be ?desynced? with this approach.
>
> Using multi-site at least gets all your data into one database structure.
>
> --
>
> Jason Potkanski
> Tribune Technology
>
>
>
>
> On 4/12/10 8:57 AM, "Nuno Morgadinho" <nuno.morgadinho at gmail.com> wrote:
>
> I have 5 WPMU installs (with different IP addresses and domains). When
> the user signs-up and creates a blog I would like to additionally
> create a blog in each of the WPMU installs. I thought about two
> possible approaches for this:
>
> 1) write directly into the database (the installs all share the same
> database server)
> 2) make a http request to each MU that will then handle the request
> and write into the db
>
> Would you rather go for 1 or 2? And is there some work done already in
> this front of creating blogs across several installs?
>
> Thanks,
>
> --
> Nuno Morgadinho
> http://www.morgadinho.org
> http://twitter.com/morgadin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>



-- 
Nuno Morgadinho
http://www.morgadinho.org
http://twitter.com/morgadin

From elflop at googlemail.com  Tue Apr 13 14:23:54 2010
From: elflop at googlemail.com (Rich Pedley)
Date: Tue, 13 Apr 2010 15:23:54 +0100
Subject: [wp-hackers] widgets - uninstall
Message-ID: <p2pc6c45a351004130723y40a22ac7t1981987bbcd35f5f@mail.gmail.com>

I'm actually testing in 3.0 beta, but I assume this would apply to 2.9 as well.

In my plugin I registered a widget, on uninstall I would like to
remove reference to those widgets from the database. So how am I
supposed to do this?

I've tried:
unregister_sidebar_widget('eshop_widget');
&
unregister_widget('eshop_widget');

neither of which appear to actually remove the data from the options
table, the widget itself obviously disappears from the widgets page,
but the data still appears in the database.

So what have I missed?
(I use a custom uninstall routine rather than the default WP uninstall
for plugins - in case that make any difference)


Rich
-- 
my mind is on a permanent tangent
http://cms.elfden.co.uk/

From admin at oxymaniac.com  Tue Apr 13 14:44:22 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Tue, 13 Apr 2010 20:14:22 +0530
Subject: [wp-hackers] widgets - uninstall
In-Reply-To: <p2pc6c45a351004130723y40a22ac7t1981987bbcd35f5f@mail.gmail.com>
References: <p2pc6c45a351004130723y40a22ac7t1981987bbcd35f5f@mail.gmail.com>
Message-ID: <t2i3f0d2d431004130744ydb3b9a98y4a3093ae159ccf7d@mail.gmail.com>

u shuld use the delete_option function for that

On Tue, Apr 13, 2010 at 7:53 PM, Rich Pedley <elflop at googlemail.com> wrote:

> I'm actually testing in 3.0 beta, but I assume this would apply to 2.9 as
> well.
>
> In my plugin I registered a widget, on uninstall I would like to
> remove reference to those widgets from the database. So how am I
> supposed to do this?
>
> I've tried:
> unregister_sidebar_widget('eshop_widget');
> &
> unregister_widget('eshop_widget');
>
> neither of which appear to actually remove the data from the options
> table, the widget itself obviously disappears from the widgets page,
> but the data still appears in the database.
>
> So what have I missed?
> (I use a custom uninstall routine rather than the default WP uninstall
> for plugins - in case that make any difference)
>
>
> Rich
> --
> my mind is on a permanent tangent
> http://cms.elfden.co.uk/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards
Piyush Mishra

From jpotkanski at tribune.com  Tue Apr 13 15:02:12 2010
From: jpotkanski at tribune.com (Potkanski, Jason)
Date: Tue, 13 Apr 2010 10:02:12 -0500
Subject: [wp-hackers] creating blogs across several installs
In-Reply-To: <m2p5721607d1004130615r7d635553tfb6e54e870b255fc@mail.gmail.com>
Message-ID: <C7E9F1A4.27FC%jpotkanski@tribune.com>

There is not an IP requirement on the multi-site plugin. IP addresses/interfaces are handled transparently to the Wordpress application by Apache. You can keep the multiple IP addresses per site and still use multi-site.

Unless you have a per IP licensing requirement, SSL certificates or something strange, IP addresses are not necessary per site. Multiple sites per IP address has no bearing on SEO.

The other Idea in the back of my head is to create a plugin that automatically creates the blogs on the other 4 domains and installs MySQL triggers to automatically update the other 4 blog tables. You would have to develop tricky update triggers for wp_options.

-Jason Potkanski
Tribune Technology

On 4/13/10 8:15 AM, "Nuno Morgadinho" <nuno.morgadinho at gmail.com> wrote:

Jason,

The multi-site plugin is something I've looked before but it doesn't
seem suitable because it requires that all the sites point to the same
IP address.

As I mentioned before I have 5 different IP addresses with installs
and I need to keep that for SEO purposes.

Any other ideas?

Thanks,
Nuno

On Mon, Apr 12, 2010 at 6:27 PM, Potkanski, Jason
<jpotkanski at tribune.com> wrote:
> There is a multi-site plugin for Wordpress MU that allows multiple sites in
> the same database for a wordpress MU installation.
> http://wpmu.org/multisite-manager/ (wpmu.org looks down). Written by David
> Dean.
>
> If you use custom permalinks on any blogs, I have a patch for the multi-site
> plugin for 2.8.6-2.9.2.
>
> To allow logins across all your sites, set this in wp-config.php:
> define('DOMAIN_CURRENT_SITE', $_SERVER['HTTP_HOST'] );
>
> Since MU doesn't have a global aliasing ability, (www.x.com/blog can be seen
> at www.y.com/blog and www.z.com/blog), you'll have to create 5 separate
> blogs and sync the data in the tables to each of the 5 separate blogs. Or,
> solve the global alias problem.
>
> One approach is to create a master blog and use RSS feeds for the 4 sub
> blogs. Commenting would be "desynced" with this approach.
>
> Using multi-site at least gets all your data into one database structure.
>
> --
>
> Jason Potkanski
> Tribune Technology
>
>
>
>
> On 4/12/10 8:57 AM, "Nuno Morgadinho" <nuno.morgadinho at gmail.com> wrote:
>
> I have 5 WPMU installs (with different IP addresses and domains). When
> the user signs-up and creates a blog I would like to additionally
> create a blog in each of the WPMU installs. I thought about two
> possible approaches for this:
>
> 1) write directly into the database (the installs all share the same
> database server)
> 2) make a http request to each MU that will then handle the request
> and write into the db
>
> Would you rather go for 1 or 2? And is there some work done already in
> this front of creating blogs across several installs?
>
> Thanks,
>
> --
> Nuno Morgadinho
> http://www.morgadinho.org
> http://twitter.com/morgadin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>



--
Nuno Morgadinho
http://www.morgadinho.org
http://twitter.com/morgadin


From ash at thinkinginvain.com  Wed Apr 14 06:30:37 2010
From: ash at thinkinginvain.com (Ash Goodman)
Date: Wed, 14 Apr 2010 14:30:37 +0800
Subject: [wp-hackers] get_post_meta in widgets
Message-ID: <i2r1d9b57821004132330l175961d0rd20f151e9b9e7073@mail.gmail.com>

Hi, I have been chasing my tail on this for a couple of days.

I don't seem to be able to access get_post_meta from within a widget and am
hoping someone can point me in the right direction?

I am building a  widget to run ads in the sidebar. The ads are pages with
meta values that assign them as ads and I use the the_post_thumbnail for the
ad image and custom write panels to store the ads url as a meta value. I
have checked and the data is being stored correctly in the database.

Within the widget I am running a new WP-Query:

$rightAdsection = new
WP_Query('post_type=page&posts_per_page=1&meta_value=_adsPositionRight&orderby=rand');


    while($rightAdsection->have_posts()) :
    $rightAdsection->the_post();
    $adRight = get_post_meta($post->ID, '_adright', true);
    if ($adRight) {
    echo "it works";
    }else{
    echo "it doesn't work";
    };
    endwhile;

No matter what I always get "it doesn't work"

The WP_Query is running correctly, the loop is there and if I set
post_per_page to a higher number it echo's "it doesn't work" a matching
number of times.

If I substitute the whole if statement with

echo $post_ID;

I get nothing so it seems as if the query doesn't get the post id?

But it does get

the_post_thumbnail('ads-image-right');

In fact if I replace the "it doesn't work" in the if statement with
the_post_thumbnail('ads-image-right'); It displays the correct image. Which
is to say that the $adRight variable is empty though it shouldn't be but the
the_post_thumbnail still works

If I replace $adRight = get_post_meta($post->ID, '_adright', true); with
$adRight = get_post_meta($id, '_adright', true);

It makes no difference

I am relatively new to PHP and am sure I am missing something terribly
obvious.

Thanks!

Ash

From mikeschinkel at newclarity.net  Wed Apr 14 06:59:21 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 14 Apr 2010 02:59:21 -0400
Subject: [wp-hackers] get_post_meta in widgets
In-Reply-To: <i2r1d9b57821004132330l175961d0rd20f151e9b9e7073@mail.gmail.com>
References: <i2r1d9b57821004132330l175961d0rd20f151e9b9e7073@mail.gmail.com>
Message-ID: <D7F3A08F-6DA5-4635-A57F-D2DCBC127779@newclarity.net>

Hi Ash,

I haven't tested this before emailing but I'm pretty sure what you want is:

$rightAdsection = new WP_Query('post_type=page&posts_per_page=1&meta_value=_adsPositionRight&orderby=rand');
foreach($rightAdsection as $ad) {
  $adRight = get_post_meta($ad->ID, '_adright', true);
  if ($adRight)
    echo "it works";
  else
    echo "it doesn't work";
}

HTH.

-Mike
P.S. If you can use WP3.0 you could create a custom post type "Ad" and then do this instead:

$rightAdsection = new WP_Query('post_type=ad&posts_per_page=1&meta_value=_adsPositionRight&orderby=rand');
foreach($rightAdsection as $ad) {
  $adRight = get_post_meta($ad->ID, '_adright', true);
  if ($adRight)
    echo "it works";
  else
    echo "it doesn't work";
}


On Apr 14, 2010, at 2:30 AM, Ash Goodman wrote:

> Hi, I have been chasing my tail on this for a couple of days.
> 
> I don't seem to be able to access get_post_meta from within a widget and am
> hoping someone can point me in the right direction?
> 
> I am building a  widget to run ads in the sidebar. The ads are pages with
> meta values that assign them as ads and I use the the_post_thumbnail for the
> ad image and custom write panels to store the ads url as a meta value. I
> have checked and the data is being stored correctly in the database.
> 
> Within the widget I am running a new WP-Query:
> 
> $rightAdsection = new
> WP_Query('post_type=page&posts_per_page=1&meta_value=_adsPositionRight&orderby=rand');
> 
> 
>    while($rightAdsection->have_posts()) :
>    $rightAdsection->the_post();
>    $adRight = get_post_meta($post->ID, '_adright', true);
>    if ($adRight) {
>    echo "it works";
>    }else{
>    echo "it doesn't work";
>    };
>    endwhile;
> 
> No matter what I always get "it doesn't work"
> 
> The WP_Query is running correctly, the loop is there and if I set
> post_per_page to a higher number it echo's "it doesn't work" a matching
> number of times.
> 
> If I substitute the whole if statement with
> 
> echo $post_ID;
> 
> I get nothing so it seems as if the query doesn't get the post id?
> 
> But it does get
> 
> the_post_thumbnail('ads-image-right');
> 
> In fact if I replace the "it doesn't work" in the if statement with
> the_post_thumbnail('ads-image-right'); It displays the correct image. Which
> is to say that the $adRight variable is empty though it shouldn't be but the
> the_post_thumbnail still works
> 
> If I replace $adRight = get_post_meta($post->ID, '_adright', true); with
> $adRight = get_post_meta($id, '_adright', true);
> 
> It makes no difference
> 
> I am relatively new to PHP and am sure I am missing something terribly
> obvious.
> 
> Thanks!
> 
> Ash
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From scribu at gmail.com  Wed Apr 14 14:12:46 2010
From: scribu at gmail.com (scribu)
Date: Wed, 14 Apr 2010 17:12:46 +0300
Subject: [wp-hackers] get_post_meta in widgets
In-Reply-To: <D7F3A08F-6DA5-4635-A57F-D2DCBC127779@newclarity.net>
References: <i2r1d9b57821004132330l175961d0rd20f151e9b9e7073@mail.gmail.com>
	<D7F3A08F-6DA5-4635-A57F-D2DCBC127779@newclarity.net>
Message-ID: <y2w349fe48b1004140712v9f303da0vd3ebf45b742be1da@mail.gmail.com>

Ash, the problem with your code is that you're not in the global scope, so
$post is not accesible.

I would simply replace $post->ID with get_the_ID().

Also see http://core.trac.wordpress.org/ticket/12320


@Mike Schinkel: I think you meant get_posts().


-- 
http://scribu.net

From tyagi.amreesh at gmail.com  Wed Apr 14 16:09:37 2010
From: tyagi.amreesh at gmail.com (Amreesh Tyagi)
Date: Wed, 14 Apr 2010 21:39:37 +0530
Subject: [wp-hackers] GSoC Idea: VisualPress - A wordpress visualizer
Message-ID: <o2s5926405c1004140909o21e57e89yf80083975064bca1@mail.gmail.com>

Hi,
My name is Amreesh Tyagi (IRC nick: tyagiboyz, SkypeID: tyagiboyz). I have
submitted my project proposal on Visualpress, which is basically a web based
tree type colorful visualizer to
visualize wordpress functionality, data flow, module and sub-module
dependencies, its connectivity with servers like mail server, application
server, database servers. It can be a very good reference for developers and
beginners to create plugins and core modules of wordpress.

For more details: VisualPress <http://tyagiboyz.wordpress.com/>

I have no mentor yet, so please give me a direction to proceed it further.

??? Amreesh Tyagi ???

From wordpress at santosj.name  Wed Apr 14 16:32:39 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Wed, 14 Apr 2010 11:32:39 -0500
Subject: [wp-hackers] PHPmailer + Avira = Virus?
Message-ID: <4BC5EE27.9010307@santosj.name>

This is located in class-phpmailer.php and will be recognized by Avira 
as part of its detection patterns[1]. This appears to be a false 
positive and might be safely ignored. If anyone knows what Avira is 
thinking or why Avira would want to flag the file, then please let me know.

If information has already been sent to the "security" mailing list, 
then can this information please be sent as to whether it is an actual 
false positive or if it is something that will be fixed within the next 
few days. No information is given on Avira web site, and the file 
appears to be normal with no code that appears to be bad.

[1] 
http://www.avira.com/en/threats/section/vdfhistory/ivdf_no/7.10.06.75/7.10.06.75.html 
- PHP/mailsend.100

From scribu at gmail.com  Wed Apr 14 16:34:44 2010
From: scribu at gmail.com (scribu)
Date: Wed, 14 Apr 2010 19:34:44 +0300
Subject: [wp-hackers] GSoC Idea: VisualPress - A wordpress visualizer
In-Reply-To: <o2s5926405c1004140909o21e57e89yf80083975064bca1@mail.gmail.com>
References: <o2s5926405c1004140909o21e57e89yf80083975064bca1@mail.gmail.com>
Message-ID: <t2z349fe48b1004140934n989e982fy22efbc050fa3929a@mail.gmail.com>

IMO, it would be more useful to create a plugin for a popular IDE, such as
Eclipse rather than integrating it with WP itself.


-- 
http://scribu.net

From otto at ottodestruct.com  Wed Apr 14 17:01:16 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 14 Apr 2010 12:01:16 -0500
Subject: [wp-hackers] PHPmailer + Avira = Virus?
In-Reply-To: <4BC5EE27.9010307@santosj.name>
References: <4BC5EE27.9010307@santosj.name>
Message-ID: <i2h161617691004141001y73d28a10z528dc0aca69a8b07@mail.gmail.com>

Sounds like Avira screwed up. The phpmailer class is extremely commonly used.

-Otto



On Wed, Apr 14, 2010 at 11:32 AM, Jacob Santos <wordpress at santosj.name> wrote:
> This is located in class-phpmailer.php and will be recognized by Avira as
> part of its detection patterns[1]. This appears to be a false positive and
> might be safely ignored. If anyone knows what Avira is thinking or why Avira
> would want to flag the file, then please let me know.
>
> If information has already been sent to the "security" mailing list, then
> can this information please be sent as to whether it is an actual false
> positive or if it is something that will be fixed within the next few days.
> No information is given on Avira web site, and the file appears to be normal
> with no code that appears to be bad.
>
> [1]
> http://www.avira.com/en/threats/section/vdfhistory/ivdf_no/7.10.06.75/7.10.06.75.html
> - PHP/mailsend.100
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From adam at sixohthree.com  Wed Apr 14 18:09:42 2010
From: adam at sixohthree.com (Adam Backstrom)
Date: Wed, 14 Apr 2010 14:09:42 -0400
Subject: [wp-hackers] PHPmailer + Avira = Virus?
In-Reply-To: <4BC5EE27.9010307@santosj.name>
References: <4BC5EE27.9010307@santosj.name>
Message-ID: <u2g1e84ce271004141109xa36edf19l444a16895755051b@mail.gmail.com>

Avira has been overly sensitive in my experience. I can name three past
false positives, including a heuristics check that flagged the simple string
"worm generator" inside a script tag. (In the case in question, "worm
generator" wasn't even the exact phrase. There were characters in between
the words.)

On Wed, Apr 14, 2010 at 12:32, Jacob Santos <wordpress at santosj.name> wrote:

> This is located in class-phpmailer.php and will be recognized by Avira as
> part of its detection patterns[1]. This appears to be a false positive and
> might be safely ignored. If anyone knows what Avira is thinking or why Avira
> would want to flag the file, then please let me know.
>
> If information has already been sent to the "security" mailing list, then
> can this information please be sent as to whether it is an actual false
> positive or if it is something that will be fixed within the next few days.
> No information is given on Avira web site, and the file appears to be normal
> with no code that appears to be bad.
>
> [1]
> http://www.avira.com/en/threats/section/vdfhistory/ivdf_no/7.10.06.75/7.10.06.75.html- PHP/mailsend.100
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Adam Backstrom
adam at sixohthree.com

From mikeschinkel at newclarity.net  Wed Apr 14 18:19:04 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 14 Apr 2010 14:19:04 -0400
Subject: [wp-hackers] get_post_meta in widgets
In-Reply-To: <y2w349fe48b1004140712v9f303da0vd3ebf45b742be1da@mail.gmail.com>
References: <i2r1d9b57821004132330l175961d0rd20f151e9b9e7073@mail.gmail.com>
	<D7F3A08F-6DA5-4635-A57F-D2DCBC127779@newclarity.net>
	<y2w349fe48b1004140712v9f303da0vd3ebf45b742be1da@mail.gmail.com>
Message-ID: <EFE35DC4-C460-44DC-8FAB-CC773871B216@newclarity.net>

On Apr 14, 2010, at 10:12 AM, scribu wrote:
> @Mike Schinkel: I think you meant get_posts().

That would work too.  

-Mike

From wordpress at santosj.name  Wed Apr 14 18:37:15 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Wed, 14 Apr 2010 13:37:15 -0500
Subject: [wp-hackers] PHPmailer + Avira = Virus? Conclusion
Message-ID: <4BC60B5B.3080601@santosj.name>

Okay, did my job at least: informed and queried for an response.

So in conclusion: Avira incorrectly flagged phpmailer file contained with WordPress, Joomla, etc.

It caused a bit of grieve at my job and they were about decided to replace WordPress. It would be nice if an informed statement could be released for those companies running WordPress + Avira.

Jacob Santos


>Sounds like Avira screwed up. The phpmailer class is extremely commonly used.
>
>-Otto


From aaron at xavisys.com  Wed Apr 14 23:39:06 2010
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Wed, 14 Apr 2010 16:39:06 -0700
Subject: [wp-hackers] GSoC Idea: VisualPress - A wordpress visualizer
In-Reply-To: <o2s5926405c1004140909o21e57e89yf80083975064bca1@mail.gmail.com>
References: <o2s5926405c1004140909o21e57e89yf80083975064bca1@mail.gmail.com>
Message-ID: <4BC6521A.6070708@xavisys.com>

At this point all the mentors are rating the applications, and choosing 
which of the 79 applications will be accepted (we have a limited number 
of slots).  Once that's done, mentors are tentatively assigned to the 
top apps.  Google will officially announce which students were accepted 
on Monday, April 26.

From wp-hackers-list at almostexciting.com  Thu Apr 15 04:28:12 2010
From: wp-hackers-list at almostexciting.com (Almost George WP-Hackers List)
Date: Wed, 14 Apr 2010 23:28:12 -0500
Subject: [wp-hackers] Using Meta Keys with pre_get_posts ?
Message-ID: <g2i59710fc71004142128q1f9399f2kb9017051b9fdbe7e@mail.gmail.com>

I'm looking at filtering all default queries (*all* queries if
possible) by checking the value of a meta key. *I think* I understand
that this would be done using the pre_get_posts hook, but I'm not sure
what to do from there, especially concerning the "meta keys".

I've seen some examples that compare "cat=4" or similar, but not sure
how to translate that to work with custom fields/meta information.

Am I going in the right direction, and can anyone push me any further?

Thanks!

From scribu at gmail.com  Thu Apr 15 07:13:21 2010
From: scribu at gmail.com (scribu)
Date: Thu, 15 Apr 2010 10:13:21 +0300
Subject: [wp-hackers] Using Meta Keys with pre_get_posts ?
In-Reply-To: <g2i59710fc71004142128q1f9399f2kb9017051b9fdbe7e@mail.gmail.com>
References: <g2i59710fc71004142128q1f9399f2kb9017051b9fdbe7e@mail.gmail.com>
Message-ID: <w2o349fe48b1004150013l720d14b3gb6df3e99c90c7a6@mail.gmail.com>

Checking a single meta key value is easy:


function check_meta_key($wp_query) {
    $wp_query->set('meta_key', 'my_key');
    $wp_query->set('meta_value', 'my_value);
}
do_action('parse_query', 'check_meta_key');


-- 
http://scribu.net

From wp-hackers-list at almostexciting.com  Thu Apr 15 13:47:03 2010
From: wp-hackers-list at almostexciting.com (Almost George WP-Hackers List)
Date: Thu, 15 Apr 2010 08:47:03 -0500
Subject: [wp-hackers] Using Meta Keys with pre_get_posts ?
In-Reply-To: <w2o349fe48b1004150013l720d14b3gb6df3e99c90c7a6@mail.gmail.com>
References: <g2i59710fc71004142128q1f9399f2kb9017051b9fdbe7e@mail.gmail.com>
	<w2o349fe48b1004150013l720d14b3gb6df3e99c90c7a6@mail.gmail.com>
Message-ID: <i2m59710fc71004150647ld222903odf75605c17f4fa7f@mail.gmail.com>

On Thu, Apr 15, 2010 at 2:13 AM, scribu <scribu at gmail.com> wrote:
> Checking a single meta key value is easy:
>
>
> function check_meta_key($wp_query) {
> ? ?$wp_query->set('meta_key', 'my_key');
> ? ?$wp_query->set('meta_value', 'my_value);
> }
> do_action('parse_query', 'check_meta_key');
>

Thanks! Is it possible to use conditionals, like "less than" or "not
equal to" here? What might that look like?

From scribu at gmail.com  Thu Apr 15 15:42:43 2010
From: scribu at gmail.com (scribu)
Date: Thu, 15 Apr 2010 15:42:43 +0000
Subject: [wp-hackers] Using Meta Keys with pre_get_posts ?
In-Reply-To: <i2m59710fc71004150647ld222903odf75605c17f4fa7f@mail.gmail.com>
References: <g2i59710fc71004142128q1f9399f2kb9017051b9fdbe7e@mail.gmail.com>
	<w2o349fe48b1004150013l720d14b3gb6df3e99c90c7a6@mail.gmail.com>
	<i2m59710fc71004150647ld222903odf75605c17f4fa7f@mail.gmail.com>
Message-ID: <h2h349fe48b1004150842ya597bb04pf365fdc9633351ad@mail.gmail.com>

On Thu, Apr 15, 2010 at 1:47 PM, Almost George WP-Hackers List <
wp-hackers-list at almostexciting.com> wrote:

> On Thu, Apr 15, 2010 at 2:13 AM, scribu <scribu at gmail.com> wrote:
> > Checking a single meta key value is easy:
> >
> >
> > function check_meta_key($wp_query) {
> >    $wp_query->set('meta_key', 'my_key');
> >    $wp_query->set('meta_value', 'my_value);
> > }
> > do_action('parse_query', 'check_meta_key');
> >
>
> Thanks! Is it possible to use conditionals, like "less than" or "not
> equal to" here? What might that look like?
>


For that, you'll have to use the 'posts_where' filter.

Take a look at how it's done in the Custom Fields Taxonomies plugin which
supports this:

http://wordpress.org/extend/plugins/custom-field-taxonomies/



-- 
http://scribu.net

From christian.foster at gmail.com  Thu Apr 15 17:09:00 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Fri, 16 Apr 2010 03:09:00 +1000
Subject: [wp-hackers] query_posts with custom taxonomy and custom post type
Message-ID: <r2x89a1851d1004151009o9064f3ecyaf1d0ff5e957d2a6@mail.gmail.com>

Hi,

I'm having a bit of trouble getting what I understand should be the
correct functionality out of WP_Query with custom taxonomies and
posts.

This code gets 10 posts of all types that are linked to the term_name;

global $wp_query;
query_posts( array(
    "taxonomy_name" => "term_name",
    'showposts' => 10 )
);

This code gets 10 posts of custom post type "message";

global $wp_query;
query_posts( array(
    'post_type' => 'message'
    'showposts' => 10 )
);

This code however always ignores the post_type requirement but still
selects all post types linked to the term_name;

global $wp_query;
query_posts( array(
    'post_type' => 'message' ,
    "taxonomy_name" => "term_name",
    'showposts' => 10 )
);


From otto at ottodestruct.com  Thu Apr 15 17:40:24 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 15 Apr 2010 12:40:24 -0500
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
	type
In-Reply-To: <r2x89a1851d1004151009o9064f3ecyaf1d0ff5e957d2a6@mail.gmail.com>
References: <r2x89a1851d1004151009o9064f3ecyaf1d0ff5e957d2a6@mail.gmail.com>
Message-ID: <x2n161617691004151040q36aa085br46f064c73eac3ad4@mail.gmail.com>

On Thu, Apr 15, 2010 at 12:09 PM, Christian Foster
<christian.foster at gmail.com> wrote:
> This code however always ignores the post_type requirement but still
> selects all post types linked to the term_name;
>
> global $wp_query;
> query_posts( array(
> ? ?'post_type' => 'message' ,
> ? ?"taxonomy_name" => "term_name",
> ? ?'showposts' => 10 )
> );
>
> From everything I have read the last section of code should work as
> expected - is it incorrect?

The post_type is ignored for taxonomy based queries. See trunk,
query.php, line 2034.

-Otto

From christian.foster at gmail.com  Thu Apr 15 18:08:31 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Fri, 16 Apr 2010 04:08:31 +1000
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
	type
Message-ID: <p2w89a1851d1004151108h89a1452aqd00dc320db717887@mail.gmail.com>

Thanks Otto.

Are there any recommended strategies for achieving the desired result?
I would have thought this would be commonly used (or needed)
functionality, or is it something that will make it into the final
release? I can't think of any solution that will play nice with
wordpress paging and be as simple as possible.

From mpretty at voceconnect.com  Thu Apr 15 18:09:44 2010
From: mpretty at voceconnect.com (Michael Pretty)
Date: Thu, 15 Apr 2010 14:09:44 -0400
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
 type
In-Reply-To: <p2w89a1851d1004151108h89a1452aqd00dc320db717887@mail.gmail.com>
References: <p2w89a1851d1004151108h89a1452aqd00dc320db717887@mail.gmail.com>
Message-ID: <4BC75668.1080202@voceconnect.com>

Submit a ticket (and maybe a patch) to trac.  This shouldn't be this way.

On 4/15/10 2:08 PM, Christian Foster wrote:
> Thanks Otto.
>
> Are there any recommended strategies for achieving the desired result?
> I would have thought this would be commonly used (or needed)
> functionality, or is it something that will make it into the final
> release? I can't think of any solution that will play nice with
> wordpress paging and be as simple as possible.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    


From jbloch at olympianetworks.com  Thu Apr 15 18:11:16 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Thu, 15 Apr 2010 14:11:16 -0400
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
	type
In-Reply-To: <p2w89a1851d1004151108h89a1452aqd00dc320db717887@mail.gmail.com>
References: <p2w89a1851d1004151108h89a1452aqd00dc320db717887@mail.gmail.com>
Message-ID: <A259B1B7-C06D-4006-86A1-A0BC1AEA4E8B@olympianetworks.com>

If you register the taxonomy only for your custom post type, it will only return that post type.

On Apr 15, 2010, at 2:08 PM, Christian Foster wrote:

> Thanks Otto.
> 
> Are there any recommended strategies for achieving the desired result?
> I would have thought this would be commonly used (or needed)
> functionality, or is it something that will make it into the final
> release? I can't think of any solution that will play nice with
> wordpress paging and be as simple as possible.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From christian.foster at gmail.com  Thu Apr 15 18:18:31 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Fri, 16 Apr 2010 04:18:31 +1000
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
	type
Message-ID: <k2v89a1851d1004151118xb0ed2723pa6bb12aeb3693e57@mail.gmail.com>

Will do.

> Submit a ticket (and maybe a patch) to trac.  This shouldn't be this way.

From dougal at gunters.org  Thu Apr 15 19:36:45 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Thu, 15 Apr 2010 15:36:45 -0400
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
 type
In-Reply-To: <4BC75668.1080202@voceconnect.com>
References: <p2w89a1851d1004151108h89a1452aqd00dc320db717887@mail.gmail.com>
	<4BC75668.1080202@voceconnect.com>
Message-ID: <4BC76ACD.4090301@gunters.org>

On Apr 15 2010 2:09 PM, Michael Pretty wrote:
> Submit a ticket (and maybe a patch) to trac.  This shouldn't be this way.
>

I agree. Making a query against custom taxonomy and custom post_type 
shouldn't be mutually exclusive. I think we just need to wrap an 'if' 
around that...

   if ( '' === $post_type ) {
     $post_type = 'any';
   }

That way, if the user has specified a particular post type, it will be 
honored, but it will default to 'any'.

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From christian.foster at gmail.com  Fri Apr 16 04:40:36 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Fri, 16 Apr 2010 14:40:36 +1000
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
	type
Message-ID: <u2v89a1851d1004152140t3c47103bs5d9aedf48babe9c@mail.gmail.com>

Thanks for your help - submitted ticket.

From sutharshan02 at gmail.com  Fri Apr 16 07:16:34 2010
From: sutharshan02 at gmail.com (sutharshan balachandren)
Date: Fri, 16 Apr 2010 12:46:34 +0530
Subject: [wp-hackers] Regarding wp markup language
Message-ID: <h2n3fa40cbc1004160016l3c94392fld8be82915b361ecc@mail.gmail.com>

This may be a stupid question, its just my thought.

When we design themes we are using the php tags and functions in between
them, which make little bit complicated for those who are not an expert in
themes creation. What I'm asking is that, will it be possible to create a
markup language for wp themes to connect this the other php files would be
easy in the designers view.

I know its possible to create new markup language like fbml. But i dont have
a clue how to do such thing. it is very hard to create a markup language?

Can anyone guide me to make new markup language?

thank you.

-- 
with love

Sutharshan

From mikeschinkel at newclarity.net  Fri Apr 16 07:32:46 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 16 Apr 2010 03:32:46 -0400
Subject: [wp-hackers] Regarding wp markup language
In-Reply-To: <h2n3fa40cbc1004160016l3c94392fld8be82915b361ecc@mail.gmail.com>
References: <h2n3fa40cbc1004160016l3c94392fld8be82915b361ecc@mail.gmail.com>
Message-ID: <9B0010E9-B349-4BB2-83ED-B5CB74A5A8A2@newclarity.net>

Hi Sutharshan,

> When we design themes we are using the php tags and functions in between
> them, which make little bit complicated for those who are not an expert in
> themes creation. What I'm asking is that, will it be possible to create a
> markup language for wp themes to connect this the other php files would be
> easy in the designers view.
> 
> I know its possible to create new markup language like fbml. But i dont have
> a clue how to do such thing. it is very hard to create a markup language?
> 
> Can anyone guide me to make new markup language?

I''ve gone back and forth on this issue over the years until finally coming firmly to believe the opinion of Bill Karwin mentioned here:

http://stackoverflow.com/questions/1424268/template-language-vs-straight-php

IMO better to learn PHP than to try to create yet-another-layer that will eventually end up being a bad version of PHP.  What's more, hundreds of tools understand PHP; zero tools understand a new markup language you are proposing to be designed.

FWIW, one thing I wish more WordPress designers would learn to use is HEREDOC syntax when generating HTML and other blocks of text:

HEREDOC: http://www.tuxradar.com/practicalphp/2/6/3

Of course to use HEREDOC would require being able to capture the_content() and the_excerpt() into variables which is currently impossible to do without some custom functions and/or extensions to the core, see:

http://core.trac.wordpress.org/ticket/12976

-Mike


From tyagi.amreesh at gmail.com  Fri Apr 16 07:34:59 2010
From: tyagi.amreesh at gmail.com (Amreesh Tyagi)
Date: Fri, 16 Apr 2010 13:04:59 +0530
Subject: [wp-hackers] wp-hackers Digest, Vol 63, Issue 32
In-Reply-To: <mailman.13.1271332802.28902.wp-hackers@lists.automattic.com>
References: <mailman.13.1271332802.28902.wp-hackers@lists.automattic.com>
Message-ID: <u2o5926405c1004160034k156009c6s86decc39adfb6f5f@mail.gmail.com>

But it would be available online if I integrate it with WP. In that case any
developer or beginner would be able explore the functionality of WP online
and second thing is that the users who use WP for hosting would be able to
edit or modify the plugins directly in plugin editor.

??? Amreesh Tyagi ???

   Message: 4

> Date: Wed, 14 Apr 2010 19:34:44 +0300
> From: scribu <scribu at gmail.com>
> Subject: Re: [wp-hackers] GSoC Idea: VisualPress - A wordpress
>        visualizer
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <t2z349fe48b1004140934n989e982fy22efbc050fa3929a at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> IMO, it would be more useful to create a plugin for a popular IDE, such as
> Eclipse rather than integrating it with WP itself.
>
>
> --
> http://scribu.net
>
>
>

From sutharshan02 at gmail.com  Fri Apr 16 07:39:09 2010
From: sutharshan02 at gmail.com (sutharshan balachandren)
Date: Fri, 16 Apr 2010 13:09:09 +0530
Subject: [wp-hackers] Regarding wp markup language
In-Reply-To: <9B0010E9-B349-4BB2-83ED-B5CB74A5A8A2@newclarity.net>
References: <h2n3fa40cbc1004160016l3c94392fld8be82915b361ecc@mail.gmail.com>
	<9B0010E9-B349-4BB2-83ED-B5CB74A5A8A2@newclarity.net>
Message-ID: <i2n3fa40cbc1004160039mefa52da4o760d480e340e2a9a@mail.gmail.com>

thanks for the details.

 Using the original is better than a creating wrappers.Its sounds good.

On Fri, Apr 16, 2010 at 1:02 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> Hi Sutharshan,
>
> > When we design themes we are using the php tags and functions in between
> > them, which make little bit complicated for those who are not an expert
> in
> > themes creation. What I'm asking is that, will it be possible to create a
> > markup language for wp themes to connect this the other php files would
> be
> > easy in the designers view.
> >
> > I know its possible to create new markup language like fbml. But i dont
> have
> > a clue how to do such thing. it is very hard to create a markup language?
> >
> > Can anyone guide me to make new markup language?
>
> I''ve gone back and forth on this issue over the years until finally coming
> firmly to believe the opinion of Bill Karwin mentioned here:
>
>
> http://stackoverflow.com/questions/1424268/template-language-vs-straight-php
>
> IMO better to learn PHP than to try to create yet-another-layer that will
> eventually end up being a bad version of PHP.  What's more, hundreds of
> tools understand PHP; zero tools understand a new markup language you are
> proposing to be designed.
>
> FWIW, one thing I wish more WordPress designers would learn to use is
> HEREDOC syntax when generating HTML and other blocks of text:
>
> HEREDOC: http://www.tuxradar.com/practicalphp/2/6/3
>
> Of course to use HEREDOC would require being able to capture the_content()
> and the_excerpt() into variables which is currently impossible to do without
> some custom functions and/or extensions to the core, see:
>
> http://core.trac.wordpress.org/ticket/12976
>
> -Mike
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
with love

Sutharshan

From ash at thinkinginvain.com  Fri Apr 16 09:02:59 2010
From: ash at thinkinginvain.com (Ash Goodman)
Date: Fri, 16 Apr 2010 17:02:59 +0800
Subject: [wp-hackers] Re; get_post_meta in widgets
Message-ID: <m2j1d9b57821004160202xfc49e8cah20210a63adab7d14@mail.gmail.com>

Thanks Mike Schinkel and scribu!

From patrik.bona at mrhead.sk  Fri Apr 16 13:22:42 2010
From: patrik.bona at mrhead.sk (=?ISO-8859-1?Q?Patrik_B=F3na?=)
Date: Fri, 16 Apr 2010 15:22:42 +0200
Subject: [wp-hackers] Thumbnail settings when editing image
Message-ID: <4BC864A2.5030007@mrhead.sk>

Hi All,

Currently when i am editing image and there is no thumbnail size 
generated for it then thumbnail box is not shown and i  can not create 
new thumbnail for example with crop feature.

If you are editing image with generated thumbnail it is working as 
expected and you can change just thumbnail.

I have site with a lot of images (custom post types) and i don't want to 
create some "general" thumbnails for each of them because i don't need 
them. I need custom image sizes for each of my post type (posts, 
pictures, videos...) and no general sizes from settings -> media.

So if i turn it off  in settings -> media then i am not able to 
additionally create thumbnail when editing image.

Do you have any idea how can i make som workaround for it ?

What do you think about this ? I would like to have possibility to 
create thumbnail when editing image even if currently there is no 
thumbnail generated for image.

Also it would be great to be able generate any custom image size while 
editing image...

Best regards

Patrik

From jtarleton at jamestarleton.com  Fri Apr 16 13:37:31 2010
From: jtarleton at jamestarleton.com (jtarleton at jamestarleton.com)
Date: Fri, 16 Apr 2010 13:37:31 +0000
Subject: [wp-hackers] wp-hackers Digest, Vol 63, Issue 33
In-Reply-To: <mailman.8338.1271402205.1345.wp-hackers@lists.automattic.com>
References: <mailman.8338.1271402205.1345.wp-hackers@lists.automattic.com>
Message-ID: <1268094707-1271425053-cardhu_decombobulator_blackberry.rim.net-264455496-@bda779.bisx.prod.on.blackberry>

ERFVbNNnr\\HaAQQAaAQQqqqqQQ
Sent via BlackBerry from T-Mobile

-----Original Message-----
From: wp-hackers-request at lists.automattic.com
Date: Fri, 16 Apr 2010 07:16:45 
To: <wp-hackers at lists.automattic.com>
Subject: wp-hackers Digest, Vol 63, Issue 33

Send wp-hackers mailing list submissions to
	wp-hackers at lists.automattic.com

To subscribe or unsubscribe via the World Wide Web, visit
	http://lists.automattic.com/mailman/listinfo/wp-hackers
or, via email, send a message with subject or body 'help' to
	wp-hackers-request at lists.automattic.com

You can reach the person managing the list at
	wp-hackers-owner at lists.automattic.com

When replying, please edit your Subject line so it is more specific
than "Re: Contents of wp-hackers digest..."


Today's Topics:

   1. Re: Using Meta Keys with pre_get_posts ?
      (Almost George WP-Hackers List)
   2. Re: Using Meta Keys with pre_get_posts ? (scribu)
   3. query_posts with custom taxonomy and custom post type
      (Christian Foster)
   4. Re: query_posts with custom taxonomy and custom post	type (Otto)
   5. Re: query_posts with custom taxonomy and custom post	type
      (Christian Foster)
   6. Re: query_posts with custom taxonomy and custom post type
      (Michael Pretty)
   7. Re: query_posts with custom taxonomy and custom post	type
      (John Bloch)
   8. Re: query_posts with custom taxonomy and custom post	type
      (Christian Foster)
   9. Re: query_posts with custom taxonomy and custom post type
      (Dougal Campbell)
  10. Re: query_posts with custom taxonomy and custom post	type
      (Christian Foster)
  11. Regarding wp markup language (sutharshan balachandren)


----------------------------------------------------------------------

Message: 1
Date: Thu, 15 Apr 2010 08:47:03 -0500
From: Almost George WP-Hackers List
	<wp-hackers-list at almostexciting.com>
Subject: Re: [wp-hackers] Using Meta Keys with pre_get_posts ?
To: wp-hackers at lists.automattic.com
Message-ID:
	<i2m59710fc71004150647ld222903odf75605c17f4fa7f at mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

On Thu, Apr 15, 2010 at 2:13 AM, scribu <scribu at gmail.com> wrote:
> Checking a single meta key value is easy:
>
>
> function check_meta_key($wp_query) {
> ? ?$wp_query->set('meta_key', 'my_key');
> ? ?$wp_query->set('meta_value', 'my_value);
> }
> do_action('parse_query', 'check_meta_key');
>

Thanks! Is it possible to use conditionals, like "less than" or "not
equal to" here? What might that look like?


------------------------------

Message: 2
Date: Thu, 15 Apr 2010 15:42:43 +0000
From: scribu <scribu at gmail.com>
Subject: Re: [wp-hackers] Using Meta Keys with pre_get_posts ?
To: wp-hackers at lists.automattic.com
Message-ID:
	<h2h349fe48b1004150842ya597bb04pf365fdc9633351ad at mail.gmail.com>
Content-Type: text/plain; charset=UTF-8

On Thu, Apr 15, 2010 at 1:47 PM, Almost George WP-Hackers List <
wp-hackers-list at almostexciting.com> wrote:

> On Thu, Apr 15, 2010 at 2:13 AM, scribu <scribu at gmail.com> wrote:
> > Checking a single meta key value is easy:
> >
> >
> > function check_meta_key($wp_query) {
> >    $wp_query->set('meta_key', 'my_key');
> >    $wp_query->set('meta_value', 'my_value);
> > }
> > do_action('parse_query', 'check_meta_key');
> >
>
> Thanks! Is it possible to use conditionals, like "less than" or "not
> equal to" here? What might that look like?
>


For that, you'll have to use the 'posts_where' filter.

Take a look at how it's done in the Custom Fields Taxonomies plugin which
supports this:

http://wordpress.org/extend/plugins/custom-field-taxonomies/



-- 
http://scribu.net


------------------------------

Message: 3
Date: Fri, 16 Apr 2010 03:09:00 +1000
From: Christian Foster <christian.foster at gmail.com>
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
	type
To: wp-hackers at lists.automattic.com
Message-ID:
	<r2x89a1851d1004151009o9064f3ecyaf1d0ff5e957d2a6 at mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I'm having a bit of trouble getting what I understand should be the
correct functionality out of WP_Query with custom taxonomies and
posts.

This code gets 10 posts of all types that are linked to the term_name;

global $wp_query;
query_posts( array(
    "taxonomy_name" => "term_name",
    'showposts' => 10 )
);

This code gets 10 posts of custom post type "message";

global $wp_query;
query_posts( array(
    'post_type' => 'message'
    'showposts' => 10 )
);

This code however always ignores the post_type requirement but still
selects all post types linked to the term_name;

global $wp_query;
query_posts( array(
    'post_type' => 'message' ,
    "taxonomy_name" => "term_name",
    'showposts' => 10 )
);

>From everything I have read the last section of code should work as
expected - is it incorrect?

Regards,

Chris.


------------------------------

Message: 4
Date: Thu, 15 Apr 2010 12:40:24 -0500
From: Otto <otto at ottodestruct.com>
Subject: Re: [wp-hackers] query_posts with custom taxonomy and custom
	post	type
To: wp-hackers at lists.automattic.com
Message-ID:
	<x2n161617691004151040q36aa085br46f064c73eac3ad4 at mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

On Thu, Apr 15, 2010 at 12:09 PM, Christian Foster
<christian.foster at gmail.com> wrote:
> This code however always ignores the post_type requirement but still
> selects all post types linked to the term_name;
>
> global $wp_query;
> query_posts( array(
> ? ?'post_type' => 'message' ,
> ? ?"taxonomy_name" => "term_name",
> ? ?'showposts' => 10 )
> );
>
> From everything I have read the last section of code should work as
> expected - is it incorrect?

The post_type is ignored for taxonomy based queries. See trunk,
query.php, line 2034.

-Otto


------------------------------

Message: 5
Date: Fri, 16 Apr 2010 04:08:31 +1000
From: Christian Foster <christian.foster at gmail.com>
Subject: Re: [wp-hackers] query_posts with custom taxonomy and custom
	post	type
To: wp-hackers at lists.automattic.com
Message-ID:
	<p2w89a1851d1004151108h89a1452aqd00dc320db717887 at mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

Thanks Otto.

Are there any recommended strategies for achieving the desired result?
I would have thought this would be commonly used (or needed)
functionality, or is it something that will make it into the final
release? I can't think of any solution that will play nice with
wordpress paging and be as simple as possible.


------------------------------

Message: 6
Date: Thu, 15 Apr 2010 14:09:44 -0400
From: Michael Pretty <mpretty at voceconnect.com>
Subject: Re: [wp-hackers] query_posts with custom taxonomy and custom
	post type
To: wp-hackers at lists.automattic.com
Cc: Christian Foster <christian.foster at gmail.com>
Message-ID: <4BC75668.1080202 at voceconnect.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Submit a ticket (and maybe a patch) to trac.  This shouldn't be this way.

On 4/15/10 2:08 PM, Christian Foster wrote:
> Thanks Otto.
>
> Are there any recommended strategies for achieving the desired result?
> I would have thought this would be commonly used (or needed)
> functionality, or is it something that will make it into the final
> release? I can't think of any solution that will play nice with
> wordpress paging and be as simple as possible.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    



------------------------------

Message: 7
Date: Thu, 15 Apr 2010 14:11:16 -0400
From: John Bloch <jbloch at olympianetworks.com>
Subject: Re: [wp-hackers] query_posts with custom taxonomy and custom
	post	type
To: wp-hackers at lists.automattic.com
Message-ID: <A259B1B7-C06D-4006-86A1-A0BC1AEA4E8B at olympianetworks.com>
Content-Type: text/plain; charset=us-ascii

If you register the taxonomy only for your custom post type, it will only return that post type.

On Apr 15, 2010, at 2:08 PM, Christian Foster wrote:

> Thanks Otto.
> 
> Are there any recommended strategies for achieving the desired result?
> I would have thought this would be commonly used (or needed)
> functionality, or is it something that will make it into the final
> release? I can't think of any solution that will play nice with
> wordpress paging and be as simple as possible.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



------------------------------

Message: 8
Date: Fri, 16 Apr 2010 04:18:31 +1000
From: Christian Foster <christian.foster at gmail.com>
Subject: Re: [wp-hackers] query_posts with custom taxonomy and custom
	post	type
To: wp-hackers at lists.automattic.com
Message-ID:
	<k2v89a1851d1004151118xb0ed2723pa6bb12aeb3693e57 at mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

Will do.

> Submit a ticket (and maybe a patch) to trac.  This shouldn't be this way.


------------------------------

Message: 9
Date: Thu, 15 Apr 2010 15:36:45 -0400
From: Dougal Campbell <dougal at gunters.org>
Subject: Re: [wp-hackers] query_posts with custom taxonomy and custom
	post type
To: wp-hackers at lists.automattic.com
Message-ID: <4BC76ACD.4090301 at gunters.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

On Apr 15 2010 2:09 PM, Michael Pretty wrote:
> Submit a ticket (and maybe a patch) to trac.  This shouldn't be this way.
>

I agree. Making a query against custom taxonomy and custom post_type 
shouldn't be mutually exclusive. I think we just need to wrap an 'if' 
around that...

   if ( '' === $post_type ) {
     $post_type = 'any';
   }

That way, if the user has specified a particular post type, it will be 
honored, but it will default to 'any'.

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/


------------------------------

Message: 10
Date: Fri, 16 Apr 2010 14:40:36 +1000
From: Christian Foster <christian.foster at gmail.com>
Subject: Re: [wp-hackers] query_posts with custom taxonomy and custom
	post	type
To: wp-hackers at lists.automattic.com
Message-ID:
	<u2v89a1851d1004152140t3c47103bs5d9aedf48babe9c at mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

Thanks for your help - submitted ticket.


------------------------------

Message: 11
Date: Fri, 16 Apr 2010 12:46:34 +0530
From: sutharshan balachandren <sutharshan02 at gmail.com>
Subject: [wp-hackers] Regarding wp markup language
To: wp-hackers at lists.automattic.com
Message-ID:
	<h2n3fa40cbc1004160016l3c94392fld8be82915b361ecc at mail.gmail.com>
Content-Type: text/plain; charset=UTF-8

This may be a stupid question, its just my thought.

When we design themes we are using the php tags and functions in between
them, which make little bit complicated for those who are not an expert in
themes creation. What I'm asking is that, will it be possible to create a
markup language for wp themes to connect this the other php files would be
easy in the designers view.

I know its possible to create new markup language like fbml. But i dont have
a clue how to do such thing. it is very hard to create a markup language?

Can anyone guide me to make new markup language?

thank you.

-- 
with love

Sutharshan


------------------------------

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


End of wp-hackers Digest, Vol 63, Issue 33
******************************************

From jer at simianuprising.com  Sat Apr 17 17:04:49 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Sat, 17 Apr 2010 13:04:49 -0400
Subject: [wp-hackers] Regarding wp markup language
In-Reply-To: <i2n3fa40cbc1004160039mefa52da4o760d480e340e2a9a@mail.gmail.com>
References: <h2n3fa40cbc1004160016l3c94392fld8be82915b361ecc@mail.gmail.com>
	<9B0010E9-B349-4BB2-83ED-B5CB74A5A8A2@newclarity.net>
	<i2n3fa40cbc1004160039mefa52da4o760d480e340e2a9a@mail.gmail.com>
Message-ID: <j2ze1202cb11004171004i21588b72y30eeba9a23fa4c2d@mail.gmail.com>

I think we can all agree that the template tags system WP uses, which
mixes php with html using the normal <?php ?> tags is not a terrible
one, if only because WP is so damn popular with so many kinds of
people. Further, when working in an environment like WP you're
probably better off using the standard practice even if it weren't the
best one imaginable.

FWIW I think "WPML" does already exist in the form of the template
tags. Yes, they are PHP functions, but at the same time they have been
crafted with the user in mind and specifically with templating in
mind. We take for granted (or maybe curse) "The Loop" and its assumed
global $post; in all of the the_* and get_the_* functions, but that is
not an accident. It is a conscious effort to make calling the display
functions as simple as possible within the context of raw PHP,
specifically by removing the need to pass in arguments whenever
possible.

The only things that aren't dead-simple to insert into themes are the
stuff that would be super-complicated to do even with a markup
language, the loop itself. In my case I write wrapper functions for
that stuff then call it in the templates, stuff like
gv_display_post_archive() or gv_display_recent_headlines(). IMHO that
is an area where WP has room to improve: it should offer default loop
etc functions that can be overridden by themers in functions.php or
plugins, similar to how the Comments system works now. I saw a trac
ticket in this vein at some point but can't find it now.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From elizabeth at slatetechpdx.com  Sat Apr 17 18:04:57 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Sat, 17 Apr 2010 11:04:57 -0700
Subject: [wp-hackers] hehe
Message-ID: <g2yc399ae881004171104mf68ee5b0ied458a4d842aa45b@mail.gmail.com>

On Sat, Apr 17, 2010 at 5:00 AM,
<wp-hackers-request at lists.automattic.com> wrote:

>
> Today's Topics:
> ? 2. Re: wp-hackers Digest, Vol 63, Issue 33
> ? ? ?(jtarleton at jamestarleton.com)
> ------------------------------
>
> Message: 2
> Date: Fri, 16 Apr 2010 13:37:31 +0000
> From: jtarleton at jamestarleton.com
> Subject: Re: [wp-hackers] wp-hackers Digest, Vol 63, Issue 33
> To: wp-hackers at lists.automattic.com
> Message-ID:
> ? ? ? ?<1268094707-1271425053-cardhu_decombobulator_blackberry.rim.net-264455496- at bda779.bisx.prod.on.blackberry>
>
> Content-Type: text/plain
>
> ERFVbNNnr\\HaAQQAaAQQqqqqQQ
> Sent via BlackBerry from T-Mobile
>
> -----Original Message-----
> From: wp-hackers-request at lists.automattic.com
> Date: Fri, 16 Apr 2010 07:16:45
> To: <wp-hackers at lists.automattic.com>
> Subject: wp-hackers Digest, Vol 63, Issue 33

[snip]

Methinks someone has small children.  I was shocked when my 1.2 yr old
figured out how to unlock my iPhone.  Hope nothing's deleted!

-- 
Thanks,
Elizabeth Buckwalter

From christian.foster at gmail.com  Sat Apr 17 19:10:34 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Sun, 18 Apr 2010 05:10:34 +1000
Subject: [wp-hackers] URL structure for web application with wp
Message-ID: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>

Hi all,

This has been driving me mad for a couple of days now and I was hoping
for some suggestions or ideas. Apologies for the long question but I
am really looking for the best possible (and most Wordpress-like) way
to set this up.

I'm building a basic project management system. This is the setup:

Custom post types: Project, Milestone, Task, Message
Taxonomies: Projects, Task List, Message Categories

Obviously this app needs to be project-centric - so whatever post,
archive or taxonomy we're viewing generally it should relate to a
project. So - all post types are linked to a project via a term in the
projects taxonomy that has the same name as 1 project.

Example: Project 1 (post type project) is linked to term "Project 1"
from the projects taxonomy. Message 1...Message 10 are also linked via
term "Project 1" in Projects taxonomy.

Therefore when viewing any individual post, we can check the term
they're linked to in the "Projects" taxonomy and find out which
project we are talking about. But, when viewing an archive we have no
way to reference which project is being referenced unless we put
something in the URL (or set a session variable which I also played
with).

Basecamp uses this style:

/projects/id/ - project single
/projects/id/messages/ - messages archive
/projects/id/messages/id - message single

Wordpress is using
/project/id - project single
/projects/term - archive for all posts with project term
/message/id - message single (we check project term to get which
project it's linked to)

So - what do people think the best way of structuring the app might
be? Here are what I see as the options at the moment:

1. Create pages as so
/projects/project-id
/projects/messages/project-id
/projects/tasks/project-id

Create custom rewrite rules, stick a project id on the end of the url
on all of the above and then do custom page templates to look up and
display the correct posts. Or some variation of URL rewriting and
pages with custom templates.

2. Try to achieve functionality like categories where project is a
category and we can link all post types into it and get the same style
of paths:
/projects/project-slug/task-name
/projects/project-slug/message-name
/projects/project-slug/project-name

Wordpress is rewriting all custom post types as /post-type/slug at the
moment, so I am not sure if this is achievable.

3. Some other solution using sessions to set the current project and
then relating all queries to that project.

Having written all of that I guess any of those options would do, I'm
just not quite able to get a neat and tidy solution out though - any
ideas would be appreciated.

Chris.

From bmbalex at gmail.com  Sat Apr 17 19:31:07 2010
From: bmbalex at gmail.com (Bumbu Alex)
Date: Sat, 17 Apr 2010 22:31:07 +0300
Subject: [wp-hackers] URL structure for web application with wp
In-Reply-To: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
References: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
Message-ID: <k2p13f1fbc61004171231i6f22c269pffde6a2f52c8db38@mail.gmail.com>

hi, I am also interested in this topic, and right now I am also working
around structure of another projects management but with some additional
stuff because it is for a group of students in which I am. And my component
will be done on Joomla because all the thing of group are done on it. But
still we can try to share our thoughts to elaborate some more
general/stable/wanted structure.

about structuring - the best way how I see is first:

/projects/project-id
/projects/messages/project-id
/projects/tasks/project-id

or maybe something like this (seems to be like Basecamp):

/projects/project-id
/projects/project-id/messages
/projects/project-id/message/message-id
/projects/project-id/tasks
/projects/project-id/tasks/task-id

so you are welcome to share all your thoughts with us here : )

From charles at cefm.ca  Sat Apr 17 19:40:34 2010
From: charles at cefm.ca (Charles Frees-Melvin)
Date: Sat, 17 Apr 2010 16:40:34 -0300
Subject: [wp-hackers] URL structure for web application with wp
In-Reply-To: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
References: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
Message-ID: <DD0265A2-05CC-4EF6-8C1D-CD66ED9C6562@cefm.ca>

I think you are running into a complexity/limitation of WordPress.  
That a taxonomy cannot have meta.

For example I've been using Wordpress for my photo album. And have  
been running into the issue that I cannot have a link meta to say that  
ID 55 of the people tax is user 14. Or I cannot link a thumbnail to a  
category or tag or tax. I think that this would be the next move to  
make your project simpler.

--
Charles E. Frees-Melvin
charles at cefm.ca
www.cefm.ca
506-640-1007

Sent from my iPhone

On 2010-04-17, at 16:10, Christian Foster <christian.foster at gmail.com>  
wrote:

> Hi all,
>
> This has been driving me mad for a couple of days now and I was hoping
> for some suggestions or ideas. Apologies for the long question but I
> am really looking for the best possible (and most Wordpress-like) way
> to set this up.
>
> I'm building a basic project management system. This is the setup:
>
> Custom post types: Project, Milestone, Task, Message
> Taxonomies: Projects, Task List, Message Categories
>
> Obviously this app needs to be project-centric - so whatever post,
> archive or taxonomy we're viewing generally it should relate to a
> project. So - all post types are linked to a project via a term in the
> projects taxonomy that has the same name as 1 project.
>
> Example: Project 1 (post type project) is linked to term "Project 1"
> from the projects taxonomy. Message 1...Message 10 are also linked via
> term "Project 1" in Projects taxonomy.
>
> Therefore when viewing any individual post, we can check the term
> they're linked to in the "Projects" taxonomy and find out which
> project we are talking about. But, when viewing an archive we have no
> way to reference which project is being referenced unless we put
> something in the URL (or set a session variable which I also played
> with).
>
> Basecamp uses this style:
>
> /projects/id/ - project single
> /projects/id/messages/ - messages archive
> /projects/id/messages/id - message single
>
> Wordpress is using
> /project/id - project single
> /projects/term - archive for all posts with project term
> /message/id - message single (we check project term to get which
> project it's linked to)
>
> So - what do people think the best way of structuring the app might
> be? Here are what I see as the options at the moment:
>
> 1. Create pages as so
> /projects/project-id
> /projects/messages/project-id
> /projects/tasks/project-id
>
> Create custom rewrite rules, stick a project id on the end of the url
> on all of the above and then do custom page templates to look up and
> display the correct posts. Or some variation of URL rewriting and
> pages with custom templates.
>
> 2. Try to achieve functionality like categories where project is a
> category and we can link all post types into it and get the same style
> of paths:
> /projects/project-slug/task-name
> /projects/project-slug/message-name
> /projects/project-slug/project-name
>
> Wordpress is rewriting all custom post types as /post-type/slug at the
> moment, so I am not sure if this is achievable.
>
> 3. Some other solution using sessions to set the current project and
> then relating all queries to that project.
>
> Having written all of that I guess any of those options would do, I'm
> just not quite able to get a neat and tidy solution out though - any
> ideas would be appreciated.
>
> Chris.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From christian.foster at gmail.com  Sat Apr 17 19:41:25 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Sun, 18 Apr 2010 05:41:25 +1000
Subject: [wp-hackers] URL structure for web application with wp
In-Reply-To: <k2p13f1fbc61004171231i6f22c269pffde6a2f52c8db38@mail.gmail.com>
References: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
	<k2p13f1fbc61004171231i6f22c269pffde6a2f52c8db38@mail.gmail.com>
Message-ID: <o2j89a1851d1004171241g9f46292br9b3196f5de44a0b9@mail.gmail.com>

This would seem a good idea to me - but it looks like it would involve
lots of messing around with URL rewriting (regular expressions melt my
brain).

I think part of the problem is that there are almost too many ways to
access stuff through WP (date, author, tag, term, single etc etc),
maybe the answer lies in being able to restrict down the URLS only to
those that you need?

On Sun, Apr 18, 2010 at 5:31 AM, Bumbu Alex <bmbalex at gmail.com> wrote:
> hi, I am also interested in this topic, and right now I am also working
> around structure of another projects management but with some additional
> stuff because it is for a group of students in which I am. And my component
> will be done on Joomla because all the thing of group are done on it. But
> still we can try to share our thoughts to elaborate some more
> general/stable/wanted structure.
>
> about structuring - the best way how I see is first:
>
> /projects/project-id
> /projects/messages/project-id
> /projects/tasks/project-id
>
> or maybe something like this (seems to be like Basecamp):
>
> /projects/project-id
> /projects/project-id/messages
> /projects/project-id/message/message-id
> /projects/project-id/tasks
> /projects/project-id/tasks/task-id
>
> so you are welcome to share all your thoughts with us here : )
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From christian.foster at gmail.com  Sat Apr 17 19:50:48 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Sun, 18 Apr 2010 05:50:48 +1000
Subject: [wp-hackers] URL structure for web application with wp
In-Reply-To: <DD0265A2-05CC-4EF6-8C1D-CD66ED9C6562@cefm.ca>
References: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
	<DD0265A2-05CC-4EF6-8C1D-CD66ED9C6562@cefm.ca>
Message-ID: <v2i89a1851d1004171250z195b93cfu44f3c1d80a54712a@mail.gmail.com>

Hi Charles,

I think you're right - and so what I am doing at the moment is
creating a taxonomy and a post type for many things and then making
convoluted links between them (the post type only being necessary to
store extra information about the terms in the taxonomy). I'm guessing
that term meta might be included at some point, it would make building
more complex things out of wordpress easier.

On Sun, Apr 18, 2010 at 5:40 AM, Charles Frees-Melvin <charles at cefm.ca> wrote:
> I think you are running into a complexity/limitation of WordPress. That a
> taxonomy cannot have meta.
>
> For example I've been using Wordpress for my photo album. And have been
> running into the issue that I cannot have a link meta to say that ID 55 of
> the people tax is user 14. Or I cannot link a thumbnail to a category or tag
> or tax. I think that this would be the next move to make your project
> simpler.
>
> --
> Charles E. Frees-Melvin
> charles at cefm.ca
> www.cefm.ca
> 506-640-1007
>
> Sent from my iPhone
>
> On 2010-04-17, at 16:10, Christian Foster <christian.foster at gmail.com>
> wrote:
>
>> Hi all,
>>
>> This has been driving me mad for a couple of days now and I was hoping
>> for some suggestions or ideas. Apologies for the long question but I
>> am really looking for the best possible (and most Wordpress-like) way
>> to set this up.
>>
>> I'm building a basic project management system. This is the setup:
>>
>> Custom post types: Project, Milestone, Task, Message
>> Taxonomies: Projects, Task List, Message Categories
>>
>> Obviously this app needs to be project-centric - so whatever post,
>> archive or taxonomy we're viewing generally it should relate to a
>> project. So - all post types are linked to a project via a term in the
>> projects taxonomy that has the same name as 1 project.
>>
>> Example: Project 1 (post type project) is linked to term "Project 1"
>> from the projects taxonomy. Message 1...Message 10 are also linked via
>> term "Project 1" in Projects taxonomy.
>>
>> Therefore when viewing any individual post, we can check the term
>> they're linked to in the "Projects" taxonomy and find out which
>> project we are talking about. But, when viewing an archive we have no
>> way to reference which project is being referenced unless we put
>> something in the URL (or set a session variable which I also played
>> with).
>>
>> Basecamp uses this style:
>>
>> /projects/id/ - project single
>> /projects/id/messages/ - messages archive
>> /projects/id/messages/id - message single
>>
>> Wordpress is using
>> /project/id - project single
>> /projects/term - archive for all posts with project term
>> /message/id - message single (we check project term to get which
>> project it's linked to)
>>
>> So - what do people think the best way of structuring the app might
>> be? Here are what I see as the options at the moment:
>>
>> 1. Create pages as so
>> /projects/project-id
>> /projects/messages/project-id
>> /projects/tasks/project-id
>>
>> Create custom rewrite rules, stick a project id on the end of the url
>> on all of the above and then do custom page templates to look up and
>> display the correct posts. Or some variation of URL rewriting and
>> pages with custom templates.
>>
>> 2. Try to achieve functionality like categories where project is a
>> category and we can link all post types into it and get the same style
>> of paths:
>> /projects/project-slug/task-name
>> /projects/project-slug/message-name
>> /projects/project-slug/project-name
>>
>> Wordpress is rewriting all custom post types as /post-type/slug at the
>> moment, so I am not sure if this is achievable.
>>
>> 3. Some other solution using sessions to set the current project and
>> then relating all queries to that project.
>>
>> Having written all of that I guess any of those options would do, I'm
>> just not quite able to get a neat and tidy solution out though - any
>> ideas would be appreciated.
>>
>> Chris.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From christian.foster at gmail.com  Sat Apr 17 19:59:18 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Sun, 18 Apr 2010 05:59:18 +1000
Subject: [wp-hackers] URL structure for web application with wp
In-Reply-To: <DD0265A2-05CC-4EF6-8C1D-CD66ED9C6562@cefm.ca>
References: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
	<DD0265A2-05CC-4EF6-8C1D-CD66ED9C6562@cefm.ca>
Message-ID: <h2p89a1851d1004171259z6ebabab5nb728871a171dc1d1@mail.gmail.com>

http://wordpress.org/extend/plugins/taxonomy-metadata/

This looks like it is done in a pretty clean way, I think I will try it out.

On Sun, Apr 18, 2010 at 5:40 AM, Charles Frees-Melvin <charles at cefm.ca> wrote:
> I think you are running into a complexity/limitation of WordPress. That a
> taxonomy cannot have meta.
>
> For example I've been using Wordpress for my photo album. And have been
> running into the issue that I cannot have a link meta to say that ID 55 of
> the people tax is user 14. Or I cannot link a thumbnail to a category or tag
> or tax. I think that this would be the next move to make your project
> simpler.
>
> --
> Charles E. Frees-Melvin
> charles at cefm.ca
> www.cefm.ca
> 506-640-1007
>
> Sent from my iPhone
>
> On 2010-04-17, at 16:10, Christian Foster <christian.foster at gmail.com>
> wrote:
>
>> Hi all,
>>
>> This has been driving me mad for a couple of days now and I was hoping
>> for some suggestions or ideas. Apologies for the long question but I
>> am really looking for the best possible (and most Wordpress-like) way
>> to set this up.
>>
>> I'm building a basic project management system. This is the setup:
>>
>> Custom post types: Project, Milestone, Task, Message
>> Taxonomies: Projects, Task List, Message Categories
>>
>> Obviously this app needs to be project-centric - so whatever post,
>> archive or taxonomy we're viewing generally it should relate to a
>> project. So - all post types are linked to a project via a term in the
>> projects taxonomy that has the same name as 1 project.
>>
>> Example: Project 1 (post type project) is linked to term "Project 1"
>> from the projects taxonomy. Message 1...Message 10 are also linked via
>> term "Project 1" in Projects taxonomy.
>>
>> Therefore when viewing any individual post, we can check the term
>> they're linked to in the "Projects" taxonomy and find out which
>> project we are talking about. But, when viewing an archive we have no
>> way to reference which project is being referenced unless we put
>> something in the URL (or set a session variable which I also played
>> with).
>>
>> Basecamp uses this style:
>>
>> /projects/id/ - project single
>> /projects/id/messages/ - messages archive
>> /projects/id/messages/id - message single
>>
>> Wordpress is using
>> /project/id - project single
>> /projects/term - archive for all posts with project term
>> /message/id - message single (we check project term to get which
>> project it's linked to)
>>
>> So - what do people think the best way of structuring the app might
>> be? Here are what I see as the options at the moment:
>>
>> 1. Create pages as so
>> /projects/project-id
>> /projects/messages/project-id
>> /projects/tasks/project-id
>>
>> Create custom rewrite rules, stick a project id on the end of the url
>> on all of the above and then do custom page templates to look up and
>> display the correct posts. Or some variation of URL rewriting and
>> pages with custom templates.
>>
>> 2. Try to achieve functionality like categories where project is a
>> category and we can link all post types into it and get the same style
>> of paths:
>> /projects/project-slug/task-name
>> /projects/project-slug/message-name
>> /projects/project-slug/project-name
>>
>> Wordpress is rewriting all custom post types as /post-type/slug at the
>> moment, so I am not sure if this is achievable.
>>
>> 3. Some other solution using sessions to set the current project and
>> then relating all queries to that project.
>>
>> Having written all of that I guess any of those options would do, I'm
>> just not quite able to get a neat and tidy solution out though - any
>> ideas would be appreciated.
>>
>> Chris.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From hal at burgiss.net  Sat Apr 17 20:02:56 2010
From: hal at burgiss.net (Hal Burgiss)
Date: Sat, 17 Apr 2010 16:02:56 -0400
Subject: [wp-hackers] URL structure for web application with wp
In-Reply-To: <v2i89a1851d1004171250z195b93cfu44f3c1d80a54712a@mail.gmail.com>
References: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
	<DD0265A2-05CC-4EF6-8C1D-CD66ED9C6562@cefm.ca>
	<v2i89a1851d1004171250z195b93cfu44f3c1d80a54712a@mail.gmail.com>
Message-ID: <j2y962301c31004171302pc1d6c991q40f09872ef7790c4@mail.gmail.com>

On Sat, Apr 17, 2010 at 3:50 PM, Christian Foster
<christian.foster at gmail.com> wrote:
> Hi Charles,
>
> I think you're right - and so what I am doing at the moment is
> creating a taxonomy and a post type for many things and then making
> convoluted links between them (the post type only being necessary to
> store extra information about the terms in the taxonomy). I'm guessing
> that term meta might be included at some point, it would make building
> more complex things out of wordpress easier.

You might look at the pods cms plugin. It has similar functionality to
custom post types, but gives you more control over the url/routing.
You can create a class that extends pods, then define the url path
that will be fed through to your custom class. So something like
'/projects/*', and then you handle the rest with your code however you
like.

-- 
Hal

From bmbalex at gmail.com  Sat Apr 17 20:25:19 2010
From: bmbalex at gmail.com (Bumbu Alex)
Date: Sat, 17 Apr 2010 23:25:19 +0300
Subject: [wp-hackers] [GSoC] Comment Moderation
In-Reply-To: <t2o161617691004090815z215992b7u821abad10583f037@mail.gmail.com>
References: <4BBE4605.80709@gmail.com>
	<t2o161617691004090815z215992b7u821abad10583f037@mail.gmail.com>
Message-ID: <k2v13f1fbc61004171325ia63cd4a2p79b2b19f731ba2c5@mail.gmail.com>

little update for list of todos (some of then got from Eitan Adler thread):


   - When threaded comments are enabled they are displayed when moderating
   individual posts comments.
   - Allow comment re-parenting.
   - Support should also be added to the XML-RPC api to allow an external
   app to implement similar functionality.
   - In case of deleting comment which have child comments - ask user if
   delete them, or re-parent them.
   - Allow re-parenting using Drag & Drop in places like post editor.
   - Create api for changing parent of comment, request all sub-comments and
   other needed stuff.
   - Add threaded comments to comments in moderation (more about UI)
   - Warn(change background of comment row or smth else) moderator/admin if
   there is post of unlogged user with the same email as registered user and
   give ability to change the author from unlogged to those registered who own
   this email.

From scribu at gmail.com  Sat Apr 17 21:25:13 2010
From: scribu at gmail.com (scribu)
Date: Sun, 18 Apr 2010 00:25:13 +0300
Subject: [wp-hackers] Regarding wp markup language
In-Reply-To: <j2ze1202cb11004171004i21588b72y30eeba9a23fa4c2d@mail.gmail.com>
References: <h2n3fa40cbc1004160016l3c94392fld8be82915b361ecc@mail.gmail.com>
	<9B0010E9-B349-4BB2-83ED-B5CB74A5A8A2@newclarity.net>
	<i2n3fa40cbc1004160039mefa52da4o760d480e340e2a9a@mail.gmail.com>
	<j2ze1202cb11004171004i21588b72y30eeba9a23fa4c2d@mail.gmail.com>
Message-ID: <q2y349fe48b1004171425j33c5bd48j8e120b6405e44efe@mail.gmail.com>

On Sat, Apr 17, 2010 at 8:04 PM, Jeremy Clarke <jer at simianuprising.com>wrote:

> The only things that aren't dead-simple to insert into themes are the
> stuff that would be super-complicated to do even with a markup
> language, the loop itself. In my case I write wrapper functions for
> that stuff then call it in the templates, stuff like
> gv_display_post_archive() or gv_display_recent_headlines(). IMHO that
> is an area where WP has room to improve: it should offer default loop
> etc functions that can be overridden by themers in functions.php or
> plugins, similar to how the Comments system works now. I saw a trac
> ticket in this vein at some point but can't find it now.
>


You're probably thinking of Modular themes: Apply template hierarchy to
folders within a theme <http://core.trac.wordpress.org/ticket/12877>


-- 
http://scribu.net

From scribu at gmail.com  Sat Apr 17 21:31:43 2010
From: scribu at gmail.com (scribu)
Date: Sun, 18 Apr 2010 00:31:43 +0300
Subject: [wp-hackers] URL structure for web application with wp
In-Reply-To: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
References: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
Message-ID: <j2x349fe48b1004171431q84888d03v65b9c99d97d5fdc2@mail.gmail.com>

To link posts to other posts, I would use a posts2posts table, instead of
the taxonomy system: fewer tables => better performance, easier to maintain
consistency.


On Sat, Apr 17, 2010 at 10:10 PM, Christian Foster <
christian.foster at gmail.com> wrote:

> 2. Try to achieve functionality like categories where project is a
> category and we can link all post types into it and get the same style
> of paths:
> /projects/project-slug/task-name
> /projects/project-slug/message-name
> /projects/project-slug/project-name
>
> Wordpress is rewriting all custom post types as /post-type/slug at the
> moment, so I am not sure if this is achievable.
>

When defining the post type, you can set 'rewrite' => false and then
manually add whatever rewrite rules you want.


-- 
http://scribu.net

From mikeschinkel at newclarity.net  Sat Apr 17 23:08:22 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 17 Apr 2010 19:08:22 -0400
Subject: [wp-hackers] Regarding wp markup language
In-Reply-To: <j2ze1202cb11004171004i21588b72y30eeba9a23fa4c2d@mail.gmail.com>
References: <h2n3fa40cbc1004160016l3c94392fld8be82915b361ecc@mail.gmail.com>
	<9B0010E9-B349-4BB2-83ED-B5CB74A5A8A2@newclarity.net>
	<i2n3fa40cbc1004160039mefa52da4o760d480e340e2a9a@mail.gmail.com>
	<j2ze1202cb11004171004i21588b72y30eeba9a23fa4c2d@mail.gmail.com>
Message-ID: <9847379C-C4D3-47B6-A229-C3770B05AEAA@newclarity.net>

On Apr 17, 2010, at 1:04 PM, Jeremy Clarke wrote:
> that is an area where WP has room to improve: it should offer default loop
> etc functions that can be overridden by themers in functions.php or
> plugins, similar to how the Comments system works now. I saw a trac
> ticket in this vein at some point but can't find it now.


+1

-Mike

From mikeschinkel at newclarity.net  Sat Apr 17 23:59:02 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 17 Apr 2010 19:59:02 -0400
Subject: [wp-hackers] URL structure for web application with wp
In-Reply-To: <j2x349fe48b1004171431q84888d03v65b9c99d97d5fdc2@mail.gmail.com>
References: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
	<j2x349fe48b1004171431q84888d03v65b9c99d97d5fdc2@mail.gmail.com>
Message-ID: <C8DC9EEB-3DA5-4239-8A01-A44E107BEF7F@newclarity.net>

On Apr 17, 2010, at 3:10 PM, Christian Foster wrote:
> I'm building a basic project management system. This is the setup:
> 
> Custom post types: Project, Milestone, Task, Message
> Taxonomies: Projects, Task List, Message Categories
> 
> Obviously this app needs to be project-centric - so whatever post,
> archive or taxonomy we're viewing generally it should relate to a
> project. So - all post types are linked to a project via a term in the
> projects taxonomy that has the same name as 1 project.
> 
> Example: Project 1 (post type project) is linked to term "Project 1"
> from the projects taxonomy. Message 1...Message 10 are also linked via
> term "Project 1" in Projects taxonomy.
> 
> Therefore when viewing any individual post, we can check the term
> they're linked to in the "Projects" taxonomy and find out which
> project we are talking about. But, when viewing an archive we have no
> way to reference which project is being referenced unless we put
> something in the URL (or set a session variable which I also played
> with).
> 
> So - what do people think the best way of structuring the app might
> be? Here are what I see as the options at the moment:
> 
> 1. Create pages as so
> /projects/project-id
> /projects/messages/project-id
> /projects/tasks/project-id
> 
> Create custom rewrite rules, stick a project id on the end of the url
> on all of the above and then do custom page templates to look up and
> display the correct posts. Or some variation of URL rewriting and
> pages with custom templates.
> 
> 2. Try to achieve functionality like categories where project is a
> category and we can link all post types into it and get the same style
> of paths:
> /projects/project-slug/task-name
> /projects/project-slug/message-name
> /projects/project-slug/project-name
> 
> Wordpress is rewriting all custom post types as /post-type/slug at the
> moment, so I am not sure if this is achievable.
> 
> 3. Some other solution using sessions to set the current project and
> then relating all queries to that project.
> 
> Having written all of that I guess any of those options would do, I'm
> just not quite able to get a neat and tidy solution out though - any
> ideas would be appreciated.

Your need provides a good example use-case for this ticket:

http://core.trac.wordpress.org/ticket/12935

On Apr 17, 2010, at 5:31 PM, scribu wrote:
> To link posts to other posts, I would use a posts2posts table, instead of
> the taxonomy system: fewer tables => better performance, easier to maintain
> consistency.

But that unfortunately requires creating significant admin UI, doesn't it?  Linking posts through the taxonomy system means that at least most of the plugin work can be done as backend code.

That said, every use case I look at has the need to related posts to other posts so much so that I can't imagine it not being a valuable addition to core. For example, to have a meta box that lets you related a post to posts of another type. Anyone know if there are any trac tickets for this?

On Apr 17, 2010, at 3:40 PM, Charles Frees-Melvin wrote:
> I think you are running into a complexity/limitation of WordPress. That a taxonomy cannot have meta.

I pondered a while back if wp_term_taxonomy shouldn't be deprecated and replaced with a post type of 'term_taxonomy' to which some derided the suggestion. Maybe now that custom post types are more mature considering it might actually make sense?

-Mike

From scribu at gmail.com  Sun Apr 18 07:34:56 2010
From: scribu at gmail.com (scribu)
Date: Sun, 18 Apr 2010 10:34:56 +0300
Subject: [wp-hackers] URL structure for web application with wp
In-Reply-To: <C8DC9EEB-3DA5-4239-8A01-A44E107BEF7F@newclarity.net>
References: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
	<j2x349fe48b1004171431q84888d03v65b9c99d97d5fdc2@mail.gmail.com>
	<C8DC9EEB-3DA5-4239-8A01-A44E107BEF7F@newclarity.net>
Message-ID: <g2s349fe48b1004180034w6fea6416ib36d8964ed05dd50@mail.gmail.com>

On Sun, Apr 18, 2010 at 2:59 AM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> On Apr 17, 2010, at 5:31 PM, scribu wrote:
> > To link posts to other posts, I would use a posts2posts table, instead of
> > the taxonomy system: fewer tables => better performance, easier to
> maintain
> > consistency.
>
> But that unfortunately requires creating significant admin UI, doesn't it?
>  Linking posts through the taxonomy system means that at least most of the
> plugin work can be done as backend code.
>
> That said, every use case I look at has the need to related posts to other
> posts so much so that I can't imagine it not being a valuable addition to
> core. For example, to have a meta box that lets you related a post to posts
> of another type. Anyone know if there are any trac tickets for this?
>

It could be made into a sturdy plugin before being added to core.


-- 
http://scribu.net

From mikeschinkel at newclarity.net  Sun Apr 18 07:38:58 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 18 Apr 2010 03:38:58 -0400
Subject: [wp-hackers] URL structure for web application with wp
In-Reply-To: <g2s349fe48b1004180034w6fea6416ib36d8964ed05dd50@mail.gmail.com>
References: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
	<j2x349fe48b1004171431q84888d03v65b9c99d97d5fdc2@mail.gmail.com>
	<C8DC9EEB-3DA5-4239-8A01-A44E107BEF7F@newclarity.net>
	<g2s349fe48b1004180034w6fea6416ib36d8964ed05dd50@mail.gmail.com>
Message-ID: <0B234D4C-FC53-4A72-BED4-1D30877B509C@newclarity.net>

On Apr 18, 2010, at 3:34 AM, scribu wrote:
> On Sun, Apr 18, 2010 at 2:59 AM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
> On Apr 17, 2010, at 5:31 PM, scribu wrote:
>>> To link posts to other posts, I would use a posts2posts table, instead of
>>> the taxonomy system: fewer tables => better performance, easier to
>>> maintain consistency.
>> 
>> But that unfortunately requires creating significant admin UI, doesn't it?
>> Linking posts through the taxonomy system means that at least most of the
>> plugin work can be done as backend code.
>> 
>> That said, every use case I look at has the need to related posts to other
>> posts so much so that I can't imagine it not being a valuable addition to
>> core. For example, to have a meta box that lets you related a post to posts
>> of another type. Anyone know if there are any trac tickets for this?
>> 
> 
> It could be made into a sturdy plugin before being added to core.

True...

-Mike

From christian.foster at gmail.com  Sun Apr 18 07:40:59 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Sun, 18 Apr 2010 17:40:59 +1000
Subject: [wp-hackers] URL structure for web application with wp
In-Reply-To: <0B234D4C-FC53-4A72-BED4-1D30877B509C@newclarity.net>
References: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
	<j2x349fe48b1004171431q84888d03v65b9c99d97d5fdc2@mail.gmail.com>
	<C8DC9EEB-3DA5-4239-8A01-A44E107BEF7F@newclarity.net>
	<g2s349fe48b1004180034w6fea6416ib36d8964ed05dd50@mail.gmail.com>
	<0B234D4C-FC53-4A72-BED4-1D30877B509C@newclarity.net>
Message-ID: <p2l89a1851d1004180040jbafd8117yc0daf354254a501c@mail.gmail.com>

Hi,

I've been looking but can't find one - are you aware of any plugin
that would provide that kind of functionality? I'll start working on
one if not, as a minimum what extra functions do you think would be
needed?

For that matter is there any problem with using the postmeta table?
You could just stick in the id of the related post with a meta value
of _related_post?

I guess my main aim is to do it in the most wordpress like way, with
minimum of hacking about.

On Sun, Apr 18, 2010 at 5:38 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> On Apr 18, 2010, at 3:34 AM, scribu wrote:
>> On Sun, Apr 18, 2010 at 2:59 AM, Mike Schinkel
>> <mikeschinkel at newclarity.net>wrote:
>> On Apr 17, 2010, at 5:31 PM, scribu wrote:
>>>> To link posts to other posts, I would use a posts2posts table, instead of
>>>> the taxonomy system: fewer tables => better performance, easier to
>>>> maintain consistency.
>>>
>>> But that unfortunately requires creating significant admin UI, doesn't it?
>>> Linking posts through the taxonomy system means that at least most of the
>>> plugin work can be done as backend code.
>>>
>>> That said, every use case I look at has the need to related posts to other
>>> posts so much so that I can't imagine it not being a valuable addition to
>>> core. For example, to have a meta box that lets you related a post to posts
>>> of another type. Anyone know if there are any trac tickets for this?
>>>
>>
>> It could be made into a sturdy plugin before being added to core.
>
> True...
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Sun Apr 18 08:10:23 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 18 Apr 2010 04:10:23 -0400
Subject: [wp-hackers] URL structure for web application with wp
In-Reply-To: <p2l89a1851d1004180040jbafd8117yc0daf354254a501c@mail.gmail.com>
References: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
	<j2x349fe48b1004171431q84888d03v65b9c99d97d5fdc2@mail.gmail.com>
	<C8DC9EEB-3DA5-4239-8A01-A44E107BEF7F@newclarity.net>
	<g2s349fe48b1004180034w6fea6416ib36d8964ed05dd50@mail.gmail.com>
	<0B234D4C-FC53-4A72-BED4-1D30877B509C@newclarity.net>
	<p2l89a1851d1004180040jbafd8117yc0daf354254a501c@mail.gmail.com>
Message-ID: <522CEFD8-9A77-409F-BEEB-DD704F269520@newclarity.net>

On Apr 18, 2010, at 3:40 AM, Christian Foster wrote:
> For that matter is there any problem with using the postmeta table?
> You could just stick in the id of the related post with a meta value
> of _related_post?

That could work for very basic needs, but not if the user needed to define multiple types of relationships.  For example, in the case of (musical) artist you might want to relate to genre and album, So rather than use one meta key allow the user to specify i.e. '_related_genre' and '_related_album.'  But be careful not just to use of the post_type because you could have two different types of relationships to a given post type; i.e. a "project-task" could be related to a project manager and multiple resources, both of type "person."

Then comes metadata about the relationship, i.e. a resource on a project task might need to have an assigned hourly rate.  On course if term_taxonomy where actually a custom post type, this would get a lot easier but since it's not, its not.

So my point is whatever you choose there will be a limitations for selected use cases. But since there's not currently an obviously perfect place to store you might as well plow ahead and run into those limitations so the limits can become tangible for you and others and thus, hopefully addressed by the community.

-Mike

From christian.foster at gmail.com  Sun Apr 18 08:17:23 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Sun, 18 Apr 2010 18:17:23 +1000
Subject: [wp-hackers] URL structure for web application with wp
In-Reply-To: <522CEFD8-9A77-409F-BEEB-DD704F269520@newclarity.net>
References: <w2j89a1851d1004171210j782a8632o31dd9a78c50828af@mail.gmail.com>
	<j2x349fe48b1004171431q84888d03v65b9c99d97d5fdc2@mail.gmail.com>
	<C8DC9EEB-3DA5-4239-8A01-A44E107BEF7F@newclarity.net>
	<g2s349fe48b1004180034w6fea6416ib36d8964ed05dd50@mail.gmail.com>
	<0B234D4C-FC53-4A72-BED4-1D30877B509C@newclarity.net>
	<p2l89a1851d1004180040jbafd8117yc0daf354254a501c@mail.gmail.com>
	<522CEFD8-9A77-409F-BEEB-DD704F269520@newclarity.net>
Message-ID: <m2s89a1851d1004180117q34b31239lb5149713253ca2d2@mail.gmail.com>

I think  a combo of term meta
(http://wordpress.org/extend/plugins/taxonomy-metadata/) and a
posts2posts table will provide enough flexibility to cover most
scenarios? Certainly for the kind of project I am thinking of at the
moment (no more complex than basecamp).

On Sun, Apr 18, 2010 at 6:10 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> On Apr 18, 2010, at 3:40 AM, Christian Foster wrote:
>> For that matter is there any problem with using the postmeta table?
>> You could just stick in the id of the related post with a meta value
>> of _related_post?
>
> That could work for very basic needs, but not if the user needed to define multiple types of relationships. ?For example, in the case of (musical) artist you might want to relate to genre and album, So rather than use one meta key allow the user to specify i.e. '_related_genre' and '_related_album.' ?But be careful not just to use of the post_type because you could have two different types of relationships to a given post type; i.e. a "project-task" could be related to a project manager and multiple resources, both of type "person."
>
> Then comes metadata about the relationship, i.e. a resource on a project task might need to have an assigned hourly rate. ?On course if term_taxonomy where actually a custom post type, this would get a lot easier but since it's not, its not.
>
> So my point is whatever you choose there will be a limitations for selected use cases. But since there's not currently an obviously perfect place to store you might as well plow ahead and run into those limitations so the limits can become tangible for you and others and thus, hopefully addressed by the community.
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Sun Apr 18 08:52:50 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 18 Apr 2010 04:52:50 -0400
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
Message-ID: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>

Hi all,

I'm working on a WP3.0 based site for a friend that will have about 3-5 "pages" and 700+ "financial terms."  I've created a custom post type "financial-term" and am now trying to get the URL structure to work.  Rather than this:

http://example.com/financial-terms/accounts-payable/

I really want to implement this so that the URLs are not so overwhelming for the users:

http://example.com/accounts-payable/

I know given WordPress' current URL rewriting system that this approach is considered "harmful" but this site doesn't follow the same pattern as sites where it really is harmful.  In essence this site's financial terms are it's pages. Yes I could use a "page" for this but it just doesn't feel correct to ask the user to have to combine financial terms and pages like "about" and "home."

I've been staring at this for hours and can't figure out what exactly I need to do to give this to work.  As I've said before I am just completely unable to grok how to make WordPress' current rewrite system to what I need it to do in most cases. Thanks, and any help would be appreciated.

-Mike

From scribu at gmail.com  Sun Apr 18 09:17:38 2010
From: scribu at gmail.com (scribu)
Date: Sun, 18 Apr 2010 12:17:38 +0300
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
Message-ID: <g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>

Maybe something like this:

foreach ( $pages as $page )
    add_rewrite_rule('http://example.com/' . $page->page_name,
'?post_type=x&p=' . $page->ID, 'top');


Not sure wether you need to have 'http://example.com/' at the beginning or
not.


-- 
http://scribu.net

From scribu at gmail.com  Sun Apr 18 09:20:02 2010
From: scribu at gmail.com (scribu)
Date: Sun, 18 Apr 2010 12:20:02 +0300
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>
Message-ID: <q2k349fe48b1004180220g1afb8323j66f60a653a563f66@mail.gmail.com>

Or rather:


foreach ( $pages as $page )
    add_rewrite_rule('http://example.com/' . $page->post_name, '?' .
$page->post_type . '=' $page->post_name, 'top');


-- 
http://scribu.net

From mikeschinkel at newclarity.net  Sun Apr 18 09:39:59 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 18 Apr 2010 05:39:59 -0400
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>
Message-ID: <DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>

Thanks for the quick answer.  Are you saying I need to add 700+ rewrite rules, one for each financial term?  I'm hoping that won't be a requirement.  I'm hoping to write one rewrite rule to capture every financial term.  

-Mike


On Apr 18, 2010, at 5:17 AM, scribu wrote:

> Maybe something like this:
> 
> foreach ( $pages as $page )
>    add_rewrite_rule('http://example.com/' . $page->page_name,
> '?post_type=x&p=' . $page->ID, 'top');
> 
> 
> Not sure wether you need to have 'http://example.com/' at the beginning or
> not.
> 
> 
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From scribu at gmail.com  Sun Apr 18 09:59:30 2010
From: scribu at gmail.com (scribu)
Date: Sun, 18 Apr 2010 12:59:30 +0300
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>
	<DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>
Message-ID: <u2g349fe48b1004180259r26fc06c5yb371289d5ed3dcc@mail.gmail.com>

On Sun, Apr 18, 2010 at 12:39 PM, Mike Schinkel <mikeschinkel at newclarity.net
> wrote:

> Thanks for the quick answer.  Are you saying I need to add 700+ rewrite
> rules, one for each financial term?  I'm hoping that won't be a requirement.
>  I'm hoping to write one rewrite rule to capture every financial term.
>

Then maybe something like this:

$wp->add_query_var('financial-term');
$wp_rewrite->add_rewrite_tag("%financialterm%", '([^/]+)',
"financial-term=");
$wp_rewrite->add_permastruct($tag, '/%financialterm%');


-- 
http://scribu.net

From christian.foster at gmail.com  Sun Apr 18 09:59:36 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Sun, 18 Apr 2010 19:59:36 +1000
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>
	<DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>
Message-ID: <m2g89a1851d1004180259v5fba9b41qadc6cc93bd4fbe10@mail.gmail.com>


From scribu at gmail.com  Sun Apr 18 10:01:13 2010
From: scribu at gmail.com (scribu)
Date: Sun, 18 Apr 2010 13:01:13 +0300
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <u2g349fe48b1004180259r26fc06c5yb371289d5ed3dcc@mail.gmail.com>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>
	<DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>
	<u2g349fe48b1004180259r26fc06c5yb371289d5ed3dcc@mail.gmail.com>
Message-ID: <t2w349fe48b1004180301m502e6596w796d6be66c70b233@mail.gmail.com>

I mean:

$wp->add_query_var('financial-term');
$wp_rewrite->add_rewrite_tag("%financialterm%", '([^/]+)',
"financial-term=");
$wp_rewrite->add_permastruct('financial-term', '/%financialterm%');


On Sun, Apr 18, 2010 at 12:59 PM, scribu <scribu at gmail.com> wrote:

> On Sun, Apr 18, 2010 at 12:39 PM, Mike Schinkel <
> mikeschinkel at newclarity.net> wrote:
>
>> Thanks for the quick answer.  Are you saying I need to add 700+ rewrite
>> rules, one for each financial term?  I'm hoping that won't be a requirement.
>>  I'm hoping to write one rewrite rule to capture every financial term.
>>
>
> Then maybe something like this:
>
> $wp->add_query_var('financial-term');
> $wp_rewrite->add_rewrite_tag("%financialterm%", '([^/]+)',
> "financial-term=");
> $wp_rewrite->add_permastruct($tag, '/%financialterm%');
>


-- 
http://scribu.net

From mikeschinkel at newclarity.net  Sun Apr 18 10:04:15 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 18 Apr 2010 06:04:15 -0400
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <u2g349fe48b1004180259r26fc06c5yb371289d5ed3dcc@mail.gmail.com>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>
	<DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>
	<u2g349fe48b1004180259r26fc06c5yb371289d5ed3dcc@mail.gmail.com>
Message-ID: <1DB28546-E7B6-4510-8AE5-BDC231D52F98@newclarity.net>

On Apr 18, 2010, at 5:59 AM, scribu wrote:

> $wp->add_query_var('financial-term');
> $wp_rewrite->add_rewrite_tag("%financialterm%", '([^/]+)',
> "financial-term=");
> $wp_rewrite->add_permastruct($tag, '/%financialterm%');

Thanks.  That seems to work but it hides all the post_type="page".  So add them explicitly with the code you had before since there will only ever be a few?

-Mike

From scribu at gmail.com  Sun Apr 18 10:11:43 2010
From: scribu at gmail.com (scribu)
Date: Sun, 18 Apr 2010 13:11:43 +0300
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <1DB28546-E7B6-4510-8AE5-BDC231D52F98@newclarity.net>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>
	<DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>
	<u2g349fe48b1004180259r26fc06c5yb371289d5ed3dcc@mail.gmail.com>
	<1DB28546-E7B6-4510-8AE5-BDC231D52F98@newclarity.net>
Message-ID: <h2u349fe48b1004180311i26047008q9a6c72c2391d6fc1@mail.gmail.com>

On Sun, Apr 18, 2010 at 1:04 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> On Apr 18, 2010, at 5:59 AM, scribu wrote:
>
> > $wp->add_query_var('financial-term');
> > $wp_rewrite->add_rewrite_tag("%financialterm%", '([^/]+)',
> > "financial-term=");
> > $wp_rewrite->add_permastruct($tag, '/%financialterm%');
>
> Thanks.  That seems to work but it hides all the post_type="page".  So add
> them explicitly with the code you had before since there will only ever be a
> few?
>

How do you mean `it hides all the post_type="page"` ?


-- 
http://scribu.net

From mikeschinkel at newclarity.net  Sun Apr 18 10:20:00 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 18 Apr 2010 06:20:00 -0400
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <h2u349fe48b1004180311i26047008q9a6c72c2391d6fc1@mail.gmail.com>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>
	<DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>
	<u2g349fe48b1004180259r26fc06c5yb371289d5ed3dcc@mail.gmail.com>
	<1DB28546-E7B6-4510-8AE5-BDC231D52F98@newclarity.net>
	<h2u349fe48b1004180311i26047008q9a6c72c2391d6fc1@mail.gmail.com>
Message-ID: <3A9A0982-3D70-479F-8D76-DDA2B66A22C9@newclarity.net>

I get a 404 error on the "about" page.

-Mike

On Apr 18, 2010, at 6:11 AM, scribu wrote:

> On Sun, Apr 18, 2010 at 1:04 PM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
> 
>> On Apr 18, 2010, at 5:59 AM, scribu wrote:
>> 
>>> $wp->add_query_var('financial-term');
>>> $wp_rewrite->add_rewrite_tag("%financialterm%", '([^/]+)',
>>> "financial-term=");
>>> $wp_rewrite->add_permastruct($tag, '/%financialterm%');
>> 
>> Thanks.  That seems to work but it hides all the post_type="page".  So add
>> them explicitly with the code you had before since there will only ever be a
>> few?
>> 
> 
> How do you mean `it hides all the post_type="page"` ?
> 
> 
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From scribu at gmail.com  Sun Apr 18 10:22:12 2010
From: scribu at gmail.com (scribu)
Date: Sun, 18 Apr 2010 13:22:12 +0300
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <3A9A0982-3D70-479F-8D76-DDA2B66A22C9@newclarity.net>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>
	<DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>
	<u2g349fe48b1004180259r26fc06c5yb371289d5ed3dcc@mail.gmail.com>
	<1DB28546-E7B6-4510-8AE5-BDC231D52F98@newclarity.net>
	<h2u349fe48b1004180311i26047008q9a6c72c2391d6fc1@mail.gmail.com>
	<3A9A0982-3D70-479F-8D76-DDA2B66A22C9@newclarity.net>
Message-ID: <z2x349fe48b1004180322ma4aa75b7i80ff78ebcd43392b@mail.gmail.com>

Oh... Right, try triggerring add_verbose_rules somehow, so you don't have to
add the page rules yourself.


On Sun, Apr 18, 2010 at 1:20 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> I get a 404 error on the "about" page.
>


-- 
http://scribu.net

From mikeschinkel at newclarity.net  Sun Apr 18 10:37:23 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 18 Apr 2010 06:37:23 -0400
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <z2x349fe48b1004180322ma4aa75b7i80ff78ebcd43392b@mail.gmail.com>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>
	<DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>
	<u2g349fe48b1004180259r26fc06c5yb371289d5ed3dcc@mail.gmail.com>
	<1DB28546-E7B6-4510-8AE5-BDC231D52F98@newclarity.net>
	<h2u349fe48b1004180311i26047008q9a6c72c2391d6fc1@mail.gmail.com>
	<3A9A0982-3D70-479F-8D76-DDA2B66A22C9@newclarity.net>
	<z2x349fe48b1004180322ma4aa75b7i80ff78ebcd43392b@mail.gmail.com>
Message-ID: <577E0663-6988-45A5-97C1-0F043531397C@newclarity.net>

So adding this mostly worked:

	$wp_rewrite->use_verbose_page_rules = true;

BTW, this also work, in it's entirety (note the last line is different from what you suggested, i.e. no domain, only path):

	global $wp,$wp_rewrite; 
	$wp->add_query_var('financial-term');
	$wp_rewrite->add_rewrite_tag('%financial-term%', '([^/]+)','financial-term=');
	$wp_rewrite->add_permastruct('financial-term', '%financial-term%');
	$pages = get_pages();
	foreach ( $pages as $page )
    		$wp_rewrite->add_rule("$page->post_name/?","index.php?post_type=page&p={$page->ID}",'top');

Only problem is, in either case, now it calls single_template instead of page_template.  Go figure.

-Mike


On Apr 18, 2010, at 6:22 AM, scribu wrote:

> Oh... Right, try triggerring add_verbose_rules somehow, so you don't have to
> add the page rules yourself.
> 
> 
> On Sun, Apr 18, 2010 at 1:20 PM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
> 
>> I get a 404 error on the "about" page.
>> 
> 
> 
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From scribu at gmail.com  Sun Apr 18 10:49:50 2010
From: scribu at gmail.com (scribu)
Date: Sun, 18 Apr 2010 13:49:50 +0300
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <577E0663-6988-45A5-97C1-0F043531397C@newclarity.net>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>
	<DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>
	<u2g349fe48b1004180259r26fc06c5yb371289d5ed3dcc@mail.gmail.com>
	<1DB28546-E7B6-4510-8AE5-BDC231D52F98@newclarity.net>
	<h2u349fe48b1004180311i26047008q9a6c72c2391d6fc1@mail.gmail.com>
	<3A9A0982-3D70-479F-8D76-DDA2B66A22C9@newclarity.net>
	<z2x349fe48b1004180322ma4aa75b7i80ff78ebcd43392b@mail.gmail.com>
	<577E0663-6988-45A5-97C1-0F043531397C@newclarity.net>
Message-ID: <o2x349fe48b1004180349y82ebe929p8dd6f3d1a787a8df@mail.gmail.com>

On Sun, Apr 18, 2010 at 1:37 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

>        $pages = get_pages();
>        foreach ( $pages as $page )
>
>  $wp_rewrite->add_rule("$page->post_name/?","index.php?post_type=page&p={$page->ID}",'top');
>
> Only problem is, in either case, now it calls single_template instead of
> page_template.  Go figure.
>


You should use *?page_id=* instead of *post_type=page&p=*


-- 
http://scribu.net

From jtarleton at jamestarleton.com  Sun Apr 18 16:06:05 2010
From: jtarleton at jamestarleton.com (James Tarleton)
Date: Sun, 18 Apr 2010 12:06:05 -0400
Subject: [wp-hackers] Unsubscribe
In-Reply-To: <mailman.8514.1271576109.1345.wp-hackers@lists.automattic.com>
References: <mailman.8514.1271576109.1345.wp-hackers@lists.automattic.com>
Message-ID: <1271606765.29067.78.camel@RHINES>

On Sun, 2010-04-18 at 07:35 +0000,
wp-hackers-request at lists.automattic.com wrote:
> Send wp-hackers mailing list submissions to
> 	wp-hackers at lists.automattic.com
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> 	http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
> 	wp-hackers-request at lists.automattic.com
> 
> You can reach the person managing the list at
> 	wp-hackers-owner at lists.automattic.com
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
> 
> 
> Today's Topics:
> 
>    1. Re: URL structure for web application with wp (Christian Foster)
>    2. Re: URL structure for web application with wp (Hal Burgiss)
>    3. Re: [GSoC] Comment Moderation (Bumbu Alex)
>    4. Re: Regarding wp markup language (scribu)
>    5. Re: URL structure for web application with wp (scribu)
>    6. Re: Regarding wp markup language (Mike Schinkel)
>    7. Re: URL structure for web application with wp (Mike Schinkel)
>    8. Re: URL structure for web application with wp (scribu)
> 
> 
> ----------------------------------------------------------------------
> 
> Message: 1
> Date: Sun, 18 Apr 2010 05:59:18 +1000
> From: Christian Foster <christian.foster at gmail.com>
> Subject: Re: [wp-hackers] URL structure for web application with wp
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<h2p89a1851d1004171259z6ebabab5nb728871a171dc1d1 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> http://wordpress.org/extend/plugins/taxonomy-metadata/
> 
> This looks like it is done in a pretty clean way, I think I will try it out.
> 
> On Sun, Apr 18, 2010 at 5:40 AM, Charles Frees-Melvin <charles at cefm.ca> wrote:
> > I think you are running into a complexity/limitation of WordPress. That a
> > taxonomy cannot have meta.
> >
> > For example I've been using Wordpress for my photo album. And have been
> > running into the issue that I cannot have a link meta to say that ID 55 of
> > the people tax is user 14. Or I cannot link a thumbnail to a category or tag
> > or tax. I think that this would be the next move to make your project
> > simpler.
> >
> > --
> > Charles E. Frees-Melvin
> > charles at cefm.ca
> > www.cefm.ca
> > 506-640-1007
> >
> > Sent from my iPhone
> >
> > On 2010-04-17, at 16:10, Christian Foster <christian.foster at gmail.com>
> > wrote:
> >
> >> Hi all,
> >>
> >> This has been driving me mad for a couple of days now and I was hoping
> >> for some suggestions or ideas. Apologies for the long question but I
> >> am really looking for the best possible (and most Wordpress-like) way
> >> to set this up.
> >>
> >> I'm building a basic project management system. This is the setup:
> >>
> >> Custom post types: Project, Milestone, Task, Message
> >> Taxonomies: Projects, Task List, Message Categories
> >>
> >> Obviously this app needs to be project-centric - so whatever post,
> >> archive or taxonomy we're viewing generally it should relate to a
> >> project. So - all post types are linked to a project via a term in the
> >> projects taxonomy that has the same name as 1 project.
> >>
> >> Example: Project 1 (post type project) is linked to term "Project 1"
> >> from the projects taxonomy. Message 1...Message 10 are also linked via
> >> term "Project 1" in Projects taxonomy.
> >>
> >> Therefore when viewing any individual post, we can check the term
> >> they're linked to in the "Projects" taxonomy and find out which
> >> project we are talking about. But, when viewing an archive we have no
> >> way to reference which project is being referenced unless we put
> >> something in the URL (or set a session variable which I also played
> >> with).
> >>
> >> Basecamp uses this style:
> >>
> >> /projects/id/ - project single
> >> /projects/id/messages/ - messages archive
> >> /projects/id/messages/id - message single
> >>
> >> Wordpress is using
> >> /project/id - project single
> >> /projects/term - archive for all posts with project term
> >> /message/id - message single (we check project term to get which
> >> project it's linked to)
> >>
> >> So - what do people think the best way of structuring the app might
> >> be? Here are what I see as the options at the moment:
> >>
> >> 1. Create pages as so
> >> /projects/project-id
> >> /projects/messages/project-id
> >> /projects/tasks/project-id
> >>
> >> Create custom rewrite rules, stick a project id on the end of the url
> >> on all of the above and then do custom page templates to look up and
> >> display the correct posts. Or some variation of URL rewriting and
> >> pages with custom templates.
> >>
> >> 2. Try to achieve functionality like categories where project is a
> >> category and we can link all post types into it and get the same style
> >> of paths:
> >> /projects/project-slug/task-name
> >> /projects/project-slug/message-name
> >> /projects/project-slug/project-name
> >>
> >> Wordpress is rewriting all custom post types as /post-type/slug at the
> >> moment, so I am not sure if this is achievable.
> >>
> >> 3. Some other solution using sessions to set the current project and
> >> then relating all queries to that project.
> >>
> >> Having written all of that I guess any of those options would do, I'm
> >> just not quite able to get a neat and tidy solution out though - any
> >> ideas would be appreciated.
> >>
> >> Chris.
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> ------------------------------
> 
> Message: 2
> Date: Sat, 17 Apr 2010 16:02:56 -0400
> From: Hal Burgiss <hal at burgiss.net>
> Subject: Re: [wp-hackers] URL structure for web application with wp
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<j2y962301c31004171302pc1d6c991q40f09872ef7790c4 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> On Sat, Apr 17, 2010 at 3:50 PM, Christian Foster
> <christian.foster at gmail.com> wrote:
> > Hi Charles,
> >
> > I think you're right - and so what I am doing at the moment is
> > creating a taxonomy and a post type for many things and then making
> > convoluted links between them (the post type only being necessary to
> > store extra information about the terms in the taxonomy). I'm guessing
> > that term meta might be included at some point, it would make building
> > more complex things out of wordpress easier.
> 
> You might look at the pods cms plugin. It has similar functionality to
> custom post types, but gives you more control over the url/routing.
> You can create a class that extends pods, then define the url path
> that will be fed through to your custom class. So something like
> '/projects/*', and then you handle the rest with your code however you
> like.
> 
> -- 
> Hal
> 
> 
> ------------------------------
> 
> Message: 3
> Date: Sat, 17 Apr 2010 23:25:19 +0300
> From: Bumbu Alex <bmbalex at gmail.com>
> Subject: Re: [wp-hackers] [GSoC] Comment Moderation
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<k2v13f1fbc61004171325ia63cd4a2p79b2b19f731ba2c5 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> little update for list of todos (some of then got from Eitan Adler thread):
> 
> 
>    - When threaded comments are enabled they are displayed when moderating
>    individual posts comments.
>    - Allow comment re-parenting.
>    - Support should also be added to the XML-RPC api to allow an external
>    app to implement similar functionality.
>    - In case of deleting comment which have child comments - ask user if
>    delete them, or re-parent them.
>    - Allow re-parenting using Drag & Drop in places like post editor.
>    - Create api for changing parent of comment, request all sub-comments and
>    other needed stuff.
>    - Add threaded comments to comments in moderation (more about UI)
>    - Warn(change background of comment row or smth else) moderator/admin if
>    there is post of unlogged user with the same email as registered user and
>    give ability to change the author from unlogged to those registered who own
>    this email.
> 
> 
> ------------------------------
> 
> Message: 4
> Date: Sun, 18 Apr 2010 00:25:13 +0300
> From: scribu <scribu at gmail.com>
> Subject: Re: [wp-hackers] Regarding wp markup language
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<q2y349fe48b1004171425j33c5bd48j8e120b6405e44efe at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
> 
> On Sat, Apr 17, 2010 at 8:04 PM, Jeremy Clarke <jer at simianuprising.com>wrote:
> 
> > The only things that aren't dead-simple to insert into themes are the
> > stuff that would be super-complicated to do even with a markup
> > language, the loop itself. In my case I write wrapper functions for
> > that stuff then call it in the templates, stuff like
> > gv_display_post_archive() or gv_display_recent_headlines(). IMHO that
> > is an area where WP has room to improve: it should offer default loop
> > etc functions that can be overridden by themers in functions.php or
> > plugins, similar to how the Comments system works now. I saw a trac
> > ticket in this vein at some point but can't find it now.
> >
> 
> 
> You're probably thinking of Modular themes: Apply template hierarchy to
> folders within a theme <http://core.trac.wordpress.org/ticket/12877>
> 
> 
> -- 
> http://scribu.net
> 
> 
> ------------------------------
> 
> Message: 5
> Date: Sun, 18 Apr 2010 00:31:43 +0300
> From: scribu <scribu at gmail.com>
> Subject: Re: [wp-hackers] URL structure for web application with wp
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<j2x349fe48b1004171431q84888d03v65b9c99d97d5fdc2 at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
> 
> To link posts to other posts, I would use a posts2posts table, instead of
> the taxonomy system: fewer tables => better performance, easier to maintain
> consistency.
> 
> 
> On Sat, Apr 17, 2010 at 10:10 PM, Christian Foster <
> christian.foster at gmail.com> wrote:
> 
> > 2. Try to achieve functionality like categories where project is a
> > category and we can link all post types into it and get the same style
> > of paths:
> > /projects/project-slug/task-name
> > /projects/project-slug/message-name
> > /projects/project-slug/project-name
> >
> > Wordpress is rewriting all custom post types as /post-type/slug at the
> > moment, so I am not sure if this is achievable.
> >
> 
> When defining the post type, you can set 'rewrite' => false and then
> manually add whatever rewrite rules you want.
> 
> 
> -- 
> http://scribu.net
> 
> 
> ------------------------------
> 
> Message: 6
> Date: Sat, 17 Apr 2010 19:08:22 -0400
> From: Mike Schinkel <mikeschinkel at newclarity.net>
> Subject: Re: [wp-hackers] Regarding wp markup language
> To: wp-hackers at lists.automattic.com
> Message-ID: <9847379C-C4D3-47B6-A229-C3770B05AEAA at newclarity.net>
> Content-Type: text/plain;	charset=us-ascii
> 
> On Apr 17, 2010, at 1:04 PM, Jeremy Clarke wrote:
> > that is an area where WP has room to improve: it should offer default loop
> > etc functions that can be overridden by themers in functions.php or
> > plugins, similar to how the Comments system works now. I saw a trac
> > ticket in this vein at some point but can't find it now.
> 
> 
> +1
> 
> -Mike
> 
> ------------------------------
> 
> Message: 7
> Date: Sat, 17 Apr 2010 19:59:02 -0400
> From: Mike Schinkel <mikeschinkel at newclarity.net>
> Subject: Re: [wp-hackers] URL structure for web application with wp
> To: wp-hackers at lists.automattic.com
> Message-ID: <C8DC9EEB-3DA5-4239-8A01-A44E107BEF7F at newclarity.net>
> Content-Type: text/plain;	charset=us-ascii
> 
> On Apr 17, 2010, at 3:10 PM, Christian Foster wrote:
> > I'm building a basic project management system. This is the setup:
> > 
> > Custom post types: Project, Milestone, Task, Message
> > Taxonomies: Projects, Task List, Message Categories
> > 
> > Obviously this app needs to be project-centric - so whatever post,
> > archive or taxonomy we're viewing generally it should relate to a
> > project. So - all post types are linked to a project via a term in the
> > projects taxonomy that has the same name as 1 project.
> > 
> > Example: Project 1 (post type project) is linked to term "Project 1"
> > from the projects taxonomy. Message 1...Message 10 are also linked via
> > term "Project 1" in Projects taxonomy.
> > 
> > Therefore when viewing any individual post, we can check the term
> > they're linked to in the "Projects" taxonomy and find out which
> > project we are talking about. But, when viewing an archive we have no
> > way to reference which project is being referenced unless we put
> > something in the URL (or set a session variable which I also played
> > with).
> > 
> > So - what do people think the best way of structuring the app might
> > be? Here are what I see as the options at the moment:
> > 
> > 1. Create pages as so
> > /projects/project-id
> > /projects/messages/project-id
> > /projects/tasks/project-id
> > 
> > Create custom rewrite rules, stick a project id on the end of the url
> > on all of the above and then do custom page templates to look up and
> > display the correct posts. Or some variation of URL rewriting and
> > pages with custom templates.
> > 
> > 2. Try to achieve functionality like categories where project is a
> > category and we can link all post types into it and get the same style
> > of paths:
> > /projects/project-slug/task-name
> > /projects/project-slug/message-name
> > /projects/project-slug/project-name
> > 
> > Wordpress is rewriting all custom post types as /post-type/slug at the
> > moment, so I am not sure if this is achievable.
> > 
> > 3. Some other solution using sessions to set the current project and
> > then relating all queries to that project.
> > 
> > Having written all of that I guess any of those options would do, I'm
> > just not quite able to get a neat and tidy solution out though - any
> > ideas would be appreciated.
> 
> Your need provides a good example use-case for this ticket:
> 
> http://core.trac.wordpress.org/ticket/12935
> 
> On Apr 17, 2010, at 5:31 PM, scribu wrote:
> > To link posts to other posts, I would use a posts2posts table, instead of
> > the taxonomy system: fewer tables => better performance, easier to maintain
> > consistency.
> 
> But that unfortunately requires creating significant admin UI, doesn't it?  Linking posts through the taxonomy system means that at least most of the plugin work can be done as backend code.
> 
> That said, every use case I look at has the need to related posts to other posts so much so that I can't imagine it not being a valuable addition to core. For example, to have a meta box that lets you related a post to posts of another type. Anyone know if there are any trac tickets for this?
> 
> On Apr 17, 2010, at 3:40 PM, Charles Frees-Melvin wrote:
> > I think you are running into a complexity/limitation of WordPress. That a taxonomy cannot have meta.
> 
> I pondered a while back if wp_term_taxonomy shouldn't be deprecated and replaced with a post type of 'term_taxonomy' to which some derided the suggestion. Maybe now that custom post types are more mature considering it might actually make sense?
> 
> -Mike
> 
> ------------------------------
> 
> Message: 8
> Date: Sun, 18 Apr 2010 10:34:56 +0300
> From: scribu <scribu at gmail.com>
> Subject: Re: [wp-hackers] URL structure for web application with wp
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<g2s349fe48b1004180034w6fea6416ib36d8964ed05dd50 at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
> 
> On Sun, Apr 18, 2010 at 2:59 AM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
> 
> > On Apr 17, 2010, at 5:31 PM, scribu wrote:
> > > To link posts to other posts, I would use a posts2posts table, instead of
> > > the taxonomy system: fewer tables => better performance, easier to
> > maintain
> > > consistency.
> >
> > But that unfortunately requires creating significant admin UI, doesn't it?
> >  Linking posts through the taxonomy system means that at least most of the
> > plugin work can be done as backend code.
> >
> > That said, every use case I look at has the need to related posts to other
> > posts so much so that I can't imagine it not being a valuable addition to
> > core. For example, to have a meta box that lets you related a post to posts
> > of another type. Anyone know if there are any trac tickets for this?
> >
> 
> It could be made into a sturdy plugin before being added to core.
> 
> 


-- 
James Tarleton <jtarleton at jamestarleton.com>


From jtarleton at jamestarleton.com  Sun Apr 18 16:06:25 2010
From: jtarleton at jamestarleton.com (James Tarleton)
Date: Sun, 18 Apr 2010 12:06:25 -0400
Subject: [wp-hackers] unsubscribe
In-Reply-To: <mailman.8514.1271576109.1345.wp-hackers@lists.automattic.com>
References: <mailman.8514.1271576109.1345.wp-hackers@lists.automattic.com>
Message-ID: <1271606785.29067.79.camel@RHINES>

On Sun, 2010-04-18 at 07:35 +0000,
wp-hackers-request at lists.automattic.com wrote:
> Send wp-hackers mailing list submissions to
> 	wp-hackers at lists.automattic.com
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> 	http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
> 	wp-hackers-request at lists.automattic.com
> 
> You can reach the person managing the list at
> 	wp-hackers-owner at lists.automattic.com
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
> 
> 
> Today's Topics:
> 
>    1. Re: URL structure for web application with wp (Christian Foster)
>    2. Re: URL structure for web application with wp (Hal Burgiss)
>    3. Re: [GSoC] Comment Moderation (Bumbu Alex)
>    4. Re: Regarding wp markup language (scribu)
>    5. Re: URL structure for web application with wp (scribu)
>    6. Re: Regarding wp markup language (Mike Schinkel)
>    7. Re: URL structure for web application with wp (Mike Schinkel)
>    8. Re: URL structure for web application with wp (scribu)
> 
> 
> ----------------------------------------------------------------------
> 
> Message: 1
> Date: Sun, 18 Apr 2010 05:59:18 +1000
> From: Christian Foster <christian.foster at gmail.com>
> Subject: Re: [wp-hackers] URL structure for web application with wp
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<h2p89a1851d1004171259z6ebabab5nb728871a171dc1d1 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> http://wordpress.org/extend/plugins/taxonomy-metadata/
> 
> This looks like it is done in a pretty clean way, I think I will try it out.
> 
> On Sun, Apr 18, 2010 at 5:40 AM, Charles Frees-Melvin <charles at cefm.ca> wrote:
> > I think you are running into a complexity/limitation of WordPress. That a
> > taxonomy cannot have meta.
> >
> > For example I've been using Wordpress for my photo album. And have been
> > running into the issue that I cannot have a link meta to say that ID 55 of
> > the people tax is user 14. Or I cannot link a thumbnail to a category or tag
> > or tax. I think that this would be the next move to make your project
> > simpler.
> >
> > --
> > Charles E. Frees-Melvin
> > charles at cefm.ca
> > www.cefm.ca
> > 506-640-1007
> >
> > Sent from my iPhone
> >
> > On 2010-04-17, at 16:10, Christian Foster <christian.foster at gmail.com>
> > wrote:
> >
> >> Hi all,
> >>
> >> This has been driving me mad for a couple of days now and I was hoping
> >> for some suggestions or ideas. Apologies for the long question but I
> >> am really looking for the best possible (and most Wordpress-like) way
> >> to set this up.
> >>
> >> I'm building a basic project management system. This is the setup:
> >>
> >> Custom post types: Project, Milestone, Task, Message
> >> Taxonomies: Projects, Task List, Message Categories
> >>
> >> Obviously this app needs to be project-centric - so whatever post,
> >> archive or taxonomy we're viewing generally it should relate to a
> >> project. So - all post types are linked to a project via a term in the
> >> projects taxonomy that has the same name as 1 project.
> >>
> >> Example: Project 1 (post type project) is linked to term "Project 1"
> >> from the projects taxonomy. Message 1...Message 10 are also linked via
> >> term "Project 1" in Projects taxonomy.
> >>
> >> Therefore when viewing any individual post, we can check the term
> >> they're linked to in the "Projects" taxonomy and find out which
> >> project we are talking about. But, when viewing an archive we have no
> >> way to reference which project is being referenced unless we put
> >> something in the URL (or set a session variable which I also played
> >> with).
> >>
> >> Basecamp uses this style:
> >>
> >> /projects/id/ - project single
> >> /projects/id/messages/ - messages archive
> >> /projects/id/messages/id - message single
> >>
> >> Wordpress is using
> >> /project/id - project single
> >> /projects/term - archive for all posts with project term
> >> /message/id - message single (we check project term to get which
> >> project it's linked to)
> >>
> >> So - what do people think the best way of structuring the app might
> >> be? Here are what I see as the options at the moment:
> >>
> >> 1. Create pages as so
> >> /projects/project-id
> >> /projects/messages/project-id
> >> /projects/tasks/project-id
> >>
> >> Create custom rewrite rules, stick a project id on the end of the url
> >> on all of the above and then do custom page templates to look up and
> >> display the correct posts. Or some variation of URL rewriting and
> >> pages with custom templates.
> >>
> >> 2. Try to achieve functionality like categories where project is a
> >> category and we can link all post types into it and get the same style
> >> of paths:
> >> /projects/project-slug/task-name
> >> /projects/project-slug/message-name
> >> /projects/project-slug/project-name
> >>
> >> Wordpress is rewriting all custom post types as /post-type/slug at the
> >> moment, so I am not sure if this is achievable.
> >>
> >> 3. Some other solution using sessions to set the current project and
> >> then relating all queries to that project.
> >>
> >> Having written all of that I guess any of those options would do, I'm
> >> just not quite able to get a neat and tidy solution out though - any
> >> ideas would be appreciated.
> >>
> >> Chris.
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> ------------------------------
> 
> Message: 2
> Date: Sat, 17 Apr 2010 16:02:56 -0400
> From: Hal Burgiss <hal at burgiss.net>
> Subject: Re: [wp-hackers] URL structure for web application with wp
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<j2y962301c31004171302pc1d6c991q40f09872ef7790c4 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> On Sat, Apr 17, 2010 at 3:50 PM, Christian Foster
> <christian.foster at gmail.com> wrote:
> > Hi Charles,
> >
> > I think you're right - and so what I am doing at the moment is
> > creating a taxonomy and a post type for many things and then making
> > convoluted links between them (the post type only being necessary to
> > store extra information about the terms in the taxonomy). I'm guessing
> > that term meta might be included at some point, it would make building
> > more complex things out of wordpress easier.
> 
> You might look at the pods cms plugin. It has similar functionality to
> custom post types, but gives you more control over the url/routing.
> You can create a class that extends pods, then define the url path
> that will be fed through to your custom class. So something like
> '/projects/*', and then you handle the rest with your code however you
> like.
> 
> -- 
> Hal
> 
> 
> ------------------------------
> 
> Message: 3
> Date: Sat, 17 Apr 2010 23:25:19 +0300
> From: Bumbu Alex <bmbalex at gmail.com>
> Subject: Re: [wp-hackers] [GSoC] Comment Moderation
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<k2v13f1fbc61004171325ia63cd4a2p79b2b19f731ba2c5 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> little update for list of todos (some of then got from Eitan Adler thread):
> 
> 
>    - When threaded comments are enabled they are displayed when moderating
>    individual posts comments.
>    - Allow comment re-parenting.
>    - Support should also be added to the XML-RPC api to allow an external
>    app to implement similar functionality.
>    - In case of deleting comment which have child comments - ask user if
>    delete them, or re-parent them.
>    - Allow re-parenting using Drag & Drop in places like post editor.
>    - Create api for changing parent of comment, request all sub-comments and
>    other needed stuff.
>    - Add threaded comments to comments in moderation (more about UI)
>    - Warn(change background of comment row or smth else) moderator/admin if
>    there is post of unlogged user with the same email as registered user and
>    give ability to change the author from unlogged to those registered who own
>    this email.
> 
> 
> ------------------------------
> 
> Message: 4
> Date: Sun, 18 Apr 2010 00:25:13 +0300
> From: scribu <scribu at gmail.com>
> Subject: Re: [wp-hackers] Regarding wp markup language
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<q2y349fe48b1004171425j33c5bd48j8e120b6405e44efe at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
> 
> On Sat, Apr 17, 2010 at 8:04 PM, Jeremy Clarke <jer at simianuprising.com>wrote:
> 
> > The only things that aren't dead-simple to insert into themes are the
> > stuff that would be super-complicated to do even with a markup
> > language, the loop itself. In my case I write wrapper functions for
> > that stuff then call it in the templates, stuff like
> > gv_display_post_archive() or gv_display_recent_headlines(). IMHO that
> > is an area where WP has room to improve: it should offer default loop
> > etc functions that can be overridden by themers in functions.php or
> > plugins, similar to how the Comments system works now. I saw a trac
> > ticket in this vein at some point but can't find it now.
> >
> 
> 
> You're probably thinking of Modular themes: Apply template hierarchy to
> folders within a theme <http://core.trac.wordpress.org/ticket/12877>
> 
> 
> -- 
> http://scribu.net
> 
> 
> ------------------------------
> 
> Message: 5
> Date: Sun, 18 Apr 2010 00:31:43 +0300
> From: scribu <scribu at gmail.com>
> Subject: Re: [wp-hackers] URL structure for web application with wp
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<j2x349fe48b1004171431q84888d03v65b9c99d97d5fdc2 at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
> 
> To link posts to other posts, I would use a posts2posts table, instead of
> the taxonomy system: fewer tables => better performance, easier to maintain
> consistency.
> 
> 
> On Sat, Apr 17, 2010 at 10:10 PM, Christian Foster <
> christian.foster at gmail.com> wrote:
> 
> > 2. Try to achieve functionality like categories where project is a
> > category and we can link all post types into it and get the same style
> > of paths:
> > /projects/project-slug/task-name
> > /projects/project-slug/message-name
> > /projects/project-slug/project-name
> >
> > Wordpress is rewriting all custom post types as /post-type/slug at the
> > moment, so I am not sure if this is achievable.
> >
> 
> When defining the post type, you can set 'rewrite' => false and then
> manually add whatever rewrite rules you want.
> 
> 
> -- 
> http://scribu.net
> 
> 
> ------------------------------
> 
> Message: 6
> Date: Sat, 17 Apr 2010 19:08:22 -0400
> From: Mike Schinkel <mikeschinkel at newclarity.net>
> Subject: Re: [wp-hackers] Regarding wp markup language
> To: wp-hackers at lists.automattic.com
> Message-ID: <9847379C-C4D3-47B6-A229-C3770B05AEAA at newclarity.net>
> Content-Type: text/plain;	charset=us-ascii
> 
> On Apr 17, 2010, at 1:04 PM, Jeremy Clarke wrote:
> > that is an area where WP has room to improve: it should offer default loop
> > etc functions that can be overridden by themers in functions.php or
> > plugins, similar to how the Comments system works now. I saw a trac
> > ticket in this vein at some point but can't find it now.
> 
> 
> +1
> 
> -Mike
> 
> ------------------------------
> 
> Message: 7
> Date: Sat, 17 Apr 2010 19:59:02 -0400
> From: Mike Schinkel <mikeschinkel at newclarity.net>
> Subject: Re: [wp-hackers] URL structure for web application with wp
> To: wp-hackers at lists.automattic.com
> Message-ID: <C8DC9EEB-3DA5-4239-8A01-A44E107BEF7F at newclarity.net>
> Content-Type: text/plain;	charset=us-ascii
> 
> On Apr 17, 2010, at 3:10 PM, Christian Foster wrote:
> > I'm building a basic project management system. This is the setup:
> > 
> > Custom post types: Project, Milestone, Task, Message
> > Taxonomies: Projects, Task List, Message Categories
> > 
> > Obviously this app needs to be project-centric - so whatever post,
> > archive or taxonomy we're viewing generally it should relate to a
> > project. So - all post types are linked to a project via a term in the
> > projects taxonomy that has the same name as 1 project.
> > 
> > Example: Project 1 (post type project) is linked to term "Project 1"
> > from the projects taxonomy. Message 1...Message 10 are also linked via
> > term "Project 1" in Projects taxonomy.
> > 
> > Therefore when viewing any individual post, we can check the term
> > they're linked to in the "Projects" taxonomy and find out which
> > project we are talking about. But, when viewing an archive we have no
> > way to reference which project is being referenced unless we put
> > something in the URL (or set a session variable which I also played
> > with).
> > 
> > So - what do people think the best way of structuring the app might
> > be? Here are what I see as the options at the moment:
> > 
> > 1. Create pages as so
> > /projects/project-id
> > /projects/messages/project-id
> > /projects/tasks/project-id
> > 
> > Create custom rewrite rules, stick a project id on the end of the url
> > on all of the above and then do custom page templates to look up and
> > display the correct posts. Or some variation of URL rewriting and
> > pages with custom templates.
> > 
> > 2. Try to achieve functionality like categories where project is a
> > category and we can link all post types into it and get the same style
> > of paths:
> > /projects/project-slug/task-name
> > /projects/project-slug/message-name
> > /projects/project-slug/project-name
> > 
> > Wordpress is rewriting all custom post types as /post-type/slug at the
> > moment, so I am not sure if this is achievable.
> > 
> > 3. Some other solution using sessions to set the current project and
> > then relating all queries to that project.
> > 
> > Having written all of that I guess any of those options would do, I'm
> > just not quite able to get a neat and tidy solution out though - any
> > ideas would be appreciated.
> 
> Your need provides a good example use-case for this ticket:
> 
> http://core.trac.wordpress.org/ticket/12935
> 
> On Apr 17, 2010, at 5:31 PM, scribu wrote:
> > To link posts to other posts, I would use a posts2posts table, instead of
> > the taxonomy system: fewer tables => better performance, easier to maintain
> > consistency.
> 
> But that unfortunately requires creating significant admin UI, doesn't it?  Linking posts through the taxonomy system means that at least most of the plugin work can be done as backend code.
> 
> That said, every use case I look at has the need to related posts to other posts so much so that I can't imagine it not being a valuable addition to core. For example, to have a meta box that lets you related a post to posts of another type. Anyone know if there are any trac tickets for this?
> 
> On Apr 17, 2010, at 3:40 PM, Charles Frees-Melvin wrote:
> > I think you are running into a complexity/limitation of WordPress. That a taxonomy cannot have meta.
> 
> I pondered a while back if wp_term_taxonomy shouldn't be deprecated and replaced with a post type of 'term_taxonomy' to which some derided the suggestion. Maybe now that custom post types are more mature considering it might actually make sense?
> 
> -Mike
> 
> ------------------------------
> 
> Message: 8
> Date: Sun, 18 Apr 2010 10:34:56 +0300
> From: scribu <scribu at gmail.com>
> Subject: Re: [wp-hackers] URL structure for web application with wp
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<g2s349fe48b1004180034w6fea6416ib36d8964ed05dd50 at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
> 
> On Sun, Apr 18, 2010 at 2:59 AM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
> 
> > On Apr 17, 2010, at 5:31 PM, scribu wrote:
> > > To link posts to other posts, I would use a posts2posts table, instead of
> > > the taxonomy system: fewer tables => better performance, easier to
> > maintain
> > > consistency.
> >
> > But that unfortunately requires creating significant admin UI, doesn't it?
> >  Linking posts through the taxonomy system means that at least most of the
> > plugin work can be done as backend code.
> >
> > That said, every use case I look at has the need to related posts to other
> > posts so much so that I can't imagine it not being a valuable addition to
> > core. For example, to have a meta box that lets you related a post to posts
> > of another type. Anyone know if there are any trac tickets for this?
> >
> 
> It could be made into a sturdy plugin before being added to core.
> 
> 


-- 
James Tarleton <jtarleton at jamestarleton.com>


From mikeschinkel at newclarity.net  Sun Apr 18 17:37:22 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 18 Apr 2010 13:37:22 -0400
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <o2x349fe48b1004180349y82ebe929p8dd6f3d1a787a8df@mail.gmail.com>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>
	<DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>
	<u2g349fe48b1004180259r26fc06c5yb371289d5ed3dcc@mail.gmail.com>
	<1DB28546-E7B6-4510-8AE5-BDC231D52F98@newclarity.net>
	<h2u349fe48b1004180311i26047008q9a6c72c2391d6fc1@mail.gmail.com>
	<3A9A0982-3D70-479F-8D76-DDA2B66A22C9@newclarity.net>
	<z2x349fe48b1004180322ma4aa75b7i80ff78ebcd43392b@mail.gmail.com>
	<577E0663-6988-45A5-97C1-0F043531397C@newclarity.net>
	<o2x349fe48b1004180349y82ebe929p8dd6f3d1a787a8df@mail.gmail.com>
Message-ID: <6B0E0667-5196-4705-8D17-2C7E6A4E0E59@newclarity.net>

On Apr 18, 2010, at 6:49 AM, scribu wrote:
> On Sun, Apr 18, 2010 at 1:37 PM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
> 
>>       $pages = get_pages();
>>       foreach ( $pages as $page )
>> 
>> $wp_rewrite->add_rule("$page->post_name/?","index.php?post_type=page&p={$page->ID}",'top');
>> 
>> Only problem is, in either case, now it calls single_template instead of
>> page_template.  Go figure.
>> 
> 
> 
> You should use *?page_id=* instead of *post_type=page&p=*


Awesome, that did it. Thanks!  

But unfortunately it's still not 100% complete.  This is the code that works thus far:

		global $wp,$wp_rewrite;
		$wp->add_query_var('financial-term');
		$wp_rewrite->add_rewrite_tag('%financial-term%', '([^/]+)','financial-term=');
		$wp_rewrite->add_permastruct('financial-term', '%financial-term%');
		$pages = get_pages();
		foreach ( $pages as $page ) {
			$wp_rewrite->add_rule("$page->post_name/?","index.php?page_id={$page->ID}",'top');
		}
		$wp_rewrite->flush_rules(false);

Unfortunately I'm finding that get_permalink() returns 'example.com/financial-term/term-name/' (which generates a 404) instead of 'example.com/term-name/' which serves as I want it to.  I can of course hook 'post_link' and manipulate the link but it's like I shouldn't have to do it that way and thus am doing something wrong.  

OTOH, looking just now at the definition of register_post_type() it seems to give no other option than something like '%post_type%/post-name'.  Any ideas, or is this just where a new filter is needed?

-Mike

From mikeschinkel at newclarity.net  Sun Apr 18 18:01:43 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 18 Apr 2010 14:01:43 -0400
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <6B0E0667-5196-4705-8D17-2C7E6A4E0E59@newclarity.net>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<g2j349fe48b1004180217m8bb5d4c3u813c0273c50abd84@mail.gmail.com>
	<DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>
	<u2g349fe48b1004180259r26fc06c5yb371289d5ed3dcc@mail.gmail.com>
	<1DB28546-E7B6-4510-8AE5-BDC231D52F98@newclarity.net>
	<h2u349fe48b1004180311i26047008q9a6c72c2391d6fc1@mail.gmail.com>
	<3A9A0982-3D70-479F-8D76-DDA2B66A22C9@newclarity.net>
	<z2x349fe48b1004180322ma4aa75b7i80ff78ebcd43392b@mail.gmail.com>
	<577E0663-6988-45A5-97C1-0F043531397C@newclarity.net>
	<o2x349fe48b1004180349y82ebe929p8dd6f3d1a787a8df@mail.gmail.com>
	<6B0E0667-5196-4705-8D17-2C7E6A4E0E59@newclarity.net>
Message-ID: <9F0AD07D-1D70-4D62-BAFB-1097DA8073B6@newclarity.net>

Okay, so the final fix needed was this:

add_filter('post_type_link','wbt_post_type_link',10,3);
function wbt_post_type_link($link, $id, $leavename) {
	if (strpos($link,'financial-terms/')!==false)
		$link = str_replace('financial-terms/','',$link);
	return $link;
}

Not the cleanest, doing string replace, and I'd rather have a hook called once for register_post_type() than once per hyperlink, but it works for now.

Thanks scribu and Christian for the help.

-Mike

On Apr 18, 2010, at 1:37 PM, Mike Schinkel wrote:

> On Apr 18, 2010, at 6:49 AM, scribu wrote:
>> On Sun, Apr 18, 2010 at 1:37 PM, Mike Schinkel
>> <mikeschinkel at newclarity.net>wrote:
>> 
>>>      $pages = get_pages();
>>>      foreach ( $pages as $page )
>>> 
>>> $wp_rewrite->add_rule("$page->post_name/?","index.php?post_type=page&p={$page->ID}",'top');
>>> 
>>> Only problem is, in either case, now it calls single_template instead of
>>> page_template.  Go figure.
>>> 
>> 
>> 
>> You should use *?page_id=* instead of *post_type=page&p=*
> 
> 
> Awesome, that did it. Thanks!  
> 
> But unfortunately it's still not 100% complete.  This is the code that works thus far:
> 
> 		global $wp,$wp_rewrite;
> 		$wp->add_query_var('financial-term');
> 		$wp_rewrite->add_rewrite_tag('%financial-term%', '([^/]+)','financial-term=');
> 		$wp_rewrite->add_permastruct('financial-term', '%financial-term%');
> 		$pages = get_pages();
> 		foreach ( $pages as $page ) {
> 			$wp_rewrite->add_rule("$page->post_name/?","index.php?page_id={$page->ID}",'top');
> 		}
> 		$wp_rewrite->flush_rules(false);
> 
> Unfortunately I'm finding that get_permalink() returns 'example.com/financial-term/term-name/' (which generates a 404) instead of 'example.com/term-name/' which serves as I want it to.  I can of course hook 'post_link' and manipulate the link but it's like I shouldn't have to do it that way and thus am doing something wrong.  
> 
> OTOH, looking just now at the definition of register_post_type() it seems to give no other option than something like '%post_type%/post-name'.  Any ideas, or is this just where a new filter is needed?
> 
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From scribu at gmail.com  Sun Apr 18 19:45:42 2010
From: scribu at gmail.com (scribu)
Date: Sun, 18 Apr 2010 22:45:42 +0300
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <6B0E0667-5196-4705-8D17-2C7E6A4E0E59@newclarity.net>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>
	<u2g349fe48b1004180259r26fc06c5yb371289d5ed3dcc@mail.gmail.com>
	<1DB28546-E7B6-4510-8AE5-BDC231D52F98@newclarity.net>
	<h2u349fe48b1004180311i26047008q9a6c72c2391d6fc1@mail.gmail.com>
	<3A9A0982-3D70-479F-8D76-DDA2B66A22C9@newclarity.net>
	<z2x349fe48b1004180322ma4aa75b7i80ff78ebcd43392b@mail.gmail.com>
	<577E0663-6988-45A5-97C1-0F043531397C@newclarity.net>
	<o2x349fe48b1004180349y82ebe929p8dd6f3d1a787a8df@mail.gmail.com>
	<6B0E0667-5196-4705-8D17-2C7E6A4E0E59@newclarity.net>
Message-ID: <q2x349fe48b1004181245i7a1ea198k784049725c3b7a11@mail.gmail.com>

On Sun, Apr 18, 2010 at 8:37 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> Unfortunately I'm finding that get_permalink() returns '
> example.com/financial-term/term-name/' (which generates a 404) instead of
> 'example.com/term-name/' which serves as I want it to.  I can of course
> hook 'post_link' and manipulate the link but it's like I shouldn't have to
> do it that way and thus am doing something wrong.
>

Yeah, unfortunately the rewrite rule generating code isn't connected with
the link generating code.



OTOH, looking just now at the definition of register_post_type() it seems to
> give no other option than something like '%post_type%/post-name'.  Any
> ideas, or is this just where a new filter is needed?
>

Not necessarily a filter... the 'rewrite' argument should accept a permalink
structure, instead of just true/false, but that's something for 3.1 maybe.



add_filter('post_type_link','
> wbt_post_type_link',10,3);
> function wbt_post_type_link($link, $id, $leavename) {
>        if (strpos($link,'financial-terms/')!==false)
>                $link = str_replace('financial-terms/','',$link);
>        return $link;
> }
>

I would replace

if (strpos($link,'financial-terms/')!==false)

with

if ( 'financial-term' == get_post_type($id) )


-- 
http://scribu.net

From wp at andrewnacin.com  Sun Apr 18 21:05:26 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 18 Apr 2010 17:05:26 -0400
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <q2x349fe48b1004181245i7a1ea198k784049725c3b7a11@mail.gmail.com>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net> 
	<u2g349fe48b1004180259r26fc06c5yb371289d5ed3dcc@mail.gmail.com> 
	<1DB28546-E7B6-4510-8AE5-BDC231D52F98@newclarity.net>
	<h2u349fe48b1004180311i26047008q9a6c72c2391d6fc1@mail.gmail.com>
	<3A9A0982-3D70-479F-8D76-DDA2B66A22C9@newclarity.net>
	<z2x349fe48b1004180322ma4aa75b7i80ff78ebcd43392b@mail.gmail.com>
	<577E0663-6988-45A5-97C1-0F043531397C@newclarity.net>
	<o2x349fe48b1004180349y82ebe929p8dd6f3d1a787a8df@mail.gmail.com>
	<6B0E0667-5196-4705-8D17-2C7E6A4E0E59@newclarity.net>
	<q2x349fe48b1004181245i7a1ea198k784049725c3b7a11@mail.gmail.com>
Message-ID: <h2l4cc4de141004181405p289eddd1g64028050000f693b@mail.gmail.com>

>
> I would replace

if (strpos($link,'financial-terms/')!==false)

with

if ( 'financial-term' == get_post_type($id) )


Or, just committed to trunk this morning:

if ( is_post_type( 'financial-term', $id ) )

From mikeschinkel at newclarity.net  Sun Apr 18 21:52:06 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 18 Apr 2010 17:52:06 -0400
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <q2x349fe48b1004181245i7a1ea198k784049725c3b7a11@mail.gmail.com>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<DEDD4F84-27E3-4D5D-94AC-B747337CAC23@newclarity.net>
	<u2g349fe48b1004180259r26fc06c5yb371289d5ed3dcc@mail.gmail.com>
	<1DB28546-E7B6-4510-8AE5-BDC231D52F98@newclarity.net>
	<h2u349fe48b1004180311i26047008q9a6c72c2391d6fc1@mail.gmail.com>
	<3A9A0982-3D70-479F-8D76-DDA2B66A22C9@newclarity.net>
	<z2x349fe48b1004180322ma4aa75b7i80ff78ebcd43392b@mail.gmail.com>
	<577E0663-6988-45A5-97C1-0F043531397C@newclarity.net>
	<o2x349fe48b1004180349y82ebe929p8dd6f3d1a787a8df@mail.gmail.com>
	<6B0E0667-5196-4705-8D17-2C7E6A4E0E59@newclarity.net>
	<q2x349fe48b1004181245i7a1ea198k784049725c3b7a11@mail.gmail.com>
Message-ID: <F795CA33-9CC1-45CA-830B-CB74BCAA445D@newclarity.net>

On Apr 18, 2010, at 3:45 PM, scribu wrote:
>> add_filter('post_type_link','
>> wbt_post_type_link',10,3);
>> function wbt_post_type_link($link, $id, $leavename) {
>>       if (strpos($link,'financial-terms/')!==false)
>>               $link = str_replace('financial-terms/','',$link);
>>       return $link;
>> }
> 
> I would replace
> 
>       if (strpos($link,'financial-terms/')!==false)
> 
> with
> 
>       if ( 'financial-term' == get_post_type($id) )

Perfect! Thanks.

-Mike

From wp at andrewnacin.com  Sun Apr 18 22:00:14 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 18 Apr 2010 18:00:14 -0400
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <F795CA33-9CC1-45CA-830B-CB74BCAA445D@newclarity.net>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net> 
	<1DB28546-E7B6-4510-8AE5-BDC231D52F98@newclarity.net>
	<h2u349fe48b1004180311i26047008q9a6c72c2391d6fc1@mail.gmail.com>
	<3A9A0982-3D70-479F-8D76-DDA2B66A22C9@newclarity.net>
	<z2x349fe48b1004180322ma4aa75b7i80ff78ebcd43392b@mail.gmail.com>
	<577E0663-6988-45A5-97C1-0F043531397C@newclarity.net>
	<o2x349fe48b1004180349y82ebe929p8dd6f3d1a787a8df@mail.gmail.com>
	<6B0E0667-5196-4705-8D17-2C7E6A4E0E59@newclarity.net>
	<q2x349fe48b1004181245i7a1ea198k784049725c3b7a11@mail.gmail.com>
	<F795CA33-9CC1-45CA-830B-CB74BCAA445D@newclarity.net>
Message-ID: <h2i4cc4de141004181500l8ffef241s3c5b5ec57eb2230c@mail.gmail.com>

On Sun, Apr 18, 2010 at 5:47 PM, Mike Schinkel <mikeschinkel at newclarity.net>
 wrote:

> > if ( is_post_type( 'financial-term', $id ) )


> I assume this is sarcastic?  If so, was there something I did wrong?


On Sun, Apr 18, 2010 at 5:52 PM, Mike Schinkel <mikeschinkel at newclarity.net>
 wrote:

> > if ( 'financial-term' == get_post_type($id) )
>

> Perfect! Thanks.


No, it wasn't sarcastic. I'm also not sure how much more clear I could have
gotten. I literally added is_post_type() today:
http://trac.wordpress.org/changeset/14158.

Pass it a post type and a post, and it'll tell you if the post is of that
type -- that's exactly what scribu proposed for you, only it's simpler.

The function is more powerful than that -- it can take an array of post
types to validate the post against. It can also take only a post type, and
it'll tell you whether that post type is indeed registered.

From mikeschinkel at newclarity.net  Sun Apr 18 22:36:02 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 18 Apr 2010 18:36:02 -0400
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <h2i4cc4de141004181500l8ffef241s3c5b5ec57eb2230c@mail.gmail.com>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<1DB28546-E7B6-4510-8AE5-BDC231D52F98@newclarity.net>
	<h2u349fe48b1004180311i26047008q9a6c72c2391d6fc1@mail.gmail.com>
	<3A9A0982-3D70-479F-8D76-DDA2B66A22C9@newclarity.net>
	<z2x349fe48b1004180322ma4aa75b7i80ff78ebcd43392b@mail.gmail.com>
	<577E0663-6988-45A5-97C1-0F043531397C@newclarity.net>
	<o2x349fe48b1004180349y82ebe929p8dd6f3d1a787a8df@mail.gmail.com>
	<6B0E0667-5196-4705-8D17-2C7E6A4E0E59@newclarity.net>
	<q2x349fe48b1004181245i7a1ea198k784049725c3b7a11@mail.gmail.com>
	<F795CA33-9CC1-45CA-830B-CB74BCAA445D@newclarity.net>
	<h2i4cc4de141004181500l8ffef241s3c5b5ec57eb2230c@mail.gmail.com>
Message-ID: <8E11C08B-2EAA-43F1-AE38-BB73AEF598E0@newclarity.net>

On Apr 18, 2010, at 6:00 PM, Andrew Nacin wrote:
> On Sun, Apr 18, 2010 at 5:47 PM, Mike Schinkel <mikeschinkel at newclarity.net>
> wrote:
> 
>>> if ( is_post_type( 'financial-term', $id ) )
> 
>> I assume this is sarcastic?  If so, was there something I did wrong?
> 
> 
> On Sun, Apr 18, 2010 at 5:52 PM, Mike Schinkel <mikeschinkel at newclarity.net>
> wrote:
> 
>>> if ( 'financial-term' == get_post_type($id) )
>> 
> 
>> Perfect! Thanks.
> 
> No, it wasn't sarcastic. I'm also not sure how much more clear I could have
> gotten. I literally added is_post_type() today:
> http://trac.wordpress.org/changeset/14158.
> 
> Pass it a post type and a post, and it'll tell you if the post is of that
> type -- that's exactly what scribu proposed for you, only it's simpler.
> 
> The function is more powerful than that -- it can take an array of post
> types to validate the post against. It can also take only a post type, and
> it'll tell you whether that post type is indeed registered.

Sorry, I had a brain-lapse.  I elaborated in a private email.

-Mike


From wp at andrewnacin.com  Sun Apr 18 23:22:08 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 18 Apr 2010 19:22:08 -0400
Subject: [wp-hackers] Need Custom Post Type Rewrite Help, Please
In-Reply-To: <8E11C08B-2EAA-43F1-AE38-BB73AEF598E0@newclarity.net>
References: <BA9924F3-D537-4F25-A2FF-D0144AFFE402@newclarity.net>
	<3A9A0982-3D70-479F-8D76-DDA2B66A22C9@newclarity.net>
	<z2x349fe48b1004180322ma4aa75b7i80ff78ebcd43392b@mail.gmail.com>
	<577E0663-6988-45A5-97C1-0F043531397C@newclarity.net>
	<o2x349fe48b1004180349y82ebe929p8dd6f3d1a787a8df@mail.gmail.com>
	<6B0E0667-5196-4705-8D17-2C7E6A4E0E59@newclarity.net>
	<q2x349fe48b1004181245i7a1ea198k784049725c3b7a11@mail.gmail.com>
	<F795CA33-9CC1-45CA-830B-CB74BCAA445D@newclarity.net>
	<h2i4cc4de141004181500l8ffef241s3c5b5ec57eb2230c@mail.gmail.com>
	<8E11C08B-2EAA-43F1-AE38-BB73AEF598E0@newclarity.net>
Message-ID: <n2g4cc4de141004181622l6f0f2f32u3659918786e4806f@mail.gmail.com>

My bad all, I didn't catch that the first email was off-list.

Scribu's solution works fine, I was just sharing a new nifty function.

Nacin


On 4/18/10, Mike Schinkel <mikeschinkel at newclarity.net> wrote:
> On Apr 18, 2010, at 6:00 PM, Andrew Nacin wrote:
>> On Sun, Apr 18, 2010 at 5:47 PM, Mike Schinkel
>> <mikeschinkel at newclarity.net>
>> wrote:
>>
>>>> if ( is_post_type( 'financial-term', $id ) )
>>
>>> I assume this is sarcastic?  If so, was there something I did wrong?
>>
>>
>> On Sun, Apr 18, 2010 at 5:52 PM, Mike Schinkel
>> <mikeschinkel at newclarity.net>
>> wrote:
>>
>>>> if ( 'financial-term' == get_post_type($id) )
>>>
>>
>>> Perfect! Thanks.
>>
>> No, it wasn't sarcastic. I'm also not sure how much more clear I could
>> have
>> gotten. I literally added is_post_type() today:
>> http://trac.wordpress.org/changeset/14158.
>>
>> Pass it a post type and a post, and it'll tell you if the post is of that
>> type -- that's exactly what scribu proposed for you, only it's simpler.
>>
>> The function is more powerful than that -- it can take an array of post
>> types to validate the post against. It can also take only a post type, and
>> it'll tell you whether that post type is indeed registered.
>
> Sorry, I had a brain-lapse.  I elaborated in a private email.
>
> -Mike
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bernard.d.tremblay at gmail.com  Mon Apr 19 01:18:45 2010
From: bernard.d.tremblay at gmail.com (Bernard D. Tremblay (ben))
Date: Sun, 18 Apr 2010 19:18:45 -0600
Subject: [wp-hackers] Ico aka Unaligned Code ... anything heard?
Message-ID: <4BCBAF75.4000801@gmail.com>

I just started using "Stray Random Quotes" and noticed the developer has 
gone silent.

His last comment was 3AUG2009 ... his last post 16JULY last year.

It's a dandy plugin ... and looking at his support page is really 
something; dewd put a lotta work into the code, and even more into 
responding to queries.
http://unalignedcode.wordpress.com/my-wordpress-plugins/stray-random-quotes/

It'd be a shame if this just collapsed into a pile of bit-rot.
Pretty much exemplary.

ben

  


From otto at ottodestruct.com  Mon Apr 19 14:05:59 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 19 Apr 2010 09:05:59 -0500
Subject: [wp-hackers] Regarding wp markup language
In-Reply-To: <j2ze1202cb11004171004i21588b72y30eeba9a23fa4c2d@mail.gmail.com>
References: <h2n3fa40cbc1004160016l3c94392fld8be82915b361ecc@mail.gmail.com> 
	<9B0010E9-B349-4BB2-83ED-B5CB74A5A8A2@newclarity.net>
	<i2n3fa40cbc1004160039mefa52da4o760d480e340e2a9a@mail.gmail.com>
	<j2ze1202cb11004171004i21588b72y30eeba9a23fa4c2d@mail.gmail.com>
Message-ID: <s2j161617691004190705o4f62663dwc13bb05fa2f30a6c@mail.gmail.com>

On Sat, Apr 17, 2010 at 12:04 PM, Jeremy Clarke <jer at simianuprising.com> wrote:
> The only things that aren't dead-simple to insert into themes are the
> stuff that would be super-complicated to do even with a markup
> language, the loop itself. In my case I write wrapper functions for
> that stuff then call it in the templates, stuff like
> gv_display_post_archive() or gv_display_recent_headlines(). IMHO that
> is an area where WP has room to improve: it should offer default loop
> etc functions that can be overridden by themers in functions.php or
> plugins, similar to how the Comments system works now. I saw a trac
> ticket in this vein at some point but can't find it now.

It's slowly moving in that direction anyway. A lot of the basic stuff
is getting moved to core. Comments display got moved
(wp_list_comments) and now the comments form is there too
(comments_form). Sidebars are there in the form of widgets, sorta.
Menus are getting added in 3.0.

As long as the core keeps getting bits like this in it, then the theme
slowly becomes a way to just tie all this sort of stuff together.

The Loop is a special case though, because it is the heart of things
and therefore the most customized part of them. Consider how many
theme authors dislike the wp_list_comments function because it makes
it difficult to customize the comments html code. Consider how many
theme authors don't like widgets, or who use divs instead of proper
lists for their sidebars... Too many people have too many opinions for
there to be a single unified way of doing things properly, so anytime
something like this moves to core, it needs to be open enough to
accommodate all of those ways.

The Loop is infinitely customizable, and it often is, so it's not
going to be core-ified anytime soon. Bits of it might be. But the loop
itself needs to remain in theme for now, until a way is found to
either a) accommodate everybody's needs or b) convince everybody to do
things in a standard unified manner.

-Otto

From jer at simianuprising.com  Mon Apr 19 14:30:37 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 19 Apr 2010 10:30:37 -0400
Subject: [wp-hackers] Regarding wp markup language
In-Reply-To: <s2j161617691004190705o4f62663dwc13bb05fa2f30a6c@mail.gmail.com>
References: <h2n3fa40cbc1004160016l3c94392fld8be82915b361ecc@mail.gmail.com>
	<9B0010E9-B349-4BB2-83ED-B5CB74A5A8A2@newclarity.net>
	<i2n3fa40cbc1004160039mefa52da4o760d480e340e2a9a@mail.gmail.com>
	<j2ze1202cb11004171004i21588b72y30eeba9a23fa4c2d@mail.gmail.com>
	<s2j161617691004190705o4f62663dwc13bb05fa2f30a6c@mail.gmail.com>
Message-ID: <x2ue1202cb11004190730kbcdcd9d3o7440df6087f73a51@mail.gmail.com>

For your consideration:

function the_loop($args) {
    $defaults = array (
           'query' => '', // Default uses current page query, this overrides
it with new WP_Query()
           'post_display_callback' => '', // Custom post display function,
overrides default.
           'loop_start_callback' => '', // Optional callback for start of
loop
           'loop_end_callback' => '', // Optional callback for end of loop
           'before' => '', // Show this before loop if there are posts
(easier than callback)
           'after' => '', // Show this after loop if there are posts (easier
than callback
    );
    $args = wp_parse_args($args, $defaults);
    extract($args, EXTR_SKIP);
    [...]
}

This would make it really easy to customize the loop by adding a callback to
functions.php for post display then calling it in your templates. Themers
could design several callbacks - one for headlines, one for avatars, one for
big photos to show in a slider - then use the_loop() in different parts of
the site by just altering the post_display_callback argument.

I particularly like the idea of making it very easy to get away from the
clusterfuck of get_posts(), query_posts() and new WP_Query(), which seems to
confuse all new users because they don't understand what the differences are
or what insane effects query_posts() will have on their sites (specifically
on is_*() functions that come after). In this model we could switch entirely
to the new WP_Query() way without forcing people to handle the query objects
themselves. It also works to just clear everyone's palate by abstracting
those particular functions into oblivion and replacing them most of the time
(though obviously they'd still be there for the hardcore!).

Another bonus is that this system would oust the_post() from most themes,
which to me is good because it does not make sense given the language of the
rest of the template tag system. the_* functions always echo out the denoted
thing, but the_post() just loads up global variables and stuff, which is not
at all what people would expect (IMHO if the_post() were consistent with the
rest of the API it would do what 'post_display_callback' does in my proposed
system, echo out a default version of the post contents).

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From wordpress.development at gmail.com  Mon Apr 19 17:23:37 2010
From: wordpress.development at gmail.com (Wordpress Developer)
Date: Mon, 19 Apr 2010 10:23:37 -0700
Subject: [wp-hackers] memcached object cache breaking http head requests
Message-ID: <u2qcf82a8b71004191023zc0ccd235re8fe75c05f3c1f4a@mail.gmail.com>

We aren't dealing with this particular issue, but I can assure you
you're not alone in object-caching troubles.

We think a 32-bit vs. 64-bit issue might be causing this for us:
http://mu.wordpress.org/forums/topic/12417?replies=10

On a 32-bit machine we're not getting admin pages to hang but we're
having all kinds of object caching issues: posts unpublishing, changed
passwords not updating -- bad stuff.

From: http://lists.automattic.com/pipermail/wp-hackers/2010-April/031341.html

xxx


Recap: memcached + WP = empty headers or 503 errors. Simply removing the
memcached enabled object-cache.php file or commenting out the places where
it's initialized solves the problem (though performance suffers).

I had wondered if changes in how the cache is initialized in 3.0/trunk would
affect this (the use of wp_cache_reset() instead of   wp_cache_init seemed
as though it might be significant), but I've tried the new code without any
improvement (I've also realized that wp_cache_reset() isn't implemented in
the most current version of the object cache (
http://plugins.trac.wordpress.org/browser/memcached/trunk/ ), so the overall
behavior really hasn't changed much).

I'm seeing this problem on three different hosts...is it truly possible that
nobody else in the WordPress community has experienced it before?

On Sat, Mar 20, 2010 at 10:16 AM, Casey Bisson <casey.bisson at
gmail.com <http://lists.automattic.com/mailman/listinfo/wp-hackers>>wrote:

>* This is an odd one.
*>*
*>* When running WordPress MU (tested in 2.8x and 2.9x) with the memcached
*>* object cache active, it refuses to respond to HTTP HEAD requests. The result
*>* of this is that head requests to check the mimetype of a linked file (as for
*>* setting the enclosure) or size (as the video framework plugin does) fail.
*>*
*>* curl -I http://url.path
*>*
*>*
*>* returns either an empty result, or (if fronted with varnish) a 503 error.
*>*
*>* telnet site.org 80
*>*
*>*
*>*
*>* HEAD /url.path HTTP/1.1
*>*
*>* host: site.org
*>*
*>*
*>* returns the same.
*>*
*>* Moving object-cache.php out of /wp-content or commenting out one line (
*>* $this->mc[$bucket]->addServer(...) ) solves the problem. Oddly, the problem
*>* occurs only when wp_cache_init() is called the second time in
*>* wp-settings.php (if I comment out that line, the problem disappears as well,
*>* even though the cache was initialized previously).
*>*
*>* The problem occurs with multiple revisions memcache object-cache.php,
*>* including the most recent, on multiple servers with different versions of
*>* memcached.
*>* http://plugins.trac.wordpress.org/browser/memcached/trunk/
*>*
*>* I have not yet had an opportunity to test this with non-MU versions of WP
*>* or with /trunk/ (where it appears that calls to wp_cache_init() have been
*>* replaced with wp_start_object_cache() ), so there's a good chance this is MU
*>* specific or fixed already, but in all my searching I haven't been able to
*>* find any mention of the problem.
*>*
*>* I'd love to know if others have experienced this problem or solved it.
*>*
*>* --Casey
*>*
*

From mikeschinkel at newclarity.net  Mon Apr 19 21:07:51 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 19 Apr 2010 17:07:51 -0400
Subject: [wp-hackers] Regarding wp markup language
In-Reply-To: <x2ue1202cb11004190730kbcdcd9d3o7440df6087f73a51@mail.gmail.com>
References: <h2n3fa40cbc1004160016l3c94392fld8be82915b361ecc@mail.gmail.com>
	<9B0010E9-B349-4BB2-83ED-B5CB74A5A8A2@newclarity.net>
	<i2n3fa40cbc1004160039mefa52da4o760d480e340e2a9a@mail.gmail.com>
	<j2ze1202cb11004171004i21588b72y30eeba9a23fa4c2d@mail.gmail.com>
	<s2j161617691004190705o4f62663dwc13bb05fa2f30a6c@mail.gmail.com>
	<x2ue1202cb11004190730kbcdcd9d3o7440df6087f73a51@mail.gmail.com>
Message-ID: <FA560780-76B5-4A91-A387-D82B404B2DD3@newclarity.net>

On Apr 19, 2010, at 10:30 AM, Jeremy Clarke wrote:
> For your consideration:
> 
> function the_loop($args) {
>    $defaults = array (
>           'query' => '', // Default uses current page query, this overrides
> it with new WP_Query()
>           'post_display_callback' => '', // Custom post display function,
> overrides default.
>           'loop_start_callback' => '', // Optional callback for start of
> loop
>           'loop_end_callback' => '', // Optional callback for end of loop
>           'before' => '', // Show this before loop if there are posts
> (easier than callback)
>           'after' => '', // Show this after loop if there are posts (easier
> than callback
>    );
>    $args = wp_parse_args($args, $defaults);
>    extract($args, EXTR_SKIP);
>    [...]
> }


+1

I like, very much!  But I would opt for shorter names. This would become a well-known standard so clarity in naming wouldn't be as important, and I really don't want to have to type those long names over and over... :)

I'd also add a "where" callback for choosing to display or not display those posts which can't be easily filtered by a query string.

function the_loop($args) {
   $defaults = array (
          'query' => '', 
          'display' => '', 
          'where' => '', 
          'start' => '', 
          'loop' => '', 
          'before' => '', 
          'after' => '', 
   );
   $args = wp_parse_args($args, $defaults);
   extract($args, EXTR_SKIP);
   [...]
}

That said, why don't you create a plugin for this first?  Those of us who like it can use it and harden it together, and once it's baked consider rolling into core?

-Mike

From otto at ottodestruct.com  Mon Apr 19 21:52:56 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 19 Apr 2010 16:52:56 -0500
Subject: [wp-hackers] Regarding wp markup language
In-Reply-To: <x2ue1202cb11004190730kbcdcd9d3o7440df6087f73a51@mail.gmail.com>
References: <h2n3fa40cbc1004160016l3c94392fld8be82915b361ecc@mail.gmail.com> 
	<9B0010E9-B349-4BB2-83ED-B5CB74A5A8A2@newclarity.net>
	<i2n3fa40cbc1004160039mefa52da4o760d480e340e2a9a@mail.gmail.com>
	<j2ze1202cb11004171004i21588b72y30eeba9a23fa4c2d@mail.gmail.com> 
	<s2j161617691004190705o4f62663dwc13bb05fa2f30a6c@mail.gmail.com> 
	<x2ue1202cb11004190730kbcdcd9d3o7440df6087f73a51@mail.gmail.com>
Message-ID: <k2w161617691004191452o368f59f1zfff6328ca2c14cc5@mail.gmail.com>

On Mon, Apr 19, 2010 at 9:30 AM, Jeremy Clarke <jer at simianuprising.com> wrote:
> For your consideration:
>
> function the_loop($args) {
> ? ?$defaults = array (
> ...

I'm not opposed to the idea, but it strikes me that a function call
with some customization type stuff in it is not really any clearer
than simply having the loop spelled out explicitly right there.

A wrapper is only useful when it simplifies. I don't think callback
functions are necessarily simpler by design. Especially when you have
people wanting to do things like style alternating posts differently,
or put advertising after the third post, etc.

Yes, you can probably make a function generic enough to do this sort
of thing, but I think you'd really be better off making the loop
simpler directly instead of trying to eliminate it entirely.

Your basic loop is this:
<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
...
<?php endwhile; ?>

It could be a bit easier than this. And one could feasibly eliminate
the use of globals, which always make things so difficult.

Now, this is just me thinking out loud here... What if the Loop fed
into an object? That object could be like a container for your posts.
You could pass it a function to output those posts like a callback, or
you could get the posts from it one at a time and display them how you
wanted. You might be able to loop through it directly even.

The WP_Query actually covers some of this ground, the problem is the
main Loop functions all act on globals. Perhaps those could be built
into this object instead.

I could have a WP_Posts which extends the WP_Query object. I could say
$posts = new WP_Posts() to get the default query. WP_Posts could
implement Iterator (or IteratorAggregate), so then I could say
something like
foreach ($posts as $post) {
$post->the_title();
$post->the_content();
}

No globals, no fuss, no muss.


Now, this sort of thing is PHP 5 only. Still, if the implementation is
good, it might be the pushover point, eh?

-Otto

From mikeschinkel at newclarity.net  Mon Apr 19 22:42:09 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 19 Apr 2010 18:42:09 -0400
Subject: [wp-hackers] Regarding wp markup language
In-Reply-To: <k2w161617691004191452o368f59f1zfff6328ca2c14cc5@mail.gmail.com>
References: <h2n3fa40cbc1004160016l3c94392fld8be82915b361ecc@mail.gmail.com>
	<9B0010E9-B349-4BB2-83ED-B5CB74A5A8A2@newclarity.net>
	<i2n3fa40cbc1004160039mefa52da4o760d480e340e2a9a@mail.gmail.com>
	<j2ze1202cb11004171004i21588b72y30eeba9a23fa4c2d@mail.gmail.com>
	<s2j161617691004190705o4f62663dwc13bb05fa2f30a6c@mail.gmail.com>
	<x2ue1202cb11004190730kbcdcd9d3o7440df6087f73a51@mail.gmail.com>
	<k2w161617691004191452o368f59f1zfff6328ca2c14cc5@mail.gmail.com>
Message-ID: <27C80E75-760B-45FC-87DC-FDAC46523DD3@newclarity.net>

On Apr 19, 2010, at 5:52 PM, Otto wrote:
> On Mon, Apr 19, 2010 at 9:30 AM, Jeremy Clarke <jer at simianuprising.com> wrote:
>> For your consideration:
>> 
>> function the_loop($args) {
>>    $defaults = array (
>> ...
> 
> I'm not opposed to the idea, but it strikes me that a function call
> with some customization type stuff in it is not really any clearer
> than simply having the loop spelled out explicitly right there.
> 
> A wrapper is only useful when it simplifies. I don't think callback
> functions are necessarily simpler by design. Especially when you have
> people wanting to do things like style alternating posts differently,
> or put advertising after the third post, etc.
> 
> Yes, you can probably make a function generic enough to do this sort
> of thing, but I think you'd really be better off making the loop
> simpler directly instead of trying to eliminate it entirely.
> 
> Your basic loop is this:
> <?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
> ...
> <?php endwhile; ?>
> 
> It could be a bit easier than this. And one could feasibly eliminate
> the use of globals, which always make things so difficult.

In general I concur.  The callbacks are not as straightforward for themers as many would like.  If they have to type the word "function" and think about passing and accepting parameters most seem happier to just throw it all away and start from scratch. At least the designers I've worked with are mostly that way.

That said, what if the "callbacks" where optionally templates, and these was a default template hierarchy when not specified?  That could even leverage subdirectories for organization like Daryl Koopersmith's most recent proposal.

One thing I've found in working with TwentyTen is I quickly get myself confused with WordPress's standard like "page.php", "single.php", "loop.php" and so on, the templates I create based on the template hierarchy "single-financial-term", the templates based on get_template_part() like "loop-financial-term.php" and the templates I need to create for myself, i.e. "financial-term.php." It's not that it's all that difficult but it requires up-front thought and experience in what all is needed to properly architect a clean template hierarchy and most people (myself included, in this case), just start hacking things out and create a mess.  I've been thinking "I need to go back and fully rearchitect this mess" but I've not had the time and certainly I alone can't do the job the community could do collectively.   

Having a "the_loop()" where a clean template hierarchy was all figured out and consistent with all other templates would make life a lot easier for many, I think.  Rethinking the template system to use names in a more structured way could make it easier for someone to know what the files created by another themer are used for. If we use subdirectories we won't be limited by existing naming conventions i.e. "page.php" is the full HTML page for a post_type of page but "single.php" is the full HTML page for a post_type of post. Consistent? Not really.  It would be so nice to have a new clean-slate for template naming now that we have custom post types and custom taxonomies and thus so many more contexts than the current template structure envisioned.  Files like style.css, header.php, footer.php, sidebar.php could stay in the root but the rest could be moved to subdirectories, as one potential example: "pages", "posts" and "loops" (pages=full web pages, posts=post type snippets, loops=listings of post type snippets.)

Note in my example above "financial-term.php" differs from "single-financial-term.php" where the latter is a full HTML page for a single "financial-term" post type and the former is just a snippet to display a single "financial-term" to be used in a list or a widget. WordPress doesn't have a concept for the former but I'd really like to see us formalize it and I think this discussion begs that question.  Also, it would be nice to see themer-defined contexts like "financial-term-just-formula.php", "financial-term-excerpt-only.php", "financial-term-full-description.php", for example.

So by baking all this logic into the proposed "the_loop()" I think we will be much better off instead of just trying to simplify and use the loop directly.

BTW, one thing I'd like to see implemented is a way for the themer to easily discover the templates that are possible along a given execution path.  Maybe a developer add-on that used jQuery to popup a list when the plugin is activated and the page is loaded with a given URL parameter.  Maybe some though for something like this could go into this discussion too?  This would be useful for hooks to, come to thing of it.


> Now, this is just me thinking out loud here... What if the Loop fed
> into an object? That object could be like a container for your posts.
> You could pass it a function to output those posts like a callback, or
> you could get the posts from it one at a time and display them how you
> wanted. You might be able to loop through it directly even.
> 
> The WP_Query actually covers some of this ground, the problem is the
> main Loop functions all act on globals. Perhaps those could be built
> into this object instead.
> 
> I could have a WP_Posts which extends the WP_Query object. I could say
> $posts = new WP_Posts() to get the default query. WP_Posts could
> implement Iterator (or IteratorAggregate), so then I could say
> something like
> foreach ($posts as $post) {
> $post->the_title();
> $post->the_content();
> }
> 
> No globals, no fuss, no muss.

Now that I really like.  And I don't think it conflicts with what I typed above, either because: 

1.) People can still use it instead of the_loop() if they want, and 
2.) It can be used inside the loop for even cleaner code then if we used existing constructs.

It also really cleans up a lot of the interface inconsistencies and the problems inherent in the global vars.  (Only caveat is if WP_Posts should extend or contain WP_Query? I'm concerned about the potential overhead of nested classes and more importantly the fragile base class problem.) 

Anyway, great idea.

-Mike

From chicagowebdev at gmail.com  Tue Apr 20 00:12:31 2010
From: chicagowebdev at gmail.com (Jean-Patrick Smith)
Date: Mon, 19 Apr 2010 19:12:31 -0500
Subject: [wp-hackers] wp-hackers Digest, Vol 63, Issue 43
In-Reply-To: <mailman.8643.1271716943.1345.wp-hackers@lists.automattic.com>
References: <mailman.8643.1271716943.1345.wp-hackers@lists.automattic.com>
Message-ID: <i2xf44b36191004191712qb6ee71abk2f7a3ba0deeda7e9@mail.gmail.com>

> I could have a WP_Posts which extends the WP_Query object. I could say
> $posts = new WP_Posts() to get the default query. WP_Posts could
> implement Iterator (or IteratorAggregate), so then I could say
> something like
> foreach ($posts as $post) {
> $post->the_title();
> $post->the_content();
> }
>
> No globals, no fuss, no muss.
>
>
> Now, this sort of thing is PHP 5 only. Still, if the implementation is
> good, it might be the pushover point, eh?
>
> -Otto
>

This is pretty much what I'm doing currently.

Before I used to:
global $post;
$slideshow_images = get_posts($args);
$tmp = $post;
foreach($slideshow_images as $post)
{
   setup_postdata($post);
   /* do stuff */
}
$post = $tmp;

It felt too hackish, the above is from memory so might be wrong but most
know the trick.

There could def. be some really good design issues addressed if Wordpress
was PHP5.2x+

I think just using the WP_Query object would suffice, and get_posts and
query_posts could be noted as not recommended, or explain clearly in the
beginning of the documentation how it'll screw up your site potentially (if
it doesn't already).

With any system though, it takes time to get used too and learn what the
best practices are. With WP it sort of seems like there are so many ways to
do it OK, and a few do it really well, but there's also design flaws in the
core mostly IMO because of PHP4 itself, I'm so used to OOP nowadays.

From wp-hackers at striderweb.com  Tue Apr 20 19:03:56 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue, 20 Apr 2010 14:03:56 -0500
Subject: [wp-hackers] Safe location for "fallback" theme
Message-ID: <3FBA39C5-7F48-4FA0-A0AB-FBF47B85DBCF@striderweb.com>

Hi --

I came across an issue today, and after finally figuring out the problem I thought I'd run this past y'all.  Needs a code fix, IMO.

I installed a new WordPress site, went into admin and started configuring settings.  After a bit I popped over to the main site URL to see how it was all looking.

Blank page.

Huh.  That's weird.  I thought it might be something to do with my putting the WordPress files in their own directory, so I monkeyed with that for a while.  No dice.  Checking database settings, the SiteURL setting, etc.  No luck.

Finally I discovered that the problem was that the "default" theme was not in the theme directory (long story short: there was a filter set in the FTP program).  The site was set to "Default" theme, but the theme was missing.  Because "Default" is the fallback theme if a theme is missing, it was falling back on its own nonexistent self and thus showing a blank page.

I have a plugin that makes pull-quotes, and in coding the "style" functionality therein, I came across the same issues regarding fallback, and here is the solution that I finally implemented there:

1) Theme directory has default theme and whatever else comes with the system.

2) A complete second copy of the default theme exists in a completely different location not likely to be modified by user (/wp-includes perhaps?)

3) The "hidden" copy is the ultimate fallback.  If a selected theme is missing, fall back to the "default" in the theme directory.  If THAT is missing, fall back to the hidden "safe copy" of the default theme.

I can readily see a site owner removing the default theme, and then being lost if there is a problem with the theme he's using.  I think this would be a worthwhile addition to the core.

What say you all?

Stephen Rider

P.S. the pull-quote plugin:  http://striderweb.com/nerdaphernalia/features/wp-javascript-pull-quotes/

From scribu at gmail.com  Tue Apr 20 19:17:01 2010
From: scribu at gmail.com (scribu)
Date: Tue, 20 Apr 2010 22:17:01 +0300
Subject: [wp-hackers] Safe location for "fallback" theme
In-Reply-To: <3FBA39C5-7F48-4FA0-A0AB-FBF47B85DBCF@striderweb.com>
References: <3FBA39C5-7F48-4FA0-A0AB-FBF47B85DBCF@striderweb.com>
Message-ID: <r2v349fe48b1004201217r2d5791efjf4a2f7d365b5ba5f@mail.gmail.com>

I think the trend is to move everything out of the wp-content directory and
leave it empty by default.

The user would create a child theme if he wants to customize the fallback
theme.

-- 
http://scribu.net

From mfa at KunstTechnikEinheit.com  Wed Apr 21 02:01:50 2010
From: mfa at KunstTechnikEinheit.com (Max F. Albrecht)
Date: Wed, 21 Apr 2010 04:01:50 +0200
Subject: [wp-hackers] Safe location for "fallback" theme
In-Reply-To: <r2v349fe48b1004201217r2d5791efjf4a2f7d365b5ba5f@mail.gmail.com>
References: <3FBA39C5-7F48-4FA0-A0AB-FBF47B85DBCF@striderweb.com>
	<r2v349fe48b1004201217r2d5791efjf4a2f7d365b5ba5f@mail.gmail.com>
Message-ID: <0D164831-0973-4E09-8C30-654F25E43DB6@KunstTechnikEinheit.com>

Am 20.04.2010 um 21:17 schrieb scribu <scribu at gmail.com>:

> I think the trend is to move everything out of the wp-content  
> directory and
> leave it empty by default.
>
> The user would create a child theme if he wants to customize the  
> fallback
> theme.

Agreed, but even better would be to include an example child theme.

  m 

From wp-hackers at striderweb.com  Wed Apr 21 03:15:57 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue, 20 Apr 2010 22:15:57 -0500
Subject: [wp-hackers] Safe location for "fallback" theme
In-Reply-To: <r2v349fe48b1004201217r2d5791efjf4a2f7d365b5ba5f@mail.gmail.com>
References: <3FBA39C5-7F48-4FA0-A0AB-FBF47B85DBCF@striderweb.com>
	<r2v349fe48b1004201217r2d5791efjf4a2f7d365b5ba5f@mail.gmail.com>
Message-ID: <08E94C5C-81E2-46CD-A4EB-491627C6D628@striderweb.com>

On Apr 20, 2010, at 2:17 PM, scribu wrote:

> I think the trend is to move everything out of the wp-content directory and
> leave it empty by default.
> 
> The user would create a child theme if he wants to customize the fallback
> theme.

As much as duplication is generally a bad thing, I think it makes sense here.  Probably most people who've created a theme first did so by taking the default theme and making changes.  This is actually a pretty good way to learn.  I think the Default theme should still be in the /themes/ directory where it's easily found, but if no known fallback is present in the themes directory, there should be a second copy of "Default" that is the *real* fallback.  Some theme is an absolute requirement.  Let's make sure that there's always a working theme.

Removing Default from the themes directory entirely will just confuse people, *and* (I believe) will require different code to handle the child theme built off the Default in the different location.  (Or does the new "register theme folder" code handle child/parent themes in completely separate locations?)  Hackers get started by looking at what is there and making changes.  Let's leave the code as approachable as possible.

(Along these lines, if there is a problem and the "hidden" fallback is used, the Themes admin page should say that it's using a hard-coded default because there's a problem finding the selected theme in /themes/.)

Stephen


-- 
Stephen Rider
http://striderweb.com/


From mikeschinkel at newclarity.net  Wed Apr 21 03:35:56 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 20 Apr 2010 23:35:56 -0400
Subject: [wp-hackers] Safe location for "fallback" theme
In-Reply-To: <08E94C5C-81E2-46CD-A4EB-491627C6D628@striderweb.com>
References: <3FBA39C5-7F48-4FA0-A0AB-FBF47B85DBCF@striderweb.com>
	<r2v349fe48b1004201217r2d5791efjf4a2f7d365b5ba5f@mail.gmail.com>
	<08E94C5C-81E2-46CD-A4EB-491627C6D628@striderweb.com>
Message-ID: <E536B924-135A-469E-BA56-61A4720B85AB@newclarity.net>

On Apr 20, 2010, at 11:15 PM, Stephen Rider wrote:
> On Apr 20, 2010, at 2:17 PM, scribu wrote:
> Removing Default from the themes directory entirely will just confuse people, *and* (I believe) will require different code to handle the child theme built off the Default in the different location.  (Or does the new "register theme folder" code handle child/parent themes in completely separate locations?)  Hackers get started by looking at what is there and making changes.  Let's leave the code as approachable as possible.

Maybe the "real" default theme should be a super, bare-bones theme that only let's people get back to the admin console...?

-Mike

From peter.westwood at ftwr.co.uk  Wed Apr 21 07:03:09 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 21 Apr 2010 08:03:09 +0100
Subject: [wp-hackers] Safe location for "fallback" theme
In-Reply-To: <3FBA39C5-7F48-4FA0-A0AB-FBF47B85DBCF@striderweb.com>
References: <3FBA39C5-7F48-4FA0-A0AB-FBF47B85DBCF@striderweb.com>
Message-ID: <34B56BDB-C0D8-476A-8DE4-888B230BDF6B@ftwr.co.uk>


On 20 Apr 2010, at 20:03, Stephen Rider wrote:

> I came across an issue today, and after finally figuring out the problem I thought I'd run this past y'all.  Needs a code fix, IMO.
> 
> I installed a new WordPress site, went into admin and started configuring settings.  After a bit I popped over to the main site URL to see how it was all looking.
> 
> Blank page.
> 
> Huh.  That's weird.  I thought it might be something to do with my putting the WordPress files in their own directory, so I monkeyed with that for a while.  No dice.  Checking database settings, the SiteURL setting, etc.  No luck.
> 
> Finally I discovered that the problem was that the "default" theme was not in the theme directory (long story short: there was a filter set in the FTP program).  The site was set to "Default" theme, but the theme was missing.  Because "Default" is the fallback theme if a theme is missing, it was falling back on its own nonexistent self and thus showing a blank page.
> 
> I have a plugin that makes pull-quotes, and in coding the "style" functionality therein, I came across the same issues regarding fallback, and here is the solution that I finally implemented there:
> 
> 1) Theme directory has default theme and whatever else comes with the system.
> 
> 2) A complete second copy of the default theme exists in a completely different location not likely to be modified by user (/wp-includes perhaps?)
> 
> 3) The "hidden" copy is the ultimate fallback.  If a selected theme is missing, fall back to the "default" in the theme directory.  If THAT is missing, fall back to the hidden "safe copy" of the default theme.
> 
> I can readily see a site owner removing the default theme, and then being lost if there is a problem with the theme he's using.  I think this would be a worthwhile addition to the core.
> 
> What say you all?
> 

This is the /standard/ behaviour if you delete your theme - whatever your theme is and has been for a while

From memory we ended up with this because in the past we used to auto-switch to the /default/ theme when we couldn't find the theme folder on the disk unfortunately this had the behaviour on a number of hosts (I think where NFS is involved) of randomly switching peoples themes back to /default/ which is definitely not desirable.

We shouldn't be moving / duplicating the current fallback theme and don't forget it doesn't have to be twentyten - see WP_FALLBACK_THEME and validate_current_theme()

What we could and maybe should do is display a (possibly customisable) error page if we can't find the current theme on the front-end - this could then provide you with a link to the Themes section in the Administration to allow you to go and fix the issue

Cheers

Peter
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From raphael.droz at gmail.com  Wed Apr 21 10:31:57 2010
From: raphael.droz at gmail.com (=?ISO-8859-1?Q?Rapha=EBl_Droz?=)
Date: Wed, 21 Apr 2010 12:31:57 +0200
Subject: [wp-hackers] widgets automatic instanciation
Message-ID: <4BCED41D.2000903@gmail.com>

Hi,
After having spent a lot of time on the question I was finally able to 
automatically add widgets
at wpmu_create_blog() time
I would like to share the code to get some comments and to find why some 
widgets still fail
to be initialized.

I used the attached code with the following :
add_action('wpmu_new_blog', 'create_default_widgets');

Widget are created but some miss some information (title, checkbox) :
WP_Widget_Text, WP_Widget_Categories and WP_Widget_RSS.
All others are configured properly.

Paradoxally, when I call this function from, eg, index.php of the theme 
used by the site, all those 3 are
configured properly like other 5.

Hints welcome

Raph



From hempsworth at googlemail.com  Wed Apr 21 10:41:16 2010
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Wed, 21 Apr 2010 11:41:16 +0100
Subject: [wp-hackers] Safe location for "fallback" theme
In-Reply-To: <34B56BDB-C0D8-476A-8DE4-888B230BDF6B@ftwr.co.uk>
References: <3FBA39C5-7F48-4FA0-A0AB-FBF47B85DBCF@striderweb.com> 
	<34B56BDB-C0D8-476A-8DE4-888B230BDF6B@ftwr.co.uk>
Message-ID: <h2s5a1dad881004210341hb7ea336t7c3c5e7f61a47436@mail.gmail.com>

I think that would be a much simpler fix for this; a blank screen is
terrible for usability so a prettier wp_die() style page would be much
better.

I imagine that this would be the result of 'working on' the site rather than
a random occurence, but even a polite email sent to the admin to alert them
to the fact their website has no theme at the moment?

-- Alex  (Hempsworth)


On Wed, Apr 21, 2010 at 8:03 AM, Peter Westwood
<peter.westwood at ftwr.co.uk>wrote:

> What we could and maybe should do is display a (possibly customisable)
> error page if we can't find the current theme on the front-end - this could
> then provide you with a link to the Themes section in the Administration to
> allow you to go and fix the issue
>

From viniciusandre at gmail.com  Wed Apr 21 11:25:43 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Wed, 21 Apr 2010 08:25:43 -0300
Subject: [wp-hackers] Why always absolute paths?
Message-ID: <g2o4ede8f491004210425obb5716f1leab1ae70ab2b7e7b@mail.gmail.com>

Hi all.

I don't know if it can sound stupid, but yesterday a friend of mine
asked about the absolute path functions of Wordpress. Why do we always
have to use them to get images and files from our themes and plugins?
Why don't only enable relative paths, so in themes we could only do
"images/myimage.jpg" instead of "<?php bloginfo('template_directory');
?>/images/myimage.jpg"?

I imagine that these absolute paths ensures the normalization of
Wordpress, so it doesn't matter how hard I customize a theme or a
plugin, it will always find the right path. Is there another (and
better) reason?

Just curiosity.
Thanks.
--
Vin?cius Massuchetto
http://vinicius.soylocoporti.org.br

From webmaster887 at gmail.com  Wed Apr 21 11:32:32 2010
From: webmaster887 at gmail.com (Khaleel Abdul Karim)
Date: Wed, 21 Apr 2010 17:02:32 +0530
Subject: [wp-hackers] how to apply a theme only for a page
Message-ID: <i2x45e39f721004210432oa6432925v45c1bd518febef01@mail.gmail.com>

Could anyone please help me .. ?
I want to show a page in a particular theme without changing the blog
theme..
Please help me to find a solution ...

-- 
~~~~~~~~~~~~~~~~~~

Khaleel Abdul Karim
Thazhathuveedu
Erumely

From bmbalex at gmail.com  Wed Apr 21 11:46:29 2010
From: bmbalex at gmail.com (Bumbu Alex)
Date: Wed, 21 Apr 2010 14:46:29 +0300
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <g2o4ede8f491004210425obb5716f1leab1ae70ab2b7e7b@mail.gmail.com>
References: <g2o4ede8f491004210425obb5716f1leab1ae70ab2b7e7b@mail.gmail.com>
Message-ID: <l2u13f1fbc61004210446hbba58efbp76e5401bc0a90b32@mail.gmail.com>

if you use sef url and you'll give relative path for the image (ex.
images/top.jpg)

so on page _http://page.com/ you'll have src to _
http://page.com/images/top.jpg
and on page _http://page.com/last-news/ you''l have src  _
http://page.com/last-news/images/top.jpg

so you can observe that browser will look into different paths for the same
image

-----------------
you can use such src as /images/top.jpg and for the above examples you'll
have tha same link _http://page.com/images/top.jpg
but when somebody will have WP installed in subdirectory, but he will use
default template, instead of getting
_http://page.com/blog/images/top.jpg
he will have
_http://page.com/images/top.jpg

=========

so only using absolute path is friendly for all cases

p.s. when I am doing my templates(for any CMS) I try to include all possible
images through css, so usually I have no images, or few of them (I am
speaking about images from template but not from posts)

From wp-hackers at striderweb.com  Wed Apr 21 12:53:17 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 21 Apr 2010 07:53:17 -0500
Subject: [wp-hackers] Safe location for "fallback" theme
In-Reply-To: <34B56BDB-C0D8-476A-8DE4-888B230BDF6B@ftwr.co.uk>
References: <3FBA39C5-7F48-4FA0-A0AB-FBF47B85DBCF@striderweb.com>
	<34B56BDB-C0D8-476A-8DE4-888B230BDF6B@ftwr.co.uk>
Message-ID: <D9C1BB5F-F861-4819-A924-429E8D80E8BB@striderweb.com>


On Apr 21, 2010, at 2:03 AM, Peter Westwood wrote:

> This is the /standard/ behaviour if you delete your theme - whatever your theme is and has been for a while
> 
> From memory we ended up with this because in the past we used to auto-switch to the /default/ theme when we couldn't find the theme folder on the disk unfortunately this had the behaviour on a number of hosts (I think where NFS is involved) of randomly switching peoples themes back to /default/ which is definitely not desirable.

Just for the record, I wasn't suggesting changing the *setting* -- just using the fallback if the set theme isn't found at the moment.  Put the theme back, it's still the chosen theme.  (This is the way my pull-quotes Styles work.)

> What we could and maybe should do is display a (possibly customisable) error page if we can't find the current theme on the front-end - this could then provide you with a link to the Themes section in the Administration to allow you to go and fix the issue

This is a good solution.

Also FYI -- lack of theme doesn't stop access to admin.  There's just no front end; back end is fine.  So all we need is the error page -- admin can already go in to admin section to fix it, IF he knows what's wrong.

Regards,

Stephen




-- 
Stephen Rider
http://striderweb.com/


From ncrice at gmail.com  Wed Apr 21 12:57:40 2010
From: ncrice at gmail.com (Nathan Rice)
Date: Wed, 21 Apr 2010 08:57:40 -0400
Subject: [wp-hackers] how to apply a theme only for a page
In-Reply-To: <i2x45e39f721004210432oa6432925v45c1bd518febef01@mail.gmail.com>
References: <i2x45e39f721004210432oa6432925v45c1bd518febef01@mail.gmail.com>
Message-ID: <n2s862d087f1004210557laf58a280w66b489f968274a2a@mail.gmail.com>

The theory in this post should help:
http://www.nathanrice.net/blog/serve-ie6-visitors-the-default-wordpress-theme/

------------------
Nathan Rice
WordPress and Web Development
www.nathanrice.net | twitter.com/nathanrice


On Wed, Apr 21, 2010 at 7:32 AM, Khaleel Abdul Karim <webmaster887 at gmail.com
> wrote:

> Could anyone please help me .. ?
> I want to show a page in a particular theme without changing the blog
> theme..
> Please help me to find a solution ...
>
> --
> ~~~~~~~~~~~~~~~~~~
>
> Khaleel Abdul Karim
> Thazhathuveedu
> Erumely
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp-hackers at striderweb.com  Wed Apr 21 12:58:08 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 21 Apr 2010 07:58:08 -0500
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <l2u13f1fbc61004210446hbba58efbp76e5401bc0a90b32@mail.gmail.com>
References: <g2o4ede8f491004210425obb5716f1leab1ae70ab2b7e7b@mail.gmail.com>
	<l2u13f1fbc61004210446hbba58efbp76e5401bc0a90b32@mail.gmail.com>
Message-ID: <664F489F-87F2-4138-8643-D30CF23C5DD1@striderweb.com>


On Apr 21, 2010, at 6:46 AM, Bumbu Alex wrote:

> if you use sef url and you'll give relative path for the image (ex.
> images/top.jpg)
> 
> so on page _http://page.com/ you'll have src to _
> http://page.com/images/top.jpg

Correct.

> you can use such src as /images/top.jpg and for the above examples you'll
> have tha same link _http://page.com/images/top.jpg
> but when somebody will have WP installed in subdirectory, but he will use
> default template, instead of getting
> _http://page.com/blog/images/top.jpg
> he will have
> _http://page.com/images/top.jpg

???  If WP is installed in a subdirectory, the root path would include the subdirectory.  I still don't see the problem with root paths.

I've wondered this myself regarding links to media put on a site with the uploader.  Why full URL with the path?  If I move domains or something I have to go into the database and change the URLs for all those links.

Stephen




> =========
> 
> so only using absolute path is friendly for all cases
> 
> p.s. when I am doing my templates(for any CMS) I try to include all possible
> images through css, so usually I have no images, or few of them (I am
> speaking about images from template but not from posts)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From viniciusandre at gmail.com  Wed Apr 21 13:09:17 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Wed, 21 Apr 2010 10:09:17 -0300
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <664F489F-87F2-4138-8643-D30CF23C5DD1@striderweb.com>
References: <g2o4ede8f491004210425obb5716f1leab1ae70ab2b7e7b@mail.gmail.com>
	<l2u13f1fbc61004210446hbba58efbp76e5401bc0a90b32@mail.gmail.com>
	<664F489F-87F2-4138-8643-D30CF23C5DD1@striderweb.com>
Message-ID: <u2k4ede8f491004210609lbce05639o125dc3d66cbb17b9@mail.gmail.com>

On Wed, Apr 21, 2010 at 9:58 AM, Stephen Rider
<wp-hackers at striderweb.com> wrote:
>
> On Apr 21, 2010, at 6:46 AM, Bumbu Alex wrote:
>
>> if you use sef url and you'll give relative path for the image (ex.
>> images/top.jpg)
>>
>> so on page _http://page.com/ you'll have src to _
>> http://page.com/images/top.jpg
>
> Correct.
>
>> you can use such src as /images/top.jpg and for the above examples you'll
>> have tha same link _http://page.com/images/top.jpg
>> but when somebody will have WP installed in subdirectory, but he will use
>> default template, instead of getting
>> _http://page.com/blog/images/top.jpg
>> he will have
>> _http://page.com/images/top.jpg
>
> ??? ?If WP is installed in a subdirectory, the root path would include the subdirectory. ?I still don't see the problem with root paths.
>
> I've wondered this myself regarding links to media put on a site with the uploader. ?Why full URL with the path? ?If I move domains or something I have to go into the database and change the URLs for all those links.

Also, If I'm not wrong, the built-in import/export via XML feature of
Wordpress will keep the original URL, turning it into a broken link on
a new domain.
--
Vin?cius Massuchetto
http://vinicius.soylocoporti.org.br

From stas at nerd.ro  Wed Apr 21 13:12:14 2010
From: stas at nerd.ro (Stas =?UTF-8?Q?Su=C8=99cov?=)
Date: Wed, 21 Apr 2010 16:12:14 +0300
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <664F489F-87F2-4138-8643-D30CF23C5DD1@striderweb.com>
References: <g2o4ede8f491004210425obb5716f1leab1ae70ab2b7e7b@mail.gmail.com>
	<l2u13f1fbc61004210446hbba58efbp76e5401bc0a90b32@mail.gmail.com>
	<664F489F-87F2-4138-8643-D30CF23C5DD1@striderweb.com>
Message-ID: <1271855534.2006.29.camel@rivalry.c7.campus.utcluj.ro>

?n data de Mi, 21-04-2010 la 07:58 -0500, Stephen Rider a scris:
> On Apr 21, 2010, at 6:46 AM, Bumbu Alex wrote:
> 
> > if you use sef url and you'll give relative path for the image (ex.
> > images/top.jpg)
> > 
> > so on page _http://page.com/ you'll have src to _
> > http://page.com/images/top.jpg
> 
> Correct.
> 
> > you can use such src as /images/top.jpg and for the above examples you'll
> > have tha same link _http://page.com/images/top.jpg
> > but when somebody will have WP installed in subdirectory, but he will use
> > default template, instead of getting
> > _http://page.com/blog/images/top.jpg
> > he will have
> > _http://page.com/images/top.jpg
> 
> ???  If WP is installed in a subdirectory, the root path would include the subdirectory.  I still don't see the problem with root paths.
> 
> I've wondered this myself regarding links to media put on a site with the uploader.  Why full URL with the path?  If I move domains or something I have to go into the database and change the URLs for all those links.
> 
> Stephen
> 

Didn't study in depth the cause, but I think saving media files uri in
db helps a lot writing plugins for cdn plugins. This is an issue, but
it's not wrong at all.

-- 
()  Campania Panglicii ?n ASCII
/\  http://stas.nerd.ro/ascii/


From japhie at gmail.com  Wed Apr 21 13:15:49 2010
From: japhie at gmail.com (Japh)
Date: Wed, 21 Apr 2010 14:15:49 +0100
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <1271855534.2006.29.camel@rivalry.c7.campus.utcluj.ro>
References: <g2o4ede8f491004210425obb5716f1leab1ae70ab2b7e7b@mail.gmail.com> 
	<l2u13f1fbc61004210446hbba58efbp76e5401bc0a90b32@mail.gmail.com> 
	<664F489F-87F2-4138-8643-D30CF23C5DD1@striderweb.com>
	<1271855534.2006.29.camel@rivalry.c7.campus.utcluj.ro>
Message-ID: <j2oc81a02fc1004210615q7750268fs491ad17075826b85@mail.gmail.com>

The issue of broken absolute URLs left over after a migration is actually
fairly easily fixed with a MySQL find/replace query.  Not really an issue.

- Japh


On 21 April 2010 14:12, Stas Su?cov <stas at nerd.ro> wrote:

> ?n data de Mi, 21-04-2010 la 07:58 -0500, Stephen Rider a scris:
> > On Apr 21, 2010, at 6:46 AM, Bumbu Alex wrote:
> >
> > > if you use sef url and you'll give relative path for the image (ex.
> > > images/top.jpg)
> > >
> > > so on page _http://page.com/ you'll have src to _
> > > http://page.com/images/top.jpg
> >
> > Correct.
> >
> > > you can use such src as /images/top.jpg and for the above examples
> you'll
> > > have tha same link _http://page.com/images/top.jpg
> > > but when somebody will have WP installed in subdirectory, but he will
> use
> > > default template, instead of getting
> > > _http://page.com/blog/images/top.jpg
> > > he will have
> > > _http://page.com/images/top.jpg
> >
> > ???  If WP is installed in a subdirectory, the root path would include
> the subdirectory.  I still don't see the problem with root paths.
> >
> > I've wondered this myself regarding links to media put on a site with the
> uploader.  Why full URL with the path?  If I move domains or something I
> have to go into the database and change the URLs for all those links.
> >
> > Stephen
> >
>
> Didn't study in depth the cause, but I think saving media files uri in
> db helps a lot writing plugins for cdn plugins. This is an issue, but
> it's not wrong at all.
>
> --
> ()  Campania Panglicii ?n ASCII
> /\  http://stas.nerd.ro/ascii/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jbloch at olympianetworks.com  Wed Apr 21 13:16:20 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Wed, 21 Apr 2010 09:16:20 -0400
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <664F489F-87F2-4138-8643-D30CF23C5DD1@striderweb.com>
References: <g2o4ede8f491004210425obb5716f1leab1ae70ab2b7e7b@mail.gmail.com>
	<l2u13f1fbc61004210446hbba58efbp76e5401bc0a90b32@mail.gmail.com>
	<664F489F-87F2-4138-8643-D30CF23C5DD1@striderweb.com>
Message-ID: <8899BEB4-8981-4F03-889C-03B4946E3C0F@olympianetworks.com>

No. He's right. A relative path that begins with a slash assumes that the path is prefaced only by the domain. If I have http://www.example.com/ and use a src of "/images/img.jpg", it looks like http://www.example.com/images/img.jpg. If I have WP installed at http://www.example.com/blog and use an src of "/images/img.jpg" the browser still interprets it as http://www.example.com/images/img.jpg, not the correct way: http://www.example.com/blog/images/img.jpg.

Relative src's fix THAT problem (i.e. an src of 'images/img.jpg' would get the correct http://www.example.com/blog/images/img.jpg path). However, that creates a new problem: if WP is using SEF permalinks (i.e., anything but http://www.example.com/?page_id=2), you'll have a page that looks like this: http://www.example.com/blog/about-us. Using the slash at the beginning of the src creates this path: http://www.example.com/images/img.jpg (wrong). Using no slash at the beginning makes the path look like this: http://www.example.com/blog/about-us/images/img.jpg (also wrong).

Basically, you can't have relative paths if you also want to have SEF urls.

On Apr 21, 2010, at 8:58 AM, Stephen Rider wrote:

> 
> On Apr 21, 2010, at 6:46 AM, Bumbu Alex wrote:
> 
>> if you use sef url and you'll give relative path for the image (ex.
>> images/top.jpg)
>> 
>> so on page _http://page.com/ you'll have src to _
>> http://page.com/images/top.jpg
> 
> Correct.
> 
>> you can use such src as /images/top.jpg and for the above examples you'll
>> have tha same link _http://page.com/images/top.jpg
>> but when somebody will have WP installed in subdirectory, but he will use
>> default template, instead of getting
>> _http://page.com/blog/images/top.jpg
>> he will have
>> _http://page.com/images/top.jpg
> 
> ???  If WP is installed in a subdirectory, the root path would include the subdirectory.  I still don't see the problem with root paths.
> 
> I've wondered this myself regarding links to media put on a site with the uploader.  Why full URL with the path?  If I move domains or something I have to go into the database and change the URLs for all those links.
> 
> Stephen
> 
> 
> 
> 
>> =========
>> 
>> so only using absolute path is friendly for all cases
>> 
>> p.s. when I am doing my templates(for any CMS) I try to include all possible
>> images through css, so usually I have no images, or few of them (I am
>> speaking about images from template but not from posts)
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jbloch at olympianetworks.com  Wed Apr 21 13:26:34 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Wed, 21 Apr 2010 09:26:34 -0400
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <1271855534.2006.29.camel@rivalry.c7.campus.utcluj.ro>
References: <g2o4ede8f491004210425obb5716f1leab1ae70ab2b7e7b@mail.gmail.com>
	<l2u13f1fbc61004210446hbba58efbp76e5401bc0a90b32@mail.gmail.com>
	<664F489F-87F2-4138-8643-D30CF23C5DD1@striderweb.com>
	<1271855534.2006.29.camel@rivalry.c7.campus.utcluj.ro>
Message-ID: <BF1444C7-92CA-4C01-BC61-1C5738E1E67D@olympianetworks.com>

This doesn't get rid of the problem that Vinicius initially complained about. Right now you use a php function to get the correct url to the theme directory, etc. Changing the methodology to relative urls rather than absolute urls only changes what the function returns. It doesn't get rid of the function. The functions are there to give a uniform solution across all possible configurations so that theme and plugin developers can release products that will work no matter what the configuration is (even if an installation has changed the location of its wp-content folder). So the relative path way of doing it would have to return the relative path to the WP installation. So, if using relative uris for http://www.example.com/, bloginfo('wpurl') would echo '/' instead of 'http://www.example.com'. For http://www.example.com/blog, it would echo '/blog/'. The thing is, you haven't changed anything except the length of the string echoed by the function. This is because you can't depend on any single configuration being present.

How, if Vinicius is developing a custom theme, the configuration for which he already knows (and knows that it won't change), then there's absolutely no problem with developing a theme or plugin with relative urls. But WP will never get rid of those handy functions that allow developers to publicly release their work (unless it gets rid of permalinks).

On Apr 21, 2010, at 9:12 AM, Stas Su?cov wrote:

> ?n data de Mi, 21-04-2010 la 07:58 -0500, Stephen Rider a scris:
>> On Apr 21, 2010, at 6:46 AM, Bumbu Alex wrote:
>> 
>>> if you use sef url and you'll give relative path for the image (ex.
>>> images/top.jpg)
>>> 
>>> so on page _http://page.com/ you'll have src to _
>>> http://page.com/images/top.jpg
>> 
>> Correct.
>> 
>>> you can use such src as /images/top.jpg and for the above examples you'll
>>> have tha same link _http://page.com/images/top.jpg
>>> but when somebody will have WP installed in subdirectory, but he will use
>>> default template, instead of getting
>>> _http://page.com/blog/images/top.jpg
>>> he will have
>>> _http://page.com/images/top.jpg
>> 
>> ???  If WP is installed in a subdirectory, the root path would include the subdirectory.  I still don't see the problem with root paths.
>> 
>> I've wondered this myself regarding links to media put on a site with the uploader.  Why full URL with the path?  If I move domains or something I have to go into the database and change the URLs for all those links.
>> 
>> Stephen
>> 
> 
> Didn't study in depth the cause, but I think saving media files uri in
> db helps a lot writing plugins for cdn plugins. This is an issue, but
> it's not wrong at all.
> 
> -- 
> ()  Campania Panglicii ?n ASCII
> /\  http://stas.nerd.ro/ascii/
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From bmbalex at gmail.com  Wed Apr 21 13:45:09 2010
From: bmbalex at gmail.com (Bumbu Alex)
Date: Wed, 21 Apr 2010 16:45:09 +0300
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <BF1444C7-92CA-4C01-BC61-1C5738E1E67D@olympianetworks.com>
References: <g2o4ede8f491004210425obb5716f1leab1ae70ab2b7e7b@mail.gmail.com>
	<l2u13f1fbc61004210446hbba58efbp76e5401bc0a90b32@mail.gmail.com>
	<664F489F-87F2-4138-8643-D30CF23C5DD1@striderweb.com>
	<1271855534.2006.29.camel@rivalry.c7.campus.utcluj.ro>
	<BF1444C7-92CA-4C01-BC61-1C5738E1E67D@olympianetworks.com>
Message-ID: <w2r13f1fbc61004210645lfa4c1db7nc4e65f2d0cf9da5c@mail.gmail.com>

yes, I spoke only about templates which have to work right on domains/sub
domains and main directory/subdirectory
-----
how I know <?php bloginfo('template_directory');?> have nothing with DB, it
is only about template directory
-----
what about migration and/or domain changing - this is at all other problem,
and hope that this will be solved during this GSoC

From viniciusandre at gmail.com  Wed Apr 21 13:48:28 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Wed, 21 Apr 2010 10:48:28 -0300
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <j2oc81a02fc1004210615q7750268fs491ad17075826b85@mail.gmail.com>
References: <g2o4ede8f491004210425obb5716f1leab1ae70ab2b7e7b@mail.gmail.com>
	<l2u13f1fbc61004210446hbba58efbp76e5401bc0a90b32@mail.gmail.com>
	<664F489F-87F2-4138-8643-D30CF23C5DD1@striderweb.com>
	<1271855534.2006.29.camel@rivalry.c7.campus.utcluj.ro>
	<j2oc81a02fc1004210615q7750268fs491ad17075826b85@mail.gmail.com>
Message-ID: <v2g4ede8f491004210648r623b6554of7838cf3f0d25c75@mail.gmail.com>

On Wed, Apr 21, 2010 at 10:15 AM, Japh <japhie at gmail.com> wrote:
> The issue of broken absolute URLs left over after a migration is actually
> fairly easily fixed with a MySQL find/replace query. ?Not really an issue.

Serialized data in plugins and Wordpress configuration won't be fixed
by a search/replace. And doing that sounds logic for who knows what
SQL is. Users will be stuck on this.

While working with the XML migration, users won't think about opening
the file to replace the links too. We expect a migration to be truly a
complete migration.

[...]

--
Vin?cius Massuchetto
http://vinicius.soylocoporti.org.br

From jbloch at olympianetworks.com  Wed Apr 21 13:48:51 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Wed, 21 Apr 2010 09:48:51 -0400
Subject: [wp-hackers] how to apply a theme only for a page
In-Reply-To: <n2s862d087f1004210557laf58a280w66b489f968274a2a@mail.gmail.com>
References: <i2x45e39f721004210432oa6432925v45c1bd518febef01@mail.gmail.com>
	<n2s862d087f1004210557laf58a280w66b489f968274a2a@mail.gmail.com>
Message-ID: <890A8AF4-403D-4F38-BCA6-AC06CA62E47F@olympianetworks.com>

The other option is to create alternate header and footer files (header-alt.php and footer-alt.php) and call them with get_header('alt') and get_footer('alt'). This keeps the theme the same and reduces the size of the themes directory and allows you to use some of the same images (which reduces server load and load time).

On Apr 21, 2010, at 8:57 AM, Nathan Rice wrote:

> The theory in this post should help:
> http://www.nathanrice.net/blog/serve-ie6-visitors-the-default-wordpress-theme/
> 
> ------------------
> Nathan Rice
> WordPress and Web Development
> www.nathanrice.net | twitter.com/nathanrice
> 
> 
> On Wed, Apr 21, 2010 at 7:32 AM, Khaleel Abdul Karim <webmaster887 at gmail.com
>> wrote:
> 
>> Could anyone please help me .. ?
>> I want to show a page in a particular theme without changing the blog
>> theme..
>> Please help me to find a solution ...
>> 
>> --
>> ~~~~~~~~~~~~~~~~~~
>> 
>> Khaleel Abdul Karim
>> Thazhathuveedu
>> Erumely
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From webmaster887 at gmail.com  Wed Apr 21 13:54:02 2010
From: webmaster887 at gmail.com (Khaleel Abdul Karim)
Date: Wed, 21 Apr 2010 19:24:02 +0530
Subject: [wp-hackers] how to apply a theme only for a page
In-Reply-To: <890A8AF4-403D-4F38-BCA6-AC06CA62E47F@olympianetworks.com>
References: <i2x45e39f721004210432oa6432925v45c1bd518febef01@mail.gmail.com> 
	<n2s862d087f1004210557laf58a280w66b489f968274a2a@mail.gmail.com> 
	<890A8AF4-403D-4F38-BCA6-AC06CA62E47F@olympianetworks.com>
Message-ID: <q2n45e39f721004210654mc049a8b9z21e62112d70f4231@mail.gmail.com>

What i have to do is i made a plugin which adds meta field to
post-meta-table contains theme (to display) while posting and i need to
display the page in the theme retrived from the post-meta-table. I tried
switch_theme() but it changes the whole blog theme .
i tried this too
wp_redirect(get_option('siteurl')."?page=".$postid."&template=".$template."&stylesheet=".$stylesheet."&preview=true");
i tried action hook switch_theme but the output was funny .. theme gets
restored soon after switching it
is there anyway other than this..???


On Wed, Apr 21, 2010 at 7:18 PM, John Bloch <jbloch at olympianetworks.com>wrote:

> The other option is to create alternate header and footer files
> (header-alt.php and footer-alt.php) and call them with get_header('alt') and
> get_footer('alt'). This keeps the theme the same and reduces the size of the
> themes directory and allows you to use some of the same images (which
> reduces server load and load time).
>
> On Apr 21, 2010, at 8:57 AM, Nathan Rice wrote:
>
> > The theory in this post should help:
> >
> http://www.nathanrice.net/blog/serve-ie6-visitors-the-default-wordpress-theme/
> >
> > ------------------
> > Nathan Rice
> > WordPress and Web Development
> > www.nathanrice.net | twitter.com/nathanrice
> >
> >
> > On Wed, Apr 21, 2010 at 7:32 AM, Khaleel Abdul Karim <
> webmaster887 at gmail.com
> >> wrote:
> >
> >> Could anyone please help me .. ?
> >> I want to show a page in a particular theme without changing the blog
> >> theme..
> >> Please help me to find a solution ...
> >>
> >> --
> >> ~~~~~~~~~~~~~~~~~~
> >>
> >> Khaleel Abdul Karim
> >> Thazhathuveedu
> >> Erumely
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
~~~~~~~~~~~~~~~~~~
http://khaleel.isgreat.org
Khaleel Abdul Karim
Thazhathuveedu
Erumely

From japhie at gmail.com  Wed Apr 21 13:54:35 2010
From: japhie at gmail.com (Japh)
Date: Wed, 21 Apr 2010 14:54:35 +0100
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <v2g4ede8f491004210648r623b6554of7838cf3f0d25c75@mail.gmail.com>
References: <g2o4ede8f491004210425obb5716f1leab1ae70ab2b7e7b@mail.gmail.com> 
	<l2u13f1fbc61004210446hbba58efbp76e5401bc0a90b32@mail.gmail.com> 
	<664F489F-87F2-4138-8643-D30CF23C5DD1@striderweb.com>
	<1271855534.2006.29.camel@rivalry.c7.campus.utcluj.ro> 
	<j2oc81a02fc1004210615q7750268fs491ad17075826b85@mail.gmail.com> 
	<v2g4ede8f491004210648r623b6554of7838cf3f0d25c75@mail.gmail.com>
Message-ID: <v2wc81a02fc1004210654u98cdc395n951c9603a0fd3a35@mail.gmail.com>

A fair point.  I guess in order for the migration to properly do this, the
export should replace any occurrence of the current domain with some sort of
"shortcode" style thing, and then an import replaces the "shortcode" with
the new domain (otherwise, an import won't know the difference between what
was an internal or external link on the previous domain).

- Japh


On 21 April 2010 14:48, Vinicius Massuchetto <viniciusandre at gmail.com>wrote:

> On Wed, Apr 21, 2010 at 10:15 AM, Japh <japhie at gmail.com> wrote:
> > The issue of broken absolute URLs left over after a migration is actually
> > fairly easily fixed with a MySQL find/replace query.  Not really an
> issue.
>
> Serialized data in plugins and Wordpress configuration won't be fixed
> by a search/replace. And doing that sounds logic for who knows what
> SQL is. Users will be stuck on this.
>
> While working with the XML migration, users won't think about opening
> the file to replace the links too. We expect a migration to be truly a
> complete migration.
>
> [...]
>
> --
> Vin?cius Massuchetto
> http://vinicius.soylocoporti.org.br
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Wed Apr 21 14:11:02 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 21 Apr 2010 09:11:02 -0500
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <v2g4ede8f491004210648r623b6554of7838cf3f0d25c75@mail.gmail.com>
References: <g2o4ede8f491004210425obb5716f1leab1ae70ab2b7e7b@mail.gmail.com> 
	<l2u13f1fbc61004210446hbba58efbp76e5401bc0a90b32@mail.gmail.com> 
	<664F489F-87F2-4138-8643-D30CF23C5DD1@striderweb.com>
	<1271855534.2006.29.camel@rivalry.c7.campus.utcluj.ro> 
	<j2oc81a02fc1004210615q7750268fs491ad17075826b85@mail.gmail.com> 
	<v2g4ede8f491004210648r623b6554of7838cf3f0d25c75@mail.gmail.com>
Message-ID: <p2r161617691004210711q97737260j44d0181b98230e52@mail.gmail.com>

On Wed, Apr 21, 2010 at 8:48 AM, Vinicius Massuchetto
<viniciusandre at gmail.com> wrote:
> On Wed, Apr 21, 2010 at 10:15 AM, Japh <japhie at gmail.com> wrote:
>> The issue of broken absolute URLs left over after a migration is actually
>> fairly easily fixed with a MySQL find/replace query. ?Not really an issue.
>
> Serialized data in plugins and Wordpress configuration won't be fixed
> by a search/replace. And doing that sounds logic for who knows what
> SQL is. Users will be stuck on this.
>
> While working with the XML migration, users won't think about opening
> the file to replace the links too. We expect a migration to be truly a
> complete migration.

Surprisingly enough, this isn't often an issue. Plugins should
generally be smart enough to not save whole URIs in serialized data,
and even when they do, it's generally only a single entry that is
easily fixed by simply reconfiguring the plugin when moving the site.

The main issue with absolute URIs is in the post content itself.
Things like broken images and that. And those are easily fixed with a
search/replace method.

As far as "users" goes, there's several plugins that make this much
easier to do. No "SQL" needed. This is the one I use:
http://urbangiraffe.com/plugins/search-regex

-Otto

From peter.westwood at ftwr.co.uk  Wed Apr 21 21:21:03 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 21 Apr 2010 22:21:03 +0100
Subject: [wp-hackers] Safe location for "fallback" theme
In-Reply-To: <D9C1BB5F-F861-4819-A924-429E8D80E8BB@striderweb.com>
References: <3FBA39C5-7F48-4FA0-A0AB-FBF47B85DBCF@striderweb.com>
	<34B56BDB-C0D8-476A-8DE4-888B230BDF6B@ftwr.co.uk>
	<D9C1BB5F-F861-4819-A924-429E8D80E8BB@striderweb.com>
Message-ID: <BB116EE2-5BED-453D-B4B8-2D605D170003@ftwr.co.uk>


On 21 Apr 2010, at 13:53, Stephen Rider wrote:

> 
> On Apr 21, 2010, at 2:03 AM, Peter Westwood wrote:
> 
>> This is the /standard/ behaviour if you delete your theme - whatever your theme is and has been for a while
>> 
>> From memory we ended up with this because in the past we used to auto-switch to the /default/ theme when we couldn't find the theme folder on the disk unfortunately this had the behaviour on a number of hosts (I think where NFS is involved) of randomly switching peoples themes back to /default/ which is definitely not desirable.
> 
> Just for the record, I wasn't suggesting changing the *setting* -- just using the fallback if the set theme isn't found at the moment.  Put the theme back, it's still the chosen theme.  (This is the way my pull-quotes Styles work.)
> 

At the moment we forcibly switch to a working theme if you visit the themes page - I wouldn't expect to change that.

>> What we could and maybe should do is display a (possibly customisable) error page if we can't find the current theme on the front-end - this could then provide you with a link to the Themes section in the Administration to allow you to go and fix the issue
> 
> This is a good solution.
> 
> Also FYI -- lack of theme doesn't stop access to admin.  There's just no front end; back end is fine.  So all we need is the error page -- admin can already go in to admin section to fix it, IF he knows what's wrong.
> 

A first pass.

http://core.trac.wordpress.org/attachment/ticket/11282/11282.diff

Comments / Improvements welcome on the ticket

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From scribu at gmail.com  Thu Apr 22 00:11:49 2010
From: scribu at gmail.com (scribu)
Date: Thu, 22 Apr 2010 03:11:49 +0300
Subject: [wp-hackers] how to apply a theme only for a page
In-Reply-To: <q2n45e39f721004210654mc049a8b9z21e62112d70f4231@mail.gmail.com>
References: <i2x45e39f721004210432oa6432925v45c1bd518febef01@mail.gmail.com>
	<n2s862d087f1004210557laf58a280w66b489f968274a2a@mail.gmail.com>
	<890A8AF4-403D-4F38-BCA6-AC06CA62E47F@olympianetworks.com>
	<q2n45e39f721004210654mc049a8b9z21e62112d70f4231@mail.gmail.com>
Message-ID: <w2k349fe48b1004211711u2c1e8dfdicb56e5c87ab6d78d@mail.gmail.com>

Maybe you'll find some insights by looking at the Theme Switcher plugin:

http://wordpress.org/extend/plugins/theme-switcher/


-- 
http://scribu.net

From stas at nerd.ro  Thu Apr 22 00:15:37 2010
From: stas at nerd.ro (Stas =?UTF-8?Q?Su=C8=99cov?=)
Date: Thu, 22 Apr 2010 03:15:37 +0300
Subject: [wp-hackers] how to apply a theme only for a page
In-Reply-To: <i2x45e39f721004210432oa6432925v45c1bd518febef01@mail.gmail.com>
References: <i2x45e39f721004210432oa6432925v45c1bd518febef01@mail.gmail.com>
Message-ID: <1271895337.2432.18.camel@rivalry.c7.campus.utcluj.ro>

?n data de Mi, 21-04-2010 la 17:02 +0530, Khaleel Abdul Karim a scris:
> Could anyone please help me .. ?
> I want to show a page in a particular theme without changing the blog
> theme..
> Please help me to find a solution ...
> 

Page templates didn't help?
codex.wordpress.org/Pages#Page_Templates


-- 
()  Campania Panglicii ?n ASCII
/\  http://stas.nerd.ro/ascii/


From mailapera at gmail.com  Thu Apr 22 01:13:19 2010
From: mailapera at gmail.com (mailapera)
Date: Thu, 22 Apr 2010 03:13:19 +0200
Subject: [wp-hackers] php in post: wp_query to get pages with specific meta
	values
Message-ID: <y2he98dfae81004211813geadf0fbbzd2fbad1bfa20bd59@mail.gmail.com>

Hi,

I am using this function in my post editor in congiunction with the
Exec-PHP plugin

<?php
$my_query = new WP_Query();
$my_query->query('meta_key=tools&meta_value=tool');
while ($my_query->have_posts()): $my_query->the_post(); ?>
<a href="<?php the_permalink(); ?>" title="<?php the_title();
?>"><?php the_title(); ?></a>
<?php endwhile; ?>

Basically I am trying to get all the pages that have one or both the
specific meta (either the key, the value, or both) so I can call them
in one specific page without having to resort to a new page template.
Using wp_list_pages is fine and dandy but it only outputs a list. I
would like to have an excerpt with each link, be able to customize all
results, therefore the need for a more elaborate code.

I am on WP 2.6.5

Thanks

From yojoaquin at gmail.com  Thu Apr 22 01:38:45 2010
From: yojoaquin at gmail.com (Joaquin Rodriguez Montero)
Date: Wed, 21 Apr 2010 22:38:45 -0300
Subject: [wp-hackers] how to apply a theme only for a page
Message-ID: <i2n41a1eb601004211838n897974a6la1785da108a5cb88@mail.gmail.com>

Why don't you use conditionals?

<?php if (is_page('different')) { get_header('alt'); } else { get_header();
} ?>

<div id="page" class="<?php if (is_page('different')) { echo
'new-template-class'; } else { echo'regular-template';  } ?>

<?php if (is_page('different')) { get_footer('alt'); } else { get_footer();
} ?>

Chocks

From jbrown510 at gmail.com  Thu Apr 22 05:46:21 2010
From: jbrown510 at gmail.com (Jon Brown)
Date: Wed, 21 Apr 2010 22:46:21 -0700
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <mailman.110.1271895355.1338.wp-hackers@lists.automattic.com>
References: <mailman.110.1271895355.1338.wp-hackers@lists.automattic.com>
Message-ID: <4bcfe2b0.1163730a.4349.22e6@mx.google.com>

Please excuse me if I jump into this and my question is a OT, it does seems on topic to me...  but I'm just starting to lurk here to get a feel.  Anyway...

Is there an equivalent to <?php bloginfo('template_directory');?> that points to the /wp-content folder?  It seems to me that it would at least provide a bridge for those that need it, like me, to make moving sites between domains easier?

I find myself often developing at http://example.com/dev and later moving to http://example.com/ or http://example.com/blog.  I could then use SQL to replace any errant instances of  http://example.com/dev/wp-content to <?php bloginfo('wp-content');?> prior to moving the site... would that even work?  php in the link fields?  

Thanks for your patience,
Jon
 

From christian.foster at gmail.com  Thu Apr 22 06:26:52 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Thu, 22 Apr 2010 16:26:52 +1000
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <4bcfe2b0.1163730a.4349.22e6@mx.google.com>
References: <mailman.110.1271895355.1338.wp-hackers@lists.automattic.com>
	<4bcfe2b0.1163730a.4349.22e6@mx.google.com>
Message-ID: <l2m89a1851d1004212326m9559915bv69b7b225ffd3c2e@mail.gmail.com>

I use constants wherever possible - you can find a list here
http://striderweb.com/nerdaphernalia/2008/08/wordpress-constants/.

Towards the bottom is:

WP_CONTENT_DIR
WP_CONTENT_URL

Chris.

On Thu, Apr 22, 2010 at 3:46 PM, Jon Brown <jbrown510 at gmail.com> wrote:
> Please excuse me if I jump into this and my question is a OT, it does seems on topic to me... ?but I'm just starting to lurk here to get a feel. ?Anyway...
>
> Is there an equivalent to <?php bloginfo('template_directory');?> that points to the /wp-content folder? ?It seems to me that it would at least provide a bridge for those that need it, like me, to make moving sites between domains easier?
>
> I find myself often developing at http://example.com/dev and later moving to http://example.com/ or http://example.com/blog. ?I could then use SQL to replace any errant instances of ?http://example.com/dev/wp-content to <?php bloginfo('wp-content');?> prior to moving the site... would that even work? ?php in the link fields?
>
> Thanks for your patience,
> Jon
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From studio at bpmedia-design.com  Thu Apr 22 08:34:16 2010
From: studio at bpmedia-design.com (studio)
Date: Thu, 22 Apr 2010 10:34:16 +0200
Subject: [wp-hackers] custom layout for admin widget area
Message-ID: <4BD00A08.7040905@bpmedia-design.com>

Hi,
i need to have a frontpage completley widgetised, i know how to do 
that.. but in the backend (the admin section) i want to have it in the 
same layout as the frontpage, so I/the customer can drop new content in 
the right widget box instead of looking if the widget name corresponds 
to the frontpage
so, is it possible to to create a custom layout for the widget page, and 
is so... how?

thanks in advance

Peter

From webmaster887 at gmail.com  Thu Apr 22 08:52:07 2010
From: webmaster887 at gmail.com (Khaleel Abdul Karim)
Date: Thu, 22 Apr 2010 14:22:07 +0530
Subject: [wp-hackers] how to apply a theme only for a page
In-Reply-To: <i2n41a1eb601004211838n897974a6la1785da108a5cb88@mail.gmail.com>
References: <i2n41a1eb601004211838n897974a6la1785da108a5cb88@mail.gmail.com>
Message-ID: <q2p45e39f721004220152o10cc0729v89cd26b1d89b5fce@mail.gmail.com>

but the problems i have made this as a plugin..
i have coded the apply theme in 'the_post' action hook..
the theme will be fetched from post_meta to apply .. Thanks for all your
contribution ,...

On Thu, Apr 22, 2010 at 7:08 AM, Joaquin Rodriguez Montero <
yojoaquin at gmail.com> wrote:

> Why don't you use conditionals?
>
> <?php if (is_page('different')) { get_header('alt'); } else { get_header();
> } ?>
>
> <div id="page" class="<?php if (is_page('different')) { echo
> 'new-template-class'; } else { echo'regular-template';  } ?>
>
> <?php if (is_page('different')) { get_footer('alt'); } else { get_footer();
> } ?>
>
> Chocks
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
~~~~~~~~~~~~~~~~~~
http://khaleel.isgreat.org
Khaleel Abdul Karim
Thazhathuveedu
Erumely

From webmaster887 at gmail.com  Thu Apr 22 10:47:29 2010
From: webmaster887 at gmail.com (Khaleel Abdul Karim)
Date: Thu, 22 Apr 2010 16:17:29 +0530
Subject: [wp-hackers] how to apply a theme only for a page
In-Reply-To: <q2p45e39f721004220152o10cc0729v89cd26b1d89b5fce@mail.gmail.com>
References: <i2n41a1eb601004211838n897974a6la1785da108a5cb88@mail.gmail.com> 
	<q2p45e39f721004220152o10cc0729v89cd26b1d89b5fce@mail.gmail.com>
Message-ID: <y2v45e39f721004220347n696adt15728e979eb69513@mail.gmail.com>

Can anyone please help me how to load a specific template and stylesheet for
a particular page through code . i have designed a solution in this way
add_action('the_post','show_theme');
function show_theme($post)
{
    $postid=$post->ID;
    if($sel_theme=get_post_meta($postid,'theme', true))
    {
        $theme_data=get_theme($sel_theme);
        $template=$theme_data['Template'];
        $stylesheet=$theme_data['Stylesheet'];
         //code to display the page in the specific theme
    }
}
Can i use any other action hook other than 'the_post'?
and this code should not change the admin selected theme
i found the similar feature in a plugin *headspace2 *(page specific theme
feature)

*http://wordpress.org/extend/plugins/headspace2/*
Anyone please help . i 'm on this for many days ..
But i need to make a simple plugin for this.

On Thu, Apr 22, 2010 at 2:22 PM, Khaleel Abdul Karim <webmaster887 at gmail.com
> wrote:

> but the problems i have made this as a plugin..
> i have coded the apply theme in 'the_post' action hook..
> the theme will be fetched from post_meta to apply .. Thanks for all your
> contribution ,...
>
> On Thu, Apr 22, 2010 at 7:08 AM, Joaquin Rodriguez Montero <
> yojoaquin at gmail.com> wrote:
>
>> Why don't you use conditionals?
>>
>> <?php if (is_page('different')) { get_header('alt'); } else {
>> get_header();
>> } ?>
>>
>> <div id="page" class="<?php if (is_page('different')) { echo
>> 'new-template-class'; } else { echo'regular-template';  } ?>
>>
>> <?php if (is_page('different')) { get_footer('alt'); } else {
>> get_footer();
>> } ?>
>>
>> Chocks
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> ~~~~~~~~~~~~~~~~~~
> http://khaleel.isgreat.org
> Khaleel Abdul Karim
> Thazhathuveedu
> Erumely
>



-- 
~~~~~~~~~~~~~~~~~~
http://khaleel.isgreat.org
Khaleel Abdul Karim
Thazhathuveedu
Erumely

From 24-7 at gmx.net  Thu Apr 22 11:00:20 2010
From: 24-7 at gmx.net (24/7)
Date: Thu, 22 Apr 2010 13:00:20 +0200
Subject: [wp-hackers] Safe location for "fallback" theme
In-Reply-To: <BB116EE2-5BED-453D-B4B8-2D605D170003@ftwr.co.uk>
References: <3FBA39C5-7F48-4FA0-A0AB-FBF47B85DBCF@striderweb.com>	<34B56BDB-C0D8-476A-8DE4-888B230BDF6B@ftwr.co.uk>	<D9C1BB5F-F861-4819-A924-429E8D80E8BB@striderweb.com>
	<BB116EE2-5BED-453D-B4B8-2D605D170003@ftwr.co.uk>
Message-ID: <000c01cae20b$0038f1d0$00aad570$@net>

Looks pretty good at a first sight. You could hook the error-message into
wp-login.php to get a better overall feeling and allow the "lost" user to
directly login (one klick less). I'm trying to get the wp-login.php more
plugin-compatible (removing <p>'s in favor of <div>'s, no
admin-stylesheets). Maybe you want to take a look.

http://core.trac.wordpress.org/ticket/12506
http://core.trac.wordpress.org/ticket/13045

- K.


-----Urspr?ngliche Nachricht-----
Von: Peter Westwood [mailto:peter.westwood at ftwr.co.uk] 

A first pass.

http://core.trac.wordpress.org/attachment/ticket/11282/11282.diff

Comments / Improvements welcome on the ticket

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5




From wp at andrewnacin.com  Thu Apr 22 12:35:49 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 22 Apr 2010 08:35:49 -0400
Subject: [wp-hackers] php in post: wp_query to get pages with specific
	meta values
In-Reply-To: <y2he98dfae81004211813geadf0fbbzd2fbad1bfa20bd59@mail.gmail.com>
References: <y2he98dfae81004211813geadf0fbbzd2fbad1bfa20bd59@mail.gmail.com>
Message-ID: <p2g4cc4de141004220535s7df41556rb3c1994264d7fbea@mail.gmail.com>

On Wed, Apr 21, 2010 at 9:13 PM, mailapera <mailapera at gmail.com> wrote:

> I am on WP 2.6.5
>

*sigh*

From ash at thinkinginvain.com  Thu Apr 22 13:10:23 2010
From: ash at thinkinginvain.com (Ash Goodman)
Date: Thu, 22 Apr 2010 21:10:23 +0800
Subject: [wp-hackers] how to apply a theme only for a page
Message-ID: <g2t1d9b57821004220610m8161b24al39d4f7d30343a485@mail.gmail.com>

I would assign the page or post a meta value using a custom field. Then load
the appropriate style sheet using conditionals.

<?php $your-custom-field = get_post_meta($post->ID, 'your-custom-field',
true); if ($your-custom-field) { ?>
<!-- load your new style sheet -->
<link rel="stylesheet" href="path to your style sheet" type="text/css"
media="screen" />
<?php } else { ?>
<!-- load regular style sheet -->
<link rel="stylesheet" href="<?php bloginfo('stylesheet_url'); ?>"
type="text/css" media="screen" />
<?php } ?>

From christian.foster at gmail.com  Thu Apr 22 13:25:51 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Thu, 22 Apr 2010 23:25:51 +1000
Subject: [wp-hackers] custom layout for admin widget area
In-Reply-To: <4BD00A08.7040905@bpmedia-design.com>
References: <4BD00A08.7040905@bpmedia-design.com>
Message-ID: <i2i89a1851d1004220625o4e083dcfo10530cf4360f1102@mail.gmail.com>

This might help - this is the Widgets Page template from the hybrid
theme - not 100 sure it would work without the rest of the theme but
it will show you the idea, you are replacing the content with a
sidebar that contains various widgets - in the backend you can call
that widget area "Home Page" or similar. Obviously you want to remove
all the hybrid_ functions.

<?php
/**
 * Template Name: Widgets
 *
 * The Widgets template is a page template that is completely
widgetized. It houses the
 * 'Widgets Template' widget area. Customizations to this page should
be done through widgets.
 * @link http://themehybrid.com/themes/hybrid/page-templates/widgets
 *
 * @package Hybrid
 * @subpackage Template
 */

get_header(); ?>

	<div id="content" class="hfeed content">

		<?php hybrid_before_content(); // Before content hook ?>

		<?php dynamic_sidebar( 'utility-widgets-template' ); ?>

		<?php wp_reset_query(); ?>

		<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>

			<?php edit_post_link( __( 'Edit', 'hybrid' ), '<p
class="entry-meta"><span class="edit">', '</span></p>' ); ?>

			<?php hybrid_after_singular(); // After singular hook ?>

			<?php comments_template( '/comments.php', true ); ?>

			<?php endwhile; ?>

		<?php else: ?>

			<p class="no-data">
				<?php _e( 'Sorry, no page matched your criteria.', 'hybrid' ); ?>
			</p><!-- .no-data -->

		<?php endif; ?>

		<?php hybrid_after_content(); // After content hook ?>

	</div><!-- .content .hfeed -->

<?php get_footer(); ?>

On Thu, Apr 22, 2010 at 6:34 PM, studio <studio at bpmedia-design.com> wrote:
> Hi,
> i need to have a frontpage completley widgetised, i know how to do that..
> but in the backend (the admin section) i want to have it in the same layout
> as the frontpage, so I/the customer can drop new content in the right widget
> box instead of looking if the widget name corresponds to the frontpage
> so, is it possible to to create a custom layout for the widget page, and is
> so... how?
>
> thanks in advance
>
> Peter
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From webmaster887 at gmail.com  Thu Apr 22 13:39:42 2010
From: webmaster887 at gmail.com (Khaleel Abdul Karim)
Date: Thu, 22 Apr 2010 19:09:42 +0530
Subject: [wp-hackers] how to apply a theme only for a page
In-Reply-To: <g2t1d9b57821004220610m8161b24al39d4f7d30343a485@mail.gmail.com>
References: <g2t1d9b57821004220610m8161b24al39d4f7d30343a485@mail.gmail.com>
Message-ID: <v2z45e39f721004220639ub52fd468j9616332b3e16835a@mail.gmail.com>

I have found this code
add_filter('template', 'get_custom_post_template');
add_filter('stylesheet', 'get_post_stylesheet');
function get_custom_post_template($template)
{
    global $post;
    $sel_theme = get_post_meta($post->ID, 'theme', true);
    if(!empty($sel_theme))
    {
        $theme_data=get_theme($sel_theme);
        $template = $theme_data['Template'];
    }
    return $template;
}


function get_post_stylesheet($stylesheet)
{
    global $post;
    $sel_theme = get_post_meta($post->ID, 'theme', true);
    if(!empty($sel_theme))
    {
        $theme_data=get_theme($sel_theme);
        $stylesheet = $theme_data['Stylesheet'];
    }
    return $stylesheet;
}

but still there 's some problem with it ,, i think the page template is not
loading ... could you please help me ..
?

On Thu, Apr 22, 2010 at 6:40 PM, Ash Goodman <ash at thinkinginvain.com> wrote:

> I would assign the page or post a meta value using a custom field. Then
> load
> the appropriate style sheet using conditionals.
>
> <?php $your-custom-field = get_post_meta($post->ID, 'your-custom-field',
> true); if ($your-custom-field) { ?>
> <!-- load your new style sheet -->
> <link rel="stylesheet" href="path to your style sheet" type="text/css"
> media="screen" />
> <?php } else { ?>
> <!-- load regular style sheet -->
> <link rel="stylesheet" href="<?php bloginfo('stylesheet_url'); ?>"
> type="text/css" media="screen" />
> <?php } ?>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
~~~~~~~~~~~~~~~~~~
http://khaleel.isgreat.org
Khaleel Abdul Karim
Thazhathuveedu
Erumely

From otto at ottodestruct.com  Thu Apr 22 15:02:44 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 22 Apr 2010 10:02:44 -0500
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <4bcfe2b0.1163730a.4349.22e6@mx.google.com>
References: <mailman.110.1271895355.1338.wp-hackers@lists.automattic.com> 
	<4bcfe2b0.1163730a.4349.22e6@mx.google.com>
Message-ID: <z2o161617691004220802q6f9ade0apd9355f8096b4077b@mail.gmail.com>

On Thu, Apr 22, 2010 at 12:46 AM, Jon Brown <jbrown510 at gmail.com> wrote:
> Is there an equivalent to <?php bloginfo('template_directory');?> that points to the /wp-content folder? ?It seems to me that it would at least provide a bridge for those that need it, like me, to make moving sites between domains easier?

In PHP, you should use the content_url() function. It works like this:
echo content_url('temp/whatever');

That will give you "http://example.com/wp-content/temp/whatever" as the output.

There's also plugins_url, admin_url, includes_url, site_url, home_url,
network_site_url, network_home_url, network_admin_url... These all do
the same basic thing for different URLs that you might need. Several
of these are new to 3.0, but many of them have been around since 2.6
or so.

-Otto

From scribu at gmail.com  Thu Apr 22 15:12:19 2010
From: scribu at gmail.com (scribu)
Date: Thu, 22 Apr 2010 18:12:19 +0300
Subject: [wp-hackers] custom layout for admin widget area
In-Reply-To: <i2i89a1851d1004220625o4e083dcfo10530cf4360f1102@mail.gmail.com>
References: <4BD00A08.7040905@bpmedia-design.com>
	<i2i89a1851d1004220625o4e083dcfo10530cf4360f1102@mail.gmail.com>
Message-ID: <g2p349fe48b1004220812wd1c5854yb0c7ed54f9f08e56@mail.gmail.com>

If you would like to allow the client to edit the widgets *directly* from
the front page, you could use my Front-end
Editor<http://wordpress.org/extend/plugins/front-end-editor/>plugin.

You'll need WP 3.0 beta though + the development
version<http://downloads.wordpress.org/plugin/front-end-editor.zip>of
the plugin.


-- 
http://scribu.net

From frank at bueltge.de  Thu Apr 22 15:13:29 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Thu, 22 Apr 2010 17:13:29 +0200
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <z2o161617691004220802q6f9ade0apd9355f8096b4077b@mail.gmail.com>
References: <mailman.110.1271895355.1338.wp-hackers@lists.automattic.com> 
	<4bcfe2b0.1163730a.4349.22e6@mx.google.com>
	<z2o161617691004220802q6f9ade0apd9355f8096b4077b@mail.gmail.com>
Message-ID: <m2pdb047a771004220813u962787b5wae74c1ba7d0cd5ce@mail.gmail.com>

http://wpengineer.com/wordpress-return-url/
A small post for this topic
Frank



On Thu, Apr 22, 2010 at 5:02 PM, Otto <otto at ottodestruct.com> wrote:

> On Thu, Apr 22, 2010 at 12:46 AM, Jon Brown <jbrown510 at gmail.com> wrote:
> > Is there an equivalent to <?php bloginfo('template_directory');?> that
> points to the /wp-content folder?  It seems to me that it would at least
> provide a bridge for those that need it, like me, to make moving sites
> between domains easier?
>
> In PHP, you should use the content_url() function. It works like this:
> echo content_url('temp/whatever');
>
> That will give you "http://example.com/wp-content/temp/whatever" as the
> output.
>
> There's also plugins_url, admin_url, includes_url, site_url, home_url,
> network_site_url, network_home_url, network_admin_url... These all do
> the same basic thing for different URLs that you might need. Several
> of these are new to 3.0, but many of them have been around since 2.6
> or so.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From admin at oxymaniac.com  Thu Apr 22 15:47:21 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Thu, 22 Apr 2010 21:17:21 +0530
Subject: [wp-hackers] Why always absolute paths?
In-Reply-To: <m2pdb047a771004220813u962787b5wae74c1ba7d0cd5ce@mail.gmail.com>
References: <mailman.110.1271895355.1338.wp-hackers@lists.automattic.com>
	<4bcfe2b0.1163730a.4349.22e6@mx.google.com>
	<z2o161617691004220802q6f9ade0apd9355f8096b4077b@mail.gmail.com>
	<m2pdb047a771004220813u962787b5wae74c1ba7d0cd5ce@mail.gmail.com>
Message-ID: <k2g3f0d2d431004220847i17cf678p786c8445f23a683d@mail.gmail.com>

I guess having all links made by a function is a good idea as one can
control broken links very well that way...

Having a "shortcode" will really help. I referred to this as the [wpurl]
replace
I have submitted a little something related to this in my proposal for
GSOC2010 on WPmove
http://piyushmishra.com/blog/ideas/wpmove.html

The basic idea is this:-
In future versions of WP, we can have [wpurl] as a shortcode or core tag
which is loaded from the db and contains the fullpath to the blog URL. This
will ease out the need for search and replace of urls in database in the
event of change of domains or directory of the blog etc.
In case where the user himself feeds in a full path, a prompt may come up
for him to choose whether he wants the URL to stay or get replaced by the
[wpurl] tag

but this will add an overhead of making the search [wpurl] and replacing it
for every internal link URL that gets rendered.


in the prev conversation Otto had proposed a change in maybe_unserialize()
function which made the count of the characters in an element of the array
useless.. in simpler language, the error in unserializing a serialized array
if the number of characters in the domain changes has a work around and we
can go on with the present way of having full domain names and changing the
func to unserialize it.
http://piyushmishra.com/blog/ideas/backup-of-db.html

this will also add to the overhead but in this case the overhead will not be
everywhere the url is used but only in cases where the URL is serialized...

Which one is the better way to go?


-- 
Regards
Piyush Mishra

From arlenbee at gmail.com  Thu Apr 22 16:49:26 2010
From: arlenbee at gmail.com (Arlen Beiler)
Date: Thu, 22 Apr 2010 12:49:26 -0400
Subject: [wp-hackers] Safe location for "fallback" theme
In-Reply-To: <000c01cae20b$0038f1d0$00aad570$@net>
References: <3FBA39C5-7F48-4FA0-A0AB-FBF47B85DBCF@striderweb.com>
	<34B56BDB-C0D8-476A-8DE4-888B230BDF6B@ftwr.co.uk>
	<D9C1BB5F-F861-4819-A924-429E8D80E8BB@striderweb.com>
	<BB116EE2-5BED-453D-B4B8-2D605D170003@ftwr.co.uk>
	<000c01cae20b$0038f1d0$00aad570$@net>
Message-ID: <t2xe002a22f1004220949od945db31t86090aa4578ff809@mail.gmail.com>

>
> As much as duplication is generally a bad thing, I think it makes sense
> here.  Probably most people who've created a theme first did so by taking
> the default theme and making changes.  This is actually a pretty good way to
> learn.  I think the Default theme should still be in the /themes/ directory
> where it's easily found, but if no known fallback is present in the themes
> directory, there should be a second copy of "Default" that is the *real*
> fallback.  Some theme is an absolute requirement.  Let's make sure that
> there's always a working theme. -* Stephen Rider*


I think this is a good idea. It should preferably be in the
/wp-includes/ directory. And I also think we should have "Selected Theme not
working" written in all the prominent places, like on top of the title (in
Default 1.6) and at the top of the content.

From javikal at riseup.net  Thu Apr 22 21:42:40 2010
From: javikal at riseup.net (javikal)
Date: Thu, 22 Apr 2010 23:42:40 +0200
Subject: [wp-hackers] LangSwitcher change translations
Message-ID: <1271972560.13818.6.camel@edelweiss>

Hi all,

I'm working with wordpress 2.9.2, I have installed the plugins:

LangSwitch by www.poplarware.com/
calendar by KieranOShea with *.mo translation

And i have this problem:
when I activate the LangSwitch plugin the translation of calendar don't
work and wordpress translations neither.

Anyone have the same problem?

Thanks


-- 
http://javikal.org
j4vi at jabberes.org
                                        .''`.using
                                       : :'  :
                                        . `'`
                                         `- Debian GNU/Linux


From anca at anca.tv  Thu Apr 22 23:24:55 2010
From: anca at anca.tv (anca at anca.tv)
Date: Thu, 22 Apr 2010 19:24:55 -0400
Subject: [wp-hackers] How can I control the display title of a widget in the
	admin area?
Message-ID: <cd08ada3fc2b4971692bd0b59495e648.squirrel@anca.tv>

Hello there,

I am making a custom Links widget, and I would like to be able to set the
title of the widget (when in the dashboard) to be the name of the Links
Catgory that I'm displaying. The result should be the same as when you're
using a text widget, and you've set a title.

I'm a little bit confused about how to accomplish this.

Does the widget title automatically get set if there is a "title" field?

I think so, because it looks like the appended title is being set in
widgets.dev.js, near line 244:

appendTitle : function(widget) {
 var title = $('input[id*="-title"]', widget);
 if ( title = title.val() ) {
   title = title.replace(/<[^<>]+>/g, '').replace(/</g, '<').replace(/>/g,
'>');
   $(widget).children('.widget-top').children('.widget-title').children()
	.children('.in-widget-title').html(': ' + title);
  }
}

My current thinking is to add a hidden field called "title" to the widget,
and set it on Update to the value of the selected category.

Cheers,

Anca.


From chris at clwill.com  Thu Apr 22 23:41:56 2010
From: chris at clwill.com (Chris Williams)
Date: Thu, 22 Apr 2010 19:41:56 -0400
Subject: [wp-hackers] How can I control the display title of a widget in
 the admin area?
In-Reply-To: <cd08ada3fc2b4971692bd0b59495e648.squirrel@anca.tv>
Message-ID: <C7F62CD4.5DA5D%chris@clwill.com>

Yes

________________________________
From: <anca at anca.tv>
Subject: [wp-hackers] How can I control the display title of a widget in the admin area?

Does the widget title automatically get set if there is a "title" field?


From scribu at gmail.com  Thu Apr 22 23:57:07 2010
From: scribu at gmail.com (scribu)
Date: Fri, 23 Apr 2010 02:57:07 +0300
Subject: [wp-hackers] LangSwitcher change translations
In-Reply-To: <1271972560.13818.6.camel@edelweiss>
References: <1271972560.13818.6.camel@edelweiss>
Message-ID: <x2y349fe48b1004221657m7e742595r4bbfd94a5fe9b4d9@mail.gmail.com>

You should ask that question in the support forums:

http://wordpress.org/support/


-- 
http://scribu.net

From webmaster887 at gmail.com  Fri Apr 23 12:15:44 2010
From: webmaster887 at gmail.com (Khaleel Abdul Karim)
Date: Fri, 23 Apr 2010 17:45:44 +0530
Subject: [wp-hackers] how to apply a theme only for a page
In-Reply-To: <v2z45e39f721004220639ub52fd468j9616332b3e16835a@mail.gmail.com>
References: <g2t1d9b57821004220610m8161b24al39d4f7d30343a485@mail.gmail.com> 
	<v2z45e39f721004220639ub52fd468j9616332b3e16835a@mail.gmail.com>
Message-ID: <p2g45e39f721004230515vfa3ed2ddxadbe1330120300df@mail.gmail.com>

Anyone please help me over this to find a solution ...

On Thu, Apr 22, 2010 at 7:09 PM, Khaleel Abdul Karim <webmaster887 at gmail.com
> wrote:

> I have found this code
> add_filter('template', 'get_custom_post_template');
> add_filter('stylesheet', 'get_post_stylesheet');
> function get_custom_post_template($template)
> {
>     global $post;
>     $sel_theme = get_post_meta($post->ID, 'theme', true);
>     if(!empty($sel_theme))
>
>     {
>         $theme_data=get_theme($sel_theme);
>         $template = $theme_data['Template'];
>     }
>     return $template;
> }
>
>
> function get_post_stylesheet($stylesheet)
> {
>     global $post;
>     $sel_theme = get_post_meta($post->ID, 'theme', true);
>     if(!empty($sel_theme))
>
>     {
>         $theme_data=get_theme($sel_theme);
>         $stylesheet = $theme_data['Stylesheet'];
>     }
>     return $stylesheet;
> }
>
> but still there 's some problem with it ,, i think the page template is not
> loading ... could you please help me ..
> ?
>
>
> On Thu, Apr 22, 2010 at 6:40 PM, Ash Goodman <ash at thinkinginvain.com>wrote:
>
>> I would assign the page or post a meta value using a custom field. Then
>> load
>> the appropriate style sheet using conditionals.
>>
>> <?php $your-custom-field = get_post_meta($post->ID, 'your-custom-field',
>> true); if ($your-custom-field) { ?>
>> <!-- load your new style sheet -->
>> <link rel="stylesheet" href="path to your style sheet" type="text/css"
>> media="screen" />
>> <?php } else { ?>
>> <!-- load regular style sheet -->
>> <link rel="stylesheet" href="<?php bloginfo('stylesheet_url'); ?>"
>> type="text/css" media="screen" />
>> <?php } ?>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> ~~~~~~~~~~~~~~~~~~
> http://khaleel.isgreat.org
> Khaleel Abdul Karim
> Thazhathuveedu
> Erumely
>



-- 
~~~~~~~~~~~~~~~~~~
http://khaleel.isgreat.org
Khaleel Abdul Karim
Thazhathuveedu
Erumely

From webmaster887 at gmail.com  Fri Apr 23 15:57:23 2010
From: webmaster887 at gmail.com (Khaleel Abdul Karim)
Date: Fri, 23 Apr 2010 21:27:23 +0530
Subject: [wp-hackers] please help me to resolve this error (theme changing
	problem)
Message-ID: <q2m45e39f721004230857o925947d8pf012459f03807d59@mail.gmail.com>

Below listing contains a plugin which i have written.. the task of this
plugin is to allow publisher to select a theme while posting a page and the
page (only the page ) will be displayed in the selected theme . But i'm not
getting the complete functionality. I got the styles changed but the page
template is still not changing . I found this feature in heaspace2 plugin
and themeswitcher. but i'm trying to develop my own simple plugin. As i'm
new to wordpress i could not solve this from the past 3 days . Please anyone
help me to fix this ..

<?php
/*
Plugin Name: ThemeSelect_OOPS_NEw
Plugin URI:
Description: This will allow admin chose a theme for a new page
Version: 0.0.1
Author:
Author URI:
License: GPL
*/
class ThemeSelect
{
    function ThemeSelect()
    {
        add_action('admin_menu',array(&$this,'add_theme_box'));
        add_action('save_post',array(&$this,'save_theme'));
        add_filter('template', array(&$this,'get_post_template'),1);
        add_filter('stylesheet', array(&$this,'get_post_stylesheet'),1);
    }
    function add_theme_box() /* Adds a custom field to set theme */
    {
    if( function_exists( 'add_meta_box' ))
    {
        add_meta_box( 'theme', 'Select Theme',
'show_theme_selector','page','normal', 'high');
    }
    }
    function show_theme_selector($post)  /* Loads the select menu for the
theme selector*/
    {
        $themes=get_themes();
        $postid=$post->ID;
        if(get_post_meta($postid,'theme',true))
        $default_theme=get_post_meta($postid,'theme',true);
        echo "<select name=\"thm\">";
        foreach($themes as $theme)
        { ?>
            <option value="<?php echo $theme['Name']; ?>" <?php
if($default_theme==$theme['Name']) echo "selected=\"selected\""; ?>> <?php
echo $theme['Title']; ?> </option>
    <?php   }
        echo "</select>";
    }
    function save_theme($postid)
    {
        if(isset($_POST['thm']))
        {
            $themedata = $_POST['thm'];
            //if(get_post_meta($postid,'theme', true)=="")
            //{
            //    add_post_meta($postid,'theme',$themedata);
            //}
        //    else
        //    {
            update_post_meta($postid,'theme',$themedata);
        //    }
    }
}

function get_post_template($template='')
{
    global $post;
    $sel_theme = get_post_meta($post->ID, 'theme', true);
    if(!empty($sel_theme))
    {
        $theme=get_theme($sel_theme);
        $template = stripslashes($theme['Template']);
        //$template=get_theme_root()."/{$template}/page.php";
    }
    return $template;
}


 function get_post_stylesheet($stylesheet='')
 {
     global $post;
     $sel_theme = get_post_meta($post->ID, 'theme', true);
     if(!empty($sel_theme))
     {
         $theme=get_theme($sel_theme);
         $stylesheet = stripslashes($theme['Stylesheet']);
     }
     return $stylesheet;
 }
}
$theme_select=new ThemeSelect();
?>

-- 
~~~~~~~~~~~~~~~~~~

Khaleel Abdul Karim
Thazhathuveedu
Erumely

From elizabeth at slatetechpdx.com  Sat Apr 24 18:49:36 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Sat, 24 Apr 2010 11:49:36 -0700
Subject: [wp-hackers] how to apply a theme only for a page
In-Reply-To: <mailman.13.1272110402.4394.wp-hackers@lists.automattic.com>
References: <mailman.13.1272110402.4394.wp-hackers@lists.automattic.com>
Message-ID: <BF1BD9B2-AAEE-4A98-BFE4-242926381A58@slatetechpdx.com>



Sent from my iPhone

> Message: 1
> Date: Fri, 23 Apr 2010 17:45:44 +0530
> From: Khaleel Abdul Karim <webmaster887 at gmail.com>
> Subject: Re: [wp-hackers] how to apply a theme only for a page
> To: wp-hackers at lists.automattic.com
> Message-ID:
>    <p2g45e39f721004230515vfa3ed2ddxadbe1330120300df at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> Anyone please help me over this to find a solution ...
>
> On Thu, Apr 22, 2010 at 7:09 PM, Khaleel Abdul Karim <webmaster887 at gmail.com
>>
>>
>>
>>
>>
>>
>>
>>>
>>
>>
>>


http://www.webdesignerwall.com/trends/unique-blog-posts-and-wordpress-tips/

Examples and a howto at the bottom

From viniciusandre at gmail.com  Sun Apr 25 02:37:11 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Sat, 24 Apr 2010 23:37:11 -0300
Subject: [wp-hackers] Check for wp_footer
Message-ID: <p2g4ede8f491004241937jf1fe28aeu1d5ebefe8c379fe4@mail.gmail.com>

Couldn't find this on forums or anywhere else.
What can I test to check if wp_footer was placed on the theme?

Thanks.
--
Vin?cius Massuchetto
http://vinicius.soylocoporti.org.br

From wordpress at dd32.id.au  Sun Apr 25 03:28:55 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 25 Apr 2010 13:28:55 +1000
Subject: [wp-hackers] Check for wp_footer
In-Reply-To: <p2g4ede8f491004241937jf1fe28aeu1d5ebefe8c379fe4@mail.gmail.com>
References: <p2g4ede8f491004241937jf1fe28aeu1d5ebefe8c379fe4@mail.gmail.com>
Message-ID: <op.vbo7yhkispxmuu@ho.st>

You cant test for it reliably.

You can attach to the shutdown hook, and check if  
did_action('wp_footer').. thats the only real way other than reading the  
footer template into memory and doing a string comparison.

Better yet, just tell anyone who runs into a bug caused by it, to fix  
their theme..

-- 
Dion Hulse / dd32
Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

On Sun, 25 Apr 2010 12:37:11 +1000, Vinicius Massuchetto  
<viniciusandre at gmail.com> wrote:

> Couldn't find this on forums or anywhere else.
> What can I test to check if wp_footer was placed on the theme?

From peter.westwood at ftwr.co.uk  Sun Apr 25 07:15:36 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun, 25 Apr 2010 08:15:36 +0100
Subject: [wp-hackers] Check for wp_footer
In-Reply-To: <op.vbo7yhkispxmuu@ho.st>
References: <p2g4ede8f491004241937jf1fe28aeu1d5ebefe8c379fe4@mail.gmail.com>
	<op.vbo7yhkispxmuu@ho.st>
Message-ID: <54230E34-D640-4B08-9D53-530AA2429AB5@ftwr.co.uk>

The other way to do it is to do a http request based test which a  
special query arg on which you output a string on wp_footer.

 From memory SpamKarma2 has a check done like this for correct comment  
form hooks

--
Peter Westwood
http://peter.westwood.name

On 25 Apr 2010, at 04:28, "Dion Hulse (dd32)" <wordpress at dd32.id.au>  
wrote:

> You cant test for it reliably.
>
> You can attach to the shutdown hook, and check if did_action 
> ('wp_footer').. thats the only real way other than reading the  
> footer template into memory and doing a string comparison.
>
> Better yet, just tell anyone who runs into a bug caused by it, to  
> fix their theme..
>
> -- 
> Dion Hulse / dd32
> Contact:
> e: contact at dd32.id.au
> Web: http://dd32.id.au/
>
> On Sun, 25 Apr 2010 12:37:11 +1000, Vinicius Massuchetto <viniciusandre at gmail.com 
> > wrote:
>
>> Couldn't find this on forums or anywhere else.
>> What can I test to check if wp_footer was placed on the theme?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From christian.foster at gmail.com  Sun Apr 25 12:55:44 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Sun, 25 Apr 2010 22:55:44 +1000
Subject: [wp-hackers] Customising date based URLs to use a 2 digit year
Message-ID: <z2g89a1851d1004250555m4830a8c1ye9c78594596f3b2b@mail.gmail.com>

Hi all,

I have been a bit stumped by this and can't find a solution anywhere -
a potential client wants to move from Moveable Type to Wordpress. His
MT urls are in the format http://site.com/YY/MM/DD and he posts one
post per day (always!).

Does anyone know if there a way for Wordpress to
a) use a 2 digit year instead of 4 and
b) get wordpress to pick up the post for that date on the single day
URL instead of showing the single day archive (My thoughts are to
write a custom template for the daily archive and change the query to
pick up the 1 post for that day)?
c) remove the normal wordpress URL for the individual posts? My
initial thoughts are to filter the permalinks to point to the date of
the post.

Regards,

Christian.

From viniciusandre at gmail.com  Sun Apr 25 13:51:05 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Sun, 25 Apr 2010 10:51:05 -0300
Subject: [wp-hackers] Check for wp_footer
In-Reply-To: <op.vbo7yhkispxmuu@ho.st>
References: <p2g4ede8f491004241937jf1fe28aeu1d5ebefe8c379fe4@mail.gmail.com>
	<op.vbo7yhkispxmuu@ho.st>
Message-ID: <k2k4ede8f491004250651h15c49d8bn403e891e29ca5718@mail.gmail.com>

On Sun, Apr 25, 2010 at 12:28 AM, Dion Hulse (dd32)
<wordpress at dd32.id.au> wrote:
> You cant test for it reliably.
>
> You can attach to the shutdown hook, and check if did_action('wp_footer')..
> thats the only real way other than reading the footer template into memory
> and doing a string comparison.

I want to check on a plugin's interface, so the theme won't be loaded
for me to check if did_action('wp_footer').

I guess I'll have to read the `footer.php` file, then. I just don't
see it as a good manner of doing it.

> Better yet, just tell anyone who runs into a bug caused by it, to fix their
> theme..

Sure. =)

Thanks
--
Vinicius Massuchetto
http://vinicius.soylocoporti.org.br

From mikeschinkel at newclarity.net  Sun Apr 25 14:31:44 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 25 Apr 2010 10:31:44 -0400
Subject: [wp-hackers] Customising date based URLs to use a 2 digit year
In-Reply-To: <z2g89a1851d1004250555m4830a8c1ye9c78594596f3b2b@mail.gmail.com>
References: <z2g89a1851d1004250555m4830a8c1ye9c78594596f3b2b@mail.gmail.com>
Message-ID: <A02BC4A1-29DC-4DC0-BB02-2F6CE9573914@newclarity.net>

Have you considered doing 301 redirects from the old format to the new format?  If viable you can do that in the .htaccess file or using the "template_redirect" hook by sniffing $_SERVER['REQUEST_URI'].

-Mike

On Apr 25, 2010, at 8:55 AM, Christian Foster wrote:

> Hi all,
> 
> I have been a bit stumped by this and can't find a solution anywhere -
> a potential client wants to move from Moveable Type to Wordpress. His
> MT urls are in the format http://site.com/YY/MM/DD and he posts one
> post per day (always!).
> 
> Does anyone know if there a way for Wordpress to
> a) use a 2 digit year instead of 4 and
> b) get wordpress to pick up the post for that date on the single day
> URL instead of showing the single day archive (My thoughts are to
> write a custom template for the daily archive and change the query to
> pick up the 1 post for that day)?
> c) remove the normal wordpress URL for the individual posts? My
> initial thoughts are to filter the permalinks to point to the date of
> the post.
> 
> Regards,
> 
> Christian.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From matt at sivel.net  Sun Apr 25 14:51:53 2010
From: matt at sivel.net (Matt Martz)
Date: Sun, 25 Apr 2010 09:51:53 -0500
Subject: [wp-hackers] Check for wp_footer
In-Reply-To: <k2k4ede8f491004250651h15c49d8bn403e891e29ca5718@mail.gmail.com>
References: <p2g4ede8f491004241937jf1fe28aeu1d5ebefe8c379fe4@mail.gmail.com> 
	<op.vbo7yhkispxmuu@ho.st>
	<k2k4ede8f491004250651h15c49d8bn403e891e29ca5718@mail.gmail.com>
Message-ID: <j2qdc2b0e8a1004250751w1d90d2c3tae36000b3d5bc6f3@mail.gmail.com>

> I want to check on a plugin's interface, so the theme won't be loaded
> for me to check if did_action('wp_footer').
>
> I guess I'll have to read the `footer.php` file, then. I just don't
> see it as a good manner of doing it.

Keep in mind that wp_footer doesn't necessarily need to be called from
footer.php so checking there isn't terribly reliable.

> > The other way to do it is to do a http request based test which a special query arg on which you output a string on wp_footer.

This idea intrigued me so I wrote a small proof of concept plugin to
test this.  If you are interested check it out here:
http://gist.github.com/378450

Perhaps not the best or cleanest way, but off the top of my head I
couldn't think of a better way to do it.

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From viniciusandre at gmail.com  Sun Apr 25 15:39:18 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Sun, 25 Apr 2010 12:39:18 -0300
Subject: [wp-hackers] Check for wp_footer
In-Reply-To: <j2qdc2b0e8a1004250751w1d90d2c3tae36000b3d5bc6f3@mail.gmail.com>
References: <p2g4ede8f491004241937jf1fe28aeu1d5ebefe8c379fe4@mail.gmail.com>
	<op.vbo7yhkispxmuu@ho.st>
	<k2k4ede8f491004250651h15c49d8bn403e891e29ca5718@mail.gmail.com>
	<j2qdc2b0e8a1004250751w1d90d2c3tae36000b3d5bc6f3@mail.gmail.com>
Message-ID: <q2u4ede8f491004250839kb01069bak7f3d3975da118dce@mail.gmail.com>

On Sun, Apr 25, 2010 at 11:51 AM, Matt Martz <matt at sivel.net> wrote:
>> I want to check on a plugin's interface, so the theme won't be loaded
>> for me to check if did_action('wp_footer').
>>
>> I guess I'll have to read the `footer.php` file, then. I just don't
>> see it as a good manner of doing it.
>
> Keep in mind that wp_footer doesn't necessarily need to be called from
> footer.php so checking there isn't terribly reliable.
>
>> > The other way to do it is to do a http request based test which a special query arg on which you output a string on wp_footer.
>
> This idea intrigued me so I wrote a small proof of concept plugin to
> test this. ?If you are interested check it out here:
> http://gist.github.com/378450

That's an interesting method. I'll try to work around it.

Thanks!
--
Vin?cius Massuchetto
http://vinicius.soylocoporti.org.br

From jayarjo at gmail.com  Sun Apr 25 19:11:07 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Sun, 25 Apr 2010 23:11:07 +0400
Subject: [wp-hackers] custom layout for admin widget area
In-Reply-To: <g2p349fe48b1004220812wd1c5854yb0c7ed54f9f08e56@mail.gmail.com>
References: <4BD00A08.7040905@bpmedia-design.com>
	<i2i89a1851d1004220625o4e083dcfo10530cf4360f1102@mail.gmail.com>
	<g2p349fe48b1004220812wd1c5854yb0c7ed54f9f08e56@mail.gmail.com>
Message-ID: <o2j9aa12a491004251211n8e1bcb0drd75a3ee9aada3ce4@mail.gmail.com>

scribu, wow! That's huge thing you are doing. Never heard or read about it...

On Thu, Apr 22, 2010 at 7:12 PM, scribu <scribu at gmail.com> wrote:
> If you would like to allow the client to edit the widgets *directly* from
> the front page, you could use my Front-end
> Editor<http://wordpress.org/extend/plugins/front-end-editor/>plugin.
>
> You'll need WP 3.0 beta though + the development
> version<http://downloads.wordpress.org/plugin/front-end-editor.zip>of
> the plugin.
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From jayarjo at gmail.com  Sun Apr 25 19:17:49 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Sun, 25 Apr 2010 23:17:49 +0400
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
	type
In-Reply-To: <u2v89a1851d1004152140t3c47103bs5d9aedf48babe9c@mail.gmail.com>
References: <u2v89a1851d1004152140t3c47103bs5d9aedf48babe9c@mail.gmail.com>
Message-ID: <v2n9aa12a491004251217r4aed75d3p6c16da5b915f6bea@mail.gmail.com>

Christian, but you acknowledge, that there are particular constraints
on custom post_types and their taxonomies, right? You can't have one
taxonomy for different post-types. At least it's how it was. It always
bugged me.

Is it still how it is, guys?

On Fri, Apr 16, 2010 at 8:40 AM, Christian Foster
<christian.foster at gmail.com> wrote:
> Thanks for your help - submitted ticket.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From scribu at gmail.com  Sun Apr 25 20:37:36 2010
From: scribu at gmail.com (scribu)
Date: Sun, 25 Apr 2010 23:37:36 +0300
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
	type
In-Reply-To: <v2n9aa12a491004251217r4aed75d3p6c16da5b915f6bea@mail.gmail.com>
References: <u2v89a1851d1004152140t3c47103bs5d9aedf48babe9c@mail.gmail.com>
	<v2n9aa12a491004251217r4aed75d3p6c16da5b915f6bea@mail.gmail.com>
Message-ID: <r2h349fe48b1004251337ma8799ccdy3694bdc7a561300@mail.gmail.com>

On Sun, Apr 25, 2010 at 10:17 PM, Davit Barbakadze <jayarjo at gmail.com>wrote:

> Christian, but you acknowledge, that there are particular constraints
> on custom post_types and their taxonomies, right? You can't have one
> taxonomy for different post-types. At least it's how it was. It always
> bugged me.
>
> Is it still how it is, guys?
>

Actually, you can. See register_taxonomy_for_object_type()


-- 
http://scribu.net

From scribu at gmail.com  Sun Apr 25 20:42:42 2010
From: scribu at gmail.com (scribu)
Date: Sun, 25 Apr 2010 23:42:42 +0300
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
	type
In-Reply-To: <r2h349fe48b1004251337ma8799ccdy3694bdc7a561300@mail.gmail.com>
References: <u2v89a1851d1004152140t3c47103bs5d9aedf48babe9c@mail.gmail.com>
	<v2n9aa12a491004251217r4aed75d3p6c16da5b915f6bea@mail.gmail.com>
	<r2h349fe48b1004251337ma8799ccdy3694bdc7a561300@mail.gmail.com>
Message-ID: <w2u349fe48b1004251342n52c71568t61f42bf5bc34c7f6@mail.gmail.com>

Besides register_taxonomy_for_object_type()<http://core.trac.wordpress.org/browser/trunk/wp-includes/taxonomy.php?rev=14234#L298>,
you can also register taxonomies like this:

register_post_type('my_post_type', array(
'taxonomies' => array('tax1', 'tax2')
);


-- 
http://scribu.net

From christian.foster at gmail.com  Mon Apr 26 01:30:50 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Mon, 26 Apr 2010 11:30:50 +1000
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
	type
In-Reply-To: <w2u349fe48b1004251342n52c71568t61f42bf5bc34c7f6@mail.gmail.com>
References: <u2v89a1851d1004152140t3c47103bs5d9aedf48babe9c@mail.gmail.com>
	<v2n9aa12a491004251217r4aed75d3p6c16da5b915f6bea@mail.gmail.com>
	<r2h349fe48b1004251337ma8799ccdy3694bdc7a561300@mail.gmail.com>
	<w2u349fe48b1004251342n52c71568t61f42bf5bc34c7f6@mail.gmail.com>
Message-ID: <l2v89a1851d1004251830wf771e52fv5e750425a441308b@mail.gmail.com>

By any chance do you know how to get custom taxonomies/post types to
behave like categories so that the URL ends up as:

example.com/taxonomy/term1/child-term1/child-term2/custom_post_title

On Mon, Apr 26, 2010 at 6:42 AM, scribu <scribu at gmail.com> wrote:
> Besides register_taxonomy_for_object_type()<http://core.trac.wordpress.org/browser/trunk/wp-includes/taxonomy.php?rev=14234#L298>,
> you can also register taxonomies like this:
>
> register_post_type('my_post_type', array(
> 'taxonomies' => array('tax1', 'tax2')
> );
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From christian.foster at gmail.com  Mon Apr 26 05:17:15 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Mon, 26 Apr 2010 15:17:15 +1000
Subject: [wp-hackers] Customising date based URLs to use a 2 digit year
In-Reply-To: <A02BC4A1-29DC-4DC0-BB02-2F6CE9573914@newclarity.net>
References: <z2g89a1851d1004250555m4830a8c1ye9c78594596f3b2b@mail.gmail.com>
	<A02BC4A1-29DC-4DC0-BB02-2F6CE9573914@newclarity.net>
Message-ID: <n2i89a1851d1004252217v35a40c62hd8caeac114437cc1@mail.gmail.com>

Yes, that was the initial thought but he would like to keep them in
the same format - having looked through all the rewrite rules I think
it is possible by replacing the 4 digit year to 2, and adding 20 to
the front of the year query variable. He doesn't have anything before
2000.

On Mon, Apr 26, 2010 at 12:31 AM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> Have you considered doing 301 redirects from the old format to the new format? ?If viable you can do that in the .htaccess file or using the "template_redirect" hook by sniffing $_SERVER['REQUEST_URI'].
>
> -Mike
>
> On Apr 25, 2010, at 8:55 AM, Christian Foster wrote:
>
>> Hi all,
>>
>> I have been a bit stumped by this and can't find a solution anywhere -
>> a potential client wants to move from Moveable Type to Wordpress. His
>> MT urls are in the format http://site.com/YY/MM/DD and he posts one
>> post per day (always!).
>>
>> Does anyone know if there a way for Wordpress to
>> a) use a 2 digit year instead of 4 and
>> b) get wordpress to pick up the post for that date on the single day
>> URL instead of showing the single day archive (My thoughts are to
>> write a custom template for the daily archive and change the query to
>> pick up the 1 post for that day)?
>> c) remove the normal wordpress URL for the individual posts? My
>> initial thoughts are to filter the permalinks to point to the date of
>> the post.
>>
>> Regards,
>>
>> Christian.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ash at thinkinginvain.com  Mon Apr 26 09:40:15 2010
From: ash at thinkinginvain.com (Ash Goodman)
Date: Mon, 26 Apr 2010 17:40:15 +0800
Subject: [wp-hackers] new WP_Query filter with meta_value and with
	pagination - unexpected behaviour
Message-ID: <j2l1d9b57821004260240n54e096bw967e0c7fb593a635@mail.gmail.com>

Hi all

I have found some strange behaviour when using a new WP_Query and filtering
the loop with meta_value=

as shown below ( on my front_page )

<?php $temp = $wp_query;
$wp_query= null;
$wp_query = new
WP_Query("showposts=1&meta_value=_fprofile&post_type=page"."&paged=".$paged);
while($wp_query->have_posts()) : $wp_query->the_post();?>

The problem is pagination is not working properly. When I click the next
page link I am taken out of my loop and into the loop found on index.php
Meaning into the normal blog post link giving me posts instead of pages, no
meta_value filter and 10 post per page instead of 1. It seems to switch
loops?

This problem is eliminated by making the loop on index.php fire only if
is_home()

<?php if(is_home()) {?>

Normal blog post loop

<?php }else{?>
<!-- do nothing -->
<?php } ?>


This doesn't seem to cause any other problems so I am hopeful the situation
is sorted, BUT

It feels kind of off to me somehow. Is the behaviour I am seeing expected or
is it a bug? Should my loop switch like that on going to the second page?
And is my fix ok or is it likely to cause other problems - for example screw
with categories or archives?

Thanks!

Ash

From webmaster887 at gmail.com  Mon Apr 26 10:50:04 2010
From: webmaster887 at gmail.com (Khaleel Abdul Karim)
Date: Mon, 26 Apr 2010 16:20:04 +0530
Subject: [wp-hackers] how to apply a theme only for a page
In-Reply-To: <BF1BD9B2-AAEE-4A98-BFE4-242926381A58@slatetechpdx.com>
References: <mailman.13.1272110402.4394.wp-hackers@lists.automattic.com> 
	<BF1BD9B2-AAEE-4A98-BFE4-242926381A58@slatetechpdx.com>
Message-ID: <q2m45e39f721004260350xad46a025nb47fa7fca5540526@mail.gmail.com>

I have resolved it myself . The problem is with the template filter ... The
post id is not loading in the function

On Sun, Apr 25, 2010 at 12:19 AM, Elizabeth Buckwalter <
elizabeth at slatetechpdx.com> wrote:

>
>
> Sent from my iPhone
>
>  Message: 1
>> Date: Fri, 23 Apr 2010 17:45:44 +0530
>> From: Khaleel Abdul Karim <webmaster887 at gmail.com>
>> Subject: Re: [wp-hackers] how to apply a theme only for a page
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>>   <p2g45e39f721004230515vfa3ed2ddxadbe1330120300df at mail.gmail.com>
>> Content-Type: text/plain; charset=UTF-8
>>
>>
>> Anyone please help me over this to find a solution ...
>>
>> On Thu, Apr 22, 2010 at 7:09 PM, Khaleel Abdul Karim <
>> webmaster887 at gmail.com
>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>>
>>>
>>>
>>>
>
> http://www.webdesignerwall.com/trends/unique-blog-posts-and-wordpress-tips/
>
> Examples and a howto at the bottom
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
~~~~~~~~~~~~~~~~~~
http://khaleel.isgreat.org
Khaleel Abdul Karim
Thazhathuveedu
Erumely

From wp-t31os at ntlworld.com  Mon Apr 26 16:14:39 2010
From: wp-t31os at ntlworld.com (Mark Duncan)
Date: Mon, 26 Apr 2010 17:14:39 +0100
Subject: [wp-hackers] Customising date based URLs to use a 2 digit year
In-Reply-To: <n2i89a1851d1004252217v35a40c62hd8caeac114437cc1@mail.gmail.com>
References: <z2g89a1851d1004250555m4830a8c1ye9c78594596f3b2b@mail.gmail.com>	<A02BC4A1-29DC-4DC0-BB02-2F6CE9573914@newclarity.net>
	<n2i89a1851d1004252217v35a40c62hd8caeac114437cc1@mail.gmail.com>
Message-ID: <4BD5BBEF.70405@ntlworld.com>

http://codex.wordpress.org/Function_Reference/WP_Rewrite#Plugin_Hooks

This would rewrite the necessary date patterns in the rewrite rules.

add_filter( 'date_rewrite_rules' , 'two_digit_year_rules' , 10 , 1 );

function two_digit_year_rules( $rules ) {
	$new_rules = array();
	foreach( $rules as $pattern => $query_str ) {
		$pattern = str_replace( '([0-9]{4})' , '([0-9]{2})' , $pattern );
		$new_rules[ $pattern ] = $query_str;
	}
	unset( $rules );
	return $new_rules;
}
That will not however rwrite the various archive links on your site that 
still return a 4 digit year or, year based queries that will still 
expect a 4 digit year..

WP_Query / query_posts query vars will be expecting a 4 digit value, 
when you feed it two, it won't find any posts.

You'll probably need to intercept the query vars and check when a year 
query var is present, fill in the missing "20" at the start of the year, 
and return the new value, simply so the queries receive a valid year.

The above filter will do the rule / pattern swapping for you, you'll 
just need to work out the query vars issue.

I've only tested the filter briefly, but i can see there's some deeper 
dependancies elsewhere that need to be covered to, else you'll end up 
with empty query sets and invalid 4 digit year based links.

Hope that helps anyway... ;)

Mark

Christian Foster wrote:
> Yes, that was the initial thought but he would like to keep them in
> the same format - having looked through all the rewrite rules I think
> it is possible by replacing the 4 digit year to 2, and adding 20 to
> the front of the year query variable. He doesn't have anything before
> 2000.
> 
> On Mon, Apr 26, 2010 at 12:31 AM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
>> Have you considered doing 301 redirects from the old format to the new format?  If viable you can do that in the .htaccess file or using the "template_redirect" hook by sniffing $_SERVER['REQUEST_URI'].
>>
>> -Mike
>>
>> On Apr 25, 2010, at 8:55 AM, Christian Foster wrote:
>>
>>> Hi all,
>>>
>>> I have been a bit stumped by this and can't find a solution anywhere -
>>> a potential client wants to move from Moveable Type to Wordpress. His
>>> MT urls are in the format http://site.com/YY/MM/DD and he posts one
>>> post per day (always!).
>>>
>>> Does anyone know if there a way for Wordpress to
>>> a) use a 2 digit year instead of 4 and
>>> b) get wordpress to pick up the post for that date on the single day
>>> URL instead of showing the single day archive (My thoughts are to
>>> write a custom template for the daily archive and change the query to
>>> pick up the 1 post for that day)?
>>> c) remove the normal wordpress URL for the individual posts? My
>>> initial thoughts are to filter the permalinks to point to the date of
>>> the post.
>>>
>>> Regards,
>>>
>>> Christian.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> __________ Information from ESET NOD32 Antivirus, version of virus signature database 5062 (20100426) __________
> 
> The message was checked by ESET NOD32 Antivirus.
> 
> http://www.eset.com
> 
> 
> 
> 



__________ Information from ESET NOD32 Antivirus, version of virus signature database 5062 (20100426) __________

The message was checked by ESET NOD32 Antivirus.

http://www.eset.com



From deanna.schneider at gmail.com  Mon Apr 26 19:56:06 2010
From: deanna.schneider at gmail.com (Deanna Schneider)
Date: Mon, 26 Apr 2010 14:56:06 -0500
Subject: [wp-hackers] custom post types with quick edit
Message-ID: <i2kdcd921bb1004261256veeab5d00n6520bcfdbb4a093b@mail.gmail.com>

I'm working on a custom post type implementation for WP 3.0 and I've
come upon a little snag. My function to insert the custom post type
needs to loop through a whole bunch of registered meta fields, but
only if it's not a quick edit. I haven't been able to figure out how
to tell if it's a quick edit or not. Anyone know? (If I loop through
and process the fields when it's a quick edit the fields aren't there
and get deleted. Not good.)

Thanks,
Deanna

From scribu at gmail.com  Mon Apr 26 21:08:01 2010
From: scribu at gmail.com (scribu)
Date: Tue, 27 Apr 2010 00:08:01 +0300
Subject: [wp-hackers] custom post types with quick edit
In-Reply-To: <i2kdcd921bb1004261256veeab5d00n6520bcfdbb4a093b@mail.gmail.com>
References: <i2kdcd921bb1004261256veeab5d00n6520bcfdbb4a093b@mail.gmail.com>
Message-ID: <q2q349fe48b1004261408xc91ca1f0t6b45fa99aab47238@mail.gmail.com>

if ( defined('DOING_AJAX') )
  return;

On Mon, Apr 26, 2010 at 10:56 PM, Deanna Schneider <
deanna.schneider at gmail.com> wrote:

> I'm working on a custom post type implementation for WP 3.0 and I've
> come upon a little snag. My function to insert the custom post type
> needs to loop through a whole bunch of registered meta fields, but
> only if it's not a quick edit. I haven't been able to figure out how
> to tell if it's a quick edit or not. Anyone know? (If I loop through
> and process the fields when it's a quick edit the fields aren't there
> and get deleted. Not good.)
>
> Thanks,
> Deanna
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From ash at thinkinginvain.com  Tue Apr 27 03:58:50 2010
From: ash at thinkinginvain.com (Ash Goodman)
Date: Tue, 27 Apr 2010 11:58:50 +0800
Subject: [wp-hackers] new WP_Query filter with meta_value and with
	pagination - unexpected behaviour
Message-ID: <l2m1d9b57821004262058ic392b1bewb679258aa59dcef3@mail.gmail.com>

I have better determined what the problem seems to be. The strangeness of it
is that its behaviour seems to change from computer to computer. The problem
seems to be with the permalinks. Using the default permalink structure I
should see the following permalink on the first page pointing to the 2nd
page:

http://mydomainname.com/?page_id=27&paged=2

And on the 2nd page:

http://mydomainname.com/?page_id=27&paged=3

On 3 out of 4 PC's I do see that, on the 4th the page_id parameter is
missing. All 4 PC's are looking that the exact same page pulled from the
exact same wordpress installation. All are using windows, all are using the
same version of firefox. No plugins are active.

In the instances when it is working it stops working if I change from the
default permalink structure to  a custom one.

Is this a known bug? I see references online to permalink issues and
pagination, but none of them quite describe what I am seeing.

If it is a bug, the references I am seeing go back to 2006 (part of why I
think its not the same bug)? Any idea when this bug might be fixed?

On 26 April 2010 20:00, <wp-hackers-request at lists.automattic.com> wrote:

> Send wp-hackers mailing list submissions to
>        wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
>        wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
>        wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
>   1. Re: Customising date based URLs to use a 2 digit year
>      (Christian Foster)
>   2. new WP_Query filter with meta_value and with      pagination -
>      unexpected behaviour (Ash Goodman)
>   3. Re: how to apply a theme only for a page (Khaleel Abdul Karim)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 26 Apr 2010 15:17:15 +1000
> From: Christian Foster <christian.foster at gmail.com>
> Subject: Re: [wp-hackers] Customising date based URLs to use a 2 digit
>        year
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <n2i89a1851d1004252217v35a40c62hd8caeac114437cc1 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Yes, that was the initial thought but he would like to keep them in
> the same format - having looked through all the rewrite rules I think
> it is possible by replacing the 4 digit year to 2, and adding 20 to
> the front of the year query variable. He doesn't have anything before
> 2000.
>
> On Mon, Apr 26, 2010 at 12:31 AM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
> > Have you considered doing 301 redirects from the old format to the new
> format? ?If viable you can do that in the .htaccess file or using the
> "template_redirect" hook by sniffing $_SERVER['REQUEST_URI'].
> >
> > -Mike
> >
> > On Apr 25, 2010, at 8:55 AM, Christian Foster wrote:
> >
> >> Hi all,
> >>
> >> I have been a bit stumped by this and can't find a solution anywhere -
> >> a potential client wants to move from Moveable Type to Wordpress. His
> >> MT urls are in the format http://site.com/YY/MM/DD and he posts one
> >> post per day (always!).
> >>
> >> Does anyone know if there a way for Wordpress to
> >> a) use a 2 digit year instead of 4 and
> >> b) get wordpress to pick up the post for that date on the single day
> >> URL instead of showing the single day archive (My thoughts are to
> >> write a custom template for the daily archive and change the query to
> >> pick up the 1 post for that day)?
> >> c) remove the normal wordpress URL for the individual posts? My
> >> initial thoughts are to filter the permalinks to point to the date of
> >> the post.
> >>
> >> Regards,
> >>
> >> Christian.
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> ------------------------------
>
> Message: 2
> Date: Mon, 26 Apr 2010 17:40:15 +0800
> From: Ash Goodman <ash at thinkinginvain.com>
> Subject: [wp-hackers] new WP_Query filter with meta_value and with
>        pagination - unexpected behaviour
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <j2l1d9b57821004260240n54e096bw967e0c7fb593a635 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Hi all
>
> I have found some strange behaviour when using a new WP_Query and filtering
> the loop with meta_value=
>
> as shown below ( on my front_page )
>
> <?php $temp = $wp_query;
> $wp_query= null;
> $wp_query = new
>
> WP_Query("showposts=1&meta_value=_fprofile&post_type=page"."&paged=".$paged);
> while($wp_query->have_posts()) : $wp_query->the_post();?>
>
> The problem is pagination is not working properly. When I click the next
> page link I am taken out of my loop and into the loop found on index.php
> Meaning into the normal blog post link giving me posts instead of pages, no
> meta_value filter and 10 post per page instead of 1. It seems to switch
> loops?
>
> This problem is eliminated by making the loop on index.php fire only if
> is_home()
>
> <?php if(is_home()) {?>
>
> Normal blog post loop
>
> <?php }else{?>
> <!-- do nothing -->
> <?php } ?>
>
>
> This doesn't seem to cause any other problems so I am hopeful the situation
> is sorted, BUT
>
> It feels kind of off to me somehow. Is the behaviour I am seeing expected
> or
> is it a bug? Should my loop switch like that on going to the second page?
> And is my fix ok or is it likely to cause other problems - for example
> screw
> with categories or archives?
>
> Thanks!
>
> Ash
>
>
> ------------------------------
>
> Message: 3
> Date: Mon, 26 Apr 2010 16:20:04 +0530
> From: Khaleel Abdul Karim <webmaster887 at gmail.com>
> Subject: Re: [wp-hackers] how to apply a theme only for a page
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <q2m45e39f721004260350xad46a025nb47fa7fca5540526 at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> I have resolved it myself . The problem is with the template filter ... The
> post id is not loading in the function
>
> On Sun, Apr 25, 2010 at 12:19 AM, Elizabeth Buckwalter <
> elizabeth at slatetechpdx.com> wrote:
>
> >
> >
> > Sent from my iPhone
> >
> >  Message: 1
> >> Date: Fri, 23 Apr 2010 17:45:44 +0530
> >> From: Khaleel Abdul Karim <webmaster887 at gmail.com>
> >> Subject: Re: [wp-hackers] how to apply a theme only for a page
> >> To: wp-hackers at lists.automattic.com
> >> Message-ID:
> >>   <p2g45e39f721004230515vfa3ed2ddxadbe1330120300df at mail.gmail.com>
> >> Content-Type: text/plain; charset=UTF-8
> >>
> >>
> >> Anyone please help me over this to find a solution ...
> >>
> >> On Thu, Apr 22, 2010 at 7:09 PM, Khaleel Abdul Karim <
> >> webmaster887 at gmail.com
> >>
> >>>
> >>>
> >>>
> >>>
> >>>
> >>>
> >>>
> >>>
> >>>>
> >>>
> >>>
> >>>
> >
> >
> http://www.webdesignerwall.com/trends/unique-blog-posts-and-wordpress-tips/
> >
> > Examples and a howto at the bottom
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> ~~~~~~~~~~~~~~~~~~
> http://khaleel.isgreat.org
> Khaleel Abdul Karim
> Thazhathuveedu
> Erumely
>
>
> ------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> End of wp-hackers Digest, Vol 63, Issue 55
> ******************************************
>

From deanna.schneider at gmail.com  Tue Apr 27 12:10:22 2010
From: deanna.schneider at gmail.com (Deanna Schneider)
Date: Tue, 27 Apr 2010 07:10:22 -0500
Subject: [wp-hackers] custom post types with quick edit
In-Reply-To: <q2q349fe48b1004261408xc91ca1f0t6b45fa99aab47238@mail.gmail.com>
References: <i2kdcd921bb1004261256veeab5d00n6520bcfdbb4a093b@mail.gmail.com>
	<q2q349fe48b1004261408xc91ca1f0t6b45fa99aab47238@mail.gmail.com>
Message-ID: <t2ndcd921bb1004270510p8c482140ra28eca555ca25635@mail.gmail.com>

Thanks, that's exactly what I was looking for.

-Deanna

On Mon, Apr 26, 2010 at 4:08 PM, scribu <scribu at gmail.com> wrote:
> if ( defined('DOING_AJAX') )
> ?return;
>
> On Mon, Apr 26, 2010 at 10:56 PM, Deanna Schneider <
> deanna.schneider at gmail.com> wrote:
>
>> I'm working on a custom post type implementation for WP 3.0 and I've
>> come upon a little snag. My function to insert the custom post type
>> needs to loop through a whole bunch of registered meta fields, but
>> only if it's not a quick edit. I haven't been able to figure out how
>> to tell if it's a quick edit or not. Anyone know? (If I loop through
>> and process the fields when it's a quick edit the fields aren't there
>> and get deleted. Not good.)
>>
>> Thanks,
>> Deanna
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From capsx at team.lv  Tue Apr 27 16:30:25 2010
From: capsx at team.lv (capsx)
Date: Tue, 27 Apr 2010 17:30:25 +0100
Subject: [wp-hackers] internal redirects
Message-ID: <web-7453531@datnex.lv>

Hello all!


I'm quite new to WP, especially to wordpress plugins.
I'm writing plugin which validate posted form (frontpage).

My style that i did that task previous is:

1. after user submit the form, i check posted variables
2. if there are errors i redirect user back to the same 
page, before that i set in session in which there are 
errors
3. code cheks if there are errors or something else to 
show, and if is, it's shows

the problem starts with headers.
in the example above i used technique with ob_start(); and 
ob_end_clean(); in index file, to prevent 'headers already 
sent' error is displaying

but in wordpress it's a bit different ...

at first time my way to complete the task was:

add_shortcode('shortcode', 'asd');
then make function asd() which calls class and class is 
displaying needed information
and in that case i can't use header('location: xxx), cause 
headers are already sent ...

so i made all that in a different way:

my code get slug from wp options and compare it with 
requested page slug
if both are equal - function is called to show my plugin

--

$plugin_call_slug = get_option('_slug');
$requested_uri = base_server('REQUEST_URI'); // == 
$_SERVER['REQUEST_URI']
$requested_page = get_page_by_path( $requested_uri );

$requested_page = $requested_page->post_name;

if($requested_page == $plugin_call_slug)
{
     _function();
}

--

and _function calls class, and that class make all what it 
must do
and all output is stored in variable $return and that 
variable is stored in session variable $ss

and then we call the same function
add_shortcode('shortcode', 'asd');
only now function() is displaying only that variable from 
session variable $ss which hold all output from class 
execution

function asd()
{
     $a = base_session('return');
     echo $a;
}

---

THE QUESTION IS - IS THIS A +/- CORRECT WAY HOW TO MAKE 
INTERNAL REDIRECTS, OR THERE IS OTHER LESS PAINFUL WAYS TO 
MAKE THOSE REDIRECTS AND OUTPUT NEEDED CONTENT... ???

---


thx




From scribu at gmail.com  Tue Apr 27 17:25:34 2010
From: scribu at gmail.com (scribu)
Date: Tue, 27 Apr 2010 20:25:34 +0300
Subject: [wp-hackers] internal redirects
In-Reply-To: <web-7453531@datnex.lv>
References: <web-7453531@datnex.lv>
Message-ID: <y2r349fe48b1004271025gda4bb987i21fcdc72e905c73@mail.gmail.com>

You should hook your validation code before headers are sent, like this:

function my_form_validation() {
    // etc.

    if ( $_POST[..] ... )
        wp_redirect( ... );

    // etc.
}
add_action('template_redirect', 'my_form_validation');


-- 
http://scribu.net

From otto at ottodestruct.com  Tue Apr 27 17:47:47 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 27 Apr 2010 12:47:47 -0500
Subject: [wp-hackers] internal redirects
In-Reply-To: <y2r349fe48b1004271025gda4bb987i21fcdc72e905c73@mail.gmail.com>
References: <web-7453531@datnex.lv>
	<y2r349fe48b1004271025gda4bb987i21fcdc72e905c73@mail.gmail.com>
Message-ID: <k2q161617691004271047p84605b6g4c6cf7e62cccf29d@mail.gmail.com>

If you're going to do redirects, best to do them as early as possible.
I have plugin code that looks basically like this:

if (array_key_exists('my_check_thingy', $_GET) &&
$_GET['my_check_thingy'] == 1) { ?>
... logic for redirect ...
}

This happens right at plugin load. No waiting about, no loading the
query, just do it. Works fine, speedy as heck.

-Otto



On Tue, Apr 27, 2010 at 12:25 PM, scribu <scribu at gmail.com> wrote:
> You should hook your validation code before headers are sent, like this:
>
> function my_form_validation() {
> ? ?// etc.
>
> ? ?if ( $_POST[..] ... )
> ? ? ? ?wp_redirect( ... );
>
> ? ?// etc.
> }
> add_action('template_redirect', 'my_form_validation');
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peter.westwood at ftwr.co.uk  Tue Apr 27 18:02:04 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Tue, 27 Apr 2010 19:02:04 +0100
Subject: [wp-hackers] internal redirects
In-Reply-To: <k2q161617691004271047p84605b6g4c6cf7e62cccf29d@mail.gmail.com>
References: <web-7453531@datnex.lv>
	<y2r349fe48b1004271025gda4bb987i21fcdc72e905c73@mail.gmail.com>
	<k2q161617691004271047p84605b6g4c6cf7e62cccf29d@mail.gmail.com>
Message-ID: <A34D4A22-1A4F-4D69-B179-300308B3CA1B@ftwr.co.uk>


On 27 Apr 2010, at 18:47, Otto wrote:

> If you're going to do redirects, best to do them as early as possible.
> I have plugin code that looks basically like this:
> 
> if (array_key_exists('my_check_thingy', $_GET) &&
> $_GET['my_check_thingy'] == 1) { ?>
> ... logic for redirect ...
> }
> 
> This happens right at plugin load. No waiting about, no loading the
> query, just do it. Works fine, speedy as heck.


Doing things as early as possible is good.

Doing things when your plugin is included is not recommended.

Better to use the earliest available suitable hook - plugins_loaded / init / wp_loaded (3.0 and later only)

That way you can ensure that all the WordPress core functionality you might be relying on will always be available.

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From otto at ottodestruct.com  Tue Apr 27 18:19:49 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 27 Apr 2010 13:19:49 -0500
Subject: [wp-hackers] internal redirects
In-Reply-To: <A34D4A22-1A4F-4D69-B179-300308B3CA1B@ftwr.co.uk>
References: <web-7453531@datnex.lv>
	<y2r349fe48b1004271025gda4bb987i21fcdc72e905c73@mail.gmail.com>
	<k2q161617691004271047p84605b6g4c6cf7e62cccf29d@mail.gmail.com> 
	<A34D4A22-1A4F-4D69-B179-300308B3CA1B@ftwr.co.uk>
Message-ID: <t2g161617691004271119qcc3845d6xe431af0e851a7197@mail.gmail.com>

On Tue, Apr 27, 2010 at 1:02 PM, Peter Westwood
<peter.westwood at ftwr.co.uk> wrote:
> Doing things as early as possible is good.
>
> Doing things when your plugin is included is not recommended.

I disagree. Like everything else, it depends on what it is that you are doing.

If you're going to halt execution anyway and/or force a redirect... or
anything else where you'll just be calling exit(), then waiting any
longer than you have to wait is pointless.

Sometimes, you don't really need any of the core WP functionality,
because you got passed in what you needed via a POST or GET.

-Otto

From aldolat at gmail.com  Tue Apr 27 19:17:50 2010
From: aldolat at gmail.com (Aldo Latino)
Date: Tue, 27 Apr 2010 21:17:50 +0200
Subject: [wp-hackers] Access the total number of pages of a multipage post
 or page out of the loop
Message-ID: <4BD7385E.20604@gmail.com>

Hi wp-hackers,

In the title element of my pages I have this structure that displays the
number of the current multipage page plus the total number of pages:

?cat-name? Category Archive - Blog Name [this is the first page]
?cat-name? Category Archive | Page 2 of 13 - Blog Name
?cat-name? Category Archive | Page 11 of 13 - Blog Name

and so on...
The same structure is used on all archive pages, search pages, etc.
The code successfully used is:

if (is_category()) {
echo '&laquo;'.single_cat_title('', false).'&raquo; Category Archive';
if ($paged) { echo ' | Page '.$paged.' of '.$wp_query->max_num_pages;
}

The problem is on single and page pages where I'm not able to get the
total number of pages. I tried:

if ($page) { echo ' | Page '.$page.' of '.$numpages; }

and

if ($page) { echo ' | Page '.$page.' of '.count($pages); }

but $numpages and $pages are active only during the loop.

How can I access the total number of pages of a multipage post or page
in the head section?

-- 
Aldo Latino
OpenPGP key: 4096R/0xA18E41E8 | bit.ly/keyDSA

From 24-7 at gmx.net  Tue Apr 27 22:11:52 2010
From: 24-7 at gmx.net (kaiiser)
Date: Tue, 27 Apr 2010 15:11:52 -0700 (PDT)
Subject: [wp-hackers] A developer-user-role might (sometimes) be useful
Message-ID: <c5c7174f-1a07-42f8-8174-9f5ff5a21a1c@k41g2000yqf.googlegroups.com>

I got some installations where i have other admin-users too, that
should not see when i'm making changes to a template. I'm searching
for a possibility to generate a custom role called "developer", that
has all capabilities, so i can use it like an admin-user-account, but
with the benefit of a one-person-development-mode. I want to check for
something like this:

if(current_user_can('developer')) {
 code i work on
} else {
 old code - or - maintainance message
}

I know how to add custom capabilities, and custom roles, but i don't
know how to assign "allcaps" to my new role. This gives me currently
the problem, that i can't even login with this user. Any help would be
appreciated.

>> Role:
global $allcaps;
$role = "developer";
$display_name = "Developer";
add_role( "developer", "Developer", $allcaps )
>> Capability:
$role = get_role('developer');
if ($role !== NULL) {
 $role->add_cap('dev_cap');
}

Thanks.
-K.

From capsx at team.lv  Thu Apr 29 09:06:24 2010
From: capsx at team.lv (capsx)
Date: Thu, 29 Apr 2010 10:06:24 +0100
Subject: [wp-hackers] internal redirects
In-Reply-To: <A34D4A22-1A4F-4D69-B179-300308B3CA1B@ftwr.co.uk>
References: <web-7453531@datnex.lv>
	<y2r349fe48b1004271025gda4bb987i21fcdc72e905c73@mail.gmail.com>
	<k2q161617691004271047p84605b6g4c6cf7e62cccf29d@mail.gmail.com>
	<A34D4A22-1A4F-4D69-B179-300308B3CA1B@ftwr.co.uk>
Message-ID: <web-7460119@datnex.lv>

thx for the answers

but - what is the best way to call function 
add_action('wp_loaded', 'function')
only when the specific slug is called - let 
my_plugin_check function is executed only when it needs to 
be executed

i made it like this:

---
$plugin_call_slug = get_option('my_plugin_slug');

$requested_uri = $_SERVER['REQUEST_URI'];
$requested_page = get_page_by_path($requested_uri);
$requested_page = $requested_page->post_name;

if($requested_page == $plugin_call_slug)
{
     add_action('wp_loaded', 'my_plugin_check');
     add_shortcode('public-gallery', 'my_plugin');
}

---

On Tue, 27 Apr 2010 19:02:04 +0100
  Peter Westwood <peter.westwood at ftwr.co.uk> wrote:
> 
> On 27 Apr 2010, at 18:47, Otto wrote:
> 
>> If you're going to do redirects, best to do them as 
>>early as possible.
>> I have plugin code that looks basically like this:
>> 
>> if (array_key_exists('my_check_thingy', $_GET) &&
>> $_GET['my_check_thingy'] == 1) { ?>
>> ... logic for redirect ...
>> }
>> 
>> This happens right at plugin load. No waiting about, no 
>>loading the
>> query, just do it. Works fine, speedy as heck.
> 
> 
> Doing things as early as possible is good.
> 
> Doing things when your plugin is included is not 
>recommended.
> 
> Better to use the earliest available suitable hook - 
>plugins_loaded / init / wp_loaded (3.0 and later only)
> 
> That way you can ensure that all the WordPress core 
>functionality you might be relying on will always be 
>available.
> 
> -- 
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-nonse response-

From jbloch at olympianetworks.com  Thu Apr 29 11:10:38 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Thu, 29 Apr 2010 07:10:38 -0400
Subject: [wp-hackers] internal redirects
In-Reply-To: <web-7460119@datnex.lv>
References: <web-7453531@datnex.lv>
	<y2r349fe48b1004271025gda4bb987i21fcdc72e905c73@mail.gmail.com>
	<k2q161617691004271047p84605b6g4c6cf7e62cccf29d@mail.gmail.com>
	<A34D4A22-1A4F-4D69-B179-300308B3CA1B@ftwr.co.uk>
	<web-7460119@datnex.lv>
Message-ID: <k2j8031bdef1004290410m8a3ad00rba95f0601970e690@mail.gmail.com>

Or, since it seems you only need this on pages or single posts, why not use:

global $wp_query;
if( $wp_query->post->post_name == get_option( 'my_plugin_slug' ) ) {
     add_action('wp_loaded', 'my_plugin_check');
     add_shortcode('public-gallery', 'my_plugin');
}

John P. Bloch


On Thu, Apr 29, 2010 at 5:06 AM, capsx <capsx at team.lv> wrote:

> thx for the answers
>
> but - what is the best way to call function add_action('wp_loaded',
> 'function')
> only when the specific slug is called - let my_plugin_check function is
> executed only when it needs to be executed
>
> i made it like this:
>
> ---
> $plugin_call_slug = get_option('my_plugin_slug');
>
> $requested_uri = $_SERVER['REQUEST_URI'];
>
> $requested_page = get_page_by_path($requested_uri);
> $requested_page = $requested_page->post_name;
>
> if($requested_page == $plugin_call_slug)
> {
>    add_action('wp_loaded', 'my_plugin_check');
>    add_shortcode('public-gallery', 'my_plugin');
> }
>
> ---
>
> On Tue, 27 Apr 2010 19:02:04 +0100
>
>  Peter Westwood <peter.westwood at ftwr.co.uk> wrote:
>
>>
>> On 27 Apr 2010, at 18:47, Otto wrote:
>>
>>  If you're going to do redirects, best to do them as early as possible.
>>> I have plugin code that looks basically like this:
>>>
>>> if (array_key_exists('my_check_thingy', $_GET) &&
>>> $_GET['my_check_thingy'] == 1) { ?>
>>> ... logic for redirect ...
>>> }
>>>
>>> This happens right at plugin load. No waiting about, no loading the
>>> query, just do it. Works fine, speedy as heck.
>>>
>>
>>
>> Doing things as early as possible is good.
>>
>> Doing things when your plugin is included is not recommended.
>>
>> Better to use the earliest available suitable hook - plugins_loaded / init
>> / wp_loaded (3.0 and later only)
>>
>> That way you can ensure that all the WordPress core functionality you
>> might be relying on will always be available.
>>
>> --
>> Peter Westwood
>> http://blog.ftwr.co.uk | http://westi.wordpress.com
>> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
> -nonse response-
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jayarjo at gmail.com  Thu Apr 29 16:33:41 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Thu, 29 Apr 2010 20:33:41 +0400
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
	type
In-Reply-To: <w2u349fe48b1004251342n52c71568t61f42bf5bc34c7f6@mail.gmail.com>
References: <u2v89a1851d1004152140t3c47103bs5d9aedf48babe9c@mail.gmail.com> 
	<v2n9aa12a491004251217r4aed75d3p6c16da5b915f6bea@mail.gmail.com> 
	<r2h349fe48b1004251337ma8799ccdy3694bdc7a561300@mail.gmail.com> 
	<w2u349fe48b1004251342n52c71568t61f42bf5bc34c7f6@mail.gmail.com>
Message-ID: <h2n9aa12a491004290933q3eee7b87j481cf27cf5e71fbe@mail.gmail.com>

Is it something coming with 3.0? I can't find it in 2.9.2. And does it
really let you use one taconomy - category for example, for different
post types, like posts and pages for example?

On Mon, Apr 26, 2010 at 12:42 AM, scribu <scribu at gmail.com> wrote:
> Besides register_taxonomy_for_object_type()<http://core.trac.wordpress.org/browser/trunk/wp-includes/taxonomy.php?rev=14234#L298>,
> you can also register taxonomies like this:
>
> register_post_type('my_post_type', array(
> 'taxonomies' => array('tax1', 'tax2')
> );
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From scribu at gmail.com  Thu Apr 29 16:46:47 2010
From: scribu at gmail.com (scribu)
Date: Thu, 29 Apr 2010 19:46:47 +0300
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
	type
In-Reply-To: <h2n9aa12a491004290933q3eee7b87j481cf27cf5e71fbe@mail.gmail.com>
References: <u2v89a1851d1004152140t3c47103bs5d9aedf48babe9c@mail.gmail.com>
	<v2n9aa12a491004251217r4aed75d3p6c16da5b915f6bea@mail.gmail.com>
	<r2h349fe48b1004251337ma8799ccdy3694bdc7a561300@mail.gmail.com>
	<w2u349fe48b1004251342n52c71568t61f42bf5bc34c7f6@mail.gmail.com>
	<h2n9aa12a491004290933q3eee7b87j481cf27cf5e71fbe@mail.gmail.com>
Message-ID: <q2n349fe48b1004290946le57bbb86n58ce89c32712b06d@mail.gmail.com>

On Thu, Apr 29, 2010 at 7:33 PM, Davit Barbakadze <jayarjo at gmail.com> wrote:

> Is it something coming with 3.0? I can't find it in 2.9.2. And does it
> really let you use one taconomy - category for example, for different
> post types, like posts and pages for example?
>

Yes, it's introduced in WP 3.0. You'll find it in wp-includes/taxonomy.php


-- 
http://scribu.net

From admin at oxymaniac.com  Thu Apr 29 16:50:00 2010
From: admin at oxymaniac.com (Piyush Mishra)
Date: Thu, 29 Apr 2010 22:20:00 +0530
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
	type
In-Reply-To: <q2n349fe48b1004290946le57bbb86n58ce89c32712b06d@mail.gmail.com>
References: <u2v89a1851d1004152140t3c47103bs5d9aedf48babe9c@mail.gmail.com>
	<v2n9aa12a491004251217r4aed75d3p6c16da5b915f6bea@mail.gmail.com>
	<r2h349fe48b1004251337ma8799ccdy3694bdc7a561300@mail.gmail.com>
	<w2u349fe48b1004251342n52c71568t61f42bf5bc34c7f6@mail.gmail.com>
	<h2n9aa12a491004290933q3eee7b87j481cf27cf5e71fbe@mail.gmail.com>
	<q2n349fe48b1004290946le57bbb86n58ce89c32712b06d@mail.gmail.com>
Message-ID: <r2k3f0d2d431004290950g6e852acajee44a3841f20cada@mail.gmail.com>

What about categories/tags for pages? is there anything coming up on that?

On Thu, Apr 29, 2010 at 10:16 PM, scribu <scribu at gmail.com> wrote:

> On Thu, Apr 29, 2010 at 7:33 PM, Davit Barbakadze <jayarjo at gmail.com>
> wrote:
>
> > Is it something coming with 3.0? I can't find it in 2.9.2. And does it
> > really let you use one taconomy - category for example, for different
> > post types, like posts and pages for example?
> >
>
> Yes, it's introduced in WP 3.0. You'll find it in wp-includes/taxonomy.php
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards
Piyush Mishra

From jayarjo at gmail.com  Thu Apr 29 17:04:52 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Thu, 29 Apr 2010 21:04:52 +0400
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
	type
In-Reply-To: <r2k3f0d2d431004290950g6e852acajee44a3841f20cada@mail.gmail.com>
References: <u2v89a1851d1004152140t3c47103bs5d9aedf48babe9c@mail.gmail.com> 
	<v2n9aa12a491004251217r4aed75d3p6c16da5b915f6bea@mail.gmail.com> 
	<r2h349fe48b1004251337ma8799ccdy3694bdc7a561300@mail.gmail.com> 
	<w2u349fe48b1004251342n52c71568t61f42bf5bc34c7f6@mail.gmail.com> 
	<h2n9aa12a491004290933q3eee7b87j481cf27cf5e71fbe@mail.gmail.com> 
	<q2n349fe48b1004290946le57bbb86n58ce89c32712b06d@mail.gmail.com> 
	<r2k3f0d2d431004290950g6e852acajee44a3841f20cada@mail.gmail.com>
Message-ID: <w2n9aa12a491004291004w2b5e5939lca8ca326bfd11149@mail.gmail.com>

Well, I guess nothing kept you from using taxonomies similar to tags
and categories with the pages from the moment they appeared. It was
just that you couldn't use actual tags and categories for pages. But
it looks like with 3.0 a lot will change.

On Thu, Apr 29, 2010 at 8:50 PM, Piyush Mishra <admin at oxymaniac.com> wrote:
> What about categories/tags for pages? is there anything coming up on that?
>
> On Thu, Apr 29, 2010 at 10:16 PM, scribu <scribu at gmail.com> wrote:
>
>> On Thu, Apr 29, 2010 at 7:33 PM, Davit Barbakadze <jayarjo at gmail.com>
>> wrote:
>>
>> > Is it something coming with 3.0? I can't find it in 2.9.2. And does it
>> > really let you use one taconomy - category for example, for different
>> > post types, like posts and pages for example?
>> >
>>
>> Yes, it's introduced in WP 3.0. You'll find it in wp-includes/taxonomy.php
>>
>>
>> --
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Regards
> Piyush Mishra
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From deanna.schneider at gmail.com  Thu Apr 29 17:06:23 2010
From: deanna.schneider at gmail.com (Deanna Schneider)
Date: Thu, 29 Apr 2010 12:06:23 -0500
Subject: [wp-hackers] query_posts with custom taxonomy and custom post
	type
In-Reply-To: <r2k3f0d2d431004290950g6e852acajee44a3841f20cada@mail.gmail.com>
References: <u2v89a1851d1004152140t3c47103bs5d9aedf48babe9c@mail.gmail.com>
	<v2n9aa12a491004251217r4aed75d3p6c16da5b915f6bea@mail.gmail.com>
	<r2h349fe48b1004251337ma8799ccdy3694bdc7a561300@mail.gmail.com>
	<w2u349fe48b1004251342n52c71568t61f42bf5bc34c7f6@mail.gmail.com>
	<h2n9aa12a491004290933q3eee7b87j481cf27cf5e71fbe@mail.gmail.com>
	<q2n349fe48b1004290946le57bbb86n58ce89c32712b06d@mail.gmail.com>
	<r2k3f0d2d431004290950g6e852acajee44a3841f20cada@mail.gmail.com>
Message-ID: <p2hdcd921bb1004291006ie216421ev77b434218a5c2b6e@mail.gmail.com>

Yes, you can register custom taxonomies for posts and pages, too. I
thought that was already in 2.9, though.

On Thu, Apr 29, 2010 at 11:50 AM, Piyush Mishra <admin at oxymaniac.com> wrote:
> What about categories/tags for pages? is there anything coming up on that?
>
> On Thu, Apr 29, 2010 at 10:16 PM, scribu <scribu at gmail.com> wrote:
>
>> On Thu, Apr 29, 2010 at 7:33 PM, Davit Barbakadze <jayarjo at gmail.com>
>> wrote:
>>
>> > Is it something coming with 3.0? I can't find it in 2.9.2. And does it
>> > really let you use one taconomy - category for example, for different
>> > post types, like posts and pages for example?
>> >
>>
>> Yes, it's introduced in WP 3.0. You'll find it in wp-includes/taxonomy.php
>>
>>
>> --
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Regards
> Piyush Mishra
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp-t31os at ntlworld.com  Fri Apr 30 02:43:58 2010
From: wp-t31os at ntlworld.com (Mark Duncan)
Date: Fri, 30 Apr 2010 03:43:58 +0100
Subject: [wp-hackers] Access the total number of pages of a multipage
 post or page out of the loop
In-Reply-To: <4BD7385E.20604@gmail.com>
References: <4BD7385E.20604@gmail.com>
Message-ID: <4BDA43EE.1020506@ntlworld.com>

Inside the loop get the value of $numpages (global if necessary), and it 
should give you the total amount of pages in accordance with your usage 
of <!--nextpage--> for that post/page.

Tested on trunk, and returns the correct value for a paged post..

Hope that helps.


Aldo Latino wrote:
> Hi wp-hackers,
> 
> In the title element of my pages I have this structure that displays the
> number of the current multipage page plus the total number of pages:
> 
> ?cat-name? Category Archive - Blog Name [this is the first page]
> ?cat-name? Category Archive | Page 2 of 13 - Blog Name
> ?cat-name? Category Archive | Page 11 of 13 - Blog Name
> 
> and so on...
> The same structure is used on all archive pages, search pages, etc.
> The code successfully used is:
> 
> if (is_category()) {
> echo '&laquo;'.single_cat_title('', false).'&raquo; Category Archive';
> if ($paged) { echo ' | Page '.$paged.' of '.$wp_query->max_num_pages;
> }
> 
> The problem is on single and page pages where I'm not able to get the
> total number of pages. I tried:
> 
> if ($page) { echo ' | Page '.$page.' of '.$numpages; }
> 
> and
> 
> if ($page) { echo ' | Page '.$page.' of '.count($pages); }
> 
> but $numpages and $pages are active only during the loop.
> 
> How can I access the total number of pages of a multipage post or page
> in the head section?
> 



__________ Information from ESET NOD32 Antivirus, version of virus signature database 5073 (20100429) __________

The message was checked by ESET NOD32 Antivirus.

http://www.eset.com



From aldolat at gmail.com  Fri Apr 30 04:45:34 2010
From: aldolat at gmail.com (Aldo Latino)
Date: Fri, 30 Apr 2010 06:45:34 +0200
Subject: [wp-hackers] Access the total number of pages of a multipage
 post or page out of the loop
In-Reply-To: <4BDA43EE.1020506@ntlworld.com>
References: <4BD7385E.20604@gmail.com> <4BDA43EE.1020506@ntlworld.com>
Message-ID: <4BDA606E.3060209@gmail.com>

Il 30/04/2010 04:43, Mark Duncan ha scritto:
> Inside the loop get the value of $numpages (global if necessary), and it 
> should give you the total amount of pages in accordance with your usage 
> of <!--nextpage--> for that post/page.
> 
> Tested on trunk, and returns the correct value for a paged post..
> 
> Hope that helps.

Thanks for your reply, but I need to retrieve the total number of pages
outside the loop, namely in the <head> section of the page.

-- 
Aldo Latino
OpenPGP key: 4096R/0xA18E41E8 | bit.ly/keyDSA
84E2 2BC8 ABE3 DCC0 9F15  E511 4357 7ECD 4397 C730

From jbloch at olympianetworks.com  Fri Apr 30 10:27:23 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Fri, 30 Apr 2010 06:27:23 -0400
Subject: [wp-hackers] Access the total number of pages of a multipage
	post or page out of the loop
In-Reply-To: <4BDA606E.3060209@gmail.com>
References: <4BD7385E.20604@gmail.com> <4BDA43EE.1020506@ntlworld.com>
	<4BDA606E.3060209@gmail.com>
Message-ID: <u2z8031bdef1004300327yf8ecd13fvd2fb5d58489be931@mail.gmail.com>

Try adding

global $numpages;

to your header file (or whatever function is generating the head tags you're
writing).

John P. Bloch


On Fri, Apr 30, 2010 at 12:45 AM, Aldo Latino <aldolat at gmail.com> wrote:

> Il 30/04/2010 04:43, Mark Duncan ha scritto:
> > Inside the loop get the value of $numpages (global if necessary), and it
> > should give you the total amount of pages in accordance with your usage
> > of <!--nextpage--> for that post/page.
> >
> > Tested on trunk, and returns the correct value for a paged post..
> >
> > Hope that helps.
>
> Thanks for your reply, but I need to retrieve the total number of pages
> outside the loop, namely in the <head> section of the page.
>
> --
> Aldo Latino
> OpenPGP key: 4096R/0xA18E41E8 | bit.ly/keyDSA
> 84E2 2BC8 ABE3 DCC0 9F15  E511 4357 7ECD 4397 C730
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From harry at thedextrousweb.com  Fri Apr 30 12:56:29 2010
From: harry at thedextrousweb.com (Harry Metcalfe)
Date: Fri, 30 Apr 2010 13:56:29 +0100
Subject: [wp-hackers] Introducing wpdocs
Message-ID: <1272632189.3167.10.camel@dxw-harry>

Anyone who's used railsapi.com will recognise this - we've put together
the standard WordPress documentation in a way that's a bit quicker and
easier to search:

  http://wpdocs.labs.thedextrousweb.com/

Feedback much appreciated! The first thing on our list of improvements
is to make everything linkable (and also indexable by Google).

Cheers,

Harry


From christian.foster at gmail.com  Fri Apr 30 13:19:58 2010
From: christian.foster at gmail.com (Christian Foster)
Date: Fri, 30 Apr 2010 23:19:58 +1000
Subject: [wp-hackers] Introducing wpdocs
In-Reply-To: <1272632189.3167.10.camel@dxw-harry>
References: <1272632189.3167.10.camel@dxw-harry>
Message-ID: <j2m89a1851d1004300619u7b0fad1g6f8edc1be88dd385@mail.gmail.com>

It's great - really simple to browse. I like your other Wordpress
tools too ( sass / cucumber etc ). Would be great if you had time to
get together a dedicated section on your website for all these tools
and possibly some examples. I've been watching on github anyway.

Chris.


On Fri, Apr 30, 2010 at 10:56 PM, Harry Metcalfe
<harry at thedextrousweb.com> wrote:
> Anyone who's used railsapi.com will recognise this - we've put together
> the standard WordPress documentation in a way that's a bit quicker and
> easier to search:
>
> ?http://wpdocs.labs.thedextrousweb.com/
>
> Feedback much appreciated! The first thing on our list of improvements
> is to make everything linkable (and also indexable by Google).
>
> Cheers,
>
> Harry
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lists at rotorised.com  Fri Apr 30 14:12:12 2010
From: lists at rotorised.com (Ryan McCue)
Date: Sat, 01 May 2010 00:12:12 +1000
Subject: [wp-hackers] Introducing wpdocs
In-Reply-To: <1272632189.3167.10.camel@dxw-harry>
References: <1272632189.3167.10.camel@dxw-harry>
Message-ID: <4BDAE53C.2050109@rotorised.com>

Harry Metcalfe wrote:
> Anyone who's used railsapi.com will recognise this - we've put together
> the standard WordPress documentation in a way that's a bit quicker and
> easier to search:
>   

Wow, this is awesome. I'll definitely be using this.

One thing that would be nice is to link to the WordPress Trac's code
browser instead of the GitHub one.

-- 
Ryan McCue
<http://ryanmccue.info/>


From julioprotzek at gmail.com  Fri Apr 30 14:19:44 2010
From: julioprotzek at gmail.com (Julio Protzek)
Date: Fri, 30 Apr 2010 11:19:44 -0300
Subject: [wp-hackers] Introducing wpdocs
In-Reply-To: <j2m89a1851d1004300619u7b0fad1g6f8edc1be88dd385@mail.gmail.com>
References: <1272632189.3167.10.camel@dxw-harry>
	<j2m89a1851d1004300619u7b0fad1g6f8edc1be88dd385@mail.gmail.com>
Message-ID: <n2j77ee26031004300719obca7d0cfkdd1bd8700f71a282@mail.gmail.com>

2010/4/30 Christian Foster <christian.foster at gmail.com>

> It's great - really simple to browse. I like your other Wordpress
> tools too ( sass / cucumber etc ).
>

+ 1

very good job

WP really lacks the Rails culture.

From jer at simianuprising.com  Fri Apr 30 14:29:58 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Fri, 30 Apr 2010 10:29:58 -0400
Subject: [wp-hackers] Introducing wpdocs
In-Reply-To: <n2j77ee26031004300719obca7d0cfkdd1bd8700f71a282@mail.gmail.com>
References: <1272632189.3167.10.camel@dxw-harry>
	<j2m89a1851d1004300619u7b0fad1g6f8edc1be88dd385@mail.gmail.com>
	<n2j77ee26031004300719obca7d0cfkdd1bd8700f71a282@mail.gmail.com>
Message-ID: <g2ne1202cb11004300729pdee5bee0v86bc7838d6fa446f@mail.gmail.com>

Very handsome tool you have there! It basically offers the same
functionality as a PHPXref but with flashier graphics (in-browser find
can cover a lot of ground though your AJAX search is definitely
useful):

http://phpxref.ftwr.co.uk/wordpress/nav.html?_functions/index.html

Actually, your tool doesn't seem to list *uses* of a function, a
feature of PHPXref that I value deeply.

Of course, anyone using an IDE doesn't need websites to tell them
about the code because their programming tool can do it for them. I
just type CMD+e and start typing to read the docs about a function.
#onetrackmind http://netbeans.org

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From harry at thedextrousweb.com  Fri Apr 30 15:32:28 2010
From: harry at thedextrousweb.com (Harry Metcalfe)
Date: Fri, 30 Apr 2010 16:32:28 +0100
Subject: [wp-hackers] Introducing wpdocs
Message-ID: <1272641548.3167.38.camel@dxw-harry>

Christian Foster wrote:
> It's great - really simple to browse. I like your other Wordpress
> tools too ( sass / cucumber etc ). Would be great if you had time to
> get together a dedicated section on your website for all these tools
> and possibly some examples. I've been watching on github anyway.

You caught my thought. I'd really like to do this too. I think we will, 
as soon as there's time.


Ryan McCue wrote:
> Wow, this is awesome. I'll definitely be using this.

Thanks!

> One thing that would be nice is to link to the WordPress Trac's code
> browser instead of the GitHub one.

That's a good idea. Github is pretty ingrained for us, but I'm sure 
that's not true of most. I'll add it to the list.


Christian Foster wrote:
> WP really lacks the Rails culture.

Not for long >:)


Jeremy Clarke wrote:
> Actually, your tool doesn't seem to list *uses* of a function, a
> feature of PHPXref that I value deeply.

Interesting - you're absolutely right that that would be useful. We'll 
look into adding it. 

> Of course, anyone using an IDE doesn't need websites to tell them
> about the code because their programming tool can do it for them.

We are professed vim addicts :)

Harry


PS: apologies for breaking the thread - forgot to come out of digest 
mode before posting.

-- 
Harry Metcalfe
Tel: 07790 559 876
Web: http://thedextrousweb.com
Twitter: @harrym, @dextrousweb


From aldolat at gmail.com  Fri Apr 30 15:39:00 2010
From: aldolat at gmail.com (Aldo Latino)
Date: Fri, 30 Apr 2010 17:39:00 +0200
Subject: [wp-hackers] Access the total number of pages of a multipage
 post or page out of the loop
In-Reply-To: <u2z8031bdef1004300327yf8ecd13fvd2fb5d58489be931@mail.gmail.com>
References: <4BD7385E.20604@gmail.com>
	<4BDA43EE.1020506@ntlworld.com>	<4BDA606E.3060209@gmail.com>
	<u2z8031bdef1004300327yf8ecd13fvd2fb5d58489be931@mail.gmail.com>
Message-ID: <4BDAF994.5050508@gmail.com>

Il 30/04/2010 12:27, John Bloch ha scritto:
> Try adding
> 
> global $numpages;
> 
> to your header file (or whatever function is generating the head tags you're
> writing).

$numpages in <head> (i.e. outside the loop) is always empty, even if
using global.

-- 
Aldo Latino
OpenPGP key: 4096R/0xA18E41E8 | bit.ly/keyDSA
84E2 2BC8 ABE3 DCC0 9F15  E511 4357 7ECD 4397 C730

From jbloch at olympianetworks.com  Fri Apr 30 15:55:50 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Fri, 30 Apr 2010 11:55:50 -0400
Subject: [wp-hackers] Access the total number of pages of a multipage
	post or page out of the loop
In-Reply-To: <4BDAF994.5050508@gmail.com>
References: <4BD7385E.20604@gmail.com>
	<4BDA43EE.1020506@ntlworld.com>	<4BDA606E.3060209@gmail.com>
	<u2z8031bdef1004300327yf8ecd13fvd2fb5d58489be931@mail.gmail.com>
	<4BDAF994.5050508@gmail.com>
Message-ID: <DB573BE2-9735-45BD-8DD7-36BD85602AD5@olympianetworks.com>

Ah. Right you are. My bad. This should work:

$pages = count( explode( '<!--nextpage-->', $wp_query->post->post_content ) );

On Apr 30, 2010, at 11:39 AM, Aldo Latino wrote:

> Il 30/04/2010 12:27, John Bloch ha scritto:
>> Try adding
>> 
>> global $numpages;
>> 
>> to your header file (or whatever function is generating the head tags you're
>> writing).
> 
> $numpages in <head> (i.e. outside the loop) is always empty, even if
> using global.
> 
> -- 
> Aldo Latino
> OpenPGP key: 4096R/0xA18E41E8 | bit.ly/keyDSA
> 84E2 2BC8 ABE3 DCC0 9F15  E511 4357 7ECD 4397 C730
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From aldolat at gmail.com  Fri Apr 30 16:13:31 2010
From: aldolat at gmail.com (Aldo Latino)
Date: Fri, 30 Apr 2010 18:13:31 +0200
Subject: [wp-hackers] Access the total number of pages of a multipage
 post or page out of the loop
In-Reply-To: <DB573BE2-9735-45BD-8DD7-36BD85602AD5@olympianetworks.com>
References: <4BD7385E.20604@gmail.com>	<4BDA43EE.1020506@ntlworld.com>	<4BDA606E.3060209@gmail.com>	<u2z8031bdef1004300327yf8ecd13fvd2fb5d58489be931@mail.gmail.com>	<4BDAF994.5050508@gmail.com>
	<DB573BE2-9735-45BD-8DD7-36BD85602AD5@olympianetworks.com>
Message-ID: <4BDB01AB.2000602@gmail.com>

Il 30/04/2010 17:55, John Bloch ha scritto:
> Ah. Right you are. My bad. This should work:
> 
> $pages = count( explode( '<!--nextpage-->', $wp_query->post->post_content ) );

Bingo! :D
Thanks John!

-- 
Aldo Latino
OpenPGP key: 4096R/0xA18E41E8 | bit.ly/keyDSA
84E2 2BC8 ABE3 DCC0 9F15  E511 4357 7ECD 4397 C730

From jbloch at olympianetworks.com  Fri Apr 30 16:18:37 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Fri, 30 Apr 2010 12:18:37 -0400
Subject: [wp-hackers] Access the total number of pages of a multipage
	post or page out of the loop
In-Reply-To: <4BDB01AB.2000602@gmail.com>
References: <4BD7385E.20604@gmail.com>	<4BDA43EE.1020506@ntlworld.com>	<4BDA606E.3060209@gmail.com>	<u2z8031bdef1004300327yf8ecd13fvd2fb5d58489be931@mail.gmail.com>	<4BDAF994.5050508@gmail.com>
	<DB573BE2-9735-45BD-8DD7-36BD85602AD5@olympianetworks.com>
	<4BDB01AB.2000602@gmail.com>
Message-ID: <AE9F8509-72A6-49F1-AC82-E315732070C4@olympianetworks.com>

No problem!

I figured that out on http://wpdocs.labs.thedextrousweb.com/ that people have been talking about today; great tool (of course, the WP PHPXref at http://phpxref.ftwr.co.uk/wordpress/nav.html?index.html would have worked too, but I wanted to try the new RoR application).

The search function on the new RoR docs is so amazing!

On Apr 30, 2010, at 12:13 PM, Aldo Latino wrote:

> Il 30/04/2010 17:55, John Bloch ha scritto:
>> Ah. Right you are. My bad. This should work:
>> 
>> $pages = count( explode( '<!--nextpage-->', $wp_query->post->post_content ) );
> 
> Bingo! :D
> Thanks John!
> 
> -- 
> Aldo Latino
> OpenPGP key: 4096R/0xA18E41E8 | bit.ly/keyDSA
> 84E2 2BC8 ABE3 DCC0 9F15  E511 4357 7ECD 4397 C730
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From peter.westwood at ftwr.co.uk  Fri Apr 30 18:25:51 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 30 Apr 2010 19:25:51 +0100
Subject: [wp-hackers] Introducing wpdocs
In-Reply-To: <1272632189.3167.10.camel@dxw-harry>
References: <1272632189.3167.10.camel@dxw-harry>
Message-ID: <BDE76009-4100-4531-B649-9AA731C9ABA3@ftwr.co.uk>


On 30 Apr 2010, at 13:56, Harry Metcalfe wrote:

> Anyone who's used railsapi.com will recognise this - we've put together
> the standard WordPress documentation in a way that's a bit quicker and
> easier to search:
> 
>  http://wpdocs.labs.thedextrousweb.com/
> 
> Feedback much appreciated! The first thing on our list of improvements
> is to make everything linkable (and also indexable by Google).
> 


This is cool.

Will have to have a play with this.

Would be nice to see it split out based on the package stuff does like phpdoc does:

http://phpdoc.ftwr.co.uk/wordpress/

Does it need much RAM to build the docs? (phpdoc itself is a memory hog so would love to use something less intensive to replace the whole of http://phpdoc.ftwr.co.uk/ )

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From aldolat at gmail.com  Fri Apr 30 18:59:19 2010
From: aldolat at gmail.com (Aldo Latino)
Date: Fri, 30 Apr 2010 20:59:19 +0200
Subject: [wp-hackers] Access the total number of pages of a multipage
 post or page out of the loop
In-Reply-To: <AE9F8509-72A6-49F1-AC82-E315732070C4@olympianetworks.com>
References: <4BD7385E.20604@gmail.com>	<4BDA43EE.1020506@ntlworld.com>	<4BDA606E.3060209@gmail.com>	<u2z8031bdef1004300327yf8ecd13fvd2fb5d58489be931@mail.gmail.com>	<4BDAF994.5050508@gmail.com>	<DB573BE2-9735-45BD-8DD7-36BD85602AD5@olympianetworks.com>	<4BDB01AB.2000602@gmail.com>
	<AE9F8509-72A6-49F1-AC82-E315732070C4@olympianetworks.com>
Message-ID: <4BDB2887.2030002@gmail.com>

Il 30/04/2010 18:18, John Bloch ha scritto:
> The search function on the new RoR docs is so amazing!

Sure! It's amazing!

-- 
Aldo Latino
OpenPGP key: 4096R/0xA18E41E8 | bit.ly/keyDSA
84E2 2BC8 ABE3 DCC0 9F15  E511 4357 7ECD 4397 C730

From fidler.brian at gmail.com  Fri Apr 30 19:11:03 2010
From: fidler.brian at gmail.com (Brian Fidler)
Date: Fri, 30 Apr 2010 12:11:03 -0700
Subject: [wp-hackers] Pay a fee to post
Message-ID: <n2p70d23f011004301211w5bac6694wb9514eaca832fc01@mail.gmail.com>

I have a client that would like to set up an ability for his readers and
sponsors to post job listings on his site. He wants to charge them $X each
via Paypal.

Can anybody recommend a simple solution to this? My main concern is that we
will need to resolve the transaction to the job posting.

thanks,
brian

From shane at bugssite.org  Fri Apr 30 19:19:46 2010
From: shane at bugssite.org (Shane Froebel)
Date: Fri, 30 Apr 2010 19:19:46 +0000
Subject: [wp-hackers] Pay a fee to post
Message-ID: <1848955005-1272655187-cardhu_decombobulator_blackberry.rim.net-324808918-@bda2094.bisx.prod.on.blackberry>

Please use the wp-pro wp-job mailing list for these type of requests.  
------Original Message------
From: Brian Fidler
Sender: wp-hackers-bounces at lists.automattic.com
To: wp-hackers at lists.automattic.com
ReplyTo: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Pay a fee to post
Sent: Apr 30, 2010 3:11 PM

I have a client that would like to set up an ability for his readers and
sponsors to post job listings on his site. He wants to charge them $X each
via Paypal.

Can anybody recommend a simple solution to this? My main concern is that we
will need to resolve the transaction to the job posting.

thanks,
brian
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From jmiloj at gmail.com  Fri Apr 30 19:41:44 2010
From: jmiloj at gmail.com (Jerry Johnson)
Date: Fri, 30 Apr 2010 15:41:44 -0400
Subject: [wp-hackers] Pay a fee to post
In-Reply-To: <1848955005-1272655187-cardhu_decombobulator_blackberry.rim.net-324808918-@bda2094.bisx.prod.on.blackberry>
References: <1848955005-1272655187-cardhu_decombobulator_blackberry.rim.net-324808918-@bda2094.bisx.prod.on.blackberry>
Message-ID: <q2ya1fff2b21004301241v8edbd10aj7c5b3e29ca69058b@mail.gmail.com>

This was a perfect request for wp-hackers, I thought.

He isn't trying to hire someone to do it, he is asking if anyone knows of
existing plugins that would be a starting point, or if not a good approach
to take.

If you want a COTS solution, it looks like WPDirectoryPro might be on point.
(http://www.wpdirectorypro.com/index.php). I have no experience with them or
it, so cannot comment on it. Searching "directory" in the wp plugins returns
a number of systems to look at.

If you are looking to piece something together, I would imagine that the
"let customers write posts" is handled already by wordpress natively. Just
do not give those users publish rights. They can create posts, which will
languish in draft mode until someone publishes them.

Adding "pay for the listing on paypal" could be handled by a function that
maybe hooks the save new post?

After the payment is made on paypal, handling the activation could either be
done manually (the owner would get a payment email), or use the paypal
mechanism to send the user to a "success" page, which could be handled by a
function that records the transaction # (and other paypal details) in
metadata for that post, and pushes the post to "publish".

Reporting would need to be another function that maybe adds columns to the
edit.php page (manage posts).

I am just glad at the moment that I don't have to solve this one!

Jerry Johnson
Web developer

On Fri, Apr 30, 2010 at 3:19 PM, Shane Froebel <shane at bugssite.org> wrote:

> Please use the wp-pro wp-job mailing list for these type of requests.
> ------Original Message------
> From: Brian Fidler
> Sender: wp-hackers-bounces at lists.automattic.com
> To: wp-hackers at lists.automattic.com
> ReplyTo: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Pay a fee to post
> Sent: Apr 30, 2010 3:11 PM
>
> I have a client that would like to set up an ability for his readers and
> sponsors to post job listings on his site. He wants to charge them $X each
> via Paypal.
>
> Can anybody recommend a simple solution to this? My main concern is that we
> will need to resolve the transaction to the job posting.
>
> thanks,
> brian
>

From fidler.brian at gmail.com  Fri Apr 30 19:41:47 2010
From: fidler.brian at gmail.com (Brian Fidler)
Date: Fri, 30 Apr 2010 12:41:47 -0700
Subject: [wp-hackers] Pay a fee to post
In-Reply-To: <1848955005-1272655187-cardhu_decombobulator_blackberry.rim.net-324808918-@bda2094.bisx.prod.on.blackberry>
References: <1848955005-1272655187-cardhu_decombobulator_blackberry.rim.net-324808918-@bda2094.bisx.prod.on.blackberry>
Message-ID: <o2k70d23f011004301241pdad4395bh1629b0531d6307f0@mail.gmail.com>

ok, sorry

On Fri, Apr 30, 2010 at 12:19 PM, Shane Froebel <shane at bugssite.org> wrote:

> Please use the wp-pro wp-job mailing list for these type of requests.
> ------Original Message------
> From: Brian Fidler
> Sender: wp-hackers-bounces at lists.automattic.com
> To: wp-hackers at lists.automattic.com
> ReplyTo: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Pay a fee to post
> Sent: Apr 30, 2010 3:11 PM
>
> I have a client that would like to set up an ability for his readers and
> sponsors to post job listings on his site. He wants to charge them $X each
> via Paypal.
>
> Can anybody recommend a simple solution to this? My main concern is that we
> will need to resolve the transaction to the job posting.
>
> thanks,
> brian
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From fidler.brian at gmail.com  Fri Apr 30 19:45:27 2010
From: fidler.brian at gmail.com (Brian Fidler)
Date: Fri, 30 Apr 2010 12:45:27 -0700
Subject: [wp-hackers] Pay a fee to post
In-Reply-To: <q2ya1fff2b21004301241v8edbd10aj7c5b3e29ca69058b@mail.gmail.com>
References: <1848955005-1272655187-cardhu_decombobulator_blackberry.rim.net-324808918-@bda2094.bisx.prod.on.blackberry>
	<q2ya1fff2b21004301241v8edbd10aj7c5b3e29ca69058b@mail.gmail.com>
Message-ID: <s2t70d23f011004301245vfdb21ca4hdfbda2404042d5b0@mail.gmail.com>

Thanks Jerry,

I thought that too, but I wasn't aware of the WP-PRO list so a little silver
lining!

And great thought on some possible approaches, I appreciate it.

thanks
brian


On Fri, Apr 30, 2010 at 12:41 PM, Jerry Johnson <jmiloj at gmail.com> wrote:

> This was a perfect request for wp-hackers, I thought.
>
> He isn't trying to hire someone to do it, he is asking if anyone knows of
> existing plugins that would be a starting point, or if not a good approach
> to take.
>
> If you want a COTS solution, it looks like WPDirectoryPro might be on
> point.
> (http://www.wpdirectorypro.com/index.php). I have no experience with them
> or
> it, so cannot comment on it. Searching "directory" in the wp plugins
> returns
> a number of systems to look at.
>
> If you are looking to piece something together, I would imagine that the
> "let customers write posts" is handled already by wordpress natively. Just
> do not give those users publish rights. They can create posts, which will
> languish in draft mode until someone publishes them.
>
> Adding "pay for the listing on paypal" could be handled by a function that
> maybe hooks the save new post?
>
> After the payment is made on paypal, handling the activation could either
> be
> done manually (the owner would get a payment email), or use the paypal
> mechanism to send the user to a "success" page, which could be handled by a
> function that records the transaction # (and other paypal details) in
> metadata for that post, and pushes the post to "publish".
>
> Reporting would need to be another function that maybe adds columns to the
> edit.php page (manage posts).
>
> I am just glad at the moment that I don't have to solve this one!
>
> Jerry Johnson
> Web developer
>
> On Fri, Apr 30, 2010 at 3:19 PM, Shane Froebel <shane at bugssite.org> wrote:
>
> > Please use the wp-pro wp-job mailing list for these type of requests.
> > ------Original Message------
> > From: Brian Fidler
> > Sender: wp-hackers-bounces at lists.automattic.com
> > To: wp-hackers at lists.automattic.com
> > ReplyTo: wp-hackers at lists.automattic.com
> > Subject: [wp-hackers] Pay a fee to post
> > Sent: Apr 30, 2010 3:11 PM
> >
> > I have a client that would like to set up an ability for his readers and
> > sponsors to post job listings on his site. He wants to charge them $X
> each
> > via Paypal.
> >
> > Can anybody recommend a simple solution to this? My main concern is that
> we
> > will need to resolve the transaction to the job posting.
> >
> > thanks,
> > brian
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.4.1273095720.1335.wp-hackers@lists.automattic.com>

SuperGlobals are already escaped and don't use the more recent prepare
stuff.

Therefore if we remove this we risk making all those plugins vulnerable.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.5.1273253228.1335.wp-hackers@lists.automattic.com>

better to
use either a simple function, or even better, uninstall.php. And an extra
SQL query
on each page load is an obvious waste of resources.

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.13.1275314449.1335.wp-hackers@lists.automattic.com>

On Mon, May 31, 2010 at 1:39 PM, capsx <capsx at team.lv> wrote:
> hi there, again!
>
> how to rename tag slug ?
>
> thx
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.15.1275504595.1335.wp-hackers@lists.automattic.com>

those looking for answers -- not discussions. There's a time and a place for
forums (such as for plugin feedback/critique), but IMO the StackOverflow
model would benefit the majority of WP users that are scouring the forums
for a concise answer or fix.

I recently built a Q&A app that hooks into the WP users table. It could use
a tweak here and there, but I'd be glad to contribute the code if it'd
benefit the community.

It could be hosted on .org, so there wouldn't be any worries of it going
away if something were to ever happen to StackExchange. Sample:
http://podscms.org/qna/

On Wed, Jun 2, 2010 at 2:27 PM, eric at eamann.com <eric at eamann.com> wrote:

> That's exactly where the dichotomy is - between a question/answer site
> ('WordPress Answers') and a conversation site (wordpress.org forums).  If
> I am
> looking for the solution to a particular answer, seeing a list of potential
> answers with community votes and a "this is the right answer" flag is far
> more
> useful than an endless list of "I have this problem, too!" posts.
>
> I've been using the wordpress.org forums ever since I started using
> WordPress.
> I asked questions that went unanswered.  I answered questions that seemed
> stale
> and forgotten by the community.  But all the while, the "answer" and
> "support"
> feeling of the forums was missing.  It's a great place to have a
> conversation on
> a topic, but if I'm looking for a specific answer, it's the last place I
> go.
>
> I've had much more success using Google to search for information ... and 9
> times out of 10 I find the answer on either Stack Overflow or a
> miscellaneous
> user's personal tutorial than on wordpress.org.
>
> What I'm trying to say, though, is that there's a need for both.  We need a
> question/answer site and we need a community forum.  Trying to fill both
> needs
> with one solution is a flawed strategy from the get-go, and you'll always
> end up
> with people in both camps claiming the others' efforts are misguided.
>
> ~Eric
>
>
> On June 2, 2010 at 6:02 PM Otto <otto at ottodestruct.com> wrote:
>
> > On Wed, Jun 2, 2010 at 12:59 PM, Arlen Beiler <arlenbee at gmail.com>
> wrote:
> > >> P.S. *Assuming* WordPress Answers really takes off (as it appears it
> > >> might), probably the best thing Automattic could do would be to
> embrace it
> > >> fully and configure it to be served from http://answers.wordpress.org
> .
> > >> JMTCW.
> > >
> > > That is one thing I have been thinking of since the beginning, and I
> like
> > > the idea *VERY much.*
> >
> > I'm personally very much against that. StackExchange and that whole
> > set of sites in general is extremely user unfriendly. Even I find it
> > difficult to use and hard to find what I'm looking for on there.
> >
> > I'd rather we revamp the existing forum structure into something
> > better, with new features. Forums are better than weird
> > "question/answer" sites that nobody can follow or have conversations
> > on.
> >
> > So no, I'm not supporting this notion at all.
> >
> > -Otto
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.30.1277720308.1335.wp-hackers@lists.automattic.com>

times, even if it's meant to be supported.

Notwithstanding IE6 ... ;)

G

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com =
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Otto
Sent: 28 June 2010 06:18
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Adding class to first menu item of submenu =
inwp_nav_menu

Nope, it is. See their test page. They use a "test link" which adds
stuff to the DOM via Javascript.

-Otto



On Sun, Jun 27, 2010 at 8:46 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
>> Actually, according to your link, it does work in IE7 and up. The
>> caveats it mentions occur when you change the DOM via javascript.
>
>
> Point taken. But for IE8:
>
> "IE8 does the right thing only after you remove the focus from the =
test link."
>
> Unless I misread, that's not related to DOM manipulation? =A0FWIW.
>
> -Mike
>
> On Jun 27, 2010, at 9:06 PM, Otto wrote:
>
>> Actually, according to your link, it does work in IE7 and up. The
>> caveats it mentions occur when you change the DOM via javascript.
>>
>> -Otto
>>
>>
>>
>> On Sun, Jun 27, 2010 at 7:29 PM, Mike Schinkel
>> <mikeschinkel at newclarity.net> wrote:
>>>> Why would you need that? Just use "ul.sub-menu li:first-child". =
CSS2
>>>> has you covered on that score.
>>>
>>> FYI, li:first-child doesn't work 100%[1] in IE8 nor at all in IE7, =
unfortunately.
>>>
>>> -Mike
>>> [1] http://www.quirksmode.org/css/contents.html
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.31.1277813775.1335.wp-hackers@lists.automattic.com>

ID into the table class so that we modify table look based on the post
type without impacting other legacy types.

Thanks!

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.38.1280259626.1335.wp-hackers@lists.automattic.com>

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Shortcode Statuses (to implement, or not to implement?)
=A0=A0=A0=A0=A0=A0=A0 enabled =3D the shortcode works as normal (default)
=A0=A0=A0=A0=A0=A0=A0 strip =3D the shortcode will be parsed and removed.=
=A0 e.g.
'[shortcode foo=3D"bar"]' produces ''.=A0 '[shortcode]foo[/shortcode]'
produces 'foo'.
=A0=A0=A0=A0=A0=A0=A0 faux =3D the shortcode will be abbreviated.=A0 e.g. '=
[shortcode
foo=3D"bar"]' products '[shortcode]'.=A0 '[shortocde]foo[/shortcode]'
produces '[shortcode]'
=A0=A0=A0=A0=A0=A0=A0 disabled =3D the shortcode is not parsed at all.=A0 e=
.g.
'[shortcode foo=3D"bar"]' products '[shortcode foo=3D"bar"]'


Major Differences/Improvements:
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D
I. Addressing http://codex.wordpress.org/Shortcode_API#Limitations

        1. You can nest any tag at any depth regardless of ancestors
(Ticket #10702)

        2. Tag and attribute names may match
/[A-Za-z][-A-Za-z0-9_:.]*//* (trialing /* because that comment ends),
           with case-insensitive interpretation

        3. Interpretation doesn't get tripped up by things like hyphens

II. Addressing Ticket #12760,

        1. Changed from fix in #6518
           Reasoning: balancing double-square-brackets can have
misleading results with nesting

        2. Shortcodes escapable by using [[, ]]

        3. ']]' is escaped "right to left", so '[shortcode]]]' would
evaluate to 'result]'

        4. '[[' is escaped left to right '[[[shortcode]]]' =3D> '[result]'

III. Enhancements

        1. Only matches valid shortcode for registered hooks,
everything else will appear as text

        2. Can register multiple hooks to single shortcode, uses
priority (default: 10)

IV. Conflicting Design Changes

        1. Quoted literals are escaped by entities rather than cslashes

        2. Inline (self-closing) shortcodes get passed content to
accomodate multiple callbacks

        3. No equivalent to shortcode_parse_atts function
           (Not marked private in function reference, but not
documented in shortcode API page)

        4. Boolean attributes take the place of positional attributes
           [foo bar] gets attributes array('bar' =3D> 'bar') instead of
array('0' =3D> 'bar')

        5. Disallows attribute and tag names that don't match
/[A-Za-z][-A-Za-z0-9_:.]*/

        6. Disallows unquoted attribute values (also boolean
attributes), unless they match /[-A-Za-z0-9_:.]+/


Basic Interpretation Method:
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
1. If an open tag is encountered, it is added to the stack

2. If a close tag is encountered and there is no matching open tag on the s=
tack
   the close tag is ignored

3. If a close tag is encountered and there is a matching open tag on the st=
ack
   all opened tags on the stack before the matched tag will be
implicitly self-closed

4. If text or an inline tag is encountered, it will be evaluated to its par=
ent's
   content immediately

5. If tags are not closed by the end of the interpretation, they will
be implicitly
   self-closed


Issues:
=3D=3D=3D=3D=3D=3D=3D
1. Haven't written new unit tests to reflect new functionality added,
functionality differences

2. Documentation is not as good (though I hope most of the code is
self-explanatory)

3. Not 100% backwards compatible

---
I look forward to hearing this list's opinions.
-Jacob Beauregard

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.48.1282237812.1335.wp-hackers@lists.automattic.com>

Having multiple databases gives you the opportunity to setup different DB
admins and therefore sandbox each site from each others' tables. A malicious
script or accidental and dangerous query has less chance of damaging tables
of other sites' DBs it doesn't have access to. But at the same time, you
trade off the convenience of being able to do comprehensive backup and
restore of the one-and-only DB.


On Thu, Aug 19, 2010 at 11:53 AM, Brian Layman <Brian at thecodecave.com>wrote:

> I agree with Jacob. With the old school b5media, we'd done it both ways.
> While running separate installations of WordPress, we'd peaked at around
> 317
> live blogs.  What that does is create a nightmare for file handling on your
> servers. Let's guess at WordPress having 800 files when looking at themes
> and plugins combined.  Running separate WP instances, that's roughly 800 *
> 300 = 240,000 different files the server has to deal with and hopefully
> cache rather than load off of the hard drives.  Compare that with a
> multi-site install - 800 files total.  Obviously from a file perspective, a
> singe directory is easier to deal with. We'd even experimented using
> soft-links to serve the same files and get around this before WPMU had
> matured.   Also of consideration is what will happen when you update to a
> newer version of wordpress.  NSF will take lots of resources when it tries
> to sync up all of the changes across all of the servers.
>
> The database faces similar issues. Creating a single database with 11 * 300
> = 3300 tables can cause its own set of headaches as a "show tables" in a
> random plugin causes your whole site to pause.  Mike & Scribu nailed it.
> HyperDB will become your close personal friend.
>
> Not using MS means you can have each blog admin/author be truly in charge
> of
> their site and opens up configurations options blocked by the nature of MS
> and eliminates some security concerns as well.  I imagine that came into
> play in your decision.
>
> Backups regimes are easy enough. You'll want to create a table of installs
> etc you can run off of. That way you'll know all the install directories
> and
> database names. And then you can just iterate them. I have my own scripts
> you could modify for this purpose if you like.
>
> lol you're making me all nostalgic now...
> ______________________________________________
> Brian Layman
> eHermits, Inc.
> TheCodeCave.com / eHermitsInc.com / twitter.com/BrianLayman /
> facebook.com/eHermit
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.51.1282447939.1335.wp-hackers@lists.automattic.com>

 * Whether the current page query is single page.
 *
 * The parameter can contain the post ID, post title, or post name. The
 * parameter can also be an array of those three values.
 *
 * This applies to other post types, attachments, *pages*, posts. Just means
that
 * the *current query has only a single object*.

This is wrong, is_single() returns false for pages

1) the fuction comment should be corrected

2) how can I have is_single to return true for a custom post-type that
behaves like a page ?

Best regards

-- 
Lox
lox.dev at knc.nc

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.55.1283300301.1335.wp-hackers@lists.automattic.com>

All the functions in your Plugin need to have unique names that are differe=
nt from functions in the WordPress core, other Plugins, and themes. For tha=
t reason, it is a good idea to use a unique function name prefix on all of =
your Plugin's functions. Another possibility is to define your Plugin funct=
ions inside a class (which also needs to have a unique name).


________________________________
From: Curtis McHale <curtis at curtismchale.ca>
Reply-To: <wp-hackers at lists.automattic.com>
Date: Tue, 31 Aug 2010 19:52:23 -0400
To: <wp-hackers at lists.automattic.com>
Subject: Re: [wp-hackers] plugin activation help

I thought that was already the recommended best practice. Every function
you write for a plugin or a theme should be prefixed to make sure it
doesn't duplicate another plugin or theme.

Raj wrote:
> If only I had a dime for every time that happens. I'd be making more than=
 I
> am through donations.
>
> It seems everybody likes to name their functions:
>
> sanitize()
> validateEmail()
> validate()
> strip()
> ... and so on.
>
> Perhaps we could all adopt the gentleman's code - prefix every single
> function uniquely :P
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Rich Pedley
> Sent: Wednesday, September 01, 2010 3:18 AM
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] plugin activation help
>
> I'm getting a couple of people post about some issues when activating
> my plugin eShop.
>
> Fatal error: Cannot redeclare add_user() (previously declared in
> C:\Inetpub\vhosts\ellcee.com\httpdocs\blog\wordpressDEV\wp-admin\includes=
\us
> er.php:23)
> in
> C:\Inetpub\vhosts\ellcee.com\httpdocs\blog\wordpressDEV\wp-admin\includes=
\us
> er.php
> on line 44
>
> &
>
> Fatal error: Cannot redeclare add_user() (previously declared in
> C:\inetpub\vhosts\mydomain.com\httpdocs\store\wp-admin\includes\user.php:=
23)
>
> in
> C:\inetpub\vhosts\mydomain.com\httpdocs\store\wp-admin\includes\user.php
> on line 44
>
>
> Obviously I can't replicate this myself.
>
> Any ideas on what would be causing this? Or tips on how to help them
> without access to anything at their end?
>
> Any help appreciated.
>
> Rich
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

--
Curtis McHale

604.751.3482
http://curtismchale.ca
http://twitter.com/curtismchale
http://ca.linkedin.com/in/curtismchale

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.67.1287749782.1335.wp-hackers@lists.automattic.com>

 * @uses do_action() Calls 'edit_post' action on post ID and post data if
this is an update.
 * @uses do_action() Calls 'save_post' and 'wp_insert_post' on post id and
post data just before returning.

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.69.1290961799.1335.wp-hackers@lists.automattic.com>

to cause more issues, for more people, than relative URLs would, and as
such, relative URLs gets my backing.=20

I also hate that going from DEV to LIVE requires DB changes, it's not
smooth or fluid by any means (The HOSTS file trick obviously won't work
for Enterprise style setups, with separate DEV, STAGING and PRODUCTION,
environments).

We've had this discussion on this list many times before of course....

G


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Otto
Sent: 26 November 2010 21:58
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] WP Development & Production Sites

On Fri, Nov 26, 2010 at 2:21 PM, scribu <mail at scribu.net> wrote:
>> Thus breaking all your RSS feeds?
>>
>> Your content is not consumed solely through your website, you know.
>>
> I never understood why feeds are brought up as an argument against
relative
> URLs.
>
> The content as well as any other URL related attributes can be
filtered just
> as well for both HTML and RSS.

If you're going to filter everything, then you're adding a lot of
processing time and overhead, aren't you?

Look, I don't like shortcodes as is. As I see it, the content in the
database should stand alone, without anything that requires
post-processing in order to make it have a format viewable by the
reader. I should be able to just splat the thing out there and still
have it readable and proper. The content should be capable of being
displayed in any medium and still be at least interpretable, if not
displayed correctly.

However, we must have markup of some kind, because content often does
have formatting. HTML is a relatively good way to do markup, because
it can be parsed by whole lots of different things as is, without any
need to do any server-side processing.

So I see the need for shortcodes, in that they allow plugins to
arbitrarily modify content in specific user-specified places. I avoid
them as much as possible, but they serve a purpose. However, they do
affect that basic purity of the content. Now you have content that is
no longer independent of the site itself. This is a bad thing, it
breaks that vague separation of presentation and content barrier.

Regarding links, relative links have the same problem. They're
relative to the presentation. They're relative to the location.
They're not fixed. They make things harder when you change the format
of the site because they change along with it. Your content now has a
dependency based on where the content is being viewed.

Absolute links don't have this problem. They're absolute. They're not
supposed to change. If you have to change them, then you're either
doing some kind of extreme re-working of the whole site, or you're
doing something wrong.

So that's my basic thought process here. You're corrupting your
content by making it incapable of standing alone, and this sets you up
for problems down the road. And if you're frequently having to do
things like change your links to fit with content you're moving from
site to site, then you're doing the whole thing wrong in the first
place.

If you want to setup a local installation and have real content on
there, edit the HOSTS file. Make yoursite.com appear to be at
127.0.0.1. Then you can have your test site use the actual real URLs.
When you move the content, it will still have those actual real URLs.
If editing HOSTS files is too onerous for you, use a program to
automate it, so you can switch between a dev hosts file and a live one
by clicking a button. There's several programs that can do this out
there.

I use this exact process for making changes to wordpress.org. We have
sandboxes for the whole site. I can make any changes I like on my
sandbox, and when I go to wordpress.org in my browser, it goes to my
sandbox instead. Nobody sees my changes but me, because I have my
hosts file pointing wordpress.org to my sandbox. When I want to switch
it back to live, I click a button, hit refresh, and now I'm on live.
Easy. Works great.

-Otto
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.71.1291326428.1335.wp-hackers@lists.automattic.com>

is pushing fixes so quickly.

I just wanted to say thanks to vladimir_kolesnikov for being so on the
ball - and everyone who wrote/pushed the fix.

On Thu, Dec 2, 2010 at 1:55 PM, Trent Martin <trentmar at gmail.com> wrote:
> Wow, it would be nice for us plugin developers if you guys would give us
> even a few days advance notice on these things, especially considering your
> record of breaking plugins and themes with your updates.
>
> The problem is that when people see the "Please update now" notice on their
> dashboard, and you call it a mandatory update, of course they are going to
> update. But with no advance notice, that means that no plugins or themes
> have even been tested with the update. As far as I can tell, there was also
> no public beta testing for this either, are you just hoping everything will
> work? Even your e-mail announcement to the wp-testers list came a day after
> the actual release.
>
> With tens of thousands of plugins and themes used by millions of people, you
> really need to better consider the impact of your releases. It's hard enough
> keeping compatible with each update, but you make it so much harder when we
> suddenly open our e-mail to find a flood of support requests because of a
> surprise WordPress release. We had to drop everything yesterday to update
> all our test sites, scramble though our full test procedures, and respond to
> all the support requests telling people our plugins are still compatible.
>
> Perhaps you need to put a disclaimer on releases that no plugin or theme
> developers were previously aware of it and nothing has been tested yet so
> install at your own risk.
>
> If there is a better way to keep on top of upcoming releases that I am just
> missing, please let me know. And yeah maybe this release was relatively
> minor but there is rarely a WordPress release that doesn't affect many
> plugins one way or another.
>
> Are there any other plugin and theme developers out there who agree?
>
>
> TM
>
>
>
> As most of you know, WordPress 3.0.2 was released Tuesday. This is a
> mandatory security release for all previous WordPress versions.
>
> Those wishing to continue to test the 3.1 Beta, please note that the
> currently nightly build (3.1-beta1-16642) contains the fixes that were
> included in 3.0.2.
>
> I'd advise you to update your plugin compatibility as appropriate. Plugins
> should be unaffected by this release.
>
> Here's a summary of the changes:
> http://codex.wordpress.org/Version_3.0.2
>
> Thanks,
> Nacin
> ______________________________
> _________________
> wp-testers mailing list
> wp-testers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-testers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.72.1291639850.1335.wp-hackers@lists.automattic.com>

# 'showposts' =3D> 1 - use 'showposts' =3D> 3 to show 3 posts. Use
'showposts' =3D> -1 to show all posts. Deprecated in favor of
posts_per_page

Gav

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Philip M.
Hofer (Frumph)
Sent: 06 December 2010 11:36
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] showposts/posts_per_page bug?

You want

&show_posts=3D-1&posts_per_page=3D-1'


the show_posts as well



----- Original Message -----=20
From: "Gavin Pearce" <Gavin.Pearce at 3seven9.com>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, December 06, 2010 2:33 AM
Subject: Re: [wp-hackers] showposts/posts_per_page bug?


> Just flicked onto the list to post the same question.=20
>=20
> Also seeing the same bug:
> $resources =3D get_posts(array('post_type' =3D> 'tsn_resource',
> 'posts_per_page' =3D> '-1'));
> returns only 5 items out of a possible 50ish.
>=20
> As I need all posts, I can get it to work by running:
> $resources =3D get_posts(array('post_type' =3D> 'tsn_resource',
> 'posts_per_page' =3D> '-1', 'nopaging' =3D> true));
>=20
> G
>=20
>=20
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Simon
> Blackbourn
> Sent: 05 December 2010 22:03
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] showposts/posts_per_page bug?
>=20
>>
>> It's a bug. Fixed in 3.1.
>>
>>
> great news, thanks for the update.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.73.1291898037.1335.wp-hackers@lists.automattic.com>

(01:21:42 PM) nacin: A few of us had the discussion [switching to git] a few
months ago. Quick hits:
1) Our infrastructure, and Automattic's, is heavily SVN. It will take a
serious reinvestment for everything to change over (imagine a rewrite of
/extend/plugins/), and it needs to be done for well-founded reasons, not
just potential improvements.

Can't argue with that. This would not be an easy undertaking, for sure.

2) Git is great, but the software that surrounds it needs more time to
develop. Windows clients, web interfaces, etc.

I looked at a site that uses trac + git integration and indeed it was
nowhere near what you would expect, after having worked with github.com, for
example.

even if GitHub were open, it's project management features are minimal.
jQuery uses github + trac, which is not ideal, I would think.

The only open web interface that would support the proposed workflow, as
well as have more than basic project management features would be launchpad,
which uses bazaar.

If wp.org were to start using launchpad, it could also be used for
individual plugins and theme repos too, instead of the combined (and
overcrowded) svn repos we have now, which would be very nice.

3) A few of us are not convinced that moving from a patch-based workflow is
beneficial in all but the rarest of cases.

With this one I have to disagree.

Given the right interface, reviewing commits is much better than having to
go over all the code in a series of patches, over and over again, trying to
guess the differences between them.

Not to mention the convenience of local commits, compared to re-uploading
new versions of patches.

Let the opinions fly.

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.74.1292005081.1335.wp-hackers@lists.automattic.com>

should be initiated by the user - an alert saying "This plugin depends
on plugin X to work, activate this now? [Yes] [No]" where clicking Yes
would activate the plugin using the aforementioned WP functions.

I don't think users would appreciate plugins being activated without
their explicit consent.

-- Alex

Sent from my iPhone

On 10 Dec 2010, at 18:05, Scott Kingsley Clark <scott at skcdev.com> wrote:

> I'll likely be using is_plugin_Activated along with activate_plugin,
> sounds good! Thanks again!
>
> -Scott
>
>
> On Dec 10, 11:28 am, scribu <m... at scribu.net> wrote:
>> On Fri, Dec 10, 2010 at 7:02 PM, Scott Kingsley Clark <sc... at skcdev.com>wrote:
>>
>>> Just checking in here, has anyone here ever attempted to activate
>>> another plugin (or ensure it's activated, if not, then activate it)
>>> within a plugin? For example, when activating Plugin B, the Plugin B
>>> will activate Plugin A first (or if Plugin A is activated, continue;
>>> if Plugin A doesn't exist then send error to browser), then complete
>>> the rest of Plugin B specific activation.
>>
>>> I have the craziest of thoughts!
>>
>> Nah, it's not so crazy. You can use is_plugin_activated() and
>> activate_plugin().
>>
>> Or, just add a header and forget about it:http://wordpress.org/extend/plugins/plugin-dependencies/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.75.1292265450.1335.wp-hackers@lists.automattic.com>

currently published posts or pages. Contributors also gain the ability to
submit revisions to their own published content. These changes, if approved
by an Editor, can be published immediately or scheduled for future
publication."

Cheers
Simon

[1]http://wordpress.org/extend/plugins/revisionary

From bogus@does.not.exist.com  Tue Apr 20 23:23:57 2010
From: bogus@does.not.exist.com ()
Date: Tue, 20 Apr 2010 23:23:57 -0000
Subject: No subject
Message-ID: <mailman.76.1292461378.1335.wp-hackers@lists.automattic.com>

"see *Sony Corp. v. Universal City
Studios<http://en.wikipedia.org/wiki/Sony_Corp._of_America_v._Universal_Cit=
y_Studios,_Inc.>
* for a case in which substantial copying=97entire programs for private
viewing=97was upheld as fair use
see *Kelly v. Arriba Soft
Corporation<http://en.wikipedia.org/wiki/Kelly_v._Arriba_Soft_Corporation>
,* where the Ninth Circuit <http://en.wikipedia.org/wiki/Ninth_Circuit> hel=
d
that copying an entire photo to use as a thumbnail in online search results
did not weigh against fair use, 'if the secondary user only copies as much
as is necessary for his or her intended use.'"
 Simple put just refuting one point though is not enough!

Also from Wikipedia, "Once these factors were codified as guidelines in 17
U.S.C. <http://en.wikipedia.org/wiki/Title_17_of_the_United_States_Code>
=A7 107 <http://www.law.cornell.edu/uscode/17/107.html>, they were not
rendered exclusive. The section was intended by Congress to restate, but no=
t
replace, the prior judge-made law. Courts are still entitled to consider
other factors as well."

My statement that it was non-commercial use isn't implying that someone is
restricted from doing so, but what I was getting at is Matt didn't develop
the plugin as a commercial product, it is included in wordpress a free
product, not a commercial product, and the point that the end use generates
no commercial value for the user is also a good point to this.

Plus something to consider is also the fact that even though the whole
lyrics are in the plugin, they are never displays together which would
probably be taken into consideration ect.

On Wed, Dec 15, 2010 at 4:02 PM, Chip Bennett <chip at chipbennett.net> wrote:

> Actually, it's the other way around: if the copyright owner can refute an=
y
> one of the four components of the fair-use defense, then the use will be
> deemed to be infringing. Now, certainly, there's a
> degree-of-impact/infringement regarding each of the four components, but =
in
> this case, I don't see how that helps.
>
> Again: the educational use of the *Plugin* has nothing to do with the
> educational use of the *copyrighted work*. The educational use regards
> WordPress Plugin development, and nothing to do with the nature of the
> copyrighted work (song lyrics), e.g. music appreciation, composition, etc=
.
>
> "Hello, Dolly!" lyrics have nothing to do with WordPress Plugin
> development.
> *Any* lyrics (or non-lyrical text, for that matter) could be used to
> demonstrate the explode performed by the Plugin. Thus, use of the "Hello,
> Dolly!" lyrics does not further the educational use of the Plugin.
>
> And that's just Clause #1. Clause #3 ends any argument. The entirety of t=
he
> copyrighted work is incorporated into the Plugin.
>
> Chip
>
> On Wed, Dec 15, 2010 at 5:29 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > The educational use, IMO, is how the wordpress plugin system works.  No=
t
> to
> > mention the use is also non commercial.
> >
> > Also it is my understanding that you do not have to meet all those
> > criteria,
> > just have a balande, thus meeting just 2 of them is probably good enoug=
h,
> > meeting 3 or all 4 just makes an even stronger case.
> >
> > Again this is based on my understanding and intrerpretation, im not a
> > lawyer
> > but this seems obviously fair use to me.
> >
> > Anyway i'll leave it at that.
> >
> > On Dec 15, 2010 3:13 PM, "Chip Bennett" <chip at chipbennett.net> wrote:
> > > 1. *Educational/Non-Commercial Use:* The use of the "Hello, Dolly!"
> > > lyrics do not further any educational purpose of the Plugin, and lack
> of
> > use
> > > of those lyrics would not negatively detract from such educational
> > purpose.
> > > Any public-domain lyrics could be used in place of the copyrighted
> work,
> > and
> > > the educational purpose (to teach WordPress Plugin developers how to
> > > implement certain Plugin API features and other functions) would be
> > > furthered equally as it is with the copyrighted work being used. By t=
he
> > way:
> > > distributing the Plugin with WordPress? That lessens the "educational
> > use"
> > > argument even more, because it makes the use less individual and/or
> > > spontaneous.
> > >
> > > 2. *Nature of Copyrighted Work:* The nature of the copyrighted work -
> > > lyrics to a song - does not inherently lend the work to be used in th=
e
> > > manner for which it is incorporated by the Plugin.
> > >
> > > 3. *Substantiality/Extent of Use:* The Plugin incorporates the entire
> > > lyrics, not an excerpt or a snippet, but rather the entire work.
> > >
> > > 4. *Market Effect:* The Plugin has no effect on the market for the
> > > original work.
> > >
> > > #1 and #3 will kill any attempt at a fair-use infringement defense.
> > >
> > > My primary concern is that the matter be taken seriously by the
> > > powers-that-be. Given that wp-hackers isn't the appropriate venue for
> > > ensuring that concern is met, I'll do my best to bow out of the
> > discussion
> > > now.
> > >
> > > Chip
> > >
> > > On Wed, Dec 15, 2010 at 5:08 PM, Ryan Bilesky <rbilesky at gmail.com>
> > wrote:
> > >
> > >> I do think this would constitute fair use, in my non-professional
> > (legally
> > >> speaking) opinion.
> > >>
> > >> 17 U.S.C. =A7 107 Notwithstanding the provisions of sections 17 U.S.=
C. =A7
> > 106
> > >> and 17 U.S.C. =A7 106A, the fair use of a copyrighted work, includin=
g
> such
> > >> use
> > >> by reproduction in copies or phonorecords or by any other means
> > specified
> > >> by
> > >> that section, for purposes such as criticism, comment, news reportin=
g,
> > >> teaching (including multiple copies for classroom use), scholarship,
> or
> > >> research, is not an infringement of copyright. In determining whethe=
r
> > the
> > >> use made of a work in any particular case is a fair use the factors =
to
> > be
> > >> considered shall include:
> > >>
> > >> 1. the purpose and character of the use, including whether such use =
is
> > of
> > a
> > >> commercial nature or is for nonprofit educational purposes;
> > >>
> > >> 2. the nature of the copyrighted work;
> > >>
> > >> 3. the amount and substantiality of the portion used in relation to
> the
> > >> copyrighted work as a whole; and
> > >>
> > >> 4. the effect of the use upon the potential market for or value of t=
he
> > >> copyrighted work.
> > >>
> > >> On Dec 15, 2010 1:50 PM, "hakre" <hanskrentel at yahoo.de> wrote:
> > >> >
> > >> >
> > >> >> Von: Mark Jaquith <markjaquith at gmail.com>
> > >> >> An: wp-hackers at lists.automattic.com
> > >> >> Gesendet: Mittwoch, den 15. Dezember 2010, 21:06:29 Uhr
> > >> >> Betreff: Re: [wp-hackers] Licensing and Copyright Issues with the
> > Hello
> > >> Dolly
> > >> >>Plugin
> > >> >>
> > >> >> On Wed, Dec 15, 2010 at 12:31 PM, hakre <hanskrentel at yahoo.de>
> > wrote:
> > >> >> > In the related ticket #15769[2] lead developer markjaquith
> > wrote[3],
> > >> >> > the distribution of the code is intended for "non-commercial" a=
nd
> > >> >> > "educational" use.
> > >> >> >
> > >> >> > If the use of the plugin is really limited to non-commercial an=
d
> > edu-
> > >> >> > cational use, then this would be incompatible with the GPL as y=
ou
> > can
> > >> >> > not restrict commercial use of GPLed code.
> > >> >>
> > >> >> I said *no* such thing. I said "The purpose is non-commercial and=
,
> > >> >> yes, educational." In context, it should be clear that I am talki=
ng
> > >> >> about the purpose and rationale behind its *existence*, not
> > >> >> establishing restrictions on its *use*.
> > >> >
> > >> > Please don't feel offended. Read my words, we're not far away from
> > each
> > >> > other:
> > >> >
> > >> > I wrote "Intended" you wrote "Purpose".
> > >> >
> > >> > Then I wrote "IF the use of the plugin is REALLY limited". That's
> > hypo-
> > >> > thetical. If you would have written about a concrete limitation yo=
u
> > can
> > >> bet
> > >> > that I would have reacted as concrete to it - not hypothetical.
> > >> >
> > >> >> It's bewildering that you'd
> > >> >> jump to such a bad faith interpretation of my words.
> > >> >
> > >> > What I think is more important then to assume bad faith is
> > >> > to think about the implications this has if the lyrics cause
> > restrictions
> > >> > of any kind to the GPLed code.
> > >> >
> > >> > It has been distributed to millions of sites of which I assume mos=
t
> of
> > >> > it's users do not want to violate others license and instead want =
to
> > >> > be able to use wordpress under the GPL in a non-violating way.
> > >> >
> > >> > That's just very bad news for all users incl. the ones who are
> > >> developers.
> > >> >
> > >> >> Regarding copyright and fair use =97 I weighed in already. This i=
s
> not
> > >> >> an appropriate place to debate the matter.
> > >> >
> > >> > Sure, as the regulars all know that the selection of the Hello Dol=
ly
> > >> Lyrics was
> > >> > and is a personal preference by Matt Mullenweg and is not related =
to
> > >> > anything educational. It's just Matt's hobby. He loves jazz. It's =
a
> > >> specific
> > >> > text he wanted to have in there. I think that's the whole story
> behind
> > >> the
> > >>
> > >> > Hello Dolly lyrics. That's where the plugin has it's name from eve=
n.
> > >> >
> > >> > That's why I would have never argued for fair use.
> > >> >
> > >> > For the reality we share and in a publicly viewable space, I can
> only
> > >> suggest
> > >> > to take care and fix this. Seriously. And with the best intentions=
.
> > >> >
> > >> > -- hakre
> > >> >
> > >> > http://hakre.wordpress.com/
> > >> >
> > >> >
> > >> >
> > >> > _______________________________________________
> > >> > wp-hackers mailing list
> > >> > wp-hackers at lists.automattic.com
> > >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >> _______________________________________________
> > >> wp-hackers mailing list
> > >> wp-hackers at lists.automattic.com
> > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

