From shane at bugssite.org  Mon Feb  1 03:37:26 2010
From: shane at bugssite.org (Shane A. Froebel)
Date: Sun, 31 Jan 2010 22:37:26 -0500
Subject: [wp-hackers] Wordpress Android App (GSOC)
In-Reply-To: <f55773ba1001291441j15e9998fkb30dd66cb424baa7@mail.gmail.com>
References: <f55773ba1001181826o793fbed1o73227c0d8de20919@mail.gmail.com>
	<7235ce781001190111h681f76b8qc33c77570e036200@mail.gmail.com>
	<bc2915771001190626l686a285dgd3acd3904dd8d636@mail.gmail.com>
	<f55773ba1001190731r53c0b214md0b63aeac50e7cb1@mail.gmail.com>
	<005f01caa117$f6b50a60$e41f1f20$@TheCodeCave.com>
	<f55773ba1001291441j15e9998fkb30dd66cb424baa7@mail.gmail.com>
Message-ID: <4B664C76.4030100@bugssite.org>

Leif,

If you do it right, I will switch over to the Android. The BB WordPress
app doesn't work to well for my BB Storm. The buttons do not sync very well.

Your Friend, Shane
http://bugssite.org/

On 1/29/2010 5:41 PM, Leif Andersen wrote:
> Thank you very much for the input.  I am currently taking apart the iPhone
> App now, however progress on that particular portion is a bit slow, as I
> don't own a mac, and as such, need to go to my local university to work on
> it.  Also, good idea on making a feature chart, I did not think of doing
> that.  I guess that there isn't much more I can get from you until I do have
> a report made up, at which point you could tell me where it's lacking.  I
> would assume that the form would be similar to the 2009 and 2008 form.
> 
> Again, thank you very much.
> 
> ~Leif Andersen
> 
> On Fri, Jan 29, 2010 at 12:19, Brian Layman <Brian at thecodecave.com> wrote:
> 
>>> Hello, my name is Leif and I am a student at the University of Utah.  I
>> am
>>> interested in participating in the Google Summer of Code program if they
>>> have it this year.  I would like to create the Wordpress Android App.
>>
>> Agreed! This app would be fun to do. I thought maybe I'd do it as my first
>> Android app myself, as I do have a Droid and am registered to have the apps
>> in the store. I'd turned my eyes to other things once I saw WPToGo was out.
>>
>> I've no info on the WP app for the iPhone and would love to hear more about
>> it.  I've mentored on the summer of code WP project before. That was
>> definitely a learning experience. Even if this doesn't get approve as a
>> summer of code app, it would be fun to work on this sort of thing.
>>
>> If you are interested in doing this, the best thing for you to do is to
>> start making your proposal now.
>>
>> A major step for this is to start a feature chart that shows the features
>> and/or capabilities that are in each app and mark if the competitor has
>> them. Do this like you were representing each product. Simple things like
>> being able to start writing when you open the application compared to
>> hitting File->New->Document have turned the tide of battle in software wars
>> even as big as Word vs WordPerfect.
>>
>> If you have a feature chart and plan for what you want in the Android app,
>> you will already be further ahead in the process than many other GSOC
>> applicants whose first phase will be "See how others did it and make a
>> proposal". That advice goes out to anyone thinking of any GSOC project.
>>
>> Cheers!
>>
>> Brian Layman.
>> (Resending this message as it and several others didn't make it to the
>> list.
>> This one isn't too delayed. The thread is comatose, but not dead.)
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From dan at phiffer.org  Mon Feb  1 06:47:41 2010
From: dan at phiffer.org (Dan Phiffer)
Date: Mon, 1 Feb 2010 01:47:41 -0500
Subject: [wp-hackers] Running trunk on the open web
Message-ID: <F668A2CD-256C-4759-AE58-07B3B0E8F968@phiffer.org>

Let's assume I only hit 'svn up' after doing some sanity checks on a  
local machine. Is running your site from trunk a bad idea?

Thanks,
-Dan

From harish.mlists at gmail.com  Mon Feb  1 08:06:14 2010
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Mon, 01 Feb 2010 08:06:14 +0000
Subject: [wp-hackers] Running trunk on the open web
In-Reply-To: <F668A2CD-256C-4759-AE58-07B3B0E8F968@phiffer.org>
References: <F668A2CD-256C-4759-AE58-07B3B0E8F968@phiffer.org>
Message-ID: <4B668B76.7080607@gmail.com>

On 01/02/2010 06:47, Dan Phiffer wrote:
> Let's assume I only hit 'svn up' after doing some sanity checks on a
> local machine. Is running your site from trunk a bad idea?

I am not sure, but it works for me! :)

Harish

From nitin.reddy at danatev.com  Mon Feb  1 08:29:20 2010
From: nitin.reddy at danatev.com (Nitin Reddy)
Date: Mon, 1 Feb 2010 12:29:20 +0400
Subject: [wp-hackers] Running trunk on the open web
In-Reply-To: <4B668B76.7080607@gmail.com>
References: <F668A2CD-256C-4759-AE58-07B3B0E8F968@phiffer.org>,
	<4B668B76.7080607@gmail.com>
Message-ID: <C05A3EFA8A22824A935EF26910C45B8C0C34DF7710@DANATEXCHANGE.corp.danatev.ae>

Hi!

I wouldn't recommend doing that for a website that needs to be available 24x7 (Eg. a news site). You might want to run it through a QC cycle (more than just a sanity check) to ensure that nothing is broken.

Code that makes it into a release is much more stable, having been through the beta and release candidate phases when it has been under scrutiny.

Regards,
Nitin Reddy


________________________________________
From: wp-hackers-bounces at lists.automattic.com [wp-hackers-bounces at lists.automattic.com] On Behalf Of Harish Narayanan [harish.mlists at gmail.com]
Sent: Monday, February 01, 2010 12:06 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Running trunk on the open web

On 01/02/2010 06:47, Dan Phiffer wrote:
> Let's assume I only hit 'svn up' after doing some sanity checks on a
> local machine. Is running your site from trunk a bad idea?

I am not sure, but it works for me! :)

Harish
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From r at schestowitz.com  Mon Feb  1 09:16:58 2010
From: r at schestowitz.com (Roy Schestowitz)
Date: Mon, 01 Feb 2010 09:16:58 +0000
Subject: [wp-hackers] WP-Hackers Stats for January 2010
Message-ID: <4B669C0A.9010206@schestowitz.com>

  -  Times are Greenwich Mean Time (GMT) +0:00

  -  Statistics span a period of one month

  -  Subject line formatted consistently "WP-Hackers Stats for <MONTH>
<YEAR>"

  -  Killfile <subject contains "WP-Hackers Stats for "> if uninterested
____________________________________________________________

Stats for wp-hackers
~~~~~~~~~~~~~~~~~~~~
***** People who have written most messages:
+----+-----Author-----------------------------------+--Msg-+-Percent-+
|  1 | otto ottodestruct.com                        |   32 |  6.91 % |
|  2 | jcanals alkivia.net                          |   21 |  4.54 % |
|  3 | scribu gmail.com                             |   17 |  3.67 % |
|  4 | mikeschinkel newclarity.net                  |   16 |  3.46 % |
|  5 | wp xentek.net                                |   14 |  3.02 % |
|  6 | wp andrewnacin.com                           |   13 |  2.81 % |
|  7 | jordi jcanals.cat                            |   13 |  2.81 % |
|  8 | wordpress dd32.id.au                         |   11 |  2.38 % |
|  9 | mnikhil gmail.com                            |   10 |  2.16 % |
| 10 | steve sltaylor.co.uk                         |    9 |  1.94 % |
| 11 | shane bugssite.org                           |    9 |  1.94 % |
| 12 | mgerring emrl.com                            |    8 |  1.73 % |
| 13 | peter.westwood ftwr.co.uk                    |    8 |  1.73 % |
| 14 | jer simianuprising.com                       |    8 |  1.73 % |
| 15 | wp-hackers striderweb.com                    |    8 |  1.73 % |
| 16 | frank bueltge.de                             |    6 |  1.30 % |
| 17 | dan phiffer.org                              |    6 |  1.30 % |
| 18 | emoya tribune.com                            |    6 |  1.30 % |
| 19 | jayarjo gmail.com                            |    6 |  1.30 % |
| 20 | jbouantoun gmail.com                         |    5 |  1.08 % |
| 21 | wp-hackers tobias.baethge.com                |    5 |  1.08 % |
| 22 | aaron xavisys.com                            |    5 |  1.08 % |
| 23 | Ken adcSTUDIO.com                            |    5 |  1.08 % |
| 24 | scottg.wp-hackers mhg2.com                   |    5 |  1.08 % |
| 25 | autremonde75 gmail.com                       |    5 |  1.08 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  212 | 45.79 % |
+----+----------------------------------------------+------+---------+

***** Best authors, by total size of their messages (w/o quoting):
+----+-----Author-------------------------------------------+-KBytes-+
|  1 | otto ottodestruct.com                                |   24.6 |
|  2 | jcanals alkivia.net                                  |   21.6 |
|  3 | shane bugssite.org                                   |   13.4 |
|  4 | jordi jcanals.cat                                    |   12.4 |
|  5 | wordpress santosj.name                               |   11.0 |
|  6 | jbouantoun gmail.com                                 |   11.0 |
|  7 | mikeschinkel newclarity.net                          |   10.2 |
|  8 | wordpress dd32.id.au                                 |   10.1 |
|  9 | wp-hackers tobias.baethge.com                        |    9.6 |
| 10 | wp andrewnacin.com                                   |    8.9 |
| 11 | wp xentek.net                                        |    8.7 |
| 12 | wp-hackers nicolaskuttler.de                         |    8.3 |
| 13 | steve sltaylor.co.uk                                 |    7.5 |
| 14 | emoya tribune.com                                    |    7.4 |
| 15 | scottg.wp-hackers mhg2.com                           |    7.3 |
| 16 | jayarjo gmail.com                                    |    6.6 |
| 17 | scribu gmail.com                                     |    6.4 |
| 18 | mgerring emrl.com                                    |    6.3 |
| 19 | wp-hackers striderweb.com                            |    6.2 |
| 20 | jer simianuprising.com                               |    6.0 |
| 21 | peter.westwood ftwr.co.uk                            |    6.0 |
| 22 | markjaquith gmail.com                                |    5.7 |
| 23 | mnikhil gmail.com                                    |    5.5 |
| 24 | Brian TheCodeCave.com                                |    5.2 |
| 25 | dave vinertech.com                                   |    4.9 |
+----+------------------------------------------------------+--------+

***** Best authors, by average size of their message (w/o quoting):
+----+-----Author--------------------------------------------+-bytes-+
|  1 | markjaquith gmail.com                                 |  2927 |
|  2 | wordpress santosj.name                                |  2817 |
|  3 | dave vinertech.com                                    |  2521 |
|  4 | Jesse.Silverstein xerox.com                           |  2405 |
|  5 | wp-hackers google-adsense-templates.co.uk             |  2297 |
|  6 | steagl4ml gmail.com                                   |  2258 |
|  7 | jbouantoun gmail.com                                  |  2246 |
|  8 | timberge cs.tu-berlin.de                              |  2180 |
|  9 | jaredbangs gmail.com                                  |  2176 |
| 10 | ryan pixopoint.com                                    |  2139 |
| 11 | dougal gunters.org                                    |  2133 |
| 12 | wp-hackers nicolaskuttler.de                          |  2132 |
| 13 | bruce.hopkins gmail.com                               |  2040 |
| 14 | wp-hackers tobias.baethge.com                         |  1963 |
| 15 | matt sivel.net                                        |  1627 |
| 16 | dragonfly dragonflyeye.net                            |  1563 |
| 17 | shane bugssite.org                                    |  1522 |
| 18 | scottg.wp-hackers mhg2.com                            |  1501 |
| 19 | bradw illiams.com                                     |  1403 |
| 20 | roman.zenka gmail.com                                 |  1372 |
| 21 | eric eamann.com                                       |  1279 |
| 22 | marvinc gmail.com                                     |  1274 |
| 23 | emoya tribune.com                                     |  1261 |
| 24 | eckman.john gmail.com                                 |  1243 |
| 25 | gcorne bu.edu                                         |  1228 |
+----+-------------------------------------------------------+-------+

***** Table showing the most successful subjects:
+----+----Subject-----------------------------------+--Msg-+-Percent-+
|  1 | [wp-hackers] fixes for old versions          |   38 |  8.21 % |
|  2 | [wp-hackers] A question about donation link  |   27 |  5.83 % |
|  3 | [wp-hackers] PHP 5 any time soon?            |   21 |  4.54 % |
|  4 | [wp-hackers] [ wp-hackers ] A question about |   17 |  3.67 % |
|  5 | [wp-hackers] How to export the wordpress pos |   15 |  3.24 % |
|  6 | [wp-hackers] Capabilities as a taxonomy      |   14 |  3.02 % |
|  7 | [wp-hackers] plugin frameworks...            |   13 |  2.81 % |
|  8 | [wp-hackers] current_user_can() and roles ?  |   11 |  2.38 % |
|  9 | [wp-hackers] Person tagging?                 |   10 |  2.16 % |
| 10 | [wp-hackers] Fooling Wordpress To Think Plug |   10 |  2.16 % |
| 11 | [wp-hackers] WPMU Category ID Updating       |   10 |  2.16 % |
| 12 | [wp-hackers] Preparing a site for high traff |    9 |  1.94 % |
| 13 | [wp-hackers] Multiple custom image sizes     |    9 |  1.94 % |
| 14 | [wp-hackers] Plugin meta suggestion: demo pa |    9 |  1.94 % |
| 15 | [wp-hackers] Selective CSS based on Shortcod |    9 |  1.94 % |
| 16 | [wp-hackers] Question about the architecture |    8 |  1.73 % |
| 17 | [wp-hackers] This is a Performance Enhanceme |    7 |  1.51 % |
| 18 | [wp-hackers] Handling Plugin translations    |    7 |  1.51 % |
| 19 | [wp-hackers] Pagination: How to display side |    7 |  1.51 % |
| 20 | [wp-hackers] Cleaning up tags                |    6 |  1.30 % |
| 21 | [wp-hackers] Move Comment JavaScript and Com |    6 |  1.30 % |
| 22 | [wp-hackers] Missing commentmeta table       |    6 |  1.30 % |
| 23 | [wp-hackers] Licensing question              |    6 |  1.30 % |
| 24 | [wp-hackers] adding more than 4 widgets to d |    6 |  1.30 % |
| 25 | [wp-hackers] Flash getting content from XML  |    6 |  1.30 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  176 | 38.01 % |
+----+----------------------------------------------+------+---------+

***** Most used email clients:
+----+----Mailer------------------------------------+--Msg-+-Percent-+
|  1 | Google Mail/Other                            |  246 | 53.13 % |
|  2 | Apple Mail (2.1077)                          |   50 | 10.80 % |
|  3 | Mozilla/5.x                                  |   43 |  9.29 % |
|  4 | Apple Mail (2.936)                           |   30 |  6.48 % |
|  5 | Thunderbird 2.0.0.23 (Windows/20090812)      |   11 |  2.38 % |
|  6 | Opera Mail/10.20 (Win32)                     |   11 |  2.38 % |
|  7 | G2/1.0                                       |    9 |  1.94 % |
|  8 | Microsoft-Entourage/12.23.0.091001           |    8 |  1.73 % |
|  9 | Mutt                                         |    8 |  1.73 % |
| 10 | Microsoft Outlook 14.0                       |    7 |  1.51 % |
| 11 | iPhone Mail (7D11)                           |    6 |  1.30 % |
| 12 | Microsoft Office Outlook 12.0                |    6 |  1.30 % |
| 13 | Microsoft Outlook Express 6.x                |    4 |  0.86 % |
| 14 | Thunderbird 2.0.0.23 (Macintosh/20090812)    |    4 |  0.86 % |
| 15 | Thunderbird 2.0.0.23 (X11/20090817)          |    4 |  0.86 % |
| 16 | Thunderbird 2.0.0.22 (Windows/20090605)      |    3 |  0.65 % |
| 17 | Evolution 2.28.1                             |    3 |  0.65 % |
| 18 | Industrious bit-pushing elves                |    3 |  0.65 % |
| 19 | Hamster-Pg/1.25                              |    1 |  0.22 % |
| 20 | YahooMailRC/240.3 YahooMailWebService/0.8.10 |    1 |  0.22 % |
| 21 | webmail7.0                                   |    1 |  0.22 % |
| 22 | YahooMailClassic/9.0.20 YahooMailWebService/ |    1 |  0.22 % |
| 23 | Evolution 2.28.1                             |    1 |  0.22 % |
| 24 | Lotus Notes Release 7.0                      |    1 |  0.22 % |
| 25 | Forte Agent 4.2x                             |    1 |  0.22 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |    0 |  0.00 % |
+----+----------------------------------------------+------+---------+

***** Table of maximal quoting:
+----+-----Author------------------------------------------+-Percent-+
|  1 | shamsikas gmail.com                                 | 97.43 % |
|  2 | mrwiblog gmail.com                                  | 77.81 % |
|  3 | ninodespam gmail.com                                | 75.23 % |
|  4 | william.canino googlemail.com                       | 74.73 % |
|  5 | glenn glennansley.com                               | 74.20 % |
|  6 | mnikhil gmail.com                                   | 72.00 % |
|  7 | erisds gmail.com                                    | 68.83 % |
|  8 | ncrice gmail.com                                    | 67.47 % |
|  9 | aaron jorb.in                                       | 67.25 % |
| 10 | will copress.org                                    | 64.98 % |
| 11 | tim silentgap.com                                   | 64.88 % |
| 12 | mpwalsh8 gmail.com                                  | 62.59 % |
| 13 | scribu gmail.com                                    | 61.99 % |
| 14 | frank bueltge.de                                    | 60.53 % |
| 15 | office wpseek.com                                   | 59.81 % |
| 16 | leif.a.andersen gmail.com                           | 59.33 % |
| 17 | dan phiffer.org                                     | 59.32 % |
| 18 | feeds armeda.com                                    | 58.88 % |
| 19 | mikeschinkel newclarity.net                         | 58.07 % |
| 20 | kontakt joernroeder.de                              | 57.95 % |
| 21 | emoya tribune.com                                   | 57.85 % |
| 22 | tim blendinteractive.com                            | 56.13 % |
| 23 | Ken adcSTUDIO.com                                   | 54.44 % |
| 24 | trelvao workmedia.pt                                | 54.31 % |
| 25 | mark simplercomputing.net                           | 54.29 % |
+----+-----------------------------------------------------+---------+
|    | average                                             | 38.50 % |
+----+-----------------------------------------------------+---------+

***** Graph showing number of messages written during hours of day:

100% -----------------------#------------------------- - 38
 90% -----------------------#------------------------- msgs
 80% -----------------------#---#-#-------------------
 70% -------------------#-#-#-#-#-#---#---------------
 60% -------------------#-#-#-#-#-#-#-#-------#-----#-
 50% -----------------#-#-#-#-#-#-#-#-#-#-----#-#-#-#-
 40% -----------------#-#-#-#-#-#-#-#-#-#---#-#-#-#-#-
 30% -#-#-----------#-#-#-#-#-#-#-#-#-#-#---#-#-#-#-#-
 20% -#-#-----------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 10% -#-#-#-#-------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * *
hour  0         5           11          17          23


***** Graph showing number of messages written during days of month:

100% -----------------------------#--------------------------------- - 41
 90% -------------#---------------#--------------------------------- msgs
 80% -------------#---------------#---------------------------------
 70% -------------#---------------#---------------------------------
 60% -------------#---------------#-------#-------------------------
 50% -------------#---#---------#-#-------#---------------#---------
 40% -----------#-#---#---------#-#-------#-----#-------#-#---------
 30% -----------#-#-#-#-#-------#-#-#-----#---#-#-#---#-#-#-#-#-----
 20% -------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-----
 10% ---#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#---
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 day  1         6           12          18          24            31


***** Graph showing number of messages written during days of week:

100% -----------------#----------- - 90
 90% -------------#---#----------- msgs
 80% -------------#---#-----------
 70% -----#---#---#---#-----------
 60% -----#---#---#---#---#-------
 50% -#---#---#---#---#---#---#---
 40% -#---#---#---#---#---#---#---
 30% -#---#---#---#---#---#---#---
 20% -#---#---#---#---#---#---#---
 10% -#---#---#---#---#---#---#---
      *   *   *   *   *   *   *
     Mon Tue Wed Thu Fri Sat Sun


***** Maximal quoting:
      Author     : shamsikas gmail.com
      Subject    : [wp-hackers] wp-hackers Digest, Vol 60, Issue 35
      Date       : Sun, 17 Jan 2010 22:02:31 +0700
      Quote ratio: 97.43% / 10626 bytes

***** Longest message:
      Author     : shamsikas gmail.com
      Subject    : [wp-hackers] wp-hackers Digest, Vol 60, Issue 35
      Date       : Sun, 17 Jan 2010 22:02:31 +0700
      Size       : 10626 bytes

***** Most successful subject:
      Subject    : [wp-hackers] fixes for old versions
      No. of msgs: 38
      Total size : 49873 bytes

***** Final summary:
      Total number of messages:             463
      Total number of different authors:    130
      Total number of different subjects:   99
      Total size of messages (w/o headers): 657226 bytes
      Average size of a message:            1419 bytes

***** Generated by MailListStat v1.3, (C) 2001-2003 <marki (at) nexin.sk>
***** See http://freshmeat.net/projects/mls for details...

DISCLAIMER: Stats automatically produced. Remember that stats are often
meaningless and deceiving.

From kkarpieszuk at gmail.com  Mon Feb  1 11:06:38 2010
From: kkarpieszuk at gmail.com (Konrad Karpieszuk)
Date: Mon, 1 Feb 2010 12:06:38 +0100
Subject: [wp-hackers] many plugins and performance
In-Reply-To: <77A58A2C-45CE-4426-8B9A-DA23FF2AC898@striderweb.com>
References: <67dfa4091001281139y5b87262fj695240a1625d9222@mail.gmail.com>
	<77A58A2C-45CE-4426-8B9A-DA23FF2AC898@striderweb.com>
Message-ID: <67dfa4091002010306l74e8acaen5ba73d2374c23b5a@mail.gmail.com>

yes, but i rather ask when this file is included? i ask if it happens
avery time when page is loaded. for example if it is how i describe:

when someone load page, wordpress skan folder with plugins, checks
which are activated, which aren't, then include file fro those which
are active, then on every 'hook' check if in those file are some
actions... it doesn't sound efficient

On Sun, Jan 31, 2010 at 3:30 AM, Stephen Rider
<wp-hackers at striderweb.com> wrote:
>
> On Jan 28, 2010, at 1:39 PM, Konrad Karpieszuk wrote:
>
>> How plugins are
>> attended by wordpress? Please explain shortly :)
>
> As to how plugins are handled -- at the absolute minimum, the plugin files is included. ?As to what happens after that, it's completely up to the plugin.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
(en) regards / (pl) pozdrawiam
Konrad Karpieszuk
http://konradjestwrwandzie.wordpress.com/

From scribu at gmail.com  Mon Feb  1 11:24:26 2010
From: scribu at gmail.com (scribu)
Date: Mon, 1 Feb 2010 13:24:26 +0200
Subject: [wp-hackers] many plugins and performance
In-Reply-To: <67dfa4091002010306l74e8acaen5ba73d2374c23b5a@mail.gmail.com>
References: <67dfa4091001281139y5b87262fj695240a1625d9222@mail.gmail.com>
	<77A58A2C-45CE-4426-8B9A-DA23FF2AC898@striderweb.com>
	<67dfa4091002010306l74e8acaen5ba73d2374c23b5a@mail.gmail.com>
Message-ID: <349fe48b1002010324k896fbb0we6a39c655f6c72d1@mail.gmail.com>

WordPress stores the active plugin list in an option in the database. On
each page load, it just loads each file in that list.

After that, each plugin is responsible for loading any other files it might
need.


On Mon, Feb 1, 2010 at 1:06 PM, Konrad Karpieszuk <kkarpieszuk at gmail.com>wrote:

> yes, but i rather ask when this file is included? i ask if it happens
> avery time when page is loaded. for example if it is how i describe:
>
> when someone load page, wordpress skan folder with plugins, checks
> which are activated, which aren't, then include file fro those which
> are active, then on every 'hook' check if in those file are some
> actions... it doesn't sound efficient
>


-- 
http://scribu.net

From jeremy at visser.name  Mon Feb  1 11:25:15 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Mon, 01 Feb 2010 22:25:15 +1100
Subject: [wp-hackers] many plugins and performance
In-Reply-To: <67dfa4091002010306l74e8acaen5ba73d2374c23b5a@mail.gmail.com>
References: <67dfa4091001281139y5b87262fj695240a1625d9222@mail.gmail.com>	<77A58A2C-45CE-4426-8B9A-DA23FF2AC898@striderweb.com>
	<67dfa4091002010306l74e8acaen5ba73d2374c23b5a@mail.gmail.com>
Message-ID: <4B66BA1B.9040809@visser.name>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 01/02/10 22:06, Konrad Karpieszuk wrote:
> then on every 'hook' check if in those file are some actions... it
> doesn't sound efficient

Not quite ? instead, when the plugin registers with a hook, it stores
the function callback with the hook. So when the hook is triggered, it
simply iterates through each callback.

It doesn't have to ask each plugin whether it's registered with that
hook or not every time the hook is called. That sort of behaviour is
reserved strictly for use within Microsoft operating systems. :)

But yes, there are performance penalties associated with the use of
plugins. That's the price you pay for convenience. But plugins aren't
nearly as inefficient as what you seem to understand them as being. :)

It's just a matter of benchmarking to figure out where specifically your
problem lies.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAktmuhcACgkQvs6Qqs8TxBpklwCgmcHAkuznTyuMihwePiCFnwmi
gikAoNqScrVPiFQjxgp37TDxZb8+SzRP
=zCgo
-----END PGP SIGNATURE-----

From trelvao at workmedia.pt  Mon Feb  1 11:26:18 2010
From: trelvao at workmedia.pt (Tiago Relvao)
Date: Mon, 01 Feb 2010 11:26:18 +0000
Subject: [wp-hackers] Plain text Password?!
Message-ID: <4B66BA5A.70406@workmedia.pt>

Hi

I just received a mailing list memberships reminder from automattic.  It 
seems automattic is saving my password in plain text! Why?

I hope the mailman-owner would change this or, at the very least, stop 
sending me my password by e-mail.

Tiago

-- 
TI Workmedia (webdevelopment)
e-mail: ti at workmedia.pt
Tel. +351 210 410 394


From jeremy at visser.name  Mon Feb  1 11:30:29 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Mon, 01 Feb 2010 22:30:29 +1100
Subject: [wp-hackers] Plain text Password?!
In-Reply-To: <4B66BA5A.70406@workmedia.pt>
References: <4B66BA5A.70406@workmedia.pt>
Message-ID: <4B66BB55.3040200@visser.name>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 01/02/10 22:26, Tiago Relvao wrote:
> I just received a mailing list memberships reminder from automattic.  It
> seems automattic is saving my password in plain text! Why?
> 
> I hope the mailman-owner would change this or, at the very least, stop
> sending me my password by e-mail.

Almost all public mailing lists behave this way. Indeed, this is the
default behaviour of Mailman.

Besides, you're probably concerned because you used one of your valuable
passwords as your mailing list password. Can I just say that is a Bad
Idea (tm).

If you leave the password field blank, an auto-generated throwaway
password is automatically generated for you when you subscribe.

And if you really are that emotionally attached to using one of your
valuable passwords as your mailing list password, you can simply turn
off the password notification e-mails on the Mailman options. :)

Cheers,
Jeremy.

Click on the link down below to change options...

   _
   |
   |
   |
   v

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAktmu1QACgkQvs6Qqs8TxBqrbQCgr9WDQV4XXH1fTAQ+YG9BW+rG
tOgAnR7B7uifsezp1i6KHO+l5zmwiw+r
=lHV2
-----END PGP SIGNATURE-----

From harish.mlists at gmail.com  Mon Feb  1 11:32:36 2010
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Mon, 01 Feb 2010 11:32:36 +0000
Subject: [wp-hackers] Plain text Password?!
In-Reply-To: <4B66BA5A.70406@workmedia.pt>
References: <4B66BA5A.70406@workmedia.pt>
Message-ID: <4B66BBD4.9000302@gmail.com>

On 01/02/2010 11:26, Tiago Relvao wrote:
> Hi
> 
> I just received a mailing list memberships reminder from automattic.  It
> seems automattic is saving my password in plain text! Why?
> 
> I hope the mailman-owner would change this or, at the very least, stop
> sending me my password by e-mail.

It says so right on the page where you sign up for a GNU Mailman list:

"You may enter a privacy password below. This provides only mild
security, but should prevent others from messing with your subscription.
Do not use a valuable password as it will occasionally be emailed back
to you in cleartext."

:)

Harish

From trelvao at workmedia.pt  Mon Feb  1 11:56:24 2010
From: trelvao at workmedia.pt (Tiago Relvao)
Date: Mon, 01 Feb 2010 11:56:24 +0000
Subject: [wp-hackers] Plain text Password?!
In-Reply-To: <4B66BB55.3040200@visser.name>
References: <4B66BA5A.70406@workmedia.pt> <4B66BB55.3040200@visser.name>
Message-ID: <4B66C168.5050702@workmedia.pt>

Stating that some mailling lists using mailman work this way isn't much 
of an argument to suport this beaviour. The question is: should it work 
this way? Would you as a developer suport the use of plain text 
passwords in any of your projects?

It really doesn't matter if it's a valuable password or not. It's MY 
password and it shouldn't be visible to anyone. Not even the mailling 
list administrator.

I did a quick search and found that some people took the effourt to 
change mailman default behaviour. This list works the way it does just 
because either the people enroled are unaware of the situation or they 
are OK with it. It's not because this is the way mailman must work. 
Neverteless, I already change my options and disabled the monthly 
reminder (thanks Jeremy).


Jeremy Visser wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 01/02/10 22:26, Tiago Relvao wrote:
>   
>> I just received a mailing list memberships reminder from automattic.  It
>> seems automattic is saving my password in plain text! Why?
>>
>> I hope the mailman-owner would change this or, at the very least, stop
>> sending me my password by e-mail.
>>     
>
> Almost all public mailing lists behave this way. Indeed, this is the
> default behaviour of Mailman.
>
> Besides, you're probably concerned because you used one of your valuable
> passwords as your mailing list password. Can I just say that is a Bad
> Idea (tm).
>
> If you leave the password field blank, an auto-generated throwaway
> password is automatically generated for you when you subscribe.
>
> And if you really are that emotionally attached to using one of your
> valuable passwords as your mailing list password, you can simply turn
> off the password notification e-mails on the Mailman options. :)
>
> Cheers,
> Jeremy.
>
> Click on the link down below to change options...
>
>    _
>    |
>    |
>    |
>    v
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.9 (GNU/Linux)
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iEYEARECAAYFAktmu1QACgkQvs6Qqs8TxBqrbQCgr9WDQV4XXH1fTAQ+YG9BW+rG
> tOgAnR7B7uifsezp1i6KHO+l5zmwiw+r
> =lHV2
> -----END PGP SIGNATURE-----
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

-- 
TI Workmedia (webdevelopment)
e-mail: ti at workmedia.pt
Tel. +351 210 410 394


From elflop at googlemail.com  Mon Feb  1 12:28:15 2010
From: elflop at googlemail.com (elflop at googlemail.com)
Date: Mon, 01 Feb 2010 12:28:15 +0000
Subject: [wp-hackers] Plain text Password?!
In-Reply-To: <4B66C168.5050702@workmedia.pt>
Message-ID: <001485f5eb329a31ee047e891e74@google.com>

On , Tiago Relvao <trelvao at workmedia.pt> wrote:
> Stating that some mailling lists using mailman work this way isn't much  
> of an argument to suport this beaviour. The question is: should it work  
> this way? Would you as a developer suport the use of plain text passwords  
> in any of your projects?


yes, how else would you send out a forgotten password? even if the password  
is changed and sent out - it still has to be sent in clear text via email.

Rich

From wphax at nullamatix.com  Mon Feb  1 12:37:52 2010
From: wphax at nullamatix.com (Guy)
Date: Mon, 1 Feb 2010 07:37:52 -0500
Subject: [wp-hackers] Plain text Password?!
In-Reply-To: <4B66C168.5050702@workmedia.pt>
References: <4B66BA5A.70406@workmedia.pt> <4B66BB55.3040200@visser.name>
	<4B66C168.5050702@workmedia.pt>
Message-ID: <88e844b41002010437y5070f2c9n7cc789f1776019fc@mail.gmail.com>

On Mon, Feb 1, 2010 at 6:56 AM, Tiago Relvao <trelvao at workmedia.pt> wrote:
> Stating that some mailling lists using mailman work this way isn't much of
> an argument to suport this beaviour. The question is: should it work this
> way? Would you as a developer suport the use of plain text passwords in any
> of your projects?
>

Probably not, but who cares, other than you? Is a mailing list
password that big of a deal, especially if you're signing messages
with a pgp key? Is this really all you have to worry about?

Guy

From jeremy at visser.name  Mon Feb  1 12:42:18 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Mon, 01 Feb 2010 23:42:18 +1100
Subject: [wp-hackers] Plain text Password?!
In-Reply-To: <88e844b41002010437y5070f2c9n7cc789f1776019fc@mail.gmail.com>
References: <4B66BA5A.70406@workmedia.pt>
	<4B66BB55.3040200@visser.name>	<4B66C168.5050702@workmedia.pt>
	<88e844b41002010437y5070f2c9n7cc789f1776019fc@mail.gmail.com>
Message-ID: <4B66CC2A.4020306@visser.name>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 01/02/10 23:37, Guy wrote:
> Probably not, but who cares, other than you? Is a mailing list
> password that big of a deal, especially if you're signing messages
> with a pgp key? Is this really all you have to worry about?

Hey, don't bash him too hard. He's just unhappy with the Mailman
defaults, that's all. He's found a workaround, so everyone's happy.

This discussion is somewhat ironic, given that most WordPress users
(especially those on shared hosts) log in and admin over plain HTTP, not
HTTPS.

But we've said enough. If this discussion needs to go further, let's
continue it on a Mailman bug tracker, okay?
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iEYEARECAAYFAktmzCcACgkQvs6Qqs8TxBqCZACg40hw+l8jdzI5y/g810lQVQqP
6a8An3F3wGcCx+/xI2iuDm9aZixnc2ck
=orGW
-----END PGP SIGNATURE-----

From frank at bueltge.de  Mon Feb  1 12:44:48 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Mon, 1 Feb 2010 13:44:48 +0100
Subject: [wp-hackers] $pagenow in WP 3.0 ?
Message-ID: <db047a771002010444y4b4a2dbbr86fd3f31704ea127@mail.gmail.com>

Hello guys,

before i use the var $pagenow for ask who i am in backend and add
additional features only on this site.
Now on WP 3.0-alpha has the var not all sites: example: before use
edit page the $pagenow: age.php or page-new.php and now is this also
on post.php

My example:
	$page_pages = array('page-new.php', 'page.php');
	if ( in_array( $pagenow, $page_pages ) )

I will add features to admin_head hook and mybe you have a new workflow for me?
Thanks for your help.
Frank

From awgandrews at gmail.com  Mon Feb  1 12:53:14 2010
From: awgandrews at gmail.com (Alex Andrews)
Date: Mon, 1 Feb 2010 12:53:14 +0000
Subject: [wp-hackers] Version 3.0
Message-ID: <F4311E9C-8BAF-4B80-B17F-2452D70C2D7B@gmail.com>

Can anyone give me a webpage or similar that let's me know what 3.0 is  
likely to break and change so I can prepare my plugin for it?

Thanks a lot.

Alex

From wp at andrewnacin.com  Mon Feb  1 14:59:29 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 1 Feb 2010 09:59:29 -0500
Subject: [wp-hackers] many plugins and performance
In-Reply-To: <4B66BA1B.9040809@visser.name>
References: <67dfa4091001281139y5b87262fj695240a1625d9222@mail.gmail.com> 
	<77A58A2C-45CE-4426-8B9A-DA23FF2AC898@striderweb.com>
	<67dfa4091002010306l74e8acaen5ba73d2374c23b5a@mail.gmail.com> 
	<4B66BA1B.9040809@visser.name>
Message-ID: <4cc4de141002010659j24f23448nf99950fff3d70ea5@mail.gmail.com>

>
> But yes, there are performance penalties associated with the use of
> plugins. That's the price you pay for convenience. But plugins aren't
> nearly as inefficient as what you seem to understand them as being. :)


Very true, though performance penalties should not be associated with
plugins in general. Some plugins will have performance issues (whether by
design, or by poor design). But plugins are simply code, just like core, and
the core uses the same hooks that plugins do to provide a lot of
functionality. Check out default-filters.php for many of these.

There are 400 core references alone of add_action and add_filter, and that
doesn't accurately count a good portion of default-filters which often loops
through arrays of hooks and callbacks when WordPress loads.

From bulk at thecodecave.com  Mon Feb  1 15:22:41 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Mon, 1 Feb 2010 10:22:41 -0500
Subject: [wp-hackers] Version 3.0
In-Reply-To: <F4311E9C-8BAF-4B80-B17F-2452D70C2D7B@gmail.com>
References: <F4311E9C-8BAF-4B80-B17F-2452D70C2D7B@gmail.com>
Message-ID: <003601caa352$66fd1bf0$34f753d0$@thecodecave.com>

>Can anyone give me a webpage or similar that let's me know what 3.0 is
likely to break and change so I can prepare my plugin for it?

Well, 3.0 is a merging of two different products and core plugin code being
added . So, anything is fair game for bugs and unexpected consequences.
However,  your best bet is to download a nightly build periodically to see
how your plugin works with it. Unless your plugin is gonna be used by people
likely to run trunk, I would wait for about two more weeks before worrying
about fixing up your plugin.

The schedule shows Feature Freeze on Feb 15:
http://wpdevel.wordpress.com/2010/01/14/per-recent-development-chats-weve-wo
r/ After that it is just bug fixes and then ppl will NEED to know if your
plugin doesn't work so that WP can be fixed if need be.

Brian Layman


From wp at andrewnacin.com  Mon Feb  1 15:51:48 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 1 Feb 2010 10:51:48 -0500
Subject: [wp-hackers] Version 3.0
In-Reply-To: <003601caa352$66fd1bf0$34f753d0$@thecodecave.com>
References: <F4311E9C-8BAF-4B80-B17F-2452D70C2D7B@gmail.com> 
	<003601caa352$66fd1bf0$34f753d0$@thecodecave.com>
Message-ID: <4cc4de141002010751t47b304c0hd6f6e6fe742958c@mail.gmail.com>

The two big things to keep an eye on:

- For better custom post type support, page-new.php, edit-pages.php,
edit-page-form.php, etc., were merged into post-new.php,
edit.php?post_type=page, and edit-form-advanced.php (respectively). That
came with a huge number of backend changes on those panels. Any plugins that
depended on low-level tie-ins here will see some issues. See
http://core.trac.wordpress.org/ticket/9674.

- The number one goal of the MU merge is backwards compatibility, but
keeping an eye on http://core.trac.wordpress.org/ticket/11644 will be a good
idea.

After that, the big things for 3.0 are new features: menu management UI, the
2010 theme, and core plugins.

On Mon, Feb 1, 2010 at 10:22 AM, Brian Layman <bulk at thecodecave.com> wrote:

> >Can anyone give me a webpage or similar that let's me know what 3.0 is
> likely to break and change so I can prepare my plugin for it?
>
> Well, 3.0 is a merging of two different products and core plugin code being
> added . So, anything is fair game for bugs and unexpected consequences.
> However,  your best bet is to download a nightly build periodically to see
> how your plugin works with it. Unless your plugin is gonna be used by
> people
> likely to run trunk, I would wait for about two more weeks before worrying
> about fixing up your plugin.
>
> The schedule shows Feature Freeze on Feb 15:
>
> http://wpdevel.wordpress.com/2010/01/14/per-recent-development-chats-weve-wo
> r/<http://wpdevel.wordpress.com/2010/01/14/per-recent-development-chats-weve-wo%0Ar/>After that it is just bug fixes and then ppl will NEED to know if your
> plugin doesn't work so that WP can be fixed if need be.
>
> Brian Layman
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scottg.wp-hackers at mhg2.com  Mon Feb  1 16:29:11 2010
From: scottg.wp-hackers at mhg2.com (Scott R. Godin)
Date: Mon, 01 Feb 2010 11:29:11 -0500
Subject: [wp-hackers] Plain text Password?!
In-Reply-To: <4B66BBD4.9000302@gmail.com>
References: <4B66BA5A.70406@workmedia.pt> <4B66BBD4.9000302@gmail.com>
Message-ID: <hk6vgm$rde$1@ger.gmane.org>

On 02/01/2010 06:32 AM, Harish Narayanan wrote:
> On 01/02/2010 11:26, Tiago Relvao wrote:
>> Hi
>>
>> I just received a mailing list memberships reminder from automattic.  It
>> seems automattic is saving my password in plain text! Why?
>>
>> I hope the mailman-owner would change this or, at the very least, stop
>> sending me my password by e-mail.
>
> It says so right on the page where you sign up for a GNU Mailman list:
>
> "You may enter a privacy password below. This provides only mild
> security, but should prevent others from messing with your subscription.
> Do not use a valuable password as it will occasionally be emailed back
> to you in cleartext."
>
> :)

This is but one of several reasons I've always (since finding out about 
it) preferred to read mailing lists via usenet newsreader format rather 
than via email box, as you simply connect up with gmane.org which 
aggregates thousands of disparate lists under an easily searchable and 
un/subscribable interface, where they can be read via the web, or in 
say, 
thunderbird|opera|mozilla|pan|knode|MT-Newswatcher|slrn|what-have-you in 
nntp format. (which also to my discernment has superior threading 
capability)

so I get this list (and several others) via 
nntp://news.gmane.org/gmane.comp.web.wordpress.devel and read it in 
Thunderbird (currently, tho that may change - I'm considering evaluating 
others if any annoyances show up)

this also has the advantage of keeping my email inbox clean and not 
requiring me to set up message filters in order to keep it that way, for 
lists.

Both thunderbird and opera handle newsreader-style lists quite cleanly.

-- 
(please respond to the list as opposed to my email box directly,
unless you are supplying private information you don't want public
on the list)


From scribu at gmail.com  Mon Feb  1 16:40:13 2010
From: scribu at gmail.com (scribu)
Date: Mon, 1 Feb 2010 18:40:13 +0200
Subject: [wp-hackers] $pagenow in WP 3.0 ?
In-Reply-To: <db047a771002010444y4b4a2dbbr86fd3f31704ea127@mail.gmail.com>
References: <db047a771002010444y4b4a2dbbr86fd3f31704ea127@mail.gmail.com>
Message-ID: <349fe48b1002010840u357b2186r50ca739b004a4a98@mail.gmail.com>

That's because there is no page.php anymore.

Instead, it's post.php?post_type=page

Same for page-new.php

On 2/1/10, Frank Bueltge <frank at bueltge.de> wrote:
> Hello guys,
>
> before i use the var $pagenow for ask who i am in backend and add
> additional features only on this site.
> Now on WP 3.0-alpha has the var not all sites: example: before use
> edit page the $pagenow: age.php or page-new.php and now is this also
> on post.php
>
> My example:
> 	$page_pages = array('page-new.php', 'page.php');
> 	if ( in_array( $pagenow, $page_pages ) )
>
> I will add features to admin_head hook and mybe you have a new workflow for
> me?
> Thanks for your help.
> Frank
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
http://scribu.net

From frank at bueltge.de  Mon Feb  1 17:35:43 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Mon, 1 Feb 2010 18:35:43 +0100
Subject: [wp-hackers] $pagenow in WP 3.0 ?
In-Reply-To: <349fe48b1002010840u357b2186r50ca739b004a4a98@mail.gmail.com>
References: <db047a771002010444y4b4a2dbbr86fd3f31704ea127@mail.gmail.com> 
	<349fe48b1002010840u357b2186r50ca739b004a4a98@mail.gmail.com>
Message-ID: <db047a771002010935r3da5627bh6ff2a158f2c91a56@mail.gmail.com>

Yes, for a new page is this correctly, but for edit an existing page:
wp-admin/post.php?post=7&action=edit


On Mon, Feb 1, 2010 at 5:40 PM, scribu <scribu at gmail.com> wrote:
> That's because there is no page.php anymore.
>
> Instead, it's post.php?post_type=page
>
> Same for page-new.php
>
> On 2/1/10, Frank Bueltge <frank at bueltge.de> wrote:
>> Hello guys,
>>
>> before i use the var $pagenow for ask who i am in backend and add
>> additional features only on this site.
>> Now on WP 3.0-alpha has the var not all sites: example: before use
>> edit page the $pagenow: age.php or page-new.php and now is this also
>> on post.php
>>
>> My example:
>> ? ? ? $page_pages = array('page-new.php', 'page.php');
>> ? ? ? if ( in_array( $pagenow, $page_pages ) )
>>
>> I will add features to admin_head hook and mybe you have a new workflow for
>> me?
>> Thanks for your help.
>> Frank
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Mon Feb  1 17:48:42 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 1 Feb 2010 12:48:42 -0500
Subject: [wp-hackers] $pagenow in WP 3.0 ?
In-Reply-To: <db047a771002010935r3da5627bh6ff2a158f2c91a56@mail.gmail.com>
References: <db047a771002010444y4b4a2dbbr86fd3f31704ea127@mail.gmail.com>
	<349fe48b1002010840u357b2186r50ca739b004a4a98@mail.gmail.com>
	<db047a771002010935r3da5627bh6ff2a158f2c91a56@mail.gmail.com>
Message-ID: <4cc4de141002010948p35fc8f36he8a27e4b8781e623@mail.gmail.com>

Check out the new $current_screen object, which was more or less
devised as a $pagenow on steroids.


On 2/1/10, Frank Bueltge <frank at bueltge.de> wrote:
> Yes, for a new page is this correctly, but for edit an existing page:
> wp-admin/post.php?post=7&action=edit
>
>
> On Mon, Feb 1, 2010 at 5:40 PM, scribu <scribu at gmail.com> wrote:
>> That's because there is no page.php anymore.
>>
>> Instead, it's post.php?post_type=page
>>
>> Same for page-new.php
>>
>> On 2/1/10, Frank Bueltge <frank at bueltge.de> wrote:
>>> Hello guys,
>>>
>>> before i use the var $pagenow for ask who i am in backend and add
>>> additional features only on this site.
>>> Now on WP 3.0-alpha has the var not all sites: example: before use
>>> edit page the $pagenow: age.php or page-new.php and now is this also
>>> on post.php
>>>
>>> My example:
>>> ? ? ? $page_pages = array('page-new.php', 'page.php');
>>> ? ? ? if ( in_array( $pagenow, $page_pages ) )
>>>
>>> I will add features to admin_head hook and mybe you have a new workflow
>>> for
>>> me?
>>> Thanks for your help.
>>> Frank
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>> --
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From matthew.a.simo at gmail.com  Mon Feb  1 17:57:25 2010
From: matthew.a.simo at gmail.com (Matthew Simo)
Date: Mon, 1 Feb 2010 11:57:25 -0600
Subject: [wp-hackers] Rewriting Comments for html5 validity
Message-ID: <a6bf5cfe1002010957n41add3f7j3a52e9726613ce81@mail.gmail.com>

Hi all, I'm working on rewriting the comments for html5 but I'm having
issues filtering the start_lvl, end_lvl, & end_el. They are in
the Walker_Comment class, is that what's causing the filtering problem? How
can I get around this?


In the html5 spec we'll be using the <article> to wrap our comments, and
nest them if it is applicable. I can handle starting the individual comment
easy enough but getting rid of that trailing </li> is giving me trouble.

Basically this is what needs to be displayed when wp_list_comments is
called:

<article>
<!-- comment stuff -->

  <article class="child_comment">
  <!-- comment stuff -->
  </article>

</article>


Any ideas? I'm passing style=article & my callback function that handles the
new comment ( <?php
wp_list_comments('style=article&callback=html5_comment'); ?> ), I just can't
get the previously stated functions to filter.


Thanks a lot!
Matthew Simo

From frank at bueltge.de  Mon Feb  1 18:17:09 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Mon, 1 Feb 2010 19:17:09 +0100
Subject: [wp-hackers] $pagenow in WP 3.0 ?
In-Reply-To: <4cc4de141002010948p35fc8f36he8a27e4b8781e623@mail.gmail.com>
References: <db047a771002010444y4b4a2dbbr86fd3f31704ea127@mail.gmail.com> 
	<349fe48b1002010840u357b2186r50ca739b004a4a98@mail.gmail.com> 
	<db047a771002010935r3da5627bh6ff2a158f2c91a56@mail.gmail.com> 
	<4cc4de141002010948p35fc8f36he8a27e4b8781e623@mail.gmail.com>
Message-ID: <db047a771002011017p521cb6fbk31c0b943916d051c@mail.gmail.com>

How it is possible to ask for active site with the new function?
set_current_screen()
Thanks for your time and reply!

best wishes



On Mon, Feb 1, 2010 at 6:48 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> Check out the new $current_screen object, which was more or less
> devised as a $pagenow on steroids.
>
>
> On 2/1/10, Frank Bueltge <frank at bueltge.de> wrote:
>> Yes, for a new page is this correctly, but for edit an existing page:
>> wp-admin/post.php?post=7&action=edit
>>
>>
>> On Mon, Feb 1, 2010 at 5:40 PM, scribu <scribu at gmail.com> wrote:
>>> That's because there is no page.php anymore.
>>>
>>> Instead, it's post.php?post_type=page
>>>
>>> Same for page-new.php
>>>
>>> On 2/1/10, Frank Bueltge <frank at bueltge.de> wrote:
>>>> Hello guys,
>>>>
>>>> before i use the var $pagenow for ask who i am in backend and add
>>>> additional features only on this site.
>>>> Now on WP 3.0-alpha has the var not all sites: example: before use
>>>> edit page the $pagenow: age.php or page-new.php and now is this also
>>>> on post.php
>>>>
>>>> My example:
>>>> ? ? ? $page_pages = array('page-new.php', 'page.php');
>>>> ? ? ? if ( in_array( $pagenow, $page_pages ) )
>>>>
>>>> I will add features to admin_head hook and mybe you have a new workflow
>>>> for
>>>> me?
>>>> Thanks for your help.
>>>> Frank
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>>
>>> --
>>> http://scribu.net
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Mon Feb  1 18:27:43 2010
From: scribu at gmail.com (scribu)
Date: Mon, 1 Feb 2010 20:27:43 +0200
Subject: [wp-hackers] Rewriting Comments for html5 validity
In-Reply-To: <a6bf5cfe1002010957n41add3f7j3a52e9726613ce81@mail.gmail.com>
References: <a6bf5cfe1002010957n41add3f7j3a52e9726613ce81@mail.gmail.com>
Message-ID: <349fe48b1002011027je6d54betfbc86aa09339a916@mail.gmail.com>

Instead of a callback, you'll have to create your own walker class and pass
it as an argument:

class My_Comment_Walker extends WP_Comment_Walker {
    function start_lvl() {

    }
}

I hope you get the ideea.


On Mon, Feb 1, 2010 at 7:57 PM, Matthew Simo <matthew.a.simo at gmail.com>wrote:

> Hi all, I'm working on rewriting the comments for html5 but I'm having
> issues filtering the start_lvl, end_lvl, & end_el. They are in
> the Walker_Comment class, is that what's causing the filtering problem? How
> can I get around this?
>
>
> In the html5 spec we'll be using the <article> to wrap our comments, and
> nest them if it is applicable. I can handle starting the individual comment
> easy enough but getting rid of that trailing </li> is giving me trouble.
>
> Basically this is what needs to be displayed when wp_list_comments is
> called:
>
> <article>
> <!-- comment stuff -->
>
>  <article class="child_comment">
>  <!-- comment stuff -->
>  </article>
>
> </article>
>
>
> Any ideas? I'm passing style=article & my callback function that handles
> the
> new comment ( <?php
> wp_list_comments('style=article&callback=html5_comment'); ?> ), I just
> can't
> get the previously stated functions to filter.
>
>
> Thanks a lot!
> Matthew Simo
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From wordpress at zed1.com  Mon Feb  1 18:28:06 2010
From: wordpress at zed1.com (Mike Little)
Date: Mon, 1 Feb 2010 18:28:06 +0000
Subject: [wp-hackers] Rewriting Comments for html5 validity
In-Reply-To: <a6bf5cfe1002010957n41add3f7j3a52e9726613ce81@mail.gmail.com>
References: <a6bf5cfe1002010957n41add3f7j3a52e9726613ce81@mail.gmail.com>
Message-ID: <7235ce781002011028l3d6fe561o1ad95f18da3ebc4b@mail.gmail.com>

On 1 February 2010 17:57, Matthew Simo <matthew.a.simo at gmail.com> wrote:

> Hi all, I'm working on rewriting the comments for html5 but I'm having
> issues filtering the start_lvl, end_lvl, & end_el. They are in
> the Walker_Comment class, is that what's causing the filtering problem? How
> can I get around this?
>
> ....
> Any ideas? I'm passing style=article & my callback function that handles
> the
> new comment ( <?php
> wp_list_comments('style=article&callback=html5_comment'); ?> ), I just
> can't
> get the previously stated functions to filter.
>
>
>
I'm pretty sure you need to add in &end-callback=your_end_comment_func,
which I'm guessing should return '</article>'


Mike
-- 
Mike Little
http://zed1.com/

From scribu at gmail.com  Mon Feb  1 18:29:26 2010
From: scribu at gmail.com (scribu)
Date: Mon, 1 Feb 2010 20:29:26 +0200
Subject: [wp-hackers] Rewriting Comments for html5 validity
In-Reply-To: <349fe48b1002011027je6d54betfbc86aa09339a916@mail.gmail.com>
References: <a6bf5cfe1002010957n41add3f7j3a52e9726613ce81@mail.gmail.com>
	<349fe48b1002011027je6d54betfbc86aa09339a916@mail.gmail.com>
Message-ID: <349fe48b1002011029k50fe3a9aicb0d2a62beb6027d@mail.gmail.com>

I mean of course:

class My_Comment_Walker extends Walker_Comment {


-- 
http://scribu.net

From matthew.a.simo at gmail.com  Mon Feb  1 18:35:56 2010
From: matthew.a.simo at gmail.com (Matthew Simo)
Date: Mon, 1 Feb 2010 12:35:56 -0600
Subject: [wp-hackers] Rewriting Comments for html5 validity
In-Reply-To: <349fe48b1002011029k50fe3a9aicb0d2a62beb6027d@mail.gmail.com>
References: <a6bf5cfe1002010957n41add3f7j3a52e9726613ce81@mail.gmail.com>
	<349fe48b1002011027je6d54betfbc86aa09339a916@mail.gmail.com>
	<349fe48b1002011029k50fe3a9aicb0d2a62beb6027d@mail.gmail.com>
Message-ID: <a6bf5cfe1002011035g1bf178bcq9f9791925ff1b557@mail.gmail.com>

Thanks for the replies,

@ sribu - I wanted to avoid writing a whole new class My_Comment_Walker, but
the more I look into it seems that is route that needs taking, it's a shame
too, I only needed to add 4 lines of code. Thanks!

@ Mike - You are absolutely right, I added the end-callback to take care of
that trailing </li>, thanks!  It seems wp_list_comments(); doesn't give any
control over the start_lvl and end_lvl, so I'm still out of luck there.

On Mon, Feb 1, 2010 at 12:29 PM, scribu <scribu at gmail.com> wrote:

> I mean of course:
>
> class My_Comment_Walker extends Walker_Comment {
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Mon Feb  1 19:03:16 2010
From: scribu at gmail.com (scribu)
Date: Mon, 1 Feb 2010 21:03:16 +0200
Subject: [wp-hackers] Rewriting Comments for html5 validity
In-Reply-To: <a6bf5cfe1002011035g1bf178bcq9f9791925ff1b557@mail.gmail.com>
References: <a6bf5cfe1002010957n41add3f7j3a52e9726613ce81@mail.gmail.com>
	<349fe48b1002011027je6d54betfbc86aa09339a916@mail.gmail.com>
	<349fe48b1002011029k50fe3a9aicb0d2a62beb6027d@mail.gmail.com>
	<a6bf5cfe1002011035g1bf178bcq9f9791925ff1b557@mail.gmail.com>
Message-ID: <349fe48b1002011103i67a7eaf8t1df0aff863d80858@mail.gmail.com>

On Mon, Feb 1, 2010 at 8:35 PM, Matthew Simo <matthew.a.simo at gmail.com>wrote:

> Thanks for the replies,
>
> @ sribu - I wanted to avoid writing a whole new class My_Comment_Walker,
> but
> the more I look into it seems that is route that needs taking, it's a shame
> too, I only needed to add 4 lines of code. Thanks!
>

You only need to overwrite the methods that you want. And you can call
parent::start_lvl().

That's the beauty of class inheritance ;)


-- 
http://scribu.net

From wordpress at zed1.com  Mon Feb  1 19:10:22 2010
From: wordpress at zed1.com (Mike Little)
Date: Mon, 1 Feb 2010 19:10:22 +0000
Subject: [wp-hackers] Rewriting Comments for html5 validity
In-Reply-To: <a6bf5cfe1002011035g1bf178bcq9f9791925ff1b557@mail.gmail.com>
References: <a6bf5cfe1002010957n41add3f7j3a52e9726613ce81@mail.gmail.com> 
	<349fe48b1002011027je6d54betfbc86aa09339a916@mail.gmail.com> 
	<349fe48b1002011029k50fe3a9aicb0d2a62beb6027d@mail.gmail.com> 
	<a6bf5cfe1002011035g1bf178bcq9f9791925ff1b557@mail.gmail.com>
Message-ID: <7235ce781002011110x1e1727f6v379f07c9d6be97d@mail.gmail.com>

On 1 February 2010 18:35, Matthew Simo <matthew.a.simo at gmail.com> wrote:

> Thanks for the replies,
>
> @ Mike - You are absolutely right, I added the end-callback to take care of
> that trailing </li>, thanks!  It seems wp_list_comments(); doesn't give any
> control over the start_lvl and end_lvl, so I'm still out of luck there.
>
>
There is the style argument which, if set to div (&style=div) should turn
off the <li> tags, is that what you mean?

Or would you like to be able to say start_lvl_tag=<article
class="child_comment"> &end_lvl_tag=</article>?  maybe add it to WordPress
ideas http://wordpress.org/extend/ideas/

Mike

-- 
Mike Little
http://zed1.com/

From matthew.a.simo at gmail.com  Mon Feb  1 19:57:09 2010
From: matthew.a.simo at gmail.com (Matthew Simo)
Date: Mon, 1 Feb 2010 13:57:09 -0600
Subject: [wp-hackers] Rewriting Comments for html5 validity
In-Reply-To: <7235ce781002011110x1e1727f6v379f07c9d6be97d@mail.gmail.com>
References: <a6bf5cfe1002010957n41add3f7j3a52e9726613ce81@mail.gmail.com>
	<349fe48b1002011027je6d54betfbc86aa09339a916@mail.gmail.com>
	<349fe48b1002011029k50fe3a9aicb0d2a62beb6027d@mail.gmail.com>
	<a6bf5cfe1002011035g1bf178bcq9f9791925ff1b557@mail.gmail.com>
	<7235ce781002011110x1e1727f6v379f07c9d6be97d@mail.gmail.com>
Message-ID: <a6bf5cfe1002011157o5e734eclf7a054b757a176de@mail.gmail.com>

@ Mike - I got the desired results by using:

<?php
wp_list_comments('style=div&callback=html5_comment&end-callback=html5_closecomment');
?>

in the comments template

and using the following call backs:

// Changes the trailing </li> into a trailing </article>
function html5_closecomment() {?>
</article>
<?php
}

// This is the new comment markup - edit as you feel necessary
function html5_comment($comment, $args, $depth) {
   $GLOBALS['comment'] = $comment; ?>

<article id="comment-<?php comment_ID() ?>" <?php comment_class(); ?>>
<header class="comment-author vcard">
<?php echo get_avatar($comment,$size='48',$default='<path_to_url>' ); ?>
 <?php printf(__('<cite class="fn">%s</cite> <span
class="says">says:</span>'), get_comment_author_link()) ?>
 <p><time pubdate><a href="<?php echo htmlspecialchars( get_comment_link(
$comment->comment_ID ) ) ?>"><?php printf(__('%1$s at %2$s'),
get_comment_date(),  get_comment_time()) ?></a><?php
edit_comment_link(__('(Edit)'),'  ','') ?></time></p>
 <p><?php echo $args ['style']; ?></p>
 </header>
<?php if ($comment->comment_approved == '0') : ?>
<p><em><?php _e('Your comment is awaiting moderation.') ?></em></p>
<?php endif; ?>
 <?php comment_text() ?>
 <footer class="reply"><?php comment_reply_link(array_merge( $args,
array('depth' => $depth, 'max_depth' => $args['max_depth']))) ?></footer>
<?php
}


----------

I'd still like to go back through and rewrite the walker class so that it
will just handle the "style=article" and work like I want but for now at
least, this is a good, fairly strait forward solution.

Thank for both of your ideas, they helped.


- Matthew Simo

On Mon, Feb 1, 2010 at 1:10 PM, Mike Little <wordpress at zed1.com> wrote:

> On 1 February 2010 18:35, Matthew Simo <matthew.a.simo at gmail.com> wrote:
>
> > Thanks for the replies,
> >
> > @ Mike - You are absolutely right, I added the end-callback to take care
> of
> > that trailing </li>, thanks!  It seems wp_list_comments(); doesn't give
> any
> > control over the start_lvl and end_lvl, so I'm still out of luck there.
> >
> >
> There is the style argument which, if set to div (&style=div) should turn
> off the <li> tags, is that what you mean?
>
> Or would you like to be able to say start_lvl_tag=<article
> class="child_comment"> &end_lvl_tag=</article>?  maybe add it to WordPress
> ideas http://wordpress.org/extend/ideas/
>
> Mike
>
> --
> Mike Little
> http://zed1.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From frank at bueltge.de  Mon Feb  1 20:00:02 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Mon, 1 Feb 2010 21:00:02 +0100
Subject: [wp-hackers] Rewriting Comments for html5 validity
In-Reply-To: <a6bf5cfe1002011157o5e734eclf7a054b757a176de@mail.gmail.com>
References: <a6bf5cfe1002010957n41add3f7j3a52e9726613ce81@mail.gmail.com> 
	<349fe48b1002011027je6d54betfbc86aa09339a916@mail.gmail.com> 
	<349fe48b1002011029k50fe3a9aicb0d2a62beb6027d@mail.gmail.com> 
	<a6bf5cfe1002011035g1bf178bcq9f9791925ff1b557@mail.gmail.com> 
	<7235ce781002011110x1e1727f6v379f07c9d6be97d@mail.gmail.com> 
	<a6bf5cfe1002011157o5e734eclf7a054b757a176de@mail.gmail.com>
Message-ID: <db047a771002011200k35c3766du6608f0eb03583e55@mail.gmail.com>

Maybe you will see on my project.  i have also the Basis Theme in
html5 and also write the functions for comments in html5:
http://code.google.com/p/wp-basis-theme/source/browse/#svn/trunk/basis-html5

Best regards
Frank




On Mon, Feb 1, 2010 at 8:57 PM, Matthew Simo <matthew.a.simo at gmail.com> wrote:
> @ Mike - I got the desired results by using:
>
> <?php
> wp_list_comments('style=div&callback=html5_comment&end-callback=html5_closecomment');
> ?>
>
> in the comments template
>
> and using the following call backs:
>
> // Changes the trailing </li> into a trailing </article>
> function html5_closecomment() {?>
> </article>
> <?php
> }
>
> // This is the new comment markup - edit as you feel necessary
> function html5_comment($comment, $args, $depth) {
> ? $GLOBALS['comment'] = $comment; ?>
>
> <article id="comment-<?php comment_ID() ?>" <?php comment_class(); ?>>
> <header class="comment-author vcard">
> <?php echo get_avatar($comment,$size='48',$default='<path_to_url>' ); ?>
> ?<?php printf(__('<cite class="fn">%s</cite> <span
> class="says">says:</span>'), get_comment_author_link()) ?>
> ?<p><time pubdate><a href="<?php echo htmlspecialchars( get_comment_link(
> $comment->comment_ID ) ) ?>"><?php printf(__('%1$s at %2$s'),
> get_comment_date(), ?get_comment_time()) ?></a><?php
> edit_comment_link(__('(Edit)'),' ?','') ?></time></p>
> ?<p><?php echo $args ['style']; ?></p>
> ?</header>
> <?php if ($comment->comment_approved == '0') : ?>
> <p><em><?php _e('Your comment is awaiting moderation.') ?></em></p>
> <?php endif; ?>
> ?<?php comment_text() ?>
> ?<footer class="reply"><?php comment_reply_link(array_merge( $args,
> array('depth' => $depth, 'max_depth' => $args['max_depth']))) ?></footer>
> <?php
> }
>
>
> ----------
>
> I'd still like to go back through and rewrite the walker class so that it
> will just handle the "style=article" and work like I want but for now at
> least, this is a good, fairly strait forward solution.
>
> Thank for both of your ideas, they helped.
>
>
> - Matthew Simo
>
> On Mon, Feb 1, 2010 at 1:10 PM, Mike Little <wordpress at zed1.com> wrote:
>
>> On 1 February 2010 18:35, Matthew Simo <matthew.a.simo at gmail.com> wrote:
>>
>> > Thanks for the replies,
>> >
>> > @ Mike - You are absolutely right, I added the end-callback to take care
>> of
>> > that trailing </li>, thanks! ?It seems wp_list_comments(); doesn't give
>> any
>> > control over the start_lvl and end_lvl, so I'm still out of luck there.
>> >
>> >
>> There is the style argument which, if set to div (&style=div) should turn
>> off the <li> tags, is that what you mean?
>>
>> Or would you like to be able to say start_lvl_tag=<article
>> class="child_comment"> &end_lvl_tag=</article>? ?maybe add it to WordPress
>> ideas http://wordpress.org/extend/ideas/
>>
>> Mike
>>
>> --
>> Mike Little
>> http://zed1.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From matthew.a.simo at gmail.com  Mon Feb  1 20:08:26 2010
From: matthew.a.simo at gmail.com (Matthew Simo)
Date: Mon, 1 Feb 2010 14:08:26 -0600
Subject: [wp-hackers] Rewriting Comments for html5 validity
In-Reply-To: <db047a771002011200k35c3766du6608f0eb03583e55@mail.gmail.com>
References: <a6bf5cfe1002010957n41add3f7j3a52e9726613ce81@mail.gmail.com>
	<349fe48b1002011027je6d54betfbc86aa09339a916@mail.gmail.com>
	<349fe48b1002011029k50fe3a9aicb0d2a62beb6027d@mail.gmail.com>
	<a6bf5cfe1002011035g1bf178bcq9f9791925ff1b557@mail.gmail.com>
	<7235ce781002011110x1e1727f6v379f07c9d6be97d@mail.gmail.com>
	<a6bf5cfe1002011157o5e734eclf7a054b757a176de@mail.gmail.com>
	<db047a771002011200k35c3766du6608f0eb03583e55@mail.gmail.com>
Message-ID: <a6bf5cfe1002011208h2f206b04k239e27cd40e667d@mail.gmail.com>

Very cool, I'll give it a look-see later this afternoon/evening.

On Mon, Feb 1, 2010 at 2:00 PM, Frank Bueltge <frank at bueltge.de> wrote:

> Maybe you will see on my project.  i have also the Basis Theme in
> html5 and also write the functions for comments in html5:
>
> http://code.google.com/p/wp-basis-theme/source/browse/#svn/trunk/basis-html5
>
> Best regards
> Frank
>
>
>
>
> On Mon, Feb 1, 2010 at 8:57 PM, Matthew Simo <matthew.a.simo at gmail.com>
> wrote:
> > @ Mike - I got the desired results by using:
> >
> > <?php
> >
> wp_list_comments('style=div&callback=html5_comment&end-callback=html5_closecomment');
> > ?>
> >
> > in the comments template
> >
> > and using the following call backs:
> >
> > // Changes the trailing </li> into a trailing </article>
> > function html5_closecomment() {?>
> > </article>
> > <?php
> > }
> >
> > // This is the new comment markup - edit as you feel necessary
> > function html5_comment($comment, $args, $depth) {
> >   $GLOBALS['comment'] = $comment; ?>
> >
> > <article id="comment-<?php comment_ID() ?>" <?php comment_class(); ?>>
> > <header class="comment-author vcard">
> > <?php echo get_avatar($comment,$size='48',$default='<path_to_url>' ); ?>
> >  <?php printf(__('<cite class="fn">%s</cite> <span
> > class="says">says:</span>'), get_comment_author_link()) ?>
> >  <p><time pubdate><a href="<?php echo htmlspecialchars( get_comment_link(
> > $comment->comment_ID ) ) ?>"><?php printf(__('%1$s at %2$s'),
> > get_comment_date(),  get_comment_time()) ?></a><?php
> > edit_comment_link(__('(Edit)'),'  ','') ?></time></p>
> >  <p><?php echo $args ['style']; ?></p>
> >  </header>
> > <?php if ($comment->comment_approved == '0') : ?>
> > <p><em><?php _e('Your comment is awaiting moderation.') ?></em></p>
> > <?php endif; ?>
> >  <?php comment_text() ?>
> >  <footer class="reply"><?php comment_reply_link(array_merge( $args,
> > array('depth' => $depth, 'max_depth' => $args['max_depth']))) ?></footer>
> > <?php
> > }
> >
> >
> > ----------
> >
> > I'd still like to go back through and rewrite the walker class so that it
> > will just handle the "style=article" and work like I want but for now at
> > least, this is a good, fairly strait forward solution.
> >
> > Thank for both of your ideas, they helped.
> >
> >
> > - Matthew Simo
> >
> > On Mon, Feb 1, 2010 at 1:10 PM, Mike Little <wordpress at zed1.com> wrote:
> >
> >> On 1 February 2010 18:35, Matthew Simo <matthew.a.simo at gmail.com>
> wrote:
> >>
> >> > Thanks for the replies,
> >> >
> >> > @ Mike - You are absolutely right, I added the end-callback to take
> care
> >> of
> >> > that trailing </li>, thanks!  It seems wp_list_comments(); doesn't
> give
> >> any
> >> > control over the start_lvl and end_lvl, so I'm still out of luck
> there.
> >> >
> >> >
> >> There is the style argument which, if set to div (&style=div) should
> turn
> >> off the <li> tags, is that what you mean?
> >>
> >> Or would you like to be able to say start_lvl_tag=<article
> >> class="child_comment"> &end_lvl_tag=</article>?  maybe add it to
> WordPress
> >> ideas http://wordpress.org/extend/ideas/
> >>
> >> Mike
> >>
> >> --
> >> Mike Little
> >> http://zed1.com/
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From steve at sltaylor.co.uk  Mon Feb  1 23:04:18 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Mon, 1 Feb 2010 23:04:18 +0000
Subject: [wp-hackers] remove all functions with remove_action?
Message-ID: <a21f8bf01002011504r589d6dfau597ef31ad6559260@mail.gmail.com>

I'm trying to completely remove the 'admin_notices' action, i.e.
everything attached to it, for non-admins. I'm testing for the admin
role with code specific to my custom theme, but basically I've got
this:

if ( ! [test for admin] ) remove_action( 'admin_notices' );

It seems to do the trick, but I've noticed some non-fatal PHP warnings
being logged: "Missing argument 2 for remove_action()"

Checking the docs it does look like you need to specify the attached
function to remove. What if I want to get rid of them all, whatever
they are? This doesn't seem urgent because it kinda works, PHP warning
notwithstanding... but I thought I'd ask.

thanks,

Steve Taylor

From gaarai at gaarai.com  Mon Feb  1 23:11:10 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Mon, 01 Feb 2010 17:11:10 -0600
Subject: [wp-hackers] remove all functions with remove_action?
In-Reply-To: <a21f8bf01002011504r589d6dfau597ef31ad6559260@mail.gmail.com>
References: <a21f8bf01002011504r589d6dfau597ef31ad6559260@mail.gmail.com>
Message-ID: <4B675F8E.9060807@gaarai.com>

You should try the remove_all_actions function.

Chris Jean
http://gaarai.com/
@chrisjean


On 02/01/2010 05:04 PM, Steve Taylor wrote:
> I'm trying to completely remove the 'admin_notices' action, i.e.
> everything attached to it, for non-admins. I'm testing for the admin
> role with code specific to my custom theme, but basically I've got
> this:
>
> if ( ! [test for admin] ) remove_action( 'admin_notices' );
>
> It seems to do the trick, but I've noticed some non-fatal PHP warnings
> being logged: "Missing argument 2 for remove_action()"
>
> Checking the docs it does look like you need to specify the attached
> function to remove. What if I want to get rid of them all, whatever
> they are? This doesn't seem urgent because it kinda works, PHP warning
> notwithstanding... but I thought I'd ask.
>
> thanks,
>
> Steve Taylor
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    

From steve at sltaylor.co.uk  Mon Feb  1 23:30:12 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Mon, 1 Feb 2010 23:30:12 +0000
Subject: [wp-hackers] remove all functions with remove_action?
In-Reply-To: <4B675F8E.9060807@gaarai.com>
References: <a21f8bf01002011504r589d6dfau597ef31ad6559260@mail.gmail.com>
	<4B675F8E.9060807@gaarai.com>
Message-ID: <a21f8bf01002011530k7161efeeq2bb449f4b0b589dc@mail.gmail.com>

Ah, many thanks. I'm still a bit too reliant on what's made it into
the Codex ;-)


On 1 February 2010 23:11, Chris Jean <gaarai at gaarai.com> wrote:
> You should try the remove_all_actions function.
>
> Chris Jean
> http://gaarai.com/
> @chrisjean
>
>
> On 02/01/2010 05:04 PM, Steve Taylor wrote:
>>
>> I'm trying to completely remove the 'admin_notices' action, i.e.
>> everything attached to it, for non-admins. I'm testing for the admin
>> role with code specific to my custom theme, but basically I've got
>> this:
>>
>> if ( ! [test for admin] ) remove_action( 'admin_notices' );
>>
>> It seems to do the trick, but I've noticed some non-fatal PHP warnings
>> being logged: "Missing argument 2 for remove_action()"
>>
>> Checking the docs it does look like you need to specify the attached
>> function to remove. What if I want to get rid of them all, whatever
>> they are? This doesn't seem urgent because it kinda works, PHP warning
>> notwithstanding... but I thought I'd ask.
>>
>> thanks,
>>
>> Steve Taylor
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From gaarai at gaarai.com  Mon Feb  1 23:42:52 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Mon, 01 Feb 2010 17:42:52 -0600
Subject: [wp-hackers] remove all functions with remove_action?
In-Reply-To: <a21f8bf01002011530k7161efeeq2bb449f4b0b589dc@mail.gmail.com>
References: <a21f8bf01002011504r589d6dfau597ef31ad6559260@mail.gmail.com>	<4B675F8E.9060807@gaarai.com>
	<a21f8bf01002011530k7161efeeq2bb449f4b0b589dc@mail.gmail.com>
Message-ID: <4B6766FC.7060500@gaarai.com>

I go to the code to find out my options. If you look at the code for the 
remove_action function (wp-includes/plugin.php), you'll see the 
remove_all_action directly below it.

Delving into the code first saves me a ton of time. If you can do the 
same, I highly recommend doing so.

Chris Jean
http://gaarai.com/
@chrisjean


On 02/01/2010 05:30 PM, Steve Taylor wrote:
> Ah, many thanks. I'm still a bit too reliant on what's made it into
> the Codex ;-)

From steve at sltaylor.co.uk  Tue Feb  2 00:16:27 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Tue, 2 Feb 2010 00:16:27 +0000
Subject: [wp-hackers] thorough admin SSL
Message-ID: <a21f8bf01002011616i544be3e6i66d6b5fe02879d72@mail.gmail.com>

I'm spending a lot of time tracking down the source of various non-SSL
URLs coming up in admin pages.

I'm using FORCE_SSL_ADMIN in wp-config.php, of course, but this
doesn't seem to be enough. This kind of issue seems to happening with
a few plugins:

http://wordpress.org/support/topic/297488?replies=2

I can't for the life of me track down why WP_PLUGIN_URL isn't getting HTTPS set.

Anyway, there seem to be quite a few more non-HTTPS URLs in my source
(JS or CSS includes), so before I spend more time and hack more
plugins I thought I'd step back and consult everyone.

My set-up (before hacking plugins) is to set FORCE_SSL_ADMIN to true
in wp-config.php, and I've added a little custom plugin with this
code:

function slt_adminURL( $value ) {
	if ( is_admin() && FORCE_SSL_ADMIN && substr( $value, 0, 8 ) != "https://" )
		$value = str_replace( "http://", "https://", $value );
	return $value;
}
add_filter( 'option_siteurl', 'slt_adminURL', 0 );
add_filter( 'option_url', 'slt_adminURL', 0 );

I see that http://wordpress.org/extend/plugins/admin-ssl-secure-admin/
is unanimously voted as broken, and
http://wordpress.org/extend/plugins/secure-admin/ looks even less
promising. Has anyone pursued this to the bitter end? Any hints to
help my end be less bitter? ;-)

This seems to be a critical issue. If you use HTTPS on admin - a very
good idea - and have public users, it's just not good company PR to
have the "Do you want to display insecure items?" prompt popping up.
Even worse, AFAIK IE recently switched the default response from "Yes"
to "No". Clearly IE is atypically correct here - the issue is surely
with WP and / or plugins.

Thanks for any feedback...

From jeremy at visser.name  Tue Feb  2 00:34:44 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Tue, 02 Feb 2010 11:34:44 +1100
Subject: [wp-hackers] thorough admin SSL
In-Reply-To: <a21f8bf01002011616i544be3e6i66d6b5fe02879d72@mail.gmail.com>
References: <a21f8bf01002011616i544be3e6i66d6b5fe02879d72@mail.gmail.com>
Message-ID: <4B677324.4040500@visser.name>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 02/02/10 11:16, Steve Taylor wrote:
> This seems to be a critical issue. If you use HTTPS on admin - a very
> good idea - and have public users, it's just not good company PR to
> have the "Do you want to display insecure items?" prompt popping up.
> Even worse, AFAIK IE recently switched the default response from "Yes"
> to "No". Clearly IE is atypically correct here - the issue is surely
> with WP and / or plugins.

Devil's advocate here: your users feel more secure with no security
pop-up warnings if you just stick to plain HTTP.

*ducks*
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iEYEARECAAYFAktncyIACgkQvs6Qqs8TxBpxxACghfavuAXds/QoBmQAk5dbFQxz
W/cAn2m8ZMxxfvIuPntHoIO6NXuBlchw
=3JdP
-----END PGP SIGNATURE-----

From steve at sltaylor.co.uk  Tue Feb  2 01:37:23 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Tue, 2 Feb 2010 01:37:23 +0000
Subject: [wp-hackers] thorough admin SSL
In-Reply-To: <4B677324.4040500@visser.name>
References: <a21f8bf01002011616i544be3e6i66d6b5fe02879d72@mail.gmail.com>
	<4B677324.4040500@visser.name>
Message-ID: <a21f8bf01002011737h1164c2e4yb59be498f98a5127@mail.gmail.com>

> Devil's advocate here: your users feel more secure with no security
> pop-up warnings if you just stick to plain HTTP.
>
> *ducks*

Thanks Jeremy. You're ducking my client here, not me :)

However, I'm not sure the devil's got much ground on this one. I'm
used to debating technical issues with clients, where for them it's
something really important, but really it's not worth the bother. On
this issue, though, I can't think of a single reason to counter them.
They're in the right, and I probably would have to duck if I brought
this suggestion to them!

From wp at xentek.net  Tue Feb  2 01:39:10 2010
From: wp at xentek.net (Eric Marden)
Date: Mon, 1 Feb 2010 19:39:10 -0600
Subject: [wp-hackers] Running trunk on the open web
In-Reply-To: <F668A2CD-256C-4759-AE58-07B3B0E8F968@phiffer.org>
References: <F668A2CD-256C-4759-AE58-07B3B0E8F968@phiffer.org>
Message-ID: <B9360567-4B37-48D5-9D86-BC73C8114652@xentek.net>

On Feb 1, 2010, at 12:47 AM, Dan Phiffer wrote:

> Is running your site from trunk a bad idea?


Many people do, especially during the beta & RC phases of a release. I  
run it on my main blog, as it is one of the ways I keep on top of  
changes, but I also have the skills to rollback / repair anything that  
might break. I believe http://ma.tt/ is running trunk most, if not  
all, of the time, and that site gets quite a bit of traffic.

- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From wp at xentek.net  Tue Feb  2 01:41:32 2010
From: wp at xentek.net (Eric Marden)
Date: Mon, 1 Feb 2010 19:41:32 -0600
Subject: [wp-hackers] thorough admin SSL
In-Reply-To: <a21f8bf01002011737h1164c2e4yb59be498f98a5127@mail.gmail.com>
References: <a21f8bf01002011616i544be3e6i66d6b5fe02879d72@mail.gmail.com>
	<4B677324.4040500@visser.name>
	<a21f8bf01002011737h1164c2e4yb59be498f98a5127@mail.gmail.com>
Message-ID: <28D4EDD2-DB53-45BB-92A3-105AD4A5BF35@xentek.net>


On Feb 1, 2010, at 7:37 PM, Steve Taylor wrote:

> On this issue, though, I can't think of a single reason to counter  
> them.

Just let them know that some plugins were not built with SSL in mind,  
and let them know it will be X additional cost to patch those plugins.  
Then give those patches back to the plugin author and try to get them  
released so that you don't have to worry about it when the plugin  
upgrades.

That's what we call a win-win-win. ;)



- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From steve at sltaylor.co.uk  Tue Feb  2 02:09:44 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Tue, 2 Feb 2010 02:09:44 +0000
Subject: [wp-hackers] thorough admin SSL
In-Reply-To: <28D4EDD2-DB53-45BB-92A3-105AD4A5BF35@xentek.net>
References: <a21f8bf01002011616i544be3e6i66d6b5fe02879d72@mail.gmail.com>
	<4B677324.4040500@visser.name>
	<a21f8bf01002011737h1164c2e4yb59be498f98a5127@mail.gmail.com>
	<28D4EDD2-DB53-45BB-92A3-105AD4A5BF35@xentek.net>
Message-ID: <a21f8bf01002011809l4c92d96ah5f9b9981010f7307@mail.gmail.com>

> Just let them know that some plugins were not built with SSL in mind, and
> let them know it will be X additional cost to patch those plugins. Then give
> those patches back to the plugin author and try to get them released so that
> you don't have to worry about it when the plugin upgrades.
>
> That's what we call a win-win-win. ;)

This is the track I'm on, seems obvious.

But:

1) I didn't especially want to do some tedious work and charge my
client for it when it was possible that the issue had already been
addressed by someone at a higher level in the code than plugin hacks

2) Someone posted a fix for this in the Use Google Libraries plugin
(for one) 6 months ago on wp.org, and it's still not included in the
latest UGL release.

I'm taking responses so far as confirmation that this issue is wide
open in terms of being resolved in the WP core.... ? I'm still finding
my way around Trac, but this seems to be the badger:

http://core.trac.wordpress.org/ticket/3637

There's a link to a plugin there claiming to address the issue, but
the SSL for the link is invalid. Ah, a nice dose of irony to finish
the night on :)

From leif.a.andersen at gmail.com  Tue Feb  2 04:26:10 2010
From: leif.a.andersen at gmail.com (Leif Andersen)
Date: Mon, 1 Feb 2010 21:26:10 -0700
Subject: [wp-hackers] Wordpress Android App (GSOC)
In-Reply-To: <4B664C76.4030100@bugssite.org>
References: <f55773ba1001181826o793fbed1o73227c0d8de20919@mail.gmail.com>
	<7235ce781001190111h681f76b8qc33c77570e036200@mail.gmail.com>
	<bc2915771001190626l686a285dgd3acd3904dd8d636@mail.gmail.com>
	<f55773ba1001190731r53c0b214md0b63aeac50e7cb1@mail.gmail.com>
	<005f01caa117$f6b50a60$e41f1f20$@TheCodeCave.com>
	<f55773ba1001291441j15e9998fkb30dd66cb424baa7@mail.gmail.com>
	<4B664C76.4030100@bugssite.org>
Message-ID: <f55773ba1002012026m1bdeedd9v7144418150f4ea5c@mail.gmail.com>

Thank you.  Although I do sense the long road ahead of me.  I spent a large
portion of this weekend working on a prototype, or rather, mockup, of the UI
of the app.  And although it was fairly easy to create a tab style interface
(which is what I believe will be the best UI, if you have a better one, I
would love to hear it), it was unusually difficult to get each tab to have
it's own activity (which I believe to be Android jargon for thread).

~Leif
----------
The All New Unctuous Rants of Leif Andersen:
http://leifandersen.net


On Sun, Jan 31, 2010 at 20:37, Shane A. Froebel <shane at bugssite.org> wrote:

> Leif,
>
> If you do it right, I will switch over to the Android. The BB WordPress
> app doesn't work to well for my BB Storm. The buttons do not sync very
> well.
>
> Your Friend, Shane
> http://bugssite.org/
>
> On 1/29/2010 5:41 PM, Leif Andersen wrote:
> > Thank you very much for the input.  I am currently taking apart the
> iPhone
> > App now, however progress on that particular portion is a bit slow, as I
> > don't own a mac, and as such, need to go to my local university to work
> on
> > it.  Also, good idea on making a feature chart, I did not think of doing
> > that.  I guess that there isn't much more I can get from you until I do
> have
> > a report made up, at which point you could tell me where it's lacking.  I
> > would assume that the form would be similar to the 2009 and 2008 form.
> >
> > Again, thank you very much.
> >
> > ~Leif Andersen
> >
> > On Fri, Jan 29, 2010 at 12:19, Brian Layman <Brian at thecodecave.com>
> wrote:
> >
> >>> Hello, my name is Leif and I am a student at the University of Utah.  I
> >> am
> >>> interested in participating in the Google Summer of Code program if
> they
> >>> have it this year.  I would like to create the Wordpress Android App.
> >>
> >> Agreed! This app would be fun to do. I thought maybe I'd do it as my
> first
> >> Android app myself, as I do have a Droid and am registered to have the
> apps
> >> in the store. I'd turned my eyes to other things once I saw WPToGo was
> out.
> >>
> >> I've no info on the WP app for the iPhone and would love to hear more
> about
> >> it.  I've mentored on the summer of code WP project before. That was
> >> definitely a learning experience. Even if this doesn't get approve as a
> >> summer of code app, it would be fun to work on this sort of thing.
> >>
> >> If you are interested in doing this, the best thing for you to do is to
> >> start making your proposal now.
> >>
> >> A major step for this is to start a feature chart that shows the
> features
> >> and/or capabilities that are in each app and mark if the competitor has
> >> them. Do this like you were representing each product. Simple things
> like
> >> being able to start writing when you open the application compared to
> >> hitting File->New->Document have turned the tide of battle in software
> wars
> >> even as big as Word vs WordPerfect.
> >>
> >> If you have a feature chart and plan for what you want in the Android
> app,
> >> you will already be further ahead in the process than many other GSOC
> >> applicants whose first phase will be "See how others did it and make a
> >> proposal". That advice goes out to anyone thinking of any GSOC project.
> >>
> >> Cheers!
> >>
> >> Brian Layman.
> >> (Resending this message as it and several others didn't make it to the
> >> list.
> >> This one isn't too delayed. The thread is comatose, but not dead.)
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From skeltoac at gmail.com  Tue Feb  2 05:03:33 2010
From: skeltoac at gmail.com (Andy Skelton)
Date: Tue, 2 Feb 2010 00:03:33 -0500
Subject: [wp-hackers] Running trunk on the open web
In-Reply-To: <F668A2CD-256C-4759-AE58-07B3B0E8F968@phiffer.org>
References: <F668A2CD-256C-4759-AE58-07B3B0E8F968@phiffer.org>
Message-ID: <e6ec604d1002012103j4c42db5bj32b3ce4998ebfa67@mail.gmail.com>

On Mon, Feb 1, 2010 at 1:47 AM, Dan Phiffer <dan at phiffer.org> wrote:
> Let's assume I only hit 'svn up' after doing some sanity checks on a local
> machine. Is running your site from trunk a bad idea?

That depends on what is at risk: the cost of downtime, an exploited
vulnerability, corruption, etc. The list can not answer that for you.
:-)

There is an alternative that still allows you to use Subversion for
installation and upgrades without running trunk: svn switch. Use that
to upgrade as soon as a new version is tagged. You can also switch to
and from trunk with the same command, with the caveat that database
upgrades are not reversed.

Cheers,
Andy

From wp at xentek.net  Tue Feb  2 06:57:34 2010
From: wp at xentek.net (Eric Marden)
Date: Tue, 2 Feb 2010 00:57:34 -0600
Subject: [wp-hackers] Running trunk on the open web
In-Reply-To: <e6ec604d1002012103j4c42db5bj32b3ce4998ebfa67@mail.gmail.com>
References: <F668A2CD-256C-4759-AE58-07B3B0E8F968@phiffer.org>
	<e6ec604d1002012103j4c42db5bj32b3ce4998ebfa67@mail.gmail.com>
Message-ID: <881C83BC-17EB-447D-9D41-8EE12E0BB30D@xentek.net>


On Feb 1, 2010, at 11:03 PM, Andy Skelton wrote:

> There is an alternative that still allows you to use Subversion for
> installation and upgrades without running trunk: svn switch.


And if you're using svn:externals to pull wordpress into its own  
directory, changing the path via propedit will essentially do an svn  
switch for you so can keep the rest of your site in source control.


- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From jeremy at visser.name  Tue Feb  2 07:01:18 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Tue, 02 Feb 2010 18:01:18 +1100
Subject: [wp-hackers] Running trunk on the open web
In-Reply-To: <F668A2CD-256C-4759-AE58-07B3B0E8F968@phiffer.org>
References: <F668A2CD-256C-4759-AE58-07B3B0E8F968@phiffer.org>
Message-ID: <4B67CDBE.80505@visser.name>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 01/02/10 17:47, Dan Phiffer wrote:
> Let's assume I only hit 'svn up' after doing some sanity checks on a
> local machine. Is running your site from trunk a bad idea?

If it's your own personal blog, it's fine. I wouldn't run customer sites
on it though. Basically if it breaks, you get to keep the pieces. :)

That said, I used to run my blog on trunk, with a cronjob that ran 'svn
up' every hour. :)
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iEYEARECAAYFAktnzbgACgkQvs6Qqs8TxBqMwQCfZ6VI1vuhsPJmdfstrtdCE1Jt
RewAn0qH1BEG+E7pTaHJ4vGlM6frYmFT
=HD9F
-----END PGP SIGNATURE-----

From jayarjo at gmail.com  Tue Feb  2 09:18:03 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Tue, 2 Feb 2010 13:18:03 +0400
Subject: [wp-hackers] using media buttons and media library thicbox on
	plugin pages
Message-ID: <9aa12a491002020118t4c866f3bjd746b42a1bf4cdc3@mail.gmail.com>

What I'm trying to do, is to show default media upload buttons on my
plugin options page and trigger regular thickbox with media library on
click. So far I was able to achieve everything I needed, although
thickbox seems to be of not the same size (width x height) as on 'add
new post' page for example, also it doesn't auto resize when big
content is loaded into it as it does in it's default implementation, I
occasionally see a 'not defined TB_WIDTH' error in firebug as well. My
guess here is that there is some script somewhere which does resize
thickbox on load (since width and height are different from thickbox
defaults on 'add new post' page), but so far I was not able to detect
where it is. Anyone ever had an experience with this?


-- 
Davit Barbakadze

From bradw at illiams.com  Tue Feb  2 18:16:39 2010
From: bradw at illiams.com (Brad Williams)
Date: Tue, 2 Feb 2010 13:16:39 -0500
Subject: [wp-hackers] Wordpress Android App (GSOC)
In-Reply-To: <f55773ba1002012026m1bdeedd9v7144418150f4ea5c@mail.gmail.com>
References: <f55773ba1001181826o793fbed1o73227c0d8de20919@mail.gmail.com>	<7235ce781001190111h681f76b8qc33c77570e036200@mail.gmail.com>	<bc2915771001190626l686a285dgd3acd3904dd8d636@mail.gmail.com>	<f55773ba1001190731r53c0b214md0b63aeac50e7cb1@mail.gmail.com>	<005f01caa117$f6b50a60$e41f1f20$@TheCodeCave.com>	<f55773ba1001291441j15e9998fkb30dd66cb424baa7@mail.gmail.com>	<4B664C76.4030100@bugssite.org>
	<f55773ba1002012026m1bdeedd9v7144418150f4ea5c@mail.gmail.com>
Message-ID: <00c601caa433$ddb2f260$9918d720$@com>

Looks like Dan beat you to it:
http://android.wordpress.org/2010/02/02/wordpress-for-android-1-0/


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Leif Andersen
Sent: Monday, February 01, 2010 11:26 PM
To: wp-hackers
Subject: Re: [wp-hackers] Wordpress Android App (GSOC)

Thank you.  Although I do sense the long road ahead of me.  I spent a large
portion of this weekend working on a prototype, or rather, mockup, of the UI
of the app.  And although it was fairly easy to create a tab style interface
(which is what I believe will be the best UI, if you have a better one, I
would love to hear it), it was unusually difficult to get each tab to have
it's own activity (which I believe to be Android jargon for thread).

~Leif
----------
The All New Unctuous Rants of Leif Andersen:
http://leifandersen.net


On Sun, Jan 31, 2010 at 20:37, Shane A. Froebel <shane at bugssite.org> wrote:

> Leif,
>
> If you do it right, I will switch over to the Android. The BB WordPress
> app doesn't work to well for my BB Storm. The buttons do not sync very
> well.
>
> Your Friend, Shane
> http://bugssite.org/
>
> On 1/29/2010 5:41 PM, Leif Andersen wrote:
> > Thank you very much for the input.  I am currently taking apart the
> iPhone
> > App now, however progress on that particular portion is a bit slow, as I
> > don't own a mac, and as such, need to go to my local university to work
> on
> > it.  Also, good idea on making a feature chart, I did not think of doing
> > that.  I guess that there isn't much more I can get from you until I do
> have
> > a report made up, at which point you could tell me where it's lacking.
I
> > would assume that the form would be similar to the 2009 and 2008 form.
> >
> > Again, thank you very much.
> >
> > ~Leif Andersen
> >
> > On Fri, Jan 29, 2010 at 12:19, Brian Layman <Brian at thecodecave.com>
> wrote:
> >
> >>> Hello, my name is Leif and I am a student at the University of Utah.
I
> >> am
> >>> interested in participating in the Google Summer of Code program if
> they
> >>> have it this year.  I would like to create the Wordpress Android App.
> >>
> >> Agreed! This app would be fun to do. I thought maybe I'd do it as my
> first
> >> Android app myself, as I do have a Droid and am registered to have the
> apps
> >> in the store. I'd turned my eyes to other things once I saw WPToGo was
> out.
> >>
> >> I've no info on the WP app for the iPhone and would love to hear more
> about
> >> it.  I've mentored on the summer of code WP project before. That was
> >> definitely a learning experience. Even if this doesn't get approve as a
> >> summer of code app, it would be fun to work on this sort of thing.
> >>
> >> If you are interested in doing this, the best thing for you to do is to
> >> start making your proposal now.
> >>
> >> A major step for this is to start a feature chart that shows the
> features
> >> and/or capabilities that are in each app and mark if the competitor has
> >> them. Do this like you were representing each product. Simple things
> like
> >> being able to start writing when you open the application compared to
> >> hitting File->New->Document have turned the tide of battle in software
> wars
> >> even as big as Word vs WordPerfect.
> >>
> >> If you have a feature chart and plan for what you want in the Android
> app,
> >> you will already be further ahead in the process than many other GSOC
> >> applicants whose first phase will be "See how others did it and make a
> >> proposal". That advice goes out to anyone thinking of any GSOC project.
> >>
> >> Cheers!
> >>
> >> Brian Layman.
> >> (Resending this message as it and several others didn't make it to the
> >> list.
> >> This one isn't too delayed. The thread is comatose, but not dead.)
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From dan at phiffer.org  Tue Feb  2 21:41:36 2010
From: dan at phiffer.org (Dan Phiffer)
Date: Tue, 2 Feb 2010 16:41:36 -0500
Subject: [wp-hackers] Running trunk on the open web
In-Reply-To: <4B67CDBE.80505@visser.name>
References: <F668A2CD-256C-4759-AE58-07B3B0E8F968@phiffer.org>
	<4B67CDBE.80505@visser.name>
Message-ID: <545A02F8-2F35-45E5-B48C-269D675EB532@phiffer.org>


On Feb 2, 2010, at 2:01 AM, Jeremy Visser wrote:

> On 01/02/10 17:47, Dan Phiffer wrote:
>> Let's assume I only hit 'svn up' after doing some sanity checks on a
>> local machine. Is running your site from trunk a bad idea?
> 
> That said, I used to run my blog on trunk, with a cronjob that ran 'svn
> up' every hour. :)

That's awesome! Or foolhardy. Maybe both?

Thanks for the perspectives on this. Sounds like running my personal site from some svn address is a good option for me. Seems more fun that way...

Thanks,
-Dan


From harish.mlists at gmail.com  Tue Feb  2 21:55:34 2010
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Tue, 02 Feb 2010 21:55:34 +0000
Subject: [wp-hackers] Running trunk on the open web
In-Reply-To: <545A02F8-2F35-45E5-B48C-269D675EB532@phiffer.org>
References: <F668A2CD-256C-4759-AE58-07B3B0E8F968@phiffer.org>	<4B67CDBE.80505@visser.name>
	<545A02F8-2F35-45E5-B48C-269D675EB532@phiffer.org>
Message-ID: <4B689F56.50704@gmail.com>

On 02/02/2010 21:41, Dan Phiffer wrote:
> 
> On Feb 2, 2010, at 2:01 AM, Jeremy Visser wrote:
> 
>> On 01/02/10 17:47, Dan Phiffer wrote:
>>> Let's assume I only hit 'svn up' after doing some sanity checks on a
>>> local machine. Is running your site from trunk a bad idea?
>>
>> That said, I used to run my blog on trunk, with a cronjob that ran 'svn
>> up' every hour. :)
> 
> That's awesome! Or foolhardy. Maybe both?
> 
> Thanks for the perspectives on this. Sounds like running my personal site from some svn address is a good option for me. Seems more fun that way...

It is.

Plus, when something (say a plugin) breaks, it is easier to see what the
problem is when you have many incremental changesets. It is not as easy
when you wait a few months and the code has changed significantly
between releases.

Harish

From leif.a.andersen at gmail.com  Tue Feb  2 21:57:40 2010
From: leif.a.andersen at gmail.com (Leif Andersen)
Date: Tue, 2 Feb 2010 14:57:40 -0700
Subject: [wp-hackers] Wordpress Android App (GSOC)
In-Reply-To: <00c601caa433$ddb2f260$9918d720$@com>
References: <f55773ba1001181826o793fbed1o73227c0d8de20919@mail.gmail.com>
	<7235ce781001190111h681f76b8qc33c77570e036200@mail.gmail.com>
	<bc2915771001190626l686a285dgd3acd3904dd8d636@mail.gmail.com>
	<f55773ba1001190731r53c0b214md0b63aeac50e7cb1@mail.gmail.com>
	<005f01caa117$f6b50a60$e41f1f20$@TheCodeCave.com>
	<f55773ba1001291441j15e9998fkb30dd66cb424baa7@mail.gmail.com>
	<4B664C76.4030100@bugssite.org>
	<f55773ba1002012026m1bdeedd9v7144418150f4ea5c@mail.gmail.com>
	<00c601caa433$ddb2f260$9918d720$@com>
Message-ID: <f55773ba1002021357p768c9866ud9db33a63b9e6d58@mail.gmail.com>

Ah, fail.  Thank you for pointing this out to me.  I guess I need a new
project now.  On the flip side, I'm happy that the app is out.

~Leif
----------
The All New Unctuous Rants of Leif Andersen:
http://leifandersen.net


On Tue, Feb 2, 2010 at 11:16, Brad Williams <bradw at illiams.com> wrote:

> Looks like Dan beat you to it:
> http://android.wordpress.org/2010/02/02/wordpress-for-android-1-0/
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Leif
> Andersen
> Sent: Monday, February 01, 2010 11:26 PM
> To: wp-hackers
> Subject: Re: [wp-hackers] Wordpress Android App (GSOC)
>
> Thank you.  Although I do sense the long road ahead of me.  I spent a large
> portion of this weekend working on a prototype, or rather, mockup, of the
> UI
> of the app.  And although it was fairly easy to create a tab style
> interface
> (which is what I believe will be the best UI, if you have a better one, I
> would love to hear it), it was unusually difficult to get each tab to have
> it's own activity (which I believe to be Android jargon for thread).
>
> ~Leif
> ----------
> The All New Unctuous Rants of Leif Andersen:
> http://leifandersen.net
>
>
> On Sun, Jan 31, 2010 at 20:37, Shane A. Froebel <shane at bugssite.org>
> wrote:
>
> > Leif,
> >
> > If you do it right, I will switch over to the Android. The BB WordPress
> > app doesn't work to well for my BB Storm. The buttons do not sync very
> > well.
> >
> > Your Friend, Shane
> > http://bugssite.org/
> >
> > On 1/29/2010 5:41 PM, Leif Andersen wrote:
> > > Thank you very much for the input.  I am currently taking apart the
> > iPhone
> > > App now, however progress on that particular portion is a bit slow, as
> I
> > > don't own a mac, and as such, need to go to my local university to work
> > on
> > > it.  Also, good idea on making a feature chart, I did not think of
> doing
> > > that.  I guess that there isn't much more I can get from you until I do
> > have
> > > a report made up, at which point you could tell me where it's lacking.
> I
> > > would assume that the form would be similar to the 2009 and 2008 form.
> > >
> > > Again, thank you very much.
> > >
> > > ~Leif Andersen
> > >
> > > On Fri, Jan 29, 2010 at 12:19, Brian Layman <Brian at thecodecave.com>
> > wrote:
> > >
> > >>> Hello, my name is Leif and I am a student at the University of Utah.
> I
> > >> am
> > >>> interested in participating in the Google Summer of Code program if
> > they
> > >>> have it this year.  I would like to create the Wordpress Android App.
> > >>
> > >> Agreed! This app would be fun to do. I thought maybe I'd do it as my
> > first
> > >> Android app myself, as I do have a Droid and am registered to have the
> > apps
> > >> in the store. I'd turned my eyes to other things once I saw WPToGo was
> > out.
> > >>
> > >> I've no info on the WP app for the iPhone and would love to hear more
> > about
> > >> it.  I've mentored on the summer of code WP project before. That was
> > >> definitely a learning experience. Even if this doesn't get approve as
> a
> > >> summer of code app, it would be fun to work on this sort of thing.
> > >>
> > >> If you are interested in doing this, the best thing for you to do is
> to
> > >> start making your proposal now.
> > >>
> > >> A major step for this is to start a feature chart that shows the
> > features
> > >> and/or capabilities that are in each app and mark if the competitor
> has
> > >> them. Do this like you were representing each product. Simple things
> > like
> > >> being able to start writing when you open the application compared to
> > >> hitting File->New->Document have turned the tide of battle in software
> > wars
> > >> even as big as Word vs WordPerfect.
> > >>
> > >> If you have a feature chart and plan for what you want in the Android
> > app,
> > >> you will already be further ahead in the process than many other GSOC
> > >> applicants whose first phase will be "See how others did it and make a
> > >> proposal". That advice goes out to anyone thinking of any GSOC
> project.
> > >>
> > >> Cheers!
> > >>
> > >> Brian Layman.
> > >> (Resending this message as it and several others didn't make it to the
> > >> list.
> > >> This one isn't too delayed. The thread is comatose, but not dead.)
> > >>
> > >> _______________________________________________
> > >> wp-hackers mailing list
> > >> wp-hackers at lists.automattic.com
> > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From hempsworth at googlemail.com  Tue Feb  2 22:11:13 2010
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Tue, 2 Feb 2010 22:11:13 +0000
Subject: [wp-hackers] Wordpress Android App (GSOC)
In-Reply-To: <f55773ba1002021357p768c9866ud9db33a63b9e6d58@mail.gmail.com>
References: <f55773ba1001181826o793fbed1o73227c0d8de20919@mail.gmail.com>
	<7235ce781001190111h681f76b8qc33c77570e036200@mail.gmail.com>
	<bc2915771001190626l686a285dgd3acd3904dd8d636@mail.gmail.com>
	<f55773ba1001190731r53c0b214md0b63aeac50e7cb1@mail.gmail.com>
	<005f01caa117$f6b50a60$e41f1f20$@TheCodeCave.com>
	<f55773ba1001291441j15e9998fkb30dd66cb424baa7@mail.gmail.com>
	<4B664C76.4030100@bugssite.org>
	<f55773ba1002012026m1bdeedd9v7144418150f4ea5c@mail.gmail.com>
	<00c601caa433$ddb2f260$9918d720$@com>
	<f55773ba1002021357p768c9866ud9db33a63b9e6d58@mail.gmail.com>
Message-ID: <5a1dad881002021411n2501d3efu359c49acc95e144c@mail.gmail.com>

Or you could look on the upside and contribute to this app? It's
certainly not as feature-full as the iPhone app.

It's always easier to add to an existing project to get you into the
swing of things than starting from scratch...

Projects like these can always do with an extra dev!

-- Alex

-- 
-- Alex  (Hempsworth)

From hi at eirestudio.net  Wed Feb  3 13:02:43 2010
From: hi at eirestudio.net (babyboy808)
Date: Wed, 3 Feb 2010 05:02:43 -0800 (PST)
Subject: [wp-hackers] Please Help: How to compare 2 float values in
 meta_value column?
Message-ID: <27435706.post@talk.nabble.com>


Hi Guys,

I have about 100 posts in wordpress, all with a meta_key of price and a
value. How would I go about searching through all posts with a value between
23.00 and 41.00 for example?

I know that 'meta_compare ' treats 'meta_value' as a string, so I can't use
this to solve my problem.

Anybody have any clues?

Thanks
-- 
View this message in context: http://old.nabble.com/Please-Help%3A-How-to-compare-2-float-values-in-meta_value-column--tp27435706p27435706.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From scribu at gmail.com  Wed Feb  3 13:13:54 2010
From: scribu at gmail.com (scribu)
Date: Wed, 3 Feb 2010 15:13:54 +0200
Subject: [wp-hackers] Please Help: How to compare 2 float values in
	meta_value column?
In-Reply-To: <27435706.post@talk.nabble.com>
References: <27435706.post@talk.nabble.com>
Message-ID: <349fe48b1002030513qfe1f110k4406f69621a4dfcc@mail.gmail.com>

You should take a look at this plugin:

http://wordpress.org/extend/plugins/custom-field-taxonomies/

I plan to make it work with float values in the next version.


On Wed, Feb 3, 2010 at 3:02 PM, babyboy808 <hi at eirestudio.net> wrote:

>
> Hi Guys,
>
> I have about 100 posts in wordpress, all with a meta_key of price and a
> value. How would I go about searching through all posts with a value
> between
> 23.00 and 41.00 for example?
>
> I know that 'meta_compare ' treats 'meta_value' as a string, so I can't use
> this to solve my problem.
>
> Anybody have any clues?
>
> Thanks
> --
> View this message in context:
> http://old.nabble.com/Please-Help%3A-How-to-compare-2-float-values-in-meta_value-column--tp27435706p27435706.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From mpretty at voceconnect.com  Wed Feb  3 13:24:13 2010
From: mpretty at voceconnect.com (Michael Pretty)
Date: Wed, 03 Feb 2010 08:24:13 -0500
Subject: [wp-hackers] Please Help: How to compare 2 float values in
 meta_value column?
In-Reply-To: <27435706.post@talk.nabble.com>
References: <27435706.post@talk.nabble.com>
Message-ID: <4B6978FD.3070101@voceconnect.com>

One option:

Add filters to 'posts_where' and 'posts_join' to do your own join to the 
postmeta table and where clause that compared the values cast as float.  
Then add a query_var to identify when this filter should run and what 
values to use.

Second option:

Though this won't work if you need the between operator, you could store 
the prices in the postmeta table as a string with leading zeros so that 
all values are the same width.  Then compare to '00023.00' and '00041.00'.

Michael Pretty
prettyboymp

On 2/3/10 8:02 AM, babyboy808 wrote:
> Hi Guys,
>
> I have about 100 posts in wordpress, all with a meta_key of price and a
> value. How would I go about searching through all posts with a value between
> 23.00 and 41.00 for example?
>
> I know that 'meta_compare ' treats 'meta_value' as a string, so I can't use
> this to solve my problem.
>
> Anybody have any clues?
>
> Thanks
>    


From nuno.morgadinho at gmail.com  Wed Feb  3 13:30:11 2010
From: nuno.morgadinho at gmail.com (Nuno Morgadinho)
Date: Wed, 3 Feb 2010 14:30:11 +0100
Subject: [wp-hackers] adding another source SVN for plugin upgrades
Message-ID: <5721607d1002030530m4a265c53r1e27d6cbfb0ca9ff@mail.gmail.com>

How hard is it to add another source for plugin upgrades, e.g. a
private SVN repo?

It's for some private plugins (client work) so I can't use the public
plugin repository.

Anyone has any notes on this?

Thanks,
-- 
Nuno Morgadinho
http://www.morgadinho.org
http://twitter.com/morgadin

From adriaan.pelzer at gmail.com  Wed Feb  3 14:11:52 2010
From: adriaan.pelzer at gmail.com (Adriaan Pelzer)
Date: Wed, 3 Feb 2010 16:11:52 +0200
Subject: [wp-hackers] Please Help: How to compare 2 float values in
	meta_value column?
In-Reply-To: <27435706.post@talk.nabble.com>
References: <27435706.post@talk.nabble.com>
Message-ID: <58dfca5b1002030611h43f2e7c2ie0c1e2e85eb6c461@mail.gmail.com>

Convert the meta_key strings to floats with a cast. Something like this:
$price = (float) get_post_meta ($post->ID, "price", TRUE);

The value of price is now a float, and can be compared to your limits:
if (($price > 23) && ($price < 41)) {
...
}

Adriaan Pelzer
PIT Productions
+2712 651 2432


On Wed, Feb 3, 2010 at 3:02 PM, babyboy808 <hi at eirestudio.net> wrote:

>
> Hi Guys,
>
> I have about 100 posts in wordpress, all with a meta_key of price and a
> value. How would I go about searching through all posts with a value
> between
> 23.00 and 41.00 for example?
>
> I know that 'meta_compare ' treats 'meta_value' as a string, so I can't use
> this to solve my problem.
>
> Anybody have any clues?
>
> Thanks
> --
> View this message in context:
> http://old.nabble.com/Please-Help%3A-How-to-compare-2-float-values-in-meta_value-column--tp27435706p27435706.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From hi at eirestudio.net  Wed Feb  3 14:30:31 2010
From: hi at eirestudio.net (babyboy808)
Date: Wed, 3 Feb 2010 06:30:31 -0800 (PST)
Subject: [wp-hackers] Please Help: How to compare 2 float values in
 meta_value column?
In-Reply-To: <58dfca5b1002030611h43f2e7c2ie0c1e2e85eb6c461@mail.gmail.com>
References: <27435706.post@talk.nabble.com>
	<58dfca5b1002030611h43f2e7c2ie0c1e2e85eb6c461@mail.gmail.com>
Message-ID: <27437166.post@talk.nabble.com>


Thanks for the reply (and others).

Unfortunetly that won't work as my problem is a little more complex.

Below is a piece of my code: 

<?php $paged = (get_query_var('paged')) ? get_query_var('paged') : 1; ?>
<?php
query_posts("category_name=$forwho&meta_value=$brand&paged=$paged&meta_compare=<=&meta_value=54");
?>


Adriaan Pelzer wrote:
> 
> Convert the meta_key strings to floats with a cast. Something like this:
> $price = (float) get_post_meta ($post->ID, "price", TRUE);
> 
> The value of price is now a float, and can be compared to your limits:
> if (($price > 23) && ($price < 41)) {
> ...
> }
> 
> Adriaan Pelzer
> PIT Productions
> +2712 651 2432
> 
> 
> On Wed, Feb 3, 2010 at 3:02 PM, babyboy808 <hi at eirestudio.net> wrote:
> 
>>
>> Hi Guys,
>>
>> I have about 100 posts in wordpress, all with a meta_key of price and a
>> value. How would I go about searching through all posts with a value
>> between
>> 23.00 and 41.00 for example?
>>
>> I know that 'meta_compare ' treats 'meta_value' as a string, so I can't
>> use
>> this to solve my problem.
>>
>> Anybody have any clues?
>>
>> Thanks
>> --
>> View this message in context:
>> http://old.nabble.com/Please-Help%3A-How-to-compare-2-float-values-in-meta_value-column--tp27435706p27435706.html
>> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 

-- 
View this message in context: http://old.nabble.com/Please-Help%3A-How-to-compare-2-float-values-in-meta_value-column--tp27435706p27437166.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.


From leif.a.andersen at gmail.com  Wed Feb  3 14:51:47 2010
From: leif.a.andersen at gmail.com (Leif Andersen)
Date: Wed, 3 Feb 2010 07:51:47 -0700
Subject: [wp-hackers] Wordpress Android App (GSOC)
In-Reply-To: <5a1dad881002021411n2501d3efu359c49acc95e144c@mail.gmail.com>
References: <f55773ba1001181826o793fbed1o73227c0d8de20919@mail.gmail.com> 
	<bc2915771001190626l686a285dgd3acd3904dd8d636@mail.gmail.com> 
	<f55773ba1001190731r53c0b214md0b63aeac50e7cb1@mail.gmail.com> 
	<005f01caa117$f6b50a60$e41f1f20$@TheCodeCave.com>
	<f55773ba1001291441j15e9998fkb30dd66cb424baa7@mail.gmail.com> 
	<4B664C76.4030100@bugssite.org>
	<f55773ba1002012026m1bdeedd9v7144418150f4ea5c@mail.gmail.com> 
	<00c601caa433$ddb2f260$9918d720$@com>
	<f55773ba1002021357p768c9866ud9db33a63b9e6d58@mail.gmail.com> 
	<5a1dad881002021411n2501d3efu359c49acc95e144c@mail.gmail.com>
Message-ID: <f55773ba1002030651t69b2f345ke77a59bfaedcb04a@mail.gmail.com>

Ya, I am going to contribute to it (at least once I find the URL for the
source code, which doesn't appear to be on the website).  However, I still
do need to find some new project to do (even if it's still related to this
specific android app).

~Leif
----------
The All New Unctuous Rants of Leif Andersen:
http://leifandersen.net


On Tue, Feb 2, 2010 at 15:11, Alex Hempton-Smith
<hempsworth at googlemail.com>wrote:

> Or you could look on the upside and contribute to this app? It's
> certainly not as feature-full as the iPhone app.
>
> It's always easier to add to an existing project to get you into the
> swing of things than starting from scratch...
>
> Projects like these can always do with an extra dev!
>
> -- Alex
>
> --
> -- Alex  (Hempsworth)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From adriaan.pelzer at gmail.com  Wed Feb  3 14:58:50 2010
From: adriaan.pelzer at gmail.com (Adriaan Pelzer)
Date: Wed, 3 Feb 2010 16:58:50 +0200
Subject: [wp-hackers] Please Help: How to compare 2 float values in
	meta_value column?
In-Reply-To: <27437166.post@talk.nabble.com>
References: <27435706.post@talk.nabble.com>
	<58dfca5b1002030611h43f2e7c2ie0c1e2e85eb6c461@mail.gmail.com>
	<27437166.post@talk.nabble.com>
Message-ID: <58dfca5b1002030658s43bc7f5bx402d5e89f3d5ad5a@mail.gmail.com>

I see - I'm not even sure how you're going to do both comparisons (floor &
ceiling values) using the query_posts parameters.

What I normally do:

I do a broader query, without paging, for instance:
query_posts("category_name=$forwho&meta_value=$brand&posts_per_page=-1);

Then, in the loop, I do all the tests I need to do, and decide there if I
display the post or not.

To introduce paging, I then pass a $_GET variable around:

So, above becomes:
query_posts("category_name=$forwho&meta_value=$brand&posts_per_page=$posts_per_page&offset=$_GET['post_offset']);

Then, to link to fwd and backward pages, I generate the following links:
$page_url."?post_offset=".($_GET['post_offset']+$posts_per_page)
$page_url."?post_offset=".($_GET['post_offset']-$posts_per_page)

I display fwdlink only if the offset is smaller than the total number of
posts, and I display backlink only if its offset is greater or equal to 0.

Sorry - I know this is a bit of a tangent, but being more familiar with php
than with wordpress' functions, I tend to do things in a more "raw" way. I
hope it's useful at all.



Adriaan Pelzer
PIT Productions
+2712 651 2432


On Wed, Feb 3, 2010 at 4:30 PM, babyboy808 <hi at eirestudio.net> wrote:

>
> Thanks for the reply (and others).
>
> Unfortunetly that won't work as my problem is a little more complex.
>
> Below is a piece of my code:
>
> <?php $paged = (get_query_var('paged')) ? get_query_var('paged') : 1; ?>
> <?php
>
> query_posts("category_name=$forwho&meta_value=$brand&paged=$paged&meta_compare=<=&meta_value=54");
> ?>
>
>
> Adriaan Pelzer wrote:
> >
> > Convert the meta_key strings to floats with a cast. Something like this:
> > $price = (float) get_post_meta ($post->ID, "price", TRUE);
> >
> > The value of price is now a float, and can be compared to your limits:
> > if (($price > 23) && ($price < 41)) {
> > ...
> > }
> >
> > Adriaan Pelzer
> > PIT Productions
> > +2712 651 2432
> >
> >
> > On Wed, Feb 3, 2010 at 3:02 PM, babyboy808 <hi at eirestudio.net> wrote:
> >
> >>
> >> Hi Guys,
> >>
> >> I have about 100 posts in wordpress, all with a meta_key of price and a
> >> value. How would I go about searching through all posts with a value
> >> between
> >> 23.00 and 41.00 for example?
> >>
> >> I know that 'meta_compare ' treats 'meta_value' as a string, so I can't
> >> use
> >> this to solve my problem.
> >>
> >> Anybody have any clues?
> >>
> >> Thanks
> >> --
> >> View this message in context:
> >>
> http://old.nabble.com/Please-Help%3A-How-to-compare-2-float-values-in-meta_value-column--tp27435706p27435706.html
> >> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> >
>
> --
> View this message in context:
> http://old.nabble.com/Please-Help%3A-How-to-compare-2-float-values-in-meta_value-column--tp27435706p27437166.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From leif.a.andersen at gmail.com  Wed Feb  3 15:13:09 2010
From: leif.a.andersen at gmail.com (Leif Andersen)
Date: Wed, 3 Feb 2010 08:13:09 -0700
Subject: [wp-hackers] Wordpress Foundation
Message-ID: <f55773ba1002030713h6a44795cgd9b9ca8562f20cfa@mail.gmail.com>

I recently read this article:
http://ostatic.com/blog/wordpress-foundation-launched
Apparently, there will now be a Wordpress Foundation. Does anyone have any
guesses as to the relationship between this foundation, and Automattic?

Also, I apologize if this has already been discusses, I ran a quick search
of all of the mail from this list that I have, and didn't find anything.

~Leif
----------
The All New Unctuous Rants of Leif Andersen:
http://leifandersen.net

From batmoo at gmail.com  Wed Feb  3 15:40:21 2010
From: batmoo at gmail.com (Mohammad Jangda)
Date: Wed, 3 Feb 2010 10:40:21 -0500
Subject: [wp-hackers] Wordpress Android App (GSOC)
In-Reply-To: <f55773ba1002030651t69b2f345ke77a59bfaedcb04a@mail.gmail.com>
References: <f55773ba1001181826o793fbed1o73227c0d8de20919@mail.gmail.com>
	<f55773ba1001190731r53c0b214md0b63aeac50e7cb1@mail.gmail.com>
	<005f01caa117$f6b50a60$e41f1f20$@TheCodeCave.com>
	<f55773ba1001291441j15e9998fkb30dd66cb424baa7@mail.gmail.com>
	<4B664C76.4030100@bugssite.org>
	<f55773ba1002012026m1bdeedd9v7144418150f4ea5c@mail.gmail.com>
	<00c601caa433$ddb2f260$9918d720$@com>
	<f55773ba1002021357p768c9866ud9db33a63b9e6d58@mail.gmail.com>
	<5a1dad881002021411n2501d3efu359c49acc95e144c@mail.gmail.com>
	<f55773ba1002030651t69b2f345ke77a59bfaedcb04a@mail.gmail.com>
Message-ID: <eaaa36c91002030740o52babb0dq5cc8f64e24ec0d46@mail.gmail.com>

>
> Ya, I am going to contribute to it (at least once I find the URL for the
> source code, which doesn't appear to be on the website).
>

https://android.trac.wordpress.org/

From cal at calvinfreitas.com  Wed Feb  3 16:04:31 2010
From: cal at calvinfreitas.com (Calvin Freitas)
Date: Wed, 3 Feb 2010 08:04:31 -0800
Subject: [wp-hackers] Wordpress Foundation
In-Reply-To: <f55773ba1002030713h6a44795cgd9b9ca8562f20cfa@mail.gmail.com>
References: <f55773ba1002030713h6a44795cgd9b9ca8562f20cfa@mail.gmail.com>
Message-ID: <371a0b2a1002030804oe8db2f5pefd9e36ced19f34b@mail.gmail.com>

I'd suggest reading Matt's blog post introducing the foundation and read the
about page:
- http://wordpressfoundation.org/2010/getting-off-the-ground/
 <http://wordpressfoundation.org/2010/getting-off-the-ground/>-
http://wordpressfoundation.org/

<http://wordpressfoundation.org/>A key statement: "The point of the
foundation is to ensure free access, in perpetuity, to the software projects
we support."

Calvin Freitas
cal at calvinfreitas.com
http://calvinf.com/
http://wordcampseattle.com/


On Wed, Feb 3, 2010 at 7:13 AM, Leif Andersen <leif.a.andersen at gmail.com>wrote:

> I recently read this article:
> http://ostatic.com/blog/wordpress-foundation-launched
> Apparently, there will now be a Wordpress Foundation. Does anyone have any
> guesses as to the relationship between this foundation, and Automattic?
>
> Also, I apologize if this has already been discusses, I ran a quick search
> of all of the mail from this list that I have, and didn't find anything.
>
> ~Leif
> ----------
> The All New Unctuous Rants of Leif Andersen:
> http://leifandersen.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bulk at thecodecave.com  Wed Feb  3 16:40:09 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Wed, 3 Feb 2010 11:40:09 -0500
Subject: [wp-hackers] Wordpress Foundation
In-Reply-To: <371a0b2a1002030804oe8db2f5pefd9e36ced19f34b@mail.gmail.com>
References: <f55773ba1002030713h6a44795cgd9b9ca8562f20cfa@mail.gmail.com>
	<371a0b2a1002030804oe8db2f5pefd9e36ced19f34b@mail.gmail.com>
Message-ID: <002101caa4ef$8e14b060$aa3e1120$@thecodecave.com>

> I recently read this article:
> http://ostatic.com/blog/wordpress-foundation-launched
> Apparently, there will now be a Wordpress Foundation. 

The best article I read on it:
http://rsandsconsulting.com/2010/01/27/wordpress-lets-do-a-foundation/
-Brian Layman


From gaarai at gaarai.com  Wed Feb  3 17:05:02 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Wed, 03 Feb 2010 11:05:02 -0600
Subject: [wp-hackers] Recommendations for trac patches?
Message-ID: <4B69ACBE.9030306@gaarai.com>

I've submitted a number of core patches in the past. Most of them 
receive little to no attention for quite a while. Case in point, I found 
a bug in some default filter values for attachment icons 
(http://core.trac.wordpress.org/ticket/11981). I supplied a patch 12 
days ago, and from what I can see, no one on the core team has cared to 
look at it.

While I know that everyone is very busy with their own work, I wonder if 
there is anything I could do to better expedite getting these fixes 
applied to trunk. Suggestions?

-- 
Chris Jean
http://gaarai.com/
@chrisjean


From austin at ilfilosofo.com  Wed Feb  3 17:19:20 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Wed, 3 Feb 2010 11:19:20 -0600
Subject: [wp-hackers] Recommendations for trac patches?
In-Reply-To: <4B69ACBE.9030306@gaarai.com>
References: <4B69ACBE.9030306@gaarai.com>
Message-ID: <674b4a3b1002030919x4d400a57o5e22e8b92a8a29c6@mail.gmail.com>

On Wed, Feb 3, 2010 at 11:05 AM, Chris Jean <gaarai at gaarai.com> wrote:
> While I know that everyone is very busy with their own work, I wonder if
> there is anything I could do to better expedite getting these fixes applied
> to trunk. Suggestions?

Join the #wordpress-dev IRC channel and bring up your tickets for discussion.

From jer at simianuprising.com  Wed Feb  3 17:26:17 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 3 Feb 2010 12:26:17 -0500
Subject: [wp-hackers] adding another source SVN for plugin upgrades
In-Reply-To: <5721607d1002030530m4a265c53r1e27d6cbfb0ca9ff@mail.gmail.com>
References: <5721607d1002030530m4a265c53r1e27d6cbfb0ca9ff@mail.gmail.com>
Message-ID: <e1202cb11002030926n6599e458q52ab2acc8ae546f6@mail.gmail.com>

On Wed, Feb 3, 2010 at 8:30 AM, Nuno Morgadinho
<nuno.morgadinho at gmail.com> wrote:
> How hard is it to add another source for plugin upgrades, e.g. a
> private SVN repo?

In my experience setting up a private SVN repo can be fairly tricky
and requires a better understanding of SVN than is needed to use other
people's repos. I made some bad calls when I was doing it and bugs
resulted. It also requires in-depth knowledge of Apache and server
security so you can ensure that connections to the repo are encrypted
and secure.

That said its pretty damn handy and I would never go back to writing
custom plugins without a SVN repo backing them up.

If you want to avoid that there are hosted services like
http://beanstalkapp.com/ , though I haven't tried that one or any
others.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From gaarai at gaarai.com  Wed Feb  3 17:44:17 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Wed, 03 Feb 2010 11:44:17 -0600
Subject: [wp-hackers] Recommendations for trac patches?
In-Reply-To: <674b4a3b1002030919x4d400a57o5e22e8b92a8a29c6@mail.gmail.com>
References: <4B69ACBE.9030306@gaarai.com>
	<674b4a3b1002030919x4d400a57o5e22e8b92a8a29c6@mail.gmail.com>
Message-ID: <4B69B5F1.8070502@gaarai.com>

Thanks Austin.

Chris Jean
http://gaarai.com/
@chrisjean


On 02/03/2010 11:19 AM, Austin Matzko wrote:
> Join the #wordpress-dev IRC channel and bring up your tickets for discussion.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    

From beau at dentedreality.com.au  Wed Feb  3 18:20:23 2010
From: beau at dentedreality.com.au (Beau Lebens)
Date: Wed, 3 Feb 2010 10:20:23 -0800
Subject: [wp-hackers] Recommendations for trac patches?
In-Reply-To: <4B69B5F1.8070502@gaarai.com>
References: <4B69ACBE.9030306@gaarai.com>
	<674b4a3b1002030919x4d400a57o5e22e8b92a8a29c6@mail.gmail.com>
	<4B69B5F1.8070502@gaarai.com>
Message-ID: <902424491002031020u413ef508u419ef8058c81afa2@mail.gmail.com>

And post here, which you've now done :)

On Thursday, February 4, 2010, Chris Jean <gaarai at gaarai.com> wrote:
> Thanks Austin.
>
> Chris Jean
> http://gaarai.com/
> @chrisjean
>
>
> On 02/03/2010 11:19 AM, Austin Matzko wrote:
>
> Join the #wordpress-dev IRC channel and bring up your tickets for discussion.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at xentek.net  Wed Feb  3 20:17:06 2010
From: wp at xentek.net (Eric Marden)
Date: Wed, 3 Feb 2010 14:17:06 -0600
Subject: [wp-hackers] Recommendations for trac patches?
In-Reply-To: <4B69ACBE.9030306@gaarai.com>
References: <4B69ACBE.9030306@gaarai.com>
Message-ID: <58CFB74A-FD4D-42E1-934A-38DCC0156F07@xentek.net>


On Feb 3, 2010, at 11:05 AM, Chris Jean wrote:

> I've submitted a number of core patches in the past. Most of them  
> receive little to no attention for quite a whil


You've got to promote your patches and they will be incorporated.  
Also, keep on top of the svn commits and update your patches as new  
versions of the file you patched come out.


- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From wp at xentek.net  Wed Feb  3 20:20:13 2010
From: wp at xentek.net (Eric Marden)
Date: Wed, 3 Feb 2010 14:20:13 -0600
Subject: [wp-hackers] adding another source SVN for plugin upgrades
In-Reply-To: <5721607d1002030530m4a265c53r1e27d6cbfb0ca9ff@mail.gmail.com>
References: <5721607d1002030530m4a265c53r1e27d6cbfb0ca9ff@mail.gmail.com>
Message-ID: <8135ADDF-A304-48BE-AE6D-F7BECEA9B158@xentek.net>


On Feb 3, 2010, at 7:30 AM, Nuno Morgadinho wrote:

> It's for some private plugins (client work) so I can't use the public
> plugin repository.

Investigate svn:externals, which would work great for this. I use  
svn:externals to even link to the public svn repos for plugins in the  
extend db on wordpress.org


- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From steve at sltaylor.co.uk  Wed Feb  3 21:28:46 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Wed, 3 Feb 2010 21:28:46 +0000
Subject: [wp-hackers] thorough admin SSL
In-Reply-To: <a21f8bf01002011809l4c92d96ah5f9b9981010f7307@mail.gmail.com>
References: <a21f8bf01002011616i544be3e6i66d6b5fe02879d72@mail.gmail.com>
	<4B677324.4040500@visser.name>
	<a21f8bf01002011737h1164c2e4yb59be498f98a5127@mail.gmail.com>
	<28D4EDD2-DB53-45BB-92A3-105AD4A5BF35@xentek.net>
	<a21f8bf01002011809l4c92d96ah5f9b9981010f7307@mail.gmail.com>
Message-ID: <a21f8bf01002031328t7ce39c2dv6cd034fa0b1c5acf@mail.gmail.com>

OK, for this issue I'm resorting to buffering admin output and
replacing HTTP with HTTPS (a little more refined than that, but you
get the idea). Seems to work well, except...

How do I hook into the login page footer? admin_head and admin_footer
- great. I don't need the wp_head and wp_footer, the front isn't SSL.
login_head - great, halfway there. What about login_footer? I can't
see a trace of it. Any other options?

thanks,

Steve

From wp at andrewnacin.com  Wed Feb  3 21:35:00 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 3 Feb 2010 16:35:00 -0500
Subject: [wp-hackers] thorough admin SSL
In-Reply-To: <a21f8bf01002031328t7ce39c2dv6cd034fa0b1c5acf@mail.gmail.com>
References: <a21f8bf01002011616i544be3e6i66d6b5fe02879d72@mail.gmail.com> 
	<4B677324.4040500@visser.name>
	<a21f8bf01002011737h1164c2e4yb59be498f98a5127@mail.gmail.com> 
	<28D4EDD2-DB53-45BB-92A3-105AD4A5BF35@xentek.net>
	<a21f8bf01002011809l4c92d96ah5f9b9981010f7307@mail.gmail.com> 
	<a21f8bf01002031328t7ce39c2dv6cd034fa0b1c5acf@mail.gmail.com>
Message-ID: <4cc4de141002031335m3102f99ck97eddf2c39779b09@mail.gmail.com>

>
> How do I hook into the login page footer? admin_head and admin_footer
> - great. I don't need the wp_head and wp_footer, the front isn't SSL.
> login_head - great, halfway there. What about login_footer? I can't
> see a trace of it. Any other options?
>

It depends on what the link is. There isn't a login_footer action but there
are other options.

OK, for this issue I'm resorting to buffering admin output and
> replacing HTTP with HTTPS (a little more refined than that, but you
> get the idea).
>

You should probably open a ticket (I don't think there is a catch-all one)
on core.trac.wordpress.org with any links you find in core that don't check
HTTP v. HTTPS. There are a few functions we we can easily convert links to
to make sure schema is respected, including home_url(), get_home_url() (as
of today), admin_url(), includes_url(), etc.

From steve at sltaylor.co.uk  Wed Feb  3 21:49:53 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Wed, 3 Feb 2010 21:49:53 +0000
Subject: [wp-hackers] thorough admin SSL
In-Reply-To: <4cc4de141002031335m3102f99ck97eddf2c39779b09@mail.gmail.com>
References: <a21f8bf01002011616i544be3e6i66d6b5fe02879d72@mail.gmail.com>
	<4B677324.4040500@visser.name>
	<a21f8bf01002011737h1164c2e4yb59be498f98a5127@mail.gmail.com>
	<28D4EDD2-DB53-45BB-92A3-105AD4A5BF35@xentek.net>
	<a21f8bf01002011809l4c92d96ah5f9b9981010f7307@mail.gmail.com>
	<a21f8bf01002031328t7ce39c2dv6cd034fa0b1c5acf@mail.gmail.com>
	<4cc4de141002031335m3102f99ck97eddf2c39779b09@mail.gmail.com>
Message-ID: <a21f8bf01002031349m12cd5d5y511985a407ea569a@mail.gmail.com>

> It depends on what the link is. There isn't a login_footer action but there
> are other options.

I'm trying to be global. As mentioned before in the thread, there's a
good few plugins that I was resorting to hacking. When I thought of
output buffer manipulation, this seemed preferrable to hacking loads
of plugins.

I guess the best option is to use the latest hook in wp-login.php -
which seems to be login_form. Works OK so far...

> You should probably open a ticket (I don't think there is a catch-all one)
> on core.trac.wordpress.org with any links you find in core that don't check
> HTTP v. HTTPS. There are a few functions we we can easily convert links to
> to make sure schema is respected, including home_url(), get_home_url() (as
> of today), admin_url(), includes_url(), etc.

There's this ticket:

http://core.trac.wordpress.org/ticket/3637

There doesn't seem to be much enthusiasm for it. As I've mentioned,
I'm not sure why, this is quite an issue for perceived security.
Anyway, being flat-out, and having found a workaround, I'll have to
postpone cheerleading this cause for another day unfortunately...

From peter.westwood at ftwr.co.uk  Wed Feb  3 22:03:31 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 3 Feb 2010 22:03:31 +0000
Subject: [wp-hackers] Recommendations for trac patches?
In-Reply-To: <4B69ACBE.9030306@gaarai.com>
References: <4B69ACBE.9030306@gaarai.com>
Message-ID: <0D0B9FFC-81B0-4ED6-B2D1-403B2764E8DC@ftwr.co.uk>


On 3 Feb 2010, at 17:05, Chris Jean wrote:

> I've submitted a number of core patches in the past. Most of them  
> receive little to no attention for quite a while. Case in point, I  
> found a bug in some default filter values for attachment icons (http://core.trac.wordpress.org/ticket/11981 
> ). I supplied a patch 12 days ago, and from what I can see, no one  
> on the core team has cared to look at it.
>
> While I know that everyone is very busy with their own work, I  
> wonder if there is anything I could do to better expedite getting  
> these fixes applied to trunk. Suggestions?
>

FYI The things that get my attention quickest are:

1) Patches mentioned when I'm in IRC - This is a short cut but you  
still need to do (3)
2) Patches marked up with relevant keywords in priority order - commit  
 > tested > has-patch
3) Patches which have clear information in the ticket about: The bug,  
The fix, The test cases
4) Patches on tickets to which I am CC'd - These end up in a separate  
mail folder from the mail wp-trac mail deluge!

In general when I have the free time I start from here - https://core.trac.wordpress.org/report/6

I hope that helps

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From wordpress at zed1.com  Wed Feb  3 22:50:06 2010
From: wordpress at zed1.com (Mike Little)
Date: Wed, 3 Feb 2010 22:50:06 +0000
Subject: [wp-hackers] thorough admin SSL
In-Reply-To: <a21f8bf01002031328t7ce39c2dv6cd034fa0b1c5acf@mail.gmail.com>
References: <a21f8bf01002011616i544be3e6i66d6b5fe02879d72@mail.gmail.com> 
	<4B677324.4040500@visser.name>
	<a21f8bf01002011737h1164c2e4yb59be498f98a5127@mail.gmail.com> 
	<28D4EDD2-DB53-45BB-92A3-105AD4A5BF35@xentek.net>
	<a21f8bf01002011809l4c92d96ah5f9b9981010f7307@mail.gmail.com> 
	<a21f8bf01002031328t7ce39c2dv6cd034fa0b1c5acf@mail.gmail.com>
Message-ID: <7235ce781002031450t6527af08w171e82dd1a9e0235@mail.gmail.com>

On 3 February 2010 21:28, Steve Taylor <steve at sltaylor.co.uk> wrote:

> OK, for this issue I'm resorting to buffering admin output and
> replacing HTTP with HTTPS (a little more refined than that, but you
> get the idea). Seems to work well, except...
>
> How do I hook into the login page footer? admin_head and admin_footer
> - great. I don't need the wp_head and wp_footer, the front isn't SSL.
> login_head - great, halfway there. What about login_footer? I can't
> see a trace of it. Any other options?
>
> thanks,
>
> Steve
>


Steve,
I have encountered this on a project before, in particular, wpmu has several
places hard-coded with 'http' (it also doesn't support a port number in
urls, but that's another project problem I had to solve).

My simple fix was to do it in Apache using mod_substitute - forget output
buffering and all that hassle. Worked like a charm! (I still turned on the
WP settings, and had a bounce-everything-to-https rewrite rule.)

Add the following to wp-config.php

  define( "FORCE_SSL_ADMIN", true );
  define( "FORCE_SSL_LOGIN", true );

Add the following rule to the .htaccess at the root of the site.

  RewriteCond %{HTTPS} ^off$ [NC]
  RewriteRule ^(.*)$ https://%{HTTP_HOST}/$1 [R=301,L]

Add the following to the vhost settings in main apache config

  AddOutputFilterByType SUBSTITUTE text/html
  AddOutputFilterByType SUBSTITUTE application/atom+xml
  AddOutputFilterByType SUBSTITUTE text/xml
  AddOutputFilterByType SUBSTITUTE application/xhtml+xml
  Substitute s|http://yourdomain.com|https://yourdomain.com|in

substituting the correct host names.

This was for the whole site served as https , but you could wrap the
substitute stuff in a <location> section to just cover wp-login.php,
wp-register.php and /wp-admin/

Oh, and because this was an existing site with lots of content, I did a
export/search-and-replace/import on the database too.


Hope this helps,


Mike
-- 
Mike Little
http://zed1.com/

From gaarai at gaarai.com  Wed Feb  3 22:53:45 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Wed, 03 Feb 2010 16:53:45 -0600
Subject: [wp-hackers] Recommendations for trac patches?
In-Reply-To: <0D0B9FFC-81B0-4ED6-B2D1-403B2764E8DC@ftwr.co.uk>
References: <4B69ACBE.9030306@gaarai.com>
	<0D0B9FFC-81B0-4ED6-B2D1-403B2764E8DC@ftwr.co.uk>
Message-ID: <4B69FE79.2090601@gaarai.com>

It would greatly help me and people like me (who submit patches to core) 
if a definitive guide on how to submit patches is created. When I 
submitted my first patch, I did it by following the guidelines in the 
Codex. Those are mostly geared towards people reporting issues with a 
little tacked on for people providing patches. It would seem to me that 
people might provide more patches if they knew exactly what was expected 
of them, their trac ticket, and their patches. I've submitted numerous 
patches, and I still feel that I have a loose at best understanding of 
what I should do.

Adding keywords is a mysterious thing with no clear rules or 
expectations on how they should be used. I've always felt that at most 
as the provider of the patch, I should provide has-patch. This is due to 
the fact that I have no idea what a core dev considers worthy of 
additional keywords. The description for commit specifies a "trusted 
member". Who is a trusted member? Do I count as one yet? I have no idea. 
To me, the has-patch keyword denotes that I, or the person who submitted 
the patch, has tested the patch against the build cited inside the diff 
and believes that the patch should be added to core. If the patch 
submitter did not believe this, why would they submit the patch? 
Apparently I'm wrong on this thinking, so being clearer in the docs 
could easily produce tickets more in line with what the core devs desire.

A guide that details what the keywords are, when to use specific 
keywords, how to select the proper component, etc would be greatly 
useful. If a solid example of what the core team desires in a patch 
ticket is provided, that would be even better. I volunteer to work on 
adding such best pratices info to the Codex, but first I need to know 
the details on the best practices as I obviously don't right now.

As a final note, I don't want to start CCing different devs just to get 
attention. I want to find out what is missing from my submissions that 
is causing them to be ignored. I'm sure that others have this issue and, 
like I have in the past, believe that this is just the way trac is: 
submit a patch and forget about it since it may never be noticed.

Chris Jean
http://gaarai.com/
@chrisjean


On 02/03/2010 04:03 PM, Peter Westwood wrote:
> FYI The things that get my attention quickest are:
>
> 1) Patches mentioned when I'm in IRC - This is a short cut but you 
> still need to do (3)
> 2) Patches marked up with relevant keywords in priority order - commit 
> > tested > has-patch
> 3) Patches which have clear information in the ticket about: The bug, 
> The fix, The test cases
> 4) Patches on tickets to which I am CC'd - These end up in a separate 
> mail folder from the mail wp-trac mail deluge!
>
> In general when I have the free time I start from here - 
> https://core.trac.wordpress.org/report/6
>
> I hope that helps
>
> Cheers

From wp at andrewnacin.com  Wed Feb  3 23:26:09 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 3 Feb 2010 18:26:09 -0500
Subject: [wp-hackers] Recommendations for trac patches?
In-Reply-To: <4B69FE79.2090601@gaarai.com>
References: <4B69ACBE.9030306@gaarai.com>
	<0D0B9FFC-81B0-4ED6-B2D1-403B2764E8DC@ftwr.co.uk> 
	<4B69FE79.2090601@gaarai.com>
Message-ID: <4cc4de141002031526h5cfbc62cn83de725cbed10f24@mail.gmail.com>

Answers to some of your comments:


> To me, the has-patch keyword denotes that I, or the person who submitted
> the patch, has tested the patch against the build cited inside the diff and
> believes that the patch should be added to core. If the patch submitter did
> not believe this, why would they submit the patch?


In all honesty, many patches are not tested on first upload. (Or, at most,
it may be executed to ensure PHP parses it, more or less a typo sanity
check.) Many can be written by running the code through one's head.
Additionally, "tested" is not simply that the patch parses, or even
works.  It implies a far more rigorous standard. There are various
dependencies, edge cases, unit tests, etc., that often need to be
considered.  Plenty of patches are uploaded that "work" but don't belong
near core in their current state, but that's okay, because they're workable.

I've found the use of the commit keyword can be boiled down to I suppose
three general situations. One, patches that are very easy commits -- say,
the obvious typo, faulty logic, or inline documentation.

Two, once a patch has been tested, a core contributor or developer may add
the keyword when they feel it is ready for inclusion. Generally the
ramifications of the patch (will it break anything? does it introduce any
new considerations?) at this point are well understood, and it deserves
inclusion (has there been traction?). And there is a difference between
being ready for inclusion and deserving inclusion.

The third situation comes down to deserving of inclusion -- the patch is
ready to go into core (see #1 and #2) but needs some review from a core
developer, who would then either commit it, or close the ticket as
worksforme (i.e. plugin material) or wontfix. Punting or other wrangling are
options as well.

A guide that details what the keywords are, when to use specific keywords,
> how to select the proper component, etc would be greatly useful. If a solid
> example of what the core team desires in a patch ticket is provided, that
> would be even better.


dd32 proposed a series of suggestions about a month ago. It would make sense
that a better guide is put together, yes. What I wrote here about keyword
use is only what I have picked up on -- it is not documented anywhere
really, and if you ask someone else, you may get different answers.

As a final note, I don't want to start CCing different devs just to get
> attention.


You can't, actually -- you would need to have their e-mail address in your
own profile. (Entering your username in the CC field will add you to the
ticket and I suppose indicate your interest, but won't generate any
e-mails.) The most you could do is assign the ticket to one of them, which
usually just happens with default component owners anyway. IRC is definitely
a good avenue for discussing patches. On occasion, I might even attach a
patch to a ticket without comment, then bring it up in #wordpress-dev.

From steve at sltaylor.co.uk  Wed Feb  3 23:31:30 2010
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Wed, 3 Feb 2010 23:31:30 +0000
Subject: [wp-hackers] thorough admin SSL
In-Reply-To: <7235ce781002031450t6527af08w171e82dd1a9e0235@mail.gmail.com>
References: <a21f8bf01002011616i544be3e6i66d6b5fe02879d72@mail.gmail.com>
	<4B677324.4040500@visser.name>
	<a21f8bf01002011737h1164c2e4yb59be498f98a5127@mail.gmail.com>
	<28D4EDD2-DB53-45BB-92A3-105AD4A5BF35@xentek.net>
	<a21f8bf01002011809l4c92d96ah5f9b9981010f7307@mail.gmail.com>
	<a21f8bf01002031328t7ce39c2dv6cd034fa0b1c5acf@mail.gmail.com>
	<7235ce781002031450t6527af08w171e82dd1a9e0235@mail.gmail.com>
Message-ID: <a21f8bf01002031531o277ebc7u8f0a2f92f9d832f3@mail.gmail.com>

Mike, many thanks for those. I was using FORCE_SSL_ADMIN but I didn't
know about FORCE_SSL_LOGIN.

I don't manage the server, I'll check with the admins about maybe
using mod_substitute. Sounds like a good idea.

cheers,

Steve

On 3 February 2010 22:50, Mike Little <wordpress at zed1.com> wrote:
> Steve,
> I have encountered this on a project before, in particular, wpmu has several
> places hard-coded with 'http' (it also doesn't support a port number in
> urls, but that's another project problem I had to solve).
>
> My simple fix was to do it in Apache using mod_substitute - forget output
> buffering and all that hassle. Worked like a charm! (I still turned on the
> WP settings, and had a bounce-everything-to-https rewrite rule.)
>
> Add the following to wp-config.php
>
> ?define( "FORCE_SSL_ADMIN", true );
> ?define( "FORCE_SSL_LOGIN", true );
>
> Add the following rule to the .htaccess at the root of the site.
>
> ?RewriteCond %{HTTPS} ^off$ [NC]
> ?RewriteRule ^(.*)$ https://%{HTTP_HOST}/$1 [R=301,L]
>
> Add the following to the vhost settings in main apache config
>
> ?AddOutputFilterByType SUBSTITUTE text/html
> ?AddOutputFilterByType SUBSTITUTE application/atom+xml
> ?AddOutputFilterByType SUBSTITUTE text/xml
> ?AddOutputFilterByType SUBSTITUTE application/xhtml+xml
> ?Substitute s|http://yourdomain.com|https://yourdomain.com|in
>
> substituting the correct host names.
>
> This was for the whole site served as https , but you could wrap the
> substitute stuff in a <location> section to just cover wp-login.php,
> wp-register.php and /wp-admin/
>
> Oh, and because this was an existing site with lots of content, I did a
> export/search-and-replace/import on the database too.
>
>
> Hope this helps,
>
>
> Mike
> --
> Mike Little
> http://zed1.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From beau at dentedreality.com.au  Thu Feb  4 01:25:30 2010
From: beau at dentedreality.com.au (Beau Lebens)
Date: Wed, 3 Feb 2010 17:25:30 -0800
Subject: [wp-hackers] Wordpress Android App (GSOC)
In-Reply-To: <4B664C76.4030100@bugssite.org>
References: <f55773ba1001181826o793fbed1o73227c0d8de20919@mail.gmail.com> 
	<7235ce781001190111h681f76b8qc33c77570e036200@mail.gmail.com> 
	<bc2915771001190626l686a285dgd3acd3904dd8d636@mail.gmail.com> 
	<f55773ba1001190731r53c0b214md0b63aeac50e7cb1@mail.gmail.com> 
	<005f01caa117$f6b50a60$e41f1f20$@TheCodeCave.com>
	<f55773ba1001291441j15e9998fkb30dd66cb424baa7@mail.gmail.com> 
	<4B664C76.4030100@bugssite.org>
Message-ID: <902424491002031725l50794f7aq7849734b631df6ca@mail.gmail.com>

> If you do it right, I will switch over to the Android. The BB WordPress
> app doesn't work to well for my BB Storm. The buttons do not sync very well.
>
> Your Friend, Shane
> http://bugssite.org/

BTW Shane, this might help if you're having probs with the current version:

http://blackberry.wordpress.org/faq/

Q: The app does not seem to work properly on the Storm. The screen
orientation is odd, and scrolling does not work properly. How do I
resolve these issues ?
A: You need to run the app with Compatibility mode OFF. Go to
option-&gt; Advanced options-&gt; Application. Next, select the
WordPress app from the list, push the menu button and select ?Disable
the compatibility mode?.

From jpenney at jczorkmid.net  Thu Feb  4 03:44:01 2010
From: jpenney at jczorkmid.net (Jason Penney)
Date: Wed, 3 Feb 2010 22:44:01 -0500
Subject: [wp-hackers] thorough admin SSL
In-Reply-To: <a21f8bf01002011809l4c92d96ah5f9b9981010f7307@mail.gmail.com>
References: <a21f8bf01002011616i544be3e6i66d6b5fe02879d72@mail.gmail.com>
	<4B677324.4040500@visser.name>
	<a21f8bf01002011737h1164c2e4yb59be498f98a5127@mail.gmail.com>
	<28D4EDD2-DB53-45BB-92A3-105AD4A5BF35@xentek.net>
	<a21f8bf01002011809l4c92d96ah5f9b9981010f7307@mail.gmail.com>
Message-ID: <B39761AD-122E-46DC-8EC7-3EF9BB240C3B@jczorkmid.net>


> 2) Someone posted a fix for this in the Use Google Libraries plugin
> (for one) 6 months ago on wp.org, and it's still not included in the
> latest UGL release.
>

FYI it is on the list. Maybe I'll get to it this weekend.

--
Jason Penney ?
http://jasonpenney.net/
(sent from mobile device. Appologies for typos, etc.)

From prodevstudio at gmail.com  Thu Feb  4 11:22:39 2010
From: prodevstudio at gmail.com (ProDevStudio)
Date: Thu, 4 Feb 2010 11:22:39 +0000
Subject: [wp-hackers] Recommendations for trac patches?
In-Reply-To: <4B69ACBE.9030306@gaarai.com>
References: <4B69ACBE.9030306@gaarai.com>
Message-ID: <d9ef2a8f1002040322m79571ff0nba326df4f20093a7@mail.gmail.com>

Hi Chris,

It seems your ticket is related by Ryan to :
http://core.trac.wordpress.org/ticket/6751

What this tells me is that core developers are working on something
that would fix this and many other issues at the same time.

As suggestion rather than opening a new ticket you could have attached
your patch to ticket 6751 as this was already being looked it by more
people and are related.

Kind Regards,
Azizur Rahman

----
Do you need cost effective web hosting solution and Domain name try
http://www.prodevstudio.com

Missed the last Friday Khutbah, try catchup a Khutbah on-line now at
http://www.fridaykhutbah.com



On Wed, Feb 3, 2010 at 5:05 PM, Chris Jean <gaarai at gaarai.com> wrote:
> I've submitted a number of core patches in the past. Most of them receive
> little to no attention for quite a while. Case in point, I found a bug in
> some default filter values for attachment icons
> (http://core.trac.wordpress.org/ticket/11981). I supplied a patch 12 days
> ago, and from what I can see, no one on the core team has cared to look at
> it.
>
> While I know that everyone is very busy with their own work, I wonder if
> there is anything I could do to better expedite getting these fixes applied
> to trunk. Suggestions?
>
> --
> Chris Jean
> http://gaarai.com/
> @chrisjean
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jeremib at gmail.com  Thu Feb  4 13:51:45 2010
From: jeremib at gmail.com (Jeremi Bergman)
Date: Thu, 4 Feb 2010 08:51:45 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
Message-ID: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com>

I need some help, and we're willing to pay someone to help us.

We have a wordpress powered site, mrsec.com.  In Firefox, when I click on a
team logo at the top, which takes you to the archives, or even when you
click on About us which takes you to a page, more often then not I get an
RSS feed, even though the url is correct (meaning it's not the feed url).

If I do a SHIFT+Refresh while on the Rss feed page, the correct archive page
them loads.

I have had multiple people test this from multiple ISPs and from both Mac
and Windows, and they all get the same thing.

I have recreated the theme from scratch, still no luck.  I have disabled all
plugins, still no luck.  At this point I have exhausted my options except
paying someone else to take a look at it, maybe even digg into the source
code, etc.

I'm on the latest version.

Thanks for any insight.


Jeremi Bergman

From wphax at nullamatix.com  Thu Feb  4 13:58:46 2010
From: wphax at nullamatix.com (Guy)
Date: Thu, 4 Feb 2010 08:58:46 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com>
Message-ID: <88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com>

On Thu, Feb 4, 2010 at 8:51 AM, Jeremi Bergman <jeremib at gmail.com> wrote:
> I need some help, and we're willing to pay someone to help us.
>
> We have a wordpress powered site, mrsec.com. ?In Firefox, when I click on a
> team logo at the top, which takes you to the archives, or even when you
> click on About us which takes you to a page, more often then not I get an
> RSS feed, even though the url is correct (meaning it's not the feed url).
>
> If I do a SHIFT+Refresh while on the Rss feed page, the correct archive page
> them loads.
>
> [snip]
>
> Jeremi Bergman
>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Jeremi,

- From here, the linked logo at the top
(/wp-content/themes/mrsec/images/logo.png) goes to the index, and the
"About Us & Contact Us" link goes to "/about-2" with some text about
"John Pennington." No refresh necessary, no RSS feed displayed, even
after multiple clicks.

Browser: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.0.16)
Gecko/2009121609 Firefox/3.0.6 (Debian-3.0.6-3)
Proxy: Squid Cache: Version 2.7.STABLE3

Anything else I can (should) do to replicate the behavior? All seems
fine from here.

Guy
www.nullamatix.com
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iEYEARECAAYFAktq0r4ACgkQctdntTU9qSNP+gCeNnW1b7mVWkt8Nsb5ejrOSTjn
mbQAn2cK6djj7gKa22zLE2Y+28MVV+Zy
=MmOb
-----END PGP SIGNATURE-----

From navjotjsingh at gmail.com  Thu Feb  4 14:08:25 2010
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Thu, 4 Feb 2010 19:38:25 +0530
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com> 
	<88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com>
Message-ID: <7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com>

Same here. No problems detected.

Browser: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2)
Gecko/20100115 Firefox/3.6 (.NET CLR 3.5.30729)

--
Navjot Singh

On Thu, Feb 4, 2010 at 7:28 PM, Guy <wphax at nullamatix.com> wrote:

> On Thu, Feb 4, 2010 at 8:51 AM, Jeremi Bergman <jeremib at gmail.com> wrote:
> > I need some help, and we're willing to pay someone to help us.
> >
> > We have a wordpress powered site, mrsec.com.  In Firefox, when I click
> on a
> > team logo at the top, which takes you to the archives, or even when you
> > click on About us which takes you to a page, more often then not I get an
> > RSS feed, even though the url is correct (meaning it's not the feed url).
> >
> > If I do a SHIFT+Refresh while on the Rss feed page, the correct archive
> page
> > them loads.
> >
> > [snip]
> >
> > Jeremi Bergman
> >
>
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Jeremi,
>
> - From here, the linked logo at the top
> (/wp-content/themes/mrsec/images/logo.png) goes to the index, and the
> "About Us & Contact Us" link goes to "/about-2" with some text about
> "John Pennington." No refresh necessary, no RSS feed displayed, even
> after multiple clicks.
>
> Browser: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.0.16)
> Gecko/2009121609 Firefox/3.0.6 (Debian-3.0.6-3)
> Proxy: Squid Cache: Version 2.7.STABLE3
>
> Anything else I can (should) do to replicate the behavior? All seems
> fine from here.
>
> Guy
> www.nullamatix.com
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.9 (GNU/Linux)
>
> iEYEARECAAYFAktq0r4ACgkQctdntTU9qSNP+gCeNnW1b7mVWkt8Nsb5ejrOSTjn
> mbQAn2cK6djj7gKa22zLE2Y+28MVV+Zy
> =MmOb
> -----END PGP SIGNATURE-----
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From aruniihtmeerut at gmail.com  Thu Feb  4 14:10:54 2010
From: aruniihtmeerut at gmail.com (arun kumar)
Date: Thu, 4 Feb 2010 06:10:54 -0800
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com>
	<88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com>
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com>
Message-ID: <b692ba4b1002040610i7e773f9fu8e8f9138ccd6c3ce@mail.gmail.com>

can i be ur freind
plzzzzzzz

On Thu, Feb 4, 2010 at 6:08 AM, Navjot Singh <navjotjsingh at gmail.com> wrote:

> Same here. No problems detected.
>
> Browser: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2)
> Gecko/20100115 Firefox/3.6 (.NET CLR 3.5.30729)
>
> --
> Navjot Singh
>
> On Thu, Feb 4, 2010 at 7:28 PM, Guy <wphax at nullamatix.com> wrote:
>
> > On Thu, Feb 4, 2010 at 8:51 AM, Jeremi Bergman <jeremib at gmail.com>
> wrote:
> > > I need some help, and we're willing to pay someone to help us.
> > >
> > > We have a wordpress powered site, mrsec.com.  In Firefox, when I click
> > on a
> > > team logo at the top, which takes you to the archives, or even when you
> > > click on About us which takes you to a page, more often then not I get
> an
> > > RSS feed, even though the url is correct (meaning it's not the feed
> url).
> > >
> > > If I do a SHIFT+Refresh while on the Rss feed page, the correct archive
> > page
> > > them loads.
> > >
> > > [snip]
> > >
> > > Jeremi Bergman
> > >
> >
> > -----BEGIN PGP SIGNED MESSAGE-----
> > Hash: SHA1
> >
> > Jeremi,
> >
> > - From here, the linked logo at the top
> > (/wp-content/themes/mrsec/images/logo.png) goes to the index, and the
> > "About Us & Contact Us" link goes to "/about-2" with some text about
> > "John Pennington." No refresh necessary, no RSS feed displayed, even
> > after multiple clicks.
> >
> > Browser: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.0.16)
> > Gecko/2009121609 Firefox/3.0.6 (Debian-3.0.6-3)
> > Proxy: Squid Cache: Version 2.7.STABLE3
> >
> > Anything else I can (should) do to replicate the behavior? All seems
> > fine from here.
> >
> > Guy
> > www.nullamatix.com
> > -----BEGIN PGP SIGNATURE-----
> > Version: GnuPG v1.4.9 (GNU/Linux)
> >
> > iEYEARECAAYFAktq0r4ACgkQctdntTU9qSNP+gCeNnW1b7mVWkt8Nsb5ejrOSTjn
> > mbQAn2cK6djj7gKa22zLE2Y+28MVV+Zy
> > =MmOb
> > -----END PGP SIGNATURE-----
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Arun Chuadhary
www.arunthehackers.hpage.com

Jetking Infortrain
S-10 Dwarka
New Delhi

09015799894

From erisds at gmail.com  Thu Feb  4 14:14:50 2010
From: erisds at gmail.com (ErisDS)
Date: Thu, 4 Feb 2010 14:14:50 +0000
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com> 
	<88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com> 
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com>
Message-ID: <686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com>

Just so you know you aren't going mad

The first time I tried I got RSS feeds, the second time I got a dialog to
download the file stating file of type application/x-gzip

Something is wrong with the way the files are being served to the browser.

I was trying to take a look with firebug, but there are errors in your
Javascript which are preventing me from getting very far.

Sorry I can't be of more help.

Eris


On Thu, Feb 4, 2010 at 2:08 PM, Navjot Singh <navjotjsingh at gmail.com> wrote:

> Same here. No problems detected.
>
> Browser: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2)
> Gecko/20100115 Firefox/3.6 (.NET CLR 3.5.30729)
>
> --
> Navjot Singh
>
> On Thu, Feb 4, 2010 at 7:28 PM, Guy <wphax at nullamatix.com> wrote:
>
> > On Thu, Feb 4, 2010 at 8:51 AM, Jeremi Bergman <jeremib at gmail.com>
> wrote:
> > > I need some help, and we're willing to pay someone to help us.
> > >
> > > We have a wordpress powered site, mrsec.com.  In Firefox, when I click
> > on a
> > > team logo at the top, which takes you to the archives, or even when you
> > > click on About us which takes you to a page, more often then not I get
> an
> > > RSS feed, even though the url is correct (meaning it's not the feed
> url).
> > >
> > > If I do a SHIFT+Refresh while on the Rss feed page, the correct archive
> > page
> > > them loads.
> > >
> > > [snip]
> > >
> > > Jeremi Bergman
> > >
> >
> > -----BEGIN PGP SIGNED MESSAGE-----
> > Hash: SHA1
> >
> > Jeremi,
> >
> > - From here, the linked logo at the top
> > (/wp-content/themes/mrsec/images/logo.png) goes to the index, and the
> > "About Us & Contact Us" link goes to "/about-2" with some text about
> > "John Pennington." No refresh necessary, no RSS feed displayed, even
> > after multiple clicks.
> >
> > Browser: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.0.16)
> > Gecko/2009121609 Firefox/3.0.6 (Debian-3.0.6-3)
> > Proxy: Squid Cache: Version 2.7.STABLE3
> >
> > Anything else I can (should) do to replicate the behavior? All seems
> > fine from here.
> >
> > Guy
> > www.nullamatix.com
> > -----BEGIN PGP SIGNATURE-----
> > Version: GnuPG v1.4.9 (GNU/Linux)
> >
> > iEYEARECAAYFAktq0r4ACgkQctdntTU9qSNP+gCeNnW1b7mVWkt8Nsb5ejrOSTjn
> > mbQAn2cK6djj7gKa22zLE2Y+28MVV+Zy
> > =MmOb
> > -----END PGP SIGNATURE-----
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From kestrachern at gmail.com  Thu Feb  4 15:00:34 2010
From: kestrachern at gmail.com (Matthew Phillips)
Date: Thu, 4 Feb 2010 10:00:34 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com>
	<88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com>
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com>
	<686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com>
Message-ID: <3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com>

I had the same response when visiting the site as Eris described.

are you using a caching plugin or configured .htaccess in a special way?

Matthew


On Thu, Feb 4, 2010 at 9:14 AM, ErisDS <erisds at gmail.com> wrote:

> Just so you know you aren't going mad
>
> The first time I tried I got RSS feeds, the second time I got a dialog to
> download the file stating file of type application/x-gzip
>
> Something is wrong with the way the files are being served to the browser.
>
> I was trying to take a look with firebug, but there are errors in your
> Javascript which are preventing me from getting very far.
>
> Sorry I can't be of more help.
>
> Eris
>
>
> On Thu, Feb 4, 2010 at 2:08 PM, Navjot Singh <navjotjsingh at gmail.com>
> wrote:
>
> > Same here. No problems detected.
> >
> > Browser: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2)
> > Gecko/20100115 Firefox/3.6 (.NET CLR 3.5.30729)
> >
> > --
> > Navjot Singh
> >
> > On Thu, Feb 4, 2010 at 7:28 PM, Guy <wphax at nullamatix.com> wrote:
> >
> > > On Thu, Feb 4, 2010 at 8:51 AM, Jeremi Bergman <jeremib at gmail.com>
> > wrote:
> > > > I need some help, and we're willing to pay someone to help us.
> > > >
> > > > We have a wordpress powered site, mrsec.com.  In Firefox, when I
> click
> > > on a
> > > > team logo at the top, which takes you to the archives, or even when
> you
> > > > click on About us which takes you to a page, more often then not I
> get
> > an
> > > > RSS feed, even though the url is correct (meaning it's not the feed
> > url).
> > > >
> > > > If I do a SHIFT+Refresh while on the Rss feed page, the correct
> archive
> > > page
> > > > them loads.
> > > >
> > > > [snip]
> > > >
> > > > Jeremi Bergman
> > > >
> > >
> > > -----BEGIN PGP SIGNED MESSAGE-----
> > > Hash: SHA1
> > >
> > > Jeremi,
> > >
> > > - From here, the linked logo at the top
> > > (/wp-content/themes/mrsec/images/logo.png) goes to the index, and the
> > > "About Us & Contact Us" link goes to "/about-2" with some text about
> > > "John Pennington." No refresh necessary, no RSS feed displayed, even
> > > after multiple clicks.
> > >
> > > Browser: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.0.16)
> > > Gecko/2009121609 Firefox/3.0.6 (Debian-3.0.6-3)
> > > Proxy: Squid Cache: Version 2.7.STABLE3
> > >
> > > Anything else I can (should) do to replicate the behavior? All seems
> > > fine from here.
> > >
> > > Guy
> > > www.nullamatix.com
> > > -----BEGIN PGP SIGNATURE-----
> > > Version: GnuPG v1.4.9 (GNU/Linux)
> > >
> > > iEYEARECAAYFAktq0r4ACgkQctdntTU9qSNP+gCeNnW1b7mVWkt8Nsb5ejrOSTjn
> > > mbQAn2cK6djj7gKa22zLE2Y+28MVV+Zy
> > > =MmOb
> > > -----END PGP SIGNATURE-----
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jeremib at gmail.com  Thu Feb  4 16:07:59 2010
From: jeremib at gmail.com (Jeremi Bergman)
Date: Thu, 4 Feb 2010 11:07:59 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com> 
	<88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com> 
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com> 
	<686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com> 
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com>
Message-ID: <f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com>

I was using wp-super cache, but it's currently turned off and only have the
standard .htaccess entries from wordpress.

Jeremi Bergman



On Thu, Feb 4, 2010 at 10:00 AM, Matthew Phillips <kestrachern at gmail.com>wrote:

> I had the same response when visiting the site as Eris described.
>
> are you using a caching plugin or configured .htaccess in a special way?
>
> Matthew
>
>
> On Thu, Feb 4, 2010 at 9:14 AM, ErisDS <erisds at gmail.com> wrote:
>
> > Just so you know you aren't going mad
> >
> > The first time I tried I got RSS feeds, the second time I got a dialog to
> > download the file stating file of type application/x-gzip
> >
> > Something is wrong with the way the files are being served to the
> browser.
> >
> > I was trying to take a look with firebug, but there are errors in your
> > Javascript which are preventing me from getting very far.
> >
> > Sorry I can't be of more help.
> >
> > Eris
> >
> >
> > On Thu, Feb 4, 2010 at 2:08 PM, Navjot Singh <navjotjsingh at gmail.com>
> > wrote:
> >
> > > Same here. No problems detected.
> > >
> > > Browser: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2)
> > > Gecko/20100115 Firefox/3.6 (.NET CLR 3.5.30729)
> > >
> > > --
> > > Navjot Singh
> > >
> > > On Thu, Feb 4, 2010 at 7:28 PM, Guy <wphax at nullamatix.com> wrote:
> > >
> > > > On Thu, Feb 4, 2010 at 8:51 AM, Jeremi Bergman <jeremib at gmail.com>
> > > wrote:
> > > > > I need some help, and we're willing to pay someone to help us.
> > > > >
> > > > > We have a wordpress powered site, mrsec.com.  In Firefox, when I
> > click
> > > > on a
> > > > > team logo at the top, which takes you to the archives, or even when
> > you
> > > > > click on About us which takes you to a page, more often then not I
> > get
> > > an
> > > > > RSS feed, even though the url is correct (meaning it's not the feed
> > > url).
> > > > >
> > > > > If I do a SHIFT+Refresh while on the Rss feed page, the correct
> > archive
> > > > page
> > > > > them loads.
> > > > >
> > > > > [snip]
> > > > >
> > > > > Jeremi Bergman
> > > > >
> > > >
> > > > -----BEGIN PGP SIGNED MESSAGE-----
> > > > Hash: SHA1
> > > >
> > > > Jeremi,
> > > >
> > > > - From here, the linked logo at the top
> > > > (/wp-content/themes/mrsec/images/logo.png) goes to the index, and the
> > > > "About Us & Contact Us" link goes to "/about-2" with some text about
> > > > "John Pennington." No refresh necessary, no RSS feed displayed, even
> > > > after multiple clicks.
> > > >
> > > > Browser: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.0.16)
> > > > Gecko/2009121609 Firefox/3.0.6 (Debian-3.0.6-3)
> > > > Proxy: Squid Cache: Version 2.7.STABLE3
> > > >
> > > > Anything else I can (should) do to replicate the behavior? All seems
> > > > fine from here.
> > > >
> > > > Guy
> > > > www.nullamatix.com
> > > > -----BEGIN PGP SIGNATURE-----
> > > > Version: GnuPG v1.4.9 (GNU/Linux)
> > > >
> > > > iEYEARECAAYFAktq0r4ACgkQctdntTU9qSNP+gCeNnW1b7mVWkt8Nsb5ejrOSTjn
> > > > mbQAn2cK6djj7gKa22zLE2Y+28MVV+Zy
> > > > =MmOb
> > > > -----END PGP SIGNATURE-----
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jpotkanski at tribune.com  Thu Feb  4 16:18:46 2010
From: jpotkanski at tribune.com (Potkanski, Jason)
Date: Thu, 4 Feb 2010 10:18:46 -0600
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com>
Message-ID: <C7904F86.16B3%jpotkanski@tribune.com>

It looks like your Apache server is fronted by a Squid proxy server. I would bet your issue lies there. Are there multiple backends and frontends involved?

I would disable the proxy and have Apache serve up on port 80 until you get the issue resolved.

--

Jason Potkanski
Application Developer, Blogs
Tribune Technology


On 2/4/10 10:07 AM, "Jeremi Bergman" <jeremib at gmail.com> wrote:

I was using wp-super cache, but it's currently turned off and only have the
standard .htaccess entries from wordpress.

Jeremi Bergman



On Thu, Feb 4, 2010 at 10:00 AM, Matthew Phillips <kestrachern at gmail.com>wrote:

> I had the same response when visiting the site as Eris described.
>
> are you using a caching plugin or configured .htaccess in a special way?
>
> Matthew
>
>
> On Thu, Feb 4, 2010 at 9:14 AM, ErisDS <erisds at gmail.com> wrote:
>
> > Just so you know you aren't going mad
> >
> > The first time I tried I got RSS feeds, the second time I got a dialog to
> > download the file stating file of type application/x-gzip
> >
> > Something is wrong with the way the files are being served to the
> browser.
> >
> > I was trying to take a look with firebug, but there are errors in your
> > Javascript which are preventing me from getting very far.
> >
> > Sorry I can't be of more help.
> >
> > Eris
> >
> >
> > On Thu, Feb 4, 2010 at 2:08 PM, Navjot Singh <navjotjsingh at gmail.com>
> > wrote:
> >
> > > Same here. No problems detected.
> > >
> > > Browser: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2)
> > > Gecko/20100115 Firefox/3.6 (.NET CLR 3.5.30729)
> > >
> > > --
> > > Navjot Singh
> > >
> > > On Thu, Feb 4, 2010 at 7:28 PM, Guy <wphax at nullamatix.com> wrote:
> > >
> > > > On Thu, Feb 4, 2010 at 8:51 AM, Jeremi Bergman <jeremib at gmail.com>
> > > wrote:
> > > > > I need some help, and we're willing to pay someone to help us.
> > > > >
> > > > > We have a wordpress powered site, mrsec.com.  In Firefox, when I
> > click
> > > > on a
> > > > > team logo at the top, which takes you to the archives, or even when
> > you
> > > > > click on About us which takes you to a page, more often then not I
> > get
> > > an
> > > > > RSS feed, even though the url is correct (meaning it's not the feed
> > > url).
> > > > >
> > > > > If I do a SHIFT+Refresh while on the Rss feed page, the correct
> > archive
> > > > page
> > > > > them loads.
> > > > >
> > > > > [snip]
> > > > >
> > > > > Jeremi Bergman
> > > > >
> > > >
> > > > -----BEGIN PGP SIGNED MESSAGE-----
> > > > Hash: SHA1
> > > >
> > > > Jeremi,
> > > >
> > > > - From here, the linked logo at the top
> > > > (/wp-content/themes/mrsec/images/logo.png) goes to the index, and the
> > > > "About Us & Contact Us" link goes to "/about-2" with some text about
> > > > "John Pennington." No refresh necessary, no RSS feed displayed, even
> > > > after multiple clicks.
> > > >
> > > > Browser: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.0.16)
> > > > Gecko/2009121609 Firefox/3.0.6 (Debian-3.0.6-3)
> > > > Proxy: Squid Cache: Version 2.7.STABLE3
> > > >
> > > > Anything else I can (should) do to replicate the behavior? All seems
> > > > fine from here.
> > > >
> > > > Guy
> > > > www.nullamatix.com
> > > > -----BEGIN PGP SIGNATURE-----
> > > > Version: GnuPG v1.4.9 (GNU/Linux)
> > > >
> > > > iEYEARECAAYFAktq0r4ACgkQctdntTU9qSNP+gCeNnW1b7mVWkt8Nsb5ejrOSTjn
> > > > mbQAn2cK6djj7gKa22zLE2Y+28MVV+Zy
> > > > =MmOb
> > > > -----END PGP SIGNATURE-----
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From kestrachern at gmail.com  Thu Feb  4 16:20:35 2010
From: kestrachern at gmail.com (Matthew Phillips)
Date: Thu, 4 Feb 2010 11:20:35 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com>
	<88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com>
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com>
	<686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com>
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com>
	<f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com>
Message-ID: <3c932fe31002040820o2993ec4bucacc4ad757e796ce@mail.gmail.com>

My guess is the problem is developing from your .htaccess file (WP Super
Cache modifies the initial WP .htaccess file. ) or from the way WP Super
Cache is redirecting http requests.
Some suggestions:
Removing WP-Super Cache from your system (not just turning it off)
Restoring the .htaccess file to its original state (Non-modified by WP Super
Cache)

Matthew

On Thu, Feb 4, 2010 at 11:07 AM, Jeremi Bergman <jeremib at gmail.com> wrote:

> I was using wp-super cache, but it's currently turned off and only have the
> standard .htaccess entries from wordpress.
>
> Jeremi Bergman
>
>
>
> On Thu, Feb 4, 2010 at 10:00 AM, Matthew Phillips <kestrachern at gmail.com
> >wrote:
>
> > I had the same response when visiting the site as Eris described.
> >
> > are you using a caching plugin or configured .htaccess in a special way?
> >
> > Matthew
> >
> >
> > On Thu, Feb 4, 2010 at 9:14 AM, ErisDS <erisds at gmail.com> wrote:
> >
> > > Just so you know you aren't going mad
> > >
> > > The first time I tried I got RSS feeds, the second time I got a dialog
> to
> > > download the file stating file of type application/x-gzip
> > >
> > > Something is wrong with the way the files are being served to the
> > browser.
> > >
> > > I was trying to take a look with firebug, but there are errors in your
> > > Javascript which are preventing me from getting very far.
> > >
> > > Sorry I can't be of more help.
> > >
> > > Eris
> > >
> > >
> > > On Thu, Feb 4, 2010 at 2:08 PM, Navjot Singh <navjotjsingh at gmail.com>
> > > wrote:
> > >
> > > > Same here. No problems detected.
> > > >
> > > > Browser: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2)
> > > > Gecko/20100115 Firefox/3.6 (.NET CLR 3.5.30729)
> > > >
> > > > --
> > > > Navjot Singh
> > > >
> > > > On Thu, Feb 4, 2010 at 7:28 PM, Guy <wphax at nullamatix.com> wrote:
> > > >
> > > > > On Thu, Feb 4, 2010 at 8:51 AM, Jeremi Bergman <jeremib at gmail.com>
> > > > wrote:
> > > > > > I need some help, and we're willing to pay someone to help us.
> > > > > >
> > > > > > We have a wordpress powered site, mrsec.com.  In Firefox, when I
> > > click
> > > > > on a
> > > > > > team logo at the top, which takes you to the archives, or even
> when
> > > you
> > > > > > click on About us which takes you to a page, more often then not
> I
> > > get
> > > > an
> > > > > > RSS feed, even though the url is correct (meaning it's not the
> feed
> > > > url).
> > > > > >
> > > > > > If I do a SHIFT+Refresh while on the Rss feed page, the correct
> > > archive
> > > > > page
> > > > > > them loads.
> > > > > >
> > > > > > [snip]
> > > > > >
> > > > > > Jeremi Bergman
> > > > > >
> > > > >
> > > > > -----BEGIN PGP SIGNED MESSAGE-----
> > > > > Hash: SHA1
> > > > >
> > > > > Jeremi,
> > > > >
> > > > > - From here, the linked logo at the top
> > > > > (/wp-content/themes/mrsec/images/logo.png) goes to the index, and
> the
> > > > > "About Us & Contact Us" link goes to "/about-2" with some text
> about
> > > > > "John Pennington." No refresh necessary, no RSS feed displayed,
> even
> > > > > after multiple clicks.
> > > > >
> > > > > Browser: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.0.16)
> > > > > Gecko/2009121609 Firefox/3.0.6 (Debian-3.0.6-3)
> > > > > Proxy: Squid Cache: Version 2.7.STABLE3
> > > > >
> > > > > Anything else I can (should) do to replicate the behavior? All
> seems
> > > > > fine from here.
> > > > >
> > > > > Guy
> > > > > www.nullamatix.com
> > > > > -----BEGIN PGP SIGNATURE-----
> > > > > Version: GnuPG v1.4.9 (GNU/Linux)
> > > > >
> > > > > iEYEARECAAYFAktq0r4ACgkQctdntTU9qSNP+gCeNnW1b7mVWkt8Nsb5ejrOSTjn
> > > > > mbQAn2cK6djj7gKa22zLE2Y+28MVV+Zy
> > > > > =MmOb
> > > > > -----END PGP SIGNATURE-----
> > > > > _______________________________________________
> > > > > wp-hackers mailing list
> > > > > wp-hackers at lists.automattic.com
> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bulk at thecodecave.com  Thu Feb  4 17:02:11 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Thu, 4 Feb 2010 12:02:11 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com>
	<88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com>
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com>
	<686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com>
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com>
	<f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com>
Message-ID: <003f01caa5bb$cb8b93b0$62a2bb10$@thecodecave.com>

Note that in some (all?) versions of WPSC you HAVE to turn the caching off
via the wp-supercache options screen and THEN disable the plugin. If you
don't you will still use the cache files even though the plugin is disabled.
It will just never update the files that are there.

Brian Layman 


From elizabeth at slatetechpdx.com  Thu Feb  4 18:59:13 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Thu, 4 Feb 2010 10:59:13 -0800
Subject: [wp-hackers] Getting a call_user_func_array() error with
	add_(sub)?menu_page
Message-ID: <c399ae881002041059s19aeb93ndb7755f827bac28@mail.gmail.com>

I have a couple of plugins I'm working on.  I'm creating classes.  I copied
code from one plugin to the other.  One plugin runs fine, the other gives me
this error:

*Warning*: call_user_func_array() [function.call-user-func-array]: First
argument is expected to be a valid callback, 'MyPlugin::admin_loader' was
given in */var/www/vhosts/campdx.com/httpdocs/wp-includes/plugin.php* on
line *346*
*
*
*=============*
main plugin file:
---------------
one that works:
include(MWP_PLUGIN_DIR_PATH . 'my-working-plugin-class.php');
function fu_loaded() {
$fu = new MyWorkingPlugin;
add_action('admin_menu', array(&$fu, 'admin_page'));
add_action('admin_head', array(&$fu, 'admin_head'));

}
add_action('plugins_loaded', 'fu_loaded');

-------------------
the one that doesn't:
include(MYPLUGIN_DOCROOT . "classes/myplugin-class.php");
if (is_admin() ) {
include(MYPLUGIN_DOCROOT . "classes/myplugin-admin-class.php");
}
function myp_plugins_loaded () {
if ( is_admin() ) {
// To enable activation through the activate function
register_activation_hook(__FILE__,'dbem_install');
 // Execute the install script when the plugin is installed
add_action('activate_myplugin/myplugin.php','dbem_install');
 $mpadmin = new MyPlugin_Admin;
add_action('admin_menu',array(&$mpadmin, 'admin_page'));
 } else {
$dbem = new MyPlugins;
}
}
add_action('plugins_loaded', 'myp_plugins_loaded');

=======================
class definition:
------------------
one that works:

class MyWorkingPlugin {
function __construct() {
// some variables that needs to be instatiated
// __construct(blah = default, blah = default, blah = default
return $this;
 }
       // Thanks Session Manager for this code!
public function admin_page() {
$admin_page = 'admin/fu_admin.php';
$tab_title = __('My Working Plugin','fu');
$func = 'admin_loader';
$access_level = 'manage_options';
 $sub_pages = array(
__('Neat Stuff','fu')=>'fu_neat_stuff'
);
 add_menu_page($tab_title, $tab_title, $access_level, $admin_page,
array(&$this, $func));
 foreach ($sub_pages as $title=>$page) {
add_submenu_page($admin_page, $title, $title, $access_level, $page,
array(&$this, $func));
}
}
 public function admin_loader() {
$page = trim($this->get_request('page'));
 if ('admin/fu_admin.php' == $page) {
require_once(FU_ADMIN_DIR . 'fu_admin.php');
} else if (file_exists(FU_ADMIN_DIR . $page . '.php')) {
require_once(FU_ADMIN_DIR . $page . '.php');
}
}
}

----------------------------------
the one that doesn't:
// Renamed this plugin to the main plugin and changed appropriate code above
with the same results.
class MyPlugin_Admin extends MyPlugin {
 public function __construct() {
 return $this;
}

public function admin_page () {
$admin_page = 'admin/pages/main.php';
$tab_title = "My Plugin";
$func = 'admin_loader';
$access_level = 'manage_options';

add_menu_page($tab_title, $tab_title, $access_level, $admin_page,
array(&$this, $func));
 $sub_pages = array(
'Edit' => 'edit-form',
'Add New' => 'edit-form',
'Locations' => 'locations',
'People' => 'people',
'Categories'         => 'categories'
);
 foreach ($sub_pages as $title=>$page) {
add_submenu_page($admin_page, $title, $title, $access_level, $page,
array(&$this, $func));
}

}
 private function admin_loader() {
$page = trim($_GET['page']);
if ('admin/pages/main.php' == $page ) {
require_once(MYPLUGIN_DOCROOT . 'admin/pages/main.php');
} else {
require_once(MYPLUGIN_DOCROOT . 'admin/pages/' . $page . '.php');
}
}

}

I'm not seeing what the difference is.  I'm seeing differences of course,
but I just don't see how those could make a difference.  I've spent a couple
of hours, so far, toggling and tweaking and (un)commenting things to see
what would be causing this.

A Google search  comes up with nothing helpful.  I even looked through the
Drupal results that showed up, but didn't find an explanation. Google
Searches: 'call_user_func_array() add menu page wordpress',
'call_user_func_array() add menu page', 'call_user_func_array()
add_menu_page', 'call_user_func_array() object add_menu_page'

Oh yes.  I'm under NDA, so I've changed the names.  I checked the constant
names, but might have missed one.  Same for variables and Class names.

-- 
Thanks,
Elizabeth Buckwalter
Senior Developer
elizabeth at slatetechpdx.com
Slate Technologies LLC
http://slatetechpdx.com
6315 SE Holgate Blvd, Portland, OR
503.546.7698

From scribu at gmail.com  Thu Feb  4 19:20:31 2010
From: scribu at gmail.com (scribu)
Date: Thu, 4 Feb 2010 21:20:31 +0200
Subject: [wp-hackers] Getting a call_user_func_array() error with
	add_(sub)?menu_page
In-Reply-To: <c399ae881002041059s19aeb93ndb7755f827bac28@mail.gmail.com>
References: <c399ae881002041059s19aeb93ndb7755f827bac28@mail.gmail.com>
Message-ID: <349fe48b1002041120o344705efg2cfeb84c3c56999c@mail.gmail.com>

Perhaps you could see the difference if you had some indentation.


-- 
http://scribu.net

From dougal at gunters.org  Thu Feb  4 22:15:34 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Thu, 04 Feb 2010 17:15:34 -0500
Subject: [wp-hackers] Getting a call_user_func_array() error
	with	add_(sub)?menu_page
In-Reply-To: <c399ae881002041059s19aeb93ndb7755f827bac28@mail.gmail.com>
References: <c399ae881002041059s19aeb93ndb7755f827bac28@mail.gmail.com>
Message-ID: <4B6B4706.3020100@gunters.org>

On Feb 4 2010 1:59 PM, Elizabeth Buckwalter wrote:
> I have a couple of plugins I'm working on.  I'm creating classes.  I copied
> code from one plugin to the other.  One plugin runs fine, the other gives me
> this error:
>
> *Warning*: call_user_func_array() [function.call-user-func-array]: First
> argument is expected to be a valid callback, 'MyPlugin::admin_loader' was
> given in */var/www/vhosts/campdx.com/httpdocs/wp-includes/plugin.php* on
> line *346*
> [...]
>   private function admin_loader() {
> [...]
>    

I'd hazard a guess that declaring your admin_loader() method as 
'private' means that call_user_func_array() can't get to it. Private 
methods are only supposed to be used internally by other methods inside 
the class. If you need to be able to call it from outside, then declare 
it 'public', or determine which public method you should be using instead.


-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From knoxpics at gmail.com  Fri Feb  5 00:29:19 2010
From: knoxpics at gmail.com (Shane Chambers)
Date: Thu, 4 Feb 2010 16:29:19 -0800 (PST)
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <C7904F86.16B3%jpotkanski@tribune.com>
References: <C7904F86.16B3%jpotkanski@tribune.com>
Message-ID: <1e9148b5-06ed-4965-9d38-22024ac48081@k19g2000yqc.googlegroups.com>

Hi everyone,

I'm the system administer on this box.

Filling in some more detail;

Internet Explorer 8 appears to not have the problem.

Once, I saw the URL in Firefox change to "mrsec.com/feed" when it
should have been "mrsec.com/tags/tennessee".  I've tried digging
through mod_rewrite logs, but haven't come up with anything
conclusive.  Then again, I also haven't seen the URL change since that
one time yesterday.

Not always does the problem page come up as a rss feed.  I've also
seen it bring up the forum/discussion page, as well as direct stories.

The problem seems to be either load, or time related.  The problem
pages will come up in bursts, then go away for some period of time.
Consequently we can't absolutely say that the situations we believe to
work (below) truly work.

Setting up both alternative apache configurations, and alternative
directories have produced nothing understandable.  mrsec.com and
testing.mrsec.com have functionally identical apache configurations.
~mrsec/httpdocs and ~mrsec/subdomains/testing/httpdocs are supposed to
be identical.  That being said;

mrsec config   -> ~mrsec/httpdocs                     = error
testing config -> ~mrsec/subdomains/testing/httpdocs  = works  (see
time/load above)
mrsec config   -> ~mrsec/subdomains/testing/httpdocs  = error
testing config (renamed to mrsec) -> ~mrsec/httpdocs  = error
testing config (without rename)   -> ~mrsec/httpdocs  = works  (see
time/load above)


Although I had conclusively determined squid was not a factor in this
problem previously (by ssh tunneling directly to apache on the box,
and setting my browser's proxy to point to the tunnel), at Jeremy's
request I removed squid completely this afternoon.  The problem still
exists.

Overall the problem appears more often during the daytime, when the
server is being hit.

Server setup:
Debian Lenny (5.0.3)
Apache Server version: Apache/2.2.9 (Debian)
Apache Server built:   Nov 14 2009 21:07:23
Squid Cache: Version 3.0.STABLE8  (currently removed)

Shane Chambers


On Feb 4, 11:18?am, "Potkanski, Jason" <jpotkan... at tribune.com> wrote:
> It looks like your Apache server is fronted by a Squid proxy server. I would bet your issue lies there. Are there multiple backends and frontends involved?
>
> I would disable the proxy and have Apache serve up on port 80 until you get the issue resolved.
>
> --
>
> Jason Potkanski
> Application Developer, Blogs
> Tribune Technology
>
> On 2/4/10 10:07 AM, "Jeremi Bergman" <jere... at gmail.com> wrote:
>
> I was using wp-super cache, but it's currently turned off and only have the
> standard .htaccess entries from wordpress.
>
> Jeremi Bergman
>
> On Thu, Feb 4, 2010 at 10:00 AM, Matthew Phillips <kestrach... at gmail.com>wrote:
>
>
>
> > I had the same response when visiting the site as Eris described.
>
> > are you using a caching plugin or configured .htaccess in a special way?
>
> > Matthew
>
> > On Thu, Feb 4, 2010 at 9:14 AM, ErisDS <eri... at gmail.com> wrote:
>
> > > Just so you know you aren't going mad
>
> > > The first time I tried I got RSS feeds, the second time I got a dialog to
> > > download the file stating file of type application/x-gzip
>
> > > Something is wrong with the way the files are being served to the
> > browser.
>
> > > I was trying to take a look with firebug, but there are errors in your
> > > Javascript which are preventing me from getting very far.
>
> > > Sorry I can't be of more help.
>
> > > Eris
>
> > > On Thu, Feb 4, 2010 at 2:08 PM, Navjot Singh <navjotjsi... at gmail.com>
> > > wrote:
>
> > > > Same here. No problems detected.
>
> > > > Browser: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2)
> > > > Gecko/20100115 Firefox/3.6 (.NET CLR 3.5.30729)
>
> > > > --
> > > > Navjot Singh
>
> > > > On Thu, Feb 4, 2010 at 7:28 PM, Guy <wp... at nullamatix.com> wrote:
>
> > > > > On Thu, Feb 4, 2010 at 8:51 AM, Jeremi Bergman <jere... at gmail.com>
> > > > wrote:
> > > > > > I need some help, and we're willing to pay someone to help us.
>
> > > > > > We have a wordpress powered site, mrsec.com. ?In Firefox, when I
> > > click
> > > > > on a
> > > > > > team logo at the top, which takes you to the archives, or even when
> > > you
> > > > > > click on About us which takes you to a page, more often then not I
> > > get
> > > > an
> > > > > > RSS feed, even though the url is correct (meaning it's not the feed
> > > > url).
>
> > > > > > If I do a SHIFT+Refresh while on the Rss feed page, the correct
> > > archive
> > > > > page
> > > > > > them loads.
>
> > > > > > [snip]
>
> > > > > > Jeremi Bergman
>
> > > > > -----BEGIN PGP SIGNED MESSAGE-----
> > > > > Hash: SHA1
>
> > > > > Jeremi,
>
> > > > > - From here, the linked logo at the top
> > > > > (/wp-content/themes/mrsec/images/logo.png) goes to the index, and the
> > > > > "About Us & Contact Us" link goes to "/about-2" with some text about
> > > > > "John Pennington." No refresh necessary, no RSS feed displayed, even
> > > > > after multiple clicks.
>
> > > > > Browser: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.0.16)
> > > > > Gecko/2009121609 Firefox/3.0.6 (Debian-3.0.6-3)
> > > > > Proxy: Squid Cache: Version 2.7.STABLE3
>
> > > > > Anything else I can (should) do to replicate the behavior? All seems
> > > > > fine from here.
>
> > > > > Guy
> > > > >www.nullamatix.com
> > > > > -----BEGIN PGP SIGNATURE-----
> > > > > Version: GnuPG v1.4.9 (GNU/Linux)
>
> > > > > iEYEARECAAYFAktq0r4ACgkQctdntTU9qSNP+gCeNnW1b7mVWkt8Nsb5ejrOSTjn
> > > > > mbQAn2cK6djj7gKa22zLE2Y+28MVV+Zy
> > > > > =MmOb
> > > > > -----END PGP SIGNATURE-----
> > > > > _______________________________________________
> > > > > wp-hackers mailing list
> > > > > wp-hack... at lists.automattic.com
> > > > >http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hack... at lists.automattic.com
> > > >http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hack... at lists.automattic.com
> > >http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hack... at lists.automattic.com
> >http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers

From elizabeth at slatetechpdx.com  Fri Feb  5 00:53:45 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Thu, 4 Feb 2010 16:53:45 -0800
Subject: [wp-hackers] Getting a call_user_func_array() error with
	add_(sub)?menu_page
Message-ID: <c399ae881002041653x7e8a9c9am9933fff71088905e@mail.gmail.com>

On Thu, Feb 4, 2010 at 4:29 PM, <scribu at gmail.com> wrote:

>
> Perhaps you could see the difference if you had some indentation.
>
>
>
Scribu,

My indentation was not preserved.

Elizabeth

From elizabeth at slatetechpdx.com  Fri Feb  5 01:00:25 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Thu, 4 Feb 2010 17:00:25 -0800
Subject: [wp-hackers] Getting a call_user_func_array() error with
	add_(sub)?menu_page
Message-ID: <c399ae881002041700ifcedd07gecabf46be85ac67b@mail.gmail.com>

On Thu, Feb 4, 2010 at 4:29 PM, <dougal at gunters.org> wrote:
>
>
> On Feb 4 2010 1:59 PM, Elizabeth Buckwalter wrote:
> > I have a couple of plugins I'm working on.  I'm creating classes.  I
> copied
> > code from one plugin to the other.  One plugin runs fine, the other gives
> me
> > this error:
> >
> > *Warning*: call_user_func_array() [function.call-user-func-array]: First
> > argument is expected to be a valid callback, 'MyPlugin::admin_loader' was
> > given in */var/www/vhosts/campdx.com/httpdocs/wp-includes/plugin.php* on
> > line *346*
> > [...]
> >   private function admin_loader() {
> > [...]
> >
>
> I'd hazard a guess that declaring your admin_loader() method as
> 'private' means that call_user_func_array() can't get to it. Private
> methods are only supposed to be used internally by other methods inside
> the class. If you need to be able to call it from outside, then declare
> it 'public', or determine which public method you should be using instead.
>
>
> --
> Dougal Campbell <dougal at gunters.org>
> http://dougal.gunters.org/
> http://twitter.com/dougal
> http://twitual.com/
>
>
>
*bangs head on desk*  Obviously, that did it.  Thank you very much!

Elizabeth Buckwalter

From wp at xentek.net  Fri Feb  5 03:42:14 2010
From: wp at xentek.net (Eric Marden)
Date: Thu, 4 Feb 2010 21:42:14 -0600
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <1e9148b5-06ed-4965-9d38-22024ac48081@k19g2000yqc.googlegroups.com>
References: <C7904F86.16B3%jpotkanski@tribune.com>
	<1e9148b5-06ed-4965-9d38-22024ac48081@k19g2000yqc.googlegroups.com>
Message-ID: <1D451339-6EB6-4E40-9693-398B2362013E@xentek.net>


On Feb 4, 2010, at 6:29 PM, Shane Chambers wrote:

> Hi everyone,
>
> I'm the system administer on this box.
>
> Filling in some more detail;

Did taking squid out of the picture make any change to the behavior?
What's your VHOST config look like?



- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From knoxpics at gmail.com  Fri Feb  5 05:41:03 2010
From: knoxpics at gmail.com (Shane Chambers)
Date: Fri, 05 Feb 2010 00:41:03 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <1D451339-6EB6-4E40-9693-398B2362013E@xentek.net>
References: <C7904F86.16B3%jpotkanski@tribune.com>	<1e9148b5-06ed-4965-9d38-22024ac48081@k19g2000yqc.googlegroups.com>
	<1D451339-6EB6-4E40-9693-398B2362013E@xentek.net>
Message-ID: <4B6BAF6F.9090609@gmail.com>

No.  As I said earlier, taking Squid out of the picture did not change 
the errors.

Current vhost config (note this was normally bound to localhost when 
squid is active)

<VirtualHost 74.208.170.64:80>
        ServerName   mrsec.com:80
        ServerAlias  www.mrsec.com new.mrsec.com old.mrsec.com
        UseCanonicalName Off
        ServerAdmin  "admin at mrsec.com"
        DocumentRoot /var/www/vhosts/mrsec.com/httpdocs
        CustomLog  /var/www/vhosts/mrsec.com/statistics/logs/access_log 
cached
        ErrorLog  /var/www/vhosts/mrsec.com/statistics/logs/error_log
<IfModule mod_userdir.c>
        UserDir /var/www/vhosts/mrsec.com/web_users
</IfModule>
        <IfModule mod_ssl.c>
                SSLEngine off
        </IfModule>
        <Directory /var/www/vhosts/mrsec.com/httpdocs>
        <IfModule sapi_apache2.c>
                php_admin_flag engine on
                php_admin_flag safe_mode off
                php_admin_value open_basedir 
"/var/www/vhosts/mrsec.com/httpdocs:/tmp"
        </IfModule>
        <IfModule mod_php5.c>
                php_admin_flag engine on
                php_admin_flag safe_mode off
                php_admin_value open_basedir 
"/var/www/vhosts/mrsec.com/httpdocs:/tmp"
        </IfModule>
                Options -Includes -ExecCGI
        </Directory>
        <Directory /var/www/vhosts/mrsec.com/web_users>
        <IfModule sapi_apache2.c>
                php_admin_flag engine off
        </IfModule>
        <IfModule mod_php5.c>
                php_admin_flag engine off
        </IfModule>
        </Directory>
        #<IfModule mod_rewrite.c>
        #RewriteLog "/var/www/vhosts/mrsec.com/statistics/logs/rewrite_log"
        #RewriteLogLevel 9
        #</IfModule>
</VirtualHost>



Eric Marden wrote:
>
> On Feb 4, 2010, at 6:29 PM, Shane Chambers wrote:
>
>> Hi everyone,
>>
>> I'm the system administer on this box.
>>
>> Filling in some more detail;
>
> Did taking squid out of the picture make any change to the behavior?
> What's your VHOST config look like?
>
>
>
> - Eric Marden
> __________________________________
> http://xentek.net/code/wordpress/
> tw: @xentek
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From knoxpics at gmail.com  Fri Feb  5 07:20:12 2010
From: knoxpics at gmail.com (Shane Chambers)
Date: Fri, 05 Feb 2010 02:20:12 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <1D451339-6EB6-4E40-9693-398B2362013E@xentek.net>
References: <C7904F86.16B3%jpotkanski@tribune.com>	<1e9148b5-06ed-4965-9d38-22024ac48081@k19g2000yqc.googlegroups.com>
	<1D451339-6EB6-4E40-9693-398B2362013E@xentek.net>
Message-ID: <4B6BC6AC.1080104@gmail.com>

For all of those that are kind enough to weigh in, or at least scratch 
their head towards this problem; the problem is currently rearing it's 
head on a frequent basis.  So come!  Join us!  See the amazing PITA this 
is!
{sigh}

Shane

Eric Marden wrote:
>
> On Feb 4, 2010, at 6:29 PM, Shane Chambers wrote:
>
>> Hi everyone,
>>
>> I'm the system administer on this box.
>>
>> Filling in some more detail;
>
> Did taking squid out of the picture make any change to the behavior?
> What's your VHOST config look like?
>
>
>
> - Eric Marden
> __________________________________
> http://xentek.net/code/wordpress/
> tw: @xentek
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at dd32.id.au  Fri Feb  5 07:28:36 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 05 Feb 2010 18:28:36 +1100
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <4B6BC6AC.1080104@gmail.com>
References: <C7904F86.16B3%jpotkanski@tribune.com>
	<1e9148b5-06ed-4965-9d38-22024ac48081@k19g2000yqc.googlegroups.com>
	<1D451339-6EB6-4E40-9693-398B2362013E@xentek.net>
	<4B6BC6AC.1080104@gmail.com>
Message-ID: <op.u7m8dvp5spxmuu@ho.st>

I'd be adding something to a plugin similar to this psuedologic:

on template_redirect (Er, maybe something else would be better here)

if ( is_feed() && /feed/ is not in URL ) {
  email details:
   var_dump($_SERVER);
   var_dump($GLOBALS['wp_query']);
   var_dump($GLOBALS['wp']);
}


That should at least tell you how its arrived at the thought its a feed,  
you should be able to see the query vars, the actual request, and a few  
other useful details that way.

On Fri, 05 Feb 2010 18:20:12 +1100, Shane Chambers <knoxpics at gmail.com>  
wrote:

> For all of those that are kind enough to weigh in, or at least scratch
> their head towards this problem; the problem is currently rearing it's
> head on a frequent basis.  So come!  Join us!  See the amazing PITA this
> is!
> {sigh}
>
> Shane
>
> Eric Marden wrote:
>>
>> On Feb 4, 2010, at 6:29 PM, Shane Chambers wrote:
>>
>>> Hi everyone,
>>>
>>> I'm the system administer on this box.
>>>
>>> Filling in some more detail;
>>
>> Did taking squid out of the picture make any change to the behavior?
>> What's your VHOST config look like?
>>
>>
>>
>> - Eric Marden
>> __________________________________
>> http://xentek.net/code/wordpress/
>> tw: @xentek
>>
>>
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
  Web: http://dd32.id.au/

From wordpress at zed1.com  Fri Feb  5 09:22:12 2010
From: wordpress at zed1.com (Mike Little)
Date: Fri, 5 Feb 2010 09:22:12 +0000
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com> 
	<88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com> 
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com> 
	<686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com> 
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com> 
	<f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com>
Message-ID: <7235ce781002050122x3a4cf877neee02377a131b005@mail.gmail.com>

Jeremi

A couple of things to check, when the wrong page is delivered, e.g. rss feed
instead of about page, what does the apache log record? It will likely be
difficult to check when the site is busy but looking for a know ip address
at a specific time will help you tie it down. Does the apache log record the
the request was for about or for the feed? If for the about page, then you
can rule out external, influences. I suspect you have got to that stage
already.
The next thing is to tie that request in with the rewrite logs  - I think
Shane has already determined that things look ok.

So you are probably back to something going wrong within WordPress'
execution chain.

It may be a shot in the dark, but I once had a vaguely similar issue with a
client's site. In this case the page title was being set to the wrong thing.
So the home page might  have a title tag of search results! It
was intermittent (but was then cached by a front end caching server!) but
was defintiley happening under high load.

I had just enabled All in one SEO plugin, and when I turned it off again, it
went away.

I think it was going wrong because AIOSEO does whole page buffering and I
believed that there might be a threading issue  with specific versions of
PHP and output buffering. So that the buffered contents of one request were
returned to the code running a different request. In my case the site was
running an out of date version of PHP, and running on Windows.

I see you are not running on Windows, but I think it is worth checking these
two things.
Are you running a plugin that does lots of output buffering?
and is your version of PHP up-to-date?

Another thing I would try: When you get a wrong page - save the HTML and
headers. Then access the page you received directly and save the HTML and
headers. Compare the two pairs (possibly ignoring time stamps). If they are
identical, then the error may well be in the template/redirection logic
within WordPress and it's plugins.
If they are different, then I would more strongly suspect output buffering.



Hope this helps,


Mike
-- 
Mike Little
http://zed1.com/

From dave at vinertech.com  Fri Feb  5 16:58:28 2010
From: dave at vinertech.com (Dave Viner)
Date: Fri, 5 Feb 2010 08:58:28 -0800
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <7235ce781002050122x3a4cf877neee02377a131b005@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com>
	<88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com>
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com>
	<686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com>
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com>
	<f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com>
	<7235ce781002050122x3a4cf877neee02377a131b005@mail.gmail.com>
Message-ID: <9a39b88d1002050858k5aba041bi650c7837b32401ae@mail.gmail.com>

I definitely agree with Mike.

Here's an interesting test that I just ran.

% lwp-request -SUse "http://mrsec.com/about" | less
GET http://www.mrsec.com/story/about-12-minutes-of-good-basketball
User-Agent: lwp-request/5.810

GET http://mrsec.com/about --> 301 Moved Permanently
GET http://www.mrsec.com/story/about-12-minutes-of-good-basketball --> 200
OK
Connection: close
Date: Fri, 05 Feb 2010 16:50:53 GMT
Server: Apache/2.2.9 (Debian) DAV/2 PHP/5.2.6-1+lenny4 with Suhosin-Patch
mod_ssl/2.2.9 OpenSSL/0.9.8g mod_perl/2.0.4 Perl/v5.10.0
Vary: Accept-Encoding
...

As you can see requesting the "About" page caused the server to issue a 301
to the "About 12 minutes of Good Basketball" page.  This suggests that
there's likely something wrong in your rewrite rules.  I would guess that
the redirect occurs because the URL /about matches the beginning of the
story URL (/about-12-mintes...)

I'd look first to see if Apache is doing some rewriting itself.  Are there
special rewrite rules you've enabled in the apache config?

Alternatively, you can uncomment these lines from your apache config:

#<IfModule mod_rewrite.c>
      #RewriteLog "/var/www/vhosts/mrsec.com/statistics/logs/rewrite_log"
      #RewriteLogLevel 9
      #</IfModule>

But, don't set RewriteLogLevel to 9.  Anything over 3 is a *massive* amount
of information.

If there are no special rules in the apache config or .htaccess, then, I'd
move on to look at WordPress.

The next thing to test would be the rewrite rules that are operating inside
WordPress.  Something in there is matching titles too loosely.  I *suspect*
that there's some regular expression that doesn't have the right start/end
token in the regex (such that "/about-12-minutes.." matches "/about").

Are you using any WP plugins to manage redirects or canonical URL creation?

Dave Viner


On Fri, Feb 5, 2010 at 1:22 AM, Mike Little <wordpress at zed1.com> wrote:

> Jeremi
>
> A couple of things to check, when the wrong page is delivered, e.g. rss
> feed
> instead of about page, what does the apache log record? It will likely be
> difficult to check when the site is busy but looking for a know ip address
> at a specific time will help you tie it down. Does the apache log record
> the
> the request was for about or for the feed? If for the about page, then you
> can rule out external, influences. I suspect you have got to that stage
> already.
> The next thing is to tie that request in with the rewrite logs  - I think
> Shane has already determined that things look ok.
>
> So you are probably back to something going wrong within WordPress'
> execution chain.
>
> It may be a shot in the dark, but I once had a vaguely similar issue with a
> client's site. In this case the page title was being set to the wrong
> thing.
> So the home page might  have a title tag of search results! It
> was intermittent (but was then cached by a front end caching server!) but
> was defintiley happening under high load.
>
> I had just enabled All in one SEO plugin, and when I turned it off again,
> it
> went away.
>
> I think it was going wrong because AIOSEO does whole page buffering and I
> believed that there might be a threading issue  with specific versions of
> PHP and output buffering. So that the buffered contents of one request were
> returned to the code running a different request. In my case the site was
> running an out of date version of PHP, and running on Windows.
>
> I see you are not running on Windows, but I think it is worth checking
> these
> two things.
> Are you running a plugin that does lots of output buffering?
> and is your version of PHP up-to-date?
>
> Another thing I would try: When you get a wrong page - save the HTML and
> headers. Then access the page you received directly and save the HTML and
> headers. Compare the two pairs (possibly ignoring time stamps). If they are
> identical, then the error may well be in the template/redirection logic
> within WordPress and it's plugins.
> If they are different, then I would more strongly suspect output buffering.
>
>
>
> Hope this helps,
>
>
> Mike
> --
> Mike Little
> http://zed1.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From knoxpics at gmail.com  Fri Feb  5 17:31:02 2010
From: knoxpics at gmail.com (Shane Chambers)
Date: Fri, 05 Feb 2010 12:31:02 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <7235ce781002050122x3a4cf877neee02377a131b005@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com>
	<88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com>
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com>
	<686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com>
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com>
	<f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com>
	<7235ce781002050122x3a4cf877neee02377a131b005@mail.gmail.com>
Message-ID: <4B6C55D6.6040904@gmail.com>

Mike, Dave,

PHP is sitting at the newest Debian release, with security patches.

root at server-new: php --version
PHP 5.2.6-1+lenny4 with Suhosin-Patch 0.9.6.2 (cli) (built: Nov 22 2009 
01:50:58)
Copyright (c) 1997-2008 The PHP Group
Zend Engine v2.2.0, Copyright (c) 1998-2008 Zend Technologies
    with XCache v1.2.2, Copyright (c) 2005-2007, by mOo
    with Suhosin v0.9.27, Copyright (c) 2007, by SektionEins GmbH

Apache logs the correct request, at least for all the times I've gone 
looking at it.  (which is quite a few times)

I've looked though the rewrite logs, and couldn't find anything 
conclusive.  Nothing referencing changing say "tags/vanderbilt" to 
anything having to do with feed.  (that's why the RewriteLogLevel was 
set to 9, I wasn't seeing anything at 3, so I bumped it up to max logs)

The rest is going to have to wait for Jeremi to chime in about.

Shane

Mike Little wrote:
> Jeremi
>
> A couple of things to check, when the wrong page is delivered, e.g. rss feed
> instead of about page, what does the apache log record? It will likely be
> difficult to check when the site is busy but looking for a know ip address
> at a specific time will help you tie it down. Does the apache log record the
> the request was for about or for the feed? If for the about page, then you
> can rule out external, influences. I suspect you have got to that stage
> already.
> The next thing is to tie that request in with the rewrite logs  - I think
> Shane has already determined that things look ok.
>
> So you are probably back to something going wrong within WordPress'
> execution chain.
>
> It may be a shot in the dark, but I once had a vaguely similar issue with a
> client's site. In this case the page title was being set to the wrong thing.
> So the home page might  have a title tag of search results! It
> was intermittent (but was then cached by a front end caching server!) but
> was defintiley happening under high load.
>
> I had just enabled All in one SEO plugin, and when I turned it off again, it
> went away.
>
> I think it was going wrong because AIOSEO does whole page buffering and I
> believed that there might be a threading issue  with specific versions of
> PHP and output buffering. So that the buffered contents of one request were
> returned to the code running a different request. In my case the site was
> running an out of date version of PHP, and running on Windows.
>
> I see you are not running on Windows, but I think it is worth checking these
> two things.
> Are you running a plugin that does lots of output buffering?
> and is your version of PHP up-to-date?
>
> Another thing I would try: When you get a wrong page - save the HTML and
> headers. Then access the page you received directly and save the HTML and
> headers. Compare the two pairs (possibly ignoring time stamps). If they are
> identical, then the error may well be in the template/redirection logic
> within WordPress and it's plugins.
> If they are different, then I would more strongly suspect output buffering.
>
>
>
> Hope this helps,
>
>
> Mike
>   

From alex at dunae.ca  Fri Feb  5 18:44:01 2010
From: alex at dunae.ca (Alex Dunae)
Date: Fri, 5 Feb 2010 10:44:01 -0800
Subject: [wp-hackers] Best practice for archives of custom post types
Message-ID: <03e2a10a59161d9ac459e0616203e98c.squirrel@webmail.dunae.ca>

I'm really enjoying the custom post types in WP 3.0, but I can seem to
find a sensible way to display an archive-style (or index) page for a
specific post_type.  Is there a best practice for this without hacking
around with the query?

Alex




From dave at vinertech.com  Fri Feb  5 18:51:24 2010
From: dave at vinertech.com (Dave Viner)
Date: Fri, 5 Feb 2010 10:51:24 -0800
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <4B6C55D6.6040904@gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com>
	<88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com>
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com>
	<686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com>
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com>
	<f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com>
	<7235ce781002050122x3a4cf877neee02377a131b005@mail.gmail.com>
	<4B6C55D6.6040904@gmail.com>
Message-ID: <9a39b88d1002051051y316e6cfbv660de292ff2c0f9a@mail.gmail.com>

In my example, I was able to request (from lwp-request) the URL "/about" and
was served "/story/about-12-minutes-of-good-basketball<http://www.mrsec.com/story/about-12-minutes-of-good-basketball>".
 Do you see anything in the rewrite logs for that?  I left the date in the
email (Date: Fri, 05 Feb 2010 16:50:53 GMT) so that you can track it
closely.

If not, then we're pretty certainly in the issue of WP making that redirect
happen.  In which case, it would be helpful to know what plugins you're
using and what your permalinks settings are.

Dave Viner


On Fri, Feb 5, 2010 at 9:31 AM, Shane Chambers <knoxpics at gmail.com> wrote:

> Mike, Dave,
>
> PHP is sitting at the newest Debian release, with security patches.
>
> root at server-new: php --version
> PHP 5.2.6-1+lenny4 with Suhosin-Patch 0.9.6.2 (cli) (built: Nov 22 2009
> 01:50:58)
> Copyright (c) 1997-2008 The PHP Group
> Zend Engine v2.2.0, Copyright (c) 1998-2008 Zend Technologies
>   with XCache v1.2.2, Copyright (c) 2005-2007, by mOo
>   with Suhosin v0.9.27, Copyright (c) 2007, by SektionEins GmbH
>
> Apache logs the correct request, at least for all the times I've gone
> looking at it.  (which is quite a few times)
>
> I've looked though the rewrite logs, and couldn't find anything conclusive.
>  Nothing referencing changing say "tags/vanderbilt" to anything having to do
> with feed.  (that's why the RewriteLogLevel was set to 9, I wasn't seeing
> anything at 3, so I bumped it up to max logs)
>
> The rest is going to have to wait for Jeremi to chime in about.
>
> Shane
>
>
> Mike Little wrote:
>
>> Jeremi
>>
>> A couple of things to check, when the wrong page is delivered, e.g. rss
>> feed
>> instead of about page, what does the apache log record? It will likely be
>> difficult to check when the site is busy but looking for a know ip address
>> at a specific time will help you tie it down. Does the apache log record
>> the
>> the request was for about or for the feed? If for the about page, then you
>> can rule out external, influences. I suspect you have got to that stage
>> already.
>> The next thing is to tie that request in with the rewrite logs  - I think
>> Shane has already determined that things look ok.
>>
>> So you are probably back to something going wrong within WordPress'
>> execution chain.
>>
>> It may be a shot in the dark, but I once had a vaguely similar issue with
>> a
>> client's site. In this case the page title was being set to the wrong
>> thing.
>> So the home page might  have a title tag of search results! It
>> was intermittent (but was then cached by a front end caching server!) but
>> was defintiley happening under high load.
>>
>> I had just enabled All in one SEO plugin, and when I turned it off again,
>> it
>> went away.
>>
>> I think it was going wrong because AIOSEO does whole page buffering and I
>> believed that there might be a threading issue  with specific versions of
>> PHP and output buffering. So that the buffered contents of one request
>> were
>> returned to the code running a different request. In my case the site was
>> running an out of date version of PHP, and running on Windows.
>>
>> I see you are not running on Windows, but I think it is worth checking
>> these
>> two things.
>> Are you running a plugin that does lots of output buffering?
>> and is your version of PHP up-to-date?
>>
>> Another thing I would try: When you get a wrong page - save the HTML and
>> headers. Then access the page you received directly and save the HTML and
>> headers. Compare the two pairs (possibly ignoring time stamps). If they
>> are
>> identical, then the error may well be in the template/redirection logic
>> within WordPress and it's plugins.
>> If they are different, then I would more strongly suspect output
>> buffering.
>>
>>
>>
>> Hope this helps,
>>
>>
>> Mike
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jeremib at gmail.com  Fri Feb  5 19:05:01 2010
From: jeremib at gmail.com (Jeremi Bergman)
Date: Fri, 5 Feb 2010 14:05:01 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <9a39b88d1002050858k5aba041bi650c7837b32401ae@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com> 
	<88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com> 
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com> 
	<686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com> 
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com> 
	<f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com> 
	<7235ce781002050122x3a4cf877neee02377a131b005@mail.gmail.com> 
	<9a39b88d1002050858k5aba041bi650c7837b32401ae@mail.gmail.com>
Message-ID: <f38206c91002051105v6d05fe0n80303b34ce83fe6a@mail.gmail.com>

Thanks all for the help, here's what we have:

.htaccess file:

> RewriteRule ^admin(.*)$ http://mrsec.com/old/admin [L,QSA]


>
> # BEGIN WordPress

<IfModule mod_rewrite.c>

RewriteEngine On

RewriteBase /

RewriteCond %{REQUEST_FILENAME} !-f

RewriteCond %{REQUEST_FILENAME} !-d

RewriteRule . /index.php [L]

</IfModule>


> # END WordPress


Activated Plugins:

  Advanced Category Excluder

 This plugin helps you to manage your content, RSS feeds, sidebar widgets,
and fine tune where you want to display your posts, pages, links, link
categories, or hide.


Deactivate<http://www.mrsec.com/wp-admin/plugins.php?action=deactivate&plugin=advanced-category-excluder%2Fadvanced-category-excluder.php&plugin_status=active&paged=1&_wpnonce=653ee89a17>

 Version 1.4.3 | By DjZoNe <http://djz.hu/> | Visit plugin
site<http://ace.dev.rain.hu/>


 Akismet

 Akismet checks your comments against the Akismet web service to see if they
look like spam or not. You need a WordPress.com API
key<http://akismet.com/get/> to
use it. You can review the spam it catches under "Comments." To show off
your Akismet stats just put <?php akismet_counter(); ?> in your template.
See also: WP Stats plugin <http://wordpress.org/extend/plugins/stats/>.


Deactivate<http://www.mrsec.com/wp-admin/plugins.php?action=deactivate&plugin=akismet%2Fakismet.php&plugin_status=active&paged=1&_wpnonce=055cb84e70>

 Version 2.2.7 | By Matt Mullenweg <http://ma.tt/> | Visit plugin
site<http://akismet.com/>


 EasySMS

 SMS message your readers and broadcast a new post to user cell phones
automatically. User group organization. Add custom carriers.


Deactivate<http://www.mrsec.com/wp-admin/plugins.php?action=deactivate&plugin=easysms%2Feasysms.php&plugin_status=active&paged=1&_wpnonce=fd25bc4bf7>

 Version 2.0.7.2 | By Brian Fegter <http://www.misternifty.com/> | Visit
plugin site <http://www.misternifty.com/easysms/>


 Google Custom Search Plugin

 Integrate Google Custom Search into WordPress


Deactivate<http://www.mrsec.com/wp-admin/plugins.php?action=deactivate&plugin=google-custom-search-for-wordpress%2FGoogleCSE.php&plugin_status=active&paged=1&_wpnonce=56975eb3e8>

 Version 1.2 | By Aleem Bawany <http://aleembawany.com/about/aleem-bawany/>
 | Visit plugin
site<http://aleembawany.com/projects/wordpress/google-custom-search-plugin/>


 Google XML Sitemaps

 This plugin will generate a sitemaps.org compatible sitemap of your
WordPress blog which is supported by Ask.com, Google, MSN Search and
YAHOO.Configuration
Page <http://www.mrsec.com/wp-admin/options-general.php?page=sitemap.php>


Deactivate<http://www.mrsec.com/wp-admin/plugins.php?action=deactivate&plugin=google-sitemap-generator%2Fsitemap.php&plugin_status=active&paged=1&_wpnonce=a021c8be5d>

 Version 3.2 | By Arne Brachhold <http://www.arnebrachhold.de/> | Visit
plugin site <http://www.arnebrachhold.de/redir/sitemap-home/> |
Settings<http://www.mrsec.com/wp-admin/options-general.php?page=google-sitemap-generator/sitemap.php>
 | FAQ <http://www.arnebrachhold.de/redir/sitemap-plist-faq/> |
Support<http://www.arnebrachhold.de/redir/sitemap-plist-support/>
 | Donate <http://www.arnebrachhold.de/redir/sitemap-plist-donate/>

 There is a new version of Google XML Sitemaps available. View version 3.2.2
Details<http://www.mrsec.com/wp-admin/plugin-install.php?tab=plugin-information&plugin=google-sitemap-generator&TB_iframe=true&width=640&height=728>
 or upgrade automatically<http://www.mrsec.com/wp-admin/update.php?action=upgrade-plugin&plugin=google-sitemap-generator%2Fsitemap.php&_wpnonce=97dfad65fb>
.


 Mailing List

 Allow users to subscribe to mutliple mailing lists from your website. Send
out mass newsletters, manage newsletter templates, import subscribers and
much more.


Deactivate<http://www.mrsec.com/wp-admin/plugins.php?action=deactivate&plugin=wp-mailinglist%2Fwp-mailinglist.php&plugin_status=active&paged=1&_wpnonce=aecd3bab2c>

 Version 3.6.7.2 | By Tribulant Software <http://tribulant.com/> | Visit
plugin site <http://tribulant.com/products/view/1/wordpress-mailing-list>


 MrSEC Options Manager

 Used to control the source for the main page (http://mrsec.com/)


Deactivate<http://www.mrsec.com/wp-admin/plugins.php?action=deactivate&plugin=MrSEC-options%2FMrSEC-options.php&plugin_status=active&paged=1&_wpnonce=9b2aabbc2d>

 By Robert L. Keen, Bergman Consulting <http://jeremibergman.com/> | Visit
plugin site <http://jeremibergman.com/>


 NextGEN Gallery

 A NextGENeration Photo gallery for the Web 2.0.


Deactivate<http://www.mrsec.com/wp-admin/plugins.php?action=deactivate&plugin=nextgen-gallery%2Fnggallery.php&plugin_status=active&paged=1&_wpnonce=774055e10b>

 Version 1.4.3 | By Alex Rabe <http://alexrabe.de/> | Visit plugin
site<http://alexrabe.de/?page_id=80>
 | Overview <http://www.mrsec.com/wp-admin/admin.php?page=nextgen-gallery>
 | Get help <http://wordpress.org/tags/nextgen-gallery?forum_id=10> |
Contribute <http://code.google.com/p/nextgen-gallery/> |
Donate<http://alexrabe.de/donation/>


 Register Plus

 WordPress 2.5+ ONLY. Enhance your Registration Page. Add Custom Logo,
Password Field, Invitation Codes, Disclaimer, Captcha Validation, Email
Validation, User Moderation, Profile Fields and more.


Deactivate<http://www.mrsec.com/wp-admin/plugins.php?action=deactivate&plugin=register-plus%2Fregister-plus.php&plugin_status=active&paged=1&_wpnonce=62e04c4883>

 Version 3.5.1 | By Skullbit <http://www.skullbit.com/> | Visit plugin
site<http://skullbit.com/wordpress-plugin/register-plus/>


 ShareThis

 Let your visitors share a post/page with others. Supports e-mail and
posting to social bookmarking sites. Configuration options are
here<http://www.mrsec.com/wp-admin/options-general.php?page=sharethis.php>.
Questions on configuration, etc.? Make sure to read the README.


Deactivate<http://www.mrsec.com/wp-admin/plugins.php?action=deactivate&plugin=share-this%2Fsharethis.php&plugin_status=active&paged=1&_wpnonce=762237087d>

 Version 3.2 | By ShareThis <http://sharethis.com/> | Visit plugin
site<http://sharethis.com/>


 Simple:Press Forum

 The WordPress Forum Plugin


Deactivate<http://www.mrsec.com/wp-admin/plugins.php?action=deactivate&plugin=simple-forum%2Fsf-control.php&plugin_status=active&paged=1&_wpnonce=fcf2f7ce22>

 Version 4.0.4 | By Andy Staines & Steve Klasen<http://simplepressforum.com/>
 | Visit plugin site <http://simplepressforum.com/>

  Latest version available: 4.1.3 - Build: 2510 - The latest ultimate forum
plugin for WordPress, Simple:Press Forum version 4.1.3, is now available.

 THIS IS A RECOMMENDED SECURITY RELEASE FOR ALL USERS!

Please remember to protect any customisation you may have made to skins,
icons, program hooks or pluggable functions

 For details and to download please visit: Simple:Press
Forum<http://simplepressforum.com/> (Please
Note: Automatic Upgrade is not available)


 Simple Forum Cron Link

 Registers a cron job to pickup and post new stories to the forum every 5
minutes


Deactivate<http://www.mrsec.com/wp-admin/plugins.php?action=deactivate&plugin=simple-forum-cron%2Fsimple-forum-cron.php&plugin_status=active&paged=1&_wpnonce=b4f1e7c5b7>

 Version 1.0 | By Jeremi Bergman <http://jeremibergman.com/> | Visit plugin
site <http://jeremibergman.com/#>


 Simply Exclude

 Provides an interface to selectively exclude/include categories, tags and
page from the 4 actions used by WordPress. is_front, is_archive, is_search,
is_feed.


Deactivate<http://www.mrsec.com/wp-admin/plugins.php?action=deactivate&plugin=simply-exclude%2Fsimplyexclude.php&plugin_status=active&paged=1&_wpnonce=88c3f61309>

 Version 1.7.6 | By Paul Menard <http://www.codehooligans.com/> | Visit
plugin site <http://www.codehooligans.com/2008/04/27/simply-exclude-plugin/>


 Target Blank In Posts And Comments

 Keep your visitors. Inserts target="_blank" into post and comment content
URLs and external links will open in new tabs.


Deactivate<http://www.mrsec.com/wp-admin/plugins.php?action=deactivate&plugin=target-blank-in-posts-and-comments%2Ftarget-blank-in-posts.php&plugin_status=active&paged=1&_wpnonce=02f526064e>

 Version 3.2 | By Lazar Kovacevic <http://www.inverudio.com/> | Visit plugin
site<http://www.inverudio.com/programs/WordPressBlog/NewTabWindowTargetBlankPlugin.php>


 WP-EMail

 Allows people to recommand/send your WordPress blog's post/page to a
friend.


Deactivate<http://www.mrsec.com/wp-admin/plugins.php?action=deactivate&plugin=wp-email%2Fwp-email.php&plugin_status=active&paged=1&_wpnonce=02059b8d3f>

 Version 2.50 | By Lester 'GaMerZ' Chan <http://lesterchan.net/> | Visit
plugin site <http://lesterchan.net/portfolio/programming/php/>




The permalink setup is as follows:

  Custom Structure


Optional

If you like, you may enter custom structures for your category and tag URLs
here. For example, using topics as your category base would make your
category links likehttp://example.org/topics/uncategorized/. If you leave
these blank the defaults will be used.

  Category base   Tag base



Are you using any WP plugins to manage redirects or canonical URL creation?


No.


Jeremi Bergman

865-951-5354



On Fri, Feb 5, 2010 at 11:58 AM, Dave Viner <dave at vinertech.com> wrote:

I definitely agree with Mike.
>
> Here's an interesting test that I just ran.
>
> % lwp-request -SUse "http://mrsec.com/about" | less
> GET http://www.mrsec.com/story/about-12-minutes-of-good-basketball
> User-Agent: lwp-request/5.810
>
> GET http://mrsec.com/about --> 301 Moved Permanently
> GET http://www.mrsec.com/story/about-12-minutes-of-good-basketball --> 200
> OK
> Connection: close
> Date: Fri, 05 Feb 2010 16:50:53 GMT
> Server: Apache/2.2.9 (Debian) DAV/2 PHP/5.2.6-1+lenny4 with Suhosin-Patch
> mod_ssl/2.2.9 OpenSSL/0.9.8g mod_perl/2.0.4 Perl/v5.10.0
> Vary: Accept-Encoding
> ...
>
> As you can see requesting the "About" page caused the server to issue a 301
> to the "About 12 minutes of Good Basketball" page.  This suggests that
> there's likely something wrong in your rewrite rules.  I would guess that
> the redirect occurs because the URL /about matches the beginning of the
> story URL (/about-12-mintes...)
>
> I'd look first to see if Apache is doing some rewriting itself.  Are there
> special rewrite rules you've enabled in the apache config?
>
> Alternatively, you can uncomment these lines from your apache config:
>
>
> #<IfModule mod_rewrite.c>
>
>      #RewriteLog "/var/www/vhosts/mrsec.com/statistics/logs/rewrite_log"
>
>      #RewriteLogLevel 9
>
>      #</IfModule>
>
>
> But, don't set RewriteLogLevel to 9.  Anything over 3 is a *massive* amount
> of information.
>
> If there are no special rules in the apache config or .htaccess, then, I'd
> move on to look at WordPress.
>
> The next thing to test would be the rewrite rules that are operating inside
> WordPress.  Something in there is matching titles too loosely.  I *suspect*
> that there's some regular expression that doesn't have the right start/end
> token in the regex (such that "/about-12-minutes.." matches "/about").
>
> Are you using any WP plugins to manage redirects or canonical URL creation?
>
> Dave Viner
>
>
>
> On Fri, Feb 5, 2010 at 1:22 AM, Mike Little <wordpress at zed1.com> wrote:
>
>
> > Jeremi
>
> >
>
> > A couple of things to check, when the wrong page is delivered, e.g. rss
>
> > feed
>
> > instead of about page, what does the apache log record? It will likely be
>
> > difficult to check when the site is busy but looking for a know ip
> address
>
> > at a specific time will help you tie it down. Does the apache log record
>
> > the
>
> > the request was for about or for the feed? If for the about page, then
> you
>
> > can rule out external, influences. I suspect you have got to that stage
>
> > already.
>
> > The next thing is to tie that request in with the rewrite logs  - I think
>
> > Shane has already determined that things look ok.
>
> >
>
> > So you are probably back to something going wrong within WordPress'
>
> > execution chain.
>
> >
>
> > It may be a shot in the dark, but I once had a vaguely similar issue with
> a
>
> > client's site. In this case the page title was being set to the wrong
>
> > thing.
>
> > So the home page might  have a title tag of search results! It
>
> > was intermittent (but was then cached by a front end caching server!) but
>
> > was defintiley happening under high load.
>
> >
>
> > I had just enabled All in one SEO plugin, and when I turned it off again,
>
> > it
>
> > went away.
>
> >
>
> > I think it was going wrong because AIOSEO does whole page buffering and I
>
> > believed that there might be a threading issue  with specific versions of
>
> > PHP and output buffering. So that the buffered contents of one request
> were
>
> > returned to the code running a different request. In my case the site was
>
> > running an out of date version of PHP, and running on Windows.
>
> >
>
> > I see you are not running on Windows, but I think it is worth checking
>
> > these
>
> > two things.
>
> > Are you running a plugin that does lots of output buffering?
>
> > and is your version of PHP up-to-date?
>
> >
>
> > Another thing I would try: When you get a wrong page - save the HTML and
>
> > headers. Then access the page you received directly and save the HTML and
>
> > headers. Compare the two pairs (possibly ignoring time stamps). If they
> are
>
> > identical, then the error may well be in the template/redirection logic
>
> > within WordPress and it's plugins.
>
> > If they are different, then I would more strongly suspect output
> buffering.
>
> >
>
> >
>
> >
>
> > Hope this helps,
>
> >
>
> >
>
> > Mike
>
> > --
>
> > Mike Little
>
> > http://zed1.com/
>
> > _______________________________________________
>
> > wp-hackers mailing list
>
> > wp-hackers at lists.automattic.com
>
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> >
>
> _______________________________________________
>
> wp-hackers mailing list
>
> wp-hackers at lists.automattic.com
>
>  <http://lists.automattic.com/mailman/listinfo/wp-hackers>
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From jeremib at gmail.com  Fri Feb  5 19:06:55 2010
From: jeremib at gmail.com (Jeremi Bergman)
Date: Fri, 5 Feb 2010 14:06:55 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <9a39b88d1002051051y316e6cfbv660de292ff2c0f9a@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com> 
	<88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com> 
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com> 
	<686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com> 
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com> 
	<f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com> 
	<7235ce781002050122x3a4cf877neee02377a131b005@mail.gmail.com> 
	<4B6C55D6.6040904@gmail.com>
	<9a39b88d1002051051y316e6cfbv660de292ff2c0f9a@mail.gmail.com>
Message-ID: <f38206c91002051106h6115d9fak953c9f0a5738ce3a@mail.gmail.com>

>
> In my example, I was able to request (from lwp-request) the URL "/about"
> and

was served "/story/about-12-minutes-of-good-basketball<
> http://www.mrsec.com/story/about-12-minutes-of-good-basketball>".


"about" is not a valid page, it's about-2.  But I dont know what would be
redirecting it...

 Jeremi Bergman
865-951-5354


On Fri, Feb 5, 2010 at 1:51 PM, Dave Viner <dave at vinertech.com> wrote:

> In my example, I was able to request (from lwp-request) the URL "/about"
> and
> was served "/story/about-12-minutes-of-good-basketball<
> http://www.mrsec.com/story/about-12-minutes-of-good-basketball>".
>  Do you see anything in the rewrite logs for that?  I left the date in the
> email (Date: Fri, 05 Feb 2010 16:50:53 GMT) so that you can track it
> closely.
>
> If not, then we're pretty certainly in the issue of WP making that redirect
> happen.  In which case, it would be helpful to know what plugins you're
> using and what your permalinks settings are.
>
> Dave Viner
>
>
> On Fri, Feb 5, 2010 at 9:31 AM, Shane Chambers <knoxpics at gmail.com> wrote:
>
> > Mike, Dave,
> >
> > PHP is sitting at the newest Debian release, with security patches.
> >
> > root at server-new: php --version
> > PHP 5.2.6-1+lenny4 with Suhosin-Patch 0.9.6.2 (cli) (built: Nov 22 2009
> > 01:50:58)
> > Copyright (c) 1997-2008 The PHP Group
> > Zend Engine v2.2.0, Copyright (c) 1998-2008 Zend Technologies
> >   with XCache v1.2.2, Copyright (c) 2005-2007, by mOo
> >   with Suhosin v0.9.27, Copyright (c) 2007, by SektionEins GmbH
> >
> > Apache logs the correct request, at least for all the times I've gone
> > looking at it.  (which is quite a few times)
> >
> > I've looked though the rewrite logs, and couldn't find anything
> conclusive.
> >  Nothing referencing changing say "tags/vanderbilt" to anything having to
> do
> > with feed.  (that's why the RewriteLogLevel was set to 9, I wasn't seeing
> > anything at 3, so I bumped it up to max logs)
> >
> > The rest is going to have to wait for Jeremi to chime in about.
> >
> > Shane
> >
> >
> > Mike Little wrote:
> >
> >> Jeremi
> >>
> >> A couple of things to check, when the wrong page is delivered, e.g. rss
> >> feed
> >> instead of about page, what does the apache log record? It will likely
> be
> >> difficult to check when the site is busy but looking for a know ip
> address
> >> at a specific time will help you tie it down. Does the apache log record
> >> the
> >> the request was for about or for the feed? If for the about page, then
> you
> >> can rule out external, influences. I suspect you have got to that stage
> >> already.
> >> The next thing is to tie that request in with the rewrite logs  - I
> think
> >> Shane has already determined that things look ok.
> >>
> >> So you are probably back to something going wrong within WordPress'
> >> execution chain.
> >>
> >> It may be a shot in the dark, but I once had a vaguely similar issue
> with
> >> a
> >> client's site. In this case the page title was being set to the wrong
> >> thing.
> >> So the home page might  have a title tag of search results! It
> >> was intermittent (but was then cached by a front end caching server!)
> but
> >> was defintiley happening under high load.
> >>
> >> I had just enabled All in one SEO plugin, and when I turned it off
> again,
> >> it
> >> went away.
> >>
> >> I think it was going wrong because AIOSEO does whole page buffering and
> I
> >> believed that there might be a threading issue  with specific versions
> of
> >> PHP and output buffering. So that the buffered contents of one request
> >> were
> >> returned to the code running a different request. In my case the site
> was
> >> running an out of date version of PHP, and running on Windows.
> >>
> >> I see you are not running on Windows, but I think it is worth checking
> >> these
> >> two things.
> >> Are you running a plugin that does lots of output buffering?
> >> and is your version of PHP up-to-date?
> >>
> >> Another thing I would try: When you get a wrong page - save the HTML and
> >> headers. Then access the page you received directly and save the HTML
> and
> >> headers. Compare the two pairs (possibly ignoring time stamps). If they
> >> are
> >> identical, then the error may well be in the template/redirection logic
> >> within WordPress and it's plugins.
> >> If they are different, then I would more strongly suspect output
> >> buffering.
> >>
> >>
> >>
> >> Hope this helps,
> >>
> >>
> >> Mike
> >>
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From knoxpics at gmail.com  Fri Feb  5 19:15:46 2010
From: knoxpics at gmail.com (Shane Chambers)
Date: Fri, 05 Feb 2010 14:15:46 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <f38206c91002051106h6115d9fak953c9f0a5738ce3a@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com>
	<88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com>
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com>
	<686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com>
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com>
	<f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com>
	<7235ce781002050122x3a4cf877neee02377a131b005@mail.gmail.com>
	<4B6C55D6.6040904@gmail.com>	<9a39b88d1002051051y316e6cfbv660de292ff2c0f9a@mail.gmail.com>
	<f38206c91002051106h6115d9fak953c9f0a5738ce3a@mail.gmail.com>
Message-ID: <4B6C6E62.7070206@gmail.com>

Here's the rewrite logs from when I ask for the "/about" url;

74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix: 
/var/www/vhosts/mrsec.com/httpdocs/about -> about
74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] applying pattern '^admin(.*)$' to 
uri 'about'
74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix: 
/var/www/vhosts/mrsec.com/httpdocs/about -> about
74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] applying pattern '.' to uri 'about'
74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (2) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] rewrite 'about' -> '/index.php'
74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (2) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] trying to replace prefix 
/var/www/vhosts/mrsec.com/httpdocs/ with /
74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (1) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] internal redirect with /index.php 
[INTERNAL REDIRECT]
74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] 
[www.mrsec.com/sid#2266900][rid#27e2728/initial/redir#1] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix: 
/var/www/vhosts/mrsec.com/httpdocs/index.php -> index.php
74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] 
[www.mrsec.com/sid#2266900][rid#27e2728/initial/redir#1] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] applying pattern '^admin(.*)$' to 
uri 'index.php'
74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] 
[www.mrsec.com/sid#2266900][rid#27e2728/initial/redir#1] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix: 
/var/www/vhosts/mrsec.com/httpdocs/index.php -> index.php
74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] 
[www.mrsec.com/sid#2266900][rid#27e2728/initial/redir#1] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] applying pattern '.' to uri 'index.php'
74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] 
[www.mrsec.com/sid#2266900][rid#27e2728/initial/redir#1] (1) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] pass through 
/var/www/vhosts/mrsec.com/httpdocs/index.php
74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] add path info postfix: 
/var/www/vhosts/mrsec.com/httpdocs/story -> 
/var/www/vhosts/mrsec.com/httpdocs/story/about-12-minutes-of-good-basketball
74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix: 
/var/www/vhosts/mrsec.com/httpdocs/story/about-12-minutes-of-good-basketball 
-> story/about-12-minutes-of-good-basketball
74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] applying pattern '^admin(.*)$' to 
uri 'story/about-12-minutes-of-good-basketball'
74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] add path info postfix: 
/var/www/vhosts/mrsec.com/httpdocs/story -> 
/var/www/vhosts/mrsec.com/httpdocs/story/about-12-minutes-of-good-basketball
74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix: 
/var/www/vhosts/mrsec.com/httpdocs/story/about-12-minutes-of-good-basketball 
-> story/about-12-minutes-of-good-basketball
74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] applying pattern '.' to uri 
'story/about-12-minutes-of-good-basketball'
74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (2) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] rewrite 
'story/about-12-minutes-of-good-basketball' -> '/index.php'
74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (2) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] trying to replace prefix 
/var/www/vhosts/mrsec.com/httpdocs/ with /
74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] 
[www.mrsec.com/sid#2266900][rid#27d9a68/initial] (1) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] internal redirect with /index.php 
[INTERNAL REDIRECT]
74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] 
[www.mrsec.com/sid#2266900][rid#27e5f88/initial/redir#1] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix: 
/var/www/vhosts/mrsec.com/httpdocs/index.php -> index.php
74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] 
[www.mrsec.com/sid#2266900][rid#27e5f88/initial/redir#1] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] applying pattern '^admin(.*)$' to 
uri 'index.php'
74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] 
[www.mrsec.com/sid#2266900][rid#27e5f88/initial/redir#1] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix: 
/var/www/vhosts/mrsec.com/httpdocs/index.php -> index.php
74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] 
[www.mrsec.com/sid#2266900][rid#27e5f88/initial/redir#1] (3) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] applying pattern '.' to uri 'index.php'
74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] 
[www.mrsec.com/sid#2266900][rid#27e5f88/initial/redir#1] (1) [perdir 
/var/www/vhosts/mrsec.com/httpdocs/] pass through 
/var/www/vhosts/mrsec.com/httpdocs/index.php


Shane

Jeremi Bergman wrote:
>> In my example, I was able to request (from lwp-request) the URL "/about"
>> and
>>     
>
> was served "/story/about-12-minutes-of-good-basketball<
>   
>> http://www.mrsec.com/story/about-12-minutes-of-good-basketball>".
>>     
>
>
> "about" is not a valid page, it's about-2.  But I dont know what would be
> redirecting it...
>
>  Jeremi Bergman
> 865-951-5354
>
>
> On Fri, Feb 5, 2010 at 1:51 PM, Dave Viner <dave at vinertech.com> wrote:
>
>   
>> In my example, I was able to request (from lwp-request) the URL "/about"
>> and
>> was served "/story/about-12-minutes-of-good-basketball<
>> http://www.mrsec.com/story/about-12-minutes-of-good-basketball>".
>>  Do you see anything in the rewrite logs for that?  I left the date in the
>> email (Date: Fri, 05 Feb 2010 16:50:53 GMT) so that you can track it
>> closely.
>>
>> If not, then we're pretty certainly in the issue of WP making that redirect
>> happen.  In which case, it would be helpful to know what plugins you're
>> using and what your permalinks settings are.
>>
>> Dave Viner
>>
>>
>> On Fri, Feb 5, 2010 at 9:31 AM, Shane Chambers <knoxpics at gmail.com> wrote:
>>
>>     
>>> Mike, Dave,
>>>
>>> PHP is sitting at the newest Debian release, with security patches.
>>>
>>> root at server-new: php --version
>>> PHP 5.2.6-1+lenny4 with Suhosin-Patch 0.9.6.2 (cli) (built: Nov 22 2009
>>> 01:50:58)
>>> Copyright (c) 1997-2008 The PHP Group
>>> Zend Engine v2.2.0, Copyright (c) 1998-2008 Zend Technologies
>>>   with XCache v1.2.2, Copyright (c) 2005-2007, by mOo
>>>   with Suhosin v0.9.27, Copyright (c) 2007, by SektionEins GmbH
>>>
>>> Apache logs the correct request, at least for all the times I've gone
>>> looking at it.  (which is quite a few times)
>>>
>>> I've looked though the rewrite logs, and couldn't find anything
>>>       
>> conclusive.
>>     
>>>  Nothing referencing changing say "tags/vanderbilt" to anything having to
>>>       
>> do
>>     
>>> with feed.  (that's why the RewriteLogLevel was set to 9, I wasn't seeing
>>> anything at 3, so I bumped it up to max logs)
>>>
>>> The rest is going to have to wait for Jeremi to chime in about.
>>>
>>> Shane
>>>
>>>
>>> Mike Little wrote:
>>>
>>>       
>>>> Jeremi
>>>>
>>>> A couple of things to check, when the wrong page is delivered, e.g. rss
>>>> feed
>>>> instead of about page, what does the apache log record? It will likely
>>>>         
>> be
>>     
>>>> difficult to check when the site is busy but looking for a know ip
>>>>         
>> address
>>     
>>>> at a specific time will help you tie it down. Does the apache log record
>>>> the
>>>> the request was for about or for the feed? If for the about page, then
>>>>         
>> you
>>     
>>>> can rule out external, influences. I suspect you have got to that stage
>>>> already.
>>>> The next thing is to tie that request in with the rewrite logs  - I
>>>>         
>> think
>>     
>>>> Shane has already determined that things look ok.
>>>>
>>>> So you are probably back to something going wrong within WordPress'
>>>> execution chain.
>>>>
>>>> It may be a shot in the dark, but I once had a vaguely similar issue
>>>>         
>> with
>>     
>>>> a
>>>> client's site. In this case the page title was being set to the wrong
>>>> thing.
>>>> So the home page might  have a title tag of search results! It
>>>> was intermittent (but was then cached by a front end caching server!)
>>>>         
>> but
>>     
>>>> was defintiley happening under high load.
>>>>
>>>> I had just enabled All in one SEO plugin, and when I turned it off
>>>>         
>> again,
>>     
>>>> it
>>>> went away.
>>>>
>>>> I think it was going wrong because AIOSEO does whole page buffering and
>>>>         
>> I
>>     
>>>> believed that there might be a threading issue  with specific versions
>>>>         
>> of
>>     
>>>> PHP and output buffering. So that the buffered contents of one request
>>>> were
>>>> returned to the code running a different request. In my case the site
>>>>         
>> was
>>     
>>>> running an out of date version of PHP, and running on Windows.
>>>>
>>>> I see you are not running on Windows, but I think it is worth checking
>>>> these
>>>> two things.
>>>> Are you running a plugin that does lots of output buffering?
>>>> and is your version of PHP up-to-date?
>>>>
>>>> Another thing I would try: When you get a wrong page - save the HTML and
>>>> headers. Then access the page you received directly and save the HTML
>>>>         
>> and
>>     
>>>> headers. Compare the two pairs (possibly ignoring time stamps). If they
>>>> are
>>>> identical, then the error may well be in the template/redirection logic
>>>> within WordPress and it's plugins.
>>>> If they are different, then I would more strongly suspect output
>>>> buffering.
>>>>
>>>>
>>>>
>>>> Hope this helps,
>>>>
>>>>
>>>> Mike
>>>>
>>>>
>>>>         
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>       
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From spellham at gmail.com  Fri Feb  5 19:19:01 2010
From: spellham at gmail.com (Steve Pellham)
Date: Fri, 5 Feb 2010 13:19:01 -0600
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <f38206c91002051106h6115d9fak953c9f0a5738ce3a@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com>
	<88e844b41002040558j345c4803y3cee782936d7f525@mail.gmail.com>
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com>
	<686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com>
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com>
	<f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com>
	<7235ce781002050122x3a4cf877neee02377a131b005@mail.gmail.com>
	<4B6C55D6.6040904@gmail.com>
	<9a39b88d1002051051y316e6cfbv660de292ff2c0f9a@mail.gmail.com>
	<f38206c91002051106h6115d9fak953c9f0a5738ce3a@mail.gmail.com>
Message-ID: <b6a9375d1002051119o3361c099l1d3fa85f41a0d874@mail.gmail.com>

If 'about' didn't exist, it shouldn't have returned a 301 in the wget/log
request where it redirected to the 12 minutes post - it should have returned
a 404, right?

Check the posts table for the post_name of 'about' in the db and see if
there is some type of redirect code or other content/code that is causing
the redirect.  If 'about' truly doesn't exist in the posts db table, then it
could be something else that is causing the redirect.   Your 404 page seems
to return the appropriate status, so this still seems to point to either a
content or plugin issue.   Hopefully nothing malicious, but maybe?

#1 Server Response: http://www.mrsec.com/fdjaklfjdklasfHTTP Status
Code <http://www.seoconsultants.com/tools/headers.asp#status-codes>:
HTTP/1.0 404 Not Found
Date: Fri, 05 Feb 2010 19:17:33 GMT
Server: Apache/2.2.9 (Debian) DAV/2 PHP/5.2.6-1+lenny4 with
Suhosin-Patch mod_ssl/2.2.9 OpenSSL/0.9.8g mod_perl/2.0.4 Perl/v5.10.0
X-Powered-By: PHP/5.2.6-1+lenny4
X-Pingback: http://www.mrsec.com/xmlrpc.php
Expires: Wed, 11 Jan 1984 05:00:00 GMT
Last-Modified: Fri, 05 Feb 2010 19:17:33 GMT
Cache-Control: no-cache, must-revalidate, max-age=0
Pragma: no-cache
Vary: Accept-Encoding
Connection: close
Content-Type: text/html; charset=UTF-8





On Fri, Feb 5, 2010 at 1:06 PM, Jeremi Bergman <jeremib at gmail.com> wrote:

> >
> > In my example, I was able to request (from lwp-request) the URL "/about"
> > and
>
> was served "/story/about-12-minutes-of-good-basketball<
> > http://www.mrsec.com/story/about-12-minutes-of-good-basketball>".
>
>
> "about" is not a valid page, it's about-2.  But I dont know what would be
> redirecting it...
>
>  Jeremi Bergman
> 865-951-5354
>
>
> On Fri, Feb 5, 2010 at 1:51 PM, Dave Viner <dave at vinertech.com> wrote:
>
> > In my example, I was able to request (from lwp-request) the URL "/about"
> > and
> > was served "/story/about-12-minutes-of-good-basketball<
> > http://www.mrsec.com/story/about-12-minutes-of-good-basketball>".
> >  Do you see anything in the rewrite logs for that?  I left the date in
> the
> > email (Date: Fri, 05 Feb 2010 16:50:53 GMT) so that you can track it
> > closely.
> >
> > If not, then we're pretty certainly in the issue of WP making that
> redirect
> > happen.  In which case, it would be helpful to know what plugins you're
> > using and what your permalinks settings are.
> >
> > Dave Viner
> >
> >
> > On Fri, Feb 5, 2010 at 9:31 AM, Shane Chambers <knoxpics at gmail.com>
> wrote:
> >
> > > Mike, Dave,
> > >
> > > PHP is sitting at the newest Debian release, with security patches.
> > >
> > > root at server-new: php --version
> > > PHP 5.2.6-1+lenny4 with Suhosin-Patch 0.9.6.2 (cli) (built: Nov 22 2009
> > > 01:50:58)
> > > Copyright (c) 1997-2008 The PHP Group
> > > Zend Engine v2.2.0, Copyright (c) 1998-2008 Zend Technologies
> > >   with XCache v1.2.2, Copyright (c) 2005-2007, by mOo
> > >   with Suhosin v0.9.27, Copyright (c) 2007, by SektionEins GmbH
> > >
> > > Apache logs the correct request, at least for all the times I've gone
> > > looking at it.  (which is quite a few times)
> > >
> > > I've looked though the rewrite logs, and couldn't find anything
> > conclusive.
> > >  Nothing referencing changing say "tags/vanderbilt" to anything having
> to
> > do
> > > with feed.  (that's why the RewriteLogLevel was set to 9, I wasn't
> seeing
> > > anything at 3, so I bumped it up to max logs)
> > >
> > > The rest is going to have to wait for Jeremi to chime in about.
> > >
> > > Shane
> > >
> > >
> > > Mike Little wrote:
> > >
> > >> Jeremi
> > >>
> > >> A couple of things to check, when the wrong page is delivered, e.g.
> rss
> > >> feed
> > >> instead of about page, what does the apache log record? It will likely
> > be
> > >> difficult to check when the site is busy but looking for a know ip
> > address
> > >> at a specific time will help you tie it down. Does the apache log
> record
> > >> the
> > >> the request was for about or for the feed? If for the about page, then
> > you
> > >> can rule out external, influences. I suspect you have got to that
> stage
> > >> already.
> > >> The next thing is to tie that request in with the rewrite logs  - I
> > think
> > >> Shane has already determined that things look ok.
> > >>
> > >> So you are probably back to something going wrong within WordPress'
> > >> execution chain.
> > >>
> > >> It may be a shot in the dark, but I once had a vaguely similar issue
> > with
> > >> a
> > >> client's site. In this case the page title was being set to the wrong
> > >> thing.
> > >> So the home page might  have a title tag of search results! It
> > >> was intermittent (but was then cached by a front end caching server!)
> > but
> > >> was defintiley happening under high load.
> > >>
> > >> I had just enabled All in one SEO plugin, and when I turned it off
> > again,
> > >> it
> > >> went away.
> > >>
> > >> I think it was going wrong because AIOSEO does whole page buffering
> and
> > I
> > >> believed that there might be a threading issue  with specific versions
> > of
> > >> PHP and output buffering. So that the buffered contents of one request
> > >> were
> > >> returned to the code running a different request. In my case the site
> > was
> > >> running an out of date version of PHP, and running on Windows.
> > >>
> > >> I see you are not running on Windows, but I think it is worth checking
> > >> these
> > >> two things.
> > >> Are you running a plugin that does lots of output buffering?
> > >> and is your version of PHP up-to-date?
> > >>
> > >> Another thing I would try: When you get a wrong page - save the HTML
> and
> > >> headers. Then access the page you received directly and save the HTML
> > and
> > >> headers. Compare the two pairs (possibly ignoring time stamps). If
> they
> > >> are
> > >> identical, then the error may well be in the template/redirection
> logic
> > >> within WordPress and it's plugins.
> > >> If they are different, then I would more strongly suspect output
> > >> buffering.
> > >>
> > >>
> > >>
> > >> Hope this helps,
> > >>
> > >>
> > >> Mike
> > >>
> > >>
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jeremib at gmail.com  Fri Feb  5 19:21:52 2010
From: jeremib at gmail.com (Jeremi Bergman)
Date: Fri, 5 Feb 2010 14:21:52 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <4B6C6E62.7070206@gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com> 
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com> 
	<686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com> 
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com> 
	<f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com> 
	<7235ce781002050122x3a4cf877neee02377a131b005@mail.gmail.com> 
	<4B6C55D6.6040904@gmail.com>
	<9a39b88d1002051051y316e6cfbv660de292ff2c0f9a@mail.gmail.com> 
	<f38206c91002051106h6115d9fak953c9f0a5738ce3a@mail.gmail.com> 
	<4B6C6E62.7070206@gmail.com>
Message-ID: <f38206c91002051121x730535a3q1051ad5263b9c328@mail.gmail.com>

2 of the 3 of us on our end have not experienced this "rss issue" since
yesterday after removing squid.  Can those of you on the list that
experienced the symptom of being served rss data instead of the link, retest
for us (In Firefox).

The About page redirecting is strange, but this is not the original symptom
that led me to post on the list.

Thanks for all your help so far!

Jeremi Bergman
865-951-5354


On Fri, Feb 5, 2010 at 2:15 PM, Shane Chambers <knoxpics at gmail.com> wrote:

>  Here's the rewrite logs from when I ask for the "/about" url;
>
> 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> /var/www/vhosts/mrsec.com/httpdocs/about -> about
> 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern
> '^admin(.*)$' to uri 'about'
> 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> /var/www/vhosts/mrsec.com/httpdocs/about -> about
> 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern '.' to
> uri 'about'
> 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (2) [perdir /var/www/vhosts/mrsec.com/httpdocs/] rewrite 'about' ->
> '/index.php'
> 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (2) [perdir /var/www/vhosts/mrsec.com/httpdocs/] trying to replace prefix
> /var/www/vhosts/mrsec.com/httpdocs/ with /
> 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (1) [perdir /var/www/vhosts/mrsec.com/httpdocs/] internal redirect with
> /index.php [INTERNAL REDIRECT]
> 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [www.mrsec.com/sid#2266900][rid#27e2728/initial/redir#1]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> /var/www/vhosts/mrsec.com/httpdocs/index.php -> index.php
> 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [www.mrsec.com/sid#2266900][rid#27e2728/initial/redir#1]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern
> '^admin(.*)$' to uri 'index.php'
> 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [www.mrsec.com/sid#2266900][rid#27e2728/initial/redir#1]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> /var/www/vhosts/mrsec.com/httpdocs/index.php -> index.php
> 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [www.mrsec.com/sid#2266900][rid#27e2728/initial/redir#1]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern '.' to
> uri 'index.php'
> 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [www.mrsec.com/sid#2266900][rid#27e2728/initial/redir#1]
> (1) [perdir /var/www/vhosts/mrsec.com/httpdocs/] pass through
> /var/www/vhosts/mrsec.com/httpdocs/index.php
> 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] add path info postfix:
> /var/www/vhosts/mrsec.com/httpdocs/story -> /var/www/vhosts/
> mrsec.com/httpdocs/story/about-12-minutes-of-good-basketball
> 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> /var/www/vhosts/
> mrsec.com/httpdocs/story/about-12-minutes-of-good-basketball ->
> story/about-12-minutes-of-good-basketball
> 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern
> '^admin(.*)$' to uri 'story/about-12-minutes-of-good-basketball'
> 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] add path info postfix:
> /var/www/vhosts/mrsec.com/httpdocs/story -> /var/www/vhosts/
> mrsec.com/httpdocs/story/about-12-minutes-of-good-basketball
> 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> /var/www/vhosts/
> mrsec.com/httpdocs/story/about-12-minutes-of-good-basketball ->
> story/about-12-minutes-of-good-basketball
> 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern '.' to
> uri 'story/about-12-minutes-of-good-basketball'
> 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (2) [perdir /var/www/vhosts/mrsec.com/httpdocs/] rewrite
> 'story/about-12-minutes-of-good-basketball' -> '/index.php'
> 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (2) [perdir /var/www/vhosts/mrsec.com/httpdocs/] trying to replace prefix
> /var/www/vhosts/mrsec.com/httpdocs/ with /
> 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> (1) [perdir /var/www/vhosts/mrsec.com/httpdocs/] internal redirect with
> /index.php [INTERNAL REDIRECT]
> 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [www.mrsec.com/sid#2266900][rid#27e5f88/initial/redir#1]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> /var/www/vhosts/mrsec.com/httpdocs/index.php -> index.php
> 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [www.mrsec.com/sid#2266900][rid#27e5f88/initial/redir#1]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern
> '^admin(.*)$' to uri 'index.php'
> 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [www.mrsec.com/sid#2266900][rid#27e5f88/initial/redir#1]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> /var/www/vhosts/mrsec.com/httpdocs/index.php -> index.php
> 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [www.mrsec.com/sid#2266900][rid#27e5f88/initial/redir#1]
> (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern '.' to
> uri 'index.php'
> 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [www.mrsec.com/sid#2266900][rid#27e5f88/initial/redir#1]
> (1) [perdir /var/www/vhosts/mrsec.com/httpdocs/] pass through
> /var/www/vhosts/mrsec.com/httpdocs/index.php
>
>
> Shane
>
> Jeremi Bergman wrote:
>
>  In my example, I was able to request (from lwp-request) the URL "/about"
> and
>
>
>  was served "/story/about-12-minutes-of-good-basketball<
>
>
>  http://www.mrsec.com/story/about-12-minutes-of-good-basketball>".
>
>
>  "about" is not a valid page, it's about-2.  But I dont know what would be
> redirecting it...
>
>  Jeremi Bergman
> 865-951-5354
>
>
> On Fri, Feb 5, 2010 at 1:51 PM, Dave Viner <dave at vinertech.com> <dave at vinertech.com> wrote:
>
>
>
>  In my example, I was able to request (from lwp-request) the URL "/about"
> and
> was served "/story/about-12-minutes-of-good-basketball<
> http://www.mrsec.com/story/about-12-minutes-of-good-basketball> <http://www.mrsec.com/story/about-12-minutes-of-good-basketball>".
>  Do you see anything in the rewrite logs for that?  I left the date in the
> email (Date: Fri, 05 Feb 2010 16:50:53 GMT) so that you can track it
> closely.
>
> If not, then we're pretty certainly in the issue of WP making that redirect
> happen.  In which case, it would be helpful to know what plugins you're
> using and what your permalinks settings are.
>
> Dave Viner
>
>
> On Fri, Feb 5, 2010 at 9:31 AM, Shane Chambers <knoxpics at gmail.com> <knoxpics at gmail.com> wrote:
>
>
>
>  Mike, Dave,
>
> PHP is sitting at the newest Debian release, with security patches.
>
> root at server-new: php --version
> PHP 5.2.6-1+lenny4 with Suhosin-Patch 0.9.6.2 (cli) (built: Nov 22 2009
> 01:50:58)
> Copyright (c) 1997-2008 The PHP Group
> Zend Engine v2.2.0, Copyright (c) 1998-2008 Zend Technologies
>   with XCache v1.2.2, Copyright (c) 2005-2007, by mOo
>   with Suhosin v0.9.27, Copyright (c) 2007, by SektionEins GmbH
>
> Apache logs the correct request, at least for all the times I've gone
> looking at it.  (which is quite a few times)
>
> I've looked though the rewrite logs, and couldn't find anything
>
>
>  conclusive.
>
>
>   Nothing referencing changing say "tags/vanderbilt" to anything having to
>
>
>  do
>
>
>  with feed.  (that's why the RewriteLogLevel was set to 9, I wasn't seeing
> anything at 3, so I bumped it up to max logs)
>
> The rest is going to have to wait for Jeremi to chime in about.
>
> Shane
>
>
> Mike Little wrote:
>
>
>
>  Jeremi
>
> A couple of things to check, when the wrong page is delivered, e.g. rss
> feed
> instead of about page, what does the apache log record? It will likely
>
>
>  be
>
>
>  difficult to check when the site is busy but looking for a know ip
>
>
>  address
>
>
>  at a specific time will help you tie it down. Does the apache log record
> the
> the request was for about or for the feed? If for the about page, then
>
>
>  you
>
>
>  can rule out external, influences. I suspect you have got to that stage
> already.
> The next thing is to tie that request in with the rewrite logs  - I
>
>
>  think
>
>
>  Shane has already determined that things look ok.
>
> So you are probably back to something going wrong within WordPress'
> execution chain.
>
> It may be a shot in the dark, but I once had a vaguely similar issue
>
>
>  with
>
>
>  a
> client's site. In this case the page title was being set to the wrong
> thing.
> So the home page might  have a title tag of search results! It
> was intermittent (but was then cached by a front end caching server!)
>
>
>  but
>
>
>  was defintiley happening under high load.
>
> I had just enabled All in one SEO plugin, and when I turned it off
>
>
>  again,
>
>
>  it
> went away.
>
> I think it was going wrong because AIOSEO does whole page buffering and
>
>
>  I
>
>
>  believed that there might be a threading issue  with specific versions
>
>
>  of
>
>
>  PHP and output buffering. So that the buffered contents of one request
> were
> returned to the code running a different request. In my case the site
>
>
>  was
>
>
>  running an out of date version of PHP, and running on Windows.
>
> I see you are not running on Windows, but I think it is worth checking
> these
> two things.
> Are you running a plugin that does lots of output buffering?
> and is your version of PHP up-to-date?
>
> Another thing I would try: When you get a wrong page - save the HTML and
> headers. Then access the page you received directly and save the HTML
>
>
>  and
>
>
>  headers. Compare the two pairs (possibly ignoring time stamps). If they
> are
> identical, then the error may well be in the template/redirection logic
> within WordPress and it's plugins.
> If they are different, then I would more strongly suspect output
> buffering.
>
>
>
> Hope this helps,
>
>
> Mike
>
>
>
>
>  _______________________________________________
> wp-hackers mailing listwp-hackers at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers
>
>        _______________________________________________
> wp-hackers mailing listwp-hackers at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers
>
>      _______________________________________________
> wp-hackers mailing listwp-hackers at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From jeremib at gmail.com  Fri Feb  5 19:24:05 2010
From: jeremib at gmail.com (Jeremi Bergman)
Date: Fri, 5 Feb 2010 14:24:05 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <b6a9375d1002051119o3361c099l1d3fa85f41a0d874@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com> 
	<7b9e108c1002040608t7adf59cchc75c81543b49b85a@mail.gmail.com> 
	<686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com> 
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com> 
	<f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com> 
	<7235ce781002050122x3a4cf877neee02377a131b005@mail.gmail.com> 
	<4B6C55D6.6040904@gmail.com>
	<9a39b88d1002051051y316e6cfbv660de292ff2c0f9a@mail.gmail.com> 
	<f38206c91002051106h6115d9fak953c9f0a5738ce3a@mail.gmail.com> 
	<b6a9375d1002051119o3361c099l1d3fa85f41a0d874@mail.gmail.com>
Message-ID: <f38206c91002051124v4c94bff1wde286f90d03c9e89@mail.gmail.com>

>
> mysql> select * from wp_posts where post_name = 'about';

+-------+-------------+---------------------+---------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------+---------------+--------------+-------------+----------------+-------------+---------------+-----------+---------+--------+---------------------+---------------------+-----------------------+-------------+-----------------------------+------------+-----------+----------------+---------------+

 | ID    | post_author | post_date           | post_date_gmt       |
> post_content
>
>
>                                          | post_title | post_category |
> post_excerpt | post_status | comment_status | ping_status | post_password |
> post_name | to_ping | pinged | post_modified       | post_modified_gmt   |
> post_content_filtered | post_parent | guid                        |
> menu_order | post_type | post_mime_type | comment_count |

+-------+-------------+---------------------+---------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------+---------------+--------------+-------------+----------------+-------------+---------------+-----------+---------+--------+---------------------+---------------------+-----------------------+-------------+-----------------------------+------------+-----------+----------------+---------------+

 | 82217 |           1 | 2009-10-03 01:19:22 | 2009-10-03 05:19:22 | This is
> an example of a WordPress page, you could edit this to put information about
> yourself or your site so readers know where you are coming from. You can
> create as many pages like this one or sub-pages as you like and manage all
> of your content inside of WordPress. | About      |             0 |
>      | trash       | open           | open        |               | about
>   |         |        | 2010-02-04 08:34:44 | 2010-02-04 13:34:44 |
>             |           0 | http://mrsec.com/?page_id=2 |          0 |
> page      |                |             0 |

+-------+-------------+---------------------+---------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------+---------------+--------------+-------------+----------------+-------------+---------------+-----------+---------+--------+---------------------+---------------------+-----------------------+-------------+-----------------------------+------------+-----------+----------------+---------------+

 1 row in set (0.00 sec)



Let me delete this page and see what happens.

Jeremi Bergman
865-951-5354


On Fri, Feb 5, 2010 at 2:19 PM, Steve Pellham <spellham at gmail.com> wrote:

> If 'about' didn't exist, it shouldn't have returned a 301 in the wget/log
> request where it redirected to the 12 minutes post - it should have
> returned
> a 404, right?
>
> Check the posts table for the post_name of 'about' in the db and see if
> there is some type of redirect code or other content/code that is causing
> the redirect.  If 'about' truly doesn't exist in the posts db table, then
> it
> could be something else that is causing the redirect.   Your 404 page seems
> to return the appropriate status, so this still seems to point to either a
> content or plugin issue.   Hopefully nothing malicious, but maybe?
>
> #1 Server Response: http://www.mrsec.com/fdjaklfjdklasfHTTP Status
> Code <http://www.seoconsultants.com/tools/headers.asp#status-codes>:
> HTTP/1.0 404 Not Found
> Date: Fri, 05 Feb 2010 19:17:33 GMT
> Server: Apache/2.2.9 (Debian) DAV/2 PHP/5.2.6-1+lenny4 with
> Suhosin-Patch mod_ssl/2.2.9 OpenSSL/0.9.8g mod_perl/2.0.4 Perl/v5.10.0
> X-Powered-By: PHP/5.2.6-1+lenny4
> X-Pingback: http://www.mrsec.com/xmlrpc.php
> Expires: Wed, 11 Jan 1984 05:00:00 GMT
> Last-Modified: Fri, 05 Feb 2010 19:17:33 GMT
> Cache-Control: no-cache, must-revalidate, max-age=0
> Pragma: no-cache
> Vary: Accept-Encoding
> Connection: close
> Content-Type: text/html; charset=UTF-8
>
>
>
>
>
> On Fri, Feb 5, 2010 at 1:06 PM, Jeremi Bergman <jeremib at gmail.com> wrote:
>
> > >
> > > In my example, I was able to request (from lwp-request) the URL
> "/about"
> > > and
> >
> > was served "/story/about-12-minutes-of-good-basketball<
> > > http://www.mrsec.com/story/about-12-minutes-of-good-basketball>".
> >
> >
> > "about" is not a valid page, it's about-2.  But I dont know what would be
> > redirecting it...
> >
> >  Jeremi Bergman
> > 865-951-5354
> >
> >
> > On Fri, Feb 5, 2010 at 1:51 PM, Dave Viner <dave at vinertech.com> wrote:
> >
> > > In my example, I was able to request (from lwp-request) the URL
> "/about"
> > > and
> > > was served "/story/about-12-minutes-of-good-basketball<
> > > http://www.mrsec.com/story/about-12-minutes-of-good-basketball>".
> > >  Do you see anything in the rewrite logs for that?  I left the date in
> > the
> > > email (Date: Fri, 05 Feb 2010 16:50:53 GMT) so that you can track it
> > > closely.
> > >
> > > If not, then we're pretty certainly in the issue of WP making that
> > redirect
> > > happen.  In which case, it would be helpful to know what plugins you're
> > > using and what your permalinks settings are.
> > >
> > > Dave Viner
> > >
> > >
> > > On Fri, Feb 5, 2010 at 9:31 AM, Shane Chambers <knoxpics at gmail.com>
> > wrote:
> > >
> > > > Mike, Dave,
> > > >
> > > > PHP is sitting at the newest Debian release, with security patches.
> > > >
> > > > root at server-new: php --version
> > > > PHP 5.2.6-1+lenny4 with Suhosin-Patch 0.9.6.2 (cli) (built: Nov 22
> 2009
> > > > 01:50:58)
> > > > Copyright (c) 1997-2008 The PHP Group
> > > > Zend Engine v2.2.0, Copyright (c) 1998-2008 Zend Technologies
> > > >   with XCache v1.2.2, Copyright (c) 2005-2007, by mOo
> > > >   with Suhosin v0.9.27, Copyright (c) 2007, by SektionEins GmbH
> > > >
> > > > Apache logs the correct request, at least for all the times I've gone
> > > > looking at it.  (which is quite a few times)
> > > >
> > > > I've looked though the rewrite logs, and couldn't find anything
> > > conclusive.
> > > >  Nothing referencing changing say "tags/vanderbilt" to anything
> having
> > to
> > > do
> > > > with feed.  (that's why the RewriteLogLevel was set to 9, I wasn't
> > seeing
> > > > anything at 3, so I bumped it up to max logs)
> > > >
> > > > The rest is going to have to wait for Jeremi to chime in about.
> > > >
> > > > Shane
> > > >
> > > >
> > > > Mike Little wrote:
> > > >
> > > >> Jeremi
> > > >>
> > > >> A couple of things to check, when the wrong page is delivered, e.g.
> > rss
> > > >> feed
> > > >> instead of about page, what does the apache log record? It will
> likely
> > > be
> > > >> difficult to check when the site is busy but looking for a know ip
> > > address
> > > >> at a specific time will help you tie it down. Does the apache log
> > record
> > > >> the
> > > >> the request was for about or for the feed? If for the about page,
> then
> > > you
> > > >> can rule out external, influences. I suspect you have got to that
> > stage
> > > >> already.
> > > >> The next thing is to tie that request in with the rewrite logs  - I
> > > think
> > > >> Shane has already determined that things look ok.
> > > >>
> > > >> So you are probably back to something going wrong within WordPress'
> > > >> execution chain.
> > > >>
> > > >> It may be a shot in the dark, but I once had a vaguely similar issue
> > > with
> > > >> a
> > > >> client's site. In this case the page title was being set to the
> wrong
> > > >> thing.
> > > >> So the home page might  have a title tag of search results! It
> > > >> was intermittent (but was then cached by a front end caching
> server!)
> > > but
> > > >> was defintiley happening under high load.
> > > >>
> > > >> I had just enabled All in one SEO plugin, and when I turned it off
> > > again,
> > > >> it
> > > >> went away.
> > > >>
> > > >> I think it was going wrong because AIOSEO does whole page buffering
> > and
> > > I
> > > >> believed that there might be a threading issue  with specific
> versions
> > > of
> > > >> PHP and output buffering. So that the buffered contents of one
> request
> > > >> were
> > > >> returned to the code running a different request. In my case the
> site
> > > was
> > > >> running an out of date version of PHP, and running on Windows.
> > > >>
> > > >> I see you are not running on Windows, but I think it is worth
> checking
> > > >> these
> > > >> two things.
> > > >> Are you running a plugin that does lots of output buffering?
> > > >> and is your version of PHP up-to-date?
> > > >>
> > > >> Another thing I would try: When you get a wrong page - save the HTML
> > and
> > > >> headers. Then access the page you received directly and save the
> HTML
> > > and
> > > >> headers. Compare the two pairs (possibly ignoring time stamps). If
> > they
> > > >> are
> > > >> identical, then the error may well be in the template/redirection
> > logic
> > > >> within WordPress and it's plugins.
> > > >> If they are different, then I would more strongly suspect output
> > > >> buffering.
> > > >>
> > > >>
> > > >>
> > > >> Hope this helps,
> > > >>
> > > >>
> > > >> Mike
> > > >>
> > > >>
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Fri Feb  5 19:26:10 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 5 Feb 2010 14:26:10 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <f38206c91002051121x730535a3q1051ad5263b9c328@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com> 
	<686d0bd71002040614u289b55ceu536b36d45668bf7@mail.gmail.com> 
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com> 
	<f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com> 
	<7235ce781002050122x3a4cf877neee02377a131b005@mail.gmail.com> 
	<4B6C55D6.6040904@gmail.com>
	<9a39b88d1002051051y316e6cfbv660de292ff2c0f9a@mail.gmail.com> 
	<f38206c91002051106h6115d9fak953c9f0a5738ce3a@mail.gmail.com> 
	<4B6C6E62.7070206@gmail.com>
	<f38206c91002051121x730535a3q1051ad5263b9c328@mail.gmail.com>
Message-ID: <4cc4de141002051126qdc064f4v243ce42de323722e@mail.gmail.com>

>
> The About page redirecting is strange, but this is not the original symptom
> that led me to post on the list.
>

The about redirect is a canonical redirect that WordPress does. Since /about
doesn't exist, WordPress goes hunting for a page seems to be a decent match,
hence why you're getting /story/about-12-minutes-of-good-basketball.

(Sidenote: There has been some discussion whether some canonical redirects
are too liberal: http://core.trac.wordpress.org/ticket/8948.)

From mpretty at voceconnect.com  Fri Feb  5 19:26:38 2010
From: mpretty at voceconnect.com (Michael Pretty)
Date: Fri, 05 Feb 2010 14:26:38 -0500
Subject: [wp-hackers] Best practice for archives of custom post types
In-Reply-To: <03e2a10a59161d9ac459e0616203e98c.squirrel@webmail.dunae.ca>
References: <03e2a10a59161d9ac459e0616203e98c.squirrel@webmail.dunae.ca>
Message-ID: <4B6C70EE.6030301@voceconnect.com>

You need to somehow pass in the 'post_type' query_var through the URL.  
You can do this by either directly adding post_type=my_post_type to the 
query string of url for a normal archive page, or adding a rewrite rule 
that turns example.com/my-post-type/ to example.com/?post_type=my_post_type.

If you want some examples of more complex handling for the archive 
pages, I just finished the beta version of a plugin today that 
automatically adds rewrite rules for custom post_types:  
http://vocecommunications.com/services/web-development/wordpress/plugins/cms-press/.  
Check out the add_rewrite_rules() method in 
/cp-custom-content/cp-custom-content-handler-base.php.

Michael Pretty
@prettyboymp

On 2/5/10 1:44 PM, Alex Dunae wrote:
> I'm really enjoying the custom post types in WP 3.0, but I can seem to
> find a sensible way to display an archive-style (or index) page for a
> specific post_type.  Is there a best practice for this without hacking
> around with the query?
>
> Alex
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    


From jeremib at gmail.com  Fri Feb  5 19:30:26 2010
From: jeremib at gmail.com (Jeremi Bergman)
Date: Fri, 5 Feb 2010 14:30:26 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <4cc4de141002051126qdc064f4v243ce42de323722e@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com> 
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com> 
	<f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com> 
	<7235ce781002050122x3a4cf877neee02377a131b005@mail.gmail.com> 
	<4B6C55D6.6040904@gmail.com>
	<9a39b88d1002051051y316e6cfbv660de292ff2c0f9a@mail.gmail.com> 
	<f38206c91002051106h6115d9fak953c9f0a5738ce3a@mail.gmail.com> 
	<4B6C6E62.7070206@gmail.com>
	<f38206c91002051121x730535a3q1051ad5263b9c328@mail.gmail.com> 
	<4cc4de141002051126qdc064f4v243ce42de323722e@mail.gmail.com>
Message-ID: <f38206c91002051130m407c8843ne32e798dfb92e3b5@mail.gmail.com>

Thanks for this information, that is good to know!



Jeremi Bergman
865-951-5354


On Fri, Feb 5, 2010 at 2:26 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> >
> > The About page redirecting is strange, but this is not the original
> symptom
> > that led me to post on the list.
> >
>
> The about redirect is a canonical redirect that WordPress does. Since
> /about
> doesn't exist, WordPress goes hunting for a page seems to be a decent
> match,
> hence why you're getting /story/about-12-minutes-of-good-basketball.
>
> (Sidenote: There has been some discussion whether some canonical redirects
> are too liberal: http://core.trac.wordpress.org/ticket/8948.)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From photofantaisie at gmail.com  Fri Feb  5 20:15:47 2010
From: photofantaisie at gmail.com (Ade Walker)
Date: Fri, 5 Feb 2010 21:15:47 +0100
Subject: [wp-hackers] Plugins: Best practice for conditional loading of
	actions and file includes
Message-ID: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com>

Hi all,

This is not so much a support-type question, rather a question on best
practice concerning a specific aspect of plugin coding.

I use conditional is_admin() checks to determine whether the various PHP
files that make up my plugin should be loaded or not. For example, so that
"admin" files, eg settings pages etc, are only included by the main plugin
file if is_admin() is true. Of course, this works fine and as expected.

On the other hand, all of the hooks used by the plugin are declared in the
main plugin file - but are not wrapped in any is_admin() conditional checks.
This results in a situation where, when is_admin() is false, an "admin"
related hook, eg admin_menu, references a callback function which is defined
in a file which is not included (thanks to the conditional check mentioned
above). Normally, this doesn't throw any WP or PHP errors.

However, I've noticed that errors can be produced if another plugin makes a
direct call to wp-load.php. For example, Kimili FlashEmbed and other plugins
which launch a Add Media-type popup screen. In this case, my plugin
generates call_user_func_array errors, referencing my "orphaned" callback
functions, in the other plugins' popup screens.

Wrapping my hooks in is_admin() checks cures this problem, but it got me
thinking - why are the errors thrown only by the other plugins? Was I wrong
not to use conditionals to load the hooks? (With hindsight, probably, yes.)
Or is there something wrong in the way the other plugins are using
wp-load.php instead of some other method? Or both? :-)

Thanks for any thoughts on this.

Ade.

From otto at ottodestruct.com  Fri Feb  5 20:48:24 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 5 Feb 2010 14:48:24 -0600
Subject: [wp-hackers] Plugins: Best practice for conditional loading of
	actions and file includes
In-Reply-To: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com>
Message-ID: <161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com>

On Fri, Feb 5, 2010 at 2:15 PM, Ade Walker <photofantaisie at gmail.com> wrote:
> On the other hand, all of the hooks used by the plugin are declared in the
> main plugin file - but are not wrapped in any is_admin() conditional checks.
> This results in a situation where, when is_admin() is false, an "admin"
> related hook, eg admin_menu, references a callback function which is defined
> in a file which is not included (thanks to the conditional check mentioned
> above).

It's bad practice to define a hook when you're not defining the
function that the hook points to. So generally, your hook and your
function definition should be located together.

If you're using is_admin to do conditional file includes, then the
hooks should be in those files too. Preferably right above or below
the functions they are hooking, instead of clumped together. This way,
they'll get defined at the same time, eliminating your issue. Also,
somebody looking at the function will know where it gets hooked into,
increasing readability.

So, best practice: Keep hooks near the functions they are hooking. If
you don't like the way that looks, then at least keep them in the same
file.

> Wrapping my hooks in is_admin() checks cures this problem, but it got me
> thinking - why are the errors thrown only by the other plugins?

Plugins that call wp-load directly don't necessarily get the WP_ADMIN
defined, and so is_admin will be false. However, they can still call
anything they like, whether they're in admin or not.

> Or is there something wrong in the way the other plugins are using
> wp-load.php instead of some other method? Or both? :-)

Both, actually. No plugin should *ever* load wp-load directly. It's
never, ever, necessary; it's sloppy programming style; and it's bad
practice. However, it is often quick and easy to understand for some
authors, so it does happen a fair amount. Still, it shouldn't be
there, and any plugin you find with it should be fixed to not require
it any more.

Feel free to pass anybody you find doing this my email, and I'll tell
them how to fix their plugin. :)

-Otto
Sent from Memphis, TN, United States

From otto at ottodestruct.com  Fri Feb  5 21:14:10 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 5 Feb 2010 15:14:10 -0600
Subject: [wp-hackers] Best practice for archives of custom post types
In-Reply-To: <4B6C70EE.6030301@voceconnect.com>
References: <03e2a10a59161d9ac459e0616203e98c.squirrel@webmail.dunae.ca> 
	<4B6C70EE.6030301@voceconnect.com>
Message-ID: <161617691002051314g65b664fek44b422c78dc10ac7@mail.gmail.com>

On Fri, Feb 5, 2010 at 1:26 PM, Michael Pretty <mpretty at voceconnect.com> wrote:
> You need to somehow pass in the 'post_type' query_var through the URL. ?You
> can do this by either directly adding post_type=my_post_type to the query
> string of url ...

No, post_type isn't one of the public_query_vars, so you can't add it
to a URL without special code to allow it. You basically do this by
adding a filter to the 'query_vars'.

On the other hand, if you simply use register_post_type() to register
your new type, then this sort of thing gets all taken care of for you.
query vars, rewrites, permastructs, everything.

-Otto
Sent from Memphis, TN, United States

From singh.gabu at gmail.com  Fri Feb  5 21:29:36 2010
From: singh.gabu at gmail.com (pradipta sinha)
Date: Sat, 6 Feb 2010 02:59:36 +0530
Subject: [wp-hackers] wp-hackers Digest, Vol 61, Issue 18
In-Reply-To: <mailman.835.1265398002.1345.wp-hackers@lists.automattic.com>
References: <mailman.835.1265398002.1345.wp-hackers@lists.automattic.com>
Message-ID: <13eb5f331002051329j155f14f4k443960b04d1a6d45@mail.gmail.com>

Hello ,
I am working on a classified wordpress script,
http://botoxpatient.com/development/,

I want to add coupon code to my user when they post a new ads ?

Is that possible ..??

Actually I am not a so experience guy, Need your detailed help here,

Thanks for all your help so far!
Ajaxee[91+9474814625]






On Sat, Feb 6, 2010 at 12:56 AM, <wp-hackers-request at lists.automattic.com>wrote:

> Send wp-hackers mailing list submissions to
>        wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
>        wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
>        wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
> Today's Topics:
>
>   1. Re: Need Help, I cannot figure this out. (Jeremi Bergman)
>   2. Re: Need Help, I cannot figure this out. (Jeremi Bergman)
>   3. Re: Need Help, I cannot figure this out. (Andrew Nacin)
>
>
> ---------- Forwarded message ----------
> From: Jeremi Bergman <jeremib at gmail.com>
> To: wp-hackers at lists.automattic.com
> Date: Fri, 5 Feb 2010 14:21:52 -0500
> Subject: Re: [wp-hackers] Need Help, I cannot figure this out.
> 2 of the 3 of us on our end have not experienced this "rss issue" since
> yesterday after removing squid.  Can those of you on the list that
> experienced the symptom of being served rss data instead of the link,
> retest
> for us (In Firefox).
>
> The About page redirecting is strange, but this is not the original symptom
> that led me to post on the list.
>
> Thanks for all your help so far!
>
> Jeremi Bergman
> 865-951-5354
>
>
> On Fri, Feb 5, 2010 at 2:15 PM, Shane Chambers <knoxpics at gmail.com> wrote:
>
> >  Here's the rewrite logs from when I ask for the "/about" url;
> >
> > 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> > /var/www/vhosts/mrsec.com/httpdocs/about -> about
> > 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern
> > '^admin(.*)$' to uri 'about'
> > 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> > /var/www/vhosts/mrsec.com/httpdocs/about -> about
> > 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern '.' to
> > uri 'about'
> > 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (2) [perdir /var/www/vhosts/mrsec.com/httpdocs/] rewrite 'about' ->
> > '/index.php'
> > 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (2) [perdir /var/www/vhosts/mrsec.com/httpdocs/] trying to replace
> prefix
> > /var/www/vhosts/mrsec.com/httpdocs/ with /
> > 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (1) [perdir /var/www/vhosts/mrsec.com/httpdocs/] internal redirect with
> > /index.php [INTERNAL REDIRECT]
> > 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [
> www.mrsec.com/sid#2266900][rid#27e2728/initial/redir#1]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> > /var/www/vhosts/mrsec.com/httpdocs/index.php -> index.php
> > 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [
> www.mrsec.com/sid#2266900][rid#27e2728/initial/redir#1]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern
> > '^admin(.*)$' to uri 'index.php'
> > 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [
> www.mrsec.com/sid#2266900][rid#27e2728/initial/redir#1]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> > /var/www/vhosts/mrsec.com/httpdocs/index.php -> index.php
> > 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [
> www.mrsec.com/sid#2266900][rid#27e2728/initial/redir#1]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern '.' to
> > uri 'index.php'
> > 74.93.48.82 - - [05/Feb/2010:14:13:42 --0500] [
> www.mrsec.com/sid#2266900][rid#27e2728/initial/redir#1]
> > (1) [perdir /var/www/vhosts/mrsec.com/httpdocs/] pass through
> > /var/www/vhosts/mrsec.com/httpdocs/index.php
> > 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] add path info postfix:
> > /var/www/vhosts/mrsec.com/httpdocs/story -> /var/www/vhosts/
> > mrsec.com/httpdocs/story/about-12-minutes-of-good-basketball
> > 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> > /var/www/vhosts/
> > mrsec.com/httpdocs/story/about-12-minutes-of-good-basketball ->
> > story/about-12-minutes-of-good-basketball
> > 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern
> > '^admin(.*)$' to uri 'story/about-12-minutes-of-good-basketball'
> > 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] add path info postfix:
> > /var/www/vhosts/mrsec.com/httpdocs/story -> /var/www/vhosts/
> > mrsec.com/httpdocs/story/about-12-minutes-of-good-basketball
> > 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> > /var/www/vhosts/
> > mrsec.com/httpdocs/story/about-12-minutes-of-good-basketball ->
> > story/about-12-minutes-of-good-basketball
> > 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern '.' to
> > uri 'story/about-12-minutes-of-good-basketball'
> > 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (2) [perdir /var/www/vhosts/mrsec.com/httpdocs/] rewrite
> > 'story/about-12-minutes-of-good-basketball' -> '/index.php'
> > 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (2) [perdir /var/www/vhosts/mrsec.com/httpdocs/] trying to replace
> prefix
> > /var/www/vhosts/mrsec.com/httpdocs/ with /
> > 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [
> www.mrsec.com/sid#2266900][rid#27d9a68/initial]
> > (1) [perdir /var/www/vhosts/mrsec.com/httpdocs/] internal redirect with
> > /index.php [INTERNAL REDIRECT]
> > 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [
> www.mrsec.com/sid#2266900][rid#27e5f88/initial/redir#1]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> > /var/www/vhosts/mrsec.com/httpdocs/index.php -> index.php
> > 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [
> www.mrsec.com/sid#2266900][rid#27e5f88/initial/redir#1]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern
> > '^admin(.*)$' to uri 'index.php'
> > 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [
> www.mrsec.com/sid#2266900][rid#27e5f88/initial/redir#1]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] strip per-dir prefix:
> > /var/www/vhosts/mrsec.com/httpdocs/index.php -> index.php
> > 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [
> www.mrsec.com/sid#2266900][rid#27e5f88/initial/redir#1]
> > (3) [perdir /var/www/vhosts/mrsec.com/httpdocs/] applying pattern '.' to
> > uri 'index.php'
> > 74.93.48.82 - - [05/Feb/2010:14:13:43 --0500] [
> www.mrsec.com/sid#2266900][rid#27e5f88/initial/redir#1]
> > (1) [perdir /var/www/vhosts/mrsec.com/httpdocs/] pass through
> > /var/www/vhosts/mrsec.com/httpdocs/index.php
> >
> >
> > Shane
> >
> > Jeremi Bergman wrote:
> >
> >  In my example, I was able to request (from lwp-request) the URL "/about"
> > and
> >
> >
> >  was served "/story/about-12-minutes-of-good-basketball<
> >
> >
> >  http://www.mrsec.com/story/about-12-minutes-of-good-basketball>".
> >
> >
> >  "about" is not a valid page, it's about-2.  But I dont know what would
> be
> > redirecting it...
> >
> >  Jeremi Bergman
> > 865-951-5354
> >
> >
> > On Fri, Feb 5, 2010 at 1:51 PM, Dave Viner <dave at vinertech.com> <
> dave at vinertech.com> wrote:
> >
> >
> >
> >  In my example, I was able to request (from lwp-request) the URL "/about"
> > and
> > was served "/story/about-12-minutes-of-good-basketball<
> > http://www.mrsec.com/story/about-12-minutes-of-good-basketball> <
> http://www.mrsec.com/story/about-12-minutes-of-good-basketball>".
> >  Do you see anything in the rewrite logs for that?  I left the date in
> the
> > email (Date: Fri, 05 Feb 2010 16:50:53 GMT) so that you can track it
> > closely.
> >
> > If not, then we're pretty certainly in the issue of WP making that
> redirect
> > happen.  In which case, it would be helpful to know what plugins you're
> > using and what your permalinks settings are.
> >
> > Dave Viner
> >
> >
> > On Fri, Feb 5, 2010 at 9:31 AM, Shane Chambers <knoxpics at gmail.com> <
> knoxpics at gmail.com> wrote:
> >
> >
> >
> >  Mike, Dave,
> >
> > PHP is sitting at the newest Debian release, with security patches.
> >
> > root at server-new: php --version
> > PHP 5.2.6-1+lenny4 with Suhosin-Patch 0.9.6.2 (cli) (built: Nov 22 2009
> > 01:50:58)
> > Copyright (c) 1997-2008 The PHP Group
> > Zend Engine v2.2.0, Copyright (c) 1998-2008 Zend Technologies
> >   with XCache v1.2.2, Copyright (c) 2005-2007, by mOo
> >   with Suhosin v0.9.27, Copyright (c) 2007, by SektionEins GmbH
> >
> > Apache logs the correct request, at least for all the times I've gone
> > looking at it.  (which is quite a few times)
> >
> > I've looked though the rewrite logs, and couldn't find anything
> >
> >
> >  conclusive.
> >
> >
> >   Nothing referencing changing say "tags/vanderbilt" to anything having
> to
> >
> >
> >  do
> >
> >
> >  with feed.  (that's why the RewriteLogLevel was set to 9, I wasn't
> seeing
> > anything at 3, so I bumped it up to max logs)
> >
> > The rest is going to have to wait for Jeremi to chime in about.
> >
> > Shane
> >
> >
> > Mike Little wrote:
> >
> >
> >
> >  Jeremi
> >
> > A couple of things to check, when the wrong page is delivered, e.g. rss
> > feed
> > instead of about page, what does the apache log record? It will likely
> >
> >
> >  be
> >
> >
> >  difficult to check when the site is busy but looking for a know ip
> >
> >
> >  address
> >
> >
> >  at a specific time will help you tie it down. Does the apache log record
> > the
> > the request was for about or for the feed? If for the about page, then
> >
> >
> >  you
> >
> >
> >  can rule out external, influences. I suspect you have got to that stage
> > already.
> > The next thing is to tie that request in with the rewrite logs  - I
> >
> >
> >  think
> >
> >
> >  Shane has already determined that things look ok.
> >
> > So you are probably back to something going wrong within WordPress'
> > execution chain.
> >
> > It may be a shot in the dark, but I once had a vaguely similar issue
> >
> >
> >  with
> >
> >
> >  a
> > client's site. In this case the page title was being set to the wrong
> > thing.
> > So the home page might  have a title tag of search results! It
> > was intermittent (but was then cached by a front end caching server!)
> >
> >
> >  but
> >
> >
> >  was defintiley happening under high load.
> >
> > I had just enabled All in one SEO plugin, and when I turned it off
> >
> >
> >  again,
> >
> >
> >  it
> > went away.
> >
> > I think it was going wrong because AIOSEO does whole page buffering and
> >
> >
> >  I
> >
> >
> >  believed that there might be a threading issue  with specific versions
> >
> >
> >  of
> >
> >
> >  PHP and output buffering. So that the buffered contents of one request
> > were
> > returned to the code running a different request. In my case the site
> >
> >
> >  was
> >
> >
> >  running an out of date version of PHP, and running on Windows.
> >
> > I see you are not running on Windows, but I think it is worth checking
> > these
> > two things.
> > Are you running a plugin that does lots of output buffering?
> > and is your version of PHP up-to-date?
> >
> > Another thing I would try: When you get a wrong page - save the HTML and
> > headers. Then access the page you received directly and save the HTML
> >
> >
> >  and
> >
> >
> >  headers. Compare the two pairs (possibly ignoring time stamps). If they
> > are
> > identical, then the error may well be in the template/redirection logic
> > within WordPress and it's plugins.
> > If they are different, then I would more strongly suspect output
> > buffering.
> >
> >
> >
> > Hope this helps,
> >
> >
> > Mike
> >
> >
> >
> >
> >  _______________________________________________
> > wp-hackers mailing listwp-hackers at lists.automattic.comhttp://
> lists.automattic.com/mailman/listinfo/wp-hackers
> >
> >        _______________________________________________
> > wp-hackers mailing listwp-hackers at lists.automattic.comhttp://
> lists.automattic.com/mailman/listinfo/wp-hackers
> >
> >      _______________________________________________
> > wp-hackers mailing listwp-hackers at lists.automattic.comhttp://
> lists.automattic.com/mailman/listinfo/wp-hackers
> >
> >
>
>
>
> ---------- Forwarded message ----------
> From: Jeremi Bergman <jeremib at gmail.com>
> To: wp-hackers at lists.automattic.com
> Date: Fri, 5 Feb 2010 14:24:05 -0500
> Subject: Re: [wp-hackers] Need Help, I cannot figure this out.
> >
> > mysql> select * from wp_posts where post_name = 'about';
>
>
> +-------+-------------+---------------------+---------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------+---------------+--------------+-------------+----------------+-------------+---------------+-----------+---------+--------+---------------------+---------------------+-----------------------+-------------+-----------------------------+------------+-----------+----------------+---------------+
>
>  | ID    | post_author | post_date           | post_date_gmt       |
> > post_content
> >
> >
> >                                          | post_title | post_category |
> > post_excerpt | post_status | comment_status | ping_status | post_password
> |
> > post_name | to_ping | pinged | post_modified       | post_modified_gmt
> |
> > post_content_filtered | post_parent | guid                        |
> > menu_order | post_type | post_mime_type | comment_count |
>
>
> +-------+-------------+---------------------+---------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------+---------------+--------------+-------------+----------------+-------------+---------------+-----------+---------+--------+---------------------+---------------------+-----------------------+-------------+-----------------------------+------------+-----------+----------------+---------------+
>
>  | 82217 |           1 | 2009-10-03 01:19:22 | 2009-10-03 05:19:22 | This
> is
> > an example of a WordPress page, you could edit this to put information
> about
> > yourself or your site so readers know where you are coming from. You can
> > create as many pages like this one or sub-pages as you like and manage
> all
> > of your content inside of WordPress. | About      |             0 |
> >      | trash       | open           | open        |               | about
> >   |         |        | 2010-02-04 08:34:44 | 2010-02-04 13:34:44 |
> >             |           0 | http://mrsec.com/?page_id=2 |          0 |
> > page      |                |             0 |
>
>
> +-------+-------------+---------------------+---------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------+---------------+--------------+-------------+----------------+-------------+---------------+-----------+---------+--------+---------------------+---------------------+-----------------------+-------------+-----------------------------+------------+-----------+----------------+---------------+
>
>  1 row in set (0.00 sec)
>
>
>
> Let me delete this page and see what happens.
>
> Jeremi Bergman
> 865-951-5354
>
>
> On Fri, Feb 5, 2010 at 2:19 PM, Steve Pellham <spellham at gmail.com> wrote:
>
> > If 'about' didn't exist, it shouldn't have returned a 301 in the wget/log
> > request where it redirected to the 12 minutes post - it should have
> > returned
> > a 404, right?
> >
> > Check the posts table for the post_name of 'about' in the db and see if
> > there is some type of redirect code or other content/code that is causing
> > the redirect.  If 'about' truly doesn't exist in the posts db table, then
> > it
> > could be something else that is causing the redirect.   Your 404 page
> seems
> > to return the appropriate status, so this still seems to point to either
> a
> > content or plugin issue.   Hopefully nothing malicious, but maybe?
> >
> > #1 Server Response: http://www.mrsec.com/fdjaklfjdklasfHTTP Status
> > Code <http://www.seoconsultants.com/tools/headers.asp#status-codes>:
> > HTTP/1.0 404 Not Found
> > Date: Fri, 05 Feb 2010 19:17:33 GMT
> > Server: Apache/2.2.9 (Debian) DAV/2 PHP/5.2.6-1+lenny4 with
> > Suhosin-Patch mod_ssl/2.2.9 OpenSSL/0.9.8g mod_perl/2.0.4 Perl/v5.10.0
> > X-Powered-By: PHP/5.2.6-1+lenny4
> > X-Pingback: http://www.mrsec.com/xmlrpc.php
> > Expires: Wed, 11 Jan 1984 05:00:00 GMT
> > Last-Modified: Fri, 05 Feb 2010 19:17:33 GMT
> > Cache-Control: no-cache, must-revalidate, max-age=0
> > Pragma: no-cache
> > Vary: Accept-Encoding
> > Connection: close
> > Content-Type: text/html; charset=UTF-8
> >
> >
> >
> >
> >
> > On Fri, Feb 5, 2010 at 1:06 PM, Jeremi Bergman <jeremib at gmail.com>
> wrote:
> >
> > > >
> > > > In my example, I was able to request (from lwp-request) the URL
> > "/about"
> > > > and
> > >
> > > was served "/story/about-12-minutes-of-good-basketball<
> > > > http://www.mrsec.com/story/about-12-minutes-of-good-basketball>".
> > >
> > >
> > > "about" is not a valid page, it's about-2.  But I dont know what would
> be
> > > redirecting it...
> > >
> > >  Jeremi Bergman
> > > 865-951-5354
> > >
> > >
> > > On Fri, Feb 5, 2010 at 1:51 PM, Dave Viner <dave at vinertech.com> wrote:
> > >
> > > > In my example, I was able to request (from lwp-request) the URL
> > "/about"
> > > > and
> > > > was served "/story/about-12-minutes-of-good-basketball<
> > > > http://www.mrsec.com/story/about-12-minutes-of-good-basketball>".
> > > >  Do you see anything in the rewrite logs for that?  I left the date
> in
> > > the
> > > > email (Date: Fri, 05 Feb 2010 16:50:53 GMT) so that you can track it
> > > > closely.
> > > >
> > > > If not, then we're pretty certainly in the issue of WP making that
> > > redirect
> > > > happen.  In which case, it would be helpful to know what plugins
> you're
> > > > using and what your permalinks settings are.
> > > >
> > > > Dave Viner
> > > >
> > > >
> > > > On Fri, Feb 5, 2010 at 9:31 AM, Shane Chambers <knoxpics at gmail.com>
> > > wrote:
> > > >
> > > > > Mike, Dave,
> > > > >
> > > > > PHP is sitting at the newest Debian release, with security patches.
> > > > >
> > > > > root at server-new: php --version
> > > > > PHP 5.2.6-1+lenny4 with Suhosin-Patch 0.9.6.2 (cli) (built: Nov 22
> > 2009
> > > > > 01:50:58)
> > > > > Copyright (c) 1997-2008 The PHP Group
> > > > > Zend Engine v2.2.0, Copyright (c) 1998-2008 Zend Technologies
> > > > >   with XCache v1.2.2, Copyright (c) 2005-2007, by mOo
> > > > >   with Suhosin v0.9.27, Copyright (c) 2007, by SektionEins GmbH
> > > > >
> > > > > Apache logs the correct request, at least for all the times I've
> gone
> > > > > looking at it.  (which is quite a few times)
> > > > >
> > > > > I've looked though the rewrite logs, and couldn't find anything
> > > > conclusive.
> > > > >  Nothing referencing changing say "tags/vanderbilt" to anything
> > having
> > > to
> > > > do
> > > > > with feed.  (that's why the RewriteLogLevel was set to 9, I wasn't
> > > seeing
> > > > > anything at 3, so I bumped it up to max logs)
> > > > >
> > > > > The rest is going to have to wait for Jeremi to chime in about.
> > > > >
> > > > > Shane
> > > > >
> > > > >
> > > > > Mike Little wrote:
> > > > >
> > > > >> Jeremi
> > > > >>
> > > > >> A couple of things to check, when the wrong page is delivered,
> e.g.
> > > rss
> > > > >> feed
> > > > >> instead of about page, what does the apache log record? It will
> > likely
> > > > be
> > > > >> difficult to check when the site is busy but looking for a know ip
> > > > address
> > > > >> at a specific time will help you tie it down. Does the apache log
> > > record
> > > > >> the
> > > > >> the request was for about or for the feed? If for the about page,
> > then
> > > > you
> > > > >> can rule out external, influences. I suspect you have got to that
> > > stage
> > > > >> already.
> > > > >> The next thing is to tie that request in with the rewrite logs  -
> I
> > > > think
> > > > >> Shane has already determined that things look ok.
> > > > >>
> > > > >> So you are probably back to something going wrong within
> WordPress'
> > > > >> execution chain.
> > > > >>
> > > > >> It may be a shot in the dark, but I once had a vaguely similar
> issue
> > > > with
> > > > >> a
> > > > >> client's site. In this case the page title was being set to the
> > wrong
> > > > >> thing.
> > > > >> So the home page might  have a title tag of search results! It
> > > > >> was intermittent (but was then cached by a front end caching
> > server!)
> > > > but
> > > > >> was defintiley happening under high load.
> > > > >>
> > > > >> I had just enabled All in one SEO plugin, and when I turned it off
> > > > again,
> > > > >> it
> > > > >> went away.
> > > > >>
> > > > >> I think it was going wrong because AIOSEO does whole page
> buffering
> > > and
> > > > I
> > > > >> believed that there might be a threading issue  with specific
> > versions
> > > > of
> > > > >> PHP and output buffering. So that the buffered contents of one
> > request
> > > > >> were
> > > > >> returned to the code running a different request. In my case the
> > site
> > > > was
> > > > >> running an out of date version of PHP, and running on Windows.
> > > > >>
> > > > >> I see you are not running on Windows, but I think it is worth
> > checking
> > > > >> these
> > > > >> two things.
> > > > >> Are you running a plugin that does lots of output buffering?
> > > > >> and is your version of PHP up-to-date?
> > > > >>
> > > > >> Another thing I would try: When you get a wrong page - save the
> HTML
> > > and
> > > > >> headers. Then access the page you received directly and save the
> > HTML
> > > > and
> > > > >> headers. Compare the two pairs (possibly ignoring time stamps). If
> > > they
> > > > >> are
> > > > >> identical, then the error may well be in the template/redirection
> > > logic
> > > > >> within WordPress and it's plugins.
> > > > >> If they are different, then I would more strongly suspect output
> > > > >> buffering.
> > > > >>
> > > > >>
> > > > >>
> > > > >> Hope this helps,
> > > > >>
> > > > >>
> > > > >> Mike
> > > > >>
> > > > >>
> > > > > _______________________________________________
> > > > > wp-hackers mailing list
> > > > > wp-hackers at lists.automattic.com
> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> ---------- Forwarded message ----------
> From: Andrew Nacin <wp at andrewnacin.com>
> To: wp-hackers at lists.automattic.com
> Date: Fri, 5 Feb 2010 14:26:10 -0500
> Subject: Re: [wp-hackers] Need Help, I cannot figure this out.
> >
> > The About page redirecting is strange, but this is not the original
> symptom
> > that led me to post on the list.
> >
>
> The about redirect is a canonical redirect that WordPress does. Since
> /about
> doesn't exist, WordPress goes hunting for a page seems to be a decent
> match,
> hence why you're getting /story/about-12-minutes-of-good-basketball.
>
> (Sidenote: There has been some discussion whether some canonical redirects
> are too liberal: http://core.trac.wordpress.org/ticket/8948.)
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From mpretty at voceconnect.com  Fri Feb  5 21:31:27 2010
From: mpretty at voceconnect.com (Michael Pretty)
Date: Fri, 05 Feb 2010 16:31:27 -0500
Subject: [wp-hackers] Best practice for archives of custom post types
In-Reply-To: <161617691002051314g65b664fek44b422c78dc10ac7@mail.gmail.com>
References: <03e2a10a59161d9ac459e0616203e98c.squirrel@webmail.dunae.ca>
	<4B6C70EE.6030301@voceconnect.com>
	<161617691002051314g65b664fek44b422c78dc10ac7@mail.gmail.com>
Message-ID: <4B6C8E2F.409@voceconnect.com>


> No, post_type isn't one of the public_query_vars, so you can't add it
> to a URL without special code to allow it. You basically do this by
> adding a filter to the 'query_vars'.
>
> On the other hand, if you simply use register_post_type() to register
> your new type, then this sort of thing gets all taken care of for you.
> query vars, rewrites, permastructs, everything.
>
>    
As of http://core.trac.wordpress.org/changeset/12923, post_type is a 
public query_var by default, though it filters to only allow registered 
post_types that are publicly queryable.  I'm not positive, but I'm 
pretty sure that register_post_type only sets up a rewrite rule for 
/%post_type%/%post_name%/ and doesn't set one up that would allow an 
archive listing of the post_type.  So you would need to set this up 
yourself.

Michael Pretty
@prettyboymp

From photofantaisie at gmail.com  Fri Feb  5 21:32:15 2010
From: photofantaisie at gmail.com (Ade Walker)
Date: Fri, 5 Feb 2010 22:32:15 +0100
Subject: [wp-hackers] Plugins: Best practice for conditional loading of
	actions and file includes
In-Reply-To: <161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com>
	<161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com>
Message-ID: <9dd057851002051332p685c043cqfa663ab44e49820e@mail.gmail.com>

Great reply, Otto. Exactly what I was looking for.

Thanks! :-)

2010/2/5 Otto <otto at ottodestruct.com>

From knoxpics at gmail.com  Fri Feb  5 21:39:57 2010
From: knoxpics at gmail.com (Shane Chambers)
Date: Fri, 05 Feb 2010 16:39:57 -0500
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <f38206c91002051130m407c8843ne32e798dfb92e3b5@mail.gmail.com>
References: <f38206c91002040551o53997277p8837a02de9840396@mail.gmail.com>
	<3c932fe31002040700l3fd8b53bq39262b6d6dc5c7bb@mail.gmail.com>
	<f38206c91002040807g144efc84tfe70757d3339341c@mail.gmail.com>
	<7235ce781002050122x3a4cf877neee02377a131b005@mail.gmail.com>
	<4B6C55D6.6040904@gmail.com>	<9a39b88d1002051051y316e6cfbv660de292ff2c0f9a@mail.gmail.com>
	<f38206c91002051106h6115d9fak953c9f0a5738ce3a@mail.gmail.com>
	<4B6C6E62.7070206@gmail.com>	<f38206c91002051121x730535a3q1051ad5263b9c328@mail.gmail.com>
	<4cc4de141002051126qdc064f4v243ce42de323722e@mail.gmail.com>
	<f38206c91002051130m407c8843ne32e798dfb92e3b5@mail.gmail.com>
Message-ID: <4B6C902D.9040004@gmail.com>

Here's an odd update.  I've now got a script going that pulls down a 
page every three seconds.  It's caught three errors over the last hour 
or so.  No matter what page is being asked for, when it screws up it 
always comes back with the same page.

http://www.mrsec.com/tags/Georgia

<?xml version="1.0" encoding="UTF-8"?><rss version="2.0" 
xmlns:content="http://purl.org/rss/1.0/modules/content/" 
xmlns:dc="http://purl.org/dc/elements/1.1/" 
xmlns:atom="http://www.w3.org/2005/Atom" 
xmlns:sy="http://purl.org/rss/1.0/modules/syndication/" > <channel> 
<title>Comments on: Video Game Lawsuits Could Be A Big Problem For The 
NCAA</title> <atom:link 
href="http://www.mrsec.com/story/video-game-lawsuits-could-be-a-big-problem-for-the-ncaa/feed" 
rel="self" type="application/rss+xml" /> 
<link>http://www.mrsec.com/story/video-game-lawsuits-could-be-a-big-problem-for-the-ncaa</link> 
<description>Up to the minute SEC football and basketball 
news</description> <lastBuildDate>Fri, 05 Feb 2010 12:12:33 
+0000</lastBuildDate> 
<generator>http://wordpress.org/?v=2.9.1</generator> 
<sy:updatePeriod>hourly</sy:updatePeriod> 
<sy:updateFrequency>1</sy:updateFrequency> </channel> </rss>

Before that it was south-carolina, before that it was Kentucky.  But 
it's (this afternoon) always bringing up the "video-game-lawsuits" page.

Shane

Jeremi Bergman wrote:
> Thanks for this information, that is good to know!
>
>
>
> Jeremi Bergman
> 865-951-5354
>
>
> On Fri, Feb 5, 2010 at 2:26 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
>
>   
>>> The About page redirecting is strange, but this is not the original
>>>       
>> symptom
>>     
>>> that led me to post on the list.
>>>
>>>       
>> The about redirect is a canonical redirect that WordPress does. Since
>> /about
>> doesn't exist, WordPress goes hunting for a page seems to be a decent
>> match,
>> hence why you're getting /story/about-12-minutes-of-good-basketball.
>>
>> (Sidenote: There has been some discussion whether some canonical redirects
>> are too liberal: http://core.trac.wordpress.org/ticket/8948.)
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From ryan at boren.nu  Fri Feb  5 21:58:04 2010
From: ryan at boren.nu (Ryan Boren)
Date: Fri, 5 Feb 2010 15:58:04 -0600
Subject: [wp-hackers] thorough admin SSL
In-Reply-To: <7235ce781002031450t6527af08w171e82dd1a9e0235@mail.gmail.com>
References: <a21f8bf01002011616i544be3e6i66d6b5fe02879d72@mail.gmail.com>
	<4B677324.4040500@visser.name>
	<a21f8bf01002011737h1164c2e4yb59be498f98a5127@mail.gmail.com>
	<28D4EDD2-DB53-45BB-92A3-105AD4A5BF35@xentek.net>
	<a21f8bf01002011809l4c92d96ah5f9b9981010f7307@mail.gmail.com>
	<a21f8bf01002031328t7ce39c2dv6cd034fa0b1c5acf@mail.gmail.com>
	<7235ce781002031450t6527af08w171e82dd1a9e0235@mail.gmail.com>
Message-ID: <c8f37c931002051358h5274a8f2ja381e10332c330bf@mail.gmail.com>

On Wed, Feb 3, 2010 at 4:50 PM, Mike Little <wordpress at zed1.com> wrote:
> I have encountered this on a project before, in particular, wpmu has several
> places hard-coded with 'http' (it also doesn't support a port number in
> urls, but that's another project problem I had to solve).

We're cleaning up the MU links for 3.0. See here:

http://core.trac.wordpress.org/changeset/12978


Core WP/WPMU links that do not obey is_ssl() and the FORCE flags are
bugs. Write tickets, and we'll fix them.  Core will never attempt to
add SSL awareness via filters on the get_option() calls for home and
siteurl because there is insufficient context to apply the SSL rules
properly.  Thus, plugins must use the *_url() API to gain SSL
awareness.

From otto at ottodestruct.com  Fri Feb  5 22:17:13 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 5 Feb 2010 16:17:13 -0600
Subject: [wp-hackers] Best practice for archives of custom post types
In-Reply-To: <4B6C8E2F.409@voceconnect.com>
References: <03e2a10a59161d9ac459e0616203e98c.squirrel@webmail.dunae.ca> 
	<4B6C70EE.6030301@voceconnect.com>
	<161617691002051314g65b664fek44b422c78dc10ac7@mail.gmail.com> 
	<4B6C8E2F.409@voceconnect.com>
Message-ID: <161617691002051417r495f41gac0051242ec23423@mail.gmail.com>

On Fri, Feb 5, 2010 at 3:31 PM, Michael Pretty <mpretty at voceconnect.com> wrote:
> As of http://core.trac.wordpress.org/changeset/12923, post_type is a public
> query_var

Ahh. Cool, I hadn't looked at that part of trunk lately.

Still, it's worth saying that that's in 3.0, not 2.9.

-Otto
Sent from Memphis, TN, United States

From ozh at planetozh.com  Fri Feb  5 22:20:32 2010
From: ozh at planetozh.com (Ozh)
Date: Fri, 5 Feb 2010 23:20:32 +0100
Subject: [wp-hackers] Plugins: Best practice for conditional loading of
	actions and file includes
In-Reply-To: <161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com>
	<161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com>
Message-ID: <ae81acd11002051420x59836a47hc123c4544a86b97f@mail.gmail.com>

On Fri, Feb 5, 2010 at 9:48 PM, Otto <otto at ottodestruct.com> wrote:
> So, best practice: Keep hooks near the functions they are hooking. If
> you don't like the way that looks, then at least keep them in the same
> file.
>

I prefer grouping all the hooks at the same place instead of spreading
them all across the file(s), because having them in one place makes it
easier in one glance to understand the flow of things and what happens
when.

This said, I don't think the location of the hooks (near their
functions or all grouped in one place) is a matter of "best practice"
(assuming they're correctly declared in both case of course)

Ozh
-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News

From wp at xentek.net  Fri Feb  5 23:10:46 2010
From: wp at xentek.net (Eric Marden)
Date: Fri, 5 Feb 2010 17:10:46 -0600
Subject: [wp-hackers] Need Help, I cannot figure this out.
In-Reply-To: <4B6BC6AC.1080104@gmail.com>
References: <C7904F86.16B3%jpotkanski@tribune.com>	<1e9148b5-06ed-4965-9d38-22024ac48081@k19g2000yqc.googlegroups.com>
	<1D451339-6EB6-4E40-9693-398B2362013E@xentek.net>
	<4B6BC6AC.1080104@gmail.com>
Message-ID: <0DD29C85-F2C0-49F7-8387-933C7F488EEC@xentek.net>

On Feb 5, 2010, at 1:20 AM, Shane Chambers wrote:

> For all of those that are kind enough to weigh in, or at least  
> scratch their head towards this problem; the problem is currently  
> rearing it's head on a frequent basis.

A couple of other things to try:

* New vhost using similar config and test a default wordpress install.  
Can the server run wordpress?
* Try turning off permalinks on msrec.com ? does the issue persist?
* Squid was likely not an issue, but did cache the wrong results at  
some point. Leave off until apache is running perfectly.
* Run your msrec app on a different server (even a local one). Does it  
still exhibit the behavior?


- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From alex at dunae.ca  Fri Feb  5 23:31:32 2010
From: alex at dunae.ca (Alex Dunae)
Date: Fri, 5 Feb 2010 15:31:32 -0800 (PST)
Subject: [wp-hackers] Best practice for archives of custom post types
In-Reply-To: <4B6C8E2F.409@voceconnect.com>
References: <03e2a10a59161d9ac459e0616203e98c.squirrel@webmail.dunae.ca> 
	<4B6C70EE.6030301@voceconnect.com>
	<161617691002051314g65b664fek44b422c78dc10ac7@mail.gmail.com> 
	<4B6C8E2F.409@voceconnect.com>
Message-ID: <3a3683d1-724a-422d-9c59-757fdcd8e596@e33g2000prn.googlegroups.com>

On Feb 5, 1:31?pm, Michael Pretty <mpre... at voceconnect.com> wrote:

> I'm not positive, but I'm
> pretty sure that register_post_type only sets up a rewrite rule for
> /%post_type%/%post_name%/ and doesn't set one up that would allow an
> archive listing of the post_type. ?So you would need to set this up
> yourself.

This is exactly where I was running into trouble.  I'd registered the
post_type but wasn't able to generate an index.  add_rewrite_rule
looks like it will do the trick perfectly.

Thank you both.

Alex


From senica at gmail.com  Sat Feb  6 05:08:36 2010
From: senica at gmail.com (Senica Gonzalez)
Date: Fri, 5 Feb 2010 21:08:36 -0800
Subject: [wp-hackers] XML-RPC anonymous comments wordpress.com
Message-ID: <c6b340dc1002052108s370da4a4s851646aef075bafd@mail.gmail.com>

Hey there,

I posted the following on the wordpress.com forums and tbol3 sent me over to
you guys for help.

The pretty version of this question is located here:
http://en.forums.wordpress.com/topic/xml-rpc-anonymous-comments-wordpresscom?replies=3

I have done tons of research today, but apparently I'm just not getting the
right answer. Today is my first day using XML-RPC. Piece of cake.

I was able to do a Trackback, a PingBack, and various XML-RPC calls with
different APIs to my blog. The one thing that I cannot seem to be able to do
is add an anonymous comment to my blog remotely.

I have seen where other people have asked this question, and Jonathan has
said that it was covered in the XML-RPC API. Basically, mentioning that if
you leave the username and password blank, it will work.....It doesn't. At
least not in my case. I always get:

faultCode 403 faultString Bad login/pass combination.

Here is the request I'm sending:

$request = ' <?xml version="1.0" encoding="utf-8"?> <methodCall>
<methodName>wp.newComment</methodName> <params> <param>
<value><int>11838212</int></value>
<value><string>{username}</string></value>
<value><string>{password}</string></value> <value><int>20</int></value>
<value> <struct> <member> <name>comment_parent</name>
<value><int></int></value> </member> <member> <name>content</name>
<value><string>Test1</string></value> </member> <member> <name>author</name>
<value><string>Ogglabas</string></value> </member> <member>
<name>author_url</name> <value><string></string></value> </member> <member>
<name>author_email</name> <value><string>senica at gmail.com</string></value>
</member> </struct> </value> </param> </params> </methodCall>

 If I have a username and password in there...it works perfect. The only
problem is, it shows "me" as the poster, whereas I want to allow people to
post comments to my blog from my other website as well and have "their" name
show up as the poster.

As already mentioned, if I take the username and password out....no dice.


 Also, I wanted to mention before someone posts on here....Apparently, there
is a way to enable_anonymous_xml_rpc...or something to that affect, if I was
running Word Press on my own server.

This is not the case, and not an option for me.

And if someone says that it is a security issue....well, seems like
trackbacks wouldn't be allowed either. At least with this, you can make the
user put in their email address and a name.

This is an important feature to have if it is not already enabled.



Thanks for the help ahead of time!

From wordpress at dd32.id.au  Sat Feb  6 05:26:26 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 06 Feb 2010 16:26:26 +1100
Subject: [wp-hackers] XML-RPC anonymous comments wordpress.com
In-Reply-To: <c6b340dc1002052108s370da4a4s851646aef075bafd@mail.gmail.com>
References: <c6b340dc1002052108s370da4a4s851646aef075bafd@mail.gmail.com>
Message-ID: <op.u7oxd8kaspxmuu@ho.st>

Looking at the WordPress code will answer your questions.

http://core.trac.wordpress.org/browser/trunk/xmlrpc.php#L1235

As you can see there, Theres a logic branch there that says:

Accept the comment if either
  a. You're logged in
or
  b. The owner of the blog has specifically enabled anonymous commenting  
via XMLRPC

for b, The user would need to place some code like this, in their themes  
functions.php or a plugin:

add_filter('xmlrpc_allow_anonymous_comments',  
'_theme_allow_xmlrpc_anon_comments');
function _theme_allow_xmlrpc_anon_comments() {
     return true;
}

I dont see this changing in WordPress anytime soon, Trackbacks are  
automated, Comments should not be.
Allowing anonymous comments via XMLRPC would allow for bypassing UI-based  
spam checkers to start with off the top of my head.

Cheers
Dion Hulse / dd32

On Sat, 06 Feb 2010 16:08:36 +1100, Senica Gonzalez <senica at gmail.com>  
wrote:

> Hey there,
>
> I posted the following on the wordpress.com forums and tbol3 sent me  
> over to
> you guys for help.
>
> The pretty version of this question is located here:
> http://en.forums.wordpress.com/topic/xml-rpc-anonymous-comments-wordpresscom?replies=3
>
> I have done tons of research today, but apparently I'm just not getting  
> the
> right answer. Today is my first day using XML-RPC. Piece of cake.
>
> I was able to do a Trackback, a PingBack, and various XML-RPC calls with
> different APIs to my blog. The one thing that I cannot seem to be able  
> to do
> is add an anonymous comment to my blog remotely.
>
> I have seen where other people have asked this question, and Jonathan has
> said that it was covered in the XML-RPC API. Basically, mentioning that  
> if
> you leave the username and password blank, it will work.....It doesn't.  
> At
> least not in my case. I always get:
>
> faultCode 403 faultString Bad login/pass combination.
>
> Here is the request I'm sending:
>
> $request = ' <?xml version="1.0" encoding="utf-8"?> <methodCall>
> <methodName>wp.newComment</methodName> <params> <param>
> <value><int>11838212</int></value>
> <value><string>{username}</string></value>
> <value><string>{password}</string></value> <value><int>20</int></value>
> <value> <struct> <member> <name>comment_parent</name>
> <value><int></int></value> </member> <member> <name>content</name>
> <value><string>Test1</string></value> </member> <member>  
> <name>author</name>
> <value><string>Ogglabas</string></value> </member> <member>
> <name>author_url</name> <value><string></string></value> </member>  
> <member>
> <name>author_email</name>  
> <value><string>senica at gmail.com</string></value>
> </member> </struct> </value> </param> </params> </methodCall>
>
>  If I have a username and password in there...it works perfect. The only
> problem is, it shows "me" as the poster, whereas I want to allow people  
> to
> post comments to my blog from my other website as well and have "their"  
> name
> show up as the poster.
>
> As already mentioned, if I take the username and password out....no dice.
>
>
>  Also, I wanted to mention before someone posts on here....Apparently,  
> there
> is a way to enable_anonymous_xml_rpc...or something to that affect, if I  
> was
> running Word Press on my own server.
>
> This is not the case, and not an option for me.
>
> And if someone says that it is a security issue....well, seems like
> trackbacks wouldn't be allowed either. At least with this, you can make  
> the
> user put in their email address and a name.
>
> This is an important feature to have if it is not already enabled.
>
>
>
> Thanks for the help ahead of time!

From wordpress at dd32.id.au  Sat Feb  6 05:29:10 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 06 Feb 2010 16:29:10 +1100
Subject: [wp-hackers] XML-RPC anonymous comments wordpress.com
In-Reply-To: <op.u7oxd8kaspxmuu@ho.st>
References: <c6b340dc1002052108s370da4a4s851646aef075bafd@mail.gmail.com>
	<op.u7oxd8kaspxmuu@ho.st>
Message-ID: <op.u7oxiw1nspxmuu@ho.st>

I completely missed that this was a WordPress.com question specifically..

I'd go back to the .com support thread you've got, and argue your case  
there.

Anonymous commenting via XMLRPC will be disabled on wordpress.com hosting,  
simple as that.

If you host your own blog, you can enable the functionality yourself.

On Sat, 06 Feb 2010 16:26:26 +1100, Dion Hulse (dd32)  
<wordpress at dd32.id.au> wrote:

> Looking at the WordPress code will answer your questions.
>
> http://core.trac.wordpress.org/browser/trunk/xmlrpc.php#L1235
>
> As you can see there, Theres a logic branch there that says:
>
> Accept the comment if either
>   a. You're logged in
> or
>   b. The owner of the blog has specifically enabled anonymous commenting  
> via XMLRPC
>
> for b, The user would need to place some code like this, in their themes  
> functions.php or a plugin:
>
> add_filter('xmlrpc_allow_anonymous_comments',  
> '_theme_allow_xmlrpc_anon_comments');
> function _theme_allow_xmlrpc_anon_comments() {
>      return true;
> }
>
> I dont see this changing in WordPress anytime soon, Trackbacks are  
> automated, Comments should not be.
> Allowing anonymous comments via XMLRPC would allow for bypassing  
> UI-based spam checkers to start with off the top of my head.
>
> Cheers
> Dion Hulse / dd32
>
> On Sat, 06 Feb 2010 16:08:36 +1100, Senica Gonzalez <senica at gmail.com>  
> wrote:
>
>> Hey there,
>>
>> I posted the following on the wordpress.com forums and tbol3 sent me  
>> over to
>> you guys for help.
>>
>> The pretty version of this question is located here:
>> http://en.forums.wordpress.com/topic/xml-rpc-anonymous-comments-wordpresscom?replies=3
>>
>> I have done tons of research today, but apparently I'm just not getting  
>> the
>> right answer. Today is my first day using XML-RPC. Piece of cake.
>>
>> I was able to do a Trackback, a PingBack, and various XML-RPC calls with
>> different APIs to my blog. The one thing that I cannot seem to be able  
>> to do
>> is add an anonymous comment to my blog remotely.
>>
>> I have seen where other people have asked this question, and Jonathan  
>> has
>> said that it was covered in the XML-RPC API. Basically, mentioning that  
>> if
>> you leave the username and password blank, it will work.....It doesn't.  
>> At
>> least not in my case. I always get:
>>
>> faultCode 403 faultString Bad login/pass combination.
>>
>> Here is the request I'm sending:
>>
>> $request = ' <?xml version="1.0" encoding="utf-8"?> <methodCall>
>> <methodName>wp.newComment</methodName> <params> <param>
>> <value><int>11838212</int></value>
>> <value><string>{username}</string></value>
>> <value><string>{password}</string></value> <value><int>20</int></value>
>> <value> <struct> <member> <name>comment_parent</name>
>> <value><int></int></value> </member> <member> <name>content</name>
>> <value><string>Test1</string></value> </member> <member>  
>> <name>author</name>
>> <value><string>Ogglabas</string></value> </member> <member>
>> <name>author_url</name> <value><string></string></value> </member>  
>> <member>
>> <name>author_email</name>  
>> <value><string>senica at gmail.com</string></value>
>> </member> </struct> </value> </param> </params> </methodCall>
>>
>>  If I have a username and password in there...it works perfect. The only
>> problem is, it shows "me" as the poster, whereas I want to allow people  
>> to
>> post comments to my blog from my other website as well and have "their"  
>> name
>> show up as the poster.
>>
>> As already mentioned, if I take the username and password out....no  
>> dice.
>>
>>
>>  Also, I wanted to mention before someone posts on here....Apparently,  
>> there
>> is a way to enable_anonymous_xml_rpc...or something to that affect, if  
>> I was
>> running Word Press on my own server.
>>
>> This is not the case, and not an option for me.
>>
>> And if someone says that it is a security issue....well, seems like
>> trackbacks wouldn't be allowed either. At least with this, you can make  
>> the
>> user put in their email address and a name.
>>
>> This is an important feature to have if it is not already enabled.
>>
>>
>>
>> Thanks for the help ahead of time!


-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
  Web: http://dd32.id.au/

From senica at gmail.com  Sat Feb  6 05:44:24 2010
From: senica at gmail.com (Senica Gonzalez)
Date: Fri, 5 Feb 2010 21:44:24 -0800
Subject: [wp-hackers] XML-RPC anonymous comments wordpress.com
In-Reply-To: <op.u7oxiw1nspxmuu@ho.st>
References: <c6b340dc1002052108s370da4a4s851646aef075bafd@mail.gmail.com> 
	<op.u7oxd8kaspxmuu@ho.st> <op.u7oxiw1nspxmuu@ho.st>
Message-ID: <c6b340dc1002052144n4b57891ew3fa05cec24c7c938@mail.gmail.com>

Yeah, this was a wordpress.com issue.

Does anyone know who/where I would argue my case at?

As far as trackbacks go...they don't have to be automated.  They can be
negotiated manually as well causing spam on blogs (as I found out today).
 To say that spammers won't use trackbacks for spamming just because they
are "suppose" to be automated...well, sort of like saying thieves won't
break into windows.

I like standards, I really do.  But to deny comments because a policy says
that how it is suppose to be and allow trackbacks which provide the same
functionality that a spammer needs....just kind of silly.

On Fri, Feb 5, 2010 at 9:29 PM, Dion Hulse (dd32) <wordpress at dd32.id.au>wrote:

> I completely missed that this was a WordPress.com question specifically..
>
> I'd go back to the .com support thread you've got, and argue your case
> there.
>
> Anonymous commenting via XMLRPC will be disabled on wordpress.com hosting,
> simple as that.
>
> If you host your own blog, you can enable the functionality yourself.
>
>
> On Sat, 06 Feb 2010 16:26:26 +1100, Dion Hulse (dd32) <
> wordpress at dd32.id.au> wrote:
>
>  Looking at the WordPress code will answer your questions.
>>
>> http://core.trac.wordpress.org/browser/trunk/xmlrpc.php#L1235
>>
>> As you can see there, Theres a logic branch there that says:
>>
>> Accept the comment if either
>>  a. You're logged in
>> or
>>  b. The owner of the blog has specifically enabled anonymous commenting
>> via XMLRPC
>>
>> for b, The user would need to place some code like this, in their themes
>> functions.php or a plugin:
>>
>> add_filter('xmlrpc_allow_anonymous_comments',
>> '_theme_allow_xmlrpc_anon_comments');
>> function _theme_allow_xmlrpc_anon_comments() {
>>     return true;
>> }
>>
>> I dont see this changing in WordPress anytime soon, Trackbacks are
>> automated, Comments should not be.
>> Allowing anonymous comments via XMLRPC would allow for bypassing UI-based
>> spam checkers to start with off the top of my head.
>>
>> Cheers
>> Dion Hulse / dd32
>>
>> On Sat, 06 Feb 2010 16:08:36 +1100, Senica Gonzalez <senica at gmail.com>
>> wrote:
>>
>>  Hey there,
>>>
>>> I posted the following on the wordpress.com forums and tbol3 sent me
>>> over to
>>> you guys for help.
>>>
>>> The pretty version of this question is located here:
>>>
>>> http://en.forums.wordpress.com/topic/xml-rpc-anonymous-comments-wordpresscom?replies=3
>>>
>>> I have done tons of research today, but apparently I'm just not getting
>>> the
>>> right answer. Today is my first day using XML-RPC. Piece of cake.
>>>
>>> I was able to do a Trackback, a PingBack, and various XML-RPC calls with
>>> different APIs to my blog. The one thing that I cannot seem to be able to
>>> do
>>> is add an anonymous comment to my blog remotely.
>>>
>>> I have seen where other people have asked this question, and Jonathan has
>>> said that it was covered in the XML-RPC API. Basically, mentioning that
>>> if
>>> you leave the username and password blank, it will work.....It doesn't.
>>> At
>>> least not in my case. I always get:
>>>
>>> faultCode 403 faultString Bad login/pass combination.
>>>
>>> Here is the request I'm sending:
>>>
>>> $request = ' <?xml version="1.0" encoding="utf-8"?> <methodCall>
>>> <methodName>wp.newComment</methodName> <params> <param>
>>> <value><int>11838212</int></value>
>>> <value><string>{username}</string></value>
>>> <value><string>{password}</string></value> <value><int>20</int></value>
>>> <value> <struct> <member> <name>comment_parent</name>
>>> <value><int></int></value> </member> <member> <name>content</name>
>>> <value><string>Test1</string></value> </member> <member>
>>> <name>author</name>
>>> <value><string>Ogglabas</string></value> </member> <member>
>>> <name>author_url</name> <value><string></string></value> </member>
>>> <member>
>>> <name>author_email</name> <value><string>senica at gmail.com
>>> </string></value>
>>> </member> </struct> </value> </param> </params> </methodCall>
>>>
>>>  If I have a username and password in there...it works perfect. The only
>>> problem is, it shows "me" as the poster, whereas I want to allow people
>>> to
>>> post comments to my blog from my other website as well and have "their"
>>> name
>>> show up as the poster.
>>>
>>> As already mentioned, if I take the username and password out....no dice.
>>>
>>>
>>>  Also, I wanted to mention before someone posts on here....Apparently,
>>> there
>>> is a way to enable_anonymous_xml_rpc...or something to that affect, if I
>>> was
>>> running Word Press on my own server.
>>>
>>> This is not the case, and not an option for me.
>>>
>>> And if someone says that it is a security issue....well, seems like
>>> trackbacks wouldn't be allowed either. At least with this, you can make
>>> the
>>> user put in their email address and a name.
>>>
>>> This is an important feature to have if it is not already enabled.
>>>
>>>
>>>
>>> Thanks for the help ahead of time!
>>>
>>
>
> --
> Dion Hulse / dd32
>
> Contact:
>  e: contact at dd32.id.au
>  msn: msn at d32.id.au
>  skype: theonly_dd32
>  Web: http://dd32.id.au/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From photofantaisie at gmail.com  Sat Feb  6 16:03:12 2010
From: photofantaisie at gmail.com (Ade Walker)
Date: Sat, 6 Feb 2010 17:03:12 +0100
Subject: [wp-hackers] Plugins: Best practice for conditional loading of
	actions and file includes
In-Reply-To: <161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com>
	<161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com>
Message-ID: <9dd057851002060803h2c137030y5020532820442935@mail.gmail.com>

2010/2/5 Otto <otto at ottodestruct.com>

> Both, actually. No plugin should *ever* load wp-load directly. It's
> never, ever, necessary; it's sloppy programming style; and it's bad
> practice. However, it is often quick and easy to understand for some
> authors, so it does happen a fair amount. Still, it shouldn't be
> there, and any plugin you find with it should be fixed to not require
> it any more.
>
> Feel free to pass anybody you find doing this my email, and I'll tell
> them how to fix their plugin. :)
>

Otto,

Would you care to share on this list? Or can I contact you off line?

Thanks.

From michianashopper at gmail.com  Sat Feb  6 20:41:57 2010
From: michianashopper at gmail.com (Wayne Clayton)
Date: Sat, 6 Feb 2010 15:41:57 -0500
Subject: [wp-hackers] Help on editing MASSIVE draft posts
Message-ID: <d67595cc1002061241l16a9f353l95b3e86487b15438@mail.gmail.com>

I have a client who just installed a plugin ( a week ago) that apparently
scrapes article sites and Youtube (along with comments) and he has created a
mess for himself. He plugged in about 30 keywords and (fortunately) set it
to show as a dradt in his WP dashboard. He now has 322 articles as draft and
over 8000 comments. He does want to keep a number of articles and videos
that came up...but it waaaay to much to go theu screen by screen.

I need to get this cleaned up for him somehow this weekend...is there any
advice or steps you'd suggest I go thru to get the dashboard back in
pre-scraper shape? I think I can edit it in phpMyAdmin..altho' I am not that
familiar with it. Agian ANY advice ot help (short of bipping him in the
head) would be greatly appreciated.

Thanks,
Wayne

From wordpress at zed1.com  Sat Feb  6 20:58:12 2010
From: wordpress at zed1.com (Mike Little)
Date: Sat, 6 Feb 2010 20:58:12 +0000
Subject: [wp-hackers] Help on editing MASSIVE draft posts
In-Reply-To: <d67595cc1002061241l16a9f353l95b3e86487b15438@mail.gmail.com>
References: <d67595cc1002061241l16a9f353l95b3e86487b15438@mail.gmail.com>
Message-ID: <7235ce781002061258x2f1fbda8k3872a74494ae3c71@mail.gmail.com>

On 6 February 2010 20:41, Wayne Clayton <michianashopper at gmail.com> wrote:

> I have a client who just installed a plugin ( a week ago) that apparently
> scrapes article sites and Youtube (along with comments) and he has created
> a
> mess for himself. He plugged in about 30 keywords and (fortunately) set it
> to show as a dradt in his WP dashboard. He now has 322 articles as draft
> and
> over 8000 comments. He does want to keep a number of articles and videos
> that came up...but it waaaay to much to go theu screen by screen.
>
> I need to get this cleaned up for him somehow this weekend...is there any
> advice or steps you'd suggest I go thru to get the dashboard back in
> pre-scraper shape? I think I can edit it in phpMyAdmin..altho' I am not
> that
> familiar with it. Agian ANY advice ot help (short of bipping him in the
> head) would be greatly appreciated.
>
>

A couple of suggestions. Can you identify the ones he wants to keep with
search? If so, search for those (in the edit posts page) and publish them,
then you can just delete all the drafts. If you can't publish them yet, set
them all to a future date and publish. You just need to separate them from
the draft ones you don't want.

Or if that is not possible, remember you can specify the number of posts to
show on each page. Drop down the screen options, set it to 50 or 100, then
you only have 6 or 3 screens to go through. Usually it will be quicker to
check everything, then clear the check mark on the ones you want to keep.
Then mass delete/trash.
Presumably most of the comments will also be deleted when you delete the
posts you don't want.

Hope this helps.

Mike
-- 
Mike Little
http://zed1.com/

From steph at sillybean.net  Sun Feb  7 04:55:24 2010
From: steph at sillybean.net (Stephanie Leary)
Date: Sat, 6 Feb 2010 22:55:24 -0600
Subject: [wp-hackers] Help on editing MASSIVE draft posts
In-Reply-To: <d67595cc1002061241l16a9f353l95b3e86487b15438@mail.gmail.com>
References: <d67595cc1002061241l16a9f353l95b3e86487b15438@mail.gmail.com>
Message-ID: <8693781C-FDB0-4F2C-BD85-0B713DCD4A8A@sillybean.net>

On Feb 6, 2010, at 2:41 PM, Wayne Clayton wrote:
> He now has 322 articles as draft and
> over 8000 comments. He does want to keep a number of articles and videos
> that came up...but it waaaay to much to go theu screen by screen.
> 
> I need to get this cleaned up for him somehow this weekend...is there any
> advice or steps you'd suggest I go thru to get the dashboard back in
> pre-scraper shape?

The articles have consecutive IDs, right? You can identify the first and last ones, then use Mass Page Remover (which works great on posts, too) to nuke all the drafts.  

http://wordpress.org/extend/plugins/mass-page-remover/

Stephanie Leary
sillybean.net


From michael at mfields.org  Sun Feb  7 16:57:00 2010
From: michael at mfields.org (michael at mfields.org)
Date: Sun, 7 Feb 2010 09:57:00 -0700
Subject: [wp-hackers] Remove Plugin from wordpress.org?
Message-ID: <07a99c9a46dc290cfd162a82c27dd384.squirrel@mfields.org>

Hi, Sorry if this is the wrong place to ask this question, but I was
referred here through a forum. I would like to have one of my plugins
removed from the directory and can't figure out how to do it. The reason
is that it is no longer necessary due to the fact that the functionality
it provided was included into core in version 2.8. I know that it's not a
very popular plugin, but people continue to download it when they should
be using WordPress' built in functions that do the same thing.

I've tried email, but received no response. Any suggestions?

Thanks,
-Mike


From mark at watero.us  Sun Feb  7 21:20:11 2010
From: mark at watero.us (mark waterous)
Date: Sun, 7 Feb 2010 13:20:11 -0800
Subject: [wp-hackers] Media Uploader breaks thickbox modals.
In-Reply-To: <07a99c9a46dc290cfd162a82c27dd384.squirrel@mfields.org>
References: <07a99c9a46dc290cfd162a82c27dd384.squirrel@mfields.org>
Message-ID: <00dd01caa83b$55be4470$013acd50$@us>

It would seem that if you try to enqueue 'thickbox' and 'media-upload' on
the same page, it breaks any thickbox links you have on that page. Thickbox
works fine if media-upload isn't queued, and the media uploader itself will
work fine if you do. It's almost like the thickbox links are all trying to
load the media uploader, since they come up at the same size, and refuse to
load the images they link to.

Does anybody know a way to use both features on the same page, without
including an external lightbox of some sort?

--
Mark Waterous
(mark at watero.us) 



From jeremy at visser.name  Sun Feb  7 22:39:10 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Mon, 08 Feb 2010 09:39:10 +1100
Subject: [wp-hackers] Remove Plugin from wordpress.org?
In-Reply-To: <07a99c9a46dc290cfd162a82c27dd384.squirrel@mfields.org>
References: <07a99c9a46dc290cfd162a82c27dd384.squirrel@mfields.org>
Message-ID: <4B6F410E.2080803@visser.name>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 08/02/10 03:57, michael at mfields.org wrote:
> I would like to have one of my plugins removed from the directory and
> can't figure out how to do it.
> 
> I've tried email, but received no response. Any suggestions?

About a year or so ago, I had my plugin removed, and Matt responded by
e-mail from the plugin contact address, so that should have worked.

I guess to make it easier to verify that your request is legitimate, you
should blank your SVN repository (with perhaps a commit message saying
why), and then point to that in a subsequent e-mail.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iEYEARECAAYFAktvQQwACgkQvs6Qqs8TxBq0QACg9EINgpCdVaIf5TUx5FNhVHiz
72IAn0FP1Ahl7D0e+ey1cMDj5a+YLdBE
=Op6r
-----END PGP SIGNATURE-----

From otto at ottodestruct.com  Mon Feb  8 16:47:15 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 8 Feb 2010 10:47:15 -0600
Subject: [wp-hackers] Plugins: Best practice for conditional loading of
	actions and file includes
In-Reply-To: <ae81acd11002051420x59836a47hc123c4544a86b97f@mail.gmail.com>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com> 
	<161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com> 
	<ae81acd11002051420x59836a47hc123c4544a86b97f@mail.gmail.com>
Message-ID: <161617691002080847r3df5dea8q215e852a4638e726@mail.gmail.com>

On Fri, Feb 5, 2010 at 4:20 PM, Ozh <ozh at planetozh.com> wrote:
> On Fri, Feb 5, 2010 at 9:48 PM, Otto <otto at ottodestruct.com> wrote:
>> So, best practice: Keep hooks near the functions they are hooking. If
>> you don't like the way that looks, then at least keep them in the same
>> file.
>
> I prefer grouping all the hooks at the same place instead of spreading
> them all across the file(s), because having them in one place makes it
> easier in one glance to understand the flow of things and what happens
> when.
>
> This said, I don't think the location of the hooks (near their
> functions or all grouped in one place) is a matter of "best practice"
> (assuming they're correctly declared in both case of course)

Let's just say that you're far less likely to accidentally add a hook
to an undeclared function if you have the hook and the function right
next to each other.

-Otto
Sent from Memphis, TN, United States

From otto at ottodestruct.com  Mon Feb  8 16:48:35 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 8 Feb 2010 10:48:35 -0600
Subject: [wp-hackers] Plugins: Best practice for conditional loading of
	actions and file includes
In-Reply-To: <9dd057851002060803h2c137030y5020532820442935@mail.gmail.com>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com> 
	<161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com> 
	<9dd057851002060803h2c137030y5020532820442935@mail.gmail.com>
Message-ID: <161617691002080848k602e78d9g3e585cbcfa58a554@mail.gmail.com>

On Sat, Feb 6, 2010 at 10:03 AM, Ade Walker <photofantaisie at gmail.com> wrote:
> 2010/2/5 Otto <otto at ottodestruct.com>
>
>> Both, actually. No plugin should *ever* load wp-load directly. It's
>> never, ever, necessary; it's sloppy programming style; and it's bad
>> practice. However, it is often quick and easy to understand for some
>> authors, so it does happen a fair amount. Still, it shouldn't be
>> there, and any plugin you find with it should be fixed to not require
>> it any more.
>>
>> Feel free to pass anybody you find doing this my email, and I'll tell
>> them how to fix their plugin. :)
>>
>
> Would you care to share on this list? Or can I contact you off line?

Just email me directly if you want more info on this sort of thing. I
don't hide my email address. :)

Actually, this comes up so often that I might make a blog post about it.

-Otto
Sent from Memphis, TN, United States

From burobjorn at gmail.com  Mon Feb  8 17:45:55 2010
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Mon, 08 Feb 2010 18:45:55 +0100
Subject: [wp-hackers] howto including full path in javascript file.
Message-ID: <4B704DD3.8000909@gmail.com>

Hi,

I was wondering what other people use to include full paths in their
theme javascript files and keep it dynamic (so no hardcoded paths!). For
instance I would like to call some images in my javascript file and I
need to use a full path. What would be the best practice for this?

Thanks,

grtz
BjornW

-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

phone: +31 6 49 74 78 70
http://www.burobjorn.nl

From mitch at studionashvegas.com  Mon Feb  8 17:57:10 2010
From: mitch at studionashvegas.com (Mitch Canter | studionashvegas)
Date: Mon, 8 Feb 2010 11:57:10 -0600
Subject: [wp-hackers] howto including full path in javascript file.
In-Reply-To: <4B704DD3.8000909@gmail.com>
References: <4B704DD3.8000909@gmail.com>
Message-ID: <000901caa8e8$26ec7470$74c55d50$@com>

One of two options works - if you are keeping the javascript files in your
root directory, prepend the urls with <?php bloginfo('siteurl'); ?>.  If
you're doing it only within your template, use <?php
bloginfo('template_directory'); ?>

Example:

src="<?php bloginfo('siteurl'); ?>/js/thickbox.js"

or

<img src="<?php bloginfo('siteurl'); ?>/js/img/thickbox.jpg">

Good for linking to images too.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Bjorn Wijers
Sent: Monday, February 08, 2010 11:46 AM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] howto including full path in javascript file.

Hi,

I was wondering what other people use to include full paths in their
theme javascript files and keep it dynamic (so no hardcoded paths!). For
instance I would like to call some images in my javascript file and I
need to use a full path. What would be the best practice for this?

Thanks,

grtz
BjornW

-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

phone: +31 6 49 74 78 70
http://www.burobjorn.nl
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From cjscott69 at gmail.com  Mon Feb  8 18:40:50 2010
From: cjscott69 at gmail.com (Chris Scott)
Date: Mon, 8 Feb 2010 13:40:50 -0500
Subject: [wp-hackers] howto including full path in javascript file.
In-Reply-To: <4B704DD3.8000909@gmail.com>
References: <4B704DD3.8000909@gmail.com>
Message-ID: <469fb3cc1002081040u2635e691taee286b67e91c57e@mail.gmail.com>

On Mon, Feb 8, 2010 at 12:45 PM, Bjorn Wijers <burobjorn at gmail.com> wrote:
> Hi,
>
> I was wondering what other people use to include full paths in their
> theme javascript files and keep it dynamic (so no hardcoded paths!). For
> instance I would like to call some images in my javascript file and I
> need to use a full path. What would be the best practice for this?

You can add an action to wp_head to set a js var that is the URL to
your site (e.g. using bloginfo('siteurl')). Make sure this action runs
at a higher priority than your other js if you aren't putting them in
the footer so the var is available to your scripts.

--
Chris Scott
http://iamzed.com/
http://hailtheale.com/

>
> Thanks,
>
> grtz
> BjornW
>
> --
>
> met vriendelijke groet,
> Bjorn Wijers
>
> * b u r o b j o r n .nl *
> digitaal vakmanschap | digital craftsmanship
>
> Concordiastraat 68-126
> 3551 EM Utrecht
> The Netherlands
>
> phone: +31 6 49 74 78 70
> http://www.burobjorn.nl
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From tunamaxx at yahoo.com  Mon Feb  8 18:43:58 2010
From: tunamaxx at yahoo.com (tunamaxx at yahoo.com)
Date: Mon, 8 Feb 2010 18:43:58 +0000
Subject: [wp-hackers] howto including full path in javascript file.
Message-ID: <485788465-1265654649-cardhu_decombobulator_blackberry.rim.net-1753816410-@bda161.bisx.prod.on.blackberry>

I think the OP was asking how to use the full path INSIDE javascripts, not how to include them in themes. 

I'd like to know how to do this as well. Could you create a var in a script in the head that contained the path as instructed by Mitch, and then use the value of that var in the included script?

Thanks,

Tony
 
------Original Message------
From: Mitch Canter | studionashvegas
Sender: wp-hackers-bounces at lists.automattic.com
To: wp-hackers at lists.automattic.com
ReplyTo: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] howto including full path in javascript file.
Sent: Feb 8, 2010 9:57 AM

One of two options works - if you are keeping the javascript files in your
root directory, prepend the urls with <?php bloginfo('siteurl'); ?>.  If
you're doing it only within your template, use <?php
bloginfo('template_directory'); ?>

Example:

src="<?php bloginfo('siteurl'); ?>/js/thickbox.js"

or

<img src="<?php bloginfo('siteurl'); ?>/js/img/thickbox.jpg">

Good for linking to images too.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Bjorn Wijers
Sent: Monday, February 08, 2010 11:46 AM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] howto including full path in javascript file.

Hi,

I was wondering what other people use to include full paths in their
theme javascript files and keep it dynamic (so no hardcoded paths!). For
instance I would like to call some images in my javascript file and I
need to use a full path. What would be the best practice for this?

Thanks,

grtz
BjornW

-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

phone: +31 6 49 74 78 70
http://www.burobjorn.nl
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From lists at hikarinet.info  Mon Feb  8 19:23:32 2010
From: lists at hikarinet.info (Hikari)
Date: Mon, 8 Feb 2010 17:23:32 -0200
Subject: [wp-hackers] howto including full path in javascript file.
References: <485788465-1265654649-cardhu_decombobulator_blackberry.rim.net-1753816410-@bda161.bisx.prod.on.blackberry>
Message-ID: <F2EE14C48088442EA9F820CEC5F71700@MAIN>

I've needed that once too :)


Let's say you add your script:



<?php
add_action('wp_print_scripts', 'prefix_scriptAction');

function prefix_scriptAction(){
    wp_enqueue_script('prefix_js', plugin_dir_url(__FILE__).'myjs.js');
}
?>



First of all, you should avoid running your script just during the page load, because if you do so you'll make the page load slowly. 
Use the 'onload' event or add it to the footer ('wp_print_footer_scripts' action).

Either way, use a JavaScript variable to store the path to your plugin's root folder. This variable should be present when your 
script needs it, so if your script runs after or just after the page load, I believe you can use the 'wp_print_scripts' action to 
add the variable to the header. Just change the previous function to include it.



<?php
add_action('wp_print_scripts', 'prefix_scriptAction');

function prefix_scriptAction(){
    wp_enqueue_script('prefix_js', plugin_dir_url(__FILE__).'myjs.js');

?>

<script type="text/javascript">
    var prefix_path = <?php echo plugin_dir_url(__FILE__); ?>;
</script>

<?php
}
?>


I didn't test the code, but it's an exemple. This way, your script can try for 'prefix_path', and if the code is right it will store 
the URL path to your plugin's root folder, and using it you can append subfolders and files, having access to what you want.


I've already used a proprietary dropdown menu that its JS considered it would be always used in homepage, and when it run inside 
posts and other resources its images were being deleted, because they weren't where the script was expecting :P


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br


From otto at ottodestruct.com  Mon Feb  8 19:36:08 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 8 Feb 2010 13:36:08 -0600
Subject: [wp-hackers] howto including full path in javascript file.
In-Reply-To: <4B704DD3.8000909@gmail.com>
References: <4B704DD3.8000909@gmail.com>
Message-ID: <161617691002081136k33409a40h662fb1c22bec378@mail.gmail.com>

On Mon, Feb 8, 2010 at 11:45 AM, Bjorn Wijers <burobjorn at gmail.com> wrote:
> I was wondering what other people use to include full paths in their
> theme javascript files and keep it dynamic (so no hardcoded paths!). For
> instance I would like to call some images in my javascript file and I
> need to use a full path. What would be the best practice for this?

Best way in a plugin:

add_action('wp_print_scripts','myscript');
function myscript() {
?>
<script type="text/javascript">
   var my_plugin_url = <?php echo plugin_dir_url(__FILE__); ?>;
</script>
<?php
}

This will get put into the page before your enqueued scripts, so the
variable will be defined and available for them to use.

You can use this same basic approach to pass along other settings to
javascripts as well. In fact, the admin side of things does it for
you. Look at the source of an admin page, and notice the handy
userSettings array, as well as the ajaxurl variable.


-Otto
Sent from Memphis, TN, United States

From logikal16 at gmail.com  Mon Feb  8 19:56:29 2010
From: logikal16 at gmail.com (logikal16)
Date: Mon, 8 Feb 2010 11:56:29 -0800 (PST)
Subject: [wp-hackers] howto including full path in javascript file.
In-Reply-To: <161617691002081136k33409a40h662fb1c22bec378@mail.gmail.com>
References: <4B704DD3.8000909@gmail.com>
	<161617691002081136k33409a40h662fb1c22bec378@mail.gmail.com>
Message-ID: <ff0a102d-83ac-46a0-99fd-10995aa490b8@j1g2000vbl.googlegroups.com>

<script type="text/javascript">
var mypath = "<?php echo WP_CONTENT_URL; ?>/img/somefile.gif";
// more javascript code
// you could also use the WP_PLUGIN_URL constant
</script>

I keep as much stuff in "wp-content" as possible (instead of the site
root). This isn't for everything (robots.txt, sitemap.xml.gz), but it
keeps all of the custom files together, making any updates/migrations
a bit simpler.

Matt

On Feb 8, 2:36?pm, Otto <o... at ottodestruct.com> wrote:
> On Mon, Feb 8, 2010 at 11:45 AM, Bjorn Wijers <burobj... at gmail.com> wrote:
> > I was wondering what other people use to include full paths in their
> > theme javascript files and keep it dynamic (so no hardcoded paths!). For
> > instance I would like to call some images in my javascript file and I
> > need to use a full path. What would be the best practice for this?
>
> Best way in a plugin:
>
> add_action('wp_print_scripts','myscript');
> function myscript() {
> ?>
> <script type="text/javascript">
> ? ?var my_plugin_url = <?php echo plugin_dir_url(__FILE__); ?>;
> </script>
> <?php
>
> }
>
> This will get put into the page before your enqueued scripts, so the
> variable will be defined and available for them to use.
>
> You can use this same basic approach to pass along other settings to
> javascripts as well. In fact, the admin side of things does it for
> you. Look at the source of an admin page, and notice the handy
> userSettings array, as well as the ajaxurl variable.
>
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers

From wp-hackers at tobias.baethge.com  Mon Feb  8 20:32:56 2010
From: wp-hackers at tobias.baethge.com (TobiasBg)
Date: Mon,  8 Feb 2010 21:32:56 +0100 (CET)
Subject: [wp-hackers] howto including full path in javascript file.
In-Reply-To: <4B704DD3.8000909@gmail.com>
Message-ID: <20100208203256.F00C818033699@dd19416.kasserver.com>

Hi,

> For
> instance I would like to call some images in my javascript file and I
> need to use a full path. What would be the best practice for this?

Besides the already presented ideas, I like to use the wp_localize_script function, like

wp_register_script( 'my-script', $javascript_url );
wp_localize_script( 'my-script', 'MY_SCRIPT', array(
                'image_path' => plugin_dir_url(__FILE__),
                'l10n_print_after' => 'try{convertEntities(MY_SCRIPT);}catch(e){};'
            ) );
wp_enqueue_scripts( 'my-script' );

This will enable you to use the MY_SCRIPT.image_path variable in your scripts. The advantage is, that you don't have to worry about the order of execution of the scripts, as WP will take care of that.

The wp_localize_script function was designed to make script files translateable, but as the file path is a string, too, there are no practical problems of using it.

Best wishes,
Tobias





From logikal16 at gmail.com  Mon Feb  8 21:00:01 2010
From: logikal16 at gmail.com (logikal16)
Date: Mon, 8 Feb 2010 13:00:01 -0800 (PST)
Subject: [wp-hackers] Remove Plugin from wordpress.org?
In-Reply-To: <4B6F410E.2080803@visser.name>
References: <07a99c9a46dc290cfd162a82c27dd384.squirrel@mfields.org> 
	<4B6F410E.2080803@visser.name>
Message-ID: <fcdf09e5-e18a-41bb-a076-60163092d26c@o26g2000vbd.googlegroups.com>

I know this has been discussed before, but is worth reiterating.

Plugin authors should be able to remove their own plugins from the
repository.

The statement of "letting old plugins rot to preserve the open source
model" is absurd. If authors want to hand their plugins off to someone
else (or write an abandoned message), that's fine. If they want to
remove the plugin from the repository, then nothing should prevent
that from happening too.

The open source model doesn't say anything about forcing code to exist
in the repository forever. If someone finds the plugin's code and
chooses to create an open-source forked version, then there's nothing
stopping that from happening.

The issue is there are many obsolete, redundant, sandbox (e.g. "Plugin
Name"), and broken plugins clogging up the repo. They're still in the
repo because the authors weren't able to remove them. Regardless of
how optimistic you'd like to be, the fact is that many of these
plugins will never find a new home -- or see another update.

Please, do us all a favor and allow plugin authors to remove their own
plugins.

Matt


On Feb 7, 5:39?pm, Jeremy Visser <jer... at visser.name> wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 08/02/10 03:57, mich... at mfields.org wrote:
>
> > I would like to have one of my plugins removed from the directory and
> > can't figure out how to do it.
>
> > I've tried email, but received no response. Any suggestions?
>
> About a year or so ago, I had my plugin removed, and Matt responded by
> e-mail from the plugin contact address, so that should have worked.
>
> I guess to make it easier to verify that your request is legitimate, you
> should blank your SVN repository (with perhaps a commit message saying
> why), and then point to that in a subsequent e-mail.
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.9 (GNU/Linux)
>
> iEYEARECAAYFAktvQQwACgkQvs6Qqs8TxBq0QACg9EINgpCdVaIf5TUx5FNhVHiz
> 72IAn0FP1Ahl7D0e+ey1cMDj5a+YLdBE
> =Op6r
> -----END PGP SIGNATURE-----
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers

From scribu at gmail.com  Mon Feb  8 21:04:55 2010
From: scribu at gmail.com (scribu)
Date: Mon, 8 Feb 2010 23:04:55 +0200
Subject: [wp-hackers] Remove Plugin from wordpress.org?
In-Reply-To: <fcdf09e5-e18a-41bb-a076-60163092d26c@o26g2000vbd.googlegroups.com>
References: <07a99c9a46dc290cfd162a82c27dd384.squirrel@mfields.org>
	<4B6F410E.2080803@visser.name>
	<fcdf09e5-e18a-41bb-a076-60163092d26c@o26g2000vbd.googlegroups.com>
Message-ID: <349fe48b1002081304m738341eeva4651bd5b3c8252@mail.gmail.com>

On Mon, Feb 8, 2010 at 11:00 PM, logikal16 <logikal16 at gmail.com> wrote:

> I know this has been discussed before, but is worth reiterating.
>
> Plugin authors should be able to remove their own plugins from the
> repository.
>
> The statement of "letting old plugins rot to preserve the open source
> model" is absurd. If authors want to hand their plugins off to someone
> else (or write an abandoned message), that's fine. If they want to
> remove the plugin from the repository, then nothing should prevent
> that from happening too.
>
> The open source model doesn't say anything about forcing code to exist
> in the repository forever. If someone finds the plugin's code and
> chooses to create an open-source forked version, then there's nothing
> stopping that from happening.
>
> The issue is there are many obsolete, redundant, sandbox (e.g. "Plugin
> Name"), and broken plugins clogging up the repo. They're still in the
> repo because the authors weren't able to remove them. Regardless of
> how optimistic you'd like to be, the fact is that many of these
> plugins will never find a new home -- or see another update.
>
> Please, do us all a favor and allow plugin authors to remove their own
> plugins.
>
> Matt



Fully agree!


-- 
http://scribu.net

From michael at mfields.org  Tue Feb  9 00:00:05 2010
From: michael at mfields.org (michael at mfields.org)
Date: Mon, 8 Feb 2010 17:00:05 -0700
Subject: [wp-hackers] Remove Plugin from wordpress.org?
In-Reply-To: <4B6F410E.2080803@visser.name>
References: <07a99c9a46dc290cfd162a82c27dd384.squirrel@mfields.org>
	<4B6F410E.2080803@visser.name>
Message-ID: <f0a21809daff0464de93b5676e5f9c77.squirrel@mfields.org>

> I guess to make it easier to verify that your request is legitimate, you
> should blank your SVN repository (with perhaps a commit message saying
> why), and then point to that in a subsequent e-mail.

Jeremy, Thanks for the response, I have deleted everything in svn and will
send another email shortly.

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 08/02/10 03:57, michael at mfields.org wrote:
>> I would like to have one of my plugins removed from the directory and
>> can't figure out how to do it.
>>
>> I've tried email, but received no response. Any suggestions?
>
> About a year or so ago, I had my plugin removed, and Matt responded by
> e-mail from the plugin contact address, so that should have worked.
>
> I guess to make it easier to verify that your request is legitimate, you
> should blank your SVN repository (with perhaps a commit message saying
> why), and then point to that in a subsequent e-mail.
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.9 (GNU/Linux)
>
> iEYEARECAAYFAktvQQwACgkQvs6Qqs8TxBq0QACg9EINgpCdVaIf5TUx5FNhVHiz
> 72IAn0FP1Ahl7D0e+ey1cMDj5a+YLdBE
> =Op6r
> -----END PGP SIGNATURE-----
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



From ash at thinkinginvain.com  Tue Feb  9 06:06:45 2010
From: ash at thinkinginvain.com (Ash Goodman)
Date: Tue, 9 Feb 2010 14:06:45 +0800
Subject: [wp-hackers] query_posts orderby=meta_value
Message-ID: <1d9b57821002082206x42dd7cd6qb8a52954ad4c62b5@mail.gmail.com>

Hi all, I wonder if anyone can tell me: according to this page in the codex:
http://codex.wordpress.org/Template_Tags/query_posts in the section "Orderby
Parameters" I should be able to order the resulting posts from a custom
query (orderby=meta_value - Note: A meta_key=keyname must also be present in
the query. )

So for example I would have a query with the following parameters:
"post_type=page&posts_per_page=5&meta_key=order" and then I would specify
the meta_value=

And thats where it breaks down for me as If I specify a specific meta_value
how exactly would ordering be achieved? if all the posts ahd the same
meta_value wouldn't the ordering just fall back to default?

I am sure I am just not grasping what's happening correctly and would
welcome anyone's help in getting my thick head round this.

Thanks!

Ash

On 9 February 2010 03:56, <wp-hackers-request at lists.automattic.com> wrote:

> Send wp-hackers mailing list submissions to
>        wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
>        wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
>        wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
>   1. Re: Plugins: Best practice for conditional loading of     actions
>      and file includes (Otto)
>   2. Re: Plugins: Best practice for conditional loading of     actions
>      and file includes (Otto)
>   3. howto including full path in javascript file. (Bjorn Wijers)
>   4. Re: howto including full path in javascript file.
>      (Mitch Canter | studionashvegas)
>   5. Re: howto including full path in javascript file. (Chris Scott)
>   6. Re: howto including full path in javascript file.
>      (tunamaxx at yahoo.com)
>   7. Re: howto including full path in javascript file. (Hikari)
>   8. Re: howto including full path in javascript file. (Otto)
>   9. Re: howto including full path in javascript file. (logikal16)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 8 Feb 2010 10:47:15 -0600
> From: Otto <otto at ottodestruct.com>
> Subject: Re: [wp-hackers] Plugins: Best practice for conditional
>        loading of      actions and file includes
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <161617691002080847r3df5dea8q215e852a4638e726 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> On Fri, Feb 5, 2010 at 4:20 PM, Ozh <ozh at planetozh.com> wrote:
> > On Fri, Feb 5, 2010 at 9:48 PM, Otto <otto at ottodestruct.com> wrote:
> >> So, best practice: Keep hooks near the functions they are hooking. If
> >> you don't like the way that looks, then at least keep them in the same
> >> file.
> >
> > I prefer grouping all the hooks at the same place instead of spreading
> > them all across the file(s), because having them in one place makes it
> > easier in one glance to understand the flow of things and what happens
> > when.
> >
> > This said, I don't think the location of the hooks (near their
> > functions or all grouped in one place) is a matter of "best practice"
> > (assuming they're correctly declared in both case of course)
>
> Let's just say that you're far less likely to accidentally add a hook
> to an undeclared function if you have the hook and the function right
> next to each other.
>
> -Otto
> Sent from Memphis, TN, United States
>
>
> ------------------------------
>
> Message: 2
> Date: Mon, 8 Feb 2010 10:48:35 -0600
> From: Otto <otto at ottodestruct.com>
> Subject: Re: [wp-hackers] Plugins: Best practice for conditional
>        loading of      actions and file includes
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <161617691002080848k602e78d9g3e585cbcfa58a554 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> On Sat, Feb 6, 2010 at 10:03 AM, Ade Walker <photofantaisie at gmail.com>
> wrote:
> > 2010/2/5 Otto <otto at ottodestruct.com>
> >
> >> Both, actually. No plugin should *ever* load wp-load directly. It's
> >> never, ever, necessary; it's sloppy programming style; and it's bad
> >> practice. However, it is often quick and easy to understand for some
> >> authors, so it does happen a fair amount. Still, it shouldn't be
> >> there, and any plugin you find with it should be fixed to not require
> >> it any more.
> >>
> >> Feel free to pass anybody you find doing this my email, and I'll tell
> >> them how to fix their plugin. :)
> >>
> >
> > Would you care to share on this list? Or can I contact you off line?
>
> Just email me directly if you want more info on this sort of thing. I
> don't hide my email address. :)
>
> Actually, this comes up so often that I might make a blog post about it.
>
> -Otto
> Sent from Memphis, TN, United States
>
>
> ------------------------------
>
> Message: 3
> Date: Mon, 08 Feb 2010 18:45:55 +0100
> From: Bjorn Wijers <burobjorn at gmail.com>
> Subject: [wp-hackers] howto including full path in javascript file.
> To: wp-hackers at lists.automattic.com
> Message-ID: <4B704DD3.8000909 at gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> Hi,
>
> I was wondering what other people use to include full paths in their
> theme javascript files and keep it dynamic (so no hardcoded paths!). For
> instance I would like to call some images in my javascript file and I
> need to use a full path. What would be the best practice for this?
>
> Thanks,
>
> grtz
> BjornW
>
> --
>
> met vriendelijke groet,
> Bjorn Wijers
>
> * b u r o b j o r n .nl *
> digitaal vakmanschap | digital craftsmanship
>
> Concordiastraat 68-126
> 3551 EM Utrecht
> The Netherlands
>
> phone: +31 6 49 74 78 70
> http://www.burobjorn.nl
>
>
> ------------------------------
>
> Message: 4
> Date: Mon, 8 Feb 2010 11:57:10 -0600
> From: "Mitch Canter | studionashvegas" <mitch at studionashvegas.com>
> Subject: Re: [wp-hackers] howto including full path in javascript
>        file.
> To: <wp-hackers at lists.automattic.com>
> Message-ID: <000901caa8e8$26ec7470$74c55d50$@com>
> Content-Type: text/plain;       charset="us-ascii"
>
> One of two options works - if you are keeping the javascript files in your
> root directory, prepend the urls with <?php bloginfo('siteurl'); ?>.  If
> you're doing it only within your template, use <?php
> bloginfo('template_directory'); ?>
>
> Example:
>
> src="<?php bloginfo('siteurl'); ?>/js/thickbox.js"
>
> or
>
> <img src="<?php bloginfo('siteurl'); ?>/js/img/thickbox.jpg">
>
> Good for linking to images too.
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Bjorn Wijers
> Sent: Monday, February 08, 2010 11:46 AM
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] howto including full path in javascript file.
>
> Hi,
>
> I was wondering what other people use to include full paths in their
> theme javascript files and keep it dynamic (so no hardcoded paths!). For
> instance I would like to call some images in my javascript file and I
> need to use a full path. What would be the best practice for this?
>
> Thanks,
>
> grtz
> BjornW
>
> --
>
> met vriendelijke groet,
> Bjorn Wijers
>
> * b u r o b j o r n .nl *
> digitaal vakmanschap | digital craftsmanship
>
> Concordiastraat 68-126
> 3551 EM Utrecht
> The Netherlands
>
> phone: +31 6 49 74 78 70
> http://www.burobjorn.nl
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
> ------------------------------
>
> Message: 5
> Date: Mon, 8 Feb 2010 13:40:50 -0500
> From: Chris Scott <cjscott69 at gmail.com>
> Subject: Re: [wp-hackers] howto including full path in javascript
>        file.
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <469fb3cc1002081040u2635e691taee286b67e91c57e at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> On Mon, Feb 8, 2010 at 12:45 PM, Bjorn Wijers <burobjorn at gmail.com> wrote:
> > Hi,
> >
> > I was wondering what other people use to include full paths in their
> > theme javascript files and keep it dynamic (so no hardcoded paths!). For
> > instance I would like to call some images in my javascript file and I
> > need to use a full path. What would be the best practice for this?
>
> You can add an action to wp_head to set a js var that is the URL to
> your site (e.g. using bloginfo('siteurl')). Make sure this action runs
> at a higher priority than your other js if you aren't putting them in
> the footer so the var is available to your scripts.
>
> --
> Chris Scott
> http://iamzed.com/
> http://hailtheale.com/
>
> >
> > Thanks,
> >
> > grtz
> > BjornW
> >
> > --
> >
> > met vriendelijke groet,
> > Bjorn Wijers
> >
> > * b u r o b j o r n .nl *
> > digitaal vakmanschap | digital craftsmanship
> >
> > Concordiastraat 68-126
> > 3551 EM Utrecht
> > The Netherlands
> >
> > phone: +31 6 49 74 78 70
> > http://www.burobjorn.nl
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> ------------------------------
>
> Message: 6
> Date: Mon, 8 Feb 2010 18:43:58 +0000
> From: tunamaxx at yahoo.com
> Subject: Re: [wp-hackers] howto including full path in javascript
>        file.
> To: wp-hackers at lists.automattic.com
> Message-ID:
>
>  <485788465-1265654649-cardhu_decombobulator_blackberry.rim.net-1753816410- at bda161.bisx.prod.on.blackberry
> >
>
> Content-Type: text/plain
>
> I think the OP was asking how to use the full path INSIDE javascripts, not
> how to include them in themes.
>
> I'd like to know how to do this as well. Could you create a var in a script
> in the head that contained the path as instructed by Mitch, and then use the
> value of that var in the included script?
>
> Thanks,
>
> Tony
>
> ------Original Message------
> From: Mitch Canter | studionashvegas
> Sender: wp-hackers-bounces at lists.automattic.com
> To: wp-hackers at lists.automattic.com
> ReplyTo: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] howto including full path in javascript file.
> Sent: Feb 8, 2010 9:57 AM
>
> One of two options works - if you are keeping the javascript files in your
> root directory, prepend the urls with <?php bloginfo('siteurl'); ?>.  If
> you're doing it only within your template, use <?php
> bloginfo('template_directory'); ?>
>
> Example:
>
> src="<?php bloginfo('siteurl'); ?>/js/thickbox.js"
>
> or
>
> <img src="<?php bloginfo('siteurl'); ?>/js/img/thickbox.jpg">
>
> Good for linking to images too.
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Bjorn Wijers
> Sent: Monday, February 08, 2010 11:46 AM
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] howto including full path in javascript file.
>
> Hi,
>
> I was wondering what other people use to include full paths in their
> theme javascript files and keep it dynamic (so no hardcoded paths!). For
> instance I would like to call some images in my javascript file and I
> need to use a full path. What would be the best practice for this?
>
> Thanks,
>
> grtz
> BjornW
>
> --
>
> met vriendelijke groet,
> Bjorn Wijers
>
> * b u r o b j o r n .nl *
> digitaal vakmanschap | digital craftsmanship
>
> Concordiastraat 68-126
> 3551 EM Utrecht
> The Netherlands
>
> phone: +31 6 49 74 78 70
> http://www.burobjorn.nl
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> ------------------------------
>
> Message: 7
> Date: Mon, 8 Feb 2010 17:23:32 -0200
> From: "Hikari" <lists at hikarinet.info>
> Subject: Re: [wp-hackers] howto including full path in javascript
>        file.
> To: <wp-hackers at lists.automattic.com>
> Message-ID: <F2EE14C48088442EA9F820CEC5F71700 at MAIN>
> Content-Type: text/plain;       charset="iso-8859-1"
>
> I've needed that once too :)
>
>
> Let's say you add your script:
>
>
>
> <?php
> add_action('wp_print_scripts', 'prefix_scriptAction');
>
> function prefix_scriptAction(){
>    wp_enqueue_script('prefix_js', plugin_dir_url(__FILE__).'myjs.js');
> }
> ?>
>
>
>
> First of all, you should avoid running your script just during the page
> load, because if you do so you'll make the page load slowly.
> Use the 'onload' event or add it to the footer ('wp_print_footer_scripts'
> action).
>
> Either way, use a JavaScript variable to store the path to your plugin's
> root folder. This variable should be present when your
> script needs it, so if your script runs after or just after the page load,
> I believe you can use the 'wp_print_scripts' action to
> add the variable to the header. Just change the previous function to
> include it.
>
>
>
> <?php
> add_action('wp_print_scripts', 'prefix_scriptAction');
>
> function prefix_scriptAction(){
>    wp_enqueue_script('prefix_js', plugin_dir_url(__FILE__).'myjs.js');
>
> ?>
>
> <script type="text/javascript">
>    var prefix_path = <?php echo plugin_dir_url(__FILE__); ?>;
> </script>
>
> <?php
> }
> ?>
>
>
> I didn't test the code, but it's an exemple. This way, your script can try
> for 'prefix_path', and if the code is right it will store
> the URL path to your plugin's root folder, and using it you can append
> subfolders and files, having access to what you want.
>
>
> I've already used a proprietary dropdown menu that its JS considered it
> would be always used in homepage, and when it run inside
> posts and other resources its images were being deleted, because they
> weren't where the script was expecting :P
>
>
> ---------------------------
> Hikari -  A Luz ilumina a PAZ
> http://Hikari.ws
> http://ConscienciaPlanetaria.com
>
> Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!:
> http://seunome.ConscienciaPlanetaria.com.br
>
>
>
> ------------------------------
>
> Message: 8
> Date: Mon, 8 Feb 2010 13:36:08 -0600
> From: Otto <otto at ottodestruct.com>
> Subject: Re: [wp-hackers] howto including full path in javascript
>        file.
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <161617691002081136k33409a40h662fb1c22bec378 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> On Mon, Feb 8, 2010 at 11:45 AM, Bjorn Wijers <burobjorn at gmail.com> wrote:
> > I was wondering what other people use to include full paths in their
> > theme javascript files and keep it dynamic (so no hardcoded paths!). For
> > instance I would like to call some images in my javascript file and I
> > need to use a full path. What would be the best practice for this?
>
> Best way in a plugin:
>
> add_action('wp_print_scripts','myscript');
> function myscript() {
> ?>
> <script type="text/javascript">
>   var my_plugin_url = <?php echo plugin_dir_url(__FILE__); ?>;
> </script>
> <?php
> }
>
> This will get put into the page before your enqueued scripts, so the
> variable will be defined and available for them to use.
>
> You can use this same basic approach to pass along other settings to
> javascripts as well. In fact, the admin side of things does it for
> you. Look at the source of an admin page, and notice the handy
> userSettings array, as well as the ajaxurl variable.
>
>
> -Otto
> Sent from Memphis, TN, United States
>
>
> ------------------------------
>
> Message: 9
> Date: Mon, 8 Feb 2010 11:56:29 -0800 (PST)
> From: logikal16 <logikal16 at gmail.com>
> Subject: Re: [wp-hackers] howto including full path in javascript
>        file.
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <ff0a102d-83ac-46a0-99fd-10995aa490b8 at j1g2000vbl.googlegroups.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> <script type="text/javascript">
> var mypath = "<?php echo WP_CONTENT_URL; ?>/img/somefile.gif";
> // more javascript code
> // you could also use the WP_PLUGIN_URL constant
> </script>
>
> I keep as much stuff in "wp-content" as possible (instead of the site
> root). This isn't for everything (robots.txt, sitemap.xml.gz), but it
> keeps all of the custom files together, making any updates/migrations
> a bit simpler.
>
> Matt
>
> On Feb 8, 2:36?pm, Otto <o... at ottodestruct.com> wrote:
> > On Mon, Feb 8, 2010 at 11:45 AM, Bjorn Wijers <burobj... at gmail.com>
> wrote:
> > > I was wondering what other people use to include full paths in their
> > > theme javascript files and keep it dynamic (so no hardcoded paths!).
> For
> > > instance I would like to call some images in my javascript file and I
> > > need to use a full path. What would be the best practice for this?
> >
> > Best way in a plugin:
> >
> > add_action('wp_print_scripts','myscript');
> > function myscript() {
> > ?>
> > <script type="text/javascript">
> > ? ?var my_plugin_url = <?php echo plugin_dir_url(__FILE__); ?>;
> > </script>
> > <?php
> >
> > }
> >
> > This will get put into the page before your enqueued scripts, so the
> > variable will be defined and available for them to use.
> >
> > You can use this same basic approach to pass along other settings to
> > javascripts as well. In fact, the admin side of things does it for
> > you. Look at the source of an admin page, and notice the handy
> > userSettings array, as well as the ajaxurl variable.
> >
> > -Otto
> > Sent from Memphis, TN, United States
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hack... at lists.automattic.comhttp://
> lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> ------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> End of wp-hackers Digest, Vol 61, Issue 24
> ******************************************
>

From knxdt.blogspot at gmail.com  Tue Feb  9 07:11:23 2010
From: knxdt.blogspot at gmail.com (KnxDT)
Date: Tue, 9 Feb 2010 02:11:23 -0500
Subject: [wp-hackers]  Another plugin removed from WP.org extend directory
Message-ID: <ae349e5e1002082311q71e1f2ceh269cd91a3a66c4a0@mail.gmail.com>

Hi:

My plugin has been removed from WP Extend Repository. I've been looking for
some answers and I encountered that this one is not the first case (of a
plugin removed) in the last month. For example this one:

http://osdir.com/ml/wordpress-hackers/2010-01/msg00205.html

The diference is that my plugin is not SEO based and I'm not sure if already
exists another one that do the same things (that my plugin does). My plugin
is not listing anymore and I only can see it when I log in with my account.

The url is:
http://wordpress.org/extend/plugins/feedburner-subscription-widget/
Download link:
http://downloads.wordpress.org/plugin/feedburner-subscription-widget.zip
SVN link: http://svn.wp-plugins.org/feedburner-subscription-widget/

As you can see the plugin is still hosted on Wordpress SVN but not listed. I
read that maybe could be a problem related with a security flaw (like in
other cases) or maybe if the plugin is too similar to another one. I was
checking this posibility and I remember that I based my plugin in this one
(that only shows a feed counter, not the whole subscription form):

http://wordpress.org/extend/plugins/feedburner-widget/

Maybe the code is quite similar and they removed my plugin because of that.
I'm not sure because they (Wordpress Dev Team) didn't send me any kind of
message about this situation.

Any ideas? Thank you very much for your support and your patience.

PS: Excuse me if my English isn't good enough, I speak Spanish :)

From wordpress at dd32.id.au  Tue Feb  9 07:40:05 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Tue, 09 Feb 2010 18:40:05 +1100
Subject: [wp-hackers] query_posts orderby=meta_value
In-Reply-To: <1d9b57821002082206x42dd7cd6qb8a52954ad4c62b5@mail.gmail.com>
References: <1d9b57821002082206x42dd7cd6qb8a52954ad4c62b5@mail.gmail.com>
Message-ID: <op.u7unk0spspxmuu@ho.st>

Pretty sure its asking you to add a meta_key=... item, ie:

"post_type=page&posts_per_page=5&order=meta_value&meta_key=order"

Order posts by Meta_Value on Meta_Key Is 'order'



On Tue, 09 Feb 2010 17:06:45 +1100, Ash Goodman <ash at thinkinginvain.com>  
wrote:

> Hi all, I wonder if anyone can tell me: according to this page in the  
> codex:
> http://codex.wordpress.org/Template_Tags/query_posts in the section  
> "Orderby
> Parameters" I should be able to order the resulting posts from a custom
> query (orderby=meta_value - Note: A meta_key=keyname must also be  
> present in
> the query. )
>
> So for example I would have a query with the following parameters:
> "post_type=page&posts_per_page=5&meta_key=order" and then I would specify
> the meta_value=
>
> And thats where it breaks down for me as If I specify a specific  
> meta_value
> how exactly would ordering be achieved? if all the posts ahd the same
> meta_value wouldn't the ordering just fall back to default?
>
> I am sure I am just not grasping what's happening correctly and would
> welcome anyone's help in getting my thick head round this.
>
> Thanks!
>
> Ash
>
> On 9 February 2010 03:56, <wp-hackers-request at lists.automattic.com>  
> wrote:
>
>> Send wp-hackers mailing list submissions to
>>        wp-hackers at lists.automattic.com
>>
>> To subscribe or unsubscribe via the World Wide Web, visit
>>        http://lists.automattic.com/mailman/listinfo/wp-hackers
>> or, via email, send a message with subject or body 'help' to
>>        wp-hackers-request at lists.automattic.com
>>
>> You can reach the person managing the list at
>>        wp-hackers-owner at lists.automattic.com
>>
>> When replying, please edit your Subject line so it is more specific
>> than "Re: Contents of wp-hackers digest..."
>>
>>
>> Today's Topics:
>>
>>   1. Re: Plugins: Best practice for conditional loading of     actions
>>      and file includes (Otto)
>>   2. Re: Plugins: Best practice for conditional loading of     actions
>>      and file includes (Otto)
>>   3. howto including full path in javascript file. (Bjorn Wijers)
>>   4. Re: howto including full path in javascript file.
>>      (Mitch Canter | studionashvegas)
>>   5. Re: howto including full path in javascript file. (Chris Scott)
>>   6. Re: howto including full path in javascript file.
>>      (tunamaxx at yahoo.com)
>>   7. Re: howto including full path in javascript file. (Hikari)
>>   8. Re: howto including full path in javascript file. (Otto)
>>   9. Re: howto including full path in javascript file. (logikal16)
>>
>>
>> ----------------------------------------------------------------------
>>
>> Message: 1
>> Date: Mon, 8 Feb 2010 10:47:15 -0600
>> From: Otto <otto at ottodestruct.com>
>> Subject: Re: [wp-hackers] Plugins: Best practice for conditional
>>        loading of      actions and file includes
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>>        <161617691002080847r3df5dea8q215e852a4638e726 at mail.gmail.com>
>> Content-Type: text/plain; charset=ISO-8859-1
>>
>> On Fri, Feb 5, 2010 at 4:20 PM, Ozh <ozh at planetozh.com> wrote:
>> > On Fri, Feb 5, 2010 at 9:48 PM, Otto <otto at ottodestruct.com> wrote:
>> >> So, best practice: Keep hooks near the functions they are hooking. If
>> >> you don't like the way that looks, then at least keep them in the  
>> same
>> >> file.
>> >
>> > I prefer grouping all the hooks at the same place instead of spreading
>> > them all across the file(s), because having them in one place makes it
>> > easier in one glance to understand the flow of things and what happens
>> > when.
>> >
>> > This said, I don't think the location of the hooks (near their
>> > functions or all grouped in one place) is a matter of "best practice"
>> > (assuming they're correctly declared in both case of course)
>>
>> Let's just say that you're far less likely to accidentally add a hook
>> to an undeclared function if you have the hook and the function right
>> next to each other.
>>
>> -Otto
>> Sent from Memphis, TN, United States
>>
>>
>> ------------------------------
>>
>> Message: 2
>> Date: Mon, 8 Feb 2010 10:48:35 -0600
>> From: Otto <otto at ottodestruct.com>
>> Subject: Re: [wp-hackers] Plugins: Best practice for conditional
>>        loading of      actions and file includes
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>>        <161617691002080848k602e78d9g3e585cbcfa58a554 at mail.gmail.com>
>> Content-Type: text/plain; charset=ISO-8859-1
>>
>> On Sat, Feb 6, 2010 at 10:03 AM, Ade Walker <photofantaisie at gmail.com>
>> wrote:
>> > 2010/2/5 Otto <otto at ottodestruct.com>
>> >
>> >> Both, actually. No plugin should *ever* load wp-load directly. It's
>> >> never, ever, necessary; it's sloppy programming style; and it's bad
>> >> practice. However, it is often quick and easy to understand for some
>> >> authors, so it does happen a fair amount. Still, it shouldn't be
>> >> there, and any plugin you find with it should be fixed to not require
>> >> it any more.
>> >>
>> >> Feel free to pass anybody you find doing this my email, and I'll tell
>> >> them how to fix their plugin. :)
>> >>
>> >
>> > Would you care to share on this list? Or can I contact you off line?
>>
>> Just email me directly if you want more info on this sort of thing. I
>> don't hide my email address. :)
>>
>> Actually, this comes up so often that I might make a blog post about it.
>>
>> -Otto
>> Sent from Memphis, TN, United States
>>
>>
>> ------------------------------
>>
>> Message: 3
>> Date: Mon, 08 Feb 2010 18:45:55 +0100
>> From: Bjorn Wijers <burobjorn at gmail.com>
>> Subject: [wp-hackers] howto including full path in javascript file.
>> To: wp-hackers at lists.automattic.com
>> Message-ID: <4B704DD3.8000909 at gmail.com>
>> Content-Type: text/plain; charset=UTF-8
>>
>> Hi,
>>
>> I was wondering what other people use to include full paths in their
>> theme javascript files and keep it dynamic (so no hardcoded paths!). For
>> instance I would like to call some images in my javascript file and I
>> need to use a full path. What would be the best practice for this?
>>
>> Thanks,
>>
>> grtz
>> BjornW
>>
>> --
>>
>> met vriendelijke groet,
>> Bjorn Wijers
>>
>> * b u r o b j o r n .nl *
>> digitaal vakmanschap | digital craftsmanship
>>
>> Concordiastraat 68-126
>> 3551 EM Utrecht
>> The Netherlands
>>
>> phone: +31 6 49 74 78 70
>> http://www.burobjorn.nl
>>
>>
>> ------------------------------
>>
>> Message: 4
>> Date: Mon, 8 Feb 2010 11:57:10 -0600
>> From: "Mitch Canter | studionashvegas" <mitch at studionashvegas.com>
>> Subject: Re: [wp-hackers] howto including full path in javascript
>>        file.
>> To: <wp-hackers at lists.automattic.com>
>> Message-ID: <000901caa8e8$26ec7470$74c55d50$@com>
>> Content-Type: text/plain;       charset="us-ascii"
>>
>> One of two options works - if you are keeping the javascript files in  
>> your
>> root directory, prepend the urls with <?php bloginfo('siteurl'); ?>.  If
>> you're doing it only within your template, use <?php
>> bloginfo('template_directory'); ?>
>>
>> Example:
>>
>> src="<?php bloginfo('siteurl'); ?>/js/thickbox.js"
>>
>> or
>>
>> <img src="<?php bloginfo('siteurl'); ?>/js/img/thickbox.jpg">
>>
>> Good for linking to images too.
>>
>> -----Original Message-----
>> From: wp-hackers-bounces at lists.automattic.com
>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Bjorn  
>> Wijers
>> Sent: Monday, February 08, 2010 11:46 AM
>> To: wp-hackers at lists.automattic.com
>> Subject: [wp-hackers] howto including full path in javascript file.
>>
>> Hi,
>>
>> I was wondering what other people use to include full paths in their
>> theme javascript files and keep it dynamic (so no hardcoded paths!). For
>> instance I would like to call some images in my javascript file and I
>> need to use a full path. What would be the best practice for this?
>>
>> Thanks,
>>
>> grtz
>> BjornW
>>
>> --
>>
>> met vriendelijke groet,
>> Bjorn Wijers
>>
>> * b u r o b j o r n .nl *
>> digitaal vakmanschap | digital craftsmanship
>>
>> Concordiastraat 68-126
>> 3551 EM Utrecht
>> The Netherlands
>>
>> phone: +31 6 49 74 78 70
>> http://www.burobjorn.nl
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>>
>> ------------------------------
>>
>> Message: 5
>> Date: Mon, 8 Feb 2010 13:40:50 -0500
>> From: Chris Scott <cjscott69 at gmail.com>
>> Subject: Re: [wp-hackers] howto including full path in javascript
>>        file.
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>>        <469fb3cc1002081040u2635e691taee286b67e91c57e at mail.gmail.com>
>> Content-Type: text/plain; charset=ISO-8859-1
>>
>> On Mon, Feb 8, 2010 at 12:45 PM, Bjorn Wijers <burobjorn at gmail.com>  
>> wrote:
>> > Hi,
>> >
>> > I was wondering what other people use to include full paths in their
>> > theme javascript files and keep it dynamic (so no hardcoded paths!).  
>> For
>> > instance I would like to call some images in my javascript file and I
>> > need to use a full path. What would be the best practice for this?
>>
>> You can add an action to wp_head to set a js var that is the URL to
>> your site (e.g. using bloginfo('siteurl')). Make sure this action runs
>> at a higher priority than your other js if you aren't putting them in
>> the footer so the var is available to your scripts.
>>
>> --
>> Chris Scott
>> http://iamzed.com/
>> http://hailtheale.com/
>>
>> >
>> > Thanks,
>> >
>> > grtz
>> > BjornW
>> >
>> > --
>> >
>> > met vriendelijke groet,
>> > Bjorn Wijers
>> >
>> > * b u r o b j o r n .nl *
>> > digitaal vakmanschap | digital craftsmanship
>> >
>> > Concordiastraat 68-126
>> > 3551 EM Utrecht
>> > The Netherlands
>> >
>> > phone: +31 6 49 74 78 70
>> > http://www.burobjorn.nl
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>>
>>
>> ------------------------------
>>
>> Message: 6
>> Date: Mon, 8 Feb 2010 18:43:58 +0000
>> From: tunamaxx at yahoo.com
>> Subject: Re: [wp-hackers] howto including full path in javascript
>>        file.
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>>
>>  <485788465-1265654649-cardhu_decombobulator_blackberry.rim.net-1753816410- at bda161.bisx.prod.on.blackberry
>> >
>>
>> Content-Type: text/plain
>>
>> I think the OP was asking how to use the full path INSIDE javascripts,  
>> not
>> how to include them in themes.
>>
>> I'd like to know how to do this as well. Could you create a var in a  
>> script
>> in the head that contained the path as instructed by Mitch, and then  
>> use the
>> value of that var in the included script?
>>
>> Thanks,
>>
>> Tony
>>
>> ------Original Message------
>> From: Mitch Canter | studionashvegas
>> Sender: wp-hackers-bounces at lists.automattic.com
>> To: wp-hackers at lists.automattic.com
>> ReplyTo: wp-hackers at lists.automattic.com
>> Subject: Re: [wp-hackers] howto including full path in javascript file.
>> Sent: Feb 8, 2010 9:57 AM
>>
>> One of two options works - if you are keeping the javascript files in  
>> your
>> root directory, prepend the urls with <?php bloginfo('siteurl'); ?>.  If
>> you're doing it only within your template, use <?php
>> bloginfo('template_directory'); ?>
>>
>> Example:
>>
>> src="<?php bloginfo('siteurl'); ?>/js/thickbox.js"
>>
>> or
>>
>> <img src="<?php bloginfo('siteurl'); ?>/js/img/thickbox.jpg">
>>
>> Good for linking to images too.
>>
>> -----Original Message-----
>> From: wp-hackers-bounces at lists.automattic.com
>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Bjorn  
>> Wijers
>> Sent: Monday, February 08, 2010 11:46 AM
>> To: wp-hackers at lists.automattic.com
>> Subject: [wp-hackers] howto including full path in javascript file.
>>
>> Hi,
>>
>> I was wondering what other people use to include full paths in their
>> theme javascript files and keep it dynamic (so no hardcoded paths!). For
>> instance I would like to call some images in my javascript file and I
>> need to use a full path. What would be the best practice for this?
>>
>> Thanks,
>>
>> grtz
>> BjornW
>>
>> --
>>
>> met vriendelijke groet,
>> Bjorn Wijers
>>
>> * b u r o b j o r n .nl *
>> digitaal vakmanschap | digital craftsmanship
>>
>> Concordiastraat 68-126
>> 3551 EM Utrecht
>> The Netherlands
>>
>> phone: +31 6 49 74 78 70
>> http://www.burobjorn.nl
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>> ------------------------------
>>
>> Message: 7
>> Date: Mon, 8 Feb 2010 17:23:32 -0200
>> From: "Hikari" <lists at hikarinet.info>
>> Subject: Re: [wp-hackers] howto including full path in javascript
>>        file.
>> To: <wp-hackers at lists.automattic.com>
>> Message-ID: <F2EE14C48088442EA9F820CEC5F71700 at MAIN>
>> Content-Type: text/plain;       charset="iso-8859-1"
>>
>> I've needed that once too :)
>>
>>
>> Let's say you add your script:
>>
>>
>>
>> <?php
>> add_action('wp_print_scripts', 'prefix_scriptAction');
>>
>> function prefix_scriptAction(){
>>    wp_enqueue_script('prefix_js', plugin_dir_url(__FILE__).'myjs.js');
>> }
>> ?>
>>
>>
>>
>> First of all, you should avoid running your script just during the page
>> load, because if you do so you'll make the page load slowly.
>> Use the 'onload' event or add it to the footer  
>> ('wp_print_footer_scripts'
>> action).
>>
>> Either way, use a JavaScript variable to store the path to your plugin's
>> root folder. This variable should be present when your
>> script needs it, so if your script runs after or just after the page  
>> load,
>> I believe you can use the 'wp_print_scripts' action to
>> add the variable to the header. Just change the previous function to
>> include it.
>>
>>
>>
>> <?php
>> add_action('wp_print_scripts', 'prefix_scriptAction');
>>
>> function prefix_scriptAction(){
>>    wp_enqueue_script('prefix_js', plugin_dir_url(__FILE__).'myjs.js');
>>
>> ?>
>>
>> <script type="text/javascript">
>>    var prefix_path = <?php echo plugin_dir_url(__FILE__); ?>;
>> </script>
>>
>> <?php
>> }
>> ?>
>>
>>
>> I didn't test the code, but it's an exemple. This way, your script can  
>> try
>> for 'prefix_path', and if the code is right it will store
>> the URL path to your plugin's root folder, and using it you can append
>> subfolders and files, having access to what you want.
>>
>>
>> I've already used a proprietary dropdown menu that its JS considered it
>> would be always used in homepage, and when it run inside
>> posts and other resources its images were being deleted, because they
>> weren't where the script was expecting :P
>>
>>
>> ---------------------------
>> Hikari -  A Luz ilumina a PAZ
>> http://Hikari.ws
>> http://ConscienciaPlanetaria.com
>>
>> Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!:
>> http://seunome.ConscienciaPlanetaria.com.br
>>
>>
>>
>> ------------------------------
>>
>> Message: 8
>> Date: Mon, 8 Feb 2010 13:36:08 -0600
>> From: Otto <otto at ottodestruct.com>
>> Subject: Re: [wp-hackers] howto including full path in javascript
>>        file.
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>>        <161617691002081136k33409a40h662fb1c22bec378 at mail.gmail.com>
>> Content-Type: text/plain; charset=ISO-8859-1
>>
>> On Mon, Feb 8, 2010 at 11:45 AM, Bjorn Wijers <burobjorn at gmail.com>  
>> wrote:
>> > I was wondering what other people use to include full paths in their
>> > theme javascript files and keep it dynamic (so no hardcoded paths!).  
>> For
>> > instance I would like to call some images in my javascript file and I
>> > need to use a full path. What would be the best practice for this?
>>
>> Best way in a plugin:
>>
>> add_action('wp_print_scripts','myscript');
>> function myscript() {
>> ?>
>> <script type="text/javascript">
>>   var my_plugin_url = <?php echo plugin_dir_url(__FILE__); ?>;
>> </script>
>> <?php
>> }
>>
>> This will get put into the page before your enqueued scripts, so the
>> variable will be defined and available for them to use.
>>
>> You can use this same basic approach to pass along other settings to
>> javascripts as well. In fact, the admin side of things does it for
>> you. Look at the source of an admin page, and notice the handy
>> userSettings array, as well as the ajaxurl variable.
>>
>>
>> -Otto
>> Sent from Memphis, TN, United States
>>
>>
>> ------------------------------
>>
>> Message: 9
>> Date: Mon, 8 Feb 2010 11:56:29 -0800 (PST)
>> From: logikal16 <logikal16 at gmail.com>
>> Subject: Re: [wp-hackers] howto including full path in javascript
>>        file.
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>>        <ff0a102d-83ac-46a0-99fd-10995aa490b8 at j1g2000vbl.googlegroups.com>
>> Content-Type: text/plain; charset=ISO-8859-1
>>
>> <script type="text/javascript">
>> var mypath = "<?php echo WP_CONTENT_URL; ?>/img/somefile.gif";
>> // more javascript code
>> // you could also use the WP_PLUGIN_URL constant
>> </script>
>>
>> I keep as much stuff in "wp-content" as possible (instead of the site
>> root). This isn't for everything (robots.txt, sitemap.xml.gz), but it
>> keeps all of the custom files together, making any updates/migrations
>> a bit simpler.
>>
>> Matt
>>
>> On Feb 8, 2:36?pm, Otto <o... at ottodestruct.com> wrote:
>> > On Mon, Feb 8, 2010 at 11:45 AM, Bjorn Wijers <burobj... at gmail.com>
>> wrote:
>> > > I was wondering what other people use to include full paths in their
>> > > theme javascript files and keep it dynamic (so no hardcoded paths!).
>> For
>> > > instance I would like to call some images in my javascript file and  
>> I
>> > > need to use a full path. What would be the best practice for this?
>> >
>> > Best way in a plugin:
>> >
>> > add_action('wp_print_scripts','myscript');
>> > function myscript() {
>> > ?>
>> > <script type="text/javascript">
>> > ? ?var my_plugin_url = <?php echo plugin_dir_url(__FILE__); ?>;
>> > </script>
>> > <?php
>> >
>> > }
>> >
>> > This will get put into the page before your enqueued scripts, so the
>> > variable will be defined and available for them to use.
>> >
>> > You can use this same basic approach to pass along other settings to
>> > javascripts as well. In fact, the admin side of things does it for
>> > you. Look at the source of an admin page, and notice the handy
>> > userSettings array, as well as the ajaxurl variable.
>> >
>> > -Otto
>> > Sent from Memphis, TN, United States
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hack... at lists.automattic.comhttp://
>> lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>> ------------------------------
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>> End of wp-hackers Digest, Vol 61, Issue 24
>> ******************************************
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
  Web: http://dd32.id.au/

From contact at hervedesign.com  Tue Feb  9 08:18:44 2010
From: contact at hervedesign.com (Jeremy Herve)
Date: Tue, 9 Feb 2010 09:18:44 +0100
Subject: [wp-hackers] Theme options panel questions - Add social bookmarking
Message-ID: <3c327eda1002090018n35326689r7c961d7cc03b799c@mail.gmail.com>

Hi there!

I am having a few issues figuring this out by myself, and I did not
receive help on the WordPress forums, so I now ask the question
directly to the pros! :)

I am trying to develop a theme with an options panel allowing the user
to choose which social bookmarking websites he would like to have
displayed on single articles pages thanks to checkboxes.

Here is what I have done so far:

In my functions.php
http://pastebin.com/f37ea5d17

In single.php
http://pastebin.com/f3d9d923d

But I must miss something: everything is displayed in single.php,
checkboxes activated or not; and when I try to modify checkboxes in
the admin options panel, I get an error message:
"You do not have sufficient permissions to access this page."

Do you have any idea how to work this out?

Thanks for your help!

Jeremy Herve
http://twitter.com/jeherve

From sbruner at slipfire.com  Tue Feb  9 12:04:26 2010
From: sbruner at slipfire.com (Steve Bruner [SlipFire])
Date: Tue, 9 Feb 2010 07:04:26 -0500
Subject: [wp-hackers] query_posts orderby=meta_value
Message-ID: <f8f68a601002090404p2ce9ecdereeb5c873dcca3064@mail.gmail.com>

I believe you don't specify the meta_value, you use it to orderby:

"post_type=page&posts_per_page=5&meta_key=order&orderby=meta_value&order=ASC"

Steve

------------------------------------------------------------------
Steve Bruner

SlipFire Business Solutions
website design / online advertising / analytics / digital coaching
www.slipfire.com

From leif.a.andersen at gmail.com  Tue Feb  9 12:55:52 2010
From: leif.a.andersen at gmail.com (Leif Andersen)
Date: Tue, 9 Feb 2010 05:55:52 -0700
Subject: [wp-hackers] Remove Plugin from wordpress.org?
In-Reply-To: <fcdf09e5-e18a-41bb-a076-60163092d26c@o26g2000vbd.googlegroups.com>
References: <07a99c9a46dc290cfd162a82c27dd384.squirrel@mfields.org> 
	<4B6F410E.2080803@visser.name>
	<fcdf09e5-e18a-41bb-a076-60163092d26c@o26g2000vbd.googlegroups.com>
Message-ID: <f55773ba1002090455t78a9aaf1pd1ac886085d5a272@mail.gmail.com>

Perhaps what could be done, if the people who designed the plugin
architecture were so paranoid about loosing a line of code, could create an
archive system.  So the plugin isn't in the main plugin repos, but the code
would still be available on an archive website.

~Leif
----------
So Much to Learn, Such Little Time
http://leifandersen.net/2010/02/03/so-much-to-learn-such-little-time/


On Mon, Feb 8, 2010 at 14:00, logikal16 <logikal16 at gmail.com> wrote:

> I know this has been discussed before, but is worth reiterating.
>
> Plugin authors should be able to remove their own plugins from the
> repository.
>
> The statement of "letting old plugins rot to preserve the open source
> model" is absurd. If authors want to hand their plugins off to someone
> else (or write an abandoned message), that's fine. If they want to
> remove the plugin from the repository, then nothing should prevent
> that from happening too.
>
> The open source model doesn't say anything about forcing code to exist
> in the repository forever. If someone finds the plugin's code and
> chooses to create an open-source forked version, then there's nothing
> stopping that from happening.
>
> The issue is there are many obsolete, redundant, sandbox (e.g. "Plugin
> Name"), and broken plugins clogging up the repo. They're still in the
> repo because the authors weren't able to remove them. Regardless of
> how optimistic you'd like to be, the fact is that many of these
> plugins will never find a new home -- or see another update.
>
> Please, do us all a favor and allow plugin authors to remove their own
> plugins.
>
> Matt
>
>
> On Feb 7, 5:39 pm, Jeremy Visser <jer... at visser.name> wrote:
> > -----BEGIN PGP SIGNED MESSAGE-----
> > Hash: SHA1
> >
> > On 08/02/10 03:57, mich... at mfields.org wrote:
> >
> > > I would like to have one of my plugins removed from the directory and
> > > can't figure out how to do it.
> >
> > > I've tried email, but received no response. Any suggestions?
> >
> > About a year or so ago, I had my plugin removed, and Matt responded by
> > e-mail from the plugin contact address, so that should have worked.
> >
> > I guess to make it easier to verify that your request is legitimate, you
> > should blank your SVN repository (with perhaps a commit message saying
> > why), and then point to that in a subsequent e-mail.
> >
> > -----BEGIN PGP SIGNATURE-----
> > Version: GnuPG v1.4.9 (GNU/Linux)
> >
> > iEYEARECAAYFAktvQQwACgkQvs6Qqs8TxBq0QACg9EINgpCdVaIf5TUx5FNhVHiz
> > 72IAn0FP1Ahl7D0e+ey1cMDj5a+YLdBE
> > =Op6r
> > -----END PGP SIGNATURE-----
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hack... at lists.automattic.comhttp://
> lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From 24-7 at gmx.net  Tue Feb  9 14:41:03 2010
From: 24-7 at gmx.net (24/7)
Date: Tue, 9 Feb 2010 15:41:03 +0100
Subject: [wp-hackers] Plugins: Best practice for conditional loading
	of	actions and file includes
In-Reply-To: <161617691002080848k602e78d9g3e585cbcfa58a554@mail.gmail.com>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com>
	<161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com>
	<9dd057851002060803h2c137030y5020532820442935@mail.gmail.com>
	<161617691002080848k602e78d9g3e585cbcfa58a554@mail.gmail.com>
Message-ID: <002b01caa995$e8223e60$b866bb20$@net>

Hi Otto, I hope you do share your blog-post with a link over here. I would
be interessted to

-k.

-----Urspr?ngliche Nachricht-----
Von: Otto [mailto:otto at ottodestruct.com] 
Gesendet: Montag, 08. Februar 2010 17:49
An: wp-hackers at lists.automattic.com
Betreff: Re: [wp-hackers] Plugins: Best practice for conditional loading of
actions and file includes

On Sat, Feb 6, 2010 at 10:03 AM, Ade Walker <photofantaisie at gmail.com>
wrote:
> 2010/2/5 Otto <otto at ottodestruct.com>
>
>> Both, actually. No plugin should *ever* load wp-load directly. It's
>> never, ever, necessary; it's sloppy programming style; and it's bad
>> practice. However, it is often quick and easy to understand for some
>> authors, so it does happen a fair amount. Still, it shouldn't be
>> there, and any plugin you find with it should be fixed to not require
>> it any more.
>>
>> Feel free to pass anybody you find doing this my email, and I'll tell
>> them how to fix their plugin. :)
>>
>
> Would you care to share on this list? Or can I contact you off line?

Just email me directly if you want more info on this sort of thing. I
don't hide my email address. :)

Actually, this comes up so often that I might make a blog post about it.

-Otto
Sent from Memphis, TN, United States



From mikeschinkel at newclarity.net  Tue Feb  9 15:04:20 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 9 Feb 2010 10:04:20 -0500
Subject: [wp-hackers] Plugins: Best practice for conditional loading of
	actions and file includes
In-Reply-To: <161617691002080847r3df5dea8q215e852a4638e726@mail.gmail.com>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com>
	<161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com>
	<ae81acd11002051420x59836a47hc123c4544a86b97f@mail.gmail.com>
	<161617691002080847r3df5dea8q215e852a4638e726@mail.gmail.com>
Message-ID: <BA6CBF50-B6EB-4613-B67E-53AF1CF7585C@newclarity.net>

On Feb 8, 2010, at 11:47 AM, Otto wrote:
> Let's just say that you're far less likely to accidentally add a hook
> to an undeclared function if you have the hook and the function right
> next to each other.


FWIW, I find that code pattern to optimize for original programmer rather than optimizing for maintenance programmer and code reader.  Since original development is done once and maintenance and reading can be done hundreds or thousands of times it seems to me to be a no-brainer to optimize for the latter.

Here is the cut-down version of a pattern I tend to use for my plugins:

<?php
/*
Plugin Name: My Plugin
*/
MyPlugin::init();

class MyPlugin {
	const MY_CONST = 'My Value';
	static $my_vars = array();

	static function init() {
		add_action('<hook1>', array(__CLASS__,'<hook1_func>'));
		add_action('<hook2>', array(__CLASS__,'<hook2_func>'));
	}

	static function <hook1_func>() {
		// Do hook 1 stuff here
	}

	static function <hook2_func>() {
		// Do hook 2 stuff here
	}
}

Note this pattern has the benefit of adding only one named symbol into the global namespace and thus minimizes the likelihood of conflict and reduces the number of really long global names which is how many people try to minimize likelihood of symbol name conflict.

Of course I'm sure it can be improved and I'd love to hear any improvements.

-Mike

From gaarai at gaarai.com  Tue Feb  9 15:21:18 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Tue, 09 Feb 2010 09:21:18 -0600
Subject: [wp-hackers] Theme options panel questions - Add social
	bookmarking
In-Reply-To: <3c327eda1002090018n35326689r7c961d7cc03b799c@mail.gmail.com>
References: <3c327eda1002090018n35326689r7c961d7cc03b799c@mail.gmail.com>
Message-ID: <4B717D6E.5020000@gaarai.com>

For your single.php code, you have two main issues:

   1. All of your begin PHP blocks are "<?" rather than "<?php". While
      this may work on some systems, it will fail on others. So, always
      use "<?php" rather than "<?".
   2. You are referencing variables that don't exist. For example, there
      is not a $mytheme_facebook_enable variable. Instead, you should be
      checking get_option('mytheme_facebook_enable') as the data is
      stored in the options system.

Logically, your functions.php code is fine. My main suggestion is that 
you change get_settings to get_option as the get_settings function is 
deprecated. get_option functions in the same was as get_settings, so 
only the function name needs to be changed.

Going beyond the project at hand, I recommend the following to improve 
your development practices:

    * Learn some coding practice fundamentals. Using proper indenting
      and a clean, consistent coding style will make your code easier to
      read and debug. I recommend reading the following:
          o http://codex.wordpress.org/WordPress_Coding_Standards
          o http://en.wikipedia.org/wiki/Indent_style
    * Avoid deprecated functions: http://en.wikipedia.org/wiki/Deprecation
    * Enable WP_DEBUG in your wp-config.php as this will show you
      warnings about non-existent variables (your single.php variables),
      deprecated functions (the get_settings calls in functions.php),
      and unchecked array indexes (this can be useful to find out when
      you have a typo in your array references).
      http://codex.wordpress.org/Editing_wp-config.php#Debug

Chris Jean
Coder for http://ithemes.com/
http://gaarai.com/
@chrisjean


On 02/09/2010 02:18 AM, Jeremy Herve wrote:
> Hi there!
>
> I am having a few issues figuring this out by myself, and I did not
> receive help on the WordPress forums, so I now ask the question
> directly to the pros! :)
>
> I am trying to develop a theme with an options panel allowing the user
> to choose which social bookmarking websites he would like to have
> displayed on single articles pages thanks to checkboxes.
>
> Here is what I have done so far:
>
> In my functions.php
> http://pastebin.com/f37ea5d17
>
> In single.php
> http://pastebin.com/f3d9d923d
>
> But I must miss something: everything is displayed in single.php,
> checkboxes activated or not; and when I try to modify checkboxes in
> the admin options panel, I get an error message:
> "You do not have sufficient permissions to access this page."
>
> Do you have any idea how to work this out?
>
> Thanks for your help!
>
> Jeremy Herve
> http://twitter.com/jeherve
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    

From otto at ottodestruct.com  Tue Feb  9 17:27:30 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 9 Feb 2010 11:27:30 -0600
Subject: [wp-hackers] Plugins: Best practice for conditional loading of
	actions and file includes
In-Reply-To: <002b01caa995$e8223e60$b866bb20$@net>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com> 
	<161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com> 
	<9dd057851002060803h2c137030y5020532820442935@mail.gmail.com> 
	<161617691002080848k602e78d9g3e585cbcfa58a554@mail.gmail.com> 
	<002b01caa995$e8223e60$b866bb20$@net>
Message-ID: <161617691002090927l6909bbpd4dfef4e5216e56b@mail.gmail.com>

On Tue, Feb 9, 2010 at 8:41 AM, 24/7 <24-7 at gmx.net> wrote:
> Hi Otto, I hope you do share your blog-post with a link over here. I would
> be interessted to
>
> -k.

Sure: http://ottodestruct.com/blog/2010/dont-include-wp-load-please/

-Otto

From marvinc at gmail.com  Tue Feb  9 19:07:35 2010
From: marvinc at gmail.com (MarvinC)
Date: Tue, 9 Feb 2010 14:07:35 -0500
Subject: [wp-hackers] Possible OT: Force certain posts to front page in
	specific order
Message-ID: <604360771002091107p457cfa46u402db1daeaa34f7b@mail.gmail.com>

Is it possible to force posts from certain categories to appear certain
slots on the front page? So I'd have

Post 1 assigned to the Cold category. This will be the first post block.
Post 2 assigned to the Warm category. Thiis will be the second post block.
Post 3 assigned to the Hot category. This will be the third post block.

Whenever I create a new post and add it to the Warm category it only appears
in the 2nd post and not the 1st or 3rd. Same for the other posts in that
they only appear in the set post block. Hopefully this makes sense and I'll
post it to the forums in case there's a plugin that helps with this.
Any responses appreciated.

From aaron at jorb.in  Tue Feb  9 19:12:03 2010
From: aaron at jorb.in (Aaron Jorbin)
Date: Tue, 9 Feb 2010 11:12:03 -0800
Subject: [wp-hackers] Possible OT: Force certain posts to front page in
	specific order
In-Reply-To: <604360771002091107p457cfa46u402db1daeaa34f7b@mail.gmail.com>
References: <604360771002091107p457cfa46u402db1daeaa34f7b@mail.gmail.com>
Message-ID: <dc89e3ef1002091112l1471556fg396a00688c01436a@mail.gmail.com>

You can do multiple loops to get that.  I would suggest reading the codex
articles on get_posts(), query_posts, and The Loop.


http://aaron.jorb.in
twitter: twitter.com/aaronjorbin


On Tue, Feb 9, 2010 at 11:07 AM, MarvinC <marvinc at gmail.com> wrote:

> Is it possible to force posts from certain categories to appear certain
> slots on the front page? So I'd have
>
> Post 1 assigned to the Cold category. This will be the first post block.
> Post 2 assigned to the Warm category. Thiis will be the second post block.
> Post 3 assigned to the Hot category. This will be the third post block.
>
> Whenever I create a new post and add it to the Warm category it only
> appears
> in the 2nd post and not the 1st or 3rd. Same for the other posts in that
> they only appear in the set post block. Hopefully this makes sense and I'll
> post it to the forums in case there's a plugin that helps with this.
> Any responses appreciated.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From andre at pixelplexus.co.za  Tue Feb  9 19:39:52 2010
From: andre at pixelplexus.co.za (AndreSC)
Date: Tue, 09 Feb 2010 21:39:52 +0200
Subject: [wp-hackers] Possible OT: Force certain posts to front page in
 specific order
In-Reply-To: <604360771002091107p457cfa46u402db1daeaa34f7b@mail.gmail.com>
References: <604360771002091107p457cfa46u402db1daeaa34f7b@mail.gmail.com>
Message-ID: <4B71BA08.4050203@pixelplexus.co.za>

You can do things like that with aStickyPostOrderER 
http://wordpress.org/extend/plugins/astickypostorderer/
E.g. Selecting the 'supersticky' and setting a limit of 1 for each of 
these categories will show the most recent post from those categories 
before anything else, and if on your front page you have a custom query 
calling only three posts, tadaa!
- though they wount be in a fixed order, the most recent post will be at 
the top.

If you wanted to add customised styling you could do that by checking 
category in the loop.

Hope it helps

AndreSC




MarvinC wrote:
> Is it possible to force posts from certain categories to appear certain
> slots on the front page? So I'd have
>
> Post 1 assigned to the Cold category. This will be the first post block.
> Post 2 assigned to the Warm category. Thiis will be the second post block.
> Post 3 assigned to the Hot category. This will be the third post block.
>
> Whenever I create a new post and add it to the Warm category it only appears
> in the 2nd post and not the 1st or 3rd. Same for the other posts in that
> they only appear in the set post block. Hopefully this makes sense and I'll
> post it to the forums in case there's a plugin that helps with this.
> Any responses appreciated.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   


From hempsworth at googlemail.com  Tue Feb  9 21:01:05 2010
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Tue, 9 Feb 2010 21:01:05 +0000
Subject: [wp-hackers] Plugins: Best practice for conditional loading of
	actions and file includes
In-Reply-To: <161617691002090927l6909bbpd4dfef4e5216e56b@mail.gmail.com>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com>
	<161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com>
	<9dd057851002060803h2c137030y5020532820442935@mail.gmail.com>
	<161617691002080848k602e78d9g3e585cbcfa58a554@mail.gmail.com>
	<002b01caa995$e8223e60$b866bb20$@net>
	<161617691002090927l6909bbpd4dfef4e5216e56b@mail.gmail.com>
Message-ID: <5a1dad881002091301v4b17799ai9513b76dc90887ba@mail.gmail.com>

Sorry if this is a basic question, but I'm working on an Ajax driven
plugin at the moment, and I'm using wp-load.pho and I now know I
shouldn't be! Especially since I'd like to release the plugin!

I'm enqueuing a js file, wherein it uses 'jQuery.post' to send data to
my plugin file. To process that request, I have an 'if (
isset($_POST))' which then includes wp-load.php, giving me access to
WP functions so I can process the request and echo the result.

Any tips on using Ajax in front-end plugins. there is a lot of
documentation on admin-ajax but not much on Ajax in plugins...

Many thanks,
Alex

-- 
-- Alex  (Hempsworth)

From otto at ottodestruct.com  Tue Feb  9 21:14:00 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 9 Feb 2010 15:14:00 -0600
Subject: [wp-hackers] Plugins: Best practice for conditional loading of
	actions and file includes
In-Reply-To: <5a1dad881002091301v4b17799ai9513b76dc90887ba@mail.gmail.com>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com> 
	<161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com> 
	<9dd057851002060803h2c137030y5020532820442935@mail.gmail.com> 
	<161617691002080848k602e78d9g3e585cbcfa58a554@mail.gmail.com> 
	<002b01caa995$e8223e60$b866bb20$@net>
	<161617691002090927l6909bbpd4dfef4e5216e56b@mail.gmail.com> 
	<5a1dad881002091301v4b17799ai9513b76dc90887ba@mail.gmail.com>
Message-ID: <161617691002091314n68a03ddxfae7f8424827c2b9@mail.gmail.com>

http://codex.wordpress.org/AJAX_in_Plugins

Basically, you want to make your javascript fire the request at
"admin_url('admin-ajax.php')". The request will need to include action
= 'some_special_action' in the POST.

Then you hook a function to wp_ajax_nopriv_some_special_action. The
function will get called for your action and it can get the stuff out
of the POST and act on it. Then it makes its own output and can call
exit or die to end the request quickly.

You *can* use the same sort of methods I describe in my earlier post,
but since there's special code for AJAX actions, you should use it
instead.

-Otto



On Tue, Feb 9, 2010 at 3:01 PM, Alex Hempton-Smith
<hempsworth at googlemail.com> wrote:
> Sorry if this is a basic question, but I'm working on an Ajax driven
> plugin at the moment, and I'm using wp-load.pho and I now know I
> shouldn't be! Especially since I'd like to release the plugin!
>
> I'm enqueuing a js file, wherein it uses 'jQuery.post' to send data to
> my plugin file. To process that request, I have an 'if (
> isset($_POST))' which then includes wp-load.php, giving me access to
> WP functions so I can process the request and echo the result.
>
> Any tips on using Ajax in front-end plugins. there is a lot of
> documentation on admin-ajax but not much on Ajax in plugins...
>
> Many thanks,
> Alex
>
> --
> -- Alex ?(Hempsworth)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From austin at ilfilosofo.com  Tue Feb  9 21:27:16 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Tue, 9 Feb 2010 15:27:16 -0600
Subject: [wp-hackers] Plugins: Best practice for conditional loading of
	actions and file includes
In-Reply-To: <161617691002091314n68a03ddxfae7f8424827c2b9@mail.gmail.com>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com>
	<161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com>
	<9dd057851002060803h2c137030y5020532820442935@mail.gmail.com>
	<161617691002080848k602e78d9g3e585cbcfa58a554@mail.gmail.com>
	<002b01caa995$e8223e60$b866bb20$@net>
	<161617691002090927l6909bbpd4dfef4e5216e56b@mail.gmail.com>
	<5a1dad881002091301v4b17799ai9513b76dc90887ba@mail.gmail.com>
	<161617691002091314n68a03ddxfae7f8424827c2b9@mail.gmail.com>
Message-ID: <674b4a3b1002091327k6b551abcub55bb057269d9fee@mail.gmail.com>

On Tue, Feb 9, 2010 at 3:14 PM, Otto <otto at ottodestruct.com> wrote:
> http://codex.wordpress.org/AJAX_in_Plugins
>
> Basically, you want to make your javascript fire the request at
> "admin_url('admin-ajax.php')". The request will need to include action
> = 'some_special_action' in the POST.
>
> Then you hook a function to wp_ajax_nopriv_some_special_action. The
> function will get called for your action and it can get the stuff out
> of the POST and act on it. Then it makes its own output and can call
> exit or die to end the request quickly.

Since the question was about Ajax on the "front-end," it's worth
pointing out that if someone has forced SSL for the admin, the link
printed by admin_url() might not be useable for XHR because it
violates the same origin requirement.  (In other words, the front end
would be using a different protocol: "http" instead of "https").

For front-end Ajax it's probably more reliable to post to the home URL
or wp-load.php and have a callback attached to "init" listening for
the requisite POST arguments.

From otto at ottodestruct.com  Tue Feb  9 21:41:42 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 9 Feb 2010 15:41:42 -0600
Subject: [wp-hackers] Plugins: Best practice for conditional loading of
	actions and file includes
In-Reply-To: <674b4a3b1002091327k6b551abcub55bb057269d9fee@mail.gmail.com>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com> 
	<161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com> 
	<9dd057851002060803h2c137030y5020532820442935@mail.gmail.com> 
	<161617691002080848k602e78d9g3e585cbcfa58a554@mail.gmail.com> 
	<002b01caa995$e8223e60$b866bb20$@net>
	<161617691002090927l6909bbpd4dfef4e5216e56b@mail.gmail.com> 
	<5a1dad881002091301v4b17799ai9513b76dc90887ba@mail.gmail.com> 
	<161617691002091314n68a03ddxfae7f8424827c2b9@mail.gmail.com> 
	<674b4a3b1002091327k6b551abcub55bb057269d9fee@mail.gmail.com>
Message-ID: <161617691002091341j15c4cf15pfe1559fc2996a48a@mail.gmail.com>

On Tue, Feb 9, 2010 at 3:27 PM, Austin Matzko <austin at ilfilosofo.com> wrote:
> For front-end Ajax it's probably more reliable to post to the home URL
> or wp-load.php and have a callback attached to "init" listening for
> the requisite POST arguments.

If you're hooking to init and taking action based on variables in
POST, then it doesn't matter what URL you post to. The current URL
would be best and easiest.

-Otto
Sent from Memphis, TN, United States

From info at ipx.ro  Tue Feb  9 21:53:11 2010
From: info at ipx.ro (info at ipx.ro)
Date: Tue, 09 Feb 2010 23:53:11 +0200
Subject: [wp-hackers] hack wp 2.9
In-Reply-To: <161617691002091341j15c4cf15pfe1559fc2996a48a@mail.gmail.com>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com>
	<161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com>
	<9dd057851002060803h2c137030y5020532820442935@mail.gmail.com>
	<161617691002080848k602e78d9g3e585cbcfa58a554@mail.gmail.com>
	<002b01caa995$e8223e60$b866bb20$@net>
	<161617691002090927l6909bbpd4dfef4e5216e56b@mail.gmail.com>
	<5a1dad881002091301v4b17799ai9513b76dc90887ba@mail.gmail.com>
	<161617691002091314n68a03ddxfae7f8424827c2b9@mail.gmail.com>
	<674b4a3b1002091327k6b551abcub55bb057269d9fee@mail.gmail.com>
	<161617691002091341j15c4cf15pfe1559fc2996a48a@mail.gmail.com>
Message-ID: <386721fc4d8fc0cb355930edd8d02403@ipx.ro>

hi
 can i hack a wp site if i know username, but without brute force?

 some php injectors in contact page?

 the site is www.adrian-nuta.ro
 user: adrian

From gaarai at gaarai.com  Tue Feb  9 21:56:04 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Tue, 09 Feb 2010 15:56:04 -0600
Subject: [wp-hackers] hack wp 2.9
In-Reply-To: <386721fc4d8fc0cb355930edd8d02403@ipx.ro>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com>	<161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com>	<9dd057851002060803h2c137030y5020532820442935@mail.gmail.com>	<161617691002080848k602e78d9g3e585cbcfa58a554@mail.gmail.com>	<002b01caa995$e8223e60$b866bb20$@net>	<161617691002090927l6909bbpd4dfef4e5216e56b@mail.gmail.com>	<5a1dad881002091301v4b17799ai9513b76dc90887ba@mail.gmail.com>	<161617691002091314n68a03ddxfae7f8424827c2b9@mail.gmail.com>	<674b4a3b1002091327k6b551abcub55bb057269d9fee@mail.gmail.com>	<161617691002091341j15c4cf15pfe1559fc2996a48a@mail.gmail.com>
	<386721fc4d8fc0cb355930edd8d02403@ipx.ro>
Message-ID: <4B71D9F4.3040200@gaarai.com>

In a word: nope.

Chris Jean
Coder for http://ithemes.com/
http://gaarai.com/
@chrisjean


On 02/09/2010 03:53 PM, info at ipx.ro wrote:
> hi
>   can i hack a wp site if i know username, but without brute force?
>
>   some php injectors in contact page?
>
>   the site is www.adrian-nuta.ro
>   user: adrian
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    

From wp at xentek.net  Tue Feb  9 22:01:22 2010
From: wp at xentek.net (Eric Marden)
Date: Tue, 9 Feb 2010 16:01:22 -0600
Subject: [wp-hackers] Plugins: Best practice for conditional loading of
	actions and file includes
In-Reply-To: <5a1dad881002091301v4b17799ai9513b76dc90887ba@mail.gmail.com>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com>
	<161617691002051248v262ad919sed404efb78c12c79@mail.gmail.com>
	<9dd057851002060803h2c137030y5020532820442935@mail.gmail.com>
	<161617691002080848k602e78d9g3e585cbcfa58a554@mail.gmail.com>
	<002b01caa995$e8223e60$b866bb20$@net>
	<161617691002090927l6909bbpd4dfef4e5216e56b@mail.gmail.com>
	<5a1dad881002091301v4b17799ai9513b76dc90887ba@mail.gmail.com>
Message-ID: <64A3FC15-7313-456C-93FB-89F300C1DAE1@xentek.net>

On Feb 9, 2010, at 3:01 PM, Alex Hempton-Smith wrote:

> Sorry if this is a basic question, but I'm working on an Ajax driven
> plugin at the moment, and I'm using wp-load.pho and I now know I
> shouldn't be! Especially since I'd like to release the plugin!

Works basically the same, but has a different hook name. Try this  
thread:
http://groups.google.com/group/wp-hackers/browse_thread/thread/dba7fd82b5b7e651/d68bc75ab18590c6?lnk=gst&q=wp_ajax_nopriv#d68bc75ab18590c6



- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
tw: @xentek





From jordi at jcanals.cat  Tue Feb  9 23:50:55 2010
From: jordi at jcanals.cat (Jordi Canals)
Date: Wed, 10 Feb 2010 00:50:55 +0100
Subject: [wp-hackers] hack wp 2.9
In-Reply-To: <4B71D9F4.3040200@gaarai.com>
References: <9dd057851002051215r6264c248jc42fe8a4e06b6e1b@mail.gmail.com>
	<161617691002080848k602e78d9g3e585cbcfa58a554@mail.gmail.com>
	<002b01caa995$e8223e60$b866bb20$@net>
	<161617691002090927l6909bbpd4dfef4e5216e56b@mail.gmail.com>
	<5a1dad881002091301v4b17799ai9513b76dc90887ba@mail.gmail.com>
	<161617691002091314n68a03ddxfae7f8424827c2b9@mail.gmail.com>
	<674b4a3b1002091327k6b551abcub55bb057269d9fee@mail.gmail.com>
	<161617691002091341j15c4cf15pfe1559fc2996a48a@mail.gmail.com>
	<386721fc4d8fc0cb355930edd8d02403@ipx.ro>
	<4B71D9F4.3040200@gaarai.com>
Message-ID: <eccf1e7c1002091550w39d3796ased5f71f7ef3d943a@mail.gmail.com>

> On 02/09/2010 03:53 PM, info at ipx.ro wrote:
>>
>> hi
>> ?can i hack a wp site if i know username, but without brute force?
>>
>> ?some php injectors in contact page?
>>
>> ?the site is www.adrian-nuta.ro
>> ?user: adrian

No, you can't. All developers have always security in mind and do all
efforts to make WordPress secure. And, as I've seen, each version is
more secure.

-- 
Jordi Canals
http://alkivia.org - http://jcanals.cat

From admin at wpkid.com  Wed Feb 10 00:49:13 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Wed, 10 Feb 2010 00:49:13 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
Message-ID: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>

Well you could say I was shot down in Trac earlier today! 
http://core.trac.wordpress.org/ticket/12183

I know fine well this topic is brought up time and time again, in fact I was 
pointed towards talk that happened last year, which must mean that something 
really needs to be looked at, and I feel that what I'm thinking about could 
quite easily be built and/or expanded upon without much work required? :) 
I'm sure you'll soon tell me if I'm right or not!

So I'll dive straight in...

Parent Category: The idea behind the main category if you like, acts, or can 
act like a placeholder. Take any forum software for example, when you create 
a new section you have to decide if it'll just be a topic area, or an actual 
forum section? So in WP we introduce a new dropdown menu with a topic 
category option or a posting category if you like. (Are you following?)

Now because we'd have had the /category/ prefix removed from core, it'd show 
and work as follows!

Say we take this parent/topic category idea and with the name of BLOG, it'll 
have the slug of /blog/ and would show at  http://www.site.com/blog/ and 
like I mentioned above, you could decide if it'd just act as a topic for 
other categories, or if it'd be a main category itself?

Child Category: I'm sure most of you know how a 'child' or rather 
sub-category works, and really this is no different! This is looked upon as 
the actual category section, the one you can add a certain category too. Now 
if we take WORDPRESS NEWS as the category, it'd have /wordpress-news/ but 
being attached to the /blog/ topic, it'll now show up as 
/blog/wordpress-news/ which just looks way smarter without having the 
/category/ bit showing and looking out of sync with pages!

Another example could well be  http://www.site.com/blog/freebies/ which 
means the list can go on and on, but you get the picture?

You might argue that it's not much different than what we currently have at 
the moment, I'll admit, it's not, and with Custom Taxonomies and Custom Post 
Types you never know what can happen, they're only thoughts I have, not much 
more than that! =) The additional features that could be added to the 
category options would only help, in my opinion, become much more of a CMS.

In fact, for a little inspiration I'd take a look at WooThemes.com website 
who do this very well with the addition of a plugin (Top Level Categories), 
but then why should something as standard as this come down to a plugin, 
that not everyone knows about?

A couple of people did respond to the Trac Ticket, so do take a look at what 
they posted, and the replies I posted to them, of which I had a couple of 
questions... http://core.trac.wordpress.org/ticket/12183

What are your particular thoughts, how far should we go with regards to 
improving the category side of things, let the discussion begin.


From ash at thinkinginvain.com  Wed Feb 10 04:29:59 2010
From: ash at thinkinginvain.com (Ash Goodman)
Date: Wed, 10 Feb 2010 12:29:59 +0800
Subject: [wp-hackers] query_posts orderby=meta_value
Message-ID: <1d9b57821002092029p1a02114cw7da6719064ea0a0d@mail.gmail.com>

Thanks Dion,

I'll give taht a try and see how it works. Will post back here with results.

On 9 February 2010 20:00, <wp-hackers-request at lists.automattic.com> wrote:

> Send wp-hackers mailing list submissions to
>        wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
>        wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
>        wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
>   1.  Another plugin removed from WP.org extend directory (KnxDT)
>   2. Re: query_posts orderby=meta_value (Dion Hulse (dd32))
>   3. Theme options panel questions - Add social bookmarking
>      (Jeremy Herve)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Tue, 9 Feb 2010 02:11:23 -0500
> From: KnxDT <knxdt.blogspot at gmail.com>
> Subject: [wp-hackers]  Another plugin removed from WP.org extend
>        directory
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <ae349e5e1002082311q71e1f2ceh269cd91a3a66c4a0 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Hi:
>
> My plugin has been removed from WP Extend Repository. I've been looking for
> some answers and I encountered that this one is not the first case (of a
> plugin removed) in the last month. For example this one:
>
> http://osdir.com/ml/wordpress-hackers/2010-01/msg00205.html
>
> The diference is that my plugin is not SEO based and I'm not sure if
> already
> exists another one that do the same things (that my plugin does). My plugin
> is not listing anymore and I only can see it when I log in with my account.
>
> The url is:
> http://wordpress.org/extend/plugins/feedburner-subscription-widget/
> Download link:
> http://downloads.wordpress.org/plugin/feedburner-subscription-widget.zip
> SVN link: http://svn.wp-plugins.org/feedburner-subscription-widget/
>
> As you can see the plugin is still hosted on Wordpress SVN but not listed.
> I
> read that maybe could be a problem related with a security flaw (like in
> other cases) or maybe if the plugin is too similar to another one. I was
> checking this posibility and I remember that I based my plugin in this one
> (that only shows a feed counter, not the whole subscription form):
>
> http://wordpress.org/extend/plugins/feedburner-widget/
>
> Maybe the code is quite similar and they removed my plugin because of that.
> I'm not sure because they (Wordpress Dev Team) didn't send me any kind of
> message about this situation.
>
> Any ideas? Thank you very much for your support and your patience.
>
> PS: Excuse me if my English isn't good enough, I speak Spanish :)
>
>
> ------------------------------
>
> Message: 2
> Date: Tue, 09 Feb 2010 18:40:05 +1100
> From: "Dion Hulse (dd32)" <wordpress at dd32.id.au>
> Subject: Re: [wp-hackers] query_posts orderby=meta_value
> To: wp-hackers at lists.automattic.com
> Message-ID: <op.u7unk0spspxmuu at ho.st>
> Content-Type: text/plain; charset=utf-8; format=flowed; delsp=yes
>
> Pretty sure its asking you to add a meta_key=... item, ie:
>
> "post_type=page&posts_per_page=5&order=meta_value&meta_key=order"
>
> Order posts by Meta_Value on Meta_Key Is 'order'
>
>
>
> On Tue, 09 Feb 2010 17:06:45 +1100, Ash Goodman <ash at thinkinginvain.com>
> wrote:
>
> > Hi all, I wonder if anyone can tell me: according to this page in the
> > codex:
> > http://codex.wordpress.org/Template_Tags/query_posts in the section
> > "Orderby
> > Parameters" I should be able to order the resulting posts from a custom
> > query (orderby=meta_value - Note: A meta_key=keyname must also be
> > present in
> > the query. )
> >
> > So for example I would have a query with the following parameters:
> > "post_type=page&posts_per_page=5&meta_key=order" and then I would specify
> > the meta_value=
> >
> > And thats where it breaks down for me as If I specify a specific
> > meta_value
> > how exactly would ordering be achieved? if all the posts ahd the same
> > meta_value wouldn't the ordering just fall back to default?
> >
> > I am sure I am just not grasping what's happening correctly and would
> > welcome anyone's help in getting my thick head round this.
> >
> > Thanks!
> >
> > Ash
> >
> > On 9 February 2010 03:56, <wp-hackers-request at lists.automattic.com>
> > wrote:
> >
> >> Send wp-hackers mailing list submissions to
> >>        wp-hackers at lists.automattic.com
> >>
> >> To subscribe or unsubscribe via the World Wide Web, visit
> >>        http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> or, via email, send a message with subject or body 'help' to
> >>        wp-hackers-request at lists.automattic.com
> >>
> >> You can reach the person managing the list at
> >>        wp-hackers-owner at lists.automattic.com
> >>
> >> When replying, please edit your Subject line so it is more specific
> >> than "Re: Contents of wp-hackers digest..."
> >>
> >>
> >> Today's Topics:
> >>
> >>   1. Re: Plugins: Best practice for conditional loading of     actions
> >>      and file includes (Otto)
> >>   2. Re: Plugins: Best practice for conditional loading of     actions
> >>      and file includes (Otto)
> >>   3. howto including full path in javascript file. (Bjorn Wijers)
> >>   4. Re: howto including full path in javascript file.
> >>      (Mitch Canter | studionashvegas)
> >>   5. Re: howto including full path in javascript file. (Chris Scott)
> >>   6. Re: howto including full path in javascript file.
> >>      (tunamaxx at yahoo.com)
> >>   7. Re: howto including full path in javascript file. (Hikari)
> >>   8. Re: howto including full path in javascript file. (Otto)
> >>   9. Re: howto including full path in javascript file. (logikal16)
> >>
> >>
> >> ----------------------------------------------------------------------
> >>
> >> Message: 1
> >> Date: Mon, 8 Feb 2010 10:47:15 -0600
> >> From: Otto <otto at ottodestruct.com>
> >> Subject: Re: [wp-hackers] Plugins: Best practice for conditional
> >>        loading of      actions and file includes
> >> To: wp-hackers at lists.automattic.com
> >> Message-ID:
> >>        <161617691002080847r3df5dea8q215e852a4638e726 at mail.gmail.com>
> >> Content-Type: text/plain; charset=ISO-8859-1
> >>
> >> On Fri, Feb 5, 2010 at 4:20 PM, Ozh <ozh at planetozh.com> wrote:
> >> > On Fri, Feb 5, 2010 at 9:48 PM, Otto <otto at ottodestruct.com> wrote:
> >> >> So, best practice: Keep hooks near the functions they are hooking. If
> >> >> you don't like the way that looks, then at least keep them in the
> >> same
> >> >> file.
> >> >
> >> > I prefer grouping all the hooks at the same place instead of spreading
> >> > them all across the file(s), because having them in one place makes it
> >> > easier in one glance to understand the flow of things and what happens
> >> > when.
> >> >
> >> > This said, I don't think the location of the hooks (near their
> >> > functions or all grouped in one place) is a matter of "best practice"
> >> > (assuming they're correctly declared in both case of course)
> >>
> >> Let's just say that you're far less likely to accidentally add a hook
> >> to an undeclared function if you have the hook and the function right
> >> next to each other.
> >>
> >> -Otto
> >> Sent from Memphis, TN, United States
> >>
> >>
> >> ------------------------------
> >>
> >> Message: 2
> >> Date: Mon, 8 Feb 2010 10:48:35 -0600
> >> From: Otto <otto at ottodestruct.com>
> >> Subject: Re: [wp-hackers] Plugins: Best practice for conditional
> >>        loading of      actions and file includes
> >> To: wp-hackers at lists.automattic.com
> >> Message-ID:
> >>        <161617691002080848k602e78d9g3e585cbcfa58a554 at mail.gmail.com>
> >> Content-Type: text/plain; charset=ISO-8859-1
> >>
> >> On Sat, Feb 6, 2010 at 10:03 AM, Ade Walker <photofantaisie at gmail.com>
> >> wrote:
> >> > 2010/2/5 Otto <otto at ottodestruct.com>
> >> >
> >> >> Both, actually. No plugin should *ever* load wp-load directly. It's
> >> >> never, ever, necessary; it's sloppy programming style; and it's bad
> >> >> practice. However, it is often quick and easy to understand for some
> >> >> authors, so it does happen a fair amount. Still, it shouldn't be
> >> >> there, and any plugin you find with it should be fixed to not require
> >> >> it any more.
> >> >>
> >> >> Feel free to pass anybody you find doing this my email, and I'll tell
> >> >> them how to fix their plugin. :)
> >> >>
> >> >
> >> > Would you care to share on this list? Or can I contact you off line?
> >>
> >> Just email me directly if you want more info on this sort of thing. I
> >> don't hide my email address. :)
> >>
> >> Actually, this comes up so often that I might make a blog post about it.
> >>
> >> -Otto
> >> Sent from Memphis, TN, United States
> >>
> >>
> >> ------------------------------
> >>
> >> Message: 3
> >> Date: Mon, 08 Feb 2010 18:45:55 +0100
> >> From: Bjorn Wijers <burobjorn at gmail.com>
> >> Subject: [wp-hackers] howto including full path in javascript file.
> >> To: wp-hackers at lists.automattic.com
> >> Message-ID: <4B704DD3.8000909 at gmail.com>
> >> Content-Type: text/plain; charset=UTF-8
> >>
> >> Hi,
> >>
> >> I was wondering what other people use to include full paths in their
> >> theme javascript files and keep it dynamic (so no hardcoded paths!). For
> >> instance I would like to call some images in my javascript file and I
> >> need to use a full path. What would be the best practice for this?
> >>
> >> Thanks,
> >>
> >> grtz
> >> BjornW
> >>
> >> --
> >>
> >> met vriendelijke groet,
> >> Bjorn Wijers
> >>
> >> * b u r o b j o r n .nl *
> >> digitaal vakmanschap | digital craftsmanship
> >>
> >> Concordiastraat 68-126
> >> 3551 EM Utrecht
> >> The Netherlands
> >>
> >> phone: +31 6 49 74 78 70
> >> http://www.burobjorn.nl
> >>
> >>
> >> ------------------------------
> >>
> >> Message: 4
> >> Date: Mon, 8 Feb 2010 11:57:10 -0600
> >> From: "Mitch Canter | studionashvegas" <mitch at studionashvegas.com>
> >> Subject: Re: [wp-hackers] howto including full path in javascript
> >>        file.
> >> To: <wp-hackers at lists.automattic.com>
> >> Message-ID: <000901caa8e8$26ec7470$74c55d50$@com>
> >> Content-Type: text/plain;       charset="us-ascii"
> >>
> >> One of two options works - if you are keeping the javascript files in
> >> your
> >> root directory, prepend the urls with <?php bloginfo('siteurl'); ?>.  If
> >> you're doing it only within your template, use <?php
> >> bloginfo('template_directory'); ?>
> >>
> >> Example:
> >>
> >> src="<?php bloginfo('siteurl'); ?>/js/thickbox.js"
> >>
> >> or
> >>
> >> <img src="<?php bloginfo('siteurl'); ?>/js/img/thickbox.jpg">
> >>
> >> Good for linking to images too.
> >>
> >> -----Original Message-----
> >> From: wp-hackers-bounces at lists.automattic.com
> >> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Bjorn
> >> Wijers
> >> Sent: Monday, February 08, 2010 11:46 AM
> >> To: wp-hackers at lists.automattic.com
> >> Subject: [wp-hackers] howto including full path in javascript file.
> >>
> >> Hi,
> >>
> >> I was wondering what other people use to include full paths in their
> >> theme javascript files and keep it dynamic (so no hardcoded paths!). For
> >> instance I would like to call some images in my javascript file and I
> >> need to use a full path. What would be the best practice for this?
> >>
> >> Thanks,
> >>
> >> grtz
> >> BjornW
> >>
> >> --
> >>
> >> met vriendelijke groet,
> >> Bjorn Wijers
> >>
> >> * b u r o b j o r n .nl *
> >> digitaal vakmanschap | digital craftsmanship
> >>
> >> Concordiastraat 68-126
> >> 3551 EM Utrecht
> >> The Netherlands
> >>
> >> phone: +31 6 49 74 78 70
> >> http://www.burobjorn.nl
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >>
> >>
> >> ------------------------------
> >>
> >> Message: 5
> >> Date: Mon, 8 Feb 2010 13:40:50 -0500
> >> From: Chris Scott <cjscott69 at gmail.com>
> >> Subject: Re: [wp-hackers] howto including full path in javascript
> >>        file.
> >> To: wp-hackers at lists.automattic.com
> >> Message-ID:
> >>        <469fb3cc1002081040u2635e691taee286b67e91c57e at mail.gmail.com>
> >> Content-Type: text/plain; charset=ISO-8859-1
> >>
> >> On Mon, Feb 8, 2010 at 12:45 PM, Bjorn Wijers <burobjorn at gmail.com>
> >> wrote:
> >> > Hi,
> >> >
> >> > I was wondering what other people use to include full paths in their
> >> > theme javascript files and keep it dynamic (so no hardcoded paths!).
> >> For
> >> > instance I would like to call some images in my javascript file and I
> >> > need to use a full path. What would be the best practice for this?
> >>
> >> You can add an action to wp_head to set a js var that is the URL to
> >> your site (e.g. using bloginfo('siteurl')). Make sure this action runs
> >> at a higher priority than your other js if you aren't putting them in
> >> the footer so the var is available to your scripts.
> >>
> >> --
> >> Chris Scott
> >> http://iamzed.com/
> >> http://hailtheale.com/
> >>
> >> >
> >> > Thanks,
> >> >
> >> > grtz
> >> > BjornW
> >> >
> >> > --
> >> >
> >> > met vriendelijke groet,
> >> > Bjorn Wijers
> >> >
> >> > * b u r o b j o r n .nl *
> >> > digitaal vakmanschap | digital craftsmanship
> >> >
> >> > Concordiastraat 68-126
> >> > 3551 EM Utrecht
> >> > The Netherlands
> >> >
> >> > phone: +31 6 49 74 78 70
> >> > http://www.burobjorn.nl
> >> > _______________________________________________
> >> > wp-hackers mailing list
> >> > wp-hackers at lists.automattic.com
> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >
> >>
> >>
> >> ------------------------------
> >>
> >> Message: 6
> >> Date: Mon, 8 Feb 2010 18:43:58 +0000
> >> From: tunamaxx at yahoo.com
> >> Subject: Re: [wp-hackers] howto including full path in javascript
> >>        file.
> >> To: wp-hackers at lists.automattic.com
> >> Message-ID:
> >>
> >>
>  <485788465-1265654649-cardhu_decombobulator_blackberry.rim.net-1753816410- at bda161.bisx.prod.on.blackberry
> >> >
> >>
> >> Content-Type: text/plain
> >>
> >> I think the OP was asking how to use the full path INSIDE javascripts,
> >> not
> >> how to include them in themes.
> >>
> >> I'd like to know how to do this as well. Could you create a var in a
> >> script
> >> in the head that contained the path as instructed by Mitch, and then
> >> use the
> >> value of that var in the included script?
> >>
> >> Thanks,
> >>
> >> Tony
> >>
> >> ------Original Message------
> >> From: Mitch Canter | studionashvegas
> >> Sender: wp-hackers-bounces at lists.automattic.com
> >> To: wp-hackers at lists.automattic.com
> >> ReplyTo: wp-hackers at lists.automattic.com
> >> Subject: Re: [wp-hackers] howto including full path in javascript file.
> >> Sent: Feb 8, 2010 9:57 AM
> >>
> >> One of two options works - if you are keeping the javascript files in
> >> your
> >> root directory, prepend the urls with <?php bloginfo('siteurl'); ?>.  If
> >> you're doing it only within your template, use <?php
> >> bloginfo('template_directory'); ?>
> >>
> >> Example:
> >>
> >> src="<?php bloginfo('siteurl'); ?>/js/thickbox.js"
> >>
> >> or
> >>
> >> <img src="<?php bloginfo('siteurl'); ?>/js/img/thickbox.jpg">
> >>
> >> Good for linking to images too.
> >>
> >> -----Original Message-----
> >> From: wp-hackers-bounces at lists.automattic.com
> >> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Bjorn
> >> Wijers
> >> Sent: Monday, February 08, 2010 11:46 AM
> >> To: wp-hackers at lists.automattic.com
> >> Subject: [wp-hackers] howto including full path in javascript file.
> >>
> >> Hi,
> >>
> >> I was wondering what other people use to include full paths in their
> >> theme javascript files and keep it dynamic (so no hardcoded paths!). For
> >> instance I would like to call some images in my javascript file and I
> >> need to use a full path. What would be the best practice for this?
> >>
> >> Thanks,
> >>
> >> grtz
> >> BjornW
> >>
> >> --
> >>
> >> met vriendelijke groet,
> >> Bjorn Wijers
> >>
> >> * b u r o b j o r n .nl *
> >> digitaal vakmanschap | digital craftsmanship
> >>
> >> Concordiastraat 68-126
> >> 3551 EM Utrecht
> >> The Netherlands
> >>
> >> phone: +31 6 49 74 78 70
> >> http://www.burobjorn.nl
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >>
> >> ------------------------------
> >>
> >> Message: 7
> >> Date: Mon, 8 Feb 2010 17:23:32 -0200
> >> From: "Hikari" <lists at hikarinet.info>
> >> Subject: Re: [wp-hackers] howto including full path in javascript
> >>        file.
> >> To: <wp-hackers at lists.automattic.com>
> >> Message-ID: <F2EE14C48088442EA9F820CEC5F71700 at MAIN>
> >> Content-Type: text/plain;       charset="iso-8859-1"
> >>
> >> I've needed that once too :)
> >>
> >>
> >> Let's say you add your script:
> >>
> >>
> >>
> >> <?php
> >> add_action('wp_print_scripts', 'prefix_scriptAction');
> >>
> >> function prefix_scriptAction(){
> >>    wp_enqueue_script('prefix_js', plugin_dir_url(__FILE__).'myjs.js');
> >> }
> >> ?>
> >>
> >>
> >>
> >> First of all, you should avoid running your script just during the page
> >> load, because if you do so you'll make the page load slowly.
> >> Use the 'onload' event or add it to the footer
> >> ('wp_print_footer_scripts'
> >> action).
> >>
> >> Either way, use a JavaScript variable to store the path to your plugin's
> >> root folder. This variable should be present when your
> >> script needs it, so if your script runs after or just after the page
> >> load,
> >> I believe you can use the 'wp_print_scripts' action to
> >> add the variable to the header. Just change the previous function to
> >> include it.
> >>
> >>
> >>
> >> <?php
> >> add_action('wp_print_scripts', 'prefix_scriptAction');
> >>
> >> function prefix_scriptAction(){
> >>    wp_enqueue_script('prefix_js', plugin_dir_url(__FILE__).'myjs.js');
> >>
> >> ?>
> >>
> >> <script type="text/javascript">
> >>    var prefix_path = <?php echo plugin_dir_url(__FILE__); ?>;
> >> </script>
> >>
> >> <?php
> >> }
> >> ?>
> >>
> >>
> >> I didn't test the code, but it's an exemple. This way, your script can
> >> try
> >> for 'prefix_path', and if the code is right it will store
> >> the URL path to your plugin's root folder, and using it you can append
> >> subfolders and files, having access to what you want.
> >>
> >>
> >> I've already used a proprietary dropdown menu that its JS considered it
> >> would be always used in homepage, and when it run inside
> >> posts and other resources its images were being deleted, because they
> >> weren't where the script was expecting :P
> >>
> >>
> >> ---------------------------
> >> Hikari -  A Luz ilumina a PAZ
> >> http://Hikari.ws
> >> http://ConscienciaPlanetaria.com
> >>
> >> Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!:
> >> http://seunome.ConscienciaPlanetaria.com.br
> >>
> >>
> >>
> >> ------------------------------
> >>
> >> Message: 8
> >> Date: Mon, 8 Feb 2010 13:36:08 -0600
> >> From: Otto <otto at ottodestruct.com>
> >> Subject: Re: [wp-hackers] howto including full path in javascript
> >>        file.
> >> To: wp-hackers at lists.automattic.com
> >> Message-ID:
> >>        <161617691002081136k33409a40h662fb1c22bec378 at mail.gmail.com>
> >> Content-Type: text/plain; charset=ISO-8859-1
> >>
> >> On Mon, Feb 8, 2010 at 11:45 AM, Bjorn Wijers <burobjorn at gmail.com>
> >> wrote:
> >> > I was wondering what other people use to include full paths in their
> >> > theme javascript files and keep it dynamic (so no hardcoded paths!).
> >> For
> >> > instance I would like to call some images in my javascript file and I
> >> > need to use a full path. What would be the best practice for this?
> >>
> >> Best way in a plugin:
> >>
> >> add_action('wp_print_scripts','myscript');
> >> function myscript() {
> >> ?>
> >> <script type="text/javascript">
> >>   var my_plugin_url = <?php echo plugin_dir_url(__FILE__); ?>;
> >> </script>
> >> <?php
> >> }
> >>
> >> This will get put into the page before your enqueued scripts, so the
> >> variable will be defined and available for them to use.
> >>
> >> You can use this same basic approach to pass along other settings to
> >> javascripts as well. In fact, the admin side of things does it for
> >> you. Look at the source of an admin page, and notice the handy
> >> userSettings array, as well as the ajaxurl variable.
> >>
> >>
> >> -Otto
> >> Sent from Memphis, TN, United States
> >>
> >>
> >> ------------------------------
> >>
> >> Message: 9
> >> Date: Mon, 8 Feb 2010 11:56:29 -0800 (PST)
> >> From: logikal16 <logikal16 at gmail.com>
> >> Subject: Re: [wp-hackers] howto including full path in javascript
> >>        file.
> >> To: wp-hackers at lists.automattic.com
> >> Message-ID:
> >>        <
> ff0a102d-83ac-46a0-99fd-10995aa490b8 at j1g2000vbl.googlegroups.com>
> >> Content-Type: text/plain; charset=ISO-8859-1
> >>
> >> <script type="text/javascript">
> >> var mypath = "<?php echo WP_CONTENT_URL; ?>/img/somefile.gif";
> >> // more javascript code
> >> // you could also use the WP_PLUGIN_URL constant
> >> </script>
> >>
> >> I keep as much stuff in "wp-content" as possible (instead of the site
> >> root). This isn't for everything (robots.txt, sitemap.xml.gz), but it
> >> keeps all of the custom files together, making any updates/migrations
> >> a bit simpler.
> >>
> >> Matt
> >>
> >> On Feb 8, 2:36?pm, Otto <o... at ottodestruct.com> wrote:
> >> > On Mon, Feb 8, 2010 at 11:45 AM, Bjorn Wijers <burobj... at gmail.com>
> >> wrote:
> >> > > I was wondering what other people use to include full paths in their
> >> > > theme javascript files and keep it dynamic (so no hardcoded paths!).
> >> For
> >> > > instance I would like to call some images in my javascript file and
> >> I
> >> > > need to use a full path. What would be the best practice for this?
> >> >
> >> > Best way in a plugin:
> >> >
> >> > add_action('wp_print_scripts','myscript');
> >> > function myscript() {
> >> > ?>
> >> > <script type="text/javascript">
> >> > ? ?var my_plugin_url = <?php echo plugin_dir_url(__FILE__); ?>;
> >> > </script>
> >> > <?php
> >> >
> >> > }
> >> >
> >> > This will get put into the page before your enqueued scripts, so the
> >> > variable will be defined and available for them to use.
> >> >
> >> > You can use this same basic approach to pass along other settings to
> >> > javascripts as well. In fact, the admin side of things does it for
> >> > you. Look at the source of an admin page, and notice the handy
> >> > userSettings array, as well as the ajaxurl variable.
> >> >
> >> > -Otto
> >> > Sent from Memphis, TN, United States
> >> > _______________________________________________
> >> > wp-hackers mailing list
> >> > wp-hack... at lists.automattic.comhttp://
> >> lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >>
> >> ------------------------------
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >>
> >> End of wp-hackers Digest, Vol 61, Issue 24
> >> ******************************************
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> --
> Dion Hulse / dd32
>
> Contact:
>  e: contact at dd32.id.au
>  msn: msn at d32.id.au
>  skype: theonly_dd32
>  Web: http://dd32.id.au/
>
>
> ------------------------------
>
> Message: 3
> Date: Tue, 9 Feb 2010 09:18:44 +0100
> From: Jeremy Herve <contact at hervedesign.com>
> Subject: [wp-hackers] Theme options panel questions - Add social
>        bookmarking
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <3c327eda1002090018n35326689r7c961d7cc03b799c at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Hi there!
>
> I am having a few issues figuring this out by myself, and I did not
> receive help on the WordPress forums, so I now ask the question
> directly to the pros! :)
>
> I am trying to develop a theme with an options panel allowing the user
> to choose which social bookmarking websites he would like to have
> displayed on single articles pages thanks to checkboxes.
>
> Here is what I have done so far:
>
> In my functions.php
> http://pastebin.com/f37ea5d17
>
> In single.php
> http://pastebin.com/f3d9d923d
>
> But I must miss something: everything is displayed in single.php,
> checkboxes activated or not; and when I try to modify checkboxes in
> the admin options panel, I get an error message:
> "You do not have sufficient permissions to access this page."
>
> Do you have any idea how to work this out?
>
> Thanks for your help!
>
> Jeremy Herve
> http://twitter.com/jeherve
>
>
> ------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> End of wp-hackers Digest, Vol 61, Issue 26
> ******************************************
>

From anybody at nobodyhere.com  Wed Feb 10 11:48:01 2010
From: anybody at nobodyhere.com (anybody at nobodyhere.com)
Date: Wed, 10 Feb 2010 12:48:01 +0100 (CET)
Subject: [wp-hackers] alternative taxonomy to relate users to pages
Message-ID: <6856.80.101.40.25.1265802481.squirrel@www.nobodyhere.com>

I'd like to relate users to pages and post, which isn't supported by
taxonomies.

Eventually I'd like to relate anything (user, post, page etc) to anything.

I couldn't find an existing plugin, so I decided to write my own.

But before I start coding, I'd appreciate some feedback.

After reading Murray Woodman
(http://murraywoodman.com/355/wordpress-taxonomies) I'm considering the
following mysql table structure:

RELATIONS
- id
- subject_id
- subject_type (user/page/post/comment)
- predicate_id
- object_id
- object_type

PREDICATES
- id
- title (e.g. "is part of", "likes")
- slug (e.g. "part_of", "likes")

Any suggestions?

Marcel van der Drift


From aram.bv at gmail.com  Wed Feb 10 11:58:42 2010
From: aram.bv at gmail.com (Aram)
Date: Wed, 10 Feb 2010 15:58:42 +0400
Subject: [wp-hackers] alternative taxonomy to relate users to pages
In-Reply-To: <6856.80.101.40.25.1265802481.squirrel@www.nobodyhere.com>
References: <6856.80.101.40.25.1265802481.squirrel@www.nobodyhere.com>
Message-ID: <631193761002100358q19421a28t4cf59ac80c222978@mail.gmail.com>

isn't it possible to do by custom fields?

On Wed, Feb 10, 2010 at 3:48 PM, <anybody at nobodyhere.com> wrote:

> I'd like to relate users to pages and post, which isn't supported by
> taxonomies.
>
> Eventually I'd like to relate anything (user, post, page etc) to anything.
>
> I couldn't find an existing plugin, so I decided to write my own.
>
> But before I start coding, I'd appreciate some feedback.
>
> After reading Murray Woodman
> (http://murraywoodman.com/355/wordpress-taxonomies) I'm considering the
> following mysql table structure:
>
> RELATIONS
> - id
> - subject_id
> - subject_type (user/page/post/comment)
> - predicate_id
> - object_id
> - object_type
>
> PREDICATES
> - id
> - title (e.g. "is part of", "likes")
> - slug (e.g. "part_of", "likes")
>
> Any suggestions?
>
> Marcel van der Drift
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Wed Feb 10 13:16:44 2010
From: scribu at gmail.com (scribu)
Date: Wed, 10 Feb 2010 15:16:44 +0200
Subject: [wp-hackers] alternative taxonomy to relate users to pages
In-Reply-To: <6856.80.101.40.25.1265802481.squirrel@www.nobodyhere.com>
References: <6856.80.101.40.25.1265802481.squirrel@www.nobodyhere.com>
Message-ID: <349fe48b1002100516x1284dbdfkf405e126fa4d7be5@mail.gmail.com>

On Wed, Feb 10, 2010 at 1:48 PM, <anybody at nobodyhere.com> wrote:

> After reading Murray Woodman
> (http://murraywoodman.com/355/wordpress-taxonomies) I'm considering the
> following mysql table structure:
>
> RELATIONS
> - id
> - subject_id
> - subject_type (user/page/post/comment)
> - predicate_id
> - object_id
> - object_type
>
> PREDICATES
> - id
> - title (e.g. "is part of", "likes")
> - slug (e.g. "part_of", "likes")
>
> Any suggestions?
>


I think having a separate predicates table is a bit overkill.  I would
replace it with a single column in the RELATIONS table:

RELATIONS
- id
- subject_id
- subject_type
- predicate (e.g. "is_part_of", "likes")
- object_id
- object_type

You could also add an optional "date" column, to record when a relationship
was formed.


isn't it possible to do by custom fields?


Not if you want many-to-many relationships.


-- 
http://scribu.net

From aram.bv at gmail.com  Wed Feb 10 13:29:04 2010
From: aram.bv at gmail.com (Aram)
Date: Wed, 10 Feb 2010 17:29:04 +0400
Subject: [wp-hackers] alternative taxonomy to relate users to pages
In-Reply-To: <349fe48b1002100516x1284dbdfkf405e126fa4d7be5@mail.gmail.com>
References: <6856.80.101.40.25.1265802481.squirrel@www.nobodyhere.com> 
	<349fe48b1002100516x1284dbdfkf405e126fa4d7be5@mail.gmail.com>
Message-ID: <631193761002100529s6546656co76e2d1c536818a85@mail.gmail.com>

ok.. i see :)

On Wed, Feb 10, 2010 at 5:16 PM, scribu <scribu at gmail.com> wrote:

> On Wed, Feb 10, 2010 at 1:48 PM, <anybody at nobodyhere.com> wrote:
>
> > After reading Murray Woodman
> > (http://murraywoodman.com/355/wordpress-taxonomies) I'm considering the
> > following mysql table structure:
> >
> > RELATIONS
> > - id
> > - subject_id
> > - subject_type (user/page/post/comment)
> > - predicate_id
> > - object_id
> > - object_type
> >
> > PREDICATES
> > - id
> > - title (e.g. "is part of", "likes")
> > - slug (e.g. "part_of", "likes")
> >
> > Any suggestions?
> >
>
>
> I think having a separate predicates table is a bit overkill.  I would
> replace it with a single column in the RELATIONS table:
>
> RELATIONS
> - id
> - subject_id
> - subject_type
> - predicate (e.g. "is_part_of", "likes")
> - object_id
> - object_type
>
> You could also add an optional "date" column, to record when a relationship
> was formed.
>
>
> isn't it possible to do by custom fields?
>
>
> Not if you want many-to-many relationships.
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Wed Feb 10 13:29:51 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 10 Feb 2010 08:29:51 -0500
Subject: [wp-hackers] alternative taxonomy to relate users to pages
In-Reply-To: <6856.80.101.40.25.1265802481.squirrel@www.nobodyhere.com>
References: <6856.80.101.40.25.1265802481.squirrel@www.nobodyhere.com>
Message-ID: <90FA00E6-FCEB-4465-9264-D6754758B79B@newclarity.net>

On Feb 10, 2010, at 6:48 AM, anybody at nobodyhere.com wrote:

> I'd like to relate users to pages and post, which isn't supported by
> taxonomies.

Maybe the better approach is to build the support into taxonomies?

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/






From logikal16 at gmail.com  Wed Feb 10 13:53:22 2010
From: logikal16 at gmail.com (logikal16)
Date: Wed, 10 Feb 2010 05:53:22 -0800 (PST)
Subject: [wp-hackers] alternative taxonomy to relate users to pages
In-Reply-To: <6856.80.101.40.25.1265802481.squirrel@www.nobodyhere.com>
References: <6856.80.101.40.25.1265802481.squirrel@www.nobodyhere.com>
Message-ID: <5efd9380-b92e-4162-9778-d335e73e1392@b18g2000vbl.googlegroups.com>

Give the Pods plugin a try.

It handles everything you've mentioned thus far (relate post, page,
user to anything), plus many-to-many relationships.

</biased>

On Feb 10, 6:48?am, anyb... at nobodyhere.com wrote:
> I'd like to relate users to pages and post, which isn't supported by
> taxonomies.
>
> Eventually I'd like to relate anything (user, post, page etc) to anything.
>
> I couldn't find an existing plugin, so I decided to write my own.
>
> But before I start coding, I'd appreciate some feedback.
>
> After reading Murray Woodman
> (http://murraywoodman.com/355/wordpress-taxonomies) I'm considering the
> following mysql table structure:
>
> RELATIONS
> - id
> - subject_id
> - subject_type (user/page/post/comment)
> - predicate_id
> - object_id
> - object_type
>
> PREDICATES
> - id
> - title (e.g. "is part of", "likes")
> - slug (e.g. "part_of", "likes")
>
> Any suggestions?
>
> Marcel van der Drift
>
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers

From burobjorn at gmail.com  Wed Feb 10 14:34:07 2010
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Wed, 10 Feb 2010 15:34:07 +0100
Subject: [wp-hackers] alternative taxonomy to relate users to pages
In-Reply-To: <5efd9380-b92e-4162-9778-d335e73e1392@b18g2000vbl.googlegroups.com>
References: <6856.80.101.40.25.1265802481.squirrel@www.nobodyhere.com>
	<5efd9380-b92e-4162-9778-d335e73e1392@b18g2000vbl.googlegroups.com>
Message-ID: <4B72C3DF.6020106@gmail.com>

@logikal16: Not sure if Marcel mentioned it but we're using Wordpress Mu
and afaik Pods is a plugin for Wordpress and does not work with WP MU.
Or does it? Sitewide?

@Mike: How would you propose that this would be part of the taxanomies?
I'm all for adding this to the core, but perhaps it would be better if
we build it using a plugin first so we can test it and easily work out
the kinks.

Btw if any of you have any hints or tips for how to offer this as patch
for WP core, please let us know since my personal experience in getting
patches noticed (let alone accepted) is not that good and therefore I'm
a bit hesitant in investing time in something that might be never
noticed nor discussed.

grtz
BjornW



> Give the Pods plugin a try.
> 
> It handles everything you've mentioned thus far (relate post, page,
> user to anything), plus many-to-many relationships.
> 
> </biased>
> 
> On Feb 10, 6:48 am, anyb... at nobodyhere.com wrote:
>> I'd like to relate users to pages and post, which isn't supported by
>> taxonomies.
>>
>> Eventually I'd like to relate anything (user, post, page etc) to anything.
>>
>> I couldn't find an existing plugin, so I decided to write my own.
>>
>> But before I start coding, I'd appreciate some feedback.
>>
>> After reading Murray Woodman
>> (http://murraywoodman.com/355/wordpress-taxonomies) I'm considering the
>> following mysql table structure:
>>
>> RELATIONS
>> - id
>> - subject_id
>> - subject_type (user/page/post/comment)
>> - predicate_id
>> - object_id
>> - object_type
>>
>> PREDICATES
>> - id
>> - title (e.g. "is part of", "likes")
>> - slug (e.g. "part_of", "likes")
>>
>> Any suggestions?
>>
>> Marcel van der Drift
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

phone: +31 6 49 74 78 70
http://www.burobjorn.nl

From otto at ottodestruct.com  Wed Feb 10 15:13:49 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 10 Feb 2010 09:13:49 -0600
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
Message-ID: <161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>

On Tue, Feb 9, 2010 at 6:49 PM, Mark McWilliams <admin at wpkid.com> wrote:
> Well you could say I was shot down in Trac earlier today!
> http://core.trac.wordpress.org/ticket/12183
>
> I know fine well this topic is brought up time and time again, in fact I was
> pointed towards talk that happened last year, which must mean that something
> really needs to be looked at, and I feel that what I'm thinking about could
> quite easily be built and/or expanded upon without much work required? :)
> I'm sure you'll soon tell me if I'm right or not!
>
> So I'll dive straight in...
>
> Parent Category: The idea behind the main category if you like, acts, or can
> act like a placeholder. Take any forum software for example, when you create
> a new section you have to decide if it'll just be a topic area, or an actual
> forum section? So in WP we introduce a new dropdown menu with a topic
> category option or a posting category if you like. (Are you following?)
>
> Now because we'd have had the /category/ prefix removed from core, it'd show
> and work as follows!
>
> Say we take this parent/topic category idea and with the name of BLOG, it'll
> have the slug of /blog/ and would show at ?http://www.site.com/blog/ and
> like I mentioned above, you could decide if it'd just act as a topic for
> other categories, or if it'd be a main category itself?
>
> Child Category: I'm sure most of you know how a 'child' or rather
> sub-category works, and really this is no different! This is looked upon as
> the actual category section, the one you can add a certain category too. Now
> if we take WORDPRESS NEWS as the category, it'd have /wordpress-news/ but
> being attached to the /blog/ topic, it'll now show up as
> /blog/wordpress-news/ which just looks way smarter without having the
> /category/ bit showing and looking out of sync with pages!
>
> Another example could well be ?http://www.site.com/blog/freebies/ which
> means the list can go on and on, but you get the picture?
>
> You might argue that it's not much different than what we currently have at
> the moment, I'll admit, it's not, and with Custom Taxonomies and Custom Post
> Types you never know what can happen, they're only thoughts I have, not much
> more than that! =) The additional features that could be added to the
> category options would only help, in my opinion, become much more of a CMS.
>
> In fact, for a little inspiration I'd take a look at WooThemes.com website
> who do this very well with the addition of a plugin (Top Level Categories),
> but then why should something as standard as this come down to a plugin,
> that not everyone knows about?
>
> A couple of people did respond to the Trac Ticket, so do take a look at what
> they posted, and the replies I posted to them, of which I had a couple of
> questions... http://core.trac.wordpress.org/ticket/12183
>
> What are your particular thoughts, how far should we go with regards to
> improving the category side of things, let the discussion begin.

I find it amazing, and more than a little humorous, at how far people
will go just because they don't want the word "category" in their URL.

IMO, categories are fine, don't need any improvements at present, and
some people just need to get over it.

-Otto
Sent from Memphis, TN, United States

From logikal16 at gmail.com  Wed Feb 10 17:22:17 2010
From: logikal16 at gmail.com (logikal16)
Date: Wed, 10 Feb 2010 09:22:17 -0800 (PST)
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn> 
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
Message-ID: <102e40c3-289a-411c-bdb0-c0eef60dd654@b18g2000vbl.googlegroups.com>

I tend to agree with Otto on this issue, but with a couple additions.

Under Settings > Permalinks, you can change "category" to something
else if desired (like "content").

Using .htaccess, you can create additional rewrite rules if your site
needs the extra customization. For example, rewrite all urls with "/
blog" to "/category/blog". Heck, I'm sure there's even plugins that'll
do that too.

Matt

On Feb 10, 10:13?am, Otto <o... at ottodestruct.com> wrote:
> On Tue, Feb 9, 2010 at 6:49 PM, Mark McWilliams <ad... at wpkid.com> wrote:
> > Well you could say I was shot down in Trac earlier today!
> >http://core.trac.wordpress.org/ticket/12183
>
> > I know fine well this topic is brought up time and time again, in fact I was
> > pointed towards talk that happened last year, which must mean that something
> > really needs to be looked at, and I feel that what I'm thinking about could
> > quite easily be built and/or expanded upon without much work required? :)
> > I'm sure you'll soon tell me if I'm right or not!
>
> > So I'll dive straight in...
>
> > Parent Category: The idea behind the main category if you like, acts, or can
> > act like a placeholder. Take any forum software for example, when you create
> > a new section you have to decide if it'll just be a topic area, or an actual
> > forum section? So in WP we introduce a new dropdown menu with a topic
> > category option or a posting category if you like. (Are you following?)
>
> > Now because we'd have had the /category/ prefix removed from core, it'd show
> > and work as follows!
>
> > Say we take this parent/topic category idea and with the name of BLOG, it'll
> > have the slug of /blog/ and would show at ?http://www.site.com/blog/and
> > like I mentioned above, you could decide if it'd just act as a topic for
> > other categories, or if it'd be a main category itself?
>
> > Child Category: I'm sure most of you know how a 'child' or rather
> > sub-category works, and really this is no different! This is looked upon as
> > the actual category section, the one you can add a certain category too. Now
> > if we take WORDPRESS NEWS as the category, it'd have /wordpress-news/ but
> > being attached to the /blog/ topic, it'll now show up as
> > /blog/wordpress-news/ which just looks way smarter without having the
> > /category/ bit showing and looking out of sync with pages!
>
> > Another example could well be ?http://www.site.com/blog/freebies/which
> > means the list can go on and on, but you get the picture?
>
> > You might argue that it's not much different than what we currently have at
> > the moment, I'll admit, it's not, and with Custom Taxonomies and Custom Post
> > Types you never know what can happen, they're only thoughts I have, not much
> > more than that! =) The additional features that could be added to the
> > category options would only help, in my opinion, become much more of a CMS.
>
> > In fact, for a little inspiration I'd take a look at WooThemes.com website
> > who do this very well with the addition of a plugin (Top Level Categories),
> > but then why should something as standard as this come down to a plugin,
> > that not everyone knows about?
>
> > A couple of people did respond to the Trac Ticket, so do take a look at what
> > they posted, and the replies I posted to them, of which I had a couple of
> > questions...http://core.trac.wordpress.org/ticket/12183
>
> > What are your particular thoughts, how far should we go with regards to
> > improving the category side of things, let the discussion begin.
>
> I find it amazing, and more than a little humorous, at how far people
> will go just because they don't want the word "category" in their URL.
>
> IMO, categories are fine, don't need any improvements at present, and
> some people just need to get over it.
>
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Wed Feb 10 16:38:39 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 10 Feb 2010 11:38:39 -0500
Subject: [wp-hackers] alternative taxonomy to relate users to pages
In-Reply-To: <4B72C3DF.6020106@gmail.com>
References: <6856.80.101.40.25.1265802481.squirrel@www.nobodyhere.com>
	<5efd9380-b92e-4162-9778-d335e73e1392@b18g2000vbl.googlegroups.com>
	<4B72C3DF.6020106@gmail.com>
Message-ID: <A1517180-9D13-4C15-905B-A19C58DFA217@newclarity.net>

> @Mike: How would you propose that this would be part of the taxanomies?

Probably by adding an optional subject_id to wp_term_relationships and possibly an optional subject_type and optional object_type to wp_terms.

> I'm all for adding this to the core, but perhaps it would be better if
> we build it using a plugin first so we can test it and easily work out
> the kinks.

Yes, adding to a plugin first makes great sense.  Point of note I wasn't proposing an update to core at first just that this functionality be tied to the existing taxonomy system rather than create what would instead be a second taxonomy system.

> Btw if any of you have any hints or tips for how to offer this as patch
> for WP core, please let us know since my personal experience in getting
> patches noticed (let alone accepted) is not that good and therefore I'm
> a bit hesitant in investing time in something that might be never
> noticed nor discussed.

I have had exactly the same experience.

-Mike

On Feb 10, 2010, at 9:34 AM, Bjorn Wijers wrote:

> @logikal16: Not sure if Marcel mentioned it but we're using Wordpress Mu
> and afaik Pods is a plugin for Wordpress and does not work with WP MU.
> Or does it? Sitewide?
> 
> @Mike: How would you propose that this would be part of the taxanomies?
> I'm all for adding this to the core, but perhaps it would be better if
> we build it using a plugin first so we can test it and easily work out
> the kinks.
> 
> Btw if any of you have any hints or tips for how to offer this as patch
> for WP core, please let us know since my personal experience in getting
> patches noticed (let alone accepted) is not that good and therefore I'm
> a bit hesitant in investing time in something that might be never
> noticed nor discussed.
> 
> grtz
> BjornW
> 
> 
> 
>> Give the Pods plugin a try.
>> 
>> It handles everything you've mentioned thus far (relate post, page,
>> user to anything), plus many-to-many relationships.
>> 
>> </biased>
>> 
>> On Feb 10, 6:48 am, anyb... at nobodyhere.com wrote:
>>> I'd like to relate users to pages and post, which isn't supported by
>>> taxonomies.
>>> 
>>> Eventually I'd like to relate anything (user, post, page etc) to anything.
>>> 
>>> I couldn't find an existing plugin, so I decided to write my own.
>>> 
>>> But before I start coding, I'd appreciate some feedback.
>>> 
>>> After reading Murray Woodman
>>> (http://murraywoodman.com/355/wordpress-taxonomies) I'm considering the
>>> following mysql table structure:
>>> 
>>> RELATIONS
>>> - id
>>> - subject_id
>>> - subject_type (user/page/post/comment)
>>> - predicate_id
>>> - object_id
>>> - object_type
>>> 
>>> PREDICATES
>>> - id
>>> - title (e.g. "is part of", "likes")
>>> - slug (e.g. "part_of", "likes")
>>> 
>>> Any suggestions?
>>> 
>>> Marcel van der Drift
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> 
> 
> -- 
> 
> met vriendelijke groet,
> Bjorn Wijers
> 
> * b u r o b j o r n .nl *
> digitaal vakmanschap | digital craftsmanship
> 
> Concordiastraat 68-126
> 3551 EM Utrecht
> The Netherlands
> 
> phone: +31 6 49 74 78 70
> http://www.burobjorn.nl
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From contact at hervedesign.com  Wed Feb 10 18:17:33 2010
From: contact at hervedesign.com (Jeremy Herve)
Date: Wed, 10 Feb 2010 19:17:33 +0100
Subject: [wp-hackers] Theme options panel questions - Add social
	bookmarking
In-Reply-To: <4B717D6E.5020000@gaarai.com>
References: <3c327eda1002090018n35326689r7c961d7cc03b799c@mail.gmail.com>
	<4B717D6E.5020000@gaarai.com>
Message-ID: <3c327eda1002101017r2beb841xd2ad6215f96f47b1@mail.gmail.com>

Thank you, I will give it a try, and make sure I check all the links you
mention: I know I seriously lack some knowledge about WordPress standards...

Jeremy Herve
http://twitter.com/jeherve



On Tue, Feb 9, 2010 at 4:21 PM, Chris Jean <gaarai at gaarai.com> wrote:

> For your single.php code, you have two main issues:
>
>  1. All of your begin PHP blocks are "<?" rather than "<?php". While
>     this may work on some systems, it will fail on others. So, always
>     use "<?php" rather than "<?".
>  2. You are referencing variables that don't exist. For example, there
>     is not a $mytheme_facebook_enable variable. Instead, you should be
>     checking get_option('mytheme_facebook_enable') as the data is
>     stored in the options system.
>
> Logically, your functions.php code is fine. My main suggestion is that you
> change get_settings to get_option as the get_settings function is
> deprecated. get_option functions in the same was as get_settings, so only
> the function name needs to be changed.
>
> Going beyond the project at hand, I recommend the following to improve your
> development practices:
>
>   * Learn some coding practice fundamentals. Using proper indenting
>     and a clean, consistent coding style will make your code easier to
>     read and debug. I recommend reading the following:
>         o http://codex.wordpress.org/WordPress_Coding_Standards
>         o http://en.wikipedia.org/wiki/Indent_style
>   * Avoid deprecated functions: http://en.wikipedia.org/wiki/Deprecation
>   * Enable WP_DEBUG in your wp-config.php as this will show you
>     warnings about non-existent variables (your single.php variables),
>     deprecated functions (the get_settings calls in functions.php),
>     and unchecked array indexes (this can be useful to find out when
>     you have a typo in your array references).
>     http://codex.wordpress.org/Editing_wp-config.php#Debug
>
> Chris Jean
> Coder for http://ithemes.com/
> http://gaarai.com/
> @chrisjean
>
>
>
> On 02/09/2010 02:18 AM, Jeremy Herve wrote:
>
>> Hi there!
>>
>> I am having a few issues figuring this out by myself, and I did not
>> receive help on the WordPress forums, so I now ask the question
>> directly to the pros! :)
>>
>> I am trying to develop a theme with an options panel allowing the user
>> to choose which social bookmarking websites he would like to have
>> displayed on single articles pages thanks to checkboxes.
>>
>> Here is what I have done so far:
>>
>> In my functions.php
>> http://pastebin.com/f37ea5d17
>>
>> In single.php
>> http://pastebin.com/f3d9d923d
>>
>> But I must miss something: everything is displayed in single.php,
>> checkboxes activated or not; and when I try to modify checkboxes in
>> the admin options panel, I get an error message:
>> "You do not have sufficient permissions to access this page."
>>
>> Do you have any idea how to work this out?
>>
>> Thanks for your help!
>>
>> Jeremy Herve
>> http://twitter.com/jeherve
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Wed Feb 10 18:47:54 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 10 Feb 2010 13:47:54 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
Message-ID: <BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net>

On Feb 10, 2010, at 10:13 AM, Otto wrote:
> I find it amazing, and more than a little humorous, at how far people
> will go just because they don't want the word "category" in their URL.

One important consideration, the deeper the path structure the less likely Google will rank the page highly in search results.  FWIW.

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/






From otto at ottodestruct.com  Wed Feb 10 19:05:08 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 10 Feb 2010 13:05:08 -0600
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn> 
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com> 
	<BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net>
Message-ID: <161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>

On Wed, Feb 10, 2010 at 12:47 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> On Feb 10, 2010, at 10:13 AM, Otto wrote:
>> I find it amazing, and more than a little humorous, at how far people
>> will go just because they don't want the word "category" in their URL.
>
> One important consideration, the deeper the path structure the less likely Google will rank the page highly in search results. ?FWIW.

You are mistaken. Sorry. Google doesn't care about paths or total URL
length. It *does* care about the last part of the path, and that
should always be your post-name, because Google parses those words and
uses them as keywords for the post.

That said, shorter URLs do tend to get more clicks from search
engines. But that's shorter total length, the "distance from root" is
meaningless.

But don't take my word for it, ask Matt Cutts.

-Otto

From esmi at quirm.net  Wed Feb 10 19:11:45 2010
From: esmi at quirm.net (esmi at quirm dot net)
Date: Wed, 10 Feb 2010 19:11:45 +0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
 Category Side Of Things
In-Reply-To: <161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net>
	<161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>
Message-ID: <4B7304F1.8080500@quirm.net>

on 10/02/2010 19:05 Otto said the following:

> You are mistaken. Sorry. Google doesn't care about paths or total URL
> length.
<snip>
> But don't take my word for it, ask Matt Cutts.

Otto,

Do you happen to have a link that I can use as a cite for this? It's a 
point I'd dearly love to get across on the forums.

esmi
-- 
www.quirm.net


From otto at ottodestruct.com  Wed Feb 10 19:25:45 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 10 Feb 2010 13:25:45 -0600
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <4B7304F1.8080500@quirm.net>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn> 
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com> 
	<BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net>
	<161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com> 
	<4B7304F1.8080500@quirm.net>
Message-ID: <161617691002101125i30ea3e6en6424bab873786d78@mail.gmail.com>

On Wed, Feb 10, 2010 at 1:11 PM, esmi at quirm dot net <esmi at quirm.net> wrote:
> on 10/02/2010 19:05 Otto said the following:
>
>> You are mistaken. Sorry. Google doesn't care about paths or total URL
>> length.
>
> <snip>
>>
>> But don't take my word for it, ask Matt Cutts.
>
> Do you happen to have a link that I can use as a cite for this? It's a point
> I'd dearly love to get across on the forums.

Mmm.. Not really.

Searching found this interview with him where he talks about having
excessive numbers of words in the URL:
http://www.stephanspencer.com/search-engines/matt-cutts-interview .
It's about a third of the way down the page.

Google's own blogs on blogger use the month/day/name structure.
Example: http://blog.chromium.org/2010/02/40000-more-extensions.html

Matt Cutts runs his site on WordPress. He appears to use just
%postname% for his permalink, but he has also changed the word
"category" to "type" for his category archives.

All blogger URLs tend to get really long, and they rank fine in searches.

I dunno. There's a lot of incorrect and misleading SEO ideas out
there. The whole trick is simple, really: there's no "tricks" to SEO.
A site that is easier to parse and read will rank better than one that
isn't. If your content is easier to find, it'll rank higher. This
means having intra-blog links prominently displayed. It really doesn't
much matter what the URL is, because people don't type URLs, and
therefore Google doesn't place a lot of stock in them. People see
sites, not URLs.

-Otto
Sent from Memphis, TN, United States

From mikeschinkel at newclarity.net  Wed Feb 10 19:27:06 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 10 Feb 2010 14:27:06 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net>
	<161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>
Message-ID: <C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>

On Feb 10, 2010, at 2:05 PM, Otto wrote:
> On Wed, Feb 10, 2010 at 12:47 PM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
>> On Feb 10, 2010, at 10:13 AM, Otto wrote:
>>> I find it amazing, and more than a little humorous, at how far people
>>> will go just because they don't want the word "category" in their URL.
>> 
>> One important consideration, the deeper the path structure the less likely Google will rank the page highly in search results.  FWIW.
> 
> You are mistaken. Sorry. Google doesn't care about paths or total URL
> length. It *does* care about the last part of the path, and that
> should always be your post-name, because Google parses those words and
> uses them as keywords for the post.
> 
> 
> But don't take my word for it, ask Matt Cutts.


I don't take Matt's comments on face value, I take the evidence I've generated from testing. From testing there is a significant difference for each level of path depth (>10%.)

OTOH, I would be interested to read his comments on that topic.  I googled and can't find.  Can you provide a link?

> That said, shorter URLs do tend to get more clicks from search
> engines. 

Ignoring that debate, shorter URLs are better in many contexts. Shorter URLs don't need shrinkers as often so are better able to retain brand via click through.

Bottom line, a site publisher will be better off if they have control to optimize their URL structure.  One of WordPress' biggest current weaknesses is the difficulty of control URL structure.

-Mike 
P.S. I've studies URL design in depth, see my blog from a few years back: http://blog.welldesignedurls.org


From mccormicky at gmail.com  Wed Feb 10 19:39:16 2010
From: mccormicky at gmail.com (mccormicky)
Date: Wed, 10 Feb 2010 14:39:16 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net>
	<161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>
	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>
Message-ID: <d7153761002101139s75a2c16awaa95b2948784100f@mail.gmail.com>

My dad constantly writes posts with very long -upwards of 20 words- post
titles and he has page rank 5, the highest of all my sites I maintain,
 using permalink structure /%post_id%/%postname%/  w/  "category"  -category
base - default.
His site PR proves it doesn't seem to matter how long the url is or how far
it is from the root or whatever.
To me,anyway.

"Shorter URLs don't need shrinkers as often so are better able to retain
brand via click through."

Might be a dumb question but what does that mean?


On Wed, Feb 10, 2010 at 2:27 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> On Feb 10, 2010, at 2:05 PM, Otto wrote:
> > On Wed, Feb 10, 2010 at 12:47 PM, Mike Schinkel
> > <mikeschinkel at newclarity.net> wrote:
> >> On Feb 10, 2010, at 10:13 AM, Otto wrote:
> >>> I find it amazing, and more than a little humorous, at how far people
> >>> will go just because they don't want the word "category" in their URL.
> >>
> >> One important consideration, the deeper the path structure the less
> likely Google will rank the page highly in search results.  FWIW.
> >
> > You are mistaken. Sorry. Google doesn't care about paths or total URL
> > length. It *does* care about the last part of the path, and that
> > should always be your post-name, because Google parses those words and
> > uses them as keywords for the post.
> >
> >
> > But don't take my word for it, ask Matt Cutts.
>
>
> I don't take Matt's comments on face value, I take the evidence I've
> generated from testing. From testing there is a significant difference for
> each level of path depth (>10%.)
>
> OTOH, I would be interested to read his comments on that topic.  I googled
> and can't find.  Can you provide a link?
>
> > That said, shorter URLs do tend to get more clicks from search
> > engines.
>
> Ignoring that debate, shorter URLs are better in many contexts. Shorter
> URLs don't need shrinkers as often so are better able to retain brand via
> click through.
>
> Bottom line, a site publisher will be better off if they have control to
> optimize their URL structure.  One of WordPress' biggest current weaknesses
> is the difficulty of control URL structure.
>
> -Mike
> P.S. I've studies URL design in depth, see my blog from a few years back:
> http://blog.welldesignedurls.org
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Wed Feb 10 19:57:26 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 10 Feb 2010 14:57:26 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <161617691002101125i30ea3e6en6424bab873786d78@mail.gmail.com>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net>
	<161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>
	<4B7304F1.8080500@quirm.net>
	<161617691002101125i30ea3e6en6424bab873786d78@mail.gmail.com>
Message-ID: <21EE0CC0-17F2-4F2E-9B2E-9F60C1F7AC82@newclarity.net>

On Feb 10, 2010, at 2:25 PM, Otto wrote:
> On Wed, Feb 10, 2010 at 1:11 PM, esmi at quirm dot net <esmi at quirm.net> wrote:
>> on 10/02/2010 19:05 Otto said the following:
>> 
>>> You are mistaken. Sorry. Google doesn't care about paths or total URL
>>> length.
>> 
>> <snip>
>>> 
>>> But don't take my word for it, ask Matt Cutts.
>> 
>> Do you happen to have a link that I can use as a cite for this? It's a point
>> I'd dearly love to get across on the forums.
> 
> Mmm.. Not really.
> 
> Searching found this interview with him where he talks about having
> excessive numbers of words in the URL:
> http://www.stephanspencer.com/search-engines/matt-cutts-interview .
> It's about a third of the way down the page.
> 
> Google's own blogs on blogger use the month/day/name structure.
> Example: http://blog.chromium.org/2010/02/40000-more-extensions.html
> 
> Matt Cutts runs his site on WordPress. He appears to use just
> %postname% for his permalink, but he has also changed the word
> "category" to "type" for his category archives.
> 
> I dunno. There's a lot of incorrect and misleading SEO ideas out
> there. The whole trick is simple, really: there's no "tricks" to SEO.


As I expected, there were no explicit assertions from Cutts, just imperial evidence which you have interpreted as such.

As for SEO, I'm someone who builds for people first, SEO second. Working to avoid "category" in the URL is important for people who want to design the site to be better for people, i.e.

http://example.com/news/

Is much, much, much better for people than:

http://example.com/category/news/

However I mentioned SEO because I didn't want to go another round of debate with you on opinion topics but instead focus on things that most people want to get right (vs. just having a strongly held opinion.)

> All blogger URLs tend to get really long, and they rank fine in searches.

I believe that is because Google recognizes blog post URLs as being special and thus doesn't penalize them.  It's been said "Google loves blogs" and I think this means that Google recognizes that the pattern /{year}/{month}/{day}/{postname}/ is a permalink for a post and gives is a pass. My testing proves that to be the case, for me at least.

But I wasn't speaking about post page ranking, I was speaking about things like category pages where Google can't recognize a year/month/day pattern in the URL.  If you test it I'm sure you will find that #2 ranks higher than #1, all other things being equal:

#1 /toyota/4runner/ltd/1999/
#2 /1999-toyota-4runner-ltd/

That said, depending on the organization of the site the former might be more usable than the latter. But the site owner should be given the ability to control it to optimize for their needs.  WordPress doesn't help here.

> A site that is easier to parse and read will rank better than one that
> isn't. If your content is easier to find, it'll rank higher. This
> means having intra-blog links prominently displayed.

Yes, but that's not the full picture.  Sites that are *otherwise equal* can improve significantly from a thoughtful URL structure both in ranking and in usability.  It would be foolish to think otherwise, i.e. that URL design would have zero impact.

> It really doesn't much matter what the URL is, because people don't
> type URLs, and therefore Google doesn't place a lot of stock in them.
> People see sites, not URLs.

It absolutely matters. 

You make the fallacy that too many people make about URLs which is to evaluate the benefits of well designed URLs in a very limited context.  The people I see make that facility most often, btw, are programmers who would prefer it to be true so they aren't bothered by having to also consider URL design in their development.

People do type URLs, with typeahead in browsers.  People read them in many different contexts such as browser history, emails, places like Delicious and Google, and well designed URLs makes them able to recognize their purpose more easily. Companies promote them in advertising, when they are short. And people publish them on social networks with is quickly becomes one of the most important reasons that your URLs should be very well designed. Dismissing URL design as unimportant is much like dismissing blood pressure meds because you can't feel a difference between when you take them and when you don't.

-Mike

From mikeschinkel at newclarity.net  Wed Feb 10 20:05:32 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 10 Feb 2010 15:05:32 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <d7153761002101139s75a2c16awaa95b2948784100f@mail.gmail.com>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net>
	<161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>
	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>
	<d7153761002101139s75a2c16awaa95b2948784100f@mail.gmail.com>
Message-ID: <14A84D4A-FA61-4D03-853C-BF0C9ECE0D2C@newclarity.net>

On Feb 10, 2010, at 2:39 PM, mccormicky wrote:
> My dad constantly writes posts with very long -upwards of 20 words- post
> titles and he has page rank 5, the highest of all my sites I maintain,
> using permalink structure /%post_id%/%postname%/  w/  "category"  -category
> base - default.
> His site PR proves it doesn't seem to matter how long the url is or how far
> it is from the root or whatever.
> To me,anyway.

Read my previous email to Otto, but in short my testing indicates that Google gives special consideration to blog posts.  Also you misunderstood my comment, I was talking about path depth, not URL length, at least not regarding Google. For example, #2 would rank better than #1 because #2 is in the root path:

	#1 /what/floats/very/tiny/rocks/
	#2 /what-floats-very-tiny-rocks-wood-and-witches/

> "Shorter URLs don't need shrinkers as often so are better able to retain
> brand via click through."
> 
> Might be a dumb question but what does that mean?


Which are better for Apple's branding if I tweet it on Twitter?

	#1 http://apple.com/ipad/
	#2 http://bit.ly/d8hvKH

-Mike

From mpretty at voceconnect.com  Wed Feb 10 20:12:08 2010
From: mpretty at voceconnect.com (mpretty at voceconnect.com)
Date: Wed, 10 Feb 2010 20:12:08 +0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
In-Reply-To: <21EE0CC0-17F2-4F2E-9B2E-9F60C1F7AC82@newclarity.net>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com><4B7304F1.8080500@quirm.net><161617691002101125i30ea3e6en6424bab873786d78@mail.gmail.com><21EE0CC0-17F2-4F2E-9B2E-9F60C1F7AC82@newclarity.net>
Message-ID: <166399303-1265832424-cardhu_decombobulator_blackberry.rim.net-62059161-@bda402.bisx.prod.on.blackberry>

If something is going to be defined in such a way where it is strongly cast into a category like "news" as opposed to regular blog content, I feel like it should fall under the domain of a custom post type.  In this case you would add rewrite rules that maps /news/ to ?post_type=news.  While this was similar to the argument for the parent categories, adding specific rewrite rules for every category would become an overhead because of how loosely some sites use categories.

Michael
Sent from my Verizon Wireless BlackBerry

-----Original Message-----
From: Mike Schinkel <mikeschinkel at newclarity.net>
Date: Wed, 10 Feb 2010 14:57:26 
To: wp-hackers<wp-hackers at lists.automattic.com>
Subject: Re: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things

On Feb 10, 2010, at 2:25 PM, Otto wrote:
> On Wed, Feb 10, 2010 at 1:11 PM, esmi at quirm dot net <esmi at quirm.net> wrote:
>> on 10/02/2010 19:05 Otto said the following:
>> 
>>> You are mistaken. Sorry. Google doesn't care about paths or total URL
>>> length.
>> 
>> <snip>
>>> 
>>> But don't take my word for it, ask Matt Cutts.
>> 
>> Do you happen to have a link that I can use as a cite for this? It's a point
>> I'd dearly love to get across on the forums.
> 
> Mmm.. Not really.
> 
> Searching found this interview with him where he talks about having
> excessive numbers of words in the URL:
> http://www.stephanspencer.com/search-engines/matt-cutts-interview .
> It's about a third of the way down the page.
> 
> Google's own blogs on blogger use the month/day/name structure.
> Example: http://blog.chromium.org/2010/02/40000-more-extensions.html
> 
> Matt Cutts runs his site on WordPress. He appears to use just
> %postname% for his permalink, but he has also changed the word
> "category" to "type" for his category archives.
> 
> I dunno. There's a lot of incorrect and misleading SEO ideas out
> there. The whole trick is simple, really: there's no "tricks" to SEO.


As I expected, there were no explicit assertions from Cutts, just imperial evidence which you have interpreted as such.

As for SEO, I'm someone who builds for people first, SEO second. Working to avoid "category" in the URL is important for people who want to design the site to be better for people, i.e.

http://example.com/news/

Is much, much, much better for people than:

http://example.com/category/news/

However I mentioned SEO because I didn't want to go another round of debate with you on opinion topics but instead focus on things that most people want to get right (vs. just having a strongly held opinion.)

> All blogger URLs tend to get really long, and they rank fine in searches.

I believe that is because Google recognizes blog post URLs as being special and thus doesn't penalize them.  It's been said "Google loves blogs" and I think this means that Google recognizes that the pattern /{year}/{month}/{day}/{postname}/ is a permalink for a post and gives is a pass. My testing proves that to be the case, for me at least.

But I wasn't speaking about post page ranking, I was speaking about things like category pages where Google can't recognize a year/month/day pattern in the URL.  If you test it I'm sure you will find that #2 ranks higher than #1, all other things being equal:

#1 /toyota/4runner/ltd/1999/
#2 /1999-toyota-4runner-ltd/

That said, depending on the organization of the site the former might be more usable than the latter. But the site owner should be given the ability to control it to optimize for their needs.  WordPress doesn't help here.

> A site that is easier to parse and read will rank better than one that
> isn't. If your content is easier to find, it'll rank higher. This
> means having intra-blog links prominently displayed.

Yes, but that's not the full picture.  Sites that are *otherwise equal* can improve significantly from a thoughtful URL structure both in ranking and in usability.  It would be foolish to think otherwise, i.e. that URL design would have zero impact.

> It really doesn't much matter what the URL is, because people don't
> type URLs, and therefore Google doesn't place a lot of stock in them.
> People see sites, not URLs.

It absolutely matters. 

You make the fallacy that too many people make about URLs which is to evaluate the benefits of well designed URLs in a very limited context.  The people I see make that facility most often, btw, are programmers who would prefer it to be true so they aren't bothered by having to also consider URL design in their development.

People do type URLs, with typeahead in browsers.  People read them in many different contexts such as browser history, emails, places like Delicious and Google, and well designed URLs makes them able to recognize their purpose more easily. Companies promote them in advertising, when they are short. And people publish them on social networks with is quickly becomes one of the most important reasons that your URLs should be very well designed. Dismissing URL design as unimportant is much like dismissing blood pressure meds because you can't feel a difference between when you take them and when you don't.

-Mike
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From otto at ottodestruct.com  Wed Feb 10 21:15:14 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 10 Feb 2010 15:15:14 -0600
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <21EE0CC0-17F2-4F2E-9B2E-9F60C1F7AC82@newclarity.net>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn> 
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com> 
	<BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net>
	<161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com> 
	<4B7304F1.8080500@quirm.net>
	<161617691002101125i30ea3e6en6424bab873786d78@mail.gmail.com> 
	<21EE0CC0-17F2-4F2E-9B2E-9F60C1F7AC82@newclarity.net>
Message-ID: <161617691002101315g2a08941m923634aff0905be6@mail.gmail.com>

On Wed, Feb 10, 2010 at 1:57 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> As for SEO, I'm someone who builds for people first, SEO second. Working to avoid "category" in the URL is important ... blah blah...

I'm not going to argue with you on this list.

I will, however, state that I categorically disagree with every single
thing you said in your post. It is my considered opinion that you are
wrong in every possible respect in which you can possibly be wrong.
Several things you stated can be *proven* wrong, although most of it
was opinion, unbacked by any shred of evidence. Not that I can talk on
that score, I have no empirical evidence either.

So, if you want to argue about any particular thing off-list, then I'm
game. But not on-list.

-Otto

From mikeschinkel at newclarity.net  Wed Feb 10 23:25:37 2010
From: mikeschinkel at newclarity.net (mikeschinkel at newclarity.net)
Date: Wed, 10 Feb 2010 17:25:37 -0600 (CST)
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <161617691002101315g2a08941m923634aff0905be6@mail.gmail.com>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net>
	<161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>
	<4B7304F1.8080500@quirm.net>
	<161617691002101125i30ea3e6en6424bab873786d78@mail.gmail.com>
	<21EE0CC0-17F2-4F2E-9B2E-9F60C1F7AC82@newclarity.net>
	<161617691002101315g2a08941m923634aff0905be6@mail.gmail.com>
Message-ID: <338471EF-A341-471E-9FEA-2237240AC3FC@newclarity.net>

On Feb 10, 2010, at 4:18 PM, Otto <otto at ottodestruct.com> wrote:
> I'm not going to argue with you on this list.
>
> I will, however, state that I categorically disagree with every single
> thing you said in your post. It is my considered opinion that you are
> wrong in every possible respect in which you can possibly be wrong.
> Several things you stated can be *proven* wrong, although most of it
> was opinion, unbacked by any shred of evidence. Not that I can talk on
> that score, I have no empirical evidence either.

Once again you pass your own opinions off as fact when disagreeing  
with another's opinion. I gotta hand it to you; at least you are  
consistent.

-Mike

>

From admin at wpkid.com  Thu Feb 11 01:16:14 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Thu, 11 Feb 2010 01:16:14 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
Message-ID: <DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>

----- Original Message ----- 
From: "Otto" <otto at ottodestruct.com>
To: <wp-hackers at lists.automattic.com>
Sent: Wednesday, February 10, 2010 3:13 PM
Subject: Re: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around 
TheCategory Side Of Things

> I find it amazing, and more than a little humorous, at how far people
> will go just because they don't want the word "category" in their URL.
>
> IMO, categories are fine, don't need any improvements at present, and
> some people just need to get over it.

At the end of the day, WHAT EXACTLY does /category/ do? Please to tell me 
Otto ... cause if you visit that link on your site, it'll show a 404 error 
page, I mean come on, what's all that about? Understanding Custom Taxonomies 
a little more now though, I couldn't give a toss about having ''category'' 
in the URL, but that in itself will still lead me to oh, wait a minute, yet 
another 404 error page! :( Not looking too good is it? ANY example ... 
/people/ /school/ /speaker/ /event/ ... all does the same thing! (And if you 
think I was having a go, I'm not, just trying to put a point across!)

But I'm glad you found me funny! :) 


From wp at andrewnacin.com  Thu Feb 11 01:19:23 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 10 Feb 2010 20:19:23 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
In-Reply-To: <DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn> 
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com> 
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
Message-ID: <4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>

> At the end of the day, WHAT EXACTLY does /category/ do?

As I explained in the ticket (http://core.trac.wordpress.org/ticket/12183),
it exists to assist with the internal rewrite rules.

From admin at wpkid.com  Thu Feb 11 01:24:27 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Thu, 11 Feb 2010 01:24:27 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net>
	<161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>
Message-ID: <CAE83DA293374E9A994CCD9354AA24C2@davidhr5m957yn>

----- Original Message ----- 
From: "Otto" <otto at ottodestruct.com>
To: <wp-hackers at lists.automattic.com>
Sent: Wednesday, February 10, 2010 7:05 PM
Subject: Re: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around 
TheCategory Side Of Things


> On Wed, Feb 10, 2010 at 12:47 PM, Mike Schinkel 
> <mikeschinkel at newclarity.net> wrote:
>> On Feb 10, 2010, at 10:13 AM, Otto wrote:
>>> I find it amazing, and more than a little humorous, at how far people
>>> will go just because they don't want the word "category" in their URL.
>>
>> One important consideration, the deeper the path structure the less 
>> likely Google will rank the page highly in search results. FWIW.

> You are mistaken. Sorry. Google doesn't care about paths or total URL
> length. It *does* care about the last part of the path, and that
> should always be your post-name, because Google parses those words and
> uses them as keywords for the post.

And when did I ever bring up the topic of Google and/or SEO? - OK so I 
didn't, but that's another kettle of fish, what I think we should talk is 
about enhancing the /category/ or /whatever/ someone creates as their Custom 
Taxonomy, being as it currently does nothing! 


From admin at wpkid.com  Thu Feb 11 01:34:00 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Thu, 11 Feb 2010 01:34:00 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
	AroundTheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>
Message-ID: <8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>

----- Original Message ----- 
From: "Andrew Nacin" <wp at andrewnacin.com>
To: <wp-hackers at lists.automattic.com>
Sent: Thursday, February 11, 2010 1:19 AM
Subject: Re: [wp-hackers] Some Thoughts/Enhancement Ideas In And 
AroundTheCategory Side Of Things


>> At the end of the day, WHAT EXACTLY does /category/ do?
>
> As I explained in the ticket 
> (http://core.trac.wordpress.org/ticket/12183),
> it exists to assist with the internal rewrite rules.

I'll rephrase that then, WHAT EXACTLY does /taxonomy-name-here/ do? I mean, 
at the end of the day you could have 100's of these setup, so assisting with 
internal rewrite rules is still going to create a huge long list am I not 
right? - Which defeats the purpose?

So moving away from what it does, why can't we take advantage of it, and 
make it useful? I had an interesting discussion with Michael Fields earlier 
on about it, and he completely agrees! You can take a look at what was said 
from @wpkid which is me, and @_mfields which is Michael. If it's got to be 
included, then something can be done to enhance it, but still keep it to 
greatly assist in some internal rewrite rules that nobody seems to be 
explaining, but I'm sidetracking now! 


From michael at mfields.org  Thu Feb 11 02:28:14 2010
From: michael at mfields.org (michael at mfields.org)
Date: Wed, 10 Feb 2010 19:28:14 -0700
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
 AroundTheCategory Side Of Things
In-Reply-To: <8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>
	<8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
Message-ID: <69065cdb74e33b4186cfed1b71dc6dab.squirrel@mfields.org>

I saw my name mentioned and thought I would chime in.
To reiterate what Mark is saying:

It would be great if WordPress could actually put the place holders for
taxonomies to use. If I were to set up a custom taxonomy on my site called
"fish" and under fish I had the following terms defined: "guppy", "trout"
and "shark" I could easily view a collection of posts that are associated
with each term via these permalinks:

/fish/guppy/
/fish/trout/
/fish/shark/

However, what if I wanted to link to a collection of posts that showed all
"fish"? You would think that you could be able to go to: /fish/ to
accomplish this, but instead you are greeted with a 404 page.

I realize that adding the taxonomy slug to the url is how WordPress deals
with rewrites changing /?fish=guppy to /fish/guppy/ which may require
another query var to execute. Perhaps /?taxonomy=fish?

I think that this would be a great addition to core especially when use of
custom taxonomies becomes more widespread.

Hope this helps,
-Mike

> ----- Original Message -----
> From: "Andrew Nacin" <wp at andrewnacin.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Thursday, February 11, 2010 1:19 AM
> Subject: Re: [wp-hackers] Some Thoughts/Enhancement Ideas In And
> AroundTheCategory Side Of Things
>
>
>>> At the end of the day, WHAT EXACTLY does /category/ do?
>>
>> As I explained in the ticket
>> (http://core.trac.wordpress.org/ticket/12183),
>> it exists to assist with the internal rewrite rules.
>
> I'll rephrase that then, WHAT EXACTLY does /taxonomy-name-here/ do? I
> mean,
> at the end of the day you could have 100's of these setup, so assisting
> with
> internal rewrite rules is still going to create a huge long list am I not
> right? - Which defeats the purpose?
>
> So moving away from what it does, why can't we take advantage of it, and
> make it useful? I had an interesting discussion with Michael Fields
> earlier
> on about it, and he completely agrees! You can take a look at what was
> said
> from @wpkid which is me, and @_mfields which is Michael. If it's got to be
> included, then something can be done to enhance it, but still keep it to
> greatly assist in some internal rewrite rules that nobody seems to be
> explaining, but I'm sidetracking now!
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



From charles at cefm.ca  Thu Feb 11 02:34:38 2010
From: charles at cefm.ca (Charles Frees-Melvin)
Date: Wed, 10 Feb 2010 22:34:38 -0400
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
	AroundTheCategory Side Of Things
In-Reply-To: <8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>
	<8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
Message-ID: <D75B93A9-37DE-408C-A2A8-BC40096A46F3@cefm.ca>

It would however interfere with the slugs of pages and could create  
conflicts. As currently there is top level taxonomy for pages. It  
really could hurt the pages functionality if there was no taxonomy for  
categories.

Sent from my iPhone

On 2010-02-10, at 21:34, "Mark McWilliams" <admin at wpkid.com> wrote:

> ----- Original Message ----- From: "Andrew Nacin" <wp at andrewnacin.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Thursday, February 11, 2010 1:19 AM
> Subject: Re: [wp-hackers] Some Thoughts/Enhancement Ideas In And  
> AroundTheCategory Side Of Things
>
>
>>> At the end of the day, WHAT EXACTLY does /category/ do?
>>
>> As I explained in the ticket (http://core.trac.wordpress.org/ticket/12183 
>> ),
>> it exists to assist with the internal rewrite rules.
>
> I'll rephrase that then, WHAT EXACTLY does /taxonomy-name-here/ do?  
> I mean, at the end of the day you could have 100's of these setup,  
> so assisting with internal rewrite rules is still going to create a  
> huge long list am I not right? - Which defeats the purpose?
>
> So moving away from what it does, why can't we take advantage of it,  
> and make it useful? I had an interesting discussion with Michael  
> Fields earlier on about it, and he completely agrees! You can take a  
> look at what was said from @wpkid which is me, and @_mfields which  
> is Michael. If it's got to be included, then something can be done  
> to enhance it, but still keep it to greatly assist in some internal  
> rewrite rules that nobody seems to be explaining, but I'm  
> sidetracking now!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Wed Feb 10 21:10:41 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 10 Feb 2010 16:10:41 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
In-Reply-To: <166399303-1265832424-cardhu_decombobulator_blackberry.rim.net-62059161-@bda402.bisx.prod.on.blackberry>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com><4B7304F1.8080500@quirm.net><161617691002101125i30ea3e6en6424bab873786d78@mail.gmail.com><21EE0CC0-17F2-4F2E-9B2E-9F60C1F7AC82@newclarity.net>
	<166399303-1265832424-cardhu_decombobulator_blackberry.rim.net-62059161-@bda402.bisx.prod.on.blackberry>
Message-ID: <2129C47F-0B96-4FF5-85AA-B9073A227E42@newclarity.net>

On Feb 10, 2010, at 3:12 PM, mpretty at voceconnect.com wrote:
> If something is going to be defined in such a way where it is strongly cast into a category like "news" as opposed to regular blog content, I feel like it should fall under the domain of a custom post type.  In this case you would add rewrite rules that maps /news/ to ?post_type=news.  

Actually, I'd definitely agree with that.  Unfortunately to make that work well for users there are several other changes that would need to be made for it to be mainstream, such as allowing users to define a post type of "news" in the admin, but those are other battles that are being hard fought by those who believe such functionality shouldn't be in core.

-Mike

From notfornoone at gmail.com  Thu Feb 11 02:50:22 2010
From: notfornoone at gmail.com (Luke Gallagher)
Date: Thu, 11 Feb 2010 13:50:22 +1100
Subject: [wp-hackers] current_time, time, date_default_timezone_set,
	UTC timezone
Message-ID: <84de0ce01002101850m4e598150gc7975c7325d3757@mail.gmail.com>

I am trying to work out how date related functions should be used and
how that affects the development of plugins and plugins that use third
party libraries.

I am basing this from the latest checkout from SVN as the following
date/time related issues appear to be fixed:
http://core.trac.wordpress.org/changeset/12727


From mpretty at voceconnect.com  Thu Feb 11 03:26:52 2010
From: mpretty at voceconnect.com (Michael Pretty)
Date: Wed, 10 Feb 2010 22:26:52 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
 AroundTheCategory Side Of Things
In-Reply-To: <8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>
	<8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
Message-ID: <4B7378FC.2070302@voceconnect.com>


> I'll rephrase that then, WHAT EXACTLY does /taxonomy-name-here/ do? I 
> mean, at the end of the day you could have 100's of these setup, so 
> assisting with internal rewrite rules is still going to create a huge 
> long list am I not right? - Which defeats the purpose?
>
> So moving away from what it does, why can't we take advantage of it, 
> and make it useful? I had an interesting discussion with Michael 
> Fields earlier on about it, and he completely agrees! You can take a 
> look at what was said from @wpkid which is me, and @_mfields which is 
> Michael. If it's got to be included, then something can be done to 
> enhance it, but still keep it to greatly assist in some internal 
> rewrite rules that nobody seems to be explaining, but I'm sidetracking 
> now!

The rewrite rules for WordPress consist of an associative array of 
regular expressions mapped to query strings.  When a request is sent to 
WordPress, the WP class loops through these regular expressions to see 
which one matches the current URL structure.  When a match is found, the 
regular expression match results are used to fill in the query_vars for 
the main query based off of the query string of the matching regular 
expression.

So if the URL is /category/foo/, the matching regular expression of 
"category/(.+?)/?$" gets mapped to 
"index.php?category_name=$matches[1]"which then renders the query_vars 
of category_name=foo.  If the 'category/' prefix wasn't there, the 
corresponding regular expression for categories would just be 
'(.+?)/?'.  The problem with this is, that pages use the same regular 
expression to map to 'index.php?page_name=$matches[1].  So, without this 
'category/' identifier to make the regular expression different, 
WordPress would have no way to know whether the query_vars should be 
'page_name=foo' or 'category_name=foo'.

There was a suggestion to add rewrite rules for each specific category, 
in other words the regular expression for the 'foo' category would be 
'foo/?' which maps to 'category_name=foo'.   This would keep the 
category rules without the 'category/' prefix from colliding with the 
page_name rules.  Its a solution that will work for the most part, but 
it will have a distinct disadvantage of severely slowing down, if not 
breaking sites with a large number of categories.  This is why it can't 
be a part of core.  If it becomes a part of core to add a rewrite rule 
for every category, then sites with 100's of categories will also have 
100's of rewrite rules that will have to be looped through upon each 
request.  It just isn't an efficient solution, which is why this should 
stay in the plugin domain.

That said, I do think something could be thought of to improve the issue 
with site.com/category/ throwing a 404 by default.  Personally, I've 
always setup a page a /category/ that used a custom template that listed 
the categories to fill this spot.  No reason something can't be added to 
core to do the same.  Themes would have to support it though.

Michael
@prettyboymp

From notfornoone at gmail.com  Thu Feb 11 04:37:31 2010
From: notfornoone at gmail.com (Luke Gallagher)
Date: Thu, 11 Feb 2010 15:37:31 +1100
Subject: [wp-hackers] current_time, time, date_default_timezone_set,
	UTC timezone
In-Reply-To: <84de0ce01002101850m4e598150gc7975c7325d3757@mail.gmail.com>
References: <84de0ce01002101850m4e598150gc7975c7325d3757@mail.gmail.com>
Message-ID: <84de0ce01002102037v665a4ea3re1b244f9a0af8c81@mail.gmail.com>

Sorry about that everyone, the rest of my message was cut off.


I am trying to work out how date related functions should be used and
how that affects the development of plugins and plugins that use third
party libraries.

I am basing this from the latest checkout from SVN as the following
date/time related issues appear to be fixed:
http://core.trac.wordpress.org/changeset/12727


From mikeschinkel at newclarity.net  Thu Feb 11 04:41:03 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 10 Feb 2010 23:41:03 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
	AroundTheCategory Side Of Things
In-Reply-To: <4B7378FC.2070302@voceconnect.com>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>
	<8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
	<4B7378FC.2070302@voceconnect.com>
Message-ID: <3D2E6EEF-ABBB-438B-8F52-AEF31876E1FE@newclarity.net>

On Feb 10, 2010, at 10:26 PM, Michael Pretty wrote:
> That said, I do think something could be thought of to improve the issue with site.com/category/ throwing a 404 by default.  Personally, I've always setup a page a /category/ that used a custom template that listed the categories to fill this spot.  No reason something can't be added to core to do the same.  Themes would have to support it though.


Strongly agree.

On Feb 10, 2010, at 9:28 PM, michael at mfields.org wrote:
> It would be great if WordPress could actually put the place holders for
> taxonomies to use. If I were to set up a custom taxonomy on my site called
> "fish" and under fish I had the following terms defined: "guppy", "trout"
> and "shark" I could easily view a collection of posts that are associated
> with each term via these permalinks:
> 
> /fish/guppy/
> /fish/trout/
> /fish/shark/
> 
> However, what if I wanted to link to a collection of posts that showed all
> "fish"? You would think that you could be able to go to: /fish/ to
> accomplish this, but instead you are greeted with a 404 page.
> 
> I realize that adding the taxonomy slug to the url is how WordPress deals
> with rewrites changing /?fish=guppy to /fish/guppy/ which may require
> another query var to execute. Perhaps /?taxonomy=fish?
> 
> I think that this would be a great addition to core especially when use of
> custom taxonomies becomes more widespread.

Also strongly agree.

I wonder if WordPress's approach to routing URLs isn't finally being exposed as unable to scale in functionality without gross increase in complexity and/or reduction of performance?  If would seem a much better approach could be devised that would be backward compatible with old plugins but also performant and much less complex.

I've worked on URL routing system in the past that split URL paths on slashes and then traversed a tree of rules to determine how to route. That worked extremely well and could be layered on top of the variable assignment that WordPress uses behind the scenes.

JMTCW as improved URL routing is in my top 3 requests for improvement in WordPress.

-Mike

From notfornoone at gmail.com  Thu Feb 11 04:41:50 2010
From: notfornoone at gmail.com (Luke Gallagher)
Date: Thu, 11 Feb 2010 15:41:50 +1100
Subject: [wp-hackers] current_time, time, date_default_timezone_set,
	UTC timezone
Message-ID: <0643C063-FC2F-43CE-AA7D-EBC8A1B258B5@gmail.com>

Ok trying one more time, again I am sorry for the resend.


I am trying to work out how date related functions should be used and
how that affects the development of plugins and plugins that use third
party libraries.

I am basing this from the latest checkout from SVN as the following
date/time related issues appear to be fixed:
http://core.trac.wordpress.org/changeset/12727

From what I can tell it appears that to get the correct time one
should be using current_time('timestamp') instead of PHP's time. This
is because Wordpress sets the default timezone to UTC and current_time
offsets the time from what it finds in the gmt_offset setting.

Ok so now lets say I have created a plugin. Its purpose is to log
messages to a log file with a timestamp.

Obviously at this point generating a timestamp with PHP's date
function is going to be incorrect unless of course your timezone is
UTC +0. So to get the correct time I would use current_time, something
like:
date('Y-m-d H:i:s'), current_time('timestamp')

This is all good, all I have to do is update my plugin with any calls
to date or time with current_time.

My question is what about if I use a third party library that makes
calls to time or date and this library is updated by the third party
from time to time so I don't want to modifiy it. How could one avoid a
scenario like this? Is there more to the date/time handling in
Wordpress that I could be missing?

One initial thought is to set the default timezone to the timezone set
in Wordpress settings before a function call from that library and
then set it back to UTC after.

thanks,

Luke

From scribu at gmail.com  Thu Feb 11 13:07:41 2010
From: scribu at gmail.com (scribu)
Date: Thu, 11 Feb 2010 15:07:41 +0200
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
	AroundTheCategory Side Of Things
In-Reply-To: <3D2E6EEF-ABBB-438B-8F52-AEF31876E1FE@newclarity.net>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>
	<8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
	<4B7378FC.2070302@voceconnect.com>
	<3D2E6EEF-ABBB-438B-8F52-AEF31876E1FE@newclarity.net>
Message-ID: <349fe48b1002110507k3ded0747k28f8d886575bed4b@mail.gmail.com>

On Thu, Feb 11, 2010 at 6:41 AM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> I've worked on URL routing system in the past that split URL paths on
> slashes and then traversed a tree of rules to determine how to route. That
> worked extremely well and could be layered on top of the variable assignment
> that WordPress uses behind the scenes.
>

Care to share? I'm fascinated by the idea.


-- 
http://scribu.net

From otto at ottodestruct.com  Thu Feb 11 14:40:18 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 11 Feb 2010 08:40:18 -0600
Subject: [wp-hackers] current_time, time, date_default_timezone_set,
	UTC 	timezone
In-Reply-To: <84de0ce01002101850m4e598150gc7975c7325d3757@mail.gmail.com>
References: <84de0ce01002101850m4e598150gc7975c7325d3757@mail.gmail.com>
Message-ID: <161617691002110640h61ba76b7s6b753b2f6700f881@mail.gmail.com>

I do not like the "fix" that has been employed, because as you've
noticed, it invalidates all the calls to date and other such time
related functions. Everything now gives GMT time by default. Annoying,
IMO. Especially as the only purpose of this "fix" is to create
consistent behavior across PHP 4 (which does not support timezones
properly) and PHP 5 (which does).

In other words, "date" in WordPress now behaves incorrectly. But it's
consistently incorrect, so that's somehow "okay". :rolleyes:

So, if you're using PHP 5, I would simply call
date_default_timezone_set( get_option('timezone_string') ); yourself,
to correct this error. date and similar functions that are supposed to
return the local time will then do so, after you do that.

-Otto
Sent from Memphis, TN, United States


On Wed, Feb 10, 2010 at 8:50 PM, Luke Gallagher <notfornoone at gmail.com> wrote:
> I am trying to work out how date related functions should be used and
> how that affects the development of plugins and plugins that use third
> party libraries.
>
> I am basing this from the latest checkout from SVN as the following
> date/time related issues appear to be fixed:
> http://core.trac.wordpress.org/changeset/12727
>
> From what I can tell it appears that to get the correct time one
> should be using current_time('timestamp') instead of PHP's time. This
> is because Wordpress sets the default timezone to UTC and current_time
> offsets the time from what it finds in the gmt_offset setting.
>
> Ok so now lets say I have created a plugin. Its purpose is to log
> messages to a log file with a timestamp.
>
> Obviously at this point generating a timestamp with PHP's date
> function is going to be incorrect unless of course your timezone is
> UTC +0. So to get the correct time I would use current_time, something
> like:
> date('Y-m-d H:i:s'), current_time('timestamp')
>
> This is all good, all I have to do is update my plugin with any calls
> to date or time with current_time.
>
> My question is what about if I use a third party library that makes
> calls to time or date and this library is updated by the third party
> from time to time so I don't want to modifiy it. How could one avoid a
> scenario like this? Is there more to the date/time handling in
> Wordpress that I could be missing?
>
> One initial thought is to set the default timezone to the timezone set
> in Wordpress settings before a function call from that library and
> then set it back to UTC after.
>
> thanks,
>
> Luke
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Thu Feb 11 14:43:17 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 11 Feb 2010 08:43:17 -0600
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
In-Reply-To: <DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn> 
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com> 
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
Message-ID: <161617691002110643h7b663d46x9535a78a4d70042@mail.gmail.com>

On Wed, Feb 10, 2010 at 7:16 PM, Mark McWilliams <admin at wpkid.com> wrote:
> At the end of the day, WHAT EXACTLY does /category/ do? Please to tell me
> Otto ... cause if you visit that link on your site, it'll show a 404 error
> page,

My categories work just fine, so I have no idea what you are talking about:
http://ottodestruct.com/blog/category/geekery/

-Otto
Sent from Memphis, TN, United States

From otto at ottodestruct.com  Thu Feb 11 14:51:17 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 11 Feb 2010 08:51:17 -0600
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
In-Reply-To: <DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn> 
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com> 
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
Message-ID: <161617691002110651p2fc7031dne2519e901d26c0ba@mail.gmail.com>

On Wed, Feb 10, 2010 at 7:16 PM, Mark McWilliams <admin at wpkid.com> wrote:
> At the end of the day, WHAT EXACTLY does /category/ do? Please to tell me
> Otto ... cause if you visit that link on your site, it'll show a 404 error
> page, I mean come on, what's all that about? Understanding Custom Taxonomies
> a little more now though, I couldn't give a toss about having ''category''
> in the URL, but that in itself will still lead me to oh, wait a minute, yet
> another 404 error page! :( Not looking too good is it? ANY example ...
> /people/ /school/ /speaker/ /event/ ... all does the same thing! (And if you
> think I was having a go, I'm not, just trying to put a point across!)
>
> But I'm glad you found me funny! :)

Okay, reading through the thread, I see that you are making a false
assumption by assuming that /category has meaning by itself or show go
to something other than a 404 page. I find this almost as amusing, if
only it wasn't so misguided.

URIs are not path structures. They are distinct identifiers. They do
not inherently have hierarchy. The URI of /category/whatever is not
some kind of subclass of /category, and just because
/category/whatever works doesn't mean /category is a legitimate URI.

In other words, the fact that /category throws a 404 is because there
is no /category. It also doesn't matter one little bit because nowhere
on my site or anywhere else on the web will you find a link to
/category by itself. Google will never go to /category because *nobody
links to it*.

URI paths are distinct. They are whole. You don't slice and dice them
as if they were some kind of series of independent things. They can
*look* like a hierarchy, and they can be *mapped* to a hierarchy. But
/category/whatever is a single whole entity, not a series of two
entities strung together.

-Otto
Sent from Memphis, TN, United States

From mikeschinkel at newclarity.net  Thu Feb 11 18:40:54 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 11 Feb 2010 13:40:54 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
In-Reply-To: <161617691002110651p2fc7031dne2519e901d26c0ba@mail.gmail.com>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<161617691002110651p2fc7031dne2519e901d26c0ba@mail.gmail.com>
Message-ID: <015FBC75-9618-4658-9187-0956AFF308D0@newclarity.net>

On Feb 11, 2010, at 9:51 AM, Otto wrote:
> Okay, reading through the thread, I see that you are making a false
> assumption by assuming that /category has meaning by itself or show go
> to something other than a 404 page. I find this almost as amusing, if
> only it wasn't so misguided.

URLs should be "hackable" according to usability expert Jakob Nielsen, new media professor Dennis G. Jerz and many others:

http://www.useit.com/alertbox/990321.html 
http://jerz.setonhill.edu/writing/e-text/url-hacking.htm
http://www.flickr.com/photos/drewm/280526490/
http://blog.mastermaq.ca/2007/03/20/clean-amp-hackable-urls/
http://mattwilcox.net/archive/entry/id/990/

Once again, you are prove yourself out of touch with users and arrogant to imply your opinion is the only right one.

> URIs are not path structures. They are distinct identifiers. They do
> not inherently have hierarchy. The URI of /category/whatever is not
> some kind of subclass of /category, and just because
> /category/whatever works doesn't mean /category is a legitimate URI.

That's the spec, but not the reality of the use of URLs.  Throwing paint again the wall and having it land where it may obeys the laws of physics but doesn't necessarily create art.

> In other words, the fact that /category throws a 404 is because there
> is no /category. It also doesn't matter one little bit because nowhere
> on my site or anywhere else on the web will you find a link to
> /category by itself. Google will never go to /category because *nobody
> links to it*.

Duh! Nobody links to it because it's broken!  You'd find people would link to it if it provided meaningful content. Such a page could logically default to being an entry point for the list of categories on a site. The fact that isn't obvious to you is what I find sadly amusing and misguided.

> URI paths are distinct. They are whole. You don't slice and dice them
> as if they were some kind of series of independent things. They can
> *look* like a hierarchy, and they can be *mapped* to a hierarchy. But
> /category/whatever is a single whole entity, not a series of two
> entities strung together.

Sigh.  Your technical knowledge and subsequent technical help of others on this list a hugely great service to the WordPress community.  OTOH your constant advocacy against common sense greatly diminishes your contributions on balance.

-Mike


From mikeschinkel at newclarity.net  Thu Feb 11 18:41:53 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 11 Feb 2010 13:41:53 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
	AroundTheCategory Side Of Things
In-Reply-To: <349fe48b1002110507k3ded0747k28f8d886575bed4b@mail.gmail.com>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>
	<8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
	<4B7378FC.2070302@voceconnect.com>
	<3D2E6EEF-ABBB-438B-8F52-AEF31876E1FE@newclarity.net>
	<349fe48b1002110507k3ded0747k28f8d886575bed4b@mail.gmail.com>
Message-ID: <1B29B5BF-C3F2-4AB1-8A75-4635AC10CCD5@newclarity.net>

On Feb 11, 2010, at 8:07 AM, scribu wrote:
> 
>> I've worked on URL routing system in the past that split URL paths on
>> slashes and then traversed a tree of rules to determine how to route. That
>> worked extremely well and could be layered on top of the variable assignment
>> that WordPress uses behind the scenes.
>> 
> 
> Care to share? I'm fascinated by the idea.

Glad you like it!  Let me dig up the code.  I've got a meeting the rest of the day so it may not be today...

-Mike


From otto at ottodestruct.com  Thu Feb 11 19:20:36 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 11 Feb 2010 13:20:36 -0600
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
In-Reply-To: <015FBC75-9618-4658-9187-0956AFF308D0@newclarity.net>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn> 
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com> 
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<161617691002110651p2fc7031dne2519e901d26c0ba@mail.gmail.com> 
	<015FBC75-9618-4658-9187-0956AFF308D0@newclarity.net>
Message-ID: <161617691002111120h619a99f0r236670a0f03c8a88@mail.gmail.com>

On Thu, Feb 11, 2010 at 12:40 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> URLs should be "hackable" according to usability expert Jakob Nielsen, new media professor Dennis G. Jerz and many others:

Yes. Every single one of those people is mistaken. :-D

> Once again, you are prove yourself out of touch with users and arrogant to imply your opinion is the only right one.

Yes, my opinion is the right one. Seriously, do you go around assuming
that you are wrong all the time? Must be a hell of a way to live. I
don't consider that arrogant, I consider that just a fact of life.
Everybody thinks they're right all the time. That's the way people
work. Unless you consider recognizing that fact and admitting it
outright to be "arrogant", I suppose. Odd use of word though.

Still, all this is off-topic for the list, so if you're going to just
keep posting personal attacks against me for no reason other than me
stating my opinion, I'm pretty sure nobody on the list wants to read
it. Why not message me directly instead?

> That's the spec, but not the reality of the use of URLs. ?Throwing paint again the wall and having it land where it may obeys the laws of physics but doesn't necessarily create art.

Continually claiming that people treat URLs as mix-and-match reality
doesn't make it so. Those "usability experts" are idiots if they think
the average person edits the URL in order to go where they way. Hell,
man, people don't even edit the URL to go to Facebook, and get
confused when Google starts returning different results!

Check this out:
http://www.readwriteweb.com/archives/facebook_wants_to_be_your_one_true_login.php

That site showed up as the top Google result for "facebook login" for
a while the other day. Read the comments on it about people who can't
figure out how to log into Facebook anymore, and then they get all
ticked off because they think that readwriteweb.com was "Facebook's
new look".

Real people don't use URLs. They rarely even notice them.

>> In other words, the fact that /category throws a 404 is because there
>> is no /category. It also doesn't matter one little bit because nowhere
>> on my site or anywhere else on the web will you find a link to
>> /category by itself. Google will never go to /category because *nobody
>> links to it*.
>
> Duh! Nobody links to it because it's broken!

That's one way to look at it. Another, more valid, way to look at it
is that *it's not a valid URL*. It doesn't have any content to
display. I can't even think of what content I would want to display
there. It doesn't map to anything legitimate, therefore it is a 404.

A 404 is not "broken". It's simply a way to state "there's no content here".

> You'd find people would link to it if it provided meaningful content. Such a page could logically default to being an entry point for the list of categories on a site. The fact that isn't obvious to you is what I find sadly amusing and misguided.

Well, probably because I don't want to give people a list of
categories on my site.

Don't presume your idea of navigation is universally acceptable.

> Sigh. ?Your technical knowledge and subsequent technical help of others on this list a hugely great service to the WordPress community. ?OTOH your constant advocacy against common sense greatly diminishes your contributions on balance.

Really? More personal epithets? This is not the place for such things, sir.

If you cannot be right, then you could at least try to be professional.

-Otto

From dougal at gunters.org  Thu Feb 11 20:20:17 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Thu, 11 Feb 2010 15:20:17 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
 Around	TheCategory Side Of Things
In-Reply-To: <161617691002110651p2fc7031dne2519e901d26c0ba@mail.gmail.com>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<161617691002110651p2fc7031dne2519e901d26c0ba@mail.gmail.com>
Message-ID: <4B746681.80806@gunters.org>

On Feb 11 2010 9:51 AM, Otto wrote:
> [...]
> URIs are not path structures. They are distinct identifiers. They do
> not inherently have hierarchy. The URI of /category/whatever is not
> some kind of subclass of /category, and just because
> /category/whatever works doesn't mean /category is a legitimate URI.
> [...]
>    

True, technically. But can you honestly say that you've never tried 
traversing up through a deep-linked URL structure in order to reach a 
more general page? For example, if you have a deep link to a particular 
printer model at a manufacturer's site, but it's not the exact model you 
need, so you hack off the end of the URL in hopes of getting a list of 
products in the same family?

I don't know about you, but I've done that countless times over the 
years. While URLs do not *have* to be hierarchical from a technical 
point of view, the fact is that they often *are* hierarchical in 
practice. That's less true today, with all of our fancy-schmancy CMS 
software and URL routing gizmos. But in the past, the URL structure very 
often was fed directly from a disk directory structure. So it's pretty 
natural for many people to 'hack' a URL by peeling layers off, in order 
to manually navigate to a desired area (I think there's even a Firefox 
extension that lets you do just that, with the press of a toolbar button).

And while I don't disagree with your "who cares, because it's not 
technically a valid URL?" position, I do think that it would be nice to 
be able to map those empty URLs. At the very least, we should be able to 
have a theme template that gives an appropriate archive listing for the 
taxonomy in question. For you and I, "who cares" is fine. But for 
somebody else, it's an oversite that looks like a site flaw.

And going further, I do think that we should probably be thinking about 
more robust URL routing as Mike Schinkel has mentioned several times. 
The current system, while it serves us well for the most part, has 
evolved over time on top of a particular set of assumptions about how 
WordPress would manage content. But more and more people are stretching 
WordPress in ways that get farther away from its blogging roots, and run 
up against the limitations imposed by those assumptions.

This is a Good Thing. As we continue to challenge our own assumptions 
about just exactly what WordPress *is*, we continue to push forward what 
WordPress *will become*. In trying to work around yesterday's 
limitations, we often end up defining tomorrow's features.

Sorry, I got a little philosophical there. But what I'm trying to say is 
that just because this particular issue isn't *technically* a bug, 
there's no reason why we shouldn't make it work better and to our advantage.

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From bradw at illiams.com  Thu Feb 11 20:23:11 2010
From: bradw at illiams.com (Brad Williams)
Date: Thu, 11 Feb 2010 15:23:11 -0500
Subject: [wp-hackers] WPMU Category ID Updating
In-Reply-To: <aaf501caa203$3d835820$b88a0860$@thecodecave.com>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>	<e1202cb11001271319y7a17af36o7af175de2bf5bf46@mail.gmail.com>	<004801ca9f98$bf7df9b0$3e79ed10$@com>	<9bf0faac1001271421y2bdfa897mc8b9916a897688b4@mail.gmail.com>	<231c01caa03b$15fac0f0$41f042d0$@TheCodeCave.com>	<9bf0faac1001281426k5bfa216am5d3ecbf0f8967ee8@mail.gmail.com>	<004001caa0ee$85713550$90539ff0$@TheCodeCave.com>	<3ee7077c1001300859g47c9ffa0j733fa7556b37e035@mail.gmail.com>
	<aaf501caa203$3d835820$b88a0860$@thecodecave.com>
Message-ID: <012801caab58$08db1e10$1a915a30$@com>

This is definitely still happening.  I ran some tests with Andrea and Ron
and we've all confirmed it so I opened a ticket:

http://core.trac.wordpress.org/ticket/12206

-Brad

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Brian Layman
Sent: Saturday, January 30, 2010 6:23 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] WPMU Category ID Updating

If you use do this for all term types, that will fix the id collision issue.
So expanding it will actually help the situation.  Having the site be mu
from the start means you won't see some of the problems we did.

I don't discount the need for site wide/cross blog searches. It's just this
particular implementation that didn't work for us.

Brian. 


_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From otto at ottodestruct.com  Thu Feb 11 20:38:27 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 11 Feb 2010 14:38:27 -0600
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
In-Reply-To: <4B746681.80806@gunters.org>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn> 
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com> 
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<161617691002110651p2fc7031dne2519e901d26c0ba@mail.gmail.com> 
	<4B746681.80806@gunters.org>
Message-ID: <161617691002111238o18dbcdc1hdaa5775e8b2bc1b@mail.gmail.com>

On Thu, Feb 11, 2010 at 2:20 PM, Dougal Campbell <dougal at gunters.org> wrote:
> True, technically. But can you honestly say that you've never tried
> traversing up through a deep-linked URL structure in order to reach a more
> general page?

Yes, back in the day when URLs bore a 1-1 relationship to the
underlying filesystem, that was a good and useful thing to do. But the
truth is that I haven't done that in years. Short of going up to the
very root of a site to get to the home page, anyway.

URL hacking is basically dead as a legitimate practice. Nobody but us
power users can do it. Normal people *can't* do it. And I'm going to
design my systems to be used by everybody, not the technologically
literate.

You and I might think nothing of editing a URL. My mom would regard it
as black magic. And my mom should be able to use any site on the
network.

> And while I don't disagree with your "who cares, because it's not
> technically a valid URL?" position, I do think that it would be nice to be
> able to map those empty URLs. At the very least, we should be able to have a
> theme template that gives an appropriate archive listing for the taxonomy in
> question.

Pages handle this edge case just fine. If you want to make a Category
page and make a template and stick wp_list_categories in it, nothing
is stopping you that I'm aware of.

Making the code have a general case for a page that nobody can see
because nothing links to it seems a bit silly to me.

Now, if you want to generalize the whole taxonomy structure into the
general case and include this sort of thing, great. I'm all for that.
There's stuff with custom post types and taxonomies in 3.0 that this
sort of notion would fit nicely into, I think. Perhaps some standard
handling for the rewrites on custom post types would be quite
appropriate.

> Sorry, I got a little philosophical there. But what I'm trying to say is
> that just because this particular issue isn't *technically* a bug, there's
> no reason why we shouldn't make it work better and to our advantage.

There's nothing wrong with improvement, nor would I argue otherwise.
However, there is something wrong with breaking things that aren't
broken just for the sake of change. Any "routing" enhancements must
preserve the existing routing system at all costs. Changing my
permalinks just because somebody wants change is absolutely not
acceptable from any standpoint. And discussing a new rewriting
mechanism treads dangerously close to that line. Improving the
existing system, or adding onto it, does not.

-Otto

From bulk at thecodecave.com  Thu Feb 11 21:09:17 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Thu, 11 Feb 2010 16:09:17 -0500
Subject: [wp-hackers] WPMU Category ID Updating
In-Reply-To: <012801caab58$08db1e10$1a915a30$@com>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>	<e1202cb11001271319y7a17af36o7af175de2bf5bf46@mail.gmail.com>	<004801ca9f98$bf7df9b0$3e79ed10$@com>	<9bf0faac1001271421y2bdfa897mc8b9916a897688b4@mail.gmail.com>	<231c01caa03b$15fac0f0$41f042d0$@TheCodeCave.com>	<9bf0faac1001281426k5bfa216am5d3ecbf0f8967ee8@mail.gmail.com>	<004001caa0ee$85713550$90539ff0$@TheCodeCave.com>	<3ee7077c1001300859g47c9ffa0j733fa7556b37e035@mail.gmail.com>	<aaf501caa203$3d835820$b88a0860$@thecodecave.com>
	<012801caab58$08db1e10$1a915a30$@com>
Message-ID: <00f401caab5e$78f41ca0$6adc55e0$@thecodecave.com>

>http://core.trac.wordpress.org/ticket/12206
It's ALWAYS the next available ID? And repeats if you rename the same
category back to the original value?

If so, that is different behavior from what I'd witnessed in earlier
versions.

Brian. 


From bradw at illiams.com  Thu Feb 11 21:15:13 2010
From: bradw at illiams.com (Brad Williams)
Date: Thu, 11 Feb 2010 16:15:13 -0500
Subject: [wp-hackers] WPMU Category ID Updating
In-Reply-To: <00f401caab5e$78f41ca0$6adc55e0$@thecodecave.com>
References: <9bf0faac1001271252y1a951fd8sa825847975b87144@mail.gmail.com>	<e1202cb11001271319y7a17af36o7af175de2bf5bf46@mail.gmail.com>	<004801ca9f98$bf7df9b0$3e79ed10$@com>	<9bf0faac1001271421y2bdfa897mc8b9916a897688b4@mail.gmail.com>	<231c01caa03b$15fac0f0$41f042d0$@TheCodeCave.com>	<9bf0faac1001281426k5bfa216am5d3ecbf0f8967ee8@mail.gmail.com>	<004001caa0ee$85713550$90539ff0$@TheCodeCave.com>	<3ee7077c1001300859g47c9ffa0j733fa7556b37e035@mail.gmail.com>	<aaf501caa203$3d835820$b88a0860$@thecodecave.com>	<012801caab58$08db1e10$1a915a30$@com>
	<00f401caab5e$78f41ca0$6adc55e0$@thecodecave.com>
Message-ID: <014901caab5f$4da0b120$e8e21360$@com>

If you're behavior is different please add to the ticket.  Working on
narrowing it down to find the bug

Apparently it doesn't exist in 3.0 alpha

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Brian Layman
Sent: Thursday, February 11, 2010 4:09 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] WPMU Category ID Updating

>http://core.trac.wordpress.org/ticket/12206
It's ALWAYS the next available ID? And repeats if you rename the same
category back to the original value?

If so, that is different behavior from what I'd witnessed in earlier
versions.

Brian. 

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From jdub at bethesignal.org  Fri Feb 12 02:26:54 2010
From: jdub at bethesignal.org (Jeff Waugh)
Date: Fri, 12 Feb 2010 13:26:54 +1100
Subject: [wp-hackers] Getting rid of /category/ -> solutions Category Side
	Of Things
In-Reply-To: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
Message-ID: <20100212022654.GG2236@sliver>

<quote who="Mark McWilliams">

> Now because we'd have had the /category/ prefix removed from core,
> it'd show and work as follows!

Wow, the rest of the thread got a little intense!

I do prefer to get rid of the 'category' prefix myself, though mainly just
on sites that are less "bloggy" than usual -- stuff like news sites, multi
media presentation sites, etc.

I use <http://wordpress.org/extend/plugins/wp-no-category-base/> to do so.
It's quite a bit more sophisticated than most others I've seen, and actually
molests the rewrite table to handle pages/categories at the top level.

It's worth pointing out that this is not such a rare use case. Getting rid
of /category/ was quite important for <http://www.crikey.com.au/>, even if I
don't bother doing so on my blog.

Performance note: You should really only do this when you have relatively
few categories, which is often the case when you're using them as defined
"sections" of a site anyway (as with news sites).

- Jeff

-- 
The Great Australian Internet Blackout   http://www.internetblackout.com.au/
 
  "GIMP is the primary tool in my graphics work. It is my gcc and Emacs."
                             - Tuomas Kuosmanen

From mikeschinkel at newclarity.net  Fri Feb 12 06:43:34 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 12 Feb 2010 01:43:34 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
	AroundTheCategory Side Of Things
In-Reply-To: <349fe48b1002110507k3ded0747k28f8d886575bed4b@mail.gmail.com>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>
	<8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
	<4B7378FC.2070302@voceconnect.com>
	<3D2E6EEF-ABBB-438B-8F52-AEF31876E1FE@newclarity.net>
	<349fe48b1002110507k3ded0747k28f8d886575bed4b@mail.gmail.com>
Message-ID: <445E4C40-2173-47A9-88D5-CC40CD2F8776@newclarity.net>

On Feb 11, 2010, at 8:07 AM, scribu wrote:
> On Thu, Feb 11, 2010 at 6:41 AM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
>> I've worked on URL routing system in the past that split URL paths on
>> slashes and then traversed a tree of rules to determine how to route. That
>> worked extremely well and could be layered on top of the variable assignment
>> that WordPress uses behind the scenes.
> 
> Care to share? I'm fascinated by the idea.

So I dug up the code.  It's not written for WordPress's routing engine, but the code could be applied.  

It's a REST library that would easily allow the definition of a URL interface for RESTful web services to front end any MySQL database or PHP-based framework/cms.  It's far from fully complete but it in early alpha and workable.  I can email you the library and discuss off-list, or I could discuss the concepts on-list.  

It really is pretty simple, in concept at least.  But it could potentially improve URL routing quite a bit, especially the concern for having to match against too many rules.

-Mike



From admin at wpkid.com  Fri Feb 12 15:39:46 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Fri, 12 Feb 2010 15:39:46 -0000
Subject: [wp-hackers] Getting rid of /category/ -> solutions Category
	SideOf Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<20100212022654.GG2236@sliver>
Message-ID: <E99EF74368DA469A9B3C6B64556C299E@davidhr5m957yn>

From: "Jeff Waugh" <jdub at bethesignal.org> Sent: Friday, February 12, 2010 
2:26 AM
> Wow, the rest of the thread got a little intense!

I'm not sure about that! ;)

> I use <http://wordpress.org/extend/plugins/wp-no-category-base/> to do so.
> It's quite a bit more sophisticated than most others I've seen, and 
> actually
> molests the rewrite table to handle pages/categories at the top level.

The problem with plugins, not them all I may add, but you'll always get one 
(could be similar) that'll stop being supported after a period of time and 
you're now back to square one again, just take a look at the 'Top Level 
Categories' plugin, it was last updated in March of 2008 and is only 
compatible to WP 2.5! - We're almost ready to hit 3.0, a lot of thing have 
changed since then! 


From scribu at gmail.com  Fri Feb 12 16:08:58 2010
From: scribu at gmail.com (scribu)
Date: Fri, 12 Feb 2010 18:08:58 +0200
Subject: [wp-hackers] Getting rid of /category/ -> solutions Category
	SideOf Things
In-Reply-To: <E99EF74368DA469A9B3C6B64556C299E@davidhr5m957yn>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<20100212022654.GG2236@sliver>
	<E99EF74368DA469A9B3C6B64556C299E@davidhr5m957yn>
Message-ID: <349fe48b1002120808v34c5d700p309f626c04f34a27@mail.gmail.com>

On Fri, Feb 12, 2010 at 5:39 PM, Mark McWilliams <admin at wpkid.com> wrote:

> The problem with plugins, not them all I may add, but you'll always get one
> (could be similar) that'll stop being supported after a period of time and
> you're now back to square one again, just take a look at the 'Top Level
> Categories' plugin, it was last updated in March of 2008 and is only
> compatible to WP 2.5! - We're almost ready to hit 3.0, a lot of thing have
> changed since then!
>

I'm using Top Level Categories just fine on WP 2.9:

http://scribu.net/wordpress


-- 
http://scribu.net

From awgandrews at gmail.com  Fri Feb 12 20:19:11 2010
From: awgandrews at gmail.com (Alex Andrews)
Date: Fri, 12 Feb 2010 20:19:11 +0000
Subject: [wp-hackers] $wpdb->get_row Errors
Message-ID: <e9f3ce461002121219s49502c3ag23bf9bf08d51d527@mail.gmail.com>

Dear list,

How can I have error reporting on this function? I know that I can do this:

$query = "INSERT IGNORE INTO wp_blocked_ips (ip) VALUES ('$ip')";
if ($wpdb->query($query) === FALSE) {
return FALSE;
} else {
return $wpdb->get_results($query);
}

But can I do anything similar with $wpdb->get_row() using equivalence
like this so I can produce a 404 when there is a problem, replacing
false above with the return of a wp_error.

Thanks very much.

Alex

From mgerring at emrl.com  Fri Feb 12 21:48:18 2010
From: mgerring at emrl.com (Matthew Gerring)
Date: Fri, 12 Feb 2010 13:48:18 -0800
Subject: [wp-hackers] Query by multiple custom fields/taxonomies, MySQL LIMIT
Message-ID: <87206A62-AA09-44AD-BE70-EFA52A1B1C91@emrl.com>

Hello all,

I'm working on a plugin for a client that allows narrowing of search results, i.e. querying by multiple custom taxonomies and meta keys at once. So far as I can determine there's no built in way to do this (as in get only posts that are in both one taxonomy AND another, or are both in a category AND have a particular tag, or have a certain meta value AND another meta value of a different key, and so forth).

My problem is that I don't know SQL that well, and I'm wondering if there's a means of setting up the record set I'm returning to automatically work with WordPress paging. If not, I was wondering how you get the total size of the record set regardless of the LIMIT statement so I can set up paging manually. I also want to know in general if there's a better way to do what I'm doing. Here's the code:

function sw_custom_query($input) {
	global $wpdb;
	$input = wp_parse_args($input);
	//var_dump($input);
	$bio_meta_keys = array('dob','loc');
	$bio_tax = array('faith-tradition','alive','type');
	foreach ($input as $key=>$value) {
		if ( in_array($key,$bio_meta_keys) || in_array($input['orderby'], $bio_meta_keys) ) {
			
			if (in_array($key,$bio_meta_keys)) {	
				$input['where'] .= ' AND '.$key.'.meta_value = \''.$value.'\''; 
			}
			
			if ($key == 'orderby') { $key = $value; }
			
			if ( in_array($input['orderby'], $bio_meta_keys) ) {
				$input['select'] .= ', '.$key.'.meta_value';
				$input['order'] .= ' ORDER BY '.$key.'.meta_value';
			}
			
			$input['from'] .= ', '.$wpdb->postmeta.' '.$key.' ';
			$input['where'] .= ' AND '.$key.'.meta_key = \''.$key.'\'';
			$input['where'] .= ' AND p.id = '.$key.'.post_id';
		}
		
		if (in_array($key,$bio_tax) || in_array($input['orderby'], $bio_tax)) {
			if ($key == 'orderby') { $key = $value; }
			$modkey = str_replace('-','_',$key);
			if ( in_array($key,$bio_tax) ) {
				$sort = ' AND '.$modkey.'t.slug = \''.$value.'\'';
			} else {
				$sort = '';
			}
			if ( in_array($input['orderby'], $bio_tax) ) {
				$input['select'] = ', '.$modkey.'t.slug';
				$input['order'] .= ' ORDER BY '.$modkey.'t.slug';
			}
			$input['from'] .= ', '.$wpdb->terms.' '.$modkey.'t';
			$input['from'] .= ', '.$wpdb->term_taxonomy.' '.$modkey.'tt';
			$input['from'] .= ', '.$wpdb->term_relationships.' '.$modkey.'tr ';				
			$input['where'] .= ' AND p.id = '.$modkey.'tr.object_id';
			$input['where'] .= ' AND '.$modkey.'t.term_id = '.$modkey.'tt.term_id';
			$input['where'] .= ' AND '.$modkey.'tr.term_taxonomy_id = '.$modkey.'tt.term_taxonomy_id';
			$input['where'] .= ' AND ('.$modkey.'tt.taxonomy = \''.$key.'\' AND '.$modkey.'tt.term_id = '.$modkey.'t.term_id'.$sort.' )';
		}
	}
	if ( $input['orderby'] == 'name' ) { $input['order'] = " ORDER BY p.post_title "; }
	$querystr .= "SELECT p.*".$input['select'];
	$querystr .= " from $wpdb->posts p, $wpdb->postmeta meta";
	$querystr .= $input['from'];
	$querystr .= " WHERE p.id = meta.post_id";
	$querystr .= $input['where'];
	$querystr .="
			AND meta.meta_key = 'mf_page_type'
	    		AND meta.meta_value = 'Biography'
	    		AND p.post_type = 'page' 
			AND p.post_status = 'publish'
			";
	$querystr .= $input['order'];
	$querystr .=" LIMIT 5, 5"; // This is here for testing purposes- no variable input here yet.
	//echo $querystr;
	return $querystr;
}

Thanks for any help you can provide.
Matthew

From scribu at gmail.com  Fri Feb 12 22:19:06 2010
From: scribu at gmail.com (scribu)
Date: Sat, 13 Feb 2010 00:19:06 +0200
Subject: [wp-hackers] Query by multiple custom fields/taxonomies,
	MySQL 	LIMIT
In-Reply-To: <87206A62-AA09-44AD-BE70-EFA52A1B1C91@emrl.com>
References: <87206A62-AA09-44AD-BE70-EFA52A1B1C91@emrl.com>
Message-ID: <349fe48b1002121419o135e852ei421297d6f246a589@mail.gmail.com>

For querying by multiple taxonomies:

http://wordpress.org/extend/plugins/query-multiple-taxonomies/

For querying by multiple custom fields:

http://wordpress.org/extend/plugins/custom-field-taxonomies/


-- 
http://scribu.net

From mgerring at emrl.com  Fri Feb 12 22:47:23 2010
From: mgerring at emrl.com (Matthew Gerring)
Date: Fri, 12 Feb 2010 14:47:23 -0800
Subject: [wp-hackers] Query by multiple custom fields/taxonomies,
	MySQL 	LIMIT
In-Reply-To: <349fe48b1002121419o135e852ei421297d6f246a589@mail.gmail.com>
References: <87206A62-AA09-44AD-BE70-EFA52A1B1C91@emrl.com>
	<349fe48b1002121419o135e852ei421297d6f246a589@mail.gmail.com>
Message-ID: <42A05E36-8365-4302-97E7-11FEF54AC85D@emrl.com>

Unfortunately neither of these appears to work with pages (as opposed to posts).

-Matthew

On Feb 12, 2010, at 2:19 PM, scribu wrote:

> For querying by multiple taxonomies:
> 
> http://wordpress.org/extend/plugins/query-multiple-taxonomies/
> 
> For querying by multiple custom fields:
> 
> http://wordpress.org/extend/plugins/custom-field-taxonomies/
> 
> 
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From Ken at adcSTUDIO.com  Sat Feb 13 00:30:35 2010
From: Ken at adcSTUDIO.com (Ken Newman)
Date: Fri, 12 Feb 2010 19:30:35 -0500
Subject: [wp-hackers] Script Install of WordPress Lastest
In-Reply-To: <a21f8bf01002011504r589d6dfau597ef31ad6559260@mail.gmail.com>
References: <a21f8bf01002011504r589d6dfau597ef31ad6559260@mail.gmail.com>
Message-ID: <4B75F2AB.80605@adcSTUDIO.com>

Hello Hackers,

What I've tried doing is uploading a php file with the following:

<?php exec('wget http://wordpress.org/nightly-builds/wordpress-latest.zip');
exec('unzip wordpress-latest.zip'); ?>

This grabs the latest nightly and unzips. So far so good. I then go 
through the steps to create the wp-config.

The problem appears to be when attempting an upgrade, I get the 
following error:

Downloading update 
fromhttp://wordpress.org/nightly-builds/wordpress-latest.zip?

Unpacking the update?

Incompatible Archive.

Installation Failed

It occurs to me that this might be unrelated to how I installed, but is 
it possible that this is a user/creator file permission issue on the 
LAMP stack? In other words, is LAMP treating the php script/server as 
the owner of the files and directories and does that matter? I'm 
assuming I wouldn't have an issue with a manual upload, and I can think 
of any other difference, except my user would be the creator of the 
files and directories rather then the system (if indeed that does work 
that way).

Any ideas would be appreciated, Thanks,
Ken

From wordpress at dd32.id.au  Sat Feb 13 01:03:38 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 13 Feb 2010 12:03:38 +1100
Subject: [wp-hackers] Script Install of WordPress Lastest
In-Reply-To: <4B75F2AB.80605@adcSTUDIO.com>
References: <a21f8bf01002011504r589d6dfau597ef31ad6559260@mail.gmail.com>
	<4B75F2AB.80605@adcSTUDIO.com>
Message-ID: <op.u71jwcx7spxmuu@ho.st>

Does your PHP install have the ZIP extension available?

Do Plugin Installs suceed?

Generally, Upgrade/Installs errors are due to incomplete Zip downloads.

If it fails consistantly, try disabling the zip extension:

add_filter('unzip_file_use_ziparchive', create_function('', 'return  
false;'));

If that doesnt help (And i *hope* it doesnt.. because that'll mean  
something weird is up with the PHP Zip extension), Then try installing my  
plugin 'Core Control', Activate the HTTP Access module, and try disabling  
the current default transport.. See if that helps you at all

On Sat, 13 Feb 2010 11:30:35 +1100, Ken Newman <Ken at adcstudio.com> wrote:

> Hello Hackers,
>
> What I've tried doing is uploading a php file with the following:
>
> <?php exec('wget  
> http://wordpress.org/nightly-builds/wordpress-latest.zip');
> exec('unzip wordpress-latest.zip'); ?>
>
> This grabs the latest nightly and unzips. So far so good. I then go
> through the steps to create the wp-config.
>
> The problem appears to be when attempting an upgrade, I get the
> following error:
>
> Downloading update
> fromhttp://wordpress.org/nightly-builds/wordpress-latest.zip?
>
> Unpacking the update?
>
> Incompatible Archive.
>
> Installation Failed
>
> It occurs to me that this might be unrelated to how I installed, but is
> it possible that this is a user/creator file permission issue on the
> LAMP stack? In other words, is LAMP treating the php script/server as
> the owner of the files and directories and does that matter? I'm
> assuming I wouldn't have an issue with a manual upload, and I can think
> of any other difference, except my user would be the creator of the
> files and directories rather then the system (if indeed that does work
> that way).
>
> Any ideas would be appreciated, Thanks,
> Ken
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse / dd32

Contact:
   e: contact at dd32.id.au
   msn: msn at d32.id.au
   skype: theonly_dd32
   Web: http://dd32.id.au/

From Ken at adcSTUDIO.com  Sat Feb 13 01:26:52 2010
From: Ken at adcSTUDIO.com (Ken Newman)
Date: Fri, 12 Feb 2010 20:26:52 -0500
Subject: [wp-hackers] Script Install of WordPress Lastest
In-Reply-To: <op.u71jwcx7spxmuu@ho.st>
References: <a21f8bf01002011504r589d6dfau597ef31ad6559260@mail.gmail.com>	<4B75F2AB.80605@adcSTUDIO.com>
	<op.u71jwcx7spxmuu@ho.st>
Message-ID: <4B75FFDC.3020206@adcSTUDIO.com>

Thanks for the Quick reply.

I checked and Plugin installs work fine. (Installed WordPress Beta Tester)

  I did a completely fresh install (new DB and everything) from that zip 
(http://wordpress.org/nightly-builds/wordpress-latest.zip) and that 
worked fine too. It's only on update that it fails :-(

But atleast it isn't "something weird is up with the PHP Zip extension" :-)

Note this is my testing server, and it doesn't matter if it gets nuked.

I'll test again with a manually uploaded, unzipped version to see if it 
corrects. (It takes forever, which is what I was trying to avoid ;-)

Thanks again!

On 2/12/2010 8:03 PM, Dion Hulse (dd32) wrote:
> Does your PHP install have the ZIP extension available?
>
> Do Plugin Installs suceed?
>
> Generally, Upgrade/Installs errors are due to incomplete Zip downloads.
>
> If it fails consistantly, try disabling the zip extension:
>
> add_filter('unzip_file_use_ziparchive', create_function('', 'return 
> false;'));
>
> If that doesnt help (And i *hope* it doesnt.. because that'll mean 
> something weird is up with the PHP Zip extension), Then try installing 
> my plugin 'Core Control', Activate the HTTP Access module, and try 
> disabling the current default transport.. See if that helps you at all
>
> On Sat, 13 Feb 2010 11:30:35 +1100, Ken Newman <Ken at adcstudio.com> wrote:
>
>> Hello Hackers,
>>
>> What I've tried doing is uploading a php file with the following:
>>
>> <?php exec('wget 
>> http://wordpress.org/nightly-builds/wordpress-latest.zip');
>> exec('unzip wordpress-latest.zip'); ?>
>>
>> This grabs the latest nightly and unzips. So far so good. I then go
>> through the steps to create the wp-config.
>>
>> The problem appears to be when attempting an upgrade, I get the
>> following error:
>>
>> Downloading update
>> fromhttp://wordpress.org/nightly-builds/wordpress-latest.zip?
>>
>> Unpacking the update?
>>
>> Incompatible Archive.
>>
>> Installation Failed
>>
>> It occurs to me that this might be unrelated to how I installed, but is
>> it possible that this is a user/creator file permission issue on the
>> LAMP stack? In other words, is LAMP treating the php script/server as
>> the owner of the files and directories and does that matter? I'm
>> assuming I wouldn't have an issue with a manual upload, and I can think
>> of any other difference, except my user would be the creator of the
>> files and directories rather then the system (if indeed that does work
>> that way).
>>
>> Any ideas would be appreciated, Thanks,
>> Ken
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>


From elflop at googlemail.com  Sat Feb 13 11:41:30 2010
From: elflop at googlemail.com (elflop at googlemail.com)
Date: Sat, 13 Feb 2010 11:41:30 +0000
Subject: [wp-hackers] Compatability section for plugns
Message-ID: <0016e6dab0597ce01c047f79dde5@google.com>

I know I posted about this a while ago, but I still dislike it. Not many of  
the people that download and use it successfully ever come back to to click  
the works button. Yet people are more likely to return to click broken if  
it doesn't work for them.

95% of the people that say its broken when they actually post for help,  
have mis-configured things, or even not set up WP correctly. Of the  
thousands that have downloaded the plugin just 2 people have clicked  
anything, and one of them was me.

So these 'stats' are never going to be an accurate representation.

Can it be changed so that if you say it is broken you not only have to give  
a reason, but that reason is sent to the plugin developer so that they can  
get an idea of why people are saying it is broken!

From admin at wpkid.com  Sat Feb 13 13:09:08 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Sat, 13 Feb 2010 13:09:08 -0000
Subject: [wp-hackers] Compatability section for plugns
References: <0016e6dab0597ce01c047f79dde5@google.com>
Message-ID: <B465305BC7754AC5AFF767C1F2ED457B@davidhr5m957yn>

From: <elflop at googlemail.com> Saturday, February 13, 2010
>I know I posted about this a while ago, but I still dislike it. Not many of 
>the people that download and use it successfully ever come back to to click 
>the works button. Yet people are more likely to return to click broken if 
>it doesn't work for them.
>
> 95% of the people that say its broken when they actually post for help, 
> have mis-configured things, or even not set up WP correctly. Of the 
> thousands that have downloaded the plugin just 2 people have clicked 
> anything, and one of them was me.
>
> So these 'stats' are never going to be an accurate representation.
>
> Can it be changed so that if you say it is broken you not only have to 
> give  a reason, but that reason is sent to the plugin developer so that 
> they can  get an idea of why people are saying it is broken!

I could be wrong, but I thought that was going to be a case, or a potential 
upgrade to the compatibility section of the plugin repository? Or it maybe 
had something to do with integrating with the plugins page in admin, but I 
couldn't be 100% sure sadly, I can't even remember where I read it either? - 
Sorry I'm not much help! =/ 


From eric at eamann.com  Sat Feb 13 15:51:56 2010
From: eric at eamann.com (Eric Mann)
Date: Sat, 13 Feb 2010 07:51:56 -0800
Subject: [wp-hackers] Compatability section for plugns
In-Reply-To: <0016e6dab0597ce01c047f79dde5@google.com>
References: <0016e6dab0597ce01c047f79dde5@google.com>
Message-ID: <000a01caacc4$79a5d8c0$6cf18a40$@com>

I have a plug-in that requires the use of the PHP fopen() function.  In
every case where I've managed to get a direct response from someone
reporting it as "broken" it's because they have fopen() disabled on their
site and never read my instructions for turning it back on.  I even included
a sample php.ini file so they'd know exactly what to do and where to put it,
but people still either click "broken" or send an email or forum message to
that effect.

I've recently added a check on plug-in initialization to check for certain
required compatibility issues: are they using the correct version of WP
(someone actually installed a 2.8+ plug-in on 2.6 and reported it broken!)?
Is their PHP installation compatible?  Is fopen() available and turned on?

The unfortunate side effect of all of this is that I can easily turn fopen()
on for the wp-content folder (since I include my php.ini in the same folder
as the PHP files that need it), but the check runs in the wp-admin folder
and usually fails.  I've included instructions for how to fix this issue as
well, but we're still left with the "will they follow the instructions
before declaring things broken?" question.

An alternative idea to requiring feedback when reporting something as broken
would be to include an additional action callback - upon successful
installation, WordPress could report back to the repository the version of
the plug-in, the version of WP installed, and mark it as success.  If
there's an error of some sort it could report a failure and the error.  This
silent background reporting would be a more effective way to get information
- the reason we can't get that information now is that users fail to
follow-through ... why would following through on "fill in this box" be any
different?

~Eric

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of
elflop at googlemail.com
Sent: Saturday, February 13, 2010 3:42 AM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Compatability section for plugns

I know I posted about this a while ago, but I still dislike it. Not many of

the people that download and use it successfully ever come back to to click

the works button. Yet people are more likely to return to click broken if  
it doesn't work for them.

95% of the people that say its broken when they actually post for help,  
have mis-configured things, or even not set up WP correctly. Of the  
thousands that have downloaded the plugin just 2 people have clicked  
anything, and one of them was me.

So these 'stats' are never going to be an accurate representation.

Can it be changed so that if you say it is broken you not only have to give

a reason, but that reason is sent to the plugin developer so that they can  
get an idea of why people are saying it is broken!
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From zamoose at gmail.com  Sat Feb 13 16:45:30 2010
From: zamoose at gmail.com (Doug Stewart)
Date: Sat, 13 Feb 2010 11:45:30 -0500
Subject: [wp-hackers] Slightly O/T: PHP based alternative to LESS/Sass?
Message-ID: <B2C91EA0-57D7-4DA1-BAA0-5F643F30CE47@gmail.com>

I've been looking for a way to incorporate CSS variables into some of  
my WP themes and recently came across LESS (lesscss.org). Right up my  
alley, with one fatal flaw: it's written in and relies upon Ruby to  
function. Feh.

So, has anyone found anything similar for php? Or, alternately, how do  
you handle CSS "variables" in coordination with your WP themes?

-
Doug Stewart

From scribu at gmail.com  Sat Feb 13 17:04:16 2010
From: scribu at gmail.com (scribu)
Date: Sat, 13 Feb 2010 19:04:16 +0200
Subject: [wp-hackers] Slightly O/T: PHP based alternative to LESS/Sass?
In-Reply-To: <B2C91EA0-57D7-4DA1-BAA0-5F643F30CE47@gmail.com>
References: <B2C91EA0-57D7-4DA1-BAA0-5F643F30CE47@gmail.com>
Message-ID: <349fe48b1002130904q1be0b80ar19459f7622e2724@mail.gmail.com>

Try CSScaffold:

http://github.com/anthonyshort/csscaffold


On Sat, Feb 13, 2010 at 6:45 PM, Doug Stewart <zamoose at gmail.com> wrote:

> I've been looking for a way to incorporate CSS variables into some of my WP
> themes and recently came across LESS (lesscss.org). Right up my alley,
> with one fatal flaw: it's written in and relies upon Ruby to function. Feh.
>
> So, has anyone found anything similar for php? Or, alternately, how do you
> handle CSS "variables" in coordination with your WP themes?
>
> -
> Doug Stewart
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From eckman.john at gmail.com  Sat Feb 13 17:11:50 2010
From: eckman.john at gmail.com (John Eckman)
Date: Sat, 13 Feb 2010 09:11:50 -0800
Subject: [wp-hackers] Error handling in WordPress
Message-ID: <9C61058D-EB23-42FA-A456-41A666EC450B@gmail.com>

Seems like a very basic question but I haven't found the right section in the codex or other documentation on how to handle errors in a plugin in WordPress. 

Example: 

- a plugin is adding some function to be called when a new post is published (notifying a third party service for example)
- sometimes, when that function is called, it returns a failure code

I'm using try/catch to capture what the exception is that is thrown, but how do I make it visible to the admin user in WordPress?

Does one set a message to be displayed in the admin dashboard? How?

Thanks in advance for any pointers to documentation or code - 

John

----------------------------------------
John Eckman
eckman.john at gmail.com
http://www.johneckman.com/






From batmoo at gmail.com  Sat Feb 13 17:11:41 2010
From: batmoo at gmail.com (Mohammad Jangda)
Date: Sat, 13 Feb 2010 12:11:41 -0500
Subject: [wp-hackers] Slightly O/T: PHP based alternative to LESS/Sass?
In-Reply-To: <349fe48b1002130904q1be0b80ar19459f7622e2724@mail.gmail.com>
References: <B2C91EA0-57D7-4DA1-BAA0-5F643F30CE47@gmail.com> 
	<349fe48b1002130904q1be0b80ar19459f7622e2724@mail.gmail.com>
Message-ID: <eaaa36c91002130911j1b4536e2j2d6a8ea9266a0abc@mail.gmail.com>

>
> Try CSScaffold:
>
> http://github.com/anthonyshort/csscaffold
>
>
Or Compass: http://wiki.github.com/chriseppstein/compass/

From zamoose at gmail.com  Sat Feb 13 17:18:44 2010
From: zamoose at gmail.com (Doug Stewart)
Date: Sat, 13 Feb 2010 12:18:44 -0500
Subject: [wp-hackers] Slightly O/T: PHP based alternative to LESS/Sass?
In-Reply-To: <eaaa36c91002130911j1b4536e2j2d6a8ea9266a0abc@mail.gmail.com>
References: <B2C91EA0-57D7-4DA1-BAA0-5F643F30CE47@gmail.com>
	<349fe48b1002130904q1be0b80ar19459f7622e2724@mail.gmail.com>
	<eaaa36c91002130911j1b4536e2j2d6a8ea9266a0abc@mail.gmail.com>
Message-ID: <71ddd7491002130918s642593ccs53e53d26b640b6d7@mail.gmail.com>

On 2/13/10, Mohammad Jangda <batmoo at gmail.com> wrote:
>>
>> Try CSScaffold:
>>
>> http://github.com/anthonyshort/csscaffold
>>
>>
> Or Compass: http://wiki.github.com/chriseppstein/compass/

I specifically called out "php" and "NO Ruby". *grin* So Compass is Right Out.

CSScaffold looks interesting/promising.

-- 
-Doug

From jer at simianuprising.com  Sat Feb 13 17:58:21 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Sat, 13 Feb 2010 12:58:21 -0500
Subject: [wp-hackers] Error handling in WordPress
In-Reply-To: <9C61058D-EB23-42FA-A456-41A666EC450B@gmail.com>
References: <9C61058D-EB23-42FA-A456-41A666EC450B@gmail.com>
Message-ID: <e1202cb11002130958r4edd008egbdb45642fcf14f3@mail.gmail.com>

On Sat, Feb 13, 2010 at 12:11 PM, John Eckman <eckman.john at gmail.com> wrote:
> Example:
>
> - a plugin is adding some function to be called when a new post is published (notifying a third party service for example)
> - sometimes, when that function is called, it returns a failure code
>
> I'm using try/catch to capture what the exception is that is thrown, but how do I make it visible to the admin user in WordPress?
>
> Does one set a message to be displayed in the admin dashboard? How?

I'm actually writing a very related patch for core today (feature
freeze is tomorrow, always the procrastinator!)

http://core.trac.wordpress.org/ticket/11474

The goal of my patch is to add error reporting abilities to the
Settings API (i.e. the set of functions that allows you to have
settings pages automatically generated with sections and fields for
particular values that go into a specific get_option() setting) but it
would be great if we made sure your use-case couldn't be solved at the
same time, because they seem related.

You can read more about it at the link above, but the way it will work
is by allowing plugin authors to use add_settings_error() during
setting validation (which happens inside a callback function you chose
when calling register_setting() ), then, when forwarding back to the
settings page from options.php where the processing happens, we add a
query var that tells the next page there are settings errors so that
it can show them at the top of the page. I'm using transients
(get_transient()) to save the error information across pageloads.

One thing I'm not sure about is whether the WP_Error class should be
used as part of this system. I'm not very familiar with it so input is
welcome is somebody else is.

The biggest complicating factor here seems to be the tendency to do
all processing of info (saved settings, saved posts) in a seperate
file (post.php, options.php) then forward back to the user, which
limits error reporting ability greatly. Some kind of system that made
this easier globally would be great, though my goal so far has been to
specifically fix the hole in the Settings API rather than championing
a huge rearchitecting of errors across all of admin. In my case the
automated display of errors will only happen in the particular
circumstance where you have just submitted a settings page. Maybe
adding custom error reporting to the posts editor will require a
similar custom patch to add a query variable just before sending the
user back to the editor page that says 'there are errors to show,
check the transient'. This is necessary because otherwise the errors
will just sit in the transient and could be seen by someone other than
the original submitter.

John, if nothing else you can save your errors to a transient, then in
the admin_notices hook check that transient and show the content (and
delete the transient) when the page reloads. It seems to me that your
use-case should be supported somehow by core though. I know I have
many messages I want to show my users after they save a post and I
can't think of an easy way to do it. If anyone can think of a way to
merge my patch with John's use-case please let me know and I'll try to
include it.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From jer at simianuprising.com  Sat Feb 13 18:05:28 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Sat, 13 Feb 2010 13:05:28 -0500
Subject: [wp-hackers] Slightly O/T: PHP based alternative to LESS/Sass?
In-Reply-To: <71ddd7491002130918s642593ccs53e53d26b640b6d7@mail.gmail.com>
References: <B2C91EA0-57D7-4DA1-BAA0-5F643F30CE47@gmail.com>
	<349fe48b1002130904q1be0b80ar19459f7622e2724@mail.gmail.com>
	<eaaa36c91002130911j1b4536e2j2d6a8ea9266a0abc@mail.gmail.com>
	<71ddd7491002130918s642593ccs53e53d26b640b6d7@mail.gmail.com>
Message-ID: <e1202cb11002131005m3a5a5ed4qfbb18eeb2f97212a@mail.gmail.com>

I got so excited when I first saw these things but the more I read
about them the more nervous I got about committing to them.

I've been working towards modularising my CSS to achieve the same
goals instead of depending on external scripts. Doing things like
creating non-semantic CSS classes and just adding the actual selectors
to them as needed, things like:

#GroupBigGreyBox,
#content .entry,
#content .comment {
...
}

#content .entry { /* see #GroupBigGreyBox */ }

So far its working fairly well for helping clean up my code and
reminding me to think of the big picture when planning out various
page elements.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From singh.gabu at gmail.com  Sat Feb 13 18:45:52 2010
From: singh.gabu at gmail.com (pradipta sinha)
Date: Sun, 14 Feb 2010 00:15:52 +0530
Subject: [wp-hackers] How to share WordPress posts across multiple blogs
Message-ID: <13eb5f331002131045g636882cajcc3c641f241abc3@mail.gmail.com>

Hi,
I want to share my posts in multiple blogs, I want to use a common post and
postmeta table in all my blogs,
I am shring user table in multiple wordpress installation websites,

A detialed documnetation in sharing account in multiple blog is here
http://wpclassipress.com/forum/viewtopic.php?f=11&t=1409

Now same way define in cofig.php in child blog and also by the same way
editing the capabilities.php in includes folder
Can i make the posts and post meta  table a common for  both of the blogs,

For say


define('CUSTOM_POSTS_TABLE', 'wp_posts');
define('CUSTOM_POST_META_TABLE', 'wp_postmeta');
define('CUSTOM_CAPABILITIES_PREFIX', 'wp_');

and edit the wp-includes/capabilities.php
// $this->cap_key = $wpdb->prefix . 'capabilities'; coomnet this line

place
if (defined ('CUSTOM_CAPABILITIES_PREFIX')) {
      $this->cap_key = CUSTOM_CAPABILITIES_PREFIX . 'capabilities';
   } else {
           $this->cap_key = $wpdb->prefix . 'capabilities';
   }
//
Is that the way to make the psot and postmeta table common ??
Kindly help me on that.
Thanks
http://ajaxee.xtreemhost.com/new/
ajaxee(singh.gabu at gmail.com)

From lists at hikarinet.info  Sat Feb 13 21:52:55 2010
From: lists at hikarinet.info (Hikari)
Date: Sat, 13 Feb 2010 19:52:55 -0200
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>
	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>
Message-ID: <5892EAE068FE4C94B56F19624082834C@MAIN>

----- Original Message ----- 
From: "Mike Schinkel" <mikeschinkel at newclarity.net>
To: <wp-hackers at lists.automattic.com>
Sent: Wednesday, 10 February, 2010 5:27 PM
Subject: Re: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around TheCategory Side Of Things


| Bottom line, a site publisher will be better off if they have control to
| optimize their URL structure.  One of WordPress' biggest current
| weaknesses is the difficulty of control URL structure.


I agree with that.

Wordpress advantage is that, if we wanna change permalink structure, we can do so once and get all our pages updated, and with the 
help of a plugin also have old permalinks 301 redirected to new ones.


But that also makes it harder to get our permalinks the way we want. Drupal's URL Alias is clean and simple, and Pathauto enhances 
it for what we need. Its problem is that, when Pathauto generated permalink is not what we want, then we must type our desired 
permalink.



Currently I'm using scategory to have the category I want in my post pernalinks, and custom permalink to have anything I want when 
default permalink is not desired.

scategory is the only plugin I know that really makes us able to use categories in permalinks, and it's bugged leaving me stuck on 
version 0.3.0 with no support.


Permalink handling is the kind of thing I believe should be taken off core and moved to a community plugin, which would have high 
quality API functions to allow us a lot of customizations and develop plugins to enhance parts of it.

This plugin would deal with conflict over different permalink plugins. And have options to disable specific parts of permalink 
parsing.

That would solve permormance issues. If some parsing code is expensive, just disable it and hook your own, with only the code to 
deal with your specific need.



---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br


From wordpress at dd32.id.au  Sat Feb 13 23:02:30 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 14 Feb 2010 10:02:30 +1100
Subject: [wp-hackers] How to share WordPress posts across multiple blogs
In-Reply-To: <13eb5f331002131045g636882cajcc3c641f241abc3@mail.gmail.com>
References: <13eb5f331002131045g636882cajcc3c641f241abc3@mail.gmail.com>
Message-ID: <op.u728ygldspxmuu@ho.st>

Whats the Use-case for sharing posts?

If you're trying to have a blog available from multiple domains, the best  
way is to simply use a single WordPress isntance, and direct all the  
domains to that. By default, the Canonical redirection will kick in and  
redirect it to the primary.
you can get around that by defining WP_SITEURL and WP_HOME in your config  
file dynamically to the hostname that the request came in on to bypass  
that issue.

On Sun, 14 Feb 2010 05:45:52 +1100, pradipta sinha <singh.gabu at gmail.com>  
wrote:

> Hi,
> I want to share my posts in multiple blogs, I want to use a common post  
> and
> postmeta table in all my blogs,
> I am shring user table in multiple wordpress installation websites,
>
> A detialed documnetation in sharing account in multiple blog is here
> http://wpclassipress.com/forum/viewtopic.php?f=11&t=1409
>
> Now same way define in cofig.php in child blog and also by the same way
> editing the capabilities.php in includes folder
> Can i make the posts and post meta  table a common for  both of the  
> blogs,
>
> For say
>
>
> define('CUSTOM_POSTS_TABLE', 'wp_posts');
> define('CUSTOM_POST_META_TABLE', 'wp_postmeta');
> define('CUSTOM_CAPABILITIES_PREFIX', 'wp_');
>
> and edit the wp-includes/capabilities.php
> // $this->cap_key = $wpdb->prefix . 'capabilities'; coomnet this line
>
> place
> if (defined ('CUSTOM_CAPABILITIES_PREFIX')) {
>       $this->cap_key = CUSTOM_CAPABILITIES_PREFIX . 'capabilities';
>    } else {
>            $this->cap_key = $wpdb->prefix . 'capabilities';
>    }
> //
> Is that the way to make the psot and postmeta table common ??
> Kindly help me on that.
> Thanks
> http://ajaxee.xtreemhost.com/new/
> ajaxee(singh.gabu at gmail.com)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
  Web: http://dd32.id.au/

From admin at wpkid.com  Sun Feb 14 02:14:42 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Sun, 14 Feb 2010 02:14:42 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
	AroundTheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com><C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>
	<5892EAE068FE4C94B56F19624082834C@MAIN>
Message-ID: <52B5489EAFF34FE4A29834DF80B97A50@davidhr5m957yn>

From: "Hikari" <lists at hikarinet.info> Sent: Saturday, February 13, 2010
>> | Bottom line, a site publisher will be better off if they have control 
>> to
>> | optimize their URL structure.  One of WordPress' biggest current
>> | weaknesses is the difficulty of control URL structure.
>
>I agree with that.

And I'd agree with that statement too, only in certain aspects though, cause 
at the moment WordPress does a pretty good job! :)

> Wordpress advantage is that, if we wanna change permalink structure,
> we can do so once and get all our pages updated, and with the help of
> a plugin also have old permalinks 301 redirected to new ones.

Yes, I do like how we can change the permalink structure virtually with the 
click of a button, and we dont need to go pasting certain code in the 
.htaccess file, I can't fault that!

> But that also makes it harder to get our permalinks the way we want.
> Drupal's URL Alias is clean and simple, and Pathauto enhances it for
> what we need. Its problem is that, when Pathauto generated permalink
> is not what we want, then we must type our desired permalink.

I have never used Drupal before, so can't comment sadly! :(

> Permalink handling is the kind of thing I believe should be taken off core
> and moved to a community plugin, which would have high quality API
> functions to allow us a lot of customizations and develop plugins to
> enhance parts of it.
>
> This plugin would deal with conflict over different permalink plugins. And
> have options to disable specific parts of permalink parsing.
>
> That would solve permormance issues. If some parsing code is expensive,
> just disable it and hook your own, with only the code to deal with your
> specific need.

If it *had* to become more of a Core Plugin then fine, I guess I'd have to 
go with that, but I'm still quite positive that a few things here and there 
just need to be changed (maybe upgraded, or rewritten) and maybe some extra 
options that'd cover the second part of what you're on about. Whatever 
options aren't being used, well they'll not show in the rewrite rules, and 
vice versa, if something in the options is checked, it will show in the 
rewrite rules?

That could, or I imagine, would be a possibility! 


From admin at wpkid.com  Sun Feb 14 02:32:55 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Sun, 14 Feb 2010 02:32:55 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In
	AndAroundTheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn><4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com><8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
	<D75B93A9-37DE-408C-A2A8-BC40096A46F3@cefm.ca>
Message-ID: <AC13BA7EC2054B219AC751B21BB0F5B1@davidhr5m957yn>

From: "Charles Frees-Melvin" <charles at cefm.ca> Thursday, Feb 11, 2010
> It would however interfere with the slugs of pages and could create 
> conflicts. As currently there is top level taxonomy for pages. It  really 
> could hurt the pages functionality if there was no taxonomy for 
> categories.

Fair enough, I know when WP was being created they most likely never thought 
about Custom Taxonomies, let alone any of the finer details with regards to 
the rewrite rules it now has in place, but, (unless I missed something) 
what's wrong with something like...?

http://www.site.com/contact/ - Which will be a page!

/?post=hello-world
/?page=contact
/?taxonomy=people

http://www.site.com/hello-world/ - That'll be the post URL!

/?post=hello-world
/?page=contact
/?taxonomy=people

http://www.site.com/people/ - And oddly enough, we have the custom taxonomy!

/?post=hello-world
/?page=contact
/?taxonomy=people

So in theory, what it'll do is search between a POST, PAGE and TAXONOMY for 
a match! =)

Have I just completely missed the point, or what, to me that looks pretty 
simple! 


From admin at wpkid.com  Sun Feb 14 02:41:50 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Sun, 14 Feb 2010 02:41:50 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
	Around	TheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn><161617691002110651p2fc7031dne2519e901d26c0ba@mail.gmail.com>
	<4B746681.80806@gunters.org>
Message-ID: <58411D27CF534827B961AB10DEB11BF4@davidhr5m957yn>

From: "Dougal Campbell" <dougal at gunters.org> Thursday, Feb 11, 2010
> And while I don't disagree with your "who cares, because it's not 
> technically a valid URL?" position, I do think that it would be nice to 
> be able to map those empty URLs. At the very least, we should be able to 
> have a theme template that gives an appropriate archive listing for the 
> taxonomy in question. For you and I, "who cares" is fine. But for 
> somebody else, it's an oversite that looks like a site flaw.

Exactly what I'm trying to get at, a theme template of some sort! :)

> And going further, I do think that we should probably be thinking about 
> more robust URL routing as Mike Schinkel has mentioned several times.

If it's going to enhance WordPress, then why are we waiting? ;)
 
> The current system, while it serves us well for the most part, has 
> evolved over time on top of a particular set of assumptions about how 
> WordPress would manage content. But more and more people are stretching 
> WordPress in ways that get farther away from its blogging roots, and run 
> up against the limitations imposed by those assumptions.

+1 for sure!

From admin at wpkid.com  Sun Feb 14 02:45:50 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Sun, 14 Feb 2010 02:45:50 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<102e40c3-289a-411c-bdb0-c0eef60dd654@b18g2000vbl.googlegroups.com>
Message-ID: <D0D7D559C33F4A21AF1B6AF5E2781FDE@davidhr5m957yn>

From: "logikal16" <logikal16 at gmail.com> Wednesday, February 10, 2010
> Under Settings > Permalinks, you can change "category" to something
> else if desired (like "content").

I am aware that is possible, but whatever you change it to, just take 
'content' like in your example, http://www.site.com/content/ is still going 
to give us a 404 error when we try to visit it!

> Using .htaccess, you can create additional rewrite rules if your site
> needs the extra customization. For example, rewrite all urls with "/
> blog" to "/category/blog". Heck, I'm sure there's even plugins that'll
> do that too.

Which we shouldn't need to do ourselves in this day and age! 


From wordpress at dd32.id.au  Sun Feb 14 03:30:57 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 14 Feb 2010 14:30:57 +1100
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In
 AndAroundTheCategory Side Of Things
In-Reply-To: <AC13BA7EC2054B219AC751B21BB0F5B1@davidhr5m957yn>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>
	<8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
	<D75B93A9-37DE-408C-A2A8-BC40096A46F3@cefm.ca>
	<AC13BA7EC2054B219AC751B21BB0F5B1@davidhr5m957yn>
Message-ID: <op.u73ldvsbspxmuu@ho.st>

On Sun, 14 Feb 2010 13:32:55 +1100, Mark McWilliams <admin at wpkid.com>  
wrote:

> From: "Charles Frees-Melvin" <charles at cefm.ca> Thursday, Feb 11, 2010
>> It would however interfere with the slugs of pages and could create
>> conflicts. As currently there is top level taxonomy for pages. It   
>> really
>> could hurt the pages functionality if there was no taxonomy for
>> categories.
>
> Fair enough, I know when WP was being created they most likely never  
> thought
> about Custom Taxonomies, let alone any of the finer details with regards  
> to
> the rewrite rules it now has in place, but, (unless I missed something)
> what's wrong with something like...?
>
> http://www.site.com/contact/ - Which will be a page!
>
> /?post=hello-world
> /?page=contact
> /?taxonomy=people
>
> http://www.site.com/hello-world/ - That'll be the post URL!
>
> /?post=hello-world
> /?page=contact
> /?taxonomy=people
>
> http://www.site.com/people/ - And oddly enough, we have the custom  
> taxonomy!
>
> /?post=hello-world
> /?page=contact
> /?taxonomy=people
>
> So in theory, what it'll do is search between a POST, PAGE and TAXONOMY  
> for
> a match! =)
>
> Have I just completely missed the point, or what, to me that looks pretty
> simple!

It looks pretty simple from the top, But once you get into it, Its a bit  
more complex than that.
WordPress is dynamic, All URL's are dynamically generated, they're not  
stored anywhere.

WordPress parses the request using the permastructure and determines  
you're looking for a post in 2010 with the slug 'hello-world'
WordPress parses the request and see's you're looking for '/contact', Its  
assumed thats a page.

How do you differentiate between 'Contact', 'Contact' and 'Contact'? That  
is, Post, Page, Taxonomy Term.

It all comes down to Performance, I can quite easily search through 10  
items manualy and give you it within a decent ammount of time, A computer  
can do it faster.
What a computer cannot do, or at least, not shared hosts, is given  
thousands of objects, and you ask for 'hello-world' locate it quickly,  
Telling it its a post|page|category narrows it down significantly, Give it  
a date, and it'll have it even quicker.

There is NOTHING stoping a plugin at present from completely overriding  
the Query/Rewrite/Link Storage mechanisms that i'm aware of, It would take  
probably less than 20 LOC to hook WordPress, the rest would be your custom  
handling. I'm pretty sure there exists plugins which do exactly this (But  
i have none on hand).


-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
  Web: http://dd32.id.au/

From michael at mfields.org  Sun Feb 14 04:03:14 2010
From: michael at mfields.org (michael at mfields.org)
Date: Sat, 13 Feb 2010 21:03:14 -0700
Subject: [wp-hackers] PHP Include Question - Best Practice
In-Reply-To: <445E4C40-2173-47A9-88D5-CC40CD2F8776@newclarity.net>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>
	<8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
	<4B7378FC.2070302@voceconnect.com>
	<3D2E6EEF-ABBB-438B-8F52-AEF31876E1FE@newclarity.net>
	<349fe48b1002110507k3ded0747k28f8d886575bed4b@mail.gmail.com>
	<445E4C40-2173-47A9-88D5-CC40CD2F8776@newclarity.net>
Message-ID: <d0da2a0b2416223dda1ae585e8b738c6.squirrel@mfields.org>

Hi. I'm putting together a small collection of functions that extend
WordPress' image handling functionality. One of the functions returns a
custom intermediate image size if one is found and has a parameter which
(if set to true) will attempt to create the image using image_resize() - a
core function.

In the event that the function needs to create a new intermediate size,
'/wp-admin/includes/image.php' needs to be included which leads me to this
question:

"Is there any performance penalty for using include_once() in a function
that will most likely be called many times during the duration of a
script?"

It makes sense to me to only include the file if the function is set to
create a new intermediate image, but if this could effect performance, I
would rather just include it once outside of the function which uses it.

Thanks!
Mike


From lists at hikarinet.info  Sun Feb 14 04:44:53 2010
From: lists at hikarinet.info (Hikari)
Date: Sun, 14 Feb 2010 02:44:53 -0200
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
	AroundTheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<161617691002110651p2fc7031dne2519e901d26c0ba@mail.gmail.com>
Message-ID: <89994F9BAEB34B2EA6FD077E82CC18C9@MAIN>


----- Original Message ----- 
From: "Otto" <otto at ottodestruct.com>
Sent: Thursday, 11 February, 2010 12:51 PM


| URIs are not path structures. They are distinct identifiers. They do
| not inherently have hierarchy. The URI of /category/whatever is not
| some kind of subclass of /category, and just because
| /category/whatever works doesn't mean /category is a legitimate URI.
|
| URI paths are distinct. They are whole. You don't slice and dice them
| as if they were some kind of series of independent things. They can
| *look* like a hierarchy, and they can be *mapped* to a hierarchy. But
| /category/whatever is a single whole entity, not a series of two
| entities strung together.


Well, in old times (:P ), when CMSs were not available yet, each string between 2 '/' meant a folder name.

If a URL finished with a '/', it used to mean mean it was a folder URL, and the Web Server should search for a "index.htm", which
would have links to all resources inside that folder, that's why it's called "index" isn't it?


Only later, when time passed, "index" started being synomym of "home", since each folder had its homepage in the index.html because,
since index.html was automatically called when a folder was passed as URL with no file explicitly used, index.html (or the homepage)
was called.

Also remember what all those permalink consistence redirectors say about the same page being linked with and without the '/'.


Only when CMSs came out and pages stopped being stored as files in the HD and started being stored in a database, that this folder
structure (also remember URL path is the same as local path!) started meaning nothing, because everything was being loaded from a
database.

Then, since we didn't have anymore the consistence of a file system to stop 2 different pages having the same URL, that we started
using things like database IDs and dates together with slugs in the URL to avoid conflicts.


So, yes, if a see a page being referenced as http://domain/2008/06/05/post-slug/, I feed http://domain/2008/06/ will give me some
kind of index to all articles posted in 2008-06.

But of course that's something hard to implement. If http://domain/category/my-neat-cat/ listing a specific category index would
require http://domain/category/ to index all categories, then http://domain/category/parent/ would be required to index all
subcategories that are children of parent. And that could be troublesome for Wordpress to accomplish and not conflict with other
permalink structures.



----- Original Message ----- 
From: "Mike Schinkel" <mikeschinkel at newclarity.net>
Sent: Thursday, 11 February, 2010 4:40 PM

| Duh! Nobody links to it because it's broken!  You'd find people would
| link to it if it provided meaningful content. Such a page could logically
| default to being an entry point for the list of categories on a site. The
| fact that isn't obvious to you is what I find sadly amusing and
| misguided.

Exactally. I also never linked a date page in my 2 years of website owning, but I have an archive.php files to present these 
resources, and they are indexed by Google, which links them to visitors.

"nobody" or "people" is a large term. I have the calendar widget linking dates and a category widget listing my top categories, and 
a Google XML Sitemap plugin listing all these resources. This last plugin could list also a category page too, automatically without 
I moving a finger.

Indeed, when I have the time I'm gonna make a Category page to be friend of my Archives page, and probably use Collapsing Categories 
plugin to print them. I have so many categories that I don't list them all on the widget, so a page is becoming necessary. Use cat 
base as its name is perfect :D


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br


From lists at hikarinet.info  Sun Feb 14 05:28:47 2010
From: lists at hikarinet.info (Hikari)
Date: Sun, 14 Feb 2010 03:28:47 -0200
Subject: [wp-hackers] Compatability section for plugns
References: <0016e6dab0597ce01c047f79dde5@google.com>
Message-ID: <B6A7B7CBBE33488383010DF2C6CF5BBC@MAIN>


----- Original Message ----- 
From: <elflop at googlemail.com>
Sent: Saturday, 13 February, 2010 9:41 AM


| Can it be changed so that if you say it is broken you not only have to give
| a reason, but that reason is sent to the plugin developer so that they can
| get an idea of why people are saying it is broken!


Plugin developers are mad with that feature, another preconception with us since themes don't have this kind of thing :D


Really, just leave it there. I don't think it sould be a user-to-author feature, it should be a user-to-user only.

Anybody that doesn't like you can go and mark as broken all your plugins in all available versions. If they really want something,
they should contact the author in the channel he offers to his users, or just post in the forum.

That feature should not be a replacement to the forum, and last forum posts are just below it.

What would make it better if a broken mark would require a text area fill? If it had to accomplish devs requests, then users would
start requiring a way for author to reply to them, since they are "reporting a bug" and "there is no other way to get a reply from
the author".

Well, if users start seeing it as the main way of reporting bugs, then there really isn't.


Just add to your readme.txt and admin page how your users should contact you, and users that don't contact you... well you can't
guess when your plugin stops working out of your sight.

But I agree that users that makes a plugin work will rarely go back to report so. There should be added a form to
wp-admin/plugins.php where we can report, preferably all plugins at once. It would send plugin version and WP version back home,
saying it's working or broken.




----- Original Message ----- 
From: "Eric Mann" <eric at eamann.com>
Sent: Saturday, 13 February, 2010 1:51 PM


| An alternative idea to requiring feedback when reporting something as broken
| would be to include an additional action callback - upon successful
| installation, WordPress could report back to the repository the version of
| the plug-in, the version of WP installed, and mark it as success.

That would break the whole thing. What if a plugin activates just fine and then a function code has a bug? Or a JavaScript code 
breaks something?

Just activating means nothing regarding the plugin well behaving.


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br


From lists at hikarinet.info  Sun Feb 14 05:40:18 2010
From: lists at hikarinet.info (Hikari)
Date: Sun, 14 Feb 2010 03:40:18 -0200
Subject: [wp-hackers] How to share WordPress posts across multiple blogs
References: <13eb5f331002131045g636882cajcc3c641f241abc3@mail.gmail.com>
	<op.u728ygldspxmuu@ho.st>
Message-ID: <F3538283FD3D45E3808BFE9FAA18E4BC@MAIN>

As I undestood, what he wants is to share posts among sites, but don't share users.

That would be the oppose of WP MU, which shares users but doesn't share posts. He also didn't talk about taxonomies, comments, etc.


I believe this specific need can't be accomplished, since posts use users PK for author. A post created in a site won't have an 
author on the others, and no simple way to identify which site its author is. That may be troublesome.

---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br


----- Original Message ----- 
From: "Dion Hulse (dd32)" <wordpress at dd32.id.au>
To: <wp-hackers at lists.automattic.com>
Sent: Saturday, 13 February, 2010 9:02 PM
Subject: Re: [wp-hackers] How to share WordPress posts across multiple blogs


| Whats the Use-case for sharing posts?
|
| If you're trying to have a blog available from multiple domains, the best
| way is to simply use a single WordPress isntance, and direct all the
| domains to that. By default, the Canonical redirection will kick in and
| redirect it to the primary.
| you can get around that by defining WP_SITEURL and WP_HOME in your config
| file dynamically to the hostname that the request came in on to bypass
| that issue.
|
| On Sun, 14 Feb 2010 05:45:52 +1100, pradipta sinha <singh.gabu at gmail.com>
| wrote:
|
| > Hi,
| > I want to share my posts in multiple blogs, I want to use a common post
| > and
| > postmeta table in all my blogs,
| > I am shring user table in multiple wordpress installation websites,
| >
| > A detialed documnetation in sharing account in multiple blog is here
| > http://wpclassipress.com/forum/viewtopic.php?f=11&t=1409
| >
| > Now same way define in cofig.php in child blog and also by the same way
| > editing the capabilities.php in includes folder
| > Can i make the posts and post meta  table a common for  both of the
| > blogs,
| >
| > For say
| >
| >
| > define('CUSTOM_POSTS_TABLE', 'wp_posts');
| > define('CUSTOM_POST_META_TABLE', 'wp_postmeta');
| > define('CUSTOM_CAPABILITIES_PREFIX', 'wp_');
| >
| > and edit the wp-includes/capabilities.php
| > // $this->cap_key = $wpdb->prefix . 'capabilities'; coomnet this line
| >
| > place
| > if (defined ('CUSTOM_CAPABILITIES_PREFIX')) {
| >       $this->cap_key = CUSTOM_CAPABILITIES_PREFIX . 'capabilities';
| >    } else {
| >            $this->cap_key = $wpdb->prefix . 'capabilities';
| >    }
| > //
| > Is that the way to make the psot and postmeta table common ??
| > Kindly help me on that.
| > Thanks 


From lists at hikarinet.info  Sun Feb 14 06:01:15 2010
From: lists at hikarinet.info (Hikari)
Date: Sun, 14 Feb 2010 04:01:15 -0200
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In
	AndAroundTheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com><C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net><5892EAE068FE4C94B56F19624082834C@MAIN>
	<52B5489EAFF34FE4A29834DF80B97A50@davidhr5m957yn>
Message-ID: <B56D7A2E4AD24657801A8807A7374E1D@MAIN>

----- Original Message ----- 
From: "Mark McWilliams" <admin at wpkid.com>
To: <wp-hackers at lists.automattic.com>
Sent: Sunday, 14 February, 2010 12:14 AM
Subject: Re: [wp-hackers] Some Thoughts/Enhancement Ideas In AndAroundTheCategory Side Of Things


| >> | Bottom line, a site publisher will be better off if they have control
| >> to
| >> | optimize their URL structure.  One of WordPress' biggest current
| >> | weaknesses is the difficulty of control URL structure.
| >
| >I agree with that.
|
| And I'd agree with that statement too, only in certain aspects though, cause
| at the moment WordPress does a pretty good job! :)


It does a pretty good job when its job is what you need.

If you want a category other then the one with lowest ID in the permalink, what will you do?


| > Wordpress advantage is that, if we wanna change permalink structure,
| > we can do so once and get all our pages updated, and with the help of
| > a plugin also have old permalinks 301 redirected to new ones.
|
| Yes, I do like how we can change the permalink structure virtually with the
| click of a button, and we dont need to go pasting certain code in the
| .htaccess file, I can't fault that!

me too :)

Something I hated in Drupal is how we must set everything up before start adding posts. Because any change, even in configs, will 
only reflect in posts done after that change. And fixing stuff is damn hard on it!



| > But that also makes it harder to get our permalinks the way we want.
| > Drupal's URL Alias is clean and simple, and Pathauto enhances it for
| > what we need. Its problem is that, when Pathauto generated permalink
| > is not what we want, then we must type our desired permalink.
|
| I have never used Drupal before, so can't comment sadly! :(

I've used it and I was happy when I get back to Wordpress without starting any site over it. And even happier when I developed a 
theme with some stuff Drupal does and Wordpress also does with some little tweaks :)


| > Permalink handling is the kind of thing I believe should be taken off core
| > and moved to a community plugin, which would have high quality API
| > functions to allow us a lot of customizations and develop plugins to
| > enhance parts of it.
| >
| > This plugin would deal with conflict over different permalink plugins. And
| > have options to disable specific parts of permalink parsing.
| >
| > That would solve permormance issues. If some parsing code is expensive,
| > just disable it and hook your own, with only the code to deal with your
| > specific need.
|
| If it *had* to become more of a Core Plugin then fine, I guess I'd have to
| go with that, but I'm still quite positive that a few things here and there
| just need to be changed (maybe upgraded, or rewritten) and maybe some extra
| options that'd cover the second part of what you're on about. Whatever
| options aren't being used, well they'll not show in the rewrite rules, and
| vice versa, if something in the options is checked, it will show in the
| rewrite rules?
|
| That could, or I imagine, would be a possibility!


Let's say a site that has no pages and has categories in higher priority than normal (remember those themes that list categories 
instead of pages in menu), then we don't need to add pages to URL parsing.

A plugin could be developed to solve that need, removing page parsing, removing pages reference from admin UI and so on. And of 
course removing cat base, and everything would be set.




Also, imagine I wanna use a totally different structure, or just use permalinks in a way they can't be organized even in a few 
structures, so parsing is not usable at all.

In Wordpress that would mean use Custom Permalink plugin, and set custom permalinks to all posts, categories and maybe even tags 
(yeah I know :P ).

I've not checked Custom Permalink code so much to know it, but I BELIEVE it runs after the whole rewrite_rule code has run, maybe 
even when everything else fails and 404 is about to be generated. I don't even know, if my guess is wrong plz correct me.

If that's how it works, and custom permalinks would be used in every post, page, category and everything else, then the whole 
rewrite_rule code can be disabled, and let the plugin deal with everything. It it's not possible to be done, a lot of code will be 
run without need, making each page load slower worthlessly.


Now, in Drupal, URL Alias deals with resource => alias with a simple page, very clean and cheap. Just don't install Pathauto and 
you're done.

Even better, leave Pathauto there. It only runs when a post is being published, when it's loaded only URL Alias does the simple 
database query. :)



In a Wordpress x Drupal permalink dealing, both have their goods and bads. But it's easier to implement Wordpress advantages over 
Drupal than do the opposite. :(


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br


From lists at hikarinet.info  Sun Feb 14 07:27:02 2010
From: lists at hikarinet.info (Hikari)
Date: Sun, 14 Feb 2010 05:27:02 -0200
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas
	InAndAroundTheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn><4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com><8AFD2D16110245188F18B2112D94C984@davidhr5m957yn><D75B93A9-37DE-408C-A2A8-BC40096A46F3@cefm.ca>
	<AC13BA7EC2054B219AC751B21BB0F5B1@davidhr5m957yn>
Message-ID: <90E1D2246B784AB3B2E55A319DDA71D2@MAIN>





----- Original Message ----- 
From: "Mark McWilliams" <admin at wpkid.com>
To: <wp-hackers at lists.automattic.com>
Sent: Sunday, 14 February, 2010 12:32 AM
Subject: Re: [wp-hackers] Some Thoughts/Enhancement Ideas InAndAroundTheCategory Side Of Things




| what's wrong with something like...?
|
| http://www.site.com/contact/ - Which will be a page!
|
| /?post=hello-world
| /?page=contact
| /?taxonomy=people
|
| http://www.site.com/hello-world/ - That'll be the post URL!
|
| /?post=hello-world
| /?page=contact
| /?taxonomy=people
|
| http://www.site.com/people/ - And oddly enough, we have the custom taxonomy!
|
| /?post=hello-world
| /?page=contact
| /?taxonomy=people
|
| So in theory, what it'll do is search between a POST, PAGE and TAXONOMY for
| a match! =)
|
| Have I just completely missed the point, or what, to me that looks pretty | simple!


It's simple to understand, but expensive to run.

My site has 276 posts, 6 pages, 58 categories and 1108 tags. Remember categories, tags (which were added in 2.1 or 2.3) and now 
custom tax are all in a unique table.

If it was implemented as you said, a category URL would first go throu almost 300 pages rows, (let's not think it would first query 
only pages and then only posts, or it would go twice on that table) then more than 1000 taxonomy rows.

Such queries are expensive because they load whole posts and taxonomies tables to get only their slug and ID. So cat base optimizes 
it, helping Wordpress easily figure out when the URL refers to a category or tag, "taking taxonomies out of equation". Get a post 
structure starting with a number, being it a date or an ID, and you have an easy way to separate different resources without needing 
to query each table.

It's for optimizing it.




That's the disadivantage of Wordpress approach, it requires quering in resources tables to find out what a URL means, and more than 
once!

Now, take a look on how Drupal works:

1) Core: each resource has a fixed permalink of /resource/ID, it's like a very simple and cleaner Wordpress rewrite rule

2) URL Aliases module: there is a table that links each default permalink to an Alias, that can be anything and is written by user 
upon resource creating (as Custom Permalink plugin works!); by default both original and alias permalinks return the resource, there 
is a way I don't remember anymore how, that makes default permalink redirect to alias

3) Pathauto module: remebers a bit how Wordpress defines permalinks, we can set *different* permalink stuctures to *each kind* of 
resource, *including each taxonomy type we create*, and it will fill URL Alias for us


 BUT, Pathauto only does its job AFTER the post is created, we can't see how it will be before saving, not even its "slug" (I've 
just tested it here, not even previewing works, and as long as I know Drupal doesn't have sheculed posts).

So, or we have a very different permalink we wanna use for that resource, or we let Pathauto sets it and see how it becomes after 
it's created. And if we don't like Pathauto's work, we must edit the post setting our own Alias.




Pathauto needs improvements, but Drupal *totally* separates permalink-to-resource detection from resources table, at the same time 
we are able to use anything after the site's base URL.

In Wordpress, if we like its permalink structure, it's better than Drupal best solution. But if we don't, all it lets us do is 
change the resource slug, or hack its rewrite rules using custom permalink, scategory, removing category base, etc. And since it is 
so complex, any hack may add bugs.


We should have a simpler and expandable permalink code base, and add rewrite rules over it (and each or all rules would be disabled 
as needed), and add newer and better stuff with ease.



---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br 


From prodevstudio at gmail.com  Sun Feb 14 08:20:01 2010
From: prodevstudio at gmail.com (ProDevStudio)
Date: Sun, 14 Feb 2010 08:20:01 +0000
Subject: [wp-hackers] PHP Include Question - Best Practice
In-Reply-To: <d0da2a0b2416223dda1ae585e8b738c6.squirrel@mfields.org>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn> 
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com> 
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com> 
	<8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
	<4B7378FC.2070302@voceconnect.com> 
	<3D2E6EEF-ABBB-438B-8F52-AEF31876E1FE@newclarity.net>
	<349fe48b1002110507k3ded0747k28f8d886575bed4b@mail.gmail.com> 
	<445E4C40-2173-47A9-88D5-CC40CD2F8776@newclarity.net>
	<d0da2a0b2416223dda1ae585e8b738c6.squirrel@mfields.org>
Message-ID: <d9ef2a8f1002140020l5e37ae6cl982d008ffc8fcca9@mail.gmail.com>

Hi Michael,

One way to do this would be to check is image_resize() has not already been
defined then include the image.php.

for example:

function foo() {
    if (!function_exists('image_resize')) {
        include_once(ABSPATH . WPINC . '/image.php');
    }
    //more code here
}


In terms of performance issue one would reduce the number of call to
include_once if it was loaded already.

I would be interested in seeing others take on this.

Kind Regards,
Azizur Rahman

----
Do you need cost effective web hosting solution and Domain name try
http://www.prodevstudio.com


On Sun, Feb 14, 2010 at 4:03 AM, <michael at mfields.org> wrote:

> Hi. I'm putting together a small collection of functions that extend
> WordPress' image handling functionality. One of the functions returns a
> custom intermediate image size if one is found and has a parameter which
> (if set to true) will attempt to create the image using image_resize() - a
> core function.
>
> In the event that the function needs to create a new intermediate size,
> '/wp-admin/includes/image.php' needs to be included which leads me to this
> question:
>
> "Is there any performance penalty for using include_once() in a function
> that will most likely be called many times during the duration of a
> script?"
>
> It makes sense to me to only include the file if the function is set to
> create a new intermediate image, but if this could effect performance, I
> would rather just include it once outside of the function which uses it.
>
> Thanks!
> Mike
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From michael at mfields.org  Sun Feb 14 08:22:09 2010
From: michael at mfields.org (michael at mfields.org)
Date: Sun, 14 Feb 2010 01:22:09 -0700
Subject: [wp-hackers] PHP Include Question - Best Practice
In-Reply-To: <d9ef2a8f1002140020l5e37ae6cl982d008ffc8fcca9@mail.gmail.com>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>
	<8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
	<4B7378FC.2070302@voceconnect.com>
	<3D2E6EEF-ABBB-438B-8F52-AEF31876E1FE@newclarity.net>
	<349fe48b1002110507k3ded0747k28f8d886575bed4b@mail.gmail.com>
	<445E4C40-2173-47A9-88D5-CC40CD2F8776@newclarity.net>
	<d0da2a0b2416223dda1ae585e8b738c6.squirrel@mfields.org>
	<d9ef2a8f1002140020l5e37ae6cl982d008ffc8fcca9@mail.gmail.com>
Message-ID: <5073dfe87507cd843e3872371d48eaaf.squirrel@mfields.org>

Azizur,
Thanks! That's a perfect solution!

> Hi Michael,
>
> One way to do this would be to check is image_resize() has not already
> been
> defined then include the image.php.
>
> for example:
>
> function foo() {
>     if (!function_exists('image_resize')) {
>         include_once(ABSPATH . WPINC . '/image.php');
>     }
>     //more code here
> }
>
>
> In terms of performance issue one would reduce the number of call to
> include_once if it was loaded already.
>
> I would be interested in seeing others take on this.
>
> Kind Regards,
> Azizur Rahman
>
> ----
> Do you need cost effective web hosting solution and Domain name try
> http://www.prodevstudio.com
>
>
> On Sun, Feb 14, 2010 at 4:03 AM, <michael at mfields.org> wrote:
>
>> Hi. I'm putting together a small collection of functions that extend
>> WordPress' image handling functionality. One of the functions returns a
>> custom intermediate image size if one is found and has a parameter which
>> (if set to true) will attempt to create the image using image_resize() -
>> a
>> core function.
>>
>> In the event that the function needs to create a new intermediate size,
>> '/wp-admin/includes/image.php' needs to be included which leads me to
>> this
>> question:
>>
>> "Is there any performance penalty for using include_once() in a function
>> that will most likely be called many times during the duration of a
>> script?"
>>
>> It makes sense to me to only include the file if the function is set to
>> create a new intermediate image, but if this could effect performance, I
>> would rather just include it once outside of the function which uses it.
>>
>> Thanks!
>> Mike
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



From lists at hikarinet.info  Sun Feb 14 08:52:38 2010
From: lists at hikarinet.info (Hikari)
Date: Sun, 14 Feb 2010 06:52:38 -0200
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In
	AndAroundTheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn><4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com><8AFD2D16110245188F18B2112D94C984@davidhr5m957yn><D75B93A9-37DE-408C-A2A8-BC40096A46F3@cefm.ca><AC13BA7EC2054B219AC751B21BB0F5B1@davidhr5m957yn>
	<op.u73ldvsbspxmuu@ho.st>
Message-ID: <0AD16A9F18ED4A1E9394D47EECEDEDDA@MAIN>


----- Original Message ----- 
From: "Dion Hulse (dd32)" <wordpress at dd32.id.au>
Sent: Sunday, 14 February, 2010 1:30 AM

| WordPress parses the request using the permastructure and determines
| you're looking for a post in 2010 with the slug 'hello-world'
| WordPress parses the request and see's you're looking for '/contact', Its
| assumed thats a page.
|
| How do you differentiate between 'Contact', 'Contact' and 'Contact'? That
| is, Post, Page, Taxonomy Term.


That's another problem. We can have a post and a taxonomy with the same slug. I know 2 taxonomies can't have the same slug, but I 
believe 2 posts can have it, so a page and a post can.

Since permalink data is spreaded out in more than 1 table and we can even have more than 1 resource with the same slug, we are 
forced to have static strings to guarantee there will won't be ambiguities. And since permalink is parsed dinamically, we are forced 
to use static strings to help guess what each permalink referes to and to narrow down the query.



The advantage is we are able to easily change permalink of an old site. The disadvantage is that we don't have total flexibility 
over permalinks.

Now, what do we do more often, change the permalink of an old site or need to use a custom permalink on a post?

In my opinion it's not worthy sacrificing the later to have the first. Even more when a plugin could just update all posts to a new 
structure and store old pernalinks for redirection.

Wordpress makes the most uncommon and easiest, easier, and makes the most common and hardest, harder.

Maybe 4.0 enhances it...


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br 


From singh.gabu at gmail.com  Sun Feb 14 09:44:13 2010
From: singh.gabu at gmail.com (pradipta sinha)
Date: Sun, 14 Feb 2010 15:14:13 +0530
Subject: [wp-hackers] Re :How to share WordPress posts across multiple blogs
Message-ID: <13eb5f331002140144p561c2584x9d3987651e59a90@mail.gmail.com>

Re :How to share WordPress posts across multiple blogs

Thanks a lot both of u, *Dion* and *Hikari *
Actually my only intention in "How to share WordPress posts across multiple
blogs"
is , I want this,

For say, I have a wordpress blog classified.com with a classified/auction
etc
Now when anyone join he get the two option ,Free/Paid
Free members are only show ads ,can not make a post[Subscriber]
Paid members are by default contributor role or author role, i.e. he/she can
create ads or post,
Now The main tweaks is I have another numbers of subdomain like
*auto.classified.com* , *medicalspa.classified.com* etc,
ANd i want to give the paid user a ability that when he add any post in a
category named *AUTO* in main domain[classified.com] ,the post will
automatically inserted or may be just display in auto.classifieds.com

So is that possible ?
and how can i run multiple blogs with a single code base ? and I cant get it
*Dion* ,

"you can get around that by defining WP_SITEURL and WP_HOME in your config
| file dynamically to the hostname that the request came in on to bypass
| that issue." plz explain me more,







---------- Forwarded message ----------
From: "Hikari" <lists at hikarinet.info>
To: <wp-hackers at lists.automattic.com>
Date: Sun, 14 Feb 2010 03:40:18 -0200
Subject: Re: [wp-hackers] How to share WordPress posts across multiple blogs
As I undestood, what he wants is to share posts among sites, but don't share
users.

That would be the oppose of WP MU, which shares users but doesn't share
posts. He also didn't talk about taxonomies, comments, etc.


I believe this specific need can't be accomplished, since posts use users PK
for author. A post created in a site won't have an
author on the others, and no simple way to identify which site its author
is. That may be troublesome.

---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!:
http://seunome.ConscienciaPlanetaria.com.br


----- Original Message -----
From: "Dion Hulse (dd32)" <wordpress at dd32.id.au>
To: <wp-hackers at lists.automattic.com>
Sent: Saturday, 13 February, 2010 9:02 PM
Subject: Re: [wp-hackers] How to share WordPress posts across multiple blogs


| Whats the Use-case for sharing posts?
|
| If you're trying to have a blog available from multiple domains, the best
| way is to simply use a single WordPress isntance, and direct all the
| domains to that. By default, the Canonical redirection will kick in and
| redirect it to the primary.
| you can get around that by defining WP_SITEURL and WP_HOME in your config
| file dynamically to the hostname that the request came in on to bypass
| that issue.
|
| On Sun, 14 Feb 2010 05:45:52 +1100, pradipta sinha <singh.gabu at gmail.com>
| wrote:
|
| > Hi,
| > I want to share my posts in multiple blogs, I want to use a common post
| > and
| > postmeta table in all my blogs,
| > I am shring user table in multiple wordpress installation websites,
| >
| > A detialed documnetation in sharing account in multiple blog is here
| > http://wpclassipress.com/forum/viewtopic.php?f=11&t=1409
| >
| > Now same way define in cofig.php in child blog and also by the same way
| > editing the capabilities.php in includes folder
| > Can i make the posts and post meta  table a common for  both of the
| > blogs,
| >
| > For say
| >
| >
| > define('CUSTOM_POSTS_TABLE', 'wp_posts');
| > define('CUSTOM_POST_META_TABLE', 'wp_postmeta');
| > define('CUSTOM_CAPABILITIES_PREFIX', 'wp_');
| >
| > and edit the wp-includes/capabilities.php
| > // $this->cap_key = $wpdb->prefix . 'capabilities'; coomnet this line
| >
| > place
| > if (defined ('CUSTOM_CAPABILITIES_PREFIX')) {
| >       $this->cap_key = CUSTOM_CAPABILITIES_PREFIX . 'capabilities';
| >    } else {
| >            $this->cap_key = $wpdb->prefix . 'capabilities';
| >    }
| > //
| > Is that the way to make the psot and postmeta table common ??
| > Kindly help me on that.
| > Thanks




---------- Forwarded message ----------
From: "Hikari" <lists at hikarinet.info>
To: <wp-hackers at lists.automattic.com>
Date: Sun, 14 Feb 2010 04:01:15 -0200
Subject: Re: [wp-hackers] Some Thoughts/Enhancement Ideas In
AndAroundTheCategory Side Of Things
----- Original Message -----
From: "Mark McWilliams" <admin at wpkid.com>
To: <wp-hackers at lists.automattic.com>
Sent: Sunday, 14 February, 2010 12:14 AM
Subject: Re: [wp-hackers] Some Thoughts/Enhancement Ideas In
AndAroundTheCategory Side Of Things


| >> | Bottom line, a site publisher will be better off if they have control
| >> to
| >> | optimize their URL structure.  One of WordPress' biggest current
| >> | weaknesses is the difficulty of control URL structure.
| >
| >I agree with that.
|
| And I'd agree with that statement too, only in certain aspects though,
cause
| at the moment WordPress does a pretty good job! :)


It does a pretty good job when its job is what you need.

If you want a category other then the one with lowest ID in the permalink,
what will you do?


| > Wordpress advantage is that, if we wanna change permalink structure,
| > we can do so once and get all our pages updated, and with the help of
| > a plugin also have old permalinks 301 redirected to new ones.
|
| Yes, I do like how we can change the permalink structure virtually with
the
| click of a button, and we dont need to go pasting certain code in the
| .htaccess file, I can't fault that!

me too :)

Something I hated in Drupal is how we must set everything up before start
adding posts. Because any change, even in configs, will
only reflect in posts done after that change. And fixing stuff is damn hard
on it!



| > But that also makes it harder to get our permalinks the way we want.
| > Drupal's URL Alias is clean and simple, and Pathauto enhances it for
| > what we need. Its problem is that, when Pathauto generated permalink
| > is not what we want, then we must type our desired permalink.
|
| I have never used Drupal before, so can't comment sadly! :(

I've used it and I was happy when I get back to Wordpress without starting
any site over it. And even happier when I developed a
theme with some stuff Drupal does and Wordpress also does with some little
tweaks :)


| > Permalink handling is the kind of thing I believe should be taken off
core
| > and moved to a community plugin, which would have high quality API
| > functions to allow us a lot of customizations and develop plugins to
| > enhance parts of it.
| >
| > This plugin would deal with conflict over different permalink plugins.
And
| > have options to disable specific parts of permalink parsing.
| >
| > That would solve permormance issues. If some parsing code is expensive,
| > just disable it and hook your own, with only the code to deal with your
| > specific need.
|
| If it *had* to become more of a Core Plugin then fine, I guess I'd have to
| go with that, but I'm still quite positive that a few things here and
there
| just need to be changed (maybe upgraded, or rewritten) and maybe some
extra
| options that'd cover the second part of what you're on about. Whatever
| options aren't being used, well they'll not show in the rewrite rules, and
| vice versa, if something in the options is checked, it will show in the
| rewrite rules?
|
| That could, or I imagine, would be a possibility!


Let's say a site that has no pages and has categories in higher priority
than normal (remember those themes that list categories
instead of pages in menu), then we don't need to add pages to URL parsing.

A plugin could be developed to solve that need, removing page parsing,
removing pages reference from admin UI and so on. And of
course removing cat base, and everything would be set.




Also, imagine I wanna use a totally different structure, or just use
permalinks in a way they can't be organized even in a few
structures, so parsing is not usable at all.

In Wordpress that would mean use Custom Permalink plugin, and set custom
permalinks to all posts, categories and maybe even tags
(yeah I know :P ).

I've not checked Custom Permalink code so much to know it, but I BELIEVE it
runs after the whole rewrite_rule code has run, maybe
even when everything else fails and 404 is about to be generated. I don't
even know, if my guess is wrong plz correct me.

If that's how it works, and custom permalinks would be used in every post,
page, category and everything else, then the whole
rewrite_rule code can be disabled, and let the plugin deal with everything.
It it's not possible to be done, a lot of code will be
run without need, making each page load slower worthlessly.


Now, in Drupal, URL Alias deals with resource => alias with a simple page,
very clean and cheap. Just don't install Pathauto and
you're done.

Even better, leave Pathauto there. It only runs when a post is being
published, when it's loaded only URL Alias does the simple
database query. :)



In a Wordpress x Drupal permalink dealing, both have their goods and bads.
But it's easier to implement Wordpress advantages over
Drupal than do the opposite. :(


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!:
http://seunome.ConscienciaPlanetaria.com.br




---------- Forwarded message ----------
From: "Hikari" <lists at hikarinet.info>
To: <wp-hackers at lists.automattic.com>
Date: Sun, 14 Feb 2010 05:27:02 -0200
Subject: Re: [wp-hackers] Some Thoughts/Enhancement Ideas
InAndAroundTheCategory Side Of Things




----- Original Message -----
From: "Mark McWilliams" <admin at wpkid.com>
To: <wp-hackers at lists.automattic.com>
Sent: Sunday, 14 February, 2010 12:32 AM
Subject: Re: [wp-hackers] Some Thoughts/Enhancement Ideas
InAndAroundTheCategory Side Of Things




| what's wrong with something like...?
|
| http://www.site.com/contact/ - Which will be a page!
|
| /?post=hello-world
| /?page=contact
| /?taxonomy=people
|
| http://www.site.com/hello-world/ - That'll be the post URL!
|
| /?post=hello-world
| /?page=contact
| /?taxonomy=people
|
| http://www.site.com/people/ - And oddly enough, we have the custom
taxonomy!
|
| /?post=hello-world
| /?page=contact
| /?taxonomy=people
|
| So in theory, what it'll do is search between a POST, PAGE and TAXONOMY
for
| a match! =)
|
| Have I just completely missed the point, or what, to me that looks pretty
| simple!


It's simple to understand, but expensive to run.

My site has 276 posts, 6 pages, 58 categories and 1108 tags. Remember
categories, tags (which were added in 2.1 or 2.3) and now
custom tax are all in a unique table.

If it was implemented as you said, a category URL would first go throu
almost 300 pages rows, (let's not think it would first query
only pages and then only posts, or it would go twice on that table) then
more than 1000 taxonomy rows.

Such queries are expensive because they load whole posts and taxonomies
tables to get only their slug and ID. So cat base optimizes
it, helping Wordpress easily figure out when the URL refers to a category or
tag, "taking taxonomies out of equation". Get a post
structure starting with a number, being it a date or an ID, and you have an
easy way to separate different resources without needing
to query each table.

It's for optimizing it.




That's the disadivantage of Wordpress approach, it requires quering in
resources tables to find out what a URL means, and more than
once!

Now, take a look on how Drupal works:

1) Core: each resource has a fixed permalink of /resource/ID, it's like a
very simple and cleaner Wordpress rewrite rule

2) URL Aliases module: there is a table that links each default permalink to
an Alias, that can be anything and is written by user
upon resource creating (as Custom Permalink plugin works!); by default both
original and alias permalinks return the resource, there
is a way I don't remember anymore how, that makes default permalink redirect
to alias

3) Pathauto module: remebers a bit how Wordpress defines permalinks, we can
set *different* permalink stuctures to *each kind* of
resource, *including each taxonomy type we create*, and it will fill URL
Alias for us


 BUT, Pathauto only does its job AFTER the post is created, we can't see how
it will be before saving, not even its "slug" (I've
just tested it here, not even previewing works, and as long as I know Drupal
doesn't have sheculed posts).

So, or we have a very different permalink we wanna use for that resource, or
we let Pathauto sets it and see how it becomes after
it's created. And if we don't like Pathauto's work, we must edit the post
setting our own Alias.




Pathauto needs improvements, but Drupal *totally* separates
permalink-to-resource detection from resources table, at the same time
we are able to use anything after the site's base URL.

In Wordpress, if we like its permalink structure, it's better than Drupal
best solution. But if we don't, all it lets us do is
change the resource slug, or hack its rewrite rules using custom permalink,
scategory, removing category base, etc. And since it is
so complex, any hack may add bugs.


We should have a simpler and expandable permalink code base, and add rewrite
rules over it (and each or all rules would be disabled
as needed), and add newer and better stuff with ease.



---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!:
http://seunome.ConscienciaPlanetaria.com.br



_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From jdub at bethesignal.org  Sun Feb 14 09:44:37 2010
From: jdub at bethesignal.org (Jeff Waugh)
Date: Sun, 14 Feb 2010 20:44:37 +1100
Subject: [wp-hackers] Slightly O/T: PHP based alternative to LESS/Sass?
In-Reply-To: <71ddd7491002130918s642593ccs53e53d26b640b6d7@mail.gmail.com>
References: <B2C91EA0-57D7-4DA1-BAA0-5F643F30CE47@gmail.com>
	<349fe48b1002130904q1be0b80ar19459f7622e2724@mail.gmail.com>
	<eaaa36c91002130911j1b4536e2j2d6a8ea9266a0abc@mail.gmail.com>
	<71ddd7491002130918s642593ccs53e53d26b640b6d7@mail.gmail.com>
Message-ID: <20100214094437.GH2236@sliver>

<quote who="Doug Stewart">

> > Or Compass: http://wiki.github.com/chriseppstein/compass/
> 
> I specifically called out "php" and "NO Ruby". *grin* So Compass is Right
> Out.
> 
> CSScaffold looks interesting/promising.

It's not like you have to integrate these with your web platform though --
I'm using compass on some sites now (love it), and it's just part of the
build process (make is called as part of the deployment script). No Ruby
required on the server.

- Jeff

-- 
The Great Australian Internet Blackout   http://www.internetblackout.com.au/
 
                  It's not a disease, it's an occupation!

From johnbillion+wp at gmail.com  Sun Feb 14 10:37:52 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Sun, 14 Feb 2010 10:37:52 +0000
Subject: [wp-hackers] Slightly O/T: PHP based alternative to LESS/Sass?
In-Reply-To: <20100214094437.GH2236@sliver>
References: <B2C91EA0-57D7-4DA1-BAA0-5F643F30CE47@gmail.com>
	<349fe48b1002130904q1be0b80ar19459f7622e2724@mail.gmail.com>
	<eaaa36c91002130911j1b4536e2j2d6a8ea9266a0abc@mail.gmail.com>
	<71ddd7491002130918s642593ccs53e53d26b640b6d7@mail.gmail.com>
	<20100214094437.GH2236@sliver>
Message-ID: <1fa535a71002140237g722a01e9h8945281c3041d642@mail.gmail.com>

Or there's WP-LESS: http://wordpress.org/extend/plugins/wp-less/ (not
tried it myself)

On Sun, Feb 14, 2010 at 9:44 AM, Jeff Waugh <jdub at bethesignal.org> wrote:
> <quote who="Doug Stewart">
>
>> > Or Compass: http://wiki.github.com/chriseppstein/compass/
>>
>> I specifically called out "php" and "NO Ruby". *grin* So Compass is Right
>> Out.
>>
>> CSScaffold looks interesting/promising.
>
> It's not like you have to integrate these with your web platform though --
> I'm using compass on some sites now (love it), and it's just part of the
> build process (make is called as part of the deployment script). No Ruby
> required on the server.
>
> - Jeff
>
> --
> The Great Australian Internet Blackout ? http://www.internetblackout.com.au/
>
> ? ? ? ? ? ? ? ? ?It's not a disease, it's an occupation!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Sun Feb 14 15:42:16 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 14 Feb 2010 10:42:16 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In
	AndAroundTheCategory Side Of Things
In-Reply-To: <op.u73ldvsbspxmuu@ho.st>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>
	<8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
	<D75B93A9-37DE-408C-A2A8-BC40096A46F3@cefm.ca>
	<AC13BA7EC2054B219AC751B21BB0F5B1@davidhr5m957yn>
	<op.u73ldvsbspxmuu@ho.st>
Message-ID: <BFBBCE28-F10B-4B13-B6BF-012198885825@newclarity.net>

On Feb 13, 2010, at 10:30 PM, Dion Hulse (dd32) wrote:
> How do you differentiate between 'Contact', 'Contact' and 'Contact'? That is, Post, Page, Taxonomy Term.

With a MySQL query that doesn't presume it already knows what type 'Contact' is.

> It all comes down to Performance, I can quite easily search through 10 items manualy and give you it within a decent ammount of time, A computer can do it faster.
> What a computer cannot do, or at least, not shared hosts, is given thousands of objects, and you ask for 'hello-world' locate it quickly,

Given the current architecture, you are correct. But that's an assumption.  Using a different assumption, i.e. that a single MySQL query does the lookup into the database and performance is not an issue.

I can't say for sure that such a query could be backward compatible, but I think it could.  It could certainly be provided as an option so that it could be reverted for older plugins.

-Mike

From mikeschinkel at newclarity.net  Sun Feb 14 16:03:17 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 14 Feb 2010 11:03:17 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In
	AndAroundTheCategory Side Of Things
In-Reply-To: <BFBBCE28-F10B-4B13-B6BF-012198885825@newclarity.net>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>
	<8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
	<D75B93A9-37DE-408C-A2A8-BC40096A46F3@cefm.ca>
	<AC13BA7EC2054B219AC751B21BB0F5B1@davidhr5m957yn>
	<op.u73ldvsbspxmuu@ho.st>
	<BFBBCE28-F10B-4B13-B6BF-012198885825@newclarity.net>
Message-ID: <BFC970FE-5C33-4813-92F6-F486E0D27288@newclarity.net>

On Feb 14, 2010, at 10:42 AM, Mike Schinkel wrote:

> On Feb 13, 2010, at 10:30 PM, Dion Hulse (dd32) wrote:
>> How do you differentiate between 'Contact', 'Contact' and 'Contact'? That is, Post, Page, Taxonomy Term.
> 
> With a MySQL query that doesn't presume it already knows what type 'Contact' is.
> 
>> It all comes down to Performance, I can quite easily search through 10 items manualy and give you it within a decent ammount of time, A computer can do it faster.
>> What a computer cannot do, or at least, not shared hosts, is given thousands of objects, and you ask for 'hello-world' locate it quickly,
> 
> Given the current architecture, you are correct. But that's an assumption.  Using a different assumption, i.e. that a single MySQL query does the lookup into the database and performance is not an issue.
> 
> I can't say for sure that such a query could be backward compatible, but I think it could.  It could certainly be provided as an option so that it could be reverted for older plugins.

After thinking about this a bit, I'd like the through out the following strawman: why don't we consider deprecating wp_terms and using wp_posts with a post type of "taxonomy_term" instead?  That would address numerous concerns; streamline URL routing for taxonomy as well as give taxonomy terms descriptions and meta data.  Hmmm?

-Mike

From admin at wpkid.com  Sun Feb 14 17:31:49 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Sun, 14 Feb 2010 17:31:49 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In
	AndAroundTheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn><4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com><8AFD2D16110245188F18B2112D94C984@davidhr5m957yn><D75B93A9-37DE-408C-A2A8-BC40096A46F3@cefm.ca><AC13BA7EC2054B219AC751B21BB0F5B1@davidhr5m957yn>
	<op.u73ldvsbspxmuu@ho.st>
Message-ID: <DA1A0B41FC8E48BDABE919393D0A2D3E@davidhr5m957yn>

Sunday, February 14, 2010 3:30 AM Dion Hulse (dd32) Wrote:
> It looks pretty simple from the top, But once you get into it, Its a bit 
> more complex than that. WordPress is dynamic, All URL's are
> dynamically generated, they're not stored anywhere.

Well I did think it'd be more complex, but you never know, maybe it's just 
the code looked like another language to me, and in fact it'd be something 
as simple as I posted, damn shame it not...! ;) And yes, I know WP is 
dynamic, maybe WP should store real files, that'd solve the problem out for 
sure! =)

> How do you differentiate between 'Contact', 'Contact' and 'Contact'? That 
> is, Post, Page, Taxonomy Term.

Yes, OK, it's a good question, I *myself* don't know!

But if I was to create a post, page and custom taxonomy term all with 
'contact' then I'm not sure? At the end of the day, a page is more 
appropriate, I think it all comes down to common sense here. Couldn't WP do 
what it does with post permalinks, if a duplicate is created, add on the -2, 
although as I said the common sense side of things should keep you just with 
page.

> What a computer cannot do, or at least, not shared hosts, is given 
> thousands of objects, and you ask for 'hello-world' locate it quickly, 
> Telling it its a post|page|category narrows it down significantly, Give it 
> a date, and it'll have it even quicker.

Giving it something like a date, will speed up the process yes. 


From admin at wpkid.com  Sun Feb 14 17:42:20 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Sun, 14 Feb 2010 17:42:20 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas
	InAndAroundTheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com><C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net><5892EAE068FE4C94B56F19624082834C@MAIN><52B5489EAFF34FE4A29834DF80B97A50@davidhr5m957yn>
	<B56D7A2E4AD24657801A8807A7374E1D@MAIN>
Message-ID: <DDB64CF294054B74B1A2F070A3A49E5B@davidhr5m957yn>

Sunday, February 14, 2010 6:01 AM Hikari Wrote:
> Let's say a site that has no pages and has categories in higher
> priority than normal (remember those themes that list categories
> instead of pages in menu), then we don't need to add pages to
> URL parsing.

Yup, I did follow what you was saying, and like I said I agree! :)

> A plugin could be developed to solve that need, removing page
> parsing, removing pages reference from admin UI and so on. And
> of course removing cat base, and everything would be set.

I'm sure an option could be built into WordPress, instead of a plugin, thus 
further enhancing the CMS and making it more powerful! It might be you have 
1 page setup, call it /contact/, well that can be 'hardcoded' in being the 
only page setup on the site? :) 


From admin at wpkid.com  Sun Feb 14 17:49:08 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Sun, 14 Feb 2010 17:49:08 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>
	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>
Message-ID: <D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn>

Wednesday, February 10, 2010 7:27 PM Mike Schinkel Wrote:
> Bottom line, a site publisher will be better off if they have control to
> optimize their URL structure.  One of WordPress' biggest current
> weaknesses is the difficulty of control URL structure.

At the end of the day, you want to setup your site so that it appeals to 
visitors, and is easy to navigate for them! You don't want to link to 
/category/announcements/ in the navigation, you want to like to 
/announcements/ which is just common sense. So yes, it's one of WP's current 
weaknesses! :( 


From michael at mfields.org  Sun Feb 14 19:53:15 2010
From: michael at mfields.org (michael at mfields.org)
Date: Sun, 14 Feb 2010 12:53:15 -0700
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In
 AndAroundTheCategory Side Of Things
In-Reply-To: <BFC970FE-5C33-4813-92F6-F486E0D27288@newclarity.net>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>
	<8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
	<D75B93A9-37DE-408C-A2A8-BC40096A46F3@cefm.ca>
	<AC13BA7EC2054B219AC751B21BB0F5B1@davidhr5m957yn>
	<op.u73ldvsbspxmuu@ho.st>
	<BFBBCE28-F10B-4B13-B6BF-012198885825@newclarity.net>
	<BFC970FE-5C33-4813-92F6-F486E0D27288@newclarity.net>
Message-ID: <a318ae9421421a53d5c02f443da99118.squirrel@mfields.org>

> On Feb 14, 2010, at 10:42 AM, Mike Schinkel wrote:

> After thinking about this a bit, I'd like the through out the following
> strawman: why don't we consider deprecating wp_terms and using wp_posts
> with a post type of "taxonomy_term" instead?  That would address numerous
> concerns; streamline URL routing for taxonomy as well as give taxonomy
> terms descriptions and meta data.  Hmmm?

Actually I do not believe that this would not aid in URL routing for
taxonomies at all. Taxonomies are defined in the wp_term_taxonomy table
where they are referenced to a term. This structure allows for any given
term to be used by multiple taxonomies. The term table stores only terms.


From Ken at adcSTUDIO.com  Sun Feb 14 19:58:45 2010
From: Ken at adcSTUDIO.com (Ken Newman)
Date: Sun, 14 Feb 2010 14:58:45 -0500
Subject: [wp-hackers] Script Install of WordPress Lastest
In-Reply-To: <op.u71jwcx7spxmuu@ho.st>
References: <a21f8bf01002011504r589d6dfau597ef31ad6559260@mail.gmail.com>	<4B75F2AB.80605@adcSTUDIO.com>
	<op.u71jwcx7spxmuu@ho.st>
Message-ID: <4B7855F5.3070408@adcSTUDIO.com>

On 2/12/2010 8:03 PM, Dion Hulse (dd32) wrote:
> add_filter('unzip_file_use_ziparchive', create_function('', 'return 
> false;')); 

That did actually fix it :-(

From mikeschinkel at newclarity.net  Sun Feb 14 20:55:30 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 14 Feb 2010 15:55:30 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
In-Reply-To: <D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>
	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>
	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn>
Message-ID: <D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>

On Feb 14, 2010, at 12:49 PM, Mark McWilliams wrote:
> At the end of the day, you want to setup your site so that it appeals to visitors, and is easy to navigate for them! You don't want to link to /category/announcements/ in the navigation, you want to like to /announcements/ which is just common sense. 

Exactly.

-Mike


From mikeschinkel at newclarity.net  Sun Feb 14 20:59:27 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 14 Feb 2010 15:59:27 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In
	AndAroundTheCategory Side Of Things
In-Reply-To: <a318ae9421421a53d5c02f443da99118.squirrel@mfields.org>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>
	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>
	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com>
	<8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
	<D75B93A9-37DE-408C-A2A8-BC40096A46F3@cefm.ca>
	<AC13BA7EC2054B219AC751B21BB0F5B1@davidhr5m957yn>
	<op.u73ldvsbspxmuu@ho.st>
	<BFBBCE28-F10B-4B13-B6BF-012198885825@newclarity.net>
	<BFC970FE-5C33-4813-92F6-F486E0D27288@newclarity.net>
	<a318ae9421421a53d5c02f443da99118.squirrel@mfields.org>
Message-ID: <FB0A7B38-9AC7-40D1-B09A-53C99AC79EAA@newclarity.net>

On Feb 14, 2010, at 2:53 PM, michael at mfields.org wrote:
>> On Feb 14, 2010, at 10:42 AM, Mike Schinkel wrote:
> 
>> After thinking about this a bit, I'd like the through out the following
>> strawman: why don't we consider deprecating wp_terms and using wp_posts
>> with a post type of "taxonomy_term" instead?  That would address numerous
>> concerns; streamline URL routing for taxonomy as well as give taxonomy
>> terms descriptions and meta data.  Hmmm?
> 
> Actually I do not believe that this would not aid in URL routing for
> taxonomies at all. Taxonomies are defined in the wp_term_taxonomy table
> where they are referenced to a term. This structure allows for any given
> term to be used by multiple taxonomies. The term table stores only terms.

Good point. I've always found the taxonomy structure to be very counter-intuitive.  So then deprecate wp_term_taxonomy instead. 

-Mike

From mark at watero.us  Sun Feb 14 21:48:17 2010
From: mark at watero.us (mark waterous)
Date: Sun, 14 Feb 2010 13:48:17 -0800
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn>
	<D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>
Message-ID: <000a01caadbf$6ba75e50$42f61af0$@us>

> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-
> bounces at lists.automattic.com] On Behalf Of Mike Schinkel
> Sent: Sunday, February 14, 2010 12:56 PM
> To: wp-hackers at lists.automattic.com
> 
> On Feb 14, 2010, at 12:49 PM, Mark McWilliams wrote:
> > At the end of the day, you want to setup your site so that it appeals
> to visitors, and is easy to navigate for them! You don't want to link
> to /category/announcements/ in the navigation, you want to like to
> /announcements/ which is just common sense.
> 
> Exactly.

Exactly what?

This debate has encompassed well over half of the posts on the list lately,
and I'm not entirely sure how it's been let go on this long. Having
/category/ in your URL does NOT affect your SEO. If that's the entirety of
your SEO strategy, you need to go back to your books and start studying
again. Having /category/ in your URL does NOT affect your sites navigation.
Period.

If your visitors are having to rewrite the URL and guess at what may or may
not lead them to a new section of the site via personal attention to said
URL, you have failed at designing your site. This is not WordPress' fault,
this is your fault. 100% of a web sites visitors should not have to rely on
browser supplied navigation techniques to traverse your pages, regardless of
their technical knowledge.

There are far more important things that the WordPress core developers could
and should be working on than this.

> At the end of the day, you want to setup your site so that it appeals
> to visitors, and is easy to navigate for them!

Bingo. (Just to elaborate, I'm saying Bingo to this statement outside the
context of /category/.) 

My site URLs could be all written in a dead language, and it shouldn't
matter to my visitors.

--
Mark Waterous
http://mark.watero.us/
(mark at watero.us) 



From mikeschinkel at newclarity.net  Sun Feb 14 22:19:43 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 14 Feb 2010 17:19:43 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <000a01caadbf$6ba75e50$42f61af0$@us>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn>
	<D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>
	<000a01caadbf$6ba75e50$42f61af0$@us>
Message-ID: <7C6F0D3D-B6D3-4EDC-90D0-B0D895DEBFCF@newclarity.net>

On Feb 14, 2010, at 4:48 PM, mark waterous wrote:
>> On Feb 14, 2010, at 12:49 PM, Mark McWilliams wrote:
>>> At the end of the day, you want to setup your site so that it appeals
>> to visitors, and is easy to navigate for them! You don't want to link
>> to /category/announcements/ in the navigation, you want to like to
>> /announcements/ which is just common sense.
>> 
>> Exactly.
> 
> Exactly what?
> 
> This debate has encompassed well over half of the posts on the list lately,
> and I'm not entirely sure how it's been let go on this long. Having
> /category/ in your URL does NOT affect your SEO. If that's the entirety of
> your SEO strategy, you need to go back to your books and start studying
> again. Having /category/ in your URL does NOT affect your sites navigation.
> Period.

Who said it's my only SEO strategy? Please don't put words in someone else's mouth.

I made a comment a while back mentioned SEO, but you shouldn't assume that it is by far the only reason I think URL design is important.  I wrote a blog[1] with well over 50 posts on the issue a while back.  I've spent a lot more time than this afternoon researching the issue so it's not an offhand comment.

> If your visitors are having to rewrite the URL and guess at what may or may
> not lead them to a new section of the site via personal attention to said
> URL, you have failed at designing your site. This is not WordPress' fault,
> this is your fault. 100% of a web sites visitors should not have to rely on
> browser supplied navigation techniques to traverse your pages, regardless of
> their technical knowledge.
> 
> There are far more important things that the WordPress core developers could
> and should be working on than this.
> 
> My site URLs could be all written in a dead language, and it shouldn't
> matter to my visitors.

That's your opinion but I disagree with it.  There are many other contexts where URLs are useful besides simply navigating a site.  Viewing links in an email, having the confidence in links to post them on blogs and in social networks, having people see links in Google search results, seeing links mentioned on sites where autolinking is used with user generated content, and more.  Well designed URLs also help browser autocomplete work better, especially for sites where visitor visit frequently (in my case Meetup.com is one such site, and for those most part their URLs are well designed, thank goodness.)

A friend of mine disagreed with me about the importance of URLs as you did. But he recently agreed to try well designed URLs.  He has a classified advertising site targeting the college market and he is maniacal for metrics. After he changed his link structure he saw his Google traffic increase by over 30% from the URL change alone.  Yes comparing his efforts to WordPress is apples to oranges because WordPress already has better URLs than his earlier site. But as you do he didn't think URL design was important even though he had no metrics to back up his belief.  After the change he became a believer. FWIW.

-Mike
[1] http://blog.welldesignedurls.org



From mark at watero.us  Sun Feb 14 22:37:56 2010
From: mark at watero.us (mark waterous)
Date: Sun, 14 Feb 2010 14:37:56 -0800
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	The	Category Side Of Things
In-Reply-To: <7C6F0D3D-B6D3-4EDC-90D0-B0D895DEBFCF@newclarity.net>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn>	<D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us>
	<7C6F0D3D-B6D3-4EDC-90D0-B0D895DEBFCF@newclarity.net>
Message-ID: <000f01caadc6$5b782210$12686630$@us>

> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-
> bounces at lists.automattic.com] On Behalf Of Mike Schinkel
> Sent: Sunday, February 14, 2010 2:20 PM
> To: wp-hackers at lists.automattic.com
> 
> Who said it's my only SEO strategy? Please don't put words in someone
> else's mouth.

Who's putting words in whose mouth? If you read it that way, I apologize but
I meant 'you' and 'your' in the sense of anybody who is relying on their URL
to be their primary SEO strategy. It's one factor out of many, and it's not
even one of the highest ranking factors. So what I was saying is that it
simply doesn't affect your SEO enough that it should merit being a concern
of the core developers. Especially when you have every ability to change
this via plugin, or rewrite rules.


> That's your opinion but I disagree with it.  There are many other
> contexts where URLs are useful besides simply navigating a site.
> Viewing links in an email, having the confidence in links to post them
> on blogs and in social networks, having people see links in Google
> search results, seeing links mentioned on sites where autolinking is
> used with user generated content, and more.

And out of all these contexts, where does /category/ hurt you?

> Well designed URLs also help browser autocomplete work better, especially
> for sites where visitor visit frequently (in my case Meetup.com is one
> such site, and for those most part their URLs are well designed, thank
> goodness.)

When somebody is searching, for example, for a 'WordPress' category (url:
http://yoursite.com/category/wordpress/, entitled: 'My Blog - Posts on
Wordpress' ), how again is /category/ hurting you?

> 
> A friend of mine disagreed with me about the importance of URLs as you
> did. But he recently agreed to try well designed URLs.

I didn't say that URL design isn't an important part of an overall strategy.
What I said, and I quote, is: "My site URLs could be all written in a dead
language, and it shouldn't matter to my visitors." and I am 100% right about
that, you can't prove me wrong. I didn't say it wouldn't help with
marketing, SEO or any number of other subjects, what I said is that I could
do as mentioned, and it shouldn't matter to my visitors once they are on my
site. They don't navigate via URL. They navigate via the user interface
provided by the site.

--
Mark Waterous
http://mark.watero.us/
(mark at watero.us) 




From mikeschinkel at newclarity.net  Sun Feb 14 23:23:41 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 14 Feb 2010 18:23:41 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	The	Category Side Of Things
In-Reply-To: <000f01caadc6$5b782210$12686630$@us>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn>	<D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us>
	<7C6F0D3D-B6D3-4EDC-90D0-B0D895DEBFCF@newclarity.net>
	<000f01caadc6$5b782210$12686630$@us>
Message-ID: <F4C1F863-FF3B-4385-9880-74AFCED2FF51@newclarity.net>

On Feb 14, 2010, at 5:37 PM, mark waterous wrote:
>> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-
>> bounces at lists.automattic.com] On Behalf Of Mike Schinkel
>> Sent: Sunday, February 14, 2010 2:20 PM
>> To: wp-hackers at lists.automattic.com
>> 
>> Who said it's my only SEO strategy? Please don't put words in someone
>> else's mouth.
> 
> Who's putting words in whose mouth? If you read it that way, I apologize...

Mutual misunderstanding. No biggie.

> And out of all these contexts, where does /category/ hurt you?

It increases the length of the URL without adding context value for the user.  For example, the average user will recognize #1 as meaningful at a glance but a smaller percentage will recognize #2 as meaningful with the same glance:

#1 - http://example.com/news/
#2 - http://example.com/category/news/

Plus users are less likely to shorten #2 by tinyurl.com or bit.ly et al. than #1 meaning links on twitter and elsewhere retain their "branding" and link juice, when applicable.  

It's also easier for someone to recognize #1 in search results than #2 (see below.)  

As a counter example, here are URLs where the first segments do provide useful context:

http://example.com/products/acme-widget/
http://example.com/concerts/nyc/rolling-stones/

> When somebody is searching, for example, for a 'WordPress' category (url:
> http://yoursite.com/category/wordpress/, entitled: 'My Blog - Posts on
> Wordpress' ), how again is /category/ hurting you?

It increases the length of the displayed URL thus making the matched part less significant.

http://img.skitch.com/20100214-cqfnt4cqtjj9qneccmj5s94i8m.png

Removing "/category" might only improve click throughs by 10 or 20%, but there are some people I know who would kill for such an easy improvement.

There are also times that URLs are so long they are truncated in context or abbreviated, i.e. you might see the following where #1 was short enough but #2 was not:

#1 - http://example.com/news/
#2 - http://example.com/categor...

Since you mentioned SEO, there's lots of collective wisdom about keeping URLs shorter than longer, just google for "url length seo", i.e. 

-- Here is one more evidence in favor of short URL: recent research shows that short URLs within Google SERPs get clicked twice as often as long ones (from http://www.searchenginejournal.com/seo-best-practices-for-url-structure/7216/)

-- The result is very conclusive. Both leading search engines rank sites having URLs between 11 and 30 characters (inclusive) much higher than any other URL length studied! (from http://www.ezau.com/latest/articles/0155.shtml)
 

>> A friend of mine disagreed with me about the importance of URLs as you
>> did. But he recently agreed to try well designed URLs.
> 
> I didn't say that URL design isn't an important part of an overall strategy.
> What I said, and I quote, is: "My site URLs could be all written in a dead
> language, and it shouldn't matter to my visitors." and I am 100% right about
> that, you can't prove me wrong.

Correct, you can't prove such things as stated.

> I didn't say it wouldn't help with
> marketing, SEO or any number of other subjects, what I said is that I could
> do as mentioned, and it shouldn't matter to my visitors once they are on my
> site. They don't navigate via URL. They navigate via the user interface
> provided by the site.

Do you know that for a fact?

What you are saying is that I'll never use your site nor will anyone else who frequently navigates via URL. Do you really believe know that nobody who often prefers to navigate via URL would ever use your site?

Another reason I navigate with URLs; when I find a broken or mistyped link on a site.  Well designed URLs are also helpful when trying to understand where the current page is within a site's architecture.

Yes your site (http://mark.watero.us/) is simple so maybe it really doesn't need better URL routing (except for at http://mark.watero.us/category/ and http://mark.watero.us/tag/), it's a blog after all. But there are many other WordPress sites that are more complicated and that can make great use of better URL design. Just look at http://wordpress.org/showcase/ for many such examples.

Bottom line you might not personally think it is important but to many it is otherwise there wouldn't constantly be people coming to the list to ask it to be improved.

-Mike

From admin at wpkid.com  Mon Feb 15 00:15:43 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Mon, 15 Feb 2010 00:15:43 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>
	<000a01caadbf$6ba75e50$42f61af0$@us>
Message-ID: <37DF6255071A47269C2054973E63128B@davidhr5m957yn>

Sunday, February 14, 2010 9:48 PM mark waterous Wrote:
> This debate has encompassed well over half of the posts on the list 
> lately,
> and I'm not entirely sure how it's been let go on this long.

Yes, and there must be a particular reason it's this long, and nobody has 
said we've to stop which I think would be quite silly at the end of the day, 
isn't this WHY the list was created, or have I got that possibly wrong too?

> Having /category/ in your URL does NOT affect your SEO. If that's the 
> entirety
> of your SEO strategy, you need to go back to your books and start studying
> again. Having /category/ in your URL does NOT affect your sites 
> navigation.

Right, OK, hang on a minute ... WHEN and WHERE did I say that having 
/category/ in my URL affects your SEO? That'll be because I *never* said 
such a thing, right now onto your second point!

Let's show a couple of examples, Example #1:

/ (Obviously home!)
/about/ (That'll be the About Me page)
/category/portfolio/ (Any ideas? - Yeah, the Portfolio category)
/category/blog/ (The Blog category)
/contact/ (So thats the Contact Me page)

And onto Example #2;

/ (Again home)
/about/ (Again the About Me page)
/portfolio/ (Yes, it's the Portfolio Category, looking much better)
/category/ (Damn, that's a bit of a pain, 404 error, but I dont want to link 
to the blog!)
/contact/ (And the same old Contact Me page)

So, please do tell, are you an Example #1 fan or an Example #2 fan? I'll let 
you know where I am, I'm in the Example #2 group, as with many others.

> If your visitors are having to rewrite the URL and guess at what may or 
> may
> not lead them to a new section of the site via personal attention to said
> URL, you have failed at designing your site. This is not WordPress' fault,
> this is your fault. 100% of a web sites visitors should not have to rely 
> on
> browser supplied navigation techniques to traverse your pages, regardless 
> of
> their technical knowledge.

Eh, and when did I say anything like that either? So what you're really 
trying to say is that it's *my* fault WordPress doesn't do anything with 
/category/ and it's *my* fault/stupidity to even think about linking to 
it? - Just because you don't, it doesn't mean many other out there are going 
to follow you, they might want to follow my option!

> There are far more important things that the WordPress core developers 
> could
> and should be working on than this.

I'd disagree, I think this is important in itself! 


From admin at wpkid.com  Mon Feb 15 00:23:23 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Mon, 15 Feb 2010 00:23:23 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn>	<D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us><7C6F0D3D-B6D3-4EDC-90D0-B0D895DEBFCF@newclarity.net><000f01caadc6$5b782210$12686630$@us>
	<F4C1F863-FF3B-4385-9880-74AFCED2FF51@newclarity.net>
Message-ID: <41083A5E59C741A585C180D735492F0A@davidhr5m957yn>

Sunday, February 14, 2010 11:23 PM Mike Schinkel Wrote:
> Bottom line you might not personally think it is important but to
> many it is otherwise there wouldn't constantly be people coming
> to the list to ask it to be improved.

Tell me about it, if it wasn't popular, nobody would respond! :)

From lists at hikarinet.info  Sun Feb 14 10:11:04 2010
From: lists at hikarinet.info (Hikari)
Date: Sun, 14 Feb 2010 08:11:04 -0200
Subject: [wp-hackers] Re :How to share WordPress posts across multiple
	blogs
References: <13eb5f331002140144p561c2584x9d3987651e59a90@mail.gmail.com>
Message-ID: <820CA10E36F2415CAB8B133220B9EA44@MAIN>

In your description, it's more like using categories as subdomains. This implies SEO matters too. And IDK now to do it, I've wanted 
long ago but gave up.


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br


----- Original Message ----- 
From: "pradipta sinha" <singh.gabu at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Sunday, 14 February, 2010 7:44 AM
Subject: [wp-hackers] Re :How to share WordPress posts across multiple blogs


|
| For say, I have a wordpress blog classified.com with a classified/auction
| etc
| Now when anyone join he get the two option ,Free/Paid
| Free members are only show ads ,can not make a post[Subscriber]
| Paid members are by default contributor role or author role, i.e. he/she can
| create ads or post,
| Now The main tweaks is I have another numbers of subdomain like
| *auto.classified.com* , *medicalspa.classified.com* etc,
| ANd i want to give the paid user a ability that when he add any post in a
| category named *AUTO* in main domain[classified.com] ,the post will
| automatically inserted or may be just display in auto.classifieds.com
|
| So is that possible ?
| and how can i run multiple blogs with a single code base ? and I cant get it
| *Dion* , 


From mark at watero.us  Mon Feb 15 01:52:12 2010
From: mark at watero.us (mark waterous)
Date: Sun, 14 Feb 2010 17:52:12 -0800
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <37DF6255071A47269C2054973E63128B@davidhr5m957yn>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us>
	<37DF6255071A47269C2054973E63128B@davidhr5m957yn>
Message-ID: <001201caade1$85a6abe0$90f403a0$@us>

> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-
> bounces at lists.automattic.com] On Behalf Of Mark McWilliams
> Sent: Sunday, February 14, 2010 4:16 PM
> To: wp-hackers at lists.automattic.com
> 
> So, please do tell, are you an Example #1 fan or an Example #2 fan?
> I'll let you know where I am, I'm in the Example #2 group, as with
> many others.

It doesn't matter which group anybody is in. Neither is of more or less
benefit than the other. The difference is so minute, and the arguments so
hashed over that I'm bowing out of this conversation after this.

> Eh, and when did I say anything like that either? So what you're really
> trying to say is that it's *my* fault WordPress doesn't do anything
> with /category/ and it's *my* fault/stupidity to even think about linking
to
> it? - Just because you don't, it doesn't mean many other out there are
> going to follow you, they might want to follow my option!

My point was simple: Your visitors should have NO need to be trying to find
pages on your site by altering the URL they are currently visiting. By
'your', just to be clear on this, I mean anybody who runs a web site, not
just you and Mike. If a visitor has to alter the URL in any way to find a
page, then your site has failed in providing an adequate navigation
structure to begin with, and no amount of user friendly control over the URL
is going to save your visitors from leaving.

As many people have pointed out, if this is that important to you, create
some rewrite rules or a plugin to provide the functionality you require. The
reason it is discussed for this long is not because the larger majority of
WordPress users out there want it, it is because a small crowd of dissidents
won't stop arguing the same points OVER and over and OVER again.

> I'd disagree, I think this is important in itself!

We all have that option. I'm not on anybody's side, I'm just happy that
they're concerned with other things than this.

--
Mark Waterous
http://mark.watero.us/
(mark at watero.us)


From lists at hikarinet.info  Mon Feb 15 01:35:24 2010
From: lists at hikarinet.info (Hikari)
Date: Sun, 14 Feb 2010 23:35:24 -0200
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas
	InAndAroundTheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn><4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com><8AFD2D16110245188F18B2112D94C984@davidhr5m957yn><D75B93A9-37DE-408C-A2A8-BC40096A46F3@cefm.ca><AC13BA7EC2054B219AC751B21BB0F5B1@davidhr5m957yn><op.u73ldvsbspxmuu@ho.st><BFBBCE28-F10B-4B13-B6BF-012198885825@newclarity.net>
	<BFC970FE-5C33-4813-92F6-F486E0D27288@newclarity.net>
Message-ID: <CC3670BA139A456BB3B288C13C24E99A@MAIN>



----- Original Message ----- 
From: "Mike Schinkel" <mikeschinkel at newclarity.net>
Sent: Sunday, 14 February, 2010 2:03 PM


| After thinking about this a bit, I'd like the through out the following
| trawman: why don't we consider deprecating wp_terms and using
| p_posts with a post type of "taxonomy_term" instead?  That would
| ddress numerous concerns; streamline URL routing for taxonomy as
| well as give taxonomy terms descriptions and meta data.  Hmmm?

Do you mean, do this change to to make URL parsing easier?

If it was to make any change in database, I believe it would be better to just have a permalink table and have permalinks static. 
When structure was to be changed, just run a routine adding new rows to the table.


Something like this exemple, each row having these fields:

PK: INT, permalink ID
FK: INT, resource ID
Unique: VARCHAR, permalink


Having a small table only to deal with permalinks, we would have all we need in a unique table, AND parsing would be much faster.

There could be another field, pointing which permalink is the main one. Each resource could have multiple valid permalinks, but when 
an option was enable,  any other permalink other than the main one would make a 301 redirect to it.

Or maybe that field would remain in each resource table. Once the resource is found, just get the main permalink ID and if it's 
different from the found permalink just redirect the the main one.


That would also solve permalink structure changes. Just add new rows for the new structure and set them as main. And also support 
ShortURL, a plugin could be developed to automatically generate ShortURL for created resources, and just add it to the table. When a 
ShortURL was used, it would redirect to the main permalink.

And another plugin could be developed, creating another table with stats info, referencing this table. When structure changed, stats 
would instantly automatically be able to figger where the URL is pointing, and bind stats to the resource and not to the URL, that 
may change throu time.

Having permalinks info centered in a unique place opens a wide range of possibilities. And working with database is easier than 
working with rewrite rules :P


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br 


From lists at hikarinet.info  Mon Feb 15 01:43:24 2010
From: lists at hikarinet.info (Hikari)
Date: Sun, 14 Feb 2010 23:43:24 -0200
Subject: [wp-hackers] Some Thoughts/Enhancement
	IdeasInAndAroundTheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com><C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net><5892EAE068FE4C94B56F19624082834C@MAIN><52B5489EAFF34FE4A29834DF80B97A50@davidhr5m957yn><B56D7A2E4AD24657801A8807A7374E1D@MAIN>
	<DDB64CF294054B74B1A2F070A3A49E5B@davidhr5m957yn>
Message-ID: <9D6E49D3DDFE4CAC80EAF37078611981@MAIN>


----- Original Message ----- 
From: "Mark McWilliams" <admin at wpkid.com>
Sent: Sunday, 14 February, 2010 3:42 PM


| > A plugin could be developed to solve that need, removing page
| > parsing, removing pages reference from admin UI and so on. And
| > of course removing cat base, and everything would be set.
|
| I'm sure an option could be built into WordPress, instead of a plugin, thus
| further enhancing the CMS and making it more powerful! It might be you have
| 1 page setup, call it /contact/, well that can be 'hardcoded' in being the
| only page setup on the site? :)


hahaha a hardcoded page is funny :P

I don't like adding complex features to core. Plugin works pretty fine, and we can disable it when it's not needed.

Modularity FTW


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br 


From lists at hikarinet.info  Mon Feb 15 01:51:52 2010
From: lists at hikarinet.info (Hikari)
Date: Sun, 14 Feb 2010 23:51:52 -0200
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
	AroundTheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com><C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>
	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn>
Message-ID: <F10BD5A6089D4F538B2E8D23C249AF4B@MAIN>


----- Original Message ----- 
From: "Mark McWilliams" <admin at wpkid.com>
Sent: Sunday, 14 February, 2010 3:49 PM


| Wednesday, February 10, 2010 7:27 PM Mike Schinkel Wrote:
| > Bottom line, a site publisher will be better off if they have control to
| > optimize their URL structure.  One of WordPress' biggest current
| > weaknesses is the difficulty of control URL structure.
|
| At the end of the day, you want to setup your site so that it appeals to
| visitors, and is easy to navigate for them! You don't want to link to
| /category/announcements/ in the navigation, you want to like to
| /announcements/ which is just common sense. So yes, it's one of WP's current
| weaknesses! :(


And another one is the lack of a powerful menus generator, but let's not offtopic the thread :P


Because of the complexity of the core code, it's hard to expand permalink features, it's as if we had to fix something that 
shouldn't need a fix.

We can remove cat base, but only if we have few cats and pages. It's not expandable.

I believe everybody already read a famous post explaining that a badly formed permalink structure makes Wordpress start storing 
permalinks inside wp-options, which is pretty much the table idea I said, but instead of a table it uses a row, which is also not 
expandable.

Custom Permalink plugin can be used to fix that, but it also uses wp-options for taxonomy, it's ugly how it must load an array, edit 
it and store it back. Also not expandable, it is only a solution for exceptions. And I also doubt it's able to run prior to rewrite 
rules.

We need a simpler and dry base to work upon. With this complex permalink code, if something is against what we want we hardly can 
change it.


BTW, I have an abandoned plugin related to this subject I need help to fix, I'm gonna start a new thread for it :)



---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br 


From lists at hikarinet.info  Mon Feb 15 02:22:15 2010
From: lists at hikarinet.info (Hikari)
Date: Mon, 15 Feb 2010 00:22:15 -0200
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>
	<000a01caadbf$6ba75e50$42f61af0$@us>
Message-ID: <D02291879F5B45B5AFD4158F5EE562D9@MAIN>



----- Original Message ----- 
From: "mark waterous" <mark at watero.us>
Sent: Sunday, 14 February, 2010 7:48 PM

| This debate has encompassed well over half of the posts on the list lately,
| and I'm not entirely sure how it's been let go on this long. Having
| /category/ in your URL does NOT affect your SEO. If that's the entirety of
| your SEO strategy, you need to go back to your books and start studying
| again. Having /category/ in your URL does NOT affect your sites navigation.
| Period.


This is not related to SEO. It's related to anybody being or not able to use anything he wants on his URL.

If you have a client, he is paying you to have a wacko URL structure. He wants that and if you don't do so he'll look for another 
professional. What to do?

There shouldn't even need a reason, we should be able to use anything we want. Even if it's ugly or bad for SEO.

The site is mine and I wanna structure it as I want. We shouldn't be forced to use a useless (for us) string just to solve somebody 
else needs. Wordpress shouldn't limit our possibilities. Period :P



| If your visitors are having to rewrite the URL and guess at what may or may
| not lead them to a new section of the site via personal attention to said
| URL, you have failed at designing your site. This is not WordPress' fault,
| this is your fault. 100% of a web sites visitors should not have to rely on
| browser supplied navigation techniques to traverse your pages, regardless of
| their technical knowledge.


Yes, ppl should be presented with links to all resources they want and not need to browse the URL.

But it also doesn't give Wordpress premission to force us to use a larger URL than needed just because how it detects what a URL is 
referencing.

Wordpress  techies shouldn't also be excuse to limit what we wanna use.



| There are far more important things that the WordPress core developers could
| and should be working on than this.

Agreed too. So just take the code out from the core and pass it to a Core Plugin, and they won't need to worry with it anymore ;)


| My site URLs could be all written in a dead language, and it shouldn't
| matter to my visitors.

But if it has a meaning and we can structure it anyway we want, much better!



See, we should have the freedom to use anything we want. Who is satisfied should remain so, and who is not should have an easier way 
to implement what they need.


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br 


From lists at hikarinet.info  Mon Feb 15 02:33:04 2010
From: lists at hikarinet.info (Hikari)
Date: Mon, 15 Feb 2010 00:33:04 -0200
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us><37DF6255071A47269C2054973E63128B@davidhr5m957yn>
	<001201caade1$85a6abe0$90f403a0$@us>
Message-ID: <4B6DA1914845429ABBBF8ED326E57ED8@MAIN>



----- Original Message ----- 
From: "mark waterous" <mark at watero.us>
Sent: Sunday, 14 February, 2010 11:52 PM




| It doesn't matter which group anybody is in. Neither is of more or less
| benefit than the other. The difference is so minute, and the arguments so
| hashed over that I'm bowing out of this conversation after this.

We shouldn't need arguments at all. Let each one free to use anything he wants on his site's URLs. Somebody 
needs/ideas/opinions/likings shouldn't overpower sobody else's



| We all have that option. I'm not on anybody's side, I'm just happy that
| they're concerned with other things than this.

I'm on freedom of choice's side.

And I'm more concerned with permalinks and menus than with multisites  :P (which need was already being supplied BTW)



---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br 


From lists at hikarinet.info  Mon Feb 15 03:09:53 2010
From: lists at hikarinet.info (Hikari)
Date: Mon, 15 Feb 2010 01:09:53 -0200
Subject: [wp-hackers] Help to fix orphaned plugin
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn><4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com><8AFD2D16110245188F18B2112D94C984@davidhr5m957yn><D75B93A9-37DE-408C-A2A8-BC40096A46F3@cefm.ca><AC13BA7EC2054B219AC751B21BB0F5B1@davidhr5m957yn>
	<90E1D2246B784AB3B2E55A319DDA71D2@MAIN>
Message-ID: <E1E7942A2FDF4F039805AA81CA40D625@MAIN>

Hello guys, as a coincidence I'm having trouble with a plugin whose author is not accessible. It's essencial for my sites and I'm 
not able to fix it.

The plugin is sCategory Permalink: http://wordpress.org/extend/plugins/scategory-permalink/

It's on version 0.6.2, but I'm still using 0.3.0.



- 0.3.0 would be perfect if it didn't have a bug: comments pages return 404, so comments can't be breaken on pages.

- 0.4.0 fix this bug, but this version generates 404 for any permalink that uses %scategory% in it

- any other version after 0.4.0 has the same 404 bug, only 0.3.0 works



Well, I've tried everything. Disabled and re-enabled permalinks a lot of times, tried all kinds of permalinks. As soon as I remove 
%scategory% from permalink posts start back working. As soon as I add %scategory% back 404 is back too.

I decided to concentrate on 0.3.0 to 0.4.0 differences because they are almost the same.



There are basically 2 changes on these versions, one of them must be creating the 404 bug:

1) The following function is moved from 'post_rewrite_rules' filer to 'init' action:

0.3.0:

function addRewriteRules($rewrite) {
    global $wp_rewrite;
    $wp_rewrite->add_rewrite_tag('%scategory%', '(.+?)', 'category_name=');

    $scategory_structure = $wp_rewrite->root . "%scategory%/%postname%";

    $structure = ltrim($wp_rewrite->permalink_structure, '/');
    if (0 === strpos($structure, '%scategory%'))
        $wp_rewrite->use_verbose_page_rules = true;

    return array_merge($rewrite, $wp_rewrite->generate_rewrite_rules($scategory_structure));
}


0.4.0:

function addRewriteRules() {
    global $wp_rewrite;
    $wp_rewrite->add_rewrite_tag('%scategory%', '(.+?)', 'category_name=');
}




2) this new function, added to 0.4.0, hooked to 'post_rewrite_rules' filter:

function setVerbosePageRules($post_rewrite) {
    global $wp_rewrite;
    if (preg_match("/^[^%]*%scategory%/", $wp_rewrite->permalink_structure) )
        $wp_rewrite->use_verbose_page_rules = true;

    return $post_rewrite;
}





The lack of comments explaining what he is doing makes it harder to understand. IDK why he split the old function into 2 and moved 
part of it to 'init'. What he wanted to do and consequences.

I'm also not able to distinguish what part of code is fixing comment pages bug, and where permalink bug may be happening.

Any help will be very much appreciated.


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br


From mark at watero.us  Mon Feb 15 03:34:06 2010
From: mark at watero.us (mark waterous)
Date: Sun, 14 Feb 2010 19:34:06 -0800
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
	Around	TheCategory Side Of Things
In-Reply-To: <D02291879F5B45B5AFD4158F5EE562D9@MAIN>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us>
	<D02291879F5B45B5AFD4158F5EE562D9@MAIN>
Message-ID: <001301caadef$cd905e20$68b11a60$@us>

> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-
> bounces at lists.automattic.com] On Behalf Of Hikari
> Sent: Sunday, February 14, 2010 6:22 PM
> To: wp-hackers at lists.automattic.com
>
> There shouldn't even need a reason, we should be able to use anything
> we want. Even if it's ugly or bad for SEO.

I think that's what everybody is missing. You can. Just because WordPress
doesn't dumb it down and make it a one-click-fix doesn't mean you can't.

And yes, there should be a reason. There's no reason why my car shouldn't
turn on when I'm approaching, stop on its own if somebody is crossing the
road, and massage my feet on long drives, but it doesn't. 


> The site is mine and I wanna structure it as I want. We shouldn't be
> forced to use a useless (for us) string just to solve somebody
> else needs. Wordpress shouldn't limit our possibilities. Period :P

Custom taxonomies should work like namespaces. If you have three taxonomies,
such as 'Post', 'Category', and 'Links', these are by definition three
separate entities. Under any of these you should be able to repeatedly use a
single slug (since each should act as its own namespace), such as
'custom-entry'.

Now you have three urls;

http://yoursite.com/post/custom-entry
http://yoursite.com/category/custom-entry
http://yoursite.com/link/custom-entry

These are easily readable, no they're not 10 characters long, but who cares.
They also readily define what you're looking at. The first is a post, the
second is a category, the third is a link.

Now we remove these. Your url is http://yoursite.com/custom-entry which
makes a couple people happier. How does WordPress tell whether you were
looking for the post custom-entry, or the category, or the link, or any
number of possible custom taxonomies? I guess what we should be really
arguing here is the fact that WordPress doesn't have psychic abilities in
the core.

The fact of the matter is right now you have to use a unique slug,
independent of what taxonomy the object belongs to. This doesn't mean we
should further break the system by adding unnecessary functionality.

WordPress shouldn't have to build control panels for every possible
scenario, it's just not probable or intelligent, not when you can accomplish
this on your own. The documentation on how to do it can be found here:
http://httpd.apache.org/docs/1.3/mod/mod_rewrite.html (that url broken down
is documentation -> v1.3 -> modules -> mod_rewrite, but I suppose they could
lose the unnecessary /docs/ :D ), or here:
http://redmine.lighttpd.net/wiki/lighttpd/docs:modrewrite, or here:
http://wiki.nginx.org/NginxHttpRewriteModule 



From lists at hikarinet.info  Mon Feb 15 05:16:56 2010
From: lists at hikarinet.info (Hikari)
Date: Mon, 15 Feb 2010 03:16:56 -0200
Subject: [wp-hackers] Help to fix orphaned plugin
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn><4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com><8AFD2D16110245188F18B2112D94C984@davidhr5m957yn><D75B93A9-37DE-408C-A2A8-BC40096A46F3@cefm.ca><AC13BA7EC2054B219AC751B21BB0F5B1@davidhr5m957yn><90E1D2246B784AB3B2E55A319DDA71D2@MAIN>
	<E1E7942A2FDF4F039805AA81CA40D625@MAIN>
Message-ID: <FF806172CE524BFE9DB19DF81253E31E@MAIN>

Ok, now I'm cool I tried again, searched on WP doc and verified its source. Now I understand a bit better how rewrite rule works and 
narrowed down the source of the bug.


First of all, here's my permalink:
/%scategory%/%post_id%/%postname%/

/%scategory% is added by the plugin



v0.3.0 had this code in a function hooked to filter 'post_rewrite_rules':

{
...

    $scategory_structure = $wp_rewrite->root . "%scategory%/%postname%";
    return array_merge($rewrite, $wp_rewrite->generate_rewrite_rules($scategory_structure));
}



THIS array_merge was removed from later versions. I have no idea what it does exactaly, but adding it back fixes the bug of posts 
returning 404.

Apparently it is also the cause of paged comments returning 404, and maybe that's why the author removed it. But without it, ANY 
permalink I try that uses /%scategory% anywhere will always generate 404 for posts.


I was only able to understand that generate_rewrite_rules() is the main function for generating all rewrite rules, but I can't 
understand what its other parameters mean, and I have no idea why adding "%scategory%/%postname%" to rewrite rules is required to 
make sCategory works, or why it's only needed on my 2 sites (if author removed it and released a few versions later, I suppose the 
bug doesn't happen with him).


Is anybody able to understand it and would help me find a way to make the new rewrite tag works without breaking comments pages?


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br


----- Original Message ----- 
From: "Hikari" <lists at hikarinet.info>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, 15 February, 2010 1:09 AM
Subject: [wp-hackers] Help to fix orphaned plugin


Hello guys, as a coincidence I'm having trouble with a plugin whose author is not accessible. It's essencial for my sites and I'm
not able to fix it.

The plugin is sCategory Permalink: http://wordpress.org/extend/plugins/scategory-permalink/

It's on version 0.6.2, but I'm still using 0.3.0.



- 0.3.0 would be perfect if it didn't have a bug: comments pages return 404, so comments can't be breaken on pages.

- 0.4.0 fix this bug, but this version generates 404 for any permalink that uses %scategory% in it

- any other version after 0.4.0 has the same 404 bug, only 0.3.0 works



Well, I've tried everything. Disabled and re-enabled permalinks a lot of times, tried all kinds of permalinks. As soon as I remove
%scategory% from permalink posts start back working. As soon as I add %scategory% back 404 is back too.

I decided to concentrate on 0.3.0 to 0.4.0 differences because they are almost the same.



There are basically 2 changes on these versions, one of them must be creating the 404 bug:

1) The following function is moved from 'post_rewrite_rules' filer to 'init' action:

0.3.0:

function addRewriteRules($rewrite) {
    global $wp_rewrite;
    $wp_rewrite->add_rewrite_tag('%scategory%', '(.+?)', 'category_name=');

    $scategory_structure = $wp_rewrite->root . "%scategory%/%postname%";

    $structure = ltrim($wp_rewrite->permalink_structure, '/');
    if (0 === strpos($structure, '%scategory%'))
        $wp_rewrite->use_verbose_page_rules = true;

    return array_merge($rewrite, $wp_rewrite->generate_rewrite_rules($scategory_structure));
}


0.4.0:

function addRewriteRules() {
    global $wp_rewrite;
    $wp_rewrite->add_rewrite_tag('%scategory%', '(.+?)', 'category_name=');
}




2) this new function, added to 0.4.0, hooked to 'post_rewrite_rules' filter:

function setVerbosePageRules($post_rewrite) {
    global $wp_rewrite;
    if (preg_match("/^[^%]*%scategory%/", $wp_rewrite->permalink_structure) )
        $wp_rewrite->use_verbose_page_rules = true;

    return $post_rewrite;
}





The lack of comments explaining what he is doing makes it harder to understand. IDK why he split the old function into 2 and moved
part of it to 'init'. What he wanted to do and consequences.

I'm also not able to distinguish what part of code is fixing comment pages bug, and where permalink bug may be happening.

Any help will be very much appreciated.



From lists at hikarinet.info  Mon Feb 15 06:32:14 2010
From: lists at hikarinet.info (Hikari)
Date: Mon, 15 Feb 2010 04:32:14 -0200
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In
	AndAround	TheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us><D02291879F5B45B5AFD4158F5EE562D9@MAIN>
	<001301caadef$cd905e20$68b11a60$@us>
Message-ID: <1AEDAE59921F49EA9D2184F66DCD5BFB@MAIN>


----- Original Message ----- 
From: "mark waterous" <mark at watero.us>
Sent: Monday, 15 February, 2010 1:34 AM


| I think that's what everybody is missing. You can. Just because WordPress
| doesn't dumb it down and make it a one-click-fix doesn't mean you can't.

But if it was simpler, then...?


| And yes, there should be a reason. There's no reason why my car shouldn't
| turn on when I'm approaching, stop on its own if somebody is crossing the
| road, and massage my feet on long drives, but it doesn't.


-.-
What I mean is that we shouldn't have to justify ourselves about why we wanna do something different from Wordpress's default.

If somebody, regardless the reason, don't wanna have cat base on URL, he should just be allowed to.

And since cat base is just a fix to a performance problem, that problem should be removed so that the fix is not needed anymore.


Instead of discussing "my need is more important than yours", "how much do you need it", "why would you want it off it it's just a 
few string and you can use anything there", just set the feature that adds the performance problem as an option. And whoever 
preferes not using it and having cat base gone, will be happy.




| > The site is mine and I wanna structure it as I want. We shouldn't be
| > forced to use a useless (for us) string just to solve somebody
| > else needs. Wordpress shouldn't limit our possibilities. Period :P
|
| Custom taxonomies should work like namespaces. If you have three taxonomies,
| such as 'Post', 'Category', and 'Links', these are by definition three
| separate entities. Under any of these you should be able to repeatedly use a
| single slug (since each should act as its own namespace), such as
| 'custom-entry'.
|
| Now you have three urls;
|
| http://yoursite.com/post/custom-entry
| http://yoursite.com/category/custom-entry
| http://yoursite.com/link/custom-entry
|
| These are easily readable, no they're not 10 characters long, but who cares.
| They also readily define what you're looking at. The first is a post, the
| second is a category, the third is a link.
|
| Now we remove these. Your url is http://yoursite.com/custom-entry which
| makes a couple people happier. How does WordPress tell whether you were
| looking for the post custom-entry, or the category, or the link, or any
| number of possible custom taxonomies? I guess what we should be really
| arguing here is the fact that WordPress doesn't have psychic abilities in
| the core.

Set Category as default, then http://yoursite.com/custom-entry  will mean it's a category :P


You see, that's a problem that would need a solution, but a problem that not everybody would have.

If somebody has a need of "Have groups that will group posts, and these groups will have top visibility on front page". Now explain 
that the URL for all these groups will require a repeated string, making its URL larger.

Heck, somebody may quit Wordpress just because of that. "Just let me have the URL I want, why must that be so difficult???"



Now the questions: why that SHOULDN'T be done, WITHOUT performance penalties?
Why we can't have post permalinks starting with letters without performance penalties?
Why is permalink structure being limited for somebody that don't want it being dymanically parsed?
WHY have it being dynamically parsed at all if they rarely change after being created??

:P

| This doesn't mean we
| should further break the system by adding unnecessary functionality.

This shouldn't mean we'd need to break the system at all.

The system should be clean, simple, fast and expandable (want an exemple? hook system!). And then we develop plugins over it to 
solve our needs.


Of course, a one-author plugin doing the job of the rewrite rule would be ruge and the author would abandon it soon, or start 
charging for it.

But really, there are more ppl wanting to remove cat base or any other change in permalink system than ppl needing a dynamic 
permalink. I assure you most Wordpress users don't even know it's dynamic and structure can be easily changed.



| WordPress shouldn't have to build control panels for every possible
| scenario, it's just not probable or intelligent, not when you can accomplish
| this on your own.

For sure shouldn't. Leave it for plugins ;)




---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br 


From mark at watero.us  Mon Feb 15 07:47:33 2010
From: mark at watero.us (mark waterous)
Date: Sun, 14 Feb 2010 23:47:33 -0800
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas
	In	AndAround	TheCategory Side Of Things
In-Reply-To: <1AEDAE59921F49EA9D2184F66DCD5BFB@MAIN>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us><D02291879F5B45B5AFD4158F5EE562D9@MAIN>	<001301caadef$cd905e20$68b11a60$@us>
	<1AEDAE59921F49EA9D2184F66DCD5BFB@MAIN>
Message-ID: <001501caae13$255e2920$701a7b60$@us>

> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-
> bounces at lists.automattic.com] On Behalf Of Hikari
> Sent: Sunday, February 14, 2010 10:32 PM
> To: wp-hackers at lists.automattic.com
> 
> 
> What I mean is that we shouldn't have to justify ourselves about why we
> wanna do something different from Wordpress's default.

I understand where you're coming from, but I disagree. The core developers
have a lot of existing systems to maintain, a huge trac to deal with and
probably a mile long list of features that they would like to implement.
They're talented coders, but they aren't robots - they can't just implement
every request simply because it was requested. Justification is necessary to
determine a variety of factors such as how many people is this going to
benefit? How is it going to interact with current systems? Is it just going
to bloat core when a plugin could handle it? So on and so forth.

--
Mark Waterous
http://mark.watero.us/
(mark at watero.us)


From jeremy at visser.name  Mon Feb 15 11:14:54 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Mon, 15 Feb 2010 22:14:54 +1100
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
 Around	TheCategory Side Of Things
In-Reply-To: <4B6DA1914845429ABBBF8ED326E57ED8@MAIN>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us><37DF6255071A47269C2054973E63128B@davidhr5m957yn>	<001201caade1$85a6abe0$90f403a0$@us>
	<4B6DA1914845429ABBBF8ED326E57ED8@MAIN>
Message-ID: <4B792CAE.2000406@visser.name>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 15/02/10 13:33, Hikari wrote:
> We shouldn't need arguments at all. Let each one free to use anything
> he wants on his site's URLs. Somebody needs/ideas/opinions/likings
> shouldn't overpower sobody else's
> 
> I'm on freedom of choice's side.

That's cool.

But only if you can be the maintainer of the unit tests as well.

:)

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iEYEARECAAYFAkt5LKkACgkQvs6Qqs8TxBqZNACfVvJgZ6ozj8FZo2AdNUJsAI6i
Xi4AoNTazW3VMYwc/zj18AuMvDRKNTjM
=eGvo
-----END PGP SIGNATURE-----

From wp-hackers at striderweb.com  Mon Feb 15 13:52:06 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon, 15 Feb 2010 07:52:06 -0600
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In
	AndAround	TheCategory Side Of Things
In-Reply-To: <1AEDAE59921F49EA9D2184F66DCD5BFB@MAIN>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us><D02291879F5B45B5AFD4158F5EE562D9@MAIN>
	<001301caadef$cd905e20$68b11a60$@us>
	<1AEDAE59921F49EA9D2184F66DCD5BFB@MAIN>
Message-ID: <3E62ADA0-B8FE-46ED-A2B3-DE327F6864E0@striderweb.com>


On Feb 15, 2010, at 12:32 AM, Hikari wrote:

> What I mean is that we shouldn't have to justify ourselves about why we wanna do something different from Wordpress's default.
> 
> ...
> And since cat base is just a fix to a performance problem, that problem should be removed so that the fix is not needed anymore.

Feel free to submit a patch that "just removes the problem so that the fix is not needed anymore".  Oh, and doesn't break anything on existing installs.

It's great to talk about what you want, but somebody somewhere has to code it.  Thus the debates about how important it is, so that somebody somewhere decides its worth actually doing.

And more times than not, if it can be done with a plugin, it's left to plugin authors.

Stephen

From otto at ottodestruct.com  Mon Feb 15 15:20:34 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 15 Feb 2010 09:20:34 -0600
Subject: [wp-hackers] Error handling in WordPress
In-Reply-To: <9C61058D-EB23-42FA-A456-41A666EC450B@gmail.com>
References: <9C61058D-EB23-42FA-A456-41A666EC450B@gmail.com>
Message-ID: <161617691002150720v65d9d376ha1db6b5210e3fd0a@mail.gmail.com>

On Sat, Feb 13, 2010 at 11:11 AM, John Eckman <eckman.john at gmail.com> wrote:
> Does one set a message to be displayed in the admin dashboard? How?

add_action('admin_notices', 'create_error');
function create_error() { ?>
<div class="error"><p>This is an error message.</p></div>
<?php
}


-Otto

From jer at simianuprising.com  Mon Feb 15 17:06:58 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 15 Feb 2010 12:06:58 -0500
Subject: [wp-hackers] Query by multiple custom fields/taxonomies,
	MySQL 	LIMIT
In-Reply-To: <349fe48b1002121419o135e852ei421297d6f246a589@mail.gmail.com>
References: <87206A62-AA09-44AD-BE70-EFA52A1B1C91@emrl.com>
	<349fe48b1002121419o135e852ei421297d6f246a589@mail.gmail.com>
Message-ID: <e1202cb11002150906m360c0754t261ffe3fe85ec6e3@mail.gmail.com>

On Fri, Feb 12, 2010 at 5:19 PM, scribu <scribu at gmail.com> wrote:
> For querying by multiple taxonomies:
>
> http://wordpress.org/extend/plugins/query-multiple-taxonomies/

Scribu, is there a reason you didn't make this a patch for core? It
really seems more like a hole in the implementation than something
that should require a plugin. If it was part of the standard query
system then it would also work with post_type=page. This is pretty
core functionality that you wouldn't want to lose if something
happened to the plugin.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From scribu at gmail.com  Mon Feb 15 17:25:01 2010
From: scribu at gmail.com (scribu)
Date: Mon, 15 Feb 2010 19:25:01 +0200
Subject: [wp-hackers] Query by multiple custom fields/taxonomies,
	MySQL 	LIMIT
In-Reply-To: <e1202cb11002150906m360c0754t261ffe3fe85ec6e3@mail.gmail.com>
References: <87206A62-AA09-44AD-BE70-EFA52A1B1C91@emrl.com>
	<349fe48b1002121419o135e852ei421297d6f246a589@mail.gmail.com>
	<e1202cb11002150906m360c0754t261ffe3fe85ec6e3@mail.gmail.com>
Message-ID: <349fe48b1002150925r3beae09bse3a120e2071d159d@mail.gmail.com>

On Mon, Feb 15, 2010 at 7:06 PM, Jeremy Clarke <jer at simianuprising.com>wrote:

> On Fri, Feb 12, 2010 at 5:19 PM, scribu <scribu at gmail.com> wrote:
> > For querying by multiple taxonomies:
> >
> > http://wordpress.org/extend/plugins/query-multiple-taxonomies/
>
> Scribu, is there a reason you didn't make this a patch for core? It
> really seems more like a hole in the implementation than something
> that should require a plugin. If it was part of the standard query
> system then it would also work with post_type=page. This is pretty
> core functionality that you wouldn't want to lose if something
> happened to the plugin.
>


I simply didn't have the patience to look for just the right place to stick
it in WP_Query.

There's an ambitious ticket for it, though:

http://core.trac.wordpress.org/ticket/9951


-- 
http://scribu.net

From tech at johannes-ruthenberg.de  Mon Feb 15 18:10:04 2010
From: tech at johannes-ruthenberg.de (Johannes Ruthenberg)
Date: Mon, 15 Feb 2010 18:10:04 +0000
Subject: [wp-hackers] possible small bug in widgets.php
Message-ID: <4B798DFC.7090807@johannes-ruthenberg.de>

Hi!

There's a possible bug in wp-includes/widgets.php. Since I don't really 
understand all the details I wanted to ask here what everyone else 
thinks before opening a trac ticket.

The bug was found in this discussion on the German WordPress forum:
http://forum.wordpress-deutschland.org/konfiguration/62484-error-bei-den-widgets.html

A user got a PHP error when opening the backend widgets page: "Nesting 
level too deep ? recursive dependency" The error originates in 
widgets.php, in function is_active_widget, what is now line 924.

Apparently, you get this message in newer PHP versions (5.2+) when PHP 
compares two objects with == instead ob ===. It compares all properties 
of the objects, which can lead to a loop if the objects have circular 
dependencies. Details for example here: 
http://www.richardlord.net/blog/php-nesting-level-too-deep-recursive-dependency

So, line 924 looks like this:

if ( ( $callback && isset($wp_registered_widgets[$widget]['callback']) 
&& $wp_registered_widgets[$widget]['callback'] == $callback ) || ( 
$id_base && _get_widget_id_base($widget) == $id_base ) ) {

The second comparison should be harmless, that would always be a String. 
But I'm not really sure what's inside 
$wp_registered_widgets[$widget]['callback']. It seems to be an object 
which can cause this problem, at least with some widgets. The poster in 
above mentioned thread changed both comparisons to === and the PHP error 
vanished. Of course, he doesn't want to change this with every WP 
upgrade, so I promised to bring this to attention. ;-)

So, do you think I should just open a trac ticket for this? Could the 
stricter comparison have possible side effects? As I said, I'm not quite 
sure what's actually compared there.

Regards,
Johannes Ruthenberg

From otto at ottodestruct.com  Mon Feb 15 19:05:59 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 15 Feb 2010 13:05:59 -0600
Subject: [wp-hackers] possible small bug in widgets.php
In-Reply-To: <4B798DFC.7090807@johannes-ruthenberg.de>
References: <4B798DFC.7090807@johannes-ruthenberg.de>
Message-ID: <161617691002151105t488b4525i84724b86897bbdde@mail.gmail.com>

Callback shouldn't be an object. It should be a function name.
Basically, a string.

-Otto



On Mon, Feb 15, 2010 at 12:10 PM, Johannes Ruthenberg
<tech at johannes-ruthenberg.de> wrote:
> Hi!
>
> There's a possible bug in wp-includes/widgets.php. Since I don't really
> understand all the details I wanted to ask here what everyone else thinks
> before opening a trac ticket.
>
> The bug was found in this discussion on the German WordPress forum:
> http://forum.wordpress-deutschland.org/konfiguration/62484-error-bei-den-widgets.html
>
> A user got a PHP error when opening the backend widgets page: "Nesting level
> too deep ? recursive dependency" The error originates in widgets.php, in
> function is_active_widget, what is now line 924.
>
> Apparently, you get this message in newer PHP versions (5.2+) when PHP
> compares two objects with == instead ob ===. It compares all properties of
> the objects, which can lead to a loop if the objects have circular
> dependencies. Details for example here:
> http://www.richardlord.net/blog/php-nesting-level-too-deep-recursive-dependency
>
> So, line 924 looks like this:
>
> if ( ( $callback && isset($wp_registered_widgets[$widget]['callback']) &&
> $wp_registered_widgets[$widget]['callback'] == $callback ) || ( $id_base &&
> _get_widget_id_base($widget) == $id_base ) ) {
>
> The second comparison should be harmless, that would always be a String. But
> I'm not really sure what's inside
> $wp_registered_widgets[$widget]['callback']. It seems to be an object which
> can cause this problem, at least with some widgets. The poster in above
> mentioned thread changed both comparisons to === and the PHP error vanished.
> Of course, he doesn't want to change this with every WP upgrade, so I
> promised to bring this to attention. ;-)
>
> So, do you think I should just open a trac ticket for this? Could the
> stricter comparison have possible side effects? As I said, I'm not quite
> sure what's actually compared there.
>
> Regards,
> Johannes Ruthenberg
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Mon Feb 15 19:22:06 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 15 Feb 2010 14:22:06 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <001201caade1$85a6abe0$90f403a0$@us>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us>
	<37DF6255071A47269C2054973E63128B@davidhr5m957yn>
	<001201caade1$85a6abe0$90f403a0$@us>
Message-ID: <46D94AAE-35A2-4809-9422-C884DC1E301B@newclarity.net>

On Feb 14, 2010, at 8:52 PM, mark waterous wrote:
> My point was simple: Your visitors should have NO need to be trying to find
> pages on your site by altering the URL they are currently visiting. By
> 'your', just to be clear on this, I mean anybody who runs a web site, not
> just you and Mike. If a visitor has to alter the URL in any way to find a
> page, then your site has failed in providing an adequate navigation
> structure to begin with, and no amount of user friendly control over the URL
> is going to save your visitors from leaving.

For a site to require a frequent user to click multiple links and load multiple pages each time for a user just to get to where they needed to go, especially on a slow connection, is your ideology trumping user's needs and usability.

By your same logic a computer operating system vendor would be a failure if their GUI didn't meet everyone's needs and they also provided a command line, right?

> As many people have pointed out, if this is that important to you, create
> some rewrite rules or a plugin to provide the functionality you require. The
> reason it is discussed for this long is not because the larger majority of
> WordPress users out there want it, it is because a small crowd of dissidents
> won't stop arguing the same points OVER and over and OVER again.

It's hard to maintain an argue without others debating the contrary. If you want the discussion to die, quit debating it.

On Feb 14, 2010, at 8:51 PM, Hikari wrote:
> Because of the complexity of the core code, it's hard to expand permalink features, it's as if we had to fix something that 
> shouldn't need a fix.
> 
> We can remove cat base, but only if we have few cats and pages. It's not expandable.
> 
>  ...
> 
> We need a simpler and dry base to work upon. With this complex permalink code, if something is against what we want we hardly can 
> change it.

+1

> | After thinking about this a bit, I'd like the through out the following
> | trawman: why don't we consider deprecating wp_terms and using
> | p_posts with a post type of "taxonomy_term" instead?  That would
> | ddress numerous concerns; streamline URL routing for taxonomy as
> | well as give taxonomy terms descriptions and meta data.  Hmmm?
> 
> Do you mean, do this change to to make URL parsing easier?

Yes, but also to add all the features of posts to a taxonomy term, i.e. most importantly a description but also categories, tags, URL routing, and more.  It is basically what Matt suggested to me that they want to do to replace Links so it seems to make sense for Taxonomy too.


On Feb 14, 2010, at 10:34 PM, mark waterous wrote:
> I think that's what everybody is missing. You can. Just because WordPress
> doesn't dumb it down and make it a one-click-fix doesn't mean you can't.

Yes you can, but as is there is no guarantee of compatibility with core.  URLs by definition must be unique and thus URL routing for standard patterns needs to be in the core to maximize plugin compatibility.  Having in core makes a plugin developer code to the core instead of ignore (or not be aware of) another plugin.

> Custom taxonomies should work like namespaces. If you have three taxonomies,
> such as 'Post', 'Category', and 'Links', these are by definition three
> separate entities. Under any of these you should be able to repeatedly use a
> single slug (since each should act as its own namespace), such as
> 'custom-entry'.
> 
> Now you have three urls;
> 
> http://yoursite.com/post/custom-entry
> http://yoursite.com/category/custom-entry
> http://yoursite.com/link/custom-entry

Now I agree with that (which violates a current core architecture principle in WordPress, i.e. that slugs are globally unique. That needs to change IMO.)

> These are easily readable, no they're not 10 characters long, but who cares.
> They also readily define what you're looking at. The first is a post, the
> second is a category, the third is a link.

Agreed.

> Now we remove these. Your url is http://yoursite.com/custom-entry which
> makes a couple people happier.

That's apples and oranges.  It's really more like this, using your example above but making them plural:

http://yoursite.com/posts/
http://yoursite.com/links/

And this:

http://yoursite.com/custom-category1/
http://yoursite.com/custom-category2/
http://yoursite.com/custom-category3/
...
http://yoursite.com/custom-categoryN/

> How does WordPress tell whether you were
> looking for the post custom-entry, or the category, or the link, or any
> number of possible custom taxonomies? I guess what we should be really
> arguing here is the fact that WordPress doesn't have psychic abilities in
> the core.

You admit defeat far too easily. If you acknowledge the emergent patterns this is an relatively easy problem to solve albeit maybe not 100% backward compatibly. 

Let me preface with this: I doubt anyone is reasonably asking for 100% flexibility with URLs. Instead I think what most people want is to support the finite range of URL patterns typically in use today.  

The first problem is the assumptions that WordPress makes about URLs. It makes some harmful limiting assumptions such that post slugs must be unique even if composed URLs are unique, i.e. this can't work in wordpress:

http://yoursite.com/my-slug				<-- page with slug "my-slug"
http://yoursite.com/2010/02/15/my-slug		<-- post with slug "my-slug"
http://yoursite.com/custom-types/my-slug	<-- custom post type with slug "my-slug" where "custom-types/%custom-type%" is a URL pattern

The other assumption WordPress makes is that URLs have no known patterns and that any URL can be matched with a RegEx.  That's true, but it does not allow optimization based on known-patterns. 

Here is one thing we know about URL paths: they come in path segments separated by slashes ("/").  This is a 100% always true pattern given that the set of segments can be zero or one in which case there are no slashes.  First thing we can do is go slice up the path and look at each segment on it's own (and I think we can even do that part backward compatibly because the matching RegExes can be sliced up too.)

Once you focus on URL path segments instead of full paths the scope of possible options diminishes significantly it practice. Except for the case of someone putting every path in the root you find that the number of valid path segments in the root is typically small. Then at each new segment the number of URLs with only one additional segment is also typically relatively small.  What's more as you drill down those path segments you can recognize a much smaller finite set of items to potentially load.  For examples, using reasonably standard assumptions for configuration:

http://example.com/yyyy/mm/dd/slug/	<-- Must be a post
http://example.com/customs/slug/		<-- Must be a custom post type of "custom"
http://example.com/tags/slug/			<-- Must be a taxonomy term in the taxonomy of "post_tag"

When you look at it from the perspective of URL path segments and emergent patterns then the problem suddenly gets much smaller. So I'll make a strawman proposal in my next email.


> WordPress shouldn't have to build control panels for every possible
> scenario, it's just not probable or intelligent, not when you can accomplish
> this on your own.

Agreed, but this isn't "every possible scenario", URL routing is foundational and by looking at path segments and emergent patterns then it becomes clear that this isn't every possible scenario, just the 20% that is needed by 80% of developers doing more than just building blogs.

This issue is going to come to a head even if you don't want it to because custom post types thankfully opens the pandora's box. Better to fix all of URL routing than just make patches for custom post types.

> The documentation on how to do it can be found here:
> http://httpd.apache.org/docs/1.3/mod/mod_rewrite.html (that url broken down
> is documentation -> v1.3 -> modules -> mod_rewrite, but I suppose they could
> lose the unnecessary /docs/ :D ), or here:
> http://redmine.lighttpd.net/wiki/lighttpd/docs:modrewrite, or here:
> http://wiki.nginx.org/NginxHttpRewriteModule 

Using Apache routing is not a viable solution for many because WordPress outputs URLs that Apache can't control and it's too much of a black art for too many people.

-Mike

From mikeschinkel at newclarity.net  Mon Feb 15 19:52:50 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 15 Feb 2010 14:52:50 -0500
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around The
	Category Side Of Things
In-Reply-To: <46D94AAE-35A2-4809-9422-C884DC1E301B@newclarity.net>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us>
	<37DF6255071A47269C2054973E63128B@davidhr5m957yn>
	<001201caade1$85a6abe0$90f403a0$@us>
	<46D94AAE-35A2-4809-9422-C884DC1E301B@newclarity.net>
Message-ID: <2925978C-AC56-4029-B491-ABC4C48E861F@newclarity.net>

On Feb 15, 2010, at 2:22 PM, Mike Schinkel wrote:
> When you look at it from the perspective of URL path segments and emergent patterns then the problem suddenly gets much smaller. So I'll make a strawman proposal in my next email.

Here is a "strawman" proposal mentioned in my previous email:

1.) Support pages, category taxonomy terms, and custom taxonomies in the root:  i.e.:

example.com/about/ <-- page
example.com/news/ <-- category term
example.com/countries/ <-- custom taxonomy

Given that these would be in the root then there is a reasonably small finite set of routable slugs.  These could be cached in an array, and if the size of the array exceeded a threshold (i.e. 1000?) then they could be loaded with single SQL query.  Large sites could increase this limit and use custom code with something like memcached.

There probably should be the option to put posts, post types, or other taxonomy types in the root but would be discouraged in the admin with a warning because doing so would almost certainly always force a SQL query to lookup the URL.

2.) Allow any taxonomy term including tags to be optionally included in the root and by selecting that option it would go into the finite set, i.e. 

custom taxonomy terms
example.com/usa/ 
example.com/canada/
example.com/australia/
example.com/uk/

3.) Recommend that tags and posts support a defined structure:  i.e.:

example.com/tags/my-tag 
example.com/2010/02/15/my-post

Having this structure makes lookup into the database much easier and note I only showed one of several potential post options.

4.) Recommend that custom post types support a defined structure:  i.e.:

example.com/products/product1
example.com/events/event1
example.com/courses/course1

5.) Recommend custom taxonomy terms generally use a taxonomy specific structure:

example.com/media/foxnews
example.com/media/cnn
example.com/media/msnbc

5.) Finally support multiple routes for a given post type, taxonomy term, or taxonomy with an optional canonical form to be used.  Consider a "customer" post type, an "order" post type and an "item" post type.

example.com/customers/acme/orders/12345/items/abc123/

My guess is that these patterns would satisfy 99.99% of WordPress developers wanting control of URLs.  Anyone on this thread see how this proposal would not work for their needs?

While this would actually be relatively easy to implement given a clean slate, the current system is so complex I don't have the knowledge nor possibly the skill to create a plugin that could do this and/or be able to write a patch to replace what exists.  This would need to be a project that several knowledgeable people got behind.  I really wish I could do it for WordPress, I just can't.

-Mike

From viniciusandre at gmail.com  Mon Feb 15 20:03:33 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Mon, 15 Feb 2010 18:03:33 -0200
Subject: [wp-hackers] Error handling in WordPress
In-Reply-To: <161617691002150720v65d9d376ha1db6b5210e3fd0a@mail.gmail.com>
References: <9C61058D-EB23-42FA-A456-41A666EC450B@gmail.com>
	<161617691002150720v65d9d376ha1db6b5210e3fd0a@mail.gmail.com>
Message-ID: <4ede8f491002151203g21da6ac6o53150dc704f993bd@mail.gmail.com>

On Mon, Feb 15, 2010 at 1:20 PM, Otto <otto at ottodestruct.com> wrote:
> On Sat, Feb 13, 2010 at 11:11 AM, John Eckman <eckman.john at gmail.com> wrote:
>> Does one set a message to be displayed in the admin dashboard? How?
>
> add_action('admin_notices', 'create_error');
> function create_error() { ?>
> <div class="error"><p>This is an error message.</p></div>
> <?php
> }

That looks ok, but I was trying to find a way to send every PHP +
Wordpress errors by e-mail without showing the message to users.

If anyone has a tip, It'll be welcome.
--
Vin?cius Massuchetto
http://vinicius.soylocoporti.org.br

From lists at hikarinet.info  Mon Feb 15 18:23:45 2010
From: lists at hikarinet.info (Hikari)
Date: Mon, 15 Feb 2010 16:23:45 -0200
Subject: [wp-hackers] Some Thoughts/Enhancement
	IdeasIn	AndAround	TheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us><D02291879F5B45B5AFD4158F5EE562D9@MAIN>	<001301caadef$cd905e20$68b11a60$@us><1AEDAE59921F49EA9D2184F66DCD5BFB@MAIN>
	<001501caae13$255e2920$701a7b60$@us>
Message-ID: <12CBF1687C00404E9E93415C65F289EE@MAIN>


----- Original Message ----- 
From: "mark waterous" <mark at watero.us>
Sent: Monday, 15 February, 2010 5:47 AM



| > What I mean is that we shouldn't have to justify ourselves about why we
| > wanna do something different from Wordpress's default.


| I understand where you're coming from, but I disagree. The core developers
| have a lot of existing systems to maintain, a huge trac to deal with and
| probably a mile long list of features that they would like to implement.
| They're talented coders, but they aren't robots - they can't just implement
| every request simply because it was requested. Justification is necessary to
| determine a variety of factors such as how many people is this going to
| benefit? How is it going to interact with current systems?


Ah ok I undestand now.

So, maybe permalink parsing was an error when Wordpress was just a blogging engine and now there are other priorities over it to me 
done?

It seems that a lot of ppl makes complains and requests regarding permalink, so I believe many would benefit. I myself am able to 
deal with it.


|Is it just going
| to bloat core when a plugin could handle it? So on and so forth.

It *is* bloating core, and changes are needed to make it easier for plugins to handle it :)

I've been reading the source and trying to understand how rewrite rule is dealt, and it seems too complex to enhance and too bug 
prone :(


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br 


From otto at ottodestruct.com  Mon Feb 15 20:26:47 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 15 Feb 2010 14:26:47 -0600
Subject: [wp-hackers] Error handling in WordPress
In-Reply-To: <4ede8f491002151203g21da6ac6o53150dc704f993bd@mail.gmail.com>
References: <9C61058D-EB23-42FA-A456-41A666EC450B@gmail.com> 
	<161617691002150720v65d9d376ha1db6b5210e3fd0a@mail.gmail.com> 
	<4ede8f491002151203g21da6ac6o53150dc704f993bd@mail.gmail.com>
Message-ID: <161617691002151226v53f4fbderba5793667b68a62b@mail.gmail.com>

On Mon, Feb 15, 2010 at 2:03 PM, Vinicius Massuchetto
<viniciusandre at gmail.com> wrote:
> That looks ok, but I was trying to find a way to send every PHP +
> Wordpress errors by e-mail without showing the message to users.
>
> If anyone has a tip, It'll be welcome.


Oh. Didn't see "by email". If you have something you want to send via
email, then it's just a matter of calling wp_mail() with the data to
email.

The simplest use case is easy:
wp_mail("fake at example.com", "Subject", "Message");

Make that as complex as you like, but the basic use is no problem.


-Otto

From jer at simianuprising.com  Mon Feb 15 20:29:48 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 15 Feb 2010 15:29:48 -0500
Subject: [wp-hackers] Error handling in WordPress
In-Reply-To: <4ede8f491002151203g21da6ac6o53150dc704f993bd@mail.gmail.com>
References: <9C61058D-EB23-42FA-A456-41A666EC450B@gmail.com>
	<161617691002150720v65d9d376ha1db6b5210e3fd0a@mail.gmail.com>
	<4ede8f491002151203g21da6ac6o53150dc704f993bd@mail.gmail.com>
Message-ID: <e1202cb11002151229h473347a1t1e6caeb142982cbd@mail.gmail.com>

On Mon, Feb 15, 2010 at 3:03 PM, Vinicius Massuchetto
<viniciusandre at gmail.com> wrote:
> That looks ok, but I was trying to find a way to send every PHP +
> Wordpress errors by e-mail without showing the message to users.

I don't think this is supported in any serious way by WP. I've been
looking at the WP_Error class to assess its inclusion in my Settings
API patch and it doesn't seem to be used in the way I'd expect. There
is no global $errors object or anything like that.

All the uses I have looked at of the class are used mostly to check
the return of something to see if is_wp_error(), then maybe show the
error text if it is. The resulting object is usually destroyed though,
so there is no overall record of errors that have occured that you
could pull out and use for something else.

If you want an error displayed or emailed you'll have to harness it
yourself somehow. There is also no action or filter in the wp_error()
method, so you can't automatically know when the class is being used.
As for PHP errors the solution is probably to do something with your
server logs rather than inside WP.

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From mgerring at emrl.com  Mon Feb 15 21:32:54 2010
From: mgerring at emrl.com (Matthew Gerring)
Date: Mon, 15 Feb 2010 13:32:54 -0800
Subject: [wp-hackers] searchable/sortable index of pages w/ complex
	queries... help?
Message-ID: <BB5DAC44-8631-4780-ADAA-6B7C6FA1028C@emrl.com>

Hello all. I'm in the weeds right now on a project that is tantalizingly close to being finished. There's only one major missing ingredient- I need a searchable, sortable index of all of the static pages in the database that will respond to a lot of complicated non-standard queries. This is what it needs to do-

-Respond to multiple custom taxonomy/custom field queries (custom_key=custom_field&custom_tax=custom_term), returning only the pages that have BOTH the custom field AND the custom taxonomy
-Keep all modifications to the query by plugins intact and apply them to pages rather than just posts
-Retain all the stuff that WordPress does automatically (specifically paging)
-Run from a page template (so http://siteurl/browse/custom_key=custom_field&custom_tax=custom_term)
-Add variables (custom taxonomies and custom fields) to narrow search results

I have tried a number of different methods to accomplish all of this and I am at a loss as to what I should try next. Here's what I've done-

-Use pre_get_posts to change the post_type to pages (this works, but not from a page template)
-Wrote a custom variable SQL query (this works, but does not interact with native WP functions like paging)
-Used query_posts in the page template to only return pages (this works, but strips out everything from the query string)
-Used query_posts and retained the query string via global $query_string (this doesn't work from a page template at all)
-Used the multiple taxonomy query/custom field taxonomies plugins (these do not work with pages at all)

So. Any suggestions?

-Matthew



From lists at hikarinet.info  Mon Feb 15 21:05:07 2010
From: lists at hikarinet.info (Hikari)
Date: Mon, 15 Feb 2010 19:05:07 -0200
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us><37DF6255071A47269C2054973E63128B@davidhr5m957yn><001201caade1$85a6abe0$90f403a0$@us>
	<46D94AAE-35A2-4809-9422-C884DC1E301B@newclarity.net>
Message-ID: <A17790EF554346B8874118E5AEF04373@MAIN>




----- Original Message ----- 
From: "Mike Schinkel" <mikeschinkel at newclarity.net>
Sent: Monday, 15 February, 2010 5:22 PM




| By your same logic a computer operating system vendor would be a
| failure if their GUI didn't meet everyone's needs and they also provided
| a command line, right?

I'd not say a failure, since it depends more on the marcket situation.

But if it could, much better. And for sure if there was another software with the same quality, with no disadivantages, and with the 
extra feature, MAYBE it would win because of that.



| > | After thinking about this a bit, I'd like the through out the following
| > | trawman: why don't we consider deprecating wp_terms and using
| > | p_posts with a post type of "taxonomy_term" instead?  That would
| > | ddress numerous concerns; streamline URL routing for taxonomy as
| > | well as give taxonomy terms descriptions and meta data.  Hmmm?
| >
| > Do you mean, do this change to to make URL parsing easier?
|
| Yes, but also to add all the features of posts to a taxonomy term, i.e. most importantly a description but also categories, tags, 
URL routing, and more.  It is basically what Matt suggested to me that they want to do to replace Links so it seems to make sense 
for Taxonomy too.


I wasn't able to understand how exactaly this idea will fit in permalink, but if it makes permalink easier to expand an enhance with 
plugins, that could work.

And with custom taxonomy taking popularity, I'm pretty sure some day somebody will want something that will require or be easier to 
do with taxonomy metadata :P


It's interesting how Wordpress and Drupal seem to merge in features. Wordpress had post metadata for long time, while Drupal 
depended on CCK module. Last time I read about it they were gonna add part of CCK as a core module, maintained by core devs, and 
only its UI would remain an independant module.

Now Wordpress also gets custom post type and custom taxonomy. :D





----- Original Message ----- 
From: "Stephen Rider" <wp-hackers at striderweb.com>
Sent: Monday, 15 February, 2010 11:52 AM



| Feel free to submit a patch that "just removes the problem so that the
| fix is not needed anymore".  Oh, and doesn't break anything on
| existing installs.

For sure I would if I was skilled enough to :(

If I was, I'd create a database updating code that would feed the new table with all permalinks during Wordpress update, so nobody 
would note the difference.

But of course it would require a long time of deprecation trasaction period, and a lot of testing before releasing to public :p

If we are talking about a final solution, I doulbt it would be doable for a unique developer.


| It's great to talk about what you want, but somebody somewhere has
| to code it.  Thus the debates about how important it is, so that
| somebody somewhere decides its worth actually doing.


Yes, in my theme I changed a XHTML 1.1 incompatible function for a custom one that generates valid code, and today I submited a 
patch for it.

And in my orphaned plugin issue, I just found out that the easier way to solve it would be adding a new filter hook to core, which I 
also created a ticket suggesting.

This would avoid the need of creating a new rewrite tag, because we could just custom how core tags are handled.

Now I'm testing my modded plugin with and without the hook to see how it behaves :)




---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br 


From lists at hikarinet.info  Mon Feb 15 21:37:25 2010
From: lists at hikarinet.info (Hikari)
Date: Mon, 15 Feb 2010 19:37:25 -0200
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us><37DF6255071A47269C2054973E63128B@davidhr5m957yn><001201caade1$85a6abe0$90f403a0$@us><46D94AAE-35A2-4809-9422-C884DC1E301B@newclarity.net>
	<2925978C-AC56-4029-B491-ABC4C48E861F@newclarity.net>
Message-ID: <1025AB3B703040DFB4E70C1DBBEA1560@MAIN>


----- Original Message ----- 
From: "Mike Schinkel" <mikeschinkel at newclarity.net>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, 15 February, 2010 5:52 PM
Subject: Re: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around TheCategory Side Of Things


| On Feb 15, 2010, at 2:22 PM, Mike Schinkel wrote:
| > When you look at it from the perspective of URL path segments and emergent patterns then the problem suddenly gets much smaller. 
So I'll make a strawman proposal in my next email.
|
| Here is a "strawman" proposal mentioned in my previous email:
|
| ...
|
| My guess is that these patterns would satisfy 99.99% of WordPress developers wanting control of URLs.  Anyone on this thread see 
how this proposal would not work for their needs?
|
| While this would actually be relatively easy to implement given a clean slate, the current system is so complex I don't have the 
knowledge nor possibly the skill to create a plugin that could do this and/or be able to write a patch to replace what exists.  This 
would need to be a project that several knowledgeable people got behind.  I really wish I could do it for WordPress, I just can't.



I believe that would make it much simpler, but wouldn't be 100% flexible yet.

My idea would be even more flexible:


1) Each resource has a static permalink, exemple:

post: /post/post_id/
tag: /tag/term_id/
custom taxonomy: /custom_tax/term_id/

This would be hardcoded into core, and couldn't be changed. So the code would be simple, clean and fast. Anybody that wanted 
permalinks to be fast and simple would be allowed to just use it.


2) Core also supports Endpoint Mask, that are those strings that go in the end of the URL, as /feed/ or /page/.

These masks point to special features/resources related to the permalink they are attached, so they are the first thing to be 
searched, always in the end of the URL, and once found are removed from next steps.

Plugins could just add new masks, without needing to worry with what's behind them.



3) A Core Plugin creates a table, that redirects alternative URLs to core ones:

/hello-world/ -> /post/20/
/cities/Salvador -> /cities/11/
/Natal/ -> /cities/50/
/news/ -> /category/2/
/Jack -> /author/3/


4) For every request, it would first run the regexes for core permalink matches. If not found, just query database for that URL. 
When found, that row will point to a parsable permalink that will point to the resource.


5) The core plugin has a simple UI that generates the permalink in a similar way permalinks are generated today, having a list of 
permastructs that it uses.

On every preview, the suggested URL is shown in a input=text, and if the user doesn't like it he can just edit the whole URL (as 
today we can with slugs) to anything he likes.


6) Then, plugins can be developed to enhance the base UI, to add new permalinks and permastructs, to automatically create 
alternative URLs,  to redirect alternatives to main ones, and so on.


With a simple, modular and scalable code, this would be much easier than today. People wouldn't need to learn the whole permalink 
functionality to add a new feature.

And anybody that doesn't like how something's done, just hook a filter to disable it and another one to do how they like. With no 
performance penalties :)



---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br 


From frank at bueltge.de  Mon Feb 15 23:03:34 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Tue, 16 Feb 2010 00:03:34 +0100
Subject: [wp-hackers] Error handling in WordPress
In-Reply-To: <4ede8f491002151203g21da6ac6o53150dc704f993bd@mail.gmail.com>
References: <9C61058D-EB23-42FA-A456-41A666EC450B@gmail.com> 
	<161617691002150720v65d9d376ha1db6b5210e3fd0a@mail.gmail.com> 
	<4ede8f491002151203g21da6ac6o53150dc704f993bd@mail.gmail.com>
Message-ID: <db047a771002151503w9b7b22br787f920a4579da20@mail.gmail.com>

It give many solutions with standards of the WP core (wp_mail() and
hook admin_notice ) and also plugins for error handling; one example
is http://www.mittineague.com/dev/er.php
Best regards



On Mon, Feb 15, 2010 at 9:03 PM, Vinicius Massuchetto
<viniciusandre at gmail.com> wrote:
> On Mon, Feb 15, 2010 at 1:20 PM, Otto <otto at ottodestruct.com> wrote:
>> On Sat, Feb 13, 2010 at 11:11 AM, John Eckman <eckman.john at gmail.com> wrote:
>>> Does one set a message to be displayed in the admin dashboard? How?
>>
>> add_action('admin_notices', 'create_error');
>> function create_error() { ?>
>> <div class="error"><p>This is an error message.</p></div>
>> <?php
>> }
>
> That looks ok, but I was trying to find a way to send every PHP +
> Wordpress errors by e-mail without showing the message to users.
>
> If anyone has a tip, It'll be welcome.
> --
> Vin?cius Massuchetto
> http://vinicius.soylocoporti.org.br
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From gaarai at gaarai.com  Tue Feb 16 00:18:34 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Mon, 15 Feb 2010 18:18:34 -0600
Subject: [wp-hackers] Multiple the_editor uses potential patch
Message-ID: <4B79E45A.5040300@gaarai.com>

I've been working on a patch for Scott K Clark's trac ticket 
(https://core.trac.wordpress.org/ticket/11862) on how multiple uses of 
the_editor do not play nicely together.

I added a rough draft of the patch that I've been working on as well as 
a plugin that adds another instance of the_editor to the post and page 
editors. I also added information on where the patch currently stands in 
terms of what has been fixed and what needs to be fixed.

This issue has been a pain for many developers in the past, so I want to 
get feedback from other developers as I work on a fix for this issue. 
Please check out the ticket, read my notes on the difficulty of 
producing a proper patch, and provide feedback. I'd really like to know 
what other developers would expect from a solution to this problem.

-- 
Chris Jean
Coder for http://ithemes.com/
http://gaarai.com/
@chrisjean


From skeltoac at gmail.com  Tue Feb 16 00:40:29 2010
From: skeltoac at gmail.com (Andy Skelton)
Date: Mon, 15 Feb 2010 19:40:29 -0500
Subject: [wp-hackers] Search in 3.0
Message-ID: <e6ec604d1002151640k2d4e2702te8f145812951ac@mail.gmail.com>

Since mentoring Justin Shreve on the Search API project last summer, I
have wanted to make it easier for plugins to replace the core search
functionality. At first I thought I should roll the results of the
project into core. While trying to do that, I found a simpler
solution. Review the changeset first and then I'll explain its power.
http://core.trac.wordpress.org/changeset/13037

Before this change, you had to do crazy things to override core
search. With the new filter you can do it sanely and get stuff like
paging and privacy checks for free.

These filter usage examples are in the order in which I discovered them:
$search = "AND ID IN (1, 2, 3)"; // known ID's
$search = "AND ID IN (SELECT ID FROM...)"; // subquery
$search = ""; // tricky!

The first example uses a known set of ID's that match the search
query. These might be found by querying an external search API. If the
set of ID's is complete, paging will work as expected. If you can't
use a complete set of matching ID's, paging the results will be a lot
more work.

The second example uses a subquery to find the ID's. Subqueries rock.
You can use them to get the set of ID's from other tables in your
database. But this example has an important limitation: you can't
control the order of the final result set by the order of the subquery
in an IN clause.

The third example is what I'm using right now on skeltoac.com. My
fulltext subquery is in a RIGHT JOIN clause (filter posts_join). This
way I can use the MATCH score to sort the results (filter
posts_orderby). The query ends up looking like this (simplified):
SELECT SQL_COUNT_FOUND_ROWS
  wp_posts.* FROM wp_posts
  RIGHT JOIN (
    SELECT
      post_id,
      MATCH... AS score
    FROM wp_fulltext
    WHERE MATCH...
  ) AS ft ON (ID=ft.post_id)
WHERE 1=1...
ORDER BY score DESC

Here is the live code (about 100 lines):
http://skeltoac.com/fulltext.php.txt

The list of features/benefits:
* Index covers all searchable post types and statuses (stati)
* Index includes title+content+taxonomies
* Fulltext search allows sorting results by relevance
* Works with existing query patterns
* Paging, privacy, etc., all handled by core

And the list of known issues:
* Searchable text (title+content+taxonomies) might have room for improvement
* Missing a bunch of actions to trigger re-indexing a post
* Should not be indexing the whole blog on the activation hook
* Should not assume the indexing can be done within memory limits
* Chronological paging links (Older, Newer) inappropriate for
relavance-ordered results

I just wrote this plugin today, borrowing a few key lines from
Justin's work. If you are interested in search, please review my code
and think about how it works. If you think of any minor core changes
that would make search easier to plug in, please make them known ASAP.
Little things like filters aren't strictly subject to feature freeze
and can add tremendous value to 3.0.

Cheers,
Andy Skelton

From viniciusandre at gmail.com  Tue Feb 16 00:52:48 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Mon, 15 Feb 2010 22:52:48 -0200
Subject: [wp-hackers] Error handling in WordPress
In-Reply-To: <db047a771002151503w9b7b22br787f920a4579da20@mail.gmail.com>
References: <9C61058D-EB23-42FA-A456-41A666EC450B@gmail.com>
	<161617691002150720v65d9d376ha1db6b5210e3fd0a@mail.gmail.com>
	<4ede8f491002151203g21da6ac6o53150dc704f993bd@mail.gmail.com>
	<db047a771002151503w9b7b22br787f920a4579da20@mail.gmail.com>
Message-ID: <4ede8f491002151652y65bdd103t459bee745db037a3@mail.gmail.com>

I've seen some plugins, but none of them will output errors as
detailed as I want.
I'll give his one a try.

Thanks.
--
Vin?cius Massuchetto


On Mon, Feb 15, 2010 at 9:03 PM, Frank Bueltge <frank at bueltge.de> wrote:
> It give many solutions with standards of the WP core (wp_mail() and
> hook admin_notice ) and also plugins for error handling; one example
> is http://www.mittineague.com/dev/er.php
> Best regards
>
>
>
> On Mon, Feb 15, 2010 at 9:03 PM, Vinicius Massuchetto
> <viniciusandre at gmail.com> wrote:
>> On Mon, Feb 15, 2010 at 1:20 PM, Otto <otto at ottodestruct.com> wrote:
>>> On Sat, Feb 13, 2010 at 11:11 AM, John Eckman <eckman.john at gmail.com> wrote:
>>>> Does one set a message to be displayed in the admin dashboard? How?
>>>
>>> add_action('admin_notices', 'create_error');
>>> function create_error() { ?>
>>> <div class="error"><p>This is an error message.</p></div>
>>> <?php
>>> }
>>
>> That looks ok, but I was trying to find a way to send every PHP +
>> Wordpress errors by e-mail without showing the message to users.
>>
>> If anyone has a tip, It'll be welcome.
>> --
>> Vin?cius Massuchetto
>> http://vinicius.soylocoporti.org.br
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From casey.bisson at gmail.com  Tue Feb 16 03:13:54 2010
From: casey.bisson at gmail.com (Casey Bisson)
Date: Mon, 15 Feb 2010 22:13:54 -0500
Subject: [wp-hackers] Search in 3.0
In-Reply-To: <e6ec604d1002151640k2d4e2702te8f145812951ac@mail.gmail.com>
References: <e6ec604d1002151640k2d4e2702te8f145812951ac@mail.gmail.com>
Message-ID: <3ee7077c1002151913n666b5875o7bb4f470f85872ec@mail.gmail.com>

Perhaps useful MySQL: ORDER BY FIELD(ID, ...list of post ids in the order
you want them...)

SELECT *
FROM wp_posts
WHERE ID IN(5,10,15,20,25,30)
ORDER BY FIELD(ID, 10,30,20,25,5,15)

http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_field

Probably not efficient for very large result sets, but...

On Mon, Feb 15, 2010 at 7:40 PM, Andy Skelton <skeltoac at gmail.com> wrote:

> The second example uses a subquery to find the ID's. Subqueries rock.
> You can use them to get the set of ID's from other tables in your
> database. But this example has an important limitation: you can't
> control the order of the final result set by the order of the subquery
> in an IN clause.
>

From thenbrent at gmail.com  Tue Feb 16 05:54:21 2010
From: thenbrent at gmail.com (Brent)
Date: Tue, 16 Feb 2010 16:54:21 +1100
Subject: [wp-hackers] Search in 3.0
In-Reply-To: <e6ec604d1002151640k2d4e2702te8f145812951ac@mail.gmail.com>
References: <e6ec604d1002151640k2d4e2702te8f145812951ac@mail.gmail.com>
Message-ID: <fcb68e7c1002152154i7929af2s11076b9eae34998d@mail.gmail.com>

I'd really like to see this filter added. :)


On Tue, Feb 16, 2010 at 11:40 AM, Andy Skelton <skeltoac at gmail.com> wrote:

> Since mentoring Justin Shreve on the Search API project last summer, I
> have wanted to make it easier for plugins to replace the core search
> functionality. At first I thought I should roll the results of the
> project into core. While trying to do that, I found a simpler
> solution. Review the changeset first and then I'll explain its power.
> http://core.trac.wordpress.org/changeset/13037
>
> Before this change, you had to do crazy things to override core
> search. With the new filter you can do it sanely and get stuff like
> paging and privacy checks for free.
>
> These filter usage examples are in the order in which I discovered them:
> $search = "AND ID IN (1, 2, 3)"; // known ID's
> $search = "AND ID IN (SELECT ID FROM...)"; // subquery
> $search = ""; // tricky!
>
> The first example uses a known set of ID's that match the search
> query. These might be found by querying an external search API. If the
> set of ID's is complete, paging will work as expected. If you can't
> use a complete set of matching ID's, paging the results will be a lot
> more work.
>
> The second example uses a subquery to find the ID's. Subqueries rock.
> You can use them to get the set of ID's from other tables in your
> database. But this example has an important limitation: you can't
> control the order of the final result set by the order of the subquery
> in an IN clause.
>
> The third example is what I'm using right now on skeltoac.com. My
> fulltext subquery is in a RIGHT JOIN clause (filter posts_join). This
> way I can use the MATCH score to sort the results (filter
> posts_orderby). The query ends up looking like this (simplified):
> SELECT SQL_COUNT_FOUND_ROWS
>  wp_posts.* FROM wp_posts
>  RIGHT JOIN (
>    SELECT
>      post_id,
>      MATCH... AS score
>    FROM wp_fulltext
>    WHERE MATCH...
>  ) AS ft ON (ID=ft.post_id)
> WHERE 1=1...
> ORDER BY score DESC
>
> Here is the live code (about 100 lines):
> http://skeltoac.com/fulltext.php.txt
>
> The list of features/benefits:
> * Index covers all searchable post types and statuses (stati)
> * Index includes title+content+taxonomies
> * Fulltext search allows sorting results by relevance
> * Works with existing query patterns
> * Paging, privacy, etc., all handled by core
>
> And the list of known issues:
> * Searchable text (title+content+taxonomies) might have room for
> improvement
> * Missing a bunch of actions to trigger re-indexing a post
> * Should not be indexing the whole blog on the activation hook
> * Should not assume the indexing can be done within memory limits
> * Chronological paging links (Older, Newer) inappropriate for
> relavance-ordered results
>
> I just wrote this plugin today, borrowing a few key lines from
> Justin's work. If you are interested in search, please review my code
> and think about how it works. If you think of any minor core changes
> that would make search easier to plug in, please make them known ASAP.
> Little things like filters aren't strictly subject to feature freeze
> and can add tremendous value to 3.0.
>
> Cheers,
> Andy Skelton
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Tue Feb 16 06:09:40 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 16 Feb 2010 01:09:40 -0500
Subject: [wp-hackers] Search in 3.0
In-Reply-To: <fcb68e7c1002152154i7929af2s11076b9eae34998d@mail.gmail.com>
References: <e6ec604d1002151640k2d4e2702te8f145812951ac@mail.gmail.com> 
	<fcb68e7c1002152154i7929af2s11076b9eae34998d@mail.gmail.com>
Message-ID: <4cc4de141002152209o419a5e36v9399bffb96438f97@mail.gmail.com>

On Tue, Feb 16, 2010 at 12:54 AM, Brent <thenbrent at gmail.com> wrote:

> I'd really like to see this filter added. :)


It's added. Andy linked to it:
http://core.trac.wordpress.org/changeset/13037

<http://core.trac.wordpress.org/changeset/13037>You'll see it in 3.0.

From frank at bueltge.de  Tue Feb 16 08:18:30 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Tue, 16 Feb 2010 09:18:30 +0100
Subject: [wp-hackers] Error handling in WordPress
In-Reply-To: <4ede8f491002151652y65bdd103t459bee745db037a3@mail.gmail.com>
References: <9C61058D-EB23-42FA-A456-41A666EC450B@gmail.com> 
	<161617691002150720v65d9d376ha1db6b5210e3fd0a@mail.gmail.com> 
	<4ede8f491002151203g21da6ac6o53150dc704f993bd@mail.gmail.com> 
	<db047a771002151503w9b7b22br787f920a4579da20@mail.gmail.com> 
	<4ede8f491002151652y65bdd103t459bee745db037a3@mail.gmail.com>
Message-ID: <db047a771002160018w577c3cc5yfbb575d48c1d199@mail.gmail.com>

I work onm my dev-plattform with xdebug and on other installs with the
a log from the errors. Maybe you can send this erros with wp-mail().




On Tue, Feb 16, 2010 at 1:52 AM, Vinicius Massuchetto
<viniciusandre at gmail.com> wrote:
> I've seen some plugins, but none of them will output errors as
> detailed as I want.
> I'll give his one a try.
>
> Thanks.
> --
> Vin?cius Massuchetto
>
>
> On Mon, Feb 15, 2010 at 9:03 PM, Frank Bueltge <frank at bueltge.de> wrote:
>> It give many solutions with standards of the WP core (wp_mail() and
>> hook admin_notice ) and also plugins for error handling; one example
>> is http://www.mittineague.com/dev/er.php
>> Best regards
>>
>>
>>
>> On Mon, Feb 15, 2010 at 9:03 PM, Vinicius Massuchetto
>> <viniciusandre at gmail.com> wrote:
>>> On Mon, Feb 15, 2010 at 1:20 PM, Otto <otto at ottodestruct.com> wrote:
>>>> On Sat, Feb 13, 2010 at 11:11 AM, John Eckman <eckman.john at gmail.com> wrote:
>>>>> Does one set a message to be displayed in the admin dashboard? How?
>>>>
>>>> add_action('admin_notices', 'create_error');
>>>> function create_error() { ?>
>>>> <div class="error"><p>This is an error message.</p></div>
>>>> <?php
>>>> }
>>>
>>> That looks ok, but I was trying to find a way to send every PHP +
>>> Wordpress errors by e-mail without showing the message to users.
>>>
>>> If anyone has a tip, It'll be welcome.
>>> --
>>> Vin?cius Massuchetto
>>> http://vinicius.soylocoporti.org.br
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ash at thinkinginvain.com  Tue Feb 16 09:21:16 2010
From: ash at thinkinginvain.com (Ash Goodman)
Date: Tue, 16 Feb 2010 17:21:16 +0800
Subject: [wp-hackers]  Multiple the_editor uses potential patch
Message-ID: <1d9b57821002160121w1da8c112hc9653cd97fe212cb@mail.gmail.com>

I may be misunderstanding what's going on but the plugin Andy Skelton wrote
doesn't seem to be working on my 2.9.1 installation.

I have built a site with multiple editors and its was a nightmare and full
of problems from stripping our paragraph tags to display bugs on the resize
grippy (I don't know what it's really called) at the bottom of the editor. I
am just learning PHP and javascript and the base for this code I found on
the Wordpress.org forums. But anyway, in case its actually of use to someone
in it's present state: http://pastebin.com/m1e3a8266

On 16 February 2010 16:19, <wp-hackers-request at lists.automattic.com> wrote:

> [wp-hackers] Multiple the_editor uses potential patch
>

From scribu at gmail.com  Tue Feb 16 09:47:56 2010
From: scribu at gmail.com (scribu)
Date: Tue, 16 Feb 2010 11:47:56 +0200
Subject: [wp-hackers] searchable/sortable index of pages w/ complex
	queries... help?
In-Reply-To: <BB5DAC44-8631-4780-ADAA-6B7C6FA1028C@emrl.com>
References: <BB5DAC44-8631-4780-ADAA-6B7C6FA1028C@emrl.com>
Message-ID: <349fe48b1002160147o1424842wf27576ffd5e4d6fb@mail.gmail.com>

Try the MySQL search plugin from the Search API:

http://wordpress.org/extend/plugins/search/

-- 
http://scribu.net

From aaron at xavisys.com  Tue Feb 16 14:08:48 2010
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Tue, 16 Feb 2010 07:08:48 -0700
Subject: [wp-hackers] possible small bug in widgets.php
In-Reply-To: <161617691002151105t488b4525i84724b86897bbdde@mail.gmail.com>
References: <4B798DFC.7090807@johannes-ruthenberg.de>
	<161617691002151105t488b4525i84724b86897bbdde@mail.gmail.com>
Message-ID: <4B7AA6F0.10509@xavisys.com>

Or an array like array($someObject, 'someMethod') which still doesn't 
seem like it would have the recursion issue.

Otto wrote:
> Callback shouldn't be an object. It should be a function name.
> Basically, a string.
>
> -Otto
>
>
>
> On Mon, Feb 15, 2010 at 12:10 PM, Johannes Ruthenberg
> <tech at johannes-ruthenberg.de> wrote:
>   
>> Hi!
>>
>> There's a possible bug in wp-includes/widgets.php. Since I don't really
>> understand all the details I wanted to ask here what everyone else thinks
>> before opening a trac ticket.
>>
>> The bug was found in this discussion on the German WordPress forum:
>> http://forum.wordpress-deutschland.org/konfiguration/62484-error-bei-den-widgets.html
>>
>> A user got a PHP error when opening the backend widgets page: "Nesting level
>> too deep ? recursive dependency" The error originates in widgets.php, in
>> function is_active_widget, what is now line 924.
>>
>> Apparently, you get this message in newer PHP versions (5.2+) when PHP
>> compares two objects with == instead ob ===. It compares all properties of
>> the objects, which can lead to a loop if the objects have circular
>> dependencies. Details for example here:
>> http://www.richardlord.net/blog/php-nesting-level-too-deep-recursive-dependency
>>
>> So, line 924 looks like this:
>>
>> if ( ( $callback && isset($wp_registered_widgets[$widget]['callback']) &&
>> $wp_registered_widgets[$widget]['callback'] == $callback ) || ( $id_base &&
>> _get_widget_id_base($widget) == $id_base ) ) {
>>
>> The second comparison should be harmless, that would always be a String. But
>> I'm not really sure what's inside
>> $wp_registered_widgets[$widget]['callback']. It seems to be an object which
>> can cause this problem, at least with some widgets. The poster in above
>> mentioned thread changed both comparisons to === and the PHP error vanished.
>> Of course, he doesn't want to change this with every WP upgrade, so I
>> promised to bring this to attention. ;-)
>>
>> So, do you think I should just open a trac ticket for this? Could the
>> stricter comparison have possible side effects? As I said, I'm not quite
>> sure what's actually compared there.
>>
>> Regards,
>> Johannes Ruthenberg
>>     


From casey.bisson at gmail.com  Tue Feb 16 14:40:37 2010
From: casey.bisson at gmail.com (Casey Bisson)
Date: Tue, 16 Feb 2010 09:40:37 -0500
Subject: [wp-hackers] possible small bug in widgets.php
In-Reply-To: <4B7AA6F0.10509@xavisys.com>
References: <4B798DFC.7090807@johannes-ruthenberg.de>
	<161617691002151105t488b4525i84724b86897bbdde@mail.gmail.com>
	<4B7AA6F0.10509@xavisys.com>
Message-ID: <3ee7077c1002160640y327d0cc6mcc612f7930261c6e@mail.gmail.com>

I remember getting this error on a dev server. After a lot of poking around,
I ascribed it to a PHP bug.

The server running MacOS X 10.4 and Marc Liyanage's PHP package. I no longer
remember which version of PHP that was at the time, but the problem was
unique to that environment.

On Tue, Feb 16, 2010 at 9:08 AM, Aaron D. Campbell <aaron at xavisys.com>wrote:

> Or an array like array($someObject, 'someMethod') which still doesn't seem
> like it would have the recursion issue.
>
> Otto wrote:
>
>> Callback shouldn't be an object. It should be a function name.
>> Basically, a string.
>>
>> -Otto
>>
>>
>>
>> On Mon, Feb 15, 2010 at 12:10 PM, Johannes Ruthenberg
>> <tech at johannes-ruthenberg.de> wrote:
>>
>>
>>> Hi!
>>>
>>> There's a possible bug in wp-includes/widgets.php. Since I don't really
>>> understand all the details I wanted to ask here what everyone else thinks
>>> before opening a trac ticket.
>>>
>>> The bug was found in this discussion on the German WordPress forum:
>>>
>>> http://forum.wordpress-deutschland.org/konfiguration/62484-error-bei-den-widgets.html
>>>
>>> A user got a PHP error when opening the backend widgets page: "Nesting
>>> level
>>> too deep ? recursive dependency" The error originates in widgets.php, in
>>> function is_active_widget, what is now line 924.
>>>
>>> Apparently, you get this message in newer PHP versions (5.2+) when PHP
>>> compares two objects with == instead ob ===. It compares all properties
>>> of
>>> the objects, which can lead to a loop if the objects have circular
>>> dependencies. Details for example here:
>>>
>>> http://www.richardlord.net/blog/php-nesting-level-too-deep-recursive-dependency
>>>
>>> So, line 924 looks like this:
>>>
>>> if ( ( $callback && isset($wp_registered_widgets[$widget]['callback']) &&
>>> $wp_registered_widgets[$widget]['callback'] == $callback ) || ( $id_base
>>> &&
>>> _get_widget_id_base($widget) == $id_base ) ) {
>>>
>>> The second comparison should be harmless, that would always be a String.
>>> But
>>> I'm not really sure what's inside
>>> $wp_registered_widgets[$widget]['callback']. It seems to be an object
>>> which
>>> can cause this problem, at least with some widgets. The poster in above
>>> mentioned thread changed both comparisons to === and the PHP error
>>> vanished.
>>> Of course, he doesn't want to change this with every WP upgrade, so I
>>> promised to bring this to attention. ;-)
>>>
>>> So, do you think I should just open a trac ticket for this? Could the
>>> stricter comparison have possible side effects? As I said, I'm not quite
>>> sure what's actually compared there.
>>>
>>> Regards,
>>> Johannes Ruthenberg
>>>
>>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jer at simianuprising.com  Tue Feb 16 15:45:16 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Tue, 16 Feb 2010 10:45:16 -0500
Subject: [wp-hackers] Script Install of WordPress Lastest
In-Reply-To: <4B7855F5.3070408@adcSTUDIO.com>
References: <a21f8bf01002011504r589d6dfau597ef31ad6559260@mail.gmail.com>
	<4B75F2AB.80605@adcSTUDIO.com> <op.u71jwcx7spxmuu@ho.st>
	<4B7855F5.3070408@adcSTUDIO.com>
Message-ID: <e1202cb11002160745r688e1b07w18208f86f3c4490e@mail.gmail.com>

Ken, another option if the PHP-based automation isn't working is to do
a normal download to your computer of the zip file, upload THAT with
FTP to your server, then use SSH to unzip it on the command line. I've
found this to be much faster than uploading the unzipped files (its
~2mb zipped and over 7mb unzipped) and I've never had problems with
it.

Obviously an even better solution is to work out a setup where you use
SVN checkouts, though even I haven't taken the time to get most of my
sites running that way, especially when the automated updates tend to
work fairly well.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From Ken at adcSTUDIO.com  Tue Feb 16 16:31:11 2010
From: Ken at adcSTUDIO.com (Ken Newman)
Date: Tue, 16 Feb 2010 11:31:11 -0500
Subject: [wp-hackers] Script Install of WordPress Lastest
In-Reply-To: <e1202cb11002160745r688e1b07w18208f86f3c4490e@mail.gmail.com>
References: <a21f8bf01002011504r589d6dfau597ef31ad6559260@mail.gmail.com>	<4B75F2AB.80605@adcSTUDIO.com>
	<op.u71jwcx7spxmuu@ho.st>	<4B7855F5.3070408@adcSTUDIO.com>
	<e1202cb11002160745r688e1b07w18208f86f3c4490e@mail.gmail.com>
Message-ID: <4B7AC84F.6070307@adcSTUDIO.com>

Thanks, Yeah, that's basically what I was trying, but it turns out that 
the problem I was having was the unzip function.

I did what you said (didn't work here, but worked fine on another 
version) and then I tried unzipping locally and uploaded (still didn't 
work). A new function was added that borked the update on my particular 
server/php version. So it's not the script that's broken, just the very 
early software ;-) I have faith that it'll be straightened out by 
release. http://core.trac.wordpress.org/ticket/12230

By the way, I was using php exec() to do command lines, as I run in a 
cloud environment (I'd have to get on LiveChat and have someone do the 
command line I believe, and I'm trying to avoid doing that to often). I  
don't know how to use svn, but I guess I'll have to suffer thru some 
more "new learning"

On 2/16/2010 10:45 AM, Jeremy Clarke wrote:
> Ken, another option if the PHP-based automation isn't working is to do
> a normal download to your computer of the zip file, upload THAT with
> FTP to your server, then use SSH to unzip it on the command line. I've
> found this to be much faster than uploading the unzipped files (its
> ~2mb zipped and over 7mb unzipped) and I've never had problems with
> it.
>
> Obviously an even better solution is to work out a setup where you use
> SVN checkouts, though even I haven't taken the time to get most of my
> sites running that way, especially when the automated updates tend to
> work fairly well.
>
>    


From emoya at tribune.com  Tue Feb 16 22:39:27 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Tue, 16 Feb 2010 16:39:27 -0600
Subject: [wp-hackers] WP-Caption/Image use inline styles
Message-ID: <C7A07ABF.364A%emoya@tribune.com>

I have run into a tough problem on (ugh) ie6, however this issue has been
exacerbated by the way WordPress styles these two particular elements.

To keep this short, the ultimate road block was that the editor tools for
embedding images and for wp-caption stick a combination inline css and html
attributes into the post for image sizing. In this particular instance, it
became difficult to override the inline styles in ie6 for reasons I wont go
into here. However I will talk a little bit about the solution.

This is a problem that presents itself in both images (which are posted as
html in the editor), and in wp-caption (which is set up through a
shortcode). Solutions to this include adding filters to the_content (but
that is kind of dirty, since we only really want to target images and
wp-caption. The solution we have now implemented rewrites the shortcode for
wp-caption to remove the inline styling. However we are still left with the
html attributes assigned to the images. Removing it from captions has solved
problems experienced in this instance ? perhaps there are better solutions
out there for this but that not the point of this email.

The point of this email, is to get an understanding about why there are
inline styles at all. It seems to go against the general philosophy of
leaving styling to the theme developers. Although the aforementioned
solution sufficed to solve this instance of the problem, it was quite a lot
of work for something that really shouldn?t be that difficult and wouldn?t
have been so difficult if there simply were no inline styling involved.

So is there some rationale behind the inline styling that I am not aware of?


-- 
Eddie Moya
Applications Developer
Tribune Technology
emoya at tribune.com





From tasker82 at gmail.com  Tue Feb 16 23:42:47 2010
From: tasker82 at gmail.com (Peter Tasker)
Date: Tue, 16 Feb 2010 18:42:47 -0500
Subject: [wp-hackers] wp-login.php custom error messages
Message-ID: <554ade5d1002161542g6712b5c9r5171d697d93fcb9e@mail.gmail.com>

Just trying to figure out how to get translated error messages for the
wp-login.php file. Can't seem to figure it out. I'm currently using the WPML
plugin to translate the site's posts and pages. It also does a pretty good
job of translating strings used in the theme. What I can't figure out is how
to translate the login page and the errors it throws. I know the WP_Error
class has options to display the errors, just trying to understand how the
errors are being sent.

Any help is geatly appreciated.

From admin at wpkid.com  Wed Feb 17 14:58:31 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Wed, 17 Feb 2010 14:58:31 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And Around
	TheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us><37DF6255071A47269C2054973E63128B@davidhr5m957yn>
	<001201caade1$85a6abe0$90f403a0$@us>
Message-ID: <07E68F2A30364440B879D45E13AEDCA4@davidhr5m957yn>

Monday, February 15, 2010 1:52 AM mark waterous Wrote:
> It doesn't matter which group anybody is in. Neither is of more or less
> benefit than the other. The difference is so minute, and the arguments so
> hashed over that I'm bowing out of this conversation after this.

So it might not have been the perfect set of examples to show, but then if 
some people don't understand what I've been saying throught this thread, 
then no wonder you're going to think it's small and stupid!

I think what you're referring to is a *discussion* and not exactly an 
argument that's been 'so hashed over' as you put it. Shame you don't want to 
carry on the discussion, but that's your choice, I'm not going to stop you! 
:)

> My point was simple: Your visitors should have NO need to be trying to 
> find
> pages on your site by altering the URL they are currently visiting. By
> 'your', just to be clear on this, I mean anybody who runs a web site, not
> just you and Mike. If a visitor has to alter the URL in any way to find a
> page, then your site has failed in providing an adequate navigation
> structure to begin with, and no amount of user friendly control over the 
> URL
> is going to save your visitors from leaving.

Sorry, but that makes no sense whatsoever. When did I ever imply that was 
the case, I'm on about /category/ and /custom-taxonomy-term/ only, nothing 
about users having to alter the URL they'd like to visit, that's just 
getting away from the original point of this!

> As many people have pointed out, if this is that important to you, create
> some rewrite rules or a plugin to provide the functionality you require. 
> The
> reason it is discussed for this long is not because the larger majority of
> WordPress users out there want it, it is because a small crowd of 
> dissidents
> won't stop arguing the same points OVER and over and OVER again.

Like I said further above, it's called a DISCUSSION, when people discuss 
things!

Fact is, I wouldn't know where to start, but going by what your saying, 
anyone who has an idea should create a plugin for it themselves, I'm not 
even going to get into a debate about this, except from saying, not everyone 
has the experience or ability to code! 


From admin at wpkid.com  Wed Feb 17 15:06:34 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Wed, 17 Feb 2010 15:06:34 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In
	AndAround	TheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us><D02291879F5B45B5AFD4158F5EE562D9@MAIN>
	<001301caadef$cd905e20$68b11a60$@us>
Message-ID: <139BE1D1103C4AFEA554B1FA44592FB8@davidhr5m957yn>

Monday, February 15, 2010 3:34 AM mark waterous Wrote:
> Custom taxonomies should work like namespaces. If you have three 
> taxonomies,
> such as 'Post', 'Category', and 'Links', these are by definition three
> separate entities. Under any of these you should be able to repeatedly use 
> a
> single slug (since each should act as its own namespace), such as
> 'custom-entry'.
>
> Now you have three urls;
>
> http://yoursite.com/post/custom-entry
> http://yoursite.com/category/custom-entry
> http://yoursite.com/link/custom-entry
>
> These are easily readable, no they're not 10 characters long, but who 
> cares.
> They also readily define what you're looking at. The first is a post, the
> second is a category, the third is a link.
>
> Now we remove these. Your url is http://yoursite.com/custom-entry which
> makes a couple people happier. How does WordPress tell whether you were
> looking for the post custom-entry, or the category, or the link, or any
> number of possible custom taxonomies? I guess what we should be really
> arguing here is the fact that WordPress doesn't have psychic abilities in
> the core.
>
> The fact of the matter is right now you have to use a unique slug,
> independent of what taxonomy the object belongs to. This doesn't mean we
> should further break the system by adding unnecessary functionality.

Ah, see, if you'd been following, we're not exactly on about removing /post/ 
/category/ or /link/ as in your example, we're on about aftually MAKING USE 
of those areas, which will just 404 if you visit them at the present 
moment! - Oh yeah, that's exactly what we're after, psychic abilities built 
into the core! #sarcastic 


From admin at wpkid.com  Wed Feb 17 15:18:17 2010
From: admin at wpkid.com (Mark McWilliams)
Date: Wed, 17 Feb 2010 15:18:17 -0000
Subject: [wp-hackers] Some Thoughts/Enhancement Ideas In And
	AroundTheCategory Side Of Things
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>	<161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com>	<DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn>	<4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com><8AFD2D16110245188F18B2112D94C984@davidhr5m957yn>
	<4B7378FC.2070302@voceconnect.com>
Message-ID: <E1CAFD043CE24F4A902E9C52BE8382E4@davidhr5m957yn>

Thursday, February 11, 2010 3:26 AM Michael Pretty Wrote:
> That said, I do think something could be thought of to improve the issue 
> with site.com/category/ throwing a 404 by default.  Personally, I've 
> always setup a page a /category/ that used a custom template that listed 
> the categories to fill this spot.  No reason something can't be added to 
> core to do the same.  Themes would have to support it though.

Well that's it, the discussion is in full swing, you'd think something could 
be looked into, having to create a page is just extra work for no reason, 
I'm surprised WP doesn't think /category/blog/ is actually a sub-page of 
/category/ but lets not go there!

Exactly, no reason can't be done/added! And yeah, themes would most likely 
have to support it, but it's going to ultimately enhance their theme at the 
same time so why wouldn't they? 


From jer at simianuprising.com  Wed Feb 17 16:19:10 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 17 Feb 2010 11:19:10 -0500
Subject: [wp-hackers] Multiple the_editor uses potential patch
In-Reply-To: <1d9b57821002160121w1da8c112hc9653cd97fe212cb@mail.gmail.com>
References: <1d9b57821002160121w1da8c112hc9653cd97fe212cb@mail.gmail.com>
Message-ID: <e1202cb11002170819i3156b96dm2c59271becc10f9e@mail.gmail.com>

On Tue, Feb 16, 2010 at 4:21 AM, Ash Goodman <ash at thinkinginvain.com> wrote:
> I have built a site with multiple editors and its was a nightmare and full
> of problems from stripping our paragraph tags to display bugs on the resize
> grippy (I don't know what it's really called) at the bottom of the editor.

FWIW the removal of <p> tags makes sense, that is the way wordpress
saves content to the DB. It removes the <p> tags and replaces it with
whitespace that makes sense when you look at it (i.e. how it looks in
the editor). This way editing in the HTML editor isn't as ugly and it
even looks okay in the database. Then at display time the content is
passed through the_content filter where it gets run through wpautop()
which converts the whitespace to <p> tags.

If you want your custom content to act like normal post content then
just make sure to run wpautop() on the content before displaying it.
Better yet, just run the standard content filter on it:

 echo apply_filters('the_content', get_my_stuff());

That will make sure that [shortcodes] and other filtering gets
processed for your content just like posts.

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From elizabeth at slatetechpdx.com  Wed Feb 17 19:34:15 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Wed, 17 Feb 2010 11:34:15 -0800
Subject: [wp-hackers] ACL support
Message-ID: <c399ae881002171134o39d4bf56k98827e536d9258cd@mail.gmail.com>

On one of my boxes I have ACLs.  This is great as I can have multiple
developers working on one project while the server has write access.
 Usually, ACLs are seamless to a user.  However, Wordpress doesn't seem to
handle this successfully.  I've done through a bit of the code, but cannot
seem to track down why it fails.  If it is running as the apache user, it
should have the appropriate read and write settings.  It fails.

Has anyone run into this problem before?

Thanks.

From alex at dunae.ca  Thu Feb 18 01:22:05 2010
From: alex at dunae.ca (Alex Dunae)
Date: Wed, 17 Feb 2010 17:22:05 -0800
Subject: [wp-hackers] Downloading with media_sideload_image
Message-ID: <66310486-78ED-4E38-A2C7-851923021480@dunae.ca>

I'm create a theme that will use YouTube thumbnails as the post thumbnail when a YouTube link is present, but I've run into a block with media_sideload_image.  It returns an HTML string, not the new attachment's ID.  Is there a way to attach a remote image to a post and get its ID as the return value?

Thanks in advance for any help.



From wp at andrewnacin.com  Thu Feb 18 04:41:02 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 17 Feb 2010 23:41:02 -0500
Subject: [wp-hackers] Downloading with media_sideload_image
In-Reply-To: <66310486-78ED-4E38-A2C7-851923021480@dunae.ca>
References: <66310486-78ED-4E38-A2C7-851923021480@dunae.ca>
Message-ID: <4cc4de141002172041x60ff12adj63dc77b30cb13dd7@mail.gmail.com>

Since you know the post ID, you can fetch that post's attachments, ordered
by post_date descending, and grab the attachment ID that way. Example:

$upload = media_sideload_image( $url, $post_id );
if ( is_wp_error( $upload ) )
die( 'Nope' );
$attachments = get_posts( array(
'post_type' => 'attachment',
 'number_posts' => 1,
'post_status' => null,
'post_parent' => $post_id,
 'orderby' => 'post_date',
'order' => 'DESC',
) );
$thumbnail_id = $attachments[0]->ID;

On Wed, Feb 17, 2010 at 8:22 PM, Alex Dunae <alex at dunae.ca> wrote:

> I'm create a theme that will use YouTube thumbnails as the post thumbnail
> when a YouTube link is present, but I've run into a block with
> media_sideload_image.  It returns an HTML string, not the new attachment's
> ID.  Is there a way to attach a remote image to a post and get its ID as the
> return value?

From wordpress at dd32.id.au  Thu Feb 18 07:12:52 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 18 Feb 2010 18:12:52 +1100
Subject: [wp-hackers] ACL support
In-Reply-To: <c399ae881002171134o39d4bf56k98827e536d9258cd@mail.gmail.com>
References: <c399ae881002171134o39d4bf56k98827e536d9258cd@mail.gmail.com>
Message-ID: <op.u8babnycspxmuu@ho.st>

Is this Windows or Linux?
If windows, It should work seemlessly.

If apache, The files must be OWNED by the same user that apache is running  
as, NOT have R/W access.
The reason being comes down to File ownership, When PHP creates files,  
they will be owned by apache, and will have the apache group as well.

The check therefor, only checks to see that the owner of new files will  
match that of the current files, to make it easier on users who do not  
have access to apache-created files (They have read access, However,  
cannot delete/modify the files for example).

There are a few ways you can get around that protection.

One way:

Filter the filesystem method: (Force it to use Direct IO calls)
add_filter('fs_method', create_function('', 'return "direct";'));

define FS_CHMOD_FILE and FS_CHMOD_DIR to octal values that you wish for  
the files to be created as, (ie. define(..., 0777); - That 0 is imortant,  
tells PHP its an octal number)
I'm not sure how it'll play with your ACL entries, just have to hope the  
files inherit them too..


...That was all assuming you're refering to the Installers/Upgraders.. and  
not the file upload/etc, You didnt exactly mention exactly what was  
failing.


On Thu, 18 Feb 2010 06:34:15 +1100, Elizabeth Buckwalter  
<elizabeth at slatetechpdx.com> wrote:

> On one of my boxes I have ACLs.  This is great as I can have multiple
> developers working on one project while the server has write access.
>  Usually, ACLs are seamless to a user.  However, Wordpress doesn't seem  
> to
> handle this successfully.  I've done through a bit of the code, but  
> cannot
> seem to track down why it fails.  If it is running as the apache user, it
> should have the appropriate read and write settings.  It fails.
>
> Has anyone run into this problem before?
>
> Thanks.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
  Web: http://dd32.id.au/

From wp-hackers at striderweb.com  Thu Feb 18 13:50:13 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu, 18 Feb 2010 07:50:13 -0600
Subject: [wp-hackers] Kudos
Message-ID: <11A99DEE-CC8D-49F0-830A-D3ED9AE1A67F@striderweb.com>

Hi all --

I just wanted to say that I've been keeping an eye on the changes going into WP 3.0 -- especially custom post types -- and I think everyone's doing some excellent work.  A bit frustrated that I haven't had much opportunity to contribute more (external factors) but I'm watching with interest.

Thanks, and keep it up.  3.0 should be a very exciting release!

Regards,

Stephen

From otto at ottodestruct.com  Thu Feb 18 14:37:30 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 18 Feb 2010 08:37:30 -0600
Subject: [wp-hackers] WP-Caption/Image use inline styles
In-Reply-To: <C7A07ABF.364A%emoya@tribune.com>
References: <C7A07ABF.364A%emoya@tribune.com>
Message-ID: <161617691002180637gee83c0cj5474eb82ce8756c6@mail.gmail.com>

On Tue, Feb 16, 2010 at 4:39 PM, Moya, Eddie <emoya at tribune.com> wrote:
> I have run into a tough problem on (ugh) ie6, however this issue has been
> exacerbated by the way WordPress styles these two particular elements.
>
> To keep this short, the ultimate road block was that the editor tools for
> embedding images and for wp-caption stick a combination inline css and html
> attributes into the post for image sizing. In this particular instance, it
> became difficult to override the inline styles in ie6 for reasons I wont go
> into here. However I will talk a little bit about the solution.
>
> This is a problem that presents itself in both images (which are posted as
> html in the editor), and in wp-caption (which is set up through a
> shortcode). Solutions to this include adding filters to the_content (but
> that is kind of dirty, since we only really want to target images and
> wp-caption. The solution we have now implemented rewrites the shortcode for
> wp-caption to remove the inline styling. However we are still left with the
> html attributes assigned to the images. Removing it from captions has solved
> problems experienced in this instance ? perhaps there are better solutions
> out there for this but that not the point of this email.
>
> The point of this email, is to get an understanding about why there are
> inline styles at all. It seems to go against the general philosophy of
> leaving styling to the theme developers. Although the aforementioned
> solution sufficed to solve this instance of the problem, it was quite a lot
> of work for something that really shouldn?t be that difficult and wouldn?t
> have been so difficult if there simply were no inline styling involved.
>
> So is there some rationale behind the inline styling that I am not aware of?

To which inline styling are you referring?

The only styling I'm aware that the image captioning system uses is
width and height, and those belong inline because they will be
different for each image, due to image sizes being different.

You can't generically style image sizes, and not specifying them is
bad form as it causes page rendering slowdowns (image spaces can be
rendered before the image loads if the width/height is given).

-Otto
Sent from Memphis, TN, United States

From paul at webdistortion.com  Thu Feb 18 15:58:12 2010
From: paul at webdistortion.com (Paul Anthony)
Date: Thu, 18 Feb 2010 15:58:12 +0000
Subject: [wp-hackers] popular posts plugin - exclude a category.
Message-ID: <be6e170c1002180758r126caa84u728d62546e080ed5@mail.gmail.com>

Hi guys, this is my first post in the list. I'm using a modified popular
posts plugin and need to exclude all posts within a certain category. The
below statement doesn't seem to be working, and I'm wondering if someone
more familiar with the schema can shed any light? The parent category ID is
20 - I'd also like to exclude any sub categories of that category, but that
isn't as big a priority.





SELECT wp_posts.ID, wp_posts.post_title ,
(SUM(wp_popularpostsdatacache.pageviews)) AS 'pageviews' ,
wp_posts.comment_count AS 'comment_count' FROM wp_posts RIGHT JOIN
wp_popularpostsdatacache ON wp_posts.ID = wp_popularpostsdatacache.id WHERE
wp_posts.post_status = 'publish' AND wp_posts.post_password = '' AND
wp_popularpostsdatacache.day >= '2010-02-18' - INTERVAL 7 DAY

/*thinkthe problem is here..*/

AND wp_posts.ID NOT IN (SELECT term_taxonomy_id FROM wp_term_relationships
WHERE term_taxonomy_id IN (20))

/*.*/


GROUP BY wp_posts.ID ORDER BY pageviews DESC LIMIT 5

From mikeschinkel at newclarity.net  Thu Feb 18 16:23:43 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 18 Feb 2010 11:23:43 -0500
Subject: [wp-hackers] Kudos
In-Reply-To: <11A99DEE-CC8D-49F0-830A-D3ED9AE1A67F@striderweb.com>
References: <11A99DEE-CC8D-49F0-830A-D3ED9AE1A67F@striderweb.com>
Message-ID: <02180F43-8227-4DCD-A7C1-05F001F13A85@newclarity.net>

On Feb 18, 2010, at 8:50 AM, Stephen Rider wrote:
> I just wanted to say that I've been keeping an eye on the changes going into WP 3.0 -- especially custom post types -- and I think everyone's doing some excellent work.  A bit frustrated that I haven't had much opportunity to contribute more (external factors) but I'm watching with interest.
> 
> Thanks, and keep it up.  3.0 should be a very exciting release!

+1

-Mike

From alex at dunae.ca  Thu Feb 18 17:56:37 2010
From: alex at dunae.ca (Alex Dunae)
Date: Thu, 18 Feb 2010 09:56:37 -0800 (PST)
Subject: [wp-hackers] Downloading with media_sideload_image
In-Reply-To: <4cc4de141002172041x60ff12adj63dc77b30cb13dd7@mail.gmail.com>
References: <66310486-78ED-4E38-A2C7-851923021480@dunae.ca> 
	<4cc4de141002172041x60ff12adj63dc77b30cb13dd7@mail.gmail.com>
Message-ID: <c3980a6c-858b-47fd-ad2f-db96ed26f958@b36g2000pri.googlegroups.com>

On Feb 17, 8:41?pm, Andrew Nacin <w... at andrewnacin.com> wrote:
> Since you know the post ID, you can fetch that post's attachments, ordered
> by post_date descending, and grab the attachment ID that way.

Thanks Andrew.  I kept looking for a pure way to do this (so I
wouldn't have to trust that the sideloaded image was the most recent
in a high volume setting) but grabbing the latest attachment is simple
and should work just fine.

Much appreciated.


From emoya at tribune.com  Thu Feb 18 17:59:20 2010
From: emoya at tribune.com (Moya, Eddie)
Date: Thu, 18 Feb 2010 11:59:20 -0600
Subject: [wp-hackers] WP-Caption/Image use inline styles
In-Reply-To: <161617691002180637gee83c0cj5474eb82ce8756c6@mail.gmail.com>
Message-ID: <C7A2DC18.3748%emoya@tribune.com>


On 2/18/10 8:37 AM, "Otto" <otto at ottodestruct.com> wrote:
> 
> To which inline styling are you referring?
> 
> The only styling I'm aware that the image captioning system uses is
> width and height, and those belong inline because they will be
> different for each image, due to image sizes being different.
> 
> You can't generically style image sizes, and not specifying them is
> bad form as it causes page rendering slowdowns (image spaces can be
> rendered before the image loads if the width/height is given).
> 
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

That's the styling I am referring to, the sizes for image/wp-caption. What
you said about images is true and makes sense. However as it stands, images
are given size with html attributes and that's fine since those are readily
overridden by css. However wp-caption is given inline style.

For us this caused havoc on IE6. It was a combination of no max-width
support, and the difference in how IE6 handles !important, and the box model
bugs. The lynchpin that would have avoided the whole mess was the inline
styles for wp-caption.

Wouldn't the need  for defining the size of wp-caption be met by html
attributes instead of inline css styles? If so that would seem to be the
better solution.


-- 
Eddie Moya
Applications Developer
Tribune Technology
emoya at tribune.com



From otto at ottodestruct.com  Thu Feb 18 21:56:30 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 18 Feb 2010 15:56:30 -0600
Subject: [wp-hackers] WP-Caption/Image use inline styles
In-Reply-To: <C7A2DC18.3748%emoya@tribune.com>
References: <161617691002180637gee83c0cj5474eb82ce8756c6@mail.gmail.com> 
	<C7A2DC18.3748%emoya@tribune.com>
Message-ID: <161617691002181356o7490a166t3cecf215d7fc3117@mail.gmail.com>

On Thu, Feb 18, 2010 at 11:59 AM, Moya, Eddie <emoya at tribune.com> wrote:
> Wouldn't the need ?for defining the size of wp-caption be met by html
> attributes instead of inline css styles? If so that would seem to be the
> better solution.

No, because DIV's don't have width attributes. The style is the only
way to do it, since the width must be variable based on the width of
the image.

-Otto

From scribu at gmail.com  Thu Feb 18 22:12:39 2010
From: scribu at gmail.com (scribu)
Date: Fri, 19 Feb 2010 00:12:39 +0200
Subject: [wp-hackers] popular posts plugin - exclude a category.
In-Reply-To: <be6e170c1002180758r126caa84u728d62546e080ed5@mail.gmail.com>
References: <be6e170c1002180758r126caa84u728d62546e080ed5@mail.gmail.com>
Message-ID: <349fe48b1002181412t21de4878lb1c5d78bc1d85e1a@mail.gmail.com>

The wp-hackers mailing list is for discussions related to WordPress Core
development.

Please direct support questions to the support forums:

http://wordpress.org/support/


-- 
http://scribu.net

From dan at phiffer.org  Fri Feb 19 14:49:58 2010
From: dan at phiffer.org (Dan Phiffer)
Date: Fri, 19 Feb 2010 09:49:58 -0500
Subject: [wp-hackers] Page templates in subdirectories
Message-ID: <DDA7DCAC-F41F-4C4E-B4A6-9E32D0A37B67@phiffer.org>

Hi all,

I'm writing a theme that includes custom page templates that I'd like to keep in subdirectories. There's some code that explicitly removes this ability (https://core.trac.wordpress.org/browser/trunk/wp-admin/includes/theme.php#L177) and I'm curious why it's there.

There don't seem to be any filters that I could use to circumvent this, so without modifying core I seem to be limited to the top-level theme directory. This seems unnecessarily restrictive, but maybe I'm missing something?

Thanks,
-Dan 

From wp at andrewnacin.com  Fri Feb 19 14:57:46 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 19 Feb 2010 09:57:46 -0500
Subject: [wp-hackers] Page templates in subdirectories
In-Reply-To: <DDA7DCAC-F41F-4C4E-B4A6-9E32D0A37B67@phiffer.org>
References: <DDA7DCAC-F41F-4C4E-B4A6-9E32D0A37B67@phiffer.org>
Message-ID: <4cc4de141002190657q48d17accte21602c4869d44c2@mail.gmail.com>

That check was added in 2.9 because while we showed page templates that were
in subdirectories, they were never functional. See
http://core.trac.wordpress.org/ticket/10959.

On Fri, Feb 19, 2010 at 9:49 AM, Dan Phiffer <dan at phiffer.org> wrote:

> I'm writing a theme that includes custom page templates that I'd like to
> keep in subdirectories. There's some code that explicitly removes this
> ability (
> https://core.trac.wordpress.org/browser/trunk/wp-admin/includes/theme.php#L177)
> and I'm curious why it's there.
>
> There don't seem to be any filters that I could use to circumvent this, so
> without modifying core I seem to be limited to the top-level theme
> directory. This seems unnecessarily restrictive, but maybe I'm missing
> something?
>

From dan at phiffer.org  Fri Feb 19 15:41:08 2010
From: dan at phiffer.org (Dan Phiffer)
Date: Fri, 19 Feb 2010 10:41:08 -0500
Subject: [wp-hackers] Page templates in subdirectories
In-Reply-To: <4cc4de141002190657q48d17accte21602c4869d44c2@mail.gmail.com>
References: <DDA7DCAC-F41F-4C4E-B4A6-9E32D0A37B67@phiffer.org>
	<4cc4de141002190657q48d17accte21602c4869d44c2@mail.gmail.com>
Message-ID: <42061661-9B84-4839-B530-617E7B9A1154@phiffer.org>

Ah, seems that I was missing something after all...

Thanks Andrew!

-Dan


On Feb 19, 2010, at 9:57 AM, Andrew Nacin wrote:

> That check was added in 2.9 because while we showed page templates that were
> in subdirectories, they were never functional. See
> http://core.trac.wordpress.org/ticket/10959.
> 
> On Fri, Feb 19, 2010 at 9:49 AM, Dan Phiffer <dan at phiffer.org> wrote:
> 
>> I'm writing a theme that includes custom page templates that I'd like to
>> keep in subdirectories. There's some code that explicitly removes this
>> ability (
>> https://core.trac.wordpress.org/browser/trunk/wp-admin/includes/theme.php#L177)
>> and I'm curious why it's there.
>> 
>> There don't seem to be any filters that I could use to circumvent this, so
>> without modifying core I seem to be limited to the top-level theme
>> directory. This seems unnecessarily restrictive, but maybe I'm missing
>> something?
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From staraclib at free.fr  Fri Feb 19 16:31:59 2010
From: staraclib at free.fr (Stlib)
Date: Fri, 19 Feb 2010 17:31:59 +0100
Subject: [wp-hackers] Mysql crash
Message-ID: <30053AE72C3A47218AB6D8F3E922BE76@robert>

Hello !

I have recently moved a Wordpress blog into a new servor which has these caracteristics : debian, mysql 5.0.51a-24, 16GB of ram. 

The mysql crashed regularly with this log info:

100219 12:50:42 - mysqld got signal 6;
This could be because you hit a bug. It is also possible that this binary
or one of the libraries it was linked against is corrupt, improperly built,
or misconfigured. This error can also be caused by malfunctioning hardware.
We will try our best to scrape up some info that will hopefully help diagnose
the problem, but since we have already crashed, something is definitely wrong
and this may fail.

key_buffer_size=134217728
read_buffer_size=131072
max_used_connections=40
max_connections=2000
threads_connected=7
It is possible that mysqld could use up to
key_buffer_size + (read_buffer_size + sort_buffer_size)*max_connections = 4483056 K
bytes of memory
Hope that's ok; if not, decrease some variables in the equation.

thd=0x153f280
Attempting backtrace. You can use the following information to find out
where mysqld died. If you see no messages after this, something went
terribly wrong...
Cannot determine thread, fp=0x153f280, backtrace may not be correct.
Bogus stack limit or frame pointer, fp=0x153f280, stack_bottom=0x44a20000, thread_stack=131072, aborting backtrace.
Trying to get some variables.
Some pointers may be invalid and cause the dump to abort...
thd->query at 0x145fc30 = SELECT SQL_CALC_FOUND_ROWS distinct wp_posts.* FROM wp_posts  LEFT JOIN wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)  LEFT JOIN wp_term_taxono$
thd->thread_id=6120
The manual page at http://www.mysql.com/doc/en/Crashing.html contains
information that should help you find out what is causing the crash.


Can anyone knows about this problem ? I found on wp-hackers that advanced category excluder plugin may be the source of the problem (here: http://lists.automattic.com/pipermail/wp-hackers/2009-October/027973.html ).
If this plugin is the problem, why didn't the server crash on the old servor, before the migration, whereas the old servor is less powerful than the new ?

Thanks for help, and sorry for my bad english, I'm from France ! ;)

From peter.westwood at ftwr.co.uk  Fri Feb 19 17:09:32 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 19 Feb 2010 17:09:32 +0000
Subject: [wp-hackers] Page templates in subdirectories
In-Reply-To: <42061661-9B84-4839-B530-617E7B9A1154@phiffer.org>
References: <DDA7DCAC-F41F-4C4E-B4A6-9E32D0A37B67@phiffer.org>
	<4cc4de141002190657q48d17accte21602c4869d44c2@mail.gmail.com>
	<42061661-9B84-4839-B530-617E7B9A1154@phiffer.org>
Message-ID: <7178B17F-1418-4DF3-A444-1EE895CA3950@ftwr.co.uk>


On 19 Feb 2010, at 15:41, Dan Phiffer wrote:

> Ah, seems that I was missing something after all...
> 
> On Feb 19, 2010, at 9:57 AM, Andrew Nacin wrote:
> 
>> That check was added in 2.9 because while we showed page templates that were
>> in subdirectories, they were never functional. See
>> http://core.trac.wordpress.org/ticket/10959.
>> 
>> On Fri, Feb 19, 2010 at 9:49 AM, Dan Phiffer <dan at phiffer.org> wrote:
>> 
>>> I'm writing a theme that includes custom page templates that I'd like to
>>> keep in subdirectories. There's some code that explicitly removes this
>>> ability (
>>> https://core.trac.wordpress.org/browser/trunk/wp-admin/includes/theme.php#L177)
>>> and I'm curious why it's there.
>>> 
>>> There don't seem to be any filters that I could use to circumvent this, so
>>> without modifying core I seem to be limited to the top-level theme
>>> directory. This seems unnecessarily restrictive, but maybe I'm missing
>>> something?
>>> 


If you have the time and the inclination to create a patch that makes it work then it would be accepted with open arms.

We added the code, as Andrew said, because although we were showing them they never worked and it wasn't easy at the time to work out how to make them work.

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From gaarai at gaarai.com  Fri Feb 19 17:09:49 2010
From: gaarai at gaarai.com (Chris Jean)
Date: Fri, 19 Feb 2010 11:09:49 -0600
Subject: [wp-hackers] Mysql crash
In-Reply-To: <30053AE72C3A47218AB6D8F3E922BE76@robert>
References: <30053AE72C3A47218AB6D8F3E922BE76@robert>
Message-ID: <4B7EC5DD.3080404@gaarai.com>

Have you tried turning off the plugins to determine the exact cause of 
the issue?

Chris Jean
Coder for http://ithemes.com/
http://gaarai.com/
@chrisjean


On 02/19/2010 10:31 AM, Stlib wrote:
> Hello !
>
> I have recently moved a Wordpress blog into a new servor which has these caracteristics : debian, mysql 5.0.51a-24, 16GB of ram.
>
> The mysql crashed regularly with this log info:
>
> 100219 12:50:42 - mysqld got signal 6;
> This could be because you hit a bug. It is also possible that this binary
> or one of the libraries it was linked against is corrupt, improperly built,
> or misconfigured. This error can also be caused by malfunctioning hardware.
> We will try our best to scrape up some info that will hopefully help diagnose
> the problem, but since we have already crashed, something is definitely wrong
> and this may fail.
>
> key_buffer_size=134217728
> read_buffer_size=131072
> max_used_connections=40
> max_connections=2000
> threads_connected=7
> It is possible that mysqld could use up to
> key_buffer_size + (read_buffer_size + sort_buffer_size)*max_connections = 4483056 K
> bytes of memory
> Hope that's ok; if not, decrease some variables in the equation.
>
> thd=0x153f280
> Attempting backtrace. You can use the following information to find out
> where mysqld died. If you see no messages after this, something went
> terribly wrong...
> Cannot determine thread, fp=0x153f280, backtrace may not be correct.
> Bogus stack limit or frame pointer, fp=0x153f280, stack_bottom=0x44a20000, thread_stack=131072, aborting backtrace.
> Trying to get some variables.
> Some pointers may be invalid and cause the dump to abort...
> thd->query at 0x145fc30 = SELECT SQL_CALC_FOUND_ROWS distinct wp_posts.* FROM wp_posts  LEFT JOIN wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)  LEFT JOIN wp_term_taxono$
> thd->thread_id=6120
> The manual page at http://www.mysql.com/doc/en/Crashing.html contains
> information that should help you find out what is causing the crash.
>
>
> Can anyone knows about this problem ? I found on wp-hackers that advanced category excluder plugin may be the source of the problem (here: http://lists.automattic.com/pipermail/wp-hackers/2009-October/027973.html ).
> If this plugin is the problem, why didn't the server crash on the old servor, before the migration, whereas the old servor is less powerful than the new ?
>
> Thanks for help, and sorry for my bad english, I'm from France ! ;)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    

From staraclib at free.fr  Fri Feb 19 17:18:17 2010
From: staraclib at free.fr (Stlib)
Date: Fri, 19 Feb 2010 18:18:17 +0100
Subject: [wp-hackers] Mysql crash
References: <30053AE72C3A47218AB6D8F3E922BE76@robert>
	<4B7EC5DD.3080404@gaarai.com>
Message-ID: <AB8D1D9EEC0846E598C39A1FA9AB7809@robert>

Hello !

I've turned of the Advanced Category Excluder, and we will see if the crash 
reappeared...

I guess if you have an idea without deactivate all plugins, cause I need its 
:(

Moreover, if Advanced Category Excluder is the problem, do you think I can 
use Simply Exclude plugin or it will provoque the same crash ?

Thanks.



----- Original Message ----- 
From: "Chris Jean" <gaarai at gaarai.com>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, February 19, 2010 6:09 PM
Subject: Re: [wp-hackers] Mysql crash


> Have you tried turning off the plugins to determine the exact cause of the 
> issue?
>
> Chris Jean
> Coder for http://ithemes.com/
> http://gaarai.com/
> @chrisjean
>
>
> On 02/19/2010 10:31 AM, Stlib wrote:
>> Hello !
>>
>> I have recently moved a Wordpress blog into a new servor which has these 
>> caracteristics : debian, mysql 5.0.51a-24, 16GB of ram.
>>
>> The mysql crashed regularly with this log info:
>>
>> 100219 12:50:42 - mysqld got signal 6;
>> This could be because you hit a bug. It is also possible that this binary
>> or one of the libraries it was linked against is corrupt, improperly 
>> built,
>> or misconfigured. This error can also be caused by malfunctioning 
>> hardware.
>> We will try our best to scrape up some info that will hopefully help 
>> diagnose
>> the problem, but since we have already crashed, something is definitely 
>> wrong
>> and this may fail.
>>
>> key_buffer_size=134217728
>> read_buffer_size=131072
>> max_used_connections=40
>> max_connections=2000
>> threads_connected=7
>> It is possible that mysqld could use up to
>> key_buffer_size + (read_buffer_size + sort_buffer_size)*max_connections = 
>> 4483056 K
>> bytes of memory
>> Hope that's ok; if not, decrease some variables in the equation.
>>
>> thd=0x153f280
>> Attempting backtrace. You can use the following information to find out
>> where mysqld died. If you see no messages after this, something went
>> terribly wrong...
>> Cannot determine thread, fp=0x153f280, backtrace may not be correct.
>> Bogus stack limit or frame pointer, fp=0x153f280, 
>> stack_bottom=0x44a20000, thread_stack=131072, aborting backtrace.
>> Trying to get some variables.
>> Some pointers may be invalid and cause the dump to abort...
>> thd->query at 0x145fc30 = SELECT SQL_CALC_FOUND_ROWS distinct wp_posts.* 
>> FROM wp_posts  LEFT JOIN wp_term_relationships ON (wp_posts.ID = 
>> wp_term_relationships.object_id)  LEFT JOIN wp_term_taxono$
>> thd->thread_id=6120
>> The manual page at http://www.mysql.com/doc/en/Crashing.html contains
>> information that should help you find out what is causing the crash.
>>
>>
>> Can anyone knows about this problem ? I found on wp-hackers that advanced 
>> category excluder plugin may be the source of the problem (here: 
>> http://lists.automattic.com/pipermail/wp-hackers/2009-October/027973.html 
>>  ).
>> If this plugin is the problem, why didn't the server crash on the old 
>> servor, before the migration, whereas the old servor is less powerful 
>> than the new ?
>>
>> Thanks for help, and sorry for my bad english, I'm from France ! ;)
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


From lists at hikarinet.info  Sun Feb 21 12:15:03 2010
From: lists at hikarinet.info (Hikari)
Date: Sun, 21 Feb 2010 09:15:03 -0300
Subject: [wp-hackers] Best way to verify if a post_id is valid
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><BE4C7412-8058-42D9-AB1F-4FB5EAB2AC6B@newclarity.net><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>	<000a01caadbf$6ba75e50$42f61af0$@us><37DF6255071A47269C2054973E63128B@davidhr5m957yn><001201caade1$85a6abe0$90f403a0$@us>
	<46D94AAE-35A2-4809-9422-C884DC1E301B@newclarity.net>
Message-ID: <AA679CB59428491D9305A5139A94AF81@MAIN>

When we have an ID, there is really a lot of ways to verify if there is a post with that ID, but what's the best/correct way to do 
so?

That includes verifying if that ID is not a revision, or a scheduled post, or a draft, etc.


tnx!


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br


From scribu at gmail.com  Sun Feb 21 13:54:58 2010
From: scribu at gmail.com (scribu)
Date: Sun, 21 Feb 2010 15:54:58 +0200
Subject: [wp-hackers] Best way to verify if a post_id is valid
In-Reply-To: <AA679CB59428491D9305A5139A94AF81@MAIN>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com>
	<C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net>
	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn>
	<D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>
	<000a01caadbf$6ba75e50$42f61af0$@us>
	<37DF6255071A47269C2054973E63128B@davidhr5m957yn>
	<001201caade1$85a6abe0$90f403a0$@us>
	<46D94AAE-35A2-4809-9422-C884DC1E301B@newclarity.net>
	<AA679CB59428491D9305A5139A94AF81@MAIN>
Message-ID: <349fe48b1002210554o1cf5e77bva3c9becd2727de80@mail.gmail.com>

Maybe something like:

if ( $post = get_post($post_id) && 'post' == $post->post_type && 'publish'
== $post->post_status) {
    // do stuff
}

Of course, it depends on what you're doing. So, there's no universal "best
way".


-- 
http://scribu.net

From jer at simianuprising.com  Sun Feb 21 16:09:18 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Sun, 21 Feb 2010 11:09:18 -0500
Subject: [wp-hackers] Mysql crash
In-Reply-To: <AB8D1D9EEC0846E598C39A1FA9AB7809@robert>
References: <30053AE72C3A47218AB6D8F3E922BE76@robert>
	<4B7EC5DD.3080404@gaarai.com>
	<AB8D1D9EEC0846E598C39A1FA9AB7809@robert>
Message-ID: <e1202cb11002210809n22cb3f2dtd56608f9088209c4@mail.gmail.com>

MySQL configuration is not a simple matter of having X hardware or Y
plugins on your site. Each server needs a different configuration and
new servers often aren't configured to use all their resources.
Obviously your 16GB of ram is more than enough for anything, but MySQL
can easily be mis-configured to only ever use a subset of that ram
(think about what kind of default config you'd include with debian if
you were releasing it, you wouldn't want to assume 16GB of ram).

I deeply recommend this shell script for tuning your server
https://launchpad.net/mysql-tuning-primer

You run it from the command line and it will look through your MySQL
configuration and tell you what could probably use a change. It is
fairly easy to use and seems to know about most situations that can be
potentially fatal to your server (i.e. "your X value combined with
your Y value means that if enough traffic comes in your server will
crash, lower one or the other"). By carefully following its advice
over time I managed to stop my DB server from crashing. (over time is
important, as mysql needs to run for awhile with the modified settings
so that the script can use the new statistics generated by mysql to
re-diagnose new advice).

WRT category plugins you will find that any fancy category stuff is
very hard on the database. Plugins might make it easy to set up
category exclusion in various ways, but they probably won't make it
easier on the server, and queries with category__and, the standard
WP_Query way, will cause a lot of strain on your server. I recommend
re-assessing the need for this category exclusion especially if you
are doing really fancy stuff. If you can do less category
manipulations on each pageload it will be better for the server
performance and stability.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From p at owind.com  Sun Feb 21 16:29:46 2010
From: p at owind.com (Paveo Chen)
Date: Mon, 22 Feb 2010 00:29:46 +0800
Subject: [wp-hackers] hiphop-php and WordPress
Message-ID: <935eba0e1002210829u2d97c230t6f2fbe31afc0356f@mail.gmail.com>

Hi, all,
Any one got success to compile WordPress by using hiphop-php?
I just tried to compile WP trunk source files, but failed.

Bests,
-Paveo

From beau at dentedreality.com.au  Sun Feb 21 17:49:21 2010
From: beau at dentedreality.com.au (Beau Lebens)
Date: Sun, 21 Feb 2010 09:49:21 -0800
Subject: [wp-hackers] hiphop-php and WordPress
In-Reply-To: <935eba0e1002210829u2d97c230t6f2fbe31afc0356f@mail.gmail.com>
References: <935eba0e1002210829u2d97c230t6f2fbe31afc0356f@mail.gmail.com>
Message-ID: <902424491002210949p34c04f37l13efcaaef6295824@mail.gmail.com>

Are you following the instructions at the bottom of this page?
http://wiki.github.com/facebook/hiphop-php/running-hiphop

I haven't tried it myself, and based on some of the things I recall
being mentioned as blockers to using HipHop I'm surprised; but sounds
like it should work.

Beau

On Sun, Feb 21, 2010 at 8:29 AM, Paveo Chen <p at owind.com> wrote:
> Hi, all,
> Any one got success to compile WordPress by using hiphop-php?
> I just tried to compile WP trunk source files, but failed.
>
> Bests,
> -Paveo
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From p at owind.com  Sun Feb 21 17:55:09 2010
From: p at owind.com (Paveo Chen)
Date: Mon, 22 Feb 2010 01:55:09 +0800
Subject: [wp-hackers] hiphop-php and WordPress
In-Reply-To: <902424491002210949p34c04f37l13efcaaef6295824@mail.gmail.com>
References: <935eba0e1002210829u2d97c230t6f2fbe31afc0356f@mail.gmail.com> 
	<902424491002210949p34c04f37l13efcaaef6295824@mail.gmail.com>
Message-ID: <935eba0e1002210955g18bb3a94t594da72aeced0aba@mail.gmail.com>

sure, following
http://wiki.github.com/facebook/hiphop-php/running-hiphop but failed
on Ubuntu 9.10 64bit.


Bests,
-Paveo



On Mon, Feb 22, 2010 at 1:49 AM, Beau Lebens <beau at dentedreality.com.au> wrote:
> Are you following the instructions at the bottom of this page?
> http://wiki.github.com/facebook/hiphop-php/running-hiphop
>
> I haven't tried it myself, and based on some of the things I recall
> being mentioned as blockers to using HipHop I'm surprised; but sounds
> like it should work.
>
> Beau
>
> On Sun, Feb 21, 2010 at 8:29 AM, Paveo Chen <p at owind.com> wrote:
>> Hi, all,
>> Any one got success to compile WordPress by using hiphop-php?
>> I just tried to compile WP trunk source files, but failed.
>>
>> Bests,
>> -Paveo
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ron at vnetworx.net  Sun Feb 21 21:07:46 2010
From: ron at vnetworx.net (Ron Guerin)
Date: Sun, 21 Feb 2010 16:07:46 -0500
Subject: [wp-hackers] Bug in wp_mail
Message-ID: <4B81A0A2.70508@vnetworx.net>

Since I really don't need to be getting the bounces and whatnot for
everyone running WordPress on my server,  I'm trying to track down why
the Return-Path: in mail sent by WordPress is set to my web server's
email address instead of something from WordPress, or even a Return-Path
I forced by setting "php_value sendmail_from".  I discovered wp_mail in
pluggable.php appears to not ever actually set the sender, which assures
that an undesirable default gets used instead of something actually
configured in WP (like the admin's address, or even
wordpress at domaininquestion.com)

I think something else must be wrong in addition, since WP is
overriding  PHP's explicit sendmail_from , which it seems to me should
be a workaround for a mere failure to set the sender.

I have patched the bug locally by adding (wp-includes/pluggable.php)

        // Plugin authors can override the potentially troublesome default
        $phpmailer->From = apply_filters( 'wp_mail_from', $from_email );
        $phpmailer->FromName = apply_filters( 'wp_mail_from_name',
$from_name );
+       $phpmailer->Sender = $from_email;

... but this will be overwritten at next upgrade, and I'm guessing the
problem really needs something more than that as a proper fix.

- Ron

From peter.westwood at ftwr.co.uk  Sun Feb 21 21:49:10 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun, 21 Feb 2010 21:49:10 +0000
Subject: [wp-hackers] Bug in wp_mail
In-Reply-To: <4B81A0A2.70508@vnetworx.net>
References: <4B81A0A2.70508@vnetworx.net>
Message-ID: <7FB3F6CC-1E1E-4728-AF35-34031541A1C6@ftwr.co.uk>


On 21 Feb 2010, at 21:07, Ron Guerin wrote:

> I think something else must be wrong in addition, since WP is
> overriding  PHP's explicit sendmail_from , which it seems to me should
> be a workaround for a mere failure to set the sender.
> 
> I have patched the bug locally by adding (wp-includes/pluggable.php)
> 
>        // Plugin authors can override the potentially troublesome default
>        $phpmailer->From = apply_filters( 'wp_mail_from', $from_email );
>        $phpmailer->FromName = apply_filters( 'wp_mail_from_name',
> $from_name );
> +       $phpmailer->Sender = $from_email;
> 
> ... but this will be overwritten at next upgrade, and I'm guessing the
> problem really needs something more than that as a proper fix.
> 


This has been discussed at length in the past:

http://core.trac.wordpress.org/ticket/5007
http://core.trac.wordpress.org/ticket/5294

Basically, what we have at the moment works best for the largest percentage of end-users.

If you want to for sender to be set the same as $from_email then the follow (untested) plugin should do the trick.

<?php
/*
 * Plugin Name: pjw-wp-phpmailer-sender-equals-from
 * Version: 0.1
 * Plugin URI: http://blog.ftwr.co.uk/#
 * Description: Set the sender on PHPMailer to be the same as From
 * Author: Peter Westwood
 * Author URI: http://blog.ftwr.co.uk/
 **/

add_action('phpmailer_init', 'pjw_phpmailer_init');

function pjw_phpmailer_init($php_mailer) {
    $php_mailer->Sender = $phpmailer->From;
}
?>

Cheers

Peter
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From ron at vnetworx.net  Sun Feb 21 22:08:24 2010
From: ron at vnetworx.net (Ron Guerin)
Date: Sun, 21 Feb 2010 17:08:24 -0500
Subject: [wp-hackers] Bug in wp_mail
In-Reply-To: <7FB3F6CC-1E1E-4728-AF35-34031541A1C6@ftwr.co.uk>
References: <4B81A0A2.70508@vnetworx.net>
	<7FB3F6CC-1E1E-4728-AF35-34031541A1C6@ftwr.co.uk>
Message-ID: <4B81AED8.5090501@vnetworx.net>

Peter Westwood wrote:
> On 21 Feb 2010, at 21:07, Ron Guerin wrote:
>
>   
>> I think something else must be wrong in addition, since WP is
>> overriding  PHP's explicit sendmail_from , which it seems to me should
>> be a workaround for a mere failure to set the sender.
>>
>> I have patched the bug locally by adding (wp-includes/pluggable.php)
>>
>>        // Plugin authors can override the potentially troublesome default
>>        $phpmailer->From = apply_filters( 'wp_mail_from', $from_email );
>>        $phpmailer->FromName = apply_filters( 'wp_mail_from_name',
>> $from_name );
>> +       $phpmailer->Sender = $from_email;
>>
>> ... but this will be overwritten at next upgrade, and I'm guessing the
>> problem really needs something more than that as a proper fix.
>>
>>     
>
>
> This has been discussed at length in the past:
>
> http://core.trac.wordpress.org/ticket/5007
> http://core.trac.wordpress.org/ticket/5294
>
> Basically, what we have at the moment works best for the largest percentage of end-users.
>   

I'll grant that getting PHP mail() to do the right thing by everyone
isn't always easy, but other people do it.  (I have done so myself) This
is a bug, not a feature.

> If you want to for sender to be set the same as $from_email then the follow (untested) plugin should do the trick.
>
> <?php
> /*
>  * Plugin Name: pjw-wp-phpmailer-sender-equals-from
>  * Version: 0.1
>  * Plugin URI: http://blog.ftwr.co.uk/#
>  * Description: Set the sender on PHPMailer to be the same as From
>  * Author: Peter Westwood
>  * Author URI: http://blog.ftwr.co.uk/
>  **/
>
> add_action('phpmailer_init', 'pjw_phpmailer_init');
>
> function pjw_phpmailer_init($php_mailer) {
>     $php_mailer->Sender = $phpmailer->From;
> }
> ?>
>
>   

I thought about doing something like this myself, but I feel using
plugins to fix bugs in WordPress is really not a solution, it's
avoidance of the problem.  Every new copy of WP that gets installed is a
new opportunity for the bug to manifest itself, and only further
encourages people to ignore mail coming from buggy webapps running on
their web servers.

- Ron

From ron at vnetworx.net  Sun Feb 21 22:14:50 2010
From: ron at vnetworx.net (Ron Guerin)
Date: Sun, 21 Feb 2010 17:14:50 -0500
Subject: [wp-hackers] Bug in wp_mail
In-Reply-To: <4B81AED8.5090501@vnetworx.net>
References: <4B81A0A2.70508@vnetworx.net><7FB3F6CC-1E1E-4728-AF35-34031541A1C6@ftwr.co.uk>
	<4B81AED8.5090501@vnetworx.net>
Message-ID: <4B81B05A.4020000@vnetworx.net>

Ron Guerin wrote:
>
> I thought about doing something like this myself, but I feel using
> plugins to fix bugs in WordPress is really not a solution, it's
> avoidance of the problem.  Every new copy of WP that gets installed is a
> new opportunity for the bug to manifest itself, and only further
> encourages people to ignore mail coming from buggy webapps running on
> their web servers.
>   

Further, the users who should be getting this mail, but are not, will
likely never know they're not getting it.  Surely we're not going to
defend _that_.

- Ron

From lists at hikarinet.info  Sun Feb 21 23:45:54 2010
From: lists at hikarinet.info (Hikari)
Date: Sun, 21 Feb 2010 20:45:54 -0300
Subject: [wp-hackers] Best way to verify if a post_id is valid
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002101105n9a26006wf369df284dd4f4cb@mail.gmail.com><C2A7E972-30BA-40BC-9ED6-9E059ACD8F83@newclarity.net><D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn><D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net><000a01caadbf$6ba75e50$42f61af0$@us><37DF6255071A47269C2054973E63128B@davidhr5m957yn><001201caade1$85a6abe0$90f403a0$@us><46D94AAE-35A2-4809-9422-C884DC1E301B@newclarity.net><AA679CB59428491D9305A5139A94AF81@MAIN>
	<349fe48b1002210554o1cf5e77bva3c9becd2727de80@mail.gmail.com>
Message-ID: <373DD90BE7E84272A929459BCE601DB4@MAIN>

tnx for the reply


what I want is basically know if that ID refers to a post that exists and can be accesses

it will be used to get the post permalink and title, and if it's an invalid ID the function should return an error


by "invalid" I mean, beyond an ID that is not in database, also "posts" that are revisions, or weren't published yet (draft, trash, 
etc)

if that ID has a post that can be accesses by a URL, I want its pernalink, else I wanna return an error



get_post() is what I'm doing now, more precisely get_post($value, ARRAY_A), so I'm in the right way

thanks to Google I found http://codex.wordpress.org/Post_Status_Transitions, but I wasn't able to find the difference from draft to 
pending to new status


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br


----- Original Message ----- 
From: "scribu" <scribu at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Sunday, 21 February, 2010 10:54 AM
Subject: Re: [wp-hackers] Best way to verify if a post_id is valid


| Maybe something like:
|
| if ( $post = get_post($post_id) && 'post' == $post->post_type && 'publish'
| == $post->post_status) {
|    // do stuff
| }
|
| Of course, it depends on what you're doing. So, there's no universal "best
| way".
| 


From johnbillion+wp at gmail.com  Mon Feb 22 02:55:41 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 22 Feb 2010 02:55:41 +0000
Subject: [wp-hackers] Best way to verify if a post_id is valid
In-Reply-To: <373DD90BE7E84272A929459BCE601DB4@MAIN>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<D1E87ED59DD04136ABF0D6D562858B78@davidhr5m957yn>
	<D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>
	<000a01caadbf$6ba75e50$42f61af0$@us>
	<37DF6255071A47269C2054973E63128B@davidhr5m957yn>
	<001201caade1$85a6abe0$90f403a0$@us>
	<46D94AAE-35A2-4809-9422-C884DC1E301B@newclarity.net>
	<AA679CB59428491D9305A5139A94AF81@MAIN>
	<349fe48b1002210554o1cf5e77bva3c9becd2727de80@mail.gmail.com>
	<373DD90BE7E84272A929459BCE601DB4@MAIN>
Message-ID: <1fa535a71002211855n77c60c2chebcb44812e14f4cf@mail.gmail.com>

wp_is_post_revision() and wp_is_post_revision() will probably help.

On Sun, Feb 21, 2010 at 11:45 PM, Hikari <lists at hikarinet.info> wrote:
> tnx for the reply
>
>
> what I want is basically know if that ID refers to a post that exists and can be accesses
>
> it will be used to get the post permalink and title, and if it's an invalid ID the function should return an error
>
>
> by "invalid" I mean, beyond an ID that is not in database, also "posts" that are revisions, or weren't published yet (draft, trash,
> etc)
>
> if that ID has a post that can be accesses by a URL, I want its pernalink, else I wanna return an error
>
>
>
> get_post() is what I'm doing now, more precisely get_post($value, ARRAY_A), so I'm in the right way
>
> thanks to Google I found http://codex.wordpress.org/Post_Status_Transitions, but I wasn't able to find the difference from draft to
> pending to new status
>
>
> ---------------------------
> Hikari - ?A Luz ilumina a PAZ
> http://Hikari.ws
> http://ConscienciaPlanetaria.com
>
> Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br
>
>
> ----- Original Message -----
> From: "scribu" <scribu at gmail.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Sunday, 21 February, 2010 10:54 AM
> Subject: Re: [wp-hackers] Best way to verify if a post_id is valid
>
>
> | Maybe something like:
> |
> | if ( $post = get_post($post_id) && 'post' == $post->post_type && 'publish'
> | == $post->post_status) {
> | ? ?// do stuff
> | }
> |
> | Of course, it depends on what you're doing. So, there's no universal "best
> | way".
> |
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From johnbillion+wp at gmail.com  Mon Feb 22 02:56:20 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 22 Feb 2010 02:56:20 +0000
Subject: [wp-hackers] Best way to verify if a post_id is valid
In-Reply-To: <1fa535a71002211855n77c60c2chebcb44812e14f4cf@mail.gmail.com>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<D8DD0C83-603B-4D44-8722-137CA3ACEEE6@newclarity.net>
	<000a01caadbf$6ba75e50$42f61af0$@us>
	<37DF6255071A47269C2054973E63128B@davidhr5m957yn>
	<001201caade1$85a6abe0$90f403a0$@us>
	<46D94AAE-35A2-4809-9422-C884DC1E301B@newclarity.net>
	<AA679CB59428491D9305A5139A94AF81@MAIN>
	<349fe48b1002210554o1cf5e77bva3c9becd2727de80@mail.gmail.com>
	<373DD90BE7E84272A929459BCE601DB4@MAIN>
	<1fa535a71002211855n77c60c2chebcb44812e14f4cf@mail.gmail.com>
Message-ID: <1fa535a71002211856h350a41c6s65c6709fb688af22@mail.gmail.com>

Whoops, wp_is_post_revision() and wp_is_post_autosave() rather.

On Mon, Feb 22, 2010 at 2:55 AM, John Blackbourn
<johnbillion+wp at gmail.com> wrote:
> wp_is_post_revision() and wp_is_post_revision() will probably help.
>
> On Sun, Feb 21, 2010 at 11:45 PM, Hikari <lists at hikarinet.info> wrote:
>> tnx for the reply
>>
>>
>> what I want is basically know if that ID refers to a post that exists and can be accesses
>>
>> it will be used to get the post permalink and title, and if it's an invalid ID the function should return an error
>>
>>
>> by "invalid" I mean, beyond an ID that is not in database, also "posts" that are revisions, or weren't published yet (draft, trash,
>> etc)
>>
>> if that ID has a post that can be accesses by a URL, I want its pernalink, else I wanna return an error
>>
>>
>>
>> get_post() is what I'm doing now, more precisely get_post($value, ARRAY_A), so I'm in the right way
>>
>> thanks to Google I found http://codex.wordpress.org/Post_Status_Transitions, but I wasn't able to find the difference from draft to
>> pending to new status
>>
>>
>> ---------------------------
>> Hikari - ?A Luz ilumina a PAZ
>> http://Hikari.ws
>> http://ConscienciaPlanetaria.com
>>
>> Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br
>>
>>
>> ----- Original Message -----
>> From: "scribu" <scribu at gmail.com>
>> To: <wp-hackers at lists.automattic.com>
>> Sent: Sunday, 21 February, 2010 10:54 AM
>> Subject: Re: [wp-hackers] Best way to verify if a post_id is valid
>>
>>
>> | Maybe something like:
>> |
>> | if ( $post = get_post($post_id) && 'post' == $post->post_type && 'publish'
>> | == $post->post_status) {
>> | ? ?// do stuff
>> | }
>> |
>> | Of course, it depends on what you're doing. So, there's no universal "best
>> | way".
>> |
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>

From geniosity at gmail.com  Mon Feb 22 06:21:02 2010
From: geniosity at gmail.com (James)
Date: Mon, 22 Feb 2010 08:21:02 +0200
Subject: [wp-hackers] Bug in wp_mail
In-Reply-To: <4B81B05A.4020000@vnetworx.net>
References: <4B81A0A2.70508@vnetworx.net>
	<7FB3F6CC-1E1E-4728-AF35-34031541A1C6@ftwr.co.uk> 
	<4B81AED8.5090501@vnetworx.net> <4B81B05A.4020000@vnetworx.net>
Message-ID: <513d59821002212221k30e157c7r2aecee5f24b86892@mail.gmail.com>

> Ron Guerin wrote:
> >
> > I thought about doing something like this myself, but I feel using
> > plugins to fix bugs in WordPress is really not a solution, it's
> > avoidance of the problem.  Every new copy of WP that gets installed is a
> > new opportunity for the bug to manifest itself, and only further
> > encourages people to ignore mail coming from buggy webapps running on
> > their web servers.
> >
>
> Further, the users who should be getting this mail, but are not, will
> likely never know they're not getting it.  Surely we're not going to
> defend _that_.
>
> - Ron
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


Wow, somebody else actually has my problem.

Is there ANY way to make this an option on the dashboard (under the admin
email?) You could even put a warning if the domain in the email address
differs from the blog's domain, saying that if checked (to use the admin
email address as the sender/from address), this might cause mails not to be
delivered.

But either way, being able to change the details so that the mail doesn't
arrive as coming from "wordpress@" would be nice.

-- 
<http://www.geniosity.co.za/>

From wp at andrewnacin.com  Mon Feb 22 06:53:00 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 22 Feb 2010 01:53:00 -0500
Subject: [wp-hackers] Bug in wp_mail
In-Reply-To: <513d59821002212221k30e157c7r2aecee5f24b86892@mail.gmail.com>
References: <4B81A0A2.70508@vnetworx.net>
	<7FB3F6CC-1E1E-4728-AF35-34031541A1C6@ftwr.co.uk> 
	<4B81AED8.5090501@vnetworx.net> <4B81B05A.4020000@vnetworx.net> 
	<513d59821002212221k30e157c7r2aecee5f24b86892@mail.gmail.com>
Message-ID: <4cc4de141002212253s5766a926k3529029c38ffae56@mail.gmail.com>

In this case, there are three ways to make changes to wp_mail(). One, is
using the by-reference 'phpmailer_init' action that Peter suggested before.
Two, there are separate filters for filtering the from e-mail and name
(wp_mail_from and wp_mail_from_name) -- that'll probably interest you in
this specific case. Three, the entire wp_mail() function is "pluggable" and
therefore you can re-define it in a plugin.

You could create a ticket for a feature request on
http://core.trac.wordpress.org to perhaps suggest a "Test e-mail" link next
to the admin email box in general options, that would send an email to that
address. Beyond that the core developers strongly dislike extra unnecessary
options, particularly those that can be handled by a plugin. I could see
that as being potentially useful.

On Mon, Feb 22, 2010 at 1:21 AM, James <geniosity at gmail.com> wrote:

> > Ron Guerin wrote:
> > >
> > > I thought about doing something like this myself, but I feel using
> > > plugins to fix bugs in WordPress is really not a solution, it's
> > > avoidance of the problem.  Every new copy of WP that gets installed is
> a
> > > new opportunity for the bug to manifest itself, and only further
> > > encourages people to ignore mail coming from buggy webapps running on
> > > their web servers.
> > >
> >
> > Further, the users who should be getting this mail, but are not, will
> > likely never know they're not getting it.  Surely we're not going to
> > defend _that_.
>

From tech at johannes-ruthenberg.de  Mon Feb 22 09:51:09 2010
From: tech at johannes-ruthenberg.de (Johannes Ruthenberg)
Date: Mon, 22 Feb 2010 09:51:09 +0000
Subject: [wp-hackers] Bug in wp_mail
In-Reply-To: <4cc4de141002212253s5766a926k3529029c38ffae56@mail.gmail.com>
References: <4B81A0A2.70508@vnetworx.net>	<7FB3F6CC-1E1E-4728-AF35-34031541A1C6@ftwr.co.uk>
	<4B81AED8.5090501@vnetworx.net> <4B81B05A.4020000@vnetworx.net>
	<513d59821002212221k30e157c7r2aecee5f24b86892@mail.gmail.com>
	<4cc4de141002212253s5766a926k3529029c38ffae56@mail.gmail.com>
Message-ID: <4B82538D.6060607@johannes-ruthenberg.de>

Hello!

Andrew Nacin wrote on 22.02.2010 06:53:
> You could create a ticket for a feature request on
> http://core.trac.wordpress.org to perhaps suggest a "Test e-mail" link next
> to the admin email box in general options, that would send an email to that
> address. Beyond that the core developers strongly dislike extra unnecessary
> options, particularly those that can be handled by a plugin. I could see
> that as being potentially useful.

Just wanted to add my opinion here: A "test E-Mail" link actually sounds 
useful. Helping out in the German WordPress forum, I get to see quite a 
lot of "I don't get mails from WP" threads. A method that sends a simple 
test mail and offers further information on what could be wrong if the 
mail doesn't arrive would be great. :-)

Regards,
Johannes Ruthenberg

From burobjorn at gmail.com  Mon Feb 22 12:48:02 2010
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Mon, 22 Feb 2010 13:48:02 +0100
Subject: [wp-hackers] Requesting advice regarding comments form errors,
 accessibility and patch for
 http://core.trac.wordpress.org/ticket/4332
Message-ID: <4B827D02.8020800@gmail.com>

Hi,

I'm wondering if somebody (preferably a core committer) could shed some
light on this patch http://core.trac.wordpress.org/ticket/4332.

As far as I understand from Ryan there are some issues with comment
paging and inline replies? What should be done to fix this?

I would like to fix this so we can show errors directly in context with
the form fields instead of showing a new page. By doing this, Wordpress
would adhere to this section[1] of the Dutch Government accessibility
guidelines (Webrichtlijnen) out-of-the-box. This makes it even more
interesting to use Wordpress for Dutch Government websites :)

[1]
http://www.webrichtlijnen.nl/english/manual/development/production/contingency-design/guidelines/#r-pd-22-5

ps: Javascript is not a solution since it is a client-side solution upon
we cannot rely.

Thanks in advance!

-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

phone: +31 6 49 74 78 70
http://www.burobjorn.nl


From wp at andrewnacin.com  Mon Feb 22 13:06:40 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 22 Feb 2010 08:06:40 -0500
Subject: [wp-hackers] Requesting advice regarding comments form errors,
	accessibility and patch for
	http://core.trac.wordpress.org/ticket/4332
In-Reply-To: <4B827D02.8020800@gmail.com>
References: <4B827D02.8020800@gmail.com>
Message-ID: <4cc4de141002220506v687cd7c2k9fa21a72141927a4@mail.gmail.com>

This has also been discussed in a few other tickets in some form. There's no
good way to handle this uniformly across all themes (such is the nature of
the beast). There was one suggestion to add an API of sorts for a theme to
be able to receive errors back, another to just add a simple hook that can
then be fed a wp_redirect() and die() before WP issues one. Since in 3.0 we
now have a comment form template tag, we could incorporate such handling
into there as well.

I'm sure many would love to see this tackled in a future release, but it
needs to be tackled head-on. It might be good to find the various related
tickets, tag the duplicates, and maybe we can paint a clear picture of the
problem and use cases, and what can be done to make it better.

On Mon, Feb 22, 2010 at 7:48 AM, Bjorn Wijers <burobjorn at gmail.com> wrote:

> Hi,
>
> I'm wondering if somebody (preferably a core committer) could shed some
> light on this patch http://core.trac.wordpress.org/ticket/4332.
>
> As far as I understand from Ryan there are some issues with comment
> paging and inline replies? What should be done to fix this?
>
> I would like to fix this so we can show errors directly in context with
> the form fields instead of showing a new page. By doing this, Wordpress
> would adhere to this section[1] of the Dutch Government accessibility
> guidelines (Webrichtlijnen) out-of-the-box. This makes it even more
> interesting to use Wordpress for Dutch Government websites :)
>
> [1]
>
> http://www.webrichtlijnen.nl/english/manual/development/production/contingency-design/guidelines/#r-pd-22-5
>
> ps: Javascript is not a solution since it is a client-side solution upon
> we cannot rely.
>
> Thanks in advance!
>

From jer at simianuprising.com  Mon Feb 22 16:31:38 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 22 Feb 2010 11:31:38 -0500
Subject: [wp-hackers] Best way to verify if a post_id is valid
In-Reply-To: <1fa535a71002211856h350a41c6s65c6709fb688af22@mail.gmail.com>
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn>
	<000a01caadbf$6ba75e50$42f61af0$@us>
	<37DF6255071A47269C2054973E63128B@davidhr5m957yn>
	<001201caade1$85a6abe0$90f403a0$@us>
	<46D94AAE-35A2-4809-9422-C884DC1E301B@newclarity.net>
	<AA679CB59428491D9305A5139A94AF81@MAIN>
	<349fe48b1002210554o1cf5e77bva3c9becd2727de80@mail.gmail.com>
	<373DD90BE7E84272A929459BCE601DB4@MAIN>
	<1fa535a71002211855n77c60c2chebcb44812e14f4cf@mail.gmail.com>
	<1fa535a71002211856h350a41c6s65c6709fb688af22@mail.gmail.com>
Message-ID: <e1202cb11002220831i797c434fo46086fc4141a7dab@mail.gmail.com>

As stated above the most basic (and probably the most efficient way)
would be to do a get_post($id) then check the status and type
properties to make sure they are what you want, in which case you'd
already have a nice post object to use.

Alternately if you wanted just one call to check you could use
get_posts() and include arguments for the properties you want to
check. In this case 'publish' status and 'post' type are the defaults,
so if there are any results then the ID exists. I don't feel like
digging into the source, but I think get_post() will probably be
faster though, as it will only check one row in the DB.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From jer at simianuprising.com  Tue Feb 23 14:52:25 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Tue, 23 Feb 2010 09:52:25 -0500
Subject: [wp-hackers] Requesting advice regarding comments form errors,
	accessibility and patch for
	http://core.trac.wordpress.org/ticket/4332
In-Reply-To: <4cc4de141002220506v687cd7c2k9fa21a72141927a4@mail.gmail.com>
References: <4B827D02.8020800@gmail.com>
	<4cc4de141002220506v687cd7c2k9fa21a72141927a4@mail.gmail.com>
Message-ID: <e1202cb11002230652k26e6ea5bp7e2c32647d6501b5@mail.gmail.com>

FWIW I think this could be one of the uses of an improved WP_Error
system overhaul. While looking into the WP_Error class to maybe use it
in the Settings API I realized that it and its uses are very haphazard
and based on specific uses rather than a holisitic plan for Errors in
WordPress.

This ticket is about the show_message() function, which should be part
of WP_Error but isn't http://core.trac.wordpress.org/ticket/12254

I think that if we can get all error-related stuff into the class and
build it up as a real one-stop-shop for adding, manipulating, fetching
and displaying errors (as well as adding error 'types' so it can
support red/yellow/green styles) then a lot of new uses will suddenly
appear for them. They also need some external helper functions that
make it easy to add errors into a specific error object without
globalizing it, something like:

add_error('comment_form', $code, $message, $data);

Which would find the WP_Error instance associated with 'comment_form'
and add the error to it.

IMHO WP should try to set up all systems to make it easy to add errors
in admin/plugin code that will then be displayed automatically in the
right place (i.e. your added error shows in 'admin_notices'
automatically rather than you adding a whole hook just for that).

One last thought is that, in terms of adding the errors into the theme
world which is admittedly a pretty big mess since so many people will
need to edit their themes to accommodate, it wouldn't be that hard to
achieve the right CSS as long as we stick to a simple paradigm of css
class names similar to what is used in the admin, where 'updated' is
yellow and 'error' is red. It would mean adding like 3 quick
definitions to your theme's css that would cover it, and in many cases
(like on my main site) there is already a .error class that would just
work out of the box ;)

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From lists at hikarinet.info  Tue Feb 23 15:47:19 2010
From: lists at hikarinet.info (Hikari)
Date: Tue, 23 Feb 2010 12:47:19 -0300
Subject: [wp-hackers] Best way to verify if a post_id is valid
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><000a01caadbf$6ba75e50$42f61af0$@us><37DF6255071A47269C2054973E63128B@davidhr5m957yn><001201caade1$85a6abe0$90f403a0$@us><46D94AAE-35A2-4809-9422-C884DC1E301B@newclarity.net><AA679CB59428491D9305A5139A94AF81@MAIN><349fe48b1002210554o1cf5e77bva3c9becd2727de80@mail.gmail.com><373DD90BE7E84272A929459BCE601DB4@MAIN><1fa535a71002211855n77c60c2chebcb44812e14f4cf@mail.gmail.com><1fa535a71002211856h350a41c6s65c6709fb688af22@mail.gmail.com>
	<e1202cb11002220831i797c434fo46086fc4141a7dab@mail.gmail.com>
Message-ID: <E3A67A26686942DD98C108A23D0B4D23@MAIN>

tnx for the suggestions everybody! ^^


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br


----- Original Message ----- 
From: "Jeremy Clarke" <jer at simianuprising.com>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, 22 February, 2010 1:31 PM
Subject: Re: [wp-hackers] Best way to verify if a post_id is valid


| As stated above the most basic (and probably the most efficient way)
| would be to do a get_post($id) then check the status and type
| properties to make sure they are what you want, in which case you'd
| already have a nice post object to use.
|
| Alternately if you wanted just one call to check you could use
| get_posts() and include arguments for the properties you want to
| check. In this case 'publish' status and 'post' type are the defaults,
| so if there are any results then the ID exists. I don't feel like
| digging into the source, but I think get_post() will probably be
| faster though, as it will only check one row in the DB.


From daiv at daivmowbray.com  Tue Feb 23 21:14:12 2010
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Tue, 23 Feb 2010 22:14:12 +0100
Subject: [wp-hackers] what is the correct svn path to connect with plugins
Message-ID: <39BAE29A-DD79-4B52-834F-303A3C16B844@daivmowbray.com>



Hello List,

I can no longer connect to the hosted plugins server via svn.
Perhaps something has changed, maybe on my side...
Just to confirm, the svn path to my plugin repository is?

http://svn.wp-plugins.org/myplugin/

At least thats what used to work for me.
I am now testing to connect with Syncro SVN Client and Zigversion and  
terninal
I keep getting the error:

PROPFIND request failed on '/superslider'
PROPFIND of '/superslider': 400 Bad request. Method Unknown (http://svn.wp-plugins.org 
)


Also, I've just opened a new plugin at wordpress.org and the path  
provided in the mail is:
http://plugins.svn.wordpress.org/superslider-previousnext-thumbs/
http://svn.wordpress.org/superslider-previousnext-thumbs/

Both fail for me with my local apps.

I'm perplexed.
Thanx for any pointers.

Daiv Mowbray
daiv.mowbray at gmail.com
========



From peter.westwood at ftwr.co.uk  Tue Feb 23 21:21:51 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Tue, 23 Feb 2010 21:21:51 +0000
Subject: [wp-hackers] what is the correct svn path to connect with
	plugins
In-Reply-To: <39BAE29A-DD79-4B52-834F-303A3C16B844@daivmowbray.com>
References: <39BAE29A-DD79-4B52-834F-303A3C16B844@daivmowbray.com>
Message-ID: <45A1919D-5030-46F5-9E2B-263FE6EE7E85@ftwr.co.uk>


On 23 Feb 2010, at 21:14, Daiv Mowbray wrote:
> 
> I can no longer connect to the hosted plugins server via svn.
> Perhaps something has changed, maybe on my side...
> Just to confirm, the svn path to my plugin repository is?
> 
> http://svn.wp-plugins.org/myplugin/
> 
<SNIP>
> 
> 
> Also, I've just opened a new plugin at wordpress.org and the path provided in the mail is:
> http://plugins.svn.wordpress.org/superslider-previousnext-thumbs/
> 
> Both fail for me with my local apps.


Both should work.

I believe the newer plugsin.svn.wordpress.org url is preferred.

I've just tested locally and both are working fine for me.

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From daiv at daivmowbray.com  Tue Feb 23 22:03:09 2010
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Tue, 23 Feb 2010 23:03:09 +0100
Subject: [wp-hackers] what is the correct svn path to connect with
	plugins
In-Reply-To: <45A1919D-5030-46F5-9E2B-263FE6EE7E85@ftwr.co.uk>
References: <39BAE29A-DD79-4B52-834F-303A3C16B844@daivmowbray.com>
	<45A1919D-5030-46F5-9E2B-263FE6EE7E85@ftwr.co.uk>
Message-ID: <D8880661-2096-43E7-BBD4-6D6E0DFD0EE7@daivmowbray.com>


Thanx Peter,

I guess maybe I have a corrupt svn cookie ... if there is such a thing.

Which gives me lead to ask,
How is it that my previous svn connections never asked me for a user  
name nor password.

If it did on the first connect I don't recall.


On Feb 23, 2010, at 10:21 PM, Peter Westwood wrote:

> Both should work.
>
> I believe the newer plugsin.svn.wordpress.org url is preferred.
>
> I've just tested locally and both are working fine for me.


----------
Daiv Mowbray
daiv at daivmowbray.com
----------



From cpoteet at siolon.com  Wed Feb 24 01:43:23 2010
From: cpoteet at siolon.com (Chris Poteet)
Date: Tue, 23 Feb 2010 17:43:23 -0800 (PST)
Subject: [wp-hackers] Altering comment-reply.js
Message-ID: <27345134-83f7-4074-9597-8939dd20c2e2@z19g2000yqk.googlegroups.com>

Below is the uncompressed version of comment-reply.js. I want to
retain the functionalty that registers who is being replied to when
clicking the "reply" link (and supressing the postback), but I don't
want the feature that physically moves the comment form. Can someone
point out what needs to go in this function to accomplish this?

http://pastie.org/837866

PS. 3.0 alpha is looking hot.

From austin at ilfilosofo.com  Wed Feb 24 03:08:58 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Tue, 23 Feb 2010 21:08:58 -0600
Subject: [wp-hackers] Altering comment-reply.js
In-Reply-To: <27345134-83f7-4074-9597-8939dd20c2e2@z19g2000yqk.googlegroups.com>
References: <27345134-83f7-4074-9597-8939dd20c2e2@z19g2000yqk.googlegroups.com>
Message-ID: <674b4a3b1002231908p58fa24a9p1ed0420e1f21387d@mail.gmail.com>

On Tue, Feb 23, 2010 at 7:43 PM, Chris Poteet <cpoteet at siolon.com> wrote:
> Below is the uncompressed version of comment-reply.js. I want to
> retain the functionalty that registers who is being replied to when
> clicking the "reply" link (and supressing the postback), but I don't
> want the feature that physically moves the comment form. Can someone
> point out what needs to go in this function to accomplish this?
>
> http://pastie.org/837866

Removing this line should keep the form from moving:

| comm.parentNode.insertBefore(respond, comm.nextSibling);

From erwinwolff at hotmail.com  Wed Feb 24 03:43:52 2010
From: erwinwolff at hotmail.com (Erwin Wolff)
Date: Wed, 24 Feb 2010 04:43:52 +0100
Subject: [wp-hackers] PostgreSQL wordpress
Message-ID: <COL109-W46C2188E9093BE5D50D016DC410@phx.gbl>


Hi, I ported wordpress to postgresql. Please give me feedback on how it performs. :)

You can find it here:

https://sourceforge.net/projects/postgresqlword/files/

known issues:
* you cannot have 2 drafted posts / pages (I'm working on it)
* only the standard template is working 100%. I can't say of any of the others work.
* of course, auto update isn't working since that would update this postgresql version to a mysql version ( ;) ).
* modified database schema a tiny bit: wp_terms.name is now wp_terms.term_name
* all variables called or partially called "ID" are now consistently lowercase.
* probably none of the third party plugins will work.

Regards,

Erwin
 		 	   		  
_________________________________________________________________
Ihre E-Mails und mehr f?r unterwegs. Laden Sie Windows Live Hotmail kostenlos herunter.
https://signup.live.com/signup.aspx?id=60969

From cpoteet at siolon.com  Wed Feb 24 03:46:48 2010
From: cpoteet at siolon.com (Chris Poteet)
Date: Tue, 23 Feb 2010 19:46:48 -0800 (PST)
Subject: [wp-hackers] Altering comment-reply.js
In-Reply-To: <674b4a3b1002231908p58fa24a9p1ed0420e1f21387d@mail.gmail.com>
References: <27345134-83f7-4074-9597-8939dd20c2e2@z19g2000yqk.googlegroups.com>
	<674b4a3b1002231908p58fa24a9p1ed0420e1f21387d@mail.gmail.com>
Message-ID: <69d5975e-afa3-4d8a-9f74-af21b3c06eb5@f8g2000yqn.googlegroups.com>


> Removing this line should keep the form from moving:
>
> | comm.parentNode.insertBefore(respond, comm.nextSibling);

Perfect. Thanks.

From wp at andrewnacin.com  Wed Feb 24 03:56:49 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 23 Feb 2010 22:56:49 -0500
Subject: [wp-hackers] PostgreSQL wordpress
In-Reply-To: <COL109-W46C2188E9093BE5D50D016DC410@phx.gbl>
References: <COL109-W46C2188E9093BE5D50D016DC410@phx.gbl>
Message-ID: <4cc4de141002231956q7c7e32d5va7c30deb4560784c@mail.gmail.com>

Did you make any changes to WordPress other than the db class? Core hacks
are not encouraged, even for this. WordPress has a way to extend the wpdb
class, via a wp-content/db.php 'drop-in' file. There are numerous plugins
out there that allow for custom database engines, including pg.

Not sure if you saw this, but there's a codex page on the theory behind a
lot of this. Pretty sure it links to some db.php plugins as well:
http://codex.wordpress.org/Using_Alternative_Databases

On Tue, Feb 23, 2010 at 10:43 PM, Erwin Wolff <erwinwolff at hotmail.com>wrote:

>
> Hi, I ported wordpress to postgresql. Please give me feedback on how it
> performs. :)
>
> You can find it here:
>
> https://sourceforge.net/projects/postgresqlword/files/
>

From mikeschinkel at newclarity.net  Wed Feb 24 06:57:02 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 24 Feb 2010 01:57:02 -0500
Subject: [wp-hackers] PostgreSQL wordpress
In-Reply-To: <COL109-W46C2188E9093BE5D50D016DC410@phx.gbl>
References: <COL109-W46C2188E9093BE5D50D016DC410@phx.gbl>
Message-ID: <726BBFAE-ADC5-48D3-8519-68A75506B904@newclarity.net>

Hi Erwin,

Just for curiousity sake, what requirement drove you to take this effort?  Was it a project or just personal interest?

-Mike Schinkel





On Feb 23, 2010, at 10:43 PM, Erwin Wolff wrote:

> 
> Hi, I ported wordpress to postgresql. Please give me feedback on how it performs. :)
> 
> You can find it here:
> 
> https://sourceforge.net/projects/postgresqlword/files/
> 
> known issues:
> * you cannot have 2 drafted posts / pages (I'm working on it)
> * only the standard template is working 100%. I can't say of any of the others work.
> * of course, auto update isn't working since that would update this postgresql version to a mysql version ( ;) ).
> * modified database schema a tiny bit: wp_terms.name is now wp_terms.term_name
> * all variables called or partially called "ID" are now consistently lowercase.
> * probably none of the third party plugins will work.
> 
> Regards,
> 
> Erwin
> 		 	   		  
> _________________________________________________________________
> Ihre E-Mails und mehr f?r unterwegs. Laden Sie Windows Live Hotmail kostenlos herunter.
> https://signup.live.com/signup.aspx?id=60969
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From burobjorn at gmail.com  Wed Feb 24 13:00:31 2010
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Wed, 24 Feb 2010 14:00:31 +0100
Subject: [wp-hackers] Requesting advice regarding comments form errors,
 accessibility and patch
 for	http://core.trac.wordpress.org/ticket/4332
In-Reply-To: <e1202cb11002230652k26e6ea5bp7e2c32647d6501b5@mail.gmail.com>
References: <4B827D02.8020800@gmail.com>	<4cc4de141002220506v687cd7c2k9fa21a72141927a4@mail.gmail.com>
	<e1202cb11002230652k26e6ea5bp7e2c32647d6501b5@mail.gmail.com>
Message-ID: <4B8522EF.6020508@gmail.com>

Jeremy,

I completely agree with your view on Wordpress and the need for better
error reporting and this is certainly one of those issues which would
benefit from it. Yet I have no idea how we can get this going. I'm more
than willing to help out and write code, but I'm afraid our efforts
might be in vain if we cannot get one or more core comitters interested
in this and make sure it gets landed in the wordpress core.

Can somebody help us out with this?

All the best,
BjornW





> FWIW I think this could be one of the uses of an improved WP_Error
> system overhaul. While looking into the WP_Error class to maybe use it
> in the Settings API I realized that it and its uses are very haphazard
> and based on specific uses rather than a holisitic plan for Errors in
> WordPress.
> 
> This ticket is about the show_message() function, which should be part
> of WP_Error but isn't http://core.trac.wordpress.org/ticket/12254
> 
> I think that if we can get all error-related stuff into the class and
> build it up as a real one-stop-shop for adding, manipulating, fetching
> and displaying errors (as well as adding error 'types' so it can
> support red/yellow/green styles) then a lot of new uses will suddenly
> appear for them. They also need some external helper functions that
> make it easy to add errors into a specific error object without
> globalizing it, something like:
> 
> add_error('comment_form', $code, $message, $data);
> 
> Which would find the WP_Error instance associated with 'comment_form'
> and add the error to it.
> 
> IMHO WP should try to set up all systems to make it easy to add errors
> in admin/plugin code that will then be displayed automatically in the
> right place (i.e. your added error shows in 'admin_notices'
> automatically rather than you adding a whole hook just for that).
> 
> One last thought is that, in terms of adding the errors into the theme
> world which is admittedly a pretty big mess since so many people will
> need to edit their themes to accommodate, it wouldn't be that hard to
> achieve the right CSS as long as we stick to a simple paradigm of css
> class names similar to what is used in the admin, where 'updated' is
> yellow and 'error' is red. It would mean adding like 3 quick
> definitions to your theme's css that would cover it, and in many cases
> (like on my main site) there is already a .error class that would just
> work out of the box ;)
> 


-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

phone: +31 6 49 74 78 70
http://www.burobjorn.nl

From scribu at gmail.com  Wed Feb 24 13:34:32 2010
From: scribu at gmail.com (scribu)
Date: Wed, 24 Feb 2010 15:34:32 +0200
Subject: [wp-hackers] Requesting advice regarding comments form errors,
	accessibility and patch for
	http://core.trac.wordpress.org/ticket/4332
In-Reply-To: <4B8522EF.6020508@gmail.com>
References: <4B827D02.8020800@gmail.com>
	<4cc4de141002220506v687cd7c2k9fa21a72141927a4@mail.gmail.com>
	<e1202cb11002230652k26e6ea5bp7e2c32647d6501b5@mail.gmail.com>
	<4B8522EF.6020508@gmail.com>
Message-ID: <349fe48b1002240534x6521d8b2xa940d69c226ebd3e@mail.gmail.com>

I think it's kind of late for this in the 3.0 cycle: it hits feature freeze
in a few days.

Maybe it could be added in WP 3.1.

-- 
http://scribu.net

From burobjorn at gmail.com  Wed Feb 24 14:42:52 2010
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Wed, 24 Feb 2010 15:42:52 +0100
Subject: [wp-hackers] Requesting advice regarding comments form errors,
 accessibility and patch
 for	http://core.trac.wordpress.org/ticket/4332
In-Reply-To: <349fe48b1002240534x6521d8b2xa940d69c226ebd3e@mail.gmail.com>
References: <4B827D02.8020800@gmail.com>	<4cc4de141002220506v687cd7c2k9fa21a72141927a4@mail.gmail.com>	<e1202cb11002230652k26e6ea5bp7e2c32647d6501b5@mail.gmail.com>	<4B8522EF.6020508@gmail.com>
	<349fe48b1002240534x6521d8b2xa940d69c226ebd3e@mail.gmail.com>
Message-ID: <4B853AEC.6090804@gmail.com>

Getting it into 3.1 sounds good to me. How can we make sure it becomes
part of the roadmap so we know our efforts are not in vain?

 if I can convince other people of the necessity of these changes
> I think it's kind of late for this in the 3.0 cycle: it hits feature freeze
> in a few days.
> 
> Maybe it could be added in WP 3.1.
> 


-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

phone: +31 6 49 74 78 70
http://www.burobjorn.nl

From joseph at josephscott.org  Wed Feb 24 15:48:37 2010
From: joseph at josephscott.org (Joseph Scott)
Date: Wed, 24 Feb 2010 08:48:37 -0700
Subject: [wp-hackers] PostgreSQL wordpress
In-Reply-To: <COL109-W46C2188E9093BE5D50D016DC410@phx.gbl>
References: <COL109-W46C2188E9093BE5D50D016DC410@phx.gbl>
Message-ID: <bbd639f51002240748p2225847axbe449f9096271e76@mail.gmail.com>

On Tue, Feb 23, 2010 at 8:43 PM, Erwin Wolff <erwinwolff at hotmail.com> wrote:
> Hi, I ported wordpress to postgresql. Please give me feedback on how it performs. :)
>
> You can find it here:
>
> https://sourceforge.net/projects/postgresqlword/files/


Is there a diff available for your changes?  What version of WP is
this based off of?



-- 
Joseph Scott
joseph at josephscott.org
http://josephscott.org/

From sosingus at yahoo.com  Wed Feb 24 16:10:29 2010
From: sosingus at yahoo.com (Sofija)
Date: Wed, 24 Feb 2010 08:10:29 -0800 (PST)
Subject: [wp-hackers] Admin section / (Article) Categories
Message-ID: <76375.96213.qm@web35908.mail.mud.yahoo.com>

Hi everyone,

I have a suggestion. I started out developing an plugin for WP that allows specific kind of article categories. Now, it is possible?to add-in some custom fields in edit category page using edit_category_form_fields action but there is no such action to use when adding category. I've added one (add_category_form_fields) on my own, but It would be nice if I could replace that with the one coming from WP as there would be no trouble merging with new versions.


Cheers,
Sofija


      

From dave69 at gmail.com  Wed Feb 24 16:15:03 2010
From: dave69 at gmail.com (Dave R)
Date: Thu, 25 Feb 2010 03:15:03 +1100
Subject: [wp-hackers] importing Excel/CSV file of blog articles into WP
Message-ID: <dea5cae01002240815q7f1dde5ftecf46d08e011146e@mail.gmail.com>

Hey guys,

I've been trying this method out for bulk import of articles from an Excel
file: http://www.blog-relations.com/2009/05/19/import-excel-into-wordpress/

However it's coming unstuck with there's paragraphs within the content
field.

Anyone know of another/better method?


Cheers,
Dave
....................................

business: www.zavadesign.com
personal: www.nakedchronicles.com
supports: www.michezoyouth.com

From arlenbee at gmail.com  Wed Feb 24 16:19:24 2010
From: arlenbee at gmail.com (Arlen Beiler)
Date: Wed, 24 Feb 2010 11:19:24 -0500
Subject: [wp-hackers] Wordpress MU
Message-ID: <e002a22f1002240819w13fb05adhba17b82665c2ad3e@mail.gmail.com>

I had Wordpress MU installed and suddenly the blogs don't work. In my Apache
error log it says that the file can't be found, referrer is
example.com/wpmu/ I have the urls in the form of example.com/wpmu/vblog/

From otto at ottodestruct.com  Wed Feb 24 16:29:47 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 24 Feb 2010 10:29:47 -0600
Subject: [wp-hackers] Admin section / (Article) Categories
In-Reply-To: <76375.96213.qm@web35908.mail.mud.yahoo.com>
References: <76375.96213.qm@web35908.mail.mud.yahoo.com>
Message-ID: <161617691002240829s3e441410r54f6609d78e72741@mail.gmail.com>

3.0 has the category_add_form action which you can use.

In 2.9, on the wp-admin/categories.php page, the edit_category_form
action happens right after the submit button on the add category form.
You can add extra fields there with that hook, if you like.

-Otto
Sent from Memphis, TN, United States



On Wed, Feb 24, 2010 at 10:10 AM, Sofija <sosingus at yahoo.com> wrote:
> Hi everyone,
>
> I have a suggestion. I started out developing an plugin for WP that allows specific kind of article categories. Now, it is possible?to add-in some custom fields in edit category page using edit_category_form_fields action but there is no such action to use when adding category. I've added one (add_category_form_fields) on my own, but It would be nice if I could replace that with the one coming from WP as there would be no trouble merging with new versions.
>

From arlenbee at gmail.com  Wed Feb 24 16:40:03 2010
From: arlenbee at gmail.com (Arlen Beiler)
Date: Wed, 24 Feb 2010 11:40:03 -0500
Subject: [wp-hackers] Wordpress MU
In-Reply-To: <e002a22f1002240819w13fb05adhba17b82665c2ad3e@mail.gmail.com>
References: <e002a22f1002240819w13fb05adhba17b82665c2ad3e@mail.gmail.com>
Message-ID: <e002a22f1002240840l286e0bbbtf2387b734eb300d9@mail.gmail.com>

Fixed. It unexplainably started working again after I disabled mod_rewrite,
restarted, enabled, restarted. Servers are finicky.

On Wed, Feb 24, 2010 at 11:19 AM, Arlen Beiler <arlenbee at gmail.com> wrote:

> I had Wordpress MU installed and suddenly the blogs don't work. In my
> Apache error log it says that the file can't be found, referrer is
> example.com/wpmu/ I have the urls in the form of example.com/wpmu/vblog/
>

From scribu at gmail.com  Wed Feb 24 20:13:30 2010
From: scribu at gmail.com (scribu)
Date: Wed, 24 Feb 2010 22:13:30 +0200
Subject: [wp-hackers] Requesting advice regarding comments form errors,
	accessibility and patch for
	http://core.trac.wordpress.org/ticket/4332
In-Reply-To: <4B853AEC.6090804@gmail.com>
References: <4B827D02.8020800@gmail.com>
	<4cc4de141002220506v687cd7c2k9fa21a72141927a4@mail.gmail.com>
	<e1202cb11002230652k26e6ea5bp7e2c32647d6501b5@mail.gmail.com>
	<4B8522EF.6020508@gmail.com>
	<349fe48b1002240534x6521d8b2xa940d69c226ebd3e@mail.gmail.com>
	<4B853AEC.6090804@gmail.com>
Message-ID: <349fe48b1002241213t487a62edu3262b512cfb48924@mail.gmail.com>

You can suggest it as a topic in the weekly dev chat:

http://wpdevel.wordpress.com


On Wed, Feb 24, 2010 at 4:42 PM, Bjorn Wijers <burobjorn at gmail.com> wrote:

> Getting it into 3.1 sounds good to me. How can we make sure it becomes
> part of the roadmap so we know our efforts are not in vain?
>
>  if I can convince other people of the necessity of these changes
> > I think it's kind of late for this in the 3.0 cycle: it hits feature
> freeze
> > in a few days.
> >
> > Maybe it could be added in WP 3.1.
> >
>
>
> --
>
> met vriendelijke groet,
> Bjorn Wijers
>
> * b u r o b j o r n .nl *
> digitaal vakmanschap | digital craftsmanship
>
> Concordiastraat 68-126
> 3551 EM Utrecht
> The Netherlands
>
> phone: +31 6 49 74 78 70
> http://www.burobjorn.nl
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From lists at hikarinet.info  Wed Feb 24 06:57:28 2010
From: lists at hikarinet.info (Hikari)
Date: Wed, 24 Feb 2010 03:57:28 -0300
Subject: [wp-hackers] Help to fix orphaned plugin
References: <D354A8E4B0564DB69A1E1491ED09724D@davidhr5m957yn><161617691002100713p6391c3f0q855ec3ccf3a8e090@mail.gmail.com><DAE22BC32C03426EAF8DA818585FB768@davidhr5m957yn><4cc4de141002101719v111e8435v7d9018e36d7fa158@mail.gmail.com><8AFD2D16110245188F18B2112D94C984@davidhr5m957yn><D75B93A9-37DE-408C-A2A8-BC40096A46F3@cefm.ca><AC13BA7EC2054B219AC751B21BB0F5B1@davidhr5m957yn><90E1D2246B784AB3B2E55A319DDA71D2@MAIN><E1E7942A2FDF4F039805AA81CA40D625@MAIN>
	<FF806172CE524BFE9DB19DF81253E31E@MAIN>
Message-ID: <ADE3E10923884ABAA6205F9CDF4B36B7@MAIN>

Just to give a feedback to anybody that may have the same problem, or in case somebody understand rewrite rules more than me and may 
help.

Anybody interested and that didn't read previous posts, they are quoted below, just read from bottom to top.




All the problem is in these 2 lines:

$scategory_structure = $wp_rewrite->root . "%scategory%/%postname%";
return array_merge($post_rewrite, $wp_rewrite->generate_rewrite_rules($scategory_structure));


If they are present, posts are returned properly, but paginated comments return 404. If they are not (with a simple " return 
$post_rewrite; " ), posts return 404 when %scategory% rewrite tag is used anywhere in permastruct.

What I was able to understand from this code, it adds "%scategory%/%postname%", "%scategory%" and "%postname%" to possible 
permastructs. Since my structure is not any of those, I thought it shouldn't be needed, but the situation is that without it 
Wordpress returns 404...



Reading what original author wrote in change log and comparing differences from v0.3.0 to v0.4.0, it seems those 2 lines are the 
cause of paginated comments returning 404, and somehow he was able to make the plugin works without them. But I'm not able to remove 
them and stop 404, and neither able to keep them and fix paginated comments.

After v0.4.0 until v0.6.2, this code was never changed again, he just changed UI features and how post category and captured and 
stored. So v0.4.0 has the final fix for rewrite rule. Currently I'm using a modified version of v0.6.2, with these lines grabbed 
from v0.3.0, and it has been working from what I can see.





BUT, I've found a better way to fix all this mess, it's just a matter to simplify everything.

As everybody who understands how Wordpress deals with rewrite rules and permalink generation, there are 2 totally separate codes for 
rewrite rules parsing and for generating the permalink.

All the trick remains in making these 2 codes match: for each post (and its subpages, exemple multipages, paginated comments, feeds, 
etc), the rewrite rule parsing code must be able to parse what the permalink generator code generates. If they are able to match, 
the website will present in its pages, links to posts and their subpages, and when a user clicks on those links, the rewrite rule 
parsing code will find out what that URL means (what the permalink generator meant to tell it), and return that page.

It's really a very complex system, since a new added rewrite tag won't instantly be known by the permalink generator; and if a 
filter is hooked to permalink generator and changes its resource, rewrite rule parser won't instantly be prepared to understand it. 
The trick for developing a plugin is prepare both of them together and make sure they keep shaking hands.



In the specific situation of this plugin, it could be very simpler, because there is already a rewrite tag that refers to 
categories.

The whole idea of the plugin is let users define a specific category to be used in permalinks, other than the default category with 
lowest ID.

Rewrite rule parser accepts any category that it's provided, even if it's different from the one that permalink generator chooses. 
Once it's identified as a category, it moves on.

SO, if permalink generator was able to set a user chosen category instead of the one with lowest ID, rewrite rules parser wouldn't 
need to have a line of code changed to accept it. The problem is that permalink generator always uses the category with lowest ID, 
and once a filter is available to change the permalink, all rewrite tags were already replaced.

THAT's why we must create new rewrite tags when we want permalinks to be different from default, because we don't even have 
opportunity to change what permalink generator does with default rewrite tags.

If plugins had priority over default core code on dealing with permastructs, we'd have more flexibility. I accept the fact that 
%category% is the rewrite tag that would be most improved with it. Maybe some crazy guy wanting to have the most flexibility and 
wants to use %tag% in permalink :P


Anyway, if another filter was available in the permalink generator code before it started parsing the permastruct, no harm would be 
made and this kind of stuff would be much simpler to be done, because custom permalinks would be able to be generated without 
together having to hack rewrite rules parser.

I've added a ticket to trac suggesting this new filter to be added: http://core.trac.wordpress.org/ticket/12240
I hope it's accepted ^^


Sorry for these large emails and for bothering about this issue :)


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br


----- Original Message ----- 
Sent: Monday, 15 February, 2010 2:16 AM


Ok, now I'm cool I tried again, searched on WP doc and verified its source. Now I understand a bit better how rewrite rule works and
narrowed down the source of the bug.


First of all, here's my permalink:
/%scategory%/%post_id%/%postname%/

/%scategory% is added by the plugin



v0.3.0 had this code in a function hooked to filter 'post_rewrite_rules':

{
...

    $scategory_structure = $wp_rewrite->root . "%scategory%/%postname%";
    return array_merge($rewrite, $wp_rewrite->generate_rewrite_rules($scategory_structure));
}



THIS array_merge was removed from later versions. I have no idea what it does exactaly, but adding it back fixes the bug of posts
returning 404.

Apparently it is also the cause of paged comments returning 404, and maybe that's why the author removed it. But without it, ANY
permalink I try that uses /%scategory% anywhere will always generate 404 for posts.


I was only able to understand that generate_rewrite_rules() is the main function for generating all rewrite rules, but I can't
understand what its other parameters mean, and I have no idea why adding "%scategory%/%postname%" to rewrite rules is required to
make sCategory works, or why it's only needed on my 2 sites (if author removed it and released a few versions later, I suppose the
bug doesn't happen with him).


Is anybody able to understand it and would help me find a way to make the new rewrite tag works without breaking comments pages?



----- Original Message ----- 
Sent: Monday, 15 February, 2010 1:09 AM


Hello guys, as a coincidence I'm having trouble with a plugin whose author is not accessible. It's essencial for my sites and I'm
not able to fix it.

The plugin is sCategory Permalink: http://wordpress.org/extend/plugins/scategory-permalink/

It's on version 0.6.2, but I'm still using 0.3.0.



- 0.3.0 would be perfect if it didn't have a bug: comments pages return 404, so comments can't be breaken on pages.

- 0.4.0 fix this bug, but this version generates 404 for any permalink that uses %scategory% in it

- any other version after 0.4.0 has the same 404 bug, only 0.3.0 works



Well, I've tried everything. Disabled and re-enabled permalinks a lot of times, tried all kinds of permalinks. As soon as I remove
%scategory% from permalink posts start back working. As soon as I add %scategory% back 404 is back too.

I decided to concentrate on 0.3.0 to 0.4.0 differences because they are almost the same.



There are basically 2 changes on these versions, one of them must be creating the 404 bug:

1) The following function is moved from 'post_rewrite_rules' filer to 'init' action:

0.3.0:

function addRewriteRules($rewrite) {
    global $wp_rewrite;
    $wp_rewrite->add_rewrite_tag('%scategory%', '(.+?)', 'category_name=');

    $scategory_structure = $wp_rewrite->root . "%scategory%/%postname%";

    $structure = ltrim($wp_rewrite->permalink_structure, '/');
    if (0 === strpos($structure, '%scategory%'))
        $wp_rewrite->use_verbose_page_rules = true;

    return array_merge($rewrite, $wp_rewrite->generate_rewrite_rules($scategory_structure));
}


0.4.0:

function addRewriteRules() {
    global $wp_rewrite;
    $wp_rewrite->add_rewrite_tag('%scategory%', '(.+?)', 'category_name=');
}




2) this new function, added to 0.4.0, hooked to 'post_rewrite_rules' filter:

function setVerbosePageRules($post_rewrite) {
    global $wp_rewrite;
    if (preg_match("/^[^%]*%scategory%/", $wp_rewrite->permalink_structure) )
        $wp_rewrite->use_verbose_page_rules = true;

    return $post_rewrite;
}





The lack of comments explaining what he is doing makes it harder to understand. IDK why he split the old function into 2 and moved
part of it to 'init'. What he wanted to do and consequences.

I'm also not able to distinguish what part of code is fixing comment pages bug, and where permalink bug may be happening.

Any help will be very much appreciated.


From lists at hikarinet.info  Thu Feb 25 00:06:09 2010
From: lists at hikarinet.info (Hikari)
Date: Wed, 24 Feb 2010 21:06:09 -0300
Subject: [wp-hackers] what is the correct svn path to connect withplugins
References: <39BAE29A-DD79-4B52-834F-303A3C16B844@daivmowbray.com><45A1919D-5030-46F5-9E2B-263FE6EE7E85@ftwr.co.uk>
	<D8880661-2096-43E7-BBD4-6D6E0DFD0EE7@daivmowbray.com>
Message-ID: <3D985276D4304C61B956F9CCE6ECFC2E@MAIN>

it should ask, or how will you commit?

you use the same login and pass from wordpress.org, they share the same user tables

probably you marked it to remember when you first used and forgot about it, and now something changed on your svn client or you 
changed password


---------------------------
Hikari -  A Luz ilumina a PAZ
http://Hikari.ws
http://ConscienciaPlanetaria.com

Tenha seu pr?prio email meunome @ ConscienciaPlanetaria.com.br!: http://seunome.ConscienciaPlanetaria.com.br


----- Original Message ----- 
From: "Daiv Mowbray" <daiv at daivmowbray.com>
Sent: Tuesday, 23 February, 2010 7:03 PM


| Which gives me lead to ask,
| How is it that my previous svn connections never asked me for a user
| name nor password.
|
| If it did on the first connect I don't recall.


From marvinc at gmail.com  Thu Feb 25 00:57:27 2010
From: marvinc at gmail.com (MarvinC)
Date: Wed, 24 Feb 2010 19:57:27 -0500
Subject: [wp-hackers] Plugin or theme hack help needed...
Message-ID: <604360771002241657w188a534sb844ac1a3947ec69@mail.gmail.com>

This cross-post may be titled wrong but I'm hoping I can get some help with
a theme who's plugin doesn't work under WPMU. When activated the following
error appears:

Fatal error: Call to undefined function wp_get_current_user() in
/home/content/k/g/m/haiti/html/wp-includes/capabilities.php on line 969

I've tried replacing the capabilities.php file but it didn't work and I've
also tried de-activating the plugin and customizing the template using just
the stylesheet. So as a last straw, and abvious show of desperation, I've
posted this error on the author's blog, the WP & wpmu forums, and now here.

Any responses appreciated.

From wordpress at dd32.id.au  Thu Feb 25 07:01:14 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 25 Feb 2010 18:01:14 +1100
Subject: [wp-hackers] Plugin or theme hack help needed...
In-Reply-To: <604360771002241657w188a534sb844ac1a3947ec69@mail.gmail.com>
References: <604360771002241657w188a534sb844ac1a3947ec69@mail.gmail.com>
Message-ID: <op.u8n8f9tcspxmuu@ho.st>

That'll be caused by the plugin running code when included.

The main plugin file should NOT include anything such as :

if ( current_user_can(...) )
   add_action...

Instead, that should be within a function hooked to an appropriate  
location in the WordPress loading. Eg:

add_action('init', 'my_plugin_init');
function my_plugin_init() {
   if ( current_user_can(...) )
     add_action...
}

On Thu, 25 Feb 2010 11:57:27 +1100, MarvinC <marvinc at gmail.com> wrote:

> This cross-post may be titled wrong but I'm hoping I can get some help  
> with
> a theme who's plugin doesn't work under WPMU. When activated the  
> following
> error appears:
>
> Fatal error: Call to undefined function wp_get_current_user() in
> /home/content/k/g/m/haiti/html/wp-includes/capabilities.php on line 969
>
> I've tried replacing the capabilities.php file but it didn't work and  
> I've
> also tried de-activating the plugin and customizing the template using  
> just
> the stylesheet. So as a last straw, and abvious show of desperation, I've
> posted this error on the author's blog, the WP & wpmu forums, and now  
> here.
>
> Any responses appreciated.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
  Web: http://dd32.id.au/

From 24-7 at gmx.net  Thu Feb 25 18:53:52 2010
From: 24-7 at gmx.net (24/7)
Date: Thu, 25 Feb 2010 19:53:52 +0100
Subject: [wp-hackers]  reset &send user pass
In-Reply-To: <3D985276D4304C61B956F9CCE6ECFC2E@MAIN>
References: <39BAE29A-DD79-4B52-834F-303A3C16B844@daivmowbray.com><45A1919D-5030-46F5-9E2B-263FE6EE7E85@ftwr.co.uk>	<D8880661-2096-43E7-BBD4-6D6E0DFD0EE7@daivmowbray.com>
	<3D985276D4304C61B956F9CCE6ECFC2E@MAIN>
Message-ID: <000901cab64b$e1c46f30$a54d4d90$@net>

Hi,

i?m currently searching for a sollution on how to reset & re-send a user
password. In my case WP is used as a CMS for an event, which we make twice a
year. So i made a slick jquery sortable table in my custom admin-interface
to list and change user-data with ajax on the fly. The only thing which i?m
still missing is to code a function to send the password to the user. Du to
the fact, that the pass is a salted md5-hash, i have to reset them too.

I hope anyone of you can lend me a helping hand on this, because i don?t
even a point to begin..

Thanks a lot!

-K.


From michael at mfields.org  Thu Feb 25 19:20:18 2010
From: michael at mfields.org (michael at mfields.org)
Date: Thu, 25 Feb 2010 12:20:18 -0700
Subject: [wp-hackers] reset &send user pass
In-Reply-To: <000901cab64b$e1c46f30$a54d4d90$@net>
References: <39BAE29A-DD79-4B52-834F-303A3C16B844@daivmowbray.com><45A1919D-5030-46F5-9E2B-263FE6EE7E85@ftwr.co.uk>
	<D8880661-2096-43E7-BBD4-6D6E0DFD0EE7@daivmowbray.com>
	<3D985276D4304C61B956F9CCE6ECFC2E@MAIN>
	<000901cab64b$e1c46f30$a54d4d90$@net>
Message-ID: <3b7d2901d503035b594700dfa20f8709.squirrel@mfields.org>

K, As far as I know there is no way to accomplish this. The password has
been stored with one way encryption. If you can find a way to reverse
engineer the salted MD5 you may be in luck, but I don't think it all that
easy to do - if possible at all. IMO, your best bet would to have them go
through the process of resetting their password.

> Hi,
>
> i?m currently searching for a sollution on how to reset & re-send a user
> password. In my case WP is used as a CMS for an event, which we make twice
> a
> year. So i made a slick jquery sortable table in my custom admin-interface
> to list and change user-data with ajax on the fly. The only thing which
> i?m
> still missing is to code a function to send the password to the user. Du
> to
> the fact, that the pass is a salted md5-hash, i have to reset them too.
>
> I hope anyone of you can lend me a helping hand on this, because i don?t
> even a point to begin..
>
> Thanks a lot!
>
> -K.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



From jeremy at visser.name  Thu Feb 25 23:20:30 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Fri, 26 Feb 2010 10:20:30 +1100
Subject: [wp-hackers] reset &send user pass
In-Reply-To: <3b7d2901d503035b594700dfa20f8709.squirrel@mfields.org>
References: <39BAE29A-DD79-4B52-834F-303A3C16B844@daivmowbray.com><45A1919D-5030-46F5-9E2B-263FE6EE7E85@ftwr.co.uk>	<D8880661-2096-43E7-BBD4-6D6E0DFD0EE7@daivmowbray.com>	<3D985276D4304C61B956F9CCE6ECFC2E@MAIN>	<000901cab64b$e1c46f30$a54d4d90$@net>
	<3b7d2901d503035b594700dfa20f8709.squirrel@mfields.org>
Message-ID: <4B8705BE.3030700@visser.name>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 26/02/10 06:20, michael at mfields.org wrote:
> K, As far as I know there is no way to accomplish this. The password
> has been stored with one way encryption.

Pretty sure that's now what the O.P. meant to say. Have a re-read:

>> i?m currently searching for a sollution on how to reset & re-send a
>> user password.

"Reset & re-send". K already acknowledges that resetting the password is
necessary:

>> Du to the fact, that the pass is a salted md5-hash, i have to reset
>> them too.

K, I think you're just best off linking to:

  get_bloginfo('wpurl') . '/wp-login.php?action=lostpassword'

Best not to reinvent the wheel when you don't have to. :)

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iEYEARECAAYFAkuHBbsACgkQvs6Qqs8TxBqaZwCgqR+XWtN3JfCJru2gQ0d4+AHd
ibgAoIzof0QgxqDnbpJu35r+iYEiBobT
=inOv
-----END PGP SIGNATURE-----

From jaredbangs at gmail.com  Thu Feb 25 23:43:41 2010
From: jaredbangs at gmail.com (Jared Bangs)
Date: Thu, 25 Feb 2010 15:43:41 -0800
Subject: [wp-hackers] reset &send user pass
In-Reply-To: <4B8705BE.3030700@visser.name>
References: <39BAE29A-DD79-4B52-834F-303A3C16B844@daivmowbray.com>
	<45A1919D-5030-46F5-9E2B-263FE6EE7E85@ftwr.co.uk>
	<D8880661-2096-43E7-BBD4-6D6E0DFD0EE7@daivmowbray.com>
	<3D985276D4304C61B956F9CCE6ECFC2E@MAIN>
	<000901cab64b$e1c46f30$a54d4d90$@net>
	<3b7d2901d503035b594700dfa20f8709.squirrel@mfields.org>
	<4B8705BE.3030700@visser.name>
Message-ID: <7b4922321002251543s4fb7b5d7p3b7e049e72a65f2a@mail.gmail.com>

On Thu, Feb 25, 2010 at 3:20 PM, Jeremy Visser <jeremy at visser.name> wrote:
>
> On 26/02/10 06:20, michael at mfields.org wrote:
>> K, As far as I know there is no way to accomplish this. The password
>> has been stored with one way encryption.
>
> Pretty sure that's now what the O.P. meant to say. Have a re-read:
>
>>> i?m currently searching for a sollution on how to reset & re-send a
>>> user password.
>
> "Reset & re-send". K already acknowledges that resetting the password is
> necessary:
>
>>> Du to the fact, that the pass is a salted md5-hash, i have to reset
>>> them too.
>
> K, I think you're just best off linking to:
>
> ?get_bloginfo('wpurl') . '/wp-login.php?action=lostpassword'
>
> Best not to reinvent the wheel when you don't have to. :)

I agree; that would definitely be the best approach.

If for some reason that doesn't work, I seem to remember doing a
plugin for someone a long time ago that would basically simulate the
password reset process on behalf of the user (using a randomly
generated password) and then email the user the new password, but this
has the disadvantage of the password existing in a plain text email
message.

If you (or your client, etc.) insists on going that route, you could
probably look through the code for the methods that need to be called,
etc., but sending them a link to the normal password reset process
would certainly be a lot less work and better in terms of security.

From 24-7 at gmx.net  Fri Feb 26 12:55:27 2010
From: 24-7 at gmx.net (24/7)
Date: Fri, 26 Feb 2010 13:55:27 +0100
Subject: [wp-hackers] reset &send user pass
In-Reply-To: <7b4922321002251543s4fb7b5d7p3b7e049e72a65f2a@mail.gmail.com>
References: <39BAE29A-DD79-4B52-834F-303A3C16B844@daivmowbray.com>	<45A1919D-5030-46F5-9E2B-263FE6EE7E85@ftwr.co.uk>	<D8880661-2096-43E7-BBD4-6D6E0DFD0EE7@daivmowbray.com>	<3D985276D4304C61B956F9CCE6ECFC2E@MAIN>	<000901cab64b$e1c46f30$a54d4d90$@net>	<3b7d2901d503035b594700dfa20f8709.squirrel@mfields.org>	<4B8705BE.3030700@visser.name>
	<7b4922321002251543s4fb7b5d7p3b7e049e72a65f2a@mail.gmail.com>
Message-ID: <002501cab6e2$f8d0d460$ea727d20$@net>

On Thu, Feb 25, 2010 at 3:20 PM, Jeremy Visser <jeremy at visser.name> wrote:
>
> On 26/02/10 06:20, michael at mfields.org wrote:
>> K, As far as I know there is no way to accomplish this. The password
>> has been stored with one way encryption.
>
> Pretty sure that's now what the O.P. meant to say. Have a re-read:

@Jeremy: Yes, that?s what i tried to say :)

> K, I think you're just best off linking to:
>
> ?get_bloginfo('wpurl') . '/wp-login.php?action=lostpassword'
>
> Best not to reinvent the wheel when you don't have to. :)

My problem is, that i can?t simply send a mass e-mail to all users.
The people who are working on with the data have a custom,
trimmed UI. There they got a list of all users and need to reset
and resend the pass only to selected users. And the process needs
to be a "one click" sollution.

> If for some reason that doesn't work, I seem to remember doing a
> plugin for someone a long time ago that would basically simulate the
> password reset process on behalf of the user (using a randomly
> generated password) and then email the user the new password, but this
> has the disadvantage of the password existing in a plain text email
> message.

@Jared: Do you have a link for your plugin? I couldn?t find it on the web.

> If you (or your client, etc.) insists on going that route, you could
> probably look through the code for the methods that need to be called,
> etc., but sending them a link to the normal password reset process
> would certainly be a lot less work and better in terms of security.

I?m just trying to trigger what?s already in use and not just the 
"do you want to reset"-mail from wp-login.php - line 108-183. 
If i copy-paste the wp-login.php (line 185-234) code and populate 
it with the right values, i *should* be able to resend it. (So it should 
be of the same "security level" wp already provides with the way it 
behaves.) My problem is, that i don?t see how to send the mail 
(i think i?m routine-blinded or simply... stupid). 

I hope you can point (or even push) me at the right thing.
Thanks a lot so far.

-K.

------------------------
Franz Kaiser
Vienna (Austria)



From jaredbangs at gmail.com  Fri Feb 26 15:50:44 2010
From: jaredbangs at gmail.com (Jared Bangs)
Date: Fri, 26 Feb 2010 07:50:44 -0800
Subject: [wp-hackers] reset &send user pass
In-Reply-To: <002501cab6e2$f8d0d460$ea727d20$@net>
References: <39BAE29A-DD79-4B52-834F-303A3C16B844@daivmowbray.com>
	<45A1919D-5030-46F5-9E2B-263FE6EE7E85@ftwr.co.uk>
	<D8880661-2096-43E7-BBD4-6D6E0DFD0EE7@daivmowbray.com>
	<3D985276D4304C61B956F9CCE6ECFC2E@MAIN>
	<000901cab64b$e1c46f30$a54d4d90$@net>
	<3b7d2901d503035b594700dfa20f8709.squirrel@mfields.org>
	<4B8705BE.3030700@visser.name>
	<7b4922321002251543s4fb7b5d7p3b7e049e72a65f2a@mail.gmail.com>
	<002501cab6e2$f8d0d460$ea727d20$@net>
Message-ID: <7b4922321002260750u1d26a4e3t3a29f619ca5e87d9@mail.gmail.com>

On Fri, Feb 26, 2010 at 4:55 AM, 24/7 <24-7 at gmx.net> wrote:
>
> @Jared: Do you have a link for your plugin? I couldn?t find it on the web.
>

Unfortunately I don't know if I still have it. I did it as part of a
project for someone else quite a while ago, and I don't think they
ever released it publicly.

>> If you (or your client, etc.) insists on going that route, you could
>> probably look through the code for the methods that need to be called,
>> etc., but sending them a link to the normal password reset process
>> would certainly be a lot less work and better in terms of security.
>
> I?m just trying to trigger what?s already in use and not just the
> "do you want to reset"-mail from wp-login.php - line 108-183.
> If i copy-paste the wp-login.php (line 185-234) code and populate
> it with the right values, i *should* be able to resend it. (So it should
> be of the same "security level" wp already provides with the way it
> behaves.) My problem is, that i don?t see how to send the mail
> (i think i?m routine-blinded or simply... stupid).
>

On the issue of sending the email, WP has some built-in functions for
sending emails that should be available to your plugin. Check the code
from some of the more popular plugins that deal with sending email
notifications for sample usage.

On the security front, I was slightly confused, in that I did not
think WP sent the password via email during the password reset
process, but now that I review it I can see that it does, so you are
correct; it basically should be no different than that.

From dangayle at gmail.com  Fri Feb 26 21:42:00 2010
From: dangayle at gmail.com (Dan Gayle)
Date: Fri, 26 Feb 2010 13:42:00 -0800
Subject: [wp-hackers] Trackbacks as background process
Message-ID: <74a8f8d81002261342t72eca2aaka1098afa6c101264@mail.gmail.com>

Does anyone know of a way to move the trackback process out of the way when
posting a new item, move it into a background process independent of the
post?

From scribu at gmail.com  Fri Feb 26 23:58:12 2010
From: scribu at gmail.com (scribu)
Date: Sat, 27 Feb 2010 01:58:12 +0200
Subject: [wp-hackers] Trackbacks as background process
In-Reply-To: <74a8f8d81002261342t72eca2aaka1098afa6c101264@mail.gmail.com>
References: <74a8f8d81002261342t72eca2aaka1098afa6c101264@mail.gmail.com>
Message-ID: <349fe48b1002261558t55e5adfbueaf5bfe2a2b07900@mail.gmail.com>

On Fri, Feb 26, 2010 at 11:42 PM, Dan Gayle <dangayle at gmail.com> wrote:

> Does anyone know of a way to move the trackback process out of the way when
> posting a new item, move it into a background process independent of the
> post?


I thought trackbacks and pingbacks were already being sent out using
wp-cron.

What version of WordPress are you refering to ?


-- 
http://scribu.net

From ron at vnetworx.net  Sat Feb 27 00:23:23 2010
From: ron at vnetworx.net (Ron Guerin)
Date: Fri, 26 Feb 2010 19:23:23 -0500
Subject: [wp-hackers] Bug in wp_mail
In-Reply-To: <4cc4de141002212253s5766a926k3529029c38ffae56@mail.gmail.com>
References: <4B81A0A2.70508@vnetworx.net>	<7FB3F6CC-1E1E-4728-AF35-34031541A1C6@ftwr.co.uk>
	<4B81AED8.5090501@vnetworx.net> <4B81B05A.4020000@vnetworx.net>
	<513d59821002212221k30e157c7r2aecee5f24b86892@mail.gmail.com>
	<4cc4de141002212253s5766a926k3529029c38ffae56@mail.gmail.com>
Message-ID: <4B8865FB.5000705@vnetworx.net>

Andrew Nacin wrote:
> You could create a ticket for a feature request on
> http://core.trac.wordpress.org to perhaps suggest a "Test e-mail" link next
> to the admin email box in general options, that would send an email to that
> address. Beyond that the core developers strongly dislike extra unnecessary
> options, particularly those that can be handled by a plugin. I could see
> that as being potentially useful.
>   


While that's a laudable goal up to a reasonable point, since when is
fixing your bugs "extra unnecessary options"?  I could tell from the
first reply that what we have here is a bug, and it wasn't a new
discovery, it's just something being swept under the rug while
pretending it doesn't exist.   It would have saved me a few hours last
weekend if they hadn't closed those previously submitted tickets
pretending the problem isn't there without actually fixing the bug.

If you have to use a plugin to fix a bug in the core, that's still a bug
in the core.

- Ron

From scribu at gmail.com  Sat Feb 27 00:50:54 2010
From: scribu at gmail.com (scribu)
Date: Sat, 27 Feb 2010 02:50:54 +0200
Subject: [wp-hackers] Bug in wp_mail
In-Reply-To: <4B8865FB.5000705@vnetworx.net>
References: <4B81A0A2.70508@vnetworx.net>
	<7FB3F6CC-1E1E-4728-AF35-34031541A1C6@ftwr.co.uk>
	<4B81AED8.5090501@vnetworx.net> <4B81B05A.4020000@vnetworx.net>
	<513d59821002212221k30e157c7r2aecee5f24b86892@mail.gmail.com>
	<4cc4de141002212253s5766a926k3529029c38ffae56@mail.gmail.com>
	<4B8865FB.5000705@vnetworx.net>
Message-ID: <349fe48b1002261650j4e70c77er20d0033d322f38ae@mail.gmail.com>

On Sat, Feb 27, 2010 at 2:23 AM, Ron Guerin <ron at vnetworx.net> wrote:

> While that's a laudable goal up to a reasonable point, since when is
> fixing your bugs "extra unnecessary options"?  I could tell from the
> first reply that what we have here is a bug, and it wasn't a new
> discovery, it's just something being swept under the rug while
> pretending it doesn't exist.   It would have saved me a few hours last
> weekend if they hadn't closed those previously submitted tickets
> pretending the problem isn't there without actually fixing the bug.
>
> If you have to use a plugin to fix a bug in the core, that's still a bug
> in the core.
>
> - Ron
>

If you find a solution that works for you *and* all the rest of the server
setups out there, do share.


-- 
http://scribu.net

From awgandrews at gmail.com  Sat Feb 27 17:22:57 2010
From: awgandrews at gmail.com (Alex Andrews)
Date: Sat, 27 Feb 2010 17:22:57 +0000
Subject: [wp-hackers] Quick Data Hashing In Database
Message-ID: <e9f3ce461002270922n62fac38cgc5fd9b868c8e96f7@mail.gmail.com>

Dear friends,

A while back I remember someone mentioning a quick way to stash some
data in the database quickly for later retrieval, for example, when
you want to save some data without finally writing it to your tables.
I can't for the life of me remember what is is, all I recall is it is
something like 'incidentals' (?!). Any idea?

Thanks very much.

Alex

From matt at sivel.net  Sat Feb 27 17:35:17 2010
From: matt at sivel.net (Matt Martz)
Date: Sat, 27 Feb 2010 11:35:17 -0600
Subject: [wp-hackers] Quick Data Hashing In Database
In-Reply-To: <e9f3ce461002270922n62fac38cgc5fd9b868c8e96f7@mail.gmail.com>
References: <e9f3ce461002270922n62fac38cgc5fd9b868c8e96f7@mail.gmail.com>
Message-ID: <518fa9631002270935h19a5b40ay15086a5867c73cee@mail.gmail.com>

On Sat, Feb 27, 2010 at 11:22 AM, Alex Andrews <awgandrews at gmail.com> wrote:
> Dear friends,
>
> A while back I remember someone mentioning a quick way to stash some
> data in the database quickly for later retrieval, for example, when
> you want to save some data without finally writing it to your tables.
> I can't for the life of me remember what is is, all I recall is it is
> something like 'incidentals' (?!). Any idea?

Transients? http://codex.wordpress.org/Transients_API

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From awgandrews at gmail.com  Sat Feb 27 17:37:05 2010
From: awgandrews at gmail.com (Alex Andrews)
Date: Sat, 27 Feb 2010 17:37:05 +0000
Subject: [wp-hackers] Quick Data Hashing In Database
In-Reply-To: <518fa9631002270935h19a5b40ay15086a5867c73cee@mail.gmail.com>
References: <e9f3ce461002270922n62fac38cgc5fd9b868c8e96f7@mail.gmail.com> 
	<518fa9631002270935h19a5b40ay15086a5867c73cee@mail.gmail.com>
Message-ID: <e9f3ce461002270937t49cda03bu5f5fc70281e62949@mail.gmail.com>

Snap! Thanks, I was close-ish with incidentals...

Alex

On 27 February 2010 17:35, Matt Martz <matt at sivel.net> wrote:
> On Sat, Feb 27, 2010 at 11:22 AM, Alex Andrews <awgandrews at gmail.com> wrote:
>> Dear friends,
>>
>> A while back I remember someone mentioning a quick way to stash some
>> data in the database quickly for later retrieval, for example, when
>> you want to save some data without finally writing it to your tables.
>> I can't for the life of me remember what is is, all I recall is it is
>> something like 'incidentals' (?!). Any idea?
>
> Transients? http://codex.wordpress.org/Transients_API
>
> --
> Matt Martz
> matt at sivel.net
> http://sivel.net/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jeremy at visser.name  Sun Feb 28 04:22:00 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Sun, 28 Feb 2010 15:22:00 +1100
Subject: [wp-hackers] Quick Data Hashing In Database
In-Reply-To: <e9f3ce461002270937t49cda03bu5f5fc70281e62949@mail.gmail.com>
References: <e9f3ce461002270922n62fac38cgc5fd9b868c8e96f7@mail.gmail.com>
	<518fa9631002270935h19a5b40ay15086a5867c73cee@mail.gmail.com>
	<e9f3ce461002270937t49cda03bu5f5fc70281e62949@mail.gmail.com>
Message-ID: <4B89EF68.6090702@visser.name>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 28/02/10 04:37, Alex Andrews wrote:
> On 27 February 2010 17:35, Matt Martz <matt at sivel.net> wrote:
>> Transients? http://codex.wordpress.org/Transients_API
> 
> Snap! Thanks, I was close-ish with incidentals...

Should go the whole hog and try to use transcendentals. ;-)

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iEYEARECAAYFAkuJ72YACgkQvs6Qqs8TxBpfzACeMZqRICncns1gNlxEt551dCn+
jrQAoL4xVk8j5w5WfEQmgqLzEFLm8iNK
=3uOO
-----END PGP SIGNATURE-----

From viniciusandre at gmail.com  Sun Feb 28 04:51:10 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Sun, 28 Feb 2010 01:51:10 -0300
Subject: [wp-hackers] Displaying complete text of posts on feeds
Message-ID: <4ede8f491002272051r289c8446yfead79e391be8409@mail.gmail.com>

Hi!

I can't seem to be able to change the feed option from "excerpt" to
"complete text" on the "reading" section.
There's 16 plugins installed, and I'm trying to find out if one of
them is affecting this option. Is there any way of finding this out in
an easier way?

Thanks!
--
Vin?cius Massuchetto

From scribu at gmail.com  Sun Feb 28 10:55:05 2010
From: scribu at gmail.com (scribu)
Date: Sun, 28 Feb 2010 12:55:05 +0200
Subject: [wp-hackers] Displaying complete text of posts on feeds
In-Reply-To: <4ede8f491002272051r289c8446yfead79e391be8409@mail.gmail.com>
References: <4ede8f491002272051r289c8446yfead79e391be8409@mail.gmail.com>
Message-ID: <349fe48b1002280255t5c041b97kf7386cf91dd8d8af@mail.gmail.com>

The wp-hackers list is reserved for discussions regarding WordPress
development.

Please use the support forums for questions like this:

http://wordpress.org/support/


-- 
http://scribu.net

From johnbillion+wp at gmail.com  Sun Feb 28 20:29:29 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Sun, 28 Feb 2010 20:29:29 +0000
Subject: [wp-hackers] Displaying complete text of posts on feeds
In-Reply-To: <349fe48b1002280255t5c041b97kf7386cf91dd8d8af@mail.gmail.com>
References: <4ede8f491002272051r289c8446yfead79e391be8409@mail.gmail.com>
	<349fe48b1002280255t5c041b97kf7386cf91dd8d8af@mail.gmail.com>
Message-ID: <1fa535a71002281229j4ff7a974mac16eb3de6ab48cc@mail.gmail.com>

Seeing as you've asked though, Vinicius, if you're viewing your feed
in Firefox or another browser you may only see an excerpt even though
the full feed is there. View the source of your feed to see the
complete feed content.

On Sun, Feb 28, 2010 at 10:55 AM, scribu <scribu at gmail.com> wrote:
> The wp-hackers list is reserved for discussions regarding WordPress
> development.
>
> Please use the support forums for questions like this:
>
> http://wordpress.org/support/
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From viniciusandre at gmail.com  Sun Feb 28 20:49:49 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Sun, 28 Feb 2010 17:49:49 -0300
Subject: [wp-hackers] Displaying complete text of posts on feeds
In-Reply-To: <1fa535a71002281229j4ff7a974mac16eb3de6ab48cc@mail.gmail.com>
References: <4ede8f491002272051r289c8446yfead79e391be8409@mail.gmail.com>
	<349fe48b1002280255t5c041b97kf7386cf91dd8d8af@mail.gmail.com>
	<1fa535a71002281229j4ff7a974mac16eb3de6ab48cc@mail.gmail.com>
Message-ID: <4ede8f491002281249i7d12efcgdbbfea4bf15d182e@mail.gmail.com>

Hi!

On Sun, Feb 28, 2010 at 5:29 PM, John Blackbourn
<johnbillion+wp at gmail.com> wrote:
> Seeing as you've asked though, Vinicius, if you're viewing your feed
> in Firefox or another browser you may only see an excerpt even though
> the full feed is there. View the source of your feed to see the
> complete feed content.

I checked that first. Worpress is really outputting excerpts even when
the reading option "show full text" is marked.

> On Sun, Feb 28, 2010 at 10:55 AM, scribu <scribu at gmail.com> wrote:
>> The wp-hackers list is reserved for discussions regarding WordPress
>> development.
>>
>> Please use the support forums for questions like this:
>>
>> http://wordpress.org/support/

Thanks for replying, scribu, but maybe i wasn't clear enough. I
understand what the list is for.

Once I believe there's a plugin compatibility problem, I was asking if
there's any way of checking if the rss output was modified for one of
these plugins with some verification code, as I don't want to scan the
code of all these plugins to see if one of them has some rss hook.

Thanks.
--
Vinicius Massuchetto
http://vinicius.soylocoporti.org.br

From navjotjsingh at gmail.com  Sun Feb 28 20:51:28 2010
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Mon, 1 Mar 2010 02:21:28 +0530
Subject: [wp-hackers] Displaying complete text of posts on feeds
In-Reply-To: <4ede8f491002281249i7d12efcgdbbfea4bf15d182e@mail.gmail.com>
References: <4ede8f491002272051r289c8446yfead79e391be8409@mail.gmail.com> 
	<349fe48b1002280255t5c041b97kf7386cf91dd8d8af@mail.gmail.com> 
	<1fa535a71002281229j4ff7a974mac16eb3de6ab48cc@mail.gmail.com> 
	<4ede8f491002281249i7d12efcgdbbfea4bf15d182e@mail.gmail.com>
Message-ID: <7b9e108c1002281251k5ff8576ake8e6cd1c81b35900@mail.gmail.com>

You can try disabling each plugin one by one and then check disabling which
plugin fixes the problem. The only easy way to find out.

On Mon, Mar 1, 2010 at 2:19 AM, Vinicius Massuchetto <
viniciusandre at gmail.com> wrote:

> Hi!
>
> On Sun, Feb 28, 2010 at 5:29 PM, John Blackbourn
> <johnbillion+wp at gmail.com <johnbillion%2Bwp at gmail.com>> wrote:
> > Seeing as you've asked though, Vinicius, if you're viewing your feed
> > in Firefox or another browser you may only see an excerpt even though
> > the full feed is there. View the source of your feed to see the
> > complete feed content.
>
> I checked that first. Worpress is really outputting excerpts even when
> the reading option "show full text" is marked.
>
> > On Sun, Feb 28, 2010 at 10:55 AM, scribu <scribu at gmail.com> wrote:
> >> The wp-hackers list is reserved for discussions regarding WordPress
> >> development.
> >>
> >> Please use the support forums for questions like this:
> >>
> >> http://wordpress.org/support/
>
> Thanks for replying, scribu, but maybe i wasn't clear enough. I
> understand what the list is for.
>
> Once I believe there's a plugin compatibility problem, I was asking if
> there's any way of checking if the rss output was modified for one of
> these plugins with some verification code, as I don't want to scan the
> code of all these plugins to see if one of them has some rss hook.
>
> Thanks.
> --
> Vinicius Massuchetto
> http://vinicius.soylocoporti.org.br
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

