From r at schestowitz.com  Thu Sep  1 07:46:46 2011
From: r at schestowitz.com (Roy Schestowitz)
Date: Thu, 01 Sep 2011 08:46:46 +0100
Subject: [wp-hackers] WP-Hackers Stats for August 2011
Message-ID: <4E5F3866.5030805@schestowitz.com>

  -  Times are Greenwich Mean Time (GMT) +0:00

  -  Statistics span a period of one month

  -  Subject line formatted consistently "WP-Hackers Stats for <MONTH>
<YEAR>"

  -  Killfile <subject contains "WP-Hackers Stats for "> if uninterested
____________________________________________________________

Stats for wp-hackers
~~~~~~~~~~~~~~~~~~~~
***** People who have written most messages:
+----+-----Author-----------------------------------+--Msg-+-Percent-+
|  1 | ian powerfoundation.org                      |   28 |  9.24 % |
|  2 | ronin braydon.com                            |   23 |  7.59 % |
|  3 | pasquale.puzio gmail.com                     |   14 |  4.62 % |
|  4 | wordpress dd32.id.au                         |   13 |  4.29 % |
|  5 | otto ottodestruct.com                        |   13 |  4.29 % |
|  6 | danielx386 gmail.com                         |    9 |  2.97 % |
|  7 | awgandrews gmail.com                         |    7 |  2.31 % |
|  8 | hempsworth gmail.com                         |    7 |  2.31 % |
|  9 | martin lazarov.bg                            |    7 |  2.31 % |
| 10 | johnbillion+wp gmail.com                     |    7 |  2.31 % |
| 11 | gxxaxx gmail.com                             |    6 |  1.98 % |
| 12 | aoberoi gmail.com                            |    5 |  1.65 % |
| 13 | wordpress zed1.com                           |    5 |  1.65 % |
| 14 | 24-7 gmx.net                                 |    5 |  1.65 % |
| 15 | wp-hackers thecodecave.com                   |    5 |  1.65 % |
| 16 | james easilyamusedinc.com                    |    5 |  1.65 % |
| 17 | immanence7 gmail.com                         |    4 |  1.32 % |
| 18 | moraleida gmail.com                          |    4 |  1.32 % |
| 19 | wordpress danielbachhuber.com                |    4 |  1.32 % |
| 20 | mikeschinkel newclarity.net                  |    4 |  1.32 % |
| 21 | mjsafoxy gmail.com                           |    3 |  0.99 % |
| 22 | b2 sysadmins-bg.net                          |    3 |  0.99 % |
| 23 | fris fris.net                                |    3 |  0.99 % |
| 24 | dianakac gmail.com                           |    3 |  0.99 % |
| 25 | wojtek.szkutnik gmail.com                    |    3 |  0.99 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  113 | 37.29 % |
+----+----------------------------------------------+------+---------+

***** Best authors, by total size of their messages (w/o quoting):
+----+-----Author-------------------------------------------+-KBytes-+
|  1 | ian powerfoundation.org                              |   23.8 |
|  2 | pasquale.puzio gmail.com                             |   12.0 |
|  3 | ronin braydon.com                                    |   11.1 |
|  4 | wordpress dd32.id.au                                 |   11.0 |
|  5 | martin lazarov.bg                                    |   10.9 |
|  6 | otto ottodestruct.com                                |    8.4 |
|  7 | aoberoi gmail.com                                    |    7.6 |
|  8 | gxxaxx gmail.com                                     |    6.5 |
|  9 | wp-hackers thecodecave.com                           |    6.3 |
| 10 | johnbillion+wp gmail.com                             |    6.1 |
| 11 | dan dansmart.co.uk                                   |    5.6 |
| 12 | tcbarrett gmail.com                                  |    5.4 |
| 13 | bgf66 comcast.net                                    |    5.0 |
| 14 | awgandrews gmail.com                                 |    4.2 |
| 15 | hempsworth gmail.com                                 |    4.0 |
| 16 | wordpress zed1.com                                   |    3.9 |
| 17 | piemanek gmail.com                                   |    3.5 |
| 18 | wp-hackers google-adsense-templates.co.uk            |    3.5 |
| 19 | danielx386 gmail.com                                 |    3.4 |
| 20 | b2 sysadmins-bg.net                                  |    3.4 |
| 21 | dianakac gmail.com                                   |    3.3 |
| 22 | will.davis gmail.com                                 |    3.2 |
| 23 | 24-7 gmx.net                                         |    3.1 |
| 24 | alecs.garza gmail.com                                |    3.1 |
| 25 | jgadbois gmail.com                                   |    3.0 |
+----+------------------------------------------------------+--------+

***** Best authors, by average size of their message (w/o quoting):
+----+-----Author--------------------------------------------+-bytes-+
|  1 | dan dansmart.co.uk                                    |  5728 |
|  2 | glenn pegden.com                                      |  2322 |
|  3 | lp43 duke.edu                                         |  1973 |
|  4 | aspratley gmail.com                                   |  1896 |
|  5 | tcbarrett gmail.com                                   |  1826 |
|  6 | dan danwashere.com                                    |  1787 |
|  7 | wp-hackers google-adsense-templates.co.uk             |  1768 |
|  8 | ken.brucker action-a-day.com                          |  1760 |
|  9 | bgf66 comcast.net                                     |  1714 |
| 10 | will.davis gmail.com                                  |  1636 |
| 11 | martin lazarov.bg                                     |  1592 |
| 12 | alecs.garza gmail.com                                 |  1568 |
| 13 | aoberoi gmail.com                                     |  1564 |
| 14 | jgadbois gmail.com                                    |  1560 |
| 15 | Mo.Braga LBi.com                                      |  1455 |
| 16 | andycharrington gmail.com                             |  1378 |
| 17 | helen.y.hou gmail.com                                 |  1370 |
| 18 | mitch mitchcanter.com                                 |  1364 |
| 19 | Gavin.Pearce 3seven9.com                              |  1326 |
| 20 | wp-hackers thecodecave.com                            |  1289 |
| 21 | piemanek gmail.com                                    |  1207 |
| 22 | b2 sysadmins-bg.net                                   |  1155 |
| 23 | dianakac gmail.com                                    |  1140 |
| 24 | gxxaxx gmail.com                                      |  1116 |
| 25 | victor victorfont.com                                 |  1094 |
+----+-------------------------------------------------------+-------+

***** Table showing the most successful subjects:
+----+----Subject-----------------------------------+--Msg-+-Percent-+
|  1 | [wp-hackers] APC-Nginx-Apache problems / mem |   58 | 19.14 % |
|  2 | [wp-hackers] Re-Selling (your) free plugins  |   12 |  3.96 % |
|  3 | [wp-hackers] Comment Rating                  |   11 |  3.63 % |
|  4 | [wp-hackers] Website transfering             |   10 |  3.30 % |
|  5 | [wp-hackers] MySQL database issue            |   10 |  3.30 % |
|  6 | [wp-hackers] Template Hierarchy In A Plugin  |    9 |  2.97 % |
|  7 | [wp-hackers] Rebuild all rewrite rules       |    9 |  2.97 % |
|  8 | [wp-hackers] WordPress Multisite Question    |    9 |  2.97 % |
|  9 | [wp-hackers] WordPress multisite, Domain map |    9 |  2.97 % |
| 10 | [wp-hackers] images in MySQL Wordpress datab |    8 |  2.64 % |
| 11 | [wp-hackers] Frontend form                   |    8 |  2.64 % |
| 12 | [wp-hackers] pluggable.php and 'plugins_load |    8 |  2.64 % |
| 13 | [wp-hackers] page not found when clicking on |    7 |  2.31 % |
| 14 | [wp-hackers] Enhanced E-Mails needs testing  |    7 |  2.31 % |
| 15 | [wp-hackers] Using Modernizr for the new htm |    6 |  1.98 % |
| 16 | [wp-hackers] wp_insert_term - why no name?   |    5 |  1.65 % |
| 17 | [wp-hackers] Shortcode embedded within short |    5 |  1.65 % |
| 18 | [wp-hackers] upload size limit (in pixels!)  |    5 |  1.65 % |
| 19 | [wp-hackers] using transient api with http a |    4 |  1.32 % |
| 20 | [wp-hackers] Fatal error: Call to a member f |    4 |  1.32 % |
| 21 | [wp-hackers] Detecting which action ran func |    4 |  1.32 % |
| 22 | [wp-hackers] CPT with post_title names       |    4 |  1.32 % |
| 23 | [wp-hackers] SVN and Trac server failed!     |    4 |  1.32 % |
| 24 | [wp-hackers] what function creates the post  |    4 |  1.32 % |
| 25 | [wp-hackers] wp-e-commerce problem           |    4 |  1.32 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |   79 | 26.07 % |
+----+----------------------------------------------+------+---------+

***** Most used email clients:
+----+----Mailer------------------------------------+--Msg-+-Percent-+
|  1 | Google Mail/Other                            |  182 | 60.07 % |
|  2 | Apple Mail (2.1244.3)                        |   44 | 14.52 % |
|  3 | Mozilla/5.x                                  |   43 | 14.19 % |
|  4 | Apple Mail (2.1084)                          |    7 |  2.31 % |
|  5 | sparrow 1.3.2 (build 814.61)                 |    6 |  1.98 % |
|  6 | Microsoft Outlook 14.0                       |    5 |  1.65 % |
|  7 | Evolution 2.28.3                             |    3 |  0.99 % |
|  8 | Microsoft Outlook Express 6.x                |    3 |  0.99 % |
|  9 | iPhone Mail (8L1)                            |    3 |  0.99 % |
| 10 | Forte Agent 4.2x                             |    2 |  0.66 % |
| 11 | Lotus Notes Release 7.0                      |    2 |  0.66 % |
| 12 | iPhone Mail (8C148)                          |    1 |  0.33 % |
| 13 | iPhone Mail (8H7)                            |    1 |  0.33 % |
| 14 | Zimbra 7.1.1_GA_3223 (MobileSync - Apple-iPa |    1 |  0.33 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |    0 |  0.00 % |
+----+----------------------------------------------+------+---------+

***** Table of maximal quoting:
+----+-----Author------------------------------------------+-Percent-+
|  1 | madutaflorin gmail.com                              | 90.36 % |
|  2 | joeboydston gmail.com                               | 89.49 % |
|  3 | s3t13xpl0r3r gmail.com                              | 85.66 % |
|  4 | mjsafoxy gmail.com                                  | 85.08 % |
|  5 | gregg fatheaddesign.com                             | 83.51 % |
|  6 | jason codeclarified.com                             | 83.02 % |
|  7 | james om4.com.au                                    | 80.93 % |
|  8 | furcifer furcifer.me                                | 80.10 % |
|  9 | zamoose gmail.com                                   | 79.05 % |
| 10 | goldenapplesdesign gmail.com                        | 76.54 % |
| 11 | danielx386 gmail.com                                | 74.59 % |
| 12 | mikeschinkel newclarity.net                         | 72.80 % |
| 13 | ronin braydon.com                                   | 72.31 % |
| 14 | liste srpski.biz                                    | 71.51 % |
| 15 | eric eam.me                                         | 70.61 % |
| 16 | rafaehlers gmail.com                                | 69.96 % |
| 17 | james easilyamusedinc.com                           | 69.89 % |
| 18 | cross thisismyurl.com                               | 69.75 % |
| 19 | Mo.Braga LBi.com                                    | 68.01 % |
| 20 | chip chipbennett.net                                | 67.40 % |
| 21 | awgandrews gmail.com                                | 67.04 % |
| 22 | apeka1990 gmail.com                                 | 65.76 % |
| 23 | jeremy.felt gmail.com                               | 65.59 % |
| 24 | dianakac gmail.com                                  | 65.04 % |
| 25 | frank bueltge.de                                    | 64.87 % |
+----+-----------------------------------------------------+---------+
|    | average                                             | 50.16 % |
+----+-----------------------------------------------------+---------+

***** Graph showing number of messages written during hours of day:

100% -------------------------------#----------------- - 27
 90% -------------------------------#-#-#------------- msgs
 80% ---------------------------#---#-#-#-------------
 70% -----------------------#---#---#-#-#---------#---
 60% -----------------------#-#-#---#-#-#---------#---
 50% ---------------------#-#-#-#-#-#-#-#---#-----#---
 40% -#-----------------#-#-#-#-#-#-#-#-#-#-#---#-#---
 30% -#-----------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 20% -#-#-------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 10% -#-#-#---#-#---#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * *
hour  0         5           11          17          23


***** Graph showing number of messages written during days of month:

100% ---------------------------------------------------------#----- - 34
 90% ---------------------------------------------------------#----- msgs
 80% ---------------------------------------------------------#-----
 70% ---------------------------------------------------------#-----
 60% -------------------------------------------------------#-#-#---
 50% -#---------------------------------------------------#-#-#-#---
 40% -#-----------#-----------------#-----#---------------#-#-#-#---
 30% -#-----------#-----#-----------#-----#-----#-----#-#-#-#-#-#---
 20% -#-----------#---#-#-#-#-#-----#-#-#-#-----#-#-#-#-#-#-#-#-#---
 10% -#---#-#-----#---#-#-#-#-#---#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 day  1         6           12          18          24            31


***** Graph showing number of messages written during days of week:

100% -#--------------------------- - 68
 90% -#--------------------------- msgs
 80% -#---#-----------------------
 70% -#---#-----------------------
 60% -#---#-------------------#---
 50% -#---#---#-------#-------#---
 40% -#---#---#---#---#---#---#---
 30% -#---#---#---#---#---#---#---
 20% -#---#---#---#---#---#---#---
 10% -#---#---#---#---#---#---#---
      *   *   *   *   *   *   *
     Mon Tue Wed Thu Fri Sat Sun


***** Maximal quoting:
      Author     : ronin braydon.com
      Subject    : [wp-hackers] Re-Selling (your) free plugins
      Date       : Mon, 01 Aug 2011 14:33:55 -0700
      Quote ratio: 94.66% / 4977 bytes

***** Longest message:
      Author     : joeboydston gmail.com
      Subject    : [wp-hackers] APC-Nginx-Apache problems / memory
problems on VPS
      Date       : Sun, 28 Aug 2011 06:13:00 -0700
      Size       : 15962 bytes

***** Most successful subject:
      Subject    : [wp-hackers] APC-Nginx-Apache problems / memory
problems on VPS
      No. of msgs: 58
      Total size : 122152 bytes

***** Final summary:
      Total number of messages:             303
      Total number of different authors:    96
      Total number of different subjects:   65
      Total size of messages (w/o headers): 508169 bytes
      Average size of a message:            1677 bytes

***** Generated by MailListStat v1.3, (C) 2001-2003 <marki (at) nexin.sk>
***** See http://freshmeat.net/projects/mls for details...

DISCLAIMER: Stats automatically produced. Remember that stats are often
meaningless and deceiving.

From awgandrews at gmail.com  Thu Sep  1 11:41:27 2011
From: awgandrews at gmail.com (Alex Andrews)
Date: Thu, 1 Sep 2011 12:41:27 +0100
Subject: [wp-hackers] Ace Javascript Code Editor In Core
Message-ID: <A614E2667F2C4795B114385A9C547DF4@gmail.com>

https://github.com/blog/905-edit-like-an-ace 

Github have rolled out the Ace JS powered code editor - http://ace.ajax.org/ - across site. Its pretty awesome.

Would this be a good thing to integrate into WordPress core?

Alex 

-- 
Alex Andrews
Sent with Sparrow (http://www.sparrowmailapp.com/?sig)

From wordpress at dd32.id.au  Thu Sep  1 11:47:09 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 1 Sep 2011 21:47:09 +1000
Subject: [wp-hackers] Ace Javascript Code Editor In Core
In-Reply-To: <A614E2667F2C4795B114385A9C547DF4@gmail.com>
References: <A614E2667F2C4795B114385A9C547DF4@gmail.com>
Message-ID: <CAL4EHf=KXOhq2VR0k4Kuxi_M9J06fv-YE0b0NKaXeXiFYwcwkA@mail.gmail.com>

It has been considered before, Long story short, 18 months back there wasn't
anything which could be included and reliably work (Anyone remember
CodePress being included in 2.8?, and subsequently disabled in 2.8.1). 18
months later, and with no ie6 support in the admin, it's something that
might be able to be revisited once more.

FYI, Here's a trac ticket for using Bespin/Ace:
http://core.trac.wordpress.org/ticket/12423

On 1 September 2011 21:41, Alex Andrews <awgandrews at gmail.com> wrote:

> https://github.com/blog/905-edit-like-an-ace
>
> Github have rolled out the Ace JS powered code editor -
> http://ace.ajax.org/ - across site. Its pretty awesome.
>
> Would this be a good thing to integrate into WordPress core?
>
> Alex
>
> --
> Alex Andrews
> Sent with Sparrow (http://www.sparrowmailapp.com/?sig)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From awgandrews at gmail.com  Thu Sep  1 11:57:16 2011
From: awgandrews at gmail.com (Alex Andrews)
Date: Thu, 1 Sep 2011 12:57:16 +0100
Subject: [wp-hackers] Ace Javascript Code Editor In Core
In-Reply-To: <CAL4EHf=KXOhq2VR0k4Kuxi_M9J06fv-YE0b0NKaXeXiFYwcwkA@mail.gmail.com>
References: <A614E2667F2C4795B114385A9C547DF4@gmail.com>
	<CAL4EHf=KXOhq2VR0k4Kuxi_M9J06fv-YE0b0NKaXeXiFYwcwkA@mail.gmail.com>
Message-ID: <CAAhk2gAt6x-E_5i6qSOD_jH=XxP4-36YWrSDCZBkV2DZbmAh=g@mail.gmail.com>

Completely think it is time to look at this again. Because if Github
have done it, it should be pretty robust as well as being very useful.

Shall I get a WordPress Trac account and ask if this can be reconsidered?

Alex

On 1 September 2011 12:47, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:
> It has been considered before, Long story short, 18 months back there wasn't
> anything which could be included and reliably work (Anyone remember
> CodePress being included in 2.8?, and subsequently disabled in 2.8.1). 18
> months later, and with no ie6 support in the admin, it's something that
> might be able to be revisited once more.
>
> FYI, Here's a trac ticket for using Bespin/Ace:
> http://core.trac.wordpress.org/ticket/12423
>
> On 1 September 2011 21:41, Alex Andrews <awgandrews at gmail.com> wrote:
>
>> https://github.com/blog/905-edit-like-an-ace
>>
>> Github have rolled out the Ace JS powered code editor -
>> http://ace.ajax.org/ - across site. Its pretty awesome.
>>
>> Would this be a good thing to integrate into WordPress core?
>>
>> Alex
>>
>> --
>> Alex Andrews
>> Sent with Sparrow (http://www.sparrowmailapp.com/?sig)
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From charel.buechler at gmail.com  Thu Sep  1 12:11:47 2011
From: charel.buechler at gmail.com (=?iso-8859-1?Q?Charel_B=FCchler?=)
Date: Thu, 1 Sep 2011 14:11:47 +0200
Subject: [wp-hackers] Roles & Access
Message-ID: <EC31E97B-2396-4353-87EC-A512BFB7B101@gmail.com>

Hi there,

I've wrote an Custom Post type addition for my wordpress website, and now I'm asking, is there a possibility, if I create a role (via members plugin by justin tadlock), that users who have this role, only can see the menu of the custom post type?




Charel B?chler
E: charel.buechler at gmail.com


From wordpress at dd32.id.au  Thu Sep  1 12:09:28 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 1 Sep 2011 22:09:28 +1000
Subject: [wp-hackers] Ace Javascript Code Editor In Core
In-Reply-To: <CAAhk2gAt6x-E_5i6qSOD_jH=XxP4-36YWrSDCZBkV2DZbmAh=g@mail.gmail.com>
References: <A614E2667F2C4795B114385A9C547DF4@gmail.com>
	<CAL4EHf=KXOhq2VR0k4Kuxi_M9J06fv-YE0b0NKaXeXiFYwcwkA@mail.gmail.com>
	<CAAhk2gAt6x-E_5i6qSOD_jH=XxP4-36YWrSDCZBkV2DZbmAh=g@mail.gmail.com>
Message-ID: <CAL4EHfmYA0V6nMcMBLnorNcdMpTqXx3Jv3frgCU2cVf-2u_AHw@mail.gmail.com>

Feel free to drop a comment on that ticket if you wish, Since we're going
into feature freeze in the coming weeks, it's a bit late to bring up
considering it for 3.3. Up to date research to get it on the potential list
to relook at for 3.4, now would be a good time to start looking into it..

Note: Trac uses your WordPress.org details, ie. Your support forums login (I
assume you have one!)
3.3 schedule: http://wpdevel.wordpress.com/version-3-3-project-schedule/

On 1 September 2011 21:57, Alex Andrews <awgandrews at gmail.com> wrote:

> Completely think it is time to look at this again. Because if Github
> have done it, it should be pretty robust as well as being very useful.
>
> Shall I get a WordPress Trac account and ask if this can be reconsidered?
>
> Alex
>
> On 1 September 2011 12:47, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:
> > It has been considered before, Long story short, 18 months back there
> wasn't
> > anything which could be included and reliably work (Anyone remember
> > CodePress being included in 2.8?, and subsequently disabled in 2.8.1). 18
> > months later, and with no ie6 support in the admin, it's something that
> > might be able to be revisited once more.
> >
> > FYI, Here's a trac ticket for using Bespin/Ace:
> > http://core.trac.wordpress.org/ticket/12423
> >
> > On 1 September 2011 21:41, Alex Andrews <awgandrews at gmail.com> wrote:
> >
> >> https://github.com/blog/905-edit-like-an-ace
> >>
> >> Github have rolled out the Ace JS powered code editor -
> >> http://ace.ajax.org/ - across site. Its pretty awesome.
> >>
> >> Would this be a good thing to integrate into WordPress core?
> >>
> >> Alex
> >>
> >> --
> >> Alex Andrews
> >> Sent with Sparrow (http://www.sparrowmailapp.com/?sig)
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From frank at bueltge.de  Thu Sep  1 12:21:04 2011
From: frank at bueltge.de (Frank Bueltge)
Date: Thu, 1 Sep 2011 14:21:04 +0200
Subject: [wp-hackers] Roles & Access
In-Reply-To: <EC31E97B-2396-4353-87EC-A512BFB7B101@gmail.com>
References: <EC31E97B-2396-4353-87EC-A512BFB7B101@gmail.com>
Message-ID: <CAH9UVvHWrfjpDW7fz4TJ7yB1YwfTx6QDq3tvOib4A_WAs9NLEw@mail.gmail.com>

Yes, its possible.

CPT have an param for an object and you use this in your custom role.
See on the param capabilities of the args in function register_post_type()

i  set the opbejcts to this param in an array for different rights:
public $post_type_1 = 'archiv'
			$capabilities = array(
				'edit_post'          => 'edit_' . $this->post_type_1,
				'edit_posts'         => 'edit_' . $this->post_type_1 . 's',
				'edit_others_posts'  => 'edit_others_' . $this->post_type_1 . 's',
				'publish_posts'      => 'publish_' . $this->post_type_1 . 's',
				'read_post'          => 'read_' . $this->post_type_1,
				'read_private_posts' => 'read_private_' . $this->post_type_1 . 's',
				'delete_post'        => 'delete_' . $this->post_type_1
			);

You can create the roles with your objects via plugin, like members or
a small function in your plugin on the activation the plugin:
			foreach ( $this->todo_roles as $role ) {
				$wp_roles->add_cap( $role, 'edit_'			. $this->post_type_1 );
				$wp_roles->add_cap( $role, 'edit_'			. $this->post_type_1 . 's' );
				$wp_roles->add_cap( $role, 'edit_others_'	. $this->post_type_1 . 's' );
				$wp_roles->add_cap( $role, 'publish_'		. $this->post_type_1 . 's' );
				$wp_roles->add_cap( $role, 'read_'			. $this->post_type_1 );
				$wp_roles->add_cap( $role, 'read_private_'	. $this->post_type_1 . 's' );
				$wp_roles->add_cap( $role, 'delete_'		. $this->post_type_1 );
				$wp_roles->add_cap( $role, 'manage_'		. $this->taxonomy_type_1 );
			}
			
			foreach ( $this->read_roles as $role ) {
				$wp_roles->add_cap( $role, 'read_' . $this->post_type_1 );
				$wp_roles->add_cap( $role, 'read_' . $this->post_type_1 );
				$wp_roles->add_cap( $role, 'read_' . $this->post_type_1 );
			}

Reagrds
Frank



On Thu, Sep 1, 2011 at 2:11 PM, Charel B?chler
<charel.buechler at gmail.com> wrote:
> Charel B?chler

From victor at victorfont.com  Thu Sep  1 12:30:55 2011
From: victor at victorfont.com (Victor Font)
Date: Thu, 1 Sep 2011 08:30:55 -0400
Subject: [wp-hackers] Roles & Access
In-Reply-To: <EC31E97B-2396-4353-87EC-A512BFB7B101@gmail.com>
References: <EC31E97B-2396-4353-87EC-A512BFB7B101@gmail.com>
Message-ID: <001801cc68a3$00927d20$01b77760$@victorfont.com>

Hello Carel,

While I am not familiar with Justin's plugin, I have used membership plugins
on sites I've developed. Specifically, I've been using WP-eMember from Tips
and Tricks HQ. Membership plugins work by protecting the content of the
pages or posts. WP-eMember adds a meta box with the security features to the
bottom of the editing screens to pages and posts. Plugins can't recognize
CPT editing pages, but there is a work around. I ran into the same problem
with wanting to add Sharedaddy to a CPT editing page. I solved the problem
and wrote a How To article. The article is here:
http://www.victorfont.com/add-plug-in-meta-boxes-wordpress-custom-post-type-
editor-pages/. You could possibly use my code example and change it to call
Justin's functions.

Regards,
Victor

http://www.ultimatesdlc.com/
The Only IT Book You'll Ever Need

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Charel B?chler
Sent: Thursday, September 01, 2011 8:12 AM
To: WP-Hackers
Subject: [wp-hackers] Roles & Access

Hi there,

I've wrote an Custom Post type addition for my wordpress website, and now
I'm asking, is there a possibility, if I create a role (via members plugin
by justin tadlock), that users who have this role, only can see the menu of
the custom post type?




Charel B?chler
E: charel.buechler at gmail.com

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From awgandrews at gmail.com  Thu Sep  1 16:49:48 2011
From: awgandrews at gmail.com (Alex Andrews)
Date: Thu, 1 Sep 2011 17:49:48 +0100
Subject: [wp-hackers] How and where is _wp_attachment_metadata added?
Message-ID: <85D782FC7C544F1BB7CEE8F91342F7C6@gmail.com>

 Hi all, 

Looking to do something clever using _wp_attachment_metadata, as I note in there is where we can find the location of all the various sizes of images that are produced, for example, the thumbnail and so on? How do we add size formats to this?

When is this added in the normal upload run and what is its format?

All the best,

Alex 

-- 
Alex Andrews
Sent with Sparrow (http://www.sparrowmailapp.com/?sig)

From ronin at braydon.com  Thu Sep  1 17:08:18 2011
From: ronin at braydon.com (Braydon)
Date: Thu, 01 Sep 2011 10:08:18 -0700
Subject: [wp-hackers] Ace Javascript Code Editor In Core
In-Reply-To: <A614E2667F2C4795B114385A9C547DF4@gmail.com>
References: <A614E2667F2C4795B114385A9C547DF4@gmail.com>
Message-ID: <4E5FBC02.3090808@braydon.com>

On 09/01/2011 04:41 AM, Alex Andrews wrote:
> https://github.com/blog/905-edit-like-an-ace
>
> Github have rolled out the Ace JS powered code editor - http://ace.ajax.org/ - across site. Its pretty awesome.
>
> Would this be a good thing to integrate into WordPress core?
>
> Alex
>

Having this as the code editor mode would be great.

I did a plugin a bit ago that replace both the visual and code editors 
with ACE, but realized it broke a few things along the way, but it's a 
start:
http://downloads.braydon.com/wp-ace.zip

From steve at sltaylor.co.uk  Thu Sep  1 17:34:39 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Thu, 1 Sep 2011 18:34:39 +0100
Subject: [wp-hackers] meta query crashing database
In-Reply-To: <CALVAUkVABqaNywou8w6pmXzsSxi0HSLD+xpCKNrKYoBdy7-2xg@mail.gmail.com>
References: <CAGEuVU2JvbVoBjvBGch4OLdLx7yN4hM-OGxfEiGVwWGnmEGXWQ@mail.gmail.com>
	<CALVAUkVABqaNywou8w6pmXzsSxi0HSLD+xpCKNrKYoBdy7-2xg@mail.gmail.com>
Message-ID: <CAGEuVU0o__QK9ShM+5AaY7joCES5d51ydmEhiK0pA2uvzFVUMA@mail.gmail.com>

Thanks Michael, exactly right :)


On 1 September 2011 00:19, Michael Van Winkle <mike at mikevanwinkle.com> wrote:
> You'd probably do better with the MySQL IN operator, since each meta
> query is a join (an expensive MySQL operation).
>
> $query['meta_query'] = array(
> ?array(
> ? 'key'=>'slt_issues',
> ? 'value'=>array(112,113,114,115,115),
> ? 'compare'=>'IN'
> ?)
> );
>
>
> On Wed, Aug 31, 2011 at 4:10 PM, Steve Taylor <steve at sltaylor.co.uk> wrote:
>> I'm trying to build a query. I have a CPT, "campaigns", which is
>> related to one or more "issues" (also a CPT).
>>
>> The relationship is managed by a custom meta box on the campaigns edit
>> screen, you select the issues. It stores one or more entries in the
>> postmeta table, each having the ID of the issue.
>>
>> What I need to do is, for the single campaign template, grab a list of
>> "related" campaigns. So I need to grab all other campaigns that are
>> related to any of the issues that the campaign being viewed is related
>> to. The dump of the WP_Query arguments, for campaign ID 851, with a
>> bunch of related issues, is this:
>>
>> Array
>> (
>> ? ?[post_type] => campaign
>> ? ?[posts_per_page] => -1
>> ? ?[post__not_in] => Array
>> ? ? ? ?(
>> ? ? ? ? ? ?[0] => 851
>> ? ? ? ?)
>> ? ?[meta_query] => Array
>> ? ? ? ?(
>> ? ? ? ? ? ?[relation] => OR
>> ? ? ? ? ? ?[0] => Array
>> ? ? ? ? ? ? ? ?(
>> ? ? ? ? ? ? ? ? ? ?[key] => _slt_issues
>> ? ? ? ? ? ? ? ? ? ?[value] => 185
>> ? ? ? ? ? ? ? ?)
>> ? ? ? ? ? ?[1] => Array
>> ? ? ? ? ? ? ? ?(
>> ? ? ? ? ? ? ? ? ? ?[key] => _slt_issues
>> ? ? ? ? ? ? ? ? ? ?[value] => 194
>> ? ? ? ? ? ? ? ?)
>> ? ? ? ? ? ?[2] => Array
>> ? ? ? ? ? ? ? ?(
>> ? ? ? ? ? ? ? ? ? ?[key] => _slt_issues
>> ? ? ? ? ? ? ? ? ? ?[value] => 193
>> ? ? ? ? ? ? ? ?)
>> ? ? ? ? ? ?[3] => Array
>> ? ? ? ? ? ? ? ?(
>> ? ? ? ? ? ? ? ? ? ?[key] => _slt_issues
>> ? ? ? ? ? ? ? ? ? ?[value] => 187
>> ? ? ? ? ? ? ? ?)
>> ? ? ? ? ? ?[4] => Array
>> ? ? ? ? ? ? ? ?(
>> ? ? ? ? ? ? ? ? ? ?[key] => _slt_issues
>> ? ? ? ? ? ? ? ? ? ?[value] => 191
>> ? ? ? ? ? ? ? ?)
>> ? ? ? ? ? ?[5] => Array
>> ? ? ? ? ? ? ? ?(
>> ? ? ? ? ? ? ? ? ? ?[key] => _slt_issues
>> ? ? ? ? ? ? ? ? ? ?[value] => 189
>> ? ? ? ? ? ? ? ?)
>> ? ? ? ? ? ?[6] => Array
>> ? ? ? ? ? ? ? ?(
>> ? ? ? ? ? ? ? ? ? ?[key] => _slt_issues
>> ? ? ? ? ? ? ? ? ? ?[value] => 186
>> ? ? ? ? ? ? ? ?)
>> ? ? ? ? ? ?[7] => Array
>> ? ? ? ? ? ? ? ?(
>> ? ? ? ? ? ? ? ? ? ?[key] => _slt_issues
>> ? ? ? ? ? ? ? ? ? ?[value] => 190
>> ? ? ? ? ? ? ? ?)
>> ? ? ? ? ? ?[8] => Array
>> ? ? ? ? ? ? ? ?(
>> ? ? ? ? ? ? ? ? ? ?[key] => _slt_issues
>> ? ? ? ? ? ? ? ? ? ?[value] => 188
>> ? ? ? ? ? ? ? ?)
>> ? ? ? ? ? ?[9] => Array
>> ? ? ? ? ? ? ? ?(
>> ? ? ? ? ? ? ? ? ? ?[key] => _slt_issues
>> ? ? ? ? ? ? ? ? ? ?[value] => 192
>> ? ? ? ? ? ? ? ?)
>> ? ? ? ?)
>> )
>>
>> This crashes the database in quite a severe way, and I've bothered my
>> sysadmin for a reboot one too many times now experimenting with it!
>>
>> Can anyone see anything obviously wrong? There's only ten or so
>> campaigns in the system, and about the same amount of issues. Is it
>> just the number of parts to the meta_query? Is it related to the fact
>> that _slt_issues may have multiple entires in the postmeta table for
>> the same campaign? Is there any feasible way of doing this query?
>>
>> Many thanks for any thoughts,
>>
>> Steve Taylor
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Mike Van Winkle
> 708-289-3136
> mike at mikevanwinkle.com
> http://www.mikevanwinkle.com
> http://www.twitter.com/mpvanwinkle
> http://www.facebook.com/mpvanwinkle
>
>
> "All excellent things are as difficult as they are rare." -Spinoza
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Thu Sep  1 17:48:32 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 1 Sep 2011 12:48:32 -0500
Subject: [wp-hackers] How and where is _wp_attachment_metadata added?
In-Reply-To: <85D782FC7C544F1BB7CEE8F91342F7C6@gmail.com>
References: <85D782FC7C544F1BB7CEE8F91342F7C6@gmail.com>
Message-ID: <CAD-FghwQ4VdAQf=K=zw2V+-wbeRYhLpnH6rm=+irk=RNhrJ4oA@mail.gmail.com>

http://codex.wordpress.org/Function_Reference/add_image_size

You'd call add_image_size in a function hooked to init or
after_setup_theme or something like that. This adds a new size that
you can use to that list.

Or are you trying to do something else? How you do it depends on what,
specifically, you want to do.

-Otto



On Thu, Sep 1, 2011 at 11:49 AM, Alex Andrews <awgandrews at gmail.com> wrote:
> ?Hi all,
>
> Looking to do something clever using _wp_attachment_metadata, as I note in there is where we can find the location of all the various sizes of images that are produced, for example, the thumbnail and so on? How do we add size formats to this?
>
> When is this added in the normal upload run and what is its format?
>
> All the best,
>
> Alex
>
> --
> Alex Andrews
> Sent with Sparrow (http://www.sparrowmailapp.com/?sig)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From frank at bueltge.de  Fri Sep  2 10:08:39 2011
From: frank at bueltge.de (Frank Bueltge)
Date: Fri, 2 Sep 2011 12:08:39 +0200
Subject: [wp-hackers] Filter for '
Message-ID: <CAH9UVvFECbd9raT_1GHR9Q0hhnFg7u1eQXppeScF0UjbVpVjMA@mail.gmail.com>

Hello at all,

i have an plugin, he send via _POST data from textarea, the textarea
and all is inside a thickbox of WP. If i send the data with ', the i
get an \' and also it is with \'post_tag\' to \\\'post_tag\\\'.

I have deactivate the default-filters.php and check many other
filters, but i dont find the filter for this topic. I will deactive
the filter on the plugin-page for use my strings; is an sql query for
send sql queries inside backen, only for devs. I have also list all
active filters and actions, but i dont find the function, to do this.

I hope, a people, this list recieve , can help me. Many thanks!
Frank

From newkind at gmail.com  Fri Sep  2 10:13:04 2011
From: newkind at gmail.com (NewKind)
Date: Fri, 2 Sep 2011 12:13:04 +0200
Subject: [wp-hackers] Load page instead of including it
Message-ID: <6D2B1269-196E-4280-9079-2A93F5B17013@gmail.com>

Hi,

I was wondering if theres something like load_template that would replace the whole content instead of just including the provided file.

I'm trying to redirect user (on a certain conditions) to a custom php file located in the theme directory. The issue is that to do that the WP way,
i need to use require_once and point it from the theme directory to the wp directory. The require_once('../../../wp-blog-header.php'); doesn't work,
and since WP isn't initialized - I don't have access to such constants like ABSPATH.

Maybe one of you knows a better way to do this ?

Thanks!

From wordpress at dd32.id.au  Fri Sep  2 10:14:48 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 2 Sep 2011 20:14:48 +1000
Subject: [wp-hackers] Filter for '
In-Reply-To: <CAH9UVvFECbd9raT_1GHR9Q0hhnFg7u1eQXppeScF0UjbVpVjMA@mail.gmail.com>
References: <CAH9UVvFECbd9raT_1GHR9Q0hhnFg7u1eQXppeScF0UjbVpVjMA@mail.gmail.com>
Message-ID: <CAL4EHfnn=EydjZWxkgbsowV532FL_46bb_BBQvAb-VKVL7QSSg@mail.gmail.com>

Hi Frank,
All incoming data to WordPress has a form of "Magic Quotes" applied to it,
in other words, the data is addslashes()'d.
As a result, You'll need to call stripslashes() on incoming data. If you've
accepting an array, you can use stripslashes_deep().
(Please note: do NOT store a stripslashed version in $_POST, as doing so
could potentially causea security problem with older plugins).

To use the stripslashe()'d data in a SQL query, I would strongly recomend
using $wpdb->prepare() *if* you must make a direct query. see
http://codex.wordpress.org/Data_Validation#Database for the best preactices
for Database Access.

Cheers
Dion

On 2 September 2011 20:08, Frank Bueltge <frank at bueltge.de> wrote:

> Hello at all,
>
> i have an plugin, he send via _POST data from textarea, the textarea
> and all is inside a thickbox of WP. If i send the data with ', the i
> get an \' and also it is with \'post_tag\' to \\\'post_tag\\\'.
>
> I have deactivate the default-filters.php and check many other
> filters, but i dont find the filter for this topic. I will deactive
> the filter on the plugin-page for use my strings; is an sql query for
> send sql queries inside backen, only for devs. I have also list all
> active filters and actions, but i dont find the function, to do this.
>
> I hope, a people, this list recieve , can help me. Many thanks!
> Frank
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at dd32.id.au  Fri Sep  2 10:18:55 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 2 Sep 2011 20:18:55 +1000
Subject: [wp-hackers] Load page instead of including it
In-Reply-To: <6D2B1269-196E-4280-9079-2A93F5B17013@gmail.com>
References: <6D2B1269-196E-4280-9079-2A93F5B17013@gmail.com>
Message-ID: <CAL4EHfnht9kvSaN8=DWuOhkgkFpPswkY7QhZiL8DuuBpyAu2_w@mail.gmail.com>

You're best NOT loading the theme file (or a plugin file for that matter)
directly.
The "standard" way is to just use a Page Template and assign that to a page,
The next option is to use a custom query var, and/or a a WordPress rewrite
rule, ie. catch $_GET['my-query=var'] on template_redirect, and load your
page directly (ie. don't run get_header()/get_footer() in the template file
you include).

There's a few other options depending on what you're actually doing.. For
example, Custom RSS feeds can be defined, as well as using admin-ajax.php
(it has logged in, and not-logged in actions).

Maybe you could give some details and someone can suggest the best method?

On 2 September 2011 20:13, NewKind <newkind at gmail.com> wrote:

> Hi,
>
> I was wondering if theres something like load_template that would replace
> the whole content instead of just including the provided file.
>
> I'm trying to redirect user (on a certain conditions) to a custom php file
> located in the theme directory. The issue is that to do that the WP way,
> i need to use require_once and point it from the theme directory to the wp
> directory. The require_once('../../../wp-blog-header.php'); doesn't work,
> and since WP isn't initialized - I don't have access to such constants like
> ABSPATH.
>
> Maybe one of you knows a better way to do this ?
>
> Thanks!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ronin at braydon.com  Fri Sep  2 10:21:47 2011
From: ronin at braydon.com (Braydon)
Date: Fri, 02 Sep 2011 03:21:47 -0700
Subject: [wp-hackers] Filter for '
In-Reply-To: <CAH9UVvFECbd9raT_1GHR9Q0hhnFg7u1eQXppeScF0UjbVpVjMA@mail.gmail.com>
References: <CAH9UVvFECbd9raT_1GHR9Q0hhnFg7u1eQXppeScF0UjbVpVjMA@mail.gmail.com>
Message-ID: <4E60AE3B.50900@braydon.com>

On 09/02/2011 03:08 AM, Frank Bueltge wrote:
> Hello at all,
>
> i have an plugin, he send via _POST data from textarea, the textarea
> and all is inside a thickbox of WP. If i send the data with ', the i
> get an \' and also it is with \'post_tag\' to \\\'post_tag\\\'.
You can use the PHP function stripslashes ( 
http://php.net/manual/en/function.stripslashes.php ) to remove them.

WordPress has one also, stripslashes_deep ( 
http://codex.wordpress.org/Function_Reference/stripslashes_deep#Basic_Example 
) to go through arrays and strings.

I believe this happens when magic_quotes_gpc is enabled ( 
http://www.php.net/manual/en/info.configuration.php#ini.magic-quotes-gpc 
) So you could also disable this behavior if it's unwanted ( 
http://www.php.net/manual/en/security.magicquotes.disabling.php ).

From newkind at gmail.com  Fri Sep  2 10:29:12 2011
From: newkind at gmail.com (NewKind)
Date: Fri, 2 Sep 2011 12:29:12 +0200
Subject: [wp-hackers] Load page instead of including it
In-Reply-To: <CAL4EHfnht9kvSaN8=DWuOhkgkFpPswkY7QhZiL8DuuBpyAu2_w@mail.gmail.com>
References: <6D2B1269-196E-4280-9079-2A93F5B17013@gmail.com>
	<CAL4EHfnht9kvSaN8=DWuOhkgkFpPswkY7QhZiL8DuuBpyAu2_w@mail.gmail.com>
Message-ID: <92BCE6C6-8B75-4699-A4D7-72F886EE80A9@gmail.com>

Well it's just a landing page that would be displayed when user is using an unsupported page.
There are no loops or any particular content besides the hardcoded one, but what I'd like to have
on that page is the support for plugins to load theirs stuff, and wp header with wp footer.

So it's a page with hardcoded html code + content, but dynamically generated headers.

The way from integrating external pages with wp would be ideal but just like I said, there are issues
with including the wp-blog-header.php file on different environments. I don't want to use pages + page
templates as this strictly depends on users content.

Thanks

On 2 wrz 2011, at 12:18, Dion Hulse (dd32) wrote:

> You're best NOT loading the theme file (or a plugin file for that matter)
> directly.
> The "standard" way is to just use a Page Template and assign that to a page,
> The next option is to use a custom query var, and/or a a WordPress rewrite
> rule, ie. catch $_GET['my-query=var'] on template_redirect, and load your
> page directly (ie. don't run get_header()/get_footer() in the template file
> you include).
> 
> There's a few other options depending on what you're actually doing.. For
> example, Custom RSS feeds can be defined, as well as using admin-ajax.php
> (it has logged in, and not-logged in actions).
> 
> Maybe you could give some details and someone can suggest the best method?
> 
> On 2 September 2011 20:13, NewKind <newkind at gmail.com> wrote:
> 
>> Hi,
>> 
>> I was wondering if theres something like load_template that would replace
>> the whole content instead of just including the provided file.
>> 
>> I'm trying to redirect user (on a certain conditions) to a custom php file
>> located in the theme directory. The issue is that to do that the WP way,
>> i need to use require_once and point it from the theme directory to the wp
>> directory. The require_once('../../../wp-blog-header.php'); doesn't work,
>> and since WP isn't initialized - I don't have access to such constants like
>> ABSPATH.
>> 
>> Maybe one of you knows a better way to do this ?
>> 
>> Thanks!
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wordpress at dd32.id.au  Fri Sep  2 10:33:43 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 2 Sep 2011 20:33:43 +1000
Subject: [wp-hackers] Load page instead of including it
In-Reply-To: <92BCE6C6-8B75-4699-A4D7-72F886EE80A9@gmail.com>
References: <6D2B1269-196E-4280-9079-2A93F5B17013@gmail.com>
	<CAL4EHfnht9kvSaN8=DWuOhkgkFpPswkY7QhZiL8DuuBpyAu2_w@mail.gmail.com>
	<92BCE6C6-8B75-4699-A4D7-72F886EE80A9@gmail.com>
Message-ID: <CAL4EHfmhFgOyF-MAhwDy=z40iDpUC9LHB-MhEb=0cqfK2kwCag@mail.gmail.com>

Unfortunately that doesn't help me understand it at all.. "unsupported page"
sounds like a 404 to me?
Failing that, my 2nd suggestion seems to be what you want:

> The next option is to use a custom query var, and/or a a WordPress rewrite
> rule, ie. catch $_GET['my-query=var'] on template_redirect, and load your
> page directly (ie. don't run get_header()/get_footer() in the template
file
> you include).

On 2 September 2011 20:29, NewKind <newkind at gmail.com> wrote:

> Well it's just a landing page that would be displayed when user is using an
> unsupported page.
> There are no loops or any particular content besides the hardcoded one, but
> what I'd like to have
> on that page is the support for plugins to load theirs stuff, and wp header
> with wp footer.
>
> So it's a page with hardcoded html code + content, but dynamically
> generated headers.
>
> The way from integrating external pages with wp would be ideal but just
> like I said, there are issues
> with including the wp-blog-header.php file on different environments. I
> don't want to use pages + page
> templates as this strictly depends on users content.
>
> Thanks
>
> On 2 wrz 2011, at 12:18, Dion Hulse (dd32) wrote:
>
> > You're best NOT loading the theme file (or a plugin file for that matter)
> > directly.
> > The "standard" way is to just use a Page Template and assign that to a
> page,
> > The next option is to use a custom query var, and/or a a WordPress
> rewrite
> > rule, ie. catch $_GET['my-query=var'] on template_redirect, and load your
> > page directly (ie. don't run get_header()/get_footer() in the template
> file
> > you include).
> >
> > There's a few other options depending on what you're actually doing.. For
> > example, Custom RSS feeds can be defined, as well as using admin-ajax.php
> > (it has logged in, and not-logged in actions).
> >
> > Maybe you could give some details and someone can suggest the best
> method?
> >
> > On 2 September 2011 20:13, NewKind <newkind at gmail.com> wrote:
> >
> >> Hi,
> >>
> >> I was wondering if theres something like load_template that would
> replace
> >> the whole content instead of just including the provided file.
> >>
> >> I'm trying to redirect user (on a certain conditions) to a custom php
> file
> >> located in the theme directory. The issue is that to do that the WP way,
> >> i need to use require_once and point it from the theme directory to the
> wp
> >> directory. The require_once('../../../wp-blog-header.php'); doesn't
> work,
> >> and since WP isn't initialized - I don't have access to such constants
> like
> >> ABSPATH.
> >>
> >> Maybe one of you knows a better way to do this ?
> >>
> >> Thanks!
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From newkind at gmail.com  Fri Sep  2 11:04:33 2011
From: newkind at gmail.com (NewKind)
Date: Fri, 2 Sep 2011 13:04:33 +0200
Subject: [wp-hackers] Load page instead of including it
In-Reply-To: <CAL4EHfmhFgOyF-MAhwDy=z40iDpUC9LHB-MhEb=0cqfK2kwCag@mail.gmail.com>
References: <6D2B1269-196E-4280-9079-2A93F5B17013@gmail.com>
	<CAL4EHfnht9kvSaN8=DWuOhkgkFpPswkY7QhZiL8DuuBpyAu2_w@mail.gmail.com>
	<92BCE6C6-8B75-4699-A4D7-72F886EE80A9@gmail.com>
	<CAL4EHfmhFgOyF-MAhwDy=z40iDpUC9LHB-MhEb=0cqfK2kwCag@mail.gmail.com>
Message-ID: <27C5477F-C03F-4918-B514-7D6997DEFA90@gmail.com>

Yes, it's like a 404 page, but it would be displayed only when user will try to load the page with unsupported browser.
Thanks, for the hint - i'll take a look at the rewrite rules.

Thanks!

On 2 wrz 2011, at 12:33, Dion Hulse (dd32) wrote:

> Unfortunately that doesn't help me understand it at all.. "unsupported page"
> sounds like a 404 to me?
> Failing that, my 2nd suggestion seems to be what you want:
> 
>> The next option is to use a custom query var, and/or a a WordPress rewrite
>> rule, ie. catch $_GET['my-query=var'] on template_redirect, and load your
>> page directly (ie. don't run get_header()/get_footer() in the template
> file
>> you include).
> 
> On 2 September 2011 20:29, NewKind <newkind at gmail.com> wrote:
> 
>> Well it's just a landing page that would be displayed when user is using an
>> unsupported page.
>> There are no loops or any particular content besides the hardcoded one, but
>> what I'd like to have
>> on that page is the support for plugins to load theirs stuff, and wp header
>> with wp footer.
>> 
>> So it's a page with hardcoded html code + content, but dynamically
>> generated headers.
>> 
>> The way from integrating external pages with wp would be ideal but just
>> like I said, there are issues
>> with including the wp-blog-header.php file on different environments. I
>> don't want to use pages + page
>> templates as this strictly depends on users content.
>> 
>> Thanks
>> 
>> On 2 wrz 2011, at 12:18, Dion Hulse (dd32) wrote:
>> 
>>> You're best NOT loading the theme file (or a plugin file for that matter)
>>> directly.
>>> The "standard" way is to just use a Page Template and assign that to a
>> page,
>>> The next option is to use a custom query var, and/or a a WordPress
>> rewrite
>>> rule, ie. catch $_GET['my-query=var'] on template_redirect, and load your
>>> page directly (ie. don't run get_header()/get_footer() in the template
>> file
>>> you include).
>>> 
>>> There's a few other options depending on what you're actually doing.. For
>>> example, Custom RSS feeds can be defined, as well as using admin-ajax.php
>>> (it has logged in, and not-logged in actions).
>>> 
>>> Maybe you could give some details and someone can suggest the best
>> method?
>>> 
>>> On 2 September 2011 20:13, NewKind <newkind at gmail.com> wrote:
>>> 
>>>> Hi,
>>>> 
>>>> I was wondering if theres something like load_template that would
>> replace
>>>> the whole content instead of just including the provided file.
>>>> 
>>>> I'm trying to redirect user (on a certain conditions) to a custom php
>> file
>>>> located in the theme directory. The issue is that to do that the WP way,
>>>> i need to use require_once and point it from the theme directory to the
>> wp
>>>> directory. The require_once('../../../wp-blog-header.php'); doesn't
>> work,
>>>> and since WP isn't initialized - I don't have access to such constants
>> like
>>>> ABSPATH.
>>>> 
>>>> Maybe one of you knows a better way to do this ?
>>>> 
>>>> Thanks!
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ipstenu at ipstenu.org  Fri Sep  2 11:18:26 2011
From: ipstenu at ipstenu.org (Mika A Epstein)
Date: Fri, 2 Sep 2011 06:18:26 -0500
Subject: [wp-hackers] Load page instead of including it
In-Reply-To: <27C5477F-C03F-4918-B514-7D6997DEFA90@gmail.com>
References: <6D2B1269-196E-4280-9079-2A93F5B17013@gmail.com>
	<CAL4EHfnht9kvSaN8=DWuOhkgkFpPswkY7QhZiL8DuuBpyAu2_w@mail.gmail.com>
	<92BCE6C6-8B75-4699-A4D7-72F886EE80A9@gmail.com>
	<CAL4EHfmhFgOyF-MAhwDy=z40iDpUC9LHB-MhEb=0cqfK2kwCag@mail.gmail.com>
	<27C5477F-C03F-4918-B514-7D6997DEFA90@gmail.com>
Message-ID: <566E95F1-21CA-4812-87A7-D16DC619803E@ipstenu.org>

You can put a browser detect line in the 404 page code, via PHP.  If it's just a non-supported browser hitting a non-existent page, there's no need to reinvent the wheel.

If it's something else, of course, details matter.


On Sep 2, 2011, at 6:04 AM, NewKind <newkind at gmail.com> wrote:

> Yes, it's like a 404 page, but it would be displayed only when user will try to load the page with unsupported browser.
> Thanks, for the hint - i'll take a look at the rewrite rules.
> 
> Thanks!
> 
> On 2 wrz 2011, at 12:33, Dion Hulse (dd32) wrote:
> 
>> Unfortunately that doesn't help me understand it at all.. "unsupported page"
>> sounds like a 404 to me?
>> Failing that, my 2nd suggestion seems to be what you want:
>> 
>>> The next option is to use a custom query var, and/or a a WordPress rewrite
>>> rule, ie. catch $_GET['my-query=var'] on template_redirect, and load your
>>> page directly (ie. don't run get_header()/get_footer() in the template
>> file
>>> you include).
>> 
>> On 2 September 2011 20:29, NewKind <newkind at gmail.com> wrote:
>> 
>>> Well it's just a landing page that would be displayed when user is using an
>>> unsupported page.
>>> There are no loops or any particular content besides the hardcoded one, but
>>> what I'd like to have
>>> on that page is the support for plugins to load theirs stuff, and wp header
>>> with wp footer.
>>> 
>>> So it's a page with hardcoded html code + content, but dynamically
>>> generated headers.
>>> 
>>> The way from integrating external pages with wp would be ideal but just
>>> like I said, there are issues
>>> with including the wp-blog-header.php file on different environments. I
>>> don't want to use pages + page
>>> templates as this strictly depends on users content.
>>> 
>>> Thanks
>>> 
>>> On 2 wrz 2011, at 12:18, Dion Hulse (dd32) wrote:
>>> 
>>>> You're best NOT loading the theme file (or a plugin file for that matter)
>>>> directly.
>>>> The "standard" way is to just use a Page Template and assign that to a
>>> page,
>>>> The next option is to use a custom query var, and/or a a WordPress
>>> rewrite
>>>> rule, ie. catch $_GET['my-query=var'] on template_redirect, and load your
>>>> page directly (ie. don't run get_header()/get_footer() in the template
>>> file
>>>> you include).
>>>> 
>>>> There's a few other options depending on what you're actually doing.. For
>>>> example, Custom RSS feeds can be defined, as well as using admin-ajax.php
>>>> (it has logged in, and not-logged in actions).
>>>> 
>>>> Maybe you could give some details and someone can suggest the best
>>> method?
>>>> 
>>>> On 2 September 2011 20:13, NewKind <newkind at gmail.com> wrote:
>>>> 
>>>>> Hi,
>>>>> 
>>>>> I was wondering if theres something like load_template that would
>>> replace
>>>>> the whole content instead of just including the provided file.
>>>>> 
>>>>> I'm trying to redirect user (on a certain conditions) to a custom php
>>> file
>>>>> located in the theme directory. The issue is that to do that the WP way,
>>>>> i need to use require_once and point it from the theme directory to the
>>> wp
>>>>> directory. The require_once('../../../wp-blog-header.php'); doesn't
>>> work,
>>>>> and since WP isn't initialized - I don't have access to such constants
>>> like
>>>>> ABSPATH.
>>>>> 
>>>>> Maybe one of you knows a better way to do this ?
>>>>> 
>>>>> Thanks!
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at dd32.id.au  Fri Sep  2 11:39:24 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 2 Sep 2011 21:39:24 +1000
Subject: [wp-hackers] Load page instead of including it
In-Reply-To: <566E95F1-21CA-4812-87A7-D16DC619803E@ipstenu.org>
References: <6D2B1269-196E-4280-9079-2A93F5B17013@gmail.com>
	<CAL4EHfnht9kvSaN8=DWuOhkgkFpPswkY7QhZiL8DuuBpyAu2_w@mail.gmail.com>
	<92BCE6C6-8B75-4699-A4D7-72F886EE80A9@gmail.com>
	<CAL4EHfmhFgOyF-MAhwDy=z40iDpUC9LHB-MhEb=0cqfK2kwCag@mail.gmail.com>
	<27C5477F-C03F-4918-B514-7D6997DEFA90@gmail.com>
	<566E95F1-21CA-4812-87A7-D16DC619803E@ipstenu.org>
Message-ID: <CAL4EHfk5yxkpo36AyhhR993P5Mv_+pw5xxGGESKm4Wxw0xgWkQ@mail.gmail.com>

Ah, literally, an "unsupported browser page". In those situations, if you're
intending on distributing the theme to others, I highly suggest you use a
page. Detect an unsupported browser (if you must, and can't possibly
gracefully degrade), and redirect to a user-defined page. This way the user
has the ability to customise what their website looks like, and you can
offer a page template as well for a predefined text/look.

Generally in a theme which is distributed, I'd advise against doing
something "smart" like that, simply for the reason that it creates a lock in
effect of using your theme rather than switching to another theme down the
line.. and definitely not by default in most cases as automated detection
can often fail or be confused, and/or lock users out unintentionally..

On 2 September 2011 21:18, Mika A Epstein <ipstenu at ipstenu.org> wrote:

> You can put a browser detect line in the 404 page code, via PHP.  If it's
> just a non-supported browser hitting a non-existent page, there's no need to
> reinvent the wheel.
>
> If it's something else, of course, details matter.
>
>
> On Sep 2, 2011, at 6:04 AM, NewKind <newkind at gmail.com> wrote:
>
> > Yes, it's like a 404 page, but it would be displayed only when user will
> try to load the page with unsupported browser.
> > Thanks, for the hint - i'll take a look at the rewrite rules.
> >
> > Thanks!
> >
> > On 2 wrz 2011, at 12:33, Dion Hulse (dd32) wrote:
> >
> >> Unfortunately that doesn't help me understand it at all.. "unsupported
> page"
> >> sounds like a 404 to me?
> >> Failing that, my 2nd suggestion seems to be what you want:
> >>
> >>> The next option is to use a custom query var, and/or a a WordPress
> rewrite
> >>> rule, ie. catch $_GET['my-query=var'] on template_redirect, and load
> your
> >>> page directly (ie. don't run get_header()/get_footer() in the template
> >> file
> >>> you include).
> >>
> >> On 2 September 2011 20:29, NewKind <newkind at gmail.com> wrote:
> >>
> >>> Well it's just a landing page that would be displayed when user is
> using an
> >>> unsupported page.
> >>> There are no loops or any particular content besides the hardcoded one,
> but
> >>> what I'd like to have
> >>> on that page is the support for plugins to load theirs stuff, and wp
> header
> >>> with wp footer.
> >>>
> >>> So it's a page with hardcoded html code + content, but dynamically
> >>> generated headers.
> >>>
> >>> The way from integrating external pages with wp would be ideal but just
> >>> like I said, there are issues
> >>> with including the wp-blog-header.php file on different environments. I
> >>> don't want to use pages + page
> >>> templates as this strictly depends on users content.
> >>>
> >>> Thanks
> >>>
> >>> On 2 wrz 2011, at 12:18, Dion Hulse (dd32) wrote:
> >>>
> >>>> You're best NOT loading the theme file (or a plugin file for that
> matter)
> >>>> directly.
> >>>> The "standard" way is to just use a Page Template and assign that to a
> >>> page,
> >>>> The next option is to use a custom query var, and/or a a WordPress
> >>> rewrite
> >>>> rule, ie. catch $_GET['my-query=var'] on template_redirect, and load
> your
> >>>> page directly (ie. don't run get_header()/get_footer() in the template
> >>> file
> >>>> you include).
> >>>>
> >>>> There's a few other options depending on what you're actually doing..
> For
> >>>> example, Custom RSS feeds can be defined, as well as using
> admin-ajax.php
> >>>> (it has logged in, and not-logged in actions).
> >>>>
> >>>> Maybe you could give some details and someone can suggest the best
> >>> method?
> >>>>
> >>>> On 2 September 2011 20:13, NewKind <newkind at gmail.com> wrote:
> >>>>
> >>>>> Hi,
> >>>>>
> >>>>> I was wondering if theres something like load_template that would
> >>> replace
> >>>>> the whole content instead of just including the provided file.
> >>>>>
> >>>>> I'm trying to redirect user (on a certain conditions) to a custom php
> >>> file
> >>>>> located in the theme directory. The issue is that to do that the WP
> way,
> >>>>> i need to use require_once and point it from the theme directory to
> the
> >>> wp
> >>>>> directory. The require_once('../../../wp-blog-header.php'); doesn't
> >>> work,
> >>>>> and since WP isn't initialized - I don't have access to such
> constants
> >>> like
> >>>>> ABSPATH.
> >>>>>
> >>>>> Maybe one of you knows a better way to do this ?
> >>>>>
> >>>>> Thanks!
> >>>>> _______________________________________________
> >>>>> wp-hackers mailing list
> >>>>> wp-hackers at lists.automattic.com
> >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ian at powerfoundation.org  Fri Sep  2 13:06:51 2011
From: ian at powerfoundation.org (Ian Douglas)
Date: Fri, 2 Sep 2011 15:06:51 +0200
Subject: [wp-hackers] MySQL expert / professional troubleshooting for
	Wordpress site
Message-ID: <3B728E32-CFD5-40E1-A945-1717A46DD875@powerfoundation.org>

We can't keep one site stable and need professional help.

1. Can anyone recommend a MySQL expert, to rebuild a MySQL database driving a Wordpress site? I'm asking here first so that the person is sensitive to -- and knowledgeable about -- Wordpress.

2. Can anyone recommend a Wordpress expert to look through our installation for possible conflicts that might explain our current instability?

This would be paid work for the right person(s).

Any pointers or recommendations highly appreciated.

Thanks,
ian

From scott at skcdev.com  Fri Sep  2 13:40:11 2011
From: scott at skcdev.com (Scott Kingsley Clark)
Date: Fri, 2 Sep 2011 06:40:11 -0700 (PDT)
Subject: [wp-hackers] Filter for '
In-Reply-To: <CAH9UVvFECbd9raT_1GHR9Q0hhnFg7u1eQXppeScF0UjbVpVjMA@mail.gmail.com>
References: <CAH9UVvFECbd9raT_1GHR9Q0hhnFg7u1eQXppeScF0UjbVpVjMA@mail.gmail.com>
Message-ID: <205a4590-99a5-4355-bca2-1e1d379f96f8@l2g2000vbn.googlegroups.com>

> I have deactivate the default-filters.php and check many other
> filters, but i dont find the filter for this topic. I will deactive
> the filter on the plugin-page for use my strings; is an sql query for
> send sql queries inside backen, only for devs. I have also list all
> active filters and actions, but i dont find the function, to do this.

I know this one was very confusing, had to poke around deep and I
found it a while back. Thing is, I assumed WP wasn't doing anything up
until I found this, I thought I was going crazy ;)

What you're looking for is line 529 of /wp-includes/load.php in a
function called 'wp_magic_quotes', which uses
'add_magic_quotes' (found in /wp-includes/functions.php at line 1521)
to loop through an array (deep) and addslashes($v) to the values
within.

It escapes $_GET, $_POST, $_COOKIE, $_SERVER, and then merges $_GET +
$_POST as $_REQUEST (in that order), there's no filters or actions in
the function, but it runs between the two actions called
'plugins_loaded' and 'sanitize_comment_cookies' in /wp-settings.php at
line 212.

If you *absolutely had to* remove it, you could hook into
'sanitize_comment_cookies' to stripslashes_deep($_var) on the global
arrays you're after.

Hope this info helps you!

-Scott


From wordpress at dd32.id.au  Fri Sep  2 13:48:59 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 2 Sep 2011 23:48:59 +1000
Subject: [wp-hackers] Filter for '
In-Reply-To: <205a4590-99a5-4355-bca2-1e1d379f96f8@l2g2000vbn.googlegroups.com>
References: <CAH9UVvFECbd9raT_1GHR9Q0hhnFg7u1eQXppeScF0UjbVpVjMA@mail.gmail.com>
	<205a4590-99a5-4355-bca2-1e1d379f96f8@l2g2000vbn.googlegroups.com>
Message-ID: <CAL4EHfkk989f_CXK=+FTN33euTQZb=g3hs9zbBATGChnDCHbMQ@mail.gmail.com>

On 2 September 2011 23:40, Scott Kingsley Clark <scott at skcdev.com> wrote:

>
> If you *absolutely had to* remove it, you could hook into
> 'sanitize_comment_cookies' to stripslashes_deep($_var) on the global
> arrays you're after.
>

but *NEVER do this* and store the result back into the superglobal. Not
unless you want to open your site up to security issues from all the plugins
out there that expect slashed data - and break Quotes in posts/comments too
at the same time. (Tip: This is why WordPress can't just turn off Magic
quotes and be done with it. Doing so will introduce security issues into
older plugins, and well, most new ones too)

For a ray of sunshine in an otherwise dark world of Quoting, Pretty much
every Developer out there wants to get rid of it, it's just the security
implications it'd cause.  See
http://core.trac.wordpress.org/ticket/18322for very early discussions
of moving away from it.

From frank at bueltge.de  Fri Sep  2 13:56:21 2011
From: frank at bueltge.de (Frank Bueltge)
Date: Fri, 2 Sep 2011 15:56:21 +0200
Subject: [wp-hackers] Filter for '
In-Reply-To: <CAL4EHfkk989f_CXK=+FTN33euTQZb=g3hs9zbBATGChnDCHbMQ@mail.gmail.com>
References: <CAH9UVvFECbd9raT_1GHR9Q0hhnFg7u1eQXppeScF0UjbVpVjMA@mail.gmail.com>
	<205a4590-99a5-4355-bca2-1e1d379f96f8@l2g2000vbn.googlegroups.com>
	<CAL4EHfkk989f_CXK=+FTN33euTQZb=g3hs9zbBATGChnDCHbMQ@mail.gmail.com>
Message-ID: <CAH9UVvFh2QvTSJwEswk-i0WUyvaMdEQ_pup+LgNmBV22SkHm-Q@mail.gmail.com>

Hello at all,

and many thanks for your replies and solution tips!!!
I will see for your great tips and find an solution; yes i have now
only an idea to filter my post to reset the Magic Quotes, but i
thought, WP has an filter and  it is easy to remove the function via
remove_filter and this is enough. My app is via thickbox, why is an
extra app, ready solution and i include this extra as idependent
applikation in the thickbox, only in the backend of WP.
best regards
Frank


On Fri, Sep 2, 2011 at 3:48 PM, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:
> On 2 September 2011 23:40, Scott Kingsley Clark <scott at skcdev.com> wrote:
>
>>
>> If you *absolutely had to* remove it, you could hook into
>> 'sanitize_comment_cookies' to stripslashes_deep($_var) on the global
>> arrays you're after.
>>
>
> but *NEVER do this* and store the result back into the superglobal. Not
> unless you want to open your site up to security issues from all the plugins
> out there that expect slashed data - and break Quotes in posts/comments too
> at the same time. (Tip: This is why WordPress can't just turn off Magic
> quotes and be done with it. Doing so will introduce security issues into
> older plugins, and well, most new ones too)
>
> For a ray of sunshine in an otherwise dark world of Quoting, Pretty much
> every Developer out there wants to get rid of it, it's just the security
> implications it'd cause. ?See
> http://core.trac.wordpress.org/ticket/18322for very early discussions
> of moving away from it.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ken.brucker at action-a-day.com  Fri Sep  2 14:49:39 2011
From: ken.brucker at action-a-day.com (Ken Brucker)
Date: Fri, 2 Sep 2011 09:49:39 -0500
Subject: [wp-hackers] TinyMCE plugin issues in domain mapped multisite
	config related to WP_PLUGIN_URL usage
Message-ID: <4236B6C7-0D3F-4553-9F2D-9E49C63C1FF0@action-a-day.com>

I'm working on a plugin that has a TinyMCE plugin with popup and am running into issues trying to use it in a multi-site configuration with domain mapping enabled.

What I've found is that WP_PLUGIN_URL is set to the network URL while plugins_url() returns the mapped URL.  When the admin screens use the mapped name, this is creating several issues because some elements of the screen are referenced via the network URL and some via the mapped URL.

I've got two scenarios, neither of which work:

1) Plugin uses WP_PLUGIN_URL to register the TinyMCE plugin via mce_external_plugins filter

Result is XSS scripting violation because the tinymce popup iframe is using the network name while the admin page uses the mapped name.

2) Plugin uses plugins_url() to register the plugin

The scripts run, but the tinymce/langs files are not retrieved because the logic in wp-admin/includes/post.php:wp_tiny_mce() around line 1498 mangles the translation.  The code tries to filter using WP_PLUGIN_URL (network name) which won't match the incoming URL that uses the mapped name.  The resulting file system path has the mapped URL path embedded so the subsequent searches for the language files fail.

What's not clear to me if the issue is the WP_PLUGIN_URL value or the code in wp_tiny_mce().  In a multi-site domain mapped environment what should WP_PLUGIN_URL be?  If the admin screen is also supposed to use the mapped URL should WP_PLUGIN_URL be the mapped domain so all is 100% consistent?

After examining some other plugins it appears the workaround is to setup a tinymce/lang	s/langs.php to do the right thing to find the .js language files.  This extra code in each plugin to do this correctly wouldn't be required if wp_tiny_mce() was able to handle multi-site domain mapped configs.  If wp_tiny_mce() did the right thing it would also lower the bar for plugins to support multi-site configs.

This has been a bugger to sort out why popups in a multi-site were failing.

-- Ken



From jess at funroe.net  Fri Sep  2 15:03:14 2011
From: jess at funroe.net (Jess Planck)
Date: Fri, 2 Sep 2011 10:03:14 -0500
Subject: [wp-hackers] TinyMCE plugin issues in domain mapped multisite
	config related to WP_PLUGIN_URL usage
In-Reply-To: <4236B6C7-0D3F-4553-9F2D-9E49C63C1FF0@action-a-day.com>
References: <4236B6C7-0D3F-4553-9F2D-9E49C63C1FF0@action-a-day.com>
Message-ID: <50319A82-3693-48B9-8CC3-68546099C392@funroe.net>

Had the same issue with other multisite installs and ended up using Andrew Ozz's method of pulling in language strings in the TinyMCE Advanced plugin. 

I'm sure there has to be a better way to handle external TinyMCE plugins, but at least this kinda works. 

Jess

On Sep 2, 2011, at 9:49 AM, Ken Brucker <ken.brucker at action-a-day.com> wrote:

> I'm working on a plugin that has a TinyMCE plugin with popup and am running into issues trying to use it in a multi-site configuration with domain mapping enabled.
> 
> What I've found is that WP_PLUGIN_URL is set to the network URL while plugins_url() returns the mapped URL.  When the admin screens use the mapped name, this is creating several issues because some elements of the screen are referenced via the network URL and some via the mapped URL.
> 
> I've got two scenarios, neither of which work:
> 
> 1) Plugin uses WP_PLUGIN_URL to register the TinyMCE plugin via mce_external_plugins filter
> 
> Result is XSS scripting violation because the tinymce popup iframe is using the network name while the admin page uses the mapped name.
> 
> 2) Plugin uses plugins_url() to register the plugin
> 
> The scripts run, but the tinymce/langs files are not retrieved because the logic in wp-admin/includes/post.php:wp_tiny_mce() around line 1498 mangles the translation.  The code tries to filter using WP_PLUGIN_URL (network name) which won't match the incoming URL that uses the mapped name.  The resulting file system path has the mapped URL path embedded so the subsequent searches for the language files fail.
> 
> What's not clear to me if the issue is the WP_PLUGIN_URL value or the code in wp_tiny_mce().  In a multi-site domain mapped environment what should WP_PLUGIN_URL be?  If the admin screen is also supposed to use the mapped URL should WP_PLUGIN_URL be the mapped domain so all is 100% consistent?
> 
> After examining some other plugins it appears the workaround is to setup a tinymce/lang    s/langs.php to do the right thing to find the .js language files.  This extra code in each plugin to do this correctly wouldn't be required if wp_tiny_mce() was able to handle multi-site domain mapped configs.  If wp_tiny_mce() did the right thing it would also lower the bar for plugins to support multi-site configs.
> 
> This has been a bugger to sort out why popups in a multi-site were failing.
> 
> -- Ken
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ken.brucker at action-a-day.com  Fri Sep  2 17:28:21 2011
From: ken.brucker at action-a-day.com (Ken Brucker)
Date: Fri, 2 Sep 2011 12:28:21 -0500
Subject: [wp-hackers] TinyMCE plugin issues in domain mapped multisite
	config related to WP_PLUGIN_URL usage
In-Reply-To: <50319A82-3693-48B9-8CC3-68546099C392@funroe.net>
References: <4236B6C7-0D3F-4553-9F2D-9E49C63C1FF0@action-a-day.com>
	<50319A82-3693-48B9-8CC3-68546099C392@funroe.net>
Message-ID: <88F84FFF-7A6E-4F34-AA59-70F7FD872763@action-a-day.com>

I ended up copying Andrew Ozz's method too (Thank you Andrew for paving the way!)

I do think there's a bug in here, just not sure if it's the definition of WP_PLUGIN_URL or in the assumptions wp_tiny_mce() makes for locating the plugin language files.  My gut instinct is that WP_PLUGIN_URL should use the mapped domain name and not the network multi-site name.  But I'm not sure what could break if such a change is made.  

I do see that both WP_CONTENT_URL and WP_PLUGIN_URL use the network name, even when the mapped name is requested for the Admin pages.  I don't have a development MU site setup or I'd play more with this right now.

-- Ken

On Sep 2, 2011, at 10:03 AM, Jess Planck wrote:

> Had the same issue with other multisite installs and ended up using Andrew Ozz's method of pulling in language strings in the TinyMCE Advanced plugin. 
> 
> I'm sure there has to be a better way to handle external TinyMCE plugins, but at least this kinda works. 
> 
> Jess
> 
> On Sep 2, 2011, at 9:49 AM, Ken Brucker <ken.brucker at action-a-day.com> wrote:
> 
>> I'm working on a plugin that has a TinyMCE plugin with popup and am running into issues trying to use it in a multi-site configuration with domain mapping enabled.
>> 
>> What I've found is that WP_PLUGIN_URL is set to the network URL while plugins_url() returns the mapped URL.  When the admin screens use the mapped name, this is creating several issues because some elements of the screen are referenced via the network URL and some via the mapped URL.
>> 
>> I've got two scenarios, neither of which work:
>> 
>> 1) Plugin uses WP_PLUGIN_URL to register the TinyMCE plugin via mce_external_plugins filter
>> 
>> Result is XSS scripting violation because the tinymce popup iframe is using the network name while the admin page uses the mapped name.
>> 
>> 2) Plugin uses plugins_url() to register the plugin
>> 
>> The scripts run, but the tinymce/langs files are not retrieved because the logic in wp-admin/includes/post.php:wp_tiny_mce() around line 1498 mangles the translation.  The code tries to filter using WP_PLUGIN_URL (network name) which won't match the incoming URL that uses the mapped name.  The resulting file system path has the mapped URL path embedded so the subsequent searches for the language files fail.
>> 
>> What's not clear to me if the issue is the WP_PLUGIN_URL value or the code in wp_tiny_mce().  In a multi-site domain mapped environment what should WP_PLUGIN_URL be?  If the admin screen is also supposed to use the mapped URL should WP_PLUGIN_URL be the mapped domain so all is 100% consistent?
>> 
>> After examining some other plugins it appears the workaround is to setup a tinymce/lang    s/langs.php to do the right thing to find the .js language files.  This extra code in each plugin to do this correctly wouldn't be required if wp_tiny_mce() was able to handle multi-site domain mapped configs.  If wp_tiny_mce() did the right thing it would also lower the bar for plugins to support multi-site configs.
>> 
>> This has been a bugger to sort out why popups in a multi-site were failing.
>> 
>> -- Ken
>> 
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jess at funroe.net  Fri Sep  2 17:41:11 2011
From: jess at funroe.net (Jess Planck)
Date: Fri, 2 Sep 2011 12:41:11 -0500
Subject: [wp-hackers] TinyMCE plugin issues in domain mapped multisite
	config related to WP_PLUGIN_URL usage
In-Reply-To: <88F84FFF-7A6E-4F34-AA59-70F7FD872763@action-a-day.com>
References: <4236B6C7-0D3F-4553-9F2D-9E49C63C1FF0@action-a-day.com>
	<50319A82-3693-48B9-8CC3-68546099C392@funroe.net>
	<88F84FFF-7A6E-4F34-AA59-70F7FD872763@action-a-day.com>
Message-ID: <5BCC9977-B7CA-4D6B-99EF-2B7A8FD8226C@funroe.net>

Most folks with mention that it has been suggested to use plugins_url() and the other helper functions. BUT I'm sure TinyMCE is partly to blame, BUT so are the strict rules to reduce XSS.

It appears that TinyMCE uses a helper function to remotely load languages using javascript. In my case this worked fine since I had a WordPress multisite in sub-directory or sub-domain mode. UNTIL I enforced SSL. Then all the TinyMCE language includes failed miserably for any external TinyMCE plugin. The only way to work around the was to include the language packs in the source code for the edit post page rather than remotely loading them via JS. It sucks, but makes perfect sense for the paranoid. I'm guessing the SSL rules for most browsers are just a tad more paranoid.

Jess

On Sep 2, 2011, at 12:28 PM, Ken Brucker wrote:

> I ended up copying Andrew Ozz's method too (Thank you Andrew for paving the way!)
> 
> I do think there's a bug in here, just not sure if it's the definition of WP_PLUGIN_URL or in the assumptions wp_tiny_mce() makes for locating the plugin language files.  My gut instinct is that WP_PLUGIN_URL should use the mapped domain name and not the network multi-site name.  But I'm not sure what could break if such a change is made.  
> 
> I do see that both WP_CONTENT_URL and WP_PLUGIN_URL use the network name, even when the mapped name is requested for the Admin pages.  I don't have a development MU site setup or I'd play more with this right now.
> 
> -- Ken
> 
> On Sep 2, 2011, at 10:03 AM, Jess Planck wrote:
> 
>> Had the same issue with other multisite installs and ended up using Andrew Ozz's method of pulling in language strings in the TinyMCE Advanced plugin. 
>> 
>> I'm sure there has to be a better way to handle external TinyMCE plugins, but at least this kinda works. 
>> 
>> Jess
>> 
>> On Sep 2, 2011, at 9:49 AM, Ken Brucker <ken.brucker at action-a-day.com> wrote:
>> 
>>> I'm working on a plugin that has a TinyMCE plugin with popup and am running into issues trying to use it in a multi-site configuration with domain mapping enabled.
>>> 
>>> What I've found is that WP_PLUGIN_URL is set to the network URL while plugins_url() returns the mapped URL.  When the admin screens use the mapped name, this is creating several issues because some elements of the screen are referenced via the network URL and some via the mapped URL.
>>> 
>>> I've got two scenarios, neither of which work:
>>> 
>>> 1) Plugin uses WP_PLUGIN_URL to register the TinyMCE plugin via mce_external_plugins filter
>>> 
>>> Result is XSS scripting violation because the tinymce popup iframe is using the network name while the admin page uses the mapped name.
>>> 
>>> 2) Plugin uses plugins_url() to register the plugin
>>> 
>>> The scripts run, but the tinymce/langs files are not retrieved because the logic in wp-admin/includes/post.php:wp_tiny_mce() around line 1498 mangles the translation.  The code tries to filter using WP_PLUGIN_URL (network name) which won't match the incoming URL that uses the mapped name.  The resulting file system path has the mapped URL path embedded so the subsequent searches for the language files fail.
>>> 
>>> What's not clear to me if the issue is the WP_PLUGIN_URL value or the code in wp_tiny_mce().  In a multi-site domain mapped environment what should WP_PLUGIN_URL be?  If the admin screen is also supposed to use the mapped URL should WP_PLUGIN_URL be the mapped domain so all is 100% consistent?
>>> 
>>> After examining some other plugins it appears the workaround is to setup a tinymce/lang    s/langs.php to do the right thing to find the .js language files.  This extra code in each plugin to do this correctly wouldn't be required if wp_tiny_mce() was able to handle multi-site domain mapped configs.  If wp_tiny_mce() did the right thing it would also lower the bar for plugins to support multi-site configs.
>>> 
>>> This has been a bugger to sort out why popups in a multi-site were failing.
>>> 
>>> -- Ken
>>> 
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From admin at laptoptips.ca  Fri Sep  2 19:01:08 2011
From: admin at laptoptips.ca (Andrew Ozz)
Date: Fri, 02 Sep 2011 12:01:08 -0700
Subject: [wp-hackers] TinyMCE plugin issues in domain mapped multisite
 config related to WP_PLUGIN_URL usage
In-Reply-To: <88F84FFF-7A6E-4F34-AA59-70F7FD872763@action-a-day.com>
References: <4236B6C7-0D3F-4553-9F2D-9E49C63C1FF0@action-a-day.com>	<50319A82-3693-48B9-8CC3-68546099C392@funroe.net>
	<88F84FFF-7A6E-4F34-AA59-70F7FD872763@action-a-day.com>
Message-ID: <4E6127F4.7000405@laptoptips.ca>

On 02/09/2011 10:28 AM, Ken Brucker wrote:
> I ended up copying Andrew Ozz's method too (Thank you Andrew for
> paving the way!)

I'm glad you found that useful.

> I do think there's a bug in here, just not sure if it's the
> definition of WP_PLUGIN_URL or in the assumptions wp_tiny_mce() makes
> for locating the plugin language files.

Been looking at that recently too. As you may know, the editor API gets 
an update in 3.3. Any suggestions/bug reports are welcome on 
http://core.trac.wordpress.org/ticket/17144 and 
https://core.trac.wordpress.org/ticket/16695.

From vijayverma2011 at hotmail.com  Sat Sep  3 05:17:53 2011
From: vijayverma2011 at hotmail.com (VIJAY VERMA)
Date: Sat, 3 Sep 2011 05:17:53 +0000
Subject: [wp-hackers] wp-hackers Digest, Vol 80, Issue 6
In-Reply-To: <mailman.1771.1314985276.1433.wp-hackers@lists.automattic.com>
References: <mailman.1771.1314985276.1433.wp-hackers@lists.automattic.com>
Message-ID: <SNT144-W38E842ACA94E276412DBFDCD1B0@phx.gbl>


Hi
I recommend rakesh at dynaweb4u.com as an expert in PHP and MYSQL.
-------------------

> From: wp-hackers-request at lists.automattic.com
> Subject: wp-hackers Digest, Vol 80, Issue 6
> To: wp-hackers at lists.automattic.com
> Date: Fri, 2 Sep 2011 17:41:16 +0000
> 
> Send wp-hackers mailing list submissions to
> 	wp-hackers at lists.automattic.com
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> 	http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
> 	wp-hackers-request at lists.automattic.com
> 
> You can reach the person managing the list at
> 	wp-hackers-owner at lists.automattic.com
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
> 
> 
> Today's Topics:
> 
>    1. MySQL expert / professional troubleshooting for	Wordpress
>       site (Ian Douglas)
>    2. Re: Filter for ' (Scott Kingsley Clark)
>    3. Re: Filter for ' (Dion Hulse (dd32))
>    4. Re: Filter for ' (Frank Bueltge)
>    5. TinyMCE plugin issues in domain mapped multisite	config
>       related to WP_PLUGIN_URL usage (Ken Brucker)
>    6. Re: TinyMCE plugin issues in domain mapped multisite	config
>       related to WP_PLUGIN_URL usage (Jess Planck)
>    7. Re: TinyMCE plugin issues in domain mapped multisite	config
>       related to WP_PLUGIN_URL usage (Ken Brucker)
>    8. Re: TinyMCE plugin issues in domain mapped multisite	config
>       related to WP_PLUGIN_URL usage (Jess Planck)
> 
> 
> ----------------------------------------------------------------------
> 
> Message: 1
> Date: Fri, 2 Sep 2011 15:06:51 +0200
> From: Ian Douglas <ian at powerfoundation.org>
> Subject: [wp-hackers] MySQL expert / professional troubleshooting for
> 	Wordpress site
> To: wp-hackers at lists.automattic.com
> Message-ID: <3B728E32-CFD5-40E1-A945-1717A46DD875 at powerfoundation.org>
> Content-Type: text/plain; charset=us-ascii
> 
> We can't keep one site stable and need professional help.
> 
> 1. Can anyone recommend a MySQL expert, to rebuild a MySQL database driving a Wordpress site? I'm asking here first so that the person is sensitive to -- and knowledgeable about -- Wordpress.
> 
> 2. Can anyone recommend a Wordpress expert to look through our installation for possible conflicts that might explain our current instability?
> 
> This would be paid work for the right person(s).
> 
> Any pointers or recommendations highly appreciated.
> 
> Thanks,
> ian
> 
> ------------------------------
> 
> Message: 2
> Date: Fri, 2 Sep 2011 06:40:11 -0700 (PDT)
> From: Scott Kingsley Clark <scott at skcdev.com>
> Subject: Re: [wp-hackers] Filter for '
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<205a4590-99a5-4355-bca2-1e1d379f96f8 at l2g2000vbn.googlegroups.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> > I have deactivate the default-filters.php and check many other
> > filters, but i dont find the filter for this topic. I will deactive
> > the filter on the plugin-page for use my strings; is an sql query for
> > send sql queries inside backen, only for devs. I have also list all
> > active filters and actions, but i dont find the function, to do this.
> 
> I know this one was very confusing, had to poke around deep and I
> found it a while back. Thing is, I assumed WP wasn't doing anything up
> until I found this, I thought I was going crazy ;)
> 
> What you're looking for is line 529 of /wp-includes/load.php in a
> function called 'wp_magic_quotes', which uses
> 'add_magic_quotes' (found in /wp-includes/functions.php at line 1521)
> to loop through an array (deep) and addslashes($v) to the values
> within.
> 
> It escapes $_GET, $_POST, $_COOKIE, $_SERVER, and then merges $_GET +
> $_POST as $_REQUEST (in that order), there's no filters or actions in
> the function, but it runs between the two actions called
> 'plugins_loaded' and 'sanitize_comment_cookies' in /wp-settings.php at
> line 212.
> 
> If you *absolutely had to* remove it, you could hook into
> 'sanitize_comment_cookies' to stripslashes_deep($_var) on the global
> arrays you're after.
> 
> Hope this info helps you!
> 
> -Scott
> 
> 
> 
> ------------------------------
> 
> Message: 3
> Date: Fri, 2 Sep 2011 23:48:59 +1000
> From: "Dion Hulse (dd32)" <wordpress at dd32.id.au>
> Subject: Re: [wp-hackers] Filter for '
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<CAL4EHfkk989f_CXK=+FTN33euTQZb=g3hs9zbBATGChnDCHbMQ at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> On 2 September 2011 23:40, Scott Kingsley Clark <scott at skcdev.com> wrote:
> 
> >
> > If you *absolutely had to* remove it, you could hook into
> > 'sanitize_comment_cookies' to stripslashes_deep($_var) on the global
> > arrays you're after.
> >
> 
> but *NEVER do this* and store the result back into the superglobal. Not
> unless you want to open your site up to security issues from all the plugins
> out there that expect slashed data - and break Quotes in posts/comments too
> at the same time. (Tip: This is why WordPress can't just turn off Magic
> quotes and be done with it. Doing so will introduce security issues into
> older plugins, and well, most new ones too)
> 
> For a ray of sunshine in an otherwise dark world of Quoting, Pretty much
> every Developer out there wants to get rid of it, it's just the security
> implications it'd cause.  See
> http://core.trac.wordpress.org/ticket/18322for very early discussions
> of moving away from it.
> 
> 
> ------------------------------
> 
> Message: 4
> Date: Fri, 2 Sep 2011 15:56:21 +0200
> From: Frank Bueltge <frank at bueltge.de>
> Subject: Re: [wp-hackers] Filter for '
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<CAH9UVvFh2QvTSJwEswk-i0WUyvaMdEQ_pup+LgNmBV22SkHm-Q at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
> 
> Hello at all,
> 
> and many thanks for your replies and solution tips!!!
> I will see for your great tips and find an solution; yes i have now
> only an idea to filter my post to reset the Magic Quotes, but i
> thought, WP has an filter and  it is easy to remove the function via
> remove_filter and this is enough. My app is via thickbox, why is an
> extra app, ready solution and i include this extra as idependent
> applikation in the thickbox, only in the backend of WP.
> best regards
> Frank
> 
> 
> On Fri, Sep 2, 2011 at 3:48 PM, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:
> > On 2 September 2011 23:40, Scott Kingsley Clark <scott at skcdev.com> wrote:
> >
> >>
> >> If you *absolutely had to* remove it, you could hook into
> >> 'sanitize_comment_cookies' to stripslashes_deep($_var) on the global
> >> arrays you're after.
> >>
> >
> > but *NEVER do this* and store the result back into the superglobal. Not
> > unless you want to open your site up to security issues from all the plugins
> > out there that expect slashed data - and break Quotes in posts/comments too
> > at the same time. (Tip: This is why WordPress can't just turn off Magic
> > quotes and be done with it. Doing so will introduce security issues into
> > older plugins, and well, most new ones too)
> >
> > For a ray of sunshine in an otherwise dark world of Quoting, Pretty much
> > every Developer out there wants to get rid of it, it's just the security
> > implications it'd cause. ?See
> > http://core.trac.wordpress.org/ticket/18322for very early discussions
> > of moving away from it.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> ------------------------------
> 
> Message: 5
> Date: Fri, 2 Sep 2011 09:49:39 -0500
> From: Ken Brucker <ken.brucker at action-a-day.com>
> Subject: [wp-hackers] TinyMCE plugin issues in domain mapped multisite
> 	config related to WP_PLUGIN_URL usage
> To: wp-hackers at lists.automattic.com
> Message-ID: <4236B6C7-0D3F-4553-9F2D-9E49C63C1FF0 at action-a-day.com>
> Content-Type: text/plain;	charset=us-ascii
> 
> I'm working on a plugin that has a TinyMCE plugin with popup and am running into issues trying to use it in a multi-site configuration with domain mapping enabled.
> 
> What I've found is that WP_PLUGIN_URL is set to the network URL while plugins_url() returns the mapped URL.  When the admin screens use the mapped name, this is creating several issues because some elements of the screen are referenced via the network URL and some via the mapped URL.
> 
> I've got two scenarios, neither of which work:
> 
> 1) Plugin uses WP_PLUGIN_URL to register the TinyMCE plugin via mce_external_plugins filter
> 
> Result is XSS scripting violation because the tinymce popup iframe is using the network name while the admin page uses the mapped name.
> 
> 2) Plugin uses plugins_url() to register the plugin
> 
> The scripts run, but the tinymce/langs files are not retrieved because the logic in wp-admin/includes/post.php:wp_tiny_mce() around line 1498 mangles the translation.  The code tries to filter using WP_PLUGIN_URL (network name) which won't match the incoming URL that uses the mapped name.  The resulting file system path has the mapped URL path embedded so the subsequent searches for the language files fail.
> 
> What's not clear to me if the issue is the WP_PLUGIN_URL value or the code in wp_tiny_mce().  In a multi-site domain mapped environment what should WP_PLUGIN_URL be?  If the admin screen is also supposed to use the mapped URL should WP_PLUGIN_URL be the mapped domain so all is 100% consistent?
> 
> After examining some other plugins it appears the workaround is to setup a tinymce/lang	s/langs.php to do the right thing to find the .js language files.  This extra code in each plugin to do this correctly wouldn't be required if wp_tiny_mce() was able to handle multi-site domain mapped configs.  If wp_tiny_mce() did the right thing it would also lower the bar for plugins to support multi-site configs.
> 
> This has been a bugger to sort out why popups in a multi-site were failing.
> 
> -- Ken
> 
> 
> 
> 
> ------------------------------
> 
> Message: 6
> Date: Fri, 2 Sep 2011 10:03:14 -0500
> From: Jess Planck <jess at funroe.net>
> Subject: Re: [wp-hackers] TinyMCE plugin issues in domain mapped
> 	multisite	config related to WP_PLUGIN_URL usage
> To: "wp-hackers at lists.automattic.com"
> 	<wp-hackers at lists.automattic.com>
> Message-ID: <50319A82-3693-48B9-8CC3-68546099C392 at funroe.net>
> Content-Type: text/plain;	charset=us-ascii
> 
> Had the same issue with other multisite installs and ended up using Andrew Ozz's method of pulling in language strings in the TinyMCE Advanced plugin. 
> 
> I'm sure there has to be a better way to handle external TinyMCE plugins, but at least this kinda works. 
> 
> Jess
> 
> On Sep 2, 2011, at 9:49 AM, Ken Brucker <ken.brucker at action-a-day.com> wrote:
> 
> > I'm working on a plugin that has a TinyMCE plugin with popup and am running into issues trying to use it in a multi-site configuration with domain mapping enabled.
> > 
> > What I've found is that WP_PLUGIN_URL is set to the network URL while plugins_url() returns the mapped URL.  When the admin screens use the mapped name, this is creating several issues because some elements of the screen are referenced via the network URL and some via the mapped URL.
> > 
> > I've got two scenarios, neither of which work:
> > 
> > 1) Plugin uses WP_PLUGIN_URL to register the TinyMCE plugin via mce_external_plugins filter
> > 
> > Result is XSS scripting violation because the tinymce popup iframe is using the network name while the admin page uses the mapped name.
> > 
> > 2) Plugin uses plugins_url() to register the plugin
> > 
> > The scripts run, but the tinymce/langs files are not retrieved because the logic in wp-admin/includes/post.php:wp_tiny_mce() around line 1498 mangles the translation.  The code tries to filter using WP_PLUGIN_URL (network name) which won't match the incoming URL that uses the mapped name.  The resulting file system path has the mapped URL path embedded so the subsequent searches for the language files fail.
> > 
> > What's not clear to me if the issue is the WP_PLUGIN_URL value or the code in wp_tiny_mce().  In a multi-site domain mapped environment what should WP_PLUGIN_URL be?  If the admin screen is also supposed to use the mapped URL should WP_PLUGIN_URL be the mapped domain so all is 100% consistent?
> > 
> > After examining some other plugins it appears the workaround is to setup a tinymce/lang    s/langs.php to do the right thing to find the .js language files.  This extra code in each plugin to do this correctly wouldn't be required if wp_tiny_mce() was able to handle multi-site domain mapped configs.  If wp_tiny_mce() did the right thing it would also lower the bar for plugins to support multi-site configs.
> > 
> > This has been a bugger to sort out why popups in a multi-site were failing.
> > 
> > -- Ken
> > 
> > 
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> ------------------------------
> 
> Message: 7
> Date: Fri, 2 Sep 2011 12:28:21 -0500
> From: Ken Brucker <ken.brucker at action-a-day.com>
> Subject: Re: [wp-hackers] TinyMCE plugin issues in domain mapped
> 	multisite	config related to WP_PLUGIN_URL usage
> To: wp-hackers at lists.automattic.com
> Message-ID: <88F84FFF-7A6E-4F34-AA59-70F7FD872763 at action-a-day.com>
> Content-Type: text/plain; charset=us-ascii
> 
> I ended up copying Andrew Ozz's method too (Thank you Andrew for paving the way!)
> 
> I do think there's a bug in here, just not sure if it's the definition of WP_PLUGIN_URL or in the assumptions wp_tiny_mce() makes for locating the plugin language files.  My gut instinct is that WP_PLUGIN_URL should use the mapped domain name and not the network multi-site name.  But I'm not sure what could break if such a change is made.  
> 
> I do see that both WP_CONTENT_URL and WP_PLUGIN_URL use the network name, even when the mapped name is requested for the Admin pages.  I don't have a development MU site setup or I'd play more with this right now.
> 
> -- Ken
> 
> On Sep 2, 2011, at 10:03 AM, Jess Planck wrote:
> 
> > Had the same issue with other multisite installs and ended up using Andrew Ozz's method of pulling in language strings in the TinyMCE Advanced plugin. 
> > 
> > I'm sure there has to be a better way to handle external TinyMCE plugins, but at least this kinda works. 
> > 
> > Jess
> > 
> > On Sep 2, 2011, at 9:49 AM, Ken Brucker <ken.brucker at action-a-day.com> wrote:
> > 
> >> I'm working on a plugin that has a TinyMCE plugin with popup and am running into issues trying to use it in a multi-site configuration with domain mapping enabled.
> >> 
> >> What I've found is that WP_PLUGIN_URL is set to the network URL while plugins_url() returns the mapped URL.  When the admin screens use the mapped name, this is creating several issues because some elements of the screen are referenced via the network URL and some via the mapped URL.
> >> 
> >> I've got two scenarios, neither of which work:
> >> 
> >> 1) Plugin uses WP_PLUGIN_URL to register the TinyMCE plugin via mce_external_plugins filter
> >> 
> >> Result is XSS scripting violation because the tinymce popup iframe is using the network name while the admin page uses the mapped name.
> >> 
> >> 2) Plugin uses plugins_url() to register the plugin
> >> 
> >> The scripts run, but the tinymce/langs files are not retrieved because the logic in wp-admin/includes/post.php:wp_tiny_mce() around line 1498 mangles the translation.  The code tries to filter using WP_PLUGIN_URL (network name) which won't match the incoming URL that uses the mapped name.  The resulting file system path has the mapped URL path embedded so the subsequent searches for the language files fail.
> >> 
> >> What's not clear to me if the issue is the WP_PLUGIN_URL value or the code in wp_tiny_mce().  In a multi-site domain mapped environment what should WP_PLUGIN_URL be?  If the admin screen is also supposed to use the mapped URL should WP_PLUGIN_URL be the mapped domain so all is 100% consistent?
> >> 
> >> After examining some other plugins it appears the workaround is to setup a tinymce/lang    s/langs.php to do the right thing to find the .js language files.  This extra code in each plugin to do this correctly wouldn't be required if wp_tiny_mce() was able to handle multi-site domain mapped configs.  If wp_tiny_mce() did the right thing it would also lower the bar for plugins to support multi-site configs.
> >> 
> >> This has been a bugger to sort out why popups in a multi-site were failing.
> >> 
> >> -- Ken
> >> 
> >> 
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 
> ------------------------------
> 
> Message: 8
> Date: Fri, 2 Sep 2011 12:41:11 -0500
> From: Jess Planck <jess at funroe.net>
> Subject: Re: [wp-hackers] TinyMCE plugin issues in domain mapped
> 	multisite	config related to WP_PLUGIN_URL usage
> To: wp-hackers at lists.automattic.com
> Message-ID: <5BCC9977-B7CA-4D6B-99EF-2B7A8FD8226C at funroe.net>
> Content-Type: text/plain; charset=us-ascii
> 
> Most folks with mention that it has been suggested to use plugins_url() and the other helper functions. BUT I'm sure TinyMCE is partly to blame, BUT so are the strict rules to reduce XSS.
> 
> It appears that TinyMCE uses a helper function to remotely load languages using javascript. In my case this worked fine since I had a WordPress multisite in sub-directory or sub-domain mode. UNTIL I enforced SSL. Then all the TinyMCE language includes failed miserably for any external TinyMCE plugin. The only way to work around the was to include the language packs in the source code for the edit post page rather than remotely loading them via JS. It sucks, but makes perfect sense for the paranoid. I'm guessing the SSL rules for most browsers are just a tad more paranoid.
> 
> Jess
> 
> On Sep 2, 2011, at 12:28 PM, Ken Brucker wrote:
> 
> > I ended up copying Andrew Ozz's method too (Thank you Andrew for paving the way!)
> > 
> > I do think there's a bug in here, just not sure if it's the definition of WP_PLUGIN_URL or in the assumptions wp_tiny_mce() makes for locating the plugin language files.  My gut instinct is that WP_PLUGIN_URL should use the mapped domain name and not the network multi-site name.  But I'm not sure what could break if such a change is made.  
> > 
> > I do see that both WP_CONTENT_URL and WP_PLUGIN_URL use the network name, even when the mapped name is requested for the Admin pages.  I don't have a development MU site setup or I'd play more with this right now.
> > 
> > -- Ken
> > 
> > On Sep 2, 2011, at 10:03 AM, Jess Planck wrote:
> > 
> >> Had the same issue with other multisite installs and ended up using Andrew Ozz's method of pulling in language strings in the TinyMCE Advanced plugin. 
> >> 
> >> I'm sure there has to be a better way to handle external TinyMCE plugins, but at least this kinda works. 
> >> 
> >> Jess
> >> 
> >> On Sep 2, 2011, at 9:49 AM, Ken Brucker <ken.brucker at action-a-day.com> wrote:
> >> 
> >>> I'm working on a plugin that has a TinyMCE plugin with popup and am running into issues trying to use it in a multi-site configuration with domain mapping enabled.
> >>> 
> >>> What I've found is that WP_PLUGIN_URL is set to the network URL while plugins_url() returns the mapped URL.  When the admin screens use the mapped name, this is creating several issues because some elements of the screen are referenced via the network URL and some via the mapped URL.
> >>> 
> >>> I've got two scenarios, neither of which work:
> >>> 
> >>> 1) Plugin uses WP_PLUGIN_URL to register the TinyMCE plugin via mce_external_plugins filter
> >>> 
> >>> Result is XSS scripting violation because the tinymce popup iframe is using the network name while the admin page uses the mapped name.
> >>> 
> >>> 2) Plugin uses plugins_url() to register the plugin
> >>> 
> >>> The scripts run, but the tinymce/langs files are not retrieved because the logic in wp-admin/includes/post.php:wp_tiny_mce() around line 1498 mangles the translation.  The code tries to filter using WP_PLUGIN_URL (network name) which won't match the incoming URL that uses the mapped name.  The resulting file system path has the mapped URL path embedded so the subsequent searches for the language files fail.
> >>> 
> >>> What's not clear to me if the issue is the WP_PLUGIN_URL value or the code in wp_tiny_mce().  In a multi-site domain mapped environment what should WP_PLUGIN_URL be?  If the admin screen is also supposed to use the mapped URL should WP_PLUGIN_URL be the mapped domain so all is 100% consistent?
> >>> 
> >>> After examining some other plugins it appears the workaround is to setup a tinymce/lang    s/langs.php to do the right thing to find the .js language files.  This extra code in each plugin to do this correctly wouldn't be required if wp_tiny_mce() was able to handle multi-site domain mapped configs.  If wp_tiny_mce() did the right thing it would also lower the bar for plugins to support multi-site configs.
> >>> 
> >>> This has been a bugger to sort out why popups in a multi-site were failing.
> >>> 
> >>> -- Ken
> >>> 
> >>> 
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > 
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 
> ------------------------------
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> End of wp-hackers Digest, Vol 80, Issue 6
> *****************************************
 		 	   		  

From newkind at gmail.com  Sat Sep  3 07:57:54 2011
From: newkind at gmail.com (NewKind)
Date: Sat, 3 Sep 2011 09:57:54 +0200
Subject: [wp-hackers] Load page instead of including it
In-Reply-To: <CAL4EHfk5yxkpo36AyhhR993P5Mv_+pw5xxGGESKm4Wxw0xgWkQ@mail.gmail.com>
References: <6D2B1269-196E-4280-9079-2A93F5B17013@gmail.com>
	<CAL4EHfnht9kvSaN8=DWuOhkgkFpPswkY7QhZiL8DuuBpyAu2_w@mail.gmail.com>
	<92BCE6C6-8B75-4699-A4D7-72F886EE80A9@gmail.com>
	<CAL4EHfmhFgOyF-MAhwDy=z40iDpUC9LHB-MhEb=0cqfK2kwCag@mail.gmail.com>
	<27C5477F-C03F-4918-B514-7D6997DEFA90@gmail.com>
	<566E95F1-21CA-4812-87A7-D16DC619803E@ipstenu.org>
	<CAL4EHfk5yxkpo36AyhhR993P5Mv_+pw5xxGGESKm4Wxw0xgWkQ@mail.gmail.com>
Message-ID: <C36ABC89-5D13-4DD3-AAA5-7379EF574831@gmail.com>

Hey,

Thanks for all answers, I'll play a little bit more with it ;) And there's definitely going
to be an option to disable that in case someone doesn't want to use it.

Thanks!

On 2 wrz 2011, at 13:39, Dion Hulse (dd32) wrote:

> Ah, literally, an "unsupported browser page". In those situations, if you're
> intending on distributing the theme to others, I highly suggest you use a
> page. Detect an unsupported browser (if you must, and can't possibly
> gracefully degrade), and redirect to a user-defined page. This way the user
> has the ability to customise what their website looks like, and you can
> offer a page template as well for a predefined text/look.
> 
> Generally in a theme which is distributed, I'd advise against doing
> something "smart" like that, simply for the reason that it creates a lock in
> effect of using your theme rather than switching to another theme down the
> line.. and definitely not by default in most cases as automated detection
> can often fail or be confused, and/or lock users out unintentionally..
> 
> On 2 September 2011 21:18, Mika A Epstein <ipstenu at ipstenu.org> wrote:
> 
>> You can put a browser detect line in the 404 page code, via PHP.  If it's
>> just a non-supported browser hitting a non-existent page, there's no need to
>> reinvent the wheel.
>> 
>> If it's something else, of course, details matter.
>> 
>> 
>> On Sep 2, 2011, at 6:04 AM, NewKind <newkind at gmail.com> wrote:
>> 
>>> Yes, it's like a 404 page, but it would be displayed only when user will
>> try to load the page with unsupported browser.
>>> Thanks, for the hint - i'll take a look at the rewrite rules.
>>> 
>>> Thanks!
>>> 
>>> On 2 wrz 2011, at 12:33, Dion Hulse (dd32) wrote:
>>> 
>>>> Unfortunately that doesn't help me understand it at all.. "unsupported
>> page"
>>>> sounds like a 404 to me?
>>>> Failing that, my 2nd suggestion seems to be what you want:
>>>> 
>>>>> The next option is to use a custom query var, and/or a a WordPress
>> rewrite
>>>>> rule, ie. catch $_GET['my-query=var'] on template_redirect, and load
>> your
>>>>> page directly (ie. don't run get_header()/get_footer() in the template
>>>> file
>>>>> you include).
>>>> 
>>>> On 2 September 2011 20:29, NewKind <newkind at gmail.com> wrote:
>>>> 
>>>>> Well it's just a landing page that would be displayed when user is
>> using an
>>>>> unsupported page.
>>>>> There are no loops or any particular content besides the hardcoded one,
>> but
>>>>> what I'd like to have
>>>>> on that page is the support for plugins to load theirs stuff, and wp
>> header
>>>>> with wp footer.
>>>>> 
>>>>> So it's a page with hardcoded html code + content, but dynamically
>>>>> generated headers.
>>>>> 
>>>>> The way from integrating external pages with wp would be ideal but just
>>>>> like I said, there are issues
>>>>> with including the wp-blog-header.php file on different environments. I
>>>>> don't want to use pages + page
>>>>> templates as this strictly depends on users content.
>>>>> 
>>>>> Thanks
>>>>> 
>>>>> On 2 wrz 2011, at 12:18, Dion Hulse (dd32) wrote:
>>>>> 
>>>>>> You're best NOT loading the theme file (or a plugin file for that
>> matter)
>>>>>> directly.
>>>>>> The "standard" way is to just use a Page Template and assign that to a
>>>>> page,
>>>>>> The next option is to use a custom query var, and/or a a WordPress
>>>>> rewrite
>>>>>> rule, ie. catch $_GET['my-query=var'] on template_redirect, and load
>> your
>>>>>> page directly (ie. don't run get_header()/get_footer() in the template
>>>>> file
>>>>>> you include).
>>>>>> 
>>>>>> There's a few other options depending on what you're actually doing..
>> For
>>>>>> example, Custom RSS feeds can be defined, as well as using
>> admin-ajax.php
>>>>>> (it has logged in, and not-logged in actions).
>>>>>> 
>>>>>> Maybe you could give some details and someone can suggest the best
>>>>> method?
>>>>>> 
>>>>>> On 2 September 2011 20:13, NewKind <newkind at gmail.com> wrote:
>>>>>> 
>>>>>>> Hi,
>>>>>>> 
>>>>>>> I was wondering if theres something like load_template that would
>>>>> replace
>>>>>>> the whole content instead of just including the provided file.
>>>>>>> 
>>>>>>> I'm trying to redirect user (on a certain conditions) to a custom php
>>>>> file
>>>>>>> located in the theme directory. The issue is that to do that the WP
>> way,
>>>>>>> i need to use require_once and point it from the theme directory to
>> the
>>>>> wp
>>>>>>> directory. The require_once('../../../wp-blog-header.php'); doesn't
>>>>> work,
>>>>>>> and since WP isn't initialized - I don't have access to such
>> constants
>>>>> like
>>>>>>> ABSPATH.
>>>>>>> 
>>>>>>> Maybe one of you knows a better way to do this ?
>>>>>>> 
>>>>>>> Thanks!
>>>>>>> _______________________________________________
>>>>>>> wp-hackers mailing list
>>>>>>> wp-hackers at lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>> 
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> 
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From andrew at graymerica.com  Sat Sep  3 13:16:04 2011
From: andrew at graymerica.com (Andrew Gray)
Date: Sat, 3 Sep 2011 09:16:04 -0400
Subject: [wp-hackers] base cron / reset wp cron
Message-ID: <006E85E8-A55E-41D7-B409-2E08D4391711@graymerica.com>

Does anyone know how to reset the wp cron to the default settings.    I think I may have removed some of the required cron entries (publish post) from a website and would like to reset the cron to the default settings and start over.

Can I do this via mysql or a plugin?

thanks,

Andrew



From wp-hackers at striderweb.com  Sat Sep  3 21:14:19 2011
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat, 3 Sep 2011 16:14:19 -0500
Subject: [wp-hackers] URI equivalent of locate_template?
Message-ID: <6314A1BC-F25A-438E-8FB1-03EBEE4B6B05@striderweb.com>

Hi --

I'm trying to link a CSS file that may or may not existing the Theme directory.  I can use locate_template() to determine if the file exists, but I can't find a clean way to get the URI of the file for the actual link.

Is there a URI equivalent of locate_template?  That is, I want to pass the name of e.g. myfile.css, and have a function that looks for it in a child directory (if applicable) then look in the parent/main theme directory, and return either a URI for the file, or empty string if it isn't found.

If it doesn't exist, I wonder if I should add such aching to Core.  Or am I just completely missing something obvious?

Thanks,
Stephen Rider

From johnbillion+wp at gmail.com  Sat Sep  3 21:56:05 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Sat, 3 Sep 2011 22:56:05 +0100
Subject: [wp-hackers] URI equivalent of locate_template?
In-Reply-To: <6314A1BC-F25A-438E-8FB1-03EBEE4B6B05@striderweb.com>
References: <6314A1BC-F25A-438E-8FB1-03EBEE4B6B05@striderweb.com>
Message-ID: <CAOqAKWCy_nNWfL8WbW-=z1KiXTev+EeXQHv=BQ2mfR824BciWQ@mail.gmail.com>

On 3 September 2011 22:14, Stephen Rider <wp-hackers at striderweb.com> wrote:
> Hi --
>
> I'm trying to link a CSS file that may or may not existing the Theme directory. ?I can use locate_template() to determine if the file exists, but I can't find a clean way to get the URI of the file for the actual link.
>
> Is there a URI equivalent of locate_template? ?That is, I want to pass the name of e.g. myfile.css, and have a function that looks for it in a child directory (if applicable) then look in the parent/main theme directory, and return either a URI for the file, or empty string if it isn't found.

No there isn't but there totally should be. See
http://core.trac.wordpress.org/ticket/18302 which is scheduled for
3.3.

John

From wp-hackers at striderweb.com  Sat Sep  3 22:29:47 2011
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat, 3 Sep 2011 17:29:47 -0500
Subject: [wp-hackers] URI equivalent of locate_template?
In-Reply-To: <CAOqAKWCy_nNWfL8WbW-=z1KiXTev+EeXQHv=BQ2mfR824BciWQ@mail.gmail.com>
References: <6314A1BC-F25A-438E-8FB1-03EBEE4B6B05@striderweb.com>
	<CAOqAKWCy_nNWfL8WbW-=z1KiXTev+EeXQHv=BQ2mfR824BciWQ@mail.gmail.com>
Message-ID: <A404BA91-1246-4A2A-AFC4-DA22DD5BF64A@striderweb.com>

Perfecto! Thanks.


On Sep 3, 2011, at 4:56 PM, John Blackbourn wrote:

> On 3 September 2011 22:14, Stephen Rider <wp-hackers at striderweb.com> wrote:
>> I'm trying to link a CSS file that may or may not existing the Theme directory.  I can use locate_template() to determine if the file exists, but I can't find a clean way to get the URI of the file for the actual link.
>> 
>> Is there a URI equivalent of locate_template?  That is, I want to pass the name of e.g. myfile.css, and have a function that looks for it in a child directory (if applicable) then look in the parent/main theme directory, and return either a URI for the file, or empty string if it isn't found.
> 
> No there isn't but there totally should be. See
> http://core.trac.wordpress.org/ticket/18302 which is scheduled for
> 3.3.


From charel.buechler at gmail.com  Sun Sep  4 00:03:34 2011
From: charel.buechler at gmail.com (=?ISO-8859-1?Q?Charel_B=FCchler?=)
Date: Sun, 04 Sep 2011 02:03:34 +0200
Subject: [wp-hackers] WXR export via CLI
Message-ID: <4E62C056.4090301@gmail.com>

Hey,

I'm currently writing a bash script for updating wordpress in the
command line, and now what I do before backup is, making dumps of my
database, to ensure that the data won't be lost.

But let's think of this scenario, I have to upgrade wordpress. I make a
db-dump, but my dump is corrupt. So I am unable to use my dump.

In this case I'd love to get a WXR file, which I can export too, so at
least, I can import my wordpress content.

Now is there a possibility, to export a file through the command line,
without writing another plugin which allows me this?

Cheers
-- 
Charel B?chler
E: charel.buechler at gmail.com

From danielx386 at gmail.com  Mon Sep  5 22:47:09 2011
From: danielx386 at gmail.com (Daniel Fenn)
Date: Tue, 6 Sep 2011 08:47:09 +1000
Subject: [wp-hackers] Search form issue
Message-ID: <CAJ5Hi2j=uKMJ-b2oif5p5p3T76ZO16KKM5c-E85yynA5kQ3i=g@mail.gmail.com>

Hello all,

I am currently working on a new version of my wordpress theme, and I am
running into a serious issue. The theme guideline says that I must use
"get_search_form();" to display the search form. Now I am running into an
issue where the form will need different markup for the header, sidebar and
search result page. (No I am not kidding).

Am I correct that there is no callback function like there is in wp_nav_menu
or like a walker that one can use in wp_nav_menu?

Also is there any such thing as "if search_form(); called from header.php
display this, elseif if called from sidebar.php display this else display
this" type thing?

Would anyone here have any ideas on this one?

Thanks

From wp-hackers at striderweb.com  Mon Sep  5 23:44:46 2011
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon, 5 Sep 2011 18:44:46 -0500
Subject: [wp-hackers] WP SVN not accepting password
Message-ID: <EC41A7A3-7C66-4FD8-B47C-06D9E59B1939@striderweb.com>

Hi --

I'm trying to commit some changes to a plugin in WP Extend SVN. IT's not accepting my login.  Gives me:

Commit failed (details follow):
MKACTIVITY of '/!svn/act/9ef60c54-c4bf-449a-8446-d3775a4daa68': authorization failed: Could not authenticate to server: rejected Basic challenge (http://svn.wp-plugins.org)

Weirdly, it likes my password enough to allow me access to check out, just not to commit.

Can anyone help with this?

Regards,

Steve

-- 
Stephen Rider
http://striderweb.com/


From rafaehlers at gmail.com  Mon Sep  5 23:48:51 2011
From: rafaehlers at gmail.com (Rafael Ehlers)
Date: Mon, 5 Sep 2011 20:48:51 -0300
Subject: [wp-hackers] Search form issue
In-Reply-To: <CAJ5Hi2j=uKMJ-b2oif5p5p3T76ZO16KKM5c-E85yynA5kQ3i=g@mail.gmail.com>
References: <CAJ5Hi2j=uKMJ-b2oif5p5p3T76ZO16KKM5c-E85yynA5kQ3i=g@mail.gmail.com>
Message-ID: <CAF_6N0OrrABWxn182nVnpuL_NYSCghM5KdR3GTnwVBo5QRxzAw@mail.gmail.com>

Why dont you use conditionals for what page is calling in your <form> tag?

Like:

<form id="foo" name="foo">
<?php if(is_page('contact')){ echo "<input type='text' name='x' />"}?>.....
</form>

On Mon, Sep 5, 2011 at 7:47 PM, Daniel Fenn <danielx386 at gmail.com> wrote:

> Hello all,
>
> I am currently working on a new version of my wordpress theme, and I am
> running into a serious issue. The theme guideline says that I must use
> "get_search_form();" to display the search form. Now I am running into an
> issue where the form will need different markup for the header, sidebar and
> search result page. (No I am not kidding).
>
> Am I correct that there is no callback function like there is in
> wp_nav_menu
> or like a walker that one can use in wp_nav_menu?
>
> Also is there any such thing as "if search_form(); called from header.php
> display this, elseif if called from sidebar.php display this else display
> this" type thing?
>
> Would anyone here have any ideas on this one?
>
> Thanks
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From johnbillion+wp at gmail.com  Mon Sep  5 23:55:42 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Tue, 6 Sep 2011 00:55:42 +0100
Subject: [wp-hackers] Search form issue
In-Reply-To: <CAJ5Hi2j=uKMJ-b2oif5p5p3T76ZO16KKM5c-E85yynA5kQ3i=g@mail.gmail.com>
References: <CAJ5Hi2j=uKMJ-b2oif5p5p3T76ZO16KKM5c-E85yynA5kQ3i=g@mail.gmail.com>
Message-ID: <CAOqAKWDZ9sWAED1L4seE4ZNJT4qPLQH19wBGzaGks1OHpZ+ubg@mail.gmail.com>

On 5 September 2011 23:47, Daniel Fenn <danielx386 at gmail.com> wrote:
> Hello all,
>
> I am currently working on a new version of my wordpress theme, and I am
> running into a serious issue. The theme guideline says that I must use
> "get_search_form();" to display the search form. Now I am running into an
> issue where the form will need different markup for the header, sidebar and
> search result page. (No I am not kidding).

You don't need to use get_search_form() at all if you don't want to.
If your theme needs different search forms then go ahead and mark them
up yourself and use WordPress' conditionals to display the one you
need.

From wp-hackers at striderweb.com  Mon Sep  5 23:56:57 2011
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon, 5 Sep 2011 18:56:57 -0500
Subject: [wp-hackers] WP SVN not accepting password
In-Reply-To: <EC41A7A3-7C66-4FD8-B47C-06D9E59B1939@striderweb.com>
References: <EC41A7A3-7C66-4FD8-B47C-06D9E59B1939@striderweb.com>
Message-ID: <0B89E845-E05B-4F15-847F-3318A23625DF@striderweb.com>

Hi --

Never mind.  It was related to the password reset from June -- I'd mis-recorded the new password.  Sorry for the static.

Steve

On Sep 5, 2011, at 6:44 PM, Stephen Rider wrote:

> I'm trying to commit some changes to a plugin in WP Extend SVN. IT's not accepting my login.


From danielx386 at gmail.com  Tue Sep  6 00:44:21 2011
From: danielx386 at gmail.com (Daniel Fenn)
Date: Tue, 6 Sep 2011 10:44:21 +1000
Subject: [wp-hackers] Search form issue
In-Reply-To: <CAOqAKWDZ9sWAED1L4seE4ZNJT4qPLQH19wBGzaGks1OHpZ+ubg@mail.gmail.com>
References: <CAJ5Hi2j=uKMJ-b2oif5p5p3T76ZO16KKM5c-E85yynA5kQ3i=g@mail.gmail.com>
	<CAOqAKWDZ9sWAED1L4seE4ZNJT4qPLQH19wBGzaGks1OHpZ+ubg@mail.gmail.com>
Message-ID: <CAJ5Hi2gLfwvktB0QjYG-s07+XHfxU88Y4e5wFV7g670_ec5WYQ@mail.gmail.com>

Ok but if I want the theme to be put up on wordpress.Org then I must
follow the guideline. Now how can I code it so that it can tell if it
being called from the header or sidebar file?

On 06/09/2011, John Blackbourn <johnbillion+wp at gmail.com> wrote:
> On 5 September 2011 23:47, Daniel Fenn <danielx386 at gmail.com> wrote:
>> Hello all,
>>
>> I am currently working on a new version of my wordpress theme, and I am
>> running into a serious issue. The theme guideline says that I must use
>> "get_search_form();" to display the search form. Now I am running into an
>> issue where the form will need different markup for the header, sidebar
>> and
>> search result page. (No I am not kidding).
>
> You don't need to use get_search_form() at all if you don't want to.
> If your theme needs different search forms then go ahead and mark them
> up yourself and use WordPress' conditionals to display the one you
> need.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Regards,
Daniel Fenn

From otto at ottodestruct.com  Tue Sep  6 01:28:53 2011
From: otto at ottodestruct.com (Otto)
Date: Mon, 5 Sep 2011 20:28:53 -0500
Subject: [wp-hackers] Search form issue
In-Reply-To: <CAJ5Hi2gLfwvktB0QjYG-s07+XHfxU88Y4e5wFV7g670_ec5WYQ@mail.gmail.com>
References: <CAJ5Hi2j=uKMJ-b2oif5p5p3T76ZO16KKM5c-E85yynA5kQ3i=g@mail.gmail.com>
	<CAOqAKWDZ9sWAED1L4seE4ZNJT4qPLQH19wBGzaGks1OHpZ+ubg@mail.gmail.com>
	<CAJ5Hi2gLfwvktB0QjYG-s07+XHfxU88Y4e5wFV7g670_ec5WYQ@mail.gmail.com>
Message-ID: <CAD-Fghx30L0Rz+p8AAqtf-NL2GJ2cxE8mSkreN8eBCDQfeaWTw@mail.gmail.com>

On Mon, Sep 5, 2011 at 7:44 PM, Daniel Fenn <danielx386 at gmail.com> wrote:
>>> I am currently working on a new version of my wordpress theme, and I am
>>> running into a serious issue. The theme guideline says that I must use
>>> "get_search_form();" to display the search form. Now I am running into an
>>> issue where the form will need different markup for the header, sidebar
>>> and
>>> search result page. (No I am not kidding).

What exactly is different about the HTML markup between these two? It
seems to me that just about anything you want to do to change a search
form around could be accomplished with CSS adjustments.

-Otto

From will at itsananderson.com  Tue Sep  6 01:42:54 2011
From: will at itsananderson.com (Will Anderson)
Date: Mon, 5 Sep 2011 21:42:54 -0400
Subject: [wp-hackers] Search form issue
In-Reply-To: <CAD-Fghx30L0Rz+p8AAqtf-NL2GJ2cxE8mSkreN8eBCDQfeaWTw@mail.gmail.com>
References: <CAJ5Hi2j=uKMJ-b2oif5p5p3T76ZO16KKM5c-E85yynA5kQ3i=g@mail.gmail.com>
	<CAOqAKWDZ9sWAED1L4seE4ZNJT4qPLQH19wBGzaGks1OHpZ+ubg@mail.gmail.com>
	<CAJ5Hi2gLfwvktB0QjYG-s07+XHfxU88Y4e5wFV7g670_ec5WYQ@mail.gmail.com>
	<CAD-Fghx30L0Rz+p8AAqtf-NL2GJ2cxE8mSkreN8eBCDQfeaWTw@mail.gmail.com>
Message-ID: <CAG5CGyN5W4HcOxCJcX+-oDbQaBvQ_6Fy5Mp1q1Qg2GrnKsaWgA@mail.gmail.com>

If you REALLY need to do custom markup for each form (though I'd agree with
Otto. It's probably not necessary), and if you want to use get_search_form,
you could utilize the get_search_form hook in get_search_form with something
like the following and create an empty searchform.php so the default search
form isn't output:

function header_search_form() {
add_action( 'get_search_form', 'show_header_search_form');
get_search_form();
remove_action('get_search_form', 'show_header_search_form');
}

function show_header_search_form() {
// header search form code
}

function sidebar_search_form() {
add_action('get_search_form', 'show_sidebar_search_form');
get_search_form();
remove_action('get_search_form', 'show_sidebar_search_form');
}

function show_sidebar_search_form() {
// sidebar search form code
}

TL;DR - Use some CSS!

-Will

P.S you *could* also use global variables, eg "global $header_search;
$header_search = true; get_search_form(); $header_search = false;" and then
check those in searchform.php, but that's just as clunky as (if not more
clunky than) the other option. Again, CSS is probably the best option.

On Mon, Sep 5, 2011 at 9:28 PM, Otto <otto at ottodestruct.com> wrote:

> On Mon, Sep 5, 2011 at 7:44 PM, Daniel Fenn <danielx386 at gmail.com> wrote:
> >>> I am currently working on a new version of my wordpress theme, and I am
> >>> running into a serious issue. The theme guideline says that I must use
> >>> "get_search_form();" to display the search form. Now I am running into
> an
> >>> issue where the form will need different markup for the header, sidebar
> >>> and
> >>> search result page. (No I am not kidding).
>
> What exactly is different about the HTML markup between these two? It
> seems to me that just about anything you want to do to change a search
> form around could be accomplished with CSS adjustments.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From danieltwc at gmail.com  Tue Sep  6 12:43:57 2011
From: danieltwc at gmail.com (Daniel Westermann-Clark)
Date: Tue, 6 Sep 2011 08:43:57 -0400
Subject: [wp-hackers] WXR export via CLI
In-Reply-To: <4E62C056.4090301@gmail.com>
References: <4E62C056.4090301@gmail.com>
Message-ID: <CANqqJr5ikeHsCFiF49RYbLCS-ji8rgeD_j_SqQZjBJDjPq8N_g@mail.gmail.com>

Most scripting languages have a "mechanize" library that does stateful
web browsing. You login to a website via some form, it remembers the
cookies, and you browse to the admin area.

The WXR process is straightforward using one of these mechanize
libraries. Example:

https://github.com/ufwebadmin/WordPress-Maintenance/blob/master/script/wp_export.pl
https://github.com/ufwebadmin/WordPress-Maintenance/blob/master/lib/WordPress/Maintenance/Mechanize.pm#L90

On Sat, Sep 3, 2011 at 8:03 PM, Charel B?chler
<charel.buechler at gmail.com> wrote:
> Hey,
>
> I'm currently writing a bash script for updating wordpress in the
> command line, and now what I do before backup is, making dumps of my
> database, to ensure that the data won't be lost.
>
> But let's think of this scenario, I have to upgrade wordpress. I make a
> db-dump, but my dump is corrupt. So I am unable to use my dump.
>
> In this case I'd love to get a WXR file, which I can export too, so at
> least, I can import my wordpress content.
>
> Now is there a possibility, to export a file through the command line,
> without writing another plugin which allows me this?
>
> Cheers
> --
> Charel B?chler
> E: charel.buechler at gmail.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-- 
Daniel Westermann-Clark

From wp-hackers at google-adsense-templates.co.uk  Tue Sep  6 15:00:37 2011
From: wp-hackers at google-adsense-templates.co.uk (David Law)
Date: Tue, 06 Sep 2011 16:00:37 +0100
Subject: [wp-hackers] Running jQuery Twice breaks Media Uploader
Message-ID: <36cc67hlmgcmnt5q88hgmo4bl7n5j40n2g@4ax.com>


Have added two image based features to a theme that add a custom meta
box each to posts and pages, adds an uploads/selects an image from the
WordPress core media uploader/viewer. Two new image uploaders.

Both the uploaders work as expected, but having both features turned
on at the same time breaks the WordPress media viewer associated with
the post form (the add an image, add media). Using the Add an Image
button for example will allow uploading a new image or allow selecting
an image from the media viewer, but when clicking the Insert Into Post
button the pop up window becomes a white box with the X in the right
corner and Add an Image on the right. It's not inserting the image
code into the post or closing the pop up window as it should.

Figured it's the javascript, but haven't worked out how to fix it. I
think it's because the javascript is loaded twice on the page.

Both features use this javascript code (loaded twice):

<script type="text/javascript" language="javascript">
jQuery(document).ready(function() {

var header_clicked = "false";

jQuery('#<?php echo $name; ?>_button').click(function() {
jQuery('html').addClass('<?php echo $name; ?>');
formfield = jQuery('#<?php echo $name; ?>').attr('name');
tb_show('', 'media-upload.php?type=image&amp;TB_iframe=true');
header_clicked = "true";
return false;
});

// user inserts file into post. only run custom if user started
process using the above process
// window.send_to_editor(html) is how wp would normally handle the
received data

window.original_send_to_editor = window.send_to_editor;
window.send_to_editor = function(html){

if (header_clicked == "true") {
fileurl1 = jQuery('img',html).attr('src');
jQuery('#<?php echo $name; ?>').val(fileurl1);
tb_remove();
header_clicked = "false";
jQuery('html').removeClass('<?php echo $name; ?>');
} else {
window.original_send_to_editor(html);
}
};

});
</script>

Where $name is from the custom fields ($name is unique for each
uploader : thumb and photothumb).

When I delete one of the javascript instances the core media uploader
works as expected, but the uploader for one the feature stops working
(upload button does nothing). Confirms it's the double use of the
javascript breaking the core media uploader.

Has anyone used this sort of javascript code twice on a page and got
it working or know another way of using the WordPress core media
uploader (if there's another way can use the other way for one of the
uploaders)?

Funny thing is I rarely use the WordPress image uploader, don't like
the formatting of the images, I always upload via FTP and use custom
code. I'd uploaded the theme to about 40 of my sites before
discovering the issue, fortunatly didn't release it to theme users
otherwise I'd be getting hundreds of complaints!

David
-- 
http://www.stallion-theme.com/ Stallion WordPress SEO Theme
http://www.stallion-theme.com/stallion-wordpress-seo-plugin Stallion
WordPress SEO Plugin

From burobjorn at gmail.com  Tue Sep  6 15:28:21 2011
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Tue, 06 Sep 2011 17:28:21 +0200
Subject: [wp-hackers] Howto add network settings to WordPress?
Message-ID: <4E663C15.8040203@gmail.com>

Hi,

I tried to find out if there was some info on how to add Network
settings to the wp-admin/network/settings.php page. AFAIK there is no
such thing or am I overlooking something?

If there's nothing available yet I'm willing to write a first draft (I
have added Network settings using wpmu_options and update_wpmu_options
hooks), but I would like to ask if some other people would be willing to
check my draft and enhance it?

-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Werkdagen:
Van maandag t/m donderdag vanaf 10:00
Vrijdag is voor experimenteren en eigen projecten.

Postbus 14145
3508 SE Utrecht
The Netherlands

tel: +31 6 49 74 78 70
http://www.burobjorn.nl

From andrew at graymerica.com  Tue Sep  6 21:49:25 2011
From: andrew at graymerica.com (Andrew Gray)
Date: Tue, 6 Sep 2011 17:49:25 -0400
Subject: [wp-hackers] only showing buddypress members that are editor or
	author level
Message-ID: <CAD18F26-999A-475A-AE35-D167FA1F1D15@graymerica.com>

Does anyone know how to filter all member lists in Buddypress to only show users with the role of author or higher.

I do not want subscriber level users to show up in the member lists.

I have looked at the bp_has_members function and can not find a way to do it.  I have also looked all over various filters available and I am stumped.

I have written the following code:

add_filter( 'bp_core_get_paged_users_sql', 'bp_filter_only_members' , 1, 9 ); 
add_filter( 'bp_core_get_total_users_sql', 'bp_filter_only_members' , 1, 9 ); 

function bp_filter_only_members($sql, $object)  {
$sql = str_replace('FROM' , ",(SELECT meta_value FROM wp_usermeta WHERE meta_key = 'wp_user_level' AND user_id = u.ID) AS user_level FROM" , $sql ) ; 
$sql = str_replace('ORDER BY' , "HAVING user_level > 1 ORDER BY" , $sql) ; 
return $sql;  
}

The issue I am having is that the count is coming back wrong.

Can anyone think of a better way than going directly to the SQL.   I have thought about meta values and some other hacky ways of doing this,

can anyone help me out on this,

thanks,

Andrew



From johnbillion+wp at gmail.com  Tue Sep  6 21:59:10 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Tue, 6 Sep 2011 22:59:10 +0100
Subject: [wp-hackers] only showing buddypress members that are editor or
 author level
In-Reply-To: <CAD18F26-999A-475A-AE35-D167FA1F1D15@graymerica.com>
References: <CAD18F26-999A-475A-AE35-D167FA1F1D15@graymerica.com>
Message-ID: <CAOqAKWCS9LuF4qPV8Dw4aGww+1DDxsHVSFRtF1B96+ZEopeT+g@mail.gmail.com>

On 6 September 2011 22:49, Andrew Gray <andrew at graymerica.com> wrote:
> Does anyone know how to filter all member lists in Buddypress to only show users with the role of author or higher.

Please use the BuddyPress support forums at http://buddypress.org/support/.

John

From rocio at mecus.es  Thu Sep  8 10:56:28 2011
From: rocio at mecus.es (Rocio Valdivia)
Date: Thu, 8 Sep 2011 12:56:28 +0200
Subject: [wp-hackers] Malware plugin
Message-ID: <CAG+Qienj20M6ihkrdhfsD4V0b6D=atASKU5PD3eDzK9JWy=xQg@mail.gmail.com>

Hi!

I have found a plugin with malware. It adds links of casinos and others
without asking us and even more, when the user activates and deactivates the
plugin, it sends an email to a gmail account with the information of your
url and the action you did.

The plugin is in the wordpress repository and it's the first one that appear
if you search for 'Google translate' within the administration panel.

http://plugins.trac.wordpress.org/changeset/432328
http://plugins.trac.wordpress.org/browser/googletranslate/trunk/googletranslate.php

I'm not sure if this is the right way to report it or if there is another
way to report this kind of things.

Cheers!

-- 
---
Roc?o Valdivia --- Web: http://dorsvenabili.com --- Twitter: @_DorsVenabili

From wordpress at dd32.id.au  Thu Sep  8 10:59:40 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 8 Sep 2011 20:59:40 +1000
Subject: [wp-hackers] Malware plugin
In-Reply-To: <CAG+Qienj20M6ihkrdhfsD4V0b6D=atASKU5PD3eDzK9JWy=xQg@mail.gmail.com>
References: <CAG+Qienj20M6ihkrdhfsD4V0b6D=atASKU5PD3eDzK9JWy=xQg@mail.gmail.com>
Message-ID: <CAL4EHfnUzFwzYu7bjo7NEj6vgpg27x=WsQ_VG_s58MiqP88hpg@mail.gmail.com>

Hi
For reference, the proper location to report this to would have been
plugins at wordpress.org

I'll forward this on for you however.

Cheers
Dion

On 8 September 2011 20:56, Rocio Valdivia <rocio at mecus.es> wrote:
> Hi!
>
> I have found a plugin with malware. It adds links of casinos and others
> without asking us and even more, when the user activates and deactivates the
> plugin, it sends an email to a gmail account with the information of your
> url and the action you did.
>
> The plugin is in the wordpress repository and it's the first one that appear
> if you search for 'Google translate' within the administration panel.
>
> http://plugins.trac.wordpress.org/changeset/432328
> http://plugins.trac.wordpress.org/browser/googletranslate/trunk/googletranslate.php
>
> I'm not sure if this is the right way to report it or if there is another
> way to report this kind of things.
>
> Cheers!
>
> --
> ---
> Roc?o Valdivia --- Web: http://dorsvenabili.com --- Twitter: @_DorsVenabili
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rocio at mecus.es  Thu Sep  8 11:03:49 2011
From: rocio at mecus.es (Rocio Valdivia)
Date: Thu, 8 Sep 2011 13:03:49 +0200
Subject: [wp-hackers] Malware plugin
In-Reply-To: <CAL4EHfnUzFwzYu7bjo7NEj6vgpg27x=WsQ_VG_s58MiqP88hpg@mail.gmail.com>
References: <CAG+Qienj20M6ihkrdhfsD4V0b6D=atASKU5PD3eDzK9JWy=xQg@mail.gmail.com>
	<CAL4EHfnUzFwzYu7bjo7NEj6vgpg27x=WsQ_VG_s58MiqP88hpg@mail.gmail.com>
Message-ID: <CAG+Qie=9J3syoQbTqKm7vpciWkM26KymUgC8m5EmPgBm+gsE4A@mail.gmail.com>

Ok, thanks! :)

--
---
Roc?o Valdivia --- Web: http://dorsvenabili.com --- Twitter: @_DorsVenabili


2011/9/8 Dion Hulse (dd32) <wordpress at dd32.id.au>

> Hi
> For reference, the proper location to report this to would have been
> plugins at wordpress.org
>
> I'll forward this on for you however.
>
> Cheers
> Dion
>
> On 8 September 2011 20:56, Rocio Valdivia <rocio at mecus.es> wrote:
> > Hi!
> >
> > I have found a plugin with malware. It adds links of casinos and others
> > without asking us and even more, when the user activates and deactivates
> the
> > plugin, it sends an email to a gmail account with the information of your
> > url and the action you did.
> >
> > The plugin is in the wordpress repository and it's the first one that
> appear
> > if you search for 'Google translate' within the administration panel.
> >
> > http://plugins.trac.wordpress.org/changeset/432328
> >
> http://plugins.trac.wordpress.org/browser/googletranslate/trunk/googletranslate.php
> >
> > I'm not sure if this is the right way to report it or if there is another
> > way to report this kind of things.
> >
> > Cheers!
> >
> > --
> > ---
> > Roc?o Valdivia --- Web: http://dorsvenabili.com --- Twitter:
> @_DorsVenabili
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
---
Roc?o Valdivia --- Web: http://dorsvenabili.com --- Twitter: @_DorsVenabili

From otto at ottodestruct.com  Thu Sep  8 11:36:39 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 8 Sep 2011 06:36:39 -0500
Subject: [wp-hackers] Malware plugin
In-Reply-To: <CAG+Qie=9J3syoQbTqKm7vpciWkM26KymUgC8m5EmPgBm+gsE4A@mail.gmail.com>
References: <CAG+Qienj20M6ihkrdhfsD4V0b6D=atASKU5PD3eDzK9JWy=xQg@mail.gmail.com>
	<CAL4EHfnUzFwzYu7bjo7NEj6vgpg27x=WsQ_VG_s58MiqP88hpg@mail.gmail.com>
	<CAG+Qie=9J3syoQbTqKm7vpciWkM26KymUgC8m5EmPgBm+gsE4A@mail.gmail.com>
Message-ID: <CAD-FghzXz5oJphyF6tmkNS_mAHxYOrD-AbRT+6au1J+ZsSkwTw@mail.gmail.com>

I removed the plugin from the directory.

-Otto



On Thu, Sep 8, 2011 at 6:03 AM, Rocio Valdivia <rocio at mecus.es> wrote:
> Ok, thanks! :)
>
> --
> ---
> Roc?o Valdivia --- Web: http://dorsvenabili.com --- Twitter: @_DorsVenabili
>
>
> 2011/9/8 Dion Hulse (dd32) <wordpress at dd32.id.au>
>
>> Hi
>> For reference, the proper location to report this to would have been
>> plugins at wordpress.org
>>
>> I'll forward this on for you however.
>>
>> Cheers
>> Dion
>>
>> On 8 September 2011 20:56, Rocio Valdivia <rocio at mecus.es> wrote:
>> > Hi!
>> >
>> > I have found a plugin with malware. It adds links of casinos and others
>> > without asking us and even more, when the user activates and deactivates
>> the
>> > plugin, it sends an email to a gmail account with the information of your
>> > url and the action you did.
>> >
>> > The plugin is in the wordpress repository and it's the first one that
>> appear
>> > if you search for 'Google translate' within the administration panel.
>> >
>> > http://plugins.trac.wordpress.org/changeset/432328
>> >
>> http://plugins.trac.wordpress.org/browser/googletranslate/trunk/googletranslate.php
>> >
>> > I'm not sure if this is the right way to report it or if there is another
>> > way to report this kind of things.
>> >
>> > Cheers!
>> >
>> > --
>> > ---
>> > Roc?o Valdivia --- Web: http://dorsvenabili.com --- Twitter:
>> @_DorsVenabili
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> ---
> Roc?o Valdivia --- Web: http://dorsvenabili.com --- Twitter: @_DorsVenabili
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ozh at ozh.org  Thu Sep  8 13:25:58 2011
From: ozh at ozh.org (Ozh)
Date: Thu, 8 Sep 2011 15:25:58 +0200
Subject: [wp-hackers] Malware plugin
In-Reply-To: <CAD-FghzXz5oJphyF6tmkNS_mAHxYOrD-AbRT+6au1J+ZsSkwTw@mail.gmail.com>
Message-ID: <OF7A062243.1188B7F8-ONC1257905.00499D46-C1257905.0049C9F6@notes.edfgdf.fr>

Otto, while you're at it:
http://plugins.trac.wordpress.org/wiki/DokuwikiMarkup is full of crap

> I removed the plugin from the directory.
> 
> -Otto
> 
> 
> 
> On Thu, Sep 8, 2011 at 6:03 AM, Rocio Valdivia <rocio at mecus.es> wrote:
> > Ok, thanks! :)
> >
> > --
> > ---
> > Roc?o Valdivia --- Web: http://dorsvenabili.com --- Twitter: 
@_DorsVenabili
> >
> >
> > 2011/9/8 Dion Hulse (dd32) <wordpress at dd32.id.au>
> >
> >> Hi
> >> For reference, the proper location to report this to would have been
> >> plugins at wordpress.org
> >>
> >> I'll forward this on for you however.
> >>
> >> Cheers
> >> Dion
> >>
> >> On 8 September 2011 20:56, Rocio Valdivia <rocio at mecus.es> wrote:
> >> > Hi!
> >> >
> >> > I have found a plugin with malware. It adds links of casinos and 
others
> >> > without asking us and even more, when the user activates and 
deactivates
> >> the
> >> > plugin, it sends an email to a gmail account with the information 
of your
> >> > url and the action you did.
> >> >
> >> > The plugin is in the wordpress repository and it's the first one 
that
> >> appear
> >> > if you search for 'Google translate' within the administration 
panel.
> >> >
> >> > http://plugins.trac.wordpress.org/changeset/432328
> >> >
> >> http://plugins.trac.wordpress.
> org/browser/googletranslate/trunk/googletranslate.php
> >> >
> >> > I'm not sure if this is the right way to report it or if there is 
another
> >> > way to report this kind of things.
> >> >
> >> > Cheers!
> >> >
> >> > --
> >> > ---
> >> > Roc?o Valdivia --- Web: http://dorsvenabili.com --- Twitter:
> >> @_DorsVenabili
> >> > _______________________________________________
> >> > wp-hackers mailing list
> >> > wp-hackers at lists.automattic.com
> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> >
> > --
> > ---
> > Roc?o Valdivia --- Web: http://dorsvenabili.com --- Twitter: 
@_DorsVenabili
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From dino at duechiacchiere.it  Thu Sep  8 13:40:02 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Thu, 08 Sep 2011 09:40:02 -0400
Subject: [wp-hackers] Best practices for updating plugin options network-wide
Message-ID: <4E68C5B2.9070801@duechiacchiere.it>

Hi there,

I've developed some plugins that have full support for WPMU. As for most 
plugins out there, I have some options to keep track of, so I stored 
them in the "local" options table for each blog in the network 
(add_option, get_option). Now some users are asking me to implement a 
functionality to allow them to change/override the value of some of 
these options network-wide, while keeping the freedom for single blog 
administrators to further customize them. How would you implement this? 
How about a foreach ($blogids as $blog_id) ?

Also, I was looking at the documentation for edit_comment, and I see 
there's only one hook executed AFTER the comment has been edited. Would 
it be possible to have something like delete_comment / deleted_comment, 
or in other words two hooks, one executed BEFORE the comment is edited 
(useful to see what has been changed) and one AFTER? I could not find 
any tickets for this, should I add one to trac as a feature request?

Thank you,
Dino

From otto at ottodestruct.com  Thu Sep  8 14:36:19 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 8 Sep 2011 09:36:19 -0500
Subject: [wp-hackers] Best practices for updating plugin options
	network-wide
In-Reply-To: <4E68C5B2.9070801@duechiacchiere.it>
References: <4E68C5B2.9070801@duechiacchiere.it>
Message-ID: <CAD-FghwNXRabAWN3ZhoJCJNQPtK84HePLqOV4SGxN1JSpBVheQ@mail.gmail.com>

On Thu, Sep 8, 2011 at 8:40 AM, Dino Termini <dino at duechiacchiere.it> wrote:
> I've developed some plugins that have full support for WPMU. As for most
> plugins out there, I have some options to keep track of, so I stored them in
> the "local" options table for each blog in the network (add_option,
> get_option). Now some users are asking me to implement a functionality to
> allow them to change/override the value of some of these options
> network-wide, while keeping the freedom for single blog administrators to
> further customize them. How would you implement this? How about a foreach
> ($blogids as $blog_id) ?

Use add_site_option and get_site_option to store selected options
globally, then merge the local options with the global ones when you
load them.

Assuming you use arrays of options, something like this would work:

$options = wp_parse_args( get_option('my_options',array() ),
get_site_option('my_options',array() ) );

This way, if you have something in the sitewide array, it will be used
as the default unless the local options exists, in which case it
overrides it.

-Otto

From dino at duechiacchiere.it  Thu Sep  8 14:40:37 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Thu, 08 Sep 2011 10:40:37 -0400
Subject: [wp-hackers] Best practices for updating plugin options
	network-wide
In-Reply-To: <CAD-FghwNXRabAWN3ZhoJCJNQPtK84HePLqOV4SGxN1JSpBVheQ@mail.gmail.com>
References: <4E68C5B2.9070801@duechiacchiere.it>
	<CAD-FghwNXRabAWN3ZhoJCJNQPtK84HePLqOV4SGxN1JSpBVheQ@mail.gmail.com>
Message-ID: <4E68D3E5.3040401@duechiacchiere.it>

Hi, Otto,

thank you for your feedback. That is exactly what I'll do.

Dino

> Use add_site_option and get_site_option to store selected options
> globally, then merge the local options with the global ones when you
> load them.
>
> Assuming you use arrays of options, something like this would work:
>
> $options = wp_parse_args( get_option('my_options',array() ),
> get_site_option('my_options',array() ) );
>
> This way, if you have something in the sitewide array, it will be used
> as the default unless the local options exists, in which case it
> overrides it.
>
> -Otto


From jw at jacksonwhelan.com  Thu Sep  8 19:32:11 2011
From: jw at jacksonwhelan.com (Jackson Whelan)
Date: Thu, 08 Sep 2011 15:32:11 -0400
Subject: [wp-hackers] Advertising on Plugin Option Pages
Message-ID: <4E69183B.7010303@jacksonwhelan.com>

Howdy Hackers,

I stumbled across a plugin from the repository today with Google AdSense 
banners on the options page. With a call to action above it - 'Click 
here if you like this plugin.' - to boot!

Obviously this is a little tacky (aside from violating AdSense's TOS), 
but I was just wondering if there's a policy here? Or maybe this is more 
common than I realize.

Not trying to rat anyone out, just genuinely curious.

Thanks - Jackson

From ipstenu at ipstenu.org  Thu Sep  8 19:36:21 2011
From: ipstenu at ipstenu.org (Mika A. Epstein)
Date: Thu, 08 Sep 2011 14:36:21 -0500
Subject: [wp-hackers] Advertising on Plugin Option Pages
In-Reply-To: <4E69183B.7010303@jacksonwhelan.com>
References: <4E69183B.7010303@jacksonwhelan.com>
Message-ID: <30d06cf5990e9dfbd89068b4fac977c6@ipstenu.org>

Asking for donations is fine.  Even a call to action, so long as it 
keeps itself to the plugin admin page (i.e. it's not all over the main 
dashboard and doesn't interfere with normal WP usage).

The AdSense thing would be worthy of a Spock Eyebrow and a note to 
plugins at wordpress.org, IMO.  We are not the Google Police, but that 
ain't right.

On Thu, 08 Sep 2011 15:32:11 -0400, Jackson Whelan wrote:
> Howdy Hackers,
>
> I stumbled across a plugin from the repository today with Google
> AdSense banners on the options page. With a call to action above it -
> 'Click here if you like this plugin.' - to boot!
>
> Obviously this is a little tacky (aside from violating AdSense's
> TOS), but I was just wondering if there's a policy here? Or maybe 
> this
> is more common than I realize.
>
> Not trying to rat anyone out, just genuinely curious.
>
> Thanks - Jackson
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From pross at pross.org.uk  Thu Sep  8 19:42:18 2011
From: pross at pross.org.uk (Simon Prosser)
Date: Thu, 8 Sep 2011 20:42:18 +0100
Subject: [wp-hackers] Advertising on Plugin Option Pages
In-Reply-To: <30d06cf5990e9dfbd89068b4fac977c6@ipstenu.org>
References: <4E69183B.7010303@jacksonwhelan.com>
	<30d06cf5990e9dfbd89068b4fac977c6@ipstenu.org>
Message-ID: <CAKwUDf2zyMCbQ-kkaiKUneC_A4pUsAD4akhWwRg3eVg5sCPRMg@mail.gmail.com>

Do the ads even work inside a protected area?

On 8 September 2011 20:36, Mika A. Epstein <ipstenu at ipstenu.org> wrote:
> Asking for donations is fine. ?Even a call to action, so long as it keeps
> itself to the plugin admin page (i.e. it's not all over the main dashboard
> and doesn't interfere with normal WP usage).
>
> The AdSense thing would be worthy of a Spock Eyebrow and a note to
> plugins at wordpress.org, IMO. ?We are not the Google Police, but that ain't
> right.
>
> On Thu, 08 Sep 2011 15:32:11 -0400, Jackson Whelan wrote:
>>
>> Howdy Hackers,
>>
>> I stumbled across a plugin from the repository today with Google
>> AdSense banners on the options page. With a call to action above it -
>> 'Click here if you like this plugin.' - to boot!
>>
>> Obviously this is a little tacky (aside from violating AdSense's
>> TOS), but I was just wondering if there's a policy here? Or maybe this
>> is more common than I realize.
>>
>> Not trying to rat anyone out, just genuinely curious.
>>
>> Thanks - Jackson
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
My Blog: http://www.pross.org.uk/
Plugins : http://www.pross.org.uk/plugins/
Themes: http://wordpress.org/extend/themes/profile/pross

From otto at ottodestruct.com  Thu Sep  8 20:06:52 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 8 Sep 2011 15:06:52 -0500
Subject: [wp-hackers] Advertising on Plugin Option Pages
In-Reply-To: <4E69183B.7010303@jacksonwhelan.com>
References: <4E69183B.7010303@jacksonwhelan.com>
Message-ID: <CAD-Fghx-_G8i+D+ASo1dhWPmtHOram6kHQLSs4qHVUycWGguOQ@mail.gmail.com>

On Thu, Sep 8, 2011 at 2:32 PM, Jackson Whelan <jw at jacksonwhelan.com> wrote:
> I stumbled across a plugin from the repository today with Google AdSense
> banners on the options page. With a call to action above it - 'Click here if
> you like this plugin.' - to boot!
>
> Obviously this is a little tacky (aside from violating AdSense's TOS), but I
> was just wondering if there's a policy here? Or maybe this is more common
> than I realize.
>
> Not trying to rat anyone out, just genuinely curious.

In general, things like banner or text link advertising should not be
anywhere in a plugin, including on its settings screen. Advertising on
settings screens is generally ineffective anyway, as ideally users
rarely visit these screens, and the advertising is low quality because
the ad-systems cannot see the page content to determine good ads. So
they?re best just left off entirely. Putting links back to your own
site or to your social-network-system of choice is fine. Furthermore,
if the plugin does include advertising from a third party service, it
must default to completely disabled, in order to prevent tracking
information from being collected from the user without their consent.

TLDR: No, it's not kosher.

-Otto

From jw at jacksonwhelan.com  Thu Sep  8 21:11:53 2011
From: jw at jacksonwhelan.com (Jackson Whelan)
Date: Thu, 08 Sep 2011 17:11:53 -0400
Subject: [wp-hackers] Advertising on Plugin Option Pages
In-Reply-To: <CAD-Fghx-_G8i+D+ASo1dhWPmtHOram6kHQLSs4qHVUycWGguOQ@mail.gmail.com>
References: <4E69183B.7010303@jacksonwhelan.com>
	<CAD-Fghx-_G8i+D+ASo1dhWPmtHOram6kHQLSs4qHVUycWGguOQ@mail.gmail.com>
Message-ID: <4E692F99.1060809@jacksonwhelan.com>

On 9/8/11 4:06 PM, Otto wrote:
> On Thu, Sep 8, 2011 at 2:32 PM, Jackson Whelan<jw at jacksonwhelan.com>  wrote:
>> I stumbled across a plugin from the repository today with Google AdSense
>> banners on the options page. With a call to action above it - 'Click here if
>> you like this plugin.' - to boot!
>>
>> Obviously this is a little tacky (aside from violating AdSense's TOS), but I
>> was just wondering if there's a policy here? Or maybe this is more common
>> than I realize.
>>
>> Not trying to rat anyone out, just genuinely curious.
> In general, things like banner or text link advertising should not be
> anywhere in a plugin, including on its settings screen. Advertising on
> settings screens is generally ineffective anyway, as ideally users
> rarely visit these screens, and the advertising is low quality because
> the ad-systems cannot see the page content to determine good ads. So
> they?re best just left off entirely. Putting links back to your own
> site or to your social-network-system of choice is fine. Furthermore,
> if the plugin does include advertising from a third party service, it
> must default to completely disabled, in order to prevent tracking
> information from being collected from the user without their consent.
>
> TLDR: No, it's not kosher.
Thanks for the replies.

I'll go ahead and drop a line to plugins at wordpress.org.

This one* in particular does indeed load working AdSense banners on the 
option pages, without the ability to disable.

I for one don't enjoy seeing behavior tracking scripts from third 
parties loaded in my wp-admin

- Jackson

* http://wordpress.org/extend/plugins/highslide-integration/



From cailen at kmsm.ca  Thu Sep  8 21:49:52 2011
From: cailen at kmsm.ca (Cailen McQuattie)
Date: Thu, 8 Sep 2011 17:49:52 -0400
Subject: [wp-hackers] Trouble With Custom Sidebars
Message-ID: <CAJmtH5WkDLPGAOEkXu1CEpL5SOXeWjkE_81aj0qUoTzHxjHgHg@mail.gmail.com>

Howdy hackers,

I'm having trouble integrating custom sidebars in different templates.
It seems no matter what, the default sidebar is called every time.

Ex1: I delete get_sidebar() altogether. The default sidebar.php file
is still called and displayed.
Ex2: I add a parameter 'custom' -> get_sidebar('custom') on
page-{slug}.php. Default sidebar.php is still called, AND
sidebar-custom.php is also called.

Obviously I just wanted sidebar-custom.php to be displayed. What the heck?

Thanks for any insight you can provide!

Cailen McQuattie

From mjsafoxy at gmail.com  Thu Sep  8 21:54:35 2011
From: mjsafoxy at gmail.com (Muhammad Ali)
Date: Thu, 8 Sep 2011 22:54:35 +0100
Subject: [wp-hackers] Trouble With Custom Sidebars
In-Reply-To: <CAJmtH5WkDLPGAOEkXu1CEpL5SOXeWjkE_81aj0qUoTzHxjHgHg@mail.gmail.com>
References: <CAJmtH5WkDLPGAOEkXu1CEpL5SOXeWjkE_81aj0qUoTzHxjHgHg@mail.gmail.com>
Message-ID: <CAMGJ0yyqovFMUzVRiBZEj05FpCkD8BT9Hw4DE_h_+iYi9m-zrQ@mail.gmail.com>

Why don't you just mod sidebar.php ?

On 8 September 2011 22:49, Cailen McQuattie <cailen at kmsm.ca> wrote:

> Howdy hackers,
>
> I'm having trouble integrating custom sidebars in different templates.
> It seems no matter what, the default sidebar is called every time.
>
> Ex1: I delete get_sidebar() altogether. The default sidebar.php file
> is still called and displayed.
> Ex2: I add a parameter 'custom' -> get_sidebar('custom') on
> page-{slug}.php. Default sidebar.php is still called, AND
> sidebar-custom.php is also called.
>
> Obviously I just wanted sidebar-custom.php to be displayed. What the heck?
>
> Thanks for any insight you can provide!
>
> Cailen McQuattie
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From cailen at kmsm.ca  Thu Sep  8 22:02:28 2011
From: cailen at kmsm.ca (Cailen McQuattie)
Date: Thu, 8 Sep 2011 18:02:28 -0400
Subject: [wp-hackers] Trouble With Custom Sidebars
In-Reply-To: <CAMGJ0yyqovFMUzVRiBZEj05FpCkD8BT9Hw4DE_h_+iYi9m-zrQ@mail.gmail.com>
References: <CAJmtH5WkDLPGAOEkXu1CEpL5SOXeWjkE_81aj0qUoTzHxjHgHg@mail.gmail.com>
	<CAMGJ0yyqovFMUzVRiBZEj05FpCkD8BT9Hw4DE_h_+iYi9m-zrQ@mail.gmail.com>
Message-ID: <CAJmtH5Uua97MArBu_U_xj3KfEsUT7kWRq3k8DYx+uM-5rgiM1A@mail.gmail.com>

The purpose is to create a test page with its own independent sidebar
that I can put test javascript in.

I'd like to avoid using if statements that will be loaded on every
page of my site, and this is listed in the codex as supported
behaviour but it isn't acting as expected.

I'd like sidebar-custom.php to be loaded on one page of my site, but
whether I use get_sidebar('custom') or an include statement and don't
call get_sidebar() at all, I can't stop sidebar.php from being loaded.

On Thu, Sep 8, 2011 at 5:54 PM, Muhammad Ali <mjsafoxy at gmail.com> wrote:
> Why don't you just mod sidebar.php ?
>
> On 8 September 2011 22:49, Cailen McQuattie <cailen at kmsm.ca> wrote:
>
>> Howdy hackers,
>>
>> I'm having trouble integrating custom sidebars in different templates.
>> It seems no matter what, the default sidebar is called every time.
>>
>> Ex1: I delete get_sidebar() altogether. The default sidebar.php file
>> is still called and displayed.
>> Ex2: I add a parameter 'custom' -> get_sidebar('custom') on
>> page-{slug}.php. Default sidebar.php is still called, AND
>> sidebar-custom.php is also called.
>>
>> Obviously I just wanted sidebar-custom.php to be displayed. What the heck?
>>
>> Thanks for any insight you can provide!
>>
>> Cailen McQuattie
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Cailen McQuattie
KMSM | SalaciousSound
647-338-2896

From glenn at pegden.com  Thu Sep  8 22:09:33 2011
From: glenn at pegden.com (Glenn Pegden)
Date: Thu, 8 Sep 2011 23:09:33 +0100
Subject: [wp-hackers] Advertising on Plugin Option Pages
In-Reply-To: <4E692F99.1060809@jacksonwhelan.com>
References: <4E69183B.7010303@jacksonwhelan.com>
	<CAD-Fghx-_G8i+D+ASo1dhWPmtHOram6kHQLSs4qHVUycWGguOQ@mail.gmail.com>
	<4E692F99.1060809@jacksonwhelan.com>
Message-ID: <CAKJMgTj+PEvqZQPniWQfsiLuYwPN64s15H_wOSrY8D_BCRwiWA@mail.gmail.com>

Whilst I agree this is pretty shady practice (and I welcome plugins doing it
excluded from the svn repo), I'd still like to see things like this
documented so that plugin developers don't have to sit on lists like
wp-hackers and/or submit plugins and wait to see if they pass/fail just know
"the rules" for inclusion in the svn repo.

Despite the only documentation I can find (
http://wordpress.org/extend/plugins/about/) not mentioning them in the
restrictions, a quick google has brought up :-

a. Any commercial plugin (even if GPLed) that doesn't have sufficient
functionality without paying.
b. Anything that contains obfuscated code (through weirdly PayPal buttons
seem exempt).
c. Anything that contains third party advertising (unless off by default).
d. Any plugin written solely to promote a third party service.
e. Anything that adds affiliate links / advertising (presumably unless it
expressly states it does ?).
f. Any forked project that isn't sufficiently different from an existing
plugin.

Is there anything else we should be aware of ?

Also, if third party behaviour tracking scripts in the admin area are now
frowned on, can we blitz all those plugins that spam the dash board with
content from an RSS feed on the authors website (the call to which I assume
is used to track usage at the author's end) ?

Glenn

On Thu, Sep 8, 2011 at 10:11 PM, Jackson Whelan <jw at jacksonwhelan.com>wrote:

> On 9/8/11 4:06 PM, Otto wrote:
>
>> On Thu, Sep 8, 2011 at 2:32 PM, Jackson Whelan<jw at jacksonwhelan.com>
>>  wrote:
>>
>>> I stumbled across a plugin from the repository today with Google AdSense
>>> banners on the options page. With a call to action above it - 'Click here
>>> if
>>> you like this plugin.' - to boot!
>>>
>>> Obviously this is a little tacky (aside from violating AdSense's TOS),
>>> but I
>>> was just wondering if there's a policy here? Or maybe this is more common
>>> than I realize.
>>>
>>> Not trying to rat anyone out, just genuinely curious.
>>>
>> In general, things like banner or text link advertising should not be
>> anywhere in a plugin, including on its settings screen. Advertising on
>> settings screens is generally ineffective anyway, as ideally users
>> rarely visit these screens, and the advertising is low quality because
>> the ad-systems cannot see the page content to determine good ads. So
>> they?re best just left off entirely. Putting links back to your own
>> site or to your social-network-system of choice is fine. Furthermore,
>> if the plugin does include advertising from a third party service, it
>> must default to completely disabled, in order to prevent tracking
>> information from being collected from the user without their consent.
>>
>> TLDR: No, it's not kosher.
>>
> Thanks for the replies.
>
> I'll go ahead and drop a line to plugins at wordpress.org.
>
> This one* in particular does indeed load working AdSense banners on the
> option pages, without the ability to disable.
>
> I for one don't enjoy seeing behavior tracking scripts from third parties
> loaded in my wp-admin
>
> - Jackson
>
> * http://wordpress.org/extend/**plugins/highslide-integration/<http://wordpress.org/extend/plugins/highslide-integration/>
>
>
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>



-- 
Tel: 0113 815 3777
Personal Website: http://glenn.pegden.com
Twitter: @GlennPegden

From otto at ottodestruct.com  Thu Sep  8 23:03:00 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 8 Sep 2011 18:03:00 -0500
Subject: [wp-hackers] Advertising on Plugin Option Pages
In-Reply-To: <CAKJMgTj+PEvqZQPniWQfsiLuYwPN64s15H_wOSrY8D_BCRwiWA@mail.gmail.com>
References: <4E69183B.7010303@jacksonwhelan.com>
	<CAD-Fghx-_G8i+D+ASo1dhWPmtHOram6kHQLSs4qHVUycWGguOQ@mail.gmail.com>
	<4E692F99.1060809@jacksonwhelan.com>
	<CAKJMgTj+PEvqZQPniWQfsiLuYwPN64s15H_wOSrY8D_BCRwiWA@mail.gmail.com>
Message-ID: <CAD-FghzK8TarnEPe1B+Vx8KEUiKrnAqbDcN=Bi1eH52Q4E-6Zw@mail.gmail.com>

On Thu, Sep 8, 2011 at 5:09 PM, Glenn Pegden <glenn at pegden.com> wrote:
> Whilst I agree this is pretty shady practice (and I welcome plugins doing it
> excluded from the svn repo), I'd still like to see things like this
> documented so that plugin developers don't have to sit on lists like
> wp-hackers and/or submit plugins and wait to see if they pass/fail just know
> "the rules" for inclusion in the svn repo.
>
> Is there anything else we should be aware of ?

Working on it.

-Otto

From ronin at braydon.com  Thu Sep  8 23:06:42 2011
From: ronin at braydon.com (Braydon)
Date: Thu, 08 Sep 2011 16:06:42 -0700
Subject: [wp-hackers] Post Preview
Message-ID: <4E694A82.1030203@braydon.com>

Is it possible to query draft posts by year, month, name without the 
post_id ? I'm working on a plug-in where ?p=2312&preview=true isn't a 
sufficient url for a preview.

-- 
Colors of Digital Freedom
http://braydon.com/hacker-t-shirt/


From ipstenu at ipstenu.org  Thu Sep  8 23:43:22 2011
From: ipstenu at ipstenu.org (Mika A Epstein)
Date: Thu, 8 Sep 2011 18:43:22 -0500
Subject: [wp-hackers] Advertising on Plugin Option Pages
In-Reply-To: <CAKJMgTj+PEvqZQPniWQfsiLuYwPN64s15H_wOSrY8D_BCRwiWA@mail.gmail.com>
References: <4E69183B.7010303@jacksonwhelan.com>
	<CAD-Fghx-_G8i+D+ASo1dhWPmtHOram6kHQLSs4qHVUycWGguOQ@mail.gmail.com>
	<4E692F99.1060809@jacksonwhelan.com>
	<CAKJMgTj+PEvqZQPniWQfsiLuYwPN64s15H_wOSrY8D_BCRwiWA@mail.gmail.com>
Message-ID: <2C1B2069-0E19-49BB-9AEC-607C109B4F08@ipstenu.org>

* The plugin most not do anything illegal, or be morally offensive (that?s subjective, we know).

Technically, putting ads from Google in a non-public page is illegal as it violates the AdSense TOS and could come back to hurt the person running the site (they're snarky about stupid things, Google is).

But what Glenn said.  Adding some documentation, if it can be done briefly, is a good idea.  "This list is non-exhaustive..."  My everlasting concern with those is that people say 'Well you have all these rules, and I didn't violate them! Neener!' when the REAL rule is hard to enforce 

'You know what the right thing is, do it.  If you don't, ask.'

----
Mika A Epstein (aka Ipstenu)
http://ipstenu.org

On 8 Sep 2011, at 5:09:33PM, Glenn Pegden wrote:

> Whilst I agree this is pretty shady practice (and I welcome plugins doing it
> excluded from the svn repo), I'd still like to see things like this
> documented so that plugin developers don't have to sit on lists like
> wp-hackers and/or submit plugins and wait to see if they pass/fail just know
> "the rules" for inclusion in the svn repo.
> 
> Despite the only documentation I can find (
> http://wordpress.org/extend/plugins/about/) not mentioning them in the
> restrictions, a quick google has brought up :-
> 
> a. Any commercial plugin (even if GPLed) that doesn't have sufficient
> functionality without paying.
> b. Anything that contains obfuscated code (through weirdly PayPal buttons
> seem exempt).
> c. Anything that contains third party advertising (unless off by default).
> d. Any plugin written solely to promote a third party service.
> e. Anything that adds affiliate links / advertising (presumably unless it
> expressly states it does ?).
> f. Any forked project that isn't sufficiently different from an existing
> plugin.
> 
> Is there anything else we should be aware of ?
> 
> Also, if third party behaviour tracking scripts in the admin area are now
> frowned on, can we blitz all those plugins that spam the dash board with
> content from an RSS feed on the authors website (the call to which I assume
> is used to track usage at the author's end) ?
> 
> Glenn
> 
> On Thu, Sep 8, 2011 at 10:11 PM, Jackson Whelan <jw at jacksonwhelan.com>wrote:
> 
>> On 9/8/11 4:06 PM, Otto wrote:
>> 
>>> On Thu, Sep 8, 2011 at 2:32 PM, Jackson Whelan<jw at jacksonwhelan.com>
>>> wrote:
>>> 
>>>> I stumbled across a plugin from the repository today with Google AdSense
>>>> banners on the options page. With a call to action above it - 'Click here
>>>> if
>>>> you like this plugin.' - to boot!
>>>> 
>>>> Obviously this is a little tacky (aside from violating AdSense's TOS),
>>>> but I
>>>> was just wondering if there's a policy here? Or maybe this is more common
>>>> than I realize.
>>>> 
>>>> Not trying to rat anyone out, just genuinely curious.
>>>> 
>>> In general, things like banner or text link advertising should not be
>>> anywhere in a plugin, including on its settings screen. Advertising on
>>> settings screens is generally ineffective anyway, as ideally users
>>> rarely visit these screens, and the advertising is low quality because
>>> the ad-systems cannot see the page content to determine good ads. So
>>> they?re best just left off entirely. Putting links back to your own
>>> site or to your social-network-system of choice is fine. Furthermore,
>>> if the plugin does include advertising from a third party service, it
>>> must default to completely disabled, in order to prevent tracking
>>> information from being collected from the user without their consent.
>>> 
>>> TLDR: No, it's not kosher.
>>> 
>> Thanks for the replies.
>> 
>> I'll go ahead and drop a line to plugins at wordpress.org.
>> 
>> This one* in particular does indeed load working AdSense banners on the
>> option pages, without the ability to disable.
>> 
>> I for one don't enjoy seeing behavior tracking scripts from third parties
>> loaded in my wp-admin
>> 
>> - Jackson
>> 
>> * http://wordpress.org/extend/**plugins/highslide-integration/<http://wordpress.org/extend/plugins/highslide-integration/>
>> 
>> 
>> 
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>> 
> 
> 
> 
> -- 
> Tel: 0113 815 3777
> Personal Website: http://glenn.pegden.com
> Twitter: @GlennPegden
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wordpress at zed1.com  Fri Sep  9 09:55:54 2011
From: wordpress at zed1.com (Mike Little)
Date: Fri, 9 Sep 2011 10:55:54 +0100
Subject: [wp-hackers] Trouble With Custom Sidebars
In-Reply-To: <CAJmtH5Uua97MArBu_U_xj3KfEsUT7kWRq3k8DYx+uM-5rgiM1A@mail.gmail.com>
References: <CAJmtH5WkDLPGAOEkXu1CEpL5SOXeWjkE_81aj0qUoTzHxjHgHg@mail.gmail.com>
	<CAMGJ0yyqovFMUzVRiBZEj05FpCkD8BT9Hw4DE_h_+iYi9m-zrQ@mail.gmail.com>
	<CAJmtH5Uua97MArBu_U_xj3KfEsUT7kWRq3k8DYx+uM-5rgiM1A@mail.gmail.com>
Message-ID: <CAMb54M0vK5BmzVgtegnLUwz3cw56D2diVEVcd65CzKM2eSYzFg@mail.gmail.com>

Works for me in twentyeleven.

I created a copy of sidebar.php as sidebar-test.php and added a big h1 this
is the test sidebar /h1

In copied page.php  as page-myslug.php and added a call to
get_sidebar('test')

I viewed the page with 'myslug' and only my 'this is the test sidebar'
showed up.

Have you registered another widget area and referenced that in your new
sidebar-custom.php? Is a plugin trying to dynamically change which widget
area is shown?

TBH, this kind of request is more at home in the support forum.
http://wordpress.org/support


Mike
-- 
Mike Little
http://zed1.com/

From johnbillion+wp at gmail.com  Fri Sep  9 15:26:46 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Fri, 9 Sep 2011 16:26:46 +0100
Subject: [wp-hackers] Malware plugin
In-Reply-To: <CAD-FghzXz5oJphyF6tmkNS_mAHxYOrD-AbRT+6au1J+ZsSkwTw@mail.gmail.com>
References: <CAG+Qienj20M6ihkrdhfsD4V0b6D=atASKU5PD3eDzK9JWy=xQg@mail.gmail.com>
	<CAL4EHfnUzFwzYu7bjo7NEj6vgpg27x=WsQ_VG_s58MiqP88hpg@mail.gmail.com>
	<CAG+Qie=9J3syoQbTqKm7vpciWkM26KymUgC8m5EmPgBm+gsE4A@mail.gmail.com>
	<CAD-FghzXz5oJphyF6tmkNS_mAHxYOrD-AbRT+6au1J+ZsSkwTw@mail.gmail.com>
Message-ID: <CAOqAKWDZKu4VjbCUnNfRJ5_UHFDhXFDZp77hU+B_eG=cgQrUEg@mail.gmail.com>

On 8 September 2011 12:36, Otto <otto at ottodestruct.com> wrote:
> I removed the plugin from the directory.
>
> -Otto

Is there a procedure in place to proactively remove malicious or
unwanted code like that found in this plugin? I know this was done
back in June to W3 Total Cache and the other couple of plugins that
were compromised. I ask because even though this plugin is no longer
shown in the directory, any installations with the plugin installed
will still contain the code.

From otto at ottodestruct.com  Fri Sep  9 16:03:40 2011
From: otto at ottodestruct.com (Otto)
Date: Fri, 9 Sep 2011 11:03:40 -0500
Subject: [wp-hackers] Malware plugin
In-Reply-To: <CAOqAKWDZKu4VjbCUnNfRJ5_UHFDhXFDZp77hU+B_eG=cgQrUEg@mail.gmail.com>
References: <CAG+Qienj20M6ihkrdhfsD4V0b6D=atASKU5PD3eDzK9JWy=xQg@mail.gmail.com>
	<CAL4EHfnUzFwzYu7bjo7NEj6vgpg27x=WsQ_VG_s58MiqP88hpg@mail.gmail.com>
	<CAG+Qie=9J3syoQbTqKm7vpciWkM26KymUgC8m5EmPgBm+gsE4A@mail.gmail.com>
	<CAD-FghzXz5oJphyF6tmkNS_mAHxYOrD-AbRT+6au1J+ZsSkwTw@mail.gmail.com>
	<CAOqAKWDZKu4VjbCUnNfRJ5_UHFDhXFDZp77hU+B_eG=cgQrUEg@mail.gmail.com>
Message-ID: <CAD-Fghw2m=o_ckFuwqWdWyND5eu+_jqJMSN5MkxbT0Sgw_uouA@mail.gmail.com>

On Fri, Sep 9, 2011 at 10:26 AM, John Blackbourn
<johnbillion+wp at gmail.com> wrote:
> Is there a procedure in place to proactively remove malicious or
> unwanted code like that found in this plugin? I know this was done
> back in June to W3 Total Cache and the other couple of plugins that
> were compromised. I ask because even though this plugin is no longer
> shown in the directory, any installations with the plugin installed
> will still contain the code.

If it's an obviously popular plugin, then sometimes we'll go in and
patch the code and force an upgrade. This doesn't actually need to
happen all that often.

Most of the time, the plugin is either a) new and intentionally
malicious or b) just buggy. For the malicious intent case, we just
kill the sucker outright and ban the author. For the buggy case, we
email the plugin author, sometimes suggesting a patch, and close the
plugin to prevent further installs. Usually the author patches it,
emails us back, and we reopen the plugin, allowing the upgrade to go
through.

99% of the time, the number of installs of a problem plugin is fairly
small and insignificant. That other 1%, the author is actively
responsive and patches their plugin quickly. It's really just a truism
that popular plugins tend to be well-maintained and have active
authors behind them.

Note that the download counter isn't a real good indicator of the
number of sites actually running the plugin.

-Otto

From pasquale.puzio at gmail.com  Fri Sep  9 16:36:44 2011
From: pasquale.puzio at gmail.com (Pasquale Puzio)
Date: Fri, 9 Sep 2011 18:36:44 +0200
Subject: [wp-hackers] Email batch sending
In-Reply-To: <CAGcUGA_=kExjndR41z0u_0n142dFT+itxUkOdTfJpB_bsrGDbg@mail.gmail.com>
References: <CAGcUGA_=kExjndR41z0u_0n142dFT+itxUkOdTfJpB_bsrGDbg@mail.gmail.com>
Message-ID: <CAGcUGA-b_BrxaopvoapXqLQ-XNAv-72UJ2nkvn3pr=MDD2xoXg@mail.gmail.com>

Hi all,

I would to send thousands of emails automatically partitioning them in a
certain fixed quantity for each hour. These emails are not sent manually but
they are generated by some special events.

I know that WordPress provides a cron system. Anyone of you has some useful
link to suggest me? Is there some plugin or PHP library that can help me?

Thanks

From dino at duechiacchiere.it  Fri Sep  9 16:51:02 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Fri, 09 Sep 2011 12:51:02 -0400
Subject: [wp-hackers] Uninstalling a plugin but keeping its options
Message-ID: <4E6A43F6.6010201@duechiacchiere.it>

Hi all,

as I was saying in a previous message, I've developed a plugin that 
works in multisite environments. Following Otto's advice, I'm using 
add_site_option to store general (default) options that apply to all the 
blogs in the network.

Let's say this plugin is not installed network-wide, but just on some 
blogs in the network. The activation process will still initialize the 
general options, which is okay.

My plugin is programmed, of course, to remove all the options when 
uninstalled. But if blog A uninstalls it, and blog B doesn't, the former 
will cause the general options to be deleted from the database, thus 
creating an inconsistency.

How can I make sure to remove those options only when no other blogs 
have my plugin installed/active?

Thank you,
Dino



From dino at duechiacchiere.it  Fri Sep  9 16:53:39 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Fri, 09 Sep 2011 12:53:39 -0400
Subject: [wp-hackers] Email batch sending
In-Reply-To: <CAGcUGA-b_BrxaopvoapXqLQ-XNAv-72UJ2nkvn3pr=MDD2xoXg@mail.gmail.com>
References: <CAGcUGA_=kExjndR41z0u_0n142dFT+itxUkOdTfJpB_bsrGDbg@mail.gmail.com>
	<CAGcUGA-b_BrxaopvoapXqLQ-XNAv-72UJ2nkvn3pr=MDD2xoXg@mail.gmail.com>
Message-ID: <4E6A4493.1060801@duechiacchiere.it>

I'm implementing this in my plugin. What I do is to keep a queue of the 
email addresses/messages to be processed in wp_options. Then the cron 
job grabs the first X emails from the queue (removing them from the 
queue itself) and does what it's supposed to do :)

Cheers,
Dino

On 9/9/2011 12:36 PM, Pasquale Puzio wrote:
> Hi all,
>
> I would to send thousands of emails automatically partitioning them in a
> certain fixed quantity for each hour. These emails are not sent manually but
> they are generated by some special events.
>
> I know that WordPress provides a cron system. Anyone of you has some useful
> link to suggest me? Is there some plugin or PHP library that can help me?
>
> Thanks
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From helen.y.hou at gmail.com  Fri Sep  9 16:54:27 2011
From: helen.y.hou at gmail.com (Helen Hou-Sandi)
Date: Fri, 9 Sep 2011 11:54:27 -0500
Subject: [wp-hackers] Uninstalling a plugin but keeping its options
In-Reply-To: <4E6A43F6.6010201@duechiacchiere.it>
References: <4E6A43F6.6010201@duechiacchiere.it>
Message-ID: <CAA0DF=_Uy609BV4JHCXGmXGir8vR-e5G4pBLPVTG-7xfpAdL1A@mail.gmail.com>

Do you mean that you're removing the options when you delete it or when you
deactivate it? A single site can deactivate, not delete.

--
Helen Hou-Sandi
http://www.helenhousandi.com


On Fri, Sep 9, 2011 at 11:51 AM, Dino Termini <dino at duechiacchiere.it>wrote:

> Hi all,
>
> as I was saying in a previous message, I've developed a plugin that works
> in multisite environments. Following Otto's advice, I'm using
> add_site_option to store general (default) options that apply to all the
> blogs in the network.
>
> Let's say this plugin is not installed network-wide, but just on some blogs
> in the network. The activation process will still initialize the general
> options, which is okay.
>
> My plugin is programmed, of course, to remove all the options when
> uninstalled. But if blog A uninstalls it, and blog B doesn't, the former
> will cause the general options to be deleted from the database, thus
> creating an inconsistency.
>
> How can I make sure to remove those options only when no other blogs have
> my plugin installed/active?
>
> Thank you,
> Dino
>
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From steve at sltaylor.co.uk  Fri Sep  9 16:56:35 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Fri, 9 Sep 2011 17:56:35 +0100
Subject: [wp-hackers] contributors editing live posts
Message-ID: <CAGEuVU1EHH=-yBX+W1rf5g3htQGejdzzZ_yhR9P668ENU2MpmQ@mail.gmail.com>

I have a client who wants contributors to be able to edit live posts
and submit their revisions for review.

Now, it's not a request I've come across before, but it seems like
quite a standard content management requirement. A contributor creates
a post, submits it for review, it gets published by an editor. But how
do they submit changes? (Obviously we're more in the realm of custom
posts, but I'm using "posts" in this loose sense rather than just
thinking of blog posts.)

Obviously if you needed multiple people to submit edits to a live
post, you'd need a full post version control system. But surely a
contributor could be allowed to edit a live post they created, and
have the "Update" button be "Submit changes for review"? The current
version stays live, and the new one goes into the revisions list... oh
wait, here's where it trips up. There's just "revision" post types. I
guess you'd need a "change-for-review" post type for editors to
approve (or not)?

My main question here are:

1. Has anyone cracked this, with a plugin? I found
http://wordpress.org/extend/plugins/live-drafts/ - it's not quite what
I'm thinking of, but maybe a starting point.

2. If this has never been done before (!), am I thinking about it in
the right way? Is it doable?

3. If it's doable, any plans for it in the core?

Thanks,

Steve

From johnbillion+wp at gmail.com  Fri Sep  9 16:58:12 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Fri, 9 Sep 2011 17:58:12 +0100
Subject: [wp-hackers] Email batch sending
In-Reply-To: <CAGcUGA-b_BrxaopvoapXqLQ-XNAv-72UJ2nkvn3pr=MDD2xoXg@mail.gmail.com>
References: <CAGcUGA_=kExjndR41z0u_0n142dFT+itxUkOdTfJpB_bsrGDbg@mail.gmail.com>
	<CAGcUGA-b_BrxaopvoapXqLQ-XNAv-72UJ2nkvn3pr=MDD2xoXg@mail.gmail.com>
Message-ID: <CAOqAKWCy4DeEpDrq2d32hcN8ztqPR_DxJ4xE768XHSh2DJM5bw@mail.gmail.com>

On 9 September 2011 17:36, Pasquale Puzio <pasquale.puzio at gmail.com> wrote:
> Hi all,
>
> I would to send thousands of emails automatically partitioning them in a
> certain fixed quantity for each hour. These emails are not sent manually but
> they are generated by some special events.

Remember that if you're doing this your server's IP address will
potentially be blacklisted by anti-spam systems. If your emails are
marked as spam by recipients, this will happen *very* quickly. If your
server is on a shared IP address then your host won't like this and
may get your hosting suspended.

WordPress technical specifics aside, you should look into a verified
email delivery service such as PostMark, SendGrid or Return Path.

From helen.y.hou at gmail.com  Fri Sep  9 16:59:15 2011
From: helen.y.hou at gmail.com (Helen Hou-Sandi)
Date: Fri, 9 Sep 2011 11:59:15 -0500
Subject: [wp-hackers] contributors editing live posts
In-Reply-To: <CAGEuVU1EHH=-yBX+W1rf5g3htQGejdzzZ_yhR9P668ENU2MpmQ@mail.gmail.com>
References: <CAGEuVU1EHH=-yBX+W1rf5g3htQGejdzzZ_yhR9P668ENU2MpmQ@mail.gmail.com>
Message-ID: <CAA0DF=_H8H8g7yOZwttwzRtn9kTH=GqXXrxgmsYbgsUwE6SGKQ@mail.gmail.com>

I think this may be what you're looking for:
http://wordpress.org/extend/plugins/revisionary/

--
Helen Hou-Sandi
http://www.helenhousandi.com



On Fri, Sep 9, 2011 at 11:56 AM, Steve Taylor <steve at sltaylor.co.uk> wrote:

> I have a client who wants contributors to be able to edit live posts
> and submit their revisions for review.
>
> Now, it's not a request I've come across before, but it seems like
> quite a standard content management requirement. A contributor creates
> a post, submits it for review, it gets published by an editor. But how
> do they submit changes? (Obviously we're more in the realm of custom
> posts, but I'm using "posts" in this loose sense rather than just
> thinking of blog posts.)
>
> Obviously if you needed multiple people to submit edits to a live
> post, you'd need a full post version control system. But surely a
> contributor could be allowed to edit a live post they created, and
> have the "Update" button be "Submit changes for review"? The current
> version stays live, and the new one goes into the revisions list... oh
> wait, here's where it trips up. There's just "revision" post types. I
> guess you'd need a "change-for-review" post type for editors to
> approve (or not)?
>
> My main question here are:
>
> 1. Has anyone cracked this, with a plugin? I found
> http://wordpress.org/extend/plugins/live-drafts/ - it's not quite what
> I'm thinking of, but maybe a starting point.
>
> 2. If this has never been done before (!), am I thinking about it in
> the right way? Is it doable?
>
> 3. If it's doable, any plans for it in the core?
>
> Thanks,
>
> Steve
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dino at duechiacchiere.it  Fri Sep  9 17:01:40 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Fri, 09 Sep 2011 13:01:40 -0400
Subject: [wp-hackers] Uninstalling a plugin but keeping its options
In-Reply-To: <CAA0DF=_Uy609BV4JHCXGmXGir8vR-e5G4pBLPVTG-7xfpAdL1A@mail.gmail.com>
References: <4E6A43F6.6010201@duechiacchiere.it>
	<CAA0DF=_Uy609BV4JHCXGmXGir8vR-e5G4pBLPVTG-7xfpAdL1A@mail.gmail.com>
Message-ID: <4E6A4674.50902@duechiacchiere.it>

I just learned something new :) I guess I'm good, then! Thank you for 
your lightning-fast reply!

Dino

On 9/9/2011 12:54 PM, Helen Hou-Sandi wrote:
> Do you mean that you're removing the options when you delete it or when you
> deactivate it? A single site can deactivate, not delete.
>
> --
> Helen Hou-Sandi
> http://www.helenhousandi.com
>
>
> On Fri, Sep 9, 2011 at 11:51 AM, Dino Termini<dino at duechiacchiere.it>wrote:
>
>> Hi all,
>>
>> as I was saying in a previous message, I've developed a plugin that works
>> in multisite environments. Following Otto's advice, I'm using
>> add_site_option to store general (default) options that apply to all the
>> blogs in the network.
>>
>> Let's say this plugin is not installed network-wide, but just on some blogs
>> in the network. The activation process will still initialize the general
>> options, which is okay.
>>
>> My plugin is programmed, of course, to remove all the options when
>> uninstalled. But if blog A uninstalls it, and blog B doesn't, the former
>> will cause the general options to be deleted from the database, thus
>> creating an inconsistency.
>>
>> How can I make sure to remove those options only when no other blogs have
>> my plugin installed/active?
>>
>> Thank you,
>> Dino
>>
>>
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com<wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From pasquale.puzio at gmail.com  Fri Sep  9 21:06:13 2011
From: pasquale.puzio at gmail.com (Pasquale Puzio)
Date: Fri, 9 Sep 2011 23:06:13 +0200
Subject: [wp-hackers] Email batch sending
In-Reply-To: <4E6A4493.1060801@duechiacchiere.it>
References: <CAGcUGA_=kExjndR41z0u_0n142dFT+itxUkOdTfJpB_bsrGDbg@mail.gmail.com>
	<CAGcUGA-b_BrxaopvoapXqLQ-XNAv-72UJ2nkvn3pr=MDD2xoXg@mail.gmail.com>
	<4E6A4493.1060801@duechiacchiere.it>
Message-ID: <CAGcUGA9BcggjioQCgHswa8rkCHUMVuMPVD+6uAMhQzMkirRxcg@mail.gmail.com>

Hi Dino,

the plugin will be free? In that case, I would be very grateful if you
will alert me when the plugin will be ready :-)

Thanks

On Fri, Sep 9, 2011 at 6:53 PM, Dino Termini <dino at duechiacchiere.it> wrote:
> I'm implementing this in my plugin. What I do is to keep a queue of the
> email addresses/messages to be processed in wp_options. Then the cron job
> grabs the first X emails from the queue (removing them from the queue
> itself) and does what it's supposed to do :)
>
> Cheers,
> Dino
>
> On 9/9/2011 12:36 PM, Pasquale Puzio wrote:
>>
>> Hi all,
>>
>> I would to send thousands of emails automatically partitioning them in a
>> certain fixed quantity for each hour. These emails are not sent manually
>> but
>> they are generated by some special events.
>>
>> I know that WordPress provides a cron system. Anyone of you has some
>> useful
>> link to suggest me? Is there some plugin or PHP library that can help me?
>>
>> Thanks
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dott. Pasquale Puzio
http://www.pasqualepuzio.it
info at pasqualepuzio.it
340 5026359

From steve at sltaylor.co.uk  Sat Sep 10 12:34:31 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Sat, 10 Sep 2011 13:34:31 +0100
Subject: [wp-hackers] contributors editing live posts
In-Reply-To: <CAA0DF=_H8H8g7yOZwttwzRtn9kTH=GqXXrxgmsYbgsUwE6SGKQ@mail.gmail.com>
References: <CAGEuVU1EHH=-yBX+W1rf5g3htQGejdzzZ_yhR9P668ENU2MpmQ@mail.gmail.com>
	<CAA0DF=_H8H8g7yOZwttwzRtn9kTH=GqXXrxgmsYbgsUwE6SGKQ@mail.gmail.com>
Message-ID: <CAGEuVU24_JLJtD1GZCM+8KSMVvyN_j157VZd2J+LzA04Le-OPA@mail.gmail.com>

Hmm, yes! Thanks :)


On 9 September 2011 17:59, Helen Hou-Sandi <helen.y.hou at gmail.com> wrote:
> I think this may be what you're looking for:
> http://wordpress.org/extend/plugins/revisionary/
>
> --
> Helen Hou-Sandi
> http://www.helenhousandi.com
>
>
>
> On Fri, Sep 9, 2011 at 11:56 AM, Steve Taylor <steve at sltaylor.co.uk> wrote:
>
>> I have a client who wants contributors to be able to edit live posts
>> and submit their revisions for review.
>>
>> Now, it's not a request I've come across before, but it seems like
>> quite a standard content management requirement. A contributor creates
>> a post, submits it for review, it gets published by an editor. But how
>> do they submit changes? (Obviously we're more in the realm of custom
>> posts, but I'm using "posts" in this loose sense rather than just
>> thinking of blog posts.)
>>
>> Obviously if you needed multiple people to submit edits to a live
>> post, you'd need a full post version control system. But surely a
>> contributor could be allowed to edit a live post they created, and
>> have the "Update" button be "Submit changes for review"? The current
>> version stays live, and the new one goes into the revisions list... oh
>> wait, here's where it trips up. There's just "revision" post types. I
>> guess you'd need a "change-for-review" post type for editors to
>> approve (or not)?
>>
>> My main question here are:
>>
>> 1. Has anyone cracked this, with a plugin? I found
>> http://wordpress.org/extend/plugins/live-drafts/ - it's not quite what
>> I'm thinking of, but maybe a starting point.
>>
>> 2. If this has never been done before (!), am I thinking about it in
>> the right way? Is it doable?
>>
>> 3. If it's doable, any plans for it in the core?
>>
>> Thanks,
>>
>> Steve
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From cross at thisismyurl.com  Sun Sep 11 19:22:10 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Sun, 11 Sep 2011 16:22:10 -0300
Subject: [wp-hackers] Limit visible posts to a specific user
In-Reply-To: <4E6A4674.50902@duechiacchiere.it>
References: <4E6A43F6.6010201@duechiacchiere.it>
	<CAA0DF=_Uy609BV4JHCXGmXGir8vR-e5G4pBLPVTG-7xfpAdL1A@mail.gmail.com>
	<4E6A4674.50902@duechiacchiere.it>
Message-ID: <81E7A8B7-09F8-42D6-848C-59F6229BE74B@thisismyurl.com>

Is there a way to limit the posts a specific logged in user can see while viewing the Posts list in the admin? I want to be able to show an author only the posts that they've submitted rather than the posts submitted by all authors.

Chris

From johnbillion+wp at gmail.com  Sun Sep 11 20:04:14 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Sun, 11 Sep 2011 21:04:14 +0100
Subject: [wp-hackers] Limit visible posts to a specific user
In-Reply-To: <81E7A8B7-09F8-42D6-848C-59F6229BE74B@thisismyurl.com>
References: <4E6A43F6.6010201@duechiacchiere.it>
	<CAA0DF=_Uy609BV4JHCXGmXGir8vR-e5G4pBLPVTG-7xfpAdL1A@mail.gmail.com>
	<4E6A4674.50902@duechiacchiere.it>
	<81E7A8B7-09F8-42D6-848C-59F6229BE74B@thisismyurl.com>
Message-ID: <CAOqAKWAHXL1YCrTD4oJcKox6LUUECoem0q_z+vnBT0dhMmmZPw@mail.gmail.com>

On 11 September 2011 20:22, Christopher Ross <cross at thisismyurl.com> wrote:
> Is there a way to limit the posts a specific logged in user can see while viewing the Posts list in the admin? I want to be able to show an author only the posts that they've submitted rather than the posts submitted by all authors.

If the user has the role of Author or Contributor they'll only be
shown their own posts by default. They see a new 'Mine' tab next to
'Published', 'Draft', etc.

You can mimic this functionality for other roles by using the 'author'
query variable, eg. example.com/wp-admin/edit.php?author=3. Probably
be quite easy to knock up a plugin which adds the 'Mine' link for all
roles.

John

From tcbarrett at gmail.com  Sun Sep 11 20:33:26 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Sun, 11 Sep 2011 21:33:26 +0100
Subject: [wp-hackers] Limit visible posts to a specific user
In-Reply-To: <81E7A8B7-09F8-42D6-848C-59F6229BE74B@thisismyurl.com>
References: <4E6A43F6.6010201@duechiacchiere.it>
	<CAA0DF=_Uy609BV4JHCXGmXGir8vR-e5G4pBLPVTG-7xfpAdL1A@mail.gmail.com>
	<4E6A4674.50902@duechiacchiere.it>
	<81E7A8B7-09F8-42D6-848C-59F6229BE74B@thisismyurl.com>
Message-ID: <CAEgmxabnB_jiXYSRsji429fki6Y_cJGn4ymYnFLP9a-or-DoHA@mail.gmail.com>

Hi Chris

On 11 September 2011 20:22, Christopher Ross <cross at thisismyurl.com> wrote:

> Is there a way to limit the posts a specific logged in user can see while
> viewing the Posts list in the admin? I want to be able to show an author
> only the posts that they've submitted rather than the posts submitted by all
> authors.


I tried to blog a trivial example of something like this (from a more
complex real theme) here:
http://www.tcbarrett.com/2011/08/only-show-your-own-posts-in-admin-hiding-others-posts-from-contributors/

Maybe there's something in there to inspire you.

-- 
http://gplus.to/tcbarrett

From lox.dev at knc.nc  Mon Sep 12 03:30:18 2011
From: lox.dev at knc.nc (Lox)
Date: Mon, 12 Sep 2011 14:30:18 +1100
Subject: [wp-hackers] What's the best solution to develop a website in
	sandbox?
In-Reply-To: <CANqqJr5V0r8MmCSxQQpOrB=CXicqJpiejigikryaQ3Tyeo-ZFw@mail.gmail.com>
References: <mailman.7.1310817601.25451.wp-hackers@lists.automattic.com>
	<814DFAF9-A578-460A-833B-2C84D228C9BF@graymerica.com>
	<CANqqJr5V0r8MmCSxQQpOrB=CXicqJpiejigikryaQ3Tyeo-ZFw@mail.gmail.com>
Message-ID: <CA+sFoLq7zQXJ3RHPSEUmKwhcCSeJZkvmwgTC+oJ4VQR=ORXAnQ@mail.gmail.com>

I personnaly dump the database of the dev website to the production one and
I then run the searchreplacedb.php script from here:
http://interconnectit.com/124/search-and-replace-for-wordpress-databases/

2011/7/20 Daniel Westermann-Clark <danieltwc at gmail.com>

> Long ago (probably around the WordPress 2.0 days) I wrote some scripts
> to assist in maintaining WordPress setups like this:
>
> https://github.com/ufwebadmin/WordPress-Maintenance
>
> I recently updated them to support WordPress 3.x and multisite setups.
>
> You can configure each target, like dev, test, and prod, with
> information on where to deploy it and how to connect to the database.
> Deploying is just a matter of typing "wp_deploy.pl -e dev".
> Synchronizing the databases is just "wp_sync_database.pl -f prod -t
> dev".
>
> While the scripts don't handle updating attachment locations, they do
> update the wp_options table with the appropriate siteurl and home
> values.
>
> If I had to start all over again, I would probably go the same route
> as Adriaan with git and post-receive hooks.
>
> On Sat, Jul 16, 2011 at 10:57 AM, Andrew Gray <andrew at graymerica.com>
> wrote:
> > This is how we do it.
> >
> > We set up three versions of the website online:
> >
> > Development
> > Staging
> > Production
> >
> > We then work on the development copy and and make sure we keep a punch
> list of all the DB changes.  These can be plugin settings, WP settings,
> pages/posts/etc added to WP, user level settings.  Basically anything that
> needs to configured or changed on the new version.
> >
> > We work locally, FTP up changes to the development site as we work.  We
> keep all the local files in either dropbox or SVN depending on how big the
> client is and how many developers are working on it.
> >
> > Once the site is approved by the client on development, we check
> everything into source control.
> >
> > Then we test the deployment to the staging server, apply all the changes
> from the punch list.
> >
> > If the changes to the staging site do not break anything, we wait till a
> slow time, or late at night, make the site "Members only" and deploy the
> changes to the live site, do everything on the punch list and hope we did
> not miss anything.
> >
> > For the database, we just copy the live database to the staging and
> development servers and change the URL with an entry in WP config.  I
> normally avoid plugins that keep the URL in their data.   Since most sites
> have content that is altered by the client, we keep the images and upload
> paths pointed to the development server.  This way we do not need to move
> all their images to the development site.  We then go through and update the
> settings to point to development API Keys, FB apps, and other settings.
> >
> > Personally, this whole process is one of the most annoying parts of using
> WP as the basis for websites.   The idea that all the urls are hardcoded all
> over the place in the db still boggles my mind, but I have heard it from the
> mouth (in person) from those in charge that this will never change.
> >
> > We also develop custom apps in Code Ignighter, and I would never in a
> million years, hard code the URL of the deployment  into my DB.  We also
> have switches in the config that changes values based on if the site is in
> development or not.
> >
> > In WP, things like the FB app id, email addresses, active plugins, and
> tons of stuff needs to be changed on a development version if you want to
> actually debug your website.
> >
> > My opinion is, the lack of smooth, standardized deployment tools, is
> keeping WP from being a serious contender for an application development and
> enterprise software product.    Even Magento is easier to move, and that is
> saying something.
> >
> > I am constantly trying to improve our process so we can have fewer
> surprises on deployments (since they happen late at night), and what works
> for me, may not work for you, but since this topic comes up on this list
> every month, it is obvious that the development -> staging -> production
> workflow is an issue.
> >
> > If I had my druthers, I would build some sort of versioning system built
> into to WP that allowed themes, plugins, and developers to register
> transformations that needed to happen in a new version.  Imagine if you
> could just increment the version number of your theme or installation and
> fire off the creation of new widgets, pages, menu items, etc from a standard
> set of scripts.  Then a unit test method to ensure your changes do not break
> something.
> >
> > Or, let me check in all my wp-options changes into source control and
> apply them when I commit.
> >
> > If you build a site one time, on your local machine, and then launch it,
> it is no big deal, but if you are like us and have multiple developers
> working on sites for clients that want major changes constantly and have no
> tolerance for downtime, then it starts to be a pain.
> >
> > thanks for taking the time to read my whole post, or just skimming it,
> >
> > Andrew Gray
> >
> > www.tayloegray.com
>
> --
> Daniel Westermann-Clark
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Lox
lox.dev at knc.nc

From awgandrews at gmail.com  Mon Sep 12 14:30:38 2011
From: awgandrews at gmail.com (Alex Andrews)
Date: Mon, 12 Sep 2011 15:30:38 +0100
Subject: [wp-hackers] More Than On View to the Same Underlying Post Type
Message-ID: <8738554D0E3E4CD4AAD5F527AB03601B@gmail.com>

 Dear all, 

Is it possible to have the same post type, but engineer different inputs on the back end for them? So one has the underlying type 'products' but has different sets of metaboxes for 'knives', 'forks'. 'spoons' and so on.

All the best,

Alex 

-- 
Alex Andrews
Sent with Sparrow (http://www.sparrowmailapp.com/?sig)

From lox.dev at knc.nc  Tue Sep 13 08:25:35 2011
From: lox.dev at knc.nc (Lox)
Date: Tue, 13 Sep 2011 19:25:35 +1100
Subject: [wp-hackers] Using WP_Query to get posts ids
Message-ID: <CA+sFoLp21dxp6QGxAzsUmri8UMcshrfwP8w_-z4o4EamR=4eYg@mail.gmail.com>

Hello,

I would like to use the power of the WP_Query class to select only posts ids
from the database. I do not want to query for all fields and to have all
queried posts cached, for performance reasons.

Is that possible?

Regards.

-- 
Lox
lox.dev at knc.nc

From steve at sltaylor.co.uk  Tue Sep 13 10:33:55 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Tue, 13 Sep 2011 11:33:55 +0100
Subject: [wp-hackers] Using WP_Query to get posts ids
In-Reply-To: <CA+sFoLp21dxp6QGxAzsUmri8UMcshrfwP8w_-z4o4EamR=4eYg@mail.gmail.com>
References: <CA+sFoLp21dxp6QGxAzsUmri8UMcshrfwP8w_-z4o4EamR=4eYg@mail.gmail.com>
Message-ID: <CAGEuVU0OVRbGxUGYJVmJubmYdF5OiMYJd3_xKe1Q9kOa1zSG3w@mail.gmail.com>

You could use $wpdb->get_col, but I'm guessing you need the nice
querying API of WP_Query?

If it's for caching anyway, why not do the query (returning all data),
parse the IDs out into another var with a loop, and cache that var?


On 13 September 2011 09:25, Lox <lox.dev at knc.nc> wrote:
> Hello,
>
> I would like to use the power of the WP_Query class to select only posts ids
> from the database. I do not want to query for all fields and to have all
> queried posts cached, for performance reasons.
>
> Is that possible?
>
> Regards.
>
> --
> Lox
> lox.dev at knc.nc
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From sorich87 at gmail.com  Tue Sep 13 11:03:37 2011
From: sorich87 at gmail.com (Ulrich Sossou)
Date: Tue, 13 Sep 2011 12:03:37 +0100
Subject: [wp-hackers] Using WP_Query to get posts ids
In-Reply-To: <CA+sFoLp21dxp6QGxAzsUmri8UMcshrfwP8w_-z4o4EamR=4eYg@mail.gmail.com>
References: <CA+sFoLp21dxp6QGxAzsUmri8UMcshrfwP8w_-z4o4EamR=4eYg@mail.gmail.com>
Message-ID: <CALfLjLmhfRhr=i-9W0=KLbBKBszSWsJJePcXseUkNiWCH4UVfQ@mail.gmail.com>

You can use the parameter 'fields':

new WP_Query( array( 'fields' => 'ids' ) );

On Tuesday, September 13, 2011, Lox wrote:

> Hello,
>
> I would like to use the power of the WP_Query class to select only posts
> ids
> from the database. I do not want to query for all fields and to have all
> queried posts cached, for performance reasons.
>
> Is that possible?
>
> Regards.
>
> --
> Lox
> lox.dev at knc.nc <javascript:;>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com <javascript:;>
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Ulrich Sossou

--------------------------------------------
Q: Did you know I am committed to release and/or provide lifetime
maintenance and support for *at least 100 free WordPress plugins by the end
of this year*?
A: http://pubpoet.com

From lox.dev at knc.nc  Tue Sep 13 21:24:28 2011
From: lox.dev at knc.nc (Lox)
Date: Wed, 14 Sep 2011 08:24:28 +1100
Subject: [wp-hackers] Using WP_Query to get posts ids
In-Reply-To: <CALfLjLmhfRhr=i-9W0=KLbBKBszSWsJJePcXseUkNiWCH4UVfQ@mail.gmail.com>
References: <CA+sFoLp21dxp6QGxAzsUmri8UMcshrfwP8w_-z4o4EamR=4eYg@mail.gmail.com>
	<CALfLjLmhfRhr=i-9W0=KLbBKBszSWsJJePcXseUkNiWCH4UVfQ@mail.gmail.com>
Message-ID: <CA+sFoLoUWBBhMjaHNkpQ4C5z1gqhNpf-6OTLpVmWthT8GCesgA@mail.gmail.com>

2011/9/13 Ulrich Sossou <sorich87 at gmail.com>

> You can use the parameter 'fields':
>
> new WP_Query( array( 'fields' => 'ids' ) );
>

Thanks a lot, haven't noticed that undocumented parameter. You made my day.

Also the cache_results parameter seems to control the posts caching
behavior.

Regards

-- 
Lox
lox.dev at knc.nc

From jw at jacksonwhelan.com  Tue Sep 13 22:28:01 2011
From: jw at jacksonwhelan.com (Jackson Whelan)
Date: Tue, 13 Sep 2011 18:28:01 -0400
Subject: [wp-hackers] Hookd? Sketchy Plugin Include
Message-ID: <4E6FD8F1.3080400@jacksonwhelan.com>

Howdy,

Trying to help someone in the forums complaining about a plugin 
(http://wordpress.org/extend/plugins/hit-counter-ultimate/) causing 
their site to crawl, and stumbled across this included file which looks 
like it could be used for great malfeasance.

     
http://plugins.svn.wordpress.org/hit-counter-ultimate/trunk/class.resource.php

Makes calls to hookd.org and requests actions and filters to be added. 
Creates a world-writable directory while it's at it as well.

Is anyone familiar with hookd.org? Am I paranoid for thinking this is 
dubious?

As a bonus the plugin emails the author with the URL of the site it was 
activated on, with no user consent or knowledge.

     http://plugins.svn.wordpress.org/hit-counter-ultimate/trunk/image.php

Which would make sense as it would allow them to fine tune the junk they 
deploy.

I found this related post in the forums from a year ago.

     http://wordpress.org/support/topic/my-site-hacked?replies=14

I've already emailed plugins at wordpress.org, but thought I'd ask if 
anyone here was aware of this.

No comment on hit counters being used in 2011, but if you'd like to step 
into the wayback machine just look at the screenshots : )

Thanks! Jackson

From ipstenu at ipstenu.org  Tue Sep 13 23:29:49 2011
From: ipstenu at ipstenu.org (Mika A Epstein)
Date: Tue, 13 Sep 2011 18:29:49 -0500
Subject: [wp-hackers] Hookd? Sketchy Plugin Include
In-Reply-To: <4E6FD8F1.3080400@jacksonwhelan.com>
References: <4E6FD8F1.3080400@jacksonwhelan.com>
Message-ID: <F7A172D0-5445-4A9C-B764-52230A4E6418@ipstenu.org>

Well the emailing the author info without asking for it first is a flat out no-no (and should be reported to plugins at wordpress.org).

----
Mika A Epstein (aka Ipstenu)
http://ipstenu.org

On 13 Sep 2011, at 5:28:01PM, Jackson Whelan wrote:

> Howdy,
> 
> Trying to help someone in the forums complaining about a plugin (http://wordpress.org/extend/plugins/hit-counter-ultimate/) causing their site to crawl, and stumbled across this included file which looks like it could be used for great malfeasance.
> 
>    http://plugins.svn.wordpress.org/hit-counter-ultimate/trunk/class.resource.php
> 
> Makes calls to hookd.org and requests actions and filters to be added. Creates a world-writable directory while it's at it as well.
> 
> Is anyone familiar with hookd.org? Am I paranoid for thinking this is dubious?
> 
> As a bonus the plugin emails the author with the URL of the site it was activated on, with no user consent or knowledge.
> 
>    http://plugins.svn.wordpress.org/hit-counter-ultimate/trunk/image.php
> 
> Which would make sense as it would allow them to fine tune the junk they deploy.
> 
> I found this related post in the forums from a year ago.
> 
>    http://wordpress.org/support/topic/my-site-hacked?replies=14
> 
> I've already emailed plugins at wordpress.org, but thought I'd ask if anyone here was aware of this.
> 
> No comment on hit counters being used in 2011, but if you'd like to step into the wayback machine just look at the screenshots : )
> 
> Thanks! Jackson
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From otto at ottodestruct.com  Wed Sep 14 01:03:45 2011
From: otto at ottodestruct.com (Otto)
Date: Tue, 13 Sep 2011 20:03:45 -0500
Subject: [wp-hackers] Hookd? Sketchy Plugin Include
In-Reply-To: <4E6FD8F1.3080400@jacksonwhelan.com>
References: <4E6FD8F1.3080400@jacksonwhelan.com>
Message-ID: <CAD-FghxRNGZ5dEWaZWp2tT-PmjL7jqXQJ8DDR484Hoq4VFFXrw@mail.gmail.com>

Well, the site itself is down, but Google has a cache of the text, at
least: http://webcache.googleusercontent.com/search?q=cache:TN9eReW6ak0J:hookd.org/+hookd&hl=en&gl=us&strip=1


"hookd is a free plugin management and analytics package for widgets
and plugins. the system runs totally platform independent and allows
you to provide easy to maintain hooks for your plugins, one such use
can be dynamic code updates and automatic rollbacks which are not
currently easily implemented otherwise.
hookd also acts as a plugin analytics system, it will track your
activations per day, deactivations per day, total running sites, usage
figures and much more."

Yeah. This is not allowed in the repository. We consider it to be
"unauthorized collection of user data". Not to mention that when the
site it's contacting goes down, the plugin and the sites trying to
call it stop working.

Bottom line: No making hits to any third party site, for any reason,
without the user's informed, or obvious, consent.

For example, it's fine for a Facebook plugin to make calls to
Facebook, as that's rather obvious. A user activating such a plugin
would expect that to happen. It's not okay for a "Hit Counter" plugin
to be contacting a plugin analytics site (without a checkbox to allow
the user to consent to it).

The plugin has been de-listed, and the author will be contacted
shortly. But next time, email plugins at wordpress.org first.

-Otto



On Tue, Sep 13, 2011 at 5:28 PM, Jackson Whelan <jw at jacksonwhelan.com> wrote:
> Howdy,
>
> Trying to help someone in the forums complaining about a plugin
> (http://wordpress.org/extend/plugins/hit-counter-ultimate/) causing their
> site to crawl, and stumbled across this included file which looks like it
> could be used for great malfeasance.
>
>
> ?http://plugins.svn.wordpress.org/hit-counter-ultimate/trunk/class.resource.php
>
> Makes calls to hookd.org and requests actions and filters to be added.
> Creates a world-writable directory while it's at it as well.
>
> Is anyone familiar with hookd.org? Am I paranoid for thinking this is
> dubious?
>
> As a bonus the plugin emails the author with the URL of the site it was
> activated on, with no user consent or knowledge.
>
> ? ?http://plugins.svn.wordpress.org/hit-counter-ultimate/trunk/image.php
>
> Which would make sense as it would allow them to fine tune the junk they
> deploy.
>
> I found this related post in the forums from a year ago.
>
> ? ?http://wordpress.org/support/topic/my-site-hacked?replies=14
>
> I've already emailed plugins at wordpress.org, but thought I'd ask if anyone
> here was aware of this.
>
> No comment on hit counters being used in 2011, but if you'd like to step
> into the wayback machine just look at the screenshots : )
>
> Thanks! Jackson
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jw at jacksonwhelan.com  Wed Sep 14 01:18:38 2011
From: jw at jacksonwhelan.com (Jackson Whelan)
Date: Tue, 13 Sep 2011 21:18:38 -0400
Subject: [wp-hackers] Hookd? Sketchy Plugin Include
In-Reply-To: <CAD-FghxRNGZ5dEWaZWp2tT-PmjL7jqXQJ8DDR484Hoq4VFFXrw@mail.gmail.com>
References: <4E6FD8F1.3080400@jacksonwhelan.com>
	<CAD-FghxRNGZ5dEWaZWp2tT-PmjL7jqXQJ8DDR484Hoq4VFFXrw@mail.gmail.com>
Message-ID: <7A353031-0C02-4160-BA60-FD9361EC86B3@jacksonwhelan.com>

On Sep 13, 2011, at 9:03 PM, Otto <otto at ottodestruct.com> wrote:

> The plugin has been de-listed, and the author will be contacted
> shortly. But next time, email plugins at wordpress.org first.

First thing I did was email plugins at wordpress.org. Apologies if discussing here is out of order.

Found another using the same hookd class and emailed plugins at wordpress.org

- Jackson

From otto at ottodestruct.com  Wed Sep 14 01:29:47 2011
From: otto at ottodestruct.com (Otto)
Date: Tue, 13 Sep 2011 20:29:47 -0500
Subject: [wp-hackers] Hookd? Sketchy Plugin Include
In-Reply-To: <7A353031-0C02-4160-BA60-FD9361EC86B3@jacksonwhelan.com>
References: <4E6FD8F1.3080400@jacksonwhelan.com>
	<CAD-FghxRNGZ5dEWaZWp2tT-PmjL7jqXQJ8DDR484Hoq4VFFXrw@mail.gmail.com>
	<7A353031-0C02-4160-BA60-FD9361EC86B3@jacksonwhelan.com>
Message-ID: <CAD-FghzV4wnj9UYEC55rCdv9fy4kMY7W1EUGdyc-KDys8VFG3w@mail.gmail.com>

On Tue, Sep 13, 2011 at 8:18 PM, Jackson Whelan <jw at jacksonwhelan.com> wrote:
> First thing I did was email plugins at wordpress.org. Apologies if discussing here is out of order.

Yes, sometimes it takes us longer than a couple hours. :)

And it's not "out of order", it's just unnecessary. Like security
problems, we prefer to handle them with the plugin author privately
first, because in many cases the plugin author was unaware of the
problem and will act quickly to remedy the issue. No need to publicly
give somebody a black eye unless they really deserve it.

> Found another using the same hookd class and emailed plugins at wordpress.org

Cool deal, thanks!

-Otto

From aero.maxx.d at gmail.com  Wed Sep 14 05:32:44 2011
From: aero.maxx.d at gmail.com (Aero Maxx)
Date: Wed, 14 Sep 2011 06:32:44 +0100
Subject: [wp-hackers] Plugin Review Request: WP-Realtime-Sitemap
Message-ID: <4E703C7C.3000609@gmail.com>

Hello Everyone,

This is my first plugin that I have ever written and I would like to 
write some more, but first I would like a bit of feedback on the first 
one, the plugin itself, the code and so on.

Have tried to do things like 1 entry in the database instead of several 
individual options as have googled a lot when was writting it and this 
plugin is fairly old now.

If I could get some feedback good or bad, I dont mind.

http://wordpress.org/extend/plugins/wp-realtime-sitemap/

Thanks for your time
Daniel.

From jayarjo at gmail.com  Wed Sep 14 11:04:55 2011
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Wed, 14 Sep 2011 15:04:55 +0400
Subject: [wp-hackers]  easy way to request ftp credentials and use them,
 when directory to write is not writable?..
Message-ID: <CAM0Wtjc3MSt7w6AzOz3PkMpfDMhgBPW7mcoJjp4-DpuCviF96g@mail.gmail.com>

Plugins usually request ftp credentials when they are not able to
install themselves directly. Is there an easy way to leverage the same
ftp credentials dialog in plugin/theme cases, when there's a necessity
for example to put a file in a directory, which is not writable? Some
Codex page on this maybe?

I thought I'd ask before diving into the code.

Thanks,
Davit Barbakadze

From dan at sproutventure.com  Wed Sep 14 14:02:31 2011
From: dan at sproutventure.com (Dan Cameron)
Date: Wed, 14 Sep 2011 07:02:31 -0700
Subject: [wp-hackers] What's the best solution to develop a website in
 sandbox?
In-Reply-To: <814DFAF9-A578-460A-833B-2C84D228C9BF@graymerica.com>
References: <mailman.7.1310817601.25451.wp-hackers@lists.automattic.com>
	<814DFAF9-A578-460A-833B-2C84D228C9BF@graymerica.com>
Message-ID: <145E59294F36485F82EF8E50E8CF6C49@sproutventure.com>

 Checkout RAMP it sounds like it would do what you need (and then some). 
http://crowdfavorite.com/wordpress/ramp/


From pross at pross.org.uk  Wed Sep 14 15:28:13 2011
From: pross at pross.org.uk (Simon Prosser)
Date: Wed, 14 Sep 2011 16:28:13 +0100
Subject: [wp-hackers] easy way to request ftp credentials and use them,
 when directory to write is not writable?..
In-Reply-To: <CAM0Wtjc3MSt7w6AzOz3PkMpfDMhgBPW7mcoJjp4-DpuCviF96g@mail.gmail.com>
References: <CAM0Wtjc3MSt7w6AzOz3PkMpfDMhgBPW7mcoJjp4-DpuCviF96g@mail.gmail.com>
Message-ID: <CAKwUDf0xn_QkDCRuRMhsfPLiFUNVOj32n44ZHeyFTumoNH8NLA@mail.gmail.com>

http://codex.wordpress.org/Function_Reference/request_filesystem_credentials
There are some exapmles in the links at bottom

On 14 September 2011 12:04, Davit Barbakadze <jayarjo at gmail.com> wrote:
> Plugins usually request ftp credentials when they are not able to
> install themselves directly. Is there an easy way to leverage the same
> ftp credentials dialog in plugin/theme cases, when there's a necessity
> for example to put a file in a directory, which is not writable? Some
> Codex page on this maybe?
>
> I thought I'd ask before diving into the code.
>
> Thanks,
> Davit Barbakadze
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
My Blog: http://www.pross.org.uk/
Plugins : http://www.pross.org.uk/plugins/
Themes: http://wordpress.org/extend/themes/profile/pross

From otto at ottodestruct.com  Wed Sep 14 16:37:28 2011
From: otto at ottodestruct.com (Otto)
Date: Wed, 14 Sep 2011 11:37:28 -0500
Subject: [wp-hackers] easy way to request ftp credentials and use them,
 when directory to write is not writable?..
In-Reply-To: <CAM0Wtjc3MSt7w6AzOz3PkMpfDMhgBPW7mcoJjp4-DpuCviF96g@mail.gmail.com>
References: <CAM0Wtjc3MSt7w6AzOz3PkMpfDMhgBPW7mcoJjp4-DpuCviF96g@mail.gmail.com>
Message-ID: <CAD-Fghyy5YCPqdKMjP3Qii+4eWeCMABXymqTSb06Gfi-98kc9A@mail.gmail.com>

On Wed, Sep 14, 2011 at 6:04 AM, Davit Barbakadze <jayarjo at gmail.com> wrote:
> Plugins usually request ftp credentials when they are not able to
> install themselves directly. Is there an easy way to leverage the same
> ftp credentials dialog in plugin/theme cases, when there's a necessity
> for example to put a file in a directory, which is not writable? Some
> Codex page on this maybe?

I wrote a tutorial on how to do exactly this:
http://ottopress.com/2011/tutorial-using-the-wp_filesystem/

-Otto

From mikeschinkel at newclarity.net  Wed Sep 14 16:44:16 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 14 Sep 2011 12:44:16 -0400
Subject: [wp-hackers] What's the best solution to develop a website in
	sandbox?
In-Reply-To: <145E59294F36485F82EF8E50E8CF6C49@sproutventure.com>
References: <mailman.7.1310817601.25451.wp-hackers@lists.automattic.com>
	<814DFAF9-A578-460A-833B-2C84D228C9BF@graymerica.com>
	<145E59294F36485F82EF8E50E8CF6C49@sproutventure.com>
Message-ID: <D8E72AE9-3F24-45F9-A3A4-F1251F368A1E@newclarity.net>

On Sep 14, 2011, at 10:02 AM, Dan Cameron wrote:
> Checkout RAMP it sounds like it would do what you need (and then some). 
> http://crowdfavorite.com/wordpress/ramp/

RAMP is a really nice product, but it is for content staging, not for development sandboxes.

-Mike 



From jayarjo at gmail.com  Wed Sep 14 18:23:34 2011
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Wed, 14 Sep 2011 22:23:34 +0400
Subject: [wp-hackers] easy way to request ftp credentials and use them,
 when directory to write is not writable?..
In-Reply-To: <CAD-Fghyy5YCPqdKMjP3Qii+4eWeCMABXymqTSb06Gfi-98kc9A@mail.gmail.com>
References: <CAM0Wtjc3MSt7w6AzOz3PkMpfDMhgBPW7mcoJjp4-DpuCviF96g@mail.gmail.com>
	<CAD-Fghyy5YCPqdKMjP3Qii+4eWeCMABXymqTSb06Gfi-98kc9A@mail.gmail.com>
Message-ID: <CAM0WtjcOxjC_pLmkqBauLEDWUgYoEZCV3fCq6oZvZmHR1W16pw@mail.gmail.com>

Thank you guys. Otto, great tutorial.

Davit Barbakadze




On Wed, Sep 14, 2011 at 8:37 PM, Otto <otto at ottodestruct.com> wrote:
> On Wed, Sep 14, 2011 at 6:04 AM, Davit Barbakadze <jayarjo at gmail.com> wrote:
>> Plugins usually request ftp credentials when they are not able to
>> install themselves directly. Is there an easy way to leverage the same
>> ftp credentials dialog in plugin/theme cases, when there's a necessity
>> for example to put a file in a directory, which is not writable? Some
>> Codex page on this maybe?
>
> I wrote a tutorial on how to do exactly this:
> http://ottopress.com/2011/tutorial-using-the-wp_filesystem/
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From gxxaxx at gmail.com  Thu Sep 15 00:51:02 2011
From: gxxaxx at gmail.com (Claude Needham)
Date: Wed, 14 Sep 2011 17:51:02 -0700
Subject: [wp-hackers] Question about use of while in 2010 loop-page and
	loop-single
Message-ID: <CACOUsBXRXr9GMJMU+8Prz0hyt2LxCbMbWFThdj1=BVDL-mJ7WQ@mail.gmail.com>

Forgive the question. But, I'd like to get some insight into why the
Twenty-ten theme uses the following in the loop-single and loop-page.

<?php if ( have_posts() ) while ( have_posts() ) : the_post(); ?>

Other themes I have looked at just use the_post() and don't include
the while mechanism.

I have a natural respect for the Twenty-Ten. So, I'm assuming there is
some behind the scene advantage to this approach.

I know this is probably glaringly obvious. But, could someone either
drop a hint, or point to a resource that would give me some insight
into this.

Thanks in advance,
Claude Needham

From wpcoredev at gmail.com  Thu Sep 15 01:52:55 2011
From: wpcoredev at gmail.com (Ptah Dunbar)
Date: Wed, 14 Sep 2011 21:52:55 -0400
Subject: [wp-hackers] Question about use of while in 2010 loop-page and
	loop-single
In-Reply-To: <CACOUsBXRXr9GMJMU+8Prz0hyt2LxCbMbWFThdj1=BVDL-mJ7WQ@mail.gmail.com>
References: <CACOUsBXRXr9GMJMU+8Prz0hyt2LxCbMbWFThdj1=BVDL-mJ7WQ@mail.gmail.com>
Message-ID: <CAKwK1c8NG1hmtejJ0dFLsVti2dFzTMU6BH=jrv8fk=SUyYcd4w@mail.gmail.com>

*<?php if ( have_posts() ) while ( have_posts() ) : the_post(); ?>*

Basically twentyten checks to see if a post actually exists where as using
just the_post(), you're making an assumption that a post already exists and
it just gets straight to the point (setting up the post data globals).

The preferred way is of course actually checking to make sure a post exists
before calling the_post() to avoid any crazy, random errors that may arise.

Hope that helps!

@ptahdunbar

On Wed, Sep 14, 2011 at 8:51 PM, Claude Needham <gxxaxx at gmail.com> wrote:

> Forgive the question. But, I'd like to get some insight into why the
> Twenty-ten theme uses the following in the loop-single and loop-page.
>
> <?php if ( have_posts() ) while ( have_posts() ) : the_post(); ?>
>
> Other themes I have looked at just use the_post() and don't include
> the while mechanism.
>
> I have a natural respect for the Twenty-Ten. So, I'm assuming there is
> some behind the scene advantage to this approach.
>
> I know this is probably glaringly obvious. But, could someone either
> drop a hint, or point to a resource that would give me some insight
> into this.
>
> Thanks in advance,
> Claude Needham
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at dd32.id.au  Thu Sep 15 01:59:28 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 15 Sep 2011 11:59:28 +1000
Subject: [wp-hackers] Question about use of while in 2010 loop-page and
	loop-single
In-Reply-To: <CAKwK1c8NG1hmtejJ0dFLsVti2dFzTMU6BH=jrv8fk=SUyYcd4w@mail.gmail.com>
References: <CACOUsBXRXr9GMJMU+8Prz0hyt2LxCbMbWFThdj1=BVDL-mJ7WQ@mail.gmail.com>
	<CAKwK1c8NG1hmtejJ0dFLsVti2dFzTMU6BH=jrv8fk=SUyYcd4w@mail.gmail.com>
Message-ID: <CAL4EHfkgcWM+y6GFwqAEVp1yBNfs7SdEZJzfw3mYGOZ17FfEtQ@mail.gmail.com>

You'd be right to however think, that "of course there's a post if
that template is loaded" as that assumption would be correct for the
template files you're looking at (basically anything other than
archive.php and index.php I believe).

TwentyTen/TwentyEleven however are also written to be (hopefully) of
use to new themers, IMHO It's much simpler to explain that "every page
has a loop" and make it consistently as such, not only does it help
new users get used to how to write a theme, but it also makes themes
consistently the same (Which is also a great help when you're
converting a Page template into an Archive template or similar..)

On 15 September 2011 11:52, Ptah Dunbar <wpcoredev at gmail.com> wrote:
> *<?php if ( have_posts() ) while ( have_posts() ) : the_post(); ?>*
>
> Basically twentyten checks to see if a post actually exists where as using
> just the_post(), you're making an assumption that a post already exists and
> it just gets straight to the point (setting up the post data globals).
>
> The preferred way is of course actually checking to make sure a post exists
> before calling the_post() to avoid any crazy, random errors that may arise.
>
> Hope that helps!
>
> @ptahdunbar
>
> On Wed, Sep 14, 2011 at 8:51 PM, Claude Needham <gxxaxx at gmail.com> wrote:
>
>> Forgive the question. But, I'd like to get some insight into why the
>> Twenty-ten theme uses the following in the loop-single and loop-page.
>>
>> <?php if ( have_posts() ) while ( have_posts() ) : the_post(); ?>
>>
>> Other themes I have looked at just use the_post() and don't include
>> the while mechanism.
>>
>> I have a natural respect for the Twenty-Ten. So, I'm assuming there is
>> some behind the scene advantage to this approach.
>>
>> I know this is probably glaringly obvious. But, could someone either
>> drop a hint, or point to a resource that would give me some insight
>> into this.
>>
>> Thanks in advance,
>> Claude Needham
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mda at blogwaffe.com  Thu Sep 15 02:42:21 2011
From: mda at blogwaffe.com (Michael D Adams)
Date: Wed, 14 Sep 2011 19:42:21 -0700
Subject: [wp-hackers] Question about use of while in 2010 loop-page and
	loop-single
In-Reply-To: <CACOUsBXRXr9GMJMU+8Prz0hyt2LxCbMbWFThdj1=BVDL-mJ7WQ@mail.gmail.com>
References: <CACOUsBXRXr9GMJMU+8Prz0hyt2LxCbMbWFThdj1=BVDL-mJ7WQ@mail.gmail.com>
Message-ID: <CAH-8B6so=DsTypMbDf06UMY7vfo9cwiDuiAY22oK1m6BK4-E_w@mail.gmail.com>

On Wed, Sep 14, 2011 at 5:51 PM, Claude Needham <gxxaxx at gmail.com> wrote:
> Forgive the question. But, I'd like to get some insight into why the
> Twenty-ten theme uses the following in the loop-single and loop-page.
>
> <?php if ( have_posts() ) while ( have_posts() ) : the_post(); ?>
>
> Other themes I have looked at just use the_post() and don't include
> the while mechanism.

I think what you're asking is "Why use while when we know there can
only be one post on this view?".

I've seen plugins that hack the query to output multiple posts on
single/page views, so using while in a single/page template is a
little more flexible for people doing crazy things.

Also, always doing it the same way (which Twenty Ten doesn't) can
improve readability/reuse.

Mike

From gxxaxx at gmail.com  Thu Sep 15 03:16:31 2011
From: gxxaxx at gmail.com (Claude Needham)
Date: Wed, 14 Sep 2011 20:16:31 -0700
Subject: [wp-hackers] Question about use of while in 2010 loop-page and
	loop-single
In-Reply-To: <CAH-8B6so=DsTypMbDf06UMY7vfo9cwiDuiAY22oK1m6BK4-E_w@mail.gmail.com>
References: <CACOUsBXRXr9GMJMU+8Prz0hyt2LxCbMbWFThdj1=BVDL-mJ7WQ@mail.gmail.com>
	<CAH-8B6so=DsTypMbDf06UMY7vfo9cwiDuiAY22oK1m6BK4-E_w@mail.gmail.com>
Message-ID: <CACOUsBU_Heh4h-Pr8ninu-dU9wtPkRkG_GQMP9K4ajuMwV_gVA@mail.gmail.com>

On Wed, Sep 14, 2011 at 7:42 PM, Michael D Adams <mda at blogwaffe.com> wrote:
> On Wed, Sep 14, 2011 at 5:51 PM, Claude Needham <gxxaxx at gmail.com> wrote:
> I think what you're asking is "Why use while when we know there can
> only be one post on this view?".
> I've seen plugins that hack the query to output multiple posts on
> single/page views, so using while in a single/page template is a
> little more flexible for people doing crazy things.
> Also, always doing it the same way (which Twenty Ten doesn't) can
> improve readability/reuse.
> Mike

Thanks for all the answers from everyone. They are helpful.

Regards,
Claude

From jayarjo at gmail.com  Thu Sep 15 09:01:44 2011
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Thu, 15 Sep 2011 13:01:44 +0400
Subject: [wp-hackers] easy way to request ftp credentials and use them,
 when directory to write is not writable?..
In-Reply-To: <CAM0WtjcOxjC_pLmkqBauLEDWUgYoEZCV3fCq6oZvZmHR1W16pw@mail.gmail.com>
References: <CAM0Wtjc3MSt7w6AzOz3PkMpfDMhgBPW7mcoJjp4-DpuCviF96g@mail.gmail.com>
	<CAD-Fghyy5YCPqdKMjP3Qii+4eWeCMABXymqTSb06Gfi-98kc9A@mail.gmail.com>
	<CAM0WtjcOxjC_pLmkqBauLEDWUgYoEZCV3fCq6oZvZmHR1W16pw@mail.gmail.com>
Message-ID: <CAM0Wtjf-J8fgrNqu3gz4aLvz4w=5UK5NOq266rRgpcnxU06QNQ@mail.gmail.com>

"$wp_filesystem supports various different file functions, but the
put_contents() function is the easiest one to understand."

I think both resources still lack a good writeup on other available
functions. Should I for example in all cases get the existing file's
contents before passing them to put_contents() function?

Davit Barbakadze

>
> On Wed, Sep 14, 2011 at 8:37 PM, Otto <otto at ottodestruct.com> wrote:
>> On Wed, Sep 14, 2011 at 6:04 AM, Davit Barbakadze <jayarjo at gmail.com> wrote:
>>> Plugins usually request ftp credentials when they are not able to
>>> install themselves directly. Is there an easy way to leverage the same
>>> ftp credentials dialog in plugin/theme cases, when there's a necessity
>>> for example to put a file in a directory, which is not writable? Some
>>> Codex page on this maybe?
>>
>> I wrote a tutorial on how to do exactly this:
>> http://ottopress.com/2011/tutorial-using-the-wp_filesystem/
>>
>> -Otto
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>

From wordpress at dd32.id.au  Thu Sep 15 09:20:27 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 15 Sep 2011 19:20:27 +1000
Subject: [wp-hackers] easy way to request ftp credentials and use them,
 when directory to write is not writable?..
In-Reply-To: <CAM0Wtjf-J8fgrNqu3gz4aLvz4w=5UK5NOq266rRgpcnxU06QNQ@mail.gmail.com>
References: <CAM0Wtjc3MSt7w6AzOz3PkMpfDMhgBPW7mcoJjp4-DpuCviF96g@mail.gmail.com>
	<CAD-Fghyy5YCPqdKMjP3Qii+4eWeCMABXymqTSb06Gfi-98kc9A@mail.gmail.com>
	<CAM0WtjcOxjC_pLmkqBauLEDWUgYoEZCV3fCq6oZvZmHR1W16pw@mail.gmail.com>
	<CAM0Wtjf-J8fgrNqu3gz4aLvz4w=5UK5NOq266rRgpcnxU06QNQ@mail.gmail.com>
Message-ID: <CAL4EHf=efg=Nh93j0UsiiyUNsef=Q4EZQztV8E-CxvBv2A4zOw@mail.gmail.com>

I'm not quite sure of your question there..
put_contents() is used to write data directly to a file, it truncates
the file in the process of doing so.
So yes, You should read the contents of the file first if you wish to
alter the contents, and then write the altered contents back into the
file.
If you simply want to replace the contents of the file, there's not
need to read it.

On 15 September 2011 19:01, Davit Barbakadze <jayarjo at gmail.com> wrote:
> "$wp_filesystem supports various different file functions, but the
> put_contents() function is the easiest one to understand."
>
> I think both resources still lack a good writeup on other available
> functions. Should I for example in all cases get the existing file's
> contents before passing them to put_contents() function?
>
> Davit Barbakadze
>
>>
>> On Wed, Sep 14, 2011 at 8:37 PM, Otto <otto at ottodestruct.com> wrote:
>>> On Wed, Sep 14, 2011 at 6:04 AM, Davit Barbakadze <jayarjo at gmail.com> wrote:
>>>> Plugins usually request ftp credentials when they are not able to
>>>> install themselves directly. Is there an easy way to leverage the same
>>>> ftp credentials dialog in plugin/theme cases, when there's a necessity
>>>> for example to put a file in a directory, which is not writable? Some
>>>> Codex page on this maybe?
>>>
>>> I wrote a tutorial on how to do exactly this:
>>> http://ottopress.com/2011/tutorial-using-the-wp_filesystem/
>>>
>>> -Otto
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From pasquale.puzio at gmail.com  Thu Sep 15 14:57:19 2011
From: pasquale.puzio at gmail.com (Pasquale Puzio)
Date: Thu, 15 Sep 2011 16:57:19 +0200
Subject: [wp-hackers] Email batch sending
In-Reply-To: <CAGcUGA9BcggjioQCgHswa8rkCHUMVuMPVD+6uAMhQzMkirRxcg@mail.gmail.com>
References: <CAGcUGA_=kExjndR41z0u_0n142dFT+itxUkOdTfJpB_bsrGDbg@mail.gmail.com>
	<CAGcUGA-b_BrxaopvoapXqLQ-XNAv-72UJ2nkvn3pr=MDD2xoXg@mail.gmail.com>
	<4E6A4493.1060801@duechiacchiere.it>
	<CAGcUGA9BcggjioQCgHswa8rkCHUMVuMPVD+6uAMhQzMkirRxcg@mail.gmail.com>
Message-ID: <CAGcUGA_C_Hpdu1JpCu1X7fihf2FwQ_F13ANq0ri_oH=vJLG=ew@mail.gmail.com>

Hi guys,

finally I've found a solution! I've installed Alo Email Newsletter
plugin and through the wp_insert_post function (documentation:
http://codex.wordpress.org/Function_Reference/wp_insert_post) I can
automatically create a newsletter post and the plugin cares to start
the sending procedure. That's very cool.

On Fri, Sep 9, 2011 at 11:06 PM, Pasquale Puzio
<pasquale.puzio at gmail.com> wrote:
> Hi Dino,
>
> the plugin will be free? In that case, I would be very grateful if you
> will alert me when the plugin will be ready :-)
>
> Thanks
>
> On Fri, Sep 9, 2011 at 6:53 PM, Dino Termini <dino at duechiacchiere.it> wrote:
>> I'm implementing this in my plugin. What I do is to keep a queue of the
>> email addresses/messages to be processed in wp_options. Then the cron job
>> grabs the first X emails from the queue (removing them from the queue
>> itself) and does what it's supposed to do :)
>>
>> Cheers,
>> Dino
>>
>> On 9/9/2011 12:36 PM, Pasquale Puzio wrote:
>>>
>>> Hi all,
>>>
>>> I would to send thousands of emails automatically partitioning them in a
>>> certain fixed quantity for each hour. These emails are not sent manually
>>> but
>>> they are generated by some special events.
>>>
>>> I know that WordPress provides a cron system. Anyone of you has some
>>> useful
>>> link to suggest me? Is there some plugin or PHP library that can help me?
>>>
>>> Thanks
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Dott. Pasquale Puzio
> http://www.pasqualepuzio.it
> info at pasqualepuzio.it
> 340 5026359
>



-- 
Dott. Pasquale Puzio
http://www.pasqualepuzio.it
info at pasqualepuzio.it
340 5026359

From otto at ottodestruct.com  Thu Sep 15 15:10:35 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 15 Sep 2011 10:10:35 -0500
Subject: [wp-hackers] easy way to request ftp credentials and use them,
 when directory to write is not writable?..
In-Reply-To: <CAM0Wtjf-J8fgrNqu3gz4aLvz4w=5UK5NOq266rRgpcnxU06QNQ@mail.gmail.com>
References: <CAM0Wtjc3MSt7w6AzOz3PkMpfDMhgBPW7mcoJjp4-DpuCviF96g@mail.gmail.com>
	<CAD-Fghyy5YCPqdKMjP3Qii+4eWeCMABXymqTSb06Gfi-98kc9A@mail.gmail.com>
	<CAM0WtjcOxjC_pLmkqBauLEDWUgYoEZCV3fCq6oZvZmHR1W16pw@mail.gmail.com>
	<CAM0Wtjf-J8fgrNqu3gz4aLvz4w=5UK5NOq266rRgpcnxU06QNQ@mail.gmail.com>
Message-ID: <CAD-FghwsMXQJf5DVPqgr3GbyA4WzEX-+Z7=P=h5qenP8gj-ObA@mail.gmail.com>

On Thu, Sep 15, 2011 at 4:01 AM, Davit Barbakadze <jayarjo at gmail.com> wrote:
> I think both resources still lack a good writeup on other available
> functions.

As for other functions, they're pretty straightforward and can be
found in the source easily enough.

get_contents - get an entire file
get_contents_array - get a file but as an array of lines
put_contents - write an entire file
cwd - get the current working directory
chdir - change to another directory
chgrp - change the group of a file
chmod - change the permissions of a file
chown - change the owner of a file
owner - get the owner of a file
getchmod - get the permissions of a file
group - get the group of a file
copy
move
delete - do some obvious things to files
exists
is_file
is_dir
is_readable
is_writable - should be fairly obvious
atime - get last accessed time for a file
mtime - get last modified time for a file
size - get file size
touch
mkdir
rmdir - obvious
dirlist - get a list of directories

There's also things more specific to WP, like:

abspath - get the equivalent ABSPATH for whatever filesystem method
you're using. This may be different because you could have a different
filesystem "remotely" than you would have locally, and so this
function needs to exist to tell you where the abspath is on the remote
system.
wp_content_dir - get the remote content directory. see above.
wp_plugins_dir
wp_themes_dir
wp_lang_dir - I'm sure you get the idea.
find_folder - finds a specific folder on the remote system


-Otto

From tcbarrett at gmail.com  Fri Sep 16 14:54:34 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Fri, 16 Sep 2011 15:54:34 +0100
Subject: [wp-hackers] POST with XML headers
Message-ID: <CAEgmxaZR9a8GohR62SY9Ld=LDL9z99tkkR9rNMAJtATWeZ6ELQ@mail.gmail.com>

Hi

I'm looking at hooking into the free agent central API (
http://www.freeagentcentral.com/developers/freeagent-api)

This is there command line curl syntax:
curl -u userid:password -H 'Accept: application/xml' -H 'Content-Type:
application/xml' \
  https://company.freeagentcentral.com/company/users

My experience with curl related fetching of remote urls in WordPress is
limited to wp_remote_fopen() which just takes the url as an argument. I've
had a read through wp-includes/functions.php without seeing anything that
would let me POST with xml headers. But I'm prone to missing things.

Is there a something in WordPress for me to hook into to do this? Or is this
just a job for curl from basics without any WordPress goodness wrapped
around it?

Thanks,
Tom
-- 
http://gplus.to/tcbarrett

From wordpress at dd32.id.au  Fri Sep 16 15:13:29 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 17 Sep 2011 01:13:29 +1000
Subject: [wp-hackers] POST with XML headers
In-Reply-To: <CAEgmxaZR9a8GohR62SY9Ld=LDL9z99tkkR9rNMAJtATWeZ6ELQ@mail.gmail.com>
References: <CAEgmxaZR9a8GohR62SY9Ld=LDL9z99tkkR9rNMAJtATWeZ6ELQ@mail.gmail.com>
Message-ID: <CAL4EHf=NAhEZFCeoZJCSGz=Q4OcHFyPWARCi3dhws5C4XGj4MQ@mail.gmail.com>

You'll need to look into using the wp_remote_*() set of functions,
which are part of the new HTTP API in WordPress.

References:
 http://codex.wordpress.org/HTTP_API
 http://kovshenin.com/archives/a-note-on-wp_http-and-http-requests-in-wordpress/

adapted from kovshenin's link, the curl command you've got would be
similar to this:

$url = 'https://company.freeagentcentral.com/company/users';
$username = 'your-username';
$password = 'your-password';
$headers = array(
     'Authorization' => 'Basic ' . base64_encode( "$username:$password" ),
     'Accept' => 'application/xml',
     'Content-Type' => 'application/xml'
);
$result = wp_remote_get( $url, array( 'headers' => $headers ) );

print_r($result);

Cheers
Dion / @dd32

On 17 September 2011 00:54, Tom Barrett <tcbarrett at gmail.com> wrote:
> Hi
>
> I'm looking at hooking into the free agent central API (
> http://www.freeagentcentral.com/developers/freeagent-api)
>
> This is there command line curl syntax:
> curl -u userid:password -H 'Accept: application/xml' -H 'Content-Type:
> application/xml' \
> ?https://company.freeagentcentral.com/company/users
>
> My experience with curl related fetching of remote urls in WordPress is
> limited to wp_remote_fopen() which just takes the url as an argument. I've
> had a read through wp-includes/functions.php without seeing anything that
> would let me POST with xml headers. But I'm prone to missing things.
>
> Is there a something in WordPress for me to hook into to do this? Or is this
> just a job for curl from basics without any WordPress goodness wrapped
> around it?
>
> Thanks,
> Tom
> --
> http://gplus.to/tcbarrett
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From pbaylies at gmail.com  Fri Sep 16 21:57:59 2011
From: pbaylies at gmail.com (peter baylies)
Date: Fri, 16 Sep 2011 17:57:59 -0400
Subject: [wp-hackers] Plugin Review Request: WP-Realtime-Sitemap
In-Reply-To: <4E703C7C.3000609@gmail.com>
References: <4E703C7C.3000609@gmail.com>
Message-ID: <CAKkHmjXRMtQcn27FX88DtQgzGAvCOVod6ESP1ipf6eyemR-KuQ@mail.gmail.com>

Daniel,

A lot of this looks pretty good to me; one cosmetic detail I noticed about
your plugin -- it looks like a lot of code, but a fair bit of that relates
to configuring the plugin settings. You could clean this up by using, for
example, an array of setting ids coupled with a for() loop, to cut down on
redundant code. Also I'd suggest using a case default statement for the most
common case, and putting several case labels together in a row to take care
of other fairly common cases.

Example:

                                case 'tags_show_post_count':
                                        $values = array(
                                                true            =>
__('True', 'wp-realtime-sitemap'),
                                                false           => __('False
(Default)', 'wp-realtime-sitemap'),
                                        );
                                        break;

                                case 'tags_hide_empty':
                                        $values = array(
                                                true            => __('True
(Default)', 'wp-realtime-sitemap'),
                                                false           =>
__('False', 'wp-realtime-sitemap'),
                                        );
                                        break;

Try this instead:

                                case 'tags_show_post_count':
                                case 'tags_hide_empty':
                                        $values = array(
                                                true            => __('True
(Default)', 'wp-realtime-sitemap'),
                                                false           =>
__('False', 'wp-realtime-sitemap'),
                                        );
                                        break;

Cheers,

 -- Peter Baylies
Semper Fi Web Design

On Wed, Sep 14, 2011 at 1:32 AM, Aero Maxx <aero.maxx.d at gmail.com> wrote:

> Hello Everyone,
>
> This is my first plugin that I have ever written and I would like to write
> some more, but first I would like a bit of feedback on the first one, the
> plugin itself, the code and so on.
>
> Have tried to do things like 1 entry in the database instead of several
> individual options as have googled a lot when was writting it and this
> plugin is fairly old now.
>
> If I could get some feedback good or bad, I dont mind.
>
> http://wordpress.org/extend/**plugins/wp-realtime-sitemap/<http://wordpress.org/extend/plugins/wp-realtime-sitemap/>
>
> Thanks for your time
> Daniel.
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From aero.maxx.d at gmail.com  Sat Sep 17 13:07:49 2011
From: aero.maxx.d at gmail.com (Aero Maxx)
Date: Sat, 17 Sep 2011 14:07:49 +0100
Subject: [wp-hackers] Plugin Review Request: WP-Realtime-Sitemap
In-Reply-To: <CAKkHmjXRMtQcn27FX88DtQgzGAvCOVod6ESP1ipf6eyemR-KuQ@mail.gmail.com>
References: <4E703C7C.3000609@gmail.com>
	<CAKkHmjXRMtQcn27FX88DtQgzGAvCOVod6ESP1ipf6eyemR-KuQ@mail.gmail.com>
Message-ID: <4E749BA5.1020003@gmail.com>

Hi Peter,

Ok great stuff, thanks very much!

Anyone else with good/bad feedback on my plugin ?
http://wordpress.org/extend/plugins/wp-realtime-sitemap/

On 16/09/2011 22:57, peter baylies wrote:
> Daniel,
>
> A lot of this looks pretty good to me; one cosmetic detail I noticed about
> your plugin -- it looks like a lot of code, but a fair bit of that relates
> to configuring the plugin settings. You could clean this up by using, for
> example, an array of setting ids coupled with a for() loop, to cut down on
> redundant code. Also I'd suggest using a case default statement for the most
> common case, and putting several case labels together in a row to take care
> of other fairly common cases.
>
> Example:
>
>                                  case 'tags_show_post_count':
>                                          $values = array(
>                                                  true            =>
> __('True', 'wp-realtime-sitemap'),
>                                                  false           =>  __('False
> (Default)', 'wp-realtime-sitemap'),
>                                          );
>                                          break;
>
>                                  case 'tags_hide_empty':
>                                          $values = array(
>                                                  true            =>  __('True
> (Default)', 'wp-realtime-sitemap'),
>                                                  false           =>
> __('False', 'wp-realtime-sitemap'),
>                                          );
>                                          break;
>
> Try this instead:
>
>                                  case 'tags_show_post_count':
>                                  case 'tags_hide_empty':
>                                          $values = array(
>                                                  true            =>  __('True
> (Default)', 'wp-realtime-sitemap'),
>                                                  false           =>
> __('False', 'wp-realtime-sitemap'),
>                                          );
>                                          break;
>
> Cheers,
>
>   -- Peter Baylies
> Semper Fi Web Design
>
> On Wed, Sep 14, 2011 at 1:32 AM, Aero Maxx<aero.maxx.d at gmail.com>  wrote:
>
>> Hello Everyone,
>>
>> This is my first plugin that I have ever written and I would like to write
>> some more, but first I would like a bit of feedback on the first one, the
>> plugin itself, the code and so on.
>>
>> Have tried to do things like 1 entry in the database instead of several
>> individual options as have googled a lot when was writting it and this
>> plugin is fairly old now.
>>
>> If I could get some feedback good or bad, I dont mind.
>>
>> http://wordpress.org/extend/**plugins/wp-realtime-sitemap/<http://wordpress.org/extend/plugins/wp-realtime-sitemap/>
>>
>> Thanks for your time
>> Daniel.
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com<wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From gxxaxx at gmail.com  Sun Sep 18 00:54:22 2011
From: gxxaxx at gmail.com (Claude Needham)
Date: Sat, 17 Sep 2011 17:54:22 -0700
Subject: [wp-hackers] Best practice for early access of post data
Message-ID: <CACOUsBV4=BmuGDcnpEqKj+7EO5MPvdt9t2kc1Unfh3hpr22aog@mail.gmail.com>

I am trying to customer the look in a theme for different "sections"
of the website.
Each section is defined by a set of categories.

In order to make this work I was going to add a class to the wrapper div

But this means accessing information from the post(s) earlier than the
loop is typically invoked.

Is there a proper way to get a peek at the data from the post(s)
without messing up the loop -- and who knows how many plugins and
filters?

Thanks in advance for any clues.

Regards,
Claude Needham

From mikeschinkel at newclarity.net  Sun Sep 18 01:17:52 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 17 Sep 2011 21:17:52 -0400
Subject: [wp-hackers] Best practice for early access of post data
In-Reply-To: <CACOUsBV4=BmuGDcnpEqKj+7EO5MPvdt9t2kc1Unfh3hpr22aog@mail.gmail.com>
References: <CACOUsBV4=BmuGDcnpEqKj+7EO5MPvdt9t2kc1Unfh3hpr22aog@mail.gmail.com>
Message-ID: <AB5CCBF5-128E-4492-B46F-27524C9C8C98@newclarity.net>

On Sep 17, 2011, at 8:54 PM, Claude Needham wrote:
> Is there a proper way to get a peek at the data from the post(s)
> without messing up the loop -- and who knows how many plugins and
> filters?

The 'posts_results' hook will show you the array of posts and the query object immediately after it runs the query.  Does that help?

-Mike 


From gxxaxx at gmail.com  Sun Sep 18 03:05:34 2011
From: gxxaxx at gmail.com (Claude Needham)
Date: Sat, 17 Sep 2011 20:05:34 -0700
Subject: [wp-hackers] Best practice for early access of post data
In-Reply-To: <AB5CCBF5-128E-4492-B46F-27524C9C8C98@newclarity.net>
References: <CACOUsBV4=BmuGDcnpEqKj+7EO5MPvdt9t2kc1Unfh3hpr22aog@mail.gmail.com>
	<AB5CCBF5-128E-4492-B46F-27524C9C8C98@newclarity.net>
Message-ID: <CACOUsBVAF+OHh1JEqBOSdmHDP-k1Rw71Vj1O=7oswwn-Ohn7VA@mail.gmail.com>

On Sat, Sep 17, 2011 at 6:17 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> On Sep 17, 2011, at 8:54 PM, Claude Needham wrote:
>> Is there a proper way to get a peek at the data from the post(s)
>> without messing up the loop -- and who knows how many plugins and
>> filters?
>
> The 'posts_results' hook will show you the array of posts and the query object immediately after it runs the query. ?Does that help?
>
> -Mike

Thanks for the suggestion. It put me on the right track.

However, after looking into it, I decided that 'the_posts' might be a
better filter.
'the_posts' is called after a fair bit of filtering.

But this gets me in the right ballpark. I just have to be careful
cause many different plugins and widgets also run through this code --
for example the recent posts widget.

Thanks again,
Claude

From wordpress at zed1.com  Sun Sep 18 16:15:56 2011
From: wordpress at zed1.com (Mike Little)
Date: Sun, 18 Sep 2011 17:15:56 +0100
Subject: [wp-hackers] Best practice for early access of post data
In-Reply-To: <CACOUsBVAF+OHh1JEqBOSdmHDP-k1Rw71Vj1O=7oswwn-Ohn7VA@mail.gmail.com>
References: <CACOUsBV4=BmuGDcnpEqKj+7EO5MPvdt9t2kc1Unfh3hpr22aog@mail.gmail.com>
	<AB5CCBF5-128E-4492-B46F-27524C9C8C98@newclarity.net>
	<CACOUsBVAF+OHh1JEqBOSdmHDP-k1Rw71Vj1O=7oswwn-Ohn7VA@mail.gmail.com>
Message-ID: <CAMb54M0NJ5y1GD2ZSOoL0AmAZok+qp7yOaL0JRX-ine5Z4XREg@mail.gmail.com>

On Sun, Sep 18, 2011 at 04:05, Claude Needham <gxxaxx at gmail.com> wrote:

> On Sat, Sep 17, 2011 at 6:17 PM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
> > On Sep 17, 2011, at 8:54 PM, Claude Needham wrote:
> >> Is there a proper way to get a peek at the data from the post(s)
> >> without messing up the loop -- and who knows how many plugins and
> >> filters?
> >
> > The 'posts_results' hook will show you the array of posts and the query
> object immediately after it runs the query.  Does that help?
> >
> > -Mike
>
>
You might also want to look into the 'body_class' filter. Most css
customisation based on the contents of the page can be done by simply adding
a class to the body tag.

If I want to peek at the content of the loop for the purposes of modifying
something in the theme (usually in the header), I hook onto
action 'template_redirect', which is suitably late in the process,
but guaranteed to be before any theme code has run (apart from earlier hooks
from functions.php). I can safely loop through the results detect/extract
what I need, then rewind_posts() when I've finished to put everything back.


Mike
-- 
Mike Little
http://zed1.com/

From wp-hackers at striderweb.com  Sun Sep 18 19:00:17 2011
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sun, 18 Sep 2011 14:00:17 -0500
Subject: [wp-hackers] Make a function available to other plugins
In-Reply-To: <CAK3PZGud66yfaCvQV6AMiy7Co2bin7HcAUEoENmxVXoJ+z7DLA@mail.gmail.com>
References: <CAK3PZGud66yfaCvQV6AMiy7Co2bin7HcAUEoENmxVXoJ+z7DLA@mail.gmail.com>
Message-ID: <1F256821-140C-4453-AD40-F0E1C0295831@striderweb.com>

Note that you can also add custom actions and filters to your plugins.  That is, you can put a do_action in your plugin, which other plugins can hook into by using the equivalent add_action.

-- 
Stephen Rider
http://striderweb.com/


On Aug 10, 2011, at 6:12 AM, Alex Hempton-Smith wrote:

> I'm developing a plugin that other plugins can integrate with, they will
> need access to a function within my plugin. Obviously, if their plugin is
> loaded before mine, it will result in an error. How do I ensure that my
> plugin will be loaded first?
> 
> Likewise, if I want to build in some compatibility with another plugin
> (BuddyPress), how do I make sure that is loaded before mine?
> 
> I could use 'plugins_loaded' with a high priority, but that doesn't seem
> very foolproof to me?
> 
> - - - -
> Kind regards,
> Alex Hempton-Smith
> 
> www.alexhemptonsmith.com
> www.twitter.com/hempsworth
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Sun Sep 18 22:39:07 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 18 Sep 2011 18:39:07 -0400
Subject: [wp-hackers] Make a function available to other plugins
In-Reply-To: <1F256821-140C-4453-AD40-F0E1C0295831@striderweb.com>
References: <CAK3PZGud66yfaCvQV6AMiy7Co2bin7HcAUEoENmxVXoJ+z7DLA@mail.gmail.com>
	<1F256821-140C-4453-AD40-F0E1C0295831@striderweb.com>
Message-ID: <E77540CB-00A7-4270-BEDE-1B44C1B4FD2E@newclarity.net>

> On Aug 10, 2011, at 6:12 AM, Alex Hempton-Smith wrote:
>> I'm developing a plugin that other plugins can integrate with, they will
>> need access to a function within my plugin. Obviously, if their plugin is
>> loaded before mine, it will result in an error. How do I ensure that my
>> plugin will be loaded first?
>> 
>> Likewise, if I want to build in some compatibility with another plugin
>> (BuddyPress), how do I make sure that is loaded before mine?
>> 
>> I could use 'plugins_loaded' with a high priority, but that doesn't seem
>> very foolproof to me?

Stephen Rider's suggestion to create your own hooks with "do_action()" is a great way to handle extensibility. 

However, you should also code your plugins such that they have no dependencies until ON or AFTER the 'plugins_loaded' and 'muplugins_loaded' hooks fire. And you should initialize the independent aspects of your plugin for each page load using the 'init' and 'admin_init' hooks so they are ready for the code that you want to run in the plugins_loaded hook.  

If you follow these approaches you should (almost never?) run into any conflicts with load order. Hope this helps.

-Mike

From dianakac at gmail.com  Mon Sep 19 04:26:44 2011
From: dianakac at gmail.com (Diana K. Cury)
Date: Mon, 19 Sep 2011 01:26:44 -0300
Subject: [wp-hackers] Best approach
Message-ID: <004101cc7684$58edc580$0100a8c0@corpfe1f3cd943>

Hello,

I'm using taxonomies for country States in my plugin, what could be te best approach for allow users to select cities?

There are a lot of cities, so taxonomies can handle this, at all? Or metadata should keep this?

Taxonomies could handle cities within (hierarchical taxos), but not sure if too much taxonomies will work.


Thanks for any idea.

From stas at nerd.ro  Mon Sep 19 04:39:03 2011
From: stas at nerd.ro (Stas Suscov)
Date: Mon, 19 Sep 2011 07:39:03 +0300
Subject: [wp-hackers] Best approach
Message-ID: <2qpo8josjv591nsj0feli4kf.1316407143588@email.android.com>

I was working recently on an events plugin and the solution I found was to offer the end-user both: the available list of locations and a way to fill-in a new location if that's missing. The good part here is that your code will always work, even if your next user is from a location you never heard of.
There was also no need of hierarchical organization, a simple City, ST(ATE) entry was enough to create a new term. But it depends on the filters you might need when searching posts.

"Diana K. Cury" <dianakac at gmail.com> wrote:

>Hello,
>
>I'm using taxonomies for country States in my plugin, what could be te best approach for allow users to select cities?
>
>There are a lot of cities, so taxonomies can handle this, at all? Or metadata should keep this?
>
>Taxonomies could handle cities within (hierarchical taxos), but not sure if too much taxonomies will work.
>
>
>Thanks for any idea.
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers

From otto at ottodestruct.com  Mon Sep 19 05:55:18 2011
From: otto at ottodestruct.com (Otto)
Date: Mon, 19 Sep 2011 00:55:18 -0500
Subject: [wp-hackers] Best approach
In-Reply-To: <004101cc7684$58edc580$0100a8c0@corpfe1f3cd943>
References: <004101cc7684$58edc580$0100a8c0@corpfe1f3cd943>
Message-ID: <CAD-FghwStC+pMCSJULj362=J-2HBx-DKrTfO2kEMkfT-r1M9NQ@mail.gmail.com>

On Sun, Sep 18, 2011 at 11:26 PM, Diana K. Cury <dianakac at gmail.com> wrote:
> I'm using taxonomies for country States in my plugin, what could be te best approach for allow users to select cities?
>
> There are a lot of cities, so taxonomies can handle this, at all? Or metadata should keep this?
>
> Taxonomies could handle cities within (hierarchical taxos), but not sure if too much taxonomies will work.

That depends on how you're using them.

Are the names of these cities important *as data*? That is, are you
displaying them, ordering by them, doing anything on the string of the
city name itself?

If so, then use meta instead. If not, then taxonomies are fine.

Taxonomies are all about the *grouping* of the objects in them. If the
group is more important than the label of the group, then taxonomies
are the way to go. If the label itself is meaningful data in the sense
of it being data that you're using in some other way, then meta is
better.

-Otto

From tcbarrett at gmail.com  Mon Sep 19 09:27:15 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Mon, 19 Sep 2011 10:27:15 +0100
Subject: [wp-hackers] POST with XML headers
In-Reply-To: <CAL4EHf=NAhEZFCeoZJCSGz=Q4OcHFyPWARCi3dhws5C4XGj4MQ@mail.gmail.com>
References: <CAEgmxaZR9a8GohR62SY9Ld=LDL9z99tkkR9rNMAJtATWeZ6ELQ@mail.gmail.com>
	<CAL4EHf=NAhEZFCeoZJCSGz=Q4OcHFyPWARCi3dhws5C4XGj4MQ@mail.gmail.com>
Message-ID: <CAEgmxaaOBwHTXVhH3KWB94R3QN7ixq0r0BJkT_We6QFKoSaRZw@mail.gmail.com>

Thanks Dion, that is exactly what I was looking for.

On 16 September 2011 16:13, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:

> You'll need to look into using the wp_remote_*() set of functions,
> which are part of the new HTTP API in WordPress.
>
> References:
>  http://codex.wordpress.org/HTTP_API
>
> http://kovshenin.com/archives/a-note-on-wp_http-and-http-requests-in-wordpress/
>
> adapted from kovshenin's link, the curl command you've got would be
> similar to this:
>
> $url = 'https://company.freeagentcentral.com/company/users';
> $username = 'your-username';
> $password = 'your-password';
> $headers = array(
>     'Authorization' => 'Basic ' . base64_encode( "$username:$password" ),
>     'Accept' => 'application/xml',
>     'Content-Type' => 'application/xml'
> );
> $result = wp_remote_get( $url, array( 'headers' => $headers ) );
>
> print_r($result);
>
> Cheers
> Dion / @dd32
>
> On 17 September 2011 00:54, Tom Barrett <tcbarrett at gmail.com> wrote:
> > Hi
> >
> > I'm looking at hooking into the free agent central API (
> > http://www.freeagentcentral.com/developers/freeagent-api)
> >
> > This is there command line curl syntax:
> > curl -u userid:password -H 'Accept: application/xml' -H 'Content-Type:
> > application/xml' \
> >  https://company.freeagentcentral.com/company/users
> >
> > My experience with curl related fetching of remote urls in WordPress is
> > limited to wp_remote_fopen() which just takes the url as an argument.
> I've
> > had a read through wp-includes/functions.php without seeing anything that
> > would let me POST with xml headers. But I'm prone to missing things.
> >
> > Is there a something in WordPress for me to hook into to do this? Or is
> this
> > just a job for curl from basics without any WordPress goodness wrapped
> > around it?
> >
> > Thanks,
> > Tom
> > --
> > http://gplus.to/tcbarrett
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://gplus.to/tcbarrett

From ronin at braydon.com  Mon Sep 19 18:03:05 2011
From: ronin at braydon.com (Braydon)
Date: Mon, 19 Sep 2011 11:03:05 -0700
Subject: [wp-hackers] do_action transparency
Message-ID: <4E7783D9.2010104@braydon.com>

Scenario / Problem:
Plugin A has a do_action hook for other plugins to execute code.
Plugin B hooks into Plugin A and runs some groovy stuff.
Plugin C hooks into Plugin A and runs code that breaks Plugin B groovy 
stuff.
Multiply this scenario times 10 plug-ins and it becomes very difficult 
to know what plugin is executing code where.

Question:
Is there a way to make these actions transparent and to know what is 
executing for each action?






From Dagan.Henderson at epyllion.com  Mon Sep 19 18:06:59 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Mon, 19 Sep 2011 11:06:59 -0700
Subject: [wp-hackers] do_action transparency
In-Reply-To: <4E7783D9.2010104@braydon.com>
References: <4E7783D9.2010104@braydon.com>
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E50F170EC@DC.epyllion.com>

I'd start with either a log file or a debug server, such as Zend, to do a step by step analysis.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Braydon
Sent: Monday, September 19, 2011 11:03 AM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] do_action transparency

Scenario / Problem:
Plugin A has a do_action hook for other plugins to execute code.
Plugin B hooks into Plugin A and runs some groovy stuff.
Plugin C hooks into Plugin A and runs code that breaks Plugin B groovy stuff.
Multiply this scenario times 10 plug-ins and it becomes very difficult to know what plugin is executing code where.

Question:
Is there a way to make these actions transparent and to know what is executing for each action?





_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From dino at duechiacchiere.it  Mon Sep 19 18:21:58 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Mon, 19 Sep 2011 14:21:58 -0400
Subject: [wp-hackers] Retrieving all the comments in a thread
Message-ID: <4E778846.5080807@duechiacchiere.it>

Hi all,

I was wondering if Wordpress has a built-in method to get all the 
comments in a given thread. Let's say I have

- post
-- comment 1 [ID = 1]
--- reply 1 to comment 1 [ID = 2]
--- reply 2 to comment 1 [ID = 3]
--- reply 3 to comment 1 [ID = 4]
-- comment 2 [ID = 5]
-- comment 3 [ID = 6]
--- reply 1 to comment 3 [ID = 7]
--- reply 2 to comment 3 [ID = 8]
---- reply 1 to reply 2 to comment 1 [ID = 9]
---- reply 2 to reply 2 to comment 1 [ID = 10]

Given any comment ID, I'd like to get all the comment IDs in the same 
thread. So for ID = 3, I'd get {1, 2, 3, 4}, and so on. How would you 
accomplish something like this in Wordpress, since the only available 
relationship between comments is parent/son and there's no recursion in 
Mysql?\

Thanks,
Dino

From dianakac at gmail.com  Mon Sep 19 18:34:40 2011
From: dianakac at gmail.com (Diana K. Cury)
Date: Mon, 19 Sep 2011 15:34:40 -0300
Subject: [wp-hackers] Best approach
References: <004101cc7684$58edc580$0100a8c0@corpfe1f3cd943>
	<CAD-FghwStC+pMCSJULj362=J-2HBx-DKrTfO2kEMkfT-r1M9NQ@mail.gmail.com>
Message-ID: <007201cc76fa$ce1eac40$0100a8c0@corpfe1f3cd943>

Thank,

I'm think taxonomies should do, but is ok to add soo much items like cities? 
Is there limit?!

I found quite easy to populate the terms using insert_terms, but there is 
someway to insert taxonomies within a prent one?!


----- Original Message ----- 
From: "Otto" <otto at ottodestruct.com>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, September 19, 2011 2:55 AM
Subject: Re: [wp-hackers] Best approach


> On Sun, Sep 18, 2011 at 11:26 PM, Diana K. Cury <dianakac at gmail.com> 
> wrote:
>> I'm using taxonomies for country States in my plugin, what could be te 
>> best approach for allow users to select cities?
>>
>> There are a lot of cities, so taxonomies can handle this, at all? Or 
>> metadata should keep this?
>>
>> Taxonomies could handle cities within (hierarchical taxos), but not sure 
>> if too much taxonomies will work.
>
> That depends on how you're using them.
>
> Are the names of these cities important *as data*? That is, are you
> displaying them, ordering by them, doing anything on the string of the
> city name itself?
>
> If so, then use meta instead. If not, then taxonomies are fine.
>
> Taxonomies are all about the *grouping* of the objects in them. If the
> group is more important than the label of the group, then taxonomies
> are the way to go. If the label itself is meaningful data in the sense
> of it being data that you're using in some other way, then meta is
> better.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From ozh at ozh.org  Mon Sep 19 18:42:19 2011
From: ozh at ozh.org (Ozh)
Date: Mon, 19 Sep 2011 20:42:19 +0200
Subject: [wp-hackers] do_action transparency
In-Reply-To: <BDCDB469E9C1B040A29DD08A1D8A896E50F170EC@DC.epyllion.com>
References: <4E7783D9.2010104@braydon.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E50F170EC@DC.epyllion.com>
Message-ID: <CAOyD3Oz2PRm_Kk3HVqFcUxQba_SbfadJzMM3Z8WsbcQYV7JUyg@mail.gmail.com>

Or simply use PHP's debug_backtrace() to know wtf, whytf and whentf
something happens

On Mon, Sep 19, 2011 at 8:06 PM, Dagan Henderson
<Dagan.Henderson at epyllion.com> wrote:
> I'd start with either a log file or a debug server, such as Zend, to do a step by step analysis.
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Braydon
> Sent: Monday, September 19, 2011 11:03 AM
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] do_action transparency
>
> Scenario / Problem:
> Plugin A has a do_action hook for other plugins to execute code.
> Plugin B hooks into Plugin A and runs some groovy stuff.
> Plugin C hooks into Plugin A and runs code that breaks Plugin B groovy stuff.
> Multiply this scenario times 10 plug-ins and it becomes very difficult to know what plugin is executing code where.
>
> Question:
> Is there a way to make these actions transparent and to know what is executing for each action?
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://ozh.org/ - @ozh on Twitter
WordPress plugins? I wrote a book! http://amzn.to/plugindevbook

From mda at blogwaffe.com  Mon Sep 19 18:43:32 2011
From: mda at blogwaffe.com (Michael D Adams)
Date: Mon, 19 Sep 2011 11:43:32 -0700
Subject: [wp-hackers] Retrieving all the comments in a thread
In-Reply-To: <4E778846.5080807@duechiacchiere.it>
References: <4E778846.5080807@duechiacchiere.it>
Message-ID: <CAH-8B6tczKMbLzByxBbYTBcLPKPowYFG_V8mowA9bP9_rsHmRQ@mail.gmail.com>

On Mon, Sep 19, 2011 at 11:21 AM, Dino Termini <dino at duechiacchiere.it> wrote:
> I was wondering if Wordpress has a built-in method to get all the comments
> in a given thread. Let's say I have

WordPress.

> - post
> -- comment 1 [ID = 1]
> --- reply 1 to comment 1 [ID = 2]
> --- reply 2 to comment 1 [ID = 3]
> --- reply 3 to comment 1 [ID = 4]
> -- comment 2 [ID = 5]
> -- comment 3 [ID = 6]
> --- reply 1 to comment 3 [ID = 7]
> --- reply 2 to comment 3 [ID = 8]
> ---- reply 1 to reply 2 to comment 1 [ID = 9]
> ---- reply 2 to reply 2 to comment 1 [ID = 10]
>
> Given any comment ID, I'd like to get all the comment IDs in the same
> thread. So for ID = 3, I'd get {1, 2, 3, 4}, and so on. How would you
> accomplish something like this in Wordpress, since the only available
> relationship between comments is parent/son and there's no recursion in
> Mysql?

Check out get_comments() - you can do something like:

get_comments( array( 'post_id' => 123 ) );

to get all the comments of that post.

http://codex.wordpress.org/Function%20Reference/get_comments

From pauamma at gundo.com  Mon Sep 19 18:59:42 2011
From: pauamma at gundo.com (Pau Amma)
Date: Mon, 19 Sep 2011 18:59:42 -0000
Subject: [wp-hackers] Retrieving all the comments in a thread
In-Reply-To: <4E778846.5080807@duechiacchiere.it>
References: <4E778846.5080807@duechiacchiere.it>
Message-ID: <821f8f9c8a9f725a3b1e7e1a755f4d9c.squirrel@www.gundo.net>

On Mon, September 19, 2011 6:21 pm, Dino Termini wrote:
> - post
> -- comment 1 [ID = 1]
> --- reply 1 to comment 1 [ID = 2]
> --- reply 2 to comment 1 [ID = 3]
> --- reply 3 to comment 1 [ID = 4]
> -- comment 2 [ID = 5]
> -- comment 3 [ID = 6]
> --- reply 1 to comment 3 [ID = 7]
> --- reply 2 to comment 3 [ID = 8]
> ---- reply 1 to reply 2 to comment 1 [ID = 9]
> ---- reply 2 to reply 2 to comment 1 [ID = 10]
>
> Given any comment ID, I'd like to get all the comment IDs in the same
> thread. So for ID = 3, I'd get {1, 2, 3, 4},

For ID=10, are you interested in {8, 9, 10} or in {6, 7, 8, 9, 10}?


From dino at duechiacchiere.it  Mon Sep 19 19:14:48 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Mon, 19 Sep 2011 15:14:48 -0400
Subject: [wp-hackers] Retrieving all the comments in a thread
In-Reply-To: <821f8f9c8a9f725a3b1e7e1a755f4d9c.squirrel@www.gundo.net>
References: <4E778846.5080807@duechiacchiere.it>
	<821f8f9c8a9f725a3b1e7e1a755f4d9c.squirrel@www.gundo.net>
Message-ID: <4458FAA8-F0B3-4044-BFE0-AF29D4C53BCF@duechiacchiere.it>



On Sep 19, 2011, at 2:59 PM, "Pau Amma" <pauamma at gundo.com> wrote:

> 
> For ID=10, are you interested in {8, 9, 10} or in {6, 7, 8, 9, 10}?
> 

The latter. And of course sorry for the typo, I meant to say "comment 3", not 1, in the last rows.

In other words, what I'd like to do, given a comment ID and an email address, is to see if that email appears in any of the "ancestors" comments starting from the one with given ID.

Dino.

From mda at blogwaffe.com  Mon Sep 19 19:20:22 2011
From: mda at blogwaffe.com (Michael D Adams)
Date: Mon, 19 Sep 2011 12:20:22 -0700
Subject: [wp-hackers] Retrieving all the comments in a thread
In-Reply-To: <CAH-8B6tczKMbLzByxBbYTBcLPKPowYFG_V8mowA9bP9_rsHmRQ@mail.gmail.com>
References: <4E778846.5080807@duechiacchiere.it>
	<CAH-8B6tczKMbLzByxBbYTBcLPKPowYFG_V8mowA9bP9_rsHmRQ@mail.gmail.com>
Message-ID: <CAH-8B6vQB0CGA4hM_8ptLE50qrZ6Tsef+k_=QvkONW5UTS9=Xw@mail.gmail.com>

On Mon, Sep 19, 2011 at 11:43 AM, Michael D Adams <mda at blogwaffe.com> wrote:
> On Mon, Sep 19, 2011 at 11:21 AM, Dino Termini <dino at duechiacchiere.it> wrote:
>> I was wondering if Wordpress has a built-in method to get all the comments
>> in a given thread. Let's say I have
>
> WordPress.
>
>> - post
>> -- comment 1 [ID = 1]
>> --- reply 1 to comment 1 [ID = 2]
>> --- reply 2 to comment 1 [ID = 3]
>> --- reply 3 to comment 1 [ID = 4]
>> -- comment 2 [ID = 5]
>> -- comment 3 [ID = 6]
>> --- reply 1 to comment 3 [ID = 7]
>> --- reply 2 to comment 3 [ID = 8]
>> ---- reply 1 to reply 2 to comment 1 [ID = 9]
>> ---- reply 2 to reply 2 to comment 1 [ID = 10]
>>
>> Given any comment ID, I'd like to get all the comment IDs in the same
>> thread. So for ID = 3, I'd get {1, 2, 3, 4}, and so on. How would you
>> accomplish something like this in Wordpress, since the only available
>> relationship between comments is parent/son and there's no recursion in
>> Mysql?
>
> Check out get_comments() - you can do something like:
>
> get_comments( array( 'post_id' => 123 ) );
>
> to get all the comments of that post.
>
> http://codex.wordpress.org/Function%20Reference/get_comments

Oh - sorry.  I completely misread your question :)

As Pau Amma mentions, it's unclear how you're defining "thread".  In
any case, you may be able to use WP's Walker classes for this, or you
could just write your own recursion in PHP.

Where are you doing this?  If you're doing it in a theme, the
$wp_query->comments array is probably already populated, which means
the comments should all be cached.  So doing individual get_comment(
$comment_ID ) calls won't need to access the DB.

From chuck at avantigroup.com  Mon Sep 19 19:47:04 2011
From: chuck at avantigroup.com (Chuck Scott)
Date: Mon, 19 Sep 2011 14:47:04 -0500
Subject: [wp-hackers] export - import Primary Menus from Prototype Subsite
 to Another Subsite ...
Message-ID: <CAE-Z5wk5iqWcV9TFB7Zr+xztE5O317eAMMAExkEXxjFODvXQfg@mail.gmail.com>

Hi - the purpose of this thread is to see if anybody knows an easy way
to copy / duplicate / export-import a primary menu from one child site
to another child site on the same WP Multisite network ..??..

thanks in advance for pointers ... to be continued ... cordially, chuck scott


-- 
-------------------------------------------------------------
Me -> http://chuckscott.com

Chuck Scott - Creative Consultant

-------------------------------------------------------------
My Blog --> http://chuckingit.com

Chucking It - Reflecting on Life, Business,
Entrepreneurship, Innovation & Technology

-------------------------------------------------------------
My Company ---> http://avantigroup.com

The Avanti Group, Inc. - Architects of
Multimedia & Web Solutions

-------------------------------------------------------------
What's New --->

Tweeting a bit at @avantigroup

-------------------------------------------------------------
-------------------------------------------------------------
-------------------------------------------------------------

From gxxaxx at gmail.com  Mon Sep 19 19:57:24 2011
From: gxxaxx at gmail.com (Claude Needham)
Date: Mon, 19 Sep 2011 12:57:24 -0700
Subject: [wp-hackers] Best practice for early access of post data
In-Reply-To: <CAMb54M0NJ5y1GD2ZSOoL0AmAZok+qp7yOaL0JRX-ine5Z4XREg@mail.gmail.com>
References: <CACOUsBV4=BmuGDcnpEqKj+7EO5MPvdt9t2kc1Unfh3hpr22aog@mail.gmail.com>
	<AB5CCBF5-128E-4492-B46F-27524C9C8C98@newclarity.net>
	<CACOUsBVAF+OHh1JEqBOSdmHDP-k1Rw71Vj1O=7oswwn-Ohn7VA@mail.gmail.com>
	<CAMb54M0NJ5y1GD2ZSOoL0AmAZok+qp7yOaL0JRX-ine5Z4XREg@mail.gmail.com>
Message-ID: <CACOUsBWPLfj-zb8uRyDPBVKNfxzCoTtYB2DM1-EMvBKiU9SX0A@mail.gmail.com>

On Sun, Sep 18, 2011 at 9:15 AM, Mike Little <wordpress at zed1.com> wrote:

> You might also want to look into the 'body_class' filter. Most css
> customisation based on the contents of the page can be done by simply adding
> a class to the body tag.
>
> If I want to peek at the content of the loop for the purposes of modifying
> something in the theme (usually in the header), I hook onto
> action 'template_redirect', which is suitably late in the process,
> but guaranteed to be before any theme code has run (apart from earlier hooks
> from functions.php). I can safely loop through the results detect/extract
> what I need, then rewind_posts() when I've finished to put everything back.
>

Mike,

Thanks for the followup.
Couldn't check it out until today. When I went to the body_class page
I found a bit of sample code doing exactly what I need. Pretty sweet
when ya get lucky like that.

Thanks for the heads up about the template_redirect too. That looks
very interesting. With some nice possibilities.

Regards,
Claude

From pbaylies at gmail.com  Mon Sep 19 21:47:39 2011
From: pbaylies at gmail.com (peter baylies)
Date: Mon, 19 Sep 2011 17:47:39 -0400
Subject: [wp-hackers] export - import Primary Menus from Prototype
 Subsite to Another Subsite ...
In-Reply-To: <CAE-Z5wk5iqWcV9TFB7Zr+xztE5O317eAMMAExkEXxjFODvXQfg@mail.gmail.com>
References: <CAE-Z5wk5iqWcV9TFB7Zr+xztE5O317eAMMAExkEXxjFODvXQfg@mail.gmail.com>
Message-ID: <CAKkHmjUvhP-2dHkvVD3gitpy4vt=C8aFRFdc289iL6rYeGRNyg@mail.gmail.com>

Chuck,

Where should the menu links point? You could try using switch_to_blog() (
http://codex.wordpress.org/Function_Reference/switch_to_blog ) right before
you pull in the menu (and restore_current_blog() right afterwards) but be
careful with that, it may not do what you want. Here's a thread that
mentions this technique:
http://wordpress.org/support/topic/using-30b1-menus-for-multisite-navigation

Cheers,

 -- Peter Baylies
Semper Fi Web Design


On Mon, Sep 19, 2011 at 3:47 PM, Chuck Scott <chuck at avantigroup.com> wrote:

> Hi - the purpose of this thread is to see if anybody knows an easy way
> to copy / duplicate / export-import a primary menu from one child site
> to another child site on the same WP Multisite network ..??..
>
> thanks in advance for pointers ... to be continued ... cordially, chuck
> scott
>
>
> --
> -------------------------------------------------------------
> Me -> http://chuckscott.com
>
> Chuck Scott - Creative Consultant
>
> -------------------------------------------------------------
> My Blog --> http://chuckingit.com
>
> Chucking It - Reflecting on Life, Business,
> Entrepreneurship, Innovation & Technology
>
> -------------------------------------------------------------
> My Company ---> http://avantigroup.com
>
> The Avanti Group, Inc. - Architects of
> Multimedia & Web Solutions
>
> -------------------------------------------------------------
> What's New --->
>
> Tweeting a bit at @avantigroup
>
> -------------------------------------------------------------
> -------------------------------------------------------------
> -------------------------------------------------------------
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From 24-7 at gmx.net  Mon Sep 19 22:32:16 2011
From: 24-7 at gmx.net (24/7)
Date: Mon, 19 Sep 2011 15:32:16 -0700 (PDT)
Subject: [wp-hackers] can't make sense out of: get_permalink(),
 $id->filter & 'sample' filter
Message-ID: <2010364.45.1316471536800.JavaMail.geo-discussion-forums@yqbr29>

I'm currently trying to call all posts in one Query and then attach the 
author object as well as the permalink to the post object. Sadly 
get_permalink(); produced one additional DB query per call. I could manage 
the problem as I found out that a) the Codex and b) the docBlock for 
get_permalink() was wrong: You can pass the whole post object into the 
function. This allows bypassing the following lines [1] - if you attach 
$post->filter = 'sample' to your post object before you drop it into 
get_permalink();.

Now I question: What for do I need $id->filter (which is in this case 
$post->filter), which isn't attached to a post object in a "normal" query.? 
And why can't I bypass the additional call to get_post(); otherwise? Under 
normal circumstances (or simply in a lot of cases) get_permalink(); is 
called inside a loop, so I wouldn't need to get post object again.

Thanks for your time.
K.

From steve at sltaylor.co.uk  Mon Sep 19 23:22:22 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Tue, 20 Sep 2011 00:22:22 +0100
Subject: [wp-hackers] after flash upload
Message-ID: <CAGEuVU1UB9AN0yUQBY+wYukFQosyz3hOADAkcT_KVPF-Q1DGkg@mail.gmail.com>

Does anyone know how to bind some JS to execute after a file has been
uploaded using the Flash uploader in the media overlay?

cheers,

Steve Taylor

From nanogwp at gmail.com  Tue Sep 20 12:19:24 2011
From: nanogwp at gmail.com (Robert Lusby)
Date: Tue, 20 Sep 2011 13:19:24 +0100
Subject: [wp-hackers] Publish post action - for Custom Post Types
Message-ID: <4E7884CC.7020504@gmail.com>

The "public_post" action only triggers when the "post" type is published 
(obviously).

You can also the action "publish_customposttype", to run when a custom 
post type is published.

However ....

Which action should you use to detect when ANY post type (post, page, 
custom) is published??

Thanks,
Rob

From cross at thisismyurl.com  Tue Sep 20 17:15:44 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Tue, 20 Sep 2011 14:15:44 -0300
Subject: [wp-hackers] Identify the sidebar from within a widget?
Message-ID: <72C59485-502C-4F12-B49D-E80B632D51A0@thisismyurl.com>

Is there a way for me to know which sidebar calls a specific widget?

For example, I have a widget that needs specific attributes if called from the footer as opposed to the sidebar. So, instead of asking the user to set "sidebar" or "footer", is there a way to tell that the widget call came from one or the other?

c.


--
Christopher Ross
christopher.ross at rodonic.com

Rodonic - http://rodonic.com
My Blog - http://thisismyurl.com

Twitter - http://twitter.com/#!/thisismyurl
Facebook -  http://www.facebook.com/thisismyurlcom

(416) 900-3731
(858) 201-4912


From otto at ottodestruct.com  Tue Sep 20 17:32:35 2011
From: otto at ottodestruct.com (Otto)
Date: Tue, 20 Sep 2011 12:32:35 -0500
Subject: [wp-hackers] Identify the sidebar from within a widget?
In-Reply-To: <72C59485-502C-4F12-B49D-E80B632D51A0@thisismyurl.com>
References: <72C59485-502C-4F12-B49D-E80B632D51A0@thisismyurl.com>
Message-ID: <CAD-FghyD=38TUTwGr7NaaECgMuOK_Zzxfo75riFxGkkWqc11ug@mail.gmail.com>

If you're using a standard widget class inheriting from WP_Widget,
then the widget($args, $instance) function which displays the widget
receives $args as its first parameter.

$args contains info about what sidebar you're in. Specifically,
$args['name'] and $args['id'] refer to the sidebar's name and id.


Demo:

class New_Widget extends WP_Widget {
	function New_Widget() {
		$widget_ops = array('classname' => 'widget_new-widget',
'description' => 'New Widget');
		$this->WP_Widget('new-widget', 'New Widget', $widget_ops);
	}

	function widget($args, $instance) {
		var_dump($args);
	}

	function update($new_instance, $old_instance) {
		return $new_instance;
	}

	function form($instance) {
	}
}
add_action('widgets_init', create_function('', 'return
register_widget("New_Widget");'));


Look at what the widget dumps for output.

-Otto



On Tue, Sep 20, 2011 at 12:15 PM, Christopher Ross
<cross at thisismyurl.com> wrote:
> Is there a way for me to know which sidebar calls a specific widget?
>
> For example, I have a widget that needs specific attributes if called from the footer as opposed to the sidebar. So, instead of asking the user to set "sidebar" or "footer", is there a way to tell that the widget call came from one or the other?
>
> c.
>
>
> --
> Christopher Ross
> christopher.ross at rodonic.com
>
> Rodonic - http://rodonic.com
> My Blog - http://thisismyurl.com
>
> Twitter - http://twitter.com/#!/thisismyurl
> Facebook - ?http://www.facebook.com/thisismyurlcom
>
> (416) 900-3731
> (858) 201-4912
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From Dagan.Henderson at epyllion.com  Tue Sep 20 17:35:34 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Tue, 20 Sep 2011 10:35:34 -0700
Subject: [wp-hackers] Identify the sidebar from within a widget?
In-Reply-To: <CAD-FghyD=38TUTwGr7NaaECgMuOK_Zzxfo75riFxGkkWqc11ug@mail.gmail.com>
References: <72C59485-502C-4F12-B49D-E80B632D51A0@thisismyurl.com>
	<CAD-FghyD=38TUTwGr7NaaECgMuOK_Zzxfo75riFxGkkWqc11ug@mail.gmail.com>
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E50F170EF@DC.epyllion.com>

Building on Otto's reply, here is an example of $args: 

$args	Array [9]	
	name	(string:15) Primary Sidebar	
	id	(string:9) sidebar-1	
	description	(string:66) A widget area displayed on the right side of most pages/templates.	
	before_widget	(string:61) <li id="recent-posts-3" class="widget widget_recent_entries">	
	after_widget	(string:6) </li>\n	
	before_title	(string:25) <h1 class="widget-title">	
	after_title	(string:5) </h1>	
	widget_id	(string:14) recent-posts-3	
	widget_name	(string:12) Recent Posts	

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Otto
Sent: Tuesday, September 20, 2011 10:33 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Identify the sidebar from within a widget?

If you're using a standard widget class inheriting from WP_Widget, then the widget($args, $instance) function which displays the widget receives $args as its first parameter.

$args contains info about what sidebar you're in. Specifically, $args['name'] and $args['id'] refer to the sidebar's name and id.


Demo:

class New_Widget extends WP_Widget {
	function New_Widget() {
		$widget_ops = array('classname' => 'widget_new-widget', 'description' => 'New Widget');
		$this->WP_Widget('new-widget', 'New Widget', $widget_ops);
	}

	function widget($args, $instance) {
		var_dump($args);
	}

	function update($new_instance, $old_instance) {
		return $new_instance;
	}

	function form($instance) {
	}
}
add_action('widgets_init', create_function('', 'return register_widget("New_Widget");'));


Look at what the widget dumps for output.

-Otto



On Tue, Sep 20, 2011 at 12:15 PM, Christopher Ross <cross at thisismyurl.com> wrote:
> Is there a way for me to know which sidebar calls a specific widget?
>
> For example, I have a widget that needs specific attributes if called from the footer as opposed to the sidebar. So, instead of asking the user to set "sidebar" or "footer", is there a way to tell that the widget call came from one or the other?
>
> c.
>
>
> --
> Christopher Ross
> christopher.ross at rodonic.com
>
> Rodonic - http://rodonic.com
> My Blog - http://thisismyurl.com
>
> Twitter - http://twitter.com/#!/thisismyurl Facebook - ?
> http://www.facebook.com/thisismyurlcom
>
> (416) 900-3731
> (858) 201-4912
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From cross at thisismyurl.com  Tue Sep 20 18:13:28 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Tue, 20 Sep 2011 15:13:28 -0300
Subject: [wp-hackers] Identify the sidebar from within a widget?
In-Reply-To: <CAD-FghyD=38TUTwGr7NaaECgMuOK_Zzxfo75riFxGkkWqc11ug@mail.gmail.com>
References: <72C59485-502C-4F12-B49D-E80B632D51A0@thisismyurl.com>
	<CAD-FghyD=38TUTwGr7NaaECgMuOK_Zzxfo75riFxGkkWqc11ug@mail.gmail.com>
Message-ID: <676F1E34-D7B5-45DB-8C51-1993AD1C808F@thisismyurl.com>

Thanks Otto! As always, there's a function in WP to do just about everything :)


On 2011-09-20, at 2:32 PM, Otto wrote:

> If you're using a standard widget class inheriting from WP_Widget,
> then the widget($args, $instance) function which displays the widget
> receives $args as its first parameter.
> 
> $args contains info about what sidebar you're in. Specifically,
> $args['name'] and $args['id'] refer to the sidebar's name and id.
> 
> 
> Demo:
> 
> class New_Widget extends WP_Widget {
> 	function New_Widget() {
> 		$widget_ops = array('classname' => 'widget_new-widget',
> 'description' => 'New Widget');
> 		$this->WP_Widget('new-widget', 'New Widget', $widget_ops);
> 	}
> 
> 	function widget($args, $instance) {
> 		var_dump($args);
> 	}
> 
> 	function update($new_instance, $old_instance) {
> 		return $new_instance;
> 	}
> 
> 	function form($instance) {
> 	}
> }
> add_action('widgets_init', create_function('', 'return
> register_widget("New_Widget");'));
> 
> 
> Look at what the widget dumps for output.
> 
> -Otto
> 
> 
> 
> On Tue, Sep 20, 2011 at 12:15 PM, Christopher Ross
> <cross at thisismyurl.com> wrote:
>> Is there a way for me to know which sidebar calls a specific widget?
>> 
>> For example, I have a widget that needs specific attributes if called from the footer as opposed to the sidebar. So, instead of asking the user to set "sidebar" or "footer", is there a way to tell that the widget call came from one or the other?
>> 
>> c.
>> 
>> 
>> --
>> Christopher Ross
>> christopher.ross at rodonic.com
>> 
>> Rodonic - http://rodonic.com
>> My Blog - http://thisismyurl.com
>> 
>> Twitter - http://twitter.com/#!/thisismyurl
>> Facebook -  http://www.facebook.com/thisismyurlcom
>> 
>> (416) 900-3731
>> (858) 201-4912
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers




--
Christopher Ross
christopher.ross at rodonic.com

Rodonic - http://rodonic.com
My Blog - http://thisismyurl.com

Twitter - http://twitter.com/#!/thisismyurl
Facebook -  http://www.facebook.com/thisismyurlcom

(416) 900-3731
(858) 201-4912


From mda at blogwaffe.com  Tue Sep 20 19:53:00 2011
From: mda at blogwaffe.com (Michael D Adams)
Date: Tue, 20 Sep 2011 12:53:00 -0700
Subject: [wp-hackers] Publish post action - for Custom Post Types
In-Reply-To: <4E7884CC.7020504@gmail.com>
References: <4E7884CC.7020504@gmail.com>
Message-ID: <CAH-8B6uw62hAoP8PQtYkEHsAOYkocu9Q=SqzvK5uSTagGiCsFw@mail.gmail.com>

On Tue, Sep 20, 2011 at 5:19 AM, Robert Lusby <nanogwp at gmail.com> wrote:
> The "public_post" action only triggers when the "post" type is published
> (obviously).
>
> You can also the action "publish_customposttype", to run when a custom post
> type is published.
>
> However ....
>
> Which action should you use to detect when ANY post type (post, page,
> custom) is published??

You can use the transition_post_status action, which passes:
$new_status, $old_status, $post as its parameters.

http://core.trac.wordpress.org/browser/tags/3.2.1/wp-includes/post.php#L2958

From ben at balter.com  Tue Sep 20 20:43:29 2011
From: ben at balter.com (Benjamin J. Balter)
Date: Tue, 20 Sep 2011 16:43:29 -0400
Subject: [wp-hackers] after flash upload
In-Reply-To: <CAGEuVU1UB9AN0yUQBY+wYukFQosyz3hOADAkcT_KVPF-Q1DGkg@mail.gmail.com>
References: <CAGEuVU1UB9AN0yUQBY+wYukFQosyz3hOADAkcT_KVPF-Q1DGkg@mail.gmail.com>
Message-ID: <CAOn8UicHBcOUM8iAmHnoc_6w=+5OoG1QDdkrj_dcrLMLpahY+g@mail.gmail.com>

Yes. Pre-3.3 is a bit hacky (3.3 has a new media uploader), but doable.

Take a look at the below linked code for an example.

468 - 514 should show < 3.3, and 516 - 529 should show 3.3+:

http://plugins.trac.wordpress.org/browser/wp-document-revisions/trunk/admin.php?rev=440989

Note, if you don't need support for HTTP uploads, there is a
swfupload_success_handler hook in 3.1 - 3.2.

- Ben

On Mon, Sep 19, 2011 at 7:22 PM, Steve Taylor <steve at sltaylor.co.uk> wrote:

> Does anyone know how to bind some JS to execute after a file has been
> uploaded using the Flash uploader in the media overlay?
>
> cheers,
>
> Steve Taylor
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From steve at sltaylor.co.uk  Tue Sep 20 21:15:26 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Tue, 20 Sep 2011 22:15:26 +0100
Subject: [wp-hackers] after flash upload
In-Reply-To: <CAOn8UicHBcOUM8iAmHnoc_6w=+5OoG1QDdkrj_dcrLMLpahY+g@mail.gmail.com>
References: <CAGEuVU1UB9AN0yUQBY+wYukFQosyz3hOADAkcT_KVPF-Q1DGkg@mail.gmail.com>
	<CAOn8UicHBcOUM8iAmHnoc_6w=+5OoG1QDdkrj_dcrLMLpahY+g@mail.gmail.com>
Message-ID: <CAGEuVU36DVUxTk059KAnfZ2NVQ_k7m_F-UwFnSJzY5tvzT7gHw@mail.gmail.com>

Thanks Ben. Not too important, so I'm currently just saying the
functionality I'm providing is only available on Browser Upload. I'll
check 3.3 and address things from there...


On 20 September 2011 21:43, Benjamin J. Balter <ben at balter.com> wrote:
> Yes. Pre-3.3 is a bit hacky (3.3 has a new media uploader), but doable.
>
> Take a look at the below linked code for an example.
>
> 468 - 514 should show < 3.3, and 516 - 529 should show 3.3+:
>
> http://plugins.trac.wordpress.org/browser/wp-document-revisions/trunk/admin.php?rev=440989
>
> Note, if you don't need support for HTTP uploads, there is a
> swfupload_success_handler hook in 3.1 - 3.2.
>
> - Ben
>
> On Mon, Sep 19, 2011 at 7:22 PM, Steve Taylor <steve at sltaylor.co.uk> wrote:
>
>> Does anyone know how to bind some JS to execute after a file has been
>> uploaded using the Flash uploader in the media overlay?
>>
>> cheers,
>>
>> Steve Taylor
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From eric at eam.me  Tue Sep 20 21:21:03 2011
From: eric at eam.me (Eric Mann)
Date: Tue, 20 Sep 2011 14:21:03 -0700
Subject: [wp-hackers] WordPress and Websockets
Message-ID: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>

I've bounced this idea on the WordPress StackExchange, in the support
forums, and informally to a few other developers via Twitter and in-person
at WordCamp Portland.  I have yet to hear a solid answer, though ... so I
wanted to bounce it by here, too.

I'm working on a plugin that, ideally, would make use of websockets to
communicate between the front-end and the WordPress backend.  Basically,
whenever a post is published on the backend, it should trigger an event on
the front-end for other users.  This can be done using old school AJAX and
long polling, but the point is more to make use of the cutting-edge
technology than to fall back on "what works."

Unfortunately, most users are running WordPress on an Apache server ... and
Apache doesn't natively support websockets.  There are some modules you can
add to make it work, but that's not an option for people running WP on a
shared host.

One option I have is to use Apache anyway.  It can be forced to work with
websockets using a few PHP scripts I found, but once the websocket is open
you essentially steal a persistent connection to Apache (which is itself a
blocking process).  So while this would work, and would probably work well
for low-traffic sites, it could easily lock up an ill-configured server or
crash someones system.

Another option is to host the websocket part of the system on my server
(where I can use Nginix, Node.js, or any other websocket-friendly server)
and have the plugin interface with my server.  The downside here is that my
system then becomes the bottleneck ...

My question to you: which option would you take?  Try to make due with
installed software, or move the mission-critical part of the application to
your own box?  Does anyone have experience implementing websockets in
WordPress already?  Is there something I'm missing?

From peter.westwood at ftwr.co.uk  Wed Sep 21 08:24:20 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 21 Sep 2011 09:24:20 +0100
Subject: [wp-hackers] WordPress and Websockets
In-Reply-To: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>
References: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>
Message-ID: <A6423D81-AB71-4291-A0C8-6FF97E86E50C@ftwr.co.uk>

Hi Eric,

On 20 Sep 2011, at 22:21, Eric Mann wrote:

> I'm working on a plugin that, ideally, would make use of websockets to
> communicate between the front-end and the WordPress backend.  Basically,
> whenever a post is published on the backend, it should trigger an event on
> the front-end for other users.  This can be done using old school AJAX and
> long polling, but the point is more to make use of the cutting-edge
> technology than to fall back on "what works."
> 
> Unfortunately, most users are running WordPress on an Apache server ... and
> Apache doesn't natively support websockets.  There are some modules you can
> add to make it work, but that's not an option for people running WP on a
> shared host.
> 
> One option I have is to use Apache anyway.  It can be forced to work with
> websockets using a few PHP scripts I found, but once the websocket is open
> you essentially steal a persistent connection to Apache (which is itself a
> blocking process).  So while this would work, and would probably work well
> for low-traffic sites, it could easily lock up an ill-configured server or
> crash someones system.
> 
> Another option is to host the websocket part of the system on my server
> (where I can use Nginix, Node.js, or any other websocket-friendly server)
> and have the plugin interface with my server.  The downside here is that my
> system then becomes the bottleneck ...
> 
> My question to you: which option would you take?  Try to make due with
> installed software, or move the mission-critical part of the application to
> your own box?  Does anyone have experience implementing websockets in
> WordPress already?  Is there something I'm missing?

Based on the level of available support you describe above I wouldn't use websockets unless I was writing the plugin as custom development for a site where I knew that they could work well because the web server was going to support them.

I don't think having all the traffic run via a server you host is good for a number of reasons:

1) It isn't going to scale
2) It means sending all the content back to your server.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
50BF A954 E072 23DB B50A  A319 56C3 8FFF 9C72 AB79


From danielx386 at gmail.com  Wed Sep 21 08:32:33 2011
From: danielx386 at gmail.com (Daniel Fenn)
Date: Wed, 21 Sep 2011 18:32:33 +1000
Subject: [wp-hackers] WordPress and Websockets
In-Reply-To: <A6423D81-AB71-4291-A0C8-6FF97E86E50C@ftwr.co.uk>
References: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>
	<A6423D81-AB71-4291-A0C8-6FF97E86E50C@ftwr.co.uk>
Message-ID: <CAJ5Hi2hG5EvPKAjMazoQzR57g2JdLdhvp6x0M-c9udT8CZPvdQ@mail.gmail.com>

3: may not work when wordpress is used on an internal website where
external traffic is blocked. 4: security

On 21/09/2011, Peter Westwood <peter.westwood at ftwr.co.uk> wrote:
> Hi Eric,
>
> On 20 Sep 2011, at 22:21, Eric Mann wrote:
>
>> I'm working on a plugin that, ideally, would make use of websockets to
>> communicate between the front-end and the WordPress backend.  Basically,
>> whenever a post is published on the backend, it should trigger an event on
>> the front-end for other users.  This can be done using old school AJAX and
>> long polling, but the point is more to make use of the cutting-edge
>> technology than to fall back on "what works."
>>
>> Unfortunately, most users are running WordPress on an Apache server ...
>> and
>> Apache doesn't natively support websockets.  There are some modules you
>> can
>> add to make it work, but that's not an option for people running WP on a
>> shared host.
>>
>> One option I have is to use Apache anyway.  It can be forced to work with
>> websockets using a few PHP scripts I found, but once the websocket is open
>> you essentially steal a persistent connection to Apache (which is itself a
>> blocking process).  So while this would work, and would probably work well
>> for low-traffic sites, it could easily lock up an ill-configured server or
>> crash someones system.
>>
>> Another option is to host the websocket part of the system on my server
>> (where I can use Nginix, Node.js, or any other websocket-friendly server)
>> and have the plugin interface with my server.  The downside here is that
>> my
>> system then becomes the bottleneck ...
>>
>> My question to you: which option would you take?  Try to make due with
>> installed software, or move the mission-critical part of the application
>> to
>> your own box?  Does anyone have experience implementing websockets in
>> WordPress already?  Is there something I'm missing?
>
> Based on the level of available support you describe above I wouldn't use
> websockets unless I was writing the plugin as custom development for a site
> where I knew that they could work well because the web server was going to
> support them.
>
> I don't think having all the traffic run via a server you host is good for a
> number of reasons:
>
> 1) It isn't going to scale
> 2) It means sending all the content back to your server.
>
> Cheers
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> 50BF A954 E072 23DB B50A  A319 56C3 8FFF 9C72 AB79
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Regards,
Daniel Fenn

From ronin at braydon.com  Thu Sep 22 05:20:03 2011
From: ronin at braydon.com (Braydon)
Date: Wed, 21 Sep 2011 22:20:03 -0700
Subject: [wp-hackers] WordPress and Websockets
In-Reply-To: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>
References: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>
Message-ID: <4E7AC583.6000707@braydon.com>

They were doing reverse ajax, "comet", a couple years ago, by holding an 
xhr open for a long time without needing websockets. You would still 
need to have a long running PHP process running....

This seems like something better done in another language, if 
maintaining WordPress interface, you could write something just for the 
front-end entirely in Node.js? I'm really curious to do something in 
this area.

On 09/20/2011 02:21 PM, Eric Mann wrote:
> I've bounced this idea on the WordPress StackExchange, in the support
> forums, and informally to a few other developers via Twitter and in-person
> at WordCamp Portland.  I have yet to hear a solid answer, though ... so I
> wanted to bounce it by here, too.
>
> I'm working on a plugin that, ideally, would make use of websockets to
> communicate between the front-end and the WordPress backend.  Basically,
> whenever a post is published on the backend, it should trigger an event on
> the front-end for other users.  This can be done using old school AJAX and
> long polling, but the point is more to make use of the cutting-edge
> technology than to fall back on "what works."
>
> Unfortunately, most users are running WordPress on an Apache server ... and
> Apache doesn't natively support websockets.  There are some modules you can
> add to make it work, but that's not an option for people running WP on a
> shared host.
>
> One option I have is to use Apache anyway.  It can be forced to work with
> websockets using a few PHP scripts I found, but once the websocket is open
> you essentially steal a persistent connection to Apache (which is itself a
> blocking process).  So while this would work, and would probably work well
> for low-traffic sites, it could easily lock up an ill-configured server or
> crash someones system.
>
> Another option is to host the websocket part of the system on my server
> (where I can use Nginix, Node.js, or any other websocket-friendly server)
> and have the plugin interface with my server.  The downside here is that my
> system then becomes the bottleneck ...
>
> My question to you: which option would you take?  Try to make due with
> installed software, or move the mission-critical part of the application to
> your own box?  Does anyone have experience implementing websockets in
> WordPress already?  Is there something I'm missing?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> !DSPAM:4e7903c65591418750826!
>


From burobjorn at gmail.com  Thu Sep 22 12:47:37 2011
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Thu, 22 Sep 2011 14:47:37 +0200
Subject: [wp-hackers] Replacement for switch_to_blog()?
Message-ID: <4E7B2E69.8010507@gmail.com>

Hi,

I've used switch_to_blog() in some of my plugins and themes for custom 
Multisite sites, but I've heard it will be deprecated in the future 
(although in trunk wp-includes/ms-deprecated.php does not list it yet?).

I'm curious:

1. Is it really going to be deprecated in the future?
2. What replacement can/should I use?

Thanks in advance!

grtz
BjornW
-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Werkdagen:
Van maandag t/m donderdag vanaf 10:00
Vrijdag is voor experimenteren en eigen projecten.

Postbus 14145
3508 SE Utrecht
The Netherlands

tel: +31 6 49 74 78 70
http://www.burobjorn.nl

From Dagan.Henderson at epyllion.com  Thu Sep 22 17:00:10 2011
From: Dagan.Henderson at epyllion.com (Dagan Henderson)
Date: Thu, 22 Sep 2011 10:00:10 -0700
Subject: [wp-hackers] WordPress and Websockets
In-Reply-To: <4E7AC583.6000707@braydon.com>
References: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>
	<4E7AC583.6000707@braydon.com>
Message-ID: <BDCDB469E9C1B040A29DD08A1D8A896E50F170F4@DC.epyllion.com>

Unfortunately, I think the handicap here is (and will be for quite some time) hosting services. I'd love to be able to run something like socket.io, but until hosting services catch up, I don't think we'll see much, if any, websocket use in the WordPress core.


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Braydon
Sent: Wednesday, September 21, 2011 10:20 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] WordPress and Websockets

They were doing reverse ajax, "comet", a couple years ago, by holding an xhr open for a long time without needing websockets. You would still need to have a long running PHP process running....

This seems like something better done in another language, if maintaining WordPress interface, you could write something just for the front-end entirely in Node.js? I'm really curious to do something in this area.

On 09/20/2011 02:21 PM, Eric Mann wrote:
> I've bounced this idea on the WordPress StackExchange, in the support 
> forums, and informally to a few other developers via Twitter and 
> in-person at WordCamp Portland.  I have yet to hear a solid answer, 
> though ... so I wanted to bounce it by here, too.
>
> I'm working on a plugin that, ideally, would make use of websockets to 
> communicate between the front-end and the WordPress backend.  
> Basically, whenever a post is published on the backend, it should 
> trigger an event on the front-end for other users.  This can be done 
> using old school AJAX and long polling, but the point is more to make 
> use of the cutting-edge technology than to fall back on "what works."
>
> Unfortunately, most users are running WordPress on an Apache server 
> ... and Apache doesn't natively support websockets.  There are some 
> modules you can add to make it work, but that's not an option for 
> people running WP on a shared host.
>
> One option I have is to use Apache anyway.  It can be forced to work 
> with websockets using a few PHP scripts I found, but once the 
> websocket is open you essentially steal a persistent connection to 
> Apache (which is itself a blocking process).  So while this would 
> work, and would probably work well for low-traffic sites, it could 
> easily lock up an ill-configured server or crash someones system.
>
> Another option is to host the websocket part of the system on my 
> server (where I can use Nginix, Node.js, or any other 
> websocket-friendly server) and have the plugin interface with my 
> server.  The downside here is that my system then becomes the bottleneck ...
>
> My question to you: which option would you take?  Try to make due with 
> installed software, or move the mission-critical part of the 
> application to your own box?  Does anyone have experience implementing 
> websockets in WordPress already?  Is there something I'm missing?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> !DSPAM:4e7903c65591418750826!
>

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From ronin at braydon.com  Thu Sep 22 17:08:17 2011
From: ronin at braydon.com (Braydon)
Date: Thu, 22 Sep 2011 10:08:17 -0700
Subject: [wp-hackers] WordPress and Websockets
In-Reply-To: <BDCDB469E9C1B040A29DD08A1D8A896E50F170F4@DC.epyllion.com>
References: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>	<4E7AC583.6000707@braydon.com>
	<BDCDB469E9C1B040A29DD08A1D8A896E50F170F4@DC.epyllion.com>
Message-ID: <4E7B6B81.9020903@braydon.com>

Hosting limitations is a big issue and not just with websockets, PHP, 
and WordPress. Python written websites have been dealing with at for 
some time also, not too many hosting options outside of a VPS and 
dedicated, which is a bummer when what is really needed is a lot of 
storage space more than processing and software control.

On 09/22/2011 10:00 AM, Dagan Henderson wrote:
> Unfortunately, I think the handicap here is (and will be for quite some time) hosting services. I'd love to be able to run something like socket.io, but until hosting services catch up, I don't think we'll see much, if any, websocket use in the WordPress core.
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Braydon
> Sent: Wednesday, September 21, 2011 10:20 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] WordPress and Websockets
>
> They were doing reverse ajax, "comet", a couple years ago, by holding an xhr open for a long time without needing websockets. You would still need to have a long running PHP process running....
>
> This seems like something better done in another language, if maintaining WordPress interface, you could write something just for the front-end entirely in Node.js? I'm really curious to do something in this area.
>
> On 09/20/2011 02:21 PM, Eric Mann wrote:
>> I've bounced this idea on the WordPress StackExchange, in the support
>> forums, and informally to a few other developers via Twitter and
>> in-person at WordCamp Portland.  I have yet to hear a solid answer,
>> though ... so I wanted to bounce it by here, too.
>>
>> I'm working on a plugin that, ideally, would make use of websockets to
>> communicate between the front-end and the WordPress backend.
>> Basically, whenever a post is published on the backend, it should
>> trigger an event on the front-end for other users.  This can be done
>> using old school AJAX and long polling, but the point is more to make
>> use of the cutting-edge technology than to fall back on "what works."
>>
>> Unfortunately, most users are running WordPress on an Apache server
>> ... and Apache doesn't natively support websockets.  There are some
>> modules you can add to make it work, but that's not an option for
>> people running WP on a shared host.
>>
>> One option I have is to use Apache anyway.  It can be forced to work
>> with websockets using a few PHP scripts I found, but once the
>> websocket is open you essentially steal a persistent connection to
>> Apache (which is itself a blocking process).  So while this would
>> work, and would probably work well for low-traffic sites, it could
>> easily lock up an ill-configured server or crash someones system.
>>
>> Another option is to host the websocket part of the system on my
>> server (where I can use Nginix, Node.js, or any other
>> websocket-friendly server) and have the plugin interface with my
>> server.  The downside here is that my system then becomes the bottleneck ...
>>
>> My question to you: which option would you take?  Try to make due with
>> installed software, or move the mission-critical part of the
>> application to your own box?  Does anyone have experience implementing
>> websockets in WordPress already?  Is there something I'm missing?
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> !DSPAM:4e7b6990164495009421020!
>


From dougal at gunters.org  Thu Sep 22 18:54:35 2011
From: dougal at gunters.org (Dougal Campbell)
Date: Thu, 22 Sep 2011 14:54:35 -0400
Subject: [wp-hackers] WordPress and Websockets
In-Reply-To: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>
References: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>
Message-ID: <4E7B846B.6010206@gunters.org>

On Sep 20 2011 5:21 PM, Eric Mann wrote:
> I'm working on a plugin that, ideally, would make use of websockets to
> communicate between the front-end and the WordPress backend.  Basically,
> whenever a post is published on the backend, it should trigger an event on
> the front-end for other users.  This can be done using old school AJAX and
> long polling, but the point is more to make use of the cutting-edge
> technology than to fall back on "what works."

Have you looked at how the P2 theme does its dynamic front-page updates 
when new posts and comments are posted? You might be able to borrow code 
from there without too much fuss.

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From ronin at braydon.com  Thu Sep 22 19:14:14 2011
From: ronin at braydon.com (Braydon)
Date: Thu, 22 Sep 2011 12:14:14 -0700
Subject: [wp-hackers] WordPress and Websockets
In-Reply-To: <4E7B846B.6010206@gunters.org>
References: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>
	<4E7B846B.6010206@gunters.org>
Message-ID: <4E7B8906.8020307@braydon.com>

On 09/22/2011 11:54 AM, Dougal Campbell wrote:
> On Sep 20 2011 5:21 PM, Eric Mann wrote:
>> I'm working on a plugin that, ideally, would make use of websockets to
>> communicate between the front-end and the WordPress backend.  Basically,
>> whenever a post is published on the backend, it should trigger an 
>> event on
>> the front-end for other users.  This can be done using old school 
>> AJAX and
>> long polling, but the point is more to make use of the cutting-edge
>> technology than to fall back on "what works."
>
> Have you looked at how the P2 theme does its dynamic front-page 
> updates when new posts and comments are posted? You might be able to 
> borrow code from there without too much fuss.
>
I've worked on several themes using P2, and it uses a polling method 
every minute using a timestamp to see if anything new in a timespan. If 
there are any new posts or comments, it then appends them into the page 
based off that response. So it isn't anywhere near something could be 
used for real-time interaction. When doing modifications to the theme 
it's very easy to break these behaviors by changing the markup because 
of the separation between the HTML generated from PHP and HTML generated 
from JavaScript. It becomes a headache to make sure each works with each 
other.

From eric at eam.me  Thu Sep 22 19:34:08 2011
From: eric at eam.me (Eric Mann)
Date: Thu, 22 Sep 2011 12:34:08 -0700
Subject: [wp-hackers] WordPress and Websockets
In-Reply-To: <4E7B846B.6010206@gunters.org>
References: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>
	<4E7B846B.6010206@gunters.org>
Message-ID: <CAEi=p53Uz3PBiuuQC2kzzPe3tEWiGnbgo+b+QU3SG8=Xz_HS-g@mail.gmail.com>

On Thu, Sep 22, 2011 at 11:54 AM, Dougal Campbell <dougal at gunters.org>wrote:
>
> Have you looked at how the P2 theme does its dynamic front-page updates
> when new posts and comments are posted? You might be able to borrow code
> from there without too much fuss.


I have, and I plan to use that style of polling as a fallback, specifically
for browsers that don't support websockets (Internet Explorer 9 and below,
Firefox 4, etc). But as Braydon pointed out, polling isn't quite real-time
data exchange.

One option would be to enable websockets on the server if the server is
capable of using them and defaulting to AJAX long polling if it isn't.  If
that's the direction, what's the easiest way to detect *server* support for
the technology?  Browser support is easy to detect using Modernizr ...

From dougal at gunters.org  Thu Sep 22 22:11:26 2011
From: dougal at gunters.org (Dougal Campbell)
Date: Thu, 22 Sep 2011 18:11:26 -0400
Subject: [wp-hackers] WordPress and Websockets
In-Reply-To: <CAEi=p53Uz3PBiuuQC2kzzPe3tEWiGnbgo+b+QU3SG8=Xz_HS-g@mail.gmail.com>
References: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>
	<4E7B846B.6010206@gunters.org>
	<CAEi=p53Uz3PBiuuQC2kzzPe3tEWiGnbgo+b+QU3SG8=Xz_HS-g@mail.gmail.com>
Message-ID: <4E7BB28E.9020101@gunters.org>

On Sep 22 2011 3:34 PM, Eric Mann wrote:
> On Thu, Sep 22, 2011 at 11:54 AM, Dougal Campbell<dougal at gunters.org>wrote:
>> Have you looked at how the P2 theme does its dynamic front-page updates
>> when new posts and comments are posted? You might be able to borrow code
>> from there without too much fuss.
>
> I have, and I plan to use that style of polling as a fallback, specifically
> for browsers that don't support websockets (Internet Explorer 9 and below,
> Firefox 4, etc). But as Braydon pointed out, polling isn't quite real-time
> data exchange.

Yeah, I wasn't sure how real-time you really needed it to be.

> One option would be to enable websockets on the server if the server is
> capable of using them and defaulting to AJAX long polling if it isn't.  If
> that's the direction, what's the easiest way to detect *server* support for
> the technology?  Browser support is easy to detect using Modernizr ...

I've done some socket.io stuff with a node.js server, but I haven't 
looked into the details of the websockets protocol before. The protocol 
definition is here:

   http://tools.ietf.org/html/draft-ietf-hybi-thewebsocketprotocol-15

And looking at Section 4.1, some of the criteria for the server response 
are:

   * Must return a 101 response code (or it could be a 401 auth request, 
or perhaps a redirect, that eventually reroute to a 101)
   * Must include a header of  "Upgrade: websocket"
   * Must include a "Connection" header with an appropriate token value
   * Must include a "Sec-WebSocket-Accept" header with an appropriate 
calculated key

There are other details, but that's the core of the websocket response.

If this is something you're planning to deploy in the wild (i.e., 
arbitrary servers that you don't know the details of), websocket support 
on servers is going to be pretty rare. In my case, I was thinking about 
proxying websocket requests to node through an nginx front-end. But 
nginx doesn't support ws out-of-the-box either, so I'd need to install a 
third-party extension.

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From dino at duechiacchiere.it  Fri Sep 23 01:46:24 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Thu, 22 Sep 2011 21:46:24 -0400
Subject: [wp-hackers] SVN non updating zip file
Message-ID: <4E7BE4F0.5030309@duechiacchiere.it>

Hello everybody,

I just posted a few updates to fix some typos in one of my plugins. I 
didn't change its version because I didn't want to bother all its users 
just for minor changes. I've been waiting for a few hours now, but the 
zip file on the repo still has the old files, including the old 
readme.txt. On the other side the SVN log tells me the file have been 
uploaded without a problem. What am I missing?

Thanks,
Dino

From ipstenu at ipstenu.org  Fri Sep 23 02:25:58 2011
From: ipstenu at ipstenu.org (Mika A Epstein)
Date: Thu, 22 Sep 2011 21:25:58 -0500
Subject: [wp-hackers] SVN non updating zip file
In-Reply-To: <4E7BE4F0.5030309@duechiacchiere.it>
References: <4E7BE4F0.5030309@duechiacchiere.it>
Message-ID: <B9424289-5D81-45F5-ABEA-2E79331CA12A@ipstenu.org>

Did you update the files in both the tagged folder and the trunk?

Sometimes the cache can take a bit, but hours is odd.

On Sep 22, 2011, at 8:46 PM, Dino Termini <dino at duechiacchiere.it> wrote:

> Hello everybody,
> 
> I just posted a few updates to fix some typos in one of my plugins. I didn't change its version because I didn't want to bother all its users just for minor changes. I've been waiting for a few hours now, but the zip file on the repo still has the old files, including the old readme.txt. On the other side the SVN log tells me the file have been uploaded without a problem. What am I missing?
> 
> Thanks,
> Dino
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From dino at duechiacchiere.it  Fri Sep 23 02:30:12 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Thu, 22 Sep 2011 22:30:12 -0400
Subject: [wp-hackers] SVN non updating zip file
In-Reply-To: <B9424289-5D81-45F5-ABEA-2E79331CA12A@ipstenu.org>
References: <4E7BE4F0.5030309@duechiacchiere.it>
	<B9424289-5D81-45F5-ABEA-2E79331CA12A@ipstenu.org>
Message-ID: <4E7BEF34.2010307@duechiacchiere.it>

I use the tagged folder to archive old versions of my plugin, and trunk 
for current version. So I just updated the trunk. It has worked fine in 
the past, but this last didn't go through.

On 9/22/2011 10:25 PM, Mika A Epstein wrote:
> Did you update the files in both the tagged folder and the trunk?
>
> Sometimes the cache can take a bit, but hours is odd.
>
> On Sep 22, 2011, at 8:46 PM, Dino Termini<dino at duechiacchiere.it>  wrote:
>
>> Hello everybody,
>>
>> I just posted a few updates to fix some typos in one of my plugins. I didn't change its version because I didn't want to bother all its users just for minor changes. I've been waiting for a few hours now, but the zip file on the repo still has the old files, including the old readme.txt. On the other side the SVN log tells me the file have been uploaded without a problem. What am I missing?
>>
>> Thanks,
>> Dino
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From otto at ottodestruct.com  Fri Sep 23 02:57:42 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 22 Sep 2011 21:57:42 -0500
Subject: [wp-hackers] SVN non updating zip file
In-Reply-To: <4E7BE4F0.5030309@duechiacchiere.it>
References: <4E7BE4F0.5030309@duechiacchiere.it>
Message-ID: <CAD-FghzitgSj=oh+xAVEXTmRYpzeZTHJoKR4XAc+12KvTaLJCA@mail.gmail.com>

On Thu, Sep 22, 2011 at 8:46 PM, Dino Termini <dino at duechiacchiere.it> wrote:
> I just posted a few updates to fix some typos in one of my plugins. I didn't
> change its version because I didn't want to bother all its users just for
> minor changes. I've been waiting for a few hours now, but the zip file on
> the repo still has the old files, including the old readme.txt. On the other
> side the SVN log tells me the file have been uploaded without a problem.
> What am I missing?

There have been some other similar but related issues here too. I'm
looking into it. Might take a couple days to work it out.

-Otto

From dino at duechiacchiere.it  Fri Sep 23 10:36:21 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Fri, 23 Sep 2011 06:36:21 -0400
Subject: [wp-hackers] SVN non updating zip file
In-Reply-To: <CAD-FghzitgSj=oh+xAVEXTmRYpzeZTHJoKR4XAc+12KvTaLJCA@mail.gmail.com>
References: <4E7BE4F0.5030309@duechiacchiere.it>
	<CAD-FghzitgSj=oh+xAVEXTmRYpzeZTHJoKR4XAc+12KvTaLJCA@mail.gmail.com>
Message-ID: <4BF1061D-407C-4A3D-A6FB-454D61B75180@duechiacchiere.it>

Thank you :)

On Sep 22, 2011, at 10:57 PM, Otto <otto at ottodestruct.com> wrote:

> On Thu, Sep 22, 2011 at 8:46 PM, Dino Termini <dino at duechiacchiere.it> wrote:
>> I just posted a few updates to fix some typos in one of my plugins. I didn't
>> change its version because I didn't want to bother all its users just for
>> minor changes. I've been waiting for a few hours now, but the zip file on
>> the repo still has the old files, including the old readme.txt. On the other
>> side the SVN log tells me the file have been uploaded without a problem.
>> What am I missing?
> 
> There have been some other similar but related issues here too. I'm
> looking into it. Might take a couple days to work it out.
> 
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From dianakac at gmail.com  Fri Sep 23 17:49:08 2011
From: dianakac at gmail.com (Diana K. Cury)
Date: Fri, 23 Sep 2011 14:49:08 -0300
Subject: [wp-hackers] Quite off: Glotpress
Message-ID: <003001cc7a19$1cafb4f0$0100a8c0@corpfe1f3cd943>

Where to submit ideas for GlotPress?

I think caracters count would improve it a great deal and also use a monospaced font.

Thanks

From ronin at braydon.com  Fri Sep 23 18:53:58 2011
From: ronin at braydon.com (Braydon)
Date: Fri, 23 Sep 2011 11:53:58 -0700
Subject: [wp-hackers] php feed reader libraries
Message-ID: <4E7CD5C6.5080109@braydon.com>

I'm building a plugin that is strongly dependent on parsing feeds, rss2 
and others. What is the most widely supported loosely coupled library 
available?

I have found:
SimplePie - however their website mentions they have stopped the project 
and it has moved to github....
MagpieRSS - yet there last release was in 2005-11-5....
Zend Library - maintained, however I don't need to use all of Zend and 
don't want to include the whole library when just using the reader 
portion....

What is the best option available and is most widely used among WordPress?



From ehitter at gmail.com  Fri Sep 23 19:15:44 2011
From: ehitter at gmail.com (Erick Hitter)
Date: Fri, 23 Sep 2011 15:15:44 -0400
Subject: [wp-hackers] php feed reader libraries
In-Reply-To: <4E7CD5C6.5080109@braydon.com>
References: <4E7CD5C6.5080109@braydon.com>
Message-ID: <CADAM20q6v9oUAL_hvm1P-=ZDqQR-Lc3g4Jv-1bwM5VVGyGSqVg@mail.gmail.com>

SimplePie is bundled with WordPress and used for its feed-reading features,
so it's probably your best option if it provides the capabilities your
plugin needs.

Erick
On Sep 23, 2011 2:54 PM, "Braydon" <ronin at braydon.com> wrote:
> I'm building a plugin that is strongly dependent on parsing feeds, rss2
> and others. What is the most widely supported loosely coupled library
> available?
>
> I have found:
> SimplePie - however their website mentions they have stopped the project
> and it has moved to github....
> MagpieRSS - yet there last release was in 2005-11-5....
> Zend Library - maintained, however I don't need to use all of Zend and
> don't want to include the whole library when just using the reader
> portion....
>
> What is the best option available and is most widely used among WordPress?
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From otto at ottodestruct.com  Fri Sep 23 19:17:36 2011
From: otto at ottodestruct.com (Otto)
Date: Fri, 23 Sep 2011 14:17:36 -0500
Subject: [wp-hackers] php feed reader libraries
In-Reply-To: <4E7CD5C6.5080109@braydon.com>
References: <4E7CD5C6.5080109@braydon.com>
Message-ID: <CAD-Fghxr5hGkLrSmrtLpomLBFJMT5JUVe34ysoWY0efJLBhBtg@mail.gmail.com>

On Fri, Sep 23, 2011 at 1:53 PM, Braydon <ronin at braydon.com> wrote:
> I'm building a plugin that is strongly dependent on parsing feeds, rss2 and
> others. What is the most widely supported loosely coupled library available?
>
> I have found:
> SimplePie - however their website mentions they have stopped the project and
> it has moved to github....
> MagpieRSS - yet there last release was in 2005-11-5....
> Zend Library - maintained, however I don't need to use all of Zend and don't
> want to include the whole library when just using the reader portion....
>
> What is the best option available and is most widely used among WordPress?

WordPress has SimplePie built in. Just use the built in function
fetch_feed($url) to get an RSS feed and automatically parse it into a
SimplePie object. It even handles caching the feed, with a 12 hour
default cache time.

-Otto

From jfontainhas at gmail.com  Sat Sep 24 00:33:11 2011
From: jfontainhas at gmail.com (=?ISO-8859-1?Q?Jos=E9_Fontainhas?=)
Date: Sat, 24 Sep 2011 01:33:11 +0100
Subject: [wp-hackers] Quite off: Glotpress
In-Reply-To: <003001cc7a19$1cafb4f0$0100a8c0@corpfe1f3cd943>
References: <003001cc7a19$1cafb4f0$0100a8c0@corpfe1f3cd943>
Message-ID: <CAKx6gRHPdRqVWaNmZqnzMY-GL9N4kNKZBnzzKXB+vMmwRDCBdw@mail.gmail.com>

Either http://wppolyglots.wordpress.com, or even better,
http://trac.glotpress.org

Z?

On 23 September 2011 18:49, Diana K. Cury <dianakac at gmail.com> wrote:
> Where to submit ideas for GlotPress?
>
> I think caracters count would improve it a great deal and also use a monospaced font.
>
> Thanks
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mike at etchsoftware.com  Sat Sep 24 01:17:33 2011
From: mike at etchsoftware.com (Mike Bijon)
Date: Fri, 23 Sep 2011 18:17:33 -0700
Subject: [wp-hackers] Access to update plugin & giving credit to original
	author
Message-ID: <CABwjQBwsqwTUVCgdoQu=XkW7iCn=bw2U4he+pjwzE+=056tWmQ@mail.gmail.com>

I've recently updated a plugin that hadn't been touched in 2+ years. Does
anyone here know what the best practices for updating the plugin on the
WordPress Extend site are?

No response from the author in a week after trying contact. Will the
WordPress team grant me access to the original plug-in to publish the
update?
(BTW, this is it:
http://wordpress.org/extend/plugins/google-friendsconnect-widget/)

Updating in-place seems like the best thing for the community since the
plugin still gets downloads. OTOH, it could use a lot of new features now
that the Google Plus APIs are out. Would I be better off giving the author
credit in text & code files, then starting a new plugin that has "Google
Plus" in the name?

Thanks all, -Mike

From cross at thisismyurl.com  Sat Sep 24 05:46:50 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Sat, 24 Sep 2011 02:46:50 -0300
Subject: [wp-hackers] Access to update plugin & giving credit to
	original author
In-Reply-To: <CABwjQBwsqwTUVCgdoQu=XkW7iCn=bw2U4he+pjwzE+=056tWmQ@mail.gmail.com>
References: <CABwjQBwsqwTUVCgdoQu=XkW7iCn=bw2U4he+pjwzE+=056tWmQ@mail.gmail.com>
Message-ID: <106F4015-3147-4036-A5B6-8519830BC9CD@thisismyurl.com>

Mike, I've often wondered about this myself.  There are some plugins that appear to be abandon on the Repository that I still use and would be happy to update moving forward but I'm not sure about the process for helping out in these cases. If you have any luck, I would love to know the proper method for updating them.

Chris


On 2011-09-23, at 10:17 PM, Mike Bijon wrote:

> I've recently updated a plugin that hadn't been touched in 2+ years. Does
> anyone here know what the best practices for updating the plugin on the
> WordPress Extend site are?
> 
> No response from the author in a week after trying contact. Will the
> WordPress team grant me access to the original plug-in to publish the
> update?
> (BTW, this is it:
> http://wordpress.org/extend/plugins/google-friendsconnect-widget/)
> 
> Updating in-place seems like the best thing for the community since the
> plugin still gets downloads. OTOH, it could use a lot of new features now
> that the Google Plus APIs are out. Would I be better off giving the author
> credit in text & code files, then starting a new plugin that has "Google
> Plus" in the name?
> 
> Thanks all, -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers




--
Christopher Ross
christopher.ross at rodonic.com

Rodonic - http://rodonic.com
My Blog - http://thisismyurl.com

Twitter - http://twitter.com/#!/thisismyurl
Facebook -  http://www.facebook.com/thisismyurlcom

(416) 900-3731
(858) 201-4912


From lists at rotorised.com  Sat Sep 24 06:46:00 2011
From: lists at rotorised.com (Ryan McCue)
Date: Sat, 24 Sep 2011 16:46:00 +1000
Subject: [wp-hackers] php feed reader libraries
In-Reply-To: <CAD-Fghxr5hGkLrSmrtLpomLBFJMT5JUVe34ysoWY0efJLBhBtg@mail.gmail.com>
References: <4E7CD5C6.5080109@braydon.com>
	<CAD-Fghxr5hGkLrSmrtLpomLBFJMT5JUVe34ysoWY0efJLBhBtg@mail.gmail.com>
Message-ID: <4E7D7CA8.6070508@rotorised.com>

Otto wrote:
> WordPress has SimplePie built in. Just use the built in function
> fetch_feed($url) to get an RSS feed and automatically parse it into a
> SimplePie object. It even handles caching the feed, with a 12 hour
> default cache time.

Further more, I'm the SimplePie maintainer (you can see me committing on
GitHub), and also a WordPress developer, so if you need any help, feel
free to email me.

As for the site mentioning that we've stopped development, I apologise,
I never got around to posting an update to that. I will do soon!
-- 
Ryan McCue
<http://ryanmccue.info/>

From tcbarrett at gmail.com  Sat Sep 24 08:00:56 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Sat, 24 Sep 2011 09:00:56 +0100
Subject: [wp-hackers] Access to update plugin & giving credit to
	original author
In-Reply-To: <106F4015-3147-4036-A5B6-8519830BC9CD@thisismyurl.com>
References: <CABwjQBwsqwTUVCgdoQu=XkW7iCn=bw2U4he+pjwzE+=056tWmQ@mail.gmail.com>
	<106F4015-3147-4036-A5B6-8519830BC9CD@thisismyurl.com>
Message-ID: <CAEgmxaYVDm2q9kN5JQ3-umtULRDTUPEdO2+hhW2N8sv=Nw6YWg@mail.gmail.com>

Surely it is the nature of Open Source to fork projects? If you wish to give
your code to the original plugin owner, you can always do that at a later
date. But that seems like overly complicating matters.

It's better to have an active plugin author than an absent one?

-- 
http://gplus.to/tcbarrett

From stas at nerd.ro  Sat Sep 24 08:20:54 2011
From: stas at nerd.ro (=?UTF-8?B?U3RhcyBTdciZY292?=)
Date: Sat, 24 Sep 2011 11:20:54 +0300
Subject: [wp-hackers] Access to update plugin & giving credit to
 original author
In-Reply-To: <CAEgmxaYVDm2q9kN5JQ3-umtULRDTUPEdO2+hhW2N8sv=Nw6YWg@mail.gmail.com>
References: <CABwjQBwsqwTUVCgdoQu=XkW7iCn=bw2U4he+pjwzE+=056tWmQ@mail.gmail.com>
	<106F4015-3147-4036-A5B6-8519830BC9CD@thisismyurl.com>
	<CAEgmxaYVDm2q9kN5JQ3-umtULRDTUPEdO2+hhW2N8sv=Nw6YWg@mail.gmail.com>
Message-ID: <4E7D92E6.6060405@nerd.ro>

On Sb 24 sep 2011 11:00:56 +0300, Tom Barrett wrote:
> Surely it is the nature of Open Source to fork projects? If you wish to give
> your code to the original plugin owner, you can always do that at a later
> date. But that seems like overly complicating matters.
>
> It's better to have an active plugin author than an absent one?
>


Unlikely. Forking a plugin, means a new slug, maybe a new name and a 
new history of releases/users.
If there's a chance to pick the code as a new maintainer, forking 
should never happen.

As another reason for that, take into account, that users will unlikely 
trust a new fork, and will keep installing the old version.

The best in this case would be to contact previous author, and ask him 
for commit access. If you want to simply mention someone
for credit in readme.txt, `Contributors` directive is all you need.

From ronin at braydon.com  Sat Sep 24 10:27:18 2011
From: ronin at braydon.com (Braydon)
Date: Sat, 24 Sep 2011 03:27:18 -0700
Subject: [wp-hackers] php feed reader libraries
In-Reply-To: <4E7D7CA8.6070508@rotorised.com>
References: <4E7CD5C6.5080109@braydon.com>	<CAD-Fghxr5hGkLrSmrtLpomLBFJMT5JUVe34ysoWY0efJLBhBtg@mail.gmail.com>
	<4E7D7CA8.6070508@rotorised.com>
Message-ID: <4E7DB086.1030604@braydon.com>

On 09/23/2011 11:46 PM, Ryan McCue wrote:
> Otto wrote:
>> WordPress has SimplePie built in. Just use the built in function
>> fetch_feed($url) to get an RSS feed and automatically parse it into a
>> SimplePie object. It even handles caching the feed, with a 12 hour
>> default cache time.
> Further more, I'm the SimplePie maintainer (you can see me committing on
> GitHub), and also a WordPress developer, so if you need any help, feel
> free to email me.
>
> As for the site mentioning that we've stopped development, I apologise,
> I never got around to posting an update to that. I will do soon!
Excellent thanks everyone. This is exactly the kinda thing I wanted to 
here. SimplePie it is! So happy it's being maintained and by a fellow 
WordPress hacker.

From paul at codehooligans.com  Sat Sep 24 11:59:05 2011
From: paul at codehooligans.com (Paul Menard)
Date: Sat, 24 Sep 2011 07:59:05 -0400
Subject: [wp-hackers] Access to update plugin & giving credit to
	original author
In-Reply-To: <CABwjQBwsqwTUVCgdoQu=XkW7iCn=bw2U4he+pjwzE+=056tWmQ@mail.gmail.com>
References: <CABwjQBwsqwTUVCgdoQu=XkW7iCn=bw2U4he+pjwzE+=056tWmQ@mail.gmail.com>
Message-ID: <3FBECA18-C101-4D8B-A376-F64F12F7E404@codehooligans.com>

On Sep 23, 2011, at 9:17 PM, Mike Bijon wrote:

> No response from the author in a week after trying contact. Will the
> WordPress team grant me access to the original plug-in to publish the
> update?

Really? Just a week? Most plugin authors are busy working on other paying projects. Sometimes we just let the 'noise' on the plugin requests fall so we can concentrate on other things. There should be some other criteria for handing over control to someone else's project. If at all. 

I would like to see some method via the repo admin interface where a plugin author could relinquish control of a plugin. Then it could be listed somewhere within wordpress.org so that others can 'take over' support or add enhancements. Of course I would also like to see a filter on the search such that I can show only current plugins and not include all the older plugin that have not been updated for years and are not compatible with the specific version of WordPress I'm working in. 

Paul

From james.kirsop at gmail.com  Sat Sep 24 15:59:41 2011
From: james.kirsop at gmail.com (James Kirsop)
Date: Sun, 25 Sep 2011 01:59:41 +1000
Subject: [wp-hackers] AJAX Hooks and JSON String
Message-ID: <CAMND6d1+DUkFa+9rcjPBY--wMFqfqdja6rN4Up2Hd0Nyu_Y5og@mail.gmail.com>

Hi All,
I'm currently in the process of writing my own theme with a custom
management page for some of the features on the front end. As a challenge to
myself, I've been hoping to process all the form data I've got via AJAX - to
avoid page reloads, and to learn more about how WP handles AJAX requests
etc.

At the moment, I'm serialising an array of javascript objects
using JSON.stringify() to result in a string that looks like the following
(using a bunch of test data for the moment):
[{"link":"Test 1","title":"Test 1","text":"Test
1","image_url":""},{"link":"Test 2","title":"Test 2","text":"Test
2","image_url":""},{"link":"Test 3","title":"Test 3","text":"Test
3","image_url":""},{"link":"Test 4","title":"Test 4","text":"Test
4","image_url":""}]
Basically, 4 objects, with 4 values in each, but the idea is to have the
number of objects increase/decrease as needed. I realise that there's built
in functionality for handling form data in JQuery, but I'd like to be able
to iterate over the objects to build the data I want to store as an option
(using update_option()).

The method described in the codex [1] for processing AJAX requests and
adding hooks, seems to require a single object of data, with an 'action'
variable with a value to point wordpress to the correct hook and hence PHP
function, alongside the rest of the data. I'm currently struggling to work
out how to add the 'action' and a corresponding value into my JSON string,
have WP find that data, take it, and then execute the appropriate function.
I've posted [2] the javascript that's creating the array with objects, that
then go to the JSON string for people to take a look at.

Thanks!
James

[1] http://codex.wordpress.org/AJAX_in_Plugins
[2] http://pastie.org/2584753

From otto at ottodestruct.com  Sat Sep 24 16:42:40 2011
From: otto at ottodestruct.com (Otto)
Date: Sat, 24 Sep 2011 11:42:40 -0500
Subject: [wp-hackers] Access to update plugin & giving credit to
	original author
In-Reply-To: <3FBECA18-C101-4D8B-A376-F64F12F7E404@codehooligans.com>
References: <CABwjQBwsqwTUVCgdoQu=XkW7iCn=bw2U4he+pjwzE+=056tWmQ@mail.gmail.com>
	<3FBECA18-C101-4D8B-A376-F64F12F7E404@codehooligans.com>
Message-ID: <CAD-FghwYuU6J96H=HwWX73_PL7E4k=mOyhOPZmdzHC_uVmvcXQ@mail.gmail.com>

On Sat, Sep 24, 2011 at 6:59 AM, Paul Menard <paul at codehooligans.com> wrote:
> Really? Just a week?

I'd give them two weeks to a month or so before switching a plugin to
a new author. And the person wanting to take over the plugin should be
actively improving it and blogging about it as well, showing that they
have an interest in maintaining the project. A one-time update isn't
enough to change a plugin to a new author.


> I would like to see some method via the repo admin interface where a plugin author could relinquish control of a plugin.

This exists already. Just go to the Admin section of the plugin, add
the new person as a committer (using their wp.org username), and
optionally remove yourself as a committer to the plugin.


> Of course I would also like to see a filter on the search such that I can show only current plugins and not include all the older plugin that have not been updated for years and are not compatible with the specific version of WordPress I'm working in.

Plugins not updated in 2 years are not listed in search results. This
has been there for a month or two.



-Otto

From barry at automattic.com  Sat Sep 24 17:24:25 2011
From: barry at automattic.com (Barry Abrahamson)
Date: Sat, 24 Sep 2011 12:24:25 -0500
Subject: [wp-hackers] InnoDB Compression
Message-ID: <32573A4A-77EF-4A6F-8EDE-46EF976CF47E@automattic.com>

Howdy,

Is anyone successfully using InnoDB compression[1] on their posts and/or comments tables and have any benchmarks/numbers they would like to share?  It only probably makes sense if you have more data than fits in RAM and your workload is I/O bound, otherwise the performance seems pretty terrible[2]

References:

[1] http://dev.mysql.com/doc/refman/5.5/en/innodb-compression.html
[2] http://www.mysqlperformanceblog.com/2011/05/20/innodb-compression-woes/
--
Barry Abrahamson | Systems Wrangler | Automattic
Blog: http://barry.wordpress.com


From mikeschinkel at newclarity.net  Sat Sep 24 18:48:59 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 24 Sep 2011 14:48:59 -0400
Subject: [wp-hackers] AJAX Hooks and JSON String
In-Reply-To: <CAMND6d1+DUkFa+9rcjPBY--wMFqfqdja6rN4Up2Hd0Nyu_Y5og@mail.gmail.com>
References: <CAMND6d1+DUkFa+9rcjPBY--wMFqfqdja6rN4Up2Hd0Nyu_Y5og@mail.gmail.com>
Message-ID: <762323DE-A763-41B6-BF35-ED71CEAFCB84@newclarity.net>

Hi James,

You are over-thinking this.  

Here[1] is a quick code snippet you can drop in your theme's functions.php file that will show you how to send arrays of Javascript objects via AJAX to PHP in WordPress.

Hope this helps.

-Mike
[1] http://pastie.org/2585510


On Sep 24, 2011, at 11:59 AM, James Kirsop wrote:

> Hi All,
> I'm currently in the process of writing my own theme with a custom
> management page for some of the features on the front end. As a challenge to
> myself, I've been hoping to process all the form data I've got via AJAX - to
> avoid page reloads, and to learn more about how WP handles AJAX requests
> etc.
> 
> At the moment, I'm serialising an array of javascript objects
> using JSON.stringify() to result in a string that looks like the following
> (using a bunch of test data for the moment):
> [{"link":"Test 1","title":"Test 1","text":"Test
> 1","image_url":""},{"link":"Test 2","title":"Test 2","text":"Test
> 2","image_url":""},{"link":"Test 3","title":"Test 3","text":"Test
> 3","image_url":""},{"link":"Test 4","title":"Test 4","text":"Test
> 4","image_url":""}]
> Basically, 4 objects, with 4 values in each, but the idea is to have the
> number of objects increase/decrease as needed. I realise that there's built
> in functionality for handling form data in JQuery, but I'd like to be able
> to iterate over the objects to build the data I want to store as an option
> (using update_option()).
> 
> The method described in the codex [1] for processing AJAX requests and
> adding hooks, seems to require a single object of data, with an 'action'
> variable with a value to point wordpress to the correct hook and hence PHP
> function, alongside the rest of the data. I'm currently struggling to work
> out how to add the 'action' and a corresponding value into my JSON string,
> have WP find that data, take it, and then execute the appropriate function.
> I've posted [2] the javascript that's creating the array with objects, that
> then go to the JSON string for people to take a look at.
> 
> Thanks!
> James
> 
> [1] http://codex.wordpress.org/AJAX_in_Plugins
> [2] http://pastie.org/2584753
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From gprasanth.1992 at gmail.com  Sat Sep 24 20:06:58 2011
From: gprasanth.1992 at gmail.com (Prasanth Gangaraju)
Date: Sun, 25 Sep 2011 01:36:58 +0530
Subject: [wp-hackers] AJAX Hooks and JSON String
In-Reply-To: <CAMND6d1+DUkFa+9rcjPBY--wMFqfqdja6rN4Up2Hd0Nyu_Y5og@mail.gmail.com>
References: <CAMND6d1+DUkFa+9rcjPBY--wMFqfqdja6rN4Up2Hd0Nyu_Y5og@mail.gmail.com>
Message-ID: <CAE+DQEdZaRWhMk3rUvSSSaqdoC+i=HOUj97oiBrNmOoNnqSG=w@mail.gmail.com>

>
> I'm currently struggling to work out how to add the 'action' and a
> corresponding value into my JSON string,
>

refer to [1].
what you need to do to *add* the action and corresponding value to your
current json string is this:
say your current string is s
say postData is your final json string. then,

> postData = "{ [action:\"my_action\", data:\""+s+"\"]}";
>
this is exactly what you need to do.

[1] http://www.json.org/

-- 
Prasanth

From tcbarrett at gmail.com  Sat Sep 24 21:26:46 2011
From: tcbarrett at gmail.com (Tom Barrett)
Date: Sat, 24 Sep 2011 22:26:46 +0100
Subject: [wp-hackers] Editing Custom Post Type's Custom Taxonomy with a
	custom Role
Message-ID: <CAEgmxaa=mZgev2eHv7Oof3AkdZvTFBW+Qge2sMVYAkhBZfFCCQ@mail.gmail.com>

On a local mailing list, someone asked about managing capabilities for a
custom post type with a custom taxonomy. I thought it would be nice to blog
an example of that, adding in a custom role. The aim is to allow a Person to
edit People and their Professions (and nothing else).

http://pastebin.com/90GwDgmj

I got a little confused, trying to fiddle with the capabilities, so
apologies if there is a glaring mistake that fixes my issue.

Currently my Person can read/edit/quickedit/publish/delete their own and
other's Peoples. The Person can add/delete/quickedit taxonomies, but cannot
*edit* them. That is the URI
/wp-admin/edit-tags.php?action=edit&taxonomy=profession&tag_ID=14&post_type=peoplefails
with the error 'Cheatin? uh?' on Update.

WordPress 3.2.1
Theme: twentyten child theme (so I can play in functions.php).
Plugins: capsman, debug-bar, debug-bar-extender

-- 
http://gplus.to/tcbarrett

From mike at etchsoftware.com  Sun Sep 25 08:25:32 2011
From: mike at etchsoftware.com (Mike Bijon)
Date: Sun, 25 Sep 2011 01:25:32 -0700
Subject: [wp-hackers] Access to update plugin & giving credit to
	original author
In-Reply-To: <CABwjQBwsqwTUVCgdoQu=XkW7iCn=bw2U4he+pjwzE+=056tWmQ@mail.gmail.com>
References: <CABwjQBwsqwTUVCgdoQu=XkW7iCn=bw2U4he+pjwzE+=056tWmQ@mail.gmail.com>
Message-ID: <CABwjQBwYABX=dz-aTgJsycHBGBFT83=4obY14rSt6vkft-9-dA@mail.gmail.com>

Paul has a good point about needing to wait longer. But that's why I'm
asking, since it could take a while to find a right-way.

Since I'm planning to add features it makes sense to create a new plugin.
The perfect thing seems to be patching the old plugin & creating a new one
for the new features (giving credit of course). Then there'd be no need to
make a "reloaded" plugin.

Since things aren't perfect, I'll create a new plugin and wait on the old
author before also doing a "reloaded" patch. Would be nice to keep the old
plugin update path clean, but reloading seems better than nothing for users.

Thanks all,
-Mike

From dianakac at gmail.com  Sun Sep 25 16:51:30 2011
From: dianakac at gmail.com (Diana K. Cury)
Date: Sun, 25 Sep 2011 13:51:30 -0300
Subject: [wp-hackers] Quite off: Glotpress
References: <003001cc7a19$1cafb4f0$0100a8c0@corpfe1f3cd943>
	<CAKx6gRHPdRqVWaNmZqnzMY-GL9N4kNKZBnzzKXB+vMmwRDCBdw@mail.gmail.com>
Message-ID: <001801cc7ba3$d92cf670$0100a8c0@corpfe1f3cd943>

Thanks Z?!


----- Original Message ----- 
From: "Jos? Fontainhas" <jfontainhas at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, September 23, 2011 9:33 PM
Subject: Re: [wp-hackers] Quite off: Glotpress


Either http://wppolyglots.wordpress.com, or even better,
http://trac.glotpress.org

Z?

On 23 September 2011 18:49, Diana K. Cury <dianakac at gmail.com> wrote:
> Where to submit ideas for GlotPress?
>
> I think caracters count would improve it a great deal and also use a 
> monospaced font.
>
> Thanks
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers 


From piemanek at gmail.com  Mon Sep 26 13:10:39 2011
From: piemanek at gmail.com (Simon Blackbourn)
Date: Mon, 26 Sep 2011 14:10:39 +0100
Subject: [wp-hackers] oembed YouTube problem
Message-ID: <CAJxFMSBnG0UYyjDpao3Yp9Ax3PLisYv=RFNkTQrtqf+2QBfw2g@mail.gmail.com>

Can anyone shed any light on why the oembed feature won't pick up this
YouTube link: http://youtu.be/nb2pE6Ge-0Q ? It doesn't detect the longer
version either: http://www.youtube.com/watch?v=nb2pE6Ge-0Q

I thought maybe it had issues with the hyphen, but this one works fine:
http://youtu.be/-2-aUr9Z_Cs

I've tried it on three different sites, all of them fail, but I'm not sure
if it's a WordPress or a YouTube issue.

Cheers
Simon

From danielx386 at gmail.com  Mon Sep 26 13:14:00 2011
From: danielx386 at gmail.com (Daniel Fenn)
Date: Mon, 26 Sep 2011 23:14:00 +1000
Subject: [wp-hackers] oembed YouTube problem
In-Reply-To: <CAJxFMSBnG0UYyjDpao3Yp9Ax3PLisYv=RFNkTQrtqf+2QBfw2g@mail.gmail.com>
References: <CAJxFMSBnG0UYyjDpao3Yp9Ax3PLisYv=RFNkTQrtqf+2QBfw2g@mail.gmail.com>
Message-ID: <CAJ5Hi2icmWfdHG+N2U4raf0tBQXMVC9jzo0gJGXa0G9_ou=ZSQ@mail.gmail.com>

Maybe the user does not allow embedding for that video?



On Mon, Sep 26, 2011 at 11:10 PM, Simon Blackbourn <piemanek at gmail.com>wrote:

> http://www.youtube.com/watch?v=nb2pE6Ge-0Q

From wordpress at dd32.id.au  Mon Sep 26 13:15:29 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Mon, 26 Sep 2011 23:15:29 +1000
Subject: [wp-hackers] oembed YouTube problem
In-Reply-To: <CAJxFMSBnG0UYyjDpao3Yp9Ax3PLisYv=RFNkTQrtqf+2QBfw2g@mail.gmail.com>
References: <CAJxFMSBnG0UYyjDpao3Yp9Ax3PLisYv=RFNkTQrtqf+2QBfw2g@mail.gmail.com>
Message-ID: <CAL4EHfkURGa30yePTbot0R-jKQp7fcnrn7g3jhBNb_Jxd+mVAA@mail.gmail.com>

The embedding works through a process called oEmbed, this required Youtube
to offer your WordPress install the HTML code to embed it.

In this case, The uploader of the video has disabled embedding.

You can check this by clicking "Share" under the youtube player, and then
selecting "Embed" You'll get a message to that effect..

On 26 September 2011 23:10, Simon Blackbourn <piemanek at gmail.com> wrote:

> Can anyone shed any light on why the oembed feature won't pick up this
> YouTube link: http://youtu.be/nb2pE6Ge-0Q ? It doesn't detect the longer
> version either: http://www.youtube.com/watch?v=nb2pE6Ge-0Q
>
> I thought maybe it had issues with the hyphen, but this one works fine:
> http://youtu.be/-2-aUr9Z_Cs
>
> I've tried it on three different sites, all of them fail, but I'm not sure
> if it's a WordPress or a YouTube issue.
>
> Cheers
> Simon
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From piemanek at gmail.com  Mon Sep 26 13:48:55 2011
From: piemanek at gmail.com (Simon Blackbourn)
Date: Mon, 26 Sep 2011 14:48:55 +0100
Subject: [wp-hackers] oembed YouTube problem
In-Reply-To: <CAL4EHfkURGa30yePTbot0R-jKQp7fcnrn7g3jhBNb_Jxd+mVAA@mail.gmail.com>
References: <CAJxFMSBnG0UYyjDpao3Yp9Ax3PLisYv=RFNkTQrtqf+2QBfw2g@mail.gmail.com>
	<CAL4EHfkURGa30yePTbot0R-jKQp7fcnrn7g3jhBNb_Jxd+mVAA@mail.gmail.com>
Message-ID: <CAJxFMSCkYPoc4Mnr6myqCNiP1znJZG7zwGGQwzFx1DT0zpkWcg@mail.gmail.com>

>
> In this case, The uploader of the video has disabled embedding.
>
> You can check this by clicking "Share" under the youtube player, and then
> selecting "Embed" You'll get a message to that effect..
>
>
Aha, hadn't spotted that, as the beauty of oEmbed is not needing to use the
embed iframe code!

Many thanks
Simon

From jage32 at gmail.com  Mon Sep 26 14:27:20 2011
From: jage32 at gmail.com (Josh Eaton)
Date: Mon, 26 Sep 2011 09:27:20 -0500
Subject: [wp-hackers] Access to update plugin & giving credit to
	original author
In-Reply-To: <32C40997-4F81-4095-A902-E712853952B2@gmail.com>
References: <32C40997-4F81-4095-A902-E712853952B2@gmail.com>
Message-ID: <CAAV3MXTiS-8eLG+z0F_3XVsgoS1Rk7M9_PZib7BdS+PiQXTWpQ@mail.gmail.com>

On Sep 24, 2011, at 7:00 AM, wp-hackers-request at lists.automattic.com wrote:

I would like to see some method via the repo admin interface where a plugin
> author could relinquish control of a plugin. Then it could be listed
> somewhere within wordpress.org so that others can 'take over' support or
> add enhancements.
>

This is a great idea. It is still dependent on the author relinquishing
control, which may still be an issue if they already aren't responding.

Even if there is some period of time after which, if a plugin hasn't had
it's "Tested up to" version updated, it falls into this "abandoned" category
and other devs with more time on their hands can be added as contributors.
The original author remains as a contributor if they would like to pick it
back up again.

This could help with all the noise in the plugin repository itself, where
new plugins won't need to be created to replace older ones, but can be taken
in by the community and updated.

Josh

From enej.bajgoric at gmail.com  Mon Sep 26 18:38:54 2011
From: enej.bajgoric at gmail.com (Enej Bajgoric)
Date: Mon, 26 Sep 2011 11:38:54 -0700
Subject: [wp-hackers] My Plugin got taken down, what next?
Message-ID: <345739C1-B922-42CB-BF00-4616D6DF1E48@gmail.com>

Hi 

I had one one my plugins taken down from wordpress.org. What is the process for getting it back on WordPress.org? 

I am sorry but I just don't know what is the best way to get in get in touch with the person(s) who is/are in charge of the plugin repository so I am posting the question here.

Cheers Enej









From chip at chipbennett.net  Mon Sep 26 18:40:05 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Mon, 26 Sep 2011 13:40:05 -0500
Subject: [wp-hackers] My Plugin got taken down, what next?
In-Reply-To: <345739C1-B922-42CB-BF00-4616D6DF1E48@gmail.com>
References: <345739C1-B922-42CB-BF00-4616D6DF1E48@gmail.com>
Message-ID: <CAPdLKqfLzgsRPMkx5r8urDz5GFWa9oyv-wgaYMbAAkF8++Mehw@mail.gmail.com>

Perhaps start by explaining what your Plugin was, and why it got taken down?
It is rather difficult to help you rectify a problem if we don't know what
the actual problem is...

Chip

On Mon, Sep 26, 2011 at 1:38 PM, Enej Bajgoric <enej.bajgoric at gmail.com>wrote:

> Hi
>
> I had one one my plugins taken down from wordpress.org. What is the
> process for getting it back on WordPress.org?
>
> I am sorry but I just don't know what is the best way to get in get in
> touch with the person(s) who is/are in charge of the plugin repository so I
> am posting the question here.
>
> Cheers Enej
>
>
>
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From elfin at elfden.co.uk  Mon Sep 26 18:46:32 2011
From: elfin at elfden.co.uk (Rich Pedley)
Date: Mon, 26 Sep 2011 19:46:32 +0100
Subject: [wp-hackers] My Plugin got taken down, what next?
In-Reply-To: <CAPdLKqfLzgsRPMkx5r8urDz5GFWa9oyv-wgaYMbAAkF8++Mehw@mail.gmail.com>
References: <345739C1-B922-42CB-BF00-4616D6DF1E48@gmail.com>
	<CAPdLKqfLzgsRPMkx5r8urDz5GFWa9oyv-wgaYMbAAkF8++Mehw@mail.gmail.com>
Message-ID: <4E80C888.4020202@elfden.co.uk>

though contacting plugins at wordpress.org is the correct procedure.

;)

Rich

On 26/09/2011 19:40, Chip Bennett wrote:
> Perhaps start by explaining what your Plugin was, and why it got taken down?
> It is rather difficult to help you rectify a problem if we don't know what
> the actual problem is...
>
> Chip
>
> On Mon, Sep 26, 2011 at 1:38 PM, Enej Bajgoric<enej.bajgoric at gmail.com>wrote:
>
>> Hi
>>
>> I had one one my plugins taken down from wordpress.org. What is the
>> process for getting it back on WordPress.org?
>>
>> I am sorry but I just don't know what is the best way to get in get in
>> touch with the person(s) who is/are in charge of the plugin repository so I
>> am posting the question here.
>>
>> Cheers Enej
>>
>>
>>
>>
>>
>>
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> -----
> No virus found in this message.
> Checked by AVG - www.avg.com
> Version: 10.0.1410 / Virus Database: 1520/3920 - Release Date: 09/26/11
>
>


From johnnytee at gmail.com  Mon Sep 26 19:26:01 2011
From: johnnytee at gmail.com (John Turner)
Date: Mon, 26 Sep 2011 15:26:01 -0400
Subject: [wp-hackers] Nonce and Caching Issue
Message-ID: <CAGA9GCvN3i_E9a+hEiJXJs2tPSSytqaGJKFtETgo0BBjUB8krQ@mail.gmail.com>

I have a form that displays on the front end of the wp site. I use ajax to
submit it back to the backend. I'm having an issue when using a caching
plugin where the nonce is invalid because of the cached page being server
has an expire nonce.

Are there any best practices to get around this?

From wp-hackers at thecodecave.com  Mon Sep 26 20:15:33 2011
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Mon, 26 Sep 2011 16:15:33 -0400
Subject: [wp-hackers] Nonce and Caching Issue
In-Reply-To: <CAGA9GCvN3i_E9a+hEiJXJs2tPSSytqaGJKFtETgo0BBjUB8krQ@mail.gmail.com>
References: <CAGA9GCvN3i_E9a+hEiJXJs2tPSSytqaGJKFtETgo0BBjUB8krQ@mail.gmail.com>
Message-ID: <4E80DD65.4040805@thecodecave.com>

On 9/26/2011 3:26 PM, John Turner wrote:
> I have a form that displays on the front end of the wp site. I use ajax to
> submit it back to the backend. I'm having an issue when using a caching
> plugin where the nonce is invalid because of the cached page being server
> has an expire nonce.
>
> Are there any best practices to get around this?

Since you are displaying this form when no one is logged (I know this 
because the page cache is in effect), this by definition a non-secured 
process.  I would question if you even need a nonce.

If you do feel you need a nonce, a simple fix would be to serve the form 
via an iframe or even via Ajax.  Then the source code for the home page 
would remain the same for each load.  It would in turn call the iframe 
source or ajax - which you would configure to be outside of the caching 
mechanisms.

-- 
Brian Layman


From stas at nerd.ro  Mon Sep 26 20:22:55 2011
From: stas at nerd.ro (Stas Suscov)
Date: Mon, 26 Sep 2011 23:22:55 +0300
Subject: [wp-hackers] Nonce and Caching Issue
Message-ID: <stuqkk2fah2jrusscodwie2j.1317068575685@email.android.com>

Most popular caching plugins have something called mfunc tag. Check the docs for it.

Brian Layman <wp-hackers at thecodecave.com> wrote:

>On 9/26/2011 3:26 PM, John Turner wrote:
>> I have a form that displays on the front end of the wp site. I use ajax to
>> submit it back to the backend. I'm having an issue when using a caching
>> plugin where the nonce is invalid because of the cached page being server
>> has an expire nonce.
>>
>> Are there any best practices to get around this?
>
>Since you are displaying this form when no one is logged (I know this 
>because the page cache is in effect), this by definition a non-secured 
>process.  I would question if you even need a nonce.
>
>If you do feel you need a nonce, a simple fix would be to serve the form 
>via an iframe or even via Ajax.  Then the source code for the home page 
>would remain the same for each load.  It would in turn call the iframe 
>source or ajax - which you would configure to be outside of the caching 
>mechanisms.
>
>-- 
>Brian Layman
>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers

From johnnytee at gmail.com  Mon Sep 26 23:38:26 2011
From: johnnytee at gmail.com (John Turner)
Date: Mon, 26 Sep 2011 19:38:26 -0400
Subject: [wp-hackers] Nonce and Caching Issue
In-Reply-To: <stuqkk2fah2jrusscodwie2j.1317068575685@email.android.com>
References: <stuqkk2fah2jrusscodwie2j.1317068575685@email.android.com>
Message-ID: <CAGA9GCui_9VnraXLFafFkaaTNHhZxEb11w5hDKxg_TbCo=KhoA@mail.gmail.com>

yes, I questioning whether I actually need one or not. I'll check out the
mfunc. thx

-- 
John

On Mon, Sep 26, 2011 at 4:22 PM, Stas Suscov <stas at nerd.ro> wrote:

> Most popular caching plugins have something called mfunc tag. Check the
> docs for it.
>
> Brian Layman <wp-hackers at thecodecave.com> wrote:
>
> >On 9/26/2011 3:26 PM, John Turner wrote:
> >> I have a form that displays on the front end of the wp site. I use ajax
> to
> >> submit it back to the backend. I'm having an issue when using a caching
> >> plugin where the nonce is invalid because of the cached page being
> server
> >> has an expire nonce.
> >>
> >> Are there any best practices to get around this?
> >
> >Since you are displaying this form when no one is logged (I know this
> >because the page cache is in effect), this by definition a non-secured
> >process.  I would question if you even need a nonce.
> >
> >If you do feel you need a nonce, a simple fix would be to serve the form
> >via an iframe or even via Ajax.  Then the source code for the home page
> >would remain the same for each load.  It would in turn call the iframe
> >source or ajax - which you would configure to be outside of the caching
> >mechanisms.
> >
> >--
> >Brian Layman
> >
> >_______________________________________________
> >wp-hackers mailing list
> >wp-hackers at lists.automattic.com
> >http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
John Turner

From ronin at braydon.com  Tue Sep 27 00:26:41 2011
From: ronin at braydon.com (Braydon)
Date: Mon, 26 Sep 2011 17:26:41 -0700
Subject: [wp-hackers] Preview Posts WP_Query
Message-ID: <4E811841.5080407@braydon.com>

I'm working on a plugin that allows manual editing of URLs and the query 
variables, someone similar to how you can define URLs in Django, however 
without views and only sending a query result to a manually set 
template. The plugin also connects a sitemap menu tree with each URL so 
that lookups and being able to define a location in a menu based upon a 
URL is possible. It's been a lot of work to get things to work correctly 
and remaining with the WordPress way, and if there are any wp-hackers 
interested in this please get in touch and we can collaborate moving 
forward.

In the process of redefining the Rewrite Rules, I've broken post 
previews, and am stuck trying to figure out what the issue is. Here is 
the print out of my query object right at the parse_query hook: 
http://pastebin.com/5zj1fSf4 Any insights into how this is supposed to 
work and what is going wrong would be helpful!

From chuck at avantigroup.com  Tue Sep 27 03:46:53 2011
From: chuck at avantigroup.com (Chuck Scott)
Date: Mon, 26 Sep 2011 22:46:53 -0500
Subject: [wp-hackers] How to let sub site admins import users sans Super
 Admin status on WP Network ...
Message-ID: <CAE-Z5wkxMZbN5V1K5fsvPWZ-Knhcp3xcecAfBDBci7rTB14e4Q@mail.gmail.com>

Hi - i posted thread below on WordPress.org earlier today but thought
i might do similar here in case others have wisdom about how best to
import new users into sub site of WP Network with the admin user doing
the new user import via sub site role of editor or admin but not super
admin .... thread below ... thanks in advance for any pointers that
can be shared ... cordially, chuck scott ...

===================================
thread started on Wordpress.org
===================================
http://wordpress.org/support/topic/plugin-cimy-user-manager-cimy-user-manager-requires-super-admin-on-wp-network?replies=1#post-2360648


CIMY User Manager Requires Super Admin on WP Network

Hi - i'm using the latest version of CIMY User Manager 1.1.1 on WP
Network with a handful of sub sites ... the plugin rocks when i am
logged in as Super Admin but if does not work for sub site when logged
in as admin ...

my goal was to have an Editor on Sub Site be able to upload users via
this plugin but the WP User Admin menu does not show for Editors so i
changed said user to Admin on Sub Site but still no go ... the Admin
user does see the User menu but the CIMY plugin does not appear - only
when logged in as Super Admin ...

accordingly, i'd like not to have to update this sub site user to
Super Admin on entire network just to use this plugin ... thus is
there a work around or hack ..??..

i thought i could modify this code

function cimy_um_admin_menu_custom() {
	global $cimy_um_domain;

	if (!current_user_can('edit_users'))
		return;

	add_submenu_page('users.php', __('Cimy User Manager',
$cimy_um_domain), __('Cimy User Manager', $cimy_um_domain),
"edit_users", "cimy_user_manager", 'cimy_um_import_export_page');
}

and change the current_user_can but nada ... even if i comment it out,
the CIMY menu does not get listed unless logged in as Super Admin ...
i suspect this might have something to do with hooking into users.php
and WP permissions for users but even when i tried to add custom role
of "manage_network_users" i still did not get anywhere hence this post
...

thanks in advance for any pointers that can be shared ... cordially, chuck scott


-------------------------------------------------------------
Me -> http://chuckscott.com

Chuck Scott - Creative Consultant

-------------------------------------------------------------
My Blog --> http://chuckingit.com

Chucking It - Reflecting on Life, Business,
Entrepreneurship, Innovation & Technology

-------------------------------------------------------------
My Company ---> http://avantigroup.com

The Avanti Group, Inc. - Architects of
Multimedia & Web Solutions

-------------------------------------------------------------
What's New --->

Tweeting a bit at @avantigroup

-------------------------------------------------------------
-------------------------------------------------------------
-------------------------------------------------------------

From martin at lazarov.bg  Tue Sep 27 10:55:07 2011
From: martin at lazarov.bg (Martin Lazarov)
Date: Tue, 27 Sep 2011 13:55:07 +0300
Subject: [wp-hackers] Nonce and Caching Issue
In-Reply-To: <CAGA9GCvN3i_E9a+hEiJXJs2tPSSytqaGJKFtETgo0BBjUB8krQ@mail.gmail.com>
References: <CAGA9GCvN3i_E9a+hEiJXJs2tPSSytqaGJKFtETgo0BBjUB8krQ@mail.gmail.com>
Message-ID: <CAFJ6JWE7R_WVVnh_PBjxraxox+EE+HeXx=b2ScjfLjoPVYd-Ew@mail.gmail.com>

Use post method when requesting the ajax page/form/reuqest. Almost all
cache plugins doesn't cache _POST request.

Martin Lazarov,
http://marto.lazarov.org/plugins

On Mon, Sep 26, 2011 at 10:26 PM, John Turner <johnnytee at gmail.com> wrote:
> I have a form that displays on the front end of the wp site. I use ajax to
> submit it back to the backend. I'm having an issue when using a caching
> plugin where the nonce is invalid because of the cached page being server
> has an expire nonce.
>
> Are there any best practices to get around this?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ljunior2005 at gmail.com  Tue Sep 27 11:03:44 2011
From: ljunior2005 at gmail.com (Leo Baiano)
Date: Tue, 27 Sep 2011 08:03:44 -0300
Subject: [wp-hackers] Erro string off set
Message-ID: <CAL1O-KVF91hPj50BS7Mj7om2C5Jc4CQ68r=g9pXn9JspOSdtDA@mail.gmail.com>

Personally, after trying to create a new group of users via add_role()
WordPress began to display the following error whenever I try to log in:

Fatal error: Cannot use string offset as an array  in
/home/..../capabilities.php on line 116

It removed the group function remove_role() but the error still continues.
Also installed the plugin user photo just before the error started, but I do
not know if you have relevance.

Could anyone help me solve this problem?

-- 
Amplexos,

Leo Baiano
http://www.leobaiano.com
http://www.blog.ljunior.com
http://www.mcelebridades.com
http://www.twitter.com/leobaiano

From alex at buayacorp.com  Tue Sep 27 12:00:46 2011
From: alex at buayacorp.com (Alexander Concha)
Date: Tue, 27 Sep 2011 14:00:46 +0200
Subject: [wp-hackers] Erro string off set
In-Reply-To: <CAL1O-KVF91hPj50BS7Mj7om2C5Jc4CQ68r=g9pXn9JspOSdtDA@mail.gmail.com>
References: <CAL1O-KVF91hPj50BS7Mj7om2C5Jc4CQ68r=g9pXn9JspOSdtDA@mail.gmail.com>
Message-ID: <CALt-Q2YgbGTUgGX7Y0kyEALbKU4HjoxoYR0eVqTa1m6CERYQmA@mail.gmail.com>

On Tue, Sep 27, 2011 at 1:03 PM, Leo Baiano <ljunior2005 at gmail.com> wrote:
> Personally, after trying to create a new group of users via add_role()
> WordPress began to display the following error whenever I try to log in:
>
> Fatal error: Cannot use string offset as an array ?in
> /home/..../capabilities.php on line 116
>
> It removed the group function remove_role() but the error still continues.
> Also installed the plugin user photo just before the error started, but I do
> not know if you have relevance.
>
> Could anyone help me solve this problem?

Recreate the user_roles option.

<?php

include_once './wp-config.php';
include_once ABSPATH . '/wp-admin/includes/schema.php';
delete_option( $wpdb->prefix . 'user_roles' );
populate_roles();

?>
-- 
Alexander Concha
http://www.buayacorp.com

From ljunior2005 at gmail.com  Tue Sep 27 12:11:01 2011
From: ljunior2005 at gmail.com (Leo Baiano)
Date: Tue, 27 Sep 2011 09:11:01 -0300
Subject: [wp-hackers] Erro string off set
In-Reply-To: <CALt-Q2YgbGTUgGX7Y0kyEALbKU4HjoxoYR0eVqTa1m6CERYQmA@mail.gmail.com>
References: <CAL1O-KVF91hPj50BS7Mj7om2C5Jc4CQ68r=g9pXn9JspOSdtDA@mail.gmail.com>
	<CALt-Q2YgbGTUgGX7Y0kyEALbKU4HjoxoYR0eVqTa1m6CERYQmA@mail.gmail.com>
Message-ID: <CAL1O-KVmtdS7WSrq6zyNc9b9GiCg4LHp+2SjJtNDVjCAXSgmjg@mail.gmail.com>

Thank you, worked perfectly!

Thank you!

2011/9/27 Alexander Concha <alex at buayacorp.com>

> On Tue, Sep 27, 2011 at 1:03 PM, Leo Baiano <ljunior2005 at gmail.com> wrote:
> > Personally, after trying to create a new group of users via add_role()
> > WordPress began to display the following error whenever I try to log in:
> >
> > Fatal error: Cannot use string offset as an array  in
> > /home/..../capabilities.php on line 116
> >
> > It removed the group function remove_role() but the error still
> continues.
> > Also installed the plugin user photo just before the error started, but I
> do
> > not know if you have relevance.
> >
> > Could anyone help me solve this problem?
>
> Recreate the user_roles option.
>
> <?php
>
> include_once './wp-config.php';
> include_once ABSPATH . '/wp-admin/includes/schema.php';
> delete_option( $wpdb->prefix . 'user_roles' );
> populate_roles();
>
> ?>
> --
> Alexander Concha
> http://www.buayacorp.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Amplexos,

Leo Baiano
http://www.leobaiano.com
http://www.blog.ljunior.com
http://www.mcelebridades.com
http://www.twitter.com/leobaiano

From jer at simianuprising.com  Tue Sep 27 15:06:03 2011
From: jer at simianuprising.com (Jeremy Clarke)
Date: Tue, 27 Sep 2011 11:06:03 -0400
Subject: [wp-hackers] Best approach
In-Reply-To: <007201cc76fa$ce1eac40$0100a8c0@corpfe1f3cd943>
References: <004101cc7684$58edc580$0100a8c0@corpfe1f3cd943>
	<CAD-FghwStC+pMCSJULj362=J-2HBx-DKrTfO2kEMkfT-r1M9NQ@mail.gmail.com>
	<007201cc76fa$ce1eac40$0100a8c0@corpfe1f3cd943>
Message-ID: <CAAHgzDNshSQSY1pm9QcG1cYX=BJBO48E0hU4-yFHfry0bVb+kA@mail.gmail.com>

On Mon, Sep 19, 2011 at 2:34 PM, Diana K. Cury <dianakac at gmail.com> wrote:

>
> I'm think taxonomies should do, but is ok to add soo much items like
> cities? Is there limit?!
>
>
There's no technical limit but there are usability issues that come up with
hierarchical (category-style) taxonomies if you have too many terms in them.
Specifically the category selection box is really intended for 2-100 or so
terms, more than that and it is no longer a good interface to deal with such
a long list. If the terms are actually in a complex hierarchy more than 2
levels deep it gets even worse because it's almost impossible to visualize
the hierarchy in that tiny box. I've also found (in having categories hold
world regions then countries inside them) that trying to display complex
taxonomy hierarchies on the frontend can be a big hassle and definitely
requires reworking the standard taxonomy display functions because e.g. you
don't want a list of all terms sorted alphabetically if some of them are
cities and some of them are countries, you want to show the hierarchy
somehow.

That said, any situation where you want to functionally relate
countries/states/cities together is going to be very complicated, so putting
the work into a hierarchical taxonomy solution is probably your best bet.


> I found quite easy to populate the terms using insert_terms, but there is
> someway to insert taxonomies within a prent one?!
>
>
When you insert terms you can add the 'parent' field with the term_id of the
parent you want to set. Look at the function to see how that's possible, I
may have the detail wrong but that's the essence.

-- 
Jeremy Clarke ? jeremyclarke.org
Code and Design ? globalvoicesonline.org

From eric at eam.me  Tue Sep 27 16:18:03 2011
From: eric at eam.me (Eric Mann)
Date: Tue, 27 Sep 2011 09:18:03 -0700
Subject: [wp-hackers] WordPress and Websockets
In-Reply-To: <4E7BB28E.9020101@gunters.org>
References: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>
	<4E7B846B.6010206@gunters.org>
	<CAEi=p53Uz3PBiuuQC2kzzPe3tEWiGnbgo+b+QU3SG8=Xz_HS-g@mail.gmail.com>
	<4E7BB28E.9020101@gunters.org>
Message-ID: <CAEi=p51DtebNFdjg5Mn624o1WBHWooR4Vxy-5jCJ2TzCZKyYEg@mail.gmail.com>

At the Portland WordPress User Group meetup last night, someone recommended
an alternative to Websockets that might fit my use-case.  The HTML5 spec
also includes a definition for Server-Sent Events.  It's not two-way
communication, but still allows the server to asynchronously push data to
the client without the use of AJAX long-polling.

It works in all of the major "modern" browsers (Chrome, Firefox 6+, Safari,
Opera) ... but will need to fall back to an alternative for older versions
or for anything IE (and no, not even the IE10 developer preview supports
SSE).

Additionally, SSE will work with a stock Apache setup ... no need to install
Nginx or host the system on a central location (both of which were solutions
I was dreading for a plugin).  It communicates over standard HTTP, so no
additional protocols need to be set up at all.

So I'll still benefit from the new systems defined by HTML5 ... just not the
ones I *thought* I'd end up using.  Thanks to everyone who took a stab at
the question, though.  I'll eventually find a WP use case for websockets,
and this will definitely come in handy!

From wordpress at dd32.id.au  Wed Sep 28 01:26:54 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Wed, 28 Sep 2011 11:26:54 +1000
Subject: [wp-hackers] WordPress and Websockets
In-Reply-To: <CAEi=p51DtebNFdjg5Mn624o1WBHWooR4Vxy-5jCJ2TzCZKyYEg@mail.gmail.com>
References: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>
	<4E7B846B.6010206@gunters.org>
	<CAEi=p53Uz3PBiuuQC2kzzPe3tEWiGnbgo+b+QU3SG8=Xz_HS-g@mail.gmail.com>
	<4E7BB28E.9020101@gunters.org>
	<CAEi=p51DtebNFdjg5Mn624o1WBHWooR4Vxy-5jCJ2TzCZKyYEg@mail.gmail.com>
Message-ID: <CAL4EHfmQnJdyZCN51a485Ap_JC2K1S03r+1WeURXGrygdvdL8w@mail.gmail.com>

Push Events/SSE still have the same problem however, It requires a single
connection to remain open for the browser, a header/data chunk is sent along
with a HTTP 100 continue header from memory, so the browser continuously
receives the updated data. In order for that to happen, you'll have a PHP
script in a infinite loop (until the client disconnects).

Push Events and Websockets are nice standards, but not available for most
people right now due to that server support requirement, If you're deploying
a single dedicated site, you can ensure the server can handle it.. but for
everyone else out there not managing their servers? Ajax Long polling is the
best option which is going to perform whilst not bringing their server to
it's knees.

On 28 September 2011 02:18, Eric Mann <eric at eam.me> wrote:

> At the Portland WordPress User Group meetup last night, someone recommended
> an alternative to Websockets that might fit my use-case.  The HTML5 spec
> also includes a definition for Server-Sent Events.  It's not two-way
> communication, but still allows the server to asynchronously push data to
> the client without the use of AJAX long-polling.
>
> It works in all of the major "modern" browsers (Chrome, Firefox 6+, Safari,
> Opera) ... but will need to fall back to an alternative for older versions
> or for anything IE (and no, not even the IE10 developer preview supports
> SSE).
>
> Additionally, SSE will work with a stock Apache setup ... no need to
> install
> Nginx or host the system on a central location (both of which were
> solutions
> I was dreading for a plugin).  It communicates over standard HTTP, so no
> additional protocols need to be set up at all.
>
> So I'll still benefit from the new systems defined by HTML5 ... just not
> the
> ones I *thought* I'd end up using.  Thanks to everyone who took a stab at
> the question, though.  I'll eventually find a WP use case for websockets,
> and this will definitely come in handy!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dianakac at gmail.com  Wed Sep 28 02:43:08 2011
From: dianakac at gmail.com (Diana K. Cury)
Date: Tue, 27 Sep 2011 23:43:08 -0300
Subject: [wp-hackers] Best approach
References: <004101cc7684$58edc580$0100a8c0@corpfe1f3cd943><CAD-FghwStC+pMCSJULj362=J-2HBx-DKrTfO2kEMkfT-r1M9NQ@mail.gmail.com><007201cc76fa$ce1eac40$0100a8c0@corpfe1f3cd943>
	<CAAHgzDNshSQSY1pm9QcG1cYX=BJBO48E0hU4-yFHfry0bVb+kA@mail.gmail.com>
Message-ID: <005c01cc7d88$5ee34a40$0100a8c0@corpfe1f3cd943>

Thanks for your reply,

I still can't find a way to populate the taxonomies assigning the parent, I 
thinks there?s no way to do so.





----- Original Message ----- 
From: "Jeremy Clarke" <jer at simianuprising.com>
To: <wp-hackers at lists.automattic.com>
Sent: Tuesday, September 27, 2011 12:06 PM
Subject: Re: [wp-hackers] Best approach


On Mon, Sep 19, 2011 at 2:34 PM, Diana K. Cury <dianakac at gmail.com> wrote:

>
> I'm think taxonomies should do, but is ok to add soo much items like
> cities? Is there limit?!
>
>
There's no technical limit but there are usability issues that come up with
hierarchical (category-style) taxonomies if you have too many terms in them.
Specifically the category selection box is really intended for 2-100 or so
terms, more than that and it is no longer a good interface to deal with such
a long list. If the terms are actually in a complex hierarchy more than 2
levels deep it gets even worse because it's almost impossible to visualize
the hierarchy in that tiny box. I've also found (in having categories hold
world regions then countries inside them) that trying to display complex
taxonomy hierarchies on the frontend can be a big hassle and definitely
requires reworking the standard taxonomy display functions because e.g. you
don't want a list of all terms sorted alphabetically if some of them are
cities and some of them are countries, you want to show the hierarchy
somehow.

That said, any situation where you want to functionally relate
countries/states/cities together is going to be very complicated, so putting
the work into a hierarchical taxonomy solution is probably your best bet.


> I found quite easy to populate the terms using insert_terms, but there is
> someway to insert taxonomies within a prent one?!
>
>
When you insert terms you can add the 'parent' field with the term_id of the
parent you want to set. Look at the function to see how that's possible, I
may have the detail wrong but that's the essence.

-- 
Jeremy Clarke ? jeremyclarke.org
Code and Design ? globalvoicesonline.org
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers 


From paul at codehooligans.com  Wed Sep 28 02:59:12 2011
From: paul at codehooligans.com (Paul Menard)
Date: Tue, 27 Sep 2011 22:59:12 -0400
Subject: [wp-hackers] Best approach
In-Reply-To: <005c01cc7d88$5ee34a40$0100a8c0@corpfe1f3cd943>
References: <004101cc7684$58edc580$0100a8c0@corpfe1f3cd943>
	<CAD-FghwStC+pMCSJULj362=J-2HBx-DKrTfO2kEMkfT-r1M9NQ@mail.gmail.com>
	<007201cc76fa$ce1eac40$0100a8c0@corpfe1f3cd943>
	<CAAHgzDNshSQSY1pm9QcG1cYX=BJBO48E0hU4-yFHfry0bVb+kA@mail.gmail.com>
	<005c01cc7d88$5ee34a40$0100a8c0@corpfe1f3cd943>
Message-ID: <99A48E56-5657-461F-972C-4FA715F2EEDA@codehooligans.com>

A few months ago I wrote a plugin, Pages-Children. I originally wrote this for just Pages. But it was quickly extended for other similar post types. Then also taxonomies witch are hierarchical.

P

Sent from my iPad

On Sep 27, 2011, at 10:43 PM, "Diana K. Cury" <dianakac at gmail.com> wrote:

> Thanks for your reply,
> 
> I still can't find a way to populate the taxonomies assigning the parent, I thinks there?s no way to do so.
> 
> 
> 
> 
> 
> ----- Original Message ----- From: "Jeremy Clarke" <jer at simianuprising.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Tuesday, September 27, 2011 12:06 PM
> Subject: Re: [wp-hackers] Best approach
> 
> 
> On Mon, Sep 19, 2011 at 2:34 PM, Diana K. Cury <dianakac at gmail.com> wrote:
> 
>> 
>> I'm think taxonomies should do, but is ok to add soo much items like
>> cities? Is there limit?!
>> 
>> 
> There's no technical limit but there are usability issues that come up with
> hierarchical (category-style) taxonomies if you have too many terms in them.
> Specifically the category selection box is really intended for 2-100 or so
> terms, more than that and it is no longer a good interface to deal with such
> a long list. If the terms are actually in a complex hierarchy more than 2
> levels deep it gets even worse because it's almost impossible to visualize
> the hierarchy in that tiny box. I've also found (in having categories hold
> world regions then countries inside them) that trying to display complex
> taxonomy hierarchies on the frontend can be a big hassle and definitely
> requires reworking the standard taxonomy display functions because e.g. you
> don't want a list of all terms sorted alphabetically if some of them are
> cities and some of them are countries, you want to show the hierarchy
> somehow.
> 
> That said, any situation where you want to functionally relate
> countries/states/cities together is going to be very complicated, so putting
> the work into a hierarchical taxonomy solution is probably your best bet.
> 
> 
>> I found quite easy to populate the terms using insert_terms, but there is
>> someway to insert taxonomies within a prent one?!
>> 
>> 
> When you insert terms you can add the 'parent' field with the term_id of the
> parent you want to set. Look at the function to see how that's possible, I
> may have the detail wrong but that's the essence.
> 
> -- 
> Jeremy Clarke ? jeremyclarke.org
> Code and Design ? globalvoicesonline.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at zed1.com  Wed Sep 28 11:32:14 2011
From: wordpress at zed1.com (Mike Little)
Date: Wed, 28 Sep 2011 12:32:14 +0100
Subject: [wp-hackers] Best approach
In-Reply-To: <005c01cc7d88$5ee34a40$0100a8c0@corpfe1f3cd943>
References: <004101cc7684$58edc580$0100a8c0@corpfe1f3cd943>
	<CAD-FghwStC+pMCSJULj362=J-2HBx-DKrTfO2kEMkfT-r1M9NQ@mail.gmail.com>
	<007201cc76fa$ce1eac40$0100a8c0@corpfe1f3cd943>
	<CAAHgzDNshSQSY1pm9QcG1cYX=BJBO48E0hU4-yFHfry0bVb+kA@mail.gmail.com>
	<005c01cc7d88$5ee34a40$0100a8c0@corpfe1f3cd943>
Message-ID: <CAMb54M0rA7uOrF=RTfxujPNhy1ncGMm1ZSaEd+FKFyk7U4Bizw@mail.gmail.com>

On Wed, Sep 28, 2011 at 03:43, Diana K. Cury <dianakac at gmail.com> wrote:

> Thanks for your reply,
>
> I still can't find a way to populate the taxonomies assigning the parent, I
> thinks there?s no way to do so.
>
>
>
Assuming 'mytaxonomy' is defined to be hierarchical:

$parent_term = wp_insert_term( 'My Term Name', 'mytaxonomy', array(
'description' => 'Some description', 'slug' => 'my-term-name' ) );

$term = wp_insert_term( 'My Child Term', 'mytaxonomy', array( 'description'
=> 'Some child description', 'slug' => 'my-child-term', 'parent' =>
$parent_term['term_id'] ) );



Mike
-- 
Mike Little
http://zed1.com/

From dianakac at gmail.com  Wed Sep 28 17:41:49 2011
From: dianakac at gmail.com (Diana K. Cury)
Date: Wed, 28 Sep 2011 14:41:49 -0300
Subject: [wp-hackers] Best approach
References: <004101cc7684$58edc580$0100a8c0@corpfe1f3cd943><CAD-FghwStC+pMCSJULj362=J-2HBx-DKrTfO2kEMkfT-r1M9NQ@mail.gmail.com><007201cc76fa$ce1eac40$0100a8c0@corpfe1f3cd943><CAAHgzDNshSQSY1pm9QcG1cYX=BJBO48E0hU4-yFHfry0bVb+kA@mail.gmail.com><005c01cc7d88$5ee34a40$0100a8c0@corpfe1f3cd943>
	<CAMb54M0rA7uOrF=RTfxujPNhy1ncGMm1ZSaEd+FKFyk7U4Bizw@mail.gmail.com>
Message-ID: <002101cc7e05$f1f20c90$0100a8c0@corpfe1f3cd943>

Thanks a lot!

----- Original Message ----- 
From: "Mike Little" <wordpress at zed1.com>
To: <wp-hackers at lists.automattic.com>
Sent: Wednesday, September 28, 2011 8:32 AM
Subject: Re: [wp-hackers] Best approach


> On Wed, Sep 28, 2011 at 03:43, Diana K. Cury <dianakac at gmail.com> wrote:
>
>> Thanks for your reply,
>>
>> I still can't find a way to populate the taxonomies assigning the parent, 
>> I
>> thinks there?s no way to do so.
>>
>>
>>
> Assuming 'mytaxonomy' is defined to be hierarchical:
>
> $parent_term = wp_insert_term( 'My Term Name', 'mytaxonomy', array(
> 'description' => 'Some description', 'slug' => 'my-term-name' ) );
>
> $term = wp_insert_term( 'My Child Term', 'mytaxonomy', array( 
> 'description'
> => 'Some child description', 'slug' => 'my-child-term', 'parent' =>
> $parent_term['term_id'] ) );
>
>
>
> Mike
> -- 
> Mike Little
> http://zed1.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


From jpitts at hvc.rr.com  Wed Sep 28 18:02:23 2011
From: jpitts at hvc.rr.com (Joseph Pitts)
Date: Wed, 28 Sep 2011 14:02:23 -0400
Subject: [wp-hackers] Can Apache be used to Load Balance Wordpress
Message-ID: <001201cc7e08$c627b170$52771450$@hvc.rr.com>

I'll try to be brief as possible.

I have set up 2 2008R2 servers each with WAMP 2.1 which uses Apache2.2.17.
On Server A the Apache document root and <Directory directive> has been
changed from the default to D:www. I installed WP 3.2 into this document
root in a directory called blog. The blog is working fine from the apache
2.2.17 instance on Server A. 

This [D:www]directory has been configured on Server A as both an NFS and
SAMBA share using File Services-Share and Storage management. 

On Server B, WAMP 2.1 Has also been installed and the Apache document root
in httpd.conf and the <Directory directive> is pointed at the Server A
document root [D:\www] using the UNC format of //Server A/www/. Apache is
also running on Server B as administrator to enable network access since the
Local System account has no network access.

Lastly I must state that all of this is located in a DMZ so there is no
'domain' or 'domain accounts' both servers are in workgoroup. So far I have
not been able to get Server B to serve anything from the document root on
Server A. Is this at all feasible???

I've already read that Apache cannot use a mapped network resource as
document root.

Is there any way for Apache to serve wordpress from a non local i.e. network
resource document root?

Also, these are vmware 4.1 U1 virtual servers running on iscsi san.

 

Thank You

Joe Pitts

 


From rafaehlers at gmail.com  Wed Sep 28 18:08:48 2011
From: rafaehlers at gmail.com (Rafael Ehlers)
Date: Wed, 28 Sep 2011 15:08:48 -0300
Subject: [wp-hackers] Can Apache be used to Load Balance Wordpress
In-Reply-To: <001201cc7e08$c627b170$52771450$@hvc.rr.com>
References: <001201cc7e08$c627b170$52771450$@hvc.rr.com>
Message-ID: <CAF_6N0M7G5nk=Uk1Of+VQuLqn=609iV7i+_v6vdPVP2vUszi8g@mail.gmail.com>

Wait!

I dont think it's the best approach to use WAMP or EasyPHP and similar
combos on this situation, install apache and php separately for a better
perfomance.

On Wed, Sep 28, 2011 at 3:02 PM, Joseph Pitts <jpitts at hvc.rr.com> wrote:

> I'll try to be brief as possible.
>
> I have set up 2 2008R2 servers each with WAMP 2.1 which uses Apache2.2.17.
> On Server A the Apache document root and <Directory directive> has been
> changed from the default to D:www. I installed WP 3.2 into this document
> root in a directory called blog. The blog is working fine from the apache
> 2.2.17 instance on Server A.
>
> This [D:www]directory has been configured on Server A as both an NFS and
> SAMBA share using File Services-Share and Storage management.
>
> On Server B, WAMP 2.1 Has also been installed and the Apache document root
> in httpd.conf and the <Directory directive> is pointed at the Server A
> document root [D:\www] using the UNC format of //Server A/www/. Apache is
> also running on Server B as administrator to enable network access since
> the
> Local System account has no network access.
>
> Lastly I must state that all of this is located in a DMZ so there is no
> 'domain' or 'domain accounts' both servers are in workgoroup. So far I have
> not been able to get Server B to serve anything from the document root on
> Server A. Is this at all feasible???
>
> I've already read that Apache cannot use a mapped network resource as
> document root.
>
> Is there any way for Apache to serve wordpress from a non local i.e.
> network
> resource document root?
>
> Also, these are vmware 4.1 U1 virtual servers running on iscsi san.
>
>
>
> Thank You
>
> Joe Pitts
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at zed1.com  Wed Sep 28 21:54:44 2011
From: wordpress at zed1.com (Mike Little)
Date: Wed, 28 Sep 2011 22:54:44 +0100
Subject: [wp-hackers] Can Apache be used to Load Balance Wordpress
In-Reply-To: <001201cc7e08$c627b170$52771450$@hvc.rr.com>
References: <001201cc7e08$c627b170$52771450$@hvc.rr.com>
Message-ID: <CAMb54M3_GBEW6v9=Kb_QaF3BUeoWPZgTAQpZH+6YZ0kenfizow@mail.gmail.com>

On Wed, Sep 28, 2011 at 19:02, Joseph Pitts <jpitts at hvc.rr.com> wrote:

> I'll try to be brief as possible.
>
> I have set up 2 2008R2 servers each with WAMP 2.1 which uses Apache2.2.17.
> On Server A the Apache document root and <Directory directive> has been
> changed from the default to D:www. I installed WP 3.2 into this document
> root in a directory called blog. The blog is working fine from the apache
> 2.2.17 instance on Server A.
>
> This [D:www]directory has been configured on Server A as both an NFS and
> SAMBA share using File Services-Share and Storage management.
>
> On Server B, WAMP 2.1 Has also been installed and the Apache document root
> in httpd.conf and the <Directory directive> is pointed at the Server A
> document root [D:\www] using the UNC format of //Server A/www/. Apache is
> also running on Server B as administrator to enable network access since
> the
> Local System account has no network access.
>
> Lastly I must state that all of this is located in a DMZ so there is no
> 'domain' or 'domain accounts' both servers are in workgoroup. So far I have
> not been able to get Server B to serve anything from the document root on
> Server A. Is this at all feasible???
>
> I've already read that Apache cannot use a mapped network resource as
> document root.
>
> Is there any way for Apache to serve wordpress from a non local i.e.
> network
> resource document root?
>
>
You need to look into reverse proxying with Apache on Server B.

That is, requests for //serverb/blog/someurl are served by Apache B, but it
requests its content from server A (and changes all the urls along the way.)

But, that's not really load balancing because server A still has to do all
the work.



Mike
-- 
Mike Little
http://zed1.com/

From opensourcestaffing at gmail.com  Thu Sep 29 00:33:17 2011
From: opensourcestaffing at gmail.com (OSS)
Date: Wed, 28 Sep 2011 19:33:17 -0500
Subject: [wp-hackers] [JOB] Sr. PHP/WordPress Developer - NYC | 100-140k
Message-ID: <093d01cc7e3f$6252ba50$26f82ef0$@gmail.com>

This is a full time, on-site, salaried Sr. PHP/WordPress Developer position
located in New York City paying $100,000-$140,000 depending on experience +
benefits.  No telecommuting allowed. US Citizens or Green Card holders only
please. Full company details provided to qualified applicants. Thank you.

Our New York City client, a new media publishing start-up is looking for a
strong LAMP Developer to join their fast paced, growing company.  The
candidate must have strong development experience with emphasis on building
scalable, high-traffic websites using WordPress.  You will be working in a
small technology team, closely with the designers/information architects and
business stakeholders.

Requirements: 
* 4+ years of hands-on development experience PHP5 
* WordPress: custom themes and plugins development (if no WordPress, then
other CMS experience is also acceptable) 
* Solid experience with HTML/CSS/JavaScript/jQuery/JSON 
* A desire to learn new technologies, research new products and a
willingness to own the product and improve it 
* Bachelor's Degree in Computer Science or a similar relevant degree or
experience WordPress community experience is a huge plus 
* Experience building scalable, high-traffic websites is a huge plus 

If you are interested in this job, please submit your RESUME, SALARY
requirements and relevant WordPress links and/or portfolio to
opensourcestaffing|AT|gmail.com  

Thank you, 
Beau J. Gould 
------------------ 
Open Source Staffing 
http://opensourcestaffing.wordpress.com  
opensourcestaffing|AT|gmail.com 
Follow me on Twitter: ossjobs


From james at easilyamusedinc.com  Wed Sep 28 23:36:33 2011
From: james at easilyamusedinc.com (James Tryon)
Date: Wed, 28 Sep 2011 19:36:33 -0400
Subject: [wp-hackers] [JOB] Sr. PHP/WordPress Developer - NYC | 100-140k
In-Reply-To: <093d01cc7e3f$6252ba50$26f82ef0$@gmail.com>
References: <093d01cc7e3f$6252ba50$26f82ef0$@gmail.com>
Message-ID: <D5486628-0E4E-4EC7-B938-A3C4EDC1E51B@easilyamusedinc.com>

Hi Beau

This Mailing list is not for job postings.

You can post your job posting over at http://jobs.wordpress.net/ if you would like.

Thank you for your time,
James Tryon, Creative Director

Easily Amused, Inc.
http://easilyamusedinc.com
P: (407) 278-5498 C: (407) 733-6473 T: easilyamused

On Sep 28, 2011, at 8:33 PM, OSS wrote:

> This is a full time, on-site, salaried Sr. PHP/WordPress Developer position
> located in New York City paying $100,000-$140,000 depending on experience +
> benefits.  No telecommuting allowed. US Citizens or Green Card holders only
> please. Full company details provided to qualified applicants. Thank you.
> 
> Our New York City client, a new media publishing start-up is looking for a
> strong LAMP Developer to join their fast paced, growing company.  The
> candidate must have strong development experience with emphasis on building
> scalable, high-traffic websites using WordPress.  You will be working in a
> small technology team, closely with the designers/information architects and
> business stakeholders.
> 
> Requirements: 
> * 4+ years of hands-on development experience PHP5 
> * WordPress: custom themes and plugins development (if no WordPress, then
> other CMS experience is also acceptable) 
> * Solid experience with HTML/CSS/JavaScript/jQuery/JSON 
> * A desire to learn new technologies, research new products and a
> willingness to own the product and improve it 
> * Bachelor's Degree in Computer Science or a similar relevant degree or
> experience WordPress community experience is a huge plus 
> * Experience building scalable, high-traffic websites is a huge plus 
> 
> If you are interested in this job, please submit your RESUME, SALARY
> requirements and relevant WordPress links and/or portfolio to
> opensourcestaffing|AT|gmail.com  
> 
> Thank you, 
> Beau J. Gould 
> ------------------ 
> Open Source Staffing 
> http://opensourcestaffing.wordpress.com  
> opensourcestaffing|AT|gmail.com 
> Follow me on Twitter: ossjobs
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From immanence7 at gmail.com  Thu Sep 29 09:15:50 2011
From: immanence7 at gmail.com (John Black)
Date: Thu, 29 Sep 2011 11:15:50 +0200
Subject: [wp-hackers] simple question about RSS feeds
Message-ID: <6FE2B649-72AC-463F-854A-A085C0AFF1D0@gmail.com>

Forgive me if this question is like Wordpress 101.

I have a site that has categories and tags. Sometimes tags are relevant in more than one category. However, I want to create an RSS feed based on the specific combination of a category and tag.

Can I create an RSS feed that only pulls out posts that include *both* the category and the tag I'm looking to combine?

If so, how would I do it?

best,
John


From wordpress at dd32.id.au  Thu Sep 29 09:26:38 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 29 Sep 2011 19:26:38 +1000
Subject: [wp-hackers] simple question about RSS feeds
In-Reply-To: <6FE2B649-72AC-463F-854A-A085C0AFF1D0@gmail.com>
References: <6FE2B649-72AC-463F-854A-A085C0AFF1D0@gmail.com>
Message-ID: <CAL4EHfmGa2rsqbbK=npovA0L6PvbK1NSpzyPJVtih_91kaDX-w@mail.gmail.com>

Yes you can!
First up, WordPress supports intersections between multiple taxonomies, just
query for both at the same time:
http://dd32.id.au/category/prefixed/wordpress-prefixes/?tag=colours

And then just hit the feed version:
http://dd32.id.au/category/prefixed/wordpress-prefixes/feed/?tag=colours
and all is good :)

(Yes, I'm aware Feeds are borked on my domain, I've got a empty line coming
from a Plugin somewhere that I haven't had time to track down)

On 29 September 2011 19:15, John Black <immanence7 at gmail.com> wrote:

> Forgive me if this question is like Wordpress 101.
>
> I have a site that has categories and tags. Sometimes tags are relevant in
> more than one category. However, I want to create an RSS feed based on the
> specific combination of a category and tag.
>
> Can I create an RSS feed that only pulls out posts that include *both* the
> category and the tag I'm looking to combine?
>
> If so, how would I do it?
>
> best,
> John
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From pavelevap at post.cz  Thu Sep 29 15:42:00 2011
From: pavelevap at post.cz (=?us-ascii?Q?Pavel=20Hejn?=)
Date: Thu, 29 Sep 2011 17:42:00 +0200 (CEST)
Subject: [wp-hackers] Using different filter values on website
Message-ID: <81223.29562.66008-6188-267544712-1317310920@post.cz>

Hi,

I tried to set up different video oembed sizes for content and sidebar. I have CPT "video" and I can set up video size with embed_defaults filter. But this filter works for the whole site and I need to have smaller video size in my sidebar and bigger video size when listing items from my CPT in main content. So, I tried to add function to loop_start and check if main loop is running:

function test_main_loop( $query ) {
  global $wp_the_query;
  if ( $query === $wp_the_query ) {
    add_filter( 'embed_defaults', 'big_embed_defaults' );
  }
  else {
    add_filter( 'embed_defaults', 'small_embed_defaults' );
  }
}
add_action( 'loop_start', 'test_main_loop' );

Can I call add_filter() inside add_action() function? Everything works, but I am not sure if it is the right solution (best approach)? Or do you have any other idea how to achieve different video sizes on website only with WordPress oembed support (without plugin)? Thank you for your help...

Pavel

From mike at etchsoftware.com  Thu Sep 29 21:03:29 2011
From: mike at etchsoftware.com (Mike Bijon)
Date: Thu, 29 Sep 2011 14:03:29 -0700
Subject: [wp-hackers] Can Apache be used to Load Balance Wordpress
Message-ID: <CABwjQBzVOoGf9k=VD4dVbQzDrmWZ21+0V19n5rCp8-tn9kHrfA@mail.gmail.com>

Joe, I think Windows permissions/networking are still your issue. They added
additional service limitations in Win2k8: Local Service, Network Service, or
Local System.

Since you've cross-posted to the WP forums, I responded with how-to's there
because the info is more-public:
*
http://wordpress.org/support/topic/how-to-load-balance-word-press?replies=3#post-2366770

From eric at eam.me  Thu Sep 29 21:27:18 2011
From: eric at eam.me (Eric Mann)
Date: Thu, 29 Sep 2011 14:27:18 -0700
Subject: [wp-hackers] WordPress and Websockets
In-Reply-To: <CAL4EHfmQnJdyZCN51a485Ap_JC2K1S03r+1WeURXGrygdvdL8w@mail.gmail.com>
References: <CAEi=p53WqO8Z9wbeGgsDKx5fE0wHrReQxF4iKByAN9ZLppJUcg@mail.gmail.com>
	<4E7B846B.6010206@gunters.org>
	<CAEi=p53Uz3PBiuuQC2kzzPe3tEWiGnbgo+b+QU3SG8=Xz_HS-g@mail.gmail.com>
	<4E7BB28E.9020101@gunters.org>
	<CAEi=p51DtebNFdjg5Mn624o1WBHWooR4Vxy-5jCJ2TzCZKyYEg@mail.gmail.com>
	<CAL4EHfmQnJdyZCN51a485Ap_JC2K1S03r+1WeURXGrygdvdL8w@mail.gmail.com>
Message-ID: <CAEi=p50G0466unk-iubjV+49=uN6vcPH-zRbCz3uxQSFp8NMcw@mail.gmail.com>

Very good points. Disappointing, but a good reality check nonetheless.

On Tue, Sep 27, 2011 at 6:26 PM, Dion Hulse (dd32) <wordpress at dd32.id.au>wrote:

> Push Events/SSE still have the same problem however, It requires a single
> connection to remain open for the browser, a header/data chunk is sent
> along
> with a HTTP 100 continue header from memory, so the browser continuously
> receives the updated data. In order for that to happen, you'll have a PHP
> script in a infinite loop (until the client disconnects).
>
> Push Events and Websockets are nice standards, but not available for most
> people right now due to that server support requirement, If you're
> deploying
> a single dedicated site, you can ensure the server can handle it.. but for
> everyone else out there not managing their servers? Ajax Long polling is
> the
> best option which is going to perform whilst not bringing their server to
> it's knees.
>
> On 28 September 2011 02:18, Eric Mann <eric at eam.me> wrote:
>
> > At the Portland WordPress User Group meetup last night, someone
> recommended
> > an alternative to Websockets that might fit my use-case.  The HTML5 spec
> > also includes a definition for Server-Sent Events.  It's not two-way
> > communication, but still allows the server to asynchronously push data to
> > the client without the use of AJAX long-polling.
> >
> > It works in all of the major "modern" browsers (Chrome, Firefox 6+,
> Safari,
> > Opera) ... but will need to fall back to an alternative for older
> versions
> > or for anything IE (and no, not even the IE10 developer preview supports
> > SSE).
> >
> > Additionally, SSE will work with a stock Apache setup ... no need to
> > install
> > Nginx or host the system on a central location (both of which were
> > solutions
> > I was dreading for a plugin).  It communicates over standard HTTP, so no
> > additional protocols need to be set up at all.
> >
> > So I'll still benefit from the new systems defined by HTML5 ... just not
> > the
> > ones I *thought* I'd end up using.  Thanks to everyone who took a stab at
> > the question, though.  I'll eventually find a WP use case for websockets,
> > and this will definitely come in handy!
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From kkarpieszuk at gmail.com  Fri Sep 30 10:41:11 2011
From: kkarpieszuk at gmail.com (Konrad Karpieszuk)
Date: Fri, 30 Sep 2011 12:41:11 +0200
Subject: [wp-hackers] how big objects can i cache using wp transient api?
Message-ID: <CAGhUOaAE5YTwt6v_+9VZLbxySkdT37OrZjOcOPzt1ffV3AkOoA@mail.gmail.com>

hello

i cannnot find answer for this question. i have quite huge array which
i want to remember in transient. this array after serialization has
lenght over 300000 signs ( i check this using
strlen(serialize($my_array))

will it be a problem for transient api?

-- 
(en) regards / (pl) pozdrawiam
Konrad Karpieszuk

From otto at ottodestruct.com  Fri Sep 30 13:52:01 2011
From: otto at ottodestruct.com (Otto)
Date: Fri, 30 Sep 2011 08:52:01 -0500
Subject: [wp-hackers] how big objects can i cache using wp transient api?
In-Reply-To: <CAGhUOaAE5YTwt6v_+9VZLbxySkdT37OrZjOcOPzt1ffV3AkOoA@mail.gmail.com>
References: <CAGhUOaAE5YTwt6v_+9VZLbxySkdT37OrZjOcOPzt1ffV3AkOoA@mail.gmail.com>
Message-ID: <CAD-Fghwcj22_Dd5rJFj_Np3tcgEJoN+FSE8DVfBNq32hWY-2-Q@mail.gmail.com>

The option_value is longtext, which has a maximum size of 2^32-1
(4,294,967,295) characters.

In practical terms, the limit will be lower, but there's no particular
issue with storing large data values in a transient. You may have
speed issues in retrieving something that large from the database very
often though. I'd suggest evaluating what parts of the data you
actually need to use and store only those. If you're using the whole
thing, then maybe another approach would work better, such as storing
it in a custom post type.

-Otto



On Fri, Sep 30, 2011 at 5:41 AM, Konrad Karpieszuk
<kkarpieszuk at gmail.com> wrote:
> hello
>
> i cannnot find answer for this question. i have quite huge array which
> i want to remember in transient. this array after serialization has
> lenght over 300000 signs ( i check this using
> strlen(serialize($my_array))
>
> will it be a problem for transient api?
>
> --
> (en) regards / (pl) pozdrawiam
> Konrad Karpieszuk
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From cjscott69 at gmail.com  Fri Sep 30 18:18:17 2011
From: cjscott69 at gmail.com (Chris Scott)
Date: Fri, 30 Sep 2011 14:18:17 -0400
Subject: [wp-hackers] how big objects can i cache using wp transient api?
In-Reply-To: <CAD-Fghwcj22_Dd5rJFj_Np3tcgEJoN+FSE8DVfBNq32hWY-2-Q@mail.gmail.com>
References: <CAGhUOaAE5YTwt6v_+9VZLbxySkdT37OrZjOcOPzt1ffV3AkOoA@mail.gmail.com>
	<CAD-Fghwcj22_Dd5rJFj_Np3tcgEJoN+FSE8DVfBNq32hWY-2-Q@mail.gmail.com>
Message-ID: <CABxMOSR+N8Q1kDE6espEvxWJmP2qEvU+22xcphuT6WU-BRfGMQ@mail.gmail.com>

Note that if you're using an object cache backend the max value can be
much smaller (e.g. memcached is 1mb).

--
Chris Scott
http://iamzed.com/
http://hailtheale.com/



On Fri, Sep 30, 2011 at 9:52 AM, Otto <otto at ottodestruct.com> wrote:
> The option_value is longtext, which has a maximum size of 2^32-1
> (4,294,967,295) characters.
>
> In practical terms, the limit will be lower, but there's no particular
> issue with storing large data values in a transient. You may have
> speed issues in retrieving something that large from the database very
> often though. I'd suggest evaluating what parts of the data you
> actually need to use and store only those. If you're using the whole
> thing, then maybe another approach would work better, such as storing
> it in a custom post type.
>
> -Otto
>
>
>
> On Fri, Sep 30, 2011 at 5:41 AM, Konrad Karpieszuk
> <kkarpieszuk at gmail.com> wrote:
>> hello
>>
>> i cannnot find answer for this question. i have quite huge array which
>> i want to remember in transient. this array after serialization has
>> lenght over 300000 signs ( i check this using
>> strlen(serialize($my_array))
>>
>> will it be a problem for transient api?
>>
>> --
>> (en) regards / (pl) pozdrawiam
>> Konrad Karpieszuk
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dougal at gunters.org  Fri Sep 30 19:06:33 2011
From: dougal at gunters.org (Dougal Campbell)
Date: Fri, 30 Sep 2011 15:06:33 -0400
Subject: [wp-hackers] Can Apache be used to Load Balance Wordpress
In-Reply-To: <001201cc7e08$c627b170$52771450$@hvc.rr.com>
References: <001201cc7e08$c627b170$52771450$@hvc.rr.com>
Message-ID: <4E861339.5080702@gunters.org>

On Sep 28 2011 2:02 PM, Joseph Pitts wrote:
> I have set up 2 2008R2 servers each with WAMP 2.1 which uses Apache2.2.17.
> On Server A the Apache document root and<Directory directive>  has been
> changed from the default to D:www. I installed WP 3.2 into this document
> root in a directory called blog. The blog is working fine from the apache
> 2.2.17 instance on Server A.

Doesn't IIS support load balancing as of version 7? Any particular 
reason to use Apache over IIS, if Windows is your server platform?

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

