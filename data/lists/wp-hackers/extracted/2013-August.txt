From mike at grady-etc.com  Thu Aug  1 02:16:41 2013
From: mike at grady-etc.com (Mike Burns)
Date: Wed, 31 Jul 2013 22:16:41 -0400
Subject: [wp-hackers] Managing a lot of content editors,
 roles and permissions
In-Reply-To: <51F90AB0.6090103@duechiacchiere.it>
References: <51F90AB0.6090103@duechiacchiere.it>
Message-ID: <CC28BD2915A74601BCC21F7B7D728EE0@grady-etc.com>

I work at Boston University supporting several large WPMS installs.  We have quite a few large page hierarchies across our 800+ sites, many of which are maintained across organizational divisions.  We recently released a suite of workflow oriented plugins that address issues that surfaced in our environment.

http://wordpress.org/plugins/bu-navigation/
http://wordpress.org/plugins/bu-section-editing/
http://wordpress.org/plugins/bu-versions/

The section editing plugin sits on top of the built-in roles and capabilities system, enhancing it to support more granular permissions (restrict editing to specific pages / sections) which can be assigned to groups of content editors.  May be of use if you ever reconsider leveraging plug-ins.

Best,
Mike

On Wednesday, July 31, 2013 at 9:01 AM, Dino Termini wrote:

> Hello list,
> 
> I am working on a large scale website which has multiple sections 
> (roughly associated to departments in the organization), and each 
> section has its own group of contributors, editors, publishers and 
> administrators. We will be using WordPress MU to segment content editors 
> and assign appropriate roles and privileges to each of them. The site 
> has currently about 80 editors.
> 
> We've also looked at plugins that extend WP's roles and capabilities, 
> but we would prefer using as much off-the-shelf functionality as possible.
> 
> I was wondering if the list has any pointers to share about best 
> practices, do's and dont's, etc, on setting up a permission management 
> layer in WP for large scale websites.
> 
> Thank you,
> Dino.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 



From shinji at elite-systems.org  Thu Aug  1 02:41:32 2013
From: shinji at elite-systems.org (Robert Pendell)
Date: Wed, 31 Jul 2013 22:41:32 -0400
Subject: [wp-hackers] Exemplary code for web single sign-on plugin (Cara
	Peckens)
In-Reply-To: <CAJ5Hi2gwmiw1dLR1CmHzx8n76YKsW5eOkaSNh7wfZLcvF8ec_w@mail.gmail.com>
References: <CE1E75FD.3516%cpeckens@jhu.edu> <51F8FFC4.9090500@rotorised.com>
 <CAJ5Hi2gwmiw1dLR1CmHzx8n76YKsW5eOkaSNh7wfZLcvF8ec_w@mail.gmail.com>
Message-ID: <CAAeCd-OXttVt3Jg=X4t_jvJ+S2M8yVbD7HSbPTcoGb2GgYGS4g@mail.gmail.com>

Just to let you know why... (since we are off-topic atm) Cara's client
seems to have left out the References and In-Reply-To headers.  That's
why threading broke.  For some reason the client thought it was a new
message...
Robert Pendell
shinji at elite-systems.org
A perfect world is one of chaos.


On Wed, Jul 31, 2013 at 8:52 AM, Daniel <danielx386 at gmail.com> wrote:
> I would like to echo what Ryan said, it breaks threading for me as well.
>
> On 7/31/13, Ryan McCue <lists at rotorised.com> wrote:
>> Cara Peckens wrote:
>>> Ryan ? What authentication method are you using?  I was able to implement
>>> single-sign-on using Shibboleth and used
>>> http://wordpress.org/plugins/shibboleth/ as the core for my plugin code.
>>
>> I'm using OAuth as both a client and a provider.
>>
>> Also, keep in mind with the Shibboleth plugin that it hasn't been
>> updated for a long time (although, I'd trust mitcho's code enough to run
>> it regardless), so it may not be using current best practices.
>>
>> (As a completely off-topic note, it appears that your email client
>> renames the subject of the email, which completely breaks threading for
>> me.)
>>
>> --
>> Ryan McCue
>> <http://ryanmccue.info/>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
> --
> Regards,
> Daniel Fenn
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From danielx386 at gmail.com  Thu Aug  1 03:16:23 2013
From: danielx386 at gmail.com (Daniel)
Date: Thu, 1 Aug 2013 13:16:23 +1000
Subject: [wp-hackers] Exemplary code for web single sign-on plugin (Cara
	Peckens)
In-Reply-To: <CAAeCd-OXttVt3Jg=X4t_jvJ+S2M8yVbD7HSbPTcoGb2GgYGS4g@mail.gmail.com>
References: <CE1E75FD.3516%cpeckens@jhu.edu> <51F8FFC4.9090500@rotorised.com>
 <CAJ5Hi2gwmiw1dLR1CmHzx8n76YKsW5eOkaSNh7wfZLcvF8ec_w@mail.gmail.com>
 <CAAeCd-OXttVt3Jg=X4t_jvJ+S2M8yVbD7HSbPTcoGb2GgYGS4g@mail.gmail.com>
Message-ID: <CAJ5Hi2hyZhR6RQsQMhnRQccoPk+k3XRWsZi0agFrogZz19__Cg@mail.gmail.com>

Thank-you for explaining :)

On 8/1/13, Robert Pendell <shinji at elite-systems.org> wrote:
> Just to let you know why... (since we are off-topic atm) Cara's client
> seems to have left out the References and In-Reply-To headers.  That's
> why threading broke.  For some reason the client thought it was a new
> message...
> Robert Pendell
> shinji at elite-systems.org
> A perfect world is one of chaos.
>
>
> On Wed, Jul 31, 2013 at 8:52 AM, Daniel <danielx386 at gmail.com> wrote:
>> I would like to echo what Ryan said, it breaks threading for me as well.
>>
>> On 7/31/13, Ryan McCue <lists at rotorised.com> wrote:
>>> Cara Peckens wrote:
>>>> Ryan ? What authentication method are you using?  I was able to
>>>> implement
>>>> single-sign-on using Shibboleth and used
>>>> http://wordpress.org/plugins/shibboleth/ as the core for my plugin code.
>>>
>>> I'm using OAuth as both a client and a provider.
>>>
>>> Also, keep in mind with the Shibboleth plugin that it hasn't been
>>> updated for a long time (although, I'd trust mitcho's code enough to run
>>> it regardless), so it may not be using current best practices.
>>>
>>> (As a completely off-topic note, it appears that your email client
>>> renames the subject of the email, which completely breaks threading for
>>> me.)
>>>
>>> --
>>> Ryan McCue
>>> <http://ryanmccue.info/>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>> --
>> Regards,
>> Daniel Fenn
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Regards,
Daniel Fenn

From robertmlowe at rmlowe.com  Thu Aug  1 06:47:32 2013
From: robertmlowe at rmlowe.com (Robert Lowe)
Date: Thu, 1 Aug 2013 14:47:32 +0800
Subject: [wp-hackers] Exemplary code for web single sign-on plugin
In-Reply-To: <51F82E7E.5090202@rotorised.com>
References: <CAMtoJh3O9d5z03_KEQwWoRN8tEE4Lf8DLcCUt8PbDw_kT23AcA@mail.gmail.com>
 <51F82E7E.5090202@rotorised.com>
Message-ID: <CAMtoJh2AySRQx7ooSiSMPvhqKo0TTkO-BW16_61poU+S-Ubp+Q@mail.gmail.com>

> Robert Lowe wrote:
> > Can anyone point me to code that they would consider exemplary for
> > implementing web single sign-on in a plugin?
>
> Depending on what exactly you want, Keyring is probably a good start:
> http://wordpress.org/plugins/keyring/
>
> You may even be able to write your own service definition for it and
> avoid reinventing the whole wheel.
>

Thanks Ryan.

I don't think Keyring is exactly what I'm looking for however.

Perhaps I'm misunderstanding, but it looks like Keyring associates OAuth
credentials from other sites with WordPress user accounts, and makes those
available for authenticated API calls to those sites, but doesn't perform
single sign-on as such.

What I'm looking to do is replace the standard WordPress login with login
via an external site, and it doesn't look as if Keyring does that.

-- 
Best regards,

Robert Lowe
http://crepuscular.rmlowe.com/

From tcbarrett at gmail.com  Thu Aug  1 08:16:04 2013
From: tcbarrett at gmail.com (Tom Barrett)
Date: Thu, 1 Aug 2013 09:16:04 +0100
Subject: [wp-hackers] MultiSite SSL over Nginx proxy
Message-ID: <CAEgmxaZ+oF2Msv7ED3qLdJy+P+ScG=8EdSj0oyswoKeY4Rgarw@mail.gmail.com>

Hi

I have a multisite installation, with domain mapping. I have purchased a
wildcard SSL for the network domain. I'm using Nginx, listening on 443 on a
front end router proxying to the webserver (over private IP) upstream (on
port 80).

What I need to do is have one subdomain (blog/site), without domain
mapping, to be served up over SSL (to briefly capture and pass on sensitive
data).

I have read this:
http://codex.wordpress.org/Administration_Over_SSL

I have played with these:
http://wordpress.org/plugins/wordpress-https/
http://wordpress.org/plugins/wordpress-https-test/
http://wordpress.org/plugins/ssl-insecure-content-fixer/
http://wordpress.org/plugins/ssl-subdomain-for-multisite/

I suffer from this:
http://core.trac.wordpress.org/ticket/19337

But I don't seem to be able to hit the sweet spot (i.e. get it all to
work). I might be confusing myself (having only recently discovering the
proxy ssl issue).

Obviously I can't have the frontend over SSL (don't have certificates for
all the mapped domains, or IP addresses to go witht them). And other than
the admin bar links working (remaining logged in whilst switching from
secure site A to 'normal' site 'B'), that's all I need.

Any help would be great.

Thanks.

-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From martin at lazarov.bg  Thu Aug  1 09:07:08 2013
From: martin at lazarov.bg (Martin Lazarov)
Date: Thu, 1 Aug 2013 12:07:08 +0300
Subject: [wp-hackers] MultiSite SSL over Nginx proxy
In-Reply-To: <CAEgmxaZ+oF2Msv7ED3qLdJy+P+ScG=8EdSj0oyswoKeY4Rgarw@mail.gmail.com>
References: <CAEgmxaZ+oF2Msv7ED3qLdJy+P+ScG=8EdSj0oyswoKeY4Rgarw@mail.gmail.com>
Message-ID: <CAFJ6JWE7d=4CL9puJBoQLWTKCgYUbhEFUTp+hv-e5g49z95oXA@mail.gmail.com>

What did you mean "without domain mapping"? Separete blog installation?
You can do that playing with nginx and/or with the webserver config
over the private ip. Just make required vhost.


On Thu, Aug 1, 2013 at 11:16 AM, Tom Barrett <tcbarrett at gmail.com> wrote:
> Hi
>
> I have a multisite installation, with domain mapping. I have purchased a
> wildcard SSL for the network domain. I'm using Nginx, listening on 443 on a
> front end router proxying to the webserver (over private IP) upstream (on
> port 80).
>
> What I need to do is have one subdomain (blog/site), without domain
> mapping, to be served up over SSL (to briefly capture and pass on sensitive
> data).
>
> I have read this:
> http://codex.wordpress.org/Administration_Over_SSL
>
> I have played with these:
> http://wordpress.org/plugins/wordpress-https/
> http://wordpress.org/plugins/wordpress-https-test/
> http://wordpress.org/plugins/ssl-insecure-content-fixer/
> http://wordpress.org/plugins/ssl-subdomain-for-multisite/
>
> I suffer from this:
> http://core.trac.wordpress.org/ticket/19337
>
> But I don't seem to be able to hit the sweet spot (i.e. get it all to
> work). I might be confusing myself (having only recently discovering the
> proxy ssl issue).
>
> Obviously I can't have the frontend over SSL (don't have certificates for
> all the mapped domains, or IP addresses to go witht them). And other than
> the admin bar links working (remaining logged in whilst switching from
> secure site A to 'normal' site 'B'), that's all I need.
>
> Any help would be great.
>
> Thanks.
>
> --
> http://www.tcbarrett.com | http://gplus.to/tcbarrett |
> http://twitter.com/tcbarrett
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From yok2504 at gmail.com  Fri Aug  2 19:41:04 2013
From: yok2504 at gmail.com (Sinan)
Date: Fri, 2 Aug 2013 22:41:04 +0300
Subject: [wp-hackers] I will ask stupid question
Message-ID: <CABmkrsFREg-gqiu0UjnE0oAitQOdrdcoepM=YDhS0fVm1XFOWg@mail.gmail.com>

Is it wordpress cms or more ?


-- 
Sinan ??LER
sinanisler.com <http://www.sinanisler.com/>

From unsalkorkmaz at gmail.com  Fri Aug  2 21:16:47 2013
From: unsalkorkmaz at gmail.com (=?ISO-8859-1?Q?=DCnsal_Korkmaz?=)
Date: Sat, 3 Aug 2013 00:16:47 +0300
Subject: [wp-hackers] I will ask stupid question
In-Reply-To: <CABmkrsFREg-gqiu0UjnE0oAitQOdrdcoepM=YDhS0fVm1XFOWg@mail.gmail.com>
References: <CABmkrsFREg-gqiu0UjnE0oAitQOdrdcoepM=YDhS0fVm1XFOWg@mail.gmail.com>
Message-ID: <CABZBZDtMQMhqAPCo9D5Mjayejg8TxztFQgS6OmPb8KnicNpg7w@mail.gmail.com>

My answer is no more:
http://mu.wordpress.org/

On Fri, Aug 2, 2013 at 10:41 PM, Sinan <yok2504 at gmail.com> wrote:

> Is it wordpress cms or more ?
>
>
> --
> Sinan ??LER
> sinanisler.com <http://www.sinanisler.com/>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From halukkaramete at gmail.com  Sun Aug  4 20:21:08 2013
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Sun, 4 Aug 2013 13:21:08 -0700
Subject: [wp-hackers]
	http://wordpress.stackexchange.com/questions/108970/how-to-integrate-the-twitter-bootstrap-into-s-in-the-most-future-proof-way
Message-ID: <CAHERW=14Kisa4W2vtwXsVd69Syx7kcH6KExJpC2raT1t3OivQg@mail.gmail.com>

For establishing a solid foundation in the on-going business of creating
professional WordPress themes, what would be the best approach so that the
themes you produce are "powered by" _s and the twitter bootstrap?

It seems like there are some cross overs between the two; and that confuses
me.

The fact that they both are from different developers and they tend to work
in their own isolated islands, I have a hard time integrating them in a
future proof way. Even though _s is a bare bone theme and the amount of
"undoing" to get you start is down to minimum, there is still work
involved, there is still some undo's to go thru. Responsiveness and the
layout system, class names etc..

So far I am seeing the matter this way;

I download and use the "_s" because working with "_s" would give me the
proper head-start in building my solid theme. By that, I will be able to
effortlessly start off with a theme which shines as far as all the WP best
practices out there and the PHP side of things. Let's simplify this point
and call that the reason I download "_s" is because I want to  take care of
the server side part of my theme.

and then I download the twitter bootstrap.
I do this because working with bootstrap would give me the "talk of the
town" the client side of things..  bootsrap catching the world on fire..
more and more people are adopting just like the android...  their
responsiveness and the easy to work with grid system (which makes more and
more people being familiar with ) is I THINK where _s will be "UN-DONE". So
to simplify, let's say, the reason I download "bootstrap" is because I want
to  take care of the client side part of my theme.

and then comes the 3rd moving part...  I have to add my own touch ( my
bells and my whistles ) to the above two. I do this because I want to make
my theme, well simply different, I want it to be noticeable in market
places and so on..

When you have 3 moving parts like this ( and they all have their own
respective areas of wall of fame ) and the latter overwrites the former,
what do you do?

when my client download that parent theme and follows the instructions that
he creates a child theme off of that, how do I make sure so that when one
or more of the above moving parts updated, I can tell my client to update
the parent theme in a future proof way? Is that even possible?

One easy solution to this would be to tell the guys at twitter to work with
the guys at Automattic. That would have solved the problem, but I don't
think that's gonna happen. :(

so what would be your take on this?

thx.

this question is also available at
http://wordpress.stackexchange.com/questions/108970/how-to-integrate-the-twitter-bootstrap-into-s-in-the-most-future-proof-way

From unsalkorkmaz at gmail.com  Sun Aug  4 20:48:58 2013
From: unsalkorkmaz at gmail.com (=?ISO-8859-1?Q?=DCnsal_Korkmaz?=)
Date: Sun, 4 Aug 2013 23:48:58 +0300
Subject: [wp-hackers]
	http://wordpress.stackexchange.com/questions/108970/how-to-integrate-the-twitter-bootstrap-into-s-in-the-most-future-proof-way
In-Reply-To: <CAHERW=14Kisa4W2vtwXsVd69Syx7kcH6KExJpC2raT1t3OivQg@mail.gmail.com>
References: <CAHERW=14Kisa4W2vtwXsVd69Syx7kcH6KExJpC2raT1t3OivQg@mail.gmail.com>
Message-ID: <CABZBZDs4hCiSKfU5u9WPyi8fagx27faDkPUi0enBS3KFSMMSOg@mail.gmail.com>

I strongly recommed you to consider FirmaSite <http://theme.firmasite.com/> as
your parent theme. You can customize it with Child
Themes<http://theme.firmasite.com/child-theme/>
.
Basically its using *ONLY* Bootstrap for WordPress, BuddyPress and bbPress.
And those plugin's css files are removed! only bootstrap!
That means you can add new bootstrap styles to system with child-themes and
your all WordPress, BuddyPress and bbPress will use your new bootstrap
style. Do you need dark theme? no problem. Still same rules.

Here is 2 example child-theme:
http://social.theme.firmasite.com/
http://shop.theme.firmasite.com/  (Didnt release yet. Will be my first
premium theme. WooCommerce support and BuddyPress + WooCommerce
integration! )

Basically, its good codes theme and its best for Bootstrap + WordPress.
There is no any other theme that only using bootstrap components and
disables BuddyPress, bbPress ad woocommerce custom css.

On Sun, Aug 4, 2013 at 11:21 PM, Haluk Karamete <halukkaramete at gmail.com>wrote:

> For establishing a solid foundation in the on-going business of creating
> professional WordPress themes, what would be the best approach so that the
> themes you produce are "powered by" _s and the twitter bootstrap?
>
> It seems like there are some cross overs between the two; and that confuses
> me.
>
> The fact that they both are from different developers and they tend to work
> in their own isolated islands, I have a hard time integrating them in a
> future proof way. Even though _s is a bare bone theme and the amount of
> "undoing" to get you start is down to minimum, there is still work
> involved, there is still some undo's to go thru. Responsiveness and the
> layout system, class names etc..
>
> So far I am seeing the matter this way;
>
> I download and use the "_s" because working with "_s" would give me the
> proper head-start in building my solid theme. By that, I will be able to
> effortlessly start off with a theme which shines as far as all the WP best
> practices out there and the PHP side of things. Let's simplify this point
> and call that the reason I download "_s" is because I want to  take care of
> the server side part of my theme.
>
> and then I download the twitter bootstrap.
> I do this because working with bootstrap would give me the "talk of the
> town" the client side of things..  bootsrap catching the world on fire..
> more and more people are adopting just like the android...  their
> responsiveness and the easy to work with grid system (which makes more and
> more people being familiar with ) is I THINK where _s will be "UN-DONE". So
> to simplify, let's say, the reason I download "bootstrap" is because I want
> to  take care of the client side part of my theme.
>
> and then comes the 3rd moving part...  I have to add my own touch ( my
> bells and my whistles ) to the above two. I do this because I want to make
> my theme, well simply different, I want it to be noticeable in market
> places and so on..
>
> When you have 3 moving parts like this ( and they all have their own
> respective areas of wall of fame ) and the latter overwrites the former,
> what do you do?
>
> when my client download that parent theme and follows the instructions that
> he creates a child theme off of that, how do I make sure so that when one
> or more of the above moving parts updated, I can tell my client to update
> the parent theme in a future proof way? Is that even possible?
>
> One easy solution to this would be to tell the guys at twitter to work with
> the guys at Automattic. That would have solved the problem, but I don't
> think that's gonna happen. :(
>
> so what would be your take on this?
>
> thx.
>
> this question is also available at
>
> http://wordpress.stackexchange.com/questions/108970/how-to-integrate-the-twitter-bootstrap-into-s-in-the-most-future-proof-way
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From tcbarrett at gmail.com  Mon Aug  5 10:15:23 2013
From: tcbarrett at gmail.com (Tom Barrett)
Date: Mon, 5 Aug 2013 11:15:23 +0100
Subject: [wp-hackers] MultiSite SSL over Nginx proxy
In-Reply-To: <CAFJ6JWE7d=4CL9puJBoQLWTKCgYUbhEFUTp+hv-e5g49z95oXA@mail.gmail.com>
References: <CAEgmxaZ+oF2Msv7ED3qLdJy+P+ScG=8EdSj0oyswoKeY4Rgarw@mail.gmail.com>
 <CAFJ6JWE7d=4CL9puJBoQLWTKCgYUbhEFUTp+hv-e5g49z95oXA@mail.gmail.com>
Message-ID: <CAEgmxaZu1CXSXw1aeStqPxJ0v8COZnUO+cs8g4u+c-nbiD0+jA@mail.gmail.com>

On 1 August 2013 10:07, Martin Lazarov <martin at lazarov.bg> wrote:

> What did you mean "without domain mapping"? Separete blog installation?
>

I mean that the blog_id has no mapped domain on it.


> You can do that playing with nginx and/or with the webserver config
> over the private ip. Just make required vhost.
>

I think this is an example that breaks down my problem. This is what I want
(numbers are blog_id).

1. HTTP: www.my-network.com
2. HTTP: apples.my-network.com (DM: www.my-apples.com)
3. HTTP: pears.my-network.com
4. HTTPS: ssl.my-network.com

Proxy server (Server A) pushes requests onto web server (Server B). All 443
and 80 traffic is proxied from A to B on port 80 over private IP.

Using this as my starting point, all blogs (1,2,3 and 4) 'work' on port 80
and 443. But on 443 all the subrequests are on http, which breaks things
(like CSS).

If I add an Nginx redirect:
server {
  listen      111.222.333.444:80;
  server_name ssl.my-network.com;

  rewrite ^(.*) https://ssl.my-network.com$1 redirect;
}
That doesn't fix the issue with the subrequests.

Are you saying this is entirely an nginx set up problem, and it can be done
without any amends to WordPress or use of plugins?

Have I befuddled myself?

-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From martin at lazarov.bg  Mon Aug  5 12:33:49 2013
From: martin at lazarov.bg (Martin Lazarov)
Date: Mon, 5 Aug 2013 15:33:49 +0300
Subject: [wp-hackers] MultiSite SSL over Nginx proxy
In-Reply-To: <CAEgmxaZu1CXSXw1aeStqPxJ0v8COZnUO+cs8g4u+c-nbiD0+jA@mail.gmail.com>
References: <CAEgmxaZ+oF2Msv7ED3qLdJy+P+ScG=8EdSj0oyswoKeY4Rgarw@mail.gmail.com>
 <CAFJ6JWE7d=4CL9puJBoQLWTKCgYUbhEFUTp+hv-e5g49z95oXA@mail.gmail.com>
 <CAEgmxaZu1CXSXw1aeStqPxJ0v8COZnUO+cs8g4u+c-nbiD0+jA@mail.gmail.com>
Message-ID: <CAFJ6JWFYLauKusdbZ-pDngK-ERVzkubXkoGsD86jR7USjHR7Pw@mail.gmail.com>

Yes, i doesn't and will not!

The right way is to make wordpress to send html with httpS url's!


> That doesn't fix the issue with the subrequests.
>
> Are you saying this is entirely an nginx set up problem, and it can be done
> without any amends to WordPress or use of plugins?
>
> Have I befuddled myself?
>

From halukkaramete at gmail.com  Mon Aug  5 14:56:27 2013
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Mon, 5 Aug 2013 07:56:27 -0700
Subject: [wp-hackers]
	http://wordpress.stackexchange.com/questions/108970/how-to-integrate-the-twitter-bootstrap-into-s-in-the-most-future-proof-way
In-Reply-To: <CABZBZDs4hCiSKfU5u9WPyi8fagx27faDkPUi0enBS3KFSMMSOg@mail.gmail.com>
References: <CAHERW=14Kisa4W2vtwXsVd69Syx7kcH6KExJpC2raT1t3OivQg@mail.gmail.com>
 <CABZBZDs4hCiSKfU5u9WPyi8fagx27faDkPUi0enBS3KFSMMSOg@mail.gmail.com>
Message-ID: <CAHERW=3JXpe_gL-z8jriCTFoi1B4ZfZBr4_zEEnCQjpTzpa-9g@mail.gmail.com>

Thank you Unsal for your reply. I checked out your theme. It's great. But I
was more on the side of learning about the theoretical approach  to take as
how to combine the two jems the right way - as opposed to simply grab a
theme and start using it.

Thank you for your link anyway.


On Sun, Aug 4, 2013 at 1:48 PM, ?nsal Korkmaz <unsalkorkmaz at gmail.com>wrote:

> I strongly recommed you to consider FirmaSite <http://theme.firmasite.com/>
> as
> your parent theme. You can customize it with Child
> Themes<http://theme.firmasite.com/child-theme/>
> .
> Basically its using *ONLY* Bootstrap for WordPress, BuddyPress and bbPress.
> And those plugin's css files are removed! only bootstrap!
> That means you can add new bootstrap styles to system with child-themes and
> your all WordPress, BuddyPress and bbPress will use your new bootstrap
> style. Do you need dark theme? no problem. Still same rules.
>
> Here is 2 example child-theme:
> http://social.theme.firmasite.com/
> http://shop.theme.firmasite.com/  (Didnt release yet. Will be my first
> premium theme. WooCommerce support and BuddyPress + WooCommerce
> integration! )
>
> Basically, its good codes theme and its best for Bootstrap + WordPress.
> There is no any other theme that only using bootstrap components and
> disables BuddyPress, bbPress ad woocommerce custom css.
>
> On Sun, Aug 4, 2013 at 11:21 PM, Haluk Karamete <halukkaramete at gmail.com
> >wrote:
>
> > For establishing a solid foundation in the on-going business of creating
> > professional WordPress themes, what would be the best approach so that
> the
> > themes you produce are "powered by" _s and the twitter bootstrap?
> >
> > It seems like there are some cross overs between the two; and that
> confuses
> > me.
> >
> > The fact that they both are from different developers and they tend to
> work
> > in their own isolated islands, I have a hard time integrating them in a
> > future proof way. Even though _s is a bare bone theme and the amount of
> > "undoing" to get you start is down to minimum, there is still work
> > involved, there is still some undo's to go thru. Responsiveness and the
> > layout system, class names etc..
> >
> > So far I am seeing the matter this way;
> >
> > I download and use the "_s" because working with "_s" would give me the
> > proper head-start in building my solid theme. By that, I will be able to
> > effortlessly start off with a theme which shines as far as all the WP
> best
> > practices out there and the PHP side of things. Let's simplify this point
> > and call that the reason I download "_s" is because I want to  take care
> of
> > the server side part of my theme.
> >
> > and then I download the twitter bootstrap.
> > I do this because working with bootstrap would give me the "talk of the
> > town" the client side of things..  bootsrap catching the world on fire..
> > more and more people are adopting just like the android...  their
> > responsiveness and the easy to work with grid system (which makes more
> and
> > more people being familiar with ) is I THINK where _s will be "UN-DONE".
> So
> > to simplify, let's say, the reason I download "bootstrap" is because I
> want
> > to  take care of the client side part of my theme.
> >
> > and then comes the 3rd moving part...  I have to add my own touch ( my
> > bells and my whistles ) to the above two. I do this because I want to
> make
> > my theme, well simply different, I want it to be noticeable in market
> > places and so on..
> >
> > When you have 3 moving parts like this ( and they all have their own
> > respective areas of wall of fame ) and the latter overwrites the former,
> > what do you do?
> >
> > when my client download that parent theme and follows the instructions
> that
> > he creates a child theme off of that, how do I make sure so that when one
> > or more of the above moving parts updated, I can tell my client to update
> > the parent theme in a future proof way? Is that even possible?
> >
> > One easy solution to this would be to tell the guys at twitter to work
> with
> > the guys at Automattic. That would have solved the problem, but I don't
> > think that's gonna happen. :(
> >
> > so what would be your take on this?
> >
> > thx.
> >
> > this question is also available at
> >
> >
> http://wordpress.stackexchange.com/questions/108970/how-to-integrate-the-twitter-bootstrap-into-s-in-the-most-future-proof-way
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From unsalkorkmaz at gmail.com  Mon Aug  5 15:11:37 2013
From: unsalkorkmaz at gmail.com (=?ISO-8859-1?Q?=DCnsal_Korkmaz?=)
Date: Mon, 5 Aug 2013 18:11:37 +0300
Subject: [wp-hackers]
	http://wordpress.stackexchange.com/questions/108970/how-to-integrate-the-twitter-bootstrap-into-s-in-the-most-future-proof-way
In-Reply-To: <CAHERW=3JXpe_gL-z8jriCTFoi1B4ZfZBr4_zEEnCQjpTzpa-9g@mail.gmail.com>
References: <CAHERW=14Kisa4W2vtwXsVd69Syx7kcH6KExJpC2raT1t3OivQg@mail.gmail.com>
 <CABZBZDs4hCiSKfU5u9WPyi8fagx27faDkPUi0enBS3KFSMMSOg@mail.gmail.com>
 <CAHERW=3JXpe_gL-z8jriCTFoi1B4ZfZBr4_zEEnCQjpTzpa-9g@mail.gmail.com>
Message-ID: <CABZBZDvGujSD9KRFGGvOXxz78uyxMec1M0md9r2ckUrS5jTKdQ@mail.gmail.com>

Well..
As someone who tried same
thing<http://wordpress.stackexchange.com/questions/82329/a-guide-or-tool-for-inserting-bootstrap-in-underscores-theme>
before,
my opinion: you *cant* blend bootstrap in themes. You have 2 option in my
opinion:

   - Your priority can be theme rather then bootstrap, so you have to
   modify bootstrap for that theme
   or
   - Your priority can be bootstrap, so you have to write/modify theme for
   using bootstrap components.

Basically this is why i start to wrote this theme in that time. Frontend
development is not like php coding.


On Mon, Aug 5, 2013 at 5:56 PM, Haluk Karamete <halukkaramete at gmail.com>wrote:

> Thank you Unsal for your reply. I checked out your theme. It's great. But I
> was more on the side of learning about the theoretical approach  to take as
> how to combine the two jems the right way - as opposed to simply grab a
> theme and start using it.
>
> Thank you for your link anyway.
>
>
> On Sun, Aug 4, 2013 at 1:48 PM, ?nsal Korkmaz <unsalkorkmaz at gmail.com
> >wrote:
>
> > I strongly recommed you to consider FirmaSite <
> http://theme.firmasite.com/>
> > as
> > your parent theme. You can customize it with Child
> > Themes<http://theme.firmasite.com/child-theme/>
> > .
> > Basically its using *ONLY* Bootstrap for WordPress, BuddyPress and
> bbPress.
> > And those plugin's css files are removed! only bootstrap!
> > That means you can add new bootstrap styles to system with child-themes
> and
> > your all WordPress, BuddyPress and bbPress will use your new bootstrap
> > style. Do you need dark theme? no problem. Still same rules.
> >
> > Here is 2 example child-theme:
> > http://social.theme.firmasite.com/
> > http://shop.theme.firmasite.com/  (Didnt release yet. Will be my first
> > premium theme. WooCommerce support and BuddyPress + WooCommerce
> > integration! )
> >
> > Basically, its good codes theme and its best for Bootstrap + WordPress.
> > There is no any other theme that only using bootstrap components and
> > disables BuddyPress, bbPress ad woocommerce custom css.
> >
> > On Sun, Aug 4, 2013 at 11:21 PM, Haluk Karamete <halukkaramete at gmail.com
> > >wrote:
> >
> > > For establishing a solid foundation in the on-going business of
> creating
> > > professional WordPress themes, what would be the best approach so that
> > the
> > > themes you produce are "powered by" _s and the twitter bootstrap?
> > >
> > > It seems like there are some cross overs between the two; and that
> > confuses
> > > me.
> > >
> > > The fact that they both are from different developers and they tend to
> > work
> > > in their own isolated islands, I have a hard time integrating them in a
> > > future proof way. Even though _s is a bare bone theme and the amount of
> > > "undoing" to get you start is down to minimum, there is still work
> > > involved, there is still some undo's to go thru. Responsiveness and the
> > > layout system, class names etc..
> > >
> > > So far I am seeing the matter this way;
> > >
> > > I download and use the "_s" because working with "_s" would give me the
> > > proper head-start in building my solid theme. By that, I will be able
> to
> > > effortlessly start off with a theme which shines as far as all the WP
> > best
> > > practices out there and the PHP side of things. Let's simplify this
> point
> > > and call that the reason I download "_s" is because I want to  take
> care
> > of
> > > the server side part of my theme.
> > >
> > > and then I download the twitter bootstrap.
> > > I do this because working with bootstrap would give me the "talk of the
> > > town" the client side of things..  bootsrap catching the world on
> fire..
> > > more and more people are adopting just like the android...  their
> > > responsiveness and the easy to work with grid system (which makes more
> > and
> > > more people being familiar with ) is I THINK where _s will be
> "UN-DONE".
> > So
> > > to simplify, let's say, the reason I download "bootstrap" is because I
> > want
> > > to  take care of the client side part of my theme.
> > >
> > > and then comes the 3rd moving part...  I have to add my own touch ( my
> > > bells and my whistles ) to the above two. I do this because I want to
> > make
> > > my theme, well simply different, I want it to be noticeable in market
> > > places and so on..
> > >
> > > When you have 3 moving parts like this ( and they all have their own
> > > respective areas of wall of fame ) and the latter overwrites the
> former,
> > > what do you do?
> > >
> > > when my client download that parent theme and follows the instructions
> > that
> > > he creates a child theme off of that, how do I make sure so that when
> one
> > > or more of the above moving parts updated, I can tell my client to
> update
> > > the parent theme in a future proof way? Is that even possible?
> > >
> > > One easy solution to this would be to tell the guys at twitter to work
> > with
> > > the guys at Automattic. That would have solved the problem, but I don't
> > > think that's gonna happen. :(
> > >
> > > so what would be your take on this?
> > >
> > > thx.
> > >
> > > this question is also available at
> > >
> > >
> >
> http://wordpress.stackexchange.com/questions/108970/how-to-integrate-the-twitter-bootstrap-into-s-in-the-most-future-proof-way
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From tcbarrett at gmail.com  Mon Aug  5 15:42:35 2013
From: tcbarrett at gmail.com (Tom Barrett)
Date: Mon, 5 Aug 2013 16:42:35 +0100
Subject: [wp-hackers] MultiSite SSL over Nginx proxy
In-Reply-To: <CAFJ6JWFYLauKusdbZ-pDngK-ERVzkubXkoGsD86jR7USjHR7Pw@mail.gmail.com>
References: <CAEgmxaZ+oF2Msv7ED3qLdJy+P+ScG=8EdSj0oyswoKeY4Rgarw@mail.gmail.com>
 <CAFJ6JWE7d=4CL9puJBoQLWTKCgYUbhEFUTp+hv-e5g49z95oXA@mail.gmail.com>
 <CAEgmxaZu1CXSXw1aeStqPxJ0v8COZnUO+cs8g4u+c-nbiD0+jA@mail.gmail.com>
 <CAFJ6JWFYLauKusdbZ-pDngK-ERVzkubXkoGsD86jR7USjHR7Pw@mail.gmail.com>
Message-ID: <CAEgmxaYzU643TzQm_dkN8jHLz4rrpOvfeQuH+rpTueGtDZQFtg@mail.gmail.com>

Could you expand on that?

I've created a network plugin that has just this code, to make WordPress
think that the ssl site is on https:

global $blog_id;
if( $blog_id == 4 )
    $_SERVER['HTTPS'] = 'on';

However, this has 2 unwanted behaviours:
1. All the links under 'my sites' point to https (e.g
https://www.my-network.com)
2. It logs me out of the other 3 sites. Logging in to any of them, logs me
out of ssl (blog 4)

So I'm still stuck.



On 5 August 2013 13:33, Martin Lazarov <martin at lazarov.bg> wrote:

> Yes, i doesn't and will not!
>
> The right way is to make wordpress to send html with httpS url's!
>
>
> > That doesn't fix the issue with the subrequests.
> >
> > Are you saying this is entirely an nginx set up problem, and it can be
> done
> > without any amends to WordPress or use of plugins?
> >
> > Have I befuddled myself?
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From kadamwhite at gmail.com  Mon Aug  5 18:08:24 2013
From: kadamwhite at gmail.com (K. Adam White)
Date: Mon, 5 Aug 2013 14:08:24 -0400
Subject: [wp-hackers]
	http://wordpress.stackexchange.com/questions/108970/how-to-integrate-the-twitter-bootstrap-into-s-in-the-most-future-proof-way
In-Reply-To: <CABZBZDvGujSD9KRFGGvOXxz78uyxMec1M0md9r2ckUrS5jTKdQ@mail.gmail.com>
References: <CAHERW=14Kisa4W2vtwXsVd69Syx7kcH6KExJpC2raT1t3OivQg@mail.gmail.com>
 <CABZBZDs4hCiSKfU5u9WPyi8fagx27faDkPUi0enBS3KFSMMSOg@mail.gmail.com>
 <CAHERW=3JXpe_gL-z8jriCTFoi1B4ZfZBr4_zEEnCQjpTzpa-9g@mail.gmail.com>
 <CABZBZDvGujSD9KRFGGvOXxz78uyxMec1M0md9r2ckUrS5jTKdQ@mail.gmail.com>
Message-ID: <CACYBCrpL4d6hLdGYyZd+w3N40zBMNx7+ABn_e_zzYnVt1AYnoQ@mail.gmail.com>

While _s doesn't support Bootstrap, there are other popular starter themes
which do. I've used Roots in the past (www.rootstheme.com), and I suspect
I'd start there again were I to want to base my theme on Bootstrap's styles.


On Mon, Aug 5, 2013 at 11:11 AM, ?nsal Korkmaz <unsalkorkmaz at gmail.com>wrote:

> Well..
> As someone who tried same
> thing<
> http://wordpress.stackexchange.com/questions/82329/a-guide-or-tool-for-inserting-bootstrap-in-underscores-theme
> >
> before,
> my opinion: you *cant* blend bootstrap in themes. You have 2 option in my
> opinion:
>
>    - Your priority can be theme rather then bootstrap, so you have to
>    modify bootstrap for that theme
>    or
>    - Your priority can be bootstrap, so you have to write/modify theme for
>    using bootstrap components.
>
> Basically this is why i start to wrote this theme in that time. Frontend
> development is not like php coding.
>
>
> On Mon, Aug 5, 2013 at 5:56 PM, Haluk Karamete <halukkaramete at gmail.com
> >wrote:
>
> > Thank you Unsal for your reply. I checked out your theme. It's great.
> But I
> > was more on the side of learning about the theoretical approach  to take
> as
> > how to combine the two jems the right way - as opposed to simply grab a
> > theme and start using it.
> >
> > Thank you for your link anyway.
> >
> >
> > On Sun, Aug 4, 2013 at 1:48 PM, ?nsal Korkmaz <unsalkorkmaz at gmail.com
> > >wrote:
> >
> > > I strongly recommed you to consider FirmaSite <
> > http://theme.firmasite.com/>
> > > as
> > > your parent theme. You can customize it with Child
> > > Themes<http://theme.firmasite.com/child-theme/>
> > > .
> > > Basically its using *ONLY* Bootstrap for WordPress, BuddyPress and
> > bbPress.
> > > And those plugin's css files are removed! only bootstrap!
> > > That means you can add new bootstrap styles to system with child-themes
> > and
> > > your all WordPress, BuddyPress and bbPress will use your new bootstrap
> > > style. Do you need dark theme? no problem. Still same rules.
> > >
> > > Here is 2 example child-theme:
> > > http://social.theme.firmasite.com/
> > > http://shop.theme.firmasite.com/  (Didnt release yet. Will be my first
> > > premium theme. WooCommerce support and BuddyPress + WooCommerce
> > > integration! )
> > >
> > > Basically, its good codes theme and its best for Bootstrap + WordPress.
> > > There is no any other theme that only using bootstrap components and
> > > disables BuddyPress, bbPress ad woocommerce custom css.
> > >
> > > On Sun, Aug 4, 2013 at 11:21 PM, Haluk Karamete <
> halukkaramete at gmail.com
> > > >wrote:
> > >
> > > > For establishing a solid foundation in the on-going business of
> > creating
> > > > professional WordPress themes, what would be the best approach so
> that
> > > the
> > > > themes you produce are "powered by" _s and the twitter bootstrap?
> > > >
> > > > It seems like there are some cross overs between the two; and that
> > > confuses
> > > > me.
> > > >
> > > > The fact that they both are from different developers and they tend
> to
> > > work
> > > > in their own isolated islands, I have a hard time integrating them
> in a
> > > > future proof way. Even though _s is a bare bone theme and the amount
> of
> > > > "undoing" to get you start is down to minimum, there is still work
> > > > involved, there is still some undo's to go thru. Responsiveness and
> the
> > > > layout system, class names etc..
> > > >
> > > > So far I am seeing the matter this way;
> > > >
> > > > I download and use the "_s" because working with "_s" would give me
> the
> > > > proper head-start in building my solid theme. By that, I will be able
> > to
> > > > effortlessly start off with a theme which shines as far as all the WP
> > > best
> > > > practices out there and the PHP side of things. Let's simplify this
> > point
> > > > and call that the reason I download "_s" is because I want to  take
> > care
> > > of
> > > > the server side part of my theme.
> > > >
> > > > and then I download the twitter bootstrap.
> > > > I do this because working with bootstrap would give me the "talk of
> the
> > > > town" the client side of things..  bootsrap catching the world on
> > fire..
> > > > more and more people are adopting just like the android...  their
> > > > responsiveness and the easy to work with grid system (which makes
> more
> > > and
> > > > more people being familiar with ) is I THINK where _s will be
> > "UN-DONE".
> > > So
> > > > to simplify, let's say, the reason I download "bootstrap" is because
> I
> > > want
> > > > to  take care of the client side part of my theme.
> > > >
> > > > and then comes the 3rd moving part...  I have to add my own touch (
> my
> > > > bells and my whistles ) to the above two. I do this because I want to
> > > make
> > > > my theme, well simply different, I want it to be noticeable in market
> > > > places and so on..
> > > >
> > > > When you have 3 moving parts like this ( and they all have their own
> > > > respective areas of wall of fame ) and the latter overwrites the
> > former,
> > > > what do you do?
> > > >
> > > > when my client download that parent theme and follows the
> instructions
> > > that
> > > > he creates a child theme off of that, how do I make sure so that when
> > one
> > > > or more of the above moving parts updated, I can tell my client to
> > update
> > > > the parent theme in a future proof way? Is that even possible?
> > > >
> > > > One easy solution to this would be to tell the guys at twitter to
> work
> > > with
> > > > the guys at Automattic. That would have solved the problem, but I
> don't
> > > > think that's gonna happen. :(
> > > >
> > > > so what would be your take on this?
> > > >
> > > > thx.
> > > >
> > > > this question is also available at
> > > >
> > > >
> > >
> >
> http://wordpress.stackexchange.com/questions/108970/how-to-integrate-the-twitter-bootstrap-into-s-in-the-most-future-proof-way
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From joshua.sibelman at gmail.com  Mon Aug  5 21:35:23 2013
From: joshua.sibelman at gmail.com (Josh)
Date: Mon, 5 Aug 2013 14:35:23 -0700
Subject: [wp-hackers] Missing postmeta after 3.6 upgrade
Message-ID: <3C17784CC1F544B4A686ADE0F6C584B5@gmail.com>

Hi all, 

We just started noticing blank meta fields for several custom post types after upgrading to 3.6. I've been reading that 3.6 made some big changes to how autosave is handled and  to me this looks like behavior I've seen before with autosave wiping out postmeta. Has anyone else noticed this happening?

Thanks,
Josh


From alexrayan69 at gmail.com  Mon Aug  5 22:44:10 2013
From: alexrayan69 at gmail.com (Alex Rayan)
Date: Mon, 5 Aug 2013 18:44:10 -0400
Subject: [wp-hackers] Missing postmeta after 3.6 upgrade
In-Reply-To: <3C17784CC1F544B4A686ADE0F6C584B5@gmail.com>
References: <3C17784CC1F544B4A686ADE0F6C584B5@gmail.com>
Message-ID: <CA+fCkBvsUsCSwR5vaTN0U20moaYW9FC1Wm=zWL3CVn92iW2JOQ@mail.gmail.com>

Hi Josh,
I have a few plugins with custom post types that add meta data to a post on
"publish_[custom_post_type]" action. I've tested them with 3.6 and haven't
noticed any issues with meta data being wiped out.
How are you recording meta data for your custom posts? On which action?

Best regards,
Alex


On Mon, Aug 5, 2013 at 5:35 PM, Josh <joshua.sibelman at gmail.com> wrote:

> Hi all,
>
> We just started noticing blank meta fields for several custom post types
> after upgrading to 3.6. I've been reading that 3.6 made some big changes to
> how autosave is handled and  to me this looks like behavior I've seen
> before with autosave wiping out postmeta. Has anyone else noticed this
> happening?
>
> Thanks,
> Josh
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From joshua.sibelman at gmail.com  Mon Aug  5 23:17:18 2013
From: joshua.sibelman at gmail.com (Josh)
Date: Mon, 5 Aug 2013 16:17:18 -0700
Subject: [wp-hackers] Missing postmeta after 3.6 upgrade
In-Reply-To: <CA+fCkBvsUsCSwR5vaTN0U20moaYW9FC1Wm=zWL3CVn92iW2JOQ@mail.gmail.com>
References: <3C17784CC1F544B4A686ADE0F6C584B5@gmail.com>
 <CA+fCkBvsUsCSwR5vaTN0U20moaYW9FC1Wm=zWL3CVn92iW2JOQ@mail.gmail.com>
Message-ID: <C6135631874B4070B63176DAC9A05819@gmail.com>

It's kind of a weird issue to explain. It occurs when clicking on a post to edit it. Clicking on a post to edit brings up the edit post screen, where the postmeta fields are then blank. Looking at the database the postmeta is in the postmeta table, but once I click on the record to edit it, once the edit screen loads the postmeda fields are gone from the db. It's as though some action is being called upon loading the edit screen that is deleting the post meta. Definitely a head scratcher.  

If I restore the post to a previous state via an available autosave or revision then the postmeta is restored, and subsequent clicks to edit the record do not cause the postmeta to be deleted.


On Monday, August 5, 2013 at 3:44 PM, Alex Rayan wrote:

> Hi Josh,
> I have a few plugins with custom post types that add meta data to a post on
> "publish_[custom_post_type]" action. I've tested them with 3.6 and haven't
> noticed any issues with meta data being wiped out.
> How are you recording meta data for your custom posts? On which action?
> 
> Best regards,
> Alex
> 
> 
> On Mon, Aug 5, 2013 at 5:35 PM, Josh <joshua.sibelman at gmail.com (mailto:joshua.sibelman at gmail.com)> wrote:
> 
> > Hi all,
> > 
> > We just started noticing blank meta fields for several custom post types
> > after upgrading to 3.6. I've been reading that 3.6 made some big changes to
> > how autosave is handled and to me this looks like behavior I've seen
> > before with autosave wiping out postmeta. Has anyone else noticed this
> > happening?
> > 
> > Thanks,
> > Josh
> > 
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 



From joshua.sibelman at gmail.com  Tue Aug  6 00:10:18 2013
From: joshua.sibelman at gmail.com (Josh)
Date: Mon, 5 Aug 2013 17:10:18 -0700
Subject: [wp-hackers] Missing postmeta after 3.6 upgrade
In-Reply-To: <C6135631874B4070B63176DAC9A05819@gmail.com>
References: <3C17784CC1F544B4A686ADE0F6C584B5@gmail.com>
 <CA+fCkBvsUsCSwR5vaTN0U20moaYW9FC1Wm=zWL3CVn92iW2JOQ@mail.gmail.com>
 <C6135631874B4070B63176DAC9A05819@gmail.com>
Message-ID: <017D641649A64C1991503C5877D372B7@gmail.com>

FYI, I reverted back to WP 3.5.2 and the problem ceased. Seems like this must be a bug in 3.6 with the new revisions tool.


On Monday, August 5, 2013 at 4:17 PM, Josh wrote:

> It's kind of a weird issue to explain. It occurs when clicking on a post to edit it. Clicking on a post to edit brings up the edit post screen, where the postmeta fields are then blank. Looking at the database the postmeta is in the postmeta table, but once I click on the record to edit it, once the edit screen loads the postmeda fields are gone from the db. It's as though some action is being called upon loading the edit screen that is deleting the post meta. Definitely a head scratcher.  
> 
> If I restore the post to a previous state via an available autosave or revision then the postmeta is restored, and subsequent clicks to edit the record do not cause the postmeta to be deleted.
> 
> 
> On Monday, August 5, 2013 at 3:44 PM, Alex Rayan wrote:
> 
> > Hi Josh,
> > I have a few plugins with custom post types that add meta data to a post on
> > "publish_[custom_post_type]" action. I've tested them with 3.6 and haven't
> > noticed any issues with meta data being wiped out.
> > How are you recording meta data for your custom posts? On which action?
> > 
> > Best regards,
> > Alex
> > 
> > 
> > On Mon, Aug 5, 2013 at 5:35 PM, Josh <joshua.sibelman at gmail.com (mailto:joshua.sibelman at gmail.com)> wrote:
> > 
> > > Hi all,
> > > 
> > > We just started noticing blank meta fields for several custom post types
> > > after upgrading to 3.6. I've been reading that 3.6 made some big changes to
> > > how autosave is handled and to me this looks like behavior I've seen
> > > before with autosave wiping out postmeta. Has anyone else noticed this
> > > happening?
> > > 
> > > Thanks,
> > > Josh
> > > 
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > 
> > 
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > 
> > 
> > 
> 
> 


From otto at ottodestruct.com  Tue Aug  6 00:39:07 2013
From: otto at ottodestruct.com (Otto)
Date: Mon, 5 Aug 2013 19:39:07 -0500
Subject: [wp-hackers] Missing postmeta after 3.6 upgrade
In-Reply-To: <C6135631874B4070B63176DAC9A05819@gmail.com>
References: <3C17784CC1F544B4A686ADE0F6C584B5@gmail.com>
 <CA+fCkBvsUsCSwR5vaTN0U20moaYW9FC1Wm=zWL3CVn92iW2JOQ@mail.gmail.com>
 <C6135631874B4070B63176DAC9A05819@gmail.com>
Message-ID: <CAD-FghzsqzeuTRbOR9Vd2_owMmcZm1k83yXVjtnQuK-4bOQDnA@mail.gmail.com>

If you disable plugins entirely, then any postmeta info which doesn't
start with an underscore should still be visible in the "Custom
fields" box. Does the data disappear when this is the case as well?

Basically, try to figure out if it's the interaction between 3.6 and a
plugin by disabling all plugins and seeing if it happens on a clean
setup.

-Otto


On Mon, Aug 5, 2013 at 6:17 PM, Josh <joshua.sibelman at gmail.com> wrote:
> It's kind of a weird issue to explain. It occurs when clicking on a post to edit it. Clicking on a post to edit brings up the edit post screen, where the postmeta fields are then blank. Looking at the database the postmeta is in the postmeta table, but once I click on the record to edit it, once the edit screen loads the postmeda fields are gone from the db. It's as though some action is being called upon loading the edit screen that is deleting the post meta. Definitely a head scratcher.
>
> If I restore the post to a previous state via an available autosave or revision then the postmeta is restored, and subsequent clicks to edit the record do not cause the postmeta to be deleted.

From danielx386 at gmail.com  Tue Aug  6 02:44:15 2013
From: danielx386 at gmail.com (Daniel)
Date: Tue, 6 Aug 2013 12:44:15 +1000
Subject: [wp-hackers] Missing postmeta after 3.6 upgrade
In-Reply-To: <CAD-FghzsqzeuTRbOR9Vd2_owMmcZm1k83yXVjtnQuK-4bOQDnA@mail.gmail.com>
References: <3C17784CC1F544B4A686ADE0F6C584B5@gmail.com>
 <CA+fCkBvsUsCSwR5vaTN0U20moaYW9FC1Wm=zWL3CVn92iW2JOQ@mail.gmail.com>
 <C6135631874B4070B63176DAC9A05819@gmail.com>
 <CAD-FghzsqzeuTRbOR9Vd2_owMmcZm1k83yXVjtnQuK-4bOQDnA@mail.gmail.com>
Message-ID: <CAJ5Hi2jPEW9=j+oYN_5r-ozAVXLdi2Sn6DhRK7DaJz+g7xs43A@mail.gmail.com>

Something else, try a on a fresh install of WordPress with a clean
database in-case something in the database is causing issues.





On Tue, Aug 6, 2013 at 10:39 AM, Otto <otto at ottodestruct.com> wrote:
> If you disable plugins entirely, then any postmeta info which doesn't
> start with an underscore should still be visible in the "Custom
> fields" box. Does the data disappear when this is the case as well?
>
> Basically, try to figure out if it's the interaction between 3.6 and a
> plugin by disabling all plugins and seeing if it happens on a clean
> setup.
>
> -Otto
>
>
> On Mon, Aug 5, 2013 at 6:17 PM, Josh <joshua.sibelman at gmail.com> wrote:
>> It's kind of a weird issue to explain. It occurs when clicking on a post to edit it. Clicking on a post to edit brings up the edit post screen, where the postmeta fields are then blank. Looking at the database the postmeta is in the postmeta table, but once I click on the record to edit it, once the edit screen loads the postmeda fields are gone from the db. It's as though some action is being called upon loading the edit screen that is deleting the post meta. Definitely a head scratcher.
>>
>> If I restore the post to a previous state via an available autosave or revision then the postmeta is restored, and subsequent clicks to edit the record do not cause the postmeta to be deleted.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From almerindo at gmail.com  Tue Aug  6 02:45:20 2013
From: almerindo at gmail.com (Rindy Portfolio)
Date: Mon, 5 Aug 2013 22:45:20 -0400
Subject: [wp-hackers] Filter for wp_user_dropdown()?
Message-ID: <CAKjH6xqR0YpzFcjv_UUuTk5wh8=6Z6W8e2d-ByNYAE_JbUL7ag@mail.gmail.com>

Hello,

On our Author dropdowns, when editing a post, we are not seeing all the
users that have capabilities to post. This is related to
wp_dropdown_users(), and I was wondering if the patch submitted here might
be considered again:
http://core.trac.wordpress.org/ticket/18645

We use custom post types for events, and we have custom roles created for
who gets to create events on our community site. We have imported many
events from the previous site while building the new one, and all events
were assigned to a single admin user during the import. We have also
imported the users and assigned them roles, and now we are trying to assign
events to their proper owners.

However, when editing the event the Author metabox dropdown only lists
standard WP roles with edit privileges. Our custom roles, though they have
the proper capabilities, do not appear on the list.

These users can post events themselves. But admins cannot assign an event
to other users except for Editors and Admins.

What is a best-practice solution in the absence of a filter? On that
ticket, Nacin wrote "I would unregister the meta box and re-register it
with your own wp_dropdown_users() call." - Is that the best way to go here?

Many thanks,
Rindy

From lukebryan at sharefaith.com  Tue Aug  6 04:14:47 2013
From: lukebryan at sharefaith.com (Luke Bryan)
Date: Mon, 5 Aug 2013 21:14:47 -0700
Subject: [wp-hackers] Wordpress 3.7 soon?
Message-ID: <CAFnKAk3LWcaQcHiNeC4PuQGHqvuGEj5N0rocXY_=Ccub=G+5ug@mail.gmail.com>

Greetings all,

With the recent release of 3.6 I was wondering, when will 3.7
released, and what has been is added to it?
I was somewhat surprised to see Make Wordpress Core blog is already using 3.7:
http://make.wordpress.org/core/wp-admin/about.php

Best regards,
Luke

From lists at rotorised.com  Tue Aug  6 06:04:33 2013
From: lists at rotorised.com (Ryan McCue)
Date: Tue, 06 Aug 2013 16:04:33 +1000
Subject: [wp-hackers] Wordpress 3.7 soon?
In-Reply-To: <CAFnKAk3LWcaQcHiNeC4PuQGHqvuGEj5N0rocXY_=Ccub=G+5ug@mail.gmail.com>
References: <CAFnKAk3LWcaQcHiNeC4PuQGHqvuGEj5N0rocXY_=Ccub=G+5ug@mail.gmail.com>
Message-ID: <520091F1.9020600@rotorised.com>

Luke Bryan wrote:
> Greetings all,
> 
> With the recent release of 3.6 I was wondering, when will 3.7
> released, and what has been is added to it?

The scope of 3.7 and timeline for it have not yet been announced,
however I believe at WCSF, Matt announced a release around September.

> I was somewhat surprised to see Make Wordpress Core blog is already using 3.7:
> http://make.wordpress.org/core/wp-admin/about.php

The version in trunk (the mainline development) is currently 3.7-alpha
(as you can see in the footer, make/core is on "Version
3.7-alpha-24954"). This is updated from the development version roughly
once a day. Until 3.7 is nearing release candidate, the About page will
still show the information for 3.6.

In other words, 3.7-alpha is the development version at the moment, it
is nowhere near release stage, and the about screen is not accurate.

-- 
Ryan McCue
<http://ryanmccue.info/>

From japh at envato.com  Tue Aug  6 08:23:28 2013
From: japh at envato.com (Japheth Thomson)
Date: Tue, 6 Aug 2013 18:23:28 +1000
Subject: [wp-hackers] Wordpress 3.7 soon?
In-Reply-To: <520091F1.9020600@rotorised.com>
References: <CAFnKAk3LWcaQcHiNeC4PuQGHqvuGEj5N0rocXY_=Ccub=G+5ug@mail.gmail.com>
 <520091F1.9020600@rotorised.com>
Message-ID: <CAMx9--XP6PxBRwBgCkwW+Pd7newGxV2p8iB5-5NsqmgmbMgKaQ@mail.gmail.com>

I believe Matt said 3.7's release was planned for around October. September
is only next month!

Cheers,
Japh



On 6 August 2013 16:04, Ryan McCue <lists at rotorised.com> wrote:

> Luke Bryan wrote:
> > Greetings all,
> >
> > With the recent release of 3.6 I was wondering, when will 3.7
> > released, and what has been is added to it?
>
> The scope of 3.7 and timeline for it have not yet been announced,
> however I believe at WCSF, Matt announced a release around September.
>
> > I was somewhat surprised to see Make Wordpress Core blog is already
> using 3.7:
> > http://make.wordpress.org/core/wp-admin/about.php
>
> The version in trunk (the mainline development) is currently 3.7-alpha
> (as you can see in the footer, make/core is on "Version
> 3.7-alpha-24954"). This is updated from the development version roughly
> once a day. Until 3.7 is nearing release candidate, the About page will
> still show the information for 3.6.
>
> In other words, 3.7-alpha is the development version at the moment, it
> is nowhere near release stage, and the about screen is not accurate.
>
> --
> Ryan McCue
> <http://ryanmccue.info/>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Japh Thomson
WordPress Evangelist
http://wp.envato.com
http://twitter.com/envato

From remkus at forsite.nu  Tue Aug  6 08:34:05 2013
From: remkus at forsite.nu (=?utf-8?Q?Remkus_de_Vries_=7C_ForSite_Media?=)
Date: Tue, 6 Aug 2013 10:34:05 +0200
Subject: [wp-hackers] Wordpress 3.7 soon?
In-Reply-To: <CAMx9--XP6PxBRwBgCkwW+Pd7newGxV2p8iB5-5NsqmgmbMgKaQ@mail.gmail.com>
References: <CAFnKAk3LWcaQcHiNeC4PuQGHqvuGEj5N0rocXY_=Ccub=G+5ug@mail.gmail.com>
 <520091F1.9020600@rotorised.com>
 <CAMx9--XP6PxBRwBgCkwW+Pd7newGxV2p8iB5-5NsqmgmbMgKaQ@mail.gmail.com>
Message-ID: <52A2B2ACB5564745BC3DB2F6304E2C87@forsite.nu>

Early October  - which sounded a lot like 'round WordCamp Europe (http://2013.europe.wordcamp.org/) to me ;) 

ForSite Media

WordPress Design & Development
NL: www.forsitemedia.nl (http://www.forsitemedia.nl/)
EN: www.forsitemedia.net (http://www.forsitemedia.net/)
+31622164385  


On Tuesday, 6August, 2013 at 10:23 , Japheth Thomson wrote:

> I believe Matt said 3.7's release was planned for around October. September
> is only next month!
> 
> Cheers,
> Japh
> 
> 
> 
> On 6 August 2013 16:04, Ryan McCue <lists at rotorised.com (mailto:lists at rotorised.com)> wrote:
> 
> > Luke Bryan wrote:
> > > Greetings all,
> > > 
> > > With the recent release of 3.6 I was wondering, when will 3.7
> > > released, and what has been is added to it?
> > > 
> > 
> > 
> > The scope of 3.7 and timeline for it have not yet been announced,
> > however I believe at WCSF, Matt announced a release around September.
> > 
> > > I was somewhat surprised to see Make Wordpress Core blog is already
> > using 3.7:
> > > http://make.wordpress.org/core/wp-admin/about.php
> > 
> > 
> > The version in trunk (the mainline development) is currently 3.7-alpha
> > (as you can see in the footer, make/core is on "Version
> > 3.7-alpha-24954"). This is updated from the development version roughly
> > once a day. Until 3.7 is nearing release candidate, the About page will
> > still show the information for 3.6.
> > 
> > In other words, 3.7-alpha is the development version at the moment, it
> > is nowhere near release stage, and the about screen is not accurate.
> > 
> > --
> > Ryan McCue
> > <http://ryanmccue.info/>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > 
> 
> 
> 
> 
> -- 
> Japh Thomson
> WordPress Evangelist
> http://wp.envato.com
> http://twitter.com/envato
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 



From kokarn at gmail.com  Tue Aug  6 10:35:54 2013
From: kokarn at gmail.com (Kokarn)
Date: Tue, 6 Aug 2013 12:35:54 +0200
Subject: [wp-hackers] Wordpress 3.7 soon?
In-Reply-To: <52A2B2ACB5564745BC3DB2F6304E2C87@forsite.nu>
References: <CAFnKAk3LWcaQcHiNeC4PuQGHqvuGEj5N0rocXY_=Ccub=G+5ug@mail.gmail.com>
 <520091F1.9020600@rotorised.com>
 <CAMx9--XP6PxBRwBgCkwW+Pd7newGxV2p8iB5-5NsqmgmbMgKaQ@mail.gmail.com>
 <52A2B2ACB5564745BC3DB2F6304E2C87@forsite.nu>
Message-ID: <CAPbD_NOig-8eDn5ZKJnrVDzox5rZEBF=+=nBf-Vr=-Fuu+o6uQ@mail.gmail.com>

Pretty sure 3.7 is long long ways off, my guess would be about january
since the 3.6 release was tagged for "early 2013" and was like 5-6 months
off.

http://wordpress.org/about/roadmap/


On Tue, Aug 6, 2013 at 10:34 AM, Remkus de Vries | ForSite Media <
remkus at forsite.nu> wrote:

> Early October  - which sounded a lot like 'round WordCamp Europe (
> http://2013.europe.wordcamp.org/) to me ;)
>
> ForSite Media
>
> WordPress Design & Development
> NL: www.forsitemedia.nl (http://www.forsitemedia.nl/)
> EN: www.forsitemedia.net (http://www.forsitemedia.net/)
> +31622164385
>
>
> On Tuesday, 6August, 2013 at 10:23 , Japheth Thomson wrote:
>
> > I believe Matt said 3.7's release was planned for around October.
> September
> > is only next month!
> >
> > Cheers,
> > Japh
> >
> >
> >
> > On 6 August 2013 16:04, Ryan McCue <lists at rotorised.com (mailto:
> lists at rotorised.com)> wrote:
> >
> > > Luke Bryan wrote:
> > > > Greetings all,
> > > >
> > > > With the recent release of 3.6 I was wondering, when will 3.7
> > > > released, and what has been is added to it?
> > > >
> > >
> > >
> > > The scope of 3.7 and timeline for it have not yet been announced,
> > > however I believe at WCSF, Matt announced a release around September.
> > >
> > > > I was somewhat surprised to see Make Wordpress Core blog is already
> > > using 3.7:
> > > > http://make.wordpress.org/core/wp-admin/about.php
> > >
> > >
> > > The version in trunk (the mainline development) is currently 3.7-alpha
> > > (as you can see in the footer, make/core is on "Version
> > > 3.7-alpha-24954"). This is updated from the development version roughly
> > > once a day. Until 3.7 is nearing release candidate, the About page will
> > > still show the information for 3.6.
> > >
> > > In other words, 3.7-alpha is the development version at the moment, it
> > > is nowhere near release stage, and the about screen is not accurate.
> > >
> > > --
> > > Ryan McCue
> > > <http://ryanmccue.info/>
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com (mailto:
> wp-hackers at lists.automattic.com)
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> >
> >
> >
> > --
> > Japh Thomson
> > WordPress Evangelist
> > http://wp.envato.com
> > http://twitter.com/envato
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> >
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From will.davis at gmail.com  Tue Aug  6 11:26:34 2013
From: will.davis at gmail.com (William P. Davis)
Date: Tue, 6 Aug 2013 11:26:34 +0000
Subject: [wp-hackers] Wordpress 3.7 soon?
In-Reply-To: <CAPbD_NOig-8eDn5ZKJnrVDzox5rZEBF=+=nBf-Vr=-Fuu+o6uQ@mail.gmail.com>
References: <CAFnKAk3LWcaQcHiNeC4PuQGHqvuGEj5N0rocXY_=Ccub=G+5ug@mail.gmail.com>
 <520091F1.9020600@rotorised.com>
 <CAMx9--XP6PxBRwBgCkwW+Pd7newGxV2p8iB5-5NsqmgmbMgKaQ@mail.gmail.com>
 <52A2B2ACB5564745BC3DB2F6304E2C87@forsite.nu>
 <CAPbD_NOig-8eDn5ZKJnrVDzox5rZEBF=+=nBf-Vr=-Fuu+o6uQ@mail.gmail.com>
Message-ID: <118251004-1375788397-cardhu_decombobulator_blackberry.rim.net-1372856970-@b16.c4.bise6.blackberry>

According to Matt's state of the word, 3.7 and 3.8 will be worked on at the same time. If I remember, 3.7 will drop in October and 3.8 in December. You can watch his keynote and the discussion afterward at wordpress.tv

Will
Sent from my BlackBerry

-----Original Message-----
From: Kokarn <kokarn at gmail.com>
Sender: "wp-hackers" <wp-hackers-bounces at lists.automattic.com>Date: Tue, 6 Aug 2013 12:35:54 
To: <wp-hackers at lists.automattic.com>
Reply-To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Wordpress 3.7 soon?

Pretty sure 3.7 is long long ways off, my guess would be about january
since the 3.6 release was tagged for "early 2013" and was like 5-6 months
off.

http://wordpress.org/about/roadmap/


On Tue, Aug 6, 2013 at 10:34 AM, Remkus de Vries | ForSite Media <
remkus at forsite.nu> wrote:

> Early October  - which sounded a lot like 'round WordCamp Europe (
> http://2013.europe.wordcamp.org/) to me ;)
>
> ForSite Media
>
> WordPress Design & Development
> NL: www.forsitemedia.nl (http://www.forsitemedia.nl/)
> EN: www.forsitemedia.net (http://www.forsitemedia.net/)
> +31622164385
>
>
> On Tuesday, 6August, 2013 at 10:23 , Japheth Thomson wrote:
>
> > I believe Matt said 3.7's release was planned for around October.
> September
> > is only next month!
> >
> > Cheers,
> > Japh
> >
> >
> >
> > On 6 August 2013 16:04, Ryan McCue <lists at rotorised.com (mailto:
> lists at rotorised.com)> wrote:
> >
> > > Luke Bryan wrote:
> > > > Greetings all,
> > > >
> > > > With the recent release of 3.6 I was wondering, when will 3.7
> > > > released, and what has been is added to it?
> > > >
> > >
> > >
> > > The scope of 3.7 and timeline for it have not yet been announced,
> > > however I believe at WCSF, Matt announced a release around September.
> > >
> > > > I was somewhat surprised to see Make Wordpress Core blog is already
> > > using 3.7:
> > > > http://make.wordpress.org/core/wp-admin/about.php
> > >
> > >
> > > The version in trunk (the mainline development) is currently 3.7-alpha
> > > (as you can see in the footer, make/core is on "Version
> > > 3.7-alpha-24954"). This is updated from the development version roughly
> > > once a day. Until 3.7 is nearing release candidate, the About page will
> > > still show the information for 3.6.
> > >
> > > In other words, 3.7-alpha is the development version at the moment, it
> > > is nowhere near release stage, and the about screen is not accurate.
> > >
> > > --
> > > Ryan McCue
> > > <http://ryanmccue.info/>
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com (mailto:
> wp-hackers at lists.automattic.com)
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> >
> >
> >
> > --
> > Japh Thomson
> > WordPress Evangelist
> > http://wp.envato.com
> > http://twitter.com/envato
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> >
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From lists at rotorised.com  Tue Aug  6 12:43:57 2013
From: lists at rotorised.com (Ryan McCue)
Date: Tue, 06 Aug 2013 22:43:57 +1000
Subject: [wp-hackers] Wordpress 3.7 soon?
In-Reply-To: <CAPbD_NOig-8eDn5ZKJnrVDzox5rZEBF=+=nBf-Vr=-Fuu+o6uQ@mail.gmail.com>
References: <CAFnKAk3LWcaQcHiNeC4PuQGHqvuGEj5N0rocXY_=Ccub=G+5ug@mail.gmail.com>
 <520091F1.9020600@rotorised.com>
 <CAMx9--XP6PxBRwBgCkwW+Pd7newGxV2p8iB5-5NsqmgmbMgKaQ@mail.gmail.com>
 <52A2B2ACB5564745BC3DB2F6304E2C87@forsite.nu>
 <CAPbD_NOig-8eDn5ZKJnrVDzox5rZEBF=+=nBf-Vr=-Fuu+o6uQ@mail.gmail.com>
Message-ID: <5200EF8D.6060408@rotorised.com>

Kokarn wrote:
> Pretty sure 3.7 is long long ways off, my guess would be about january
> since the 3.6 release was tagged for "early 2013" and was like 5-6 months
> off.
> 
> http://wordpress.org/about/roadmap/

That page unfortunately isn't really correct, since the plan is to
accelerate development as per WCSF:

http://wordpress.tv/2013/07/29/matt-mullenweg-state-of-the-word-2013/

-- 
Ryan McCue
<http://ryanmccue.info/>

From joshua.sibelman at gmail.com  Tue Aug  6 16:08:50 2013
From: joshua.sibelman at gmail.com (Josh)
Date: Tue, 6 Aug 2013 09:08:50 -0700
Subject: [wp-hackers] Missing postmeta after 3.6 upgrade
In-Reply-To: <CAD-FghzsqzeuTRbOR9Vd2_owMmcZm1k83yXVjtnQuK-4bOQDnA@mail.gmail.com>
References: <3C17784CC1F544B4A686ADE0F6C584B5@gmail.com>
 <CA+fCkBvsUsCSwR5vaTN0U20moaYW9FC1Wm=zWL3CVn92iW2JOQ@mail.gmail.com>
 <C6135631874B4070B63176DAC9A05819@gmail.com>
 <CAD-FghzsqzeuTRbOR9Vd2_owMmcZm1k83yXVjtnQuK-4bOQDnA@mail.gmail.com>
Message-ID: <7D96480124B34126BA69828064B96277@gmail.com>

Thanks for the response Otto. I am actually using Sequel Pro to check the records in the database as opposed to the WP interface. I don't believe it's a plugin causing the issue, as a second WP instance isn't having this problem. The difference between the two instances is that the one having the issue is the one that users interact with, which leads me to believe this is related to the changes made to the post revision system. 

On Monday, August 5, 2013 at 5:39 PM, Otto wrote:

> If you disable plugins entirely, then any postmeta info which doesn't
> start with an underscore should still be visible in the "Custom
> fields" box. Does the data disappear when this is the case as well?
> 
> Basically, try to figure out if it's the interaction between 3.6 and a
> plugin by disabling all plugins and seeing if it happens on a clean
> setup.
> 
> -Otto
> 
> 
> On Mon, Aug 5, 2013 at 6:17 PM, Josh <joshua.sibelman at gmail.com (mailto:joshua.sibelman at gmail.com)> wrote:
> > It's kind of a weird issue to explain. It occurs when clicking on a post to edit it. Clicking on a post to edit brings up the edit post screen, where the postmeta fields are then blank. Looking at the database the postmeta is in the postmeta table, but once I click on the record to edit it, once the edit screen loads the postmeda fields are gone from the db. It's as though some action is being called upon loading the edit screen that is deleting the post meta. Definitely a head scratcher.
> > 
> > If I restore the post to a previous state via an available autosave or revision then the postmeta is restored, and subsequent clicks to edit the record do not cause the postmeta to be deleted.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 



From joshua.sibelman at gmail.com  Tue Aug  6 16:09:48 2013
From: joshua.sibelman at gmail.com (Josh)
Date: Tue, 6 Aug 2013 09:09:48 -0700
Subject: [wp-hackers] Missing postmeta after 3.6 upgrade
In-Reply-To: <CAJ5Hi2jPEW9=j+oYN_5r-ozAVXLdi2Sn6DhRK7DaJz+g7xs43A@mail.gmail.com>
References: <3C17784CC1F544B4A686ADE0F6C584B5@gmail.com>
 <CA+fCkBvsUsCSwR5vaTN0U20moaYW9FC1Wm=zWL3CVn92iW2JOQ@mail.gmail.com>
 <C6135631874B4070B63176DAC9A05819@gmail.com>
 <CAD-FghzsqzeuTRbOR9Vd2_owMmcZm1k83yXVjtnQuK-4bOQDnA@mail.gmail.com>
 <CAJ5Hi2jPEW9=j+oYN_5r-ozAVXLdi2Sn6DhRK7DaJz+g7xs43A@mail.gmail.com>
Message-ID: <9D27F8AB2EF34E6AA3F89BDEDB42590C@gmail.com>

Thanks for the suggestion Daniel, this is what I'm going to try today. I'm going to insert all the records minus the post revisions and see if the same behavior is displayed.  


On Monday, August 5, 2013 at 7:44 PM, Daniel wrote:

> Something else, try a on a fresh install of WordPress with a clean
> database in-case something in the database is causing issues.
> 
> 
> 
> 
> 
> On Tue, Aug 6, 2013 at 10:39 AM, Otto <otto at ottodestruct.com (mailto:otto at ottodestruct.com)> wrote:
> > If you disable plugins entirely, then any postmeta info which doesn't
> > start with an underscore should still be visible in the "Custom
> > fields" box. Does the data disappear when this is the case as well?
> > 
> > Basically, try to figure out if it's the interaction between 3.6 and a
> > plugin by disabling all plugins and seeing if it happens on a clean
> > setup.
> > 
> > -Otto
> > 
> > 
> > On Mon, Aug 5, 2013 at 6:17 PM, Josh <joshua.sibelman at gmail.com (mailto:joshua.sibelman at gmail.com)> wrote:
> > > It's kind of a weird issue to explain. It occurs when clicking on a post to edit it. Clicking on a post to edit brings up the edit post screen, where the postmeta fields are then blank. Looking at the database the postmeta is in the postmeta table, but once I click on the record to edit it, once the edit screen loads the postmeda fields are gone from the db. It's as though some action is being called upon loading the edit screen that is deleting the post meta. Definitely a head scratcher.
> > > 
> > > If I restore the post to a previous state via an available autosave or revision then the postmeta is restored, and subsequent clicks to edit the record do not cause the postmeta to be deleted.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 



From joshua.sibelman at gmail.com  Tue Aug  6 18:08:39 2013
From: joshua.sibelman at gmail.com (Josh)
Date: Tue, 6 Aug 2013 11:08:39 -0700
Subject: [wp-hackers] Missing postmeta after 3.6 upgrade
In-Reply-To: <CAJ5Hi2jPEW9=j+oYN_5r-ozAVXLdi2Sn6DhRK7DaJz+g7xs43A@mail.gmail.com>
References: <3C17784CC1F544B4A686ADE0F6C584B5@gmail.com>
 <CA+fCkBvsUsCSwR5vaTN0U20moaYW9FC1Wm=zWL3CVn92iW2JOQ@mail.gmail.com>
 <C6135631874B4070B63176DAC9A05819@gmail.com>
 <CAD-FghzsqzeuTRbOR9Vd2_owMmcZm1k83yXVjtnQuK-4bOQDnA@mail.gmail.com>
 <CAJ5Hi2jPEW9=j+oYN_5r-ozAVXLdi2Sn6DhRK7DaJz+g7xs43A@mail.gmail.com>
Message-ID: <3DE35D97F5DE40B099832AA5E54C4827@gmail.com>

So that worked. What I did was export the WP database, import it into a new schema, deleted all post revisions with their respective postmeta, and then updated wp-config.php to point to the new schema. That fixed the problem of the vanishing postmeta.

To me this sounds like a bug with the new revision system, but the Codex suggests getting feedback before opening a ticket by emailing this list, among other things.

Anyone have feedback about filing this as a ticket? 


On Monday, August 5, 2013 at 7:44 PM, Daniel wrote:

> Something else, try a on a fresh install of WordPress with a clean
> database in-case something in the database is causing issues.
> 
> 
> 
> 
> 
> On Tue, Aug 6, 2013 at 10:39 AM, Otto <otto at ottodestruct.com (mailto:otto at ottodestruct.com)> wrote:
> > If you disable plugins entirely, then any postmeta info which doesn't
> > start with an underscore should still be visible in the "Custom
> > fields" box. Does the data disappear when this is the case as well?
> > 
> > Basically, try to figure out if it's the interaction between 3.6 and a
> > plugin by disabling all plugins and seeing if it happens on a clean
> > setup.
> > 
> > -Otto
> > 
> > 
> > On Mon, Aug 5, 2013 at 6:17 PM, Josh <joshua.sibelman at gmail.com (mailto:joshua.sibelman at gmail.com)> wrote:
> > > It's kind of a weird issue to explain. It occurs when clicking on a post to edit it. Clicking on a post to edit brings up the edit post screen, where the postmeta fields are then blank. Looking at the database the postmeta is in the postmeta table, but once I click on the record to edit it, once the edit screen loads the postmeda fields are gone from the db. It's as though some action is being called upon loading the edit screen that is deleting the post meta. Definitely a head scratcher.
> > > 
> > > If I restore the post to a previous state via an available autosave or revision then the postmeta is restored, and subsequent clicks to edit the record do not cause the postmeta to be deleted.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 



From wp at andrewnacin.com  Tue Aug  6 18:17:58 2013
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 6 Aug 2013 14:17:58 -0400
Subject: [wp-hackers] Missing postmeta after 3.6 upgrade
In-Reply-To: <3DE35D97F5DE40B099832AA5E54C4827@gmail.com>
References: <3C17784CC1F544B4A686ADE0F6C584B5@gmail.com>
 <CA+fCkBvsUsCSwR5vaTN0U20moaYW9FC1Wm=zWL3CVn92iW2JOQ@mail.gmail.com>
 <C6135631874B4070B63176DAC9A05819@gmail.com>
 <CAD-FghzsqzeuTRbOR9Vd2_owMmcZm1k83yXVjtnQuK-4bOQDnA@mail.gmail.com>
 <CAJ5Hi2jPEW9=j+oYN_5r-ozAVXLdi2Sn6DhRK7DaJz+g7xs43A@mail.gmail.com>
 <3DE35D97F5DE40B099832AA5E54C4827@gmail.com>
Message-ID: <CAP29Pvg0x689O=DfZNdvPhL8FgSruPr1y3D8tTF3aG2KCsd6xw@mail.gmail.com>

On Tue, Aug 6, 2013 at 2:08 PM, Josh <joshua.sibelman at gmail.com> wrote:

> So that worked. What I did was export the WP database, import it into a
> new schema, deleted all post revisions with their respective postmeta, and
> then updated wp-config.php to point to the new schema. That fixed the
> problem of the vanishing postmeta.
>
> To me this sounds like a bug with the new revision system, but the Codex
> suggests getting feedback before opening a ticket by emailing this list,
> among other things.
>
> Anyone have feedback about filing this as a ticket?


Steps to reproduce would be great. Deleting data is a critical bug and
deleting postmeta is also highly noticeable, yet this is the only report
I've seen, despite 1.5 million downloads and the 3.6 codebase having been
running on WordPress.com for months.

I'm not saying it isn't happening to you, I'm just saying it's certainly
not happening for everyone, so we'd need to figure out why.

Andrew

From joshua.sibelman at gmail.com  Tue Aug  6 18:24:26 2013
From: joshua.sibelman at gmail.com (Josh)
Date: Tue, 6 Aug 2013 11:24:26 -0700
Subject: [wp-hackers] Missing postmeta after 3.6 upgrade
In-Reply-To: <CAP29Pvg0x689O=DfZNdvPhL8FgSruPr1y3D8tTF3aG2KCsd6xw@mail.gmail.com>
References: <3C17784CC1F544B4A686ADE0F6C584B5@gmail.com>
 <CA+fCkBvsUsCSwR5vaTN0U20moaYW9FC1Wm=zWL3CVn92iW2JOQ@mail.gmail.com>
 <C6135631874B4070B63176DAC9A05819@gmail.com>
 <CAD-FghzsqzeuTRbOR9Vd2_owMmcZm1k83yXVjtnQuK-4bOQDnA@mail.gmail.com>
 <CAJ5Hi2jPEW9=j+oYN_5r-ozAVXLdi2Sn6DhRK7DaJz+g7xs43A@mail.gmail.com>
 <3DE35D97F5DE40B099832AA5E54C4827@gmail.com>
 <CAP29Pvg0x689O=DfZNdvPhL8FgSruPr1y3D8tTF3aG2KCsd6xw@mail.gmail.com>
Message-ID: <B293922ADC9140CEA5DEF188603525B8@gmail.com>

The complete explanation of what we were encountering is somewhat lengthy and will require a lot of verbiage. Is this something I should email to you off-list? Or shall I post it here? 


On Tuesday, August 6, 2013 at 11:17 AM, Andrew Nacin wrote:

> On Tue, Aug 6, 2013 at 2:08 PM, Josh <joshua.sibelman at gmail.com (mailto:joshua.sibelman at gmail.com)> wrote:
> 
> > So that worked. What I did was export the WP database, import it into a
> > new schema, deleted all post revisions with their respective postmeta, and
> > then updated wp-config.php to point to the new schema. That fixed the
> > problem of the vanishing postmeta.
> > 
> > To me this sounds like a bug with the new revision system, but the Codex
> > suggests getting feedback before opening a ticket by emailing this list,
> > among other things.
> > 
> > Anyone have feedback about filing this as a ticket?
> 
> 
> Steps to reproduce would be great. Deleting data is a critical bug and
> deleting postmeta is also highly noticeable, yet this is the only report
> I've seen, despite 1.5 million downloads and the 3.6 codebase having been
> running on WordPress.com (http://WordPress.com) for months.
> 
> I'm not saying it isn't happening to you, I'm just saying it's certainly
> not happening for everyone, so we'd need to figure out why.
> 
> Andrew
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 



From dyordan1 at ramapo.edu  Tue Aug  6 20:39:53 2013
From: dyordan1 at ramapo.edu (Dobri)
Date: Tue, 6 Aug 2013 16:39:53 -0400
Subject: [wp-hackers] WP User Query sorting
Message-ID: <22EF505E-1B52-480B-8E4E-20F8419AF09C@ramapo.edu>

Hey,

why no love for the WP_User_Query ordering? I've noticed that you can specify meta key ordering for WP_Query but not for WP_User_Query. Would there be an easy way to do sorting on user meta then? Without doing a lot of SQL-level stuff? Posted below is what I currently have, which doesn't really work.. duh. Any help appreciated! Thanks!

========================================

function user_custom_column_orderby( $query )
{
    $vars = $query->query_vars;
    if ( isset( $vars['orderby'] ) && ('my_meta1' == $vars['orderby'] || 'my_meta2' == $vars['orderby'] || 'my_meta3' == $vars['orderby'] ) ) {
        $vars = array_merge( $vars, array(
            'meta_key' => $vars['orderby'],
            'orderby' => 'meta_value_num'
        ) );
    }
    $query->query_vars = $vars;

    return $query;
}
add_filter( 'pre_user_query', 'user_custom_column_orderby' );

========================================

P.S. I also noticed this pesky guy in the WP_User_Query object:
public 'query_orderby' => string 'ORDER BY user_login ASC' (length=23)
Do I have to worry about it?

~Dobri


From mickey at infamia.com  Tue Aug  6 20:47:16 2013
From: mickey at infamia.com (Mickey Panayiotakis)
Date: Tue, 6 Aug 2013 16:47:16 -0400
Subject: [wp-hackers] Missing postmeta after 3.6 upgrade
Message-ID: <CAPZNwe0Hpq956PAYZVBj6HihSvF6VZKsEqcaDuvFPDhHtAf0pQ@mail.gmail.com>

Subject: Re: [wp-hackers] Missing postmeta after 3.6 upgrade
Message-ID: <B293922ADC9140CEA5DEF188603525B8 at gmail.com>
Content-Type: text/plain; charset="utf-8"

I'd love to see the details, on this list or off.

>  The complete explanation of what we were encountering is somewhat
lengthy and will require a lot of verbiage. Is this something I should
email to you off-list? Or shall I post it here?





--

Mickey Panayiotakis
Managing Partner
800.270.5170 x512
 <http://www.infamia.com>

>
>

From dyordan1 at ramapo.edu  Tue Aug  6 21:14:26 2013
From: dyordan1 at ramapo.edu (Dobri)
Date: Tue, 6 Aug 2013 17:14:26 -0400
Subject: [wp-hackers] WP User Query sorting
In-Reply-To: <14988_1375821598_52015F1E_14988_18526_1_22EF505E-1B52-480B-8E4E-20F8419AF09C@ramapo.edu>
References: <14988_1375821598_52015F1E_14988_18526_1_22EF505E-1B52-480B-8E4E-20F8419AF09C@ramapo.edu>
Message-ID: <1A117C4A-8884-4C59-B12C-ECD5003A4345@ramapo.edu>

I almost got it working (in a very ugly way). I've posted my function below and would appreciate an idea on how I can do this in a less in-wp's-guts way or at least how to include the users that don't have that meta (which currently disappear if you sort by the custom meta). Thanks for any help you guys can provide.

function user_custom_column_orderby( $query )
{
	global $wpdb;
	$vars = $query->query_vars;
    if ( isset( $vars['orderby'] ) && ('my_meta1' == $vars['orderby'] || 'my_meta2' == $vars['orderby'] || 'my_meta3' == $vars['orderby'] ) ) {
		$query->query_vars = $vars;
		$query->query_fields = "SQL_CALC_FOUND_ROWS $wpdb->users.ID, GROUP_CONCAT( $wpdb->usermeta.meta_value ORDER BY $wpdb->usermeta.meta_key SEPARATOR ' ' ) AS {$vars['orderby']}";
		$query->query_from = "FROM $wpdb->users LEFT JOIN $wpdb->usermeta ON $wpdb->users.ID = $wpdb->usermeta.user_id";
		$query->query_where = "WHERE ($wpdb->usermeta.meta_key = '{$vars['orderby']}') GROUP BY $wpdb->users.ID";
		$query->query_orderby = "ORDER BY {$vars['orderby']} {$vars['order']}";
    }

    return $query;
}
add_filter( 'pre_user_query', 'user_custom_column_orderby' );

This results in a query like

SELECT SQL_CALC_FOUND_ROWS wp_users.ID, GROUP_CONCAT( wp_usermeta.meta_value
ORDER BY wp_usermeta.meta_key
SEPARATOR ' ' ) AS  my_meta1
FROM wp_users
LEFT JOIN wp_usermeta ON wp_users.ID = wp_usermeta.user_id
WHERE (
wp_usermeta.meta_key = 'my_meta1'
) ORDER BY my_meta1 ASC

~Dobri

On Tue, 6 Aug 2013, at 4:39 PM, Dobri wrote:

> Hey,
> 
> why no love for the WP_User_Query ordering? I've noticed that you can specify meta key ordering for WP_Query but not for WP_User_Query. Would there be an easy way to do sorting on user meta then? Without doing a lot of SQL-level stuff? Posted below is what I currently have, which doesn't really work.. duh. Any help appreciated! Thanks!
> 
> ========================================
> 
> function user_custom_column_orderby( $query )
> {
>    $vars = $query->query_vars;
>    if ( isset( $vars['orderby'] ) && ('my_meta1' == $vars['orderby'] || 'my_meta2' == $vars['orderby'] || 'my_meta3' == $vars['orderby'] ) ) {
>        $vars = array_merge( $vars, array(
>            'meta_key' => $vars['orderby'],
>            'orderby' => 'meta_value_num'
>        ) );
>    }
>    $query->query_vars = $vars;
> 
>    return $query;
> }
> add_filter( 'pre_user_query', 'user_custom_column_orderby' );
> 
> ========================================
> 
> P.S. I also noticed this pesky guy in the WP_User_Query object:
> public 'query_orderby' => string 'ORDER BY user_login ASC' (length=23)
> Do I have to worry about it?
> 
> ~Dobri
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From piemanek at gmail.com  Tue Aug  6 21:17:51 2013
From: piemanek at gmail.com (Simon Blackbourn)
Date: Tue, 6 Aug 2013 22:17:51 +0100
Subject: [wp-hackers] WP User Query sorting
In-Reply-To: <22EF505E-1B52-480B-8E4E-20F8419AF09C@ramapo.edu>
References: <22EF505E-1B52-480B-8E4E-20F8419AF09C@ramapo.edu>
Message-ID: <CAJxFMSDmaYGCjjE4K_hiSwrAf92DqaeBMocJ9A-SQtNmu4eTCg@mail.gmail.com>

>  Would there be an easy way to do sorting on user meta then? Without doing
> a lot of SQL-level stuff?
>


I sort the results of get_users on lastname using usort - see my answer
here: http://lists.automattic.com/pipermail/wp-hackers/2012-June/043335.html

However, I'm not 100% sure that will work with a custom user meta field, so
you could also try this Stack Exchange answer which uses preg_replace on
the SQL: http://wordpress.stackexchange.com/a/98610/2877

Cheers
Simon

From joshua.sibelman at gmail.com  Tue Aug  6 21:27:37 2013
From: joshua.sibelman at gmail.com (Josh)
Date: Tue, 6 Aug 2013 14:27:37 -0700
Subject: [wp-hackers] Missing postmeta after 3.6 upgrade
In-Reply-To: <CAPZNwe0Hpq956PAYZVBj6HihSvF6VZKsEqcaDuvFPDhHtAf0pQ@mail.gmail.com>
References: <CAPZNwe0Hpq956PAYZVBj6HihSvF6VZKsEqcaDuvFPDhHtAf0pQ@mail.gmail.com>
Message-ID: <094339432CD74D54AE34C985C857A29D@gmail.com>

OK, here it is. 

I should mention that we have filters on save_post and wp_restore_post_revision for both storing and retrieving postmeta with revisions.

-------------------------------------

We use a plugin to generate our custom post types with their respective meta fields. Someone else on my team noticed the postmeta disappearing from posts in the wp-admin. When reviewing the revision history we would see two revisions about a week old, only a few seconds apart, from two different authors, neither of whom actually made revisions at that time (we know this because of who the author accounts belong to and when the data disappeared). Restoring one of the old revisions would restore the meta fields, after which we would no longer see them disappearing on subsequent clicks into the given record.

As a test we picked another record with postmeta, and I looked at its rows in the database using Sequel Pro. The expected metafields were listed in the postmeta table. Upon clicking the record in wp-admin to edit it, the postmeta was gone. I noted the two post IDs of the two revisions that appeared in the list after clicking on the record. The most recent of the two had rows in postmeta where the meta key was set with the field's label and a blank meta value, and the older of the two (by about 30 seconds) had both the correct meta key and meta value stored.

When we saw the two revisions belonging to two different users we speculated that the problem might somehow be related to this personal revision history feature.

Our workflow is a little atypical. We have a staging server and a production server, with content editors doing their work on staging and using the RAMP plugin from Crowd Favorite to push content to the production server. I logged into the wp-admin of our production server where almost none of the posts have revision histories and didn't see this behavior replicated where the postmeta was being deleted.

In order to test our hypothesis I set up a new db schema, took the production data and imported it, then deleted all of the revisions from the posts table along with their attendant metadata from postmeta. I updated wp-config.php to use the new schema and no longer saw the issue of disappearing postmeta.



On Tuesday, August 6, 2013 at 1:47 PM, Mickey Panayiotakis wrote:

> Subject: Re: [wp-hackers] Missing postmeta after 3.6 upgrade
> Message-ID: <B293922ADC9140CEA5DEF188603525B8 at gmail.com (mailto:B293922ADC9140CEA5DEF188603525B8 at gmail.com)>
> Content-Type: text/plain; charset="utf-8"
> 
> I'd love to see the details, on this list or off.
> 
> > The complete explanation of what we were encountering is somewhat
> lengthy and will require a lot of verbiage. Is this something I should
> email to you off-list? Or shall I post it here?
> 
> 
> 
> 
> 
> --
> 
> Mickey Panayiotakis
> Managing Partner
> 800.270.5170 x512
> <http://www.infamia.com>
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 



From guus at inspiration-for-success.com  Wed Aug  7 10:57:50 2013
From: guus at inspiration-for-success.com (Guus (IFS))
Date: Wed, 7 Aug 2013 18:57:50 +0800
Subject: [wp-hackers] Turn on custom fields from plugin
Message-ID: <AF7CF77C93034C308263163B193BA0D9@megaheights.net>

Hi,

I am looking for a way to turn on the visibility of custom fields through my plugin. Google search didn't give me a quick answer to this.

Is there a 'legal' way to turn on this option for a (or all) users?

Guus

From mailing at markoheijnen.nl  Wed Aug  7 11:18:14 2013
From: mailing at markoheijnen.nl (Marko Heijnen)
Date: Wed, 7 Aug 2013 13:18:14 +0200
Subject: [wp-hackers] Turn on custom fields from plugin
In-Reply-To: <AF7CF77C93034C308263163B193BA0D9@megaheights.net>
References: <AF7CF77C93034C308263163B193BA0D9@megaheights.net>
Message-ID: <422B6D0C-F417-4DCA-A4D7-48BBF8B017F9@markoheijnen.nl>

See http://codex.wordpress.org/Function_Reference/add_post_type_support.

Also why enabling something like that? It doesn't really provide a good user experience.

Marko

Op 7 aug. 2013, om 12:57 heeft "Guus \(IFS\)" <guus at inspiration-for-success.com> het volgende geschreven:

> Hi,
> 
> I am looking for a way to turn on the visibility of custom fields through my plugin. Google search didn't give me a quick answer to this.
> 
> Is there a 'legal' way to turn on this option for a (or all) users?
> 
> Guus
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From guus at inspiration-for-success.com  Wed Aug  7 11:54:17 2013
From: guus at inspiration-for-success.com (Guus (IFS))
Date: Wed, 7 Aug 2013 19:54:17 +0800
Subject: [wp-hackers] Turn on custom fields from plugin
References: <AF7CF77C93034C308263163B193BA0D9@megaheights.net>
 <422B6D0C-F417-4DCA-A4D7-48BBF8B017F9@markoheijnen.nl>
Message-ID: <6D0CEBE206D04CCAB9370753D565308A@megaheights.net>

Thanks. I think that's just the answer I needed.

I use the custom fields for my SEO plugin: 
http://wordpress.org/plugins/ifs-seo-simple/ to set the title tag, meta 
description tag and meta keywords tag and got feedback that it was not clear 
where to put the data (and that could still use some more explanation and 
screendumps...).

----- Original Message ----- 
From: "Marko Heijnen" <mailing at markoheijnen.nl>
To: <wp-hackers at lists.automattic.com>
Sent: Wednesday, August 07, 2013 7:18 PM
Subject: Re: [wp-hackers] Turn on custom fields from plugin


> See http://codex.wordpress.org/Function_Reference/add_post_type_support.
>
> Also why enabling something like that? It doesn't really provide a good 
> user experience.
>
> Marko
>
> Op 7 aug. 2013, om 12:57 heeft "Guus \(IFS\)" 
> <guus at inspiration-for-success.com> het volgende geschreven:
>
>> Hi,
>>
>> I am looking for a way to turn on the visibility of custom fields through 
>> my plugin. Google search didn't give me a quick answer to this.
>>
>> Is there a 'legal' way to turn on this option for a (or all) users?
>>
>> Guus
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From brian at brianhogg.ca  Wed Aug  7 11:59:15 2013
From: brian at brianhogg.ca (Brian Hogg)
Date: Wed, 7 Aug 2013 07:59:15 -0400
Subject: [wp-hackers] Turn on custom fields from plugin
In-Reply-To: <6D0CEBE206D04CCAB9370753D565308A@megaheights.net>
References: <AF7CF77C93034C308263163B193BA0D9@megaheights.net>
 <422B6D0C-F417-4DCA-A4D7-48BBF8B017F9@markoheijnen.nl>
 <6D0CEBE206D04CCAB9370753D565308A@megaheights.net>
Message-ID: <5745568B-8F77-42A8-88F0-71D18AB5FB2C@brianhogg.ca>

I think what Marko was hinting was to use a custom meta box instead, which would allow you to provide a nicer user experience vs. showing all custom meta fields from your plugin and others.  Documentation here:

http://codex.wordpress.org/Function_Reference/add_meta_box

Make sure to add a check if it's an autosave call:

http://techwithketan.wordpress.com/2011/04/14/auto-save-problem-for-custom-variables/

---
brianhogg.com
905.966.1778

On 2013-08-07, at 7:54 AM, "Guus \(IFS\)" <guus at inspiration-for-success.com> wrote:

> Thanks. I think that's just the answer I needed.
> 
> I use the custom fields for my SEO plugin: http://wordpress.org/plugins/ifs-seo-simple/ to set the title tag, meta description tag and meta keywords tag and got feedback that it was not clear where to put the data (and that could still use some more explanation and screendumps...).
> 
> ----- Original Message ----- From: "Marko Heijnen" <mailing at markoheijnen.nl>
> To: <wp-hackers at lists.automattic.com>
> Sent: Wednesday, August 07, 2013 7:18 PM
> Subject: Re: [wp-hackers] Turn on custom fields from plugin
> 
> 
>> See http://codex.wordpress.org/Function_Reference/add_post_type_support.
>> 
>> Also why enabling something like that? It doesn't really provide a good user experience.
>> 
>> Marko
>> 
>> Op 7 aug. 2013, om 12:57 heeft "Guus \(IFS\)" <guus at inspiration-for-success.com> het volgende geschreven:
>> 
>>> Hi,
>>> 
>>> I am looking for a way to turn on the visibility of custom fields through my plugin. Google search didn't give me a quick answer to this.
>>> 
>>> Is there a 'legal' way to turn on this option for a (or all) users?
>>> 
>>> Guus
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From brian at brianhogg.ca  Wed Aug  7 11:59:15 2013
From: brian at brianhogg.ca (Brian Hogg)
Date: Wed, 7 Aug 2013 07:59:15 -0400
Subject: [wp-hackers] Turn on custom fields from plugin
In-Reply-To: <6D0CEBE206D04CCAB9370753D565308A@megaheights.net>
References: <AF7CF77C93034C308263163B193BA0D9@megaheights.net>
 <422B6D0C-F417-4DCA-A4D7-48BBF8B017F9@markoheijnen.nl>
 <6D0CEBE206D04CCAB9370753D565308A@megaheights.net>
Message-ID: <5745568B-8F77-42A8-88F0-71D18AB5FB2C@brianhogg.ca>

I think what Marko was hinting was to use a custom meta box instead, which would allow you to provide a nicer user experience vs. showing all custom meta fields from your plugin and others.  Documentation here:

http://codex.wordpress.org/Function_Reference/add_meta_box

Make sure to add a check if it's an autosave call:

http://techwithketan.wordpress.com/2011/04/14/auto-save-problem-for-custom-variables/

---
brianhogg.com
905.966.1778

On 2013-08-07, at 7:54 AM, "Guus \(IFS\)" <guus at inspiration-for-success.com> wrote:

> Thanks. I think that's just the answer I needed.
> 
> I use the custom fields for my SEO plugin: http://wordpress.org/plugins/ifs-seo-simple/ to set the title tag, meta description tag and meta keywords tag and got feedback that it was not clear where to put the data (and that could still use some more explanation and screendumps...).
> 
> ----- Original Message ----- From: "Marko Heijnen" <mailing at markoheijnen.nl>
> To: <wp-hackers at lists.automattic.com>
> Sent: Wednesday, August 07, 2013 7:18 PM
> Subject: Re: [wp-hackers] Turn on custom fields from plugin
> 
> 
>> See http://codex.wordpress.org/Function_Reference/add_post_type_support.
>> 
>> Also why enabling something like that? It doesn't really provide a good user experience.
>> 
>> Marko
>> 
>> Op 7 aug. 2013, om 12:57 heeft "Guus \(IFS\)" <guus at inspiration-for-success.com> het volgende geschreven:
>> 
>>> Hi,
>>> 
>>> I am looking for a way to turn on the visibility of custom fields through my plugin. Google search didn't give me a quick answer to this.
>>> 
>>> Is there a 'legal' way to turn on this option for a (or all) users?
>>> 
>>> Guus
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From guus at inspiration-for-success.com  Wed Aug  7 13:47:54 2013
From: guus at inspiration-for-success.com (Guus (IFS))
Date: Wed, 7 Aug 2013 21:47:54 +0800
Subject: [wp-hackers] Turn on custom fields from plugin
References: <AF7CF77C93034C308263163B193BA0D9@megaheights.net>
 <422B6D0C-F417-4DCA-A4D7-48BBF8B017F9@markoheijnen.nl>
 <6D0CEBE206D04CCAB9370753D565308A@megaheights.net>
 <5745568B-8F77-42A8-88F0-71D18AB5FB2C@brianhogg.ca>
Message-ID: <BD7D3F1F6C7640668F9500C98E8F83AC@megaheights.net>

Well, had to start somewhere :)

The story: I'm not familiar with Wordpress but needed a quick way to store 
the data so found some suggestion about custom fields, so I used that 
featured and made some changes to the theme. And then someone suggested to 
promote our project http://www.inspiration-for-success.com/ by publishing 
plugins. And then first our mailer plugin was developed and then I converted 
my theme changes into a plugin :)

So yes, any better way of course I will consider. Thanks for the 
suggestions.

My main issue now is testing and having bugs reported. You guys have any 
clue how to get that?

----- Original Message ----- 
From: "Brian Hogg" <brian at brianhogg.ca>
To: <wp-hackers at lists.automattic.com>
Sent: Wednesday, August 07, 2013 7:59 PM
Subject: Re: [wp-hackers] Turn on custom fields from plugin


>I think what Marko was hinting was to use a custom meta box instead, which 
>would allow you to provide a nicer user experience vs. showing all custom 
>meta fields from your plugin and others.  Documentation here:
>
> http://codex.wordpress.org/Function_Reference/add_meta_box
>
> Make sure to add a check if it's an autosave call:
>
> http://techwithketan.wordpress.com/2011/04/14/auto-save-problem-for-custom-variables/
>
> ---
> brianhogg.com
> 905.966.1778
>
> On 2013-08-07, at 7:54 AM, "Guus \(IFS\)" 
> <guus at inspiration-for-success.com> wrote:
>
>> Thanks. I think that's just the answer I needed.
>>
>> I use the custom fields for my SEO plugin: 
>> http://wordpress.org/plugins/ifs-seo-simple/ to set the title tag, meta 
>> description tag and meta keywords tag and got feedback that it was not 
>> clear where to put the data (and that could still use some more 
>> explanation and screendumps...).
>>
>> ----- Original Message ----- From: "Marko Heijnen" 
>> <mailing at markoheijnen.nl>
>> To: <wp-hackers at lists.automattic.com>
>> Sent: Wednesday, August 07, 2013 7:18 PM
>> Subject: Re: [wp-hackers] Turn on custom fields from plugin
>>
>>
>>> See http://codex.wordpress.org/Function_Reference/add_post_type_support.
>>>
>>> Also why enabling something like that? It doesn't really provide a good 
>>> user experience.
>>>
>>> Marko
>>>
>>> Op 7 aug. 2013, om 12:57 heeft "Guus \(IFS\)" 
>>> <guus at inspiration-for-success.com> het volgende geschreven:
>>>
>>>> Hi,
>>>>
>>>> I am looking for a way to turn on the visibility of custom fields 
>>>> through my plugin. Google search didn't give me a quick answer to this.
>>>>
>>>> Is there a 'legal' way to turn on this option for a (or all) users?
>>>>
>>>> Guus
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From burobjorn at gmail.com  Thu Aug  8 14:25:21 2013
From: burobjorn at gmail.com (BjornW)
Date: Thu, 08 Aug 2013 16:25:21 +0200
Subject: [wp-hackers] Help needed to take over maintenance of
	http://wordpress.org/plugins/wplicense
Message-ID: <5203AA51.6030204@gmail.com>

Hi,

We would like to update, extend and maintain the WPLicense WordPress
plugin (http://wordpress.org/plugins/wplicense) originally written by
Nathan Yergler (http://wiki.creativecommons.org/WpLicense).

However Nathan is not working at CC any more and somehow nobody can
retrieve his credentials for his original email address :/

So basically nobody can access this plugin's repository on wordpress.org
anymore. Who can help us out gaining access to it?

See also:
http://lists.ibiblio.org/pipermail/cc-devel/2013-July/001866.html

Rest of the threads on this:
http://lists.ibiblio.org/pipermail/cc-devel/2013-July/001852.html
http://lists.ibiblio.org/pipermail/cc-devel/2013-August/001878.html

ps: I'm acting on behalf of Tarmo Toikkanen & Dan Mills of Creative
Commons. Since I'm part of this mailinglist and both the WordPress
community as well as the Creative Commons community it seemed easier for
me to fix this than for Tarmo or Dan :)

Thanks in advance!

grtz
BjornW


From mailing at markoheijnen.nl  Thu Aug  8 14:28:32 2013
From: mailing at markoheijnen.nl (Marko Heijnen)
Date: Thu, 8 Aug 2013 16:28:32 +0200
Subject: [wp-hackers] Help needed to take over maintenance of
	http://wordpress.org/plugins/wplicense
In-Reply-To: <5203AA51.6030204@gmail.com>
References: <5203AA51.6030204@gmail.com>
Message-ID: <1A52C0E3-4851-49E6-95FC-8FF356F2DCC6@markoheijnen.nl>

Hey Bjorn,

You should e-mail plugins @ wordpress.org. They can help you out.

Marko

Op 8 aug. 2013, om 16:25 heeft BjornW <burobjorn at gmail.com> het volgende geschreven:

> Hi,
> 
> We would like to update, extend and maintain the WPLicense WordPress
> plugin (http://wordpress.org/plugins/wplicense) originally written by
> Nathan Yergler (http://wiki.creativecommons.org/WpLicense).
> 
> However Nathan is not working at CC any more and somehow nobody can
> retrieve his credentials for his original email address :/
> 
> So basically nobody can access this plugin's repository on wordpress.org
> anymore. Who can help us out gaining access to it?
> 
> See also:
> http://lists.ibiblio.org/pipermail/cc-devel/2013-July/001866.html
> 
> Rest of the threads on this:
> http://lists.ibiblio.org/pipermail/cc-devel/2013-July/001852.html
> http://lists.ibiblio.org/pipermail/cc-devel/2013-August/001878.html
> 
> ps: I'm acting on behalf of Tarmo Toikkanen & Dan Mills of Creative
> Commons. Since I'm part of this mailinglist and both the WordPress
> community as well as the Creative Commons community it seemed easier for
> me to fix this than for Tarmo or Dan :)
> 
> Thanks in advance!
> 
> grtz
> BjornW
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ipstenu at ipstenu.org  Thu Aug  8 14:43:21 2013
From: ipstenu at ipstenu.org (Mika A Epstein)
Date: Thu, 08 Aug 2013 07:43:21 -0700
Subject: [wp-hackers] Help needed to take over maintenance of
	http://wordpress.org/plugins/wplicense
In-Reply-To: <1A52C0E3-4851-49E6-95FC-8FF356F2DCC6@markoheijnen.nl>
References: <5203AA51.6030204@gmail.com>
 <1A52C0E3-4851-49E6-95FC-8FF356F2DCC6@markoheijnen.nl>
Message-ID: <5203AE89.8090102@ipstenu.org>

FWIW, the code is ACTUALLY owned by this account: 
http://wordpress.org/support/profile/creativecommons

So if you have that account's access, you can get in. And if it's a 
non-existant account, you can redirect it to a real one, as (yes) it is 
an @creativecommons email :)

Marko Heijnen wrote:
>
> Hey Bjorn,
>
> You should e-mail plugins @ wordpress.org. They can help you out.
>
> Marko
>
> Op 8 aug. 2013, om 16:25 heeft BjornW<burobjorn at gmail.com> het 
> volgende geschreven:
>
>>
>> Hi,
>>
>> We would like to update, extend and maintain the WPLicense WordPress
>> plugin (http://wordpress.org/plugins/wplicense) originally written by
>> Nathan Yergler (http://wiki.creativecommons.org/WpLicense).
>>
>> However Nathan is not working at CC any more and somehow nobody can
>> retrieve his credentials for his original email address :/
>>
>> So basically nobody can access this plugin's repository on wordpress.org
>> anymore. Who can help us out gaining access to it?
>>
>> See also:
>> http://lists.ibiblio.org/pipermail/cc-devel/2013-July/001866.html
>>
>> Rest of the threads on this:
>> http://lists.ibiblio.org/pipermail/cc-devel/2013-July/001852.html
>> http://lists.ibiblio.org/pipermail/cc-devel/2013-August/001878.html
>>
>> ps: I'm acting on behalf of Tarmo Toikkanen& Dan Mills of Creative
>> Commons. Since I'm part of this mailinglist and both the WordPress
>> community as well as the Creative Commons community it seemed easier for
>> me to fix this than for Tarmo or Dan :)
>>
>> Thanks in advance!
>>
>> grtz
>> BjornW
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From burobjorn at gmail.com  Thu Aug  8 14:48:16 2013
From: burobjorn at gmail.com (BjornW)
Date: Thu, 08 Aug 2013 16:48:16 +0200
Subject: [wp-hackers] Help needed to take over maintenance of
	http://wordpress.org/plugins/wplicense
In-Reply-To: <1A52C0E3-4851-49E6-95FC-8FF356F2DCC6@markoheijnen.nl>
References: <5203AA51.6030204@gmail.com>
 <1A52C0E3-4851-49E6-95FC-8FF356F2DCC6@markoheijnen.nl>
Message-ID: <5203AFB0.50200@gmail.com>

Will do. I looked around, but couldn't remember which address to use.
Maybe someone should add this email address to the repo page's footer?
Thanks!

grtz
BjornW

On 08-08-13 16:28, Marko Heijnen wrote:
> Hey Bjorn,
>
> You should e-mail plugins @ wordpress.org. They can help you out.
>
> Marko
>
> Op 8 aug. 2013, om 16:25 heeft BjornW <burobjorn at gmail.com> het volgende geschreven:
>
>> Hi,
>>
>> We would like to update, extend and maintain the WPLicense WordPress
>> plugin (http://wordpress.org/plugins/wplicense) originally written by
>> Nathan Yergler (http://wiki.creativecommons.org/WpLicense).
>>
>> However Nathan is not working at CC any more and somehow nobody can
>> retrieve his credentials for his original email address :/
>>
>> So basically nobody can access this plugin's repository on wordpress.org
>> anymore. Who can help us out gaining access to it?
>>
>> See also:
>> http://lists.ibiblio.org/pipermail/cc-devel/2013-July/001866.html
>>
>> Rest of the threads on this:
>> http://lists.ibiblio.org/pipermail/cc-devel/2013-July/001852.html
>> http://lists.ibiblio.org/pipermail/cc-devel/2013-August/001878.html
>>
>> ps: I'm acting on behalf of Tarmo Toikkanen & Dan Mills of Creative
>> Commons. Since I'm part of this mailinglist and both the WordPress
>> community as well as the Creative Commons community it seemed easier for
>> me to fix this than for Tarmo or Dan :)
>>
>> Thanks in advance!
>>
>> grtz
>> BjornW
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Werkdagen:
Van maandag t/m donderdag vanaf 10:00 
Vrijdag is voor experimenteren en eigen projecten.

Postbus 14145
3508 SE Utrecht
The Netherlands

tel: +31 6 49 74 78 70
http://www.burobjorn.nl


From davinian at mac.com  Fri Aug  9 10:17:41 2013
From: davinian at mac.com (David Churchill)
Date: Fri, 09 Aug 2013 11:17:41 +0100
Subject: [wp-hackers] Regional Author Groups and Permission
Message-ID: <EE267FF1-1222-4BCC-BA1C-AA2F26EB3C81@mac.com>

Hi, I need some advice on the best way to approach building an event/booking website with multi author support.

The idea is one website listing lots of regional events. Users can geo-search events based on name, town, city and zip/post code with a distance radius in miles (5,10,25 etc). Then book the event online via PayPal and other payment gateways.

I have all of this working using Events Calendar Pro (Modern Tribe), Geo my WP (free plugin) for the geo-search, WooCommerce and WooTickets for the booking/tickets/payments.

What I am struggling with is how best to setup regional authors. I would ideally like to create regional groups with a main coordinator and a number of event publishers under the each region.

Each publisher will be able to create/publish edit/delete their own events, but not any other publishers (ideally other publishers events need to be hidden in the backend). The coordinators will be able to create/publish and edit/delete their own events and those belonging to the publishers in the same group (so see all events by all publishers in the same regional group). They will be able to publish events on behalf of the publishers, so will need to be able to select the author in the Author drop-down list. There will be a number of regional groups and all the events in each group will need to be hidden from the other groups. Hope this is making sense?

I have looked at a number of group based plugins, but they all appear to work by setting the permissions on a per event (post) based system which will not work as it will rely on publishers setting this very time.

I have also looked at a network/mu install of WordPress and think this is probably the best approach, but Events Calendar Pro currently doesn't support sharing the events back to the main network site ? ideally all mu sites will only be used for adding content and not visible by the end user.

There is another event plugin called Events Organiser Pro which does support mu integration and saves all events in the main network sites db but doesn't support WooCommerce.

Another possible idea would be to create front-end templates for publishers so that they can add/edit and view their own events.

So (apologies for long-winded question), but does anybody have any recommendations or suggestions for managing groups and users where their content is ring-fenced/hidden from other groups/users. I'm happy to hack code if this is something that could be done in code.

Thanks in advance,
David





From jonathanbrinley at gmail.com  Fri Aug  9 14:55:23 2013
From: jonathanbrinley at gmail.com (Jonathan Brinley)
Date: Fri, 9 Aug 2013 10:55:23 -0400
Subject: [wp-hackers] Regional Author Groups and Permission
In-Reply-To: <EE267FF1-1222-4BCC-BA1C-AA2F26EB3C81@mac.com>
References: <EE267FF1-1222-4BCC-BA1C-AA2F26EB3C81@mac.com>
Message-ID: <CAMq55cy7TbtDMRZwEXHJ0L1=7BrimenFdkVpOvB-LX-B66HMww@mail.gmail.com>

Hi, David,

For your purposes, I would definitely discourage using multi-site (see
http://wordpress.tv/2013/08/01/mika-epstein-dont-use-wordpress-multisite/for
many reasons why). But you'll definitely need to write some code to
make all this happen with Events Calendar Pro.

Here's how I would probably go about it:

1. Have a way to assign users to groups (one of the groups plugins you've
tried probably does this reasonably well). You don't really need this to
manage permissions, jut manage the assignment of users to groups.

2. To prevent users from editing events from other groups: Write some code
that hooks into 'user_has_cap'. If the current user isn't in the same group
as the author of the event, remove caps like 'edit_tribe_event',
'delete_tribe_event', etc.

3. To only show events for the current user's group: Add in a
'pre_get_posts' filter in the admin. You'll get a list of users in the
current user's group, and add their IDs to the 'author' query var.

Have a nice day,
Jonathan



On Fri, Aug 9, 2013 at 6:17 AM, David Churchill <davinian at mac.com> wrote:

> Hi, I need some advice on the best way to approach building an
> event/booking website with multi author support.
>
> The idea is one website listing lots of regional events. Users can
> geo-search events based on name, town, city and zip/post code with a
> distance radius in miles (5,10,25 etc). Then book the event online via
> PayPal and other payment gateways.
>
> I have all of this working using Events Calendar Pro (Modern Tribe), Geo
> my WP (free plugin) for the geo-search, WooCommerce and WooTickets for the
> booking/tickets/payments.
>
> What I am struggling with is how best to setup regional authors. I would
> ideally like to create regional groups with a main coordinator and a number
> of event publishers under the each region.
>
> Each publisher will be able to create/publish edit/delete their own
> events, but not any other publishers (ideally other publishers events need
> to be hidden in the backend). The coordinators will be able to
> create/publish and edit/delete their own events and those belonging to the
> publishers in the same group (so see all events by all publishers in the
> same regional group). They will be able to publish events on behalf of the
> publishers, so will need to be able to select the author in the Author
> drop-down list. There will be a number of regional groups and all the
> events in each group will need to be hidden from the other groups. Hope
> this is making sense?
>
> I have looked at a number of group based plugins, but they all appear to
> work by setting the permissions on a per event (post) based system which
> will not work as it will rely on publishers setting this very time.
>
> I have also looked at a network/mu install of WordPress and think this is
> probably the best approach, but Events Calendar Pro currently doesn't
> support sharing the events back to the main network site ? ideally all mu
> sites will only be used for adding content and not visible by the end user.
>
> There is another event plugin called Events Organiser Pro which does
> support mu integration and saves all events in the main network sites db
> but doesn't support WooCommerce.
>
> Another possible idea would be to create front-end templates for
> publishers so that they can add/edit and view their own events.
>
> So (apologies for long-winded question), but does anybody have any
> recommendations or suggestions for managing groups and users where their
> content is ring-fenced/hidden from other groups/users. I'm happy to hack
> code if this is something that could be done in code.
>
> Thanks in advance,
> David
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jonathan M. Brinley

jonathanbrinley at gmail.com
http://xplus3.net/

From greglancaster71 at gmail.com  Fri Aug  9 21:19:09 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Fri, 9 Aug 2013 14:19:09 -0700
Subject: [wp-hackers] store all revisions of user metadata in wordpress -
	possible?
Message-ID: <CAPN-N+amsFuFnKwSM+5cjvuq=eeZtToKO4RW8xUVgUFOFEDRew@mail.gmail.com>

i spend the last seven hours trying to find a to store all revisions of
*user* metadata. the idea is to allow a user to submit an update via form,
and maintain a historical record of all previous updates on a specific
page.

i have tried auto incrementing the meta_key and meta_id without success, as
well as several other strange variations in functions.php.  is it possible
to keep a historical record in this way, and display it visually along with
the date each was submitted?

From jamie at wunderdojo.com  Fri Aug  9 21:32:08 2013
From: jamie at wunderdojo.com (Jamie Currie)
Date: Fri, 09 Aug 2013 21:32:08 +0000
Subject: [wp-hackers] store all revisions of user metadata in wordpress
	- possible?
In-Reply-To: <CAPN-N+amsFuFnKwSM+5cjvuq=eeZtToKO4RW8xUVgUFOFEDRew@mail.gmail.com>
Message-ID: <em5017343c-0c7c-4db1-943c-3258b133b958@wunderdojo>

If you're referring to entries in the usermeta table, those aren't 
timestamped so how would you show the changes? Or were you just thinking 
to show the prior history, not worrying about when a change was made?

Jamie Currie
Founder / CEO
wunderdojo
wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo 
<http://twitter.com/#!/wunderdojo>
tel: 949-734-0758
23 Corporate Plaza Drive, Suite 100
Newport Beach, CA 92660
Master web & app developers




------ Original Message ------
From: "Gregory Lancaster" <greglancaster71 at gmail.com>
To: wp-hackers at lists.automattic.com
Sent: 8/9/2013 2:19:09 PM
Subject: [wp-hackers] store all revisions of user metadata in wordpress 
- possible?
>i spend the last seven hours trying to find a to store all revisions of
>*user* metadata. the idea is to allow a user to submit an update via 
>form,
>and maintain a historical record of all previous updates on a specific
>page.
>
>i have tried auto incrementing the meta_key and meta_id without 
>success, as
>well as several other strange variations in functions.php. is it 
>possible
>to keep a historical record in this way, and display it visually along 
>with
>the date each was submitted?
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers


From greglancaster71 at gmail.com  Fri Aug  9 21:36:56 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Fri, 9 Aug 2013 14:36:56 -0700
Subject: [wp-hackers] store all revisions of user metadata in wordpress
	- possible?
In-Reply-To: <em5017343c-0c7c-4db1-943c-3258b133b958@wunderdojo>
References: <CAPN-N+amsFuFnKwSM+5cjvuq=eeZtToKO4RW8xUVgUFOFEDRew@mail.gmail.com>
 <em5017343c-0c7c-4db1-943c-3258b133b958@wunderdojo>
Message-ID: <CAPN-N+Z7=j5CEA3v5B2EEH545X+UOPmduC+O3GoKB40-vLwf_w@mail.gmail.com>

time stamping it would be ideal, but its something that can maybe be added
later.  the primary objective here is to keep a record of all updated user
metadata values.  so if someone had the username Benderisgreat and later
updated it to LisaIsgreat i would have a historical record of both in sql
someplace, which i could then show on their profile page.



On Friday, August 9, 2013, Jamie Currie wrote:

> If you're referring to entries in the usermeta table, those aren't
> timestamped so how would you show the changes? Or were you just thinking to
> show the prior history, not worrying about when a change was made?
>
> Jamie Currie
> Founder / CEO
> wunderdojo
> wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo <
> http://twitter.com/#!/**wunderdojo <http://twitter.com/#!/wunderdojo>>
> tel: 949-734-0758
> 23 Corporate Plaza Drive, Suite 100
> Newport Beach, CA 92660
> Master web & app developers
>
>
>
>
> ------ Original Message ------
> From: "Gregory Lancaster" <greglancaster71 at gmail.com>
> To: wp-hackers at lists.automattic.com
> Sent: 8/9/2013 2:19:09 PM
> Subject: [wp-hackers] store all revisions of user metadata in wordpress -
> possible?
>
>> i spend the last seven hours trying to find a to store all revisions of
>> *user* metadata. the idea is to allow a user to submit an update via form,
>> and maintain a historical record of all previous updates on a specific
>> page.
>>
>> i have tried auto incrementing the meta_key and meta_id without success,
>> as
>> well as several other strange variations in functions.php. is it possible
>> to keep a historical record in this way, and display it visually along
>> with
>> the date each was submitted?
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From nl at thoughtrefinery.com  Fri Aug  9 21:40:15 2013
From: nl at thoughtrefinery.com (Nicholas Ciske)
Date: Fri, 9 Aug 2013 16:40:15 -0500
Subject: [wp-hackers] store all revisions of user metadata in wordpress
	- possible?
In-Reply-To: <CAPN-N+amsFuFnKwSM+5cjvuq=eeZtToKO4RW8xUVgUFOFEDRew@mail.gmail.com>
References: <CAPN-N+amsFuFnKwSM+5cjvuq=eeZtToKO4RW8xUVgUFOFEDRew@mail.gmail.com>
Message-ID: <402E7F8F-5321-4189-84D3-1E9EB30C3B66@thoughtrefinery.com>

Try storing all meta data for that user in a serialized array -- add entries indexed by meta key & timestamp whenever something changes, then query the history array to display change history for all or one item.

Make sure you avoid recursion and don't track the history of the history meta data (or store it in an option with the user_id in the key name).

_________________________
Nick Ciske
http://thoughtrefinery.com/
@nciske	

On Aug 9, 2013, at 4:19 PM, Gregory Lancaster wrote:

> i spend the last seven hours trying to find a to store all revisions of
> *user* metadata. the idea is to allow a user to submit an update via form,
> and maintain a historical record of all previous updates on a specific
> page.
> 
> i have tried auto incrementing the meta_key and meta_id without success, as
> well as several other strange variations in functions.php.  is it possible
> to keep a historical record in this way, and display it visually along with
> the date each was submitted?


From jamie at wunderdojo.com  Fri Aug  9 21:41:53 2013
From: jamie at wunderdojo.com (Jamie Currie)
Date: Fri, 09 Aug 2013 21:41:53 +0000
Subject: [wp-hackers] store all revisions of user metadata in wordpress
	- possible?
In-Reply-To: <CAPN-N+Z7=j5CEA3v5B2EEH545X+UOPmduC+O3GoKB40-vLwf_w@mail.gmail.com>
Message-ID: <emdf5a97f7-242d-4073-8e8b-46db90ee17fc@wunderdojo>

The usermeta table only gives you two fields to work with -- meta_key 
and meta_value. So you're not going to be able to do what you want using 
that -- how would you know which is the current version of the 
meta_value? There isn't any way to say that one of them is the most 
recent.

The update_user_meta function simply calls update_metadata 
(wp-includes/meta.php -- line 387) which has several action calls you 
could hook into. That way you could simply add your own table and update 
it each time the user_meta is updated, then pull your historical records 
from there.


Jamie Currie
Founder / CEO
wunderdojo
wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo 
<http://twitter.com/#!/wunderdojo>
tel: 949-734-0758
23 Corporate Plaza Drive, Suite 100
Newport Beach, CA 92660
Master web & app developers




------ Original Message ------
From: "Gregory Lancaster" <greglancaster71 at gmail.com>
To: "wp-hackers at lists.automattic.com" <wp-hackers at lists.automattic.com>
Sent: 8/9/2013 2:36:56 PM
Subject: Re: [wp-hackers] store all revisions of user metadata in 
wordpress - possible?
>time stamping it would be ideal, but its something that can maybe be 
>added
>later. the primary objective here is to keep a record of all updated 
>user
>metadata values. so if someone had the username Benderisgreat and later
>updated it to LisaIsgreat i would have a historical record of both in 
>sql
>someplace, which i could then show on their profile page.
>
>
>
>On Friday, August 9, 2013, Jamie Currie wrote:
>
>>  If you're referring to entries in the usermeta table, those aren't
>>  timestamped so how would you show the changes? Or were you just 
>>thinking to
>>  show the prior history, not worrying about when a change was made?
>>
>>  Jamie Currie
>>  Founder / CEO
>>  wunderdojo
>>  wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo <
>>  http://twitter.com/#!/**wunderdojo 
>><http://twitter.com/#!/wunderdojo>>
>>  tel: 949-734-0758
>>  23 Corporate Plaza Drive, Suite 100
>>  Newport Beach, CA 92660
>>  Master web & app developers
>>
>>
>>
>>
>>  ------ Original Message ------
>>  From: "Gregory Lancaster" <greglancaster71 at gmail.com>
>>  To: wp-hackers at lists.automattic.com
>>  Sent: 8/9/2013 2:19:09 PM
>>  Subject: [wp-hackers] store all revisions of user metadata in 
>>wordpress -
>>  possible?
>>
>>>  i spend the last seven hours trying to find a to store all revisions 
>>>of
>>>  *user* metadata. the idea is to allow a user to submit an update via 
>>>form,
>>>  and maintain a historical record of all previous updates on a 
>>>specific
>>>  page.
>>>
>>>  i have tried auto incrementing the meta_key and meta_id without 
>>>success,
>>>  as
>>>  well as several other strange variations in functions.php. is it 
>>>possible
>>>  to keep a historical record in this way, and display it visually 
>>>along
>>>  with
>>>  the date each was submitted?
>>>  ______________________________**_________________
>>>  wp-hackers mailing list
>>>  wp-hackers at lists.automattic.com
>>>  
>>>http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>
>>
>>  ______________________________**_________________
>>  wp-hackers mailing list
>>  wp-hackers at lists.automattic.com
>>  
>>http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers


From jamie at wunderdojo.com  Fri Aug  9 22:00:32 2013
From: jamie at wunderdojo.com (Jamie Currie)
Date: Fri, 09 Aug 2013 22:00:32 +0000
Subject: [wp-hackers] store all revisions of user metadata in wordpress
	- possible?
In-Reply-To: <402E7F8F-5321-4189-84D3-1E9EB30C3B66@thoughtrefinery.com>
Message-ID: <emfee58a3d-d6d7-4395-91b5-bf4c3e7bc1b5@wunderdojo>

Interesting approach, wouldn't have thought to do it that way. Wouldn't 
it make it challenging to do any kind of searching / filtering on the 
metadata though?

Jamie Currie
Founder / CEO
wunderdojo
wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo 
<http://twitter.com/#!/wunderdojo>
tel: 949-734-0758
23 Corporate Plaza Drive, Suite 100
Newport Beach, CA 92660
Master web & app developers




------ Original Message ------
From: "Nicholas Ciske" <nl at thoughtrefinery.com>
To: wp-hackers at lists.automattic.com
Sent: 8/9/2013 2:40:15 PM
Subject: Re: [wp-hackers] store all revisions of user metadata in 
wordpress - possible?
>Try storing all meta data for that user in a serialized array -- add 
>entries indexed by meta key & timestamp whenever something changes, 
>then query the history array to display change history for all or one 
>item.
>
>Make sure you avoid recursion and don't track the history of the 
>history meta data (or store it in an option with the user_id in the key 
>name).
>
>_________________________
>Nick Ciske
>http://thoughtrefinery.com/
>@nciske
>
>On Aug 9, 2013, at 4:19 PM, Gregory Lancaster wrote:
>
>>  i spend the last seven hours trying to find a to store all revisions 
>>of
>>  *user* metadata. the idea is to allow a user to submit an update via 
>>form,
>>  and maintain a historical record of all previous updates on a 
>>specific
>>  page.
>>
>>  i have tried auto incrementing the meta_key and meta_id without 
>>success, as
>>  well as several other strange variations in functions.php. is it 
>>possible
>>  to keep a historical record in this way, and display it visually 
>>along with
>>  the date each was submitted?
>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers


From nl at thoughtrefinery.com  Fri Aug  9 22:05:13 2013
From: nl at thoughtrefinery.com (Nicholas Ciske)
Date: Fri, 9 Aug 2013 17:05:13 -0500
Subject: [wp-hackers] store all revisions of user metadata in wordpress
	- possible?
In-Reply-To: <emfee58a3d-d6d7-4395-91b5-bf4c3e7bc1b5@wunderdojo>
References: <emfee58a3d-d6d7-4395-91b5-bf4c3e7bc1b5@wunderdojo>
Message-ID: <1F2349E3-BAF1-4213-B7F1-6CD7ABFC6398@thoughtrefinery.com>

Yes, my approach would only really work if you already knew the user id (or were looping through users) and just wanted to display history. Finding a user whose email used to be X would be difficult and hacky.

I was going for simple ;-)

A separate table would be far more flexible, but a lot more overhead code wise.

_________________________
Nick Ciske
http://thoughtrefinery.com/
@nciske	

On Aug 9, 2013, at 5:00 PM, Jamie Currie wrote:

> Interesting approach, wouldn't have thought to do it that way. Wouldn't it make it challenging to do any kind of searching / filtering on the metadata though?
> 
> Jamie Currie
> Founder / CEO
> wunderdojo
> wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo <http://twitter.com/#!/wunderdojo>
> tel: 949-734-0758
> 23 Corporate Plaza Drive, Suite 100
> Newport Beach, CA 92660
> Master web & app developers
> 
> 
> 
> 
> ------ Original Message ------
> From: "Nicholas Ciske" <nl at thoughtrefinery.com>
> To: wp-hackers at lists.automattic.com
> Sent: 8/9/2013 2:40:15 PM
> Subject: Re: [wp-hackers] store all revisions of user metadata in wordpress - possible?
>> Try storing all meta data for that user in a serialized array -- add entries indexed by meta key & timestamp whenever something changes, then query the history array to display change history for all or one item.
>> 
>> Make sure you avoid recursion and don't track the history of the history meta data (or store it in an option with the user_id in the key name).
>> 
>> _________________________
>> Nick Ciske
>> http://thoughtrefinery.com/
>> @nciske


From jamie at wunderdojo.com  Fri Aug  9 22:06:31 2013
From: jamie at wunderdojo.com (Jamie Currie)
Date: Fri, 09 Aug 2013 22:06:31 +0000
Subject: [wp-hackers] store all revisions of user metadata in wordpress
	- possible?
In-Reply-To: <1F2349E3-BAF1-4213-B7F1-6CD7ABFC6398@thoughtrefinery.com>
Message-ID: <emac3094c7-0446-4e85-bdf3-5c8443140016@wunderdojo>

I've wondered before why the meta tables don't timestamp -- would make a 
world of things easier if they did and seems like it has a ton of 
practical application.

Jamie Currie
Founder / CEO
wunderdojo
wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo 
<http://twitter.com/#!/wunderdojo>
tel: 949-734-0758
23 Corporate Plaza Drive, Suite 100
Newport Beach, CA 92660
Master web & app developers




------ Original Message ------
From: "Nicholas Ciske" <nl at thoughtrefinery.com>
To: wp-hackers at lists.automattic.com
Sent: 8/9/2013 3:05:13 PM
Subject: Re: [wp-hackers] store all revisions of user metadata in 
wordpress - possible?
>Yes, my approach would only really work if you already knew the user id 
>(or were looping through users) and just wanted to display history. 
>Finding a user whose email used to be X would be difficult and hacky.
>
>I was going for simple ;-)
>
>A separate table would be far more flexible, but a lot more overhead 
>code wise.
>
>_________________________
>Nick Ciske
>http://thoughtrefinery.com/
>@nciske
>
>On Aug 9, 2013, at 5:00 PM, Jamie Currie wrote:
>
>>  Interesting approach, wouldn't have thought to do it that way. 
>>Wouldn't it make it challenging to do any kind of searching / 
>>filtering on the metadata though?
>>
>>  Jamie Currie
>>  Founder / CEO
>>  wunderdojo
>>  wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo 
>><http://twitter.com/#!/wunderdojo>
>>  tel: 949-734-0758
>>  23 Corporate Plaza Drive, Suite 100
>>  Newport Beach, CA 92660
>>  Master web & app developers
>>
>>
>>
>>
>>  ------ Original Message ------
>>  From: "Nicholas Ciske" <nl at thoughtrefinery.com>
>>  To: wp-hackers at lists.automattic.com
>>  Sent: 8/9/2013 2:40:15 PM
>>  Subject: Re: [wp-hackers] store all revisions of user metadata in 
>>wordpress - possible?
>>>  Try storing all meta data for that user in a serialized array -- add 
>>>entries indexed by meta key & timestamp whenever something changes, 
>>>then query the history array to display change history for all or one 
>>>item.
>>>
>>>  Make sure you avoid recursion and don't track the history of the 
>>>history meta data (or store it in an option with the user_id in the 
>>>key name).
>>>
>>>  _________________________
>>>  Nick Ciske
>>>  http://thoughtrefinery.com/
>>>  @nciske
>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers


From greglancaster71 at gmail.com  Fri Aug  9 22:12:49 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Fri, 9 Aug 2013 15:12:49 -0700
Subject: [wp-hackers] store all revisions of user metadata in wordpress
	- possible?
In-Reply-To: <emac3094c7-0446-4e85-bdf3-5c8443140016@wunderdojo>
References: <1F2349E3-BAF1-4213-B7F1-6CD7ABFC6398@thoughtrefinery.com>
 <emac3094c7-0446-4e85-bdf3-5c8443140016@wunderdojo>
Message-ID: <CAPN-N+aF1_61YwfMqE31AOsNTURvLArQMzSmU+re9ea6xQna9w@mail.gmail.com>

Hey Jamie- Do you have time to code something like this?  I saw you have a
business doing this and I am still learning php.  Your skills would be
beneficial :-). or Nicks

On Friday, August 9, 2013, Jamie Currie wrote:

> I've wondered before why the meta tables don't timestamp -- would make a
> world of things easier if they did and seems like it has a ton of practical
> application.
>
> Jamie Currie
> Founder / CEO
> wunderdojo
> wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo <
> http://twitter.com/#!/**wunderdojo <http://twitter.com/#!/wunderdojo>>
> tel: 949-734-0758
> 23 Corporate Plaza Drive, Suite 100
> Newport Beach, CA 92660
> Master web & app developers
>
>
>
>
> ------ Original Message ------
> From: "Nicholas Ciske" <nl at thoughtrefinery.com>
> To: wp-hackers at lists.automattic.com
> Sent: 8/9/2013 3:05:13 PM
> Subject: Re: [wp-hackers] store all revisions of user metadata in
> wordpress - possible?
>
>> Yes, my approach would only really work if you already knew the user id
>> (or were looping through users) and just wanted to display history. Finding
>> a user whose email used to be X would be difficult and hacky.
>>
>> I was going for simple ;-)
>>
>> A separate table would be far more flexible, but a lot more overhead code
>> wise.
>>
>> _________________________
>> Nick Ciske
>> http://thoughtrefinery.com/
>> @nciske
>>
>> On Aug 9, 2013, at 5:00 PM, Jamie Currie wrote:
>>
>>   Interesting approach, wouldn't have thought to do it that way. Wouldn't
>>> it make it challenging to do any kind of searching / filtering on the
>>> metadata though?
>>>
>>>  Jamie Currie
>>>  Founder / CEO
>>>  wunderdojo
>>>  wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo <
>>> http://twitter.com/#!/**wunderdojo <http://twitter.com/#!/wunderdojo>>
>>>  tel: 949-734-0758
>>>  23 Corporate Plaza Drive, Suite 100
>>>  Newport Beach, CA 92660
>>>  Master web & app developers
>>>
>>>
>>>
>>>
>>>  ------ Original Message ------
>>>  From: "Nicholas Ciske" <nl at thoughtrefinery.com>
>>>  To: wp-hackers at lists.automattic.com
>>>  Sent: 8/9/2013 2:40:15 PM
>>>  Subject: Re: [wp-hackers] store all revisions of user metadata in
>>> wordpress - possible?
>>>
>>>>  Try storing all meta data for that user in a serialized array -- add
>>>> entries indexed by meta key & timestamp whenever something changes, then
>>>> query the history array to display change history for all or one item.
>>>>
>>>>  Make sure you avoid recursion and don't track the history of the
>>>> history meta data (or store it in an option with the user_id in the key
>>>> name).
>>>>
>>>>  _________________________
>>>>  Nick Ciske
>>>>  http://thoughtrefinery.com/
>>>>  @nciske
>>>>
>>>
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From jamie at wunderdojo.com  Fri Aug  9 22:17:34 2013
From: jamie at wunderdojo.com (Jamie Currie)
Date: Fri, 09 Aug 2013 22:17:34 +0000
Subject: [wp-hackers] store all revisions of user metadata in wordpress
	- possible?
In-Reply-To: <CAPN-N+aF1_61YwfMqE31AOsNTURvLArQMzSmU+re9ea6xQna9w@mail.gmail.com>
Message-ID: <emaff0432a-29c3-49d1-8bc8-b3abb479d23d@wunderdojo>

Sure, I could whip something up. Want to email off list or give a ring?

Jamie Currie
Founder / CEO
wunderdojo
wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo 
<http://twitter.com/#!/wunderdojo>
tel: 949-734-0758
23 Corporate Plaza Drive, Suite 100
Newport Beach, CA 92660
Master web & app developers




------ Original Message ------
From: "Gregory Lancaster" <greglancaster71 at gmail.com>
To: "wp-hackers at lists.automattic.com" <wp-hackers at lists.automattic.com>
Sent: 8/9/2013 3:12:49 PM
Subject: Re: [wp-hackers] store all revisions of user metadata in 
wordpress - possible?
>Hey Jamie- Do you have time to code something like this? I saw you have 
>a
>business doing this and I am still learning php. Your skills would be
>beneficial :-). or Nicks
>
>On Friday, August 9, 2013, Jamie Currie wrote:
>
>>  I've wondered before why the meta tables don't timestamp -- would 
>>make a
>>  world of things easier if they did and seems like it has a ton of 
>>practical
>>  application.
>>
>>  Jamie Currie
>>  Founder / CEO
>>  wunderdojo
>>  wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo <
>>  http://twitter.com/#!/**wunderdojo 
>><http://twitter.com/#!/wunderdojo>>
>>  tel: 949-734-0758
>>  23 Corporate Plaza Drive, Suite 100
>>  Newport Beach, CA 92660
>>  Master web & app developers
>>
>>
>>
>>
>>  ------ Original Message ------
>>  From: "Nicholas Ciske" <nl at thoughtrefinery.com>
>>  To: wp-hackers at lists.automattic.com
>>  Sent: 8/9/2013 3:05:13 PM
>>  Subject: Re: [wp-hackers] store all revisions of user metadata in
>>  wordpress - possible?
>>
>>>  Yes, my approach would only really work if you already knew the user 
>>>id
>>>  (or were looping through users) and just wanted to display history. 
>>>Finding
>>>  a user whose email used to be X would be difficult and hacky.
>>>
>>>  I was going for simple ;-)
>>>
>>>  A separate table would be far more flexible, but a lot more overhead 
>>>code
>>>  wise.
>>>
>>>  _________________________
>>>  Nick Ciske
>>>  http://thoughtrefinery.com/
>>>  @nciske
>>>
>>>  On Aug 9, 2013, at 5:00 PM, Jamie Currie wrote:
>>>
>>>    Interesting approach, wouldn't have thought to do it that way. 
>>>Wouldn't
>>>>  it make it challenging to do any kind of searching / filtering on 
>>>>the
>>>>  metadata though?
>>>>
>>>>   Jamie Currie
>>>>   Founder / CEO
>>>>   wunderdojo
>>>>   wunderdojo.com <http://www.wunderdojo.com> | 
>>>>twitter.com/wunderdojo <
>>>>  http://twitter.com/#!/**wunderdojo 
>>>><http://twitter.com/#!/wunderdojo>>
>>>>   tel: 949-734-0758
>>>>   23 Corporate Plaza Drive, Suite 100
>>>>   Newport Beach, CA 92660
>>>>   Master web & app developers
>>>>
>>>>
>>>>
>>>>
>>>>   ------ Original Message ------
>>>>   From: "Nicholas Ciske" <nl at thoughtrefinery.com>
>>>>   To: wp-hackers at lists.automattic.com
>>>>   Sent: 8/9/2013 2:40:15 PM
>>>>   Subject: Re: [wp-hackers] store all revisions of user metadata in
>>>>  wordpress - possible?
>>>>
>>>>>   Try storing all meta data for that user in a serialized array -- 
>>>>>add
>>>>>  entries indexed by meta key & timestamp whenever something 
>>>>>changes, then
>>>>>  query the history array to display change history for all or one 
>>>>>item.
>>>>>
>>>>>   Make sure you avoid recursion and don't track the history of the
>>>>>  history meta data (or store it in an option with the user_id in 
>>>>>the key
>>>>>  name).
>>>>>
>>>>>   _________________________
>>>>>   Nick Ciske
>>>>>   http://thoughtrefinery.com/
>>>>>   @nciske
>>>>>
>>>>
>>>  ______________________________**_________________
>>>  wp-hackers mailing list
>>>  wp-hackers at lists.automattic.com
>>>  
>>>http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>
>>
>>  ______________________________**_________________
>>  wp-hackers mailing list
>>  wp-hackers at lists.automattic.com
>>  
>>http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers


From greglancaster71 at gmail.com  Fri Aug  9 22:19:23 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Fri, 9 Aug 2013 15:19:23 -0700
Subject: [wp-hackers] store all revisions of user metadata in wordpress
	- possible?
In-Reply-To: <emac3094c7-0446-4e85-bdf3-5c8443140016@wunderdojo>
References: <1F2349E3-BAF1-4213-B7F1-6CD7ABFC6398@thoughtrefinery.com>
 <emac3094c7-0446-4e85-bdf3-5c8443140016@wunderdojo>
Message-ID: <CAPN-N+ZWVUaCx5=KBpXSuiUEwyB1ttcv1O=bAtDEwYp45z=rRg@mail.gmail.com>

or- if there is a more effecient method of storing userdata?  An external
database seems like it might be easier to manage than this, but I dont know
if its possible to hook the logged in users username to their information
and have it displayed back for them.

On Friday, August 9, 2013, Jamie Currie wrote:

> I've wondered before why the meta tables don't timestamp -- would make a
> world of things easier if they did and seems like it has a ton of practical
> application.
>
> Jamie Currie
> Founder / CEO
> wunderdojo
> wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo <
> http://twitter.com/#!/**wunderdojo <http://twitter.com/#!/wunderdojo>>
> tel: 949-734-0758
> 23 Corporate Plaza Drive, Suite 100
> Newport Beach, CA 92660
> Master web & app developers
>
>
>
>
> ------ Original Message ------
> From: "Nicholas Ciske" <nl at thoughtrefinery.com>
> To: wp-hackers at lists.automattic.com
> Sent: 8/9/2013 3:05:13 PM
> Subject: Re: [wp-hackers] store all revisions of user metadata in
> wordpress - possible?
>
>> Yes, my approach would only really work if you already knew the user id
>> (or were looping through users) and just wanted to display history. Finding
>> a user whose email used to be X would be difficult and hacky.
>>
>> I was going for simple ;-)
>>
>> A separate table would be far more flexible, but a lot more overhead code
>> wise.
>>
>> _________________________
>> Nick Ciske
>> http://thoughtrefinery.com/
>> @nciske
>>
>> On Aug 9, 2013, at 5:00 PM, Jamie Currie wrote:
>>
>>   Interesting approach, wouldn't have thought to do it that way. Wouldn't
>>> it make it challenging to do any kind of searching / filtering on the
>>> metadata though?
>>>
>>>  Jamie Currie
>>>  Founder / CEO
>>>  wunderdojo
>>>  wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo <
>>> http://twitter.com/#!/**wunderdojo <http://twitter.com/#!/wunderdojo>>
>>>  tel: 949-734-0758
>>>  23 Corporate Plaza Drive, Suite 100
>>>  Newport Beach, CA 92660
>>>  Master web & app developers
>>>
>>>
>>>
>>>
>>>  ------ Original Message ------
>>>  From: "Nicholas Ciske" <nl at thoughtrefinery.com>
>>>  To: wp-hackers at lists.automattic.com
>>>  Sent: 8/9/2013 2:40:15 PM
>>>  Subject: Re: [wp-hackers] store all revisions of user metadata in
>>> wordpress - possible?
>>>
>>>>  Try storing all meta data for that user in a serialized array -- add
>>>> entries indexed by meta key & timestamp whenever something changes, then
>>>> query the history array to display change history for all or one item.
>>>>
>>>>  Make sure you avoid recursion and don't track the history of the
>>>> history meta data (or store it in an option with the user_id in the key
>>>> name).
>>>>
>>>>  _________________________
>>>>  Nick Ciske
>>>>  http://thoughtrefinery.com/
>>>>  @nciske
>>>>
>>>
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From jamie at wunderdojo.com  Fri Aug  9 22:22:59 2013
From: jamie at wunderdojo.com (Jamie Currie)
Date: Fri, 09 Aug 2013 22:22:59 +0000
Subject: [wp-hackers] store all revisions of user metadata in wordpress
	- possible?
In-Reply-To: <CAPN-N+ZWVUaCx5=KBpXSuiUEwyB1ttcv1O=bAtDEwYp45z=rRg@mail.gmail.com>
Message-ID: <em9646e8e8-0c32-4df5-8c57-b31c234aa165@wunderdojo>

Best bet is probably just adding a custom table. No matter how you 
tackle it you're not going to be able to store / retrieve chronological 
usermeta using the built in WP functions -- it's just not set up for 
that.

I built a member management platform on WP that is used by various 
businesses (health clubs, things like that) to manage member 
registration, payments, front desk check in, etc. I opted to go with a 
few custom tables for just this reason -- made it way easier to track 
info. and you can optimize with db indexes, etc.


Jamie Currie
Founder / CEO
wunderdojo
wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo 
<http://twitter.com/#!/wunderdojo>
tel: 949-734-0758
23 Corporate Plaza Drive, Suite 100
Newport Beach, CA 92660
Master web & app developers




------ Original Message ------
From: "Gregory Lancaster" <greglancaster71 at gmail.com>
To: "wp-hackers at lists.automattic.com" <wp-hackers at lists.automattic.com>
Sent: 8/9/2013 3:19:23 PM
Subject: Re: [wp-hackers] store all revisions of user metadata in 
wordpress - possible?
>or- if there is a more effecient method of storing userdata? An 
>external
>database seems like it might be easier to manage than this, but I dont 
>know
>if its possible to hook the logged in users username to their 
>information
>and have it displayed back for them.
>
>On Friday, August 9, 2013, Jamie Currie wrote:
>
>>  I've wondered before why the meta tables don't timestamp -- would 
>>make a
>>  world of things easier if they did and seems like it has a ton of 
>>practical
>>  application.
>>
>>  Jamie Currie
>>  Founder / CEO
>>  wunderdojo
>>  wunderdojo.com <http://www.wunderdojo.com> | twitter.com/wunderdojo <
>>  http://twitter.com/#!/**wunderdojo 
>><http://twitter.com/#!/wunderdojo>>
>>  tel: 949-734-0758
>>  23 Corporate Plaza Drive, Suite 100
>>  Newport Beach, CA 92660
>>  Master web & app developers
>>
>>
>>
>>
>>  ------ Original Message ------
>>  From: "Nicholas Ciske" <nl at thoughtrefinery.com>
>>  To: wp-hackers at lists.automattic.com
>>  Sent: 8/9/2013 3:05:13 PM
>>  Subject: Re: [wp-hackers] store all revisions of user metadata in
>>  wordpress - possible?
>>
>>>  Yes, my approach would only really work if you already knew the user 
>>>id
>>>  (or were looping through users) and just wanted to display history. 
>>>Finding
>>>  a user whose email used to be X would be difficult and hacky.
>>>
>>>  I was going for simple ;-)
>>>
>>>  A separate table would be far more flexible, but a lot more overhead 
>>>code
>>>  wise.
>>>
>>>  _________________________
>>>  Nick Ciske
>>>  http://thoughtrefinery.com/
>>>  @nciske
>>>
>>>  On Aug 9, 2013, at 5:00 PM, Jamie Currie wrote:
>>>
>>>    Interesting approach, wouldn't have thought to do it that way. 
>>>Wouldn't
>>>>  it make it challenging to do any kind of searching / filtering on 
>>>>the
>>>>  metadata though?
>>>>
>>>>   Jamie Currie
>>>>   Founder / CEO
>>>>   wunderdojo
>>>>   wunderdojo.com <http://www.wunderdojo.com> | 
>>>>twitter.com/wunderdojo <
>>>>  http://twitter.com/#!/**wunderdojo 
>>>><http://twitter.com/#!/wunderdojo>>
>>>>   tel: 949-734-0758
>>>>   23 Corporate Plaza Drive, Suite 100
>>>>   Newport Beach, CA 92660
>>>>   Master web & app developers
>>>>
>>>>
>>>>
>>>>
>>>>   ------ Original Message ------
>>>>   From: "Nicholas Ciske" <nl at thoughtrefinery.com>
>>>>   To: wp-hackers at lists.automattic.com
>>>>   Sent: 8/9/2013 2:40:15 PM
>>>>   Subject: Re: [wp-hackers] store all revisions of user metadata in
>>>>  wordpress - possible?
>>>>
>>>>>   Try storing all meta data for that user in a serialized array -- 
>>>>>add
>>>>>  entries indexed by meta key & timestamp whenever something 
>>>>>changes, then
>>>>>  query the history array to display change history for all or one 
>>>>>item.
>>>>>
>>>>>   Make sure you avoid recursion and don't track the history of the
>>>>>  history meta data (or store it in an option with the user_id in 
>>>>>the key
>>>>>  name).
>>>>>
>>>>>   _________________________
>>>>>   Nick Ciske
>>>>>   http://thoughtrefinery.com/
>>>>>   @nciske
>>>>>
>>>>
>>>  ______________________________**_________________
>>>  wp-hackers mailing list
>>>  wp-hackers at lists.automattic.com
>>>  
>>>http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>
>>
>>  ______________________________**_________________
>>  wp-hackers mailing list
>>  wp-hackers at lists.automattic.com
>>  
>>http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers


From andy at uptrending.com  Fri Aug  9 23:41:34 2013
From: andy at uptrending.com (Andy Brewer)
Date: Fri, 9 Aug 2013 16:41:34 -0700
Subject: [wp-hackers] Looking for WP hackers
Message-ID: <CAAXSDj-Xzhq1W0VQS7f2Uj2ZNjTKUqYjCBTwxY3psjhbhQNOJQ@mail.gmail.com>

Hi all,

UpTrending (http://uptrending.com) is looking for 2 full-time WordPress
devs.  We're an agile shop with great benefits.  If you're interested,
please feel free to inquire at careers at uptrending.com and I can follow up
with you there.

Thanks,

Andy

From guus at inspiration-for-success.com  Sun Aug 11 06:11:02 2013
From: guus at inspiration-for-success.com (Guus (IFS))
Date: Sun, 11 Aug 2013 14:11:02 +0800
Subject: [wp-hackers] Regional Author Groups and Permission
References: <EE267FF1-1222-4BCC-BA1C-AA2F26EB3C81@mac.com>
Message-ID: <35BDCCBD3CF7441B98F25E9C81953DE0@megaheights.net>

Why use Wordpress for something like that? Might be easier to build with 
some other framework.

----- Original Message ----- 
From: "David Churchill" <davinian at mac.com>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, August 09, 2013 6:17 PM
Subject: [wp-hackers] Regional Author Groups and Permission


Hi, I need some advice on the best way to approach building an event/booking 
website with multi author support.

The idea is one website listing lots of regional events. Users can 
geo-search events based on name, town, city and zip/post code with a 
distance radius in miles (5,10,25 etc). Then book the event online via 
PayPal and other payment gateways.

I have all of this working using Events Calendar Pro (Modern Tribe), Geo my 
WP (free plugin) for the geo-search, WooCommerce and WooTickets for the 
booking/tickets/payments.

What I am struggling with is how best to setup regional authors. I would 
ideally like to create regional groups with a main coordinator and a number 
of event publishers under the each region.

Each publisher will be able to create/publish edit/delete their own events, 
but not any other publishers (ideally other publishers events need to be 
hidden in the backend). The coordinators will be able to create/publish and 
edit/delete their own events and those belonging to the publishers in the 
same group (so see all events by all publishers in the same regional group). 
They will be able to publish events on behalf of the publishers, so will 
need to be able to select the author in the Author drop-down list. There 
will be a number of regional groups and all the events in each group will 
need to be hidden from the other groups. Hope this is making sense?

I have looked at a number of group based plugins, but they all appear to 
work by setting the permissions on a per event (post) based system which 
will not work as it will rely on publishers setting this very time.

I have also looked at a network/mu install of WordPress and think this is 
probably the best approach, but Events Calendar Pro currently doesn't 
support sharing the events back to the main network site ? ideally all mu 
sites will only be used for adding content and not visible by the end user.

There is another event plugin called Events Organiser Pro which does support 
mu integration and saves all events in the main network sites db but doesn't 
support WooCommerce.

Another possible idea would be to create front-end templates for publishers 
so that they can add/edit and view their own events.

So (apologies for long-winded question), but does anybody have any 
recommendations or suggestions for managing groups and users where their 
content is ring-fenced/hidden from other groups/users. I'm happy to hack 
code if this is something that could be done in code.

Thanks in advance,
David




_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers 


From davinian at mac.com  Sun Aug 11 12:55:33 2013
From: davinian at mac.com (David Churchill)
Date: Sun, 11 Aug 2013 13:55:33 +0100
Subject: [wp-hackers] Regional Author Groups and Permission
In-Reply-To: <CAMq55cy7TbtDMRZwEXHJ0L1=7BrimenFdkVpOvB-LX-B66HMww@mail.gmail.com>
References: <EE267FF1-1222-4BCC-BA1C-AA2F26EB3C81@mac.com>
 <CAMq55cy7TbtDMRZwEXHJ0L1=7BrimenFdkVpOvB-LX-B66HMww@mail.gmail.com>
Message-ID: <BB259F57-9D41-4D35-86CA-C37DAF77B955@mac.com>

Hi Jonathan, thanks, will take a closer look at your suggestions.

David


On 9 Aug 2013, at 15:55, Jonathan Brinley wrote:

> Hi, David,
> 
> For your purposes, I would definitely discourage using multi-site (see
> http://wordpress.tv/2013/08/01/mika-epstein-dont-use-wordpress-multisite/for
> many reasons why). But you'll definitely need to write some code to
> make all this happen with Events Calendar Pro.
> 
> Here's how I would probably go about it:
> 
> 1. Have a way to assign users to groups (one of the groups plugins you've
> tried probably does this reasonably well). You don't really need this to
> manage permissions, jut manage the assignment of users to groups.
> 
> 2. To prevent users from editing events from other groups: Write some code
> that hooks into 'user_has_cap'. If the current user isn't in the same group
> as the author of the event, remove caps like 'edit_tribe_event',
> 'delete_tribe_event', etc.
> 
> 3. To only show events for the current user's group: Add in a
> 'pre_get_posts' filter in the admin. You'll get a list of users in the
> current user's group, and add their IDs to the 'author' query var.
> 
> Have a nice day,
> Jonathan
> 
> 
> 
> On Fri, Aug 9, 2013 at 6:17 AM, David Churchill <davinian at mac.com> wrote:
> 
>> Hi, I need some advice on the best way to approach building an
>> event/booking website with multi author support.
>> 
>> The idea is one website listing lots of regional events. Users can
>> geo-search events based on name, town, city and zip/post code with a
>> distance radius in miles (5,10,25 etc). Then book the event online via
>> PayPal and other payment gateways.
>> 
>> I have all of this working using Events Calendar Pro (Modern Tribe), Geo
>> my WP (free plugin) for the geo-search, WooCommerce and WooTickets for the
>> booking/tickets/payments.
>> 
>> What I am struggling with is how best to setup regional authors. I would
>> ideally like to create regional groups with a main coordinator and a number
>> of event publishers under the each region.
>> 
>> Each publisher will be able to create/publish edit/delete their own
>> events, but not any other publishers (ideally other publishers events need
>> to be hidden in the backend). The coordinators will be able to
>> create/publish and edit/delete their own events and those belonging to the
>> publishers in the same group (so see all events by all publishers in the
>> same regional group). They will be able to publish events on behalf of the
>> publishers, so will need to be able to select the author in the Author
>> drop-down list. There will be a number of regional groups and all the
>> events in each group will need to be hidden from the other groups. Hope
>> this is making sense?
>> 
>> I have looked at a number of group based plugins, but they all appear to
>> work by setting the permissions on a per event (post) based system which
>> will not work as it will rely on publishers setting this very time.
>> 
>> I have also looked at a network/mu install of WordPress and think this is
>> probably the best approach, but Events Calendar Pro currently doesn't
>> support sharing the events back to the main network site ? ideally all mu
>> sites will only be used for adding content and not visible by the end user.
>> 
>> There is another event plugin called Events Organiser Pro which does
>> support mu integration and saves all events in the main network sites db
>> but doesn't support WooCommerce.
>> 
>> Another possible idea would be to create front-end templates for
>> publishers so that they can add/edit and view their own events.
>> 
>> So (apologies for long-winded question), but does anybody have any
>> recommendations or suggestions for managing groups and users where their
>> content is ring-fenced/hidden from other groups/users. I'm happy to hack
>> code if this is something that could be done in code.
>> 
>> Thanks in advance,
>> David
>> 
>> 
>> 
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> 
> 
> 
> -- 
> Jonathan M. Brinley
> 
> jonathanbrinley at gmail.com
> http://xplus3.net/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From davinian at mac.com  Sun Aug 11 12:56:49 2013
From: davinian at mac.com (David Churchill)
Date: Sun, 11 Aug 2013 13:56:49 +0100
Subject: [wp-hackers] Regional Author Groups and Permission
In-Reply-To: <35BDCCBD3CF7441B98F25E9C81953DE0@megaheights.net>
References: <EE267FF1-1222-4BCC-BA1C-AA2F26EB3C81@mac.com>
 <35BDCCBD3CF7441B98F25E9C81953DE0@megaheights.net>
Message-ID: <577E643D-FF48-4E50-A359-F881F2B27A20@mac.com>

Hi Guus,
Do you have any other framework suggestions?
David

On 11 Aug 2013, at 07:11, Guus (IFS) wrote:

> Why use Wordpress for something like that? Might be easier to build with some other framework.
> 
> ----- Original Message ----- From: "David Churchill" <davinian at mac.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Friday, August 09, 2013 6:17 PM
> Subject: [wp-hackers] Regional Author Groups and Permission
> 
> 
> Hi, I need some advice on the best way to approach building an event/booking website with multi author support.
> 
> The idea is one website listing lots of regional events. Users can geo-search events based on name, town, city and zip/post code with a distance radius in miles (5,10,25 etc). Then book the event online via PayPal and other payment gateways.
> 
> I have all of this working using Events Calendar Pro (Modern Tribe), Geo my WP (free plugin) for the geo-search, WooCommerce and WooTickets for the booking/tickets/payments.
> 
> What I am struggling with is how best to setup regional authors. I would ideally like to create regional groups with a main coordinator and a number of event publishers under the each region.
> 
> Each publisher will be able to create/publish edit/delete their own events, but not any other publishers (ideally other publishers events need to be hidden in the backend). The coordinators will be able to create/publish and edit/delete their own events and those belonging to the publishers in the same group (so see all events by all publishers in the same regional group). They will be able to publish events on behalf of the publishers, so will need to be able to select the author in the Author drop-down list. There will be a number of regional groups and all the events in each group will need to be hidden from the other groups. Hope this is making sense?
> 
> I have looked at a number of group based plugins, but they all appear to work by setting the permissions on a per event (post) based system which will not work as it will rely on publishers setting this very time.
> 
> I have also looked at a network/mu install of WordPress and think this is probably the best approach, but Events Calendar Pro currently doesn't support sharing the events back to the main network site ? ideally all mu sites will only be used for adding content and not visible by the end user.
> 
> There is another event plugin called Events Organiser Pro which does support mu integration and saves all events in the main network sites db but doesn't support WooCommerce.
> 
> Another possible idea would be to create front-end templates for publishers so that they can add/edit and view their own events.
> 
> So (apologies for long-winded question), but does anybody have any recommendations or suggestions for managing groups and users where their content is ring-fenced/hidden from other groups/users. I'm happy to hack code if this is something that could be done in code.
> 
> Thanks in advance,
> David
> 
> 
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From brian at brianhogg.ca  Sun Aug 11 13:22:27 2013
From: brian at brianhogg.ca (Brian Hogg)
Date: Sun, 11 Aug 2013 09:22:27 -0400
Subject: [wp-hackers] Regional Author Groups and Permission
In-Reply-To: <577E643D-FF48-4E50-A359-F881F2B27A20@mac.com>
References: <EE267FF1-1222-4BCC-BA1C-AA2F26EB3C81@mac.com>
 <35BDCCBD3CF7441B98F25E9C81953DE0@megaheights.net>
 <577E643D-FF48-4E50-A359-F881F2B27A20@mac.com>
Message-ID: <965367E6-7703-42A0-9632-CA383C78B92A@brianhogg.ca>

Also a note that the Geo my WP plugin seems to be pretty inefficient in it's search, as it stores the lat/lon as varchars:

   	$gmw_sql = "CREATE TABLE {$wpdb->prefix}places_locator (
  		`post_id` 			bigint(30) NOT NULL,
  		`feature`			tinyint NOT NULL default '0',
  		`post_status` 		varchar(20) NOT NULL ,
  		`post_type` 		varchar(20) default 'post',
  		`post_title` 		TEXT,
  		`lat` 				varchar(255) NOT NULL ,
  		`long` 				varchar(255) NOT NULL ,
		...

So to do the geo search it's converting all the varchars to float/decimal on the fly.  Something like Geo Mashup might be a better bet as they seem to index things well, or coding something manually yourself (I have some notes on my slideshare: http://www.slideshare.net/bhogg)

---
brianhogg.com
905.966.1778

On 2013-08-11, at 8:56 AM, David Churchill <davinian at mac.com> wrote:

> Hi Guus,
> Do you have any other framework suggestions?
> David
> 
> On 11 Aug 2013, at 07:11, Guus (IFS) wrote:
> 
>> Why use Wordpress for something like that? Might be easier to build with some other framework.
>> 
>> ----- Original Message ----- From: "David Churchill" <davinian at mac.com>
>> To: <wp-hackers at lists.automattic.com>
>> Sent: Friday, August 09, 2013 6:17 PM
>> Subject: [wp-hackers] Regional Author Groups and Permission
>> 
>> 
>> Hi, I need some advice on the best way to approach building an event/booking website with multi author support.
>> 
>> The idea is one website listing lots of regional events. Users can geo-search events based on name, town, city and zip/post code with a distance radius in miles (5,10,25 etc). Then book the event online via PayPal and other payment gateways.
>> 
>> I have all of this working using Events Calendar Pro (Modern Tribe), Geo my WP (free plugin) for the geo-search, WooCommerce and WooTickets for the booking/tickets/payments.
>> 
>> What I am struggling with is how best to setup regional authors. I would ideally like to create regional groups with a main coordinator and a number of event publishers under the each region.
>> 
>> Each publisher will be able to create/publish edit/delete their own events, but not any other publishers (ideally other publishers events need to be hidden in the backend). The coordinators will be able to create/publish and edit/delete their own events and those belonging to the publishers in the same group (so see all events by all publishers in the same regional group). They will be able to publish events on behalf of the publishers, so will need to be able to select the author in the Author drop-down list. There will be a number of regional groups and all the events in each group will need to be hidden from the other groups. Hope this is making sense?
>> 
>> I have looked at a number of group based plugins, but they all appear to work by setting the permissions on a per event (post) based system which will not work as it will rely on publishers setting this very time.
>> 
>> I have also looked at a network/mu install of WordPress and think this is probably the best approach, but Events Calendar Pro currently doesn't support sharing the events back to the main network site ? ideally all mu sites will only be used for adding content and not visible by the end user.
>> 
>> There is another event plugin called Events Organiser Pro which does support mu integration and saves all events in the main network sites db but doesn't support WooCommerce.
>> 
>> Another possible idea would be to create front-end templates for publishers so that they can add/edit and view their own events.
>> 
>> So (apologies for long-winded question), but does anybody have any recommendations or suggestions for managing groups and users where their content is ring-fenced/hidden from other groups/users. I'm happy to hack code if this is something that could be done in code.
>> 
>> Thanks in advance,
>> David
>> 
>> 
>> 
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From contact at stephenharris.info  Sun Aug 11 18:18:58 2013
From: contact at stephenharris.info (Stephen Harris)
Date: Sun, 11 Aug 2013 19:18:58 +0100
Subject: [wp-hackers] Regional Author Groups and Permission
In-Reply-To: <mailman.11.1376222401.16919.wp-hackers@lists.automattic.com>
References: <mailman.11.1376222401.16919.wp-hackers@lists.automattic.com>
Message-ID: <5207D592.7030708@stephenharris.info>

Event Organiser Pro doesn't support mu integration with regards to 
sharing events across sites (but Event Manager does). At the request of 
someone I did add support for ThreeWP broadcast ( 
http://wordpress.org/plugins/threewp-broadcast/) - but I never say that 
anywhere outside of the sourcecode :), and it's not something I actively 
support for reasons below. Pro comes with its owns booking management, 
so there's no WooCommerce integration.

Personally I think using multisite to 'divide' a site is the wrong 
approach to use for the simple reason that multisite is very much 
intended for situations where you have completely independent sites 
which may share a user base. I think the typical example is usually 
WordPress.com - and if that's not similar to what you're trying to 
achieve, you'll be going against the grain and probably find you'll end 
up with 'hacky' code or low performance or both. Unfortunately it was 
not designed to, and cannot in a particularly 'clean' way, share content 
between network sites.

I would use pre_get_posts to filter the admin pages so that only users 
with the appropriate permissions can view the posts - that is restrict 
events to those in regions to which the user belongs. With regards to 
editing posts you can use the map_meta_cap ( 
http://codex.wordpress.org/Function_Reference/map_meta_cap) filter to 
essentially allow/disallow a user to edit a post. For example create a 
capability 'edit_other_regions_events', and when the user's permission 
to edit an event is being determined, check the region of the event's 
venue and if the user does not belong to that region add that capability 
as a requirement. Or if in your context 'region' is its  own taxonomy, 
that would work just as well.

If the drop-down selection of the event author needs to be limited 
depending on the event's region, that is not impossible, but 
considerably more fiddly.

I hope that helps in some way :)
Stephen

> ----- Original Message -----
> From: "David Churchill" <davinian at mac.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Friday, August 09, 2013 6:17 PM
> Subject: [wp-hackers] Regional Author Groups and Permission
>
>
> Hi, I need some advice on the best way to approach building an event/booking
> website with multi author support.
>
> The idea is one website listing lots of regional events. Users can
> geo-search events based on name, town, city and zip/post code with a
> distance radius in miles (5,10,25 etc). Then book the event online via
> PayPal and other payment gateways.
>
> I have all of this working using Events Calendar Pro (Modern Tribe), Geo my
> WP (free plugin) for the geo-search, WooCommerce and WooTickets for the
> booking/tickets/payments.
>
> What I am struggling with is how best to setup regional authors. I would
> ideally like to create regional groups with a main coordinator and a number
> of event publishers under the each region.
>
> Each publisher will be able to create/publish edit/delete their own events,
> but not any other publishers (ideally other publishers events need to be
> hidden in the backend). The coordinators will be able to create/publish and
> edit/delete their own events and those belonging to the publishers in the
> same group (so see all events by all publishers in the same regional group).
> They will be able to publish events on behalf of the publishers, so will
> need to be able to select the author in the Author drop-down list. There
> will be a number of regional groups and all the events in each group will
> need to be hidden from the other groups. Hope this is making sense?
>
> I have looked at a number of group based plugins, but they all appear to
> work by setting the permissions on a per event (post) based system which
> will not work as it will rely on publishers setting this very time.
>
> I have also looked at a network/mu install of WordPress and think this is
> probably the best approach, but Events Calendar Pro currently doesn't
> support sharing the events back to the main network site ? ideally all mu
> sites will only be used for adding content and not visible by the end user.
>
> There is another event plugin called Events Organiser Pro which does support
> mu integration and saves all events in the main network sites db but doesn't
> support WooCommerce.
>
> Another possible idea would be to create front-end templates for publishers
> so that they can add/edit and view their own events.
>
> So (apologies for long-winded question), but does anybody have any
> recommendations or suggestions for managing groups and users where their
> content is ring-fenced/hidden from other groups/users. I'm happy to hack
> code if this is something that could be done in code.
>
> Thanks in advance,
> David
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
> ------------------------------
>
> Subject: Digest Footer
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> ------------------------------
>
> End of wp-hackers Digest, Vol 103, Issue 14
> *******************************************


From greglancaster71 at gmail.com  Mon Aug 12 06:05:28 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Sun, 11 Aug 2013 23:05:28 -0700
Subject: [wp-hackers] Help with including custom templates using variables
Message-ID: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>

I have a theme that I would like to include unique left-sidebar for some
posts.  The custom sidebar templates are formatted like
"left-sidebar-$tag", $tag being the taged posts I want this sidebar to show
up on.

How can I append the tag name using wp_get_post_tags to the end of the file
name?  I tried calling it within the string, no success.  I am still
learning php so if this is obvious I apologize - but any help would be
greatly appreciated!

Greg

From davinian at mac.com  Mon Aug 12 09:29:23 2013
From: davinian at mac.com (David Churchill)
Date: Mon, 12 Aug 2013 10:29:23 +0100
Subject: [wp-hackers] Regional Author Groups and Permission
In-Reply-To: <965367E6-7703-42A0-9632-CA383C78B92A@brianhogg.ca>
References: <EE267FF1-1222-4BCC-BA1C-AA2F26EB3C81@mac.com>
 <35BDCCBD3CF7441B98F25E9C81953DE0@megaheights.net>
 <577E643D-FF48-4E50-A359-F881F2B27A20@mac.com>
 <965367E6-7703-42A0-9632-CA383C78B92A@brianhogg.ca>
Message-ID: <EDBD461E-00B3-4B57-82CE-FC21824A1821@mac.com>

Thank Brian,

I looked all the geo plugins and found Geo my WP to be the easiest to use (thinking about the publishers of events), but will recheck Geo Mashup.

Regards,
David


On 11 Aug 2013, at 14:22, Brian Hogg <brian at brianhogg.ca> wrote:

> Also a note that the Geo my WP plugin seems to be pretty inefficient in it's search, as it stores the lat/lon as varchars:
> 
>   	$gmw_sql = "CREATE TABLE {$wpdb->prefix}places_locator (
>  		`post_id` 			bigint(30) NOT NULL,
>  		`feature`			tinyint NOT NULL default '0',
>  		`post_status` 		varchar(20) NOT NULL ,
>  		`post_type` 		varchar(20) default 'post',
>  		`post_title` 		TEXT,
>  		`lat` 				varchar(255) NOT NULL ,
>  		`long` 				varchar(255) NOT NULL ,
> 		...
> 
> So to do the geo search it's converting all the varchars to float/decimal on the fly.  Something like Geo Mashup might be a better bet as they seem to index things well, or coding something manually yourself (I have some notes on my slideshare: http://www.slideshare.net/bhogg)
> 
> ---
> brianhogg.com
> 905.966.1778
> 
> On 2013-08-11, at 8:56 AM, David Churchill <davinian at mac.com> wrote:
> 
>> Hi Guus,
>> Do you have any other framework suggestions?
>> David
>> 
>> On 11 Aug 2013, at 07:11, Guus (IFS) wrote:
>> 
>>> Why use Wordpress for something like that? Might be easier to build with some other framework.
>>> 
>>> ----- Original Message ----- From: "David Churchill" <davinian at mac.com>
>>> To: <wp-hackers at lists.automattic.com>
>>> Sent: Friday, August 09, 2013 6:17 PM
>>> Subject: [wp-hackers] Regional Author Groups and Permission
>>> 
>>> 
>>> Hi, I need some advice on the best way to approach building an event/booking website with multi author support.
>>> 
>>> The idea is one website listing lots of regional events. Users can geo-search events based on name, town, city and zip/post code with a distance radius in miles (5,10,25 etc). Then book the event online via PayPal and other payment gateways.
>>> 
>>> I have all of this working using Events Calendar Pro (Modern Tribe), Geo my WP (free plugin) for the geo-search, WooCommerce and WooTickets for the booking/tickets/payments.
>>> 
>>> What I am struggling with is how best to setup regional authors. I would ideally like to create regional groups with a main coordinator and a number of event publishers under the each region.
>>> 
>>> Each publisher will be able to create/publish edit/delete their own events, but not any other publishers (ideally other publishers events need to be hidden in the backend). The coordinators will be able to create/publish and edit/delete their own events and those belonging to the publishers in the same group (so see all events by all publishers in the same regional group). They will be able to publish events on behalf of the publishers, so will need to be able to select the author in the Author drop-down list. There will be a number of regional groups and all the events in each group will need to be hidden from the other groups. Hope this is making sense?
>>> 
>>> I have looked at a number of group based plugins, but they all appear to work by setting the permissions on a per event (post) based system which will not work as it will rely on publishers setting this very time.
>>> 
>>> I have also looked at a network/mu install of WordPress and think this is probably the best approach, but Events Calendar Pro currently doesn't support sharing the events back to the main network site ? ideally all mu sites will only be used for adding content and not visible by the end user.
>>> 
>>> There is another event plugin called Events Organiser Pro which does support mu integration and saves all events in the main network sites db but doesn't support WooCommerce.
>>> 
>>> Another possible idea would be to create front-end templates for publishers so that they can add/edit and view their own events.
>>> 
>>> So (apologies for long-winded question), but does anybody have any recommendations or suggestions for managing groups and users where their content is ring-fenced/hidden from other groups/users. I'm happy to hack code if this is something that could be done in code.
>>> 
>>> Thanks in advance,
>>> David
>>> 
>>> 
>>> 
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From davinian at mac.com  Mon Aug 12 09:36:06 2013
From: davinian at mac.com (David Churchill)
Date: Mon, 12 Aug 2013 10:36:06 +0100
Subject: [wp-hackers] Regional Author Groups and Permission
In-Reply-To: <5207D592.7030708@stephenharris.info>
References: <mailman.11.1376222401.16919.wp-hackers@lists.automattic.com>
 <5207D592.7030708@stephenharris.info>
Message-ID: <2A4213D2-BD8A-409C-A6E7-05FE851C0432@mac.com>

Hi Stephen,

Thanks for you suggestions ? I agree an MU site is not really a good idea.
Going to look at ways to limit permissions as per several peoples suggestion.
Thanks again to everybody for your help.

David



On 11 Aug 2013, at 19:18, Stephen Harris <contact at stephenharris.info> wrote:

> Event Organiser Pro doesn't support mu integration with regards to sharing events across sites (but Event Manager does). At the request of someone I did add support for ThreeWP broadcast ( http://wordpress.org/plugins/threewp-broadcast/) - but I never say that anywhere outside of the sourcecode :), and it's not something I actively support for reasons below. Pro comes with its owns booking management, so there's no WooCommerce integration.
> 
> Personally I think using multisite to 'divide' a site is the wrong approach to use for the simple reason that multisite is very much intended for situations where you have completely independent sites which may share a user base. I think the typical example is usually WordPress.com - and if that's not similar to what you're trying to achieve, you'll be going against the grain and probably find you'll end up with 'hacky' code or low performance or both. Unfortunately it was not designed to, and cannot in a particularly 'clean' way, share content between network sites.
> 
> I would use pre_get_posts to filter the admin pages so that only users with the appropriate permissions can view the posts - that is restrict events to those in regions to which the user belongs. With regards to editing posts you can use the map_meta_cap ( http://codex.wordpress.org/Function_Reference/map_meta_cap) filter to essentially allow/disallow a user to edit a post. For example create a capability 'edit_other_regions_events', and when the user's permission to edit an event is being determined, check the region of the event's venue and if the user does not belong to that region add that capability as a requirement. Or if in your context 'region' is its  own taxonomy, that would work just as well.
> 
> If the drop-down selection of the event author needs to be limited depending on the event's region, that is not impossible, but considerably more fiddly.
> 
> I hope that helps in some way :)
> Stephen
> 
>> ----- Original Message -----
>> From: "David Churchill" <davinian at mac.com>
>> To: <wp-hackers at lists.automattic.com>
>> Sent: Friday, August 09, 2013 6:17 PM
>> Subject: [wp-hackers] Regional Author Groups and Permission
>> 
>> 
>> Hi, I need some advice on the best way to approach building an event/booking
>> website with multi author support.
>> 
>> The idea is one website listing lots of regional events. Users can
>> geo-search events based on name, town, city and zip/post code with a
>> distance radius in miles (5,10,25 etc). Then book the event online via
>> PayPal and other payment gateways.
>> 
>> I have all of this working using Events Calendar Pro (Modern Tribe), Geo my
>> WP (free plugin) for the geo-search, WooCommerce and WooTickets for the
>> booking/tickets/payments.
>> 
>> What I am struggling with is how best to setup regional authors. I would
>> ideally like to create regional groups with a main coordinator and a number
>> of event publishers under the each region.
>> 
>> Each publisher will be able to create/publish edit/delete their own events,
>> but not any other publishers (ideally other publishers events need to be
>> hidden in the backend). The coordinators will be able to create/publish and
>> edit/delete their own events and those belonging to the publishers in the
>> same group (so see all events by all publishers in the same regional group).
>> They will be able to publish events on behalf of the publishers, so will
>> need to be able to select the author in the Author drop-down list. There
>> will be a number of regional groups and all the events in each group will
>> need to be hidden from the other groups. Hope this is making sense?
>> 
>> I have looked at a number of group based plugins, but they all appear to
>> work by setting the permissions on a per event (post) based system which
>> will not work as it will rely on publishers setting this very time.
>> 
>> I have also looked at a network/mu install of WordPress and think this is
>> probably the best approach, but Events Calendar Pro currently doesn't
>> support sharing the events back to the main network site ? ideally all mu
>> sites will only be used for adding content and not visible by the end user.
>> 
>> There is another event plugin called Events Organiser Pro which does support
>> mu integration and saves all events in the main network sites db but doesn't
>> support WooCommerce.
>> 
>> Another possible idea would be to create front-end templates for publishers
>> so that they can add/edit and view their own events.
>> 
>> So (apologies for long-winded question), but does anybody have any
>> recommendations or suggestions for managing groups and users where their
>> content is ring-fenced/hidden from other groups/users. I'm happy to hack
>> code if this is something that could be done in code.
>> 
>> Thanks in advance,
>> David
>> 
>> 
>> 
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> 
>> 
>> ------------------------------
>> 
>> Subject: Digest Footer
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> 
>> ------------------------------
>> 
>> End of wp-hackers Digest, Vol 103, Issue 14
>> *******************************************
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jdg at codesymphony.co  Mon Aug 12 13:02:48 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Mon, 12 Aug 2013 09:02:48 -0400
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
Message-ID: <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>

Hi Greg,

wp_get_post_tags() returns an array of tags for the post. By default, each of the tags in the array is represented by the tag object (see https://codex.wordpress.org/Function_Reference/wp_get_post_tags#Examples). But you don't need the whole object for each tag, only the tag name. You can change the behavior of wp_get_post_tags() to return only the tag names using the $args parameter like this:

$args = array( 'fields' => 'names' );
$tag_names = wp_get_post_tags( $post->ID, $args );

$tag_names will now contain an array of the names of the tags for the post. If you just want to load the sidebar based on the first tag, then you could do this:

$tag = $tag_names[0];
$file = "left-sidebar-$tag";

If your posts will have several tags, then you may need to do something more sophisticated instead to determine which tag takes precedence for sidebar loading.

I hope that helps.

-J.D.

On Aug 12, 2013, at 2:05 AM, Gregory Lancaster <greglancaster71 at gmail.com> wrote:

> I have a theme that I would like to include unique left-sidebar for some
> posts.  The custom sidebar templates are formatted like
> "left-sidebar-$tag", $tag being the taged posts I want this sidebar to show
> up on.
> 
> How can I append the tag name using wp_get_post_tags to the end of the file
> name?  I tried calling it within the string, no success.  I am still
> learning php so if this is obvious I apologize - but any help would be
> greatly appreciated!
> 
> Greg
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From dragonfly at dragonflyeye.net  Mon Aug 12 15:01:41 2013
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Mon, 12 Aug 2013 11:01:41 -0400
Subject: [wp-hackers] Nonce happy?
Message-ID: <CAEamYWRZUv+FWkynSRSQS1oT6i5z5Dk8eyp+4QBhv6etPKgMbg@mail.gmail.com>

Reading over a lot of documentation and example code concerning the
addition of custom fields to the Write Post screen, almost every single one
includes the requirement to include a nonce field with your data. An
abundance of caution isn't necessarily a bad thing, but does this not
strike anyone as a little too much caution?

In terms of what WordPress is using nonces for, the only goal is to make
sure the data is coming from the correct origin: your website and your
admin form. Once this task is out of the way, the rest of the POST data
should be trusted. Yet the convention, at least in terms of example code,
seems to be to include a nonce for every single custom field.

If WP is making it's own checks on the "Write Post" screen data, don't the
additional nonces seem superfluous, or am I missing something?

I perfectly understand their value in the context of a custom plugin
configuration page. But when extending the Write Post screen to incorporate
all the additional data a custom post type might require, this additional
nonce data seems like a bit of a headache with very little value.

-- 
Tom Belknap
Owner/Editor, DragonFlyEye.Net
Join me:

   - *Inbox:* http://dragonflyeye.net/subscribe
   - *Web*: http://dragonflyeye.net/
   - *Facebook*: https://www.facebook.com/DragonFlyEye.Net
   - *Twitter*: https://twitter.com/dragonflyeye
   - *Google*: https://plus.google.com/u/1/103251482414903117843/posts

From abdussamad at abdussamad.com  Mon Aug 12 15:15:06 2013
From: abdussamad at abdussamad.com (Abdussamad Abdurrazzaq)
Date: Mon, 12 Aug 2013 20:15:06 +0500
Subject: [wp-hackers] Nonce happy?
In-Reply-To: <CAEamYWRZUv+FWkynSRSQS1oT6i5z5Dk8eyp+4QBhv6etPKgMbg@mail.gmail.com>
References: <CAEamYWRZUv+FWkynSRSQS1oT6i5z5Dk8eyp+4QBhv6etPKgMbg@mail.gmail.com>
Message-ID: <5208FBFA.1090708@abdussamad.com>

It is not a problem if you stick all this functionality in a base class 
that you then extend for each of your meta options:

base: 
http://plugins.svn.wordpress.org/comment-form-message/trunk/includes/abstract.class.abd_meta_option.inc.php

text box: 
http://plugins.svn.wordpress.org/comment-form-message/trunk/includes/class.abd_text_meta_option.inc.php


On 08/12/2013 08:01 PM, Thomas Belknap wrote:
> Reading over a lot of documentation and example code concerning the
> addition of custom fields to the Write Post screen, almost every single one
> includes the requirement to include a nonce field with your data. An
> abundance of caution isn't necessarily a bad thing, but does this not
> strike anyone as a little too much caution?
>
> In terms of what WordPress is using nonces for, the only goal is to make
> sure the data is coming from the correct origin: your website and your
> admin form. Once this task is out of the way, the rest of the POST data
> should be trusted. Yet the convention, at least in terms of example code,
> seems to be to include a nonce for every single custom field.
>
> If WP is making it's own checks on the "Write Post" screen data, don't the
> additional nonces seem superfluous, or am I missing something?
>
> I perfectly understand their value in the context of a custom plugin
> configuration page. But when extending the Write Post screen to incorporate
> all the additional data a custom post type might require, this additional
> nonce data seems like a bit of a headache with very little value.
>

From contact at stephenharris.info  Mon Aug 12 15:24:23 2013
From: contact at stephenharris.info (Stephen Harris)
Date: Mon, 12 Aug 2013 16:24:23 +0100
Subject: [wp-hackers] Nonce happy?
In-Reply-To: <CAEamYWRZUv+FWkynSRSQS1oT6i5z5Dk8eyp+4QBhv6etPKgMbg@mail.gmail.com>
References: <CAEamYWRZUv+FWkynSRSQS1oT6i5z5Dk8eyp+4QBhv6etPKgMbg@mail.gmail.com>
Message-ID: <5208FE27.7040004@stephenharris.info>


Usually when handling custom metaboxes you can't be sure of $_POST even 
when WordPress has checked nonces - since typically the callback is run 
on 'save_post' which is a general hook not specific to the user clicking 
'publish'. There might not even been any data from your metabox. Since 
any plug-in can directly/indirectly trigger 'save_post' with or without 
any appropriate nonce checks its best to err on the side.

With regards to adding a nonce for each field - that is overkill, but 
you should add a nonce for each metabox. Because metaboxes can be 
removed, you cannot assume that any particular metabox will be present 
with which to check its nonce.

> Reading over a lot of documentation and example code concerning the
> addition of custom fields to the Write Post screen, almost every single one
> includes the requirement to include a nonce field with your data. An
> abundance of caution isn't necessarily a bad thing, but does this not
> strike anyone as a little too much caution?
>
> In terms of what WordPress is using nonces for, the only goal is to make
> sure the data is coming from the correct origin: your website and your
> admin form. Once this task is out of the way, the rest of the POST data
> should be trusted. Yet the convention, at least in terms of example code,
> seems to be to include a nonce for every single custom field.
>
> If WP is making it's own checks on the "Write Post" screen data, don't the
> additional nonces seem superfluous, or am I missing something?
>
> I perfectly understand their value in the context of a custom plugin
> configuration page. But when extending the Write Post screen to incorporate
> all the additional data a custom post type might require, this additional
> nonce data seems like a bit of a headache with very little value.
>


From guus at inspiration-for-success.com  Mon Aug 12 15:37:30 2013
From: guus at inspiration-for-success.com (Guus (IFS))
Date: Mon, 12 Aug 2013 23:37:30 +0800
Subject: [wp-hackers] Regional Author Groups and Permission
References: <EE267FF1-1222-4BCC-BA1C-AA2F26EB3C81@mac.com>
 <35BDCCBD3CF7441B98F25E9C81953DE0@megaheights.net>
 <577E643D-FF48-4E50-A359-F881F2B27A20@mac.com>
Message-ID: <74610569B1E543E795A2E094FD13DF15@megaheights.net>

Hi David,

I developed my own 'developer' framework that is suitable for advanced 
custom build database driven websites, but if you want Open Source I would 
look into Joomla or Zend or something like that. There are more, but those 
are the ones I know a bit.

Wordpress in my opinion is good for simple websites and blogging, but is not 
that suitable for advanced web applications,

Guus



----- Original Message ----- 
From: "David Churchill" <davinian at mac.com>
To: <wp-hackers at lists.automattic.com>
Sent: Sunday, August 11, 2013 8:56 PM
Subject: Re: [wp-hackers] Regional Author Groups and Permission


Hi Guus,
Do you have any other framework suggestions?
David

On 11 Aug 2013, at 07:11, Guus (IFS) wrote:

> Why use Wordpress for something like that? Might be easier to build with 
> some other framework.
>
> ----- Original Message ----- From: "David Churchill" <davinian at mac.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Friday, August 09, 2013 6:17 PM
> Subject: [wp-hackers] Regional Author Groups and Permission
>
>
> Hi, I need some advice on the best way to approach building an 
> event/booking website with multi author support.
>
> The idea is one website listing lots of regional events. Users can 
> geo-search events based on name, town, city and zip/post code with a 
> distance radius in miles (5,10,25 etc). Then book the event online via 
> PayPal and other payment gateways.
>
> I have all of this working using Events Calendar Pro (Modern Tribe), Geo 
> my WP (free plugin) for the geo-search, WooCommerce and WooTickets for the 
> booking/tickets/payments.
>
> What I am struggling with is how best to setup regional authors. I would 
> ideally like to create regional groups with a main coordinator and a 
> number of event publishers under the each region.
>
> Each publisher will be able to create/publish edit/delete their own 
> events, but not any other publishers (ideally other publishers events need 
> to be hidden in the backend). The coordinators will be able to 
> create/publish and edit/delete their own events and those belonging to the 
> publishers in the same group (so see all events by all publishers in the 
> same regional group). They will be able to publish events on behalf of the 
> publishers, so will need to be able to select the author in the Author 
> drop-down list. There will be a number of regional groups and all the 
> events in each group will need to be hidden from the other groups. Hope 
> this is making sense?
>
> I have looked at a number of group based plugins, but they all appear to 
> work by setting the permissions on a per event (post) based system which 
> will not work as it will rely on publishers setting this very time.
>
> I have also looked at a network/mu install of WordPress and think this is 
> probably the best approach, but Events Calendar Pro currently doesn't 
> support sharing the events back to the main network site ? ideally all mu 
> sites will only be used for adding content and not visible by the end 
> user.
>
> There is another event plugin called Events Organiser Pro which does 
> support mu integration and saves all events in the main network sites db 
> but doesn't support WooCommerce.
>
> Another possible idea would be to create front-end templates for 
> publishers so that they can add/edit and view their own events.
>
> So (apologies for long-winded question), but does anybody have any 
> recommendations or suggestions for managing groups and users where their 
> content is ring-fenced/hidden from other groups/users. I'm happy to hack 
> code if this is something that could be done in code.
>
> Thanks in advance,
> David
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers 


From davinian at mac.com  Mon Aug 12 15:54:39 2013
From: davinian at mac.com (David Churchill)
Date: Mon, 12 Aug 2013 16:54:39 +0100
Subject: [wp-hackers] Regional Author Groups and Permission
In-Reply-To: <74610569B1E543E795A2E094FD13DF15@megaheights.net>
References: <EE267FF1-1222-4BCC-BA1C-AA2F26EB3C81@mac.com>
 <35BDCCBD3CF7441B98F25E9C81953DE0@megaheights.net>
 <577E643D-FF48-4E50-A359-F881F2B27A20@mac.com>
 <74610569B1E543E795A2E094FD13DF15@megaheights.net>
Message-ID: <14CEF026-869E-49B6-98D2-B5BB2B634086@mac.com>

Thank Guus,

Used to use Joomla a lot a few years ago, but found it painful to use and clients never liked using it. Will look at Zend, but think I'll try and stick with WordPress if I can as client already uses it and would be easier to pass on if I every leave.

Cheers, Dave

 

On 12 Aug 2013, at 16:37, Guus (IFS) <guus at inspiration-for-success.com> wrote:

> Hi David,
> 
> I developed my own 'developer' framework that is suitable for advanced custom build database driven websites, but if you want Open Source I would look into Joomla or Zend or something like that. There are more, but those are the ones I know a bit.
> 
> Wordpress in my opinion is good for simple websites and blogging, but is not that suitable for advanced web applications,
> 
> Guus
> 
> 
> 
> ----- Original Message ----- From: "David Churchill" <davinian at mac.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Sunday, August 11, 2013 8:56 PM
> Subject: Re: [wp-hackers] Regional Author Groups and Permission
> 
> 
> Hi Guus,
> Do you have any other framework suggestions?
> David
> 
> On 11 Aug 2013, at 07:11, Guus (IFS) wrote:
> 
>> Why use Wordpress for something like that? Might be easier to build with some other framework.
>> 
>> ----- Original Message ----- From: "David Churchill" <davinian at mac.com>
>> To: <wp-hackers at lists.automattic.com>
>> Sent: Friday, August 09, 2013 6:17 PM
>> Subject: [wp-hackers] Regional Author Groups and Permission
>> 
>> 
>> Hi, I need some advice on the best way to approach building an event/booking website with multi author support.
>> 
>> The idea is one website listing lots of regional events. Users can geo-search events based on name, town, city and zip/post code with a distance radius in miles (5,10,25 etc). Then book the event online via PayPal and other payment gateways.
>> 
>> I have all of this working using Events Calendar Pro (Modern Tribe), Geo my WP (free plugin) for the geo-search, WooCommerce and WooTickets for the booking/tickets/payments.
>> 
>> What I am struggling with is how best to setup regional authors. I would ideally like to create regional groups with a main coordinator and a number of event publishers under the each region.
>> 
>> Each publisher will be able to create/publish edit/delete their own events, but not any other publishers (ideally other publishers events need to be hidden in the backend). The coordinators will be able to create/publish and edit/delete their own events and those belonging to the publishers in the same group (so see all events by all publishers in the same regional group). They will be able to publish events on behalf of the publishers, so will need to be able to select the author in the Author drop-down list. There will be a number of regional groups and all the events in each group will need to be hidden from the other groups. Hope this is making sense?
>> 
>> I have looked at a number of group based plugins, but they all appear to work by setting the permissions on a per event (post) based system which will not work as it will rely on publishers setting this very time.
>> 
>> I have also looked at a network/mu install of WordPress and think this is probably the best approach, but Events Calendar Pro currently doesn't support sharing the events back to the main network site ? ideally all mu sites will only be used for adding content and not visible by the end user.
>> 
>> There is another event plugin called Events Organiser Pro which does support mu integration and saves all events in the main network sites db but doesn't support WooCommerce.
>> 
>> Another possible idea would be to create front-end templates for publishers so that they can add/edit and view their own events.
>> 
>> So (apologies for long-winded question), but does anybody have any recommendations or suggestions for managing groups and users where their content is ring-fenced/hidden from other groups/users. I'm happy to hack code if this is something that could be done in code.
>> 
>> Thanks in advance,
>> David
>> 
>> 
>> 
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From greglancaster71 at gmail.com  Mon Aug 12 17:24:26 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Mon, 12 Aug 2013 10:24:26 -0700 (PDT)
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
 <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
Message-ID: <1376328266301-42026.post@n5.nabble.com>

I got it kind of working, and thank you for your feedback.  Each post only
makes use of one tag, so currently choosing which tag shows isnt an issue. 
I do have an issue with both sidebars loading though.  I want it to look to
see if the custom sidebar exists and if not use the default.  heres the code
I came up with;
    
    
<?php global $post;
$tags = wp_get_post_tags($post->ID);
foreach ($tags as $tag);{
$tag_name = $tag->name;}
$end =  $tag_name;


 <?php get_template_part('/templates/left-sidebar-'.$end.''); ?>  (this
checks for the left-sidebar with $tag appended)
<?php else: ?>
    <?php endif; ?>
	<?php get_template_part('templates/left-sidebar'); ?>      
      

Anyone have any idea how I can do that?  




--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Help-with-including-custom-templates-using-variables-tp42014p42026.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From h at hyhs.me  Mon Aug 12 17:40:54 2013
From: h at hyhs.me (Helen Hou-Sandi)
Date: Mon, 12 Aug 2013 13:40:54 -0400
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <1376328266301-42026.post@n5.nabble.com>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
 <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
 <1376328266301-42026.post@n5.nabble.com>
Message-ID: <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>

http://codex.wordpress.org/Function_Reference/locate_template

Also take a look at get_queried_object_id() rather than global $post;
$post->ID and the args for wp_get_post_tags() - you can have it return just
names and then you should be able to array_pop() it.

From ken.adcstudio at gmail.com  Mon Aug 12 17:47:54 2013
From: ken.adcstudio at gmail.com (Kenneth Newman)
Date: Mon, 12 Aug 2013 13:47:54 -0400
Subject: [wp-hackers] Nonce happy?
In-Reply-To: <CAEamYWRZUv+FWkynSRSQS1oT6i5z5Dk8eyp+4QBhv6etPKgMbg@mail.gmail.com>
References: <CAEamYWRZUv+FWkynSRSQS1oT6i5z5Dk8eyp+4QBhv6etPKgMbg@mail.gmail.com>
Message-ID: <F4FC7F32-84F5-487A-A107-A0F52CB5F3A2@gmail.com>


On Aug 12, 2013, at 11:01 AM, Thomas Belknap <dragonfly at dragonflyeye.net> wrote:

> Reading over a lot of documentation and example code concerning the
> addition of custom fields to the Write Post screen, almost every single one
> includes the requirement to include a nonce field with your data. An
> abundance of caution isn't necessarily a bad thing, but does this not
> strike anyone as a little too much caution?
Nah, it turns out that using a wpnonce to identify your fields is easier then the alternatives, so for me, it's less about caution and more about pragmatism.

> 
> In terms of what WordPress is using nonces for, the only goal is to make
> sure the data is coming from the correct origin: your website and your
> admin form. Once this task is out of the way, the rest of the POST data
> should be trusted. Yet the convention, at least in terms of example code,
> seems to be to include a nonce for every single custom field.
wpnonces are (supposed) to be tied to a unique action string-key. Every action deserves it's own wpnonce. 
If a user uses the bulk edit feature on the post list screen, then for each post edited, the wpnonce for bulkedit will pass, and yet your fields aren't present and your handle shouldn't run.
Further, there's no guarantee that 'save_posts' (which is where your action is hooked) was even triggered by an edit form submission (upgrades and unistalls update posts sometimes) and there's no guarantee that a related nonce check was performed at all (unless you do it yourself).

> 
> If WP is making it's own checks on the "Write Post" screen data, don't the
> additional nonces seem superfluous, or am I missing something?
This wpnonce is tied to an action that does not necessarily cover your fields' purpose.
Your nonce is supposed to indicate an action such as 'user_wants_to_update_my_metafields_for_book_cpts' (overlong because it's contrived).
It's a way of assuring you are only taking action when the user intends for that action to occur.

> 
> I perfectly understand their value in the context of a custom plugin
> configuration page. But when extending the Write Post screen to incorporate
> all the additional data a custom post type might require, this additional
> nonce data seems like a bit of a headache with very little value.
I find that using a unique nonce actually has quite a bit of utility, and it's only two lines of code: a line printing the nonce with your fields, and a line checking it's value.

The most evident utility is that if my unique nonce is valid, my fields should at least be present. User actions involving the posting form on the dashboard, the bulk edit form, pressthis, among others, won't contain my fields, since I add them via metabox calls typically. Checking the nonce saves me the hassle of detecting the screen type and inspecting the $_POST object and detecting my fields.

You should always use a unique string that describes the custom action you are handling, and specify a unique field name for the nonce (otherwise someone's _wpnonce is going to get trampled). 

I think of this system as effectively having multiple forms that are transmitted via the same html form. If I use my own unique nonces, I don't have to worry about what any other actions are doing. 

> 
> -- 
> Tom Belknap
> Owner/Editor, DragonFlyEye.Net
> Join me:
> 
>   - *Inbox:* http://dragonflyeye.net/subscribe
>   - *Web*: http://dragonflyeye.net/
>   - *Facebook*: https://www.facebook.com/DragonFlyEye.Net
>   - *Twitter*: https://twitter.com/dragonflyeye
>   - *Google*: https://plus.google.com/u/1/103251482414903117843/posts
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From nikolov.tmw at gmail.com  Mon Aug 12 18:19:54 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Mon, 12 Aug 2013 21:19:54 +0300
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
 <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
 <1376328266301-42026.post@n5.nabble.com>
 <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>
Message-ID: <CAOwx47cZaR5OACkyEVw0WC-1PRVmEeF-US_Dxg+_51qwWj6=4A@mail.gmail.com>

>>I do have an issue with both sidebars loading though.  I want it to look
to
>>see if the custom sidebar exists and if not use the default.  heres the
code
>>I came up with...

You can simply use the second argument of get_template_part() like so:

<?php get_template_part('/templates/left-sidebar', $end); ?>

This will first look for the file "/templates/left-sidebar-{$end}.php" and
if it doesn't exist, it will look for the file
"/templates/left-sidebar.php". If that doesn't exist either nothing
happens.

You can read about the function in the codex -
http://codex.wordpress.org/Function_Reference/get_template_part

Nikola


On Mon, Aug 12, 2013 at 8:40 PM, Helen Hou-Sandi <h at hyhs.me> wrote:

> http://codex.wordpress.org/Function_Reference/locate_template
>
> Also take a look at get_queried_object_id() rather than global $post;
> $post->ID and the args for wp_get_post_tags() - you can have it return just
> names and then you should be able to array_pop() it.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From h at hyhs.me  Mon Aug 12 18:30:27 2013
From: h at hyhs.me (Helen Hou-Sandi)
Date: Mon, 12 Aug 2013 14:30:27 -0400
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <CAOwx47cZaR5OACkyEVw0WC-1PRVmEeF-US_Dxg+_51qwWj6=4A@mail.gmail.com>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
 <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
 <1376328266301-42026.post@n5.nabble.com>
 <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>
 <CAOwx47cZaR5OACkyEVw0WC-1PRVmEeF-US_Dxg+_51qwWj6=4A@mail.gmail.com>
Message-ID: <CAA0DF=8a6H3LzvXtqsiLfG58fi3BNEgANNP4xbd9qPehO-peog@mail.gmail.com>

>
> You can simply use the second argument of get_template_part() like so:
>
> <?php get_template_part('/templates/left-sidebar', $end); ?>
>
>
Meant to put that right at the top of my reply, oops :) Definitely start
there.

From greglancaster71 at gmail.com  Mon Aug 12 18:47:07 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Mon, 12 Aug 2013 11:47:07 -0700 (PDT)
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <CAOwx47cZaR5OACkyEVw0WC-1PRVmEeF-US_Dxg+_51qwWj6=4A@mail.gmail.com>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
 <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
 <1376328266301-42026.post@n5.nabble.com>
 <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>
 <CAOwx47cZaR5OACkyEVw0WC-1PRVmEeF-US_Dxg+_51qwWj6=4A@mail.gmail.com>
Message-ID: <1376333227485-42031.post@n5.nabble.com>

That did it! Thank you so much!  I spend over 2 hours trying to figure the
correct if else statement.  Wish I would have taken the time to read that
before.  Much appreciated!



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Help-with-including-custom-templates-using-variables-tp42014p42031.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From greglancaster71 at gmail.com  Mon Aug 12 18:48:36 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Mon, 12 Aug 2013 11:48:36 -0700 (PDT)
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <1376333227485-42031.post@n5.nabble.com>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
 <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
 <1376328266301-42026.post@n5.nabble.com>
 <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>
 <CAOwx47cZaR5OACkyEVw0WC-1PRVmEeF-US_Dxg+_51qwWj6=4A@mail.gmail.com>
 <1376333227485-42031.post@n5.nabble.com>
Message-ID: <1376333316930-42032.post@n5.nabble.com>

Is there a way to use only one file for the alternative sidebar, and have
conditionals within the extra file?  Rather than have so many extra sidebar
files?



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Help-with-including-custom-templates-using-variables-tp42014p42032.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From dragonfly at dragonflyeye.net  Mon Aug 12 18:50:28 2013
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Mon, 12 Aug 2013 14:50:28 -0400
Subject: [wp-hackers] Nonce happy?
In-Reply-To: <F4FC7F32-84F5-487A-A107-A0F52CB5F3A2@gmail.com>
References: <CAEamYWRZUv+FWkynSRSQS1oT6i5z5Dk8eyp+4QBhv6etPKgMbg@mail.gmail.com>
 <F4FC7F32-84F5-487A-A107-A0F52CB5F3A2@gmail.com>
Message-ID: <CAEamYWRZro6omo8FdanNmk2eqNhdtAvFwpZtQuf49MqWAZPTbA@mail.gmail.com>

Thank you all for your helpful and thoughtful responses. Kenneth, what you
say makes a lot of sense. I'm trying to create a more or less generic form
field generator for use across other plugins that I use all the time, just
because I'm so spoiled on the way CakePHP creates forms, and the nonce
thing was an open question.

You've all given me a lot to think about. Thank you.


On Mon, Aug 12, 2013 at 1:47 PM, Kenneth Newman <ken.adcstudio at gmail.com>wrote:

>
> On Aug 12, 2013, at 11:01 AM, Thomas Belknap <dragonfly at dragonflyeye.net>
> wrote:
>
> > Reading over a lot of documentation and example code concerning the
> > addition of custom fields to the Write Post screen, almost every single
> one
> > includes the requirement to include a nonce field with your data. An
> > abundance of caution isn't necessarily a bad thing, but does this not
> > strike anyone as a little too much caution?
> Nah, it turns out that using a wpnonce to identify your fields is easier
> then the alternatives, so for me, it's less about caution and more about
> pragmatism.
>
> >
> > In terms of what WordPress is using nonces for, the only goal is to make
> > sure the data is coming from the correct origin: your website and your
> > admin form. Once this task is out of the way, the rest of the POST data
> > should be trusted. Yet the convention, at least in terms of example code,
> > seems to be to include a nonce for every single custom field.
> wpnonces are (supposed) to be tied to a unique action string-key. Every
> action deserves it's own wpnonce.
> If a user uses the bulk edit feature on the post list screen, then for
> each post edited, the wpnonce for bulkedit will pass, and yet your fields
> aren't present and your handle shouldn't run.
> Further, there's no guarantee that 'save_posts' (which is where your
> action is hooked) was even triggered by an edit form submission (upgrades
> and unistalls update posts sometimes) and there's no guarantee that a
> related nonce check was performed at all (unless you do it yourself).
>
> >
> > If WP is making it's own checks on the "Write Post" screen data, don't
> the
> > additional nonces seem superfluous, or am I missing something?
> This wpnonce is tied to an action that does not necessarily cover your
> fields' purpose.
> Your nonce is supposed to indicate an action such as
> 'user_wants_to_update_my_metafields_for_book_cpts' (overlong because it's
> contrived).
> It's a way of assuring you are only taking action when the user intends
> for that action to occur.
>
> >
> > I perfectly understand their value in the context of a custom plugin
> > configuration page. But when extending the Write Post screen to
> incorporate
> > all the additional data a custom post type might require, this additional
> > nonce data seems like a bit of a headache with very little value.
> I find that using a unique nonce actually has quite a bit of utility, and
> it's only two lines of code: a line printing the nonce with your fields,
> and a line checking it's value.
>
> The most evident utility is that if my unique nonce is valid, my fields
> should at least be present. User actions involving the posting form on the
> dashboard, the bulk edit form, pressthis, among others, won't contain my
> fields, since I add them via metabox calls typically. Checking the nonce
> saves me the hassle of detecting the screen type and inspecting the $_POST
> object and detecting my fields.
>
> You should always use a unique string that describes the custom action you
> are handling, and specify a unique field name for the nonce (otherwise
> someone's _wpnonce is going to get trampled).
>
> I think of this system as effectively having multiple forms that are
> transmitted via the same html form. If I use my own unique nonces, I don't
> have to worry about what any other actions are doing.
>
> >
> > --
> > Tom Belknap
> > Owner/Editor, DragonFlyEye.Net
> > Join me:
> >
> >   - *Inbox:* http://dragonflyeye.net/subscribe
> >   - *Web*: http://dragonflyeye.net/
> >   - *Facebook*: https://www.facebook.com/DragonFlyEye.Net
> >   - *Twitter*: https://twitter.com/dragonflyeye
> >   - *Google*: https://plus.google.com/u/1/103251482414903117843/posts
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Tom Belknap
Owner/Editor, DragonFlyEye.Net
Join me:

   - *Inbox:* http://dragonflyeye.net/subscribe
   - *Web*: http://dragonflyeye.net/
   - *Facebook*: https://www.facebook.com/DragonFlyEye.Net
   - *Twitter*: https://twitter.com/dragonflyeye
   - *Google*: https://plus.google.com/u/1/103251482414903117843/posts

From greglancaster71 at gmail.com  Mon Aug 12 18:51:08 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Mon, 12 Aug 2013 11:51:08 -0700 (PDT)
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
 <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
 <1376328266301-42026.post@n5.nabble.com>
 <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>
Message-ID: <1376333468390-42033.post@n5.nabble.com>

I actually did look at get_queried_object_id but I couldnt get it to call the
tag of the current active post outside the loop.



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Help-with-including-custom-templates-using-variables-tp42014p42033.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From jdg at codesymphony.co  Mon Aug 12 19:07:46 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Mon, 12 Aug 2013 15:07:46 -0400
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <1376333316930-42032.post@n5.nabble.com>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
 <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
 <1376328266301-42026.post@n5.nabble.com>
 <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>
 <CAOwx47cZaR5OACkyEVw0WC-1PRVmEeF-US_Dxg+_51qwWj6=4A@mail.gmail.com>
 <1376333227485-42031.post@n5.nabble.com>
 <1376333316930-42032.post@n5.nabble.com>
Message-ID: <CA21A0B2-C300-4DB1-8008-D845BA19E76D@codesymphony.co>

> Is there a way to use only one file for the alternative sidebar, and have
> conditionals within the extra file?  Rather than have so many extra sidebar
> files?

Definitely.  If each of the extra sidebar files is going to have mostly the same code, then you would probably be better off combining them and using conditionals. It depends on exactly what you are trying to do; whichever way makes the most since, do it.

- J.D.

From greglancaster71 at gmail.com  Mon Aug 12 19:10:25 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Mon, 12 Aug 2013 12:10:25 -0700 (PDT)
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <CA21A0B2-C300-4DB1-8008-D845BA19E76D@codesymphony.co>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
 <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
 <1376328266301-42026.post@n5.nabble.com>
 <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>
 <CAOwx47cZaR5OACkyEVw0WC-1PRVmEeF-US_Dxg+_51qwWj6=4A@mail.gmail.com>
 <1376333227485-42031.post@n5.nabble.com>
 <1376333316930-42032.post@n5.nabble.com>
 <CA21A0B2-C300-4DB1-8008-D845BA19E76D@codesymphony.co>
Message-ID: <1376334625907-42036.post@n5.nabble.com>

I am still learning php, so I apologize for the questions.  Can you point me
in the right direction to learn how to do this?



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Help-with-including-custom-templates-using-variables-tp42014p42036.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From info at jaimemartinez.nl  Mon Aug 12 21:23:41 2013
From: info at jaimemartinez.nl (=?utf-8?Q?Jaime_Mart=C3=ADnez?=)
Date: Mon, 12 Aug 2013 23:23:41 +0200
Subject: [wp-hackers] Nonce happy?
In-Reply-To: <CAEamYWRZro6omo8FdanNmk2eqNhdtAvFwpZtQuf49MqWAZPTbA@mail.gmail.com>
References: <CAEamYWRZUv+FWkynSRSQS1oT6i5z5Dk8eyp+4QBhv6etPKgMbg@mail.gmail.com>
 <F4FC7F32-84F5-487A-A107-A0F52CB5F3A2@gmail.com>
 <CAEamYWRZro6omo8FdanNmk2eqNhdtAvFwpZtQuf49MqWAZPTbA@mail.gmail.com>
Message-ID: <6BD4E2B1-B19B-4618-913F-0E19B8441DD9@jaimemartinez.nl>

I know writing it youself is fun, still If you are looking for a generic way of creating back-end forms, maybe you could check scb-framework and the scbForm part.
https://github.com/scribu/wp-scb-framework
http://scribu.net/wordpress/scb-framework/

Good luck and have fun

Jaime


On 12 aug. 2013, at 20:50, Thomas Belknap <dragonfly at dragonflyeye.net> wrote:

> Thank you all for your helpful and thoughtful responses. Kenneth, what you
> say makes a lot of sense. I'm trying to create a more or less generic form
> field generator for use across other plugins that I use all the time, just
> because I'm so spoiled on the way CakePHP creates forms, and the nonce
> thing was an open question.
> 
> You've all given me a lot to think about. Thank you.
> 
> 
> On Mon, Aug 12, 2013 at 1:47 PM, Kenneth Newman <ken.adcstudio at gmail.com>wrote:
> 
>> 
>> On Aug 12, 2013, at 11:01 AM, Thomas Belknap <dragonfly at dragonflyeye.net>
>> wrote:
>> 
>>> Reading over a lot of documentation and example code concerning the
>>> addition of custom fields to the Write Post screen, almost every single
>> one
>>> includes the requirement to include a nonce field with your data. An
>>> abundance of caution isn't necessarily a bad thing, but does this not
>>> strike anyone as a little too much caution?
>> Nah, it turns out that using a wpnonce to identify your fields is easier
>> then the alternatives, so for me, it's less about caution and more about
>> pragmatism.
>> 
>>> 
>>> In terms of what WordPress is using nonces for, the only goal is to make
>>> sure the data is coming from the correct origin: your website and your
>>> admin form. Once this task is out of the way, the rest of the POST data
>>> should be trusted. Yet the convention, at least in terms of example code,
>>> seems to be to include a nonce for every single custom field.
>> wpnonces are (supposed) to be tied to a unique action string-key. Every
>> action deserves it's own wpnonce.
>> If a user uses the bulk edit feature on the post list screen, then for
>> each post edited, the wpnonce for bulkedit will pass, and yet your fields
>> aren't present and your handle shouldn't run.
>> Further, there's no guarantee that 'save_posts' (which is where your
>> action is hooked) was even triggered by an edit form submission (upgrades
>> and unistalls update posts sometimes) and there's no guarantee that a
>> related nonce check was performed at all (unless you do it yourself).
>> 
>>> 
>>> If WP is making it's own checks on the "Write Post" screen data, don't
>> the
>>> additional nonces seem superfluous, or am I missing something?
>> This wpnonce is tied to an action that does not necessarily cover your
>> fields' purpose.
>> Your nonce is supposed to indicate an action such as
>> 'user_wants_to_update_my_metafields_for_book_cpts' (overlong because it's
>> contrived).
>> It's a way of assuring you are only taking action when the user intends
>> for that action to occur.
>> 
>>> 
>>> I perfectly understand their value in the context of a custom plugin
>>> configuration page. But when extending the Write Post screen to
>> incorporate
>>> all the additional data a custom post type might require, this additional
>>> nonce data seems like a bit of a headache with very little value.
>> I find that using a unique nonce actually has quite a bit of utility, and
>> it's only two lines of code: a line printing the nonce with your fields,
>> and a line checking it's value.
>> 
>> The most evident utility is that if my unique nonce is valid, my fields
>> should at least be present. User actions involving the posting form on the
>> dashboard, the bulk edit form, pressthis, among others, won't contain my
>> fields, since I add them via metabox calls typically. Checking the nonce
>> saves me the hassle of detecting the screen type and inspecting the $_POST
>> object and detecting my fields.
>> 
>> You should always use a unique string that describes the custom action you
>> are handling, and specify a unique field name for the nonce (otherwise
>> someone's _wpnonce is going to get trampled).
>> 
>> I think of this system as effectively having multiple forms that are
>> transmitted via the same html form. If I use my own unique nonces, I don't
>> have to worry about what any other actions are doing.
>> 
>>> 
>>> --
>>> Tom Belknap
>>> Owner/Editor, DragonFlyEye.Net
>>> Join me:
>>> 
>>> - *Inbox:* http://dragonflyeye.net/subscribe
>>> - *Web*: http://dragonflyeye.net/
>>> - *Facebook*: https://www.facebook.com/DragonFlyEye.Net
>>> - *Twitter*: https://twitter.com/dragonflyeye
>>> - *Google*: https://plus.google.com/u/1/103251482414903117843/posts
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> 
> 
> 
> -- 
> Tom Belknap
> Owner/Editor, DragonFlyEye.Net
> Join me:
> 
>  - *Inbox:* http://dragonflyeye.net/subscribe
>  - *Web*: http://dragonflyeye.net/
>  - *Facebook*: https://www.facebook.com/DragonFlyEye.Net
>  - *Twitter*: https://twitter.com/dragonflyeye
>  - *Google*: https://plus.google.com/u/1/103251482414903117843/posts
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From guus at inspiration-for-success.com  Tue Aug 13 08:19:08 2013
From: guus at inspiration-for-success.com (Guus (IFS))
Date: Tue, 13 Aug 2013 16:19:08 +0800
Subject: [wp-hackers] Regional Author Groups and Permission
References: <EE267FF1-1222-4BCC-BA1C-AA2F26EB3C81@mac.com>
 <35BDCCBD3CF7441B98F25E9C81953DE0@megaheights.net>
 <577E643D-FF48-4E50-A359-F881F2B27A20@mac.com>
 <74610569B1E543E795A2E094FD13DF15@megaheights.net>
 <14CEF026-869E-49B6-98D2-B5BB2B634086@mac.com>
Message-ID: <A81664ECD80040DAAFA032CE04108356@megaheights.net>

Yes, if they're aldeady using it it may be the best option. But I'm still a 
simple web developer that just prefers to write 'simple' php/html and just 
submit simple pages :).

----- Original Message ----- 
From: "David Churchill" <davinian at mac.com>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, August 12, 2013 11:54 PM
Subject: Re: [wp-hackers] Regional Author Groups and Permission


Thank Guus,

Used to use Joomla a lot a few years ago, but found it painful to use and 
clients never liked using it. Will look at Zend, but think I'll try and 
stick with WordPress if I can as client already uses it and would be easier 
to pass on if I every leave.

Cheers, Dave



On 12 Aug 2013, at 16:37, Guus (IFS) <guus at inspiration-for-success.com> 
wrote:

> Hi David,
>
> I developed my own 'developer' framework that is suitable for advanced 
> custom build database driven websites, but if you want Open Source I would 
> look into Joomla or Zend or something like that. There are more, but those 
> are the ones I know a bit.
>
> Wordpress in my opinion is good for simple websites and blogging, but is 
> not that suitable for advanced web applications,
>
> Guus
>
>
>
> ----- Original Message ----- From: "David Churchill" <davinian at mac.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Sunday, August 11, 2013 8:56 PM
> Subject: Re: [wp-hackers] Regional Author Groups and Permission
>
>
> Hi Guus,
> Do you have any other framework suggestions?
> David
>
> On 11 Aug 2013, at 07:11, Guus (IFS) wrote:
>
>> Why use Wordpress for something like that? Might be easier to build with 
>> some other framework.
>>
>> ----- Original Message ----- From: "David Churchill" <davinian at mac.com>
>> To: <wp-hackers at lists.automattic.com>
>> Sent: Friday, August 09, 2013 6:17 PM
>> Subject: [wp-hackers] Regional Author Groups and Permission
>>
>>
>> Hi, I need some advice on the best way to approach building an 
>> event/booking website with multi author support.
>>
>> The idea is one website listing lots of regional events. Users can 
>> geo-search events based on name, town, city and zip/post code with a 
>> distance radius in miles (5,10,25 etc). Then book the event online via 
>> PayPal and other payment gateways.
>>
>> I have all of this working using Events Calendar Pro (Modern Tribe), Geo 
>> my WP (free plugin) for the geo-search, WooCommerce and WooTickets for 
>> the booking/tickets/payments.
>>
>> What I am struggling with is how best to setup regional authors. I would 
>> ideally like to create regional groups with a main coordinator and a 
>> number of event publishers under the each region.
>>
>> Each publisher will be able to create/publish edit/delete their own 
>> events, but not any other publishers (ideally other publishers events 
>> need to be hidden in the backend). The coordinators will be able to 
>> create/publish and edit/delete their own events and those belonging to 
>> the publishers in the same group (so see all events by all publishers in 
>> the same regional group). They will be able to publish events on behalf 
>> of the publishers, so will need to be able to select the author in the 
>> Author drop-down list. There will be a number of regional groups and all 
>> the events in each group will need to be hidden from the other groups. 
>> Hope this is making sense?
>>
>> I have looked at a number of group based plugins, but they all appear to 
>> work by setting the permissions on a per event (post) based system which 
>> will not work as it will rely on publishers setting this very time.
>>
>> I have also looked at a network/mu install of WordPress and think this is 
>> probably the best approach, but Events Calendar Pro currently doesn't 
>> support sharing the events back to the main network site ? ideally all mu 
>> sites will only be used for adding content and not visible by the end 
>> user.
>>
>> There is another event plugin called Events Organiser Pro which does 
>> support mu integration and saves all events in the main network sites db 
>> but doesn't support WooCommerce.
>>
>> Another possible idea would be to create front-end templates for 
>> publishers so that they can add/edit and view their own events.
>>
>> So (apologies for long-winded question), but does anybody have any 
>> recommendations or suggestions for managing groups and users where their 
>> content is ring-fenced/hidden from other groups/users. I'm happy to hack 
>> code if this is something that could be done in code.
>>
>> Thanks in advance,
>> David
>>
>>
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers 


From jdg at codesymphony.co  Tue Aug 13 12:37:20 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Tue, 13 Aug 2013 08:37:20 -0400
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <1376334625907-42036.post@n5.nabble.com>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
 <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
 <1376328266301-42026.post@n5.nabble.com>
 <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>
 <CAOwx47cZaR5OACkyEVw0WC-1PRVmEeF-US_Dxg+_51qwWj6=4A@mail.gmail.com>
 <1376333227485-42031.post@n5.nabble.com>
 <1376333316930-42032.post@n5.nabble.com>
 <CA21A0B2-C300-4DB1-8008-D845BA19E76D@codesymphony.co>
 <1376334625907-42036.post@n5.nabble.com>
Message-ID: <ED60B444-2FF1-4171-87A5-7B97CBD6F1A4@codesymphony.co>

> I am still learning php, so I apologize for the questions.  Can you point me
> in the right direction to learn how to do this?

Just create the sidebar template like you would have for one of the single tags, but instead of hard-coding things, make them dynamic. For example, where you would have put the tag name like "My Cool Tag", instead do something like this:

<?php echo $tag->name; ?>

You will need to get the tag, the same way that you are before you load the template. Or you may not need to get the tag at all until inside of the custom sidebar template (that depends on whether you know you are going to load that template before you check the post's tags).

If you post an example of what you are trying to achieve, we can help you make it dynamic.

- J.D.

From jonathanbrinley at gmail.com  Tue Aug 13 12:53:51 2013
From: jonathanbrinley at gmail.com (Jonathan Brinley)
Date: Tue, 13 Aug 2013 08:53:51 -0400
Subject: [wp-hackers] add_submenu_page() with no parent
Message-ID: <CAMq55cx76ijh432ENCzJ6bGp92-oZxGxhmpsvo94JkDAxnO6yA@mail.gmail.com>

According to the codex (
http://codex.wordpress.org/Function_Reference/add_submenu_page#Parameters)
you can call add_submenu_page() with NULL or options.php as the parent to
create an admin page that doesn't appear in the admin menu. options.php
does, indeed, work for this, and NULL seems to work on multisite, but not
single site installs.

On a single site install, the permissions check
in user_can_access_admin_page() gets the incorrect page hook name when it
calls get_plugin_page_hookname(). A page registered with a NULL parent gets
the hook "dashboard_page_*", but get_plugin_page_hookname() returns
"admin_page_*". On multisite, it correctly returns "dashboard_page_*".

So, finally, to my question: is this a bug in the documentation, or a bug
in the code? It looks like NULL is unpredictable, and options.php is the
only safe way to register an orphan admin page.

Have a nice day,
Jonathan


-- 
Jonathan M. Brinley

jonathanbrinley at gmail.com
http://xplus3.net/

From pascal.birchler at gmail.com  Tue Aug 13 13:47:39 2013
From: pascal.birchler at gmail.com (Pascal Birchler)
Date: Tue, 13 Aug 2013 15:47:39 +0200
Subject: [wp-hackers] add_submenu_page() with no parent
In-Reply-To: <CAMq55cx76ijh432ENCzJ6bGp92-oZxGxhmpsvo94JkDAxnO6yA@mail.gmail.com>
References: <CAMq55cx76ijh432ENCzJ6bGp92-oZxGxhmpsvo94JkDAxnO6yA@mail.gmail.com>
Message-ID: <CA+U2bwJ2hvjq-z=RtSOsYHTsEp48m9c0NuZmVx9Qgm4+JJKvEQ@mail.gmail.com>

Looks like an error in the Codex to me, since this isn't documented in
the function
definition<http://core.trac.wordpress.org/browser/tags/3.6/wp-admin/includes/plugin.php#L980>.
I don't know if this was possible earlier, though. Maybe someone else knows
more about this function's history?


2013/8/13 Jonathan Brinley <jonathanbrinley at gmail.com>

> According to the codex (
> http://codex.wordpress.org/Function_Reference/add_submenu_page#Parameters)
> you can call add_submenu_page() with NULL or options.php as the parent to
> create an admin page that doesn't appear in the admin menu. options.php
> does, indeed, work for this, and NULL seems to work on multisite, but not
> single site installs.
>
> On a single site install, the permissions check
> in user_can_access_admin_page() gets the incorrect page hook name when it
> calls get_plugin_page_hookname(). A page registered with a NULL parent gets
> the hook "dashboard_page_*", but get_plugin_page_hookname() returns
> "admin_page_*". On multisite, it correctly returns "dashboard_page_*".
>
> So, finally, to my question: is this a bug in the documentation, or a bug
> in the code? It looks like NULL is unpredictable, and options.php is the
> only safe way to register an orphan admin page.
>
> Have a nice day,
> Jonathan
>
>
> --
> Jonathan M. Brinley
>
> jonathanbrinley at gmail.com
> http://xplus3.net/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdg at codesymphony.co  Tue Aug 13 16:30:06 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Tue, 13 Aug 2013 12:30:06 -0400
Subject: [wp-hackers] add_submenu_page() with no parent
In-Reply-To: <CA+U2bwJ2hvjq-z=RtSOsYHTsEp48m9c0NuZmVx9Qgm4+JJKvEQ@mail.gmail.com>
References: <CAMq55cx76ijh432ENCzJ6bGp92-oZxGxhmpsvo94JkDAxnO6yA@mail.gmail.com>
 <CA+U2bwJ2hvjq-z=RtSOsYHTsEp48m9c0NuZmVx9Qgm4+JJKvEQ@mail.gmail.com>
Message-ID: <E1B5C95B-C1EC-4BC9-8CF6-BE6EE4CE8BA4@codesymphony.co>

There are ways of doing this, but its currently not a "feature" of the function. See these tickets:

https://core.trac.wordpress.org/ticket/21424
https://core.trac.wordpress.org/ticket/18850

- J.D.

On Aug 13, 2013, at 9:47 AM, Pascal Birchler <pascal.birchler at gmail.com> wrote:

> Looks like an error in the Codex to me, since this isn't documented in
> the function
> definition<http://core.trac.wordpress.org/browser/tags/3.6/wp-admin/includes/plugin.php#L980>.
> I don't know if this was possible earlier, though. Maybe someone else knows
> more about this function's history?
> 
> 
> 2013/8/13 Jonathan Brinley <jonathanbrinley at gmail.com>
> 
>> According to the codex (
>> http://codex.wordpress.org/Function_Reference/add_submenu_page#Parameters)
>> you can call add_submenu_page() with NULL or options.php as the parent to
>> create an admin page that doesn't appear in the admin menu. options.php
>> does, indeed, work for this, and NULL seems to work on multisite, but not
>> single site installs.
>> 
>> On a single site install, the permissions check
>> in user_can_access_admin_page() gets the incorrect page hook name when it
>> calls get_plugin_page_hookname(). A page registered with a NULL parent gets
>> the hook "dashboard_page_*", but get_plugin_page_hookname() returns
>> "admin_page_*". On multisite, it correctly returns "dashboard_page_*".
>> 
>> So, finally, to my question: is this a bug in the documentation, or a bug
>> in the code? It looks like NULL is unpredictable, and options.php is the
>> only safe way to register an orphan admin page.
>> 
>> Have a nice day,
>> Jonathan
>> 
>> 
>> --
>> Jonathan M. Brinley
>> 
>> jonathanbrinley at gmail.com
>> http://xplus3.net/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From greglancaster71 at gmail.com  Tue Aug 13 17:30:46 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Tue, 13 Aug 2013 10:30:46 -0700
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <ED60B444-2FF1-4171-87A5-7B97CBD6F1A4@codesymphony.co>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
 <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
 <1376328266301-42026.post@n5.nabble.com>
 <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>
 <CAOwx47cZaR5OACkyEVw0WC-1PRVmEeF-US_Dxg+_51qwWj6=4A@mail.gmail.com>
 <1376333227485-42031.post@n5.nabble.com>
 <1376333316930-42032.post@n5.nabble.com>
 <CA21A0B2-C300-4DB1-8008-D845BA19E76D@codesymphony.co>
 <1376334625907-42036.post@n5.nabble.com>
 <ED60B444-2FF1-4171-87A5-7B97CBD6F1A4@codesymphony.co>
Message-ID: <CAPN-N+Zj2r4LDJNiQPop-j1tCv2zCWT9rg6zmY4qKKzAaepHEA@mail.gmail.com>

Thank you, I can hardly believe how helpful people are here.  I am using
Roots framework, and I use post tags to associate posts with one another.
 So a group of related posts are all tagged "lightbulbs", which then a
sidebar code I wrote uses to grab all posts tagged with that and show them
in a sidebar style menu.  I opted for this over custom fields because you
can add and remove tags quickly from the quick edit menu, whereas with
custom fields you have to go in and manually edit every post to change
anything.  Although looking at what I am learning in this php class it
might have made more sense to just add the custom fields to the quick edit
screen.

Anyhow, so thats how the sidebar works.  The code I pasted above earlier is
for a left-sidebar used for gallery images and bootstrap scrollspy to show
people where they are on specific pages.  Thats why I need it to call based
on the post tag- so it shows along with the appropriate content.

Im not sure what else to share?  Knowing all that, is it still possible to
call the sidebar from one file with conditionals?


On Tue, Aug 13, 2013 at 5:37 AM, J.D. Grimes <jdg at codesymphony.co> wrote:

> > I am still learning php, so I apologize for the questions.  Can you
> point me
> > in the right direction to learn how to do this?
>
> Just create the sidebar template like you would have for one of the single
> tags, but instead of hard-coding things, make them dynamic. For example,
> where you would have put the tag name like "My Cool Tag", instead do
> something like this:
>
> <?php echo $tag->name; ?>
>
> You will need to get the tag, the same way that you are before you load
> the template. Or you may not need to get the tag at all until inside of the
> custom sidebar template (that depends on whether you know you are going to
> load that template before you check the post's tags).
>
> If you post an example of what you are trying to achieve, we can help you
> make it dynamic.
>
> - J.D.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdg at codesymphony.co  Tue Aug 13 19:09:49 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Tue, 13 Aug 2013 15:09:49 -0400
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <CAPN-N+Zj2r4LDJNiQPop-j1tCv2zCWT9rg6zmY4qKKzAaepHEA@mail.gmail.com>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
 <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
 <1376328266301-42026.post@n5.nabble.com>
 <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>
 <CAOwx47cZaR5OACkyEVw0WC-1PRVmEeF-US_Dxg+_51qwWj6=4A@mail.gmail.com>
 <1376333227485-42031.post@n5.nabble.com>
 <1376333316930-42032.post@n5.nabble.com>
 <CA21A0B2-C300-4DB1-8008-D845BA19E76D@codesymphony.co>
 <1376334625907-42036.post@n5.nabble.com>
 <ED60B444-2FF1-4171-87A5-7B97CBD6F1A4@codesymphony.co>
 <CAPN-N+Zj2r4LDJNiQPop-j1tCv2zCWT9rg6zmY4qKKzAaepHEA@mail.gmail.com>
Message-ID: <22FC8CAE-6AAF-44DA-8582-ACFE7F7D4C00@codesymphony.co>

> Thank you, I can hardly believe how helpful people are here.

You're welcome!

>  The code I pasted above earlier is for a left-sidebar used for gallery images and bootstrap scrollspy to show
> people where they are on specific pages.  Thats why I need it to call based
> on the post tag- so it shows along with the appropriate content.

Sorry, I'm not sure what code you mean. Maybe you could post a link to a Gist (https://gist.github.com/)

> Knowing all that, is it still possible to call the sidebar from one file with conditionals?

Definitely.

From greglancaster71 at gmail.com  Wed Aug 14 20:29:44 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Wed, 14 Aug 2013 13:29:44 -0700
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <22FC8CAE-6AAF-44DA-8582-ACFE7F7D4C00@codesymphony.co>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
 <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
 <1376328266301-42026.post@n5.nabble.com>
 <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>
 <CAOwx47cZaR5OACkyEVw0WC-1PRVmEeF-US_Dxg+_51qwWj6=4A@mail.gmail.com>
 <1376333227485-42031.post@n5.nabble.com>
 <1376333316930-42032.post@n5.nabble.com>
 <CA21A0B2-C300-4DB1-8008-D845BA19E76D@codesymphony.co>
 <1376334625907-42036.post@n5.nabble.com>
 <ED60B444-2FF1-4171-87A5-7B97CBD6F1A4@codesymphony.co>
 <CAPN-N+Zj2r4LDJNiQPop-j1tCv2zCWT9rg6zmY4qKKzAaepHEA@mail.gmail.com>
 <22FC8CAE-6AAF-44DA-8582-ACFE7F7D4C00@codesymphony.co>
Message-ID: <CAPN-N+avg5b+Qu5KVabf4ha6SbxJAm8+bER2b77EgpX8a643RQ@mail.gmail.com>

My current code is this:

<?php global $post;
$tags = wp_get_post_tags($post->ID);
foreach ($tags as $tag);{
$tag_name = $tag->name;}
$end =  $tag_name;
?>

 <?php get_template_part('/templates/left-sidebar', $end); ?>
<?php else: ?>
    <?php endif; ?>
      </aside>


      <aside class="sidebar <?php echo roots_sidebar_class(); ?>"
role="complementary">
      <?php if (roots_display_sidebar()) : ?>
        <?php include roots_sidebar_path(); ?>
      <?php endif; ?>
      </aside><!-- /.sidebar -->


So it looks for left-sidebar-(tagname) first and if that php file doesnt
exist, it reverts to the default left-sidebar.php.   How would I change
this to instead load left-sidebar-tag.php and within that file search for
the correct tag to show, and if it does not exist show the default
left-sidebar.php?

I can easily have it call the left-sidebar-tag.php but once its called I
dont know what to put inside that file to determine what should be loaded.
 Maybe something like

<?php global $post;
$tags = wp_get_post_tags($post->ID);
foreach ($tags as $tag);{
$tag_name = $tag->name;}
$end =  $tag_name;
?>

if $end == ($posd->ID);
include  //no idea what it would include, since it would be including a
specific portion of the file only...


On Tue, Aug 13, 2013 at 12:09 PM, J.D. Grimes <jdg at codesymphony.co> wrote:

> > Thank you, I can hardly believe how helpful people are here.
>
> You're welcome!
>
> >  The code I pasted above earlier is for a left-sidebar used for gallery
> images and bootstrap scrollspy to show
> > people where they are on specific pages.  Thats why I need it to call
> based
> > on the post tag- so it shows along with the appropriate content.
>
> Sorry, I'm not sure what code you mean. Maybe you could post a link to a
> Gist (https://gist.github.com/)
>
> > Knowing all that, is it still possible to call the sidebar from one file
> with conditionals?
>
> Definitely.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdg at codesymphony.co  Wed Aug 14 22:47:28 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Wed, 14 Aug 2013 18:47:28 -0400
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <CAPN-N+avg5b+Qu5KVabf4ha6SbxJAm8+bER2b77EgpX8a643RQ@mail.gmail.com>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
 <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
 <1376328266301-42026.post@n5.nabble.com>
 <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>
 <CAOwx47cZaR5OACkyEVw0WC-1PRVmEeF-US_Dxg+_51qwWj6=4A@mail.gmail.com>
 <1376333227485-42031.post@n5.nabble.com>
 <1376333316930-42032.post@n5.nabble.com>
 <CA21A0B2-C300-4DB1-8008-D845BA19E76D@codesymphony.co>
 <1376334625907-42036.post@n5.nabble.com>
 <ED60B444-2FF1-4171-87A5-7B97CBD6F1A4@codesymphony.co>
 <CAPN-N+Zj2r4LDJNiQPop-j1tCv2zCWT9rg6zmY4qKKzAaepHEA@mail.gmail.com>
 <22FC8CAE-6AAF-44DA-8582-ACFE7F7D4C00@codesymphony.co>
 <CAPN-N+avg5b+Qu5KVabf4ha6SbxJAm8+bER2b77EgpX8a643RQ@mail.gmail.com>
Message-ID: <A31B0743-21EE-4A7D-8F6F-5E98C45F3FE4@codesymphony.co>

Have you already created the code that displays all the posts for a tag? In other words, have you already written one of the custom sidebars? If so, could you post that code?


From team at sdv.com.ua  Thu Aug 15 18:32:37 2013
From: team at sdv.com.ua (team at sdv.com.ua)
Date: Thu, 15 Aug 2013 21:32:37 +0300
Subject: [wp-hackers] Classipress 3.3 custom payment gateway plugin error
Message-ID: <1466949821.20130815213237@deepvision.com.ua>

Hi all

I have written a custom gateway plugin for WP 3.6.
I followed instructions on the article
http://docs.appthemes.com/developers/creating-a-payment-gateway/

So my-plugin-gateway.php is:

//-------------
class My_Gateway extends APP_Gateway{
 

}
appthemes_register_gateway( 'My_Gateway' );
//--------------

and my-plugin.php is :

//--------------
add_action( 'init', 'my_plugin_setup' );
function my_plugin_setup(){
    include 'my-plugin-gateway.php';
}
//--------------

Pretty simple, yeah?

But when I tried to install it or use it I got the following error:
Fatal error: Class 'APP_Gateway' not found in my-plugin-gateway.php

I solved it by adding the following to the top of the
my-plugin-gateway.php :

require_once ABSPATH . 'wp-content/themes/classipress/includes/payments/gateways/gateway-class.php';
require_once ABSPATH . 'wp-content/themes/classipress/includes/payments/gateways/boomerang-class.php';
require_once ABSPATH . 'wp-content/themes/classipress/includes/payments/gateways/gateway-registry.php';
require_once ABSPATH . 'wp-content/themes/classipress/includes/payments/gateways/gateway-functions.php';

But after that I got the following error:

Fatal error: Cannot redeclare class APP_Gateway in wp-content\themes\classipress\includes\payments\gateways\gateway-class.php on line 6

To fix it I had to replace in the file
wp-content\themes\classipress\includes\payments\load.php the
following code on line 43

/// Gateways
require dirname( __FILE__ ) . '/gateways/gateway-class.php';
require dirname( __FILE__ ) . '/gateways/boomerang-class.php';
require dirname( __FILE__ ) . '/gateways/gateway-registry.php';
require dirname( __FILE__ ) . '/gateways/gateway-functions.php';

to this one:

/// Gateways
require_once dirname( __FILE__ ) . '/gateways/gateway-class.php';
require_once dirname( __FILE__ ) . '/gateways/boomerang-class.php';
require_once dirname( __FILE__ ) . '/gateways/gateway-registry.php';
require_once dirname( __FILE__ ) . '/gateways/gateway-functions.php';

I wonder if I did the right thing. Maybe there is some other way to
avoid those errors without having to modify classipress core?

Thank you!


Best regards

Taras


From andrew.bartel at gmail.com  Thu Aug 15 18:43:10 2013
From: andrew.bartel at gmail.com (Andrew Bartel)
Date: Thu, 15 Aug 2013 11:43:10 -0700
Subject: [wp-hackers] Classipress 3.3 custom payment gateway plugin error
In-Reply-To: <1466949821.20130815213237@deepvision.com.ua>
References: <1466949821.20130815213237@deepvision.com.ua>
Message-ID: <CAJnHr4ijdFph1tqx-nNtbj8MrHMB+DqQOM8QiCk_oHV2Swpzrg@mail.gmail.com>

Did you put the comments that declare the plugin in my-plugin-gateway.php
or my-plugin.php?  According to the docs I believe you need it in
my-plugin.php.  Whatever file the plugin declaration is in is loaded by
WordPress, so if that's your gateway file, that class will be included,
throwing the error.

-Andrew


On Thu, Aug 15, 2013 at 11:32 AM, <team at sdv.com.ua> wrote:

> Hi all
>
> I have written a custom gateway plugin for WP 3.6.
> I followed instructions on the article
> http://docs.appthemes.com/developers/creating-a-payment-gateway/
>
> So my-plugin-gateway.php is:
>
> //-------------
> class My_Gateway extends APP_Gateway{
>
>
> }
> appthemes_register_gateway( 'My_Gateway' );
> //--------------
>
> and my-plugin.php is :
>
> //--------------
> add_action( 'init', 'my_plugin_setup' );
> function my_plugin_setup(){
>     include 'my-plugin-gateway.php';
> }
> //--------------
>
> Pretty simple, yeah?
>
> But when I tried to install it or use it I got the following error:
> Fatal error: Class 'APP_Gateway' not found in my-plugin-gateway.php
>
> I solved it by adding the following to the top of the
> my-plugin-gateway.php :
>
> require_once ABSPATH .
> 'wp-content/themes/classipress/includes/payments/gateways/gateway-class.php';
> require_once ABSPATH .
> 'wp-content/themes/classipress/includes/payments/gateways/boomerang-class.php';
> require_once ABSPATH .
> 'wp-content/themes/classipress/includes/payments/gateways/gateway-registry.php';
> require_once ABSPATH .
> 'wp-content/themes/classipress/includes/payments/gateways/gateway-functions.php';
>
> But after that I got the following error:
>
> Fatal error: Cannot redeclare class APP_Gateway in
> wp-content\themes\classipress\includes\payments\gateways\gateway-class.php
> on line 6
>
> To fix it I had to replace in the file
> wp-content\themes\classipress\includes\payments\load.php the
> following code on line 43
>
> /// Gateways
> require dirname( __FILE__ ) . '/gateways/gateway-class.php';
> require dirname( __FILE__ ) . '/gateways/boomerang-class.php';
> require dirname( __FILE__ ) . '/gateways/gateway-registry.php';
> require dirname( __FILE__ ) . '/gateways/gateway-functions.php';
>
> to this one:
>
> /// Gateways
> require_once dirname( __FILE__ ) . '/gateways/gateway-class.php';
> require_once dirname( __FILE__ ) . '/gateways/boomerang-class.php';
> require_once dirname( __FILE__ ) . '/gateways/gateway-registry.php';
> require_once dirname( __FILE__ ) . '/gateways/gateway-functions.php';
>
> I wonder if I did the right thing. Maybe there is some other way to
> avoid those errors without having to modify classipress core?
>
> Thank you!
>
>
> Best regards
>
> Taras
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From nikolov.tmw at gmail.com  Thu Aug 15 18:44:12 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Thu, 15 Aug 2013 21:44:12 +0300
Subject: [wp-hackers] Classipress 3.3 custom payment gateway plugin error
In-Reply-To: <1466949821.20130815213237@deepvision.com.ua>
References: <1466949821.20130815213237@deepvision.com.ua>
Message-ID: <CAOwx47dOMXEmwX9fByhX9cSzOrmDCQ8LVfJpJfA5ht3QxKYftQ@mail.gmail.com>

Hi Taras,

I don't have the Classipress theme, so I can't actually look in the source
code, but I can take a guess here:

#1 Add a priority to your add_action call, like so:
add_action( 'init', 'my_plugin_setup', 1000 );

#2 If that doesn't work for you, try changing 'init' to one of the other
action hooks described here -
http://codex.wordpress.org/Plugin_API/Action_Reference

That's as far as I my guesses go. I simply assume that the gateway class is
initialized(included) later on compared to when your my_plugin_setup()
function is being called.

Nikola


On Thu, Aug 15, 2013 at 9:32 PM, <team at sdv.com.ua> wrote:

> Hi all
>
> I have written a custom gateway plugin for WP 3.6.
> I followed instructions on the article
> http://docs.appthemes.com/developers/creating-a-payment-gateway/
>
> So my-plugin-gateway.php is:
>
> //-------------
> class My_Gateway extends APP_Gateway{
>
>
> }
> appthemes_register_gateway( 'My_Gateway' );
> //--------------
>
> and my-plugin.php is :
>
> //--------------
> add_action( 'init', 'my_plugin_setup' );
> function my_plugin_setup(){
>     include 'my-plugin-gateway.php';
> }
> //--------------
>
> Pretty simple, yeah?
>
> But when I tried to install it or use it I got the following error:
> Fatal error: Class 'APP_Gateway' not found in my-plugin-gateway.php
>
> I solved it by adding the following to the top of the
> my-plugin-gateway.php :
>
> require_once ABSPATH .
> 'wp-content/themes/classipress/includes/payments/gateways/gateway-class.php';
> require_once ABSPATH .
> 'wp-content/themes/classipress/includes/payments/gateways/boomerang-class.php';
> require_once ABSPATH .
> 'wp-content/themes/classipress/includes/payments/gateways/gateway-registry.php';
> require_once ABSPATH .
> 'wp-content/themes/classipress/includes/payments/gateways/gateway-functions.php';
>
> But after that I got the following error:
>
> Fatal error: Cannot redeclare class APP_Gateway in
> wp-content\themes\classipress\includes\payments\gateways\gateway-class.php
> on line 6
>
> To fix it I had to replace in the file
> wp-content\themes\classipress\includes\payments\load.php the
> following code on line 43
>
> /// Gateways
> require dirname( __FILE__ ) . '/gateways/gateway-class.php';
> require dirname( __FILE__ ) . '/gateways/boomerang-class.php';
> require dirname( __FILE__ ) . '/gateways/gateway-registry.php';
> require dirname( __FILE__ ) . '/gateways/gateway-functions.php';
>
> to this one:
>
> /// Gateways
> require_once dirname( __FILE__ ) . '/gateways/gateway-class.php';
> require_once dirname( __FILE__ ) . '/gateways/boomerang-class.php';
> require_once dirname( __FILE__ ) . '/gateways/gateway-registry.php';
> require_once dirname( __FILE__ ) . '/gateways/gateway-functions.php';
>
> I wonder if I did the right thing. Maybe there is some other way to
> avoid those errors without having to modify classipress core?
>
> Thank you!
>
>
> Best regards
>
> Taras
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From team at sdv.com.ua  Thu Aug 15 19:21:43 2013
From: team at sdv.com.ua (Taras Ninko)
Date: Thu, 15 Aug 2013 22:21:43 +0300
Subject: [wp-hackers] Classipress 3.3 custom payment gateway plugin error
In-Reply-To: <CAOwx47dOMXEmwX9fByhX9cSzOrmDCQ8LVfJpJfA5ht3QxKYftQ@mail.gmail.com>
References: <1466949821.20130815213237@deepvision.com.ua>
 <CAOwx47dOMXEmwX9fByhX9cSzOrmDCQ8LVfJpJfA5ht3QxKYftQ@mail.gmail.com>
Message-ID: <911862128.20130815222143@deepvision.com.ua>

Hi Nikola

The first guess is the right one, thank you! :)
I tried it before. But it have worked only after I removed
plugin completely, reloaded WP and then replaced the code with

add_action( 'init', 'online_naira_setup', 1000 );

Thanks a lot!


NN> Hi Taras,

NN> I don't have the Classipress theme, so I can't actually look in the source
NN> code, but I can take a guess here:

NN> #1 Add a priority to your add_action call, like so:
NN> add_action( 'init', 'my_plugin_setup', 1000 );

NN> #2 If that doesn't work for you, try changing 'init' to one of the other
NN> action hooks described here -
NN> http://codex.wordpress.org/Plugin_API/Action_Reference

NN> That's as far as I my guesses go. I simply assume that the gateway class is
NN> initialized(included) later on compared to when your my_plugin_setup()
NN> function is being called.

NN> Nikola


NN> On Thu, Aug 15, 2013 at 9:32 PM, <team at sdv.com.ua> wrote:

>> Hi all
>>
>> I have written a custom gateway plugin for WP 3.6.
>> I followed instructions on the article
>> http://docs.appthemes.com/developers/creating-a-payment-gateway/
>>
>> So my-plugin-gateway.php is:
>>
>> //-------------
>> class My_Gateway extends APP_Gateway{
>>
>>
>> }
>> appthemes_register_gateway( 'My_Gateway' );
>> //--------------
>>
>> and my-plugin.php is :
>>
>> //--------------
>> add_action( 'init', 'my_plugin_setup' );
>> function my_plugin_setup(){
>>     include 'my-plugin-gateway.php';
>> }
>> //--------------
>>
>> Pretty simple, yeah?
>>
>> But when I tried to install it or use it I got the following error:
>> Fatal error: Class 'APP_Gateway' not found in my-plugin-gateway.php
>>
>> I solved it by adding the following to the top of the
>> my-plugin-gateway.php :
>>
>> require_once ABSPATH .
>> 'wp-content/themes/classipress/includes/payments/gateways/gateway-class.php';
>> require_once ABSPATH .
>> 'wp-content/themes/classipress/includes/payments/gateways/boomerang-class.php';
>> require_once ABSPATH .
>> 'wp-content/themes/classipress/includes/payments/gateways/gateway-registry.php';
>> require_once ABSPATH .
>> 'wp-content/themes/classipress/includes/payments/gateways/gateway-functions.php';
>>
>> But after that I got the following error:
>>
>> Fatal error: Cannot redeclare class APP_Gateway in
>> wp-content\themes\classipress\includes\payments\gateways\gateway-class.php
>> on line 6
>>
>> To fix it I had to replace in the file
>> wp-content\themes\classipress\includes\payments\load.php the
>> following code on line 43
>>
>> /// Gateways
>> require dirname( __FILE__ ) . '/gateways/gateway-class.php';
>> require dirname( __FILE__ ) . '/gateways/boomerang-class.php';
>> require dirname( __FILE__ ) . '/gateways/gateway-registry.php';
>> require dirname( __FILE__ ) . '/gateways/gateway-functions.php';
>>
>> to this one:
>>
>> /// Gateways
>> require_once dirname( __FILE__ ) . '/gateways/gateway-class.php';
>> require_once dirname( __FILE__ ) . '/gateways/boomerang-class.php';
>> require_once dirname( __FILE__ ) . '/gateways/gateway-registry.php';
>> require_once dirname( __FILE__ ) . '/gateways/gateway-functions.php';
>>
>> I wonder if I did the right thing. Maybe there is some other way to
>> avoid those errors without having to modify classipress core?
>>
>> Thank you!
>>
>>
>> Best regards
>>
>> Taras
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
NN> _______________________________________________
NN> wp-hackers mailing list
NN> wp-hackers at lists.automattic.com
NN> http://lists.automattic.com/mailman/listinfo/wp-hackers



Best regards

Taras


From greglancaster71 at gmail.com  Thu Aug 15 19:33:31 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Thu, 15 Aug 2013 12:33:31 -0700
Subject: [wp-hackers] Help with including custom templates using
	variables
In-Reply-To: <A31B0743-21EE-4A7D-8F6F-5E98C45F3FE4@codesymphony.co>
References: <CAPN-N+aMWMMqPfy5r+jTsLDwLfF39p4dazG9Y2ceQoh6KKsy3Q@mail.gmail.com>
 <E909E1AD-A53F-4E21-B1D4-6F9006631225@codesymphony.co>
 <1376328266301-42026.post@n5.nabble.com>
 <CAA0DF=98pnn11gNZNfnJK3yZiyfVzxxrCPV+t2U_iXmSE2=rSw@mail.gmail.com>
 <CAOwx47cZaR5OACkyEVw0WC-1PRVmEeF-US_Dxg+_51qwWj6=4A@mail.gmail.com>
 <1376333227485-42031.post@n5.nabble.com>
 <1376333316930-42032.post@n5.nabble.com>
 <CA21A0B2-C300-4DB1-8008-D845BA19E76D@codesymphony.co>
 <1376334625907-42036.post@n5.nabble.com>
 <ED60B444-2FF1-4171-87A5-7B97CBD6F1A4@codesymphony.co>
 <CAPN-N+Zj2r4LDJNiQPop-j1tCv2zCWT9rg6zmY4qKKzAaepHEA@mail.gmail.com>
 <22FC8CAE-6AAF-44DA-8582-ACFE7F7D4C00@codesymphony.co>
 <CAPN-N+avg5b+Qu5KVabf4ha6SbxJAm8+bER2b77EgpX8a643RQ@mail.gmail.com>
 <A31B0743-21EE-4A7D-8F6F-5E98C45F3FE4@codesymphony.co>
Message-ID: <CAPN-N+Z0pN45tnz+RbPg7-MaLnc-hLyjJPpYgx+bwPhvjWZ11g@mail.gmail.com>

Im sorry, this is a wordpress theme so I am not sure how to post it on
github

My theme is Roots, its a bootstrap framework and makes use of a few files
to show the sidebars.
Here is the BASE.PHP which controls which files are loaded for sidebars.

<?php get_template_part('templates/head'); ?>
<body <?php body_class(); ?>>

  <!--[if lt IE 7]><div class="alert"><?php _e('You are using an
<strong>outdated</strong> browser. Please <a
href="http://browsehappy.com/">upgrade
your browser</a> to improve your experience.', 'roots');
?></div><![endif]-->

  <?php
    do_action('get_header');
    // Use Bootstrap's navbar if enabled in config.php
    if (current_theme_supports('bootstrap-top-navbar')) {
      get_template_part('templates/header-top-navbar');
    } else {
      get_template_part('templates/header');
    }
  ?>

  <div class="wrap container" role="document">
         <div class="content row">

         <div class="main <?php echo roots_main_class(); ?> " role="main">
        <?php include roots_template_path(); ?>
      </div><!-- /.main -->

         <aside class="left-sidebar <?php echo roots_left_sidebar_class();
?> " role="complementary">
    <?php if (roots_display_sidebar()) : ?>


    <!-- MY CODE TO PULL CUSTOM .PHP SIDEBAR WITH TAG IN FILENAME -->

<?php global $post;
$tags = wp_get_post_tags($post->ID);
foreach ($tags as $tag);{
$tag_name = $tag->name;}
$end =  $tag_name;
?>

 <?php get_template_part('/templates/left-sidebar', $end); ?>
<?php else: ?>
    <?php endif; ?>
      </aside>

<!-- END OF MY CODE -->

      <aside class="sidebar <?php echo roots_sidebar_class(); ?>"
role="complementary">
      <?php if (roots_display_sidebar()) : ?>
        <?php include roots_sidebar_path(); ?>
      <?php endif; ?>
      </aside><!-- /.sidebar -->

 </div><!-- /.content -->
  </div><!-- /.wrap -->

  <?php get_template_part('templates/footer'); ?>

</body>
</html>



The actual left sidebar has nothing in it, just some static content I want
to display on specific posts with this tag.   So how would I go about
altering that code?  Should I put this code within left-sidebar.php?



On Wed, Aug 14, 2013 at 3:47 PM, J.D. Grimes <jdg at codesymphony.co> wrote:

> Have you already created the code that displays all the posts for a tag?
> In other words, have you already written one of the custom sidebars? If so,
> could you post that code?
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From greglancaster71 at gmail.com  Thu Aug 15 20:18:19 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Thu, 15 Aug 2013 13:18:19 -0700 (PDT)
Subject: [wp-hackers] Including Sidebar Content via Conditionals Within Same
	File
Message-ID: <1376597899699-42060.post@n5.nabble.com>

I have been working at this for an hour, and hoping someone here can chime in
and solve it quick for me.  Calling left sidebar, and I would like to have
the sidebar determine what content to show based on the post tag.  This is
what I have;


/<?php global $post;
$tags = wp_get_post_tags($post->ID);
foreach ($tags as $tag);{
$tag_name = $tag->name;}
$end =  $tag_name;
?>


<php if $end = 'help';
return '

<div class="widget">
Help Gallery


<div class="widget-inner">
<?php echo do_shortcode('[ngg_images gallery_ids="1"
display_type="photocrati-nextgen_basic_thumbnails"]'); ?>
</div>
</div> '; ?>
<?php endif; ?>/

I did this with three items, but it shows all of them on every page so I
assume I am using the include statament wrong.  I am still learning php, but
I think maybe I should be using the phpDOM function?  Not entirely sure, but
definitely confused how to make this work.  I just need the sidebar to match
the post tage name ($end) to the correct section of the file and return it.  

Any help greatly appreciated!



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Including-Sidebar-Content-via-Conditionals-Within-Same-File-tp42060.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From dyordan1 at ramapo.edu  Thu Aug 15 20:38:47 2013
From: dyordan1 at ramapo.edu (Dobri)
Date: Thu, 15 Aug 2013 16:38:47 -0400
Subject: [wp-hackers] Including Sidebar Content via Conditionals Within
	Same File
In-Reply-To: <1376597899699-42060.post@n5.nabble.com>
References: <1376597899699-42060.post@n5.nabble.com>
Message-ID: <F9CA1665-7649-4FA0-A7F2-0190B711C582@ramapo.edu>

Don't mean to burst your bubble but there are multiple issues with this. Here are some to consider:

Whenever you use if, if/else, for, foreach, etc. putting a ; at the end of the line terminates it. So, essentially both your foreach and if statements don't do anything and then the code that follows is executed devoid of any logic. The correct syntax would be foreach($tags as $tag){? and if ($end = 'help') return...
When testing a variable, saying for example $end = 'help' will just do an assignment and return the value that was assigned which in 99% of the cases will evaluate to true. So even if your if statement was correct, it would always execute because you are using assignment by = instead of comparison by ==. The correct syntax would be $end == 'help'
Even if your foreach was written correctly (as above), you are only using the last value by saying $end=$tag_name. At that point, just remove the loop and say $end = $tags[count($tags)-1] if you just want the last element. If you want to check each element, your whole code block has to be refactored
You are using a mixture of return and echo and I'm pretty sure you only want to use one of them. If this is executing inside of a filter function there is a good chance that both return and echo will render in more or less the same place but that doesn't mean to mix them, stick to the better practice of return in case someone wants to further filter your thing down the pipe or something.
Overall, I have a feeling you are not very experienced with coding but you made a good attempt so don't be discouraged by my previous comments! I'd say try to work on the issues above and if you can't figure it out I'll take a look at your first email and see if I can help you out.

Cheers! Don't hate me.

P.S. An hour is *nothing* for coding. Don't be discouraged.

~Dobri

On Thu, 15 Aug 2013, at 4:18 PM, BenderisGreat wrote:

> I have been working at this for an hour, and hoping someone here can chime in
> and solve it quick for me.  Calling left sidebar, and I would like to have
> the sidebar determine what content to show based on the post tag.  This is
> what I have;
> 
> 
> /<?php global $post;
> $tags = wp_get_post_tags($post->ID);
> foreach ($tags as $tag);{
> $tag_name = $tag->name;}
> $end =  $tag_name;
> ?>
> 
> 
> <php if $end = 'help';
> return '
> 
> <div class="widget">
> Help Gallery
> 
> 
> <div class="widget-inner">
> <?php echo do_shortcode('[ngg_images gallery_ids="1"
> display_type="photocrati-nextgen_basic_thumbnails"]'); ?>
> </div>
> </div> '; ?>
> <?php endif; ?>/
> 
> I did this with three items, but it shows all of them on every page so I
> assume I am using the include statament wrong.  I am still learning php, but
> I think maybe I should be using the phpDOM function?  Not entirely sure, but
> definitely confused how to make this work.  I just need the sidebar to match
> the post tage name ($end) to the correct section of the file and return it.  
> 
> Any help greatly appreciated!
> 
> 
> 
> --
> View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Including-Sidebar-Content-via-Conditionals-Within-Same-File-tp42060.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From greglancaster71 at gmail.com  Thu Aug 15 21:12:28 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Thu, 15 Aug 2013 14:12:28 -0700
Subject: [wp-hackers] Including Sidebar Content via Conditionals Within
 Same File
In-Reply-To: <F9CA1665-7649-4FA0-A7F2-0190B711C582@ramapo.edu>
References: <1376597899699-42060.post@n5.nabble.com>
 <F9CA1665-7649-4FA0-A7F2-0190B711C582@ramapo.edu>
Message-ID: <CAPN-N+aEb02RmaMCRaxejceWaQRv669+B-yNJNZzPbGAj+APQA@mail.gmail.com>

Ouch, that stings.  You are right I am new to PHP.  I am still completing a
class and since I enojy it, I thought I would try and move ahead to code
some things on my own.  The = was a mistake, I know == is the correct
syntax.  The post tags code is what I used in my sidebar previously and I
thought it was applicable.  Is what I am trying to do even possible?


On Thu, Aug 15, 2013 at 1:38 PM, Dobri <dyordan1 at ramapo.edu> wrote:

> Don't mean to burst your bubble but there are multiple issues with this.
> Here are some to consider:
>
> Whenever you use if, if/else, for, foreach, etc. putting a ; at the end of
> the line terminates it. So, essentially both your foreach and if statements
> don't do anything and then the code that follows is executed devoid of any
> logic. The correct syntax would be foreach($tags as $tag){? and if ($end =
> 'help') return...
> When testing a variable, saying for example $end = 'help' will just do an
> assignment and return the value that was assigned which in 99% of the cases
> will evaluate to true. So even if your if statement was correct, it would
> always execute because you are using assignment by = instead of comparison
> by ==. The correct syntax would be $end == 'help'
> Even if your foreach was written correctly (as above), you are only using
> the last value by saying $end=$tag_name. At that point, just remove the
> loop and say $end = $tags[count($tags)-1] if you just want the last
> element. If you want to check each element, your whole code block has to be
> refactored
> You are using a mixture of return and echo and I'm pretty sure you only
> want to use one of them. If this is executing inside of a filter function
> there is a good chance that both return and echo will render in more or
> less the same place but that doesn't mean to mix them, stick to the better
> practice of return in case someone wants to further filter your thing down
> the pipe or something.
> Overall, I have a feeling you are not very experienced with coding but you
> made a good attempt so don't be discouraged by my previous comments! I'd
> say try to work on the issues above and if you can't figure it out I'll
> take a look at your first email and see if I can help you out.
>
> Cheers! Don't hate me.
>
> P.S. An hour is *nothing* for coding. Don't be discouraged.
>
> ~Dobri
>
> On Thu, 15 Aug 2013, at 4:18 PM, BenderisGreat wrote:
>
> > I have been working at this for an hour, and hoping someone here can
> chime in
> > and solve it quick for me.  Calling left sidebar, and I would like to
> have
> > the sidebar determine what content to show based on the post tag.  This
> is
> > what I have;
> >
> >
> > /<?php global $post;
> > $tags = wp_get_post_tags($post->ID);
> > foreach ($tags as $tag);{
> > $tag_name = $tag->name;}
> > $end =  $tag_name;
> > ?>
> >
> >
> > <php if $end = 'help';
> > return '
> >
> > <div class="widget">
> > Help Gallery
> >
> >
> > <div class="widget-inner">
> > <?php echo do_shortcode('[ngg_images gallery_ids="1"
> > display_type="photocrati-nextgen_basic_thumbnails"]'); ?>
> > </div>
> > </div> '; ?>
> > <?php endif; ?>/
> >
> > I did this with three items, but it shows all of them on every page so I
> > assume I am using the include statament wrong.  I am still learning php,
> but
> > I think maybe I should be using the phpDOM function?  Not entirely sure,
> but
> > definitely confused how to make this work.  I just need the sidebar to
> match
> > the post tage name ($end) to the correct section of the file and return
> it.
> >
> > Any help greatly appreciated!
> >
> >
> >
> > --
> > View this message in context:
> http://wordpress-hackers.1065353.n5.nabble.com/Including-Sidebar-Content-via-Conditionals-Within-Same-File-tp42060.html
> > Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mickyhulse.lists at gmail.com  Thu Aug 15 23:42:09 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Thu, 15 Aug 2013 16:42:09 -0700
Subject: [wp-hackers] Organizing my theme's functions.php file
Message-ID: <CALri7MmPARFsZrPETgoGNK_QAoBn3gDPyUrR+RQwAcnGaT8esQ@mail.gmail.com>

Howdy,

Here's a "pseudo 10,000 ft. view" of my `functions.php` file:

<https://gist.github.com/mhulse/6245870#file-1-pseudo-functions-before-php>

Long story short, I'm in the process of setting up a child theme for a
co-worker and I decided it was time to do some house cleaning and make
my parent theme's functions/hooks/other easier for child themes to
override.

I found this awesome article out on the net:

"WordPress theme function files"
<http://justintadlock.com/archives/2010/12/30/wordpress-theme-function-files>

Excellent tips!

With that said, I do have some questions:

1. For all custom functions that aren't tied into a WP hook, should I
wrap them with `if ( ! function_exists('some_custom_function')) {
some_custom_function() { ... } }` (as opposed to wrapping all
functions in a `function_exists` call)?

2. Based on Justin's excellent article above, I'm under the impression
that I should move all of my `add_action()`'s, `remove_action()`'s,
`add_filter()`'s, `remove_filter()`'s (and similar) into the
`foo_setup` function (which is hooked into `after_setup_theme`)? In
other words, should my functions.php file look more like this:

<https://gist.github.com/mhulse/6245870#file-2-pseudo-functions-after-php>

I have to admit, that "pseudo 10,000 ft. view" does look much cleaner
and organized.

I just wanted to ask the pros before I go making sweeping changes to
my theme's function.php.

Let me know if I need to clarify my questions better.

Many thanks in advance!

Cheers,
M

From brad at bradparbs.com  Thu Aug 15 23:53:23 2013
From: brad at bradparbs.com (Brad Parbs)
Date: Thu, 15 Aug 2013 18:53:23 -0500
Subject: [wp-hackers] Organizing my theme's functions.php file
In-Reply-To: <CALri7MmPARFsZrPETgoGNK_QAoBn3gDPyUrR+RQwAcnGaT8esQ@mail.gmail.com>
References: <CALri7MmPARFsZrPETgoGNK_QAoBn3gDPyUrR+RQwAcnGaT8esQ@mail.gmail.com>
Message-ID: <520D69F3.6000101@bradparbs.com>

There's a few things you could do to improve the structure of the 
functions.php file.

One thing quite a few people do is create a folder `inc/` and put 
different files there, like `scripts.php` that contains script 
functionality, `customizer.php` that holds all the theme customizations 
stuff, etc. Then just include those files in your functions.php.

You could also move a lot of your functions to a theme-specific plugin 
or multiple plugins, keeping it pretty organized there.

If you're using prefixed functions `foo_bar_theme_setup(){}`, and that 
prefix is very unique, you don't have to worry about the 
function_exists, unless you plan to override it later. I prefer wrapping 
every function in that, so you can always override them easy later.

Moving all of the hooks into a function is a good way to go, as well.

Good luck!

-Brad

> Micky Hulse <mailto:mickyhulse.lists at gmail.com>
> August 15, 2013 6:42 PM
> Howdy,
>
> Here's a "pseudo 10,000 ft. view" of my `functions.php` file:
>
> <https://gist.github.com/mhulse/6245870#file-1-pseudo-functions-before-php>
>
> Long story short, I'm in the process of setting up a child theme for a
> co-worker and I decided it was time to do some house cleaning and make
> my parent theme's functions/hooks/other easier for child themes to
> override.
>
> I found this awesome article out on the net:
>
> "WordPress theme function files"
> <http://justintadlock.com/archives/2010/12/30/wordpress-theme-function-files>
>
> Excellent tips!
>
> With that said, I do have some questions:
>
> 1. For all custom functions that aren't tied into a WP hook, should I
> wrap them with `if ( ! function_exists('some_custom_function')) {
> some_custom_function() { ... } }` (as opposed to wrapping all
> functions in a `function_exists` call)?
>
> 2. Based on Justin's excellent article above, I'm under the impression
> that I should move all of my `add_action()`'s, `remove_action()`'s,
> `add_filter()`'s, `remove_filter()`'s (and similar) into the
> `foo_setup` function (which is hooked into `after_setup_theme`)? In
> other words, should my functions.php file look more like this:
>
> <https://gist.github.com/mhulse/6245870#file-2-pseudo-functions-after-php>
>
> I have to admit, that "pseudo 10,000 ft. view" does look much cleaner
> and organized.
>
> I just wanted to ask the pros before I go making sweeping changes to
> my theme's function.php.
>
> Let me know if I need to clarify my questions better.
>
> Many thanks in advance!
>
> Cheers,
> M
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From chris at c3mdigital.com  Fri Aug 16 01:15:25 2013
From: chris at c3mdigital.com (Chris Olbekson)
Date: Thu, 15 Aug 2013 20:15:25 -0500
Subject: [wp-hackers] Including Sidebar Content via Conditionals Within
	Same File
In-Reply-To: <CAPN-N+aEb02RmaMCRaxejceWaQRv669+B-yNJNZzPbGAj+APQA@mail.gmail.com>
References: <1376597899699-42060.post@n5.nabble.com>
 <F9CA1665-7649-4FA0-A7F2-0190B711C582@ramapo.edu>
 <CAPN-N+aEb02RmaMCRaxejceWaQRv669+B-yNJNZzPbGAj+APQA@mail.gmail.com>
Message-ID: <3133A667-6A82-4749-8B29-01C0FBC36677@c3mdigital.com>


Gregory,

What you are trying to do is possible.  Just a suggestion here:

In your call to wp_get_post_tags add a field argument to just get the tag slugs.  Instead of going through the loop just use the in_array() function. I would use the slug for any comparison so you don't have to worry about issues with capital letters and spacing.

global $post;
$tags = wp_get_post_tags( $post->ID, array( 'fields' => 'slug' ) );

	<div class="widget">
		<div class="widget-inner">
			<?php
				if ( in_array( 'help', $tags ) ) {
					echo do_shortcode( '[ngg_images gallery_ids="1" display_type="photocrati-nextgen_basic_thumbnails"]' );

				} elseif ( in_array( 'some-other-tag', $tags ) ) {
					echo do_shortcode( '[some_other_shortcode]' );
				}
	        ?>
		</div>
	</div>

Using your logic the $end variable will be equal to the last tag in the loop.

Good luck and I hope this helps.


On Aug 15, 2013, at 4:12 PM, Gregory Lancaster <greglancaster71 at gmail.com> wrote:

> Ouch, that stings.  You are right I am new to PHP.  I am still completing a
> class and since I enojy it, I thought I would try and move ahead to code
> some things on my own.  The = was a mistake, I know == is the correct
> syntax.  The post tags code is what I used in my sidebar previously and I
> thought it was applicable.  Is what I am trying to do even possible?
> 
> 
> On Thu, Aug 15, 2013 at 1:38 PM, Dobri <dyordan1 at ramapo.edu> wrote:
> 
>> Don't mean to burst your bubble but there are multiple issues with this.
>> Here are some to consider:
>> 
>> Whenever you use if, if/else, for, foreach, etc. putting a ; at the end of
>> the line terminates it. So, essentially both your foreach and if statements
>> don't do anything and then the code that follows is executed devoid of any
>> logic. The correct syntax would be foreach($tags as $tag){? and if ($end =
>> 'help') return...
>> When testing a variable, saying for example $end = 'help' will just do an
>> assignment and return the value that was assigned which in 99% of the cases
>> will evaluate to true. So even if your if statement was correct, it would
>> always execute because you are using assignment by = instead of comparison
>> by ==. The correct syntax would be $end == 'help'
>> Even if your foreach was written correctly (as above), you are only using
>> the last value by saying $end=$tag_name. At that point, just remove the
>> loop and say $end = $tags[count($tags)-1] if you just want the last
>> element. If you want to check each element, your whole code block has to be
>> refactored
>> You are using a mixture of return and echo and I'm pretty sure you only
>> want to use one of them. If this is executing inside of a filter function
>> there is a good chance that both return and echo will render in more or
>> less the same place but that doesn't mean to mix them, stick to the better
>> practice of return in case someone wants to further filter your thing down
>> the pipe or something.
>> Overall, I have a feeling you are not very experienced with coding but you
>> made a good attempt so don't be discouraged by my previous comments! I'd
>> say try to work on the issues above and if you can't figure it out I'll
>> take a look at your first email and see if I can help you out.
>> 
>> Cheers! Don't hate me.
>> 
>> P.S. An hour is *nothing* for coding. Don't be discouraged.
>> 
>> ~Dobri
>> 
>> On Thu, 15 Aug 2013, at 4:18 PM, BenderisGreat wrote:
>> 
>>> I have been working at this for an hour, and hoping someone here can
>> chime in
>>> and solve it quick for me.  Calling left sidebar, and I would like to
>> have
>>> the sidebar determine what content to show based on the post tag.  This
>> is
>>> what I have;
>>> 
>>> 
>>> /<?php global $post;
>>> $tags = wp_get_post_tags($post->ID);
>>> foreach ($tags as $tag);{
>>> $tag_name = $tag->name;}
>>> $end =  $tag_name;
>>> ?>
>>> 
>>> 
>>> <php if $end = 'help';
>>> return '
>>> 
>>> <div class="widget">
>>> Help Gallery
>>> 
>>> 
>>> <div class="widget-inner">
>>> <?php echo do_shortcode('[ngg_images gallery_ids="1"
>>> display_type="photocrati-nextgen_basic_thumbnails"]'); ?>
>>> </div>
>>> </div> '; ?>
>>> <?php endif; ?>/
>>> 
>>> I did this with three items, but it shows all of them on every page so I
>>> assume I am using the include statament wrong.  I am still learning php,
>> but
>>> I think maybe I should be using the phpDOM function?  Not entirely sure,
>> but
>>> definitely confused how to make this work.  I just need the sidebar to
>> match
>>> the post tage name ($end) to the correct section of the file and return
>> it.
>>> 
>>> Any help greatly appreciated!
>>> 
>>> 
>>> 
>>> --
>>> View this message in context:
>> http://wordpress-hackers.1065353.n5.nabble.com/Including-Sidebar-Content-via-Conditionals-Within-Same-File-tp42060.html
>>> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mickyhulse.lists at gmail.com  Fri Aug 16 06:37:27 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Thu, 15 Aug 2013 23:37:27 -0700
Subject: [wp-hackers] Organizing my theme's functions.php file
In-Reply-To: <520D69F3.6000101@bradparbs.com>
References: <CALri7MmPARFsZrPETgoGNK_QAoBn3gDPyUrR+RQwAcnGaT8esQ@mail.gmail.com>
 <520D69F3.6000101@bradparbs.com>
Message-ID: <CALri7MkEMbswYwbP9RthEgvP9=Lpac7yRbOZoZX4onEjy=xRRA@mail.gmail.com>

Hi Brad! Thanks so much for you help/reply, I really appreciate it. :)

On Thu, Aug 15, 2013 at 4:53 PM, Brad Parbs <brad at bradparbs.com> wrote:
> One thing quite a few people do is create a folder `inc/` and put different
> files there, like `scripts.php` that contains script functionality,
> `customizer.php` that holds all the theme customizations stuff, etc. Then
> just include those files in your functions.php.
> You could also move a lot of your functions to a theme-specific plugin or
> multiple plugins, keeping it pretty organized there.

Awesome, thanks for tips! :)

There are some instances where I've moved what would normally be
multiple related functions in `functions.php` into PHP/OOP classes and
suck them into my theme via an `include_once()`. I try to do this for
the bigger chunks of related code, but not usually for the smaller
functions or chunks of code.

Anyway, thanks for listing a few of the alternatives to having
everything in one file, I appreciate the tips. :)

> If you're using prefixed functions `foo_bar_theme_setup(){}`, and that
> prefix is very unique, you don't have to worry about the function_exists,
> unless you plan to override it later. I prefer wrapping every function in
> that, so you can always override them easy later.

Good to know! Thank you for the clarification.

Although, I have to say I'm a little confused ... Looking at:

<https://github.com/WordPress/WordPress/blob/master/wp-content/themes/twentyfourteen/functions.php>

There's not much use of `function_exists()` in WordPress' latest theme.

Not only that, it appears as though most of the `add_action()`'s are
next to their functions, vs. living in the `after_setup_theme`
function. Unless I'm mistaken (I probably am), Justin's article kinda
makes it sound like all function hooks (hook's functions?) should live
in the theme setup function.

So, what's the rule of thumb for when to put stuff inside `after_setup_theme`?

Heck, I'm probably thinking too hard (or, not hard enough) about all this.

My gut is telling me to follow the lead of twentyfoureen (i.e. no
`function_exists()` checks and keep hooks next to their custom
functions vs. move all hooks into `after_setup_theme`).

OTOH, like you say, it can't hurt to use `function_exists()` around everything.

Sorry if I'm rambling.

> Moving all of the hooks into a function is a good way to go, as well.

So many options!

Have you built a theme, or do you know of a theme, that has the
perfect setup (in your opinion) for a `functions.php`? I think I need
to see some good/contemporary examples.

My main concern is that I build the most optimal setup for when it
comes to allowing child themes to override my parent theme's functions
(and yes, this is my first child theme setup, so I'll probably sound
less like a noob once I've had some time to experiment). :D

Thanks again Brad! Much appreciated.

From frank at bueltge.de  Fri Aug 16 06:41:53 2013
From: frank at bueltge.de (Frank Bueltge)
Date: Fri, 16 Aug 2013 08:41:53 +0200
Subject: [wp-hackers] Organizing my theme's functions.php file
In-Reply-To: <CALri7MkEMbswYwbP9RthEgvP9=Lpac7yRbOZoZX4onEjy=xRRA@mail.gmail.com>
References: <CALri7MmPARFsZrPETgoGNK_QAoBn3gDPyUrR+RQwAcnGaT8esQ@mail.gmail.com>
 <520D69F3.6000101@bradparbs.com>
 <CALri7MkEMbswYwbP9RthEgvP9=Lpac7yRbOZoZX4onEjy=xRRA@mail.gmail.com>
Message-ID: <CAH9UVvEo1G5grX+Dt3q9wzH9EHrDwT5eTn1acOHOJva5TJ64Lg@mail.gmail.com>

Morning.
Maybe the thread on WPSE is helpful
http://wordpress.stackexchange.com/questions/1403/organizing-code-in-your-wordpress-themes-functions-php-file


On Fri, Aug 16, 2013 at 8:37 AM, Micky Hulse <mickyhulse.lists at gmail.com>wrote:

> Hi Brad! Thanks so much for you help/reply, I really appreciate it. :)
>
> On Thu, Aug 15, 2013 at 4:53 PM, Brad Parbs <brad at bradparbs.com> wrote:
> > One thing quite a few people do is create a folder `inc/` and put
> different
> > files there, like `scripts.php` that contains script functionality,
> > `customizer.php` that holds all the theme customizations stuff, etc. Then
> > just include those files in your functions.php.
> > You could also move a lot of your functions to a theme-specific plugin or
> > multiple plugins, keeping it pretty organized there.
>
> Awesome, thanks for tips! :)
>
> There are some instances where I've moved what would normally be
> multiple related functions in `functions.php` into PHP/OOP classes and
> suck them into my theme via an `include_once()`. I try to do this for
> the bigger chunks of related code, but not usually for the smaller
> functions or chunks of code.
>
> Anyway, thanks for listing a few of the alternatives to having
> everything in one file, I appreciate the tips. :)
>
> > If you're using prefixed functions `foo_bar_theme_setup(){}`, and that
> > prefix is very unique, you don't have to worry about the function_exists,
> > unless you plan to override it later. I prefer wrapping every function in
> > that, so you can always override them easy later.
>
> Good to know! Thank you for the clarification.
>
> Although, I have to say I'm a little confused ... Looking at:
>
> <
> https://github.com/WordPress/WordPress/blob/master/wp-content/themes/twentyfourteen/functions.php
> >
>
> There's not much use of `function_exists()` in WordPress' latest theme.
>
> Not only that, it appears as though most of the `add_action()`'s are
> next to their functions, vs. living in the `after_setup_theme`
> function. Unless I'm mistaken (I probably am), Justin's article kinda
> makes it sound like all function hooks (hook's functions?) should live
> in the theme setup function.
>
> So, what's the rule of thumb for when to put stuff inside
> `after_setup_theme`?
>
> Heck, I'm probably thinking too hard (or, not hard enough) about all this.
>
> My gut is telling me to follow the lead of twentyfoureen (i.e. no
> `function_exists()` checks and keep hooks next to their custom
> functions vs. move all hooks into `after_setup_theme`).
>
> OTOH, like you say, it can't hurt to use `function_exists()` around
> everything.
>
> Sorry if I'm rambling.
>
> > Moving all of the hooks into a function is a good way to go, as well.
>
> So many options!
>
> Have you built a theme, or do you know of a theme, that has the
> perfect setup (in your opinion) for a `functions.php`? I think I need
> to see some good/contemporary examples.
>
> My main concern is that I build the most optimal setup for when it
> comes to allowing child themes to override my parent theme's functions
> (and yes, this is my first child theme setup, so I'll probably sound
> less like a noob once I've had some time to experiment). :D
>
> Thanks again Brad! Much appreciated.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mickyhulse.lists at gmail.com  Fri Aug 16 06:50:10 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Thu, 15 Aug 2013 23:50:10 -0700
Subject: [wp-hackers] Organizing my theme's functions.php file
In-Reply-To: <CAH9UVvEo1G5grX+Dt3q9wzH9EHrDwT5eTn1acOHOJva5TJ64Lg@mail.gmail.com>
References: <CALri7MmPARFsZrPETgoGNK_QAoBn3gDPyUrR+RQwAcnGaT8esQ@mail.gmail.com>
 <520D69F3.6000101@bradparbs.com>
 <CALri7MkEMbswYwbP9RthEgvP9=Lpac7yRbOZoZX4onEjy=xRRA@mail.gmail.com>
 <CAH9UVvEo1G5grX+Dt3q9wzH9EHrDwT5eTn1acOHOJva5TJ64Lg@mail.gmail.com>
Message-ID: <CALri7Mk-6doS5+0g+ZuWqDcO-Gf3Ja+gRhcRMBpsbgJq0tuX2w@mail.gmail.com>

On Thu, Aug 15, 2013 at 11:41 PM, Frank Bueltge <frank at bueltge.de> wrote:
> Morning.

Morning Frank! :-)

> Maybe the thread on WPSE is helpful
> http://wordpress.stackexchange.com/questions/1403/organizing-code-in-your-wordpress-themes-functions-php-file

Ah, that looks very helpful. Thank you for sharing link, reading now.

Much appreciated!

Cheers,
M

From jdg at codesymphony.co  Fri Aug 16 13:19:53 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Fri, 16 Aug 2013 09:19:53 -0400
Subject: [wp-hackers] Organizing my theme's functions.php file
In-Reply-To: <CALri7Mk-6doS5+0g+ZuWqDcO-Gf3Ja+gRhcRMBpsbgJq0tuX2w@mail.gmail.com>
References: <CALri7MmPARFsZrPETgoGNK_QAoBn3gDPyUrR+RQwAcnGaT8esQ@mail.gmail.com>
 <520D69F3.6000101@bradparbs.com>
 <CALri7MkEMbswYwbP9RthEgvP9=Lpac7yRbOZoZX4onEjy=xRRA@mail.gmail.com>
 <CAH9UVvEo1G5grX+Dt3q9wzH9EHrDwT5eTn1acOHOJva5TJ64Lg@mail.gmail.com>
 <CALri7Mk-6doS5+0g+ZuWqDcO-Gf3Ja+gRhcRMBpsbgJq0tuX2w@mail.gmail.com>
Message-ID: <28FD1C7A-27B9-43D9-8784-108FDC532410@codesymphony.co>

Hi, Micky,

I'm not really a theme dev, so bear with me here...

> 1. For all custom functions that aren't tied into a WP hook, should I
> wrap them with `if ( ! function_exists('some_custom_function')) {
> some_custom_function() { ... } }` (as opposed to wrapping all
> functions in a `function_exists` call)?


If you want to allow the function to be overridden, there are several other approaches that you could take:

1. You could replace your calls to the function with do_action() or apply_filters(), i.e., create a custom action/filter and hook your function to that.
2. You could call filter(s) or action(s) within the function, allowing other functions to manipulate its output, or even override it completely.

I think doing something like that would be cleaner and possibly more extensible, but that's just me.

> 2. Based on Justin's excellent article above, I'm under the impression
> that I should move all of my `add_action()`'s, `remove_action()`'s,
> `add_filter()`'s, `remove_filter()`'s (and similar) into the
> `foo_setup` function (which is hooked into `after_setup_theme`)? In
> other words, should my functions.php file look more like this:
> <https://gist.github.com/mhulse/6245870#file-2-pseudo-functions-after-php>

I'm not sure what the logic behind that would be. The child theme won't be able to remove any of the actions or filters like it normally would if they aren't added until 'after_setup_theme'; it would have to hook into a later action just to manipulate the actions of the parent theme. At least that's what I'm thinking, correct me if I'm wrong.

Good luck!

-J.D.

From justin at justintadlock.com  Fri Aug 16 16:46:23 2013
From: justin at justintadlock.com (Justin Tadlock)
Date: Fri, 16 Aug 2013 11:46:23 -0500
Subject: [wp-hackers] Organizing my theme's functions.php file
In-Reply-To: <28FD1C7A-27B9-43D9-8784-108FDC532410@codesymphony.co>
References: <CALri7MmPARFsZrPETgoGNK_QAoBn3gDPyUrR+RQwAcnGaT8esQ@mail.gmail.com>
 <520D69F3.6000101@bradparbs.com>
 <CALri7MkEMbswYwbP9RthEgvP9=Lpac7yRbOZoZX4onEjy=xRRA@mail.gmail.com>
 <CAH9UVvEo1G5grX+Dt3q9wzH9EHrDwT5eTn1acOHOJva5TJ64Lg@mail.gmail.com>
 <CALri7Mk-6doS5+0g+ZuWqDcO-Gf3Ja+gRhcRMBpsbgJq0tuX2w@mail.gmail.com>
 <28FD1C7A-27B9-43D9-8784-108FDC532410@codesymphony.co>
Message-ID: <520E575F.6080503@justintadlock.com>


>> 2. Based on Justin's excellent article above, I'm under the impression
>> that I should move all of my `add_action()`'s, `remove_action()`'s,
>> `add_filter()`'s, `remove_filter()`'s (and similar) into the
>> `foo_setup` function (which is hooked into `after_setup_theme`)? In
>> other words, should my functions.php file look more like this:
>> <https://gist.github.com/mhulse/6245870#file-2-pseudo-functions-after-php>
> I'm not sure what the logic behind that would be. The child theme won't be able to remove any of the actions or filters like it normally would if they aren't added until 'after_setup_theme'; it would have to hook into a later action just to manipulate the actions of the parent theme. At least that's what I'm thinking, correct me if I'm wrong.
>

If you put an action/filter in functions.php, it can't be removed by a 
child theme because a child theme's functions.php is loaded before the 
parent theme's functions.php.  Hooking this code on 'after_setup_theme' 
gives child themes an opportunity to change this.  Of course, this is 
all explained in the referenced article.

From mickyhulse.lists at gmail.com  Fri Aug 16 17:18:12 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Fri, 16 Aug 2013 10:18:12 -0700
Subject: [wp-hackers] Organizing my theme's functions.php file
In-Reply-To: <28FD1C7A-27B9-43D9-8784-108FDC532410@codesymphony.co>
References: <CALri7MmPARFsZrPETgoGNK_QAoBn3gDPyUrR+RQwAcnGaT8esQ@mail.gmail.com>
 <520D69F3.6000101@bradparbs.com>
 <CALri7MkEMbswYwbP9RthEgvP9=Lpac7yRbOZoZX4onEjy=xRRA@mail.gmail.com>
 <CAH9UVvEo1G5grX+Dt3q9wzH9EHrDwT5eTn1acOHOJva5TJ64Lg@mail.gmail.com>
 <CALri7Mk-6doS5+0g+ZuWqDcO-Gf3Ja+gRhcRMBpsbgJq0tuX2w@mail.gmail.com>
 <28FD1C7A-27B9-43D9-8784-108FDC532410@codesymphony.co>
Message-ID: <CALri7Mnd8FmZrpFu6VK8saMw0DMBnrePgqSdB=xAG8OC=NV64A@mail.gmail.com>

Hi J.D., thank you for your help, I really appreciate it. :)

On Fri, Aug 16, 2013 at 6:19 AM, J.D. Grimes <jdg at codesymphony.co> wrote:
>> 1. For all custom functions that aren't tied into a WP hook, should I
>> wrap them with `if ( ! function_exists('some_custom_function')) {
>> some_custom_function() { ... } }` (as opposed to wrapping all
>> functions in a `function_exists` call)?
> If you want to allow the function to be overridden, there are several other approaches that you could take:
> 1. You could replace your calls to the function with do_action() or apply_filters(), i.e., create a custom action/filter and hook your function to that.
> 2. You could call filter(s) or action(s) within the function, allowing other functions to manipulate its output, or even override it completely.

Good fundamental tips. Thank you.

For my latest theme, I've done a bit of #2 in your list above. It'll
be interesting to play with those from a child theme.

Long story short, I've developed a theme for my day job's blogs
(multisite), and now a co-worker needs to have a blog on the network
that's a bit different than the rest ... I just want to make sure my
parent theme's setup is solid so he can have an easy time setting up
his mods.

> I think doing something like that would be cleaner and possibly more extensible, but that's just me.
> Good luck!

Thank you J.D.! :)

Have a nice day!

Cheers,
M

From mickyhulse.lists at gmail.com  Fri Aug 16 17:36:18 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Fri, 16 Aug 2013 10:36:18 -0700
Subject: [wp-hackers] Organizing my theme's functions.php file
In-Reply-To: <520E575F.6080503@justintadlock.com>
References: <CALri7MmPARFsZrPETgoGNK_QAoBn3gDPyUrR+RQwAcnGaT8esQ@mail.gmail.com>
 <520D69F3.6000101@bradparbs.com>
 <CALri7MkEMbswYwbP9RthEgvP9=Lpac7yRbOZoZX4onEjy=xRRA@mail.gmail.com>
 <CAH9UVvEo1G5grX+Dt3q9wzH9EHrDwT5eTn1acOHOJva5TJ64Lg@mail.gmail.com>
 <CALri7Mk-6doS5+0g+ZuWqDcO-Gf3Ja+gRhcRMBpsbgJq0tuX2w@mail.gmail.com>
 <28FD1C7A-27B9-43D9-8784-108FDC532410@codesymphony.co>
 <520E575F.6080503@justintadlock.com>
Message-ID: <CALri7M=AommR3kbbP3S6k72YsipEuTw5DERFQgJb41sehTLMbw@mail.gmail.com>

Hi Justin! Thanks so much for the reply, I really appreciate it!

Loved your article. I know it's a couple years old now, but it still
seems like it's packed with some awesome tips on `functions.php`
organization.

Out of curiosity, because the article is a little older, and WP has
evolved a little since then, have you discovered anything new that
isn't in your article?

On Fri, Aug 16, 2013 at 9:46 AM, Justin Tadlock
<justin at justintadlock.com> wrote:
> On Fri, Aug 16, 2013 at 6:19 AM, J.D. Grimes <jdg at codesymphony.co> wrote:
>> I'm not sure what the logic behind that would be. The child theme won't be
>> able to remove any of the actions or filters like it normally would if they
>> aren't added until 'after_setup_theme'; it would have to hook into a later
>> action just to manipulate the actions of the parent theme. At least that's
>> what I'm thinking, correct me if I'm wrong.
>
> If you put an action/filter in functions.php, it can't be removed by a child
> theme because a child theme's functions.php is loaded before the parent
> theme's functions.php.  Hooking this code on 'after_setup_theme' gives child
> themes an opportunity to change this. Of course, this is all explained in
> the referenced article.

... and I hate to sound like a dunce, but there was so much info
packed into that article, that I found myself having to read it a few
extra times and then ask for help with the professionals on this list.

I'm still trying to wrap my head around all the tips (on top of all
the other great links/resources folks have pointed me towards).

With that said, if it's not too much trouble, could you take a quick
look at my pseudocode `functions.php` examples:

<https://gist.github.com/mhulse/6245870>

Just to be clear, in the above Gist, the first file is "BEFORE" and
the second is "AFTER".

Questions:

1. In the second file (the "AFTER"), is that basically what your
article is recommending? Essentially, your saying to move all
action/filters into `after_setup_theme`?

2. I did not see an example in your article where a you show a
action/filter/other outside of `after_setup_theme`; are there
situation where you wouldn't wan't to put an action/filter inside
`after_setup_theme` (other than if you didn't want something to be
overridden)?

3. Have you built a theme, one that I could look at, that uses the
techniques you explain in your blog post?

4. Is there a reason why a theme like `twentyfourteen` doesn't follow
these guidelines? Is it because that theme wasn't meant to have
children?

Again, sorry for being dense here. I just really want to fully
understand the tips you provide in your article.

Thanks for your time.

Thanks to everyone for listening to (and helping to answer) my silly questions.

Have an awesome day!

Cheers,
Micky

From mickyhulse.lists at gmail.com  Fri Aug 16 17:38:45 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Fri, 16 Aug 2013 10:38:45 -0700
Subject: [wp-hackers] Organizing my theme's functions.php file
In-Reply-To: <CALri7M=AommR3kbbP3S6k72YsipEuTw5DERFQgJb41sehTLMbw@mail.gmail.com>
References: <CALri7MmPARFsZrPETgoGNK_QAoBn3gDPyUrR+RQwAcnGaT8esQ@mail.gmail.com>
 <520D69F3.6000101@bradparbs.com>
 <CALri7MkEMbswYwbP9RthEgvP9=Lpac7yRbOZoZX4onEjy=xRRA@mail.gmail.com>
 <CAH9UVvEo1G5grX+Dt3q9wzH9EHrDwT5eTn1acOHOJva5TJ64Lg@mail.gmail.com>
 <CALri7Mk-6doS5+0g+ZuWqDcO-Gf3Ja+gRhcRMBpsbgJq0tuX2w@mail.gmail.com>
 <28FD1C7A-27B9-43D9-8784-108FDC532410@codesymphony.co>
 <520E575F.6080503@justintadlock.com>
 <CALri7M=AommR3kbbP3S6k72YsipEuTw5DERFQgJb41sehTLMbw@mail.gmail.com>
Message-ID: <CALri7M=jNit95cFW6ErnTxo49ngSGN-oAn0TeiJNE9xPLYp6sA@mail.gmail.com>

On Fri, Aug 16, 2013 at 10:36 AM, Micky Hulse
<mickyhulse.lists at gmail.com> wrote:
> 4. Is there a reason why a theme like `twentyfourteen` doesn't follow
> these guidelines? Is it because that theme wasn't meant to have
> children?

I should say, "doesn't follow SOME of these guidelines".

I understand that there are many ways to "theme" a cat. :)

I did not mean to imply that the twentyfourteen theme was doing it wrong.

Thanks!
M

From jayarjo at gmail.com  Sat Aug 17 15:26:02 2013
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Sat, 17 Aug 2013 19:26:02 +0400
Subject: [wp-hackers] 3.5 and attachment_fields_to_edit (custom fields
	for media)
In-Reply-To: <CAGEuVU2EDn_vZNqrV3iw5W0BGKOxyh+cQmAoAv9jgViMUsZB7A@mail.gmail.com>
References: <CAGEuVU3OvLHQBWgw_h7b8JtEP7nvQQGtywvgWgqatT7X_fRizA@mail.gmail.com>
 <CAP29Pvh-PHpO7njPPdTGUUrRuLXeyuNF5mXeStR6jTqC2dtcqQ@mail.gmail.com>
 <CAGEuVU2EDn_vZNqrV3iw5W0BGKOxyh+cQmAoAv9jgViMUsZB7A@mail.gmail.com>
Message-ID: <CAM0WtjdOh_a2a=aJt6Y-yiEozCotT-+yYGYH=j_7FnRt8ucE8A@mail.gmail.com>

Hi guys,

Is there a writeup about "the newer post type UI/API" anywhere? It is hard
to find to say at least.

Davit Barbakadze


On Mon, Oct 15, 2012 at 3:13 AM, Steve Taylor <steve at sltaylor.co.uk> wrote:

> Hi, thanks for the response.
>
> I've updated the plugin (on GitHub, not yet wordpress.org) to work
> with the new API. Yes, much easier :-)  Just a few tweaks and the code
> I've got in place for post screen meta boxes works fine for 3.5
> attachments.
>
> I left my old code in for backwards compatibility. I'm checking on the
> actual WP version, not on the existence of a hook. Maybe not always
> the best way around, but I guess this means now I don't have to worry
> about when you re-implement attachment_fields_to_edit for your
> backwards compatibility...
>
> Steve
>
>
> On 14 October 2012 17:39, Andrew Nacin <wp at andrewnacin.com> wrote:
> > On Tue, Oct 9, 2012 at 8:31 AM, Steve Taylor <steve at sltaylor.co.uk>
> wrote:
> >
> >> Hi,
> >>
> >> A plugin of mine
> >> (http://wordpress.org/extend/plugins/developers-custom-fields/)
> >> involves adding custom fields to media attachments via the
> >> attachment_fields_to_edit hook. It looks like this method is broken in
> >> the current beta of 3.5 due to moving media editing to post.php.
> >>
> >> Has anyone worked with this / posted about it? I've looked through the
> >> Trac ticket (http://core.trac.wordpress.org/ticket/21391) and there
> >> don't seem to be any hints for devs whose stuff this breaks.
> >>
> >> I'm ploughing into it now, just wondered if anyone else was ahead of
> >> me! I'm guessing the new approach will be even easier to hook into
> >> (using standard meta boxes) - but does legacy support just involve
> >> leaving attachment_fields_to_edit stuff in place?
> >
> >
> > Two things:
> >
> >  - Your plugin will probably become a lot simpler if it is updated to use
> > the newer post type UI/API.
> >
> >  -  We are still doing backwards compatibility sweeps. We will continue
> to
> > support attachment_fields_to_edit in a backwards compatible, deprecated
> > fashion, it just doesn't yet. Thanks for the reminder on this hook in
> > particular.
> >
> > Nacin
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From h at hyhs.me  Sat Aug 17 15:50:40 2013
From: h at hyhs.me (Helen Hou-Sandi)
Date: Sat, 17 Aug 2013 11:50:40 -0400
Subject: [wp-hackers] 3.5 and attachment_fields_to_edit (custom fields
	for media)
In-Reply-To: <CAM0WtjdOh_a2a=aJt6Y-yiEozCotT-+yYGYH=j_7FnRt8ucE8A@mail.gmail.com>
References: <CAGEuVU3OvLHQBWgw_h7b8JtEP7nvQQGtywvgWgqatT7X_fRizA@mail.gmail.com>
 <CAP29Pvh-PHpO7njPPdTGUUrRuLXeyuNF5mXeStR6jTqC2dtcqQ@mail.gmail.com>
 <CAGEuVU2EDn_vZNqrV3iw5W0BGKOxyh+cQmAoAv9jgViMUsZB7A@mail.gmail.com>
 <CAM0WtjdOh_a2a=aJt6Y-yiEozCotT-+yYGYH=j_7FnRt8ucE8A@mail.gmail.com>
Message-ID: <CAA0DF=979Opv145CUufmYOV9c68dkry3DHnCEUbaUZX81zysxg@mail.gmail.com>

http://make.wordpress.org/core/2012/12/12/attachment-editing-now-with-full-post-edit-ui/

From jayarjo at gmail.com  Sat Aug 17 17:28:04 2013
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Sat, 17 Aug 2013 21:28:04 +0400
Subject: [wp-hackers] 3.5 and attachment_fields_to_edit (custom fields
	for media)
In-Reply-To: <CAA0DF=979Opv145CUufmYOV9c68dkry3DHnCEUbaUZX81zysxg@mail.gmail.com>
References: <CAGEuVU3OvLHQBWgw_h7b8JtEP7nvQQGtywvgWgqatT7X_fRizA@mail.gmail.com>
 <CAP29Pvh-PHpO7njPPdTGUUrRuLXeyuNF5mXeStR6jTqC2dtcqQ@mail.gmail.com>
 <CAGEuVU2EDn_vZNqrV3iw5W0BGKOxyh+cQmAoAv9jgViMUsZB7A@mail.gmail.com>
 <CAM0WtjdOh_a2a=aJt6Y-yiEozCotT-+yYGYH=j_7FnRt8ucE8A@mail.gmail.com>
 <CAA0DF=979Opv145CUufmYOV9c68dkry3DHnCEUbaUZX81zysxg@mail.gmail.com>
Message-ID: <CAM0WtjfKkK3P3eu5EFYzjakekr8_SJ_bugDbp2OkZJi=_cTFYg@mail.gmail.com>

Thanks Helen. That helped.

Davit Barbakadze


On Sat, Aug 17, 2013 at 7:50 PM, Helen Hou-Sandi <h at hyhs.me> wrote:

>
> http://make.wordpress.org/core/2012/12/12/attachment-editing-now-with-full-post-edit-ui/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jayarjo at gmail.com  Sat Aug 17 17:30:40 2013
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Sat, 17 Aug 2013 21:30:40 +0400
Subject: [wp-hackers] Are there any plans for adding a thumb field to video
	attachments?
Message-ID: <CAM0WtjcjXsVWx=qVbf2LibMkGO33ea5udXpWTzc8iUhVSFZYNQ@mail.gmail.com>

All embed videos should have a thumb - pretty logical, isn't it? Are you
guys going to add it somehow?

Kind regards,
Davit Barbakadze

From lukebryan at sharefaith.com  Mon Aug 19 18:10:28 2013
From: lukebryan at sharefaith.com (Luke Bryan)
Date: Mon, 19 Aug 2013 11:10:28 -0700
Subject: [wp-hackers] Set preferred version?
Message-ID: <CAFnKAk39PQXZ158VPdkpMkfCTpuab1V_WTQ7aZRFYX3uxQa9Gw@mail.gmail.com>

Greetings all,

I was curious if there is a way to set a max update-able version of certain
plugins, until they are fully tested in our environment? For example, this
could make sure no users update to NextGen 2.x which is broken in various
ways.

I tried the 'plugins_api' filter, which works for searching plugins, but it
only changes the displayed version in "add new" plugins page.

I was curious if anyone else has done this, if so do you have to mirror the
WP repository with older versions, or is there a simple switch/hook to set
the preferred version?

Best regards,
Luke

From dyordan1 at ramapo.edu  Wed Aug 21 15:40:48 2013
From: dyordan1 at ramapo.edu (Dobri)
Date: Wed, 21 Aug 2013 11:40:48 -0400
Subject: [wp-hackers] shortcode_unautop
Message-ID: <361CB368-FD04-42AF-8CB8-A70645B94C7C@ramapo.edu>

Hey WordPress Hackers,

I was struggling with shortcode_unautop not working for a while and I looked into the function to figure out what's wrong. I've created a paste bin with the code in case you don't feel like finding the function (http://pastebin.com/VDMdXxj0). My question is: is there a reason some of the "*" repetitions also have a "+" directly following? I personally have done monsters of regular expressions and never seen the combination "[whatever]*+". Am I missing something? Also, when I checked with http://regexpal.com/, removing all the extra + signs magically made the function work *exactly* as expected. Is this a bug or do I not know regex as good as I though I do?

Also, if there's nothing buggy with the function, what would be the way to make sure something like the text in the bin below renders correctly?

http://pastebin.com/7kQwdjca

Should I just remove the shorcode_unautop filter and do my own unautop? Thanks for any help with this!

~Dobri


From chris at lod.com  Wed Aug 21 19:09:28 2013
From: chris at lod.com (Chris McCoy)
Date: Wed, 21 Aug 2013 15:09:28 -0400
Subject: [wp-hackers] shortcode_unautop
In-Reply-To: <361CB368-FD04-42AF-8CB8-A70645B94C7C@ramapo.edu>
Message-ID: <CE3A889E.2AE2%chris@lod.com>

http://www.wpexplorer.com/clean-up-wordpress-shortcode-formatting/


have a look at this.


On 2013-08-21 11:40 AM, "Dobri" <dyordan1 at ramapo.edu> wrote:

>Hey WordPress Hackers,
>
>I was struggling with shortcode_unautop not working for a while and I
>looked into the function to figure out what's wrong. I've created a paste
>bin with the code in case you don't feel like finding the function
>(http://pastebin.com/VDMdXxj0). My question is: is there a reason some of
>the "*" repetitions also have a "+" directly following? I personally have
>done monsters of regular expressions and never seen the combination
>"[whatever]*+". Am I missing something? Also, when I checked with
>http://regexpal.com/, removing all the extra + signs magically made the
>function work *exactly* as expected. Is this a bug or do I not know regex
>as good as I though I do?
>
>Also, if there's nothing buggy with the function, what would be the way
>to make sure something like the text in the bin below renders correctly?
>
>http://pastebin.com/7kQwdjca
>
>Should I just remove the shorcode_unautop filter and do my own unautop?
>Thanks for any help with this!
>
>~Dobri
>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers



From dyordan1 at ramapo.edu  Wed Aug 21 19:25:07 2013
From: dyordan1 at ramapo.edu (Dobri)
Date: Wed, 21 Aug 2013 15:25:07 -0400
Subject: [wp-hackers] shortcode_unautop
In-Reply-To: <CE3A889E.2AE2%chris@lod.com>
References: <CE3A889E.2AE2%chris@lod.com>
Message-ID: <B49CF1B8-AB8B-40E8-A17D-AB522992C880@ramapo.edu>

Thanks but I've seen that post already. I'm actually trying to move away from a solution that moves wpautop after short codes are rendered since I've had to implement multiple workarounds for plugins that rely on regular short code rendering. I ended up just implementing my own unautop that works for my needs. Almost like this guy's new solution linked at the top with a few tweaks. I'm still open to better alternatives. I was just interested why a built-in feature of wordpress doesn't really "work." Note:

<p>[shortcode]</p>
?some content?
<p>[/shortcode]</p>

gets unautop-ed into

[shortcode]</p>
?some content?
<p>[/shortcode]

I'd say that's broken.

~Dobri

On Wed, 21 Aug 2013, at 3:09 PM, Chris McCoy wrote:

> http://www.wpexplorer.com/clean-up-wordpress-shortcode-formatting/
> 
> 
> have a look at this.
> 
> 
> On 2013-08-21 11:40 AM, "Dobri" <dyordan1 at ramapo.edu> wrote:
> 
>> Hey WordPress Hackers,
>> 
>> I was struggling with shortcode_unautop not working for a while and I
>> looked into the function to figure out what's wrong. I've created a paste
>> bin with the code in case you don't feel like finding the function
>> (http://pastebin.com/VDMdXxj0). My question is: is there a reason some of
>> the "*" repetitions also have a "+" directly following? I personally have
>> done monsters of regular expressions and never seen the combination
>> "[whatever]*+". Am I missing something? Also, when I checked with
>> http://regexpal.com/, removing all the extra + signs magically made the
>> function work *exactly* as expected. Is this a bug or do I not know regex
>> as good as I though I do?
>> 
>> Also, if there's nothing buggy with the function, what would be the way
>> to make sure something like the text in the bin below renders correctly?
>> 
>> http://pastebin.com/7kQwdjca
>> 
>> Should I just remove the shorcode_unautop filter and do my own unautop?
>> Thanks for any help with this!
>> 
>> ~Dobri
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From chris at lod.com  Thu Aug 22 00:26:37 2013
From: chris at lod.com (Chris McCoy)
Date: Wed, 21 Aug 2013 20:26:37 -0400
Subject: [wp-hackers] shortcode_unautop
In-Reply-To: <B49CF1B8-AB8B-40E8-A17D-AB522992C880@ramapo.edu>
Message-ID: <CE3AD27D.2B02%chris@lod.com>

did you try this?

remove_filter( 'the_content', 'wpautop' );
add_filter( 'the_content', 'wpautop' , 99 );
add_filter( 'the_content', 'shortcode_unautop', 100 );



add to the bottom of your functions.php file


On 2013-08-21 3:25 PM, "Dobri" <dyordan1 at ramapo.edu> wrote:

>Thanks but I've seen that post already. I'm actually trying to move away
>from a solution that moves wpautop after short codes are rendered since
>I've had to implement multiple workarounds for plugins that rely on
>regular short code rendering. I ended up just implementing my own unautop
>that works for my needs. Almost like this guy's new solution linked at
>the top with a few tweaks. I'm still open to better alternatives. I was
>just interested why a built-in feature of wordpress doesn't really
>"work." Note:
>
><p>[shortcode]</p>
>?some content?
><p>[/shortcode]</p>
>
>gets unautop-ed into
>
>[shortcode]</p>
>?some content?
><p>[/shortcode]
>
>I'd say that's broken.
>
>~Dobri
>
>On Wed, 21 Aug 2013, at 3:09 PM, Chris McCoy wrote:
>
>> http://www.wpexplorer.com/clean-up-wordpress-shortcode-formatting/
>> 
>> 
>> have a look at this.
>> 
>> 
>> On 2013-08-21 11:40 AM, "Dobri" <dyordan1 at ramapo.edu> wrote:
>> 
>>> Hey WordPress Hackers,
>>> 
>>> I was struggling with shortcode_unautop not working for a while and I
>>> looked into the function to figure out what's wrong. I've created a
>>>paste
>>> bin with the code in case you don't feel like finding the function
>>> (http://pastebin.com/VDMdXxj0). My question is: is there a reason some
>>>of
>>> the "*" repetitions also have a "+" directly following? I personally
>>>have
>>> done monsters of regular expressions and never seen the combination
>>> "[whatever]*+". Am I missing something? Also, when I checked with
>>> http://regexpal.com/, removing all the extra + signs magically made the
>>> function work *exactly* as expected. Is this a bug or do I not know
>>>regex
>>> as good as I though I do?
>>> 
>>> Also, if there's nothing buggy with the function, what would be the way
>>> to make sure something like the text in the bin below renders
>>>correctly?
>>> 
>>> http://pastebin.com/7kQwdjca
>>> 
>>> Should I just remove the shorcode_unautop filter and do my own unautop?
>>> Thanks for any help with this!
>>> 
>>> ~Dobri
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers



From dyordan1 at ramapo.edu  Thu Aug 22 12:49:51 2013
From: dyordan1 at ramapo.edu (Dobri)
Date: Thu, 22 Aug 2013 08:49:51 -0400
Subject: [wp-hackers] shortcode_unautop
In-Reply-To: <CE3AD27D.2B02%chris@lod.com>
References: <CE3AD27D.2B02%chris@lod.com>
Message-ID: <D7A8730E-D14B-46F5-A9E3-BF26623D3B2B@ramapo.edu>

Yes, I did about a year ago, and that's exactly what I'm trying to get away from since I have plugins that rely on short codes rendering *after* the wpautop. Maybe when I have some spare time I can try working on the shortcode_unautop and offer a patch? I don't even know how solvable this issue even is though (except on a case-to-case basis).

I just noticed though that there is a hack in core for pre-wpautop short codes:

/wp-includes/class-wp-embed.php:
   19  		// Hack to get the [embed] shortcode to run before wpautop()
   20: 		add_filter( 'the_content', array( $this, 'run_shortcode' ), 8 );

Does that then make it ok to have shortcodes before and shorcodes after wpautop? If so, shouldn't that be built into core instead of being a hack? Let's say add_shortcode('name',$runnable,'before') and add_shortcode('name',$runnable,'after') where 'after' is the default value so it's backwards compatible?

~Dobri

On Wed, 21 Aug 2013, at 8:26 PM, Chris McCoy wrote:

> did you try this?
> 
> remove_filter( 'the_content', 'wpautop' );
> add_filter( 'the_content', 'wpautop' , 99 );
> add_filter( 'the_content', 'shortcode_unautop', 100 );
> 
> 
> 
> add to the bottom of your functions.php file
> 
> 
> On 2013-08-21 3:25 PM, "Dobri" <dyordan1 at ramapo.edu> wrote:
> 
>> Thanks but I've seen that post already. I'm actually trying to move away
>> from a solution that moves wpautop after short codes are rendered since
>> I've had to implement multiple workarounds for plugins that rely on
>> regular short code rendering. I ended up just implementing my own unautop
>> that works for my needs. Almost like this guy's new solution linked at
>> the top with a few tweaks. I'm still open to better alternatives. I was
>> just interested why a built-in feature of wordpress doesn't really
>> "work." Note:
>> 
>> <p>[shortcode]</p>
>> ?some content?
>> <p>[/shortcode]</p>
>> 
>> gets unautop-ed into
>> 
>> [shortcode]</p>
>> ?some content?
>> <p>[/shortcode]
>> 
>> I'd say that's broken.
>> 
>> ~Dobri
>> 
>> On Wed, 21 Aug 2013, at 3:09 PM, Chris McCoy wrote:
>> 
>>> http://www.wpexplorer.com/clean-up-wordpress-shortcode-formatting/
>>> 
>>> 
>>> have a look at this.
>>> 
>>> 
>>> On 2013-08-21 11:40 AM, "Dobri" <dyordan1 at ramapo.edu> wrote:
>>> 
>>>> Hey WordPress Hackers,
>>>> 
>>>> I was struggling with shortcode_unautop not working for a while and I
>>>> looked into the function to figure out what's wrong. I've created a
>>>> paste
>>>> bin with the code in case you don't feel like finding the function
>>>> (http://pastebin.com/VDMdXxj0). My question is: is there a reason some
>>>> of
>>>> the "*" repetitions also have a "+" directly following? I personally
>>>> have
>>>> done monsters of regular expressions and never seen the combination
>>>> "[whatever]*+". Am I missing something? Also, when I checked with
>>>> http://regexpal.com/, removing all the extra + signs magically made the
>>>> function work *exactly* as expected. Is this a bug or do I not know
>>>> regex
>>>> as good as I though I do?
>>>> 
>>>> Also, if there's nothing buggy with the function, what would be the way
>>>> to make sure something like the text in the bin below renders
>>>> correctly?
>>>> 
>>>> http://pastebin.com/7kQwdjca
>>>> 
>>>> Should I just remove the shorcode_unautop filter and do my own unautop?
>>>> Thanks for any help with this!
>>>> 
>>>> ~Dobri
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From rarylson at gmail.com  Fri Aug 23 16:03:10 2013
From: rarylson at gmail.com (Rarylson Freitas)
Date: Fri, 23 Aug 2013 13:03:10 -0300
Subject: [wp-hackers] Wordpress - Database persistent connection support
Message-ID: <CAB_n18CYAT+maL_cEBmbC33Hz_U_RTA-FZsj6eAUzYibx20kEw@mail.gmail.com>

Hi,

I see that Wordpress uses the mysql_connect funcion in wp-db.php file. So,
the db_connect() function always return a non persistent connection to the
database.

So, I propose a patch (to Wordpress v.3.5.1).

My Idea is a new config constant in wp-config.php.

So, to enable persistente connections, the administrator will set in the
wp-config.php file:

define("WP_PCONNECT", true);

What do you think about it?

The patch is:

--- wp-db.php.old   2013-08-23 15:44:09.897307644 +0000
+++ wp-db.php       2013-08-23 15:45:33.903027939 +0000
@@ -1140,7 +1140,12 @@
                if ( WP_DEBUG ) {
                        $this->dbh = mysql_connect( $this->dbhost,
$this->dbuser, $this->dbpassword, $new_link, $client_flags );
                } else {
-                       $this->dbh = @mysql_connect( $this->dbhost,
$this->dbuser, $this->dbpassword, $new_link, $client_flags );
+                       // Rarylson's Patch - Using pconnect
+                       if ( WP_PCONNECT ) {
+                               $this->dbh = @mysql_pconnect(
$this->dbhost, $this->dbuser, $this->dbpassword, $new_link, $client_flags );
+                       } else {
+                               $this->dbh = @mysql_connect( $this->dbhost,
$this->dbuser, $this->dbpassword, $new_link, $client_flags );
+                       }
                }

                if ( !$this->dbh ) {


--
*Rarylson Freitas
*
Computer Engineer

From otto at ottodestruct.com  Fri Aug 23 16:08:43 2013
From: otto at ottodestruct.com (Otto)
Date: Fri, 23 Aug 2013 11:08:43 -0500
Subject: [wp-hackers] Wordpress - Database persistent connection support
In-Reply-To: <CAB_n18CYAT+maL_cEBmbC33Hz_U_RTA-FZsj6eAUzYibx20kEw@mail.gmail.com>
References: <CAB_n18CYAT+maL_cEBmbC33Hz_U_RTA-FZsj6eAUzYibx20kEw@mail.gmail.com>
Message-ID: <CAD-FghwvjBp3VhMb3jx3hFSYqxeQO1pHoQxWSTKJ287rOAeeVw@mail.gmail.com>

On Fri, Aug 23, 2013 at 11:03 AM, Rarylson Freitas <rarylson at gmail.com> wrote:
> What do you think about it?

More likely that it'll eventually just stop using the mysql extension.

http://core.trac.wordpress.org/ticket/21663

-Otto

From rarylson at gmail.com  Fri Aug 23 16:19:45 2013
From: rarylson at gmail.com (Rarylson Freitas)
Date: Fri, 23 Aug 2013 13:19:45 -0300
Subject: [wp-hackers] Wordpress - Database persistent connection support
In-Reply-To: <CAD-FghwvjBp3VhMb3jx3hFSYqxeQO1pHoQxWSTKJ287rOAeeVw@mail.gmail.com>
References: <CAB_n18CYAT+maL_cEBmbC33Hz_U_RTA-FZsj6eAUzYibx20kEw@mail.gmail.com>
 <CAD-FghwvjBp3VhMb3jx3hFSYqxeQO1pHoQxWSTKJ287rOAeeVw@mail.gmail.com>
Message-ID: <CAB_n18DNkR18SYh3XL_oxFW7dkrxHmnkX6q5D=xacXwKOPn9Sg@mail.gmail.com>

Hi,

Excelent! PDO is better!

So, using PDO, we could make persistent connections to MySQL database,
couldn't we?

Until this next release (with #21663 ticket), I'll continue using my patch.

Thanks for the reply.

--
*Rarylson Freitas
*Computer Engineer


On Fri, Aug 23, 2013 at 1:08 PM, Otto <otto at ottodestruct.com> wrote:

> On Fri, Aug 23, 2013 at 11:03 AM, Rarylson Freitas <rarylson at gmail.com>
> wrote:
> > What do you think about it?
>
> More likely that it'll eventually just stop using the mysql extension.
>
> http://core.trac.wordpress.org/ticket/21663
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Fri Aug 23 16:27:49 2013
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 23 Aug 2013 12:27:49 -0400
Subject: [wp-hackers] Wordpress - Database persistent connection support
In-Reply-To: <CAB_n18CYAT+maL_cEBmbC33Hz_U_RTA-FZsj6eAUzYibx20kEw@mail.gmail.com>
References: <CAB_n18CYAT+maL_cEBmbC33Hz_U_RTA-FZsj6eAUzYibx20kEw@mail.gmail.com>
Message-ID: <CAP29PviZmdQfLA=Rwke3DBQ2yXxeUY-4VepiBUvQLziAecLvSA@mail.gmail.com>

On Fri, Aug 23, 2013 at 12:03 PM, Rarylson Freitas <rarylson at gmail.com>wrote:

> I see that Wordpress uses the mysql_connect funcion in wp-db.php file. So,
> the db_connect() function always return a non persistent connection to the
> database.


I was discussing this with a few others this week. This is interesting, but
it isn't clear how much it would help. It is my understanding that we would
need to monitor connection limits and open connections, especially on
shared servers. It might be nice to add a flag (as proposed) but it would
make sense to figure out whether this makes sense as a default, and if not,
why not, as that in itself could be informative to the dangers of using
persistent connections.

If this had a benefit to sites on overloaded shared servers, I would think
someone (if not a hosting company) would have proposed it at some point in
the last six years. This anecdotally suggests to me that there is limited
benefit or even detriment for most sites. HyperDB also has hypothetical
persistent connection support, but it is turned off by default and I am
unsure if anyone uses it.

Interestingly, the "drawbacks" covered on
http://php.net/manual/en/features.persistent-connections.php seem far worse
for us than the giant red "warning".

So, I propose a patch (to Wordpress v.3.5.1).


Please always patch current trunk, or at worst, latest stable (3.6).
Indeed, 3.5.1 isn't even the latest stable in the 3.5 branch.

Nacin

From rarylson at gmail.com  Fri Aug 23 16:56:26 2013
From: rarylson at gmail.com (Rarylson Freitas)
Date: Fri, 23 Aug 2013 13:56:26 -0300
Subject: [wp-hackers] Wordpress - Database persistent connection support
In-Reply-To: <CAP29PviZmdQfLA=Rwke3DBQ2yXxeUY-4VepiBUvQLziAecLvSA@mail.gmail.com>
References: <CAB_n18CYAT+maL_cEBmbC33Hz_U_RTA-FZsj6eAUzYibx20kEw@mail.gmail.com>
 <CAP29PviZmdQfLA=Rwke3DBQ2yXxeUY-4VepiBUvQLziAecLvSA@mail.gmail.com>
Message-ID: <CAB_n18B717Bp1xoANAh7VuqWmgzQdQCPd-spaLvUJJ0GHGJvZQ@mail.gmail.com>

> Interestingly, the "drawbacks" covered on
> http://php.net/manual/en/features.persistent-connections.php<http://php.net/manual/en/features.persistent-connections.php> seem
far worse
> for us than the giant red "warning".

Yes, it's true. Basically, there was two major problems with persistent
connections.

- If the applications opens a transaction and not commit. In a non
persistent connection, there was no problem, because the query will be
commit when we call mysql_close(). But it's an application bug, and not an
error in the persistent connection method;

- If the application pooling (for example, a PHP-FPM pooling) creates more
connections than the maximum allowed in MySQL, we'll get a "Too Many
Connections" error. But it's a configuration error (a project error). In
these case, the developer must either increase your MySQL simultaneous
connection limit or uses a more sophisticated pooling method (not your
simple mysql_pconnect method).

Because of this, I proposed this option must be configurable and the
default behavior must be "persistent connections = disabled".

> If this had a benefit to sites on overloaded shared servers, I would think
> someone (if not a hosting company) would have proposed it at some point in
> the last six years. This anecdotally suggests to me that there is limited
> benefit or even detriment for most sites.

It makes sense. However, my team successfully improved applications
performance (not in Wordpress, neither in PHP, but in others systems) in
the past using persistent connections.

Maybe there was few only beneficts using persistent connections in
Wordpress, but my application shows that, using non persistent connections,
a lot of TIME_WAIT stills in the netstat output (and we're using a reduced
TIME_WAIT timeout value).

> HyperDB also has hypothetical
> persistent connection support, but it is turned off by default and I am
> unsure if anyone uses it.

I already use WP Super Cache. Recently, I knew W3 Total Cache. Now, I'll
study about HyperDB.
Thanks for the tip!

> Please always patch current trunk, or at worst, latest stable (3.6).
> Indeed, 3.5.1 isn't even the latest stable in the 3.5 branch.

Thanks. If in the future, I propose some patch and it makes sense, I'll
make it based in the most recent Trunk Version.

--
*Rarylson Freitas
*Computer Enginner


On Fri, Aug 23, 2013 at 1:27 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Fri, Aug 23, 2013 at 12:03 PM, Rarylson Freitas <rarylson at gmail.com
> >wrote:
>
> > I see that Wordpress uses the mysql_connect funcion in wp-db.php file.
> So,
> > the db_connect() function always return a non persistent connection to
> the
> > database.
>
>
> I was discussing this with a few others this week. This is interesting, but
> it isn't clear how much it would help. It is my understanding that we would
> need to monitor connection limits and open connections, especially on
> shared servers. It might be nice to add a flag (as proposed) but it would
> make sense to figure out whether this makes sense as a default, and if not,
> why not, as that in itself could be informative to the dangers of using
> persistent connections.
>
> If this had a benefit to sites on overloaded shared servers, I would think
> someone (if not a hosting company) would have proposed it at some point in
> the last six years. This anecdotally suggests to me that there is limited
> benefit or even detriment for most sites. HyperDB also has hypothetical
> persistent connection support, but it is turned off by default and I am
> unsure if anyone uses it.
>
> So, I propose a patch (to Wordpress v.3.5.1).
>
>
> Please always patch current trunk, or at worst, latest stable (3.6).
> Indeed, 3.5.1 isn't even the latest stable in the 3.5 branch.
>
> Nacin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From greglancaster71 at gmail.com  Sat Aug 24 23:22:46 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Sat, 24 Aug 2013 16:22:46 -0700 (PDT)
Subject: [wp-hackers] Creating / Inserting into Table named after WP Username
Message-ID: <1377386566637-42095.post@n5.nabble.com>

I am playing with something, and need a snippet of code. I am trying to have
a php form submit data into a table, a table with the same name as the
current user.  Can someone help me out and share the call for this?

This code works to call information from the database;

  <?php $result = mysql_query("SELECT * FROM $current_user->user_login",
$connection);


But in the submit.php, it does not work in the INSERT INTO $current_user
etc...   



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Creating-Inserting-into-Table-named-after-WP-Username-tp42095.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From chris at lod.com  Sat Aug 24 23:25:45 2013
From: chris at lod.com (Chris McCoy)
Date: Sat, 24 Aug 2013 19:25:45 -0400
Subject: [wp-hackers] Creating / Inserting into Table named after WP
 Username
In-Reply-To: <1377386566637-42095.post@n5.nabble.com>
Message-ID: <CE3EB90F.2BF9%chris@lod.com>

did you add the global $current_user;
?


On 2013-08-24 7:22 PM, "BenderisGreat" <greglancaster71 at gmail.com> wrote:

>I am playing with something, and need a snippet of code. I am trying to
>have
>a php form submit data into a table, a table with the same name as the
>current user.  Can someone help me out and share the call for this?
>
>This code works to call information from the database;
>
>  <?php $result = mysql_query("SELECT * FROM $current_user->user_login",
>$connection);
>
>
>But in the submit.php, it does not work in the INSERT INTO $current_user
>etc...   
>
>
>
>--
>View this message in context:
>http://wordpress-hackers.1065353.n5.nabble.com/Creating-Inserting-into-Tab
>le-named-after-WP-Username-tp42095.html
>Sent from the Wordpress Hackers mailing list archive at Nabble.com.
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers



From greglancaster71 at gmail.com  Sat Aug 24 23:40:01 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Sat, 24 Aug 2013 16:40:01 -0700 (PDT)
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CE3EB90F.2BF9%chris@lod.com>
References: <1377386566637-42095.post@n5.nabble.com>
 <CE3EB90F.2BF9%chris@lod.com>
Message-ID: <1377387601970-42097.post@n5.nabble.com>

I have tried it with no success;


$sql="INSERT INTO 'tracking_users' '.GLOBAL $current_user->user_login.'
VALUES ($_POST[firstname]')";

as well as :

$db_name = $current_user->user_login;
function addit() {
GLOBAL $db_name;
}

$sql="INSERT INTO 'tracking_users' ('.$db_name.') VALUES
($_POST[firstname]')";



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Creating-Inserting-into-Table-named-after-WP-Username-tp42095p42097.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From greglancaster71 at gmail.com  Sun Aug 25 00:23:20 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Sat, 24 Aug 2013 17:23:20 -0700 (PDT)
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <1377387601970-42097.post@n5.nabble.com>
References: <1377386566637-42095.post@n5.nabble.com>
 <CE3EB90F.2BF9%chris@lod.com> <1377387601970-42097.post@n5.nabble.com>
Message-ID: <1377390200402-42098.post@n5.nabble.com>

This isnt working, I need to grab the active logged in user via Sql but I am
unsure how. 



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Creating-Inserting-into-Table-named-after-WP-Username-tp42095p42098.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From abdussamad at abdussamad.com  Sun Aug 25 00:23:38 2013
From: abdussamad at abdussamad.com (Abdussamad Abdurrazzaq)
Date: Sun, 25 Aug 2013 05:23:38 +0500
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <1377387601970-42097.post@n5.nabble.com>
References: <1377386566637-42095.post@n5.nabble.com>
 <CE3EB90F.2BF9%chris@lod.com> <1377387601970-42097.post@n5.nabble.com>
Message-ID: <52194E8A.1080909@abdussamad.com>

Your php is incorrect:

http://www.php.net/manual/en/language.variables.scope.php

On 08/25/2013 04:40 AM, BenderisGreat wrote:
> I have tried it with no success;
>
>
> $sql="INSERT INTO 'tracking_users' '.GLOBAL $current_user->user_login.'
> VALUES ($_POST[firstname]')";
>
> as well as :
>
> $db_name = $current_user->user_login;
> function addit() {
> GLOBAL $db_name;
> }
>
> $sql="INSERT INTO 'tracking_users' ('.$db_name.') VALUES
> ($_POST[firstname]')";
>
>
>
> --
> View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Creating-Inserting-into-Table-named-after-WP-Username-tp42095p42097.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From abdussamad at abdussamad.com  Sun Aug 25 00:26:40 2013
From: abdussamad at abdussamad.com (Abdussamad Abdurrazzaq)
Date: Sun, 25 Aug 2013 05:26:40 +0500
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <1377390200402-42098.post@n5.nabble.com>
References: <1377386566637-42095.post@n5.nabble.com>
 <CE3EB90F.2BF9%chris@lod.com> <1377387601970-42097.post@n5.nabble.com>
 <1377390200402-42098.post@n5.nabble.com>
Message-ID: <52194F40.8070404@abdussamad.com>

As I said in my last message your usage of the global keyword is 
incorrect and creating a separate table for each user is probably not a 
good idea.

On 08/25/2013 05:23 AM, BenderisGreat wrote:
> This isnt working, I need to grab the active logged in user via Sql but I am
> unsure how.
>
>
>
> --
> View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Creating-Inserting-into-Table-named-after-WP-Username-tp42095p42098.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lists at rotorised.com  Sun Aug 25 01:42:07 2013
From: lists at rotorised.com (Ryan McCue)
Date: Sun, 25 Aug 2013 11:42:07 +1000
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <1377390200402-42098.post@n5.nabble.com>
References: <1377386566637-42095.post@n5.nabble.com>
 <CE3EB90F.2BF9%chris@lod.com> <1377387601970-42097.post@n5.nabble.com>
 <1377390200402-42098.post@n5.nabble.com>
Message-ID: <521960EF.1060502@rotorised.com>

BenderisGreat wrote:
> This isnt working, I need to grab the active logged in user via Sql but I am
> unsure how. 

I'm not quite sure what you're trying to do here, but you can't get the
current user via SQL, it's set via cookies.

If you're doing this in a plugin/theme, then please don't use raw SQL
queries for this. The global $current_user contains all the data you'll
need, and if you need to store custom data for the user, please use user
meta instead of custom tables.

If you're doing this in some separate application, you need to load WP
in and use the authentication functions to get at the data.

More information would be helpful so that we know what you're trying to do.

-- 
Ryan McCue
<http://ryanmccue.info/>

From will.davis at gmail.com  Sun Aug 25 03:19:34 2013
From: will.davis at gmail.com (William P. Davis)
Date: Sun, 25 Aug 2013 03:19:34 +0000
Subject: [wp-hackers] Creating / Inserting into Table named after
	WP	Username
In-Reply-To: <521960EF.1060502@rotorised.com>
References: <1377386566637-42095.post@n5.nabble.com>
 <CE3EB90F.2BF9%chris@lod.com>
 <1377387601970-42097.post@n5.nabble.com>
 <1377390200402-42098.post@n5.nabble.com>
 <521960EF.1060502@rotorised.com>
Message-ID: <624275326-1377400777-cardhu_decombobulator_blackberry.rim.net-109665760-@b16.c4.bise6.blackberry>

Can you explain what you're trying to do here? We might be able to find a method that doesn't need to create a table for each user, which would get around this problem entirely. 

Will
Sent from my BlackBerry

-----Original Message-----
From: Ryan McCue <lists at rotorised.com>
Sender: "wp-hackers" <wp-hackers-bounces at lists.automattic.com>Date: Sun, 25 Aug 2013 11:42:07 
To: <wp-hackers at lists.automattic.com>
Reply-To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Creating / Inserting into Table named after WP
	Username

BenderisGreat wrote:
> This isnt working, I need to grab the active logged in user via Sql but I am
> unsure how. 

I'm not quite sure what you're trying to do here, but you can't get the
current user via SQL, it's set via cookies.

If you're doing this in a plugin/theme, then please don't use raw SQL
queries for this. The global $current_user contains all the data you'll
need, and if you need to store custom data for the user, please use user
meta instead of custom tables.

If you're doing this in some separate application, you need to load WP
in and use the authentication functions to get at the data.

More information would be helpful so that we know what you're trying to do.

-- 
Ryan McCue
<http://ryanmccue.info/>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From greglancaster71 at gmail.com  Sun Aug 25 05:55:09 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Sat, 24 Aug 2013 22:55:09 -0700
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <624275326-1377400777-cardhu_decombobulator_blackberry.rim.net-109665760-@b16.c4.bise6.blackberry>
References: <1377386566637-42095.post@n5.nabble.com>
 <CE3EB90F.2BF9%chris@lod.com>
 <1377387601970-42097.post@n5.nabble.com>
 <1377390200402-42098.post@n5.nabble.com>
 <521960EF.1060502@rotorised.com>
 <624275326-1377400777-cardhu_decombobulator_blackberry.rim.net-109665760-@b16.c4.bise6.blackberry>
Message-ID: <CAPN-N+YFv+80__iE7_rcRaNNQ60MGQBKK_yuH05bM73MKjGvBg@mail.gmail.com>

Woah thanks for the help guys.  @Ryan - I am storing custom data, but the
user meta only allows for me to store two fields.  The custom data need to
use the INSERT INTO so I have a list of data entered for each user.  Right
now I am trying to figure how I can hook into (terminology right?) the
wp_users and create a new table in a sep database for each user that
registers.

The idea is to create a profile page where users can store more data than
they can normally.  Upload more than one picture etc.  If there is a more
intelligent way to do this PLEASE share!  The user_meta is limited though,
thats why I opted to make my own db.


On Sat, Aug 24, 2013 at 8:19 PM, William P. Davis <will.davis at gmail.com>wrote:

> Can you explain what you're trying to do here? We might be able to find a
> method that doesn't need to create a table for each user, which would get
> around this problem entirely.
>
> Will
> Sent from my BlackBerry
>
> -----Original Message-----
> From: Ryan McCue <lists at rotorised.com>
> Sender: "wp-hackers" <wp-hackers-bounces at lists.automattic.com>Date: Sun,
> 25 Aug 2013 11:42:07
> To: <wp-hackers at lists.automattic.com>
> Reply-To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Creating / Inserting into Table named after WP
>         Username
>
> BenderisGreat wrote:
> > This isnt working, I need to grab the active logged in user via Sql but
> I am
> > unsure how.
>
> I'm not quite sure what you're trying to do here, but you can't get the
> current user via SQL, it's set via cookies.
>
> If you're doing this in a plugin/theme, then please don't use raw SQL
> queries for this. The global $current_user contains all the data you'll
> need, and if you need to store custom data for the user, please use user
> meta instead of custom tables.
>
> If you're doing this in some separate application, you need to load WP
> in and use the authentication functions to get at the data.
>
> More information would be helpful so that we know what you're trying to do.
>
> --
> Ryan McCue
> <http://ryanmccue.info/>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lists at rotorised.com  Sun Aug 25 05:59:02 2013
From: lists at rotorised.com (Ryan McCue)
Date: Sun, 25 Aug 2013 15:59:02 +1000
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CAPN-N+YFv+80__iE7_rcRaNNQ60MGQBKK_yuH05bM73MKjGvBg@mail.gmail.com>
References: <1377386566637-42095.post@n5.nabble.com>
 <CE3EB90F.2BF9%chris@lod.com> <1377387601970-42097.post@n5.nabble.com>
 <1377390200402-42098.post@n5.nabble.com> <521960EF.1060502@rotorised.com>
 <624275326-1377400777-cardhu_decombobulator_blackberry.rim.net-109665760-@b16.c4.bise6.blackberry>
 <CAPN-N+YFv+80__iE7_rcRaNNQ60MGQBKK_yuH05bM73MKjGvBg@mail.gmail.com>
Message-ID: <52199D26.2090800@rotorised.com>

Gregory Lancaster wrote:
> The idea is to create a profile page where users can store more data than
> they can normally.  Upload more than one picture etc.  If there is a more
> intelligent way to do this PLEASE share!  The user_meta is limited though,
> thats why I opted to make my own db.

You can store arrays or objects in the meta fields, which is the
preferred way to handle something like this. Creating extra tables is
not the correct way to do it.

(Internally, these are run through serialize(), then unserialize() on
access.)

-- 
Ryan McCue
<http://ryanmccue.info/>

From greglancaster71 at gmail.com  Sun Aug 25 06:06:12 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Sat, 24 Aug 2013 23:06:12 -0700
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <52199D26.2090800@rotorised.com>
References: <1377386566637-42095.post@n5.nabble.com>
 <CE3EB90F.2BF9%chris@lod.com>
 <1377387601970-42097.post@n5.nabble.com>
 <1377390200402-42098.post@n5.nabble.com>
 <521960EF.1060502@rotorised.com>
 <624275326-1377400777-cardhu_decombobulator_blackberry.rim.net-109665760-@b16.c4.bise6.blackberry>
 <CAPN-N+YFv+80__iE7_rcRaNNQ60MGQBKK_yuH05bM73MKjGvBg@mail.gmail.com>
 <52199D26.2090800@rotorised.com>
Message-ID: <CAPN-N+Z49_SdeRbu7_WHDTC+bpStThcinGzjU3z8adRWsXV1kg@mail.gmail.com>

The way the information is being stored, and the information being stored,
really is easier with a database.  I need a historical view of everything a
user entered, along with a date stamp.  SQL makes this simple.  Why is a
separate DB a bad idea?  It is fully functional right now, with the
exception of it being dynamic per user.  Cant figure how to make use of the
*$current_user->user_login; *outside the loop in php.  I am trying to use
it to create a table name that matches the current username.



On Sat, Aug 24, 2013 at 10:59 PM, Ryan McCue <lists at rotorised.com> wrote:

> Gregory Lancaster wrote:
> > The idea is to create a profile page where users can store more data than
> > they can normally.  Upload more than one picture etc.  If there is a more
> > intelligent way to do this PLEASE share!  The user_meta is limited
> though,
> > thats why I opted to make my own db.
>
> You can store arrays or objects in the meta fields, which is the
> preferred way to handle something like this. Creating extra tables is
> not the correct way to do it.
>
> (Internally, these are run through serialize(), then unserialize() on
> access.)
>
> --
> Ryan McCue
> <http://ryanmccue.info/>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at dd32.id.au  Sun Aug 25 06:20:48 2013
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 25 Aug 2013 16:20:48 +1000
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CAPN-N+Z49_SdeRbu7_WHDTC+bpStThcinGzjU3z8adRWsXV1kg@mail.gmail.com>
References: <1377386566637-42095.post@n5.nabble.com>
 <CE3EB90F.2BF9%chris@lod.com>
 <1377387601970-42097.post@n5.nabble.com>
 <1377390200402-42098.post@n5.nabble.com>
 <521960EF.1060502@rotorised.com>
 <624275326-1377400777-cardhu_decombobulator_blackberry.rim.net-109665760-@b16.c4.bise6.blackberry>
 <CAPN-N+YFv+80__iE7_rcRaNNQ60MGQBKK_yuH05bM73MKjGvBg@mail.gmail.com>
 <52199D26.2090800@rotorised.com>
 <CAPN-N+Z49_SdeRbu7_WHDTC+bpStThcinGzjU3z8adRWsXV1kg@mail.gmail.com>
Message-ID: <CAL4EHfkuqrq6zRTdMRKpW++T0wtU6KKhbNLvWO3XVM12y1A=kQ@mail.gmail.com>

1. Use a single table.. no table-per-user.. ie. { user_id, timestamp,
meta_key, meta_value }

2. Basic PHP:
function whatever() {
  global $current_user;
  return $wpdb->insert( "my_table", array( 'user_id' => $current_user->ID,
'timestamp' => time(), 'meta_key' => 'something', 'meta_value' =>
'whatever' ) );
}


On 25 August 2013 16:06, Gregory Lancaster <greglancaster71 at gmail.com>wrote:

> The way the information is being stored, and the information being stored,
> really is easier with a database.  I need a historical view of everything a
> user entered, along with a date stamp.  SQL makes this simple.  Why is a
> separate DB a bad idea?  It is fully functional right now, with the
> exception of it being dynamic per user.  Cant figure how to make use of the
> *$current_user->user_login; *outside the loop in php.  I am trying to use
> it to create a table name that matches the current username.
>
>
>
> On Sat, Aug 24, 2013 at 10:59 PM, Ryan McCue <lists at rotorised.com> wrote:
>
> > Gregory Lancaster wrote:
> > > The idea is to create a profile page where users can store more data
> than
> > > they can normally.  Upload more than one picture etc.  If there is a
> more
> > > intelligent way to do this PLEASE share!  The user_meta is limited
> > though,
> > > thats why I opted to make my own db.
> >
> > You can store arrays or objects in the meta fields, which is the
> > preferred way to handle something like this. Creating extra tables is
> > not the correct way to do it.
> >
> > (Internally, these are run through serialize(), then unserialize() on
> > access.)
> >
> > --
> > Ryan McCue
> > <http://ryanmccue.info/>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From greglancaster71 at gmail.com  Sun Aug 25 09:16:26 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Sun, 25 Aug 2013 02:16:26 -0700
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CAL4EHfkuqrq6zRTdMRKpW++T0wtU6KKhbNLvWO3XVM12y1A=kQ@mail.gmail.com>
References: <1377386566637-42095.post@n5.nabble.com>
 <CE3EB90F.2BF9%chris@lod.com>
 <1377387601970-42097.post@n5.nabble.com>
 <1377390200402-42098.post@n5.nabble.com>
 <521960EF.1060502@rotorised.com>
 <624275326-1377400777-cardhu_decombobulator_blackberry.rim.net-109665760-@b16.c4.bise6.blackberry>
 <CAPN-N+YFv+80__iE7_rcRaNNQ60MGQBKK_yuH05bM73MKjGvBg@mail.gmail.com>
 <52199D26.2090800@rotorised.com>
 <CAPN-N+Z49_SdeRbu7_WHDTC+bpStThcinGzjU3z8adRWsXV1kg@mail.gmail.com>
 <CAL4EHfkuqrq6zRTdMRKpW++T0wtU6KKhbNLvWO3XVM12y1A=kQ@mail.gmail.com>
Message-ID: <CAPN-N+aW=RkXP1LZmRbCTSq9xXd1OsRfgeDQqZ1qudsJ5XOJNA@mail.gmail.com>

I still don't understand the benefit of using usermeta vs my own database.
 I googled for information about it but don't see any strong opinions one
way or the other.

The only reason I am doing it this way is because I want to have a
historical record - Meaning show the whole table, including all rows, which
will be dated and include several rows.  wp_usermeta only allows for one
value per key and updating it results in the loss of the previous entry.
 That wont work for me.

Additionally, assuming I create a new table in the wordpress database and
associated each entry with the user->id that would still be a very messy
way to store the data for hundreds of users who all have 20-40 entries
each.  Am I missing something here?


On Sat, Aug 24, 2013 at 11:20 PM, Dion Hulse (dd32) <wordpress at dd32.id.au>wrote:

> 1. Use a single table.. no table-per-user.. ie. { user_id, timestamp,
> meta_key, meta_value }
>
> 2. Basic PHP:
> function whatever() {
>   global $current_user;
>   return $wpdb->insert( "my_table", array( 'user_id' => $current_user->ID,
> 'timestamp' => time(), 'meta_key' => 'something', 'meta_value' =>
> 'whatever' ) );
> }
>
>
> On 25 August 2013 16:06, Gregory Lancaster <greglancaster71 at gmail.com
> >wrote:
>
> > The way the information is being stored, and the information being
> stored,
> > really is easier with a database.  I need a historical view of
> everything a
> > user entered, along with a date stamp.  SQL makes this simple.  Why is a
> > separate DB a bad idea?  It is fully functional right now, with the
> > exception of it being dynamic per user.  Cant figure how to make use of
> the
> > *$current_user->user_login; *outside the loop in php.  I am trying to use
> > it to create a table name that matches the current username.
> >
> >
> >
> > On Sat, Aug 24, 2013 at 10:59 PM, Ryan McCue <lists at rotorised.com>
> wrote:
> >
> > > Gregory Lancaster wrote:
> > > > The idea is to create a profile page where users can store more data
> > than
> > > > they can normally.  Upload more than one picture etc.  If there is a
> > more
> > > > intelligent way to do this PLEASE share!  The user_meta is limited
> > > though,
> > > > thats why I opted to make my own db.
> > >
> > > You can store arrays or objects in the meta fields, which is the
> > > preferred way to handle something like this. Creating extra tables is
> > > not the correct way to do it.
> > >
> > > (Internally, these are run through serialize(), then unserialize() on
> > > access.)
> > >
> > > --
> > > Ryan McCue
> > > <http://ryanmccue.info/>
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdg at codesymphony.co  Sun Aug 25 12:50:42 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Sun, 25 Aug 2013 08:50:42 -0400
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CAPN-N+aW=RkXP1LZmRbCTSq9xXd1OsRfgeDQqZ1qudsJ5XOJNA@mail.gmail.com>
References: <1377386566637-42095.post@n5.nabble.com>
 <CE3EB90F.2BF9%chris@lod.com> <1377387601970-42097.post@n5.nabble.com>
 <1377390200402-42098.post@n5.nabble.com> <521960EF.1060502@rotorised.com>
 <624275326-1377400777-cardhu_decombobulator_blackberry.rim.net-109665760-@b16.c4.bise6.blackberry>
 <CAPN-N+YFv+80__iE7_rcRaNNQ60MGQBKK_yuH05bM73MKjGvBg@mail.gmail.com>
 <52199D26.2090800@rotorised.com>
 <CAPN-N+Z49_SdeRbu7_WHDTC+bpStThcinGzjU3z8adRWsXV1kg@mail.gmail.com>
 <CAL4EHfkuqrq6zRTdMRKpW++T0wtU6KKhbNLvWO3XVM12y1A=kQ@mail.gmail.com>
 <CAPN-N+aW=RkXP1LZmRbCTSq9xXd1OsRfgeDQqZ1qudsJ5XOJNA@mail.gmail.com>
Message-ID: <F17E6771-4923-4916-B6BF-640E67513AFF@codesymphony.co>

> I still don't understand the benefit of using usermeta vs my own database.
> I googled for information about it but don't see any strong opinions one
> way or the other.
> 
> The only reason I am doing it this way is because I want to have a
> historical record - Meaning show the whole table, including all rows, which
> will be dated and include several rows.  wp_usermeta only allows for one
> value per key and updating it results in the loss of the previous entry.
> That wont work for me.


In this case, I'd say it makes sense to use a custom table, not usermeta.

> Additionally, assuming I create a new table in the wordpress database and
> associated each entry with the user->id that would still be a very messy
> way to store the data for hundreds of users who all have 20-40 entries
> each.  Am I missing something here?

I guess it's partly a matter of opinion, but I'd say it would be much messier to have hundreds of tables in my database, each with only 20-40 entries in them. Also, if you feel you must do it this way, use a unique prefix for the tables. Otherwise you are just asking for trouble, if someone registers on your site with a username that just happens to match the name of one of your other tables.


From jdg at codesymphony.co  Sun Aug 25 15:49:39 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Sun, 25 Aug 2013 11:49:39 -0400
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <F17E6771-4923-4916-B6BF-640E67513AFF@codesymphony.co>
References: <1377386566637-42095.post@n5.nabble.com>
 <CE3EB90F.2BF9%chris@lod.com> <1377387601970-42097.post@n5.nabble.com>
 <1377390200402-42098.post@n5.nabble.com> <521960EF.1060502@rotorised.com>
 <624275326-1377400777-cardhu_decombobulator_blackberry.rim.net-109665760-@b16.c4.bise6.blackberry>
 <CAPN-N+YFv+80__iE7_rcRaNNQ60MGQBKK_yuH05bM73MKjGvBg@mail.gmail.com>
 <52199D26.2090800@rotorised.com>
 <CAPN-N+Z49_SdeRbu7_WHDTC+bpStThcinGzjU3z8adRWsXV1kg@mail.gmail.com>
 <CAL4EHfkuqrq6zRTdMRKpW++T0wtU6KKhbNLvWO3XVM12y1A=kQ@mail.gmail.com>
 <CAPN-N+aW=RkXP1LZmRbCTSq9xXd1OsRfgeDQqZ1qudsJ5XOJNA@mail.gmail.com>
 <F17E6771-4923-4916-B6BF-640E67513AFF@codesymphony.co>
Message-ID: <2D4F7521-44DA-4776-B07B-64B664043495@codesymphony.co>

> The only reason I am doing it this way is because I want to have a
> historical record - Meaning show the whole table, including all rows, which
> will be dated and include several rows.  wp_usermeta only allows for one
> value per key and updating it results in the loss of the previous entry.
> That wont work for me.

I just wanted to add another comment on this. You *can* have multiple values for the same key in the usermeta table. There can be multiple rows with the same meta_key, and different meta_values. I just wanted to clarify that. So if you wanted to you could store all of your values in the usermeta table with duplicate keys, and add a date as part of the value for each record (as part of an array, for example). But it still sounds to me that in your case, a separate table with a date column would be better.

From guus at inspiration-for-success.com  Mon Aug 26 04:49:12 2013
From: guus at inspiration-for-success.com (Guus (IFS))
Date: Mon, 26 Aug 2013 12:49:12 +0800
Subject: [wp-hackers] Creating / Inserting into Table named after
	WPUsername
References: <1377386566637-42095.post@n5.nabble.com>
 <CE3EB90F.2BF9%chris@lod.com> <1377387601970-42097.post@n5.nabble.com>
 <1377390200402-42098.post@n5.nabble.com> <521960EF.1060502@rotorised.com>
 <624275326-1377400777-cardhu_decombobulator_blackberry.rim.net-109665760-@b16.c4.bise6.blackberry>
 <CAPN-N+YFv+80__iE7_rcRaNNQ60MGQBKK_yuH05bM73MKjGvBg@mail.gmail.com>
 <52199D26.2090800@rotorised.com>
 <CAPN-N+Z49_SdeRbu7_WHDTC+bpStThcinGzjU3z8adRWsXV1kg@mail.gmail.com>
 <CAL4EHfkuqrq6zRTdMRKpW++T0wtU6KKhbNLvWO3XVM12y1A=kQ@mail.gmail.com>
 <CAPN-N+aW=RkXP1LZmRbCTSq9xXd1OsRfgeDQqZ1qudsJ5XOJNA@mail.gmail.com>
 <F17E6771-4923-4916-B6BF-640E67513AFF@codesymphony.co>
 <2D4F7521-44DA-4776-B07B-64B664043495@codesymphony.co>
Message-ID: <D072EF1D2C164D779053D10057EB7F54@megaheights.net>

I did not folllow the whole conversation, but I understand you want to 
create a table per user? I don't think that's a good idea, but you could 
make an additional table and make the user id the index and store then 
something like user id, meta key, meta value, start date, end date.

----- Original Message ----- 
From: "J.D. Grimes" <jdg at codesymphony.co>
To: <wp-hackers at lists.automattic.com>
Sent: Sunday, August 25, 2013 11:49 PM
Subject: Re: [wp-hackers] Creating / Inserting into Table named after 
WPUsername


>> The only reason I am doing it this way is because I want to have a
>> historical record - Meaning show the whole table, including all rows, 
>> which
>> will be dated and include several rows.  wp_usermeta only allows for one
>> value per key and updating it results in the loss of the previous entry.
>> That wont work for me.
>
> I just wanted to add another comment on this. You *can* have multiple 
> values for the same key in the usermeta table. There can be multiple rows 
> with the same meta_key, and different meta_values. I just wanted to 
> clarify that. So if you wanted to you could store all of your values in 
> the usermeta table with duplicate keys, and add a date as part of the 
> value for each record (as part of an array, for example). But it still 
> sounds to me that in your case, a separate table with a date column would 
> be better.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From guus at inspiration-for-success.com  Mon Aug 26 05:33:54 2013
From: guus at inspiration-for-success.com (Guus (IFS))
Date: Mon, 26 Aug 2013 13:33:54 +0800
Subject: [wp-hackers] Fw: Creating / Inserting into Table named
	afterWPUsername
Message-ID: <F20C8A50A33A4A64B64B2641EAEF5784@megaheights.net>

User id not the index of course, but a field (indexed would be nicest).

----- Original Message ----- 
From: "Guus (IFS)" <guus at inspiration-for-success.com>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, August 26, 2013 12:49 PM
Subject: Re: [wp-hackers] Creating / Inserting into Table named
afterWPUsername


>I did not folllow the whole conversation, but I understand you want to
>create a table per user? I don't think that's a good idea, but you could
>make an additional table and make the user id the index and store then
>something like user id, meta key, meta value, start date, end date.
>
> ----- Original Message ----- 
> From: "J.D. Grimes" <jdg at codesymphony.co>
> To: <wp-hackers at lists.automattic.com>
> Sent: Sunday, August 25, 2013 11:49 PM
> Subject: Re: [wp-hackers] Creating / Inserting into Table named after
> WPUsername
>
>
>>> The only reason I am doing it this way is because I want to have a
>>> historical record - Meaning show the whole table, including all rows,
>>> which
>>> will be dated and include several rows.  wp_usermeta only allows for one
>>> value per key and updating it results in the loss of the previous entry.
>>> That wont work for me.
>>
>> I just wanted to add another comment on this. You *can* have multiple
>> values for the same key in the usermeta table. There can be multiple rows
>> with the same meta_key, and different meta_values. I just wanted to
>> clarify that. So if you wanted to you could store all of your values in
>> the usermeta table with duplicate keys, and add a date as part of the
>> value for each record (as part of an array, for example). But it still
>> sounds to me that in your case, a separate table with a date column would
>> be better.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mail.sujaypawar at gmail.com  Mon Aug 26 12:44:30 2013
From: mail.sujaypawar at gmail.com (Sujay Pawar)
Date: Mon, 26 Aug 2013 18:14:30 +0530
Subject: [wp-hackers] WordPress Theme Customizer: How to hide child options
 when parent option isn't selected.
Message-ID: <CACVb6pfz80OaRS_ZHz8tC2Fv7VpyPZZKRGLV9boxkcZknmAz0g@mail.gmail.com>

Hello hackers, could you possibly help me with this?


Quickly -

I'm trying to figure out "How to hide child options when parent option
isn't selected. (in WordPress customizer)

______________


More Details -

There are few bullet points (Parent Options); each might have several child
options under it.

Right now what happens is all parents and child options are visible by
default when I create a new custom control.

Ex -

# Bullet 1
    1
    2
    3
# Bullet 2 (selected)
    I
    II
    III
# Bullet 3
    i
    ii
    iii

______________


And what I want to do is similar to what happens in default "Static Front
Page" customizer setting - The child options should be visible ONLY of the
selected parent option.

Ex -

# Bullet 1
# Bullet 2 (selected)
    I
    II
    III
# Bullet 3

______________

Video -

http://www.youtube.com/watch?v=lT_yw2b4KCM

(Video is taken from www.yourdomain.com/wp-admin/customize.php - In
WordPress Dashboard, Under Appearance -> Themes -> Customize)


Any help would be greatly appreciated.

-- 
____________________
*
Sujay Pawar*

Mobile : +91 90283 90000
Office  : +91 20353 23000

USA Toll Free : +1 85553 - SHARK (74275)

Skype : SUJAYPAWAR

From dyordan1 at ramapo.edu  Mon Aug 26 13:24:50 2013
From: dyordan1 at ramapo.edu (Dobri)
Date: Mon, 26 Aug 2013 09:24:50 -0400
Subject: [wp-hackers] WordPress Theme Customizer: How to hide child
	options when parent option isn't selected.
In-Reply-To: <CACVb6pfz80OaRS_ZHz8tC2Fv7VpyPZZKRGLV9boxkcZknmAz0g@mail.gmail.com>
References: <CACVb6pfz80OaRS_ZHz8tC2Fv7VpyPZZKRGLV9boxkcZknmAz0g@mail.gmail.com>
Message-ID: <75E1FFEA-964D-4B93-BB2B-C3B91B319D3C@ramapo.edu>

Perhaps a JavaScript/jQuery solution?

I'm not sure how classes work for customizer so I'll just give them classes "top-level" and "bottom-level". You can figure out the selector difference I hope

(function($) {

$(document).ready(function(){
	$('.top-level > .bottom-level').hide();
	$('.top-level > input[type=radio]:checked').parent().children('.bottom-level').show();
});

$('.top-level > input[type=radio]').change(function(){
	if($(this).attr('checked'))
	{
		$(this).parent().children('.bottom-level').show();
	}
	else
	{
		$(this).parent().children('.bottom-level').hide();
	}
});

})(jQuery);

Note: this is untested code but I think it should work. Let me know if you have any trouble and I'll try it out in jsbin or something.

~Dobri

On Mon, 26 Aug 2013, at 8:44 AM, Sujay Pawar wrote:

> Hello hackers, could you possibly help me with this?
> 
> 
> Quickly -
> 
> I'm trying to figure out "How to hide child options when parent option
> isn't selected. (in WordPress customizer)
> 
> ______________
> 
> 
> More Details -
> 
> There are few bullet points (Parent Options); each might have several child
> options under it.
> 
> Right now what happens is all parents and child options are visible by
> default when I create a new custom control.
> 
> Ex -
> 
> # Bullet 1
>    1
>    2
>    3
> # Bullet 2 (selected)
>    I
>    II
>    III
> # Bullet 3
>    i
>    ii
>    iii
> 
> ______________
> 
> 
> And what I want to do is similar to what happens in default "Static Front
> Page" customizer setting - The child options should be visible ONLY of the
> selected parent option.
> 
> Ex -
> 
> # Bullet 1
> # Bullet 2 (selected)
>    I
>    II
>    III
> # Bullet 3
> 
> ______________
> 
> Video -
> 
> http://www.youtube.com/watch?v=lT_yw2b4KCM
> 
> (Video is taken from www.yourdomain.com/wp-admin/customize.php - In
> WordPress Dashboard, Under Appearance -> Themes -> Customize)
> 
> 
> Any help would be greatly appreciated.
> 
> -- 
> ____________________
> *
> Sujay Pawar*
> 
> Mobile : +91 90283 90000
> Office  : +91 20353 23000
> 
> USA Toll Free : +1 85553 - SHARK (74275)
> 
> Skype : SUJAYPAWAR
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From greglancaster71 at gmail.com  Mon Aug 26 16:46:22 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Mon, 26 Aug 2013 09:46:22 -0700
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
Message-ID: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>

so i still have the same issue- how to steup the sql to create the table so
it matches the current active user.

On Sunday, August 25, 2013, Guus (IFS) wrote:

> User id not the index of course, but a field (indexed would be nicest).
>
> ----- Original Message ----- From: "Guus (IFS)" <
> guus at inspiration-for-success.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Monday, August 26, 2013 12:49 PM
> Subject: Re: [wp-hackers] Creating / Inserting into Table named
> afterWPUsername
>
>
>  I did not folllow the whole conversation, but I understand you want to
>> create a table per user? I don't think that's a good idea, but you could
>> make an additional table and make the user id the index and store then
>> something like user id, meta key, meta value, start date, end date.
>>
>> ----- Original Message ----- From: "J.D. Grimes" <jdg at codesymphony.co>
>> To: <wp-hackers at lists.automattic.com>
>> Sent: Sunday, August 25, 2013 11:49 PM
>> Subject: Re: [wp-hackers] Creating / Inserting into Table named after
>> WPUsername
>>
>>
>>  The only reason I am doing it this way is because I want to have a
>>>> historical record - Meaning show the whole table, including all rows,
>>>> which
>>>> will be dated and include several rows.  wp_usermeta only allows for one
>>>> value per key and updating it results in the loss of the previous entry.
>>>> That wont work for me.
>>>>
>>>
>>> I just wanted to add another comment on this. You *can* have multiple
>>> values for the same key in the usermeta table. There can be multiple rows
>>> with the same meta_key, and different meta_values. I just wanted to
>>> clarify that. So if you wanted to you could store all of your values in
>>> the usermeta table with duplicate keys, and add a date as part of the
>>> value for each record (as part of an array, for example). But it still
>>> sounds to me that in your case, a separate table with a date column would
>>> be better.
>>> ______________________________**_________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>
>>
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From otto at ottodestruct.com  Mon Aug 26 16:53:23 2013
From: otto at ottodestruct.com (Otto)
Date: Mon, 26 Aug 2013 11:53:23 -0500
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
References: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
Message-ID: <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>

On Mon, Aug 26, 2013 at 11:46 AM, Gregory Lancaster
<greglancaster71 at gmail.com> wrote:
> so i still have the same issue- how to steup the sql to create the table so
> it matches the current active user.

You shouldn't have one table per user. There's no case where that makes sense.

Instead, take your existing table structure, and add a user_id column
onto it to connect the various rows with a specific user.

-Otto

From greglancaster71 at gmail.com  Mon Aug 26 17:53:45 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Mon, 26 Aug 2013 10:53:45 -0700
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>
References: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
 <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>
Message-ID: <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>

I considered that, but I have no idea how to match the user id owning a
row- I am trying to figure that out now.  Its actually why I posted here,
looking for a way to grab the active user ID or login_name and match it to
a table or row.  I tried INSERT INTO $table and that wont work, nor will
any variation with quotes or curly brackets.


On Mon, Aug 26, 2013 at 9:53 AM, Otto <otto at ottodestruct.com> wrote:

> On Mon, Aug 26, 2013 at 11:46 AM, Gregory Lancaster
> <greglancaster71 at gmail.com> wrote:
> > so i still have the same issue- how to steup the sql to create the table
> so
> > it matches the current active user.
>
> You shouldn't have one table per user. There's no case where that makes
> sense.
>
> Instead, take your existing table structure, and add a user_id column
> onto it to connect the various rows with a specific user.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From nl at thoughtrefinery.com  Mon Aug 26 18:11:28 2013
From: nl at thoughtrefinery.com (Nicholas Ciske)
Date: Mon, 26 Aug 2013 13:11:28 -0500
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>
References: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
 <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>
 <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>
Message-ID: <E08B3CA6-5759-4667-95F8-8F80CB0031E0@thoughtrefinery.com>

Use one row per entry, each row has a user (user_id) and date (as well as a auto incrementing primary key).

id - auto-incrementing primary key
user_id - WP user ID (index this column)
entry_date - date this entry was made (could be a date YYYYMMDD or unix timestamp depending on your needs)
(add other columns as needed)

get all rows for a user
SELECT * FROM table_name WHERE user_id = '1';

insert a new row for a user
INSERT INTO table_name (user_id, entry_date, ... ) values ( '1', CURDATE, ... ); // this is just psedocode

You can also query this schema by date (e.g. all entries between dates for a user or all users, etc).

> I tried INSERT INTO $table and that wont work, nor will
> any variation with quotes or curly brackets.


If you're getting errors, sharing those error messages, along with your DB schema and relvant code will go a long way towards getting help -- right now you?re getting high level advice as there's not way to give specific feedback.

_________________________
Nick Ciske
http://thoughtrefinery.com/
@nciske	

On Aug 26, 2013, at 12:53 PM, Gregory Lancaster wrote:

> I considered that, but I have no idea how to match the user id owning a
> row- I am trying to figure that out now.  Its actually why I posted here,
> looking for a way to grab the active user ID or login_name and match it to
> a table or row.  I tried INSERT INTO $table and that wont work, nor will
> any variation with quotes or curly brackets.


From otto at ottodestruct.com  Mon Aug 26 18:11:35 2013
From: otto at ottodestruct.com (Otto)
Date: Mon, 26 Aug 2013 13:11:35 -0500
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>
References: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
 <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>
 <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>
Message-ID: <CAD-FghzRhPQd1rBPe0HqW+LDrEfBJVs53VkSqPxqW4xdxsZSsw@mail.gmail.com>

I guess I'm not really understanding the question or the underlying
problem here then. If you have a table called, say, wp_userstuff
(using the table prefix), and it looks like this:

(
  `user_id` bigint(20) NOT NULL,
  `otherstuff` text NOT NULL
)

Then you can select from it like so:

$current_user = wp_get_current_user();
if ( $current_user->exists() ) {
  $results = $wpdb->get_results( $wpdb->prepare("SELECT * FROM
{$wpdb->prefix}userstuff WHERE user_id = %d", $current_user->ID) );
}

To insert into the table, you could do something similar with
$wpdb->query(), but the $wpdb->insert() function is probably better.

$wpdb->insert( $wpdb->prefix.'userstuff', array( 'user_id' =>
$current_user->ID, 'otherstuff' => 'whatever' ) );

But realistically, usermeta is going to be a better choice if this is
something you need to pull out for every user lookup, since usermeta
is pulled automatically. The only reason to make a separate table for
it is if you have special needs. Your mention of storing "history"
would be a valid need, because you could stick a datetime column on it
to store that information as well.

-Otto



On Mon, Aug 26, 2013 at 12:53 PM, Gregory Lancaster
<greglancaster71 at gmail.com> wrote:
> I considered that, but I have no idea how to match the user id owning a
> row- I am trying to figure that out now.  Its actually why I posted here,
> looking for a way to grab the active user ID or login_name and match it to
> a table or row.  I tried INSERT INTO $table and that wont work, nor will
> any variation with quotes or curly brackets.
>
>
> On Mon, Aug 26, 2013 at 9:53 AM, Otto <otto at ottodestruct.com> wrote:
>
>> On Mon, Aug 26, 2013 at 11:46 AM, Gregory Lancaster
>> <greglancaster71 at gmail.com> wrote:
>> > so i still have the same issue- how to steup the sql to create the table
>> so
>> > it matches the current active user.
>>
>> You shouldn't have one table per user. There's no case where that makes
>> sense.
>>
>> Instead, take your existing table structure, and add a user_id column
>> onto it to connect the various rows with a specific user.
>>
>> -Otto
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From greglancaster71 at gmail.com  Mon Aug 26 18:48:57 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Mon, 26 Aug 2013 11:48:57 -0700
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CAD-FghzRhPQd1rBPe0HqW+LDrEfBJVs53VkSqPxqW4xdxsZSsw@mail.gmail.com>
References: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
 <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>
 <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>
 <CAD-FghzRhPQd1rBPe0HqW+LDrEfBJVs53VkSqPxqW4xdxsZSsw@mail.gmail.com>
Message-ID: <CAPN-N+YZbG+=Z0B7RT06sdJ8CEnFx7AUHPLg9AG7Xm7Em9bsYw@mail.gmail.com>

i appreiate the feedback.  The issue I am obviously explaining very poorly
is that I do not understand how to copy the wordpress ->wp_users ->ID field
into a separate database.  Someone had mentioned hooking into the register
new user code so everytime someone registers new it creates a new table or
row whatever in a sep database with a matching user id.  That is what I am
unclear on how to do.




On Mon, Aug 26, 2013 at 11:11 AM, Otto <otto at ottodestruct.com> wrote:

> I guess I'm not really understanding the question or the underlying
> problem here then. If you have a table called, say, wp_userstuff
> (using the table prefix), and it looks like this:
>
> (
>   `user_id` bigint(20) NOT NULL,
>   `otherstuff` text NOT NULL
> )
>
> Then you can select from it like so:
>
> $current_user = wp_get_current_user();
> if ( $current_user->exists() ) {
>   $results = $wpdb->get_results( $wpdb->prepare("SELECT * FROM
> {$wpdb->prefix}userstuff WHERE user_id = %d", $current_user->ID) );
> }
>
> To insert into the table, you could do something similar with
> $wpdb->query(), but the $wpdb->insert() function is probably better.
>
> $wpdb->insert( $wpdb->prefix.'userstuff', array( 'user_id' =>
> $current_user->ID, 'otherstuff' => 'whatever' ) );
>
> But realistically, usermeta is going to be a better choice if this is
> something you need to pull out for every user lookup, since usermeta
> is pulled automatically. The only reason to make a separate table for
> it is if you have special needs. Your mention of storing "history"
> would be a valid need, because you could stick a datetime column on it
> to store that information as well.
>
> -Otto
>
>
>
> On Mon, Aug 26, 2013 at 12:53 PM, Gregory Lancaster
> <greglancaster71 at gmail.com> wrote:
> > I considered that, but I have no idea how to match the user id owning a
> > row- I am trying to figure that out now.  Its actually why I posted here,
> > looking for a way to grab the active user ID or login_name and match it
> to
> > a table or row.  I tried INSERT INTO $table and that wont work, nor will
> > any variation with quotes or curly brackets.
> >
> >
> > On Mon, Aug 26, 2013 at 9:53 AM, Otto <otto at ottodestruct.com> wrote:
> >
> >> On Mon, Aug 26, 2013 at 11:46 AM, Gregory Lancaster
> >> <greglancaster71 at gmail.com> wrote:
> >> > so i still have the same issue- how to steup the sql to create the
> table
> >> so
> >> > it matches the current active user.
> >>
> >> You shouldn't have one table per user. There's no case where that makes
> >> sense.
> >>
> >> Instead, take your existing table structure, and add a user_id column
> >> onto it to connect the various rows with a specific user.
> >>
> >> -Otto
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From nl at thoughtrefinery.com  Mon Aug 26 18:55:13 2013
From: nl at thoughtrefinery.com (Nicholas Ciske)
Date: Mon, 26 Aug 2013 13:55:13 -0500
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CAPN-N+YZbG+=Z0B7RT06sdJ8CEnFx7AUHPLg9AG7Xm7Em9bsYw@mail.gmail.com>
References: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
 <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>
 <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>
 <CAD-FghzRhPQd1rBPe0HqW+LDrEfBJVs53VkSqPxqW4xdxsZSsw@mail.gmail.com>
 <CAPN-N+YZbG+=Z0B7RT06sdJ8CEnFx7AUHPLg9AG7Xm7Em9bsYw@mail.gmail.com>
Message-ID: <7AE17320-7C77-40D6-932E-C1931F11989F@thoughtrefinery.com>

Ah, you want the hooks related to this... here are the big ones:

New user added to system:
http://codex.wordpress.org/Plugin_API/Action_Reference/user_register

If you want to show something on the user profile page (e.g. the history you mentioned):
show_user_profile

See also:
These hooks relate to users being edited/updated/deleted.

profile_update

edit_user_profile

delete_user

_________________________
Nick Ciske
http://thoughtrefinery.com/
@nciske	

On Aug 26, 2013, at 1:48 PM, Gregory Lancaster wrote:

> i appreiate the feedback.  The issue I am obviously explaining very poorly
> is that I do not understand how to copy the wordpress ->wp_users ->ID field
> into a separate database.  Someone had mentioned hooking into the register
> new user code so everytime someone registers new it creates a new table or
> row whatever in a sep database with a matching user id.  That is what I am
> unclear on how to do.
> 


From jdg at codesymphony.co  Mon Aug 26 18:58:06 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Mon, 26 Aug 2013 14:58:06 -0400
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CAPN-N+YZbG+=Z0B7RT06sdJ8CEnFx7AUHPLg9AG7Xm7Em9bsYw@mail.gmail.com>
References: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
 <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>
 <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>
 <CAD-FghzRhPQd1rBPe0HqW+LDrEfBJVs53VkSqPxqW4xdxsZSsw@mail.gmail.com>
 <CAPN-N+YZbG+=Z0B7RT06sdJ8CEnFx7AUHPLg9AG7Xm7Em9bsYw@mail.gmail.com>
Message-ID: <369928DE-B262-4D22-9D67-EC8AC736D1A7@codesymphony.co>

On Aug 26, 2013, at 2:48 PM, Gregory Lancaster <greglancaster71 at gmail.com> wrote:

> i appreiate the feedback.  The issue I am obviously explaining very poorly
> is that I do not understand how to copy the wordpress ->wp_users ->ID field
> into a separate database.  Someone had mentioned hooking into the register
> new user code so everytime someone registers new it creates a new table or
> row whatever in a sep database with a matching user id.  That is what I am
> unclear on how to do.

It sounds like you are trying to set up this metadata in the table(s) ahead of time (before the data is ever called for). Why do you need to do that? The general way of doing things is that you check if the data exists in the database, and if not, then you add defaults or whatever. In other words, why do you need to set all of the user's data up ahead of time instead of just setting it up as needed on the fly? That is the best way to do it in my opinion.


From greglancaster71 at gmail.com  Mon Aug 26 19:06:06 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Mon, 26 Aug 2013 12:06:06 -0700
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <369928DE-B262-4D22-9D67-EC8AC736D1A7@codesymphony.co>
References: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
 <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>
 <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>
 <CAD-FghzRhPQd1rBPe0HqW+LDrEfBJVs53VkSqPxqW4xdxsZSsw@mail.gmail.com>
 <CAPN-N+YZbG+=Z0B7RT06sdJ8CEnFx7AUHPLg9AG7Xm7Em9bsYw@mail.gmail.com>
 <369928DE-B262-4D22-9D67-EC8AC736D1A7@codesymphony.co>
Message-ID: <CAPN-N+aXt5vJHYQYdW1whwq9yqckX65-ckLjwVkJZS7RyYx38Q@mail.gmail.com>

When you say on the fly, you mean (for example) when a user registers, have
the user ID copied over into a sep database?  That is actually what I am
trying to figure out haha.  Id like to have the user->ID copied into a
separate database row *(or create a new table with the user-ID as the table
name)* after registration. If I could figure that out then I imagine the
rest would fall into place for me.  The WP loop is something I am still
learning, so I really appreciate the reference information *Nicholas. *

*J.D* - Is that what you meant? Did I understand your question correctly?

if current_user->ID if exists fetch array($result) echo $row[1]  etc...


On Mon, Aug 26, 2013 at 11:58 AM, J.D. Grimes <jdg at codesymphony.co> wrote:

> On Aug 26, 2013, at 2:48 PM, Gregory Lancaster <greglancaster71 at gmail.com>
> wrote:
>
> > i appreiate the feedback.  The issue I am obviously explaining very
> poorly
> > is that I do not understand how to copy the wordpress ->wp_users ->ID
> field
> > into a separate database.  Someone had mentioned hooking into the
> register
> > new user code so everytime someone registers new it creates a new table
> or
> > row whatever in a sep database with a matching user id.  That is what I
> am
> > unclear on how to do.
>
> It sounds like you are trying to set up this metadata in the table(s)
> ahead of time (before the data is ever called for). Why do you need to do
> that? The general way of doing things is that you check if the data exists
> in the database, and if not, then you add defaults or whatever. In other
> words, why do you need to set all of the user's data up ahead of time
> instead of just setting it up as needed on the fly? That is the best way to
> do it in my opinion.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdg at codesymphony.co  Mon Aug 26 19:17:07 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Mon, 26 Aug 2013 15:17:07 -0400
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CAPN-N+aXt5vJHYQYdW1whwq9yqckX65-ckLjwVkJZS7RyYx38Q@mail.gmail.com>
References: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
 <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>
 <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>
 <CAD-FghzRhPQd1rBPe0HqW+LDrEfBJVs53VkSqPxqW4xdxsZSsw@mail.gmail.com>
 <CAPN-N+YZbG+=Z0B7RT06sdJ8CEnFx7AUHPLg9AG7Xm7Em9bsYw@mail.gmail.com>
 <369928DE-B262-4D22-9D67-EC8AC736D1A7@codesymphony.co>
 <CAPN-N+aXt5vJHYQYdW1whwq9yqckX65-ckLjwVkJZS7RyYx38Q@mail.gmail.com>
Message-ID: <B7B0C1DC-2E03-43EE-A5A2-8E9D21BD0177@codesymphony.co>

On Aug 26, 2013, at 3:06 PM, Gregory Lancaster <greglancaster71 at gmail.com> wrote:

> When you say on the fly, you mean (for example) when a user registers, have
> the user ID copied over into a sep database?  That is actually what I am
> trying to figure out haha.  Id like to have the user->ID copied into a
> separate database row *(or create a new table with the user-ID as the table
> name)* after registration. If I could figure that out then I imagine the
> rest would fall into place for me.  The WP loop is something I am still
> learning, so I really appreciate the reference information *Nicholas. *
> 
> *J.D* - Is that what you meant? Did I understand your question correctly?
> 
> if current_user->ID if exists fetch array($result) echo $row[1]  etc...

Not exactly what I mean. My question was why are you copying the user_ID over at that time - but that may not really be important.

If you need to add some information do the database when a user registers, then you wan to use the user_register action hook as Nicholas said.

http://codex.wordpress.org/Plugin_API/Action_Reference/user_register

But in your function hooked to that hook, you do *not* want to use the ID of the current user. You need to use the ID of the user that has just registered, which will be passed as the first parameter to your hooked function, as shown in the examples there.

Back to my question, though, I'm not sure why you feel you need to do this at the time the user registers. I assume that it has something to do with the date/time oriented aspect of the data that you want to store? I.e., I guess you have some entries that need to go in at that time so they will be dated properly? But you are going to have to do this differently for registered users...

From greglancaster71 at gmail.com  Mon Aug 26 19:28:23 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Mon, 26 Aug 2013 12:28:23 -0700
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <B7B0C1DC-2E03-43EE-A5A2-8E9D21BD0177@codesymphony.co>
References: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
 <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>
 <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>
 <CAD-FghzRhPQd1rBPe0HqW+LDrEfBJVs53VkSqPxqW4xdxsZSsw@mail.gmail.com>
 <CAPN-N+YZbG+=Z0B7RT06sdJ8CEnFx7AUHPLg9AG7Xm7Em9bsYw@mail.gmail.com>
 <369928DE-B262-4D22-9D67-EC8AC736D1A7@codesymphony.co>
 <CAPN-N+aXt5vJHYQYdW1whwq9yqckX65-ckLjwVkJZS7RyYx38Q@mail.gmail.com>
 <B7B0C1DC-2E03-43EE-A5A2-8E9D21BD0177@codesymphony.co>
Message-ID: <CAPN-N+axRVEMBAtauE1UeRfsBiYyBN4wovYmokcmS+QZ0qysdA@mail.gmail.com>

OH I understand what you're asking.

I want to pass the User_ID to the new table upon registering because I am
coding this for a profile page of sorts.  So after registering, and
confirming registration they will load up say site.com/profile which will
dynamically pull their information from a separate table using their
user_id.  From that page they can enter different information that would be
saved in this separate database (for each user).

So the extra information they will be adding does not need to be added
right away, however to load the profile page with their display_name and
basic information I do need the information passed.  Now that you bring it
up however, I suppose I could have the profile page just check if the
current user_id exists, and if yes then show the basic profile page with
just their display_name etc.  But either way, once they enter information
into the on page form and submit it, the user-ID needs to be passed.

Which is where I came up with passing the current user ID, since they would
already be logged in and registered. Really most of the questions I asked
in this thread are variations of "how can I take the user_id and pass it to
a separate database upon registration (or upon form submit) so the
information in their specific table can be dumped back on their profile
page for viewing.

The information will (ideally) be outputted into a format where I could
format it with google charts or some type of visual display for them.

I hope that clarifies man, and again I am new to the loop so I apologize if
I am driving anyone insane here.  Any advice welcome :)


On Mon, Aug 26, 2013 at 12:17 PM, J.D. Grimes <jdg at codesymphony.co> wrote:

> On Aug 26, 2013, at 3:06 PM, Gregory Lancaster <greglancaster71 at gmail.com>
> wrote:
>
> > When you say on the fly, you mean (for example) when a user registers,
> have
> > the user ID copied over into a sep database?  That is actually what I am
> > trying to figure out haha.  Id like to have the user->ID copied into a
> > separate database row *(or create a new table with the user-ID as the
> table
> > name)* after registration. If I could figure that out then I imagine the
> > rest would fall into place for me.  The WP loop is something I am still
> > learning, so I really appreciate the reference information *Nicholas. *
> >
> > *J.D* - Is that what you meant? Did I understand your question correctly?
> >
> > if current_user->ID if exists fetch array($result) echo $row[1]  etc...
>
> Not exactly what I mean. My question was why are you copying the user_ID
> over at that time - but that may not really be important.
>
> If you need to add some information do the database when a user registers,
> then you wan to use the user_register action hook as Nicholas said.
>
> http://codex.wordpress.org/Plugin_API/Action_Reference/user_register
>
> But in your function hooked to that hook, you do *not* want to use the ID
> of the current user. You need to use the ID of the user that has just
> registered, which will be passed as the first parameter to your hooked
> function, as shown in the examples there.
>
> Back to my question, though, I'm not sure why you feel you need to do this
> at the time the user registers. I assume that it has something to do with
> the date/time oriented aspect of the data that you want to store? I.e., I
> guess you have some entries that need to go in at that time so they will be
> dated properly? But you are going to have to do this differently for
> registered users...
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



On Mon, Aug 26, 2013 at 12:17 PM, J.D. Grimes <jdg at codesymphony.co> wrote:

> On Aug 26, 2013, at 3:06 PM, Gregory Lancaster <greglancaster71 at gmail.com>
> wrote:
>
> > When you say on the fly, you mean (for example) when a user registers,
> have
> > the user ID copied over into a sep database?  That is actually what I am
> > trying to figure out haha.  Id like to have the user->ID copied into a
> > separate database row *(or create a new table with the user-ID as the
> table
> > name)* after registration. If I could figure that out then I imagine the
> > rest would fall into place for me.  The WP loop is something I am still
> > learning, so I really appreciate the reference information *Nicholas. *
> >
> > *J.D* - Is that what you meant? Did I understand your question correctly?
> >
> > if current_user->ID if exists fetch array($result) echo $row[1]  etc...
>
> Not exactly what I mean. My question was why are you copying the user_ID
> over at that time - but that may not really be important.
>
> If you need to add some information do the database when a user registers,
> then you wan to use the user_register action hook as Nicholas said.
>
> http://codex.wordpress.org/Plugin_API/Action_Reference/user_register
>
> But in your function hooked to that hook, you do *not* want to use the ID
> of the current user. You need to use the ID of the user that has just
> registered, which will be passed as the first parameter to your hooked
> function, as shown in the examples there.
>
> Back to my question, though, I'm not sure why you feel you need to do this
> at the time the user registers. I assume that it has something to do with
> the date/time oriented aspect of the data that you want to store? I.e., I
> guess you have some entries that need to go in at that time so they will be
> dated properly? But you are going to have to do this differently for
> registered users...
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From greglancaster71 at gmail.com  Mon Aug 26 19:33:56 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Mon, 26 Aug 2013 12:33:56 -0700
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CAPN-N+axRVEMBAtauE1UeRfsBiYyBN4wovYmokcmS+QZ0qysdA@mail.gmail.com>
References: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
 <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>
 <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>
 <CAD-FghzRhPQd1rBPe0HqW+LDrEfBJVs53VkSqPxqW4xdxsZSsw@mail.gmail.com>
 <CAPN-N+YZbG+=Z0B7RT06sdJ8CEnFx7AUHPLg9AG7Xm7Em9bsYw@mail.gmail.com>
 <369928DE-B262-4D22-9D67-EC8AC736D1A7@codesymphony.co>
 <CAPN-N+aXt5vJHYQYdW1whwq9yqckX65-ckLjwVkJZS7RyYx38Q@mail.gmail.com>
 <B7B0C1DC-2E03-43EE-A5A2-8E9D21BD0177@codesymphony.co>
 <CAPN-N+axRVEMBAtauE1UeRfsBiYyBN4wovYmokcmS+QZ0qysdA@mail.gmail.com>
Message-ID: <CAPN-N+Y1pi77kZgD96n9z4X-pobaUqjtEkTt_+7NZSUFhbfp4g@mail.gmail.com>

I should add, that the on page form used to submit this information is used
multiple times for dated information input.  So if I use one table rather
than a table for each user_id then every row (and every button submit)
needs to grab the user-ID and input that with the form information so it
can be extracted.  Thats why I was opting for table names prefixed with the
user-id rather than rows with a user ID column.


On Mon, Aug 26, 2013 at 12:28 PM, Gregory Lancaster <
greglancaster71 at gmail.com> wrote:

> OH I understand what you're asking.
>
> I want to pass the User_ID to the new table upon registering because I am
> coding this for a profile page of sorts.  So after registering, and
> confirming registration they will load up say site.com/profile which will
> dynamically pull their information from a separate table using their
> user_id.  From that page they can enter different information that would be
> saved in this separate database (for each user).
>
> So the extra information they will be adding does not need to be added
> right away, however to load the profile page with their display_name and
> basic information I do need the information passed.  Now that you bring it
> up however, I suppose I could have the profile page just check if the
> current user_id exists, and if yes then show the basic profile page with
> just their display_name etc.  But either way, once they enter information
> into the on page form and submit it, the user-ID needs to be passed.
>
> Which is where I came up with passing the current user ID, since they
> would already be logged in and registered. Really most of the questions I
> asked in this thread are variations of "how can I take the user_id and pass
> it to a separate database upon registration (or upon form submit) so the
> information in their specific table can be dumped back on their profile
> page for viewing.
>
> The information will (ideally) be outputted into a format where I could
> format it with google charts or some type of visual display for them.
>
> I hope that clarifies man, and again I am new to the loop so I apologize
> if I am driving anyone insane here.  Any advice welcome :)
>
>
> On Mon, Aug 26, 2013 at 12:17 PM, J.D. Grimes <jdg at codesymphony.co> wrote:
>
>> On Aug 26, 2013, at 3:06 PM, Gregory Lancaster <greglancaster71 at gmail.com>
>> wrote:
>>
>> > When you say on the fly, you mean (for example) when a user registers,
>> have
>> > the user ID copied over into a sep database?  That is actually what I am
>> > trying to figure out haha.  Id like to have the user->ID copied into a
>> > separate database row *(or create a new table with the user-ID as the
>> table
>> > name)* after registration. If I could figure that out then I imagine the
>> > rest would fall into place for me.  The WP loop is something I am still
>> > learning, so I really appreciate the reference information *Nicholas. *
>> >
>> > *J.D* - Is that what you meant? Did I understand your question
>> correctly?
>> >
>> > if current_user->ID if exists fetch array($result) echo $row[1]  etc...
>>
>> Not exactly what I mean. My question was why are you copying the user_ID
>> over at that time - but that may not really be important.
>>
>> If you need to add some information do the database when a user
>> registers, then you wan to use the user_register action hook as Nicholas
>> said.
>>
>> http://codex.wordpress.org/Plugin_API/Action_Reference/user_register
>>
>> But in your function hooked to that hook, you do *not* want to use the ID
>> of the current user. You need to use the ID of the user that has just
>> registered, which will be passed as the first parameter to your hooked
>> function, as shown in the examples there.
>>
>> Back to my question, though, I'm not sure why you feel you need to do
>> this at the time the user registers. I assume that it has something to do
>> with the date/time oriented aspect of the data that you want to store?
>> I.e., I guess you have some entries that need to go in at that time so they
>> will be dated properly? But you are going to have to do this differently
>> for registered users...
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> On Mon, Aug 26, 2013 at 12:17 PM, J.D. Grimes <jdg at codesymphony.co> wrote:
>
>> On Aug 26, 2013, at 3:06 PM, Gregory Lancaster <greglancaster71 at gmail.com>
>> wrote:
>>
>> > When you say on the fly, you mean (for example) when a user registers,
>> have
>> > the user ID copied over into a sep database?  That is actually what I am
>> > trying to figure out haha.  Id like to have the user->ID copied into a
>> > separate database row *(or create a new table with the user-ID as the
>> table
>> > name)* after registration. If I could figure that out then I imagine the
>> > rest would fall into place for me.  The WP loop is something I am still
>> > learning, so I really appreciate the reference information *Nicholas. *
>> >
>> > *J.D* - Is that what you meant? Did I understand your question
>> correctly?
>> >
>> > if current_user->ID if exists fetch array($result) echo $row[1]  etc...
>>
>> Not exactly what I mean. My question was why are you copying the user_ID
>> over at that time - but that may not really be important.
>>
>> If you need to add some information do the database when a user
>> registers, then you wan to use the user_register action hook as Nicholas
>> said.
>>
>> http://codex.wordpress.org/Plugin_API/Action_Reference/user_register
>>
>> But in your function hooked to that hook, you do *not* want to use the ID
>> of the current user. You need to use the ID of the user that has just
>> registered, which will be passed as the first parameter to your hooked
>> function, as shown in the examples there.
>>
>> Back to my question, though, I'm not sure why you feel you need to do
>> this at the time the user registers. I assume that it has something to do
>> with the date/time oriented aspect of the data that you want to store?
>> I.e., I guess you have some entries that need to go in at that time so they
>> will be dated properly? But you are going to have to do this differently
>> for registered users...
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From jdg at codesymphony.co  Mon Aug 26 19:42:43 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Mon, 26 Aug 2013 15:42:43 -0400
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CAPN-N+axRVEMBAtauE1UeRfsBiYyBN4wovYmokcmS+QZ0qysdA@mail.gmail.com>
References: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
 <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>
 <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>
 <CAD-FghzRhPQd1rBPe0HqW+LDrEfBJVs53VkSqPxqW4xdxsZSsw@mail.gmail.com>
 <CAPN-N+YZbG+=Z0B7RT06sdJ8CEnFx7AUHPLg9AG7Xm7Em9bsYw@mail.gmail.com>
 <369928DE-B262-4D22-9D67-EC8AC736D1A7@codesymphony.co>
 <CAPN-N+aXt5vJHYQYdW1whwq9yqckX65-ckLjwVkJZS7RyYx38Q@mail.gmail.com>
 <B7B0C1DC-2E03-43EE-A5A2-8E9D21BD0177@codesymphony.co>
 <CAPN-N+axRVEMBAtauE1UeRfsBiYyBN4wovYmokcmS+QZ0qysdA@mail.gmail.com>
Message-ID: <7C9B9ECB-3D2E-4A26-B1EF-2D2DEFB07646@codesymphony.co>

> Now that you bring it up however, I suppose I could have the profile page just check if the
> current user_id exists, and if yes then show the basic profile page with just their display_name etc.

Yes, I think that is what I would do.

You can get the ID of the current user in several different ways. You can use get_current_user_id() (http://codex.wordpress.org/Function_Reference/get_current_user_id) to get just the ID. If you want o get the WP_User object for the current user, then use wp_get_current_user() (http://codex.wordpress.org/Function_Reference/wp_get_current_user).

> I should add, that the on page form used to submit this information is used
> multiple times for dated information input.  So if I use one table rather
> than a table for each user_id then every row (and every button submit)
> needs to grab the user-ID and input that with the form information so it
> can be extracted.  Thats why I was opting for table names prefixed with the
> user-id rather than rows with a user ID column.

Yes, but one table with a user_id column just makes sense to me. You are going to need to grab the user ID on each submit either way. I definitely wouldn't want to clutter my database with hundreds of tables -- that's a bad idea, trust us on that one.

On Aug 26, 2013, at 3:28 PM, Gregory Lancaster <greglancaster71 at gmail.com> wrote:

> OH I understand what you're asking.
> 
> I want to pass the User_ID to the new table upon registering because I am
> coding this for a profile page of sorts.  So after registering, and
> confirming registration they will load up say site.com/profile which will
> dynamically pull their information from a separate table using their
> user_id.  From that page they can enter different information that would be
> saved in this separate database (for each user).
> 
> So the extra information they will be adding does not need to be added
> right away, however to load the profile page with their display_name and
> basic information I do need the information passed.  Now that you bring it
> up however, I suppose I could have the profile page just check if the
> current user_id exists, and if yes then show the basic profile page with
> just their display_name etc.  But either way, once they enter information
> into the on page form and submit it, the user-ID needs to be passed.
> 
> Which is where I came up with passing the current user ID, since they would
> already be logged in and registered. Really most of the questions I asked
> in this thread are variations of "how can I take the user_id and pass it to
> a separate database upon registration (or upon form submit) so the
> information in their specific table can be dumped back on their profile
> page for viewing.
> 
> The information will (ideally) be outputted into a format where I could
> format it with google charts or some type of visual display for them.
> 
> I hope that clarifies man, and again I am new to the loop so I apologize if
> I am driving anyone insane here.  Any advice welcome :)
> 

From greglancaster71 at gmail.com  Mon Aug 26 19:55:44 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Mon, 26 Aug 2013 12:55:44 -0700
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <7C9B9ECB-3D2E-4A26-B1EF-2D2DEFB07646@codesymphony.co>
References: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
 <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>
 <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>
 <CAD-FghzRhPQd1rBPe0HqW+LDrEfBJVs53VkSqPxqW4xdxsZSsw@mail.gmail.com>
 <CAPN-N+YZbG+=Z0B7RT06sdJ8CEnFx7AUHPLg9AG7Xm7Em9bsYw@mail.gmail.com>
 <369928DE-B262-4D22-9D67-EC8AC736D1A7@codesymphony.co>
 <CAPN-N+aXt5vJHYQYdW1whwq9yqckX65-ckLjwVkJZS7RyYx38Q@mail.gmail.com>
 <B7B0C1DC-2E03-43EE-A5A2-8E9D21BD0177@codesymphony.co>
 <CAPN-N+axRVEMBAtauE1UeRfsBiYyBN4wovYmokcmS+QZ0qysdA@mail.gmail.com>
 <7C9B9ECB-3D2E-4A26-B1EF-2D2DEFB07646@codesymphony.co>
Message-ID: <CAPN-N+YO6aSHN-u8Xsam+2oADjXuy8Xzh2SoreMgdm5w=wSaZw@mail.gmail.com>

Thanks for your help guys - One last question.  My form calls submit.php,
which is a separate file from wordpress obviously.  I have tried using the
get_current_user_id and get_currentuserinfo() within submit with no
success.  How can I get that information?


On Mon, Aug 26, 2013 at 12:42 PM, J.D. Grimes <jdg at codesymphony.co> wrote:

> > Now that you bring it up however, I suppose I could have the profile
> page just check if the
> > current user_id exists, and if yes then show the basic profile page with
> just their display_name etc.
>
> Yes, I think that is what I would do.
>
> You can get the ID of the current user in several different ways. You can
> use get_current_user_id() (
> http://codex.wordpress.org/Function_Reference/get_current_user_id) to get
> just the ID. If you want o get the WP_User object for the current user,
> then use wp_get_current_user() (
> http://codex.wordpress.org/Function_Reference/wp_get_current_user).
>
> > I should add, that the on page form used to submit this information is
> used
> > multiple times for dated information input.  So if I use one table rather
> > than a table for each user_id then every row (and every button submit)
> > needs to grab the user-ID and input that with the form information so it
> > can be extracted.  Thats why I was opting for table names prefixed with
> the
> > user-id rather than rows with a user ID column.
>
> Yes, but one table with a user_id column just makes sense to me. You are
> going to need to grab the user ID on each submit either way. I definitely
> wouldn't want to clutter my database with hundreds of tables -- that's a
> bad idea, trust us on that one.
>
> On Aug 26, 2013, at 3:28 PM, Gregory Lancaster <greglancaster71 at gmail.com>
> wrote:
>
> > OH I understand what you're asking.
> >
> > I want to pass the User_ID to the new table upon registering because I am
> > coding this for a profile page of sorts.  So after registering, and
> > confirming registration they will load up say site.com/profile which
> will
> > dynamically pull their information from a separate table using their
> > user_id.  From that page they can enter different information that would
> be
> > saved in this separate database (for each user).
> >
> > So the extra information they will be adding does not need to be added
> > right away, however to load the profile page with their display_name and
> > basic information I do need the information passed.  Now that you bring
> it
> > up however, I suppose I could have the profile page just check if the
> > current user_id exists, and if yes then show the basic profile page with
> > just their display_name etc.  But either way, once they enter information
> > into the on page form and submit it, the user-ID needs to be passed.
> >
> > Which is where I came up with passing the current user ID, since they
> would
> > already be logged in and registered. Really most of the questions I asked
> > in this thread are variations of "how can I take the user_id and pass it
> to
> > a separate database upon registration (or upon form submit) so the
> > information in their specific table can be dumped back on their profile
> > page for viewing.
> >
> > The information will (ideally) be outputted into a format where I could
> > format it with google charts or some type of visual display for them.
> >
> > I hope that clarifies man, and again I am new to the loop so I apologize
> if
> > I am driving anyone insane here.  Any advice welcome :)
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdg at codesymphony.co  Mon Aug 26 20:02:58 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Mon, 26 Aug 2013 16:02:58 -0400
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <CAPN-N+YO6aSHN-u8Xsam+2oADjXuy8Xzh2SoreMgdm5w=wSaZw@mail.gmail.com>
References: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
 <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>
 <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>
 <CAD-FghzRhPQd1rBPe0HqW+LDrEfBJVs53VkSqPxqW4xdxsZSsw@mail.gmail.com>
 <CAPN-N+YZbG+=Z0B7RT06sdJ8CEnFx7AUHPLg9AG7Xm7Em9bsYw@mail.gmail.com>
 <369928DE-B262-4D22-9D67-EC8AC736D1A7@codesymphony.co>
 <CAPN-N+aXt5vJHYQYdW1whwq9yqckX65-ckLjwVkJZS7RyYx38Q@mail.gmail.com>
 <B7B0C1DC-2E03-43EE-A5A2-8E9D21BD0177@codesymphony.co>
 <CAPN-N+axRVEMBAtauE1UeRfsBiYyBN4wovYmokcmS+QZ0qysdA@mail.gmail.com>
 <7C9B9ECB-3D2E-4A26-B1EF-2D2DEFB07646@codesymphony.co>
 <CAPN-N+YO6aSHN-u8Xsam+2oADjXuy8Xzh2SoreMgdm5w=wSaZw@mail.gmail.com>
Message-ID: <36880125-1171-4245-9546-A8F9E5C56EBD@codesymphony.co>

On Aug 26, 2013, at 3:55 PM, Gregory Lancaster <greglancaster71 at gmail.com> wrote:

> Thanks for your help guys - One last question.  My form calls submit.php,
> which is a separate file from wordpress obviously.  I have tried using the
> get_current_user_id and get_currentuserinfo() within submit with no
> success.  How can I get that information?

You should probably change it so that rather than using an external file, the form submits to the same page within WordPress. Then check if the form is being submitted at the top of the page before displaying the form, and if it has, then save the submitted values (or maybe just include submit.php). Otherwise you will need to manually load WordPress from within your external file.

From greglancaster71 at gmail.com  Mon Aug 26 21:22:18 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Mon, 26 Aug 2013 14:22:18 -0700
Subject: [wp-hackers] Creating / Inserting into Table named after WP
	Username
In-Reply-To: <36880125-1171-4245-9546-A8F9E5C56EBD@codesymphony.co>
References: <CAPN-N+bg+CyswpqdjJz7w=ShAu_QNui8y_9pLBcEX-FM_aG_uw@mail.gmail.com>
 <CAD-FghyyKGRFrchXOAZb7m_0NKp4byJ3Gzf_2Pee7C9x=Ud32Q@mail.gmail.com>
 <CAPN-N+ZPdWKt5_TsArAVoFF6njBJkwG4DvbPxfo+yFL25qUiag@mail.gmail.com>
 <CAD-FghzRhPQd1rBPe0HqW+LDrEfBJVs53VkSqPxqW4xdxsZSsw@mail.gmail.com>
 <CAPN-N+YZbG+=Z0B7RT06sdJ8CEnFx7AUHPLg9AG7Xm7Em9bsYw@mail.gmail.com>
 <369928DE-B262-4D22-9D67-EC8AC736D1A7@codesymphony.co>
 <CAPN-N+aXt5vJHYQYdW1whwq9yqckX65-ckLjwVkJZS7RyYx38Q@mail.gmail.com>
 <B7B0C1DC-2E03-43EE-A5A2-8E9D21BD0177@codesymphony.co>
 <CAPN-N+axRVEMBAtauE1UeRfsBiYyBN4wovYmokcmS+QZ0qysdA@mail.gmail.com>
 <7C9B9ECB-3D2E-4A26-B1EF-2D2DEFB07646@codesymphony.co>
 <CAPN-N+YO6aSHN-u8Xsam+2oADjXuy8Xzh2SoreMgdm5w=wSaZw@mail.gmail.com>
 <36880125-1171-4245-9546-A8F9E5C56EBD@codesymphony.co>
Message-ID: <CAPN-N+ZU5KBNvBYMBoesKrt+52TcyzY_aFB6qsDwNpzrErxaQA@mail.gmail.com>

I got it about 30 mins ago, thanks so much for your help guys.

From andrew.bartel at gmail.com  Mon Aug 26 22:11:11 2013
From: andrew.bartel at gmail.com (Andrew Bartel)
Date: Mon, 26 Aug 2013 15:11:11 -0700
Subject: [wp-hackers] Adding Additional Attributes in Script Tag for 3rd
	party JS
Message-ID: <CAJnHr4hiGuj2NDrtgA4NR4NLPEwQWy_OR1nW0adq54=Ue05e8w@mail.gmail.com>

Hi All,

I asked this question on WPSE:
http://wordpress.stackexchange.com/questions/110929/adding-additional-attributes-in-script-tag-for-3rd-party-js
(and
added a bounty if anyone's interested at taking a crack).

I encountered this trying to add the dropbox dropin chooser app to a plugin
I'm writing.  Their directions are to include  <script type=
"text/javascript" src="https://www.dropbox.com/static/api/1/dropins.js" id=
"dropboxjs" data-app-key="MY_APP_KEY"></script>' in the page.

I'm curious as to what the best practice is to pass additional attributes
to script tags so that the final output includes the attributes in the tag
itself.  Including them with wp_localize_script() didn't seem to get them
registered by dropbox.

What's the best way to get those included when using the
wp_enqueue_script() function?  Or is there an alternate function?  Properly
hooked of course.

Thanks much,

Andrew

From otto at ottodestruct.com  Mon Aug 26 22:36:53 2013
From: otto at ottodestruct.com (Otto)
Date: Mon, 26 Aug 2013 17:36:53 -0500
Subject: [wp-hackers] Adding Additional Attributes in Script Tag for 3rd
 party JS
In-Reply-To: <CAJnHr4hiGuj2NDrtgA4NR4NLPEwQWy_OR1nW0adq54=Ue05e8w@mail.gmail.com>
References: <CAJnHr4hiGuj2NDrtgA4NR4NLPEwQWy_OR1nW0adq54=Ue05e8w@mail.gmail.com>
Message-ID: <CAD-FghyJOYATBJpCLx861khvXfTy+G_xUp+G8c3tjOO7c6C_zA@mail.gmail.com>

On Mon, Aug 26, 2013 at 5:11 PM, Andrew Bartel <andrew.bartel at gmail.com> wrote:
> What's the best way to get those included when using the
> wp_enqueue_script() function?

There is no way to do this short of overriding the WP_Scripts class
entirely to allow for extra attributes.

Even then, it's not possible to override WP_Scripts properly because
it's explicitly declared as a new class without a check or override in
a few admin places (load-scripts, customize, etc).

So basically, print it out yourself in the relevant *_head or
*_print_scripts action. No good way to enqueue it.

-Otto

From andrew.bartel at gmail.com  Mon Aug 26 23:38:56 2013
From: andrew.bartel at gmail.com (Andrew Bartel)
Date: Mon, 26 Aug 2013 16:38:56 -0700
Subject: [wp-hackers] Adding Additional Attributes in Script Tag for 3rd
 party JS
In-Reply-To: <CAD-FghyJOYATBJpCLx861khvXfTy+G_xUp+G8c3tjOO7c6C_zA@mail.gmail.com>
References: <CAJnHr4hiGuj2NDrtgA4NR4NLPEwQWy_OR1nW0adq54=Ue05e8w@mail.gmail.com>
 <CAD-FghyJOYATBJpCLx861khvXfTy+G_xUp+G8c3tjOO7c6C_zA@mail.gmail.com>
Message-ID: <CAJnHr4hjsHF4JF3pjSWuMdtvQWs71+su8siESb9dKat0_06rDA@mail.gmail.com>

Thanks for the quick response and thorough explanation Otto.

-Andrew


On Mon, Aug 26, 2013 at 3:36 PM, Otto <otto at ottodestruct.com> wrote:

> On Mon, Aug 26, 2013 at 5:11 PM, Andrew Bartel <andrew.bartel at gmail.com>
> wrote:
> > What's the best way to get those included when using the
> > wp_enqueue_script() function?
>
> There is no way to do this short of overriding the WP_Scripts class
> entirely to allow for extra attributes.
>
> Even then, it's not possible to override WP_Scripts properly because
> it's explicitly declared as a new class without a check or override in
> a few admin places (load-scripts, customize, etc).
>
> So basically, print it out yourself in the relevant *_head or
> *_print_scripts action. No good way to enqueue it.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From tcbarrett at gmail.com  Wed Aug 28 09:32:05 2013
From: tcbarrett at gmail.com (Tom Barrett)
Date: Wed, 28 Aug 2013 10:32:05 +0100
Subject: [wp-hackers] Disable specific filters only for admin bar
Message-ID: <CAEgmxaZRtzGwJG1-_8MM=FK-8+aWC=XY9FCa=jBU+V-VkayYFA@mail.gmail.com>

Hello

Is it possible to remove (and then re-add) filters just for the admin bar
(on a network enabled installation)?

There is the long way of re-building the whole thing, but I wondered if
there was a tidier way.

Thanks.

-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From tcbarrett at gmail.com  Wed Aug 28 15:05:22 2013
From: tcbarrett at gmail.com (Tom Barrett)
Date: Wed, 28 Aug 2013 16:05:22 +0100
Subject: [wp-hackers] Disable specific filters only for admin bar
In-Reply-To: <CAEgmxaZRtzGwJG1-_8MM=FK-8+aWC=XY9FCa=jBU+V-VkayYFA@mail.gmail.com>
References: <CAEgmxaZRtzGwJG1-_8MM=FK-8+aWC=XY9FCa=jBU+V-VkayYFA@mail.gmail.com>
Message-ID: <CAEgmxaYycSxjx3M=O3XZFiA29Z2Ru4YmzFz31OkOnjikXw5Yqw@mail.gmail.com>

I couldn't find unique start and end hooks, just a series of admin_bar_menu
actions with increasing priority args (wp-includes/class-wp-admin-bar.php).

So I went for this:

/**
 * Remove Domain Mapping filters from admin bar
 * NB: The 'My Account' item (edit profile, login/out is also piority 0, so
it might not work)
 */
add_action( 'admin_bar_menu', 'cwn_wp_before_admin_bar_render', 0 );
function cwn_wp_before_admin_bar_render(){
        remove_filter( 'pre_option_siteurl', 'domain_mapping_siteurl' );
}
add_action( 'admin_bar_menu', 'cwn_wp_after_admin_bar_render', 999 );
function cwn_wp_after_admin_bar_render(){
        add_filter( 'pre_option_siteurl', 'domain_mapping_siteurl' );
}

HTH


On 28 August 2013 10:32, Tom Barrett <tcbarrett at gmail.com> wrote:

> Hello
>
> Is it possible to remove (and then re-add) filters just for the admin bar
> (on a network enabled installation)?
>
> There is the long way of re-building the whole thing, but I wondered if
> there was a tidier way.
>
> Thanks.
>
> --
> http://www.tcbarrett.com | http://gplus.to/tcbarrett |
> http://twitter.com/tcbarrett
>



-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From david at ernsts.us  Wed Aug 28 15:44:17 2013
From: david at ernsts.us (David Ernst)
Date: Wed, 28 Aug 2013 11:44:17 -0400
Subject: [wp-hackers] Google Content Experiments & wp
Message-ID: <CANmL2P_P855aWN-dEJ05_7foemsbamvkystvUUdQw-6faZ4oug@mail.gmail.com>

Hey pals,

Does anyone here know if it's possible to use Google Content
Experiments<https://support.google.com/analytics/answer/1745147?hl=en&topic=1745207>to
test variations that apply site-wide? For example, running a test on
different versions of a theme's header.php.

Thanks,

David

From dyordan1 at ramapo.edu  Wed Aug 28 15:53:19 2013
From: dyordan1 at ramapo.edu (Dobri)
Date: Wed, 28 Aug 2013 11:53:19 -0400
Subject: [wp-hackers] Google Content Experiments & wp
In-Reply-To: <CANmL2P_P855aWN-dEJ05_7foemsbamvkystvUUdQw-6faZ4oug@mail.gmail.com>
References: <CANmL2P_P855aWN-dEJ05_7foemsbamvkystvUUdQw-6faZ4oug@mail.gmail.com>
Message-ID: <0ECE383C-A537-42FB-BBCC-B61EF590B09E@ramapo.edu>

Just a quick search yielded this:

http://wordpress.org/plugins/google-content-experiments/

Maybe you can give it a try?

If not, use PHP to get the google experiment cookie that's set in the javascript code for the experiment to decide which header to show. If I'm not mistaken, that's how google stores experiment data - cookies created with javascript (which I think you can access with php - http://davidwalsh.name/php-cookies)

P.S. if you're going to do business with cookies (no pun intended), you should also give this a read: http://kb.iu.edu/data/ajfi.html It helps with figuring out which cookie is the right one

Good Luck!

~Dobri

On Wed, 28 Aug 2013, at 11:44 AM, David Ernst wrote:

> Hey pals,
> 
> Does anyone here know if it's possible to use Google Content
> Experiments<https://support.google.com/analytics/answer/1745147?hl=en&topic=1745207>to
> test variations that apply site-wide? For example, running a test on
> different versions of a theme's header.php.
> 
> Thanks,
> 
> David
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From david at ernsts.us  Wed Aug 28 16:23:30 2013
From: david at ernsts.us (David Ernst)
Date: Wed, 28 Aug 2013 12:23:30 -0400
Subject: [wp-hackers] Google Content Experiments & wp
In-Reply-To: <0ECE383C-A537-42FB-BBCC-B61EF590B09E@ramapo.edu>
References: <CANmL2P_P855aWN-dEJ05_7foemsbamvkystvUUdQw-6faZ4oug@mail.gmail.com>
 <0ECE383C-A537-42FB-BBCC-B61EF590B09E@ramapo.edu>
Message-ID: <CANmL2P9G8D3Pz49kHdNVb-eq1SHw+4jTmvYSXRU7xYECEobx8A@mail.gmail.com>

Thanks for the speedy response, Dobri!

My cursory review of the plugin suggested it only worked for variations to
pages / posts. Which is all fine and good for most needs! It's just that in
this specific case I'm looking to test variations of site-wide elements.
I'll be more specific about the scope if that paints a clearer picture:


This e-commerce site I'm working on is considering adding a live-chat
module. I'm in favor of it, personally. But other parties are hesitant...
Being an early-stage startup with too much to do and not enough manpower,
there are concerns that it will tie up too many resources to keep an
operator on our end. So I suggested we run a Content Experiment on just
small percentage of visitors, keeping it limited at first, to explicitly
measure conversion shifts. That way we can put a specific dollar value on
this single module, independent of other circumstances like changes in
marketing efforts, site-content, etc. This module would probably load from
footer.php.


So thank you for the suggestion to investigate Analytics' cookies!  :-)  I
suspect that might work better than using URLs variations-- I was thinking
of passing GET parameters, but saw some issues.

Much appreciated,

David

From elrabino at gmail.com  Wed Aug 28 20:37:46 2013
From: elrabino at gmail.com (Daniel Dvorkin)
Date: Wed, 28 Aug 2013 17:37:46 -0300
Subject: [wp-hackers] Google Content Experiments & wp
In-Reply-To: <CANmL2P9G8D3Pz49kHdNVb-eq1SHw+4jTmvYSXRU7xYECEobx8A@mail.gmail.com>
References: <CANmL2P_P855aWN-dEJ05_7foemsbamvkystvUUdQw-6faZ4oug@mail.gmail.com>
 <0ECE383C-A537-42FB-BBCC-B61EF590B09E@ramapo.edu>
 <CANmL2P9G8D3Pz49kHdNVb-eq1SHw+4jTmvYSXRU7xYECEobx8A@mail.gmail.com>
Message-ID: <CADN2qFPEDpNcohMtY33B9iMoh0772m0eU_VwYz8uL7bv_ar+rQ@mail.gmail.com>

An (convoluted but cool) approach I used a while back:

1) Have two (or more) child themes of your main theme with the variations
you want.
2) Hook somewhere early (like parse_request) and check if the url has some
experiment data. Set a cookie for the user with the version he got so you
keep serving the same version to that user. Of course first check for this
same cookie, if the user already have it just ignore the experiment ID vars.
3) Filter both the 'stylesheet' and 'template' vars (example
https://gist.github.com/MZAWeb/6235272) and set them to the path of the
corresponding child theme (or the parent theme if it's not coming from an
experiment).

Then you can use that same cookie value on your checkout to measure
conversions for each.





---------------------
Daniel Dvorkin
M?vil: +54 (0261) 15-315-2244
Skype: mzaweb
http://mzaweb.com



On Wed, Aug 28, 2013 at 1:23 PM, David Ernst <david at ernsts.us> wrote:

> Thanks for the speedy response, Dobri!
>
> My cursory review of the plugin suggested it only worked for variations to
> pages / posts. Which is all fine and good for most needs! It's just that in
> this specific case I'm looking to test variations of site-wide elements.
> I'll be more specific about the scope if that paints a clearer picture:
>
>
> This e-commerce site I'm working on is considering adding a live-chat
> module. I'm in favor of it, personally. But other parties are hesitant...
> Being an early-stage startup with too much to do and not enough manpower,
> there are concerns that it will tie up too many resources to keep an
> operator on our end. So I suggested we run a Content Experiment on just
> small percentage of visitors, keeping it limited at first, to explicitly
> measure conversion shifts. That way we can put a specific dollar value on
> this single module, independent of other circumstances like changes in
> marketing efforts, site-content, etc. This module would probably load from
> footer.php.
>
>
> So thank you for the suggestion to investigate Analytics' cookies!  :-)  I
> suspect that might work better than using URLs variations-- I was thinking
> of passing GET parameters, but saw some issues.
>
> Much appreciated,
>
> David
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From banago at gmail.com  Thu Aug 29 09:51:38 2013
From: banago at gmail.com (Baki Goxhaj)
Date: Thu, 29 Aug 2013 11:51:38 +0200
Subject: [wp-hackers] Duplicate Content Issue - URLs work with dots and
	colons in it
Message-ID: <CAM_fM0rwPjUcNVhdHaRa--4RSmc5knU4F5hYzia8-m-aT7qYvw@mail.gmail.com>

Hi guys,

URLs with a dot, a colon, or many, still works and Google treats it as
duplicate content. Here is an example:

Original:http://ma.tt/2010/11/one-point-oh/
With a dot: http://ma.tt/2010/11/one-point-oh./
With a column: http://ma.tt/2010/11/one-point-oh:/
With many dots:
http://ma.tt/2010/11/one-point-oh...../<http://wplancer.com/a-beginners-guide-to-the-command-line........../>

All of these URLs work and if mistakenly on the site, they will be
considered duplicate content by Google.

Is this a bug? If not, why is this happening?

PS: I wrote about this in the support forums, but the post seems filled
with typos, thus it might be a reason I had no replies there:
http://wordpress.org/support/topic/dublicate-content-url-works-with-tots-and-columns-in-it
Kindly,

Baki Goxhaj
about.me/banago

From info at bungeshea.com  Thu Aug 29 09:58:47 2013
From: info at bungeshea.com (Shea Bunge)
Date: Thu, 29 Aug 2013 19:58:47 +1000
Subject: [wp-hackers] Duplicate Content Issue - URLs work with dots and
 colons in it
In-Reply-To: <CAM_fM0rwPjUcNVhdHaRa--4RSmc5knU4F5hYzia8-m-aT7qYvw@mail.gmail.com>
References: <CAM_fM0rwPjUcNVhdHaRa--4RSmc5knU4F5hYzia8-m-aT7qYvw@mail.gmail.com>
Message-ID: <BLU177-W1485C28501FD3105E93D62B8340@phx.gbl>

If you look at the source of that page, you will see that there is a <link rel="canonical"> pointing to the original post URL. This tells Google that the original URL is preferred, no matter what URL the page is accessed from.


> Date: Thu, 29 Aug 2013 11:51:38 +0200
> From: banago at gmail.com
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Duplicate Content Issue - URLs work with dots and	colons in it
> 
> Hi guys,
> 
> URLs with a dot, a colon, or many, still works and Google treats it as
> duplicate content. Here is an example:
> 
> Original:http://ma.tt/2010/11/one-point-oh/
> With a dot: http://ma.tt/2010/11/one-point-oh./
> With a column: http://ma.tt/2010/11/one-point-oh:/
> With many dots:
> http://ma.tt/2010/11/one-point-oh...../<http://wplancer.com/a-beginners-guide-to-the-command-line........../>
> 
> All of these URLs work and if mistakenly on the site, they will be
> considered duplicate content by Google.
> 
> Is this a bug? If not, why is this happening?
> 
> PS: I wrote about this in the support forums, but the post seems filled
> with typos, thus it might be a reason I had no replies there:
> http://wordpress.org/support/topic/dublicate-content-url-works-with-tots-and-columns-in-it
> Kindly,
> 
> Baki Goxhaj
> about.me/banago
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

From abdussamad at abdussamad.com  Thu Aug 29 11:03:41 2013
From: abdussamad at abdussamad.com (Abdussamad Abdurrazzaq)
Date: Thu, 29 Aug 2013 16:03:41 +0500
Subject: [wp-hackers] Duplicate Content Issue - URLs work with dots and
 colons in it
In-Reply-To: <BLU177-W1485C28501FD3105E93D62B8340@phx.gbl>
References: <CAM_fM0rwPjUcNVhdHaRa--4RSmc5knU4F5hYzia8-m-aT7qYvw@mail.gmail.com>
 <BLU177-W1485C28501FD3105E93D62B8340@phx.gbl>
Message-ID: <521F2A8D.7050606@abdussamad.com>

Yep but only on single posts. What about categories?

http://wplancer.com/category/code..../

I supposed we would have to install one of those SEO plugins.

On 08/29/2013 02:58 PM, Shea Bunge wrote:
> If you look at the source of that page, you will see that there is a <link rel="canonical"> pointing to the original post URL. This tells Google that the original URL is preferred, no matter what URL the page is accessed from.
>
>
>> Date: Thu, 29 Aug 2013 11:51:38 +0200
>> From: banago at gmail.com
>> To: wp-hackers at lists.automattic.com
>> Subject: [wp-hackers] Duplicate Content Issue - URLs work with dots and	colons in it
>>
>> Hi guys,
>>
>> URLs with a dot, a colon, or many, still works and Google treats it as
>> duplicate content. Here is an example:
>>
>> Original:http://ma.tt/2010/11/one-point-oh/
>> With a dot: http://ma.tt/2010/11/one-point-oh./
>> With a column: http://ma.tt/2010/11/one-point-oh:/
>> With many dots:
>> http://ma.tt/2010/11/one-point-oh...../<http://wplancer.com/a-beginners-guide-to-the-command-line........../>
>>
>> All of these URLs work and if mistakenly on the site, they will be
>> considered duplicate content by Google.
>>
>> Is this a bug? If not, why is this happening?
>>
>> PS: I wrote about this in the support forums, but the post seems filled
>> with typos, thus it might be a reason I had no replies there:
>> http://wordpress.org/support/topic/dublicate-content-url-works-with-tots-and-columns-in-it
>> Kindly,
>>
>> Baki Goxhaj
>> about.me/banago
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   		 	   		
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From 01tonythomas at gmail.com  Thu Aug 29 18:37:51 2013
From: 01tonythomas at gmail.com (Tony Thomas)
Date: Fri, 30 Aug 2013 00:07:51 +0530
Subject: [wp-hackers] Hacking the Wordpress Core
Message-ID: <CACSPvKpG01ZNfCp-vqqYKR+yjQyHQ3ObpZFozKvT5p6WcMLqeQ@mail.gmail.com>

Hi guys,

I was trying to edit the Insert Media page in Wordpress in order to add a
button near to the search bar. I could do the same very easily using
firebug and editing the page source live easily. But when trying to
implement the same on the core files, I found out that there weren't any
file which contained the same set of html codes as the codes were generated
real time as the IRC told. If so, how is it possible to add my HTML element
to the core?

Tony Thomas <http://tttwrites.wordpress.com>
FOSS at Amrita <http://foss.amrita.ac.in>
*
"if there is a wifi,there is a way"*

From developer at rogerhub.com  Thu Aug 29 18:52:15 2013
From: developer at rogerhub.com (Roger Chen)
Date: Thu, 29 Aug 2013 11:52:15 -0700
Subject: [wp-hackers] Hacking the Wordpress Core
In-Reply-To: <CACSPvKpG01ZNfCp-vqqYKR+yjQyHQ3ObpZFozKvT5p6WcMLqeQ@mail.gmail.com>
References: <CACSPvKpG01ZNfCp-vqqYKR+yjQyHQ3ObpZFozKvT5p6WcMLqeQ@mail.gmail.com>
Message-ID: <CAEdQCeWhSTLw7v6z67_pZmkJyG7_Ebie08+m5uiH-1SyaG2CKw@mail.gmail.com>

I would recommend using JavaScript to insert your element. You should avoid
editing core files whenever possible.

Roger


On Thu, Aug 29, 2013 at 11:37 AM, Tony Thomas <01tonythomas at gmail.com>wrote:

> Hi guys,
>
> I was trying to edit the Insert Media page in Wordpress in order to add a
> button near to the search bar. I could do the same very easily using
> firebug and editing the page source live easily. But when trying to
> implement the same on the core files, I found out that there weren't any
> file which contained the same set of html codes as the codes were generated
> real time as the IRC told. If so, how is it possible to add my HTML element
> to the core?
>
> Tony Thomas <http://tttwrites.wordpress.com>
> FOSS at Amrita <http://foss.amrita.ac.in>
> *
> "if there is a wifi,there is a way"*
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdg at codesymphony.co  Thu Aug 29 18:55:25 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Thu, 29 Aug 2013 14:55:25 -0400
Subject: [wp-hackers] Hacking the Wordpress Core
In-Reply-To: <CAEdQCeWhSTLw7v6z67_pZmkJyG7_Ebie08+m5uiH-1SyaG2CKw@mail.gmail.com>
References: <CACSPvKpG01ZNfCp-vqqYKR+yjQyHQ3ObpZFozKvT5p6WcMLqeQ@mail.gmail.com>
 <CAEdQCeWhSTLw7v6z67_pZmkJyG7_Ebie08+m5uiH-1SyaG2CKw@mail.gmail.com>
Message-ID: <2347C5DD-AEF9-4289-A565-2A3281F44E7A@codesymphony.co>

Roger is right, you should try not edit core directly. See if there are any actions or filters that you can hook into first, and if that isn't possible, use JavaScript.

On Aug 29, 2013, at 2:52 PM, Roger Chen <developer at rogerhub.com> wrote:

> I would recommend using JavaScript to insert your element. You should avoid
> editing core files whenever possible.
> 
> Roger
> 
> 
> On Thu, Aug 29, 2013 at 11:37 AM, Tony Thomas <01tonythomas at gmail.com>wrote:
> 
>> Hi guys,
>> 
>> I was trying to edit the Insert Media page in Wordpress in order to add a
>> button near to the search bar. I could do the same very easily using
>> firebug and editing the page source live easily. But when trying to
>> implement the same on the core files, I found out that there weren't any
>> file which contained the same set of html codes as the codes were generated
>> real time as the IRC told. If so, how is it possible to add my HTML element
>> to the core?
>> 
>> Tony Thomas <http://tttwrites.wordpress.com>
>> FOSS at Amrita <http://foss.amrita.ac.in>
>> *
>> "if there is a wifi,there is a way"*
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From guus at inspiration-for-success.com  Fri Aug 30 04:41:28 2013
From: guus at inspiration-for-success.com (Guus (IFS))
Date: Fri, 30 Aug 2013 12:41:28 +0800
Subject: [wp-hackers] Hacking the Wordpress Core
References: <CACSPvKpG01ZNfCp-vqqYKR+yjQyHQ3ObpZFozKvT5p6WcMLqeQ@mail.gmail.com>
Message-ID: <97DD608FB7B846FD84553B617BE19881@megaheights.net>

I like this :) : "if there is a wifi,there is a way"*

----- Original Message ----- 
From: "Tony Thomas" <01tonythomas at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, August 30, 2013 2:37 AM
Subject: [wp-hackers] Hacking the Wordpress Core


> Hi guys,
>
> I was trying to edit the Insert Media page in Wordpress in order to add a
> button near to the search bar. I could do the same very easily using
> firebug and editing the page source live easily. But when trying to
> implement the same on the core files, I found out that there weren't any
> file which contained the same set of html codes as the codes were 
> generated
> real time as the IRC told. If so, how is it possible to add my HTML 
> element
> to the core?
>
> Tony Thomas <http://tttwrites.wordpress.com>
> FOSS at Amrita <http://foss.amrita.ac.in>
> *
> "if there is a wifi,there is a way"*
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From banago at gmail.com  Sat Aug 31 10:02:26 2013
From: banago at gmail.com (Baki Goxhaj)
Date: Sat, 31 Aug 2013 12:02:26 +0200
Subject: [wp-hackers] Duplicate Content Issue - URLs work with dots and
 colons in it
In-Reply-To: <521F2A8D.7050606@abdussamad.com>
References: <CAM_fM0rwPjUcNVhdHaRa--4RSmc5knU4F5hYzia8-m-aT7qYvw@mail.gmail.com>
 <BLU177-W1485C28501FD3105E93D62B8340@phx.gbl>
 <521F2A8D.7050606@abdussamad.com>
Message-ID: <CAM_fM0r22dGJCreMG8McVy_aNndxAWjNkZjtZnuV4OYZ7jmosg@mail.gmail.com>

@Shea,

rel="canonical" or not this seems like a undesirable behaviour to have in
WordPress. The urls should not work at all with those dots and colons -
shouldn't that be the case?

Kindly,

Baki Goxhaj
about.me/banago


On Thu, Aug 29, 2013 at 1:03 PM, Abdussamad Abdurrazzaq <
abdussamad at abdussamad.com> wrote:

> Yep but only on single posts. What about categories?
>
> http://wplancer.com/category/**code..../<http://wplancer.com/category/code..../>
>
> I supposed we would have to install one of those SEO plugins.
>
>
> On 08/29/2013 02:58 PM, Shea Bunge wrote:
>
>> If you look at the source of that page, you will see that there is a
>> <link rel="canonical"> pointing to the original post URL. This tells Google
>> that the original URL is preferred, no matter what URL the page is accessed
>> from.
>>
>>
>>  Date: Thu, 29 Aug 2013 11:51:38 +0200
>>> From: banago at gmail.com
>>> To: wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>>> Subject: [wp-hackers] Duplicate Content Issue - URLs work with dots and
>>> colons in it
>>>
>>> Hi guys,
>>>
>>> URLs with a dot, a colon, or many, still works and Google treats it as
>>> duplicate content. Here is an example:
>>>
>>> Original:http://ma.tt/2010/11/**one-point-oh/<http://ma.tt/2010/11/one-point-oh/>
>>> With a dot: http://ma.tt/2010/11/one-**point-oh./<http://ma.tt/2010/11/one-point-oh./>
>>> With a column: http://ma.tt/2010/11/one-**point-oh:/<http://ma.tt/2010/11/one-point-oh:/>
>>> With many dots:
>>> http://ma.tt/2010/11/one-**point-oh...../<http://ma.tt/2010/11/one-point-oh...../>
>>> <http://**wplancer.com/a-beginners-**guide-to-the-command-line.....**
>>> ...../<http://wplancer.com/a-beginners-guide-to-the-command-line........../>
>>> >
>>>
>>> All of these URLs work and if mistakenly on the site, they will be
>>> considered duplicate content by Google.
>>>
>>> Is this a bug? If not, why is this happening?
>>>
>>> PS: I wrote about this in the support forums, but the post seems filled
>>> with typos, thus it might be a reason I had no replies there:
>>> http://wordpress.org/support/**topic/dublicate-content-url-**
>>> works-with-tots-and-columns-**in-it<http://wordpress.org/support/topic/dublicate-content-url-works-with-tots-and-columns-in-it>
>>> Kindly,
>>>
>>> Baki Goxhaj
>>> about.me/banago
>>> ______________________________**_________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>
>>
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
>>  ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From guus at inspiration-for-success.com  Sat Aug 31 10:35:19 2013
From: guus at inspiration-for-success.com (Guus (IFS))
Date: Sat, 31 Aug 2013 18:35:19 +0800
Subject: [wp-hackers] Duplicate Content Issue - URLs work with dots and
	colons in it
References: <CAM_fM0rwPjUcNVhdHaRa--4RSmc5knU4F5hYzia8-m-aT7qYvw@mail.gmail.com>
 <BLU177-W1485C28501FD3105E93D62B8340@phx.gbl>
 <521F2A8D.7050606@abdussamad.com>
 <CAM_fM0r22dGJCreMG8McVy_aNndxAWjNkZjtZnuV4OYZ7jmosg@mail.gmail.com>
Message-ID: <8ED7E5A40C98428EB020E653BD7136CE@megaheights.net>

I can't imagine any undesirable behaviour with canonicals. It just tells 
search engines what's the 'best' url for a page if there are more url's 
leading to the same page. Very useful way to prevent duplicate content 
within a site.

What canonicals are is not obvious to anybody straight away, so that may be 
your issue. If you need any help with that just e-mail me.

----- Original Message ----- 
From: "Baki Goxhaj" <banago at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Saturday, August 31, 2013 6:02 PM
Subject: Re: [wp-hackers] Duplicate Content Issue - URLs work with dots and 
colons in it


> @Shea,
>
> rel="canonical" or not this seems like a undesirable behaviour to have in
> WordPress. The urls should not work at all with those dots and colons -
> shouldn't that be the case?
>
> Kindly,
>
> Baki Goxhaj
> about.me/banago
>
>
> On Thu, Aug 29, 2013 at 1:03 PM, Abdussamad Abdurrazzaq <
> abdussamad at abdussamad.com> wrote:
>
>> Yep but only on single posts. What about categories?
>>
>> http://wplancer.com/category/**code..../<http://wplancer.com/category/code..../>
>>
>> I supposed we would have to install one of those SEO plugins.
>>
>>
>> On 08/29/2013 02:58 PM, Shea Bunge wrote:
>>
>>> If you look at the source of that page, you will see that there is a
>>> <link rel="canonical"> pointing to the original post URL. This tells 
>>> Google
>>> that the original URL is preferred, no matter what URL the page is 
>>> accessed
>>> from.
>>>
>>>
>>>  Date: Thu, 29 Aug 2013 11:51:38 +0200
>>>> From: banago at gmail.com
>>>> To: wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>>>> Subject: [wp-hackers] Duplicate Content Issue - URLs work with dots and
>>>> colons in it
>>>>
>>>> Hi guys,
>>>>
>>>> URLs with a dot, a colon, or many, still works and Google treats it as
>>>> duplicate content. Here is an example:
>>>>
>>>> Original:http://ma.tt/2010/11/**one-point-oh/<http://ma.tt/2010/11/one-point-oh/>
>>>> With a dot: 
>>>> http://ma.tt/2010/11/one-**point-oh./<http://ma.tt/2010/11/one-point-oh./>
>>>> With a column: 
>>>> http://ma.tt/2010/11/one-**point-oh:/<http://ma.tt/2010/11/one-point-oh:/>
>>>> With many dots:
>>>> http://ma.tt/2010/11/one-**point-oh...../<http://ma.tt/2010/11/one-point-oh...../>
>>>> <http://**wplancer.com/a-beginners-**guide-to-the-command-line.....**
>>>> ...../<http://wplancer.com/a-beginners-guide-to-the-command-line........../>
>>>> >
>>>>
>>>> All of these URLs work and if mistakenly on the site, they will be
>>>> considered duplicate content by Google.
>>>>
>>>> Is this a bug? If not, why is this happening?
>>>>
>>>> PS: I wrote about this in the support forums, but the post seems filled
>>>> with typos, thus it might be a reason I had no replies there:
>>>> http://wordpress.org/support/**topic/dublicate-content-url-**
>>>> works-with-tots-and-columns-**in-it<http://wordpress.org/support/topic/dublicate-content-url-works-with-tots-and-columns-in-it>
>>>> Kindly,
>>>>
>>>> Baki Goxhaj
>>>> about.me/banago
>>>> ______________________________**_________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>>>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>>
>>>
>>> ______________________________**_________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>
>>>  ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From david at ernsts.us  Sat Aug 31 13:09:20 2013
From: david at ernsts.us (David Ernst)
Date: Sat, 31 Aug 2013 09:09:20 -0400
Subject: [wp-hackers] Duplicate Content Issue - URLs work with dots and
 colons in it
In-Reply-To: <CAM_fM0r22dGJCreMG8McVy_aNndxAWjNkZjtZnuV4OYZ7jmosg@mail.gmail.com>
References: <CAM_fM0rwPjUcNVhdHaRa--4RSmc5knU4F5hYzia8-m-aT7qYvw@mail.gmail.com>
 <BLU177-W1485C28501FD3105E93D62B8340@phx.gbl>
 <521F2A8D.7050606@abdussamad.com>
 <CAM_fM0r22dGJCreMG8McVy_aNndxAWjNkZjtZnuV4OYZ7jmosg@mail.gmail.com>
Message-ID: <CANmL2P-He-WzetptqAEPD5YB5AjBoRKrD=gXRhu3dC5KnCV2HQ@mail.gmail.com>

You'd prefer your visitors see a 404 page? What's the benefit?

On Saturday, August 31, 2013, Baki Goxhaj wrote:

> @Shea,
>
> rel="canonical" or not this seems like a undesirable behaviour to have in
> WordPress. The urls should not work at all with those dots and colons -
> shouldn't that be the case?
>
> Kindly,
>
> Baki Goxhaj
> about.me/banago
>
>
> On Thu, Aug 29, 2013 at 1:03 PM, Abdussamad Abdurrazzaq <
> abdussamad at abdussamad.com <javascript:;>> wrote:
>
> > Yep but only on single posts. What about categories?
> >
> > http://wplancer.com/category/**code..../<
> http://wplancer.com/category/code..../>
> >
> > I supposed we would have to install one of those SEO plugins.
> >
> >
> > On 08/29/2013 02:58 PM, Shea Bunge wrote:
> >
> >> If you look at the source of that page, you will see that there is a
> >> <link rel="canonical"> pointing to the original post URL. This tells
> Google
> >> that the original URL is preferred, no matter what URL the page is
> accessed
> >> from.
> >>
> >>
> >>  Date: Thu, 29 Aug 2013 11:51:38 +0200
> >>> From: banago at gmail.com <javascript:;>
> >>> To: wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com<javascript:;>
> >
> >>> Subject: [wp-hackers] Duplicate Content Issue - URLs work with dots and
> >>> colons in it
> >>>
> >>> Hi guys,
> >>>
> >>> URLs with a dot, a colon, or many, still works and Google treats it as
> >>> duplicate content. Here is an example:
> >>>
> >>> Original:http://ma.tt/2010/11/**one-point-oh/<
> http://ma.tt/2010/11/one-point-oh/>
> >>> With a dot: http://ma.tt/2010/11/one-**point-oh./<
> http://ma.tt/2010/11/one-point-oh./>
> >>> With a column: http://ma.tt/2010/11/one-**point-oh:/<
> http://ma.tt/2010/11/one-point-oh:/>
> >>> With many dots:
> >>> http://ma.tt/2010/11/one-**point-oh...../<
> http://ma.tt/2010/11/one-point-oh...../>
> >>> <http://**wplancer.com/a-beginners-**guide-to-the-command-line.....**
> >>> ...../<
> http://wplancer.com/a-beginners-guide-to-the-command-line........../>
> >>> >
> >>>
> >>> All of these URLs work and if mistakenly on the site, they will be
> >>> considered duplicate content by Google.
> >>>
> >>> Is this a bug? If not, why is this happening?
> >>>
> >>> PS: I wrote about this in the support forums, but the post seems filled
> >>> with typos, thus it might be a reason I had no replies there:
> >>> http://wordpress.org/support/**topic/dublicate-content-url-**
> >>> works-with-tots-and-columns-**in-it<
> http://wordpress.org/support/topic/dublicate-content-url-works-with-tots-and-columns-in-it
> >
> >>> Kindly,
> >>>
> >>> Baki Goxhaj
> >>> about.me/banago
> >>> ______________________________**_________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com<javascript:;>
> >
> >>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<
> http://lists.automattic.com/mailman/listinfo/wp-hackers>
> >>>
> >>
> >> ______________________________**_________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com<javascript:;>
> >
> >> http://lists.automattic.com/**mailman/listinfo/wp-hackers<
> http://lists.automattic.com/mailman/listinfo/wp-hackers>
> >>
> >>  ______________________________**_________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com<javascript:;>
> >
> > http://lists.automattic.com/**mailman/listinfo/wp-hackers<
> http://lists.automattic.com/mailman/listinfo/wp-hackers>
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com <javascript:;>
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From info at bungeshea.com  Sat Aug 31 13:51:31 2013
From: info at bungeshea.com (Shea Bunge)
Date: Sat, 31 Aug 2013 23:51:31 +1000
Subject: [wp-hackers] Duplicate Content Issue - URLs work with dots and
 colons in it
In-Reply-To: <CANmL2P-He-WzetptqAEPD5YB5AjBoRKrD=gXRhu3dC5KnCV2HQ@mail.gmail.com>
References: <CAM_fM0rwPjUcNVhdHaRa--4RSmc5knU4F5hYzia8-m-aT7qYvw@mail.gmail.com>,
 <BLU177-W1485C28501FD3105E93D62B8340@phx.gbl>,
 <521F2A8D.7050606@abdussamad.com>,
 <CAM_fM0r22dGJCreMG8McVy_aNndxAWjNkZjtZnuV4OYZ7jmosg@mail.gmail.com>,
 <CANmL2P-He-WzetptqAEPD5YB5AjBoRKrD=gXRhu3dC5KnCV2HQ@mail.gmail.com>
Message-ID: <BLU177-W326F84982AC9055202554DB8360@phx.gbl>

@Baxi
I agree that this is strange behaviour and probably should be fixed. I was just pointing out that the rel="canonical" link fixes the issue with Google


> Date: Sat, 31 Aug 2013 09:09:20 -0400
> From: david at ernsts.us
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Duplicate Content Issue - URLs work with dots and colons in it
> 
> You'd prefer your visitors see a 404 page? What's the benefit?
> 
> On Saturday, August 31, 2013, Baki Goxhaj wrote:
> 
> > @Shea,
> >
> > rel="canonical" or not this seems like a undesirable behaviour to have in
> > WordPress. The urls should not work at all with those dots and colons -
> > shouldn't that be the case?
> >
> > Kindly,
> >
> > Baki Goxhaj
> > about.me/banago
> >
> >
> > On Thu, Aug 29, 2013 at 1:03 PM, Abdussamad Abdurrazzaq <
> > abdussamad at abdussamad.com <javascript:;>> wrote:
> >
> > > Yep but only on single posts. What about categories?
> > >
> > > http://wplancer.com/category/**code..../<
> > http://wplancer.com/category/code..../>
> > >
> > > I supposed we would have to install one of those SEO plugins.
> > >
> > >
> > > On 08/29/2013 02:58 PM, Shea Bunge wrote:
> > >
> > >> If you look at the source of that page, you will see that there is a
> > >> <link rel="canonical"> pointing to the original post URL. This tells
> > Google
> > >> that the original URL is preferred, no matter what URL the page is
> > accessed
> > >> from.
> > >>
> > >>
> > >>  Date: Thu, 29 Aug 2013 11:51:38 +0200
> > >>> From: banago at gmail.com <javascript:;>
> > >>> To: wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com<javascript:;>
> > >
> > >>> Subject: [wp-hackers] Duplicate Content Issue - URLs work with dots and
> > >>> colons in it
> > >>>
> > >>> Hi guys,
> > >>>
> > >>> URLs with a dot, a colon, or many, still works and Google treats it as
> > >>> duplicate content. Here is an example:
> > >>>
> > >>> Original:http://ma.tt/2010/11/**one-point-oh/<
> > http://ma.tt/2010/11/one-point-oh/>
> > >>> With a dot: http://ma.tt/2010/11/one-**point-oh./<
> > http://ma.tt/2010/11/one-point-oh./>
> > >>> With a column: http://ma.tt/2010/11/one-**point-oh:/<
> > http://ma.tt/2010/11/one-point-oh:/>
> > >>> With many dots:
> > >>> http://ma.tt/2010/11/one-**point-oh...../<
> > http://ma.tt/2010/11/one-point-oh...../>
> > >>> <http://**wplancer.com/a-beginners-**guide-to-the-command-line.....**
> > >>> ...../<
> > http://wplancer.com/a-beginners-guide-to-the-command-line........../>
> > >>> >
> > >>>
> > >>> All of these URLs work and if mistakenly on the site, they will be
> > >>> considered duplicate content by Google.
> > >>>
> > >>> Is this a bug? If not, why is this happening?
> > >>>
> > >>> PS: I wrote about this in the support forums, but the post seems filled
> > >>> with typos, thus it might be a reason I had no replies there:
> > >>> http://wordpress.org/support/**topic/dublicate-content-url-**
> > >>> works-with-tots-and-columns-**in-it<
> > http://wordpress.org/support/topic/dublicate-content-url-works-with-tots-and-columns-in-it
> > >
> > >>> Kindly,
> > >>>
> > >>> Baki Goxhaj
> > >>> about.me/banago
> > >>> ______________________________**_________________
> > >>> wp-hackers mailing list
> > >>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com<javascript:;>
> > >
> > >>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<
> > http://lists.automattic.com/mailman/listinfo/wp-hackers>
> > >>>
> > >>
> > >> ______________________________**_________________
> > >> wp-hackers mailing list
> > >> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com<javascript:;>
> > >
> > >> http://lists.automattic.com/**mailman/listinfo/wp-hackers<
> > http://lists.automattic.com/mailman/listinfo/wp-hackers>
> > >>
> > >>  ______________________________**_________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com<javascript:;>
> > >
> > > http://lists.automattic.com/**mailman/listinfo/wp-hackers<
> > http://lists.automattic.com/mailman/listinfo/wp-hackers>
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com <javascript:;>
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

