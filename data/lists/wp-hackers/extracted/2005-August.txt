From jjb at ibiblio.org  Mon Aug  1 01:30:16 2005
From: jjb at ibiblio.org (John Joseph Bachir)
Date: Mon Aug  1 01:30:26 2005
Subject: [wp-hackers] variable variables in admin.php
Message-ID: <Pine.LNX.4.61.0507312110190.7550@tribal.metalab.unc.edu>

In wp-admin/admin.php, beginning on line 26, why is another variable, 
$wpvar, used inside the loop? why not just use $wpvarstoreset[$i]? Sorry 
if I'm missing something obvious : )

Thanks,
john
From jjb at ibiblio.org  Mon Aug  1 01:59:06 2005
From: jjb at ibiblio.org (John Joseph Bachir)
Date: Mon Aug  1 01:59:12 2005
Subject: [wp-hackers] variable variables in admin.php
In-Reply-To: <Pine.LNX.4.61.0507312110190.7550@tribal.metalab.unc.edu>
References: <Pine.LNX.4.61.0507312110190.7550@tribal.metalab.unc.edu>
Message-ID: <Pine.LNX.4.61.0507312148240.7550@tribal.metalab.unc.edu>

okay, further experimentation shows that the reason for this is that there 
is no way for php to be happy with an array reference providing the string 
key for a further array reference... or i guess it's a problem with the 
string quoting levels...


On Sun, 31 Jul 2005, John Joseph Bachir wrote:

> In wp-admin/admin.php, beginning on line 26, why is another variable, $wpvar, 
> used inside the loop? why not just use $wpvarstoreset[$i]? Sorry if I'm 
> missing something obvious : )
>
> Thanks,
> john
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From m at mullenweg.com  Mon Aug  1 07:36:22 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Mon Aug  1 07:36:38 2005
Subject: [wp-hackers] b2evo importing script
In-Reply-To: <42ED4AC9.2010108@cameraontheroad.com>
References: <42ED4AC9.2010108@cameraontheroad.com>
Message-ID: <42EDD0F6.9070705@mullenweg.com>

Lorelle VanFossen wrote:
> I'm not sure who is handling upgrading the conversion scripts, so I just 
> thought I would pass on the information.

I don't think we have an official b2evo import script bundled, so it's 
probably about a third-party importer he got somewhere, which would be 
the best place to air the bug.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From false.hopes at gmail.com  Mon Aug  1 08:05:01 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Aug  1 08:05:06 2005
Subject: [wp-hackers] bug: add new category
In-Reply-To: <67835a2905073022372c52159f@mail.gmail.com>
References: <67835a2905073022372c52159f@mail.gmail.com>
Message-ID: <a491f91d050801010521bfb4ea@mail.gmail.com>

This should be posted at http://trac.wordpress.org

On 7/31/05, Che Sosa <che.sosa@gmail.com> wrote:
> line 250 of admin-functions.php should be replaced with $category_parent
> I am using: wordpress-2005-07-30
> 
> Thanks,
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From nbachiyski at developer.bg  Mon Aug  1 14:17:18 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Mon Aug  1 14:18:29 2005
Subject: [wp-hackers] Theme Creation on Install ?
In-Reply-To: <42DD41DC.2020307@mullenweg.com>
References: <42DD35C6.4000908@tamba2.org.uk>	<d6491f48050719103237382ce5@mail.gmail.com>
	<42DD41DC.2020307@mullenweg.com>
Message-ID: <42EE2EEE.8090005@developer.bg>

Matt Mullenweg wrote:
> Jason Bainbridge wrote:
> 
>> I noticed that myself the other day, the changeset that implemented it 
>> was:
>>
>> http://trac.wordpress.org/changeset/2037
>>
>> But that was back in January and I'm sure that theme didn't pop up
>> until recently.
> 
> 
> Part of the problem we noted at the time is that if you change the name 
> of your blog and re-upgrade it'll create a new theme. This is still 
> unresolved. Maybe we should use the domain instead of the name?
> 

There are some more problems with that automatic theme creation.

If the blog name contains non-ascii characters it is passed to 
sanitize_title() to create a string, which is a valid folder name. After 
  that the theme could not be activated, because the name of theme 
(residing in its style.css) is different from the directory name (the 
sanitized string).

Here we have several options:
- when trying to activate a theme pass the 'template' and 'stylesheet' 
parameters to sanitize_title() to ensure our 'non-ascii' theme will 
successfully be activated. However thus activation of other themes (for 
example these, containg spaces), whose names will change after going 
through sanitize_title().
- set the name of theme to be its sanitized name. Beleieve me, I really 
do not want my theme to be named: %d0%b1%d0%b0%d0%b1%d0%b0. Actually I 
do not want same-named directory also.
- in style.css put not only the theme name, but also the name of the 
sub-directory of wp-content/themes it resides in
- do not automatically create local version of the current theme
- the best option, I just couldn't think of, but maybe somebody will ;)

Nikolay.
From pete.prodoehl at cygnusinteractive.com  Mon Aug  1 22:15:53 2005
From: pete.prodoehl at cygnusinteractive.com (Pete Prodoehl)
Date: Mon Aug  1 22:15:58 2005
Subject: [wp-hackers] Multiple Enclosures, detecting enclosures
In-Reply-To: <42E98E97.5040203@mullenweg.com>
References: <9b1b9dab050728093239b9d8f9@mail.gmail.com>	<a491f91d05072811294359e33c@mail.gmail.com>	<9b1b9dab0507281749565803db@mail.gmail.com>
	<42E98E97.5040203@mullenweg.com>
Message-ID: <42EE9F19.3000101@cygnusinteractive.com>

Matthew Mullenweg wrote:
> Chris Lott wrote:
> 
>> *MY* servers do-- the problem is that so many don't. And when the best
>> free resource (important in educational circles) is ourmedia.org-- and
>> THEY can't (or won't) figure it out-- it seems like a bigger problem.
>> I also didn't ask to accommodate all possible media types, just the
>> most common ones that are causing the most problems.
> 
> I think the problem with ourmedia/archive.org is that they serve up 
> redirects usually, and we don't follow redirects. Anyone want to fix our 
> code to follow up to 2 redirects (but no more as to not get stuck in a 
> loop)?

Whew, thanks for saying "up to 2" because what I do with my videoblog is 
use a custom cgi for the enclosure url, which redirects to ourmedia.org, 
which then redirects to archive.org for the .mov file.

I do this because I use Ourmedia to upload the video (which is stored at 
the Internet Archive) but want the aggregators to use the url on my site 
for logging purposes.

I've been having to do a few curl commands with each post to manually 
add the enclosure data, but fixing WP's code would be quite helpful.

Pete

From royalfamily at email.it  Mon Aug  1 23:57:05 2005
From: royalfamily at email.it (donnie)
Date: Mon Aug  1 23:56:41 2005
Subject: [wp-hackers] Plugin localization troubles
Message-ID: <42EEB6D1.501@email.it>

Hi all,
i'm building a new plugin based on TinyMCE editor but
i'm having troubles with the localization.
I've described the issue here:

http://wordpress.org/support/topic/40769

In addition to those infos i have to say that
upgrading to Firefox 1.0.6 have not produced any benefits.
I've also packaged a testing version of the plugin
to allow you to hopefully try and help me fix this problem
(the one preventing me to release the plugin).
You can download it here:

http://www.drwebcreations.com/tinyeditor/tinyeditor.tar.gz

To see whether you experience the problem
you have to enable the plugin,switch your locale to it_IT in wp-config.php,
go to "Scrivi" (write) and click on the Image button.
Let me know what happens and report your testing
environement (expecially browser/version).
Any contribution/fix is welcome,of course.
 
 
 --
 Email.it, the professional e-mail, gratis per te: http://www.email.it/f
 
 Sponsor:
 Niente paura, da oggi puoi recuperare i dati persi dal PC, semplice come cliccare qui
 Clicca qui: http://adv.email.it/cgi-bin/foclick.cgi?mid=3361&d=2-8
From hendry at iki.fi  Tue Aug  2 01:59:38 2005
From: hendry at iki.fi (Kai Hendry)
Date: Tue Aug  2 01:59:50 2005
Subject: [wp-hackers] wptexturize bug
Message-ID: <20050802015936.GA4135@iki.fi>

I have a bug reported on Wordpress with Debian's BTS:
http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=320462

I think it could be related to:
http://trac.wordpress.org/ticket/1418

Although I don't have time now to figure it out.

Best wishes,
From jbainbridge at gmail.com  Tue Aug  2 06:23:48 2005
From: jbainbridge at gmail.com (Jason Bainbridge)
Date: Tue Aug  2 06:23:56 2005
Subject: [wp-hackers] A problem with changeset 2730 and categories
Message-ID: <d6491f4805080123234e6ab58@mail.gmail.com>

I'm on holidays out of the country just quickly getting my computer
fix so haven't investigated this fully and came across a problem with
the listing of categories when creating a new post.

I tracked it down to the changes made to admin-functions.php in
changeset 2730, for each of the categories it calls
get_nested_categories and then tries a foreach loop but the foreach
loop fails when there are no nested categories, I fixed it by just
adding a if (is_array($cats)){ check around the foreach loop but there
might be a cleaner way to do it.

Regards,
-- 
Jason Bainbridge
http://kde.org - webmaster@kde.org
Personal Site - http://jasonbainbridge.com
From false.hopes at gmail.com  Tue Aug  2 07:25:23 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Aug  2 07:25:37 2005
Subject: [wp-hackers] wptexturize bug
In-Reply-To: <20050802015936.GA4135@iki.fi>
References: <20050802015936.GA4135@iki.fi>
Message-ID: <a491f91d05080200255ab65568@mail.gmail.com>

The fix on the debian list is really going to end up doing more harm
than good, and is less of  a fix than it is a hack. I'd still like to
see an example of where the URI is "corrupted" though.


On 8/1/05, Kai Hendry <hendry@iki.fi> wrote:
> I have a bug reported on Wordpress with Debian's BTS:
> http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=320462
> 
> I think it could be related to:
> http://trac.wordpress.org/ticket/1418
> 
> Although I don't have time now to figure it out.
> 
> Best wishes,
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From exmachina at gmail.com  Tue Aug  2 12:26:13 2005
From: exmachina at gmail.com (Ex Machina)
Date: Tue Aug  2 12:26:24 2005
Subject: [wp-hackers] bug : wp-mail.php
Message-ID: <e1184a21050802052660ca0741@mail.gmail.com>

When I use wp-mail.php from the current 1.5.1.3 version I got this error : 

Author = xxx@brice.net
Content-type: text/plain, boundary:

Raw content:

http://www.watchmechange.com/

--
"The more interesting your life becomes, the less you post...
and vice versa." -- Jorn Barger (inventor of the term 'weblog)


--
ListWebSite: http://www.brice.net
Suggestions: Unsubscribe:   Subscribe:   Hosted by: http://www.emakina.com
WordPress database error: [You have an error in your SQL syntax; check
the manual that corresponds to your MySQL server version for the right
syntax to use near 'weblog) -- ListWebSite: http://www.brice.net
Suggestions: INSERT INTO wp_posts (post_author, post_date,
post_date_gmt, post_modified, post_modified_gmt, post_content,
post_title, post_excerpt, post_category, post_status, post_name,
comment_status, ping_status, post_parent) VALUES ('1', '2005-08-02
12:31:09', '2005-08-02 10:31:09', '2005-08-02 12:31:09', '2005-08-02
10:31:09', 'http://www.watchmechange.com/ -- "The more interesting
your life becomes, the less you post... and vice versa." -- Jorn
Barger (inventor of the term 'weblog) -- ListWebSite:
http://www.brice.net Suggestions: Unsubscribe: Subscribe: Hosted by:
http://www.emakina.com', '[Cool] Brice' link : Watch me change', '',
'1', 'publish', 'cool-brice-link-watch-me-change', 'open', 'open',
'0')

WordPress database error: [You have an error in your SQL syntax; check
the manual that corresponds to your MySQL server version for the right
syntax to use near '' at line 3]
SELECT category_id FROM wp_post2cat WHERE post_id =

WordPress database error: [You have an error in your SQL syntax; check
the manual that corresponds to your MySQL server version for the right
syntax to use near ' 1)' at line 2]
INSERT INTO wp_post2cat (post_id, category_id) VALUES (, 1)

WordPress database error: [You have an error in your SQL syntax; check
the manual that corresponds to your MySQL server version for the right
syntax to use near '' at line 1]
SELECT pinged FROM wp_posts WHERE ID =
From ringmaster at midnightcircus.com  Tue Aug  2 13:07:08 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Aug  2 13:02:17 2005
Subject: [wp-hackers] When to send bugs to wp-hackers
Message-ID: <42EF6FFC.1000506@midnightcircus.com>

I've seen more than two bugs go by in the last batch of list messages I 
checked.  These bugs should have been reported to Trac, not to this 
list.  Not only is this a waste of resources for the list's subscribers, 
but a nonvolatile record of the bug where devs can review it will not 
exist if it's not in Trac.

Here's how I view this list in terms of bugs:
1) The list is an escalation point for serious issues that are already 
in Trac that merit public discussion.
2) The list is a discussion platform for coders who are implementing 
fixes for bugs in Trac.
3) The list is a place to discuss implementation methods of existing 
features or proposed changes.  ("Why does feature X do it way Y when it 
could do it way Z?" or "Why doesn't feature X also do Z?")

A bug should never be submitted blindly to this list, but instead to 
Trac (http://trac.wordpress.org).  All of our documentation should say 
this, and I think it does.

It should be noted somewhere that this list is not for submitting bugs.

On the other hand...

I can't quantify a new #4 for the list above that includes those cases 
where a significant support question arises.  For example, a recent 
referral from the forums by Podz:
http://comox.textdrive.com/pipermail/wp-hackers/2005-July/001883.html
To this forum post on Server Load: http://wordpress.org/support/topic/38792

This type of forum post merits referral directly, but I'm not sure how 
to quantify it.

Can we update the Codex page (http://codex.wordpress.org/mailing_lists) 
with this information so that we don't start getting an influx of bug 
reports here?

Anyway these are my thoughts this morning, what are yours?

Owen

From false.hopes at gmail.com  Tue Aug  2 13:03:52 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Aug  2 13:03:58 2005
Subject: [wp-hackers] When to send bugs to wp-hackers
In-Reply-To: <42EF6FFC.1000506@midnightcircus.com>
References: <42EF6FFC.1000506@midnightcircus.com>
Message-ID: <a491f91d050802060338c04dec@mail.gmail.com>

I agree, and I also think that there have been a large number of posts
to the hackers list lately that belong on the testers list, so maybe a
bit more distinction between the two is necessary.

On 8/2/05, Owen Winkler <ringmaster@midnightcircus.com> wrote:
> I've seen more than two bugs go by in the last batch of list messages I
> checked.  These bugs should have been reported to Trac, not to this
> list.  Not only is this a waste of resources for the list's subscribers,
> but a nonvolatile record of the bug where devs can review it will not
> exist if it's not in Trac.
> 
> Here's how I view this list in terms of bugs:
> 1) The list is an escalation point for serious issues that are already
> in Trac that merit public discussion.
> 2) The list is a discussion platform for coders who are implementing
> fixes for bugs in Trac.
> 3) The list is a place to discuss implementation methods of existing
> features or proposed changes.  ("Why does feature X do it way Y when it
> could do it way Z?" or "Why doesn't feature X also do Z?")
> 
> A bug should never be submitted blindly to this list, but instead to
> Trac (http://trac.wordpress.org).  All of our documentation should say
> this, and I think it does.
> 
> It should be noted somewhere that this list is not for submitting bugs.
> 
> On the other hand...
> 
> I can't quantify a new #4 for the list above that includes those cases
> where a significant support question arises.  For example, a recent
> referral from the forums by Podz:
> http://comox.textdrive.com/pipermail/wp-hackers/2005-July/001883.html
> To this forum post on Server Load: http://wordpress.org/support/topic/38792
> 
> This type of forum post merits referral directly, but I'm not sure how
> to quantify it.
> 
> Can we update the Codex page (http://codex.wordpress.org/mailing_lists)
> with this information so that we don't start getting an influx of bug
> reports here?
> 
> Anyway these are my thoughts this morning, what are yours?
> 
> Owen
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From michael_salazar_1611 at hotmail.com  Tue Aug  2 14:14:55 2005
From: michael_salazar_1611 at hotmail.com (Michael Enrrique Olano Salazar)
Date: Tue Aug  2 14:15:01 2005
Subject: [wp-hackers] (no subject)
Message-ID: <BAY7-F27C0378A9818D990B7CAFD9C20@phx.gbl>

An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050802/3e62c015/attachment.html
From robmientjes at gmail.com  Tue Aug  2 14:20:53 2005
From: robmientjes at gmail.com (Rob Mientjes)
Date: Tue Aug  2 14:20:59 2005
Subject: [wp-hackers] (no subject)
In-Reply-To: <BAY7-F27C0378A9818D990B7CAFD9C20@phx.gbl>
References: <BAY7-F27C0378A9818D990B7CAFD9C20@phx.gbl>
Message-ID: <e8e97f9f050802072017ea273d@mail.gmail.com>

On 8/2/05, Michael Enrrique Olano Salazar
<michael_salazar_1611@hotmail.com> wrote:
> 
>  
> 
> 
> 
> 
> ________________________________
> Tu hor?scopo diario, semanal y gratuito. Cartas, tarot y predicciones en MSN
> Hor?scopo 

This should go in the core NOW!
From dstewart at atl.lmco.com  Tue Aug  2 14:32:20 2005
From: dstewart at atl.lmco.com (Doug Stewart)
Date: Tue Aug  2 14:32:34 2005
Subject: [wp-hackers] (no subject)
In-Reply-To: <e8e97f9f050802072017ea273d@mail.gmail.com>
References: <BAY7-F27C0378A9818D990B7CAFD9C20@phx.gbl>
	<e8e97f9f050802072017ea273d@mail.gmail.com>
Message-ID: <42EF83F4.7070105@atl.lmco.com>

Rob Mientjes wrote:
> This should go in the core NOW!

Or at least should become the default Hello Dolly message. *grin*
-- 
----------
Doug Stewart
Systems Administrator/Web Applications Developer
Lockheed Martin Advanced Technology Labs
dstewart@atl.lmco.com
From indranil at troidus.com  Tue Aug  2 15:58:16 2005
From: indranil at troidus.com (Indranil Dasgupta)
Date: Tue Aug  2 15:58:39 2005
Subject: [wp-hackers] (no subject)
In-Reply-To: <BAY7-F27C0378A9818D990B7CAFD9C20@phx.gbl>
References: <BAY7-F27C0378A9818D990B7CAFD9C20@phx.gbl>
Message-ID: <42EF9818.40609@troidus.com>

Bravo! Well said!! You should be President of the list.

Michael Enrrique Olano Salazar wrote:

>
>
>
> ------------------------------------------------------------------------
> Tu hor?scopo diario, semanal y gratuito. Cartas, tarot y predicciones 
> en MSN Hor?scopo <http://g.msn.com/8HMBESES/2728??PS=47575>
>
>------------------------------------------------------------------------
>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers@lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers
>  
>
>------------------------------------------------------------------------
>
>No virus found in this incoming message.
>Checked by AVG Anti-Virus.
>Version: 7.0.338 / Virus Database: 267.9.7/60 - Release Date: 7/28/2005
>  
>
From mark.wordpress at txfx.net  Tue Aug  2 17:40:34 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Tue Aug  2 17:38:30 2005
Subject: [wp-hackers] When to send bugs to wp-hackers
In-Reply-To: <a491f91d050802060338c04dec@mail.gmail.com>
References: <42EF6FFC.1000506@midnightcircus.com>
	<a491f91d050802060338c04dec@mail.gmail.com>
Message-ID: <42EFB012.2020800@txfx.net>

Robert Deaton wrote:

>I agree, and I also think that there have been a large number of posts
>to the hackers list lately that belong on the testers list, so maybe a
>bit more distinction between the two is necessary.
>
My thought is that bugs related to SVN code *may* go on wp-testers 
(after having been submitted as a bug in Trac), especially if they are 
serious bugs, but it's okay to discuss the general *direction* of the 
code on wp-hackers (like Owen said, "A does X, but maybe it should do 
Y.  Look at this article.  Discuss.").  Bugs should not be submitted 
blindly to *either list*.  If you are not sure that something is a bug, 
you could stop by #wordpress and there will likely be someone there who 
will let you know.  Or, you could just submit the bug to Trac anyway and 
Skippy and I will sort it out.  I'd much rather that 2 people submit the 
same bug or that someone submit a report for something that is designed 
functionality than risk letting a legitimate bug be missed because they 
just mentioned it here on the list and never submitted it officially as 
a bug.

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From stewart at ugelow.com  Tue Aug  2 19:30:04 2005
From: stewart at ugelow.com (Stewart Ugelow)
Date: Tue Aug  2 19:30:15 2005
Subject: [wp-hackers] When to send bugs to wp-hackers
In-Reply-To: <42EF6FFC.1000506@midnightcircus.com>
Message-ID: <20050802193004.9EB07BE1E@comox.textdrive.com>

Every few weeks or so there seems to be a flare-up of bugs posted on
wp-hackers, followed by the requisite series of messages telling people not
to post bugs on the list. Could He Or She Who Controls The List Sig File add
a line like "All bugs should be reported to http://trac.wordpress.org -- not
this list"?

--Stewart

----
Stewart Ugelow
www.ugelow.com
 





From false.hopes at gmail.com  Tue Aug  2 19:34:30 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Aug  2 19:34:44 2005
Subject: [wp-hackers] When to send bugs to wp-hackers
In-Reply-To: <20050802193004.9EB07BE1E@comox.textdrive.com>
References: <42EF6FFC.1000506@midnightcircus.com>
	<20050802193004.9EB07BE1E@comox.textdrive.com>
Message-ID: <a491f91d05080212341fc5e916@mail.gmail.com>

It probably won't help, my guess is that a lot of the people who post
bugs are first time signups who have never even looked at the list, so
they wouldn't see the sigs until after the fact anyways.

On 8/2/05, Stewart Ugelow <stewart@ugelow.com> wrote:
> Every few weeks or so there seems to be a flare-up of bugs posted on
> wp-hackers, followed by the requisite series of messages telling people not
> to post bugs on the list. Could He Or She Who Controls The List Sig File add
> a line like "All bugs should be reported to http://trac.wordpress.org -- not
> this list"?
> 
> --Stewart
> 
> ----
> Stewart Ugelow
> www.ugelow.com
> 
> 
> 
> 
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From mark.wordpress at txfx.net  Tue Aug  2 19:56:12 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Tue Aug  2 19:54:09 2005
Subject: [wp-hackers] When to send bugs to wp-hackers
In-Reply-To: <a491f91d05080212341fc5e916@mail.gmail.com>
References: <42EF6FFC.1000506@midnightcircus.com>	<20050802193004.9EB07BE1E@comox.textdrive.com>
	<a491f91d05080212341fc5e916@mail.gmail.com>
Message-ID: <42EFCFDC.30309@txfx.net>

Robert Deaton wrote:

>It probably won't help, my guess is that a lot of the people who post
>bugs are first time signups who have never even looked at the list, so
>they wouldn't see the sigs until after the fact anyways.
>
Maybe it could be included on the list signup page, or in the "welcome" 
e-mail that you get when you sign up.

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From m at mullenweg.com  Tue Aug  2 21:30:54 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Tue Aug  2 21:30:52 2005
Subject: [wp-hackers] When to send bugs to wp-hackers
In-Reply-To: <42EFCFDC.30309@txfx.net>
References: <42EF6FFC.1000506@midnightcircus.com>	<20050802193004.9EB07BE1E@comox.textdrive.com>	<a491f91d05080212341fc5e916@mail.gmail.com>
	<42EFCFDC.30309@txfx.net>
Message-ID: <42EFE60E.2040900@mullenweg.com>

Mark Jaquith wrote:
> Maybe it could be included on the list signup page, or in the "welcome" 
> e-mail that you get when you sign up.

I added a note to the welcome email, but we'll still probably need to 
remind people every now and then.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From ron at vnetworx.net  Wed Aug  3 00:55:49 2005
From: ron at vnetworx.net (Ron Guerin)
Date: Wed Aug  3 00:55:59 2005
Subject: [wp-hackers] When to send bugs to wp-hackers
In-Reply-To: <a491f91d05080212341fc5e916@mail.gmail.com>
References: <42EF6FFC.1000506@midnightcircus.com>	<20050802193004.9EB07BE1E@comox.textdrive.com>
	<a491f91d05080212341fc5e916@mail.gmail.com>
Message-ID: <42F01615.5080507@vnetworx.net>

Robert Deaton wrote:
> It probably won't help, my guess is that a lot of the people who post
> bugs are first time signups who have never even looked at the list, so
> they wouldn't see the sigs until after the fact anyways.
> 
> On 8/2/05, Stewart Ugelow <stewart@ugelow.com> wrote:
> 
>>Every few weeks or so there seems to be a flare-up of bugs posted on
>>wp-hackers, followed by the requisite series of messages telling people not
>>to post bugs on the list. Could He Or She Who Controls The List Sig File add
>>a line like "All bugs should be reported to http://trac.wordpress.org -- not
>>this list"?

It's not a bad idea, but it can only help, not cure the problem.
Virtually every Mailman mailing list includes a URL to the 
subscribe/unsubscribe page _on every single post_.  Many explicitly
state to go to that URL to get off the given mailing list.  Yet there
never seems to be any shortage of people posting back to those lists
"Please unsubscribe me".  People have a tendency to not pay attention,
no matter how much effort is put into making it easy for them.  So you 
do these things anyway, but you're still going to have a certain number 
of people who post to the list instead of going to Trac, even if you had 
the URL tattooed on the back of their hands.

- Ron
From nbachiyski at developer.bg  Wed Aug  3 08:18:58 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Wed Aug  3 08:19:44 2005
Subject: [wp-hackers] Re: [wp-svn] [2744] trunk/wp-settings.php: Fixes #1488
In-Reply-To: <20050803004252.DE86EBBF1@comox.textdrive.com>
References: <20050803004252.DE86EBBF1@comox.textdrive.com>
Message-ID: <42F07DF2.3020908@developer.bg>

m@wordpress.org wrote:
>  // Fix for IIS, which doesn't set REQUEST_URI
> -if (! isset($_SERVER['REQUEST_URI'])) {
> -	$_SERVER['REQUEST_URI'] = $_SERVER['SCRIPT_NAME'];
> +if ( empty( $_SERVER['REQUEST_URI'] ) ) {
> +	$_SERVER['REQUEST_URI'] = $_SERVER['SCRIPT_NAME']; // Does this work under CGI?

It does not (or at least - not always). When php scripts are run in cgi 
environment (I have tested on Apache only) the SCRIPT_NAME variable is 
set to "/cgi-bin/php4-wrapper" or something equally unusable for our 
purposes. However the PHP_SELF variable always gives us the relative 
path to the current script.

Nikolay.

From false.hopes at gmail.com  Wed Aug  3 10:47:36 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Wed Aug  3 10:47:44 2005
Subject: [wp-hackers] Re: [wp-svn] [2744] trunk/wp-settings.php: Fixes
	#1488
In-Reply-To: <42F07DF2.3020908@developer.bg>
References: <20050803004252.DE86EBBF1@comox.textdrive.com>
	<42F07DF2.3020908@developer.bg>
Message-ID: <a491f91d0508030347f1f4f8f@mail.gmail.com>

Reading around, PHP_SELF is set on all platforms but does not contain
the same information, specifically in regular cgi mode vs php-cgi
mode. If anybody has time to test various server setups to confirm.

On 8/3/05, Nikolay Bachiyski <nbachiyski@developer.bg> wrote:
> m@wordpress.org wrote:
> >  // Fix for IIS, which doesn't set REQUEST_URI
> > -if (! isset($_SERVER['REQUEST_URI'])) {
> > -     $_SERVER['REQUEST_URI'] = $_SERVER['SCRIPT_NAME'];
> > +if ( empty( $_SERVER['REQUEST_URI'] ) ) {
> > +     $_SERVER['REQUEST_URI'] = $_SERVER['SCRIPT_NAME']; // Does this work under CGI?
> 
> It does not (or at least - not always). When php scripts are run in cgi
> environment (I have tested on Apache only) the SCRIPT_NAME variable is
> set to "/cgi-bin/php4-wrapper" or something equally unusable for our
> purposes. However the PHP_SELF variable always gives us the relative
> path to the current script.
> 
> Nikolay.
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From nbachiyski at developer.bg  Wed Aug  3 11:25:09 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Wed Aug  3 11:25:56 2005
Subject: [wp-hackers] Re: [wp-svn] [2744] trunk/wp-settings.php: Fixes
	#1488
In-Reply-To: <a491f91d0508030347f1f4f8f@mail.gmail.com>
References: <20050803004252.DE86EBBF1@comox.textdrive.com>	<42F07DF2.3020908@developer.bg>
	<a491f91d0508030347f1f4f8f@mail.gmail.com>
Message-ID: <42F0A995.9040104@developer.bg>

Robert Deaton wrote:
> Reading around, PHP_SELF is set on all platforms but does not contain
> the same information, specifically in regular cgi mode vs php-cgi
> mode. If anybody has time to test various server setups to confirm.

Hmm, Robert is right. For example under mod_php the request to
	http://host/test.php/baba
results in
	PHP_SELF=/test.php/baba

My initial suggestions is to use SCRIPT_NAME if php is not run as cgi. 
If php is running as cgi we can quite safely (can we really?) disregard 
everything after the extension of the script name in PHP_SELF.

However, some further tests on different servers/sapi's will be really 
useful. If anybody is willing to test, we  shall need the following four 
items:
	- request uri
	- output of php_sapi_name()
	- value of $_SERVER['SCRIPT_NAME']
	- value of $_SERVER['PHP_SELF']

Nikolay.

> 
> On 8/3/05, Nikolay Bachiyski <nbachiyski@developer.bg> wrote:
> 
>>m@wordpress.org wrote:
>>
>>> // Fix for IIS, which doesn't set REQUEST_URI
>>>-if (! isset($_SERVER['REQUEST_URI'])) {
>>>-     $_SERVER['REQUEST_URI'] = $_SERVER['SCRIPT_NAME'];
>>>+if ( empty( $_SERVER['REQUEST_URI'] ) ) {
>>>+     $_SERVER['REQUEST_URI'] = $_SERVER['SCRIPT_NAME']; // Does this work under CGI?
>>
>>It does not (or at least - not always). When php scripts are run in cgi
>>environment (I have tested on Apache only) the SCRIPT_NAME variable is
>>set to "/cgi-bin/php4-wrapper" or something equally unusable for our
>>purposes. However the PHP_SELF variable always gives us the relative
>>path to the current script.
>>
>>Nikolay.
>>
>>_______________________________________________
>>wp-hackers mailing list
>>wp-hackers@lists.automattic.com
>>http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> 
> 
> 

From nbachiyski at developer.bg  Wed Aug  3 11:47:58 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Wed Aug  3 11:48:40 2005
Subject: [wp-hackers] Re: [wp-svn] [2744] trunk/wp-settings.php: Fixes
	#1488
In-Reply-To: <42F0A995.9040104@developer.bg>
References: <20050803004252.DE86EBBF1@comox.textdrive.com>	<42F07DF2.3020908@developer.bg>	<a491f91d0508030347f1f4f8f@mail.gmail.com>
	<42F0A995.9040104@developer.bg>
Message-ID: <42F0AEEE.9020908@developer.bg>

Nikolay Bachiyski wrote:
> Robert Deaton wrote:
> 
>> Reading around, PHP_SELF is set on all platforms but does not contain
>> the same information, specifically in regular cgi mode vs php-cgi
>> mode. If anybody has time to test various server setups to confirm.
> 
> 
> Hmm, Robert is right. For example under mod_php the request to
>     http://host/test.php/baba
> results in
>     PHP_SELF=/test.php/baba
> 
> My initial suggestions is to use SCRIPT_NAME if php is not run as cgi. 
> If php is running as cgi we can quite safely (can we really?) disregard 
> everything after the extension of the script name in PHP_SELF.

Update: when php is run as cgi (php_sapi_name(): "cgi-fcgi" (fast cgi)) 
requests with a slash after script's name result in an "No input file 
specified." error (apache 1.3, debian, cgi-fcgi).

> 
> However, some further tests on different servers/sapi's will be really 
> useful. If anybody is willing to test, we  shall need the following four 
> items:
>     - request uri
>     - output of php_sapi_name()
>     - value of $_SERVER['SCRIPT_NAME']
>     - value of $_SERVER['PHP_SELF']
> 
> Nikolay.
> 
>>
>> On 8/3/05, Nikolay Bachiyski <nbachiyski@developer.bg> wrote:
>>
>>> m@wordpress.org wrote:
>>>
>>>> // Fix for IIS, which doesn't set REQUEST_URI
>>>> -if (! isset($_SERVER['REQUEST_URI'])) {
>>>> -     $_SERVER['REQUEST_URI'] = $_SERVER['SCRIPT_NAME'];
>>>> +if ( empty( $_SERVER['REQUEST_URI'] ) ) {
>>>> +     $_SERVER['REQUEST_URI'] = $_SERVER['SCRIPT_NAME']; // Does 
>>>> this work under CGI?
>>>
>>>
>>> It does not (or at least - not always). When php scripts are run in cgi
>>> environment (I have tested on Apache only) the SCRIPT_NAME variable is
>>> set to "/cgi-bin/php4-wrapper" or something equally unusable for our
>>> purposes. However the PHP_SELF variable always gives us the relative
>>> path to the current script.
>>>
>>> Nikolay.
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>>
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ringmaster at midnightcircus.com  Wed Aug  3 12:45:13 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Wed Aug  3 12:40:51 2005
Subject: [wp-hackers] When to send bugs to wp-hackers
In-Reply-To: <42F01615.5080507@vnetworx.net>
References: <42EF6FFC.1000506@midnightcircus.com>	<20050802193004.9EB07BE1E@comox.textdrive.com>	<a491f91d05080212341fc5e916@mail.gmail.com>
	<42F01615.5080507@vnetworx.net>
Message-ID: <42F0BC59.8010006@midnightcircus.com>

Ron Guerin wrote:
> Robert Deaton wrote:
> 
>> It probably won't help, my guess is that a lot of the people who post
>> bugs are first time signups who have never even looked at the list, so
>> they wouldn't see the sigs until after the fact anyways.
> 
> It's not a bad idea, but it can only help, not cure the problem.
> Virtually every Mailman mailing list includes a URL to the 
> subscribe/unsubscribe page _on every single post_.  Many explicitly
> state to go to that URL to get off the given mailing list.  Yet there
> never seems to be any shortage of people posting back to those lists
> "Please unsubscribe me".  People have a tendency to not pay attention,
> no matter how much effort is put into making it easy for them.  So you 
> do these things anyway, but you're still going to have a certain number 
> of people who post to the list instead of going to Trac, even if you had 
> the URL tattooed on the back of their hands.

I tink the main reason why n00bs end up here looking for support is 
because people *refer* them here.  I'm not aware of anywhere online that 
says "Have a bug?  Subscribe to wp-hackers!"  The only way I can imagine 
they're getting here is people misinterpreting what the list is for.

The places that tell you how to subscribe to this list should make a 
specific note that this is not the place for bugs.  The welcome message 
is a good place for this, the signup web page would be a good place, 
too, if that's possible.

I'll tweak the Mailing Lists page on Codex after it comes back up to 
reflect a friendly "No bugs - No bug referrals" policy, which it 
currently lacks.

Owen
From skeltoac at gmail.com  Wed Aug  3 13:29:00 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Wed Aug  3 13:29:11 2005
Subject: [wp-hackers] Snoopy: Good or Evil
Message-ID: <e6ec604d050803062923427f54@mail.gmail.com>

Hi folks, I'm working on the next Blogs Of The Day plugin release and
I want it the script itself to grab some data from the BOTD server at
run time. Not every time, don't worry, I'm caching!

I have had success with Snoopy on my own server but I wonder if anyone
has any problems with it, reasons it shouldn't be used in a plugin, or
suggestions for a better way to grab a flat file from another server.

Thanks!

Andy Skelton
http://www.skeltoac.com
http://blogsoftheday.com
From peter.westwood at ftwr.co.uk  Wed Aug  3 13:56:23 2005
From: peter.westwood at ftwr.co.uk (peter.westwood@ftwr.co.uk)
Date: Wed Aug  3 13:56:29 2005
Subject: [wp-hackers] Snoopy: Good or Evil
In-Reply-To: <e6ec604d050803062923427f54@mail.gmail.com>
References: <e6ec604d050803062923427f54@mail.gmail.com>
Message-ID: <46461.193.128.96.1.1123077383.squirrel@epia.ftwr.co.uk>

Andy Wrote:
> Hi folks, I'm working on the next Blogs Of The Day plugin release and
> I want it the script itself to grab some data from the BOTD server at
> run time. Not every time, don't worry, I'm caching!
>
> I have had success with Snoopy on my own server but I wonder if anyone
> has any problems with it, reasons it shouldn't be used in a plugin, or
> suggestions for a better way to grab a flat file from another server.
>

Curious as to what sort of data you expect the plugin to grab.

I have no experience with using Snoopy but have had great sucess using the
IXR
XML-RPC library on both client and server in my Version Check plugin to
retrieve data and cache it.

--
westi
http://blog.ftwr.co.uk/

From false.hopes at gmail.com  Wed Aug  3 14:04:38 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Wed Aug  3 14:04:44 2005
Subject: [wp-hackers] Snoopy: Good or Evil
In-Reply-To: <46461.193.128.96.1.1123077383.squirrel@epia.ftwr.co.uk>
References: <e6ec604d050803062923427f54@mail.gmail.com>
	<46461.193.128.96.1.1123077383.squirrel@epia.ftwr.co.uk>
Message-ID: <a491f91d05080307043083260c@mail.gmail.com>

Personally, I don't see any problems with Snoopy, especially since its
part of WordPress out of the box.

On 8/3/05, peter.westwood@ftwr.co.uk <peter.westwood@ftwr.co.uk> wrote:
> Andy Wrote:
> > Hi folks, I'm working on the next Blogs Of The Day plugin release and
> > I want it the script itself to grab some data from the BOTD server at
> > run time. Not every time, don't worry, I'm caching!
> >
> > I have had success with Snoopy on my own server but I wonder if anyone
> > has any problems with it, reasons it shouldn't be used in a plugin, or
> > suggestions for a better way to grab a flat file from another server.
> >
> 
> Curious as to what sort of data you expect the plugin to grab.
> 
> I have no experience with using Snoopy but have had great sucess using the
> IXR
> XML-RPC library on both client and server in my Version Check plugin to
> retrieve data and cache it.
> 
> --
> westi
> http://blog.ftwr.co.uk/
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From skeltoac at gmail.com  Wed Aug  3 14:05:43 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Wed Aug  3 14:08:53 2005
Subject: [wp-hackers] Snoopy: Good or Evil
In-Reply-To: <46461.193.128.96.1.1123077383.squirrel@epia.ftwr.co.uk>
References: <e6ec604d050803062923427f54@mail.gmail.com>
	<46461.193.128.96.1.1123077383.squirrel@epia.ftwr.co.uk>
Message-ID: <e6ec604d050803070554b428ed@mail.gmail.com>

On 8/3/05, peter.westwood@ftwr.co.uk <peter.westwood@ftwr.co.uk> wrote:
> Curious as to what sort of data you expect the plugin to grab.
> 
> I have no experience with using Snoopy but have had great sucess using the
> IXR
> XML-RPC library on both client and server in my Version Check plugin to
> retrieve data and cache it.

I'm just grabbing a flat HTML file such as this one:
http://blogsoftheday.com/hotlist.html
Would that library be good for this kind of thing?

Andy Skelton
http://www.skeltoac.com
http://blogsoftheday.com
From peter.westwood at ftwr.co.uk  Wed Aug  3 14:26:21 2005
From: peter.westwood at ftwr.co.uk (peter.westwood@ftwr.co.uk)
Date: Wed Aug  3 14:26:29 2005
Subject: [wp-hackers] Snoopy: Good or Evil
In-Reply-To: <e6ec604d050803070554b428ed@mail.gmail.com>
References: <e6ec604d050803062923427f54@mail.gmail.com>
	<46461.193.128.96.1.1123077383.squirrel@epia.ftwr.co.uk>
	<e6ec604d050803070554b428ed@mail.gmail.com>
Message-ID: <20877.193.128.96.1.1123079181.squirrel@epia.ftwr.co.uk>


> On 8/3/05, peter.westwood@ftwr.co.uk <peter.westwood@ftwr.co.uk> wrote:
>> Curious as to what sort of data you expect the plugin to grab.
>>
>> I have no experience with using Snoopy but have had great sucess using
>> the
>> IXR
>> XML-RPC library on both client and server in my Version Check plugin to
>> retrieve data and cache it.
>
> I'm just grabbing a flat HTML file such as this one:
> http://blogsoftheday.com/hotlist.html
> Would that library be good for this kind of thing?
>

For grabbing that specific file XML-RPC would be no good.

For grabbing the data it could be good.

XML-RPC would allow you to make a PHP call on an object and get the data
back already parsed into an Array.  It would however require some code to
run on your server for every request so if the client is not sending you
any information to modify what is returned then XML-RPC is probably a bit
heavy.

However you could do what I believe DrDave has done in SK2 and request a
"flat file" that is actually outout of PHP serialize function on the data
you wish to get and then unserialize in your client - this is probably
more efficent than XML-RPC if you haven't got any client data to include
in the request.

hope this helps

-- 
westi



From ringmaster at midnightcircus.com  Wed Aug  3 14:30:58 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Wed Aug  3 14:26:51 2005
Subject: [wp-hackers] Snoopy: Good or Evil
In-Reply-To: <e6ec604d050803070554b428ed@mail.gmail.com>
References: <e6ec604d050803062923427f54@mail.gmail.com>	<46461.193.128.96.1.1123077383.squirrel@epia.ftwr.co.uk>
	<e6ec604d050803070554b428ed@mail.gmail.com>
Message-ID: <42F0D522.3040406@midnightcircus.com>

Andy Skelton wrote:
> I'm just grabbing a flat HTML file such as this one:
> http://blogsoftheday.com/hotlist.html
> Would that library be good for this kind of thing?

Would you consider using XML-RPC to distribute that information instead? 
  Then people could present that information in any format they chose. 
You could also offer several different functions (HotList, BuzzList, 
TopPosts, etc.) for different info, and return it all in XML.

The IXR library can be used as a client or a server, so you could 
reference it from WordPress (it's included for things like the 
Metaweblog API and pingbacks) and use it on botd.com to support the API.

Or better yet, provide a REST API.  :)

Owen
From skeltoac at gmail.com  Wed Aug  3 14:45:23 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Wed Aug  3 14:45:38 2005
Subject: [wp-hackers] Snoopy: Good or Evil
In-Reply-To: <20877.193.128.96.1.1123079181.squirrel@epia.ftwr.co.uk>
References: <e6ec604d050803062923427f54@mail.gmail.com>
	<46461.193.128.96.1.1123077383.squirrel@epia.ftwr.co.uk>
	<e6ec604d050803070554b428ed@mail.gmail.com>
	<20877.193.128.96.1.1123079181.squirrel@epia.ftwr.co.uk>
Message-ID: <e6ec604d05080307451dbe6536@mail.gmail.com>

On 8/3/05, peter.westwood@ftwr.co.uk <peter.westwood@ftwr.co.uk> wrote:
> However you could do what I believe DrDave has done in SK2 and request a
> "flat file" that is actually outout of PHP serialize function on the data
> you wish to get and then unserialize in your client - this is probably
> more efficent than XML-RPC if you haven't got any client data to include
> in the request.

Yes, that's how I like to work. I regenerate the lists every few
minutes and serve the requests from static files, avoiding PHP and
MySQL loads whenever possible.

Andy
From skeltoac at gmail.com  Wed Aug  3 14:59:18 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Wed Aug  3 14:59:31 2005
Subject: [wp-hackers] Snoopy: Good or Evil
In-Reply-To: <42F0D522.3040406@midnightcircus.com>
References: <e6ec604d050803062923427f54@mail.gmail.com>
	<46461.193.128.96.1.1123077383.squirrel@epia.ftwr.co.uk>
	<e6ec604d050803070554b428ed@mail.gmail.com>
	<42F0D522.3040406@midnightcircus.com>
Message-ID: <e6ec604d0508030759d017178@mail.gmail.com>

On 8/3/05, Owen Winkler <ringmaster@midnightcircus.com> wrote:
> Would you consider using XML-RPC to distribute that information instead?
>   Then people could present that information in any format they chose.
> You could also offer several different functions (HotList, BuzzList,
> TopPosts, etc.) for different info, and return it all in XML.

XML has been a target all along. I just haven't made the effort to
change it all over. Eventually I'll be forced to do it and I'll kick
myself for putting it off. Heck, I could write all of the lists into a
single OPML file if I thought it was worthwhile. :-)

All I'm doing right now is letting the client grab any list and find
their site or their posts in that list. The client will cache the
entire list for several minutes to keep page loads manageable and do
the work of parsing the list. I do this because bandwidth is cheaper
than new servers with more CPUs and RAM.

> Or better yet, provide a REST API.  :)

That went right over my head.

Andy
From skippy at skippy.net  Wed Aug  3 15:04:07 2005
From: skippy at skippy.net (Scott Merrill)
Date: Wed Aug  3 15:04:07 2005
Subject: [wp-hackers] Snoopy: Good or Evil
In-Reply-To: <e6ec604d0508030759d017178@mail.gmail.com>
References: <e6ec604d050803062923427f54@mail.gmail.com>	<46461.193.128.96.1.1123077383.squirrel@epia.ftwr.co.uk>	<e6ec604d050803070554b428ed@mail.gmail.com>	<42F0D522.3040406@midnightcircus.com>
	<e6ec604d0508030759d017178@mail.gmail.com>
Message-ID: <42F0DCE7.90104@skippy.net>

Andy Skelton wrote:
> On 8/3/05, Owen Winkler <ringmaster@midnightcircus.com> wrote:
>>Or better yet, provide a REST API.  :)
> 
> 
> That went right over my head.

http://en.wikipedia.org/wiki/REST
http://rest.blueoxen.net/cgi-bin/wiki.pl?FrontPage

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From kimmo+key+wordpress.c4f53f at suominen.com  Wed Aug  3 18:31:02 2005
From: kimmo+key+wordpress.c4f53f at suominen.com (Kimmo Suominen)
Date: Wed Aug  3 18:34:17 2005
Subject: [wp-hackers] Entity fix
Message-ID: <20050803183102.GX1970@kimmo.suominen.com>

I was trying to use &frac12; and &frac34; in a post, and they kept
getting mangled by WordPress.  The patch below fixes the problem.

I'd add this to Trac, but it appears TextDrive (or theplanet.com)
is having network problems, so I can't even reach my own sites
hosted at TextDrive.

Regards,
+ Kimmo
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>


Index: wp-includes/functions-formatting.php
===================================================================
--- wp-includes/functions-formatting.php	(revision 2674)
+++ wp-includes/functions-formatting.php	(working copy)
@@ -41,7 +41,7 @@
 		} else {
 			$next = true;
 		}
-		$curl = preg_replace('/&([^#])(?![a-z12]{1,8};)/', '&#038;$1', $curl);
+		$curl = preg_replace('/&([^#])(?![a-z1-4]{1,8};)/', '&#038;$1', $curl);
 		$output .= $curl;
 	}
 	return $output;
@@ -98,7 +98,7 @@
 
 function wp_specialchars( $text, $quotes = 0 ) {
 	// Like htmlspecialchars except don't double-encode HTML entities
-	$text = preg_replace('/&([^#])(?![a-z12]{1,8};)/', '&#038;$1', $text);-
+	$text = preg_replace('/&([^#])(?![a-z1-4]{1,8};)/', '&#038;$1', $text);
 	$text = str_replace('<', '&lt;', $text);
 	$text = str_replace('>', '&gt;', $text);
 	if ( $quotes ) {
@@ -345,7 +345,7 @@
 	$content = preg_replace('/<category>(.+?)<\/category>/','',$content);
 
 	// Converts lone & characters into &#38; (a.k.a. &amp;)
-	$content = preg_replace('/&([^#])(?![a-z]{1,8};)/i', '&#038;$1', $content);
+	$content = preg_replace('/&([^#])(?![a-z1-4]{1,8};)/i', '&#038;$1', $content);
 
 	// Fix Word pasting
 	$content = strtr($content, $wp_htmltranswinuni);

From kaf at szub.net  Wed Aug  3 23:50:55 2005
From: kaf at szub.net (Kaf Oseo)
Date: Wed Aug  3 23:51:06 2005
Subject: [wp-hackers] Entity fix
In-Reply-To: <20050803183102.GX1970@kimmo.suominen.com>
References: <20050803183102.GX1970@kimmo.suominen.com>
Message-ID: <42F1585F.7080805@szub.net>

http://trac.wordpress.org/ticket/1431

Kimmo Suominen wrote:
> I was trying to use &frac12; and &frac34; in a post, and they kept
> getting mangled by WordPress.  The patch below fixes the problem.
> 
> I'd add this to Trac, but it appears TextDrive (or theplanet.com)
> is having network problems, so I can't even reach my own sites
> hosted at TextDrive.
> 
> Regards,
> + Kimmo
From nbachiyski at developer.bg  Thu Aug  4 09:20:53 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Thu Aug  4 09:25:57 2005
Subject: [wp-hackers] passing references to do_action/apply_filters
Message-ID: <42F1DDF5.90609@developer.bg>

In newer default php.ini setups the value of

allow_call_time_pass_reference (see http://uk2.php.net/ini.core)

is Off, which does not allow to pass arguments by reference unless it is 
explicitly noted in the function's declaration.

However, sometimes is is needed a hook to change the values of its 
arguments. For example see the patch for pre_ping hook 
(http://trac.wordpress.org/ticket/1489 and 
http://trac.wordpress.org/changeset/2743 ) and if 
allow_call_time_pass_reference is Off it causes a Warning: "Warning: 
Call-time pass-by-reference has been deprecated.." (see 
http://trac.wordpress.org/ticket/1547).

Unfortunately there isn't an easy way to control whether 
do_action/apply_filter arguments are passed by reference of by value.

Of course there are some dirty hacks, as for example using an array to 
pass all the variables:

<?php
function varargs_by_ref($arg_list = null) {
	if (is_array($arg_list)) {
		foreach ($arg_list as &$arg) {
			# do whatever you want with $arg...
		}
	}
}

$by_ref = 'to_be_midified_inside_func';
$by_val = 'to_be_passed_by_value';

varargs_by_ref(array('baba', &$by_ref, $by_value));

?>

Any other suggestions?

Nikolay.

From false.hopes at gmail.com  Thu Aug  4 11:55:40 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Aug  4 11:56:15 2005
Subject: [wp-hackers] passing references to do_action/apply_filters
In-Reply-To: <42F1DDF5.90609@developer.bg>
References: <42F1DDF5.90609@developer.bg>
Message-ID: <a491f91d0508040455b45ed87@mail.gmail.com>

A quick note, allow_call_time_pass_reference is "1" by default. While
it doesn't stop the warning, at least we know the code still works on
default installs for now.

On 8/4/05, Nikolay Bachiyski <nbachiyski@developer.bg> wrote:
> In newer default php.ini setups the value of
> 
> allow_call_time_pass_reference (see http://uk2.php.net/ini.core)
> 
> is Off, which does not allow to pass arguments by reference unless it is
> explicitly noted in the function's declaration.
> 
> However, sometimes is is needed a hook to change the values of its
> arguments. For example see the patch for pre_ping hook
> (http://trac.wordpress.org/ticket/1489 and
> http://trac.wordpress.org/changeset/2743 ) and if
> allow_call_time_pass_reference is Off it causes a Warning: "Warning:
> Call-time pass-by-reference has been deprecated.." (see
> http://trac.wordpress.org/ticket/1547).
> 
> Unfortunately there isn't an easy way to control whether
> do_action/apply_filter arguments are passed by reference of by value.
> 
> Of course there are some dirty hacks, as for example using an array to
> pass all the variables:
> 
> <?php
> function varargs_by_ref($arg_list = null) {
>         if (is_array($arg_list)) {
>                 foreach ($arg_list as &$arg) {
>                         # do whatever you want with $arg...
>                 }
>         }
> }
> 
> $by_ref = 'to_be_midified_inside_func';
> $by_val = 'to_be_passed_by_value';
> 
> varargs_by_ref(array('baba', &$by_ref, $by_value));
> 
> ?>
> 
> Any other suggestions?
> 
> Nikolay.
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From nbachiyski at developer.bg  Thu Aug  4 12:25:28 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Thu Aug  4 12:30:32 2005
Subject: [wp-hackers] passing references to do_action/apply_filters
In-Reply-To: <a491f91d0508040455b45ed87@mail.gmail.com>
References: <42F1DDF5.90609@developer.bg>
	<a491f91d0508040455b45ed87@mail.gmail.com>
Message-ID: <42F20938.8030009@developer.bg>

Robert Deaton wrote:
> A quick note, allow_call_time_pass_reference is "1" by default. While
> it doesn't stop the warning, at least we know the code still works on
> default installs for now.

In my case (latest mod_php5 package from ports in FreeBSD) the default 
value is "Off".

I checked the latest php packages and in both php4.4.0 and php5.1.0b3 
the value of "allow_call_time_pass_reference" is "On" in php.ini-dist, 
but is "Off" in php.ini-recommended!

IMHO not just a few administrators prefer to stick to the recommended 
setup, rather to the default one...

Nikolay.

> 
> On 8/4/05, Nikolay Bachiyski <nbachiyski@developer.bg> wrote:
> 
>>In newer default php.ini setups the value of
>>
>>allow_call_time_pass_reference (see http://uk2.php.net/ini.core)
>>
>>is Off, which does not allow to pass arguments by reference unless it is
>>explicitly noted in the function's declaration.
>>
>>However, sometimes is is needed a hook to change the values of its
>>arguments. For example see the patch for pre_ping hook
>>(http://trac.wordpress.org/ticket/1489 and
>>http://trac.wordpress.org/changeset/2743 ) and if
>>allow_call_time_pass_reference is Off it causes a Warning: "Warning:
>>Call-time pass-by-reference has been deprecated.." (see
>>http://trac.wordpress.org/ticket/1547).
>>
>>Unfortunately there isn't an easy way to control whether
>>do_action/apply_filter arguments are passed by reference of by value.
>>
>>Of course there are some dirty hacks, as for example using an array to
>>pass all the variables:
>>
>><?php
>>function varargs_by_ref($arg_list = null) {
>>        if (is_array($arg_list)) {
>>                foreach ($arg_list as &$arg) {
>>                        # do whatever you want with $arg...
>>                }
>>        }
>>}
>>
>>$by_ref = 'to_be_midified_inside_func';
>>$by_val = 'to_be_passed_by_value';
>>
>>varargs_by_ref(array('baba', &$by_ref, $by_value));
>>
>>?>
>>
>>Any other suggestions?
>>
>>Nikolay.
>>
>>_______________________________________________
>>wp-hackers mailing list
>>wp-hackers@lists.automattic.com
>>http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> 
> 
> 

From cicloid at idealabs.tk  Thu Aug  4 20:17:55 2005
From: cicloid at idealabs.tk (Gustavo Barron)
Date: Thu Aug  4 20:16:56 2005
Subject: [wp-hackers] Comment rating - a feature request
In-Reply-To: <20050725133448.M4121@7el.net>
References: <74b84aa305072220015f3d571b@mail.gmail.com>	<20050723050324.gaqutbtc03cwko88@banana.catalyst2.com>	<42E4E547.4010405@atl.lmco.com>
	<20050725133448.M4121@7el.net>
Message-ID: <42F277F3.4090809@idealabs.tk>

Frederic de Villamil wrote:

>On Mon, 25 Jul 2005 09:12:39 -0400, Doug Stewart wrote
>  
>
>>Roy Schestowitz wrote:
>>    
>>
>>>I remember how long it took me to become fully-acquainted with 
>>>      
>>>
>> > all the rules and practices in Slashdot (PHP-Nuke-based).
>>
>>That is wrong on so many levels.
>>
>>1) Slashdot runs on Slashcode, which they developed on their own 
>>over the course of many years. (http://www.slashcode.com/)
>>
>>2) Slashcode is written in Perl, not php, and utilizes mod_perl for 
>>speedups.
>>
>>3) How dare you bring up PHP Nuke?  *grin*
>>    
>>
>
>PHPNuke is just great.
>Providing script kiddies a playground since october 2000.
>  
>
And me with a never ending import-script with many requests :s
(hopefully the next week, la cofradia will be running wordpress instead
of phpnuke :D)

>--
>Fr?d?ric de Villamil
>Ce qui est ? moi est ? moi, ce qui est ? toi ?a se n?gocie. (proverbe motokiste)
>http://www.eretzvaju.org
>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers@lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
>  
>

From skippy at skippy.net  Thu Aug  4 20:32:09 2005
From: skippy at skippy.net (Scott Merrill)
Date: Thu Aug  4 20:32:05 2005
Subject: [wp-hackers] forum post: sql injection
Message-ID: <42F27B49.8070901@skippy.net>

http://wordpress.org/support/topic/41064

A quckie plugin registered against check_passwords might be a stop-gap fix.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From skippy at skippy.net  Thu Aug  4 20:38:05 2005
From: skippy at skippy.net (Scott Merrill)
Date: Thu Aug  4 20:38:00 2005
Subject: [wp-hackers] forum post: sql injection
In-Reply-To: <42F27B49.8070901@skippy.net>
References: <42F27B49.8070901@skippy.net>
Message-ID: <42F27CAD.4070409@skippy.net>

Scott Merrill wrote:
> http://wordpress.org/support/topic/41064
> 
> A quckie plugin registered against check_passwords might be a stop-gap fix.
> 

Untested, but does this look sufficient?

<?php
/*
Plugin Name: Check Password
Plugin URI: http://www.skippy.net/blog/plugins/
Description: sanitize passwords against SQL injection
Author: Scott Merrill
Version: 1.0
Author URI: http://www.skippy.net/
*/


add_action('check_password', 'sdm_pw_check');

function sdm_pw_check($user_login, &$pass1, &$pass2) {
$pass1 = preg_replace('/['"]/', '', $pass1);
$pass2 = preg_replace('/['"]/', '', $pass2);
}

?>


-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From dstewart at atl.lmco.com  Thu Aug  4 21:09:27 2005
From: dstewart at atl.lmco.com (Doug Stewart)
Date: Thu Aug  4 21:09:50 2005
Subject: [wp-hackers] Comment rating - a feature request
In-Reply-To: <42F277F3.4090809@idealabs.tk>
References: <74b84aa305072220015f3d571b@mail.gmail.com>
	<20050723050324.gaqutbtc03cwko88@banana.catalyst2.com>
	<42E4E547.4010405@atl.lmco.com> <20050725133448.M4121@7el.net>
	<42F277F3.4090809@idealabs.tk>
Message-ID: <42F28407.8030401@atl.lmco.com>

Gustavo Barron wrote:
> 
> And me with a never ending import-script with many requests :s
> (hopefully the next week, la cofradia will be running wordpress instead
> of phpnuke :D)

You have a PHPNuke->WP import script?  Do share.  *grin*

(Trying to move my MarComm people off Nuke to WP and this would greatly 
ease the transition).

-- 
----------
Doug Stewart
Systems Administrator/Web Applications Developer
Lockheed Martin Advanced Technology Labs
dstewart@atl.lmco.com
From cicloid at idealabs.tk  Thu Aug  4 21:32:11 2005
From: cicloid at idealabs.tk (Gustavo Barron)
Date: Thu Aug  4 21:31:11 2005
Subject: [wp-hackers] About comment_parent....
Message-ID: <42F2895B.7040003@idealabs.tk>

What is intention of having a comment_parent column in the comments table?

Can i use it for a threaded comments plugin?

From cicloid at idealabs.tk  Thu Aug  4 21:39:06 2005
From: cicloid at idealabs.tk (Gustavo Barron)
Date: Thu Aug  4 21:38:04 2005
Subject: [wp-hackers] Comment rating - a feature request
In-Reply-To: <42F28407.8030401@atl.lmco.com>
References: <74b84aa305072220015f3d571b@mail.gmail.com>	<20050723050324.gaqutbtc03cwko88@banana.catalyst2.com>	<42E4E547.4010405@atl.lmco.com>
	<20050725133448.M4121@7el.net>	<42F277F3.4090809@idealabs.tk>
	<42F28407.8030401@atl.lmco.com>
Message-ID: <42F28AFA.6020202@idealabs.tk>

Doug Stewart wrote:

> Gustavo Barron wrote:
>
>>
>> And me with a never ending import-script with many requests :s
>> (hopefully the next week, la cofradia will be running wordpress instead
>> of phpnuke :D)
>
>
> You have a PHPNuke->WP import script?  Do share.  *grin*
>
> (Trying to move my MarComm people off Nuke to WP and this would
> greatly ease the transition).
>
I have been working in a PHPNuke2WP importer... in fact I also have
importers for other systems, but, i was to lazy to post about them in
the hacker list...

Maybe in the afternoon, I will make avaible the first version of the
import-nuke.php script...
From journalized at gmail.com  Fri Aug  5 00:01:41 2005
From: journalized at gmail.com (Mike Little)
Date: Fri Aug  5 00:01:49 2005
Subject: [wp-hackers] forum post: sql injection
In-Reply-To: <42F27CAD.4070409@skippy.net>
References: <42F27B49.8070901@skippy.net> <42F27CAD.4070409@skippy.net>
Message-ID: <7235ce78050804170137816f7b@mail.gmail.com>

On 04/08/05, Scott Merrill <skippy@skippy.net> wrote:
> Scott Merrill wrote:
> > http://wordpress.org/support/topic/41064
> >
> > A quckie plugin registered against check_passwords might be a stop-gap fix.
> >
> 

There is no sql injection vulnerability that I can see.

I tired setting a password to 

password'), user_level=9, user_firstname=('

hoping to get 

$updatepassword = "user_pass=MD5('password'), user_level=upper('9'), "; 

what I got, in the query, was 

user_pass=MD5('password\\'), user_level=upper(\\'9'),

Which gives a syntax error and hence the 'your session has expired' message.

Mike
-- 
Mike Little
http://zed1.com/journalized/
From denis at semiologic.com  Fri Aug  5 00:03:47 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Fri Aug  5 00:03:56 2005
Subject: [wp-hackers] forum post: sql injection
In-Reply-To: <7235ce78050804170137816f7b@mail.gmail.com>
Message-ID: <000001c59951$275eeba0$0701000a@DB>

Magic quotes on?

D.

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com 
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of 
> Mike Little
> Sent: Thursday, August 04, 2005 5:02 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] forum post: sql injection
> 
> 
> On 04/08/05, Scott Merrill <skippy@skippy.net> wrote:
> > Scott Merrill wrote:
> > > http://wordpress.org/support/topic/41064
> > >
> > > A quckie plugin registered against check_passwords might be a 
> > > stop-gap fix.
> > >
> > 
> 
> There is no sql injection vulnerability that I can see.
> 
> I tired setting a password to 
> 
> password'), user_level=9, user_firstname=('
> 
> hoping to get 
> 
> $updatepassword = "user_pass=MD5('password'), 
> user_level=upper('9'), "; 
> 
> what I got, in the query, was 
> 
> user_pass=MD5('password\\'), user_level=upper(\\'9'),
> 
> Which gives a syntax error and hence the 'your session has 
> expired' message.
> 
> Mike
> -- 
> Mike Little
> http://zed1.com/journalized/ 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com 
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From journalized at gmail.com  Fri Aug  5 00:23:13 2005
From: journalized at gmail.com (Mike Little)
Date: Fri Aug  5 00:23:22 2005
Subject: [wp-hackers] forum post: sql injection
In-Reply-To: <000001c59951$275eeba0$0701000a@DB>
References: <7235ce78050804170137816f7b@mail.gmail.com>
	<000001c59951$275eeba0$0701000a@DB>
Message-ID: <7235ce7805080417232fe36174@mail.gmail.com>

On 05/08/05, Denis de Bernardy <denis@semiologic.com> wrote:
> Magic quotes on?
> 
> D.
> 

Yes it was on, but I get the same with it on and off.

Mike
-- 
Mike Little
http://zed1.com/journalized/
From mark.wordpress at txfx.net  Fri Aug  5 05:25:56 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Fri Aug  5 05:23:47 2005
Subject: [wp-hackers] forum post: sql injection
In-Reply-To: <7235ce7805080417232fe36174@mail.gmail.com>
References: <7235ce78050804170137816f7b@mail.gmail.com>	<000001c59951$275eeba0$0701000a@DB>
	<7235ce7805080417232fe36174@mail.gmail.com>
Message-ID: <42F2F864.20405@txfx.net>

Mike Little wrote:

>On 05/08/05, Denis de Bernardy <denis@semiologic.com> wrote:
>  
>
>>Magic quotes on?
>>
>>D.
>>
>Yes it was on, but I get the same with it on and off.
>
>Mike
>  
>
You *sure* you turned it off?  Meaning, did you turn it off, and then 
test for the value to be certain that it was off?  Those backslashes 
indicate to me that it was escaped... and I can't see anywhere in 
WordPress where that would be escaped.

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From ryan at boren.nu  Fri Aug  5 06:00:45 2005
From: ryan at boren.nu (Ryan Boren)
Date: Fri Aug  5 06:01:11 2005
Subject: [wp-hackers] forum post: sql injection
In-Reply-To: <42F2F864.20405@txfx.net>
References: <7235ce78050804170137816f7b@mail.gmail.com>	<000001c59951$275eeba0$0701000a@DB>	<7235ce7805080417232fe36174@mail.gmail.com>
	<42F2F864.20405@txfx.net>
Message-ID: <42F3008D.20708@boren.nu>

Mark Jaquith wrote:

> Mike Little wrote:
>
>> On 05/08/05, Denis de Bernardy <denis@semiologic.com> wrote:
>>  
>>
>>> Magic quotes on?
>>>
>>> D.
>>>
>> Yes it was on, but I get the same with it on and off.
>>
>> Mike
>>  
>>
> You *sure* you turned it off?  Meaning, did you turn it off, and then 
> test for the value to be certain that it was off?  Those backslashes 
> indicate to me that it was escaped... and I can't see anywhere in 
> WordPress where that would be escaped.
>

wp-settings.php

Ryan
From journalized at gmail.com  Fri Aug  5 06:02:05 2005
From: journalized at gmail.com (Mike Little)
Date: Fri Aug  5 06:02:16 2005
Subject: [wp-hackers] forum post: sql injection
In-Reply-To: <42F2F864.20405@txfx.net>
References: <7235ce78050804170137816f7b@mail.gmail.com>
	<000001c59951$275eeba0$0701000a@DB>
	<7235ce7805080417232fe36174@mail.gmail.com> <42F2F864.20405@txfx.net>
Message-ID: <7235ce7805080423021771c8dc@mail.gmail.com>

On 05/08/05, Mark Jaquith <mark.wordpress@txfx.net> wrote:
> Mike Little wrote:
> 
> >On 05/08/05, Denis de Bernardy <denis@semiologic.com> wrote:
> >
> >
> >>Magic quotes on?
> >>
> >>D.
> >>
> >Yes it was on, but I get the same with it on and off.
> >
> >Mike
> >
> >
> You *sure* you turned it off?  Meaning, did you turn it off, and then
> test for the value to be certain that it was off?  Those backslashes
> indicate to me that it was escaped... and I can't see anywhere in
> WordPress where that would be escaped.
> 
> --
> Mark Jaquith
> http://txfx.net/
> MCincubus @ #wordpress
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

I set it off in /etc/php4/apache/php.ini
then restarted apache
Then I checked with a page with a call to phpinfo() in it.
...I just added phpinfo() to the bottom of profile.php and all three
xxx_quotes settings are off.

The output I quoted was from apaches log file after I added a call to
error_log() in the script.

Perhaps someone else would like to try the same experiment to see if
they can successfully inject some sql. I'm no expert.


Mike
-- 
Mike Little
http://zed1.com/journalized/
From journalized at gmail.com  Fri Aug  5 06:07:25 2005
From: journalized at gmail.com (Mike Little)
Date: Fri Aug  5 06:07:37 2005
Subject: [wp-hackers] forum post: sql injection
In-Reply-To: <42F3008D.20708@boren.nu>
References: <7235ce78050804170137816f7b@mail.gmail.com>
	<000001c59951$275eeba0$0701000a@DB>
	<7235ce7805080417232fe36174@mail.gmail.com> <42F2F864.20405@txfx.net>
	<42F3008D.20708@boren.nu>
Message-ID: <7235ce78050804230727951163@mail.gmail.com>

On 05/08/05, Ryan Boren <ryan@boren.nu> wrote:
> 
> wp-settings.php
> 

OK, just seen this. 

Does this invalidate my test? Can one do more trickery to get round
the escaping?

Mike
-- 
Mike Little
http://zed1.com/journalized/
From mark.wordpress at txfx.net  Fri Aug  5 06:23:25 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Fri Aug  5 06:21:12 2005
Subject: [wp-hackers] forum post: sql injection
In-Reply-To: <42F3008D.20708@boren.nu>
References: <7235ce78050804170137816f7b@mail.gmail.com>	<000001c59951$275eeba0$0701000a@DB>	<7235ce7805080417232fe36174@mail.gmail.com>	<42F2F864.20405@txfx.net>
	<42F3008D.20708@boren.nu>
Message-ID: <42F305DD.5000104@txfx.net>

Ryan Boren wrote:

> wp-settings.php 

Heh.  It's even recursive for arrays.  I can't believe I didn't know 
about this.  :-[

So does this mean that as far as WP is concerned that magic quotes is 
always on?  I mean, obviously there are other ways of introducing data 
that will need to be escaped, but doesn't this mean that the $_GET, 
$_POST, $_COOKIE, and $_SERVER arrays are safe?

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From lorelle at cameraontheroad.com  Fri Aug  5 22:40:03 2005
From: lorelle at cameraontheroad.com (Lorelle VanFossen)
Date: Fri Aug  5 22:56:15 2005
Subject: [wp-hackers] Incoming Links from Technorati
Message-ID: <42F3EAC3.5050307@cameraontheroad.com>

We're getting a growing number of complaints by users about the Incoming 
Links section on the Dashboard sidebar.  
http://wordpress.org/support/topic/40222 is one that seems to point to 
some possibilties but no answers.

The issue is that text of the link is from a site supposedly linking to 
"my" site, but the link itself opens in 404 Page Not Found and consists 
of http://www.example.com/wp-admin/1123005122 
<http://www.cameraontheroad.com/wp-admin/1123005122> consistently. I've 
checked with several other users who usually don't pay attention to the 
Dashboard and they all report the same problem. This is a recent event. 
Some thought it might be a plugin like Spam Karma, but others report the 
problem who are not using that plugin.  It might be a problem on 
technorati's side or WordPress.  Don't know if it is a bug or....well, what?

Thanks,

Lorelle

From ringmaster at midnightcircus.com  Sat Aug  6 00:51:30 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Sat Aug  6 00:50:21 2005
Subject: [wp-hackers] Incoming Links from Technorati
In-Reply-To: <42F3EAC3.5050307@cameraontheroad.com>
References: <42F3EAC3.5050307@cameraontheroad.com>
Message-ID: <42F40992.5020600@midnightcircus.com>

Lorelle VanFossen wrote:
> We're getting a growing number of complaints by users about the Incoming 
> Links section on the Dashboard sidebar.  
> http://wordpress.org/support/topic/40222 is one that seems to point to 
> some possibilties but no answers.

http://wordpress.org/support/topic/40018

Owen

From mark.wordpress at txfx.net  Sat Aug  6 06:03:38 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Sat Aug  6 06:03:47 2005
Subject: [wp-hackers] WP 1.5.1.4 bugfix agenda
Message-ID: <42F452BA.5070304@txfx.net>

I'm trying to find all issues in 1.5.1.3 or the 1.5 branch that need 
fixing before a 1.5.1.4 or 1.5.2 release.  Feel free to jump in with 
your suggestions.

People running 1.5.1.3 are having problems like this (which IIRC were 
fixed in the 1.5 branch... can we get a confirmation on that?)
http://trac.wordpress.org/ticket/1528

While /branches/1.5/ still has this bug (introduced post 1.5.1.3 into 
the 1.5 branch and fixed in 1.6)
http://trac.wordpress.org/ticket/1541

There is also this issue, about unescaped post-by-mail MySQL INSERTs
http://trac.wordpress.org/ticket/1536

Any other 1.5 bugs that are holding up a release?

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From kimmo+key+wordpress.c4f53f at suominen.com  Sat Aug  6 07:30:27 2005
From: kimmo+key+wordpress.c4f53f at suominen.com (Kimmo Suominen)
Date: Sat Aug  6 07:30:48 2005
Subject: [wp-hackers] Incoming Links from Technorati
In-Reply-To: <42F40992.5020600@midnightcircus.com>
References: <42F3EAC3.5050307@cameraontheroad.com>
	<42F40992.5020600@midnightcircus.com>
Message-ID: <20050806073027.GJ1970@kimmo.suominen.com>

On Fri, Aug 05, 2005 at 08:51:30PM -0400, Owen Winkler wrote:
> Lorelle VanFossen wrote:
> >We're getting a growing number of complaints by users about the Incoming 
> >Links section on the Dashboard sidebar.  
> >http://wordpress.org/support/topic/40222 is one that seems to point to 
> >some possibilties but no answers.
> 
> http://wordpress.org/support/topic/40018
> 
> Owen

It's good to have Incoming Links work again.  Thanks, Owen!

I was having some initial trouble with the parsing of the RSS failing, and
WP crashing due to trying to call an undefined error() function.  I'm not
sure if the patch below is the correct fix, or if the RSS started to work
while I was reading the code to fix it...

The second hunk patches the spot where WP was crashing in my case.

Regards,
+ Kimmo
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>


Index: rss-functions.php
===================================================================
--- rss-functions.php	(revision 2674)
+++ rss-functions.php	(working copy)
@@ -386,7 +386,7 @@
 			return _response_to_rss( $resp );
 		}
 		else {
-			error("Failed to fetch $url and cache is off");
+			$resp->error("Failed to fetch $url and cache is off");
 			return false;
 		}
 	} 
@@ -489,7 +489,7 @@
 		}
 		
 		// else we totally failed
-		error( $errormsg );	
+		$resp->error( $errormsg );	
 		
 		return false;
 		
From siryessir at punkass.com  Sat Aug  6 12:51:38 2005
From: siryessir at punkass.com (Mattias P)
Date: Sat Aug  6 12:51:50 2005
Subject: [wp-hackers] Re: WP 1.5.1.4 bugfix agenda (Mark Jaquith)
In-Reply-To: <20050806120001.C10D1C1DE@comox.textdrive.com>
References: <20050806120001.C10D1C1DE@comox.textdrive.com>
Message-ID: <42F4B25A.7010908@punkass.com>

Mark Jaquith wrote:

>I'm trying to find all issues in 1.5.1.3 or the 1.5 branch that need 
>fixing before a 1.5.1.4 or 1.5.2 release.  Feel free to jump in with 
>your suggestions.
>  
>
Does new hooks for plugins qualify for this?
If so, I made patches for tickets 1368, 1442 and 1481.
If not, what would be the right time for hooks?

Mattias
From false.hopes at gmail.com  Sat Aug  6 14:07:54 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Sat Aug  6 14:08:01 2005
Subject: [wp-hackers] Re: WP 1.5.1.4 bugfix agenda (Mark Jaquith)
In-Reply-To: <42F4B25A.7010908@punkass.com>
References: <20050806120001.C10D1C1DE@comox.textdrive.com>
	<42F4B25A.7010908@punkass.com>
Message-ID: <a491f91d05080607071c166a25@mail.gmail.com>

I think plugin hooks are better for the next version than a bugfix release.

On 8/6/05, Mattias P <siryessir@punkass.com> wrote:
> Mark Jaquith wrote:
> 
> >I'm trying to find all issues in 1.5.1.3 or the 1.5 branch that need
> >fixing before a 1.5.1.4 or 1.5.2 release.  Feel free to jump in with
> >your suggestions.
> >
> >
> Does new hooks for plugins qualify for this?
> If so, I made patches for tickets 1368, 1442 and 1481.
> If not, what would be the right time for hooks?
> 
> Mattias
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From dmhouse at gmail.com  Sat Aug  6 19:09:38 2005
From: dmhouse at gmail.com (David House)
Date: Sat Aug  6 19:09:45 2005
Subject: [wp-hackers] About comment_parent....
In-Reply-To: <42F2895B.7040003@idealabs.tk>
References: <42F2895B.7040003@idealabs.tk>
Message-ID: <ebe43d6805080612095afecb70@mail.gmail.com>

On 04/08/05, Gustavo Barron <cicloid@idealabs.tk> wrote:
> What is intention of having a comment_parent column in the comments table?
> 
> Can i use it for a threaded comments plugin?

This is entirely the point of the comment_parent column. If you're
making a threaded comments plugin, try looking at existing ones like
Brian's Threaded Comments [1].

[1]: http://meidell.dk/archives/2005/03/15/brians-threaded-comments-for-wordpress-15/

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From dmhouse at gmail.com  Sat Aug  6 19:11:39 2005
From: dmhouse at gmail.com (David House)
Date: Sat Aug  6 19:11:45 2005
Subject: [wp-hackers] forum post: sql injection
In-Reply-To: <42F305DD.5000104@txfx.net>
References: <7235ce78050804170137816f7b@mail.gmail.com>
	<000001c59951$275eeba0$0701000a@DB>
	<7235ce7805080417232fe36174@mail.gmail.com> <42F2F864.20405@txfx.net>
	<42F3008D.20708@boren.nu> <42F305DD.5000104@txfx.net>
Message-ID: <ebe43d680508061211269f9741@mail.gmail.com>

On 05/08/05, Mark Jaquith <mark.wordpress@txfx.net> wrote:
> So does this mean that as far as WP is concerned that magic quotes is
> always on?  I mean, obviously there are other ways of introducing data
> that will need to be escaped, but doesn't this mean that the $_GET,
> $_POST, $_COOKIE, and $_SERVER arrays are safe?

Yep. WP doesn't rely on magic_quotes_gpc.

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From dmhouse at gmail.com  Sat Aug  6 19:13:43 2005
From: dmhouse at gmail.com (David House)
Date: Sat Aug  6 19:13:48 2005
Subject: [wp-hackers] WP 1.5.1.4 bugfix agenda
In-Reply-To: <42F452BA.5070304@txfx.net>
References: <42F452BA.5070304@txfx.net>
Message-ID: <ebe43d680508061213235aad72@mail.gmail.com>

On 06/08/05, Mark Jaquith <mark.wordpress@txfx.net> wrote:
> I'm trying to find all issues in 1.5.1.3 or the 1.5 branch that need
> fixing before a 1.5.1.4 or 1.5.2 release.  Feel free to jump in with
> your suggestions.

Since when has the intention been to release 1.5.1.4 or 1.5.2? I
thought we were ploughing on toward 1.6. We haven't had a new-feature
release since 1.5.1, all the rest have just been security bugfixes.
Unless another security hole comes up, I don't see a reason to
realease 1.5.1.4. And as for 1.5.2, 1.5.1 is a solid enough base and
we should be putting our efforts into 1.6 for now.

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From cicloid at idealabs.tk  Sat Aug  6 19:35:17 2005
From: cicloid at idealabs.tk (Gustavo Barron)
Date: Sat Aug  6 19:34:56 2005
Subject: [wp-hackers] About comment_parent....
In-Reply-To: <ebe43d6805080612095afecb70@mail.gmail.com>
References: <42F2895B.7040003@idealabs.tk>
	<ebe43d6805080612095afecb70@mail.gmail.com>
Message-ID: <42F510F5.4000109@idealabs.tk>

David House wrote:

>On 04/08/05, Gustavo Barron <cicloid@idealabs.tk> wrote:
>  
>
>>What is intention of having a comment_parent column in the comments table?
>>
>>Can i use it for a threaded comments plugin?
>>    
>>
>
>This is entirely the point of the comment_parent column. If you're
>making a threaded comments plugin, try looking at existing ones like
>Brian's Threaded Comments [1].
>  
>
Already watched the Brian's Threaded Comments, but, i didnt like too
much the implementation... (well, especially the dependence of the
stylesheets, no stylesheets, all the design goes bogus...

And editing the comment.php for the template (that by the way does all
the job mostly), is not so easy....

>[1]: http://meidell.dk/archives/2005/03/15/brians-threaded-comments-for-wordpress-15/
>
>  
>
From gslin at ccca.nctu.edu.tw  Sat Aug  6 23:40:35 2005
From: gslin at ccca.nctu.edu.tw (Gea-Suan Lin)
Date: Sat Aug  6 23:40:44 2005
Subject: [wp-hackers] r2748 broken edit-form-advanced.php javascript part.
Message-ID: <20050806234035.GA31146@ccca.nctu.edu.tw>

(my WordPress version is 1.6-ALPHA-do-not-use)

After checkout the latest version, I found I can't use alexking's advanced
edit mode. After check the diff, I found the problem is in r2748.

See: http://trac.wordpress.org/changeset/2748#file0

If you put the following line before id="content", the javascript will fail:
edCanvas = document.getElementById('content');

In my Firefox 1.0.6, javascript console says:

Error: myField has no properties
Smurce File: http://gslin.org/wp-admin/quicktags.js
Line: 292

So I quickly fix it: (but I don't know if this fix will break tinymce)

--- edit-form-advanced.php      Sat Aug  6 16:35:00 2005
+++ /home/gslinn/edit-form-advanced.php Sat Aug  6 16:36:02 2005
@@ -139,6 +139,11 @@
 <legend><?php _e('Post') ?></legend>
 <?php if ( !get_option('rich_editing') ) : ?>
 <?php the_quicktags(); ?>
+<script type="text/javascript">
+<!--
+edCanvas = document.getElementById('content');
+//-->
+</script>
 <?php endif; ?>
 <?php
  $rows = get_settings('default_post_edit_rows');
@@ -147,11 +152,6 @@
  }
 ?>
 <div><textarea title="true" rows="<?php echo $rows; ?>" cols="40" name="content" tabindex="2" id="content"><?php echo $post->post_content ?></textarea></div>
-<script type="text/javascript">
-<!--
-edCanvas = document.getElementById('content');
-//-->
-</script>
 </fieldset>

 <?php echo $form_pingback ?>
@@ -216,4 +216,4 @@

 </div>

-</form>
+</form>

-- 
* Gea-Suan Lin  (public key: http://ccreader.nctu.edu.tw/~gslin/key.txt)
* If you cannot convince them, confuse them.           -- Harry S Truman
From false.hopes at gmail.com  Sun Aug  7 02:33:49 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Sun Aug  7 02:33:55 2005
Subject: [wp-hackers] r2748 broken edit-form-advanced.php javascript part.
In-Reply-To: <20050806234035.GA31146@ccca.nctu.edu.tw>
References: <20050806234035.GA31146@ccca.nctu.edu.tw>
Message-ID: <a491f91d05080619335426ec85@mail.gmail.com>

Two things. If Alex King's advanced edit form is a plugin, then we may
have to accept the fact that it is going to break from 1.5 to 1.6.
Second, this sort of post belongs on the testers list, as the recent
thread on the matter discusses.

On 8/6/05, Gea-Suan Lin <gslin@ccca.nctu.edu.tw> wrote:
> (my WordPress version is 1.6-ALPHA-do-not-use)
> 
> After checkout the latest version, I found I can't use alexking's advanced
> edit mode. After check the diff, I found the problem is in r2748.
> 
> See: http://trac.wordpress.org/changeset/2748#file0
> 
> If you put the following line before id="content", the javascript will fail:
> edCanvas = document.getElementById('content');
> 
> In my Firefox 1.0.6, javascript console says:
> 
> Error: myField has no properties
> Smurce File: http://gslin.org/wp-admin/quicktags.js
> Line: 292
> 
> So I quickly fix it: (but I don't know if this fix will break tinymce)
> 
> --- edit-form-advanced.php      Sat Aug  6 16:35:00 2005
> +++ /home/gslinn/edit-form-advanced.php Sat Aug  6 16:36:02 2005
> @@ -139,6 +139,11 @@
>  <legend><?php _e('Post') ?></legend>
>  <?php if ( !get_option('rich_editing') ) : ?>
>  <?php the_quicktags(); ?>
> +<script type="text/javascript">
> +<!--
> +edCanvas = document.getElementById('content');
> +//-->
> +</script>
>  <?php endif; ?>
>  <?php
>   $rows = get_settings('default_post_edit_rows');
> @@ -147,11 +152,6 @@
>   }
>  ?>
>  <div><textarea title="true" rows="<?php echo $rows; ?>" cols="40" name="content" tabindex="2" id="content"><?php echo $post->post_content ?></textarea></div>
> -<script type="text/javascript">
> -<!--
> -edCanvas = document.getElementById('content');
> -//-->
> -</script>
>  </fieldset>
> 
>  <?php echo $form_pingback ?>
> @@ -216,4 +216,4 @@
> 
>  </div>
> 
> -</form>
> +</form>
> 
> --
> * Gea-Suan Lin  (public key: http://ccreader.nctu.edu.tw/~gslin/key.txt)
> * If you cannot convince them, confuse them.           -- Harry S Truman
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From skippy at skippy.net  Sun Aug  7 03:09:14 2005
From: skippy at skippy.net (Scott Merrill)
Date: Sun Aug  7 03:09:18 2005
Subject: [wp-hackers] WP 1.5.1.4 bugfix agenda
In-Reply-To: <42F452BA.5070304@txfx.net>
References: <42F452BA.5070304@txfx.net>
Message-ID: <42F57B5A.2020508@skippy.net>

Mark Jaquith wrote:
> There is also this issue, about unescaped post-by-mail MySQL INSERTs
> http://trac.wordpress.org/ticket/1536

post-by-mail could use considerable attention.  I've seen more and more 
forum posts about it, and the provided tool is barely adequate.

This plugin:
http://www.audiolicious.com/weblog/2005/03/wordpress-gmail-mobile-blogging/
might be worth investigating.  I haven't tried it myself yet, but 
reports on the forums seem happy about it.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From m at mullenweg.com  Sun Aug  7 10:19:09 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Sun Aug  7 10:19:18 2005
Subject: [wp-hackers] Theme screenshots
Message-ID: <42F5E01D.9080707@mullenweg.com>

As of http://trac.wordpress.org/changeset/2757 , the presentation page 
now supports theme screenshots. Recommended size is 420x315, though 
something bigger with the same ratio should be decent. The themes 
available on extend will include screenshots to spec by tomorrow.

The page looks for screenshot.* in the theme directory and uses that as 
the image. This means you can use GIF or JPG or PNG or whatever gives yo 
you the best image quality and size. If someone wanted to be ultra-leet 
the "image" could be a .php file that generates a screenshot dynamically 
based on variables culled from the blog itself, like title and such.

Bugs about the implementation go to the wp-testers list or Trac, 
discussion about the concept or future of themes in general should stay 
on hackers. I hope everyone is having a good weekend!

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From jeff at jrm.cc  Sun Aug  7 10:27:10 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Sun Aug  7 10:27:20 2005
Subject: [wp-hackers] Theme screenshots
In-Reply-To: <42F5E01D.9080707@mullenweg.com>
References: <42F5E01D.9080707@mullenweg.com>
Message-ID: <42F5E1FE.2010800@jrm.cc>

Matthew Mullenweg wrote:
> The page looks for screenshot.* in the theme directory and uses that as 
> the image. This means you can use GIF or JPG or PNG or whatever gives yo 
> you the best image quality and size. If someone wanted to be ultra-leet 
> the "image" could be a .php file that generates a screenshot dynamically 
> based on variables culled from the blog itself, like title and such.
> 

And who, on this list, wouldn't want to be ultra-leet?

I mean, we get a cape or something, right?

Jeff
From false.hopes at gmail.com  Sun Aug  7 14:21:56 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Sun Aug  7 14:22:03 2005
Subject: [wp-hackers] Theme screenshots
In-Reply-To: <42F5E1FE.2010800@jrm.cc>
References: <42F5E01D.9080707@mullenweg.com> <42F5E1FE.2010800@jrm.cc>
Message-ID: <a491f91d0508070721728bdfae@mail.gmail.com>

You only get a cape if you tell us all how you did your implementation
and maybe make it work with all themes so that it doesn't have to come
bundled on a per-theme basis.

On 8/7/05, Jeff Minard <jeff@jrm.cc> wrote:
> Matthew Mullenweg wrote:
> > The page looks for screenshot.* in the theme directory and uses that as
> > the image. This means you can use GIF or JPG or PNG or whatever gives yo
> > you the best image quality and size. If someone wanted to be ultra-leet
> > the "image" could be a .php file that generates a screenshot dynamically
> > based on variables culled from the blog itself, like title and such.
> >
> 
> And who, on this list, wouldn't want to be ultra-leet?
> 
> I mean, we get a cape or something, right?
> 
> Jeff
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From false.hopes at gmail.com  Sun Aug  7 14:25:35 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Sun Aug  7 14:25:44 2005
Subject: [wp-hackers] WP 1.5.1.4 bugfix agenda
In-Reply-To: <42F57B5A.2020508@skippy.net>
References: <42F452BA.5070304@txfx.net> <42F57B5A.2020508@skippy.net>
Message-ID: <a491f91d0508070725e1a93eb@mail.gmail.com>

I've also noticed a considerable amount of problems with post-by-mail
on the forums, all with the same general error each time. I've also
heard a lot of fuss about pings and trackbacks, so perhaps the most
recent changes to xmlrpc need to be released also. If 1.6 is a few
months off, there's really not much of a reason to spend a few days to
throw out another release in the 1.5 branch. Maybe we should organize
a bug day for the 1.5 branch like Kitten organized a while back.

On 8/6/05, Scott Merrill <skippy@skippy.net> wrote:
> Mark Jaquith wrote:
> > There is also this issue, about unescaped post-by-mail MySQL INSERTs
> > http://trac.wordpress.org/ticket/1536
> 
> post-by-mail could use considerable attention.  I've seen more and more
> forum posts about it, and the provided tool is barely adequate.
> 
> This plugin:
> http://www.audiolicious.com/weblog/2005/03/wordpress-gmail-mobile-blogging/
> might be worth investigating.  I haven't tried it myself yet, but
> reports on the forums seem happy about it.
> 
> --
> skippy@skippy.net | http://skippy.net/
> 
> gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
> 506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From exmachina at gmail.com  Sun Aug  7 16:57:47 2005
From: exmachina at gmail.com (Ex Machina)
Date: Sun Aug  7 16:57:53 2005
Subject: [wp-hackers] WP 1.5.1.4 bugfix agenda
In-Reply-To: <a491f91d0508070725e1a93eb@mail.gmail.com>
References: <42F452BA.5070304@txfx.net> <42F57B5A.2020508@skippy.net>
	<a491f91d0508070725e1a93eb@mail.gmail.com>
Message-ID: <e1184a21050807095737e16692@mail.gmail.com>

I agree, current version od wp-mail.php in WordPress 1.5.1.3 just don't work!
From simos74 at gmx.net  Sun Aug  7 19:08:32 2005
From: simos74 at gmx.net (Simos Xenitellis)
Date: Sun Aug  7 19:07:55 2005
Subject: [wp-hackers] Addition of Greek translation of Wordpress
Message-ID: <42F65C30.4050603@gmx.net>

Hi All,
Could you please add the Greek translation of WordPress to
http://svn.automattic.com/wordpress-i18n/

The file is available from
http://translate.os.cs.teiath.gr/el/wordpress/el_SX.po

Please rename the file to "el.po" when adding to subversion.

BTW, we use a web-based translation tool to maintain translations, see
http://translate.os.cs.teiath.gr/el/
and this translation was a community effort (more than 8 people), listed
in the header of the .po file.

Regards,
Simos Xenitellis

From m at mullenweg.com  Sun Aug  7 19:24:40 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Sun Aug  7 19:24:54 2005
Subject: [wp-hackers] Personal options
Message-ID: <42F65FF8.1050705@mullenweg.com>

So we have personal options now, what belongs there?

What options and functionality should be customizable on a per-user 
level in addition to blog defaults (or instead of blog defaults)?

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From skeltoac at gmail.com  Sun Aug  7 21:16:53 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Sun Aug  7 21:16:57 2005
Subject: [wp-hackers] Personal options
In-Reply-To: <42F65FF8.1050705@mullenweg.com>
References: <42F65FF8.1050705@mullenweg.com>
Message-ID: <e6ec604d0508071416613f6f2@mail.gmail.com>

On 8/7/05, Matthew Mullenweg <m@mullenweg.com> wrote:
> So we have personal options now, what belongs there?
> 
> What options and functionality should be customizable on a per-user
> level in addition to blog defaults (or instead of blog defaults)?

Let each user choose how he wants his name anchored when he posts:
plain or hyperlink to URL or mailto.
From mikea at turbonet.com  Sun Aug  7 21:31:27 2005
From: mikea at turbonet.com (Michael D Adams)
Date: Sun Aug  7 21:30:17 2005
Subject: [wp-hackers] Personal options
In-Reply-To: <42F65FF8.1050705@mullenweg.com>
References: <42F65FF8.1050705@mullenweg.com>
Message-ID: <FF880415-DEA6-4A54-9FD5-EF276EA10658@turbonet.com>

We should probably also figure out what personal options need to get  
table_prefixed like user_level and capabilities do (all of them, none  
of them, some of them).  We could automatically deprefix such  
prefixed meta_keys when they get pulled into a user object.

Michael
--mdawaffe

On Aug 7, 2005, at 12:24 PM, Matthew Mullenweg wrote
> So we have personal options now, what belongs there?
>
> What options and functionality should be customizable on a per-user  
> level in addition to blog defaults (or instead of blog defaults)?

From mikea at turbonet.com  Sun Aug  7 22:07:07 2005
From: mikea at turbonet.com (Michael D Adams)
Date: Sun Aug  7 22:05:54 2005
Subject: [wp-hackers] Personal options
In-Reply-To: <FF880415-DEA6-4A54-9FD5-EF276EA10658@turbonet.com>
References: <42F65FF8.1050705@mullenweg.com>
	<FF880415-DEA6-4A54-9FD5-EF276EA10658@turbonet.com>
Message-ID: <981E05B4-2E5C-4FBA-94AB-19FFFE46AA1C@turbonet.com>

I just thought of something else.  Even for those options that don't  
get table_prefixed, a plugin could create another option that *was*  
prefixed which would override the "default" non-prefixed value  
(assuming we automatically deprefix such options).

Example:

I have two blogs (wp_ and wp2_) that share the same users and  
usermeta table.
I set rich_editing = false for a particular user.  Therefore,  
rich_editing = false then applies to that user in both blogs.
The user wants rich_editing on for wp2_ but not for wp_.
I write a plugin for wp2_ that allows the user to easily set  
wp2_rich_editing = true.
Now, when that user's user object gets created, WordPress will  
automatically strip the wp2_ prefix from the wp2_rich_editing  
meta_key and overwrites the value of rich_editing (the PHP variable -  
no change to the DB) *only* when that user is working on wp2_.

The obvious alternative is to NOT share usermeta tables.  I think,  
though, that sharing usermeta makes sense in some situations (and  
doesn't in others), so we should keep the option open.  Another  
alternative would be to have the plugin make WP listen to  
prefix_rich_editing instead of rich_editing, but that's harder.

Anyway, I don't know how useful that is for rich_editing or for  
anything else.  That's just another nuance to the issue of "What  
personal options, if any, should we table_prefix before storing them  
in the DB, and should we automatically deprefix them when we pull  
them out?"

My opinion:
rich_editing does not need to be table_prefixed (other options may  
need to be).
The code should automatically deprefix meta_keys for easier flexibility.

Michael

On Aug 7, 2005, at 2:31 PM, Michael D Adams wrote:
> We should probably also figure out what personal options need to  
> get table_prefixed like user_level and capabilities do (all of  
> them, none of them, some of them).  We could automatically deprefix  
> such prefixed meta_keys when they get pulled into a user object.
>
> Michael
> --mdawaffe
>
> On Aug 7, 2005, at 12:24 PM, Matthew Mullenweg wrote
>> So we have personal options now, what belongs there?
>>
>> What options and functionality should be customizable on a per- 
>> user level in addition to blog defaults (or instead of blog  
>> defaults)?

From m at mullenweg.com  Mon Aug  8 00:27:07 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Mon Aug  8 00:27:15 2005
Subject: [wp-hackers] Personal options
In-Reply-To: <981E05B4-2E5C-4FBA-94AB-19FFFE46AA1C@turbonet.com>
References: <42F65FF8.1050705@mullenweg.com>	<FF880415-DEA6-4A54-9FD5-EF276EA10658@turbonet.com>
	<981E05B4-2E5C-4FBA-94AB-19FFFE46AA1C@turbonet.com>
Message-ID: <42F6A6DB.4010908@mullenweg.com>

Michael D Adams wrote:
> My opinion:
> rich_editing does not need to be table_prefixed (other options may  need 
> to be).
> The code should automatically deprefix meta_keys for easier flexibility.

Yep, I came to the same conclusion for rich_editing. get_user_option 
does automatically grab the prefixed option transparently if it exists, 
so that's handled.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From m at mullenweg.com  Mon Aug  8 00:31:46 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Mon Aug  8 00:31:52 2005
Subject: [wp-hackers] WP 1.5.1.4 bugfix agenda
In-Reply-To: <42F57B5A.2020508@skippy.net>
References: <42F452BA.5070304@txfx.net> <42F57B5A.2020508@skippy.net>
Message-ID: <42F6A7F2.50908@mullenweg.com>

Scott Merrill wrote:
> post-by-mail could use considerable attention.  I've seen more and more 
> forum posts about it, and the provided tool is barely adequate.

I agree it needs some attention.

> This plugin:
> http://www.audiolicious.com/weblog/2005/03/wordpress-gmail-mobile-blogging/
> might be worth investigating.  I haven't tried it myself yet, but 
> reports on the forums seem happy about it.

Unfortunately it has several pre-reqs that would likely cause more 
support trouble if we tried to require them.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From skippy at skippy.net  Mon Aug  8 01:04:55 2005
From: skippy at skippy.net (Scott Merrill)
Date: Mon Aug  8 01:05:08 2005
Subject: [wp-hackers] Personal options
In-Reply-To: <42F6A6DB.4010908@mullenweg.com>
References: <42F65FF8.1050705@mullenweg.com>	<FF880415-DEA6-4A54-9FD5-EF276EA10658@turbonet.com>	<981E05B4-2E5C-4FBA-94AB-19FFFE46AA1C@turbonet.com>
	<42F6A6DB.4010908@mullenweg.com>
Message-ID: <42F6AFB7.6070604@skippy.net>

Matthew Mullenweg wrote:
> Michael D Adams wrote:
> 
>> My opinion:
>> rich_editing does not need to be table_prefixed (other options may  
>> need to be).
>> The code should automatically deprefix meta_keys for easier flexibility.
> 
> 
> Yep, I came to the same conclusion for rich_editing. get_user_option 
> does automatically grab the prefixed option transparently if it exists, 
> so that's handled.
> 

Since we have an option for rich editing, I'd like to suggest we extend 
that to a control for both WYSIWYG _and_ draggable widgets in the post 
composition screen.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From m at mullenweg.com  Mon Aug  8 01:09:39 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Mon Aug  8 01:09:49 2005
Subject: [wp-hackers] Personal options
In-Reply-To: <42F6AFB7.6070604@skippy.net>
References: <42F65FF8.1050705@mullenweg.com>	<FF880415-DEA6-4A54-9FD5-EF276EA10658@turbonet.com>	<981E05B4-2E5C-4FBA-94AB-19FFFE46AA1C@turbonet.com>	<42F6A6DB.4010908@mullenweg.com>
	<42F6AFB7.6070604@skippy.net>
Message-ID: <42F6B0D3.8020702@mullenweg.com>

Scott Merrill wrote:
> Since we have an option for rich editing, I'd like to suggest we extend 
> that to a control for both WYSIWYG _and_ draggable widgets in the post 
> composition screen.

Just to clarify, you're suggesting that when rich_editing is true it is 
as the default now and when it's false it disables TinyMCE and the 
customizable advanced interface? I haven't heard that much pushback 
against the latter (granted there will be people who disagree with *any* 
change), has it bugged anyone else on the list enough that it should be 
a built-in option?

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From skippy at skippy.net  Mon Aug  8 01:20:26 2005
From: skippy at skippy.net (Scott Merrill)
Date: Mon Aug  8 01:20:23 2005
Subject: [wp-hackers] Personal options
In-Reply-To: <42F6B0D3.8020702@mullenweg.com>
References: <42F65FF8.1050705@mullenweg.com>	<FF880415-DEA6-4A54-9FD5-EF276EA10658@turbonet.com>	<981E05B4-2E5C-4FBA-94AB-19FFFE46AA1C@turbonet.com>	<42F6A6DB.4010908@mullenweg.com>	<42F6AFB7.6070604@skippy.net>
	<42F6B0D3.8020702@mullenweg.com>
Message-ID: <42F6B35A.7020700@skippy.net>

Matthew Mullenweg wrote:
> Scott Merrill wrote:
> 
>> Since we have an option for rich editing, I'd like to suggest we 
>> extend that to a control for both WYSIWYG _and_ draggable widgets in 
>> the post composition screen.
> 
> 
> Just to clarify, you're suggesting that when rich_editing is true it is 
> as the default now and when it's false it disables TinyMCE and the 
> customizable advanced interface? 

Yes, that's what I am suggesting.

> I haven't heard that much pushback 
> against the latter (granted there will be people who disagree with *any* 
> change), has it bugged anyone else on the list enough that it should be 
> a built-in option?

The thread from June 23-ish "New Posting Screen", was never really 
resolved, as far as I saw.

I don't see what makes WYSIWYG, prima facie, deserving of an option, 
while draggable widgets undeserving.  I know _you_ want it in there; and 
I accept that maybe a lot of people want it in there.  But as you told 
me off-list, the rich edit option comes with a net loss of three 
options.  So even adding a seperate option for draggable widgets _still_ 
represents a net loss (read: savings) of two options.  Bundle rich edit 
and widgets into one option, and you retain your three options savings.

I don't see a lot of value to the interface changes for myself, and the 
users I support directly.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From fd at firasd.org  Mon Aug  8 01:27:08 2005
From: fd at firasd.org (Firas D.)
Date: Mon Aug  8 01:27:14 2005
Subject: [wp-hackers] Personal options
In-Reply-To: <42F6B0D3.8020702@mullenweg.com>
References: <42F65FF8.1050705@mullenweg.com>	<FF880415-DEA6-4A54-9FD5-EF276EA10658@turbonet.com>	<981E05B4-2E5C-4FBA-94AB-19FFFE46AA1C@turbonet.com>	<42F6A6DB.4010908@mullenweg.com>	<42F6AFB7.6070604@skippy.net>
	<42F6B0D3.8020702@mullenweg.com>
Message-ID: <42F6B4EC.2050704@firasd.org>

Matthew Mullenweg wrote:

> Scott Merrill wrote:
>
>> Since we have an option for rich editing, I'd like to suggest we 
>> extend that to a control for both WYSIWYG _and_ draggable widgets in 
>> the post composition screen.
>
>
> Just to clarify, you're suggesting that when rich_editing is true it 
> is as the default now and when it's false it disables TinyMCE and the 
> customizable advanced interface? I haven't heard that much pushback 
> against the latter (granted there will be people who disagree with 
> *any* change), has it bugged anyone else on the list enough that it 
> should be a built-in option?
>
They seem to have a 5px pull-limit to activate dragging (wild guess 
mainly), increasing it to 10px or so would be better. Also, eliminating 
the + and expanding/collapsing on click would reduce the accidental-drag 
factor.

The + is also a verrry small area to aim and click at, just in general. 
What's the point?

-- 
http://firasd.org

From mikea at turbonet.com  Mon Aug  8 02:43:09 2005
From: mikea at turbonet.com (Michael D Adams)
Date: Mon Aug  8 02:41:57 2005
Subject: [wp-hackers] Personal options
In-Reply-To: <42F6A6DB.4010908@mullenweg.com>
References: <42F65FF8.1050705@mullenweg.com>	<FF880415-DEA6-4A54-9FD5-EF276EA10658@turbonet.com>
	<981E05B4-2E5C-4FBA-94AB-19FFFE46AA1C@turbonet.com>
	<42F6A6DB.4010908@mullenweg.com>
Message-ID: <6E687DC1-3AB3-40DC-B65B-705C4BDA07B5@turbonet.com>

Oh.  So it does.  Sorry, I was looking at get_userdata.
All is well,
Michael

On Aug 7, 2005, at 5:27 PM, Matthew Mullenweg wrote:
> Michael D Adams wrote:
>> My opinion:
>> rich_editing does not need to be table_prefixed (other options  
>> may  need to be).
>> The code should automatically deprefix meta_keys for easier  
>> flexibility.
> Yep, I came to the same conclusion for rich_editing.  
> get_user_option does automatically grab the prefixed option  
> transparently if it exists, so that's handled.

From false.hopes at gmail.com  Mon Aug  8 02:45:49 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Aug  8 02:45:55 2005
Subject: [wp-hackers] Personal options
In-Reply-To: <42F6B4EC.2050704@firasd.org>
References: <42F65FF8.1050705@mullenweg.com>
	<FF880415-DEA6-4A54-9FD5-EF276EA10658@turbonet.com>
	<981E05B4-2E5C-4FBA-94AB-19FFFE46AA1C@turbonet.com>
	<42F6A6DB.4010908@mullenweg.com> <42F6AFB7.6070604@skippy.net>
	<42F6B0D3.8020702@mullenweg.com> <42F6B4EC.2050704@firasd.org>
Message-ID: <a491f91d050807194520d23695@mail.gmail.com>

The drag threshold is customizable according to the dbx site.

On 8/7/05, Firas D. <fd@firasd.org> wrote:
> Matthew Mullenweg wrote:
> 
> > Scott Merrill wrote:
> >
> >> Since we have an option for rich editing, I'd like to suggest we
> >> extend that to a control for both WYSIWYG _and_ draggable widgets in
> >> the post composition screen.
> >
> >
> > Just to clarify, you're suggesting that when rich_editing is true it
> > is as the default now and when it's false it disables TinyMCE and the
> > customizable advanced interface? I haven't heard that much pushback
> > against the latter (granted there will be people who disagree with
> > *any* change), has it bugged anyone else on the list enough that it
> > should be a built-in option?
> >
> They seem to have a 5px pull-limit to activate dragging (wild guess
> mainly), increasing it to 10px or so would be better. Also, eliminating
> the + and expanding/collapsing on click would reduce the accidental-drag
> factor.
> 
> The + is also a verrry small area to aim and click at, just in general.
> What's the point?
> 
> --
> http://firasd.org
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From m at mullenweg.com  Mon Aug  8 03:00:23 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Mon Aug  8 03:00:30 2005
Subject: [wp-hackers] Personal options
In-Reply-To: <a491f91d050807194520d23695@mail.gmail.com>
References: <42F65FF8.1050705@mullenweg.com>	<FF880415-DEA6-4A54-9FD5-EF276EA10658@turbonet.com>	<981E05B4-2E5C-4FBA-94AB-19FFFE46AA1C@turbonet.com>	<42F6A6DB.4010908@mullenweg.com>
	<42F6AFB7.6070604@skippy.net>	<42F6B0D3.8020702@mullenweg.com>
	<42F6B4EC.2050704@firasd.org>
	<a491f91d050807194520d23695@mail.gmail.com>
Message-ID: <42F6CAC7.8050007@mullenweg.com>

Robert Deaton wrote:
> The drag threshold is customizable according to the dbx site.

I just increased it to 10 and it seems to work better and also fixes the 
overlap bug we were having.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From mikea at turbonet.com  Mon Aug  8 04:28:01 2005
From: mikea at turbonet.com (Michael D Adams)
Date: Mon Aug  8 04:26:48 2005
Subject: [wp-hackers] Personal options
In-Reply-To: <42F65FF8.1050705@mullenweg.com>
References: <42F65FF8.1050705@mullenweg.com>
Message-ID: <352F9992-F410-436A-97AB-677BFBB307E3@turbonet.com>

Options that effect the way a user actively interfaces with the blog  
should be set on a per user basis.

Some ideas:

The other writing options seem natural
     Size of the post box (though this will be dynamic for everyone  
eventually, yes?)
     Emoticon conversion
     Default Post Category

Discussion options
     Some authors may like to set their pingback and comment settings  
different from the default.
     A user might also like to alter the "Before comment appears"  
settings.
     The above two may not be as useful as allowing a user to specify  
when they should be contacted ("Email me whenever").

Michael

On Aug 7, 2005, at 12:24 PM, Matthew Mullenweg wrote:
> So we have personal options now, what belongs there?
>
> What options and functionality should be customizable on a per-user  
> level in addition to blog defaults (or instead of blog defaults)?

From simos74 at gmx.net  Mon Aug  8 14:08:05 2005
From: simos74 at gmx.net (Simos Xenitellis)
Date: Mon Aug  8 14:07:28 2005
Subject: [wp-hackers] Re: [wp-polyglots] Polygots' Issues
In-Reply-To: <12e601c59c20$1395d440$230110ac@Heruka>
References: <42F6EC8B.5070902@firasd.org>	<1123497725.8675.2.camel@luggage.klijmij.net>
	<12e601c59c20$1395d440$230110ac@Heruka>
Message-ID: <42F76745.2010509@gmx.net>


I sent an e-mail to the wordpress-hackers mailing list regarding the 
addition of the Greek translation.
Still did not make it at http://svn.automattic.com/wordpress-i18n/
and there was no response either on the mailing list.
It looks to me that there is no localisation-minded developer on the 
wordpress developers team.
Is anyone from this list interested to apply for an SVN account on 
wordperss so that she/he
can work with such translation issues?

I am cc:ing this e-mail to the wp-hackers mailing list as well.

Simos

Rafael Bracho wrote:

> I'm on the same boat.  I have a Spanish/Mexican (es_MX) version 
> available.
>
> ----- Original Message ----- From: "Michel Klijmij" <michel@klijmij.net>
> To: <wp-polyglots@lists.automattic.com>
> Sent: Monday, 08 August, 2005 03:42
> Subject: Re: [wp-polyglots] Polygots' Issues
>
>
>> Op ma, 08-08-2005 te 01:24 -0400, schreef Firas D.:
>>
>>> It seems that, if we generalize translation to:
>>>
>>> 1) Finding things
>>> 2) Working with them
>>> 3) Submitting them once complete
>>>
>>> Most of you are fine with (2), many can manage (1), but (3) is 
>>> causing much hair-tearing. Is that correct?
>>
>>
>> Well, it says on the Codex that one just has to subscribe to this list
>> and Everything Will Be Okay. I have said a few times that I have a
>> translation (nl_NL) and would like to have it incorporated in WordPress,
>> and this was greeted with deafening silence except for one response of
>> someone who was also dutch.
>>
>> I don't mind too much, as most people seem to be able to find my site
>> and the relevant files, but it strengthens the idea that the WordPress
>> people don't really care about other languages than English.
>> -- 
>> Kind regards,
>>
>> Michel Klijmij
>

From dstewart at atl.lmco.com  Mon Aug  8 14:34:36 2005
From: dstewart at atl.lmco.com (Doug Stewart)
Date: Mon Aug  8 14:34:40 2005
Subject: [wp-hackers] Comment rating - a feature request
In-Reply-To: <42F28AFA.6020202@idealabs.tk>
References: <74b84aa305072220015f3d571b@mail.gmail.com>
	<20050723050324.gaqutbtc03cwko88@banana.catalyst2.com>
	<42E4E547.4010405@atl.lmco.com> <20050725133448.M4121@7el.net>
	<42F277F3.4090809@idealabs.tk> <42F28407.8030401@atl.lmco.com>
	<42F28AFA.6020202@idealabs.tk>
Message-ID: <42F76D7C.2070003@atl.lmco.com>

Gustavo Barron wrote:
> I have been working in a PHPNuke2WP importer... in fact I also have
> importers for other systems, but, i was to lazy to post about them in
> the hacker list...
> 
> Maybe in the afternoon, I will make avaible the first version of the
> import-nuke.php script...

Any word on the progress of this script?
-- 
----------
Doug Stewart
Systems Administrator/Web Applications Developer
Lockheed Martin Advanced Technology Labs
dstewart@atl.lmco.com
From ringmaster at midnightcircus.com  Mon Aug  8 16:25:57 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Mon Aug  8 16:21:25 2005
Subject: [wp-hackers] Javascript and edit-form-advanced
Message-ID: <42F78795.1090306@midnightcircus.com>

Two issues up for comment:

1.
What do you think of the idea of moving javascript files (*.js) to their 
own dedicated directory?

People may like to use the fancy javascript libraries that are rapidly 
being incorporated in 1.6 from places other than the admin, and it might 
be nice if those files were not in the /wp-admin directory, yet 
somewhere that plugins and themes could expect to find them.

I suggest /wp-scripts

2.
What do you think of moving the edit-form-advanced hook *inside* the 
Advanced collapsable div?

I know that I wouldn't mind seeing some people's controls moved down 
into the collapsable area, as well as on some plugins of my own.

If we don't move the hook location, how about a new hook that's inside 
that div?

We might want a hook inside the right-side div, too, to add things into 
that area.

Thoughts?

Owen

From cicloid at idealabs.tk  Mon Aug  8 20:45:22 2005
From: cicloid at idealabs.tk (Gustavo Barron)
Date: Mon Aug  8 20:44:12 2005
Subject: [wp-hackers] Import from NUKE script...
Message-ID: <42F7C462.5030506@idealabs.tk>

Well, somedays ago I promise to upload my import script from php-nuke to
wordpress, well, here is:

http://idealabs.tk/dev/import-nuke.phps

Known issues:
    - The wordpress install has to be in the same DB that the php-nuke
install...
    - Dosnt Import Users and Categories.
    - Need to work the nested comments to support the comment_parent
column on wordpress (that will be a big aid for a nested comments plugin
I'm making)

And of course feedback is welcome...
From jalenack at gmail.com  Mon Aug  8 20:58:02 2005
From: jalenack at gmail.com (Jalenack)
Date: Mon Aug  8 20:58:25 2005
Subject: [wp-hackers] Hello Dolly's future
Message-ID: <ed51b67c05080813586fcf6f9e@mail.gmail.com>

The new 1.6 design makes the default Hello Dolly plugin styling very off 
(overlapping with the sign out and profile links). Perhaps this is a good 
time to discuss whether Hello Dolly should continue or be replaced by a 
more....useful plugin.

I don't know if Matt is partial to it, but it just seems useless. As a 
plugin example for newbie plugin writers, it may be alright (due to its 
simplicity). But perhaps it could be replaced with something like the Docs 
Search (formerly Codex Search) plugin or the WP Up-to-date plugin. They are 
considerably more complex than Hello Dolly, but they're very useful. The 
styling would need to be tweaked so they don't conflict with the new stuff 
in the top-right (perhaps they could be bumped right below that). 

My vote is for the Docs Search plugin, because it gives users tons of WP 
information at their fingertips, and could reduce a lot of repetitive forum 
posts. Also because it's my plugin (and Owen's!)..heh

Thoughts?

-- 
Andrew Sutherland
Jalenack.com <http://Jalenack.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050808/c5da0133/attachment.html
From m at mullenweg.com  Mon Aug  8 21:04:38 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Aug  8 21:04:58 2005
Subject: [wp-hackers] Hello Dolly's future
In-Reply-To: <ed51b67c05080813586fcf6f9e@mail.gmail.com>
References: <ed51b67c05080813586fcf6f9e@mail.gmail.com>
Message-ID: <42F7C8E6.3010903@mullenweg.com>

Jalenack wrote:
> The new 1.6 design makes the default Hello Dolly plugin styling very off 
> (overlapping with the sign out and profile links). Perhaps this is a 
> good time to discuss whether Hello Dolly should continue or be replaced 
> by a more....useful plugin.

I made an updated version, thought I checked it in but if not it's on my 
home comp.

> My vote is for the Docs Search plugin, because it gives users tons of WP 
> information at their fingertips, and could reduce a lot of repetitive 
> forum posts. Also because it's my plugin (and Owen's!)..heh

I'd be curious to hear other plugin candidates for distribution 
inclusion. Please remember size is also a factor, there are some plugins 
which are half again the size of WP itself.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From cicloid at idealabs.tk  Mon Aug  8 21:07:54 2005
From: cicloid at idealabs.tk (Gustavo Barron)
Date: Mon Aug  8 21:06:42 2005
Subject: [wp-hackers] Hello Dolly's future
In-Reply-To: <ed51b67c05080813586fcf6f9e@mail.gmail.com>
References: <ed51b67c05080813586fcf6f9e@mail.gmail.com>
Message-ID: <42F7C9AA.8090309@idealabs.tk>

Jalenack wrote:

> The new 1.6 design makes the default Hello Dolly plugin styling very
> off (overlapping with the sign out and profile links). Perhaps this is
> a good time to discuss whether Hello Dolly should continue or be
> replaced by a more....useful plugin.
>
> I don't know if Matt is partial to it, but it just seems useless. As a
> plugin example for newbie plugin writers, it may be alright (due to
> its simplicity). But perhaps it could be replaced with something like
> the Docs Search (formerly Codex Search) plugin or the WP Up-to-date
> plugin. They are considerably more complex than Hello Dolly, but
> they're very useful. The styling would need to be tweaked so they
> don't conflict with the new stuff in the top-right (perhaps they could
> be bumped right below that).
>
> My vote is for the Docs Search plugin, because it gives users tons of
> WP information at their fingertips, and could reduce a lot of
> repetitive forum posts. Also because it's my plugin (and Owen's!)..heh
>
> Thoughts?

My best plugin is based on hello dolly :P (It puts Such Great Height
Lyrics, and checks if is the normal layout or WP-Admin Tiger, wich i use :P)
From cicloid at idealabs.tk  Mon Aug  8 21:14:25 2005
From: cicloid at idealabs.tk (Gustavo Barron)
Date: Mon Aug  8 21:13:04 2005
Subject: [wp-hackers] Hello Dolly's future
In-Reply-To: <42F7C8E6.3010903@mullenweg.com>
References: <ed51b67c05080813586fcf6f9e@mail.gmail.com>
	<42F7C8E6.3010903@mullenweg.com>
Message-ID: <42F7CB31.3080406@idealabs.tk>

Matt Mullenweg wrote:

> Jalenack wrote:
>
>> The new 1.6 design makes the default Hello Dolly plugin styling very
>> off (overlapping with the sign out and profile links). Perhaps this
>> is a good time to discuss whether Hello Dolly should continue or be
>> replaced by a more....useful plugin.
>
>
> I made an updated version, thought I checked it in but if not it's on
> my home comp.
>
>> My vote is for the Docs Search plugin, because it gives users tons of
>> WP information at their fingertips, and could reduce a lot of
>> repetitive forum posts. Also because it's my plugin (and Owen's!)..heh
>
>
> I'd be curious to hear other plugin candidates for distribution
> inclusion. Please remember size is also a factor, there are some
> plugins which are half again the size of WP itself.
>
Gravatars, Favatars, WP-Contact Form, also the search codex plugin is a
good idea...
From ringmaster at midnightcircus.com  Mon Aug  8 21:19:07 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Mon Aug  8 21:14:24 2005
Subject: [wp-hackers] Hello Dolly's future
In-Reply-To: <ed51b67c05080813586fcf6f9e@mail.gmail.com>
References: <ed51b67c05080813586fcf6f9e@mail.gmail.com>
Message-ID: <42F7CC4B.2080102@midnightcircus.com>

Jalenack wrote:
> My vote is for the Docs Search plugin, because it gives users tons of WP 
> information at their fingertips, and could reduce a lot of repetitive forum 
> posts. Also because it's my plugin (and Owen's!)..heh

Hello Dolly is very simple and functions as a kind of baseline plugin 
for plugin devs.  Search Docs is pretty complicated (Ajax, remote-calls, 
etc.) to be using as an example.

Don't get me wrong, I would really like to see Search Docs distributed 
with or its functionality included as part of the core, I'm just not 
convinced it's a good candidate to replace Hello Dolly specifically.

(Incidentally, I patched search-docs to temporarily move the box down 
below the Sign Out/My Account stuff.  Looks kind of sloppy at the moment 
/hint-hint/, but it works.)

Owen

From exmachina at gmail.com  Mon Aug  8 21:38:25 2005
From: exmachina at gmail.com (Ex Machina)
Date: Mon Aug  8 21:38:34 2005
Subject: [wp-hackers] WordPress AJAX rating of Posts
Message-ID: <e1184a2105080814384b08a76b@mail.gmail.com>

Have a look at the goblin' Blog: 

http://www.goblinblog.be/

Cool, hu ?

A+ Brice
-- 
Brice Le Blevennec, Digerati, ListDad, <http://www.brice.net> 
Emakina S.A. - The e-business Agency <http://www.emakina.com> 
Ex Machina Television S.P.R.L.- Television & Radio Production 
<http://www.cybercafe.tv> & <http://www.singlefm.com> 
Contact Office Group S.A. - The Professional Online Office 
<http://www.contactoffice.com>
From denis at semiologic.com  Mon Aug  8 21:40:18 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Mon Aug  8 21:40:19 2005
Subject: [wp-hackers] Hello Dolly's future
In-Reply-To: <42F7C8E6.3010903@mullenweg.com>
Message-ID: <000001c59c61$c5282370$0701000a@DB>

> I'd be curious to hear other plugin candidates for distribution 
> inclusion. Please remember size is also a factor, there are 
> some plugins 
> which are half again the size of WP itself.

http://txfx.net/2005/05/30/one-permalink-only/
http://somethingunpredictable.com/wp-no-ping-wait/
http://www.semiologic.com/projects/frame-buster/
http://www.semiologic.com/projects/dofollow/
http://www.semiologic.com/projects/unfancy-quote/
http://www.daven.se/english/wp-plugins.html
http://scott.yang.id.au/2005/05/permalink-redirect/

D.

From false.hopes at gmail.com  Mon Aug  8 23:38:42 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Aug  8 23:38:49 2005
Subject: [wp-hackers] Localizing URLs and Rewrites
Message-ID: <a491f91d050808163842c514be@mail.gmail.com>

A thread[1] was recently brought up on the support forums about
localizing the Rewrite rules. While looking for the answer, I stumbled
upon a few various localization questions that could be posed. First
off, shouldn't we allow things like pages/ to be localized so that
blog users never really have to see any english if their blog is
localized. Furthermore, I noticed that there's no method of
localization on things like %monthnum% and %post_id% for
options-permalinks.php, which could make creating permalinks a bit
more confusing for those who do not know english. Should any of this
even be localized? Should a bug be filed? Should we leave them be
since we haven't heard complaints yet?

http://wordpress.org/support/topic/41383

-- 
--Robert Deaton
http://somethingunpredictable.com
From m at mullenweg.com  Tue Aug  9 02:14:44 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Tue Aug  9 02:15:05 2005
Subject: [wp-hackers] 1.5.2
Message-ID: <42F81194.9090407@mullenweg.com>

It's going to be long enough before the next release (1.6) and there are 
enough fixes to warrant another release in the otherwise stable 1.5 branch.

I'm curious what bugs are most annoying to people or what hooks are most 
needed in this bugfix/minor feature release.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From m at mullenweg.com  Tue Aug  9 02:25:51 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Tue Aug  9 02:26:07 2005
Subject: [wp-hackers] Localizing URLs and Rewrites
In-Reply-To: <a491f91d050808163842c514be@mail.gmail.com>
References: <a491f91d050808163842c514be@mail.gmail.com>
Message-ID: <42F8142F.5010405@mullenweg.com>

Robert Deaton wrote:
> localized. Furthermore, I noticed that there's no method of
> localization on things like %monthnum% and %post_id% for
> options-permalinks.php, which could make creating permalinks a bit
> more confusing for those who do not know english. Should any of this
> even be localized? Should a bug be filed? Should we leave them be
> since we haven't heard complaints yet?

I don't think we should localize those variables any more than we 
localize function names. Anyway with the new interface there is much 
less guesswork involved, the variables aren't as important.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From denis at semiologic.com  Tue Aug  9 02:30:06 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Tue Aug  9 02:30:02 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F81194.9090407@mullenweg.com>
Message-ID: <000001c59c8a$41d86dd0$0701000a@DB>

among other things, xmlrpc publishes pingbacks -- without the title -- even
as pingbacks are supposedly turned off.

D.

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com 
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of 
> Matthew Mullenweg
> Sent: Monday, August 08, 2005 7:15 PM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] 1.5.2
> 
> 
> It's going to be long enough before the next release (1.6) 
> and there are 
> enough fixes to warrant another release in the otherwise 
> stable 1.5 branch.
> 
> I'm curious what bugs are most annoying to people or what 
> hooks are most 
> needed in this bugfix/minor feature release.
> 
> -- 
> Matt Mullenweg
>   http://photomatt.net | http://wordpress.org 
> http://pingomatic.com | http://cnet.com 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com 
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From r at schestowitz.com  Tue Aug  9 02:37:30 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Tue Aug  9 02:37:08 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F81194.9090407@mullenweg.com>
References: <42F81194.9090407@mullenweg.com>
Message-ID: <20050809033730.0cykw0bhw7uo4sos@banana.catalyst2.com>

Quoting Matthew Mullenweg <m@mullenweg.com>:

> It's going to be long enough before the next release (1.6) and there are
> enough fixes to warrant another release in the otherwise stable 1.5 branch.
>
> I'm curious what bugs are most annoying to people or what hooks are most
> needed in this bugfix/minor feature release.

I am sorry to be a nuisance by putting forward my opinion, but is the 
release of
1.5.2 truly necessary? There have already been many fixes which urged 
people to
upgrade. Each such upgrade degrades the sense of credibility. Take phpBB, for
example, with version 2.0.17 which was released a week or two ago (Safari fix
IIRC). 2.0.16 was a very critical update which meant that anyone refusing to
upgrade could bring down an entire shared server. Then, there are the small
browser compatibility fixes that had people upgrading in frustration and
considering giving up phpBB altogether because of the maintenace associated.
Each time it appears as if the final ("Grand") update has come around and yet
another one comes around and demands attention.

The only big pro I can think of are people installing WordPress for the first
time. They might as well go for 1.5.2 (which does not appear like a
sub-sub-sub-version). The question is: is it worth having hundreds of 
thousands
of Webmasters feel like they use a stable version that is out-of-date? Then
there emerges the fear over security issues. Not everyone keeps track of what
the changes between releases actually are. I can't stress the latter point
strongly enough...

Roy

-- 
Roy S. Schestowitz
http://Schestowitz.com

From skippy at skippy.net  Tue Aug  9 02:51:36 2005
From: skippy at skippy.net (Scott Merrill)
Date: Tue Aug  9 02:51:41 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <20050809033730.0cykw0bhw7uo4sos@banana.catalyst2.com>
References: <42F81194.9090407@mullenweg.com>
	<20050809033730.0cykw0bhw7uo4sos@banana.catalyst2.com>
Message-ID: <42F81A38.9060308@skippy.net>

Roy Schestowitz wrote:
> Each time it appears as if the final ("Grand") update has come around 
> and yet
> another one comes around and demands attention.

Software will never be "complete".

> The only big pro I can think of are people installing WordPress for the 
> first time.

There are a lot of niggling bugs in 1.5.1.3.  Each WordPress upgrade has 
been _painless_ for me, and I'd venture for most other folks, too.  It's 
not too hard to download, run upgrade.php, and enjoy all the new bugfixes.

> of Webmasters feel like they use a stable version that is out-of-date? Then
> there emerges the fear over security issues. Not everyone keeps track of 
> what
> the changes between releases actually are. I can't stress the latter point
> strongly enough...

I would suggest that before a 1.5.2 release, we make a concerted effort 
to audit all mechanisms that accept user input, and make sure that 
exploits are as mitigated against as possible.

As for what to put in, I say all the requested plugin hooks: they're 
easy to implement and don't significantly change current behavior.

XMLRPC and post-by-email should trigger publish_post, if they don't yet.

Future-dated posts should not generate pings.

Adding the new search plugin would be useful, to get it into people's 
lives before 1.6, when there's likely going to be a fresh rush of people 
looking for support.

I'd be tickled to see my WP-DB Backup plugin bundled with (or rolled in) 
the main download.  The new version is super sexy, thanks to Owen.  Now 
if only I could find someone to write a "Restore" routine for me... =)

Would now be a good time for the "4 spaces to tabs" conversion?
    http://trac.wordpress.org/ticket/986

What about the update service?
    http://trac.wordpress.org/ticket/1476
I really think this is a good idea.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From r at schestowitz.com  Tue Aug  9 03:25:13 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Tue Aug  9 03:24:34 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F81A38.9060308@skippy.net>
References: <42F81194.9090407@mullenweg.com>
	<20050809033730.0cykw0bhw7uo4sos@banana.catalyst2.com>
	<42F81A38.9060308@skippy.net>
Message-ID: <20050809042513.t26gnxhtvf7oocwk@banana.catalyst2.com>

Quoting Scott Merrill <skippy@skippy.net>:

> Roy Schestowitz wrote:
>> Each time it appears as if the final ("Grand") update has come 
>> around and yet
>> another one comes around and demands attention.
>
> Software will never be "complete".


I was referring to minor releases -- (in)significant bugs fixes if you 
like. As
PHP packages like WordPress are eying 1.6, phpBB eye version 3 and Gallery
await version 2 (now a Release Candidate), there is this type of 
'trail' of old
fixes lagging behind. It is always best off avoided.

As yet another example, take Mozilla Firefox. The team lost a lot of 
motivation
and momentum after the series of 1.0.1-5(6?). There was supposed to be a
released of 1.1 in July this year (in accordance with the roadmap as of May),
but it was conceded due to complications. 1.5 will be the next release as a
consequence < http://www.mozilla.org/projects/firefox/roadmap.html >.

To be a little strict, some software can actually be "complete", but it 
tends to
be simple software where the specifications can be described mathematically or
analytically. Then, there is just the issue of fidelity, but this can be
considered as a separate project.


>> The only big pro I can think of are people installing WordPress for 
>> the first time.
>
> There are a lot of niggling bugs in 1.5.1.3.  Each WordPress upgrade has
> been _painless_ for me, and I'd venture for most other folks, too.  It's
> not too hard to download, run upgrade.php, and enjoy all the new bugfixes.


It has been very painless because you are familiar with WordPress. Some people
had somebody else install WordPress for them. FTP or running a PHP file (as
opposed to hitting an icon in the bookmarks) is a daunting task to a 
proportion
of the user base.

Roy

-- 
Roy S. Schestowitz
http://Schestowitz.com

From false.hopes at gmail.com  Tue Aug  9 03:57:39 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Aug  9 03:57:47 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <20050809042513.t26gnxhtvf7oocwk@banana.catalyst2.com>
References: <42F81194.9090407@mullenweg.com>
	<20050809033730.0cykw0bhw7uo4sos@banana.catalyst2.com>
	<42F81A38.9060308@skippy.net>
	<20050809042513.t26gnxhtvf7oocwk@banana.catalyst2.com>
Message-ID: <a491f91d050808205722fbfef9@mail.gmail.com>

On the contrary, WordPress has the simplest upgrade process for any
webbased software that I know of. Face it, if you can't use FTP, you
need help, let's give the people at least a little bit of credit here,
its not that hard.

Secondly, without releases to fix bugs, software tends to lose more
credibility than having to upgrade often. Its been well over a month
between releases, and there are many outstanding bugs that need to be
fixed. If we released for one tiny bug, it'd be one thing, but we are
talking about some major features being broken. Lighten up a little
bit

Back on the topic, I think that a ping fix for post times would be
incredibly useful. Fixing it is no harder than:

                register_shutdown_function('pingback', $content, $post_ID);
                register_shutdown_function('do_trackbacks', $post_ID);
                register_shutdown_function('do_enclose', $content, $post_ID);

as opposed to their normal calls in post.php.It suffers no
disadvantage and will surely cut down on the forum questions on the
topic.


On 8/8/05, Roy Schestowitz <r@schestowitz.com> wrote:
> Quoting Scott Merrill <skippy@skippy.net>:
> 
> > Roy Schestowitz wrote:
> >> Each time it appears as if the final ("Grand") update has come
> >> around and yet
> >> another one comes around and demands attention.
> >
> > Software will never be "complete".
> 
> 
> I was referring to minor releases -- (in)significant bugs fixes if you
> like. As
> PHP packages like WordPress are eying 1.6, phpBB eye version 3 and Gallery
> await version 2 (now a Release Candidate), there is this type of
> 'trail' of old
> fixes lagging behind. It is always best off avoided.
> 
> As yet another example, take Mozilla Firefox. The team lost a lot of
> motivation
> and momentum after the series of 1.0.1-5(6?). There was supposed to be a
> released of 1.1 in July this year (in accordance with the roadmap as of May),
> but it was conceded due to complications. 1.5 will be the next release as a
> consequence < http://www.mozilla.org/projects/firefox/roadmap.html >.
> 
> To be a little strict, some software can actually be "complete", but it
> tends to
> be simple software where the specifications can be described mathematically or
> analytically. Then, there is just the issue of fidelity, but this can be
> considered as a separate project.
> 
> 
> >> The only big pro I can think of are people installing WordPress for
> >> the first time.
> >
> > There are a lot of niggling bugs in 1.5.1.3.  Each WordPress upgrade has
> > been _painless_ for me, and I'd venture for most other folks, too.  It's
> > not too hard to download, run upgrade.php, and enjoy all the new bugfixes.
> 
> 
> It has been very painless because you are familiar with WordPress. Some people
> had somebody else install WordPress for them. FTP or running a PHP file (as
> opposed to hitting an icon in the bookmarks) is a daunting task to a
> proportion
> of the user base.
> 
> Roy
> 
> --
> Roy S. Schestowitz
> http://Schestowitz.com
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From michael at wakeless.net  Tue Aug  9 04:50:28 2005
From: michael at wakeless.net (Michael Gall)
Date: Tue Aug  9 04:46:51 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <20050809042513.t26gnxhtvf7oocwk@banana.catalyst2.com>
References: <42F81194.9090407@mullenweg.com>	<20050809033730.0cykw0bhw7uo4sos@banana.catalyst2.com>	<42F81A38.9060308@skippy.net>
	<20050809042513.t26gnxhtvf7oocwk@banana.catalyst2.com>
Message-ID: <42F83614.8070005@wakeless.net>

Roy Schestowitz wrote:
>
> As yet another example, take Mozilla Firefox. The team lost a lot of 
> motivation
> and momentum after the series of 1.0.1-5(6?). There was supposed to be a
> released of 1.1 in July this year (in accordance with the roadmap as 
> of May),
> but it was conceded due to complications. 1.5 will be the next release 
> as a
> consequence < http://www.mozilla.org/projects/firefox/roadmap.html >.

The minor dot releases to Firefox were purely security fixes that as far 
as I'm concerned are necessary, there are no new features in these minor 
releases. The changing of the name of the next FF release to 1.1 -> 1.5 
is purely due to the fact they have taken more features than was 
originally planned (Whether or not this is a good idea remains to be 
seen), it is exactly the same as Wordpress 1.3 actually being released 
as 1.5.

As far as I'm concerned a minor feature release of 1.5.2 is a good thing 
especially if a full security audit is performed with it.



Cheers,

Michael

From wp at igeek.info  Tue Aug  9 07:49:44 2005
From: wp at igeek.info (Amit Gupta)
Date: Tue Aug  9 07:49:58 2005
Subject: [wp-hackers] suggestions for the next (not immediate)release
Message-ID: <001a01c59cb6$eabbe310$57ebd4cb@unicorn>

I've one suggestion for the next release, it needs not be the immediate 
next release.
How about reducing & optimising the code for faster execution? WordPress 
still lacks a lot behind TextPattern & LightPress(though its only a 
front-end for WordPress) when it comes to speed. Recently I've heard a 
lot of people complaining about speed and a cacheing solution like 
WP-Cache2, though effective, is not much of an improvement as its sort 
of cookie based, so if a client visits the blog & the home page gets 
cached, that same cached copy will be served to him on his next visit & 
not to someone else visiting from somewhere else. So its sort of a 
waste, more so if you consider the hit/miss ratio. So while these people 
are quite impressed by WP on the whole, its the speed that worries them 
after they've tried out LightPress & TextPattern.

I think that the WP code is to be tightened up a bit for more speed and 
if WP can incorporate a cache system tailored 100% for it & built into 
it, then it would be quite cool and improve the speed a lot. so instead 
of putting in a truck load of new features, one release in recent future 
can be done with the main focus on increasing speed & keeping new 
features to a minimum or none.

just my suggestion

thoughts? comments?

------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050809/66e81944/attachment.html
From wp at igeek.info  Tue Aug  9 07:57:45 2005
From: wp at igeek.info (Amit Gupta)
Date: Tue Aug  9 07:57:59 2005
Subject: [wp-hackers] Personal options
References: <42F65FF8.1050705@mullenweg.com>
Message-ID: <006101c59cb8$091fed50$57ebd4cb@unicorn>

how about making it so that whenever a user posts, his name(one which is 
displayed along the post) is anchored & on clicking it, that user's 
profile is displayed? maybe with an image which can be optional on 
per-user basis.

also, it would be cool to have the clean URI structure to be like this 
for a user profile
http://BlogRoot/UserName
or
http://BlogRoot/user/UserName

------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter





  ----- Original Message ----- 
  From: Matthew Mullenweg
  To: wp-hackers@lists.automattic.com
  Sent: Monday, August 08, 2005 12:54 AM
  Subject: [wp-hackers] Personal options


  So we have personal options now, what belongs there?

  What options and functionality should be customizable on a per-user
  level in addition to blog defaults (or instead of blog defaults)?

  -- 
  Matt Mullenweg
    http://photomatt.net | http://wordpress.org
  http://pingomatic.com | http://cnet.com
  _______________________________________________
  wp-hackers mailing list
  wp-hackers@lists.automattic.com
  http://lists.automattic.com/mailman/listinfo/wp-hackers


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050809/791ae28e/attachment.html
From jbainbridge at gmail.com  Tue Aug  9 08:06:14 2005
From: jbainbridge at gmail.com (Jason Bainbridge)
Date: Tue Aug  9 08:06:22 2005
Subject: [wp-hackers] suggestions for the next (not immediate)release
In-Reply-To: <001a01c59cb6$eabbe310$57ebd4cb@unicorn>
References: <001a01c59cb6$eabbe310$57ebd4cb@unicorn>
Message-ID: <d6491f480508090106277beebc@mail.gmail.com>

On 8/9/05, Amit Gupta <wp@igeek.info> wrote:
>  
> I've one suggestion for the next release, it needs not be the immediate next
> release.
> How about reducing & optimising the code for faster execution? WordPress
> still lacks a lot behind TextPattern & LightPress(though its only a
> front-end for WordPress) when it comes to speed. Recently I've heard a lot
> of people complaining about speed and a cacheing solution like WP-Cache2,
> though effective, is not much of an improvement as its sort of cookie based,
> so if a client visits the blog & the home page gets cached, that same cached
> copy will be served to him on his next visit & not to someone else visiting
> from somewhere else. So its sort of a waste, more so if you consider the
> hit/miss ratio. 

What gave you that idea? Wp-Cache 2 -
http://mnm.uib.es/gallir/wp-cache-2/ is a server side caching solution
and has nothing to do with the client, the plugin checks to see if
there is a static file for the requested page on the server and if not
creates one, then it has checks to check things like when a new post
is made so the cache gets flushed on the server automatically.

Regards,
-- 
Jason Bainbridge
http://kde.org - webmaster@kde.org
Personal Site - http://jasonbainbridge.com
From wp at igeek.info  Tue Aug  9 08:16:08 2005
From: wp at igeek.info (Amit Gupta)
Date: Tue Aug  9 08:16:25 2005
Subject: [wp-hackers] suggestions for the next (not immediate)release
References: <001a01c59cb6$eabbe310$57ebd4cb@unicorn>
	<d6491f480508090106277beebc@mail.gmail.com>
Message-ID: <010301c59cba$9b7a2290$57ebd4cb@unicorn>

I know WP-Cache2 is a server-side cacheing, but it indeed creates more 
than 1 copy of a page in the cache. frankly I haven't investigated this 
deeply due to lack of time, but 1 thing I can tell you is that if you 
are logged in to WP, then it'll create a cache-file for you & 1 for 
someone who's not logged in, so that you see the "edit post" links along 
with the post titles(if your theme has them). though this dual 
cache-file creation is OK & not a problem, but I just mentioned it to 
tell you that it indeed creates more than 1 copy of the cache-file!! ;)

I think that more can be found out by doing some basic testing, I'll do 
it if I get some free time any soon. Please don't take this part of my 
suggestion(multiple cache-file creation by WP-Cache2) entirely seriously 
as I don't have any facts to back it up as I admit I haven't tested it 
up, what I wrote is what some people who've tested told me. whether they 
are right or wrong, I'm not 100% sure.

but the WP-Cache2 issue put aside, I think even Matt & Ryan would agree 
that a lot can be done to tighten up the WP Code & its speed can be 
increased significantly!!

------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter





  ----- Original Message ----- 
  From: Jason Bainbridge
  To: wp-hackers@lists.automattic.com
  Sent: Tuesday, August 09, 2005 1:36 PM
  Subject: Re: [wp-hackers] suggestions for the next (not 
immediate)release


  On 8/9/05, Amit Gupta <wp@igeek.info> wrote:
  >
  > I've one suggestion for the next release, it needs not be the 
immediate next
  > release.
  > How about reducing & optimising the code for faster execution? 
WordPress
  > still lacks a lot behind TextPattern & LightPress(though its only a
  > front-end for WordPress) when it comes to speed. Recently I've heard 
a lot
  > of people complaining about speed and a cacheing solution like 
WP-Cache2,
  > though effective, is not much of an improvement as its sort of 
cookie based,
  > so if a client visits the blog & the home page gets cached, that 
same cached
  > copy will be served to him on his next visit & not to someone else 
visiting
  > from somewhere else. So its sort of a waste, more so if you consider 
the
  > hit/miss ratio.

  What gave you that idea? Wp-Cache 2 -
  http://mnm.uib.es/gallir/wp-cache-2/ is a server side caching solution
  and has nothing to do with the client, the plugin checks to see if
  there is a static file for the requested page on the server and if not
  creates one, then it has checks to check things like when a new post
  is made so the cache gets flushed on the server automatically.

  Regards,
  -- 
  Jason Bainbridge
  http://kde.org - webmaster@kde.org
  Personal Site - http://jasonbainbridge.com
  _______________________________________________
  wp-hackers mailing list
  wp-hackers@lists.automattic.com
  http://lists.automattic.com/mailman/listinfo/wp-hackers


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050809/3caeeaad/attachment-0001.html
From podz at tamba2.org.uk  Tue Aug  9 08:58:52 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Aug  9 08:58:30 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F81194.9090407@mullenweg.com>
References: <42F81194.9090407@mullenweg.com>
Message-ID: <42F8704C.1090802@tamba2.org.uk>

Matthew Mullenweg wrote:
> It's going to be long enough before the next release (1.6) and there are 
> enough fixes to warrant another release in the otherwise stable 1.5 branch.

The bugs and such are over my head.
But..

- If this happens, advance notice to this list of the precise time would 
be very very good. Necessary even. (Why not say two weeks today ?)

- At the point of release, we need point-by-point upgrade guides. The 
ones in Codex are ... in desperate need of destruction and rebuilding. 
As with 1.5.1.3, the forums will get flooded with the same stuff we did 
for .2, .1. So:
	Changelog
	Package of changed files alone
	Better instructions than "delete all but... and upload"
We need all this at the time of release.

- Skimming the previous upgrade threads 
(http://wordpress.org/support/topic/33189 - 200+ posts for 1.5 > 1.5.1)
and hitting on useful stuff there would be good.

Come Thursday, I'll rewrite the Upgrade guide from the the letter U up.
Matt - can we rewrite parts of the Readme.html that concern upgrade ? 
The 4 points are true, but a link there to a specific guide might be good.

P.
From dmhouse at gmail.com  Tue Aug  9 09:02:09 2005
From: dmhouse at gmail.com (David House)
Date: Tue Aug  9 09:02:21 2005
Subject: [wp-hackers] Hello Dolly's future
In-Reply-To: <42F7C8E6.3010903@mullenweg.com>
References: <ed51b67c05080813586fcf6f9e@mail.gmail.com>
	<42F7C8E6.3010903@mullenweg.com>
Message-ID: <ebe43d6805080902024fbf1f34@mail.gmail.com>

On 08/08/05, Matt Mullenweg <m@mullenweg.com> wrote:
> I'd be curious to hear other plugin candidates for distribution
> inclusion. Please remember size is also a factor, there are some plugins
> which are half again the size of WP itself.

Lets first decide what functions we want this plugin to perform. Is it
going to be...

* An example plugin for potential plugin authors? Then why distribute
it with WordPress, why not just link to it from a codex article?
* An end-user-centric introduction to plugins (i.e., plugins can add
functionality, let me show you what I mean)? In which case, simplicity
of code is not a problem and my vote would be for docs search.

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From dmhouse at gmail.com  Tue Aug  9 09:10:47 2005
From: dmhouse at gmail.com (David House)
Date: Tue Aug  9 09:10:56 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F8704C.1090802@tamba2.org.uk>
References: <42F81194.9090407@mullenweg.com> <42F8704C.1090802@tamba2.org.uk>
Message-ID: <ebe43d68050809021056828496@mail.gmail.com>

On 09/08/05, Podz <podz@tamba2.org.uk> wrote:
> (Why not say two weeks today ?)

This seems like the ideal timescale, if the devs think we're ready. I
think we'd need at least a week of bugfixing, then a week of
1.5-branch code freeze while we test, and get security experts going
over the system.

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From false.hopes at gmail.com  Tue Aug  9 12:52:08 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Aug  9 12:52:15 2005
Subject: [wp-hackers] suggestions for the next (not immediate)release
In-Reply-To: <010301c59cba$9b7a2290$57ebd4cb@unicorn>
References: <001a01c59cb6$eabbe310$57ebd4cb@unicorn>
	<d6491f480508090106277beebc@mail.gmail.com>
	<010301c59cba$9b7a2290$57ebd4cb@unicorn>
Message-ID: <a491f91d0508090552463a934a@mail.gmail.com>

Sure, tons could be done, but then where would we be? We'd be where
lightpress is, tons faster, and tons of broken features. The WP Devs
have kept speed and lightweight in mind from the start, and at this
point without dropping features or filling the filesystem with files
for every function to make sure nothing is loaded where it isn't
needed, there isn't too much we can do for optimization.

On WP-Cache, saving multiple cache files is intentional, and is really
not that big of a deal. The solution is intended to save server load,
not harddisk space. It does not create more than one copy of the cache
file, it creates a cache file that very well may be unique to the user
that is logged in. Some sites have welcome greetings based on
username, the edit posts link like you said is based on username, and
various other little features that are only available when logged in
and are unique to each user. Caching these files too is perfectly
legitamate.

On 8/9/05, Amit Gupta <wp@igeek.info> wrote:
>  
> I know WP-Cache2 is a server-side cacheing, but it indeed creates more than
> 1 copy of a page in the cache. frankly I haven't investigated this deeply
> due to lack of time, but 1 thing I can tell you is that if you are logged in
> to WP, then it'll create a cache-file for you & 1 for someone who's not
> logged in, so that you see the "edit post" links along with the post
> titles(if your theme has them). though this dual cache-file creation is OK &
> not a problem, but I just mentioned it to tell you that it indeed creates
> more than 1 copy of the cache-file!! ;)
> 
> I think that more can be found out by doing some basic testing, I'll do it
> if I get some free time any soon. Please don't take this part of my
> suggestion(multiple cache-file creation by WP-Cache2) entirely seriously as
> I don't have any facts to back it up as I admit I haven't tested it up, what
> I wrote is what some people who've tested told me. whether they are right or
> wrong, I'm not 100% sure.
> 
> but the WP-Cache2 issue put aside, I think even Matt & Ryan would agree that
> a lot can be done to tighten up the WP Code & its speed can be increased
> significantly!!
>  
> ------------
> Amit Gupta
> http://igeek.info/  ||  http://blog.igeek.info/
> http://blog.igeek.info/wp-plugins/igsyntax-hiliter 
>   
>   
>   
> 
>   
>  
> ----- Original Message ----- 
> From: Jason Bainbridge 
> To: wp-hackers@lists.automattic.com 
> Sent: Tuesday, August 09, 2005 1:36 PM 
> Subject: Re: [wp-hackers] suggestions for the next (not immediate)release 
> 
> On 8/9/05, Amit Gupta <wp@igeek.info> wrote:
> >  
> > I've one suggestion for the next release, it needs not be the immediate
> next
> > release.
> > How about reducing & optimising the code for faster execution? WordPress
> > still lacks a lot behind TextPattern & LightPress(though its only a
> > front-end for WordPress) when it comes to speed. Recently I've heard a lot
> > of people complaining about speed and a cacheing solution like WP-Cache2,
> > though effective, is not much of an improvement as its sort of cookie
> based,
> > so if a client visits the blog & the home page gets cached, that same
> cached
> > copy will be served to him on his next visit & not to someone else
> visiting
> > from somewhere else. So its sort of a waste, more so if you consider the
> > hit/miss ratio. 
> 
> What gave you that idea? Wp-Cache 2 -
> http://mnm.uib.es/gallir/wp-cache-2/ is a server side
> caching solution
> and has nothing to do with the client, the plugin checks to see if
> there is a static file for the requested page on the server and if not
> creates one, then it has checks to check things like when a new post
> is made so the cache gets flushed on the server automatically.
> 
> Regards,
> -- 
> Jason Bainbridge
> http://kde.org - webmaster@kde.org
> Personal Site - http://jasonbainbridge.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
>  
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From lorelle at cameraontheroad.com  Tue Aug  9 13:40:25 2005
From: lorelle at cameraontheroad.com (Lorelle VanFossen)
Date: Tue Aug  9 14:03:24 2005
Subject: [wp-hackers] Plugins to incorporate
Message-ID: <42F8B249.9040205@cameraontheroad.com>

I agree that the Codex Search plugin or something similar would be a 
great thing to incorporate into the next version. The faster users can 
get to the resources they need to get "HELP" then the happier they will 
be. It's wonderful to be able to search from the admin panels, click on 
a link, have it open in a new window or tab and then be able to move 
from the help page to the admin panels to proceed through the process 
step by step.

Management of the posts is probably the biggest whine I have.  For those 
who are using WordPress as a CMS or with many posts they need to refer 
and link to repeatedly, connecting the internal links on their site, the 
current post management screen...is painful.  ColdForged's Enhanced Post 
View ( http://www.coldforged.org/the-enhanced-view-plugin/ ) has saved 
me hours of effort weekly by permitting control of the sorting of posts 
by category, month, and author, as well as controlling the number of 
posts displayed so I can see ALL of the posts within a specific category 
and adjust the number of posts viewed on the fly. If this was a perfect 
world, I'd also want sortable lists of the posts on the screen or the 
whole list by all of the table headings.

Post management is exceptionally frustrating as WordPress stands today. 
I feel improvement in this area is critical to the growth of WordPress 
to keep users interested once they past the first blush of enthusiasm in 
blogging.

Lorelle

From dstewart at atl.lmco.com  Tue Aug  9 14:07:19 2005
From: dstewart at atl.lmco.com (Doug Stewart)
Date: Tue Aug  9 14:07:33 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F81194.9090407@mullenweg.com>
References: <42F81194.9090407@mullenweg.com>
Message-ID: <42F8B897.2050700@atl.lmco.com>

Matthew Mullenweg wrote:
> It's going to be long enough before the next release (1.6) and there are 
> enough fixes to warrant another release in the otherwise stable 1.5 branch.
> 
> I'm curious what bugs are most annoying to people or what hooks are most 
> needed in this bugfix/minor feature release.
> 

Internal pingbacks.  For some reason, instead of using the text of the 
post, they simply use the top of the resultant HTML output, meaning that 
my internal pings are useless as they contain primarily top navigation 
information and floated sidebar contents instead of a snippet from the 
linking post.

-- 
----------
Doug Stewart
Systems Administrator/Web Applications Developer
Lockheed Martin Advanced Technology Labs
dstewart@atl.lmco.com
From jonathan.firestone at gmail.com  Tue Aug  9 14:45:42 2005
From: jonathan.firestone at gmail.com (Jonathan Firestone)
Date: Tue Aug  9 14:45:49 2005
Subject: [wp-hackers] WordPress AJAX rating of Posts
In-Reply-To: <e1184a2105080814384b08a76b@mail.gmail.com>
References: <e1184a2105080814384b08a76b@mail.gmail.com>
Message-ID: <2b47310b050809074549587a77@mail.gmail.com>

Cool. Where's the plugin?

On 8/8/05, Ex Machina <exmachina@gmail.com> wrote:
> Have a look at the goblin' Blog:
> 
> http://www.goblinblog.be/
> 
> Cool, hu ?
> 
> A+ Brice
> --
> Brice Le Blevennec, Digerati, ListDad, <http://www.brice.net>
> Emakina S.A. - The e-business Agency <http://www.emakina.com>
> Ex Machina Television S.P.R.L.- Television & Radio Production
> <http://www.cybercafe.tv> & <http://www.singlefm.com>
> Contact Office Group S.A. - The Professional Online Office
> <http://www.contactoffice.com>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From skippy at skippy.net  Tue Aug  9 15:38:28 2005
From: skippy at skippy.net (Scott Merrill)
Date: Tue Aug  9 15:38:26 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F81194.9090407@mullenweg.com>
References: <42F81194.9090407@mullenweg.com>
Message-ID: <42F8CDF4.805@skippy.net>

Matthew Mullenweg wrote:
> I'm curious what bugs are most annoying to people or what hooks are most
> needed in this bugfix/minor feature release.

This thread:
http://wordpress.org/support/topic/41183

caused me to remember this ticket I filed last year:
http://trac.wordpress.org/ticket/247

get_archives() still hard codes date-based ordering for postbypost:
http://trac.wordpress.org/file/trunk/wp-includes/template-functions-general.php

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From m at mullenweg.com  Tue Aug  9 16:47:11 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Aug  9 16:47:26 2005
Subject: [wp-hackers] Plugins to incorporate
In-Reply-To: <42F8B249.9040205@cameraontheroad.com>
References: <42F8B249.9040205@cameraontheroad.com>
Message-ID: <42F8DE0F.8090507@mullenweg.com>

Lorelle VanFossen wrote:
> I agree that the Codex Search plugin or something similar would be a 
> great thing to incorporate into the next version. The faster users can 
> get to the resources they need to get "HELP" then the happier they will 
> be. It's wonderful to be able to search from the admin panels, click on 
> a link, have it open in a new window or tab and then be able to move 
> from the help page to the admin panels to proceed through the process 
> step by step.

I think Codex search is a great example of things that are a plugin, but 
if we were to include them they should just be integrated with the core. 
Other examples would be the DB backup or the upgrade notification 
plugin. (The smaller the code the more likely it'll be included.)

I think Hello Dolly is a good example plugin in terms that it's very 
easy to understand and change, in fact I've seen at least a dozen 
plugins that were modifications of HD by changing the lyrics or sprucing 
it up. That was partly the point.

What's missing is, as someone pointed out, a whiz-bang plugin that does 
something exciting and notable. Gravatars are nice for that, as they're 
a popular feature that won't be integrated, but I'm not sure if the mix 
is right.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From m at mullenweg.com  Tue Aug  9 16:51:13 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Aug  9 16:51:21 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <ebe43d68050809021056828496@mail.gmail.com>
References: <42F81194.9090407@mullenweg.com> <42F8704C.1090802@tamba2.org.uk>
	<ebe43d68050809021056828496@mail.gmail.com>
Message-ID: <42F8DF01.107@mullenweg.com>

David House wrote:
> This seems like the ideal timescale, if the devs think we're ready. I
> think we'd need at least a week of bugfixing, then a week of
> 1.5-branch code freeze while we test, and get security experts going
> over the system.

That seems a bit aggressive unless we have a number of people committed 
to auditing the code. If we can gather up volunteers here we can divide 
up the files between the number of people who are up for it. It can be 
tedious.

I'm curious on people's thoughts on this new code:

http://trac.wordpress.org/changeset/2768

Since most of our problems thus far have stemmed from register globals 
being on, this should negate that, but I'd like people to drop it in 
their wp-settings.php file and see if anything breaks.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From m at mullenweg.com  Tue Aug  9 16:53:20 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Aug  9 17:25:15 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F8704C.1090802@tamba2.org.uk>
References: <42F81194.9090407@mullenweg.com> <42F8704C.1090802@tamba2.org.uk>
Message-ID: <42F8DF80.7080008@mullenweg.com>

Podz wrote:
>     Package of changed files alone

What are your thoughts on the possibilities for mistakes being greater 
when the instructions are more complex? Having one or two files out of 
sync is a bear to debug.

> Come Thursday, I'll rewrite the Upgrade guide from the the letter U up.
> Matt - can we rewrite parts of the Readme.html that concern upgrade ? 
> The 4 points are true, but a link there to a specific guide might be good.

My main concern is to keep it concise enough that people actually read 
it, rather than skimming over. Updating the readme.html isn't a problem.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From ringmaster at midnightcircus.com  Tue Aug  9 17:33:19 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Aug  9 17:28:25 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F8DF01.107@mullenweg.com>
References: <42F81194.9090407@mullenweg.com>
	<42F8704C.1090802@tamba2.org.uk>	<ebe43d68050809021056828496@mail.gmail.com>
	<42F8DF01.107@mullenweg.com>
Message-ID: <42F8E8DF.2000505@midnightcircus.com>

Matt Mullenweg wrote:
> I'm curious on people's thoughts on this new code:
> 
> http://trac.wordpress.org/changeset/2768

Totally hosed my site.

Add these two lines after the change in 2768:
unset($name);
unset($value);

Basically, $name was retaining the name of the last global set, and this 
value was passed on to WP->parse_request() as the name of the post to 
retrieve.

Since the value was always '_' for some reason coming out of that loop, 
no post was ever returned.

Otherwise, seems like a good idea.

Owen

From skippy at skippy.net  Tue Aug  9 17:33:23 2005
From: skippy at skippy.net (Scott Merrill)
Date: Tue Aug  9 17:33:18 2005
Subject: [wp-hackers] WP 1.5.1.4 bugfix agenda
In-Reply-To: <42F6A7F2.50908@mullenweg.com>
References: <42F452BA.5070304@txfx.net> <42F57B5A.2020508@skippy.net>
	<42F6A7F2.50908@mullenweg.com>
Message-ID: <42F8E8E3.2090102@skippy.net>

Matthew Mullenweg wrote:
> I wrote:
>> This plugin:
>> http://www.audiolicious.com/weblog/2005/03/wordpress-gmail-mobile-blogging/
>>
>> might be worth investigating.  I haven't tried it myself yet, but
>> reports on the forums seem happy about it.
> 
> 
> Unfortunately it has several pre-reqs that would likely cause more
> support trouble if we tried to require them.
> 

I haven't tested it, but EconomySizeGeek's Postie looks like a
full-featured replacement:
http://www.economysizegeek.com/?page_id=395

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From podz at tamba2.org.uk  Tue Aug  9 17:41:40 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Aug  9 17:41:51 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F8DF80.7080008@mullenweg.com>
References: <42F81194.9090407@mullenweg.com> <42F8704C.1090802@tamba2.org.uk>
	<42F8DF80.7080008@mullenweg.com>
Message-ID: <42F8EAD4.6050506@tamba2.org.uk>

Matt Mullenweg wrote:
> Podz wrote:
> 
>>     Package of changed files alone
> 
> 
> What are your thoughts on the possibilities for mistakes being greater 
> when the instructions are more complex? Having one or two files out of 
> sync is a bear to debug.

I will continue to advise that people do a clean, complete install of 
new files and upgrade that way. From experience, 99.9% of errors come 
about because of people trying to skip things "to save time". But since 
1.2/1.2.1/1.2.2 then 1.5/1.5.1/1.5.1.2 and 1.5.1.3, the clamour for 
these files has got louder and to be honest, nastier. We try and point 
things out in the forums and the first thing to be replied is insults. 
It would be nice to say "Changed files, there, go away"
It's not that long since the current version - there will be people 
calling for it.

>> Come Thursday, I'll rewrite the Upgrade guide from the the letter U up.
>> Matt - can we rewrite parts of the Readme.html that concern upgrade ? 
>> The 4 points are true, but a link there to a specific guide might be 
>> good.
> 
> My main concern is to keep it concise enough that people actually read 
> it, rather than skimming over. Updating the readme.html isn't a problem.

I completely agree about concise. But I do think we need to remind 
people about files they may have altered - I cannot be the only person 
to have clicked 'delete' from the server only to shout "NOOO!" instantly 
- such as vars.php for smileys, wp-admin.css, root files, the odd files 
   that for some reason live outside the norm.
What I think we should aim for is keep the readme guide as is, but add a 
link. The directions for that link would be to suggest that if you are 
in the slightest bit unsure / modded your install, then click a link and 
go read some more. If we can spell it out it might help.
The Codex pages for upgrade do need a sort though but until Thursday I'm 
stuck on another task.

P.
From m at mullenweg.com  Tue Aug  9 17:50:21 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Aug  9 17:50:32 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F8EAD4.6050506@tamba2.org.uk>
References: <42F81194.9090407@mullenweg.com>
	<42F8704C.1090802@tamba2.org.uk>	<42F8DF80.7080008@mullenweg.com>
	<42F8EAD4.6050506@tamba2.org.uk>
Message-ID: <42F8ECDD.30009@mullenweg.com>

Podz wrote:
> I completely agree about concise. But I do think we need to remind 
> people about files they may have altered - I cannot be the only person 
> to have clicked 'delete' from the server only to shout "NOOO!" instantly 
> - such as vars.php for smileys, wp-admin.css, root files, the odd files 
>   that for some reason live outside the norm.

I'm of the opinion that if someone has modified a core file, we've 
already failed. You don't need to edit vars.php to change smilies, you 
can override the array in wp-config, my-hacks, or a plugin. Same for 
anything to do with wp-admin.css (like the Tiger plugin does). We should 
be doing everything in our power to stop people from modifying core 
files because it makes the burden on support so much greater.

> What I think we should aim for is keep the readme guide as is, but add a 
> link. The directions for that link would be to suggest that if you are 
> in the slightest bit unsure / modded your install, then click a link and 
> go read some more. If we can spell it out it might help.

Sounds good.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From podz at tamba2.org.uk  Tue Aug  9 18:03:54 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Aug  9 18:03:31 2005
Subject: [wp-hackers] 1.5.2 - Why ?
In-Reply-To: <42F8EAD4.6050506@tamba2.org.uk>
References: <42F81194.9090407@mullenweg.com>
	<42F8704C.1090802@tamba2.org.uk>	<42F8DF80.7080008@mullenweg.com>
	<42F8EAD4.6050506@tamba2.org.uk>
Message-ID: <42F8F00A.5060901@tamba2.org.uk>

Why ?

Reading some of the upgrade threads from 1.5 onwards, there are some 
that ask "Why should I upgrade ?" Their reasons in some ways do not 
matter - it's their install and up to now (apart from security) we don't 
have a reason apart from "Because we say so". Not great.
Seeing as this is a bugfix issue, is there any harm in saying:
"If you had problems with XXXX, then 1.5.2 addresses that"
"If you are not experiencing any bugs with regard to x,y,z, then you are 
okay to stay where you are"

I know ideally everyone should be on the same version, but they aren't 
and we can't force them. At least this way we are being honest.

P.
From skippy at skippy.net  Tue Aug  9 18:06:09 2005
From: skippy at skippy.net (Scott Merrill)
Date: Tue Aug  9 18:06:09 2005
Subject: [wp-hackers] 1.5.2 - Why ?
In-Reply-To: <42F8F00A.5060901@tamba2.org.uk>
References: <42F81194.9090407@mullenweg.com>	<42F8704C.1090802@tamba2.org.uk>	<42F8DF80.7080008@mullenweg.com>	<42F8EAD4.6050506@tamba2.org.uk>
	<42F8F00A.5060901@tamba2.org.uk>
Message-ID: <42F8F091.9060405@skippy.net>

Podz wrote:
> Why ?
> 
> Reading some of the upgrade threads from 1.5 onwards, there are some
> that ask "Why should I upgrade ?" Their reasons in some ways do not
> matter - it's their install and up to now (apart from security) we don't
> have a reason apart from "Because we say so". Not great.
> Seeing as this is a bugfix issue, is there any harm in saying:
> "If you had problems with XXXX, then 1.5.2 addresses that"
> "If you are not experiencing any bugs with regard to x,y,z, then you are
> okay to stay where you are"
> 
> I know ideally everyone should be on the same version, but they aren't
> and we can't force them. At least this way we are being honest.

I think that's completely fair.

And if we have a user-friendly changelog (instead of a list of closed
trac tickets), we can list what specifically has been fixed.

When people using 1.5.1.2 complain about a problem fixed in 1.5.2, we
can say "This is fixed, please upgrade."

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From m at mullenweg.com  Tue Aug  9 19:31:01 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Aug  9 19:31:09 2005
Subject: [wp-hackers] Version RPC
Message-ID: <42F90475.3060200@mullenweg.com>

http://rpc.wordpress.org/latest-stable/

Returns YYYYMMDD of latest stable release.

I'm re-integrating a build date with our build generation scripts.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From mark.wordpress at txfx.net  Tue Aug  9 19:35:02 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Tue Aug  9 19:34:58 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F8DF01.107@mullenweg.com>
References: <42F81194.9090407@mullenweg.com>
	<42F8704C.1090802@tamba2.org.uk>	<ebe43d68050809021056828496@mail.gmail.com>
	<42F8DF01.107@mullenweg.com>
Message-ID: <42F90566.7030602@txfx.net>

Matt Mullenweg wrote:

> I'm curious on people's thoughts on this new code:
>
> http://trac.wordpress.org/changeset/2768
>
> Since most of our problems thus far have stemmed from register globals 
> being on, this should negate that, but I'd like people to drop it in 
> their wp-settings.php file and see if anything breaks.

Broke my site as well.  Here's a ticket with patches for Owen's fix 
(several people in #wordpress verified that it worked) applied to 1.6 
SVN and /branches/1.5/
http://trac.wordpress.org/ticket/1565

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From skeltoac at gmail.com  Tue Aug  9 20:12:42 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Tue Aug  9 20:12:58 2005
Subject: [wp-hackers] Plugins to incorporate
In-Reply-To: <42F8DE0F.8090507@mullenweg.com>
References: <42F8B249.9040205@cameraontheroad.com>
	<42F8DE0F.8090507@mullenweg.com>
Message-ID: <e6ec604d05080913124ddcc4fc@mail.gmail.com>

On 8/9/05, Matt Mullenweg <m@mullenweg.com> wrote:
> What's missing is, as someone pointed out, a whiz-bang plugin that does
> something exciting and notable. Gravatars are nice for that, as they're
> a popular feature that won't be integrated, but I'm not sure if the mix
> is right.

I humbly submit Blogs Of The Day.

The entire project is quite flexible and I am willing to modify
virtually any part of it to make it more acceptable to the community
at large. The new version of the plugin, net yet released, is well
documented and it demonstrates many of the things a plugin can do: use
hooks, create template tags, get and cache external data with Snoopy,
add an options page. Update notification is just around the corner,
too.

Andy Skelton
http://www.skeltoac.com
http://blogsoftheday.com
From m at mullenweg.com  Tue Aug  9 20:13:52 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Aug  9 20:13:58 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F90566.7030602@txfx.net>
References: <42F81194.9090407@mullenweg.com>	<42F8704C.1090802@tamba2.org.uk>	<ebe43d68050809021056828496@mail.gmail.com>	<42F8DF01.107@mullenweg.com>
	<42F90566.7030602@txfx.net>
Message-ID: <42F90E80.9050709@mullenweg.com>

Mark Jaquith wrote:
> Broke my site as well.  Here's a ticket with patches for Owen's fix 
> (several people in #wordpress verified that it worked) applied to 1.6 
> SVN and /branches/1.5/
> http://trac.wordpress.org/ticket/1565

Unfortunately the patched code didn't break WP but it also didn't 
protect anything. I just checked in some new code, if everyone could 
test it ASAP that would be great.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From pete.prodoehl at cygnusinteractive.com  Tue Aug  9 20:22:27 2005
From: pete.prodoehl at cygnusinteractive.com (Pete Prodoehl)
Date: Tue Aug  9 20:22:37 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F81194.9090407@mullenweg.com>
References: <42F81194.9090407@mullenweg.com>
Message-ID: <42F91083.70508@cygnusinteractive.com>

Matthew Mullenweg wrote:
> It's going to be long enough before the next release (1.6) and there are 
> enough fixes to warrant another release in the otherwise stable 1.5 branch.
> 
> I'm curious what bugs are most annoying to people or what hooks are most 
> needed in this bugfix/minor feature release.

Most annoying to me is:

--------
 From the thread: Multiple Enclosures, detecting enclosures
Chris Lott wrote:
 > *MY* servers do-- the problem is that so many don't. And when the best
 > free resource (important in educational circles) is ourmedia.org-- and
 > THEY can't (or won't) figure it out-- it seems like a bigger problem.
 > I also didn't ask to accommodate all possible media types, just the
 > most common ones that are causing the most problems.

I think the problem with ourmedia/archive.org is that they serve up 
redirects usually, and we don't follow redirects. Anyone want to fix our 
code to follow up to 2 redirects (but no more as to not get stuck in a 
loop)?

Matt
--------

I'd also like to see the Atom 0.3 feed updated to 1.0 if that makes sense...

thanks...


Pete
From m at mullenweg.com  Tue Aug  9 22:42:02 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Aug  9 22:42:12 2005
Subject: [wp-hackers] Problem with preferences
Message-ID: <42F9313A.2070602@mullenweg.com>

Something to keep in mind as we expand preferences in different ways:

http://37signals.com/svn/archives2/getting_real_the_problem_with_preferences_interface_design_and_the_customer_experience.php

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From podz at tamba2.org.uk  Tue Aug  9 22:51:41 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Aug  9 22:51:15 2005
Subject: [wp-hackers] Problem with preferences
In-Reply-To: <42F9313A.2070602@mullenweg.com>
References: <42F9313A.2070602@mullenweg.com>
Message-ID: <42F9337D.3000107@tamba2.org.uk>

Matt Mullenweg wrote:
> Something to keep in mind as we expand preferences in different ways:
> 
> http://37signals.com/svn/archives2/getting_real_the_problem_with_preferences_interface_design_and_the_customer_experience.php 
> 

But is wp "selling" ?

From skeltoac at gmail.com  Tue Aug  9 22:53:34 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Tue Aug  9 22:53:38 2005
Subject: [wp-hackers] Problem with preferences
In-Reply-To: <42F9337D.3000107@tamba2.org.uk>
References: <42F9313A.2070602@mullenweg.com> <42F9337D.3000107@tamba2.org.uk>
Message-ID: <e6ec604d050809155320a446aa@mail.gmail.com>

On 8/9/05, Podz <podz@tamba2.org.uk> wrote:
> Matt Mullenweg wrote:
> > Something to keep in mind as we expand preferences in different ways:
> >
> > http://37signals.com/svn/archives2/getting_real_the_problem_with_preferences_interface_design_and_the_customer_experience.php
> >
> 
> But is wp "selling" ?

Everything is selling. The question should be "What" is wp selling?

Andy
From fd at firasd.org  Tue Aug  9 23:36:08 2005
From: fd at firasd.org (Firas D.)
Date: Tue Aug  9 23:36:13 2005
Subject: [wp-hackers] Problem with preferences
In-Reply-To: <42F9337D.3000107@tamba2.org.uk>
References: <42F9313A.2070602@mullenweg.com> <42F9337D.3000107@tamba2.org.uk>
Message-ID: <42F93DE8.4080705@firasd.org>

Podz wrote:

> Matt Mullenweg wrote:
>
>> Something to keep in mind as we expand preferences in different ways:
>>
>> http://37signals.com/svn/archives2/getting_real_the_problem_with_preferences_interface_design_and_the_customer_experience.php 
>>
>
>
> But is wp "selling" ?


Well, one aims for software that delights, whether enough to have people 
turn out their pockets or make the investment to download it, install etc.

The linked article is rather light in argument; here are some great 
essays to get one thinking about the issue:

http://www.joelonsoftware.com/uibook/chapters/fog0000000059.html
"There are enough choices that users will have to make anyway: the way 
their document will look, the way their web site will behave, or 
anything else that is integral to the work that the user is doing. In 
these areas, go crazy:  it's great to give people choices: by all means, 
the more the merrier."

http://www106.pair.com/rhp/free-software-ui.html
"If a user is using my app FooBar and they come to something they think 
is stupid - say the app deletes all their email - it's extremely common 
that they'll file a bug saying "there should be an option to disable 
eating all my email" instead of one saying "your craptastic junk-heap of 
an app ate my email." People just assume that FooBar was designed to eat 
your email, and humbly ask that you let them turn off this feature they 
don't like."

It's important to make sure that any prefs we add are about the website, 
the blog, the discussion mechanisms, etc. and not about how wp does 
things (eg, most options relating to /wp-admin/)

-- 
http://firasd.org

From trevorturk at yahoo.com  Wed Aug 10 01:02:01 2005
From: trevorturk at yahoo.com (Trevor Turk)
Date: Wed Aug 10 01:02:05 2005
Subject: [wp-hackers] Plugins to incorporate
In-Reply-To: <42F8DE0F.8090507@mullenweg.com>
Message-ID: <20050810010202.68195.qmail@web31802.mail.mud.yahoo.com>

> I think Codex search is a great example of things
> that are a plugin, but 
> if we were to include them they should just be
> integrated with the core. 
> Other examples would be the DB backup or the upgrade
> notification 
> plugin. (The smaller the code the more likely it'll
> be included.)

I actually kind of like the idea of leaving things out
of the "core" but including more plugins in the
distro. I even wonder if something like "K2" that is
brewing at binarybonsai.com might be considered - you
could have one distro of just "core", and one packed
with some themes and plugins (for those who don't care
about filesize. I bet that people aren't going to want
to have two different downloads, but it's worth a
moment of consideration, I'd say.
From trevorturk at yahoo.com  Wed Aug 10 01:08:54 2005
From: trevorturk at yahoo.com (Trevor Turk)
Date: Wed Aug 10 01:09:00 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F90E80.9050709@mullenweg.com>
Message-ID: <20050810010854.12428.qmail@web31806.mail.mud.yahoo.com>

About killing magic_quotes - I think that is a great
idea...

I've been using the fix_magic_quotes function I got
from Chris Shiflett and company. You can see it near
the bottom of this page:

http://education.nyphp.org/phundamentals/PH_storingretrieving.php

Is there something wrong with using that? (I really
don't know much about this, but I thought I'd point it
out)...

From mark.wordpress at txfx.net  Wed Aug 10 01:13:10 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Wed Aug 10 01:13:21 2005
Subject: [wp-hackers] Plugins to incorporate
In-Reply-To: <20050810010202.68195.qmail@web31802.mail.mud.yahoo.com>
References: <20050810010202.68195.qmail@web31802.mail.mud.yahoo.com>
Message-ID: <42F954A6.10806@txfx.net>

Trevor Turk wrote:

>I actually kind of like the idea of leaving things out
>of the "core" but including more plugins in the
>distro. I even wonder if something like "K2" that is
>brewing at binarybonsai.com might be considered - you
>could have one distro of just "core", and one packed
>with some themes and plugins (for those who don't care
>about filesize. I bet that people aren't going to want
>to have two different downloads, but it's worth a
>moment of consideration, I'd say.
>
I might get burned at the stake for suggesting this, but WordPress is 
GPL'd.  If someone wants to create a distro with extra themes and 
plugins, no one is stopping them.  The problem with including more 
plugins and themes with WP's default distribution is that all components 
immediately become support burdens.  It's hard to say "talk to the 
plugin author" when the plugin was provided with WordPress.

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From trevorturk at yahoo.com  Wed Aug 10 01:17:11 2005
From: trevorturk at yahoo.com (Trevor Turk)
Date: Wed Aug 10 01:17:16 2005
Subject: [wp-hackers] Plugins to incorporate
In-Reply-To: <42F954A6.10806@txfx.net>
Message-ID: <20050810011711.56929.qmail@web31805.mail.mud.yahoo.com>

> The problem with
> including more 
> plugins and themes with WP's default distribution is
> that all components 
> immediately become support burdens.  It's hard to
> say "talk to the 
> plugin author" when the plugin was provided with
> WordPress.

That's true. Anyway, I think that the new
extend/themes and extend/plugins pages will make it
easier to find good plugins and promote really useful
plugins. 
From mark.wordpress at txfx.net  Wed Aug 10 01:17:39 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Wed Aug 10 01:17:48 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <20050810010854.12428.qmail@web31806.mail.mud.yahoo.com>
References: <20050810010854.12428.qmail@web31806.mail.mud.yahoo.com>
Message-ID: <42F955B3.1030603@txfx.net>

Trevor Turk wrote:

>About killing magic_quotes - I think that is a great
>idea...
>
WordPress actually "forces" magic_quotes, which simplifies things.  
magic_quotes isn't bad... it was just a poor decision to make it an 
option... because you cannot count on it, but must always consider it, 
when writing portable PHP code.  Forcing it to be on (by duplicating its 
functionality when it isn't) just simplifies things.

The issue at hand is register_globals.  The exploit that was recently 
released requires register_globals to be on.  The code that was recently 
committed to WordPress will disable register_globals, which should 
protect us against these types of attacks in the future.

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From skippy at skippy.net  Wed Aug 10 01:39:33 2005
From: skippy at skippy.net (Scott Merrill)
Date: Wed Aug 10 01:38:18 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F955B3.1030603@txfx.net>
References: <20050810010854.12428.qmail@web31806.mail.mud.yahoo.com>
	<42F955B3.1030603@txfx.net>
Message-ID: <42F95AD5.3070908@skippy.net>

Mark Jaquith wrote:
> The issue at hand is register_globals.  The exploit that was recently 
> released requires register_globals to be on.  The code that was recently 
> committed to WordPress will disable register_globals, which should 
> protect us against these types of attacks in the future.

register_globals has been strongly discouraged in PHP installations for 
quite some time, now.

Since exploits are all so hush-hush, can some clarify whether my server, 
with "register_globals = off" in php.ini, is vulnerable?
From lists at alexking.org  Wed Aug 10 04:58:47 2005
From: lists at alexking.org (Alex King)
Date: Wed Aug 10 04:58:49 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F90E80.9050709@mullenweg.com>
References: <42F81194.9090407@mullenweg.com>	<42F8704C.1090802@tamba2.org.uk>	<ebe43d68050809021056828496@mail.gmail.com>	<42F8DF01.107@mullenweg.com>
	<42F90566.7030602@txfx.net> <42F90E80.9050709@mullenweg.com>
Message-ID: <D5EE08A4-A25D-4DDD-B74D-4EB049F87D88@alexking.org>

Changes I'd like to see make it into 1.5.2:

1. a hook that fires on change of comment status with the post ID  
available. When a comment is deleted, the post ID wasn't available  
via the hooks because the hook fired after the comment was already  
gone from the db. This was at least the case when I looked closely  
after the 1.5 release. Comment spam makes results somewhat inaccurate  
in my Popularity Contest plugin because of this (though there is a  
nice little recount button as a current work-around).

2. "Fix" the comments RSS feed to show the post title in the item  
title in the feed. Also, order the comments chronologically on the  
per post/page feed and don't set a limit. Ticket #1570 in trac http:// 
trac.wordpress.org/ticket/1570.

Cheers,
--Alex

http://www.alexking.org/

From lorelle at cameraontheroad.com  Wed Aug 10 13:41:12 2005
From: lorelle at cameraontheroad.com (Lorelle VanFossen)
Date: Wed Aug 10 13:41:23 2005
Subject: [wp-hackers] Security alert for WP 1.5.1.3
Message-ID: <42FA03F8.705@cameraontheroad.com>

Me no expert, just passing on info.

Security Issue: http://secunia.com/advisories/16386/
WordPress Forum first post: http://wordpress.org/support/topic/41464

DrBacchus says: Nobody should have register_globals enabled. Yes, it's 
icky and the bug should be fixed, but the responsibility also lies with 
the server admin. register_globals is the devil.
    relle    DrBacchus: could a plugin turn on the globals?
DrBacchus    relle: it can be turned on in a .htaccess file, so, 
presumably a plugin could do that.

Fix: In .htaccess add a line for php_flag register_globals off

Lorelle

From fdevillamil at gmail.com  Wed Aug 10 13:54:22 2005
From: fdevillamil at gmail.com (Frederic de Villamil)
Date: Wed Aug 10 13:55:53 2005
Subject: [wp-hackers] Security alert for WP 1.5.1.3
In-Reply-To: <42FA03F8.705@cameraontheroad.com>
References: <42FA03F8.705@cameraontheroad.com>
Message-ID: <20050810135032.M67460@7el.net>



On Wed, 10 Aug 2005 08:41:12 -0500, Lorelle VanFossen wrote
> Me no expert, just passing on info.
> 
> Security Issue: http://secunia.com/advisories/16386/
> WordPress Forum first post: http://wordpress.org/support/topic/41464
> 
> DrBacchus says: Nobody should have register_globals enabled. Yes,
>  it's icky and the bug should be fixed, but the responsibility also 
> lies with the server admin. register_globals is the devil.    relle  
>   DrBacchus: could a plugin turn on the globals? DrBacchus    relle: 
> it can be turned on in a .htaccess file, so, presumably a plugin 
> could do that.
> 
> Fix: In .htaccess add a line for php_flag register_globals off
> 
> Lorelle

drBacchus is right, but in real life things aren't that simple.
A lot of companies use old PHP applications that needs registers globals to be
enabled, and a lot of PHP developpers are unaware of security issues. On the
other hand, a lot of webservers having register globals set to on won't allow
a vhost / website to use .htaccess.
The best is to patch the code for the next release to avoid 
1/ stupid people to get owned because of our beloved application
2/ Wordpress become the next "bugtraq exploit of the day" every week like
phpNuke / gallery / phpBB / wu-ftpd are or used to be.

--
Fr?d?ric de Villamil
Ce qui est ? moi est ? moi, ce qui est ? toi ?a se n?gocie. (proverbe motokiste)
http://www.eretzvaju.org

From dougal at gunters.org  Wed Aug 10 14:09:30 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Wed Aug 10 14:09:37 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F81194.9090407@mullenweg.com>
References: <42F81194.9090407@mullenweg.com>
Message-ID: <42FA0A9A.8040508@gunters.org>

Matthew Mullenweg wrote:
> It's going to be long enough before the next release (1.6) and there are 
> enough fixes to warrant another release in the otherwise stable 1.5 branch.
> 
> I'm curious what bugs are most annoying to people or what hooks are most 
> needed in this bugfix/minor feature release.
> 

How about the ability to page through older comments?

Also, in Mass Edit mode, buttons to move checked comments to moderation, 
or flag them as spam would be nice.


-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From skippy at skippy.net  Wed Aug 10 14:11:02 2005
From: skippy at skippy.net (Scott Merrill)
Date: Wed Aug 10 14:10:54 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42FA0A9A.8040508@gunters.org>
References: <42F81194.9090407@mullenweg.com> <42FA0A9A.8040508@gunters.org>
Message-ID: <42FA0AF6.1040306@skippy.net>

Dougal Campbell wrote:
> Matthew Mullenweg wrote:
>> I'm curious what bugs are most annoying to people or what hooks are
>> most needed in this bugfix/minor feature release.
>>
> 
> How about the ability to page through older comments?

And either fewer default links, or the ability to mass-delete links!

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From r at schestowitz.com  Wed Aug 10 14:27:05 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Wed Aug 10 14:28:00 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42FA0AF6.1040306@skippy.net>
References: <42F81194.9090407@mullenweg.com> <42FA0A9A.8040508@gunters.org>
	<42FA0AF6.1040306@skippy.net>
Message-ID: <20050810152705.h8n4j313p9w80gso@banana.catalyst2.com>

Quoting Scott Merrill <skippy@skippy.net>:

> Dougal Campbell wrote:
>> Matthew Mullenweg wrote:
>>> I'm curious what bugs are most annoying to people or what hooks are
>>> most needed in this bugfix/minor feature release.
>>>
>>
>> How about the ability to page through older comments?
>
> And either fewer default links, or the ability to mass-delete links!

I have always wished to have a 'link sandbox', whereby links are 
'nofollow'ed or
hidden for a period of time. That period of time can be made long enough for a
spam-deletion 'cycle' (e.g. once a day) to have been completed.

Ticking of boxes, even with inversion of box states, is very laborious when
there are hundreds of spammy comments. I can't think of a more productive way
of erasing spam without AJAX. How about 'UP', 'DOWN' and 'Delete' being 
used in
the process (as in the case with E-mail)? Maybe another (third) mode?

Roy

-- 
Roy S. Schestowitz
http://Schestowitz.com

From false.hopes at gmail.com  Wed Aug 10 16:00:48 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Wed Aug 10 16:00:52 2005
Subject: [wp-hackers] More Unpatched Vunerabilities
Message-ID: <a491f91d0508100900132488da@mail.gmail.com>

http://wordpress.org/support/topic/41464#post-233340

According to this guy, there are vunerabilities in 1.5.1.3 that the
devs 'refuse' to patch. While I sincerly believe that this is not the
case, I must pose the question here so that a definitive answer can be
put on the forum so that we don't scare people off. I'm hoping that
the poster simply doesn't know what he speaks of, and that maybe other
vunerabilities that have been sent to Matt/Ryan are simply awaiting a
time closer to the next stable release to be fixed, so that the
vunerabilities don't become publically known.

-- 
--Robert Deaton
http://somethingunpredictable.com
From wp at igeek.info  Wed Aug 10 20:24:26 2005
From: wp at igeek.info (Amit Gupta)
Date: Wed Aug 10 20:24:39 2005
Subject: [wp-hackers] suggestions for the next (not immediate)release
References: <001a01c59cb6$eabbe310$57ebd4cb@unicorn><d6491f480508090106277beebc@mail.gmail.com><010301c59cba$9b7a2290$57ebd4cb@unicorn>
	<a491f91d0508090552463a934a@mail.gmail.com>
Message-ID: <008401c59de9$8316d6a0$57ebd4cb@unicorn>

well, actually I'm not saying that it should be done at the expense of 
features, & I'm certainly not saying that it should be done like 
LightPress which is loads faster but support not more than half the 
front end features, the plugins etc.
what I was driving at is having the best of both worlds. that we keep 
the features & functionality & ease of WordPress and get some more 
speed. or should I believe that the code can't be optimised(including 
SQL) to make it a bit more fast than it is currently? perhaps Matt or 
Ryan can shed some light on this.

I know speed has been one of the driving points right from the 
beginning, but I think that I read some piece from Matt sometime back 
that said something about the legacy code from b2 that can be improved a 
bit or something to that effect. I don't know if its been done already 
or not, so thought that I might as well ask about it.

I don't have any problems with WP-Cache2 so far, its serving quite well 
on 1 blog that I'm using it on. Its just that I pointed it as an example 
that a plugged in solution like that might not be as good as a built in 
might be. Just a thought, nothing more, so I maybe wrong or I maybe 
right. And I voiced some other people's thoughts on this as well, so 
they weren't my own entirely.
------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter





  ----- Original Message ----- 
  From: Robert Deaton
  To: wp-hackers@lists.automattic.com
  Sent: Tuesday, August 09, 2005 6:22 PM
  Subject: Re: [wp-hackers] suggestions for the next (not 
immediate)release


  Sure, tons could be done, but then where would we be? We'd be where
  lightpress is, tons faster, and tons of broken features. The WP Devs
  have kept speed and lightweight in mind from the start, and at this
  point without dropping features or filling the filesystem with files
  for every function to make sure nothing is loaded where it isn't
  needed, there isn't too much we can do for optimization.

  On WP-Cache, saving multiple cache files is intentional, and is really
  not that big of a deal. The solution is intended to save server load,
  not harddisk space. It does not create more than one copy of the cache
  file, it creates a cache file that very well may be unique to the user
  that is logged in. Some sites have welcome greetings based on
  username, the edit posts link like you said is based on username, and
  various other little features that are only available when logged in
  and are unique to each user. Caching these files too is perfectly
  legitamate.

  On 8/9/05, Amit Gupta <wp@igeek.info> wrote:
  >
  > I know WP-Cache2 is a server-side cacheing, but it indeed creates 
more than
  > 1 copy of a page in the cache. frankly I haven't investigated this 
deeply
  > due to lack of time, but 1 thing I can tell you is that if you are 
logged in
  > to WP, then it'll create a cache-file for you & 1 for someone who's 
not
  > logged in, so that you see the "edit post" links along with the post
  > titles(if your theme has them). though this dual cache-file creation 
is OK &
  > not a problem, but I just mentioned it to tell you that it indeed 
creates
  > more than 1 copy of the cache-file!! ;)
  >
  > I think that more can be found out by doing some basic testing, I'll 
do it
  > if I get some free time any soon. Please don't take this part of my
  > suggestion(multiple cache-file creation by WP-Cache2) entirely 
seriously as
  > I don't have any facts to back it up as I admit I haven't tested it 
up, what
  > I wrote is what some people who've tested told me. whether they are 
right or
  > wrong, I'm not 100% sure.
  >
  > but the WP-Cache2 issue put aside, I think even Matt & Ryan would 
agree that
  > a lot can be done to tighten up the WP Code & its speed can be 
increased
  > significantly!!
  >
  > ------------
  > Amit Gupta
  > http://igeek.info/  ||  http://blog.igeek.info/
  > http://blog.igeek.info/wp-plugins/igsyntax-hiliter

  -- 
  --Robert Deaton
  http://somethingunpredictable.com
  _______________________________________________
  wp-hackers mailing list
  wp-hackers@lists.automattic.com
  http://lists.automattic.com/mailman/listinfo/wp-hackers

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050810/762e9fb5/attachment-0001.html
From skippy at skippy.net  Wed Aug 10 21:54:03 2005
From: skippy at skippy.net (Scott Merrill)
Date: Wed Aug 10 21:53:58 2005
Subject: [wp-hackers] Gardening
Message-ID: <42FA777B.4080701@skippy.net>

I would like to invite everyone on this list to help us trim down the
number of open tickets at http://trac.wordpress.org/

It's easy!

We've been adding tags to the tickets we review, to help us quickly
search for tickets by status.  Our tags are:
bg|has-patch -- the ticket includes a patch
bg|needs-patch -- the ticket needs a patch
bg|2nd-opinion -- someone else should weigh in on the ticket
bg|dev-feedback -- the ticket should be reviewed by a developer

We've already flagged a bunch of tickets as "bg|2nd-opinion":
http://trac.wordpress.org/report/11

Same for "bg|has-patch":
http://trac.wordpress.org/search?q=bg%7Chas-patch&ticket=on
and "bg|needs-patch":
http://trac.wordpress.org/search?q=bg%7Cneeds-patch&ticket=on

What we need are people to test the patches, to make sure they work as
desired.  Report success or failure as an addendum to the original ticket.

We also need people to help us generate patches!  Review the list of
bugs in need of a patch.  If you know how to fix the problem, add a
patch, and adjust the ticket's tags appropriately.

If you've responded to Matt's request for fixes:
http://comox.textdrive.com/pipermail/wp-hackers/2005-August/002298.html
now's your chance to (hopefully) fast-track your items into the core.
Find your items in the trac list, and set their milestone to 1.5.2 (a
newly created milestone).  Add patches as necessary.

If we all work hard, and double-check one another's work, we can put
into action the Open Source mantra that "with many eyes, all bugs are
small"!

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From skippy at skippy.net  Wed Aug 10 22:15:11 2005
From: skippy at skippy.net (Scott Merrill)
Date: Wed Aug 10 22:15:03 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <42F90475.3060200@mullenweg.com>
References: <42F90475.3060200@mullenweg.com>
Message-ID: <42FA7C6F.2080907@skippy.net>

Matt Mullenweg wrote:
> http://rpc.wordpress.org/latest-stable/
> 
> Returns YYYYMMDD of latest stable release.
> 
> I'm re-integrating a build date with our build generation scripts.

Is this in addition to, or in replacement of, this suggestion:
http://trac.wordpress.org/ticket/1476

I really like the idea of re-using data we're already fetching anyway.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From skippy at skippy.net  Thu Aug 11 01:24:23 2005
From: skippy at skippy.net (Scott Merrill)
Date: Thu Aug 11 01:24:28 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F81194.9090407@mullenweg.com>
References: <42F81194.9090407@mullenweg.com>
Message-ID: <42FAA8C7.9060108@skippy.net>

Matthew Mullenweg wrote:
> It's going to be long enough before the next release (1.6) and there are 
> enough fixes to warrant another release in the otherwise stable 1.5 branch.
> 
> I'm curious what bugs are most annoying to people or what hooks are most 
> needed in this bugfix/minor feature release.
> 

Collected here are the suggested fixes for 1.5.2.  Original requestors 
please open tickets for your items that lack them.  Everyone else should 
please test the patches and post success or failure reports on the tickets.

Denis de Bernardy:
* xmlrpc publishes pingbacks -- without the title -- even
as pingbacks are supposedly turned off
    NEEDS PATCH


Scott Merrill:
* XMLRPC and post-by-email should trigger publish_post
    http://trac.wordpress.org/ticket/967  HAS PATCH
* Future-dated posts should not generate pings
    NEEDS PATCH
* update service
    http://trac.wordpress.org/ticket/1476 NEEDS PATCH
* sort get_archives by more than date
    http://trac.wordpress.org/ticket/247 HAS PATCH
* And either fewer default links
    NEEDS PATCH


Robert Deaton:
* a ping fix for post times
    NEEDS PATCH


Doug Stewart:
* internal pingbacks use the top of the resultant HTML output
    NEEDS PATCH


Pete Prodoehl:
* Multiple Enclosures, detecting enclosures
    NEEDS PATCH
* Atom 1.0
    http://trac.wordpress.org/ticket/1526 HAS PATCH


Alex King:
* a hook that fires on change of comment status with the post ID  available
    NEEDS PATCH
* "Fix" the comments RSS feed to show the post title in the item  title 
in the feed.
    http://trac.wordpress.org/ticket/1570  HAS PATCH


Dougal Campbell
* ability to page through older comments
    NEEDS PATCH
* in Mass Edit mode, buttons to move checked comments to moderation, or 
flag them as spam
    NEEDS PATCH

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From tunicwriter at gmail.com  Thu Aug 11 02:02:33 2005
From: tunicwriter at gmail.com (Joey B)
Date: Thu Aug 11 02:02:42 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F81194.9090407@mullenweg.com>
References: <42F81194.9090407@mullenweg.com>
Message-ID: <6901708b0508101902e42591f@mail.gmail.com>

On 8/8/05, Matthew Mullenweg <m@mullenweg.com> wrote:
> It's going to be long enough before the next release (1.6) and there are
> enough fixes to warrant another release in the otherwise stable 1.5 branch.
> 
> I'm curious what bugs are most annoying to people or what hooks are most
> needed in this bugfix/minor feature release.
> 


A "Save and Continue Editing" button for Pages.

-- 
Joey Brooks
Milk Carton Designs || milkcarton.protonage.net
From false.hopes at gmail.com  Thu Aug 11 04:33:22 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Aug 11 04:33:31 2005
Subject: [wp-hackers] suggestions for the next (not immediate)release
In-Reply-To: <008401c59de9$8316d6a0$57ebd4cb@unicorn>
References: <001a01c59cb6$eabbe310$57ebd4cb@unicorn>
	<d6491f480508090106277beebc@mail.gmail.com>
	<010301c59cba$9b7a2290$57ebd4cb@unicorn>
	<a491f91d0508090552463a934a@mail.gmail.com>
	<008401c59de9$8316d6a0$57ebd4cb@unicorn>
Message-ID: <a491f91d050810213315610786@mail.gmail.com>

Well, if there's one place where WordPress could be optimized, it is
the SQL. A really nice way to optimize would be to use relationships,
but that's still a mysql 5 feature, so its not a particularly good
idea. I think one way to opitmize for speed and not space would be to
put more indecies on the SQL tables. One major improvement I think we
would see is using post_date and post_date_gmt as an index, since a
lot of the fetching is done by date.

On the PHP side, I honestly believe there is little that can be done
for efficiency to make anything noticable even on the slowest
machines. Cutting down the number of functions is the only way that
might matter, but that's been brought up before, and I doubt that its
going to happen since PHP itself handles that very well. (Comment out
all the DB calls and the PHP would fly).

On 8/10/05, Amit Gupta <wp@igeek.info> wrote:
>  
> well, actually I'm not saying that it should be done at the expense of
> features, & I'm certainly not saying that it should be done like LightPress
> which is loads faster but support not more than half the front end features,
> the plugins etc.
> what I was driving at is having the best of both worlds. that we keep the
> features & functionality & ease of WordPress and get some more speed. or
> should I believe that the code can't be optimised(including SQL) to make it
> a bit more fast than it is currently? perhaps Matt or Ryan can shed some
> light on this.
> 
> I know speed has been one of the driving points right from the beginning,
> but I think that I read some piece from Matt sometime back that said
> something about the legacy code from b2 that can be improved a bit or
> something to that effect. I don't know if its been done already or not, so
> thought that I might as well ask about it.
> 
> I don't have any problems with WP-Cache2 so far, its serving quite well on 1
> blog that I'm using it on. Its just that I pointed it as an example that a
> plugged in solution like that might not be as good as a built in might be.
> Just a thought, nothing more, so I maybe wrong or I maybe right. And I
> voiced some other people's thoughts on this as well, so they weren't my own
> entirely. 
> ------------
> Amit Gupta
> http://igeek.info/  ||  http://blog.igeek.info/
> http://blog.igeek.info/wp-plugins/igsyntax-hiliter 
>   
>   
>   
> 
>   
>  
> ----- Original Message ----- 
> From: Robert Deaton 
> To: wp-hackers@lists.automattic.com 
> Sent: Tuesday, August 09, 2005 6:22 PM 
> Subject: Re: [wp-hackers] suggestions for the next (not immediate)release 
> 
> Sure, tons could be done, but then where would we be? We'd be where
> lightpress is, tons faster, and tons of broken features. The WP Devs
> have kept speed and lightweight in mind from the start, and at this
> point without dropping features or filling the filesystem with files
> for every function to make sure nothing is loaded where it isn't
> needed, there isn't too much we can do for optimization.
> 
> On WP-Cache, saving multiple cache files is intentional, and is really
> not that big of a deal. The solution is intended to save server load,
> not harddisk space. It does not create more than one copy of the cache
> file, it creates a cache file that very well may be unique to the user
> that is logged in. Some sites have welcome greetings based on
> username, the edit posts link like you said is based on username, and
> various other little features that are only available when logged in
> and are unique to each user. Caching these files too is perfectly
> legitamate.
> 
> On 8/9/05, Amit Gupta <wp@igeek.info> wrote:
> >  
> > I know WP-Cache2 is a server-side cacheing, but it indeed creates more
> than
> > 1 copy of a page in the cache. frankly I haven't investigated this deeply
> > due to lack of time, but 1 thing I can tell you is that if you are logged
> in
> > to WP, then it'll create a cache-file for you & 1 for someone who's not
> > logged in, so that you see the "edit post" links along with the post
> > titles(if your theme has them). though this dual cache-file creation is OK
> &
> > not a problem, but I just mentioned it to tell you that it indeed creates
> > more than 1 copy of the cache-file!! ;)
> > 
> > I think that more can be found out by doing some basic testing, I'll do it
> > if I get some free time any soon. Please don't take this part of my
> > suggestion(multiple cache-file creation by WP-Cache2) entirely seriously
> as
> > I don't have any facts to back it up as I admit I haven't tested it up,
> what
> > I wrote is what some people who've tested told me. whether they are right
> or
> > wrong, I'm not 100% sure.
> > 
> > but the WP-Cache2 issue put aside, I think even Matt & Ryan would agree
> that
> > a lot can be done to tighten up the WP Code & its speed can be increased
> > significantly!!
> >  
> > ------------
> > Amit Gupta
> > http://igeek.info/  ||  http://blog.igeek.info/
> > http://blog.igeek.info/wp-plugins/igsyntax-hiliter 
> 
> -- 
> --Robert Deaton
> http://somethingunpredictable.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
>  
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From m at mullenweg.com  Thu Aug 11 04:45:39 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Thu Aug 11 04:45:47 2005
Subject: [wp-hackers] suggestions for the next (not immediate)release
In-Reply-To: <a491f91d050810213315610786@mail.gmail.com>
References: <001a01c59cb6$eabbe310$57ebd4cb@unicorn>	<d6491f480508090106277beebc@mail.gmail.com>	<010301c59cba$9b7a2290$57ebd4cb@unicorn>	<a491f91d0508090552463a934a@mail.gmail.com>	<008401c59de9$8316d6a0$57ebd4cb@unicorn>
	<a491f91d050810213315610786@mail.gmail.com>
Message-ID: <42FAD7F3.4070506@mullenweg.com>

Robert Deaton wrote:
> Well, if there's one place where WordPress could be optimized, it is
> the SQL. A really nice way to optimize would be to use relationships,
> but that's still a mysql 5 feature, so its not a particularly good
> idea. I think one way to opitmize for speed and not space would be to
> put more indecies on the SQL tables. One major improvement I think we
> would see is using post_date and post_date_gmt as an index, since a
> lot of the fetching is done by date.

There was a thread on this before I believe. MySQL only uses one index 
per query, so adding indicies doesn't always help things. You can test 
out adding an index to every field in the posts table and see if it 
changes the speed any, but in my testing it hasn't.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From nbachiyski at developer.bg  Thu Aug 11 08:21:38 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Thu Aug 11 08:25:55 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42F81194.9090407@mullenweg.com>
References: <42F81194.9090407@mullenweg.com>
Message-ID: <42FB0A92.6050405@developer.bg>

Matthew Mullenweg wrote:
> It's going to be long enough before the next release (1.6) and there are 
> enough fixes to warrant another release in the otherwise stable 1.5 branch.
> 
> I'm curious what bugs are most annoying to people or what hooks are most 
> needed in this bugfix/minor feature release.
> 

Creation of a user theme from the default one.
Both implies ugly theme directory name and actually doesn't work when 
the name contains non-ascii symbols.

Solution: just don't create it. Is actually anybody using this?

References:

http://comox.textdrive.com/pipermail/wp-hackers/2005-July/002072.html

http://comox.textdrive.com/pipermail/wp-hackers/2005-April/000476.html

Nikolay.
From mark.wordpress at txfx.net  Thu Aug 11 09:11:05 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Thu Aug 11 09:10:59 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42FB0A92.6050405@developer.bg>
References: <42F81194.9090407@mullenweg.com> <42FB0A92.6050405@developer.bg>
Message-ID: <42FB1629.9050208@txfx.net>

Nikolay Bachiyski wrote:

> Creation of a user theme from the default one.
> Both implies ugly theme directory name and actually doesn't work when 
> the name contains non-ascii symbols.
>
> Solution: just don't create it. Is actually anybody using this?

Well, the idea is that if people want to start tweaking the default 
theme, at least they'll have something to fall back on if it breaks.  
Also, the default theme directory is used as a fallback if your theme, 
for instance, doesn't include comments.php, so there is an incentive to 
keep the default theme virginal.

Perhaps we should just ship with two copies of the default theme.  
Yeah... I know... makes the download bigger... but it gets around the 
naming problems (just call it /my-theme/ or something), and it gets 
around the problems with people who don't have a writable 
/wp-content/themes/ directory.

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From nbachiyski at developer.bg  Thu Aug 11 09:58:17 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Thu Aug 11 10:02:31 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42FB1629.9050208@txfx.net>
References: <42F81194.9090407@mullenweg.com> <42FB0A92.6050405@developer.bg>
	<42FB1629.9050208@txfx.net>
Message-ID: <42FB2139.1000902@developer.bg>

Mark Jaquith wrote:
> Nikolay Bachiyski wrote:
> 
>> Creation of a user theme from the default one.
>> Both implies ugly theme directory name and actually doesn't work when 
>> the name contains non-ascii symbols.
>>
>> Solution: just don't create it. Is actually anybody using this?
> 
> 
> Well, the idea is that if people want to start tweaking the default 
> theme, at least they'll have something to fall back on if it breaks.  
> Also, the default theme directory is used as a fallback if your theme, 
> for instance, doesn't include comments.php, so there is an incentive to 
> keep the default theme virginal.
> 
> Perhaps we should just ship with two copies of the default theme.  
> Yeah... I know... makes the download bigger... but it gets around the 
> naming problems (just call it /my-theme/ or something), and it gets 
> around the problems with people who don't have a writable 
> /wp-content/themes/ directory.
> 

I admit the idea of a user theme is not bad...

However the active theme after install is the 'default' one and it is 
not indicated anywhere that if I want to edit something I should edit 
'my theme', and not the default one. Maybe if we ship with a second copy 
of the default theme (as you suggested) and make it active by default 
the users will edit this one and transparently leave the default theme 
virginal. Thus we will solve both problems: non-writable themes/ 
directory and non-ascii characters in blog name.

Before we consider this option, maybe we should investigate if users 
often mess up their themes and if the user theme is *really* needed.

Nikolay.
From podz at tamba2.org.uk  Thu Aug 11 11:00:01 2005
From: podz at tamba2.org.uk (Podz)
Date: Thu Aug 11 10:59:34 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42FB2139.1000902@developer.bg>
References: <42F81194.9090407@mullenweg.com>
	<42FB0A92.6050405@developer.bg>	<42FB1629.9050208@txfx.net>
	<42FB2139.1000902@developer.bg>
Message-ID: <42FB2FB1.2060808@tamba2.org.uk>

Nikolay Bachiyski wrote:
> Before we consider this option, maybe we should investigate if users 
> often mess up their themes and if the user theme is *really* needed.
> 

 From the forum posts ?
No, if the cost is an increased download and the benefit the very 
occasional fixed theme, no it is not.

To be honest, in the forums if someone asks about changing the default, 
they are steered toward any other theme that is easier for a CSS newbie 
to understand.

P.
From nbachiyski at developer.bg  Thu Aug 11 11:59:17 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Thu Aug 11 12:03:31 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42FB2FB1.2060808@tamba2.org.uk>
References: <42F81194.9090407@mullenweg.com>	<42FB0A92.6050405@developer.bg>	<42FB1629.9050208@txfx.net>	<42FB2139.1000902@developer.bg>
	<42FB2FB1.2060808@tamba2.org.uk>
Message-ID: <42FB3D95.10605@developer.bg>

Podz wrote:
> Nikolay Bachiyski wrote:
> 
>> Before we consider this option, maybe we should investigate if users 
>> often mess up their themes and if the user theme is *really* needed.
>>
> 
>  From the forum posts ?
> No, if the cost is an increased download and the benefit the very 
> occasional fixed theme, no it is not.
> 
> To be honest, in the forums if someone asks about changing the default, 
> they are steered toward any other theme that is easier for a CSS newbie 
> to understand.

Do you think it is ok to no longer create a user theme in install?

In my opinion it will not be a big pain for users, because few use the 
default theme. Am I right?


Nikolay.
> 
> P.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From skippy at skippy.net  Thu Aug 11 12:16:41 2005
From: skippy at skippy.net (Scott Merrill)
Date: Thu Aug 11 12:16:33 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42FB2139.1000902@developer.bg>
References: <42F81194.9090407@mullenweg.com>
	<42FB0A92.6050405@developer.bg>	<42FB1629.9050208@txfx.net>
	<42FB2139.1000902@developer.bg>
Message-ID: <42FB41A9.4050207@skippy.net>

Nikolay Bachiyski wrote:
> Mark Jaquith wrote:
>> Perhaps we should just ship with two copies of the default theme. 
>> Yeah... I know... makes the download bigger... but it gets around the
>> naming problems (just call it /my-theme/ or something), and it gets
>> around the problems with people who don't have a writable
>> /wp-content/themes/ directory.
>>
> 
> I admit the idea of a user theme is not bad...
> 
> However the active theme after install is the 'default' one and it is
> not indicated anywhere that if I want to edit something I should edit
> 'my theme', and not the default one. Maybe if we ship with a second copy
> of the default theme (as you suggested) and make it active by default
> the users will edit this one and transparently leave the default theme
> virginal. Thus we will solve both problems: non-writable themes/
> directory and non-ascii characters in blog name.

If we do ship two copies of the default theme, the virginal copy should
_not_ live in /wp-content/themes/ but in /wp-content/[somethingelse]/ so
that users can be assured of having a known working theme somewhere.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From podz at tamba2.org.uk  Thu Aug 11 12:28:37 2005
From: podz at tamba2.org.uk (Podz)
Date: Thu Aug 11 12:28:29 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42FB3D95.10605@developer.bg>
References: <42F81194.9090407@mullenweg.com>	<42FB0A92.6050405@developer.bg>	<42FB1629.9050208@txfx.net>	<42FB2139.1000902@developer.bg>	<42FB2FB1.2060808@tamba2.org.uk>
	<42FB3D95.10605@developer.bg>
Message-ID: <42FB4475.50004@tamba2.org.uk>

Nikolay Bachiyski wrote:
> Do you think it is ok to no longer create a user theme in install?
> 
> In my opinion it will not be a big pain for users, because few use the 
> default theme. Am I right?
> 

For what it's worth, I did not understand why it was introduced, and as 
I asked at the time it was neither revealed why the change was 
introduced or that indeed the change had been made (save for some trac 
ticket).
If someone breaks a new theme - download another.
If they break their own theme, this offers nothing.

P.
From podz at tamba2.org.uk  Thu Aug 11 12:31:22 2005
From: podz at tamba2.org.uk (Podz)
Date: Thu Aug 11 12:30:56 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42FB41A9.4050207@skippy.net>
References: <42F81194.9090407@mullenweg.com>	<42FB0A92.6050405@developer.bg>	<42FB1629.9050208@txfx.net>	<42FB2139.1000902@developer.bg>
	<42FB41A9.4050207@skippy.net>
Message-ID: <42FB451A.9000002@tamba2.org.uk>

Scott Merrill wrote:
> If we do ship two copies of the default theme, the virginal copy should
> _not_ live in /wp-content/themes/ but in /wp-content/[somethingelse]/ so
> that users can be assured of having a known working theme somewhere.
> 
But why ship it in the first place ?
For what reason ?
Thousands of downloads yet this is being done for a fraction of a % of 
users ?
From spleeman at gmail.com  Thu Aug 11 12:39:48 2005
From: spleeman at gmail.com (Lee McFadden)
Date: Thu Aug 11 12:39:51 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42FB451A.9000002@tamba2.org.uk>
References: <42F81194.9090407@mullenweg.com> <42FB0A92.6050405@developer.bg>
	<42FB1629.9050208@txfx.net> <42FB2139.1000902@developer.bg>
	<42FB41A9.4050207@skippy.net> <42FB451A.9000002@tamba2.org.uk>
Message-ID: <7d09b09c05081105395824a243@mail.gmail.com>

I agree with Podz, if someone is savvy enough to be editing a theme
they should also be savvy enough to make a backup of the original
and/or be able to correct their mistakes using another copy of the
standard download.

I think, while it may be a nice feature if the themes were *very* easy
to change if the user is not a designer/programmer - i.e. via a
wysiwyg theme editor in wp-admin, that the feature is overkill and
will only help 0.05% of people who really should know better.

Splee

On 11/08/05, Podz <podz@tamba2.org.uk> wrote:
> But why ship it in the first place ?
> For what reason ?
> Thousands of downloads yet this is being done for a fraction of a % of
> users ?
From fd at firasd.org  Thu Aug 11 12:45:50 2005
From: fd at firasd.org (Firas D.)
Date: Thu Aug 11 12:45:59 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42FB41A9.4050207@skippy.net>
References: <42F81194.9090407@mullenweg.com>	<42FB0A92.6050405@developer.bg>	<42FB1629.9050208@txfx.net>	<42FB2139.1000902@developer.bg>
	<42FB41A9.4050207@skippy.net>
Message-ID: <42FB487E.2040006@firasd.org>

Scott Merrill wrote:

>If we do ship two copies of the default theme, the virginal copy should
>_not_ live in /wp-content/themes/ but in /wp-content/[somethingelse]/ so
>that users can be assured of having a known working theme somewhere.
>
>  
>
It'd be nice to have an official /backup/ folder for this purpose, which 
would hold backups of themes, db, whatever else. So (for example) a 
search and replace plugin could say wp_backup_db() before executing sql, 
or say wp_backup_theme() before doing S&R in templates.

-- 
http://firasd.org

From pete.prodoehl at cygnusinteractive.com  Thu Aug 11 13:51:59 2005
From: pete.prodoehl at cygnusinteractive.com (Pete Prodoehl)
Date: Thu Aug 11 13:52:06 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <7d09b09c05081105395824a243@mail.gmail.com>
References: <42F81194.9090407@mullenweg.com>
	<42FB0A92.6050405@developer.bg>	<42FB1629.9050208@txfx.net>
	<42FB2139.1000902@developer.bg>	<42FB41A9.4050207@skippy.net>
	<42FB451A.9000002@tamba2.org.uk>
	<7d09b09c05081105395824a243@mail.gmail.com>
Message-ID: <42FB57FF.1040109@cygnusinteractive.com>

Lee McFadden wrote:
> I agree with Podz, if someone is savvy enough to be editing a theme
> they should also be savvy enough to make a backup of the original
> and/or be able to correct their mistakes using another copy of the
> standard download.

What I typically do is manually duplicate the default theme, and give it 
a new name to match the site, and then edit that one. But then I'm 
pretty comfortable doing that, so I'm one of the savvy folks.

Pete


From heilemann at mac.com  Thu Aug 11 13:34:33 2005
From: heilemann at mac.com (Michael Heilemann)
Date: Thu Aug 11 14:06:52 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <7d09b09c05081105395824a243@mail.gmail.com>
References: <42F81194.9090407@mullenweg.com> <42FB0A92.6050405@developer.bg>
	<42FB1629.9050208@txfx.net> <42FB2139.1000902@developer.bg>
	<42FB41A9.4050207@skippy.net> <42FB451A.9000002@tamba2.org.uk>
	<7d09b09c05081105395824a243@mail.gmail.com>
Message-ID: <B7923B20-D050-441C-A61B-FAFF7D8EE007@mac.com>

Seeing as the a fresh theme is available 24/7 at wordpress.org/ 
download, isn't this whole discussion a bit redundant?

On Aug 11, 2005, at 2:39 PM, Lee McFadden wrote:

> I agree with Podz, if someone is savvy enough to be editing a theme
> they should also be savvy enough to make a backup of the original
> and/or be able to correct their mistakes using another copy of the
> standard download.
>
> I think, while it may be a nice feature if the themes were *very* easy
> to change if the user is not a designer/programmer - i.e. via a
> wysiwyg theme editor in wp-admin, that the feature is overkill and
> will only help 0.05% of people who really should know better.
>
> Splee
>
> On 11/08/05, Podz <podz@tamba2.org.uk> wrote:
>
>> But why ship it in the first place ?
>> For what reason ?
>> Thousands of downloads yet this is being done for a fraction of a  
>> % of
>> users ?
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From podz at tamba2.org.uk  Thu Aug 11 14:29:39 2005
From: podz at tamba2.org.uk (Podz)
Date: Thu Aug 11 14:29:27 2005
Subject: [wp-hackers] Link Rating / Updated
In-Reply-To: <B7923B20-D050-441C-A61B-FAFF7D8EE007@mac.com>
References: <42F81194.9090407@mullenweg.com>
	<42FB0A92.6050405@developer.bg>	<42FB1629.9050208@txfx.net>
	<42FB2139.1000902@developer.bg>	<42FB41A9.4050207@skippy.net>
	<42FB451A.9000002@tamba2.org.uk>	<7d09b09c05081105395824a243@mail.gmail.com>
	<B7923B20-D050-441C-A61B-FAFF7D8EE007@mac.com>
Message-ID: <42FB60D3.9040604@tamba2.org.uk>

Looking around the forums:
- Sort by Link Updating. Can this be done from just the tick box on the 
Link Categories page ?
- Sort by Rating. The images disappeared some time ago but we still have 
that as an option.

Codex seems unclear, is this deprecated ?

P.
From lorelle at cameraontheroad.com  Thu Aug 11 15:10:44 2005
From: lorelle at cameraontheroad.com (Lorelle VanFossen)
Date: Thu Aug 11 15:41:37 2005
Subject: [wp-hackers] New GPL
Message-ID: <42FB6A74.4020203@cameraontheroad.com>

FYI:

http://news.zdnet.com/2100-3513_22-5826016.html
*
The first draft of the next version of the General Public License should 
be released for public comments in early 2006, according to a key player 
in the effort to modernize the foundation of the free and open-source 
programming movements.

Lorelle
*

From dougal at gunters.org  Thu Aug 11 17:31:18 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Thu Aug 11 17:31:51 2005
Subject: [wp-hackers] Link Rating / Updated
In-Reply-To: <42FB60D3.9040604@tamba2.org.uk>
References: <42F81194.9090407@mullenweg.com>	<42FB0A92.6050405@developer.bg>	<42FB1629.9050208@txfx.net>	<42FB2139.1000902@developer.bg>	<42FB41A9.4050207@skippy.net>	<42FB451A.9000002@tamba2.org.uk>	<7d09b09c05081105395824a243@mail.gmail.com>	<B7923B20-D050-441C-A61B-FAFF7D8EE007@mac.com>
	<42FB60D3.9040604@tamba2.org.uk>
Message-ID: <42FB8B66.7040609@gunters.org>

Podz wrote:
> Looking around the forums:
> - Sort by Link Updating. Can this be done from just the tick box on the 
> Link Categories page ?
> - Sort by Rating. The images disappeared some time ago but we still have 
> that as an option.
> 
> Codex seems unclear, is this deprecated ?

There shouldn't be any issues with sorting link categories by either 
"updated" or "rating". Just set it in the Links/Categories subpanel. Or 
if using a particular template tag to display categories, use "updated" 
or "rating" as the 'orderby' sort criteria.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From ryan at boren.nu  Thu Aug 11 17:49:55 2005
From: ryan at boren.nu (Ryan Boren)
Date: Thu Aug 11 17:50:09 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42FB4475.50004@tamba2.org.uk>
References: <42F81194.9090407@mullenweg.com>	<42FB0A92.6050405@developer.bg>	<42FB1629.9050208@txfx.net>	<42FB2139.1000902@developer.bg>	<42FB2FB1.2060808@tamba2.org.uk>	<42FB3D95.10605@developer.bg>
	<42FB4475.50004@tamba2.org.uk>
Message-ID: <42FB8FC3.9030408@boren.nu>

Podz wrote:

> Nikolay Bachiyski wrote:
>
>> Do you think it is ok to no longer create a user theme in install?
>>
>> In my opinion it will not be a big pain for users, because few use 
>> the default theme. Am I right?
>>
>
> For what it's worth, I did not understand why it was introduced, and 
> as I asked at the time it was neither revealed why the change was 
> introduced or that indeed the change had been made (save for some trac 
> ticket).
> If someone breaks a new theme - download another.
> If they break their own theme, this offers nothing.

Well, it automatically upgrades 1.2 templates to 1.5, and it moves user 
themes out of the way of the bundled themes so that they are not 
overwritten during uprgrade.  The site theme should be created only if 
you are using one of the bundled themes or are upgrading from 1.2.   
That said, I don't really care if it stays in.  It can either be 
improved or ditched. Whatever.

Ryan
From wp at igeek.info  Thu Aug 11 18:05:24 2005
From: wp at igeek.info (Amit Gupta)
Date: Thu Aug 11 18:05:48 2005
Subject: [wp-hackers] suggestions for the next (not immediate)release
References: <001a01c59cb6$eabbe310$57ebd4cb@unicorn>	<d6491f480508090106277beebc@mail.gmail.com>	<010301c59cba$9b7a2290$57ebd4cb@unicorn>	<a491f91d0508090552463a934a@mail.gmail.com>	<008401c59de9$8316d6a0$57ebd4cb@unicorn><a491f91d050810213315610786@mail.gmail.com>
	<42FAD7F3.4070506@mullenweg.com>
Message-ID: <004a01c59e9f$419a7f40$57ebd4cb@unicorn>

Matthew Mullenweg <m@mullenweg.com> wrote:
| There was a thread on this before I believe. MySQL only uses one index
| per query, so adding indicies doesn't always help things. You can test
| out adding an index to every field in the posts table and see if it
| changes the speed any, but in my testing it hasn't.
yes, I've seen that as well, whether you have indices on all fields of 
the table or just one of group that you are querying, it doesn't make 
any difference, not in MySQL as of yet, might make a difference in the 
future versions.


Robert Deaton <false.hopes@gmail.com> wrote:
| On the PHP side, I honestly believe there is little that can be done
| for efficiency to make anything noticable even on the slowest
| machines. Cutting down the number of functions is the only way that
| might matter, but that's been brought up before, and I doubt that its
| going to happen since PHP itself handles that very well. (Comment out
| all the DB calls and the PHP would fly).
well I don't know much about that as I'm not that of a PHP expert & I 
haven't looked into WordPress code much. So I'll trust you Deep-6 guys 
on it!! :)

------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050811/78efaf10/attachment.html
From false.hopes at gmail.com  Thu Aug 11 18:43:35 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Aug 11 18:43:48 2005
Subject: [wp-hackers] suggestions for the next (not immediate)release
In-Reply-To: <42FAD7F3.4070506@mullenweg.com>
References: <001a01c59cb6$eabbe310$57ebd4cb@unicorn>
	<d6491f480508090106277beebc@mail.gmail.com>
	<010301c59cba$9b7a2290$57ebd4cb@unicorn>
	<a491f91d0508090552463a934a@mail.gmail.com>
	<008401c59de9$8316d6a0$57ebd4cb@unicorn>
	<a491f91d050810213315610786@mail.gmail.com>
	<42FAD7F3.4070506@mullenweg.com>
Message-ID: <a491f91d050811114337e2ce54@mail.gmail.com>

http://rucus.ru.ac.za/docs/mysql/MySQL-indexes.html#MySQL%20indexes

My guess is that when you created the index, you didn't actually call
the indexes in the SELECTS, which would cause them to be ignored. I'm
no mysql guru, but I do think that we can speed everything up on the
SELECTS by post_date.

On 8/10/05, Matthew Mullenweg <m@mullenweg.com> wrote:
> Robert Deaton wrote:
> > Well, if there's one place where WordPress could be optimized, it is
> > the SQL. A really nice way to optimize would be to use relationships,
> > but that's still a mysql 5 feature, so its not a particularly good
> > idea. I think one way to opitmize for speed and not space would be to
> > put more indecies on the SQL tables. One major improvement I think we
> > would see is using post_date and post_date_gmt as an index, since a
> > lot of the fetching is done by date.
> 
> There was a thread on this before I believe. MySQL only uses one index
> per query, so adding indicies doesn't always help things. You can test
> out adding an index to every field in the posts table and see if it
> changes the speed any, but in my testing it hasn't.
> 
> --
> Matt Mullenweg
>   http://photomatt.net | http://wordpress.org
> http://pingomatic.com | http://cnet.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From m at mullenweg.com  Thu Aug 11 18:52:17 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Thu Aug 11 18:55:24 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <42FA7C6F.2080907@skippy.net>
References: <42F90475.3060200@mullenweg.com> <42FA7C6F.2080907@skippy.net>
Message-ID: <42FB9E61.8070605@mullenweg.com>

Scott Merrill wrote:
> Is this in addition to, or in replacement of, this suggestion:
> http://trac.wordpress.org/ticket/1476
> 
> I really like the idea of re-using data we're already fetching anyway.

I would rather not use the dev blog feed as that tends to be on the 
bleeding edge. (Dogfood and all.)

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From skippy at skippy.net  Thu Aug 11 19:01:05 2005
From: skippy at skippy.net (Scott Merrill)
Date: Thu Aug 11 19:01:22 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <42FB9E61.8070605@mullenweg.com>
References: <42F90475.3060200@mullenweg.com> <42FA7C6F.2080907@skippy.net>
	<42FB9E61.8070605@mullenweg.com>
Message-ID: <42FBA071.4090908@skippy.net>

Matt Mullenweg wrote:
> Scott Merrill wrote:
> 
>> Is this in addition to, or in replacement of, this suggestion:
>> http://trac.wordpress.org/ticket/1476
>>
>> I really like the idea of re-using data we're already fetching anyway.
> 
> 
> I would rather not use the dev blog feed as that tends to be on the
> bleeding edge. (Dogfood and all.)
> 

It's such a great re-use of data, though!  photomatt.net can be as
bleeding edge as you want, and wordpress.org can run the tried-and-true
stable release.

Anyway, ticket 1476 has a vote from me.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From m at mullenweg.com  Thu Aug 11 19:04:23 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Thu Aug 11 19:04:50 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <42FBA071.4090908@skippy.net>
References: <42F90475.3060200@mullenweg.com>
	<42FA7C6F.2080907@skippy.net>	<42FB9E61.8070605@mullenweg.com>
	<42FBA071.4090908@skippy.net>
Message-ID: <42FBA137.4090205@mullenweg.com>

Scott Merrill wrote:
> It's such a great re-use of data, though!  photomatt.net can be as
> bleeding edge as you want, and wordpress.org can run the tried-and-true
> stable release.

True, a good middle ground might be the planet feed. I'd like that to 
use FeedWordPress (or similar) and that could be kept on the latest stable.

BTW, if anyone wants to volunteer to set up the new planet it's a pretty 
self-contained project.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From mark.wordpress at txfx.net  Thu Aug 11 19:11:32 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Thu Aug 11 19:11:24 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42FB4475.50004@tamba2.org.uk>
References: <42F81194.9090407@mullenweg.com>	<42FB0A92.6050405@developer.bg>	<42FB1629.9050208@txfx.net>	<42FB2139.1000902@developer.bg>	<42FB2FB1.2060808@tamba2.org.uk>	<42FB3D95.10605@developer.bg>
	<42FB4475.50004@tamba2.org.uk>
Message-ID: <42FBA2E4.9090601@txfx.net>

Podz wrote:

> For what it's worth, I did not understand why it was introduced, and 
> as I asked at the time it was neither revealed why the change was 
> introduced or that indeed the change had been made (save for some trac 
> ticket).
> If someone breaks a new theme - download another.
> If they break their own theme, this offers nothing.

I was just explaining the reasoning, not defending it.  I don't care at 
all if it stays.  It rarely works anyway (file permissions) so it won't 
be missed.

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From dougal at gunters.org  Thu Aug 11 19:18:55 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Thu Aug 11 19:19:43 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <42FB9E61.8070605@mullenweg.com>
References: <42F90475.3060200@mullenweg.com> <42FA7C6F.2080907@skippy.net>
	<42FB9E61.8070605@mullenweg.com>
Message-ID: <42FBA49F.3060600@gunters.org>

Matt Mullenweg wrote:
> Scott Merrill wrote:
> 
>> Is this in addition to, or in replacement of, this suggestion:
>> http://trac.wordpress.org/ticket/1476
>>
>> I really like the idea of re-using data we're already fetching anyway.
> 
> 
> I would rather not use the dev blog feed as that tends to be on the 
> bleeding edge. (Dogfood and all.)

What if we added a custom, namespaced element to the feed which 
indicated the current stable version? Best of both worlds?


-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From denis at semiologic.com  Thu Aug 11 19:32:26 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Thu Aug 11 19:32:31 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <42FBA49F.3060600@gunters.org>
Message-ID: <000001c59eab$67a12f20$0701000a@DB>

why not a separate call (e.g. via xml-rpc or even a simple http GET request
that returns the version number in plain text) once per day? trying to embed
the relevant data into an arbitrary source is somewhat odd from a software
design standpoint.

D.

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com 
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of 
> Dougal Campbell
> Sent: Thursday, August 11, 2005 12:19 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Version RPC
> 
> 
> Matt Mullenweg wrote:
> > Scott Merrill wrote:
> > 
> >> Is this in addition to, or in replacement of, this suggestion: 
> >> http://trac.wordpress.org/ticket/1476
> >>
> >> I really like the idea of re-using data we're already fetching 
> >> anyway.
> > 
> > 
> > I would rather not use the dev blog feed as that tends to be on the
> > bleeding edge. (Dogfood and all.)
> 
> What if we added a custom, namespaced element to the feed which 
> indicated the current stable version? Best of both worlds?
> 
> 
> -- 
> Dougal Campbell <dougal@gunters.org>
> http://dougal.gunters.org/
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com 
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From dougal at gunters.org  Thu Aug 11 19:45:28 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Thu Aug 11 19:46:16 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <000001c59eab$67a12f20$0701000a@DB>
References: <000001c59eab$67a12f20$0701000a@DB>
Message-ID: <42FBAAD8.2030809@gunters.org>

Denis de Bernardy wrote:
> why not a separate call (e.g. via xml-rpc or even a simple http GET request
> that returns the version number in plain text) once per day? trying to embed
> the relevant data into an arbitrary source is somewhat odd from a software
> design standpoint.

Ideally, yes, we should definitely have a "black box" method of remotely 
checking the current version number.

But the idea here was that the WordPress Dashboard already fetches the 
dev blog feed, so we could save a call-out by combining things.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From m at mullenweg.com  Thu Aug 11 20:08:22 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Thu Aug 11 20:08:28 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <000001c59eab$67a12f20$0701000a@DB>
References: <000001c59eab$67a12f20$0701000a@DB>
Message-ID: <42FBB036.7030304@mullenweg.com>

Denis de Bernardy wrote:
> why not a separate call (e.g. via xml-rpc or even a simple http GET request
> that returns the version number in plain text) once per day? trying to embed
> the relevant data into an arbitrary source is somewhat odd from a software
> design standpoint.

That's how this thread started! :)

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From denis at semiologic.com  Thu Aug 11 20:18:40 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Thu Aug 11 20:18:44 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <42FBB036.7030304@mullenweg.com>
Message-ID: <000001c59eb1$dcec2270$0701000a@DB>

Yeah, I was just following it from a distance. :)

It's just, it makes no real sense from a design stand point imho. You could
just as well put the information in any other randomly chosen file. And the
bandwidth saving is very much zero.

What more, someone might want to call the data for an entirely separate
reason sooner or later, or insert more data, or whatever. And having it
embeded in the rss feed at that point won't necessarily make sense.

In the end, rather than trying to outfancy things with some geeky mixture of
data, you'll want to stick to something completely separate and independent.

D.



> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com 
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of 
> Matt Mullenweg
> Sent: Thursday, August 11, 2005 1:08 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Version RPC
> 
> 
> Denis de Bernardy wrote:
> > why not a separate call (e.g. via xml-rpc or even a simple http GET 
> > request that returns the version number in plain text) once 
> per day? 
> > trying to embed the relevant data into an arbitrary source 
> is somewhat 
> > odd from a software design standpoint.
> 
> That's how this thread started! :)
> 
> -- 
> Matt Mullenweg
> http://photomatt.net  | http://wordpress.org 
> http://pingomatic.com | http://cnet.com 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com 
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From trevorturk at yahoo.com  Thu Aug 11 20:21:58 2005
From: trevorturk at yahoo.com (Trevor Turk)
Date: Thu Aug 11 20:22:04 2005
Subject: [wp-hackers] 1.5.2
In-Reply-To: <42FBA2E4.9090601@txfx.net>
Message-ID: <20050811202158.29242.qmail@web31803.mail.mud.yahoo.com>

I'd like to add to the hopeful candidates for
inclusion to 1.5.2:

http://trac.wordpress.org/ticket/1155

That's about adding "wp-login" to the theme system.
From skippy at skippy.net  Thu Aug 11 20:23:22 2005
From: skippy at skippy.net (Scott Merrill)
Date: Thu Aug 11 20:23:14 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <000001c59eb1$dcec2270$0701000a@DB>
References: <000001c59eb1$dcec2270$0701000a@DB>
Message-ID: <42FBB3BA.9080708@skippy.net>

Denis de Bernardy wrote:
> Yeah, I was just following it from a distance. :)
> 
> It's just, it makes no real sense from a design stand point imho. You could
> just as well put the information in any other randomly chosen file. And the
> bandwidth saving is very much zero.

Bandwidth cost is zero, too, since we're all already fetching stuff for
our dashboards.

I fail to see what's so bad about using the single RSS payload for
multiple purposes.

> What more, someone might want to call the data for an entirely separate
> reason sooner or later, or insert more data, or whatever. And having it
> embeded in the rss feed at that point won't necessarily make sense.

As it stands, this is a zero-cost way to propogate the current WordPress
version without generating a new request from the client.

Propogating other sorts of data may or may not have value, and they can
be explored later.  Do you have a specific example?

> In the end, rather than trying to outfancy things with some geeky mixture of
> data, you'll want to stick to something completely separate and independent.

That would be the RPC link to which Matt linked originally.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From fd at firasd.org  Thu Aug 11 20:36:58 2005
From: fd at firasd.org (Firas D.)
Date: Thu Aug 11 20:37:04 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <42FBB3BA.9080708@skippy.net>
References: <000001c59eb1$dcec2270$0701000a@DB> <42FBB3BA.9080708@skippy.net>
Message-ID: <42FBB6EA.7090503@firasd.org>

Scott Merrill wrote:

>As it stands, this is a zero-cost way to propogate the current WordPress
>version without generating a new request from the client.
>
>Propogating other sorts of data may or may not have value, and they can
>be explored later.  Do you have a specific example?
>

Pardon my inability to grasp your side of the argument, but this 
discussion seems a bit surreal.

Putting the version in a nice text response to a GET request instead of 
shoehorning it into a random RSS feed makes sense for the same reason 
that, in markup, you'd put an id on an element and select '#id' rather 
than select '* > html body > td+td p[lang|=fr] span:first-child'. Sure, 
the latter is elegant and leet, but is brittle and unnecessary.

WP won't be the only script that'd want to access an automated note of 
the latest version, and I'm not sure why these other services that want 
the info would do regex on an rss feed or scrape svn rather than just do 
$version = file_get_contents('http://..').

Now, if it was a serious bandwith concern, then I could empathize with 
the 'throw it into the rss feed' side of the issue. Is it?

-- 
http://firasd.org

From denis at semiologic.com  Thu Aug 11 20:58:11 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Thu Aug 11 20:58:14 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <42FBB3BA.9080708@skippy.net>
Message-ID: <000001c59eb7$6280a910$0701000a@DB>


> As it stands, this is a zero-cost way to propogate the 
> current WordPress version without generating a new request 
> from the client.
> 
> Propogating other sorts of data may or may not have value, 
> and they can be explored later.  Do you have a specific example?

I think you missed my point: my experience, for what it's worth (= not
much), tells me that you're better off retreiving independent data via
independent channels in the long run. Because if someone, some day, wants to
retrieve more data or use the data for any other reason, what initially was
perceived as fancy will turn out to be bulky.

> That would be the RPC link to which Matt linked originally.

exactly.

D.

From mark.wordpress at txfx.net  Fri Aug 12 11:49:53 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Fri Aug 12 11:49:45 2005
Subject: [wp-hackers] Way to tell what hooks are supported
Message-ID: <42FC8CE1.4050802@txfx.net>

I was wondering if I could get some feedback on this idea:
http://trac.wordpress.org/ticket/1579

Basically, it's an array of all the hooks that are supported, plus a 
function, hook_exists('hook_name') which returns does an in_array call 
which returns true or false.  Might make it easier for plugin authors to 
know if a hook is supported, instead of having to do version voodoo and 
research.  It would also make the hooks known for people using SVN 
versions, where version number voodoo may be impossible.  I can think of 
one con: as new hooks are added, we'll have to add to the list.  But 
heck, I'd volunteer to monitor the changelog for new hooks and remind 
the devs to add them to the list.

Thoughts?

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From davebytes at comcast.net  Fri Aug 12 18:11:43 2005
From: davebytes at comcast.net (David Chait)
Date: Fri Aug 12 18:11:44 2005
Subject: [wp-hackers] Way to tell what hooks are supported
References: <42FC8CE1.4050802@txfx.net>
Message-ID: <00ff01c59f69$4b986c30$6e01a8c0@sixfour>

I don't understand the concept of 'all the hoks that are supported'.  Do you 
mean 'all the hooks that are called internally by WordPress'?

Obviously, there are a number of hooks that are called from within 
templates/themes, and none of those would necessarily be 'advertised' (as 
it'd be improper to do so).  Also, just because a hook is advertised doesn't 
guarantee it is getting called upon -- that could also depend on the page, 
or the template.  Sticky issue...

I mean, otherwise, this is sort of like querying OpenGL for 'what extensions 
are supported'... So I'm all for it, just think in real-life coding it will 
only be of use in certain circumstances.

-d

----- Original Message ----- 
From: "Mark Jaquith" <mark.wordpress@txfx.net>
To: "Wordpress Hackers List" <wp-hackers@lists.automattic.com>
Sent: Friday, August 12, 2005 7:49 AM
Subject: [wp-hackers] Way to tell what hooks are supported


>I was wondering if I could get some feedback on this idea:
> http://trac.wordpress.org/ticket/1579
>
> Basically, it's an array of all the hooks that are supported, plus a 
> function, hook_exists('hook_name') which returns does an in_array call 
> which returns true or false.  Might make it easier for plugin authors to 
> know if a hook is supported, instead of having to do version voodoo and 
> research.  It would also make the hooks known for people using SVN 
> versions, where version number voodoo may be impossible.  I can think of 
> one con: as new hooks are added, we'll have to add to the list.  But heck, 
> I'd volunteer to monitor the changelog for new hooks and remind the devs 
> to add them to the list. 

From mark.wordpress at txfx.net  Fri Aug 12 22:42:47 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Fri Aug 12 22:43:40 2005
Subject: [wp-hackers] Way to tell what hooks are supported
In-Reply-To: <00ff01c59f69$4b986c30$6e01a8c0@sixfour>
References: <42FC8CE1.4050802@txfx.net>
	<00ff01c59f69$4b986c30$6e01a8c0@sixfour>
Message-ID: <42FD25E7.4040900@txfx.net>

David Chait wrote:

> I don't understand the concept of 'all the hoks that are supported'.  
> Do you mean 'all the hooks that are called internally by WordPress'?
>
> Obviously, there are a number of hooks that are called from within 
> templates/themes, and none of those would necessarily be 'advertised' 
> (as it'd be improper to do so).  Also, just because a hook is 
> advertised doesn't guarantee it is getting called upon -- that could 
> also depend on the page, or the template.  Sticky issue...
>
> I mean, otherwise, this is sort of like querying OpenGL for 'what 
> extensions are supported'... So I'm all for it, just think in 
> real-life coding it will only be of use in certain circumstances.

Yes, all the hooks that are called internally by WordPress.  There are 4 
hooks in the templates themselves.  Header, Sidebar, Comment Form, 
Footer.  The rest are all in WP.  And obviously certain hooks aren't 
called all the time... the feed ones only get called on feeds, etc.  
This isn't supposed to say which feeds are going to be called in this 
run, but what hooks are generally available in this build of WordPress.  
Sometimes when you are designing a plugin, you want to do things one way 
if one hook is supported, and another way if it is not supported.  This 
will tell you if the hook you need is present in the version of 
WordPress you are dealing with.  Yeah, it has limited use, but there 
have been definite times I could have benefited from it, and I know 
other plugin authors who could have used it as well.
From skippy at skippy.net  Sun Aug 14 00:06:15 2005
From: skippy at skippy.net (Scott Merrill)
Date: Sun Aug 14 00:06:17 2005
Subject: [wp-hackers] vuln
Message-ID: <42FE8AF7.1040305@skippy.net>

perl and PHP code exists to automatically exploit vulnerable WP 1.5.1.3 
sites, allowing the attacker to (try to) execute code on the victim's 
account.

The user agent used in the code I've reviewed is:
User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET 
CLR 1.1.4322)\r\n
which sucks, because that's a real user agent.  You could take the 
extreme position of rejecting all access from that user agent, but 
you'll exclude a lot of real visitors, too.

Likewise, the attack uses a plain ol' HTTP GET request, instead of POST, 
further complicating our defense strategies.

The code leverages wp_filter[query_vars].  Is there something specific 
that we can suggest _right now_ for people to do in their blog's code to 
help protect them?

Certainly `php_flag register_globals off` in .htaccess is one step; but 
I would really like to offer as complete a solution as possible: 
security in depth.

I want to construct a sticky forum post _officially_ responding to the 
issue, describing the problem, and providing as complete a solution as 
possible for users _right now_.

Thanks,
Scott

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From changereality at gmail.com  Sun Aug 14 00:28:01 2005
From: changereality at gmail.com (Nathan White)
Date: Sun Aug 14 00:28:06 2005
Subject: [wp-hackers] Enable Sending Referrers
Message-ID: <9b8e3e9105081317283670b34c@mail.gmail.com>

When using the admin controls I couldn't seem to get around this error 
message:

"Sorry, you need to enable sending referrers for this feature to work." I 
even went to the codex page that discusses the proper settings in your 
browser, nothing has worked. What would prevent my install from detecting 
the referrer?

As a temp fix I made the following modification inside the "
admin-functions.php"


function check_admin_referer() {
$adminurl = strtolower( get_settings('siteurl') ) . '/wp-admin';
$referer = strtolower( $_SERVER['HTTP_REFERER'] );
if ( !strstr($referer, $adminurl) )
// die(__('Sorry, you need to <a href="
http://codex.wordpress.org/Enable_Sending_Referrers">enable sending 
referrers</a> for this feature to work.'));
$referer = "localhost";
do_action('check_admin_referer');
}


any explanation would be welcomed.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050814/b7af8e10/attachment.html
From denis at semiologic.com  Sun Aug 14 00:35:31 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Sun Aug 14 00:35:50 2005
Subject: [wp-hackers] Enable Sending Referrers
In-Reply-To: <9b8e3e9105081317283670b34c@mail.gmail.com>
Message-ID: <000501c5a068$136bc500$0801000a@DB>

I'd be curious to know the rational behind this defense mechanism. Like,
isn't it trivial to fake the referrer?

D.


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com 
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of 
> Nathan White
> Sent: Saturday, August 13, 2005 5:28 PM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] Enable Sending Referrers
> 
> 
> When using the admin controls I couldn't seem to get around 
> this error message:
> 
> "Sorry, you need to enable sending referrers for this feature 
> to work." I even went to the codex page that discusses the 
> proper settings in your browser, nothing has worked. What 
> would prevent my install from detecting the referrer?
> 
> As a temp fix I made the following modification inside the 
> "admin-functions.php"
> 
> 
> function check_admin_referer() {
>     $adminurl = strtolower( get_settings('siteurl') ) . '/wp-admin';
>     $referer = strtolower( $_SERVER['HTTP_REFERER'] );
>     if ( !strstr($referer, $adminurl) )
> //        die(__('Sorry, you need to <a 
> href="http://codex.wordpress.org/Enable_Sending_Referrers">ena
> ble sending referrers</a> for this feature to work.'));
>         $referer = "localhost";
>     do_action('check_admin_referer');
> }
> 
> 
> any explanation would be welcomed.
> 
> 

From fd at firasd.org  Sun Aug 14 00:39:50 2005
From: fd at firasd.org (Firas D.)
Date: Sun Aug 14 00:40:01 2005
Subject: [wp-hackers] Enable Sending Referrers
In-Reply-To: <000501c5a068$136bc500$0801000a@DB>
References: <000501c5a068$136bc500$0801000a@DB>
Message-ID: <42FE92D6.8060206@firasd.org>

If I understand correctly (and I may well not), it's to protect you from 
doing something that, as a verified user you're authenticated to do but 
may not want to (eg clicking random links that do evil things in 
wp-admin). It's an extra step, not a substitute one.

Firas

Denis de Bernardy wrote:

>I'd be curious to know the rational behind this defense mechanism. Like,
>isn't it trivial to fake the referrer?
>
>D.
>

From mark.wordpress at txfx.net  Sun Aug 14 01:12:26 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Sun Aug 14 01:14:55 2005
Subject: [wp-hackers] vuln
In-Reply-To: <42FE8AF7.1040305@skippy.net>
References: <42FE8AF7.1040305@skippy.net>
Message-ID: <42FE9A7A.3060404@txfx.net>

Scott Merrill wrote:

> The code leverages wp_filter[query_vars].  Is there something specific 
> that we can suggest _right now_ for people to do in their blog's code 
> to help protect them?
>
> Certainly `php_flag register_globals off` in .htaccess is one step; 
> but I would really like to offer as complete a solution as possible: 
> security in depth.
>
> I want to construct a sticky forum post _officially_ responding to the 
> issue, describing the problem, and providing as complete a solution as 
> possible for users _right now_.

What about having users use wp-settings.php from /branches/1.5/ ?
http://trac.wordpress.org/file/branches/1.5/wp-settings.php?rev=2779&format=raw

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From mark.wordpress at txfx.net  Sun Aug 14 12:40:30 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Sun Aug 14 12:42:54 2005
Subject: [wp-hackers] vuln
In-Reply-To: <42FE8AF7.1040305@skippy.net>
References: <42FE8AF7.1040305@skippy.net>
Message-ID: <42FF3BBE.1060108@txfx.net>

Scott Merrill wrote:

> I want to construct a sticky forum post _officially_ responding to the 
> issue, describing the problem, and providing as complete a solution as 
> possible for users _right now_.

Support form post here:
http://wordpress.org/support/topic/41836

Latest /branches/1.5/wp-settings.php file with vulnerability fixed here 
(works on top of a 1.5.1.3 install):
http://trac.wordpress.org/file/branches/1.5/wp-settings.php?rev=2779&format=raw

There are two last things I would definitely like to see make it into WP 
1.5.2:
http://trac.wordpress.org/ticket/972 (adds "Save and Continue Editing" 
to Page Edit screen)
http://trac.wordpress.org/ticket/1578 (adds hooks for comment 
notification and moderation e-mails.  Hooks++)

They both have patches.

Other than that, I think we're more than ready for a release.  If 
something else comes up, we can do another point release.  Not the end 
of the world.  The feedback I've been getting from users has been along 
the lines of "why isn't this fixed yet?"  #wordpress has been helping 
people secure their blogs, but we can't reach as many people as a dev 
blog post could.

If there's more work to be done, let's identify the issues and get 
people to pitch in and get it done.

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From peter.westwood at ftwr.co.uk  Sun Aug 14 13:25:11 2005
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun Aug 14 13:25:31 2005
Subject: [wp-hackers] vuln
In-Reply-To: <42FF3BBE.1060108@txfx.net>
References: <42FE8AF7.1040305@skippy.net> <42FF3BBE.1060108@txfx.net>
Message-ID: <42FF4637.5090202@ftwr.co.uk>

Mark Jaquith wrote:

> Scott Merrill wrote:
>
>> I want to construct a sticky forum post _officially_ responding to 
>> the issue, describing the problem, and providing as complete a 
>> solution as possible for users _right now_.
>
>
> Support form post here:
> http://wordpress.org/support/topic/41836
>
> Other than that, I think we're more than ready for a release.  If 
> something else comes up, we can do another point release.  Not the end 
> of the world.  The feedback I've been getting from users has been 
> along the lines of "why isn't this fixed yet?"  #wordpress has been 
> helping people secure their blogs, but we can't reach as many people 
> as a dev blog post could.

My Version Check plugin should now be directing all 1.5.1.3 users to 
read the support forum post.

Cheers
-- 
westi

From dmhouse at gmail.com  Mon Aug 15 15:26:42 2005
From: dmhouse at gmail.com (David House)
Date: Mon Aug 15 15:26:50 2005
Subject: [wp-hackers] Enable Sending Referrers
In-Reply-To: <000501c5a068$136bc500$0801000a@DB>
References: <9b8e3e9105081317283670b34c@mail.gmail.com>
	<000501c5a068$136bc500$0801000a@DB>
Message-ID: <ebe43d68050815082644f06e53@mail.gmail.com>

On 14/08/05, Denis de Bernardy <denis@semiologic.com> wrote:
> I'd be curious to know the rational behind this defense mechanism. Like,
> isn't it trivial to fake the referrer?
> 
> D.

Someone posts a comment on your website. They link to a related post,
say. As you allow HTML (or Markdown, Textile) in your comments, the
link text isn't just the URL. You click the link, semi-interested.
Oops, suddenly you're taken to a page in your own admin and a little
box says 'Post deleted'. Hey? What?

As WP does things like deleting comments and posts using GET instead
of POST, those with malicious intent can post links that, when clicked
by an authorised user, could delete comments or posts. It's therefore
necessary to check that the referer came from an admin page. I.e., you
clicked the link from inside the admin, presumably on a 'confirm
delete comment/post' page.

Of course, all that doesn't help if you're reading the comments from
inside your admin to begin with...

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From dmhouse at gmail.com  Mon Aug 15 15:29:29 2005
From: dmhouse at gmail.com (David House)
Date: Mon Aug 15 15:29:38 2005
Subject: [wp-hackers] Way to tell what hooks are supported
In-Reply-To: <42FC8CE1.4050802@txfx.net>
References: <42FC8CE1.4050802@txfx.net>
Message-ID: <ebe43d6805081508296decca92@mail.gmail.com>

On 12/08/05, Mark Jaquith <mark.wordpress@txfx.net> wrote:
> Basically, it's an array of all the hooks that are supported, plus a
> function, hook_exists('hook_name') which returns does an in_array call
> which returns true or false.  Might make it easier for plugin authors to
> know if a hook is supported, instead of having to do version voodoo and
> research.  It would also make the hooks known for people using SVN
> versions, where version number voodoo may be impossible.  I can think of
> one con: as new hooks are added, we'll have to add to the list.  But
> heck, I'd volunteer to monitor the changelog for new hooks and remind
> the devs to add them to the list.

It seems like a good idea. I'd even go as far as suggesting that
forcing the devs to place all used hooks in a list may even be a good
thing, for the sake of plugin writers. The codex would have somewhere
official to pull the list of hooks from, rather than having to scour
through the code.

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From dmhouse at gmail.com  Mon Aug 15 15:36:10 2005
From: dmhouse at gmail.com (David House)
Date: Mon Aug 15 15:36:14 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <42FBB6EA.7090503@firasd.org>
References: <000001c59eb1$dcec2270$0701000a@DB> <42FBB3BA.9080708@skippy.net>
	<42FBB6EA.7090503@firasd.org>
Message-ID: <ebe43d6805081508366b3fcb9e@mail.gmail.com>

On 11/08/05, Firas D. <fd@firasd.org> wrote:
> Putting the version in a nice text response to a GET request instead of
> shoehorning it into a random RSS feed makes sense for the same reason
> that, in markup, you'd put an id on an element and select '#id' rather
> than select '* > html body > td+td p[lang|=fr] span:first-child'. Sure,
> the latter is elegant and leet, but is brittle and unnecessary.

Completely agreed. The returned document is 28 bytes. That's hardly
going to burn a hole in WordPress' wallet in terms of bandwidth usage.

Just one request: can there be a seperate URL that returns the latest
stable version number (i.e., '1.5.1.3'), and perhaps even a third with
the latest stable version string (i.e., '1.5.1.3 Strayhorn branch' or
whatever)?

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From dmhouse at gmail.com  Mon Aug 15 15:37:50 2005
From: dmhouse at gmail.com (David House)
Date: Mon Aug 15 15:37:55 2005
Subject: [wp-hackers] Security alert for WP 1.5.1.3
In-Reply-To: <20050810135032.M67460@7el.net>
References: <42FA03F8.705@cameraontheroad.com> <20050810135032.M67460@7el.net>
Message-ID: <ebe43d68050815083779dc924e@mail.gmail.com>

On 10/08/05, Frederic de Villamil <fdevillamil@gmail.com> wrote:
> drBacchus is right, but in real life things aren't that simple.
> A lot of companies use old PHP applications that needs registers globals to be
> enabled, and a lot of PHP developpers are unaware of security issues.

Which is why using a directive in .htaccess is so elegant. It allows
us to turn register_globals off for the WordPress directory alone.

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From mike.huynh at gmail.com  Mon Aug 15 15:40:00 2005
From: mike.huynh at gmail.com (Michael Huynh)
Date: Mon Aug 15 15:40:12 2005
Subject: [wp-hackers] Enable Sending Referrers
In-Reply-To: <ebe43d68050815082644f06e53@mail.gmail.com>
References: <9b8e3e9105081317283670b34c@mail.gmail.com>
	<000501c5a068$136bc500$0801000a@DB>
	<ebe43d68050815082644f06e53@mail.gmail.com>
Message-ID: <7ae1143f05081508402dec1774@mail.gmail.com>

Why not just filter comment links to take out any admin area references?
From dmhouse at gmail.com  Mon Aug 15 15:41:54 2005
From: dmhouse at gmail.com (David House)
Date: Mon Aug 15 15:55:11 2005
Subject: [wp-hackers] suggestions for the next (not immediate)release
In-Reply-To: <42FAD7F3.4070506@mullenweg.com>
References: <001a01c59cb6$eabbe310$57ebd4cb@unicorn>
	<d6491f480508090106277beebc@mail.gmail.com>
	<010301c59cba$9b7a2290$57ebd4cb@unicorn>
	<a491f91d0508090552463a934a@mail.gmail.com>
	<008401c59de9$8316d6a0$57ebd4cb@unicorn>
	<a491f91d050810213315610786@mail.gmail.com>
	<42FAD7F3.4070506@mullenweg.com>
Message-ID: <ebe43d6805081508415fd595cd@mail.gmail.com>

On 11/08/05, Matthew Mullenweg <m@mullenweg.com> wrote:
> There was a thread on this before I believe. MySQL only uses one index
> per query, so adding indicies doesn't always help things. You can test
> out adding an index to every field in the posts table and see if it
> changes the speed any, but in my testing it hasn't.

There are still improvements to be made. Ignoring indices which I know
little to nothing about, I still managed [1] to pick out a few
improvements to the fetch posts query. It's real low-lying fruit here:
simply removing a couple of words is enough for these fixes. The
current SQL is bordering on nonsensical.

[1]: http://lightpress.org/post/wp-queries-a-short-review#235

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From dmhouse at gmail.com  Mon Aug 15 16:23:42 2005
From: dmhouse at gmail.com (David House)
Date: Mon Aug 15 16:23:48 2005
Subject: [wp-hackers] Enable Sending Referrers
In-Reply-To: <7ae1143f05081508402dec1774@mail.gmail.com>
References: <9b8e3e9105081317283670b34c@mail.gmail.com>
	<000501c5a068$136bc500$0801000a@DB>
	<ebe43d68050815082644f06e53@mail.gmail.com>
	<7ae1143f05081508402dec1774@mail.gmail.com>
Message-ID: <ebe43d68050815092316061182@mail.gmail.com>

On 15/08/05, Michael Huynh <mike.huynh@gmail.com> wrote:
> Why not just filter comment links to take out any admin area references?

This would likely work. A simple proof-of-concept plugin:

http://xmouse.ithium.net/wp-content/dmh-plugins/fal.phps

Not very heavily tested.

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From denis at semiologic.com  Mon Aug 15 16:46:23 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Mon Aug 15 16:46:21 2005
Subject: [wp-hackers] Enable Sending Referrers
In-Reply-To: <ebe43d68050815092316061182@mail.gmail.com>
Message-ID: <000501c5a1b8$deacfb20$0801000a@DB>

why not compute some kind of key for confirmations instead? it would make
more sense imho, and it would allow to put, say, a delete link near comments
for easier 'live' moderation.

D.

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com 
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of 
> David House
> Sent: Monday, August 15, 2005 9:24 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Enable Sending Referrers
> 
> 
> On 15/08/05, Michael Huynh <mike.huynh@gmail.com> wrote:
> > Why not just filter comment links to take out any admin area 
> > references?
> 
> This would likely work. A simple proof-of-concept plugin:
> 
> http://xmouse.ithium.net/wp-content/dmh-plugins/fal.phps
> 
> Not very heavily tested.
> 
> -- 
> -David House, dmhouse@gmail.com, http://xmouse.ithium.net 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com 
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From false.hopes at gmail.com  Mon Aug 15 17:00:14 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Aug 15 17:00:54 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <ebe43d6805081508366b3fcb9e@mail.gmail.com>
References: <000001c59eb1$dcec2270$0701000a@DB> <42FBB3BA.9080708@skippy.net>
	<42FBB6EA.7090503@firasd.org>
	<ebe43d6805081508366b3fcb9e@mail.gmail.com>
Message-ID: <a491f91d050815100074726b3e@mail.gmail.com>

Why not one that returns a serialized array of all the info you need?

On 8/15/05, David House <dmhouse@gmail.com> wrote:
> On 11/08/05, Firas D. <fd@firasd.org> wrote:
> > Putting the version in a nice text response to a GET request instead of
> > shoehorning it into a random RSS feed makes sense for the same reason
> > that, in markup, you'd put an id on an element and select '#id' rather
> > than select '* > html body > td+td p[lang|=fr] span:first-child'. Sure,
> > the latter is elegant and leet, but is brittle and unnecessary.
> 
> Completely agreed. The returned document is 28 bytes. That's hardly
> going to burn a hole in WordPress' wallet in terms of bandwidth usage.
> 
> Just one request: can there be a seperate URL that returns the latest
> stable version number (i.e., '1.5.1.3'), and perhaps even a third with
> the latest stable version string (i.e., '1.5.1.3 Strayhorn branch' or
> whatever)?
> 
> --
> -David House, dmhouse@gmail.com, http://xmouse.ithium.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From dmhouse at gmail.com  Mon Aug 15 17:11:45 2005
From: dmhouse at gmail.com (David House)
Date: Mon Aug 15 17:11:52 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <a491f91d050815100074726b3e@mail.gmail.com>
References: <000001c59eb1$dcec2270$0701000a@DB> <42FBB3BA.9080708@skippy.net>
	<42FBB6EA.7090503@firasd.org>
	<ebe43d6805081508366b3fcb9e@mail.gmail.com>
	<a491f91d050815100074726b3e@mail.gmail.com>
Message-ID: <ebe43d6805081510115044e301@mail.gmail.com>

On 15/08/05, Robert Deaton <false.hopes@gmail.com> wrote:
> Why not one that returns a serialized array of all the info you need?

We could have this as a fourth URL. URLs are cheap. I just love the
simplicity to ouptut the latest version:

readfile('http://rpc.wordpress.org/latest-stable/');

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From fd at firasd.org  Mon Aug 15 17:21:47 2005
From: fd at firasd.org (Firas D.)
Date: Mon Aug 15 17:21:56 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <ebe43d6805081510115044e301@mail.gmail.com>
References: <000001c59eb1$dcec2270$0701000a@DB>
	<42FBB3BA.9080708@skippy.net>	<42FBB6EA.7090503@firasd.org>	<ebe43d6805081508366b3fcb9e@mail.gmail.com>	<a491f91d050815100074726b3e@mail.gmail.com>
	<ebe43d6805081510115044e301@mail.gmail.com>
Message-ID: <4300CF2B.7040809@firasd.org>

David House wrote:

>On 15/08/05, Robert Deaton <false.hopes@gmail.com> wrote:
>  
>
>>Why not one that returns a serialized array of all the info you need?
>>    
>>
>
>We could have this as a fourth URL. URLs are cheap. I just love the
>simplicity to ouptut the latest version:
>
>readfile('http://rpc.wordpress.org/latest-stable/');
>
>  
>
Wishlist for the combined URL:

1) Latest version string (as in version.php)
2) Date of revision
3) SVN location (branch, tags, trunk?) and Revision

-- 
http://firasd.org

From mpt at myrealbox.com  Mon Aug 15 17:33:15 2005
From: mpt at myrealbox.com (Matthew Thomas)
Date: Mon Aug 15 17:33:20 2005
Subject: [wp-hackers] Enable Sending Referrers
In-Reply-To: <7ae1143f05081508402dec1774@mail.gmail.com>
References: <9b8e3e9105081317283670b34c@mail.gmail.com>
	<000501c5a068$136bc500$0801000a@DB>
	<ebe43d68050815082644f06e53@mail.gmail.com>
	<7ae1143f05081508402dec1774@mail.gmail.com>
Message-ID: <ea7f62a3169db3dce3064c5c36735952@myrealbox.com>

On 15 Aug, 2005, at 12:40 PM, Michael Huynh wrote:
>
> Why not just filter comment links to take out any admin area 
> references?
> ...

Or use POST for admin commands, which would be unspoofable from comment 
links no matter where you were reading them, and which would work 
whether your browser sent Referers or not. 
<http://comox.textdrive.com/pipermail/wp-hackers/2005-May/000982.html>

-- 
Matthew Thomas
http://mpt.net.nz/

From denis at semiologic.com  Mon Aug 15 17:38:10 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Mon Aug 15 17:38:10 2005
Subject: [wp-hackers] Enable Sending Referrers
In-Reply-To: <ea7f62a3169db3dce3064c5c36735952@myrealbox.com>
Message-ID: <000001c5a1c0$1cd17910$0801000a@DB>

right. and using the POST method would have the added benefit of bypassing
problems on some servers that don't allow you to insert things such as
'SELECT' in variables submitted via a GET request.

D.



> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com 
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of 
> Matthew Thomas
> Sent: Monday, August 15, 2005 10:33 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Enable Sending Referrers
> 
> 
> On 15 Aug, 2005, at 12:40 PM, Michael Huynh wrote:
> >
> > Why not just filter comment links to take out any admin area
> > references?
> > ...
> 
> Or use POST for admin commands, which would be unspoofable 
> from comment 
> links no matter where you were reading them, and which would work 
> whether your browser sent Referers or not. 
> <http://comox.textdrive.com/pipermail/wp-hackers/2005-May/000982.html>
> 
> -- 
> Matthew Thomas
> http://mpt.net.nz/
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com 
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From m at mullenweg.com  Mon Aug 15 17:44:31 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Aug 15 17:44:37 2005
Subject: [wp-hackers] Enable Sending Referrers
In-Reply-To: <ea7f62a3169db3dce3064c5c36735952@myrealbox.com>
References: <9b8e3e9105081317283670b34c@mail.gmail.com>	<000501c5a068$136bc500$0801000a@DB>	<ebe43d68050815082644f06e53@mail.gmail.com>	<7ae1143f05081508402dec1774@mail.gmail.com>
	<ea7f62a3169db3dce3064c5c36735952@myrealbox.com>
Message-ID: <4300D47F.6030609@mullenweg.com>

Matthew Thomas wrote:
> Or use POST for admin commands, which would be unspoofable from comment 
> links no matter where you were reading them, and which would work 
> whether your browser sent Referers or not. 

POST is spoofable with JS, we've been over this already. Filtering 
comments makes sense, but isn't really protection as the links could be 
on other domains as well. The current behavior is the best compromise of 
security and convenience and has been audited to protect against all 
known XSS problems.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From podz at tamba2.org.uk  Mon Aug 15 17:47:45 2005
From: podz at tamba2.org.uk (Podz)
Date: Mon Aug 15 17:47:13 2005
Subject: [wp-hackers] languages
Message-ID: <4300D541.9020200@tamba2.org.uk>

I neglected in the forum upgrade guide to mention that the languages 
directory needs preserving.
Will this file be remaining inside the current parent directory, or 
given that it may have user changes, are there plans to move it ?

P.
From dmhouse at gmail.com  Mon Aug 15 17:49:51 2005
From: dmhouse at gmail.com (David House)
Date: Mon Aug 15 17:49:56 2005
Subject: [wp-hackers] Enable Sending Referrers
In-Reply-To: <4300D47F.6030609@mullenweg.com>
References: <9b8e3e9105081317283670b34c@mail.gmail.com>
	<000501c5a068$136bc500$0801000a@DB>
	<ebe43d68050815082644f06e53@mail.gmail.com>
	<7ae1143f05081508402dec1774@mail.gmail.com>
	<ea7f62a3169db3dce3064c5c36735952@myrealbox.com>
	<4300D47F.6030609@mullenweg.com>
Message-ID: <ebe43d6805081510491d9496df@mail.gmail.com>

On 15/08/05, Matt Mullenweg <m@mullenweg.com> wrote:
> Filtering comments makes sense, but isn't really protection as the links could be
> on other domains as well. 

I considered this, but then decided that it'd be probably quite hard
to specifically target one specific person without posting on their
weblog. I'm not opposed to the current measures, I just wrote that
plugin to prove that alternatives could be done.

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From false.hopes at gmail.com  Mon Aug 15 20:20:23 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Aug 15 20:20:30 2005
Subject: [wp-hackers] languages
In-Reply-To: <4300D541.9020200@tamba2.org.uk>
References: <4300D541.9020200@tamba2.org.uk>
Message-ID: <a491f91d05081513204e978f0d@mail.gmail.com>

To me, keeping the language files in wp-content/ somewhere is a bit
more logical due to the instructions for upgrading, which is to delete
and overwrite _everything_ but wp-content. Of course, this has been
changed (afaik) in the newer instructions, but I think it'd be best to
move them to wp-content/languages/ or something similar for 1.6, to
keep upgrade instructions clear and concise.

On 8/15/05, Podz <podz@tamba2.org.uk> wrote:
> I neglected in the forum upgrade guide to mention that the languages
> directory needs preserving.
> Will this file be remaining inside the current parent directory, or
> given that it may have user changes, are there plans to move it ?
> 
> P.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From peter.westwood at ftwr.co.uk  Mon Aug 15 20:40:32 2005
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon Aug 15 20:41:17 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <4300CF2B.7040809@firasd.org>
References: <000001c59eb1$dcec2270$0701000a@DB>	<42FBB3BA.9080708@skippy.net>	<42FBB6EA.7090503@firasd.org>	<ebe43d6805081508366b3fcb9e@mail.gmail.com>	<a491f91d050815100074726b3e@mail.gmail.com>	<ebe43d6805081510115044e301@mail.gmail.com>
	<4300CF2B.7040809@firasd.org>
Message-ID: <4300FDC0.9050401@ftwr.co.uk>

Firas D. wrote:

> David House wrote:
>
>> On 15/08/05, Robert Deaton <false.hopes@gmail.com> wrote:
>>  
>>
>>> Why not one that returns a serialized array of all the info you need?
>>>   
>>
>>
>> We could have this as a fourth URL. URLs are cheap. I just love the
>> simplicity to ouptut the latest version:
>>
>> readfile('http://rpc.wordpress.org/latest-stable/');
>>
>>  
>>
> Wishlist for the combined URL:
>
> 1) Latest version string (as in version.php)
> 2) Date of revision
> 3) SVN location (branch, tags, trunk?) and Revision
>
I would add to this:
4) Link to release notification
5) A short text message
6) A severity level for the message - ie is the upgrade critical due to 
security fixes or only recommended because of new features.

This brings it closer to the user feedback that wp-version-check 
[http://blog.ftwr.co.uk/wordpress/wp-version-check/] gives.

I have attached the current source of the simple XML-RPC webservice that 
wp-version-check currently uses to return this information based on the 
wordpress version that submits the request.

If we want to integrate something with this level of sophistication into 
the core then I am quite willing to work on a patch. (I have a bit of 
spare time at the moment as I have been signed off work till the 24 
August with a chest infection)

cheers
westi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050815/d032ba9a/wp.html
From m at mullenweg.com  Mon Aug 15 20:53:18 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Aug 15 20:53:24 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <4300FDC0.9050401@ftwr.co.uk>
References: <000001c59eb1$dcec2270$0701000a@DB>	<42FBB3BA.9080708@skippy.net>	<42FBB6EA.7090503@firasd.org>	<ebe43d6805081508366b3fcb9e@mail.gmail.com>	<a491f91d050815100074726b3e@mail.gmail.com>	<ebe43d6805081510115044e301@mail.gmail.com>	<4300CF2B.7040809@firasd.org>
	<4300FDC0.9050401@ftwr.co.uk>
Message-ID: <430100BE.3080701@mullenweg.com>

Peter Westwood wrote:
>> 1) Latest version string (as in version.php)
>> 2) Date of revision
>> 3) SVN location (branch, tags, trunk?) and Revision
>>
> I would add to this:
> 4) Link to release notification
> 5) A short text message
> 6) A severity level for the message - ie is the upgrade critical due to 
> security fixes or only recommended because of new features.

Okay I added some of these:

http://rpc.wordpress.org/latest-stable/version/
http://rpc.wordpress.org/latest-stable/date/
http://rpc.wordpress.org/latest-stable/link/
http://rpc.wordpress.org/latest-stable/svn/

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From lists at alexking.org  Mon Aug 15 21:01:38 2005
From: lists at alexking.org (Alex King)
Date: Mon Aug 15 21:01:38 2005
Subject: [wp-hackers] Post title in comments feed in 1.5.2
Message-ID: <CF245A0C-1E70-454E-9A71-B33D02B18D22@alexking.org>

I submitted a patch for the comments feed that added the post title  
to the <title> element in the feed. The patch I submitted simply  
added p.post_title to the fields pulled from the posts table in the  
LEFT JOIN.

I see this same functionality has been added to the comments feed in  
1.5.2, but in a different way. Instead of grabbing the p.post_title  
in the JOIN, the code looks this:

  $title = get_the_title($comment->comment_post_ID);

which, as I read it, will generate a query just to get the title of  
the post for each comment.

Is there a reason this was done?

Cheers,
--Alex

http://www.alexking.org/




From skippy at skippy.net  Mon Aug 15 22:37:30 2005
From: skippy at skippy.net (Scott Merrill)
Date: Mon Aug 15 22:37:31 2005
Subject: [wp-hackers] Post title in comments feed in 1.5.2
In-Reply-To: <CF245A0C-1E70-454E-9A71-B33D02B18D22@alexking.org>
References: <CF245A0C-1E70-454E-9A71-B33D02B18D22@alexking.org>
Message-ID: <4301192A.4000908@skippy.net>

Alex King wrote:
> I submitted a patch for the comments feed that added the post title  to 
> the <title> element in the feed. The patch I submitted simply  added 
> p.post_title to the fields pulled from the posts table in the  LEFT JOIN.
> 
> I see this same functionality has been added to the comments feed in  
> 1.5.2, but in a different way. Instead of grabbing the p.post_title  in 
> the JOIN, the code looks this:
> 
>  $title = get_the_title($comment->comment_post_ID);
> 
> which, as I read it, will generate a query just to get the title of  the 
> post for each comment.
> 
> Is there a reason this was done?

The offending code is from a patch I submitted:
http://trac.wordpress.org/ticket/1282

My understanding of the flow is that get_the_title() will call 
get_post(), and get_post will rely on the post cache.  RSS feeds should 
be using the post cache in their Loops, shouldn't they?

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From mark.wordpress at txfx.net  Mon Aug 15 22:55:14 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Mon Aug 15 22:57:36 2005
Subject: [wp-hackers] Enable Sending Referrers
In-Reply-To: <ebe43d6805081510491d9496df@mail.gmail.com>
References: <9b8e3e9105081317283670b34c@mail.gmail.com>	<000501c5a068$136bc500$0801000a@DB>	<ebe43d68050815082644f06e53@mail.gmail.com>	<7ae1143f05081508402dec1774@mail.gmail.com>	<ea7f62a3169db3dce3064c5c36735952@myrealbox.com>	<4300D47F.6030609@mullenweg.com>
	<ebe43d6805081510491d9496df@mail.gmail.com>
Message-ID: <43011D52.8050307@txfx.net>

David House wrote:

>On 15/08/05, Matt Mullenweg <m@mullenweg.com> wrote:
>  
>
>>Filtering comments makes sense, but isn't really protection as the links could be
>>on other domains as well. 
>>    
>>
>
>I considered this, but then decided that it'd be probably quite hard
>to specifically target one specific person without posting on their
>weblog. I'm not opposed to the current measures, I just wrote that
>plugin to prove that alternatives could be done.
>
>  
>
You could post a comment on weblog[A], with a link to Yoursite[B], that 
redirects to delete a post on weblog[A]

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From lists at alexking.org  Mon Aug 15 23:54:17 2005
From: lists at alexking.org (Alex King)
Date: Mon Aug 15 23:54:13 2005
Subject: [wp-hackers] Post title in comments feed in 1.5.2
In-Reply-To: <4301192A.4000908@skippy.net>
References: <CF245A0C-1E70-454E-9A71-B33D02B18D22@alexking.org>
	<4301192A.4000908@skippy.net>
Message-ID: <97DFA875-65AE-4EEB-995B-46D2891F0FAB@alexking.org>

Do the posts get cached in the comments feed code? I don't think they  
are even identified except as the post_ID of the comment.

Cheers,
--Alex

http://www.alexking.org/



On Aug 15, 2005, at 4:37 PM, Scott Merrill wrote:
> My understanding of the flow is that get_the_title() will call  
> get_post(), and get_post will rely on the post cache.  RSS feeds  
> should be using the post cache in their Loops, shouldn't they?
From mikea at turbonet.com  Tue Aug 16 01:07:19 2005
From: mikea at turbonet.com (Michael D Adams)
Date: Tue Aug 16 01:06:10 2005
Subject: [wp-hackers] Post title in comments feed in 1.5.2
In-Reply-To: <97DFA875-65AE-4EEB-995B-46D2891F0FAB@alexking.org>
References: <CF245A0C-1E70-454E-9A71-B33D02B18D22@alexking.org>
	<4301192A.4000908@skippy.net>
	<97DFA875-65AE-4EEB-995B-46D2891F0FAB@alexking.org>
Message-ID: <2E0A44A3-C174-4A93-85DC-37D2E075C031@turbonet.com>

Actually, there is caching for is_single comments feeds.   
permalink_single_rss() (the title link) caches the post in question.   
Which makes me wonder if the is_single || is_page feeds could be made  
more SQL efficient. (Note this isn't true on is_page feeds - looks  
like a bug).

That's the only place I see any caching.  Otherwise, I suppose the  
idea is that the feed knows *exactly* what information it will  
require, and so it doesn't need to cache anything.  It just grabs  
what it will need: no more no less.

Which method is actually more efficient in terms of speed on a  
typical box (several smaller, non JOINed queries or one larger JOIN  
query), I don't know.
Michael
On Aug 15, 2005, at 4:54 PM, Alex King wrote:

> Do the posts get cached in the comments feed code? I don't think  
> they are even identified except as the post_ID of the comment.
>
> Cheers,
> --Alex
>
> http://www.alexking.org/
>
>
>
> On Aug 15, 2005, at 4:37 PM, Scott Merrill wrote:
>
>> My understanding of the flow is that get_the_title() will call  
>> get_post(), and get_post will rely on the post cache.  RSS feeds  
>> should be using the post cache in their Loops, shouldn't they?


From mikea at turbonet.com  Tue Aug 16 01:45:16 2005
From: mikea at turbonet.com (Michael D Adams)
Date: Tue Aug 16 01:44:04 2005
Subject: [wp-hackers] Post title in comments feed in 1.5.2
In-Reply-To: <2E0A44A3-C174-4A93-85DC-37D2E075C031@turbonet.com>
References: <CF245A0C-1E70-454E-9A71-B33D02B18D22@alexking.org>
	<4301192A.4000908@skippy.net>
	<97DFA875-65AE-4EEB-995B-46D2891F0FAB@alexking.org>
	<2E0A44A3-C174-4A93-85DC-37D2E075C031@turbonet.com>
Message-ID: <E0648A06-49BA-4867-8AD5-26C1B8A1ED5E@turbonet.com>

Or... I could think about what I'm saying/actually try things out  
before writing stuff.  Whichever people'd prefer.

It seems all of the posts involved in the comments feed get cached  
via WP_Query.  I'm not sure if any of these joins are necessary.

I'll let someone else come along and say something actually  
intelligent now :)
Michael

On Aug 15, 2005, at 6:07 PM, Michael D Adams wrote:

> Actually, there is caching for is_single comments feeds.   
> permalink_single_rss() (the title link) caches the post in  
> question.  Which makes me wonder if the is_single || is_page feeds  
> could be made more SQL efficient. (Note this isn't true on is_page  
> feeds - looks like a bug).
>
> That's the only place I see any caching.  Otherwise, I suppose the  
> idea is that the feed knows *exactly* what information it will  
> require, and so it doesn't need to cache anything.  It just grabs  
> what it will need: no more no less.
>
> Which method is actually more efficient in terms of speed on a  
> typical box (several smaller, non JOINed queries or one larger JOIN  
> query), I don't know.
> Michael
> On Aug 15, 2005, at 4:54 PM, Alex King wrote:
>
>
>> Do the posts get cached in the comments feed code? I don't think  
>> they are even identified except as the post_ID of the comment.
>>
>> Cheers,
>> --Alex
>>
>> http://www.alexking.org/
>>
>>
>>
>> On Aug 15, 2005, at 4:37 PM, Scott Merrill wrote:
>>
>>
>>> My understanding of the flow is that get_the_title() will call  
>>> get_post(), and get_post will rely on the post cache.  RSS feeds  
>>> should be using the post cache in their Loops, shouldn't they?


From denis at semiologic.com  Tue Aug 16 02:14:43 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Tue Aug 16 02:14:46 2005
Subject: [wp-hackers] Enable Sending Referrers
In-Reply-To: <4300D47F.6030609@mullenweg.com>
Message-ID: <000001c5a208$44404d30$0801000a@DB>



> Matt Mullenweg:
> 
> POST is spoofable with JS, we've been over this already.

and sending referrals isn't?

D.

From davebytes at comcast.net  Tue Aug 16 02:23:23 2005
From: davebytes at comcast.net (David Chait)
Date: Tue Aug 16 02:23:29 2005
Subject: [wp-hackers] Enable Sending Referrers
References: <000001c5a208$44404d30$0801000a@DB>
Message-ID: <012601c5a209$79cb7730$6e01a8c0@sixfour>

Yeah, wouldn't some server-generated hash code (like some of the 
comment-spam plugs use) be a MUCH better/safer verification technique?

-d

----- Original Message ----- 
From: "Denis de Bernardy" <denis@semiologic.com>
To: <wp-hackers@lists.automattic.com>
Sent: Monday, August 15, 2005 10:14 PM
Subject: RE: [wp-hackers] Enable Sending Referrers

>> Matt Mullenweg:
>>
>> POST is spoofable with JS, we've been over this already.
>
> and sending referrals isn't?

From mark.wordpress at txfx.net  Tue Aug 16 02:42:03 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Tue Aug 16 02:44:23 2005
Subject: [wp-hackers] Enable Sending Referrers
In-Reply-To: <012601c5a209$79cb7730$6e01a8c0@sixfour>
References: <000001c5a208$44404d30$0801000a@DB>
	<012601c5a209$79cb7730$6e01a8c0@sixfour>
Message-ID: <4301527B.2080404@txfx.net>

David Chait wrote:

> Yeah, wouldn't some server-generated hash code (like some of the 
> comment-spam plugs use) be a MUCH better/safer verification technique?
>
>>> Matt Mullenweg:
>>>
>>> POST is spoofable with JS, we've been over this already.
>>
>>
>> and sending referrals isn't?
>
Well, I don't know of any way to spoof a referral for someone else.  I 
don't think JS can do it.  So, you can't both spoof a referral and have 
someone appear to be logged in.  Still, referrals are a pain.  My 
SideKick doesn't send 'em, so I can't do many WP functions on-the-go.  
Many routers strip them out.

I think a unique hash method might work nicely.  md5() the DB password + 
post/comment ID.  What are the downsides to this method?


-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From dmhouse at gmail.com  Tue Aug 16 10:00:18 2005
From: dmhouse at gmail.com (David House)
Date: Tue Aug 16 10:00:30 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <430100BE.3080701@mullenweg.com>
References: <000001c59eb1$dcec2270$0701000a@DB> <42FBB3BA.9080708@skippy.net>
	<42FBB6EA.7090503@firasd.org>
	<ebe43d6805081508366b3fcb9e@mail.gmail.com>
	<a491f91d050815100074726b3e@mail.gmail.com>
	<ebe43d6805081510115044e301@mail.gmail.com>
	<4300CF2B.7040809@firasd.org> <4300FDC0.9050401@ftwr.co.uk>
	<430100BE.3080701@mullenweg.com>
Message-ID: <ebe43d680508160300679361e9@mail.gmail.com>

On 15/08/05, Matt Mullenweg <m@mullenweg.com> wrote:
> Okay I added some of these:
> 
> http://rpc.wordpress.org/latest-stable/version/
> http://rpc.wordpress.org/latest-stable/date/
> http://rpc.wordpress.org/latest-stable/link/
> http://rpc.wordpress.org/latest-stable/svn/

That last one points to
http://svn.automattic.com/wordpress/branches/1.5/. Surely that should
be http://svn.automattic.com/wordpress/tags/1.5.2? (by the way, it
doesn't look like there's a 1.5.2 tag yet).

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From ringmaster at midnightcircus.com  Tue Aug 16 12:56:11 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Aug 16 12:50:44 2005
Subject: [wp-hackers] Enable Sending Referrers
In-Reply-To: <4301527B.2080404@txfx.net>
References: <000001c5a208$44404d30$0801000a@DB>	<012601c5a209$79cb7730$6e01a8c0@sixfour>
	<4301527B.2080404@txfx.net>
Message-ID: <4301E26B.7000006@midnightcircus.com>

Mark Jaquith wrote:
> I think a unique hash method might work nicely.  md5() the DB password + 
> post/comment ID.  What are the downsides to this method?

If it wasn't obvious, this method would also have the benefit of working 
from outside the admin for users that are logged in.

It might be beneficial for WordPress to provide a global server-unique 
hash instead of individually generating hashes from the database 
password for things like this, since the the database password should 
generally not be available after the wpdb object connects.  Sure, if 
malicious code is running on the server, the database password is easy 
to obtain, but there's no reason to make it easy to dump the database 
password onto the blog.  It would be easy to tuck an unobtrusive 
echo(DBPASS) into a theme, but harder to hide code that parses 
wp-config.php to produce the same output.

If WordPress created a hash from the database password (with salt), 
provided it to any core code/plugins for use in features like these, and 
unset the database password (or undefined it), then things might be a 
tad more secure.  And any little bit helps.

Owen
From mark.wordpress at txfx.net  Wed Aug 17 06:43:25 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Wed Aug 17 06:45:45 2005
Subject: [wp-hackers] Post content prerendering for WP 1.6
Message-ID: <4302DC8D.8010507@txfx.net>

As discussed here a few months ago, I'd like to put the 
post_content_filtered column to use in WordPress 1.6

I did preliminary work, and filed a ticked here:
http://trac.wordpress.org/ticket/1595#preview

There are three patches against WP 1.6 SVN

To sum up, again:

"the_content" filter remains untouched, and continues to run dynamically 
on each load.  This ensures backwards compatibility for plugins that 
need to be run dynamically.  A new filter is created, called 
"the_content_filtered" which is run when posts are published/edited 
(using the new wp_insert_post() function).  The filter is run in a 
partially simulated post loop environment, so that the global $post 
object and the global $id are both available for plugins that need them 
(this was one of the drawbacks of Preformatted plugin, as these were not 
available at post time).

Displaying of the filtered content hooks in at setup_postdata().  If the 
column is empty (and post_content isn't), the rendered version will be 
created then, on the fly, and inserted into the posts table.  This 
eliminates the need for rebuilds, as posts are rebuilt as they are called.

The benefits of this system will be small on the default WP setup.  
wpautop, wptexturize, convert_smilies and convert_chars aren't very 
expensive.  But as people start adding acronym plugins that iterate 
through hundreds of array elements doing regexes for each one on each 
displayed post, and complex formatting plugins like textile2, this 
should speed things up noticeably.  Sometime last year, I had textile2 
and an acronym plugin running, and my monthly archive pages would max 
out PHP's 8MB of memory... no joke.  Users shouldn't have to choose 
between having a fast load time and having a plethora of useful plugins

I'm posting this on wp-hackers because it's more of a "where WP is 
going" type of topic.

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From podz at tamba2.org.uk  Wed Aug 17 08:44:18 2005
From: podz at tamba2.org.uk (Podz)
Date: Wed Aug 17 08:44:00 2005
Subject: [wp-hackers] Exploit again!
Message-ID: <4302F8E2.2050607@tamba2.org.uk>

"Just as little warning to all those now installing 1.5.2

WordPress 1.5.2 does not fix the remote code execution vulnerability. It 
just renders the published exploit useless.

After inserting 10 magic characters into the exploit it will still work 
against 1.5.2 "

http://wordpress.org/support/topic/41866?page=1#post-236420
From m at mullenweg.com  Wed Aug 17 09:28:04 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Wed Aug 17 09:28:24 2005
Subject: [wp-hackers] Exploit again!
In-Reply-To: <4302F8E2.2050607@tamba2.org.uk>
References: <4302F8E2.2050607@tamba2.org.uk>
Message-ID: <43030324.5000702@mullenweg.com>

Podz wrote:
> "Just as little warning to all those now installing 1.5.2
> 
> WordPress 1.5.2 does not fix the remote code execution vulnerability. It 
> just renders the published exploit useless.
> 
> After inserting 10 magic characters into the exploit it will still work 
> against 1.5.2 "
> 
> http://wordpress.org/support/topic/41866?page=1#post-236420

I can happily confirm that this is NOT an issue in 1.5.2, it was fixed 
as soon as he reported it which was after my initial build but before 
anyone had really downloaded it. If you were on IRC and grabbed it right 
away and have register globals on and don't have mod_security you may 
want to check to see if your wp-settings.php matches [2783].

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From ringmaster at midnightcircus.com  Wed Aug 17 12:55:14 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Wed Aug 17 12:50:06 2005
Subject: [wp-hackers] Post content prerendering for WP 1.6
In-Reply-To: <4302DC8D.8010507@txfx.net>
References: <4302DC8D.8010507@txfx.net>
Message-ID: <430333B2.7000004@midnightcircus.com>

Mark Jaquith wrote:
> The benefits of this system will be small on the default WP setup.  
> wpautop, wptexturize, convert_smilies and convert_chars aren't very 
> expensive.  But as people start adding acronym plugins that iterate 
> through hundreds of array elements doing regexes for each one on each 
> displayed post, and complex formatting plugins like textile2, this 
> should speed things up noticeably.  

So just to clarify-  If you have a plugin that adds static content  to a 
post (content that doen't change unless the post itself changes) via the 
the_content plugin hook, you should switch your code to sink 
the_content_filtered instead to reap the benefits of the cached filtering.

the_content will continut to work as always, and the results won't be 
cached.

Have I got it?

Owen
From mark.wordpress at txfx.net  Wed Aug 17 14:40:44 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Wed Aug 17 14:43:14 2005
Subject: [wp-hackers] Post content prerendering for WP 1.6
In-Reply-To: <430333B2.7000004@midnightcircus.com>
References: <4302DC8D.8010507@txfx.net> <430333B2.7000004@midnightcircus.com>
Message-ID: <43034C6C.3000404@txfx.net>

Owen Winkler wrote:

> So just to clarify-  If you have a plugin that adds static content  to 
> a post (content that doen't change unless the post itself changes) via 
> the the_content plugin hook, you should switch your code to sink 
> the_content_filtered instead to reap the benefits of the cached 
> filtering.
>
> the_content will continut to work as always, and the results won't be 
> cached.
>
> Have I got it?

That's right.  Only the post as it looks after being passed through 
"the_content_filtered" will be cached.  The dynamic "the_content" stuff 
will happen on every load, as before.  This rather diminishes the 
immediate benefit, but maximizes backwards compatibility.  And heck... 
it's not that hard to search/replace your plugins and make them use the 
_filtered version, if you want to maximize your benefit too.

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From dougal at gunters.org  Wed Aug 17 16:35:48 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Wed Aug 17 16:36:28 2005
Subject: [wp-hackers] Exploit again!
In-Reply-To: <4302F8E2.2050607@tamba2.org.uk>
References: <4302F8E2.2050607@tamba2.org.uk>
Message-ID: <43036764.30308@gunters.org>

Podz wrote:
> "Just as little warning to all those now installing 1.5.2
> 
> WordPress 1.5.2 does not fix the remote code execution vulnerability. It 
> just renders the published exploit useless.
> 
> After inserting 10 magic characters into the exploit it will still work 
> against 1.5.2 "

Nope. There *was* a still-vulnerable version online for a *very* short 
time frame, but it was corrected before any announcements were made.

The WP 1.5.2 archive currently available (which has been up since before 
the official announcement was made on the dev blog) does *not* contain 
the vulnerability.


-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From myles.braithwaite at gmail.com  Wed Aug 17 20:32:45 2005
From: myles.braithwaite at gmail.com (Myles Braithwaite)
Date: Wed Aug 17 20:33:21 2005
Subject: [wp-hackers] LDAP Authentication?
Message-ID: <BF29172D.482E%myles.braithwaite@gmail.com>

Is it possible to add LDAP Authentication to wordpress? My idea is to sync
user names from MediaWiki (
http://meta.wikimedia.org/wiki/LDAP_Authentication) and a forum to my
WordPress Blog.
____________________________
Myles Braithwaite
MylesBraithwaite.com
myles.braithwaite@gmail.com Personal
mbraithwaite@braithwaite.ca Work
mylesbraithwaite Skype


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050817/df1d1c98/attachment.html
From false.hopes at gmail.com  Wed Aug 17 21:04:42 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Wed Aug 17 21:05:15 2005
Subject: [wp-hackers] LDAP Authentication?
In-Reply-To: <BF29172D.482E%myles.braithwaite@gmail.com>
References: <BF29172D.482E%myles.braithwaite@gmail.com>
Message-ID: <a491f91d05081714042e181361@mail.gmail.com>

There is no LDAP auth plugin that I know of, but I do know that there
is a plugin to work with bbPress and Mediawiki, and considering that
WordPress and bbPress have almost identical user structure,
integration between the two is simple.

http://codex.wordpress.org/User:RobLa/AuthPress_for_MediaWiki

On 8/17/05, Myles Braithwaite <myles.braithwaite@gmail.com> wrote:
>  Is it possible to add LDAP Authentication to wordpress? My idea is to sync
> user names from MediaWiki (
> http://meta.wikimedia.org/wiki/LDAP_Authentication) and a
> forum to my WordPress Blog.
>  ____________________________
>  Myles Braithwaite
>  MylesBraithwaite.com
>  myles.braithwaite@gmail.com Personal
>  mbraithwaite@braithwaite.ca Work
>  mylesbraithwaite Skype
>  
>  
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From carthik at gmail.com  Wed Aug 17 21:53:44 2005
From: carthik at gmail.com (Carthik Sharma)
Date: Wed Aug 17 21:54:09 2005
Subject: [wp-hackers] LDAP Authentication?
In-Reply-To: <a491f91d05081714042e181361@mail.gmail.com>
References: <BF29172D.482E%myles.braithwaite@gmail.com>
	<a491f91d05081714042e181361@mail.gmail.com>
Message-ID: <80f75db05081714533b7000de@mail.gmail.com>

On 8/17/05, Robert Deaton <false.hopes@gmail.com> wrote:
> There is no LDAP auth plugin that I know of, but I do know that there
> is a plugin to work with bbPress and Mediawiki, and considering that
> WordPress and bbPress have almost identical user structure,
> integration between the two is simple.
> 
> http://codex.wordpress.org/User:RobLa/AuthPress_for_MediaWiki
> 
> On 8/17/05, Myles Braithwaite <myles.braithwaite@gmail.com> wrote:
> >  Is it possible to add LDAP Authentication to wordpress? My idea is to sync
> > user names from MediaWiki (
> > http://meta.wikimedia.org/wiki/LDAP_Authentication) and a
> > forum to my WordPress Blog.

http://patcavit.com/2005/05/11/wordpress-ldap-and-playing-nicely/
http://www.weblogs.uhi.ac.uk/sm00ay/?p=45

Some folks have done something related - may want to check out.

Carthik.
From mikea at turbonet.com  Wed Aug 17 22:12:03 2005
From: mikea at turbonet.com (Michael D Adams)
Date: Wed Aug 17 22:37:14 2005
Subject: [wp-hackers] Exploit again!
In-Reply-To: <43036764.30308@gunters.org>
References: <4302F8E2.2050607@tamba2.org.uk> <43036764.30308@gunters.org>
Message-ID: <10B7023B-F4BA-4130-9431-4E486F5B5874@turbonet.com>

I don't know when/how things happened, but I don't think Esser's  
point can be quite so easily dismissed.  What he brings up is not  
uncompelling (... that can't be a word).

By the timestamps:
Dev blog post: Sun, 14 Aug 2005 23:17:29 +0000
Rev 2783: Mon, 15 Aug 2005 03:57:54 GMT

If the people that know say it's not an issue, that's ok by me.  But  
that view should be explained more clearly than "this happened before  
that", when it looks like the opposite is true.  (I say "looks like"  
because I suppose there could be some bad time settings out there.)

Michael
--mdawaffe

On Aug 17, 2005, at 9:35 AM, Dougal Campbell wrote:

> Podz wrote:
>
>> "Just as little warning to all those now installing 1.5.2
>> WordPress 1.5.2 does not fix the remote code execution  
>> vulnerability. It just renders the published exploit useless.
>> After inserting 10 magic characters into the exploit it will still  
>> work against 1.5.2 "
>
> Nope. There *was* a still-vulnerable version online for a *very*  
> short time frame, but it was corrected before any announcements  
> were made.
>
> The WP 1.5.2 archive currently available (which has been up since  
> before the official announcement was made on the dev blog) does  
> *not* contain the vulnerability.

From journalized at gmail.com  Wed Aug 17 23:08:43 2005
From: journalized at gmail.com (Mike Little)
Date: Wed Aug 17 23:09:10 2005
Subject: [wp-hackers] Exploit again!
In-Reply-To: <10B7023B-F4BA-4130-9431-4E486F5B5874@turbonet.com>
References: <4302F8E2.2050607@tamba2.org.uk> <43036764.30308@gunters.org>
	<10B7023B-F4BA-4130-9431-4E486F5B5874@turbonet.com>
Message-ID: <7235ce7805081716087269c092@mail.gmail.com>

On 17/08/05, Michael D Adams <mikea@turbonet.com> wrote:
> I don't know when/how things happened, but I don't think Esser's
> point can be quite so easily dismissed.  What he brings up is not
> uncompelling (... that can't be a word).
> 
> By the timestamps:
> Dev blog post: Sun, 14 Aug 2005 23:17:29 +0000
> Rev 2783: Mon, 15 Aug 2005 03:57:54 GMT
> 
> If the people that know say it's not an issue, that's ok by me.  But
> that view should be explained more clearly than "this happened before
> that", when it looks like the opposite is true.  (I say "looks like"
> because I suppose there could be some bad time settings out there.)
> 
> Michael
> --mdawaffe
> 

Yep, it seems Matt's 

> it was fixed as soon as he reported it which was after my 
> initial build but before anyone had really downloaded it

needs to be taken with a pinch of salt. Over four hours worth of
potential downloads of the wrong version!


Mike
-- 
Mike Little
http://zed1.com/journalized/
From m at mullenweg.com  Wed Aug 17 23:14:54 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Aug 17 23:15:28 2005
Subject: [wp-hackers] Exploit again!
In-Reply-To: <10B7023B-F4BA-4130-9431-4E486F5B5874@turbonet.com>
References: <4302F8E2.2050607@tamba2.org.uk> <43036764.30308@gunters.org>
	<10B7023B-F4BA-4130-9431-4E486F5B5874@turbonet.com>
Message-ID: <4303C4EE.50002@mullenweg.com>

Michael D Adams wrote:
> I don't know when/how things happened, but I don't think Esser's  point 
> can be quite so easily dismissed.  What he brings up is not  
> uncompelling (... that can't be a word).

We can post an update to the blog if you think it'd help, I'm open to 
suggestions.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From m at mullenweg.com  Wed Aug 17 23:25:16 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Aug 17 23:27:47 2005
Subject: [wp-hackers] Enable Sending Referrers
In-Reply-To: <4301E26B.7000006@midnightcircus.com>
References: <000001c5a208$44404d30$0801000a@DB>	<012601c5a209$79cb7730$6e01a8c0@sixfour>	<4301527B.2080404@txfx.net>
	<4301E26B.7000006@midnightcircus.com>
Message-ID: <4303C75C.9040803@mullenweg.com>

Owen Winkler wrote:
> If WordPress created a hash from the database password (with salt), 
> provided it to any core code/plugins for use in features like these, and 
> unset the database password (or undefined it), then things might be a 
> tad more secure.  And any little bit helps.

What we're talking about is really nonces, which I agree would be an 
improvement over our "enable sending referrers" solution.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From mikea at turbonet.com  Wed Aug 17 23:35:20 2005
From: mikea at turbonet.com (Michael D Adams)
Date: Wed Aug 17 23:34:27 2005
Subject: [wp-hackers] Exploit again!
In-Reply-To: <4303C4EE.50002@mullenweg.com>
References: <4302F8E2.2050607@tamba2.org.uk> <43036764.30308@gunters.org>
	<10B7023B-F4BA-4130-9431-4E486F5B5874@turbonet.com>
	<4303C4EE.50002@mullenweg.com>
Message-ID: <C0886DE4-B4C1-44EF-8A55-BC489896A45C@turbonet.com>

On Aug 17, 2005, at 4:14 PM, Matt Mullenweg wrote:
> We can post an update to the blog if you think it'd help, I'm open  
> to suggestions.

Not  a bad idea.  Perhaps something like:

There was a mistake in a file when we very first made 1.5.2  
available.  The issue was corrected within four hours of the initial  
posting here, so you probably aren't effected at all.  If you were  
one of the early worms (thanks for being on top of things!) you can  
download [this one file] and use it instead of the one on your site.

Noter: this ONLY effects those who downloaded 1.5.2 within a few  
hours of its release and are on a host which has register_globals on  
without mod_security in place!  You do *not* need to worry otherwise.

Happy blogging,
etc. etc.

Would be appropriate.

I just don't want people to be able to say WP wasn't on top of things  
re: security.
Michael,
--mdawaffe

From fd at firasd.org  Wed Aug 17 23:39:59 2005
From: fd at firasd.org (Firas D.)
Date: Wed Aug 17 23:40:42 2005
Subject: [wp-hackers] Exploit again!
In-Reply-To: <4303C4EE.50002@mullenweg.com>
References: <4302F8E2.2050607@tamba2.org.uk>
	<43036764.30308@gunters.org>	<10B7023B-F4BA-4130-9431-4E486F5B5874@turbonet.com>
	<4303C4EE.50002@mullenweg.com>
Message-ID: <4303CACF.6@firasd.org>

Matt Mullenweg wrote:

> Michael D Adams wrote:
>
>> I don't know when/how things happened, but I don't think Esser's  
>> point can be quite so easily dismissed.  What he brings up is not  
>> uncompelling (... that can't be a word).
>
>
> We can post an update to the blog if you think it'd help, I'm open to 
> suggestions.


I think--more importantly than this particular issue--it's become a 
common pattern with releases. That's an issue that needs solving--I'm 
not sure how, because the things you end up fixing only come to light 
after the massive attention the release gets. But it's something to 
think about.

-- 
http://firasd.org

From lorelle at cameraontheroad.com  Thu Aug 18 14:32:01 2005
From: lorelle at cameraontheroad.com (Lorelle VanFossen)
Date: Thu Aug 18 14:35:46 2005
Subject: [wp-hackers] Haven't installed WordPress yet - run install.php
Message-ID: <43049BE1.7070009@cameraontheroad.com>

Due to an unannounced security change with my server, for hours now 
people visiting my site have been greeted with:

   " It doesn't look like you've installed WP yet. Try running 
install.php <http://www.cameraontheroad.com/wp-admin/install.php>."

I have updated the password for access to my server, but it seems this 
security change has borked access to my database but I can't gain access 
to the database because the server is updating whatever it is that is 
screwing up access.  So for HOURS this has been sitting there.

I have no idea how many people have visited and clicked install.php. So 
it makes me wonder if this is the kind of thing we need to have sitting 
there if the wp-config.php isn't able to access the database.  Is there 
something more secure to do? I don't know what the alternative is, and I 
don't know what running install.php a few dozen times will do to my 
site, and I'm not sure how often this will be a major issue like it is 
right now, but I think it's worthy of mention.

I hear that several other hosts are doing the same thing, hopefully 
faster and more successfully than my host, so I posted a note with 
general instructions on what to do if this happens to you at 
http://wordpress.org/support/topic/42225.

Lorelle

From ryan at boren.nu  Thu Aug 18 20:03:28 2005
From: ryan at boren.nu (Ryan Boren)
Date: Thu Aug 18 20:03:42 2005
Subject: [wp-hackers] Seeking MT Export File
Message-ID: <1124395408.9503.2.camel@portnoy.fuzzybelly.org>

I'm currently redoing the import system and need some test data.  If you
have an MT export file laying around, send me a link to it.  Same goes
for source data for any of our other importers.

Ryan

From timeistight at gmail.com  Thu Aug 18 21:35:08 2005
From: timeistight at gmail.com (Arthur Jennings)
Date: Thu Aug 18 21:35:14 2005
Subject: [wp-hackers] Haven't installed WordPress yet - run install.php
In-Reply-To: <43049BE1.7070009@cameraontheroad.com>
References: <43049BE1.7070009@cameraontheroad.com>
Message-ID: <e31b0bf805081814351a5956b1@mail.gmail.com>

On 8/18/05, Lorelle VanFossen <lorelle@cameraontheroad.com> wrote:
.
.
.
> 
> I have no idea how many people have visited and clicked install.php. 
.
.
.

You have no idea how much willpower it took not to click it in your email.

-- 
Arthur Jennings
http://www.timeistight.com
From skeltoac at gmail.com  Thu Aug 18 22:20:54 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Thu Aug 18 22:21:01 2005
Subject: [wp-hackers] Haven't installed WordPress yet - run install.php
In-Reply-To: <43049BE1.7070009@cameraontheroad.com>
References: <43049BE1.7070009@cameraontheroad.com>
Message-ID: <e6ec604d05081815201de80e8b@mail.gmail.com>

On 8/18/05, Lorelle VanFossen <lorelle@cameraontheroad.com> wrote:
> Due to an unannounced security change with my server, for hours now
> people visiting my site have been greeted with:
> 
>    " It doesn't look like you've installed WP yet. Try running
> install.php <http://www.cameraontheroad.com/wp-admin/install.php>."
> 
> I have updated the password for access to my server, but it seems this
> security change has borked access to my database but I can't gain access
> to the database because the server is updating whatever it is that is
> screwing up access.  So for HOURS this has been sitting there.

Relle, that message is generated in index.php, long before WP tries to
connect to your database. If it had failed to connect to the database,
WP would have said so.

The error above is only presented when index.php is unable to find
wp-config.php. This can be due to a missing file but more likely, the
file is sitting there with the wrong owner/group/permissions.

I realize you are having issues with your host and that they are
database-related but I didn't want any misconceptions about that error
message to survive this thread.

Andy
From kaf at szub.net  Thu Aug 18 23:36:55 2005
From: kaf at szub.net (Kaf Oseo)
Date: Thu Aug 18 23:37:11 2005
Subject: [wp-hackers] Haven't installed WordPress yet - run install.php
In-Reply-To: <e6ec604d05081815201de80e8b@mail.gmail.com>
References: <43049BE1.7070009@cameraontheroad.com>
	<e6ec604d05081815201de80e8b@mail.gmail.com>
Message-ID: <43051B97.3020003@szub.net>

Andy Skelton wrote:
> On 8/18/05, Lorelle VanFossen <lorelle@cameraontheroad.com> wrote:
>> ...
>>   " It doesn't look like you've installed WP yet. Try running
>>install.php <http://www.cameraontheroad.com/wp-admin/install.php>."
> 
> The error above is only presented when index.php is unable to find
> wp-config.php. This can be due to a missing file but more likely, the
> file is sitting there with the wrong owner/group/permissions.

Um, actually the error then would be:

	There doesn't seem to be a wp-config.php file. I need this
	before we can get started.

Etc.

The error about installation not having run crops up only if WordPress
"sees" the database but, for one reason or another, isn't able to call
any records from the users table.

-Kaf
From skeltoac at gmail.com  Thu Aug 18 23:39:47 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Thu Aug 18 23:40:00 2005
Subject: [wp-hackers] Haven't installed WordPress yet - run install.php
In-Reply-To: <e6ec604d05081815201de80e8b@mail.gmail.com>
References: <43049BE1.7070009@cameraontheroad.com>
	<e6ec604d05081815201de80e8b@mail.gmail.com>
Message-ID: <e6ec604d050818163966b33149@mail.gmail.com>

On 8/18/05, Andy Skelton <skeltoac@gmail.com> wrote:
> Relle, that message is generated in index.php, long before WP tries to
> connect to your database. If it had failed to connect to the database,
> WP would have said so.

Did I misspeak there or what? I'm going back to my plugin writing...
From false.hopes at gmail.com  Thu Aug 18 23:41:48 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Aug 18 23:41:52 2005
Subject: [wp-hackers] Haven't installed WordPress yet - run install.php
In-Reply-To: <e6ec604d05081815201de80e8b@mail.gmail.com>
References: <43049BE1.7070009@cameraontheroad.com>
	<e6ec604d05081815201de80e8b@mail.gmail.com>
Message-ID: <a491f91d0508181641189cd1ab@mail.gmail.com>

Actually, that error is shown long after wp-config is loaded and a
connection to your database is established. It is shown when you're
connected to a database but the tables for WordPress don't appear to
exist. If index.php can't find wp-config.php, it tells you just that.

On 8/18/05, Andy Skelton <skeltoac@gmail.com> wrote:
> On 8/18/05, Lorelle VanFossen <lorelle@cameraontheroad.com> wrote:
> > Due to an unannounced security change with my server, for hours now
> > people visiting my site have been greeted with:
> >
> >    " It doesn't look like you've installed WP yet. Try running
> > install.php <http://www.cameraontheroad.com/wp-admin/install.php>."
> >
> > I have updated the password for access to my server, but it seems this
> > security change has borked access to my database but I can't gain access
> > to the database because the server is updating whatever it is that is
> > screwing up access.  So for HOURS this has been sitting there.
> 
> Relle, that message is generated in index.php, long before WP tries to
> connect to your database. If it had failed to connect to the database,
> WP would have said so.
> 
> The error above is only presented when index.php is unable to find
> wp-config.php. This can be due to a missing file but more likely, the
> file is sitting there with the wrong owner/group/permissions.
> 
> I realize you are having issues with your host and that they are
> database-related but I didn't want any misconceptions about that error
> message to survive this thread.
> 
> Andy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From r at schestowitz.com  Fri Aug 19 02:29:32 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Fri Aug 19 02:29:33 2005
Subject: [wp-hackers] Haven't installed WordPress yet - run install.php
In-Reply-To: <e6ec604d05081815201de80e8b@mail.gmail.com>
References: <43049BE1.7070009@cameraontheroad.com>
	<e6ec604d05081815201de80e8b@mail.gmail.com>
Message-ID: <20050819032932.sv3itxgqpwgg4o84@banana.catalyst2.com>

Quoting Andy Skelton:

> On 8/18/05, Lorelle VanFossen wrote:
>> Due to an unannounced security change with my server, for hours now
>> people visiting my site have been greeted with:
>>
>>    " It doesn't look like you've installed WP yet. Try running
>> install.php <http://www.cameraontheroad.com/wp-admin/install.php>."
>>
>> I have updated the password for access to my server, but it seems this
>> security change has borked access to my database but I can't gain access
>> to the database because the server is updating whatever it is that is
>> screwing up access.  So for HOURS this has been sitting there.
>
> Relle, that message is generated in index.php, long before WP tries to
> connect to your database. If it had failed to connect to the database,
> WP would have said so.
>
> The error above is only presented when index.php is unable to find
> wp-config.php. This can be due to a missing file but more likely, the
> file is sitting there with the wrong owner/group/permissions.
>
> I realize you are having issues with your host and that they are
> database-related but I didn't want any misconceptions about that error
> message to survive this thread.
>
> Andy

Have you got a recent back-up of your home directory? One of the major 
powers of
a paranoid backup scheme is the ability to solve this particular type of
problems at ease. It's a matter of brute-force (bandwidth), not fiddling. Put
differently, rather than beating the bushes, you should be able to just 
restore
all files or graft the blog's parent directory.

It is also where the separation between the data(base) and the 
application makes
WordPress a wonderful package. Backup is valuable for restoration as 
well as the
ability to revert back to a working state shall something go wrong...

Hope it helps,

Roy

-- 
Roy S. Schestowitz
http://Schestowitz.com

From false.hopes at gmail.com  Fri Aug 19 03:38:41 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Fri Aug 19 03:38:48 2005
Subject: [wp-hackers] Haven't installed WordPress yet - run install.php
In-Reply-To: <20050819032932.sv3itxgqpwgg4o84@banana.catalyst2.com>
References: <43049BE1.7070009@cameraontheroad.com>
	<e6ec604d05081815201de80e8b@mail.gmail.com>
	<20050819032932.sv3itxgqpwgg4o84@banana.catalyst2.com>
Message-ID: <a491f91d05081820387116ed44@mail.gmail.com>

If the databases are messed up, having a backup of your home directory
is useless.... Reverting to a backup of your home directory would do
nothing towards restoring a working WordPress system.

On 8/18/05, Roy Schestowitz <r@schestowitz.com> wrote:
> Quoting Andy Skelton:
> 
> > On 8/18/05, Lorelle VanFossen wrote:
> >> Due to an unannounced security change with my server, for hours now
> >> people visiting my site have been greeted with:
> >>
> >>    " It doesn't look like you've installed WP yet. Try running
> >> install.php <http://www.cameraontheroad.com/wp-admin/install.php>."
> >>
> >> I have updated the password for access to my server, but it seems this
> >> security change has borked access to my database but I can't gain access
> >> to the database because the server is updating whatever it is that is
> >> screwing up access.  So for HOURS this has been sitting there.
> >
> > Relle, that message is generated in index.php, long before WP tries to
> > connect to your database. If it had failed to connect to the database,
> > WP would have said so.
> >
> > The error above is only presented when index.php is unable to find
> > wp-config.php. This can be due to a missing file but more likely, the
> > file is sitting there with the wrong owner/group/permissions.
> >
> > I realize you are having issues with your host and that they are
> > database-related but I didn't want any misconceptions about that error
> > message to survive this thread.
> >
> > Andy
> 
> Have you got a recent back-up of your home directory? One of the major
> powers of
> a paranoid backup scheme is the ability to solve this particular type of
> problems at ease. It's a matter of brute-force (bandwidth), not fiddling. Put
> differently, rather than beating the bushes, you should be able to just
> restore
> all files or graft the blog's parent directory.
> 
> It is also where the separation between the data(base) and the
> application makes
> WordPress a wonderful package. Backup is valuable for restoration as
> well as the
> ability to revert back to a working state shall something go wrong...
> 
> Hope it helps,
> 
> Roy
> 
> --
> Roy S. Schestowitz
> http://Schestowitz.com
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From r at schestowitz.com  Fri Aug 19 04:17:35 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Fri Aug 19 04:17:30 2005
Subject: [wp-hackers] Haven't installed WordPress yet - run install.php
In-Reply-To: <a491f91d05081820387116ed44@mail.gmail.com>
References: <43049BE1.7070009@cameraontheroad.com>
	<e6ec604d05081815201de80e8b@mail.gmail.com>
	<20050819032932.sv3itxgqpwgg4o84@banana.catalyst2.com>
	<a491f91d05081820387116ed44@mail.gmail.com>
Message-ID: <20050819051735.9kgrwwaqp7kkcwss@banana.catalyst2.com>

Quoting Robert Deaton <false.hopes@gmail.com>:

> If the databases are messed up, having a backup of your home directory
> is useless.... Reverting to a backup of your home directory would do
> nothing towards restoring a working WordPress system.

Yes, but it has been suggested that the problem lies somewhere among the files
and not the database. If the database has reached a morbid state, it is
possible to follow a similar type of strategy. Always make sure you get
frequent backups of your database (it is very light anyway). I personally have
cron job set up to retain a stack of database backups in ~/tmp. If a part of
the database ever breaks, the first thing to try and and do is repair it
(cPanel provides a front-end to this function). If failed, the database in its
older state can be restored from backup. If changes have been made since the
last backup, download the database in its latest state, merge with the old one
(paying careful attention to changes) and then restore the result of the
merger.

Roy

-- 
Roy S. Schestowitz
http://Schestowitz.com

From ml_wordpress at copperleaf.org  Fri Aug 19 11:41:03 2005
From: ml_wordpress at copperleaf.org (Bill Smith)
Date: Fri Aug 19 11:41:17 2005
Subject: [wp-hackers] template_redirect Examples
Message-ID: <4305C54F.3040500@copperleaf.org>

I'm trying to play with pages and template_redirect in a plugin. Does 
anbody know of some examples or resources that can better explain it? 
The info in the codex seems a little vague.

Thx,
Bill
From dmhouse at gmail.com  Fri Aug 19 12:05:02 2005
From: dmhouse at gmail.com (David House)
Date: Fri Aug 19 12:05:19 2005
Subject: [wp-hackers] Re: template_redirect Examples
In-Reply-To: <4305C54F.3040500@copperleaf.org>
References: <4305C54F.3040500@copperleaf.org>
Message-ID: <ebe43d6805081905057ef2d61f@mail.gmail.com>

Bill, it's just like any other hook. Write the code you want to happen
just before the template redirects happen, stick it in a function,
then hook that function onto the templates_redirect action as
described in the Plugin API page on the codex.

On 8/19/05, Bill Smith <ml_wordpress@copperleaf.org> wrote:
> I'm trying to play with pages and template_redirect in a plugin. Does 
> anbody know of some examples or resources that can better explain it? 
> The info in the codex seems a little vague.
> 
> Thx,
> Bill
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From ml_wordpress at copperleaf.org  Fri Aug 19 14:32:45 2005
From: ml_wordpress at copperleaf.org (Bill Smith)
Date: Fri Aug 19 14:32:55 2005
Subject: [wp-hackers] Re: template_redirect Examples
In-Reply-To: <ebe43d6805081905057ef2d61f@mail.gmail.com>
References: <4305C54F.3040500@copperleaf.org>
	<ebe43d6805081905057ef2d61f@mail.gmail.com>
Message-ID: <4305ED8D.2030503@copperleaf.org>

The part I'm missing (that I didn't ask very well) is in the function 
called by the hook, how do I grab the "name" of the page and any of it's 
parameters?

Ex. http://www.copperleaf.org/mypage/ or 
http://www.copperleaf.org/index.php/mypage/

David House wrote:

>Bill, it's just like any other hook. Write the code you want to happen
>just before the template redirects happen, stick it in a function,
>then hook that function onto the templates_redirect action as
>described in the Plugin API page on the codex.
>
>On 8/19/05, Bill Smith <ml_wordpress@copperleaf.org> wrote:
>  
>
>>I'm trying to play with pages and template_redirect in a plugin. Does 
>>anbody know of some examples or resources that can better explain it? 
>>The info in the codex seems a little vague.
>>
>>Thx,
>>Bill
>>_______________________________________________
>>wp-hackers mailing list
>>wp-hackers@lists.automattic.com
>>http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>    
>>
>
>
>  
>

From false.hopes at gmail.com  Fri Aug 19 16:27:25 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Fri Aug 19 16:27:29 2005
Subject: [wp-hackers] Re: template_redirect Examples
In-Reply-To: <4305ED8D.2030503@copperleaf.org>
References: <4305C54F.3040500@copperleaf.org>
	<ebe43d6805081905057ef2d61f@mail.gmail.com>
	<4305ED8D.2030503@copperleaf.org>
Message-ID: <a491f91d0508190927420e5c4b@mail.gmail.com>

The same way that the you would anywhere in the codex, the query string.

On 8/19/05, Bill Smith <ml_wordpress@copperleaf.org> wrote:
> The part I'm missing (that I didn't ask very well) is in the function
> called by the hook, how do I grab the "name" of the page and any of it's
> parameters?
> 
> Ex. http://www.copperleaf.org/mypage/ or
> http://www.copperleaf.org/index.php/mypage/
> 
> David House wrote:
> 
> >Bill, it's just like any other hook. Write the code you want to happen
> >just before the template redirects happen, stick it in a function,
> >then hook that function onto the templates_redirect action as
> >described in the Plugin API page on the codex.
> >
> >On 8/19/05, Bill Smith <ml_wordpress@copperleaf.org> wrote:
> >
> >
> >>I'm trying to play with pages and template_redirect in a plugin. Does
> >>anbody know of some examples or resources that can better explain it?
> >>The info in the codex seems a little vague.
> >>
> >>Thx,
> >>Bill
> >>_______________________________________________
> >>wp-hackers mailing list
> >>wp-hackers@lists.automattic.com
> >>http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >>
> >>
> >
> >
> >
> >
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From gallery.manager at hiveworks.com  Sat Aug 20 07:54:44 2005
From: gallery.manager at hiveworks.com (gallery.manager@hiveworks.com)
Date: Sat Aug 20 07:54:14 2005
Subject: [wp-hackers] Hooking into Comments
Message-ID: <14564.80.126.149.221.1124524484.squirrel@80.126.149.221>

I have a GalleryManager plugin that I'm working on and a lot of people
have asked me to add comments to the pictures and the galleries.

I had a look at the WP code but I couldn't find any way to hook into
comments. They seem to be hardwired to posts.

Does anybody know how to use comments for other stuff? I hate reinventing
the wheel.

Cheers,

Michail

From skippy at skippy.net  Sat Aug 20 12:59:06 2005
From: skippy at skippy.net (Scott Merrill)
Date: Sat Aug 20 12:59:25 2005
Subject: [wp-hackers] Persistent Connections
Message-ID: <4307291A.4070406@skippy.net>

http://wordpress.org/support/topic/42389

I'm not qualified to definitively answer this question, but I am 
interested in the issue.

Why aren't we using persistent database connections?

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From nbachiyski at developer.bg  Sat Aug 20 14:15:57 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Sat Aug 20 14:11:55 2005
Subject: [wp-hackers] Persistent Connections
In-Reply-To: <4307291A.4070406@skippy.net>
References: <4307291A.4070406@skippy.net>
Message-ID: <43073B1D.80704@developer.bg>

Scott Merrill wrote:
> http://wordpress.org/support/topic/42389
> 
> I'm not qualified to definitively answer this question, but I am 
> interested in the issue.
> 
> Why aren't we using persistent database connections?
> 

By default the MySQL server would close an inactive persistent 
connection after about 28800 seconds (8 hours). Of course this value 
could be tuned (wait_timeout and interactive_timeout server variables).
However on most mass-hosting servers this value is not changed.

If we start using persistent connection on servers with high timeouts - 
  not all, but many of the hits on a wordpress page would create a 
brand-new connection to the MySQL server and it will keep it open for 8 
hours! Usually the server can take up to say 100-200 (rarely more than 
500-600) connections at a time (max_connections variable). Probably 
after some clicking the server will start refusing new connections...

IMHO adding an option whether persistent connections are used will be 
useful. Of courseif by default it is 'off' :)

Nikolay.


From cicloid at idealabs.tk  Sat Aug 20 15:16:51 2005
From: cicloid at idealabs.tk (Gustavo Barron)
Date: Sat Aug 20 15:16:25 2005
Subject: [wp-hackers] Seeking MT Export File
In-Reply-To: <1124395408.9503.2.camel@portnoy.fuzzybelly.org>
References: <1124395408.9503.2.camel@portnoy.fuzzybelly.org>
Message-ID: <43074963.3070908@idealabs.tk>

Ryan Boren wrote:

>I'm currently redoing the import system and need some test data.  If you
>have an MT export file laying around, send me a link to it.  Same goes
>for source data for any of our other importers.
>  
>
I would like to help in this effort, helping with some systems I know.

>Ryan
>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers@lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>  
>

From lorelle at cameraontheroad.com  Sat Aug 20 18:09:31 2005
From: lorelle at cameraontheroad.com (Lorelle VanFossen)
Date: Sat Aug 20 18:19:24 2005
Subject: [wp-hackers] Haven't installed WordPress yet - run,	install.php
In-Reply-To: <20050819033849.D915AC675@comox.textdrive.com>
References: <20050819033849.D915AC675@comox.textdrive.com>
Message-ID: <430771DB.8030409@cameraontheroad.com>

Thanks for the help. This wasn't a support question as much as a look at 
how this happens for future reference. I solved the issue of the install 
link sitting there by creating a new index.php from a stripped down 
front page version of the site (with no template tags and everything 
hard coded) and replacing the index.php to that with a note that said 
"site down".

I will be working something up about this for the Codex, but it got me 
thinking about a work around for when this happens due to a server 
glitch or some other issue that required TIME before the fix was 
available. Having a second php file that was a stripped down version of 
a note that says "Site Under Repair or Construction", something really 
vague and editable, and adding a link to the error that says, "If the 
problem is known and you are awaiting a resolution or solution, click 
this button to post a public note to your users that the site is under 
repair and will be active again soon." Then the link would initiate a 
renaming of the index.php to indexback.php and indexrepair.php to 
index.php with the message in it.

Probably more than WordPress wants to do, but you never know where a 
good idea may come from. For the two days my site was down because of 
the server's lack of foresight that their little "force you to change 
passwords" caused, this would have been really handy. And it might be 
handy for those who are waiting for help from the forum but need 
something to entertain the visitors.

Lorelle

From m at mullenweg.com  Sat Aug 20 20:09:03 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Sat Aug 20 20:09:09 2005
Subject: [wp-hackers] Hooking into Comments
In-Reply-To: <14564.80.126.149.221.1124524484.squirrel@80.126.149.221>
References: <14564.80.126.149.221.1124524484.squirrel@80.126.149.221>
Message-ID: <43078DDF.6080109@mullenweg.com>

gallery.manager@hiveworks.com wrote:
> I had a look at the WP code but I couldn't find any way to hook into
> comments. They seem to be hardwired to posts.

Comments must be attached to posts, but posts are extremely flexible in 
their type. We even have sub-posts.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From false.hopes at gmail.com  Sat Aug 20 20:13:40 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Sat Aug 20 20:13:48 2005
Subject: [wp-hackers] Hooking into Comments
In-Reply-To: <43078DDF.6080109@mullenweg.com>
References: <14564.80.126.149.221.1124524484.squirrel@80.126.149.221>
	<43078DDF.6080109@mullenweg.com>
Message-ID: <a491f91d05082013137f59add@mail.gmail.com>

If I remember correct, you should be able to make your own post type
and just make a blank post for where you want comments to be. Posts
without one of the pre-defined types by WordPress won't be shown, so
the user never really has to know.

On 8/20/05, Matthew Mullenweg <m@mullenweg.com> wrote:
> gallery.manager@hiveworks.com wrote:
> > I had a look at the WP code but I couldn't find any way to hook into
> > comments. They seem to be hardwired to posts.
> 
> Comments must be attached to posts, but posts are extremely flexible in
> their type. We even have sub-posts.
> 
> --
> Matt Mullenweg
>   http://photomatt.net | http://wordpress.org
> http://pingomatic.com | http://cnet.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From dmhouse at gmail.com  Sun Aug 21 14:43:44 2005
From: dmhouse at gmail.com (David House)
Date: Sun Aug 21 14:43:57 2005
Subject: [wp-hackers] Persistent Connections
In-Reply-To: <43073B1D.80704@developer.bg>
References: <4307291A.4070406@skippy.net> <43073B1D.80704@developer.bg>
Message-ID: <ebe43d680508210743129c1487@mail.gmail.com>

On 20/08/05, Nikolay Bachiyski <nbachiyski@developer.bg> wrote:
> IMHO adding an option whether persistent connections are used will be
> useful. Of courseif by default it is 'off' :)

Disagreed.

1. Idiot playing around with preferences activates persistent connections
2. Shared server brought down
3. Host blames WordPress

I think a better way of handling things would be to wait until the
database layer is abstracted (this is still on the development agenda,
right?) then see if a plugin can handle it.

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From dmhouse at gmail.com  Sun Aug 21 14:50:51 2005
From: dmhouse at gmail.com (David House)
Date: Sun Aug 21 14:51:04 2005
Subject: [wp-hackers] Hooking into Comments
In-Reply-To: <14564.80.126.149.221.1124524484.squirrel@80.126.149.221>
References: <14564.80.126.149.221.1124524484.squirrel@80.126.149.221>
Message-ID: <ebe43d680508210750550b7fdb@mail.gmail.com>

On 20/08/05, gallery.manager@hiveworks.com
<gallery.manager@hiveworks.com> wrote:
> I had a look at the WP code but I couldn't find any way to hook into
> comments. They seem to be hardwired to posts.

I did this for one of my sites, apiakp.co.uk. I actually used a
seperate table but my initial plan was just to use the wp_comments
table. The way to do it is to pick a ridiculously large number which
you could never expect to arrive as a post ID, say 1,000,000. Create a
form for the creation of a comment that posts to either
wp-comments-post.php or a stripped down version which you can create
(I went for the latter as the former just seemed to generate too many
problems). Store the comments with a comment_post_ID of your really
big number. Finally, when it comes to viewing the comments, just
select all the comments with a comment_post_ID of your really high
number, and ta-da, there's all your comments. You don't even actually
have to have a post with an ID of that really high number, it'd work
regardless.

You could even extend this by having a really big number for each
image in the gallery. This way you'd be able to tell which comments go
with which images.

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From nbachiyski at developer.bg  Sun Aug 21 15:25:06 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Sun Aug 21 15:21:11 2005
Subject: [wp-hackers] Persistent Connections
In-Reply-To: <ebe43d680508210743129c1487@mail.gmail.com>
References: <4307291A.4070406@skippy.net> <43073B1D.80704@developer.bg>
	<ebe43d680508210743129c1487@mail.gmail.com>
Message-ID: <43089CD2.4040602@developer.bg>

David House wrote:
> On 20/08/05, Nikolay Bachiyski <nbachiyski@developer.bg> wrote:
> 
>>IMHO adding an option whether persistent connections are used will be
>>useful. Of courseif by default it is 'off' :)
> 
> 
> Disagreed.
> 
> 1. Idiot playing around with preferences activates persistent connections
> 2. Shared server brought down
> 3. Host blames WordPress
> 
> I think a better way of handling things would be to wait until the
> database layer is abstracted (this is still on the development agenda,
> right?) then see if a plugin can handle it.
> 
I think you are fairly right. It us much safer *not* to have such an 
option :)

If somebody really needs persisten connections (implies mysql tuning, 
another layer, which pools connections) it will be as easy for him to 
patch the code as to just change an option.

Nikolay.
From peter.westwood at ftwr.co.uk  Sun Aug 21 15:57:07 2005
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun Aug 21 15:58:37 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <430100BE.3080701@mullenweg.com>
References: <000001c59eb1$dcec2270$0701000a@DB>	<42FBB3BA.9080708@skippy.net>	<42FBB6EA.7090503@firasd.org>	<ebe43d6805081508366b3fcb9e@mail.gmail.com>	<a491f91d050815100074726b3e@mail.gmail.com>	<ebe43d6805081510115044e301@mail.gmail.com>	<4300CF2B.7040809@firasd.org>	<4300FDC0.9050401@ftwr.co.uk>
	<430100BE.3080701@mullenweg.com>
Message-ID: <4308A453.4050308@ftwr.co.uk>

Matt Mullenweg wrote:

> Peter Westwood wrote:
>
>>> 1) Latest version string (as in version.php)
>>> 2) Date of revision
>>> 3) SVN location (branch, tags, trunk?) and Revision
>>>
>> I would add to this:
>> 4) Link to release notification
>> 5) A short text message
>> 6) A severity level for the message - ie is the upgrade critical due 
>> to security fixes or only recommended because of new features.
>
>
> Okay I added some of these:
>
> http://rpc.wordpress.org/latest-stable/version/
> http://rpc.wordpress.org/latest-stable/date/
> http://rpc.wordpress.org/latest-stable/link/
> http://rpc.wordpress.org/latest-stable/svn/

These look good.

I've made a first pass at creating a patch to use this (for 
http://trac.wordpress.org/ticket/1476 patch also attached there) which 
will display a message on the dashboard the returned version is 
different from the installed version.

I've also attached a screenshot of how it looks at present

Comments??

I would have had this done a bit quicker if I hadn't been offline for 
nearly a week!  :( - 
http://blog.ftwr.co.uk/archives/2005/08/20/hospital-food/
--
westi
-------------- next part --------------
Index: wp-admin/wp-admin.css
===================================================================
--- wp-admin/wp-admin.css	(revision 2800)
+++ wp-admin/wp-admin.css	(working copy)
@@ -757,3 +757,14 @@
 	-khtml-opacity: 0.8;
 	filter: alpha(opacity=80);
 }
+
+#updatemessage {
+	width:45%;
+	padding:1em;
+	border: 1px solid #69c;
+	background: #ebb;
+	text-align:center;
+	position:absolute;
+	top: 120px;
+	right:65px;
+}
Index: wp-admin/admin-functions.php
===================================================================
--- wp-admin/admin-functions.php	(revision 2800)
+++ wp-admin/admin-functions.php	(working copy)
@@ -1394,4 +1394,67 @@
 	return $wp_importers;
 }
 
-?>
\ No newline at end of file
+function check_version_and_get_message()
+{
+	if (get_option('lastest_version_info'))
+	{
+		$latest_version_info = get_option('latest_version_info');
+	} else {
+		//Defaults
+		$latest_version_info = array("last_update" => 0, 
+									 "last_version" => "0.0.0", 
+									 "last_url" => "http://wordpress.org", 
+									 "last_date" => "19800101", 
+									 "last_svn" => "http://svn.automattic.com/wordpress/tags/1.5.2/" );
+	}
+	
+	//Check every 15 minutes for now - maybe up this to 1 hour or so ??
+	if (($latest_version_info["last_update"] + ( 15 * 60)) < time())
+	{
+		$version_snoopy = _fetch_remote_file("http://rpc.wordpress.org/latest-stable/version/");
+		$date_snoopy = _fetch_remote_file("http://rpc.wordpress.org/latest-stable/date/");
+		$link_snoopy = _fetch_remote_file("http://rpc.wordpress.org/latest-stable/link/");
+		$svn_snoopy = _fetch_remote_file("http://rpc.wordpress.org/latest-stable/svn/");
+		
+		if (_check_snoopy_get_results($version_snoopy, $latest_version_info["last_version"]) and
+			_check_snoopy_get_results($date_snoopy, $latest_version_info["last_date"]) and
+			_check_snoopy_get_results($link_snoopy, $latest_version_info["last_url"]) and
+			_check_snoopy_get_results($svn_snoopy, $latest_version_info["last_svn"]))
+		{
+			//All suceeded so update timestamp
+			$latest_version_info["last_update"] = time();
+			update_option('latest_version_info',$latest_version_info);
+		}
+		
+	}
+
+	if ( $wp_version != $latest_version_info["last_version"])
+	{
+		$message = human_time_diff(strtotime($latest_version_info["last_date"])) . ' ' . __('ago');
+		$message .= ' - <a href="'.$latest_version_info["last_url"].'">'; 
+		$message .= __('New WordPress Version is available');
+		$message .= '</a> - v';
+		$message .= $latest_version_info["last_version"];
+		$message .= ' (<a href="'.$latest_version_info["last_svn"].'">svn</a>)';
+	} else {
+		$message = "";
+	}
+
+	return $message;
+					
+} //end check_version_and_get_message()
+
+function _check_snoopy_get_results(&$snoopy, &$value) 
+{
+	if (isset($snoopy) and $snoopy )
+	{
+		if (200 == $snoopy->status)
+		{
+			$value = $snoopy->results;
+			return true;
+		}
+	}
+	return false;
+}
+
+?>
Index: wp-admin/index.php
===================================================================
--- wp-admin/index.php	(revision 2800)
+++ wp-admin/index.php	(working copy)
@@ -11,6 +11,12 @@
 
 <h2><?php _e('Dashboard'); ?></h2>
 
+<?php if ("" != check_version_and_get_message()) { ?>
+<div id="updatemessage">
+<?php echo check_version_and_get_message(); ?>
+</div>
+<?php } ?>
+
 <div id="zeitgeist">
 <h2><?php _e('Latest Activity'); ?></h2>
 
@@ -157,4 +163,4 @@
 
 <?php
 require('./admin-footer.php');
-?>
\ No newline at end of file
+?>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: screenshot.JPG
Type: image/jpeg
Size: 148630 bytes
Desc: not available
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050821/0c9bb06a/screenshot-0001.jpe
From changereality at gmail.com  Sun Aug 21 17:19:06 2005
From: changereality at gmail.com (Nathan White)
Date: Sun Aug 21 17:19:24 2005
Subject: [wp-hackers] updating 1.5.1.3 to 1.5.2
Message-ID: <9b8e3e9105082110197e0b7c71@mail.gmail.com>

I was able to get 1.5.1.3 <http://1.5.1.3> running after turning php globals 
on in my .htaccess and modifing check_admin_referer function inside 
admin-functions.php to change the refer to localhost.

Even if I try doing the above changes on 1.5.2 it won't save my changes or 
posts in the admin section. The weird thing is when I change a value in the 
admin section it changes the display to all options after hitting "update 
options" but no options are updated. The only thing I have found that I can 
change is the themes.

Any insight or things to try would be great. I have the same issue
with 1.6alpha as well.

Nathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050821/c8dd04f0/attachment.html
From dmhouse at gmail.com  Sun Aug 21 18:31:46 2005
From: dmhouse at gmail.com (David House)
Date: Sun Aug 21 18:32:15 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <4308A453.4050308@ftwr.co.uk>
References: <000001c59eb1$dcec2270$0701000a@DB> <42FBB3BA.9080708@skippy.net>
	<42FBB6EA.7090503@firasd.org>
	<ebe43d6805081508366b3fcb9e@mail.gmail.com>
	<a491f91d050815100074726b3e@mail.gmail.com>
	<ebe43d6805081510115044e301@mail.gmail.com>
	<4300CF2B.7040809@firasd.org> <4300FDC0.9050401@ftwr.co.uk>
	<430100BE.3080701@mullenweg.com> <4308A453.4050308@ftwr.co.uk>
Message-ID: <ebe43d680508211131433aa333@mail.gmail.com>

On 21/08/05, Peter Westwood <peter.westwood@ftwr.co.uk> wrote:
> These look good.
> 
> I've made a first pass at creating a patch to use this (for
> http://trac.wordpress.org/ticket/1476 patch also attached there) which
> will display a message on the dashboard the returned version is
> different from the installed version.
> 
> I've also attached a screenshot of how it looks at present
> 
> Comments??

Perhaps change the text to something like 'A [[new WordPress
version]], version 1.5.2, was released 7 days ago.' (the words 'new
WordPress version' should be linked to the dev blog announcement).
Most end users will just be confused by the presence of a 'svn' link.

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From jalenack at gmail.com  Sun Aug 21 22:24:44 2005
From: jalenack at gmail.com (Jalenack)
Date: Sun Aug 21 22:25:25 2005
Subject: [wp-hackers] updating 1.5.1.3 to 1.5.2
In-Reply-To: <9b8e3e9105082110197e0b7c71@mail.gmail.com>
References: <9b8e3e9105082110197e0b7c71@mail.gmail.com>
Message-ID: <ed51b67c050821152475520640@mail.gmail.com>

It won't work in 1.5.2 because WordPress unregisters globals no matter
what your settings are. I'm curious, why do you need register globals
on?

On 8/21/05, Nathan White <changereality@gmail.com> wrote:
> I was able to get 1.5.1.3 running after turning php globals on in my
> .htaccess and modifing check_admin_referer function inside
> admin-functions.php to change the refer to localhost.
>  
>  Even if I try doing the above changes on 1.5.2 it won't save my changes or
> posts in the admin section. The weird thing is when I change a value in the
> admin section it changes the display to all options after hitting "update
> options" but no options are updated. The only thing I have found that I can
> change is the themes.
>  
>  Any insight or things to try would be great. I have the same issue with 1.6
> alpha as well.
>  
>  Nathan
>  
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 


-- 
Andrew Sutherland
Jalenack.com
From changereality at gmail.com  Mon Aug 22 02:32:39 2005
From: changereality at gmail.com (Nathan White)
Date: Mon Aug 22 02:33:07 2005
Subject: [wp-hackers] updating 1.5.1.3 to 1.5.2
In-Reply-To: <ed51b67c050821152475520640@mail.gmail.com>
References: <9b8e3e9105082110197e0b7c71@mail.gmail.com>
	<ed51b67c050821152475520640@mail.gmail.com>
Message-ID: <9b8e3e91050821193275cbd1c1@mail.gmail.com>

On 8/21/05, Jalenack <jalenack@gmail.com> wrote:
> 
> It won't work in 1.5.2 because WordPress unregisters globals no matter
> what your settings are. I'm curious, why do you need register globals
> on?


Well by default they are off on my server but I had to turn them on to get 
1.5.1.3 <http://1.5.1.3> working.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050822/e204d277/attachment.html
From jalenack at gmail.com  Mon Aug 22 03:53:48 2005
From: jalenack at gmail.com (Jalenack)
Date: Mon Aug 22 03:54:27 2005
Subject: [wp-hackers] updating 1.5.1.3 to 1.5.2
In-Reply-To: <9b8e3e91050821193275cbd1c1@mail.gmail.com>
References: <9b8e3e9105082110197e0b7c71@mail.gmail.com>
	<ed51b67c050821152475520640@mail.gmail.com>
	<9b8e3e91050821193275cbd1c1@mail.gmail.com>
Message-ID: <ed51b67c05082120531f33ab20@mail.gmail.com>

Right, got that. But nothing in 1.5.1.3  relies on register_globals,
so I don't understand why you needed them on in order to get 1.5.1.3
working.



On 8/21/05, Nathan White <changereality@gmail.com> wrote:
> 
> 
> On 8/21/05, Jalenack <jalenack@gmail.com> wrote:
> > It won't work in 1.5.2 because WordPress unregisters globals no matter
> > what your settings are. I'm curious, why do you need register globals
> > on?
> 
>  Well by default they are off on my server but I had to turn them on to get
> 1.5.1.3 working.
>  
> 
>  
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 


-- 
Andrew Sutherland
Jalenack.com
From changereality at gmail.com  Mon Aug 22 12:58:25 2005
From: changereality at gmail.com (Nathan White)
Date: Mon Aug 22 13:28:22 2005
Subject: [wp-hackers] updating 1.5.1.3 to 1.5.2
In-Reply-To: <ed51b67c05082120531f33ab20@mail.gmail.com>
References: <9b8e3e9105082110197e0b7c71@mail.gmail.com>
	<ed51b67c050821152475520640@mail.gmail.com>
	<9b8e3e91050821193275cbd1c1@mail.gmail.com>
	<ed51b67c05082120531f33ab20@mail.gmail.com>
Message-ID: <9b8e3e91050822055870e6ced2@mail.gmail.com>

> Right, got that. But nothing in 1.5.1.3 <http://1.5.1.3> relies on 
> register_globals,
> so I don't understand why you needed them on in order to get 1.5.1.3<http://1.5.1.3>
> working.


That is what I am trying to understand, nothing worked with Wordpress until 
I added the following line in my .htaccess:
php_flag register_globals on 

If you know why this breaks without it and how I can fix it without turning 
globals on I would be very interested.

Server:
(Red Hat)
Apache 2.0.52
PHP 5.0.4
MySQL 4.1.12
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050822/f77f4f61/attachment.html
From podz at tamba2.org.uk  Mon Aug 22 19:10:36 2005
From: podz at tamba2.org.uk (Podz)
Date: Mon Aug 22 19:10:05 2005
Subject: [wp-hackers] Login problems
Message-ID: <430A232C.70403@tamba2.org.uk>

http://wordpress.org/support/topic/42532#post-239028

I've noticed a rise - though the numbers are still small - in people 
posting with Login problems and needing to go into phpmyadmin. The 
author of the above post knows what they are doing so that post is 
making me wonder.

P.
From peter.westwood at ftwr.co.uk  Mon Aug 22 19:11:26 2005
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon Aug 22 19:12:11 2005
Subject: [wp-hackers] Version RPC
In-Reply-To: <ebe43d680508211131433aa333@mail.gmail.com>
References: <000001c59eb1$dcec2270$0701000a@DB>
	<42FBB3BA.9080708@skippy.net>	<42FBB6EA.7090503@firasd.org>	<ebe43d6805081508366b3fcb9e@mail.gmail.com>	<a491f91d050815100074726b3e@mail.gmail.com>	<ebe43d6805081510115044e301@mail.gmail.com>	<4300CF2B.7040809@firasd.org>
	<4300FDC0.9050401@ftwr.co.uk>	<430100BE.3080701@mullenweg.com>
	<4308A453.4050308@ftwr.co.uk>
	<ebe43d680508211131433aa333@mail.gmail.com>
Message-ID: <430A235E.6070904@ftwr.co.uk>

David House wrote:

>On 21/08/05, Peter Westwood <peter.westwood@ftwr.co.uk> wrote:
>  
>
>>These look good.
>>
>>I've made a first pass at creating a patch to use this (for
>>http://trac.wordpress.org/ticket/1476 patch also attached there) which
>>will display a message on the dashboard the returned version is
>>different from the installed version.
>>
>>I've also attached a screenshot of how it looks at present
>>
>>Comments??
>>    
>>
>
>Perhaps change the text to something like 'A [[new WordPress
>version]], version 1.5.2, was released 7 days ago.' (the words 'new
>WordPress version' should be linked to the dev blog announcement).
>Most end users will just be confused by the presence of a 'svn' link.
>  
>
Thanks for the feedback.

I've updated the patch to change the text and dropped the svn link for 
now - the information is still requested and stored although if it's not 
going to be used that can be dropped as well.

--
westi
-------------- next part --------------
Index: wp-admin/wp-admin.css
===================================================================
--- wp-admin/wp-admin.css	(revision 2800)
+++ wp-admin/wp-admin.css	(working copy)
@@ -757,3 +757,14 @@
 	-khtml-opacity: 0.8;
 	filter: alpha(opacity=80);
 }
+
+#updatemessage {
+	display:inline;
+	padding:1em;
+	border: 1px solid #69c;
+	background: #ebb;
+	text-align:center;
+	position:absolute;
+	top: 120px;
+	right:65px;
+}
Index: wp-admin/admin-functions.php
===================================================================
--- wp-admin/admin-functions.php	(revision 2800)
+++ wp-admin/admin-functions.php	(working copy)
@@ -1394,4 +1394,62 @@
 	return $wp_importers;
 }
 
-?>
\ No newline at end of file
+function check_version_and_get_message()
+{
+	if (get_option('lastest_version_info'))
+	{
+		$latest_version_info = get_option('latest_version_info');
+	} else {
+		//Defaults
+		$latest_version_info = array("last_update" => 0, 
+									 "last_version" => "0.0.0", 
+									 "last_url" => "http://wordpress.org", 
+									 "last_date" => "19800101", 
+									 "last_svn" => "http://svn.automattic.com/wordpress/tags/1.5.2/" );
+	}
+	
+	//Check every 15 minutes for now - maybe up this to 1 hour or so ??
+	if (($latest_version_info["last_update"] + ( 15 * 60)) < time())
+	{
+		$version_snoopy = _fetch_remote_file("http://rpc.wordpress.org/latest-stable/version/");
+		$date_snoopy = _fetch_remote_file("http://rpc.wordpress.org/latest-stable/date/");
+		$link_snoopy = _fetch_remote_file("http://rpc.wordpress.org/latest-stable/link/");
+		$svn_snoopy = _fetch_remote_file("http://rpc.wordpress.org/latest-stable/svn/");
+		
+		if (_check_snoopy_get_results($version_snoopy, $latest_version_info["last_version"]) and
+			_check_snoopy_get_results($date_snoopy, $latest_version_info["last_date"]) and
+			_check_snoopy_get_results($link_snoopy, $latest_version_info["last_url"]) and
+			_check_snoopy_get_results($svn_snoopy, $latest_version_info["last_svn"]))
+		{
+			//All suceeded so update timestamp
+			$latest_version_info["last_update"] = time();
+			update_option('latest_version_info',$latest_version_info);
+		}
+		
+	}
+
+	if ( $wp_version != $latest_version_info["last_version"])
+	{
+		$message = sprintf(__('A <a href="%s">new WordPress version</a>, version %s, was released %s ago.'), $latest_version_info["last_url"], $latest_version_info["last_version"], human_time_diff(strtotime($latest_version_info["last_date"])));
+	} else {
+		$message = "";
+	}
+
+	return $message;
+					
+} //end check_version_and_get_message()
+
+function _check_snoopy_get_results(&$snoopy, &$value) 
+{
+	if (isset($snoopy) and $snoopy )
+	{
+		if (200 == $snoopy->status)
+		{
+			$value = $snoopy->results;
+			return true;
+		}
+	}
+	return false;
+}
+
+?>
Index: wp-admin/index.php
===================================================================
--- wp-admin/index.php	(revision 2800)
+++ wp-admin/index.php	(working copy)
@@ -11,6 +11,12 @@
 
 <h2><?php _e('Dashboard'); ?></h2>
 
+<?php if ("" != check_version_and_get_message()) { ?>
+<div id="updatemessage">
+<?php echo check_version_and_get_message(); ?>
+</div>
+<?php } ?>
+
 <div id="zeitgeist">
 <h2><?php _e('Latest Activity'); ?></h2>
 
@@ -157,4 +163,4 @@
 
 <?php
 require('./admin-footer.php');
-?>
\ No newline at end of file
+?>
From ml_wordpress at copperleaf.org  Mon Aug 22 19:46:38 2005
From: ml_wordpress at copperleaf.org (Bill Smith)
Date: Mon Aug 22 19:46:50 2005
Subject: [wp-hackers] Hooking into Comments
In-Reply-To: <a491f91d05082013137f59add@mail.gmail.com>
References: <14564.80.126.149.221.1124524484.squirrel@80.126.149.221>
	<43078DDF.6080109@mullenweg.com>
	<a491f91d05082013137f59add@mail.gmail.com>
Message-ID: <430A2B9E.7020505@copperleaf.org>

Robert Deaton wrote:

>If I remember correct, you should be able to make your own post type
>and just make a blank post for where you want comments to be. Posts
>without one of the pre-defined types by WordPress won't be shown, so
>the user never really has to know.
>
>On 8/20/05, Matthew Mullenweg <m@mullenweg.com> wrote:
>  
>
>>gallery.manager@hiveworks.com wrote:
>>    
>>
>>>I had a look at the WP code but I couldn't find any way to hook into
>>>comments. They seem to be hardwired to posts.
>>>      
>>>
>>Comments must be attached to posts, but posts are extremely flexible in
>>their type. We even have sub-posts.
>>    
>>
I'm curious about this too. The only thing I could find that might 
identify "type" is the post_status column. Because the sql defines it as 
an enum, you can't set it to anything other than 'publish', 'draft', 
'private', 'static', or 'object'. Is there another way of identifying  a 
specially typed post?
From ryan at boren.nu  Tue Aug 23 22:16:36 2005
From: ryan at boren.nu (Ryan Boren)
Date: Wed Aug 24 00:14:22 2005
Subject: [wp-hackers] Importer Rework
Message-ID: <430BA044.4000704@boren.nu>

I committed a very rough attempt at reworking the importers.  We now have an "Import" tab in the admin UI.  The importers themselves are stored in wp-admin/import/.  Here's the flow.

* Clicking on "Import" tab loads import.php.
* import.php loads all importers in wp-admin/import/
* Importers registers themselves with register_importer()
* import.php gets the list of registered importers with get_importers()
* import.php lists importers
* Clicking on importer link loads admin.php?import=xxx
* admin.php does some bootstrapping, loads the requested importer, and
kicks the registered callback
* The callback parses GPC and dispatches appropriately

I've started restructuring the importers as classes.  The RSS and MT importers are underway.  They are just boilerplate at the moment and are not useful except as examples.  If you want to try your hand at porting one of the other importers, have at it.  As part of the porting effort we need to make use of current API (wp_insert_post, etc.) and mark text for translation.

Further, we need to improve how import source files are specified.  Currently, they must reside on the server, and the importers must be edited to point to the file.  Here's what we need to do:

* Allow uploading and importing source file from the user's desktop in one go.  Delete the source file after the import is complete.

* Allow specifying a source file that is already on the server.  We should probably lock this to wp-content.

* Allow importing a source file that lives on the net somewhere (for example, http://get.it/fromhere.txt).  Delete the downloaded file from the server when done with it.

This needs to be easy to do from an importer.  A simple API for posting the necessary forms and getting the filename/filehandle of the bits to import is needed.

Design and implementation suggestions welcome.  I committed what I had simply to have something to argue about. :-)

Ryan

From trevorturk at yahoo.com  Wed Aug 24 05:15:01 2005
From: trevorturk at yahoo.com (Trevor Turk)
Date: Wed Aug 24 05:15:23 2005
Subject: [wp-hackers] Importer Rework
In-Reply-To: <430BA044.4000704@boren.nu>
Message-ID: <20050824051501.25616.qmail@web31810.mail.mud.yahoo.com>

> Design and implementation suggestions welcome.
> Ryan

I think this is great - and I wonder if you really
need to do anything more than allow the user to upload
a file to the server. I think the average person is
going to have no trouble dealing with that. Won't most
export operations would prompt the user to save the
file to their desktop anyway? I'd say pick the easiest
way and go with that.

Also, does this need it's own top level tab? Not to
downplay how cool it is, but it's not an option that
would be used all that often, right? Probably, the
first time would be it for most people.

Trevor
From studio at silencematters.com  Wed Aug 24 15:07:25 2005
From: studio at silencematters.com (jeremy)
Date: Wed Aug 24 19:09:49 2005
Subject: [wp-hackers] .htaccess?
Message-ID: <430C8D2D.8060700@silencematters.com>

Hello there...
I am currently moving the index.php file out of the current directory, 
and into the root. I am using this tutorial here: 
http://codex.wordpress.org/Moving_to_a_new_server

I am needing some help to find the .htaccess file on my server. I am 
using Transmit, I also have access to FileZilla. With both of these 
programs, I cannot seem to find the means to display this file. If 
anyone has had some experience with this, and can lend some advice, I 
would greatly appreciate it.
thanks.
-jeremy

From wordswithstyle at gmail.com  Wed Aug 24 19:16:26 2005
From: wordswithstyle at gmail.com (ifelse)
Date: Wed Aug 24 19:18:22 2005
Subject: [wp-hackers] .htaccess?
In-Reply-To: <430C8D2D.8060700@silencematters.com>
References: <430C8D2D.8060700@silencematters.com>
Message-ID: <c3e03793050824121616950@mail.gmail.com>

You probably need to enable viewing of hidden files. In filezilla, go
to settings and navigate to interface settings-> remote file list.
There's a radio button on the bottom of the options pane.

BTW, this really should be posted to the support forum rather than the
wp-hackers list.

On 8/24/05, jeremy <studio@silencematters.com> wrote:
> Hello there...
> I am currently moving the index.php file out of the current directory,
> and into the root. I am using this tutorial here:
> http://codex.wordpress.org/Moving_to_a_new_server
> 
> I am needing some help to find the .htaccess file on my server. I am
> using Transmit, I also have access to FileZilla. With both of these
> programs, I cannot seem to find the means to display this file. If
> anyone has had some experience with this, and can lend some advice, I
> would greatly appreciate it.
> thanks.
> -jeremy
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
Phu
http://ifelse.co.uk
From skippy at skippy.net  Wed Aug 24 19:18:26 2005
From: skippy at skippy.net (Scott Merrill)
Date: Wed Aug 24 19:18:34 2005
Subject: [wp-hackers] .htaccess?
In-Reply-To: <430C8D2D.8060700@silencematters.com>
References: <430C8D2D.8060700@silencematters.com>
Message-ID: <430CC802.5080903@skippy.net>

jeremy wrote:
> Hello there...
> I am currently moving the index.php file out of the current directory,
> and into the root. I am using this tutorial here:
> http://codex.wordpress.org/Moving_to_a_new_server
> 
> I am needing some help to find the .htaccess file on my server. I am
> using Transmit, I also have access to FileZilla. With both of these
> programs, I cannot seem to find the means to display this file. If
> anyone has had some experience with this, and can lend some advice, I
> would greatly appreciate it.
> thanks.

Requests for support belong on the Support Forums:
http://wordpress.org/support/

.htaccess is a hidden file.  I don't know how you tell FileZilla to
display hidden files.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From dmhouse at gmail.com  Wed Aug 24 09:28:31 2005
From: dmhouse at gmail.com (David House)
Date: Wed Aug 24 19:42:06 2005
Subject: [wp-hackers] Importer Rework
In-Reply-To: <20050824051501.25616.qmail@web31810.mail.mud.yahoo.com>
References: <430BA044.4000704@boren.nu>
	<20050824051501.25616.qmail@web31810.mail.mud.yahoo.com>
Message-ID: <ebe43d68050824022835262365@mail.gmail.com>

On 24/08/05, Trevor Turk <trevorturk@yahoo.com> wrote:
> I think this is great - and I wonder if you really
> need to do anything more than allow the user to upload
> a file to the server. I think the average person is
> going to have no trouble dealing with that. Won't most
> export operations would prompt the user to save the
> file to their desktop anyway?

I agree. Limit the import options to files uploaded: keep the import
system as simple as possible. By the way, I guess uploading will
replace the current system (having to manually edit the importers and
change a define() call), right?

Other than that, it looks great.

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From cicloid at idealabs.tk  Wed Aug 24 15:24:02 2005
From: cicloid at idealabs.tk (Gustavo Barron)
Date: Wed Aug 24 19:55:10 2005
Subject: [wp-hackers] Importer Rework
In-Reply-To: <20050824051501.25616.qmail@web31810.mail.mud.yahoo.com>
References: <20050824051501.25616.qmail@web31810.mail.mud.yahoo.com>
Message-ID: <430C9112.3040303@idealabs.tk>

Trevor Turk wrote:

>>Design and implementation suggestions welcome.
>>Ryan
>>    
>>
>
>I think this is great - and I wonder if you really
>need to do anything more than allow the user to upload
>a file to the server. I think the average person is
>going to have no trouble dealing with that. Won't most
>export operations would prompt the user to save the
>file to their desktop anyway? I'd say pick the easiest
>way and go with that.
>
>Also, does this need it's own top level tab? Not to
>downplay how cool it is, but it's not an option that
>would be used all that often, right? Probably, the
>first time would be it for most people.
>  
>
Maybe we need a new installer, or one that asks if the user is migrating
from other CMS, then send the user to the proper importer.

>Trevor
>_______________________________________________
>wp-hackers mailing list
>wp-hackers@lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>  
>

From dsandler at dsandler.org  Wed Aug 24 18:30:46 2005
From: dsandler at dsandler.org (Dan Sandler)
Date: Wed Aug 24 20:44:04 2005
Subject: [wp-hackers] Trackback Validator plugin now available.
Message-ID: <f803dc6bfd2adffc674f339c8b78304a@dsandler.org>

Dear hackers,

The first public version (v0.5) of the WP Trackback Validator is now 
available from the following URL:

     
http://idli.cs.rice.edu/~dsandler/trackback/trackback-validator-plugin/

The idea behind the Validator [which is under development by students 
in the Rice University Computer Security Lab] is simple: Trackback URLs 
that point to pages that *don't* link back to your blog are bogus.  
It's an easy test to perform, and one that no current Trackback spammer 
is bothering to try to defeat; since we've started using this plugin on 
our personal WP blogs, our Trackback spam rate has dropped to zero.

This test is already present in some other anti-spam plugins, typically 
included among a hodgepodge of other content-based schemes and rules.  
If you're looking for something lightweight that does one job extremely 
well, please check out the Validator.

The point of the project, in addition to helping to combat Trackback 
spam, is to collect *data*.  We're interested in the kinds of spams 
people get, from which sources, at what rate, etc.  We'd like to see 
if, once everyone starts applying the simple reverse-link check, the 
spammers step up their assault.  In order to help us, the Validator 
distribution comes with a small shell script which will send us a 
profile of the spam you've caught recently.

So, in short, to save Trackback from an untimely "death", try out the 
Trackback Validator.  We'd love for you to send us back some data; in 
the meantime, enjoy spam-free Trackbacks on your WordPress site.

Thanks,
Dan Sandler
Rice University

From m at mullenweg.com  Wed Aug 24 20:54:32 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Aug 24 20:55:22 2005
Subject: [wp-hackers] Trackback Validator plugin now available.
In-Reply-To: <f803dc6bfd2adffc674f339c8b78304a@dsandler.org>
References: <f803dc6bfd2adffc674f339c8b78304a@dsandler.org>
Message-ID: <430CDE88.10207@mullenweg.com>

Dan Sandler wrote:
> So, in short, to save Trackback from an untimely "death", try out the 
> Trackback Validator.  We'd love for you to send us back some data; in 
> the meantime, enjoy spam-free Trackbacks on your WordPress site.

You're recreating Pingback in Trackback. ;)

Thanks for the plugin, I forwarded it to a few people to test out.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From false.hopes at gmail.com  Wed Aug 24 20:59:39 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Wed Aug 24 21:00:21 2005
Subject: [wp-hackers] Trackback Validator plugin now available.
In-Reply-To: <430CDE88.10207@mullenweg.com>
References: <f803dc6bfd2adffc674f339c8b78304a@dsandler.org>
	<430CDE88.10207@mullenweg.com>
Message-ID: <a491f91d0508241359783900f0@mail.gmail.com>

It would be incredibly nice if, instead of using a shell script to
send data, it used Snoopy to fire off a request with the data
automatically (with an option to disable it for those who don't want
to send off requests of course).

-- 
--Robert Deaton
http://somethingunpredictable.com
From dsandler at dsandler.org  Wed Aug 24 22:11:13 2005
From: dsandler at dsandler.org (dan sandler)
Date: Wed Aug 24 22:12:10 2005
Subject: [wp-hackers] Trackback Validator plugin now available.
In-Reply-To: <430CDE88.10207@mullenweg.com>
References: <f803dc6bfd2adffc674f339c8b78304a@dsandler.org>
	<430CDE88.10207@mullenweg.com>
Message-ID: <20050824221113.GB11713@dsandler.org>

> You're recreating Pingback in Trackback. ;)

In a way, you're right; it's arguably the best feature of Pingback.
Unfortunately, PB doesn't let Alice specify the text she wants to put
on Bob's blog, limiting its usefulness for leaving coherent comments.
That's one of the nice things about the Trackback idea (i.e., it's a
little more than just a link) but without link checking it's
fundamentally open to abuse.

> Thanks for the plugin, I forwarded it to a few people to test out.

Thanks!

---dan
From m at mullenweg.com  Wed Aug 24 22:16:01 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Aug 24 22:16:59 2005
Subject: [wp-hackers] Trackback Validator plugin now available.
In-Reply-To: <20050824221113.GB11713@dsandler.org>
References: <f803dc6bfd2adffc674f339c8b78304a@dsandler.org>	<430CDE88.10207@mullenweg.com>
	<20050824221113.GB11713@dsandler.org>
Message-ID: <430CF1A1.20202@mullenweg.com>

dan sandler wrote:
> In a way, you're right; it's arguably the best feature of Pingback.
> Unfortunately, PB doesn't let Alice specify the text she wants to put
> on Bob's blog, limiting its usefulness for leaving coherent comments.
> That's one of the nice things about the Trackback idea (i.e., it's a
> little more than just a link) but without link checking it's
> fundamentally open to abuse.

And at the same time you're removing the best feature of Trackback, in 
fact what it was designed for: category aggregation. Trackback doesn't 
require a link back by design, not as a mistake.

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From mark.wordpress at txfx.net  Wed Aug 24 22:47:43 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Wed Aug 24 22:47:34 2005
Subject: [wp-hackers] Trackback Validator plugin now available.
In-Reply-To: <430CF1A1.20202@mullenweg.com>
References: <f803dc6bfd2adffc674f339c8b78304a@dsandler.org>	<430CDE88.10207@mullenweg.com>	<20050824221113.GB11713@dsandler.org>
	<430CF1A1.20202@mullenweg.com>
Message-ID: <430CF90F.9080107@txfx.net>

Matt Mullenweg wrote:

> And at the same time you're removing the best feature of Trackback, in 
> fact what it was designed for: category aggregation. Trackback doesn't 
> require a link back by design, not as a mistake.

The Pingback specification doesn't require links to be verified (I was 
surprised when I came across this in the specification)... although I 
suppose that is a bit different than outright saying that there doesn't 
have to be a link, like with Trackback.

Although, let's face it... somewhere along the way, people got the idea 
that Trackback was meant to indicate a link... probably because of 
Movable Type's auto Trackback discovery for links.  If it doesn't 
require a link, there is a tendency for some people to use them as 
one-way traffic generators (i.e. you get links from the site to which 
you sent the TB, but send none back).  People are inherently selfish, 
which creates the motivation to send such trackbacks (sometimes in cases 
of borderline topicality), and also gives people reason to become 
annoyed when such a TB is received.  And of course, the REAL spam 
started pouring in, and verifying the link became a good way to get rid 
of the spam and if that also meant that legitimate "one-way" Trackbacks 
got lost in the shuffle, well...  not many people were that broken up 
about it.  With this "Trackback-lite" mentality, people do well to 
ponder what the difference is.  If you're verifying links for both 
Trackbacks and Pingbacks, there's not that much of a difference for the 
user.  Really, it's just a matter of which server does the "work" 
(getting the excerpt and site name).

-- 
Mark Jaquith
http://txfx.net/
MCincubus @ #wordpress

From ml_wordpress at copperleaf.org  Thu Aug 25 00:51:19 2005
From: ml_wordpress at copperleaf.org (ml_wordpress@copperleaf.org)
Date: Thu Aug 25 00:51:28 2005
Subject: [wp-hackers] Hooking into Comments
In-Reply-To: <430A2B9E.7020505@copperleaf.org>
References: <14564.80.126.149.221.1124524484.squirrel@80.126.149.221>
	<43078DDF.6080109@mullenweg.com>
	<a491f91d05082013137f59add@mail.gmail.com>
	<430A2B9E.7020505@copperleaf.org>
Message-ID: <430D1607.2040309@copperleaf.org>

Bill Smith wrote:

> Robert Deaton wrote:
>
>> If I remember correct, you should be able to make your own post type
>> and just make a blank post for where you want comments to be. Posts
>> without one of the pre-defined types by WordPress won't be shown, so
>> the user never really has to know.
>>
>> On 8/20/05, Matthew Mullenweg <m@mullenweg.com> wrote:
>>  
>>
>>> gallery.manager@hiveworks.com wrote:
>>>   
>>>
>>>> I had a look at the WP code but I couldn't find any way to hook into
>>>> comments. They seem to be hardwired to posts.
>>>>     
>>>
>>> Comments must be attached to posts, but posts are extremely flexible in
>>> their type. We even have sub-posts.
>>>   
>>
> I'm curious about this too. The only thing I could find that might 
> identify "type" is the post_status column. Because the sql defines it 
> as an enum, you can't set it to anything other than 'publish', 
> 'draft', 'private', 'static', or 'object'. Is there another way of 
> identifying  a specially typed post?

Anyone have any ideas on this?
From denis at semiologic.com  Thu Aug 25 00:55:06 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Thu Aug 25 00:55:19 2005
Subject: [wp-hackers] Hooking into Comments
In-Reply-To: <430D1607.2040309@copperleaf.org>
Message-ID: <000a01c5a90f$a2539f40$0701000a@DB>

sure... alter the table.

D.
   
> >>
> > I'm curious about this too. The only thing I could find that might
> > identify "type" is the post_status column. Because the sql 
> defines it 
> > as an enum, you can't set it to anything other than 'publish', 
> > 'draft', 'private', 'static', or 'object'. Is there another way of 
> > identifying  a specially typed post?
> 
> Anyone have any ideas on this? 

From false.hopes at gmail.com  Thu Aug 25 00:57:57 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Aug 25 00:58:02 2005
Subject: [wp-hackers] Hooking into Comments
In-Reply-To: <000a01c5a90f$a2539f40$0701000a@DB>
References: <430D1607.2040309@copperleaf.org>
	<000a01c5a90f$a2539f40$0701000a@DB>
Message-ID: <a491f91d050824175750240d5f@mail.gmail.com>

I worked with this earlier today. Simply insert everything yourself,
with extremely high comment_post_ids, and nothing complains.

On 8/24/05, Denis de Bernardy <denis@semiologic.com> wrote:
> sure... alter the table.
> 
> D.
> 
> > >>
> > > I'm curious about this too. The only thing I could find that might
> > > identify "type" is the post_status column. Because the sql
> > defines it
> > > as an enum, you can't set it to anything other than 'publish',
> > > 'draft', 'private', 'static', or 'object'. Is there another way of
> > > identifying  a specially typed post?
> >
> > Anyone have any ideas on this?
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From ml_wordpress at copperleaf.org  Thu Aug 25 01:03:05 2005
From: ml_wordpress at copperleaf.org (ml_wordpress@copperleaf.org)
Date: Thu Aug 25 01:03:19 2005
Subject: [wp-hackers] Hooking into Comments
In-Reply-To: <a491f91d050824175750240d5f@mail.gmail.com>
References: <430D1607.2040309@copperleaf.org>
	<000a01c5a90f$a2539f40$0701000a@DB>
	<a491f91d050824175750240d5f@mail.gmail.com>
Message-ID: <430D18C9.7080608@copperleaf.org>

So you took the approach of not inserting a post at all and just used a 
ghost post id. In my case I was going to actually use the post record 
(title, content, etc) but just not display it in the normal fashion. 
Changing the status to a new type did not prevent it from showing up. I 
had to modify the query with the post_where filter and add a ' AND 
post_status != 'mystatus'. That makes me nervous.

Robert Deaton wrote:

>I worked with this earlier today. Simply insert everything yourself,
>with extremely high comment_post_ids, and nothing complains.
>
>On 8/24/05, Denis de Bernardy <denis@semiologic.com> wrote:
>  
>
>>sure... alter the table.
>>
>>D.
>>
>>    
>>
>>>>I'm curious about this too. The only thing I could find that might
>>>>identify "type" is the post_status column. Because the sql
>>>>        
>>>>
>>>defines it
>>>      
>>>
>>>>as an enum, you can't set it to anything other than 'publish',
>>>>'draft', 'private', 'static', or 'object'. Is there another way of
>>>>identifying  a specially typed post?
>>>>        
>>>>
>>>Anyone have any ideas on this?
>>>      
>>>
>>_______________________________________________
>>wp-hackers mailing list
>>wp-hackers@lists.automattic.com
>>http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>    
>>
>
>
>  
>

From dmhouse at gmail.com  Thu Aug 25 07:42:07 2005
From: dmhouse at gmail.com (David House)
Date: Thu Aug 25 07:42:18 2005
Subject: [wp-hackers] Hooking into Comments
In-Reply-To: <430D18C9.7080608@copperleaf.org>
References: <430D1607.2040309@copperleaf.org>
	<000a01c5a90f$a2539f40$0701000a@DB>
	<a491f91d050824175750240d5f@mail.gmail.com>
	<430D18C9.7080608@copperleaf.org>
Message-ID: <ebe43d6805082500423e156335@mail.gmail.com>

On 25/08/05, ml_wordpress@copperleaf.org <ml_wordpress@copperleaf.org> wrote:
> So you took the approach of not inserting a post at all and just used a
> ghost post id. In my case I was going to actually use the post record
> (title, content, etc) but just not display it in the normal fashion.
> Changing the status to a new type did not prevent it from showing up. I
> had to modify the query with the post_where filter and add a ' AND
> post_status != 'mystatus'. That makes me nervous.

Future-date the post. WordPress will ignore any posts with dates in the future.

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From dmhouse at gmail.com  Thu Aug 25 07:41:08 2005
From: dmhouse at gmail.com (David House)
Date: Thu Aug 25 07:45:05 2005
Subject: [wp-hackers] .htaccess?
In-Reply-To: <430CC802.5080903@skippy.net>
References: <430C8D2D.8060700@silencematters.com> <430CC802.5080903@skippy.net>
Message-ID: <ebe43d680508250041765bde0e@mail.gmail.com>

> .htaccess is a hidden file.  I don't know how you tell FileZilla to
> display hidden files.

Just View->Show Hidden Files.

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From wp at igeek.info  Thu Aug 25 11:24:12 2005
From: wp at igeek.info (Amit Gupta)
Date: Thu Aug 25 11:24:33 2005
Subject: [wp-hackers] Trackback Validator plugin now available.
References: <f803dc6bfd2adffc674f339c8b78304a@dsandler.org>	<430CDE88.10207@mullenweg.com><20050824221113.GB11713@dsandler.org>
	<430CF1A1.20202@mullenweg.com>
Message-ID: <004c01c5a967$8b5b76c0$57ebd4cb@unicorn>

Matt Mullenweg wrote:
------------------------------------------------
| And at the same time you're removing the best feature of Trackback, in
| fact what it was designed for: category aggregation. Trackback doesn't
| require a link back by design, not as a mistake.
Yep, that's sort of right!! Its no doubt that this plugin will eliminate 
almost all of Trackback SPAM, but then, there will be a lot of false 
positives as well, because people who generally use Trackback, they 
don't link to (all)the websites/blogs where they are sending trackbacks.

Like say I'm posting about a news story from c|net, so I'll link to it & 
send a trackback there as well, but if there's someone else I know who 
has posted his views on that same story, I'll be sending a Trackback to 
his post as well to let him know that I've posted my views on the same 
story, but then I won't be linking to his post from my post. So? The 
plugin running on that person's blog will deem my trackback as SPAM 
since it won't find any link back & thus my trackback will be deep-sixed 
even though it was perfectly legit!!

------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050825/b3214084/attachment.html
From dsandler at dsandler.org  Thu Aug 25 15:59:09 2005
From: dsandler at dsandler.org (Dan Sandler)
Date: Thu Aug 25 15:59:17 2005
Subject: [wp-hackers] Trackback Validator plugin now available.
In-Reply-To: <004c01c5a967$8b5b76c0$57ebd4cb@unicorn>
References: <f803dc6bfd2adffc674f339c8b78304a@dsandler.org>	<430CDE88.10207@mullenweg.com><20050824221113.GB11713@dsandler.org>
	<430CF1A1.20202@mullenweg.com>
	<004c01c5a967$8b5b76c0$57ebd4cb@unicorn>
Message-ID: <a217d8ce6d12e630e79792333d0978c2@dsandler.org>

> Its no doubt that this plugin will eliminate almost all of Trackback 
> SPAM, but then, there will be a lot of false positives as well, 
> because people who generally use Trackback, they don't link to 
> (all)the websites/blogs where they are sending trackbacks.  [example 
> given]

So, this is an interesting question.  Is Trackback-without-link that 
common a use case?

[In my own personal experience, I don't think I've ever TB'd a site 
without sending a URL (thanks to WordPress doing the right thing), and 
I can't remember ever having received a URL-less TB.  (But my mileage 
varies, apparently.)]

My personal opinion is that "provide a URL if you want to Trackback me" 
is a reasonable limitation to place on the technology in order to curb 
abuse, but if linkless Trackbacks make up more than (say) 25% of all 
valid TBs, I guess it's not so reasonable.

---dan

From dougal at gunters.org  Thu Aug 25 18:30:16 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Thu Aug 25 18:30:32 2005
Subject: [wp-hackers] Hooking into Comments
In-Reply-To: <ebe43d6805082500423e156335@mail.gmail.com>
References: <430D1607.2040309@copperleaf.org>	<000a01c5a90f$a2539f40$0701000a@DB>	<a491f91d050824175750240d5f@mail.gmail.com>	<430D18C9.7080608@copperleaf.org>
	<ebe43d6805082500423e156335@mail.gmail.com>
Message-ID: <430E0E38.6090500@gunters.org>

David House wrote:
> On 25/08/05, ml_wordpress@copperleaf.org <ml_wordpress@copperleaf.org> wrote:
> 
>>So you took the approach of not inserting a post at all and just used a
>>ghost post id. In my case I was going to actually use the post record
>>(title, content, etc) but just not display it in the normal fashion.
>>Changing the status to a new type did not prevent it from showing up. I
>>had to modify the query with the post_where filter and add a ' AND
>>post_status != 'mystatus'. That makes me nervous.
> 
> 
> Future-date the post. WordPress will ignore any posts with dates in the future.
> 

I was about to suggest something similar: associate the comments with a 
'draft' post or page, then just never publish it.

Another possibility: The comment_post_id field is a signed integer. 
Associate them with a negative post_id. If you have unique numeric 
identifiers for the pictures and galleries, this even gives you an easy 
way to connect the comments to them.

However, I wouldn't rely on this to keep working in the future versions, 
because I'm about to post a bug about the field type mismatch between 
posts.ID and comments.comment_post_ID :)

Your best bet is probably to associate with an unpublished post, and use 
the comment_karma field to track the comment's "real" parent.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From dougal at gunters.org  Thu Aug 25 18:50:20 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Thu Aug 25 18:50:34 2005
Subject: [wp-hackers] Trackback Validator plugin now available.
In-Reply-To: <a217d8ce6d12e630e79792333d0978c2@dsandler.org>
References: <f803dc6bfd2adffc674f339c8b78304a@dsandler.org>	<430CDE88.10207@mullenweg.com><20050824221113.GB11713@dsandler.org>	<430CF1A1.20202@mullenweg.com>	<004c01c5a967$8b5b76c0$57ebd4cb@unicorn>
	<a217d8ce6d12e630e79792333d0978c2@dsandler.org>
Message-ID: <430E12EC.1000504@gunters.org>

Dan Sandler wrote:
>> Its no doubt that this plugin will eliminate almost all of Trackback 
>> SPAM, but then, there will be a lot of false positives as well, 
>> because people who generally use Trackback, they don't link to 
>> (all)the websites/blogs where they are sending trackbacks.  [example 
>> given]
> 
> 
> So, this is an interesting question.  Is Trackback-without-link that 
> common a use case?

That probably depends on 1) who you ask, and 2) your definition of 
"common" :)

> [In my own personal experience, I don't think I've ever TB'd a site 
> without sending a URL (thanks to WordPress doing the right thing), and I 
> can't remember ever having received a URL-less TB.  (But my mileage 
> varies, apparently.)]

I've both sent and received legitimate trackbacks without reciprocal 
linkage. However, I'd say that it's not a frequent occurence. Most of 
the time I'm only trackbacking something that I'm linking to.

> My personal opinion is that "provide a URL if you want to Trackback me" 
> is a reasonable limitation to place on the technology in order to curb 
> abuse, but if linkless Trackbacks make up more than (say) 25% of all 
> valid TBs, I guess it's not so reasonable.

Providing the option to send them to moderation would probably be good.

Personally, I've found that a well-populated set of moderation and 
blacklist keys keeps my site pretty clean. Every once in a while I see 
spurts of some new type of spam run that makes it through. But those 
just become new data for the spam words.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From wp at igeek.info  Fri Aug 26 05:52:26 2005
From: wp at igeek.info (Amit Gupta)
Date: Fri Aug 26 05:52:43 2005
Subject: [wp-hackers] Trackback Validator plugin now available.
References: <f803dc6bfd2adffc674f339c8b78304a@dsandler.org>	<430CDE88.10207@mullenweg.com><20050824221113.GB11713@dsandler.org>	<430CF1A1.20202@mullenweg.com>	<004c01c5a967$8b5b76c0$57ebd4cb@unicorn><a217d8ce6d12e630e79792333d0978c2@dsandler.org>
	<430E12EC.1000504@gunters.org>
Message-ID: <001a01c5aa02$59145b50$57ebd4cb@unicorn>

Dougal Campbell wrote:
| Providing the option to send them to moderation would probably be 
good.

yeah, I also agree with that, but then, all of trackback SPAM will also 
end up in the
Moderation queue & its as good as setting the "Moderate All Comments" 
option in
WordPress. This is why I didn't think that it would be quite practical 
to use this kind
of plugin, too much of a loose end, its a good idea(I had the same idea 
sometime
back when we were discussing anti-spam measures aggressively & Kitty 
came out
with Spaminator, I wrote some of this plugin but then stopped, because 
of the same
reasons I found it im-practical) but not much practical.

Basically, for this plugin to be somewhat practical, it would need to do 
more than what
it does. It'll need to have a sort of blacklisting where it compares the 
trackbacks
against the blacklist & looks for URL and word matches and then also 
sees if the URI
sent in trackback has your link & then it should decide whether to 
deep-six it or put it
in moderation. This brings us back to anti-spam plugins like SpamKarma 
which I believe
this sort of matches & assigns Karma to every task & evaluate the fate 
of a trackback
or comment based on it.

------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050826/0c2c7b42/attachment.html
From dsandler at dsandler.org  Fri Aug 26 13:45:05 2005
From: dsandler at dsandler.org (Dan Sandler)
Date: Fri Aug 26 13:45:47 2005
Subject: [wp-hackers] Trackback Validator plugin now available.
In-Reply-To: <001a01c5aa02$59145b50$57ebd4cb@unicorn>
References: <f803dc6bfd2adffc674f339c8b78304a@dsandler.org>	<430CDE88.10207@mullenweg.com><20050824221113.GB11713@dsandler.org>	<430CF1A1.20202@mullenweg.com>	<004c01c5a967$8b5b76c0$57ebd4cb@unicorn><a217d8ce6d12e630e79792333d0978c2@dsandler.org>
	<430E12EC.1000504@gunters.org>
	<001a01c5aa02$59145b50$57ebd4cb@unicorn>
Message-ID: <f3bdee113c5488d0340a2fb6c87d45ed@dsandler.org>

> yeah, I also agree with that, but then, all of trackback SPAM will 
> also end up in the Moderation queue & its as good as setting the 
> "Moderate All Comments" option in WordPress.

This is true for spam (or suspected spam), but valid trackbacks would 
end up on the website immediately, which you wouldn't get with 
"Moderate All Comments".

> Basically, for this plugin to be somewhat practical, it would need to 
> do more than what it does. It'll need to have a sort of blacklisting 
> where it compares the trackbacks against the blacklist & looks for URL 
> and word matches and then also sees if the?URI sent in?trackback has 
> your link & then it should decide whether to deep-six it or put it in 
> moderation. This brings us back to anti-spam plugins like SpamKarma 
> which I believe this sort of matches & assigns Karma to every task & 
> evaluate the fate of a trackback or comment based on it.

It's true that this approach is more tolerant of Trackback that doesn't 
fit the simpler model and assumptions of the Validator.  However, we 
chose not to implement all that additional content-based stuff for a 
couple of reasons:

1. It introduces confounding variables in our study.  That is, because 
we want to observe how effective link checking is in combatting 
Trackback spam, we aren't currently interested in throwing other 
heuristics in there alongside that technique.

2. In our experience, that technique caught all the spam and none of 
the ham.

I appreciate all the thoughtful feedback we've received from this 
group.  I encourage you to try the plugin if you're not already using 
some other anti-spam measures (or even if you are), and then report 
back to us if you see the plugin make the wrong call.  Hard data 
(especially if you receive a Trackback tomorrow that the Validator 
misclassifies) is what we're after, in the end.

Thanks again,
---dan
From unteins at gmail.com  Sat Aug 27 13:38:49 2005
From: unteins at gmail.com (Jason goldsmith)
Date: Sat Aug 27 13:38:55 2005
Subject: [wp-hackers] ClassIXR.php problem
Message-ID: <5c4231d5050827063871b0943d@mail.gmail.com>

Hi Folks,

For those of you who have no idea who I am, I develop the Live+Press
plugin for synching WordPress and LiveJournal. I ran into a problem
with WordPress 1.2 about a year ago involving the class-IXR.php.
Michel V. asked me to get in touch with Simon and I wrote him
essentially the following e-mail. I got no response, but since the
library is still breaking in my plugin, I need to address the issue to
the greater community now.

Here is what happens and what I did that appears to fix the problem:

Problem:

I am using the XMLRPC client to get information from Live Journals
XMLRPC server (http://www.livejournal.com/doc/server/ljp.csp.xml-rpc.protocol.html)
using the login method. If the response contains very large amounts of
data, it appears the it is broken into lines (from reading the source
it looks like the break is every 4096 bytes) and a line break is
inserted.

When this is parsed into an array, it appears that the extra line
breaks are causing a problem and the array is not being created. When
I try to use the array PHP tells me that it doesn't exist. If the data
returned is small, then the extra line breaks aren't inserted and
everything seems to be ok.

I used the debug mode to dump the xml to the browser and I can see
that the xml dumped to the browser has a line break in the middle of
an xml entity. If I save the xml to a file and try to open it in an
xml reader, I get an error saying that it is not well formed. If I
remove the extra line breaks, then the xml reader will open the file.

Fix: On line 529 of the classIXR.php file I changed 
from: $contents .= trim($line)."\n";
to: $contents .= trim($line);

I am not sure if my fix is valid or not, it seems to solve the problem
in this case and doesn't appear to cause any additional problems, but
I am not familiar enough with XMLRPC to really evaluate whether or not
that is generally true.

If this is valid, how do we get it moved into the WordPress
distribution so that this issue dies once and for all. I have been
telling people to overwrite the file with my edit at their own risk,
which as you can imagine doesn't inspire great confidence.

Unteins (Jason Goldsmith)
http://somuchgeek.com
From greg at fotonotes.net  Sat Aug 27 14:10:41 2005
From: greg at fotonotes.net (Greg Elin)
Date: Sat Aug 27 14:10:49 2005
Subject: [wp-hackers] ClassIXR.php problem
In-Reply-To: <5c4231d5050827063871b0943d@mail.gmail.com>
References: <5c4231d5050827063871b0943d@mail.gmail.com>
Message-ID: <EFC2B850-564D-4E3A-92ED-4B05CEB2B82F@fotonotes.net>

Jason,

What version of PHP are you using? FWIW, the xml parsing tools in  
PHP5 are a big improvement.

Greg

On Aug 27, 2005, at 8:38 AM, Jason goldsmith wrote:

> Hi Folks,
>
> For those of you who have no idea who I am, I develop the Live+Press
> plugin for synching WordPress and LiveJournal. I ran into a problem
> with WordPress 1.2 about a year ago involving the class-IXR.php.
> Michel V. asked me to get in touch with Simon and I wrote him
> essentially the following e-mail. I got no response, but since the
> library is still breaking in my plugin, I need to address the issue to
> the greater community now.
>
> Here is what happens and what I did that appears to fix the problem:
>
> Problem:
>
> I am using the XMLRPC client to get information from Live Journals
> XMLRPC server (http://www.livejournal.com/doc/server/ljp.csp.xml- 
> rpc.protocol.html)
> using the login method. If the response contains very large amounts of
> data, it appears the it is broken into lines (from reading the source
> it looks like the break is every 4096 bytes) and a line break is
> inserted.
>
> When this is parsed into an array, it appears that the extra line
> breaks are causing a problem and the array is not being created. When
> I try to use the array PHP tells me that it doesn't exist. If the data
> returned is small, then the extra line breaks aren't inserted and
> everything seems to be ok.
>
> I used the debug mode to dump the xml to the browser and I can see
> that the xml dumped to the browser has a line break in the middle of
> an xml entity. If I save the xml to a file and try to open it in an
> xml reader, I get an error saying that it is not well formed. If I
> remove the extra line breaks, then the xml reader will open the file.
>
> Fix: On line 529 of the classIXR.php file I changed
> from: $contents .= trim($line)."\n";
> to: $contents .= trim($line);
>
> I am not sure if my fix is valid or not, it seems to solve the problem
> in this case and doesn't appear to cause any additional problems, but
> I am not familiar enough with XMLRPC to really evaluate whether or not
> that is generally true.
>
> If this is valid, how do we get it moved into the WordPress
> distribution so that this issue dies once and for all. I have been
> telling people to overwrite the file with my edit at their own risk,
> which as you can imagine doesn't inspire great confidence.
>
> Unteins (Jason Goldsmith)
> http://somuchgeek.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From unteins at gmail.com  Sat Aug 27 14:18:25 2005
From: unteins at gmail.com (Jason goldsmith)
Date: Sat Aug 27 14:18:29 2005
Subject: [wp-hackers] ClassIXR.php problem
In-Reply-To: <EFC2B850-564D-4E3A-92ED-4B05CEB2B82F@fotonotes.net>
References: <5c4231d5050827063871b0943d@mail.gmail.com>
	<EFC2B850-564D-4E3A-92ED-4B05CEB2B82F@fotonotes.net>
Message-ID: <5c4231d5050827071858d21908@mail.gmail.com>

I am using 4.3.8, but I believe WordPress uses class-IXR.php so in
theory WordPress could be affected by the same problem. Also, it would
seem that if class-IXR.php is creating poorly formed XML then that has
to be addressed to keep WordPress standards compliant.

Unteins (Jason Goldsmith)
http://somuchgeek.com
From peasant at gmail.com  Sat Aug 27 14:55:10 2005
From: peasant at gmail.com (Sam Angove)
Date: Sat Aug 27 14:55:13 2005
Subject: [wp-hackers] ClassIXR.php problem
In-Reply-To: <5c4231d5050827063871b0943d@mail.gmail.com>
References: <5c4231d5050827063871b0943d@mail.gmail.com>
Message-ID: <aa74b19105082707557bc21356@mail.gmail.com>

On 8/27/05, Jason goldsmith <unteins@gmail.com> wrote:
> Hi Folks,
>
> If this is valid, how do we get it moved into the WordPress
> distribution so that this issue dies once and for all. I have been
> telling people to overwrite the file with my edit at their own risk,
> which as you can imagine doesn't inspire great confidence.

Submit a ticket at the bug tracker:

   <http://trac.wordpress.org/newticket>

FWIW, your fix is fine, it just makes the output harder to read if
you're debugging the XML. You can always do something like:

if (strstr($line, "\n")
    $contents .= trim($line)."\n";
else
    $contents .= trim($line);
From unteins at gmail.com  Sun Aug 28 06:15:47 2005
From: unteins at gmail.com (Unteins)
Date: Sun Aug 28 06:15:41 2005
Subject: [wp-hackers] ClassIXR.php problem
In-Reply-To: <aa74b19105082707557bc21356@mail.gmail.com>
References: <5c4231d5050827063871b0943d@mail.gmail.com>
	<aa74b19105082707557bc21356@mail.gmail.com>
Message-ID: <58F7EE2C-D1D6-40E1-BF31-532A51911D83@gmail.com>

I will submit a ticket. I will also take a quick look to see if I  
can't produce a better fix than that.

Basically the right thing to do is probably test to see if we are in  
debug mode and if so, add the /n, or better would be to break the  
lines at 4096 bytes approximately but making sure not to destroy and  
entity in the process.

Its too bad Tidy isn't a standard part of PHP, so we could use that  
to clean it up.


On Aug 27, 2005, at 7:55 AM, Sam Angove wrote:

> On 8/27/05, Jason goldsmith <unteins@gmail.com> wrote:
>
>> Hi Folks,
>>
>> If this is valid, how do we get it moved into the WordPress
>> distribution so that this issue dies once and for all. I have been
>> telling people to overwrite the file with my edit at their own risk,
>> which as you can imagine doesn't inspire great confidence.
>>
>
> Submit a ticket at the bug tracker:
>
>    <http://trac.wordpress.org/newticket>
>
> FWIW, your fix is fine, it just makes the output harder to read if
> you're debugging the XML. You can always do something like:
>
> if (strstr($line, "\n")
>     $contents .= trim($line)."\n";
> else
>     $contents .= trim($line);
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peasant at gmail.com  Sun Aug 28 06:37:58 2005
From: peasant at gmail.com (Sam Angove)
Date: Sun Aug 28 06:38:02 2005
Subject: [wp-hackers] ClassIXR.php problem
In-Reply-To: <58F7EE2C-D1D6-40E1-BF31-532A51911D83@gmail.com>
References: <5c4231d5050827063871b0943d@mail.gmail.com>
	<aa74b19105082707557bc21356@mail.gmail.com>
	<58F7EE2C-D1D6-40E1-BF31-532A51911D83@gmail.com>
Message-ID: <aa74b1910508272337766d8930@mail.gmail.com>

On 8/28/05, Unteins <unteins@gmail.com> wrote:
> I will submit a ticket. I will also take a quick look to see if I
> can't produce a better fix than that.
> 
> Basically the right thing to do is probably test to see if we are in
> debug mode and if so, add the /n, or better would be to break the
> lines at 4096 bytes approximately but making sure not to destroy and
> entity in the process.

Now that I look at it again, it shouldn't be trim()ming at all, since
it's probably causing words to run together when a space happens to
fall at the beginning or end of a chunk. Surely the XML parser isn't
going to choke on whitespace?
From ringmaster at midnightcircus.com  Mon Aug 29 21:05:49 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Mon Aug 29 21:06:22 2005
Subject: [wp-hackers] rel=archives
Message-ID: <431378AD.3070704@midnightcircus.com>

What purpose do the <link rel='archives' ...> tags serve?  What 
application consumes those tags?

Owen

From fd at firasd.org  Mon Aug 29 23:48:33 2005
From: fd at firasd.org (Firas D.)
Date: Mon Aug 29 23:48:54 2005
Subject: [wp-hackers] rel=archives
In-Reply-To: <431378AD.3070704@midnightcircus.com>
References: <431378AD.3070704@midnightcircus.com>
Message-ID: <43139ED1.4040208@firasd.org>

Ooh, let's have a markup geekery mud wrestle. My contribution: we need 
to use rel = next and previous, and replace rel archives with rel = 
contents.

Owen Winkler wrote:

> What purpose do the <link rel='archives' ...> tags serve?  What 
> application consumes those tags?
>
> Owen

-- 
http://firasd.org

From ringmaster at midnightcircus.com  Tue Aug 30 00:00:27 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Aug 30 00:02:25 2005
Subject: [wp-hackers] rel=archives
In-Reply-To: <43139ED1.4040208@firasd.org>
References: <431378AD.3070704@midnightcircus.com> <43139ED1.4040208@firasd.org>
Message-ID: <4313A19B.6090200@midnightcircus.com>

Firas D. wrote:

> Ooh, let's have a markup geekery mud wrestle. My contribution: we need 
> to use rel = next and previous, and replace rel archives with rel = 
> contents.

Well, let's tag-team, then, because I'm down with that suggestion.  At 
least one browser supports it.

Owen


From kaf at szub.net  Tue Aug 30 00:21:24 2005
From: kaf at szub.net (Kaf Oseo)
Date: Tue Aug 30 00:21:58 2005
Subject: [wp-hackers] rel=archives
In-Reply-To: <43139ED1.4040208@firasd.org>
References: <431378AD.3070704@midnightcircus.com> <43139ED1.4040208@firasd.org>
Message-ID: <4313A684.3040901@szub.net>

Firas D. wrote:
> Ooh, let's have a markup geekery mud wrestle. My contribution: we need 
> to use rel = next and previous, and replace rel archives with rel = 
> contents.

I win.

http://guff.szub.net/wp-content/sourceprt.php?file=meta-relationship-links.php

-Kaf

P.S. Not sure what would be collected for a rel=contents tag.
From ringmaster at midnightcircus.com  Tue Aug 30 00:37:02 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Aug 30 00:38:05 2005
Subject: [wp-hackers] rel=archives
In-Reply-To: <4313A684.3040901@szub.net>
References: <431378AD.3070704@midnightcircus.com> <43139ED1.4040208@firasd.org>
	<4313A684.3040901@szub.net>
Message-ID: <4313AA2E.3010208@midnightcircus.com>

Kaf Oseo wrote:

> I win.
>
> http://guff.szub.net/wp-content/sourceprt.php?file=meta-relationship-links.php 
>

Neat.  Can we put that in the core?

Here's rel="contents":
http://216.239.39.104/translate_c?u=http://www.edition-w3.de/TR/1999/REC-html401-19991224/struct/links.html#h-12.1.2

Owen


From kaf at szub.net  Tue Aug 30 00:52:22 2005
From: kaf at szub.net (Kaf Oseo)
Date: Tue Aug 30 00:52:58 2005
Subject: [wp-hackers] rel=archives
In-Reply-To: <4313AA2E.3010208@midnightcircus.com>
References: <431378AD.3070704@midnightcircus.com>
	<43139ED1.4040208@firasd.org>	<4313A684.3040901@szub.net>
	<4313AA2E.3010208@midnightcircus.com>
Message-ID: <4313ADC6.5080906@szub.net>

Owen Winkler wrote:
> Kaf Oseo wrote:
> 
>> I win.
>>
>> http://guff.szub.net/wp-content/sourceprt.php?file=meta-relationship-links.php 
>>
> 
> 
> Neat.  Can we put that in the core?

Why not. It's GPL'ed. ;)

If you do, make sure to rename the function. Let's not repeat the
ent2ncr incident. You may want to revisit the file I linked. Since
I hadn't yet released it for public use, I wasn't originally doing
any sanity filtering on post titles.

> Here's rel="contents":
> http://216.239.39.104/translate_c?u=http://www.edition-w3.de/TR/1999/REC-html401-19991224/struct/links.html#h-12.1.2 

Oh, I understand what rel=contents is for. I'm just not sure what
in a WordPress blog would represent it.

-Kaf
From kaf at szub.net  Tue Aug 30 01:11:19 2005
From: kaf at szub.net (Kaf Oseo)
Date: Tue Aug 30 01:11:38 2005
Subject: [wp-hackers] rel=archives
In-Reply-To: <4313ADC6.5080906@szub.net>
References: <431378AD.3070704@midnightcircus.com>	<43139ED1.4040208@firasd.org>	<4313A684.3040901@szub.net>	<4313AA2E.3010208@midnightcircus.com>
	<4313ADC6.5080906@szub.net>
Message-ID: <4313B237.1020303@szub.net>

By the way, turns out I was not first into the ring:

http://xmouse.ithium.net/essays/linkrels-another-wordpress-plugin/

(Really should google these plugin ideas of mine...)

-Kaf
From r at schestowitz.com  Tue Aug 30 16:14:24 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Tue Aug 30 16:14:32 2005
Subject: [wp-hackers] WordPress Leaks PageRank?
Message-ID: <20050830171424.3opg6tqtplqocgw8@banana.catalyst2.com>

A certain issue that rarely gets discussed in this mailing list is SEO
characteristics of WordPress. I am aware that Matt read a book on the topic
some time in the past, but I have critically been looking at possible flaws. I
have asked in the SEO newsgroup about it and even searched the Internet, but
no-one seems to return a definite answer.

You probably know that all objects in your Webspace get treated equally, even if
they are XML-formatted files. Each such object gets assigned ranks/merit by the
search engines. This possibly includes your RSS feed, as well as RSS by
category, RSS for search queries and so forth. If you provide feeds for
individual entries (as many do), the number of feeds is proportional to the
number of published items.

I have just checked some of the notable sites which run atop WordPress 1.5 and
might be called "model sites". In all circumstances I see that RSS feeds for
individual entries are permitted to absorb energy (e.g. Google PageRank). Would
it not be sensible to rel="nofollow" such objects? These 'pages' get indexed and
dilute ranks. I noticed the same issue cropping up when implementing a lighter
page layout and PDF equivalents so I nofollow'ed them. There was no penalty as
a result. Would it not be sensible to hard-code rel="nofollow" in more places
in out-of-the-box WordPress? Certain items that may be valuable to users simply
add clutter to the search engines. If SEO is beyond the scope of this list, I
would understand and apologise in advance.

Thanks for any advice you may have,

Roy

-- 
Roy S. Schestowitz
http://Schestowitz.com
From dmhouse at gmail.com  Tue Aug 30 18:09:57 2005
From: dmhouse at gmail.com (David House)
Date: Tue Aug 30 19:15:49 2005
Subject: [wp-hackers] rel=archives
In-Reply-To: <4313B237.1020303@szub.net>
References: <431378AD.3070704@midnightcircus.com> <43139ED1.4040208@firasd.org>
	<4313A684.3040901@szub.net> <4313AA2E.3010208@midnightcircus.com>
	<4313ADC6.5080906@szub.net> <4313B237.1020303@szub.net>
Message-ID: <ebe43d6805083011094ff8d04d@mail.gmail.com>

On 30/08/05, Kaf Oseo <kaf@szub.net> wrote:
> By the way, turns out I was not first into the ring:
> 
> http://xmouse.ithium.net/essays/linkrels-another-wordpress-plugin/
> 
> (Really should google these plugin ideas of mine...)

Heh. Just about to point that one out (it's mine :))

By the way, official site at http://xmouse.ithium.net/wiki/linkrels

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From christian.balzer at gmail.com  Tue Aug 30 21:58:11 2005
From: christian.balzer at gmail.com (Christian Balzer (TigerDE2))
Date: Tue Aug 30 21:58:19 2005
Subject: [wp-hackers] [Off Topic] PHP Editors You Use/Recommend?
Message-ID: <835be1c005083014581cc1a6a4@mail.gmail.com>

Hi everyone!

I'm asking here because I am sure you are using one nearly every day:
Could you recommend a good PHP editor, please?
I'm especially looking for a Win32 one, but I'm also interested in editors 
for all other OS.
Your feedback is much appreciated. :)

Thanks,
Christian
P.S.: UTF-8 support is a must have...
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050830/439c7273/attachment.htm
From podz at tamba2.org.uk  Tue Aug 30 22:05:29 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Aug 30 22:04:45 2005
Subject: [wp-hackers] [Off Topic] PHP Editors You Use/Recommend?
In-Reply-To: <835be1c005083014581cc1a6a4@mail.gmail.com>
References: <835be1c005083014581cc1a6a4@mail.gmail.com>
Message-ID: <4314D829.9000500@tamba2.org.uk>

Christian Balzer (TigerDE2) wrote:
> Hi everyone!
> 
> I'm asking here because I am sure you are using one nearly every day:
> Could you recommend a good PHP editor, please?
> I'm especially looking for a Win32 one, but I'm also interested in 
> editors for all other OS.
> Your feedback is much appreciated. :)

Matt started this thread a while ago
http://wordpress.org/support/topic/4839
and this popped up later:
http://wordpress.org/support/topic/17157

P.
From m at mullenweg.com  Wed Aug 31 02:19:53 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Wed Aug 31 02:20:02 2005
Subject: [wp-hackers] Posting still slow
Message-ID: <431513C9.5030204@mullenweg.com>

I've been finding even with #1580 http://trac.wordpress.org/ticket/1580 
posting can still be really slow. Anybody have additional ideas for ways 
we can make this part of the WP experience more streamlined?

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From m at mullenweg.com  Wed Aug 31 02:20:59 2005
From: m at mullenweg.com (Matthew Mullenweg)
Date: Wed Aug 31 02:21:05 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <431513C9.5030204@mullenweg.com>
References: <431513C9.5030204@mullenweg.com>
Message-ID: <4315140B.2080503@mullenweg.com>

Matthew Mullenweg wrote:
> I've been finding even with #1580 http://trac.wordpress.org/ticket/1580 
> posting can still be really slow. Anybody have additional ideas for ways 
> we can make this part of the WP experience more streamlined?

To start things off:

We could just publish the post, then have an iframe in the results page 
that calls the script that does all the heavy lifting.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From skeltoac at gmail.com  Wed Aug 31 02:26:44 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Wed Aug 31 02:26:49 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <4315140B.2080503@mullenweg.com>
References: <431513C9.5030204@mullenweg.com> <4315140B.2080503@mullenweg.com>
Message-ID: <e6ec604d05083019262738fd20@mail.gmail.com>

On 8/30/05, Matthew Mullenweg <m@mullenweg.com> wrote:
> Matthew Mullenweg wrote:
> > I've been finding even with #1580 http://trac.wordpress.org/ticket/1580
> > posting can still be really slow. Anybody have additional ideas for ways
> > we can make this part of the WP experience more streamlined?
> 
> To start things off:
> 
> We could just publish the post, then have an iframe in the results page
> that calls the script that does all the heavy lifting.

Off the top of my head, another possibility is to have the results
page call the heavy lifter in a new thread via
file(get_settings('home') . $script_path) and then exit rapidly.

Andy Skelton
http://www.skeltoac.com
From false.hopes at gmail.com  Wed Aug 31 03:46:57 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Wed Aug 31 03:47:00 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <e6ec604d05083019262738fd20@mail.gmail.com>
References: <431513C9.5030204@mullenweg.com> <4315140B.2080503@mullenweg.com>
	<e6ec604d05083019262738fd20@mail.gmail.com>
Message-ID: <a491f91d05083020467f10f839@mail.gmail.com>

A couple people also noted that it looks like some pings are still
being sent before the page is output. Perhaps an implicit buffer flush
before we start the pingbacks and trackbacks would guarantee that the
page shows up before the pings are sent.

A few other noticable problems that would make it slow still is
enabling gzip compression. Since it waits until everything is finished
and then compresses, even pingbacks and trackbacks have to be sent.
Perhaps disabling gzip compression in the admin section would also
speed things up considerably.

On 8/30/05, Andy Skelton <skeltoac@gmail.com> wrote:
> On 8/30/05, Matthew Mullenweg <m@mullenweg.com> wrote:
> > Matthew Mullenweg wrote:
> > > I've been finding even with #1580 http://trac.wordpress.org/ticket/1580
> > > posting can still be really slow. Anybody have additional ideas for ways
> > > we can make this part of the WP experience more streamlined?
> >
> > To start things off:
> >
> > We could just publish the post, then have an iframe in the results page
> > that calls the script that does all the heavy lifting.
> 
> Off the top of my head, another possibility is to have the results
> page call the heavy lifter in a new thread via
> file(get_settings('home') . $script_path) and then exit rapidly.
> 
> Andy Skelton
> http://www.skeltoac.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From m at mullenweg.com  Wed Aug 31 03:50:09 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Aug 31 03:50:13 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <a491f91d05083020467f10f839@mail.gmail.com>
References: <431513C9.5030204@mullenweg.com>
	<4315140B.2080503@mullenweg.com>	<e6ec604d05083019262738fd20@mail.gmail.com>
	<a491f91d05083020467f10f839@mail.gmail.com>
Message-ID: <431528F1.7050906@mullenweg.com>

Robert Deaton wrote:
> A couple people also noted that it looks like some pings are still
> being sent before the page is output. Perhaps an implicit buffer flush
> before we start the pingbacks and trackbacks would guarantee that the
> page shows up before the pings are sent.

I just removed a buffer flush that seems to have been causing posting 
errors.

> A few other noticable problems that would make it slow still is
> enabling gzip compression. Since it waits until everything is finished
> and then compresses, even pingbacks and trackbacks have to be sent.
> Perhaps disabling gzip compression in the admin section would also
> speed things up considerably.

We already do for the built-in compression, I believe, but we can't do 
anything about mod_gzip without adding a .htaccess that may or may not work.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From false.hopes at gmail.com  Wed Aug 31 04:12:47 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Wed Aug 31 04:12:50 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <431528F1.7050906@mullenweg.com>
References: <431513C9.5030204@mullenweg.com> <4315140B.2080503@mullenweg.com>
	<e6ec604d05083019262738fd20@mail.gmail.com>
	<a491f91d05083020467f10f839@mail.gmail.com>
	<431528F1.7050906@mullenweg.com>
Message-ID: <a491f91d050830211226400e6@mail.gmail.com>

This is more along the lines of what I was thinking. I didn't test
extensively, but it does seem to cut off even more time posting. I
don't have mod_gzip enabled, and that will probably always be a
problem since no matter what you do apache waits until the end to send
output.

Index: wp-includes/functions-post.php
===================================================================
--- wp-includes/functions-post.php      (revision 2832)
+++ wp-includes/functions-post.php      (working copy)
@@ -154,6 +154,7 @@
 
        if ($post_status == 'publish') {
                do_action('publish_post', $post_ID);
+               register_shutdown_function('flush');
                if ($post_pingback)
                        register_shutdown_function('pingback',
$content, $post_ID);
                register_shutdown_function('do_enclose', $content, $post_ID );  

On 8/30/05, Matt Mullenweg <m@mullenweg.com> wrote:
> Robert Deaton wrote:
> > A couple people also noted that it looks like some pings are still
> > being sent before the page is output. Perhaps an implicit buffer flush
> > before we start the pingbacks and trackbacks would guarantee that the
> > page shows up before the pings are sent.
> 
> I just removed a buffer flush that seems to have been causing posting
> errors.
> 
> > A few other noticable problems that would make it slow still is
> > enabling gzip compression. Since it waits until everything is finished
> > and then compresses, even pingbacks and trackbacks have to be sent.
> > Perhaps disabling gzip compression in the admin section would also
> > speed things up considerably.
> 
> We already do for the built-in compression, I believe, but we can't do
> anything about mod_gzip without adding a .htaccess that may or may not work.
> 
> --
> Matt Mullenweg
>   http://photomatt.net | http://wordpress.org
> http://pingomatic.com | http://cnet.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From scott at scottberkun.com  Wed Aug 31 04:17:14 2005
From: scott at scottberkun.com (Scott Berkun)
Date: Wed Aug 31 04:17:20 2005
Subject: [wp-hackers] Posting still slow
References: <431513C9.5030204@mullenweg.com> <4315140B.2080503@mullenweg.com>
Message-ID: <055301c5ade2$de486df0$6401a8c0@bigcheese>

Another approach : Actual perf vs. perceived perf.

Long pauses break the user experience because they have no idea what's going 
on - did it crash? did mysql go down?  DSL? Or more specifically: Is 
wordpress nuking my brilliant post?

So if we just give better UI feedback during the post process as to what's 
happening it can make the perceived perf better - or at least less 
worrisome.

Various games, browsers, and apps show the different UI tricks we could do 
(I've done most of them at one time or another on IE and Windows). Some are 
cheap, some are cheesy, but sometimes you can break a big perf sink into 3 
or 4 smaller ones, and people are happy, sometimes even believe it's working 
faster, even though the actual perf is the same.

Does the heavy lifter thread expose any status info?   Or could be made to 
do so without negatively impacting actual perf? Is there any way for the 
posting screen to know how far along the heavy lift thread is?

-Scott




----- Original Message ----- 
From: "Matthew Mullenweg" <m@mullenweg.com>
To: <wp-hackers@lists.automattic.com>
Sent: Tuesday, August 30, 2005 7:20 PM
Subject: Re: [wp-hackers] Posting still slow


> Matthew Mullenweg wrote:
>> I've been finding even with #1580 http://trac.wordpress.org/ticket/1580 
>> posting can still be really slow. Anybody have additional ideas for ways 
>> we can make this part of the WP experience more streamlined?
>
> To start things off:
>
> We could just publish the post, then have an iframe in the results page 
> that calls the script that does all the heavy lifting.
>

From m at mullenweg.com  Wed Aug 31 06:53:33 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Aug 31 06:53:41 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <055301c5ade2$de486df0$6401a8c0@bigcheese>
References: <431513C9.5030204@mullenweg.com> <4315140B.2080503@mullenweg.com>
	<055301c5ade2$de486df0$6401a8c0@bigcheese>
Message-ID: <431553ED.8050608@mullenweg.com>

Scott Berkun wrote:
> Another approach : Actual perf vs. perceived perf.

Very good point, to be clear I really want to address perceived 
performance, which is hurt right now by the things we do before 
redirecting people after they post. (The actual posting part is pretty 
much instant.)

> Does the heavy lifter thread expose any status info?   Or could be made 
> to do so without negatively impacting actual perf? Is there any way for 
> the posting screen to know how far along the heavy lift thread is?

Not really. I guess the first step would be some immediate feedback that 
pressing the button did something. My best suggestion here would be to 
deactivate the post fields (so people don't post multiple times).

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From dmhouse at gmail.com  Wed Aug 31 09:35:27 2005
From: dmhouse at gmail.com (David House)
Date: Wed Aug 31 09:35:35 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <431553ED.8050608@mullenweg.com>
References: <431513C9.5030204@mullenweg.com> <4315140B.2080503@mullenweg.com>
	<055301c5ade2$de486df0$6401a8c0@bigcheese>
	<431553ED.8050608@mullenweg.com>
Message-ID: <ebe43d68050831023526b3aaf8@mail.gmail.com>

On 31/08/05, Matt Mullenweg <m@mullenweg.com> wrote:
> Not really. I guess the first step would be some immediate feedback that
> pressing the button did something. My best suggestion here would be to
> deactivate the post fields (so people don't post multiple times).

How about popping up a little explanatory notice saying 'Now inserting
your post. This can take a couple of minutes, please be patient...'. I
know 'a couple of minutes' is an overestimation for all but the
slowest servers, but underpromise, overdeliver :)

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From podz at tamba2.org.uk  Wed Aug 31 09:44:11 2005
From: podz at tamba2.org.uk (Podz)
Date: Wed Aug 31 09:43:28 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <ebe43d68050831023526b3aaf8@mail.gmail.com>
References: <431513C9.5030204@mullenweg.com>
	<4315140B.2080503@mullenweg.com>	<055301c5ade2$de486df0$6401a8c0@bigcheese>	<431553ED.8050608@mullenweg.com>
	<ebe43d68050831023526b3aaf8@mail.gmail.com>
Message-ID: <43157BEB.2010603@tamba2.org.uk>

David House wrote:
> How about popping up a little explanatory notice saying 'Now inserting
> your post. This can take a couple of minutes, please be patient...'. I
> know 'a couple of minutes' is an overestimation for all but the
> slowest servers, but underpromise, overdeliver :)
> 

...Rebuilding... ?

:)
From dmhouse at gmail.com  Wed Aug 31 09:49:57 2005
From: dmhouse at gmail.com (David House)
Date: Wed Aug 31 09:50:01 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <43157BEB.2010603@tamba2.org.uk>
References: <431513C9.5030204@mullenweg.com> <4315140B.2080503@mullenweg.com>
	<055301c5ade2$de486df0$6401a8c0@bigcheese>
	<431553ED.8050608@mullenweg.com>
	<ebe43d68050831023526b3aaf8@mail.gmail.com>
	<43157BEB.2010603@tamba2.org.uk>
Message-ID: <ebe43d6805083102497fa66218@mail.gmail.com>

On 31/08/05, Podz <podz@tamba2.org.uk> wrote:
> ...Rebuilding... ?

... is not what we're doing. Posting is still a damn lot faster than
rebuilding a load of static files. Adding in a little explanatory note
while the post is inserted improves usability, as the user isn't
staring at a loading bar that doesn't appear to be moving for 10
seconds or more. Adding in this note has no disadvantages: it doesn't
slow down posting!

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From podz at tamba2.org.uk  Wed Aug 31 09:54:03 2005
From: podz at tamba2.org.uk (Podz)
Date: Wed Aug 31 09:53:19 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <ebe43d6805083102497fa66218@mail.gmail.com>
References: <431513C9.5030204@mullenweg.com>
	<4315140B.2080503@mullenweg.com>	<055301c5ade2$de486df0$6401a8c0@bigcheese>	<431553ED.8050608@mullenweg.com>	<ebe43d68050831023526b3aaf8@mail.gmail.com>	<43157BEB.2010603@tamba2.org.uk>
	<ebe43d6805083102497fa66218@mail.gmail.com>
Message-ID: <43157E3B.9000602@tamba2.org.uk>

David House wrote:
> On 31/08/05, Podz <podz@tamba2.org.uk> wrote:
> 
>>...Rebuilding... ?
> 
> 
> ... is not what we're doing. Posting is still a damn lot faster than
> rebuilding a load of static files.

I know that - I'm just saying what I think many people will say.
Hide it, make it invisible. Do we need to know ? No - those that want to 
can find out, this discussion is hardly secret, but if it starts saying 
anything then I think we'll have posts saying "Hey, why is WP rebuilding 
now?" and even though we are not, the parallel is there.

From email at piersonthe.net  Wed Aug 31 09:58:49 2005
From: email at piersonthe.net (Piers Karsenbarg)
Date: Wed Aug 31 09:58:53 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <43157BEB.2010603@tamba2.org.uk>
References: <431513C9.5030204@mullenweg.com> <4315140B.2080503@mullenweg.com>
	<055301c5ade2$de486df0$6401a8c0@bigcheese>
	<431553ED.8050608@mullenweg.com>
	<ebe43d68050831023526b3aaf8@mail.gmail.com>
	<43157BEB.2010603@tamba2.org.uk>
Message-ID: <4743c5af050831025863e1f6d4@mail.gmail.com>

What is it that makes the posting process slow? Whenever I make a post, it 
doesn't take very long, but then I don't ping a lot of sites. 

Oh, hi by the way. I'm Piers from the UK. I'm a long time user of MT, but am 
in the process of moving over to WP and wanted to get involved. 

Piers

On 8/31/05, Podz < podz@tamba2.org.uk> wrote:
> 
> David House wrote:
> > How about popping up a little explanatory notice saying 'Now inserting 
> > your post. This can take a couple of minutes, please be patient...'. I
> > know 'a couple of minutes' is an overestimation for all but the
> > slowest servers, but underpromise, overdeliver :)
> >
> 
> ...Rebuilding... ?
> 
> :)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



-- 
http://piersonthe.net
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050831/2b57d466/attachment.htm
From robmientjes at gmail.com  Wed Aug 31 10:00:26 2005
From: robmientjes at gmail.com (Rob Mientjes)
Date: Wed Aug 31 10:01:10 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <43157E3B.9000602@tamba2.org.uk>
References: <431513C9.5030204@mullenweg.com> <4315140B.2080503@mullenweg.com>
	<055301c5ade2$de486df0$6401a8c0@bigcheese>
	<431553ED.8050608@mullenweg.com>
	<ebe43d68050831023526b3aaf8@mail.gmail.com>
	<43157BEB.2010603@tamba2.org.uk>
	<ebe43d6805083102497fa66218@mail.gmail.com>
	<43157E3B.9000602@tamba2.org.uk>
Message-ID: <e8e97f9f05083103001d51e9d7@mail.gmail.com>

On 8/31/05, Podz <podz@tamba2.org.uk> wrote:
> I know that - I'm just saying what I think many people will say.
> Hide it, make it invisible. Do we need to know ? No - those that want to
> can find out, this discussion is hardly secret, but if it starts saying
> anything then I think we'll have posts saying "Hey, why is WP rebuilding
> now?" and even though we are not, the parallel is there.

Good point. We might want it to say something different or make it
clear that it's a process, not give it the "rebuilding" feeling, but
an "uploading" feeling. Does that make sense? ;)
From ringmaster at midnightcircus.com  Wed Aug 31 11:17:16 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Wed Aug 31 11:17:31 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <e8e97f9f05083103001d51e9d7@mail.gmail.com>
References: <431513C9.5030204@mullenweg.com> <4315140B.2080503@mullenweg.com>
	<055301c5ade2$de486df0$6401a8c0@bigcheese>	<431553ED.8050608@mullenweg.com>
	<ebe43d68050831023526b3aaf8@mail.gmail.com>	<43157BEB.2010603@tamba2.org.uk>
	<ebe43d6805083102497fa66218@mail.gmail.com>	<43157E3B.9000602@tamba2.org.uk>
	<e8e97f9f05083103001d51e9d7@mail.gmail.com>
Message-ID: <431591BC.3000402@midnightcircus.com>

Rob Mientjes wrote:
> On 8/31/05, Podz <podz@tamba2.org.uk> wrote:
> 
>>I know that - I'm just saying what I think many people will say.
>>Hide it, make it invisible. Do we need to know ? No - those that want to
>>can find out, this discussion is hardly secret, but if it starts saying
>>anything then I think we'll have posts saying "Hey, why is WP rebuilding
>>now?" and even though we are not, the parallel is there.
> 
> Good point. We might want it to say something different or make it
> clear that it's a process, not give it the "rebuilding" feeling, but
> an "uploading" feeling. Does that make sense? ;)

Wouldn't it be better to address the delay issue directly?  There is no 
reason why the pings must take place at the same time as the posting.

We could check for a flag in the admin header, "Are there posts left to 
ping?" and if there are, slip an extra "stylesheet" into the header that 
loads a separate ping engine that handles all outstanding pings.

That way, the pinging doesn't affect the post page submission at all, 
and has only a minor impact on the subsequent page (since we'd eshcew 
this whole shutdown function madness, which seems like a good idea, but 
has never worked well for me), even if mod_gzip is enabled.

Owen

From email at piersonthe.net  Wed Aug 31 11:25:03 2005
From: email at piersonthe.net (Piers Karsenbarg)
Date: Wed Aug 31 11:25:07 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <431591BC.3000402@midnightcircus.com>
References: <431513C9.5030204@mullenweg.com> <4315140B.2080503@mullenweg.com>
	<055301c5ade2$de486df0$6401a8c0@bigcheese>
	<431553ED.8050608@mullenweg.com>
	<ebe43d68050831023526b3aaf8@mail.gmail.com>
	<43157BEB.2010603@tamba2.org.uk>
	<ebe43d6805083102497fa66218@mail.gmail.com>
	<43157E3B.9000602@tamba2.org.uk>
	<e8e97f9f05083103001d51e9d7@mail.gmail.com>
	<431591BC.3000402@midnightcircus.com>
Message-ID: <4743c5af0508310425384178da@mail.gmail.com>

The idea earlier about having something in the UI is a good idea. Why not 
make use of the buffer and have something that will show the user what is 
happening. This will go along with the perceived performance against the 
actual performance.

Something like this:

Post added... Pinging sites...


*pings whatever it needs to ping*

Ping complete.

*end of script*

If the user actually knows why it's taking so long then that would be easier 
to understand than them (as was stated earlier) thinking that something 
somewhere has crashed, be it MySQL, the server in general or their DSL line. 


On 8/31/05, Owen Winkler <ringmaster@midnightcircus.com> wrote:
> 
> Rob Mientjes wrote:
> > On 8/31/05, Podz <podz@tamba2.org.uk> wrote:
> >
> >>I know that - I'm just saying what I think many people will say.
> >>Hide it, make it invisible. Do we need to know ? No - those that want to
> >>can find out, this discussion is hardly secret, but if it starts saying
> >>anything then I think we'll have posts saying "Hey, why is WP rebuilding
> >>now?" and even though we are not, the parallel is there.
> >
> > Good point. We might want it to say something different or make it
> > clear that it's a process, not give it the "rebuilding" feeling, but
> > an "uploading" feeling. Does that make sense? ;)
> 
> Wouldn't it be better to address the delay issue directly? There is no
> reason why the pings must take place at the same time as the posting.
> 
> We could check for a flag in the admin header, "Are there posts left to
> ping?" and if there are, slip an extra "stylesheet" into the header that
> loads a separate ping engine that handles all outstanding pings.
> 
> That way, the pinging doesn't affect the post page submission at all,
> and has only a minor impact on the subsequent page (since we'd eshcew
> this whole shutdown function madness, which seems like a good idea, but
> has never worked well for me), even if mod_gzip is enabled.
> 
> Owen
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 



-- 
http://piersonthe.net
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050831/d1f1a994/attachment.htm
From dmhouse at gmail.com  Wed Aug 31 11:26:08 2005
From: dmhouse at gmail.com (David House)
Date: Wed Aug 31 11:26:13 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <431591BC.3000402@midnightcircus.com>
References: <431513C9.5030204@mullenweg.com> <4315140B.2080503@mullenweg.com>
	<055301c5ade2$de486df0$6401a8c0@bigcheese>
	<431553ED.8050608@mullenweg.com>
	<ebe43d68050831023526b3aaf8@mail.gmail.com>
	<43157BEB.2010603@tamba2.org.uk>
	<ebe43d6805083102497fa66218@mail.gmail.com>
	<43157E3B.9000602@tamba2.org.uk>
	<e8e97f9f05083103001d51e9d7@mail.gmail.com>
	<431591BC.3000402@midnightcircus.com>
Message-ID: <ebe43d680508310426496d56b2@mail.gmail.com>

On 31/08/05, Owen Winkler <ringmaster@midnightcircus.com> wrote:
> We could check for a flag in the admin header, "Are there posts left to
> ping?" and if there are, slip an extra "stylesheet" into the header that
> loads a separate ping engine that handles all outstanding pings.

Nice idea. You may get problems with it slowing down the rendering of
subsequent pages, i.e., some browsers might not apply any style rules
until all stylesheets are downloaded. It's worth playing around with,
though.

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From mathibus at gmail.com  Wed Aug 31 12:13:22 2005
From: mathibus at gmail.com (Mathias Bynens)
Date: Wed Aug 31 12:13:27 2005
Subject: [wp-hackers] rel=archives
In-Reply-To: <ebe43d6805083011094ff8d04d@mail.gmail.com>
References: <431378AD.3070704@midnightcircus.com> <43139ED1.4040208@firasd.org>
	<4313A684.3040901@szub.net> <4313AA2E.3010208@midnightcircus.com>
	<4313ADC6.5080906@szub.net> <4313B237.1020303@szub.net>
	<ebe43d6805083011094ff8d04d@mail.gmail.com>
Message-ID: <bf9d7b00508310513df898d8@mail.gmail.com>

David, what's with the numdaysinmonth() function? There ain't such
thing... Your plugin won't work unless you write such a function, or
use cal_days_in_month() of course. :)

On 30/08/05, David House <dmhouse@gmail.com> wrote:
> On 30/08/05, Kaf Oseo <kaf@szub.net> wrote:
> > By the way, turns out I was not first into the ring:
> >
> > http://xmouse.ithium.net/essays/linkrels-another-wordpress-plugin/
> >
> > (Really should google these plugin ideas of mine...)
> 
> Heh. Just about to point that one out (it's mine :))
> 
> By the way, official site at http://xmouse.ithium.net/wiki/linkrels
> 
> --
> -David House, dmhouse@gmail.com, http://xmouse.ithium.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
Mathias
http://mathibus.com/
From mathibus at gmail.com  Wed Aug 31 12:15:29 2005
From: mathibus at gmail.com (Mathias Bynens)
Date: Wed Aug 31 12:15:34 2005
Subject: [wp-hackers] rel=archives
In-Reply-To: <bf9d7b00508310513df898d8@mail.gmail.com>
References: <431378AD.3070704@midnightcircus.com> <43139ED1.4040208@firasd.org>
	<4313A684.3040901@szub.net> <4313AA2E.3010208@midnightcircus.com>
	<4313ADC6.5080906@szub.net> <4313B237.1020303@szub.net>
	<ebe43d6805083011094ff8d04d@mail.gmail.com>
	<bf9d7b00508310513df898d8@mail.gmail.com>
Message-ID: <bf9d7b00508310515860681a@mail.gmail.com>

Oh, and what the hell is monthnum_to_monthname()??!

On 31/08/05, Mathias Bynens <mathibus@gmail.com> wrote:
> David, what's with the numdaysinmonth() function? There ain't such
> thing... Your plugin won't work unless you write such a function, or
> use cal_days_in_month() of course. :)
> 
> On 30/08/05, David House <dmhouse@gmail.com> wrote:
> > On 30/08/05, Kaf Oseo <kaf@szub.net> wrote:
> > > By the way, turns out I was not first into the ring:
> > >
> > > http://xmouse.ithium.net/essays/linkrels-another-wordpress-plugin/
> > >
> > > (Really should google these plugin ideas of mine...)
> >
> > Heh. Just about to point that one out (it's mine :))
> >
> > By the way, official site at http://xmouse.ithium.net/wiki/linkrels
> >
> > --
> > -David House, dmhouse@gmail.com, http://xmouse.ithium.net
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> --
> Mathias
> http://mathibus.com/
> 


-- 
Mathias
http://mathibus.com/
From dmhouse at gmail.com  Wed Aug 31 12:36:46 2005
From: dmhouse at gmail.com (David House)
Date: Wed Aug 31 12:36:50 2005
Subject: [wp-hackers] rel=archives
In-Reply-To: <bf9d7b00508310515860681a@mail.gmail.com>
References: <431378AD.3070704@midnightcircus.com> <43139ED1.4040208@firasd.org>
	<4313A684.3040901@szub.net> <4313AA2E.3010208@midnightcircus.com>
	<4313ADC6.5080906@szub.net> <4313B237.1020303@szub.net>
	<ebe43d6805083011094ff8d04d@mail.gmail.com>
	<bf9d7b00508310513df898d8@mail.gmail.com>
	<bf9d7b00508310515860681a@mail.gmail.com>
Message-ID: <ebe43d6805083105362d36aa22@mail.gmail.com>

On 31/08/05, Mathias Bynens <mathibus@gmail.com> wrote:
> Oh, and what the hell is monthnum_to_monthname()??!
> 
> On 31/08/05, Mathias Bynens <mathibus@gmail.com> wrote:
> > David, what's with the numdaysinmonth() function? There ain't such
> > thing... Your plugin won't work unless you write such a function, or
> > use cal_days_in_month() of course. :)

Both functions from my private library that should have found their
way into the plugin file. The source at
http://xmouse.ithium.net/dmh-source/linkrels.phps has been updated to
fix that error :)

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From dmhouse at gmail.com  Wed Aug 31 12:38:00 2005
From: dmhouse at gmail.com (David House)
Date: Wed Aug 31 12:38:05 2005
Subject: [wp-hackers] rel=archives
In-Reply-To: <ebe43d6805083105362d36aa22@mail.gmail.com>
References: <431378AD.3070704@midnightcircus.com> <43139ED1.4040208@firasd.org>
	<4313A684.3040901@szub.net> <4313AA2E.3010208@midnightcircus.com>
	<4313ADC6.5080906@szub.net> <4313B237.1020303@szub.net>
	<ebe43d6805083011094ff8d04d@mail.gmail.com>
	<bf9d7b00508310513df898d8@mail.gmail.com>
	<bf9d7b00508310515860681a@mail.gmail.com>
	<ebe43d6805083105362d36aa22@mail.gmail.com>
Message-ID: <ebe43d68050831053859bc7edb@mail.gmail.com>

On 31/08/05, David House <dmhouse@gmail.com> wrote:
> > On 31/08/05, Mathias Bynens <mathibus@gmail.com> wrote:
> > > David, what's with the numdaysinmonth() function? There ain't such
> > > thing... Your plugin won't work unless you write such a function, or
> > > use cal_days_in_month() of course. :)

This is old code. It was written when I was relatively new to PHP, so
I should probably go over this and pick out areas for improvement.

It does work, though :)

-- 
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From trevorturk at yahoo.com  Wed Aug 31 14:48:26 2005
From: trevorturk at yahoo.com (Trevor Turk)
Date: Wed Aug 31 17:35:15 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <ebe43d680508310426496d56b2@mail.gmail.com>
Message-ID: <20050831144826.28352.qmail@web31809.mail.mud.yahoo.com>

I think the best idea would be, of course, to speed up
the actual process as much as possible. However, I
don't think there is anything wrong with showing a
message that says Now Pinging... or whatever. I also
think it's worth considering using something simple
like the little spinny Mac wheel progress indicator or
something, ala Basecamp. Just a little touch like that
might be nicer than adding text/clutter to the admin
interface. I also think disabling the form wouldn't be
a bad idea.
From fd at firasd.org  Wed Aug 31 17:49:52 2005
From: fd at firasd.org (Firas D.)
Date: Wed Aug 31 17:50:14 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <431591BC.3000402@midnightcircus.com>
References: <431513C9.5030204@mullenweg.com>
	<4315140B.2080503@mullenweg.com>	<055301c5ade2$de486df0$6401a8c0@bigcheese>	<431553ED.8050608@mullenweg.com>	<ebe43d68050831023526b3aaf8@mail.gmail.com>	<43157BEB.2010603@tamba2.org.uk>	<ebe43d6805083102497fa66218@mail.gmail.com>	<43157E3B.9000602@tamba2.org.uk>	<e8e97f9f05083103001d51e9d7@mail.gmail.com>
	<431591BC.3000402@midnightcircus.com>
Message-ID: <4315EDC0.9060306@firasd.org>

Owen Winkler wrote:

> Wouldn't it be better to address the delay issue directly?  There is 
> no reason why the pings must take place at the same time as the posting. 

+1. Make it happen soon, be clear about what's left to ping and what 
happened to previously attempted pings, but all the publish action 
should do is build up a list of things to ping, enclosure, etc in the 
next minute or two and send the writer on their way.

PS. For this, and many other reasons, WP *so* needs a scheduler.

-- 
http://firasd.org

From m at mullenweg.com  Wed Aug 31 17:59:48 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Aug 31 17:59:53 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <431591BC.3000402@midnightcircus.com>
References: <431513C9.5030204@mullenweg.com>
	<4315140B.2080503@mullenweg.com>	<055301c5ade2$de486df0$6401a8c0@bigcheese>	<431553ED.8050608@mullenweg.com>	<ebe43d68050831023526b3aaf8@mail.gmail.com>	<43157BEB.2010603@tamba2.org.uk>	<ebe43d6805083102497fa66218@mail.gmail.com>	<43157E3B.9000602@tamba2.org.uk>	<e8e97f9f05083103001d51e9d7@mail.gmail.com>
	<431591BC.3000402@midnightcircus.com>
Message-ID: <4315F014.9040901@mullenweg.com>

Owen Winkler wrote:
> We could check for a flag in the admin header, "Are there posts left to 
> ping?" and if there are, slip an extra "stylesheet" into the header that 
> loads a separate ping engine that handles all outstanding pings.

That sounds similar to the iframe suggestion from earlier, I have no 
attachment to which method we fire off the heavy lifting request as long 
as it's really, really fast and doesn't delay the page.

I'm less inclined to have some sort of progress saying "You have pinged 
X... Y... Z..." because (1) it would be a lot more complicated to 
implement and more importantly (2) no one really cares. It's something 
that should just happen without being in your face or interrupting your day.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From fd at firasd.org  Wed Aug 31 18:00:42 2005
From: fd at firasd.org (Firas D.)
Date: Wed Aug 31 18:01:17 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <4315EDC0.9060306@firasd.org>
References: <431513C9.5030204@mullenweg.com>	<4315140B.2080503@mullenweg.com>	<055301c5ade2$de486df0$6401a8c0@bigcheese>	<431553ED.8050608@mullenweg.com>	<ebe43d68050831023526b3aaf8@mail.gmail.com>	<43157BEB.2010603@tamba2.org.uk>	<ebe43d6805083102497fa66218@mail.gmail.com>	<43157E3B.9000602@tamba2.org.uk>	<e8e97f9f05083103001d51e9d7@mail.gmail.com>	<431591BC.3000402@midnightcircus.com>
	<4315EDC0.9060306@firasd.org>
Message-ID: <4315F04A.1030904@firasd.org>

Firas D. wrote:

> Owen Winkler wrote:
>
>> Wouldn't it be better to address the delay issue directly?  There is 
>> no reason why the pings must take place at the same time as the posting. 
>
>
> +1. Make it happen soon, be clear about what's left to ping and what 
> happened to previously attempted pings, but all the publish action 
> should do is build up a list of things to ping, enclosure, etc in the 
> next minute or two and send the writer on their way.

Er, I mean, things that are to be pinged in the next minute. The actual 
list-making should just take a few microseconds..

-- 
http://firasd.org

From skippy at skippy.net  Wed Aug 31 18:19:08 2005
From: skippy at skippy.net (Scott Merrill)
Date: Wed Aug 31 20:27:01 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <4315F014.9040901@mullenweg.com>
References: <431513C9.5030204@mullenweg.com>	<4315140B.2080503@mullenweg.com>	<055301c5ade2$de486df0$6401a8c0@bigcheese>	<431553ED.8050608@mullenweg.com>	<ebe43d68050831023526b3aaf8@mail.gmail.com>	<43157BEB.2010603@tamba2.org.uk>	<ebe43d6805083102497fa66218@mail.gmail.com>	<43157E3B.9000602@tamba2.org.uk>	<e8e97f9f05083103001d51e9d7@mail.gmail.com>	<431591BC.3000402@midnightcircus.com>
	<4315F014.9040901@mullenweg.com>
Message-ID: <4315F49C.3060907@skippy.net>

Matt Mullenweg wrote:
> I'm less inclined to have some sort of progress saying "You have pinged
> X... Y... Z..." because (1) it would be a lot more complicated to
> implement and more importantly (2) no one really cares. It's something
> that should just happen without being in your face or interrupting your
> day.
> 

Some folks might want the visual confirmation that pinging is occuring.

Could we use a small pop-up window with some sort of updating status
meter (like the kind Owen put into WP-DB Backup)?  This pop-up window
could do the heavy lifting, the javascript could keep it from timing
out, and the window could be minimized by people who don't care.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From denis at semiologic.com  Wed Aug 31 20:34:43 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Wed Aug 31 20:34:17 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <4315F49C.3060907@skippy.net>
Message-ID: <000001c5ae6b$6bb07fb0$0601000a@DB>

> Some folks might want the visual confirmation that pinging is 
> occuring.

not so. folks want the visual confirmation that it _succeeded_.

D.

From m at mullenweg.com  Wed Aug 31 17:20:28 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Aug 31 20:36:22 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <43157BEB.2010603@tamba2.org.uk>
References: <431513C9.5030204@mullenweg.com>	<4315140B.2080503@mullenweg.com>	<055301c5ade2$de486df0$6401a8c0@bigcheese>	<431553ED.8050608@mullenweg.com>	<ebe43d68050831023526b3aaf8@mail.gmail.com>
	<43157BEB.2010603@tamba2.org.uk>
Message-ID: <4315E6DC.7090306@mullenweg.com>

Podz wrote:
> ...Rebuilding... ?
> 
> :)

Ahhhhhhhhhhhhhhhhhhhh!

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://cnet.com
From scott at scottberkun.com  Wed Aug 31 21:22:02 2005
From: scott at scottberkun.com (Scott Berkun)
Date: Wed Aug 31 21:22:10 2005
Subject: [wp-hackers] Posting still slow
References: <431513C9.5030204@mullenweg.com><4315140B.2080503@mullenweg.com>	<055301c5ade2$de486df0$6401a8c0@bigcheese>	<431553ED.8050608@mullenweg.com>	<ebe43d68050831023526b3aaf8@mail.gmail.com>	<43157BEB.2010603@tamba2.org.uk>	<ebe43d6805083102497fa66218@mail.gmail.com>	<43157E3B.9000602@tamba2.org.uk>	<e8e97f9f05083103001d51e9d7@mail.gmail.com><431591BC.3000402@midnightcircus.com>
	<4315F014.9040901@mullenweg.com>
Message-ID: <069201c5ae72$08339470$6401a8c0@bigcheese>

>  Matt Mullenweg wrote:
>
> I'm less inclined to have some sort of progress saying "You have pinged 
> X... Y... Z..." because (1) it would be a lot more complicated to 
> implement and more importantly (2) no one really cares. It's something 
> that should just happen without being in your face or interrupting your 
> day.

Agreed.  Best case is fixing actual perf so this is a non issue.

But if that's not possible (which given random net latency seems the case), 
there are subtle non-annoying ways to make latency seem shorter and make 
clear that everything is still ok.  If I knew more about the details I could 
mock some up.

Do we have any actual perf data[1]? Or a breakdown on where the perf sinks 
are within the post process?

Sample size of one: I'd say one post in ten in my current install has a 
several second lag. I have no idea why: could be WP, DSL, my ISP, or my dog 
Max redlining bandwith by downloading porn. But when it happens all I see is 
the WP screen - so guess who gets blamed first :)

Just fyi: There's evidence[2] that percieved latency works at 3 levels: 
1/10th second, 1 second, and 10 seconds. If we had data on average latency 
times for different situations, we'd know where we're at and how much we 
even need to care. It's when you're in the 1.1 to 10 second range that some 
kind of visual feedback makes a difference.

-Scott

[1] I've worked on projects with a no-frills perf lab: a dedicated machine 
than ran test cases on a special debug build, pumping out raw time data used 
to answer perf questions for different versions/installs/etc. This minimized 
subjective arugments about what feels slow or not and helped measure perf 
improvements. I don't expect we have that here, but it seemed worth 
mentioning.
[2] http://www.useit.com/papers/responsetime.html 

From m at mullenweg.com  Wed Aug 31 22:28:22 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Aug 31 22:28:30 2005
Subject: [wp-hackers] JS based upload
Message-ID: <43162F06.6070707@mullenweg.com>

I would love something like this for our post screen:

http://drupal.org/node/28483

-- 
Matt Mullenweg
http://photomatt.net  | http://wordpress.org
http://pingomatic.com | http://cnet.com
From wp at igeek.info  Wed Aug 31 14:44:18 2005
From: wp at igeek.info (Amit Gupta)
Date: Wed Aug 31 23:17:19 2005
Subject: [wp-hackers] Posting still slow
References: <431513C9.5030204@mullenweg.com>
Message-ID: <002f01c5ae3a$79df2310$57ebd4cb@unicorn>

is the current heavy lifting(the pingbacks etc.) done before post is 
published or afterwards? excuse me if I've overlooked something but I'm 
using a plugin by Robert Deaton called No Ping Wait which moves the 
heavy stuff to the 'shutdown' hook. don't know if anything like this has 
been done as of v1.5.2 but after I started using this plugin in 
v1.5.1.3, the publish times have significantly dropped.

------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter





  ----- Original Message ----- 
  From: Matthew Mullenweg
  To: wp-hackers@lists.automattic.com
  Sent: Wednesday, August 31, 2005 7:49 AM
  Subject: [wp-hackers] Posting still slow


  I've been finding even with #1580 
http://trac.wordpress.org/ticket/1580
  posting can still be really slow. Anybody have additional ideas for 
ways
  we can make this part of the WP experience more streamlined?

  -- 
  Matt Mullenweg
    http://photomatt.net | http://wordpress.org
  http://pingomatic.com | http://cnet.com
  _______________________________________________
  wp-hackers mailing list
  wp-hackers@lists.automattic.com
  http://lists.automattic.com/mailman/listinfo/wp-hackers

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050831/edb1aa5f/attachment-0001.htm
From false.hopes at gmail.com  Wed Aug 31 23:19:30 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Wed Aug 31 23:19:40 2005
Subject: [wp-hackers] Posting still slow
In-Reply-To: <002f01c5ae3a$79df2310$57ebd4cb@unicorn>
References: <431513C9.5030204@mullenweg.com>
	<002f01c5ae3a$79df2310$57ebd4cb@unicorn>
Message-ID: <a491f91d05083116191d69848f@mail.gmail.com>

I also wrote the patch that was committed for 1.5.2, so the plugin is
defunct. The same idea for a patch was committed on 1.6, which is what
this thread is about.

On 8/31/05, Amit Gupta <wp@igeek.info> wrote:
>  
> is the current heavy lifting(the pingbacks etc.) done before post is
> published or afterwards? excuse me if I've overlooked something but I'm
> using a plugin by Robert Deaton called No Ping Wait which moves the heavy
> stuff to the 'shutdown' hook. don't know if anything like this has been done
> as of v1.5.2 but after I started using this plugin in v1.5.1.3, the publish
> times have significantly dropped. 
>   
> ------------
> Amit Gupta
> http://igeek.info/  ||  http://blog.igeek.info/
> http://blog.igeek.info/wp-plugins/igsyntax-hiliter 
>   
>   
>   
> 
>   
>  
> ----- Original Message ----- 
> From: Matthew Mullenweg 
>  
> To: wp-hackers@lists.automattic.com 
> Sent: Wednesday, August 31, 2005 7:49 AM 
> Subject: [wp-hackers] Posting still slow 
> 
> I've been finding even with #1580
> http://trac.wordpress.org/ticket/1580 
> posting can still be really slow. Anybody have additional ideas for ways 
> we can make this part of the WP experience more streamlined?
> 
> -- 
> Matt Mullenweg
>   http://photomatt.net | http://wordpress.org
> http://pingomatic.com | http://cnet.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
>  
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 


-- 
--Robert Deaton
http://somethingunpredictable.com
From wp at igeek.info  Wed Aug 31 14:39:02 2005
From: wp at igeek.info (Amit Gupta)
Date: Wed Aug 31 23:48:31 2005
Subject: [wp-hackers] WordPress Leaks PageRank?
References: <20050830171424.3opg6tqtplqocgw8@banana.catalyst2.com>
Message-ID: <000d01c5ae39$bda20cd0$57ebd4cb@unicorn>

Roy Schestowitz <r@schestowitz.com> wrote:
|  Would it not be sensible to hard-code rel="nofollow" in more places
|  in out-of-the-box WordPress? Certain items that may be valuable to 
users simply
|  add clutter to the search engines.

I wouldn't recommend hardcoding it as that would make plugins like 
Semiologic Dofollow,
which allows people to remove the nofollow relation & let PR pass on to 
links, useless.

This essentially would take away the choice from users, as some people 
do like to pass on
PR to the ones commentating on their blog.

------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20050831/a8856365/attachment.htm
