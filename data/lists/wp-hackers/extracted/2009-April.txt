From amorphous123 at gmail.com  Wed Apr  1 01:35:50 2009
From: amorphous123 at gmail.com (Robin Chang)
Date: Wed Apr  1 01:39:12 2009
Subject: [wp-hackers] GSoC 2009 Proposal :: Front-end Inline Editor
Message-ID: <6202bd0903311835m450c00fcl5fe566dff22d70a6@mail.gmail.com>

Hi, I have a proposal for a front-end inline add-on to the core of
Wordpress.
I have acknowledged other people's work done on it, including Scribu's
inline changing of text elements. I want to expand upon it using JQuery and
AJAX. Thanks!

My full proposal can be seen on my personal blog,
http://isrobin.com/wordpress/?p=30.
From beau at dentedreality.com.au  Wed Apr  1 02:46:44 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Wed Apr  1 02:46:59 2009
Subject: [wp-hackers] If you are submitting a formal GSoC application...
Message-ID: <902424490903311946h1c5132dfl784bc3819969759a@mail.gmail.com>

To all those who are emailing to the list RE: GSoC;

While this list is a great place to *discuss* your
proposals/applications/ideas, please do note that to be formally
considered, you *must* submit your application via the Google
submission process here: http://socghop.appspot.com/

Just thought I'd remind you all, since a lot of people seem to be
posting their proposals on their blogs and sending a link; that is
*not* considered a formal application.

Thanks,
Beau

-- 
Beau Lebens
Dented Reality
beau@dentedreality.com.au
http://dentedreality.com.au
From bnabble at says.mu  Wed Apr  1 06:07:10 2009
From: bnabble at says.mu (horatio)
Date: Wed Apr  1 06:07:24 2009
Subject: [wp-hackers] wpmu / adding users/sites/any other admin
In-Reply-To: <e57ee520903311107n4a9ec1e0y53c2b3a4aecd3f26@mail.gmail.com>
References: <e57ee520903311107n4a9ec1e0y53c2b3a4aecd3f26@mail.gmail.com>
Message-ID: <22820340.post@talk.nabble.com>


great. when do you expect this to be completed to a usable level?



Arunoda Susiripala wrote:
> 
> Hi People...
> 
> It's nice to see if anyone intersted in creating or willing to use API
> facility to do admin task of WP remotly.
> As bnabble said a REST framework will works well.
> I'm currently working on a this kind of work for the GSOC 9
> which is to manage admin functions,do synchronization and import/export..
> 
> It'll be created as a plugin...
> 
> So when you installed that plugin your WP instance have an REST based
> public
> API...
> So administration remotely can be archived.
> 
> -- 
> Arunoda Susiripala - ?????? ?????????
> MIT @ UOK
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 

-- 
View this message in context: http://www.nabble.com/Re%3A-wpmu---adding-users-sites-any-other-admin-tp22811272p22820340.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From maillist at wangstedt.net  Wed Apr  1 07:04:30 2009
From: maillist at wangstedt.net (=?ISO-8859-1?Q?Karl_W=E5ngstedt?=)
Date: Wed Apr  1 07:04:51 2009
Subject: [wp-hackers] GSOC - A Couple of Ideas
In-Reply-To: <EMEWEMEW2_DELIMl2RE3J9c39bcab4a07a5eee941ec,
	mikeschinkel@newclarity.net, 24755473.381238266996197.J>
References: <EMEWEMEW2_DELIMl2RE3J9c39bcab4a07a5eee941ec,
	mikeschinkel@newclarity.net, 24755473.381238266996197.J>
Message-ID: <DD416A2D-2A92-428F-91C6-39A8A153735D@wangstedt.net>

28 mar 2009 kl. 20.03 skrev Mike Schinkel:

> While in general I agree, there is the standard case of "I just  
> installed a plugin and I know I did, but now I have no idea where to  
> configure it."


That could be solved by adding a couple of things.

First I think recently activated plugins should be a separate group in  
the plugins list just like recently de-activated. That way it's easy  
to get to the configure link next to the de-activate link to the right  
of the plugins description.

Second I think it might make sense to mark newly added menu items (by  
plugins) in a different colour. Like the message banner when saving a  
post and activating a plugin.

I don't think it would make sense to have a separate plugins section  
in admin. Especially for users that are just publishers and aren't  
admins or technicians. They use a site with an admin interface. Not  
Wordpress with plugins activated. If you see the semantic difference. :)

V?nligen
Karl W?ngstedt
----------------------------------
          W?ngstedt  nova
         www.wangstedt.net

Karl W?ngstedt       0278-61 12 33
Stenhuggarv?gen 3g   070-578 13 04
821 41  BOLLN?S
----------------------------------
Det h?r brevet skickades med en Macintosh fr?n Apple.
Garanterat virusfri med Mac OS X.
From esvidy at gmail.com  Wed Apr  1 07:57:59 2009
From: esvidy at gmail.com (Vidyarth E.S)
Date: Wed Apr  1 07:58:14 2009
Subject: [wp-hackers] GSoC 2009 Ideas: Open ID integration with Wordpress 
	& Template Versioning
In-Reply-To: <161617690903311307s5b4e924ejdb0b5a092f16db83@mail.gmail.com>
References: <66c9a2a70903292031m108e8531s936762faabfecc4c@mail.gmail.com>
	<B7CD4880-340E-47D0-BBD9-740D0DF72F47@xentek.net>
	<902424490903301015s3cfcd5fdt856e1eee50caf81d@mail.gmail.com>
	<90801D35-8A5F-4089-82FD-9FBB1875719E@xentek.net>
	<349fe48b0903310003o7eb60093g2a18199d956b04b4@mail.gmail.com>
	<5ED563B2-424D-4FC8-BB8D-6B98EA9E4531@xentek.net>
	<161617690903311307s5b4e924ejdb0b5a092f16db83@mail.gmail.com>
Message-ID: <66c9a2a70904010057w2a55c873s9032f0837b28b198@mail.gmail.com>

Thanks for all the feedback. Yes I do think being a provider of OpenID is
indeed useful for Wordpress and other modes of integration might atleast
seem to be a bit less useful at the moment because of low usage numbers. So
yeah I guess I will focus on my other ideas. Thanks !

Vidyarth

On Wed, Apr 1, 2009 at 4:07 AM, Otto <otto@ottodestruct.com> wrote:

> True. I think this is because it generally doesn't make any sense to
> be an OpenID consumer, for a lot of cases. All it really adds is
> complications.
>
> I mean, what does being a consumer get you, as a programmer of a
> webapp? Not much. You still have to store your own user data for that
> user. If you didn't have any user data to store, then why bother
> having them authenticate at all? Whereas being a provider gets you
> quite a lot. If you've already got a user authentication system, then
> becoming a provider is relatively straightforward. And now you know
> what other services your users are using, if you care to know that
> info (good stuff for marketing purposes).
>
> The whole OpenID standard just strikes me as a solution in search of a
> problem. Not the whole single-sign-on idea, that is still a problem.
> But the need to tie your identity to a specific provider is still
> there. You don't use usernames and passwords anymore, you need to use
> a URL, which is a new and complex idea for a lot of folks. Etc, etc...
>
> -Otto
>
>
>
> On Tue, Mar 31, 2009 at 12:12 PM, Eric Marden <wp@xentek.net> wrote:
> > On Mar 31, 2009, at 3:03 AM, scribu wrote:
> >
> >> On Mon, Mar 30, 2009 at 9:53 PM, Eric Marden <wp@xentek.net> wrote:
> >>
> >>> WordPress.com is already an OpenID provider, and has been for quite
> >>>>
> >>>> some time: http://en.blog.wordpress.com/2007/03/06/openid/
> >>>>
> >>>
> >>> And yet you still can't login to WP.com with OpenID...
> >>
> >>
> >> Of course not: You can't use OpenID to login to the OpenID provider
> >> itself.
> >
> > I don't use the OpenID provided by wordpress.com (since I only use it
> for
> > Akismet/Stats API Keys anyway and don't have a blog URL with the
> service).
> > But this goes back to my point that there are a ton of providers but
> rarely
> > any consumers.
> >
> >
> > - Eric Marden
> > __________________________________
> > http://xentek.net/code/wordpress/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From scribu at gmail.com  Wed Apr  1 10:19:54 2009
From: scribu at gmail.com (scribu)
Date: Wed Apr  1 10:20:11 2009
Subject: [wp-hackers] GSoC 2009 Proposal :: Front-end Inline Editor
In-Reply-To: <6202bd0903311835m450c00fcl5fe566dff22d70a6@mail.gmail.com>
References: <6202bd0903311835m450c00fcl5fe566dff22d70a6@mail.gmail.com>
Message-ID: <349fe48b0904010319i4bfa0832y5fe824c60d24b850@mail.gmail.com>

On Wed, Apr 1, 2009 at 4:35 AM, Robin Chang <amorphous123@gmail.com> wrote:

> Hi, I have a proposal for a front-end inline add-on to the core of
> Wordpress.
> I have acknowledged other people's work done on it, including Scribu's
> inline changing of text elements. I want to expand upon it using JQuery and
> AJAX. Thanks!
>

Guess what: my plugin also uses jQuery and AJAX, but you can do only so much
with a plugin. Good luck with your proposal!

-- 
http://scribu.net
From scribu at gmail.com  Wed Apr  1 10:23:41 2009
From: scribu at gmail.com (scribu)
Date: Wed Apr  1 10:23:56 2009
Subject: [wp-hackers] Avoiding Side-effects in Filters & Actions
In-Reply-To: <4497317964099010902@unknownmsgid>
References: <498009E1-6BB2-4309-B3A3-4EE4DA1B4946@ftwr.co.uk>
	<4497317964099010902@unknownmsgid>
Message-ID: <349fe48b0904010323t5930a035uc136c83918c52b75@mail.gmail.com>

On Thu, Mar 26, 2009 at 12:01 AM, Mike Schinkel <mikeschinkel@newclarity.net
> wrote:

> What I was hoping for was a robust way to identify the current context so
> that there isn't a need to go adding more hooks all the time.
>

I've recently run into this issue myself. However, I don't see how that
context could be identified, given the current nature of filters.

-- 
http://scribu.net
From wp-hackers at striderweb.com  Wed Apr  1 12:45:24 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed Apr  1 12:45:48 2009
Subject: [wp-hackers] GSOC - A Couple of Ideas
In-Reply-To: <EMEWEMEW2_DELIMl2RE3J9c39bcab4a07a5eee941ec,
	mikeschinkel@newclarity.net, 24755473.381238266996197.J>
References: <EMEWEMEW2_DELIMl2RE3J9c39bcab4a07a5eee941ec,
	mikeschinkel@newclarity.net, 24755473.381238266996197.J>
Message-ID: <4B034C34-9071-4F2B-A700-3D0AD6BC35C4@striderweb.com>


On Mar 28, 2009, at 2:03 PM, Mike Schinkel wrote:

> "Stephen Rider" <wp-hackers@striderweb.com> wrote:
>> My recommendation is that plugin backend interface should be
>> designed to fully integrate with the Admin section, rather
>> than screaming "Hey! I'm a plugin!".  I don't need to be
>> reminded what's a plugin and what's not -- I just want the
>> functionality.
>
> While in general I agree, there is the standard case of "I just  
> installed a plugin and I know I did, but now I have no idea where to  
> configure it."

Already handled with Action links:
>> ... plugin authors can easily link to their plugin's admin page by  
>> adding Action Links from the Manage Plugins screen.  A tutorial  
>> here: http://striderweb.com/nerdaphernalia/2008/06/on-plugin-design/

> There is also the case of "I am looking at this site and trying to  
> decide what functionality is core and what is a plugin so I can  
> decide what I loose if I disable a given plugin."  So there are  
> several different ways to look at it.


I gotcha covered.  ;-)  http://striderweb.com/nerdaphernalia/2008/06/give-your-wordpress-plugin-credit/

Some plugins don't *have* their own settings pages, but instead modify  
an existing Settings page.  Marking the footer as described also works  
in those cases, whereas a "plugin ghetto" doesn't.

Stephen

-- 
Stephen Rider
http://striderweb.com/




From barry at barrycarlyon.co.uk  Wed Apr  1 22:28:17 2009
From: barry at barrycarlyon.co.uk (Barry Carlyon)
Date: Thu Apr  2 00:00:16 2009
Subject: GSoC 2009 MEDIA: Was: [wp-hackers] GSoC 2009
In-Reply-To: <49D274EA.2010108@barrycarlyon.co.uk>
References: <49D274EA.2010108@barrycarlyon.co.uk>
Message-ID: <49D3EA81.9010402@barrycarlyon.co.uk>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I just updated my proposal, comments and feedback welcome:

http://barrycarlyon.co.uk/wordpress/2009/04/01/gsoc-wordpress-application/

Woot!

Barry Carlyon wrote:
> Good local time all.
> 
> Just a brief hello, I'm planning on applying to work for Wordpress as
> part of Google Summer of Code 2009, specifically on the Media Block of
> ideas (http://codex.wordpress.org/GSoC2009#Media) at the moment my
> application is pretty open, I'd be interesting in hearing anything
> anyone has to add, whilst I prepare my application.
> 
> My blog, albeit new-ish (been sat on it since December, not had time to
> finish the style, its been hectic at uni since then) is at
> http://barrycarlyon.co.uk/wordpress/
> 
> Thanks in advance
> 

- ------------------------------------------------------------------------

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

- --
- --------------------------------------------------------

Barry Carlyon
"Located Between Al-Jazeera and BBC Radio 1"

SRA Regional Rep North East/Yorkshire
LUU Media Rep

Webmaster: http://LSRfm.com - Leeds Student Radio
http://barrycarlyon.co.uk

mobile: 07729 048 443
office: 0113 380 1280
skype: barrycarlyon
email: barry@barrycarlyon.co.uk
msn: barry@barrycarlyon.co.uk
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iQEcBAEBAgAGBQJJ0+p/AAoJENYooWe8meDjSEEH/jeSLTEC8yUYnwd/rQLAyoij
6BNbKmip8mugoa3wMzbs3O4hzt+pLazIKr0yQYRjrKcBG3ZjE6vT/u0+++Kbup1s
xdgcPRXLBak+XfcR1E18GzDlLua856GPLZwG6cAuwDibQz0i3br7EEf+/PMVG3v3
/OhnKlnJyLt8+5Mb7EiQLoFNGY7sF8d/BBiw6zwUVXKP1GMGswEYaApttLt/ZZt2
IQE6FyUBPDy5jNSF0Fr1rLN6UFVs0l9jA9jlKH9tWBeHm5Sk7HqWNTtdXwGBwFfx
68cc9NukP7Roqk8Uz8gPZwgP/7Uw3e21FiU0HsmCmwXzIMO6ZP3+Af4hATDuIIw=
=F6Q/
-----END PGP SIGNATURE-----
From bingorabbit at gmail.com  Thu Apr  2 00:06:13 2009
From: bingorabbit at gmail.com (Ibrahim A. Mohamed)
Date: Thu Apr  2 00:07:56 2009
Subject: [wp-hackers] Admin Panel Plugins/Themes Editing Pages Code Editor
Message-ID: <e05a63ba0904011706w4864f299x64158b13e61ec092@mail.gmail.com>

Dear All,
I have an idea that I thought of to work on in GSoC this year, kindly check
this:
http://br.bingorabbit.com/2009/04/my-wordpress-gsoc-idea/

Thanks in Advance!

-- 
Regards,
Ibrahim Abdel Fattah Mohamed
Web Developer
Twitter: @bingorabbit
e-mail: bingorabbit@gmail.com
Personal bLOG: http://bingorabbit.com/
From mdmartz at sivel.net  Thu Apr  2 00:19:37 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Thu Apr  2 00:20:08 2009
Subject: [wp-hackers] Admin Panel Plugins/Themes Editing Pages Code Editor
In-Reply-To: <e05a63ba0904011706w4864f299x64158b13e61ec092@mail.gmail.com>
References: <e05a63ba0904011706w4864f299x64158b13e61ec092@mail.gmail.com>
Message-ID: <518fa9630904011719r705f156paaf152df5da488c1@mail.gmail.com>

On Wed, Apr 1, 2009 at 8:06 PM, Ibrahim A. Mohamed
<bingorabbit@gmail.com> wrote:
> Dear All,
> I have an idea that I thought of to work on in GSoC this year, kindly check
> this:
> http://br.bingorabbit.com/2009/04/my-wordpress-gsoc-idea/
>

Syntax highlighting and line numbering.  A documentation drop down has
also been added that lists the functions that have been used in the
code which will direct you to a page containing documentation about
the function.

-- 
Matt Martz
matt@sivel.net
http://sivel.net/
From mdmartz at sivel.net  Thu Apr  2 00:20:30 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Thu Apr  2 00:20:59 2009
Subject: [wp-hackers] Admin Panel Plugins/Themes Editing Pages Code Editor
In-Reply-To: <518fa9630904011719r705f156paaf152df5da488c1@mail.gmail.com>
References: <e05a63ba0904011706w4864f299x64158b13e61ec092@mail.gmail.com> 
	<518fa9630904011719r705f156paaf152df5da488c1@mail.gmail.com>
Message-ID: <518fa9630904011720g237bc810x237ff3d3a863b1b9@mail.gmail.com>

> Syntax highlighting and line numbering. ?A documentation drop down has
> also been added that lists the functions that have been used in the
> code which will direct you to a page containing documentation about
> the function.

Apparently I didn't finish that thought before sending.

The above has been added for 2.8 which should be released within the next month.

-- 
Matt Martz
matt@sivel.net
http://sivel.net/
From bingorabbit at gmail.com  Thu Apr  2 00:50:37 2009
From: bingorabbit at gmail.com (Ibrahim A. Mohamed)
Date: Thu Apr  2 00:51:38 2009
Subject: [wp-hackers] Admin Panel Plugins/Themes Editing Pages Code Editor
In-Reply-To: <518fa9630904011720g237bc810x237ff3d3a863b1b9@mail.gmail.com>
References: <e05a63ba0904011706w4864f299x64158b13e61ec092@mail.gmail.com>
	<518fa9630904011719r705f156paaf152df5da488c1@mail.gmail.com>
	<518fa9630904011720g237bc810x237ff3d3a863b1b9@mail.gmail.com>
Message-ID: <e05a63ba0904011750h7dacebbchba377e53b424f437@mail.gmail.com>

Any resources for that?

On Thu, Apr 2, 2009 at 2:20 AM, Matt Martz <mdmartz@sivel.net> wrote:

> > Syntax highlighting and line numbering.  A documentation drop down has
> > also been added that lists the functions that have been used in the
> > code which will direct you to a page containing documentation about
> > the function.
>
> Apparently I didn't finish that thought before sending.
>
> The above has been added for 2.8 which should be released within the next
> month.
>
> --
> Matt Martz
> matt@sivel.net
> http://sivel.net/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards,
Ibrahim Abdel Fattah Mohamed
Web Developer
Twitter: @bingorabbit
e-mail: bingorabbit@gmail.com
Personal bLOG: http://bingorabbit.com/
From beau at dentedreality.com.au  Thu Apr  2 01:43:02 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Thu Apr  2 01:45:28 2009
Subject: [wp-hackers] Admin Panel Plugins/Themes Editing Pages Code Editor
In-Reply-To: <e05a63ba0904011750h7dacebbchba377e53b424f437@mail.gmail.com>
References: <e05a63ba0904011706w4864f299x64158b13e61ec092@mail.gmail.com>
	<518fa9630904011719r705f156paaf152df5da488c1@mail.gmail.com>
	<518fa9630904011720g237bc810x237ff3d3a863b1b9@mail.gmail.com>
	<e05a63ba0904011750h7dacebbchba377e53b424f437@mail.gmail.com>
Message-ID: <902424490904011843n37cf7e16m75686197fbd912f7@mail.gmail.com>

The best thing to do would be just get the latest version from trunk,
which has all of these features in it already.

On Wed, Apr 1, 2009 at 5:50 PM, Ibrahim A. Mohamed
<bingorabbit@gmail.com> wrote:
> Any resources for that?
>
> On Thu, Apr 2, 2009 at 2:20 AM, Matt Martz <mdmartz@sivel.net> wrote:
>
>> > Syntax highlighting and line numbering. ?A documentation drop down has
>> > also been added that lists the functions that have been used in the
>> > code which will direct you to a page containing documentation about
>> > the function.
>>
>> Apparently I didn't finish that thought before sending.
>>
>> The above has been added for 2.8 which should be released within the next
>> month.
>>
>> --
>> Matt Martz
>> matt@sivel.net
>> http://sivel.net/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Regards,
> Ibrahim Abdel Fattah Mohamed
> Web Developer
> Twitter: @bingorabbit
> e-mail: bingorabbit@gmail.com
> Personal bLOG: http://bingorabbit.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Beau Lebens
Dented Reality
beau@dentedreality.com.au
http://dentedreality.com.au
From bingorabbit at gmail.com  Thu Apr  2 01:48:50 2009
From: bingorabbit at gmail.com (Ibrahim A. Mohamed)
Date: Thu Apr  2 01:49:04 2009
Subject: [wp-hackers] Admin Panel Plugins/Themes Editing Pages Code Editor
In-Reply-To: <902424490904011843n37cf7e16m75686197fbd912f7@mail.gmail.com>
References: <e05a63ba0904011706w4864f299x64158b13e61ec092@mail.gmail.com>
	<518fa9630904011719r705f156paaf152df5da488c1@mail.gmail.com>
	<518fa9630904011720g237bc810x237ff3d3a863b1b9@mail.gmail.com>
	<e05a63ba0904011750h7dacebbchba377e53b424f437@mail.gmail.com>
	<902424490904011843n37cf7e16m75686197fbd912f7@mail.gmail.com>
Message-ID: <e05a63ba0904011848t593cfeebs96247a395ff81ba4@mail.gmail.com>

I actually have seen some of the features already in the up coming features
list..

On Thu, Apr 2, 2009 at 3:43 AM, Beau Lebens <beau@dentedreality.com.au>wrote:

> The best thing to do would be just get the latest version from trunk,
> which has all of these features in it already.
>
> On Wed, Apr 1, 2009 at 5:50 PM, Ibrahim A. Mohamed
> <bingorabbit@gmail.com> wrote:
> > Any resources for that?
> >
> > On Thu, Apr 2, 2009 at 2:20 AM, Matt Martz <mdmartz@sivel.net> wrote:
> >
> >> > Syntax highlighting and line numbering.  A documentation drop down has
> >> > also been added that lists the functions that have been used in the
> >> > code which will direct you to a page containing documentation about
> >> > the function.
> >>
> >> Apparently I didn't finish that thought before sending.
> >>
> >> The above has been added for 2.8 which should be released within the
> next
> >> month.
> >>
> >> --
> >> Matt Martz
> >> matt@sivel.net
> >> http://sivel.net/
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers@lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> >
> > --
> > Regards,
> > Ibrahim Abdel Fattah Mohamed
> > Web Developer
> > Twitter: @bingorabbit
> > e-mail: bingorabbit@gmail.com
> > Personal bLOG: http://bingorabbit.com/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Beau Lebens
> Dented Reality
> beau@dentedreality.com.au
> http://dentedreality.com.au
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards,
Ibrahim Abdel Fattah Mohamed
Web Developer
Twitter: @bingorabbit
e-mail: bingorabbit@gmail.com
Personal bLOG: http://bingorabbit.com/
From xitongzou at gmail.com  Thu Apr  2 03:09:32 2009
From: xitongzou at gmail.com (Tong Zou)
Date: Thu Apr  2 03:09:50 2009
Subject: [wp-hackers] Theme framework proposal
In-Reply-To: <349fe48b0903301215o3a7b7b30k9094d112efd5fe47@mail.gmail.com>
References: <a5a3520c0903301018l6d72e358sb9ec60642cae24bd@mail.gmail.com>
	<349fe48b0903301101r3858c6ddt4b718608cb83513c@mail.gmail.com>
	<a5a3520c0903301142x7b41d933q2ba4d9f2a0f94550@mail.gmail.com>
	<349fe48b0903301215o3a7b7b30k9094d112efd5fe47@mail.gmail.com>
Message-ID: <a5a3520c0904012009q11685672pbee3e8994a4a9853@mail.gmail.com>

My first draft is finished, so feel free to add feedback or critique!

http://www.blue-kaos.com/wp-content/uploads/2009/04/gsoc.pdf

Tong

On Mon, Mar 30, 2009 at 3:15 PM, scribu <scribu@gmail.com> wrote:

> On Mon, Mar 30, 2009 at 9:42 PM, Tong Zou <xitongzou@gmail.com> wrote:
>
> > Sure, dependencies would be nice. Do you have a good idea on how I could
> > implement or get started with a proposal like this? Help is appreciated.
>
>
> You could implement one or two functions, similar to
> register_activation_hook(), which would be called like this:
>
> register_theme_dependencies(array(
>     'foo-plugin' => '1.0'
>     'another_plugin' => '3.3'
> );
>
> register_plugin_dependencies(array(
>     'foo-plugin' => '1.0'
>     'another_plugin' => '3.3'
> );
>
> Basically, what those functions do is check all deps and add the plugins
> that are not already installed to a donwload queue. After that, the user is
> asked if he wants to install them.
>
> This shouldn't be too hard because WP already has automatic plugin
> installation.
>
> Of course, the devil is in the details.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From whyisjake at gmail.com  Thu Apr  2 03:19:58 2009
From: whyisjake at gmail.com (Jake Spurlock)
Date: Thu Apr  2 03:20:13 2009
Subject: GSoC 2009 MEDIA: Was: [wp-hackers] GSoC 2009
In-Reply-To: <49D3EA81.9010402@barrycarlyon.co.uk>
References: <49D274EA.2010108@barrycarlyon.co.uk>
	<49D3EA81.9010402@barrycarlyon.co.uk>
Message-ID: <c523cf40904012019y46d5e53k1b234becf83f9672@mail.gmail.com>

I would look at checking some of the basic spelling errors...



2009/4/1 Barry Carlyon <barry@barrycarlyon.co.uk>:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> I just updated my proposal, comments and feedback welcome:
>
> http://barrycarlyon.co.uk/wordpress/2009/04/01/gsoc-wordpress-application/
>
> Woot!
>
> Barry Carlyon wrote:
>> Good local time all.
>>
>> Just a brief hello, I'm planning on applying to work for Wordpress as
>> part of Google Summer of Code 2009, specifically on the Media Block of
>> ideas (http://codex.wordpress.org/GSoC2009#Media) at the moment my
>> application is pretty open, I'd be interesting in hearing anything
>> anyone has to add, whilst I prepare my application.
>>
>> My blog, albeit new-ish (been sat on it since December, not had time to
>> finish the style, its been hectic at uni since then) is at
>> http://barrycarlyon.co.uk/wordpress/
>>
>> Thanks in advance
>>
>
> - ------------------------------------------------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> - --
> - --------------------------------------------------------
>
> Barry Carlyon
> "Located Between Al-Jazeera and BBC Radio 1"
>
> SRA Regional Rep North East/Yorkshire
> LUU Media Rep
>
> Webmaster: http://LSRfm.com - Leeds Student Radio
> http://barrycarlyon.co.uk
>
> mobile: 07729 048 443
> office: 0113 380 1280
> skype: barrycarlyon
> email: barry@barrycarlyon.co.uk
> msn: barry@barrycarlyon.co.uk
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.9 (MingW32)
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org
>
> iQEcBAEBAgAGBQJJ0+p/AAoJENYooWe8meDjSEEH/jeSLTEC8yUYnwd/rQLAyoij
> 6BNbKmip8mugoa3wMzbs3O4hzt+pLazIKr0yQYRjrKcBG3ZjE6vT/u0+++Kbup1s
> xdgcPRXLBak+XfcR1E18GzDlLua856GPLZwG6cAuwDibQz0i3br7EEf+/PMVG3v3
> /OhnKlnJyLt8+5Mb7EiQLoFNGY7sF8d/BBiw6zwUVXKP1GMGswEYaApttLt/ZZt2
> IQE6FyUBPDy5jNSF0Fr1rLN6UFVs0l9jA9jlKH9tWBeHm5Sk7HqWNTtdXwGBwFfx
> 68cc9NukP7Roqk8Uz8gPZwgP/7Uw3e21FiU0HsmCmwXzIMO6ZP3+Af4hATDuIIw=
> =F6Q/
> -----END PGP SIGNATURE-----
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>



-- 
Jake Spurlock
whyisjake@gmail.com
801.376.6898
http://jakespurlock.com
http://twitter.com/whyisjake
From ncrice at gmail.com  Thu Apr  2 03:24:56 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Thu Apr  2 03:25:11 2009
Subject: [wp-hackers] Admin Panel Plugins/Themes Editing Pages Code Editor
In-Reply-To: <e05a63ba0904011848t593cfeebs96247a395ff81ba4@mail.gmail.com>
References: <e05a63ba0904011706w4864f299x64158b13e61ec092@mail.gmail.com>
	<518fa9630904011719r705f156paaf152df5da488c1@mail.gmail.com>
	<518fa9630904011720g237bc810x237ff3d3a863b1b9@mail.gmail.com>
	<e05a63ba0904011750h7dacebbchba377e53b424f437@mail.gmail.com>
	<902424490904011843n37cf7e16m75686197fbd912f7@mail.gmail.com>
	<e05a63ba0904011848t593cfeebs96247a395ff81ba4@mail.gmail.com>
Message-ID: <862d087f0904012024q52c04670ud4f77b3bd5857edb@mail.gmail.com>

I am running 2.8 bleeding, but the theme editor still has the plain
textarea.  Am I missing something?

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Wed, Apr 1, 2009 at 9:48 PM, Ibrahim A. Mohamed <bingorabbit@gmail.com>wrote:

> I actually have seen some of the features already in the up coming features
> list..
>
> On Thu, Apr 2, 2009 at 3:43 AM, Beau Lebens <beau@dentedreality.com.au
> >wrote:
>
> > The best thing to do would be just get the latest version from trunk,
> > which has all of these features in it already.
> >
> > On Wed, Apr 1, 2009 at 5:50 PM, Ibrahim A. Mohamed
> > <bingorabbit@gmail.com> wrote:
> > > Any resources for that?
> > >
> > > On Thu, Apr 2, 2009 at 2:20 AM, Matt Martz <mdmartz@sivel.net> wrote:
> > >
> > >> > Syntax highlighting and line numbering.  A documentation drop down
> has
> > >> > also been added that lists the functions that have been used in the
> > >> > code which will direct you to a page containing documentation about
> > >> > the function.
> > >>
> > >> Apparently I didn't finish that thought before sending.
> > >>
> > >> The above has been added for 2.8 which should be released within the
> > next
> > >> month.
> > >>
> > >> --
> > >> Matt Martz
> > >> matt@sivel.net
> > >> http://sivel.net/
> > >> _______________________________________________
> > >> wp-hackers mailing list
> > >> wp-hackers@lists.automattic.com
> > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>
> > >
> > >
> > >
> > > --
> > > Regards,
> > > Ibrahim Abdel Fattah Mohamed
> > > Web Developer
> > > Twitter: @bingorabbit
> > > e-mail: bingorabbit@gmail.com
> > > Personal bLOG: http://bingorabbit.com/
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> >
> >
> > --
> > Beau Lebens
> > Dented Reality
> > beau@dentedreality.com.au
> > http://dentedreality.com.au
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Regards,
> Ibrahim Abdel Fattah Mohamed
> Web Developer
> Twitter: @bingorabbit
> e-mail: bingorabbit@gmail.com
> Personal bLOG: http://bingorabbit.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From nametologinwith at gmail.com  Thu Apr  2 03:48:37 2009
From: nametologinwith at gmail.com (FirstName LastName)
Date: Thu Apr  2 03:48:43 2009
Subject: [wp-hackers] WP's design philosophy on controlling feeds
Message-ID: <E5376E9C4C2B49EFB01CE37BD3C62EDE@ad.mc.com>


Summary:  

  I am wondering if it is consistent with the philosophy underlying
  the design of WP to allow administrators to control the size and
  frequency of _individual_ feeds directly from within WP?

Elaboration:
  
  Google's feedbuner's method of controlling the size of individual
  feeds, viz, by appending "?max-results=X" is buggy.
  (refer: http://www.google.com/support/feedburner/bin/answer.py?answer=79626&topic=13188)
  
  So I would like to control the size and update frequency of feeds
  from within WP itself.  I am aware of the following two:
  
    1) WP Dashboard
    
       Dashboard >> Options >> Reading >> Syndication Feeds,
                        Show the Most Recent X number of posts
  
    2) The file feed-rss2-comments.php has these two lines:
  
       <sy:updatePeriod>
           <?php echo apply_filters('rss_update_period', 'hourly'); ?>
       </sy:updatePeriod>
  
       <sy:updateFrequency>
           <?php echo apply_filters('rss_update_frequency', '10'); ?>
       </sy:updateFrequency>
  
       BUT the above apply to all feeds -- feed for posts, feed
       for all-comments etc. -- and I would like to control the
       size and frequency on a feed-by-feed basis.  

  How can the control of individual feeds from within WP be done
  by any of these approaches:  (a) as ordinary user, (b) as plugin
  developer, (c) as WP internal developer?   
  
  Or is controlling individual feeds from within WP so against the
  philosophy of WP-design that it cannot be done at all?

  Thanks,

From vpjayasiri at gmail.com  Thu Apr  2 03:52:11 2009
From: vpjayasiri at gmail.com (Varuna Jayasiri)
Date: Thu Apr  2 03:52:27 2009
Subject: [wp-hackers] Re: Fwd: GSOC Advanced Search
In-Reply-To: <7d999cb2-dcb7-4bed-b4e6-b3e8a5c8f6c1@u9g2000pre.googlegroups.com>
References: <e07c55370903250952of3f3504s30bb6b726154cf0c@mail.gmail.com>
	<e07c55370903290914j77b05b7di10c67931cd20161e@mail.gmail.com>
	<7d999cb2-dcb7-4bed-b4e6-b3e8a5c8f6c1@u9g2000pre.googlegroups.com>
Message-ID: <e07c55370904012052s147eac1euad6be4ed522cde5a@mail.gmail.com>

Hi,

 I have published my application here:
http://www.xvpj.net/gsoc-09-application-wordpress-advance-search/

Please give any comments or suggestions

Thank you
 Varuna


On Thu, Apr 2, 2009 at 12:02 AM, Lloyd Budd <lloydomattic@gmail.com> wrote:

>
> On Mar 29, 9:14 am, Varuna Jayasiri <vpjayas...@gmail.com> wrote:
> >
> > I'm Varuna Jayasiri, a second year undergraduate student at University of
> > Moratuwa, Sri Lanka. I am interested in working in the improved search
> > feature project idea for wordpress.
> >
> > I would like to know whether this project should be developed as a
> > completely new feature (a new search UI/API and back end search facility)
> or
> > as a set of modifications to the WP_Query class to enable more ways to
> > search with a new search UI.
> >
> > Also are there any resources which I should go through in order to get a
> > better understanding about this project.
>
> Hi Varuna,
>
> Incrementally developing a solution based on the existing
> infrastructure is almost always a good idea.
>
> In terms of resources, I would also look at the existing plugins in
> this space and take not of the user experience of other services
> advanced search. It might also be interesting to look at the
> competitive experiences for MT, Drupal, etc.
>
> Cheers,
> Lloyd
> --~--~---------~--~----~------------~-------~--~----~
> You received this message because you are subscribed to the Google Groups
> "WordPress Google Summer of Code 2009" group.
> To post to this group, send email to wordpress-soc-2009@googlegroups.com
> To unsubscribe from this group, send email to
> wordpress-soc-2009+unsubscribe@googlegroups.com<wordpress-soc-2009%2Bunsubscribe@googlegroups.com>
> For more options, visit this group at
> http://groups.google.com/group/wordpress-soc-2009?hl=en
> -~----------~----~----~----~------~----~------~--~---
>
>
From wp-hackers at striderweb.com  Thu Apr  2 04:58:46 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu Apr  2 04:59:18 2009
Subject: [wp-hackers] WP's design philosophy on controlling feeds
In-Reply-To: <E5376E9C4C2B49EFB01CE37BD3C62EDE@ad.mc.com>
References: <E5376E9C4C2B49EFB01CE37BD3C62EDE@ad.mc.com>
Message-ID: <D8D568FF-82DF-46DB-8276-EC9EB339C97B@striderweb.com>

That sounds like something for a plugin.

The philosophy behind WordPress is to put things as used by the vast  
majority in core, and leave "power user" stuff for plugins.  If it's a  
small audience, make it a plugin.  I would think settings for each  
individual feed qualifies as "power user". :)

Stephen

On Apr 1, 2009, at 10:48 PM, FirstName LastName wrote:

>  I am wondering if it is consistent with the philosophy underlying
>  the design of WP to allow administrators to control the size and
>  frequency of _individual_ feeds directly from within WP?

From beau at dentedreality.com.au  Thu Apr  2 06:05:10 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Thu Apr  2 06:05:20 2009
Subject: [wp-hackers] Admin Panel Plugins/Themes Editing Pages Code Editor
In-Reply-To: <862d087f0904012024q52c04670ud4f77b3bd5857edb@mail.gmail.com>
References: <e05a63ba0904011706w4864f299x64158b13e61ec092@mail.gmail.com>
	<518fa9630904011719r705f156paaf152df5da488c1@mail.gmail.com>
	<518fa9630904011720g237bc810x237ff3d3a863b1b9@mail.gmail.com>
	<e05a63ba0904011750h7dacebbchba377e53b424f437@mail.gmail.com>
	<902424490904011843n37cf7e16m75686197fbd912f7@mail.gmail.com>
	<e05a63ba0904011848t593cfeebs96247a395ff81ba4@mail.gmail.com>
	<862d087f0904012024q52c04670ud4f77b3bd5857edb@mail.gmail.com>
Message-ID: <902424490904012305g243d9487i71bd28f5ed67edfb@mail.gmail.com>

On Wed, Apr 1, 2009 at 8:24 PM, Nathan Rice <ncrice@gmail.com> wrote:
> I am running 2.8 bleeding, but the theme editor still has the plain
> textarea. ?Am I missing something?

What browser are you using?

I believe the syntax highlighting only works on certain browsers, but
you should at least see the code lookup menu (beneath the main editing
area) when you load a PHP file?
From mikeschinkel at newclarity.net  Thu Apr  2 06:24:42 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Apr  2 06:25:08 2009
Subject: [wp-hackers] Avoiding Side-effects in Filters & Actions
In-Reply-To: <4458988.5261238653134938.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl311Oge480ed547e4c75033b0470,
	mikeschinkel@newclarity.net, 27015666.5281238653479633.J>

"scribu" <scribu@gmail.com> wrote:
> Mike Schinkel <mikeschinkel@newclarity.net> wrote:
>> What I was hoping for was a robust way to identify the current 
>> context so that there isn't a need to go adding more hooks all 
>> the time.
>
> I've recently run into this issue myself. However, I don't see 
> how that context could be identified, given the current nature 
> of filters.

Yeah, I hate to say but you are probably right, at least not without a comprehensive solution. Currently it seems we have to examine artifacts like $_SERVER['REQUEST_URI'] and $wp_query to determine the current content vs. having a standard variable to inspect, i.e. something like a $wp_context variable that would consolidate the various context values such as an identifier for the current page, current category (if applicable), current tag (if applicable), current query (if applicable), etc. Yes most (all?) of this is available via inspecting other global variables or calling certain functions but often that information is not context-free and those creates subtle bugs. 

For this to really work well it would likely need to be set in certain places in core (i.e. for one of many examples in function query() in /includes/wp-db.php) but I know from experience on this list that suggestions to modify core are met with significant resistance. Still, it would be nice to see an effort to establish a proper and well-known context object to make it much easier to robustly identify context in filters and actions and if there was a will do to that I'd certainly be interested in contributing time towards such an effort.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins
From mikeschinkel at newclarity.net  Thu Apr  2 06:34:12 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Apr  2 06:36:35 2009
Subject: [wp-hackers] GSOC - A Couple of Ideas
In-Reply-To: <DD416A2D-2A92-428F-91C6-39A8A153735D@wangstedt.net>
Message-ID: <EMEWEMEW2_DELIMl311YDc8d4696e08a3dfc8c2a498,
	mikeschinkel@newclarity.net, 12892966.5341238654047518.J>

"Karl W?ngstedt" <maillist@wangstedt.net>
> First I think recently activated plugins should be a separate 
> group in the plugins list just like recently de-activated. That 
> way it's easy to get to the configure link next to the de-activate 
> link to the right of the plugins description.

> Second I think it might make sense to mark newly added menu 
> items (by plugins) in a different colour. Like the message banner 
> when saving a post and activating a plugin.

I like those ideas; they are a good solutions.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins
From peter.westwood at ftwr.co.uk  Thu Apr  2 06:37:56 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu Apr  2 06:38:59 2009
Subject: [wp-hackers] Avoiding Side-effects in Filters & Actions
In-Reply-To: <EMEWEMEW2_DELIMl311Oge480ed547e4c75033b0470,
	mikeschinkel@newclarity.net, 27015666.5281238653479633.J>
References: <EMEWEMEW2_DELIMl311Oge480ed547e4c75033b0470,
	mikeschinkel@newclarity.net, 27015666.5281238653479633.J>
Message-ID: <873828CF-2F8B-479D-AD92-0F63A8D78697@ftwr.co.uk>

I'm not sure where you want the context or what type of context you  
want but you can use the is_ template tags with plugin code not just  
themes

Things like is_tag(), is_ page() etc
--
Peter Westwood
http://peter.Westwood.name

On 2 Apr 2009, at 07:24, Mike Schinkel <mikeschinkel@newclarity.net>  
wrote:

> "scribu" <scribu@gmail.com> wrote:
>> Mike Schinkel <mikeschinkel@newclarity.net> wrote:
>>> What I was hoping for was a robust way to identify the current
>>> context so that there isn't a need to go adding more hooks all
>>> the time.
>>
>> I've recently run into this issue myself. However, I don't see
>> how that context could be identified, given the current nature
>> of filters.
>
> Yeah, I hate to say but you are probably right, at least not without  
> a comprehensive solution. Currently it seems we have to examine  
> artifacts like $_SERVER['REQUEST_URI'] and $wp_query to determine  
> the current content vs. having a standard variable to inspect, i.e.  
> something like a $wp_context variable that would consolidate the  
> various context values such as an identifier for the current page,  
> current category (if applicable), current tag (if applicable),  
> current query (if applicable), etc. Yes most (all?) of this is  
> available via inspecting other global variables or calling certain  
> functions but often that information is not context-free and those  
> creates subtle bugs.
>
> For this to really work well it would likely need to be set in  
> certain places in core (i.e. for one of many examples in function  
> query() in /includes/wp-db.php) but I know from experience on this  
> list that suggestions to modify core are met with significant  
> resistance. Still, it would be nice to see an effort to establish a  
> proper and well-known context object to make it much easier to  
> robustly identify context in filters and actions and if there was a  
> will do to that I'd certainly be interested in contributing time  
> towards such an effort.
>
> -Mike Schinkel
> Custom Wordpress Plugins
> http://mikeschinkel.com/custom-wordpress-plugins
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From sigitdewanto11 at yahoo.co.uk  Wed Apr  1 16:44:39 2009
From: sigitdewanto11 at yahoo.co.uk (Sigit Dewanto)
Date: Thu Apr  2 07:01:01 2009
Subject: [wp-hackers] GSOC 2009: Eclipse Plugin to Help People
	DevelopingPlugin in WordPress
Message-ID: <880081.81221.qm@web28603.mail.ukl.yahoo.com>

The Eclipse plugin will has following features:



1. Wizard to Create WordPress Plugin. This wizard will generate
WordPress structure inside project folder and plugin infrastructur.

2. Code completion for WordPress actions/hooks, filters, and some important class like $wpdb.

3. PHP Editor.

4. Plugin deployment. User will be asked where is the Apache?s document path.

--- On Mon, 30/3/09, Zeronex <wp@chatbazaar.com> wrote:

Hi Sigit

I personally use Eclipse with PDT, but I am not sure what your actual
idea is but if you can do a plugin which can help people to get list of
actions/hooks and filter working with Intellisence would help a lot in
development of plugins.

Thanks
Zeronex




      
From liste at srpski.biz  Thu Apr  2 07:38:28 2009
From: liste at srpski.biz (=?ISO-8859-2?Q?Milan_Dini=E6?=)
Date: Thu Apr  2 07:38:45 2009
Subject: [wp-hackers] Front End Performance in WordPress
In-Reply-To: <49C872FB.6080206@htcomp.net>
References: <49C7F0BC.7030206@poolstudent.com> <49C7F1FA.1080601@yoast.com>
	<49C8576B.8000906@poolstudent.com> <49C872FB.6080206@htcomp.net>
Message-ID: <9b6c20460904020038u462c908csc95fdbff60281c7a@mail.gmail.com>

On wpdevel I suggested (
http://wpdevel.wordpress.com/2008/12/27/optimizing-script-loading/#comment-1906)
specific tip for fastening front end pages but didn't get any reply.
What
are your thoughts about this? Should I open ticket about this on trac?

2009/3/24 Charles K. Clarkson <cclarkson@htcomp.net>

> John Biddle wrote:
>
> > ... once a standard framework has been published and blessed by
> > WordPress.
>
> Why does this framework have to be blessed by WordPress?
>
> The only real endorsement you need is from plugin authors. If it really
> is a good idea (and it sounds like one) then there is no reason to wait
> for some endorsement from on high.
>
> The WordPress Codex is a wiki. Anyone can add documentation. Sure,
> others can also take it down, but we rarely remove good stuff and you
> can watch your page to see what changes are made.
>
> http://codex.wordpress.org/Codex:Contributing
>
>
> HTH,
>
> Charles Clarkson
> --
> Mobile Home Investor
> Free Market Advocate
> Programmer
>
> Stephenville, TX
> http://www.clarksonenergyhomes.com/wordpress/about/
> http://twitter.com/CharlesClarkson
> +1 (254) 968-8328
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From otto at ottodestruct.com  Thu Apr  2 09:18:54 2009
From: otto at ottodestruct.com (Otto)
Date: Thu Apr  2 09:19:25 2009
Subject: [wp-hackers] Front End Performance in WordPress
In-Reply-To: <9b6c20460904020038u462c908csc95fdbff60281c7a@mail.gmail.com>
References: <49C7F0BC.7030206@poolstudent.com> <49C7F1FA.1080601@yoast.com> 
	<49C8576B.8000906@poolstudent.com> <49C872FB.6080206@htcomp.net> 
	<9b6c20460904020038u462c908csc95fdbff60281c7a@mail.gmail.com>
Message-ID: <161617690904020218i67cd978epbf876f7298a8a106@mail.gmail.com>

In principle, I can't see any reason that the comment-reply javascript
can't be moved to the footer. In such a case, the enqueue could happen
in the comments.php file, meaning that you could easily only enqueue
it when there was an actual need to do so.

However, I've not examined that new footer javascript functionality in
2.8 yet, so I don't know how to do it, exactly.

-Otto



On Thu, Apr 2, 2009 at 2:38 AM, Milan Dini? <liste@srpski.biz> wrote:
> On wpdevel I suggested (
> http://wpdevel.wordpress.com/2008/12/27/optimizing-script-loading/#comment-1906)
> specific tip for fastening front end pages but didn't get any reply.
> What
> are your thoughts about this? Should I open ticket about this on trac?
>
> 2009/3/24 Charles K. Clarkson <cclarkson@htcomp.net>
>
>> John Biddle wrote:
>>
>> > ... once a standard framework has been published and blessed by
>> > WordPress.
>>
>> Why does this framework have to be blessed by WordPress?
>>
>> The only real endorsement you need is from plugin authors. If it really
>> is a good idea (and it sounds like one) then there is no reason to wait
>> for some endorsement from on high.
>>
>> The WordPress Codex is a wiki. Anyone can add documentation. Sure,
>> others can also take it down, but we rarely remove good stuff and you
>> can watch your page to see what changes are made.
>>
>> http://codex.wordpress.org/Codex:Contributing
>>
>>
>> HTH,
>>
>> Charles Clarkson
>> --
>> Mobile Home Investor
>> Free Market Advocate
>> Programmer
>>
>> Stephenville, TX
>> http://www.clarksonenergyhomes.com/wordpress/about/
>> http://twitter.com/CharlesClarkson
>> +1 (254) 968-8328
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From otto at ottodestruct.com  Thu Apr  2 09:21:11 2009
From: otto at ottodestruct.com (Otto)
Date: Thu Apr  2 09:21:41 2009
Subject: [wp-hackers] GSOC 2009: Eclipse Plugin to Help People Developing 
	Plugin in WordPress
In-Reply-To: <518427.70090.qm@web28612.mail.ukl.yahoo.com>
References: <518427.70090.qm@web28612.mail.ukl.yahoo.com>
Message-ID: <161617690904020221y571048efpcabed0c372d60e5e@mail.gmail.com>

I use Eclipse with PDT for most of my other PHP development, and I
have WordPress loaded into it via the subversion repo. It works fine
without any need for adjustments. Of course, you have to set up the
webserver bits, which is kind of a pain, but that's the case for any
PHP web project in Eclipse.

-Otto
Sent from Memphis, Tennessee, United States


On Mon, Mar 30, 2009 at 5:19 AM, Sigit Dewanto
<sigitdewanto11@yahoo.co.uk> wrote:
> I have another idea for GSoC 2009 which is to develop Eclipse plugin to help people create their own WordPress plugin. I'd like to know how many PHP programer especially WordPress plugin developers who use Eclipse and phpeclipse/pdt. Will this project be advantegous?
>
> Thanks,
>
> Sigit Dewanto
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From barry at barrycarlyon.co.uk  Thu Apr  2 11:00:48 2009
From: barry at barrycarlyon.co.uk (Barry Carlyon)
Date: Thu Apr  2 11:01:36 2009
Subject: GSoC 2009 MEDIA: Was: [wp-hackers] GSoC 2009
In-Reply-To: <c523cf40904012019y46d5e53k1b234becf83f9672@mail.gmail.com>
References: <49D274EA.2010108@barrycarlyon.co.uk>	<49D3EA81.9010402@barrycarlyon.co.uk>
	<c523cf40904012019y46d5e53k1b234becf83f9672@mail.gmail.com>
Message-ID: <49D49AE0.5090600@barrycarlyon.co.uk>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Thats fixed, I knew there was something I forgot to do :-P

Jake Spurlock wrote:
> I would look at checking some of the basic spelling errors...
> 
> 
> 
> 2009/4/1 Barry Carlyon <barry@barrycarlyon.co.uk>:
> I just updated my proposal, comments and feedback welcome:
> 
> http://barrycarlyon.co.uk/wordpress/2009/04/01/gsoc-wordpress-application/
> 
> Woot!
> 
> Barry Carlyon wrote:
>>>> Good local time all.
>>>>
>>>> Just a brief hello, I'm planning on applying to work for Wordpress as
>>>> part of Google Summer of Code 2009, specifically on the Media Block of
>>>> ideas (http://codex.wordpress.org/GSoC2009#Media) at the moment my
>>>> application is pretty open, I'd be interesting in hearing anything
>>>> anyone has to add, whilst I prepare my application.
>>>>
>>>> My blog, albeit new-ish (been sat on it since December, not had time to
>>>> finish the style, its been hectic at uni since then) is at
>>>> http://barrycarlyon.co.uk/wordpress/
>>>>
>>>> Thanks in advance
>>>>
> ------------------------------------------------------------------------
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
>>
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>

- --
- --------------------------------------------------------

Barry Carlyon
"Located Between Al-Jazeera and BBC Radio 1"

SRA Regional Rep North East/Yorkshire
LUU Media Rep

Webmaster: http://LSRfm.com - Leeds Student Radio
http://barrycarlyon.co.uk

mobile: 07729 048 443
office: 0113 380 1280
skype: barrycarlyon
email: barry@barrycarlyon.co.uk
msn: barry@barrycarlyon.co.uk
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iQEcBAEBAgAGBQJJ1JrfAAoJENYooWe8meDjHOUIAIvEoatdMlchb5XF07elS8yP
BflVwzeStgO8KrtYY+JsqPGWXKEYTwQefTMecjG6IZMxngnHQEaNu++xNLUskcR4
ayeU1WTme5HT7Fi4aMqg093BfS9wDyfgAPVKrgzXW21PGvLAhato6gpoOSB1Gkmv
94FL6eloFCW4cycir5r5R12d4A0evrxspfeIF4dreK0X6JXofcX7iMEqxSfTOEwN
KRcCEVmWVCJoXjK1pVqEUnq0wMaLnECx3TxoCbcYY6zYUeDcrQjP3aGHzKIGyVbO
JnF0yb8twC1chhBNIdYE3qRcJ5aInLjP/2x+BYWP8TASdoQfZwGOrB83cvhl0/0=
=TLpL
-----END PGP SIGNATURE-----
From daryl.koopersmith at gmail.com  Thu Apr  2 11:55:27 2009
From: daryl.koopersmith at gmail.com (Daryl Koopersmith)
Date: Thu Apr  2 11:55:56 2009
Subject: [wp-hackers] [GSoC 2009] A Dynamic Theme Framework and GUI Editor
Message-ID: <bf58ca3c0904020455t5d14469di2b497e730d9a5cc4@mail.gmail.com>

Hi everyone,

My name is Daryl Koopersmith. I was recently developing the concept of
a dynamic theme framework and editor for my application to the Google
SoC when I came upon the "Theme Frameworks" suggestion on the
WordPress ideas list. I found that this concept fit perfectly into
both the WordPress infrastructure and philosophy.

A dynamic theme framework and editor would accomplish the following:

? Provide a GUI through which anyone (regardless of skill level) could
productively edit WordPress themes
? Allow users to create any layout they choose (and in doing so,
provide alternatives to the sidebar-content-sidebar paradigm)
? Allow widgets to be assigned positions and managed visually
? Optimize theme memory footprint and provide automatic cross-browser
compatibility

A detailed description of the project is located at
http://koopersmith.wordpress.com and includes a justification for the
creation of a theme framework/editor and an outline of its potential
implementation. I would be happy to discuss any questions and would
appreciate any feedback you have. Thank you for your time!

Best,
Daryl
From scribu at gmail.com  Thu Apr  2 15:52:56 2009
From: scribu at gmail.com (scribu)
Date: Thu Apr  2 16:32:35 2009
Subject: [wp-hackers] [GSoC 2009] A Dynamic Theme Framework and GUI Editor
In-Reply-To: <bf58ca3c0904020455t5d14469di2b497e730d9a5cc4@mail.gmail.com>
References: <bf58ca3c0904020455t5d14469di2b497e730d9a5cc4@mail.gmail.com>
Message-ID: <349fe48b0904020852k2842e63fv529011d90fd181af@mail.gmail.com>

On Thu, Apr 2, 2009 at 2:55 PM, Daryl Koopersmith <
daryl.koopersmith@gmail.com> wrote:

> Hi everyone,
>
> My name is Daryl Koopersmith. I was recently developing the concept of
> a dynamic theme framework and editor for my application to the Google
> SoC when I came upon the "Theme Frameworks" suggestion on the
> WordPress ideas list. I found that this concept fit perfectly into
> both the WordPress infrastructure and philosophy.
>
> A dynamic theme framework and editor would accomplish the following:
>
> ? Provide a GUI through which anyone (regardless of skill level) could
> productively edit WordPress themes
> ? Allow users to create any layout they choose (and in doing so,
> provide alternatives to the sidebar-content-sidebar paradigm)
> ? Allow widgets to be assigned positions and managed visually
> ? Optimize theme memory footprint and provide automatic cross-browser
> compatibility
>
> A detailed description of the project is located at
> http://koopersmith.wordpress.com and includes a justification for the
> creation of a theme framework/editor and an outline of its potential
> implementation. I would be happy to discuss any questions and would
> appreciate any feedback you have. Thank you for your time!
>
> Best,
> Daryl
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


If you manage to pull this off, I'm sure it will be one of the most popular
theme frameworks out there, if it doesn't go directly into core.

I'm assuming that you will have to go beyond what the Blogger platform
currently offers in this respect, especially if you want to "Allow users to
create any layout they choose (and in doing so, provide alternatives to the
sidebar-content-sidebar paradigm)".

Good luck!


-- 
http://scribu.net
From mikeschinkel at newclarity.net  Thu Apr  2 17:10:28 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Apr  3 00:14:10 2009
Subject: [wp-hackers] Avoiding Side-effects in Filters & Actions
In-Reply-To: <18160814.611238691774044.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl31CAYf658b685df635825c345d9,
	mikeschinkel@newclarity.net, 17193220.631238692226301.J>

"Peter Westwood" <peter.westwood@ftwr.co.uk> wrote;
> I'm not sure where you want the context or what type of 
> context you want but you can use the is_ template tags 
> with plugin code not just themes. Things like is_tag(), 
> is_ page() etc

Yeah, I already use those when I need them. But they are not very granular and sometimes granularity is essential. There are many examples and but let's start with one, maybe there is a canonical approach to this that I've not discovered yet.

First example is a need to get a page's identity in code. The first use-case is a client wants "messaging" modules on their site where a "placement" is defined for a given time period by the page on which is it located and the location on the page (i.e. "products-page_bottom-right".)  To implement this I wrote a generic "messaging" plugin that took the "page name" from context and a hard-coded location on the page and did a database lookup for the current messaging module.  The problem was I wasn't able to come up with a consistent way to identify the page name other than sniffing the URL and creating a function I used that did an ugly "if-then" construct.

One of the reasons that page names are difficult is that some pages represent a record in wp_posts whereas others represent a query (all posts for April 2009, all posts tagged with "London", all posts in the "News" category, etc.), others represent an author, others an attachment, others a search page, and so on. And worse, some plugins define their own context but don't have a standard best-practice way to expose that content (i.e. a gallery plugin might have current image and an calendar events plugin might have current event.) There is no one place you can go (that I am aware of) to get the "page id" that is known to be unique and that is reasonably non-cryptic except the URL which itself doesn't always specific the type of page without more information.

Another aspect is the content on the part of the page. For example, I might have a page that has a criteria based list of posts that has widgets that also contain list of posts. There's no concrete way to say "In this part of the page add *this* to the WHERE clause on on this other part of the page do not." Instead you have to search for artifacts to test, and often those artifacts don't behave as you first assume causing bugs that aren't traced down until after you've deployed for the client.

On some sites there was also the need to establish "sections" for analytic tracking. While this is somewhat subjective and site specific, in many ways it follows the if-else  statement in template-loader (note these are *not* the same as the corresponding is_*() function because the if-else also tests for a valid template):

404
search
taxonomy
home
attachment
single
page
category
tag
author
data
archive
comments_popup
paged_template
template_index

In addition to these, the paged_template could be subdivided to include sections based on pages with no parent (i.e. top level menu items.)  And these sections would need to  be overridable, probably with a filter.

Now maybe my most recent project pushed WordPress harder people push WordPress and that I ran into these "edge cases" far more often than others?  Whatever the case, I had to write lots of if-then statements with a lot of trial and error to "map" URLs to "pages names" and to "inspect" various global variables and call various functions, all of which time to discover and time to figure out it it was really appropriate. This logic is being performed in core, but I don't have direct access to it. I'd be happy to send my 600 line "mapper" file from my most recent project to any individual that wants to see more concretely what I mean.

So what would I propose? I could start building a WP_Context singleton class with a goal of having it become the object to inspect when you need the current context in WordPress. I'd start with the methods get_page_id() and get_section_id() and evolve it as needed. I can do this on my own however I would occasionally need access in core to setting its values where I currently don't have access, for example in template-loader.php. And if it became robust enough and generally useful, you could role it into core.  Would that work?

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

From beau at dentedreality.com.au  Thu Apr  2 17:56:24 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Fri Apr  3 00:18:35 2009
Subject: [wp-hackers] Re: Fwd: GSOC Advanced Search
In-Reply-To: <e07c55370904012052s147eac1euad6be4ed522cde5a@mail.gmail.com>
References: <e07c55370903250952of3f3504s30bb6b726154cf0c@mail.gmail.com>
	<e07c55370903290914j77b05b7di10c67931cd20161e@mail.gmail.com>
	<7d999cb2-dcb7-4bed-b4e6-b3e8a5c8f6c1@u9g2000pre.googlegroups.com>
	<e07c55370904012052s147eac1euad6be4ed522cde5a@mail.gmail.com>
Message-ID: <902424490904021056w3a754fb4hf889e87465b8d756@mail.gmail.com>

Varuna,

I like the look/sound of your proposal, and a more powerful search
system is definitely something WordPress needs.

You might also consider adding a more general "taxonomy:" operator to
your list of supported special operators, which could handle both the
category: and tag: ones (since internally, they are both implemented
as different taxonomies). maybe even something like tax.NAME: or
something (just thinking out loud here) so that you could specify that
it's a taxonomy, and limit it to a specific one. Either that or any
operator used that doesn't match your default title/content/etc ones
is assumed to be a taxonomy name?

Best of luck, and don't forget to formally submit your proposal
through the GSoC website!

Beau

On Wed, Apr 1, 2009 at 8:52 PM, Varuna Jayasiri <vpjayasiri@gmail.com> wrote:
> Hi,
>
> ?I have published my application here:
> http://www.xvpj.net/gsoc-09-application-wordpress-advance-search/
>
> Please give any comments or suggestions
>
> Thank you
> ?Varuna
>
>
> On Thu, Apr 2, 2009 at 12:02 AM, Lloyd Budd <lloydomattic@gmail.com> wrote:
>
>>
>> On Mar 29, 9:14 am, Varuna Jayasiri <vpjayas...@gmail.com> wrote:
>> >
>> > I'm Varuna Jayasiri, a second year undergraduate student at University of
>> > Moratuwa, Sri Lanka. I am interested in working in the improved search
>> > feature project idea for wordpress.
>> >
>> > I would like to know whether this project should be developed as a
>> > completely new feature (a new search UI/API and back end search facility)
>> or
>> > as a set of modifications to the WP_Query class to enable more ways to
>> > search with a new search UI.
>> >
>> > Also are there any resources which I should go through in order to get a
>> > better understanding about this project.
>>
>> Hi Varuna,
>>
>> Incrementally developing a solution based on the existing
>> infrastructure is almost always a good idea.
>>
>> In terms of resources, I would also look at the existing plugins in
>> this space and take not of the user experience of other services
>> advanced search. It might also be interesting to look at the
>> competitive experiences for MT, Drupal, etc.
>>
>> Cheers,
>> Lloyd
>> --~--~---------~--~----~------------~-------~--~----~
>> You received this message because you are subscribed to the Google Groups
>> "WordPress Google Summer of Code 2009" group.
>> To post to this group, send email to wordpress-soc-2009@googlegroups.com
>> To unsubscribe from this group, send email to
>> wordpress-soc-2009+unsubscribe@googlegroups.com<wordpress-soc-2009%2Bunsubscribe@googlegroups.com>
>> For more options, visit this group at
>> http://groups.google.com/group/wordpress-soc-2009?hl=en
>> -~----------~----~----~----~------~----~------~--~---
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Beau Lebens
Dented Reality
beau@dentedreality.com.au
http://dentedreality.com.au
From sojweb at indiana.edu  Fri Apr  3 00:58:11 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Fri Apr  3 00:58:30 2009
Subject: [wp-hackers] Avoiding Side-effects in Filters & Actions
In-Reply-To: <EMEWEMEW2_DELIMl31CAYf658b685df635825c345d9,
	mikeschinkel@newclarity.net, 17193220.631238692226301.J>
References: <EMEWEMEW2_DELIMl31CAYf658b685df635825c345d9,
	mikeschinkel@newclarity.net, 17193220.631238692226301.J>
Message-ID: <7621FF26-0F8A-44C1-A072-C25442B6CB13@indiana.edu>

I've run into this problem too, but I think it would be really tricky  
to formalize a way of doing this, mainly because the context depends  
on what you're looking for. For me, and maybe my experience is  
different, the context has always been something dependent on the  
content of the site, so there's no way to "build it in" with a theme  
or a plugin.

I can see the value of creating a place where theme or plugin  
developers can create and store the context, but, because it's so  
variable, I wonder if it isn't better to just let them do it  
themselves. For posts and pages, I've used custom fields, and it has  
worked quite well. For instances where it's an archive page, it's been  
plain old blocks of logic using the conditional tags, but it works.  
There have also been cases where I made special templates pages, so as  
to guarantee the context.

> Another aspect is the content on the part of the page. For example,  
> I might have a page that has a criteria based list of posts that has  
> widgets that also contain list of posts. There's no concrete way to  
> say "In this part of the page add *this* to the WHERE clause on on  
> this other part of the page do not." Instead you have to search for  
> artifacts to test, and often those artifacts don't behave as you  
> first assume causing bugs that aren't traced down until after you've  
> deployed for the client.

Something like this, I'd think, would simply have to built into the  
theme. Creating custom template tags that live with the theme in the  
functions.php file. That's how I've done it, anyway.

So how would you define a WP_Context class? And how would it be used?  
Would get_page_id() be any different than $post->ID? Or  
get_section_id() from $post->post_parent?


On Apr 2, 2009, at 1:10 PM, Mike Schinkel wrote:

> "Peter Westwood" <peter.westwood@ftwr.co.uk> wrote;
>> I'm not sure where you want the context or what type of
>> context you want but you can use the is_ template tags
>> with plugin code not just themes. Things like is_tag(),
>> is_ page() etc
>
> Yeah, I already use those when I need them. But they are not very  
> granular and sometimes granularity is essential. There are many  
> examples and but let's start with one, maybe there is a canonical  
> approach to this that I've not discovered yet.
>
> First example is a need to get a page's identity in code. The first  
> use-case is a client wants "messaging" modules on their site where a  
> "placement" is defined for a given time period by the page on which  
> is it located and the location on the page (i.e. "products- 
> page_bottom-right".)  To implement this I wrote a generic  
> "messaging" plugin that took the "page name" from context and a hard- 
> coded location on the page and did a database lookup for the current  
> messaging module.  The problem was I wasn't able to come up with a  
> consistent way to identify the page name other than sniffing the URL  
> and creating a function I used that did an ugly "if-then" construct.
>
> One of the reasons that page names are difficult is that some pages  
> represent a record in wp_posts whereas others represent a query (all  
> posts for April 2009, all posts tagged with "London", all posts in  
> the "News" category, etc.), others represent an author, others an  
> attachment, others a search page, and so on. And worse, some plugins  
> define their own context but don't have a standard best-practice way  
> to expose that content (i.e. a gallery plugin might have current  
> image and an calendar events plugin might have current event.) There  
> is no one place you can go (that I am aware of) to get the "page id"  
> that is known to be unique and that is reasonably non-cryptic except  
> the URL which itself doesn't always specific the type of page  
> without more information.
>
> Another aspect is the content on the part of the page. For example,  
> I might have a page that has a criteria based list of posts that has  
> widgets that also contain list of posts. There's no concrete way to  
> say "In this part of the page add *this* to the WHERE clause on on  
> this other part of the page do not." Instead you have to search for  
> artifacts to test, and often those artifacts don't behave as you  
> first assume causing bugs that aren't traced down until after you've  
> deployed for the client.
>
> On some sites there was also the need to establish "sections" for  
> analytic tracking. While this is somewhat subjective and site  
> specific, in many ways it follows the if-else  statement in template- 
> loader (note these are *not* the same as the corresponding is_*()  
> function because the if-else also tests for a valid template):
>
> 404
> search
> taxonomy
> home
> attachment
> single
> page
> category
> tag
> author
> data
> archive
> comments_popup
> paged_template
> template_index
>
> In addition to these, the paged_template could be subdivided to  
> include sections based on pages with no parent (i.e. top level menu  
> items.)  And these sections would need to  be overridable, probably  
> with a filter.
>
> Now maybe my most recent project pushed WordPress harder people push  
> WordPress and that I ran into these "edge cases" far more often than  
> others?  Whatever the case, I had to write lots of if-then  
> statements with a lot of trial and error to "map" URLs to "pages  
> names" and to "inspect" various global variables and call various  
> functions, all of which time to discover and time to figure out it  
> it was really appropriate. This logic is being performed in core,  
> but I don't have direct access to it. I'd be happy to send my 600  
> line "mapper" file from my most recent project to any individual  
> that wants to see more concretely what I mean.
>
> So what would I propose? I could start building a WP_Context  
> singleton class with a goal of having it become the object to  
> inspect when you need the current context in WordPress. I'd start  
> with the methods get_page_id() and get_section_id() and evolve it as  
> needed. I can do this on my own however I would occasionally need  
> access in core to setting its values where I currently don't have  
> access, for example in template-loader.php. And if it became robust  
> enough and generally useful, you could role it into core.  Would  
> that work?
>
> -Mike Schinkel
> Custom Wordpress Plugins
> http://mikeschinkel.com/custom-wordpress-plugins
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mail.msafwat at gmail.com  Fri Apr  3 01:29:04 2009
From: mail.msafwat at gmail.com (Mohammed Safwat)
Date: Fri Apr  3 01:29:18 2009
Subject: [wp-hackers] Application for Google summer of code 2009
Message-ID: <d5c96d790904021829p70ebb01dp781a7d5eb7d787bf@mail.gmail.com>

Dear all ,

I have some ideas to work on for Google Summer of Code 2009 .
Kindly , check this
http://mohammedsafwat.wordpress.com/2009/04/03/my-ideas-for-gsoc-2009/
From pt at ptahd.com  Fri Apr  3 01:45:15 2009
From: pt at ptahd.com (Ptah Dunbar)
Date: Fri Apr  3 01:47:26 2009
Subject: [wp-hackers] WordPress UI guidelines
Message-ID: <99fa93700904021845w54aa7555l3b139b6b1349bc08@mail.gmail.com>

WordPress has it's own set of UI elements used throughout the admin. Is
there any documentation on all available elements or something in that
nature?

Ptah Dunbar ? Web Craftsman, WordPress hacker and Entrepreneur based in
Atlanta, Ga. http://ptahdunbar.com
From mail.msafwat at gmail.com  Fri Apr  3 03:27:43 2009
From: mail.msafwat at gmail.com (Mohammed Safwat)
Date: Fri Apr  3 03:27:58 2009
Subject: [wp-hackers] Making WordPress MU more unified GSoC 2009
Message-ID: <d5c96d790904022027wf47c678g8f887ccbf351e1d4@mail.gmail.com>

Dear all ,

I have some ideas to work on for Google Summer of Code 2009 .
Kindly , check this
http://mohammedsafwat.wordpress.com/2009/04/03/my-ideas-for-gsoc-2009/
From technocraze at gmail.com  Thu Apr  2 17:38:24 2009
From: technocraze at gmail.com (technocraze)
Date: Fri Apr  3 04:28:53 2009
Subject: [wp-hackers] MUlti-DB setup - An alternative approach that i
	handled.
In-Reply-To: <902424490903311016v27e6a1feh4c81d86157b3788b@mail.gmail.com>
References: <20090327120053.28B9E76F8@comox.textdrive.com>	<49CD0319.4070804@byu.net>	<b88434820903272326p5d00c4b7x6d7def2338019ac8@mail.gmail.com>	<49D1DA48.1080409@gmail.com>
	<902424490903311016v27e6a1feh4c81d86157b3788b@mail.gmail.com>
Message-ID: <49D4F810.60805@gmail.com>


> There is a plugin available that would probably be a better way of
> handling this (since it doesn't involve hacking the core code at all).
>
> WordPress.com uses it, so it's known to handle millions of
> users/blogs. Oh, and it has a really cool name :) HyperDB!
>
> http://codex.wordpress.org/HyperDB
>
> HTH
>   
Thanks ..  based on my experience, the number of changes in core code is 
very few, straight forward and spans around three files...   also, the 
hyperDB might fail when we use complex queries in our plugin, like 
unions etc..
From frank at bueltge.de  Fri Apr  3 04:43:29 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Fri Apr  3 04:43:59 2009
Subject: [wp-hackers] WordPress UI guidelines
In-Reply-To: <99fa93700904021845w54aa7555l3b139b6b1349bc08@mail.gmail.com>
References: <99fa93700904021845w54aa7555l3b139b6b1349bc08@mail.gmail.com>
Message-ID: <db047a770904022143p3c13699bg46ea6f36bf104467@mail.gmail.com>

only in german:
http://www.code-styling.de/deutsch/wie-verwende-ich-wordpress-metaboxen-in-eigenen-plugins
have enough code-examples

or thsi one for classes and Ids:
http://bueltge.de/wordpress-25-plugin-style-guide/614/

Best regards
Frank

http://bueltge.de : frank@bueltge.de
http://wpengineer.com : frank@wpengineer.com


On Fri, Apr 3, 2009 at 3:45 AM, Ptah Dunbar <pt@ptahd.com> wrote:

> WordPress has it's own set of UI elements used throughout the admin. Is
> there any documentation on all available elements or something in that
> nature?
>
> Ptah Dunbar ? Web Craftsman, WordPress hacker and Entrepreneur based in
> Atlanta, Ga. http://ptahdunbar.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From pt at ptahd.com  Fri Apr  3 04:56:54 2009
From: pt at ptahd.com (Ptah Dunbar)
Date: Fri Apr  3 05:32:44 2009
Subject: [wp-hackers] WordPress UI guidelines
In-Reply-To: <db047a770904022143p3c13699bg46ea6f36bf104467@mail.gmail.com>
References: <99fa93700904021845w54aa7555l3b139b6b1349bc08@mail.gmail.com> 
	<db047a770904022143p3c13699bg46ea6f36bf104467@mail.gmail.com>
Message-ID: <99fa93700904022156i5271aebawaab4eeef46d28f7a@mail.gmail.com>

Luckily, I can read german! Thanks.

Ptah Dunbar ? Web Craftsman, WordPress hacker and Entrepreneur based in
Atlanta, Ga.
http://ptahdunbar.com


On Fri, Apr 3, 2009 at 12:43 AM, Frank Bueltge <frank@bueltge.de> wrote:

> only in german:
>
> http://www.code-styling.de/deutsch/wie-verwende-ich-wordpress-metaboxen-in-eigenen-plugins
> have enough code-examples
>
> or thsi one for classes and Ids:
> http://bueltge.de/wordpress-25-plugin-style-guide/614/
>
> Best regards
> Frank
>
> http://bueltge.de : frank@bueltge.de
> http://wpengineer.com : frank@wpengineer.com
>
>
> On Fri, Apr 3, 2009 at 3:45 AM, Ptah Dunbar <pt@ptahd.com> wrote:
>
> > WordPress has it's own set of UI elements used throughout the admin. Is
> > there any documentation on all available elements or something in that
> > nature?
> >
> > Ptah Dunbar ? Web Craftsman, WordPress hacker and Entrepreneur based in
> > Atlanta, Ga. http://ptahdunbar.com
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ankitasdeveloper at gmail.com  Fri Apr  3 06:47:37 2009
From: ankitasdeveloper at gmail.com (Ankit Jain)
Date: Fri Apr  3 06:47:51 2009
Subject: [wp-hackers] GSoC2009 - Ideas for implementing Event management in
	MU
Message-ID: <5d80ebe00904022347q6f1b92fau78ae817b2dffdcf7@mail.gmail.com>

Hi,

I have submitted proposal for implementing event management in
MU/BuddyPress.Here is what i think.

Following are few possibilities that can be included in WordPress
MU/BuddyPress. Looking forward for feedback and prioritizing:

   1. Event Organizer: allowing users to create, edit, delete events. In
   addition, time zone coordination and showing time in user?s local time zone,
   geo-location, etc.
   2. Attendance: users can mark for their attendance. (e.g. interested, may
   attend, attending, not attending)
   3. Search for upcoming events. This can be extended as event directory
   allowing location specific search, tag cloud / browse by category.
   4. Roles: users can indicate their role for events. E.g. organizer,
   participant, volunteer, promoter/sponsor, etc;
   5. Revision History: this becomes important component when we want
   multiple users (in addition to event creator) to modify/propose event
   details.
   6. Discussion: each event will have a forum for users? views. For
   simplicity this should be a flat blog-post comment like listing (or like
   Twitter?s update listing).
   7. Tagging: free tagging. Or categorization of event (e.g. educational,
   cultural, get-together/party, conference, show, outing, etc ;).
   Categorization sometimes known as controlled tagging.
   8. Group integration: if implemented in Buddypress, an event can be
   restricted to one (or possibly more) group.
   9. Blog-post integration: while writing a blog-post, users can indicate
   associate events. And now, these posts appear on event?s detail page as
   ?blogs that talk about this event?.
   10. Notifications/Reminders: sending reminder emails to all interested.
   This includes users who have indicated as interested, attending, may attend.
   11. RDF/XML support: This is an effort to produce semantic data [image:
   ;)] as machine interpretable. Event details should be encoded in RDF/XML
   (or RDFa) using http://www.w3.org/TR/rdfcal/ ontology.
   12. Admin page: settings like to enable/disable discussions,
   notifications, revisions, etc;


A detailed proposal is published @
http://ankitjain.info/ankit/2009/04/02/google-summer-of-code-event-management

Community's views and comments are welcomed.

Thank you,
- ankit
From mikeschinkel at newclarity.net  Thu Apr  2 17:23:18 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Apr  3 11:34:26 2009
Subject: [wp-hackers] Addition to template-loader.php
In-Reply-To: <27396575.651238692523180.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl31CNI7334cc6b112db0764be15f,
	mikeschinkel@newclarity.net, 7524192.671238692994400.J>

One of the things I keep running into as a problem is the inability in template-loader.php to gain control before code runs. I'd really like to see  (something like) the following added to template-loader.php just ahead of "if ( is_robots() )":

   $continue = true;
   if (is_custom() && $function = get_custom_function()) {
     $continue = call_user_func($function);
   }
   if (is_null($continue) or $continue) {
      // Existing template-loader.php code goes here
   }

Here is_custom() and get_custom_function() would inspect a global object (maybe $wp? $wp_query?) and, by default, return false and "" respectively however it could be set in the "init" action.

Another option might be to use a filter:

   if (apply_filters('custom_function',true) {
      // Existing template-loader.php code goes here
   }

Either would give a plugin and theme developer the control needed to launch any custom functionality and "hook" the template loader.  Without this one really has to hack in less-than-optimal ways (I'm no even sure specifically how) by using actions and filters not intended for launching custom functionality.  

Thoughts?


-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins
From frank at bueltge.de  Fri Apr  3 12:13:06 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Fri Apr  3 12:13:46 2009
Subject: [wp-hackers] Style Guide
Message-ID: <db047a770904030513p2743d52dqc95cf3f6328abef4@mail.gmail.com>

Drupal have released an style guide:
http://infrastructure.drupal.org/drupal.org-style-guide/index.html

I have write for a lon time a small guide for classes und IDs in plugins for
WordPress:
http://bueltge.de/wordpress-25-plugin-style-guide/614/

Maybe it is possible WordPress become also a style guide. A lot of developer
write plugins with many different styles and colors, very hard for us in
blogs with corporate identity.

Thanks
Frank

__
Das Buch: WordPress - Weblogs einrichten und administrieren, Open Source
Press
 ISBN 978-3-937514-33-8
 http://wordpress-buch.bueltge.de/das-buch/

http://bueltge.de : frank@bueltge.de
http://wpengineer.com : frank@wpengineer.com
From peter.westwood at ftwr.co.uk  Fri Apr  3 12:19:04 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri Apr  3 12:19:22 2009
Subject: [wp-hackers] Addition to template-loader.php
In-Reply-To: <EMEWEMEW2_DELIMl31CNI7334cc6b112db0764be15f,
	mikeschinkel@newclarity.net, 7524192.671238692994400.J>
References: <EMEWEMEW2_DELIMl31CNI7334cc6b112db0764be15f,
	mikeschinkel@newclarity.net, 7524192.671238692994400.J>
Message-ID: <5DC3EEF5-B94D-4D3E-8BD4-8ACBF75D7CA9@ftwr.co.uk>


On 2 Apr 2009, at 18:23, Mike Schinkel wrote:

> One of the things I keep running into as a problem is the inability  
> in template-loader.php to gain control before code runs. I'd really  
> like to see  (something like) the following added to template- 
> loader.php just ahead of "if ( is_robots() )":
>
> Thoughts?

What problem are you having with the existing method which causes you  
to require a new one?

Currently you can already perform your work on the template_redirect  
action and then exit if you don't want any further processing of the  
output by WordPress

Can you give us details of why this doesn't work?

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From mikeschinkel at newclarity.net  Fri Apr  3 17:01:22 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat Apr  4 00:08:00 2009
Subject: [wp-hackers] Addition to template-loader.php
In-Reply-To: <5201372.1411238777853939.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl32C1Na2f7fd2b157d66b1a9b92a,
	mikeschinkel@newclarity.net, 10467314.1431238778079312.J>

Hi Peter:

It did not occur to me to use template_redirect for two reasons:

1.) Given its name I assumed it was triggering a 301 or 302 redirect (obvious now that I look at it, but the name threw me), and
2.) I didn't think to look at it because it didn't have a clean way to terminate and just triggering an exit is generally bad programming practice except for exceptional cases ("exceptional" meaning "Something's wrong, I have to end", not an alternate an expected logic path.)

The tangible problem with using "exit" is it paints the core into a corner if many plugins and themes use "exit" such that code required to be run after the action in that template-loader.php no in the standard flow of any of the calling code can never be added in the future if backward compatibility to plugins is required. IMO to use exit to control flow is simply bad architecture guidance. My guess is this technique of using exit evolved as a workaround to the fact there was no other way to do it and it's simply that no one has ever pressed the issue about changing core?

Given my learning more about template_redirect here's what I'd ask for instead which should be backward compatible. Add the following code in place of "if ( is_robots() )":

	if (apply_filters('template_redirect',null)===false) {
		return;
	} else if ( is_robots() ) {

This would allow any template_redirect to return false to stop if-then processing instead of executing exit yet any plugin that executes exit will still work. This would allow any new and revised plugins to use the best practice and over time few important pluins would be left using exit. An important tangible benefit is that it will be more obvious to experienced programmers who inspect template-loader.php that template_redirect is how you bypass template-loader.php. And this is such a simple change w/o any downsides that I can see that I hope you'll seriously consider making this change.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins
From ahuja.ankit at gmail.com  Fri Apr  3 13:29:06 2009
From: ahuja.ankit at gmail.com (Ankit Ahuja)
Date: Sat Apr  4 00:13:05 2009
Subject: [wp-hackers] GSoC Template versioning proposal
Message-ID: <7e7585310904030629n3978627awd69c0863bb406374@mail.gmail.com>

Hi everyone,
My name is Ankit Ahuja. I was working on my proposal for the template
versioning idea for GSoC.
My proposal consists of the following features:
- Revisions for template files - creating revisions for template files
whenever the user edits a template file in the theme editor. A table
'wp_template_files' will be used to hold the records for the various
revisions of template files. The actual content of the revisions will
be stored by creating new files in /wp-content/themes/revisions/theme-
name'
User will be able to compare the code of two revisions similar to the
way two revisions of a post are compared.
- Revisions for template/theme as a whole - whenever the user saves a
template file, a new revision for the template will also be created.
The records for the template revisions will be stored in a separate
table 'wp_templates'. It will consist of fields for all template files
that will contain the revision of the template file for that
particular revision of the template. If the template does not contain
a template file, that field will be empty
-Autosave -  Similar to when the user writes posts, when she is
editing a template file, it will be auto saved.
-Description of a template revision: The user will be able to describe
a particular revision of a template so that he can identify it later.
this will be implemented as a comment field in the 'wp_templates'
table in the WP db.
The revisions for the template will be shown on the "Manage themes"
page under the heading " Revisions for current theme". The user will
be able to both compare the code of the template files in each
revision as well as preview each revision similar to the way themes
are previewed in "Manage themes" in a modal window. This will allow
the user to easily to switch to a particular revision of her current
theme.
Do all these features combine up to make a gsoc project? Any
suggestions/feedback is welcome. I will need a quick response please
as time is running out! Thanks!

Cheers
Ankit
http://ankitahuja.com
From mikeschinkel at newclarity.net  Fri Apr  3 16:29:21 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat Apr  4 00:29:23 2009
Subject: [wp-hackers] GSoC2009 - Ideas for implementing Event management
	in MU
In-Reply-To: <5d80ebe00904022347q6f1b92fau78ae817b2dffdcf7@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl32BYM5c53b08b943a1a177dfc5e,
	mikeschinkel@newclarity.net, 12882446.1351238776157655.J>

"Ankit Jain" <ankitasdeveloper@gmail.com> wrote:
> I have submitted proposal for implementing event 
> management in MU/BuddyPress.Here is what i think.

I organize a monthly meetup at http://atlantawebentrepreneurs.org and would be extremely interested in such a plugin.  I would of course really like to see it also in the non-MU version of WordPress, at least as much of it as possible.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins
From barry at barrycarlyon.co.uk  Fri Apr  3 14:21:14 2009
From: barry at barrycarlyon.co.uk (Barry Carlyon)
Date: Sat Apr  4 02:35:42 2009
Subject: GSoC 2009 MEDIA: Was: [wp-hackers] GSoC 2009
In-Reply-To: <49D49AE0.5090600@barrycarlyon.co.uk>
References: <49D274EA.2010108@barrycarlyon.co.uk>	<49D3EA81.9010402@barrycarlyon.co.uk>	<c523cf40904012019y46d5e53k1b234becf83f9672@mail.gmail.com>
	<49D49AE0.5090600@barrycarlyon.co.uk>
Message-ID: <49D61B5A.1030301@barrycarlyon.co.uk>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Updated and completly rewritten GSoC Application comments please
http://barrycarlyon.co.uk/wordpress/

Barry Carlyon wrote:
> Thats fixed, I knew there was something I forgot to do :-P
> 
> Jake Spurlock wrote:
>> I would look at checking some of the basic spelling errors...
> 
> 
> 
>> 2009/4/1 Barry Carlyon <barry@barrycarlyon.co.uk>:
>> I just updated my proposal, comments and feedback welcome:
> 
>> http://barrycarlyon.co.uk/wordpress/2009/04/01/gsoc-wordpress-application/
> 
>> Woot!
> 
>> Barry Carlyon wrote:
>>>>> Good local time all.
>>>>>
>>>>> Just a brief hello, I'm planning on applying to work for Wordpress as
>>>>> part of Google Summer of Code 2009, specifically on the Media Block of
>>>>> ideas (http://codex.wordpress.org/GSoC2009#Media) at the moment my
>>>>> application is pretty open, I'd be interesting in hearing anything
>>>>> anyone has to add, whilst I prepare my application.
>>>>>
>>>>> My blog, albeit new-ish (been sat on it since December, not had time to
>>>>> finish the style, its been hectic at uni since then) is at
>>>>> http://barrycarlyon.co.uk/wordpress/
>>>>>
>>>>> Thanks in advance
>>>>>
>> ------------------------------------------------------------------------
> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
> 

- ------------------------------------------------------------------------

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

- --
- --------------------------------------------------------

Barry Carlyon
"Located Between Al-Jazeera and BBC Radio 1"

SRA Regional Rep North East/Yorkshire
LUU Media Rep

Webmaster: http://LSRfm.com - Leeds Student Radio
http://barrycarlyon.co.uk

mobile: 07729 048 443
office: 0113 380 1280
skype: barrycarlyon
email: barry@barrycarlyon.co.uk
msn: barry@barrycarlyon.co.uk
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iQEcBAEBAgAGBQJJ1htZAAoJENYooWe8meDjq6UIAIlp/ApZ0ed74+xpUVvzpJ2d
hRg20Hp2Y/NrmOoXbAxAOXbV/uyPuvY9X9Oz0WfinHkIvWKIv276gB7nnxmNKQQJ
RTzilV/qikMNB0hfclyj86LIeb8j3L/cptzONMKO5tzCpr5usWQaIU8yXq3wNIqt
bFi4ft5U05zhrbkhdh4OGH2Sd1LCsnIcNjvkNMWdOICHjNiuTiNZO5RAOVQhgfST
6UhBeKUeccceW2Tm1nkPkOKwLAxNmlyVGBhms5SR6VJtHsSsh/Qfykm7CtrZK/Ep
mWyKLYuvn0WadlVMkiiR90gOlw+8XZ9LahnanlN8lFlxoEZFOq4QRUrk6hUvKL4=
=J5oN
-----END PGP SIGNATURE-----
From liste at srpski.biz  Fri Apr  3 14:06:28 2009
From: liste at srpski.biz (=?ISO-8859-2?Q?Milan_Dini=E6?=)
Date: Sat Apr  4 05:08:33 2009
Subject: [wp-hackers] Front End Performance in WordPress
In-Reply-To: <161617690904020218i67cd978epbf876f7298a8a106@mail.gmail.com>
References: <49C7F0BC.7030206@poolstudent.com> <49C7F1FA.1080601@yoast.com>
	<49C8576B.8000906@poolstudent.com> <49C872FB.6080206@htcomp.net>
	<9b6c20460904020038u462c908csc95fdbff60281c7a@mail.gmail.com>
	<161617690904020218i67cd978epbf876f7298a8a106@mail.gmail.com>
Message-ID: <9b6c20460904030706u7ceb51dcsfd9db6a15159d524@mail.gmail.com>

This is good idea. My suggestion is that you (or somebody else) check this
out before release and later publish in guidelines for theme compatibility
with 2.8 that wp_enqueue_script should be moved from header.php to
comments.php for faster page loading.

2009/4/2 Otto <otto@ottodestruct.com>

> In principle, I can't see any reason that the comment-reply javascript
> can't be moved to the footer. In such a case, the enqueue could happen
> in the comments.php file, meaning that you could easily only enqueue
> it when there was an actual need to do so.
>
> However, I've not examined that new footer javascript functionality in
> 2.8 yet, so I don't know how to do it, exactly.
>
> -Otto
>
>
>
> On Thu, Apr 2, 2009 at 2:38 AM, Milan Dini? <liste@srpski.biz> wrote:
> > On wpdevel I suggested (
> >
> http://wpdevel.wordpress.com/2008/12/27/optimizing-script-loading/#comment-1906
> )
> > specific tip for fastening front end pages but didn't get any reply.
> > What
> > are your thoughts about this? Should I open ticket about this on trac?
> >
> > 2009/3/24 Charles K. Clarkson <cclarkson@htcomp.net>
> >
> >> John Biddle wrote:
> >>
> >> > ... once a standard framework has been published and blessed by
> >> > WordPress.
> >>
> >> Why does this framework have to be blessed by WordPress?
> >>
> >> The only real endorsement you need is from plugin authors. If it really
> >> is a good idea (and it sounds like one) then there is no reason to wait
> >> for some endorsement from on high.
> >>
> >> The WordPress Codex is a wiki. Anyone can add documentation. Sure,
> >> others can also take it down, but we rarely remove good stuff and you
> >> can watch your page to see what changes are made.
> >>
> >> http://codex.wordpress.org/Codex:Contributing
> >>
> >>
> >> HTH,
> >>
> >> Charles Clarkson
> >> --
> >> Mobile Home Investor
> >> Free Market Advocate
> >> Programmer
> >>
> >> Stephenville, TX
> >> http://www.clarksonenergyhomes.com/wordpress/about/
> >> http://twitter.com/CharlesClarkson
> >> +1 (254) 968-8328
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers@lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From scribu at gmail.com  Sat Apr  4 11:41:03 2009
From: scribu at gmail.com (scribu)
Date: Sat Apr  4 11:41:17 2009
Subject: [wp-hackers] Addition to template-loader.php
In-Reply-To: <-1241097766078786027@unknownmsgid>
References: <5201372.1411238777853939.JavaMail.DELL-1405$@Dell-1405>
	<-1241097766078786027@unknownmsgid>
Message-ID: <349fe48b0904040441j75ea8b1co16628055fa7d6d68@mail.gmail.com>

On Fri, Apr 3, 2009 at 8:01 PM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> Given my learning more about template_redirect here's what I'd ask for
> instead which should be backward compatible. Add the following code in place
> of "if ( is_robots() )":
>
>        if (apply_filters('template_redirect',null)===false) {
>                return;
>        } else if ( is_robots() ) {
>

+1. You should make a trac ticket with this patch.

-- 
http://scribu.net
From mikeschinkel at newclarity.net  Sat Apr  4 11:45:48 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat Apr  4 11:46:18 2009
Subject: [wp-hackers] Addition to template-loader.php
In-Reply-To: <349fe48b0904040441j75ea8b1co16628055fa7d6d68@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl336jme3f3029d3bdea3b35d9ac6,
	mikeschinkel@newclarity.net, 16021257.3111238845546444.J>

Thanks, will do. I guess it is *finally* time for me to learn how. :)

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

----- Original Message -----
From: "scribu" <scribu@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Saturday, April 4, 2009 7:41:03 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Addition to template-loader.php

On Fri, Apr 3, 2009 at 8:01 PM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> Given my learning more about template_redirect here's what I'd ask for
> instead which should be backward compatible. Add the following code in place
> of "if ( is_robots() )":
>
>        if (apply_filters('template_redirect',null)===false) {
>                return;
>        } else if ( is_robots() ) {
>

+1. You should make a trac ticket with this patch.

-- 
http://scribu.net
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Sat Apr  4 12:32:28 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat Apr  4 12:33:06 2009
Subject: [wp-hackers] Addition to template-loader.php
In-Reply-To: <25465060.3171238847646658.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl337WSd0e6c61c10faf68b78f9e0,
	mikeschinkel@newclarity.net, 6315550.3191238848346277.J>

First, bless Owen Winkler for this writeup: http://asymptomatic.net/2005/12/03/586/how-to-patch-wordpress

Second, done: http://core.trac.wordpress.org/ticket/9455
Hope it followed the correct procedure. Let me know what to do different if otherwise.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

----- Original Message -----
From: "Mike Schinkel" <mikeschinkel@newclarity.net>
To: wp-hackers@lists.automattic.com
Sent: Saturday, April 4, 2009 7:45:48 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Addition to template-loader.php

Thanks, will do. I guess it is *finally* time for me to learn how. :)

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

----- Original Message -----
From: "scribu" <scribu@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Saturday, April 4, 2009 7:41:03 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Addition to template-loader.php

On Fri, Apr 3, 2009 at 8:01 PM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> Given my learning more about template_redirect here's what I'd ask for
> instead which should be backward compatible. Add the following code in place
> of "if ( is_robots() )":
>
>        if (apply_filters('template_redirect',null)===false) {
>                return;
>        } else if ( is_robots() ) {
>

+1. You should make a trac ticket with this patch.

-- 
http://scribu.net
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From lists at rotorised.com  Sat Apr  4 15:23:12 2009
From: lists at rotorised.com (Ryan McCue)
Date: Sat Apr  4 15:24:07 2009
Subject: [wp-hackers] Addition to template-loader.php
In-Reply-To: <349fe48b0904040441j75ea8b1co16628055fa7d6d68@mail.gmail.com>
References: <5201372.1411238777853939.JavaMail.DELL-1405$@Dell-1405>	<-1241097766078786027@unknownmsgid>
	<349fe48b0904040441j75ea8b1co16628055fa7d6d68@mail.gmail.com>
Message-ID: <49D77B60.9070101@rotorised.com>

Mike Schinkel wrote:
> Given my learning more about template_redirect here's what I'd ask for
> instead which should be backward compatible. Add the following code in place
> of "if ( is_robots() )":
>
>        if (apply_filters('template_redirect',null)===false) {
>                return;
>        } else if ( is_robots() ) {
>
>   

If there are no filters for 'template_redirect', null does not equal
false with a type-sensitive comparison. You want to specify false in the
place of null, or use a non-sensitive comparison.

--
Ryan McCue
<http://cubegames.net/>

From burobjorn at gmail.com  Sat Apr  4 22:50:37 2009
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Sat Apr  4 22:50:54 2009
Subject: [wp-hackers] What needs to be done to get this ticket #5433 into
	2.8?
Message-ID: <49D7E43D.6050008@gmail.com>

Hi,

I would like to resolve this ticket http://core.trac.wordpress.org/ticket/5433
in the core. Can one of the svn commit access developers tell me what needs to
be done to enable this for 2.8?

All the best,

grtz
BjornW

From mikeschinkel at newclarity.net  Sat Apr  4 22:54:50 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat Apr  4 22:55:11 2009
Subject: [wp-hackers] Addition to template-loader.php
In-Reply-To: <20238168.4011238885320016.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl33Hsof488a67a67ff3a77369e22,
	mikeschinkel@newclarity.net, 14212831.4031238885689019.J>

Ryan:

Yes I know it doesn't seem right at first glance but it is correct logic (ignoring what I've since discovered which I'll address below.) 

The fact that null does not equal false is exactly why I used it.  However, the other things I learned make this a moot point. So I realized as I was writing my reply that it would be good to have a way to write for backward compatibility, i.e that the newly written plugin could fall back to using "exit" for earlier versions of WordPress. My first try was to pass "true", like this:

   if (apply_filters('template_redirect',true)===false) {
     return;
   } else if ( is_robots() ) {

Then in my plugin I could write code like this:

   add_filter('template_redirect','my_template_redirect');
   function my_template_redirect($args) {
      if ($_SERVER['REQUEST_URI']=='/foobar/') {
	 echo 'Hello world!  Bye.';
	 if (is_null($args))
	    exit;
	 else
	    return false;
      }
   }

I soon realized that none of the internal hooks calling template_redirect return any values so my "true" gets overwritten with null before I can see it. So I decided to set a constant in template-loader.php so I can test it in my template_redirect (kludgy yes, but...):

   add_filter('template_redirect','my_template_redirect');
   function my_template_redirect() {
      if ($_SERVER['REQUEST_URI']=='/foobar/') {
         $GLOBALS['wp_query']->is_404 = false;
         echo 'Hello world!  Bye.';
         if (!defined('TEMPLATE_REDIRECT_IS_FILTER'))
            exit;
         else
            return false;
      }
   }
 
HOWEVER, I then realize that by now 404 has been set and nocache_headers() has been called in /wp-includes/classes.php with this code:

   function handle_404() {
      global $wp_query;

      if ( (0 == count($wp_query->posts)) && !is_404() && !is_search() && ( $this->did_permalink || (!empty($_SERVER['QUERY_STRING']) && (false === strpos($_SERVER['REQUEST_URI'], '?'))) ) ) {
         // Don't 404 for these queries if they matched an object.
         if ( ( is_tag() || is_category() || is_author() ) && $wp_query->get_queried_object() ) {
            if ( !is_404() )
               status_header( 200 );
            return;
         }
         $wp_query->set_404();
         status_header( 404 );
         nocache_headers();
      } elseif ( !is_404() ) {
         status_header( 200 );
      }
   }

Then I thought it would be possible to get around the 404 within a template_redirect hook by calling status_header(200) and setting the cache headers correctly and by setting $GLOBALS['wp_query']->is_404 that is very kludgy. Even so, as I start testing I realized that 
redirect_canonical() which is triggered in core on the 'template_redirect' action, and it returns false so as I'm looking at this I'm starting to think there is no robust way to make 'template_redirect' be backward and forward compatible by convert it into a filter. 

This brings me back to my original assertion which is that we really needs another way to handle custom URLs, and to answer Westi's question, "No, the template_redirect hook does not meet the needs because by then it is too late, 404 and nocache headers have been set." We need to discover the custom URL somewhere before handle_404() decides that a request is a 404. 

This forced me to start digging deep to find the best way to accomplish this.  I found many ways it could be done but I wanted to change as little code as possible and introduce no side-affects. I came up with the following but would be happy to see an alternative that would produce the same results:

-- Add var custom_url_func to /wp-includes/query.php
-- Add is_custom_url(), set_custom_url_func($func), & get_custom_url_func() to /wp-includes/query.php
-- Add a test for is_custom_url() in /wp-includes/classes.php in the handle_404() function and if true it will bypass other 404 tests.
-- Add the follow code in /wp-includes/template-loader.php just before the call to do_action('template_redirect');

   if (is_custom_url() && $func = get_custom_url_func()) {
      $continue = call_user_func($func);
      if (!$continue) return;
   }

With these changes to core the following code allows a plugin or theme developer (almost) full control of the URL by hooking 'parse_query' and calling set_custom_url_func('my_custom_url_func'), i.e.:

   add_action('parse_query','my_parse_query');
   function my_parse_query() {
      if ($_SERVER['REQUEST_URI']=='/foobar/')
       set_custom_url_func('my_foobar_func');
   }
   function my_foobar_func() {
      echo 'Hello FooBar!  Bye.';
   }

Granted, this might not be the best way to accomplish this. For example, using a new filter might be a better way to accomplish this but I was trying not to add additional filter processing overhead assuming that might be a concern. I'm not attached to this particular solution, I just want to be able to get proper control of custom URLs that don't fit any of the existing patterns that have been baked into WordPress core and ideally I don't want it to have to be uber-complex for the plugin or theme developer either.

I've submitted a patch to Trac for this, ticket #9460: http://core.trac.wordpress.org/ticket/9460

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

----- Original Message -----
From: "Ryan McCue" <lists@rotorised.com>
To: wp-hackers@lists.automattic.com
Sent: Saturday, April 4, 2009 11:23:12 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Addition to template-loader.php

Mike Schinkel wrote:
> Given my learning more about template_redirect here's what I'd ask for
> instead which should be backward compatible. Add the following code in place
> of "if ( is_robots() )":
>
>        if (apply_filters('template_redirect',null)===false) {
>                return;
>        } else if ( is_robots() ) {
>
>   

If there are no filters for 'template_redirect', null does not equal
false with a type-sensitive comparison. You want to specify false in the
place of null, or use a non-sensitive comparison.

--
Ryan McCue
<http://cubegames.net/>

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From vpjayasiri at gmail.com  Sun Apr  5 06:26:45 2009
From: vpjayasiri at gmail.com (Varuna Jayasiri)
Date: Sun Apr  5 06:27:00 2009
Subject: [wp-hackers] Re: Fwd: GSOC Advanced Search
In-Reply-To: <902424490904021056w3a754fb4hf889e87465b8d756@mail.gmail.com>
References: <e07c55370903250952of3f3504s30bb6b726154cf0c@mail.gmail.com>
	<e07c55370903290914j77b05b7di10c67931cd20161e@mail.gmail.com>
	<7d999cb2-dcb7-4bed-b4e6-b3e8a5c8f6c1@u9g2000pre.googlegroups.com>
	<e07c55370904012052s147eac1euad6be4ed522cde5a@mail.gmail.com>
	<902424490904021056w3a754fb4hf889e87465b8d756@mail.gmail.com>
Message-ID: <e07c55370904042326q4b2ad894o2fd69782662b55fe@mail.gmail.com>

Hi,

Sorry, I've missed out this mail :P :P. Sorry for the late reply.

On Thu, Apr 2, 2009 at 11:26 PM, Beau Lebens <beau@dentedreality.com.au>wrote:

> Varuna,
>
> I like the look/sound of your proposal, and a more powerful search
> system is definitely something WordPress needs.
>
> You might also consider adding a more general "taxonomy:" operator to
> your list of supported special operators, which could handle both the
> category: and tag: ones (since internally, they are both implemented
> as different taxonomies).

Ya this seems a good idea. I'll add it.


> maybe even something like tax.NAME: or
> something (just thinking out loud here) so that you could specify that
> it's a taxonomy, and limit it to a specific one. Either that or any
> operator used that doesn't match your default title/content/etc ones
> is assumed to be a taxonomy name?
>
> Best of luck, and don't forget to formally submit your proposal
> through the GSoC website!


I submitted it :). But could not include the suggestion you've made above as
I did not see this mail in my inbox until now :(

Varuna

>
>
> Beau
>
> On Wed, Apr 1, 2009 at 8:52 PM, Varuna Jayasiri <vpjayasiri@gmail.com>
> wrote:
> > Hi,
> >
> >  I have published my application here:
> > http://www.xvpj.net/gsoc-09-application-wordpress-advance-search/
> >
> > Please give any comments or suggestions
> >
> > Thank you
> >  Varuna
> >
> >
> > On Thu, Apr 2, 2009 at 12:02 AM, Lloyd Budd <lloydomattic@gmail.com>
> wrote:
> >
> >>
> >> On Mar 29, 9:14 am, Varuna Jayasiri <vpjayas...@gmail.com> wrote:
> >> >
> >> > I'm Varuna Jayasiri, a second year undergraduate student at University
> of
> >> > Moratuwa, Sri Lanka. I am interested in working in the improved search
> >> > feature project idea for wordpress.
> >> >
> >> > I would like to know whether this project should be developed as a
> >> > completely new feature (a new search UI/API and back end search
> facility)
> >> or
> >> > as a set of modifications to the WP_Query class to enable more ways to
> >> > search with a new search UI.
> >> >
> >> > Also are there any resources which I should go through in order to get
> a
> >> > better understanding about this project.
> >>
> >> Hi Varuna,
> >>
> >> Incrementally developing a solution based on the existing
> >> infrastructure is almost always a good idea.
> >>
> >> In terms of resources, I would also look at the existing plugins in
> >> this space and take not of the user experience of other services
> >> advanced search. It might also be interesting to look at the
> >> competitive experiences for MT, Drupal, etc.
> >>
> >> Cheers,
> >> Lloyd
> >> --~--~---------~--~----~------------~-------~--~----~
> >> You received this message because you are subscribed to the Google
> Groups
> >> "WordPress Google Summer of Code 2009" group.
> >> To post to this group, send email to
> wordpress-soc-2009@googlegroups.com
> >> To unsubscribe from this group, send email to
> >> wordpress-soc-2009+unsubscribe@googlegroups.com<wordpress-soc-2009%2Bunsubscribe@googlegroups.com>
> <wordpress-soc-2009%2Bunsubscribe@googlegroups.com<wordpress-soc-2009%252Bunsubscribe@googlegroups.com>
> >
> >> For more options, visit this group at
> >> http://groups.google.com/group/wordpress-soc-2009?hl=en
> >> -~----------~----~----~----~------~----~------~--~---
> >>
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Beau Lebens
> Dented Reality
> beau@dentedreality.com.au
> http://dentedreality.com.au
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mail.msafwat at gmail.com  Sun Apr  5 16:19:08 2009
From: mail.msafwat at gmail.com (Mohammed Safwat)
Date: Sun Apr  5 16:19:19 2009
Subject: [wp-hackers] Can I recieve any comments ?
Message-ID: <d5c96d790904050919r6f531e2bg7492170c99fafb77@mail.gmail.com>

Hello all ;
I have submitted my ideas for GSoC 2009 , but until now no one replied to me
or commented for my ideas .
I'm just worried ..
I want to work on wordpress CMS and source code even if my application will
not be accepted , so I need your opinion.
Thanks in advance .
From scribu at gmail.com  Sun Apr  5 16:26:18 2009
From: scribu at gmail.com (scribu)
Date: Sun Apr  5 16:26:34 2009
Subject: [wp-hackers] Can I recieve any comments ?
In-Reply-To: <d5c96d790904050919r6f531e2bg7492170c99fafb77@mail.gmail.com>
References: <d5c96d790904050919r6f531e2bg7492170c99fafb77@mail.gmail.com>
Message-ID: <349fe48b0904050926v3909c69dgf9e53cbc1bcee681@mail.gmail.com>

You forgot to give us the  link to your proposal. (Even if it was mentioned
on this list before)

On Sun, Apr 5, 2009 at 7:19 PM, Mohammed Safwat <mail.msafwat@gmail.com>wrote:

> Hello all ;
> I have submitted my ideas for GSoC 2009 , but until now no one replied to
> me
> or commented for my ideas .
> I'm just worried ..
> I want to work on wordpress CMS and source code even if my application will
> not be accepted , so I need your opinion.
> Thanks in advance .
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From fonsekaean at gmail.com  Sun Apr  5 16:32:49 2009
From: fonsekaean at gmail.com (Nivanka Fonseka)
Date: Sun Apr  5 16:33:06 2009
Subject: [wp-hackers] Template revisioning system for WordPress
Message-ID: <421be760904050932j51349df8m1d686a70714f1bf0@mail.gmail.com>

Hi,

I submitted my GSoC proposal about the template revisoning system.

Here is the link for that. Would love to hear your views about it,
you can download it here,
http://whynotonline.com/Template_Versioning_Proposal_GSOC.pdf

-- 
Nivanka Fonseka
From scribu at gmail.com  Sun Apr  5 16:39:47 2009
From: scribu at gmail.com (scribu)
Date: Sun Apr  5 16:40:02 2009
Subject: [wp-hackers] Template revisioning system for WordPress
In-Reply-To: <421be760904050932j51349df8m1d686a70714f1bf0@mail.gmail.com>
References: <421be760904050932j51349df8m1d686a70714f1bf0@mail.gmail.com>
Message-ID: <349fe48b0904050939w2487a94cj5c0a2564014518ea@mail.gmail.com>

IMHO, I don't see why something like this would be useful to have in Core. I
mean, if you're serious about your site, you'll want to use SVN or another
standard version control system, not a custom one built specifically for WP.


-- 
http://scribu.net
From fonsekaean at gmail.com  Sun Apr  5 16:42:18 2009
From: fonsekaean at gmail.com (Nivanka Fonseka)
Date: Sun Apr  5 16:42:37 2009
Subject: [wp-hackers] Template revisioning system for WordPress
In-Reply-To: <349fe48b0904050939w2487a94cj5c0a2564014518ea@mail.gmail.com>
References: <421be760904050932j51349df8m1d686a70714f1bf0@mail.gmail.com>
	<349fe48b0904050939w2487a94cj5c0a2564014518ea@mail.gmail.com>
Message-ID: <421be760904050942n5af844dmc2594d56b155d33b@mail.gmail.com>

I think this will be useful because we cant expect all the wordpress
users to use SVN or anyother versioning  system. So it will be still
useful for non programmers other than people who are coming from the
programming background.

On Sun, Apr 5, 2009 at 10:09 PM, scribu <scribu@gmail.com> wrote:
> IMHO, I don't see why something like this would be useful to have in Core. I
> mean, if you're serious about your site, you'll want to use SVN or another
> standard version control system, not a custom one built specifically for WP.
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Nivanka Fonseka
From scribu at gmail.com  Sun Apr  5 16:44:41 2009
From: scribu at gmail.com (scribu)
Date: Sun Apr  5 16:44:56 2009
Subject: [wp-hackers] Template revisioning system for WordPress
In-Reply-To: <421be760904050942n5af844dmc2594d56b155d33b@mail.gmail.com>
References: <421be760904050932j51349df8m1d686a70714f1bf0@mail.gmail.com>
	<349fe48b0904050939w2487a94cj5c0a2564014518ea@mail.gmail.com>
	<421be760904050942n5af844dmc2594d56b155d33b@mail.gmail.com>
Message-ID: <349fe48b0904050944s719d28ebpf478b65980424477@mail.gmail.com>

On Sun, Apr 5, 2009 at 7:42 PM, Nivanka Fonseka <fonsekaean@gmail.com>wrote:

> I think this will be useful because we cant expect all the wordpress
> users to use SVN or anyother versioning  system. So it will be still
> useful for non programmers other than people who are coming from the
> programming background.
>

Ok, then I hope you'll write it in such a way that it can integrate with and
enhance the current Post Revisions feature.

-- 
http://scribu.net
From jer at simianuprising.com  Sun Apr  5 21:42:22 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Sun Apr  5 21:42:37 2009
Subject: [wp-hackers] Avoiding Side-effects in Filters & Actions
In-Reply-To: <7621FF26-0F8A-44C1-A072-C25442B6CB13@indiana.edu>
References: <7621FF26-0F8A-44C1-A072-C25442B6CB13@indiana.edu>
Message-ID: <e1202cb10904051442l30d4041fw7de8951fcb7f3337@mail.gmail.com>

Mike, I think that you're probably doing more work than you need to. I
don't want to just repeat what's already been said, but it sounds like
most of what you need is available from the is_x() functions like
is_page() and is_date(). The actual class that is used is the
$wp_query object. It's not perfect, and unfortunately there's no
canonical $wp_query->type variable that would hold something like
'category', but instead there are just all the different variables
that define the context and they are accessed indirectly using the
is_type() functions. It would be really hard and IMHO barely useful to
have a overarching text description of the current context because of
things like category archives that are also paged, or
date-page-category archives (?cat=3&m=200809&paged=2) that would make
it really complicated. I'm not sure why you would be parsing the query
string yourself, that sounds completely wrong, as its already done by
core and fit into the $wp_query object.

Another part of your problem would probably be solved using custom
fields. What I do is just write my own is_x() functions that check
custom fields (or categories, or whatever) and work them into my logic
along with the core ones. Admittedly its not perfect but I think the
problems your having are going to be there no matter what, it just
comes with the territory unless you expect a full-on UI for managing
all the contextual content blocks (and my experiences with Drupal make
me pretty skeptical that that is any easier to manage than php is_x()
functions unless you don't know any php).

-- 
Jeremy Clarke | http://simianuprising.com
Code and Design | http://globalvoicesonline.org
From mikeschinkel at newclarity.net  Sun Apr  5 22:56:34 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun Apr  5 22:57:50 2009
Subject: [wp-hackers] Avoiding Side-effects in Filters & Actions
In-Reply-To: <e1202cb10904051442l30d4041fw7de8951fcb7f3337@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl34HuYeb237963e29aca54f90f4d,
	mikeschinkel@newclarity.net, 14209630.5091238972179947.J>

You are probably right. Right in the sense that it will probably be more effort to convince people to incorporate into WP core rather than just build what I need for my own use and beg for the hooks that are needed but not yet there.

-Mike 

----- Original Message -----
From: "Jeremy Clarke" <jer@simianuprising.com>
To: wp-hackers@lists.automattic.com
Sent: Sunday, April 5, 2009 5:42:22 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Avoiding Side-effects in Filters & Actions

Mike, I think that you're probably doing more work than you need to. I
don't want to just repeat what's already been said, but it sounds like
most of what you need is available from the is_x() functions like
is_page() and is_date(). The actual class that is used is the
$wp_query object. It's not perfect, and unfortunately there's no
canonical $wp_query->type variable that would hold something like
'category', but instead there are just all the different variables
that define the context and they are accessed indirectly using the
is_type() functions. It would be really hard and IMHO barely useful to
have a overarching text description of the current context because of
things like category archives that are also paged, or
date-page-category archives (?cat=3&m=200809&paged=2) that would make
it really complicated. I'm not sure why you would be parsing the query
string yourself, that sounds completely wrong, as its already done by
core and fit into the $wp_query object.

Another part of your problem would probably be solved using custom
fields. What I do is just write my own is_x() functions that check
custom fields (or categories, or whatever) and work them into my logic
along with the core ones. Admittedly its not perfect but I think the
problems your having are going to be there no matter what, it just
comes with the territory unless you expect a full-on UI for managing
all the contextual content blocks (and my experiences with Drupal make
me pretty skeptical that that is any easier to manage than php is_x()
functions unless you don't know any php).

-- 
Jeremy Clarke | http://simianuprising.com
Code and Design | http://globalvoicesonline.org
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From bnabble at says.mu  Mon Apr  6 00:09:28 2009
From: bnabble at says.mu (horatio)
Date: Mon Apr  6 00:09:43 2009
Subject: [wp-hackers] wpmu / adding users/sites/any other admin
In-Reply-To: <22820340.post@talk.nabble.com>
References: <e57ee520903311107n4a9ec1e0y53c2b3a4aecd3f26@mail.gmail.com>
	<22820340.post@talk.nabble.com>
Message-ID: <22900358.post@talk.nabble.com>


i made a VERY ROUGH remote api for myself to use before anyone else codes a
proper wp/wpmu api. it works very well for my purposes, but keep in mind
that this leaves some massive holes open, so it should be checking for a
localhost ip, put behind a password protected directory, whitelist
particular functions, check incoming data integrity, etc. use at your own
risk.

it works by posting
"function" (string containing wordpress core or custom function)
and
"args" (array containing the args to pass to the function)
to the script.

you get back a serialized result of the data:
serialize(
success=>true,
results=>(function return value)
)

so you could post 
function=>'testfunc',
args=>Array('one', 'two')
to this script, and you would get back the serialized results from
serialize(testfunc('one, 'two'))

i've also written a cakePHP component that deals with this remote API, if
anyone is interested. i'm creating new domains/blogs/users through it fine.

code follows:

	// Location of Wordpress install
		define('WP_LOCATION', '../../../site');

	// Trap errors
		set_error_handler('return_error_php');
		register_shutdown_function('return_shutdown_php');
			error_reporting(E_ALL);
			ini_set('display_errors', 0);

	// Help Wordpress be quiet
		define('WP_INSTALLING', true);

	// Trick Wordpress into thinking we're in its directory, so it pulls the
correct site from the DB.
	//	global $domain,$path;
	//	$_SERVER[ 'REQUEST_URI' ] = $path = "/site/";

	// Include WP headers
		global $user, $wpdb, $allowedtags, $blog_id;
		require_once(WP_LOCATION."/wp-config.php");
		require_once(WP_LOCATION."/wp-includes/registration.php");

		if (!isset($_POST['function']) && !isset($_POST['args'])) {
return_error('You sent in an empty request.'); }

	// Check request validity
		if (!function_exists($_POST['function'])) { return_error('Function
'.$_POST['function'].' is undefined.'); }

	// Run requested function
		$result = call_user_func_array($_POST['function'], $_POST['args']);

	// Check function results
		if ($result == null || $result == false) { return_error('Function
'.$_POST['function'].' returned false/null.'); }

	return_success(Array('return' => $result));


	// For example above
	function testfunc($one, $two){ return "testfunc(): arg one is $one and arg
two is $two"; }

	// Traps large PHP problems
	function return_shutdown_php(){
		if ($error = error_get_last()){
		    switch($error['type']){
			case E_ERROR:
			case E_CORE_ERROR:
			case E_COMPILE_ERROR:
			case E_USER_ERROR:
				return_error($error['message'], 'php');
			break;
		    }
		}
	}

	// Traps simple PHP problems
	function return_error_php($errno, $errstr, $errfile, $errline, $errcontext)
	{
		switch ($errno)
		{
			case E_USER_WARNING:
			case E_USER_NOTICE:
			case E_WARNING:
			case E_NOTICE:
				break;
			case E_CORE_WARNING:
			case E_COMPILE_WARNING:
			case E_USER_ERROR:
			case E_ERROR:
			case E_PARSE:
			case E_CORE_ERROR:
			case E_COMPILE_ERROR:
			return_error($errstr, 'php');
		}
	}

	// Formats error messages for return_data()
	function return_error($error, $class='wpmu') { return_data(Array(
		'success'=>false,
		'error'=>$error,
		'class'=>$class
	)); }

	// Formats success messages for return_data()
	function return_success($results) {
return_data(array_merge(Array('success'=>true, 'results'=>$results))); }

	// Dumps results as serialized data	
	function return_data($data) { echo serialize($data); exit; }

-- 
View this message in context: http://www.nabble.com/Re%3A-wpmu---adding-users-sites-any-other-admin-tp22811272p22900358.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From alan at verselogic.net  Mon Apr  6 00:16:36 2009
From: alan at verselogic.net (Alan Castonguay)
Date: Mon Apr  6 00:16:51 2009
Subject: [wp-hackers] wpmu / adding users/sites/any other admin
In-Reply-To: <22900358.post@talk.nabble.com>
References: <e57ee520903311107n4a9ec1e0y53c2b3a4aecd3f26@mail.gmail.com>
	<22820340.post@talk.nabble.com> <22900358.post@talk.nabble.com>
Message-ID: <8B655E79-CC13-460C-805B-F7BA7A318CB5@verselogic.net>

Arbitrary remote code execution. "massive holes" is a bit of an  
understatement. You may wish to look at wpapp or xmlrpc and see if you  
can either hook into those, or better yet write a patch to provide the  
needed functionality. I agree that the need exists.

Alan

Sent from my iPhone

On 5-Apr-09, at 20:09, horatio <bnabble@says.mu> wrote:

>
> i made a VERY ROUGH remote api for myself to use before anyone else  
> codes a
> proper wp/wpmu api. it works very well for my purposes, but keep in  
> mind
> that this leaves some massive holes open, so it should be checking  
> for a
> localhost ip, put behind a password protected directory, whitelist
> particular functions, check incoming data integrity, etc. use at  
> your own
> risk.
>
> it works by posting
> "function" (string containing wordpress core or custom function)
> and
> "args" (array containing the args to pass to the function)
> to the script.
>
> you get back a serialized result of the data:
> serialize(
> success=>true,
> results=>(function return value)
> )
>
> so you could post
> function=>'testfunc',
> args=>Array('one', 'two')
> to this script, and you would get back the serialized results from
> serialize(testfunc('one, 'two'))
>
> i've also written a cakePHP component that deals with this remote  
> API, if
> anyone is interested. i'm creating new domains/blogs/users through  
> it fine.
>
> code follows:
>
>    // Location of Wordpress install
>        define('WP_LOCATION', '../../../site');
>
>    // Trap errors
>        set_error_handler('return_error_php');
>        register_shutdown_function('return_shutdown_php');
>            error_reporting(E_ALL);
>            ini_set('display_errors', 0);
>
>    // Help Wordpress be quiet
>        define('WP_INSTALLING', true);
>
>    // Trick Wordpress into thinking we're in its directory, so it  
> pulls the
> correct site from the DB.
>    //    global $domain,$path;
>    //    $_SERVER[ 'REQUEST_URI' ] = $path = "/site/";
>
>    // Include WP headers
>        global $user, $wpdb, $allowedtags, $blog_id;
>        require_once(WP_LOCATION."/wp-config.php");
>        require_once(WP_LOCATION."/wp-includes/registration.php");
>
>        if (!isset($_POST['function']) && !isset($_POST['args'])) {
> return_error('You sent in an empty request.'); }
>
>    // Check request validity
>        if (!function_exists($_POST['function']))  
> { return_error('Function
> '.$_POST['function'].' is undefined.'); }
>
>    // Run requested function
>        $result = call_user_func_array($_POST['function'],  
> $_POST['args']);
>
>    // Check function results
>        if ($result == null || $result == false)  
> { return_error('Function
> '.$_POST['function'].' returned false/null.'); }
>
>    return_success(Array('return' => $result));
>
>
>    // For example above
>    function testfunc($one, $two){ return "testfunc(): arg one is  
> $one and arg
> two is $two"; }
>
>    // Traps large PHP problems
>    function return_shutdown_php(){
>        if ($error = error_get_last()){
>            switch($error['type']){
>            case E_ERROR:
>            case E_CORE_ERROR:
>            case E_COMPILE_ERROR:
>            case E_USER_ERROR:
>                return_error($error['message'], 'php');
>            break;
>            }
>        }
>    }
>
>    // Traps simple PHP problems
>    function return_error_php($errno, $errstr, $errfile, $errline,  
> $errcontext)
>    {
>        switch ($errno)
>        {
>            case E_USER_WARNING:
>            case E_USER_NOTICE:
>            case E_WARNING:
>            case E_NOTICE:
>                break;
>            case E_CORE_WARNING:
>            case E_COMPILE_WARNING:
>            case E_USER_ERROR:
>            case E_ERROR:
>            case E_PARSE:
>            case E_CORE_ERROR:
>            case E_COMPILE_ERROR:
>            return_error($errstr, 'php');
>        }
>    }
>
>    // Formats error messages for return_data()
>    function return_error($error, $class='wpmu') { return_data(Array(
>        'success'=>false,
>        'error'=>$error,
>        'class'=>$class
>    )); }
>
>    // Formats success messages for return_data()
>    function return_success($results) {
> return_data(array_merge(Array('success'=>true, 'results'=> 
> $results))); }
>
>    // Dumps results as serialized data
>    function return_data($data) { echo serialize($data); exit; }
>
> -- 
> View this message in context: http://www.nabble.com/Re%3A-wpmu---adding-users-sites-any-other-admin-tp22811272p22900358.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Mon Apr  6 00:19:16 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Apr  6 00:19:36 2009
Subject: [wp-hackers] wpmu / adding users/sites/any other admin
In-Reply-To: <8B655E79-CC13-460C-805B-F7BA7A318CB5@verselogic.net>
Message-ID: <EMEWEMEW2_DELIMl34JJG444deccac2f835f80f79db,
	mikeschinkel@newclarity.net, 9166707.5261238977148689.J>

I'd also really like to see a RESTful API rather than an RPC API. JMTCW.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

----- Original Message -----
From: "Alan Castonguay" <alan@verselogic.net>
To: wp-hackers@lists.automattic.com
Cc: wp-hackers@lists.automattic.com
Sent: Sunday, April 5, 2009 8:16:36 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] wpmu / adding users/sites/any other admin

Arbitrary remote code execution. "massive holes" is a bit of an  
understatement. You may wish to look at wpapp or xmlrpc and see if you  
can either hook into those, or better yet write a patch to provide the  
needed functionality. I agree that the need exists.

Alan

Sent from my iPhone

On 5-Apr-09, at 20:09, horatio <bnabble@says.mu> wrote:

>
> i made a VERY ROUGH remote api for myself to use before anyone else  
> codes a
> proper wp/wpmu api. it works very well for my purposes, but keep in  
> mind
> that this leaves some massive holes open, so it should be checking  
> for a
> localhost ip, put behind a password protected directory, whitelist
> particular functions, check incoming data integrity, etc. use at  
> your own
> risk.
>
> it works by posting
> "function" (string containing wordpress core or custom function)
> and
> "args" (array containing the args to pass to the function)
> to the script.
>
> you get back a serialized result of the data:
> serialize(
> success=>true,
> results=>(function return value)
> )
>
> so you could post
> function=>'testfunc',
> args=>Array('one', 'two')
> to this script, and you would get back the serialized results from
> serialize(testfunc('one, 'two'))
>
> i've also written a cakePHP component that deals with this remote  
> API, if
> anyone is interested. i'm creating new domains/blogs/users through  
> it fine.
>
> code follows:
>
>    // Location of Wordpress install
>        define('WP_LOCATION', '../../../site');
>
>    // Trap errors
>        set_error_handler('return_error_php');
>        register_shutdown_function('return_shutdown_php');
>            error_reporting(E_ALL);
>            ini_set('display_errors', 0);
>
>    // Help Wordpress be quiet
>        define('WP_INSTALLING', true);
>
>    // Trick Wordpress into thinking we're in its directory, so it  
> pulls the
> correct site from the DB.
>    //    global $domain,$path;
>    //    $_SERVER[ 'REQUEST_URI' ] = $path = "/site/";
>
>    // Include WP headers
>        global $user, $wpdb, $allowedtags, $blog_id;
>        require_once(WP_LOCATION."/wp-config.php");
>        require_once(WP_LOCATION."/wp-includes/registration.php");
>
>        if (!isset($_POST['function']) && !isset($_POST['args'])) {
> return_error('You sent in an empty request.'); }
>
>    // Check request validity
>        if (!function_exists($_POST['function']))  
> { return_error('Function
> '.$_POST['function'].' is undefined.'); }
>
>    // Run requested function
>        $result = call_user_func_array($_POST['function'],  
> $_POST['args']);
>
>    // Check function results
>        if ($result == null || $result == false)  
> { return_error('Function
> '.$_POST['function'].' returned false/null.'); }
>
>    return_success(Array('return' => $result));
>
>
>    // For example above
>    function testfunc($one, $two){ return "testfunc(): arg one is  
> $one and arg
> two is $two"; }
>
>    // Traps large PHP problems
>    function return_shutdown_php(){
>        if ($error = error_get_last()){
>            switch($error['type']){
>            case E_ERROR:
>            case E_CORE_ERROR:
>            case E_COMPILE_ERROR:
>            case E_USER_ERROR:
>                return_error($error['message'], 'php');
>            break;
>            }
>        }
>    }
>
>    // Traps simple PHP problems
>    function return_error_php($errno, $errstr, $errfile, $errline,  
> $errcontext)
>    {
>        switch ($errno)
>        {
>            case E_USER_WARNING:
>            case E_USER_NOTICE:
>            case E_WARNING:
>            case E_NOTICE:
>                break;
>            case E_CORE_WARNING:
>            case E_COMPILE_WARNING:
>            case E_USER_ERROR:
>            case E_ERROR:
>            case E_PARSE:
>            case E_CORE_ERROR:
>            case E_COMPILE_ERROR:
>            return_error($errstr, 'php');
>        }
>    }
>
>    // Formats error messages for return_data()
>    function return_error($error, $class='wpmu') { return_data(Array(
>        'success'=>false,
>        'error'=>$error,
>        'class'=>$class
>    )); }
>
>    // Formats success messages for return_data()
>    function return_success($results) {
> return_data(array_merge(Array('success'=>true, 'results'=> 
> $results))); }
>
>    // Dumps results as serialized data
>    function return_data($data) { echo serialize($data); exit; }
>
> -- 
> View this message in context: http://www.nabble.com/Re%3A-wpmu---adding-users-sites-any-other-admin-tp22811272p22900358.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Mon Apr  6 00:28:10 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Apr  6 00:28:36 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <21955943.5281238977328853.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl34JSB093d47bd5f4bea03d1cdef,
	mikeschinkel@newclarity.net, 20876392.5301238977682827.J>

Hi all: 


I hope what I'm about to ask isn't viewed as heresy, but I've been building a CustomUrls plugin and am finding that AFAICT WordPress always runs a query for posts no matter if its needed or not, i.e. here is $wp->main() : 

function main($query_args = '') { 
$this->init(); 
$this->parse_request($query_args); 
$this->send_headers(); 
$this->query_posts(); 
$this->handle_404(); 
$this->register_globals(); 
do_action_ref_array('wp', array(&$this)); 
} 

I would like to be able to disable $wp->query_posts() in cases where I want to run a custom query. Is there a way to do this that I'm just not seeing, or if not is there a reason why it wouldn't make sense to allow bypassing or $wp->query_posts() somehow (and $wp->handle_404() too, for that matter)? 

-Mike Schinkel 
Custom Wordpress Plugins 
http://mikeschinkel.com/custom-wordpress-plugins 
From bnabble at says.mu  Mon Apr  6 00:28:52 2009
From: bnabble at says.mu (horatio)
Date: Mon Apr  6 00:29:32 2009
Subject: [wp-hackers] wpmu / adding users/sites/any other admin
In-Reply-To: <EMEWEMEW2_DELIMl34JJG444deccac2f835f80f79db,
	mikeschinkel@newclarity.net, 9166707.5261238977148689.J>
References: <e57ee520903311107n4a9ec1e0y53c2b3a4aecd3f26@mail.gmail.com>
	<22820340.post@talk.nabble.com> <22900358.post@talk.nabble.com>
	<8B655E79-CC13-460C-805B-F7BA7A318CB5@verselogic.net>
	<EMEWEMEW2_DELIMl34JJG444deccac2f835f80f79db, 
	mikeschinkel@newclarity.net, 9166707.5261238977148689.J>
Message-ID: <22900492.post@talk.nabble.com>


strongly agree with both of you.

this is an issue of time for me, i assume by the time i put this on a public
server something else will have come along. if not, i'll make sure and plop
lots more security on top.

Alan, how about "gaping pits of hell"?



Mike Schinkel-5 wrote:
> 
> I'd also really like to see a RESTful API rather than an RPC API. JMTCW.
> 
> -Mike Schinkel
> Custom Wordpress Plugins
> http://mikeschinkel.com/custom-wordpress-plugins
> 
> ----- Original Message -----
> From: "Alan Castonguay" <alan@verselogic.net>
> To: wp-hackers@lists.automattic.com
> Cc: wp-hackers@lists.automattic.com
> Sent: Sunday, April 5, 2009 8:16:36 PM GMT -05:00 US/Canada Eastern
> Subject: Re: [wp-hackers] wpmu / adding users/sites/any other admin
> 
> Arbitrary remote code execution. "massive holes" is a bit of an  
> understatement. You may wish to look at wpapp or xmlrpc and see if you  
> can either hook into those, or better yet write a patch to provide the  
> needed functionality. I agree that the need exists.
> 
> Alan
> 
> Sent from my iPhone
> 
> On 5-Apr-09, at 20:09, horatio <bnabble@says.mu> wrote:
> 
>>
>> i made a VERY ROUGH remote api for myself to use before anyone else  
>> codes a
>> proper wp/wpmu api. it works very well for my purposes, but keep in  
>> mind
>> that this leaves some massive holes open, so it should be checking  
>> for a
>> localhost ip, put behind a password protected directory, whitelist
>> particular functions, check incoming data integrity, etc. use at  
>> your own
>> risk.
>>
>> it works by posting
>> "function" (string containing wordpress core or custom function)
>> and
>> "args" (array containing the args to pass to the function)
>> to the script.
>>
>> you get back a serialized result of the data:
>> serialize(
>> success=>true,
>> results=>(function return value)
>> )
>>
>> so you could post
>> function=>'testfunc',
>> args=>Array('one', 'two')
>> to this script, and you would get back the serialized results from
>> serialize(testfunc('one, 'two'))
>>
>> i've also written a cakePHP component that deals with this remote  
>> API, if
>> anyone is interested. i'm creating new domains/blogs/users through  
>> it fine.
>>
>> code follows:
>>
>>    // Location of Wordpress install
>>        define('WP_LOCATION', '../../../site');
>>
>>    // Trap errors
>>        set_error_handler('return_error_php');
>>        register_shutdown_function('return_shutdown_php');
>>            error_reporting(E_ALL);
>>            ini_set('display_errors', 0);
>>
>>    // Help Wordpress be quiet
>>        define('WP_INSTALLING', true);
>>
>>    // Trick Wordpress into thinking we're in its directory, so it  
>> pulls the
>> correct site from the DB.
>>    //    global $domain,$path;
>>    //    $_SERVER[ 'REQUEST_URI' ] = $path = "/site/";
>>
>>    // Include WP headers
>>        global $user, $wpdb, $allowedtags, $blog_id;
>>        require_once(WP_LOCATION."/wp-config.php");
>>        require_once(WP_LOCATION."/wp-includes/registration.php");
>>
>>        if (!isset($_POST['function']) && !isset($_POST['args'])) {
>> return_error('You sent in an empty request.'); }
>>
>>    // Check request validity
>>        if (!function_exists($_POST['function']))  
>> { return_error('Function
>> '.$_POST['function'].' is undefined.'); }
>>
>>    // Run requested function
>>        $result = call_user_func_array($_POST['function'],  
>> $_POST['args']);
>>
>>    // Check function results
>>        if ($result == null || $result == false)  
>> { return_error('Function
>> '.$_POST['function'].' returned false/null.'); }
>>
>>    return_success(Array('return' => $result));
>>
>>
>>    // For example above
>>    function testfunc($one, $two){ return "testfunc(): arg one is  
>> $one and arg
>> two is $two"; }
>>
>>    // Traps large PHP problems
>>    function return_shutdown_php(){
>>        if ($error = error_get_last()){
>>            switch($error['type']){
>>            case E_ERROR:
>>            case E_CORE_ERROR:
>>            case E_COMPILE_ERROR:
>>            case E_USER_ERROR:
>>                return_error($error['message'], 'php');
>>            break;
>>            }
>>        }
>>    }
>>
>>    // Traps simple PHP problems
>>    function return_error_php($errno, $errstr, $errfile, $errline,  
>> $errcontext)
>>    {
>>        switch ($errno)
>>        {
>>            case E_USER_WARNING:
>>            case E_USER_NOTICE:
>>            case E_WARNING:
>>            case E_NOTICE:
>>                break;
>>            case E_CORE_WARNING:
>>            case E_COMPILE_WARNING:
>>            case E_USER_ERROR:
>>            case E_ERROR:
>>            case E_PARSE:
>>            case E_CORE_ERROR:
>>            case E_COMPILE_ERROR:
>>            return_error($errstr, 'php');
>>        }
>>    }
>>
>>    // Formats error messages for return_data()
>>    function return_error($error, $class='wpmu') { return_data(Array(
>>        'success'=>false,
>>        'error'=>$error,
>>        'class'=>$class
>>    )); }
>>
>>    // Formats success messages for return_data()
>>    function return_success($results) {
>> return_data(array_merge(Array('success'=>true, 'results'=> 
>> $results))); }
>>
>>    // Dumps results as serialized data
>>    function return_data($data) { echo serialize($data); exit; }
>>
>> -- 
>> View this message in context:
>> http://www.nabble.com/Re%3A-wpmu---adding-users-sites-any-other-admin-tp22811272p22900358.html
>> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 

-- 
View this message in context: http://www.nabble.com/Re%3A-wpmu---adding-users-sites-any-other-admin-tp22811272p22900492.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From lynne.pope at gmail.com  Mon Apr  6 01:37:54 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Mon Apr  6 01:38:22 2009
Subject: [wp-hackers] Can I recieve any comments ?
In-Reply-To: <349fe48b0904050926v3909c69dgf9e53cbc1bcee681@mail.gmail.com>
References: <d5c96d790904050919r6f531e2bg7492170c99fafb77@mail.gmail.com> 
	<349fe48b0904050926v3909c69dgf9e53cbc1bcee681@mail.gmail.com>
Message-ID: <427667db0904051837i34a9ec7qbb379c79b46bf60f@mail.gmail.com>

2009/4/6 scribu <scribu@gmail.com>

> You forgot to give us the  link to your proposal. (Even if it was mentioned
> on this list before)
>
> On Sun, Apr 5, 2009 at 7:19 PM, Mohammed Safwat <mail.msafwat@gmail.com
> >wrote:
>
> > Hello all ;
> > I have submitted my ideas for GSoC 2009 , but until now no one replied to
> > me
> > or commented for my ideas .
> > I'm just worried ..
> > I want to work on wordpress CMS and source code even if my application
> will
> > not be accepted , so I need your opinion.
> > Thanks in advance .
>

Is this the proposal Mohammed?
http://mohammedsafwat.wordpress.com/2009/04/03/my-ideas-for-gsoc-2009/

If it is, I cannot comment on it because I have never used or developed with
WordPress MU.

Lynne
From yahgrp at poplarware.com  Mon Apr  6 03:29:46 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Mon Apr  6 03:28:55 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <EMEWEMEW2_DELIMl34JSB093d47bd5f4bea03d1cdef,
	mikeschinkel@newclarity.net, 20876392.5301238977682827.J>
References: <EMEWEMEW2_DELIMl34JSB093d47bd5f4bea03d1cdef,
	mikeschinkel@newclarity.net, 20876392.5301238977682827.J>
Message-ID: <49D9772A.6020706@poplarware.com>

You could do something in the init() action of your plugin, where for 
a particular URL, you can do whatever you want and then exit, 
bypassing all the rest of WP's default actions.

You could also use one of the hooks inside query_posts, to override 
parts of the query, such as the where section, the join section, and I 
think even the whole query.

    --Jennifer

Mike Schinkel wrote:
> I hope what I'm about to ask isn't viewed as heresy, but I've been building a CustomUrls plugin and am finding that AFAICT WordPress always runs a query for posts no matter if its needed or not, i.e. here is $wp->main() : 
> 
> function main($query_args = '') { 
> $this->init(); 
> $this->parse_request($query_args); 
> $this->send_headers(); 
> $this->query_posts(); 
> $this->handle_404(); 
> $this->register_globals(); 
> do_action_ref_array('wp', array(&$this)); 
> } 
> 
> I would like to be able to disable $wp->query_posts() in cases where I want to run a custom query. Is there a way to do this that I'm just not seeing, or if not is there a reason why it wouldn't make sense to allow bypassing or $wp->query_posts() somehow (and $wp->handle_404() too, for that matter)? 

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming

From mikeschinkel at newclarity.net  Mon Apr  6 03:52:29 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Apr  6 03:53:20 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <49D9772A.6020706@poplarware.com>
Message-ID: <EMEWEMEW2_DELIMl34MqY2c9b5e28e92174956bd3b1,
	mikeschinkel@newclarity.net, 24296413.5521238989946711.J>

Jennifer: 

Thanks for the response.

>> Exit on init()

Yeah, I really don't want to do that. The unintended consequences of not running code that expects to be run by core or other plugins could be significant.

>> You could also use one of the hooks inside query_posts, to override 
parts of the query, such as the where section, 

Yeah, i guess I could do "WHERE 1=0" but it still sends the query to MySQL which is suboptimal.

>> and I think even the whole query.

AFAICT there's no way to bypass the query in that function. I've poured over that section of code for several hours now. Hoping that adding something to allow bypassing would be considered reasonable by those who options are most respected here.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

----- Original Message -----
From: "Jennifer Hodgdon" <yahgrp@poplarware.com>
To: wp-hackers@lists.automattic.com
Sent: Sunday, April 5, 2009 11:29:46 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Any way to bypass $wp->query_posts()?

You could do something in the init() action of your plugin, where for 
a particular URL, you can do whatever you want and then exit, 
bypassing all the rest of WP's default actions.

You could also use one of the hooks inside query_posts, to override 
parts of the query, such as the where section, the join section, and I 
think even the whole query.

    --Jennifer

Mike Schinkel wrote:
> I hope what I'm about to ask isn't viewed as heresy, but I've been building a CustomUrls plugin and am finding that AFAICT WordPress always runs a query for posts no matter if its needed or not, i.e. here is $wp->main() : 
> 
> function main($query_args = '') { 
> $this->init(); 
> $this->parse_request($query_args); 
> $this->send_headers(); 
> $this->query_posts(); 
> $this->handle_404(); 
> $this->register_globals(); 
> do_action_ref_array('wp', array(&$this)); 
> } 
> 
> I would like to be able to disable $wp->query_posts() in cases where I want to run a custom query. Is there a way to do this that I'm just not seeing, or if not is there a reason why it wouldn't make sense to allow bypassing or $wp->query_posts() somehow (and $wp->handle_404() too, for that matter)? 

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From wp-hackers at striderweb.com  Mon Apr  6 04:10:01 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon Apr  6 04:10:34 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <EMEWEMEW2_DELIMl34MqY2c9b5e28e92174956bd3b1,
	mikeschinkel@newclarity.net, 24296413.5521238989946711.J>
References: <EMEWEMEW2_DELIMl34MqY2c9b5e28e92174956bd3b1,
	mikeschinkel@newclarity.net, 24296413.5521238989946711.J>
Message-ID: <3F0B8DFD-FED2-4E99-A3F8-B4F1719F6A94@striderweb.com>


On Apr 5, 2009, at 10:52 PM, Mike Schinkel wrote:

>> You could also use one of the hooks inside query_posts, to override  
>> parts of the query, such as the where section,

> Yeah, i guess I could do "WHERE 1=0" but it still sends the query to  
> MySQL which is suboptimal.
>
>>> and I think even the whole query.
>
> AFAICT there's no way to bypass the query in that function. I've  
> poured over that section of code for several hours now. Hoping that  
> adding something to allow bypassing would be considered reasonable  
> by those who options are most respected here.

Yeah, it makes sense that if the filtered query == FALSE or something,  
that could mean "don't run the query".

Stephen


-- 
Stephen Rider
http://striderweb.com/




From fonsekaean at gmail.com  Mon Apr  6 03:51:19 2009
From: fonsekaean at gmail.com (Nivanka Fonseka)
Date: Mon Apr  6 04:14:59 2009
Subject: [wp-hackers] Template revisioning system for WordPress
In-Reply-To: <349fe48b0904050944s719d28ebpf478b65980424477@mail.gmail.com>
References: <421be760904050932j51349df8m1d686a70714f1bf0@mail.gmail.com>
	<349fe48b0904050939w2487a94cj5c0a2564014518ea@mail.gmail.com>
	<421be760904050942n5af844dmc2594d56b155d33b@mail.gmail.com>
	<349fe48b0904050944s719d28ebpf478b65980424477@mail.gmail.com>
Message-ID: <421be760904052051t62365fcgffc88911b5883986@mail.gmail.com>

I still didnt get you right, do you want me to rewrite the proposal in
such a way? or will this proposal do it? I need your assistance to
make this a success.

Thank you

On Sun, Apr 5, 2009 at 10:14 PM, scribu <scribu@gmail.com> wrote:
> On Sun, Apr 5, 2009 at 7:42 PM, Nivanka Fonseka <fonsekaean@gmail.com>wrote:
>
>> I think this will be useful because we cant expect all the wordpress
>> users to use SVN or anyother versioning ?system. So it will be still
>> useful for non programmers other than people who are coming from the
>> programming background.
>>
>
> Ok, then I hope you'll write it in such a way that it can integrate with and
> enhance the current Post Revisions feature.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Nivanka Fonseka
From mikeschinkel at newclarity.net  Mon Apr  6 04:45:46 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Apr  6 04:46:07 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <3F0B8DFD-FED2-4E99-A3F8-B4F1719F6A94@striderweb.com>
Message-ID: <EMEWEMEW2_DELIMl34Njk5e14c825b110599f59bffa,
	mikeschinkel@newclarity.net, 11077329.5561238993141423.J>

"Stephen Rider" <wp-hackers@striderweb.com> wrote:
> Yeah, it makes sense that if the filtered query == FALSE 
> or something, that could mean "don't run the query".

Thanks. I'd submit a patch but I can think of at least 5 different ways to make this happen so I'd like some guidance as to which way might be best.


-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins
From tristan at abtel-creation.com  Mon Apr  6 06:46:18 2009
From: tristan at abtel-creation.com (Tristan Bellosta)
Date: Mon Apr  6 06:46:33 2009
Subject: [wp-hackers] About WordPress
Message-ID: <124FBDB352AE42CB957BC75E864C0BE2@LeChatPotte>

Hello,

I am a french student in computer science (professional license e-business) at the IUT of Montpellier doing a study on the CMS.      

You are receiving this message because you are in the mailing list of WordPress developers and I would like to have information on this CMS.

So, if you're a developer, I ask you if you can take the time to answer my survey (less than 5 minutes!) available at http://etudecms.abtel-creation.com/repondre.php .

I would be grateful, and the results of this study, which will be disclosed to you, may be useful for your further development.

You can contact me at tristan@abtel-creation.com .

Thank you in advance.

Best regards,
Tristan Bellosta

From scribu at gmail.com  Mon Apr  6 08:15:08 2009
From: scribu at gmail.com (scribu)
Date: Mon Apr  6 08:15:25 2009
Subject: [wp-hackers] Template revisioning system for WordPress
In-Reply-To: <421be760904052051t62365fcgffc88911b5883986@mail.gmail.com>
References: <421be760904050932j51349df8m1d686a70714f1bf0@mail.gmail.com>
	<349fe48b0904050939w2487a94cj5c0a2564014518ea@mail.gmail.com>
	<421be760904050942n5af844dmc2594d56b155d33b@mail.gmail.com>
	<349fe48b0904050944s719d28ebpf478b65980424477@mail.gmail.com>
	<421be760904052051t62365fcgffc88911b5883986@mail.gmail.com>
Message-ID: <349fe48b0904060115x3673abeeq65ed859abd2ded8e@mail.gmail.com>

On Mon, Apr 6, 2009 at 6:51 AM, Nivanka Fonseka <fonsekaean@gmail.com>wrote:

> I still didnt get you right, do you want me to rewrite the proposal in
> such a way? or will this proposal do it? I need your assistance to
> make this a success.
>

I don't think you can edit the proposal after it's been sent. What I was
trying to say is that WordPress already includes Post Revision. I think you
can use at least some of the features of that component to implement your
proposal, instead of starting from scratch.

-- 
http://scribu.net
From fonsekaean at gmail.com  Mon Apr  6 09:01:46 2009
From: fonsekaean at gmail.com (Nivanka Fonseka)
Date: Mon Apr  6 09:01:59 2009
Subject: [wp-hackers] Template revisioning system for WordPress
In-Reply-To: <349fe48b0904060115x3673abeeq65ed859abd2ded8e@mail.gmail.com>
References: <421be760904050932j51349df8m1d686a70714f1bf0@mail.gmail.com>
	<349fe48b0904050939w2487a94cj5c0a2564014518ea@mail.gmail.com>
	<421be760904050942n5af844dmc2594d56b155d33b@mail.gmail.com>
	<349fe48b0904050944s719d28ebpf478b65980424477@mail.gmail.com>
	<421be760904052051t62365fcgffc88911b5883986@mail.gmail.com>
	<349fe48b0904060115x3673abeeq65ed859abd2ded8e@mail.gmail.com>
Message-ID: <421be760904060201x7f23ac45v236c13fc3aea4580@mail.gmail.com>

yes I have mentioned it in my proposal, but there are some constrains,
WordPress templates are made of at least 4 or 5 files, so for this
matter we cannot just use the logic behind the content versioning
system. So my point is that to make this we will have to think of some
other means, and come up with a solution, I have included what I have
in my mind in my proposal.

Thanks

Nivanka

On Mon, Apr 6, 2009 at 1:45 PM, scribu <scribu@gmail.com> wrote:
> On Mon, Apr 6, 2009 at 6:51 AM, Nivanka Fonseka <fonsekaean@gmail.com>wrote:
>
>> I still didnt get you right, do you want me to rewrite the proposal in
>> such a way? or will this proposal do it? I need your assistance to
>> make this a success.
>>
>
> I don't think you can edit the proposal after it's been sent. What I was
> trying to say is that WordPress already includes Post Revision. I think you
> can use at least some of the features of that component to implement your
> proposal, instead of starting from scratch.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Nivanka Fonseka
From xavier at borderie.net  Mon Apr  6 10:02:44 2009
From: xavier at borderie.net (Xavier Borderie)
Date: Mon Apr  6 10:03:16 2009
Subject: [wp-hackers] About WordPress
In-Reply-To: <124FBDB352AE42CB957BC75E864C0BE2@LeChatPotte>
References: <124FBDB352AE42CB957BC75E864C0BE2@LeChatPotte>
Message-ID: <9e4ae73e0904060302m76483b8amf64255238100e3a@mail.gmail.com>

> So, if you're a developer, I ask you if you can take the time to answer my survey (less than 5 minutes!) available at http://etudecms.abtel-creation.com/repondre.php .

Tristan, you should add that this survey is aimed at WP core devs, not
merely developers... :)

-x.
From xavier at borderie.net  Mon Apr  6 10:08:47 2009
From: xavier at borderie.net (Xavier Borderie)
Date: Mon Apr  6 10:38:19 2009
Subject: [wp-hackers] Validate edits for published post
Message-ID: <9e4ae73e0904060308u51913dembe3dac1fae30f646@mail.gmail.com>

Hey guys,

Slight question here - I don't know if what I'm looking for exists in
a plugin (can't find any), or even if it's possible.

A friend of mine uses WP professionnaly. His bosses are very happy
that there is a "pending review" stats, that lets them see when a post
is done writing, and ready to proofread.
Now, his bosses would like the same thing for post edits ; that is,
they would like to be able to validate edits to a published post,
while the post is still online (putting it back to draft or pending
state is not an option, as it removes the post from the site).

Is this even possible in the current state of WP?
If so, do you know of a plugin which lets you do this?

Thanks a lot for your answers.

-- 
Xavier Borderie
From public at toppa.com  Mon Apr  6 12:27:34 2009
From: public at toppa.com (Michael Toppa)
Date: Mon Apr  6 12:27:51 2009
Subject: [wp-hackers] questions on best practices for wp_enqueue_script and
	wp_enqueue_style
Message-ID: <49D9F536.5060005@toppa.com>

Hi all,

Mike Toppa here - I'm a new member to the list. I'm trying to figure out 
a couple things relating to wp_enqueue_script and wp_enqueue_style. I've 
looked at a few different blog posts people have written trying to 
explain these, and I'm finding incorrect advise (for example, calling 
them with wp_print_scripts is not a good idea).

1. I know to wrap calls to them in my own function. To use them outside 
the admin pages, what is the best action to call my function from? The 
codex says to use the init action, but that causes them to also load in 
the admin pages, which is undesirable. What is the best action hook to 
use so that they'll load in the public pages but not the admin pages? I 
came across a couple support threads with people suggesting the use of 
template_redirect, but that struck me as an odd choice (even if works, 
it doesn't seem like a conceptual fit).

2. Both functions want the src path defined from the root of the 
wordpress installation. PLUGINDIR seems to do the trick for the plugin 
directory. What is the equivalent for the active theme directory? 
TEMPLATEPATH gives the absolute path, and get_stylesheet_directory_uri() 
gives the absolute URL. How do I get the relative path? In my plugin I 
give users the option of customizing the plugin's css and placing a copy 
in their active theme folder, so I can't extrapolate the path from the 
location of my script.

I'll be happy to update the codex with the correct answers if anyone 
knows them.

Thanks very much,

Mike T
From scribu at gmail.com  Mon Apr  6 14:10:38 2009
From: scribu at gmail.com (scribu)
Date: Mon Apr  6 14:10:54 2009
Subject: [wp-hackers] questions on best practices for wp_enqueue_script 
	and wp_enqueue_style
In-Reply-To: <49D9F536.5060005@toppa.com>
References: <49D9F536.5060005@toppa.com>
Message-ID: <349fe48b0904060710rd85cb10s392f64daa648fbb8@mail.gmail.com>

1. About using template_redirect:

DD32:

[template_redirect] is one of the easiest filters to use after WP has loaded
and parsed everything, and is ready to start outputting. when this action
fires, Plugins have everything at their disposal, and the theme hasnt
displayed anything yet, Very useful time to inspect and redirect if need be,
or to enqueue stuff that'll be needed (since you can see the posts now)


 2. You can use get_bloginfo('template_url').

--
http://scribu.net
From yahgrp at poplarware.com  Mon Apr  6 14:22:55 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Mon Apr  6 14:22:04 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <EMEWEMEW2_DELIMl34MqY2c9b5e28e92174956bd3b1,
	mikeschinkel@newclarity.net, 24296413.5521238989946711.J>
References: <EMEWEMEW2_DELIMl34MqY2c9b5e28e92174956bd3b1,
	mikeschinkel@newclarity.net, 24296413.5521238989946711.J>
Message-ID: <49DA103F.1060907@poplarware.com>

Mike Schinkel wrote:
>>> You could also use one of the hooks inside query_posts, to override 
> parts of the query, such as the where section, 
> 
> Yeah, i guess I could do "WHERE 1=0" but it still sends the query to MySQL which is suboptimal.
> 
>>> and I think even the whole query.
> 
> AFAICT there's no way to bypass the query in that function. I've poured over that section of code for several hours now. Hoping that adding something to allow bypassing would be considered reasonable by those who options are most respected here.

Check out function WP_Query->get_posts() in wp-includes/query.php.

There is a filter called 'posts_request' that lets you replace the 
entire query.

    --Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming

From yahgrp at poplarware.com  Mon Apr  6 14:23:52 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Mon Apr  6 14:23:00 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <EMEWEMEW2_DELIMl34MqY2c9b5e28e92174956bd3b1,
	mikeschinkel@newclarity.net, 24296413.5521238989946711.J>
References: <EMEWEMEW2_DELIMl34MqY2c9b5e28e92174956bd3b1,
	mikeschinkel@newclarity.net, 24296413.5521238989946711.J>
Message-ID: <49DA1078.2050506@poplarware.com>

By the way, see also:
    http://codex.wordpress.org/Query_Overview
if you haven't already.

    -- Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming

From mark.cunningham at gmail.com  Mon Apr  6 14:35:37 2009
From: mark.cunningham at gmail.com (Mark Cunningham)
Date: Mon Apr  6 14:35:51 2009
Subject: [wp-hackers] Validate edits for published post
In-Reply-To: <9e4ae73e0904060308u51913dembe3dac1fae30f646@mail.gmail.com>
References: <9e4ae73e0904060308u51913dembe3dac1fae30f646@mail.gmail.com>
Message-ID: <ee3949160904060735h54f9ac61nb4d59d22140893ea@mail.gmail.com>

2009/4/6 Xavier Borderie <xavier@borderie.net>:
> Now, his bosses would like the same thing for post edits ; that is,
> they would like to be able to validate edits to a published post,
> while the post is still online (putting it back to draft or pending
> state is not an option, as it removes the post from the site).
>
> Is this even possible in the current state of WP?
> If so, do you know of a plugin which lets you do this?

I've been tackling a similar problem. In my plugin TDO Mini Forms
which I'm trying to add editing functionality right now, I'm trying to
add moderation for it. So what I've done is that the edits go to a
fresh revision and an admin can do a diff on latest and this edited
revision before approving it, where the plugin will then make this
revision the current one.

However, I'm assuming in your case, you'd like to use the Wordpress
editing UI to do something similar, which I'm not sure about. Can the
Wordpress post edit screen be used to modify a revision instead of an
actual post?

Mark
-- 
http://thedeadone.net
http://lostheroesrpg.com
http://irishgamingwiki.com
From jer-wphackers at simianuprising.com  Mon Apr  6 14:42:57 2009
From: jer-wphackers at simianuprising.com (Jeremy Clarke)
Date: Mon Apr  6 14:43:11 2009
Subject: [wp-hackers] About WordPress
In-Reply-To: <9e4ae73e0904060302m76483b8amf64255238100e3a@mail.gmail.com>
References: <124FBDB352AE42CB957BC75E864C0BE2@LeChatPotte>
	<9e4ae73e0904060302m76483b8amf64255238100e3a@mail.gmail.com>
Message-ID: <e1202cb10904060742k1905e7c7p1e6953a209cec77f@mail.gmail.com>

Xavier or Tristan, is it assuming you have some kind of ownership of
the CMS, or just that you've contributed to the code? I've written
patches but the first question is "Your CMS name :", and I feel a bit
wierd calling WP 'my cms' :P



On Mon, Apr 6, 2009 at 6:02 AM, Xavier Borderie <xavier@borderie.net> wrote:
>> So, if you're a developer, I ask you if you can take the time to answer my survey (less than 5 minutes!) available at http://etudecms.abtel-creation.com/repondre.php .
>
> Tristan, you should add that this survey is aimed at WP core devs, not
> merely developers... :)
>
> -x.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org
From beau at dentedreality.com.au  Mon Apr  6 15:47:41 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Mon Apr  6 15:47:51 2009
Subject: [wp-hackers] Template revisioning system for WordPress
In-Reply-To: <421be760904060201x7f23ac45v236c13fc3aea4580@mail.gmail.com>
References: <421be760904050932j51349df8m1d686a70714f1bf0@mail.gmail.com>
	<349fe48b0904050939w2487a94cj5c0a2564014518ea@mail.gmail.com>
	<421be760904050942n5af844dmc2594d56b155d33b@mail.gmail.com>
	<349fe48b0904050944s719d28ebpf478b65980424477@mail.gmail.com>
	<421be760904052051t62365fcgffc88911b5883986@mail.gmail.com>
	<349fe48b0904060115x3673abeeq65ed859abd2ded8e@mail.gmail.com>
	<421be760904060201x7f23ac45v236c13fc3aea4580@mail.gmail.com>
Message-ID: <902424490904060847y2d6bd7cax2434705bdb128da7@mail.gmail.com>

On Mon, Apr 6, 2009 at 2:01 AM, Nivanka Fonseka <fonsekaean@gmail.com> wrote:
> yes I have mentioned it in my proposal, but there are some constrains,
> WordPress templates are made of at least 4 or 5 files, so for this
> matter we cannot just use the logic behind the content versioning
> system. So my point is that to make this we will have to think of some
> other means, and come up with a solution, I have included what I have
> in my mind in my proposal.

Yes, themes would probably benefit from more of an SVN-like system,
where the entire "repo" was numbered (rather than individual files),
so that you could roll back the whole theme to a known point, but that
might be a bit tricky to implement given the potential number of files
involved.

And FYI: although I don't think you can edit applications, you can
definitely add comments/"Reviews" to them on the site for more
detail/clarification etc.

Beau
From Jesse.Silverstein at xerox.com  Mon Apr  6 19:09:27 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Mon Apr  6 19:10:41 2009
Subject: [wp-hackers] the_tags does not apply_filter('the_tags')
Message-ID: <F25F2C8DE17FB546A90DB3CF77461427061E94A2@USA0300MS04.na.xerox.net>

As the subject states, calling the_tags() does not
apply_filters('the_tags', ...) In order to get the filter applied, you
have to call get_the_tag_list()

At least in 2.8-bleeding.

 

Is this the desired behavior?

 

If not, it could be fixed by changing:

 

function the_tags( $before = 'Tags: ', $sep = ', ', $after = '' ) {

     return the_terms( 0, 'post_tag', $before, $sep, $after );

}

 

to:

 

function the_tags( $before = 'Tags: ', $sep = ', ', $after = '' ) {

     return get_the_tag_list ( $before, $sep, $after );

}

 

-Jesse Silverstein

From Jesse.Silverstein at xerox.com  Mon Apr  6 19:22:22 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Mon Apr  6 19:23:48 2009
Subject: [wp-hackers] the_tags does not apply_filters('the_tags')
In-Reply-To: <F25F2C8DE17FB546A90DB3CF77461427061E94A2@USA0300MS04.na.xerox.net>
References: <F25F2C8DE17FB546A90DB3CF77461427061E94A2@USA0300MS04.na.xerox.net>
Message-ID: <F25F2C8DE17FB546A90DB3CF77461427061E94DB@USA0300MS04.na.xerox.net>

Wow, that was a lot of extra line breaks. Guess I shouldn't write to
this list in html.
Anyway, update:
The exact same code goes back as far as WP 2.5.1 (that's as far back I
can check readily). That leads me to believe it IS the desired behavior,
but I don't understand why.

Isn't standard practice for templates to have <?php the_tags(); ?> or
some variant of that? That's how all the templates I've checked display
tags, including WP Default and WP Classic. And if it is standard,
shouldn't "the_tags" filter be called during that function?

Dev-feedback would be appreciated.

-Jesse Silverstein


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of
Silverstein, Jesse
Sent: Monday, April 06, 2009 3:09 PM
To: wp-hackers@lists.automattic.com
Subject: [wp-hackers] the_tags does not apply_filter('the_tags')

As the subject states, calling the_tags() does not
apply_filters('the_tags', ...) In order to get the filter applied, you
have to call get_the_tag_list()

At least in 2.8-bleeding.

 

Is this the desired behavior?

 

If not, it could be fixed by changing:

 

function the_tags( $before = 'Tags: ', $sep = ', ', $after = '' ) {

     return the_terms( 0, 'post_tag', $before, $sep, $after );

}

 

to:

 

function the_tags( $before = 'Tags: ', $sep = ', ', $after = '' ) {

     return get_the_tag_list ( $before, $sep, $after );

}

 

-Jesse Silverstein

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From Jesse.Silverstein at xerox.com  Mon Apr  6 19:27:06 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Mon Apr  6 19:27:53 2009
Subject: [wp-hackers] the_tags does not apply_filters('the_tags')
In-Reply-To: <F25F2C8DE17FB546A90DB3CF77461427061E94DB@USA0300MS04.na.xerox.net>
References: <F25F2C8DE17FB546A90DB3CF77461427061E94A2@USA0300MS04.na.xerox.net>
	<F25F2C8DE17FB546A90DB3CF77461427061E94DB@USA0300MS04.na.xerox.net>
Message-ID: <F25F2C8DE17FB546A90DB3CF77461427061E94F4@USA0300MS04.na.xerox.net>

See also: http://core.trac.wordpress.org/ticket/9436

Sorry for the spam.

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of
Silverstein, Jesse
Sent: Monday, April 06, 2009 3:22 PM
To: wp-hackers@lists.automattic.com
Subject: RE: [wp-hackers] the_tags does not apply_filters('the_tags')

Wow, that was a lot of extra line breaks. Guess I shouldn't write to
this list in html.
Anyway, update:
The exact same code goes back as far as WP 2.5.1 (that's as far back I
can check readily). That leads me to believe it IS the desired behavior,
but I don't understand why.

Isn't standard practice for templates to have <?php the_tags(); ?> or
some variant of that? That's how all the templates I've checked display
tags, including WP Default and WP Classic. And if it is standard,
shouldn't "the_tags" filter be called during that function?

Dev-feedback would be appreciated.

-Jesse Silverstein


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of
Silverstein, Jesse
Sent: Monday, April 06, 2009 3:09 PM
To: wp-hackers@lists.automattic.com
Subject: [wp-hackers] the_tags does not apply_filter('the_tags')

As the subject states, calling the_tags() does not
apply_filters('the_tags', ...) In order to get the filter applied, you
have to call get_the_tag_list()

At least in 2.8-bleeding.

 

Is this the desired behavior?

 

If not, it could be fixed by changing:

 

function the_tags( $before = 'Tags: ', $sep = ', ', $after = '' ) {

     return the_terms( 0, 'post_tag', $before, $sep, $after );

}

 

to:

 

function the_tags( $before = 'Tags: ', $sep = ', ', $after = '' ) {

     return get_the_tag_list ( $before, $sep, $after );

}

 

-Jesse Silverstein

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.0.238 / Virus Database: 270.11.43/2043 - Release Date:
04/06/09 06:22:00
From alan at verselogic.net  Mon Apr  6 21:13:44 2009
From: alan at verselogic.net (Alan Castonguay)
Date: Mon Apr  6 21:13:59 2009
Subject: [wp-hackers] wpmu / adding users/sites/any other admin
In-Reply-To: <22900492.post@talk.nabble.com>
References: <e57ee520903311107n4a9ec1e0y53c2b3a4aecd3f26@mail.gmail.com>
	<22820340.post@talk.nabble.com> <22900358.post@talk.nabble.com>
	<8B655E79-CC13-460C-805B-F7BA7A318CB5@verselogic.net>
	<EMEWEMEW2_DELIMl34JJG444deccac2f835f80f79db,
	mikeschinkel@newclarity.net,
	9166707.5261238977148689.J> <22900492.post@talk.nabble.com>
Message-ID: <CB62EBD0-EB55-47AB-9FE9-9060CBD9A87E@verselogic.net>

> Alan, how about "gaping pits of hell"?
heh. =)

As noted, there's a lot of configurables in the Wordpress admin  
interface that are not exposed by either xmlrpc or atompub. The xmlrpc  
function "wp_getAuthors" will provide user_id, user_login,  
display_name, but there is no method to Edit existing user/usermeta,  
Register new users, or Delete existing ones.

The only fleshed out implementation of user management via atompub  
that I'm aware of is Google's GDATA API for Provisioning on Google  
Apps (for Premier and Education Edition). This seems well thought out,  
and at least some of the decisions can be borrowed.

http://code.google.com/apis/apps/gdata_provisioning_api_v2.0_developers_protocol.html#Create_Account_Example

Gallery3's API is supposed to provide user registration and editing: http://codex.gallery2.org/Gallery3:API:REST
Second Life's API supports user registration: http://wiki.secondlife.com/wiki/Registration_API

A proper implementation has to start somewhere. So, what thinks people  
of creating the following endpoints, and defining an atom entry for a  
"user"? I'm not sure if this can borrow from hCard or the DiSo project.

  + http://blog.example.com/(wp-)app.php/user/{id} or {username}?
  + http://blog.example.com/(wp-)app.php/users/{page}?


Alan J Castonguay

From elcarpo.blues at gmail.com  Mon Apr  6 22:05:12 2009
From: elcarpo.blues at gmail.com (El Carpo Blues)
Date: Mon Apr  6 22:05:27 2009
Subject: [wp-hackers] limit characters
Message-ID: <177fe0a80904061505w410dc353me024f2159203ef5e@mail.gmail.com>

hi there!
i just entered the list 'cause i need your help

Is there a way to limit the amount of characters in a wordpress post? I
mean, limit the amount of characters WHEN WRITING A POST, something like
integrating the maxlength
plugin<http://remysharp.com/2008/06/30/maxlength-plugin/>into
wordpress edit-form-advanced.php... I know those kind of scripts work
with textarea, but i can't find the textarea tag on wordpress...

if there is no way to achieve this, it also could be useful a way to count
the characters i'm actually writing...

thank you!
From Jesse.Silverstein at xerox.com  Mon Apr  6 22:55:16 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Mon Apr  6 22:55:53 2009
Subject: [wp-hackers] limit characters
In-Reply-To: <177fe0a80904061505w410dc353me024f2159203ef5e@mail.gmail.com>
References: <177fe0a80904061505w410dc353me024f2159203ef5e@mail.gmail.com>
Message-ID: <F25F2C8DE17FB546A90DB3CF774614270624A4DA@USA0300MS04.na.xerox.net>

This would probably be best achieved by a plugin. This is how I would
write said plugin:

On some action (admin-head or admin-head-(page-hook) ?) enqueue the
maxlength js, and your own plugin's js (needs to be after jquery, so add
as a requirement). Then add a filter somewhere during the
edit-form-advanced (maybe "the_editor") to put in a hidden "maxlength"
field for the maxlength js. Your plugin's js should 1) add a span with
appropriate ID inside the td with id="wp-word-count" after the
word-count.js has added its own span. See wp-admin/js/word-count.js for
reference there. Then 2) trigger the maxlength plugin (safest after page
load has finished).

Also, I think you will want to make sure this only happens if
user_can_richedit().

Good luck!

-Jesse Silverstein

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of El Carpo
Blues
Sent: Monday, April 06, 2009 6:05 PM
To: wp-hackers@lists.automattic.com
Subject: [wp-hackers] limit characters

hi there!
i just entered the list 'cause i need your help

Is there a way to limit the amount of characters in a wordpress post? I
mean, limit the amount of characters WHEN WRITING A POST, something like
integrating the maxlength
plugin<http://remysharp.com/2008/06/30/maxlength-plugin/>into
wordpress edit-form-advanced.php... I know those kind of scripts work
with textarea, but i can't find the textarea tag on wordpress...

if there is no way to achieve this, it also could be useful a way to
count
the characters i'm actually writing...

thank you!
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.0.238 / Virus Database: 270.11.43/2043 - Release Date:
04/06/09 06:22:00
From elcarpo.blues at gmail.com  Mon Apr  6 23:08:30 2009
From: elcarpo.blues at gmail.com (El Carpo Blues)
Date: Mon Apr  6 23:08:46 2009
Subject: [wp-hackers] limit characters
In-Reply-To: <F25F2C8DE17FB546A90DB3CF774614270624A4DA@USA0300MS04.na.xerox.net>
References: <177fe0a80904061505w410dc353me024f2159203ef5e@mail.gmail.com>
	<F25F2C8DE17FB546A90DB3CF774614270624A4DA@USA0300MS04.na.xerox.net>
Message-ID: <177fe0a80904061608lbe136f5t4ebd6917e0b3c1b2@mail.gmail.com>

jesse, thanks...
problem is, don't know how to write a plugin :S

anyway, i'll give it a try, and see what happens...

On Mon, Apr 6, 2009 at 7:55 PM, Silverstein, Jesse <
Jesse.Silverstein@xerox.com> wrote:

> This would probably be best achieved by a plugin. This is how I would
> write said plugin:
>
> On some action (admin-head or admin-head-(page-hook) ?) enqueue the
> maxlength js, and your own plugin's js (needs to be after jquery, so add
> as a requirement). Then add a filter somewhere during the
> edit-form-advanced (maybe "the_editor") to put in a hidden "maxlength"
> field for the maxlength js. Your plugin's js should 1) add a span with
> appropriate ID inside the td with id="wp-word-count" after the
> word-count.js has added its own span. See wp-admin/js/word-count.js for
> reference there. Then 2) trigger the maxlength plugin (safest after page
> load has finished).
>
> Also, I think you will want to make sure this only happens if
> user_can_richedit().
>
> Good luck!
>
> -Jesse Silverstein
>
> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of El Carpo
> Blues
> Sent: Monday, April 06, 2009 6:05 PM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] limit characters
>
> hi there!
> i just entered the list 'cause i need your help
>
> Is there a way to limit the amount of characters in a wordpress post? I
> mean, limit the amount of characters WHEN WRITING A POST, something like
> integrating the maxlength
> plugin<http://remysharp.com/2008/06/30/maxlength-plugin/>into
> wordpress edit-form-advanced.php... I know those kind of scripts work
> with textarea, but i can't find the textarea tag on wordpress...
>
> if there is no way to achieve this, it also could be useful a way to
> count
> the characters i'm actually writing...
>
> thank you!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> No virus found in this incoming message.
> Checked by AVG - www.avg.com
> Version: 8.0.238 / Virus Database: 270.11.43/2043 - Release Date:
> 04/06/09 06:22:00
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Pasate por http://www.democraciachina.com.ar
From Jesse.Silverstein at xerox.com  Mon Apr  6 23:20:48 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Mon Apr  6 23:21:59 2009
Subject: [wp-hackers] limit characters
In-Reply-To: <177fe0a80904061608lbe136f5t4ebd6917e0b3c1b2@mail.gmail.com>
References: <177fe0a80904061505w410dc353me024f2159203ef5e@mail.gmail.com><F25F2C8DE17FB546A90DB3CF774614270624A4DA@USA0300MS04.na.xerox.net>
	<177fe0a80904061608lbe136f5t4ebd6917e0b3c1b2@mail.gmail.com>
Message-ID: <F25F2C8DE17FB546A90DB3CF774614270624A4F6@USA0300MS04.na.xerox.net>

Sounds like this will be a great learning experience for you :)

An alternative to hooking the "the_editor" filter would be to just slap
in a hidden input field from your plugin's js file. That means all you
need to do in PHP is enqueue your two js scripts for the right page, and
the rest is javascript. Although this is only an better alternative if
you are more comfortable with javascript than php. Otherwise it's six of
one, half a dozen of the other.

P.S. refer to wp-admin/js/word-count.dev.js not word-count.js. The
former is (more) legible.

-Jesse

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of El Carpo
Blues
Sent: Monday, April 06, 2009 7:09 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] limit characters

jesse, thanks...
problem is, don't know how to write a plugin :S

anyway, i'll give it a try, and see what happens...

On Mon, Apr 6, 2009 at 7:55 PM, Silverstein, Jesse <
Jesse.Silverstein@xerox.com> wrote:

> This would probably be best achieved by a plugin. This is how I would
> write said plugin:
>
> On some action (admin-head or admin-head-(page-hook) ?) enqueue the
> maxlength js, and your own plugin's js (needs to be after jquery, so
add
> as a requirement). Then add a filter somewhere during the
> edit-form-advanced (maybe "the_editor") to put in a hidden "maxlength"
> field for the maxlength js. Your plugin's js should 1) add a span with
> appropriate ID inside the td with id="wp-word-count" after the
> word-count.js has added its own span. See wp-admin/js/word-count.js
for
> reference there. Then 2) trigger the maxlength plugin (safest after
page
> load has finished).
>
> Also, I think you will want to make sure this only happens if
> user_can_richedit().
>
> Good luck!
>
> -Jesse Silverstein
>
> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of El Carpo
> Blues
> Sent: Monday, April 06, 2009 6:05 PM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] limit characters
>
> hi there!
> i just entered the list 'cause i need your help
>
> Is there a way to limit the amount of characters in a wordpress post?
I
> mean, limit the amount of characters WHEN WRITING A POST, something
like
> integrating the maxlength
> plugin<http://remysharp.com/2008/06/30/maxlength-plugin/>into
> wordpress edit-form-advanced.php... I know those kind of scripts work
> with textarea, but i can't find the textarea tag on wordpress...
>
> if there is no way to achieve this, it also could be useful a way to
> count
> the characters i'm actually writing...
>
> thank you!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> No virus found in this incoming message.
> Checked by AVG - www.avg.com
> Version: 8.0.238 / Virus Database: 270.11.43/2043 - Release Date:
> 04/06/09 06:22:00
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Pasate por http://www.democraciachina.com.ar
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.0.238 / Virus Database: 270.11.43/2043 - Release Date:
04/06/09 18:59:00
From elcarpo.blues at gmail.com  Mon Apr  6 23:26:50 2009
From: elcarpo.blues at gmail.com (El Carpo Blues)
Date: Mon Apr  6 23:27:10 2009
Subject: [wp-hackers] limit characters
In-Reply-To: <F25F2C8DE17FB546A90DB3CF774614270624A4F6@USA0300MS04.na.xerox.net>
References: <177fe0a80904061505w410dc353me024f2159203ef5e@mail.gmail.com>
	<F25F2C8DE17FB546A90DB3CF774614270624A4DA@USA0300MS04.na.xerox.net>
	<177fe0a80904061608lbe136f5t4ebd6917e0b3c1b2@mail.gmail.com>
	<F25F2C8DE17FB546A90DB3CF774614270624A4F6@USA0300MS04.na.xerox.net>
Message-ID: <177fe0a80904061626q6dbe3007o5d11fcfd657173d4@mail.gmail.com>

thank you!

On Mon, Apr 6, 2009 at 8:20 PM, Silverstein, Jesse <
Jesse.Silverstein@xerox.com> wrote:

> Sounds like this will be a great learning experience for you :)
>
> An alternative to hooking the "the_editor" filter would be to just slap
> in a hidden input field from your plugin's js file. That means all you
> need to do in PHP is enqueue your two js scripts for the right page, and
> the rest is javascript. Although this is only an better alternative if
> you are more comfortable with javascript than php. Otherwise it's six of
> one, half a dozen of the other.
>
> P.S. refer to wp-admin/js/word-count.dev.js not word-count.js. The
> former is (more) legible.
>
> -Jesse
>
> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of El Carpo
> Blues
> Sent: Monday, April 06, 2009 7:09 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] limit characters
>
> jesse, thanks...
> problem is, don't know how to write a plugin :S
>
> anyway, i'll give it a try, and see what happens...
>
> On Mon, Apr 6, 2009 at 7:55 PM, Silverstein, Jesse <
> Jesse.Silverstein@xerox.com> wrote:
>
> > This would probably be best achieved by a plugin. This is how I would
> > write said plugin:
> >
> > On some action (admin-head or admin-head-(page-hook) ?) enqueue the
> > maxlength js, and your own plugin's js (needs to be after jquery, so
> add
> > as a requirement). Then add a filter somewhere during the
> > edit-form-advanced (maybe "the_editor") to put in a hidden "maxlength"
> > field for the maxlength js. Your plugin's js should 1) add a span with
> > appropriate ID inside the td with id="wp-word-count" after the
> > word-count.js has added its own span. See wp-admin/js/word-count.js
> for
> > reference there. Then 2) trigger the maxlength plugin (safest after
> page
> > load has finished).
> >
> > Also, I think you will want to make sure this only happens if
> > user_can_richedit().
> >
> > Good luck!
> >
> > -Jesse Silverstein
> >
> > -----Original Message-----
> > From: wp-hackers-bounces@lists.automattic.com
> > [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of El Carpo
> > Blues
> > Sent: Monday, April 06, 2009 6:05 PM
> > To: wp-hackers@lists.automattic.com
> > Subject: [wp-hackers] limit characters
> >
> > hi there!
> > i just entered the list 'cause i need your help
> >
> > Is there a way to limit the amount of characters in a wordpress post?
> I
> > mean, limit the amount of characters WHEN WRITING A POST, something
> like
> > integrating the maxlength
> > plugin<http://remysharp.com/2008/06/30/maxlength-plugin/>into
> > wordpress edit-form-advanced.php... I know those kind of scripts work
> > with textarea, but i can't find the textarea tag on wordpress...
> >
> > if there is no way to achieve this, it also could be useful a way to
> > count
> > the characters i'm actually writing...
> >
> > thank you!
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > No virus found in this incoming message.
> > Checked by AVG - www.avg.com
> > Version: 8.0.238 / Virus Database: 270.11.43/2043 - Release Date:
> > 04/06/09 06:22:00
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Pasate por http://www.democraciachina.com.ar
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> No virus found in this incoming message.
> Checked by AVG - www.avg.com
> Version: 8.0.238 / Virus Database: 270.11.43/2043 - Release Date:
> 04/06/09 18:59:00
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Pasate por http://www.democraciachina.com.ar
From theandystratton at gmail.com  Tue Apr  7 00:06:19 2009
From: theandystratton at gmail.com (Andy Stratton)
Date: Tue Apr  7 00:06:35 2009
Subject: [wp-hackers] WPLookup Version 2
Message-ID: <6e3546930904061706pf024346g913530a4e80e0dbe@mail.gmail.com>

Hey All,
WPLookup version 2 thanks too some help from Joost and Matt Martz.

Features:

   - New design
   - Search results page including Function/Template tag pages, Codex
   Search, PHPXref, phpDoc, and Custom WP Google Search
   - Sidebar of resource links (open to suggestions for more)

*Pro-tip:* use the redirect_to query param to get a redirect functionality
like the first version, e.g.:
http://wplookup.com/search/?function=get_pages&redirect_to=phpdoc

Valid values include codex (template tags, function ref, or codex searh),
phpxref, and phpdoc. These will throw 404 errors if they have no result.

Hope this helps you out and you find it useful,

-Andy
From theandystratton at gmail.com  Tue Apr  7 00:07:23 2009
From: theandystratton at gmail.com (Andy Stratton)
Date: Tue Apr  7 00:07:47 2009
Subject: [wp-hackers] Re: WPLookup Version 2
In-Reply-To: <6e3546930904061706pf024346g913530a4e80e0dbe@mail.gmail.com>
References: <6e3546930904061706pf024346g913530a4e80e0dbe@mail.gmail.com>
Message-ID: <6e3546930904061707h1043170di50dd81f8572707a5@mail.gmail.com>

http://wplookup.com
But I'm sure you knew the URL ;]

--
Andy Stratton
theandystratton@gmail.com


On Mon, Apr 6, 2009 at 8:06 PM, Andy Stratton <theandystratton@gmail.com>wrote:

> Hey All,
> WPLookup version 2 thanks too some help from Joost and Matt Martz.
>
> Features:
>
>    - New design
>    - Search results page including Function/Template tag pages, Codex
>    Search, PHPXref, phpDoc, and Custom WP Google Search
>    - Sidebar of resource links (open to suggestions for more)
>
> *Pro-tip:* use the redirect_to query param to get a redirect functionality
> like the first version, e.g.:
> http://wplookup.com/search/?function=get_pages&redirect_to=phpdoc
>
> Valid values include codex (template tags, function ref, or codex searh),
> phpxref, and phpdoc. These will throw 404 errors if they have no result.
>
> Hope this helps you out and you find it useful,
>
> -Andy
>
From zamoose at gmail.com  Tue Apr  7 00:53:14 2009
From: zamoose at gmail.com (Doug Stewart)
Date: Tue Apr  7 00:53:27 2009
Subject: [wp-hackers] Re: WPLookup Version 2
In-Reply-To: <6e3546930904061707h1043170di50dd81f8572707a5@mail.gmail.com>
References: <6e3546930904061706pf024346g913530a4e80e0dbe@mail.gmail.com>
	<6e3546930904061707h1043170di50dd81f8572707a5@mail.gmail.com>
Message-ID: <71ddd7490904061753w20f12bb9m5da2a856198255a6@mail.gmail.com>

On Mon, Apr 6, 2009 at 8:07 PM, Andy Stratton <theandystratton@gmail.com>wrote:

> http://wplookup.com
> But I'm sure you knew the URL ;]
>

Very well-designed -- I like it.

-- 
-Doug
From fonsekaean at gmail.com  Tue Apr  7 01:08:13 2009
From: fonsekaean at gmail.com (Nivanka Fonseka)
Date: Tue Apr  7 01:08:26 2009
Subject: [wp-hackers] Template revisioning system for WordPress
In-Reply-To: <902424490904060847y2d6bd7cax2434705bdb128da7@mail.gmail.com>
References: <421be760904050932j51349df8m1d686a70714f1bf0@mail.gmail.com>
	<349fe48b0904050939w2487a94cj5c0a2564014518ea@mail.gmail.com>
	<421be760904050942n5af844dmc2594d56b155d33b@mail.gmail.com>
	<349fe48b0904050944s719d28ebpf478b65980424477@mail.gmail.com>
	<421be760904052051t62365fcgffc88911b5883986@mail.gmail.com>
	<349fe48b0904060115x3673abeeq65ed859abd2ded8e@mail.gmail.com>
	<421be760904060201x7f23ac45v236c13fc3aea4580@mail.gmail.com>
	<902424490904060847y2d6bd7cax2434705bdb128da7@mail.gmail.com>
Message-ID: <421be760904061808s608e173u2f6d0c9148f7132f@mail.gmail.com>

Beau,

Yes that is some good point we have raised. Still I am not sure why
you suggest to version the entire theme, without just the file which
is edited.

Now when we normally do websites, we just keep versions of each and
every file, one by one. So why cant we use that logic here too?

Nivanka

On Mon, Apr 6, 2009 at 9:17 PM, Beau Lebens <beau@dentedreality.com.au> wrote:
> On Mon, Apr 6, 2009 at 2:01 AM, Nivanka Fonseka <fonsekaean@gmail.com> wrote:
>> yes I have mentioned it in my proposal, but there are some constrains,
>> WordPress templates are made of at least 4 or 5 files, so for this
>> matter we cannot just use the logic behind the content versioning
>> system. So my point is that to make this we will have to think of some
>> other means, and come up with a solution, I have included what I have
>> in my mind in my proposal.
>
> Yes, themes would probably benefit from more of an SVN-like system,
> where the entire "repo" was numbered (rather than individual files),
> so that you could roll back the whole theme to a known point, but that
> might be a bit tricky to implement given the potential number of files
> involved.
>
> And FYI: although I don't think you can edit applications, you can
> definitely add comments/"Reviews" to them on the site for more
> detail/clarification etc.
>
> Beau
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Nivanka Fonseka
From beau at dentedreality.com.au  Tue Apr  7 01:29:59 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Tue Apr  7 01:30:10 2009
Subject: [wp-hackers] Template revisioning system for WordPress
In-Reply-To: <421be760904061808s608e173u2f6d0c9148f7132f@mail.gmail.com>
References: <421be760904050932j51349df8m1d686a70714f1bf0@mail.gmail.com>
	<349fe48b0904050939w2487a94cj5c0a2564014518ea@mail.gmail.com>
	<421be760904050942n5af844dmc2594d56b155d33b@mail.gmail.com>
	<349fe48b0904050944s719d28ebpf478b65980424477@mail.gmail.com>
	<421be760904052051t62365fcgffc88911b5883986@mail.gmail.com>
	<349fe48b0904060115x3673abeeq65ed859abd2ded8e@mail.gmail.com>
	<421be760904060201x7f23ac45v236c13fc3aea4580@mail.gmail.com>
	<902424490904060847y2d6bd7cax2434705bdb128da7@mail.gmail.com>
	<421be760904061808s608e173u2f6d0c9148f7132f@mail.gmail.com>
Message-ID: <902424490904061829w26b03aa8w7f84abc52bf6576c@mail.gmail.com>

> Yes that is some good point we have raised. Still I am not sure why
> you suggest to version the entire theme, without just the file which
> is edited.
>
> Now when we normally do websites, we just keep versions of each and
> every file, one by one. So why cant we use that logic here too?

If you use Subversion, then you're technically keeping revisions of
the entire site (every time 1 file changes, the global revision number
increases).

I personally think this makes sense in relation to a theme because the
theme files all contribute to a single, working (hopefully) theme.
This means that you'd want to know that *all* files were at some known
revision because that's when you knew it was all working.

For example:

I have a theme which includes a series of PHP files, some CSS, a file
full of JavaScript and some images. Let's say I add a new feature, and
that requires me to modify 1 of my PHP files, add some CSS to my
style.css, plus modify my JavaScript file to include some new
functionality.

If each of those files maintains their own revision counts, then I
need to know that *right now*, it all works. Let's say the revision
numbers are PHP = 324, CSS = 12, JS = 3.

Now I make some PHP tweaks, doing multiple revisions. PHP file
revision is now 332.

And some CSS tweaks. CSS revision is now 34

Now I want to roll back to before I made that big change, because it
turns out it was a bad idea. Which revisions were they again? Did I
keep track of that? How easy is it to figure out the revision of each
file involved (or even to make sure I've reverted each file involved)
to full revert that change?

If you've used decent commit messages (if you even have them, since
the current Post Revisions system doesn't), then maybe this is a bit
easier, but hopefully you see my point.

Beau
From tristan at abtel-creation.com  Tue Apr  7 06:40:19 2009
From: tristan at abtel-creation.com (Tristan Bellosta)
Date: Tue Apr  7 06:40:27 2009
Subject: [wp-hackers] Re: About WordPress
In-Reply-To: <20090406192351.9807A671D@comox.textdrive.com>
References: <20090406192351.9807A671D@comox.textdrive.com>
Message-ID: <65F804557A834032BE44AB66A3540D0A@LeChatPotte>

I understand your feeling.
I only need someone who's able to answer the questions, the question Your 
CMS doesn't mean it's only yours, but the one you're working on.
It isn't a problem if I have several answers about WP, I will keep the best.
Thanks

----- Original Message -----

> Xavier or Tristan, is it assuming you have some kind of ownership of
> the CMS, or just that you've contributed to the code? I've written
> patches but the first question is "Your CMS name :", and I feel a bit
> wierd calling WP 'my cms' :P

From hiddenpearls at gmail.com  Tue Apr  7 09:21:03 2009
From: hiddenpearls at gmail.com (hiddenpearls)
Date: Tue Apr  7 09:21:13 2009
Subject: [wp-hackers] Advance Search in Wordpress
Message-ID: <8b3f0f84-e68d-407c-9b94-66dac3c2dff1@d25g2000prn.googlegroups.com>

hey , i have also submitted my application for Search . please look at
that and send me ur comments please . thanks

There should be a choice of 3 searches

1.    Basic search :

            Basic search will have a simple search to all posts.



2.    Intermediate search:



Intermediate will have few options for selecting one or all posts,
categories and plugins.



3.    Advanced search:



I will create a user friendly interface for multiple selections of
search criteria (posts in category A with tags B and C; posts with
author A and "text string"; plugins with keywords A and B, version
compatibility C.)

FULLTEXT search will be used and it will display words with high
rankings.

For advanced selection interface, I will use Jquery, powered with DOM
for optimum performance.

Apart from these methods a Boolean FULLTEXT search can also be
implemented.
From fonsekaean at gmail.com  Tue Apr  7 10:41:45 2009
From: fonsekaean at gmail.com (Nivanka Fonseka)
Date: Tue Apr  7 10:41:59 2009
Subject: [wp-hackers] Template revisioning system for WordPress
In-Reply-To: <902424490904061829w26b03aa8w7f84abc52bf6576c@mail.gmail.com>
References: <421be760904050932j51349df8m1d686a70714f1bf0@mail.gmail.com>
	<349fe48b0904050939w2487a94cj5c0a2564014518ea@mail.gmail.com>
	<421be760904050942n5af844dmc2594d56b155d33b@mail.gmail.com>
	<349fe48b0904050944s719d28ebpf478b65980424477@mail.gmail.com>
	<421be760904052051t62365fcgffc88911b5883986@mail.gmail.com>
	<349fe48b0904060115x3673abeeq65ed859abd2ded8e@mail.gmail.com>
	<421be760904060201x7f23ac45v236c13fc3aea4580@mail.gmail.com>
	<902424490904060847y2d6bd7cax2434705bdb128da7@mail.gmail.com>
	<421be760904061808s608e173u2f6d0c9148f7132f@mail.gmail.com>
	<902424490904061829w26b03aa8w7f84abc52bf6576c@mail.gmail.com>
Message-ID: <421be760904070341j3fa0e142u12aaeb33900e1dfc@mail.gmail.com>

I agree with your point Beau,

this is something which contrasts with my idea, sometimes keeping
revisions on each and every files will make it messy to the users too,
so lets keep a global revision to the whole template. But we can mark
which files are edited just like GIT I think. I am somewhat bias to
GIT when compared with SVN.

Anyway lets keep a global version which will be somewhat easy for the
users. Otherwise they will have to think of each and every file.

Still for this we can use some of the thoughts which I have written in
my proposal, but there will be changes with the logic I proposed.

Regards

Nivanka

On Tue, Apr 7, 2009 at 6:59 AM, Beau Lebens <beau@dentedreality.com.au> wrote:
>> Yes that is some good point we have raised. Still I am not sure why
>> you suggest to version the entire theme, without just the file which
>> is edited.
>>
>> Now when we normally do websites, we just keep versions of each and
>> every file, one by one. So why cant we use that logic here too?
>
> If you use Subversion, then you're technically keeping revisions of
> the entire site (every time 1 file changes, the global revision number
> increases).
>
> I personally think this makes sense in relation to a theme because the
> theme files all contribute to a single, working (hopefully) theme.
> This means that you'd want to know that *all* files were at some known
> revision because that's when you knew it was all working.
>
> For example:
>
> I have a theme which includes a series of PHP files, some CSS, a file
> full of JavaScript and some images. Let's say I add a new feature, and
> that requires me to modify 1 of my PHP files, add some CSS to my
> style.css, plus modify my JavaScript file to include some new
> functionality.
>
> If each of those files maintains their own revision counts, then I
> need to know that *right now*, it all works. Let's say the revision
> numbers are PHP = 324, CSS = 12, JS = 3.
>
> Now I make some PHP tweaks, doing multiple revisions. PHP file
> revision is now 332.
>
> And some CSS tweaks. CSS revision is now 34
>
> Now I want to roll back to before I made that big change, because it
> turns out it was a bad idea. Which revisions were they again? Did I
> keep track of that? How easy is it to figure out the revision of each
> file involved (or even to make sure I've reverted each file involved)
> to full revert that change?
>
> If you've used decent commit messages (if you even have them, since
> the current Post Revisions system doesn't), then maybe this is a bit
> easier, but hopefully you see my point.
>
> Beau
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Nivanka Fonseka
From muthu.work at gmail.com  Tue Apr  7 13:23:02 2009
From: muthu.work at gmail.com (Muthuswamy)
Date: Tue Apr  7 13:23:34 2009
Subject: [wp-hackers] Re: Template revisioning system for WordPress 
In-Reply-To: <20090407104202.81C846551@comox.textdrive.com>
References: <20090407104202.81C846551@comox.textdrive.com>
Message-ID: <49DB53B6.3040705@gmail.com>

wp-hackers-request@lists.automattic.com wrote:
> Re: Template revisioning system for WordPress
I made some ideas for GSOC wordpress. But my I was not able to submit my 
application to GSOC on time. I think these ideas can help the community 
to build my idea into a final project. I am also interested in doing 
this project, so if you wish we can work together.

Detailed Proposal:
--------------------------
Wordpress theme editor has been a mere text editor with no special 
features built in it. This project proposal is to provide improvements 
to the default Wordpress theme editor and add some usable functionality 
that can help theme developers.

1. Theme Files Tree View:
Current theme editor just skips the sub-folders inside the themes 
folder, so editing these files from the admin panel is not possible. 
This project is going to include all the html, php, css, javascript 
files inside the themes folder in any level of folder the files is in. 
This can be achieved by adding a modified file navigation tree, 
replacing the traditional system.

2. Theme Versioning System:
Similar to the post versioning system, the theme editor will also get a 
versioning system where the revisions of the files are stored in a 
separate folder like: 
wp-content/themes/theme-revisions/<themename>/<subfolder>/<date>.<time>.<filename>.<extension>

Here we do not require any database related functions as the list of 
revisions are got from scanning the file system and displayed under the 
theme editor for respective files. This will allow the user to easily 
manage the revisions for the specific file.
The user can also select specific revisions of file to create new set of 
theme right from the admin panel and test the new theme without 
affecting the current theme files.

The versioning system also holds the copy of the current file so even if 
the user changes the file through FTP, the theme system can identify 
changes and save the copy of new revision in the respective theme 
revisions folder. This method can be achieved by invoking versioning 
functions when the user enters the Wordpress admin dashboard(fake cron).
If the user require, autosave option can also be enabled. But this will 
disabled by default as it can create too many unwanted revisions.

I hope this will help in some way.

Regards,
Muthuswamy K.
From fonsekaean at gmail.com  Tue Apr  7 15:57:42 2009
From: fonsekaean at gmail.com (Nivanka Fonseka)
Date: Tue Apr  7 16:21:47 2009
Subject: [wp-hackers] Re: Template revisioning system for WordPress
In-Reply-To: <49DB53B6.3040705@gmail.com>
References: <20090407104202.81C846551@comox.textdrive.com>
	<49DB53B6.3040705@gmail.com>
Message-ID: <421be760904070857w460181c4rc93499385ca04484@mail.gmail.com>

Dear Muthuswamy,

I raised this in my proposal too, my point is that we can integrate a
WYSIWYG editor like EditArea to the wordpress, so that people may find
it really easy to edit. I do think that a tree is some good idea, but
there is a way in which the wordpress templates are built, so I think
the system must be compatible to that.

Thanks for your kind reply.

Nivanka

On Tue, Apr 7, 2009 at 6:53 PM, Muthuswamy <muthu.work@gmail.com> wrote:
> wp-hackers-request@lists.automattic.com wrote:
>>
>> Re: Template revisioning system for WordPress
>
> I made some ideas for GSOC wordpress. But my I was not able to submit my
> application to GSOC on time. I think these ideas can help the community to
> build my idea into a final project. I am also interested in doing this
> project, so if you wish we can work together.
>
> Detailed Proposal:
> --------------------------
> Wordpress theme editor has been a mere text editor with no special features
> built in it. This project proposal is to provide improvements to the default
> Wordpress theme editor and add some usable functionality that can help theme
> developers.
>
> 1. Theme Files Tree View:
> Current theme editor just skips the sub-folders inside the themes folder, so
> editing these files from the admin panel is not possible. This project is
> going to include all the html, php, css, javascript files inside the themes
> folder in any level of folder the files is in. This can be achieved by
> adding a modified file navigation tree, replacing the traditional system.
>
> 2. Theme Versioning System:
> Similar to the post versioning system, the theme editor will also get a
> versioning system where the revisions of the files are stored in a separate
> folder like:
> wp-content/themes/theme-revisions/<themename>/<subfolder>/<date>.<time>.<filename>.<extension>
>
> Here we do not require any database related functions as the list of
> revisions are got from scanning the file system and displayed under the
> theme editor for respective files. This will allow the user to easily manage
> the revisions for the specific file.
> The user can also select specific revisions of file to create new set of
> theme right from the admin panel and test the new theme without affecting
> the current theme files.
>
> The versioning system also holds the copy of the current file so even if the
> user changes the file through FTP, the theme system can identify changes and
> save the copy of new revision in the respective theme revisions folder. This
> method can be achieved by invoking versioning functions when the user enters
> the Wordpress admin dashboard(fake cron).
> If the user require, autosave option can also be enabled. But this will
> disabled by default as it can create too many unwanted revisions.
>
> I hope this will help in some way.
>
> Regards,
> Muthuswamy K.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Nivanka Fonseka
From scribu at gmail.com  Tue Apr  7 17:05:13 2009
From: scribu at gmail.com (scribu)
Date: Tue Apr  7 17:06:21 2009
Subject: [wp-hackers] svn.wp-plugins.org issue with "non utf8 characters"
Message-ID: <349fe48b0904071005j5d9dd7ffl91559c0876836a56@mail.gmail.com>

http://wordpress.org/support/topic/260031

Just wanted to give a heads-up on this in the hope that it will be
seen by the right person(s).
From cpoteet at siolon.com  Tue Apr  7 17:14:51 2009
From: cpoteet at siolon.com (Chris Poteet)
Date: Tue Apr  7 17:14:54 2009
Subject: [wp-hackers] Adding Admin Link to Certain Page
Message-ID: <e5564c9a-2c5e-4f49-8862-68a00498f0cb@e25g2000vbe.googlegroups.com>

I have two questions.

Is there a way to add an admin menu to a specific page and not just a
new panel. For instance, I would like to add a link underneath
"Appearance" that will link to the plugin editor page and load a CSS
file. Is it possible?

/wp-admin/plugin-editor.php?file=persistent-styles-plugin/
persistent.css&plugin=persistent-styles-plugin/persistent.php

Also, where is the documentation to put a custom message in the update
panel for a plugin?
From ryan at boren.nu  Tue Apr  7 17:36:25 2009
From: ryan at boren.nu (Ryan Boren)
Date: Tue Apr  7 17:36:37 2009
Subject: [wp-hackers] Re: Template revisioning system for WordPress
In-Reply-To: <421be760904070857w460181c4rc93499385ca04484@mail.gmail.com>
References: <20090407104202.81C846551@comox.textdrive.com>
	<49DB53B6.3040705@gmail.com>
	<421be760904070857w460181c4rc93499385ca04484@mail.gmail.com>
Message-ID: <c8f37c930904071036m4eee3759ydb1c233c9614662a@mail.gmail.com>

Those making proposals need to look at trunk.  Some of these
suggestions are already implemented and will be released in 2.8.

Old versions of templates must be saved in the filesystem in such a
way that they are not publicly accessible.  We don't want to expose
vulnerabilities that may be lingering in old versions.  This usually
means adding a hash to file and directory names, preventing directory
listings, and removing the .php extension.

When restoring old versions back into wp-content/themes, WP_Filesystem
should be used so that the proper owner and permissions can be
restored.
From peter.westwood at ftwr.co.uk  Tue Apr  7 17:46:35 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Tue Apr  7 17:46:55 2009
Subject: [wp-hackers] svn.wp-plugins.org issue with "non utf8 characters"
In-Reply-To: <349fe48b0904071005j5d9dd7ffl91559c0876836a56@mail.gmail.com>
References: <349fe48b0904071005j5d9dd7ffl91559c0876836a56@mail.gmail.com>
Message-ID: <211D5D8D-A4A9-40EB-A94E-C07104BC50F9@ftwr.co.uk>


On 7 Apr 2009, at 18:05, scribu wrote:

> http://wordpress.org/support/topic/260031
>
> Just wanted to give a heads-up on this in the hope that it will be
> seen by the right person(s).
>

Barry has responded and fixed this as far as I can see from that thread.

It looks like a side effect of a fix he put in for a different issue I  
saw :-(

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From scribu at gmail.com  Tue Apr  7 17:48:14 2009
From: scribu at gmail.com (scribu)
Date: Tue Apr  7 17:48:30 2009
Subject: [wp-hackers] svn.wp-plugins.org issue with "non utf8 characters"
In-Reply-To: <211D5D8D-A4A9-40EB-A94E-C07104BC50F9@ftwr.co.uk>
References: <349fe48b0904071005j5d9dd7ffl91559c0876836a56@mail.gmail.com>
	<211D5D8D-A4A9-40EB-A94E-C07104BC50F9@ftwr.co.uk>
Message-ID: <349fe48b0904071048x5e470664t286cda2cd127523c@mail.gmail.com>

On Tue, Apr 7, 2009 at 8:46 PM, Peter Westwood
<peter.westwood@ftwr.co.uk> wrote:
> Barry has responded and fixed this as far as I can see from that thread.
>
> It looks like a side effect of a fix he put in for a different issue I saw
> :-(
>
> westi

The important thing is that it's working again.

-- 
http://scribu.net
From ncrice at gmail.com  Tue Apr  7 19:10:10 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Apr  7 19:10:25 2009
Subject: [wp-hackers] questions on best practices for wp_enqueue_script 
	and wp_enqueue_style
In-Reply-To: <49D9F536.5060005@toppa.com>
References: <49D9F536.5060005@toppa.com>
Message-ID: <862d087f0904071210s39d7f5c0hec51e1fff23e369@mail.gmail.com>

Mike,

1. In your function, just do a conditional:
if(!is_admin()) {
wp_enqueue_script...
}

2. the src wants a url, not a path (I think). Yes, it could be a relative
url, but that can be determined based on the location of the file you're
using to do the wp_enqueue_script in (../../file.js or something similar).
But really, the full url should work fine, and will probably be your best
bet.

Nathan


My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Mon, Apr 6, 2009 at 8:27 AM, Michael Toppa <public@toppa.com> wrote:

> Hi all,
>
> Mike Toppa here - I'm a new member to the list. I'm trying to figure out a
> couple things relating to wp_enqueue_script and wp_enqueue_style. I've
> looked at a few different blog posts people have written trying to explain
> these, and I'm finding incorrect advise (for example, calling them with
> wp_print_scripts is not a good idea).
>
> 1. I know to wrap calls to them in my own function. To use them outside the
> admin pages, what is the best action to call my function from? The codex
> says to use the init action, but that causes them to also load in the admin
> pages, which is undesirable. What is the best action hook to use so that
> they'll load in the public pages but not the admin pages? I came across a
> couple support threads with people suggesting the use of template_redirect,
> but that struck me as an odd choice (even if works, it doesn't seem like a
> conceptual fit).
>
> 2. Both functions want the src path defined from the root of the wordpress
> installation. PLUGINDIR seems to do the trick for the plugin directory. What
> is the equivalent for the active theme directory? TEMPLATEPATH gives the
> absolute path, and get_stylesheet_directory_uri() gives the absolute URL.
> How do I get the relative path? In my plugin I give users the option of
> customizing the plugin's css and placing a copy in their active theme
> folder, so I can't extrapolate the path from the location of my script.
>
> I'll be happy to update the codex with the correct answers if anyone knows
> them.
>
> Thanks very much,
>
> Mike T
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mcepl at redhat.com  Tue Apr  7 23:44:12 2009
From: mcepl at redhat.com (Matej Cepl)
Date: Tue Apr  7 23:55:20 2009
Subject: [wp-hackers] meaningful EOLs considered harmful
Message-ID: <c35ta6-g14.ln1@ppp1053.in.ipex.cz>

Hi,

I am trying to build a small system of XSLT stylesheets and 
simple Python script to create a solution for publishing blogs 
originally authored in Docbook 5.0 via Atompub. The current code 
is at http://mcepl.fedorapeople.org/tmp/atom-wordpress/

Everything works well, except for the fact that apparently 
wordpress tries to format XHTML document by the EOLs it finds in 
the Atom feed. So for example result of the command (publishing 
entry available on the fedorapeople)

curl -v -X POST -u login:pass --data-binary @test.atom -c \
    cookies.txt -H 'Content-Type: application/atom+xml' \
    http://matejcepltest.wordpress.com/wp-app.php/posts

where test.atom contains (among many other things and in 
<atom:content type="xhtml">)

    <p>?<span class="scripture">For God sent not his
        Son into the world to condemn the world; but that the world
        through him might be saved.</span>? (J. 3:17)  In some 

is on http://matejcepltest.wordpress.com/ and to may horror it 
contains this text as:

    <p>?<span class="scripture">For God sent not his<br />
    Son into the world to condemn the world; but that the world<br />
    through him might be saved.</span>? (J. 3:17) 

Aren't EOLs supposed to be meaningless in XHTML? Why then 
wordpress inserts <br /> elements whenever I have EOL in XHTML 
text?

Or did I miss something?

Thank you for any answers,

Mat?j

P.S.: Also on http://wordpress.org/support/topic/260218 ... not 
sure where is this more appropriate.

From mikeschinkel at newclarity.net  Wed Apr  8 00:04:01 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Apr  8 00:05:21 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <2550280.551239148745954.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl36J41f7aa77d1b356345ee8763b,
	mikeschinkel@newclarity.net, 6256691.571239149035439.J>

Jennifer,

Thanks for the reply. Unfortunately just replacing the query doesn't always make sense. 

Consider the following hypothetical use case: To display a page of latest Tweets from the site owner's Twitter account. A scheduled task could be called to retrieve tweets from the Twitter API and stored locally as HTML in wp_options table, and then the page displays the tweets by simply echoing the HTML to the browser.  For this use-case (and many similar ones), there is no need to run a query on wp_posts.

Another use case might be to pull users; running a query for posts only to discard the results in order to run a query for users makes little sense to me. A third use-case might be to display a page with a list of categories or tags, i.e. a query on the terms and taxonomy tables. A forth use-case might be to display a page with a list of links.  None of these require running a query in the posts table first.

To solve this dilemma shouldn't be that hard. I'm happy submit a patch, but as there are many ways to do it any of which could address the use cases I mention I'd like to get some input on the best way to do it. I'd rather not have to go through the process of submitting numerous similar patches each with a different approach and then wait to see which ones the core team decides to commit, if any.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

----- Original Message -----
From: "Jennifer Hodgdon" <yahgrp@poplarware.com>
To: wp-hackers@lists.automattic.com
Sent: Monday, April 6, 2009 10:22:55 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Any way to bypass $wp->query_posts()?

Mike Schinkel wrote:
>>> You could also use one of the hooks inside query_posts, to override 
> parts of the query, such as the where section, 
> 
> Yeah, i guess I could do "WHERE 1=0" but it still sends the query to MySQL which is suboptimal.
> 
>>> and I think even the whole query.
> 
> AFAICT there's no way to bypass the query in that function. I've poured over that section of code for several hours now. Hoping that adding something to allow bypassing would be considered reasonable by those who options are most respected here.

Check out function WP_Query->get_posts() in wp-includes/query.php.

There is a filter called 'posts_request' that lets you replace the 
entire query.

    --Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From shacker at birdhouse.org  Wed Apr  8 06:46:17 2009
From: shacker at birdhouse.org (Hacker Scot)
Date: Wed Apr  8 06:46:32 2009
Subject: [wp-hackers] Categories empty on all blogs after PHP upgrade
Message-ID: <1C1BFC58-EF38-4F63-B4A2-F149EF051A2F@birdhouse.org>

OK, here's a weird one. Upgraded PHP 5.2.8 to 5.2.9 on a server today.  
The server hosts 90 WP sites on 50 or so domains. Immediately  
afterwards, all categories on all blogs are empty.

wp-admin/categories.php lists all categories with the number of posts  
in each; click on a category and it shows zero posts. Same on the  
public/front-end. If I then run Repair Tables via phpmyadmin,  wp- 
admin/categories.php shows zero posts in each category, same on front  
end. In other words, repair tables seems to make things worse.

All WP installations are 2.7.1. None of them were upgraded. This was  
just a PHP upgrade on a cPanel system with MySQL 4.1.22.

Findings lots of solutions in the forums for fixing individual blogs,  
but nothing about server-wide category problems.

All suggestions very welcome.

Thanks,
./s


From peter.westwood at ftwr.co.uk  Wed Apr  8 06:57:16 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed Apr  8 06:57:32 2009
Subject: [wp-hackers] Categories empty on all blogs after PHP upgrade
In-Reply-To: <1C1BFC58-EF38-4F63-B4A2-F149EF051A2F@birdhouse.org>
References: <1C1BFC58-EF38-4F63-B4A2-F149EF051A2F@birdhouse.org>
Message-ID: <E0E00B9F-9EB8-48EF-B74E-38E894133534@ftwr.co.uk>


On 8 Apr 2009, at 07:46, Hacker Scot wrote:

> OK, here's a weird one. Upgraded PHP 5.2.8 to 5.2.9 on a server  
> today. The server hosts 90 WP sites on 50 or so domains. Immediately  
> afterwards, all categories on all blogs are empty.
>
> wp-admin/categories.php lists all categories with the number of  
> posts in each; click on a category and it shows zero posts. Same on  
> the public/front-end. If I then run Repair Tables via phpmyadmin,   
> wp-admin/categories.php shows zero posts in each category, same on  
> front end. In other words, repair tables seems to make things worse.
>
> All WP installations are 2.7.1. None of them were upgraded. This was  
> just a PHP upgrade on a cPanel system with MySQL 4.1.22.
>
> Findings lots of solutions in the forums for fixing individual  
> blogs, but nothing about server-wide category problems.


This sounds like you've lost all the post<>category relationships  
which would be stored in the term_relationships table.

Is this table empty?

Cheers

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From jcanals at alkivia.com  Wed Apr  8 11:19:34 2009
From: jcanals at alkivia.com (Jordi Canals)
Date: Wed Apr  8 11:19:48 2009
Subject: [wp-hackers] Trouble with plugins repository
Message-ID: <394db23a0904080419j68e33ecalf6decf0529ff264@mail.gmail.com>

Hello all,

I'm having some trouble with the plugins repository.  Since yesterday, it
seems not to generate the ZIP file for new plugins releases, and gives a 404
error when trying to download. I've seen that in the latest updated plugins.
Where can I ask for help with this? Where can I report this problem with the
plugins pages and repository?

Thanks in advance,
Jordi.

Sorry if this is not the place to post this. Hope you can address me to the
correct place.
From scribu at gmail.com  Wed Apr  8 11:25:37 2009
From: scribu at gmail.com (scribu)
Date: Wed Apr  8 11:25:54 2009
Subject: [wp-hackers] Trouble with plugins repository
In-Reply-To: <394db23a0904080419j68e33ecalf6decf0529ff264@mail.gmail.com>
References: <394db23a0904080419j68e33ecalf6decf0529ff264@mail.gmail.com>
Message-ID: <349fe48b0904080425k73333209me537ca3e09cebb50@mail.gmail.com>

Yes, I've also noticed this: although the changes are commited and
visible through the svn log, the plugin profile doesn't get updated.

On Wed, Apr 8, 2009 at 2:19 PM, Jordi Canals <jcanals@alkivia.com> wrote:
> Hello all,
>
> I'm having some trouble with the plugins repository. ?Since yesterday, it
> seems not to generate the ZIP file for new plugins releases, and gives a 404
> error when trying to download. I've seen that in the latest updated plugins.
> Where can I ask for help with this? Where can I report this problem with the
> plugins pages and repository?
>
> Thanks in advance,
> Jordi.
>
> Sorry if this is not the place to post this. Hope you can address me to the
> correct place.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From scribu at gmail.com  Wed Apr  8 11:27:28 2009
From: scribu at gmail.com (scribu)
Date: Wed Apr  8 11:27:42 2009
Subject: [wp-hackers] Trouble with plugins repository
In-Reply-To: <349fe48b0904080425k73333209me537ca3e09cebb50@mail.gmail.com>
References: <394db23a0904080419j68e33ecalf6decf0529ff264@mail.gmail.com>
	<349fe48b0904080425k73333209me537ca3e09cebb50@mail.gmail.com>
Message-ID: <349fe48b0904080427m1e98ced6w7afacc97cf40b55f@mail.gmail.com>

PS: See this topic for updates: http://wordpress.org/support/topic/260031


-- 
http://scribu.net
From public at toppa.com  Wed Apr  8 11:43:21 2009
From: public at toppa.com (Michael Toppa)
Date: Wed Apr  8 11:43:37 2009
Subject: [wp-hackers] Re: wp-hackers Digest, Vol 51, Issue 15
In-Reply-To: <20090406192351.9807A671D@comox.textdrive.com>
References: <20090406192351.9807A671D@comox.textdrive.com>
Message-ID: <49DC8DD9.8020807@toppa.com>

Thanks for the replies from scribu and Nathan. I updated the codex page 
for wp_enqueue_script with a more detailed example and more guidance on 
which hooks to use.

http://codex.wordpress.org/Function_Reference/wp_enqueue_script

One thing I was hesitant to change was the src parameter info - it 
specifically says to use a URL that's relative to the root of the 
wordpress installation. Both scribu and Nathan said that a full URL is 
fine, and that did work fine for me. Can anyone confirm if this is by 
accident or design? If the advise in the codex is wrong, then I'll 
update it on that point too.

Mike T
> ------------------------------
>
> Message: 2
> Date: Mon, 6 Apr 2009 17:10:38 +0300
> From: scribu <scribu@gmail.com>
> Subject: Re: [wp-hackers] questions on best practices for
> 	wp_enqueue_script 	and wp_enqueue_style
> To: wp-hackers@lists.automattic.com
> Message-ID:
> 	<349fe48b0904060710rd85cb10s392f64daa648fbb8@mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> 1. About using template_redirect:
>
> DD32:
>
> [template_redirect] is one of the easiest filters to use after WP has loaded
> and parsed everything, and is ready to start outputting. when this action
> fires, Plugins have everything at their disposal, and the theme hasnt
> displayed anything yet, Very useful time to inspect and redirect if need be,
> or to enqueue stuff that'll be needed (since you can see the posts now)
>
>
>  2. You can use get_bloginfo('template_url').
>
> --
> http://scribu.net
>
>   
>
From scribu at gmail.com  Wed Apr  8 12:44:08 2009
From: scribu at gmail.com (scribu)
Date: Wed Apr  8 12:44:34 2009
Subject: [wp-hackers] Re: wp-hackers Digest, Vol 51, Issue 15
In-Reply-To: <49DC8DD9.8020807@toppa.com>
References: <20090406192351.9807A671D@comox.textdrive.com>
	<49DC8DD9.8020807@toppa.com>
Message-ID: <349fe48b0904080544k5bb320bdg807360fced1b8670@mail.gmail.com>

On Wed, Apr 8, 2009 at 2:43 PM, Michael Toppa <public@toppa.com> wrote:
> One thing I was hesitant to change was the src parameter info - it
> specifically says to use a URL that's relative to the root of the wordpress
> installation. Both scribu and Nathan said that a full URL is fine, and that
> did work fine for me. Can anyone confirm if this is by accident or design?
> If the advise in the codex is wrong, then I'll update it on that point too.
>

Absolute URLs are safer, given the possibility of various redirects,
the optimized script loader in WP 2.8 etc.

-- 
http://scribu.net
From shacker at birdhouse.org  Wed Apr  8 15:06:03 2009
From: shacker at birdhouse.org (Hacker Scot)
Date: Wed Apr  8 15:06:23 2009
Subject: [wp-hackers] Categories empty on all blogs after PHP 	upgrade
In-Reply-To: <20090408120101.2D1236672@comox.textdrive.com>
References: <20090408120101.2D1236672@comox.textdrive.com>
Message-ID: <A609FA8A-5BE6-4730-AC73-F73838C0F714@birdhouse.org>

>
> From: Peter Westwood <peter.westwood@ftwr.co.uk>
> Subject: Re: [wp-hackers] Categories empty on all blogs after PHP
> 	upgrade
>
> On 8 Apr 2009, at 07:46, Hacker Scot wrote:
>
>> OK, here's a weird one. Upgraded PHP 5.2.8 to 5.2.9 on a server
>> today. The server hosts 90 WP sites on 50 or so domains. Immediately
>> afterwards, all categories on all blogs are empty.
>>
>> wp-admin/categories.php lists all categories with the number of
>> posts in each; click on a category and it shows zero posts. Same on
>> the public/front-end. If I then run Repair Tables via phpmyadmin,
>> wp-admin/categories.php shows zero posts in each category, same on
>> front end. In other words, repair tables seems to make things worse.
>>
>> All WP installations are 2.7.1. None of them were upgraded. This was
>> just a PHP upgrade on a cPanel system with MySQL 4.1.22.
>>
>> Findings lots of solutions in the forums for fixing individual
>> blogs, but nothing about server-wide category problems.
>
>
> This sounds like you've lost all the post<>category relationships
> which would be stored in the term_relationships table.
>
> Is this table empty?
>


Just had a look at the term_relationships table for three of the  
affected blogs (owned by different users/accounts on the server) and  
no, those tables are not empty. The term_order column  is all zeroes,   
but the object_id and term_taxonomy_id columns appear to contain  
normal data.

I just can't see how a PHP upgrade could affect specific data in  
specific tables, affecting all users on the server. Is there any  
conceivable way that something related could be in play, such as the  
PHP-MySQL driver being different, or similar? Any kind of PHP  
environment variable that could have an effect like this?

Grasping at straws with a lot of miffed users. All suggestions welcome.

Thanks,
Scot





From otto at ottodestruct.com  Wed Apr  8 15:09:29 2009
From: otto at ottodestruct.com (Otto)
Date: Wed Apr  8 15:09:56 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <8199053467187321111@unknownmsgid>
References: <2550280.551239148745954.JavaMail.DELL-1405$@Dell-1405> 
	<8199053467187321111@unknownmsgid>
Message-ID: <161617690904080809vf06917fl928e36caa3e0a7da@mail.gmail.com>

On Tue, Apr 7, 2009 at 7:04 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> Jennifer,
>
> Thanks for the reply. Unfortunately just replacing the query doesn't always make sense.
>
> Consider the following hypothetical use case: To display a page of latest Tweets from the site owner's Twitter account. A scheduled task could be called to retrieve tweets from the Twitter API and stored locally as HTML in wp_options table, and then the page displays the tweets by simply echoing the HTML to the browser. ?For this use-case (and many similar ones), there is no need to run a query on wp_posts.

Sure there is. In order to get the Page, you have to run the query on
wp_posts. I assume you're using some internal tag in the post_content
to have it know which page to display the tweets on, after all.
Because that's the sanest way for a plugin to do it. Of course, you
could bypass that entirely and then use a page template instead, but
even then you need to query the posts table in order to know which
page template is being used.

> Another use case might be to pull users; running a query for posts only to discard the results in order to run a query for users makes little sense to me. A third use-case might be to display a page with a list of categories or tags, i.e. a query on the terms and taxonomy tables. A forth use-case might be to display a page with a list of links.  None of these require running a query in the posts table first.

Actually, all of them require the posts table query, for the same
reasons I gave before. For any serious case where you're going to
display something special on a Page, then you need to have some way
for the system to know where to go and get that special thing. Just
because you don't happen to need the post_content doesn't mean that
the posts table query is entirely useless to you.

-Otto
From lynne.pope at gmail.com  Wed Apr  8 15:11:21 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Wed Apr  8 15:13:28 2009
Subject: [wp-hackers] Categories empty on all blogs after PHP upgrade
In-Reply-To: <A609FA8A-5BE6-4730-AC73-F73838C0F714@birdhouse.org>
References: <20090408120101.2D1236672@comox.textdrive.com> 
	<A609FA8A-5BE6-4730-AC73-F73838C0F714@birdhouse.org>
Message-ID: <427667db0904080811v21bdd66ax673f38fd375fa4c9@mail.gmail.com>

2009/4/9 Hacker Scot <shacker@birdhouse.org>

>
>> From: Peter Westwood <peter.westwood@ftwr.co.uk>
>> Subject: Re: [wp-hackers] Categories empty on all blogs after PHP
>>        upgrade
>>
>> On 8 Apr 2009, at 07:46, Hacker Scot wrote:
>>
>>  OK, here's a weird one. Upgraded PHP 5.2.8 to 5.2.9 on a server
>>> today. The server hosts 90 WP sites on 50 or so domains. Immediately
>>> afterwards, all categories on all blogs are empty.
>>>
>>> wp-admin/categories.php lists all categories with the number of
>>> posts in each; click on a category and it shows zero posts. Same on
>>> the public/front-end. If I then run Repair Tables via phpmyadmin,
>>> wp-admin/categories.php shows zero posts in each category, same on
>>> front end. In other words, repair tables seems to make things worse.
>>>
>>> All WP installations are 2.7.1. None of them were upgraded. This was
>>> just a PHP upgrade on a cPanel system with MySQL 4.1.22.
>>>
>>> Findings lots of solutions in the forums for fixing individual
>>> blogs, but nothing about server-wide category problems.
>>>
>>
>>
>> This sounds like you've lost all the post<>category relationships
>> which would be stored in the term_relationships table.
>>
>> Is this table empty?
>>
>>
>
> Just had a look at the term_relationships table for three of the affected
> blogs (owned by different users/accounts on the server) and no, those tables
> are not empty. The term_order column  is all zeroes,  but the object_id and
> term_taxonomy_id columns appear to contain normal data.
>
> I just can't see how a PHP upgrade could affect specific data in specific
> tables, affecting all users on the server. Is there any conceivable way that
> something related could be in play, such as the PHP-MySQL driver being
> different, or similar? Any kind of PHP environment variable that could have
> an effect like this?
>
> Grasping at straws with a lot of miffed users. All suggestions welcome.


Have you asked on the cPanel forum? I've hit similar problems in the past
with cPanel upgrades. A PHP upgrade should not impact on MySQL tables,
especially when its simply an upgrade from a PHP 5 point version.
I'de be inclined to look for any cPanel bugs.

Lynne
From otto at ottodestruct.com  Wed Apr  8 15:14:43 2009
From: otto at ottodestruct.com (Otto)
Date: Wed Apr  8 15:15:11 2009
Subject: [wp-hackers] meaningful EOLs considered harmful
In-Reply-To: <c35ta6-g14.ln1@ppp1053.in.ipex.cz>
References: <c35ta6-g14.ln1@ppp1053.in.ipex.cz>
Message-ID: <161617690904080814v5961e8e5va8ae2251d13fb247@mail.gmail.com>

On Tue, Apr 7, 2009 at 6:44 PM, Matej Cepl <mcepl@redhat.com> wrote:
> where test.atom contains (among many other things and in
> <atom:content type="xhtml">)

WordPress has no support for different "type" parameters on the
atom:content. You could send type="ooga-booga" and it would still do
the same thing.

The content is expected to be plain text, just as if it was typed in
on the post publishing screen. It will then get run through the
automatic formatting process like everything else. So EOL's do matter,
because it's not accepting "xhtml", it's accepting plain text.

-Otto
Sent from Memphis, Tennessee, United States
From casey.bisson at gmail.com  Wed Apr  8 15:23:26 2009
From: casey.bisson at gmail.com (Casey Bisson)
Date: Wed Apr  8 15:25:11 2009
Subject: [wp-hackers] Categories empty on all blogs after PHP 	upgrade
In-Reply-To: <A609FA8A-5BE6-4730-AC73-F73838C0F714@birdhouse.org>
References: <20090408120101.2D1236672@comox.textdrive.com>
	<A609FA8A-5BE6-4730-AC73-F73838C0F714@birdhouse.org>
Message-ID: <B0E22F37-6BE0-47B4-B388-03CDF79056A4@gmail.com>


Are you using PHP/APC-based object caching?

I encountered a bug when trying to use APC as the WordPress object  
cache that was very similar to what you describe. I never did resolve  
it, just switched to Memcached.

--Casey

http://MaisonBisson.com/
http://Scriblio.net/


On Apr 8, 2009, at 11:06 AM, Hacker Scot wrote:

> I just can't see how a PHP upgrade could affect specific data in  
> specific tables, affecting all users on the server....
From mcepl at redhat.com  Wed Apr  8 15:41:45 2009
From: mcepl at redhat.com (Matej Cepl)
Date: Wed Apr  8 15:45:37 2009
Subject: [wp-hackers] Re: meaningful EOLs considered harmful
References: <c35ta6-g14.ln1@ppp1053.in.ipex.cz>
	<161617690904080814v5961e8e5va8ae2251d13fb247@mail.gmail.com>
Message-ID: <p6tua6-a8n.ln1@ppp1053.in.ipex.cz>

On 2009-04-08, 15:14 GMT, Otto wrote:
> WordPress has no support for different "type" parameters on the
> atom:content. You could send type="ooga-booga" and it would still do
> the same thing.

a) is there some bug/ticket/RFE for it to be fixed?
b) could it be mentioned on http://codex.wordpress.org/AtomPub ?

Mat?j

From yahgrp at poplarware.com  Wed Apr  8 15:58:59 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Wed Apr  8 15:58:11 2009
Subject: [wp-hackers] Re: meaningful EOLs considered harmful
In-Reply-To: <p6tua6-a8n.ln1@ppp1053.in.ipex.cz>
References: <c35ta6-g14.ln1@ppp1053.in.ipex.cz>	<161617690904080814v5961e8e5va8ae2251d13fb247@mail.gmail.com>
	<p6tua6-a8n.ln1@ppp1053.in.ipex.cz>
Message-ID: <49DCC9C3.1080906@poplarware.com>

Matej Cepl wrote:
> On 2009-04-08, 15:14 GMT, Otto wrote:
>> WordPress has no support for different "type" parameters on the
>> atom:content. You could send type="ooga-booga" and it would still do
>> the same thing.

> b) could it be mentioned on http://codex.wordpress.org/AtomPub ?

Please go ahead and edit the page. The Codex is a wiki, maintained by 
whoever in the community learns of something important, and volunteers 
their valuable time to make that information available to others. 
This sounds like a good candidate.

Thanks,
    Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming

From shacker at birdhouse.org  Wed Apr  8 15:35:06 2009
From: shacker at birdhouse.org (Hacker Scot)
Date: Wed Apr  8 16:31:29 2009
Subject: [wp-hackers] Categories empty on all blogs after PHP upgrade
In-Reply-To: <20090408120101.2D1236672@comox.textdrive.com>
References: <20090408120101.2D1236672@comox.textdrive.com>
Message-ID: <55E211B5-BD1B-4DE0-8E5E-81D4C02622B3@birdhouse.org>

On Apr 8, 2009, at 5:01 AM, wp-hackers-request@lists.automattic.com  
wrote:

> Date: Tue, 7 Apr 2009 23:46:17 -0700
> From: Hacker Scot <shacker@birdhouse.org>
> Subject: [wp-hackers] Categories empty on all blogs after PHP upgrade

> OK, here's a weird one. Upgraded PHP 5.2.8 to 5.2.9 on a server today.
> The server hosts 90 WP sites on 50 or so domains. Immediately
> afterwards, all categories on all blogs are empty.

Additional datapoint: If I create a brand new 2.7.1 blog, it's  
affected by the same problem in the same way. I can create categories  
and put posts in them, but all categories appear empty. So this is  
definitely not a matter of old data being corrupted - it's a server- 
wide WP problem.

Thanks,
Scot

From peter.westwood at ftwr.co.uk  Wed Apr  8 16:03:34 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed Apr  8 16:31:33 2009
Subject: [wp-hackers] Re: meaningful EOLs considered harmful
In-Reply-To: <p6tua6-a8n.ln1@ppp1053.in.ipex.cz>
References: <c35ta6-g14.ln1@ppp1053.in.ipex.cz>
	<161617690904080814v5961e8e5va8ae2251d13fb247@mail.gmail.com>
	<p6tua6-a8n.ln1@ppp1053.in.ipex.cz>
Message-ID: <073C53CD-6682-4B39-BABE-A8E5767FF3DC@ftwr.co.uk>


On 8 Apr 2009, at 16:41, Matej Cepl wrote:

> On 2009-04-08, 15:14 GMT, Otto wrote:
>> WordPress has no support for different "type" parameters on the
>> atom:content. You could send type="ooga-booga" and it would still do
>> the same thing.
>
> a) is there some bug/ticket/RFE for it to be fixed?

Not as far as I know

You are quite welcome to raise one at http://core.trac.wordpress.org

One of the main reasons that WordPress doesn't support it at the  
moment is that it tries to provide the same interface for content  
editing regardless of entrypoint - Admin/APP/XMLRPC so that the end- 
user gets a consistent behaviour

You may want to discuss this issue further on the wp-xmlrpc mailing  
list which is dedicated to the external APIs WP provides.

Cheers

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From joost at yoast.com  Wed Apr  8 16:36:01 2009
From: joost at yoast.com (Joost de Valk)
Date: Wed Apr  8 16:36:21 2009
Subject: [wp-hackers] WXR
Message-ID: <49DCD271.3070100@yoast.com>

Is there an overview somewhere of the syntax of WXR?

Best,
Joost


me *Joost de Valk*
Online Marketing, WordPress, SEO & Social Media Strategy
OrangeValley <http://www.orangevalley.nl> & Yoast <http://yoast.com>
E: joost@orangevalley.nl <mailto:joost@orangevalley.nl> - 
joost@yoast.com <mailto:joost@yoast.com>
T: +316-24-555-808 | @yoast <http://twitter.com/yoast> on Twitter
From raul.peixoto at gmail.com  Wed Apr  8 16:40:26 2009
From: raul.peixoto at gmail.com (Raul Peixoto)
Date: Wed Apr  8 16:40:57 2009
Subject: [wp-hackers] Replacing image_resize() function?
Message-ID: <D055148DDE4D47CAA44C51A187F69D37@xpsp3wbb>

Hi there!

I'm new to this list, so it will be the first time writing to this list, so I hope to enjoy my time here!

I'm working on a way to replace the image_resize() function, inside wp-includes/media.php and I need some advice regarding this...

Wordpress allows me to crop, or even generate new image sizes (with a proper hook into the additional_image_sizes function), however I'm working on a project that requires me to rewrite the image_resize function...

Why is that?

Well, I need to resize all images to an exact specific size (let's say 120x90 for thumbnail size, and 250x125 for medium size) but I need to do this without cropping. So the only way is to resize and then add a margin to comply with the desired size.

I have created the new function and named it sp_image_resize. 

Hacking the core files:

Now the way I got this to work was by hacking into /wp-includes/media.php, inside function: image_make_intermediate_size, around line 412

change: $resized_file = image_resize($file, $width, $height, $crop);
to: $resized_file = sp_image_resize($file, $width, $height, $crop);


So are there any ideas to replace this function without hacking the core directly?

==

I tried to add_filter( 'image_resize', 'sp_image_resize', 1, 4 ); but it doesn't work.
I also tried to replace the image_make_intermediate_size the same way but with no success.

Can someone help?

Thanks in advance,

Raul


From peter.westwood at ftwr.co.uk  Wed Apr  8 17:19:52 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed Apr  8 17:20:10 2009
Subject: [wp-hackers] Replacing image_resize() function?
In-Reply-To: <D055148DDE4D47CAA44C51A187F69D37@xpsp3wbb>
References: <D055148DDE4D47CAA44C51A187F69D37@xpsp3wbb>
Message-ID: <905A074C-44D0-4232-BF0A-DB578767FF6B@ftwr.co.uk>


On 8 Apr 2009, at 17:40, Raul Peixoto wrote:

> Hi there!
>
> I'm new to this list, so it will be the first time writing to this  
> list, so I hope to enjoy my time here!
>
> I'm working on a way to replace the image_resize() function, inside  
> wp-includes/media.php and I need some advice regarding this...
>
> Wordpress allows me to crop, or even generate new image sizes (with  
> a proper hook into the additional_image_sizes function), however I'm  
> working on a project that requires me to rewrite the image_resize  
> function...
>
> Why is that?
>
> Well, I need to resize all images to an exact specific size (let's  
> say 120x90 for thumbnail size, and 250x125 for medium size) but I  
> need to do this without cropping. So the only way is to resize and  
> then add a margin to comply with the desired size.
>
> I have created the new function and named it sp_image_resize.
>
> Hacking the core files:
>
> Now the way I got this to work was by hacking into /wp-includes/ 
> media.php, inside function: image_make_intermediate_size, around  
> line 412
>
> change: $resized_file = image_resize($file, $width, $height, $crop);
> to: $resized_file = sp_image_resize($file, $width, $height, $crop);
>
>
> So are there any ideas to replace this function without hacking the  
> core directly?
>
> ==
>
> I tried to add_filter( 'image_resize', 'sp_image_resize', 1, 4 );  
> but it doesn't work.
> I also tried to replace the image_make_intermediate_size the same  
> way but with no success.
>
> Can someone help?

There is not currently a simple way to catch all use cases of  
image_resize.

Depending on which image_resize calls you are trying to affect you  
could probably use the hooks in wp_generate_attachment_metadata

You can filter the sizes in generates using the   
'intermediate_image_sizes' filter and return an empty array to stop  
WordPress doing the resize itself.

You would then do your resizing on the  
'wp_generate_attachment_metadata' filter and populate the $metadata  
array with the extra info.

It looks like for a future proof solution you will need a new hook in  
image_resize to allow you to take over the function.

Please create a ticket on trac with a suggestion and some example  
plugin code which uses the suggested hook and I will make sure this  
makes it into 2.8 - you should then be able to backport that change to  
your current 2.7.1 install and not lose the functionality on upgrade.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From dino at duechiacchiere.it  Wed Apr  8 17:43:27 2009
From: dino at duechiacchiere.it (Dino Termini)
Date: Wed Apr  8 17:47:01 2009
Subject: [wp-hackers] Permanent Redirect
Message-ID: <49DCE23F.2080408@duechiacchiere.it>

Hello everybody,

In order to improve the SEO of my weblog, I'd like to change the format 
of my permalinks. My current format is /%post-id%/ and I would like to 
change it to /%postname%/ . This is easy. The problem is that after 
doing this, all my 'old' URLs are not reachable anymore and people get 
an ugly 404 error. So I was trying to redirect people hitting the old 
URLs to the new ones. Please note that I have more than 1200 articles, 
so I cannot use .htaccess or other manual approaches :-) Anyone?

Thanks,
dino.
From peter.westwood at ftwr.co.uk  Wed Apr  8 17:48:24 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed Apr  8 17:48:45 2009
Subject: [wp-hackers] Permanent Redirect
In-Reply-To: <49DCE23F.2080408@duechiacchiere.it>
References: <49DCE23F.2080408@duechiacchiere.it>
Message-ID: <3EBC7E73-EABA-427F-85F4-A1013D584E4C@ftwr.co.uk>


On 8 Apr 2009, at 18:43, Dino Termini wrote:

> Hello everybody,
>
> In order to improve the SEO of my weblog, I'd like to change the  
> format of my permalinks. My current format is /%post-id%/ and I  
> would like to change it to /%postname%/ . This is easy. The problem  
> is that after doing this, all my 'old' URLs are not reachable  
> anymore and people get an ugly 404 error. So I was trying to  
> redirect people hitting the old URLs to the new ones. Please note  
> that I have more than 1200 articles, so I cannot use .htaccess or  
> other manual approaches :-) Anyone?


http://scott.yang.id.au/code/permalink-redirect/

HTH

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From dino at duechiacchiere.it  Wed Apr  8 18:04:22 2009
From: dino at duechiacchiere.it (Dino Termini)
Date: Wed Apr  8 18:04:38 2009
Subject: [wp-hackers] Permanent Redirect
In-Reply-To: <3EBC7E73-EABA-427F-85F4-A1013D584E4C@ftwr.co.uk>
References: <49DCE23F.2080408@duechiacchiere.it>
	<3EBC7E73-EABA-427F-85F4-A1013D584E4C@ftwr.co.uk>
Message-ID: <49DCE726.4050700@duechiacchiere.it>

Thank you Westi. I had not found it because it does not show up in 
Wordpress' plugin repository. It is not clear if it is compatible with 
2.7.1. I will give it a try!

Enjoy.

Peter Westwood wrote:
>
> On 8 Apr 2009, at 18:43, Dino Termini wrote:
>
>> Hello everybody,
>>
>> In order to improve the SEO of my weblog, I'd like to change the 
>> format of my permalinks. My current format is /%post-id%/ and I would 
>> like to change it to /%postname%/ . This is easy. The problem is that 
>> after doing this, all my 'old' URLs are not reachable anymore and 
>> people get an ugly 404 error. So I was trying to redirect people 
>> hitting the old URLs to the new ones. Please note that I have more 
>> than 1200 articles, so I cannot use .htaccess or other manual 
>> approaches :-) Anyone?
>
>
> http://scott.yang.id.au/code/permalink-redirect/
>
> HTH
>
> westi
From shacker at birdhouse.org  Wed Apr  8 18:05:14 2009
From: shacker at birdhouse.org (Scot Hacker)
Date: Wed Apr  8 18:05:26 2009
Subject: [wp-hackers] Categories empty on all blogs after PHP 	upgrade
In-Reply-To: <20090408163132.DF2CD6AF2@comox.textdrive.com>
References: <20090408163132.DF2CD6AF2@comox.textdrive.com>
Message-ID: <AE369165-59B0-46C3-BC0F-7D71C9E72E68@birdhouse.org>

> From: Hacker Scot <shacker@birdhouse.org
>>
>>
> I just can't see how a PHP upgrade could affect specific data in
> specific tables, affecting all users on the server. Is there any
> conceivable way that something related could be in play, such as the
> PHP-MySQL driver being different, or similar? Any kind of PHP
> environment variable that could have an effect like this?

OK, the problem has been solved. For the archives:

The PHP upgrade was done through easy_apache, which is a script  
provided to administrators of cPanel systems for upgrading apache/PHP.  
 From the datacenter:

"
The major issue was that /tmp was full due to eaccelerator cache. I've  
setup EA to use RAM only for it's caches. After this I ran a mysql  
repair. Mysql uses /tmp for tables while repairing them but as /tmp  
was full it wasn't repairing tables properly.

The real fix here is to set ?eaccelerator.shm_only=?1?? in the  
php.ini. This will essentially cache all eAccelerator hits to memory  
with no hit to performance. We install our copies of eAccelerator this  
way, although cPanel does not. Anytime you rebuild Apache using  
cPanel, this value must be changed back as cPanel will build it with  
its own default settings.
"

Scot

From dougal at gunters.org  Wed Apr  8 18:07:59 2009
From: dougal at gunters.org (Dougal Campbell)
Date: Wed Apr  8 18:08:16 2009
Subject: [wp-hackers] WXR
In-Reply-To: <49DCD271.3070100@yoast.com>
References: <49DCD271.3070100@yoast.com>
Message-ID: <49DCE7FF.70303@gunters.org>

Joost de Valk wrote:
> Is there an overview somewhere of the syntax of WXR?

I never found one. When I was writing a WXR exporter, my best resource 
was examining the source of the WXR importer. That might be a good Codex 
project for somebody with more spare time than myself.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/
*Hire me!*
From mikeschinkel at newclarity.net  Wed Apr  8 18:07:16 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Apr  8 18:35:36 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <33213743.1711239213630414.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl37D7G86e40210b5c264ec0ec3d9,
	mikeschinkel@newclarity.net, 26963120.1731239214028450.J>

"Otto" <otto@ottodestruct.com> wrote:
> Sure there is. In order to get the Page, you have to run 
> the query on wp_posts. I assume you're using some internal 
> tag in the post_content to have it know which page to 
> display the tweets on, after all. 

Thanks for the reply.

Yes you'd be right when making all the standard assumptions for a WordPress site. However, I'm writing a plugin that bypasses those assumptions. 

BTW, when you say "internal tag" what specifically do you mean? A pagename? An actual tag? Something else?

> Of course, you could bypass that entirely and then use 
> a page template instead, but even then you need to 
> query the posts table in order to know which page 
> template is being used.

Actually, I'm bypassing page templates completely, using template_redirect, and setting new rules in WP_Rewrite. (And Chris Jean recently battled[1] with this same type of thing so it is not just me.) 

My plugin allows a themer or plugin developer to define any arbitrary URL they want to have processed and have it routed to run whatever they want to run. Basically it lets a themer or plugin dev start a page with a (mostly) clean slate.  With this plugin and in some use-cases running get_posts() makes no sense because the process flow never makes it to running a page template or even any of the "if" logic template-loader.php.

To address these use-cases there is simply the need to bypass running the query in /wp-include/classes.php (I added the one line "if (!$this->bypass_query)"):

	function main($query_args = '') {
		$this->init();
		$this->parse_request($query_args);
		$this->send_headers();
		if (!$this->bypass_query)
			$this->query_posts();
		$this->handle_404();
		$this->register_globals();
		do_action_ref_array('wp', array(&$this));
	}

BTW, one thing I am finding is that the concept of using WP_Rewrite is far from fleshed-out. There are many places in WordPress where the "type" of a URL is hardcoded in implicit fashion. The most recent example I found was in wp_title(). wp_title() makes a bunch of assumptions but doesn't give the 'wp_title' hook any context to know what it's operating on so you can't really generate an appropriate title for your URL. Thus even though people on this list say "The right way to do handle custom URLs is via WP_Rewrite" the reality is that logic path has never been tested and has many issues. I'd like to eventually address all of those by providing a "custom URL" escape valve in all relevant contexts, but for now I'd like to just be able to bypass running the query.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

[1] http://www.nabble.com/Showing-custom-page-types-td21733174.html
From sojweb at indiana.edu  Wed Apr  8 18:55:00 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Wed Apr  8 18:55:18 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <EMEWEMEW2_DELIMl37D7G86e40210b5c264ec0ec3d9,
	mikeschinkel@newclarity.net, 26963120.1731239214028450.J>
References: <EMEWEMEW2_DELIMl37D7G86e40210b5c264ec0ec3d9,
	mikeschinkel@newclarity.net, 26963120.1731239214028450.J>
Message-ID: <4F4C3ADB-CDDA-4EBD-9275-ADF5F7D4CEE1@indiana.edu>

On Apr 8, 2009, at 14:07 PM, Mike Schinkel wrote:

> My plugin allows a themer or plugin developer to define any  
> arbitrary URL they want to have processed and have it routed to run  
> whatever they want to run. Basically it lets a themer or plugin dev  
> start a page with a (mostly) clean slate.  With this plugin and in  
> some use-cases running get_posts() makes no sense because the  
> process flow never makes it to running a page template or even any  
> of the "if" logic template-loader.php.

At that point, why not just have the plugin modify the htaccess file  
and bypass WordPress altogether? Anyone who needs this kind of control  
surely has write permissions to the root. If you don't need post  
content or any template logic, I don't see why you'd need WordPress at  
all. The plugin could have its own database table to store things, and  
not worry about anything else; I've done this on the site I manage and  
it works like a charm.

-Jeff
From yahgrp at poplarware.com  Wed Apr  8 19:03:02 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Wed Apr  8 19:02:10 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <EMEWEMEW2_DELIMl37D7G86e40210b5c264ec0ec3d9,
	mikeschinkel@newclarity.net, 26963120.1731239214028450.J>
References: <EMEWEMEW2_DELIMl37D7G86e40210b5c264ec0ec3d9,
	mikeschinkel@newclarity.net, 26963120.1731239214028450.J>
Message-ID: <49DCF4E6.4060805@poplarware.com>


> BTW, one thing I am finding is that the concept of using WP_Rewrite is far from fleshed-out. There are many places in WordPress where the "type" of a URL is hardcoded in implicit fashion. The most recent example I found was in wp_title(). wp_title() makes a bunch of assumptions but doesn't give the 'wp_title' hook any context to know what it's operating on so you can't really generate an appropriate title for your URL. Thus even though people on this list say "The right way to do handle custom URLs is via WP_Rewrite" the reality is that logic path has never been tested and has many issues. I'd like to eventually address all of those by providing a "custom URL" escape valve in all relevant contexts, but for now I'd like to just be able to bypass running the query.

Functions like wp_title() and other "template tag" functions are meant 
to be used with the standard WP query mechanism and/or The Loop. It is 
no surprise that they would not work if you bypass the standard WP 
query mechanism and create your own page. Trying to make some of these 
functions work will not really help -- they will never all work, 
anyway, if you are not querying to find a list of posts.

     --Jennifer

ps: In my opinion, if you want to do a lot of this custom URL stuff, 
you are much better off starting with a CMS that has an "arbitrary 
behavior for arbitrary URL" architecture built into it at its core 
(such as Drupal), rather than trying to build a whole system for 
overriding URLs in a CMS that has an assumption of "query for 
posts/pages" built into it at its core (such as WordPress). I'm not 
saying it cannot be done in WP, and certainly there are mechanisms for 
the occasional one-off URL override, but is it the right tool for what 
you need to do? Just a thought...

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming

From elcarpo.blues at gmail.com  Wed Apr  8 19:25:28 2009
From: elcarpo.blues at gmail.com (El Carpo Blues)
Date: Wed Apr  8 19:28:19 2009
Subject: [wp-hackers] limit characters
In-Reply-To: <177fe0a80904061626q6dbe3007o5d11fcfd657173d4@mail.gmail.com>
References: <177fe0a80904061505w410dc353me024f2159203ef5e@mail.gmail.com>
	<F25F2C8DE17FB546A90DB3CF774614270624A4DA@USA0300MS04.na.xerox.net>
	<177fe0a80904061608lbe136f5t4ebd6917e0b3c1b2@mail.gmail.com>
	<F25F2C8DE17FB546A90DB3CF774614270624A4F6@USA0300MS04.na.xerox.net>
	<177fe0a80904061626q6dbe3007o5d11fcfd657173d4@mail.gmail.com>
Message-ID: <177fe0a80904081225h3e58e1f3nade0924f77c1b016@mail.gmail.com>

none had already solved this, right?


On Mon, Apr 6, 2009 at 8:26 PM, El Carpo Blues <elcarpo.blues@gmail.com>wrote:

> thank you!
>
>
> On Mon, Apr 6, 2009 at 8:20 PM, Silverstein, Jesse <
> Jesse.Silverstein@xerox.com> wrote:
>
>> Sounds like this will be a great learning experience for you :)
>>
>> An alternative to hooking the "the_editor" filter would be to just slap
>> in a hidden input field from your plugin's js file. That means all you
>> need to do in PHP is enqueue your two js scripts for the right page, and
>> the rest is javascript. Although this is only an better alternative if
>> you are more comfortable with javascript than php. Otherwise it's six of
>> one, half a dozen of the other.
>>
>> P.S. refer to wp-admin/js/word-count.dev.js not word-count.js. The
>> former is (more) legible.
>>
>> -Jesse
>>
>> -----Original Message-----
>> From: wp-hackers-bounces@lists.automattic.com
>> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of El Carpo
>> Blues
>> Sent: Monday, April 06, 2009 7:09 PM
>> To: wp-hackers@lists.automattic.com
>> Subject: Re: [wp-hackers] limit characters
>>
>> jesse, thanks...
>> problem is, don't know how to write a plugin :S
>>
>> anyway, i'll give it a try, and see what happens...
>>
>> On Mon, Apr 6, 2009 at 7:55 PM, Silverstein, Jesse <
>> Jesse.Silverstein@xerox.com> wrote:
>>
>> > This would probably be best achieved by a plugin. This is how I would
>> > write said plugin:
>> >
>> > On some action (admin-head or admin-head-(page-hook) ?) enqueue the
>> > maxlength js, and your own plugin's js (needs to be after jquery, so
>> add
>> > as a requirement). Then add a filter somewhere during the
>> > edit-form-advanced (maybe "the_editor") to put in a hidden "maxlength"
>> > field for the maxlength js. Your plugin's js should 1) add a span with
>> > appropriate ID inside the td with id="wp-word-count" after the
>> > word-count.js has added its own span. See wp-admin/js/word-count.js
>> for
>> > reference there. Then 2) trigger the maxlength plugin (safest after
>> page
>> > load has finished).
>> >
>> > Also, I think you will want to make sure this only happens if
>> > user_can_richedit().
>> >
>> > Good luck!
>> >
>> > -Jesse Silverstein
>> >
>> > -----Original Message-----
>> > From: wp-hackers-bounces@lists.automattic.com
>> > [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of El Carpo
>> > Blues
>> > Sent: Monday, April 06, 2009 6:05 PM
>> > To: wp-hackers@lists.automattic.com
>> > Subject: [wp-hackers] limit characters
>> >
>> > hi there!
>> > i just entered the list 'cause i need your help
>> >
>> > Is there a way to limit the amount of characters in a wordpress post?
>> I
>> > mean, limit the amount of characters WHEN WRITING A POST, something
>> like
>> > integrating the maxlength
>> > plugin<http://remysharp.com/2008/06/30/maxlength-plugin/>into
>> > wordpress edit-form-advanced.php... I know those kind of scripts work
>> > with textarea, but i can't find the textarea tag on wordpress...
>> >
>> > if there is no way to achieve this, it also could be useful a way to
>> > count
>> > the characters i'm actually writing...
>> >
>> > thank you!
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers@lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> > No virus found in this incoming message.
>> > Checked by AVG - www.avg.com
>> > Version: 8.0.238 / Virus Database: 270.11.43/2043 - Release Date:
>> > 04/06/09 06:22:00
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers@lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>>
>>
>>
>> --
>> Pasate por http://www.democraciachina.com.ar
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> No virus found in this incoming message.
>> Checked by AVG - www.avg.com
>> Version: 8.0.238 / Virus Database: 270.11.43/2043 - Release Date:
>> 04/06/09 18:59:00
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Pasate por http://www.democraciachina.com.ar
>



-- 
Pasate por http://www.democraciachina.com.ar
From otto at ottodestruct.com  Wed Apr  8 21:19:07 2009
From: otto at ottodestruct.com (Otto)
Date: Wed Apr  8 21:19:38 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <-8319055087679132530@unknownmsgid>
References: <33213743.1711239213630414.JavaMail.DELL-1405$@Dell-1405> 
	<-8319055087679132530@unknownmsgid>
Message-ID: <161617690904081419s426df048w884bb4542ed045c2@mail.gmail.com>

The query *is* WordPress. It's the whole backbone of the thing. If
you're operating outside the query, then why ever even bother to load
WordPress at all?

For your custom-URL idea, you'd be better off adding a filter onto
mod_rewrite_rules, and appending your own rules in front of it, to
directly load your own PHP on that URL. Then your URL never even loads
WordPress. No query, no nothing. It'd be easy enough to do.
RewriteRule YOUR_URL PATH_TO_YOUR_PHP_FILE [L] and you're done.

Just hook a filter onto mod_rewrite_rules, stick your own rules in
(generated from your config, I assume), make a call to
save_mod_rewrite_rules(), and voila. The .htaccess gets updated and
you're golden.

-Otto



On Wed, Apr 8, 2009 at 1:07 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> "Otto" <otto@ottodestruct.com> wrote:
>> Sure there is. In order to get the Page, you have to run
>> the query on wp_posts. I assume you're using some internal
>> tag in the post_content to have it know which page to
>> display the tweets on, after all.
>
> Thanks for the reply.
>
> Yes you'd be right when making all the standard assumptions for a WordPress site. However, I'm writing a plugin that bypasses those assumptions.
>
> BTW, when you say "internal tag" what specifically do you mean? A pagename? An actual tag? Something else?
>
>> Of course, you could bypass that entirely and then use
>> a page template instead, but even then you need to
>> query the posts table in order to know which page
>> template is being used.
>
> Actually, I'm bypassing page templates completely, using template_redirect, and setting new rules in WP_Rewrite. (And Chris Jean recently battled[1] with this same type of thing so it is not just me.)
>
> My plugin allows a themer or plugin developer to define any arbitrary URL they want to have processed and have it routed to run whatever they want to run. Basically it lets a themer or plugin dev start a page with a (mostly) clean slate. ?With this plugin and in some use-cases running get_posts() makes no sense because the process flow never makes it to running a page template or even any of the "if" logic template-loader.php.
>
> To address these use-cases there is simply the need to bypass running the query in /wp-include/classes.php (I added the one line "if (!$this->bypass_query)"):
>
> ? ? ? ?function main($query_args = '') {
> ? ? ? ? ? ? ? ?$this->init();
> ? ? ? ? ? ? ? ?$this->parse_request($query_args);
> ? ? ? ? ? ? ? ?$this->send_headers();
> ? ? ? ? ? ? ? ?if (!$this->bypass_query)
> ? ? ? ? ? ? ? ? ? ? ? ?$this->query_posts();
> ? ? ? ? ? ? ? ?$this->handle_404();
> ? ? ? ? ? ? ? ?$this->register_globals();
> ? ? ? ? ? ? ? ?do_action_ref_array('wp', array(&$this));
> ? ? ? ?}
>
> BTW, one thing I am finding is that the concept of using WP_Rewrite is far from fleshed-out. There are many places in WordPress where the "type" of a URL is hardcoded in implicit fashion. The most recent example I found was in wp_title(). wp_title() makes a bunch of assumptions but doesn't give the 'wp_title' hook any context to know what it's operating on so you can't really generate an appropriate title for your URL. Thus even though people on this list say "The right way to do handle custom URLs is via WP_Rewrite" the reality is that logic path has never been tested and has many issues. I'd like to eventually address all of those by providing a "custom URL" escape valve in all relevant contexts, but for now I'd like to just be able to bypass running the query.
>
> -Mike Schinkel
> Custom Wordpress Plugins
> http://mikeschinkel.com/custom-wordpress-plugins
>
> [1] http://www.nabble.com/Showing-custom-page-types-td21733174.html
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikeschinkel at newclarity.net  Thu Apr  9 00:23:20 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Apr  9 00:24:37 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <6162334.2071239235787776.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl37JNL9c7e62ccee6029d2126c33,
	mikeschinkel@newclarity.net, 21580506.2111239236595568.J>

"SoJ Web" <sojweb@indiana.edu> wrote:
> why not just have the plugin modify the htaccess 
> file and bypass WordPress altogether? 

Because modifying .htaccess should be a last resort, IMO. There are too many problems with non-writable .htaccess files for permalinks, it would be suboptimal to choose that route for a plugin. Besides, code that modifies code is a very hard to fully validate for robustness. Better to use plain ole' PHP since PHP works so well.

> Anyone who needs this kind of control surely has 
> write permissions to the root. 

That assertion is only true if based on a narrow set of assumptions. Let me give a scenario where it would not at all be true. Assume that I create a plugin called "CustomUrls" and a themer uses it to create "The Ultimate Real Estate Broker Theme" and offers it for download. This theme might support URL paths of the following format:

  /properties/{property_slug}
  /communities/{community_slug}
  /agents/{agent_slug}

Now a real estate broker comes along and loves the theme, downloads it, and plops it on the most restrictive webhost out there.  My CustomUrls plugin fails to update .htaccess and after much failed effort on the part of the decidedly non-technical real estate broker she gives up and vows never to use WordPress again because "it is a piece of crap." (We all know better, but that doesn't change her newly formed opinion, and one she'll likely speak of to anyone who mentions the name "WordPress" to her at any point in the future.)

Actually, my CustomUrls plugin is designed specifically for themers to use (myself included), so I envision my stated scenario is far more likely than the scenario you present where the person using it would have skills needed to control permissions.

> If you don't need post content or any template logic, 
> I don't see why you'd need WordPress at all. 

The valid scenarios I envision *do* need WordPress in ~90% of cases but not for the ~10% of cases where I want to respond to custom URLs.  Currently the only options WordPress provides are "all or nothing." Why should it not not be valid to have "all" 90% of the time and "nothing" 10% of the time?

"Jennifer Hodgdon" <yahgrp@poplarware.com> wrote:
> Functions like wp_title() and other "template tag" functions 
> are meant to be used with the standard WP query mechanism 
> and/or The Loop. 

On the surface that would make sense. However, there are several reasons why I don't think we should just excuse wp_title() for it's deficiencies in this area.

1.) If wp_title() was only ever called by the end user, then yeah. Unfortunately, if is called by theming frameworks (such as Thesis, which I am using for my latest project) and it can be called by plugins. So my response for "it wasn't meant for that" is "Well then let's revise it so that it will be meant for that in the future."

2.) As I said, wp_title() is "just one of several places" where this type of logic has been embedded. Letting wp_title() off the hook doesn't resolve the issues elsewhere, and why not resolve the issues everywhere?  But rather than me just doing hand waving here, I'll list off the places where this type of logic pervades the core. This is not an exhaustive list as there may be more, but these are the primary culprits that would ideally be updated to support knowledge of custom URLs:

   -- redirect_canonical() in /wp-includes/canonical.php 
   -- redirect_guess_404_permalink() in /wp-includes/canonical.php 
   -- wp_title() in /wp-includes/general-template.php 
   -- parse_query() in /wp-includes/query.php 
   -- get_posts() in /wp-includes/query.php 
   -- wp_old_slug_redirect() in /wp-includes/query.php 

What I'd really like to see here is a method to tell all of these functions that I have a custom URL, a custom title, a custom query (or none at all), and a custom list of old slug redirects. As is those functions really don't give the hooks needed to do so.

> It is no surprise that they would not work if 
> you bypass the standard WP query mechanism and 
> create your own page. Trying to make some of 
> these functions work will not really help -- 
> they will never all work, anyway, if you are 
> not querying to find a list of posts.

Why will "they never all work?" From what I see I think it would be quite possible and reasonably easy to make them all work, it only takes a little bit to flesh out these use-cases and I'm perfectly willing to do it all assuming support from the committers. I've done most of the work already anyway.

> In my opinion, if you want to do a lot of this 
> custom URL stuff, you are much better off 
> starting with a CMS that has an "arbitrary 
> behavior for arbitrary URL" architecture built 
> into it at its core (such as Drupal), rather 
> than trying to build a whole system for 
> overriding URLs in a CMS that has an assumption 
> of "query for posts/pages" built into it at its 
> core (such as WordPress). I'm not saying it 
> cannot be done in WP, and certainly there are 
> mechanisms for the occasional one-off URL 
> override, but is it the right tool for what 
> you need to do? Just a thought...

I know your suggestions are well-meaning, you've always been respectful on the list, but since this is the 3rd time you've suggested directly to me that I use Drupal instead of WordPress let me detail to you why I don't find Drupal (or any other tool) to be the right tool for the job. My reasons are both for WordPress and against Drupal.  Be aware I used Drupal for almost 2 years and was heavily involved in the Atlanta Drupal user group during that time even giving two presentations, so me coming to WordPress is not without significant evaluation on my part.

1.) Drupal is optimized for genericity instead of usability. Presenting a non-technical user with a Drupal application results in me having to spend an inordinate amount of time supporting the end user.

2.) Drupal still doesn't have a default WYSIWYG editor and all of the one I used were very buggy.

3.) Drupal it poorly architected for scaling; to load just one web page can generate literally tens of SQL queries, sometimes hundreds. And the amount of PHP code that runs is just flabergasting.

4.) When there is a problem Drupal is very hard to debug (at least for me.) The reason is there is so much generic code in core Drupal that you spend 90% of your time just tracing through the same code trying to get to the code that actually matters.

5.) WordPress has many, many more of the types of plugins available that I'm interested in. More people write plugins for WordPress than Drupal, probably by an order of magnitude.

6.) More people are interested in hiring people to help with WordPress than to help with Drupal (at least from my experience.) Worse for me, there is a very aggressive local Drupal development company that sucks up any local contracts for Drupal development where the client is willing to pay a reasonable professional fee. And since most WordPress professionals are not PHP devs, I can augment WordPress pros much more often than I can augment Drupal pros (most Drupal  pros are PHP devs.) IOW, I can make a living with WordPress but cannot make a living with Drupal.

7.) But probably the biggest deal killer for Drupal (for me) is that it is extremely hard to create a professional looking theme and none of the designers I know can even begin to understand how to theme it. Since I am not a graphic designer and couldn't make a site *look* good if my life depended on it, I am basically hamstrung by Drupal, but if I develop on WordPress I can easily purchase a great looking theme and/or easily hire someone to create an even better looking custom theme for me.

So Jennifer I know you really think highly of Drupal and, for you Drupal might be the right tool for certain jobs but please accept and understand that for me Drupal is not an option to consider and WordPress is a much tool for my need, especially since it really is not that far off from what it could be.

"Otto" <otto@ottodestruct.com> wrote:
> The query *is* WordPress. It's the whole backbone of the 
> thing. If you're operating outside the query, then why 
> ever even bother to load WordPress at all?

As I said above, the reason is that I may need WordPress for 90% of a website's URLs, and for the other 10% I still need get_header(), get_footer(), and other parts of WordPress core. Should WordPress really be so inflexible that we have to completely bypass it ad then duplicate it's needed functionality in the case where the 10% of URLs are needed?

> For your custom-URL idea, you'd be better off adding a 
> filter onto mod_rewrite_rules, and appending your own 
> rules in front of it directly load your own PHP on that 
> URL. Then your URL never even loads WordPress. No query, 
> no nothing. It'd be easy enough to do. RewriteRule 
> YOUR_URL PATH_TO_YOUR_PHP_FILE [L] and you're done.
> Just hook a filter onto mod_rewrite_rules, stick your 
> own rules in (generated from your config, I assume), 
> make a call to save_mod_rewrite_rules(), and voila. The 
> .htaccess gets updated and you're golden.

I'm sorry but I can't take "modify .htaccess" as a serious suggestion for a plugin for reasons I spelled out above. Besides, I *do* need most of WordPress for these URLs, just not ALL of it (i.e. not the query.) Why is my saying "I only don't need the query" being interpreted as "I don't need WordPress at all?" 

I don't understand the pushback for what is a very simple issue.  Can anyone give me a scenario would the one "if" statement I proposed would actually cause harm? Westi has said "WordPress is a Platform" [1] to which I think everyone agreed. What I'm asking for is for WordPress to become a little bit better at being a platform than it currently is.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

[1] http://comox.textdrive.com/pipermail/wp-hackers/2009-February/024950.html
From sojweb at indiana.edu  Thu Apr  9 00:48:02 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Thu Apr  9 00:48:22 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <EMEWEMEW2_DELIMl37JNL9c7e62ccee6029d2126c33,
	mikeschinkel@newclarity.net, 21580506.2111239236595568.J>
References: <EMEWEMEW2_DELIMl37JNL9c7e62ccee6029d2126c33,
	mikeschinkel@newclarity.net, 21580506.2111239236595568.J>
Message-ID: <EBE80F56-AC9F-4A85-B620-2819B06A7B6E@indiana.edu>

> "SoJ Web" <sojweb@indiana.edu> wrote:
>> why not just have the plugin modify the htaccess
>> file and bypass WordPress altogether?
>
> Because modifying .htaccess should be a last resort, IMO. There are  
> too many problems with non-writable .htaccess files for permalinks,  
> it would be suboptimal to choose that route for a plugin. Besides,  
> code that modifies code is a very hard to fully validate for  
> robustness. Better to use plain ole' PHP since PHP works so well.
>

Generating rewrite statements is hardly difficult, and I don't think  
telling Apache to do it is any more difficult or any less robust than  
having PHP do it.

>> Anyone who needs this kind of control surely has
>> write permissions to the root.
>
> That assertion is only true if based on a narrow set of assumptions.  
> Let me give a scenario where it would not at all be true. Assume  
> that I create a plugin called "CustomUrls" and a themer uses it to  
> create "The Ultimate Real Estate Broker Theme" and offers it for  
> download. This theme might support URL paths of the following format:
>
>  /properties/{property_slug}
>  /communities/{community_slug}
>  /agents/{agent_slug}
>
> Now a real estate broker comes along and loves the theme, downloads  
> it, and plops it on the most restrictive webhost out there.  My  
> CustomUrls plugin fails to update .htaccess and after much failed  
> effort on the part of the decidedly non-technical real estate broker  
> she gives up and vows never to use WordPress again because "it is a  
> piece of crap." (We all know better, but that doesn't change her  
> newly formed opinion, and one she'll likely speak of to anyone who  
> mentions the name "WordPress" to her at any point in the future.)
>
> Actually, my CustomUrls plugin is designed specifically for themers  
> to use (myself included), so I envision my stated scenario is far  
> more likely than the scenario you present where the person using it  
> would have skills needed to control permissions.
>

This could be much better accomplished with a custom theme. Why not  
just make custom template files for those slugs? Aside from that, if  
this hypothetical web host doesn't allow the htaccess file to be  
modified, you can't use permalinks, or any sort of URL rewriting,  
anyway, so that point is moot.


-Jeff
From mikeschinkel at newclarity.net  Thu Apr  9 01:43:51 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Apr  9 01:44:15 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <27069739.2301239240988623.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl37Khp92237b62d0416035fcb5b2,
	mikeschinkel@newclarity.net, 274440.2321239241427377.J>

"SoJ Web" <sojweb@indiana.edu> write:
> Generating rewrite statements is hardly difficult, 

It's not difficult, unless of course the .htaccess can't be written to. Then, for many users, it's insurmountable.

> don't think telling Apache to do it is any more difficult or 
> any less robust than having PHP do it.

PHP is essentially a modern programming language with control structures, variables, information hiding, exception handling, etc.  mod_rewrite is a simple declarative solution that depends on a pattern matching language notorious for it's unintended side-effects. I think you'd be hard pressed to argue among computer scientists that mod_rewrite is as easy to make robust as PHP if you are using the term "robust" as it is defined[1] in computer science.

> This could be much better accomplished with a custom 
> theme. Why not just make custom template files for 
> those slugs? 

Of course a custom theme page will be needed for each of those. But how does having a custom theme page address the underlying concern to not run a query when it is not needed (or more broadly, for the functions I listed to recognize that the URL is in fact custom and not already understood by WordPress?)

> Aside from that, if this hypothetical web host doesn't 
> allow the htaccess file to be modified, you can't use 
> permalinks, or any sort of URL rewriting, anyway, so 
> that point is moot.

It's not moot. Some hosts lock down files after initial installation. Regardless, it's my strong opinion that modifying .htaccess is simply the wrong architectural solution for the problem. Just because if works for you in your specific use-cases doesn't make it a reasonable general purpose solution.

That said you haven't, as I've requested, explained why having a simple "if" to bypass the query would be a problem. If you must persist to debate at least address that question, please.  

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

[1] http://en.wikipedia.org/wiki/Robust#Computer_Science
From sojweb at indiana.edu  Thu Apr  9 02:05:12 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Thu Apr  9 02:05:29 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <EMEWEMEW2_DELIMl37Khp92237b62d0416035fcb5b2,
	mikeschinkel@newclarity.net, 274440.2321239241427377.J>
References: <EMEWEMEW2_DELIMl37Khp92237b62d0416035fcb5b2,
	mikeschinkel@newclarity.net, 274440.2321239241427377.J>
Message-ID: <903757CD-63EE-4A66-B3E7-0CD3EA92E32B@indiana.edu>


> PHP is essentially a modern programming language with control  
> structures, variables, information hiding, exception handling, etc.   
> mod_rewrite is a simple declarative solution that depends on a  
> pattern matching language notorious for it's unintended side- 
> effects. I think you'd be hard pressed to argue among computer  
> scientists that mod_rewrite is as easy to make robust as PHP if you  
> are using the term "robust" as it is defined[1] in computer science.

You intend to rewrite URL's without using pattern matching? Regardless  
of whether you're using Apache or PHP, you still end up using regular  
expressions for anything remotely complicated. But you missed my  
point. The point was to put a rewrite directive before the WordPress  
directives so that your code, instead of WordPress, could handle the  
request (and probably with regex). Rewriting to specific file that  
handles the request is not sub-optimal. If you think it is, stop using  
WordPress, because that's what it does.

> Just because if works for you in your specific use-cases doesn't  
> make it a reasonable general purpose solution.
>

You said you don't understand the pushback for this issue. Well, here  
you go. No one seems to be experiencing whatever issues you are. If  
all you have to do is add an if statement, go for it.

> [1] http://en.wikipedia.org/wiki/Robust#Computer_Science

Yes, thanks. I became familiar with this definition as I was earning  
my degree in computer science.

> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Thu Apr  9 02:41:29 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Apr  9 02:41:49 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <12888179.2541239244142540.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl37LfY00e90b041e845d6fe54175,
	mikeschinkel@newclarity.net, 26689735.2561239244885391.J>

"SoJ Web" <sojweb@indiana.edu> wrote:
> You intend to rewrite URL's without using pattern matching? 

I didn't say that? I plan to use pattern matching via a subset of URI Templates [1].

Regex is a general purpose pattern matching engine that can handle almost any pattern match possible. As such, it's overly complex and prone to unexpected side effects. OTOH URI Templates need only match valid URL patterns which is a much smaller valid set and much less prone to unexpected matching. FWIW, my plugin actual translates the URI Templates into RegEx, but those RegEx are run in PHP not in mod_rewrite and are constrained in their format. AND, and this is important, it all currently works and works elegantly. Problem is there are some rough edge cases that I'd to see cleaned up, and to clean them up requires some small mods to core.

> Regardless of whether you're using Apache or PHP, you still 
> end up using regular expressions for anything remotely 
> complicated. 

That's not necessarily true. One could use URI Templates for all matching if desired. I'm actually translating URI Templates into Regex because I'm trying to stick with WordPress conventions as much as I can, and that requires WP_Rewrite.

> But you missed my point. The point was to put a rewrite 
> directive before the WordPress directives so that your code, 
> instead of WordPress, could handle the request (and probably 
> with regex). 

I didn't miss your point, I stated that your suggested solution was an inappropriate architecture and a solution of last resort.  mod_rewrite is in general a hack for Apache's lack of a proper URL abstraction model. Application architecture should not be defined in mod_rewrite directives; it's just the wrong place for it to exist. The OSI model[2] was designed before the web became mainstream so it doesn't discussed a layer for the web server but in concept it's separation of layers it relevant here.
 
> Rewriting to specific file that handles the request is not sub-optimal. 
> If you think it is, stop using WordPress, because that's what it does.

WordPress uses a very general purpose mod_rewrite directive, and is not specific to any specific WordPress implementation.  Your suggestion is application-layer specific and "as an architecture" mod_rewrite should only be used if there is no other option.

Regarding your "stop using WordPress" comment, it's juvenile and I'm not going to honor that comment with a response.

Finally, you still don't explain what wrong with the "if" statement I proposed.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins
[1] http://bitworking.org/projects/URI-Templates/
[2] http://en.wikipedia.org/wiki/OSI_model

P.S. Finally, why is this debate so important to you?  For me, I'm trying to get something accomplish that I need. For you? Does my getting something accomplished hurt you in any way?  Or does my assertion that mod_rewrite is suboptimal make you feel the need to defend your prior choices? If yes and it helps, I don't see anything wrong with your using mod_rewrite for a specific site, it's just as part of a general purpose architecture where I believe it is inappropriate.


From malaiac at gmail.com  Thu Apr  9 07:00:47 2009
From: malaiac at gmail.com (Malaiac)
Date: Thu Apr  9 07:00:58 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <903757CD-63EE-4A66-B3E7-0CD3EA92E32B@indiana.edu>
References: <903757CD-63EE-4A66-B3E7-0CD3EA92E32B@indiana.edu>
Message-ID: <59e7f3130904090000t6233eaf6ta1d9d0d6c579cf64@mail.gmail.com>

2009/4/9 SoJ Web <sojweb@indiana.edu>:
> You said you don't understand the pushback for this issue. Well, here you
> go. No one seems to be experiencing whatever issues you are. If all you have
> to do is add an if statement, go for it.

Sorry to interrupt, but this thread is one I follow with great
interest, since I spent days fighting with the same issues (basically
WP assuming everything is post/page, mostly in Permalink management)
for zeList, a directory plugin for WP. That's actually the main reason
with zeList is "on hold" and not actively released.

Since Mike Schinkel is expressing the same points, but with a much
more correct (as in english speaking) and much more polite (as in "I'm
fed up working with non hookables chains of functions") way, I'll just
continue to follow the thread, and hope for a resolution.

Malaiac
From scribu at gmail.com  Thu Apr  9 08:51:03 2009
From: scribu at gmail.com (scribu)
Date: Thu Apr  9 08:51:18 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <59e7f3130904090000t6233eaf6ta1d9d0d6c579cf64@mail.gmail.com>
References: <903757CD-63EE-4A66-B3E7-0CD3EA92E32B@indiana.edu>
	<59e7f3130904090000t6233eaf6ta1d9d0d6c579cf64@mail.gmail.com>
Message-ID: <349fe48b0904090151u76dd7ba1m3b5d98d73cc06e07@mail.gmail.com>

Instead of debating what's the best solution for this, why not just
post a trac ticket with the "if" statement and see practical
reactions, instead of theoretical ones? You're definetly wasting more
time here than you would by submitting it (and improving if
necessary).


-- 
http://scribu.net
From supporto at pixline.net  Thu Apr  9 13:30:36 2009
From: supporto at pixline.net (=?WINDOWS-1252?Q?Pixline_=9B_Paolo_Tresso?=)
Date: Thu Apr  9 13:33:37 2009
Subject: [wp-hackers] WXR
In-Reply-To: <49DCE7FF.70303@gunters.org>
References: <49DCD271.3070100@yoast.com> <49DCE7FF.70303@gunters.org>
Message-ID: <27EBE848-07B0-4849-917A-D40136CCCC67@pixline.net>


Il giorno 08/apr/09, alle ore 20:07, Dougal Campbell ha scritto:

> Joost de Valk wrote:
>> Is there an overview somewhere of the syntax of WXR?
>
> I never found one. When I was writing a WXR exporter, my best  
> resource was examining the source of the WXR importer. That might be  
> a good Codex project for somebody with more spare time than myself.

This is also a recurring FAQ, if you browse the list archive. WXR is  
not clearly defined anywhere, and I also had to look at source and  
write back my own class. Let's see if I can get that code back from my  
previous workplace... :-)

Paolo/pixline
From god.dreams at gmail.com  Thu Apr  9 14:41:27 2009
From: god.dreams at gmail.com (baker)
Date: Thu Apr  9 14:41:43 2009
Subject: [wp-hackers] Re: wp-hackers Digest, Vol 51, Issue 23
In-Reply-To: <20090409120047.2E7A35EB7@comox.textdrive.com>
References: <20090409120047.2E7A35EB7@comox.textdrive.com>
Message-ID: <25ec3df30904090741l409ddaf3m4fa13a8dd84a99ec@mail.gmail.com>

I, too am following this thread. I had to talk to a developer better than I
for his opinion on the matter and we came to the conclusion that seems about
standard in all web development:
"It depends."

 And from what I'm reading, you both are basically agreeing - there are
situations where one would be better than the other. htaccess if you can
hard code it, php if you need your programming logic accounted for, and like
was mentioned, if for some reason you can't access the htaccess file.

It's a lot of "this could be" or "that could be" and no real "yes, this is
the way, all the time."

Regardless, I enjoyed following :)

Keith Baker
grand central: 614.654.4296
cell: 937.206.3795
linkedin: http://www.linkedin.com/in/keithbaker
twitter: http:/www.twitter.com/ikeif
blog: http://ikeif.net

George Burns <http://www.brainyquote.com/quotes/authors/g/george_burns.html>
- "I spent a year in that town, one Sunday."

2009/4/9 SoJ Web <sojweb@indiana.edu>:
> > You said you don't understand the pushback for this issue. Well, here you
> > go. No one seems to be experiencing whatever issues you are. If all you
> have
> > to do is add an if statement, go for it.
>
> Sorry to interrupt, but this thread is one I follow with great
> interest, since I spent days fighting with the same issues (basically
> WP assuming everything is post/page, mostly in Permalink management)
> for zeList, a directory plugin for WP. That's actually the main reason
> with zeList is "on hold" and not actively released.
>
> Since Mike Schinkel is expressing the same points, but with a much
> more correct (as in english speaking) and much more polite (as in "I'm
> fed up working with non hookables chains of functions") way, I'll just
> continue to follow the thread, and hope for a resolution.
>
> Malaiac
>
From mikeschinkel at newclarity.net  Thu Apr  9 14:41:32 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Apr  9 14:42:26 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <24315421.2811239288003960.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl389fX983d7f8297fc34a4e5ca70,
	mikeschinkel@newclarity.net, 8914383.2851239288087776.J>

Scribu:

> Instead of debating what's the best solution for this, why 
> not just post a trac ticket with the "if" statement and see 
> practical reactions, instead of theoretical ones? 

Thanks for the suggestion. Failing what I was hoping to cultivate here, submitting that patch was my next planned step.

What I wanted to discuss here was not *if* we should address this but instead *how* we would address it. There are numerous ways I could envision addressing it, each with different pros and cons. A $wp variable? A $wp_query variable? A filter?  Does the if go in main()?  In query()? Or elsewhere? It's not productive for anyone for me to submit patch upon patch, each with a different way to approach it.

Unfortunately it seems this list much more often devolves into limiting "if" debates rather than the much more fruitful and intellectually stimulating discussions of issues people are having and how to address them. OTOH from my admittedly limited experience Trac tickets turn into a binary yes/no on a particular implementation with neither the technical mechanism nor the social processes to resolve any particular issue. For example, this [1] ticket got a thumb's down and my requests for clarification died on the vine.

Without a place to discuss *how*, most contributors to Trac are forced to participate in a frustrating game of Whack-a-Mole where we are the moles and the frequent Trac contributors are the whackers. It may feel good for you to whack us, but it doesn't contribute positively to growing the number of respected and respectful contributors. FWIW.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

[1] http://core.trac.wordpress.org/ticket/9460
From simon at sweetinteraction.com  Thu Apr  9 14:57:36 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Thu Apr  9 14:58:05 2009
Subject: [wp-hackers] 
	WordCamp UK (Cardiff, 18-19 July) tickets now available
Message-ID: <77c8b7bf0904090757l9940f8at87f6f9df004ae50f@mail.gmail.com>

Hi all,

Not sure if this is allowed, apologies if not and I'm sure someone
will quickly tell me (off) if that's the case:

A quick informercial message follows.

WordCamp UK tickets are now on sale at an Early Bird price of ?25
(ends May 31, whereupon tickets will be ?35) at
http://wordcampuk2009.eventbrite.com

It's being held in Cardiff on July 18th & 19th. More here:
http://wordcamp.org.uk.

S


---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT
From simon at sweetinteraction.com  Thu Apr  9 15:25:20 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Thu Apr  9 15:25:47 2009
Subject: [wp-hackers] Before I commit two faux pas in one day... where do I
	post about possible work?
Message-ID: <77c8b7bf0904090825p299632e4nabf5796e635e74a3@mail.gmail.com>

If I wanted to attract the attention of quality jobbing WordPress
developers, where would you suggest I post, please?

S


---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT
From sojweb at indiana.edu  Thu Apr  9 15:28:45 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Thu Apr  9 15:29:02 2009
Subject: [wp-hackers] Before I commit two faux pas in one day... where do
	I post about possible work?
In-Reply-To: <77c8b7bf0904090825p299632e4nabf5796e635e74a3@mail.gmail.com>
References: <77c8b7bf0904090825p299632e4nabf5796e635e74a3@mail.gmail.com>
Message-ID: <BDD481BC-3F25-4DC8-96FC-CA7C62C67932@indiana.edu>

A good place to start:

http://jobs.wordpress.net/


-Jeff

On Apr 9, 2009, at 11:25 AM, Simon Wheatley wrote:

> If I wanted to attract the attention of quality jobbing WordPress
> developers, where would you suggest I post, please?
>
> S
>
>
> ---
> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
> Registered office: 7 Malton Av, Manchester, M21 8AT
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From johnbillion+wp at gmail.com  Thu Apr  9 16:06:33 2009
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu Apr  9 16:06:50 2009
Subject: [wp-hackers] Before I commit two faux pas in one day... where do 
	I post about possible work?
In-Reply-To: <BDD481BC-3F25-4DC8-96FC-CA7C62C67932@indiana.edu>
References: <77c8b7bf0904090825p299632e4nabf5796e635e74a3@mail.gmail.com>
	<BDD481BC-3F25-4DC8-96FC-CA7C62C67932@indiana.edu>
Message-ID: <1fa535a70904090906gacf1d57tb612620cb2fa7cdb@mail.gmail.com>

Also there's the wp-pro mailing list at
http://lists.automattic.com/mailman/listinfo/wp-pro . No idea how many
people actualyl use it nowadays though.

2009/4/9 SoJ Web <sojweb@indiana.edu>:
> A good place to start:
>
> http://jobs.wordpress.net/
>
>
> -Jeff
>
> On Apr 9, 2009, at 11:25 AM, Simon Wheatley wrote:
>
>> If I wanted to attract the attention of quality jobbing WordPress
>> developers, where would you suggest I post, please?
>>
>> S
>>
>>
>> ---
>> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
>> Registered office: 7 Malton Av, Manchester, M21 8AT
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From otto at ottodestruct.com  Thu Apr  9 16:45:52 2009
From: otto at ottodestruct.com (Otto)
Date: Thu Apr  9 16:46:20 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <2245831608211135917@unknownmsgid>
References: <6162334.2071239235787776.JavaMail.DELL-1405$@Dell-1405> 
	<2245831608211135917@unknownmsgid>
Message-ID: <161617690904090945w7700e0bdk287d948207edc04f@mail.gmail.com>

On Wed, Apr 8, 2009 at 7:23 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
>> If you don't need post content or any template logic,
>> I don't see why you'd need WordPress at all.
>
> The valid scenarios I envision *do* need WordPress in ~90% of cases but not for the ~10% of cases where I want to respond to custom URLs. ?Currently the only options WordPress provides are "all or nothing." Why should it not not be valid to have "all" 90% of the time and "nothing" 10% of the time?

That is perfectly valid, however, your solution doesn't give you
"nothing" 10% of the time. You're still loading all of WordPress when
you clearly don't need to do so. This is suboptimal.

> I'm sorry but I can't take "modify .htaccess" as a serious suggestion for a plugin for reasons I spelled out above. Besides, I *do* need most of WordPress for these URLs, just not ALL of it (i.e. not the query.) Why is my saying "I only don't need the query" being interpreted as "I don't need WordPress at all?"

Because, and I think you're not getting this, the query *IS*
WordPress. Every page on WordPress needs the query. It's a fundamental
assumption underlying the whole architecture. ALL pages in WordPress
are generated from stuff in the posts table. Without exception.

If you're not loading anything from the posts table, then why load any
part of WordPress at all? There's nothing in WordPress that you need
if you're not loading something from the posts table as well.

> I don't understand the pushback for what is a very simple issue. ?Can anyone give me a scenario would the one "if" statement I proposed would actually cause harm?

It's not about causing "harm". It's about "why bother?" None of the
scenarios you present make the slightest bit of sense. You keep saying
you want WordPress without the query, but you're failing to get that
without the query, there's no reason to load WordPress at all. You
gain nothing by loading WordPress. Almost every single part of
WordPress is predicated on loading something from the posts table.
It's a fundamental underlying assumption, in all cases.

See, what you're asking makes absolutely no sense to me. If you don't
want the query, then why load WordPress at all? Why not bypass
WordPress in such a way that you can load your own page (which is what
you claim to want to do) and save all the large amount of processing
required to load WordPress?

The solution you proposed, frankly, sucks. It causes a lot of loading
of PHP files and processing and so on that is pretty pointless if you
don't execute the main query. That's the reason for the pushback
you're getting. Your idea simply makes no reasonable sense.

-Otto
Sent from Memphis, Tennessee, United States
From mailapera at gmail.com  Thu Apr  9 16:54:51 2009
From: mailapera at gmail.com (mailapera)
Date: Thu Apr  9 16:55:18 2009
Subject: [wp-hackers] Custom template based on tag associated with post
Message-ID: <e98dfae80904090954i4d2265dbs66b9d811e32b7fba@mail.gmail.com>

Hi,
I have a query that is not working properly. What I am trying to
accomplish is basically the following: get the post to show an element
if it is associated with a tag, display another if associated with
another tag.

I am currently using this query

<?php
$tags = 'mytag';
$myquery = new WP_Query("tag=$tags");?>
<?php if($myquery->have_posts()) : ?>

				my element to show

<?php endif; ?>

And it works only half way, meaning that if I have never associated
the tag with that post the element is not shown, if I ad the tag then
it is shown correctly, but if I remove the tag it keeps on showing the
element.

Could this depend on what? I have checked and the tag list does not
consider the post as still having the tag, so I guess the DB is clear
also. I went checking but I could not tell in any way if the DB still
associates that tag with that post.

Any help is greatly appreciated.
From dougal at gunters.org  Thu Apr  9 17:10:53 2009
From: dougal at gunters.org (Dougal Campbell)
Date: Thu Apr  9 17:11:10 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <161617690904090945w7700e0bdk287d948207edc04f@mail.gmail.com>
References: <6162334.2071239235787776.JavaMail.DELL-1405$@Dell-1405>
	<2245831608211135917@unknownmsgid>
	<161617690904090945w7700e0bdk287d948207edc04f@mail.gmail.com>
Message-ID: <49DE2C1D.7060203@gunters.org>

Otto wrote:
> On Wed, Apr 8, 2009 at 7:23 PM, Mike Schinkel
> <mikeschinkel@newclarity.net> wrote:
>   
>> I'm sorry but I can't take "modify .htaccess" as a serious suggestion for a plugin for reasons I spelled out above. Besides, I *do* need most of WordPress for these URLs, just not ALL of it (i.e. not the query.) Why is my saying "I only don't need the query" being interpreted as "I don't need WordPress at all?"
>>     

The main argument against using a plugin that modifies .htaccess is that 
is not always cross-web-server compatible (e.g. when running under IIS). 
There *are* plugins that modify .htaccess, however (cf, wp-super-cache). 
It wouldn't be my first choice, though. I'd prefer to do these sorts of 
things inside the WordPress framework whenever possible. And yes, WP 
Super Cache is a bit of an exception, because the point of it is to 
bypass WordPress and push caching off onto the http server.

> Because, and I think you're not getting this, the query *IS*
> WordPress. Every page on WordPress needs the query. It's a fundamental
> assumption underlying the whole architecture. ALL pages in WordPress
> are generated from stuff in the posts table. Without exception.
>
> If you're not loading anything from the posts table, then why load any
> part of WordPress at all? There's nothing in WordPress that you need
> if you're not loading something from the posts table as well.
>
>   

I'm afraid there is: a links page (cf, themes/default/links.php). Well, 
and the 404 page (but maybe that one isn't really fair to throw in here ;) )

A couple of other non-standard examples I could think of would be: a 
page that listed authors (or even an author profile page), or a 
'lifestream' page that pulled content from other services.

> See, what you're asking makes absolutely no sense to me. If you don't
> want the query, then why load WordPress at all? Why not bypass
> WordPress in such a way that you can load your own page (which is what
> you claim to want to do) and save all the large amount of processing
> required to load WordPress?
>   

I think the ability to bypass making an actual query, while still 
allowing content to be generated within the existing theme system is 
pretty valid. And all it will take is a filter hook and a conditional at 
appropriate places in the code. Just allow a plugin to wipe the query, 
then abort (returning an empty 'posts' array) before actually sending a 
request to the database engine. Easy-peasy, and lets plugins incorporate 
non-WP content without wasting a posts query to the database.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/
*Hire me!*
From otto at ottodestruct.com  Thu Apr  9 17:17:21 2009
From: otto at ottodestruct.com (Otto)
Date: Thu Apr  9 17:17:47 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <49DE2C1D.7060203@gunters.org>
References: <6162334.2071239235787776.JavaMail.DELL-1405$@Dell-1405> 
	<2245831608211135917@unknownmsgid>
	<161617690904090945w7700e0bdk287d948207edc04f@mail.gmail.com> 
	<49DE2C1D.7060203@gunters.org>
Message-ID: <161617690904091017h14b9c98cy1f435a961e0a8212@mail.gmail.com>

On Thu, Apr 9, 2009 at 12:10 PM, Dougal Campbell <dougal@gunters.org> wrote:
> The main argument against using a plugin that modifies .htaccess is that is
> not always cross-web-server compatible (e.g. when running under IIS). There
> *are* plugins that modify .htaccess, however (cf, wp-super-cache). It
> wouldn't be my first choice, though. I'd prefer to do these sorts of things
> inside the WordPress framework whenever possible. And yes, WP Super Cache is
> a bit of an exception, because the point of it is to bypass WordPress and
> push caching off onto the http server.

If the .htaccess rules don't work, then non-default permalinks don't
work either. Sure, there's workarounds for IIS and such, but those
require a higher level of work anyway, to make this sort of thing work
at all.


>> If you're not loading anything from the posts table, then why load any
>> part of WordPress at all? There's nothing in WordPress that you need
>> if you're not loading something from the posts table as well.
>>
> I'm afraid there is: a links page (cf, themes/default/links.php). Well, and
> the 404 page (but maybe that one isn't really fair to throw in here ;) )

Sorry, but the default/links.php is a Page Template. If you don't load
the Page from the posts table, then WordPress has no way to know what
Page Template it has to use for the given Page.

The 404 I give you, but that's cheating. Anyway, until you run the
query and get no results, you don't know if a 404 page is required.

> A couple of other non-standard examples I could think of would be: a page
> that listed authors (or even an author profile page), or a 'lifestream' page
> that pulled content from other services.

All "Pages" are in the posts table.

> I think the ability to bypass making an actual query, while still allowing
> content to be generated within the existing theme system is pretty valid.

I don't, as without the query, you have no way to know what template
file is actually needed to be loaded in the first place.

-Otto
From dougal at gunters.org  Thu Apr  9 17:44:33 2009
From: dougal at gunters.org (Dougal Campbell)
Date: Thu Apr  9 17:44:47 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <161617690904091017h14b9c98cy1f435a961e0a8212@mail.gmail.com>
References: <6162334.2071239235787776.JavaMail.DELL-1405$@Dell-1405>
	<2245831608211135917@unknownmsgid>	<161617690904090945w7700e0bdk287d948207edc04f@mail.gmail.com>
	<49DE2C1D.7060203@gunters.org>
	<161617690904091017h14b9c98cy1f435a961e0a8212@mail.gmail.com>
Message-ID: <49DE3401.3030203@gunters.org>

Otto wrote:
> On Thu, Apr 9, 2009 at 12:10 PM, Dougal Campbell <dougal@gunters.org> wrote:
>   
>> I'm afraid there is: a links page (cf, themes/default/links.php). Well, and
>> the 404 page (but maybe that one isn't really fair to throw in here ;) )
>>     
>
> Sorry, but the default/links.php is a Page Template. If you don't load
> the Page from the posts table, then WordPress has no way to know what
> Page Template it has to use for the given Page.
>
> The 404 I give you, but that's cheating. Anyway, until you run the
> query and get no results, you don't know if a 404 page is required.
>   

Yup, I stand corrected. I didn't think that part through far enough.

>> I think the ability to bypass making an actual query, while still allowing
>> content to be generated within the existing theme system is pretty valid.
>>     
>
> I don't, as without the query, you have no way to know what template
> file is actually needed to be loaded in the first place.
>   

Except that the theoretical plugin in question could tell WP what 
template it wants. I think. However, things start to get hairy here, 
don't they? Somebody (you?) mentioned before about not being able to use 
the_title() and various other bits, but I didn't make the connection 
until you mentioned here about needing to query the page info so that we 
know what template to use. And we have to query the db anyways, just to 
know which theme is active.

So, bypassing the query completely is problematic. The main question 
would be whether we are making unnecessary posts queries in cases where 
the posts are going to be thrown away. I can't say that I've looked 
closely enough to know whether or not that is true in any common cases.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/
*Hire me!*
From Jesse.Silverstein at xerox.com  Thu Apr  9 17:21:41 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Thu Apr  9 17:48:43 2009
Subject: [wp-hackers] WP Version Statistic
Message-ID: <F25F2C8DE17FB546A90DB3CF77461427062F409F@USA0300MS04.na.xerox.net>

All -

 

I'm wondering if there are any sites/tools/etc. where I could find
statistics on what versions of WordPress are being used by how many or
what percentage of users. Would those stats be stored in WordPress.com
for blogs that use WordPress.com Stats? And if so, it is publicly
accessible information? Any insight would be appreciated. Thanks.

 

-Jesse Silverstein

From malaiac at gmail.com  Thu Apr  9 17:52:18 2009
From: malaiac at gmail.com (Malaiac)
Date: Thu Apr  9 17:54:22 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <161617690904090945w7700e0bdk287d948207edc04f@mail.gmail.com>
References: <6162334.2071239235787776.JavaMail.DELL-1405$@Dell-1405>
	<2245831608211135917@unknownmsgid>
	<161617690904090945w7700e0bdk287d948207edc04f@mail.gmail.com>
Message-ID: <59e7f3130904091052i7ce1d03bsb50ccbfaa4b100b7@mail.gmail.com>

2009/4/9 Otto <otto@ottodestruct.com>:
> Because, and I think you're not getting this, the query *IS*
> WordPress. Every page on WordPress needs the query. It's a fundamental
> assumption underlying the whole architecture. ALL pages in WordPress
> are generated from stuff in the posts table. Without exception.
> scenarios you present make the slightest bit of sense. You keep saying
> you want WordPress without the query, but you're failing to get that
> without the query, there's no reason to load WordPress at all. You
> gain nothing by loading WordPress. Almost every single part of
> WordPress is predicated on loading something from the posts table.
> It's a fundamental underlying assumption, in all cases.

Oh my... I just want to wait for WP to allow custom taxonomies, and
then send you back this message...
Sorry for the pun, but since links (like in wp_links) are the closest
existing thing to a custom taxonomy,
[and btw, who decided that links categories could not be hierarchical,
and - to get closer to the point - who decided that a link may not be
displayed as a single entity on a single page ?? to achieve this
simple functionality, WP need dozens of hooks and hundreds of php code
lines... ]
and since custom taxonomies are in the scope for 2.8/2.9, I think
you'll be wrong in no time.

Malaiac
From Jesse.Silverstein at xerox.com  Thu Apr  9 18:23:58 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Thu Apr  9 18:24:34 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <59e7f3130904091052i7ce1d03bsb50ccbfaa4b100b7@mail.gmail.com>
References: <6162334.2071239235787776.JavaMail.DELL-1405$@Dell-1405><2245831608211135917@unknownmsgid><161617690904090945w7700e0bdk287d948207edc04f@mail.gmail.com>
	<59e7f3130904091052i7ce1d03bsb50ccbfaa4b100b7@mail.gmail.com>
Message-ID: <F25F2C8DE17FB546A90DB3CF77461427062F41AE@USA0300MS04.na.xerox.net>

Although I'm not sure loading most of WordPress without the Query is the
best of ideas, I do see a few outlying cases where it would be
preferential to do that. More common, at least from my perspective, is a
plugin linking to a specific page inside its own plugins folder that
doesn't need any of WordPress except access to the same database, and
the table_prefix. It would be beneficial, in some cases, to be able to
load the database globals without also loading wp-settings (where about
a trillion other things get auto-loaded). That said, I'm not entirely
sure how to accomplish that. Perhaps a $please_dont_load_settings =
true; before the include, or something. That's incredibly hack-ish, but
I don't have any other bright ideas at the moment.

-Jesse Silverstein

From otto at ottodestruct.com  Thu Apr  9 18:37:54 2009
From: otto at ottodestruct.com (Otto)
Date: Thu Apr  9 18:38:29 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <49DE3401.3030203@gunters.org>
References: <6162334.2071239235787776.JavaMail.DELL-1405$@Dell-1405> 
	<2245831608211135917@unknownmsgid>
	<161617690904090945w7700e0bdk287d948207edc04f@mail.gmail.com> 
	<49DE2C1D.7060203@gunters.org>
	<161617690904091017h14b9c98cy1f435a961e0a8212@mail.gmail.com> 
	<49DE3401.3030203@gunters.org>
Message-ID: <161617690904091137h15cf906cq396e254d177e9bea@mail.gmail.com>

On Thu, Apr 9, 2009 at 12:44 PM, Dougal Campbell <dougal@gunters.org> wrote:
> Except that the theoretical plugin in question could tell WP what template
> it wants. I think.

True, and I've thought of that. However, one of the things Mike is
complaining about is, for example, the fact that wp_title requires the
query, or bits that the query loads. To which I respond, yes, it does,
because that is what wp_title *does*. It generates a title based on
what page is loading, and in order to do that, it needs to actually,
you know, load the page's information.

My point is that all pages have *something* that comes from the posts
table. There's more to the posts table than just the content of a
post.

> So, bypassing the query completely is problematic. The main question would
> be whether we are making unnecessary posts queries in cases where the posts
> are going to be thrown away.

While it's true that some bits loaded by the query are not going to be
used in all cases, at least some of it is used in every case I can
think of. Honestly, I can't think of any real case where there's no
information needed from the posts table *and* you're also loading the
theme to display something.. Virtually every theme uses bits from the
posts table in the header, or to load a page template, or *something*.

For the very few edge cases where a plugin is returning something
completely outside of WP, detecting your URL and exiting early is the
best way to accomplish that sort of thing. I've seen a few plugins do
that for simple things like returning images or simple text output for
ajax type queries. In those cases, halting execution early doesn't
affect other plugins because you don't want those other plugins to do
anything anyway, since you're outside the normal scope of a WP
page-load.

-Otto
From otto at ottodestruct.com  Thu Apr  9 18:40:40 2009
From: otto at ottodestruct.com (Otto)
Date: Thu Apr  9 18:41:07 2009
Subject: [wp-hackers] WP Version Statistic
In-Reply-To: <F25F2C8DE17FB546A90DB3CF77461427062F409F@USA0300MS04.na.xerox.net>
References: <F25F2C8DE17FB546A90DB3CF77461427062F409F@USA0300MS04.na.xerox.net>
Message-ID: <161617690904091140y1006e375mc8a98f3695804749@mail.gmail.com>

I'm pretty sure that the WP stats plugin collects the WP version
number for wp.org blogs that are using it. This might be a pretty good
representative sample. You might want to email Andy Skelton and see if
he can get that information for you. I don't think it's published
anywhere, but I may be wrong.

-Otto
Sent from Memphis, Tennessee, United States


On Thu, Apr 9, 2009 at 12:21 PM, Silverstein, Jesse
<Jesse.Silverstein@xerox.com> wrote:
> All -
>
> I'm wondering if there are any sites/tools/etc. where I could find
> statistics on what versions of WordPress are being used by how many or
> what percentage of users. Would those stats be stored in WordPress.com
> for blogs that use WordPress.com Stats? And if so, it is publicly
> accessible information? Any insight would be appreciated. Thanks.
From dylan.k.kuhn at gmail.com  Thu Apr  9 21:04:48 2009
From: dylan.k.kuhn at gmail.com (Dylan Kuhn)
Date: Thu Apr  9 21:05:14 2009
Subject: [wp-hackers] Pattern for script and option sharing between plugins?
Message-ID: <e7471da80904091404p2ce32fd4ueca5b5cd6d3df53b@mail.gmail.com>

Greetings,

My plugin uses the Google Maps API, and has until now stored the API key in
its own options. As I work on using the Google AJAX APIs [1] to load
Google's scripts, I'm wondering if I should make the jsapi loader script
sharable between plugins? I know it will become more common for a site to
have multiple plugins using proprietary Google APIs, and I can see those
scripts getting loaded multiple times with different API keys by different
plugins.

Here's what I was thinking of doing:

$google_api_key = get_option( 'google_api_key');

If that exists I'll use it, otherwise I'll store my previously private key
there. I'll also register a script using it:

wp_register_script( 'google-jsapi', 'http://www.google.com/jsapi?key=' .
$google_api_key );

If I understand correctly, it shouldn't matter if another plugin does this
also, the first one wins, then everyone should be able to enqueue the
script. Is this a good idea, or just hopeless namespace clutter?

I also read the thread considering using the Google AJAX API in the core. It
seems to me that for now, at least, it would be important _not_ to use it to
load jQuery or other scripts that WP already manages.

[1] http://code.google.com/apis/ajax/documentation/

Thanks,
-dylan-
From fonsekaean at gmail.com  Fri Apr 10 02:47:22 2009
From: fonsekaean at gmail.com (Nivanka Fonseka)
Date: Fri Apr 10 02:47:36 2009
Subject: [wp-hackers] Re: Template revisioning system for WordPress
In-Reply-To: <c8f37c930904071036m4eee3759ydb1c233c9614662a@mail.gmail.com>
References: <20090407104202.81C846551@comox.textdrive.com>
	<49DB53B6.3040705@gmail.com>
	<421be760904070857w460181c4rc93499385ca04484@mail.gmail.com>
	<c8f37c930904071036m4eee3759ydb1c233c9614662a@mail.gmail.com>
Message-ID: <421be760904091947j1913a36q1eb54d334b7fc49c@mail.gmail.com>

Dear Ryan,

Sorry for taking time to reply, Yeah I think your idea of removing the
extension is interesting.

I will check with the trunks too before developing, other wise I will
redo codes ;) which is no point.

Nivanka

On Tue, Apr 7, 2009 at 11:06 PM, Ryan Boren <ryan@boren.nu> wrote:
> Those making proposals need to look at trunk. ?Some of these
> suggestions are already implemented and will be released in 2.8.
>
> Old versions of templates must be saved in the filesystem in such a
> way that they are not publicly accessible. ?We don't want to expose
> vulnerabilities that may be lingering in old versions. ?This usually
> means adding a hash to file and directory names, preventing directory
> listings, and removing the .php extension.
>
> When restoring old versions back into wp-content/themes, WP_Filesystem
> should be used so that the proper owner and permissions can be
> restored.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Nivanka Fonseka
From wp-hackers at striderweb.com  Fri Apr 10 03:21:19 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Fri Apr 10 03:21:53 2009
Subject: [wp-hackers] questions on best practices for wp_enqueue_script
	and wp_enqueue_style
In-Reply-To: <49D9F536.5060005@toppa.com>
References: <49D9F536.5060005@toppa.com>
Message-ID: <5A48F67E-C9FC-48DC-811F-D4BF5B66AFAE@striderweb.com>


On Apr 6, 2009, at 7:27 AM, Michael Toppa wrote:

> 2. Both functions want the src path defined from the root of the  
> wordpress installation. PLUGINDIR seems to do the trick for the  
> plugin directory.

No -- PLUGINDIR is obsolete and problematic.  use WP_PLUGIN_DIR and  
WP_PLUGIN_URL instead.

<http://striderweb.com/nerdaphernalia/2008/09/hit-a-moving-target-in-your-wordpress-plugin/ 
 >

Stephen


-- 
Stephen Rider
http://striderweb.com/




From wp-hackers at striderweb.com  Fri Apr 10 03:10:51 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Fri Apr 10 03:48:21 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <EMEWEMEW2_DELIMl389fX983d7f8297fc34a4e5ca70,
	mikeschinkel@newclarity.net, 8914383.2851239288087776.J>
References: <EMEWEMEW2_DELIMl389fX983d7f8297fc34a4e5ca70,
	mikeschinkel@newclarity.net, 8914383.2851239288087776.J>
Message-ID: <5FB0A16A-63A3-4E09-B20E-EEA1D2E7DD56@striderweb.com>

> Unfortunately it seems this list much more often devolves into  
> limiting "if" debates rather than the much more fruitful and  
> intellectually stimulating discussions of issues people are having  
> and how to address them. OTOH from my admittedly limited experience  
> Trac tickets turn into a binary yes/no on a particular  
> implementation with neither the technical mechanism nor the social  
> processes to resolve any particular issue. For example, this [1]  
> ticket got a thumb's down and my requests for clarification died on  
> the vine.

I'll second that.  People should submit patches, yes, but too often  
"Just do it on Trac" is the response, and it avoids valid discussion  
of how to *best* approach a problem.

I'm not even talking about Michael's specific problem here (though the  
discussion has taught me some things).  There was a Trac ticket the  
other day where somebody tossed up a patch.  There was a very little  
bit of discussion.  I pointed out a problem with the patch, **the  
person who coded it agreed with me**, and the next response was the  
(faulty) patch being committed to Core!  Huh???  As Michael says, very  
"binary" and very little discussion.

Stephen
From lynne.pope at gmail.com  Fri Apr 10 04:13:38 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Fri Apr 10 04:38:12 2009
Subject: Can Trac message the list? Was Re: [wp-hackers] Any way to bypass 
	$wp->query_posts()?
Message-ID: <427667db0904092113r3c7d8f9fw6176242cc4144376@mail.gmail.com>

2009/4/10 Stephen Rider <wp-hackers@striderweb.com>

> There was a Trac ticket the other day where somebody tossed up a patch.
>  There was a very little bit of discussion.  I pointed out a problem with
> the patch, **the person who coded it agreed with me**, and the next response
> was the (faulty) patch being committed to Core!  Huh???  As Michael says,
> very "binary" and very little discussion.


This is a very valid point. Trac is not being used for discussions about the
changes, and although its arguable that we should all be following Trac
tickets, in practise this is not really happening.

I'm not that familiar with Trac functions but wonder if there is a way for
it to message this list? If not, then perhaps anyone submitting a ticket
could post to the list, with a link to the ticket, asking for feedback.
Either way, its important that we post any suggested changes/pros/cons to
the ticket rather than here because there are some who use Trac but don't
wade through the myriad of discussions that take place on this list (many of
which are not suitable for core anyway).

Improved communication and involvement with Trac tickets seems like a
no-brainer to me.

Lynne
From Jesse.Silverstein at xerox.com  Fri Apr 10 04:43:45 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Fri Apr 10 04:46:18 2009
Subject: Can Trac message the list? Was Re: [wp-hackers] Any way to bypass
	$wp->query_posts()?
In-Reply-To: <427667db0904092113r3c7d8f9fw6176242cc4144376@mail.gmail.com>
References: <427667db0904092113r3c7d8f9fw6176242cc4144376@mail.gmail.com>
Message-ID: <F25F2C8DE17FB546A90DB3CF77461427062F4578@USA0300MS04.na.xerox.net>

Trac emails updates the wp-trac list. You can subscribe to that one just
like this one. There is a feature on trac where you can check a box to
be CCed on a specific ticket. That's a great idea, in principle, except
that it is impossible to store an email address into your trac user
account profile, so it cannot cc you. There is at least one trac ticket
about fixing this issue with the trac. It has been open for quite some
time and I haven't seen any progress on it.

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Lynne Pope
Sent: Friday, April 10, 2009 12:14 AM
To: wp-hackers@lists.automattic.com
Subject: Can Trac message the list? Was Re: [wp-hackers] Any way to
bypass $wp->query_posts()?

2009/4/10 Stephen Rider <wp-hackers@striderweb.com>

> There was a Trac ticket the other day where somebody tossed up a
patch.
>  There was a very little bit of discussion.  I pointed out a problem
with
> the patch, **the person who coded it agreed with me**, and the next
response
> was the (faulty) patch being committed to Core!  Huh???  As Michael
says,
> very "binary" and very little discussion.


This is a very valid point. Trac is not being used for discussions about
the
changes, and although its arguable that we should all be following Trac
tickets, in practise this is not really happening.

I'm not that familiar with Trac functions but wonder if there is a way
for
it to message this list? If not, then perhaps anyone submitting a ticket
could post to the list, with a link to the ticket, asking for feedback.
Either way, its important that we post any suggested changes/pros/cons
to
the ticket rather than here because there are some who use Trac but
don't
wade through the myriad of discussions that take place on this list
(many of
which are not suitable for core anyway).

Improved communication and involvement with Trac tickets seems like a
no-brainer to me.

Lynne
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.0.238 / Virus Database: 270.11.48/2048 - Release Date:
04/09/09 19:01:00
From c at kouloumbris.com  Fri Apr 10 08:20:23 2009
From: c at kouloumbris.com (Constantinos Kouloumbris)
Date: Fri Apr 10 08:20:53 2009
Subject: Can Trac message the list? Was Re: [wp-hackers] Any way to bypass
	$wp->query_posts()?
In-Reply-To: <F25F2C8DE17FB546A90DB3CF77461427062F4578@USA0300MS04.na.xerox.net>
References: <427667db0904092113r3c7d8f9fw6176242cc4144376@mail.gmail.com> 
	<F25F2C8DE17FB546A90DB3CF77461427062F4578@USA0300MS04.na.xerox.net>
Message-ID: <af0a550f0904100120p47c3a79dk8c11594243cdbaae@mail.gmail.com>

> Trac emails updates the wp-trac list. You can subscribe to that one just
> like this one. There is a feature on trac where you can check a box to
> be CCed on a specific ticket. That's a great idea, in principle, except
> that it is impossible to store an email address into your trac user
> account profile, so it cannot cc you. There is at least one trac ticket
> about fixing this issue with the trac. It has been open for quite some
> time and I haven't seen any progress on it.

It's not impossible to store an email address into your trac user
profile, but for some reason it doesn't work on the wp trac. This
feature works fine and I use it on several of my projects.

-- 
Regards,
    CK (Constantinos Kouloumbris)
http://kouloumbris.com

"I would love to change the world, but they won't give me the source code."
~ Unknown ~
From scribu at gmail.com  Fri Apr 10 13:11:26 2009
From: scribu at gmail.com (scribu)
Date: Fri Apr 10 13:11:51 2009
Subject: Can Trac message the list? Was Re: [wp-hackers] Any way to bypass
	$wp->query_posts()?
In-Reply-To: <af0a550f0904100120p47c3a79dk8c11594243cdbaae@mail.gmail.com>
References: <427667db0904092113r3c7d8f9fw6176242cc4144376@mail.gmail.com>
	<F25F2C8DE17FB546A90DB3CF77461427062F4578@USA0300MS04.na.xerox.net>
	<af0a550f0904100120p47c3a79dk8c11594243cdbaae@mail.gmail.com>
Message-ID: <349fe48b0904100611sf86c51u5d31b6d99e47009f@mail.gmail.com>

I use that feature on WP trac just fine. There is the checkbox which
says "Add scribu@ to CC"

On 4/10/09, Constantinos Kouloumbris <c@kouloumbris.com> wrote:
>> Trac emails updates the wp-trac list. You can subscribe to that one just
>> like this one. There is a feature on trac where you can check a box to
>> be CCed on a specific ticket. That's a great idea, in principle, except
>> that it is impossible to store an email address into your trac user
>> account profile, so it cannot cc you. There is at least one trac ticket
>> about fixing this issue with the trac. It has been open for quite some
>> time and I haven't seen any progress on it.
>
> It's not impossible to store an email address into your trac user
> profile, but for some reason it doesn't work on the wp trac. This
> feature works fine and I use it on several of my projects.
>
> --
> Regards,
>     CK (Constantinos Kouloumbris)
> http://kouloumbris.com
>
> "I would love to change the world, but they won't give me the source code."
> ~ Unknown ~
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
http://scribu.net
From peter.westwood at ftwr.co.uk  Fri Apr 10 13:21:24 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri Apr 10 13:21:40 2009
Subject: Can Trac message the list? Was Re: [wp-hackers] Any way to bypass
	$wp->query_posts()?
In-Reply-To: <349fe48b0904100611sf86c51u5d31b6d99e47009f@mail.gmail.com>
References: <427667db0904092113r3c7d8f9fw6176242cc4144376@mail.gmail.com>
	<F25F2C8DE17FB546A90DB3CF77461427062F4578@USA0300MS04.na.xerox.net>
	<af0a550f0904100120p47c3a79dk8c11594243cdbaae@mail.gmail.com>
	<349fe48b0904100611sf86c51u5d31b6d99e47009f@mail.gmail.com>
Message-ID: <1F625D18-F147-46EE-9DCF-74D02CA53F7F@ftwr.co.uk>


On 10 Apr 2009, at 14:11, scribu wrote:

> I use that feature on WP trac just fine. There is the checkbox which
> says "Add scribu@ to CC"
>
> On 4/10/09, Constantinos Kouloumbris <c@kouloumbris.com> wrote:
>>> Trac emails updates the wp-trac list. You can subscribe to that  
>>> one just
>>> like this one. There is a feature on trac where you can check a  
>>> box to
>>> be CCed on a specific ticket. That's a great idea, in principle,  
>>> except
>>> that it is impossible to store an email address into your trac user
>>> account profile, so it cannot cc you. There is at least one trac  
>>> ticket
>>> about fixing this issue with the trac. It has been open for quite  
>>> some
>>> time and I haven't seen any progress on it.
>>
>> It's not impossible to store an email address into your trac user
>> profile, but for some reason it doesn't work on the wp trac. This
>> feature works fine and I use it on several of my projects.
>>
>>

It works fine for me too.

Go here and configure:

http://core.trac.wordpress.org/prefs

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From mdmartz at sivel.net  Fri Apr 10 13:27:03 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Fri Apr 10 13:27:32 2009
Subject: Can Trac message the list? Was Re: [wp-hackers] Any way to bypass
	$wp->query_posts()?
In-Reply-To: <1F625D18-F147-46EE-9DCF-74D02CA53F7F@ftwr.co.uk>
References: <427667db0904092113r3c7d8f9fw6176242cc4144376@mail.gmail.com> 
	<F25F2C8DE17FB546A90DB3CF77461427062F4578@USA0300MS04.na.xerox.net> 
	<af0a550f0904100120p47c3a79dk8c11594243cdbaae@mail.gmail.com> 
	<349fe48b0904100611sf86c51u5d31b6d99e47009f@mail.gmail.com> 
	<1F625D18-F147-46EE-9DCF-74D02CA53F7F@ftwr.co.uk>
Message-ID: <518fa9630904100627r4f74cdf4qafe4b012d7b9fd34@mail.gmail.com>

> It works fine for me too.
>
> Go here and configure:
>
> http://core.trac.wordpress.org/prefs
>
> westi

There is actually a ticket in Trac for Barry that says that users are
unable to save their preferences.

https://core.trac.wordpress.org/ticket/9213

I have confirmed that I am unable to get Trac to save any preferences
I enter.  My name and email were entered before the upgrade to 0.11,
and are in there, but if I try to change them when the page refreshes
they are reset back to what they were before clicking "Save Changes".


-- 
Matt Martz
matt@sivel.net
http://sivel.net/
From yahgrp at poplarware.com  Fri Apr 10 14:05:13 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Fri Apr 10 14:04:21 2009
Subject: Can Trac message the list? Was Re: [wp-hackers] Any way to bypass
	$wp->query_posts()?
In-Reply-To: <af0a550f0904100120p47c3a79dk8c11594243cdbaae@mail.gmail.com>
References: <427667db0904092113r3c7d8f9fw6176242cc4144376@mail.gmail.com>
	<F25F2C8DE17FB546A90DB3CF77461427062F4578@USA0300MS04.na.xerox.net>
	<af0a550f0904100120p47c3a79dk8c11594243cdbaae@mail.gmail.com>
Message-ID: <49DF5219.5070807@poplarware.com>

I think you can put your email address in your wp.org forum profile, 
and it will use that to send you email. I get cc'd email on several 
trac tickets regularly.

    --Jennifer

Constantinos Kouloumbris wrote:
>> Trac emails updates the wp-trac list. You can subscribe to that one just
>> like this one. There is a feature on trac where you can check a box to
>> be CCed on a specific ticket. That's a great idea, in principle, except
>> that it is impossible to store an email address into your trac user
>> account profile, so it cannot cc you. There is at least one trac ticket
>> about fixing this issue with the trac. It has been open for quite some
>> time and I haven't seen any progress on it.
> 
> It's not impossible to store an email address into your trac user
> profile, but for some reason it doesn't work on the wp trac. This
> feature works fine and I use it on several of my projects.
> 


-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming

From Jesse.Silverstein at xerox.com  Fri Apr 10 14:42:44 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Fri Apr 10 14:43:57 2009
Subject: Can Trac message the list? Was Re: [wp-hackers] Any way to
	bypass$wp->query_posts()?
In-Reply-To: <49DF5219.5070807@poplarware.com>
References: <427667db0904092113r3c7d8f9fw6176242cc4144376@mail.gmail.com><F25F2C8DE17FB546A90DB3CF77461427062F4578@USA0300MS04.na.xerox.net><af0a550f0904100120p47c3a79dk8c11594243cdbaae@mail.gmail.com>
	<49DF5219.5070807@poplarware.com>
Message-ID: <F25F2C8DE17FB546A90DB3CF77461427062F47F3@USA0300MS04.na.xerox.net>

> I think you can put your email address in your wp.org forum profile, and it will use that to send you email. I get cc'd email on several trac tickets regularly.
My email address is saved in my wp.org account, and I do not get ccs from trac there.

> There is actually a ticket in Trac for Barry that says that users are unable to save their preferences.
> https://core.trac.wordpress.org/ticket/9213
> I have confirmed that I am unable to get Trac to save any preferences I enter.  My name and email were entered before the upgrade to 0.11, and are in there, but if I try to change them when the page refreshes they are reset back to what they were before clicking "Save Changes".

Yeah, what he said. WP-Trac will not accept any changes I try to make to my preferences, therefore I cannot enter an email address, therefore the cc function is effectively broken.

As of this morning, it is also erroring out when I try to log in from the preferences page. If I go to the home page and click login, it works fine.


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Jennifer Hodgdon
Sent: Friday, April 10, 2009 10:05 AM
To: wp-hackers@lists.automattic.com
Subject: Re: Can Trac message the list? Was Re: [wp-hackers] Any way to bypass$wp->query_posts()?

I think you can put your email address in your wp.org forum profile, 
and it will use that to send you email. I get cc'd email on several 
trac tickets regularly.

    --Jennifer

Constantinos Kouloumbris wrote:
>> Trac emails updates the wp-trac list. You can subscribe to that one just
>> like this one. There is a feature on trac where you can check a box to
>> be CCed on a specific ticket. That's a great idea, in principle, except
>> that it is impossible to store an email address into your trac user
>> account profile, so it cannot cc you. There is at least one trac ticket
>> about fixing this issue with the trac. It has been open for quite some
>> time and I haven't seen any progress on it.
> 
> It's not impossible to store an email address into your trac user
> profile, but for some reason it doesn't work on the wp trac. This
> feature works fine and I use it on several of my projects.
> 


-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.0.238 / Virus Database: 270.11.48/2048 - Release Date: 04/10/09 06:39:00
From robin.niemeyer at gmx.net  Fri Apr 10 14:47:08 2009
From: robin.niemeyer at gmx.net (robin niemeyer)
Date: Fri Apr 10 14:47:34 2009
Subject: [wp-hackers] 'same category name'-issue
Message-ID: <49DF5BEC.1050007@gmx.net>

Hi all,

I know this issue has been posted frequently in the wp support forum,
the ticket system etc., but it seems there has been some silence around
it since then, although I think it still is a problem to many people
(including me).

What I mean is the issue that every term has to be unique, and while
this makes a lot of sense regarding tags, it has some serious drawbacks
when it comes to categories, since this isn't possible right now:

-Sheet Music
---Piano
---Violin
-Learn to Play
---Piano
---Violin

(Example taken from http://wordpress.org/support/topic/177232)

The track tickets regarding this issue are tickets #6211 & #5034, both
stating WP 2.9 as a milestone for resolving the problem. But since this
seems to be a database design/abstraction issue it's not unlikely that
it would stay around for a while, if it can't be solved inside the code
base itself.

Be it as it is, I think there is a desperate need of a workaround,
mainly because it should be possible to set up the structure you like
(or need) to categorize your content (I think it's best to discuss this
under a categories perspective rather than a terms perspective, because
as far I can see this is about categories alone, which is why I think
it's an abstraction issue).

The only solution I could imagine is to call the pre_category_name &
pre_category_nicename filter hooks inside wp_insert_category() and the
like before any validation testing takes place, so it's left to the
developer to act accordingly without breaking the rules (e.g., to prefix
the name with some sort of token that could be filtered out in both
backend and frontend view while the data itself rests untouched).

I think there is a reason that both hooks don't get called during
category insertion (pre_category_name doesn't seem to be called
anywhere), but what reason is it? And if there's no reason for it, is
there a chance that this gets implemented in one of the upcoming
revisions? Or is there some alternative to accomplish the task of
getting equally named categories to work?

- Robin








From barry at automattic.com  Fri Apr 10 15:03:34 2009
From: barry at automattic.com (Barry Abrahamson)
Date: Fri Apr 10 15:03:56 2009
Subject: Can Trac message the list? Was Re: [wp-hackers] Any way to
	bypass$wp->query_posts()?
In-Reply-To: <F25F2C8DE17FB546A90DB3CF77461427062F47F3@USA0300MS04.na.xerox.net>
References: <427667db0904092113r3c7d8f9fw6176242cc4144376@mail.gmail.com><F25F2C8DE17FB546A90DB3CF77461427062F4578@USA0300MS04.na.xerox.net><af0a550f0904100120p47c3a79dk8c11594243cdbaae@mail.gmail.com>
	<49DF5219.5070807@poplarware.com>
	<F25F2C8DE17FB546A90DB3CF77461427062F47F3@USA0300MS04.na.xerox.net>
Message-ID: <AB686D82-A435-44D9-93AA-6451BCB8C87A@automattic.com>


On Apr 10, 2009, at 10:42 AM, Silverstein, Jesse wrote:

>> I think you can put your email address in your wp.org forum  
>> profile, and it will use that to send you email. I get cc'd email  
>> on several trac tickets regularly.
> My email address is saved in my wp.org account, and I do not get ccs  
> from trac there.
>
>> There is actually a ticket in Trac for Barry that says that users  
>> are unable to save their preferences.
>> https://core.trac.wordpress.org/ticket/9213
>> I have confirmed that I am unable to get Trac to save any  
>> preferences I enter.  My name and email were entered before the  
>> upgrade to 0.11, and are in there, but if I try to change them when  
>> the page refreshes they are reset back to what they were before  
>> clicking "Save Changes".
>
> Yeah, what he said. WP-Trac will not accept any changes I try to  
> make to my preferences, therefore I cannot enter an email address,  
> therefore the cc function is effectively broken.
>
> As of this morning, it is also erroring out when I try to log in  
> from the preferences page. If I go to the home page and click login,  
> it works fine.

Both of these issues should now be fixed.

--
Barry Abrahamson | Systems Wrangler | Automattic
Blog: http://barry.wordpress.com



From Jesse.Silverstein at xerox.com  Fri Apr 10 15:06:30 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Fri Apr 10 15:08:00 2009
Subject: Can Trac message the list? Was Re: [wp-hackers] Any way
	tobypass$wp->query_posts()?
In-Reply-To: <AB686D82-A435-44D9-93AA-6451BCB8C87A@automattic.com>
References: <427667db0904092113r3c7d8f9fw6176242cc4144376@mail.gmail.com><F25F2C8DE17FB546A90DB3CF77461427062F4578@USA0300MS04.na.xerox.net><af0a550f0904100120p47c3a79dk8c11594243cdbaae@mail.gmail.com><49DF5219.5070807@poplarware.com><F25F2C8DE17FB546A90DB3CF77461427062F47F3@USA0300MS04.na.xerox.net>
	<AB686D82-A435-44D9-93AA-6451BCB8C87A@automattic.com>
Message-ID: <F25F2C8DE17FB546A90DB3CF77461427062F4829@USA0300MS04.na.xerox.net>

> Both of these issues should now be fixed.

Holy crap, it works! Thanks Barry :)


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Barry
Abrahamson
Sent: Friday, April 10, 2009 11:04 AM
To: wp-hackers@lists.automattic.com
Subject: Re: Can Trac message the list? Was Re: [wp-hackers] Any way
tobypass$wp->query_posts()?


On Apr 10, 2009, at 10:42 AM, Silverstein, Jesse wrote:

>> I think you can put your email address in your wp.org forum  
>> profile, and it will use that to send you email. I get cc'd email  
>> on several trac tickets regularly.
> My email address is saved in my wp.org account, and I do not get ccs  
> from trac there.
>
>> There is actually a ticket in Trac for Barry that says that users  
>> are unable to save their preferences.
>> https://core.trac.wordpress.org/ticket/9213
>> I have confirmed that I am unable to get Trac to save any  
>> preferences I enter.  My name and email were entered before the  
>> upgrade to 0.11, and are in there, but if I try to change them when  
>> the page refreshes they are reset back to what they were before  
>> clicking "Save Changes".
>
> Yeah, what he said. WP-Trac will not accept any changes I try to  
> make to my preferences, therefore I cannot enter an email address,  
> therefore the cc function is effectively broken.
>
> As of this morning, it is also erroring out when I try to log in  
> from the preferences page. If I go to the home page and click login,  
> it works fine.

Both of these issues should now be fixed.

--
Barry Abrahamson | Systems Wrangler | Automattic
Blog: http://barry.wordpress.com



_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.0.238 / Virus Database: 270.11.48/2048 - Release Date:
04/10/09 06:39:00
From dylankkuhn at gmail.com  Fri Apr 10 15:21:13 2009
From: dylankkuhn at gmail.com (Dylan Kuhn)
Date: Fri Apr 10 15:21:44 2009
Subject: [wp-hackers] 'same category name'-issue
In-Reply-To: <49DF5BEC.1050007@gmx.net>
References: <49DF5BEC.1050007@gmx.net>
Message-ID: <e7471da80904100821i4ece29fbwb5d90deb59e918d9@mail.gmail.com>

I've always used the workaround suggested by JBagley at the end of that
topic. It would be nice if an added category was validated by the same rules
as an updated one. I haven't tried to accomplish that with hooks.

-dylan-

On Fri, Apr 10, 2009 at 8:47 AM, robin niemeyer <robin.niemeyer@gmx.net>wrote:

> Hi all,
>
> I know this issue has been posted frequently in the wp support forum,
> the ticket system etc., but it seems there has been some silence around
> it since then, although I think it still is a problem to many people
> (including me).
>
> What I mean is the issue that every term has to be unique, and while
> this makes a lot of sense regarding tags, it has some serious drawbacks
> when it comes to categories, since this isn't possible right now:
>
> -Sheet Music
> ---Piano
> ---Violin
> -Learn to Play
> ---Piano
> ---Violin
>
> (Example taken from http://wordpress.org/support/topic/177232)
>
> The track tickets regarding this issue are tickets #6211 & #5034, both
> stating WP 2.9 as a milestone for resolving the problem. But since this
> seems to be a database design/abstraction issue it's not unlikely that
> it would stay around for a while, if it can't be solved inside the code
> base itself.
>
> Be it as it is, I think there is a desperate need of a workaround,
> mainly because it should be possible to set up the structure you like
> (or need) to categorize your content (I think it's best to discuss this
> under a categories perspective rather than a terms perspective, because
> as far I can see this is about categories alone, which is why I think
> it's an abstraction issue).
>
> The only solution I could imagine is to call the pre_category_name &
> pre_category_nicename filter hooks inside wp_insert_category() and the
> like before any validation testing takes place, so it's left to the
> developer to act accordingly without breaking the rules (e.g., to prefix
> the name with some sort of token that could be filtered out in both
> backend and frontend view while the data itself rests untouched).
>
> I think there is a reason that both hooks don't get called during
> category insertion (pre_category_name doesn't seem to be called
> anywhere), but what reason is it? And if there's no reason for it, is
> there a chance that this gets implemented in one of the upcoming
> revisions? Or is there some alternative to accomplish the task of
> getting equally named categories to work?
>
> - Robin
>
>
>
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From public at toppa.com  Fri Apr 10 15:24:34 2009
From: public at toppa.com (Michael Toppa)
Date: Fri Apr 10 15:24:51 2009
Subject: [wp-hackers] 'same category name'-issue
In-Reply-To: <20090410150802.4B0166C33@comox.textdrive.com>
References: <20090410150802.4B0166C33@comox.textdrive.com>
Message-ID: <49DF64B2.5070003@toppa.com>

What's wrong with the solution that's presented at the end of the 
support thread you linked to? (having 2 or more categories with the same 
name as long as their slugs are different). No matter what kind of 
abstraction you apply to the parent-child relationships, in the end 
you'll need unique slugs anyway, to maintain flexible permalink options.

Mike T

> Date: Fri, 10 Apr 2009 16:47:08 +0200
> From: robin niemeyer <robin.niemeyer@gmx.net>
> Subject: [wp-hackers] 'same category name'-issue
> To: wp-hackers@lists.automattic.com
> Message-ID: <49DF5BEC.1050007@gmx.net>
> Content-Type: text/plain; charset=ISO-8859-15
>
> Hi all,
>
> I know this issue has been posted frequently in the wp support forum,
> the ticket system etc., but it seems there has been some silence around
> it since then, although I think it still is a problem to many people
> (including me).
>
> What I mean is the issue that every term has to be unique, and while
> this makes a lot of sense regarding tags, it has some serious drawbacks
> when it comes to categories, since this isn't possible right now:
>
> -Sheet Music
> ---Piano
> ---Violin
> -Learn to Play
> ---Piano
> ---Violin
>
> (Example taken from http://wordpress.org/support/topic/177232)
>
> The track tickets regarding this issue are tickets #6211 & #5034, both
> stating WP 2.9 as a milestone for resolving the problem. But since this
> seems to be a database design/abstraction issue it's not unlikely that
> it would stay around for a while, if it can't be solved inside the code
> base itself.
>
> Be it as it is, I think there is a desperate need of a workaround,
> mainly because it should be possible to set up the structure you like
> (or need) to categorize your content (I think it's best to discuss this
> under a categories perspective rather than a terms perspective, because
> as far I can see this is about categories alone, which is why I think
> it's an abstraction issue).
>
> The only solution I could imagine is to call the pre_category_name &
> pre_category_nicename filter hooks inside wp_insert_category() and the
> like before any validation testing takes place, so it's left to the
> developer to act accordingly without breaking the rules (e.g., to prefix
> the name with some sort of token that could be filtered out in both
> backend and frontend view while the data itself rests untouched).
>
> I think there is a reason that both hooks don't get called during
> category insertion (pre_category_name doesn't seem to be called
> anywhere), but what reason is it? And if there's no reason for it, is
> there a chance that this gets implemented in one of the upcoming
> revisions? Or is there some alternative to accomplish the task of
> getting equally named categories to work?
>
> - Robin
>   
From robin.niemeyer at gmx.net  Fri Apr 10 16:10:23 2009
From: robin.niemeyer at gmx.net (robin niemeyer)
Date: Fri Apr 10 16:10:55 2009
Subject: [wp-hackers] 'same category name'-issue
In-Reply-To: <49DF64B2.5070003@toppa.com>
References: <20090410150802.4B0166C33@comox.textdrive.com>
	<49DF64B2.5070003@toppa.com>
Message-ID: <49DF6F6F.4080605@gmx.net>

Their are three things that are troubling me regarding this solution
(although it works):

- Say you set up a blog not for yourself but for a customer. Even if you
like to, you can't say to him/her: 'In order get things working, mispell
your category so that it is unique, then update it.' This would leave
him/her drawing conclusions with regard both to your skills and the
system you choose you really don't want to let him/her draw.

- As Dylan wrotes would be nice if an added category was validated by
the same rules as an updated one, which is true, but it is also possible
that in a future release updated categories get validated the same way
inserted ones do - which would be somewhat consequent considering the
uniqueness of terms rule.

- It's more a hack than a solution, and it depends on the user's
interaction, not on the underlying logic.

So, all in all this one's not really an option to me (same goes for
using tags instead of categories), not only because of this customer
thing, but mainly because I think this requires a more general approach.

> in the end
> you'll need unique slugs anyway

My fault, I talked about the slug hook only for the sake of
completeness; truth is that the unique slug problem is handled perfectly
well by WordPress itself by prefixing a non-unique slug with its
parent's slug. But WordPress (I'm using 2.7.) still validates against
the category name :-(

- Robin

Michael Toppa schrieb:
> What's wrong with the solution that's presented at the end of the
> support thread you linked to? (having 2 or more categories with the same
> name as long as their slugs are different). No matter what kind of
> abstraction you apply to the parent-child relationships, in the end
> you'll need unique slugs anyway, to maintain flexible permalink options.
> 
> Mike T
> 
>> Date: Fri, 10 Apr 2009 16:47:08 +0200
>> From: robin niemeyer <robin.niemeyer@gmx.net>
>> Subject: [wp-hackers] 'same category name'-issue
>> To: wp-hackers@lists.automattic.com
>> Message-ID: <49DF5BEC.1050007@gmx.net>
>> Content-Type: text/plain; charset=ISO-8859-15
>>
>> Hi all,
>>
>> I know this issue has been posted frequently in the wp support forum,
>> the ticket system etc., but it seems there has been some silence around
>> it since then, although I think it still is a problem to many people
>> (including me).
>>
>> What I mean is the issue that every term has to be unique, and while
>> this makes a lot of sense regarding tags, it has some serious drawbacks
>> when it comes to categories, since this isn't possible right now:
>>
>> -Sheet Music
>> ---Piano
>> ---Violin
>> -Learn to Play
>> ---Piano
>> ---Violin
>>
>> (Example taken from http://wordpress.org/support/topic/177232)
>>
>> The track tickets regarding this issue are tickets #6211 & #5034, both
>> stating WP 2.9 as a milestone for resolving the problem. But since this
>> seems to be a database design/abstraction issue it's not unlikely that
>> it would stay around for a while, if it can't be solved inside the code
>> base itself.
>>
>> Be it as it is, I think there is a desperate need of a workaround,
>> mainly because it should be possible to set up the structure you like
>> (or need) to categorize your content (I think it's best to discuss this
>> under a categories perspective rather than a terms perspective, because
>> as far I can see this is about categories alone, which is why I think
>> it's an abstraction issue).
>>
>> The only solution I could imagine is to call the pre_category_name &
>> pre_category_nicename filter hooks inside wp_insert_category() and the
>> like before any validation testing takes place, so it's left to the
>> developer to act accordingly without breaking the rules (e.g., to prefix
>> the name with some sort of token that could be filtered out in both
>> backend and frontend view while the data itself rests untouched).
>>
>> I think there is a reason that both hooks don't get called during
>> category insertion (pre_category_name doesn't seem to be called
>> anywhere), but what reason is it? And if there's no reason for it, is
>> there a chance that this gets implemented in one of the upcoming
>> revisions? Or is there some alternative to accomplish the task of
>> getting equally named categories to work?
>>
>> - Robin
>>   
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
From r at schestowitz.com  Fri Apr 10 19:23:17 2009
From: r at schestowitz.com (Roy Schestowitz)
Date: Fri Apr 10 18:34:01 2009
Subject: [wp-hackers] WP-Hackers Stats for March 2009
Message-ID: <49DF9CA5.1020005@schestowitz.com>

[better later than never. Happy Easter/spring, everybody. Happy hacking.]

  ?  Times are Greenwich Mean Time (GMT) +0:00

  ?  Statistics span a period of one month

  ?  Subject line formatted consistently "WP-Hackers Stats for <MONTH>
<YEAR>"

  ?  Killfile <subject contains "WP-Hackers Stats for "> if uninterested
____________________________________________________________


Stats for wp-hackers
~~~~~~~~~~~~~~~~~~~~
***** People who have written most messages:
+----+-----Author-----------------------------------+--Msg-+-Percent-+
|  1 | mikeschinkel newclarity.net                  |   43 |  6.69 % |
|  2 | joost yoast.com                              |   40 |  6.22 % |
|  3 | scribu gmail.com                             |   35 |  5.44 % |
|  4 | otto ottodestruct.com                        |   30 |  4.67 % |
|  5 | wp-hackers striderweb.com                    |   19 |  2.95 % |
|  6 | peter.westwood ftwr.co.uk                    |   18 |  2.80 % |
|  7 | wp xentek.net                                |   17 |  2.64 % |
|  8 | simon sweetinteraction.com                   |   15 |  2.33 % |
|  9 | frank bueltge.de                             |   13 |  2.02 % |
| 10 | ozh planetozh.com                            |   11 |  1.71 % |
| 11 | if.website gmail.com                         |   10 |  1.56 % |
| 12 | mdmartz sivel.net                            |   10 |  1.56 % |
| 13 | mylists polite.se                            |    9 |  1.40 % |
| 14 | lynne.pope gmail.com                         |    9 |  1.40 % |
| 15 | heiko.rabe code-styling.de                   |    8 |  1.24 % |
| 16 | yahgrp poplarware.com                        |    8 |  1.24 % |
| 17 | wordpress santosj.name                       |    8 |  1.24 % |
| 18 | zamoose gmail.com                            |    8 |  1.24 % |
| 19 | peter avirtualhome.com                       |    8 |  1.24 % |
| 20 | beau dentedreality.com.au                    |    8 |  1.24 % |
| 21 | arunoda mit2007.com                          |    8 |  1.24 % |
| 22 | johnbillion+wp gmail.com                     |    7 |  1.09 % |
| 23 | gaarai gaarai.com                            |    7 |  1.09 % |
| 24 | ncrice gmail.com                             |    7 |  1.09 % |
| 25 | mike zed1.com                                |    7 |  1.09 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  280 | 43.55 % |
+----+----------------------------------------------+------+---------+

***** Best authors, by total size of their messages (w/o quoting):
+----+-----Author-------------------------------------------+-KBytes-+
|  1 | mikeschinkel newclarity.net                          |   61.0 |
|  2 | otto ottodestruct.com                                |   22.6 |
|  3 | joost yoast.com                                      |   22.5 |
|  4 | wp-hackers striderweb.com                            |   17.6 |
|  5 | scribu gmail.com                                     |   15.5 |
|  6 | peter.westwood ftwr.co.uk                            |   14.7 |
|  7 | john poolstudent.com                                 |   14.0 |
|  8 | wordpress santosj.name                               |   13.4 |
|  9 | simon sweetinteraction.com                           |   10.5 |
| 10 | heiko.rabe code-styling.de                           |    9.0 |
| 11 | wp xentek.net                                        |    8.5 |
| 12 | liste srpski.biz                                     |    7.7 |
| 13 | lynne.pope gmail.com                                 |    7.6 |
| 14 | mike zed1.com                                        |    7.6 |
| 15 | frank bueltge.de                                     |    7.4 |
| 16 | beau dentedreality.com.au                            |    7.3 |
| 17 | peter avirtualhome.com                               |    7.2 |
| 18 | marteki gmail.com                                    |    6.9 |
| 19 | esvidy gmail.com                                     |    6.9 |
| 20 | arunoda mit2007.com                                  |    6.5 |
| 21 | gaarai gaarai.com                                    |    6.4 |
| 22 | yahgrp poplarware.com                                |    6.4 |
| 23 | zamoose gmail.com                                    |    6.4 |
| 24 | mdmartz sivel.net                                    |    6.2 |
| 25 | ncrice gmail.com                                     |    5.9 |
+----+------------------------------------------------------+--------+

***** Best authors, by average size of their message (w/o quoting):
+----+-----Author--------------------------------------------+-bytes-+
|  1 | alex.cologne googlemail.com                           |  4259 |
|  2 | marteki gmail.com                                     |  3557 |
|  3 | Gerhard.Brauckmann mi-verlag.de                       |  3490 |
|  4 | blaiserino gmail.com                                  |  3410 |
|  5 | garyc40 garyc40.com                                   |  3410 |
|  6 | john poolstudent.com                                  |  2857 |
|  7 | liste srpski.biz                                      |  2616 |
|  8 | ninadsp16289 gmail.com                                |  2377 |
|  9 | esvidy gmail.com                                      |  2352 |
| 10 | flo.thiel+wphackers googlemail.com                    |  2241 |
| 11 | takeshiyoung gmail.com                                |  2054 |
| 12 | barry barrycarlyon.co.uk                              |  2045 |
| 13 | andre pixelplexus.co.za                               |  1794 |
| 14 | wordpress santosj.name                                |  1718 |
| 15 | matt sivel.net                                        |  1650 |
| 16 | Jesse.Silverstein xerox.com                           |  1538 |
| 17 | g30rg3x gmail.com                                     |  1485 |
| 18 | mikeschinkel newclarity.net                           |  1452 |
| 19 | svansintjan gmail.com                                 |  1395 |
| 20 | scompt scompt.com                                     |  1368 |
| 21 | jeremy.visser gmail.com                               |  1287 |
| 22 | ajaydsouza gmail.com                                  |  1275 |
| 23 | dougal gunters.org                                    |  1245 |
| 24 | technocraze gmail.com                                 |  1202 |
| 25 | sayhitoshashank gmail.com                             |  1200 |
+----+-------------------------------------------------------+-------+

***** Table showing the most successful subjects:
+----+----Subject-----------------------------------+--Msg-+-Percent-+
|  1 | [wp-hackers] Hacked blogs                    |   41 |  6.38 % |
|  2 | [wp-hackers] Should Monthly Archive Pages ev |   38 |  5.91 % |
|  3 | [wp-hackers] Advertising on plugin pages     |   34 |  5.29 % |
|  4 | [wp-hackers] Inclusion of TimThumb -- anyone |   17 |  2.64 % |
|  5 | [wp-hackers] EXIF geo data                   |   14 |  2.18 % |
|  6 | [wp-hackers] Fast WordPress Function and Tem |   14 |  2.18 % |
|  7 | [wp-hackers] Good tools for deployment.      |   13 |  2.02 % |
|  8 | [wp-hackers] Front End Performance in WordPr |   13 |  2.02 % |
|  9 | [wp-hackers] Hiding Child's Template Theme   |   13 |  2.02 % |
| 10 | [wp-hackers] Quantity of Queries - Performan |   11 |  1.71 % |
| 11 | [wp-hackers] Security: username as class in  |   10 |  1.56 % |
| 12 | [wp-hackers] Plugin Version Control & Source |   10 |  1.56 % |
| 13 | [wp-hackers] GSoC 2009 Proposal: Wordpress C |   10 |  1.56 % |
| 14 | [wp-hackers] Different languages in the admi |    9 |  1.40 % |
| 15 | [wp-hackers] Thanks for being a part of my l |    9 |  1.40 % |
| 16 | [wp-hackers] Plugin Author Best Practices?   |    9 |  1.40 % |
| 17 | [wp-hackers] Upload directory constant       |    9 |  1.40 % |
| 18 | [wp-hackers] Re: Front-end Editting          |    9 |  1.40 % |
| 19 | [wp-hackers] Single Sign-on                  |    8 |  1.24 % |
| 20 | [wp-hackers] WPMU vs. multiple instances of  |    8 |  1.24 % |
| 21 | [wp-hackers] the right hook for custom conte |    8 |  1.24 % |
| 22 | [wp-hackers] Making money from GPL plugin de |    7 |  1.09 % |
| 23 | [wp-hackers] Dispay none for different categ |    7 |  1.09 % |
| 24 | [wp-hackers] Helping international users by  |    7 |  1.09 % |
| 25 | [wp-hackers] Uneasy over the Walkers         |    7 |  1.09 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  308 | 47.90 % |
+----+----------------------------------------------+------+---------+

***** Most used email clients:
+----+----Mailer------------------------------------+--Msg-+-Percent-+
|  1 | Google Mail/Other                            |  341 | 53.03 % |
|  2 | Apple Mail (2.930.3)                         |   93 | 14.46 % |
|  3 | Zimbra 5.0.13_GA_2791.RHEL5_64               |   29 |  4.51 % |
|  4 | Thunderbird 2.0.0.19 (Windows/20081209)      |   20 |  3.11 % |
|  5 | Postbox 1.0b9 (Macintosh/2009030821)         |   17 |  2.64 % |
|  6 | Thunderbird 2.0.0.21 (Windows/20090302)      |   15 |  2.33 % |
|  7 | iPhone Mail (5H11)                           |   13 |  2.02 % |
|  8 | Zimbra 5.0.13_GA_2791.RHEL5_64 (Yahoo! Zimbr |   12 |  1.87 % |
|  9 | Mozilla/5.x                                  |   10 |  1.56 % |
| 10 | Thunderbird 2.0.0.21 (X11/20090318)          |   10 |  1.56 % |
| 11 | Mutt                                         |    9 |  1.40 % |
| 12 | Thunderbird 2.0.0.12 (Windows/20080213)      |    8 |  1.24 % |
| 13 | Claws Mail 3.7.1 (GTK+ 2.14.4; i486-pc-linux |    7 |  1.09 % |
| 14 | Postbox 1.0b10 (Macintosh/2009032619)        |    7 |  1.09 % |
| 15 | YahooMailClassic/5.1.20 YahooMailWebService/ |    6 |  0.93 % |
| 16 | Microsoft Office Outlook 11                  |    5 |  0.78 % |
| 17 | Thunderbird 2.0.0.21 (Macintosh/20090302)    |    5 |  0.78 % |
| 18 | Lotus Notes Release 7.0                      |    4 |  0.62 % |
| 19 | Microsoft Outlook                            |    4 |  0.62 % |
| 20 | Thunderbird 2.0.0.19 (X11/20090105)          |    3 |  0.47 % |
| 21 | Microsoft Office Outlook 12.0                |    3 |  0.47 % |
| 22 | Postbox 1.0b9 (Windows/2009030821)           |    2 |  0.31 % |
| 23 | Thunderbird 2.0.0.19 (Macintosh/20081209)    |    2 |  0.31 % |
| 24 | Zimbra 5.0.10_GA_2638.RHEL5_64 (Yahoo! Zimbr |    1 |  0.16 % |
| 25 | Zimbra 5.0.10_GA_2638.RHEL5_64               |    1 |  0.16 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |   16 |  2.49 % |
+----+----------------------------------------------+------+---------+

***** Table of maximal quoting:
+----+-----Author------------------------------------------+-Percent-+
|  1 | regulatethis gmail.com                              | 84.21 % |
|  2 | paul codehooligans.com                              | 80.37 % |
|  3 | bathanh gmail.com                                   | 79.27 % |
|  4 | ron cavemonkey50.com                                | 77.10 % |
|  5 | glenn glennansley.com                               | 76.17 % |
|  6 | chris clwill.com                                    | 74.81 % |
|  7 | geniosity gmail.com                                 | 73.53 % |
|  8 | pt ptahd.com                                        | 71.46 % |
|  9 | somani.mayur gmail.com                              | 71.22 % |
| 10 | talkout gmail.com                                   | 68.41 % |
| 11 | heiko.rabe code-styling.de                          | 67.46 % |
| 12 | piemanek gmail.com                                  | 66.43 % |
| 13 | joost yoast.com                                     | 65.48 % |
| 14 | jason intraffic.net                                 | 65.24 % |
| 15 | ksolomon gmail.com                                  | 65.12 % |
| 16 | skorpland gmail.com                                 | 65.03 % |
| 17 | kparsell-wp kpdesign.net                            | 63.14 % |
| 18 | brian nerdlife.net                                  | 63.10 % |
| 19 | night815 gmail.com                                  | 63.07 % |
| 20 | sojweb indiana.edu                                  | 62.46 % |
| 21 | navjotjsingh gmail.com                              | 61.99 % |
| 22 | scribu gmail.com                                    | 61.86 % |
| 23 | gaarai gaarai.com                                   | 61.06 % |
| 24 | ncrice gmail.com                                    | 60.76 % |
| 25 | otto ottodestruct.com                               | 60.66 % |
+----+-----------------------------------------------------+---------+
|    | average                                             | 44.08 % |
+----+-----------------------------------------------------+---------+

***** Graph showing number of messages written during hours of day:

100% -----------------------------#------------------- - 53
 90% ---------------------#-------#------------------- msgs
 80% ---------------------#-------#---#---------------
 70% ---------------------#-#-#---#---#-#-------------
 60% -------------------#-#-#-#-#-#-#-#-#-------------
 50% -------------------#-#-#-#-#-#-#-#-#-#-----#-#---
 40% ---------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 30% -#-------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 20% -#-#---------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 10% -#-#-#---#---#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * *
hour  0         5           11          17          23


***** Graph showing number of messages written during days of month:

100% -----------------------------------------------------------#--- - 65
 90% -----------------------------------------------------------#--- msgs
 80% ---#-----------------------------------------------#-------#---
 70% ---#-----------------------------------------------#-------#---
 60% -#-#-----------------------------------------------#-------#---
 50% -#-#-------------#---------------------------------#-------#---
 40% -#-#-------------#---#-----------#---#-------------#-#-#---#---
 30% -#-#-------------#---#-----------#---#-#-----------#-#-#---#---
 20% -#-#-----#-#-----#-#-#-#-------#-#-#-#-#-----#-#-#-#-#-#-#-#-#-
 10% -#-#-#-#-#-#-----#-#-#-#-------#-#-#-#-#-#---#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 day  1         6           12          18          24            31


***** Graph showing number of messages written during days of week:

100% -#--------------------------- - 186
 90% -#--------------------------- msgs
 80% -#---------------------------
 70% -#---------------------------
 60% -#-----------#---------------
 50% -#---#-------#---------------
 40% -#---#---#---#---------------
 30% -#---#---#---#---#-------#---
 20% -#---#---#---#---#---#---#---
 10% -#---#---#---#---#---#---#---
      *   *   *   *   *   *   *
     Mon Tue Wed Thu Fri Sat Sun


***** Maximal quoting:
      Author     : scribu gmail.com
      Subject    : [wp-hackers] Strider Core plugin framework
      Date       : Wed, 18 Mar 2009 08:33:10 +0200
      Quote ratio: 94.96% / 6765 bytes

***** Longest message:
      Author     : john poolstudent.com
      Subject    : [wp-hackers] Front End Performance in WordPress
      Date       : Mon, 23 Mar 2009 23:45:47 -0400
      Size       : 9954 bytes

***** Most successful subject:
      Subject    : [wp-hackers] Hacked blogs
      No. of msgs: 41
      Total size : 56926 bytes

***** Final summary:
      Total number of messages:             643
      Total number of different authors:    154
      Total number of different subjects:   154
      Total size of messages (w/o headers): 983097 bytes
      Average size of a message:            1528 bytes

***** Generated by MailListStat v1.3, (C) 2001-2003 <marki (at) nexin.sk>
***** See http://freshmeat.net/projects/mls for details...

DISCLAIMER: Stats automatically produced. Remember that stats are often
meaningless and deceiving.
From mikeschinkel at newclarity.net  Fri Apr 10 19:14:19 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Apr 10 19:16:55 2009
Subject: [wp-hackers] 'same category name'-issue
In-Reply-To: <30155532.141239390630808.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl39EEJa4b58593710f8b54e5eae0,
	mikeschinkel@newclarity.net, 8454385.181239390857134.J>

I agree, the requirement for globally-unique category slugs is a too unfortunately design decision on the part of WordPress' architecture.  If it is going to be corrected in v2.9, I applaud that.

I also agree that the workaround to have to rename categories is a focus on what's best for the programmer and not what's best for the user which, as far as I understand, violates the WordPress' principle of "User First."
 
-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

----- Original Message -----
From: "robin niemeyer" <robin.niemeyer@gmx.net>
To: wp-hackers@lists.automattic.com
Sent: Friday, April 10, 2009 12:10:23 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] 'same category name'-issue

Their are three things that are troubling me regarding this solution
(although it works):

- Say you set up a blog not for yourself but for a customer. Even if you
like to, you can't say to him/her: 'In order get things working, mispell
your category so that it is unique, then update it.' This would leave
him/her drawing conclusions with regard both to your skills and the
system you choose you really don't want to let him/her draw.

- As Dylan wrotes would be nice if an added category was validated by
the same rules as an updated one, which is true, but it is also possible
that in a future release updated categories get validated the same way
inserted ones do - which would be somewhat consequent considering the
uniqueness of terms rule.

- It's more a hack than a solution, and it depends on the user's
interaction, not on the underlying logic.

So, all in all this one's not really an option to me (same goes for
using tags instead of categories), not only because of this customer
thing, but mainly because I think this requires a more general approach.

> in the end
> you'll need unique slugs anyway

My fault, I talked about the slug hook only for the sake of
completeness; truth is that the unique slug problem is handled perfectly
well by WordPress itself by prefixing a non-unique slug with its
parent's slug. But WordPress (I'm using 2.7.) still validates against
the category name :-(

- Robin

Michael Toppa schrieb:
> What's wrong with the solution that's presented at the end of the
> support thread you linked to? (having 2 or more categories with the same
> name as long as their slugs are different). No matter what kind of
> abstraction you apply to the parent-child relationships, in the end
> you'll need unique slugs anyway, to maintain flexible permalink options.
> 
> Mike T
> 
>> Date: Fri, 10 Apr 2009 16:47:08 +0200
>> From: robin niemeyer <robin.niemeyer@gmx.net>
>> Subject: [wp-hackers] 'same category name'-issue
>> To: wp-hackers@lists.automattic.com
>> Message-ID: <49DF5BEC.1050007@gmx.net>
>> Content-Type: text/plain; charset=ISO-8859-15
>>
>> Hi all,
>>
>> I know this issue has been posted frequently in the wp support forum,
>> the ticket system etc., but it seems there has been some silence around
>> it since then, although I think it still is a problem to many people
>> (including me).
>>
>> What I mean is the issue that every term has to be unique, and while
>> this makes a lot of sense regarding tags, it has some serious drawbacks
>> when it comes to categories, since this isn't possible right now:
>>
>> -Sheet Music
>> ---Piano
>> ---Violin
>> -Learn to Play
>> ---Piano
>> ---Violin
>>
>> (Example taken from http://wordpress.org/support/topic/177232)
>>
>> The track tickets regarding this issue are tickets #6211 & #5034, both
>> stating WP 2.9 as a milestone for resolving the problem. But since this
>> seems to be a database design/abstraction issue it's not unlikely that
>> it would stay around for a while, if it can't be solved inside the code
>> base itself.
>>
>> Be it as it is, I think there is a desperate need of a workaround,
>> mainly because it should be possible to set up the structure you like
>> (or need) to categorize your content (I think it's best to discuss this
>> under a categories perspective rather than a terms perspective, because
>> as far I can see this is about categories alone, which is why I think
>> it's an abstraction issue).
>>
>> The only solution I could imagine is to call the pre_category_name &
>> pre_category_nicename filter hooks inside wp_insert_category() and the
>> like before any validation testing takes place, so it's left to the
>> developer to act accordingly without breaking the rules (e.g., to prefix
>> the name with some sort of token that could be filtered out in both
>> backend and frontend view while the data itself rests untouched).
>>
>> I think there is a reason that both hooks don't get called during
>> category insertion (pre_category_name doesn't seem to be called
>> anywhere), but what reason is it? And if there's no reason for it, is
>> there a chance that this gets implemented in one of the upcoming
>> revisions? Or is there some alternative to accomplish the task of
>> getting equally named categories to work?
>>
>> - Robin
>>   
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From ryan at boren.nu  Fri Apr 10 21:01:14 2009
From: ryan at boren.nu (Ryan Boren)
Date: Fri Apr 10 21:01:28 2009
Subject: [wp-hackers] 'same category name'-issue
In-Reply-To: <49DF5BEC.1050007@gmx.net>
References: <49DF5BEC.1050007@gmx.net>
Message-ID: <c8f37c930904101401n2f6ab906sb4cea825b90fcdc6@mail.gmail.com>

On Fri, Apr 10, 2009 at 7:47 AM, robin niemeyer <robin.niemeyer@gmx.net> wrote:
> Hi all,
>
> I know this issue has been posted frequently in the wp support forum,
> the ticket system etc., but it seems there has been some silence around
> it since then, although I think it still is a problem to many people
> (including me).
>
> What I mean is the issue that every term has to be unique, and while
> this makes a lot of sense regarding tags, it has some serious drawbacks
> when it comes to categories, since this isn't possible right now:
>
> -Sheet Music
> ---Piano
> ---Violin
> -Learn to Play
> ---Piano
> ---Violin
>
> (Example taken from http://wordpress.org/support/topic/177232)

Fix for trunk here: http://core.trac.wordpress.org/changeset/10905

This was caused by an over restrictive check added to the ajax handler
for category adds.  When adding cats, the parent should be taken into
account when determining if a cat already exists.
From mikeschinkel at newclarity.net  Sat Apr 11 02:49:50 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat Apr 11 02:50:10 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <161617690904090945w7700e0bdk287d948207edc04f@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl39Lnp8a1dd76bb75d1d83d91720,
	mikeschinkel@newclarity.net, 7131452.431239418189498.J>

Otto:
> It's not about causing "harm". It's about "why bother?" 
> None of the scenarios you present make the slightest 
> bit of sense. ... The solution you proposed, frankly, 
> sucks. It causes a lot of loading of PHP files and 
> processing and so on that is pretty pointless if you
> don't execute the main query. That's the reason for 
> the pushback you're getting. Your idea simply makes no 
> reasonable sense.

I took a deep breath and have waited a while before I responded. Your assertion that my concerns "don't make any sense" are both condescending and more than a little bit insulting. What's more your responses are seriously demotivating me regarding contributing to the WordPress community at large.

Like the proverbial blind man[1] who demands that the only possibly explanation of an elephant is that it is like a snake (and not a wall or a trunk, or anything else) you deny that there are any valid use-cases for WordPress besides ones that you've envisioned or experienced. And your unwillingness to accommodate other's views and needs when they don't affect you in any way is like someone advocating a ban on bicycles in national forests simply because you only care to spend your time fly fishing there. I would expect such behavior from an ideological politician, not from a community participating programmer.

If your goal was to stifle any reasoned and respectful debate on changes to core then congratulations, you won.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins
[1] http://en.wikipedia.org/wiki/Blind_Men_and_an_Elephant
From sojweb at indiana.edu  Sat Apr 11 03:21:52 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Sat Apr 11 03:22:19 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <EMEWEMEW2_DELIMl39Lnp8a1dd76bb75d1d83d91720,
	mikeschinkel@newclarity.net, 7131452.431239418189498.J>
References: <EMEWEMEW2_DELIMl39Lnp8a1dd76bb75d1d83d91720,
	mikeschinkel@newclarity.net, 7131452.431239418189498.J>
Message-ID: <58D53F08-5276-45F9-A26A-22B78CF72C7A@indiana.edu>

Mike, you asked for opinions, and you got them. Instead of taking it  
in stride like an adult, you adopt some holier-than-thou tone and tell  
people, who are trying in good faith to contribute to a discussion,  
why they are idiots. Over and over. And then you wonder why they get  
pissy. And then this:

> I would expect such behavior from an ideological politician, not  
> from a community participating programmer.

Do you have any idea how insulting that sounds? Helpful hint for the  
future: if you want people to take you seriously, don't treat them  
like misbehaving three year olds.


-Jeff


On Apr 10, 2009, at 10:49 PM, Mike Schinkel wrote:

> Otto:
>> It's not about causing "harm". It's about "why bother?"
>> None of the scenarios you present make the slightest
>> bit of sense. ... The solution you proposed, frankly,
>> sucks. It causes a lot of loading of PHP files and
>> processing and so on that is pretty pointless if you
>> don't execute the main query. That's the reason for
>> the pushback you're getting. Your idea simply makes no
>> reasonable sense.
>
> I took a deep breath and have waited a while before I responded.  
> Your assertion that my concerns "don't make any sense" are both  
> condescending and more than a little bit insulting. What's more your  
> responses are seriously demotivating me regarding contributing to  
> the WordPress community at large.
>
> Like the proverbial blind man[1] who demands that the only possibly  
> explanation of an elephant is that it is like a snake (and not a  
> wall or a trunk, or anything else) you deny that there are any valid  
> use-cases for WordPress besides ones that you've envisioned or  
> experienced. And your unwillingness to accommodate other's views and  
> needs when they don't affect you in any way is like someone  
> advocating a ban on bicycles in national forests simply because you  
> only care to spend your time fly fishing there. I would expect such  
> behavior from an ideological politician, not from a community  
> participating programmer.
>
> If your goal was to stifle any reasoned and respectful debate on  
> changes to core then congratulations, you won.
>
> -Mike Schinkel
> Custom Wordpress Plugins
> http://mikeschinkel.com/custom-wordpress-plugins
> [1] http://en.wikipedia.org/wiki/Blind_Men_and_an_Elephant
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Sat Apr 11 03:54:20 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat Apr 11 03:54:46 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <58D53F08-5276-45F9-A26A-22B78CF72C7A@indiana.edu>
Message-ID: <EMEWEMEW2_DELIMl39MsKcb8deedd3ff79f3a615be8,
	mikeschinkel@newclarity.net, 16085278.641239422057672.J>

> you adopt some holier-than-thou tone and tell people, 
> who are trying in good faith to contribute to a discussion,  
> why they are idiots. 

I argued my case for my needs, based on my development experience; I never claimed anyone was an idiot and I resent that you state that.

OTOH, you argued repeatedly against my requests even though you never explained how meeting my requests could affect you negatively in the least.

> Do you have any idea how insulting that sounds? Helpful hint 
> for the  future: if you want people to take you seriously, 
> don't treat them like misbehaving three year olds.

Do you have any idea how insulting it is to be told in the same email that "None of the scenarios you present make the slightest bit of sense", "The solution you proposed, frankly, sucks" and "Your idea simply makes no reasonable sense?"  If you want to reduce the insult level here my helpful hint to you is to not choose to ignore the insults that come from those who you agree with and attack those whose opinions you don't agree with.  I'm happy to be completely respectful, but only when respect is afforded me as well.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins
From Jesse.Silverstein at xerox.com  Sat Apr 11 04:03:49 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Sat Apr 11 04:12:49 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <EMEWEMEW2_DELIMl39MsKcb8deedd3ff79f3a615be8,
	mikeschinkel@newclarity.net, A16085278.641239422057672.J>
References: <58D53F08-5276-45F9-A26A-22B78CF72C7A@indiana.edu>
	<EMEWEMEW2_DELIMl39MsKcb8deedd3ff79f3a615be8,
	mikeschinkel@newclarity.net, A16085278.641239422057672.J>
Message-ID: <F25F2C8DE17FB546A90DB3CF77461427062F4BCA@USA0300MS04.na.xerox.net>

On a lighter note along this subject ...

Any chance of being able to extract the database constants from wp-config without loading wp-settings? There are plenty of obvious reasons a plugin would need to access the same database, and not load all of WordPress (as many core developers have adamantly asserted in this chain). Or should I resort to reading in the file line by line and parsing out the information I want?
From ncrice at gmail.com  Sat Apr 11 04:21:21 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Sat Apr 11 04:21:34 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <-9193806291406822817@unknownmsgid>
References: <58D53F08-5276-45F9-A26A-22B78CF72C7A@indiana.edu>
	<-9193806291406822817@unknownmsgid>
Message-ID: <862d087f0904102121t50f10aa3ra41a79b0b2b65430@mail.gmail.com>

I have a lot of respect for Otto and what he does for the community. I mean
a LOT of respect.

With that said, in this case, and in many others, he does routinely cross
over from "strong but polite disagreement" to "insulting ridicule".

Personally, if I asked HOW to do something, I wouldn't typically expect to
be told how stupid I was for wanting to do that particular something. If you
know how to do it, just tell me how, and move on. This thread is 30+ emails
long, and he still doesn't have an answer. You've spent more time arguing
about the "why" than it would have taken to just tell him the "how".

Just my $0.02

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Fri, Apr 10, 2009 at 11:54 PM, Mike Schinkel <mikeschinkel@newclarity.net
> wrote:

> > you adopt some holier-than-thou tone and tell people,
> > who are trying in good faith to contribute to a discussion,
> > why they are idiots.
> ,
> I argued my case for my needs, based on my development experience; I never
> claimed anyone was an idiot and I resent that you state that.
>
> OTOH, you argued repeatedly against my requests even though you never
> explained how meeting my requests could affect you negatively in the least.
>
> > Do you have any idea how insulting that sounds? Helpful hint
> > for the  future: if you want people to take you seriously,
> > don't treat them like misbehaving three year olds.
>
> Do you have any idea how insulting it is to be told in the same email that
> "None of the scenarios you present make the slightest bit of sense", "The
> solution you proposed, frankly, sucks" and "Your idea simply makes no
> reasonable sense?"  If you want to reduce the insult level here my helpful
> hint to you is to not choose to ignore the insults that come from those who
> you agree with and attack those whose opinions you don't agree with.  I'm
> happy to be completely respectful, but only when respect is afforded me as
> well.
>
> -Mike Schinkel
> Custom Wordpress Plugins
> http://mikeschinkel.com/custom-wordpress-plugins
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ncrice at gmail.com  Sat Apr 11 04:23:18 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Sat Apr 11 04:23:32 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <F25F2C8DE17FB546A90DB3CF77461427062F4BCA@USA0300MS04.na.xerox.net>
References: <58D53F08-5276-45F9-A26A-22B78CF72C7A@indiana.edu>
	<F25F2C8DE17FB546A90DB3CF77461427062F4BCA@USA0300MS04.na.xerox.net>
Message-ID: <862d087f0904102123r49866e4dx1da9d5da3940283e@mail.gmail.com>

I have a lot of respect for Otto and what he does for the community. I mean
a LOT of respect.

With that said, in this case, and in many others, he does routinely cross
over from "strong but polite disagreement" to "insulting ridicule".

Personally, if I asked HOW to do something, I wouldn't typically expect to
be told how stupid I was for wanting to do that particular something. If you
know how to do it, just tell me how, and move on. This thread is 30+ emails
long, and he still doesn't have an answer. You've spent more time arguing
about the "why" than it would have taken to just tell him the "how". How
does that make any sense?

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Sat, Apr 11, 2009 at 12:03 AM, Silverstein, Jesse <
Jesse.Silverstein@xerox.com> wrote:

> On a lighter note along this subject ...
>
> Any chance of being able to extract the database constants from wp-config
> without loading wp-settings? There are plenty of obvious reasons a plugin
> would need to access the same database, and not load all of WordPress (as
> many core developers have adamantly asserted in this chain). Or should I
> resort to reading in the file line by line and parsing out the information I
> want?
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
From daya at meyshan.com  Sat Apr 11 04:24:24 2009
From: daya at meyshan.com (Dayaparan P)
Date: Sat Apr 11 04:24:58 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <862d087f0904102121t50f10aa3ra41a79b0b2b65430@mail.gmail.com>
References: <58D53F08-5276-45F9-A26A-22B78CF72C7A@indiana.edu> 
	<-9193806291406822817@unknownmsgid>
	<862d087f0904102121t50f10aa3ra41a79b0b2b65430@mail.gmail.com>
Message-ID: <e50d103b0904102124w3053e360s9f094d1efbd2b01c@mail.gmail.com>

i guess, you guys, now better stop spamming others mails. regards daya



On Sat, Apr 11, 2009 at 9:51 AM, Nathan Rice <ncrice@gmail.com> wrote:

> I have a lot of respect for Otto and what he does for the community. I mean
> a LOT of respect.
>
> With that said, in this case, and in many others, he does routinely cross
> over from "strong but polite disagreement" to "insulting ridicule".
>
> Personally, if I asked HOW to do something, I wouldn't typically expect to
> be told how stupid I was for wanting to do that particular something. If
> you
> know how to do it, just tell me how, and move on. This thread is 30+ emails
> long, and he still doesn't have an answer. You've spent more time arguing
> about the "why" than it would have taken to just tell him the "how".
>
> Just my $0.02
>
> My Website
> http://www.nathanrice.net/
>
> My Twitter
> http://twitter.com/nathanrice
>
>
> On Fri, Apr 10, 2009 at 11:54 PM, Mike Schinkel <
> mikeschinkel@newclarity.net
> > wrote:
>
> > > you adopt some holier-than-thou tone and tell people,
> > > who are trying in good faith to contribute to a discussion,
> > > why they are idiots.
> > ,
> > I argued my case for my needs, based on my development experience; I
> never
> > claimed anyone was an idiot and I resent that you state that.
> >
> > OTOH, you argued repeatedly against my requests even though you never
> > explained how meeting my requests could affect you negatively in the
> least.
> >
> > > Do you have any idea how insulting that sounds? Helpful hint
> > > for the  future: if you want people to take you seriously,
> > > don't treat them like misbehaving three year olds.
> >
> > Do you have any idea how insulting it is to be told in the same email
> that
> > "None of the scenarios you present make the slightest bit of sense", "The
> > solution you proposed, frankly, sucks" and "Your idea simply makes no
> > reasonable sense?"  If you want to reduce the insult level here my
> helpful
> > hint to you is to not choose to ignore the insults that come from those
> who
> > you agree with and attack those whose opinions you don't agree with.  I'm
> > happy to be completely respectful, but only when respect is afforded me
> as
> > well.
> >
> > -Mike Schinkel
> > Custom Wordpress Plugins
> > http://mikeschinkel.com/custom-wordpress-plugins
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Please Consider Your Environmental Responsibility, Before Printing This
Document

*******************************************************************
Disclaimer
This email transmission is confidential and intended solely for the person
or organization to whom it is addressed. If you are not the intended
recipient, you must not copy, distribute or disseminate the information, or
take any action in reliance of it. Any views expressed in this message are
those of the individual sender, except where the sender specifically states
them to be the views of any organization or employer. If you have received
this message in error, do not open any attachment but please notify the
sender (above) deleting this message from your system. Please rely on your
own virus check no responsibility is taken by the sender for any damage
arising out of any bug or virus infection.

*******************************************************************
From lists at mostrom.pp.se  Sat Apr 11 06:18:38 2009
From: lists at mostrom.pp.se (=?UTF-8?Q?Ja=6E_E=72ik_M=6Fs=74=72=C3=B6?= =?UTF-8?Q?m?=)
Date: Sat Apr 11 06:18:57 2009
Subject: [wp-hackers] Newbie Q - accessing different image sizes
Message-ID: <r267Ps-1056i-ACEA61023B2747C1AB5126C3E078C30C@Infinitum.lan>

I'm pretty new to writing wp plugins so I might be missing 
something obvious, I've been looking at the API docs but it 
feels like I'm missing some understanding of how things works.

I want to write a plugin that converts some custom tags to HTML.
In the posts there are custom tags that contains the relative 
path to an image, that is 
"wp-content/uploads/2009/04/p1010127.jpg", I want to write a 
plugin that takes this path and spits out some HTML.

My problem is that I can't figure out how to check what 
different sizes this image comes in. I would for example like to 
get the URLs and dimensions of the medium and large version but 
I have no idea on how to do that.

I looked at the attachment functions which seem to do these 
things but I don't really understand how I get from that path to 
an attachment ID (or if this is the way to it).

I would appreciate some hints on how to do this.

                             jem
-- 
Jan Erik Mostr?m, http://mostrom.eu

From scribu at gmail.com  Sat Apr 11 07:11:46 2009
From: scribu at gmail.com (scribu)
Date: Sat Apr 11 07:12:00 2009
Subject: [wp-hackers] Newbie Q - accessing different image sizes
In-Reply-To: <r267Ps-1056i-ACEA61023B2747C1AB5126C3E078C30C@Infinitum.lan>
References: <r267Ps-1056i-ACEA61023B2747C1AB5126C3E078C30C@Infinitum.lan>
Message-ID: <349fe48b0904110011y2e00de27m83f238735b6ae682@mail.gmail.com>

For the intermediate sizes, see wp_get_attachment_metadata(). For the
URLs, see image_get_intermediate_size().

-- 
http://scribu.net
From lists at mostrom.pp.se  Sat Apr 11 08:06:38 2009
From: lists at mostrom.pp.se (=?UTF-8?Q?Ja=6E_E=72ik_M=6Fs=74=72=C3=B6?= =?UTF-8?Q?m?=)
Date: Sat Apr 11 08:06:56 2009
Subject: [wp-hackers] Newbie Q - accessing different image sizes
In-Reply-To: <349fe48b0904110011y2e00de27m83f238735b6ae682@mail.gmail.com>
Message-ID: <r267Ps-1056i-D807E229A33A4C7AB017AB76BCB381FD@Infinitum.lan>

On 09-04-11 at 09.11, scribu <scribu@gmail.com> wrote:

>For the intermediate sizes, see wp_get_attachment_metadata(). For the
>URLs, see image_get_intermediate_size().

Thanks, a follow-up question

wp_get_attachment_metadata() requires an ID but I don't 
understand how I can go from the url to the ID. Is there some 
way of doing this translation?

I think this is where I'm missing something.

             jem
-- 
Jan Erik Mostr?m, http://mostrom.eu

From jcanals at alkivia.com  Sat Apr 11 08:35:16 2009
From: jcanals at alkivia.com (Jordi Canals)
Date: Sat Apr 11 08:35:33 2009
Subject: [wp-hackers] Newbie Q - accessing different image sizes
In-Reply-To: <r267Ps-1056i-D807E229A33A4C7AB017AB76BCB381FD@Infinitum.lan>
References: <349fe48b0904110011y2e00de27m83f238735b6ae682@mail.gmail.com>
	<r267Ps-1056i-D807E229A33A4C7AB017AB76BCB381FD@Infinitum.lan>
Message-ID: <394db23a0904110135v174f9f7ar7a431d218b15f23c@mail.gmail.com>

2009/4/11 Jan Erik Mostr? <lists@mostrom.pp.se>:
> On 09-04-11 at 09.11, scribu <scribu@gmail.com> wrote:
>
>> For the intermediate sizes, see wp_get_attachment_metadata(). For the
>> URLs, see image_get_intermediate_size().
>
> Thanks, a follow-up question
>
> wp_get_attachment_metadata() requires an ID but I don't understand how I can
> go from the url to the ID. Is there some way of doing this translation?
>
> I think this is where I'm missing something.
>
> ? ? ? ? ? ?jem
> --
> Jan Erik Mostr?m, http://mostrom.eu
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


To get the post atachements (images) see get_children().
http://codex.wordpress.org/Function_Reference/get_children
-- 
Jordi Canals [Txanny]
http://alkivia.org
From scribu at gmail.com  Sat Apr 11 08:43:03 2009
From: scribu at gmail.com (scribu)
Date: Sat Apr 11 08:43:19 2009
Subject: [wp-hackers] Newbie Q - accessing different image sizes
In-Reply-To: <394db23a0904110135v174f9f7ar7a431d218b15f23c@mail.gmail.com>
References: <349fe48b0904110011y2e00de27m83f238735b6ae682@mail.gmail.com>
	<r267Ps-1056i-D807E229A33A4C7AB017AB76BCB381FD@Infinitum.lan>
	<394db23a0904110135v174f9f7ar7a431d218b15f23c@mail.gmail.com>
Message-ID: <349fe48b0904110143y326b3394m604d591b5bd699e6@mail.gmail.com>

Jan, maybe you should describe what you're trying to do, so that we
have a broader picture.


-- 
http://scribu.net
From lists at mostrom.pp.se  Sat Apr 11 10:01:18 2009
From: lists at mostrom.pp.se (=?UTF-8?Q?Ja=6E_E=72ik_M=6Fs=74=72=C3=B6?= =?UTF-8?Q?m?=)
Date: Sat Apr 11 10:01:35 2009
Subject: [wp-hackers] Newbie Q - accessing different image sizes
In-Reply-To: <349fe48b0904110143y326b3394m604d591b5bd699e6@mail.gmail.com>
Message-ID: <r267Ps-1056i-8A6D71FA7A3E47459C1C14C034821609@Infinitum.lan>

On 09-04-11 at 10.43, scribu <scribu@gmail.com> wrote:

>Jan, maybe you should describe what you're trying to do, so that we
>have a broader picture.

OK, I might go about this in completely the wrong way so I 
better describe it.

I want to show pictures in my posts and I've got two requirements:

+   I want to be able to move site to another domain if I have to,
     so I want all urls to be relative in my posts

+   I want to use a lightbox effect but I want to use my own markup
     so it's presented the way I want - to do the lightbox 
effect I
     need to access two different sizes of the photo.

+   I don't want to "hardcode" the presentation in the entries since
     I might change my mind on how it should work later, by 
using a
     custom markup it becomes pretty easy to make such a change.

I add new posts and images using the XML-RPC interface (I never 
write anything from within WP). A post would typically look 
something like this

     bla bla bla bla bla bla bla bla bla bla
     bla bla bla bla bla bla bla bla bla bla
     bla bla bla bla bla bla bla bla bla bla

     (:photo src='rel/path/to/photo' capt='bla bla bla':)

     bla bla bla bla bla bla bla bla bla bla
     bla bla bla bla bla bla bla bla bla bla
     bla bla bla bla bla bla bla bla bla bla


I've previously implemented the same type of custom markup for 
another system and would like to keep using it (it's pretty easy 
for me to automize the generation of these tags on my laptop).

I know very little of the internal stuff of WP but as far as I 
understand I  should be able to do what I want if I could get 
the URLs to the different sizes of the photo in WP (small, 
medium, large, original) and the physical dimensions of these 
versions (I need the height/width to generate the correct 
markup) given the relative path to the original.

I hope this makes things clearer.

                     jem
-- 
Jan Erik Mostr?m, http://mostrom.eu

From scribu at gmail.com  Sat Apr 11 11:16:43 2009
From: scribu at gmail.com (scribu)
Date: Sat Apr 11 11:16:58 2009
Subject: [wp-hackers] Newbie Q - accessing different image sizes
In-Reply-To: <r267Ps-1056i-8A6D71FA7A3E47459C1C14C034821609@Infinitum.lan>
References: <349fe48b0904110143y326b3394m604d591b5bd699e6@mail.gmail.com>
	<r267Ps-1056i-8A6D71FA7A3E47459C1C14C034821609@Infinitum.lan>
Message-ID: <349fe48b0904110416p5996bbs70cd1fe9044c9ec0@mail.gmail.com>

On Sat, Apr 11, 2009 at 1:01 PM, Jan Erik Mostr? <lists@mostrom.pp.se>
wrote:
> On 09-04-11 at 10.43, scribu <scribu@gmail.com> wrote:
>
>> Jan, maybe you should describe what you're trying to do, so that we
>> have a broader picture.
>
> OK, I might go about this in completely the wrong way so I better describe
> it.
>
> I want to show pictures in my posts and I've got two requirements:
>
> +   I want to be able to move site to another domain if I have to,
>    so I want all urls to be relative in my posts
>
> +   I want to use a lightbox effect but I want to use my own markup
>    so it's presented the way I want - to do the lightbox effect I
>    need to access two different sizes of the photo.
>
> +   I don't want to "hardcode" the presentation in the entries since
>    I might change my mind on how it should work later, by using a
>    custom markup it becomes pretty easy to make such a change.
>
> I add new posts and images using the XML-RPC interface (I never write
> anything from within WP). A post would typically look something like this
>
>    bla bla bla bla bla bla bla bla bla bla
>    bla bla bla bla bla bla bla bla bla bla
>    bla bla bla bla bla bla bla bla bla bla
>
>    (:photo src='rel/path/to/photo' capt='bla bla bla':)
>
>    bla bla bla bla bla bla bla bla bla bla
>    bla bla bla bla bla bla bla bla bla bla
>    bla bla bla bla bla bla bla bla bla bla

You should try using shortcodes
<http://codex.wordpress.org/Shortcode_API>which are already built into
WP and are quite easy to create. Instead of
supplying the src, why not do something like this:

[photo id='123' capt='bla bla']

where the id is the attachment id. If you have the id, then you can use all
the functions mentioned above.

-- 
http://scribu.net
From lists at mostrom.pp.se  Sat Apr 11 11:39:06 2009
From: lists at mostrom.pp.se (=?UTF-8?Q?Ja=6E_E=72ik_M=6Fs=74=72=C3=B6?= =?UTF-8?Q?m?=)
Date: Sat Apr 11 11:39:26 2009
Subject: [wp-hackers] Newbie Q - accessing different image sizes
In-Reply-To: <349fe48b0904110416p5996bbs70cd1fe9044c9ec0@mail.gmail.com>
Message-ID: <r267Ps-1056i-32BD45881BEF4BACAE06560AE524BFE3@Infinitum.lan>

On 09-04-11 at 13.16, scribu <scribu@gmail.com> wrote:

>You should try using shortcodes

That looks exactly what I want to do

>If you have the id, then you can use all
>the functions mentioned above.

This is the problem, I'm using a blog editor and from what I can 
see it never receives the id back from WP, only the file name 
and URL.

I'll play around with get_children() and see if I can it to work 
- and I'll check with the author of my blog editor to see if 
there is some way to get the id through xmlrpc

             jem
-- 
Jan Erik Mostr?m, http://mostrom.eu

From robin.niemeyer at gmx.net  Sat Apr 11 13:17:33 2009
From: robin.niemeyer at gmx.net (robin niemeyer)
Date: Sat Apr 11 13:17:59 2009
Subject: [wp-hackers] 'same category name'-issue
In-Reply-To: <c8f37c930904101401n2f6ab906sb4cea825b90fcdc6@mail.gmail.com>
References: <49DF5BEC.1050007@gmx.net>
	<c8f37c930904101401n2f6ab906sb4cea825b90fcdc6@mail.gmail.com>
Message-ID: <49E0986D.6050801@gmx.net>

Ryan,

many thanks for the fix!

Works great with the current svn version, but with 2.7.1 I unfortunately
get an 'Could not insert term into the database' error when trying to
add a non-uniquely named category from the categories view (first I
replaced the changed functions and snippets only, then all three files,
same outcome on both ways).

But I'll try to figure it out myself, so thanks again!

- Robin


Ryan Boren schrieb:
> On Fri, Apr 10, 2009 at 7:47 AM, robin niemeyer <robin.niemeyer@gmx.net> wrote:
>> Hi all,
>>
>> I know this issue has been posted frequently in the wp support forum,
>> the ticket system etc., but it seems there has been some silence around
>> it since then, although I think it still is a problem to many people
>> (including me).
>>
>> What I mean is the issue that every term has to be unique, and while
>> this makes a lot of sense regarding tags, it has some serious drawbacks
>> when it comes to categories, since this isn't possible right now:
>>
>> -Sheet Music
>> ---Piano
>> ---Violin
>> -Learn to Play
>> ---Piano
>> ---Violin
>>
>> (Example taken from http://wordpress.org/support/topic/177232)
> 
> Fix for trunk here: http://core.trac.wordpress.org/changeset/10905
> 
> This was caused by an over restrictive check added to the ajax handler
> for category adds.  When adding cats, the parent should be taken into
> account when determining if a cat already exists.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
From sojweb at indiana.edu  Sat Apr 11 13:54:01 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Sat Apr 11 13:54:20 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <F25F2C8DE17FB546A90DB3CF77461427062F4BCA@USA0300MS04.na.xerox.net>
References: <58D53F08-5276-45F9-A26A-22B78CF72C7A@indiana.edu>
	<EMEWEMEW2_DELIMl39MsKcb8deedd3ff79f3a615be8,
	mikeschinkel@newclarity.net, A16085278.641239422057672.J>
	<F25F2C8DE17FB546A90DB3CF77461427062F4BCA@USA0300MS04.na.xerox.net>
Message-ID: <CD11B3A7-83CF-4AF1-87A2-26026EF69FA5@indiana.edu>

There's been discussion on trac about this off and on, I see this  
ticket that is relatively new:

http://core.trac.wordpress.org/ticket/9444

I know of at least one way, but it's really roundabout, and a bit of a  
pain. If you create a file called .maintenance at the root of the Web  
site that just has this:

<?php
$upgrading = time();
?>

And then create a file called maintenance.php in your wp-content  
directory, WordPress (2.7.1, at least) will load wp-config.php, and  
start to load wp-settings.php, but will exit out after only a few  
constants are defined. But it loads maintenance.php before it dies, so  
you could use maintenance.php to do whatever processing you might need  
with the config constants.

I agree, though, you should be able to load the config information  
without loading WordPress, and it seems like it's on its way.

-Jeff


On Apr 11, 2009, at 12:03 AM, Silverstein, Jesse wrote:

> On a lighter note along this subject ...
>
> Any chance of being able to extract the database constants from wp- 
> config without loading wp-settings? There are plenty of obvious  
> reasons a plugin would need to access the same database, and not  
> load all of WordPress (as many core developers have adamantly  
> asserted in this chain). Or should I resort to reading in the file  
> line by line and parsing out the information I want?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From lists at mostrom.pp.se  Sat Apr 11 13:57:46 2009
From: lists at mostrom.pp.se (=?UTF-8?Q?Ja=6E_E=72ik_M=6Fs=74=72=C3=B6?= =?UTF-8?Q?m?=)
Date: Sat Apr 11 13:58:04 2009
Subject: [wp-hackers] Newbie Q - can't get get_children to work
Message-ID: <r267Ps-1056i-169958F8BD3D4A65AD426CD868806BE9@Infinitum.lan>

I've been trying to figure out why this code says that there are 
no images

$images =& get_children( 
'post_type=attachment&post_mime_type=image' );
if( empty($images) ){
     $result = 'No picts ';
} else {
     $result = 'Picts';
}

My test WP contains two posts and two images, both posts contain 
references to images (inserted using the media manager). If I 
look at the media library it reports two images, one attached to 
each post.

As I read the docs it should report back a listing of all images 
no matter to which post they are attached to ... but for both 
posts I get the result 'No picts'.

I'm obviously missing something ... but what ???

                         jem
-- 
Jan Erik Mostr?m, http://mostrom.eu

From mdmartz at sivel.net  Sat Apr 11 14:02:55 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Sat Apr 11 14:03:26 2009
Subject: [wp-hackers] Newbie Q - can't get get_children to work
In-Reply-To: <r267Ps-1056i-169958F8BD3D4A65AD426CD868806BE9@Infinitum.lan>
References: <r267Ps-1056i-169958F8BD3D4A65AD426CD868806BE9@Infinitum.lan>
Message-ID: <518fa9630904110702p6495d22br1797c75e41262f66@mail.gmail.com>

On Sat, Apr 11, 2009 at 9:57 AM, Jan Erik Mostr? <lists@mostrom.pp.se> wrote:
> I've been trying to figure out why this code says that there are no images
>
> $images =& get_children( 'post_type=attachment&post_mime_type=image' );
> if( empty($images) ){
> ? ?$result = 'No picts ';
> } else {
> ? ?$result = 'Picts';
> }
>
>
> I'm obviously missing something ... but what ???

You are not including post_parent which is required so that it knows
what parent post to get children from.  that post_parent needs to be
the ID of the post.

-- 
Matt Martz
matt@sivel.net
http://sivel.net/
From wp-hackers at striderweb.com  Sat Apr 11 14:11:26 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat Apr 11 14:11:50 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <3F0B8DFD-FED2-4E99-A3F8-B4F1719F6A94@striderweb.com>
References: <EMEWEMEW2_DELIMl34MqY2c9b5e28e92174956bd3b1,
	mikeschinkel@newclarity.net, 24296413.5521238989946711.J>
	<3F0B8DFD-FED2-4E99-A3F8-B4F1719F6A94@striderweb.com>
Message-ID: <8C299732-EA05-4350-B405-177F2253777B@striderweb.com>


On Apr 5, 2009, at 11:10 PM, Stephen Rider wrote:

> On Apr 5, 2009, at 10:52 PM, Mike Schinkel wrote:
>
>>> You could also use one of the hooks inside query_posts, to  
>>> override parts of the query, such as the where section,
>
>> Yeah, i guess I could do "WHERE 1=0" but it still sends the query  
>> to MySQL which is suboptimal.
>>
>>>> and I think even the whole query.
>>
>> AFAICT there's no way to bypass the query in that function. I've  
>> poured over that section of code for several hours now. Hoping that  
>> adding something to allow bypassing would be considered reasonable  
>> by those who options are most respected here.
>
> Yeah, it makes sense that if the filtered query == FALSE or  
> something, that could mean "don't run the query".

Michael--

Sweeping aside the personality conflicts in this thread, here is my  
thought:

1)  There is currently no way to do exactly what you want.

2) It seems as though implementing the above suggestion, (if the  
filtered query == FALSE, don't run the query), would be a fairly  
straightforward patch.

3) Thus, doing a quick patch and submitting it to Trac is probably the  
best move.  If it is useful and doesn't harm anything, I can see this  
getting committed.

(No I'm nowhere close to being a committer myself....)

Stephen


-- 
Stephen Rider
http://striderweb.com/
From wp-hackers at striderweb.com  Sat Apr 11 14:17:47 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat Apr 11 14:18:20 2009
Subject: [wp-hackers] 'same category name'-issue
In-Reply-To: <49E0986D.6050801@gmx.net>
References: <49DF5BEC.1050007@gmx.net>
	<c8f37c930904101401n2f6ab906sb4cea825b90fcdc6@mail.gmail.com>
	<49E0986D.6050801@gmx.net>
Message-ID: <9884D100-347C-47E6-87C3-E45B0CBC98F7@striderweb.com>

You might download the .diff file from http://core.trac.wordpress.org/changeset/10905 
  and patch your install.  That would give you the one change only,  
which you need.

Thanks for committing Ryan -- that was a bothersome bug that would  
have bitten me sooner or later.  :)

Stephen

On Apr 11, 2009, at 8:17 AM, robin niemeyer wrote:

> Works great with the current svn version, but with 2.7.1 I  
> unfortunately
> get an 'Could not insert term into the database' error when trying to
> add a non-uniquely named category from the categories view (first I
> replaced the changed functions and snippets only, then all three  
> files,
> same outcome on both ways).
>
> But I'll try to figure it out myself, so thanks again!
>
> Ryan Boren schrieb:
>>
>> Fix for trunk here: http://core.trac.wordpress.org/changeset/10905
>>
>> This was caused by an over restrictive check added to the ajax  
>> handler
>> for category adds.  When adding cats, the parent should be taken into
>> account when determining if a cat already exists.

From lists at mostrom.pp.se  Sat Apr 11 14:36:15 2009
From: lists at mostrom.pp.se (=?UTF-8?Q?Ja=6E_E=72ik_M=6Fs=74=72=C3=B6?= =?UTF-8?Q?m?=)
Date: Sat Apr 11 14:36:32 2009
Subject: [wp-hackers] Newbie Q - can't get get_children to work
In-Reply-To: <518fa9630904110702p6495d22br1797c75e41262f66@mail.gmail.com>
Message-ID: <r267Ps-1056i-0363EE15074242E588BE7764CFC35739@Infinitum.lan>

On 09-04-11 at 16.02, Matt Martz <mdmartz@sivel.net> wrote:

>You are not including post_parent which is required so that it knows
>what parent post to get children from.  that post_parent needs to be
>the ID of the post.

Thanks, I misread the docs and thought that the default was to 
search all attachments.

                             jem
-- 
Jan Erik Mostr?m, http://mostrom.eu

From liraz at turnkeylinux.org  Sat Apr 11 14:45:34 2009
From: liraz at turnkeylinux.org (Liraz Siri)
Date: Sat Apr 11 14:40:41 2009
Subject: [wp-hackers] Which WordPress plugins should we bundle with our
	appliance?
Message-ID: <49E0AD0E.4000205@turnkeylinux.org>

I'm a developer for TurnKey Linux, an open source project developing a
family of free, easy to use server appliances based on Ubuntu. We
recently added WordPress to our roster:

http://www.turnkeylinux.org/appliances/wordpress

We're interested in getting feedback from the WordPress development
community regarding which plugins we should bundle into the next version
of the appliance. We've been doing that kind of bundling for other
appliances such as our Drupal and MediaWiki appliances.

Cheers,
Liraz
From info at toscho.de  Sat Apr 11 14:52:32 2009
From: info at toscho.de (Thomas Scholz)
Date: Sat Apr 11 14:52:39 2009
Subject: [wp-hackers] Which WordPress plugins should we bundle with our
	appliance?
In-Reply-To: <49E0AD0E.4000205@turnkeylinux.org>
References: <49E0AD0E.4000205@turnkeylinux.org>
Message-ID: <op.ur78xuj6r6yny2@perplexifikator.speedport_w_303v_typ_a>

Liraz Siri schrieb:

> We're interested in getting feedback from the WordPress development
> community regarding which plugins we should bundle into the next version
> of the appliance.

  ? Google XML Sitemaps
    http://wordpress.org/extend/plugins/google-sitemap-generator/
    Tells search engines which entries are most relevant.

  ? HeadSpace2 SEO
    http://wordpress.org/extend/plugins/headspace2/
    Fine tuning of meta data. Very busy development.

  ? AddQuicktag
    http://wordpress.org/extend/plugins/addquicktag/
    Costumizing for the editor.

  ? Search Everything
    http://wordpress.org/extend/plugins/search-everything/
    Enhances WordPress? (poor) internal search engine.

Thomas

-- 
Redaktion, Druck- und Webdesign
http://toscho.de
0160/1764727
From supporto at pixline.net  Sat Apr 11 15:35:39 2009
From: supporto at pixline.net (=?WINDOWS-1252?Q?Pixline_=9B_Paolo_Tresso?=)
Date: Sat Apr 11 15:35:57 2009
Subject: [wp-hackers] Which WordPress plugins should we bundle with our
	appliance?
In-Reply-To: <op.ur78xuj6r6yny2@perplexifikator.speedport_w_303v_typ_a>
References: <49E0AD0E.4000205@turnkeylinux.org>
	<op.ur78xuj6r6yny2@perplexifikator.speedport_w_303v_typ_a>
Message-ID: <9270C0D6-9554-4A72-A7D8-3699E3C0910D@pixline.net>


Il giorno 11/apr/09, alle ore 16:52, Thomas Scholz ha scritto:

> Liraz Siri schrieb:
>
>> We're interested in getting feedback from the WordPress development
>> community regarding which plugins we should bundle into the next  
>> version
>> of the appliance.
>

shameless plug: my plugin upload+ avoid troubles with non-allowed  
characters into uploaded file's names.
I think/hope it's worth a look.
http://wordpress.org/extend/plugins/uploadplus/

other should-have plugins:

http://wordpress.org/extend/plugins/wp-db-backup/

http://wordpress.org/extend/plugins/all-in-one-seo-pack/

http://wordpress.org/extend/plugins/contact-form-7/

http://wordpress.org/extend/plugins/all-in-one-video-pack/


Paolo
From ozh at planetozh.com  Sat Apr 11 16:02:05 2009
From: ozh at planetozh.com (Ozh)
Date: Sat Apr 11 16:02:20 2009
Subject: [wp-hackers] Which WordPress plugins should we bundle with our 
	appliance?
In-Reply-To: <9270C0D6-9554-4A72-A7D8-3699E3C0910D@pixline.net>
References: <49E0AD0E.4000205@turnkeylinux.org>
	<op.ur78xuj6r6yny2@perplexifikator.speedport_w_303v_typ_a>
	<9270C0D6-9554-4A72-A7D8-3699E3C0910D@pixline.net>
Message-ID: <ae81acd10904110902q7520f1a2obc774e0f1700dc54@mail.gmail.com>

Browse here <http://wordpress.org/extend/plugins/browse/top-rated/>
and look for cool features you'd like to provide

(this link contains a shameless plug hidden in an easter egg)

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From kikizas at gmail.com  Sat Apr 11 16:02:40 2009
From: kikizas at gmail.com (Demetris)
Date: Sat Apr 11 16:03:07 2009
Subject: [wp-hackers] Which WordPress plugins should we bundle with our 
	appliance?
In-Reply-To: <49E0AD0E.4000205@turnkeylinux.org>
References: <49E0AD0E.4000205@turnkeylinux.org>
Message-ID: <9f34a3610904110902m453a7cc3wd4c75088bfb6126@mail.gmail.com>

On Sat, Apr 11, 2009 at 5:45 PM, Liraz Siri <liraz@turnkeylinux.org> wrote:
> I'm a developer for TurnKey Linux, an open source project developing a
> family of free, easy to use server appliances based on Ubuntu. We
> recently added WordPress to our roster:
>
> http://www.turnkeylinux.org/appliances/wordpress
>
> We're interested in getting feedback from the WordPress development
> community regarding which plugins we should bundle into the next version
> of the appliance. We've been doing that kind of bundling for other
> appliances such as our Drupal and MediaWiki appliances.
>
> Cheers,
> Liraz
> _______________________________________________

I published a selection the other day which you may find useful, in
addition to what people have already suggested here.

Basic WordPress Plugins
http://op111.net/70

You can also look at the official repository, sorting by popularity
and by rating:

http://wordpress.org/extend/plugins/browse/popular/
http://wordpress.org/extend/plugins/browse/top-rated/

All plugins at wordpress.org/extend are GPL compatible, so, in that
respect, any plugin from wp.org is fit to be bundled in a Linux
distrubition.

Cheers,

Demetris
From shane at bugssite.org  Sat Apr 11 16:37:32 2009
From: shane at bugssite.org (Shane A. Froebel)
Date: Sat Apr 11 16:38:10 2009
Subject: [wp-hackers] Media Management System Wireframes for WordPress 2.9.x
Message-ID: <49E0C74C.3080609@bugssite.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Dear Hackers List,

I just released the wireframes document for the new Media Management
System for WordPress 2.9.x line. I posted it on my website here:
http://bugssite.org/blog/2009/04/11/media-management-system-wireframes-for-wordpress-29x/

This is after 6 months of looking over 100+ plugins that strive to
enhance the core media system, but still use the outdated media system.
This aims to bring better support.

A direct link to the PDF document that will always have the most updated
WireFrames document is located here:
http://bugssite.org/wp-content/downloads/Media_Wireframes_Document_PDF.pdf

Enjoy!

Your Friend,
Shane
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iQIcBAEBAgAGBQJJ4MdMAAoJEChMcQvNqPqmUbsP/25TC5lfQiKdYM8YKJ5OOAy2
UP+md1wenilreklzoN9Q+Oan2kVcL+jPtxBctIZJJ33eidnDHT4wGoyVl9rYJYc+
Yu0AjymJ/x3ooCNvVsGI0yR8VM+/s3IF4w9GU1r7Deya6xGGiskeDQ9KNotPAWjG
POz0fkdLtx1fB3BHkD8HY0X6BiOhNKLBjWjxYKjrRrNwKBqqdaqWEmY7AOVen5OQ
OrPXZRV5jvs8liZ/ZFL/J4qGW8texShhpLzeZh5mBNblLwLF/A5XJ3IWOosLF4Ti
lDvnL4bnMU0lvpn27KiTv+Qrfg6XoWtdR9Keb3ARsI/ISguUcd6P6pgfQWMja94j
H20dj2TCNgDj9Wm7FS7SQKvSU8m1uyZwKYJjtRwwE655nAKLKNU6/0pDhYEw2B8O
99PeErt6ywc8woZ9pbpZ2i+hpxtS3O/2xz5ummy+0gioaxJG3v9OdoFvN02tO28W
OnMl6+q/v1Jw8qzNldB2HP1vXJH/lq8MqoqQnHZyVJGKdUBE/i+JnORa/mHs9b7K
lZDQ8+VaB7kTopbEHf/6nOToJ+cdwBoR/4VKJEfEuzGUTs94s2YjS4uli+a0UlBz
spq3i3Hz1PMpjg0B/eEz6p+mc+d/ixXLieNrPQaXaaOpDwizcK9EQZTPA88WVZcd
wVl0og6sFCJW+c8BrHEY
=48ni
-----END PGP SIGNATURE-----
From scribu at gmail.com  Sat Apr 11 17:10:27 2009
From: scribu at gmail.com (scribu)
Date: Sat Apr 11 17:10:41 2009
Subject: [wp-hackers] Media Management System Wireframes for WordPress 
	2.9.x
In-Reply-To: <49E0C74C.3080609@bugssite.org>
References: <49E0C74C.3080609@bugssite.org>
Message-ID: <349fe48b0904111010n4eebc350xd42c2ed5abcb4783@mail.gmail.com>

Looks promising. I hope it ends up being as good as the 2.7 redesign. :)

-- 
http://scribu.net
From lists at mostrom.pp.se  Sat Apr 11 18:19:31 2009
From: lists at mostrom.pp.se (=?UTF-8?Q?Ja=6E_E=72ik_M=6Fs=74=72=C3=B6?= =?UTF-8?Q?m?=)
Date: Sat Apr 11 18:19:50 2009
Subject: [wp-hackers] Newbie Q - can't get get_children to work
In-Reply-To: <r267Ps-1056i-0363EE15074242E588BE7764CFC35739@Infinitum.lan>
Message-ID: <r267Ps-1056i-5BEC3B0348BC4E38898A2BCB37FA453C@Infinitum.lan>

I'm in need of a sanity check here to see if I've misunderstood 
something. Thanks to the help of the mailing list I've cobbled 
together a plugin that does what I want it to do. If I enter 
something like

         [foto src='p1010146.jpg']

my plugin creates the markup I want, using the different image 
sizes (there are other options also but that's not important here).

So I set up my real site and uploaded a photo using my blog 
editor, inserted the markup in a new post and sent it to WP ... 
and it can't display the photos. The reason is that the photo 
need to be attached to a post and that only seem to happen if a 
URL to the image is in a post.

Since I used the following code

$images =& get_children( 
'post_parent={$post->ID}&post_type=attachment&post_mime_type=image' 
);

there was not any images found since there were no photos 
attached to this post.

As far as I can see there are two solutions to this:

+   Convert a relative path like "2009/04/p1010146.jpg' to the
     attachment ID so that I later can use the functions
     - wp_get_attachment_metadata
     - wp_get_attachment_image_src
     Unfortunately I don't know if there is a way to do this, I
     haven't been able to find any function that does this.

+   Change the parameters in the get_children call to
     'post_parent=NULL&...'
     since this lists all attachments. This works but I see one
     potential problem with this solution: if there are a large
     number of uploads the loop that tries to find the correct
     attachment will take some time (but I have no idea when
     this become a problem).

I don't really know how to handle this and would appreciate some 
advise. The current code looks like this:

$images =& get_children(
     
'post_parent={$post->ID}&post_type=attachment&post_mime_type=image' 
);
if( empty($images) ){
     $result = '<div class="errormsg">No photos attached to this post</div>';
} else {
     $result = '';
     foreach ( $images as $attachment_id => $attachment ) {
         $curphoto = wp_get_attachment_metadata( $attachment_id );
         $filename = basename($curphoto['file']);
         if( $photo == $filename ){
             return $this->format_this_photo(
                 wp_get_attachment_image_src( $attachment_id, 
$disp ),
                 wp_get_attachment_image_src( $attachment_id, 
$pop ));
         }
     }
     $result = '<div class="errormsg">That photo is not attached 
to this post :' . $photo . ':</div>';
}

(If the best solution is to use the NULL solution I should 
probably compare the whole path instead of just the actual filename)

Does anyone have any advise for how to handle this?

                     jem
-- 
Jan Erik Mostr?m, http://mostrom.eu

From scribu at gmail.com  Sat Apr 11 18:54:37 2009
From: scribu at gmail.com (scribu)
Date: Sat Apr 11 18:55:06 2009
Subject: [wp-hackers] Newbie Q - can't get get_children to work
In-Reply-To: <r267Ps-1056i-5BEC3B0348BC4E38898A2BCB37FA453C@Infinitum.lan>
References: <r267Ps-1056i-0363EE15074242E588BE7764CFC35739@Infinitum.lan>
	<r267Ps-1056i-5BEC3B0348BC4E38898A2BCB37FA453C@Infinitum.lan>
Message-ID: <349fe48b0904111154y6fc7258bmdbc2b6335e2871a9@mail.gmail.com>

An image is attached to a post if it has the post's id is in the
"post_parent" column in the wp_posts DB table, not if the URL is in the
post.

-- 
http://scribu.net
From scribu at gmail.com  Sat Apr 11 18:54:37 2009
From: scribu at gmail.com (scribu)
Date: Sat Apr 11 18:55:20 2009
Subject: [wp-hackers] Newbie Q - can't get get_children to work
In-Reply-To: <r267Ps-1056i-5BEC3B0348BC4E38898A2BCB37FA453C@Infinitum.lan>
References: <r267Ps-1056i-0363EE15074242E588BE7764CFC35739@Infinitum.lan>
	<r267Ps-1056i-5BEC3B0348BC4E38898A2BCB37FA453C@Infinitum.lan>
Message-ID: <349fe48b0904111154y6fc7258bmdbc2b6335e2871a9@mail.gmail.com>

An image is attached to a post if it has the post's id is in the
"post_parent" column in the wp_posts DB table, not if the URL is in the
post.

-- 
http://scribu.net
From niladam at gmail.com  Sat Apr 11 19:00:05 2009
From: niladam at gmail.com (madalin)
Date: Sat Apr 11 19:00:19 2009
Subject: [wp-hackers] Media Management System Wireframes for WordPress 
	2.9.x
In-Reply-To: <349fe48b0904111010n4eebc350xd42c2ed5abcb4783@mail.gmail.com>
References: <49E0C74C.3080609@bugssite.org>
	<349fe48b0904111010n4eebc350xd42c2ed5abcb4783@mail.gmail.com>
Message-ID: <df809b110904111200s14a99915xb8cd3adefe702fc1@mail.gmail.com>

This would be GREAT!:)

On Sat, Apr 11, 2009 at 8:10 PM, scribu <scribu@gmail.com> wrote:
> Looks promising. I hope it ends up being as good as the 2.7 redesign. :)
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Cu drag,
madalin
http://madalin.eu
http://lyrics.notme.org
http://www.tg-jiu.ro
http://www.radioomega.ro
From lists at mostrom.pp.se  Sat Apr 11 19:05:19 2009
From: lists at mostrom.pp.se (=?UTF-8?Q?Ja=6E_E=72ik_M=6Fs=74=72=C3=B6?= =?UTF-8?Q?m?=)
Date: Sat Apr 11 19:05:40 2009
Subject: [wp-hackers] Newbie Q - can't get get_children to work
In-Reply-To: <349fe48b0904111154y6fc7258bmdbc2b6335e2871a9@mail.gmail.com>
Message-ID: <r267Ps-1056i-5F1A10B3D53D4F4084A9AFF8983FC0D5@Infinitum.lan>

On 09-04-11 at 20.54, scribu <scribu@gmail.com> wrote:

>An image is attached to a post if it has the post's id is in the
>"post_parent" column in the wp_posts DB table, not if the URL is in the
>post.

When does that column get filled in?

 From my experiments it only seem to happen when I put a URL to 
the image in a post.

(note that I'm doing this from a blog editor that first uploads 
the image and then allows me to use the URL to this image)

Also, I took a quick look at the database schema - am I correct 
that that each image can have one parent? What happens if I use 
one picture in two different posts, will I be able to find the 
image using get_child from both these posts?

                 jem
-- 
Jan Erik Mostr?m, http://mostrom.eu

From gaarai at gaarai.com  Sat Apr 11 19:15:25 2009
From: gaarai at gaarai.com (Gaarai)
Date: Sat Apr 11 19:16:09 2009
Subject: [wp-hackers] Newbie Q - can't get get_children to work
In-Reply-To: <r267Ps-1056i-5F1A10B3D53D4F4084A9AFF8983FC0D5@Infinitum.lan>
References: <r267Ps-1056i-5F1A10B3D53D4F4084A9AFF8983FC0D5@Infinitum.lan>
Message-ID: <49E0EC4D.1050609@gaarai.com>

If you want to attach the same image to numerous posts, using get_child 
for this is the wrong way to go. As you've noted, an attachment can 
have, at most, one parent.

Am I correct in that you simply need to get the attachment details given 
a specific file name?

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/



Jan Erik Mostr?m wrote:
> On 09-04-11 at 20.54, scribu <scribu@gmail.com> wrote:
>
>> An image is attached to a post if it has the post's id is in the
>> "post_parent" column in the wp_posts DB table, not if the URL is in the
>> post.
>
> When does that column get filled in?
>
> From my experiments it only seem to happen when I put a URL to the 
> image in a post.
>
> (note that I'm doing this from a blog editor that first uploads the 
> image and then allows me to use the URL to this image)
>
> Also, I took a quick look at the database schema - am I correct that 
> that each image can have one parent? What happens if I use one picture 
> in two different posts, will I be able to find the image using 
> get_child from both these posts?
>
>                 jem
From lists at mostrom.pp.se  Sat Apr 11 19:26:21 2009
From: lists at mostrom.pp.se (=?UTF-8?Q?Ja=6E_E=72ik_M=6Fs=74=72=C3=B6?= =?UTF-8?Q?m?=)
Date: Sat Apr 11 19:26:38 2009
Subject: [wp-hackers] Newbie Q - can't get get_children to work
In-Reply-To: <49E0EC4D.1050609@gaarai.com>
Message-ID: <r267Ps-1056i-689A6343F37B430E890E85DA4B4CE674@Infinitum.lan>

On 09-04-11 at 21.15, Gaarai <gaarai@gaarai.com> wrote:

>Am I correct in that you simply need to get the attachment 
>details given a specific file name?

What I need to be able to get is

+   the different size versions for one image

+   get url for those versions

+   get image and height for those versions

I have no need to write or in any way modify anything, just reading.

And the only thing I have as input is the URL (or filename) to 
the original image.

                 jem
-- 
Jan Erik Mostr?m, http://mostrom.eu

From gradyfausta at laksmono.com  Sat Apr 11 22:05:55 2009
From: gradyfausta at laksmono.com (Grady Laksmono)
Date: Sat Apr 11 22:06:26 2009
Subject: [wp-hackers] Customizing Sidebar Theme Documentation
Message-ID: <a6cfb8020904111505g607f884dj9a480c339cd31625@mail.gmail.com>

Could anyone direct me to "sidebar customization" specifically for its theme
documentation? I only found this:

http://codex.wordpress.org/Customizing_Your_Sidebar

But it doesn't explain the theme issue..

Thanks,
Grady
From aesqe at skyphe.org  Sat Apr 11 22:18:02 2009
From: aesqe at skyphe.org (aesqe)
Date: Sat Apr 11 22:18:35 2009
Subject: [wp-hackers] Media Management System Wireframes for WordPress
	2.9.x
In-Reply-To: <49E0C74C.3080609@bugssite.org>
References: <49E0C74C.3080609@bugssite.org>
Message-ID: <49E1171A.2000509@skyphe.org>

Hi, all, and sorry for spamming :|

I've been working on a "gallery" plugin of my own for a while now (for 
my bachelor's degree, actually), and I'd like to share it with you, 
especially now after reading Shane's presentation.

It extends the default [gallery] behavior by adding a few things (a 
simple templating system, more than one gallery per post with handpicked 
attachments only, in order you specify, etc...)

Here's the zip:
http://skyphe.org/wp-content/uploads/2008/09/file-gallery-093.zip

and here are some screenshots:
http://skyphe.org/code/wordpress/file-gallery/

It's still far from being done, but I'd really appreciate some thoughts 
and suggestions, if any of you have a few minutes to spare.

Thanks in advance, and I hope that what I was trying to accomplish with 
the plugin makes some sense to you too :)


aesqe

On 11.4.2009 18:37, Shane A. Froebel wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Dear Hackers List,
>
> I just released the wireframes document for the new Media Management
> System for WordPress 2.9.x line. I posted it on my website here:
> http://bugssite.org/blog/2009/04/11/media-management-system-wireframes-for-wordpress-29x/
 >

-- 
-._______________KAWAII!_______________.-
Skyphe.org : It'll all make sense one day
http://skyphe.org .:. http://breedart.org
From jess at funroe.net  Sat Apr 11 23:10:55 2009
From: jess at funroe.net (Jess Planck)
Date: Sat Apr 11 23:11:09 2009
Subject: [wp-hackers] Media Management System Wireframes for WordPress
	2.9.x
In-Reply-To: <49E0C74C.3080609@bugssite.org>
References: <49E0C74C.3080609@bugssite.org>
Message-ID: <0373E236-4BEB-4676-9061-8EACA896B07C@funroe.net>

Oh taxonomy for media will be so very cool. Extracting metadata from  
uploaded media where appropriate for the taxonomy would be very cool  
as well.

Jess

On Apr 11, 2009, at 11:37 AM, Shane A. Froebel wrote:

> Dear Hackers List,
>
> I just released the wireframes document for the new Media Management
> System for WordPress 2.9.x line. I posted it on my website here:
> http://bugssite.org/blog/2009/04/11/media-management-system-wireframes-for-wordpress-29x/
>
> This is after 6 months of looking over 100+ plugins that strive to
> enhance the core media system, but still use the outdated media  
> system.
> This aims to bring better support.
>
> A direct link to the PDF document that will always have the most  
> updated
> WireFrames document is located here:
> http://bugssite.org/wp-content/downloads/Media_Wireframes_Document_PDF.pdf
>
> Enjoy!
>
> Your Friend,
> Shane

From gaarai at gaarai.com  Sat Apr 11 23:25:03 2009
From: gaarai at gaarai.com (Gaarai)
Date: Sat Apr 11 23:25:45 2009
Subject: [wp-hackers] Newbie Q - can't get get_children to work
In-Reply-To: <r267Ps-1056i-689A6343F37B430E890E85DA4B4CE674@Infinitum.lan>
References: <r267Ps-1056i-689A6343F37B430E890E85DA4B4CE674@Infinitum.lan>
Message-ID: <49E126CF.8050104@gaarai.com>

Most current blog editors are able to embed images just fine without 
requiring this workaround. For example, if you use Raven 
(http://www.zoundryraven.com/), the software will automatically upload 
the images first, replace the img tag parameters with data returned from 
the blog, and then publish the post.

Sticking with the topic as you may have your own reasons for pursuing 
this path... Just so you know, doing a lookup by file name is 
error-prone. File attachments do not have to have unique file names. If 
you upload the same file name back-to-back, the second upload will have 
a digit added just before the extension in order to make it unique. 
However, if files with the same name are uploaded during different 
months or years, the duplicate file names are allowed.

Of course, this behavior changes depending on the specific settings of 
the blog in question. For example, if the "Organize my uploads into 
month- and year-based folders" option is disabled, files will be given 
unique names.

With this limitation in mind, I've produced a very rough working 
function that will do what you want. The code is as follows:

    function get_image_from_file_name( $file_name, $size = 'medium' ) {
        global $wpdb;   

        // Protect against db exploits
        $file_name = addslashes( $file_name );   

        // Find the relevant record.
        // Since attachments are not guaranteed to have unique names,
        // find the oldest match. This prevents existing images from
        // being replaced accidentally by another image that is
        // uploaded with the same name.
        $image_id = $wpdb->get_var( "SELECT ID FROM {$wpdb->posts} WHERE post_type='attachment' AND guid LIKE '%/$file_name' ORDER BY post_date LIMIT 1" );    

        return image_downsize( $image_id, $size )
    }

An example of using this code is as follows:

    list( $image_src, $image_width, $image_height ) = get_image_from_file_name( 'my-dog.png', 'medium' );
    if ( ! empty( $image_src ) )
        echo "<img src='$image_src' width='$image_width' height='$image_height' alt='My Dog' />";

The default sizes offered by WP are thumbnail, medium, large, and full. 
These can be modified by plugins however.

Since running the function for each image that needs to be rendered on a 
page is expensive, I recommend using the function that I've provided 
here and latching a filter onto wp_insert_post_data that replaces the 
short tag that you had in a previous message with an actual img tag. 
Doing this will save a ton of needless db queries and could potentially 
simplify your template code.

If you end up creating this filter, the get_image_from_file_name 
function could be improved to first look for a match that has a post 
date close to that of the actual post and then reverting to the original 
functionality if one is not found. This would allow for using duplicate 
file names.

I hope that this helps you.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/



Jan Erik Mostr?m wrote:
> On 09-04-11 at 21.15, Gaarai <gaarai@gaarai.com> wrote:
>
>> Am I correct in that you simply need to get the attachment details 
>> given a specific file name?
>
> What I need to be able to get is
>
> +   the different size versions for one image
>
> +   get url for those versions
>
> +   get image and height for those versions
>
> I have no need to write or in any way modify anything, just reading.
>
> And the only thing I have as input is the URL (or filename) to the 
> original image.
>
>                 jem
From mcepl at redhat.com  Sat Apr 11 23:39:42 2009
From: mcepl at redhat.com (Matej Cepl)
Date: Sat Apr 11 23:45:35 2009
Subject: [wp-hackers] Re: meaningful EOLs considered harmful
References: <c35ta6-g14.ln1@ppp1053.in.ipex.cz>
	<161617690904080814v5961e8e5va8ae2251d13fb247@mail.gmail.com>
	<p6tua6-a8n.ln1@ppp1053.in.ipex.cz>
	<073C53CD-6682-4B39-BABE-A8E5767FF3DC@ftwr.co.uk>
Message-ID: <uam7b6-qrn.ln1@ppp1053.in.ipex.cz>

On 2009-04-08, 16:03 GMT, Peter Westwood wrote:
> You are quite welcome to raise one at 
> http://core.trac.wordpress.org

https://core.trac.wordpress.org/ticket/9513 has been filed.

Mat?j

From shane at bugssite.org  Sun Apr 12 00:08:45 2009
From: shane at bugssite.org (Shane A. Froebel)
Date: Sun Apr 12 00:09:21 2009
Subject: [wp-hackers] Media Management System Wireframes for WordPress
	2.9.x
In-Reply-To: <49E1171A.2000509@skyphe.org>
References: <49E0C74C.3080609@bugssite.org> <49E1171A.2000509@skyphe.org>
Message-ID: <49E1310D.2020106@bugssite.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1


@aesqe,

Very cool. I would have to take a look at this is more in depth. Your
plugin would for sure benefit a new code base since you wouldn't have to
add images to that post, just to use them in the gallery. It could all
be independent.

I *think* I can see you doing a gallery preview inside TinyMCE. Am I
correct or is that just "three" images lined up next to each other?

@Jess,

Yes. That is the plan. Using the system tax base instead of ID base will
allow more freedom of how items are handled and used.

Your Friend,
Shane



-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iQIcBAEBAgAGBQJJ4TEMAAoJEChMcQvNqPqm+34QAJmaspTREqOEdU7M5VVaPSXc
m1vqF0m1Nce1lAWFRW11g+jw4+uFn6TZO6KDUVfp8Vi6DOGwTD4BvTBkxa1L+HoK
6eZHaU3gN6MdJhPd4IY1mGB5nf/9PsK7hsuvyXkeecE/65IJ/bVz05MYdH6YxFIb
6zOcJ57kzSmXFAKKmdgGI6pQ1eze7kY1Mhnfxmc3ZVLsh9oYT+FuwjGNC0Tx7JW8
+MmZUXCmFg7HHhRz3x2U0MHybh234QSlcxC0anieJCgkXr8Rr28blcxlMblugbF9
I0eJVMZmsy6hUgRh3ym539H/51JZbYd7kxpl1Uv82XF5Rcax6830GkN3fmHpq1Qu
taKbXn+LigJy0XIN25Niuhhf/8y24wGVQkS8B6DnlYwzDyOFfrCWSIVdnUrRci/l
qoa6WZyeiNIax6qOj/Oh92dJpQOaFMBf6BXH3+kfHmMnhslToRtVNG4RkD/gsfVp
02NmGK/ssiCDWBV2uE8E/+YR50KmAd4EGscGQdYHQ8ailmghubAi1M+COslPYyZR
leHeSwToavoHptg81CxhLRHfwAAiRNekPZCO0IO1wDLsDdkFHoGaUe8Tr86VMAe7
06Cz04C0kBQPzrg/+Yc83L4xdnUrbBz2el4h5lPgpaen8Bzmi8tMQJdctpQl/SAT
nST+tqkGp9Y8QAMf/Ebm
=p6yn
-----END PGP SIGNATURE-----
From lists at mostrom.pp.se  Sun Apr 12 05:34:52 2009
From: lists at mostrom.pp.se (=?UTF-8?Q?Ja=6E_E=72ik_M=6Fs=74=72=C3=B6?= =?UTF-8?Q?m?=)
Date: Sun Apr 12 05:35:14 2009
Subject: [wp-hackers] Newbie Q - can't get get_children to work
In-Reply-To: <49E126CF.8050104@gaarai.com>
Message-ID: <r267Ps-1056i-F38BA1D6898A420F90D91CD3954A9897@Infinitum.lan>

On 09-04-11 at 01.25, Gaarai <gaarai@gaarai.com> wrote:

>Sticking with the topic as you may have your own reasons for pursuing
>this path...

>Since running the function for each image that needs to be rendered on
>a page is expensive, I recommend using the function that I've provided
>here and latching a filter onto wp_insert_post_data that replaces the
>short tag that you had in a previous message with an actual img tag.
>Doing this will save a ton of needless db queries and could
>potentially simplify your template code.

Thanks a lot for the code!! I really appreciate it !!!

My reasons for doing things this way is that I don't want to 
hardcode the URLs into the post should I decide to move the blog 
later to another "base url". I also want to be able to change 
the actual markup if I decide to change it.

Once again: THANKS

                         jem
-- 
Jan Erik Mostr?m, http://mostrom.eu

From otto at ottodestruct.com  Sun Apr 12 07:34:37 2009
From: otto at ottodestruct.com (Otto)
Date: Sun Apr 12 07:35:05 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <2099498964310692816@unknownmsgid>
References: <161617690904090945w7700e0bdk287d948207edc04f@mail.gmail.com> 
	<2099498964310692816@unknownmsgid>
Message-ID: <161617690904120034t42098222gbe8003f728dea3b5@mail.gmail.com>

On Fri, Apr 10, 2009 at 9:49 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> Like the proverbial blind man[1] who demands that the only possibly explanation of an elephant is that it is like a snake (and not a wall or a trunk, or anything else) you deny that there are any valid use-cases for WordPress besides ones that you've envisioned or experienced.

Yes, and you have yet to present any such valid use-cases.

I'm sorry, and I'm really not trying to be insulting, but I do tend to
be fairly blunt. So when I say it makes no sense, then that is exactly
what I mean. What you are saying makes no sense to me. I don't get it.
Simple as that.

> If your goal was to stifle any reasoned and respectful debate on changes to core then congratulations, you won.

No, my goal was to get you to explain it better, potentially in a way
that I can understand. I really do have better things to do with my
time than insult strangers over the internet.

-Otto
Sent from Memphis, Tennessee, United States
From otto at ottodestruct.com  Sun Apr 12 07:42:52 2009
From: otto at ottodestruct.com (Otto)
Date: Sun Apr 12 07:43:20 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <862d087f0904102121t50f10aa3ra41a79b0b2b65430@mail.gmail.com>
References: <58D53F08-5276-45F9-A26A-22B78CF72C7A@indiana.edu> 
	<-9193806291406822817@unknownmsgid>
	<862d087f0904102121t50f10aa3ra41a79b0b2b65430@mail.gmail.com>
Message-ID: <161617690904120042s60000337hf92bf90de5ab8980@mail.gmail.com>

On Fri, Apr 10, 2009 at 11:21 PM, Nathan Rice <ncrice@gmail.com> wrote:
> With that said, in this case, and in many others, he does routinely cross
> over from "strong but polite disagreement" to "insulting ridicule".

Text is not a particularly expressive medium. Let's keep that in mind.

> Personally, if I asked HOW to do something, I wouldn't typically expect to
> be told how stupid I was for wanting to do that particular something. If you
> know how to do it, just tell me how, and move on. This thread is 30+ emails
> long, and he still doesn't have an answer. You've spent more time arguing
> about the "why" than it would have taken to just tell him the "how".

If somebody asks me how to do X, then I think it is a reasonable
question to ask them why they want to do X.

You often have to look past the question and see the real goal in
order to help out. One of the most commonplace questions I see on the
support forums is "how do I get posts to display on a page?" It's very
simple to tell them to write a Page Template, but it's also not
particularly helpful to them to do so, since most of the time they
just want to make a list of posts from a particular category show up
on a page, and showing them how category archives are built-in already
is a much more helpful answer. See, if you only answer the person's
question, then you may actually not be helping them.

However, a certain percentage of the time, asking somebody "why do you
want to do that?" is seen as an insult in some way, like I'm
questioning their intelligence or calling them "stupid" or something.
I'm really not. I'm just seeking deeper information.

This is one of those sorts of questions, as I see it. Somebody is
saying they don't want the posts query. But in the context of
WordPress, I can think of no legitimate reason to do that. Every
reason I can think of has better solutions. So I'm trying to grasp the
deeper reasons behind the question itself, and offer alternative
solutions. In this case, the solutions were rejected, so I did the
only thing I could: Attempt to probe for more information in an effort
to better understand the problem. This is not an insult or ridicule,
or at least it's not intended as such. It's just an attempt to better
understand the issue.

-Otto
Sent from Memphis, Tennessee, United States
From bunnylists at gmail.com  Sun Apr 12 08:02:38 2009
From: bunnylists at gmail.com (Stephanie Booth)
Date: Sun Apr 12 08:03:07 2009
Subject: [wp-hackers] basic bilingual plugin: need help with two issues
Message-ID: <5cdeb9b20904120102i51309f07l6804070abf61fb20@mail.gmail.com>

Hello hackers!

I'm taking advantage of the Easter break to brush up some of my poor
plugins, in particular Basic Bilingual.

You can find it here: http://wordpress.org/extend/plugins/basic-bilingual

I'm stuck with two problems:

1. language selection field

Language is stored as postmeta, and I have added a clumsy field to the
admin interface to allow editing it more easily. I'd like to make this
field less clumsy, place it higher up in the post/edit page, and
change it into radio buttons. Radio buttons I can probably figure out
for myself (though I'm very rusty and it'll probably take me half a
day), but I'm really stuck trying to integrate this form element more
smoothly with the rest of the post/page editing form.

2. adding lang="" attribute to the post/hentry div

I'd like the plugin to automatically add the correct lang attribute to
the div containing the post. I've got some code but I'm a bit stuck,
again:

function bb_embed_lang($buffer) {
	ob_start('bb_insert_lang_attribute');
}

function bb_insert_lang_attribute($buffer) {
 	$search='/(class="(.)*hentry(.)*")/';
 	$replace=\\1 . ' lang="' . bb_get_the_language() . '"';
 	return preg_replace($search, $replace, $buffer);	
}


function bb_got_hentry()
{
// needs to check for hentry presence
	return false;
	}
if(bb_got_hentry())
{	add_action('template_redirect', 'bb_embed_lang');
}

Of course, if you have any other comments or suggestions for my code,
I'm a taker (I'm a dabbler much more than a coder, and this plugin was
written for a way older version of WordPress, initially).

Thanks a lot for any help

Steph

-- 
Espace Coworking Lausanne: http://eclau.ch
Subscribe to my newsletter: http://groups.google.com/group/sbooth
web: http://stephanie-booth.com | blog: http://climbtothestars.org
skype: steph-booth | cell: +41 78 625 44 74 | twitter: stephtara |
AIM: Gummywabbit
geotag: Lausanne, Switzerland (GMT+1) | For the rest... Google me!
From liraz at turnkeylinux.org  Sun Apr 12 08:20:21 2009
From: liraz at turnkeylinux.org (Liraz Siri)
Date: Sun Apr 12 08:15:27 2009
Subject: [wp-hackers] Which WordPress plugins should we bundle with our
	appliance?
In-Reply-To: <9f34a3610904110902m453a7cc3wd4c75088bfb6126@mail.gmail.com>
References: <49E0AD0E.4000205@turnkeylinux.org>
	<9f34a3610904110902m453a7cc3wd4c75088bfb6126@mail.gmail.com>
Message-ID: <49E1A445.9060804@turnkeylinux.org>

> I published a selection the other day which you may find useful, in
> addition to what people have already suggested here.
> 
> Basic WordPress Plugins
> http://op111.net/70

We'll definitely be considering these for inclusion into the next version.

> You can also look at the official repository, sorting by popularity
> and by rating:
> 
> http://wordpress.org/extend/plugins/browse/popular/
> http://wordpress.org/extend/plugins/browse/top-rated/

Good idea. I'll fish in there for the generically useful bits.

Thanks!

Cheers,
Liraz
From liraz at turnkeylinux.org  Sun Apr 12 08:24:32 2009
From: liraz at turnkeylinux.org (Liraz Siri)
Date: Sun Apr 12 08:19:38 2009
Subject: [wp-hackers] Which WordPress plugins should we bundle with our
	appliance?
In-Reply-To: <op.ur78xuj6r6yny2@perplexifikator.speedport_w_303v_typ_a>
References: <49E0AD0E.4000205@turnkeylinux.org>
	<op.ur78xuj6r6yny2@perplexifikator.speedport_w_303v_typ_a>
Message-ID: <49E1A540.4000707@turnkeylinux.org>

Thomas Scholz wrote:
> Liraz Siri schrieb:
>  ? Google XML Sitemaps
>    http://wordpress.org/extend/plugins/google-sitemap-generator/
>    Tells search engines which entries are most relevant.

That will definitely go in. We bundled a similar module in TurnKey Drupal.

>  ? HeadSpace2 SEO
>    http://wordpress.org/extend/plugins/headspace2/
>    Fine tuning of meta data. Very busy development.

I wasn't previously aware of this one. Looks very good.

>  ? AddQuicktag
>    http://wordpress.org/extend/plugins/addquicktag/
>    Costumizing for the editor.
> 
>  ? Search Everything
>    http://wordpress.org/extend/plugins/search-everything/
>    Enhances WordPress? (poor) internal search engine.

Thanks Thomas!

Cheers,
Liraz
From scribu at gmail.com  Sun Apr 12 11:58:53 2009
From: scribu at gmail.com (scribu)
Date: Sun Apr 12 11:59:08 2009
Subject: [wp-hackers] Customizing Sidebar Theme Documentation
In-Reply-To: <a6cfb8020904111505g607f884dj9a480c339cd31625@mail.gmail.com>
References: <a6cfb8020904111505g607f884dj9a480c339cd31625@mail.gmail.com>
Message-ID: <349fe48b0904120458p3d644e54o9a416e67a4be6811@mail.gmail.com>

What do you mean by <"sidebar customization" specifically for its theme> ?

And what <theme issue> ?

On 4/12/09, Grady Laksmono <gradyfausta@laksmono.com> wrote:
> Could anyone direct me to "sidebar customization" specifically for its theme
> documentation? I only found this:
>
> http://codex.wordpress.org/Customizing_Your_Sidebar
>
> But it doesn't explain the theme issue..
>
> Thanks,
> Grady
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
http://scribu.net
From gaarai at gaarai.com  Sun Apr 12 12:54:02 2009
From: gaarai at gaarai.com (Gaarai)
Date: Sun Apr 12 12:54:49 2009
Subject: [wp-hackers] Newbie Q - can't get get_children to work
In-Reply-To: <r267Ps-1056i-F38BA1D6898A420F90D91CD3954A9897@Infinitum.lan>
References: <r267Ps-1056i-F38BA1D6898A420F90D91CD3954A9897@Infinitum.lan>
Message-ID: <49E1E46A.8060200@gaarai.com>

You're welcome Jan. Good luck.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/



Jan Erik Mostr?m wrote:
> Thanks a lot for the code!! I really appreciate it !!!
>
> My reasons for doing things this way is that I don't want to hardcode 
> the URLs into the post should I decide to move the blog later to 
> another "base url". I also want to be able to change the actual markup 
> if I decide to change it.
>
> Once again: THANKS
>
>                         jem
From mikeschinkel at newclarity.net  Sun Apr 12 14:20:25 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun Apr 12 14:20:52 2009
Subject: [wp-hackers] Any way to bypass $wp->query_posts()?
In-Reply-To: <161617690904120034t42098222gbe8003f728dea3b5@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl3B9KP744ed691dd9584494d5fcb,
	mikeschinkel@newclarity.net, 6372170.171239546023779.J>

"Otto" <otto@ottodestruct.com> wrote:
> I'm sorry, and I'm really not trying to be insulting, 
> but I do tend to be fairly blunt. So when I say it 
> makes no sense, then that is exactly

For now I will take that at face value and apologize for my reaction...

> Yes, and you have yet to present any such valid 
> use-cases.

...yet it is this that type of assertion where "blunt" becomes offensive. By this statement you are saying that between you and me you are the only one of us that can judge validity of use-case. Frankly, I find that offensive. I believe that I gave you several valid use-cases and the only thing you did to "invalidate" them was to give your opinion (which you stated as fact) that they were not valid.  

I have recently been deep in the WordPress core finding that use-cases I gave in our discussion are valid, and my guess is that I've been in that exact code tracing it line-by-line with a debugger more recently than you. By the same token I've found that several of the suggestions made on this list in recent past are not completely workable such as that template_redirect gives a plugin or theme dev the control they need for custom URLs because of other hard-coded limitations in the core. 

Yes there are a lot of newbies that come to this forum and yes it is often helpful to try and understand what they are trying to accomplish instead of what they are asking. OTOH some people have actually explored the depths of WordPress core and it would result in less of these threads if you wouldn't assume up front that all others are ignorant and/or idiots and that your opinion is always more valid than theirs.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins
From kparsell-wp at kpdesign.net  Sun Apr 12 15:13:02 2009
From: kparsell-wp at kpdesign.net (Kim Parsell)
Date: Sun Apr 12 15:13:19 2009
Subject: [wp-hackers] Akismet stats
In-Reply-To: <EMEWEMEW2_DELIMl3B9KP744ed691dd9584494d5fcb,
	mikeschinkel@newclarity.net, 6372170.171239546023779.J>
References: <EMEWEMEW2_DELIMl3B9KP744ed691dd9584494d5fcb,
	mikeschinkel@newclarity.net, 6372170.171239546023779.J>
Message-ID: <49E204FE.9050806@kpdesign.net>

I'm looking at the Akismet stats for a WP site that I set up for someone 
back in February of this year.

At the top of the chart it states:

    **4 spams caught, 1,788 legitimate comments, and an overall accuracy 
rate of 100.000%.**

The site has its own Akismet API key that only applies to this one site. 
It is a pages-only site, and there is no commenting allowed anywhere on 
the site, so there cannot have been 1,788 legitimate comments for her site.

Where/how is Akismet coming up with these numbers?

Thanks in advance.

Kim
From beau at dentedreality.com.au  Sun Apr 12 18:42:47 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Sun Apr 12 18:43:02 2009
Subject: [wp-hackers] Akismet stats
In-Reply-To: <49E204FE.9050806@kpdesign.net>
References: <49E204FE.9050806@kpdesign.net>
Message-ID: <902424490904121142x5d21b1cdy2530ae110b798061@mail.gmail.com>

Trackbacks/Pings? They count as comments as well.

On Sun, Apr 12, 2009 at 8:13 AM, Kim Parsell <kparsell-wp@kpdesign.net> wrote:
> I'm looking at the Akismet stats for a WP site that I set up for someone
> back in February of this year.
>
> At the top of the chart it states:
>
> ? **4 spams caught, 1,788 legitimate comments, and an overall accuracy rate
> of 100.000%.**
>
> The site has its own Akismet API key that only applies to this one site. It
> is a pages-only site, and there is no commenting allowed anywhere on the
> site, so there cannot have been 1,788 legitimate comments for her site.
>
> Where/how is Akismet coming up with these numbers?
>
> Thanks in advance.
>
> Kim
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Beau Lebens
Dented Reality
beau@dentedreality.com.au
http://dentedreality.com.au
From kparsell-wp at kpdesign.net  Sun Apr 12 19:05:12 2009
From: kparsell-wp at kpdesign.net (Kim Parsell)
Date: Sun Apr 12 19:05:29 2009
Subject: [wp-hackers] Akismet stats
In-Reply-To: <902424490904121142x5d21b1cdy2530ae110b798061@mail.gmail.com>
References: <49E204FE.9050806@kpdesign.net>
	<902424490904121142x5d21b1cdy2530ae110b798061@mail.gmail.com>
Message-ID: <49E23B68.2040705@kpdesign.net>

There are no trackbacks or pings. The entire site consists of pages only 
- no posts - and comments, trackbacks and pings have been disabled 
site-wide since the beginning. That's why I'm baffled over these numbers.


Kim

-------------------------------

Beau Lebens wrote:
> Trackbacks/Pings? They count as comments as well.
> ------------------------------------------------------
> On Sun, Apr 12, 2009 at 8:13 AM, Kim Parsell <kparsell-wp@kpdesign.net> wrote:
>   
>> I'm looking at the Akismet stats for a WP site that I set up for someone
>> back in February of this year.
>>
>> At the top of the chart it states:
>>
>>   **4 spams caught, 1,788 legitimate comments, and an overall accuracy rate
>> of 100.000%.**
>>
>> The site has its own Akismet API key that only applies to this one site. It
>> is a pages-only site, and there is no commenting allowed anywhere on the
>> site, so there cannot have been 1,788 legitimate comments for her site.
>>
>> Where/how is Akismet coming up with these numbers?
>>
>> Thanks in advance.
>>
>> Kim
From admin at laptoptips.ca  Sun Apr 12 19:29:43 2009
From: admin at laptoptips.ca (Andrew Ozz)
Date: Sun Apr 12 19:29:40 2009
Subject: [wp-hackers] Akismet stats
In-Reply-To: <49E23B68.2040705@kpdesign.net>
References: <49E204FE.9050806@kpdesign.net>	<902424490904121142x5d21b1cdy2530ae110b798061@mail.gmail.com>
	<49E23B68.2040705@kpdesign.net>
Message-ID: <49E24127.7050401@laptoptips.ca>

Kim Parsell wrote:
> There are no trackbacks or pings. The entire site consists of pages only 
> - no posts - and comments, trackbacks and pings have been disabled 
> site-wide since the beginning. That's why I'm baffled over these numbers.

Is the comments table completely empty? Perhaps the same API key was 
used for another site.
From kparsell-wp at kpdesign.net  Sun Apr 12 19:55:26 2009
From: kparsell-wp at kpdesign.net (Kim Parsell)
Date: Sun Apr 12 19:55:41 2009
Subject: [wp-hackers] Akismet stats
In-Reply-To: <49E24127.7050401@laptoptips.ca>
References: <49E204FE.9050806@kpdesign.net>	<902424490904121142x5d21b1cdy2530ae110b798061@mail.gmail.com>	<49E23B68.2040705@kpdesign.net>
	<49E24127.7050401@laptoptips.ca>
Message-ID: <49E2472E.9040702@kpdesign.net>

Andrew:

Yes, the comments table in her database is completely empty.

I acquired the Akismet API key for her back in February 2009, and the 
Akismet stats on her self-hosted WP site start with February 2009.

She only has the one site so hasn't reused this API key.

The historical stats show 1 spam detected in March, and 1,296 legitimate 
comments in February, 226 in March and 135 in April (1,657 total) . At 
the same time, the top of the page shows "4 spams caught, 1,792 
legitimate comments, and an overall accuracy rate of 100.000%", which 
doesn't match the totals in the historical stats.

Very puzzling....

Kim

------------------------------

Andrew Ozz wrote:

Is the comments table completely empty? Perhaps the same API key was 
used for another site.

-----------------------------
> Kim Parsell wrote:
>> There are no trackbacks or pings. The entire site consists of pages 
>> only - no posts - and comments, trackbacks and pings have been 
>> disabled site-wide since the beginning. That's why I'm baffled over 
>> these numbers.
From bingorabbit at gmail.com  Sun Apr 12 20:02:30 2009
From: bingorabbit at gmail.com (Ibrahim A. Mohamed)
Date: Sun Apr 12 20:02:45 2009
Subject: [wp-hackers] Akismet stats
In-Reply-To: <49E2472E.9040702@kpdesign.net>
References: <49E204FE.9050806@kpdesign.net>
	<902424490904121142x5d21b1cdy2530ae110b798061@mail.gmail.com>
	<49E23B68.2040705@kpdesign.net> <49E24127.7050401@laptoptips.ca>
	<49E2472E.9040702@kpdesign.net>
Message-ID: <e05a63ba0904121302u218f66e2yb8595a7a592b3e83@mail.gmail.com>

Try using the API else where and see if it will read another number.

Is there any other SPAM Protection Plugins activated on the same site? -
although I suspect this might cause a problem -

On Sun, Apr 12, 2009 at 9:55 PM, Kim Parsell <kparsell-wp@kpdesign.net>wrote:

> Andrew:
>
> Yes, the comments table in her database is completely empty.
>
> I acquired the Akismet API key for her back in February 2009, and the
> Akismet stats on her self-hosted WP site start with February 2009.
>
> She only has the one site so hasn't reused this API key.
>
> The historical stats show 1 spam detected in March, and 1,296 legitimate
> comments in February, 226 in March and 135 in April (1,657 total) . At the
> same time, the top of the page shows "4 spams caught, 1,792 legitimate
> comments, and an overall accuracy rate of 100.000%", which doesn't match the
> totals in the historical stats.
>
> Very puzzling....
>
> Kim
>
> ------------------------------
>
> Andrew Ozz wrote:
>
> Is the comments table completely empty? Perhaps the same API key was used
> for another site.
>
> -----------------------------
>
>> Kim Parsell wrote:
>>
>>> There are no trackbacks or pings. The entire site consists of pages only
>>> - no posts - and comments, trackbacks and pings have been disabled site-wide
>>> since the beginning. That's why I'm baffled over these numbers.
>>>
>> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards,
Ibrahim Abdel Fattah Mohamed
Web Developer
Twitter: @bingorabbit
e-mail: bingorabbit@gmail.com
Personal bLOG: http://bingorabbit.com/
From gradyfausta at laksmono.com  Mon Apr 13 01:02:27 2009
From: gradyfausta at laksmono.com (Grady Laksmono)
Date: Mon Apr 13 01:02:55 2009
Subject: [wp-hackers] Customizing Sidebar Theme Documentation
In-Reply-To: <349fe48b0904120458p3d644e54o9a416e67a4be6811@mail.gmail.com>
References: <a6cfb8020904111505g607f884dj9a480c339cd31625@mail.gmail.com> 
	<349fe48b0904120458p3d644e54o9a416e67a4be6811@mail.gmail.com>
Message-ID: <a6cfb8020904121802v6da57ae3j7300811d08d99a98@mail.gmail.com>

I've figured that out already, since overall, they're a list.. :)

Thanks!

-- Grady

On Sun, Apr 12, 2009 at 4:58 AM, scribu <scribu@gmail.com> wrote:

> What do you mean by <"sidebar customization" specifically for its theme> ?
>
> And what <theme issue> ?
>
> On 4/12/09, Grady Laksmono <gradyfausta@laksmono.com> wrote:
> > Could anyone direct me to "sidebar customization" specifically for its
> theme
> > documentation? I only found this:
> >
> > http://codex.wordpress.org/Customizing_Your_Sidebar
> >
> > But it doesn't explain the theme issue..
> >
> > Thanks,
> > Grady
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Grady Laksmono
gradyfausta@laksmono.com
www.laksmono.com
From simon at sweetinteraction.com  Mon Apr 13 18:28:58 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Mon Apr 13 18:29:27 2009
Subject: [wp-hackers] Setting up a WP Query with a search
Message-ID: <77c8b7bf0904131128u46a7555bu3969d8b5bacd4624@mail.gmail.com>

Hi,

I want to create a WP_Query which functions as the WordPress search. I
thought this was just a matter of passing in the following as the
args, but that doesn't seem to be working. Can anyone confirm that
this is the right approach (and that I need to fix my own bug) or
suggest another approach, please? I do want to do this with WP_Query
if at all possible, rather than some wrapper function.

Thanks in advance.

S


---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT
From sojweb at indiana.edu  Mon Apr 13 19:21:55 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Mon Apr 13 19:22:21 2009
Subject: [wp-hackers] Setting up a WP Query with a search
In-Reply-To: <77c8b7bf0904131128u46a7555bu3969d8b5bacd4624@mail.gmail.com>
References: <77c8b7bf0904131128u46a7555bu3969d8b5bacd4624@mail.gmail.com>
Message-ID: <AEC8223E-668F-4458-9062-A1018C3E2EA0@indiana.edu>

Are you just trying to modify or override the default WP search? There  
are a few filters you can use to modify the query fairly extensively.  
The Search Everything plugin has some nice code that can give you an  
idea of working with that stuff:

http://wordpress.org/extend/plugins/search-everything/

Not to say it's the best method, depending on what you're doing, but  
it's reasonably straightforward and easy to maintain.


-Jeff

On Apr 13, 2009, at 14:28 PM, Simon Wheatley wrote:

> Hi,
>
> I want to create a WP_Query which functions as the WordPress search. I
> thought this was just a matter of passing in the following as the
> args, but that doesn't seem to be working. Can anyone confirm that
> this is the right approach (and that I need to fix my own bug) or
> suggest another approach, please? I do want to do this with WP_Query
> if at all possible, rather than some wrapper function.
>
> Thanks in advance.
>
> S
>
>
> ---
> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
> Registered office: 7 Malton Av, Manchester, M21 8AT
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From simon at sweetinteraction.com  Mon Apr 13 21:40:34 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Mon Apr 13 21:41:00 2009
Subject: [wp-hackers] Setting up a WP Query with a search
In-Reply-To: <AEC8223E-668F-4458-9062-A1018C3E2EA0@indiana.edu>
References: <77c8b7bf0904131128u46a7555bu3969d8b5bacd4624@mail.gmail.com> 
	<AEC8223E-668F-4458-9062-A1018C3E2EA0@indiana.edu>
Message-ID: <77c8b7bf0904131440l4deca25akda6b7e13cb37212d@mail.gmail.com>

On Mon, Apr 13, 2009 at 8:21 PM, SoJ Web <sojweb@indiana.edu> wrote:
>
> Are you just trying to modify or override the default WP search? There are a
> few filters you can use to modify the query fairly extensively. The Search
> Everything plugin has some nice code that can give you an idea of working
> with that stuff:
>

Thanks for the suggestion. To (attempt to) clarify a little:

Currently I'm creating listings of recent posts in categories for use
on various templates by defining a WP_Query thus:

$args = array(
	'post_type' => $post_type,
	'what_to_show' => 'posts',
	'post_status' => 'publish',
	'posts_per_page' => $num_posts,
	'orderby' => 'modified',
	'order' => 'DESC',
	'cat' => $cat_ids,
);
$new_wp_query = new WP_Query( $args );

I was hoping for something similar, using WP_Query, which would allow
me to return posts as per a WP search but with the results restricted
to a particular set of categories. I'm fine with using the WHERE
filters on the SQL generated by the WP_Query and so I could do my SQL
LIKE stuff here, but I hoped it might be possible to reuse the
existing code in WP_Query which manages the WP search results to
generate my restricted search results. (Seems like less code
duplication.)

I thought it might be as simple as:

$args = array(
	's' => $search_string,
);
$search_wp_query = new WP_Query( $args );

...but that doesn't seem to be working for me. :(

Are you suggesting that I should kick off a WP_Query as per my first
example and then use the WHERE filters to mess with the resultant SQL?

Thanks again.

S


P.S. Search Everything is certainly a nicely coded plugin. :)


---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT
From sojweb at indiana.edu  Mon Apr 13 23:23:50 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Mon Apr 13 23:24:08 2009
Subject: [wp-hackers] Setting up a WP Query with a search
In-Reply-To: <77c8b7bf0904131440l4deca25akda6b7e13cb37212d@mail.gmail.com>
References: <77c8b7bf0904131128u46a7555bu3969d8b5bacd4624@mail.gmail.com>
	<AEC8223E-668F-4458-9062-A1018C3E2EA0@indiana.edu>
	<77c8b7bf0904131440l4deca25akda6b7e13cb37212d@mail.gmail.com>
Message-ID: <D88C1334-D90A-4C60-B0D5-F427996E0E17@indiana.edu>

I think I get what you're saying: You want to have a number of mini- 
loops that list posts from certain categories that match some search  
term? Try something like this:

// query for a given term ("search_term") in some given categories (7  
and 8)
$search_query = new WP_Query();
$search_posts = $search_query->query('s=search_term&cat=7,8');

// build loop
foreach($search_posts as $search_post) {
	setup_postdata($search_post);
	
	// do stuff
}

And you can put those mini-loops wherever you need them. Is that the  
sort of thing you were looking for?

-Jeff


On Apr 13, 2009, at 5:40 PM, Simon Wheatley wrote:

> On Mon, Apr 13, 2009 at 8:21 PM, SoJ Web <sojweb@indiana.edu> wrote:
>>
>> Are you just trying to modify or override the default WP search?  
>> There are a
>> few filters you can use to modify the query fairly extensively. The  
>> Search
>> Everything plugin has some nice code that can give you an idea of  
>> working
>> with that stuff:
>>
>
> Thanks for the suggestion. To (attempt to) clarify a little:
>
> Currently I'm creating listings of recent posts in categories for use
> on various templates by defining a WP_Query thus:
>
> $args = array(
> 	'post_type' => $post_type,
> 	'what_to_show' => 'posts',
> 	'post_status' => 'publish',
> 	'posts_per_page' => $num_posts,
> 	'orderby' => 'modified',
> 	'order' => 'DESC',
> 	'cat' => $cat_ids,
> );
> $new_wp_query = new WP_Query( $args );
>
> I was hoping for something similar, using WP_Query, which would allow
> me to return posts as per a WP search but with the results restricted
> to a particular set of categories. I'm fine with using the WHERE
> filters on the SQL generated by the WP_Query and so I could do my SQL
> LIKE stuff here, but I hoped it might be possible to reuse the
> existing code in WP_Query which manages the WP search results to
> generate my restricted search results. (Seems like less code
> duplication.)
>
> I thought it might be as simple as:
>
> $args = array(
> 	's' => $search_string,
> );
> $search_wp_query = new WP_Query( $args );
>
> ...but that doesn't seem to be working for me. :(
>
> Are you suggesting that I should kick off a WP_Query as per my first
> example and then use the WHERE filters to mess with the resultant SQL?
>
> Thanks again.
>
> S
>
>
> P.S. Search Everything is certainly a nicely coded plugin. :)
>
>
> ---
> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
> Registered office: 7 Malton Av, Manchester, M21 8AT
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From amorphous123 at gmail.com  Tue Apr 14 00:38:32 2009
From: amorphous123 at gmail.com (Robin Chang)
Date: Tue Apr 14 00:38:42 2009
Subject: [wp-hackers] tdo-mini-forms plug-in unique post
Message-ID: <6202bd0904131738w53c6439ch664098630815ace3@mail.gmail.com>

Hi, I am using the tdo-mini-forms plug-in and was wondering how to make it
so that you can't have posts with the same title by the same user. Thanks!
From mikeschinkel at newclarity.net  Tue Apr 14 04:34:36 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Apr 14 04:35:05 2009
Subject: [wp-hackers] Setting up a WP Query with a search
In-Reply-To: <77c8b7bf0904131440l4deca25akda6b7e13cb37212d@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl3CNYa4cbaefcd4b9df1388c5f3d,
	mikeschinkel@newclarity.net, 18140648.981239683674543.J>

Simon:

Though I'm not sure exactly what you are looking for, I *think* that what you want is to use "category__in"

$args = array(
	'post_type' => $post_type,
	'what_to_show' => 'posts',
	'post_status' => 'publish',
	'posts_per_page' => $num_posts,
	'orderby' => 'modified',
	'order' => 'DESC',
	'category__in' => explode(",",$cat_ids),  // Assumes $cat_ids is a comma separated string of category ids.
);
$new_wp_query = new WP_Query( $args );

If this isn't what you need, reply with more details and we'll see what we can do to help.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

----- Original Message -----
From: "Simon Wheatley" <simon@sweetinteraction.com>
To: wp-hackers@lists.automattic.com
Sent: Monday, April 13, 2009 5:40:34 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Setting up a WP Query with a search

On Mon, Apr 13, 2009 at 8:21 PM, SoJ Web <sojweb@indiana.edu> wrote:
>
> Are you just trying to modify or override the default WP search? There are a
> few filters you can use to modify the query fairly extensively. The Search
> Everything plugin has some nice code that can give you an idea of working
> with that stuff:
>

Thanks for the suggestion. To (attempt to) clarify a little:

Currently I'm creating listings of recent posts in categories for use
on various templates by defining a WP_Query thus:

$args = array(
	'post_type' => $post_type,
	'what_to_show' => 'posts',
	'post_status' => 'publish',
	'posts_per_page' => $num_posts,
	'orderby' => 'modified',
	'order' => 'DESC',
	'cat' => $cat_ids,
);
$new_wp_query = new WP_Query( $args );

I was hoping for something similar, using WP_Query, which would allow
me to return posts as per a WP search but with the results restricted
to a particular set of categories. I'm fine with using the WHERE
filters on the SQL generated by the WP_Query and so I could do my SQL
LIKE stuff here, but I hoped it might be possible to reuse the
existing code in WP_Query which manages the WP search results to
generate my restricted search results. (Seems like less code
duplication.)

I thought it might be as simple as:

$args = array(
	's' => $search_string,
);
$search_wp_query = new WP_Query( $args );

...but that doesn't seem to be working for me. :(

Are you suggesting that I should kick off a WP_Query as per my first
example and then use the WHERE filters to mess with the resultant SQL?

Thanks again.

S


P.S. Search Everything is certainly a nicely coded plugin. :)


---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From simon at sweetinteraction.com  Tue Apr 14 06:31:07 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Tue Apr 14 06:31:56 2009
Subject: [wp-hackers] Setting up a WP Query with a search
In-Reply-To: <D88C1334-D90A-4C60-B0D5-F427996E0E17@indiana.edu>
References: <77c8b7bf0904131128u46a7555bu3969d8b5bacd4624@mail.gmail.com> 
	<AEC8223E-668F-4458-9062-A1018C3E2EA0@indiana.edu>
	<77c8b7bf0904131440l4deca25akda6b7e13cb37212d@mail.gmail.com> 
	<D88C1334-D90A-4C60-B0D5-F427996E0E17@indiana.edu>
Message-ID: <77c8b7bf0904132331w10cea36fu5c97fba4c2f619e7@mail.gmail.com>

On Tue, Apr 14, 2009 at 12:23 AM, SoJ Web <sojweb@indiana.edu> wrote:
>
> I think I get what you're saying: You want to have a number of mini-loops
> that list posts from certain categories that match some search term? Try
> something like this:
>
> // query for a given term ("search_term") in some given categories (7 and 8)
> $search_query = new WP_Query();
> $search_posts = $search_query->query('s=search_term&cat=7,8');
>

That worked great. Thank you.

S


---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT
From technocraze at gmail.com  Tue Apr 14 17:13:43 2009
From: technocraze at gmail.com (technocraze)
Date: Tue Apr 14 17:13:56 2009
Subject: [wp-hackers] peculiar problem on setting GMT 
In-Reply-To: <161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
Message-ID: <49E4C447.8020104@gmail.com>

Hi,

I am facing a peculiar problem now.  We have a corporate blog of around 
12000 blogs, and in most of the blogs, there is always members from 
various countries. 

We are setting GMT option only for the blog.  However, how it will 
handle date when members from various countries start posting.

For example, i may set the GMT as 5:30 as i am residing in india.  
however, another member of the blog may post from US, but his post date 
and time will be displayed in indian time.

My view is that we should set GMT for users rather than blogs. 

Your views please.

Regards,
Senthil Raja
From simon at sweetinteraction.com  Tue Apr 14 17:24:11 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Tue Apr 14 17:24:37 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <49E4C447.8020104@gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com> 
	<49E4C447.8020104@gmail.com>
Message-ID: <77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com>

On Tue, Apr 14, 2009 at 6:13 PM, technocraze <technocraze@gmail.com> wrote:
>
> My view is that we should set GMT for users rather than blogs.
> Your views please.
>

This sounds like a very handy plugin for someone to write. ;)

S


---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT
From sojweb at indiana.edu  Tue Apr 14 18:12:52 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Tue Apr 14 18:13:13 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>
	<77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com>
Message-ID: <B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>

Indeed. I think it would be helpful, too, to, in that case, also  
display the GMT offset. You could end up with a post published at 3  
p.m. showing up after a post published at 1 p.m., which would look odd  
in reverse-chronological order unless it were clear that they were  
published in different time zones.


-Jeff

On Apr 14, 2009, at 13:24 PM, Simon Wheatley wrote:

> On Tue, Apr 14, 2009 at 6:13 PM, technocraze <technocraze@gmail.com>  
> wrote:
>>
>> My view is that we should set GMT for users rather than blogs.
>> Your views please.
>>
>
> This sounds like a very handy plugin for someone to write. ;)
>
> S
>
>
> ---
> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
> Registered office: 7 Malton Av, Manchester, M21 8AT
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From beau at dentedreality.com.au  Tue Apr 14 18:24:07 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Tue Apr 14 18:24:21 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>
	<77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com>
	<B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>
Message-ID: <902424490904141124r452a87ecqbbc1a2de3c0e228c@mail.gmail.com>

I'd love to see something along the lines where the blog itself was
allocated a timezone (e.g. where the server is/where the site is
hosted), and each user inherit that TZ by default, but be able to
choose their own. That way the blog's timezone (correlated with the
user's timezone) could be used to calculate the date (in GMT) before
storage, and then each user's timezone could be used to show the
correct time (in their local time) when displaying content.

That being said, it's probably quite a lot of change to do that
everywhere that dates/times are used :)



On Tue, Apr 14, 2009 at 11:12 AM, SoJ Web <sojweb@indiana.edu> wrote:
> Indeed. I think it would be helpful, too, to, in that case, also display the
> GMT offset. You could end up with a post published at 3 p.m. showing up
> after a post published at 1 p.m., which would look odd in
> reverse-chronological order unless it were clear that they were published in
> different time zones.
>
>
> -Jeff
>
> On Apr 14, 2009, at 13:24 PM, Simon Wheatley wrote:
>
>> On Tue, Apr 14, 2009 at 6:13 PM, technocraze <technocraze@gmail.com>
>> wrote:
>>>
>>> My view is that we should set GMT for users rather than blogs.
>>> Your views please.
>>>
>>
>> This sounds like a very handy plugin for someone to write. ;)
>>
>> S
>>
>>
>> ---
>> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
>> Registered office: 7 Malton Av, Manchester, M21 8AT
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Beau Lebens
Dented Reality
beau@dentedreality.com.au
http://dentedreality.com.au
From wp-hackers at striderweb.com  Tue Apr 14 18:30:13 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Apr 14 18:30:29 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>
	<77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com>
	<B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>
Message-ID: <F5DDF143-6EBF-427B-87A0-B6607024F7FD@striderweb.com>

This does sound like an excellent plugin idea.

The blog has its own time zone, but each User has a setting for time  
zone (including "blog default").  Posts are displayed with the  
*blog*'s time zone.  Perhaps the plugin should also add some means for  
Theme authors to also show the author's local time on a post.

Stephen

On Apr 14, 2009, at 1:12 PM, SoJ Web wrote:

> Indeed. I think it would be helpful, too, to, in that case, also  
> display the GMT offset. You could end up with a post published at 3  
> p.m. showing up after a post published at 1 p.m., which would look  
> odd in reverse-chronological order unless it were clear that they  
> were published in different time zones.
>
> On Apr 14, 2009, at 13:24 PM, Simon Wheatley wrote:
>
>> On Tue, Apr 14, 2009 at 6:13 PM, technocraze  
>> <technocraze@gmail.com> wrote:
>>>
>>> My view is that we should set GMT for users rather than blogs.
>>> Your views please.
>>>
>>
>> This sounds like a very handy plugin for someone to write. ;)

From sojweb at indiana.edu  Tue Apr 14 18:38:55 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Tue Apr 14 18:39:10 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <902424490904141124r452a87ecqbbc1a2de3c0e228c@mail.gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>
	<77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com>
	<B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>
	<902424490904141124r452a87ecqbbc1a2de3c0e228c@mail.gmail.com>
Message-ID: <5855355F-A3D1-45A1-AC6D-B59CEE6F7CF3@indiana.edu>

Actually, it ought to be fairly simple. If you stored a user time zone  
as user meta data, then made some filters to hook into the post and  
comment time functions, you could look at the post author, get their  
time zone, and modify the date accordingly. If they don't have a time  
zone, fall back to the blog time zone. It's hard to believe someone  
hasn't done this already... I might try it if I can't find anything.


-Jeff

On Apr 14, 2009, at 14:24 PM, Beau Lebens wrote:

> I'd love to see something along the lines where the blog itself was
> allocated a timezone (e.g. where the server is/where the site is
> hosted), and each user inherit that TZ by default, but be able to
> choose their own. That way the blog's timezone (correlated with the
> user's timezone) could be used to calculate the date (in GMT) before
> storage, and then each user's timezone could be used to show the
> correct time (in their local time) when displaying content.
>
> That being said, it's probably quite a lot of change to do that
> everywhere that dates/times are used :)
>
>
>
> On Tue, Apr 14, 2009 at 11:12 AM, SoJ Web <sojweb@indiana.edu> wrote:
>> Indeed. I think it would be helpful, too, to, in that case, also  
>> display the
>> GMT offset. You could end up with a post published at 3 p.m.  
>> showing up
>> after a post published at 1 p.m., which would look odd in
>> reverse-chronological order unless it were clear that they were  
>> published in
>> different time zones.
>>
>>
>> -Jeff
>>
>> On Apr 14, 2009, at 13:24 PM, Simon Wheatley wrote:
>>
>>> On Tue, Apr 14, 2009 at 6:13 PM, technocraze <technocraze@gmail.com>
>>> wrote:
>>>>
>>>> My view is that we should set GMT for users rather than blogs.
>>>> Your views please.
>>>>
>>>
>>> This sounds like a very handy plugin for someone to write. ;)
>>>
>>> S
>>>
>>>
>>> ---
>>> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
>>> Registered office: 7 Malton Av, Manchester, M21 8AT
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> -- 
> Beau Lebens
> Dented Reality
> beau@dentedreality.com.au
> http://dentedreality.com.au
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From sojweb at indiana.edu  Tue Apr 14 19:25:26 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Tue Apr 14 19:25:42 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <902424490904141124r452a87ecqbbc1a2de3c0e228c@mail.gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>
	<77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com>
	<B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>
	<902424490904141124r452a87ecqbbc1a2de3c0e228c@mail.gmail.com>
Message-ID: <F542335C-E735-44C0-B9DB-FD79E9EE417A@indiana.edu>

I've made a really simple proof-of-concept plugin that seems to do the  
trick. I'll post it in the plugin directory whenever it gets approved,  
but if anyone wants to see it in the meantime, send me an e-mail: sojweb@indiana.edu


-Jeff

On Apr 14, 2009, at 14:24 PM, Beau Lebens wrote:

> I'd love to see something along the lines where the blog itself was
> allocated a timezone (e.g. where the server is/where the site is
> hosted), and each user inherit that TZ by default, but be able to
> choose their own. That way the blog's timezone (correlated with the
> user's timezone) could be used to calculate the date (in GMT) before
> storage, and then each user's timezone could be used to show the
> correct time (in their local time) when displaying content.
>
> That being said, it's probably quite a lot of change to do that
> everywhere that dates/times are used :)
>
>
>
> On Tue, Apr 14, 2009 at 11:12 AM, SoJ Web <sojweb@indiana.edu> wrote:
>> Indeed. I think it would be helpful, too, to, in that case, also  
>> display the
>> GMT offset. You could end up with a post published at 3 p.m.  
>> showing up
>> after a post published at 1 p.m., which would look odd in
>> reverse-chronological order unless it were clear that they were  
>> published in
>> different time zones.
>>
>>
>> -Jeff
>>
>> On Apr 14, 2009, at 13:24 PM, Simon Wheatley wrote:
>>
>>> On Tue, Apr 14, 2009 at 6:13 PM, technocraze <technocraze@gmail.com>
>>> wrote:
>>>>
>>>> My view is that we should set GMT for users rather than blogs.
>>>> Your views please.
>>>>
>>>
>>> This sounds like a very handy plugin for someone to write. ;)
>>>
>>> S
>>>
>>>
>>> ---
>>> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
>>> Registered office: 7 Malton Av, Manchester, M21 8AT
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> -- 
> Beau Lebens
> Dented Reality
> beau@dentedreality.com.au
> http://dentedreality.com.au
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From regulatethis at gmail.com  Tue Apr 14 20:16:18 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Tue Apr 14 20:16:32 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <49E4C447.8020104@gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>
Message-ID: <39fdab560904141316s1bfc7f38t44b33d454660471b@mail.gmail.com>

I'm confused... GMT is GMT no matter if you're in India, the US or
Italy, is it not?

On Tue, Apr 14, 2009 at 1:13 PM, technocraze <technocraze@gmail.com> wrote:
> Hi,
>
> I am facing a peculiar problem now. ?We have a corporate blog of around
> 12000 blogs, and in most of the blogs, there is always members from various
> countries.
> We are setting GMT option only for the blog. ?However, how it will handle
> date when members from various countries start posting.
>
> For example, i may set the GMT as 5:30 as i am residing in india. ?however,
> another member of the blog may post from US, but his post date and time will
> be displayed in indian time.
>
> My view is that we should set GMT for users rather than blogs.
> Your views please.
>
> Regards,
> Senthil Raja
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From sojweb at indiana.edu  Tue Apr 14 20:22:56 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Tue Apr 14 20:23:13 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <39fdab560904141316s1bfc7f38t44b33d454660471b@mail.gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>
	<39fdab560904141316s1bfc7f38t44b33d454660471b@mail.gmail.com>
Message-ID: <36089247-3177-4A39-9653-A131FC3F4447@indiana.edu>

I think he's referring to the GMT offset.


-Jeff

On Apr 14, 2009, at 16:16 PM, Daniel Torreblanca wrote:

> I'm confused... GMT is GMT no matter if you're in India, the US or
> Italy, is it not?
>
> On Tue, Apr 14, 2009 at 1:13 PM, technocraze <technocraze@gmail.com>  
> wrote:
>> Hi,
>>
>> I am facing a peculiar problem now.  We have a corporate blog of  
>> around
>> 12000 blogs, and in most of the blogs, there is always members from  
>> various
>> countries.
>> We are setting GMT option only for the blog.  However, how it will  
>> handle
>> date when members from various countries start posting.
>>
>> For example, i may set the GMT as 5:30 as i am residing in india.   
>> however,
>> another member of the blog may post from US, but his post date and  
>> time will
>> be displayed in indian time.
>>
>> My view is that we should set GMT for users rather than blogs.
>> Your views please.
>>
>> Regards,
>> Senthil Raja
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From regulatethis at gmail.com  Tue Apr 14 20:43:01 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Tue Apr 14 20:43:13 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <36089247-3177-4A39-9653-A131FC3F4447@indiana.edu>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>
	<39fdab560904141316s1bfc7f38t44b33d454660471b@mail.gmail.com>
	<36089247-3177-4A39-9653-A131FC3F4447@indiana.edu>
Message-ID: <39fdab560904141343o16e23127m6d51b3b4293dc735@mail.gmail.com>

Right, but if the blog is set to GMT, then it's GMT. Offsets aren't
used in that case.

On Tue, Apr 14, 2009 at 4:22 PM, SoJ Web <sojweb@indiana.edu> wrote:
> I think he's referring to the GMT offset.
>
>
> -Jeff
>
> On Apr 14, 2009, at 16:16 PM, Daniel Torreblanca wrote:
>
>> I'm confused... GMT is GMT no matter if you're in India, the US or
>> Italy, is it not?
>>
>> On Tue, Apr 14, 2009 at 1:13 PM, technocraze <technocraze@gmail.com>
>> wrote:
>>>
>>> Hi,
>>>
>>> I am facing a peculiar problem now. ?We have a corporate blog of around
>>> 12000 blogs, and in most of the blogs, there is always members from
>>> various
>>> countries.
>>> We are setting GMT option only for the blog. ?However, how it will handle
>>> date when members from various countries start posting.
>>>
>>> For example, i may set the GMT as 5:30 as i am residing in india.
>>> ?however,
>>> another member of the blog may post from US, but his post date and time
>>> will
>>> be displayed in indian time.
>>>
>>> My view is that we should set GMT for users rather than blogs.
>>> Your views please.
>>>
>>> Regards,
>>> Senthil Raja
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From sojweb at indiana.edu  Tue Apr 14 20:55:13 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Tue Apr 14 20:55:30 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <39fdab560904141343o16e23127m6d51b3b4293dc735@mail.gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>
	<39fdab560904141316s1bfc7f38t44b33d454660471b@mail.gmail.com>
	<36089247-3177-4A39-9653-A131FC3F4447@indiana.edu>
	<39fdab560904141343o16e23127m6d51b3b4293dc735@mail.gmail.com>
Message-ID: <45EBD2AF-9E43-4B25-9496-A984B2C351DE@indiana.edu>

Right, but I'm pretty sure he's not actually setting it to GMT. He  
says he'd set GMT "as" 5:30, but I'm assuming he means GMT+5:30, which  
is Indian Standard Time. I think there's just a bit terminology  
confusion there.


-Jeff

On Apr 14, 2009, at 16:43 PM, Daniel Torreblanca wrote:

> Right, but if the blog is set to GMT, then it's GMT. Offsets aren't
> used in that case.
>
> On Tue, Apr 14, 2009 at 4:22 PM, SoJ Web <sojweb@indiana.edu> wrote:
>> I think he's referring to the GMT offset.
>>
>>
>> -Jeff
>>
>> On Apr 14, 2009, at 16:16 PM, Daniel Torreblanca wrote:
>>
>>> I'm confused... GMT is GMT no matter if you're in India, the US or
>>> Italy, is it not?
>>>
>>> On Tue, Apr 14, 2009 at 1:13 PM, technocraze <technocraze@gmail.com>
>>> wrote:
>>>>
>>>> Hi,
>>>>
>>>> I am facing a peculiar problem now.  We have a corporate blog of  
>>>> around
>>>> 12000 blogs, and in most of the blogs, there is always members from
>>>> various
>>>> countries.
>>>> We are setting GMT option only for the blog.  However, how it  
>>>> will handle
>>>> date when members from various countries start posting.
>>>>
>>>> For example, i may set the GMT as 5:30 as i am residing in india.
>>>>  however,
>>>> another member of the blog may post from US, but his post date  
>>>> and time
>>>> will
>>>> be displayed in indian time.
>>>>
>>>> My view is that we should set GMT for users rather than blogs.
>>>> Your views please.
>>>>
>>>> Regards,
>>>> Senthil Raja
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From regulatethis at gmail.com  Tue Apr 14 21:09:59 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Tue Apr 14 21:15:30 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <45EBD2AF-9E43-4B25-9496-A984B2C351DE@indiana.edu>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>
	<39fdab560904141316s1bfc7f38t44b33d454660471b@mail.gmail.com>
	<36089247-3177-4A39-9653-A131FC3F4447@indiana.edu>
	<39fdab560904141343o16e23127m6d51b3b4293dc735@mail.gmail.com>
	<45EBD2AF-9E43-4B25-9496-A984B2C351DE@indiana.edu>
Message-ID: <39fdab560904141409pbf3d8edr74470cf3688f286b@mail.gmail.com>

ahhhhhh right well that clears things up. hehe

On Tue, Apr 14, 2009 at 4:55 PM, SoJ Web <sojweb@indiana.edu> wrote:
> Right, but I'm pretty sure he's not actually setting it to GMT. He says he'd
> set GMT "as" 5:30, but I'm assuming he means GMT+5:30, which is Indian
> Standard Time. I think there's just a bit terminology confusion there.
>
>
> -Jeff
>
> On Apr 14, 2009, at 16:43 PM, Daniel Torreblanca wrote:
>
>> Right, but if the blog is set to GMT, then it's GMT. Offsets aren't
>> used in that case.
>>
>> On Tue, Apr 14, 2009 at 4:22 PM, SoJ Web <sojweb@indiana.edu> wrote:
>>>
>>> I think he's referring to the GMT offset.
>>>
>>>
>>> -Jeff
>>>
>>> On Apr 14, 2009, at 16:16 PM, Daniel Torreblanca wrote:
>>>
>>>> I'm confused... GMT is GMT no matter if you're in India, the US or
>>>> Italy, is it not?
>>>>
>>>> On Tue, Apr 14, 2009 at 1:13 PM, technocraze <technocraze@gmail.com>
>>>> wrote:
>>>>>
>>>>> Hi,
>>>>>
>>>>> I am facing a peculiar problem now. ?We have a corporate blog of around
>>>>> 12000 blogs, and in most of the blogs, there is always members from
>>>>> various
>>>>> countries.
>>>>> We are setting GMT option only for the blog. ?However, how it will
>>>>> handle
>>>>> date when members from various countries start posting.
>>>>>
>>>>> For example, i may set the GMT as 5:30 as i am residing in india.
>>>>> ?however,
>>>>> another member of the blog may post from US, but his post date and time
>>>>> will
>>>>> be displayed in indian time.
>>>>>
>>>>> My view is that we should set GMT for users rather than blogs.
>>>>> Your views please.
>>>>>
>>>>> Regards,
>>>>> Senthil Raja
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers@lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From otto at ottodestruct.com  Tue Apr 14 23:25:37 2009
From: otto at ottodestruct.com (Otto)
Date: Tue Apr 14 23:26:06 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <F5DDF143-6EBF-427B-87A0-B6607024F7FD@striderweb.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com> 
	<49E4C447.8020104@gmail.com>
	<77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com> 
	<B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>
	<F5DDF143-6EBF-427B-87A0-B6607024F7FD@striderweb.com>
Message-ID: <161617690904141625l2e88b696i1c5dc2ac28eb2af7@mail.gmail.com>

The problem with setting time zone on a per-user basis is that posts
can then get out of order when displayed chronologically.

Example: I'm in Central, another user who can post is in Eastern time.
It's 6pm here, 7pm there. He makes a post at 7 pm his time, then a
half hour later, I make a post at 6:30pm my time. My post will show up
before his, even though I made it later.

Since most cases involve displaying posts in some order by time, this
is problematic.


Obviously, one could do calculation and change the display times to
the time zone of the user viewing them, but then valuable information
is lost. I probably don't care what time it was for *me* when he made
the post. But I might care what time it was for *him* when he made the
post. Showing the time he made it in my timezone is rather pointless.
What if he's talking about having his lunch but I see his post at 3am?
Confusing, at best.


-Otto
From beau at dentedreality.com.au  Tue Apr 14 23:42:04 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Tue Apr 14 23:42:15 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <161617690904141625l2e88b696i1c5dc2ac28eb2af7@mail.gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>
	<77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com>
	<B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>
	<F5DDF143-6EBF-427B-87A0-B6607024F7FD@striderweb.com>
	<161617690904141625l2e88b696i1c5dc2ac28eb2af7@mail.gmail.com>
Message-ID: <902424490904141642u387f282blee382a50e0e76b58@mail.gmail.com>

> The problem with setting time zone on a per-user basis is that posts
> can then get out of order when displayed chronologically.

If posts are stored with their GMT time (which they are), then they
would be sorted according to that, which should keep them in the
correct order all the time, since it's a "standardized scale".

> Obviously, one could do calculation and change the display times to
> the time zone of the user viewing them, but then valuable information
> is lost. I probably don't care what time it was for *me* when he made
> the post. But I might care what time it was for *him* when he made the
> post. Showing the time he made it in my timezone is rather pointless.
> What if he's talking about having his lunch but I see his post at 3am?
> Confusing, at best.

I would argue that in some cases it absolutely makes sense to display
things in the viewer's timezone, but agree that there are also times
when the opposite is true. I agree with Stephen's suggestion of having
a new template tag (function) that allows theme authors to display
whatever they want (GMT, author's time, viewer's time). Perhaps if
we're talking about a plugin anyway, that could just be added as an
option so that when users set their own timezone, they pick how they
want to see times as well.

Beau
From yahgrp at poplarware.com  Tue Apr 14 23:46:58 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Tue Apr 14 23:45:56 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <161617690904141625l2e88b696i1c5dc2ac28eb2af7@mail.gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>	<77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com>
	<B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>	<F5DDF143-6EBF-427B-87A0-B6607024F7FD@striderweb.com>
	<161617690904141625l2e88b696i1c5dc2ac28eb2af7@mail.gmail.com>
Message-ID: <49E52072.3030403@poplarware.com>

Otto -- I think that WP stores all times for updates and such as GMT 
behind the scenes, by converting from the display time zone to GMT 
before storing the information.

So I don't think you'd get out of order issues you are worried about.

Then again, I am running out the door and didn't check the code, so I 
could be wrong.  Check the code to be sure, but I think this storage 
convention is what would also allow you to change the time zone for 
your blog and have everything magically display in the new time zone.

    --Jennifer

Otto wrote:
> The problem with setting time zone on a per-user basis is that posts
> can then get out of order when displayed chronologically.

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming

From sojweb at indiana.edu  Tue Apr 14 23:53:11 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Tue Apr 14 23:53:33 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <49E52072.3030403@poplarware.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>	<77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com>
	<B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>	<F5DDF143-6EBF-427B-87A0-B6607024F7FD@striderweb.com>
	<161617690904141625l2e88b696i1c5dc2ac28eb2af7@mail.gmail.com>
	<49E52072.3030403@poplarware.com>
Message-ID: <2FB83D28-0788-4827-B2EF-B0238EE39943@indiana.edu>

And if all you do is apply a filter to the time display functions,  
you're not messing with the timestamps in the database or the  
chronology anyway.

-Jeff


On Apr 14, 2009, at 7:46 PM, Jennifer Hodgdon wrote:

> Otto -- I think that WP stores all times for updates and such as GMT  
> behind the scenes, by converting from the display time zone to GMT  
> before storing the information.
>
> So I don't think you'd get out of order issues you are worried about.
>
> Then again, I am running out the door and didn't check the code, so  
> I could be wrong.  Check the code to be sure, but I think this  
> storage convention is what would also allow you to change the time  
> zone for your blog and have everything magically display in the new  
> time zone.
>
>   --Jennifer
>
> Otto wrote:
>> The problem with setting time zone on a per-user basis is that posts
>> can then get out of order when displayed chronologically.
>
> -- 
> Jennifer Hodgdon * Poplar ProductivityWare
> www.poplarware.com
> Drupal, WordPress, and custom Web programming
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From otto at ottodestruct.com  Wed Apr 15 01:57:50 2009
From: otto at ottodestruct.com (Otto)
Date: Wed Apr 15 01:58:17 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <902424490904141642u387f282blee382a50e0e76b58@mail.gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com> 
	<49E4C447.8020104@gmail.com>
	<77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com> 
	<B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>
	<F5DDF143-6EBF-427B-87A0-B6607024F7FD@striderweb.com> 
	<161617690904141625l2e88b696i1c5dc2ac28eb2af7@mail.gmail.com> 
	<902424490904141642u387f282blee382a50e0e76b58@mail.gmail.com>
Message-ID: <161617690904141857h1ecb72dbs5def5a362e173c0d@mail.gmail.com>

On Tue, Apr 14, 2009 at 6:42 PM, Beau Lebens <beau@dentedreality.com.au> wrote:
> If posts are stored with their GMT time (which they are), then they
> would be sorted according to that, which should keep them in the
> correct order all the time, since it's a "standardized scale".

On Tue, Apr 14, 2009 at 6:46 PM, Jennifer Hodgdon <yahgrp@poplarware.com> wrote:
> Otto -- I think that WP stores all times for updates and such as GMT behind
> the scenes, by converting from the display time zone to GMT before storing
> the information.

WordPress stores both, actually. Local time in the post_date column
and GMT time in the post_date_gmt column.

However, the query system only uses the post_date, not the GMT version
of it. So yes, your ordering will be wrong with the current code.


On Tue, Apr 14, 2009 at 6:53 PM, SoJ Web <sojweb@indiana.edu> wrote:
> And if all you do is apply a filter to the time display functions, you're
> not messing with the timestamps in the database or the chronology anyway.

That is a valid point, however you're limiting your audience
unnecessarily here, I think. Why only allow registered users to see it
in their time zone? If you're going to display time in the viewer's
timezone, then it seems to me that a javascript approach to detect the
time zone and adjust accordingly makes more sense. Then it works for
everybody, without any server side code really necessary.

The only reason I can see to have users have their own time zone is to
adjust the times of their posts to their local time, instead of to the
blog's local time. And that's perfectly fine and dandy, just don't
forget the ordering issues you'll have. This should be a relatively
simple fix though, just fix the order bit in wp-includes/query.php to
use post_date_gmt instead of post_date.

-Otto
Sent from Memphis, Tennessee, United States
From Jesse.Silverstein at xerox.com  Wed Apr 15 04:24:35 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Wed Apr 15 04:26:02 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <161617690904141857h1ecb72dbs5def5a362e173c0d@mail.gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com><161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com><77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com>
	<B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu><F5DDF143-6EBF-427B-87A0-B6607024F7FD@striderweb.com>
	<161617690904141625l2e88b696i1c5dc2ac28eb2af7@mail.gmail.com>
	<902424490904141642u387f282blee382a50e0e76b58@mail.gmail.com>
	<161617690904141857h1ecb72dbs5def5a362e173c0d@mail.gmail.com>
Message-ID: <F25F2C8DE17FB546A90DB3CF77461427063B35CD@USA0300MS04.na.xerox.net>

It should also be possible to display both the time relative to the post
author and the time relative to the viewing user. It could be as simple
as "17:30 IST (08:00 EST)" where IST is the author's time zone and the
user is viewing from EST. Assuming the query is changed to sort based on
post_date_gmt (which is should be), the author's time should be stored
in post_date, and is easily display (already), then detect users TZ via
JS and calculate from GMT and display both. As one of the options from a
theming standpoint, this gives users both sets of information: "What
time did s/he post this?" & "What time was it here when this was
posted?"

-Jesse Silverstein

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Otto
Sent: Tuesday, April 14, 2009 9:58 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] peculiar problem on setting GMT

On Tue, Apr 14, 2009 at 6:42 PM, Beau Lebens <beau@dentedreality.com.au>
wrote:
> If posts are stored with their GMT time (which they are), then they
> would be sorted according to that, which should keep them in the
> correct order all the time, since it's a "standardized scale".

On Tue, Apr 14, 2009 at 6:46 PM, Jennifer Hodgdon
<yahgrp@poplarware.com> wrote:
> Otto -- I think that WP stores all times for updates and such as GMT
behind
> the scenes, by converting from the display time zone to GMT before
storing
> the information.

WordPress stores both, actually. Local time in the post_date column
and GMT time in the post_date_gmt column.

However, the query system only uses the post_date, not the GMT version
of it. So yes, your ordering will be wrong with the current code.


On Tue, Apr 14, 2009 at 6:53 PM, SoJ Web <sojweb@indiana.edu> wrote:
> And if all you do is apply a filter to the time display functions,
you're
> not messing with the timestamps in the database or the chronology
anyway.

That is a valid point, however you're limiting your audience
unnecessarily here, I think. Why only allow registered users to see it
in their time zone? If you're going to display time in the viewer's
timezone, then it seems to me that a javascript approach to detect the
time zone and adjust accordingly makes more sense. Then it works for
everybody, without any server side code really necessary.

The only reason I can see to have users have their own time zone is to
adjust the times of their posts to their local time, instead of to the
blog's local time. And that's perfectly fine and dandy, just don't
forget the ordering issues you'll have. This should be a relatively
simple fix though, just fix the order bit in wp-includes/query.php to
use post_date_gmt instead of post_date.

-Otto
Sent from Memphis, Tennessee, United States
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mark.cunningham at gmail.com  Wed Apr 15 07:54:38 2009
From: mark.cunningham at gmail.com (Mark Cunningham)
Date: Wed Apr 15 07:54:51 2009
Subject: [wp-hackers] tdo-mini-forms plug-in unique post
In-Reply-To: <6202bd0904131738w53c6439ch664098630815ace3@mail.gmail.com>
References: <6202bd0904131738w53c6439ch664098630815ace3@mail.gmail.com>
Message-ID: <ee3949160904150054n35b20eb1yfd03aee55d4a1ded@mail.gmail.com>

2009/4/14 Robin Chang <amorphous123@gmail.com>:
> Hi, I am using the tdo-mini-forms plug-in and was wondering how to make it
> so that you can't have posts with the same title by the same user. Thanks!

The wp-hackers list is probably not the place to look for support on a
particularly plugin. I'd recommend using the support forum I set up
for tdomf at http://thedeadone.net/forum/ (all powered by
tdo-mini-forms and wordpress!).

That said, what you suggest is doable, but I won't have time to
consider it for the next release (when ever that is).

-- 
http://thedeadone.net
http://lostheroesrpg.com
http://irishgamingwiki.com
From sojweb at indiana.edu  Wed Apr 15 12:43:37 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Wed Apr 15 13:15:06 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <161617690904141857h1ecb72dbs5def5a362e173c0d@mail.gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>
	<77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com>
	<B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>
	<F5DDF143-6EBF-427B-87A0-B6607024F7FD@striderweb.com>
	<161617690904141625l2e88b696i1c5dc2ac28eb2af7@mail.gmail.com>
	<902424490904141642u387f282blee382a50e0e76b58@mail.gmail.com>
	<161617690904141857h1ecb72dbs5def5a362e173c0d@mail.gmail.com>
Message-ID: <8E312264-8A80-44F5-A9F1-5ECC1DB39821@indiana.edu>

On Apr 14, 2009, at 21:57 PM, Otto wrote:
> On Tue, Apr 14, 2009 at 6:53 PM, SoJ Web <sojweb@indiana.edu> wrote:
>> And if all you do is apply a filter to the time display functions,  
>> you're
>> not messing with the timestamps in the database or the chronology  
>> anyway.
>
> That is a valid point, however you're limiting your audience
> unnecessarily here, I think. Why only allow registered users to see it
> in their time zone? If you're going to display time in the viewer's
> timezone, then it seems to me that a javascript approach to detect the
> time zone and adjust accordingly makes more sense. Then it works for
> everybody, without any server side code really necessary.
>

I was actually speaking to a related, but different issue: not  
displaying in the viewer's time zone, rather, displaying the author's  
time zone. So if the server is in central time, and I'm in eastern,  
the published dates for my posts will show my (eastern) time (while  
also displaying the GMT offset... otherwise it could get really  
confusing). But for displaying in the viewer's time zone, I totally  
agree, JavaScript is the way to go.

-Jeff
From otto at ottodestruct.com  Wed Apr 15 16:37:27 2009
From: otto at ottodestruct.com (Otto)
Date: Wed Apr 15 16:37:55 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <8E312264-8A80-44F5-A9F1-5ECC1DB39821@indiana.edu>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com> 
	<49E4C447.8020104@gmail.com>
	<77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com> 
	<B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>
	<F5DDF143-6EBF-427B-87A0-B6607024F7FD@striderweb.com> 
	<161617690904141625l2e88b696i1c5dc2ac28eb2af7@mail.gmail.com> 
	<902424490904141642u387f282blee382a50e0e76b58@mail.gmail.com> 
	<161617690904141857h1ecb72dbs5def5a362e173c0d@mail.gmail.com> 
	<8E312264-8A80-44F5-A9F1-5ECC1DB39821@indiana.edu>
Message-ID: <161617690904150937m49569b7btc3b6a42a01b24a14@mail.gmail.com>

On Wed, Apr 15, 2009 at 7:43 AM, SoJ Web <sojweb@indiana.edu> wrote:
> I was actually speaking to a related, but different issue: not displaying in
> the viewer's time zone, rather, displaying the author's time zone. So if the
> server is in central time, and I'm in eastern, the published dates for my
> posts will show my (eastern) time (while also displaying the GMT offset...
> otherwise it could get really confusing).

Ahh. Well, okay, for that you don't need any special display code at
all. Just a per-user timezone adjustment setting. Then, the post_date
will get set by the user values instead of the overall blog values,
and the_date() will display the author time more or less
automatically. If you want to get the gmt time of a post, you have to
use get_post_time() with the second parameter being true, just like
always.

This is even a relatively easy plugin to do. Just have a usermeta
value to store the user's timezone, then stick a filter onto
pre_option_gmt_offset to adjust the offset accordingly for the current
user. Done.


-Otto
Sent from Memphis, Tennessee, United States
From sojweb at indiana.edu  Wed Apr 15 17:05:36 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Wed Apr 15 17:05:53 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <161617690904150937m49569b7btc3b6a42a01b24a14@mail.gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>
	<77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com>
	<B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>
	<F5DDF143-6EBF-427B-87A0-B6607024F7FD@striderweb.com>
	<161617690904141625l2e88b696i1c5dc2ac28eb2af7@mail.gmail.com>
	<902424490904141642u387f282blee382a50e0e76b58@mail.gmail.com>
	<161617690904141857h1ecb72dbs5def5a362e173c0d@mail.gmail.com>
	<8E312264-8A80-44F5-A9F1-5ECC1DB39821@indiana.edu>
	<161617690904150937m49569b7btc3b6a42a01b24a14@mail.gmail.com>
Message-ID: <DB34EB3B-CE87-44F8-A96A-E106984A0DB7@indiana.edu>

Way ahead of you, made the plugin last night :-). I wasn't aware of  
that pre_option_gmt_offset filter, though, that'll make it simpler;  
many thanks. I'm doing some polishing and will upload it later.


-Jeff

On Apr 15, 2009, at 12:37 PM, Otto wrote:

> On Wed, Apr 15, 2009 at 7:43 AM, SoJ Web <sojweb@indiana.edu> wrote:
>> I was actually speaking to a related, but different issue: not  
>> displaying in
>> the viewer's time zone, rather, displaying the author's time zone.  
>> So if the
>> server is in central time, and I'm in eastern, the published dates  
>> for my
>> posts will show my (eastern) time (while also displaying the GMT  
>> offset...
>> otherwise it could get really confusing).
>
> Ahh. Well, okay, for that you don't need any special display code at
> all. Just a per-user timezone adjustment setting. Then, the post_date
> will get set by the user values instead of the overall blog values,
> and the_date() will display the author time more or less
> automatically. If you want to get the gmt time of a post, you have to
> use get_post_time() with the second parameter being true, just like
> always.
>
> This is even a relatively easy plugin to do. Just have a usermeta
> value to store the user's timezone, then stick a filter onto
> pre_option_gmt_offset to adjust the offset accordingly for the current
> user. Done.
>
>
> -Otto
> Sent from Memphis, Tennessee, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From matthias.vandermaesen at gmail.com  Wed Apr 15 19:37:31 2009
From: matthias.vandermaesen at gmail.com (Matthias Vandermaesen)
Date: Wed Apr 15 19:37:46 2009
Subject: [wp-hackers] Looking for: translators willing to take a look at
	this plugin
Message-ID: <de824f710904151237x5fd173fdl20988592ac0e7bd2@mail.gmail.com>

Hi,

I'm the maintainer of WP Mollom, an plugin that brings the Mollom anti-spam
service (http://www.mollom.com) to the Wordpress platform. The plugin is now
over a year in development. It's been tested quite thoroughly.

As every good plugin does, it allows for localization. I've already received
several translations over the past months (chinese, english, german,...)
Now, I wondered if I could get anyone on the WP Hackers list interested to
translate the plugin in his/her native language. The PO file weighs in about
90 strings. So, If you have an hour or so to spare, you might consider
firing up POEdit (or any other localization tool you like using) and send me
your translation. It would help a great deal in making the plugin available
for a larger potential userbase.

You can download a copy of the plugin here:

http://wordpress.org/extend/plugins/wp-mollom/

Of course, if you have further suggestions on how to improve the plugin, I'm
happy to hear from you!

With regards,

Matthias Vandermaesen
-- 
http://www.netsensei.nl
From scribu at gmail.com  Wed Apr 15 21:10:08 2009
From: scribu at gmail.com (scribu)
Date: Wed Apr 15 21:10:24 2009
Subject: [wp-hackers] Looking for: translators willing to take a look at 
	this plugin
In-Reply-To: <de824f710904151237x5fd173fdl20988592ac0e7bd2@mail.gmail.com>
References: <de824f710904151237x5fd173fdl20988592ac0e7bd2@mail.gmail.com>
Message-ID: <349fe48b0904151410q54fb967et1c37b745fc0e1dbf@mail.gmail.com>

Perhaps wp-polyglots would be the right list to post this.

On 4/15/09, Matthias Vandermaesen <matthias.vandermaesen@gmail.com> wrote:
> Hi,
>
> I'm the maintainer of WP Mollom, an plugin that brings the Mollom anti-spam
> service (http://www.mollom.com) to the Wordpress platform. The plugin is now
> over a year in development. It's been tested quite thoroughly.
>
> As every good plugin does, it allows for localization. I've already received
> several translations over the past months (chinese, english, german,...)
> Now, I wondered if I could get anyone on the WP Hackers list interested to
> translate the plugin in his/her native language. The PO file weighs in about
> 90 strings. So, If you have an hour or so to spare, you might consider
> firing up POEdit (or any other localization tool you like using) and send me
> your translation. It would help a great deal in making the plugin available
> for a larger potential userbase.
>
> You can download a copy of the plugin here:
>
> http://wordpress.org/extend/plugins/wp-mollom/
>
> Of course, if you have further suggestions on how to improve the plugin, I'm
> happy to hear from you!
>
> With regards,
>
> Matthias Vandermaesen
> --
> http://www.netsensei.nl
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
http://scribu.net
From matthias.vandermaesen at gmail.com  Thu Apr 16 06:48:54 2009
From: matthias.vandermaesen at gmail.com (Matthias Vandermaesen)
Date: Thu Apr 16 06:49:12 2009
Subject: [wp-hackers] Looking for: translators willing to take a look at 
	this plugin
In-Reply-To: <349fe48b0904151410q54fb967et1c37b745fc0e1dbf@mail.gmail.com>
References: <de824f710904151237x5fd173fdl20988592ac0e7bd2@mail.gmail.com>
	<349fe48b0904151410q54fb967et1c37b745fc0e1dbf@mail.gmail.com>
Message-ID: <de824f710904152348y229e0706q53c0d24f96f9fc4f@mail.gmail.com>

Thanks! Will post my question on that list!

On Wed, Apr 15, 2009 at 11:10 PM, scribu <scribu@gmail.com> wrote:

> Perhaps wp-polyglots would be the right list to post this.
>
> On 4/15/09, Matthias Vandermaesen <matthias.vandermaesen@gmail.com> wrote:
> > Hi,
> >
> > I'm the maintainer of WP Mollom, an plugin that brings the Mollom
> anti-spam
> > service (http://www.mollom.com) to the Wordpress platform. The plugin is
> now
> > over a year in development. It's been tested quite thoroughly.
> >
> > As every good plugin does, it allows for localization. I've already
> received
> > several translations over the past months (chinese, english, german,...)
> > Now, I wondered if I could get anyone on the WP Hackers list interested
> to
> > translate the plugin in his/her native language. The PO file weighs in
> about
> > 90 strings. So, If you have an hour or so to spare, you might consider
> > firing up POEdit (or any other localization tool you like using) and send
> me
> > your translation. It would help a great deal in making the plugin
> available
> > for a larger potential userbase.
> >
> > You can download a copy of the plugin here:
> >
> > http://wordpress.org/extend/plugins/wp-mollom/
> >
> > Of course, if you have further suggestions on how to improve the plugin,
> I'm
> > happy to hear from you!
> >
> > With regards,
> >
> > Matthias Vandermaesen
> > --
> > http://www.netsensei.nl
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://www.netsensei.nl
From jane at automattic.com  Thu Apr 16 11:39:21 2009
From: jane at automattic.com (Jane Wells)
Date: Thu Apr 16 11:40:22 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <20090409002439.5E9AC6B7D@comox.textdrive.com>
References: <20090409002439.5E9AC6B7D@comox.textdrive.com>
Message-ID: <E46CDA61-E21D-41F8-A038-31882315A77E@automattic.com>

Hi everyone. A reminder post will go live on the dev blog at 4pm UTC/ 
9am Pacific about the 24-hour has-patch marathon that's happening  
today/tomorrow, but I thought I'd drop a note in here as well. I sent  
a note to the testers list about testing the almost 200 patches that  
are currently in Trac, so hopefully a lot of the patches that have  
been submitted can be committed during the marathon.

There are almost 200 tickets with patches, but over 300 that need a  
patch. And we haven't even gotten to bug hinting for 2.8. We're in  
feature freeze for 2.8 as of today, so we'll announce a bug hunt  
sometime soon. It would be great to clear out some of these existing  
tickets. If you can make time to write a patch for any of these 300  
today, that would be awesome. If you don't have time to code, maybe  
you could at least help out with the testing? Whatever you can do  
would be great.

Here are all the 2.8 tickets, if you want to start patching:


Here are the tickets with patches, if you want to start testing:

http://core.trac.wordpress.org/query?status=assigned&status=new&status=reopened&order=priority&col=id&col=summary&col=status&col=owner&col=type&col=priority&col=component&milestone=2.8&keywords= 
~has-patch

And if anyone plans to stay up and actually write or test patches for  
the full 24 hours, let me know. If you're blogging/twittering about it  
throughout the marathon (saying what tickets you're currently working  
on or whatever), I might point to you as an example from the WordPress  
twitter account.

When I put up the results of the marathon on the dev blog on Monday,  
I'll also link to the top 5 testers and top 5 patch contributors from  
the 24-hour marathon period, which begins in a few hours at 4pm UTC/ 
9am Pacific  and runs until 4pm UTC/9am Pacific on Friday.

Thanks!
Jane
From jane at automattic.com  Thu Apr 16 11:44:47 2009
From: jane at automattic.com (Jane Wells)
Date: Thu Apr 16 11:45:29 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY - link
In-Reply-To: <20090416114025.ADE9D6B5F@comox.textdrive.com>
References: <20090416114025.ADE9D6B5F@comox.textdrive.com>
Message-ID: <9331D2B6-DBE7-4F4F-B15D-E951B0C754E0@automattic.com>

Sorry, apparently my brain isn't working. Here's the link for the 500+  
2.8 open tickets:
http://core.trac.wordpress.org/query?status=assigned&status=new&status=reopened&order=priority&milestone=2.8

jane
From casey.bisson at gmail.com  Thu Apr 16 12:51:35 2009
From: casey.bisson at gmail.com (Casey Bisson)
Date: Thu Apr 16 12:53:11 2009
Subject: [wp-hackers] repeating fields in usermeta?
Message-ID: <59E134B7-A9D0-4B67-8B70-85BB398D3B0B@gmail.com>


An application I'm working on needs to store an arbitrary number of  
email addresses and phone numbers per user. The wp_users table  
obviously isn't the place, but the wp_usermeta table might not be  
either. The get_ and update_usermeta functions aren't built for it,  
anyway.

The various postmeta functions are very smart about handling multiple  
entries of the same meta_key per post, but not the usermeta functions.  
Is that by design?

--Casey

http://maisonbisson.com/
http://about.scriblio.net/
From sojweb at indiana.edu  Thu Apr 16 12:56:16 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Thu Apr 16 12:56:36 2009
Subject: [wp-hackers] repeating fields in usermeta?
In-Reply-To: <59E134B7-A9D0-4B67-8B70-85BB398D3B0B@gmail.com>
References: <59E134B7-A9D0-4B67-8B70-85BB398D3B0B@gmail.com>
Message-ID: <42A62C59-2D5A-4D34-83FC-3963A612394B@indiana.edu>

Would it not be possible to store the e-mail addresses and phone  
numbers as serialized arrays under one meta key?


-Jeff

On Apr 16, 2009, at 8:51 AM, Casey Bisson wrote:

>
> An application I'm working on needs to store an arbitrary number of  
> email addresses and phone numbers per user. The wp_users table  
> obviously isn't the place, but the wp_usermeta table might not be  
> either. The get_ and update_usermeta functions aren't built for it,  
> anyway.
>
> The various postmeta functions are very smart about handling  
> multiple entries of the same meta_key per post, but not the usermeta  
> functions. Is that by design?
>
> --Casey
>
> http://maisonbisson.com/
> http://about.scriblio.net/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wp-hackers at striderweb.com  Thu Apr 16 12:58:00 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu Apr 16 12:58:28 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <DB34EB3B-CE87-44F8-A96A-E106984A0DB7@indiana.edu>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>
	<77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com>
	<B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>
	<F5DDF143-6EBF-427B-87A0-B6607024F7FD@striderweb.com>
	<161617690904141625l2e88b696i1c5dc2ac28eb2af7@mail.gmail.com>
	<902424490904141642u387f282blee382a50e0e76b58@mail.gmail.com>
	<161617690904141857h1ecb72dbs5def5a362e173c0d@mail.gmail.com>
	<8E312264-8A80-44F5-A9F1-5ECC1DB39821@indiana.edu>
	<161617690904150937m49569b7btc3b6a42a01b24a14@mail.gmail.com>
	<DB34EB3B-CE87-44F8-A96A-E106984A0DB7@indiana.edu>
Message-ID: <7F9199E6-A1DA-45D1-A70C-6718AA985BF9@striderweb.com>

I think in terms of display (this is a theme issue I think) it would  
be best to follow Jesse's suggestion:  display both "blog" time (or  
the reader's time if known), AND the author's time.  If you order by  
server time but display just the author's time, your readers will be  
saying "Why are these out of order??"

:)

Stephen

On Apr 15, 2009, at 12:05 PM, SoJ Web wrote:

> Way ahead of you, made the plugin last night :-). I wasn't aware of  
> that pre_option_gmt_offset filter, though, that'll make it simpler;  
> many thanks. I'm doing some polishing and will upload it later.
>
>
> -Jeff
>
> On Apr 15, 2009, at 12:37 PM, Otto wrote:
>>
>> Ahh. Well, okay, for that you don't need any special display code at
>> all. Just a per-user timezone adjustment setting. Then, the post_date
>> will get set by the user values instead of the overall blog values,
>> and the_date() will display the author time more or less
>> automatically. If you want to get the gmt time of a post, you have to
>> use get_post_time() with the second parameter being true, just like
>> always.

From sojweb at indiana.edu  Thu Apr 16 13:02:56 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Thu Apr 16 13:03:14 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <7F9199E6-A1DA-45D1-A70C-6718AA985BF9@striderweb.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690903241012i6d4fdc43nd40be180cae46ba7@mail.gmail.com>
	<49E4C447.8020104@gmail.com>
	<77c8b7bf0904141024u65a5302dja7379fdc36627625@mail.gmail.com>
	<B44730E1-B47F-42DF-B6A4-B297DBC47D35@indiana.edu>
	<F5DDF143-6EBF-427B-87A0-B6607024F7FD@striderweb.com>
	<161617690904141625l2e88b696i1c5dc2ac28eb2af7@mail.gmail.com>
	<902424490904141642u387f282blee382a50e0e76b58@mail.gmail.com>
	<161617690904141857h1ecb72dbs5def5a362e173c0d@mail.gmail.com>
	<8E312264-8A80-44F5-A9F1-5ECC1DB39821@indiana.edu>
	<161617690904150937m49569b7btc3b6a42a01b24a14@mail.gmail.com>
	<DB34EB3B-CE87-44F8-A96A-E106984A0DB7@indiana.edu>
	<7F9199E6-A1DA-45D1-A70C-6718AA985BF9@striderweb.com>
Message-ID: <E9D053A2-6D49-4486-9FE6-BB6AED121D48@indiana.edu>

Yeah, I went with displaying the GMT offset along with the author  
time, but displaying local time would also be nice. At any rate, some  
point of reference for the time is definitely in order if posts come  
from different time zones.


-Jeff

On Apr 16, 2009, at 8:58 AM, Stephen Rider wrote:

> I think in terms of display (this is a theme issue I think) it would  
> be best to follow Jesse's suggestion:  display both "blog" time (or  
> the reader's time if known), AND the author's time.  If you order by  
> server time but display just the author's time, your readers will be  
> saying "Why are these out of order??"
>
> :)
>
> Stephen
>
> On Apr 15, 2009, at 12:05 PM, SoJ Web wrote:
>
>> Way ahead of you, made the plugin last night :-). I wasn't aware of  
>> that pre_option_gmt_offset filter, though, that'll make it simpler;  
>> many thanks. I'm doing some polishing and will upload it later.
>>
>>
>> -Jeff
>>
>> On Apr 15, 2009, at 12:37 PM, Otto wrote:
>>>
>>> Ahh. Well, okay, for that you don't need any special display code at
>>> all. Just a per-user timezone adjustment setting. Then, the  
>>> post_date
>>> will get set by the user values instead of the overall blog values,
>>> and the_date() will display the author time more or less
>>> automatically. If you want to get the gmt time of a post, you have  
>>> to
>>> use get_post_time() with the second parameter being true, just like
>>> always.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From casey.bisson at gmail.com  Thu Apr 16 13:23:28 2009
From: casey.bisson at gmail.com (Casey Bisson)
Date: Thu Apr 16 13:23:59 2009
Subject: [wp-hackers] repeating fields in usermeta?
In-Reply-To: <42A62C59-2D5A-4D34-83FC-3963A612394B@indiana.edu>
References: <59E134B7-A9D0-4B67-8B70-85BB398D3B0B@gmail.com>
	<42A62C59-2D5A-4D34-83FC-3963A612394B@indiana.edu>
Message-ID: <946B2EAC-08E8-45C1-B70B-0BEC34B3796D@gmail.com>


Storing email addresses in a serialized array would make searching for  
a user by email address difficult.

My choices so far appear to be:

Create a separate table for email addys.
Create my own functions to enter and read email addys in usermeta.
Patch the existing functions to support this use case while  
maintaining backwards compatibility.




On Apr 16, 2009, at 8:56 AM, SoJ Web wrote:

> Would it not be possible to store the e-mail addresses and phone  
> numbers as serialized arrays under one meta key?
>
>
>> An application I'm working on needs to store an arbitrary number of  
>> email addresses and phone numbers per user. The wp_users table  
>> obviously isn't the place, but the wp_usermeta table might not be  
>> either. The get_ and update_usermeta functions aren't built for it,  
>> anyway.
>>
>> The various postmeta functions are very smart about handling  
>> multiple entries of the same meta_key per post, but not the  
>> usermeta functions. Is that by design?
>>
>> --Casey

From sojweb at indiana.edu  Thu Apr 16 14:13:50 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Thu Apr 16 14:14:07 2009
Subject: [wp-hackers] repeating fields in usermeta?
In-Reply-To: <946B2EAC-08E8-45C1-B70B-0BEC34B3796D@gmail.com>
References: <59E134B7-A9D0-4B67-8B70-85BB398D3B0B@gmail.com>
	<42A62C59-2D5A-4D34-83FC-3963A612394B@indiana.edu>
	<946B2EAC-08E8-45C1-B70B-0BEC34B3796D@gmail.com>
Message-ID: <9B2AA3B3-C50E-452C-9D28-A0A0A85FEB0B@indiana.edu>

Yeah, looking at the function, that would be a pain. I'm surprised the  
user meta functions don't allow returning arrays of meta values; I'd  
think having that ability would be ideal, and it shouldn't be hard to  
patch. You'd have the added benefit of it being consistent with the  
way the post meta function works.


-Jeff


On Apr 16, 2009, at 9:23 AM, Casey Bisson wrote:

>
> Storing email addresses in a serialized array would make searching  
> for a user by email address difficult.
>
> My choices so far appear to be:
>
> Create a separate table for email addys.
> Create my own functions to enter and read email addys in usermeta.
> Patch the existing functions to support this use case while  
> maintaining backwards compatibility.
>
>
>
>
> On Apr 16, 2009, at 8:56 AM, SoJ Web wrote:
>
>> Would it not be possible to store the e-mail addresses and phone  
>> numbers as serialized arrays under one meta key?
>>
>>
>>> An application I'm working on needs to store an arbitrary number  
>>> of email addresses and phone numbers per user. The wp_users table  
>>> obviously isn't the place, but the wp_usermeta table might not be  
>>> either. The get_ and update_usermeta functions aren't built for  
>>> it, anyway.
>>>
>>> The various postmeta functions are very smart about handling  
>>> multiple entries of the same meta_key per post, but not the  
>>> usermeta functions. Is that by design?
>>>
>>> --Casey
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From regulatethis at gmail.com  Thu Apr 16 14:15:21 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Thu Apr 16 14:16:10 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <E46CDA61-E21D-41F8-A038-31882315A77E@automattic.com>
References: <20090409002439.5E9AC6B7D@comox.textdrive.com>
	<E46CDA61-E21D-41F8-A038-31882315A77E@automattic.com>
Message-ID: <39fdab560904160715mb519355w6eece0c3f4ee4f7d@mail.gmail.com>

Hmm this is the first I've heard of this. It would've been sweet if
there'd been some advanced notification, I definitely would've set
aside time, but now I have stuff to do and won't be able to
participate.

It kinda sucks how little communication there is to the wp-hackers
list from Automattic. I read the WP dev blog and subscribe to this
list, and I haven't heard anything about this until just now. Is there
some other location where this type of communication happens? IRC? I'd
imagine that anything important mentioned in IRC would have to be
archived somewhere like in a mailing list. I feel like this list (and
the people who subscribe to it/contribute to Wordpress) have pretty
much been ignored/abandoned by Automattic and the core WP team. We
have no direction here, and as a consequence spend more time arguing
and blowing hot air than getting anything done. Since I don't like
wasting my time in this manner, I contribute less to this project than
I would like to, and I'm sure I'm not the only one who feels this way.

/rant

On Thu, Apr 16, 2009 at 7:39 AM, Jane Wells <jane@automattic.com> wrote:
> Hi everyone. A reminder post will go live on the dev blog at 4pm UTC/9am
> Pacific about the 24-hour has-patch marathon that's happening
> today/tomorrow, but I thought I'd drop a note in here as well. I sent a note
> to the testers list about testing the almost 200 patches that are currently
> in Trac, so hopefully a lot of the patches that have been submitted can be
> committed during the marathon.
>
> There are almost 200 tickets with patches, but over 300 that need a patch.
> And we haven't even gotten to bug hinting for 2.8. We're in feature freeze
> for 2.8 as of today, so we'll announce a bug hunt sometime soon. It would be
> great to clear out some of these existing tickets. If you can make time to
> write a patch for any of these 300 today, that would be awesome. If you
> don't have time to code, maybe you could at least help out with the testing?
> Whatever you can do would be great.
>
> Here are all the 2.8 tickets, if you want to start patching:
>
>
> Here are the tickets with patches, if you want to start testing:
>
> http://core.trac.wordpress.org/query?status=assigned&status=new&status=reopened&order=priority&col=id&col=summary&col=status&col=owner&col=type&col=priority&col=component&milestone=2.8&keywords=~has-patch
>
> And if anyone plans to stay up and actually write or test patches for the
> full 24 hours, let me know. If you're blogging/twittering about it
> throughout the marathon (saying what tickets you're currently working on or
> whatever), I might point to you as an example from the WordPress twitter
> account.
>
> When I put up the results of the marathon on the dev blog on Monday, I'll
> also link to the top 5 testers and top 5 patch contributors from the 24-hour
> marathon period, which begins in a few hours at 4pm UTC/9am Pacific ?and
> runs until 4pm UTC/9am Pacific on Friday.
>
> Thanks!
> Jane
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mdmartz at sivel.net  Thu Apr 16 14:25:31 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Thu Apr 16 14:26:14 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <39fdab560904160715mb519355w6eece0c3f4ee4f7d@mail.gmail.com>
References: <20090409002439.5E9AC6B7D@comox.textdrive.com> 
	<E46CDA61-E21D-41F8-A038-31882315A77E@automattic.com>
	<39fdab560904160715mb519355w6eece0c3f4ee4f7d@mail.gmail.com>
Message-ID: <518fa9630904160725yd948685n8cbc98fbfd3dfd60@mail.gmail.com>

On Thu, Apr 16, 2009 at 10:15 AM, Daniel Torreblanca
<regulatethis@gmail.com> wrote:
> Hmm this is the first I've heard of this. It would've been sweet if
> there'd been some advanced notification, I definitely would've set
> aside time, but now I have stuff to do and won't be able to
> participate.
>
> It kinda sucks how little communication there is to the wp-hackers
> list from Automattic. I read the WP dev blog and subscribe to this
> list, and I haven't heard anything about this until just now. Is there
> some other location where this type of communication happens? IRC? I'd
> imagine that anything important mentioned in IRC would have to be
> archived somewhere like in a mailing list. I feel like this list (and
> the people who subscribe to it/contribute to Wordpress) have pretty
> much been ignored/abandoned by Automattic and the core WP team. We
> have no direction here, and as a consequence spend more time arguing
> and blowing hot air than getting anything done. Since I don't like
> wasting my time in this manner, I contribute less to this project than
> I would like to, and I'm sure I'm not the only one who feels this way.
>
> /rant

If you read the dev blog then you should have heard about this 2 days
ago when the post was made.

http://wordpress.org/development/2009/04/the-super-awesome-wordpress-24-hour-has-patch-marathon/

-- 
Matt Martz
matt@sivel.net
http://sivel.net/
From mikeschinkel at newclarity.net  Thu Apr 16 15:49:51 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Apr 16 15:52:31 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <518fa9630904160725yd948685n8cbc98fbfd3dfd60@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl3FAnpa32be1ffea368a3e09aa8d,
	mikeschinkel@newclarity.net, 14915706.1031239896986818.J>

"Matt Martz" <mdmartz@sivel.net> wrote:
> If you read the dev blog then you should have heard 
> about this 2 days ago when the post was made.

2 days is still very short notice.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

----- Original Message -----
From: "Matt Martz" <mdmartz@sivel.net>
To: wp-hackers@lists.automattic.com
Sent: Thursday, April 16, 2009 10:25:31 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] 24-hour has-patch marathon TODAY

On Thu, Apr 16, 2009 at 10:15 AM, Daniel Torreblanca
<regulatethis@gmail.com> wrote:
> Hmm this is the first I've heard of this. It would've been sweet if
> there'd been some advanced notification, I definitely would've set
> aside time, but now I have stuff to do and won't be able to
> participate.
>
> It kinda sucks how little communication there is to the wp-hackers
> list from Automattic. I read the WP dev blog and subscribe to this
> list, and I haven't heard anything about this until just now. Is there
> some other location where this type of communication happens? IRC? I'd
> imagine that anything important mentioned in IRC would have to be
> archived somewhere like in a mailing list. I feel like this list (and
> the people who subscribe to it/contribute to Wordpress) have pretty
> much been ignored/abandoned by Automattic and the core WP team. We
> have no direction here, and as a consequence spend more time arguing
> and blowing hot air than getting anything done. Since I don't like
> wasting my time in this manner, I contribute less to this project than
> I would like to, and I'm sure I'm not the only one who feels this way.
>
> /rant

If you read the dev blog then you should have heard about this 2 days
ago when the post was made.

http://wordpress.org/development/2009/04/the-super-awesome-wordpress-24-hour-has-patch-marathon/

-- 
Matt Martz
matt@sivel.net
http://sivel.net/
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From sojweb at indiana.edu  Thu Apr 16 16:28:13 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Thu Apr 16 16:29:01 2009
Subject: [wp-hackers] repeating fields in usermeta?
In-Reply-To: <946B2EAC-08E8-45C1-B70B-0BEC34B3796D@gmail.com>
References: <59E134B7-A9D0-4B67-8B70-85BB398D3B0B@gmail.com>
	<42A62C59-2D5A-4D34-83FC-3963A612394B@indiana.edu>
	<946B2EAC-08E8-45C1-B70B-0BEC34B3796D@gmail.com>
Message-ID: <DB4574F0-AF55-4253-AD36-DC3ED40683F0@indiana.edu>

This could end up being useful for me, too, so I submitted a patch to  
an open ticket on the subject: http://core.trac.wordpress.org/ticket/7540

The get_usermeta function could return an array of multiple values,  
but there didn't seem to be a way to set multiple values. I added a  
add_usermeta function (basically a copy of add_post_meta), and  
modified update_usermeta to allow for modification of value with same  
keys (in a way similar to update_post_meta). Behavior shouldn't change  
for current code. It seemed to work okay for me and what I'm doing,  
but I might not be considering all cases.


-Jeff

On Apr 16, 2009, at 9:23 AM, Casey Bisson wrote:

>
> Storing email addresses in a serialized array would make searching  
> for a user by email address difficult.
>
> My choices so far appear to be:
>
> Create a separate table for email addys.
> Create my own functions to enter and read email addys in usermeta.
> Patch the existing functions to support this use case while  
> maintaining backwards compatibility.
>
>
>
>
> On Apr 16, 2009, at 8:56 AM, SoJ Web wrote:
>
>> Would it not be possible to store the e-mail addresses and phone  
>> numbers as serialized arrays under one meta key?
>>
>>
>>> An application I'm working on needs to store an arbitrary number  
>>> of email addresses and phone numbers per user. The wp_users table  
>>> obviously isn't the place, but the wp_usermeta table might not be  
>>> either. The get_ and update_usermeta functions aren't built for  
>>> it, anyway.
>>>
>>> The various postmeta functions are very smart about handling  
>>> multiple entries of the same meta_key per post, but not the  
>>> usermeta functions. Is that by design?
>>>
>>> --Casey
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Jesse.Silverstein at xerox.com  Thu Apr 16 16:34:09 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Thu Apr 16 16:35:08 2009
Subject: [wp-hackers] repeating fields in usermeta?
In-Reply-To: <DB4574F0-AF55-4253-AD36-DC3ED40683F0@indiana.edu>
References: <59E134B7-A9D0-4B67-8B70-85BB398D3B0B@gmail.com><42A62C59-2D5A-4D34-83FC-3963A612394B@indiana.edu><946B2EAC-08E8-45C1-B70B-0BEC34B3796D@gmail.com>
	<DB4574F0-AF55-4253-AD36-DC3ED40683F0@indiana.edu>
Message-ID: <F25F2C8DE17FB546A90DB3CF7746142706400A5D@USA0300MS04.na.xerox.net>

I haven't looked at your code, or in depth at the post_meta functions,
so correct me if I'm wrong here, but if you're using built in functions
to accept and return arrays of data, isn't it still going to store the
arrays as serialized strings? If so, how does this solve the initial
problem of having to load all of the data into actual arrays before you
can search it?

-Jesse

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of SoJ Web
Sent: Thursday, April 16, 2009 12:28 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] repeating fields in usermeta?

This could end up being useful for me, too, so I submitted a patch to  
an open ticket on the subject:
http://core.trac.wordpress.org/ticket/7540

The get_usermeta function could return an array of multiple values,  
but there didn't seem to be a way to set multiple values. I added a  
add_usermeta function (basically a copy of add_post_meta), and  
modified update_usermeta to allow for modification of value with same  
keys (in a way similar to update_post_meta). Behavior shouldn't change  
for current code. It seemed to work okay for me and what I'm doing,  
but I might not be considering all cases.


-Jeff

On Apr 16, 2009, at 9:23 AM, Casey Bisson wrote:

>
> Storing email addresses in a serialized array would make searching  
> for a user by email address difficult.
>
> My choices so far appear to be:
>
> Create a separate table for email addys.
> Create my own functions to enter and read email addys in usermeta.
> Patch the existing functions to support this use case while  
> maintaining backwards compatibility.
>
>
>
>
> On Apr 16, 2009, at 8:56 AM, SoJ Web wrote:
>
>> Would it not be possible to store the e-mail addresses and phone  
>> numbers as serialized arrays under one meta key?
>>
>>
>>> An application I'm working on needs to store an arbitrary number  
>>> of email addresses and phone numbers per user. The wp_users table  
>>> obviously isn't the place, but the wp_usermeta table might not be  
>>> either. The get_ and update_usermeta functions aren't built for  
>>> it, anyway.
>>>
>>> The various postmeta functions are very smart about handling  
>>> multiple entries of the same meta_key per post, but not the  
>>> usermeta functions. Is that by design?
>>>
>>> --Casey
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.0.238 / Virus Database: 270.11.58/2061 - Release Date:
04/16/09 08:12:00
From casey.bisson at gmail.com  Thu Apr 16 16:35:46 2009
From: casey.bisson at gmail.com (Casey Bisson)
Date: Thu Apr 16 16:36:21 2009
Subject: [wp-hackers] repeating fields in usermeta?
In-Reply-To: <9B2AA3B3-C50E-452C-9D28-A0A0A85FEB0B@indiana.edu>
References: <59E134B7-A9D0-4B67-8B70-85BB398D3B0B@gmail.com>
	<42A62C59-2D5A-4D34-83FC-3963A612394B@indiana.edu>
	<946B2EAC-08E8-45C1-B70B-0BEC34B3796D@gmail.com>
	<9B2AA3B3-C50E-452C-9D28-A0A0A85FEB0B@indiana.edu>
Message-ID: <1A7E6A39-13F7-481B-8A5E-7F624CEA513E@gmail.com>


In comparing the various *_post_meta functions against the *_usermeta  
functions, it looks like the post meta stuff has had a lot more  
development cycles than user meta. Though I may be saying that only  
because the post meta functions have stronger caching support.

Here are the two sets of functions:

Post meta, found in wp-includes/post.php:
http://core.trac.wordpress.org/browser/trunk/wp-includes/post.php

add_post_meta()
delete_post_meta()
get_post_meta()
update_post_meta()
delete_post_meta_by_key()
update_postmeta_cache()

User meta, found in wp-includes/user.php:
http://core.trac.wordpress.org/browser/trunk/wp-includes/user.php

delete_usermeta()
get_usermeta()
update_usermeta()

Implementing post meta-style support looks pretty easy, especially if  
I adopt the *_post_meta functions as the base, rather than trying to  
start with the *_usermeta functions. Backwards compatibility could  
then be maintained by calling the new functions from the old. That  
approach looks a lot more straightforward than patching up the  
existing *_usermeta functions, even if it would likely result in a  
larger overall patch.

Thoughts?



On Apr 16, 2009, at 10:13 AM, SoJ Web wrote:

> Yeah, looking at the function, that would be a pain. I'm surprised  
> the user meta functions don't allow returning arrays of meta values;  
> I'd think having that ability would be ideal, and it shouldn't be  
> hard to patch. You'd have the added benefit of it being consistent  
> with the way the post meta function works.
>
>> Storing email addresses in a serialized array would make searching  
>> for a user by email address difficult.
>>
>> My choices so far appear to be:
>>
>> Create a separate table for email addys.
>> Create my own functions to enter and read email addys in usermeta.
>> Patch the existing functions to support this use case while  
>> maintaining backwards compatibility.
>>
>>
>>> Would it not be possible to store the e-mail addresses and phone  
>>> numbers as serialized arrays under one meta key?
>>>
>>>
>>>> An application I'm working on needs to store an arbitrary number  
>>>> of email addresses and phone numbers per user. The wp_users table  
>>>> obviously isn't the place, but the wp_usermeta table might not be  
>>>> either. The get_ and update_usermeta functions aren't built for  
>>>> it, anyway.
>>>>
>>>> The various postmeta functions are very smart about handling  
>>>> multiple entries of the same meta_key per post, but not the  
>>>> usermeta functions. Is that by design?
From regulatethis at gmail.com  Thu Apr 16 16:45:25 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Thu Apr 16 16:45:53 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <518fa9630904160725yd948685n8cbc98fbfd3dfd60@mail.gmail.com>
References: <20090409002439.5E9AC6B7D@comox.textdrive.com>
	<E46CDA61-E21D-41F8-A038-31882315A77E@automattic.com>
	<39fdab560904160715mb519355w6eece0c3f4ee4f7d@mail.gmail.com>
	<518fa9630904160725yd948685n8cbc98fbfd3dfd60@mail.gmail.com>
Message-ID: <39fdab560904160945v2de2b1ffrc8fa4e92d0537e2@mail.gmail.com>

On Thu, Apr 16, 2009 at 10:25 AM, Matt Martz <mdmartz@sivel.net> wrote:
> If you read the dev blog then you should have heard about this 2 days
> ago when the post was made.
>
> http://wordpress.org/development/2009/04/the-super-awesome-wordpress-24-hour-has-patch-marathon/

I did read that after the fact - like most people I don't have time to
check every blog I read every single day, so 2 days isn't what I'd
consider ample notice.

Trite and useless responses don't help anyone and are an example of
what sucks about this community.
From Jesse.Silverstein at xerox.com  Thu Apr 16 16:53:33 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Thu Apr 16 16:54:30 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <39fdab560904160945v2de2b1ffrc8fa4e92d0537e2@mail.gmail.com>
References: <20090409002439.5E9AC6B7D@comox.textdrive.com><E46CDA61-E21D-41F8-A038-31882315A77E@automattic.com><39fdab560904160715mb519355w6eece0c3f4ee4f7d@mail.gmail.com><518fa9630904160725yd948685n8cbc98fbfd3dfd60@mail.gmail.com>
	<39fdab560904160945v2de2b1ffrc8fa4e92d0537e2@mail.gmail.com>
Message-ID: <F25F2C8DE17FB546A90DB3CF7746142706400AB7@USA0300MS04.na.xerox.net>

I think what a few of us are trying to say is, while it was posted on
the blog, if Core Devs expect any assistance from the specific group of
wp-hackers mailing list subscribers, the advanced warning should have
been given _to the wp-hackers mailing list_ as well as on the blog. I
myself would have loved to participate in the marathon, but I needed
advanced warning to shuffle work around to make time for it, and I
didn't (until this incident) subscribe to the dev blog.

-Jesse

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Daniel
Torreblanca
Sent: Thursday, April 16, 2009 12:45 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] 24-hour has-patch marathon TODAY

On Thu, Apr 16, 2009 at 10:25 AM, Matt Martz <mdmartz@sivel.net> wrote:
> If you read the dev blog then you should have heard about this 2 days
> ago when the post was made.
>
>
http://wordpress.org/development/2009/04/the-super-awesome-wordpress-24-
hour-has-patch-marathon/

I did read that after the fact - like most people I don't have time to
check every blog I read every single day, so 2 days isn't what I'd
consider ample notice.

Trite and useless responses don't help anyone and are an example of
what sucks about this community.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.0.238 / Virus Database: 270.11.58/2061 - Release Date:
04/16/09 08:12:00
From sojweb at indiana.edu  Thu Apr 16 17:00:24 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Thu Apr 16 17:00:44 2009
Subject: [wp-hackers] repeating fields in usermeta?
In-Reply-To: <F25F2C8DE17FB546A90DB3CF7746142706400A5D@USA0300MS04.na.xerox.net>
References: <59E134B7-A9D0-4B67-8B70-85BB398D3B0B@gmail.com><42A62C59-2D5A-4D34-83FC-3963A612394B@indiana.edu><946B2EAC-08E8-45C1-B70B-0BEC34B3796D@gmail.com>
	<DB4574F0-AF55-4253-AD36-DC3ED40683F0@indiana.edu>
	<F25F2C8DE17FB546A90DB3CF7746142706400A5D@USA0300MS04.na.xerox.net>
Message-ID: <521D6E98-FE65-4F44-AB7A-37CC35D08710@indiana.edu>

Well, the root of the problem was that there was no way to store user  
meta values with non-unique keys, and my intent was just to address  
that. I didn't want to take it too far all in one go :-). This just  
allows the key-value pairs to reside in unique rows in the database,  
which makes manipulation (searching & modifying) much easier. It  
doesn't directly address the problem of search, but that could easily  
be attended to by a plugin (or further development).


-Jeff

On Apr 16, 2009, at 12:34 PM, Silverstein, Jesse wrote:

> I haven't looked at your code, or in depth at the post_meta functions,
> so correct me if I'm wrong here, but if you're using built in  
> functions
> to accept and return arrays of data, isn't it still going to store the
> arrays as serialized strings? If so, how does this solve the initial
> problem of having to load all of the data into actual arrays before  
> you
> can search it?
>
> -Jesse
>
> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of SoJ Web
> Sent: Thursday, April 16, 2009 12:28 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] repeating fields in usermeta?
>
> This could end up being useful for me, too, so I submitted a patch to
> an open ticket on the subject:
> http://core.trac.wordpress.org/ticket/7540
>
> The get_usermeta function could return an array of multiple values,
> but there didn't seem to be a way to set multiple values. I added a
> add_usermeta function (basically a copy of add_post_meta), and
> modified update_usermeta to allow for modification of value with same
> keys (in a way similar to update_post_meta). Behavior shouldn't change
> for current code. It seemed to work okay for me and what I'm doing,
> but I might not be considering all cases.
>
>
> -Jeff
>
> On Apr 16, 2009, at 9:23 AM, Casey Bisson wrote:
>
>>
>> Storing email addresses in a serialized array would make searching
>> for a user by email address difficult.
>>
>> My choices so far appear to be:
>>
>> Create a separate table for email addys.
>> Create my own functions to enter and read email addys in usermeta.
>> Patch the existing functions to support this use case while
>> maintaining backwards compatibility.
>>
>>
>>
>>
>> On Apr 16, 2009, at 8:56 AM, SoJ Web wrote:
>>
>>> Would it not be possible to store the e-mail addresses and phone
>>> numbers as serialized arrays under one meta key?
>>>
>>>
>>>> An application I'm working on needs to store an arbitrary number
>>>> of email addresses and phone numbers per user. The wp_users table
>>>> obviously isn't the place, but the wp_usermeta table might not be
>>>> either. The get_ and update_usermeta functions aren't built for
>>>> it, anyway.
>>>>
>>>> The various postmeta functions are very smart about handling
>>>> multiple entries of the same meta_key per post, but not the
>>>> usermeta functions. Is that by design?
>>>>
>>>> --Casey
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> No virus found in this incoming message.
> Checked by AVG - www.avg.com
> Version: 8.0.238 / Virus Database: 270.11.58/2061 - Release Date:
> 04/16/09 08:12:00
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From sojweb at indiana.edu  Thu Apr 16 17:10:49 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Thu Apr 16 17:11:24 2009
Subject: [wp-hackers] repeating fields in usermeta?
In-Reply-To: <1A7E6A39-13F7-481B-8A5E-7F624CEA513E@gmail.com>
References: <59E134B7-A9D0-4B67-8B70-85BB398D3B0B@gmail.com>
	<42A62C59-2D5A-4D34-83FC-3963A612394B@indiana.edu>
	<946B2EAC-08E8-45C1-B70B-0BEC34B3796D@gmail.com>
	<9B2AA3B3-C50E-452C-9D28-A0A0A85FEB0B@indiana.edu>
	<1A7E6A39-13F7-481B-8A5E-7F624CEA513E@gmail.com>
Message-ID: <1D6DFEC5-E6B1-47EB-8EC3-AB4945F3B2B2@indiana.edu>

They seemed small enough and similar enough that just modifying them  
would work, and adding where it's needed (like an add_usermeta  
function). That also avoids deprecating functions.


-Jeff


On Apr 16, 2009, at 12:35 PM, Casey Bisson wrote:

>
> In comparing the various *_post_meta functions against the  
> *_usermeta functions, it looks like the post meta stuff has had a  
> lot more development cycles than user meta. Though I may be saying  
> that only because the post meta functions have stronger caching  
> support.
>
> Here are the two sets of functions:
>
> Post meta, found in wp-includes/post.php:
> http://core.trac.wordpress.org/browser/trunk/wp-includes/post.php
>
> add_post_meta()
> delete_post_meta()
> get_post_meta()
> update_post_meta()
> delete_post_meta_by_key()
> update_postmeta_cache()
>
> User meta, found in wp-includes/user.php:
> http://core.trac.wordpress.org/browser/trunk/wp-includes/user.php
>
> delete_usermeta()
> get_usermeta()
> update_usermeta()
>
> Implementing post meta-style support looks pretty easy, especially  
> if I adopt the *_post_meta functions as the base, rather than trying  
> to start with the *_usermeta functions. Backwards compatibility  
> could then be maintained by calling the new functions from the old.  
> That approach looks a lot more straightforward than patching up the  
> existing *_usermeta functions, even if it would likely result in a  
> larger overall patch.
>
> Thoughts?
>
>
>
> On Apr 16, 2009, at 10:13 AM, SoJ Web wrote:
>
>> Yeah, looking at the function, that would be a pain. I'm surprised  
>> the user meta functions don't allow returning arrays of meta  
>> values; I'd think having that ability would be ideal, and it  
>> shouldn't be hard to patch. You'd have the added benefit of it  
>> being consistent with the way the post meta function works.
>>
>>> Storing email addresses in a serialized array would make searching  
>>> for a user by email address difficult.
>>>
>>> My choices so far appear to be:
>>>
>>> Create a separate table for email addys.
>>> Create my own functions to enter and read email addys in usermeta.
>>> Patch the existing functions to support this use case while  
>>> maintaining backwards compatibility.
>>>
>>>
>>>> Would it not be possible to store the e-mail addresses and phone  
>>>> numbers as serialized arrays under one meta key?
>>>>
>>>>
>>>>> An application I'm working on needs to store an arbitrary number  
>>>>> of email addresses and phone numbers per user. The wp_users  
>>>>> table obviously isn't the place, but the wp_usermeta table might  
>>>>> not be either. The get_ and update_usermeta functions aren't  
>>>>> built for it, anyway.
>>>>>
>>>>> The various postmeta functions are very smart about handling  
>>>>> multiple entries of the same meta_key per post, but not the  
>>>>> usermeta functions. Is that by design?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mdmartz at sivel.net  Thu Apr 16 17:20:02 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Thu Apr 16 17:20:32 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <F25F2C8DE17FB546A90DB3CF7746142706400AB7@USA0300MS04.na.xerox.net>
References: <20090409002439.5E9AC6B7D@comox.textdrive.com> 
	<E46CDA61-E21D-41F8-A038-31882315A77E@automattic.com>
	<39fdab560904160715mb519355w6eece0c3f4ee4f7d@mail.gmail.com> 
	<518fa9630904160725yd948685n8cbc98fbfd3dfd60@mail.gmail.com> 
	<39fdab560904160945v2de2b1ffrc8fa4e92d0537e2@mail.gmail.com> 
	<F25F2C8DE17FB546A90DB3CF7746142706400AB7@USA0300MS04.na.xerox.net>
Message-ID: <518fa9630904161020h47ba8da4ta28657ebb019eec7@mail.gmail.com>

On Thu, Apr 16, 2009 at 12:53 PM, Silverstein, Jesse
<Jesse.Silverstein@xerox.com> wrote:
> I think what a few of us are trying to say is, while it was posted on
> the blog, if Core Devs expect any assistance from the specific group of
> wp-hackers mailing list subscribers, the advanced warning should have
> been given _to the wp-hackers mailing list_ as well as on the blog. I
> myself would have loved to participate in the marathon, but I needed
> advanced warning to shuffle work around to make time for it, and I
> didn't (until this incident) subscribe to the dev blog.

Day in and day out all I see on this list are people whining about
this or whining about that.

You don't need a patch marathon or bug hunt to be official to submit a
patch, provide feedback or help clean up Trac.  Numerous people spend
large portions of their free time every day submitting bugs and
patches for WordPress and keeping Trac active and up to date with
current information.  I spend over 40 hours a week of my "free" time
giving to the WordPress community.  Those who report bugs, submit
patches, write plugins, help on the WordPress lists and in the
WordPress IRC channel are who make this community great.

Could any of you who are complaining about the short notice be doing
this?  Why yes you could.  Instead you are going to complain that you
weren't given enough notice that there was going to be a patch
marathon.  You complain because you want to make it seem as though you
would do the community a great service but cannot because the
community and those behind WordPress make it too difficult or
inconvenient for you to do so.

Start making the community better by helping out without having to be
asked to help out.  Don't make it seem like others are preventing you
from helping out because they don't give you enough notice that they
want your help.  This bug hunt is 24-25 hours long.  Go home tonight
after work and help, stay up an extra hour before going to sleep and
help, spend your lunch break tomorrow giving to the community.  Make
the community better by starting with yourself.

-- 
Matt Martz
matt@sivel.net
http://sivel.net/
From casey.bisson at gmail.com  Thu Apr 16 17:23:35 2009
From: casey.bisson at gmail.com (Casey Bisson)
Date: Thu Apr 16 17:23:54 2009
Subject: [wp-hackers] repeating fields in usermeta?
In-Reply-To: <1D6DFEC5-E6B1-47EB-8EC3-AB4945F3B2B2@indiana.edu>
References: <59E134B7-A9D0-4B67-8B70-85BB398D3B0B@gmail.com>
	<42A62C59-2D5A-4D34-83FC-3963A612394B@indiana.edu>
	<946B2EAC-08E8-45C1-B70B-0BEC34B3796D@gmail.com>
	<9B2AA3B3-C50E-452C-9D28-A0A0A85FEB0B@indiana.edu>
	<1A7E6A39-13F7-481B-8A5E-7F624CEA513E@gmail.com>
	<1D6DFEC5-E6B1-47EB-8EC3-AB4945F3B2B2@indiana.edu>
Message-ID: <5E7D4B93-8AF1-4D75-8564-91B7B6B4171C@gmail.com>


You're probably right. I'd like this solved more than anything else.  
Still, I did up a patch of my own before I saw yours.

http://core.trac.wordpress.org/ticket/7540

As noted in my comment in Trac, the only advantage my solution offers  
over yours is that it makes user meta and post meta identical in  
behavior and nearly identical in code. It also occurs to me that the  
post_meta and user_meta functions could be consolidated into one set  
of functions that works identically simply by adding a parameter to  
identify if it's working on posts or users.

Your solution has the advantage of being less dramatic. Either works  
for me in the short run.

--Casey


On Apr 16, 2009, at 1:10 PM, SoJ Web wrote:

> They seemed small enough and similar enough that just modifying them  
> would work, and adding where it's needed (like an add_usermeta  
> function). That also avoids deprecating functions.

From sojweb at indiana.edu  Thu Apr 16 17:31:35 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Thu Apr 16 17:31:55 2009
Subject: [wp-hackers] repeating fields in usermeta?
In-Reply-To: <5E7D4B93-8AF1-4D75-8564-91B7B6B4171C@gmail.com>
References: <59E134B7-A9D0-4B67-8B70-85BB398D3B0B@gmail.com>
	<42A62C59-2D5A-4D34-83FC-3963A612394B@indiana.edu>
	<946B2EAC-08E8-45C1-B70B-0BEC34B3796D@gmail.com>
	<9B2AA3B3-C50E-452C-9D28-A0A0A85FEB0B@indiana.edu>
	<1A7E6A39-13F7-481B-8A5E-7F624CEA513E@gmail.com>
	<1D6DFEC5-E6B1-47EB-8EC3-AB4945F3B2B2@indiana.edu>
	<5E7D4B93-8AF1-4D75-8564-91B7B6B4171C@gmail.com>
Message-ID: <0A4483CF-0143-4A51-BB87-34EBCA919D6B@indiana.edu>

Yeah, six of one, half a dozen of the other :-). However it ends up  
working, it does seem they ought to behave identically.


-Jeff

On Apr 16, 2009, at 13:23 PM, Casey Bisson wrote:

>
> You're probably right. I'd like this solved more than anything else.  
> Still, I did up a patch of my own before I saw yours.
>
> http://core.trac.wordpress.org/ticket/7540
>
> As noted in my comment in Trac, the only advantage my solution  
> offers over yours is that it makes user meta and post meta identical  
> in behavior and nearly identical in code. It also occurs to me that  
> the post_meta and user_meta functions could be consolidated into one  
> set of functions that works identically simply by adding a parameter  
> to identify if it's working on posts or users.
>
> Your solution has the advantage of being less dramatic. Either works  
> for me in the short run.
>
> --Casey
>
>
> On Apr 16, 2009, at 1:10 PM, SoJ Web wrote:
>
>> They seemed small enough and similar enough that just modifying  
>> them would work, and adding where it's needed (like an add_usermeta  
>> function). That also avoids deprecating functions.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From casey.bisson at gmail.com  Thu Apr 16 17:42:11 2009
From: casey.bisson at gmail.com (Casey Bisson)
Date: Thu Apr 16 17:42:49 2009
Subject: [wp-hackers] repeating fields in usermeta?
In-Reply-To: <0A4483CF-0143-4A51-BB87-34EBCA919D6B@indiana.edu>
References: <59E134B7-A9D0-4B67-8B70-85BB398D3B0B@gmail.com>
	<42A62C59-2D5A-4D34-83FC-3963A612394B@indiana.edu>
	<946B2EAC-08E8-45C1-B70B-0BEC34B3796D@gmail.com>
	<9B2AA3B3-C50E-452C-9D28-A0A0A85FEB0B@indiana.edu>
	<1A7E6A39-13F7-481B-8A5E-7F624CEA513E@gmail.com>
	<1D6DFEC5-E6B1-47EB-8EC3-AB4945F3B2B2@indiana.edu>
	<5E7D4B93-8AF1-4D75-8564-91B7B6B4171C@gmail.com>
	<0A4483CF-0143-4A51-BB87-34EBCA919D6B@indiana.edu>
Message-ID: <C57C8B08-50AA-432C-8216-185E7EABE17E@gmail.com>


Yeah, either way. Hopefully it will get some attention during this has- 
patch marathon.

http://core.trac.wordpress.org/ticket/7540

On Apr 16, 2009, at 1:31 PM, SoJ Web wrote:

> Yeah, six of one, half a dozen of the other :-). However it ends up  
> working, it does seem they ought to behave identically.

From mikeschinkel at newclarity.net  Thu Apr 16 17:45:29 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Apr 16 17:46:17 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <518fa9630904161020h47ba8da4ta28657ebb019eec7@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl3FCjU25cfb898970963c9f603b8,
	mikeschinkel@newclarity.net, 20900532.1931239903928125.J>

"Matt Martz" <mdmartz@sivel.net> said:
> Start making the community better by helping out without 
> having to be asked to help out.  

When we try, we often get told our ideas are stupid, and when we submit patches they often get turned down w/o discussing better ways to address the issue the patch was submitted to address.

It takes effort from both sides.

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

----- Original Message -----
From: "Matt Martz" <mdmartz@sivel.net>
To: wp-hackers@lists.automattic.com
Sent: Thursday, April 16, 2009 1:20:02 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] 24-hour has-patch marathon TODAY

On Thu, Apr 16, 2009 at 12:53 PM, Silverstein, Jesse
<Jesse.Silverstein@xerox.com> wrote:
> I think what a few of us are trying to say is, while it was posted on
> the blog, if Core Devs expect any assistance from the specific group of
> wp-hackers mailing list subscribers, the advanced warning should have
> been given _to the wp-hackers mailing list_ as well as on the blog. I
> myself would have loved to participate in the marathon, but I needed
> advanced warning to shuffle work around to make time for it, and I
> didn't (until this incident) subscribe to the dev blog.

Day in and day out all I see on this list are people whining about
this or whining about that.

You don't need a patch marathon or bug hunt to be official to submit a
patch, provide feedback or help clean up Trac.  Numerous people spend
large portions of their free time every day submitting bugs and
patches for WordPress and keeping Trac active and up to date with
current information.  I spend over 40 hours a week of my "free" time
giving to the WordPress community.  Those who report bugs, submit
patches, write plugins, help on the WordPress lists and in the
WordPress IRC channel are who make this community great.

Could any of you who are complaining about the short notice be doing
this?  Why yes you could.  Instead you are going to complain that you
weren't given enough notice that there was going to be a patch
marathon.  You complain because you want to make it seem as though you
would do the community a great service but cannot because the
community and those behind WordPress make it too difficult or
inconvenient for you to do so.

Start making the community better by helping out without having to be
asked to help out.  Don't make it seem like others are preventing you
from helping out because they don't give you enough notice that they
want your help.  This bug hunt is 24-25 hours long.  Go home tonight
after work and help, stay up an extra hour before going to sleep and
help, spend your lunch break tomorrow giving to the community.  Make
the community better by starting with yourself.

-- 
Matt Martz
matt@sivel.net
http://sivel.net/
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From regulatethis at gmail.com  Thu Apr 16 17:49:30 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Thu Apr 16 17:49:51 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <518fa9630904161020h47ba8da4ta28657ebb019eec7@mail.gmail.com>
References: <20090409002439.5E9AC6B7D@comox.textdrive.com>
	<E46CDA61-E21D-41F8-A038-31882315A77E@automattic.com>
	<39fdab560904160715mb519355w6eece0c3f4ee4f7d@mail.gmail.com>
	<518fa9630904160725yd948685n8cbc98fbfd3dfd60@mail.gmail.com>
	<39fdab560904160945v2de2b1ffrc8fa4e92d0537e2@mail.gmail.com>
	<F25F2C8DE17FB546A90DB3CF7746142706400AB7@USA0300MS04.na.xerox.net>
	<518fa9630904161020h47ba8da4ta28657ebb019eec7@mail.gmail.com>
Message-ID: <39fdab560904161049n2b13ae15q4421ddc1af02a5c3@mail.gmail.com>

First of all, I don't think I'm a whiner or a complainer. And
secondly, if there are problems in a community, it is up to the
community members to fix them. And fixing them requires
*communication* from interested parties. I've spent HOURS working on
patches only to have them dismissed outright with no discussion, no
advice. I've spent my fair share of time tackling Trac issues, so
don't presume to tell me what's what here. There's nothing wrong with
wanting a little bit of extra notice for a combined effort.

I seriously don't know why you're so defensive about this. Do you
think my points are not valid? If you actually believe that the
communication/support in this community is at the level that it should
be, then you obviously need to look at some other projects and see how
they run things.



On Thu, Apr 16, 2009 at 1:20 PM, Matt Martz <mdmartz@sivel.net> wrote:
> On Thu, Apr 16, 2009 at 12:53 PM, Silverstein, Jesse
> <Jesse.Silverstein@xerox.com> wrote:
>> I think what a few of us are trying to say is, while it was posted on
>> the blog, if Core Devs expect any assistance from the specific group of
>> wp-hackers mailing list subscribers, the advanced warning should have
>> been given _to the wp-hackers mailing list_ as well as on the blog. I
>> myself would have loved to participate in the marathon, but I needed
>> advanced warning to shuffle work around to make time for it, and I
>> didn't (until this incident) subscribe to the dev blog.
>
> Day in and day out all I see on this list are people whining about
> this or whining about that.
>
> You don't need a patch marathon or bug hunt to be official to submit a
> patch, provide feedback or help clean up Trac. ?Numerous people spend
> large portions of their free time every day submitting bugs and
> patches for WordPress and keeping Trac active and up to date with
> current information. ?I spend over 40 hours a week of my "free" time
> giving to the WordPress community. ?Those who report bugs, submit
> patches, write plugins, help on the WordPress lists and in the
> WordPress IRC channel are who make this community great.
>
> Could any of you who are complaining about the short notice be doing
> this? ?Why yes you could. ?Instead you are going to complain that you
> weren't given enough notice that there was going to be a patch
> marathon. ?You complain because you want to make it seem as though you
> would do the community a great service but cannot because the
> community and those behind WordPress make it too difficult or
> inconvenient for you to do so.
>
> Start making the community better by helping out without having to be
> asked to help out. ?Don't make it seem like others are preventing you
> from helping out because they don't give you enough notice that they
> want your help. ?This bug hunt is 24-25 hours long. ?Go home tonight
> after work and help, stay up an extra hour before going to sleep and
> help, spend your lunch break tomorrow giving to the community. ?Make
> the community better by starting with yourself.
>
> --
> Matt Martz
> matt@sivel.net
> http://sivel.net/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ncrice at gmail.com  Thu Apr 16 18:17:13 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Thu Apr 16 18:17:26 2009
Subject: [wp-hackers] Patch I'd like considered for 2.8
Message-ID: <862d087f0904161117l13a5b41fg3237d3c6daa5014d@mail.gmail.com>

I'd really appreciate it if someone could take a look at this ticket:
http://core.trac.wordpress.org/ticket/9514

If you don't see any problems with it (it's a VERY simple addition), and you
have the ability to do so, I would appreciate it if someone could get this
into 2.8 before launch.  It's a flaw in the new body class generation that,
if fixed, would be extremely useful to theme developers.

Thanks!
Nathan

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice
From casey.bisson at gmail.com  Thu Apr 16 19:19:51 2009
From: casey.bisson at gmail.com (Casey Bisson)
Date: Thu Apr 16 19:20:24 2009
Subject: [wp-hackers] repeating fields in usermeta?
In-Reply-To: <0A4483CF-0143-4A51-BB87-34EBCA919D6B@indiana.edu>
References: <59E134B7-A9D0-4B67-8B70-85BB398D3B0B@gmail.com>
	<42A62C59-2D5A-4D34-83FC-3963A612394B@indiana.edu>
	<946B2EAC-08E8-45C1-B70B-0BEC34B3796D@gmail.com>
	<9B2AA3B3-C50E-452C-9D28-A0A0A85FEB0B@indiana.edu>
	<1A7E6A39-13F7-481B-8A5E-7F624CEA513E@gmail.com>
	<1D6DFEC5-E6B1-47EB-8EC3-AB4945F3B2B2@indiana.edu>
	<5E7D4B93-8AF1-4D75-8564-91B7B6B4171C@gmail.com>
	<0A4483CF-0143-4A51-BB87-34EBCA919D6B@indiana.edu>
Message-ID: <BB176BD2-60ED-4EE4-A466-14CD9AD07AEA@gmail.com>


I've updated the patch on this to fix a bug and address Ryan's point  
about redundant caching and MySQL queries.

http://core.trac.wordpress.org/ticket/7540

--Casey

http://maisonbisson.com/
http://about.scriblio.net/
From dougal at gunters.org  Thu Apr 16 20:58:43 2009
From: dougal at gunters.org (Dougal Campbell)
Date: Thu Apr 16 20:58:57 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <EMEWEMEW2_DELIMl3FAnpa32be1ffea368a3e09aa8d,
	mikeschinkel@newclarity.net, 14915706.1031239896986818.J>
References: <EMEWEMEW2_DELIMl3FAnpa32be1ffea368a3e09aa8d,
	mikeschinkel@newclarity.net, 14915706.1031239896986818.J>
Message-ID: <49E79C03.6030401@gunters.org>

Mike Schinkel wrote:
> "Matt Martz" <mdmartz@sivel.net> wrote:
>   
>> If you read the dev blog then you should have heard 
>> about this 2 days ago when the post was made.
>>     
>
> 2 days is still very short notice.
>   

I agree. Especially when one of those days is Tax Day here in the U.S. I 
was one of the procrastinators who spent all day yesterday finishing up 
my taxes (and really it wasn't just procrastination -- my family has had 
a lot going on that made it hard to make time for it before now), so I 
didn't see the info about it until this morning. If it had been 
scheduled about a week later, I might have been able to participate in 
some patch testing/creation. :-/

That said, I think the original complaint kind of banged on Automattic a 
bit unfairly. There's nothing to stop us "regular" WP community members 
from contributing our thoughts, code, patches, testing, etc. at any 
given time. On the other hand, since Automattic *does* basically have 
the role of Benevolent Dictator, it *would* be nice if they'd lay out 
the Roadmap a little more clearly/transparently and communicate upcoming 
milestones/deadlines in advance.

I'm not sayin', I'm just sayin'. ;)

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/
From bingorabbit at gmail.com  Thu Apr 16 22:27:47 2009
From: bingorabbit at gmail.com (Ibrahim A. Mohamed)
Date: Thu Apr 16 22:28:04 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <49E79C03.6030401@gunters.org>
References: <49E79C03.6030401@gunters.org>
Message-ID: <e05a63ba0904161527y37e1c42bw5f506521f732c00a@mail.gmail.com>

Hello,

I think it will be better if you stopped this discussion and found some
patches to test or to add to the opened tickets, wasting your time in a
letter typed here - that won't change something that is already on - can be
a letter in the code typed there.

Thanks in Advance!

On Thu, Apr 16, 2009 at 10:58 PM, Dougal Campbell <dougal@gunters.org>wrote:

> Mike Schinkel wrote:
>
>> "Matt Martz" <mdmartz@sivel.net> wrote:
>>
>>
>>> If you read the dev blog then you should have heard about this 2 days ago
>>> when the post was made.
>>>
>>>
>>
>> 2 days is still very short notice.
>>
>>
>
> I agree. Especially when one of those days is Tax Day here in the U.S. I
> was one of the procrastinators who spent all day yesterday finishing up my
> taxes (and really it wasn't just procrastination -- my family has had a lot
> going on that made it hard to make time for it before now), so I didn't see
> the info about it until this morning. If it had been scheduled about a week
> later, I might have been able to participate in some patch testing/creation.
> :-/
>
> That said, I think the original complaint kind of banged on Automattic a
> bit unfairly. There's nothing to stop us "regular" WP community members from
> contributing our thoughts, code, patches, testing, etc. at any given time.
> On the other hand, since Automattic *does* basically have the role of
> Benevolent Dictator, it *would* be nice if they'd lay out the Roadmap a
> little more clearly/transparently and communicate upcoming
> milestones/deadlines in advance.
>
> I'm not sayin', I'm just sayin'. ;)
>
> --
> Dougal Campbell <dougal@gunters.org>
> http://dougal.gunters.org/
> http://twitter.com/dougal
> http://twitual.com/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards,
Ibrahim Abdel Fattah Mohamed
Web Developer
Twitter: @bingorabbit
e-mail: bingorabbit@gmail.com
Personal bLOG: http://bingorabbit.com/
From chris at clwill.com  Thu Apr 16 23:03:25 2009
From: chris at clwill.com (Chris Williams)
Date: Thu Apr 16 23:04:13 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <e05a63ba0904161527y37e1c42bw5f506521f732c00a@mail.gmail.com>
Message-ID: <C60D074D.2E6B2%chris@clwill.com>

OK, well then.  Two months ago I found a bug, created a trivial test case to
prove it, put it in Trac (see:  http://core.trac.wordpress.org/ticket/9146),
immediately put in the appropriate patch -- exactly as I was told to here.
Nothing has happened to it.  AFAIK, nobody with any power has even looked at
it.  No feedback, no action, nada.

Hard to get excited about finding and fixing bugs when the process is obtuse
and with little/no feedback.

Chris


> From: "Ibrahim A. Mohamed" <bingorabbit@gmail.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Fri, 17 Apr 2009 00:27:47 +0200
> To: <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] 24-hour has-patch marathon TODAY
> 
> Hello,
> 
> I think it will be better if you stopped this discussion and found some
> patches to test or to add to the opened tickets, wasting your time in a
> letter typed here - that won't change something that is already on - can be
> a letter in the code typed there.
> 
> Thanks in Advance!
> 
> On Thu, Apr 16, 2009 at 10:58 PM, Dougal Campbell <dougal@gunters.org>wrote:
> 
>> Mike Schinkel wrote:
>> 
>>> "Matt Martz" <mdmartz@sivel.net> wrote:
>>> 
>>> 
>>>> If you read the dev blog then you should have heard about this 2 days ago
>>>> when the post was made.
>>>> 
>>>> 
>>> 
>>> 2 days is still very short notice.
>>> 
>>> 
>> 
>> I agree. Especially when one of those days is Tax Day here in the U.S. I
>> was one of the procrastinators who spent all day yesterday finishing up my
>> taxes (and really it wasn't just procrastination -- my family has had a lot
>> going on that made it hard to make time for it before now), so I didn't see
>> the info about it until this morning. If it had been scheduled about a week
>> later, I might have been able to participate in some patch testing/creation.
>> :-/
>> 
>> That said, I think the original complaint kind of banged on Automattic a
>> bit unfairly. There's nothing to stop us "regular" WP community members from
>> contributing our thoughts, code, patches, testing, etc. at any given time.
>> On the other hand, since Automattic *does* basically have the role of
>> Benevolent Dictator, it *would* be nice if they'd lay out the Roadmap a
>> little more clearly/transparently and communicate upcoming
>> milestones/deadlines in advance.
>> 
>> I'm not sayin', I'm just sayin'. ;)
>> 
>> --
>> Dougal Campbell <dougal@gunters.org>
>> http://dougal.gunters.org/
>> http://twitter.com/dougal
>> http://twitual.com/
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> 
> 
> 
> -- 
> Regards,
> Ibrahim Abdel Fattah Mohamed
> Web Developer
> Twitter: @bingorabbit
> e-mail: bingorabbit@gmail.com
> Personal bLOG: http://bingorabbit.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From regulatethis at gmail.com  Thu Apr 16 23:09:15 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Thu Apr 16 23:09:28 2009
Subject: [wp-hackers] Input for patch
Message-ID: <39fdab560904161609u76f6e17ai6e870c313146a989@mail.gmail.com>

I just submitted a new patch for this issue that I tried tackling a while ago:

http://core.trac.wordpress.org/ticket/6992

This fix is compatible with PHP4 and from what I can tell, it doesn't
have any impact in other areas (i.e. something expecting requiring the
value to be urlencoded/etc).

It's bizarre, but the cookie value when I view it through my browser
is urlencoded, however after it's grabbed through $_COOKIE, the quote
is turned into an html entity. Anyone know why this is happening? My
understanding is that PHP uses urlencoding in the setcookie() call,
and nowhere in the PHP documentation can I find an explanation for
this.

Secondly, this patch only runs comment_author through
html_entity_decode... Might it make sense to do the same for all the
comment data?

-daniel
From lynne.pope at gmail.com  Thu Apr 16 23:13:27 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Thu Apr 16 23:41:55 2009
Subject: [wp-hackers] Patch I'd like considered for 2.8
In-Reply-To: <862d087f0904161117l13a5b41fg3237d3c6daa5014d@mail.gmail.com>
References: <862d087f0904161117l13a5b41fg3237d3c6daa5014d@mail.gmail.com>
Message-ID: <427667db0904161613o4b39e919w9bd37e3ad3276414@mail.gmail.com>

Nice job Nathan! I see it has gone in now - kudos!

Lynne

2009/4/17 Nathan Rice <ncrice@gmail.com>

> I'd really appreciate it if someone could take a look at this ticket:
> http://core.trac.wordpress.org/ticket/9514
>
> If you don't see any problems with it (it's a VERY simple addition), and
> you
> have the ability to do so, I would appreciate it if someone could get this
> into 2.8 before launch.  It's a flaw in the new body class generation that,
> if fixed, would be extremely useful to theme developers.
>
> Thanks!
> Nathan
>
>
From joseph at josephscott.org  Thu Apr 16 23:44:40 2009
From: joseph at josephscott.org (Joseph Scott)
Date: Thu Apr 16 23:45:00 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <C60D074D.2E6B2%chris@clwill.com>
References: <C60D074D.2E6B2%chris@clwill.com>
Message-ID: <4DFC2176-55FB-45C3-B05A-80BD37B7FF1D@josephscott.org>


On Apr 16, 2009, at 5:03 PM, Chris Williams wrote:

> OK, well then.  Two months ago I found a bug, created a trivial test  
> case to
> prove it, put it in Trac (see:  http://core.trac.wordpress.org/ticket/9146) 
> ,
> immediately put in the appropriate patch -- exactly as I was told to  
> here.
> Nothing has happened to it.  AFAIK, nobody with any power has even  
> looked at
> it.  No feedback, no action, nada.
>
> Hard to get excited about finding and fixing bugs when the process  
> is obtuse
> and with little/no feedback.



I took a look at that ticket -- http://core.trac.wordpress.org/ticket/9146 
  -- and confirmed the problem you described and that your patch fixes  
it.

What wasn't clear at first is that you were talking about the HTML  
<title>, took a few minutes of looking around to figure out what was  
missing :-)

I've pinged Ryan about this and will follow up to see if this can make  
it into 2.8.

--
Joseph Scott
joseph@josephscott.org
http://josephscott.org/




From chris at clwill.com  Fri Apr 17 00:16:44 2009
From: chris at clwill.com (Chris Williams)
Date: Fri Apr 17 00:17:11 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <C60D074D.2E6B2%chris@clwill.com>
Message-ID: <C60D187C.2E6D3%chris@clwill.com>

Thank you to those who promptly reviewed and accepted this patch.


> From: Chris Williams <chris@clwill.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Thu, 16 Apr 2009 16:03:25 -0700
> To: <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] 24-hour has-patch marathon TODAY
> 
> OK, well then.  Two months ago I found a bug, created a trivial test case to
> prove it, put it in Trac (see:  http://core.trac.wordpress.org/ticket/9146),
> immediately put in the appropriate patch -- exactly as I was told to here.
> Nothing has happened to it.  AFAIK, nobody with any power has even looked at
> it.  No feedback, no action, nada.
> 
> Hard to get excited about finding and fixing bugs when the process is obtuse
> and with little/no feedback.
> 
> Chris
> 
> 
>> From: "Ibrahim A. Mohamed" <bingorabbit@gmail.com>
>> Reply-To: <wp-hackers@lists.automattic.com>
>> Date: Fri, 17 Apr 2009 00:27:47 +0200
>> To: <wp-hackers@lists.automattic.com>
>> Subject: Re: [wp-hackers] 24-hour has-patch marathon TODAY
>> 
>> Hello,
>> 
>> I think it will be better if you stopped this discussion and found some
>> patches to test or to add to the opened tickets, wasting your time in a
>> letter typed here - that won't change something that is already on - can be
>> a letter in the code typed there.
>> 
>> Thanks in Advance!
>> 
>> On Thu, Apr 16, 2009 at 10:58 PM, Dougal Campbell <dougal@gunters.org>wrote:
>> 
>>> Mike Schinkel wrote:
>>> 
>>>> "Matt Martz" <mdmartz@sivel.net> wrote:
>>>> 
>>>> 
>>>>> If you read the dev blog then you should have heard about this 2 days ago
>>>>> when the post was made.
>>>>> 
>>>>> 
>>>> 
>>>> 2 days is still very short notice.
>>>> 
>>>> 
>>> 
>>> I agree. Especially when one of those days is Tax Day here in the U.S. I
>>> was one of the procrastinators who spent all day yesterday finishing up my
>>> taxes (and really it wasn't just procrastination -- my family has had a lot
>>> going on that made it hard to make time for it before now), so I didn't see
>>> the info about it until this morning. If it had been scheduled about a week
>>> later, I might have been able to participate in some patch testing/creation.
>>> :-/
>>> 
>>> That said, I think the original complaint kind of banged on Automattic a
>>> bit unfairly. There's nothing to stop us "regular" WP community members from
>>> contributing our thoughts, code, patches, testing, etc. at any given time.
>>> On the other hand, since Automattic *does* basically have the role of
>>> Benevolent Dictator, it *would* be nice if they'd lay out the Roadmap a
>>> little more clearly/transparently and communicate upcoming
>>> milestones/deadlines in advance.
>>> 
>>> I'm not sayin', I'm just sayin'. ;)
>>> 
>>> --
>>> Dougal Campbell <dougal@gunters.org>
>>> http://dougal.gunters.org/
>>> http://twitter.com/dougal
>>> http://twitual.com/
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> 
>> 
>> 
>> -- 
>> Regards,
>> Ibrahim Abdel Fattah Mohamed
>> Web Developer
>> Twitter: @bingorabbit
>> e-mail: bingorabbit@gmail.com
>> Personal bLOG: http://bingorabbit.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From thank-u-jesus at hotmail.com  Fri Apr 17 01:46:50 2009
From: thank-u-jesus at hotmail.com (stephena timi)
Date: Fri Apr 17 01:47:04 2009
Subject: [wp-hackers] Input for patch
In-Reply-To: <39fdab560904161609u76f6e17ai6e870c313146a989@mail.gmail.com>
References: <39fdab560904161609u76f6e17ai6e870c313146a989@mail.gmail.com>
Message-ID: <BLU114-W25D9C16C6C303448CB8A8B87B0@phx.gbl>



hi 

friend can u help to hack an e-mail?

 

_________________________________________________________________
Gratis emoticons voor in je Messenger!
http://www.msnmessengerexperience.nl/chuck/
From wp at xentek.net  Fri Apr 17 02:57:37 2009
From: wp at xentek.net (Eric Marden)
Date: Fri Apr 17 02:57:54 2009
Subject: [wp-hackers] Input for patch
In-Reply-To: <BLU114-W25D9C16C6C303448CB8A8B87B0@phx.gbl>
References: <39fdab560904161609u76f6e17ai6e870c313146a989@mail.gmail.com>
	<BLU114-W25D9C16C6C303448CB8A8B87B0@phx.gbl>
Message-ID: <8618B69F-D052-4369-8BCA-DA63550B4157@xentek.net>

Sure! What's your password?


- Eric Marden
__________________________________
http://xentek.net/code/wordpress/





On Apr 16, 2009, at 9:46 PM, stephena timi wrote:

>
>
> hi
>
> friend can u help to hack an e-mail?
>
>
>
> _________________________________________________________________
> Gratis emoticons voor in je Messenger!
> http://www.msnmessengerexperience.nl/chuck/_______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From aaron.jorbin at gmail.com  Fri Apr 17 06:09:58 2009
From: aaron.jorbin at gmail.com (Aaron Jorbin)
Date: Fri Apr 17 06:10:11 2009
Subject: [wp-hackers] Edit Template Tags with Plugin
Message-ID: <21952a280904162309h598129a1k30c5be5ca00266e@mail.gmail.com>

Hi

I was at the Portland Wordpress User Group meeting tonight and brought
up a question and Lorelle said that this might be the best place for
it.  Any assistance that can be provided would of course be greatly
appreciated.

What I am hoping to do is create a plugin that can filter the content
of theme files similiarly to

add_filter('the_content','a_filter');

The goal is to essentially allow for the plugin to modify the results
of the get_header(), get_footer() and get_sidebar() template tags, but
I haven't figured out how to do that.  I've tried

remove_action('get_header', 'load_template');

and replacing it with a function that would do what I would like, but
that doesn't work.  Does anyone have any advice on if this is
possible?  Anyone know if there are any plugins currently doing this?

Thanks in advance for any tips that anyone is able to provide.
Aaron Jorbin
aaron.jorbin@gmail.com
Twitter: @aaronjorbin
From sojweb at indiana.edu  Fri Apr 17 13:06:20 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Fri Apr 17 13:06:37 2009
Subject: [wp-hackers] Edit Template Tags with Plugin
In-Reply-To: <21952a280904162309h598129a1k30c5be5ca00266e@mail.gmail.com>
References: <21952a280904162309h598129a1k30c5be5ca00266e@mail.gmail.com>
Message-ID: <554A5C6B-8AC1-4BA7-A6CB-67281A0A2407@indiana.edu>

I think this would be really tricky. Any solution would have to  
involved output buffering because those template files virtually  
always include script (unless you wanted to filter script). The  
functions you mentioned all have a do_action hook, so it might be  
possible to hook into that, turn on output buffering, load the files,  
process the buffer, and then output it. After the hook, WordPress will  
still try to load the files, but it uses a require_once, so that  
probably won't do anything.

Out of curiosity, what would this be used for?


-Jeff

On Apr 17, 2009, at 2:09 AM, Aaron Jorbin wrote:

> Hi
>
> I was at the Portland Wordpress User Group meeting tonight and brought
> up a question and Lorelle said that this might be the best place for
> it.  Any assistance that can be provided would of course be greatly
> appreciated.
>
> What I am hoping to do is create a plugin that can filter the content
> of theme files similiarly to
>
> add_filter('the_content','a_filter');
>
> The goal is to essentially allow for the plugin to modify the results
> of the get_header(), get_footer() and get_sidebar() template tags, but
> I haven't figured out how to do that.  I've tried
>
> remove_action('get_header', 'load_template');
>
> and replacing it with a function that would do what I would like, but
> that doesn't work.  Does anyone have any advice on if this is
> possible?  Anyone know if there are any plugins currently doing this?
>
> Thanks in advance for any tips that anyone is able to provide.
> Aaron Jorbin
> aaron.jorbin@gmail.com
> Twitter: @aaronjorbin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ncrice at gmail.com  Fri Apr 17 13:16:34 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Fri Apr 17 13:16:50 2009
Subject: [wp-hackers] Edit Template Tags with Plugin
In-Reply-To: <554A5C6B-8AC1-4BA7-A6CB-67281A0A2407@indiana.edu>
References: <21952a280904162309h598129a1k30c5be5ca00266e@mail.gmail.com>
	<554A5C6B-8AC1-4BA7-A6CB-67281A0A2407@indiana.edu>
Message-ID: <862d087f0904170616r7168df98j95c3bd13839f39e2@mail.gmail.com>

With some themes, this is possible. But they have to be build specifically
for this type of thing.  Most call them "theme frameworks".

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Fri, Apr 17, 2009 at 9:06 AM, SoJ Web <sojweb@indiana.edu> wrote:

> I think this would be really tricky. Any solution would have to involved
> output buffering because those template files virtually always include
> script (unless you wanted to filter script). The functions you mentioned all
> have a do_action hook, so it might be possible to hook into that, turn on
> output buffering, load the files, process the buffer, and then output it.
> After the hook, WordPress will still try to load the files, but it uses a
> require_once, so that probably won't do anything.
>
> Out of curiosity, what would this be used for?
>
>
> -Jeff
>
>
> On Apr 17, 2009, at 2:09 AM, Aaron Jorbin wrote:
>
>  Hi
>>
>> I was at the Portland Wordpress User Group meeting tonight and brought
>> up a question and Lorelle said that this might be the best place for
>> it.  Any assistance that can be provided would of course be greatly
>> appreciated.
>>
>> What I am hoping to do is create a plugin that can filter the content
>> of theme files similiarly to
>>
>> add_filter('the_content','a_filter');
>>
>> The goal is to essentially allow for the plugin to modify the results
>> of the get_header(), get_footer() and get_sidebar() template tags, but
>> I haven't figured out how to do that.  I've tried
>>
>> remove_action('get_header', 'load_template');
>>
>> and replacing it with a function that would do what I would like, but
>> that doesn't work.  Does anyone have any advice on if this is
>> possible?  Anyone know if there are any plugins currently doing this?
>>
>> Thanks in advance for any tips that anyone is able to provide.
>> Aaron Jorbin
>> aaron.jorbin@gmail.com
>> Twitter: @aaronjorbin
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From glenn at glennansley.com  Fri Apr 17 13:36:28 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Fri Apr 17 13:36:41 2009
Subject: [wp-hackers] InDesign to WordPress?
Message-ID: <3283f0830904170636v244dae2fqdd83be278ae397cc@mail.gmail.com>

Hi,
Has anybody here ever run across a workflow that goes from inDesign to
WordPress, retaining the RTF of the text?
I'm looking into different solutions and currently think that the best
option will be to export from inDesign as XML, using their tagging
feature to tag all the bolds, titles, signatures, etc. The only
problem is that there are a lot of bold and italicized text in the
content and that's going to be a lot of tagging. (This will also be a
reoccurring process every couple of months so I really need a flow
process, not a one time intensive data entry solution).

Just wanted to make sure I wasn't missing an easier alternative. Thanks!

Glenn Ansley
Custom WordPress Plugins
http://fullthrottledevelopment.com
From steph at sillybean.net  Fri Apr 17 17:06:45 2009
From: steph at sillybean.net (Stephanie Leary)
Date: Fri Apr 17 17:06:58 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <C60D074D.2E6B2%chris@clwill.com>
References: <C60D074D.2E6B2%chris@clwill.com>
Message-ID: <8a4d86617536add9925bd212beacea2a@laurel.joyent.us>


On Thu, 16 Apr 2009 16:03:25 -0700, Chris Williams <chris@clwill.com>
wrote:
> Hard to get excited about finding and fixing bugs when the process is
> obtuse
> and with little/no feedback.

I agree. I put in a patch for a nasty bug several months ago
(http://core.trac.wordpress.org/ticket/6035), and it's gone nowhere. I've
released a plugin in the meantime to help people affected by the problem,
but this could easily have been part of 2.7.1 if someone had looked at it.

The has-patch marathon is great. I'm really glad it's happening. I wish I
had a better idea of how to contribute without letting my patches languish
until the next marathon rolls around.


Stephanie Leary
sillybean.net
From wp-hackers at striderweb.com  Fri Apr 17 22:01:55 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Fri Apr 17 22:02:09 2009
Subject: [wp-hackers] "Appearance" vs. "Design"
Message-ID: <4BC25DA9-9B49-469A-BD5C-875DA520959D@striderweb.com>

This has been itching the back of my head since the 2.7 redesign, and  
I thought it was worth mentioning to the list....

In WordPress 2.7, we reorganized the Admin section menus.  For the  
most part, I think this was a good move -- the 2.7 redesign was,  
overall, excellent.  However, in the process of moving from "verb"  
menus to "noun" menus, we renamed "Design" to "Appearance".  I believe  
this was a mistake.  I believe we should revert to "Design".

First, I'll get the obvious out of the way:  "Design" is both a noun  
and verb, and thus fits into the new style just fine.

Second --  "Design" is a broader description that better encompasses  
the breath of items under it.  For example, Widgets are more than  
simply appearance -- they are pieces of information.  I would  
certainly say they constitute part of the design of the site, but less  
so (strictly speaking) the appearance.

Just a thought.

Stephen


From aaron.jorbin at gmail.com  Fri Apr 17 22:21:42 2009
From: aaron.jorbin at gmail.com (Aaron Jorbin)
Date: Fri Apr 17 22:21:56 2009
Subject: [wp-hackers] Edit Template Tags with Plugin
In-Reply-To: <862d087f0904170616r7168df98j95c3bd13839f39e2@mail.gmail.com>
References: <21952a280904162309h598129a1k30c5be5ca00266e@mail.gmail.com>
	<554A5C6B-8AC1-4BA7-A6CB-67281A0A2407@indiana.edu>
	<862d087f0904170616r7168df98j95c3bd13839f39e2@mail.gmail.com>
Message-ID: <21952a280904171521m3033bdfcv3ca21d191f4b8871@mail.gmail.com>

The Goal is to create an easily (from the user standpoint)
controllable and customizable nofollow / dofollow plugin that will
allow for fine grained control of individual links on a page by page
and post by post basis.

I like the idea of using an output buffer and will check it out,
though I worry it will have serious negative repercussions when it
comes to site load times.  Anyone have experience with this?





aaron.jorbin@gmail.com
Twitter: @aaronjorbin



On Fri, Apr 17, 2009 at 6:16 AM, Nathan Rice <ncrice@gmail.com> wrote:
> With some themes, this is possible. But they have to be build specifically
> for this type of thing. ?Most call them "theme frameworks".
>
> My Website
> http://www.nathanrice.net/
>
> My Twitter
> http://twitter.com/nathanrice
>
>
> On Fri, Apr 17, 2009 at 9:06 AM, SoJ Web <sojweb@indiana.edu> wrote:
>
>> I think this would be really tricky. Any solution would have to involved
>> output buffering because those template files virtually always include
>> script (unless you wanted to filter script). The functions you mentioned all
>> have a do_action hook, so it might be possible to hook into that, turn on
>> output buffering, load the files, process the buffer, and then output it.
>> After the hook, WordPress will still try to load the files, but it uses a
>> require_once, so that probably won't do anything.
>>
>> Out of curiosity, what would this be used for?
>>
>>
>> -Jeff
>>
>>
>> On Apr 17, 2009, at 2:09 AM, Aaron Jorbin wrote:
>>
>> ?Hi
>>>
>>> I was at the Portland Wordpress User Group meeting tonight and brought
>>> up a question and Lorelle said that this might be the best place for
>>> it. ?Any assistance that can be provided would of course be greatly
>>> appreciated.
>>>
>>> What I am hoping to do is create a plugin that can filter the content
>>> of theme files similiarly to
>>>
>>> add_filter('the_content','a_filter');
>>>
>>> The goal is to essentially allow for the plugin to modify the results
>>> of the get_header(), get_footer() and get_sidebar() template tags, but
>>> I haven't figured out how to do that. ?I've tried
>>>
>>> remove_action('get_header', 'load_template');
>>>
>>> and replacing it with a function that would do what I would like, but
>>> that doesn't work. ?Does anyone have any advice on if this is
>>> possible? ?Anyone know if there are any plugins currently doing this?
>>>
>>> Thanks in advance for any tips that anyone is able to provide.
>>> Aaron Jorbin
>>> aaron.jorbin@gmail.com
>>> Twitter: @aaronjorbin
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From kikizas at gmail.com  Fri Apr 17 22:45:32 2009
From: kikizas at gmail.com (Demetris)
Date: Fri Apr 17 22:45:48 2009
Subject: [wp-hackers] "Appearance" vs. "Design"
In-Reply-To: <4BC25DA9-9B49-469A-BD5C-875DA520959D@striderweb.com>
References: <4BC25DA9-9B49-469A-BD5C-875DA520959D@striderweb.com>
Message-ID: <9f34a3610904171545r146aa6b7pff0b17976d059ace@mail.gmail.com>

On Sat, Apr 18, 2009 at 1:01 AM, Stephen Rider
<wp-hackers@striderweb.com> wrote:
> This has been itching the back of my head since the 2.7 redesign, and I
> thought it was worth mentioning to the list....
>
> In WordPress 2.7, we reorganized the Admin section menus. ?For the most
> part, I think this was a good move -- the 2.7 redesign was, overall,
> excellent. ?However, in the process of moving from "verb" menus to "noun"
> menus, we renamed "Design" to "Appearance". ?I believe this was a mistake.
> ?I believe we should revert to "Design".
>
> First, I'll get the obvious out of the way: ?"Design" is both a noun and
> verb, and thus fits into the new style just fine.
>
> Second -- ?"Design" is a broader description that better encompasses the
> breath of items under it. ?For example, Widgets are more than simply
> appearance -- they are pieces of information. ?I would certainly say they
> constitute part of the design of the site, but less so (strictly speaking)
> the appearance.
>
> Just a thought.
>
> Stephen
>
I agree that Appearance is not good, but it is my preference between
the two (Appearance in the sense of the external, visible aspect).

The word Design seems to me too much for what that part of WordPress is.

If I were to propose something new, I think Layout would be better.
(Blogger uses this.  Its corresponding tab is called Layout and it has
four sub-tabs: Page Elements, Fonts and Colors, Edit HTML, Pick New
Template.)

But I would not propose such a change for v2.8.  Too many things
change too fast in WordPress.  I think we should wait for the next
major redesign.

Cheers,

Demetris
http://op111.net/
From shane at bugssite.org  Sat Apr 18 00:10:35 2009
From: shane at bugssite.org (Shane A. Froebel)
Date: Sat Apr 18 00:11:14 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <8a4d86617536add9925bd212beacea2a@laurel.joyent.us>
References: <C60D074D.2E6B2%chris@clwill.com>
	<8a4d86617536add9925bd212beacea2a@laurel.joyent.us>
Message-ID: <49E91A7B.7070308@bugssite.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I look at *a lot* of 'has-patch' tickets, however, most of the patches
that were submitted were not matching up with the current changeset. So
half the time was spent either trying to merge it together or do it
manually.

Some of them was to crazy and we moved to them to 'needs-patch' again.

People gotta realize that patches need to stay updated along with the
current changeset. Otherwise there is no way for us to easily check out
the code and mark it 'tested commit'.

Hope this helps in the future!

Your Friend,
Shane

Stephanie Leary wrote:
> On Thu, 16 Apr 2009 16:03:25 -0700, Chris Williams <chris@clwill.com>
> wrote:
>> Hard to get excited about finding and fixing bugs when the process is
>> obtuse
>> and with little/no feedback.
> 
> I agree. I put in a patch for a nasty bug several months ago
> (http://core.trac.wordpress.org/ticket/6035), and it's gone nowhere. I've
> released a plugin in the meantime to help people affected by the problem,
> but this could easily have been part of 2.7.1 if someone had looked at it.
> 
> The has-patch marathon is great. I'm really glad it's happening. I wish I
> had a better idea of how to contribute without letting my patches languish
> until the next marathon rolls around.
> 
> 
> Stephanie Leary
> sillybean.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iQIcBAEBAgAGBQJJ6Rp6AAoJEChMcQvNqPqmiGQQAIUEtvjTnsbX/ir4M0zPtAIF
et0p9rZeXilW7OwTiA2PCTLG1JbC1vFgfzFwk5xArDoVIyrXe1oSZyyyHFq0bmej
Aimw1TJs8Aydzsg79ebN0/zVLs9tA8fSRbwHh4fmQzMcHzYlA54e2hIRaPCdZiCM
NMa+R3Ui+gsvWFAL6HNnEWGKLcLkyBE3qoenKi2Z9t4w6+FRknPiPJQcU0vkTViQ
ndWO9fJD76MsEEpSdl6K8WA+ZO5VTVolsZPlmDBA5pfb20YOFD5li4op+c7urT+N
Nkg2p8nwVcsNkbi1cY7/PKvpW4PkO/x9ohLy8btaKDC3j/VbU322h6UMYzSDdwXm
eDA3bAEErLDkeAIwXUvYgDbBd/8fH4YieJdDsTMCdQl8GqV/6G0gUtv/XfgyXk5D
XOPuUPLluP7ymFpkCLhEmkAmY/szLxUTg/38GE9xnRqWNzFhS+vCDudvFVodwomc
Po8ThCFBDkpDJ8I+qHawyYdLzoXsgC7vSbCopjVtirPHh5qLlzgFWbP3XrgzBMhR
jXWl+3vLXO0dPUrv+poc3y2aM19VM5RX/GZBBtNEeFVpX6BTLzFr5iUuPzOJ1Z7G
5GX/JfFkiswksaVxvNRXaPuOG/O7xEebCM/YD5APLBpUNnkWz0xLQZuK3/SBWsCG
dJz3eA0dKrJioYJOQKhJ
=t6v2
-----END PGP SIGNATURE-----
From lynne.pope at gmail.com  Sat Apr 18 03:46:12 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Sat Apr 18 03:46:51 2009
Subject: [wp-hackers] Security: New Password Protect Page Option
In-Reply-To: <77c8b7bf0903301108i7070da60vc0050774d9b1ec25@mail.gmail.com>
References: <83C3090B-8323-495F-908E-94AE0EE13908@gmail.com> 
	<349fe48b0903291601k2116456fh38603137f6be0d9d@mail.gmail.com> 
	<180DED6D-854D-47B9-9B0B-1714C2AB30FE@xentek.net>
	<77c8b7bf0903301108i7070da60vc0050774d9b1ec25@mail.gmail.com>
Message-ID: <427667db0904172046r74f751a2g5c9e0361aba5327b@mail.gmail.com>

In December an associate reported heavy loads on searches on his site. It
appeared they were all querying the same phrase -which was part of content
that he had password protected for people who had subscriptions to his site.


He concluded that one of his permitted users must have disclosed
information. However, after seeing Scott Reilly's new plugin, I am able to
confirm that the password-protected posts were appearing in search results
from the WordPress search. (
http://coffee2code.com/wp-plugins/omit-passworded-posts-from-search/)

This is really concerning and I doubt many people will be aware that the
default WP search returns results from password-protected posts.  I sure
wasn't!

Scott has opened a trac ticket here:
http://core.trac.wordpress.org/ticket/9559

I believe this is a serious privacy issue for some sites and it should be
fixed in the core. The trac ticket is only a couple of days old and I hope
it doesn't get overlooked in the race to get 2.8 completed.

Cheers,
Lynne
From scribu at gmail.com  Sat Apr 18 06:27:26 2009
From: scribu at gmail.com (scribu)
Date: Sat Apr 18 06:27:41 2009
Subject: [wp-hackers] Edit Template Tags with Plugin
In-Reply-To: <21952a280904171521m3033bdfcv3ca21d191f4b8871@mail.gmail.com>
References: <21952a280904162309h598129a1k30c5be5ca00266e@mail.gmail.com>
	<554A5C6B-8AC1-4BA7-A6CB-67281A0A2407@indiana.edu>
	<862d087f0904170616r7168df98j95c3bd13839f39e2@mail.gmail.com>
	<21952a280904171521m3033bdfcv3ca21d191f4b8871@mail.gmail.com>
Message-ID: <349fe48b0904172327l4d13ecd8s48d4fe8158cc5df7@mail.gmail.com>

On Sat, Apr 18, 2009 at 1:21 AM, Aaron Jorbin <aaron.jorbin@gmail.com>wrote:

> The Goal is to create an easily (from the user standpoint)
> controllable and customizable nofollow / dofollow plugin that will
> allow for fine grained control of individual links on a page by page
> and post by post basis.
>

I think what you really need is conditional
tags<http://codex.wordpress.org/Conditional_Tags>.
This is how you would make it work:

add_action('template_redirect', 'my_nofollow_plugin');

function my_nofollow_plugin() {
  if ( is_page(124) ) {
    // add nofollow script etc. you can use wp_enqueue_script
  }
}

First, it hooks into the template_redirect action and then it does the
processing only if it is on the required page. You can combine as many
conditional tags as you want.

Although, if you want it to work on a link by link basis, you will have to
use output buffering. Just don't know how you would be able to build an UI
for this.

-- 
http://scribu.net
From bunnylists at gmail.com  Sat Apr 18 10:08:24 2009
From: bunnylists at gmail.com (Stephanie Booth)
Date: Sat Apr 18 10:09:02 2009
Subject: [wp-hackers] Re: basic bilingual plugin: need help with two issues
In-Reply-To: <5cdeb9b20904120102i51309f07l6804070abf61fb20@mail.gmail.com>
References: <5cdeb9b20904120102i51309f07l6804070abf61fb20@mail.gmail.com>
Message-ID: <5cdeb9b20904180308kf95afcch6dc509d2566d3e71@mail.gmail.com>

Hi folks,

I'm coming again with this problem I sent in about a week ago (maybe
at a bad time, Easter). I'm unfortunately still stuck with these
issues and would really welcome some help. I think this is the right
mailing-list for this sort of thing, but if it isn't, feel free to
point it out.

Thanks in advance to the kind souls who will take a look at the issues below.

Have a nice week-end

Steph

On Sun, Apr 12, 2009 at 10:02 AM, Stephanie Booth <bunnylists@gmail.com> wrote:
> Hello hackers!
>
> I'm taking advantage of the Easter break to brush up some of my poor
> plugins, in particular Basic Bilingual.
>
> You can find it here: http://wordpress.org/extend/plugins/basic-bilingual
>
> I'm stuck with two problems:
>
> 1. language selection field
>
> Language is stored as postmeta, and I have added a clumsy field to the
> admin interface to allow editing it more easily. I'd like to make this
> field less clumsy, place it higher up in the post/edit page, and
> change it into radio buttons. Radio buttons I can probably figure out
> for myself (though I'm very rusty and it'll probably take me half a
> day), but I'm really stuck trying to integrate this form element more
> smoothly with the rest of the post/page editing form.
>
> 2. adding lang="" attribute to the post/hentry div
>
> I'd like the plugin to automatically add the correct lang attribute to
> the div containing the post. I've got some code but I'm a bit stuck,
> again:
>
> function bb_embed_lang($buffer) {
> ? ? ? ?ob_start('bb_insert_lang_attribute');
> }
>
> function bb_insert_lang_attribute($buffer) {
> ? ? ? ?$search='/(class="(.)*hentry(.)*")/';
> ? ? ? ?$replace=\\1 . ' lang="' . bb_get_the_language() . '"';
> ? ? ? ?return preg_replace($search, $replace, $buffer);
> }
>
>
> function bb_got_hentry()
> {
> // needs to check for hentry presence
> ? ? ? ?return false;
> ? ? ? ?}
> if(bb_got_hentry())
> { ? ? ? add_action('template_redirect', 'bb_embed_lang');
> }
>
> Of course, if you have any other comments or suggestions for my code,
> I'm a taker (I'm a dabbler much more than a coder, and this plugin was
> written for a way older version of WordPress, initially).
>
> Thanks a lot for any help
>
> Steph


-- 
Espace Coworking Lausanne: http://eclau.ch
Subscribe to my newsletter: http://groups.google.com/group/sbooth
web: http://stephanie-booth.com | blog: http://climbtothestars.org
skype: steph-booth | cell: +41 78 625 44 74 | twitter: stephtara |
AIM: Gummywabbit
geotag: Lausanne, Switzerland (GMT+1) | For the rest... Google me!
From simon at sweetinteraction.com  Sat Apr 18 10:34:05 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Sat Apr 18 10:35:09 2009
Subject: [wp-hackers] basic bilingual plugin: need help with two issues
In-Reply-To: <5cdeb9b20904120102i51309f07l6804070abf61fb20@mail.gmail.com>
References: <5cdeb9b20904120102i51309f07l6804070abf61fb20@mail.gmail.com>
Message-ID: <77c8b7bf0904180334n6fca8c60k553325f6e7c0ad73@mail.gmail.com>

On Sun, Apr 12, 2009 at 9:02 AM, Stephanie Booth <bunnylists@gmail.com> wrote:
> Hello hackers!
>

Hi!

>
> 1. language selection field
>
> Language is stored as postmeta, and I have added a clumsy field to the
> admin interface to allow editing it more easily. I'd like to make this
> field less clumsy, place it higher up in the post/edit page, and
> change it into radio buttons. Radio buttons I can probably figure out
> for myself (though I'm very rusty and it'll probably take me half a
> day), but I'm really stuck trying to integrate this form element more
> smoothly with the rest of the post/page editing form.
>

For positioning your form element, have a look at the function
add_meta_box particularly the "priority" and "context" parameters,
play around until you've got it roughly where you want. Here's the
codex entry:
http://codex.wordpress.org/Function_Reference/add_meta_box

>
> 2. adding lang="" attribute to the post/hentry div
>

I can't help much with this I'm afraid, sorry.

S


---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT
From bunnylists at gmail.com  Sat Apr 18 10:51:21 2009
From: bunnylists at gmail.com (Stephanie Booth)
Date: Sat Apr 18 10:51:50 2009
Subject: [wp-hackers] basic bilingual plugin: need help with two issues
In-Reply-To: <77c8b7bf0904180334n6fca8c60k553325f6e7c0ad73@mail.gmail.com>
References: <5cdeb9b20904120102i51309f07l6804070abf61fb20@mail.gmail.com> 
	<77c8b7bf0904180334n6fca8c60k553325f6e7c0ad73@mail.gmail.com>
Message-ID: <5cdeb9b20904180351p7137d4dbw3792674c89f91288@mail.gmail.com>

On Sat, Apr 18, 2009 at 12:34 PM, Simon Wheatley
<simon@sweetinteraction.com> wrote:

> For positioning your form element, have a look at the function
> add_meta_box particularly the "priority" and "context" parameters,
> play around until you've got it roughly where you want. Here's the
> codex entry:
> http://codex.wordpress.org/Function_Reference/add_meta_box

Ooh, this is exactly the information I needed! Thanks a lot. I should
be able to sort things out with the documentation and examples.

>>
>> 2. adding lang="" attribute to the post/hentry div
>>
>
> I can't help much with this I'm afraid, sorry.

No worry, hopefully somebody else can!

Cheers

Steph

-- 
Espace Coworking Lausanne: http://eclau.ch
Subscribe to my newsletter: http://groups.google.com/group/sbooth
web: http://stephanie-booth.com | blog: http://climbtothestars.org
skype: steph-booth | cell: +41 78 625 44 74 | twitter: stephtara |
AIM: Gummywabbit
geotag: Lausanne, Switzerland (GMT+1) | For the rest... Google me!
From if.website at gmail.com  Sat Apr 18 13:07:07 2009
From: if.website at gmail.com (Austin Matzko)
Date: Sat Apr 18 13:07:18 2009
Subject: [wp-hackers] basic bilingual plugin: need help with two issues
In-Reply-To: <5cdeb9b20904120102i51309f07l6804070abf61fb20@mail.gmail.com>
References: <5cdeb9b20904120102i51309f07l6804070abf61fb20@mail.gmail.com>
Message-ID: <674b4a3b0904180607h3197a3d3s5857b88c825c5ea4@mail.gmail.com>

On Sun, Apr 12, 2009 at 3:02 AM, Stephanie Booth <bunnylists@gmail.com> wrote:
> 2. adding lang="" attribute to the post/hentry div
>
> I'd like the plugin to automatically add the correct lang attribute to
> the div containing the post. I've got some code but I'm a bit stuck,
> again:

I'm assuming you want to do this just on singular (i.e. individual
posts or pages) pages; anything else will be almost impossible to do
with output buffering.  Instead, you might tell people to put an
action hook at the right place in their templates, such as

do_action('bb_lang_attribute', get_the_ID());

so that you can more robustly do the lookup with a callback function
on that hook.

> function bb_insert_lang_attribute($buffer) {
> ? ? ? ?$search='/(class="(.)*hentry(.)*")/';
> ? ? ? ?$replace=\\1 . ' lang="' . bb_get_the_language() . '"';
> ? ? ? ?return preg_replace($search, $replace, $buffer);
> }

I think you want something like this:

function bb_insert_lang_attribute($buffer) {
       $search = '/(class=("|\')[^"\']*hentry[^"\']*\2)/';
       $replace = '$1 lang=$2' . bb_get_the_language() . '$2';
       return preg_replace($search, $replace, $buffer);
}

> function bb_got_hentry()
> {
> // needs to check for hentry presence
> ? ? ? ?return false;

Instead of having the hentry logic here, I would put it in the
bb_get_the_language() function: use WP_Query's get_queried_object()
method to get the current object, and do whatever logic check for that
particular post or page at that point.
From Jesse.Silverstein at xerox.com  Sat Apr 18 15:26:21 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Sat Apr 18 15:27:23 2009
Subject: [wp-hackers] basic bilingual plugin: need help with two issues
In-Reply-To: <674b4a3b0904180607h3197a3d3s5857b88c825c5ea4@mail.gmail.com>
References: <5cdeb9b20904120102i51309f07l6804070abf61fb20@mail.gmail.com>
	<674b4a3b0904180607h3197a3d3s5857b88c825c5ea4@mail.gmail.com>
Message-ID: <F25F2C8DE17FB546A90DB3CF774614270644E12A@USA0300MS04.na.xerox.net>

In terms of adding a lang= attribute around post/entry, couldn't this be done with a filter?

add_filter('the_content', 'my_lang_function', 100);

function my_lang_function($the_content) {
	$this_lang = my_lookup_lang(get_the_ID());
	return "<span lang={$this_lang}">{$the_content}</span>";
}

Or something along those lines.

-Jesse Silverstein

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Austin Matzko
Sent: Saturday, April 18, 2009 9:07 AM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] basic bilingual plugin: need help with two issues

On Sun, Apr 12, 2009 at 3:02 AM, Stephanie Booth <bunnylists@gmail.com> wrote:
> 2. adding lang="" attribute to the post/hentry div
>
> I'd like the plugin to automatically add the correct lang attribute to
> the div containing the post. I've got some code but I'm a bit stuck,
> again:

I'm assuming you want to do this just on singular (i.e. individual
posts or pages) pages; anything else will be almost impossible to do
with output buffering.  Instead, you might tell people to put an
action hook at the right place in their templates, such as

do_action('bb_lang_attribute', get_the_ID());

so that you can more robustly do the lookup with a callback function
on that hook.

> function bb_insert_lang_attribute($buffer) {
> ? ? ? ?$search='/(class="(.)*hentry(.)*")/';
> ? ? ? ?$replace=\\1 . ' lang="' . bb_get_the_language() . '"';
> ? ? ? ?return preg_replace($search, $replace, $buffer);
> }

I think you want something like this:

function bb_insert_lang_attribute($buffer) {
       $search = '/(class=("|\')[^"\']*hentry[^"\']*\2)/';
       $replace = '$1 lang=$2' . bb_get_the_language() . '$2';
       return preg_replace($search, $replace, $buffer);
}

> function bb_got_hentry()
> {
> // needs to check for hentry presence
> ? ? ? ?return false;

Instead of having the hentry logic here, I would put it in the
bb_get_the_language() function: use WP_Query's get_queried_object()
method to get the current object, and do whatever logic check for that
particular post or page at that point.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.0.238 / Virus Database: 270.12.0/2066 - Release Date: 04/18/09 09:55:00
From simon at sweetinteraction.com  Sat Apr 18 15:46:35 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Sat Apr 18 16:15:05 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <E46CDA61-E21D-41F8-A038-31882315A77E@automattic.com>
References: <20090409002439.5E9AC6B7D@comox.textdrive.com> 
	<E46CDA61-E21D-41F8-A038-31882315A77E@automattic.com>
Message-ID: <77c8b7bf0904180846l46695780i3c772092b5f3d0e5@mail.gmail.com>

On Thu, Apr 16, 2009 at 12:39 PM, Jane Wells <jane@automattic.com> wrote:
>
> Hi everyone. A reminder post will go live on the dev blog at 4pm UTC/9am
> Pacific about the 24-hour has-patch marathon that's happening
> today/tomorrow, but I thought I'd drop a note in here as well.
>

Hi Jane, Core Devs and Automatticians,

Sadly I didn't get as involved as I would have liked to * but it was
good to see this take place and I hope that the marathon is repeated
at a similar point in the 2.9 dev process, is that a possibility?

Thanks!

S

* Sorry, just two patches as I managed to get seriously stuffed with
my schedules this week :\


---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT
From TurnerJD at cofc.edu  Mon Apr 20 12:46:02 2009
From: TurnerJD at cofc.edu (John Turner)
Date: Mon Apr 20 12:46:30 2009
Subject: [wp-hackers] programmatically activate widgets
Message-ID: <C611E6CA.BD5E%TurnerJD@cofc.edu>

I need a way to programmatically activate widgets, anyone know the function
or method to call? 

Thanks,

John
@johnturner



From mike_walsh at mindspring.com  Mon Apr 20 14:04:00 2009
From: mike_walsh at mindspring.com (Mike Walsh)
Date: Mon Apr 20 14:04:34 2009
Subject: [wp-hackers] Plugin to sign up for activity?
Message-ID: <001d01c9c1c0$dca45a90$95ed0fb0$@com>

I am hopeful the wp-hackers community can help me.  My Google searches have
not proven successful, I suspect because I don't know how to phrase what I
am looking for.

 

My daughter's soccer team has a  WordPress powered site and they are going
to have a bake sale to raise money for a trip.  There is a list of items
that people can sign up to be responsible for (cookies, cakes, napkins,
cups, etc.).  The number of items can have a minimum of maximum and they
don't want to duplicate sign ups.  The woman coordinating this is trying to
do it via e-mail and it is a mess already and has only been active for an
hour or so.

 

Does anyone know of a plugin that might help this situation?  I don't think
it would be too hard to write but I don't want to do it if has already been
done.

 

Thanks,

 

Mike

 

--

mike underscore walsh at mindspring dot com

 

 

From bunnylists at gmail.com  Mon Apr 20 14:11:38 2009
From: bunnylists at gmail.com (Stephanie Booth)
Date: Mon Apr 20 14:12:07 2009
Subject: [wp-hackers] Plugin to sign up for activity?
In-Reply-To: <001d01c9c1c0$dca45a90$95ed0fb0$@com>
References: <001d01c9c1c0$dca45a90$95ed0fb0$@com>
Message-ID: <5cdeb9b20904200711t51f9e4e9v1cf1c83c074a1de8@mail.gmail.com>

Not a wordpress plugin, but have you thought of using doodle for this?
http://doodle.com

Steph

On Mon, Apr 20, 2009 at 4:04 PM, Mike Walsh <mike_walsh@mindspring.com> wrote:
> I am hopeful the wp-hackers community can help me. ?My Google searches have
> not proven successful, I suspect because I don't know how to phrase what I
> am looking for.
>
>
>
> My daughter's soccer team has a ?WordPress powered site and they are going
> to have a bake sale to raise money for a trip. ?There is a list of items
> that people can sign up to be responsible for (cookies, cakes, napkins,
> cups, etc.). ?The number of items can have a minimum of maximum and they
> don't want to duplicate sign ups. ?The woman coordinating this is trying to
> do it via e-mail and it is a mess already and has only been active for an
> hour or so.
>
>
>
> Does anyone know of a plugin that might help this situation? ?I don't think
> it would be too hard to write but I don't want to do it if has already been
> done.
>
>
>
> Thanks,
>
>
>
> Mike
>
>
>
> --
>
> mike underscore walsh at mindspring dot com
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Espace Coworking Lausanne: http://eclau.ch
Subscribe to my newsletter: http://groups.google.com/group/sbooth
web: http://stephanie-booth.com | blog: http://climbtothestars.org
skype: steph-booth | cell: +41 78 625 44 74 | twitter: stephtara |
AIM: Gummywabbit
geotag: Lausanne, Switzerland (GMT+1) | For the rest... Google me!
From scribu at gmail.com  Mon Apr 20 14:15:53 2009
From: scribu at gmail.com (scribu)
Date: Mon Apr 20 14:16:10 2009
Subject: [wp-hackers] programmatically activate widgets
In-Reply-To: <C611E6CA.BD5E%TurnerJD@cofc.edu>
References: <C611E6CA.BD5E%TurnerJD@cofc.edu>
Message-ID: <349fe48b0904200715l581a647bm8be13ee7dc047989@mail.gmail.com>

There is no such thing. You will have to dig into the widgets admin page and
see how it's done manually and try to work from there.

On Mon, Apr 20, 2009 at 3:46 PM, John Turner <TurnerJD@cofc.edu> wrote:

> I need a way to programmatically activate widgets, anyone know the function
> or method to call?
>
> Thanks,
>
> John
> @johnturner
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From simon at sweetinteraction.com  Mon Apr 20 14:17:31 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Mon Apr 20 14:18:07 2009
Subject: [wp-hackers] programmatically activate widgets
In-Reply-To: <C611E6CA.BD5E%TurnerJD@cofc.edu>
References: <C611E6CA.BD5E%TurnerJD@cofc.edu>
Message-ID: <77c8b7bf0904200717q17360bb4nd5e8129be1f458d1@mail.gmail.com>

On Mon, Apr 20, 2009 at 1:46 PM, John Turner <TurnerJD@cofc.edu> wrote:
>
> I need a way to programmatically activate widgets, anyone know the function
> or method to call?
>


The K2 theme has a sidebar management page, you might get some clues
from there perhaps?

S


---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT
From bingorabbit at gmail.com  Mon Apr 20 14:21:54 2009
From: bingorabbit at gmail.com (Ibrahim A. Mohamed)
Date: Mon Apr 20 14:22:18 2009
Subject: [wp-hackers] programmatically activate widgets
In-Reply-To: <77c8b7bf0904200717q17360bb4nd5e8129be1f458d1@mail.gmail.com>
References: <C611E6CA.BD5E%TurnerJD@cofc.edu>
	<77c8b7bf0904200717q17360bb4nd5e8129be1f458d1@mail.gmail.com>
Message-ID: <e05a63ba0904200721w2308bce1u828920c853c2c4c5@mail.gmail.com>

I think that the activated widgets are stored in the database, in the *
prefix*_options table. I dun remember where exactly but I'm going to tell
you when I find it.

On Mon, Apr 20, 2009 at 4:17 PM, Simon Wheatley
<simon@sweetinteraction.com>wrote:

> On Mon, Apr 20, 2009 at 1:46 PM, John Turner <TurnerJD@cofc.edu> wrote:
> >
> > I need a way to programmatically activate widgets, anyone know the
> function
> > or method to call?
> >
>
>
> The K2 theme has a sidebar management page, you might get some clues
> from there perhaps?
>
> S
>
>
> ---
> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
> Registered office: 7 Malton Av, Manchester, M21 8AT
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards,
Ibrahim Abdel Fattah Mohamed
Web Developer
Twitter: @bingorabbit
e-mail: bingorabbit@gmail.com
Personal bLOG: http://bingorabbit.com/
From mikeschinkel at newclarity.net  Mon Apr 20 14:38:16 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Apr 20 14:40:16 2009
Subject: [wp-hackers] Plugin to sign up for activity?
In-Reply-To: <001d01c9c1c0$dca45a90$95ed0fb0$@com>
Message-ID: <EMEWEMEW2_DELIMl3J9cG4b5f715e6330cabaaf26eb,
	mikeschinkel@newclarity.net, 29448341.961240238293554.J>

I think evite.com can handle this too. (Again, not a WordPress plugin.)

-Mike Schinkel
Custom Wordpress Plugins
http://mikeschinkel.com/custom-wordpress-plugins

----- Original Message -----
From: "Mike Walsh" <mike_walsh@mindspring.com>
To: wp-hackers@lists.automattic.com
Sent: Monday, April 20, 2009 10:04:00 AM GMT -05:00 US/Canada Eastern
Subject: [wp-hackers] Plugin to sign up for activity?

I am hopeful the wp-hackers community can help me.  My Google searches have
not proven successful, I suspect because I don't know how to phrase what I
am looking for.

 

My daughter's soccer team has a  WordPress powered site and they are going
to have a bake sale to raise money for a trip.  There is a list of items
that people can sign up to be responsible for (cookies, cakes, napkins,
cups, etc.).  The number of items can have a minimum of maximum and they
don't want to duplicate sign ups.  The woman coordinating this is trying to
do it via e-mail and it is a mess already and has only been active for an
hour or so.

 

Does anyone know of a plugin that might help this situation?  I don't think
it would be too hard to write but I don't want to do it if has already been
done.

 

Thanks,

 

Mike

 

--

mike underscore walsh at mindspring dot com

 

 

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From TurnerJD at cofc.edu  Mon Apr 20 14:41:44 2009
From: TurnerJD at cofc.edu (John Turner)
Date: Mon Apr 20 14:42:04 2009
Subject: [wp-hackers] programmatically activate widgets
In-Reply-To: <e05a63ba0904200721w2308bce1u828920c853c2c4c5@mail.gmail.com>
Message-ID: <C61201E8.BD72%TurnerJD@cofc.edu>

I'll trace it tonight and see if I can find anything and report back

John Turner
@johnturner



> From: "Ibrahim A. Mohamed" <bingorabbit@gmail.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Mon, 20 Apr 2009 16:21:54 +0200
> To: <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] programmatically activate widgets
> 
> I think that the activated widgets are stored in the database, in the *
> prefix*_options table. I dun remember where exactly but I'm going to tell
> you when I find it.
> 
> On Mon, Apr 20, 2009 at 4:17 PM, Simon Wheatley
> <simon@sweetinteraction.com>wrote:
> 
>> On Mon, Apr 20, 2009 at 1:46 PM, John Turner <TurnerJD@cofc.edu> wrote:
>>> 
>>> I need a way to programmatically activate widgets, anyone know the
>> function
>>> or method to call?
>>> 
>> 
>> 
>> The K2 theme has a sidebar management page, you might get some clues
>> from there perhaps?
>> 
>> S
>> 
>> 
>> ---
>> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
>> Registered office: 7 Malton Av, Manchester, M21 8AT
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> 
> 
> 
> -- 
> Regards,
> Ibrahim Abdel Fattah Mohamed
> Web Developer
> Twitter: @bingorabbit
> e-mail: bingorabbit@gmail.com
> Personal bLOG: http://bingorabbit.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From zamoose at gmail.com  Mon Apr 20 14:43:50 2009
From: zamoose at gmail.com (Doug Stewart)
Date: Mon Apr 20 14:44:05 2009
Subject: [wp-hackers] Plugin to sign up for activity?
In-Reply-To: <6286257388236270023@unknownmsgid>
References: <001d01c9c1c0$dca45a90$95ed0fb0$@com>
	<6286257388236270023@unknownmsgid>
Message-ID: <71ddd7490904200743k59274281s107e4e882b38a441@mail.gmail.com>

There's always TDO Mini Forms:
http://wordpress.org/extend/plugins/tdo-mini-forms/

-- 
-Doug
http://literalbarrage.org/blog/
From mpwalsh8 at gmail.com  Mon Apr 20 14:58:33 2009
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Mon Apr 20 14:58:48 2009
Subject: [wp-hackers] Plugin to sign up for activity?
In-Reply-To: <5cdeb9b20904200711t51f9e4e9v1cf1c83c074a1de8@mail.gmail.com>
References: <001d01c9c1c0$dca45a90$95ed0fb0$@com>
	<5cdeb9b20904200711t51f9e4e9v1cf1c83c074a1de8@mail.gmail.com>
Message-ID: <bd35beb50904200758y3eb1e749iaf48854a3353ef10@mail.gmail.com>

On Mon, Apr 20, 2009 at 10:11 AM, Stephanie Booth <bunnylists@gmail.com> wrote:
> Not a wordpress plugin, but have you thought of using doodle for this?
> http://doodle.com
>
> Steph

[ ... snipped ... ]

This certainly looks like the general idea - I'd love it if it were a
WP plugin so it cold be part of our site.  I am little wary about
spreading the stuff across multiple sites as we already have a Google
Group and a web site, both of which are under utilized by the majority
of the parents.

Thanks for the pointer, it looks very interesting ... decisions, decisions ...

Mike
From steph at sillybean.net  Mon Apr 20 15:37:16 2009
From: steph at sillybean.net (Stephanie Leary)
Date: Mon Apr 20 16:02:07 2009
Subject: [wp-hackers] Plugin to sign up for =?UTF-8?Q?activity=3F?=
In-Reply-To: <bd35beb50904200758y3eb1e749iaf48854a3353ef10@mail.gmail.com>
References: <001d01c9c1c0$dca45a90$95ed0fb0$@com>
	<5cdeb9b20904200711t51f9e4e9v1cf1c83c074a1de8@mail.gmail.com>
	<bd35beb50904200758y3eb1e749iaf48854a3353ef10@mail.gmail.com>
Message-ID: <de9295f19a4eb582dab618f4ed0b813a@laurel.joyent.us>


On Mon, 20 Apr 2009 10:58:33 -0400, Mike Walsh <mpwalsh8@gmail.com> wrote:
> This certainly looks like the general idea - I'd love it if it were a
> WP plugin so it cold be part of our site.  I am little wary about
> spreading the stuff across multiple sites as we already have a Google
> Group and a web site, both of which are under utilized by the majority
> of the parents.

You could create a spreadsheet in Google Docs and then use the form
features to create the signup page.

MM Forms would also work:
http://plugins.motionmill.com/mm-forms/


Stephanie Leary
sillybean.net
From scribu at gmail.com  Mon Apr 20 18:58:16 2009
From: scribu at gmail.com (scribu)
Date: Mon Apr 20 18:58:39 2009
Subject: [wp-hackers] Extend / Plugins error
Message-ID: <349fe48b0904201158k2c4d26b8y198b35c110483b7c@mail.gmail.com>

Not sure where to post this, but here goes:

When I was browsing a profile on Extend, I got to this URL:

http://wordpress.org/extend/plugins/profile/denis-de-bernardy/page/3

As you can see, the pagination is off: It shows links up to page 4, even
though there is nothing there.


-- 
http://scribu.net
From jake.mcmurchie at googlemail.com  Mon Apr 20 19:08:47 2009
From: jake.mcmurchie at googlemail.com (Jake McMurchie)
Date: Mon Apr 20 19:09:00 2009
Subject: [wp-hackers] Making the HTML editor output HTML in full
Message-ID: <fcf6e76b0904201208j459f48cdx51bf95729c41abbb@mail.gmail.com>

Hello all.
First of all apologies if this has been covered elsewhere, I haven't yet
tracked down a solution despite lots of searching.

When the user clicks the "HTML" tab of the rich-text editor in the post
editing screen, I'd like he/she to see and be able to edit *all* relevant
HTML, including <p>, </p> and <br /> tags where appropriate.

Can anyone suggest the best way to go about this?

Many thanks.

Jake
From wp-hackers at striderweb.com  Tue Apr 21 00:13:21 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Apr 21 00:13:49 2009
Subject: [wp-hackers] Making the HTML editor output HTML in full
In-Reply-To: <fcf6e76b0904201208j459f48cdx51bf95729c41abbb@mail.gmail.com>
References: <fcf6e76b0904201208j459f48cdx51bf95729c41abbb@mail.gmail.com>
Message-ID: <027F5EE5-7371-4A68-AC36-3FE88CB525F2@striderweb.com>


On Apr 20, 2009, at 2:08 PM, Jake McMurchie wrote:

> When the user clicks the "HTML" tab of the rich-text editor in the  
> post
> editing screen, I'd like he/she to see and be able to edit *all*  
> relevant
> HTML, including <p>, </p> and <br /> tags where appropriate.
>
> Can anyone suggest the best way to go about this?

You can add all the <p> tags you like, and they will work.  When  
displaying a page, WordPress takes the partial HTML from the edit and  
turns it into valid HTML, adding any missing tags on the fly.  So if  
you add a <p> tag, it will use yours.
From barry at automattic.com  Tue Apr 21 00:19:01 2009
From: barry at automattic.com (Barry Abrahamson)
Date: Tue Apr 21 00:19:19 2009
Subject: [wp-hackers] WordPress + Drizzle
Message-ID: <800518FC-3560-4283-9F47-F289C5F84352@automattic.com>

Anyone here playing with WordPress + Drizzle?  I don't think it would  
take a lot of work to modify the wpdb class to talk to a Drizzle  
backend.  Could be fun and interesting at the same time!

--
Barry Abrahamson | Systems Wrangler | Automattic
Blog: http://barry.wordpress.com



From jer at simianuprising.com  Tue Apr 21 00:22:49 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Tue Apr 21 00:23:02 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <8a4d86617536add9925bd212beacea2a@laurel.joyent.us>
References: <C60D074D.2E6B2%chris@clwill.com>
	<8a4d86617536add9925bd212beacea2a@laurel.joyent.us>
Message-ID: <e1202cb10904201722t7f1d1837q401315d25df3bcf2@mail.gmail.com>

On Fri, Apr 17, 2009 at 1:06 PM, Stephanie Leary <steph@sillybean.net> wrote:
> The has-patch marathon is great. I'm really glad it's happening. I wish I
> had a better idea of how to contribute without letting my patches languish
> until the next marathon rolls around.

The best advice is to write your patches when you know you will be
able to spend some time promoting them, then right after they are
ready post your Trac ticket (with as much information as possible both
about your problem/use-cases and about your solution) and go into
#wordpress-dev IRC channel** and ask for a core dev to look at them.
Sometimes no one is around/available but if you ping every half hour
or so eventually someone will help you.

Ask if your patch/ticket makes sense, ask if they can test it, ask
what you need to do. This has been the best system for me and has
gotten me lots of important help that made my patches worth
committing. Remember that they seem perfect to you but they just
arent', there are things you didn't think of, and live chat with a
core dev is the fastest way to find those problems and at the same
time build up some trust with that core dev that your patch is
important/necessary/safe.

If you don't get it committed that day then buck up and try again
another day. You'll need to get your local install of WP up to the
latest SVN version and make sure your patch still works and doesn't
need editing, update the trac ticket if necessary, and start asking
about it some more.

It's not a quick or easy system but I'm kind of glad it isn't,
otherwise anyone's crappy, ill-considered patch with no oversight
could get in, then we'd have to change the name of the project to
TikiBlog :P

** on the irc.freenode.net server, you can sign in using
http://mibbit.com/chat/ as a web frontend for IRC if you don't have a
program like the wonderful Colloquy. Don't be afraid of IRC, it's like
IM but with way more people in it! http://codex.wordpress.org/IRC



-- 
Jeremy Clarke | http://simianuprising.com
Code and Design | http://globalvoicesonline.org
From jake.mcmurchie at googlemail.com  Tue Apr 21 08:31:34 2009
From: jake.mcmurchie at googlemail.com (Jake McMurchie)
Date: Tue Apr 21 08:32:43 2009
Subject: [wp-hackers] Making the HTML editor output HTML in full
In-Reply-To: <027F5EE5-7371-4A68-AC36-3FE88CB525F2@striderweb.com>
References: <fcf6e76b0904201208j459f48cdx51bf95729c41abbb@mail.gmail.com>
	<027F5EE5-7371-4A68-AC36-3FE88CB525F2@striderweb.com>
Message-ID: <fcf6e76b0904210131i74181399i5e69d1e4306c095c@mail.gmail.com>

2009/4/21 Stephen Rider <wp-hackers@striderweb.com>

> You can add all the <p> tags you like, and they will work.  When displaying
> a page, WordPress takes the partial HTML from the edit and turns it into
> valid HTML, adding any missing tags on the fly.  So if you add a <p> tag, it
> will use yours.
>

Thanks Steve, but when the post is saved and viewed again in the post
editing screen (under the HTML tab) the <p> and <br /> tags are removed
(this may not be immediately apparent but switch between visual and HTML
tabs and you'll see they are).

Is it possible to prevent the removal of <p> tags in the post editing screen
(under the HTML tab) but not in the_content?

Thanks again.

Jake
From scribu at gmail.com  Tue Apr 21 11:16:13 2009
From: scribu at gmail.com (scribu)
Date: Tue Apr 21 11:16:29 2009
Subject: [wp-hackers] Making the HTML editor output HTML in full
In-Reply-To: <fcf6e76b0904210131i74181399i5e69d1e4306c095c@mail.gmail.com>
References: <fcf6e76b0904201208j459f48cdx51bf95729c41abbb@mail.gmail.com>
	<027F5EE5-7371-4A68-AC36-3FE88CB525F2@striderweb.com>
	<fcf6e76b0904210131i74181399i5e69d1e4306c095c@mail.gmail.com>
Message-ID: <349fe48b0904210416u2c57934dr216a181a2dc54708@mail.gmail.com>

Try the Raw HTML <http://wordpress.org/extend/plugins/raw-html/> plugin.


-- 
http://scribu.net
From phil2k at gmail.com  Tue Apr 21 14:33:28 2009
From: phil2k at gmail.com (B. V.)
Date: Tue Apr 21 14:33:43 2009
Subject: [wp-hackers] sql problems
Message-ID: <e9b25dc50904210733o181b6f3aj432b46e134eb1ddd@mail.gmail.com>

Hi.
There are some problems with MySQL optimizations ( on big sites, are
visibile effects ).
>From my mysql-slow-query log:

1. *SELECT rating_username, rating_rating, rating_ip FROM wp_ratings WHERE
rating_postid = 450;*

the wp_ratings table doesn't have an index on "rating_postid" column:

CREATE TABLE `wp_ratings` (
  `rating_id` int(11) NOT NULL auto_increment,
  `rating_postid` int(11) NOT NULL,
  `rating_posttitle` text NOT NULL,
  `rating_rating` int(2) NOT NULL,
  `rating_timestamp` varchar(15) NOT NULL,
  `rating_ip` varchar(40) NOT NULL,
  `rating_host` varchar(200) NOT NULL,
  `rating_username` varchar(50) NOT NULL,
  `rating_userid` int(10) NOT NULL default '0',
  PRIMARY KEY  (`rating_id`)
);

mysql> show index from wp_ratings;
+------------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+
| Table      | Non_unique | Key_name | Seq_in_index | Column_name |
Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment |
+------------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+
| wp_ratings |          0 | PRIMARY  |            1 | rating_id   |
A         |         964 |     NULL | NULL   |      | BTREE      |         |
+------------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+
1 row in set (0.00 sec)

So I fixed it with:
mysql> alter table wp_ratings add index (rating_postid);
Query OK, 965 rows affected (0.27 sec)
Records: 965  Duplicates: 0  Warnings: 0


CREATE TABLE `wp_ratings` (
  `rating_id` int(11) NOT NULL auto_increment,
  `rating_postid` int(11) NOT NULL,
  `rating_posttitle` text NOT NULL,
  `rating_rating` int(2) NOT NULL,
  `rating_timestamp` varchar(15) NOT NULL,
  `rating_ip` varchar(40) NOT NULL,
  `rating_host` varchar(200) NOT NULL,
  `rating_username` varchar(50) NOT NULL,
  `rating_userid` int(10) NOT NULL default '0',
  PRIMARY KEY  (`rating_id`),
  KEY `rating_postid` (`rating_postid`)
);

2. in wp-includes/post.php it's a strange query ( see bellow ) in function
update_postmeta_cache(), reported by mysql-slow-query log:

*SELECT post_id, meta_key, meta_value FROM wp_postmeta WHERE post_id IN
(866,862,860,858,856,854,852,850,848,846,844,842,839,837,835,833,831,829,827,825,823,821,819,817,815,813,810,808,806,804,802,800,798,795,793,790,788,786,784,782,780,778,776,774,772,770,767,765,763,761,759,701,698,696,694,692,690,688,686,684,682,680,678,676,674,672,670,668,666,664,662,660,658,655,653,651,649,533,531,529,527,524,521,519,516,514,512,510,508,506,504,502,500,498,496,494,492,490,486,484,482,480,478,476,473,470,468,466,464,463,458,460,457,452,451,447,448,444,442,441,438,429,435,433,431,427,424,425,421,420,418,414,413,406,410,408,405,402,398,400,396,393,391,389,388,384,385,379,376,374,372,371,368,366,365,357,361,359,356,353,351,350,346,347,344,342,339,336,337,334,331,328,326,324,321,322,319,316,314,313,309,307,306,302,303,299,293,288,290,286,284,283,280,275,278,276,273,270,268,265,259,263,258,255,218,1);
*

This query apears on about each 5 seconds ...

This I don't know how to fix it, only to offer my suggestion that there
should be a table ( temporary or not ) for those values search with mysql
"SELECT ... WHERE post_id IN (x,y,z,..... )" !



-- 
The Roman Rule
       The one who says it cannot be done should never interrupt the
       one who is doing it.
From aaron at xavisys.com  Tue Apr 21 14:59:41 2009
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Tue Apr 21 14:59:47 2009
Subject: [wp-hackers] sql problems
In-Reply-To: <e9b25dc50904210733o181b6f3aj432b46e134eb1ddd@mail.gmail.com>
References: <e9b25dc50904210733o181b6f3aj432b46e134eb1ddd@mail.gmail.com>
Message-ID: <49EDDF5D.4020704@xavisys.com>

Just so you know, the wp_ratings table is part of a plugin (not 
WordPress core)

B. V. wrote:
> Hi.
> There are some problems with MySQL optimizations ( on big sites, are
> visibile effects ).
> >From my mysql-slow-query log:
>
> 1. *SELECT rating_username, rating_rating, rating_ip FROM wp_ratings WHERE
> rating_postid = 450;*
>
> the wp_ratings table doesn't have an index on "rating_postid" column:
>   
From scribu at gmail.com  Tue Apr 21 15:14:44 2009
From: scribu at gmail.com (scribu)
Date: Tue Apr 21 15:14:58 2009
Subject: [wp-hackers] sql problems
In-Reply-To: <49EDDF5D.4020704@xavisys.com>
References: <e9b25dc50904210733o181b6f3aj432b46e134eb1ddd@mail.gmail.com>
	<49EDDF5D.4020704@xavisys.com>
Message-ID: <349fe48b0904210814p380cf8fele98aba99edf1e3a5@mail.gmail.com>

On Tue, Apr 21, 2009 at 5:59 PM, Aaron D. Campbell <aaron@xavisys.com>wrote:

> Just so you know, the wp_ratings table is part of a plugin (not WordPress
> core)


...so you should probably contact the plugin author instead.

-- 
http://scribu.net
From yahgrp at poplarware.com  Tue Apr 21 15:26:57 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Tue Apr 21 15:25:43 2009
Subject: [wp-hackers] sql problems
In-Reply-To: <e9b25dc50904210733o181b6f3aj432b46e134eb1ddd@mail.gmail.com>
References: <e9b25dc50904210733o181b6f3aj432b46e134eb1ddd@mail.gmail.com>
Message-ID: <49EDE5C1.5010800@poplarware.com>

Regarding those two queries:

1) The "ratings" table is from a plugin, not the core of WordPress, so 
you probably ought to take that up with the plugin author.

2) I did a little searching through the code to investigate where this 
query could be coming from.
- The query itself is apparently generated in function 
update_postmeta_cache(), in file wp-includes/post.php It looks like it 
  at least caches the data it finds, so it shouldn't repeat itself on 
any particular post ID.
- That function update_postmeta_cache() is called with multiple IDs 
passed in in exactly one place: from function update_post_caches() in 
the same file.
- It looks like the only call to update_postmeta_cache() comes from 
WP_Query->get_posts(), which is the central WP query. So every time 
you query to get posts (i.e. every page load), it will pass in the 
list of all the IDs it found in the query, and cache their meta-data.

So I'm not sure why you have so many post IDs in your queries, but I 
guess the postmeta cache function's query was written that way because 
it assumed you would use something like the default of 10 posts per 
page, and 10 posts per RSS feed, which would mean only 10 post IDs in 
the IN(...) part of the query. But you are right, it would probably be 
better to do something different, because some users might display 
more posts per page.

Another question is whether the post meta data needs to be retrieved 
in every case. I personally never use post meta, so why would I want 
to retrieve it and cache it at all? Maybe something more efficient 
could be done, like retrieving it only when someone calls the template 
tags that need it?  Perhaps a Trac ticket would be in order...

     --Jennifer

B. V. wrote:
> Hi.
> There are some problems with MySQL optimizations ( on big sites, are
> visibile effects ).
>>From my mysql-slow-query log:
> 
> 1. *SELECT rating_username, rating_rating, rating_ip FROM wp_ratings WHERE
> rating_postid = 450;*
[...]
> 
> 2. in wp-includes/post.php it's a strange query ( see bellow ) in function
> update_postmeta_cache(), reported by mysql-slow-query log:
> 
> *SELECT post_id, meta_key, meta_value FROM wp_postmeta WHERE post_id IN
> (866,862,860,858,856,854,852,850,848,846,844,842,839,837,835,833,831,829,827,825,823,821,819,817,815,813,810,808,806,804,802,800,798,795,793,790,788,786,784,782,780,778,776,774,772,770,767,765,763,761,759,701,698,696,694,692,690,688,686,684,682,680,678,676,674,672,670,668,666,664,662,660,658,655,653,651,649,533,531,529,527,524,521,519,516,514,512,510,508,506,504,502,500,498,496,494,492,490,486,484,482,480,478,476,473,470,468,466,464,463,458,460,457,452,451,447,448,444,442,441,438,429,435,433,431,427,424,425,421,420,418,414,413,406,410,408,405,402,398,400,396,393,391,389,388,384,385,379,376,374,372,371,368,366,365,357,361,359,356,353,351,350,346,347,344,342,339,336,337,334,331,328,326,324,321,322,319,316,314,313,309,307,306,302,303,299,293,288,290,286,284,283,280,275,278,276,273,270,268,265,259,263,258,255,218,1);
> *
> 
> This query apears on about each 5 seconds ...
> 
> This I don't know how to fix it, only to offer my suggestion that there
> should be a table ( temporary or not ) for those values search with mysql
> "SELECT ... WHERE post_id IN (x,y,z,..... )" !

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming

From wp-hackers at striderweb.com  Tue Apr 21 15:45:35 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Apr 21 15:45:54 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <e1202cb10904201722t7f1d1837q401315d25df3bcf2@mail.gmail.com>
References: <C60D074D.2E6B2%chris@clwill.com>
	<8a4d86617536add9925bd212beacea2a@laurel.joyent.us>
	<e1202cb10904201722t7f1d1837q401315d25df3bcf2@mail.gmail.com>
Message-ID: <5AF7D54B-7960-42EF-BE04-FC36F1415617@striderweb.com>

Wow.  Jeremy's email should be posted to the list once a month. :)

On Apr 20, 2009, at 7:22 PM, Jeremy Clarke wrote:

> On Fri, Apr 17, 2009 at 1:06 PM, Stephanie Leary  
> <steph@sillybean.net> wrote:
>> The has-patch marathon is great. I'm really glad it's happening. I  
>> wish I
>> had a better idea of how to contribute without letting my patches  
>> languish
>> until the next marathon rolls around.
>
> The best advice is to write your patches when you know you will be
> able to spend some time promoting them, then right after they are
> ready post your Trac ticket (with as much information as possible both
> about your problem/use-cases and about your solution) and go into
> #wordpress-dev IRC channel** and ask for a core dev to look at them.
> Sometimes no one is around/available but if you ping every half hour
> or so eventually someone will help you.
>
> Ask if your patch/ticket makes sense, ask if they can test it, ask
> what you need to do. This has been the best system for me and has
> gotten me lots of important help that made my patches worth
> committing. Remember that they seem perfect to you but they just
> arent', there are things you didn't think of, and live chat with a
> core dev is the fastest way to find those problems and at the same
> time build up some trust with that core dev that your patch is
> important/necessary/safe.
>
> If you don't get it committed that day then buck up and try again
> another day. You'll need to get your local install of WP up to the
> latest SVN version and make sure your patch still works and doesn't
> need editing, update the trac ticket if necessary, and start asking
> about it some more.
>
> It's not a quick or easy system but I'm kind of glad it isn't,
> otherwise anyone's crappy, ill-considered patch with no oversight
> could get in, then we'd have to change the name of the project to
> TikiBlog :P
>
> ** on the irc.freenode.net server, you can sign in using
> http://mibbit.com/chat/ as a web frontend for IRC if you don't have a
> program like the wonderful Colloquy. Don't be afraid of IRC, it's like
> IM but with way more people in it! http://codex.wordpress.org/IRC
>
>
>
> -- 
> Jeremy Clarke | http://simianuprising.com
> Code and Design | http://globalvoicesonline.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From yahgrp at poplarware.com  Tue Apr 21 16:01:34 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Tue Apr 21 16:00:18 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <5AF7D54B-7960-42EF-BE04-FC36F1415617@striderweb.com>
References: <C60D074D.2E6B2%chris@clwill.com>	<8a4d86617536add9925bd212beacea2a@laurel.joyent.us>	<e1202cb10904201722t7f1d1837q401315d25df3bcf2@mail.gmail.com>
	<5AF7D54B-7960-42EF-BE04-FC36F1415617@striderweb.com>
Message-ID: <49EDEDDE.40600@poplarware.com>

Stephen Rider wrote:
> Wow.  Jeremy's email should be posted to the list once a month. :)

Or perhaps added to the Codex in the section about contributing patches.

   -- Jennifer



-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming

From regulatethis at gmail.com  Tue Apr 21 16:22:01 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Tue Apr 21 16:22:17 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <49EDEDDE.40600@poplarware.com>
References: <C60D074D.2E6B2%chris@clwill.com>
	<8a4d86617536add9925bd212beacea2a@laurel.joyent.us>
	<e1202cb10904201722t7f1d1837q401315d25df3bcf2@mail.gmail.com>
	<5AF7D54B-7960-42EF-BE04-FC36F1415617@striderweb.com>
	<49EDEDDE.40600@poplarware.com>
Message-ID: <39fdab560904210922x53e8d0eah92cf46b91f0df2da@mail.gmail.com>

I hate to beat a dead horse here, but while I think these suggestions
are sound and helpful, I'm so incredibly disappointed with automattic.
The original poster (and employee of automattic) didn't even reply to
my statement - instead of discussion I received needlessly defensive
and angry replies (and a few decent ones).

I've been involved with several open source (and non open source)
distributed projects over the years and greatly enjoy volunteering my
time and work to get things accomplished as well as the community
participation. Unfortunately, I don't like the way in which this
project is handled, and have a major problem with contributing to a
project where I have to spend more time running around convincing
people to take a look at what I've done and soliciting feedback (which
rarely happens) than it takes to actually do the work. Because there
doesn't seem to be true leadership/direction here, the volunteer
aspect of this all seems like a grossly inefficient and unappreciated
waste of time.

While there are several great people on this list, from which I've
managed to learn a thing or two, that seems to be the exception rather
than the rule. Most of what I read here is hot air, arguments and a
whole lot of nothing, to be honest. So I'm outta here. Good luck wp
hackers! :)

- Daniel

On Tue, Apr 21, 2009 at 12:01 PM, Jennifer Hodgdon
<yahgrp@poplarware.com> wrote:
> Stephen Rider wrote:
>>
>> Wow. ?Jeremy's email should be posted to the list once a month. :)
>
> Or perhaps added to the Codex in the section about contributing patches.
>
> ?-- Jennifer
>
>
>
> --
> Jennifer Hodgdon * Poplar ProductivityWare
> www.poplarware.com
> Drupal, WordPress, and custom Web programming
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikeschinkel at newclarity.net  Tue Apr 21 16:54:26 2009
From: mikeschinkel at newclarity.net (mikeschinkel@newclarity.net)
Date: Tue Apr 21 16:57:50 2009
Subject: [wp-hackers] sql problems
In-Reply-To: <e9b25dc50904210733o181b6f3aj432b46e134eb1ddd@mail.gmail.com>
References: <e9b25dc50904210733o181b6f3aj432b46e134eb1ddd@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl3KBsQd87cbead9ff6a085e42f8d,
	mikeschinkel@newclarity.net, D1CD9787-5F25-4DE9-B480>

Which ratings plugin are you using?

Sent from my iPhone

On Apr 21, 2009, at 10:34 AM, "B. V." <phil2k@gmail.com> wrote:

> Hi.
> There are some problems with MySQL optimizations ( on big sites, are
> visibile effects ).
>> From my mysql-slow-query log:
>
> 1. *SELECT rating_username, rating_rating, rating_ip FROM wp_ratings  
> WHERE
> rating_postid = 450;*
>
> the wp_ratings table doesn't have an index on "rating_postid" column:
>
> CREATE TABLE `wp_ratings` (
>  `rating_id` int(11) NOT NULL auto_increment,
>  `rating_postid` int(11) NOT NULL,
>  `rating_posttitle` text NOT NULL,
>  `rating_rating` int(2) NOT NULL,
>  `rating_timestamp` varchar(15) NOT NULL,
>  `rating_ip` varchar(40) NOT NULL,
>  `rating_host` varchar(200) NOT NULL,
>  `rating_username` varchar(50) NOT NULL,
>  `rating_userid` int(10) NOT NULL default '0',
>  PRIMARY KEY  (`rating_id`)
> );
>
> mysql> show index from wp_ratings;
> +------------+------------+----------+--------------+------------- 
> +-----------+-------------+----------+--------+------+------------ 
> +---------+
> | Table      | Non_unique | Key_name | Seq_in_index | Column_name |
> Collation | Cardinality | Sub_part | Packed | Null | Index_type |  
> Comment |
> +------------+------------+----------+--------------+------------- 
> +-----------+-------------+----------+--------+------+------------ 
> +---------+
> | wp_ratings |          0 | PRIMARY  |            1 | rating_id   |
> A         |         964 |     NULL | NULL   |      | BTREE       
> |         |
> +------------+------------+----------+--------------+------------- 
> +-----------+-------------+----------+--------+------+------------ 
> +---------+
> 1 row in set (0.00 sec)
>
> So I fixed it with:
> mysql> alter table wp_ratings add index (rating_postid);
> Query OK, 965 rows affected (0.27 sec)
> Records: 965  Duplicates: 0  Warnings: 0
>
>
> CREATE TABLE `wp_ratings` (
>  `rating_id` int(11) NOT NULL auto_increment,
>  `rating_postid` int(11) NOT NULL,
>  `rating_posttitle` text NOT NULL,
>  `rating_rating` int(2) NOT NULL,
>  `rating_timestamp` varchar(15) NOT NULL,
>  `rating_ip` varchar(40) NOT NULL,
>  `rating_host` varchar(200) NOT NULL,
>  `rating_username` varchar(50) NOT NULL,
>  `rating_userid` int(10) NOT NULL default '0',
>  PRIMARY KEY  (`rating_id`),
>  KEY `rating_postid` (`rating_postid`)
> );
>
> 2. in wp-includes/post.php it's a strange query ( see bellow ) in  
> function
> update_postmeta_cache(), reported by mysql-slow-query log:
>
> *SELECT post_id, meta_key, meta_value FROM wp_postmeta WHERE post_id  
> IN
> (866,862,860,858,856,854,852,850,848,846,844,842,839,837,835,833,831,829,827,825,823,821,819,817,815,813,810,808,806,804,802,800,798,795,793,790,788,786,784,782,780,778,776,774,772,770,767,765,763,761,759,701,698,696,694,692,690,688,686,684,682,680,678,676,674,672,670,668,666,664,662,660,658,655,653,651,649,533,531,529,527,524,521,519,516,514,512,510,508,506,504,502,500,498,496,494,492,490,486,484,482,480,478,476,473,470,468,466,464,463,458,460,457,452,451,447,448,444,442,441,438,429,435,433,431,427,424,425,421,420,418,414,413,406,410,408,405,402,398,400,396,393,391,389,388,384,385,379,376,374,372,371,368,366,365,357,361,359,356,353,351,350,346,347,344,342,339,336,337,334,331,328,326,324,321,322,319,316,314,313,309,307,306,302,303,299,293,288,290,286,284,283,280,275,278,276,273,270,268,265,259,263,258,255,218,1) 
> ;
> *
>
> This query apears on about each 5 seconds ...
>
> This I don't know how to fix it, only to offer my suggestion that  
> there
> should be a table ( temporary or not ) for those values search with  
> mysql
> "SELECT ... WHERE post_id IN (x,y,z,..... )" !
>
>
>
> -- 
> The Roman Rule
>       The one who says it cannot be done should never interrupt the
>       one who is doing it.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From gaarai at gaarai.com  Tue Apr 21 18:44:03 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Tue Apr 21 18:44:20 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <39fdab560904210922x53e8d0eah92cf46b91f0df2da@mail.gmail.com>
References: <C60D074D.2E6B2%chris@clwill.com>	<8a4d86617536add9925bd212beacea2a@laurel.joyent.us>	<e1202cb10904201722t7f1d1837q401315d25df3bcf2@mail.gmail.com>	<5AF7D54B-7960-42EF-BE04-FC36F1415617@striderweb.com>	<49EDEDDE.40600@poplarware.com>
	<39fdab560904210922x53e8d0eah92cf46b91f0df2da@mail.gmail.com>
Message-ID: <49EE13F3.4040706@gaarai.com>

Sorry to hear about your disappointment Daniel.

Good luck to you in your freelance and future projects.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Daniel Torreblanca wrote:
> I hate to beat a dead horse here, but while I think these suggestions
> are sound and helpful, I'm so incredibly disappointed with automattic.
> The original poster (and employee of automattic) didn't even reply to
> my statement - instead of discussion I received needlessly defensive
> and angry replies (and a few decent ones).
>
> I've been involved with several open source (and non open source)
> distributed projects over the years and greatly enjoy volunteering my
> time and work to get things accomplished as well as the community
> participation. Unfortunately, I don't like the way in which this
> project is handled, and have a major problem with contributing to a
> project where I have to spend more time running around convincing
> people to take a look at what I've done and soliciting feedback (which
> rarely happens) than it takes to actually do the work. Because there
> doesn't seem to be true leadership/direction here, the volunteer
> aspect of this all seems like a grossly inefficient and unappreciated
> waste of time.
>
> While there are several great people on this list, from which I've
> managed to learn a thing or two, that seems to be the exception rather
> than the rule. Most of what I read here is hot air, arguments and a
> whole lot of nothing, to be honest. So I'm outta here. Good luck wp
> hackers! :)
>
> - Daniel
>
> On Tue, Apr 21, 2009 at 12:01 PM, Jennifer Hodgdon
> <yahgrp@poplarware.com> wrote:
>   
>> Stephen Rider wrote:
>>     
>>> Wow.  Jeremy's email should be posted to the list once a month. :)
>>>       
>> Or perhaps added to the Codex in the section about contributing patches.
>>
>>  -- Jennifer
>>
>>
>>
>> --
>> Jennifer Hodgdon * Poplar ProductivityWare
>> www.poplarware.com
>> Drupal, WordPress, and custom Web programming
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From pt at ptahd.com  Wed Apr 22 05:48:00 2009
From: pt at ptahd.com (Ptah Dunbar)
Date: Wed Apr 22 05:48:31 2009
Subject: [wp-hackers] programmatically activate widgets
In-Reply-To: <C61201E8.BD72%TurnerJD@cofc.edu>
References: <e05a63ba0904200721w2308bce1u828920c853c2c4c5@mail.gmail.com> 
	<C61201E8.BD72%TurnerJD@cofc.edu>
Message-ID: <99fa93700904212248y353f6923vc26ccf636d88154f@mail.gmail.com>

http://ptahdunbar.com/wordpress/droppin-knowledge-on-wordpress-how-to-preset-widgets-to-widget-areas/

<?php
// Debug: Makes sure no widgets are registered already. If so, be gone.
//update_option( 'sidebars_widgets', NULL );

$current_theme = get_option( 'template' ); // variable stores the current
theme
$target_theme = 'wpframework'; // variable stores the theme we want to
target
$debug = false; // skip the ladie, da.

/**
 * $preset_widgets:
 * A two-dimensional array that stores all active sidebars and their active
widgets
 *
 * Qiktip: Sidebars and widgets are identified by their unique ID
 */
$preset_widgets = array ( 'sidebar-1'  => array( 'search', 'pages' ) );

// this checks to see if the user is trying to change themes, if so,
// compare that theme with our target theme.
if ( isset( $_GET['activated'] ) && $current_theme == $target_theme ||
$debug ) {
    update_option( 'sidebars_widgets', $preset_widgets );
}

// Debug: What widgets/widget areas are active?
// Uncomment the next line and find out for yourself buddy ;P
//var_dump( get_option( 'sidebars_widgets' ) );
?>

Ptah Dunbar ? pt@ptahd.com
http://ptahdunbar.com


On Mon, Apr 20, 2009 at 10:41 AM, John Turner <TurnerJD@cofc.edu> wrote:

> I'll trace it tonight and see if I can find anything and report back
>
> John Turner
> @johnturner
>
>
>
> > From: "Ibrahim A. Mohamed" <bingorabbit@gmail.com>
> > Reply-To: <wp-hackers@lists.automattic.com>
> > Date: Mon, 20 Apr 2009 16:21:54 +0200
> > To: <wp-hackers@lists.automattic.com>
> > Subject: Re: [wp-hackers] programmatically activate widgets
> >
> > I think that the activated widgets are stored in the database, in the *
> > prefix*_options table. I dun remember where exactly but I'm going to tell
> > you when I find it.
> >
> > On Mon, Apr 20, 2009 at 4:17 PM, Simon Wheatley
> > <simon@sweetinteraction.com>wrote:
> >
> >> On Mon, Apr 20, 2009 at 1:46 PM, John Turner <TurnerJD@cofc.edu> wrote:
> >>>
> >>> I need a way to programmatically activate widgets, anyone know the
> >> function
> >>> or method to call?
> >>>
> >>
> >>
> >> The K2 theme has a sidebar management page, you might get some clues
> >> from there perhaps?
> >>
> >> S
> >>
> >>
> >> ---
> >> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
> >> Registered office: 7 Malton Av, Manchester, M21 8AT
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers@lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> >
> > --
> > Regards,
> > Ibrahim Abdel Fattah Mohamed
> > Web Developer
> > Twitter: @bingorabbit
> > e-mail: bingorabbit@gmail.com
> > Personal bLOG: http://bingorabbit.com/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ozh at planetozh.com  Wed Apr 22 09:20:29 2009
From: ozh at planetozh.com (Ozh)
Date: Wed Apr 22 09:20:57 2009
Subject: [wp-hackers] Playing with the new theme updater/installer
In-Reply-To: <674b4a3b0903160551h346d8204i1eb3f97c82be35b4@mail.gmail.com>
Message-ID: <OFE41AC0DE.DA33EDD3-ONC12575A0.0032D7ED-C12575A0.003350F2@notes.edfgdf.fr>

Hello peeps

Has anyone started playing with the new WP_Upgrader class to install or 
update themes? I'll probably have to work a bit with it in a couple of 
days, so if anyone has begun charting this territory it'd be helpful :)

Ozh
-- 
http://planetozh.com/

From public at toppa.com  Wed Apr 22 11:38:04 2009
From: public at toppa.com (Michael Toppa)
Date: Wed Apr 22 11:38:23 2009
Subject: [wp-hackers] loading css only on page where plugin is used
In-Reply-To: <20090421165751.525187111@comox.textdrive.com>
References: <20090421165751.525187111@comox.textdrive.com>
Message-ID: <49EF019C.8030708@toppa.com>

Hi all,

I'm working on a plugin that uses a shortcode. I want to load a css file 
for the plugin only for posts or pages that use the shortcode. I've read 
Vladimir Prelovac's tip related to this at 
http://mashable.com/2009/03/25/wordpress-plugin-developer-tips/ (tip 
number 8) and a few similar posts by others, but they're all talking 
about loading scripts only on appropriate admin pages. My situation is 
not for an admin page.

I tried calling template_redirect (which in turn calls wp_enqueue_style) 
in my plugin after calling add_shortcode and setting a flag indicating 
the presence of my shortcode, but that didn't work (my testing indicates 
Wordpress fires template_redirect before add_shortcode - the order I 
call them in doesn't matter). It may be that it's not possible to 
determine whether to take an action in the head of a page based on an 
action in the body. In that case I can ask my plugin users to provide 
page/post id numbers in my plugin's settings menu, so its css doesn't 
get loaded on every page. But if any of you know a way to enqueue a 
stylesheet based on the presence of a shortcode, please fill me in. :-)

Thanks!

Mike T

http://www.toppa.com
From ozh at planetozh.com  Wed Apr 22 11:50:00 2009
From: ozh at planetozh.com (Ozh)
Date: Wed Apr 22 11:51:19 2009
Subject: RE [wp-hackers] loading css only on page where plugin is used
In-Reply-To: <49EF019C.8030708@toppa.com>
Message-ID: <OF6660D081.F3C53FEC-ONC12575A0.0040D66D-C12575A0.0041012B@notes.edfgdf.fr>

wp-hackers-bounces@lists.automattic.com a ?crit sur 22/04/2009 13:38:04 :
> Hi all,
> 
> I'm working on a plugin that uses a shortcode. I want to load a css file 

> for the plugin only for posts or pages that use the shortcode.

If you want to load the style only on some pages, maybe you can add it 
inline? If so, testing the presence of the shortcode in each post is easy 
(and you can also make it so it loads once in case multiple posts are 
displayed)

Ozh


From public at toppa.com  Wed Apr 22 12:48:59 2009
From: public at toppa.com (Michael Toppa)
Date: Wed Apr 22 12:49:11 2009
Subject: RE [wp-hackers] loading css only on page where plugin is used
In-Reply-To: <20090422120059.020F26580@comox.textdrive.com>
References: <20090422120059.020F26580@comox.textdrive.com>
Message-ID: <49EF123B.5070000@toppa.com>

Thanks for the reply Ozh - inline styling could work but would be really 
ugly, as my plugin involves a fairly heavily styled form that uses an 
ordered list for organizing the form elements. It would also mean users 
would have to hack my code if they wanted to customize the display (I 
suppose I could put in placeholder class declarations too, but then 
we're getting into a workaround on top of a workaround). Mike T Date: 
Wed, 22 Apr 2009 13:50:00 +0200 From: "Ozh" <ozh@planetozh.com> Subject: 
RE [wp-hackers] loading css only on page where plugin is used To: 
wp-hackers@lists.automattic.com Message-ID: 
<OF6660D081.F3C53FEC-ONC12575A0.0040D66D-C12575A0.0041012B@notes.edfgdf.fr> 
Content-Type: text/plain; charset="ISO-8859-1" 
wp-hackers-bounces@lists.automattic.com a ?crit sur 22/04/2009 13:38:04 :

> > Hi all,
> > 
> > I'm working on a plugin that uses a shortcode. I want to load a css file 
>   
> > for the plugin only for posts or pages that use the shortcode.
>   

If you want to load the style only on some pages, maybe you can add it 
inline? If so, testing the presence of the shortcode in each post is easy 
(and you can also make it so it loads once in case multiple posts are 
displayed)

Ozh

From aesqe at skyphe.org  Wed Apr 22 14:14:36 2009
From: aesqe at skyphe.org (aesqe)
Date: Wed Apr 22 14:15:01 2009
Subject: [wp-hackers] loading css only on page where plugin is used
In-Reply-To: <49EF019C.8030708@toppa.com>
References: <20090421165751.525187111@comox.textdrive.com>
	<49EF019C.8030708@toppa.com>
Message-ID: <49EF264C.5060005@skyphe.org>

Michael, try using something like this:

function shortcode_css()
{
   global $wp_query;
	
   if( !empty($wp_query->posts) )
   {
     foreach( $wp_query->posts as $post )
     {
       if(preg_match("#\[your_shortcode[^\]]*\]#is", $post->post_content)
         wp_enqueue_style( "your css name", "your css location" );
     }
   }
}
add_action('wp_print_styles', 'shortcode_css');

On 22.4.2009 13:38, Michael Toppa wrote:
> Hi all,
>
> I'm working on a plugin that uses a shortcode. I want to load a css file
> for the plugin only for posts or pages that use the shortcode.
-- 
-._______________KAWAII!_______________.-
Skyphe.org : It'll all make sense one day
http://skyphe.org .:. http://breedart.org
From aaron at xavisys.com  Wed Apr 22 17:18:22 2009
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Wed Apr 22 17:18:29 2009
Subject: [wp-hackers] loading css only on page where plugin is used
In-Reply-To: <49EF264C.5060005@skyphe.org>
References: <20090421165751.525187111@comox.textdrive.com>	<49EF019C.8030708@toppa.com>
	<49EF264C.5060005@skyphe.org>
Message-ID: <49EF515E.8080805@xavisys.com>

That will only work with the default queries, if someone does a custom 
query it won't catch it.  I'd recommend the inline idea and just set a 
flag so the styles are only added once.

aesqe wrote:
> Michael, try using something like this:
>
> function shortcode_css()
> {
>   global $wp_query;
>     
>   if( !empty($wp_query->posts) )
>   {
>     foreach( $wp_query->posts as $post )
>     {
>       if(preg_match("#\[your_shortcode[^\]]*\]#is", $post->post_content)
>         wp_enqueue_style( "your css name", "your css location" );
>     }
>   }
> }
> add_action('wp_print_styles', 'shortcode_css');
>
> On 22.4.2009 13:38, Michael Toppa wrote:
>> Hi all,
>>
>> I'm working on a plugin that uses a shortcode. I want to load a css file
>> for the plugin only for posts or pages that use the shortcode.
From joost at yoast.com  Wed Apr 22 17:40:11 2009
From: joost at yoast.com (Joost de Valk)
Date: Wed Apr 22 17:40:48 2009
Subject: [wp-hackers] loading css only on page where plugin is used
In-Reply-To: <49EF515E.8080805@xavisys.com>
References: <20090421165751.525187111@comox.textdrive.com>	<49EF019C.8030708@toppa.com>
	<49EF264C.5060005@skyphe.org> <49EF515E.8080805@xavisys.com>
Message-ID: <7BC62970-DD25-4651-B586-8372A23EEC5A@yoast.com>

Wouldn't that break XHTML validity?

On 22 apr 2009, at 19:18, "Aaron D. Campbell" <aaron@xavisys.com> wrote:

> That will only work with the default queries, if someone does a  
> custom query it won't catch it.  I'd recommend the inline idea and  
> just set a flag so the styles are only added once.
>
> aesqe wrote:
>> Michael, try using something like this:
>>
>> function shortcode_css()
>> {
>>  global $wp_query;
>>      if( !empty($wp_query->posts) )
>>  {
>>    foreach( $wp_query->posts as $post )
>>    {
>>      if(preg_match("#\[your_shortcode[^\]]*\]#is", $post- 
>> >post_content)
>>        wp_enqueue_style( "your css name", "your css location" );
>>    }
>>  }
>> }
>> add_action('wp_print_styles', 'shortcode_css');
>>
>> On 22.4.2009 13:38, Michael Toppa wrote:
>>> Hi all,
>>>
>>> I'm working on a plugin that uses a shortcode. I want to load a  
>>> css file
>>> for the plugin only for posts or pages that use the shortcode.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From frank at bueltge.de  Wed Apr 22 17:39:19 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Wed Apr 22 18:01:44 2009
Subject: [wp-hackers] get_transient ?
Message-ID: <db047a770904221039o4363d0fdn30aba25572430513@mail.gmail.com>

Hello folks,

i write on a new plugin and informations about WordPress (german language)
and i have write over the new functions for transient options.
Give it mor einformations over the functions and a help-page? I hope you
have a link or informations for me.
Thanks a lot for your time and help and sorry for my bad english.

Frank
From aesqe at skyphe.org  Wed Apr 22 21:12:03 2009
From: aesqe at skyphe.org (aesqe)
Date: Wed Apr 22 21:12:25 2009
Subject: [wp-hackers] loading css only on page where plugin is used
In-Reply-To: <49EF515E.8080805@xavisys.com>
References: <20090421165751.525187111@comox.textdrive.com>	<49EF019C.8030708@toppa.com>	<49EF264C.5060005@skyphe.org>
	<49EF515E.8080805@xavisys.com>
Message-ID: <49EF8823.7070209@skyphe.org>

sorry for asking what might seem like a pretty dumb question, but what 
kind of custom query? could you give an example? :/

On 22.4.2009 19:18, Aaron D. Campbell wrote:
> That will only work with the default queries, if someone does a custom
> query it won't catch it. I'd recommend the inline idea and just set a
> flag so the styles are only added once.
>
> aesqe wrote:
>> Michael, try using something like this:
>>
>> function shortcode_css()
>> {
>> global $wp_query;
>> if( !empty($wp_query->posts) )
>> {
>> foreach( $wp_query->posts as $post )
>> {
>> if(preg_match("#\[your_shortcode[^\]]*\]#is", $post->post_content)
>> wp_enqueue_style( "your css name", "your css location" );
>> }
>> }
>> }
>> add_action('wp_print_styles', 'shortcode_css');
>>
>> On 22.4.2009 13:38, Michael Toppa wrote:
>>> Hi all,
>>>
>>> I'm working on a plugin that uses a shortcode. I want to load a css file
>>> for the plugin only for posts or pages that use the shortcode.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> ------------------------------------------------------------------------
>
>
> No virus found in this incoming message.
> Checked by AVG - www.avg.com
> Version: 8.5.287 / Virus Database: 270.12.2/2072 - Release Date: 04/21/09 16:48:00
>

-- 
-._______________KAWAII!_______________.-
Skyphe.org : It'll all make sense one day
http://skyphe.org .:. http://breedart.org
From aaron at xavisys.com  Thu Apr 23 00:20:22 2009
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Thu Apr 23 00:20:29 2009
Subject: [wp-hackers] loading css only on page where plugin is used
In-Reply-To: <49EF8823.7070209@skyphe.org>
References: <20090421165751.525187111@comox.textdrive.com>	<49EF019C.8030708@toppa.com>	<49EF264C.5060005@skyphe.org>	<49EF515E.8080805@xavisys.com>
	<49EF8823.7070209@skyphe.org>
Message-ID: <49EFB446.1010300@xavisys.com>

I mean using the WP_Query class to create a query that is NOT stored in 
the $wp_query global.  For example:

$queryArgs = array(
    'nopaging'        => true,
    'post_type'        => 'any',
    'post_status'    => 'draft,pending,future,publish'
);
$myQuery = new WP_Query($queryArgs);
if ($myQuery->have_posts()) {
    while ($myQuery->have_posts()) {
        $post = $myQuery->next_post();
        // Do something with $post
    }
}


aesqe wrote:
> sorry for asking what might seem like a pretty dumb question, but what 
> kind of custom query? could you give an example? :/
>
> On 22.4.2009 19:18, Aaron D. Campbell wrote:
>> That will only work with the default queries, if someone does a custom
>> query it won't catch it. I'd recommend the inline idea and just set a
>> flag so the styles are only added once.
>>
>> aesqe wrote:
>>> Michael, try using something like this:
>>>
>>> function shortcode_css()
>>> {
>>> global $wp_query;
>>> if( !empty($wp_query->posts) )
>>> {
>>> foreach( $wp_query->posts as $post )
>>> {
>>> if(preg_match("#\[your_shortcode[^\]]*\]#is", $post->post_content)
>>> wp_enqueue_style( "your css name", "your css location" );
>>> }
>>> }
>>> }
>>> add_action('wp_print_styles', 'shortcode_css');
>>>
>>> On 22.4.2009 13:38, Michael Toppa wrote:
>>>> Hi all,
>>>>
>>>> I'm working on a plugin that uses a shortcode. I want to load a css 
>>>> file
>>>> for the plugin only for posts or pages that use the shortcode.

From simon at sweetinteraction.com  Thu Apr 23 09:02:37 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Thu Apr 23 09:07:42 2009
Subject: [wp-hackers] ob_start - good or bad?
Message-ID: <77c8b7bf0904230202t422aed10y18d79f882a520414@mail.gmail.com>

Hullo hivemind,

I'm find myself writing various pieces of code using this kind of
pattern recently, does it carry any downsides?

protected function get_edit_post_link( $link = 'Edit This', $before =
'', $after = '' )
{
	ob_start ();
	edit_post_link( $link, $before, $after );
	$output = ob_get_contents ();
	ob_end_clean ();
	return $output;
}

Thanks in advance.

S


---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT
From otto at ottodestruct.com  Thu Apr 23 09:35:12 2009
From: otto at ottodestruct.com (Otto)
Date: Thu Apr 23 09:35:41 2009
Subject: [wp-hackers] ob_start - good or bad?
In-Reply-To: <77c8b7bf0904230202t422aed10y18d79f882a520414@mail.gmail.com>
References: <77c8b7bf0904230202t422aed10y18d79f882a520414@mail.gmail.com>
Message-ID: <161617690904230235x4688de66kf64e672e529da974@mail.gmail.com>

Well, there's already a get_edit_post_link() function, so why not use
that instead? Okay, so it doesn't return all the a href stuff, but
that's easy to duplicate.

In general, it's a bad idea to use output buffering unless there's no
other way to do it. In the case of the given code, there's definitely
another way to do it.


-Otto
Sent from Memphis, Tennessee, United States


On Thu, Apr 23, 2009 at 4:02 AM, Simon Wheatley
<simon@sweetinteraction.com> wrote:
> Hullo hivemind,
>
> I'm find myself writing various pieces of code using this kind of
> pattern recently, does it carry any downsides?
>
> protected function get_edit_post_link( $link = 'Edit This', $before =
> '', $after = '' )
> {
> ? ? ? ?ob_start ();
> ? ? ? ?edit_post_link( $link, $before, $after );
> ? ? ? ?$output = ob_get_contents ();
> ? ? ? ?ob_end_clean ();
> ? ? ? ?return $output;
> }
>
> Thanks in advance.
>
> S
>
>
> ---
> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
> Registered office: 7 Malton Av, Manchester, M21 8AT
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From simon at sweetinteraction.com  Thu Apr 23 09:40:20 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Thu Apr 23 09:40:46 2009
Subject: [wp-hackers] ob_start - good or bad?
In-Reply-To: <161617690904230235x4688de66kf64e672e529da974@mail.gmail.com>
References: <77c8b7bf0904230202t422aed10y18d79f882a520414@mail.gmail.com> 
	<161617690904230235x4688de66kf64e672e529da974@mail.gmail.com>
Message-ID: <77c8b7bf0904230240v6941fb32s54d176d574c3d777@mail.gmail.com>

On Thu, Apr 23, 2009 at 10:35 AM, Otto <otto@ottodestruct.com> wrote:
>
> Well, there's already a get_edit_post_link() function, so why not use
> that instead? Okay, so it doesn't return all the a href stuff, but
> that's easy to duplicate.
>

I hadn't spotted that when I looked at the edit_post_link function
somehow, thanks.. seems so obvious now I look again. :\

>
> In general, it's a bad idea to use output buffering unless there's no
> other way to do it. In the case of the given code, there's definitely
> another way to do it.
>

For the sake of my education (and accepting that get_edit_post_link is
available for this specific case), why is ob_start, etc,  a bad idea?

Thanks Otto.

S


---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT
From donncha at linux.ie  Thu Apr 23 09:48:05 2009
From: donncha at linux.ie (Donncha O Caoimh)
Date: Thu Apr 23 09:48:29 2009
Subject: [wp-hackers] ob_start - good or bad?
In-Reply-To: <77c8b7bf0904230240v6941fb32s54d176d574c3d777@mail.gmail.com>
References: <77c8b7bf0904230202t422aed10y18d79f882a520414@mail.gmail.com>
	<161617690904230235x4688de66kf64e672e529da974@mail.gmail.com>
	<77c8b7bf0904230240v6941fb32s54d176d574c3d777@mail.gmail.com>
Message-ID: <49F03955.8010104@linux.ie>

If you use ob_start() and wait until the end of the PHP process to 
collect the output and do something with it (like WP Super Cache and 
other caching plugins do) you have to be careful about using objects.
The latest versions of PHP5 destroy objects during shutdown before all 
code has actually been run.

I had to "pre cache" a few blog options earlier in the process (into 
global variables) to get around this. What's worse, is that this 
destroying of objects doesn't always happen, and different versions of 
PHP5 do different things. It's head wrecking.

Donncha

Simon Wheatley wrote:
> On Thu, Apr 23, 2009 at 10:35 AM, Otto <otto@ottodestruct.com> wrote:
>> Well, there's already a get_edit_post_link() function, so why not use
>> that instead? Okay, so it doesn't return all the a href stuff, but
>> that's easy to duplicate.
>>
> 
> I hadn't spotted that when I looked at the edit_post_link function
> somehow, thanks.. seems so obvious now I look again. :\
> 
>> In general, it's a bad idea to use output buffering unless there's no
>> other way to do it. In the case of the given code, there's definitely
>> another way to do it.
>>
> 
> For the sake of my education (and accepting that get_edit_post_link is
> available for this specific case), why is ob_start, etc,  a bad idea?
> 
> Thanks Otto.
> 
> S

From otto at ottodestruct.com  Thu Apr 23 10:44:12 2009
From: otto at ottodestruct.com (Otto)
Date: Thu Apr 23 10:46:08 2009
Subject: [wp-hackers] ob_start - good or bad?
In-Reply-To: <49F03955.8010104@linux.ie>
References: <77c8b7bf0904230202t422aed10y18d79f882a520414@mail.gmail.com> 
	<161617690904230235x4688de66kf64e672e529da974@mail.gmail.com> 
	<77c8b7bf0904230240v6941fb32s54d176d574c3d777@mail.gmail.com> 
	<49F03955.8010104@linux.ie>
Message-ID: <161617690904230344k9fa08e7w872b223d67901dcd@mail.gmail.com>

Well, yes, okay, I didn't know about that reason. Seems like a PHP bug to me.

The general reason to avoid output buffering is that it buffers the
output. This seems stupidly obvious, but if your output is being saved
in a buffer until the end of the thing, then it's not being delivered
to the browser until the end of the process, all at once. Meaning that
your page doesn't appear to load gradually anymore, but the whole
thing has to run first, making it seem slower.

Now, if you're using it like you are, to capture only certain output
and prevent it from displaying, then ending the buffer, you don't have
this same problem. But output buffering in general is a poor solution.
You're basically taking something intended as output and putting it
into a string instead, so that you can presumably manipulate it. The
ideal solution in such a case is to rework something to give you the
string you want directly, not to work around it.

So usually, when there's no other way to do it except output
buffering, then you probably have a good argument for adding some new
functionality to the core code instead.

Caching plugins being a notable exception to this, of course.

-Otto



On Thu, Apr 23, 2009 at 4:48 AM, Donncha O Caoimh <donncha@linux.ie> wrote:
> If you use ob_start() and wait until the end of the PHP process to collect
> the output and do something with it (like WP Super Cache and other caching
> plugins do) you have to be careful about using objects.
> The latest versions of PHP5 destroy objects during shutdown before all code
> has actually been run.
>
> I had to "pre cache" a few blog options earlier in the process (into global
> variables) to get around this. What's worse, is that this destroying of
> objects doesn't always happen, and different versions of PHP5 do different
> things. It's head wrecking.
>
> Donncha
>
> Simon Wheatley wrote:
>>
>> On Thu, Apr 23, 2009 at 10:35 AM, Otto <otto@ottodestruct.com> wrote:
>>>
>>> Well, there's already a get_edit_post_link() function, so why not use
>>> that instead? Okay, so it doesn't return all the a href stuff, but
>>> that's easy to duplicate.
>>>
>>
>> I hadn't spotted that when I looked at the edit_post_link function
>> somehow, thanks.. seems so obvious now I look again. :\
>>
>>> In general, it's a bad idea to use output buffering unless there's no
>>> other way to do it. In the case of the given code, there's definitely
>>> another way to do it.
>>>
>>
>> For the sake of my education (and accepting that get_edit_post_link is
>> available for this specific case), why is ob_start, etc, ?a bad idea?
>>
>> Thanks Otto.
>>
>> S
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From simon at sweetinteraction.com  Thu Apr 23 10:48:11 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Thu Apr 23 10:48:41 2009
Subject: [wp-hackers] ob_start - good or bad?
In-Reply-To: <161617690904230344k9fa08e7w872b223d67901dcd@mail.gmail.com>
References: <77c8b7bf0904230202t422aed10y18d79f882a520414@mail.gmail.com> 
	<161617690904230235x4688de66kf64e672e529da974@mail.gmail.com> 
	<77c8b7bf0904230240v6941fb32s54d176d574c3d777@mail.gmail.com> 
	<49F03955.8010104@linux.ie>
	<161617690904230344k9fa08e7w872b223d67901dcd@mail.gmail.com>
Message-ID: <77c8b7bf0904230348u44129782q8c9a7f91b2abbf9e@mail.gmail.com>

Thanks.


On Thu, Apr 23, 2009 at 11:44 AM, Otto <otto@ottodestruct.com> wrote:
> Well, yes, okay, I didn't know about that reason. Seems like a PHP bug to me.
>
> The general reason to avoid output buffering is that it buffers the
> output. This seems stupidly obvious, but if your output is being saved
> in a buffer until the end of the thing, then it's not being delivered
> to the browser until the end of the process, all at once. Meaning that
> your page doesn't appear to load gradually anymore, but the whole
> thing has to run first, making it seem slower.
>
> Now, if you're using it like you are, to capture only certain output
> and prevent it from displaying, then ending the buffer, you don't have
> this same problem. But output buffering in general is a poor solution.
> You're basically taking something intended as output and putting it
> into a string instead, so that you can presumably manipulate it. The
> ideal solution in such a case is to rework something to give you the
> string you want directly, not to work around it.
>
> So usually, when there's no other way to do it except output
> buffering, then you probably have a good argument for adding some new
> functionality to the core code instead.
>
> Caching plugins being a notable exception to this, of course.
>
> -Otto
>
>
>
> On Thu, Apr 23, 2009 at 4:48 AM, Donncha O Caoimh <donncha@linux.ie> wrote:
>> If you use ob_start() and wait until the end of the PHP process to collect
>> the output and do something with it (like WP Super Cache and other caching
>> plugins do) you have to be careful about using objects.
>> The latest versions of PHP5 destroy objects during shutdown before all code
>> has actually been run.
>>
>> I had to "pre cache" a few blog options earlier in the process (into global
>> variables) to get around this. What's worse, is that this destroying of
>> objects doesn't always happen, and different versions of PHP5 do different
>> things. It's head wrecking.
>>
>> Donncha
>>
>> Simon Wheatley wrote:
>>>
>>> On Thu, Apr 23, 2009 at 10:35 AM, Otto <otto@ottodestruct.com> wrote:
>>>>
>>>> Well, there's already a get_edit_post_link() function, so why not use
>>>> that instead? Okay, so it doesn't return all the a href stuff, but
>>>> that's easy to duplicate.
>>>>
>>>
>>> I hadn't spotted that when I looked at the edit_post_link function
>>> somehow, thanks.. seems so obvious now I look again. :\
>>>
>>>> In general, it's a bad idea to use output buffering unless there's no
>>>> other way to do it. In the case of the given code, there's definitely
>>>> another way to do it.
>>>>
>>>
>>> For the sake of my education (and accepting that get_edit_post_link is
>>> available for this specific case), why is ob_start, etc, ?a bad idea?
>>>
>>> Thanks Otto.
>>>
>>> S
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Simon Wheatley
Sweet Interaction Ltd
Web Interaction Design & Development
Tel: 07971 687295

Consulting for Stephen Fry: http://stephenfry.com/
Blog functionality for DfID - http://blogs.dfid.gov.uk/
House of Illustration site - http://houseofillustration.org.uk/
Blog for the Royal Navy - http://jackspeak.royalnavy.mod.uk/

---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT
From johnbillion+wp at gmail.com  Thu Apr 23 21:59:28 2009
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu Apr 23 21:59:43 2009
Subject: [wp-hackers] Extend / Plugins error
In-Reply-To: <349fe48b0904201158k2c4d26b8y198b35c110483b7c@mail.gmail.com>
References: <349fe48b0904201158k2c4d26b8y198b35c110483b7c@mail.gmail.com>
Message-ID: <1fa535a70904231459y31b88fb0o82c5e951838fe289@mail.gmail.com>

Getting that error on my profile too.
http://wordpress.org/extend/plugins/profile/johnbillion/page/2

2009/4/20 scribu <scribu@gmail.com>:
> Not sure where to post this, but here goes:
>
> When I was browsing a profile on Extend, I got to this URL:
>
> http://wordpress.org/extend/plugins/profile/denis-de-bernardy/page/3
>
> As you can see, the pagination is off: It shows links up to page 4, even
> though there is nothing there.
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From scribu at gmail.com  Fri Apr 24 09:55:07 2009
From: scribu at gmail.com (scribu)
Date: Fri Apr 24 09:55:24 2009
Subject: [wp-hackers] Clean up admin filter links
Message-ID: <349fe48b0904240255n67346db0n71b3b6cd4f06da27@mail.gmail.com>

More and more admin pages in WordPress have filter links at the top:
The Edit Posts Page has these:


All (8) | My posts (7) | Published (6) | Draft (2)


The problem is that they can't be modified by a plugin and each admin
page has it's own way of adding them.

I've submitted a patch on trac that starts to addresses these issues:
http://core.trac.wordpress.org/ticket/9621

Is there any chance that it could make it in 2.8 ?


--
http://scribu.net
From simon at sweetinteraction.com  Fri Apr 24 18:58:39 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Fri Apr 24 18:59:05 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <E9D053A2-6D49-4486-9FE6-BB6AED121D48@indiana.edu>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<F5DDF143-6EBF-427B-87A0-B6607024F7FD@striderweb.com> 
	<161617690904141625l2e88b696i1c5dc2ac28eb2af7@mail.gmail.com> 
	<902424490904141642u387f282blee382a50e0e76b58@mail.gmail.com> 
	<161617690904141857h1ecb72dbs5def5a362e173c0d@mail.gmail.com> 
	<8E312264-8A80-44F5-A9F1-5ECC1DB39821@indiana.edu>
	<161617690904150937m49569b7btc3b6a42a01b24a14@mail.gmail.com> 
	<DB34EB3B-CE87-44F8-A96A-E106984A0DB7@indiana.edu>
	<7F9199E6-A1DA-45D1-A70C-6718AA985BF9@striderweb.com> 
	<E9D053A2-6D49-4486-9FE6-BB6AED121D48@indiana.edu>
Message-ID: <77c8b7bf0904241158m1077b991jdb3609b5042ead93@mail.gmail.com>

On Thu, Apr 16, 2009 at 2:02 PM, SoJ Web <sojweb@indiana.edu> wrote:
>
> Yeah, I went with displaying the GMT offset along with the author time, but
> displaying local time would also be nice. At any rate, some point of
> reference for the time is definitely in order if posts come from different
> time zones.
>

Any news on a URL for that plugin? :)

S



---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT
From sojweb at indiana.edu  Fri Apr 24 19:25:47 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Fri Apr 24 19:26:04 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <77c8b7bf0904241158m1077b991jdb3609b5042ead93@mail.gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<F5DDF143-6EBF-427B-87A0-B6607024F7FD@striderweb.com>
	<161617690904141625l2e88b696i1c5dc2ac28eb2af7@mail.gmail.com>
	<902424490904141642u387f282blee382a50e0e76b58@mail.gmail.com>
	<161617690904141857h1ecb72dbs5def5a362e173c0d@mail.gmail.com>
	<8E312264-8A80-44F5-A9F1-5ECC1DB39821@indiana.edu>
	<161617690904150937m49569b7btc3b6a42a01b24a14@mail.gmail.com>
	<DB34EB3B-CE87-44F8-A96A-E106984A0DB7@indiana.edu>
	<7F9199E6-A1DA-45D1-A70C-6718AA985BF9@striderweb.com>
	<E9D053A2-6D49-4486-9FE6-BB6AED121D48@indiana.edu>
	<77c8b7bf0904241158m1077b991jdb3609b5042ead93@mail.gmail.com>
Message-ID: <0FAF6F22-EFC0-46E6-AF40-E00A5F0EBD81@indiana.edu>

Yeah, I keep getting my free time eaten up, but I'll upload what I've  
got... and it wouldn't be much to make it fully workable. The link is:

http://wordpress.org/extend/plugins/soj-user-time-zone/

As I was playing with it, a few things came to mind that it should  
account for:

1 - It needs to take into account daylight savings time, which depends  
both on the time zone and when a particular post was published.
2 - If an author can set one time zone, they ought to be able to set  
multiple time zones (if I move to india, my EST setting won't do me  
any good).
3 - Posts should respect the time zone setting from the time they were  
published, not necessarily the current setting.
4 - I'd like it to hook into pre_option_gmt_offset instead of  
get_the_time like it does now

None of this would be hard, I just haven't had time for it. And if  
anyone has any ideas for improvement, please hack away!


-Jeff

On Apr 24, 2009, at 14:58 PM, Simon Wheatley wrote:

> On Thu, Apr 16, 2009 at 2:02 PM, SoJ Web <sojweb@indiana.edu> wrote:
>>
>> Yeah, I went with displaying the GMT offset along with the author  
>> time, but
>> displaying local time would also be nice. At any rate, some point of
>> reference for the time is definitely in order if posts come from  
>> different
>> time zones.
>>
>
> Any news on a URL for that plugin? :)
>
> S
>
>
>
> ---
> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
> Registered office: 7 Malton Av, Manchester, M21 8AT
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From jane at automattic.com  Sat Apr 25 18:06:57 2009
From: jane at automattic.com (Jane Wells)
Date: Sat Apr 25 18:07:13 2009
Subject: [wp-hackers] Design Challenge Forum
In-Reply-To: <20090415120026.1AF3F6B57@comox.textdrive.com>
References: <20090415120026.1AF3F6B57@comox.textdrive.com>
Message-ID: <303F6243-15CA-4BB6-817D-22CAA68564E9@automattic.com>

I created a forum thread if people want to discuss the weekend design  
thing.

http://wordpress.org/support/topic/265261

Jane
From pemboa at gmail.com  Sun Apr 26 06:17:58 2009
From: pemboa at gmail.com (Arthur Pemberton)
Date: Sun Apr 26 06:18:12 2009
Subject: [wp-hackers] Question about some annoyances I have
Message-ID: <16de708d0904252317k4aa4f2d1yd442a9cca8ffd8be@mail.gmail.com>

I'm a new user of Wordpress and I like it overall, but there are two
annoyances I've found with that seem unique to wordpress, so I've come
here to query the design decisions behind them.

The first is the use and enforcement of `siteurl`. Why is this option
relied on so heavily and even redirected to? All the site resources
use this absolute URL instead of base /wp-content url. I have my
wordpress on my dev box, and simply showing it to a friend through my
apache reverse proxy is unusually troublesome because of this.

This brings me to my second annoyance, absolute URLs for internal
resource. If I upload an image, again, the entire absolute URL is
used. I do not understand the motivation benefit of these two design
decisions, and was hoping someone here could explain them please.

Thank you.

-- 
Fedora 9 : sulphur is good for the skin
( www.pembo13.com )
From jeremy at visser.name  Sun Apr 26 09:45:03 2009
From: jeremy at visser.name (Jeremy Visser)
Date: Sun Apr 26 10:21:45 2009
Subject: [wp-hackers] Question about some annoyances I have
In-Reply-To: <16de708d0904252317k4aa4f2d1yd442a9cca8ffd8be@mail.gmail.com>
References: <16de708d0904252317k4aa4f2d1yd442a9cca8ffd8be@mail.gmail.com>
Message-ID: <1240739103.3672.4.camel@rillian.narnia.sunriseroad.net>

On Sun, 2009-04-26 at 01:17 -0500, Arthur Pemberton wrote:
> The first is the use and enforcement of `siteurl`. Why is this option
> relied on so heavily and even redirected to? All the site resources
> use this absolute URL instead of base /wp-content url. I have my
> wordpress on my dev box, and simply showing it to a friend through my
> apache reverse proxy is unusually troublesome because of this.

The way I work around this is to set siteurl dynamically in
wp-config.php. I remember this method is vulnerable to injection via
Host header modification, but it works, and should be fine for your dev
box.

define('WP_HOME',    'http://' . $_SERVER['HTTP_HOST'] . '/path/to/wp');
define('WP_SITEURL', 'http://' . $_SERVER['HTTP_HOST'] . '/path/to/wp');

This will ignore whatever you set in the DB for wpurl and siteurl, and
will set them based on what the browser sends in the Host header.
Obviously, if your blog URL is different from where WordPress is, adjust
accordingly.

Hope this helps,
Jeremy.

From dan at sproutventure.com  Mon Apr 27 05:41:42 2009
From: dan at sproutventure.com (Daniel Cameron)
Date: Mon Apr 27 05:42:08 2009
Subject: [wp-hackers] Comment Moderation limited to the Post Author
	(multi-author)
Message-ID: <505c639e0904262241k60d5bfa4s9be6ab180edf8d3c@mail.gmail.com>

Anyone have recommendations on how limit comment moderation to the post
author?
Basically, we will have a post that only the author could manage
comments. With the type of site we're creating there will be hundreds of
authors with a single post attributed to them, they should be able to edit
the comments but no-one else's (ofcourse).

note: The contributer level will not work (by default) since s/he could then
edit every comment within the install.

What I've thought about doing:

   - Post meta fieds, large development process to copy the comment
   management from core.
   - WPMU, it's my last resort because of development issues.
   - Disqus, they allow for multiple embeds on the same domain but the user
   will need to sign up for a separate service.
From lynne.pope at gmail.com  Mon Apr 27 06:29:30 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Mon Apr 27 06:30:00 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <0FAF6F22-EFC0-46E6-AF40-E00A5F0EBD81@indiana.edu>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<902424490904141642u387f282blee382a50e0e76b58@mail.gmail.com> 
	<161617690904141857h1ecb72dbs5def5a362e173c0d@mail.gmail.com> 
	<8E312264-8A80-44F5-A9F1-5ECC1DB39821@indiana.edu>
	<161617690904150937m49569b7btc3b6a42a01b24a14@mail.gmail.com> 
	<DB34EB3B-CE87-44F8-A96A-E106984A0DB7@indiana.edu>
	<7F9199E6-A1DA-45D1-A70C-6718AA985BF9@striderweb.com> 
	<E9D053A2-6D49-4486-9FE6-BB6AED121D48@indiana.edu>
	<77c8b7bf0904241158m1077b991jdb3609b5042ead93@mail.gmail.com> 
	<0FAF6F22-EFC0-46E6-AF40-E00A5F0EBD81@indiana.edu>
Message-ID: <427667db0904262329u3c44b52eud488088e75fe3ef6@mail.gmail.com>

2009/4/25 SoJ Web <sojweb@indiana.edu>

> Yeah, I keep getting my free time eaten up, but I'll upload what I've
> got... and it wouldn't be much to make it fully workable. The link is:
>
> http://wordpress.org/extend/plugins/soj-user-time-zone/
>
> As I was playing with it, a few things came to mind that it should account
> for:
>
> 1 - It needs to take into account daylight savings time, which depends both
> on the time zone and when a particular post was published.
> 2 - If an author can set one time zone, they ought to be able to set
> multiple time zones (if I move to india, my EST setting won't do me any
> good).
> 3 - Posts should respect the time zone setting from the time they were
> published, not necessarily the current setting.
> 4 - I'd like it to hook into pre_option_gmt_offset instead of get_the_time
> like it does now
>
> None of this would be hard, I just haven't had time for it. And if anyone
> has any ideas for improvement, please hack away!
>
>
> -Jeff


I haven't had time yet to look at this but wanted to record my thoughts with
a #1A.
1A - Take into account daylight savings time on the server.
This catches so many of my people out, when they schedule posts and don't
remember that the servers are in different time zones. Twice a year, server
time changes mess up post times. Adjusting for 4 daylight saving changes per
year (server x2, blog x2) is no fun.

Lynne
From ryan at pixopoint.com  Mon Apr 27 06:30:04 2009
From: ryan at pixopoint.com (Ryan Hellyer)
Date: Mon Apr 27 06:30:18 2009
Subject: [wp-hackers] Re: Question about some annoyances I have (Arthur
	Pemberton)
Message-ID: <3d9d0f060904262330l20723082n8dbf2e41f0709a09@mail.gmail.com>

I assume the main reason absolute URLs are used is to prevent (or at
least reduce) splogging problems. Sites which use relative URLs are
much more easily copied without any evidence of the original site. By
using absolute URLs, most splogs end up with a whole stack of links
pointing back to the original site, this makes it much easier for
visitors and (more importantly) Google etc. to see that your site is
the original. Of course if a splogger knows what they're doing,
they'll be able to replace all of those URLs dynamically, but this is
generally not the case.

cheers,
Ryan

-- 
Ryan Hellyer
Email: ryan@pixopoint.com
Website: http://pixopoint.com/
Phone: +64 21 297-2698
From jaredbangs at gmail.com  Mon Apr 27 07:02:06 2009
From: jaredbangs at gmail.com (Jared Bangs)
Date: Mon Apr 27 07:02:21 2009
Subject: [wp-hackers] Comment Moderation limited to the Post Author 
	(multi-author)
In-Reply-To: <505c639e0904262241k60d5bfa4s9be6ab180edf8d3c@mail.gmail.com>
References: <505c639e0904262241k60d5bfa4s9be6ab180edf8d3c@mail.gmail.com>
Message-ID: <7b4922320904270002m5e388daesf3705a9a388acf5c@mail.gmail.com>

On Sun, Apr 26, 2009 at 10:41 PM, Daniel Cameron <dan@sproutventure.com> wrote:
> Anyone have recommendations on how limit comment moderation to the post
> author?
> Basically, we will have a post that only the author could manage
> comments. With the type of site we're creating there will be hundreds of
> authors with a single post attributed to them, they should be able to edit
> the comments but no-one else's (ofcourse).
>
> note: The contributer level will not work (by default) since s/he could then
> edit every comment within the install.
>
> What I've thought about doing:
>
> ? - Post meta fieds, large development process to copy the comment
> ? management from core.
> ? - WPMU, it's my last resort because of development issues.
> ? - Disqus, they allow for multiple embeds on the same domain but the user
> ? will need to sign up for a separate service.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

Seems like a plugin should be able to handle this fairly easily, but
maybe you could clarify where the existing roles give too much or too
little permission, and what the middle ground is.

In my quick testing (this is on MU, so maybe that's the difference),
Contributors can't edit comments at all, but Authors can edit comments
only for their own (personally created) posts. In other words, author1
can edit comments on a post by author1, but author2 cannot edit
comments on that post.

Since that situation is what it sounds like you're asking for, maybe
you could clarify the differences?

- Jared
From dan at sproutventure.com  Mon Apr 27 07:09:36 2009
From: dan at sproutventure.com (Daniel Cameron)
Date: Mon Apr 27 07:10:00 2009
Subject: [wp-hackers] Comment Moderation limited to the Post Author 
	(multi-author)
In-Reply-To: <7b4922320904270002m5e388daesf3705a9a388acf5c@mail.gmail.com>
References: <505c639e0904262241k60d5bfa4s9be6ab180edf8d3c@mail.gmail.com> 
	<7b4922320904270002m5e388daesf3705a9a388acf5c@mail.gmail.com>
Message-ID: <505c639e0904270009k25a06ad6h743f3062deaf7351@mail.gmail.com>

>
> Contributors can't edit comments at all, but Authors can edit comments
> only for their own (personally created) posts. In other words, author1
> can edit comments on a post by author1, but author2 cannot edit
> comments on that post.


This is exactly what's needed.


> In my quick testing (this is on MU, so maybe that's the difference)


That is the difference.
From jaredbangs at gmail.com  Mon Apr 27 07:12:08 2009
From: jaredbangs at gmail.com (Jared Bangs)
Date: Mon Apr 27 07:12:22 2009
Subject: [wp-hackers] Comment Moderation limited to the Post Author 
	(multi-author)
In-Reply-To: <505c639e0904270009k25a06ad6h743f3062deaf7351@mail.gmail.com>
References: <505c639e0904262241k60d5bfa4s9be6ab180edf8d3c@mail.gmail.com>
	<7b4922320904270002m5e388daesf3705a9a388acf5c@mail.gmail.com>
	<505c639e0904270009k25a06ad6h743f3062deaf7351@mail.gmail.com>
Message-ID: <7b4922320904270012q77c7d99fyc17067df471a5d89@mail.gmail.com>

On Mon, Apr 27, 2009 at 12:09 AM, Daniel Cameron <dan@sproutventure.com> wrote:
>>
>> Contributors can't edit comments at all, but Authors can edit comments
>> only for their own (personally created) posts. In other words, author1
>> can edit comments on a post by author1, but author2 cannot edit
>> comments on that post.
>
>
> This is exactly what's needed.
>
>
>> In my quick testing (this is on MU, so maybe that's the difference)
>
>
> That is the difference.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

I just tried it on standard WP trunk and it worked the same way:
author1 can edit comments on his own post, but not comments made on a
post by author2, and vice-versa. Did you try this and it didn't work
for you? Which version?
From dan at sproutventure.com  Mon Apr 27 08:09:28 2009
From: dan at sproutventure.com (Daniel Cameron)
Date: Mon Apr 27 08:09:55 2009
Subject: [wp-hackers] Comment Moderation UI limited for the Author
Message-ID: <505c639e0904270109xfb6f8eevedfa23fe4da7e40f@mail.gmail.com>

Jared:
You're right, there's some major clarification needed. Especially since I
formed the question around comment moderation instead of the comment
moderation UI (which was the original intent of the submission, even though
I confused the topic--and myself--when I brought in role capabilities).

Here it goes again:

Anyone have recommendations on how to limit the comment moderation [page
for] the post author, [so they don't see comments across the entire site]?

Basically, we will have a post that only the author could manage comments
[default author level]. Authors with a single post attributed to them,
should be able to edit the comments attributed to their posts but no-one
else's (default "author" role) [nor should they be able to see other
comments within their comment moderation page].


We're running into the same issue with Media management but are handling
that much differently.
From Jesse.Silverstein at xerox.com  Mon Apr 27 12:19:22 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Mon Apr 27 12:20:19 2009
Subject: [wp-hackers] Comment Moderation UI limited for the Author
In-Reply-To: <505c639e0904270109xfb6f8eevedfa23fe4da7e40f@mail.gmail.com>
References: <505c639e0904270109xfb6f8eevedfa23fe4da7e40f@mail.gmail.com>
Message-ID: <F25F2C8DE17FB546A90DB3CF77461427065B3D2B@USA0300MS04.na.xerox.net>

More clarification needed:

Do you want non-authenticated users to be able to see the comments on
each post? Do you want the different authors to be able to read the
comments on each post, but just not be able to see them in the comments
moderation admin page?

If the answers are both yes, and the permissions are already correct
(i.e. the authors already cannot moderate comments that do not belong to
their posts), but the issue is just with visibility in the admin screen,
it should be fairly easy to hack or plugin.

-Jesse Silverstein


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Daniel
Cameron
Sent: Monday, April 27, 2009 4:09 AM
To: wp-hackers@lists.automattic.com
Subject: [wp-hackers] Comment Moderation UI limited for the Author

Jared:
You're right, there's some major clarification needed. Especially since
I
formed the question around comment moderation instead of the comment
moderation UI (which was the original intent of the submission, even
though
I confused the topic--and myself--when I brought in role capabilities).

Here it goes again:

Anyone have recommendations on how to limit the comment moderation [page
for] the post author, [so they don't see comments across the entire
site]?

Basically, we will have a post that only the author could manage
comments
[default author level]. Authors with a single post attributed to them,
should be able to edit the comments attributed to their posts but no-one
else's (default "author" role) [nor should they be able to see other
comments within their comment moderation page].


We're running into the same issue with Media management but are handling
that much differently.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.0.238 / Virus Database: 270.12.4/2081 - Release Date:
04/26/09 09:44:00
From Jesse.Silverstein at xerox.com  Mon Apr 27 13:38:31 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Mon Apr 27 13:39:16 2009
Subject: [wp-hackers] Comment Moderation UI limited for the Author
In-Reply-To: <F25F2C8DE17FB546A90DB3CF77461427065B3D2B@USA0300MS04.na.xerox.net>
References: <505c639e0904270109xfb6f8eevedfa23fe4da7e40f@mail.gmail.com>
	<F25F2C8DE17FB546A90DB3CF77461427065B3D2B@USA0300MS04.na.xerox.net>
Message-ID: <F25F2C8DE17FB546A90DB3CF77461427065B3E97@USA0300MS04.na.xerox.net>

Upon further research, there are no plugin hooks anywhere close to where
you would need them for this alteration, so if you want to get it done
now, here is the quick'n'dirty hack (based off 2.8 trunk, and not
tested, only theoretical):

In wp-admin/edit-comments.php, above the line that starts
"list($_comments, $total) = _wp_get_comment_list(...", which should be
201 add the following line:

$post_id = join(", ", $wpdb->get_col($wpdb->prepare("SELECT ID FROM
{$wpdb->posts} WHERE post_author = %d", wp_get_current_user())));

Then, in wp-admin/template.php, in the _wp_get_comment_list function:
Comment out/delete line 1987: $post = (int) $post;
Change line 2008 from:
$post = " AND comment_post_ID = '$post'";
To:
$post = " AND comment_post_ID IN ($post)";

Hope this helps. Happy hacking.

-Jesse

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of
Silverstein, Jesse
Sent: Monday, April 27, 2009 8:19 AM
To: wp-hackers@lists.automattic.com
Subject: RE: [wp-hackers] Comment Moderation UI limited for the Author

More clarification needed:

Do you want non-authenticated users to be able to see the comments on
each post? Do you want the different authors to be able to read the
comments on each post, but just not be able to see them in the comments
moderation admin page?

If the answers are both yes, and the permissions are already correct
(i.e. the authors already cannot moderate comments that do not belong to
their posts), but the issue is just with visibility in the admin screen,
it should be fairly easy to hack or plugin.

-Jesse Silverstein


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Daniel
Cameron
Sent: Monday, April 27, 2009 4:09 AM
To: wp-hackers@lists.automattic.com
Subject: [wp-hackers] Comment Moderation UI limited for the Author

Jared:
You're right, there's some major clarification needed. Especially since
I
formed the question around comment moderation instead of the comment
moderation UI (which was the original intent of the submission, even
though
I confused the topic--and myself--when I brought in role capabilities).

Here it goes again:

Anyone have recommendations on how to limit the comment moderation [page
for] the post author, [so they don't see comments across the entire
site]?

Basically, we will have a post that only the author could manage
comments
[default author level]. Authors with a single post attributed to them,
should be able to edit the comments attributed to their posts but no-one
else's (default "author" role) [nor should they be able to see other
comments within their comment moderation page].


We're running into the same issue with Media management but are handling
that much differently.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.0.238 / Virus Database: 270.12.4/2081 - Release Date:
04/26/09 09:44:00
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.0.238 / Virus Database: 270.12.4/2081 - Release Date:
04/26/09 09:44:00
From jaredbangs at gmail.com  Mon Apr 27 15:49:03 2009
From: jaredbangs at gmail.com (Jared Bangs)
Date: Mon Apr 27 15:49:20 2009
Subject: [wp-hackers] Comment Moderation UI limited for the Author
In-Reply-To: <F25F2C8DE17FB546A90DB3CF77461427065B3E97@USA0300MS04.na.xerox.net>
References: <505c639e0904270109xfb6f8eevedfa23fe4da7e40f@mail.gmail.com>
	<F25F2C8DE17FB546A90DB3CF77461427065B3D2B@USA0300MS04.na.xerox.net>
	<F25F2C8DE17FB546A90DB3CF77461427065B3E97@USA0300MS04.na.xerox.net>
Message-ID: <7b4922320904270849s3a6d5424nd9edede86e5ae7f5@mail.gmail.com>

Dan, oh yeah, that makes more sense now - you just want a filtered
view of the edit comments page that only includes comments for that
author.

If I may, I'll throw in a couple additional "requirements" that I'm
assuming you'll want:

1. You want the edit comments page to work normally for other users
(editors, admins, etc.) and only want the filtered view for authors.

2. Since this is (I'm assuming) for a client or someone other than
yourself, you wouldn't want to hinder their ability to do upgrades in
the future.

In light of #1, I think you at least want to wrap whatever you do in
code that only does it for the author users, since otherwise you could
lock out admins from doing moderation, etc.

In light of #2 (and depending how they will be doing upgrades), I
would recommend steering clear of hacking the core files, since an
upgrade would potentially break whatever you do.

As Jesse mentioned, the hooks aren't quite there for this to be done
easily in a plugin, although I'm guessing a patch to add a hook inside
of _wp_get_comment_list may be accepted since it seems like this type
of thing might be a common useful feature for plugins to be able to
do.

If you're interested in going the plugin route, I think there are
still a couple approaches you could explore, even though they are a
bit more work than what Jesse recommended:

A. Altering the final query sql itself with a query filter that
catches it under the right conditions

B. Pluging in a new admin comment management page that borrows as much
as possible from the original, but also adds your required filters,
and then telling them to use that. You could get fancy and try to hide
the original page and/or redirect them to this new one if you wanted
to make it easier or force them to use it.

- Jared

On Mon, Apr 27, 2009 at 6:38 AM, Silverstein, Jesse
<Jesse.Silverstein@xerox.com> wrote:
> Upon further research, there are no plugin hooks anywhere close to where
> you would need them for this alteration, so if you want to get it done
> now, here is the quick'n'dirty hack (based off 2.8 trunk, and not
> tested, only theoretical):
>
> In wp-admin/edit-comments.php, above the line that starts
> "list($_comments, $total) = _wp_get_comment_list(...", which should be
> 201 add the following line:
>
> $post_id = join(", ", $wpdb->get_col($wpdb->prepare("SELECT ID FROM
> {$wpdb->posts} WHERE post_author = %d", wp_get_current_user())));
>
> Then, in wp-admin/template.php, in the _wp_get_comment_list function:
> Comment out/delete line 1987: $post = (int) $post;
> Change line 2008 from:
> $post = " AND comment_post_ID = '$post'";
> To:
> $post = " AND comment_post_ID IN ($post)";
>
> Hope this helps. Happy hacking.
>
> -Jesse
>
> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of
> Silverstein, Jesse
> Sent: Monday, April 27, 2009 8:19 AM
> To: wp-hackers@lists.automattic.com
> Subject: RE: [wp-hackers] Comment Moderation UI limited for the Author
>
> More clarification needed:
>
> Do you want non-authenticated users to be able to see the comments on
> each post? Do you want the different authors to be able to read the
> comments on each post, but just not be able to see them in the comments
> moderation admin page?
>
> If the answers are both yes, and the permissions are already correct
> (i.e. the authors already cannot moderate comments that do not belong to
> their posts), but the issue is just with visibility in the admin screen,
> it should be fairly easy to hack or plugin.
>
> -Jesse Silverstein
>
>
> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Daniel
> Cameron
> Sent: Monday, April 27, 2009 4:09 AM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] Comment Moderation UI limited for the Author
>
> Jared:
> You're right, there's some major clarification needed. Especially since
> I
> formed the question around comment moderation instead of the comment
> moderation UI (which was the original intent of the submission, even
> though
> I confused the topic--and myself--when I brought in role capabilities).
>
> Here it goes again:
>
> Anyone have recommendations on how to limit the comment moderation [page
> for] the post author, [so they don't see comments across the entire
> site]?
>
> Basically, we will have a post that only the author could manage
> comments
> [default author level]. Authors with a single post attributed to them,
> should be able to edit the comments attributed to their posts but no-one
> else's (default "author" role) [nor should they be able to see other
> comments within their comment moderation page].
>
>
> We're running into the same issue with Media management but are handling
> that much differently.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> No virus found in this incoming message.
> Checked by AVG - www.avg.com
> Version: 8.0.238 / Virus Database: 270.12.4/2081 - Release Date:
> 04/26/09 09:44:00
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> No virus found in this incoming message.
> Checked by AVG - www.avg.com
> Version: 8.0.238 / Virus Database: 270.12.4/2081 - Release Date:
> 04/26/09 09:44:00
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From otto at ottodestruct.com  Mon Apr 27 16:00:50 2009
From: otto at ottodestruct.com (Otto)
Date: Mon Apr 27 16:01:18 2009
Subject: [wp-hackers] peculiar problem on setting GMT
In-Reply-To: <427667db0904262329u3c44b52eud488088e75fe3ef6@mail.gmail.com>
References: <747286.83762.qm@web28604.mail.ukl.yahoo.com>
	<161617690904141857h1ecb72dbs5def5a362e173c0d@mail.gmail.com> 
	<8E312264-8A80-44F5-A9F1-5ECC1DB39821@indiana.edu>
	<161617690904150937m49569b7btc3b6a42a01b24a14@mail.gmail.com> 
	<DB34EB3B-CE87-44F8-A96A-E106984A0DB7@indiana.edu>
	<7F9199E6-A1DA-45D1-A70C-6718AA985BF9@striderweb.com> 
	<E9D053A2-6D49-4486-9FE6-BB6AED121D48@indiana.edu>
	<77c8b7bf0904241158m1077b991jdb3609b5042ead93@mail.gmail.com> 
	<0FAF6F22-EFC0-46E6-AF40-E00A5F0EBD81@indiana.edu>
	<427667db0904262329u3c44b52eud488088e75fe3ef6@mail.gmail.com>
Message-ID: <161617690904270900w505e6f8ftdc5d85510f5f4317@mail.gmail.com>

On Mon, Apr 27, 2009 at 1:29 AM, Lynne Pope <lynne.pope@gmail.com> wrote:
> I haven't had time yet to look at this but wanted to record my thoughts with
> a #1A.
> 1A - Take into account daylight savings time on the server.
> This catches so many of my people out, when they schedule posts and don't
> remember that the servers are in different time zones. Twice a year, server
> time changes mess up post times. Adjusting for 4 daylight saving changes per
> year (server x2, blog x2) is no fun.

Sounds like misconfigured servers to me. Time is absolute, server time
even more so. All servers should be set internally to UTC time. What
they display/use for their own time varies, of course, but the
internal clock is never adjusted unless it's off UTC.

-Otto
Sent from Memphis, Tennessee, United States
From dan at sproutventure.com  Mon Apr 27 16:31:08 2009
From: dan at sproutventure.com (Daniel Cameron)
Date: Mon Apr 27 16:31:34 2009
Subject: [wp-hackers] Comment Moderation UI limited for the Author
In-Reply-To: <F25F2C8DE17FB546A90DB3CF77461427065B3E97@USA0300MS04.na.xerox.net>
References: <505c639e0904270109xfb6f8eevedfa23fe4da7e40f@mail.gmail.com> 
	<F25F2C8DE17FB546A90DB3CF77461427065B3D2B@USA0300MS04.na.xerox.net> 
	<F25F2C8DE17FB546A90DB3CF77461427065B3E97@USA0300MS04.na.xerox.net>
Message-ID: <505c639e0904270931t5eddbac0ub6f20dd8401612d9@mail.gmail.com>

Thanks Jesse, even though your solution is accurate we want to steer clear
of modifying core files unless we have to. There's also a few other methods
of removing those comments from the display, one that I'm contemplating is
simply adding an additional query string for the comment moderation UI that
we can require the user have.
Sort of like, ?author=2234 for the media page.

[note] I know the user will still be able to see the other media or comments
if they just pass another random number within the string but the content is
public and they can't edit it anyways.
From dan at sproutventure.com  Mon Apr 27 16:36:05 2009
From: dan at sproutventure.com (Daniel Cameron)
Date: Mon Apr 27 16:36:32 2009
Subject: [wp-hackers] Comment Moderation UI limited for the Author
In-Reply-To: <7b4922320904270849s3a6d5424nd9edede86e5ae7f5@mail.gmail.com>
References: <505c639e0904270109xfb6f8eevedfa23fe4da7e40f@mail.gmail.com> 
	<F25F2C8DE17FB546A90DB3CF77461427065B3D2B@USA0300MS04.na.xerox.net> 
	<F25F2C8DE17FB546A90DB3CF77461427065B3E97@USA0300MS04.na.xerox.net> 
	<7b4922320904270849s3a6d5424nd9edede86e5ae7f5@mail.gmail.com>
Message-ID: <505c639e0904270936r7d571c9aj3ac4e116dd162185@mail.gmail.com>

>
> 1. You want the edit comments page to work normally for other users
> (editors, admins, etc.) and only want the filtered view for authors.
>
> 2. Since this is (I'm assuming) for a client or someone other than
> yourself, you wouldn't want to hinder their ability to do upgrades in
> the future.


Yep, those requirements are accurate. Especially since we don't want to
modify the WP core "unless we have to".


> A. Altering the final query sql itself with a query filter that
> catches it under the right conditions


I've tried this but found it's not possible to filter on post author
attributed to the comment.


> B. Pluging in a new admin comment management


This is one of the solutions I originally had but it's going to take too
much time.

As Jesse mentioned, the hooks aren't quite there for this to be done

easily in a plugin, although I'm guessing a patch to add a hook inside

of _wp_get_comment_list may be accepted since it seems like this type

of thing might be a common useful feature for plugins to be able to

do.


This is the route we may have to go if we can't figure this out via a
plugin. I'm just worried it will take too long to get approved--especially
with 2.8 around the corner.
From jared at pacific22.com  Mon Apr 27 18:11:31 2009
From: jared at pacific22.com (Jared Bangs)
Date: Mon Apr 27 18:11:44 2009
Subject: [wp-hackers] Comment Moderation UI limited for the Author
In-Reply-To: <505c639e0904270936r7d571c9aj3ac4e116dd162185@mail.gmail.com>
References: <505c639e0904270109xfb6f8eevedfa23fe4da7e40f@mail.gmail.com>
	<F25F2C8DE17FB546A90DB3CF77461427065B3D2B@USA0300MS04.na.xerox.net>
	<F25F2C8DE17FB546A90DB3CF77461427065B3E97@USA0300MS04.na.xerox.net>
	<7b4922320904270849s3a6d5424nd9edede86e5ae7f5@mail.gmail.com>
	<505c639e0904270936r7d571c9aj3ac4e116dd162185@mail.gmail.com>
Message-ID: <7b4922320904271111y29090e4cqe0c269b968f34bc0@mail.gmail.com>

I'd be willing to spend a few minutes later tonight trying out option
A, just out of curiosity.

I'll try it and e-mail it to you later if successful, unless you get
another solution before then.

On 4/27/09, Daniel Cameron <dan@sproutventure.com> wrote:
>>
>> 1. You want the edit comments page to work normally for other users
>> (editors, admins, etc.) and only want the filtered view for authors.
>>
>> 2. Since this is (I'm assuming) for a client or someone other than
>> yourself, you wouldn't want to hinder their ability to do upgrades in
>> the future.
>
>
> Yep, those requirements are accurate. Especially since we don't want to
> modify the WP core "unless we have to".
>
>
>> A. Altering the final query sql itself with a query filter that
>> catches it under the right conditions
>
>
> I've tried this but found it's not possible to filter on post author
> attributed to the comment.
>
>
>> B. Pluging in a new admin comment management
>
>
> This is one of the solutions I originally had but it's going to take too
> much time.
>
> As Jesse mentioned, the hooks aren't quite there for this to be done
>
> easily in a plugin, although I'm guessing a patch to add a hook inside
>
> of _wp_get_comment_list may be accepted since it seems like this type
>
> of thing might be a common useful feature for plugins to be able to
>
> do.
>
>
> This is the route we may have to go if we can't figure this out via a
> plugin. I'm just worried it will take too long to get approved--especially
> with 2.8 around the corner.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From elflop at googlemail.com  Tue Apr 28 11:53:53 2009
From: elflop at googlemail.com (Rich Pedley)
Date: Tue Apr 28 11:54:10 2009
Subject: [wp-hackers] $_GET problems
Message-ID: <c6c45a350904280453n6c064007h8d67bdd20ae03d5c@mail.gmail.com>

Can anyone explain why the following happens, and is there anything
within WP that could cause this?
(example only)
http://edemo.quirm.net/checkout/
has a form that is being sent to:
http://edemo.quirm.net/checkout/?eshopaction=redirect

On that page I then use the eshopaction in a php switch statement to
decide what should happen. If the $_GET is not set it shows the form.
However on the first form submission, it acts like
$_GET{'eshopaction'] is not set. BUT when the form is re-submitted it
then picks up the fact that $_GET['eshopaction'] is set.

I've tried everything I can think of and just can't figure out what is
going wrong  -especially as it seems to work ok elsewhere!

-- 
my mind is on a permanent tangent
http://cms.elfden.co.uk/
From jeremy at visser.name  Tue Apr 28 13:14:03 2009
From: jeremy at visser.name (Jeremy Visser)
Date: Tue Apr 28 13:14:24 2009
Subject: [wp-hackers] $_GET problems
In-Reply-To: <c6c45a350904280453n6c064007h8d67bdd20ae03d5c@mail.gmail.com>
References: <c6c45a350904280453n6c064007h8d67bdd20ae03d5c@mail.gmail.com>
Message-ID: <1240924443.12775.4.camel@rillian.narnia.sunriseroad.net>

On Tue, 2009-04-28 at 12:53 +0100, Rich Pedley wrote:
> http://edemo.quirm.net/checkout/
> has a form that is being sent to:
> http://edemo.quirm.net/checkout/?eshopaction=redirect

Well you've said the URL is /checkout/, but it seems to
be /shopping-cart/checkout/. Have you moved stuff around, and now
WordPress is doing 301 redirects to move you to the new URL, and it's
dropping the ? stuff on the end?

In the page at http://edemo.quirm.net/shopping-cart/checkout/ there is a
form:

<form action="/shopping-cart/checkout/" method="post" class="eshop eshopform">

There is no ?eshopaction=redirect being listed in the action=""
attribute at all. Is it meant to be there?

From elflop at googlemail.com  Tue Apr 28 13:22:22 2009
From: elflop at googlemail.com (Rich Pedley)
Date: Tue Apr 28 13:22:39 2009
Subject: [wp-hackers] $_GET problems
In-Reply-To: <1240924443.12775.4.camel@rillian.narnia.sunriseroad.net>
References: <c6c45a350904280453n6c064007h8d67bdd20ae03d5c@mail.gmail.com>
	<1240924443.12775.4.camel@rillian.narnia.sunriseroad.net>
Message-ID: <c6c45a350904280622g25d64bf9rc9c3d29638d73a87@mail.gmail.com>

2009/4/28 Jeremy Visser <jeremy@visser.name>:
> On Tue, 2009-04-28 at 12:53 +0100, Rich Pedley wrote:
>> http://edemo.quirm.net/checkout/
>> has a form that is being sent to:
>> http://edemo.quirm.net/checkout/?eshopaction=redirect
>
> Well you've said the URL is /checkout/, but it seems to
> be /shopping-cart/checkout/. Have you moved stuff around, and now
> WordPress is doing 301 redirects to move you to the new URL, and it's
> dropping the ? stuff on the end?
>
> In the page at http://edemo.quirm.net/shopping-cart/checkout/ there is a
> form:
>
> <form action="/shopping-cart/checkout/" method="post" class="eshop eshopform">
>
> There is no ?eshopaction=redirect being listed in the action=""
> attribute at all. Is it meant to be there?

Thanks for replying.

It gets added when the the first form is submitted - giving the
customer a chance to check their details. and yes I missed off
/shopping-cart/ above, my mistake.

I have just tested on another server, and everything is working as it
should be. (wish I'd thought to do that sonner).

Only difference I can actually see if that on quirm.net there are
several WP installs, but a subdomain shouldn't be affected by the
overall htaccess - if that is what is causing it. Plus until a while
ago it was working fine in a subfolder.

I'm going to contact the hosting company to see if they can find any
difference in the setups between the 2 -because it has be stumped.

Sorry for posting - I should have tested elsewhere first.

*sigh* that's one morning work wasted.

Rich
-- 
my mind is on a permanent tangent
http://cms.elfden.co.uk/
From elflop at googlemail.com  Tue Apr 28 15:18:16 2009
From: elflop at googlemail.com (Rich Pedley)
Date: Tue Apr 28 15:41:51 2009
Subject: [wp-hackers] $_GET problems
In-Reply-To: <c6c45a350904280622g25d64bf9rc9c3d29638d73a87@mail.gmail.com>
References: <c6c45a350904280453n6c064007h8d67bdd20ae03d5c@mail.gmail.com>
	<1240924443.12775.4.camel@rillian.narnia.sunriseroad.net>
	<c6c45a350904280622g25d64bf9rc9c3d29638d73a87@mail.gmail.com>
Message-ID: <c6c45a350904280818u592041e0ue70524a5866bbe0c@mail.gmail.com>

2009/4/28 Rich Pedley <elflop@googlemail.com>:
> 2009/4/28 Jeremy Visser <jeremy@visser.name>:
>> On Tue, 2009-04-28 at 12:53 +0100, Rich Pedley wrote:
>>> http://edemo.quirm.net/checkout/
>>> has a form that is being sent to:
>>> http://edemo.quirm.net/checkout/?eshopaction=redirect
>>
>> Well you've said the URL is /checkout/, but it seems to
>> be /shopping-cart/checkout/. Have you moved stuff around, and now
>> WordPress is doing 301 redirects to move you to the new URL, and it's
>> dropping the ? stuff on the end?
>>
>> In the page at http://edemo.quirm.net/shopping-cart/checkout/ there is a
>> form:
>>
>> <form action="/shopping-cart/checkout/" method="post" class="eshop eshopform">
>>
>> There is no ?eshopaction=redirect being listed in the action=""
>> attribute at all. Is it meant to be there?
>
> Thanks for replying.
>
> It gets added when the the first form is submitted - giving the
> customer a chance to check their details. and yes I missed off
> /shopping-cart/ above, my mistake.
>
> I have just tested on another server, and everything is working as it
> should be. (wish I'd thought to do that sonner).

and problem solved - I had a lot of redirects in the main WP htaccess
- deleting all of those solved the problem. Though why it was
affecting a subdomain as well, or why it used to work I'll never know.

Rich
-- 
my mind is on a permanent tangent
http://cms.elfden.co.uk/
From eduardo at ethymos.com.br  Tue Apr 28 21:36:45 2009
From: eduardo at ethymos.com.br (Eduardo Wosiack Zulian)
Date: Tue Apr 28 21:36:59 2009
Subject: [wp-hackers] Multiple category boxes / tabs in the Admin Area
Message-ID: <f14c38280904281436g311843bfp5e4eae70ad54c728@mail.gmail.com>

Probably this is my first message in this list, so hello to you all!

Well, I'm working in a project for a Non-Governamental Organization, and
like most of the NGOs around the world, they have a lot of texts, articles,
cases and campaings, wich will result in a big process of categorization. My
ideia is to add more category boxes (as you can see here
http://wordpress.org/support/topic/233789?replies=2) in the Add / Edit Post
panels to help me - and them, specially - organise all the content,
separating each one of my main categories in different boxes / tags. I've
managed to hack edit-form-advanced.php for testing, but I don't want do do
that.

So, my questions: is there a good way to manage this without hacking into
edit-form-advanced.php? Yes, I'm planning a plugin, but God, my head's a
mess theses days and I can't think clearly anymore. Should I remove
post_categories_meta_box and create my own with add_meta_box? Corrections,
suggestions and enlightenments will be much appreciated.

Thanks a lot,
-- 
Eduardo
From ryan at boren.nu  Tue Apr 28 22:37:08 2009
From: ryan at boren.nu (Ryan Boren)
Date: Tue Apr 28 22:37:22 2009
Subject: [wp-hackers] Multiple category boxes / tabs in the Admin Area
In-Reply-To: <f14c38280904281436g311843bfp5e4eae70ad54c728@mail.gmail.com>
References: <f14c38280904281436g311843bfp5e4eae70ad54c728@mail.gmail.com>
Message-ID: <c8f37c930904281537k4bd31aa8v8178c6782b28a0c4@mail.gmail.com>

On Tue, Apr 28, 2009 at 2:36 PM, Eduardo Wosiack Zulian
<eduardo@ethymos.com.br> wrote:
> Probably this is my first message in this list, so hello to you all!
>
> Well, I'm working in a project for a Non-Governamental Organization, and
> like most of the NGOs around the world, they have a lot of texts, articles,
> cases and campaings, wich will result in a big process of categorization. My
> ideia is to add more category boxes (as you can see here
> http://wordpress.org/support/topic/233789?replies=2) in the Add / Edit Post
> panels to help me - and them, specially - organise all the content,
> separating each one of my main categories in different boxes / tags. I've
> managed to hack edit-form-advanced.php for testing, but I don't want do do
> that.
>
> So, my questions: is there a good way to manage this without hacking into
> edit-form-advanced.php? Yes, I'm planning a plugin, but God, my head's a
> mess theses days and I can't think clearly anymore. Should I remove
> post_categories_meta_box and create my own with add_meta_box? Corrections,
> suggestions and enlightenments will be much appreciated.

WP 2.8 (not yet released) will show boxes for all defined tag
taxonomies. If you use register_taxonomy() to define new
non-hierarchical taxonomies, they will show on the edit screen.
Unfortunately, this is not yet done for hierarchical taxonomies like
post categories.  If you want to show multiple hierarchical taxonomies
on the edit screen you have to add the UI yourself. I think there are
some plugins that do this. Maybe this one:
http://wordpress.org/extend/plugins/custom-taxonomies/
From yahgrp at poplarware.com  Tue Apr 28 23:11:46 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Tue Apr 28 23:10:20 2009
Subject: [wp-hackers] Multiple category boxes / tabs in the Admin Area
In-Reply-To: <c8f37c930904281537k4bd31aa8v8178c6782b28a0c4@mail.gmail.com>
References: <f14c38280904281436g311843bfp5e4eae70ad54c728@mail.gmail.com>
	<c8f37c930904281537k4bd31aa8v8178c6782b28a0c4@mail.gmail.com>
Message-ID: <49F78D32.6050802@poplarware.com>

Unless I misunderstood, I don't think he's trying to define his own 
taxonomies. I think he has a large hierarchy within the standard Post 
  Categories taxonomy, and he wants to display each top-level category 
in its own box on the post edit screen, and also hide the existing 
category/tag boxes.

If that is correct, then yes you should create your own with 
add_meta_box() in a plugin. Any recent plugin that adds things to the 
post edit screen should have some examples, or if all else fails, read 
the documentation and try to do something similar:

http://codex.wordpress.org/Function_Reference/add_meta_box

You will want to make sure that when someone selects categories in 
your box, it corresponds to the same POST variables getting submitted 
as when they use the existing Categories edit section.

Removing the existing tags/categories boxes is easy -- you don't need 
a plugin. Just click on "Screen Options" when you are on the Post Edit 
screen, and un-check the Tags and Categories boxes.

Good luck!

    --Jennifer

Ryan Boren wrote:
> On Tue, Apr 28, 2009 at 2:36 PM, Eduardo Wosiack Zulian
> <eduardo@ethymos.com.br> wrote:
>> Probably this is my first message in this list, so hello to you all!
>>
>> Well, I'm working in a project for a Non-Governamental Organization, and
>> like most of the NGOs around the world, they have a lot of texts, articles,
>> cases and campaings, wich will result in a big process of categorization. My
>> ideia is to add more category boxes (as you can see here
>> http://wordpress.org/support/topic/233789?replies=2) in the Add / Edit Post
>> panels to help me - and them, specially - organise all the content,
>> separating each one of my main categories in different boxes / tags. I've
>> managed to hack edit-form-advanced.php for testing, but I don't want do do
>> that.
>>
>> So, my questions: is there a good way to manage this without hacking into
>> edit-form-advanced.php? Yes, I'm planning a plugin, but God, my head's a
>> mess theses days and I can't think clearly anymore. Should I remove
>> post_categories_meta_box and create my own with add_meta_box? Corrections,
>> suggestions and enlightenments will be much appreciated.
> 
> WP 2.8 (not yet released) will show boxes for all defined tag
> taxonomies. If you use register_taxonomy() to define new
> non-hierarchical taxonomies, they will show on the edit screen.
> Unfortunately, this is not yet done for hierarchical taxonomies like
> post categories.  If you want to show multiple hierarchical taxonomies
> on the edit screen you have to add the UI yourself. I think there are
> some plugins that do this. Maybe this one:
> http://wordpress.org/extend/plugins/custom-taxonomies/

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming

From eduardo at ethymos.com.br  Wed Apr 29 03:30:21 2009
From: eduardo at ethymos.com.br (Eduardo Wosiack Zulian)
Date: Wed Apr 29 03:30:38 2009
Subject: [wp-hackers] Multiple category boxes / tabs in the Admin Area
In-Reply-To: <49F78D32.6050802@poplarware.com>
References: <f14c38280904281436g311843bfp5e4eae70ad54c728@mail.gmail.com>
	<c8f37c930904281537k4bd31aa8v8178c6782b28a0c4@mail.gmail.com>
	<49F78D32.6050802@poplarware.com>
Message-ID: <f14c38280904282030q6a0782e6i325ec4f45421cf42@mail.gmail.com>

Almost there, Jennifer. Put each top-level category in its own box is an
idea. However, I was planning to maybe, if possible, to put these categories
into the post_categories_meta_box, side by side with the "most used" tab. Is
that possible, right?


2009/4/28 Jennifer Hodgdon <yahgrp@poplarware.com>

> Unless I misunderstood, I don't think he's trying to define his own
> taxonomies. I think he has a large hierarchy within the standard Post
>  Categories taxonomy, and he wants to display each top-level category in its
> own box on the post edit screen, and also hide the existing category/tag
> boxes.
>
> If that is correct, then yes you should create your own with add_meta_box()
> in a plugin. Any recent plugin that adds things to the post edit screen
> should have some examples, or if all else fails, read the documentation and
> try to do something similar:
>
> http://codex.wordpress.org/Function_Reference/add_meta_box
>
> You will want to make sure that when someone selects categories in your
> box, it corresponds to the same POST variables getting submitted as when
> they use the existing Categories edit section.
>
> Removing the existing tags/categories boxes is easy -- you don't need a
> plugin. Just click on "Screen Options" when you are on the Post Edit screen,
> and un-check the Tags and Categories boxes.
>
> Good luck!
>
>   --Jennifer
>
>
> Ryan Boren wrote:
>
>> On Tue, Apr 28, 2009 at 2:36 PM, Eduardo Wosiack Zulian
>> <eduardo@ethymos.com.br> wrote:
>>
>>> Probably this is my first message in this list, so hello to you all!
>>>
>>> Well, I'm working in a project for a Non-Governamental Organization, and
>>> like most of the NGOs around the world, they have a lot of texts,
>>> articles,
>>> cases and campaings, wich will result in a big process of categorization.
>>> My
>>> ideia is to add more category boxes (as you can see here
>>> http://wordpress.org/support/topic/233789?replies=2) in the Add / Edit
>>> Post
>>> panels to help me - and them, specially - organise all the content,
>>> separating each one of my main categories in different boxes / tags. I've
>>> managed to hack edit-form-advanced.php for testing, but I don't want do
>>> do
>>> that.
>>>
>>> So, my questions: is there a good way to manage this without hacking into
>>> edit-form-advanced.php? Yes, I'm planning a plugin, but God, my head's a
>>> mess theses days and I can't think clearly anymore. Should I remove
>>> post_categories_meta_box and create my own with add_meta_box?
>>> Corrections,
>>> suggestions and enlightenments will be much appreciated.
>>>
>>
>> WP 2.8 (not yet released) will show boxes for all defined tag
>> taxonomies. If you use register_taxonomy() to define new
>> non-hierarchical taxonomies, they will show on the edit screen.
>> Unfortunately, this is not yet done for hierarchical taxonomies like
>> post categories.  If you want to show multiple hierarchical taxonomies
>> on the edit screen you have to add the UI yourself. I think there are
>> some plugins that do this. Maybe this one:
>> http://wordpress.org/extend/plugins/custom-taxonomies/
>>
>
> --
> Jennifer Hodgdon * Poplar ProductivityWare
> www.poplarware.com
> Drupal, WordPress, and custom Web programming
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Eduardo W. Zulian
Ethymos Solu??es em Web
+55 41 3077-4163
www.ethymos.com.br
www.twitter.com/ethymos
From frank at bueltge.de  Wed Apr 29 10:09:27 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Wed Apr 29 10:10:02 2009
Subject: [wp-hackers] Hack in Update-Function?
Message-ID: <db047a770904290309g7b4e35ddsaae83933b450608a@mail.gmail.com>

Hello,

it is possible to hook in the update-przess of a plugin.
I have read this great tutorial:
http://dd32.id.au/2009/01/29/disable-automatic-upgrades-for-a-customised-plugin/
a not founr the filter-hook: option_update_plugins

Give it a new hook in 2.8 or works this?

Thanks for your time
Frank
From if.website at gmail.com  Wed Apr 29 10:15:27 2009
From: if.website at gmail.com (Austin Matzko)
Date: Wed Apr 29 10:15:44 2009
Subject: [wp-hackers] Hack in Update-Function?
In-Reply-To: <db047a770904290309g7b4e35ddsaae83933b450608a@mail.gmail.com>
References: <db047a770904290309g7b4e35ddsaae83933b450608a@mail.gmail.com>
Message-ID: <674b4a3b0904290315s111867c6we4222c6b1e07f27c@mail.gmail.com>

On Wed, Apr 29, 2009 at 5:09 AM, Frank Bueltge <frank@bueltge.de> wrote:
> it is possible to hook in the update-przess of a plugin.
> I have read this great tutorial:
> http://dd32.id.au/2009/01/29/disable-automatic-upgrades-for-a-customised-plugin/
> a not founr the filter-hook: option_update_plugins

All options can filtered with a filter hook like so: option_[option name]

See http://codex.wordpress.org/Plugin_API/Filter_Reference

This mailing list is for development issues, so in the future please
post support questions like this at the support forum:
http://wordpress.org/support/
From kikizas at gmail.com  Wed Apr 29 10:26:54 2009
From: kikizas at gmail.com (Demetris)
Date: Wed Apr 29 10:27:07 2009
Subject: [wp-hackers] Hack in Update-Function?
In-Reply-To: <674b4a3b0904290315s111867c6we4222c6b1e07f27c@mail.gmail.com>
References: <db047a770904290309g7b4e35ddsaae83933b450608a@mail.gmail.com>
	<674b4a3b0904290315s111867c6we4222c6b1e07f27c@mail.gmail.com>
Message-ID: <9f34a3610904290326v14c3c66fi3678b34c02d46276@mail.gmail.com>

See also this:

'option_update_plugins' filter won't run

<http://groups.google.com/group/wp-hackers/browse_thread/thread/a12f70d6b649c917>

Cheers!
From frank at bueltge.de  Wed Apr 29 11:34:00 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Wed Apr 29 11:34:32 2009
Subject: [wp-hackers] Hack in Update-Function?
In-Reply-To: <9f34a3610904290326v14c3c66fi3678b34c02d46276@mail.gmail.com>
References: <db047a770904290309g7b4e35ddsaae83933b450608a@mail.gmail.com> 
	<674b4a3b0904290315s111867c6we4222c6b1e07f27c@mail.gmail.com> 
	<9f34a3610904290326v14c3c66fi3678b34c02d46276@mail.gmail.com>
Message-ID: <db047a770904290434x23c9bad0pdaf90d87c36fc310@mail.gmail.com>

Thanks.
Give it more informations at the "transient"-stuff?
From latz at elektroelch.de  Wed Apr 29 12:40:25 2009
From: latz at elektroelch.de (=?ISO-8859-1?Q?Lutz_Schr=F6er?=)
Date: Wed Apr 29 12:40:41 2009
Subject: [wp-hackers] Hack in Update-Function?
In-Reply-To: <9f34a3610904290326v14c3c66fi3678b34c02d46276@mail.gmail.com>
References: <db047a770904290309g7b4e35ddsaae83933b450608a@mail.gmail.com>	<674b4a3b0904290315s111867c6we4222c6b1e07f27c@mail.gmail.com>
	<9f34a3610904290326v14c3c66fi3678b34c02d46276@mail.gmail.com>
Message-ID: <49F84AB9.6060800@elektroelch.de>

Demetris wrote:
> See also this:
>
> 'option_update_plugins' filter won't run
>
> <http://groups.google.com/group/wp-hackers/browse_thread/thread/a12f70d6b649c917>
>
>   
Argh! The "transient_update_plugin" hook does not work for me on my 
machine neither.

I'm using the hook to check if the system runs PHP 5.0+ and now I simply 
assume that people running WP2.8 also have PHP 5.0+ running, so no need 
to check for that. But it's still very unsatisfying that the code does 
not work under 2.8.

lutz

From yahgrp at poplarware.com  Wed Apr 29 14:39:40 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Wed Apr 29 14:38:21 2009
Subject: [wp-hackers] Multiple category boxes / tabs in the Admin Area
In-Reply-To: <f14c38280904282030q6a0782e6i325ec4f45421cf42@mail.gmail.com>
References: <f14c38280904281436g311843bfp5e4eae70ad54c728@mail.gmail.com>	<c8f37c930904281537k4bd31aa8v8178c6782b28a0c4@mail.gmail.com>	<49F78D32.6050802@poplarware.com>
	<f14c38280904282030q6a0782e6i325ec4f45421cf42@mail.gmail.com>
Message-ID: <49F866AC.1030602@poplarware.com>

Ah, that's quite different. The meta_box() function lets you add 
separate boxes to the edit screen. If you want to modify a built-in 
box, the code that creates that built-in box would need to have an 
"action" hook call in it that would let plugins add to the box 
(assuming you don't want to hack core).

It doesn't appear to me that the post_categories_meta_box() function 
in wp-admin/edit-form-advanced.php has such a hook right now, but if 
you file a bug on trac.wordpress.org with a patch that adds an action 
hook call, you can probably get it added to 2.8 (the WP Powers that Be 
are usually pretty receptive to these additions). Meanwhile, you can 
hack core by adding just that one line to the file, which isn't quite 
as bad as totally rewriting the function.

Good luck!
   --Jennifer

ps: I don't know how familiar you are with WP "action" hooks... the 
line you would want to add to core WP is something like this:

do_action( 'post_categories_meta_box' );

And your plugin would have:

add_action( 'post_categories_meta_box', 'myplugin_myfunctionname' );
function myplugin_myfunctionname() {
    //print out your addition to the box
}

Anyway, you could try this out, and if it works, file a Trac bug to 
get the do_action line added to core.

Eduardo Wosiack Zulian wrote:
> Almost there, Jennifer. Put each top-level category in its own box is an
> idea. However, I was planning to maybe, if possible, to put these categories
> into the post_categories_meta_box, side by side with the "most used" tab. Is
> that possible, right?

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming

From danf at eliresearch.com  Wed Apr 29 22:10:25 2009
From: danf at eliresearch.com (Dan Fellars)
Date: Wed Apr 29 22:11:28 2009
Subject: [wp-hackers] Optimize Post Meta Query
Message-ID: <AFF9A1A87EACDD418AF3FC7B77548E6104437A0C@MI8NYCMAIL17.Mi8.com>

I use the postmeta table pretty extensively for CMS-like capabilities  (
I have over 200k postmeta rows ).  In trying to find the culprit that is
causing a long load time on edit post pages, (using sqlmon plugin), I
found it all comes down to a single query - that I've seen take 10+
seconds to return  (even when I run it in a database client outside of
wp ):

 

SELECT meta_key
FROM wp_postmeta
WHERE meta_key NOT LIKE '\_%'
GROUP BY meta_key
ORDER BY meta_id DESC
LIMIT 30

 

Any ideas on how to optimize this query?  Or am I relying too much on
postmeta?  It already has an index on the meta_key field.  I've seen
this behavior on 2 different systems.  I have mysql query_cache_size
turned on, so I would think this query would get cached, but it doesn't
appear to be.

 

 

Thanks,

Dan 

 

 

From beau at dentedreality.com.au  Wed Apr 29 22:14:18 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Wed Apr 29 22:14:31 2009
Subject: [wp-hackers] Optimize Post Meta Query
In-Reply-To: <AFF9A1A87EACDD418AF3FC7B77548E6104437A0C@MI8NYCMAIL17.Mi8.com>
References: <AFF9A1A87EACDD418AF3FC7B77548E6104437A0C@MI8NYCMAIL17.Mi8.com>
Message-ID: <902424490904291514l7b25e19eo5b153974ec297aa5@mail.gmail.com>

Just as an experiment off the top of my head, is it any faster if you
change it to this?

SELECT meta_key
FROM wp_postmeta
WHERE LEFT(meta_key, 1) != '_'
GROUP BY meta_key
ORDER BY meta_id DESC
LIMIT 30

Beau


On Wed, Apr 29, 2009 at 3:10 PM, Dan Fellars <danf@eliresearch.com> wrote:
> I use the postmeta table pretty extensively for CMS-like capabilities ?(
> I have over 200k postmeta rows ). ?In trying to find the culprit that is
> causing a long load time on edit post pages, (using sqlmon plugin), I
> found it all comes down to a single query - that I've seen take 10+
> seconds to return ?(even when I run it in a database client outside of
> wp ):
>
>
>
> SELECT meta_key
> FROM wp_postmeta
> WHERE meta_key NOT LIKE '\_%'
> GROUP BY meta_key
> ORDER BY meta_id DESC
> LIMIT 30
>
>
>
> Any ideas on how to optimize this query? ?Or am I relying too much on
> postmeta? ?It already has an index on the meta_key field. ?I've seen
> this behavior on 2 different systems. ?I have mysql query_cache_size
> turned on, so I would think this query would get cached, but it doesn't
> appear to be.
>
>
>
>
>
> Thanks,
>
> Dan
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Beau Lebens
Dented Reality
beau@dentedreality.com.au
http://dentedreality.com.au
From joseph at josephscott.org  Wed Apr 29 23:02:28 2009
From: joseph at josephscott.org (Joseph Scott)
Date: Wed Apr 29 23:02:46 2009
Subject: [wp-hackers] Optimize Post Meta Query
In-Reply-To: <AFF9A1A87EACDD418AF3FC7B77548E6104437A0C@MI8NYCMAIL17.Mi8.com>
References: <AFF9A1A87EACDD418AF3FC7B77548E6104437A0C@MI8NYCMAIL17.Mi8.com>
Message-ID: <DC79F96B-9DE8-4422-925A-AA17AD464419@josephscott.org>


On Apr 29, 2009, at 4:10 PM, Dan Fellars wrote:

> I use the postmeta table pretty extensively for CMS-like  
> capabilities  (
> I have over 200k postmeta rows ).  In trying to find the culprit  
> that is
> causing a long load time on edit post pages, (using sqlmon plugin), I
> found it all comes down to a single query - that I've seen take 10+
> seconds to return  (even when I run it in a database client outside of
> wp ):
>


I might be missing a detail here, but seems like the obvious thing to  
do is include the post_id field in the WHERE clause.  Since you said  
this is on the edit post screen already there's no point in getting  
postmeta for other posts.  The post_id field is indexed as well, which  
will help speed things up.  The EXPLAIN results of your original query  
indicate that the meta_key index isn't directly usable (isn't listed  
as a possible key), but is used any way because it's likely faster  
than a full table scan.  When I added post_id to your query it used  
that index instead and EXPLAIN dropped the number of estimated rows  
dramatically (down to 7 from 237) since it can focus on just the rows  
for that post.


>
>
> SELECT meta_key
> FROM wp_postmeta
> WHERE meta_key NOT LIKE '\_%'
> GROUP BY meta_key
> ORDER BY meta_id DESC
> LIMIT 30
>
>
>
> Any ideas on how to optimize this query?  Or am I relying too much on
> postmeta?  It already has an index on the meta_key field.  I've seen
> this behavior on 2 different systems.  I have mysql query_cache_size
> turned on, so I would think this query would get cached, but it  
> doesn't
> appear to be.


--
Joseph Scott
joseph@josephscott.org
http://josephscott.org/




From ryan at boren.nu  Wed Apr 29 23:08:34 2009
From: ryan at boren.nu (Ryan Boren)
Date: Wed Apr 29 23:09:15 2009
Subject: [wp-hackers] Optimize Post Meta Query
In-Reply-To: <DC79F96B-9DE8-4422-925A-AA17AD464419@josephscott.org>
References: <AFF9A1A87EACDD418AF3FC7B77548E6104437A0C@MI8NYCMAIL17.Mi8.com>
	<DC79F96B-9DE8-4422-925A-AA17AD464419@josephscott.org>
Message-ID: <c8f37c930904291608y6e287b5cy3fa3fd55dcda977d@mail.gmail.com>

On Wed, Apr 29, 2009 at 4:02 PM, Joseph Scott <joseph@josephscott.org> wrote:
>
> On Apr 29, 2009, at 4:10 PM, Dan Fellars wrote:
>
>> I use the postmeta table pretty extensively for CMS-like capabilities ?(
>> I have over 200k postmeta rows ). ?In trying to find the culprit that is
>> causing a long load time on edit post pages, (using sqlmon plugin), I
>> found it all comes down to a single query - that I've seen take 10+
>> seconds to return ?(even when I run it in a database client outside of
>> wp ):
>>
>
>
> I might be missing a detail here, but seems like the obvious thing to do is
> include the post_id field in the WHERE clause. ?Since you said this is on
> the edit post screen already there's no point in getting postmeta for other
> posts. ?The post_id field is indexed as well, which will help speed things
> up. ?The EXPLAIN results of your original query indicate that the meta_key
> index isn't directly usable (isn't listed as a possible key), but is used
> any way because it's likely faster than a full table scan. ?When I added
> post_id to your query it used that index instead and EXPLAIN dropped the
> number of estimated rows dramatically (down to 7 from 237) since it can
> focus on just the rows for that post.

meta_form() does that query to create a list of all meta keys
(regardless of post) except for ones starting with an underscore.
This is used in the Custom Fields box to populate a dropdown of
existing keys.  To keep that behavior we can't limit by post, but the
query could definitely be improved.
From ryan at boren.nu  Wed Apr 29 23:34:48 2009
From: ryan at boren.nu (Ryan Boren)
Date: Wed Apr 29 23:35:13 2009
Subject: [wp-hackers] Optimize Post Meta Query
In-Reply-To: <c8f37c930904291608y6e287b5cy3fa3fd55dcda977d@mail.gmail.com>
References: <AFF9A1A87EACDD418AF3FC7B77548E6104437A0C@MI8NYCMAIL17.Mi8.com>
	<DC79F96B-9DE8-4422-925A-AA17AD464419@josephscott.org>
	<c8f37c930904291608y6e287b5cy3fa3fd55dcda977d@mail.gmail.com>
Message-ID: <c8f37c930904291634t1ec6b18er569251b0b45b6409@mail.gmail.com>

On Wed, Apr 29, 2009 at 4:08 PM, Ryan Boren <ryan@boren.nu> wrote:
> meta_form() does that query to create a list of all meta keys
> (regardless of post) except for ones starting with an underscore.
> This is used in the Custom Fields box to populate a dropdown of
> existing keys. ?To keep that behavior we can't limit by post, but the
> query could definitely be improved.
>

http://core.trac.wordpress.org/changeset/11132

No more temporary table.
From abelcheung at gmail.com  Thu Apr 30 03:08:54 2009
From: abelcheung at gmail.com (Abel Cheung)
Date: Thu Apr 30 03:09:10 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <C60D074D.2E6B2%chris@clwill.com>
References: <e05a63ba0904161527y37e1c42bw5f506521f732c00a@mail.gmail.com>
	<C60D074D.2E6B2%chris@clwill.com>
Message-ID: <df41a9470904292008x37013bere947bd9d2dd0f267@mail.gmail.com>

On Fri, Apr 17, 2009 at 7:03 AM, Chris Williams <chris@clwill.com> wrote:
> immediately put in the appropriate patch -- exactly as I was told to here.
> Nothing has happened to it. ?AFAIK, nobody with any power has even looked at
> it. ?No feedback, no action, nada.

Two months is simply nothing.
Almost a whole year for me on a few lines that's improvement and
doesn't affect existing functionality. I'm not even allowed to remove
my own ticket now.

Abel



> Hard to get excited about finding and fixing bugs when the process is obtuse
> and with little/no feedback.
>
> Chris
>
>
>> From: "Ibrahim A. Mohamed" <bingorabbit@gmail.com>
>> Reply-To: <wp-hackers@lists.automattic.com>
>> Date: Fri, 17 Apr 2009 00:27:47 +0200
>> To: <wp-hackers@lists.automattic.com>
>> Subject: Re: [wp-hackers] 24-hour has-patch marathon TODAY
>>
>> Hello,
>>
>> I think it will be better if you stopped this discussion and found some
>> patches to test or to add to the opened tickets, wasting your time in a
>> letter typed here - that won't change something that is already on - can be
>> a letter in the code typed there.
>>
>> Thanks in Advance!
>>
>> On Thu, Apr 16, 2009 at 10:58 PM, Dougal Campbell <dougal@gunters.org>wrote:
>>
>>> Mike Schinkel wrote:
>>>
>>>> "Matt Martz" <mdmartz@sivel.net> wrote:
>>>>
>>>>
>>>>> If you read the dev blog then you should have heard about this 2 days ago
>>>>> when the post was made.
>>>>>
>>>>>
>>>>
>>>> 2 days is still very short notice.
>>>>
>>>>
>>>
>>> I agree. Especially when one of those days is Tax Day here in the U.S. I
>>> was one of the procrastinators who spent all day yesterday finishing up my
>>> taxes (and really it wasn't just procrastination -- my family has had a lot
>>> going on that made it hard to make time for it before now), so I didn't see
>>> the info about it until this morning. If it had been scheduled about a week
>>> later, I might have been able to participate in some patch testing/creation.
>>> :-/
>>>
>>> That said, I think the original complaint kind of banged on Automattic a
>>> bit unfairly. There's nothing to stop us "regular" WP community members from
>>> contributing our thoughts, code, patches, testing, etc. at any given time.
>>> On the other hand, since Automattic *does* basically have the role of
>>> Benevolent Dictator, it *would* be nice if they'd lay out the Roadmap a
>>> little more clearly/transparently and communicate upcoming
>>> milestones/deadlines in advance.
>>>
>>> I'm not sayin', I'm just sayin'. ;)
>>>
>>> --
>>> Dougal Campbell <dougal@gunters.org>
>>> http://dougal.gunters.org/
>>> http://twitter.com/dougal
>>> http://twitual.com/
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>>
>> --
>> Regards,
>> Ibrahim Abdel Fattah Mohamed
>> Web Developer
>> Twitter: @bingorabbit
>> e-mail: bingorabbit@gmail.com
>> Personal bLOG: http://bingorabbit.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Abel Cheung   (GPG Key: 0xC67186FF)
Key fingerprint: 671C C7AE EFB5 110C D6D1  41EE 4152 E1F1 C671 86FF
--------------------------------------------------------------------
* My blog: http://me.abelcheung.org/
* Opensource Application Knowledge Assoc. - http://oaka.org/
From scribu at gmail.com  Thu Apr 30 06:18:43 2009
From: scribu at gmail.com (scribu)
Date: Thu Apr 30 06:19:06 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <df41a9470904292008x37013bere947bd9d2dd0f267@mail.gmail.com>
References: <e05a63ba0904161527y37e1c42bw5f506521f732c00a@mail.gmail.com>
	<C60D074D.2E6B2%chris@clwill.com>
	<df41a9470904292008x37013bere947bd9d2dd0f267@mail.gmail.com>
Message-ID: <349fe48b0904292318v1863b067g2ba672d7c7260b23@mail.gmail.com>

> Two months is simply nothing.
> Almost a whole year for me on a few lines that's improvement and
> doesn't affect existing functionality. I'm not even allowed to remove
> my own ticket now.

Perhaps we should start tagging simple patches with the tag "simple"
or "quick" in the hope that it will be reviewed faster?

Of course this defacto standard would need some publicity to be helpful.

-- 
http://scribu.net
From wp-hackers at striderweb.com  Thu Apr 30 12:39:53 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu Apr 30 13:15:44 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <349fe48b0904292318v1863b067g2ba672d7c7260b23@mail.gmail.com>
References: <e05a63ba0904161527y37e1c42bw5f506521f732c00a@mail.gmail.com>
	<C60D074D.2E6B2%chris@clwill.com>
	<df41a9470904292008x37013bere947bd9d2dd0f267@mail.gmail.com>
	<349fe48b0904292318v1863b067g2ba672d7c7260b23@mail.gmail.com>
Message-ID: <1223777C-BC3A-4027-97FA-5EB00D08C040@striderweb.com>


On Apr 30, 2009, at 1:18 AM, scribu wrote:

> Perhaps we should start tagging simple patches with the tag "simple"
> or "quick" in the hope that it will be reviewed faster?
>
> Of course this defacto standard would need some publicity to be  
> helpful.

LOL.  Better go with "simple".  "Quick" would be used by anyone who  
wants their patch committed NOW.

Stephen


-- 
Stephen Rider
http://striderweb.com/




From ozh at planetozh.com  Thu Apr 30 13:49:22 2009
From: ozh at planetozh.com (Ozh)
Date: Thu Apr 30 13:49:38 2009
Subject: [wp-hackers] Storing IP's in the DB
Message-ID: <ae81acd10904300649m1a16708cy2e43d0998053445b@mail.gmail.com>

Hey peeps

I've read that it's better & faster to store IP as integers instead of
strings, and then using INET_ATON / INET_NTOA functions to convert
(the argument being that MySQL is faster with numbers than with
strings)

Any reason why WP is not doing this?

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From malaiac at gmail.com  Thu Apr 30 13:58:23 2009
From: malaiac at gmail.com (Malaiac)
Date: Thu Apr 30 13:58:54 2009
Subject: [wp-hackers] no hooks to current_user_can with an item id ?
Message-ID: <59e7f3130904300658m3f47677dp14e5c9a0acac1333@mail.gmail.com>

<I may be wrong>
is there any way to hook on capabilities check with an post id ?

current_user_can('edit_<item_type>',$item->id);
> $current_user->has_cap($args);
> $caps = call_user_func_array( 'map_meta_cap', $args ); << inside map meta cap would be a nice place to change,
FROM (wp-includes/capabilities.php , around line 903) :
	default:
		// If no meta caps match, return the original cap.
		$caps[] = $cap;

TO :
	default:
		$caps = apply_filters("map_meta_cap_$cap",$args);
		// If no meta caps match, return the original cap.
		$caps[] = $cap;
> then a boolean true false is returned, without filtering.


Any way I could hook somewhere ?
(btw, the cap is 'edit_link', I'm trying to add rights granularity to
link edition)

Malaiac
From supporto at pixline.net  Thu Apr 30 14:05:30 2009
From: supporto at pixline.net (=?WINDOWS-1252?Q?Pixline_=9B_Paolo_Tresso?=)
Date: Thu Apr 30 14:06:00 2009
Subject: [wp-hackers] Storing IP's in the DB
In-Reply-To: <ae81acd10904300649m1a16708cy2e43d0998053445b@mail.gmail.com>
References: <ae81acd10904300649m1a16708cy2e43d0998053445b@mail.gmail.com>
Message-ID: <3065E404-6200-4F6E-B5B9-93010683861C@pixline.net>


Il giorno 30/apr/09, alle ore 15:49, Ozh ha scritto:

> I've read that it's better & faster to store IP as integers instead of
> strings, and then using INET_ATON / INET_NTOA functions to convert
> (the argument being that MySQL is faster with numbers than with
> strings)

I've recently switched a legacy nonWP code to use INET_* and this  
technique, and I'm really satisfied with the results, so +1 on this.

> Any reason why WP is not doing this?

I'd love to see in the next releases a major focus on optimization  
(and something is already going on); this is a minor thing but would  
be really nice.

Paolo/Pixline
From yahgrp at poplarware.com  Thu Apr 30 14:14:33 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Thu Apr 30 14:13:55 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <1223777C-BC3A-4027-97FA-5EB00D08C040@striderweb.com>
References: <e05a63ba0904161527y37e1c42bw5f506521f732c00a@mail.gmail.com>	<C60D074D.2E6B2%chris@clwill.com>	<df41a9470904292008x37013bere947bd9d2dd0f267@mail.gmail.com>	<349fe48b0904292318v1863b067g2ba672d7c7260b23@mail.gmail.com>
	<1223777C-BC3A-4027-97FA-5EB00D08C040@striderweb.com>
Message-ID: <49F9B249.9080309@poplarware.com>

>> Perhaps we should start tagging simple patches with the tag "simple"
>> or "quick" in the hope that it will be reviewed faster?
>>
>> Of course this defacto standard would need some publicity to be helpful.
> 
> LOL.  Better go with "simple".  "Quick" would be used by anyone who 
> wants their patch committed NOW.

"Quick" can also refer to the "quick edit" functionality in WP, so it 
might not be a useful tag search term. So I'm definitely +1 on making 
"simple" an official keyword.

 From a practical perspective, you would need to add the new keyword to
    http://codex.wordpress.org/Reporting_Bugs#Trac_Keywords
and also it would be useful to make a query that looks for "has-patch" 
with "simple" at
   http://core.trac.wordpress.org/report
to make it useful. Anyone can edit the Codex, but I believe a Trac 
admin needs to add the new query.

Or better yet, maybe add "has-patch" + "simple" to the {9} Commit 
Candidates query on the Reports page?

    --Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming

From dougal at gunters.org  Thu Apr 30 14:15:50 2009
From: dougal at gunters.org (Dougal Campbell)
Date: Thu Apr 30 14:16:07 2009
Subject: [wp-hackers] Storing IP's in the DB
In-Reply-To: <ae81acd10904300649m1a16708cy2e43d0998053445b@mail.gmail.com>
References: <ae81acd10904300649m1a16708cy2e43d0998053445b@mail.gmail.com>
Message-ID: <49F9B296.3020800@gunters.org>

Ozh wrote:
> Hey peeps
>
> I've read that it's better & faster to store IP as integers instead of
> strings, and then using INET_ATON / INET_NTOA functions to convert
> (the argument being that MySQL is faster with numbers than with
> strings)
>
> Any reason why WP is not doing this?
>   

The only place that Core stores IP numbers is for comments, right? Do we 
ever do any indexing by IP number? Even if so, it's not a very common 
operation. It's probably mostly a case of "If it ain't broke, don't fix 
it." There's just not much to gain by changing that, except for the rare 
case of sites that spend a lot of time reviewing zillions of spam 
comments and grouping/sorting them by IP.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/
From eduardo at ethymos.com.br  Thu Apr 30 13:57:29 2009
From: eduardo at ethymos.com.br (Eduardo Wosiack Zulian)
Date: Thu Apr 30 14:22:16 2009
Subject: [wp-hackers] Multiple category boxes / tabs in the Admin Area
In-Reply-To: <49F866AC.1030602@poplarware.com>
References: <f14c38280904281436g311843bfp5e4eae70ad54c728@mail.gmail.com>
	<c8f37c930904281537k4bd31aa8v8178c6782b28a0c4@mail.gmail.com>
	<49F78D32.6050802@poplarware.com>
	<f14c38280904282030q6a0782e6i325ec4f45421cf42@mail.gmail.com>
	<49F866AC.1030602@poplarware.com>
Message-ID: <f14c38280904300657u158ce104u9c5eac69fa81c98a@mail.gmail.com>

I'll do it. Thanks a lot, Jennifer!

-- 
Eduardo

2009/4/29 Jennifer Hodgdon <yahgrp@poplarware.com>

> Ah, that's quite different. The meta_box() function lets you add separate
> boxes to the edit screen. If you want to modify a built-in box, the code
> that creates that built-in box would need to have an "action" hook call in
> it that would let plugins add to the box (assuming you don't want to hack
> core).
>
> It doesn't appear to me that the post_categories_meta_box() function in
> wp-admin/edit-form-advanced.php has such a hook right now, but if you file a
> bug on trac.wordpress.org with a patch that adds an action hook call, you
> can probably get it added to 2.8 (the WP Powers that Be are usually pretty
> receptive to these additions). Meanwhile, you can hack core by adding just
> that one line to the file, which isn't quite as bad as totally rewriting the
> function.
>
> Good luck!
>  --Jennifer
>
> ps: I don't know how familiar you are with WP "action" hooks... the line
> you would want to add to core WP is something like this:
>
> do_action( 'post_categories_meta_box' );
>
> And your plugin would have:
>
> add_action( 'post_categories_meta_box', 'myplugin_myfunctionname' );
> function myplugin_myfunctionname() {
>   //print out your addition to the box
> }
>
> Anyway, you could try this out, and if it works, file a Trac bug to get the
> do_action line added to core.
>
> Eduardo Wosiack Zulian wrote:
>
>> Almost there, Jennifer. Put each top-level category in its own box is an
>> idea. However, I was planning to maybe, if possible, to put these
>> categories
>> into the post_categories_meta_box, side by side with the "most used" tab.
>> Is
>> that possible, right?
>>
>
> --
> Jennifer Hodgdon * Poplar ProductivityWare
> www.poplarware.com
> Drupal, WordPress, and custom Web programming
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Eduardo W. Zulian
Ethymos Solu??es em Web
+55 41 3077-4163
www.ethymos.com.br
www.twitter.com/ethymos
From johnbillion+wp at gmail.com  Thu Apr 30 14:25:59 2009
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu Apr 30 14:28:23 2009
Subject: [wp-hackers] 24-hour has-patch marathon TODAY
In-Reply-To: <49F9B249.9080309@poplarware.com>
References: <e05a63ba0904161527y37e1c42bw5f506521f732c00a@mail.gmail.com>
	<C60D074D.2E6B2%chris@clwill.com>
	<df41a9470904292008x37013bere947bd9d2dd0f267@mail.gmail.com>
	<349fe48b0904292318v1863b067g2ba672d7c7260b23@mail.gmail.com>
	<1223777C-BC3A-4027-97FA-5EB00D08C040@striderweb.com>
	<49F9B249.9080309@poplarware.com>
Message-ID: <1fa535a70904300725j2a711f84n7031a6f6a7579219@mail.gmail.com>

How about "simple-patch" in addition to "has-patch" ?

2009/4/30 Jennifer Hodgdon <yahgrp@poplarware.com>
>>>
>>> Perhaps we should start tagging simple patches with the tag "simple"
>>> or "quick" in the hope that it will be reviewed faster?
>>>
>>> Of course this defacto standard would need some publicity to be helpful.
>>
>> LOL. ?Better go with "simple". ?"Quick" would be used by anyone who wants their patch committed NOW.
>
> "Quick" can also refer to the "quick edit" functionality in WP, so it might not be a useful tag search term. So I'm definitely +1 on making "simple" an official keyword.
>
> From a practical perspective, you would need to add the new keyword to
> ? http://codex.wordpress.org/Reporting_Bugs#Trac_Keywords
> and also it would be useful to make a query that looks for "has-patch" with "simple" at
> ?http://core.trac.wordpress.org/report
> to make it useful. Anyone can edit the Codex, but I believe a Trac admin needs to add the new query.
>
> Or better yet, maybe add "has-patch" + "simple" to the {9} Commit Candidates query on the Reports page?
>
> ? --Jennifer
>
> --
> Jennifer Hodgdon * Poplar ProductivityWare
> www.poplarware.com
> Drupal, WordPress, and custom Web programming
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From frank at bueltge.de  Thu Apr 30 20:06:57 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Thu Apr 30 20:07:27 2009
Subject: [wp-hackers] add_meta_box without checked?
Message-ID: <db047a770904301306y147b4508v850dddcabf159e37@mail.gmail.com>

Hello,

my problem:
i add metaboxes to the post and page-area in backend. Default was add the
box on all users.
I will add new boxes without default add the box, only when add this boxes
on the metabox-prefs , the "Show on screen" options.

An idea for this problem?
I have no found a hook or script to do this, only the function
manage_columns_prefs() for add the checkboxes.

Thanks for your time.
Best regards
Frank
